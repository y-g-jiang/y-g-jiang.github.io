var H_=Object.defineProperty;var V_=(e,t,r)=>t in e?H_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var dn=(e,t,r)=>V_(e,typeof t!="symbol"?t+"":t,r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();var ju=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Et(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var X2={exports:{}},Vd={},K2={exports:{}},Ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nu=Symbol.for("react.element"),X_=Symbol.for("react.portal"),K_=Symbol.for("react.fragment"),Y_=Symbol.for("react.strict_mode"),q_=Symbol.for("react.profiler"),Z_=Symbol.for("react.provider"),Q_=Symbol.for("react.context"),J_=Symbol.for("react.forward_ref"),eN=Symbol.for("react.suspense"),tN=Symbol.for("react.memo"),rN=Symbol.for("react.lazy"),Iv=Symbol.iterator;function nN(e){return e===null||typeof e!="object"?null:(e=Iv&&e[Iv]||e["@@iterator"],typeof e=="function"?e:null)}var Y2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q2=Object.assign,Z2={};function qs(e,t,r){this.props=e,this.context=t,this.refs=Z2,this.updater=r||Y2}qs.prototype.isReactComponent={};qs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};qs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Q2(){}Q2.prototype=qs.prototype;function Rm(e,t,r){this.props=e,this.context=t,this.refs=Z2,this.updater=r||Y2}var Lm=Rm.prototype=new Q2;Lm.constructor=Rm;q2(Lm,qs.prototype);Lm.isPureReactComponent=!0;var Bv=Array.isArray,J2=Object.prototype.hasOwnProperty,Im={current:null},ek={key:!0,ref:!0,__self:!0,__source:!0};function tk(e,t,r){var n,a={},o=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)J2.call(t,n)&&!ek.hasOwnProperty(n)&&(a[n]=t[n]);var s=arguments.length-2;if(s===1)a.children=r;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(n in s=e.defaultProps,s)a[n]===void 0&&(a[n]=s[n]);return{$$typeof:nu,type:e,key:o,ref:i,props:a,_owner:Im.current}}function aN(e,t){return{$$typeof:nu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Bm(e){return typeof e=="object"&&e!==null&&e.$$typeof===nu}function oN(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Fv=/\/+/g;function op(e,t){return typeof e=="object"&&e!==null&&e.key!=null?oN(""+e.key):t.toString(36)}function af(e,t,r,n,a){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case nu:case X_:i=!0}}if(i)return i=e,a=a(i),e=n===""?"."+op(i,0):n,Bv(a)?(r="",e!=null&&(r=e.replace(Fv,"$&/")+"/"),af(a,t,r,"",function(c){return c})):a!=null&&(Bm(a)&&(a=aN(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(Fv,"$&/")+"/")+e)),t.push(a)),1;if(i=0,n=n===""?".":n+":",Bv(e))for(var s=0;s<e.length;s++){o=e[s];var l=n+op(o,s);i+=af(o,t,r,l,a)}else if(l=nN(e),typeof l=="function")for(e=l.call(e),s=0;!(o=e.next()).done;)o=o.value,l=n+op(o,s++),i+=af(o,t,r,l,a);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Ou(e,t,r){if(e==null)return e;var n=[],a=0;return af(e,n,"","",function(o){return t.call(r,o,a++)}),n}function iN(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var vn={current:null},of={transition:null},sN={ReactCurrentDispatcher:vn,ReactCurrentBatchConfig:of,ReactCurrentOwner:Im};function rk(){throw Error("act(...) is not supported in production builds of React.")}Ze.Children={map:Ou,forEach:function(e,t,r){Ou(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ou(e,function(){t++}),t},toArray:function(e){return Ou(e,function(t){return t})||[]},only:function(e){if(!Bm(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ze.Component=qs;Ze.Fragment=K_;Ze.Profiler=q_;Ze.PureComponent=Rm;Ze.StrictMode=Y_;Ze.Suspense=eN;Ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sN;Ze.act=rk;Ze.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=q2({},e.props),a=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=Im.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)J2.call(t,l)&&!ek.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];n.children=s}return{$$typeof:nu,type:e.type,key:a,ref:o,props:n,_owner:i}};Ze.createContext=function(e){return e={$$typeof:Q_,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Z_,_context:e},e.Consumer=e};Ze.createElement=tk;Ze.createFactory=function(e){var t=tk.bind(null,e);return t.type=e,t};Ze.createRef=function(){return{current:null}};Ze.forwardRef=function(e){return{$$typeof:J_,render:e}};Ze.isValidElement=Bm;Ze.lazy=function(e){return{$$typeof:rN,_payload:{_status:-1,_result:e},_init:iN}};Ze.memo=function(e,t){return{$$typeof:tN,type:e,compare:t===void 0?null:t}};Ze.startTransition=function(e){var t=of.transition;of.transition={};try{e()}finally{of.transition=t}};Ze.unstable_act=rk;Ze.useCallback=function(e,t){return vn.current.useCallback(e,t)};Ze.useContext=function(e){return vn.current.useContext(e)};Ze.useDebugValue=function(){};Ze.useDeferredValue=function(e){return vn.current.useDeferredValue(e)};Ze.useEffect=function(e,t){return vn.current.useEffect(e,t)};Ze.useId=function(){return vn.current.useId()};Ze.useImperativeHandle=function(e,t,r){return vn.current.useImperativeHandle(e,t,r)};Ze.useInsertionEffect=function(e,t){return vn.current.useInsertionEffect(e,t)};Ze.useLayoutEffect=function(e,t){return vn.current.useLayoutEffect(e,t)};Ze.useMemo=function(e,t){return vn.current.useMemo(e,t)};Ze.useReducer=function(e,t,r){return vn.current.useReducer(e,t,r)};Ze.useRef=function(e){return vn.current.useRef(e)};Ze.useState=function(e){return vn.current.useState(e)};Ze.useSyncExternalStore=function(e,t,r){return vn.current.useSyncExternalStore(e,t,r)};Ze.useTransition=function(){return vn.current.useTransition()};Ze.version="18.3.1";K2.exports=Ze;var O=K2.exports;const M=Et(O);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lN=O,cN=Symbol.for("react.element"),uN=Symbol.for("react.fragment"),fN=Object.prototype.hasOwnProperty,dN=lN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,hN={key:!0,ref:!0,__self:!0,__source:!0};function nk(e,t,r){var n,a={},o=null,i=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)fN.call(t,n)&&!hN.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:cN,type:e,key:o,ref:i,props:a,_owner:dN.current}}Vd.Fragment=uN;Vd.jsx=nk;Vd.jsxs=nk;X2.exports=Vd;var u=X2.exports,d0={},ak={exports:{}},Gn={},ok={exports:{}},ik={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,$){var G=R.length;R.push($);e:for(;0<G;){var ee=G-1>>>1,Q=R[ee];if(0<a(Q,$))R[ee]=$,R[G]=Q,G=ee;else break e}}function r(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var $=R[0],G=R.pop();if(G!==$){R[0]=G;e:for(var ee=0,Q=R.length,q=Q>>>1;ee<q;){var K=2*(ee+1)-1,le=R[K],ue=K+1,Se=R[ue];if(0>a(le,G))ue<Q&&0>a(Se,le)?(R[ee]=Se,R[ue]=G,ee=ue):(R[ee]=le,R[K]=G,ee=K);else if(ue<Q&&0>a(Se,G))R[ee]=Se,R[ue]=G,ee=ue;else break e}}return $}function a(R,$){var G=R.sortIndex-$.sortIndex;return G!==0?G:R.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,s=i.now();e.unstable_now=function(){return i.now()-s}}var l=[],c=[],f=1,d=null,h=3,p=!1,m=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(R){for(var $=r(c);$!==null;){if($.callback===null)n(c);else if($.startTime<=R)n(c),$.sortIndex=$.expirationTime,t(l,$);else break;$=r(c)}}function S(R){if(v=!1,b(R),!m)if(r(l)!==null)m=!0,U(w);else{var $=r(c);$!==null&&B(S,$.startTime-R)}}function w(R,$){m=!1,v&&(v=!1,y(P),P=-1),p=!0;var G=h;try{for(b($),d=r(l);d!==null&&(!(d.expirationTime>$)||R&&!N());){var ee=d.callback;if(typeof ee=="function"){d.callback=null,h=d.priorityLevel;var Q=ee(d.expirationTime<=$);$=e.unstable_now(),typeof Q=="function"?d.callback=Q:d===r(l)&&n(l),b($)}else n(l);d=r(l)}if(d!==null)var q=!0;else{var K=r(c);K!==null&&B(S,K.startTime-$),q=!1}return q}finally{d=null,h=G,p=!1}}var k=!1,j=null,P=-1,_=5,A=-1;function N(){return!(e.unstable_now()-A<_)}function C(){if(j!==null){var R=e.unstable_now();A=R;var $=!0;try{$=j(!0,R)}finally{$?F():(k=!1,j=null)}}else k=!1}var F;if(typeof g=="function")F=function(){g(C)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,I=L.port2;L.port1.onmessage=C,F=function(){I.postMessage(null)}}else F=function(){x(C,0)};function U(R){j=R,k||(k=!0,F())}function B(R,$){P=x(function(){R(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,U(w))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(R){switch(h){case 1:case 2:case 3:var $=3;break;default:$=h}var G=h;h=$;try{return R()}finally{h=G}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,$){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var G=h;h=R;try{return $()}finally{h=G}},e.unstable_scheduleCallback=function(R,$,G){var ee=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?ee+G:ee):G=ee,R){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=G+Q,R={id:f++,callback:$,priorityLevel:R,startTime:G,expirationTime:Q,sortIndex:-1},G>ee?(R.sortIndex=G,t(c,R),r(l)===null&&R===r(c)&&(v?(y(P),P=-1):v=!0,B(S,G-ee))):(R.sortIndex=Q,t(l,R),m||p||(m=!0,U(w))),R},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(R){var $=h;return function(){var G=h;h=$;try{return R.apply(this,arguments)}finally{h=G}}}})(ik);ok.exports=ik;var pN=ok.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gN=O,Wn=pN;function ae(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var sk=new Set,ac={};function Ci(e,t){gs(e,t),gs(e+"Capture",t)}function gs(e,t){for(ac[e]=t,e=0;e<t.length;e++)sk.add(t[e])}var eo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h0=Object.prototype.hasOwnProperty,mN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,zv={},Uv={};function yN(e){return h0.call(Uv,e)?!0:h0.call(zv,e)?!1:mN.test(e)?Uv[e]=!0:(zv[e]=!0,!1)}function vN(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function xN(e,t,r,n){if(t===null||typeof t>"u"||vN(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function xn(e,t,r,n,a,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var Gr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Gr[e]=new xn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Gr[t]=new xn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Gr[e]=new xn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Gr[e]=new xn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Gr[e]=new xn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Gr[e]=new xn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Gr[e]=new xn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Gr[e]=new xn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Gr[e]=new xn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Fm=/[\-:]([a-z])/g;function zm(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Fm,zm);Gr[t]=new xn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Fm,zm);Gr[t]=new xn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Fm,zm);Gr[t]=new xn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Gr[e]=new xn(e,1,!1,e.toLowerCase(),null,!1,!1)});Gr.xlinkHref=new xn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Gr[e]=new xn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Um(e,t,r,n){var a=Gr.hasOwnProperty(t)?Gr[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(xN(t,r,a,n)&&(r=null),n||a===null?yN(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var so=gN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pu=Symbol.for("react.element"),Hi=Symbol.for("react.portal"),Vi=Symbol.for("react.fragment"),Wm=Symbol.for("react.strict_mode"),p0=Symbol.for("react.profiler"),lk=Symbol.for("react.provider"),ck=Symbol.for("react.context"),Gm=Symbol.for("react.forward_ref"),g0=Symbol.for("react.suspense"),m0=Symbol.for("react.suspense_list"),Hm=Symbol.for("react.memo"),yo=Symbol.for("react.lazy"),uk=Symbol.for("react.offscreen"),Wv=Symbol.iterator;function vl(e){return e===null||typeof e!="object"?null:(e=Wv&&e[Wv]||e["@@iterator"],typeof e=="function"?e:null)}var ar=Object.assign,ip;function Rl(e){if(ip===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);ip=t&&t[1]||""}return`
`+ip+e}var sp=!1;function lp(e,t){if(!e||sp)return"";sp=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),o=n.stack.split(`
`),i=a.length-1,s=o.length-1;1<=i&&0<=s&&a[i]!==o[s];)s--;for(;1<=i&&0<=s;i--,s--)if(a[i]!==o[s]){if(i!==1||s!==1)do if(i--,s--,0>s||a[i]!==o[s]){var l=`
`+a[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=i&&0<=s);break}}}finally{sp=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Rl(e):""}function bN(e){switch(e.tag){case 5:return Rl(e.type);case 16:return Rl("Lazy");case 13:return Rl("Suspense");case 19:return Rl("SuspenseList");case 0:case 2:case 15:return e=lp(e.type,!1),e;case 11:return e=lp(e.type.render,!1),e;case 1:return e=lp(e.type,!0),e;default:return""}}function y0(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Vi:return"Fragment";case Hi:return"Portal";case p0:return"Profiler";case Wm:return"StrictMode";case g0:return"Suspense";case m0:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ck:return(e.displayName||"Context")+".Consumer";case lk:return(e._context.displayName||"Context")+".Provider";case Gm:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Hm:return t=e.displayName||null,t!==null?t:y0(e.type)||"Memo";case yo:t=e._payload,e=e._init;try{return y0(e(t))}catch{}}return null}function wN(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return y0(t);case 8:return t===Wm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Io(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function fk(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function kN(e){var t=fk(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function _u(e){e._valueTracker||(e._valueTracker=kN(e))}function dk(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=fk(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function vf(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function v0(e,t){var r=t.checked;return ar({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Gv(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Io(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function hk(e,t){t=t.checked,t!=null&&Um(e,"checked",t,!1)}function x0(e,t){hk(e,t);var r=Io(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?b0(e,t.type,r):t.hasOwnProperty("defaultValue")&&b0(e,t.type,Io(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Hv(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function b0(e,t,r){(t!=="number"||vf(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ll=Array.isArray;function is(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Io(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function w0(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ae(91));return ar({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Vv(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ae(92));if(Ll(r)){if(1<r.length)throw Error(ae(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Io(r)}}function pk(e,t){var r=Io(t.value),n=Io(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Xv(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function gk(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function k0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?gk(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Nu,mk=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Nu=Nu||document.createElement("div"),Nu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Nu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function oc(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var zl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},SN=["Webkit","ms","Moz","O"];Object.keys(zl).forEach(function(e){SN.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),zl[t]=zl[e]})});function yk(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||zl.hasOwnProperty(e)&&zl[e]?(""+t).trim():t+"px"}function vk(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=yk(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var jN=ar({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function S0(e,t){if(t){if(jN[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ae(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ae(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ae(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ae(62))}}function j0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var O0=null;function Vm(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var P0=null,ss=null,ls=null;function Kv(e){if(e=iu(e)){if(typeof P0!="function")throw Error(ae(280));var t=e.stateNode;t&&(t=Zd(t),P0(e.stateNode,e.type,t))}}function xk(e){ss?ls?ls.push(e):ls=[e]:ss=e}function bk(){if(ss){var e=ss,t=ls;if(ls=ss=null,Kv(e),t)for(e=0;e<t.length;e++)Kv(t[e])}}function wk(e,t){return e(t)}function kk(){}var cp=!1;function Sk(e,t,r){if(cp)return e(t,r);cp=!0;try{return wk(e,t,r)}finally{cp=!1,(ss!==null||ls!==null)&&(kk(),bk())}}function ic(e,t){var r=e.stateNode;if(r===null)return null;var n=Zd(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ae(231,t,typeof r));return r}var _0=!1;if(eo)try{var xl={};Object.defineProperty(xl,"passive",{get:function(){_0=!0}}),window.addEventListener("test",xl,xl),window.removeEventListener("test",xl,xl)}catch{_0=!1}function ON(e,t,r,n,a,o,i,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(f){this.onError(f)}}var Ul=!1,xf=null,bf=!1,N0=null,PN={onError:function(e){Ul=!0,xf=e}};function _N(e,t,r,n,a,o,i,s,l){Ul=!1,xf=null,ON.apply(PN,arguments)}function NN(e,t,r,n,a,o,i,s,l){if(_N.apply(this,arguments),Ul){if(Ul){var c=xf;Ul=!1,xf=null}else throw Error(ae(198));bf||(bf=!0,N0=c)}}function Ei(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function jk(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Yv(e){if(Ei(e)!==e)throw Error(ae(188))}function AN(e){var t=e.alternate;if(!t){if(t=Ei(e),t===null)throw Error(ae(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var o=a.alternate;if(o===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===r)return Yv(a),e;if(o===n)return Yv(a),t;o=o.sibling}throw Error(ae(188))}if(r.return!==n.return)r=a,n=o;else{for(var i=!1,s=a.child;s;){if(s===r){i=!0,r=a,n=o;break}if(s===n){i=!0,n=a,r=o;break}s=s.sibling}if(!i){for(s=o.child;s;){if(s===r){i=!0,r=o,n=a;break}if(s===n){i=!0,n=o,r=a;break}s=s.sibling}if(!i)throw Error(ae(189))}}if(r.alternate!==n)throw Error(ae(190))}if(r.tag!==3)throw Error(ae(188));return r.stateNode.current===r?e:t}function Ok(e){return e=AN(e),e!==null?Pk(e):null}function Pk(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Pk(e);if(t!==null)return t;e=e.sibling}return null}var _k=Wn.unstable_scheduleCallback,qv=Wn.unstable_cancelCallback,MN=Wn.unstable_shouldYield,CN=Wn.unstable_requestPaint,hr=Wn.unstable_now,EN=Wn.unstable_getCurrentPriorityLevel,Xm=Wn.unstable_ImmediatePriority,Nk=Wn.unstable_UserBlockingPriority,wf=Wn.unstable_NormalPriority,TN=Wn.unstable_LowPriority,Ak=Wn.unstable_IdlePriority,Xd=null,Ta=null;function $N(e){if(Ta&&typeof Ta.onCommitFiberRoot=="function")try{Ta.onCommitFiberRoot(Xd,e,void 0,(e.current.flags&128)===128)}catch{}}var va=Math.clz32?Math.clz32:LN,DN=Math.log,RN=Math.LN2;function LN(e){return e>>>=0,e===0?32:31-(DN(e)/RN|0)|0}var Au=64,Mu=4194304;function Il(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function kf(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,o=e.pingedLanes,i=r&268435455;if(i!==0){var s=i&~a;s!==0?n=Il(s):(o&=i,o!==0&&(n=Il(o)))}else i=r&~a,i!==0?n=Il(i):o!==0&&(n=Il(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,o=t&-t,a>=o||a===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-va(t),a=1<<r,n|=e[r],t&=~a;return n}function IN(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function BN(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-va(o),s=1<<i,l=a[i];l===-1?(!(s&r)||s&n)&&(a[i]=IN(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}function A0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Mk(){var e=Au;return Au<<=1,!(Au&4194240)&&(Au=64),e}function up(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function au(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-va(t),e[t]=r}function FN(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-va(r),o=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~o}}function Km(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-va(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var vt=0;function Ck(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ek,Ym,Tk,$k,Dk,M0=!1,Cu=[],No=null,Ao=null,Mo=null,sc=new Map,lc=new Map,bo=[],zN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zv(e,t){switch(e){case"focusin":case"focusout":No=null;break;case"dragenter":case"dragleave":Ao=null;break;case"mouseover":case"mouseout":Mo=null;break;case"pointerover":case"pointerout":sc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":lc.delete(t.pointerId)}}function bl(e,t,r,n,a,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[a]},t!==null&&(t=iu(t),t!==null&&Ym(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function UN(e,t,r,n,a){switch(t){case"focusin":return No=bl(No,e,t,r,n,a),!0;case"dragenter":return Ao=bl(Ao,e,t,r,n,a),!0;case"mouseover":return Mo=bl(Mo,e,t,r,n,a),!0;case"pointerover":var o=a.pointerId;return sc.set(o,bl(sc.get(o)||null,e,t,r,n,a)),!0;case"gotpointercapture":return o=a.pointerId,lc.set(o,bl(lc.get(o)||null,e,t,r,n,a)),!0}return!1}function Rk(e){var t=oi(e.target);if(t!==null){var r=Ei(t);if(r!==null){if(t=r.tag,t===13){if(t=jk(r),t!==null){e.blockedOn=t,Dk(e.priority,function(){Tk(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function sf(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=C0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);O0=n,r.target.dispatchEvent(n),O0=null}else return t=iu(r),t!==null&&Ym(t),e.blockedOn=r,!1;t.shift()}return!0}function Qv(e,t,r){sf(e)&&r.delete(t)}function WN(){M0=!1,No!==null&&sf(No)&&(No=null),Ao!==null&&sf(Ao)&&(Ao=null),Mo!==null&&sf(Mo)&&(Mo=null),sc.forEach(Qv),lc.forEach(Qv)}function wl(e,t){e.blockedOn===t&&(e.blockedOn=null,M0||(M0=!0,Wn.unstable_scheduleCallback(Wn.unstable_NormalPriority,WN)))}function cc(e){function t(a){return wl(a,e)}if(0<Cu.length){wl(Cu[0],e);for(var r=1;r<Cu.length;r++){var n=Cu[r];n.blockedOn===e&&(n.blockedOn=null)}}for(No!==null&&wl(No,e),Ao!==null&&wl(Ao,e),Mo!==null&&wl(Mo,e),sc.forEach(t),lc.forEach(t),r=0;r<bo.length;r++)n=bo[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<bo.length&&(r=bo[0],r.blockedOn===null);)Rk(r),r.blockedOn===null&&bo.shift()}var cs=so.ReactCurrentBatchConfig,Sf=!0;function GN(e,t,r,n){var a=vt,o=cs.transition;cs.transition=null;try{vt=1,qm(e,t,r,n)}finally{vt=a,cs.transition=o}}function HN(e,t,r,n){var a=vt,o=cs.transition;cs.transition=null;try{vt=4,qm(e,t,r,n)}finally{vt=a,cs.transition=o}}function qm(e,t,r,n){if(Sf){var a=C0(e,t,r,n);if(a===null)bp(e,t,n,jf,r),Zv(e,n);else if(UN(a,e,t,r,n))n.stopPropagation();else if(Zv(e,n),t&4&&-1<zN.indexOf(e)){for(;a!==null;){var o=iu(a);if(o!==null&&Ek(o),o=C0(e,t,r,n),o===null&&bp(e,t,n,jf,r),o===a)break;a=o}a!==null&&n.stopPropagation()}else bp(e,t,n,null,r)}}var jf=null;function C0(e,t,r,n){if(jf=null,e=Vm(n),e=oi(e),e!==null)if(t=Ei(e),t===null)e=null;else if(r=t.tag,r===13){if(e=jk(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return jf=e,null}function Lk(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(EN()){case Xm:return 1;case Nk:return 4;case wf:case TN:return 16;case Ak:return 536870912;default:return 16}default:return 16}}var So=null,Zm=null,lf=null;function Ik(){if(lf)return lf;var e,t=Zm,r=t.length,n,a="value"in So?So.value:So.textContent,o=a.length;for(e=0;e<r&&t[e]===a[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===a[o-n];n++);return lf=a.slice(e,1<n?1-n:void 0)}function cf(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Eu(){return!0}function Jv(){return!1}function Hn(e){function t(r,n,a,o,i){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(r=e[s],this[s]=r?r(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Eu:Jv,this.isPropagationStopped=Jv,this}return ar(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Eu)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Eu)},persist:function(){},isPersistent:Eu}),t}var Zs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qm=Hn(Zs),ou=ar({},Zs,{view:0,detail:0}),VN=Hn(ou),fp,dp,kl,Kd=ar({},ou,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jm,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==kl&&(kl&&e.type==="mousemove"?(fp=e.screenX-kl.screenX,dp=e.screenY-kl.screenY):dp=fp=0,kl=e),fp)},movementY:function(e){return"movementY"in e?e.movementY:dp}}),ex=Hn(Kd),XN=ar({},Kd,{dataTransfer:0}),KN=Hn(XN),YN=ar({},ou,{relatedTarget:0}),hp=Hn(YN),qN=ar({},Zs,{animationName:0,elapsedTime:0,pseudoElement:0}),ZN=Hn(qN),QN=ar({},Zs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),JN=Hn(QN),eA=ar({},Zs,{data:0}),tx=Hn(eA),tA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aA(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=nA[e])?!!t[e]:!1}function Jm(){return aA}var oA=ar({},ou,{key:function(e){if(e.key){var t=tA[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=cf(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?rA[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jm,charCode:function(e){return e.type==="keypress"?cf(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?cf(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),iA=Hn(oA),sA=ar({},Kd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rx=Hn(sA),lA=ar({},ou,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jm}),cA=Hn(lA),uA=ar({},Zs,{propertyName:0,elapsedTime:0,pseudoElement:0}),fA=Hn(uA),dA=ar({},Kd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),hA=Hn(dA),pA=[9,13,27,32],ey=eo&&"CompositionEvent"in window,Wl=null;eo&&"documentMode"in document&&(Wl=document.documentMode);var gA=eo&&"TextEvent"in window&&!Wl,Bk=eo&&(!ey||Wl&&8<Wl&&11>=Wl),nx=" ",ax=!1;function Fk(e,t){switch(e){case"keyup":return pA.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zk(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Xi=!1;function mA(e,t){switch(e){case"compositionend":return zk(t);case"keypress":return t.which!==32?null:(ax=!0,nx);case"textInput":return e=t.data,e===nx&&ax?null:e;default:return null}}function yA(e,t){if(Xi)return e==="compositionend"||!ey&&Fk(e,t)?(e=Ik(),lf=Zm=So=null,Xi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bk&&t.locale!=="ko"?null:t.data;default:return null}}var vA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ox(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!vA[e.type]:t==="textarea"}function Uk(e,t,r,n){xk(n),t=Of(t,"onChange"),0<t.length&&(r=new Qm("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Gl=null,uc=null;function xA(e){Jk(e,0)}function Yd(e){var t=qi(e);if(dk(t))return e}function bA(e,t){if(e==="change")return t}var Wk=!1;if(eo){var pp;if(eo){var gp="oninput"in document;if(!gp){var ix=document.createElement("div");ix.setAttribute("oninput","return;"),gp=typeof ix.oninput=="function"}pp=gp}else pp=!1;Wk=pp&&(!document.documentMode||9<document.documentMode)}function sx(){Gl&&(Gl.detachEvent("onpropertychange",Gk),uc=Gl=null)}function Gk(e){if(e.propertyName==="value"&&Yd(uc)){var t=[];Uk(t,uc,e,Vm(e)),Sk(xA,t)}}function wA(e,t,r){e==="focusin"?(sx(),Gl=t,uc=r,Gl.attachEvent("onpropertychange",Gk)):e==="focusout"&&sx()}function kA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Yd(uc)}function SA(e,t){if(e==="click")return Yd(t)}function jA(e,t){if(e==="input"||e==="change")return Yd(t)}function OA(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ba=typeof Object.is=="function"?Object.is:OA;function fc(e,t){if(ba(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!h0.call(t,a)||!ba(e[a],t[a]))return!1}return!0}function lx(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cx(e,t){var r=lx(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lx(r)}}function Hk(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Hk(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Vk(){for(var e=window,t=vf();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=vf(e.document)}return t}function ty(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function PA(e){var t=Vk(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Hk(r.ownerDocument.documentElement,r)){if(n!==null&&ty(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,o=Math.min(n.start,a);n=n.end===void 0?o:Math.min(n.end,a),!e.extend&&o>n&&(a=n,n=o,o=a),a=cx(r,o);var i=cx(r,n);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var _A=eo&&"documentMode"in document&&11>=document.documentMode,Ki=null,E0=null,Hl=null,T0=!1;function ux(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;T0||Ki==null||Ki!==vf(n)||(n=Ki,"selectionStart"in n&&ty(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Hl&&fc(Hl,n)||(Hl=n,n=Of(E0,"onSelect"),0<n.length&&(t=new Qm("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Ki)))}function Tu(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Yi={animationend:Tu("Animation","AnimationEnd"),animationiteration:Tu("Animation","AnimationIteration"),animationstart:Tu("Animation","AnimationStart"),transitionend:Tu("Transition","TransitionEnd")},mp={},Xk={};eo&&(Xk=document.createElement("div").style,"AnimationEvent"in window||(delete Yi.animationend.animation,delete Yi.animationiteration.animation,delete Yi.animationstart.animation),"TransitionEvent"in window||delete Yi.transitionend.transition);function qd(e){if(mp[e])return mp[e];if(!Yi[e])return e;var t=Yi[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Xk)return mp[e]=t[r];return e}var Kk=qd("animationend"),Yk=qd("animationiteration"),qk=qd("animationstart"),Zk=qd("transitionend"),Qk=new Map,fx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fo(e,t){Qk.set(e,t),Ci(t,[e])}for(var yp=0;yp<fx.length;yp++){var vp=fx[yp],NA=vp.toLowerCase(),AA=vp[0].toUpperCase()+vp.slice(1);Fo(NA,"on"+AA)}Fo(Kk,"onAnimationEnd");Fo(Yk,"onAnimationIteration");Fo(qk,"onAnimationStart");Fo("dblclick","onDoubleClick");Fo("focusin","onFocus");Fo("focusout","onBlur");Fo(Zk,"onTransitionEnd");gs("onMouseEnter",["mouseout","mouseover"]);gs("onMouseLeave",["mouseout","mouseover"]);gs("onPointerEnter",["pointerout","pointerover"]);gs("onPointerLeave",["pointerout","pointerover"]);Ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ci("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bl));function dx(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,NN(n,t,void 0,e),e.currentTarget=null}function Jk(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var i=n.length-1;0<=i;i--){var s=n[i],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&a.isPropagationStopped())break e;dx(a,s,c),o=l}else for(i=0;i<n.length;i++){if(s=n[i],l=s.instance,c=s.currentTarget,s=s.listener,l!==o&&a.isPropagationStopped())break e;dx(a,s,c),o=l}}}if(bf)throw e=N0,bf=!1,N0=null,e}function Ft(e,t){var r=t[I0];r===void 0&&(r=t[I0]=new Set);var n=e+"__bubble";r.has(n)||(eS(t,e,2,!1),r.add(n))}function xp(e,t,r){var n=0;t&&(n|=4),eS(r,e,n,t)}var $u="_reactListening"+Math.random().toString(36).slice(2);function dc(e){if(!e[$u]){e[$u]=!0,sk.forEach(function(r){r!=="selectionchange"&&(MA.has(r)||xp(r,!1,e),xp(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[$u]||(t[$u]=!0,xp("selectionchange",!1,t))}}function eS(e,t,r,n){switch(Lk(t)){case 1:var a=GN;break;case 4:a=HN;break;default:a=qm}r=a.bind(null,t,r,e),a=void 0,!_0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function bp(e,t,r,n,a){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var s=n.stateNode.containerInfo;if(s===a||s.nodeType===8&&s.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;i=i.return}for(;s!==null;){if(i=oi(s),i===null)return;if(l=i.tag,l===5||l===6){n=o=i;continue e}s=s.parentNode}}n=n.return}Sk(function(){var c=o,f=Vm(r),d=[];e:{var h=Qk.get(e);if(h!==void 0){var p=Qm,m=e;switch(e){case"keypress":if(cf(r)===0)break e;case"keydown":case"keyup":p=iA;break;case"focusin":m="focus",p=hp;break;case"focusout":m="blur",p=hp;break;case"beforeblur":case"afterblur":p=hp;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=ex;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=KN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=cA;break;case Kk:case Yk:case qk:p=ZN;break;case Zk:p=fA;break;case"scroll":p=VN;break;case"wheel":p=hA;break;case"copy":case"cut":case"paste":p=JN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=rx}var v=(t&4)!==0,x=!v&&e==="scroll",y=v?h!==null?h+"Capture":null:h;v=[];for(var g=c,b;g!==null;){b=g;var S=b.stateNode;if(b.tag===5&&S!==null&&(b=S,y!==null&&(S=ic(g,y),S!=null&&v.push(hc(g,S,b)))),x)break;g=g.return}0<v.length&&(h=new p(h,m,null,r,f),d.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==O0&&(m=r.relatedTarget||r.fromElement)&&(oi(m)||m[to]))break e;if((p||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=c,m=m?oi(m):null,m!==null&&(x=Ei(m),m!==x||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(v=ex,S="onMouseLeave",y="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(v=rx,S="onPointerLeave",y="onPointerEnter",g="pointer"),x=p==null?h:qi(p),b=m==null?h:qi(m),h=new v(S,g+"leave",p,r,f),h.target=x,h.relatedTarget=b,S=null,oi(f)===c&&(v=new v(y,g+"enter",m,r,f),v.target=b,v.relatedTarget=x,S=v),x=S,p&&m)t:{for(v=p,y=m,g=0,b=v;b;b=Bi(b))g++;for(b=0,S=y;S;S=Bi(S))b++;for(;0<g-b;)v=Bi(v),g--;for(;0<b-g;)y=Bi(y),b--;for(;g--;){if(v===y||y!==null&&v===y.alternate)break t;v=Bi(v),y=Bi(y)}v=null}else v=null;p!==null&&hx(d,h,p,v,!1),m!==null&&x!==null&&hx(d,x,m,v,!0)}}e:{if(h=c?qi(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var w=bA;else if(ox(h))if(Wk)w=jA;else{w=kA;var k=wA}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=SA);if(w&&(w=w(e,c))){Uk(d,w,r,f);break e}k&&k(e,h,c),e==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&b0(h,"number",h.value)}switch(k=c?qi(c):window,e){case"focusin":(ox(k)||k.contentEditable==="true")&&(Ki=k,E0=c,Hl=null);break;case"focusout":Hl=E0=Ki=null;break;case"mousedown":T0=!0;break;case"contextmenu":case"mouseup":case"dragend":T0=!1,ux(d,r,f);break;case"selectionchange":if(_A)break;case"keydown":case"keyup":ux(d,r,f)}var j;if(ey)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Xi?Fk(e,r)&&(P="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(Bk&&r.locale!=="ko"&&(Xi||P!=="onCompositionStart"?P==="onCompositionEnd"&&Xi&&(j=Ik()):(So=f,Zm="value"in So?So.value:So.textContent,Xi=!0)),k=Of(c,P),0<k.length&&(P=new tx(P,e,null,r,f),d.push({event:P,listeners:k}),j?P.data=j:(j=zk(r),j!==null&&(P.data=j)))),(j=gA?mA(e,r):yA(e,r))&&(c=Of(c,"onBeforeInput"),0<c.length&&(f=new tx("onBeforeInput","beforeinput",null,r,f),d.push({event:f,listeners:c}),f.data=j))}Jk(d,t)})}function hc(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Of(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,o=a.stateNode;a.tag===5&&o!==null&&(a=o,o=ic(e,r),o!=null&&n.unshift(hc(e,o,a)),o=ic(e,t),o!=null&&n.push(hc(e,o,a))),e=e.return}return n}function Bi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function hx(e,t,r,n,a){for(var o=t._reactName,i=[];r!==null&&r!==n;){var s=r,l=s.alternate,c=s.stateNode;if(l!==null&&l===n)break;s.tag===5&&c!==null&&(s=c,a?(l=ic(r,o),l!=null&&i.unshift(hc(r,l,s))):a||(l=ic(r,o),l!=null&&i.push(hc(r,l,s)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var CA=/\r\n?/g,EA=/\u0000|\uFFFD/g;function px(e){return(typeof e=="string"?e:""+e).replace(CA,`
`).replace(EA,"")}function Du(e,t,r){if(t=px(t),px(e)!==t&&r)throw Error(ae(425))}function Pf(){}var $0=null,D0=null;function R0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var L0=typeof setTimeout=="function"?setTimeout:void 0,TA=typeof clearTimeout=="function"?clearTimeout:void 0,gx=typeof Promise=="function"?Promise:void 0,$A=typeof queueMicrotask=="function"?queueMicrotask:typeof gx<"u"?function(e){return gx.resolve(null).then(e).catch(DA)}:L0;function DA(e){setTimeout(function(){throw e})}function wp(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),cc(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);cc(t)}function Co(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function mx(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Qs=Math.random().toString(36).slice(2),Ma="__reactFiber$"+Qs,pc="__reactProps$"+Qs,to="__reactContainer$"+Qs,I0="__reactEvents$"+Qs,RA="__reactListeners$"+Qs,LA="__reactHandles$"+Qs;function oi(e){var t=e[Ma];if(t)return t;for(var r=e.parentNode;r;){if(t=r[to]||r[Ma]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=mx(e);e!==null;){if(r=e[Ma])return r;e=mx(e)}return t}e=r,r=e.parentNode}return null}function iu(e){return e=e[Ma]||e[to],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function qi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ae(33))}function Zd(e){return e[pc]||null}var B0=[],Zi=-1;function zo(e){return{current:e}}function Wt(e){0>Zi||(e.current=B0[Zi],B0[Zi]=null,Zi--)}function It(e,t){Zi++,B0[Zi]=e.current,e.current=t}var Bo={},on=zo(Bo),_n=zo(!1),xi=Bo;function ms(e,t){var r=e.type.contextTypes;if(!r)return Bo;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},o;for(o in r)a[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Nn(e){return e=e.childContextTypes,e!=null}function _f(){Wt(_n),Wt(on)}function yx(e,t,r){if(on.current!==Bo)throw Error(ae(168));It(on,t),It(_n,r)}function tS(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(ae(108,wN(e)||"Unknown",a));return ar({},r,n)}function Nf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Bo,xi=on.current,It(on,e),It(_n,_n.current),!0}function vx(e,t,r){var n=e.stateNode;if(!n)throw Error(ae(169));r?(e=tS(e,t,xi),n.__reactInternalMemoizedMergedChildContext=e,Wt(_n),Wt(on),It(on,e)):Wt(_n),It(_n,r)}var Wa=null,Qd=!1,kp=!1;function rS(e){Wa===null?Wa=[e]:Wa.push(e)}function IA(e){Qd=!0,rS(e)}function Uo(){if(!kp&&Wa!==null){kp=!0;var e=0,t=vt;try{var r=Wa;for(vt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Wa=null,Qd=!1}catch(a){throw Wa!==null&&(Wa=Wa.slice(e+1)),_k(Xm,Uo),a}finally{vt=t,kp=!1}}return null}var Qi=[],Ji=0,Af=null,Mf=0,Zn=[],Qn=0,bi=null,Ga=1,Ha="";function ei(e,t){Qi[Ji++]=Mf,Qi[Ji++]=Af,Af=e,Mf=t}function nS(e,t,r){Zn[Qn++]=Ga,Zn[Qn++]=Ha,Zn[Qn++]=bi,bi=e;var n=Ga;e=Ha;var a=32-va(n)-1;n&=~(1<<a),r+=1;var o=32-va(t)+a;if(30<o){var i=a-a%5;o=(n&(1<<i)-1).toString(32),n>>=i,a-=i,Ga=1<<32-va(t)+a|r<<a|n,Ha=o+e}else Ga=1<<o|r<<a|n,Ha=e}function ry(e){e.return!==null&&(ei(e,1),nS(e,1,0))}function ny(e){for(;e===Af;)Af=Qi[--Ji],Qi[Ji]=null,Mf=Qi[--Ji],Qi[Ji]=null;for(;e===bi;)bi=Zn[--Qn],Zn[Qn]=null,Ha=Zn[--Qn],Zn[Qn]=null,Ga=Zn[--Qn],Zn[Qn]=null}var Un=null,zn=null,qt=!1,ga=null;function aS(e,t){var r=Jn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function xx(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Un=e,zn=Co(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Un=e,zn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=bi!==null?{id:Ga,overflow:Ha}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Jn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Un=e,zn=null,!0):!1;default:return!1}}function F0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function z0(e){if(qt){var t=zn;if(t){var r=t;if(!xx(e,t)){if(F0(e))throw Error(ae(418));t=Co(r.nextSibling);var n=Un;t&&xx(e,t)?aS(n,r):(e.flags=e.flags&-4097|2,qt=!1,Un=e)}}else{if(F0(e))throw Error(ae(418));e.flags=e.flags&-4097|2,qt=!1,Un=e}}}function bx(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Un=e}function Ru(e){if(e!==Un)return!1;if(!qt)return bx(e),qt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!R0(e.type,e.memoizedProps)),t&&(t=zn)){if(F0(e))throw oS(),Error(ae(418));for(;t;)aS(e,t),t=Co(t.nextSibling)}if(bx(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ae(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){zn=Co(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}zn=null}}else zn=Un?Co(e.stateNode.nextSibling):null;return!0}function oS(){for(var e=zn;e;)e=Co(e.nextSibling)}function ys(){zn=Un=null,qt=!1}function ay(e){ga===null?ga=[e]:ga.push(e)}var BA=so.ReactCurrentBatchConfig;function Sl(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ae(309));var n=r.stateNode}if(!n)throw Error(ae(147,e));var a=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var s=a.refs;i===null?delete s[o]:s[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(ae(284));if(!r._owner)throw Error(ae(290,e))}return e}function Lu(e,t){throw e=Object.prototype.toString.call(t),Error(ae(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function wx(e){var t=e._init;return t(e._payload)}function iS(e){function t(y,g){if(e){var b=y.deletions;b===null?(y.deletions=[g],y.flags|=16):b.push(g)}}function r(y,g){if(!e)return null;for(;g!==null;)t(y,g),g=g.sibling;return null}function n(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function a(y,g){return y=Do(y,g),y.index=0,y.sibling=null,y}function o(y,g,b){return y.index=b,e?(b=y.alternate,b!==null?(b=b.index,b<g?(y.flags|=2,g):b):(y.flags|=2,g)):(y.flags|=1048576,g)}function i(y){return e&&y.alternate===null&&(y.flags|=2),y}function s(y,g,b,S){return g===null||g.tag!==6?(g=Ap(b,y.mode,S),g.return=y,g):(g=a(g,b),g.return=y,g)}function l(y,g,b,S){var w=b.type;return w===Vi?f(y,g,b.props.children,S,b.key):g!==null&&(g.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===yo&&wx(w)===g.type)?(S=a(g,b.props),S.ref=Sl(y,g,b),S.return=y,S):(S=mf(b.type,b.key,b.props,null,y.mode,S),S.ref=Sl(y,g,b),S.return=y,S)}function c(y,g,b,S){return g===null||g.tag!==4||g.stateNode.containerInfo!==b.containerInfo||g.stateNode.implementation!==b.implementation?(g=Mp(b,y.mode,S),g.return=y,g):(g=a(g,b.children||[]),g.return=y,g)}function f(y,g,b,S,w){return g===null||g.tag!==7?(g=gi(b,y.mode,S,w),g.return=y,g):(g=a(g,b),g.return=y,g)}function d(y,g,b){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Ap(""+g,y.mode,b),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Pu:return b=mf(g.type,g.key,g.props,null,y.mode,b),b.ref=Sl(y,null,g),b.return=y,b;case Hi:return g=Mp(g,y.mode,b),g.return=y,g;case yo:var S=g._init;return d(y,S(g._payload),b)}if(Ll(g)||vl(g))return g=gi(g,y.mode,b,null),g.return=y,g;Lu(y,g)}return null}function h(y,g,b,S){var w=g!==null?g.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return w!==null?null:s(y,g,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Pu:return b.key===w?l(y,g,b,S):null;case Hi:return b.key===w?c(y,g,b,S):null;case yo:return w=b._init,h(y,g,w(b._payload),S)}if(Ll(b)||vl(b))return w!==null?null:f(y,g,b,S,null);Lu(y,b)}return null}function p(y,g,b,S,w){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(b)||null,s(g,y,""+S,w);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Pu:return y=y.get(S.key===null?b:S.key)||null,l(g,y,S,w);case Hi:return y=y.get(S.key===null?b:S.key)||null,c(g,y,S,w);case yo:var k=S._init;return p(y,g,b,k(S._payload),w)}if(Ll(S)||vl(S))return y=y.get(b)||null,f(g,y,S,w,null);Lu(g,S)}return null}function m(y,g,b,S){for(var w=null,k=null,j=g,P=g=0,_=null;j!==null&&P<b.length;P++){j.index>P?(_=j,j=null):_=j.sibling;var A=h(y,j,b[P],S);if(A===null){j===null&&(j=_);break}e&&j&&A.alternate===null&&t(y,j),g=o(A,g,P),k===null?w=A:k.sibling=A,k=A,j=_}if(P===b.length)return r(y,j),qt&&ei(y,P),w;if(j===null){for(;P<b.length;P++)j=d(y,b[P],S),j!==null&&(g=o(j,g,P),k===null?w=j:k.sibling=j,k=j);return qt&&ei(y,P),w}for(j=n(y,j);P<b.length;P++)_=p(j,y,P,b[P],S),_!==null&&(e&&_.alternate!==null&&j.delete(_.key===null?P:_.key),g=o(_,g,P),k===null?w=_:k.sibling=_,k=_);return e&&j.forEach(function(N){return t(y,N)}),qt&&ei(y,P),w}function v(y,g,b,S){var w=vl(b);if(typeof w!="function")throw Error(ae(150));if(b=w.call(b),b==null)throw Error(ae(151));for(var k=w=null,j=g,P=g=0,_=null,A=b.next();j!==null&&!A.done;P++,A=b.next()){j.index>P?(_=j,j=null):_=j.sibling;var N=h(y,j,A.value,S);if(N===null){j===null&&(j=_);break}e&&j&&N.alternate===null&&t(y,j),g=o(N,g,P),k===null?w=N:k.sibling=N,k=N,j=_}if(A.done)return r(y,j),qt&&ei(y,P),w;if(j===null){for(;!A.done;P++,A=b.next())A=d(y,A.value,S),A!==null&&(g=o(A,g,P),k===null?w=A:k.sibling=A,k=A);return qt&&ei(y,P),w}for(j=n(y,j);!A.done;P++,A=b.next())A=p(j,y,P,A.value,S),A!==null&&(e&&A.alternate!==null&&j.delete(A.key===null?P:A.key),g=o(A,g,P),k===null?w=A:k.sibling=A,k=A);return e&&j.forEach(function(C){return t(y,C)}),qt&&ei(y,P),w}function x(y,g,b,S){if(typeof b=="object"&&b!==null&&b.type===Vi&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Pu:e:{for(var w=b.key,k=g;k!==null;){if(k.key===w){if(w=b.type,w===Vi){if(k.tag===7){r(y,k.sibling),g=a(k,b.props.children),g.return=y,y=g;break e}}else if(k.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===yo&&wx(w)===k.type){r(y,k.sibling),g=a(k,b.props),g.ref=Sl(y,k,b),g.return=y,y=g;break e}r(y,k);break}else t(y,k);k=k.sibling}b.type===Vi?(g=gi(b.props.children,y.mode,S,b.key),g.return=y,y=g):(S=mf(b.type,b.key,b.props,null,y.mode,S),S.ref=Sl(y,g,b),S.return=y,y=S)}return i(y);case Hi:e:{for(k=b.key;g!==null;){if(g.key===k)if(g.tag===4&&g.stateNode.containerInfo===b.containerInfo&&g.stateNode.implementation===b.implementation){r(y,g.sibling),g=a(g,b.children||[]),g.return=y,y=g;break e}else{r(y,g);break}else t(y,g);g=g.sibling}g=Mp(b,y.mode,S),g.return=y,y=g}return i(y);case yo:return k=b._init,x(y,g,k(b._payload),S)}if(Ll(b))return m(y,g,b,S);if(vl(b))return v(y,g,b,S);Lu(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,g!==null&&g.tag===6?(r(y,g.sibling),g=a(g,b),g.return=y,y=g):(r(y,g),g=Ap(b,y.mode,S),g.return=y,y=g),i(y)):r(y,g)}return x}var vs=iS(!0),sS=iS(!1),Cf=zo(null),Ef=null,es=null,oy=null;function iy(){oy=es=Ef=null}function sy(e){var t=Cf.current;Wt(Cf),e._currentValue=t}function U0(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function us(e,t){Ef=e,oy=es=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(On=!0),e.firstContext=null)}function aa(e){var t=e._currentValue;if(oy!==e)if(e={context:e,memoizedValue:t,next:null},es===null){if(Ef===null)throw Error(ae(308));es=e,Ef.dependencies={lanes:0,firstContext:e}}else es=es.next=e;return t}var ii=null;function ly(e){ii===null?ii=[e]:ii.push(e)}function lS(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,ly(t)):(r.next=a.next,a.next=r),t.interleaved=r,ro(e,n)}function ro(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var vo=!1;function cy(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cS(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ya(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Eo(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ot&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,ro(e,r)}return a=n.interleaved,a===null?(t.next=t,ly(n)):(t.next=a.next,a.next=t),n.interleaved=t,ro(e,r)}function uf(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Km(e,r)}}function kx(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?a=o=i:o=o.next=i,r=r.next}while(r!==null);o===null?a=o=t:o=o.next=t}else a=o=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Tf(e,t,r,n){var a=e.updateQueue;vo=!1;var o=a.firstBaseUpdate,i=a.lastBaseUpdate,s=a.shared.pending;if(s!==null){a.shared.pending=null;var l=s,c=l.next;l.next=null,i===null?o=c:i.next=c,i=l;var f=e.alternate;f!==null&&(f=f.updateQueue,s=f.lastBaseUpdate,s!==i&&(s===null?f.firstBaseUpdate=c:s.next=c,f.lastBaseUpdate=l))}if(o!==null){var d=a.baseState;i=0,f=c=l=null,s=o;do{var h=s.lane,p=s.eventTime;if((n&h)===h){f!==null&&(f=f.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var m=e,v=s;switch(h=t,p=r,v.tag){case 1:if(m=v.payload,typeof m=="function"){d=m.call(p,d,h);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=v.payload,h=typeof m=="function"?m.call(p,d,h):m,h==null)break e;d=ar({},d,h);break e;case 2:vo=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},f===null?(c=f=p,l=d):f=f.next=p,i|=h;if(s=s.next,s===null){if(s=a.shared.pending,s===null)break;h=s,s=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(f===null&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=f,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else o===null&&(a.shared.lanes=0);ki|=i,e.lanes=i,e.memoizedState=d}}function Sx(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(ae(191,a));a.call(n)}}}var su={},$a=zo(su),gc=zo(su),mc=zo(su);function si(e){if(e===su)throw Error(ae(174));return e}function uy(e,t){switch(It(mc,t),It(gc,e),It($a,su),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:k0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=k0(t,e)}Wt($a),It($a,t)}function xs(){Wt($a),Wt(gc),Wt(mc)}function uS(e){si(mc.current);var t=si($a.current),r=k0(t,e.type);t!==r&&(It(gc,e),It($a,r))}function fy(e){gc.current===e&&(Wt($a),Wt(gc))}var rr=zo(0);function $f(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Sp=[];function dy(){for(var e=0;e<Sp.length;e++)Sp[e]._workInProgressVersionPrimary=null;Sp.length=0}var ff=so.ReactCurrentDispatcher,jp=so.ReactCurrentBatchConfig,wi=0,nr=null,Or=null,Tr=null,Df=!1,Vl=!1,yc=0,FA=0;function Qr(){throw Error(ae(321))}function hy(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ba(e[r],t[r]))return!1;return!0}function py(e,t,r,n,a,o){if(wi=o,nr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ff.current=e===null||e.memoizedState===null?GA:HA,e=r(n,a),Vl){o=0;do{if(Vl=!1,yc=0,25<=o)throw Error(ae(301));o+=1,Tr=Or=null,t.updateQueue=null,ff.current=VA,e=r(n,a)}while(Vl)}if(ff.current=Rf,t=Or!==null&&Or.next!==null,wi=0,Tr=Or=nr=null,Df=!1,t)throw Error(ae(300));return e}function gy(){var e=yc!==0;return yc=0,e}function Aa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tr===null?nr.memoizedState=Tr=e:Tr=Tr.next=e,Tr}function oa(){if(Or===null){var e=nr.alternate;e=e!==null?e.memoizedState:null}else e=Or.next;var t=Tr===null?nr.memoizedState:Tr.next;if(t!==null)Tr=t,Or=e;else{if(e===null)throw Error(ae(310));Or=e,e={memoizedState:Or.memoizedState,baseState:Or.baseState,baseQueue:Or.baseQueue,queue:Or.queue,next:null},Tr===null?nr.memoizedState=Tr=e:Tr=Tr.next=e}return Tr}function vc(e,t){return typeof t=="function"?t(e):t}function Op(e){var t=oa(),r=t.queue;if(r===null)throw Error(ae(311));r.lastRenderedReducer=e;var n=Or,a=n.baseQueue,o=r.pending;if(o!==null){if(a!==null){var i=a.next;a.next=o.next,o.next=i}n.baseQueue=a=o,r.pending=null}if(a!==null){o=a.next,n=n.baseState;var s=i=null,l=null,c=o;do{var f=c.lane;if((wi&f)===f)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var d={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=d,i=n):l=l.next=d,nr.lanes|=f,ki|=f}c=c.next}while(c!==null&&c!==o);l===null?i=n:l.next=s,ba(n,t.memoizedState)||(On=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do o=a.lane,nr.lanes|=o,ki|=o,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Pp(e){var t=oa(),r=t.queue;if(r===null)throw Error(ae(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,o=t.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do o=e(o,i.action),i=i.next;while(i!==a);ba(o,t.memoizedState)||(On=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function fS(){}function dS(e,t){var r=nr,n=oa(),a=t(),o=!ba(n.memoizedState,a);if(o&&(n.memoizedState=a,On=!0),n=n.queue,my(gS.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||Tr!==null&&Tr.memoizedState.tag&1){if(r.flags|=2048,xc(9,pS.bind(null,r,n,a,t),void 0,null),$r===null)throw Error(ae(349));wi&30||hS(r,t,a)}return a}function hS(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=nr.updateQueue,t===null?(t={lastEffect:null,stores:null},nr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function pS(e,t,r,n){t.value=r,t.getSnapshot=n,mS(t)&&yS(e)}function gS(e,t,r){return r(function(){mS(t)&&yS(e)})}function mS(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ba(e,r)}catch{return!0}}function yS(e){var t=ro(e,1);t!==null&&xa(t,e,1,-1)}function jx(e){var t=Aa();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vc,lastRenderedState:e},t.queue=e,e=e.dispatch=WA.bind(null,nr,e),[t.memoizedState,e]}function xc(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=nr.updateQueue,t===null?(t={lastEffect:null,stores:null},nr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function vS(){return oa().memoizedState}function df(e,t,r,n){var a=Aa();nr.flags|=e,a.memoizedState=xc(1|t,r,void 0,n===void 0?null:n)}function Jd(e,t,r,n){var a=oa();n=n===void 0?null:n;var o=void 0;if(Or!==null){var i=Or.memoizedState;if(o=i.destroy,n!==null&&hy(n,i.deps)){a.memoizedState=xc(t,r,o,n);return}}nr.flags|=e,a.memoizedState=xc(1|t,r,o,n)}function Ox(e,t){return df(8390656,8,e,t)}function my(e,t){return Jd(2048,8,e,t)}function xS(e,t){return Jd(4,2,e,t)}function bS(e,t){return Jd(4,4,e,t)}function wS(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function kS(e,t,r){return r=r!=null?r.concat([e]):null,Jd(4,4,wS.bind(null,t,e),r)}function yy(){}function SS(e,t){var r=oa();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&hy(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function jS(e,t){var r=oa();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&hy(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function OS(e,t,r){return wi&21?(ba(r,t)||(r=Mk(),nr.lanes|=r,ki|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,On=!0),e.memoizedState=r)}function zA(e,t){var r=vt;vt=r!==0&&4>r?r:4,e(!0);var n=jp.transition;jp.transition={};try{e(!1),t()}finally{vt=r,jp.transition=n}}function PS(){return oa().memoizedState}function UA(e,t,r){var n=$o(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},_S(e))NS(t,r);else if(r=lS(e,t,r,n),r!==null){var a=yn();xa(r,e,n,a),AS(r,t,n)}}function WA(e,t,r){var n=$o(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(_S(e))NS(t,a);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,s=o(i,r);if(a.hasEagerState=!0,a.eagerState=s,ba(s,i)){var l=t.interleaved;l===null?(a.next=a,ly(t)):(a.next=l.next,l.next=a),t.interleaved=a;return}}catch{}finally{}r=lS(e,t,a,n),r!==null&&(a=yn(),xa(r,e,n,a),AS(r,t,n))}}function _S(e){var t=e.alternate;return e===nr||t!==null&&t===nr}function NS(e,t){Vl=Df=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function AS(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Km(e,r)}}var Rf={readContext:aa,useCallback:Qr,useContext:Qr,useEffect:Qr,useImperativeHandle:Qr,useInsertionEffect:Qr,useLayoutEffect:Qr,useMemo:Qr,useReducer:Qr,useRef:Qr,useState:Qr,useDebugValue:Qr,useDeferredValue:Qr,useTransition:Qr,useMutableSource:Qr,useSyncExternalStore:Qr,useId:Qr,unstable_isNewReconciler:!1},GA={readContext:aa,useCallback:function(e,t){return Aa().memoizedState=[e,t===void 0?null:t],e},useContext:aa,useEffect:Ox,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,df(4194308,4,wS.bind(null,t,e),r)},useLayoutEffect:function(e,t){return df(4194308,4,e,t)},useInsertionEffect:function(e,t){return df(4,2,e,t)},useMemo:function(e,t){var r=Aa();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Aa();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=UA.bind(null,nr,e),[n.memoizedState,e]},useRef:function(e){var t=Aa();return e={current:e},t.memoizedState=e},useState:jx,useDebugValue:yy,useDeferredValue:function(e){return Aa().memoizedState=e},useTransition:function(){var e=jx(!1),t=e[0];return e=zA.bind(null,e[1]),Aa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=nr,a=Aa();if(qt){if(r===void 0)throw Error(ae(407));r=r()}else{if(r=t(),$r===null)throw Error(ae(349));wi&30||hS(n,t,r)}a.memoizedState=r;var o={value:r,getSnapshot:t};return a.queue=o,Ox(gS.bind(null,n,o,e),[e]),n.flags|=2048,xc(9,pS.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=Aa(),t=$r.identifierPrefix;if(qt){var r=Ha,n=Ga;r=(n&~(1<<32-va(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=yc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=FA++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},HA={readContext:aa,useCallback:SS,useContext:aa,useEffect:my,useImperativeHandle:kS,useInsertionEffect:xS,useLayoutEffect:bS,useMemo:jS,useReducer:Op,useRef:vS,useState:function(){return Op(vc)},useDebugValue:yy,useDeferredValue:function(e){var t=oa();return OS(t,Or.memoizedState,e)},useTransition:function(){var e=Op(vc)[0],t=oa().memoizedState;return[e,t]},useMutableSource:fS,useSyncExternalStore:dS,useId:PS,unstable_isNewReconciler:!1},VA={readContext:aa,useCallback:SS,useContext:aa,useEffect:my,useImperativeHandle:kS,useInsertionEffect:xS,useLayoutEffect:bS,useMemo:jS,useReducer:Pp,useRef:vS,useState:function(){return Pp(vc)},useDebugValue:yy,useDeferredValue:function(e){var t=oa();return Or===null?t.memoizedState=e:OS(t,Or.memoizedState,e)},useTransition:function(){var e=Pp(vc)[0],t=oa().memoizedState;return[e,t]},useMutableSource:fS,useSyncExternalStore:dS,useId:PS,unstable_isNewReconciler:!1};function fa(e,t){if(e&&e.defaultProps){t=ar({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function W0(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ar({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var eh={isMounted:function(e){return(e=e._reactInternals)?Ei(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=yn(),a=$o(e),o=Ya(n,a);o.payload=t,r!=null&&(o.callback=r),t=Eo(e,o,a),t!==null&&(xa(t,e,a,n),uf(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=yn(),a=$o(e),o=Ya(n,a);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=Eo(e,o,a),t!==null&&(xa(t,e,a,n),uf(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=yn(),n=$o(e),a=Ya(r,n);a.tag=2,t!=null&&(a.callback=t),t=Eo(e,a,n),t!==null&&(xa(t,e,n,r),uf(t,e,n))}};function Px(e,t,r,n,a,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,i):t.prototype&&t.prototype.isPureReactComponent?!fc(r,n)||!fc(a,o):!0}function MS(e,t,r){var n=!1,a=Bo,o=t.contextType;return typeof o=="object"&&o!==null?o=aa(o):(a=Nn(t)?xi:on.current,n=t.contextTypes,o=(n=n!=null)?ms(e,a):Bo),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=eh,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function _x(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&eh.enqueueReplaceState(t,t.state,null)}function G0(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},cy(e);var o=t.contextType;typeof o=="object"&&o!==null?a.context=aa(o):(o=Nn(t)?xi:on.current,a.context=ms(e,o)),a.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(W0(e,t,o,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&eh.enqueueReplaceState(a,a.state,null),Tf(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function bs(e,t){try{var r="",n=t;do r+=bN(n),n=n.return;while(n);var a=r}catch(o){a=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:a,digest:null}}function _p(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function H0(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var XA=typeof WeakMap=="function"?WeakMap:Map;function CS(e,t,r){r=Ya(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){If||(If=!0,tg=n),H0(e,t)},r}function ES(e,t,r){r=Ya(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){H0(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){H0(e,t),typeof n!="function"&&(To===null?To=new Set([this]):To.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function Nx(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new XA;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=sM.bind(null,e,t,r),t.then(e,e))}function Ax(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Mx(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ya(-1,1),t.tag=2,Eo(r,t,1))),r.lanes|=1),e)}var KA=so.ReactCurrentOwner,On=!1;function pn(e,t,r,n){t.child=e===null?sS(t,null,r,n):vs(t,e.child,r,n)}function Cx(e,t,r,n,a){r=r.render;var o=t.ref;return us(t,a),n=py(e,t,r,n,o,a),r=gy(),e!==null&&!On?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,no(e,t,a)):(qt&&r&&ry(t),t.flags|=1,pn(e,t,n,a),t.child)}function Ex(e,t,r,n,a){if(e===null){var o=r.type;return typeof o=="function"&&!Oy(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,TS(e,t,o,n,a)):(e=mf(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&a)){var i=o.memoizedProps;if(r=r.compare,r=r!==null?r:fc,r(i,n)&&e.ref===t.ref)return no(e,t,a)}return t.flags|=1,e=Do(o,n),e.ref=t.ref,e.return=t,t.child=e}function TS(e,t,r,n,a){if(e!==null){var o=e.memoizedProps;if(fc(o,n)&&e.ref===t.ref)if(On=!1,t.pendingProps=n=o,(e.lanes&a)!==0)e.flags&131072&&(On=!0);else return t.lanes=e.lanes,no(e,t,a)}return V0(e,t,r,n,a)}function $S(e,t,r){var n=t.pendingProps,a=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},It(rs,In),In|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,It(rs,In),In|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,It(rs,In),In|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,It(rs,In),In|=n;return pn(e,t,a,r),t.child}function DS(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function V0(e,t,r,n,a){var o=Nn(r)?xi:on.current;return o=ms(t,o),us(t,a),r=py(e,t,r,n,o,a),n=gy(),e!==null&&!On?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,no(e,t,a)):(qt&&n&&ry(t),t.flags|=1,pn(e,t,r,a),t.child)}function Tx(e,t,r,n,a){if(Nn(r)){var o=!0;Nf(t)}else o=!1;if(us(t,a),t.stateNode===null)hf(e,t),MS(t,r,n),G0(t,r,n,a),n=!0;else if(e===null){var i=t.stateNode,s=t.memoizedProps;i.props=s;var l=i.context,c=r.contextType;typeof c=="object"&&c!==null?c=aa(c):(c=Nn(r)?xi:on.current,c=ms(t,c));var f=r.getDerivedStateFromProps,d=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function";d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(s!==n||l!==c)&&_x(t,i,n,c),vo=!1;var h=t.memoizedState;i.state=h,Tf(t,n,i,a),l=t.memoizedState,s!==n||h!==l||_n.current||vo?(typeof f=="function"&&(W0(t,r,f,n),l=t.memoizedState),(s=vo||Px(t,r,s,n,h,l,c))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),i.props=n,i.state=l,i.context=c,n=s):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,cS(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:fa(t.type,s),i.props=c,d=t.pendingProps,h=i.context,l=r.contextType,typeof l=="object"&&l!==null?l=aa(l):(l=Nn(r)?xi:on.current,l=ms(t,l));var p=r.getDerivedStateFromProps;(f=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(s!==d||h!==l)&&_x(t,i,n,l),vo=!1,h=t.memoizedState,i.state=h,Tf(t,n,i,a);var m=t.memoizedState;s!==d||h!==m||_n.current||vo?(typeof p=="function"&&(W0(t,r,p,n),m=t.memoizedState),(c=vo||Px(t,r,c,n,h,m,l)||!1)?(f||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,m,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,m,l)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),i.props=n,i.state=m,i.context=l,n=c):(typeof i.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return X0(e,t,r,n,o,a)}function X0(e,t,r,n,a,o){DS(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return a&&vx(t,r,!1),no(e,t,o);n=t.stateNode,KA.current=t;var s=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=vs(t,e.child,null,o),t.child=vs(t,null,s,o)):pn(e,t,s,o),t.memoizedState=n.state,a&&vx(t,r,!0),t.child}function RS(e){var t=e.stateNode;t.pendingContext?yx(e,t.pendingContext,t.pendingContext!==t.context):t.context&&yx(e,t.context,!1),uy(e,t.containerInfo)}function $x(e,t,r,n,a){return ys(),ay(a),t.flags|=256,pn(e,t,r,n),t.child}var K0={dehydrated:null,treeContext:null,retryLane:0};function Y0(e){return{baseLanes:e,cachePool:null,transitions:null}}function LS(e,t,r){var n=t.pendingProps,a=rr.current,o=!1,i=(t.flags&128)!==0,s;if((s=i)||(s=e!==null&&e.memoizedState===null?!1:(a&2)!==0),s?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),It(rr,a&1),e===null)return z0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,o?(n=t.mode,o=t.child,i={mode:"hidden",children:i},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=nh(i,n,0,null),e=gi(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Y0(r),t.memoizedState=K0,e):vy(t,i));if(a=e.memoizedState,a!==null&&(s=a.dehydrated,s!==null))return YA(e,t,i,n,s,a,r);if(o){o=n.fallback,i=t.mode,a=e.child,s=a.sibling;var l={mode:"hidden",children:n.children};return!(i&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Do(a,l),n.subtreeFlags=a.subtreeFlags&14680064),s!==null?o=Do(s,o):(o=gi(o,i,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,i=e.child.memoizedState,i=i===null?Y0(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~r,t.memoizedState=K0,n}return o=e.child,e=o.sibling,n=Do(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function vy(e,t){return t=nh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Iu(e,t,r,n){return n!==null&&ay(n),vs(t,e.child,null,r),e=vy(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function YA(e,t,r,n,a,o,i){if(r)return t.flags&256?(t.flags&=-257,n=_p(Error(ae(422))),Iu(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,a=t.mode,n=nh({mode:"visible",children:n.children},a,0,null),o=gi(o,a,i,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&vs(t,e.child,null,i),t.child.memoizedState=Y0(i),t.memoizedState=K0,o);if(!(t.mode&1))return Iu(e,t,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var s=n.dgst;return n=s,o=Error(ae(419)),n=_p(o,n,void 0),Iu(e,t,i,n)}if(s=(i&e.childLanes)!==0,On||s){if(n=$r,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==o.retryLane&&(o.retryLane=a,ro(e,a),xa(n,e,a,-1))}return jy(),n=_p(Error(ae(421))),Iu(e,t,i,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=lM.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,zn=Co(a.nextSibling),Un=t,qt=!0,ga=null,e!==null&&(Zn[Qn++]=Ga,Zn[Qn++]=Ha,Zn[Qn++]=bi,Ga=e.id,Ha=e.overflow,bi=t),t=vy(t,n.children),t.flags|=4096,t)}function Dx(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),U0(e.return,t,r)}function Np(e,t,r,n,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=a)}function IS(e,t,r){var n=t.pendingProps,a=n.revealOrder,o=n.tail;if(pn(e,t,n.children,r),n=rr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Dx(e,r,t);else if(e.tag===19)Dx(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(It(rr,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&$f(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Np(t,!1,a,r,o);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&$f(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Np(t,!0,r,null,o);break;case"together":Np(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function hf(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function no(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ki|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ae(153));if(t.child!==null){for(e=t.child,r=Do(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Do(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function qA(e,t,r){switch(t.tag){case 3:RS(t),ys();break;case 5:uS(t);break;case 1:Nn(t.type)&&Nf(t);break;case 4:uy(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;It(Cf,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(It(rr,rr.current&1),t.flags|=128,null):r&t.child.childLanes?LS(e,t,r):(It(rr,rr.current&1),e=no(e,t,r),e!==null?e.sibling:null);It(rr,rr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return IS(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),It(rr,rr.current),n)break;return null;case 22:case 23:return t.lanes=0,$S(e,t,r)}return no(e,t,r)}var BS,q0,FS,zS;BS=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};q0=function(){};FS=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,si($a.current);var o=null;switch(r){case"input":a=v0(e,a),n=v0(e,n),o=[];break;case"select":a=ar({},a,{value:void 0}),n=ar({},n,{value:void 0}),o=[];break;case"textarea":a=w0(e,a),n=w0(e,n),o=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Pf)}S0(r,n);var i;r=null;for(c in a)if(!n.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var s=a[c];for(i in s)s.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ac.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in n){var l=n[c];if(s=a!=null?a[c]:void 0,n.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(i in s)!s.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in l)l.hasOwnProperty(i)&&s[i]!==l[i]&&(r||(r={}),r[i]=l[i])}else r||(o||(o=[]),o.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ac.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ft("scroll",e),o||s===l||(o=[])):(o=o||[]).push(c,l))}r&&(o=o||[]).push("style",r);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};zS=function(e,t,r,n){r!==n&&(t.flags|=4)};function jl(e,t){if(!qt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Jr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function ZA(e,t,r){var n=t.pendingProps;switch(ny(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jr(t),null;case 1:return Nn(t.type)&&_f(),Jr(t),null;case 3:return n=t.stateNode,xs(),Wt(_n),Wt(on),dy(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ru(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ga!==null&&(ag(ga),ga=null))),q0(e,t),Jr(t),null;case 5:fy(t);var a=si(mc.current);if(r=t.type,e!==null&&t.stateNode!=null)FS(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ae(166));return Jr(t),null}if(e=si($a.current),Ru(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[Ma]=t,n[pc]=o,e=(t.mode&1)!==0,r){case"dialog":Ft("cancel",n),Ft("close",n);break;case"iframe":case"object":case"embed":Ft("load",n);break;case"video":case"audio":for(a=0;a<Bl.length;a++)Ft(Bl[a],n);break;case"source":Ft("error",n);break;case"img":case"image":case"link":Ft("error",n),Ft("load",n);break;case"details":Ft("toggle",n);break;case"input":Gv(n,o),Ft("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Ft("invalid",n);break;case"textarea":Vv(n,o),Ft("invalid",n)}S0(r,o),a=null;for(var i in o)if(o.hasOwnProperty(i)){var s=o[i];i==="children"?typeof s=="string"?n.textContent!==s&&(o.suppressHydrationWarning!==!0&&Du(n.textContent,s,e),a=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&Du(n.textContent,s,e),a=["children",""+s]):ac.hasOwnProperty(i)&&s!=null&&i==="onScroll"&&Ft("scroll",n)}switch(r){case"input":_u(n),Hv(n,o,!0);break;case"textarea":_u(n),Xv(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=Pf)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=gk(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[Ma]=t,e[pc]=n,BS(e,t,!1,!1),t.stateNode=e;e:{switch(i=j0(r,n),r){case"dialog":Ft("cancel",e),Ft("close",e),a=n;break;case"iframe":case"object":case"embed":Ft("load",e),a=n;break;case"video":case"audio":for(a=0;a<Bl.length;a++)Ft(Bl[a],e);a=n;break;case"source":Ft("error",e),a=n;break;case"img":case"image":case"link":Ft("error",e),Ft("load",e),a=n;break;case"details":Ft("toggle",e),a=n;break;case"input":Gv(e,n),a=v0(e,n),Ft("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=ar({},n,{value:void 0}),Ft("invalid",e);break;case"textarea":Vv(e,n),a=w0(e,n),Ft("invalid",e);break;default:a=n}S0(r,a),s=a;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?vk(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&mk(e,l)):o==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&oc(e,l):typeof l=="number"&&oc(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ac.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Ft("scroll",e):l!=null&&Um(e,o,l,i))}switch(r){case"input":_u(e),Hv(e,n,!1);break;case"textarea":_u(e),Xv(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Io(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?is(e,!!n.multiple,o,!1):n.defaultValue!=null&&is(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Pf)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Jr(t),null;case 6:if(e&&t.stateNode!=null)zS(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ae(166));if(r=si(mc.current),si($a.current),Ru(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ma]=t,(o=n.nodeValue!==r)&&(e=Un,e!==null))switch(e.tag){case 3:Du(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Du(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ma]=t,t.stateNode=n}return Jr(t),null;case 13:if(Wt(rr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(qt&&zn!==null&&t.mode&1&&!(t.flags&128))oS(),ys(),t.flags|=98560,o=!1;else if(o=Ru(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(ae(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ae(317));o[Ma]=t}else ys(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Jr(t),o=!1}else ga!==null&&(ag(ga),ga=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||rr.current&1?Pr===0&&(Pr=3):jy())),t.updateQueue!==null&&(t.flags|=4),Jr(t),null);case 4:return xs(),q0(e,t),e===null&&dc(t.stateNode.containerInfo),Jr(t),null;case 10:return sy(t.type._context),Jr(t),null;case 17:return Nn(t.type)&&_f(),Jr(t),null;case 19:if(Wt(rr),o=t.memoizedState,o===null)return Jr(t),null;if(n=(t.flags&128)!==0,i=o.rendering,i===null)if(n)jl(o,!1);else{if(Pr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=$f(e),i!==null){for(t.flags|=128,jl(o,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return It(rr,rr.current&1|2),t.child}e=e.sibling}o.tail!==null&&hr()>ws&&(t.flags|=128,n=!0,jl(o,!1),t.lanes=4194304)}else{if(!n)if(e=$f(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),jl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!qt)return Jr(t),null}else 2*hr()-o.renderingStartTime>ws&&r!==1073741824&&(t.flags|=128,n=!0,jl(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(r=o.last,r!==null?r.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=hr(),t.sibling=null,r=rr.current,It(rr,n?r&1|2:r&1),t):(Jr(t),null);case 22:case 23:return Sy(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?In&1073741824&&(Jr(t),t.subtreeFlags&6&&(t.flags|=8192)):Jr(t),null;case 24:return null;case 25:return null}throw Error(ae(156,t.tag))}function QA(e,t){switch(ny(t),t.tag){case 1:return Nn(t.type)&&_f(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return xs(),Wt(_n),Wt(on),dy(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return fy(t),null;case 13:if(Wt(rr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ae(340));ys()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Wt(rr),null;case 4:return xs(),null;case 10:return sy(t.type._context),null;case 22:case 23:return Sy(),null;case 24:return null;default:return null}}var Bu=!1,rn=!1,JA=typeof WeakSet=="function"?WeakSet:Set,me=null;function ts(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){lr(e,t,n)}else r.current=null}function Z0(e,t,r){try{r()}catch(n){lr(e,t,n)}}var Rx=!1;function eM(e,t){if($0=Sf,e=Vk(),ty(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var i=0,s=-1,l=-1,c=0,f=0,d=e,h=null;t:for(;;){for(var p;d!==r||a!==0&&d.nodeType!==3||(s=i+a),d!==o||n!==0&&d.nodeType!==3||(l=i+n),d.nodeType===3&&(i+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===e)break t;if(h===r&&++c===a&&(s=i),h===o&&++f===n&&(l=i),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}r=s===-1||l===-1?null:{start:s,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(D0={focusedElem:e,selectionRange:r},Sf=!1,me=t;me!==null;)if(t=me,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,me=e;else for(;me!==null;){t=me;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var v=m.memoizedProps,x=m.memoizedState,y=t.stateNode,g=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:fa(t.type,v),x);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ae(163))}}catch(S){lr(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,me=e;break}me=t.return}return m=Rx,Rx=!1,m}function Xl(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,o!==void 0&&Z0(t,r,o)}a=a.next}while(a!==n)}}function th(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Q0(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function US(e){var t=e.alternate;t!==null&&(e.alternate=null,US(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ma],delete t[pc],delete t[I0],delete t[RA],delete t[LA])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function WS(e){return e.tag===5||e.tag===3||e.tag===4}function Lx(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||WS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function J0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Pf));else if(n!==4&&(e=e.child,e!==null))for(J0(e,t,r),e=e.sibling;e!==null;)J0(e,t,r),e=e.sibling}function eg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(eg(e,t,r),e=e.sibling;e!==null;)eg(e,t,r),e=e.sibling}var Fr=null,da=!1;function go(e,t,r){for(r=r.child;r!==null;)GS(e,t,r),r=r.sibling}function GS(e,t,r){if(Ta&&typeof Ta.onCommitFiberUnmount=="function")try{Ta.onCommitFiberUnmount(Xd,r)}catch{}switch(r.tag){case 5:rn||ts(r,t);case 6:var n=Fr,a=da;Fr=null,go(e,t,r),Fr=n,da=a,Fr!==null&&(da?(e=Fr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Fr.removeChild(r.stateNode));break;case 18:Fr!==null&&(da?(e=Fr,r=r.stateNode,e.nodeType===8?wp(e.parentNode,r):e.nodeType===1&&wp(e,r),cc(e)):wp(Fr,r.stateNode));break;case 4:n=Fr,a=da,Fr=r.stateNode.containerInfo,da=!0,go(e,t,r),Fr=n,da=a;break;case 0:case 11:case 14:case 15:if(!rn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var o=a,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&Z0(r,t,i),a=a.next}while(a!==n)}go(e,t,r);break;case 1:if(!rn&&(ts(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){lr(r,t,s)}go(e,t,r);break;case 21:go(e,t,r);break;case 22:r.mode&1?(rn=(n=rn)||r.memoizedState!==null,go(e,t,r),rn=n):go(e,t,r);break;default:go(e,t,r)}}function Ix(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new JA),t.forEach(function(n){var a=cM.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function ca(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var o=e,i=t,s=i;e:for(;s!==null;){switch(s.tag){case 5:Fr=s.stateNode,da=!1;break e;case 3:Fr=s.stateNode.containerInfo,da=!0;break e;case 4:Fr=s.stateNode.containerInfo,da=!0;break e}s=s.return}if(Fr===null)throw Error(ae(160));GS(o,i,a),Fr=null,da=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(c){lr(a,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)HS(t,e),t=t.sibling}function HS(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ca(t,e),Na(e),n&4){try{Xl(3,e,e.return),th(3,e)}catch(v){lr(e,e.return,v)}try{Xl(5,e,e.return)}catch(v){lr(e,e.return,v)}}break;case 1:ca(t,e),Na(e),n&512&&r!==null&&ts(r,r.return);break;case 5:if(ca(t,e),Na(e),n&512&&r!==null&&ts(r,r.return),e.flags&32){var a=e.stateNode;try{oc(a,"")}catch(v){lr(e,e.return,v)}}if(n&4&&(a=e.stateNode,a!=null)){var o=e.memoizedProps,i=r!==null?r.memoizedProps:o,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&hk(a,o),j0(s,i);var c=j0(s,o);for(i=0;i<l.length;i+=2){var f=l[i],d=l[i+1];f==="style"?vk(a,d):f==="dangerouslySetInnerHTML"?mk(a,d):f==="children"?oc(a,d):Um(a,f,d,c)}switch(s){case"input":x0(a,o);break;case"textarea":pk(a,o);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?is(a,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?is(a,!!o.multiple,o.defaultValue,!0):is(a,!!o.multiple,o.multiple?[]:"",!1))}a[pc]=o}catch(v){lr(e,e.return,v)}}break;case 6:if(ca(t,e),Na(e),n&4){if(e.stateNode===null)throw Error(ae(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(v){lr(e,e.return,v)}}break;case 3:if(ca(t,e),Na(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{cc(t.containerInfo)}catch(v){lr(e,e.return,v)}break;case 4:ca(t,e),Na(e);break;case 13:ca(t,e),Na(e),a=e.child,a.flags&8192&&(o=a.memoizedState!==null,a.stateNode.isHidden=o,!o||a.alternate!==null&&a.alternate.memoizedState!==null||(wy=hr())),n&4&&Ix(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?(rn=(c=rn)||f,ca(t,e),rn=c):ca(t,e),Na(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!f&&e.mode&1)for(me=e,f=e.child;f!==null;){for(d=me=f;me!==null;){switch(h=me,p=h.child,h.tag){case 0:case 11:case 14:case 15:Xl(4,h,h.return);break;case 1:ts(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(v){lr(n,r,v)}}break;case 5:ts(h,h.return);break;case 22:if(h.memoizedState!==null){Fx(d);continue}}p!==null?(p.return=h,me=p):Fx(d)}f=f.sibling}e:for(f=null,d=e;;){if(d.tag===5){if(f===null){f=d;try{a=d.stateNode,c?(o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=d.stateNode,l=d.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=yk("display",i))}catch(v){lr(e,e.return,v)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(v){lr(e,e.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ca(t,e),Na(e),n&4&&Ix(e);break;case 21:break;default:ca(t,e),Na(e)}}function Na(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(WS(r)){var n=r;break e}r=r.return}throw Error(ae(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(oc(a,""),n.flags&=-33);var o=Lx(e);eg(e,o,a);break;case 3:case 4:var i=n.stateNode.containerInfo,s=Lx(e);J0(e,s,i);break;default:throw Error(ae(161))}}catch(l){lr(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function tM(e,t,r){me=e,VS(e)}function VS(e,t,r){for(var n=(e.mode&1)!==0;me!==null;){var a=me,o=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||Bu;if(!i){var s=a.alternate,l=s!==null&&s.memoizedState!==null||rn;s=Bu;var c=rn;if(Bu=i,(rn=l)&&!c)for(me=a;me!==null;)i=me,l=i.child,i.tag===22&&i.memoizedState!==null?zx(a):l!==null?(l.return=i,me=l):zx(a);for(;o!==null;)me=o,VS(o),o=o.sibling;me=a,Bu=s,rn=c}Bx(e)}else a.subtreeFlags&8772&&o!==null?(o.return=a,me=o):Bx(e)}}function Bx(e){for(;me!==null;){var t=me;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:rn||th(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!rn)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:fa(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Sx(t,o,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Sx(t,i,r)}break;case 5:var s=t.stateNode;if(r===null&&t.flags&4){r=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&cc(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ae(163))}rn||t.flags&512&&Q0(t)}catch(h){lr(t,t.return,h)}}if(t===e){me=null;break}if(r=t.sibling,r!==null){r.return=t.return,me=r;break}me=t.return}}function Fx(e){for(;me!==null;){var t=me;if(t===e){me=null;break}var r=t.sibling;if(r!==null){r.return=t.return,me=r;break}me=t.return}}function zx(e){for(;me!==null;){var t=me;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{th(4,t)}catch(l){lr(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(l){lr(t,a,l)}}var o=t.return;try{Q0(t)}catch(l){lr(t,o,l)}break;case 5:var i=t.return;try{Q0(t)}catch(l){lr(t,i,l)}}}catch(l){lr(t,t.return,l)}if(t===e){me=null;break}var s=t.sibling;if(s!==null){s.return=t.return,me=s;break}me=t.return}}var rM=Math.ceil,Lf=so.ReactCurrentDispatcher,xy=so.ReactCurrentOwner,ra=so.ReactCurrentBatchConfig,ot=0,$r=null,vr=null,Wr=0,In=0,rs=zo(0),Pr=0,bc=null,ki=0,rh=0,by=0,Kl=null,jn=null,wy=0,ws=1/0,Ua=null,If=!1,tg=null,To=null,Fu=!1,jo=null,Bf=0,Yl=0,rg=null,pf=-1,gf=0;function yn(){return ot&6?hr():pf!==-1?pf:pf=hr()}function $o(e){return e.mode&1?ot&2&&Wr!==0?Wr&-Wr:BA.transition!==null?(gf===0&&(gf=Mk()),gf):(e=vt,e!==0||(e=window.event,e=e===void 0?16:Lk(e.type)),e):1}function xa(e,t,r,n){if(50<Yl)throw Yl=0,rg=null,Error(ae(185));au(e,r,n),(!(ot&2)||e!==$r)&&(e===$r&&(!(ot&2)&&(rh|=r),Pr===4&&wo(e,Wr)),An(e,n),r===1&&ot===0&&!(t.mode&1)&&(ws=hr()+500,Qd&&Uo()))}function An(e,t){var r=e.callbackNode;BN(e,t);var n=kf(e,e===$r?Wr:0);if(n===0)r!==null&&qv(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&qv(r),t===1)e.tag===0?IA(Ux.bind(null,e)):rS(Ux.bind(null,e)),$A(function(){!(ot&6)&&Uo()}),r=null;else{switch(Ck(n)){case 1:r=Xm;break;case 4:r=Nk;break;case 16:r=wf;break;case 536870912:r=Ak;break;default:r=wf}r=ej(r,XS.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function XS(e,t){if(pf=-1,gf=0,ot&6)throw Error(ae(327));var r=e.callbackNode;if(fs()&&e.callbackNode!==r)return null;var n=kf(e,e===$r?Wr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Ff(e,n);else{t=n;var a=ot;ot|=2;var o=YS();($r!==e||Wr!==t)&&(Ua=null,ws=hr()+500,pi(e,t));do try{oM();break}catch(s){KS(e,s)}while(!0);iy(),Lf.current=o,ot=a,vr!==null?t=0:($r=null,Wr=0,t=Pr)}if(t!==0){if(t===2&&(a=A0(e),a!==0&&(n=a,t=ng(e,a))),t===1)throw r=bc,pi(e,0),wo(e,n),An(e,hr()),r;if(t===6)wo(e,n);else{if(a=e.current.alternate,!(n&30)&&!nM(a)&&(t=Ff(e,n),t===2&&(o=A0(e),o!==0&&(n=o,t=ng(e,o))),t===1))throw r=bc,pi(e,0),wo(e,n),An(e,hr()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(ae(345));case 2:ti(e,jn,Ua);break;case 3:if(wo(e,n),(n&130023424)===n&&(t=wy+500-hr(),10<t)){if(kf(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){yn(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=L0(ti.bind(null,e,jn,Ua),t);break}ti(e,jn,Ua);break;case 4:if(wo(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var i=31-va(n);o=1<<i,i=t[i],i>a&&(a=i),n&=~o}if(n=a,n=hr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*rM(n/1960))-n,10<n){e.timeoutHandle=L0(ti.bind(null,e,jn,Ua),n);break}ti(e,jn,Ua);break;case 5:ti(e,jn,Ua);break;default:throw Error(ae(329))}}}return An(e,hr()),e.callbackNode===r?XS.bind(null,e):null}function ng(e,t){var r=Kl;return e.current.memoizedState.isDehydrated&&(pi(e,t).flags|=256),e=Ff(e,t),e!==2&&(t=jn,jn=r,t!==null&&ag(t)),e}function ag(e){jn===null?jn=e:jn.push.apply(jn,e)}function nM(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],o=a.getSnapshot;a=a.value;try{if(!ba(o(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function wo(e,t){for(t&=~by,t&=~rh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-va(t),n=1<<r;e[r]=-1,t&=~n}}function Ux(e){if(ot&6)throw Error(ae(327));fs();var t=kf(e,0);if(!(t&1))return An(e,hr()),null;var r=Ff(e,t);if(e.tag!==0&&r===2){var n=A0(e);n!==0&&(t=n,r=ng(e,n))}if(r===1)throw r=bc,pi(e,0),wo(e,t),An(e,hr()),r;if(r===6)throw Error(ae(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ti(e,jn,Ua),An(e,hr()),null}function ky(e,t){var r=ot;ot|=1;try{return e(t)}finally{ot=r,ot===0&&(ws=hr()+500,Qd&&Uo())}}function Si(e){jo!==null&&jo.tag===0&&!(ot&6)&&fs();var t=ot;ot|=1;var r=ra.transition,n=vt;try{if(ra.transition=null,vt=1,e)return e()}finally{vt=n,ra.transition=r,ot=t,!(ot&6)&&Uo()}}function Sy(){In=rs.current,Wt(rs)}function pi(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,TA(r)),vr!==null)for(r=vr.return;r!==null;){var n=r;switch(ny(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&_f();break;case 3:xs(),Wt(_n),Wt(on),dy();break;case 5:fy(n);break;case 4:xs();break;case 13:Wt(rr);break;case 19:Wt(rr);break;case 10:sy(n.type._context);break;case 22:case 23:Sy()}r=r.return}if($r=e,vr=e=Do(e.current,null),Wr=In=t,Pr=0,bc=null,by=rh=ki=0,jn=Kl=null,ii!==null){for(t=0;t<ii.length;t++)if(r=ii[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,o=r.pending;if(o!==null){var i=o.next;o.next=a,n.next=i}r.pending=n}ii=null}return e}function KS(e,t){do{var r=vr;try{if(iy(),ff.current=Rf,Df){for(var n=nr.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Df=!1}if(wi=0,Tr=Or=nr=null,Vl=!1,yc=0,xy.current=null,r===null||r.return===null){Pr=1,bc=t,vr=null;break}e:{var o=e,i=r.return,s=r,l=t;if(t=Wr,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,f=s,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=Ax(i);if(p!==null){p.flags&=-257,Mx(p,i,s,o,t),p.mode&1&&Nx(o,c,t),t=p,l=c;var m=t.updateQueue;if(m===null){var v=new Set;v.add(l),t.updateQueue=v}else m.add(l);break e}else{if(!(t&1)){Nx(o,c,t),jy();break e}l=Error(ae(426))}}else if(qt&&s.mode&1){var x=Ax(i);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Mx(x,i,s,o,t),ay(bs(l,s));break e}}o=l=bs(l,s),Pr!==4&&(Pr=2),Kl===null?Kl=[o]:Kl.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var y=CS(o,l,t);kx(o,y);break e;case 1:s=l;var g=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(To===null||!To.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t;var S=ES(o,s,t);kx(o,S);break e}}o=o.return}while(o!==null)}ZS(r)}catch(w){t=w,vr===r&&r!==null&&(vr=r=r.return);continue}break}while(!0)}function YS(){var e=Lf.current;return Lf.current=Rf,e===null?Rf:e}function jy(){(Pr===0||Pr===3||Pr===2)&&(Pr=4),$r===null||!(ki&268435455)&&!(rh&268435455)||wo($r,Wr)}function Ff(e,t){var r=ot;ot|=2;var n=YS();($r!==e||Wr!==t)&&(Ua=null,pi(e,t));do try{aM();break}catch(a){KS(e,a)}while(!0);if(iy(),ot=r,Lf.current=n,vr!==null)throw Error(ae(261));return $r=null,Wr=0,Pr}function aM(){for(;vr!==null;)qS(vr)}function oM(){for(;vr!==null&&!MN();)qS(vr)}function qS(e){var t=JS(e.alternate,e,In);e.memoizedProps=e.pendingProps,t===null?ZS(e):vr=t,xy.current=null}function ZS(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=QA(r,t),r!==null){r.flags&=32767,vr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Pr=6,vr=null;return}}else if(r=ZA(r,t,In),r!==null){vr=r;return}if(t=t.sibling,t!==null){vr=t;return}vr=t=e}while(t!==null);Pr===0&&(Pr=5)}function ti(e,t,r){var n=vt,a=ra.transition;try{ra.transition=null,vt=1,iM(e,t,r,n)}finally{ra.transition=a,vt=n}return null}function iM(e,t,r,n){do fs();while(jo!==null);if(ot&6)throw Error(ae(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ae(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(FN(e,o),e===$r&&(vr=$r=null,Wr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Fu||(Fu=!0,ej(wf,function(){return fs(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=ra.transition,ra.transition=null;var i=vt;vt=1;var s=ot;ot|=4,xy.current=null,eM(e,r),HS(r,e),PA(D0),Sf=!!$0,D0=$0=null,e.current=r,tM(r),CN(),ot=s,vt=i,ra.transition=o}else e.current=r;if(Fu&&(Fu=!1,jo=e,Bf=a),o=e.pendingLanes,o===0&&(To=null),$N(r.stateNode),An(e,hr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(If)throw If=!1,e=tg,tg=null,e;return Bf&1&&e.tag!==0&&fs(),o=e.pendingLanes,o&1?e===rg?Yl++:(Yl=0,rg=e):Yl=0,Uo(),null}function fs(){if(jo!==null){var e=Ck(Bf),t=ra.transition,r=vt;try{if(ra.transition=null,vt=16>e?16:e,jo===null)var n=!1;else{if(e=jo,jo=null,Bf=0,ot&6)throw Error(ae(331));var a=ot;for(ot|=4,me=e.current;me!==null;){var o=me,i=o.child;if(me.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(me=c;me!==null;){var f=me;switch(f.tag){case 0:case 11:case 15:Xl(8,f,o)}var d=f.child;if(d!==null)d.return=f,me=d;else for(;me!==null;){f=me;var h=f.sibling,p=f.return;if(US(f),f===c){me=null;break}if(h!==null){h.return=p,me=h;break}me=p}}}var m=o.alternate;if(m!==null){var v=m.child;if(v!==null){m.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}me=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,me=i;else e:for(;me!==null;){if(o=me,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Xl(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,me=y;break e}me=o.return}}var g=e.current;for(me=g;me!==null;){i=me;var b=i.child;if(i.subtreeFlags&2064&&b!==null)b.return=i,me=b;else e:for(i=g;me!==null;){if(s=me,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:th(9,s)}}catch(w){lr(s,s.return,w)}if(s===i){me=null;break e}var S=s.sibling;if(S!==null){S.return=s.return,me=S;break e}me=s.return}}if(ot=a,Uo(),Ta&&typeof Ta.onPostCommitFiberRoot=="function")try{Ta.onPostCommitFiberRoot(Xd,e)}catch{}n=!0}return n}finally{vt=r,ra.transition=t}}return!1}function Wx(e,t,r){t=bs(r,t),t=CS(e,t,1),e=Eo(e,t,1),t=yn(),e!==null&&(au(e,1,t),An(e,t))}function lr(e,t,r){if(e.tag===3)Wx(e,e,r);else for(;t!==null;){if(t.tag===3){Wx(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(To===null||!To.has(n))){e=bs(r,e),e=ES(t,e,1),t=Eo(t,e,1),e=yn(),t!==null&&(au(t,1,e),An(t,e));break}}t=t.return}}function sM(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=yn(),e.pingedLanes|=e.suspendedLanes&r,$r===e&&(Wr&r)===r&&(Pr===4||Pr===3&&(Wr&130023424)===Wr&&500>hr()-wy?pi(e,0):by|=r),An(e,t)}function QS(e,t){t===0&&(e.mode&1?(t=Mu,Mu<<=1,!(Mu&130023424)&&(Mu=4194304)):t=1);var r=yn();e=ro(e,t),e!==null&&(au(e,t,r),An(e,r))}function lM(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),QS(e,r)}function cM(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ae(314))}n!==null&&n.delete(t),QS(e,r)}var JS;JS=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||_n.current)On=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return On=!1,qA(e,t,r);On=!!(e.flags&131072)}else On=!1,qt&&t.flags&1048576&&nS(t,Mf,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;hf(e,t),e=t.pendingProps;var a=ms(t,on.current);us(t,r),a=py(null,t,n,e,a,r);var o=gy();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Nn(n)?(o=!0,Nf(t)):o=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,cy(t),a.updater=eh,t.stateNode=a,a._reactInternals=t,G0(t,n,e,r),t=X0(null,t,n,!0,o,r)):(t.tag=0,qt&&o&&ry(t),pn(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(hf(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=fM(n),e=fa(n,e),a){case 0:t=V0(null,t,n,e,r);break e;case 1:t=Tx(null,t,n,e,r);break e;case 11:t=Cx(null,t,n,e,r);break e;case 14:t=Ex(null,t,n,fa(n.type,e),r);break e}throw Error(ae(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:fa(n,a),V0(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:fa(n,a),Tx(e,t,n,a,r);case 3:e:{if(RS(t),e===null)throw Error(ae(387));n=t.pendingProps,o=t.memoizedState,a=o.element,cS(e,t),Tf(t,n,null,r);var i=t.memoizedState;if(n=i.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){a=bs(Error(ae(423)),t),t=$x(e,t,n,r,a);break e}else if(n!==a){a=bs(Error(ae(424)),t),t=$x(e,t,n,r,a);break e}else for(zn=Co(t.stateNode.containerInfo.firstChild),Un=t,qt=!0,ga=null,r=sS(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ys(),n===a){t=no(e,t,r);break e}pn(e,t,n,r)}t=t.child}return t;case 5:return uS(t),e===null&&z0(t),n=t.type,a=t.pendingProps,o=e!==null?e.memoizedProps:null,i=a.children,R0(n,a)?i=null:o!==null&&R0(n,o)&&(t.flags|=32),DS(e,t),pn(e,t,i,r),t.child;case 6:return e===null&&z0(t),null;case 13:return LS(e,t,r);case 4:return uy(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=vs(t,null,n,r):pn(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:fa(n,a),Cx(e,t,n,a,r);case 7:return pn(e,t,t.pendingProps,r),t.child;case 8:return pn(e,t,t.pendingProps.children,r),t.child;case 12:return pn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,o=t.memoizedProps,i=a.value,It(Cf,n._currentValue),n._currentValue=i,o!==null)if(ba(o.value,i)){if(o.children===a.children&&!_n.current){t=no(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var s=o.dependencies;if(s!==null){i=o.child;for(var l=s.firstContext;l!==null;){if(l.context===n){if(o.tag===1){l=Ya(-1,r&-r),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),U0(o.return,r,t),s.lanes|=r;break}l=l.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(ae(341));i.lanes|=r,s=i.alternate,s!==null&&(s.lanes|=r),U0(i,r,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}pn(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,us(t,r),a=aa(a),n=n(a),t.flags|=1,pn(e,t,n,r),t.child;case 14:return n=t.type,a=fa(n,t.pendingProps),a=fa(n.type,a),Ex(e,t,n,a,r);case 15:return TS(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:fa(n,a),hf(e,t),t.tag=1,Nn(n)?(e=!0,Nf(t)):e=!1,us(t,r),MS(t,n,a),G0(t,n,a,r),X0(null,t,n,!0,e,r);case 19:return IS(e,t,r);case 22:return $S(e,t,r)}throw Error(ae(156,t.tag))};function ej(e,t){return _k(e,t)}function uM(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jn(e,t,r,n){return new uM(e,t,r,n)}function Oy(e){return e=e.prototype,!(!e||!e.isReactComponent)}function fM(e){if(typeof e=="function")return Oy(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Gm)return 11;if(e===Hm)return 14}return 2}function Do(e,t){var r=e.alternate;return r===null?(r=Jn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function mf(e,t,r,n,a,o){var i=2;if(n=e,typeof e=="function")Oy(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Vi:return gi(r.children,a,o,t);case Wm:i=8,a|=8;break;case p0:return e=Jn(12,r,t,a|2),e.elementType=p0,e.lanes=o,e;case g0:return e=Jn(13,r,t,a),e.elementType=g0,e.lanes=o,e;case m0:return e=Jn(19,r,t,a),e.elementType=m0,e.lanes=o,e;case uk:return nh(r,a,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case lk:i=10;break e;case ck:i=9;break e;case Gm:i=11;break e;case Hm:i=14;break e;case yo:i=16,n=null;break e}throw Error(ae(130,e==null?e:typeof e,""))}return t=Jn(i,r,t,a),t.elementType=e,t.type=n,t.lanes=o,t}function gi(e,t,r,n){return e=Jn(7,e,n,t),e.lanes=r,e}function nh(e,t,r,n){return e=Jn(22,e,n,t),e.elementType=uk,e.lanes=r,e.stateNode={isHidden:!1},e}function Ap(e,t,r){return e=Jn(6,e,null,t),e.lanes=r,e}function Mp(e,t,r){return t=Jn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function dM(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=up(0),this.expirationTimes=up(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=up(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Py(e,t,r,n,a,o,i,s,l){return e=new dM(e,t,r,s,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Jn(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},cy(o),e}function hM(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Hi,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function tj(e){if(!e)return Bo;e=e._reactInternals;e:{if(Ei(e)!==e||e.tag!==1)throw Error(ae(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Nn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ae(171))}if(e.tag===1){var r=e.type;if(Nn(r))return tS(e,r,t)}return t}function rj(e,t,r,n,a,o,i,s,l){return e=Py(r,n,!0,e,a,o,i,s,l),e.context=tj(null),r=e.current,n=yn(),a=$o(r),o=Ya(n,a),o.callback=t??null,Eo(r,o,a),e.current.lanes=a,au(e,a,n),An(e,n),e}function ah(e,t,r,n){var a=t.current,o=yn(),i=$o(a);return r=tj(r),t.context===null?t.context=r:t.pendingContext=r,t=Ya(o,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Eo(a,t,i),e!==null&&(xa(e,a,i,o),uf(e,a,i)),i}function zf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Gx(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function _y(e,t){Gx(e,t),(e=e.alternate)&&Gx(e,t)}function pM(){return null}var nj=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ny(e){this._internalRoot=e}oh.prototype.render=Ny.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ae(409));ah(e,t,null,null)};oh.prototype.unmount=Ny.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Si(function(){ah(null,e,null,null)}),t[to]=null}};function oh(e){this._internalRoot=e}oh.prototype.unstable_scheduleHydration=function(e){if(e){var t=$k();e={blockedOn:null,target:e,priority:t};for(var r=0;r<bo.length&&t!==0&&t<bo[r].priority;r++);bo.splice(r,0,e),r===0&&Rk(e)}};function Ay(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ih(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Hx(){}function gM(e,t,r,n,a){if(a){if(typeof n=="function"){var o=n;n=function(){var c=zf(i);o.call(c)}}var i=rj(t,n,e,0,null,!1,!1,"",Hx);return e._reactRootContainer=i,e[to]=i.current,dc(e.nodeType===8?e.parentNode:e),Si(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var s=n;n=function(){var c=zf(l);s.call(c)}}var l=Py(e,0,!1,null,null,!1,!1,"",Hx);return e._reactRootContainer=l,e[to]=l.current,dc(e.nodeType===8?e.parentNode:e),Si(function(){ah(t,l,r,n)}),l}function sh(e,t,r,n,a){var o=r._reactRootContainer;if(o){var i=o;if(typeof a=="function"){var s=a;a=function(){var l=zf(i);s.call(l)}}ah(t,i,e,a)}else i=gM(r,t,e,a,n);return zf(i)}Ek=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Il(t.pendingLanes);r!==0&&(Km(t,r|1),An(t,hr()),!(ot&6)&&(ws=hr()+500,Uo()))}break;case 13:Si(function(){var n=ro(e,1);if(n!==null){var a=yn();xa(n,e,1,a)}}),_y(e,1)}};Ym=function(e){if(e.tag===13){var t=ro(e,134217728);if(t!==null){var r=yn();xa(t,e,134217728,r)}_y(e,134217728)}};Tk=function(e){if(e.tag===13){var t=$o(e),r=ro(e,t);if(r!==null){var n=yn();xa(r,e,t,n)}_y(e,t)}};$k=function(){return vt};Dk=function(e,t){var r=vt;try{return vt=e,t()}finally{vt=r}};P0=function(e,t,r){switch(t){case"input":if(x0(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Zd(n);if(!a)throw Error(ae(90));dk(n),x0(n,a)}}}break;case"textarea":pk(e,r);break;case"select":t=r.value,t!=null&&is(e,!!r.multiple,t,!1)}};wk=ky;kk=Si;var mM={usingClientEntryPoint:!1,Events:[iu,qi,Zd,xk,bk,ky]},Ol={findFiberByHostInstance:oi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yM={bundleType:Ol.bundleType,version:Ol.version,rendererPackageName:Ol.rendererPackageName,rendererConfig:Ol.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:so.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ok(e),e===null?null:e.stateNode},findFiberByHostInstance:Ol.findFiberByHostInstance||pM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zu.isDisabled&&zu.supportsFiber)try{Xd=zu.inject(yM),Ta=zu}catch{}}Gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mM;Gn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ay(t))throw Error(ae(200));return hM(e,t,null,r)};Gn.createRoot=function(e,t){if(!Ay(e))throw Error(ae(299));var r=!1,n="",a=nj;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Py(e,1,!1,null,null,r,!1,n,a),e[to]=t.current,dc(e.nodeType===8?e.parentNode:e),new Ny(t)};Gn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ae(188)):(e=Object.keys(e).join(","),Error(ae(268,e)));return e=Ok(t),e=e===null?null:e.stateNode,e};Gn.flushSync=function(e){return Si(e)};Gn.hydrate=function(e,t,r){if(!ih(t))throw Error(ae(200));return sh(null,e,t,!0,r)};Gn.hydrateRoot=function(e,t,r){if(!Ay(e))throw Error(ae(405));var n=r!=null&&r.hydratedSources||null,a=!1,o="",i=nj;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=rj(t,null,e,1,r??null,a,!1,o,i),e[to]=t.current,dc(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new oh(t)};Gn.render=function(e,t,r){if(!ih(t))throw Error(ae(200));return sh(null,e,t,!1,r)};Gn.unmountComponentAtNode=function(e){if(!ih(e))throw Error(ae(40));return e._reactRootContainer?(Si(function(){sh(null,null,e,!1,function(){e._reactRootContainer=null,e[to]=null})}),!0):!1};Gn.unstable_batchedUpdates=ky;Gn.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!ih(r))throw Error(ae(200));if(e==null||e._reactInternals===void 0)throw Error(ae(38));return sh(e,t,r,!1,n)};Gn.version="18.3.1-next-f1338f8080-20240426";function aj(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(aj)}catch(e){console.error(e)}}aj(),ak.exports=Gn;var vM=ak.exports,Vx=vM;d0.createRoot=Vx.createRoot,d0.hydrateRoot=Vx.hydrateRoot;const Ro=({isOpen:e,onClose:t,onConfirm:r,title:n,message:a,confirmText:o="I know the risk and insist to continue",cancelText:i="Cancel"})=>e?u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:u.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-md rounded-2xl shadow-2xl border border-amber-500/30 overflow-hidden transform transition-all scale-100",children:[u.jsxs("div",{className:"bg-amber-500/10 p-6 flex flex-col items-center justify-center border-b border-amber-500/20",children:[u.jsx("div",{className:"w-16 h-16 bg-amber-100 dark:bg-amber-900/30 rounded-full flex items-center justify-center mb-4",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-amber-600 dark:text-amber-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),u.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white text-center",children:n})]}),u.jsx("div",{className:"p-6",children:u.jsx("div",{className:"text-gray-600 dark:text-slate-300 text-center text-sm leading-relaxed",children:a})}),u.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-800/50 flex gap-3 justify-end border-t border-gray-200 dark:border-slate-800",children:[u.jsx("button",{onClick:t,className:"px-4 py-2 bg-white hover:bg-gray-100 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-700 dark:text-slate-200 font-semibold rounded-lg border border-gray-300 dark:border-slate-600 transition-colors text-sm",children:i}),u.jsx("button",{onClick:r,className:"px-4 py-2 bg-amber-600 hover:bg-amber-700 text-white font-bold rounded-lg shadow-lg shadow-amber-500/20 transition-all active:scale-95 text-sm",children:o})]})]})}):null,xM=({onFileSelected:e,onGenerateFakeDng:t,fileName:r,hasGeneratedData:n,viewMode:a,onSetViewMode:o,patternPeriod:i,onPatternPeriodChange:s,fillFactor:l,onFillFactorChange:c,patternPhase:f,onPatternPhaseChange:d,showPatternControls:h,onOpenAbout:p,onShowExif:m,bridgeStatus:v,onBridgeClick:x,isDrLabOpen:y,onToggleDrLab:g,isFftLabOpen:b,onToggleFftLab:S,onGenerateTestPic:w,onPTCFilesSelected:k,onDownloadDng:j,isThreePlane:P,onOpenDatabase:_})=>{const A=O.useRef(null),N=O.useRef(null),[C,F]=O.useState(!1),[L,I]=O.useState(!1),[U,B]=O.useState(!1),[R,$]=O.useState(!1),[G,ee]=O.useState("direct"),Q=O.useRef(null),q=O.useRef(null);O.useEffect(()=>{const Y=ie=>{Q.current&&!Q.current.contains(ie.target)&&B(!1),q.current&&!q.current.contains(ie.target)&&$(!1)};return document.addEventListener("mousedown",Y),()=>document.removeEventListener("mousedown",Y)},[]);const K=Y=>{var ie;B(!1),Y==="direct"?(ee("direct"),F(!0)):!v.isConnected||!v.hasDngConverter?I(!0):(ee("convert"),(ie=A.current)==null||ie.click())},le=()=>{var Y;F(!1),(Y=A.current)==null||Y.click()},ue=Y=>{var ge;const ie=(ge=Y.target.files)==null?void 0:ge[0];ie&&e(ie,G),Y.target.value=""},Se=Y=>{Y.target.files&&Y.target.files.length>0&&k(Y.target.files),Y.target.value=""},be=r==="pattern_test.dng"||(r==null?void 0:r.startsWith("Diff_"));return u.jsxs("header",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 mb-4 flex-shrink-0 relative z-50",children:[u.jsx(Ro,{isOpen:C,onClose:()=>F(!1),onConfirm:le,title:"Format Compatibility Warning",confirmText:"Continue",message:u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsx("p",{className:"font-bold text-gray-800 dark:text-gray-200 text-base",children:"Adobe DNG ConverterDNG"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Only 4-channel DNG files output by Adobe DNG Converter are fully guaranteed to be supported."}),u.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 rounded-lg border border-gray-200 dark:border-slate-700",children:[u.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-500 mb-1",children:"Download Adobe DNG Converter:"}),u.jsx("a",{href:"https://helpx.adobe.com/camera-raw/using/adobe-dng-converter.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline text-xs break-all",children:"https://helpx.adobe.com/camera-raw/using/adobe-dng-converter.html"})]})]})}),u.jsx(Ro,{isOpen:L,onClose:()=>I(!1),onConfirm:()=>I(!1),title:"DNG Converter Missing",confirmText:"OK",cancelText:"Cancel",message:u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsx("p",{className:"font-bold text-red-600 dark:text-red-400 text-base",children:"JiangBridge Offline or Adobe DNG Converter not installed (you may have to restart your device after installing ADC to use it here)"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"To use the conversion feature, you must run JiangBridge locally and have Adobe DNG Converter installed on your system."}),u.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 rounded-lg border border-gray-200 dark:border-slate-700",children:[u.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-500 mb-1",children:"Download Adobe DNG Converter:"}),u.jsx("a",{href:"https://helpx.adobe.com/camera-raw/using/adobe-dng-converter.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline text-xs break-all",children:"https://helpx.adobe.com/camera-raw/using/adobe-dng-converter.html"})]})]})}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-cyan-500 to-blue-600 dark:from-cyan-400 dark:to-blue-500 text-center sm:text-left",children:"Jiangtherapee Online"}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 hidden lg:block max-w-xs truncate",title:r||"No image loaded",children:r||"No image loaded"}),P&&u.jsx("span",{className:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400 border border-red-200 dark:border-red-800 text-[10px] font-bold px-2 py-1 rounded animate-pulse",children:" 3-PLANE / RGB MODE"})]}),u.jsxs("div",{className:"flex items-center gap-4 flex-wrap justify-end",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("button",{onClick:v.isConnected?void 0:x,className:`px-3 py-1.5 rounded-full text-xs font-bold transition-all duration-200 flex items-center gap-1.5 shadow-sm border ${v.isConnected?"bg-emerald-100 text-emerald-700 border-emerald-200 dark:bg-emerald-900/30 dark:text-emerald-400 dark:border-emerald-800 cursor-default":"bg-pink-100 text-pink-600 border-pink-200 dark:bg-pink-900/30 dark:text-pink-400 dark:border-pink-800 hover:bg-pink-200 dark:hover:bg-pink-900/50 cursor-pointer animate-pulse"}`,title:v.isConnected?"Local Bridge Service Connected":"Click to download Jiangbridge",children:[u.jsx("span",{className:`w-2 h-2 rounded-full ${v.isConnected?"bg-emerald-500":"bg-pink-500"}`}),v.isConnected?`JiangBridge Ready ${v.hasDngConverter?"DNG+":""}`:"JiangBridge Offline"]}),y&&u.jsxs("button",{onClick:g,className:"px-3 py-1.5 rounded-full text-xs font-bold transition-all duration-200 flex items-center gap-1.5 shadow-sm border bg-indigo-100 text-indigo-700 border-indigo-200 dark:bg-indigo-900/30 dark:text-indigo-400 dark:border-indigo-800 hover:bg-indigo-200 dark:hover:bg-indigo-900/50 cursor-pointer animate-in fade-in",title:"Click to turn off DR Lab",children:[u.jsx("span",{className:"w-2 h-2 rounded-full bg-indigo-500 animate-pulse"}),"DR Lab On"]}),b&&u.jsxs("button",{onClick:S,className:"px-3 py-1.5 rounded-full text-xs font-bold transition-all duration-200 flex items-center gap-1.5 shadow-sm border bg-fuchsia-100 text-fuchsia-700 border-fuchsia-200 dark:bg-fuchsia-900/30 dark:text-fuchsia-400 dark:border-fuchsia-800 hover:bg-fuchsia-200 dark:hover:bg-fuchsia-900/50 cursor-pointer animate-in fade-in",title:"Click to turn off FFT Lab",children:[u.jsx("span",{className:"w-2 h-2 rounded-full bg-fuchsia-500 animate-pulse"}),"FFT Lab On"]}),n&&u.jsxs("div",{className:"flex bg-gray-100 dark:bg-slate-800 rounded-lg p-1 border border-gray-200 dark:border-slate-600 shadow-inner transition-colors duration-300",children:[u.jsx("button",{onClick:()=>o("reference"),className:`px-3 py-1.5 rounded-md text-xs sm:text-sm font-bold transition-all duration-200 ${a==="reference"?"bg-green-500 dark:bg-green-600 text-white shadow-md":"text-gray-500 dark:text-slate-400 hover:text-gray-900 dark:hover:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700"}`,title:"The perfect uniform input",children:"Perfect"}),u.jsx("button",{onClick:()=>o("sampled"),className:`px-3 py-1.5 rounded-md text-xs sm:text-sm font-bold transition-all duration-200 ${a==="sampled"?"bg-blue-500 dark:bg-blue-600 text-white shadow-md":"text-gray-500 dark:text-slate-400 hover:text-gray-900 dark:hover:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700"}`,title:"Sampled Sensor View with Aperture Visualization",children:"Sampled (Sensor)"}),u.jsx("button",{onClick:()=>o("processed"),className:`px-3 py-1.5 rounded-md text-xs sm:text-sm font-bold transition-all duration-200 ${a==="processed"?"bg-purple-500 dark:bg-purple-600 text-white shadow-md":"text-gray-500 dark:text-slate-400 hover:text-gray-900 dark:hover:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700"}`,title:"Demosaiced Result",children:"Result"})]})]}),be&&u.jsxs("div",{className:"flex items-center gap-2 animate-in fade-in slide-in-from-right-4 duration-300",children:[h&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex flex-col items-end mr-1 bg-gray-50 dark:bg-slate-800/50 p-1.5 rounded-lg border border-gray-200 dark:border-slate-700 transition-colors duration-300",children:[u.jsx("span",{className:"text-[10px] text-gray-500 dark:text-slate-400 font-mono uppercase tracking-wider mb-1",children:"Density (Period)"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"range",min:"0.1",max:"10",step:"0.1",value:i,onChange:Y=>s(parseFloat(Y.target.value)),className:"w-20 h-2 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-purple-500",title:"Adjust the period of the line pairs in pixels"}),u.jsx("div",{className:"relative",children:u.jsx("input",{type:"number",min:"0.1",max:"100",step:"0.01",value:i,onChange:Y=>{const ie=parseFloat(Y.target.value);isNaN(ie)||s(ie)},className:"w-16 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-1 py-0.5 text-xs font-mono text-purple-600 dark:text-purple-300 text-right focus:outline-none focus:border-purple-500 focus:ring-1 focus:ring-purple-500 transition-colors duration-300"})})]})]}),u.jsxs("div",{className:"flex flex-col items-end mr-1 bg-gray-50 dark:bg-slate-800/50 p-1.5 rounded-lg border border-gray-200 dark:border-slate-700 transition-colors duration-300",children:[u.jsx("span",{className:"text-[10px] text-gray-500 dark:text-slate-400 font-mono uppercase tracking-wider mb-1",children:"Phase"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:f,onChange:Y=>d(parseFloat(Y.target.value)),className:"w-20 h-2 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-pink-500",title:"Shift pattern phase (0-1 cycle)"}),u.jsx("div",{className:"relative",children:u.jsx("input",{type:"number",min:"0",max:"1",step:"0.01",value:f,onChange:Y=>{const ie=parseFloat(Y.target.value);isNaN(ie)||d(ie)},className:"w-12 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-1 py-0.5 text-xs font-mono text-pink-600 dark:text-pink-300 text-right focus:outline-none focus:border-pink-500 focus:ring-1 focus:ring-pink-500 transition-colors duration-300"})})]})]}),u.jsxs("div",{className:"flex flex-col items-end mr-1 bg-gray-50 dark:bg-slate-800/50 p-1.5 rounded-lg border border-gray-200 dark:border-slate-700 transition-colors duration-300",children:[u.jsx("span",{className:"text-[10px] text-gray-500 dark:text-slate-400 font-mono uppercase tracking-wider mb-1",children:"Fill Factor"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"range",min:"1",max:"100",step:"1",value:l*100,onChange:Y=>c(parseInt(Y.target.value)/100),className:"w-20 h-2 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-green-500",title:"Adjust pixel aperture fill factor %"}),u.jsxs("div",{className:"relative flex items-center",children:[u.jsx("input",{type:"number",min:"1",max:"100",step:"1",value:Math.round(l*100),onChange:Y=>{const ie=parseInt(Y.target.value);isNaN(ie)||c(Math.min(100,Math.max(1,ie))/100)},className:"w-12 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-1 py-0.5 text-xs font-mono text-green-600 dark:text-green-300 text-right focus:outline-none focus:border-green-500 focus:ring-1 focus:ring-green-500 transition-colors duration-300"}),u.jsx("span",{className:"ml-1 text-[10px] text-gray-400 dark:text-slate-500 font-mono",children:"%"})]})]})]})]}),u.jsxs("button",{onClick:j,className:`flex flex-col items-center justify-center p-2 rounded-lg transition-colors group ${r!=null&&r.startsWith("Diff_")?"bg-fuchsia-50 hover:bg-fuchsia-100 dark:bg-fuchsia-900/20 dark:hover:bg-fuchsia-900/40 border-fuchsia-200 dark:border-fuchsia-800":"bg-gray-50 hover:bg-gray-100 dark:bg-slate-800 dark:hover:bg-slate-700 border-gray-200 dark:border-slate-600"} border`,title:r!=null&&r.startsWith("Diff_")?"Export Subtracted Frame as DNG":"Download Synthetic DNG",children:[u.jsx("svg",{className:`w-5 h-5 ${r!=null&&r.startsWith("Diff_")?"text-fuchsia-500 group-hover:text-fuchsia-600":"text-gray-500 dark:text-slate-400 group-hover:text-cyan-600 dark:group-hover:text-cyan-400"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),u.jsx("span",{className:"text-[8px] font-bold uppercase mt-0.5 opacity-50",children:"DNG"})]})]}),u.jsx("input",{type:"file",ref:A,onChange:ue,className:"hidden",accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff"}),u.jsx("input",{type:"file",ref:N,onChange:Se,className:"hidden",multiple:!0,accept:".csv"}),u.jsxs("div",{className:"relative inline-block text-left",ref:q,children:[u.jsxs("button",{onClick:()=>$(!R),className:"bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-lg transition-colors duration-300 shadow-lg shadow-purple-500/30 text-sm whitespace-nowrap flex items-center gap-2",children:["TEST Tools",u.jsx("svg",{className:`w-4 h-4 transition-transform duration-200 ${R?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),R&&u.jsx("div",{className:"absolute right-0 mt-2 w-56 rounded-xl bg-white dark:bg-slate-800 shadow-xl ring-1 ring-black ring-opacity-5 focus:outline-none z-50 overflow-hidden origin-top-right transition-all animate-in fade-in slide-in-from-top-2 border border-gray-200 dark:border-slate-700",children:u.jsxs("div",{className:"py-1",children:[u.jsxs("button",{onClick:()=>{$(!1),t()},className:"w-full text-left px-4 py-3 text-sm text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors flex items-center gap-2",children:[u.jsx("svg",{className:"w-4 h-4 text-purple-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),u.jsx("span",{children:"Generate Pattern DNG"})]}),u.jsxs("button",{onClick:()=>{$(!1),y||g(),b&&S()},className:`w-full text-left px-4 py-3 text-sm transition-colors flex items-center gap-2 border-t border-gray-100 dark:border-slate-700 ${y?"bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 dark:text-indigo-400 font-bold":"text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700"}`,children:[u.jsx("svg",{className:"w-4 h-4 text-indigo-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.384-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})}),u.jsxs("span",{children:["DR Lab ",y?"(On)":""]})]}),u.jsxs("button",{onClick:()=>{$(!1),b||S(),y&&g()},className:`w-full text-left px-4 py-3 text-sm transition-colors flex items-center gap-2 border-t border-gray-100 dark:border-slate-700 ${b?"bg-fuchsia-50 dark:bg-fuchsia-900/20 text-fuchsia-600 dark:text-fuchsia-400 font-bold":"text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700"}`,children:[u.jsx("svg",{className:"w-4 h-4 text-fuchsia-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),u.jsxs("span",{children:["FFT Lab ",b?"(On)":""]})]}),u.jsxs("button",{onClick:()=>{var Y;$(!1),(Y=N.current)==null||Y.click()},className:"w-full text-left px-4 py-3 text-sm text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors flex items-center gap-2 border-t border-gray-100 dark:border-slate-700",children:[u.jsx("svg",{className:"w-4 h-4 text-emerald-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"})}),u.jsx("span",{children:"Generate PTC & TargetSNR"})]})]})})]}),u.jsxs("div",{className:"relative inline-block text-left",ref:Q,children:[u.jsxs("button",{onClick:()=>B(!U),className:"bg-cyan-500 hover:bg-cyan-600 text-white font-bold py-2 px-4 rounded-lg transition-colors duration-300 shadow-lg shadow-cyan-500/30 text-sm whitespace-nowrap flex items-center gap-2",children:["Load Image",u.jsx("svg",{className:`w-4 h-4 transition-transform duration-200 ${U?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),U&&u.jsx("div",{className:"absolute right-0 mt-2 w-56 rounded-xl bg-white dark:bg-slate-800 shadow-xl ring-1 ring-black ring-opacity-5 focus:outline-none z-50 overflow-hidden origin-top-right transition-all animate-in fade-in slide-in-from-top-2 border border-gray-200 dark:border-slate-700",children:u.jsxs("div",{className:"py-1",children:[u.jsxs("button",{onClick:()=>K("direct"),className:"w-full text-left px-4 py-3 text-sm text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors flex items-center gap-2",children:[u.jsx("svg",{className:"w-4 h-4 text-cyan-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),u.jsx("span",{children:"Load Image (Direct)"})]}),u.jsxs("button",{onClick:()=>K("convert"),className:"w-full text-left px-4 py-3 text-sm text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors flex items-center gap-2 border-t border-gray-100 dark:border-slate-700",children:[u.jsx("svg",{className:"w-4 h-4 text-purple-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.384-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})}),u.jsx("span",{children:"Convert to Adobe DNG & Load"})]})]})})]}),r&&m&&u.jsxs("button",{onClick:m,className:"bg-orange-500 hover:bg-orange-600 text-white font-bold py-2 px-4 rounded-lg transition-colors duration-300 shadow-lg shadow-orange-500/30 text-sm whitespace-nowrap flex items-center gap-1",title:"View EXIF Data",children:[u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"EXIF"]}),u.jsx("button",{onClick:p,className:"bg-teal-600 hover:bg-teal-700 text-white font-bold py-2 px-4 rounded-lg transition-colors duration-300 shadow-lg shadow-teal-500/30 text-sm whitespace-nowrap",children:"About/Tutorial/Tools"}),u.jsx("a",{href:"https://y-g-jiang.github.io/index.html",target:"_blank",rel:"noopener noreferrer",className:"bg-gray-200 hover:bg-gray-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-700 dark:text-slate-100 font-semibold py-2 px-4 rounded-lg transition-colors duration-300 text-sm",children:"Home"})]})]})},bM=({image:e,zoom:t,pan:r,onPanChange:n,onZoomChange:a,onSelectionChange:o,forcedSelection:i,theme:s,touchAction:l="pan",isMarking:c=!1,onPointClick:f,markers:d=[],gridRects:h=[]})=>{var Q;const p=O.useRef(null),m=O.useRef(document.createElement("canvas")),[v,x]=O.useState(!1),[y,g]=O.useState({x:0,y:0}),b=O.useRef(null),S=O.useRef(null),w=O.useRef(null),[k,j]=O.useState(!1),[P,_]=O.useState(null),[A,N]=O.useState(null);O.useEffect(()=>{i!==void 0&&N(i)},[i]);const C=O.useCallback(()=>{const q=p.current,K=q==null?void 0:q.getContext("2d");return{canvas:q,ctx:K}},[]);O.useEffect(()=>{const q=m.current,K=q.getContext("2d");if(!e||!K)return;let le=0,ue=0;e instanceof ImageData?(le=e.width,ue=e.height):e instanceof HTMLImageElement&&(le=e.naturalWidth,ue=e.naturalHeight),!(le===0||ue===0)&&((q.width!==le||q.height!==ue)&&(q.width=le,q.height=ue),e instanceof ImageData?K.putImageData(e,0,0):(K.clearRect(0,0,le,ue),K.drawImage(e,0,0)))},[e]);const F=O.useCallback(()=>{const{canvas:q,ctx:K}=C();if(!(!q||!K||!e)){if(K.setTransform(1,0,0,1,0,0),K.fillStyle=s==="dark"?"rgb(15, 23, 42)":"rgb(243, 244, 246)",K.fillRect(0,0,q.width,q.height),K.setTransform(t,0,0,t,r.x,r.y),m.current.width>0&&(K.imageSmoothingEnabled=!1,K.drawImage(m.current,0,0)),A){K.strokeStyle="#06b6d4",K.lineWidth=1/t,K.fillStyle="rgba(6, 182, 212, 0.2)",K.beginPath(),K.rect(A.x,A.y,A.w,A.h),K.fill(),K.stroke(),K.save(),K.fillStyle="#fff";const le=Math.max(10,14/t);K.font=`${le}px monospace`,K.shadowColor="rgba(0,0,0,0.8)",K.shadowBlur=4,K.shadowOffsetX=1,K.shadowOffsetY=1,K.fillText(`${Math.round(A.w)}x${Math.round(A.h)}`,A.x,A.y-5/t),K.restore()}if(h&&h.length>0){K.save(),K.strokeStyle="#f59e0b",K.lineWidth=1/t,K.globalAlpha=.8,K.beginPath(),h.forEach(Se=>{K.rect(Se.x,Se.y,Se.w,Se.h)}),K.stroke();const le=h[0];K.fillStyle="#f59e0b";const ue=Math.max(10,12/t);K.font=`${ue}px monospace`,K.fillText(`${le.w}x${le.h}`,le.x,le.y-4/t),K.restore()}if(d&&d.length>0){K.save();const le=6/t,ue=Math.max(12,16/t);K.font=`bold ${ue}px sans-serif`,K.textAlign="center",K.textBaseline="middle",d.forEach((Se,be)=>{K.beginPath(),K.arc(Se.x,Se.y,le,0,2*Math.PI),K.fillStyle="white",K.fill(),K.strokeStyle="#4338ca",K.lineWidth=2/t,K.stroke(),K.fillStyle="#4338ca",K.fillText((be+1).toString(),Se.x,Se.y-12/t)}),K.restore()}}},[C,e,t,r,s,A,d,h]);O.useEffect(()=>{const{canvas:q}=C();if(!q)return;const K=new ResizeObserver(()=>{q.width=q.clientWidth,q.height=q.clientHeight,F()});return K.observe(q),()=>K.disconnect()},[C,F]),O.useEffect(()=>{F()},[F,e,r,t,s,A,d,h]);const L=q=>{const{canvas:K}=C();if(!K)return{x:0,y:0};const le=K.getBoundingClientRect();return{x:q.clientX-le.left,y:q.clientY-le.top}},I=(q,K)=>({x:(q-r.x)/t,y:(K-r.y)/t}),U=q=>{q.preventDefault();const K=L(q);if(c){const le=I(K.x,K.y);f&&f(le);return}if(q.shiftKey||l==="select"){j(!0);const le=I(K.x,K.y),ue={x:Math.floor(le.x),y:Math.floor(le.y)};_(ue),N(null),o&&o(null)}else x(!0),g({x:K.x-r.x,y:K.y-r.y})},B=q=>{const K=L(q);if(k&&P){const le=I(K.x,K.y),ue=Math.floor(le.x),Se=Math.floor(le.y),be=Math.min(P.x,ue),Y=Math.min(P.y,Se),ie=Math.max(P.x,ue),ge=Math.max(P.y,Se),W=ie-be+1,ve=ge-Y+1;N({x:be,y:Y,w:W,h:ve})}else v&&n({x:K.x-y.x,y:K.y-y.y})},R=()=>{k&&(j(!1),A&&o&&A.w>0&&A.h>0&&o(A)),x(!1)},$=q=>{var K;if(q.touches.length===1){const le=q.touches[0],ue=(K=p.current)==null?void 0:K.getBoundingClientRect();if(!ue)return;const Se=le.clientX-ue.left,be=le.clientY-ue.top;if(c){const Y=I(Se,be);f&&f(Y);return}if(l==="select"){const Y=I(Se,be),ie={x:Math.floor(Y.x),y:Math.floor(Y.y)};_(ie),j(!0),N(null),o&&o(null)}else w.current={x:Se,y:be},g({x:Se-r.x,y:be-r.y}),x(!0)}else if(q.touches.length===2){const le=Math.hypot(q.touches[0].clientX-q.touches[1].clientX,q.touches[0].clientY-q.touches[1].clientY);b.current=le,S.current=t,x(!1),j(!1)}},G=q=>{var K;if(q.touches.length===1){const le=q.touches[0],ue=(K=p.current)==null?void 0:K.getBoundingClientRect();if(!ue)return;const Se=le.clientX-ue.left,be=le.clientY-ue.top;if(c)return;if(k&&P){const Y=I(Se,be),ie=Math.floor(Y.x),ge=Math.floor(Y.y),W=Math.min(P.x,ie),ve=Math.min(P.y,ge),he=Math.max(P.x,ie),Oe=Math.max(P.y,ge),Ke=he-W+1,et=Oe-ve+1;N({x:W,y:ve,w:Ke,h:et})}else v&&n({x:Se-y.x,y:be-y.y})}else if(q.touches.length===2&&b.current&&S.current&&a){const ue=Math.hypot(q.touches[0].clientX-q.touches[1].clientX,q.touches[0].clientY-q.touches[1].clientY)/b.current;a(S.current*ue)}},ee=()=>{k&&(j(!1),A&&o&&A.w>0&&A.h>0&&o(A)),x(!1),b.current=null,S.current=null,w.current=null};return u.jsx("canvas",{ref:p,className:`w-full h-full block touch-none ${c||k||(Q=window.event)!=null&&Q.shiftKey||l==="select"?"cursor-crosshair":"cursor-grab active:cursor-grabbing"}`,onMouseDown:U,onMouseMove:B,onMouseUp:R,onMouseLeave:R,onTouchStart:$,onTouchMove:G,onTouchEnd:ee,onTouchCancel:ee,tabIndex:0})},Uu=({title:e,children:t})=>u.jsxs("div",{className:"border-b border-gray-200 dark:border-slate-700 transition-colors duration-300",children:[u.jsx("div",{className:"p-4 font-semibold text-gray-800 dark:text-slate-200 bg-gray-50 dark:bg-slate-800/30 border-b border-gray-200 dark:border-slate-800 select-none cursor-default transition-colors duration-300",children:u.jsx("span",{children:e})}),u.jsx("div",{className:"p-4 bg-white dark:bg-slate-900/50 transition-colors duration-300",children:t})]}),wM=[{value:-1,label:"Raw Bayer (Grayscale)"},{value:0,label:"Linear interpolation"},{value:1,label:"VNG (Variable Number of Gradients)"},{value:2,label:"PPG (Patterned Pixel Grouping)"},{value:3,label:"AHD (Adaptive Homogeneity-Directed)"},{value:4,label:"DCB (Demosaicing with Color Back-refinement)"},{value:11,label:"DHT (Modified AHD)"},{value:12,label:"AAHD (Adaptive AHD)"}],Wu=({checked:e,onChange:t,label:r})=>u.jsxs("div",{className:"flex items-center justify-between py-2 cursor-pointer group",onClick:()=>t(!e),children:[u.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-slate-300 select-none group-hover:text-gray-900 dark:group-hover:text-slate-200 transition-colors",children:r}),u.jsx("div",{className:`relative w-11 h-6 rounded-full transition-colors duration-200 ease-in-out ${e?"bg-cyan-500 dark:bg-cyan-600":"bg-gray-300 dark:bg-slate-600 group-hover:bg-gray-400 dark:group-hover:bg-slate-500"}`,children:u.jsx("div",{className:`absolute left-1 top-1 bg-white w-4 h-4 rounded-full shadow-md transform transition-transform duration-200 ease-in-out ${e?"translate-x-5":"translate-x-0"}`})})]}),Cp=(e,t)=>{if(!e)return null;if(t){const r=e.bayerPattern.toUpperCase(),n=l=>{const c=[];for(let f=0;f<4;f++)r[f]===l&&c.push(f);return c},a=t.BlackLevelRed,o=t.BlackLevelGreen,i=t.BlackLevelBlue;if(a!==void 0&&o!==void 0&&i!==void 0){const l=parseFloat(a),c=parseFloat(o),f=parseFloat(i);if(!isNaN(l)&&!isNaN(c)&&!isNaN(f)){const d=[0,0,0,0];return d.fill(c),n("R").forEach(h=>d[h]=l),n("G").forEach(h=>d[h]=c),n("B").forEach(h=>f),d}}let s=t.BlackLevel;if(s===void 0&&(s=t.BlackLevel2),s!==void 0){let l=[];if(Array.isArray(s)?l=s.map(Number):typeof s=="string"?l=s.trim().split(/\s+/).map(Number):typeof s=="number"&&(l=[s,s,s,s]),l.length===1&&!isNaN(l[0])&&(l=[l[0],l[0],l[0],l[0]]),l.length>=4&&!l.slice(0,4).some(isNaN))return[l[0],l[1],l[2],l[3]]}}return e.blackLevels&&e.blackLevels.length===4?[e.blackLevels[0],e.blackLevels[1],e.blackLevels[2],e.blackLevels[3]]:null},kM=e=>{const{rawImageData:t,displaySettings:r,onApplyDisplaySettings:n,onSetSelection:a,exifData:o,isBridgeConnected:i,isDrLabOpen:s,drMarkingStep:l,onStartMarking:c,onGenerateTestPic:f,drRoiSize:d,onDrRoiSizeChange:h,drGridRows:p,onDrGridRowsChange:m,drGridCols:v,onDrGridColsChange:x,onBatchDrLab:y,hasDrMarkers:g,isFftLabOpen:b,onProcessPair:S,onProcessBatchDiff:w,onProcessStackFft:k,onOpenCrossCalc:j,isThreePlane:P,onToggleXTrans:_,xtransPhase:A,onXTransPhaseChange:N,isXTransConverted:C}=e,F=!!t,L=!!(t!=null&&t.isXTrans),I=!!_,[U,B]=O.useState(r.exposure.toString()),[R,$]=O.useState(""),[G,ee]=O.useState("0 0 0 0"),[Q,q]=O.useState("1.0"),[K,le]=O.useState("1.0"),[ue,Se]=O.useState(r.demosaicMethod),[be,Y]=O.useState(!!r.showKadc),[ie,ge]=O.useState(!!r.subtractBlackLevelFromStats),[W,ve]=O.useState("64"),[he,Oe]=O.useState(!1),[Ke,et]=O.useState(!1),[Qt,Gt]=O.useState("0 0 0 0"),[Rr,ct]=O.useState("2840 6303 3935 6303"),[ur,Jt]=O.useState("780 1720 1101 1720"),[Ht,gr]=O.useState(!1),[Mr,Vt]=O.useState(!1),[or,Hr]=O.useState(!1),[er,Vr]=O.useState("single"),at=O.useRef(null),He=O.useRef(null),bt=O.useRef(null),Bt=O.useRef(null),[Pt,Xr]=O.useState(null),[Xt,Kt]=O.useState(null),[Lr,dt]=O.useState(!1),[sn,Kr]=O.useState(!0),En=O.useRef(null),Tn=O.useRef(null),bn=O.useRef(!1),ln=O.useRef(null);O.useEffect(()=>{t!==ln.current&&(bn.current=!1,ln.current=t)},[t]),O.useEffect(()=>{if(i&&t&&!bn.current){bn.current=!0;const V=Cp(t,o),Ce=V&&V.some(rt=>rt>0);if(V&&Ce){Oe(!0);const rt={...r,blackLevel:V,showKadc:!0,subtractBlackLevelFromStats:!0,exposure:r.exposure,wbGains:r.wbGains||[1,1],demosaicMethod:r.demosaicMethod,renderMode:"standard"};n(rt)}}},[i,t,o,r,n]),O.useEffect(()=>{if(B(r.exposure.toString()),r.customMatrix?($(r.customMatrix.join(" ")),Oe(!0)):$(""),r.blackLevel&&r.blackLevel.length===4)ee(r.blackLevel.join(" "));else{const V=Cp(t,o);ee(V?V.join(" "):"0 0 0 0")}q(r.wbGains?r.wbGains[0].toString():"1.0"),le(r.wbGains?r.wbGains[1].toString():"1.0"),Se(r.demosaicMethod),Y(!!r.showKadc),ge(!!r.subtractBlackLevelFromStats),r.advancedZeroDep&&(Gt(r.advancedZeroDep.bl.join(" ")),ct(r.advancedZeroDep.bg.join(" ")),Jt(r.advancedZeroDep.fg.join(" ")),et(!0))},[r,t,o]);const br=V=>B(V),Ir=V=>q(V),Cr=V=>le(V),cn=V=>Se(parseInt(V.target.value,10)),$n=V=>$(V.target.value),Tt=()=>{B("0"),Se(3),q("1.0"),le("1.0"),Y(!0),ge(!0),$(""),Oe(!1),et(!1);const V=Cp(t,o);ee(V?V.join(" "):"0 0 0 0")},Yt=()=>{!t||!a||a({x:0,y:0,w:t.width,h:t.height})},$t=()=>{if(!t||!a)return;const V=parseInt(W,10);if(isNaN(V)||V<=0)return;const Ce=Math.min(V,t.width),rt=Math.min(V,t.height),Le=Math.floor((t.width-Ce)/2),un=Math.floor((t.height-rt)/2);a({x:Le,y:un,w:Ce,h:rt})},ne=()=>{const Ce=G.split(/[\s,]+/).filter(rt=>rt.trim()!=="").map(Number);if(Ce.length===1&&!isNaN(Ce[0]))return[Ce[0],Ce[0],Ce[0],Ce[0]];if(Ce.length>=4&&!Ce.slice(0,4).some(isNaN))return[Ce[0],Ce[1],Ce[2],Ce[3]]},Pe=V=>{const Ce=V.trim().split(/[\s,]+/).map(Number);return Ce.length===4&&!Ce.some(isNaN)?Ce:Ce.length===1&&!isNaN(Ce[0])?[Ce[0],Ce[0],Ce[0],Ce[0]]:null},_e=()=>{const V={...r},Ce=parseFloat(U);isNaN(Ce)||(V.exposure=Ce);const rt=parseFloat(Q),Le=parseFloat(K);if(!isNaN(rt)&&!isNaN(Le)&&(V.wbGains=[rt,Le]),V.demosaicMethod=ue,V.renderMode="standard",he){const un=ne();un&&(V.blackLevel=un);const Re=R.trim().replace(/[\s,\n]+/g," ");if(Re){const fr=Re.split(" ").map(Number);fr.length===9&&!fr.some(isNaN)?V.customMatrix=fr:alert("Invalid matrix format. Please ensure exactly 9 numeric values (3x3).")}else delete V.customMatrix;V.showKadc=be,V.subtractBlackLevelFromStats=ie}else delete V.customMatrix,delete V.blackLevel,delete V.showKadc,delete V.subtractBlackLevelFromStats;n(V)},Je=()=>{Vt(!0)},Fe=V=>{const Ce={...r},rt=ne();rt&&(Ce.blackLevel=rt);const Le=parseFloat(Q),un=parseFloat(K);!isNaN(Le)&&!isNaN(un)&&(Ce.wbGains=[Le,un]);const Re=parseFloat(U);if(isNaN(Re)||(Ce.exposure=Re),V==="bilinear"){const fr=R.trim().replace(/[\s,\n]+/g," ");if(fr){const wn=fr.split(" ").map(Number);wn.length===9&&!wn.some(isNaN)&&(Ce.customMatrix=wn)}}Ce.renderMode=V==="mosaic"?"zero-dependency":"zero-dep-color",Vt(!1),n(Ce)},wt=()=>{const V=Pe(Qt),Ce=Pe(Rr),rt=Pe(ur);if(!V||!Ce||!rt){alert("Please enter valid 4-channel numbers for BL, BG, and FG.");return}const Le={...r,renderMode:"advanced-zero-dep",advancedZeroDep:{bl:V,bg:Ce,fg:rt}};n(Le)},ht=V=>{V.target.files&&V.target.files.length>0&&y&&y(V.target.files,er),V.target.value="",Hr(!1)},ir=async V=>{var rt;const Ce=(rt=V.target.files)==null?void 0:rt[0];if(Ce){try{const un=(await Ce.text()).split(`
`),Re=[];Re.push("#BlackLevel: 0,0,0,0"),Re.push("#ImageHeight: 0"),Re.push("Row,Col,R_Mean,G1_Mean,G2_Mean,B_Mean,R_Std,G1_Std,G2_Std,B_Std");let fr=1;for(let fo=0;fo<un.length;fo++){const Oa=un[fo].trim();if(!Oa||Oa.includes("R_mean")||Oa.includes("R_std"))continue;const mr=Oa.split(/\s+/).map(Number);if(mr.length<8||mr.some(isNaN))continue;const Dn=[fr,1,mr[0],mr[2],mr[6],mr[4],mr[1],mr[3],mr[7],mr[5]].join(",");Re.push(Dn),fr++}const wn=new Blob([Re.join(`
`)],{type:"text/csv"}),Vn=URL.createObjectURL(wn),kn=document.createElement("a");kn.href=Vn,kn.download=Ce.name.replace(/\.[^/.]+$/,"")+"_converted.csv",document.body.appendChild(kn),kn.click(),document.body.removeChild(kn),URL.revokeObjectURL(Vn)}catch(Le){console.error("Conversion failed",Le),alert("Failed to convert file.")}V.target.value=""}},Me=V=>{V.target.files&&V.target.files[0]&&Xr(V.target.files[0])},tt=V=>{V.target.files&&V.target.files[0]&&Kt(V.target.files[0])},pt=()=>{Pt&&Xt&&S&&S(Pt,Xt,Lr,sn)},gt=V=>{V.target.files&&V.target.files.length>0&&w&&w(V.target.files),V.target.value=""},tr=V=>{V.target.files&&V.target.files.length>0&&k&&k(V.target.files),V.target.value=""},de=!!C;return u.jsxs("div",{className:"flex flex-col h-full",children:[u.jsxs("div",{className:"flex-grow overflow-y-auto",children:[P&&u.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-3 border-b border-red-100 dark:border-red-800 text-center animate-pulse",children:[u.jsx("p",{className:"text-xs font-bold text-red-600 dark:text-red-400 uppercase tracking-wide",children:" 3-Plane / Full Color"}),u.jsx("p",{className:"text-[10px] text-red-500/80 dark:text-red-300/70 mt-1",children:"Demosaic disabled. Stats analysis treated as pseudo-Bayer."})]}),L&&!C&&u.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 p-3 border-b border-amber-100 dark:border-amber-800 text-center",children:[u.jsx("p",{className:"text-xs font-bold text-amber-600 dark:text-amber-400 uppercase tracking-wide",children:" X-Trans Native (Unsupported)"}),u.jsx("p",{className:"text-[10px] text-amber-600/80 dark:text-amber-300/70 mt-1 text-left leading-tight px-1",children:"Currently reading raw 6x6 pattern as Bayer. Stats will be incorrect. Please enable Pseudo-Bayer conversion below."})]}),C&&u.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 p-3 border-b border-emerald-100 dark:border-emerald-800 text-center",children:[u.jsx("p",{className:"text-xs font-bold text-emerald-600 dark:text-emerald-400 uppercase tracking-wide",children:" X-Trans Pseudo-Bayer"}),u.jsx("p",{className:"text-[10px] text-emerald-600/80 dark:text-emerald-300/70 mt-1 text-left leading-tight px-1",children:"Converted 6x6  2x2 RGGB (Subsampled). Demosaic & Analysis fully supported."})]}),b&&u.jsx(Uu,{title:"FFT Lab (Noise Profile)",children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"space-y-3 bg-gray-50 dark:bg-slate-800/40 p-3 rounded-xl border border-gray-100 dark:border-slate-800",children:[u.jsxs("h4",{className:"text-[10px] font-bold text-fuchsia-600 dark:text-fuchsia-400 uppercase tracking-widest flex items-center gap-2",children:[u.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-fuchsia-500"})," 1. Pair Difference (Sub)"]}),u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx("input",{type:"file",ref:at,className:"hidden",onChange:Me,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff"}),u.jsx("button",{onClick:()=>{var V;return(V=at.current)==null?void 0:V.click()},className:`w-full py-2 px-3 rounded-lg border text-[10px] font-bold text-left truncate transition-colors ${Pt?"bg-fuchsia-50 dark:bg-fuchsia-900/20 border-fuchsia-300 dark:border-fuchsia-800 text-fuchsia-700 dark:text-fuchsia-300":"bg-white dark:bg-slate-800 border-gray-300 dark:border-slate-600 text-gray-500 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:Pt?`A: ${Pt.name}`:"Load Image A"}),u.jsx("input",{type:"file",ref:He,className:"hidden",onChange:tt,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff"}),u.jsx("button",{onClick:()=>{var V;return(V=He.current)==null?void 0:V.click()},className:`w-full py-2 px-3 rounded-lg border text-[10px] font-bold text-left truncate transition-colors ${Xt?"bg-fuchsia-50 dark:bg-fuchsia-900/20 border-fuchsia-300 dark:border-fuchsia-800 text-fuchsia-700 dark:text-fuchsia-300":"bg-white dark:bg-slate-800 border-gray-300 dark:border-slate-600 text-gray-500 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:Xt?`B: ${Xt.name}`:"Load Image B"})]}),u.jsx("div",{className:"flex flex-col gap-1.5 pt-1",children:u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:sn,onChange:V=>Kr(V.target.checked),className:"w-3 h-3 text-fuchsia-600 border-gray-300 rounded focus:ring-0"}),u.jsx("span",{className:"text-[10px] text-gray-600 dark:text-slate-300",children:"Normalize (2)"})]})}),u.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[u.jsx("button",{onClick:pt,disabled:!Pt||!Xt,className:"w-full bg-fuchsia-600 hover:bg-fuchsia-500 disabled:opacity-30 text-white font-bold py-2 rounded shadow transition-all active:scale-95 text-[10px]",children:"Generate Diff & Load"}),u.jsx("input",{type:"file",ref:bt,className:"hidden",multiple:!0,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff",onChange:gt}),u.jsx("button",{onClick:()=>{var V;return(V=bt.current)==null?void 0:V.click()},className:"w-full bg-slate-700 hover:bg-slate-600 text-white font-bold py-2 rounded shadow transition-all active:scale-95 text-[10px] flex items-center justify-center gap-1",children:"Batch Diffs (Auto Download)"})]})]}),u.jsxs("div",{className:"space-y-3 bg-gray-50 dark:bg-slate-800/40 p-3 rounded-xl border border-gray-100 dark:border-slate-800",children:[u.jsxs("h4",{className:"text-[10px] font-bold text-cyan-600 dark:text-cyan-400 uppercase tracking-widest flex items-center gap-2",children:[u.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-cyan-500"})," 2. Stack FFT (Avg PSD)"]}),u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx("input",{type:"file",ref:Bt,className:"hidden",multiple:!0,onChange:tr,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff"}),u.jsx("button",{onClick:()=>{var V;return(V=Bt.current)==null?void 0:V.click()},className:"w-full py-3 bg-cyan-600 hover:bg-cyan-500 text-white font-bold rounded-lg shadow-md transition-all active:scale-95 text-[10px] flex items-center justify-center gap-2",children:"Select Sequence Files"})]})]}),u.jsx("div",{className:"flex flex-col gap-2 pt-2",children:u.jsx("button",{onClick:j,className:"w-full bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-2 px-4 rounded-lg shadow-md transition-all active:scale-95 text-[10px] flex items-center justify-center gap-2",children:"Cross-Compensation Calc"})})]})}),s&&u.jsx(Uu,{title:"DR Lab Tools",children:u.jsxs("div",{className:"space-y-4",children:[u.jsx("button",{onClick:f,className:"w-full bg-amber-500 hover:bg-amber-600 text-white font-bold py-2 px-4 rounded-lg shadow-md transition-colors text-sm",children:"Generate Test Pic"}),u.jsxs("div",{className:"border-t border-gray-200 dark:border-slate-700 pt-3",children:[u.jsx("h4",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide mb-2",children:"Grid Analysis"}),h&&d!==void 0&&u.jsx("div",{className:"flex items-center justify-between mb-3",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-sm text-gray-600 dark:text-slate-300",children:"Box Size:"}),u.jsx("input",{type:"number",min:"8",max:"512",step:"2",value:d,onChange:V=>h(parseInt(V.target.value)||64),className:"w-12 px-1 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-sm text-gray-900 dark:text-slate-100 text-center"}),u.jsx("span",{className:"text-xs text-gray-400",children:"px"})]})}),m&&x&&p!==void 0&&v!==void 0&&u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("span",{className:"text-sm text-gray-600 dark:text-slate-300",children:"Layout:"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"number",min:"1",max:"50",value:p,onChange:V=>m(Math.max(1,parseInt(V.target.value)||1)),className:"w-10 px-1 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md outline-none text-sm text-center",title:"Rows"}),u.jsx("span",{className:"text-xs text-gray-400",children:"x"}),u.jsx("input",{type:"number",min:"1",max:"50",value:v,onChange:V=>x(Math.max(1,parseInt(V.target.value)||1)),className:"w-10 px-1 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md outline-none text-sm text-center",title:"Columns"})]})]}),u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx("button",{onClick:c,disabled:!F||l!==void 0&&l>0,className:`w-full font-bold py-2 px-4 rounded-lg shadow-md transition-all text-sm ${F?l&&l>0?"bg-indigo-100 dark:bg-indigo-900 text-indigo-700 dark:text-indigo-300 border-2 border-indigo-500":"bg-indigo-600 hover:bg-indigo-700 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:l&&l>0?"Marking Active...":"Mark Corners"}),y&&u.jsxs(u.Fragment,{children:[u.jsx("input",{type:"file",ref:En,className:"hidden",multiple:!0,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff",onChange:ht}),u.jsxs("div",{className:"relative",children:[u.jsx("button",{onClick:()=>Hr(!or),disabled:!g,className:"w-full font-bold py-2 px-4 rounded-lg shadow-md transition-all text-sm bg-emerald-600 hover:bg-emerald-700 disabled:bg-gray-300 disabled:text-gray-500 disabled:cursor-not-allowed text-white flex items-center justify-center gap-2",children:"Reuse Last & Batch"}),or&&u.jsxs("div",{className:"absolute bottom-full left-0 w-full mb-1 bg-white dark:bg-slate-800 rounded-lg shadow-xl border border-gray-200 dark:border-slate-700 overflow-hidden z-20 flex flex-col animate-in fade-in zoom-in-95 duration-100",children:[u.jsx("button",{className:"px-4 py-2 text-left text-xs hover:bg-gray-100 dark:hover:bg-slate-700 text-gray-700 dark:text-slate-200 border-b border-gray-100 dark:border-slate-700",onClick:()=>{var V;Vr("single"),(V=En.current)==null||V.click()},children:"1. Independent Frames"}),u.jsx("button",{className:"px-4 py-2 text-left text-xs hover:bg-gray-100 dark:hover:bg-slate-700 text-indigo-600 dark:text-indigo-400 font-bold",onClick:()=>{var V;Vr("pair"),(V=En.current)==null||V.click()},children:"2. Pair Difference (A-B)"})]})]})]}),u.jsxs("div",{className:"pt-2 mt-2 border-t border-gray-100 dark:border-slate-800",children:[u.jsx("input",{type:"file",ref:Tn,className:"hidden",accept:".txt",onChange:ir}),u.jsx("button",{onClick:()=>{var V;return(V=Tn.current)==null?void 0:V.click()},className:"w-full font-bold py-2 px-4 rounded-lg shadow-sm transition-all text-xs bg-slate-100 hover:bg-slate-200 dark:bg-slate-800 dark:hover:bg-slate-700 text-gray-600 dark:text-slate-300 flex items-center justify-center gap-2 border border-gray-300 dark:border-slate-600",children:"Convert Format (.txt  .csv)"})]})]}),l!==void 0&&l>0&&u.jsx("div",{className:"mt-2 text-center",children:u.jsxs("p",{className:"text-xs text-indigo-600 dark:text-indigo-400 font-bold animate-pulse",children:[l===1&&"Click Top-Left Center",l===2&&"Click Top-Right Center",l===3&&"Click Bottom-Left Center",l===4&&"Click Bottom-Right Center"]})})]})]})}),u.jsx(Uu,{title:"Selection Tools",children:u.jsx("div",{className:"space-y-3",children:u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2",children:"Quick Select or Shift+drag"}),u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx("span",{className:"text-sm text-gray-600 dark:text-slate-300",children:"Size (px):"}),u.jsx("input",{type:"number",min:"1",value:W,onChange:V=>ve(V.target.value),disabled:!F,className:"flex-1 px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-sm text-gray-900 dark:text-slate-100 transition-colors"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsx("button",{onClick:$t,disabled:!F,className:"px-3 py-1.5 bg-gray-200 hover:bg-gray-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-800 dark:text-slate-200 text-xs font-semibold rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Center Rect"}),u.jsx("button",{onClick:Yt,disabled:!F,className:"px-3 py-1.5 bg-gray-200 hover:bg-gray-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-800 dark:text-slate-200 text-xs font-semibold rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Full Image"})]})]})})}),u.jsx(Uu,{title:"Display Controls",children:u.jsxs("div",{className:"space-y-5",children:[u.jsxs("p",{className:"text-gray-500 dark:text-slate-400 text-center text-sm",children:["Adjust parameters and click ",u.jsx("b",{children:"Apply"}),"."]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"exposure",className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2",children:"Exposure (EV)"}),u.jsx("div",{className:"flex items-center gap-2 mb-2",children:u.jsx("input",{type:"range",min:"-5",max:"5",step:"0.1",disabled:!F,value:parseFloat(U)||0,onChange:V=>br(V.target.value),className:"w-full h-2 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-cyan-500 disabled:opacity-50"})}),u.jsx("div",{className:"flex items-center gap-2",children:u.jsx("input",{id:"exposure",type:"number",step:"0.1",value:U,onChange:V=>br(V.target.value),disabled:!F,className:"w-full px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-sm text-gray-900 dark:text-slate-100 transition-colors duration-300"})})]}),u.jsxs("div",{children:[u.jsxs("label",{htmlFor:"demosaic",className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2 flex justify-between",children:[u.jsx("span",{children:"Demosaic Method"}),(P||(t==null?void 0:t.isXTrans))&&u.jsx("span",{className:"text-[9px] text-red-500 font-bold bg-red-100 dark:bg-red-900/30 px-1 rounded",children:"DISABLED"})]}),u.jsx("select",{id:"demosaic",value:ue,onChange:cn,disabled:!F||P||(t==null?void 0:t.isXTrans),className:"w-full px-2 py-2 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none transition-colors disabled:bg-gray-100 dark:disabled:bg-slate-800/50 disabled:cursor-not-allowed text-sm text-gray-900 dark:text-slate-100",children:wM.map(V=>u.jsx("option",{value:V.value,children:V.label},V.value))}),P&&u.jsx("p",{className:"text-[9px] text-gray-400 mt-1",children:"Full color data detected. Demosaicing skipped."}),(t==null?void 0:t.isXTrans)&&u.jsx("p",{className:"text-[9px] text-amber-500 mt-1",children:"X-Trans detected. Please enable Pseudo-Bayer below."})]}),I&&u.jsxs("div",{className:"border-t border-gray-100 dark:border-slate-800 pt-2",children:[u.jsx(Wu,{checked:de,onChange:V=>_&&_(V),label:"Force X-Trans (6x6 -> 2x2)"}),de&&A&&N&&u.jsxs("div",{className:"mt-2 pl-2 border-l-2 border-emerald-500/50 bg-emerald-50/20 dark:bg-emerald-900/10 p-2 rounded",children:[u.jsx("label",{className:"text-[9px] font-bold text-gray-500 dark:text-slate-400 uppercase block mb-1",children:"Phase Offset (Fine Tune)"}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-[9px] text-gray-400",children:"X (0-5)"}),u.jsx("input",{type:"number",min:"0",max:"5",value:A.x,onChange:V=>N("x",Math.min(5,Math.max(0,parseInt(V.target.value)||0))),className:"w-full text-xs px-1 py-0.5 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded text-center outline-none focus:border-cyan-500"})]}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-[9px] text-gray-400",children:"Y (0-5)"}),u.jsx("input",{type:"number",min:"0",max:"5",value:A.y,onChange:V=>N("y",Math.min(5,Math.max(0,parseInt(V.target.value)||0))),className:"w-full text-xs px-1 py-0.5 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded text-center outline-none focus:border-cyan-500"})]})]})]})]}),u.jsx("div",{className:"border-t border-gray-200 dark:border-slate-700 pt-2",children:u.jsx(Wu,{checked:he,onChange:Oe,label:"Advanced Settings"})}),he&&u.jsxs("div",{className:"space-y-5 pl-2 border-l-2 border-gray-200 dark:border-slate-700 animate-in slide-in-from-top-2 duration-200",children:[u.jsxs("div",{children:[u.jsx(Wu,{checked:be,onChange:Y,label:"Show Kadc"}),u.jsx("p",{className:"text-[10px] text-gray-400 dark:text-slate-500 mt-1",children:"Requires manual Black Levellinear PTC zoneabsolutely uniform image ."})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2",children:"White Balance Gains"}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-xs text-red-500 dark:text-red-400 block mb-1",children:"Red"}),u.jsx("input",{type:"number",step:"0.01",value:Q,onChange:V=>Ir(V.target.value),disabled:!F,className:"w-full px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-red-500 outline-none text-sm text-gray-900 dark:text-slate-100 transition-colors duration-300"})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-xs text-blue-500 dark:text-blue-400 block mb-1",children:"Blue"}),u.jsx("input",{type:"number",step:"0.01",value:K,onChange:V=>Cr(V.target.value),disabled:!F,className:"w-full px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-blue-500 outline-none text-sm text-gray-900 dark:text-slate-100 transition-colors duration-300"})]})]})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between items-end mb-2",children:[u.jsxs("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide flex items-center",children:["Black Level (4-Ch)",u.jsx("span",{className:"ml-1 text-[10px] text-gray-400 dark:text-slate-500 font-normal normal-case",children:"Native"}),u.jsx("button",{onClick:()=>gr(!0),className:"ml-2 text-[10px] text-cyan-600 dark:text-cyan-400 hover:text-cyan-700 dark:hover:text-cyan-300 hover:underline cursor-pointer transition-colors",title:"About Black Level Settings",children:"[about]"})]}),u.jsxs("div",{className:"flex items-center gap-1.5",title:"Subtract Black Level from ROI Mean stats (for display)",children:[u.jsx("span",{className:"text-[9px] font-mono text-gray-400 dark:text-slate-500 uppercase tracking-wide",children:"Sub. BL"}),u.jsx("div",{className:`relative w-8 h-4 rounded-full cursor-pointer transition-colors duration-200 ease-in-out ${ie?"bg-cyan-500":"bg-gray-300 dark:bg-slate-700"}`,onClick:()=>ge(!ie),children:u.jsx("div",{className:`absolute top-0.5 left-0.5 bg-white w-3 h-3 rounded-full shadow-sm transform transition-transform duration-200 ${ie?"translate-x-4":"translate-x-0"}`})})]})]}),u.jsx("input",{type:"text",value:G,onChange:V=>ee(V.target.value),disabled:!F,placeholder:"0 0 0 0",className:"w-full px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-xs font-mono text-gray-900 dark:text-slate-100 transition-colors duration-300",title:"Enter 4 values separated by space or comma"}),u.jsx("p",{className:"text-[10px] text-gray-400 dark:text-slate-500 mt-1",children:"Order: (0,0) (0,1) (1,0) (1,1). Spatial: TL, TR, BL, BR."})]}),u.jsxs("div",{children:[u.jsxs("label",{htmlFor:"customMatrix",className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2",children:["Custom Color Matrix",u.jsx("span",{className:"block text-[10px] text-gray-400 dark:text-slate-500 font-normal normal-case mt-0.5",children:"XYZ to Camera RGB (3x3, 9 nums)"})]}),u.jsx("textarea",{id:"customMatrix",value:R,onChange:$n,disabled:!F,placeholder:"0.66 -0.19 -0.04  -0.46 1.23 0.25  -0.06 0.13 0.65",className:"w-full h-24 px-2 py-2 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none transition-colors disabled:bg-gray-100 dark:disabled:bg-slate-800/50 disabled:cursor-not-allowed text-xs font-mono leading-relaxed text-gray-900 dark:text-slate-100"})]})]}),u.jsx("div",{className:"border-t border-gray-200 dark:border-slate-700 pt-2",children:u.jsx(Wu,{checked:Ke,onChange:et,label:" (Scalar Unmixing)"})}),Ke&&u.jsxs("div",{className:"space-y-4 pl-2 border-l-2 border-indigo-200 dark:border-indigo-900 animate-in slide-in-from-top-2 duration-200",children:[u.jsxs("div",{className:"grid grid-cols-5 gap-1 items-center text-[9px] uppercase font-bold text-gray-400 mb-[-8px]",children:[u.jsx("div",{className:"col-span-1",children:"Param"}),u.jsx("div",{className:"text-center",children:"Ch0(R)"}),u.jsx("div",{className:"text-center",children:"Ch1(G1)"}),u.jsx("div",{className:"text-center",children:"Ch2(B)"}),u.jsx("div",{className:"text-center",children:"Ch3(G2)"})]}),u.jsxs("div",{className:"grid grid-cols-5 gap-2 items-center",children:[u.jsx("span",{className:"text-[10px] font-bold text-red-500",children:"BL:"}),u.jsx("input",{type:"text",value:Qt,onChange:V=>Gt(V.target.value),className:"col-span-4 px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded text-xs font-mono text-gray-900 dark:text-slate-100"})]}),u.jsxs("div",{className:"grid grid-cols-5 gap-2 items-center",children:[u.jsx("span",{className:"text-[10px] font-bold text-indigo-500",children:"B ():"}),u.jsx("input",{type:"text",value:Rr,onChange:V=>ct(V.target.value),className:"col-span-4 px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded text-xs font-mono text-gray-900 dark:text-slate-100"})]}),u.jsxs("div",{className:"grid grid-cols-5 gap-2 items-center",children:[u.jsx("span",{className:"text-[10px] font-bold text-emerald-500",children:"F ():"}),u.jsx("input",{type:"text",value:ur,onChange:V=>Jt(V.target.value),className:"col-span-4 px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded text-xs font-mono text-gray-900 dark:text-slate-100"})]}),u.jsx("button",{onClick:wt,disabled:!F,className:"w-full bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-2 rounded text-[10px] shadow transition-transform active:scale-95",children:"RUN UNMIXING (ADV ZERO-DEP)"}),u.jsx("p",{className:"text-[9px] text-gray-400 italic text-center",children:" + sRGB Gamma "})]}),u.jsxs("div",{className:"pt-4 flex flex-col gap-2",children:[u.jsx("button",{onClick:_e,disabled:!F,className:"w-full text-base bg-cyan-500 hover:bg-cyan-600 dark:bg-cyan-600 dark:hover:bg-cyan-500 disabled:bg-gray-300 dark:disabled:bg-slate-800 disabled:text-gray-500 dark:disabled:text-slate-500 disabled:cursor-not-allowed text-white font-bold py-3 px-3 rounded-lg shadow-lg shadow-cyan-500/20 dark:shadow-cyan-900/20 transition-all active:scale-95",children:"APPLY SETTINGS"}),u.jsxs("button",{onClick:Je,disabled:!F,className:"w-full text-xs font-bold bg-slate-700 hover:bg-slate-600 text-white disabled:bg-gray-300 dark:disabled:bg-slate-800 disabled:text-gray-500 transition-colors py-2 rounded-lg flex items-center justify-center gap-1.5 border border-slate-600",title:"Diagnostic Mode. Direct RAW-to-Grayscale mapping using manual Black Level & WB Gains (R/B calibration).",children:[u.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})," (Zero-Dep Grayscale)"]}),u.jsx("button",{onClick:Tt,disabled:!F,className:"w-full text-xs text-gray-400 hover:text-gray-600 dark:text-slate-400 dark:hover:text-slate-200 disabled:text-gray-300 dark:disabled:text-slate-600 transition-colors mt-1",children:"Reset Defaults (Local)"})]})]})})]}),u.jsx(Ro,{isOpen:Ht,onClose:()=>gr(!1),onConfirm:()=>{window.open("https://y-g-jiang.github.io/CBLD.html","_blank"),gr(!1)},title:"Black Level Info / ",confirmText:"Visit Database (CBLD)",cancelText:"Close",message:u.jsxs("div",{className:"flex flex-col gap-4 text-left text-sm text-gray-600 dark:text-slate-300",children:[u.jsxs("p",{className:"leading-relaxed",children:["JiangBridge/JiangBridge",u.jsx("a",{href:"https://y-g-jiang.github.io/CBLD.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline mx-1 font-bold",children:"CBLD.html"}),""]}),u.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 w-full"}),u.jsxs("p",{className:"leading-relaxed",children:["Autofills when JiangBridge is detected. If no result is found or JiangBridge is missing, please check the ",u.jsx("a",{href:"https://y-g-jiang.github.io/CBLD.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline mx-1 font-bold",children:"Black Level Database"}),"to find your camera model. However, manually capturing a dark frame with identical settings to calculate and input the values is highly recommended for higher decimal precision, as internal tags often lack accuracy."]})]})}),u.jsx(Ro,{isOpen:Mr,onClose:()=>Vt(!1),onConfirm:()=>{},title:"Select Zero-Dependency Mode",confirmText:"",cancelText:"",message:u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsx("div",{className:"text-gray-600 dark:text-slate-300 text-left text-sm leading-relaxed mb-2",children:"Select how you want to visualize the raw data without full JOraw processing."}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[u.jsxs("button",{onClick:()=>Fe("mosaic"),className:"flex flex-col items-center justify-center p-4 bg-gray-100 hover:bg-gray-200 dark:bg-slate-800 dark:hover:bg-slate-700 border-2 border-transparent hover:border-gray-400 dark:hover:border-slate-500 rounded-xl transition-all group",children:[u.jsx("div",{className:"w-12 h-12 bg-gray-300 dark:bg-slate-600 rounded-full flex items-center justify-center mb-3 group-hover:scale-110 transition-transform",children:u.jsx("svg",{className:"w-6 h-6 text-gray-600 dark:text-slate-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}),u.jsx("h4",{className:"font-bold text-gray-800 dark:text-slate-200 mb-1",children:"Mosaic (Gray)"}),u.jsx("p",{className:"text-[10px] text-gray-500 dark:text-slate-400 text-center",children:"Original Bayer pattern. No demosaic. 1:1 pixel mapping. Pure DN visualization."})]}),u.jsxs("button",{onClick:()=>Fe("bilinear"),className:"flex flex-col items-center justify-center p-4 bg-indigo-50 hover:bg-indigo-100 dark:bg-indigo-900/20 dark:hover:bg-indigo-900/40 border-2 border-transparent hover:border-indigo-400 rounded-xl transition-all group",children:[u.jsx("div",{className:"w-12 h-12 bg-indigo-200 dark:bg-indigo-800 rounded-full flex items-center justify-center mb-3 group-hover:scale-110 transition-transform",children:u.jsx("svg",{className:"w-6 h-6 text-indigo-700 dark:text-indigo-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"})})}),u.jsx("h4",{className:"font-bold text-indigo-800 dark:text-indigo-300 mb-1",children:"Bilinear (Color)"}),u.jsx("p",{className:"text-[10px] text-indigo-600/80 dark:text-indigo-400/80 text-center",children:"Basic JS Demosaic + Matrix + Gamma. Bypass JOraw pipeline."})]})]}),u.jsx("button",{onClick:()=>Vt(!1),className:"mt-2 w-full py-2 text-xs font-bold text-gray-500 hover:text-gray-700 dark:text-slate-400 dark:hover:text-slate-200 transition-colors",children:"Cancel"})]})})]})},SM=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20 12H4"})}),jM=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})}),OM=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 4v5h5M4 12a8 8 0 0114.24-5.12M20 20v-5h-5M20 12a8 8 0 01-14.24 5.12"})}),PM=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 11.5V14m0-2.5v-6a1.5 1.5 0 113 0m-3 6a1.5 1.5 0 00-3 0v2a7.5 7.5 0 0015 0v-5a1.5 1.5 0 00-3 0m-6-3V11m0-5.5v-1a1.5 1.5 0 013 0v1m0 0V11m0-5.5a1.5 1.5 0 013 0v3m0 0V11"})}),_M=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 4l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})}),og=.1,ig=16,NM=Math.log(og),AM=Math.log(ig),MM=({zoom:e,onZoomChange:t,onResetView:r,touchAction:n,onToggleTouchAction:a})=>{const o=c=>{const f=parseFloat(c.target.value),d=Math.exp(f);t(Math.max(og,Math.min(ig,d)))},i=()=>{t(Math.min(ig,e*1.25))},s=()=>{t(Math.max(og,e/1.25))},l=Math.log(e);return u.jsxs("div",{className:"absolute top-4 right-4 flex gap-2",onClick:c=>c.stopPropagation(),children:[u.jsx("div",{className:"bg-white/90 dark:bg-slate-800/70 backdrop-blur-sm p-2 rounded-lg border border-gray-200 dark:border-slate-700 flex items-center shadow-lg transition-colors duration-300",children:u.jsx("button",{onClick:a,className:`p-1.5 rounded-md transition-colors flex items-center justify-center ${n==="select"?"bg-cyan-100 text-cyan-600 dark:bg-cyan-900/50 dark:text-cyan-400 ring-2 ring-cyan-500/50":"text-gray-500 dark:text-slate-400 hover:bg-gray-100 dark:hover:bg-slate-700"}`,title:n==="select"?"Mode: Selection (Drag to Select)":"Mode: Pan (Drag to Move)",children:n==="select"?u.jsx(_M,{}):u.jsx(PM,{})})}),u.jsxs("div",{className:"bg-white/90 dark:bg-slate-800/70 backdrop-blur-sm p-2 rounded-lg border border-gray-200 dark:border-slate-700 flex items-center gap-2 text-gray-700 dark:text-slate-300 shadow-lg transition-colors duration-300",children:[u.jsx("button",{onClick:s,className:"p-1 rounded-md hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",title:"Zoom Out","aria-label":"Zoom Out",children:u.jsx(SM,{})}),u.jsx("input",{type:"range",min:NM,max:AM,step:"0.01",value:l,onChange:o,className:"w-24 sm:w-32 h-2 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-cyan-500","aria-label":"Zoom slider"}),u.jsx("button",{onClick:i,className:"p-1 rounded-md hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",title:"Zoom In","aria-label":"Zoom In",children:u.jsx(jM,{})}),u.jsxs("span",{className:"w-16 text-center font-mono text-sm","aria-live":"polite",children:[(e*100).toFixed(0),"%"]}),u.jsx("button",{onClick:r,className:"p-1 rounded-md hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",title:"Reset View","aria-label":"Reset View",children:u.jsx(OM,{})})]})]})},CM=({theme:e,setTheme:t})=>{const r=()=>{t(e==="light"?"dark":"light")};return u.jsx("button",{onClick:r,className:"fixed bottom-6 right-6 z-50 p-3 rounded-full bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 shadow-lg text-gray-800 dark:text-yellow-400 hover:bg-gray-100 dark:hover:bg-slate-700 transition-all duration-300",title:`Switch to ${e==="light"?"dark":"light"} mode`,children:e==="light"?u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-slate-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}):u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})})})};function oj(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=oj(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Qe(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=oj(e))&&(n&&(n+=" "),n+=t);return n}var EM=Array.isArray,Cn=EM,TM=typeof ju=="object"&&ju&&ju.Object===Object&&ju,ij=TM,$M=ij,DM=typeof self=="object"&&self&&self.Object===Object&&self,RM=$M||DM||Function("return this")(),Fa=RM,LM=Fa,IM=LM.Symbol,lu=IM,Xx=lu,sj=Object.prototype,BM=sj.hasOwnProperty,FM=sj.toString,Pl=Xx?Xx.toStringTag:void 0;function zM(e){var t=BM.call(e,Pl),r=e[Pl];try{e[Pl]=void 0;var n=!0}catch{}var a=FM.call(e);return n&&(t?e[Pl]=r:delete e[Pl]),a}var UM=zM,WM=Object.prototype,GM=WM.toString;function HM(e){return GM.call(e)}var VM=HM,Kx=lu,XM=UM,KM=VM,YM="[object Null]",qM="[object Undefined]",Yx=Kx?Kx.toStringTag:void 0;function ZM(e){return e==null?e===void 0?qM:YM:Yx&&Yx in Object(e)?XM(e):KM(e)}var lo=ZM;function QM(e){return e!=null&&typeof e=="object"}var co=QM,JM=lo,eC=co,tC="[object Symbol]";function rC(e){return typeof e=="symbol"||eC(e)&&JM(e)==tC}var Js=rC,nC=Cn,aC=Js,oC=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,iC=/^\w*$/;function sC(e,t){if(nC(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||aC(e)?!0:iC.test(e)||!oC.test(e)||t!=null&&e in Object(t)}var My=sC;function lC(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Wo=lC;const el=Et(Wo);var cC=lo,uC=Wo,fC="[object AsyncFunction]",dC="[object Function]",hC="[object GeneratorFunction]",pC="[object Proxy]";function gC(e){if(!uC(e))return!1;var t=cC(e);return t==dC||t==hC||t==fC||t==pC}var Cy=gC;const We=Et(Cy);var mC=Fa,yC=mC["__core-js_shared__"],vC=yC,Ep=vC,qx=function(){var e=/[^.]+$/.exec(Ep&&Ep.keys&&Ep.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function xC(e){return!!qx&&qx in e}var bC=xC,wC=Function.prototype,kC=wC.toString;function SC(e){if(e!=null){try{return kC.call(e)}catch{}try{return e+""}catch{}}return""}var lj=SC,jC=Cy,OC=bC,PC=Wo,_C=lj,NC=/[\\^$.*+?()[\]{}|]/g,AC=/^\[object .+?Constructor\]$/,MC=Function.prototype,CC=Object.prototype,EC=MC.toString,TC=CC.hasOwnProperty,$C=RegExp("^"+EC.call(TC).replace(NC,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function DC(e){if(!PC(e)||OC(e))return!1;var t=jC(e)?$C:AC;return t.test(_C(e))}var RC=DC;function LC(e,t){return e==null?void 0:e[t]}var IC=LC,BC=RC,FC=IC;function zC(e,t){var r=FC(e,t);return BC(r)?r:void 0}var Ti=zC,UC=Ti,WC=UC(Object,"create"),lh=WC,Zx=lh;function GC(){this.__data__=Zx?Zx(null):{},this.size=0}var HC=GC;function VC(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var XC=VC,KC=lh,YC="__lodash_hash_undefined__",qC=Object.prototype,ZC=qC.hasOwnProperty;function QC(e){var t=this.__data__;if(KC){var r=t[e];return r===YC?void 0:r}return ZC.call(t,e)?t[e]:void 0}var JC=QC,eE=lh,tE=Object.prototype,rE=tE.hasOwnProperty;function nE(e){var t=this.__data__;return eE?t[e]!==void 0:rE.call(t,e)}var aE=nE,oE=lh,iE="__lodash_hash_undefined__";function sE(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=oE&&t===void 0?iE:t,this}var lE=sE,cE=HC,uE=XC,fE=JC,dE=aE,hE=lE;function tl(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}tl.prototype.clear=cE;tl.prototype.delete=uE;tl.prototype.get=fE;tl.prototype.has=dE;tl.prototype.set=hE;var pE=tl;function gE(){this.__data__=[],this.size=0}var mE=gE;function yE(e,t){return e===t||e!==e&&t!==t}var Ey=yE,vE=Ey;function xE(e,t){for(var r=e.length;r--;)if(vE(e[r][0],t))return r;return-1}var ch=xE,bE=ch,wE=Array.prototype,kE=wE.splice;function SE(e){var t=this.__data__,r=bE(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():kE.call(t,r,1),--this.size,!0}var jE=SE,OE=ch;function PE(e){var t=this.__data__,r=OE(t,e);return r<0?void 0:t[r][1]}var _E=PE,NE=ch;function AE(e){return NE(this.__data__,e)>-1}var ME=AE,CE=ch;function EE(e,t){var r=this.__data__,n=CE(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var TE=EE,$E=mE,DE=jE,RE=_E,LE=ME,IE=TE;function rl(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}rl.prototype.clear=$E;rl.prototype.delete=DE;rl.prototype.get=RE;rl.prototype.has=LE;rl.prototype.set=IE;var uh=rl,BE=Ti,FE=Fa,zE=BE(FE,"Map"),Ty=zE,Qx=pE,UE=uh,WE=Ty;function GE(){this.size=0,this.__data__={hash:new Qx,map:new(WE||UE),string:new Qx}}var HE=GE;function VE(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var XE=VE,KE=XE;function YE(e,t){var r=e.__data__;return KE(t)?r[typeof t=="string"?"string":"hash"]:r.map}var fh=YE,qE=fh;function ZE(e){var t=qE(this,e).delete(e);return this.size-=t?1:0,t}var QE=ZE,JE=fh;function eT(e){return JE(this,e).get(e)}var tT=eT,rT=fh;function nT(e){return rT(this,e).has(e)}var aT=nT,oT=fh;function iT(e,t){var r=oT(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var sT=iT,lT=HE,cT=QE,uT=tT,fT=aT,dT=sT;function nl(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}nl.prototype.clear=lT;nl.prototype.delete=cT;nl.prototype.get=uT;nl.prototype.has=fT;nl.prototype.set=dT;var $y=nl,cj=$y,hT="Expected a function";function Dy(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(hT);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],o=r.cache;if(o.has(a))return o.get(a);var i=e.apply(this,n);return r.cache=o.set(a,i)||o,i};return r.cache=new(Dy.Cache||cj),r}Dy.Cache=cj;var uj=Dy;const pT=Et(uj);var gT=uj,mT=500;function yT(e){var t=gT(e,function(n){return r.size===mT&&r.clear(),n}),r=t.cache;return t}var vT=yT,xT=vT,bT=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,wT=/\\(\\)?/g,kT=xT(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(bT,function(r,n,a,o){t.push(a?o.replace(wT,"$1"):n||r)}),t}),ST=kT;function jT(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var Ry=jT,Jx=lu,OT=Ry,PT=Cn,_T=Js,eb=Jx?Jx.prototype:void 0,tb=eb?eb.toString:void 0;function fj(e){if(typeof e=="string")return e;if(PT(e))return OT(e,fj)+"";if(_T(e))return tb?tb.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var NT=fj,AT=NT;function MT(e){return e==null?"":AT(e)}var dj=MT,CT=Cn,ET=My,TT=ST,$T=dj;function DT(e,t){return CT(e)?e:ET(e,t)?[e]:TT($T(e))}var hj=DT,RT=Js;function LT(e){if(typeof e=="string"||RT(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var dh=LT,IT=hj,BT=dh;function FT(e,t){t=IT(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[BT(t[r++])];return r&&r==n?e:void 0}var Ly=FT,zT=Ly;function UT(e,t,r){var n=e==null?void 0:zT(e,t);return n===void 0?r:n}var pj=UT;const na=Et(pj);function WT(e){return e==null}var GT=WT;const Be=Et(GT);var HT=lo,VT=Cn,XT=co,KT="[object String]";function YT(e){return typeof e=="string"||!VT(e)&&XT(e)&&HT(e)==KT}var qT=YT;const ji=Et(qT);var gj={exports:{}},xt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iy=Symbol.for("react.element"),By=Symbol.for("react.portal"),hh=Symbol.for("react.fragment"),ph=Symbol.for("react.strict_mode"),gh=Symbol.for("react.profiler"),mh=Symbol.for("react.provider"),yh=Symbol.for("react.context"),ZT=Symbol.for("react.server_context"),vh=Symbol.for("react.forward_ref"),xh=Symbol.for("react.suspense"),bh=Symbol.for("react.suspense_list"),wh=Symbol.for("react.memo"),kh=Symbol.for("react.lazy"),QT=Symbol.for("react.offscreen"),mj;mj=Symbol.for("react.module.reference");function sa(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Iy:switch(e=e.type,e){case hh:case gh:case ph:case xh:case bh:return e;default:switch(e=e&&e.$$typeof,e){case ZT:case yh:case vh:case kh:case wh:case mh:return e;default:return t}}case By:return t}}}xt.ContextConsumer=yh;xt.ContextProvider=mh;xt.Element=Iy;xt.ForwardRef=vh;xt.Fragment=hh;xt.Lazy=kh;xt.Memo=wh;xt.Portal=By;xt.Profiler=gh;xt.StrictMode=ph;xt.Suspense=xh;xt.SuspenseList=bh;xt.isAsyncMode=function(){return!1};xt.isConcurrentMode=function(){return!1};xt.isContextConsumer=function(e){return sa(e)===yh};xt.isContextProvider=function(e){return sa(e)===mh};xt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Iy};xt.isForwardRef=function(e){return sa(e)===vh};xt.isFragment=function(e){return sa(e)===hh};xt.isLazy=function(e){return sa(e)===kh};xt.isMemo=function(e){return sa(e)===wh};xt.isPortal=function(e){return sa(e)===By};xt.isProfiler=function(e){return sa(e)===gh};xt.isStrictMode=function(e){return sa(e)===ph};xt.isSuspense=function(e){return sa(e)===xh};xt.isSuspenseList=function(e){return sa(e)===bh};xt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===hh||e===gh||e===ph||e===xh||e===bh||e===QT||typeof e=="object"&&e!==null&&(e.$$typeof===kh||e.$$typeof===wh||e.$$typeof===mh||e.$$typeof===yh||e.$$typeof===vh||e.$$typeof===mj||e.getModuleId!==void 0)};xt.typeOf=sa;gj.exports=xt;var JT=gj.exports,e5=lo,t5=co,r5="[object Number]";function n5(e){return typeof e=="number"||t5(e)&&e5(e)==r5}var yj=n5;const a5=Et(yj);var o5=yj;function i5(e){return o5(e)&&e!=+e}var s5=i5;const al=Et(s5);var ya=function(t){return t===0?0:t>0?1:-1},li=function(t){return ji(t)&&t.indexOf("%")===t.length-1},se=function(t){return a5(t)&&!al(t)},l5=function(t){return Be(t)},_r=function(t){return se(t)||ji(t)},c5=0,$i=function(t){var r=++c5;return"".concat(t||"").concat(r)},Oi=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!se(t)&&!ji(t))return n;var o;if(li(t)){var i=t.indexOf("%");o=r*parseFloat(t.slice(0,i))/100}else o=+t;return al(o)&&(o=n),a&&o>r&&(o=r),o},ko=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},u5=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},pr=function(t,r){return se(t)&&se(r)?function(n){return t+n*(r-t)}:function(){return r}};function Uf(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):na(n,t))===r})}var f5=function(t){if(!t||!t.length)return null;for(var r=t.length,n=0,a=0,o=0,i=0,s=1/0,l=-1/0,c=0,f=0,d=0;d<r;d++)c=t[d].cx||0,f=t[d].cy||0,n+=c,a+=f,o+=c*f,i+=c*c,s=Math.min(s,c),l=Math.max(l,c);var h=r*i!==n*n?(r*o-n*a)/(r*i-n*n):0;return{xmin:s,xmax:l,a:h,b:(a-h*n)/r}},d5=function(t,r){return se(t)&&se(r)?t-r:ji(t)&&ji(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function ds(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function sg(e){"@babel/helpers - typeof";return sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sg(e)}var h5=["viewBox","children"],p5=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],rb=["points","pathLength"],Tp={svg:h5,polygon:rb,polyline:rb},Fy=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Wf=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(O.isValidElement(t)&&(n=t.props),!el(n))return null;var a={};return Object.keys(n).forEach(function(o){Fy.includes(o)&&(a[o]=r||function(i){return n[o](n,i)})}),a},g5=function(t,r,n){return function(a){return t(r,n,a),null}},wc=function(t,r,n){if(!el(t)||sg(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(o){var i=t[o];Fy.includes(o)&&typeof i=="function"&&(a||(a={}),a[o]=g5(i,r,n))}),a},m5=["children"],y5=["children"];function nb(e,t){if(e==null)return{};var r=v5(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function v5(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function lg(e){"@babel/helpers - typeof";return lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lg(e)}var ab={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},qa=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},ob=null,$p=null,zy=function e(t){if(t===ob&&Array.isArray($p))return $p;var r=[];return O.Children.forEach(t,function(n){Be(n)||(JT.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),$p=r,ob=t,r};function Mn(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return qa(a)}):n=[qa(t)],zy(e).forEach(function(a){var o=na(a,"type.displayName")||na(a,"type.name");n.indexOf(o)!==-1&&r.push(a)}),r}function Bn(e,t){var r=Mn(e,t);return r&&r[0]}var ib=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!se(n)||n<=0||!se(a)||a<=0)},x5=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],b5=function(t){return t&&t.type&&ji(t.type)&&x5.indexOf(t.type)>=0},vj=function(t){return t&&lg(t)==="object"&&"clipDot"in t},w5=function(t,r,n,a){var o,i=(o=Tp==null?void 0:Tp[a])!==null&&o!==void 0?o:[];return r.startsWith("data-")||!We(t)&&(a&&i.includes(r)||p5.includes(r))||n&&Fy.includes(r)},ze=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(O.isValidElement(t)&&(a=t.props),!el(a))return null;var o={};return Object.keys(a).forEach(function(i){var s;w5((s=a)===null||s===void 0?void 0:s[i],i,r,n)&&(o[i]=a[i])}),o},cg=function e(t,r){if(t===r)return!0;var n=O.Children.count(t);if(n!==O.Children.count(r))return!1;if(n===0)return!0;if(n===1)return sb(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var o=t[a],i=r[a];if(Array.isArray(o)||Array.isArray(i)){if(!e(o,i))return!1}else if(!sb(o,i))return!1}return!0},sb=function(t,r){if(Be(t)&&Be(r))return!0;if(!Be(t)&&!Be(r)){var n=t.props||{},a=n.children,o=nb(n,m5),i=r.props||{},s=i.children,l=nb(i,y5);return a&&s?ds(o,l)&&cg(a,s):!a&&!s?ds(o,l):!1}return!1},lb=function(t,r){var n=[],a={};return zy(t).forEach(function(o,i){if(b5(o))n.push(o);else if(o){var s=qa(o.type),l=r[s]||{},c=l.handler,f=l.once;if(c&&(!f||!a[s])){var d=c(o,s,i);n.push(d),a[s]=!0}}}),n},k5=function(t){var r=t&&t.type;return r&&ab[r]?ab[r]:null},S5=function(t,r){return zy(r).indexOf(t)},j5=["children","width","height","viewBox","className","style","title","desc"];function ug(){return ug=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ug.apply(this,arguments)}function O5(e,t){if(e==null)return{};var r=P5(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function P5(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function fg(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,o=e.className,i=e.style,s=e.title,l=e.desc,c=O5(e,j5),f=a||{width:r,height:n,x:0,y:0},d=Qe("recharts-surface",o);return M.createElement("svg",ug({},ze(c,!0,"svg"),{className:d,width:r,height:n,style:i,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),M.createElement("title",null,s),M.createElement("desc",null,l),t)}var _5=["children","className"];function dg(){return dg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dg.apply(this,arguments)}function N5(e,t){if(e==null)return{};var r=A5(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function A5(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var lt=M.forwardRef(function(e,t){var r=e.children,n=e.className,a=N5(e,_5),o=Qe("recharts-layer",n);return M.createElement("g",dg({className:o},ze(a,!0),{ref:t}),r)}),Za=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o]};function M5(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(a);++n<a;)o[n]=e[n+t];return o}var C5=M5,E5=C5;function T5(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:E5(e,t,r)}var $5=T5,D5="\\ud800-\\udfff",R5="\\u0300-\\u036f",L5="\\ufe20-\\ufe2f",I5="\\u20d0-\\u20ff",B5=R5+L5+I5,F5="\\ufe0e\\ufe0f",z5="\\u200d",U5=RegExp("["+z5+D5+B5+F5+"]");function W5(e){return U5.test(e)}var xj=W5;function G5(e){return e.split("")}var H5=G5,bj="\\ud800-\\udfff",V5="\\u0300-\\u036f",X5="\\ufe20-\\ufe2f",K5="\\u20d0-\\u20ff",Y5=V5+X5+K5,q5="\\ufe0e\\ufe0f",Z5="["+bj+"]",hg="["+Y5+"]",pg="\\ud83c[\\udffb-\\udfff]",Q5="(?:"+hg+"|"+pg+")",wj="[^"+bj+"]",kj="(?:\\ud83c[\\udde6-\\uddff]){2}",Sj="[\\ud800-\\udbff][\\udc00-\\udfff]",J5="\\u200d",jj=Q5+"?",Oj="["+q5+"]?",e$="(?:"+J5+"(?:"+[wj,kj,Sj].join("|")+")"+Oj+jj+")*",t$=Oj+jj+e$,r$="(?:"+[wj+hg+"?",hg,kj,Sj,Z5].join("|")+")",n$=RegExp(pg+"(?="+pg+")|"+r$+t$,"g");function a$(e){return e.match(n$)||[]}var o$=a$,i$=H5,s$=xj,l$=o$;function c$(e){return s$(e)?l$(e):i$(e)}var u$=c$,f$=$5,d$=xj,h$=u$,p$=dj;function g$(e){return function(t){t=p$(t);var r=d$(t)?h$(t):void 0,n=r?r[0]:t.charAt(0),a=r?f$(r,1).join(""):t.slice(1);return n[e]()+a}}var m$=g$,y$=m$,v$=y$("toUpperCase"),x$=v$;const Sh=Et(x$);function Lt(e){return function(){return e}}const Pj=Math.cos,Gf=Math.sin,ja=Math.sqrt,Hf=Math.PI,jh=2*Hf,gg=Math.PI,mg=2*gg,ri=1e-6,b$=mg-ri;function _j(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function w$(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return _j;const r=10**t;return function(n){this._+=n[0];for(let a=1,o=n.length;a<o;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class k${constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?_j:w$(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,o,i){this._append`C${+t},${+r},${+n},${+a},${this._x1=+o},${this._y1=+i}`}arcTo(t,r,n,a,o){if(t=+t,r=+r,n=+n,a=+a,o=+o,o<0)throw new Error(`negative radius: ${o}`);let i=this._x1,s=this._y1,l=n-t,c=a-r,f=i-t,d=s-r,h=f*f+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>ri)if(!(Math.abs(d*l-c*f)>ri)||!o)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-i,m=a-s,v=l*l+c*c,x=p*p+m*m,y=Math.sqrt(v),g=Math.sqrt(h),b=o*Math.tan((gg-Math.acos((v+h-x)/(2*y*g)))/2),S=b/g,w=b/y;Math.abs(S-1)>ri&&this._append`L${t+S*f},${r+S*d}`,this._append`A${o},${o},0,0,${+(d*p>f*m)},${this._x1=t+w*l},${this._y1=r+w*c}`}}arc(t,r,n,a,o,i){if(t=+t,r=+r,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(a),l=n*Math.sin(a),c=t+s,f=r+l,d=1^i,h=i?a-o:o-a;this._x1===null?this._append`M${c},${f}`:(Math.abs(this._x1-c)>ri||Math.abs(this._y1-f)>ri)&&this._append`L${c},${f}`,n&&(h<0&&(h=h%mg+mg),h>b$?this._append`A${n},${n},0,1,${d},${t-s},${r-l}A${n},${n},0,1,${d},${this._x1=c},${this._y1=f}`:h>ri&&this._append`A${n},${n},0,${+(h>=gg)},${d},${this._x1=t+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function Uy(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new k$(t)}function Wy(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Nj(e){this._context=e}Nj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Oh(e){return new Nj(e)}function Aj(e){return e[0]}function Mj(e){return e[1]}function Cj(e,t){var r=Lt(!0),n=null,a=Oh,o=null,i=Uy(s);e=typeof e=="function"?e:e===void 0?Aj:Lt(e),t=typeof t=="function"?t:t===void 0?Mj:Lt(t);function s(l){var c,f=(l=Wy(l)).length,d,h=!1,p;for(n==null&&(o=a(p=i())),c=0;c<=f;++c)!(c<f&&r(d=l[c],c,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+e(d,c,l),+t(d,c,l));if(p)return o=null,p+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:Lt(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:Lt(+l),s):t},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Lt(!!l),s):r},s.curve=function(l){return arguments.length?(a=l,n!=null&&(o=a(n)),s):a},s.context=function(l){return arguments.length?(l==null?n=o=null:o=a(n=l),s):n},s}function Gu(e,t,r){var n=null,a=Lt(!0),o=null,i=Oh,s=null,l=Uy(c);e=typeof e=="function"?e:e===void 0?Aj:Lt(+e),t=typeof t=="function"?t:Lt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?Mj:Lt(+r);function c(d){var h,p,m,v=(d=Wy(d)).length,x,y=!1,g,b=new Array(v),S=new Array(v);for(o==null&&(s=i(g=l())),h=0;h<=v;++h){if(!(h<v&&a(x=d[h],h,d))===y)if(y=!y)p=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),m=h-1;m>=p;--m)s.point(b[m],S[m]);s.lineEnd(),s.areaEnd()}y&&(b[h]=+e(x,h,d),S[h]=+t(x,h,d),s.point(n?+n(x,h,d):b[h],r?+r(x,h,d):S[h]))}if(g)return s=null,g+""||null}function f(){return Cj().defined(a).curve(i).context(o)}return c.x=function(d){return arguments.length?(e=typeof d=="function"?d:Lt(+d),n=null,c):e},c.x0=function(d){return arguments.length?(e=typeof d=="function"?d:Lt(+d),c):e},c.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Lt(+d),c):n},c.y=function(d){return arguments.length?(t=typeof d=="function"?d:Lt(+d),r=null,c):t},c.y0=function(d){return arguments.length?(t=typeof d=="function"?d:Lt(+d),c):t},c.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Lt(+d),c):r},c.lineX0=c.lineY0=function(){return f().x(e).y(t)},c.lineY1=function(){return f().x(e).y(r)},c.lineX1=function(){return f().x(n).y(t)},c.defined=function(d){return arguments.length?(a=typeof d=="function"?d:Lt(!!d),c):a},c.curve=function(d){return arguments.length?(i=d,o!=null&&(s=i(o)),c):i},c.context=function(d){return arguments.length?(d==null?o=s=null:s=i(o=d),c):o},c}class Ej{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function S$(e){return new Ej(e,!0)}function j$(e){return new Ej(e,!1)}const Gy={draw(e,t){const r=ja(t/Hf);e.moveTo(r,0),e.arc(0,0,r,0,jh)}},O$={draw(e,t){const r=ja(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},Tj=ja(1/3),P$=Tj*2,_$={draw(e,t){const r=ja(t/P$),n=r*Tj;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},N$={draw(e,t){const r=ja(t),n=-r/2;e.rect(n,n,r,r)}},A$=.8908130915292852,$j=Gf(Hf/10)/Gf(7*Hf/10),M$=Gf(jh/10)*$j,C$=-Pj(jh/10)*$j,E$={draw(e,t){const r=ja(t*A$),n=M$*r,a=C$*r;e.moveTo(0,-r),e.lineTo(n,a);for(let o=1;o<5;++o){const i=jh*o/5,s=Pj(i),l=Gf(i);e.lineTo(l*r,-s*r),e.lineTo(s*n-l*a,l*n+s*a)}e.closePath()}},Dp=ja(3),T$={draw(e,t){const r=-ja(t/(Dp*3));e.moveTo(0,r*2),e.lineTo(-Dp*r,-r),e.lineTo(Dp*r,-r),e.closePath()}},Xn=-.5,Kn=ja(3)/2,yg=1/ja(12),$$=(yg/2+1)*3,D$={draw(e,t){const r=ja(t/$$),n=r/2,a=r*yg,o=n,i=r*yg+r,s=-o,l=i;e.moveTo(n,a),e.lineTo(o,i),e.lineTo(s,l),e.lineTo(Xn*n-Kn*a,Kn*n+Xn*a),e.lineTo(Xn*o-Kn*i,Kn*o+Xn*i),e.lineTo(Xn*s-Kn*l,Kn*s+Xn*l),e.lineTo(Xn*n+Kn*a,Xn*a-Kn*n),e.lineTo(Xn*o+Kn*i,Xn*i-Kn*o),e.lineTo(Xn*s+Kn*l,Xn*l-Kn*s),e.closePath()}};function R$(e,t){let r=null,n=Uy(a);e=typeof e=="function"?e:Lt(e||Gy),t=typeof t=="function"?t:Lt(t===void 0?64:+t);function a(){let o;if(r||(r=o=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),o)return r=null,o+""||null}return a.type=function(o){return arguments.length?(e=typeof o=="function"?o:Lt(o),a):e},a.size=function(o){return arguments.length?(t=typeof o=="function"?o:Lt(+o),a):t},a.context=function(o){return arguments.length?(r=o??null,a):r},a}function Vf(){}function Xf(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Dj(e){this._context=e}Dj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Xf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Xf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function L$(e){return new Dj(e)}function Rj(e){this._context=e}Rj.prototype={areaStart:Vf,areaEnd:Vf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Xf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function I$(e){return new Rj(e)}function Lj(e){this._context=e}Lj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Xf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function B$(e){return new Lj(e)}function Ij(e){this._context=e}Ij.prototype={areaStart:Vf,areaEnd:Vf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function F$(e){return new Ij(e)}function cb(e){return e<0?-1:1}function ub(e,t,r){var n=e._x1-e._x0,a=t-e._x1,o=(e._y1-e._y0)/(n||a<0&&-0),i=(r-e._y1)/(a||n<0&&-0),s=(o*a+i*n)/(n+a);return(cb(o)+cb(i))*Math.min(Math.abs(o),Math.abs(i),.5*Math.abs(s))||0}function fb(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Rp(e,t,r){var n=e._x0,a=e._y0,o=e._x1,i=e._y1,s=(o-n)/3;e._context.bezierCurveTo(n+s,a+s*t,o-s,i-s*r,o,i)}function Kf(e){this._context=e}Kf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Rp(this,this._t0,fb(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Rp(this,fb(this,r=ub(this,e,t)),r);break;default:Rp(this,this._t0,r=ub(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function Bj(e){this._context=new Fj(e)}(Bj.prototype=Object.create(Kf.prototype)).point=function(e,t){Kf.prototype.point.call(this,t,e)};function Fj(e){this._context=e}Fj.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,o){this._context.bezierCurveTo(t,e,n,r,o,a)}};function z$(e){return new Kf(e)}function U$(e){return new Bj(e)}function zj(e){this._context=e}zj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=db(e),a=db(t),o=0,i=1;i<r;++o,++i)this._context.bezierCurveTo(n[0][o],a[0][o],n[1][o],a[1][o],e[i],t[i]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function db(e){var t,r=e.length-1,n,a=new Array(r),o=new Array(r),i=new Array(r);for(a[0]=0,o[0]=2,i[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,o[t]=4,i[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,o[r-1]=7,i[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/o[t-1],o[t]-=n,i[t]-=n*i[t-1];for(a[r-1]=i[r-1]/o[r-1],t=r-2;t>=0;--t)a[t]=(i[t]-a[t+1])/o[t];for(o[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-a[t+1];return[a,o]}function W$(e){return new zj(e)}function Ph(e,t){this._context=e,this._t=t}Ph.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function G$(e){return new Ph(e,.5)}function H$(e){return new Ph(e,0)}function V$(e){return new Ph(e,1)}function ks(e,t){if((i=e.length)>1)for(var r=1,n,a,o=e[t[0]],i,s=o.length;r<i;++r)for(a=o,o=e[t[r]],n=0;n<s;++n)o[n][1]+=o[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function vg(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function X$(e,t){return e[t]}function K$(e){const t=[];return t.key=e,t}function Y$(){var e=Lt([]),t=vg,r=ks,n=X$;function a(o){var i=Array.from(e.apply(this,arguments),K$),s,l=i.length,c=-1,f;for(const d of o)for(s=0,++c;s<l;++s)(i[s][c]=[0,+n(d,i[s].key,c,o)]).data=d;for(s=0,f=Wy(t(i));s<l;++s)i[f[s]].index=s;return r(i,f),i}return a.keys=function(o){return arguments.length?(e=typeof o=="function"?o:Lt(Array.from(o)),a):e},a.value=function(o){return arguments.length?(n=typeof o=="function"?o:Lt(+o),a):n},a.order=function(o){return arguments.length?(t=o==null?vg:typeof o=="function"?o:Lt(Array.from(o)),a):t},a.offset=function(o){return arguments.length?(r=o??ks,a):r},a}function q$(e,t){if((n=e.length)>0){for(var r,n,a=0,o=e[0].length,i;a<o;++a){for(i=r=0;r<n;++r)i+=e[r][a][1]||0;if(i)for(r=0;r<n;++r)e[r][a][1]/=i}ks(e,t)}}function Z$(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,o=n.length;r<o;++r){for(var i=0,s=0;i<a;++i)s+=e[i][r][1]||0;n[r][1]+=n[r][0]=-s/2}ks(e,t)}}function Q$(e,t){if(!(!((i=e.length)>0)||!((o=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,o,i;n<o;++n){for(var s=0,l=0,c=0;s<i;++s){for(var f=e[t[s]],d=f[n][1]||0,h=f[n-1][1]||0,p=(d-h)/2,m=0;m<s;++m){var v=e[t[m]],x=v[n][1]||0,y=v[n-1][1]||0;p+=x-y}l+=d,c+=p*d}a[n-1][1]+=a[n-1][0]=r,l&&(r-=c/l)}a[n-1][1]+=a[n-1][0]=r,ks(e,t)}}function kc(e){"@babel/helpers - typeof";return kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kc(e)}var J$=["type","size","sizeType"];function xg(){return xg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xg.apply(this,arguments)}function hb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hb(Object(r),!0).forEach(function(n){e3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function e3(e,t,r){return t=t3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t3(e){var t=r3(e,"string");return kc(t)=="symbol"?t:t+""}function r3(e,t){if(kc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function n3(e,t){if(e==null)return{};var r=a3(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function a3(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Uj={symbolCircle:Gy,symbolCross:O$,symbolDiamond:_$,symbolSquare:N$,symbolStar:E$,symbolTriangle:T$,symbolWye:D$},o3=Math.PI/180,i3=function(t){var r="symbol".concat(Sh(t));return Uj[r]||Gy},s3=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*o3;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},l3=function(t,r){Uj["symbol".concat(Sh(t))]=r},_h=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,o=a===void 0?64:a,i=t.sizeType,s=i===void 0?"area":i,l=n3(t,J$),c=pb(pb({},l),{},{type:n,size:o,sizeType:s}),f=function(){var x=i3(n),y=R$().type(x).size(s3(o,s,n));return y()},d=c.className,h=c.cx,p=c.cy,m=ze(c,!0);return h===+h&&p===+p&&o===+o?M.createElement("path",xg({},m,{className:Qe("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(p,")"),d:f()})):null};_h.registerSymbol=l3;function Ss(e){"@babel/helpers - typeof";return Ss=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ss(e)}function bg(){return bg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bg.apply(this,arguments)}function gb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function c3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gb(Object(r),!0).forEach(function(n){Sc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function u3(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f3(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Gj(n.key),n)}}function d3(e,t,r){return t&&f3(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function h3(e,t,r){return t=Yf(t),p3(e,Wj()?Reflect.construct(t,r||[],Yf(e).constructor):t.apply(e,r))}function p3(e,t){if(t&&(Ss(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return g3(e)}function g3(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wj(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Wj=function(){return!!e})()}function Yf(e){return Yf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yf(e)}function m3(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wg(e,t)}function wg(e,t){return wg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},wg(e,t)}function Sc(e,t,r){return t=Gj(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gj(e){var t=y3(e,"string");return Ss(t)=="symbol"?t:t+""}function y3(e,t){if(Ss(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ss(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Yn=32,Hy=function(e){function t(){return u3(this,t),h3(this,t,arguments)}return m3(t,e),d3(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,o=Yn/2,i=Yn/6,s=Yn/3,l=n.inactive?a:n.color;if(n.type==="plainline")return M.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:o,x2:Yn,y2:o,className:"recharts-legend-icon"});if(n.type==="line")return M.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(Yn,"M").concat(2*s,",").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(n.type==="rect")return M.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Yn/8,"h").concat(Yn,"v").concat(Yn*3/4,"h").concat(-Yn,"z"),className:"recharts-legend-icon"});if(M.isValidElement(n.legendIcon)){var c=c3({},n);return delete c.legendIcon,M.cloneElement(n.legendIcon,c)}return M.createElement(_h,{fill:l,cx:o,cy:o,size:Yn,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,o=a.payload,i=a.iconSize,s=a.layout,l=a.formatter,c=a.inactiveColor,f={x:0,y:0,width:Yn,height:Yn},d={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(p,m){var v=p.formatter||l,x=Qe(Sc(Sc({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",p.inactive));if(p.type==="none")return null;var y=We(p.value)?null:p.value;Za(!We(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var g=p.inactive?c:p.color;return M.createElement("li",bg({className:x,style:d,key:"legend-item-".concat(m)},wc(n.props,p,m)),M.createElement(fg,{width:i,height:i,viewBox:f,style:h},n.renderIcon(p)),M.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},v?v(y,p,m):y))})}},{key:"render",value:function(){var n=this.props,a=n.payload,o=n.layout,i=n.align;if(!a||!a.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?i:"left"};return M.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(O.PureComponent);Sc(Hy,"displayName","Legend");Sc(Hy,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var v3=uh;function x3(){this.__data__=new v3,this.size=0}var b3=x3;function w3(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var k3=w3;function S3(e){return this.__data__.get(e)}var j3=S3;function O3(e){return this.__data__.has(e)}var P3=O3,_3=uh,N3=Ty,A3=$y,M3=200;function C3(e,t){var r=this.__data__;if(r instanceof _3){var n=r.__data__;if(!N3||n.length<M3-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new A3(n)}return r.set(e,t),this.size=r.size,this}var E3=C3,T3=uh,$3=b3,D3=k3,R3=j3,L3=P3,I3=E3;function ol(e){var t=this.__data__=new T3(e);this.size=t.size}ol.prototype.clear=$3;ol.prototype.delete=D3;ol.prototype.get=R3;ol.prototype.has=L3;ol.prototype.set=I3;var Hj=ol,B3="__lodash_hash_undefined__";function F3(e){return this.__data__.set(e,B3),this}var z3=F3;function U3(e){return this.__data__.has(e)}var W3=U3,G3=$y,H3=z3,V3=W3;function qf(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new G3;++t<r;)this.add(e[t])}qf.prototype.add=qf.prototype.push=H3;qf.prototype.has=V3;var Vj=qf;function X3(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var Xj=X3;function K3(e,t){return e.has(t)}var Kj=K3,Y3=Vj,q3=Xj,Z3=Kj,Q3=1,J3=2;function e4(e,t,r,n,a,o){var i=r&Q3,s=e.length,l=t.length;if(s!=l&&!(i&&l>s))return!1;var c=o.get(e),f=o.get(t);if(c&&f)return c==t&&f==e;var d=-1,h=!0,p=r&J3?new Y3:void 0;for(o.set(e,t),o.set(t,e);++d<s;){var m=e[d],v=t[d];if(n)var x=i?n(v,m,d,t,e,o):n(m,v,d,e,t,o);if(x!==void 0){if(x)continue;h=!1;break}if(p){if(!q3(t,function(y,g){if(!Z3(p,g)&&(m===y||a(m,y,r,n,o)))return p.push(g)})){h=!1;break}}else if(!(m===v||a(m,v,r,n,o))){h=!1;break}}return o.delete(e),o.delete(t),h}var Yj=e4,t4=Fa,r4=t4.Uint8Array,n4=r4;function a4(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var o4=a4;function i4(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var Vy=i4,mb=lu,yb=n4,s4=Ey,l4=Yj,c4=o4,u4=Vy,f4=1,d4=2,h4="[object Boolean]",p4="[object Date]",g4="[object Error]",m4="[object Map]",y4="[object Number]",v4="[object RegExp]",x4="[object Set]",b4="[object String]",w4="[object Symbol]",k4="[object ArrayBuffer]",S4="[object DataView]",vb=mb?mb.prototype:void 0,Lp=vb?vb.valueOf:void 0;function j4(e,t,r,n,a,o,i){switch(r){case S4:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case k4:return!(e.byteLength!=t.byteLength||!o(new yb(e),new yb(t)));case h4:case p4:case y4:return s4(+e,+t);case g4:return e.name==t.name&&e.message==t.message;case v4:case b4:return e==t+"";case m4:var s=c4;case x4:var l=n&f4;if(s||(s=u4),e.size!=t.size&&!l)return!1;var c=i.get(e);if(c)return c==t;n|=d4,i.set(e,t);var f=l4(s(e),s(t),n,a,o,i);return i.delete(e),f;case w4:if(Lp)return Lp.call(e)==Lp.call(t)}return!1}var O4=j4;function P4(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var qj=P4,_4=qj,N4=Cn;function A4(e,t,r){var n=t(e);return N4(e)?n:_4(n,r(e))}var M4=A4;function C4(e,t){for(var r=-1,n=e==null?0:e.length,a=0,o=[];++r<n;){var i=e[r];t(i,r,e)&&(o[a++]=i)}return o}var E4=C4;function T4(){return[]}var $4=T4,D4=E4,R4=$4,L4=Object.prototype,I4=L4.propertyIsEnumerable,xb=Object.getOwnPropertySymbols,B4=xb?function(e){return e==null?[]:(e=Object(e),D4(xb(e),function(t){return I4.call(e,t)}))}:R4,F4=B4;function z4(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var U4=z4,W4=lo,G4=co,H4="[object Arguments]";function V4(e){return G4(e)&&W4(e)==H4}var X4=V4,bb=X4,K4=co,Zj=Object.prototype,Y4=Zj.hasOwnProperty,q4=Zj.propertyIsEnumerable,Z4=bb(function(){return arguments}())?bb:function(e){return K4(e)&&Y4.call(e,"callee")&&!q4.call(e,"callee")},Xy=Z4,Zf={exports:{}};function Q4(){return!1}var J4=Q4;Zf.exports;(function(e,t){var r=Fa,n=J4,a=t&&!t.nodeType&&t,o=a&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===a,s=i?r.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||n;e.exports=c})(Zf,Zf.exports);var Qj=Zf.exports,eD=9007199254740991,tD=/^(?:0|[1-9]\d*)$/;function rD(e,t){var r=typeof e;return t=t??eD,!!t&&(r=="number"||r!="symbol"&&tD.test(e))&&e>-1&&e%1==0&&e<t}var Ky=rD,nD=9007199254740991;function aD(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=nD}var Yy=aD,oD=lo,iD=Yy,sD=co,lD="[object Arguments]",cD="[object Array]",uD="[object Boolean]",fD="[object Date]",dD="[object Error]",hD="[object Function]",pD="[object Map]",gD="[object Number]",mD="[object Object]",yD="[object RegExp]",vD="[object Set]",xD="[object String]",bD="[object WeakMap]",wD="[object ArrayBuffer]",kD="[object DataView]",SD="[object Float32Array]",jD="[object Float64Array]",OD="[object Int8Array]",PD="[object Int16Array]",_D="[object Int32Array]",ND="[object Uint8Array]",AD="[object Uint8ClampedArray]",MD="[object Uint16Array]",CD="[object Uint32Array]",zt={};zt[SD]=zt[jD]=zt[OD]=zt[PD]=zt[_D]=zt[ND]=zt[AD]=zt[MD]=zt[CD]=!0;zt[lD]=zt[cD]=zt[wD]=zt[uD]=zt[kD]=zt[fD]=zt[dD]=zt[hD]=zt[pD]=zt[gD]=zt[mD]=zt[yD]=zt[vD]=zt[xD]=zt[bD]=!1;function ED(e){return sD(e)&&iD(e.length)&&!!zt[oD(e)]}var TD=ED;function $D(e){return function(t){return e(t)}}var Jj=$D,Qf={exports:{}};Qf.exports;(function(e,t){var r=ij,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===n,i=o&&r.process,s=function(){try{var l=a&&a.require&&a.require("util").types;return l||i&&i.binding&&i.binding("util")}catch{}}();e.exports=s})(Qf,Qf.exports);var DD=Qf.exports,RD=TD,LD=Jj,wb=DD,kb=wb&&wb.isTypedArray,ID=kb?LD(kb):RD,eO=ID,BD=U4,FD=Xy,zD=Cn,UD=Qj,WD=Ky,GD=eO,HD=Object.prototype,VD=HD.hasOwnProperty;function XD(e,t){var r=zD(e),n=!r&&FD(e),a=!r&&!n&&UD(e),o=!r&&!n&&!a&&GD(e),i=r||n||a||o,s=i?BD(e.length,String):[],l=s.length;for(var c in e)(t||VD.call(e,c))&&!(i&&(c=="length"||a&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||WD(c,l)))&&s.push(c);return s}var KD=XD,YD=Object.prototype;function qD(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||YD;return e===r}var ZD=qD;function QD(e,t){return function(r){return e(t(r))}}var tO=QD,JD=tO,eR=JD(Object.keys,Object),tR=eR,rR=ZD,nR=tR,aR=Object.prototype,oR=aR.hasOwnProperty;function iR(e){if(!rR(e))return nR(e);var t=[];for(var r in Object(e))oR.call(e,r)&&r!="constructor"&&t.push(r);return t}var sR=iR,lR=Cy,cR=Yy;function uR(e){return e!=null&&cR(e.length)&&!lR(e)}var cu=uR,fR=KD,dR=sR,hR=cu;function pR(e){return hR(e)?fR(e):dR(e)}var Nh=pR,gR=M4,mR=F4,yR=Nh;function vR(e){return gR(e,yR,mR)}var xR=vR,Sb=xR,bR=1,wR=Object.prototype,kR=wR.hasOwnProperty;function SR(e,t,r,n,a,o){var i=r&bR,s=Sb(e),l=s.length,c=Sb(t),f=c.length;if(l!=f&&!i)return!1;for(var d=l;d--;){var h=s[d];if(!(i?h in t:kR.call(t,h)))return!1}var p=o.get(e),m=o.get(t);if(p&&m)return p==t&&m==e;var v=!0;o.set(e,t),o.set(t,e);for(var x=i;++d<l;){h=s[d];var y=e[h],g=t[h];if(n)var b=i?n(g,y,h,t,e,o):n(y,g,h,e,t,o);if(!(b===void 0?y===g||a(y,g,r,n,o):b)){v=!1;break}x||(x=h=="constructor")}if(v&&!x){var S=e.constructor,w=t.constructor;S!=w&&"constructor"in e&&"constructor"in t&&!(typeof S=="function"&&S instanceof S&&typeof w=="function"&&w instanceof w)&&(v=!1)}return o.delete(e),o.delete(t),v}var jR=SR,OR=Ti,PR=Fa,_R=OR(PR,"DataView"),NR=_R,AR=Ti,MR=Fa,CR=AR(MR,"Promise"),ER=CR,TR=Ti,$R=Fa,DR=TR($R,"Set"),rO=DR,RR=Ti,LR=Fa,IR=RR(LR,"WeakMap"),BR=IR,kg=NR,Sg=Ty,jg=ER,Og=rO,Pg=BR,nO=lo,il=lj,jb="[object Map]",FR="[object Object]",Ob="[object Promise]",Pb="[object Set]",_b="[object WeakMap]",Nb="[object DataView]",zR=il(kg),UR=il(Sg),WR=il(jg),GR=il(Og),HR=il(Pg),ni=nO;(kg&&ni(new kg(new ArrayBuffer(1)))!=Nb||Sg&&ni(new Sg)!=jb||jg&&ni(jg.resolve())!=Ob||Og&&ni(new Og)!=Pb||Pg&&ni(new Pg)!=_b)&&(ni=function(e){var t=nO(e),r=t==FR?e.constructor:void 0,n=r?il(r):"";if(n)switch(n){case zR:return Nb;case UR:return jb;case WR:return Ob;case GR:return Pb;case HR:return _b}return t});var VR=ni,Ip=Hj,XR=Yj,KR=O4,YR=jR,Ab=VR,Mb=Cn,Cb=Qj,qR=eO,ZR=1,Eb="[object Arguments]",Tb="[object Array]",Hu="[object Object]",QR=Object.prototype,$b=QR.hasOwnProperty;function JR(e,t,r,n,a,o){var i=Mb(e),s=Mb(t),l=i?Tb:Ab(e),c=s?Tb:Ab(t);l=l==Eb?Hu:l,c=c==Eb?Hu:c;var f=l==Hu,d=c==Hu,h=l==c;if(h&&Cb(e)){if(!Cb(t))return!1;i=!0,f=!1}if(h&&!f)return o||(o=new Ip),i||qR(e)?XR(e,t,r,n,a,o):KR(e,t,l,r,n,a,o);if(!(r&ZR)){var p=f&&$b.call(e,"__wrapped__"),m=d&&$b.call(t,"__wrapped__");if(p||m){var v=p?e.value():e,x=m?t.value():t;return o||(o=new Ip),a(v,x,r,n,o)}}return h?(o||(o=new Ip),YR(e,t,r,n,a,o)):!1}var eL=JR,tL=eL,Db=co;function aO(e,t,r,n,a){return e===t?!0:e==null||t==null||!Db(e)&&!Db(t)?e!==e&&t!==t:tL(e,t,r,n,aO,a)}var qy=aO,rL=Hj,nL=qy,aL=1,oL=2;function iL(e,t,r,n){var a=r.length,o=a,i=!n;if(e==null)return!o;for(e=Object(e);a--;){var s=r[a];if(i&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<o;){s=r[a];var l=s[0],c=e[l],f=s[1];if(i&&s[2]){if(c===void 0&&!(l in e))return!1}else{var d=new rL;if(n)var h=n(c,f,l,e,t,d);if(!(h===void 0?nL(f,c,aL|oL,n,d):h))return!1}}return!0}var sL=iL,lL=Wo;function cL(e){return e===e&&!lL(e)}var oO=cL,uL=oO,fL=Nh;function dL(e){for(var t=fL(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,uL(a)]}return t}var hL=dL;function pL(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var iO=pL,gL=sL,mL=hL,yL=iO;function vL(e){var t=mL(e);return t.length==1&&t[0][2]?yL(t[0][0],t[0][1]):function(r){return r===e||gL(r,e,t)}}var xL=vL;function bL(e,t){return e!=null&&t in Object(e)}var wL=bL,kL=hj,SL=Xy,jL=Cn,OL=Ky,PL=Yy,_L=dh;function NL(e,t,r){t=kL(t,e);for(var n=-1,a=t.length,o=!1;++n<a;){var i=_L(t[n]);if(!(o=e!=null&&r(e,i)))break;e=e[i]}return o||++n!=a?o:(a=e==null?0:e.length,!!a&&PL(a)&&OL(i,a)&&(jL(e)||SL(e)))}var AL=NL,ML=wL,CL=AL;function EL(e,t){return e!=null&&CL(e,t,ML)}var TL=EL,$L=qy,DL=pj,RL=TL,LL=My,IL=oO,BL=iO,FL=dh,zL=1,UL=2;function WL(e,t){return LL(e)&&IL(t)?BL(FL(e),t):function(r){var n=DL(r,e);return n===void 0&&n===t?RL(r,e):$L(t,n,zL|UL)}}var GL=WL;function HL(e){return e}var sl=HL;function VL(e){return function(t){return t==null?void 0:t[e]}}var XL=VL,KL=Ly;function YL(e){return function(t){return KL(t,e)}}var qL=YL,ZL=XL,QL=qL,JL=My,eI=dh;function tI(e){return JL(e)?ZL(eI(e)):QL(e)}var rI=tI,nI=xL,aI=GL,oI=sl,iI=Cn,sI=rI;function lI(e){return typeof e=="function"?e:e==null?oI:typeof e=="object"?iI(e)?aI(e[0],e[1]):nI(e):sI(e)}var Go=lI;function cI(e,t,r,n){for(var a=e.length,o=r+(n?1:-1);n?o--:++o<a;)if(t(e[o],o,e))return o;return-1}var sO=cI;function uI(e){return e!==e}var fI=uI;function dI(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var hI=dI,pI=sO,gI=fI,mI=hI;function yI(e,t,r){return t===t?mI(e,t,r):pI(e,gI,r)}var vI=yI,xI=vI;function bI(e,t){var r=e==null?0:e.length;return!!r&&xI(e,t,0)>-1}var wI=bI;function kI(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var SI=kI;function jI(){}var OI=jI,Bp=rO,PI=OI,_I=Vy,NI=1/0,AI=Bp&&1/_I(new Bp([,-0]))[1]==NI?function(e){return new Bp(e)}:PI,MI=AI,CI=Vj,EI=wI,TI=SI,$I=Kj,DI=MI,RI=Vy,LI=200;function II(e,t,r){var n=-1,a=EI,o=e.length,i=!0,s=[],l=s;if(r)i=!1,a=TI;else if(o>=LI){var c=t?null:DI(e);if(c)return RI(c);i=!1,a=$I,l=new CI}else l=t?[]:s;e:for(;++n<o;){var f=e[n],d=t?t(f):f;if(f=r||f!==0?f:0,i&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;t&&l.push(d),s.push(f)}else a(l,d,r)||(l!==s&&l.push(d),s.push(f))}return s}var BI=II,FI=Go,zI=BI;function UI(e,t){return e&&e.length?zI(e,FI(t)):[]}var WI=UI;const Rb=Et(WI);function lO(e,t,r){return t===!0?Rb(e,r):We(t)?Rb(e,t):e}function js(e){"@babel/helpers - typeof";return js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},js(e)}var GI=["ref"];function Lb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function za(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lb(Object(r),!0).forEach(function(n){Ah(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ib(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uO(n.key),n)}}function VI(e,t,r){return t&&Ib(e.prototype,t),r&&Ib(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function XI(e,t,r){return t=Jf(t),KI(e,cO()?Reflect.construct(t,r||[],Jf(e).constructor):t.apply(e,r))}function KI(e,t){if(t&&(js(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YI(e)}function YI(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cO=function(){return!!e})()}function Jf(e){return Jf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jf(e)}function qI(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_g(e,t)}function _g(e,t){return _g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},_g(e,t)}function Ah(e,t,r){return t=uO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uO(e){var t=ZI(e,"string");return js(t)=="symbol"?t:t+""}function ZI(e,t){if(js(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(js(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function QI(e,t){if(e==null)return{};var r=JI(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function JI(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function e6(e){return e.value}function t6(e,t){if(M.isValidElement(e))return M.cloneElement(e,t);if(typeof e=="function")return M.createElement(e,t);t.ref;var r=QI(t,GI);return M.createElement(Hy,r)}var Bb=1,Qa=function(e){function t(){var r;HI(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=XI(this,t,[].concat(a)),Ah(r,"lastBoundingBox",{width:-1,height:-1}),r}return qI(t,e),VI(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>Bb||Math.abs(a.height-this.lastBoundingBox.height)>Bb)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?za({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,o=a.layout,i=a.align,s=a.verticalAlign,l=a.margin,c=a.chartWidth,f=a.chartHeight,d,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(i==="center"&&o==="vertical"){var p=this.getBBoxSnapshot();d={left:((c||0)-p.width)/2}}else d=i==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(s==="middle"){var m=this.getBBoxSnapshot();h={top:((f||0)-m.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return za(za({},d),h)}},{key:"render",value:function(){var n=this,a=this.props,o=a.content,i=a.width,s=a.height,l=a.wrapperStyle,c=a.payloadUniqBy,f=a.payload,d=za(za({position:"absolute",width:i||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return M.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(p){n.wrapperNode=p}},t6(o,za(za({},this.props),{},{payload:lO(f,c,e6)})))}}],[{key:"getWithHeight",value:function(n,a){var o=za(za({},this.defaultProps),n.props),i=o.layout;return i==="vertical"&&se(n.props.height)?{height:n.props.height}:i==="horizontal"?{width:n.props.width||a}:null}}])}(O.PureComponent);Ah(Qa,"displayName","Legend");Ah(Qa,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Fb=lu,r6=Xy,n6=Cn,zb=Fb?Fb.isConcatSpreadable:void 0;function a6(e){return n6(e)||r6(e)||!!(zb&&e&&e[zb])}var o6=a6,i6=qj,s6=o6;function fO(e,t,r,n,a){var o=-1,i=e.length;for(r||(r=s6),a||(a=[]);++o<i;){var s=e[o];t>0&&r(s)?t>1?fO(s,t-1,r,n,a):i6(a,s):n||(a[a.length]=s)}return a}var dO=fO;function l6(e){return function(t,r,n){for(var a=-1,o=Object(t),i=n(t),s=i.length;s--;){var l=i[e?s:++a];if(r(o[l],l,o)===!1)break}return t}}var c6=l6,u6=c6,f6=u6(),d6=f6,h6=d6,p6=Nh;function g6(e,t){return e&&h6(e,t,p6)}var hO=g6,m6=cu;function y6(e,t){return function(r,n){if(r==null)return r;if(!m6(r))return e(r,n);for(var a=r.length,o=t?a:-1,i=Object(r);(t?o--:++o<a)&&n(i[o],o,i)!==!1;);return r}}var v6=y6,x6=hO,b6=v6,w6=b6(x6),Zy=w6,k6=Zy,S6=cu;function j6(e,t){var r=-1,n=S6(e)?Array(e.length):[];return k6(e,function(a,o,i){n[++r]=t(a,o,i)}),n}var pO=j6;function O6(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var P6=O6,Ub=Js;function _6(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,o=Ub(e),i=t!==void 0,s=t===null,l=t===t,c=Ub(t);if(!s&&!c&&!o&&e>t||o&&i&&l&&!s&&!c||n&&i&&l||!r&&l||!a)return 1;if(!n&&!o&&!c&&e<t||c&&r&&a&&!n&&!o||s&&r&&a||!i&&a||!l)return-1}return 0}var N6=_6,A6=N6;function M6(e,t,r){for(var n=-1,a=e.criteria,o=t.criteria,i=a.length,s=r.length;++n<i;){var l=A6(a[n],o[n]);if(l){if(n>=s)return l;var c=r[n];return l*(c=="desc"?-1:1)}}return e.index-t.index}var C6=M6,Fp=Ry,E6=Ly,T6=Go,$6=pO,D6=P6,R6=Jj,L6=C6,I6=sl,B6=Cn;function F6(e,t,r){t.length?t=Fp(t,function(o){return B6(o)?function(i){return E6(i,o.length===1?o[0]:o)}:o}):t=[I6];var n=-1;t=Fp(t,R6(T6));var a=$6(e,function(o,i,s){var l=Fp(t,function(c){return c(o)});return{criteria:l,index:++n,value:o}});return D6(a,function(o,i){return L6(o,i,r)})}var z6=F6;function U6(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var W6=U6,G6=W6,Wb=Math.max;function H6(e,t,r){return t=Wb(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,o=Wb(n.length-t,0),i=Array(o);++a<o;)i[a]=n[t+a];a=-1;for(var s=Array(t+1);++a<t;)s[a]=n[a];return s[t]=r(i),G6(e,this,s)}}var V6=H6;function X6(e){return function(){return e}}var K6=X6,Y6=Ti,q6=function(){try{var e=Y6(Object,"defineProperty");return e({},"",{}),e}catch{}}(),gO=q6,Z6=K6,Gb=gO,Q6=sl,J6=Gb?function(e,t){return Gb(e,"toString",{configurable:!0,enumerable:!1,value:Z6(t),writable:!0})}:Q6,eB=J6,tB=800,rB=16,nB=Date.now;function aB(e){var t=0,r=0;return function(){var n=nB(),a=rB-(n-r);if(r=n,a>0){if(++t>=tB)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var oB=aB,iB=eB,sB=oB,lB=sB(iB),cB=lB,uB=sl,fB=V6,dB=cB;function hB(e,t){return dB(fB(e,t,uB),e+"")}var pB=hB,gB=Ey,mB=cu,yB=Ky,vB=Wo;function xB(e,t,r){if(!vB(r))return!1;var n=typeof t;return(n=="number"?mB(r)&&yB(t,r.length):n=="string"&&t in r)?gB(r[t],e):!1}var Mh=xB,bB=dO,wB=z6,kB=pB,Hb=Mh,SB=kB(function(e,t){if(e==null)return[];var r=t.length;return r>1&&Hb(e,t[0],t[1])?t=[]:r>2&&Hb(t[0],t[1],t[2])&&(t=[t[0]]),wB(e,bB(t,1),[])}),jB=SB;const Qy=Et(jB);function jc(e){"@babel/helpers - typeof";return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jc(e)}function Ng(){return Ng=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ng.apply(this,arguments)}function OB(e,t){return AB(e)||NB(e,t)||_B(e,t)||PB()}function PB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _B(e,t){if(e){if(typeof e=="string")return Vb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vb(e,t)}}function Vb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function NB(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function AB(e){if(Array.isArray(e))return e}function Xb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xb(Object(r),!0).forEach(function(n){MB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MB(e,t,r){return t=CB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CB(e){var t=EB(e,"string");return jc(t)=="symbol"?t:t+""}function EB(e,t){if(jc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TB(e){return Array.isArray(e)&&_r(e[0])&&_r(e[1])?e.join(" ~ "):e}var $B=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,o=a===void 0?{}:a,i=t.itemStyle,s=i===void 0?{}:i,l=t.labelStyle,c=l===void 0?{}:l,f=t.payload,d=t.formatter,h=t.itemSorter,p=t.wrapperClassName,m=t.labelClassName,v=t.label,x=t.labelFormatter,y=t.accessibilityLayer,g=y===void 0?!1:y,b=function(){if(f&&f.length){var C={padding:0,margin:0},F=(h?Qy(f,h):f).map(function(L,I){if(L.type==="none")return null;var U=zp({display:"block",paddingTop:4,paddingBottom:4,color:L.color||"#000"},s),B=L.formatter||d||TB,R=L.value,$=L.name,G=R,ee=$;if(B&&G!=null&&ee!=null){var Q=B(R,$,L,I,f);if(Array.isArray(Q)){var q=OB(Q,2);G=q[0],ee=q[1]}else G=Q}return M.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(I),style:U},_r(ee)?M.createElement("span",{className:"recharts-tooltip-item-name"},ee):null,_r(ee)?M.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,M.createElement("span",{className:"recharts-tooltip-item-value"},G),M.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return M.createElement("ul",{className:"recharts-tooltip-item-list",style:C},F)}return null},S=zp({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),w=zp({margin:0},c),k=!Be(v),j=k?v:"",P=Qe("recharts-default-tooltip",p),_=Qe("recharts-tooltip-label",m);k&&x&&f!==void 0&&f!==null&&(j=x(v,f));var A=g?{role:"status","aria-live":"assertive"}:{};return M.createElement("div",Ng({className:P,style:S},A),M.createElement("p",{className:_,style:w},M.isValidElement(j)?j:"".concat(j)),b())};function Oc(e){"@babel/helpers - typeof";return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oc(e)}function Vu(e,t,r){return t=DB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DB(e){var t=RB(e,"string");return Oc(t)=="symbol"?t:t+""}function RB(e,t){if(Oc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Oc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _l="recharts-tooltip-wrapper",LB={visibility:"hidden"};function IB(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Qe(_l,Vu(Vu(Vu(Vu({},"".concat(_l,"-right"),se(r)&&t&&se(t.x)&&r>=t.x),"".concat(_l,"-left"),se(r)&&t&&se(t.x)&&r<t.x),"".concat(_l,"-bottom"),se(n)&&t&&se(t.y)&&n>=t.y),"".concat(_l,"-top"),se(n)&&t&&se(t.y)&&n<t.y))}function Kb(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,o=e.position,i=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(o&&se(o[n]))return o[n];var f=r[n]-s-a,d=r[n]+a;if(t[n])return i[n]?f:d;if(i[n]){var h=f,p=l[n];return h<p?Math.max(d,l[n]):Math.max(f,l[n])}var m=d+s,v=l[n]+c;return m>v?Math.max(f,l[n]):Math.max(d,l[n])}function BB(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function FB(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,o=e.reverseDirection,i=e.tooltipBox,s=e.useTranslate3d,l=e.viewBox,c,f,d;return i.height>0&&i.width>0&&r?(f=Kb({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:o,tooltipDimension:i.width,viewBox:l,viewBoxDimension:l.width}),d=Kb({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:o,tooltipDimension:i.height,viewBox:l,viewBoxDimension:l.height}),c=BB({translateX:f,translateY:d,useTranslate3d:s})):c=LB,{cssProperties:c,cssClasses:IB({translateX:f,translateY:d,coordinate:r})}}function Os(e){"@babel/helpers - typeof";return Os=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Os(e)}function Yb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yb(Object(r),!0).forEach(function(n){Mg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UB(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yO(n.key),n)}}function WB(e,t,r){return t&&UB(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function GB(e,t,r){return t=ed(t),HB(e,mO()?Reflect.construct(t,r||[],ed(e).constructor):t.apply(e,r))}function HB(e,t){if(t&&(Os(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VB(e)}function VB(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mO=function(){return!!e})()}function ed(e){return ed=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ed(e)}function XB(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ag(e,t)}function Ag(e,t){return Ag=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ag(e,t)}function Mg(e,t,r){return t=yO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yO(e){var t=KB(e,"string");return Os(t)=="symbol"?t:t+""}function KB(e,t){if(Os(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Os(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Zb=1,YB=function(e){function t(){var r;zB(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=GB(this,t,[].concat(a)),Mg(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Mg(r,"handleKeyDown",function(i){if(i.key==="Escape"){var s,l,c,f;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(c=(f=r.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&c!==void 0?c:0}})}}),r}return XB(t,e),WB(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>Zb||Math.abs(n.height-this.state.lastBoundingBox.height)>Zb)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,o=a.active,i=a.allowEscapeViewBox,s=a.animationDuration,l=a.animationEasing,c=a.children,f=a.coordinate,d=a.hasPayload,h=a.isAnimationActive,p=a.offset,m=a.position,v=a.reverseDirection,x=a.useTranslate3d,y=a.viewBox,g=a.wrapperStyle,b=FB({allowEscapeViewBox:i,coordinate:f,offsetTopLeft:p,position:m,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:y}),S=b.cssClasses,w=b.cssProperties,k=qb(qb({transition:h&&o?"transform ".concat(s,"ms ").concat(l):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&d?"visible":"hidden",position:"absolute",top:0,left:0},g);return M.createElement("div",{tabIndex:-1,className:S,style:k,ref:function(P){n.wrapperNode=P}},c)}}])}(O.PureComponent),qB=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ho={isSsr:qB()};function Ps(e){"@babel/helpers - typeof";return Ps=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ps(e)}function Qb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qb(Object(r),!0).forEach(function(n){Jy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QB(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xO(n.key),n)}}function JB(e,t,r){return t&&QB(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function e8(e,t,r){return t=td(t),t8(e,vO()?Reflect.construct(t,r||[],td(e).constructor):t.apply(e,r))}function t8(e,t){if(t&&(Ps(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r8(e)}function r8(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vO=function(){return!!e})()}function td(e){return td=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},td(e)}function n8(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cg(e,t)}function Cg(e,t){return Cg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Cg(e,t)}function Jy(e,t,r){return t=xO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xO(e){var t=a8(e,"string");return Ps(t)=="symbol"?t:t+""}function a8(e,t){if(Ps(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ps(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function o8(e){return e.dataKey}function i8(e,t){return M.isValidElement(e)?M.cloneElement(e,t):typeof e=="function"?M.createElement(e,t):M.createElement($B,t)}var gn=function(e){function t(){return ZB(this,t),e8(this,t,arguments)}return n8(t,e),JB(t,[{key:"render",value:function(){var n=this,a=this.props,o=a.active,i=a.allowEscapeViewBox,s=a.animationDuration,l=a.animationEasing,c=a.content,f=a.coordinate,d=a.filterNull,h=a.isAnimationActive,p=a.offset,m=a.payload,v=a.payloadUniqBy,x=a.position,y=a.reverseDirection,g=a.useTranslate3d,b=a.viewBox,S=a.wrapperStyle,w=m??[];d&&w.length&&(w=lO(m.filter(function(j){return j.value!=null&&(j.hide!==!0||n.props.includeHidden)}),v,o8));var k=w.length>0;return M.createElement(YB,{allowEscapeViewBox:i,animationDuration:s,animationEasing:l,isAnimationActive:h,active:o,coordinate:f,hasPayload:k,offset:p,position:x,reverseDirection:y,useTranslate3d:g,viewBox:b,wrapperStyle:S},i8(c,Jb(Jb({},this.props),{},{payload:w})))}}])}(O.PureComponent);Jy(gn,"displayName","Tooltip");Jy(gn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ho.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var s8=Fa,l8=function(){return s8.Date.now()},c8=l8,u8=/\s/;function f8(e){for(var t=e.length;t--&&u8.test(e.charAt(t)););return t}var d8=f8,h8=d8,p8=/^\s+/;function g8(e){return e&&e.slice(0,h8(e)+1).replace(p8,"")}var m8=g8,y8=m8,e1=Wo,v8=Js,t1=NaN,x8=/^[-+]0x[0-9a-f]+$/i,b8=/^0b[01]+$/i,w8=/^0o[0-7]+$/i,k8=parseInt;function S8(e){if(typeof e=="number")return e;if(v8(e))return t1;if(e1(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=e1(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=y8(e);var r=b8.test(e);return r||w8.test(e)?k8(e.slice(2),r?2:8):x8.test(e)?t1:+e}var bO=S8,j8=Wo,Up=c8,r1=bO,O8="Expected a function",P8=Math.max,_8=Math.min;function N8(e,t,r){var n,a,o,i,s,l,c=0,f=!1,d=!1,h=!0;if(typeof e!="function")throw new TypeError(O8);t=r1(t)||0,j8(r)&&(f=!!r.leading,d="maxWait"in r,o=d?P8(r1(r.maxWait)||0,t):o,h="trailing"in r?!!r.trailing:h);function p(k){var j=n,P=a;return n=a=void 0,c=k,i=e.apply(P,j),i}function m(k){return c=k,s=setTimeout(y,t),f?p(k):i}function v(k){var j=k-l,P=k-c,_=t-j;return d?_8(_,o-P):_}function x(k){var j=k-l,P=k-c;return l===void 0||j>=t||j<0||d&&P>=o}function y(){var k=Up();if(x(k))return g(k);s=setTimeout(y,v(k))}function g(k){return s=void 0,h&&n?p(k):(n=a=void 0,i)}function b(){s!==void 0&&clearTimeout(s),c=0,n=l=a=s=void 0}function S(){return s===void 0?i:g(Up())}function w(){var k=Up(),j=x(k);if(n=arguments,a=this,l=k,j){if(s===void 0)return m(l);if(d)return clearTimeout(s),s=setTimeout(y,t),p(l)}return s===void 0&&(s=setTimeout(y,t)),i}return w.cancel=b,w.flush=S,w}var A8=N8,M8=A8,C8=Wo,E8="Expected a function";function T8(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(E8);return C8(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),M8(e,t,{leading:n,maxWait:t,trailing:a})}var $8=T8;const wO=Et($8);function Pc(e){"@babel/helpers - typeof";return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pc(e)}function n1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n1(Object(r),!0).forEach(function(n){D8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function D8(e,t,r){return t=R8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R8(e){var t=L8(e,"string");return Pc(t)=="symbol"?t:t+""}function L8(e,t){if(Pc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function I8(e,t){return U8(e)||z8(e,t)||F8(e,t)||B8()}function B8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F8(e,t){if(e){if(typeof e=="string")return a1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a1(e,t)}}function a1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function z8(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function U8(e){if(Array.isArray(e))return e}var _s=O.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,o=e.width,i=o===void 0?"100%":o,s=e.height,l=s===void 0?"100%":s,c=e.minWidth,f=c===void 0?0:c,d=e.minHeight,h=e.maxHeight,p=e.children,m=e.debounce,v=m===void 0?0:m,x=e.id,y=e.className,g=e.onResize,b=e.style,S=b===void 0?{}:b,w=O.useRef(null),k=O.useRef();k.current=g,O.useImperativeHandle(t,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var j=O.useState({containerWidth:a.width,containerHeight:a.height}),P=I8(j,2),_=P[0],A=P[1],N=O.useCallback(function(F,L){A(function(I){var U=Math.round(F),B=Math.round(L);return I.containerWidth===U&&I.containerHeight===B?I:{containerWidth:U,containerHeight:B}})},[]);O.useEffect(function(){var F=function($){var G,ee=$[0].contentRect,Q=ee.width,q=ee.height;N(Q,q),(G=k.current)===null||G===void 0||G.call(k,Q,q)};v>0&&(F=wO(F,v,{trailing:!0,leading:!1}));var L=new ResizeObserver(F),I=w.current.getBoundingClientRect(),U=I.width,B=I.height;return N(U,B),L.observe(w.current),function(){L.disconnect()}},[N,v]);var C=O.useMemo(function(){var F=_.containerWidth,L=_.containerHeight;if(F<0||L<0)return null;Za(li(i)||li(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,l),Za(!r||r>0,"The aspect(%s) must be greater than zero.",r);var I=li(i)?F:i,U=li(l)?L:l;r&&r>0&&(I?U=I/r:U&&(I=U*r),h&&U>h&&(U=h)),Za(I>0||U>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,I,U,i,l,f,d,r);var B=!Array.isArray(p)&&qa(p.type).endsWith("Chart");return M.Children.map(p,function(R){return M.isValidElement(R)?O.cloneElement(R,Xu({width:I,height:U},B?{style:Xu({height:"100%",width:"100%",maxHeight:U,maxWidth:I},R.props.style)}:{})):R})},[r,p,l,h,d,f,_,i]);return M.createElement("div",{id:x?"".concat(x):void 0,className:Qe("recharts-responsive-container",y),style:Xu(Xu({},S),{},{width:i,height:l,minWidth:f,minHeight:d,maxHeight:h}),ref:w},C)}),ev=function(t){return null};ev.displayName="Cell";function _c(e){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_c(e)}function o1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Eg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o1(Object(r),!0).forEach(function(n){W8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function W8(e,t,r){return t=G8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G8(e){var t=H8(e,"string");return _c(t)=="symbol"?t:t+""}function H8(e,t){if(_c(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fi={widthCache:{},cacheCount:0},V8=2e3,X8={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},i1="recharts_measurement_span";function K8(e){var t=Eg({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var ql=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ho.isSsr)return{width:0,height:0};var n=K8(r),a=JSON.stringify({text:t,copyStyle:n});if(Fi.widthCache[a])return Fi.widthCache[a];try{var o=document.getElementById(i1);o||(o=document.createElement("span"),o.setAttribute("id",i1),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var i=Eg(Eg({},X8),n);Object.assign(o.style,i),o.textContent="".concat(t);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return Fi.widthCache[a]=l,++Fi.cacheCount>V8&&(Fi.cacheCount=0,Fi.widthCache={}),l}catch{return{width:0,height:0}}},Y8=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Nc(e){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nc(e)}function rd(e,t){return J8(e)||Q8(e,t)||Z8(e,t)||q8()}function q8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z8(e,t){if(e){if(typeof e=="string")return s1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s1(e,t)}}function s1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Q8(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function J8(e){if(Array.isArray(e))return e}function eF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l1(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rF(n.key),n)}}function tF(e,t,r){return t&&l1(e.prototype,t),r&&l1(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function rF(e){var t=nF(e,"string");return Nc(t)=="symbol"?t:t+""}function nF(e,t){if(Nc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var c1=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,u1=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,aF=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,oF=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,kO={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},iF=Object.keys(kO),ns="NaN";function sF(e,t){return e*kO[t]}var Ku=function(){function e(t,r){eF(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!aF.test(r)&&(this.num=NaN,this.unit=""),iF.includes(r)&&(this.num=sF(t,r),this.unit="px")}return tF(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=oF.exec(r))!==null&&n!==void 0?n:[],o=rd(a,3),i=o[1],s=o[2];return new e(parseFloat(i),s??"")}}])}();function SO(e){if(e.includes(ns))return ns;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=c1.exec(t))!==null&&r!==void 0?r:[],a=rd(n,4),o=a[1],i=a[2],s=a[3],l=Ku.parse(o??""),c=Ku.parse(s??""),f=i==="*"?l.multiply(c):l.divide(c);if(f.isNaN())return ns;t=t.replace(c1,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,h=(d=u1.exec(t))!==null&&d!==void 0?d:[],p=rd(h,4),m=p[1],v=p[2],x=p[3],y=Ku.parse(m??""),g=Ku.parse(x??""),b=v==="+"?y.add(g):y.subtract(g);if(b.isNaN())return ns;t=t.replace(u1,b.toString())}return t}var f1=/\(([^()]*)\)/;function lF(e){for(var t=e;t.includes("(");){var r=f1.exec(t),n=rd(r,2),a=n[1];t=t.replace(f1,SO(a))}return t}function cF(e){var t=e.replace(/\s+/g,"");return t=lF(t),t=SO(t),t}function uF(e){try{return cF(e)}catch{return ns}}function Wp(e){var t=uF(e.slice(5,-1));return t===ns?"":t}var fF=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],dF=["dx","dy","angle","className","breakAll"];function Tg(){return Tg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tg.apply(this,arguments)}function d1(e,t){if(e==null)return{};var r=hF(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function hF(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function h1(e,t){return yF(e)||mF(e,t)||gF(e,t)||pF()}function pF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gF(e,t){if(e){if(typeof e=="string")return p1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p1(e,t)}}function p1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mF(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function yF(e){if(Array.isArray(e))return e}var jO=/[ \f\n\r\t\v\u2028\u2029]+/,OO=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var o=[];Be(r)||(n?o=r.toString().split(""):o=r.toString().split(jO));var i=o.map(function(l){return{word:l,width:ql(l,a).width}}),s=n?0:ql("",a).width;return{wordsWithComputedWidth:i,spaceWidth:s}}catch{return null}},vF=function(t,r,n,a,o){var i=t.maxLines,s=t.children,l=t.style,c=t.breakAll,f=se(i),d=s,h=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return I.reduce(function(U,B){var R=B.word,$=B.width,G=U[U.length-1];if(G&&(a==null||o||G.width+$+n<Number(a)))G.words.push(R),G.width+=$+n;else{var ee={words:[R],width:$};U.push(ee)}return U},[])},p=h(r),m=function(I){return I.reduce(function(U,B){return U.width>B.width?U:B})};if(!f)return p;for(var v="",x=function(I){var U=d.slice(0,I),B=OO({breakAll:c,style:l,children:U+v}).wordsWithComputedWidth,R=h(B),$=R.length>i||m(R).width>Number(a);return[$,R]},y=0,g=d.length-1,b=0,S;y<=g&&b<=d.length-1;){var w=Math.floor((y+g)/2),k=w-1,j=x(k),P=h1(j,2),_=P[0],A=P[1],N=x(w),C=h1(N,1),F=C[0];if(!_&&!F&&(y=w+1),_&&F&&(g=w-1),!_&&F){S=A;break}b++}return S||p},g1=function(t){var r=Be(t)?[]:t.toString().split(jO);return[{words:r}]},xF=function(t){var r=t.width,n=t.scaleToFit,a=t.children,o=t.style,i=t.breakAll,s=t.maxLines;if((r||n)&&!Ho.isSsr){var l,c,f=OO({breakAll:i,children:a,style:o});if(f){var d=f.wordsWithComputedWidth,h=f.spaceWidth;l=d,c=h}else return g1(a);return vF({breakAll:i,children:a,maxLines:s,style:o},l,c,r,n)}return g1(a)},m1="#808080",nd=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,o=a===void 0?0:a,i=t.lineHeight,s=i===void 0?"1em":i,l=t.capHeight,c=l===void 0?"0.71em":l,f=t.scaleToFit,d=f===void 0?!1:f,h=t.textAnchor,p=h===void 0?"start":h,m=t.verticalAnchor,v=m===void 0?"end":m,x=t.fill,y=x===void 0?m1:x,g=d1(t,fF),b=O.useMemo(function(){return xF({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:d,style:g.style,width:g.width})},[g.breakAll,g.children,g.maxLines,d,g.style,g.width]),S=g.dx,w=g.dy,k=g.angle,j=g.className,P=g.breakAll,_=d1(g,dF);if(!_r(n)||!_r(o))return null;var A=n+(se(S)?S:0),N=o+(se(w)?w:0),C;switch(v){case"start":C=Wp("calc(".concat(c,")"));break;case"middle":C=Wp("calc(".concat((b.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:C=Wp("calc(".concat(b.length-1," * -").concat(s,")"));break}var F=[];if(d){var L=b[0].width,I=g.width;F.push("scale(".concat((se(I)?I/L:1)/L,")"))}return k&&F.push("rotate(".concat(k,", ").concat(A,", ").concat(N,")")),F.length&&(_.transform=F.join(" ")),M.createElement("text",Tg({},ze(_,!0),{x:A,y:N,className:Qe("recharts-text",j),textAnchor:p,fill:y.includes("url")?m1:y}),b.map(function(U,B){var R=U.words.join(P?"":" ");return M.createElement("tspan",{x:A,dy:B===0?C:s,key:"".concat(R,"-").concat(B)},R)}))};function Lo(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function bF(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function tv(e){let t,r,n;e.length!==2?(t=Lo,r=(s,l)=>Lo(e(s),l),n=(s,l)=>e(s)-l):(t=e===Lo||e===bF?e:wF,r=e,n=e);function a(s,l,c=0,f=s.length){if(c<f){if(t(l,l)!==0)return f;do{const d=c+f>>>1;r(s[d],l)<0?c=d+1:f=d}while(c<f)}return c}function o(s,l,c=0,f=s.length){if(c<f){if(t(l,l)!==0)return f;do{const d=c+f>>>1;r(s[d],l)<=0?c=d+1:f=d}while(c<f)}return c}function i(s,l,c=0,f=s.length){const d=a(s,l,c,f-1);return d>c&&n(s[d-1],l)>-n(s[d],l)?d-1:d}return{left:a,center:i,right:o}}function wF(){return 0}function PO(e){return e===null?NaN:+e}function*kF(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const SF=tv(Lo),uu=SF.right;tv(PO).center;class y1 extends Map{constructor(t,r=PF){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(v1(this,t))}has(t){return super.has(v1(this,t))}set(t,r){return super.set(jF(this,t),r)}delete(t){return super.delete(OF(this,t))}}function v1({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function jF({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function OF({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function PF(e){return e!==null&&typeof e=="object"?e.valueOf():e}function _F(e=Lo){if(e===Lo)return _O;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function _O(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const NF=Math.sqrt(50),AF=Math.sqrt(10),MF=Math.sqrt(2);function ad(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),o=n/Math.pow(10,a),i=o>=NF?10:o>=AF?5:o>=MF?2:1;let s,l,c;return a<0?(c=Math.pow(10,-a)/i,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*i,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=r&&r<2?ad(e,t,r*2):[s,l,c]}function $g(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,o,i]=n?ad(t,e,r):ad(e,t,r);if(!(o>=a))return[];const s=o-a+1,l=new Array(s);if(n)if(i<0)for(let c=0;c<s;++c)l[c]=(o-c)/-i;else for(let c=0;c<s;++c)l[c]=(o-c)*i;else if(i<0)for(let c=0;c<s;++c)l[c]=(a+c)/-i;else for(let c=0;c<s;++c)l[c]=(a+c)*i;return l}function Dg(e,t,r){return t=+t,e=+e,r=+r,ad(e,t,r)[2]}function Rg(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Dg(t,e,r):Dg(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function x1(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function b1(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function NO(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?_O:_F(a);n>r;){if(n-r>600){const l=n-r+1,c=t-r+1,f=Math.log(l),d=.5*Math.exp(2*f/3),h=.5*Math.sqrt(f*d*(l-d)/l)*(c-l/2<0?-1:1),p=Math.max(r,Math.floor(t-c*d/l+h)),m=Math.min(n,Math.floor(t+(l-c)*d/l+h));NO(e,t,p,m,a)}const o=e[t];let i=r,s=n;for(Nl(e,r,t),a(e[n],o)>0&&Nl(e,r,n);i<s;){for(Nl(e,i,s),++i,--s;a(e[i],o)<0;)++i;for(;a(e[s],o)>0;)--s}a(e[r],o)===0?Nl(e,r,s):(++s,Nl(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function Nl(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function CF(e,t,r){if(e=Float64Array.from(kF(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return b1(e);if(t>=1)return x1(e);var n,a=(n-1)*t,o=Math.floor(a),i=x1(NO(e,o).subarray(0,o+1)),s=b1(e.subarray(o+1));return i+(s-i)*(a-o)}}function EF(e,t,r=PO){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,o=Math.floor(a),i=+r(e[o],o,e),s=+r(e[o+1],o+1,e);return i+(s-i)*(a-o)}}function TF(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,o=new Array(a);++n<a;)o[n]=e+n*r;return o}function la(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function uo(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Lg=Symbol("implicit");function rv(){var e=new y1,t=[],r=[],n=Lg;function a(o){let i=e.get(o);if(i===void 0){if(n!==Lg)return n;e.set(o,i=t.push(o)-1)}return r[i%r.length]}return a.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new y1;for(const i of o)e.has(i)||e.set(i,t.push(i)-1);return a},a.range=function(o){return arguments.length?(r=Array.from(o),a):r.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return rv(t,r).unknown(n)},la.apply(a,arguments),a}function Ac(){var e=rv().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,o,i,s=!1,l=0,c=0,f=.5;delete e.unknown;function d(){var h=t().length,p=a<n,m=p?a:n,v=p?n:a;o=(v-m)/Math.max(1,h-l+c*2),s&&(o=Math.floor(o)),m+=(v-m-o*(h-l))*f,i=o*(1-l),s&&(m=Math.round(m),i=Math.round(i));var x=TF(h).map(function(y){return m+o*y});return r(p?x.reverse():x)}return e.domain=function(h){return arguments.length?(t(h),d()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,d()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,s=!0,d()},e.bandwidth=function(){return i},e.step=function(){return o},e.round=function(h){return arguments.length?(s=!!h,d()):s},e.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),d()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},e.paddingOuter=function(h){return arguments.length?(c=+h,d()):c},e.align=function(h){return arguments.length?(f=Math.max(0,Math.min(1,h)),d()):f},e.copy=function(){return Ac(t(),[n,a]).round(s).paddingInner(l).paddingOuter(c).align(f)},la.apply(d(),arguments)}function AO(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return AO(t())},e}function Zl(){return AO(Ac.apply(null,arguments).paddingInner(1))}function nv(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function MO(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function fu(){}var Mc=.7,od=1/Mc,hs="\\s*([+-]?\\d+)\\s*",Cc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Da="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$F=/^#([0-9a-f]{3,8})$/,DF=new RegExp(`^rgb\\(${hs},${hs},${hs}\\)$`),RF=new RegExp(`^rgb\\(${Da},${Da},${Da}\\)$`),LF=new RegExp(`^rgba\\(${hs},${hs},${hs},${Cc}\\)$`),IF=new RegExp(`^rgba\\(${Da},${Da},${Da},${Cc}\\)$`),BF=new RegExp(`^hsl\\(${Cc},${Da},${Da}\\)$`),FF=new RegExp(`^hsla\\(${Cc},${Da},${Da},${Cc}\\)$`),w1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};nv(fu,Ec,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:k1,formatHex:k1,formatHex8:zF,formatHsl:UF,formatRgb:S1,toString:S1});function k1(){return this.rgb().formatHex()}function zF(){return this.rgb().formatHex8()}function UF(){return CO(this).formatHsl()}function S1(){return this.rgb().formatRgb()}function Ec(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=$F.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?j1(t):r===3?new Pn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Yu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Yu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=DF.exec(e))?new Pn(t[1],t[2],t[3],1):(t=RF.exec(e))?new Pn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=LF.exec(e))?Yu(t[1],t[2],t[3],t[4]):(t=IF.exec(e))?Yu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=BF.exec(e))?_1(t[1],t[2]/100,t[3]/100,1):(t=FF.exec(e))?_1(t[1],t[2]/100,t[3]/100,t[4]):w1.hasOwnProperty(e)?j1(w1[e]):e==="transparent"?new Pn(NaN,NaN,NaN,0):null}function j1(e){return new Pn(e>>16&255,e>>8&255,e&255,1)}function Yu(e,t,r,n){return n<=0&&(e=t=r=NaN),new Pn(e,t,r,n)}function WF(e){return e instanceof fu||(e=Ec(e)),e?(e=e.rgb(),new Pn(e.r,e.g,e.b,e.opacity)):new Pn}function Ig(e,t,r,n){return arguments.length===1?WF(e):new Pn(e,t,r,n??1)}function Pn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}nv(Pn,Ig,MO(fu,{brighter(e){return e=e==null?od:Math.pow(od,e),new Pn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Mc:Math.pow(Mc,e),new Pn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Pn(mi(this.r),mi(this.g),mi(this.b),id(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:O1,formatHex:O1,formatHex8:GF,formatRgb:P1,toString:P1}));function O1(){return`#${ci(this.r)}${ci(this.g)}${ci(this.b)}`}function GF(){return`#${ci(this.r)}${ci(this.g)}${ci(this.b)}${ci((isNaN(this.opacity)?1:this.opacity)*255)}`}function P1(){const e=id(this.opacity);return`${e===1?"rgb(":"rgba("}${mi(this.r)}, ${mi(this.g)}, ${mi(this.b)}${e===1?")":`, ${e})`}`}function id(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function mi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ci(e){return e=mi(e),(e<16?"0":"")+e.toString(16)}function _1(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ma(e,t,r,n)}function CO(e){if(e instanceof ma)return new ma(e.h,e.s,e.l,e.opacity);if(e instanceof fu||(e=Ec(e)),!e)return new ma;if(e instanceof ma)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),o=Math.max(t,r,n),i=NaN,s=o-a,l=(o+a)/2;return s?(t===o?i=(r-n)/s+(r<n)*6:r===o?i=(n-t)/s+2:i=(t-r)/s+4,s/=l<.5?o+a:2-o-a,i*=60):s=l>0&&l<1?0:i,new ma(i,s,l,e.opacity)}function HF(e,t,r,n){return arguments.length===1?CO(e):new ma(e,t,r,n??1)}function ma(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}nv(ma,HF,MO(fu,{brighter(e){return e=e==null?od:Math.pow(od,e),new ma(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Mc:Math.pow(Mc,e),new ma(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Pn(Gp(e>=240?e-240:e+120,a,n),Gp(e,a,n),Gp(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new ma(N1(this.h),qu(this.s),qu(this.l),id(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=id(this.opacity);return`${e===1?"hsl(":"hsla("}${N1(this.h)}, ${qu(this.s)*100}%, ${qu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function N1(e){return e=(e||0)%360,e<0?e+360:e}function qu(e){return Math.max(0,Math.min(1,e||0))}function Gp(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const av=e=>()=>e;function VF(e,t){return function(r){return e+r*t}}function XF(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function KF(e){return(e=+e)==1?EO:function(t,r){return r-t?XF(t,r,e):av(isNaN(t)?r:t)}}function EO(e,t){var r=t-e;return r?VF(e,r):av(isNaN(e)?t:e)}const A1=function e(t){var r=KF(t);function n(a,o){var i=r((a=Ig(a)).r,(o=Ig(o)).r),s=r(a.g,o.g),l=r(a.b,o.b),c=EO(a.opacity,o.opacity);return function(f){return a.r=i(f),a.g=s(f),a.b=l(f),a.opacity=c(f),a+""}}return n.gamma=e,n}(1);function YF(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(o){for(a=0;a<r;++a)n[a]=e[a]*(1-o)+t[a]*o;return n}}function qF(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function ZF(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),o=new Array(r),i;for(i=0;i<n;++i)a[i]=ll(e[i],t[i]);for(;i<r;++i)o[i]=t[i];return function(s){for(i=0;i<n;++i)o[i]=a[i](s);return o}}function QF(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function sd(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function JF(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=ll(e[a],t[a]):n[a]=t[a];return function(o){for(a in r)n[a]=r[a](o);return n}}var Bg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Hp=new RegExp(Bg.source,"g");function ez(e){return function(){return e}}function tz(e){return function(t){return e(t)+""}}function rz(e,t){var r=Bg.lastIndex=Hp.lastIndex=0,n,a,o,i=-1,s=[],l=[];for(e=e+"",t=t+"";(n=Bg.exec(e))&&(a=Hp.exec(t));)(o=a.index)>r&&(o=t.slice(r,o),s[i]?s[i]+=o:s[++i]=o),(n=n[0])===(a=a[0])?s[i]?s[i]+=a:s[++i]=a:(s[++i]=null,l.push({i,x:sd(n,a)})),r=Hp.lastIndex;return r<t.length&&(o=t.slice(r),s[i]?s[i]+=o:s[++i]=o),s.length<2?l[0]?tz(l[0].x):ez(t):(t=l.length,function(c){for(var f=0,d;f<t;++f)s[(d=l[f]).i]=d.x(c);return s.join("")})}function ll(e,t){var r=typeof t,n;return t==null||r==="boolean"?av(t):(r==="number"?sd:r==="string"?(n=Ec(t))?(t=n,A1):rz:t instanceof Ec?A1:t instanceof Date?QF:qF(t)?YF:Array.isArray(t)?ZF:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?JF:sd)(e,t)}function ov(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function nz(e,t){t===void 0&&(t=e,e=ll);for(var r=0,n=t.length-1,a=t[0],o=new Array(n<0?0:n);r<n;)o[r]=e(a,a=t[++r]);return function(i){var s=Math.max(0,Math.min(n-1,Math.floor(i*=n)));return o[s](i-s)}}function az(e){return function(){return e}}function ld(e){return+e}var M1=[0,1];function mn(e){return e}function Fg(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:az(isNaN(t)?NaN:.5)}function oz(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function iz(e,t,r){var n=e[0],a=e[1],o=t[0],i=t[1];return a<n?(n=Fg(a,n),o=r(i,o)):(n=Fg(n,a),o=r(o,i)),function(s){return o(n(s))}}function sz(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),o=new Array(n),i=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<n;)a[i]=Fg(e[i],e[i+1]),o[i]=r(t[i],t[i+1]);return function(s){var l=uu(e,s,1,n)-1;return o[l](a[l](s))}}function du(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Ch(){var e=M1,t=M1,r=ll,n,a,o,i=mn,s,l,c;function f(){var h=Math.min(e.length,t.length);return i!==mn&&(i=oz(e[0],e[h-1])),s=h>2?sz:iz,l=c=null,d}function d(h){return h==null||isNaN(h=+h)?o:(l||(l=s(e.map(n),t,r)))(n(i(h)))}return d.invert=function(h){return i(a((c||(c=s(t,e.map(n),sd)))(h)))},d.domain=function(h){return arguments.length?(e=Array.from(h,ld),f()):e.slice()},d.range=function(h){return arguments.length?(t=Array.from(h),f()):t.slice()},d.rangeRound=function(h){return t=Array.from(h),r=ov,f()},d.clamp=function(h){return arguments.length?(i=h?!0:mn,f()):i!==mn},d.interpolate=function(h){return arguments.length?(r=h,f()):r},d.unknown=function(h){return arguments.length?(o=h,d):o},function(h,p){return n=h,a=p,f()}}function iv(){return Ch()(mn,mn)}function lz(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function cd(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Ns(e){return e=cd(Math.abs(e)),e?e[1]:NaN}function cz(e,t){return function(r,n){for(var a=r.length,o=[],i=0,s=e[0],l=0;a>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),o.push(r.substring(a-=s,a+s)),!((l+=s+1)>n));)s=e[i=(i+1)%e.length];return o.reverse().join(t)}}function uz(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var fz=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Tc(e){if(!(t=fz.exec(e)))throw new Error("invalid format: "+e);var t;return new sv({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Tc.prototype=sv.prototype;function sv(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}sv.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function dz(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var TO;function hz(e,t){var r=cd(e,t);if(!r)return e+"";var n=r[0],a=r[1],o=a-(TO=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=n.length;return o===i?n:o>i?n+new Array(o-i+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+cd(e,Math.max(0,t+o-1))[0]}function C1(e,t){var r=cd(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const E1={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:lz,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>C1(e*100,t),r:C1,s:hz,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function T1(e){return e}var $1=Array.prototype.map,D1=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function pz(e){var t=e.grouping===void 0||e.thousands===void 0?T1:cz($1.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?T1:uz($1.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(d){d=Tc(d);var h=d.fill,p=d.align,m=d.sign,v=d.symbol,x=d.zero,y=d.width,g=d.comma,b=d.precision,S=d.trim,w=d.type;w==="n"?(g=!0,w="g"):E1[w]||(b===void 0&&(b=12),S=!0,w="g"),(x||h==="0"&&p==="=")&&(x=!0,h="0",p="=");var k=v==="$"?r:v==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",j=v==="$"?n:/[%p]/.test(w)?i:"",P=E1[w],_=/[defgprs%]/.test(w);b=b===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function A(N){var C=k,F=j,L,I,U;if(w==="c")F=P(N)+F,N="";else{N=+N;var B=N<0||1/N<0;if(N=isNaN(N)?l:P(Math.abs(N),b),S&&(N=dz(N)),B&&+N==0&&m!=="+"&&(B=!1),C=(B?m==="("?m:s:m==="-"||m==="("?"":m)+C,F=(w==="s"?D1[8+TO/3]:"")+F+(B&&m==="("?")":""),_){for(L=-1,I=N.length;++L<I;)if(U=N.charCodeAt(L),48>U||U>57){F=(U===46?a+N.slice(L+1):N.slice(L))+F,N=N.slice(0,L);break}}}g&&!x&&(N=t(N,1/0));var R=C.length+N.length+F.length,$=R<y?new Array(y-R+1).join(h):"";switch(g&&x&&(N=t($+N,$.length?y-F.length:1/0),$=""),p){case"<":N=C+N+F+$;break;case"=":N=C+$+N+F;break;case"^":N=$.slice(0,R=$.length>>1)+C+N+F+$.slice(R);break;default:N=$+C+N+F;break}return o(N)}return A.toString=function(){return d+""},A}function f(d,h){var p=c((d=Tc(d),d.type="f",d)),m=Math.max(-8,Math.min(8,Math.floor(Ns(h)/3)))*3,v=Math.pow(10,-m),x=D1[8+m/3];return function(y){return p(v*y)+x}}return{format:c,formatPrefix:f}}var Zu,lv,$O;gz({thousands:",",grouping:[3],currency:["$",""]});function gz(e){return Zu=pz(e),lv=Zu.format,$O=Zu.formatPrefix,Zu}function mz(e){return Math.max(0,-Ns(Math.abs(e)))}function yz(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ns(t)/3)))*3-Ns(Math.abs(e)))}function vz(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ns(t)-Ns(e))+1}function DO(e,t,r,n){var a=Rg(e,t,r),o;switch(n=Tc(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(o=yz(a,i))&&(n.precision=o),$O(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=vz(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=mz(a))&&(n.precision=o-(n.type==="%")*2);break}}return lv(n)}function Vo(e){var t=e.domain;return e.ticks=function(r){var n=t();return $g(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return DO(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,o=n.length-1,i=n[a],s=n[o],l,c,f=10;for(s<i&&(c=i,i=s,s=c,c=a,a=o,o=c);f-- >0;){if(c=Dg(i,s,r),c===l)return n[a]=i,n[o]=s,t(n);if(c>0)i=Math.floor(i/c)*c,s=Math.ceil(s/c)*c;else if(c<0)i=Math.ceil(i*c)/c,s=Math.floor(s*c)/c;else break;l=c}return e},e}function ud(){var e=iv();return e.copy=function(){return du(e,ud())},la.apply(e,arguments),Vo(e)}function RO(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,ld),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return RO(e).unknown(t)},e=arguments.length?Array.from(e,ld):[0,1],Vo(r)}function LO(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],o=e[n],i;return o<a&&(i=r,r=n,n=i,i=a,a=o,o=i),e[r]=t.floor(a),e[n]=t.ceil(o),e}function R1(e){return Math.log(e)}function L1(e){return Math.exp(e)}function xz(e){return-Math.log(-e)}function bz(e){return-Math.exp(-e)}function wz(e){return isFinite(e)?+("1e"+e):e<0?0:e}function kz(e){return e===10?wz:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Sz(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function I1(e){return(t,r)=>-e(-t,r)}function cv(e){const t=e(R1,L1),r=t.domain;let n=10,a,o;function i(){return a=Sz(n),o=kz(n),r()[0]<0?(a=I1(a),o=I1(o),e(xz,bz)):e(R1,L1),t}return t.base=function(s){return arguments.length?(n=+s,i()):n},t.domain=function(s){return arguments.length?(r(s),i()):r()},t.ticks=s=>{const l=r();let c=l[0],f=l[l.length-1];const d=f<c;d&&([c,f]=[f,c]);let h=a(c),p=a(f),m,v;const x=s==null?10:+s;let y=[];if(!(n%1)&&p-h<x){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(m=1;m<n;++m)if(v=h<0?m/o(-h):m*o(h),!(v<c)){if(v>f)break;y.push(v)}}else for(;h<=p;++h)for(m=n-1;m>=1;--m)if(v=h>0?m/o(-h):m*o(h),!(v<c)){if(v>f)break;y.push(v)}y.length*2<x&&(y=$g(c,f,x))}else y=$g(h,p,Math.min(p-h,x)).map(o);return d?y.reverse():y},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Tc(l)).precision==null&&(l.trim=!0),l=lv(l)),s===1/0)return l;const c=Math.max(1,n*s/t.ticks().length);return f=>{let d=f/o(Math.round(a(f)));return d*n<n-.5&&(d*=n),d<=c?l(f):""}},t.nice=()=>r(LO(r(),{floor:s=>o(Math.floor(a(s))),ceil:s=>o(Math.ceil(a(s)))})),t}function IO(){const e=cv(Ch()).domain([1,10]);return e.copy=()=>du(e,IO()).base(e.base()),la.apply(e,arguments),e}function B1(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function F1(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function uv(e){var t=1,r=e(B1(t),F1(t));return r.constant=function(n){return arguments.length?e(B1(t=+n),F1(t)):t},Vo(r)}function BO(){var e=uv(Ch());return e.copy=function(){return du(e,BO()).constant(e.constant())},la.apply(e,arguments)}function z1(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function jz(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Oz(e){return e<0?-e*e:e*e}function fv(e){var t=e(mn,mn),r=1;function n(){return r===1?e(mn,mn):r===.5?e(jz,Oz):e(z1(r),z1(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Vo(t)}function dv(){var e=fv(Ch());return e.copy=function(){return du(e,dv()).exponent(e.exponent())},la.apply(e,arguments),e}function Pz(){return dv.apply(null,arguments).exponent(.5)}function U1(e){return Math.sign(e)*e*e}function _z(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function FO(){var e=iv(),t=[0,1],r=!1,n;function a(o){var i=_z(e(o));return isNaN(i)?n:r?Math.round(i):i}return a.invert=function(o){return e.invert(U1(o))},a.domain=function(o){return arguments.length?(e.domain(o),a):e.domain()},a.range=function(o){return arguments.length?(e.range((t=Array.from(o,ld)).map(U1)),a):t.slice()},a.rangeRound=function(o){return a.range(o).round(!0)},a.round=function(o){return arguments.length?(r=!!o,a):r},a.clamp=function(o){return arguments.length?(e.clamp(o),a):e.clamp()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return FO(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},la.apply(a,arguments),Vo(a)}function zO(){var e=[],t=[],r=[],n;function a(){var i=0,s=Math.max(1,t.length);for(r=new Array(s-1);++i<s;)r[i-1]=EF(e,i/s);return o}function o(i){return i==null||isNaN(i=+i)?n:t[uu(r,i)]}return o.invertExtent=function(i){var s=t.indexOf(i);return s<0?[NaN,NaN]:[s>0?r[s-1]:e[0],s<r.length?r[s]:e[e.length-1]]},o.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let s of i)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Lo),a()},o.range=function(i){return arguments.length?(t=Array.from(i),a()):t.slice()},o.unknown=function(i){return arguments.length?(n=i,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return zO().domain(e).range(t).unknown(n)},la.apply(o,arguments)}function UO(){var e=0,t=1,r=1,n=[.5],a=[0,1],o;function i(l){return l!=null&&l<=l?a[uu(n,l,0,r)]:o}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return i}return i.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},i.range=function(l){return arguments.length?(r=(a=Array.from(l)).length-1,s()):a.slice()},i.invertExtent=function(l){var c=a.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},i.unknown=function(l){return arguments.length&&(o=l),i},i.thresholds=function(){return n.slice()},i.copy=function(){return UO().domain([e,t]).range(a).unknown(o)},la.apply(Vo(i),arguments)}function WO(){var e=[.5],t=[0,1],r,n=1;function a(o){return o!=null&&o<=o?t[uu(e,o,0,n)]:r}return a.domain=function(o){return arguments.length?(e=Array.from(o),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(o){return arguments.length?(t=Array.from(o),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(o){var i=t.indexOf(o);return[e[i-1],e[i]]},a.unknown=function(o){return arguments.length?(r=o,a):r},a.copy=function(){return WO().domain(e).range(t).unknown(r)},la.apply(a,arguments)}const Vp=new Date,Xp=new Date;function Ar(e,t,r,n){function a(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return a.floor=o=>(e(o=new Date(+o)),o),a.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),a.round=o=>{const i=a(o),s=a.ceil(o);return o-i<s-o?i:s},a.offset=(o,i)=>(t(o=new Date(+o),i==null?1:Math.floor(i)),o),a.range=(o,i,s)=>{const l=[];if(o=a.ceil(o),s=s==null?1:Math.floor(s),!(o<i)||!(s>0))return l;let c;do l.push(c=new Date(+o)),t(o,s),e(o);while(c<o&&o<i);return l},a.filter=o=>Ar(i=>{if(i>=i)for(;e(i),!o(i);)i.setTime(i-1)},(i,s)=>{if(i>=i)if(s<0)for(;++s<=0;)for(;t(i,-1),!o(i););else for(;--s>=0;)for(;t(i,1),!o(i););}),r&&(a.count=(o,i)=>(Vp.setTime(+o),Xp.setTime(+i),e(Vp),e(Xp),Math.floor(r(Vp,Xp))),a.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?a.filter(n?i=>n(i)%o===0:i=>a.count(0,i)%o===0):a)),a}const fd=Ar(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);fd.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ar(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):fd);fd.range;const Va=1e3,ea=Va*60,Xa=ea*60,ao=Xa*24,hv=ao*7,W1=ao*30,Kp=ao*365,ui=Ar(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Va)},(e,t)=>(t-e)/Va,e=>e.getUTCSeconds());ui.range;const pv=Ar(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Va)},(e,t)=>{e.setTime(+e+t*ea)},(e,t)=>(t-e)/ea,e=>e.getMinutes());pv.range;const gv=Ar(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ea)},(e,t)=>(t-e)/ea,e=>e.getUTCMinutes());gv.range;const mv=Ar(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Va-e.getMinutes()*ea)},(e,t)=>{e.setTime(+e+t*Xa)},(e,t)=>(t-e)/Xa,e=>e.getHours());mv.range;const yv=Ar(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Xa)},(e,t)=>(t-e)/Xa,e=>e.getUTCHours());yv.range;const hu=Ar(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ea)/ao,e=>e.getDate()-1);hu.range;const Eh=Ar(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ao,e=>e.getUTCDate()-1);Eh.range;const GO=Ar(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ao,e=>Math.floor(e/ao));GO.range;function Di(e){return Ar(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*ea)/hv)}const Th=Di(0),dd=Di(1),Nz=Di(2),Az=Di(3),As=Di(4),Mz=Di(5),Cz=Di(6);Th.range;dd.range;Nz.range;Az.range;As.range;Mz.range;Cz.range;function Ri(e){return Ar(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/hv)}const $h=Ri(0),hd=Ri(1),Ez=Ri(2),Tz=Ri(3),Ms=Ri(4),$z=Ri(5),Dz=Ri(6);$h.range;hd.range;Ez.range;Tz.range;Ms.range;$z.range;Dz.range;const vv=Ar(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());vv.range;const xv=Ar(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());xv.range;const oo=Ar(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());oo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ar(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});oo.range;const io=Ar(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());io.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ar(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});io.range;function HO(e,t,r,n,a,o){const i=[[ui,1,Va],[ui,5,5*Va],[ui,15,15*Va],[ui,30,30*Va],[o,1,ea],[o,5,5*ea],[o,15,15*ea],[o,30,30*ea],[a,1,Xa],[a,3,3*Xa],[a,6,6*Xa],[a,12,12*Xa],[n,1,ao],[n,2,2*ao],[r,1,hv],[t,1,W1],[t,3,3*W1],[e,1,Kp]];function s(c,f,d){const h=f<c;h&&([c,f]=[f,c]);const p=d&&typeof d.range=="function"?d:l(c,f,d),m=p?p.range(c,+f+1):[];return h?m.reverse():m}function l(c,f,d){const h=Math.abs(f-c)/d,p=tv(([,,x])=>x).right(i,h);if(p===i.length)return e.every(Rg(c/Kp,f/Kp,d));if(p===0)return fd.every(Math.max(Rg(c,f,d),1));const[m,v]=i[h/i[p-1][2]<i[p][2]/h?p-1:p];return m.every(v)}return[s,l]}const[Rz,Lz]=HO(io,xv,$h,GO,yv,gv),[Iz,Bz]=HO(oo,vv,Th,hu,mv,pv);function Yp(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function qp(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Al(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Fz(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,o=e.days,i=e.shortDays,s=e.months,l=e.shortMonths,c=Ml(a),f=Cl(a),d=Ml(o),h=Cl(o),p=Ml(i),m=Cl(i),v=Ml(s),x=Cl(s),y=Ml(l),g=Cl(l),b={a:B,A:R,b:$,B:G,c:null,d:Y1,e:Y1,f:c9,g:x9,G:w9,H:i9,I:s9,j:l9,L:VO,m:u9,M:f9,p:ee,q:Q,Q:Q1,s:J1,S:d9,u:h9,U:p9,V:g9,w:m9,W:y9,x:null,X:null,y:v9,Y:b9,Z:k9,"%":Z1},S={a:q,A:K,b:le,B:ue,c:null,d:q1,e:q1,f:P9,g:R9,G:I9,H:S9,I:j9,j:O9,L:KO,m:_9,M:N9,p:Se,q:be,Q:Q1,s:J1,S:A9,u:M9,U:C9,V:E9,w:T9,W:$9,x:null,X:null,y:D9,Y:L9,Z:B9,"%":Z1},w={a:A,A:N,b:C,B:F,c:L,d:X1,e:X1,f:r9,g:V1,G:H1,H:K1,I:K1,j:Qz,L:t9,m:Zz,M:Jz,p:_,q:qz,Q:a9,s:o9,S:e9,u:Hz,U:Vz,V:Xz,w:Gz,W:Kz,x:I,X:U,y:V1,Y:H1,Z:Yz,"%":n9};b.x=k(r,b),b.X=k(n,b),b.c=k(t,b),S.x=k(r,S),S.X=k(n,S),S.c=k(t,S);function k(Y,ie){return function(ge){var W=[],ve=-1,he=0,Oe=Y.length,Ke,et,Qt;for(ge instanceof Date||(ge=new Date(+ge));++ve<Oe;)Y.charCodeAt(ve)===37&&(W.push(Y.slice(he,ve)),(et=G1[Ke=Y.charAt(++ve)])!=null?Ke=Y.charAt(++ve):et=Ke==="e"?" ":"0",(Qt=ie[Ke])&&(Ke=Qt(ge,et)),W.push(Ke),he=ve+1);return W.push(Y.slice(he,ve)),W.join("")}}function j(Y,ie){return function(ge){var W=Al(1900,void 0,1),ve=P(W,Y,ge+="",0),he,Oe;if(ve!=ge.length)return null;if("Q"in W)return new Date(W.Q);if("s"in W)return new Date(W.s*1e3+("L"in W?W.L:0));if(ie&&!("Z"in W)&&(W.Z=0),"p"in W&&(W.H=W.H%12+W.p*12),W.m===void 0&&(W.m="q"in W?W.q:0),"V"in W){if(W.V<1||W.V>53)return null;"w"in W||(W.w=1),"Z"in W?(he=qp(Al(W.y,0,1)),Oe=he.getUTCDay(),he=Oe>4||Oe===0?hd.ceil(he):hd(he),he=Eh.offset(he,(W.V-1)*7),W.y=he.getUTCFullYear(),W.m=he.getUTCMonth(),W.d=he.getUTCDate()+(W.w+6)%7):(he=Yp(Al(W.y,0,1)),Oe=he.getDay(),he=Oe>4||Oe===0?dd.ceil(he):dd(he),he=hu.offset(he,(W.V-1)*7),W.y=he.getFullYear(),W.m=he.getMonth(),W.d=he.getDate()+(W.w+6)%7)}else("W"in W||"U"in W)&&("w"in W||(W.w="u"in W?W.u%7:"W"in W?1:0),Oe="Z"in W?qp(Al(W.y,0,1)).getUTCDay():Yp(Al(W.y,0,1)).getDay(),W.m=0,W.d="W"in W?(W.w+6)%7+W.W*7-(Oe+5)%7:W.w+W.U*7-(Oe+6)%7);return"Z"in W?(W.H+=W.Z/100|0,W.M+=W.Z%100,qp(W)):Yp(W)}}function P(Y,ie,ge,W){for(var ve=0,he=ie.length,Oe=ge.length,Ke,et;ve<he;){if(W>=Oe)return-1;if(Ke=ie.charCodeAt(ve++),Ke===37){if(Ke=ie.charAt(ve++),et=w[Ke in G1?ie.charAt(ve++):Ke],!et||(W=et(Y,ge,W))<0)return-1}else if(Ke!=ge.charCodeAt(W++))return-1}return W}function _(Y,ie,ge){var W=c.exec(ie.slice(ge));return W?(Y.p=f.get(W[0].toLowerCase()),ge+W[0].length):-1}function A(Y,ie,ge){var W=p.exec(ie.slice(ge));return W?(Y.w=m.get(W[0].toLowerCase()),ge+W[0].length):-1}function N(Y,ie,ge){var W=d.exec(ie.slice(ge));return W?(Y.w=h.get(W[0].toLowerCase()),ge+W[0].length):-1}function C(Y,ie,ge){var W=y.exec(ie.slice(ge));return W?(Y.m=g.get(W[0].toLowerCase()),ge+W[0].length):-1}function F(Y,ie,ge){var W=v.exec(ie.slice(ge));return W?(Y.m=x.get(W[0].toLowerCase()),ge+W[0].length):-1}function L(Y,ie,ge){return P(Y,t,ie,ge)}function I(Y,ie,ge){return P(Y,r,ie,ge)}function U(Y,ie,ge){return P(Y,n,ie,ge)}function B(Y){return i[Y.getDay()]}function R(Y){return o[Y.getDay()]}function $(Y){return l[Y.getMonth()]}function G(Y){return s[Y.getMonth()]}function ee(Y){return a[+(Y.getHours()>=12)]}function Q(Y){return 1+~~(Y.getMonth()/3)}function q(Y){return i[Y.getUTCDay()]}function K(Y){return o[Y.getUTCDay()]}function le(Y){return l[Y.getUTCMonth()]}function ue(Y){return s[Y.getUTCMonth()]}function Se(Y){return a[+(Y.getUTCHours()>=12)]}function be(Y){return 1+~~(Y.getUTCMonth()/3)}return{format:function(Y){var ie=k(Y+="",b);return ie.toString=function(){return Y},ie},parse:function(Y){var ie=j(Y+="",!1);return ie.toString=function(){return Y},ie},utcFormat:function(Y){var ie=k(Y+="",S);return ie.toString=function(){return Y},ie},utcParse:function(Y){var ie=j(Y+="",!0);return ie.toString=function(){return Y},ie}}}var G1={"-":"",_:" ",0:"0"},Dr=/^\s*\d+/,zz=/^%/,Uz=/[\\^$*+?|[\]().{}]/g;function it(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",o=a.length;return n+(o<r?new Array(r-o+1).join(t)+a:a)}function Wz(e){return e.replace(Uz,"\\$&")}function Ml(e){return new RegExp("^(?:"+e.map(Wz).join("|")+")","i")}function Cl(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Gz(e,t,r){var n=Dr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Hz(e,t,r){var n=Dr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Vz(e,t,r){var n=Dr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Xz(e,t,r){var n=Dr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Kz(e,t,r){var n=Dr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function H1(e,t,r){var n=Dr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function V1(e,t,r){var n=Dr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Yz(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function qz(e,t,r){var n=Dr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Zz(e,t,r){var n=Dr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function X1(e,t,r){var n=Dr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Qz(e,t,r){var n=Dr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function K1(e,t,r){var n=Dr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Jz(e,t,r){var n=Dr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function e9(e,t,r){var n=Dr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function t9(e,t,r){var n=Dr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function r9(e,t,r){var n=Dr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function n9(e,t,r){var n=zz.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function a9(e,t,r){var n=Dr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function o9(e,t,r){var n=Dr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function Y1(e,t){return it(e.getDate(),t,2)}function i9(e,t){return it(e.getHours(),t,2)}function s9(e,t){return it(e.getHours()%12||12,t,2)}function l9(e,t){return it(1+hu.count(oo(e),e),t,3)}function VO(e,t){return it(e.getMilliseconds(),t,3)}function c9(e,t){return VO(e,t)+"000"}function u9(e,t){return it(e.getMonth()+1,t,2)}function f9(e,t){return it(e.getMinutes(),t,2)}function d9(e,t){return it(e.getSeconds(),t,2)}function h9(e){var t=e.getDay();return t===0?7:t}function p9(e,t){return it(Th.count(oo(e)-1,e),t,2)}function XO(e){var t=e.getDay();return t>=4||t===0?As(e):As.ceil(e)}function g9(e,t){return e=XO(e),it(As.count(oo(e),e)+(oo(e).getDay()===4),t,2)}function m9(e){return e.getDay()}function y9(e,t){return it(dd.count(oo(e)-1,e),t,2)}function v9(e,t){return it(e.getFullYear()%100,t,2)}function x9(e,t){return e=XO(e),it(e.getFullYear()%100,t,2)}function b9(e,t){return it(e.getFullYear()%1e4,t,4)}function w9(e,t){var r=e.getDay();return e=r>=4||r===0?As(e):As.ceil(e),it(e.getFullYear()%1e4,t,4)}function k9(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+it(t/60|0,"0",2)+it(t%60,"0",2)}function q1(e,t){return it(e.getUTCDate(),t,2)}function S9(e,t){return it(e.getUTCHours(),t,2)}function j9(e,t){return it(e.getUTCHours()%12||12,t,2)}function O9(e,t){return it(1+Eh.count(io(e),e),t,3)}function KO(e,t){return it(e.getUTCMilliseconds(),t,3)}function P9(e,t){return KO(e,t)+"000"}function _9(e,t){return it(e.getUTCMonth()+1,t,2)}function N9(e,t){return it(e.getUTCMinutes(),t,2)}function A9(e,t){return it(e.getUTCSeconds(),t,2)}function M9(e){var t=e.getUTCDay();return t===0?7:t}function C9(e,t){return it($h.count(io(e)-1,e),t,2)}function YO(e){var t=e.getUTCDay();return t>=4||t===0?Ms(e):Ms.ceil(e)}function E9(e,t){return e=YO(e),it(Ms.count(io(e),e)+(io(e).getUTCDay()===4),t,2)}function T9(e){return e.getUTCDay()}function $9(e,t){return it(hd.count(io(e)-1,e),t,2)}function D9(e,t){return it(e.getUTCFullYear()%100,t,2)}function R9(e,t){return e=YO(e),it(e.getUTCFullYear()%100,t,2)}function L9(e,t){return it(e.getUTCFullYear()%1e4,t,4)}function I9(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Ms(e):Ms.ceil(e),it(e.getUTCFullYear()%1e4,t,4)}function B9(){return"+0000"}function Z1(){return"%"}function Q1(e){return+e}function J1(e){return Math.floor(+e/1e3)}var zi,qO,ZO;F9({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function F9(e){return zi=Fz(e),qO=zi.format,zi.parse,ZO=zi.utcFormat,zi.utcParse,zi}function z9(e){return new Date(e)}function U9(e){return e instanceof Date?+e:+new Date(+e)}function bv(e,t,r,n,a,o,i,s,l,c){var f=iv(),d=f.invert,h=f.domain,p=c(".%L"),m=c(":%S"),v=c("%I:%M"),x=c("%I %p"),y=c("%a %d"),g=c("%b %d"),b=c("%B"),S=c("%Y");function w(k){return(l(k)<k?p:s(k)<k?m:i(k)<k?v:o(k)<k?x:n(k)<k?a(k)<k?y:g:r(k)<k?b:S)(k)}return f.invert=function(k){return new Date(d(k))},f.domain=function(k){return arguments.length?h(Array.from(k,U9)):h().map(z9)},f.ticks=function(k){var j=h();return e(j[0],j[j.length-1],k??10)},f.tickFormat=function(k,j){return j==null?w:c(j)},f.nice=function(k){var j=h();return(!k||typeof k.range!="function")&&(k=t(j[0],j[j.length-1],k??10)),k?h(LO(j,k)):f},f.copy=function(){return du(f,bv(e,t,r,n,a,o,i,s,l,c))},f}function W9(){return la.apply(bv(Iz,Bz,oo,vv,Th,hu,mv,pv,ui,qO).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function G9(){return la.apply(bv(Rz,Lz,io,xv,$h,Eh,yv,gv,ui,ZO).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Dh(){var e=0,t=1,r,n,a,o,i=mn,s=!1,l;function c(d){return d==null||isNaN(d=+d)?l:i(a===0?.5:(d=(o(d)-r)*a,s?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([e,t]=d,r=o(e=+e),n=o(t=+t),a=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(d){return arguments.length?(s=!!d,c):s},c.interpolator=function(d){return arguments.length?(i=d,c):i};function f(d){return function(h){var p,m;return arguments.length?([p,m]=h,i=d(p,m),c):[i(0),i(1)]}}return c.range=f(ll),c.rangeRound=f(ov),c.unknown=function(d){return arguments.length?(l=d,c):l},function(d){return o=d,r=d(e),n=d(t),a=r===n?0:1/(n-r),c}}function Xo(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function QO(){var e=Vo(Dh()(mn));return e.copy=function(){return Xo(e,QO())},uo.apply(e,arguments)}function JO(){var e=cv(Dh()).domain([1,10]);return e.copy=function(){return Xo(e,JO()).base(e.base())},uo.apply(e,arguments)}function eP(){var e=uv(Dh());return e.copy=function(){return Xo(e,eP()).constant(e.constant())},uo.apply(e,arguments)}function wv(){var e=fv(Dh());return e.copy=function(){return Xo(e,wv()).exponent(e.exponent())},uo.apply(e,arguments)}function H9(){return wv.apply(null,arguments).exponent(.5)}function tP(){var e=[],t=mn;function r(n){if(n!=null&&!isNaN(n=+n))return t((uu(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Lo),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,o)=>CF(e,o/n))},r.copy=function(){return tP(t).domain(e)},uo.apply(r,arguments)}function Rh(){var e=0,t=.5,r=1,n=1,a,o,i,s,l,c=mn,f,d=!1,h;function p(v){return isNaN(v=+v)?h:(v=.5+((v=+f(v))-o)*(n*v<n*o?s:l),c(d?Math.max(0,Math.min(1,v)):v))}p.domain=function(v){return arguments.length?([e,t,r]=v,a=f(e=+e),o=f(t=+t),i=f(r=+r),s=a===o?0:.5/(o-a),l=o===i?0:.5/(i-o),n=o<a?-1:1,p):[e,t,r]},p.clamp=function(v){return arguments.length?(d=!!v,p):d},p.interpolator=function(v){return arguments.length?(c=v,p):c};function m(v){return function(x){var y,g,b;return arguments.length?([y,g,b]=x,c=nz(v,[y,g,b]),p):[c(0),c(.5),c(1)]}}return p.range=m(ll),p.rangeRound=m(ov),p.unknown=function(v){return arguments.length?(h=v,p):h},function(v){return f=v,a=v(e),o=v(t),i=v(r),s=a===o?0:.5/(o-a),l=o===i?0:.5/(i-o),n=o<a?-1:1,p}}function rP(){var e=Vo(Rh()(mn));return e.copy=function(){return Xo(e,rP())},uo.apply(e,arguments)}function nP(){var e=cv(Rh()).domain([.1,1,10]);return e.copy=function(){return Xo(e,nP()).base(e.base())},uo.apply(e,arguments)}function aP(){var e=uv(Rh());return e.copy=function(){return Xo(e,aP()).constant(e.constant())},uo.apply(e,arguments)}function kv(){var e=fv(Rh());return e.copy=function(){return Xo(e,kv()).exponent(e.exponent())},uo.apply(e,arguments)}function V9(){return kv.apply(null,arguments).exponent(.5)}const ew=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ac,scaleDiverging:rP,scaleDivergingLog:nP,scaleDivergingPow:kv,scaleDivergingSqrt:V9,scaleDivergingSymlog:aP,scaleIdentity:RO,scaleImplicit:Lg,scaleLinear:ud,scaleLog:IO,scaleOrdinal:rv,scalePoint:Zl,scalePow:dv,scaleQuantile:zO,scaleQuantize:UO,scaleRadial:FO,scaleSequential:QO,scaleSequentialLog:JO,scaleSequentialPow:wv,scaleSequentialQuantile:tP,scaleSequentialSqrt:H9,scaleSequentialSymlog:eP,scaleSqrt:Pz,scaleSymlog:BO,scaleThreshold:WO,scaleTime:W9,scaleUtc:G9,tickFormat:DO},Symbol.toStringTag,{value:"Module"}));var X9=Js;function K9(e,t,r){for(var n=-1,a=e.length;++n<a;){var o=e[n],i=t(o);if(i!=null&&(s===void 0?i===i&&!X9(i):r(i,s)))var s=i,l=o}return l}var oP=K9;function Y9(e,t){return e>t}var q9=Y9,Z9=oP,Q9=q9,J9=sl;function e7(e){return e&&e.length?Z9(e,J9,Q9):void 0}var t7=e7;const Oo=Et(t7);function r7(e,t){return e<t}var n7=r7,a7=oP,o7=n7,i7=sl;function s7(e){return e&&e.length?a7(e,i7,o7):void 0}var l7=s7;const Lh=Et(l7);var c7=Ry,u7=Go,f7=pO,d7=Cn;function h7(e,t){var r=d7(e)?c7:f7;return r(e,u7(t))}var p7=h7,g7=dO,m7=p7;function y7(e,t){return g7(m7(e,t),1)}var v7=y7;const x7=Et(v7);var b7=qy;function w7(e,t){return b7(e,t)}var k7=w7;const Pi=Et(k7);var cl=1e9,S7={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},jv,Zt=!0,ia="[DecimalError] ",yi=ia+"Invalid argument: ",Sv=ia+"Exponent out of range: ",ul=Math.floor,ai=Math.pow,j7=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Fn,Er=1e7,Ut=7,iP=9007199254740991,pd=ul(iP/Ut),ye={};ye.absoluteValue=ye.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ye.comparedTo=ye.cmp=function(e){var t,r,n,a,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(n=o.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return n===a?0:n>a^o.s<0?1:-1};ye.decimalPlaces=ye.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Ut;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ye.dividedBy=ye.div=function(e){return Ja(this,new this.constructor(e))};ye.dividedToIntegerBy=ye.idiv=function(e){var t=this,r=t.constructor;return Ct(Ja(t,new r(e),0,1),r.precision)};ye.equals=ye.eq=function(e){return!this.cmp(e)};ye.exponent=function(){return xr(this)};ye.greaterThan=ye.gt=function(e){return this.cmp(e)>0};ye.greaterThanOrEqualTo=ye.gte=function(e){return this.cmp(e)>=0};ye.isInteger=ye.isint=function(){return this.e>this.d.length-2};ye.isNegative=ye.isneg=function(){return this.s<0};ye.isPositive=ye.ispos=function(){return this.s>0};ye.isZero=function(){return this.s===0};ye.lessThan=ye.lt=function(e){return this.cmp(e)<0};ye.lessThanOrEqualTo=ye.lte=function(e){return this.cmp(e)<1};ye.logarithm=ye.log=function(e){var t,r=this,n=r.constructor,a=n.precision,o=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Fn))throw Error(ia+"NaN");if(r.s<1)throw Error(ia+(r.s?"NaN":"-Infinity"));return r.eq(Fn)?new n(0):(Zt=!1,t=Ja($c(r,o),$c(e,o),o),Zt=!0,Ct(t,a))};ye.minus=ye.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?cP(t,e):sP(t,(e.s=-e.s,e))};ye.modulo=ye.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(ia+"NaN");return r.s?(Zt=!1,t=Ja(r,e,0,1).times(e),Zt=!0,r.minus(t)):Ct(new n(r),a)};ye.naturalExponential=ye.exp=function(){return lP(this)};ye.naturalLogarithm=ye.ln=function(){return $c(this)};ye.negated=ye.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ye.plus=ye.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?sP(t,e):cP(t,(e.s=-e.s,e))};ye.precision=ye.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(yi+e);if(t=xr(a)+1,n=a.d.length-1,r=n*Ut+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ye.squareRoot=ye.sqrt=function(){var e,t,r,n,a,o,i,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(ia+"NaN")}for(e=xr(s),Zt=!1,a=Math.sqrt(+s),a==0||a==1/0?(t=Ca(s.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=ul((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(a.toString()),r=l.precision,a=i=r+3;;)if(o=n,n=o.plus(Ja(s,o,i+2)).times(.5),Ca(o.d).slice(0,i)===(t=Ca(n.d)).slice(0,i)){if(t=t.slice(i-3,i+1),a==i&&t=="4999"){if(Ct(o,r+1,0),o.times(o).eq(s)){n=o;break}}else if(t!="9999")break;i+=4}return Zt=!0,Ct(n,r)};ye.times=ye.mul=function(e){var t,r,n,a,o,i,s,l,c,f=this,d=f.constructor,h=f.d,p=(e=new d(e)).d;if(!f.s||!e.s)return new d(0);for(e.s*=f.s,r=f.e+e.e,l=h.length,c=p.length,l<c&&(o=h,h=p,p=o,i=l,l=c,c=i),o=[],i=l+c,n=i;n--;)o.push(0);for(n=c;--n>=0;){for(t=0,a=l+n;a>n;)s=o[a]+p[n]*h[a-n-1]+t,o[a--]=s%Er|0,t=s/Er|0;o[a]=(o[a]+t)%Er|0}for(;!o[--i];)o.pop();return t?++r:o.shift(),e.d=o,e.e=r,Zt?Ct(e,d.precision):e};ye.toDecimalPlaces=ye.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Ia(e,0,cl),t===void 0?t=n.rounding:Ia(t,0,8),Ct(r,e+xr(r)+1,t))};ye.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=_i(n,!0):(Ia(e,0,cl),t===void 0?t=a.rounding:Ia(t,0,8),n=Ct(new a(n),e+1,t),r=_i(n,!0,e+1)),r};ye.toFixed=function(e,t){var r,n,a=this,o=a.constructor;return e===void 0?_i(a):(Ia(e,0,cl),t===void 0?t=o.rounding:Ia(t,0,8),n=Ct(new o(a),e+xr(a)+1,t),r=_i(n.abs(),!1,e+xr(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};ye.toInteger=ye.toint=function(){var e=this,t=e.constructor;return Ct(new t(e),xr(e)+1,t.rounding)};ye.toNumber=function(){return+this};ye.toPower=ye.pow=function(e){var t,r,n,a,o,i,s=this,l=s.constructor,c=12,f=+(e=new l(e));if(!e.s)return new l(Fn);if(s=new l(s),!s.s){if(e.s<1)throw Error(ia+"Infinity");return s}if(s.eq(Fn))return s;if(n=l.precision,e.eq(Fn))return Ct(s,n);if(t=e.e,r=e.d.length-1,i=t>=r,o=s.s,i){if((r=f<0?-f:f)<=iP){for(a=new l(Fn),t=Math.ceil(n/Ut+4),Zt=!1;r%2&&(a=a.times(s),rw(a.d,t)),r=ul(r/2),r!==0;)s=s.times(s),rw(s.d,t);return Zt=!0,e.s<0?new l(Fn).div(a):Ct(a,n)}}else if(o<0)throw Error(ia+"NaN");return o=o<0&&e.d[Math.max(t,r)]&1?-1:1,s.s=1,Zt=!1,a=e.times($c(s,n+c)),Zt=!0,a=lP(a),a.s=o,a};ye.toPrecision=function(e,t){var r,n,a=this,o=a.constructor;return e===void 0?(r=xr(a),n=_i(a,r<=o.toExpNeg||r>=o.toExpPos)):(Ia(e,1,cl),t===void 0?t=o.rounding:Ia(t,0,8),a=Ct(new o(a),e,t),r=xr(a),n=_i(a,e<=r||r<=o.toExpNeg,e)),n};ye.toSignificantDigits=ye.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Ia(e,1,cl),t===void 0?t=n.rounding:Ia(t,0,8)),Ct(new n(r),e,t)};ye.toString=ye.valueOf=ye.val=ye.toJSON=ye[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=xr(e),r=e.constructor;return _i(e,t<=r.toExpNeg||t>=r.toExpPos)};function sP(e,t){var r,n,a,o,i,s,l,c,f=e.constructor,d=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),Zt?Ct(t,d):t;if(l=e.d,c=t.d,i=e.e,a=t.e,l=l.slice(),o=i-a,o){for(o<0?(n=l,o=-o,s=c.length):(n=c,a=i,s=l.length),i=Math.ceil(d/Ut),s=i>s?i+1:s+1,o>s&&(o=s,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(s=l.length,o=c.length,s-o<0&&(o=s,n=c,c=l,l=n),r=0;o;)r=(l[--o]=l[o]+c[o]+r)/Er|0,l[o]%=Er;for(r&&(l.unshift(r),++a),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=a,Zt?Ct(t,d):t}function Ia(e,t,r){if(e!==~~e||e<t||e>r)throw Error(yi+e)}function Ca(e){var t,r,n,a=e.length-1,o="",i=e[0];if(a>0){for(o+=i,t=1;t<a;t++)n=e[t]+"",r=Ut-n.length,r&&(o+=xo(r)),o+=n;i=e[t],n=i+"",r=Ut-n.length,r&&(o+=xo(r))}else if(i===0)return"0";for(;i%10===0;)i/=10;return o+i}var Ja=function(){function e(n,a){var o,i=0,s=n.length;for(n=n.slice();s--;)o=n[s]*a+i,n[s]=o%Er|0,i=o/Er|0;return i&&n.unshift(i),n}function t(n,a,o,i){var s,l;if(o!=i)l=o>i?1:-1;else for(s=l=0;s<o;s++)if(n[s]!=a[s]){l=n[s]>a[s]?1:-1;break}return l}function r(n,a,o){for(var i=0;o--;)n[o]-=i,i=n[o]<a[o]?1:0,n[o]=i*Er+n[o]-a[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,o,i){var s,l,c,f,d,h,p,m,v,x,y,g,b,S,w,k,j,P,_=n.constructor,A=n.s==a.s?1:-1,N=n.d,C=a.d;if(!n.s)return new _(n);if(!a.s)throw Error(ia+"Division by zero");for(l=n.e-a.e,j=C.length,w=N.length,p=new _(A),m=p.d=[],c=0;C[c]==(N[c]||0);)++c;if(C[c]>(N[c]||0)&&--l,o==null?g=o=_.precision:i?g=o+(xr(n)-xr(a))+1:g=o,g<0)return new _(0);if(g=g/Ut+2|0,c=0,j==1)for(f=0,C=C[0],g++;(c<w||f)&&g--;c++)b=f*Er+(N[c]||0),m[c]=b/C|0,f=b%C|0;else{for(f=Er/(C[0]+1)|0,f>1&&(C=e(C,f),N=e(N,f),j=C.length,w=N.length),S=j,v=N.slice(0,j),x=v.length;x<j;)v[x++]=0;P=C.slice(),P.unshift(0),k=C[0],C[1]>=Er/2&&++k;do f=0,s=t(C,v,j,x),s<0?(y=v[0],j!=x&&(y=y*Er+(v[1]||0)),f=y/k|0,f>1?(f>=Er&&(f=Er-1),d=e(C,f),h=d.length,x=v.length,s=t(d,v,h,x),s==1&&(f--,r(d,j<h?P:C,h))):(f==0&&(s=f=1),d=C.slice()),h=d.length,h<x&&d.unshift(0),r(v,d,x),s==-1&&(x=v.length,s=t(C,v,j,x),s<1&&(f++,r(v,j<x?P:C,x))),x=v.length):s===0&&(f++,v=[0]),m[c++]=f,s&&v[0]?v[x++]=N[S]||0:(v=[N[S]],x=1);while((S++<w||v[0]!==void 0)&&g--)}return m[0]||m.shift(),p.e=l,Ct(p,i?o+xr(p)+1:o)}}();function lP(e,t){var r,n,a,o,i,s,l=0,c=0,f=e.constructor,d=f.precision;if(xr(e)>16)throw Error(Sv+xr(e));if(!e.s)return new f(Fn);for(Zt=!1,s=d,i=new f(.03125);e.abs().gte(.1);)e=e.times(i),c+=5;for(n=Math.log(ai(2,c))/Math.LN10*2+5|0,s+=n,r=a=o=new f(Fn),f.precision=s;;){if(a=Ct(a.times(e),s),r=r.times(++l),i=o.plus(Ja(a,r,s)),Ca(i.d).slice(0,s)===Ca(o.d).slice(0,s)){for(;c--;)o=Ct(o.times(o),s);return f.precision=d,t==null?(Zt=!0,Ct(o,d)):o}o=i}}function xr(e){for(var t=e.e*Ut,r=e.d[0];r>=10;r/=10)t++;return t}function Zp(e,t,r){if(t>e.LN10.sd())throw Zt=!0,r&&(e.precision=r),Error(ia+"LN10 precision limit exceeded");return Ct(new e(e.LN10),t)}function xo(e){for(var t="";e--;)t+="0";return t}function $c(e,t){var r,n,a,o,i,s,l,c,f,d=1,h=10,p=e,m=p.d,v=p.constructor,x=v.precision;if(p.s<1)throw Error(ia+(p.s?"NaN":"-Infinity"));if(p.eq(Fn))return new v(0);if(t==null?(Zt=!1,c=x):c=t,p.eq(10))return t==null&&(Zt=!0),Zp(v,c);if(c+=h,v.precision=c,r=Ca(m),n=r.charAt(0),o=xr(p),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=Ca(p.d),n=r.charAt(0),d++;o=xr(p),n>1?(p=new v("0."+r),o++):p=new v(n+"."+r.slice(1))}else return l=Zp(v,c+2,x).times(o+""),p=$c(new v(n+"."+r.slice(1)),c-h).plus(l),v.precision=x,t==null?(Zt=!0,Ct(p,x)):p;for(s=i=p=Ja(p.minus(Fn),p.plus(Fn),c),f=Ct(p.times(p),c),a=3;;){if(i=Ct(i.times(f),c),l=s.plus(Ja(i,new v(a),c)),Ca(l.d).slice(0,c)===Ca(s.d).slice(0,c))return s=s.times(2),o!==0&&(s=s.plus(Zp(v,c+2,x).times(o+""))),s=Ja(s,new v(d),c),v.precision=x,t==null?(Zt=!0,Ct(s,x)):s;s=l,a+=2}}function tw(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=ul(r/Ut),e.d=[],n=(r+1)%Ut,r<0&&(n+=Ut),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Ut;n<a;)e.d.push(+t.slice(n,n+=Ut));t=t.slice(n),n=Ut-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Zt&&(e.e>pd||e.e<-pd))throw Error(Sv+r)}else e.s=0,e.e=0,e.d=[0];return e}function Ct(e,t,r){var n,a,o,i,s,l,c,f,d=e.d;for(i=1,o=d[0];o>=10;o/=10)i++;if(n=t-i,n<0)n+=Ut,a=t,c=d[f=0];else{if(f=Math.ceil((n+1)/Ut),o=d.length,f>=o)return e;for(c=o=d[f],i=1;o>=10;o/=10)i++;n%=Ut,a=n-Ut+i}if(r!==void 0&&(o=ai(10,i-a-1),s=c/o%10|0,l=t<0||d[f+1]!==void 0||c%o,l=r<4?(s||l)&&(r==0||r==(e.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?a>0?c/ai(10,i-a):0:d[f-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return l?(o=xr(e),d.length=1,t=t-o-1,d[0]=ai(10,(Ut-t%Ut)%Ut),e.e=ul(-t/Ut)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(n==0?(d.length=f,o=1,f--):(d.length=f+1,o=ai(10,Ut-n),d[f]=a>0?(c/ai(10,i-a)%ai(10,a)|0)*o:0),l)for(;;)if(f==0){(d[0]+=o)==Er&&(d[0]=1,++e.e);break}else{if(d[f]+=o,d[f]!=Er)break;d[f--]=0,o=1}for(n=d.length;d[--n]===0;)d.pop();if(Zt&&(e.e>pd||e.e<-pd))throw Error(Sv+xr(e));return e}function cP(e,t){var r,n,a,o,i,s,l,c,f,d,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Zt?Ct(t,p):t;if(l=e.d,d=t.d,n=t.e,c=e.e,l=l.slice(),i=c-n,i){for(f=i<0,f?(r=l,i=-i,s=d.length):(r=d,n=c,s=l.length),a=Math.max(Math.ceil(p/Ut),s)+2,i>a&&(i=a,r.length=1),r.reverse(),a=i;a--;)r.push(0);r.reverse()}else{for(a=l.length,s=d.length,f=a<s,f&&(s=a),a=0;a<s;a++)if(l[a]!=d[a]){f=l[a]<d[a];break}i=0}for(f&&(r=l,l=d,d=r,t.s=-t.s),s=l.length,a=d.length-s;a>0;--a)l[s++]=0;for(a=d.length;a>i;){if(l[--a]<d[a]){for(o=a;o&&l[--o]===0;)l[o]=Er-1;--l[o],l[a]+=Er}l[a]-=d[a]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,Zt?Ct(t,p):t):new h(0)}function _i(e,t,r){var n,a=xr(e),o=Ca(e.d),i=o.length;return t?(r&&(n=r-i)>0?o=o.charAt(0)+"."+o.slice(1)+xo(n):i>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(a<0?"e":"e+")+a):a<0?(o="0."+xo(-a-1)+o,r&&(n=r-i)>0&&(o+=xo(n))):a>=i?(o+=xo(a+1-i),r&&(n=r-a-1)>0&&(o=o+"."+xo(n))):((n=a+1)<i&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-i)>0&&(a+1===i&&(o+="."),o+=xo(n))),e.s<0?"-"+o:o}function rw(e,t){if(e.length>t)return e.length=t,!0}function uP(e){var t,r,n;function a(o){var i=this;if(!(i instanceof a))return new a(o);if(i.constructor=a,o instanceof a){i.s=o.s,i.e=o.e,i.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(yi+o);if(o>0)i.s=1;else if(o<0)o=-o,i.s=-1;else{i.s=0,i.e=0,i.d=[0];return}if(o===~~o&&o<1e7){i.e=0,i.d=[o];return}return tw(i,o.toString())}else if(typeof o!="string")throw Error(yi+o);if(o.charCodeAt(0)===45?(o=o.slice(1),i.s=-1):i.s=1,j7.test(o))tw(i,o);else throw Error(yi+o)}if(a.prototype=ye,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=uP,a.config=a.set=O7,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function O7(e){if(!e||typeof e!="object")throw Error(ia+"Object expected");var t,r,n,a=["precision",1,cl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(ul(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(yi+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(yi+r+": "+n);return this}var jv=uP(S7);Fn=new jv(1);const Ot=jv;function P7(e){return M7(e)||A7(e)||N7(e)||_7()}function _7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N7(e,t){if(e){if(typeof e=="string")return zg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zg(e,t)}}function A7(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function M7(e){if(Array.isArray(e))return zg(e)}function zg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var C7=function(t){return t},fP={},dP=function(t){return t===fP},nw=function(t){return function r(){return arguments.length===0||arguments.length===1&&dP(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},E7=function e(t,r){return t===1?r:nw(function(){for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];var i=a.filter(function(s){return s!==fP}).length;return i>=t?r.apply(void 0,a):e(t-i,nw(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var f=a.map(function(d){return dP(d)?l.shift():d});return r.apply(void 0,P7(f).concat(l))}))})},Ih=function(t){return E7(t.length,t)},Ug=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},T7=Ih(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),$7=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return C7;var a=r.reverse(),o=a[0],i=a.slice(1);return function(){return i.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},Wg=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},hP=function(t){var r=null,n=null;return function(){for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return r&&o.every(function(s,l){return s===r[l]})||(r=o,n=t.apply(void 0,o)),n}};function D7(e){var t;return e===0?t=1:t=Math.floor(new Ot(e).abs().log(10).toNumber())+1,t}function R7(e,t,r){for(var n=new Ot(e),a=0,o=[];n.lt(t)&&a<1e5;)o.push(n.toNumber()),n=n.add(r),a++;return o}var L7=Ih(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),I7=Ih(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),B7=Ih(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Bh={rangeStep:R7,getDigitCount:D7,interpolateNumber:L7,uninterpolateNumber:I7,uninterpolateTruncation:B7};function Gg(e){return U7(e)||z7(e)||pP(e)||F7()}function F7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z7(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function U7(e){if(Array.isArray(e))return Hg(e)}function Dc(e,t){return H7(e)||G7(e,t)||pP(e,t)||W7()}function W7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pP(e,t){if(e){if(typeof e=="string")return Hg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Hg(e,t)}}function Hg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function G7(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,o=void 0;try{for(var i=e[Symbol.iterator](),s;!(n=(s=i.next()).done)&&(r.push(s.value),!(t&&r.length===t));n=!0);}catch(l){a=!0,o=l}finally{try{!n&&i.return!=null&&i.return()}finally{if(a)throw o}}return r}}function H7(e){if(Array.isArray(e))return e}function gP(e){var t=Dc(e,2),r=t[0],n=t[1],a=r,o=n;return r>n&&(a=n,o=r),[a,o]}function mP(e,t,r){if(e.lte(0))return new Ot(0);var n=Bh.getDigitCount(e.toNumber()),a=new Ot(10).pow(n),o=e.div(a),i=n!==1?.05:.1,s=new Ot(Math.ceil(o.div(i).toNumber())).add(r).mul(i),l=s.mul(a);return t?l:new Ot(Math.ceil(l))}function V7(e,t,r){var n=1,a=new Ot(e);if(!a.isint()&&r){var o=Math.abs(e);o<1?(n=new Ot(10).pow(Bh.getDigitCount(e)-1),a=new Ot(Math.floor(a.div(n).toNumber())).mul(n)):o>1&&(a=new Ot(Math.floor(e)))}else e===0?a=new Ot(Math.floor((t-1)/2)):r||(a=new Ot(Math.floor(e)));var i=Math.floor((t-1)/2),s=$7(T7(function(l){return a.add(new Ot(l-i).mul(n)).toNumber()}),Ug);return s(0,t)}function yP(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Ot(0),tickMin:new Ot(0),tickMax:new Ot(0)};var o=mP(new Ot(t).sub(e).div(r-1),n,a),i;e<=0&&t>=0?i=new Ot(0):(i=new Ot(e).add(t).div(2),i=i.sub(new Ot(i).mod(o)));var s=Math.ceil(i.sub(e).div(o).toNumber()),l=Math.ceil(new Ot(t).sub(i).div(o).toNumber()),c=s+l+1;return c>r?yP(e,t,r,n,a+1):(c<r&&(l=t>0?l+(r-c):l,s=t>0?s:s+(r-c)),{step:o,tickMin:i.sub(new Ot(s).mul(o)),tickMax:i.add(new Ot(l).mul(o))})}function X7(e){var t=Dc(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(a,2),s=gP([r,n]),l=Dc(s,2),c=l[0],f=l[1];if(c===-1/0||f===1/0){var d=f===1/0?[c].concat(Gg(Ug(0,a-1).map(function(){return 1/0}))):[].concat(Gg(Ug(0,a-1).map(function(){return-1/0})),[f]);return r>n?Wg(d):d}if(c===f)return V7(c,a,o);var h=yP(c,f,i,o),p=h.step,m=h.tickMin,v=h.tickMax,x=Bh.rangeStep(m,v.add(new Ot(.1).mul(p)),p);return r>n?Wg(x):x}function K7(e,t){var r=Dc(e,2),n=r[0],a=r[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=gP([n,a]),s=Dc(i,2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[n,a];if(l===c)return[l];var f=Math.max(t,2),d=mP(new Ot(c).sub(l).div(f-1),o,0),h=[].concat(Gg(Bh.rangeStep(new Ot(l),new Ot(c).sub(new Ot(.99).mul(d)),d)),[c]);return n>a?Wg(h):h}var Y7=hP(X7),q7=hP(K7),Z7="Invariant failed";function Ni(e,t){throw new Error(Z7)}var Q7=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Cs(e){"@babel/helpers - typeof";return Cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cs(e)}function gd(){return gd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gd.apply(this,arguments)}function J7(e,t){return nU(e)||rU(e,t)||tU(e,t)||eU()}function eU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tU(e,t){if(e){if(typeof e=="string")return aw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aw(e,t)}}function aw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rU(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function nU(e){if(Array.isArray(e))return e}function aU(e,t){if(e==null)return{};var r=oU(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oU(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function iU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sU(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bP(n.key),n)}}function lU(e,t,r){return t&&sU(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function cU(e,t,r){return t=md(t),uU(e,vP()?Reflect.construct(t,r||[],md(e).constructor):t.apply(e,r))}function uU(e,t){if(t&&(Cs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fU(e)}function fU(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vP=function(){return!!e})()}function md(e){return md=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},md(e)}function dU(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vg(e,t)}function Vg(e,t){return Vg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Vg(e,t)}function xP(e,t,r){return t=bP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bP(e){var t=hU(e,"string");return Cs(t)=="symbol"?t:t+""}function hU(e,t){if(Cs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var fl=function(e){function t(){return iU(this,t),cU(this,t,arguments)}return dU(t,e),lU(t,[{key:"render",value:function(){var n=this.props,a=n.offset,o=n.layout,i=n.width,s=n.dataKey,l=n.data,c=n.dataPointFormatter,f=n.xAxis,d=n.yAxis,h=aU(n,Q7),p=ze(h,!1);this.props.direction==="x"&&f.type!=="number"&&Ni();var m=l.map(function(v){var x=c(v,s),y=x.x,g=x.y,b=x.value,S=x.errorVal;if(!S)return null;var w=[],k,j;if(Array.isArray(S)){var P=J7(S,2);k=P[0],j=P[1]}else k=j=S;if(o==="vertical"){var _=f.scale,A=g+a,N=A+i,C=A-i,F=_(b-k),L=_(b+j);w.push({x1:L,y1:N,x2:L,y2:C}),w.push({x1:F,y1:A,x2:L,y2:A}),w.push({x1:F,y1:N,x2:F,y2:C})}else if(o==="horizontal"){var I=d.scale,U=y+a,B=U-i,R=U+i,$=I(b-k),G=I(b+j);w.push({x1:B,y1:G,x2:R,y2:G}),w.push({x1:U,y1:$,x2:U,y2:G}),w.push({x1:B,y1:$,x2:R,y2:$})}return M.createElement(lt,gd({className:"recharts-errorBar",key:"bar-".concat(w.map(function(ee){return"".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2)}))},p),w.map(function(ee){return M.createElement("line",gd({},ee,{key:"line-".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2)}))}))});return M.createElement(lt,{className:"recharts-errorBars"},m)}}])}(M.Component);xP(fl,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});xP(fl,"displayName","ErrorBar");function Rc(e){"@babel/helpers - typeof";return Rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rc(e)}function ow(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ow(Object(r),!0).forEach(function(n){pU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ow(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pU(e,t,r){return t=gU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gU(e){var t=mU(e,"string");return Rc(t)=="symbol"?t:t+""}function mU(e,t){if(Rc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wP=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,o=t.legendContent,i=Bn(r,Qa);if(!i)return null;var s=Qa.defaultProps,l=s!==void 0?Qo(Qo({},s),i.props):{},c;return i.props&&i.props.payload?c=i.props&&i.props.payload:o==="children"?c=(n||[]).reduce(function(f,d){var h=d.item,p=d.props,m=p.sectors||p.data||[];return f.concat(m.map(function(v){return{type:i.props.iconType||h.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):c=(n||[]).map(function(f){var d=f.item,h=d.type.defaultProps,p=h!==void 0?Qo(Qo({},h),d.props):{},m=p.dataKey,v=p.name,x=p.legendType,y=p.hide;return{inactive:y,dataKey:m,type:l.iconType||x||"square",color:Ov(d),value:v||m,payload:p}}),Qo(Qo(Qo({},l),Qa.getWithHeight(i,a)),{},{payload:c,item:i})};function Lc(e){"@babel/helpers - typeof";return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lc(e)}function iw(e){return bU(e)||xU(e)||vU(e)||yU()}function yU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vU(e,t){if(e){if(typeof e=="string")return Xg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xg(e,t)}}function xU(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function bU(e){if(Array.isArray(e))return Xg(e)}function Xg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sw(Object(r),!0).forEach(function(n){ps(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ps(e,t,r){return t=wU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wU(e){var t=kU(e,"string");return Lc(t)=="symbol"?t:t+""}function kU(e,t){if(Lc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nr(e,t,r){return Be(e)||Be(t)?r:_r(t)?na(e,t,r):We(t)?t(e):r}function Ql(e,t,r,n){var a=x7(e,function(s){return Nr(s,t)});if(r==="number"){var o=a.filter(function(s){return se(s)||parseFloat(s)});return o.length?[Lh(o),Oo(o)]:[1/0,-1/0]}var i=n?a.filter(function(s){return!Be(s)}):a;return i.map(function(s){return _r(s)||s instanceof Date?s:""})}var SU=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,i=-1,s=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,c=0;c<s;c++){var f=c>0?a[c-1].coordinate:a[s-1].coordinate,d=a[c].coordinate,h=c>=s-1?a[0].coordinate:a[c+1].coordinate,p=void 0;if(ya(d-f)!==ya(h-d)){var m=[];if(ya(h-d)===ya(l[1]-l[0])){p=h;var v=d+l[1]-l[0];m[0]=Math.min(v,(v+f)/2),m[1]=Math.max(v,(v+f)/2)}else{p=f;var x=h+l[1]-l[0];m[0]=Math.min(d,(x+d)/2),m[1]=Math.max(d,(x+d)/2)}var y=[Math.min(d,(p+d)/2),Math.max(d,(p+d)/2)];if(t>y[0]&&t<=y[1]||t>=m[0]&&t<=m[1]){i=a[c].index;break}}else{var g=Math.min(f,h),b=Math.max(f,h);if(t>(g+d)/2&&t<=(b+d)/2){i=a[c].index;break}}}else for(var S=0;S<s;S++)if(S===0&&t<=(n[S].coordinate+n[S+1].coordinate)/2||S>0&&S<s-1&&t>(n[S].coordinate+n[S-1].coordinate)/2&&t<=(n[S].coordinate+n[S+1].coordinate)/2||S===s-1&&t>(n[S].coordinate+n[S-1].coordinate)/2){i=n[S].index;break}return i},Ov=function(t){var r,n=t,a=n.type.displayName,o=(r=t.type)!==null&&r!==void 0&&r.defaultProps?cr(cr({},t.type.defaultProps),t.props):t.props,i=o.stroke,s=o.fill,l;switch(a){case"Line":l=i;break;case"Area":case"Radar":l=i&&i!=="none"?i:s;break;default:l=s;break}return l},jU=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,o=a===void 0?{}:a;if(!o)return{};for(var i={},s=Object.keys(o),l=0,c=s.length;l<c;l++)for(var f=o[s[l]].stackGroups,d=Object.keys(f),h=0,p=d.length;h<p;h++){var m=f[d[h]],v=m.items,x=m.cateAxisId,y=v.filter(function(j){return qa(j.type).indexOf("Bar")>=0});if(y&&y.length){var g=y[0].type.defaultProps,b=g!==void 0?cr(cr({},g),y[0].props):y[0].props,S=b.barSize,w=b[x];i[w]||(i[w]=[]);var k=Be(S)?r:S;i[w].push({item:y[0],stackList:y.slice(1),barSize:Be(k)?void 0:Oi(k,n,0)})}}return i},OU=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,o=t.sizeList,i=o===void 0?[]:o,s=t.maxBarSize,l=i.length;if(l<1)return null;var c=Oi(r,a,0,!0),f,d=[];if(i[0].barSize===+i[0].barSize){var h=!1,p=a/l,m=i.reduce(function(S,w){return S+w.barSize||0},0);m+=(l-1)*c,m>=a&&(m-=(l-1)*c,c=0),m>=a&&p>0&&(h=!0,p*=.9,m=l*p);var v=(a-m)/2>>0,x={offset:v-c,size:0};f=i.reduce(function(S,w){var k={item:w.item,position:{offset:x.offset+x.size+c,size:h?p:w.barSize}},j=[].concat(iw(S),[k]);return x=j[j.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(P){j.push({item:P,position:x})}),j},d)}else{var y=Oi(n,a,0,!0);a-2*y-(l-1)*c<=0&&(c=0);var g=(a-2*y-(l-1)*c)/l;g>1&&(g>>=0);var b=s===+s?Math.min(g,s):g;f=i.reduce(function(S,w,k){var j=[].concat(iw(S),[{item:w.item,position:{offset:y+(g+c)*k+(g-b)/2,size:b}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(P){j.push({item:P,position:j[j.length-1].position})}),j},d)}return f},PU=function(t,r,n,a){var o=n.children,i=n.width,s=n.margin,l=i-(s.left||0)-(s.right||0),c=wP({children:o,legendWidth:l});if(c){var f=a||{},d=f.width,h=f.height,p=c.align,m=c.verticalAlign,v=c.layout;if((v==="vertical"||v==="horizontal"&&m==="middle")&&p!=="center"&&se(t[p]))return cr(cr({},t),{},ps({},p,t[p]+(d||0)));if((v==="horizontal"||v==="vertical"&&p==="center")&&m!=="middle"&&se(t[m]))return cr(cr({},t),{},ps({},m,t[m]+(h||0)))}return t},_U=function(t,r,n){return Be(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},kP=function(t,r,n,a,o){var i=r.props.children,s=Mn(i,fl).filter(function(c){return _U(a,o,c.props.direction)});if(s&&s.length){var l=s.map(function(c){return c.props.dataKey});return t.reduce(function(c,f){var d=Nr(f,n);if(Be(d))return c;var h=Array.isArray(d)?[Lh(d),Oo(d)]:[d,d],p=l.reduce(function(m,v){var x=Nr(f,v,0),y=h[0]-Math.abs(Array.isArray(x)?x[0]:x),g=h[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(y,m[0]),Math.max(g,m[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},NU=function(t,r,n,a,o){var i=r.map(function(s){return kP(t,s,n,o,a)}).filter(function(s){return!Be(s)});return i&&i.length?i.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},SP=function(t,r,n,a,o){var i=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&kP(t,l,c,a)||Ql(t,c,n,o)});if(n==="number")return i.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var s={};return i.reduce(function(l,c){for(var f=0,d=c.length;f<d;f++)s[c[f]]||(s[c[f]]=!0,l.push(c[f]));return l},[])},jP=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},OP=function(t,r,n,a){if(a)return t.map(function(l){return l.coordinate});var o,i,s=t.map(function(l){return l.coordinate===r&&(o=!0),l.coordinate===n&&(i=!0),l.coordinate});return o||s.push(r),i||s.push(n),s},Ka=function(t,r,n){if(!t)return null;var a=t.scale,o=t.duplicateDomain,i=t.type,s=t.range,l=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,c=(r||n)&&i==="category"&&a.bandwidth?a.bandwidth()/l:0;if(c=t.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?ya(s[0]-s[1])*2*c:c,r&&(t.ticks||t.niceTicks)){var f=(t.ticks||t.niceTicks).map(function(d){var h=o?o.indexOf(d):d;return{coordinate:a(h)+c,value:d,offset:c}});return f.filter(function(d){return!al(d.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(d,h){return{coordinate:a(d)+c,value:d,index:h,offset:c}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(d){return{coordinate:a(d)+c,value:d,offset:c}}):a.domain().map(function(d,h){return{coordinate:a(d)+c,value:o?o[d]:d,index:h,offset:c}})},Qp=new WeakMap,Qu=function(t,r){if(typeof r!="function")return t;Qp.has(t)||Qp.set(t,new WeakMap);var n=Qp.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},AU=function(t,r,n){var a=t.scale,o=t.type,i=t.layout,s=t.axisType;if(a==="auto")return i==="radial"&&s==="radiusAxis"?{scale:Ac(),realScaleType:"band"}:i==="radial"&&s==="angleAxis"?{scale:ud(),realScaleType:"linear"}:o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Zl(),realScaleType:"point"}:o==="category"?{scale:Ac(),realScaleType:"band"}:{scale:ud(),realScaleType:"linear"};if(ji(a)){var l="scale".concat(Sh(a));return{scale:(ew[l]||Zl)(),realScaleType:ew[l]?l:"point"}}return We(a)?{scale:a}:{scale:Zl(),realScaleType:"point"}},lw=1e-4,MU=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),o=Math.min(a[0],a[1])-lw,i=Math.max(a[0],a[1])+lw,s=t(r[0]),l=t(r[n-1]);(s<o||s>i||l<o||l>i)&&t.domain([r[0],r[n-1]])}},CU=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},EU=function(t,r){if(!r||r.length!==2||!se(r[0])||!se(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),o=[t[0],t[1]];return(!se(t[0])||t[0]<n)&&(o[0]=n),(!se(t[1])||t[1]>a)&&(o[1]=a),o[0]>a&&(o[0]=a),o[1]<n&&(o[1]=n),o},TU=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var o=0,i=0,s=0;s<r;++s){var l=al(t[s][n][1])?t[s][n][0]:t[s][n][1];l>=0?(t[s][n][0]=o,t[s][n][1]=o+l,o=t[s][n][1]):(t[s][n][0]=i,t[s][n][1]=i+l,i=t[s][n][1])}},$U=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var o=0,i=0;i<r;++i){var s=al(t[i][n][1])?t[i][n][0]:t[i][n][1];s>=0?(t[i][n][0]=o,t[i][n][1]=o+s,o=t[i][n][1]):(t[i][n][0]=0,t[i][n][1]=0)}},DU={sign:TU,expand:q$,none:ks,silhouette:Z$,wiggle:Q$,positive:$U},RU=function(t,r,n){var a=r.map(function(s){return s.props.dataKey}),o=DU[n],i=Y$().keys(a).value(function(s,l){return+Nr(s,l,0)}).order(vg).offset(o);return i(t)},LU=function(t,r,n,a,o,i){if(!t)return null;var s=i?r.reverse():r,l={},c=s.reduce(function(d,h){var p,m=(p=h.type)!==null&&p!==void 0&&p.defaultProps?cr(cr({},h.type.defaultProps),h.props):h.props,v=m.stackId,x=m.hide;if(x)return d;var y=m[n],g=d[y]||{hasStack:!1,stackGroups:{}};if(_r(v)){var b=g.stackGroups[v]||{numericAxisId:n,cateAxisId:a,items:[]};b.items.push(h),g.hasStack=!0,g.stackGroups[v]=b}else g.stackGroups[$i("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return cr(cr({},d),{},ps({},y,g))},l),f={};return Object.keys(c).reduce(function(d,h){var p=c[h];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(v,x){var y=p.stackGroups[x];return cr(cr({},v),{},ps({},x,{numericAxisId:n,cateAxisId:a,items:y.items,stackedData:RU(t,y.items,o)}))},m)}return cr(cr({},d),{},ps({},h,p))},f)},IU=function(t,r){var n=r.realScaleType,a=r.type,o=r.tickCount,i=r.originalDomain,s=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&a==="number"&&i&&(i[0]==="auto"||i[1]==="auto")){var c=t.domain();if(!c.length)return null;var f=Y7(c,o,s);return t.domain([Lh(f),Oo(f)]),{niceTicks:f}}if(o&&a==="number"){var d=t.domain(),h=q7(d,o,s);return{niceTicks:h}}return null};function Es(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,o=e.index,i=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Be(a[t.dataKey])){var s=Uf(r,"value",a[t.dataKey]);if(s)return s.coordinate+n/2}return r[o]?r[o].coordinate+n/2:null}var l=Nr(a,Be(i)?t.dataKey:i);return Be(l)?null:t.scale(l)}var cw=function(t){var r=t.axis,n=t.ticks,a=t.offset,o=t.bandSize,i=t.entry,s=t.index;if(r.type==="category")return n[s]?n[s].coordinate+a:null;var l=Nr(i,r.dataKey,r.domain[s]);return Be(l)?null:r.scale(l)-o/2+a},BU=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]);return a<=0&&o>=0?0:o<0?o:a}return n[0]},FU=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?cr(cr({},t.type.defaultProps),t.props):t.props,o=a.stackId;if(_r(o)){var i=r[o];if(i){var s=i.items.indexOf(t);return s>=0?i.stackedData[s]:null}}return null},zU=function(t){return t.reduce(function(r,n){return[Lh(n.concat([r[0]]).filter(se)),Oo(n.concat([r[1]]).filter(se))]},[1/0,-1/0])},PP=function(t,r,n){return Object.keys(t).reduce(function(a,o){var i=t[o],s=i.stackedData,l=s.reduce(function(c,f){var d=zU(f.slice(r,n+1));return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],a[0]),Math.max(l[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},uw=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,fw=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Kg=function(t,r,n){if(We(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(se(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(uw.test(t[0])){var o=+uw.exec(t[0])[1];a[0]=r[0]-o}else We(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(se(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(fw.test(t[1])){var i=+fw.exec(t[1])[1];a[1]=r[1]+i}else We(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},yd=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var o=Qy(r,function(d){return d.coordinate}),i=1/0,s=1,l=o.length;s<l;s++){var c=o[s],f=o[s-1];i=Math.min((c.coordinate||0)-(f.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0},dw=function(t,r,n){return!t||!t.length||Pi(t,na(n,"type.defaultProps.domain"))?r:t},_P=function(t,r){var n=t.type.defaultProps?cr(cr({},t.type.defaultProps),t.props):t.props,a=n.dataKey,o=n.name,i=n.unit,s=n.formatter,l=n.tooltipType,c=n.chartType,f=n.hide;return cr(cr({},ze(t,!1)),{},{dataKey:a,unit:i,formatter:s,name:o||a,color:Ov(t),value:Nr(r,a),type:l,payload:r,chartType:c,hide:f})};function Ic(e){"@babel/helpers - typeof";return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ic(e)}function hw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hw(Object(r),!0).forEach(function(n){UU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UU(e,t,r){return t=WU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WU(e){var t=GU(e,"string");return Ic(t)=="symbol"?t:t+""}function GU(e,t){if(Ic(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ic(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vd=Math.PI/180,HU=function(t){return t*180/Math.PI},Ur=function(t,r,n,a){return{x:t+Math.cos(-vd*a)*n,y:r+Math.sin(-vd*a)*n}},VU=function(t,r){var n=t.x,a=t.y,o=r.x,i=r.y;return Math.sqrt(Math.pow(n-o,2)+Math.pow(a-i,2))},XU=function(t,r){var n=t.x,a=t.y,o=r.cx,i=r.cy,s=VU({x:n,y:a},{x:o,y:i});if(s<=0)return{radius:s};var l=(n-o)/s,c=Math.acos(l);return a>i&&(c=2*Math.PI-c),{radius:s,angle:HU(c),angleInRadian:c}},KU=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),o=Math.floor(n/360),i=Math.min(a,o);return{startAngle:r-i*360,endAngle:n-i*360}},YU=function(t,r){var n=r.startAngle,a=r.endAngle,o=Math.floor(n/360),i=Math.floor(a/360),s=Math.min(o,i);return t+s*360},gw=function(t,r){var n=t.x,a=t.y,o=XU({x:n,y:a},r),i=o.radius,s=o.angle,l=r.innerRadius,c=r.outerRadius;if(i<l||i>c)return!1;if(i===0)return!0;var f=KU(r),d=f.startAngle,h=f.endAngle,p=s,m;if(d<=h){for(;p>h;)p-=360;for(;p<d;)p+=360;m=p>=d&&p<=h}else{for(;p>d;)p-=360;for(;p<h;)p+=360;m=p>=h&&p<=d}return m?pw(pw({},r),{},{radius:i,angle:YU(p,r)}):null};function Bc(e){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bc(e)}var qU=["offset"];function ZU(e){return tW(e)||eW(e)||JU(e)||QU()}function QU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JU(e,t){if(e){if(typeof e=="string")return Yg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yg(e,t)}}function eW(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tW(e){if(Array.isArray(e))return Yg(e)}function Yg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rW(e,t){if(e==null)return{};var r=nW(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function nW(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function mw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mw(Object(r),!0).forEach(function(n){aW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aW(e,t,r){return t=oW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oW(e){var t=iW(e,"string");return Bc(t)=="symbol"?t:t+""}function iW(e,t){if(Bc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fc(){return Fc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fc.apply(this,arguments)}var sW=function(t){var r=t.value,n=t.formatter,a=Be(t.children)?r:t.children;return We(n)?n(a):a},lW=function(t,r){var n=ya(r-t),a=Math.min(Math.abs(r-t),360);return n*a},cW=function(t,r,n){var a=t.position,o=t.viewBox,i=t.offset,s=t.className,l=o,c=l.cx,f=l.cy,d=l.innerRadius,h=l.outerRadius,p=l.startAngle,m=l.endAngle,v=l.clockWise,x=(d+h)/2,y=lW(p,m),g=y>=0?1:-1,b,S;a==="insideStart"?(b=p+g*i,S=v):a==="insideEnd"?(b=m-g*i,S=!v):a==="end"&&(b=m+g*i,S=v),S=y<=0?S:!S;var w=Ur(c,f,x,b),k=Ur(c,f,x,b+(S?1:-1)*359),j="M".concat(w.x,",").concat(w.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(S?0:1,`,
    `).concat(k.x,",").concat(k.y),P=Be(t.id)?$i("recharts-radial-line-"):t.id;return M.createElement("text",Fc({},n,{dominantBaseline:"central",className:Qe("recharts-radial-bar-label",s)}),M.createElement("defs",null,M.createElement("path",{id:P,d:j})),M.createElement("textPath",{xlinkHref:"#".concat(P)},r))},uW=function(t){var r=t.viewBox,n=t.offset,a=t.position,o=r,i=o.cx,s=o.cy,l=o.innerRadius,c=o.outerRadius,f=o.startAngle,d=o.endAngle,h=(f+d)/2;if(a==="outside"){var p=Ur(i,s,c+n,h),m=p.x,v=p.y;return{x:m,y:v,textAnchor:m>=i?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"end"};var x=(l+c)/2,y=Ur(i,s,x,h),g=y.x,b=y.y;return{x:g,y:b,textAnchor:"middle",verticalAnchor:"middle"}},fW=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,o=t.position,i=r,s=i.x,l=i.y,c=i.width,f=i.height,d=f>=0?1:-1,h=d*a,p=d>0?"end":"start",m=d>0?"start":"end",v=c>=0?1:-1,x=v*a,y=v>0?"end":"start",g=v>0?"start":"end";if(o==="top"){var b={x:s+c/2,y:l-d*a,textAnchor:"middle",verticalAnchor:p};return jr(jr({},b),n?{height:Math.max(l-n.y,0),width:c}:{})}if(o==="bottom"){var S={x:s+c/2,y:l+f+h,textAnchor:"middle",verticalAnchor:m};return jr(jr({},S),n?{height:Math.max(n.y+n.height-(l+f),0),width:c}:{})}if(o==="left"){var w={x:s-x,y:l+f/2,textAnchor:y,verticalAnchor:"middle"};return jr(jr({},w),n?{width:Math.max(w.x-n.x,0),height:f}:{})}if(o==="right"){var k={x:s+c+x,y:l+f/2,textAnchor:g,verticalAnchor:"middle"};return jr(jr({},k),n?{width:Math.max(n.x+n.width-k.x,0),height:f}:{})}var j=n?{width:c,height:f}:{};return o==="insideLeft"?jr({x:s+x,y:l+f/2,textAnchor:g,verticalAnchor:"middle"},j):o==="insideRight"?jr({x:s+c-x,y:l+f/2,textAnchor:y,verticalAnchor:"middle"},j):o==="insideTop"?jr({x:s+c/2,y:l+h,textAnchor:"middle",verticalAnchor:m},j):o==="insideBottom"?jr({x:s+c/2,y:l+f-h,textAnchor:"middle",verticalAnchor:p},j):o==="insideTopLeft"?jr({x:s+x,y:l+h,textAnchor:g,verticalAnchor:m},j):o==="insideTopRight"?jr({x:s+c-x,y:l+h,textAnchor:y,verticalAnchor:m},j):o==="insideBottomLeft"?jr({x:s+x,y:l+f-h,textAnchor:g,verticalAnchor:p},j):o==="insideBottomRight"?jr({x:s+c-x,y:l+f-h,textAnchor:y,verticalAnchor:p},j):el(o)&&(se(o.x)||li(o.x))&&(se(o.y)||li(o.y))?jr({x:s+Oi(o.x,c),y:l+Oi(o.y,f),textAnchor:"end",verticalAnchor:"end"},j):jr({x:s+c/2,y:l+f/2,textAnchor:"middle",verticalAnchor:"middle"},j)},dW=function(t){return"cx"in t&&se(t.cx)};function nn(e){var t=e.offset,r=t===void 0?5:t,n=rW(e,qU),a=jr({offset:r},n),o=a.viewBox,i=a.position,s=a.value,l=a.children,c=a.content,f=a.className,d=f===void 0?"":f,h=a.textBreakAll;if(!o||Be(s)&&Be(l)&&!O.isValidElement(c)&&!We(c))return null;if(O.isValidElement(c))return O.cloneElement(c,a);var p;if(We(c)){if(p=O.createElement(c,a),O.isValidElement(p))return p}else p=sW(a);var m=dW(o),v=ze(a,!0);if(m&&(i==="insideStart"||i==="insideEnd"||i==="end"))return cW(a,p,v);var x=m?uW(a):fW(a);return M.createElement(nd,Fc({className:Qe("recharts-label",d)},v,x,{breakAll:h}),p)}nn.displayName="Label";var NP=function(t){var r=t.cx,n=t.cy,a=t.angle,o=t.startAngle,i=t.endAngle,s=t.r,l=t.radius,c=t.innerRadius,f=t.outerRadius,d=t.x,h=t.y,p=t.top,m=t.left,v=t.width,x=t.height,y=t.clockWise,g=t.labelViewBox;if(g)return g;if(se(v)&&se(x)){if(se(d)&&se(h))return{x:d,y:h,width:v,height:x};if(se(p)&&se(m))return{x:p,y:m,width:v,height:x}}return se(d)&&se(h)?{x:d,y:h,width:0,height:0}:se(r)&&se(n)?{cx:r,cy:n,startAngle:o||a||0,endAngle:i||a||0,innerRadius:c||0,outerRadius:f||l||s||0,clockWise:y}:t.viewBox?t.viewBox:{}},hW=function(t,r){return t?t===!0?M.createElement(nn,{key:"label-implicit",viewBox:r}):_r(t)?M.createElement(nn,{key:"label-implicit",viewBox:r,value:t}):O.isValidElement(t)?t.type===nn?O.cloneElement(t,{key:"label-implicit",viewBox:r}):M.createElement(nn,{key:"label-implicit",content:t,viewBox:r}):We(t)?M.createElement(nn,{key:"label-implicit",content:t,viewBox:r}):el(t)?M.createElement(nn,Fc({viewBox:r},t,{key:"label-implicit"})):null:null},pW=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,o=NP(t),i=Mn(a,nn).map(function(l,c){return O.cloneElement(l,{viewBox:r||o,key:"label-".concat(c)})});if(!n)return i;var s=hW(t.label,r||o);return[s].concat(ZU(i))};nn.parseViewBox=NP;nn.renderCallByParent=pW;function gW(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var mW=gW;const yW=Et(mW);function zc(e){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zc(e)}var vW=["valueAccessor"],xW=["data","dataKey","clockWise","id","textBreakAll"];function bW(e){return jW(e)||SW(e)||kW(e)||wW()}function wW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kW(e,t){if(e){if(typeof e=="string")return qg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qg(e,t)}}function SW(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function jW(e){if(Array.isArray(e))return qg(e)}function qg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xd(){return xd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xd.apply(this,arguments)}function yw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yw(Object(r),!0).forEach(function(n){OW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OW(e,t,r){return t=PW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PW(e){var t=_W(e,"string");return zc(t)=="symbol"?t:t+""}function _W(e,t){if(zc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xw(e,t){if(e==null)return{};var r=NW(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function NW(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var AW=function(t){return Array.isArray(t.value)?yW(t.value):t.value};function Ra(e){var t=e.valueAccessor,r=t===void 0?AW:t,n=xw(e,vW),a=n.data,o=n.dataKey,i=n.clockWise,s=n.id,l=n.textBreakAll,c=xw(n,xW);return!a||!a.length?null:M.createElement(lt,{className:"recharts-label-list"},a.map(function(f,d){var h=Be(o)?r(f,d):Nr(f&&f.payload,o),p=Be(s)?{}:{id:"".concat(s,"-").concat(d)};return M.createElement(nn,xd({},ze(f,!0),c,p,{parentViewBox:f.parentViewBox,value:h,textBreakAll:l,viewBox:nn.parseViewBox(Be(i)?f:vw(vw({},f),{},{clockWise:i})),key:"label-".concat(d),index:d}))}))}Ra.displayName="LabelList";function MW(e,t){return e?e===!0?M.createElement(Ra,{key:"labelList-implicit",data:t}):M.isValidElement(e)||We(e)?M.createElement(Ra,{key:"labelList-implicit",data:t,content:e}):el(e)?M.createElement(Ra,xd({data:t},e,{key:"labelList-implicit"})):null:null}function CW(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=Mn(n,Ra).map(function(i,s){return O.cloneElement(i,{data:t,key:"labelList-".concat(s)})});if(!r)return a;var o=MW(e.label,t);return[o].concat(bW(a))}Ra.renderCallByParent=CW;function Uc(e){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uc(e)}function Zg(){return Zg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zg.apply(this,arguments)}function bw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ww(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bw(Object(r),!0).forEach(function(n){EW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EW(e,t,r){return t=TW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TW(e){var t=$W(e,"string");return Uc(t)=="symbol"?t:t+""}function $W(e,t){if(Uc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Uc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DW=function(t,r){var n=ya(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},Ju=function(t){var r=t.cx,n=t.cy,a=t.radius,o=t.angle,i=t.sign,s=t.isExternal,l=t.cornerRadius,c=t.cornerIsExternal,f=l*(s?1:-1)+a,d=Math.asin(l/f)/vd,h=c?o:o+i*d,p=Ur(r,n,f,h),m=Ur(r,n,a,h),v=c?o-i*d:o,x=Ur(r,n,f*Math.cos(d*vd),v);return{center:p,circleTangency:m,lineTangency:x,theta:d}},AP=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,o=t.outerRadius,i=t.startAngle,s=t.endAngle,l=DW(i,s),c=i+l,f=Ur(r,n,o,i),d=Ur(r,n,o,c),h="M ".concat(f.x,",").concat(f.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(i>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(a>0){var p=Ur(r,n,a,i),m=Ur(r,n,a,c);h+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(i<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},RW=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,o=t.outerRadius,i=t.cornerRadius,s=t.forceCornerRadius,l=t.cornerIsExternal,c=t.startAngle,f=t.endAngle,d=ya(f-c),h=Ju({cx:r,cy:n,radius:o,angle:c,sign:d,cornerRadius:i,cornerIsExternal:l}),p=h.circleTangency,m=h.lineTangency,v=h.theta,x=Ju({cx:r,cy:n,radius:o,angle:f,sign:-d,cornerRadius:i,cornerIsExternal:l}),y=x.circleTangency,g=x.lineTangency,b=x.theta,S=l?Math.abs(c-f):Math.abs(c-f)-v-b;if(S<0)return s?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):AP({cx:r,cy:n,innerRadius:a,outerRadius:o,startAngle:c,endAngle:f});var w="M ".concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(S>180),",").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(g.x,",").concat(g.y,`
  `);if(a>0){var k=Ju({cx:r,cy:n,radius:a,angle:c,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),j=k.circleTangency,P=k.lineTangency,_=k.theta,A=Ju({cx:r,cy:n,radius:a,angle:f,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),N=A.circleTangency,C=A.lineTangency,F=A.theta,L=l?Math.abs(c-f):Math.abs(c-f)-_-F;if(L<0&&i===0)return"".concat(w,"L").concat(r,",").concat(n,"Z");w+="L".concat(C.x,",").concat(C.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(N.x,",").concat(N.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(L>180),",").concat(+(d>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(P.x,",").concat(P.y,"Z")}else w+="L".concat(r,",").concat(n,"Z");return w},LW={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},MP=function(t){var r=ww(ww({},LW),t),n=r.cx,a=r.cy,o=r.innerRadius,i=r.outerRadius,s=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,f=r.startAngle,d=r.endAngle,h=r.className;if(i<o||f===d)return null;var p=Qe("recharts-sector",h),m=i-o,v=Oi(s,m,0,!0),x;return v>0&&Math.abs(f-d)<360?x=RW({cx:n,cy:a,innerRadius:o,outerRadius:i,cornerRadius:Math.min(v,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:f,endAngle:d}):x=AP({cx:n,cy:a,innerRadius:o,outerRadius:i,startAngle:f,endAngle:d}),M.createElement("path",Zg({},ze(r,!0),{className:p,d:x,role:"img"}))};function Wc(e){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wc(e)}function Qg(){return Qg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qg.apply(this,arguments)}function kw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kw(Object(r),!0).forEach(function(n){IW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IW(e,t,r){return t=BW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BW(e){var t=FW(e,"string");return Wc(t)=="symbol"?t:t+""}function FW(e,t){if(Wc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jw={curveBasisClosed:I$,curveBasisOpen:B$,curveBasis:L$,curveBumpX:S$,curveBumpY:j$,curveLinearClosed:F$,curveLinear:Oh,curveMonotoneX:z$,curveMonotoneY:U$,curveNatural:W$,curveStep:G$,curveStepAfter:V$,curveStepBefore:H$},ef=function(t){return t.x===+t.x&&t.y===+t.y},El=function(t){return t.x},Tl=function(t){return t.y},zW=function(t,r){if(We(t))return t;var n="curve".concat(Sh(t));return(n==="curveMonotone"||n==="curveBump")&&r?jw["".concat(n).concat(r==="vertical"?"Y":"X")]:jw[n]||Oh},UW=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,o=a===void 0?[]:a,i=t.baseLine,s=t.layout,l=t.connectNulls,c=l===void 0?!1:l,f=zW(n,s),d=c?o.filter(function(v){return ef(v)}):o,h;if(Array.isArray(i)){var p=c?i.filter(function(v){return ef(v)}):i,m=d.map(function(v,x){return Sw(Sw({},v),{},{base:p[x]})});return s==="vertical"?h=Gu().y(Tl).x1(El).x0(function(v){return v.base.x}):h=Gu().x(El).y1(Tl).y0(function(v){return v.base.y}),h.defined(ef).curve(f),h(m)}return s==="vertical"&&se(i)?h=Gu().y(Tl).x1(El).x0(i):se(i)?h=Gu().x(El).y1(Tl).y0(i):h=Cj().x(El).y(Tl),h.defined(ef).curve(f),h(d)},vi=function(t){var r=t.className,n=t.points,a=t.path,o=t.pathRef;if((!n||!n.length)&&!a)return null;var i=n&&n.length?UW(t):a;return O.createElement("path",Qg({},ze(t,!1),Wf(t),{className:Qe("recharts-curve",r),d:i,ref:o}))},CP={exports:{}},WW="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",GW=WW,HW=GW;function EP(){}function TP(){}TP.resetWarningCache=EP;var VW=function(){function e(n,a,o,i,s,l){if(l!==HW){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:TP,resetWarningCache:EP};return r.PropTypes=r,r};CP.exports=VW();var XW=CP.exports;const ft=Et(XW),{getOwnPropertyNames:KW,getOwnPropertySymbols:YW}=Object,{hasOwnProperty:qW}=Object.prototype;function Jp(e,t){return function(n,a,o){return e(n,a,o)&&t(n,a,o)}}function tf(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);const{cache:o}=a,i=o.get(r),s=o.get(n);if(i&&s)return i===n&&s===r;o.set(r,n),o.set(n,r);const l=e(r,n,a);return o.delete(r),o.delete(n),l}}function ZW(e){return e!=null?e[Symbol.toStringTag]:void 0}function Ow(e){return KW(e).concat(YW(e))}const QW=Object.hasOwn||((e,t)=>qW.call(e,t));function Li(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const JW="__v",eG="__o",tG="_owner",{getOwnPropertyDescriptor:Pw,keys:_w}=Object;function rG(e,t){return e.byteLength===t.byteLength&&bd(new Uint8Array(e),new Uint8Array(t))}function nG(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function aG(e,t){return e.byteLength===t.byteLength&&bd(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function oG(e,t){return Li(e.getTime(),t.getTime())}function iG(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function sG(e,t){return e===t}function Nw(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),o=e.entries();let i,s,l=0;for(;(i=o.next())&&!i.done;){const c=t.entries();let f=!1,d=0;for(;(s=c.next())&&!s.done;){if(a[d]){d++;continue}const h=i.value,p=s.value;if(r.equals(h[0],p[0],l,d,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){f=a[d]=!0;break}d++}if(!f)return!1;l++}return!0}const lG=Li;function cG(e,t,r){const n=_w(e);let a=n.length;if(_w(t).length!==a)return!1;for(;a-- >0;)if(!$P(e,t,r,n[a]))return!1;return!0}function $l(e,t,r){const n=Ow(e);let a=n.length;if(Ow(t).length!==a)return!1;let o,i,s;for(;a-- >0;)if(o=n[a],!$P(e,t,r,o)||(i=Pw(e,o),s=Pw(t,o),(i||s)&&(!i||!s||i.configurable!==s.configurable||i.enumerable!==s.enumerable||i.writable!==s.writable)))return!1;return!0}function uG(e,t){return Li(e.valueOf(),t.valueOf())}function fG(e,t){return e.source===t.source&&e.flags===t.flags}function Aw(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),o=e.values();let i,s;for(;(i=o.next())&&!i.done;){const l=t.values();let c=!1,f=0;for(;(s=l.next())&&!s.done;){if(!a[f]&&r.equals(i.value,s.value,i.value,s.value,e,t,r)){c=a[f]=!0;break}f++}if(!c)return!1}return!0}function bd(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function dG(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function $P(e,t,r,n){return(n===tG||n===eG||n===JW)&&(e.$$typeof||t.$$typeof)?!0:QW(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const hG="[object ArrayBuffer]",pG="[object Arguments]",gG="[object Boolean]",mG="[object DataView]",yG="[object Date]",vG="[object Error]",xG="[object Map]",bG="[object Number]",wG="[object Object]",kG="[object RegExp]",SG="[object Set]",jG="[object String]",OG={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},PG="[object URL]",_G=Object.prototype.toString;function NG({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:a,areFunctionsEqual:o,areMapsEqual:i,areNumbersEqual:s,areObjectsEqual:l,arePrimitiveWrappersEqual:c,areRegExpsEqual:f,areSetsEqual:d,areTypedArraysEqual:h,areUrlsEqual:p,unknownTagComparators:m}){return function(x,y,g){if(x===y)return!0;if(x==null||y==null)return!1;const b=typeof x;if(b!==typeof y)return!1;if(b!=="object")return b==="number"?s(x,y,g):b==="function"?o(x,y,g):!1;const S=x.constructor;if(S!==y.constructor)return!1;if(S===Object)return l(x,y,g);if(Array.isArray(x))return t(x,y,g);if(S===Date)return n(x,y,g);if(S===RegExp)return f(x,y,g);if(S===Map)return i(x,y,g);if(S===Set)return d(x,y,g);const w=_G.call(x);if(w===yG)return n(x,y,g);if(w===kG)return f(x,y,g);if(w===xG)return i(x,y,g);if(w===SG)return d(x,y,g);if(w===wG)return typeof x.then!="function"&&typeof y.then!="function"&&l(x,y,g);if(w===PG)return p(x,y,g);if(w===vG)return a(x,y,g);if(w===pG)return l(x,y,g);if(OG[w])return h(x,y,g);if(w===hG)return e(x,y,g);if(w===mG)return r(x,y,g);if(w===gG||w===bG||w===jG)return c(x,y,g);if(m){let k=m[w];if(!k){const j=ZW(x);j&&(k=m[j])}if(k)return k(x,y,g)}return!1}}function AG({circular:e,createCustomConfig:t,strict:r}){let n={areArrayBuffersEqual:rG,areArraysEqual:r?$l:nG,areDataViewsEqual:aG,areDatesEqual:oG,areErrorsEqual:iG,areFunctionsEqual:sG,areMapsEqual:r?Jp(Nw,$l):Nw,areNumbersEqual:lG,areObjectsEqual:r?$l:cG,arePrimitiveWrappersEqual:uG,areRegExpsEqual:fG,areSetsEqual:r?Jp(Aw,$l):Aw,areTypedArraysEqual:r?Jp(bd,$l):bd,areUrlsEqual:dG,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const a=tf(n.areArraysEqual),o=tf(n.areMapsEqual),i=tf(n.areObjectsEqual),s=tf(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:i,areSetsEqual:s})}return n}function MG(e){return function(t,r,n,a,o,i,s){return e(t,r,s)}}function CG({circular:e,comparator:t,createState:r,equals:n,strict:a}){if(r)return function(s,l){const{cache:c=e?new WeakMap:void 0,meta:f}=r();return t(s,l,{cache:c,equals:n,meta:f,strict:a})};if(e)return function(s,l){return t(s,l,{cache:new WeakMap,equals:n,meta:void 0,strict:a})};const o={cache:void 0,equals:n,meta:void 0,strict:a};return function(s,l){return t(s,l,o)}}const EG=Ko();Ko({strict:!0});Ko({circular:!0});Ko({circular:!0,strict:!0});Ko({createInternalComparator:()=>Li});Ko({strict:!0,createInternalComparator:()=>Li});Ko({circular:!0,createInternalComparator:()=>Li});Ko({circular:!0,createInternalComparator:()=>Li,strict:!0});function Ko(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:a=!1}=e,o=AG(e),i=NG(o),s=r?r(i):MG(i);return CG({circular:t,comparator:i,createState:n,equals:s,strict:a})}function TG(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function Mw(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(o){r<0&&(r=o),o-r>t?(e(o),r=-1):TG(a)};requestAnimationFrame(n)}function Jg(e){"@babel/helpers - typeof";return Jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jg(e)}function $G(e){return IG(e)||LG(e)||RG(e)||DG()}function DG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RG(e,t){if(e){if(typeof e=="string")return Cw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Cw(e,t)}}function Cw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function LG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function IG(e){if(Array.isArray(e))return e}function BG(){var e={},t=function(){return null},r=!1,n=function a(o){if(!r){if(Array.isArray(o)){if(!o.length)return;var i=o,s=$G(i),l=s[0],c=s.slice(1);if(typeof l=="number"){Mw(a.bind(null,c),l);return}a(l),Mw(a.bind(null,c));return}Jg(o)==="object"&&(e=o,t(e)),typeof o=="function"&&o()}};return{stop:function(){r=!0},start:function(o){r=!1,n(o)},subscribe:function(o){return t=o,function(){t=function(){return null}}}}}function Gc(e){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gc(e)}function Ew(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ew(Object(r),!0).forEach(function(n){DP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ew(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DP(e,t,r){return t=FG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FG(e){var t=zG(e,"string");return Gc(t)==="symbol"?t:String(t)}function zG(e,t){if(Gc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UG=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(o){return a.includes(o)})})},WG=function(t){return t},GG=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Jl=function(t,r){return Object.keys(r).reduce(function(n,a){return Tw(Tw({},n),{},DP({},a,t(a,r[a])))},{})},$w=function(t,r,n){return t.map(function(a){return"".concat(GG(a)," ").concat(r,"ms ").concat(n)}).join(",")};function HG(e,t){return KG(e)||XG(e,t)||RP(e,t)||VG()}function VG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XG(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function KG(e){if(Array.isArray(e))return e}function YG(e){return QG(e)||ZG(e)||RP(e)||qG()}function qG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RP(e,t){if(e){if(typeof e=="string")return em(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return em(e,t)}}function ZG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function QG(e){if(Array.isArray(e))return em(e)}function em(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var wd=1e-4,LP=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},IP=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},Dw=function(t,r){return function(n){var a=LP(t,r);return IP(a,n)}},JG=function(t,r){return function(n){var a=LP(t,r),o=[].concat(YG(a.map(function(i,s){return i*s}).slice(1)),[0]);return IP(o,n)}},Rw=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],o=r[1],i=r[2],s=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,o=0,i=1,s=1;break;case"ease":a=.25,o=.1,i=.25,s=1;break;case"ease-in":a=.42,o=0,i=1,s=1;break;case"ease-out":a=.42,o=0,i=.58,s=1;break;case"ease-in-out":a=0,o=0,i=.58,s=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),f=HG(c,4);a=f[0],o=f[1],i=f[2],s=f[3]}}}var d=Dw(a,i),h=Dw(o,s),p=JG(a,i),m=function(y){return y>1?1:y<0?0:y},v=function(y){for(var g=y>1?1:y,b=g,S=0;S<8;++S){var w=d(b)-g,k=p(b);if(Math.abs(w-g)<wd||k<wd)return h(b);b=m(b-w/k)}return h(b)};return v.isStepper=!1,v},eH=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,o=a===void 0?8:a,i=t.dt,s=i===void 0?17:i,l=function(f,d,h){var p=-(f-d)*n,m=h*o,v=h+(p-m)*s/1e3,x=h*s/1e3+f;return Math.abs(x-d)<wd&&Math.abs(v)<wd?[d,0]:[x,v]};return l.isStepper=!0,l.dt=s,l},tH=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Rw(a);case"spring":return eH();default:if(a.split("(")[0]==="cubic-bezier")return Rw(a)}return typeof a=="function"?a:null};function Hc(e){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hc(e)}function Lw(e){return aH(e)||nH(e)||BP(e)||rH()}function rH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nH(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function aH(e){if(Array.isArray(e))return rm(e)}function Iw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Br(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Iw(Object(r),!0).forEach(function(n){tm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Iw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tm(e,t,r){return t=oH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oH(e){var t=iH(e,"string");return Hc(t)==="symbol"?t:String(t)}function iH(e,t){if(Hc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sH(e,t){return uH(e)||cH(e,t)||BP(e,t)||lH()}function lH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BP(e,t){if(e){if(typeof e=="string")return rm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rm(e,t)}}function rm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cH(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function uH(e){if(Array.isArray(e))return e}var kd=function(t,r,n){return t+(r-t)*n},nm=function(t){var r=t.from,n=t.to;return r!==n},fH=function e(t,r,n){var a=Jl(function(o,i){if(nm(i)){var s=t(i.from,i.to,i.velocity),l=sH(s,2),c=l[0],f=l[1];return Br(Br({},i),{},{from:c,velocity:f})}return i},r);return n<1?Jl(function(o,i){return nm(i)?Br(Br({},i),{},{velocity:kd(i.velocity,a[o].velocity,n),from:kd(i.from,a[o].from,n)}):i},r):e(t,a,n-1)};const dH=function(e,t,r,n,a){var o=UG(e,t),i=o.reduce(function(x,y){return Br(Br({},x),{},tm({},y,[e[y],t[y]]))},{}),s=o.reduce(function(x,y){return Br(Br({},x),{},tm({},y,{from:e[y],velocity:0,to:t[y]}))},{}),l=-1,c,f,d=function(){return null},h=function(){return Jl(function(y,g){return g.from},s)},p=function(){return!Object.values(s).filter(nm).length},m=function(y){c||(c=y);var g=y-c,b=g/r.dt;s=fH(r,s,b),a(Br(Br(Br({},e),t),h())),c=y,p()||(l=requestAnimationFrame(d))},v=function(y){f||(f=y);var g=(y-f)/n,b=Jl(function(w,k){return kd.apply(void 0,Lw(k).concat([r(g)]))},i);if(a(Br(Br(Br({},e),t),b)),g<1)l=requestAnimationFrame(d);else{var S=Jl(function(w,k){return kd.apply(void 0,Lw(k).concat([r(1)]))},i);a(Br(Br(Br({},e),t),S))}};return d=r.isStepper?m:v,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function Ts(e){"@babel/helpers - typeof";return Ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ts(e)}var hH=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function pH(e,t){if(e==null)return{};var r=gH(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gH(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,o;for(o=0;o<n.length;o++)a=n[o],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function e0(e){return xH(e)||vH(e)||yH(e)||mH()}function mH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yH(e,t){if(e){if(typeof e=="string")return am(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return am(e,t)}}function vH(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xH(e){if(Array.isArray(e))return am(e)}function am(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Bw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ua(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bw(Object(r),!0).forEach(function(n){Fl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fl(e,t,r){return t=FP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wH(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,FP(n.key),n)}}function kH(e,t,r){return t&&wH(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function FP(e){var t=SH(e,"string");return Ts(t)==="symbol"?t:String(t)}function SH(e,t){if(Ts(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ts(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jH(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&om(e,t)}function om(e,t){return om=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},om(e,t)}function OH(e){var t=PH();return function(){var n=Sd(e),a;if(t){var o=Sd(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return im(this,a)}}function im(e,t){if(t&&(Ts(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sm(e)}function sm(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PH(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Sd(e){return Sd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sd(e)}var wa=function(e){jH(r,e);var t=OH(r);function r(n,a){var o;bH(this,r),o=t.call(this,n,a);var i=o.props,s=i.isActive,l=i.attributeName,c=i.from,f=i.to,d=i.steps,h=i.children,p=i.duration;if(o.handleStyleChange=o.handleStyleChange.bind(sm(o)),o.changeStyle=o.changeStyle.bind(sm(o)),!s||p<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:f}),im(o);if(d&&d.length)o.state={style:d[0].style};else if(c){if(typeof h=="function")return o.state={style:c},im(o);o.state={style:l?Fl({},l,c):c}}else o.state={style:{}};return o}return kH(r,[{key:"componentDidMount",value:function(){var a=this.props,o=a.isActive,i=a.canBegin;this.mounted=!0,!(!o||!i)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var o=this.props,i=o.isActive,s=o.canBegin,l=o.attributeName,c=o.shouldReAnimate,f=o.to,d=o.from,h=this.state.style;if(s){if(!i){var p={style:l?Fl({},l,f):f};this.state&&h&&(l&&h[l]!==f||!l&&h!==f)&&this.setState(p);return}if(!(EG(a.to,f)&&a.canBegin&&a.isActive)){var m=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=m||c?d:a.to;if(this.state&&h){var x={style:l?Fl({},l,v):v};(l&&h[l]!==v||!l&&h!==v)&&this.setState(x)}this.runAnimation(ua(ua({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var o=this,i=a.from,s=a.to,l=a.duration,c=a.easing,f=a.begin,d=a.onAnimationEnd,h=a.onAnimationStart,p=dH(i,s,tH(c),l,this.changeStyle),m=function(){o.stopJSAnimation=p()};this.manager.start([h,f,m,l,d])}},{key:"runStepAnimation",value:function(a){var o=this,i=a.steps,s=a.begin,l=a.onAnimationStart,c=i[0],f=c.style,d=c.duration,h=d===void 0?0:d,p=function(v,x,y){if(y===0)return v;var g=x.duration,b=x.easing,S=b===void 0?"ease":b,w=x.style,k=x.properties,j=x.onAnimationEnd,P=y>0?i[y-1]:x,_=k||Object.keys(w);if(typeof S=="function"||S==="spring")return[].concat(e0(v),[o.runJSAnimation.bind(o,{from:P.style,to:w,duration:g,easing:S}),g]);var A=$w(_,g,S),N=ua(ua(ua({},P.style),w),{},{transition:A});return[].concat(e0(v),[N,g,j]).filter(WG)};return this.manager.start([l].concat(e0(i.reduce(p,[f,Math.max(h,s)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=BG());var o=a.begin,i=a.duration,s=a.attributeName,l=a.to,c=a.easing,f=a.onAnimationStart,d=a.onAnimationEnd,h=a.steps,p=a.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var v=s?Fl({},s,l):l,x=$w(Object.keys(v),i,c);m.start([f,o,ua(ua({},v),{},{transition:x}),i,d])}},{key:"render",value:function(){var a=this.props,o=a.children;a.begin;var i=a.duration;a.attributeName,a.easing;var s=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var l=pH(a,hH),c=O.Children.count(o),f=this.state.style;if(typeof o=="function")return o(f);if(!s||c===0||i<=0)return o;var d=function(p){var m=p.props,v=m.style,x=v===void 0?{}:v,y=m.className,g=O.cloneElement(p,ua(ua({},l),{},{style:ua(ua({},x),f),className:y}));return g};return c===1?d(O.Children.only(o)):M.createElement("div",null,O.Children.map(o,function(h){return d(h)}))}}]),r}(O.PureComponent);wa.displayName="Animate";wa.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};wa.propTypes={from:ft.oneOfType([ft.object,ft.string]),to:ft.oneOfType([ft.object,ft.string]),attributeName:ft.string,duration:ft.number,begin:ft.number,easing:ft.oneOfType([ft.string,ft.func]),steps:ft.arrayOf(ft.shape({duration:ft.number.isRequired,style:ft.object.isRequired,easing:ft.oneOfType([ft.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ft.func]),properties:ft.arrayOf("string"),onAnimationEnd:ft.func})),children:ft.oneOfType([ft.node,ft.func]),isActive:ft.bool,canBegin:ft.bool,onAnimationEnd:ft.func,shouldReAnimate:ft.bool,onAnimationStart:ft.func,onAnimationReStart:ft.func};function Vc(e){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vc(e)}function jd(){return jd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jd.apply(this,arguments)}function _H(e,t){return CH(e)||MH(e,t)||AH(e,t)||NH()}function NH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AH(e,t){if(e){if(typeof e=="string")return Fw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Fw(e,t)}}function Fw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function MH(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function CH(e){if(Array.isArray(e))return e}function zw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Uw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zw(Object(r),!0).forEach(function(n){EH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EH(e,t,r){return t=TH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TH(e){var t=$H(e,"string");return Vc(t)=="symbol"?t:t+""}function $H(e,t){if(Vc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ww=function(t,r,n,a,o){var i=Math.min(Math.abs(n)/2,Math.abs(a)/2),s=a>=0?1:-1,l=n>=0?1:-1,c=a>=0&&n>=0||a<0&&n<0?1:0,f;if(i>0&&o instanceof Array){for(var d=[0,0,0,0],h=0,p=4;h<p;h++)d[h]=o[h]>i?i:o[h];f="M".concat(t,",").concat(r+s*d[0]),d[0]>0&&(f+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(t+l*d[0],",").concat(r)),f+="L ".concat(t+n-l*d[1],",").concat(r),d[1]>0&&(f+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(t+n,",").concat(r+s*d[1])),f+="L ".concat(t+n,",").concat(r+a-s*d[2]),d[2]>0&&(f+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(t+n-l*d[2],",").concat(r+a)),f+="L ".concat(t+l*d[3],",").concat(r+a),d[3]>0&&(f+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(r+a-s*d[3])),f+="Z"}else if(i>0&&o===+o&&o>0){var m=Math.min(i,o);f="M ".concat(t,",").concat(r+s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+l*m,",").concat(r,`
            L `).concat(t+n-l*m,",").concat(r,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+n,",").concat(r+s*m,`
            L `).concat(t+n,",").concat(r+a-s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+n-l*m,",").concat(r+a,`
            L `).concat(t+l*m,",").concat(r+a,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t,",").concat(r+a-s*m," Z")}else f="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return f},DH=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,o=r.x,i=r.y,s=r.width,l=r.height;if(Math.abs(s)>0&&Math.abs(l)>0){var c=Math.min(o,o+s),f=Math.max(o,o+s),d=Math.min(i,i+l),h=Math.max(i,i+l);return n>=c&&n<=f&&a>=d&&a<=h}return!1},RH={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Pv=function(t){var r=Uw(Uw({},RH),t),n=O.useRef(),a=O.useState(-1),o=_H(a,2),i=o[0],s=o[1];O.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&s(S)}catch{}},[]);var l=r.x,c=r.y,f=r.width,d=r.height,h=r.radius,p=r.className,m=r.animationEasing,v=r.animationDuration,x=r.animationBegin,y=r.isAnimationActive,g=r.isUpdateAnimationActive;if(l!==+l||c!==+c||f!==+f||d!==+d||f===0||d===0)return null;var b=Qe("recharts-rectangle",p);return g?M.createElement(wa,{canBegin:i>0,from:{width:f,height:d,x:l,y:c},to:{width:f,height:d,x:l,y:c},duration:v,animationEasing:m,isActive:g},function(S){var w=S.width,k=S.height,j=S.x,P=S.y;return M.createElement(wa,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:v,isActive:y,easing:m},M.createElement("path",jd({},ze(r,!0),{className:b,d:Ww(j,P,w,k,h),ref:n})))}):M.createElement("path",jd({},ze(r,!0),{className:b,d:Ww(l,c,f,d,h)}))};function lm(){return lm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lm.apply(this,arguments)}var Fh=function(t){var r=t.cx,n=t.cy,a=t.r,o=t.className,i=Qe("recharts-dot",o);return r===+r&&n===+n&&a===+a?O.createElement("circle",lm({},ze(t,!1),Wf(t),{className:i,cx:r,cy:n,r:a})):null};function Xc(e){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xc(e)}var LH=["x","y","top","left","width","height","className"];function cm(){return cm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cm.apply(this,arguments)}function Gw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function IH(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gw(Object(r),!0).forEach(function(n){BH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BH(e,t,r){return t=FH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FH(e){var t=zH(e,"string");return Xc(t)=="symbol"?t:t+""}function zH(e,t){if(Xc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UH(e,t){if(e==null)return{};var r=WH(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function WH(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var GH=function(t,r,n,a,o,i){return"M".concat(t,",").concat(o,"v").concat(a,"M").concat(i,",").concat(r,"h").concat(n)},HH=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,o=a===void 0?0:a,i=t.top,s=i===void 0?0:i,l=t.left,c=l===void 0?0:l,f=t.width,d=f===void 0?0:f,h=t.height,p=h===void 0?0:h,m=t.className,v=UH(t,LH),x=IH({x:n,y:o,top:s,left:c,width:d,height:p},v);return!se(n)||!se(o)||!se(d)||!se(p)||!se(s)||!se(c)?null:M.createElement("path",cm({},ze(x,!0),{className:Qe("recharts-cross",m),d:GH(n,o,d,p,s,c)}))},VH=tO,XH=VH(Object.getPrototypeOf,Object),KH=XH,YH=lo,qH=KH,ZH=co,QH="[object Object]",JH=Function.prototype,eV=Object.prototype,zP=JH.toString,tV=eV.hasOwnProperty,rV=zP.call(Object);function nV(e){if(!ZH(e)||YH(e)!=QH)return!1;var t=qH(e);if(t===null)return!0;var r=tV.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&zP.call(r)==rV}var aV=nV;const oV=Et(aV);var iV=lo,sV=co,lV="[object Boolean]";function cV(e){return e===!0||e===!1||sV(e)&&iV(e)==lV}var uV=cV;const fV=Et(uV);function Kc(e){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kc(e)}function Od(){return Od=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Od.apply(this,arguments)}function dV(e,t){return mV(e)||gV(e,t)||pV(e,t)||hV()}function hV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pV(e,t){if(e){if(typeof e=="string")return Hw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Hw(e,t)}}function Hw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gV(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function mV(e){if(Array.isArray(e))return e}function Vw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vw(Object(r),!0).forEach(function(n){yV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yV(e,t,r){return t=vV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vV(e){var t=xV(e,"string");return Kc(t)=="symbol"?t:t+""}function xV(e,t){if(Kc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kw=function(t,r,n,a,o){var i=n-a,s;return s="M ".concat(t,",").concat(r),s+="L ".concat(t+n,",").concat(r),s+="L ".concat(t+n-i/2,",").concat(r+o),s+="L ".concat(t+n-i/2-a,",").concat(r+o),s+="L ".concat(t,",").concat(r," Z"),s},bV={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},wV=function(t){var r=Xw(Xw({},bV),t),n=O.useRef(),a=O.useState(-1),o=dV(a,2),i=o[0],s=o[1];O.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&s(b)}catch{}},[]);var l=r.x,c=r.y,f=r.upperWidth,d=r.lowerWidth,h=r.height,p=r.className,m=r.animationEasing,v=r.animationDuration,x=r.animationBegin,y=r.isUpdateAnimationActive;if(l!==+l||c!==+c||f!==+f||d!==+d||h!==+h||f===0&&d===0||h===0)return null;var g=Qe("recharts-trapezoid",p);return y?M.createElement(wa,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:f,lowerWidth:d,height:h,x:l,y:c},duration:v,animationEasing:m,isActive:y},function(b){var S=b.upperWidth,w=b.lowerWidth,k=b.height,j=b.x,P=b.y;return M.createElement(wa,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:v,easing:m},M.createElement("path",Od({},ze(r,!0),{className:g,d:Kw(j,P,S,w,k),ref:n})))}):M.createElement("g",null,M.createElement("path",Od({},ze(r,!0),{className:g,d:Kw(l,c,f,d,h)})))},kV=["option","shapeType","propTransformer","activeClassName","isActive"];function Yc(e){"@babel/helpers - typeof";return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yc(e)}function SV(e,t){if(e==null)return{};var r=jV(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jV(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Yw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yw(Object(r),!0).forEach(function(n){OV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OV(e,t,r){return t=PV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PV(e){var t=_V(e,"string");return Yc(t)=="symbol"?t:t+""}function _V(e,t){if(Yc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NV(e,t){return Pd(Pd({},t),e)}function AV(e,t){return e==="symbols"}function qw(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return M.createElement(Pv,r);case"trapezoid":return M.createElement(wV,r);case"sector":return M.createElement(MP,r);case"symbols":if(AV(t))return M.createElement(_h,r);break;default:return null}}function MV(e){return O.isValidElement(e)?e.props:e}function um(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?NV:n,o=e.activeClassName,i=o===void 0?"recharts-active-shape":o,s=e.isActive,l=SV(e,kV),c;if(O.isValidElement(t))c=O.cloneElement(t,Pd(Pd({},l),MV(t)));else if(We(t))c=t(l);else if(oV(t)&&!fV(t)){var f=a(t,l);c=M.createElement(qw,{shapeType:r,elementProps:f})}else{var d=l;c=M.createElement(qw,{shapeType:r,elementProps:d})}return s?M.createElement(lt,{className:i},c):c}function zh(e,t){return t!=null&&"trapezoids"in e.props}function Uh(e,t){return t!=null&&"sectors"in e.props}function qc(e,t){return t!=null&&"points"in e.props}function CV(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,o=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&o}function EV(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function TV(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function $V(e,t){var r;return zh(e,t)?r=CV:Uh(e,t)?r=EV:qc(e,t)&&(r=TV),r}function DV(e,t){var r;return zh(e,t)?r="trapezoids":Uh(e,t)?r="sectors":qc(e,t)&&(r="points"),r}function RV(e,t){if(zh(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Uh(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return qc(e,t)?t.payload:{}}function LV(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=DV(r,t),o=RV(r,t),i=n.filter(function(l,c){var f=Pi(o,l),d=r.props[a].filter(function(m){var v=$V(r,t);return v(m,t)}),h=r.props[a].indexOf(d[d.length-1]),p=c===h;return f&&p}),s=n.indexOf(i[i.length-1]);return s}var IV=Math.ceil,BV=Math.max;function FV(e,t,r,n){for(var a=-1,o=BV(IV((t-e)/(r||1)),0),i=Array(o);o--;)i[n?o:++a]=e,e+=r;return i}var zV=FV,UV=bO,Zw=1/0,WV=17976931348623157e292;function GV(e){if(!e)return e===0?e:0;if(e=UV(e),e===Zw||e===-Zw){var t=e<0?-1:1;return t*WV}return e===e?e:0}var UP=GV,HV=zV,VV=Mh,t0=UP;function XV(e){return function(t,r,n){return n&&typeof n!="number"&&VV(t,r,n)&&(r=n=void 0),t=t0(t),r===void 0?(r=t,t=0):r=t0(r),n=n===void 0?t<r?1:-1:t0(n),HV(t,r,n,e)}}var KV=XV,YV=KV,qV=YV(),ZV=qV;const _d=Et(ZV);function Zc(e){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zc(e)}function Qw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qw(Object(r),!0).forEach(function(n){WP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WP(e,t,r){return t=QV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QV(e){var t=JV(e,"string");return Zc(t)=="symbol"?t:t+""}function JV(e,t){if(Zc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eX=["Webkit","Moz","O","ms"],tX=function(t,r){var n=t.replace(/(\w)/,function(o){return o.toUpperCase()}),a=eX.reduce(function(o,i){return Jw(Jw({},o),{},WP({},i+n,r))},{});return a[t]=r,a};function $s(e){"@babel/helpers - typeof";return $s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$s(e)}function Nd(){return Nd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nd.apply(this,arguments)}function e2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function r0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e2(Object(r),!0).forEach(function(n){Ln(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,HP(n.key),n)}}function nX(e,t,r){return t&&t2(e.prototype,t),r&&t2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function aX(e,t,r){return t=Ad(t),oX(e,GP()?Reflect.construct(t,r||[],Ad(e).constructor):t.apply(e,r))}function oX(e,t){if(t&&($s(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iX(e)}function iX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GP=function(){return!!e})()}function Ad(e){return Ad=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ad(e)}function sX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fm(e,t)}function fm(e,t){return fm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},fm(e,t)}function Ln(e,t,r){return t=HP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HP(e){var t=lX(e,"string");return $s(t)=="symbol"?t:t+""}function lX(e,t){if($s(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($s(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var cX=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,o=t.x,i=t.width,s=t.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=Zl().domain(_d(0,l)).range([o,o+i-s]),f=c.domain().map(function(d){return c(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(a),scale:c,scaleValues:f}},r2=function(t){return t.changedTouches&&!!t.changedTouches.length},Ds=function(e){function t(r){var n;return rX(this,t),n=aX(this,t,[r]),Ln(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Ln(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Ln(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,o=a.endIndex,i=a.onDragEnd,s=a.startIndex;i==null||i({endIndex:o,startIndex:s})}),n.detachDragEndListener()}),Ln(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Ln(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Ln(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Ln(n,"handleSlideDragStart",function(a){var o=r2(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return sX(t,e),nX(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,o=n.endX,i=this.state.scaleValues,s=this.props,l=s.gap,c=s.data,f=c.length-1,d=Math.min(a,o),h=Math.max(a,o),p=t.getIndexInRange(i,d),m=t.getIndexInRange(i,h);return{startIndex:p-p%l,endIndex:m===f?f:m-m%l}}},{key:"getTextOfTick",value:function(n){var a=this.props,o=a.data,i=a.tickFormatter,s=a.dataKey,l=Nr(o[n],s,n);return We(i)?i(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,o=a.slideMoveStartX,i=a.startX,s=a.endX,l=this.props,c=l.x,f=l.width,d=l.travellerWidth,h=l.startIndex,p=l.endIndex,m=l.onChange,v=n.pageX-o;v>0?v=Math.min(v,c+f-d-s,c+f-d-i):v<0&&(v=Math.max(v,c-i,c-s));var x=this.getIndex({startX:i+v,endX:s+v});(x.startIndex!==h||x.endIndex!==p)&&m&&m(x),this.setState({startX:i+v,endX:s+v,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var o=r2(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,o=a.brushMoveStartX,i=a.movingTravellerId,s=a.endX,l=a.startX,c=this.state[i],f=this.props,d=f.x,h=f.width,p=f.travellerWidth,m=f.onChange,v=f.gap,x=f.data,y={startX:this.state.startX,endX:this.state.endX},g=n.pageX-o;g>0?g=Math.min(g,d+h-p-c):g<0&&(g=Math.max(g,d-c)),y[i]=c+g;var b=this.getIndex(y),S=b.startIndex,w=b.endIndex,k=function(){var P=x.length-1;return i==="startX"&&(s>l?S%v===0:w%v===0)||s<l&&w===P||i==="endX"&&(s>l?w%v===0:S%v===0)||s>l&&w===P};this.setState(Ln(Ln({},i,c+g),"brushMoveStartX",n.pageX),function(){m&&k()&&m(b)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var o=this,i=this.state,s=i.scaleValues,l=i.startX,c=i.endX,f=this.state[a],d=s.indexOf(f);if(d!==-1){var h=d+n;if(!(h===-1||h>=s.length)){var p=s[h];a==="startX"&&p>=c||a==="endX"&&p<=l||this.setState(Ln({},a,p),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,o=n.y,i=n.width,s=n.height,l=n.fill,c=n.stroke;return M.createElement("rect",{stroke:c,fill:l,x:a,y:o,width:i,height:s})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,o=n.y,i=n.width,s=n.height,l=n.data,c=n.children,f=n.padding,d=O.Children.only(c);return d?M.cloneElement(d,{x:a,y:o,width:i,height:s,margin:f,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,a){var o,i,s=this,l=this.props,c=l.y,f=l.travellerWidth,d=l.height,h=l.traveller,p=l.ariaLabel,m=l.data,v=l.startIndex,x=l.endIndex,y=Math.max(n,this.props.x),g=r0(r0({},ze(this.props,!1)),{},{x:y,y:c,width:f,height:d}),b=p||"Min value: ".concat((o=m[v])===null||o===void 0?void 0:o.name,", Max value: ").concat((i=m[x])===null||i===void 0?void 0:i.name);return M.createElement(lt,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),s.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,a))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,g))}},{key:"renderSlide",value:function(n,a){var o=this.props,i=o.y,s=o.height,l=o.stroke,c=o.travellerWidth,f=Math.min(n,a)+c,d=Math.max(Math.abs(a-n)-c,0);return M.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:f,y:i,width:d,height:s})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,o=n.endIndex,i=n.y,s=n.height,l=n.travellerWidth,c=n.stroke,f=this.state,d=f.startX,h=f.endX,p=5,m={pointerEvents:"none",fill:c};return M.createElement(lt,{className:"recharts-brush-texts"},M.createElement(nd,Nd({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-p,y:i+s/2},m),this.getTextOfTick(a)),M.createElement(nd,Nd({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+l+p,y:i+s/2},m),this.getTextOfTick(o)))}},{key:"render",value:function(){var n=this.props,a=n.data,o=n.className,i=n.children,s=n.x,l=n.y,c=n.width,f=n.height,d=n.alwaysShowText,h=this.state,p=h.startX,m=h.endX,v=h.isTextActive,x=h.isSlideMoving,y=h.isTravellerMoving,g=h.isTravellerFocused;if(!a||!a.length||!se(s)||!se(l)||!se(c)||!se(f)||c<=0||f<=0)return null;var b=Qe("recharts-brush",o),S=M.Children.count(i)===1,w=tX("userSelect","none");return M.createElement(lt,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(p,m),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(m,"endX"),(v||x||y||g||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,o=n.y,i=n.width,s=n.height,l=n.stroke,c=Math.floor(o+s/2)-1;return M.createElement(M.Fragment,null,M.createElement("rect",{x:a,y:o,width:i,height:s,fill:l,stroke:"none"}),M.createElement("line",{x1:a+1,y1:c,x2:a+i-1,y2:c,fill:"none",stroke:"#fff"}),M.createElement("line",{x1:a+1,y1:c+2,x2:a+i-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var o;return M.isValidElement(n)?o=M.cloneElement(n,a):We(n)?o=n(a):o=t.renderDefaultTraveller(a),o}},{key:"getDerivedStateFromProps",value:function(n,a){var o=n.data,i=n.width,s=n.x,l=n.travellerWidth,c=n.updateId,f=n.startIndex,d=n.endIndex;if(o!==a.prevData||c!==a.prevUpdateId)return r0({prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:i},o&&o.length?cX({data:o,width:i,x:s,travellerWidth:l,startIndex:f,endIndex:d}):{scale:null,scaleValues:null});if(a.scale&&(i!==a.prevWidth||s!==a.prevX||l!==a.prevTravellerWidth)){a.scale.range([s,s+i-l]);var h=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:i,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var o=n.length,i=0,s=o-1;s-i>1;){var l=Math.floor((i+s)/2);n[l]>a?s=l:i=l}return a>=n[s]?s:i}}])}(O.PureComponent);Ln(Ds,"displayName","Brush");Ln(Ds,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var uX=Zy;function fX(e,t){var r;return uX(e,function(n,a,o){return r=t(n,a,o),!r}),!!r}var dX=fX,hX=Xj,pX=Go,gX=dX,mX=Cn,yX=Mh;function vX(e,t,r){var n=mX(e)?hX:gX;return r&&yX(e,t,r)&&(t=void 0),n(e,pX(t))}var xX=vX;const bX=Et(xX);var La=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},n2=gO;function wX(e,t,r){t=="__proto__"&&n2?n2(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var kX=wX,SX=kX,jX=hO,OX=Go;function PX(e,t){var r={};return t=OX(t),jX(e,function(n,a,o){SX(r,a,t(n,a,o))}),r}var _X=PX;const NX=Et(_X);function AX(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var MX=AX,CX=Zy;function EX(e,t){var r=!0;return CX(e,function(n,a,o){return r=!!t(n,a,o),r}),r}var TX=EX,$X=MX,DX=TX,RX=Go,LX=Cn,IX=Mh;function BX(e,t,r){var n=LX(e)?$X:DX;return r&&IX(e,t,r)&&(t=void 0),n(e,RX(t))}var FX=BX;const VP=Et(FX);var zX=["x","y"];function Qc(e){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qc(e)}function dm(){return dm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dm.apply(this,arguments)}function a2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Dl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a2(Object(r),!0).forEach(function(n){UX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UX(e,t,r){return t=WX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WX(e){var t=GX(e,"string");return Qc(t)=="symbol"?t:t+""}function GX(e,t){if(Qc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HX(e,t){if(e==null)return{};var r=VX(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function VX(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function XX(e,t){var r=e.x,n=e.y,a=HX(e,zX),o="".concat(r),i=parseInt(o,10),s="".concat(n),l=parseInt(s,10),c="".concat(t.height||a.height),f=parseInt(c,10),d="".concat(t.width||a.width),h=parseInt(d,10);return Dl(Dl(Dl(Dl(Dl({},t),a),i?{x:i}:{}),l?{y:l}:{}),{},{height:f,width:h,name:t.name,radius:t.radius})}function o2(e){return M.createElement(um,dm({shapeType:"rectangle",propTransformer:XX,activeClassName:"recharts-active-bar"},e))}var KX=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var o=se(n)||l5(n);return o?t(n,a):(o||Ni(),r)}},YX=["value","background"],XP;function Rs(e){"@babel/helpers - typeof";return Rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rs(e)}function qX(e,t){if(e==null)return{};var r=ZX(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ZX(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Md(){return Md=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Md.apply(this,arguments)}function i2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i2(Object(r),!0).forEach(function(n){Po(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,YP(n.key),n)}}function JX(e,t,r){return t&&s2(e.prototype,t),r&&s2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function eK(e,t,r){return t=Cd(t),tK(e,KP()?Reflect.construct(t,r||[],Cd(e).constructor):t.apply(e,r))}function tK(e,t){if(t&&(Rs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rK(e)}function rK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KP=function(){return!!e})()}function Cd(e){return Cd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cd(e)}function nK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hm(e,t)}function hm(e,t){return hm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},hm(e,t)}function Po(e,t,r){return t=YP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YP(e){var t=aK(e,"string");return Rs(t)=="symbol"?t:t+""}function aK(e,t){if(Rs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var pu=function(e){function t(){var r;QX(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=eK(this,t,[].concat(a)),Po(r,"state",{isAnimationFinished:!1}),Po(r,"id",$i("recharts-bar-")),Po(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),i&&i()}),Po(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),i&&i()}),r}return nK(t,e),JX(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,o=this.props,i=o.shape,s=o.dataKey,l=o.activeIndex,c=o.activeBar,f=ze(this.props,!1);return n&&n.map(function(d,h){var p=h===l,m=p?c:i,v=yr(yr(yr({},f),d),{},{isActive:p,option:m,index:h,dataKey:s,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return M.createElement(lt,Md({className:"recharts-bar-rectangle"},wc(a.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(h)}),M.createElement(o2,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,o=a.data,i=a.layout,s=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,f=a.animationEasing,d=a.animationId,h=this.state.prevData;return M.createElement(wa,{begin:l,duration:c,isActive:s,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var m=p.t,v=o.map(function(x,y){var g=h&&h[y];if(g){var b=pr(g.x,x.x),S=pr(g.y,x.y),w=pr(g.width,x.width),k=pr(g.height,x.height);return yr(yr({},x),{},{x:b(m),y:S(m),width:w(m),height:k(m)})}if(i==="horizontal"){var j=pr(0,x.height),P=j(m);return yr(yr({},x),{},{y:x.y+x.height-P,height:P})}var _=pr(0,x.width),A=_(m);return yr(yr({},x),{},{width:A})});return M.createElement(lt,null,n.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,o=n.isAnimationActive,i=this.state.prevData;return o&&a&&a.length&&(!i||!Pi(i,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,o=a.data,i=a.dataKey,s=a.activeIndex,l=ze(this.props.background,!1);return o.map(function(c,f){c.value;var d=c.background,h=qX(c,YX);if(!d)return null;var p=yr(yr(yr(yr(yr({},h),{},{fill:"#eee"},d),l),wc(n.props,c,f)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:i,index:f,className:"recharts-bar-background-rectangle"});return M.createElement(o2,Md({key:"background-bar-".concat(f),option:n.props.background,isActive:f===s},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,i=o.data,s=o.xAxis,l=o.yAxis,c=o.layout,f=o.children,d=Mn(f,fl);if(!d)return null;var h=c==="vertical"?i[0].height/2:i[0].width/2,p=function(x,y){var g=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:g,errorVal:Nr(x,y)}},m={clipPath:n?"url(#clipPath-".concat(a,")"):null};return M.createElement(lt,m,d.map(function(v){return M.cloneElement(v,{key:"error-bar-".concat(a,"-").concat(v.props.dataKey),data:i,xAxis:s,yAxis:l,layout:c,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,o=n.data,i=n.className,s=n.xAxis,l=n.yAxis,c=n.left,f=n.top,d=n.width,h=n.height,p=n.isAnimationActive,m=n.background,v=n.id;if(a||!o||!o.length)return null;var x=this.state.isAnimationFinished,y=Qe("recharts-bar",i),g=s&&s.allowDataOverflow,b=l&&l.allowDataOverflow,S=g||b,w=Be(v)?this.id:v;return M.createElement(lt,{className:y},g||b?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(w)},M.createElement("rect",{x:g?c:c-d/2,y:b?f:f-h/2,width:g?d:d*2,height:b?h:h*2}))):null,M.createElement(lt,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(w,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,w),(!p||x)&&Ra.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(O.PureComponent);XP=pu;Po(pu,"displayName","Bar");Po(pu,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ho.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Po(pu,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,o=e.xAxis,i=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,f=e.dataStartIndex,d=e.displayedData,h=e.offset,p=CU(n,r);if(!p)return null;var m=t.layout,v=r.type.defaultProps,x=v!==void 0?yr(yr({},v),r.props):r.props,y=x.dataKey,g=x.children,b=x.minPointSize,S=m==="horizontal"?i:o,w=c?S.scale.domain():null,k=BU({numericAxis:S}),j=Mn(g,ev),P=d.map(function(_,A){var N,C,F,L,I,U;c?N=EU(c[f+A],w):(N=Nr(_,y),Array.isArray(N)||(N=[k,N]));var B=KX(b,XP.defaultProps.minPointSize)(N[1],A);if(m==="horizontal"){var R,$=[i.scale(N[0]),i.scale(N[1])],G=$[0],ee=$[1];C=cw({axis:o,ticks:s,bandSize:a,offset:p.offset,entry:_,index:A}),F=(R=ee??G)!==null&&R!==void 0?R:void 0,L=p.size;var Q=G-ee;if(I=Number.isNaN(Q)?0:Q,U={x:C,y:i.y,width:L,height:i.height},Math.abs(B)>0&&Math.abs(I)<Math.abs(B)){var q=ya(I||B)*(Math.abs(B)-Math.abs(I));F-=q,I+=q}}else{var K=[o.scale(N[0]),o.scale(N[1])],le=K[0],ue=K[1];if(C=le,F=cw({axis:i,ticks:l,bandSize:a,offset:p.offset,entry:_,index:A}),L=ue-le,I=p.size,U={x:o.x,y:F,width:o.width,height:I},Math.abs(B)>0&&Math.abs(L)<Math.abs(B)){var Se=ya(L||B)*(Math.abs(B)-Math.abs(L));L+=Se}}return yr(yr(yr({},_),{},{x:C,y:F,width:L,height:I,value:c?N:N[1],payload:_,background:U},j&&j[A]&&j[A].props),{},{tooltipPayload:[_P(r,_)],tooltipPosition:{x:C+L/2,y:F+I/2}})});return yr({data:P,layout:m},h)});function Jc(e){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jc(e)}function oK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qP(n.key),n)}}function iK(e,t,r){return t&&l2(e.prototype,t),r&&l2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function c2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ha(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c2(Object(r),!0).forEach(function(n){Wh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wh(e,t,r){return t=qP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qP(e){var t=sK(e,"string");return Jc(t)=="symbol"?t:t+""}function sK(e,t){if(Jc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _v=function(t,r,n,a,o){var i=t.width,s=t.height,l=t.layout,c=t.children,f=Object.keys(r),d={left:n.left,leftMirror:n.left,right:i-n.right,rightMirror:i-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},h=!!Bn(c,pu);return f.reduce(function(p,m){var v=r[m],x=v.orientation,y=v.domain,g=v.padding,b=g===void 0?{}:g,S=v.mirror,w=v.reversed,k="".concat(x).concat(S?"Mirror":""),j,P,_,A,N;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var C=y[1]-y[0],F=1/0,L=v.categoricalDomain.sort(d5);if(L.forEach(function(K,le){le>0&&(F=Math.min((K||0)-(L[le-1]||0),F))}),Number.isFinite(F)){var I=F/C,U=v.layout==="vertical"?n.height:n.width;if(v.padding==="gap"&&(j=I*U/2),v.padding==="no-gap"){var B=Oi(t.barCategoryGap,I*U),R=I*U/2;j=R-B-(R-B)/U*B}}}a==="xAxis"?P=[n.left+(b.left||0)+(j||0),n.left+n.width-(b.right||0)-(j||0)]:a==="yAxis"?P=l==="horizontal"?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(j||0),n.top+n.height-(b.bottom||0)-(j||0)]:P=v.range,w&&(P=[P[1],P[0]]);var $=AU(v,o,h),G=$.scale,ee=$.realScaleType;G.domain(y).range(P),MU(G);var Q=IU(G,ha(ha({},v),{},{realScaleType:ee}));a==="xAxis"?(N=x==="top"&&!S||x==="bottom"&&S,_=n.left,A=d[k]-N*v.height):a==="yAxis"&&(N=x==="left"&&!S||x==="right"&&S,_=d[k]-N*v.width,A=n.top);var q=ha(ha(ha({},v),Q),{},{realScaleType:ee,x:_,y:A,scale:G,width:a==="xAxis"?n.width:v.width,height:a==="yAxis"?n.height:v.height});return q.bandSize=yd(q,Q),!v.hide&&a==="xAxis"?d[k]+=(N?-1:1)*q.height:v.hide||(d[k]+=(N?-1:1)*q.width),ha(ha({},p),{},Wh({},m,q))},{})},ZP=function(t,r){var n=t.x,a=t.y,o=r.x,i=r.y;return{x:Math.min(n,o),y:Math.min(a,i),width:Math.abs(o-n),height:Math.abs(i-a)}},lK=function(t){var r=t.x1,n=t.y1,a=t.x2,o=t.y2;return ZP({x:r,y:n},{x:a,y:o})},QP=function(){function e(t){oK(this,e),this.scale=t}return iK(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,o=n.position;if(r!==void 0){if(o)switch(o){case"start":return this.scale(r);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(r)+s}default:return this.scale(r)}if(a){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],o=n[n.length-1];return a<=o?r>=a&&r<=o:r>=o&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();Wh(QP,"EPS",1e-4);var Nv=function(t){var r=Object.keys(t).reduce(function(n,a){return ha(ha({},n),{},Wh({},a,QP.create(t[a])))},{});return ha(ha({},r),{},{apply:function(a){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=o.bandAware,s=o.position;return NX(a,function(l,c){return r[c].apply(l,{bandAware:i,position:s})})},isInRange:function(a){return VP(a,function(o,i){return r[i].isInRange(o)})}})};function cK(e){return(e%180+180)%180}var uK=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=cK(a),i=o*Math.PI/180,s=Math.atan(n/r),l=i>s&&i<Math.PI-s?n/Math.sin(i):r/Math.cos(i);return Math.abs(l)},fK=Go,dK=cu,hK=Nh;function pK(e){return function(t,r,n){var a=Object(t);if(!dK(t)){var o=fK(r);t=hK(t),r=function(s){return o(a[s],s,a)}}var i=e(t,r,n);return i>-1?a[o?t[i]:i]:void 0}}var gK=pK,mK=UP;function yK(e){var t=mK(e),r=t%1;return t===t?r?t-r:t:0}var vK=yK,xK=sO,bK=Go,wK=vK,kK=Math.max;function SK(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:wK(r);return a<0&&(a=kK(n+a,0)),xK(e,bK(t),a)}var jK=SK,OK=gK,PK=jK,_K=OK(PK),NK=_K;const AK=Et(NK);var MK=pT(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),Av=O.createContext(void 0),Mv=O.createContext(void 0),JP=O.createContext(void 0),e_=O.createContext({}),t_=O.createContext(void 0),r_=O.createContext(0),n_=O.createContext(0),u2=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,o=r.offset,i=t.clipPathId,s=t.children,l=t.width,c=t.height,f=MK(o);return M.createElement(Av.Provider,{value:n},M.createElement(Mv.Provider,{value:a},M.createElement(e_.Provider,{value:o},M.createElement(JP.Provider,{value:f},M.createElement(t_.Provider,{value:i},M.createElement(r_.Provider,{value:c},M.createElement(n_.Provider,{value:l},s)))))))},CK=function(){return O.useContext(t_)},a_=function(t){var r=O.useContext(Av);r==null&&Ni();var n=r[t];return n==null&&Ni(),n},EK=function(){var t=O.useContext(Av);return ko(t)},TK=function(){var t=O.useContext(Mv),r=AK(t,function(n){return VP(n.domain,Number.isFinite)});return r||ko(t)},o_=function(t){var r=O.useContext(Mv);r==null&&Ni();var n=r[t];return n==null&&Ni(),n},$K=function(){var t=O.useContext(JP);return t},DK=function(){return O.useContext(e_)},Cv=function(){return O.useContext(n_)},Ev=function(){return O.useContext(r_)};function Ls(e){"@babel/helpers - typeof";return Ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ls(e)}function RK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LK(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,s_(n.key),n)}}function IK(e,t,r){return t&&LK(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function BK(e,t,r){return t=Ed(t),FK(e,i_()?Reflect.construct(t,r||[],Ed(e).constructor):t.apply(e,r))}function FK(e,t){if(t&&(Ls(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zK(e)}function zK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i_=function(){return!!e})()}function Ed(e){return Ed=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ed(e)}function UK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pm(e,t)}function pm(e,t){return pm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},pm(e,t)}function f2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function d2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f2(Object(r),!0).forEach(function(n){Tv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tv(e,t,r){return t=s_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s_(e){var t=WK(e,"string");return Ls(t)=="symbol"?t:t+""}function WK(e,t){if(Ls(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ls(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function GK(e,t){return KK(e)||XK(e,t)||VK(e,t)||HK()}function HK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VK(e,t){if(e){if(typeof e=="string")return h2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h2(e,t)}}function h2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function XK(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function KK(e){if(Array.isArray(e))return e}function gm(){return gm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gm.apply(this,arguments)}var YK=function(t,r){var n;return M.isValidElement(t)?n=M.cloneElement(t,r):We(t)?n=t(r):n=M.createElement("line",gm({},r,{className:"recharts-reference-line-line"})),n},qK=function(t,r,n,a,o,i,s,l,c){var f=o.x,d=o.y,h=o.width,p=o.height;if(n){var m=c.y,v=t.y.apply(m,{position:i});if(La(c,"discard")&&!t.y.isInRange(v))return null;var x=[{x:f+h,y:v},{x:f,y:v}];return l==="left"?x.reverse():x}if(r){var y=c.x,g=t.x.apply(y,{position:i});if(La(c,"discard")&&!t.x.isInRange(g))return null;var b=[{x:g,y:d+p},{x:g,y:d}];return s==="top"?b.reverse():b}if(a){var S=c.segment,w=S.map(function(k){return t.apply(k,{position:i})});return La(c,"discard")&&bX(w,function(k){return!t.isInRange(k)})?null:w}return null};function ZK(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,o=e.yAxisId,i=e.shape,s=e.className,l=e.alwaysShow,c=CK(),f=a_(a),d=o_(o),h=$K();if(!c||!h)return null;Za(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=Nv({x:f.scale,y:d.scale}),m=_r(t),v=_r(r),x=n&&n.length===2,y=qK(p,m,v,x,h,e.position,f.orientation,d.orientation,e);if(!y)return null;var g=GK(y,2),b=g[0],S=b.x,w=b.y,k=g[1],j=k.x,P=k.y,_=La(e,"hidden")?"url(#".concat(c,")"):void 0,A=d2(d2({clipPath:_},ze(e,!0)),{},{x1:S,y1:w,x2:j,y2:P});return M.createElement(lt,{className:Qe("recharts-reference-line",s)},YK(i,A),nn.renderCallByParent(e,lK({x1:S,y1:w,x2:j,y2:P})))}var fi=function(e){function t(){return RK(this,t),BK(this,t,arguments)}return UK(t,e),IK(t,[{key:"render",value:function(){return M.createElement(ZK,this.props)}}])}(M.Component);Tv(fi,"displayName","ReferenceLine");Tv(fi,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function mm(){return mm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mm.apply(this,arguments)}function Is(e){"@babel/helpers - typeof";return Is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Is(e)}function p2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function g2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p2(Object(r),!0).forEach(function(n){Gh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JK(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c_(n.key),n)}}function eY(e,t,r){return t&&JK(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function tY(e,t,r){return t=Td(t),rY(e,l_()?Reflect.construct(t,r||[],Td(e).constructor):t.apply(e,r))}function rY(e,t){if(t&&(Is(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nY(e)}function nY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l_=function(){return!!e})()}function Td(e){return Td=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Td(e)}function aY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ym(e,t)}function ym(e,t){return ym=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ym(e,t)}function Gh(e,t,r){return t=c_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c_(e){var t=oY(e,"string");return Is(t)=="symbol"?t:t+""}function oY(e,t){if(Is(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Is(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var iY=function(t){var r=t.x,n=t.y,a=t.xAxis,o=t.yAxis,i=Nv({x:a.scale,y:o.scale}),s=i.apply({x:r,y:n},{bandAware:!0});return La(t,"discard")&&!i.isInRange(s)?null:s},Hh=function(e){function t(){return QK(this,t),tY(this,t,arguments)}return aY(t,e),eY(t,[{key:"render",value:function(){var n=this.props,a=n.x,o=n.y,i=n.r,s=n.alwaysShow,l=n.clipPathId,c=_r(a),f=_r(o);if(Za(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!f)return null;var d=iY(this.props);if(!d)return null;var h=d.x,p=d.y,m=this.props,v=m.shape,x=m.className,y=La(this.props,"hidden")?"url(#".concat(l,")"):void 0,g=g2(g2({clipPath:y},ze(this.props,!0)),{},{cx:h,cy:p});return M.createElement(lt,{className:Qe("recharts-reference-dot",x)},t.renderDot(v,g),nn.renderCallByParent(this.props,{x:h-i,y:p-i,width:2*i,height:2*i}))}}])}(M.Component);Gh(Hh,"displayName","ReferenceDot");Gh(Hh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Gh(Hh,"renderDot",function(e,t){var r;return M.isValidElement(e)?r=M.cloneElement(e,t):We(e)?r=e(t):r=M.createElement(Fh,mm({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function vm(){return vm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vm.apply(this,arguments)}function Bs(e){"@babel/helpers - typeof";return Bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bs(e)}function m2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function y2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m2(Object(r),!0).forEach(function(n){Vh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f_(n.key),n)}}function cY(e,t,r){return t&&lY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function uY(e,t,r){return t=$d(t),fY(e,u_()?Reflect.construct(t,r||[],$d(e).constructor):t.apply(e,r))}function fY(e,t){if(t&&(Bs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dY(e)}function dY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u_=function(){return!!e})()}function $d(e){return $d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$d(e)}function hY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xm(e,t)}function xm(e,t){return xm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},xm(e,t)}function Vh(e,t,r){return t=f_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f_(e){var t=pY(e,"string");return Bs(t)=="symbol"?t:t+""}function pY(e,t){if(Bs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var gY=function(t,r,n,a,o){var i=o.x1,s=o.x2,l=o.y1,c=o.y2,f=o.xAxis,d=o.yAxis;if(!f||!d)return null;var h=Nv({x:f.scale,y:d.scale}),p={x:t?h.x.apply(i,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},m={x:r?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(c,{position:"end"}):h.y.rangeMax};return La(o,"discard")&&(!h.isInRange(p)||!h.isInRange(m))?null:ZP(p,m)},gu=function(e){function t(){return sY(this,t),uY(this,t,arguments)}return hY(t,e),cY(t,[{key:"render",value:function(){var n=this.props,a=n.x1,o=n.x2,i=n.y1,s=n.y2,l=n.className,c=n.alwaysShow,f=n.clipPathId;Za(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=_r(a),h=_r(o),p=_r(i),m=_r(s),v=this.props.shape;if(!d&&!h&&!p&&!m&&!v)return null;var x=gY(d,h,p,m,this.props);if(!x&&!v)return null;var y=La(this.props,"hidden")?"url(#".concat(f,")"):void 0;return M.createElement(lt,{className:Qe("recharts-reference-area",l)},t.renderRect(v,y2(y2({clipPath:y},ze(this.props,!0)),x)),nn.renderCallByParent(this.props,x))}}])}(M.Component);Vh(gu,"displayName","ReferenceArea");Vh(gu,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Vh(gu,"renderRect",function(e,t){var r;return M.isValidElement(e)?r=M.cloneElement(e,t):We(e)?r=e(t):r=M.createElement(Pv,vm({},t,{className:"recharts-reference-area-rect"})),r});function d_(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function mY(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return uK(n,r)}function yY(e,t,r){var n=r==="width",a=e.x,o=e.y,i=e.width,s=e.height;return t===1?{start:n?a:o,end:n?a+i:o+s}:{start:n?a+i:o+s,end:n?a:o}}function Dd(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var o=r();return e*(t-e*o/2-n)>=0&&e*(t+e*o/2-a)<=0}function vY(e,t){return d_(e,t+1)}function xY(e,t,r,n,a){for(var o=(n||[]).slice(),i=t.start,s=t.end,l=0,c=1,f=i,d=function(){var m=n==null?void 0:n[l];if(m===void 0)return{v:d_(n,c)};var v=l,x,y=function(){return x===void 0&&(x=r(m,v)),x},g=m.coordinate,b=l===0||Dd(e,g,y,f,s);b||(l=0,f=i,c+=1),b&&(f=g+e*(y()/2+a),l+=c)},h;c<=o.length;)if(h=d(),h)return h.v;return[]}function eu(e){"@babel/helpers - typeof";return eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eu(e)}function v2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v2(Object(r),!0).forEach(function(n){bY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bY(e,t,r){return t=wY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wY(e){var t=kY(e,"string");return eu(t)=="symbol"?t:t+""}function kY(e,t){if(eu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(eu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SY(e,t,r,n,a){for(var o=(n||[]).slice(),i=o.length,s=t.start,l=t.end,c=function(h){var p=o[h],m,v=function(){return m===void 0&&(m=r(p,h)),m};if(h===i-1){var x=e*(p.coordinate+e*v()/2-l);o[h]=p=tn(tn({},p),{},{tickCoord:x>0?p.coordinate-x*e:p.coordinate})}else o[h]=p=tn(tn({},p),{},{tickCoord:p.coordinate});var y=Dd(e,p.tickCoord,v,s,l);y&&(l=p.tickCoord-e*(v()/2+a),o[h]=tn(tn({},p),{},{isShow:!0}))},f=i-1;f>=0;f--)c(f);return o}function jY(e,t,r,n,a,o){var i=(n||[]).slice(),s=i.length,l=t.start,c=t.end;if(o){var f=n[s-1],d=r(f,s-1),h=e*(f.coordinate+e*d/2-c);i[s-1]=f=tn(tn({},f),{},{tickCoord:h>0?f.coordinate-h*e:f.coordinate});var p=Dd(e,f.tickCoord,function(){return d},l,c);p&&(c=f.tickCoord-e*(d/2+a),i[s-1]=tn(tn({},f),{},{isShow:!0}))}for(var m=o?s-1:s,v=function(g){var b=i[g],S,w=function(){return S===void 0&&(S=r(b,g)),S};if(g===0){var k=e*(b.coordinate-e*w()/2-l);i[g]=b=tn(tn({},b),{},{tickCoord:k<0?b.coordinate-k*e:b.coordinate})}else i[g]=b=tn(tn({},b),{},{tickCoord:b.coordinate});var j=Dd(e,b.tickCoord,w,l,c);j&&(l=b.tickCoord+e*(w()/2+a),i[g]=tn(tn({},b),{},{isShow:!0}))},x=0;x<m;x++)v(x);return i}function $v(e,t,r){var n=e.tick,a=e.ticks,o=e.viewBox,i=e.minTickGap,s=e.orientation,l=e.interval,c=e.tickFormatter,f=e.unit,d=e.angle;if(!a||!a.length||!n)return[];if(se(l)||Ho.isSsr)return vY(a,typeof l=="number"&&se(l)?l:0);var h=[],p=s==="top"||s==="bottom"?"width":"height",m=f&&p==="width"?ql(f,{fontSize:t,letterSpacing:r}):{width:0,height:0},v=function(b,S){var w=We(c)?c(b.value,S):b.value;return p==="width"?mY(ql(w,{fontSize:t,letterSpacing:r}),m,d):ql(w,{fontSize:t,letterSpacing:r})[p]},x=a.length>=2?ya(a[1].coordinate-a[0].coordinate):1,y=yY(o,x,p);return l==="equidistantPreserveStart"?xY(x,y,v,a,i):(l==="preserveStart"||l==="preserveStartEnd"?h=jY(x,y,v,a,i,l==="preserveStartEnd"):h=SY(x,y,v,a,i),h.filter(function(g){return g.isShow}))}var OY=["viewBox"],PY=["viewBox"],_Y=["ticks"];function Fs(e){"@babel/helpers - typeof";return Fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fs(e)}function as(){return as=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},as.apply(this,arguments)}function x2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x2(Object(r),!0).forEach(function(n){Dv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function n0(e,t){if(e==null)return{};var r=NY(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function NY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function AY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p_(n.key),n)}}function MY(e,t,r){return t&&b2(e.prototype,t),r&&b2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function CY(e,t,r){return t=Rd(t),EY(e,h_()?Reflect.construct(t,r||[],Rd(e).constructor):t.apply(e,r))}function EY(e,t){if(t&&(Fs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TY(e)}function TY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h_=function(){return!!e})()}function Rd(e){return Rd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rd(e)}function $Y(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bm(e,t)}function bm(e,t){return bm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},bm(e,t)}function Dv(e,t,r){return t=p_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p_(e){var t=DY(e,"string");return Fs(t)=="symbol"?t:t+""}function DY(e,t){if(Fs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var dl=function(e){function t(r){var n;return AY(this,t),n=CY(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return $Y(t,e),MY(t,[{key:"shouldComponentUpdate",value:function(n,a){var o=n.viewBox,i=n0(n,OY),s=this.props,l=s.viewBox,c=n0(s,PY);return!ds(o,l)||!ds(i,c)||!ds(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,o=a.x,i=a.y,s=a.width,l=a.height,c=a.orientation,f=a.tickSize,d=a.mirror,h=a.tickMargin,p,m,v,x,y,g,b=d?-1:1,S=n.tickSize||f,w=se(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":p=m=n.coordinate,x=i+ +!d*l,v=x-b*S,g=v-b*h,y=w;break;case"left":v=x=n.coordinate,m=o+ +!d*s,p=m-b*S,y=p-b*h,g=w;break;case"right":v=x=n.coordinate,m=o+ +d*s,p=m+b*S,y=p+b*h,g=w;break;default:p=m=n.coordinate,x=i+ +d*l,v=x+b*S,g=v+b*h,y=w;break}return{line:{x1:p,y1:v,x2:m,y2:x},tick:{x:y,y:g}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,o=n.mirror,i;switch(a){case"left":i=o?"start":"end";break;case"right":i=o?"end":"start";break;default:i="middle";break}return i}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,o=n.mirror,i="end";switch(a){case"left":case"right":i="middle";break;case"top":i=o?"start":"end";break;default:i=o?"end":"start";break}return i}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,o=n.y,i=n.width,s=n.height,l=n.orientation,c=n.mirror,f=n.axisLine,d=Sr(Sr(Sr({},ze(this.props,!1)),ze(f,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);d=Sr(Sr({},d),{},{x1:a,y1:o+h*s,x2:a+i,y2:o+h*s})}else{var p=+(l==="left"&&!c||l==="right"&&c);d=Sr(Sr({},d),{},{x1:a+p*i,y1:o,x2:a+p*i,y2:o+s})}return M.createElement("line",as({},d,{className:Qe("recharts-cartesian-axis-line",na(f,"className"))}))}},{key:"renderTicks",value:function(n,a,o){var i=this,s=this.props,l=s.tickLine,c=s.stroke,f=s.tick,d=s.tickFormatter,h=s.unit,p=$v(Sr(Sr({},this.props),{},{ticks:n}),a,o),m=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),x=ze(this.props,!1),y=ze(f,!1),g=Sr(Sr({},x),{},{fill:"none"},ze(l,!1)),b=p.map(function(S,w){var k=i.getTickLineCoord(S),j=k.line,P=k.tick,_=Sr(Sr(Sr(Sr({textAnchor:m,verticalAnchor:v},x),{},{stroke:"none",fill:c},y),P),{},{index:w,payload:S,visibleTicksCount:p.length,tickFormatter:d});return M.createElement(lt,as({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},wc(i.props,S,w)),l&&M.createElement("line",as({},g,j,{className:Qe("recharts-cartesian-axis-tick-line",na(l,"className"))})),f&&t.renderTickItem(f,_,"".concat(We(d)?d(S.value,w):S.value).concat(h||"")))});return M.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var n=this,a=this.props,o=a.axisLine,i=a.width,s=a.height,l=a.ticksGenerator,c=a.className,f=a.hide;if(f)return null;var d=this.props,h=d.ticks,p=n0(d,_Y),m=h;return We(l)&&(m=h&&h.length>0?l(this.props):l(p)),i<=0||s<=0||!m||!m.length?null:M.createElement(lt,{className:Qe("recharts-cartesian-axis",c),ref:function(x){n.layerReference=x}},o&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),nn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,o){var i,s=Qe(a.className,"recharts-cartesian-axis-tick-value");return M.isValidElement(n)?i=M.cloneElement(n,Sr(Sr({},a),{},{className:s})):We(n)?i=n(Sr(Sr({},a),{},{className:s})):i=M.createElement(nd,as({},a,{className:"recharts-cartesian-axis-tick-value"}),o),i}}])}(O.Component);Dv(dl,"displayName","CartesianAxis");Dv(dl,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var RY=["x1","y1","x2","y2","key"],LY=["offset"];function Ai(e){"@babel/helpers - typeof";return Ai=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ai(e)}function w2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function an(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w2(Object(r),!0).forEach(function(n){IY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IY(e,t,r){return t=BY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BY(e){var t=FY(e,"string");return Ai(t)=="symbol"?t:t+""}function FY(e,t){if(Ai(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ai(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function di(){return di=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},di.apply(this,arguments)}function k2(e,t){if(e==null)return{};var r=zY(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var UY=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,o=t.y,i=t.width,s=t.height,l=t.ry;return M.createElement("rect",{x:a,y:o,ry:l,width:i,height:s,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function g_(e,t){var r;if(M.isValidElement(e))r=M.cloneElement(e,t);else if(We(e))r=e(t);else{var n=t.x1,a=t.y1,o=t.x2,i=t.y2,s=t.key,l=k2(t,RY),c=ze(l,!1);c.offset;var f=k2(c,LY);r=M.createElement("line",di({},f,{x1:n,y1:a,x2:o,y2:i,fill:"none",key:s}))}return r}function WY(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,o=e.horizontalPoints;if(!a||!o||!o.length)return null;var i=o.map(function(s,l){var c=an(an({},e),{},{x1:t,y1:s,x2:t+r,y2:s,key:"line-".concat(l),index:l});return g_(a,c)});return M.createElement("g",{className:"recharts-cartesian-grid-horizontal"},i)}function GY(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,o=e.verticalPoints;if(!a||!o||!o.length)return null;var i=o.map(function(s,l){var c=an(an({},e),{},{x1:s,y1:t,x2:s,y2:t+r,key:"line-".concat(l),index:l});return g_(a,c)});return M.createElement("g",{className:"recharts-cartesian-grid-vertical"},i)}function HY(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,o=e.width,i=e.height,s=e.horizontalPoints,l=e.horizontal,c=l===void 0?!0:l;if(!c||!t||!t.length)return null;var f=s.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==f[0]&&f.unshift(0);var d=f.map(function(h,p){var m=!f[p+1],v=m?a+i-h:f[p+1]-h;if(v<=0)return null;var x=p%t.length;return M.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:v,width:o,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function VY(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,o=e.x,i=e.y,s=e.width,l=e.height,c=e.verticalPoints;if(!r||!n||!n.length)return null;var f=c.map(function(h){return Math.round(h+o-o)}).sort(function(h,p){return h-p});o!==f[0]&&f.unshift(0);var d=f.map(function(h,p){var m=!f[p+1],v=m?o+s-h:f[p+1]-h;if(v<=0)return null;var x=p%n.length;return M.createElement("rect",{key:"react-".concat(p),x:h,y:i,width:v,height:l,stroke:"none",fill:n[x],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var XY=function(t,r){var n=t.xAxis,a=t.width,o=t.height,i=t.offset;return OP($v(an(an(an({},dl.defaultProps),n),{},{ticks:Ka(n,!0),viewBox:{x:0,y:0,width:a,height:o}})),i.left,i.left+i.width,r)},KY=function(t,r){var n=t.yAxis,a=t.width,o=t.height,i=t.offset;return OP($v(an(an(an({},dl.defaultProps),n),{},{ticks:Ka(n,!0),viewBox:{x:0,y:0,width:a,height:o}})),i.top,i.top+i.height,r)},Ui={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Mi(e){var t,r,n,a,o,i,s=Cv(),l=Ev(),c=DK(),f=an(an({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Ui.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Ui.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Ui.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Ui.horizontalFill,vertical:(o=e.vertical)!==null&&o!==void 0?o:Ui.vertical,verticalFill:(i=e.verticalFill)!==null&&i!==void 0?i:Ui.verticalFill,x:se(e.x)?e.x:c.left,y:se(e.y)?e.y:c.top,width:se(e.width)?e.width:c.width,height:se(e.height)?e.height:c.height}),d=f.x,h=f.y,p=f.width,m=f.height,v=f.syncWithTicks,x=f.horizontalValues,y=f.verticalValues,g=EK(),b=TK();if(!se(p)||p<=0||!se(m)||m<=0||!se(d)||d!==+d||!se(h)||h!==+h)return null;var S=f.verticalCoordinatesGenerator||XY,w=f.horizontalCoordinatesGenerator||KY,k=f.horizontalPoints,j=f.verticalPoints;if((!k||!k.length)&&We(w)){var P=x&&x.length,_=w({yAxis:b?an(an({},b),{},{ticks:P?x:b.ticks}):void 0,width:s,height:l,offset:c},P?!0:v);Za(Array.isArray(_),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ai(_),"]")),Array.isArray(_)&&(k=_)}if((!j||!j.length)&&We(S)){var A=y&&y.length,N=S({xAxis:g?an(an({},g),{},{ticks:A?y:g.ticks}):void 0,width:s,height:l,offset:c},A?!0:v);Za(Array.isArray(N),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ai(N),"]")),Array.isArray(N)&&(j=N)}return M.createElement("g",{className:"recharts-cartesian-grid"},M.createElement(UY,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),M.createElement(WY,di({},f,{offset:c,horizontalPoints:k,xAxis:g,yAxis:b})),M.createElement(GY,di({},f,{offset:c,verticalPoints:j,xAxis:g,yAxis:b})),M.createElement(HY,di({},f,{horizontalPoints:k})),M.createElement(VY,di({},f,{verticalPoints:j})))}Mi.displayName="CartesianGrid";var YY=["type","layout","connectNulls","ref"],qY=["key"];function zs(e){"@babel/helpers - typeof";return zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zs(e)}function S2(e,t){if(e==null)return{};var r=ZY(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ZY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ec(){return ec=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ec.apply(this,arguments)}function j2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j2(Object(r),!0).forEach(function(n){pa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wi(e){return tq(e)||eq(e)||JY(e)||QY()}function QY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JY(e,t){if(e){if(typeof e=="string")return wm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wm(e,t)}}function eq(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tq(e){if(Array.isArray(e))return wm(e)}function wm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,y_(n.key),n)}}function nq(e,t,r){return t&&O2(e.prototype,t),r&&O2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function aq(e,t,r){return t=Ld(t),oq(e,m_()?Reflect.construct(t,r||[],Ld(e).constructor):t.apply(e,r))}function oq(e,t){if(t&&(zs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iq(e)}function iq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m_=function(){return!!e})()}function Ld(e){return Ld=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ld(e)}function sq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&km(e,t)}function km(e,t){return km=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},km(e,t)}function pa(e,t,r){return t=y_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y_(e){var t=lq(e,"string");return zs(t)=="symbol"?t:t+""}function lq(e,t){if(zs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var zr=function(e){function t(){var r;rq(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=aq(this,t,[].concat(a)),pa(r,"state",{isAnimationFinished:!0,totalLength:0}),pa(r,"generateSimpleStrokeDasharray",function(i,s){return"".concat(s,"px ").concat(i-s,"px")}),pa(r,"getStrokeDasharray",function(i,s,l){var c=l.reduce(function(y,g){return y+g});if(!c)return r.generateSimpleStrokeDasharray(s,i);for(var f=Math.floor(i/c),d=i%c,h=s-i,p=[],m=0,v=0;m<l.length;v+=l[m],++m)if(v+l[m]>d){p=[].concat(Wi(l.slice(0,m)),[d-v]);break}var x=p.length%2===0?[0,h]:[h];return[].concat(Wi(t.repeat(l,f)),Wi(p),x).map(function(y){return"".concat(y,"px")}).join(", ")}),pa(r,"id",$i("recharts-line-")),pa(r,"pathRef",function(i){r.mainCurve=i}),pa(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),pa(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return sq(t,e),nq(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,i=o.points,s=o.xAxis,l=o.yAxis,c=o.layout,f=o.children,d=Mn(f,fl);if(!d)return null;var h=function(v,x){return{x:v.x,y:v.y,value:v.value,errorVal:Nr(v.payload,x)}},p={clipPath:n?"url(#clipPath-".concat(a,")"):null};return M.createElement(lt,p,d.map(function(m){return M.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:i,xAxis:s,yAxis:l,layout:c,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,o){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,c=s.points,f=s.dataKey,d=ze(this.props,!1),h=ze(l,!0),p=c.map(function(v,x){var y=Rn(Rn(Rn({key:"dot-".concat(x),r:3},d),h),{},{index:x,cx:v.x,cy:v.y,value:v.value,dataKey:f,payload:v.payload,points:c});return t.renderDotItem(l,y)}),m={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(o,")"):null};return M.createElement(lt,ec({className:"recharts-line-dots",key:"dots"},m),p)}},{key:"renderCurveStatically",value:function(n,a,o,i){var s=this.props,l=s.type,c=s.layout,f=s.connectNulls;s.ref;var d=S2(s,YY),h=Rn(Rn(Rn({},ze(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(o,")"):null,points:n},i),{},{type:l,layout:c,connectNulls:f});return M.createElement(vi,ec({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var o=this,i=this.props,s=i.points,l=i.strokeDasharray,c=i.isAnimationActive,f=i.animationBegin,d=i.animationDuration,h=i.animationEasing,p=i.animationId,m=i.animateNewValues,v=i.width,x=i.height,y=this.state,g=y.prevPoints,b=y.totalLength;return M.createElement(wa,{begin:f,duration:d,isActive:c,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var w=S.t;if(g){var k=g.length/s.length,j=s.map(function(C,F){var L=Math.floor(F*k);if(g[L]){var I=g[L],U=pr(I.x,C.x),B=pr(I.y,C.y);return Rn(Rn({},C),{},{x:U(w),y:B(w)})}if(m){var R=pr(v*2,C.x),$=pr(x/2,C.y);return Rn(Rn({},C),{},{x:R(w),y:$(w)})}return Rn(Rn({},C),{},{x:C.x,y:C.y})});return o.renderCurveStatically(j,n,a)}var P=pr(0,b),_=P(w),A;if(l){var N="".concat(l).split(/[,\s]+/gim).map(function(C){return parseFloat(C)});A=o.getStrokeDasharray(_,b,N)}else A=o.generateSimpleStrokeDasharray(b,_);return o.renderCurveStatically(s,n,a,{strokeDasharray:A})})}},{key:"renderCurve",value:function(n,a){var o=this.props,i=o.points,s=o.isAnimationActive,l=this.state,c=l.prevPoints,f=l.totalLength;return s&&i&&i.length&&(!c&&f>0||!Pi(c,i))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(i,n,a)}},{key:"render",value:function(){var n,a=this.props,o=a.hide,i=a.dot,s=a.points,l=a.className,c=a.xAxis,f=a.yAxis,d=a.top,h=a.left,p=a.width,m=a.height,v=a.isAnimationActive,x=a.id;if(o||!s||!s.length)return null;var y=this.state.isAnimationFinished,g=s.length===1,b=Qe("recharts-line",l),S=c&&c.allowDataOverflow,w=f&&f.allowDataOverflow,k=S||w,j=Be(x)?this.id:x,P=(n=ze(i,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},_=P.r,A=_===void 0?3:_,N=P.strokeWidth,C=N===void 0?2:N,F=vj(i)?i:{},L=F.clipDot,I=L===void 0?!0:L,U=A*2+C;return M.createElement(lt,{className:b},S||w?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(j)},M.createElement("rect",{x:S?h:h-p/2,y:w?d:d-m/2,width:S?p:p*2,height:w?m:m*2})),!I&&M.createElement("clipPath",{id:"clipPath-dots-".concat(j)},M.createElement("rect",{x:h-U/2,y:d-U/2,width:p+U,height:m+U}))):null,!g&&this.renderCurve(k,j),this.renderErrorBar(k,j),(g||i)&&this.renderDots(k,I,j),(!v||y)&&Ra.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var o=n.length%2!==0?[].concat(Wi(n),[0]):n,i=[],s=0;s<a;++s)i=[].concat(Wi(i),Wi(o));return i}},{key:"renderDotItem",value:function(n,a){var o;if(M.isValidElement(n))o=M.cloneElement(n,a);else if(We(n))o=n(a);else{var i=a.key,s=S2(a,qY),l=Qe("recharts-line-dot",typeof n!="boolean"?n.className:"");o=M.createElement(Fh,ec({key:i},s,{className:l}))}return o}}])}(O.PureComponent);pa(zr,"displayName","Line");pa(zr,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Ho.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});pa(zr,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,o=e.yAxisTicks,i=e.dataKey,s=e.bandSize,l=e.displayedData,c=e.offset,f=t.layout,d=l.map(function(h,p){var m=Nr(h,i);return f==="horizontal"?{x:Es({axis:r,ticks:a,bandSize:s,entry:h,index:p}),y:Be(m)?null:n.scale(m),value:m,payload:h}:{x:Be(m)?null:r.scale(m),y:Es({axis:n,ticks:o,bandSize:s,entry:h,index:p}),value:m,payload:h}});return Rn({points:d,layout:f},c)});var cq=["layout","type","stroke","connectNulls","isRange","ref"],uq=["key"],v_;function Us(e){"@babel/helpers - typeof";return Us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Us(e)}function x_(e,t){if(e==null)return{};var r=fq(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function hi(){return hi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hi.apply(this,arguments)}function P2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P2(Object(r),!0).forEach(function(n){Ea(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,w_(n.key),n)}}function hq(e,t,r){return t&&_2(e.prototype,t),r&&_2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function pq(e,t,r){return t=Id(t),gq(e,b_()?Reflect.construct(t,r||[],Id(e).constructor):t.apply(e,r))}function gq(e,t){if(t&&(Us(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mq(e)}function mq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b_=function(){return!!e})()}function Id(e){return Id=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Id(e)}function yq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sm(e,t)}function Sm(e,t){return Sm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Sm(e,t)}function Ea(e,t,r){return t=w_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w_(e){var t=vq(e,"string");return Us(t)=="symbol"?t:t+""}function vq(e,t){if(Us(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Us(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ta=function(e){function t(){var r;dq(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=pq(this,t,[].concat(a)),Ea(r,"state",{isAnimationFinished:!0}),Ea(r,"id",$i("recharts-area-")),Ea(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),We(i)&&i()}),Ea(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),We(i)&&i()}),r}return yq(t,e),hq(t,[{key:"renderDots",value:function(n,a,o){var i=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(i&&!s)return null;var l=this.props,c=l.dot,f=l.points,d=l.dataKey,h=ze(this.props,!1),p=ze(c,!0),m=f.map(function(x,y){var g=mo(mo(mo({key:"dot-".concat(y),r:3},h),p),{},{index:y,cx:x.x,cy:x.y,dataKey:d,value:x.value,payload:x.payload,points:f});return t.renderDotItem(c,g)}),v={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(o,")"):null};return M.createElement(lt,hi({className:"recharts-area-dots"},v),m)}},{key:"renderHorizontalRect",value:function(n){var a=this.props,o=a.baseLine,i=a.points,s=a.strokeWidth,l=i[0].x,c=i[i.length-1].x,f=n*Math.abs(l-c),d=Oo(i.map(function(h){return h.y||0}));return se(o)&&typeof o=="number"?d=Math.max(o,d):o&&Array.isArray(o)&&o.length&&(d=Math.max(Oo(o.map(function(h){return h.y||0})),d)),se(d)?M.createElement("rect",{x:l<c?l:l-f,y:0,width:f,height:Math.floor(d+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,o=a.baseLine,i=a.points,s=a.strokeWidth,l=i[0].y,c=i[i.length-1].y,f=n*Math.abs(l-c),d=Oo(i.map(function(h){return h.x||0}));return se(o)&&typeof o=="number"?d=Math.max(o,d):o&&Array.isArray(o)&&o.length&&(d=Math.max(Oo(o.map(function(h){return h.x||0})),d)),se(d)?M.createElement("rect",{x:0,y:l<c?l:l-f,width:d+(s?parseInt("".concat(s),10):1),height:Math.floor(f)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,o,i){var s=this.props,l=s.layout,c=s.type,f=s.stroke,d=s.connectNulls,h=s.isRange;s.ref;var p=x_(s,cq);return M.createElement(lt,{clipPath:o?"url(#clipPath-".concat(i,")"):null},M.createElement(vi,hi({},ze(p,!0),{points:n,connectNulls:d,type:c,baseLine:a,layout:l,stroke:"none",className:"recharts-area-area"})),f!=="none"&&M.createElement(vi,hi({},ze(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:n})),f!=="none"&&h&&M.createElement(vi,hi({},ze(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(n,a){var o=this,i=this.props,s=i.points,l=i.baseLine,c=i.isAnimationActive,f=i.animationBegin,d=i.animationDuration,h=i.animationEasing,p=i.animationId,m=this.state,v=m.prevPoints,x=m.prevBaseLine;return M.createElement(wa,{begin:f,duration:d,isActive:c,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var g=y.t;if(v){var b=v.length/s.length,S=s.map(function(P,_){var A=Math.floor(_*b);if(v[A]){var N=v[A],C=pr(N.x,P.x),F=pr(N.y,P.y);return mo(mo({},P),{},{x:C(g),y:F(g)})}return P}),w;if(se(l)&&typeof l=="number"){var k=pr(x,l);w=k(g)}else if(Be(l)||al(l)){var j=pr(x,0);w=j(g)}else w=l.map(function(P,_){var A=Math.floor(_*b);if(x[A]){var N=x[A],C=pr(N.x,P.x),F=pr(N.y,P.y);return mo(mo({},P),{},{x:C(g),y:F(g)})}return P});return o.renderAreaStatically(S,w,n,a)}return M.createElement(lt,null,M.createElement("defs",null,M.createElement("clipPath",{id:"animationClipPath-".concat(a)},o.renderClipRect(g))),M.createElement(lt,{clipPath:"url(#animationClipPath-".concat(a,")")},o.renderAreaStatically(s,l,n,a)))})}},{key:"renderArea",value:function(n,a){var o=this.props,i=o.points,s=o.baseLine,l=o.isAnimationActive,c=this.state,f=c.prevPoints,d=c.prevBaseLine,h=c.totalLength;return l&&i&&i.length&&(!f&&h>0||!Pi(f,i)||!Pi(d,s))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(i,s,n,a)}},{key:"render",value:function(){var n,a=this.props,o=a.hide,i=a.dot,s=a.points,l=a.className,c=a.top,f=a.left,d=a.xAxis,h=a.yAxis,p=a.width,m=a.height,v=a.isAnimationActive,x=a.id;if(o||!s||!s.length)return null;var y=this.state.isAnimationFinished,g=s.length===1,b=Qe("recharts-area",l),S=d&&d.allowDataOverflow,w=h&&h.allowDataOverflow,k=S||w,j=Be(x)?this.id:x,P=(n=ze(i,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},_=P.r,A=_===void 0?3:_,N=P.strokeWidth,C=N===void 0?2:N,F=vj(i)?i:{},L=F.clipDot,I=L===void 0?!0:L,U=A*2+C;return M.createElement(lt,{className:b},S||w?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(j)},M.createElement("rect",{x:S?f:f-p/2,y:w?c:c-m/2,width:S?p:p*2,height:w?m:m*2})),!I&&M.createElement("clipPath",{id:"clipPath-dots-".concat(j)},M.createElement("rect",{x:f-U/2,y:c-U/2,width:p+U,height:m+U}))):null,g?null:this.renderArea(k,j),(i||g)&&this.renderDots(k,I,j),(!v||y)&&Ra.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(O.PureComponent);v_=ta;Ea(ta,"displayName","Area");Ea(ta,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Ho.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Ea(ta,"getBaseValue",function(e,t,r,n){var a=e.layout,o=e.baseValue,i=t.props.baseValue,s=i??o;if(se(s)&&typeof s=="number")return s;var l=a==="horizontal"?n:r,c=l.scale.domain();if(l.type==="number"){var f=Math.max(c[0],c[1]),d=Math.min(c[0],c[1]);return s==="dataMin"?d:s==="dataMax"||f<0?f:Math.max(Math.min(c[0],c[1]),0)}return s==="dataMin"?c[0]:s==="dataMax"?c[1]:c[0]});Ea(ta,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,a=e.yAxis,o=e.xAxisTicks,i=e.yAxisTicks,s=e.bandSize,l=e.dataKey,c=e.stackedData,f=e.dataStartIndex,d=e.displayedData,h=e.offset,p=t.layout,m=c&&c.length,v=v_.getBaseValue(t,r,n,a),x=p==="horizontal",y=!1,g=d.map(function(S,w){var k;m?k=c[f+w]:(k=Nr(S,l),Array.isArray(k)?y=!0:k=[v,k]);var j=k[1]==null||m&&Nr(S,l)==null;return x?{x:Es({axis:n,ticks:o,bandSize:s,entry:S,index:w}),y:j?null:a.scale(k[1]),value:k,payload:S}:{x:j?null:n.scale(k[1]),y:Es({axis:a,ticks:i,bandSize:s,entry:S,index:w}),value:k,payload:S}}),b;return m||y?b=g.map(function(S){var w=Array.isArray(S.value)?S.value[0]:null;return x?{x:S.x,y:w!=null&&S.y!=null?a.scale(w):null}:{x:w!=null?n.scale(w):null,y:S.y}}):b=x?a.scale(v):n.scale(v),mo({points:g,baseLine:b,layout:p,isRange:y},h)});Ea(ta,"renderDotItem",function(e,t){var r;if(M.isValidElement(e))r=M.cloneElement(e,t);else if(We(e))r=e(t);else{var n=Qe("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,o=x_(t,uq);r=M.createElement(Fh,hi({},o,{key:a,className:n}))}return r});function Ws(e){"@babel/helpers - typeof";return Ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ws(e)}function xq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,j_(n.key),n)}}function wq(e,t,r){return t&&bq(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function kq(e,t,r){return t=Bd(t),Sq(e,k_()?Reflect.construct(t,r||[],Bd(e).constructor):t.apply(e,r))}function Sq(e,t){if(t&&(Ws(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jq(e)}function jq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k_=function(){return!!e})()}function Bd(e){return Bd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bd(e)}function Oq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jm(e,t)}function jm(e,t){return jm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},jm(e,t)}function S_(e,t,r){return t=j_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j_(e){var t=Pq(e,"string");return Ws(t)=="symbol"?t:t+""}function Pq(e,t){if(Ws(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ws(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Xh=function(e){function t(){return xq(this,t),kq(this,t,arguments)}return Oq(t,e),wq(t,[{key:"render",value:function(){return null}}])}(O.Component);S_(Xh,"displayName","ZAxis");S_(Xh,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var _q=["option","isActive"];function tc(){return tc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tc.apply(this,arguments)}function Nq(e,t){if(e==null)return{};var r=Aq(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Aq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Mq(e){var t=e.option,r=e.isActive,n=Nq(e,_q);return typeof t=="string"?O.createElement(um,tc({option:O.createElement(_h,tc({type:t},n)),isActive:r,shapeType:"symbols"},n)):O.createElement(um,tc({option:t,isActive:r,shapeType:"symbols"},n))}function Gs(e){"@babel/helpers - typeof";return Gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gs(e)}function rc(){return rc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rc.apply(this,arguments)}function N2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N2(Object(r),!0).forEach(function(n){_o(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,P_(n.key),n)}}function Eq(e,t,r){return t&&A2(e.prototype,t),r&&A2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Tq(e,t,r){return t=Fd(t),$q(e,O_()?Reflect.construct(t,r||[],Fd(e).constructor):t.apply(e,r))}function $q(e,t){if(t&&(Gs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dq(e)}function Dq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O_=function(){return!!e})()}function Fd(e){return Fd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fd(e)}function Rq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Om(e,t)}function Om(e,t){return Om=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Om(e,t)}function _o(e,t,r){return t=P_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P_(e){var t=Lq(e,"string");return Gs(t)=="symbol"?t:t+""}function Lq(e,t){if(Gs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var hn=function(e){function t(){var r;Cq(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=Tq(this,t,[].concat(a)),_o(r,"state",{isAnimationFinished:!1}),_o(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0})}),_o(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1})}),_o(r,"id",$i("recharts-scatter-")),r}return Rq(t,e),Eq(t,[{key:"renderSymbolsStatically",value:function(n){var a=this,o=this.props,i=o.shape,s=o.activeShape,l=o.activeIndex,c=ze(this.props,!1);return n.map(function(f,d){var h=l===d,p=h?s:i,m=qn(qn({},c),f);return M.createElement(lt,rc({className:"recharts-scatter-symbol",key:"symbol-".concat(f==null?void 0:f.cx,"-").concat(f==null?void 0:f.cy,"-").concat(f==null?void 0:f.size,"-").concat(d)},wc(a.props,f,d),{role:"img"}),M.createElement(Mq,rc({option:p,isActive:h,key:"symbol-".concat(d)},m)))})}},{key:"renderSymbolsWithAnimation",value:function(){var n=this,a=this.props,o=a.points,i=a.isAnimationActive,s=a.animationBegin,l=a.animationDuration,c=a.animationEasing,f=a.animationId,d=this.state.prevPoints;return M.createElement(wa,{begin:s,duration:l,isActive:i,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var p=h.t,m=o.map(function(v,x){var y=d&&d[x];if(y){var g=pr(y.cx,v.cx),b=pr(y.cy,v.cy),S=pr(y.size,v.size);return qn(qn({},v),{},{cx:g(p),cy:b(p),size:S(p)})}var w=pr(0,v.size);return qn(qn({},v),{},{size:w(p)})});return M.createElement(lt,null,n.renderSymbolsStatically(m))})}},{key:"renderSymbols",value:function(){var n=this.props,a=n.points,o=n.isAnimationActive,i=this.state.prevPoints;return o&&a&&a.length&&(!i||!Pi(i,a))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(a)}},{key:"renderErrorBar",value:function(){var n=this.props.isAnimationActive;if(n&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,i=a.xAxis,s=a.yAxis,l=a.children,c=Mn(l,fl);return c?c.map(function(f,d){var h=f.props,p=h.direction,m=h.dataKey;return M.cloneElement(f,{key:"".concat(p,"-").concat(m,"-").concat(o[d]),data:o,xAxis:i,yAxis:s,layout:p==="x"?"vertical":"horizontal",dataPointFormatter:function(x,y){return{x:x.cx,y:x.cy,value:p==="x"?+x.node.x:+x.node.y,errorVal:Nr(x,y)}}})}):null}},{key:"renderLine",value:function(){var n=this.props,a=n.points,o=n.line,i=n.lineType,s=n.lineJointType,l=ze(this.props,!1),c=ze(o,!1),f,d;if(i==="joint")f=a.map(function(b){return{x:b.cx,y:b.cy}});else if(i==="fitting"){var h=f5(a),p=h.xmin,m=h.xmax,v=h.a,x=h.b,y=function(S){return v*S+x};f=[{x:p,y:y(p)},{x:m,y:y(m)}]}var g=qn(qn(qn({},l),{},{fill:"none",stroke:l&&l.fill},c),{},{points:f});return M.isValidElement(o)?d=M.cloneElement(o,g):We(o)?d=o(g):d=M.createElement(vi,rc({},g,{type:s})),M.createElement(lt,{className:"recharts-scatter-line",key:"recharts-scatter-line"},d)}},{key:"render",value:function(){var n=this.props,a=n.hide,o=n.points,i=n.line,s=n.className,l=n.xAxis,c=n.yAxis,f=n.left,d=n.top,h=n.width,p=n.height,m=n.id,v=n.isAnimationActive;if(a||!o||!o.length)return null;var x=this.state.isAnimationFinished,y=Qe("recharts-scatter",s),g=l&&l.allowDataOverflow,b=c&&c.allowDataOverflow,S=g||b,w=Be(m)?this.id:m;return M.createElement(lt,{className:y,clipPath:S?"url(#clipPath-".concat(w,")"):null},g||b?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(w)},M.createElement("rect",{x:g?f:f-h/2,y:b?d:d-p/2,width:g?h:h*2,height:b?p:p*2}))):null,i&&this.renderLine(),this.renderErrorBar(),M.createElement(lt,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!v||x)&&Ra.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}}])}(O.PureComponent);_o(hn,"displayName","Scatter");_o(hn,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!Ho.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});_o(hn,"getComposedData",function(e){var t=e.xAxis,r=e.yAxis,n=e.zAxis,a=e.item,o=e.displayedData,i=e.xAxisTicks,s=e.yAxisTicks,l=e.offset,c=a.props.tooltipType,f=Mn(a.props.children,ev),d=Be(t.dataKey)?a.props.dataKey:t.dataKey,h=Be(r.dataKey)?a.props.dataKey:r.dataKey,p=n&&n.dataKey,m=n?n.range:Xh.defaultProps.range,v=m&&m[0],x=t.scale.bandwidth?t.scale.bandwidth():0,y=r.scale.bandwidth?r.scale.bandwidth():0,g=o.map(function(b,S){var w=Nr(b,d),k=Nr(b,h),j=!Be(p)&&Nr(b,p)||"-",P=[{name:Be(t.dataKey)?a.props.name:t.name||t.dataKey,unit:t.unit||"",value:w,payload:b,dataKey:d,type:c},{name:Be(r.dataKey)?a.props.name:r.name||r.dataKey,unit:r.unit||"",value:k,payload:b,dataKey:h,type:c}];j!=="-"&&P.push({name:n.name||n.dataKey,unit:n.unit||"",value:j,payload:b,dataKey:p,type:c});var _=Es({axis:t,ticks:i,bandSize:x,entry:b,index:S,dataKey:d}),A=Es({axis:r,ticks:s,bandSize:y,entry:b,index:S,dataKey:h}),N=j!=="-"?n.scale(j):v,C=Math.sqrt(Math.max(N,0)/Math.PI);return qn(qn({},b),{},{cx:_,cy:A,x:_-C,y:A-C,xAxis:t,yAxis:r,zAxis:n,width:2*C,height:2*C,size:N,node:{x:w,y:k,z:j},tooltipPayload:P,tooltipPosition:{x:_,y:A},payload:b},f&&f[S]&&f[S].props)});return qn({points:g},l)});function Hs(e){"@babel/helpers - typeof";return Hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hs(e)}function Iq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,A_(n.key),n)}}function Fq(e,t,r){return t&&Bq(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zq(e,t,r){return t=zd(t),Uq(e,__()?Reflect.construct(t,r||[],zd(e).constructor):t.apply(e,r))}function Uq(e,t){if(t&&(Hs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wq(e)}function Wq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function __(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(__=function(){return!!e})()}function zd(e){return zd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zd(e)}function Gq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pm(e,t)}function Pm(e,t){return Pm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Pm(e,t)}function N_(e,t,r){return t=A_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A_(e){var t=Hq(e,"string");return Hs(t)=="symbol"?t:t+""}function Hq(e,t){if(Hs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function _m(){return _m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_m.apply(this,arguments)}function Vq(e){var t=e.xAxisId,r=Cv(),n=Ev(),a=a_(t);return a==null?null:O.createElement(dl,_m({},a,{className:Qe("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(i){return Ka(i,!0)}}))}var ka=function(e){function t(){return Iq(this,t),zq(this,t,arguments)}return Gq(t,e),Fq(t,[{key:"render",value:function(){return O.createElement(Vq,this.props)}}])}(O.Component);N_(ka,"displayName","XAxis");N_(ka,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Vs(e){"@babel/helpers - typeof";return Vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vs(e)}function Xq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,E_(n.key),n)}}function Yq(e,t,r){return t&&Kq(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function qq(e,t,r){return t=Ud(t),Zq(e,M_()?Reflect.construct(t,r||[],Ud(e).constructor):t.apply(e,r))}function Zq(e,t){if(t&&(Vs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qq(e)}function Qq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M_=function(){return!!e})()}function Ud(e){return Ud=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ud(e)}function Jq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nm(e,t)}function Nm(e,t){return Nm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Nm(e,t)}function C_(e,t,r){return t=E_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E_(e){var t=eZ(e,"string");return Vs(t)=="symbol"?t:t+""}function eZ(e,t){if(Vs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Am(){return Am=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Am.apply(this,arguments)}var tZ=function(t){var r=t.yAxisId,n=Cv(),a=Ev(),o=o_(r);return o==null?null:O.createElement(dl,Am({},o,{className:Qe("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(s){return Ka(s,!0)}}))},Sa=function(e){function t(){return Xq(this,t),qq(this,t,arguments)}return Jq(t,e),Yq(t,[{key:"render",value:function(){return O.createElement(tZ,this.props)}}])}(O.Component);C_(Sa,"displayName","YAxis");C_(Sa,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function M2(e){return oZ(e)||aZ(e)||nZ(e)||rZ()}function rZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nZ(e,t){if(e){if(typeof e=="string")return Mm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mm(e,t)}}function aZ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function oZ(e){if(Array.isArray(e))return Mm(e)}function Mm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Cm=function(t,r,n,a,o){var i=Mn(t,fi),s=Mn(t,Hh),l=[].concat(M2(i),M2(s)),c=Mn(t,gu),f="".concat(a,"Id"),d=a[0],h=r;if(l.length&&(h=l.reduce(function(v,x){if(x.props[f]===n&&La(x.props,"extendDomain")&&se(x.props[d])){var y=x.props[d];return[Math.min(v[0],y),Math.max(v[1],y)]}return v},h)),c.length){var p="".concat(d,"1"),m="".concat(d,"2");h=c.reduce(function(v,x){if(x.props[f]===n&&La(x.props,"extendDomain")&&se(x.props[p])&&se(x.props[m])){var y=x.props[p],g=x.props[m];return[Math.min(v[0],y,g),Math.max(v[1],y,g)]}return v},h)}return o&&o.length&&(h=o.reduce(function(v,x){return se(x)?[Math.min(v[0],x),Math.max(v[1],x)]:v},h)),h},T_={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(l,c,f){this.fn=l,this.context=c,this.once=f||!1}function o(l,c,f,d,h){if(typeof f!="function")throw new TypeError("The listener must be a function");var p=new a(f,d||l,h),m=r?r+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function i(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],f,d;if(this._eventsCount===0)return c;for(d in f=this._events)t.call(f,d)&&c.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(f)):c},s.prototype.listeners=function(c){var f=r?r+c:c,d=this._events[f];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,p=d.length,m=new Array(p);h<p;h++)m[h]=d[h].fn;return m},s.prototype.listenerCount=function(c){var f=r?r+c:c,d=this._events[f];return d?d.fn?1:d.length:0},s.prototype.emit=function(c,f,d,h,p,m){var v=r?r+c:c;if(!this._events[v])return!1;var x=this._events[v],y=arguments.length,g,b;if(x.fn){switch(x.once&&this.removeListener(c,x.fn,void 0,!0),y){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,f),!0;case 3:return x.fn.call(x.context,f,d),!0;case 4:return x.fn.call(x.context,f,d,h),!0;case 5:return x.fn.call(x.context,f,d,h,p),!0;case 6:return x.fn.call(x.context,f,d,h,p,m),!0}for(b=1,g=new Array(y-1);b<y;b++)g[b-1]=arguments[b];x.fn.apply(x.context,g)}else{var S=x.length,w;for(b=0;b<S;b++)switch(x[b].once&&this.removeListener(c,x[b].fn,void 0,!0),y){case 1:x[b].fn.call(x[b].context);break;case 2:x[b].fn.call(x[b].context,f);break;case 3:x[b].fn.call(x[b].context,f,d);break;case 4:x[b].fn.call(x[b].context,f,d,h);break;default:if(!g)for(w=1,g=new Array(y-1);w<y;w++)g[w-1]=arguments[w];x[b].fn.apply(x[b].context,g)}}return!0},s.prototype.on=function(c,f,d){return o(this,c,f,d,!1)},s.prototype.once=function(c,f,d){return o(this,c,f,d,!0)},s.prototype.removeListener=function(c,f,d,h){var p=r?r+c:c;if(!this._events[p])return this;if(!f)return i(this,p),this;var m=this._events[p];if(m.fn)m.fn===f&&(!h||m.once)&&(!d||m.context===d)&&i(this,p);else{for(var v=0,x=[],y=m.length;v<y;v++)(m[v].fn!==f||h&&!m[v].once||d&&m[v].context!==d)&&x.push(m[v]);x.length?this._events[p]=x.length===1?x[0]:x:i(this,p)}return this},s.prototype.removeAllListeners=function(c){var f;return c?(f=r?r+c:c,this._events[f]&&i(this,f)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s})(T_);var iZ=T_.exports;const sZ=Et(iZ);var a0=new sZ,o0="recharts.syncMouseEvents";function tu(e){"@babel/helpers - typeof";return tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tu(e)}function lZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cZ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$_(n.key),n)}}function uZ(e,t,r){return t&&cZ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function i0(e,t,r){return t=$_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $_(e){var t=fZ(e,"string");return tu(t)=="symbol"?t:t+""}function fZ(e,t){if(tu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var dZ=function(){function e(){lZ(this,e),i0(this,"activeIndex",0),i0(this,"coordinateList",[]),i0(this,"layout","horizontal")}return uZ(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,o=a===void 0?null:a,i=r.container,s=i===void 0?null:i,l=r.layout,c=l===void 0?null:l,f=r.offset,d=f===void 0?null:f,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=o??this.coordinateList)!==null&&n!==void 0?n:[],this.container=s??this.container,this.layout=c??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),o=a.x,i=a.y,s=a.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,f=((n=window)===null||n===void 0?void 0:n.scrollY)||0,d=o+l+c,h=i+this.offset.top+s/2+f;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function hZ(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&se(n)&&se(a))return!0}return!1}function pZ(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function D_(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,o=e.endAngle,i=Ur(t,r,n,a),s=Ur(t,r,n,o);return{points:[i,s],cx:t,cy:r,radius:n,startAngle:a,endAngle:o}}function gZ(e,t,r){var n,a,o,i;if(e==="horizontal")n=t.x,o=n,a=r.top,i=r.top+r.height;else if(e==="vertical")a=t.y,i=a,n=r.left,o=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var s=t.cx,l=t.cy,c=t.innerRadius,f=t.outerRadius,d=t.angle,h=Ur(s,l,c,d),p=Ur(s,l,f,d);n=h.x,a=h.y,o=p.x,i=p.y}else return D_(t);return[{x:n,y:a},{x:o,y:i}]}function ru(e){"@babel/helpers - typeof";return ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ru(e)}function C2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C2(Object(r),!0).forEach(function(n){mZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mZ(e,t,r){return t=yZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yZ(e){var t=vZ(e,"string");return ru(t)=="symbol"?t:t+""}function vZ(e,t){if(ru(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ru(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xZ(e){var t,r,n=e.element,a=e.tooltipEventType,o=e.isActive,i=e.activeCoordinate,s=e.activePayload,l=e.offset,c=e.activeTooltipIndex,f=e.tooltipAxisBandSize,d=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!o||!i||h!=="ScatterChart"&&a!=="axis")return null;var m,v=vi;if(h==="ScatterChart")m=i,v=HH;else if(h==="BarChart")m=pZ(d,i,l,f),v=Pv;else if(d==="radial"){var x=D_(i),y=x.cx,g=x.cy,b=x.radius,S=x.startAngle,w=x.endAngle;m={cx:y,cy:g,startAngle:S,endAngle:w,innerRadius:b,outerRadius:b},v=MP}else m={points:gZ(d,i,l)},v=vi;var k=rf(rf(rf(rf({stroke:"#ccc",pointerEvents:"none"},l),m),ze(p,!1)),{},{payload:s,payloadIndex:c,className:Qe("recharts-tooltip-cursor",p.className)});return O.isValidElement(p)?O.cloneElement(p,k):O.createElement(v,k)}var bZ=["item"],wZ=["children","className","width","height","style","compact","title","desc"];function Xs(e){"@babel/helpers - typeof";return Xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xs(e)}function os(){return os=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},os.apply(this,arguments)}function E2(e,t){return jZ(e)||SZ(e,t)||L_(e,t)||kZ()}function kZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SZ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function jZ(e){if(Array.isArray(e))return e}function T2(e,t){if(e==null)return{};var r=OZ(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function OZ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function PZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _Z(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,I_(n.key),n)}}function NZ(e,t,r){return t&&_Z(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function AZ(e,t,r){return t=Wd(t),MZ(e,R_()?Reflect.construct(t,r||[],Wd(e).constructor):t.apply(e,r))}function MZ(e,t){if(t&&(Xs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CZ(e)}function CZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R_=function(){return!!e})()}function Wd(e){return Wd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wd(e)}function EZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Em(e,t)}function Em(e,t){return Em=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Em(e,t)}function Ks(e){return DZ(e)||$Z(e)||L_(e)||TZ()}function TZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L_(e,t){if(e){if(typeof e=="string")return Tm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Tm(e,t)}}function $Z(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function DZ(e){if(Array.isArray(e))return Tm(e)}function Tm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function J(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$2(Object(r),!0).forEach(function(n){De(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function De(e,t,r){return t=I_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I_(e){var t=RZ(e,"string");return Xs(t)=="symbol"?t:t+""}function RZ(e,t){if(Xs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LZ={xAxis:["bottom","top"],yAxis:["left","right"]},IZ={width:"100%",height:"100%"},B_={x:0,y:0};function nf(e){return e}var BZ=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},FZ=function(t,r,n,a){var o=r.find(function(f){return f&&f.index===n});if(o){if(t==="horizontal")return{x:o.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:o.coordinate};if(t==="centric"){var i=o.coordinate,s=a.radius;return J(J(J({},a),Ur(a.cx,a.cy,s,i)),{},{angle:i,radius:s})}var l=o.coordinate,c=a.angle;return J(J(J({},a),Ur(a.cx,a.cy,l,c)),{},{angle:c,radius:l})}return B_},Kh=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,o=r.dataEndIndex,i=(n??[]).reduce(function(s,l){var c=l.props.data;return c&&c.length?[].concat(Ks(s),Ks(c)):s},[]);return i.length>0?i:t&&t.length&&se(a)&&se(o)?t.slice(a,o+1):[]};function F_(e){return e==="number"?[0,"auto"]:void 0}var $m=function(t,r,n,a){var o=t.graphicalItems,i=t.tooltipAxis,s=Kh(r,t);return n<0||!o||!o.length||n>=s.length?null:o.reduce(function(l,c){var f,d=(f=c.props.data)!==null&&f!==void 0?f:r;d&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(d=d.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(i.dataKey&&!i.allowDuplicatedCategory){var p=d===void 0?s:d;h=Uf(p,i.dataKey,a)}else h=d&&d[n]||s[n];return h?[].concat(Ks(l),[_P(c,h)]):l},[])},D2=function(t,r,n,a){var o=a||{x:t.chartX,y:t.chartY},i=BZ(o,n),s=t.orderedTooltipTicks,l=t.tooltipAxis,c=t.tooltipTicks,f=SU(i,s,c,l);if(f>=0&&c){var d=c[f]&&c[f].value,h=$m(t,r,f,d),p=FZ(n,s,f,o);return{activeTooltipIndex:f,activeLabel:d,activePayload:h,activeCoordinate:p}}return null},zZ=function(t,r){var n=r.axes,a=r.graphicalItems,o=r.axisType,i=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,f=t.layout,d=t.children,h=t.stackOffset,p=jP(f,o);return n.reduce(function(m,v){var x,y=v.type.defaultProps!==void 0?J(J({},v.type.defaultProps),v.props):v.props,g=y.type,b=y.dataKey,S=y.allowDataOverflow,w=y.allowDuplicatedCategory,k=y.scale,j=y.ticks,P=y.includeHidden,_=y[i];if(m[_])return m;var A=Kh(t.data,{graphicalItems:a.filter(function(Q){var q,K=i in Q.props?Q.props[i]:(q=Q.type.defaultProps)===null||q===void 0?void 0:q[i];return K===_}),dataStartIndex:l,dataEndIndex:c}),N=A.length,C,F,L;hZ(y.domain,S,g)&&(C=Kg(y.domain,null,S),p&&(g==="number"||k!=="auto")&&(L=Ql(A,b,"category")));var I=F_(g);if(!C||C.length===0){var U,B=(U=y.domain)!==null&&U!==void 0?U:I;if(b){if(C=Ql(A,b,g),g==="category"&&p){var R=u5(C);w&&R?(F=C,C=_d(0,N)):w||(C=dw(B,C,v).reduce(function(Q,q){return Q.indexOf(q)>=0?Q:[].concat(Ks(Q),[q])},[]))}else if(g==="category")w?C=C.filter(function(Q){return Q!==""&&!Be(Q)}):C=dw(B,C,v).reduce(function(Q,q){return Q.indexOf(q)>=0||q===""||Be(q)?Q:[].concat(Ks(Q),[q])},[]);else if(g==="number"){var $=NU(A,a.filter(function(Q){var q,K,le=i in Q.props?Q.props[i]:(q=Q.type.defaultProps)===null||q===void 0?void 0:q[i],ue="hide"in Q.props?Q.props.hide:(K=Q.type.defaultProps)===null||K===void 0?void 0:K.hide;return le===_&&(P||!ue)}),b,o,f);$&&(C=$)}p&&(g==="number"||k!=="auto")&&(L=Ql(A,b,"category"))}else p?C=_d(0,N):s&&s[_]&&s[_].hasStack&&g==="number"?C=h==="expand"?[0,1]:PP(s[_].stackGroups,l,c):C=SP(A,a.filter(function(Q){var q=i in Q.props?Q.props[i]:Q.type.defaultProps[i],K="hide"in Q.props?Q.props.hide:Q.type.defaultProps.hide;return q===_&&(P||!K)}),g,f,!0);if(g==="number")C=Cm(d,C,_,o,j),B&&(C=Kg(B,C,S));else if(g==="category"&&B){var G=B,ee=C.every(function(Q){return G.indexOf(Q)>=0});ee&&(C=G)}}return J(J({},m),{},De({},_,J(J({},y),{},{axisType:o,domain:C,categoricalDomain:L,duplicateDomain:F,originalDomain:(x=y.domain)!==null&&x!==void 0?x:I,isCategorical:p,layout:f})))},{})},UZ=function(t,r){var n=r.graphicalItems,a=r.Axis,o=r.axisType,i=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,f=t.layout,d=t.children,h=Kh(t.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),p=h.length,m=jP(f,o),v=-1;return n.reduce(function(x,y){var g=y.type.defaultProps!==void 0?J(J({},y.type.defaultProps),y.props):y.props,b=g[i],S=F_("number");if(!x[b]){v++;var w;return m?w=_d(0,p):s&&s[b]&&s[b].hasStack?(w=PP(s[b].stackGroups,l,c),w=Cm(d,w,b,o)):(w=Kg(S,SP(h,n.filter(function(k){var j,P,_=i in k.props?k.props[i]:(j=k.type.defaultProps)===null||j===void 0?void 0:j[i],A="hide"in k.props?k.props.hide:(P=k.type.defaultProps)===null||P===void 0?void 0:P.hide;return _===b&&!A}),"number",f),a.defaultProps.allowDataOverflow),w=Cm(d,w,b,o)),J(J({},x),{},De({},b,J(J({axisType:o},a.defaultProps),{},{hide:!0,orientation:na(LZ,"".concat(o,".").concat(v%2),null),domain:w,originalDomain:S,isCategorical:m,layout:f})))}return x},{})},WZ=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,o=r.AxisComp,i=r.graphicalItems,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,f=t.children,d="".concat(a,"Id"),h=Mn(f,o),p={};return h&&h.length?p=zZ(t,{axes:h,graphicalItems:i,axisType:a,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:c}):i&&i.length&&(p=UZ(t,{Axis:o,graphicalItems:i,axisType:a,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:c})),p},GZ=function(t){var r=ko(t),n=Ka(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Qy(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:yd(r,n)}},R2=function(t){var r=t.children,n=t.defaultShowTooltip,a=Bn(r,Ds),o=0,i=0;return t.data&&t.data.length!==0&&(i=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(o=a.props.startIndex),a.props.endIndex>=0&&(i=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:i,activeTooltipIndex:-1,isTooltipActive:!!n}},HZ=function(t){return!t||!t.length?!1:t.some(function(r){var n=qa(r&&r.type);return n&&n.indexOf("Bar")>=0})},L2=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},VZ=function(t,r){var n=t.props,a=t.graphicalItems,o=t.xAxisMap,i=o===void 0?{}:o,s=t.yAxisMap,l=s===void 0?{}:s,c=n.width,f=n.height,d=n.children,h=n.margin||{},p=Bn(d,Ds),m=Bn(d,Qa),v=Object.keys(l).reduce(function(w,k){var j=l[k],P=j.orientation;return!j.mirror&&!j.hide?J(J({},w),{},De({},P,w[P]+j.width)):w},{left:h.left||0,right:h.right||0}),x=Object.keys(i).reduce(function(w,k){var j=i[k],P=j.orientation;return!j.mirror&&!j.hide?J(J({},w),{},De({},P,na(w,"".concat(P))+j.height)):w},{top:h.top||0,bottom:h.bottom||0}),y=J(J({},x),v),g=y.bottom;p&&(y.bottom+=p.props.height||Ds.defaultProps.height),m&&r&&(y=PU(y,a,n,r));var b=c-y.left-y.right,S=f-y.top-y.bottom;return J(J({brushBottom:g},y),{},{width:Math.max(b,0),height:Math.max(S,0)})},XZ=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},Rv=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,o=a===void 0?"axis":a,i=t.validateTooltipEventTypes,s=i===void 0?["axis"]:i,l=t.axisComponents,c=t.legendContent,f=t.formatAxisMap,d=t.defaultProps,h=function(y,g){var b=g.graphicalItems,S=g.stackGroups,w=g.offset,k=g.updateId,j=g.dataStartIndex,P=g.dataEndIndex,_=y.barSize,A=y.layout,N=y.barGap,C=y.barCategoryGap,F=y.maxBarSize,L=L2(A),I=L.numericAxisName,U=L.cateAxisName,B=HZ(b),R=[];return b.forEach(function($,G){var ee=Kh(y.data,{graphicalItems:[$],dataStartIndex:j,dataEndIndex:P}),Q=$.type.defaultProps!==void 0?J(J({},$.type.defaultProps),$.props):$.props,q=Q.dataKey,K=Q.maxBarSize,le=Q["".concat(I,"Id")],ue=Q["".concat(U,"Id")],Se={},be=l.reduce(function(ct,ur){var Jt=g["".concat(ur.axisType,"Map")],Ht=Q["".concat(ur.axisType,"Id")];Jt&&Jt[Ht]||ur.axisType==="zAxis"||Ni();var gr=Jt[Ht];return J(J({},ct),{},De(De({},ur.axisType,gr),"".concat(ur.axisType,"Ticks"),Ka(gr)))},Se),Y=be[U],ie=be["".concat(U,"Ticks")],ge=S&&S[le]&&S[le].hasStack&&FU($,S[le].stackGroups),W=qa($.type).indexOf("Bar")>=0,ve=yd(Y,ie),he=[],Oe=B&&jU({barSize:_,stackGroups:S,totalSize:XZ(be,U)});if(W){var Ke,et,Qt=Be(K)?F:K,Gt=(Ke=(et=yd(Y,ie,!0))!==null&&et!==void 0?et:Qt)!==null&&Ke!==void 0?Ke:0;he=OU({barGap:N,barCategoryGap:C,bandSize:Gt!==ve?Gt:ve,sizeList:Oe[ue],maxBarSize:Qt}),Gt!==ve&&(he=he.map(function(ct){return J(J({},ct),{},{position:J(J({},ct.position),{},{offset:ct.position.offset-Gt/2})})}))}var Rr=$&&$.type&&$.type.getComposedData;Rr&&R.push({props:J(J({},Rr(J(J({},be),{},{displayedData:ee,props:y,dataKey:q,item:$,bandSize:ve,barPosition:he,offset:w,stackedData:ge,layout:A,dataStartIndex:j,dataEndIndex:P}))),{},De(De(De({key:$.key||"item-".concat(G)},I,be[I]),U,be[U]),"animationId",k)),childIndex:S5($,y.children),item:$})}),R},p=function(y,g){var b=y.props,S=y.dataStartIndex,w=y.dataEndIndex,k=y.updateId;if(!ib({props:b}))return null;var j=b.children,P=b.layout,_=b.stackOffset,A=b.data,N=b.reverseStackOrder,C=L2(P),F=C.numericAxisName,L=C.cateAxisName,I=Mn(j,n),U=LU(A,I,"".concat(F,"Id"),"".concat(L,"Id"),_,N),B=l.reduce(function(Q,q){var K="".concat(q.axisType,"Map");return J(J({},Q),{},De({},K,WZ(b,J(J({},q),{},{graphicalItems:I,stackGroups:q.axisType===F&&U,dataStartIndex:S,dataEndIndex:w}))))},{}),R=VZ(J(J({},B),{},{props:b,graphicalItems:I}),g==null?void 0:g.legendBBox);Object.keys(B).forEach(function(Q){B[Q]=f(b,B[Q],R,Q.replace("Map",""),r)});var $=B["".concat(L,"Map")],G=GZ($),ee=h(b,J(J({},B),{},{dataStartIndex:S,dataEndIndex:w,updateId:k,graphicalItems:I,stackGroups:U,offset:R}));return J(J({formattedGraphicalItems:ee,graphicalItems:I,offset:R,stackGroups:U},G),B)},m=function(x){function y(g){var b,S,w;return PZ(this,y),w=AZ(this,y,[g]),De(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),De(w,"accessibilityManager",new dZ),De(w,"handleLegendBBoxUpdate",function(k){if(k){var j=w.state,P=j.dataStartIndex,_=j.dataEndIndex,A=j.updateId;w.setState(J({legendBBox:k},p({props:w.props,dataStartIndex:P,dataEndIndex:_,updateId:A},J(J({},w.state),{},{legendBBox:k}))))}}),De(w,"handleReceiveSyncEvent",function(k,j,P){if(w.props.syncId===k){if(P===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(j)}}),De(w,"handleBrushChange",function(k){var j=k.startIndex,P=k.endIndex;if(j!==w.state.dataStartIndex||P!==w.state.dataEndIndex){var _=w.state.updateId;w.setState(function(){return J({dataStartIndex:j,dataEndIndex:P},p({props:w.props,dataStartIndex:j,dataEndIndex:P,updateId:_},w.state))}),w.triggerSyncEvent({dataStartIndex:j,dataEndIndex:P})}}),De(w,"handleMouseEnter",function(k){var j=w.getMouseInfo(k);if(j){var P=J(J({},j),{},{isTooltipActive:!0});w.setState(P),w.triggerSyncEvent(P);var _=w.props.onMouseEnter;We(_)&&_(P,k)}}),De(w,"triggeredAfterMouseMove",function(k){var j=w.getMouseInfo(k),P=j?J(J({},j),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(P),w.triggerSyncEvent(P);var _=w.props.onMouseMove;We(_)&&_(P,k)}),De(w,"handleItemMouseEnter",function(k){w.setState(function(){return{isTooltipActive:!0,activeItem:k,activePayload:k.tooltipPayload,activeCoordinate:k.tooltipPosition||{x:k.cx,y:k.cy}}})}),De(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),De(w,"handleMouseMove",function(k){k.persist(),w.throttleTriggeredAfterMouseMove(k)}),De(w,"handleMouseLeave",function(k){w.throttleTriggeredAfterMouseMove.cancel();var j={isTooltipActive:!1};w.setState(j),w.triggerSyncEvent(j);var P=w.props.onMouseLeave;We(P)&&P(j,k)}),De(w,"handleOuterEvent",function(k){var j=k5(k),P=na(w.props,"".concat(j));if(j&&We(P)){var _,A;/.*touch.*/i.test(j)?A=w.getMouseInfo(k.changedTouches[0]):A=w.getMouseInfo(k),P((_=A)!==null&&_!==void 0?_:{},k)}}),De(w,"handleClick",function(k){var j=w.getMouseInfo(k);if(j){var P=J(J({},j),{},{isTooltipActive:!0});w.setState(P),w.triggerSyncEvent(P);var _=w.props.onClick;We(_)&&_(P,k)}}),De(w,"handleMouseDown",function(k){var j=w.props.onMouseDown;if(We(j)){var P=w.getMouseInfo(k);j(P,k)}}),De(w,"handleMouseUp",function(k){var j=w.props.onMouseUp;if(We(j)){var P=w.getMouseInfo(k);j(P,k)}}),De(w,"handleTouchMove",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(k.changedTouches[0])}),De(w,"handleTouchStart",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&w.handleMouseDown(k.changedTouches[0])}),De(w,"handleTouchEnd",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&w.handleMouseUp(k.changedTouches[0])}),De(w,"handleDoubleClick",function(k){var j=w.props.onDoubleClick;if(We(j)){var P=w.getMouseInfo(k);j(P,k)}}),De(w,"handleContextMenu",function(k){var j=w.props.onContextMenu;if(We(j)){var P=w.getMouseInfo(k);j(P,k)}}),De(w,"triggerSyncEvent",function(k){w.props.syncId!==void 0&&a0.emit(o0,w.props.syncId,k,w.eventEmitterSymbol)}),De(w,"applySyncEvent",function(k){var j=w.props,P=j.layout,_=j.syncMethod,A=w.state.updateId,N=k.dataStartIndex,C=k.dataEndIndex;if(k.dataStartIndex!==void 0||k.dataEndIndex!==void 0)w.setState(J({dataStartIndex:N,dataEndIndex:C},p({props:w.props,dataStartIndex:N,dataEndIndex:C,updateId:A},w.state)));else if(k.activeTooltipIndex!==void 0){var F=k.chartX,L=k.chartY,I=k.activeTooltipIndex,U=w.state,B=U.offset,R=U.tooltipTicks;if(!B)return;if(typeof _=="function")I=_(R,k);else if(_==="value"){I=-1;for(var $=0;$<R.length;$++)if(R[$].value===k.activeLabel){I=$;break}}var G=J(J({},B),{},{x:B.left,y:B.top}),ee=Math.min(F,G.x+G.width),Q=Math.min(L,G.y+G.height),q=R[I]&&R[I].value,K=$m(w.state,w.props.data,I),le=R[I]?{x:P==="horizontal"?R[I].coordinate:ee,y:P==="horizontal"?Q:R[I].coordinate}:B_;w.setState(J(J({},k),{},{activeLabel:q,activeCoordinate:le,activePayload:K,activeTooltipIndex:I}))}else w.setState(k)}),De(w,"renderCursor",function(k){var j,P=w.state,_=P.isTooltipActive,A=P.activeCoordinate,N=P.activePayload,C=P.offset,F=P.activeTooltipIndex,L=P.tooltipAxisBandSize,I=w.getTooltipEventType(),U=(j=k.props.active)!==null&&j!==void 0?j:_,B=w.props.layout,R=k.key||"_recharts-cursor";return M.createElement(xZ,{key:R,activeCoordinate:A,activePayload:N,activeTooltipIndex:F,chartName:r,element:k,isActive:U,layout:B,offset:C,tooltipAxisBandSize:L,tooltipEventType:I})}),De(w,"renderPolarAxis",function(k,j,P){var _=na(k,"type.axisType"),A=na(w.state,"".concat(_,"Map")),N=k.type.defaultProps,C=N!==void 0?J(J({},N),k.props):k.props,F=A&&A[C["".concat(_,"Id")]];return O.cloneElement(k,J(J({},F),{},{className:Qe(_,F.className),key:k.key||"".concat(j,"-").concat(P),ticks:Ka(F,!0)}))}),De(w,"renderPolarGrid",function(k){var j=k.props,P=j.radialLines,_=j.polarAngles,A=j.polarRadius,N=w.state,C=N.radiusAxisMap,F=N.angleAxisMap,L=ko(C),I=ko(F),U=I.cx,B=I.cy,R=I.innerRadius,$=I.outerRadius;return O.cloneElement(k,{polarAngles:Array.isArray(_)?_:Ka(I,!0).map(function(G){return G.coordinate}),polarRadius:Array.isArray(A)?A:Ka(L,!0).map(function(G){return G.coordinate}),cx:U,cy:B,innerRadius:R,outerRadius:$,key:k.key||"polar-grid",radialLines:P})}),De(w,"renderLegend",function(){var k=w.state.formattedGraphicalItems,j=w.props,P=j.children,_=j.width,A=j.height,N=w.props.margin||{},C=_-(N.left||0)-(N.right||0),F=wP({children:P,formattedGraphicalItems:k,legendWidth:C,legendContent:c});if(!F)return null;var L=F.item,I=T2(F,bZ);return O.cloneElement(L,J(J({},I),{},{chartWidth:_,chartHeight:A,margin:N,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),De(w,"renderTooltip",function(){var k,j=w.props,P=j.children,_=j.accessibilityLayer,A=Bn(P,gn);if(!A)return null;var N=w.state,C=N.isTooltipActive,F=N.activeCoordinate,L=N.activePayload,I=N.activeLabel,U=N.offset,B=(k=A.props.active)!==null&&k!==void 0?k:C;return O.cloneElement(A,{viewBox:J(J({},U),{},{x:U.left,y:U.top}),active:B,label:I,payload:B?L:[],coordinate:F,accessibilityLayer:_})}),De(w,"renderBrush",function(k){var j=w.props,P=j.margin,_=j.data,A=w.state,N=A.offset,C=A.dataStartIndex,F=A.dataEndIndex,L=A.updateId;return O.cloneElement(k,{key:k.key||"_recharts-brush",onChange:Qu(w.handleBrushChange,k.props.onChange),data:_,x:se(k.props.x)?k.props.x:N.left,y:se(k.props.y)?k.props.y:N.top+N.height+N.brushBottom-(P.bottom||0),width:se(k.props.width)?k.props.width:N.width,startIndex:C,endIndex:F,updateId:"brush-".concat(L)})}),De(w,"renderReferenceElement",function(k,j,P){if(!k)return null;var _=w,A=_.clipPathId,N=w.state,C=N.xAxisMap,F=N.yAxisMap,L=N.offset,I=k.type.defaultProps||{},U=k.props,B=U.xAxisId,R=B===void 0?I.xAxisId:B,$=U.yAxisId,G=$===void 0?I.yAxisId:$;return O.cloneElement(k,{key:k.key||"".concat(j,"-").concat(P),xAxis:C[R],yAxis:F[G],viewBox:{x:L.left,y:L.top,width:L.width,height:L.height},clipPathId:A})}),De(w,"renderActivePoints",function(k){var j=k.item,P=k.activePoint,_=k.basePoint,A=k.childIndex,N=k.isRange,C=[],F=j.props.key,L=j.item.type.defaultProps!==void 0?J(J({},j.item.type.defaultProps),j.item.props):j.item.props,I=L.activeDot,U=L.dataKey,B=J(J({index:A,dataKey:U,cx:P.x,cy:P.y,r:4,fill:Ov(j.item),strokeWidth:2,stroke:"#fff",payload:P.payload,value:P.value},ze(I,!1)),Wf(I));return C.push(y.renderActiveDot(I,B,"".concat(F,"-activePoint-").concat(A))),_?C.push(y.renderActiveDot(I,J(J({},B),{},{cx:_.x,cy:_.y}),"".concat(F,"-basePoint-").concat(A))):N&&C.push(null),C}),De(w,"renderGraphicChild",function(k,j,P){var _=w.filterFormatItem(k,j,P);if(!_)return null;var A=w.getTooltipEventType(),N=w.state,C=N.isTooltipActive,F=N.tooltipAxis,L=N.activeTooltipIndex,I=N.activeLabel,U=w.props.children,B=Bn(U,gn),R=_.props,$=R.points,G=R.isRange,ee=R.baseLine,Q=_.item.type.defaultProps!==void 0?J(J({},_.item.type.defaultProps),_.item.props):_.item.props,q=Q.activeDot,K=Q.hide,le=Q.activeBar,ue=Q.activeShape,Se=!!(!K&&C&&B&&(q||le||ue)),be={};A!=="axis"&&B&&B.props.trigger==="click"?be={onClick:Qu(w.handleItemMouseEnter,k.props.onClick)}:A!=="axis"&&(be={onMouseLeave:Qu(w.handleItemMouseLeave,k.props.onMouseLeave),onMouseEnter:Qu(w.handleItemMouseEnter,k.props.onMouseEnter)});var Y=O.cloneElement(k,J(J({},_.props),be));function ie(ur){return typeof F.dataKey=="function"?F.dataKey(ur.payload):null}if(Se)if(L>=0){var ge,W;if(F.dataKey&&!F.allowDuplicatedCategory){var ve=typeof F.dataKey=="function"?ie:"payload.".concat(F.dataKey.toString());ge=Uf($,ve,I),W=G&&ee&&Uf(ee,ve,I)}else ge=$==null?void 0:$[L],W=G&&ee&&ee[L];if(ue||le){var he=k.props.activeIndex!==void 0?k.props.activeIndex:L;return[O.cloneElement(k,J(J(J({},_.props),be),{},{activeIndex:he})),null,null]}if(!Be(ge))return[Y].concat(Ks(w.renderActivePoints({item:_,activePoint:ge,basePoint:W,childIndex:L,isRange:G})))}else{var Oe,Ke=(Oe=w.getItemByXY(w.state.activeCoordinate))!==null&&Oe!==void 0?Oe:{graphicalItem:Y},et=Ke.graphicalItem,Qt=et.item,Gt=Qt===void 0?k:Qt,Rr=et.childIndex,ct=J(J(J({},_.props),be),{},{activeIndex:Rr});return[O.cloneElement(Gt,ct),null,null]}return G?[Y,null,null]:[Y,null]}),De(w,"renderCustomized",function(k,j,P){return O.cloneElement(k,J(J({key:"recharts-customized-".concat(P)},w.props),w.state))}),De(w,"renderMap",{CartesianGrid:{handler:nf,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:nf},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:nf},YAxis:{handler:nf},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((b=g.id)!==null&&b!==void 0?b:$i("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=wO(w.triggeredAfterMouseMove,(S=g.throttleDelay)!==null&&S!==void 0?S:1e3/60),w.state={},w}return EZ(y,x),NZ(y,[{key:"componentDidMount",value:function(){var b,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,S=b.children,w=b.data,k=b.height,j=b.layout,P=Bn(S,gn);if(P){var _=P.props.defaultIndex;if(!(typeof _!="number"||_<0||_>this.state.tooltipTicks.length-1)){var A=this.state.tooltipTicks[_]&&this.state.tooltipTicks[_].value,N=$m(this.state,w,_,A),C=this.state.tooltipTicks[_].coordinate,F=(this.state.offset.top+k)/2,L=j==="horizontal",I=L?{x:C,y:F}:{y:C,x:F},U=this.state.formattedGraphicalItems.find(function(R){var $=R.item;return $.type.name==="Scatter"});U&&(I=J(J({},I),U.props.points[_].tooltipPosition),N=U.props.points[_].tooltipPayload);var B={activeTooltipIndex:_,isTooltipActive:!0,activeLabel:A,activePayload:N,activeCoordinate:I};this.setState(B),this.renderCursor(P),this.accessibilityManager.setIndex(_)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var w,k;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0}})}return null}},{key:"componentDidUpdate",value:function(b){cg([Bn(b.children,gn)],[Bn(this.props.children,gn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=Bn(this.props.children,gn);if(b&&typeof b.props.shared=="boolean"){var S=b.props.shared?"axis":"item";return s.indexOf(S)>=0?S:o}return o}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var S=this.container,w=S.getBoundingClientRect(),k=Y8(w),j={chartX:Math.round(b.pageX-k.left),chartY:Math.round(b.pageY-k.top)},P=w.width/S.offsetWidth||1,_=this.inRange(j.chartX,j.chartY,P);if(!_)return null;var A=this.state,N=A.xAxisMap,C=A.yAxisMap,F=this.getTooltipEventType(),L=D2(this.state,this.props.data,this.props.layout,_);if(F!=="axis"&&N&&C){var I=ko(N).scale,U=ko(C).scale,B=I&&I.invert?I.invert(j.chartX):null,R=U&&U.invert?U.invert(j.chartY):null;return J(J({},j),{},{xValue:B,yValue:R},L)}return L?J(J({},j),L):null}},{key:"inRange",value:function(b,S){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,k=this.props.layout,j=b/w,P=S/w;if(k==="horizontal"||k==="vertical"){var _=this.state.offset,A=j>=_.left&&j<=_.left+_.width&&P>=_.top&&P<=_.top+_.height;return A?{x:j,y:P}:null}var N=this.state,C=N.angleAxisMap,F=N.radiusAxisMap;if(C&&F){var L=ko(C);return gw({x:j,y:P},L)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,S=this.getTooltipEventType(),w=Bn(b,gn),k={};w&&S==="axis"&&(w.props.trigger==="click"?k={onClick:this.handleClick}:k={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var j=Wf(this.props,this.handleOuterEvent);return J(J({},j),k)}},{key:"addListener",value:function(){a0.on(o0,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){a0.removeListener(o0,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,S,w){for(var k=this.state.formattedGraphicalItems,j=0,P=k.length;j<P;j++){var _=k[j];if(_.item===b||_.props.key===b.key||S===qa(_.item.type)&&w===_.childIndex)return _}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,S=this.state.offset,w=S.left,k=S.top,j=S.height,P=S.width;return M.createElement("defs",null,M.createElement("clipPath",{id:b},M.createElement("rect",{x:w,y:k,height:j,width:P})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(S,w){var k=E2(w,2),j=k[0],P=k[1];return J(J({},S),{},De({},j,P.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(S,w){var k=E2(w,2),j=k[0],P=k[1];return J(J({},S),{},De({},j,P.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[b])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(b){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[b])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(b){var S=this.state,w=S.formattedGraphicalItems,k=S.activeItem;if(w&&w.length)for(var j=0,P=w.length;j<P;j++){var _=w[j],A=_.props,N=_.item,C=N.type.defaultProps!==void 0?J(J({},N.type.defaultProps),N.props):N.props,F=qa(N.type);if(F==="Bar"){var L=(A.data||[]).find(function(R){return DH(b,R)});if(L)return{graphicalItem:_,payload:L}}else if(F==="RadialBar"){var I=(A.data||[]).find(function(R){return gw(b,R)});if(I)return{graphicalItem:_,payload:I}}else if(zh(_,k)||Uh(_,k)||qc(_,k)){var U=LV({graphicalItem:_,activeTooltipItem:k,itemData:C.data}),B=C.activeIndex===void 0?U:C.activeIndex;return{graphicalItem:J(J({},_),{},{childIndex:B}),payload:qc(_,k)?C.data[U]:_.props.data[U]}}}return null}},{key:"render",value:function(){var b=this;if(!ib(this))return null;var S=this.props,w=S.children,k=S.className,j=S.width,P=S.height,_=S.style,A=S.compact,N=S.title,C=S.desc,F=T2(S,wZ),L=ze(F,!1);if(A)return M.createElement(u2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement(fg,os({},L,{width:j,height:P,title:N,desc:C}),this.renderClipPath(),lb(w,this.renderMap)));if(this.props.accessibilityLayer){var I,U;L.tabIndex=(I=this.props.tabIndex)!==null&&I!==void 0?I:0,L.role=(U=this.props.role)!==null&&U!==void 0?U:"application",L.onKeyDown=function(R){b.accessibilityManager.keyboardEvent(R)},L.onFocus=function(){b.accessibilityManager.focus()}}var B=this.parseEventsOfWrapper();return M.createElement(u2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement("div",os({className:Qe("recharts-wrapper",k),style:J({position:"relative",cursor:"default",width:j,height:P},_)},B,{ref:function($){b.container=$}}),M.createElement(fg,os({},L,{width:j,height:P,title:N,desc:C,style:IZ}),this.renderClipPath(),lb(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(O.Component);De(m,"displayName",r),De(m,"defaultProps",J({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),De(m,"getDerivedStateFromProps",function(x,y){var g=x.dataKey,b=x.data,S=x.children,w=x.width,k=x.height,j=x.layout,P=x.stackOffset,_=x.margin,A=y.dataStartIndex,N=y.dataEndIndex;if(y.updateId===void 0){var C=R2(x);return J(J(J({},C),{},{updateId:0},p(J(J({props:x},C),{},{updateId:0}),y)),{},{prevDataKey:g,prevData:b,prevWidth:w,prevHeight:k,prevLayout:j,prevStackOffset:P,prevMargin:_,prevChildren:S})}if(g!==y.prevDataKey||b!==y.prevData||w!==y.prevWidth||k!==y.prevHeight||j!==y.prevLayout||P!==y.prevStackOffset||!ds(_,y.prevMargin)){var F=R2(x),L={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},I=J(J({},D2(y,b,j)),{},{updateId:y.updateId+1}),U=J(J(J({},F),L),I);return J(J(J({},U),p(J({props:x},U),y)),{},{prevDataKey:g,prevData:b,prevWidth:w,prevHeight:k,prevLayout:j,prevStackOffset:P,prevMargin:_,prevChildren:S})}if(!cg(S,y.prevChildren)){var B,R,$,G,ee=Bn(S,Ds),Q=ee&&(B=(R=ee.props)===null||R===void 0?void 0:R.startIndex)!==null&&B!==void 0?B:A,q=ee&&($=(G=ee.props)===null||G===void 0?void 0:G.endIndex)!==null&&$!==void 0?$:N,K=Q!==A||q!==N,le=!Be(b),ue=le&&!K?y.updateId:y.updateId+1;return J(J({updateId:ue},p(J(J({props:x},y),{},{updateId:ue,dataStartIndex:Q,dataEndIndex:q}),y)),{},{prevChildren:S,dataStartIndex:Q,dataEndIndex:q})}return null}),De(m,"renderActiveDot",function(x,y,g){var b;return O.isValidElement(x)?b=O.cloneElement(x,y):We(x)?b=x(y):b=M.createElement(Fh,y),M.createElement(lt,{className:"recharts-active-dot",key:g},b)});var v=O.forwardRef(function(y,g){return M.createElement(m,os({},y,{ref:g}))});return v.displayName=m.displayName,v},Lv=Rv({chartName:"LineChart",GraphicalChild:zr,axisComponents:[{axisType:"xAxis",AxisComp:ka},{axisType:"yAxis",AxisComp:Sa}],formatAxisMap:_v}),KZ=Rv({chartName:"ScatterChart",GraphicalChild:hn,defaultTooltipEventType:"item",validateTooltipEventTypes:["item"],axisComponents:[{axisType:"xAxis",AxisComp:ka},{axisType:"yAxis",AxisComp:Sa},{axisType:"zAxis",AxisComp:Xh}],formatAxisMap:_v}),z_=Rv({chartName:"AreaChart",GraphicalChild:ta,axisComponents:[{axisType:"xAxis",AxisComp:ka},{axisType:"yAxis",AxisComp:Sa}],formatAxisMap:_v});const YZ="modulepreload",qZ=function(e){return"/"+e},I2={},ZZ=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),s=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));a=Promise.allSettled(r.map(l=>{if(l=qZ(l),l in I2)return;I2[l]=!0;const c=l.endsWith(".css"),f=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${f}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":YZ,c||(d.as="script"),d.crossOrigin="",d.href=l,s&&d.setAttribute("nonce",s),document.head.appendChild(d),c)return new Promise((h,p)=>{d.addEventListener("load",h),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(i){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=i,window.dispatchEvent(s),!s.defaultPrevented)throw i}return a.then(i=>{for(const s of i||[])s.status==="rejected"&&o(s.reason);return t().catch(o)})};function QZ(e){const[[t,r,n],[a,o,i],[s,l,c]]=e,f=t*(o*c-i*l)-r*(a*c-i*s)+n*(a*l-o*s);if(Math.abs(f)<1e-10)return null;const d=1/f;return[[(o*c-i*l)*d,(n*l-r*c)*d,(r*i-n*o)*d],[(i*s-a*c)*d,(t*c-n*s)*d,(n*a-t*i)*d],[(a*l-o*s)*d,(r*s-t*l)*d,(t*o-r*a)*d]]}function B2(e,t){const r=[[0,0,0],[0,0,0],[0,0,0]];for(let n=0;n<3;n++)for(let a=0;a<3;a++)for(let o=0;o<3;o++)r[n][a]+=e[n][o]*t[o][a];return r}class Ys{constructor(t){dn(this,"size");dn(this,"isPowerOfTwo");dn(this,"_real");dn(this,"_imag");dn(this,"_scratch",null);dn(this,"_rev",null);dn(this,"_m",0);dn(this,"_internalFFT",null);dn(this,"_chirpReal",null);dn(this,"_chirpImag",null);dn(this,"_bReal",null);dn(this,"_bImag",null);dn(this,"_hanning",null);dn(this,"_windowSumSq",0);this.size=t,this.isPowerOfTwo=(t&t-1)===0&&t>0,this._real=new Float32Array(t),this._imag=new Float32Array(t),this.isPowerOfTwo?this.initRadix2():this.initBluestein()}initRadix2(){const t=this.size,r=Math.log2(t);this._rev=new Uint32Array(t);for(let n=0;n<t;n++){let a=0,o=n;for(let i=0;i<r;i++)a=a<<1|o&1,o>>>=1;this._rev[n]=a}}initBluestein(){const t=this.size;this._m=Math.pow(2,Math.ceil(Math.log2(2*t-1))),this._internalFFT=new Ys(this._m),this._chirpReal=new Float32Array(t),this._chirpImag=new Float32Array(t);for(let a=0;a<t;a++){const o=-Math.PI*(a*a)/t;this._chirpReal[a]=Math.cos(o),this._chirpImag[a]=Math.sin(o)}const r=new Float32Array(this._m),n=new Float32Array(this._m);for(let a=0;a<t;a++)r[a]=this._chirpReal[a],n[a]=-this._chirpImag[a];for(let a=1;a<t;a++)r[this._m-a]=r[a],n[this._m-a]=n[a];this._internalFFT.transform(r,n),this._bReal=new Float32Array(this._internalFFT._real),this._bImag=new Float32Array(this._internalFFT._imag)}initHanning(){if(this._hanning)return;const t=this.size;this._hanning=new Float32Array(t);let r=0;for(let n=0;n<t;n++){const a=.5*(1-Math.cos(2*Math.PI*n/(t-1)));this._hanning[n]=a,r+=a*a}this._windowSumSq=r}transform(t,r){this.isPowerOfTwo?this.transformRadix2(t,r):this.transformBluestein(t,r)}transformRadix2(t,r){const n=this.size,a=this._rev,o=this._real,i=this._imag;if(t===o)for(let s=0;s<n;s++){const l=a[s];if(s<l){const c=o[s],f=i[s];o[s]=o[l],i[s]=i[l],o[l]=c,i[l]=f}}else for(let s=0;s<n;s++){const l=a[s];o[s]=t[l],i[s]=r?r[l]:0}for(let s=2;s<=n;s*=2){const l=s/2,c=-2*Math.PI/s,f=Math.cos(c),d=Math.sin(c);for(let h=0;h<n;h+=s){let p=1,m=0;for(let v=0;v<l;v++){const x=h+v,y=h+v+l,g=p*o[y]-m*i[y],b=p*i[y]+m*o[y],S=o[x],w=i[x];o[x]=S+g,i[x]=w+b,o[y]=S-g,i[y]=w-b;const k=p*f-m*d,j=p*d+m*f;p=k,m=j}}}}transformBluestein(t,r){const n=this.size,a=this._m,o=this._internalFFT,i=o._real,s=o._imag;i.fill(0),s.fill(0);for(let d=0;d<n;d++){const h=t[d],p=r?r[d]:0,m=this._chirpReal[d],v=this._chirpImag[d];i[d]=h*m-p*v,s[d]=h*v+p*m}o.transformRadix2(i,s);for(let d=0;d<a;d++){const h=o._real[d],p=o._imag[d],m=this._bReal[d],v=this._bImag[d];o._real[d]=h*m-p*v,o._imag[d]=h*v+p*m}const l=o._real,c=o._imag;for(let d=0;d<a;d++)c[d]=-c[d];o.transformRadix2(l,c);const f=1/a;for(let d=0;d<n;d++){const h=o._real[d]*f,p=-o._imag[d]*f,m=this._chirpReal[d],v=this._chirpImag[d];this._real[d]=h*m-p*v,this._imag[d]=h*v+p*m}}calculateSpectrum(t,r,n=!1){const a=this.size;let o=0;for(let f=0;f<a;f++)o+=t[f];const i=o/a;this._scratch||(this._scratch=new Float32Array(a));const s=this._scratch;if(n){this.initHanning();const f=this._hanning;for(let d=0;d<a;d++)s[d]=(t[d]-i)*f[d]}else for(let f=0;f<a;f++)s[f]=t[f]-i;this.transform(s);const l=r.length;let c=1/a;n&&this._windowSumSq>0&&(c=1/this._windowSumSq);for(let f=0;f<l;f++){const d=this._real[f],h=this._imag[f];r[f]+=(d*d+h*h)*c}}}function JZ(e,t,r,n=!1){const a=new Ys(t),o=new Ys(r),i=t*r,s=new Float32Array(i),l=new Float32Array(i);let c=null,f=null;if(n){c=new Float32Array(t);for(let v=0;v<t;v++)c[v]=.5*(1-Math.cos(2*Math.PI*v/(t-1)));f=new Float32Array(r);for(let v=0;v<r;v++)f[v]=.5*(1-Math.cos(2*Math.PI*v/(r-1)))}for(let v=0;v<r;v++){const x=v*t,y=a._real;let g=0;for(let S=0;S<t;S++)g+=e[x+S];const b=g/t;if(c)for(let S=0;S<t;S++)y[S]=(e[x+S]-b)*c[S];else for(let S=0;S<t;S++)y[S]=e[x+S]-b;a.transform(y);for(let S=0;S<t;S++)s[x+S]=a._real[S],l[x+S]=a._imag[S]}for(let v=0;v<t;v++){const x=o._real,y=o._imag;for(let g=0;g<r;g++){const b=g*t+v;let S=s[b],w=l[b];f&&(S*=f[g],w*=f[g]),x[g]=S,y[g]=w}o.transform(x,y);for(let g=0;g<r;g++){const b=g*t+v;s[b]=o._real[g],l[b]=o._imag[g]}}const d=new Float32Array(i);let h=1,p=t,m=r;if(n&&c&&f){p=0;for(let v=0;v<t;v++)p+=c[v]*c[v];m=0;for(let v=0;v<r;v++)m+=f[v]*f[v]}h=1/(p*m);for(let v=0;v<i;v++)d[v]=(s[v]*s[v]+l[v]*l[v])*h;return d}function eQ(e,t,r){const n=new Float32Array(e.length),a=Math.floor(t/2),o=Math.floor(r/2);for(let i=0;i<r;i++)for(let s=0;s<t;s++){const l=(s+a)%t,c=(i+o)%r,f=i*t+s,d=c*t+l;n[d]=e[f]}return n}function yf(e,t,r){const a=e*t*2,o=8,i=o+a,s="Fake",l="NoiseCam",c="NoiseCam",f=_=>{const A=new Uint8Array(_.length+1);for(let N=0;N<_.length;N++)A[N]=_.charCodeAt(N);return A[_.length]=0,A},d=f(s),h=f(l),p=f(c),m=[{id:254,type:4,count:1,value:0},{id:256,type:4,count:1,value:e},{id:257,type:4,count:1,value:t},{id:258,type:3,count:1,value:16},{id:259,type:3,count:1,value:1},{id:262,type:3,count:1,value:32803},{id:271,type:2,count:d.length,value:d},{id:272,type:2,count:h.length,value:h},{id:273,type:4,count:1,value:o},{id:277,type:3,count:1,value:1},{id:278,type:4,count:1,value:t},{id:279,type:4,count:1,value:a},{id:33421,type:3,count:2,value:[2,2]},{id:33422,type:1,count:4,value:[0,1,1,2]},{id:50706,type:1,count:4,value:[1,4,0,0]},{id:50717,type:2,count:p.length,value:p}],v=2+m.length*12+4;let x=0;const y=m.map(_=>{let A=1;_.type===3&&(A=2),_.type===4&&(A=4);const N=_.count*A,C=N<=4;let F=0;return C||(F=x,x+=N,x%2!==0&&x++),{..._,fits:C,totalBytes:N,extraOffset:F}}),g=i+v,b=g+x,S=new ArrayBuffer(b),w=new DataView(S),k=new Uint8Array(S);w.setUint16(0,18761,!0),w.setUint16(2,42,!0),w.setUint32(4,i,!0);const j=new Uint8Array(r.buffer,r.byteOffset,r.byteLength);k.set(j,o);let P=i;return w.setUint16(P,m.length,!0),P+=2,y.forEach(_=>{if(w.setUint16(P,_.id,!0),w.setUint16(P+2,_.type,!0),w.setUint32(P+4,_.count,!0),_.fits){const A=P+8;Array.isArray(_.value)?_.value.forEach((N,C)=>{_.type===1&&w.setUint8(A+C,N),_.type===3&&w.setUint16(A+C*2,N,!0)}):_.value instanceof Uint8Array||(_.type===3&&w.setUint16(A,_.value,!0),_.type===4&&w.setUint32(A,_.value,!0))}else{const A=g+_.extraOffset;w.setUint32(P+8,A,!0);const N=A;_.value instanceof Uint8Array?k.set(_.value,N):Array.isArray(_.value)&&_.value.forEach((C,F)=>{_.type===1&&w.setUint8(N+F,C),_.type===3&&w.setUint16(N+F*2,C,!0)})}P+=12}),w.setUint32(P,0,!0),S}let s0=null;async function mu(){if(!s0)try{const n=(await ZZ(()=>import("./joraw-s-AasnOP.js"),[])).default;if(typeof n!="function")throw new Error("JoRaw WASM import failed");const a=new URL("/assets/joraw-BUh50ws_.wasm",import.meta.url).href;s0=n({locateFile:(o,i)=>o.endsWith("joraw.wasm")?a:i+o})}catch(r){throw console.error("Failed to load joraw.js:",r),r}const e=await s0,t=e.LibRaw||e.JoRaw;if(!t)throw new Error("JoRaw class not found");return t}const tQ=[[3.2404542,-1.5371385,-.4985314],[-.969266,1.8760108,.041556],[.0556434,-.2040259,1.0572252]],nc=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055;async function l0(e,t=0,r=0){const n=await mu(),a=new n;try{await a.open(new Uint8Array(e));const o=a.getRawImage(),i=new Uint16Array(o.data),s=o.width,l=o.height,c=Math.floor((s-t)/6)*2,f=Math.floor((l-r)/6)*2;if(c<=0||f<=0)throw new Error("Image too small for X-Trans subsampling with current phase.");const d=new Uint16Array(c*f);for(let p=0;p<f/2;p++){const m=p*6+r;if(m+3>=l)break;const v=m*s,x=(m+3)*s,y=p*2,g=y*c,b=(y+1)*c;for(let S=0;S<c/2;S++){const w=S*6+t;if(w+1>=s)break;const k=S*2;d[g+k]=i[v+w+1],d[g+k+1]=i[v+w+0],d[b+k]=i[x+w+0],d[b+k+1]=i[x+w+1]}}return{dngBuffer:yf(c,f,d),width:c,height:f}}finally{a.delete?a.delete():a.close()}}async function rQ(e){const t=await createImageBitmap(e),r=t.width,n=t.height,a=document.createElement("canvas");a.width=r,a.height=n;const o=a.getContext("2d");if(!o)throw new Error("Failed to create canvas context");o.drawImage(t,0,0);const s=o.getImageData(0,0,r,n).data,l=r*n,c=new Uint16Array(l);for(let d=0;d<n;d++)for(let h=0;h<r;h++){const p=(d*r+h)*4,m=d*r+h,v=d%2===0,x=h%2===0;let y=0;v&&x?y=s[p]:!v&&!x?y=s[p+2]:y=s[p+1],c[m]=y*64}return{previewBlob:await new Promise(d=>a.toBlob(d,"image/png"))||e,analysisData:{data:c,width:r,height:n,bayerPattern:"RGGB",blackLevels:[0,0,0,0],whiteLevel:16320,metadata:{description:"Standard image (non-RAW)"},isThreePlane:!0}}}const nQ=async e=>{const t=await mu(),r=new t;try{await r.open(e,{useCameraWb:!0,outputBps:8,noAutoBright:!0,userQual:3,outputColor:1});const n=await r.imageData();return new Promise((a,o)=>{const i=document.createElement("canvas");i.width=n.width,i.height=n.height;const s=i.getContext("2d");if(!s){o(new Error("Could not create canvas context"));return}const l=s.createImageData(n.width,n.height),c=n.data,f=n.width*n.height;for(let d=0;d<f;d++){const h=d*3,p=d*4;l.data[p]=c[h],l.data[p+1]=c[h+1],l.data[p+2]=c[h+2],l.data[p+3]=255}s.putImageData(l,0,0),i.toBlob(d=>{d?a(d):o(new Error("Canvas to Blob failed"))},"image/jpeg",.85)})}finally{r.delete?r.delete():r.close()}},Gd=async e=>{var n,a,o,i,s,l,c,f,d;const t=await mu(),r=new t;try{if(await r.open(e,{}),typeof r.getRawImage!="function")throw new Error("WASM mismatch");const h=r.getRawImage();let p=new Uint16Array(h.data);const m=await r.metadata(!0),v=((n=m.idata)==null?void 0:n.filters)||0,x=((a=m.idata)==null?void 0:a.colors)||0,y=v===0&&x===3,g=v===9;let b=[];if((o=m.color_data)!=null&&o.cblack_rawpy_style)b=m.color_data.cblack_rawpy_style;else if((s=(i=m.color_data)==null?void 0:i.dng_levels)!=null&&s.dng_cblack)b=m.color_data.dng_levels.dng_cblack;else if(((l=m.black_level_per_channel)==null?void 0:l.length)>=4)b=m.black_level_per_channel;else if(((c=m.cblack)==null?void 0:c.length)>=4)b=m.cblack;else if(((d=(f=m.color)==null?void 0:f.cblack)==null?void 0:d.length)>=4)b=m.color.cblack;else{const w=m.black_level||m.color_data&&m.color_data.black||0;b=[w,w,w,w]}const S=[Number(b[0])||0,Number(b[1])||0,Number(b[2])||0,Number(b[3])||0];return{data:p,width:h.width,height:h.height,bayerPattern:m.color_desc||"RGGB",blackLevels:S,whiteLevel:m.white_level||16383,metadata:m,isThreePlane:y,isXTrans:g}}finally{r.delete?r.delete():r.close()}};async function Jo(e){const t=new Uint8Array(e.slice(0)),r=new Uint8Array(e.slice(0)),[n,a]=await Promise.all([nQ(t),Gd(r)]);return{previewBlob:n,analysisData:a}}async function Hd(e){const t=new Uint8Array(e.slice(0));return Gd(t)}const F2=e=>(e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,e++,e);async function c0(e,t,r,n=!0){const a=await Gd(new Uint8Array(e)),o=await Gd(new Uint8Array(t));if(a.width!==o.width||a.height!==o.height)throw new Error("Dimension Mismatch");const i=a.width,s=a.height,l=r?F2(i):i,c=r?F2(s):s,f=l*c,d=new Uint16Array(f),h=6e4,p=1.41421356;for(let m=0;m<s;m++){const v=m*i,x=m*l;for(let y=0;y<i;y++){const g=a.data[v+y],b=o.data[v+y];let S=g-b;n&&(S/=p);let w=S+h;w=Math.max(0,Math.min(65535,w)),d[x+y]=Math.round(w)}}return{rawData:d,width:l,height:c,metadata:a.metadata}}function Gi(e,t,r,n,a,o,i){const s=Math.max(0,Math.floor(n)),l=Math.max(0,Math.floor(a)),c=Math.min(t,Math.ceil(n+o)),f=Math.min(r,Math.ceil(a+i)),d=[0,0,0,0],h=[0,0,0,0],p=[0,0,0,0];for(let x=l;x<f;x++){const y=x*t,g=x%2;for(let b=s;b<c;b++){const S=b%2,w=e[y+b],k=g*2+S;d[k]+=w,h[k]+=w*w,p[k]++}}const m=[0,0,0,0],v=[0,0,0,0];for(let x=0;x<4;x++)if(p[x]>0){const y=d[x]/p[x];m[x]=y;const b=h[x]/p[x]-y*y;v[x]=Math.sqrt(Math.max(0,b))}return{x:s,y:l,width:c-s,height:f-l,means:m,stdDevs:v,pixelCount:p.reduce((x,y)=>x+y,0)}}function z2(e,t,r,n,a,o,i=0,s=0){const l=Math.max(0,Math.floor(n.x)),c=Math.max(0,Math.floor(n.y)),f=Math.min(t,Math.ceil(n.x+n.w)),d=Math.min(r,Math.ceil(n.y+n.h)),h=a>>1,p=a&1,m=(o>>1)+i,v=(o&1)+s;let x=0,y=0,g=0;for(let P=c;P<d-2;P+=2)for(let _=l;_<f-2;_+=2){const A=(P+h)*t+(_+p),N=(P+m)*t+(_+v);P+m>=r||_+v>=t||(x+=e[A],y+=e[N],g++)}if(g<2)return{sumCov:0,sumVar1:0,sumVar2:0,n:0};const b=x/g,S=y/g;let w=0,k=0,j=0;for(let P=c;P<d-2;P+=2)for(let _=l;_<f-2;_+=2){const A=(P+h)*t+(_+p),N=(P+m)*t+(_+v);if(P+m>=r||_+v>=t)continue;const C=e[A],F=e[N],L=C-b,I=F-S;w+=L*I,k+=L*L,j+=I*I}return{sumCov:w,sumVar1:k,sumVar2:j,n:g}}function aQ(e){if(e.n<2)return 0;const t=Math.sqrt(e.sumVar1*e.sumVar2);return t===0?0:e.sumCov/t}function oQ(e,t,r,n,a,o,i,s,l,c,f){if(c<=l)return[];const d=Math.max(0,Math.floor(n)),h=Math.max(0,Math.floor(a)),p=Math.min(t,Math.ceil(n+o)),m=Math.min(r,Math.ceil(a+i)),v=c-l,x=f?Math.floor(v)+1:s,y=v/x,g=[new Uint32Array(x),new Uint32Array(x),new Uint32Array(x),new Uint32Array(x)];for(let S=h;S<m;S++){const w=S*t,k=S%2;for(let j=d;j<p;j++){const P=j%2,_=e[w+j];if(_<l||_>c)continue;const A=k*2+P;let N;f?N=Math.floor(_-l):N=Math.floor((_-l)/y),N<0&&(N=0),N>=x&&(N=x-1),g[A][N]++}}const b=[];for(let S=0;S<x;S++){const w=l+(f?S:S*y);b.push({binStart:w,c0:g[0][S],c1:g[1][S],c2:g[2][S],c3:g[3][S]})}return b}function iQ(e,t,r,n,a,o=!1,i=!1,s={rows:!1,rowGroup:0,cols:!1,colGroup:0},l=!0,c=1){const f=Math.max(0,Math.floor(n.x)),d=Math.max(0,Math.floor(n.y)),h=Math.min(t,Math.ceil(n.x+n.w)),p=Math.min(r,Math.ceil(n.y+n.h)),m=h-f,v=p-d;if(m<=1||v<=1)return null;let x=0;for(let N=f;N<h;N++)N%2===(a&1)&&x++;let y=0;for(let N=d;N<p;N++)N%2===a>>1&&y++;if(x<4||y<4)return null;const g=Math.max(1,c),b=Math.floor(2*x/(g+1)),S=Math.floor(2*y/(g+1));if(b<4||S<4)return null;const w=new Ys(b),k=new Ys(S),j=new Float32Array(Math.floor(b/2)+1),P=new Float32Array(Math.floor(S/2)+1);let _=0,A=0;for(let N=d;N<p;N++){const C=N%2;if(a>>1!==C||s.rows&&(N>>1&1)!==s.rowGroup)continue;const F=N*t,L=new Float32Array(x);let I=0;for(let U=f;U<h;U++)U%2===(a&1)&&I<x&&(L[I++]=e[F+U]);for(let U=0;U<g;U++){const B=Math.floor(U*b/2);if(B+b>x)break;const R=L.slice(B,B+b);w.calculateSpectrum(R,j,i),_++}if(!l)break}for(let N=f;N<h;N++){const C=N%2;if((a&1)!==C||s.cols&&(N>>1&1)!==s.rowGroup)continue;const F=new Float32Array(y);let L=0;for(let I=d;I<p;I++)I%2===a>>1&&L<y&&(F[L++]=e[I*t+N]);for(let I=0;I<g;I++){const U=Math.floor(I*S/2);if(U+S>y)break;const B=F.slice(U,U+S);k.calculateSpectrum(B,P,i),A++}if(!l)break}if(_>0)for(let N=0;N<j.length;N++)j[N]/=_;if(A>0)for(let N=0;N<P.length;N++)P[N]/=A;return{avgHoriz:Array.from(j),avgVert:Array.from(P),sampleCount:{h:_,v:A}}}function sQ(e,t,r,n,a,o=!1){const i=Math.max(0,Math.floor(n.x)),s=Math.max(0,Math.floor(n.y)),l=Math.min(t,Math.ceil(n.x+n.w)),c=Math.min(r,Math.ceil(n.y+n.h));let f=-1;for(let g=s;g<c;g++)if(g%2===a>>1){f=g;break}if(f===-1)return null;let d=-1;for(let g=i;g<l;g++)if(g%2===(a&1)){d=g;break}if(d===-1)return null;const h=[];for(let g=f;g<c;g+=2){const b=g*t,S=[];for(let w=d;w<l;w+=2)S.push(e[b+w]);h.push(S)}const p=h.length;if(p===0)return null;const m=h[0].length;if(m===0)return null;const v=new Float32Array(m*p);for(let g=0;g<p;g++){const b=h[g];for(let S=0;S<m;S++)v[g*m+S]=b[S]}const x=JZ(v,m,p,o),y=eQ(x,m,p);return{width:m,height:p,data:y}}function lQ(e,t,r,n,a,o,i){const{x:s,y:l,w:c,h:f}=n,d=[],h=Math.max(0,Math.floor(s)),p=Math.max(0,Math.floor(l)),m=Math.min(t,Math.ceil(s+c)),v=Math.min(r,Math.ceil(l+f)),x=a>>1,y=a&1;for(let k=p;k<v;k++){if(k%2!==x)continue;const j=k*t;for(let P=h;P<m;P++){if(P%2!==y)continue;const _=e[j+P];_>=o&&_<=i&&d.push(_-o)}}if(d.length===0)return null;d.sort((k,j)=>k-j);const g=[d[0]];for(let k=1;k<d.length;k++)d[k]!==d[k-1]&&g.push(d[k]);const b=[],S=[],w={};for(let k=0;k<g.length-1;k++){const j=g[k],_=g[k+1]-j;b.push(_),S.push({x:j,y:_}),w[_]=(w[_]||0)+1}return{uniqueCount:g.length,diffCount:b.length,stepCounts:w,plotData:S}}async function U2(e,t){const r=await mu(),n=new r;try{const a=new Uint8Array(e.slice(0));let o=!1,i=[];if(t.customMatrix&&t.customMatrix.length===9){const h=[[t.customMatrix[0],t.customMatrix[1],t.customMatrix[2]],[t.customMatrix[3],t.customMatrix[4],t.customMatrix[5]],[t.customMatrix[6],t.customMatrix[7],t.customMatrix[8]]],p=QZ(h);if(p){const m=t.wbGains?t.wbGains[0]:1,v=t.wbGains?t.wbGains[1]:1,y=B2(p,[[m,0,0],[0,1,0],[0,0,v]]),g=B2(tQ,y);i=[g[0][0],g[0][1],g[0][2],g[1][0],g[1][1],g[1][2],g[2][0],g[2][1],g[2][2]],o=!0}else throw new Error("Custom Matrix is not invertible.")}const s={outputBps:16,noAutoBright:!0,bright:o?1:Math.pow(2,t.exposure)};t.blackLevel&&t.blackLevel.length===4&&(s.userBlack=0,s.userCblack=t.blackLevel.map(h=>{const p=Math.round(h);return p===0?1:p})),t.demosaicMethod===-1?s.noInterpolation=!0:s.userQual=t.demosaicMethod,o?(s.outputColor=0,s.gamma=[1,1],s.userMul=[1,1,1,1],s.useCameraWb=!1):(s.outputColor=1,s.useCameraWb=!0),await n.open(a,s);const l=await n.imageData(),c=new ImageData(l.width,l.height),f=c.data,d=new Uint16Array(l.data.buffer,l.data.byteOffset,l.data.byteLength/2);if(o&&i.length===9){const h=i,m=Math.pow(2,t.exposure)*.25;for(let v=0;v<d.length;v+=3){const x=d[v]/65535,y=d[v+1]/65535,g=d[v+2]/65535;let b=h[0]*x+h[1]*y+h[2]*g,S=h[3]*x+h[4]*y+h[5]*g,w=h[6]*x+h[7]*y+h[8]*g;b*=m,S*=m,w*=m,b=Math.max(0,Math.min(1,b)),S=Math.max(0,Math.min(1,S)),w=Math.max(0,Math.min(1,w)),b=nc(b),S=nc(S),w=nc(w);const k=v/3*4;f[k]=Math.round(b*255),f[k+1]=Math.round(S*255),f[k+2]=Math.round(w*255),f[k+3]=255}}else for(let h=0;h<d.length;h+=3){const p=h/3*4;f[p]=d[h]>>8,f[p+1]=d[h+1]>>8,f[p+2]=d[h+2]>>8,f[p+3]=255}return c}finally{n.delete?n.delete():n.close()}}async function cQ(e,t,r=!1,n=!1){const a=await mu(),o=new a;try{if(t.renderMode==="zero-dependency"||t.renderMode==="advanced-zero-dep"){await o.open(new Uint8Array(e));const i=await o.metadata(!0),s=(i==null?void 0:i.white_level)||16383,l=o.getRawImage(),{width:c,height:f,data:d}=l,h=new Uint16Array(c*f),p=Math.pow(2,t.exposure);if(t.renderMode==="advanced-zero-dep"&&t.advancedZeroDep){const{bl:m,bg:v,fg:x}=t.advancedZeroDep,y=(v[1]+v[3])/2,g=(x[1]+x[3])/2;for(let b=0;b<f;b++){const S=b%2;for(let w=0;w<c;w++){const k=w%2;let j=0;!S&&!k?j=0:!S&&k?j=1:S&&!k?j=3:j=2;const P=d[b*c+w],_=m[j],A=v[j],N=x[j],C=Math.max(P-_,0),F=N-A||1e-9,L=(C-A)/F;let I;L<0?I=C*(y/Math.max(A,1e-9)):L>1?I=C*(g/Math.max(N,1e-9)):I=(1-L)*y+L*g,I*=p;const U=Math.max(0,Math.min(1,I/s)),B=n?nc(U):U;h[b*c+w]=Math.round(B*65535)}}}else{const m=t.blackLevel||[0,0,0,0],v=t.wbGains?t.wbGains[0]:1,x=t.wbGains?t.wbGains[1]:1;for(let y=0;y<f;y++){const g=y%2;for(let b=0;b<c;b++){const S=b%2,w=g*2+S,k=d[y*c+b],j=m[w];let P=k-j;w===0?P*=v:w===3&&(P*=x),P*=p;const _=Math.max(0,Math.min(1,P/(r?s-j:s))),A=n?nc(_):_;h[y*c+b]=Math.round(A*65535)}}}return{data:h,width:c,height:f,channels:1}}else{const i=new Uint8Array(e.slice(0)),s={outputBps:16,noAutoBright:!r,bright:1,outputColor:n?1:0,useCameraWb:!0};t.blackLevel&&t.blackLevel.length===4&&(s.userBlack=0,s.userCblack=t.blackLevel.map(d=>Math.max(1,Math.round(d)))),t.demosaicMethod===-1?s.noInterpolation=!0:s.userQual=t.demosaicMethod,await o.open(i,s);const l=await o.imageData(),c=new Uint16Array(l.data.buffer,l.data.byteOffset,l.data.byteLength/2),f=Math.pow(2,t.exposure);if(f!==1)for(let d=0;d<c.length;d++)c[d]=Math.max(0,Math.min(65535,Math.round(c[d]*f)));return{data:c,width:l.width,height:l.height,channels:3}}}finally{o.delete?o.delete():o.close()}}const uQ=({isOpen:e,onClose:t,onMinimize:r,rawImageData:n,roi:a,isBGGR:o,zIndex:i,onFocus:s,initialPosition:l,initialInternalState:c,onUpdateState:f})=>{const[d,h]=O.useState((c==null?void 0:c.channelMode)||"All"),[p,m]=O.useState((c==null?void 0:c.minVal)??0),[v,x]=O.useState((c==null?void 0:c.maxVal)??16383),[y,g]=O.useState((c==null?void 0:c.binCount)??100),[b,S]=O.useState((c==null?void 0:c.pointToPoint)??!1),[w,k]=O.useState((c==null?void 0:c.showTheo)??!1),[j,P]=O.useState((c==null?void 0:c.theoMean)??"512"),[_,A]=O.useState((c==null?void 0:c.theoSigma)??"10"),[N,C]=O.useState((c==null?void 0:c.theoAmp)??"1000"),[F,L]=O.useState(!1),[I,U]=O.useState([]),[B,R]=O.useState(null),[$,G]=O.useState(l||{x:100,y:100}),[ee,Q]=O.useState(!1),q=O.useRef({x:0,y:0});O.useEffect(()=>{f&&f({channelMode:d,minVal:p,maxVal:v,binCount:y,pointToPoint:b,showTheo:w,theoMean:j,theoSigma:_,theoAmp:N})},[d,p,v,y,b,w,j,_,N]),O.useEffect(()=>{if(!e||!n||!a)return;if(v<=p){R("Invalid range: Max must be greater than Min");return}R(null),L(!0);const W=setTimeout(()=>{try{const ve=oQ(n.data,n.width,n.height,a.x,a.y,a.w,a.h,y,p,v,b);U(ve)}catch(ve){console.error("Histogram calc error:",ve),R("Error calculating histogram")}finally{L(!1)}},50);return()=>clearTimeout(W)},[e,n,a==null?void 0:a.x,a==null?void 0:a.y,a==null?void 0:a.w,a==null?void 0:a.h,y,p,v,b]);const K=O.useMemo(()=>{if(!w)return I;const W=parseFloat(j),ve=parseFloat(_),he=parseFloat(N);return isNaN(W)||isNaN(ve)||isNaN(he)||ve<=0?I:I.map(Oe=>{const Ke=Oe.binStart,et=-Math.pow(Ke-W,2)/(2*Math.pow(ve,2)),Qt=he*Math.exp(et);return{...Oe,theory:Qt}})},[I,w,j,_,N]),le=()=>{if(I.length===0)return;let W=0,ve=0;if(I.forEach(he=>{const Oe=Math.max(he.c0||0,he.c1||0,he.c2||0,he.c3||0);Oe>W&&(W=Oe,ve=he.binStart)}),P(ve.toFixed(2)),C(W.toString()),parseFloat(_)===0||isNaN(parseFloat(_))){const he=v-p;A((he/20).toFixed(2))}},ue=(W,ve,he)=>{s&&s(),!(he.closest("button")||he.closest("input")||he.closest("select"))&&(Q(!0),q.current={x:W-$.x,y:ve-$.y})},Se=W=>{ue(W.clientX,W.clientY,W.target)},be=W=>{const ve=W.touches[0];ue(ve.clientX,ve.clientY,W.target)};if(O.useEffect(()=>{const W=he=>{if(ee){const Oe="touches"in he?he.touches[0].clientX:he.clientX,Ke="touches"in he?he.touches[0].clientY:he.clientY;G({x:Oe-q.current.x,y:Ke-q.current.y})}},ve=()=>Q(!1);return ee&&(window.addEventListener("mousemove",W),window.addEventListener("mouseup",ve),window.addEventListener("touchmove",W,{passive:!1}),window.addEventListener("touchend",ve)),()=>{window.removeEventListener("mousemove",W),window.removeEventListener("mouseup",ve),window.removeEventListener("touchmove",W),window.removeEventListener("touchend",ve)}},[ee]),!e)return null;const Y=o?{c0:"Blue",c1:"Green 1",c2:"Green 2",c3:"Red"}:{c0:"Red",c1:"Green 1",c2:"Green 2",c3:"Blue"},ie=o?{c0:"#3b82f6",c1:"#22c55e",c2:"#4ade80",c3:"#ef4444"}:{c0:"#ef4444",c1:"#22c55e",c2:"#4ade80",c3:"#3b82f6"},ge="step";return u.jsxs("div",{className:"fixed flex flex-col bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 shadow-2xl rounded-xl resize-both overflow-hidden min-w-[500px] min-h-[400px] w-[900px] h-[650px]",style:{left:$.x,top:$.y,zIndex:i??100},onMouseDownCapture:s,children:[u.jsxs("div",{className:`flex justify-between items-center p-4 border-b border-gray-200 dark:border-slate-700 flex-shrink-0 bg-white dark:bg-slate-900 select-none touch-none ${ee?"cursor-grabbing":"cursor-grab"}`,onMouseDown:Se,onTouchStart:be,children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-slate-100 pointer-events-none",children:"ROI Histogram"}),u.jsxs("div",{className:"flex items-center gap-1",children:[r&&u.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 dark:hover:text-red-400 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),u.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-800/50 flex flex-wrap gap-x-6 gap-y-3 items-center border-b border-gray-200 dark:border-slate-700 text-xs flex-shrink-0 relative z-10",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-gray-500 dark:text-slate-400 font-bold uppercase tracking-tight",children:"Channel:"}),u.jsxs("select",{value:d,onChange:W=>h(W.target.value),className:"bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-gray-900 dark:text-slate-100 outline-none focus:ring-1 focus:ring-cyan-500",children:[u.jsx("option",{value:"All",children:"All Colors"}),u.jsx("option",{value:"0",children:Y.c0}),u.jsx("option",{value:"1",children:Y.c1}),u.jsx("option",{value:"2",children:Y.c2}),u.jsx("option",{value:"3",children:Y.c3})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-gray-500 dark:text-slate-400 font-bold uppercase tracking-tight",children:"Range:"}),u.jsx("input",{type:"number",value:p,onChange:W=>m(Number(W.target.value)),className:"w-16 px-1.5 py-1 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-gray-900 dark:text-slate-100 text-right font-mono"}),u.jsx("span",{className:"text-gray-400",children:"-"}),u.jsx("input",{type:"number",value:v,onChange:W=>x(Number(W.target.value)),className:"w-16 px-1.5 py-1 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-gray-900 dark:text-slate-100 text-right font-mono"})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:b,onChange:W=>S(W.target.checked),className:"w-3.5 h-3.5 text-cyan-600 rounded border-gray-300 focus:ring-cyan-500"}),u.jsx("span",{className:"text-gray-700 dark:text-slate-300 select-none font-semibold",children:"PTP"})]}),!b&&u.jsxs("div",{className:"flex items-center gap-1.5",children:[u.jsx("span",{className:"text-gray-500 dark:text-slate-400 font-bold",children:"Bins:"}),u.jsx("input",{type:"number",value:y,onChange:W=>g(Math.max(1,Number(W.target.value))),className:"w-12 px-1.5 py-1 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-gray-900 dark:text-slate-100 text-right font-mono"})]})]}),u.jsx("div",{className:"h-6 w-px bg-gray-200 dark:bg-slate-700"}),u.jsxs("div",{className:`flex items-center gap-3 p-1.5 rounded-lg border transition-all ${w?"bg-amber-50/30 dark:bg-amber-900/10 border-amber-200/50 dark:border-amber-800/50":"bg-transparent border-transparent"}`,children:[u.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer select-none",children:[u.jsx("input",{type:"checkbox",checked:w,onChange:W=>k(W.target.checked),className:"w-3.5 h-3.5 text-amber-500 rounded border-gray-300 focus:ring-amber-500 bg-white dark:bg-slate-700"}),u.jsx("span",{className:`font-bold uppercase tracking-tight ${w?"text-amber-600 dark:text-amber-400":"text-gray-400"}`,children:"Theoretical Bell"})]}),w&&u.jsxs("div",{className:"flex items-center gap-2 animate-in fade-in slide-in-from-left-2 duration-200",children:[u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("span",{className:"text-[8px] text-gray-400 uppercase font-bold",children:"Mean()"}),u.jsx("input",{type:"text",value:j,onChange:W=>P(W.target.value),className:"w-14 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center text-[10px] py-0.5 outline-none focus:border-amber-500"})]}),u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("span",{className:"text-[8px] text-gray-400 uppercase font-bold",children:"Sigma()"}),u.jsx("input",{type:"text",value:_,onChange:W=>A(W.target.value),className:"w-12 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center text-[10px] py-0.5 outline-none focus:border-amber-500"})]}),u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("span",{className:"text-[8px] text-gray-400 uppercase font-bold",children:"Scale(A)"}),u.jsx("input",{type:"text",value:N,onChange:W=>C(W.target.value),className:"w-16 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center text-[10px] py-0.5 outline-none focus:border-amber-500"})]}),u.jsx("button",{onClick:le,className:"mt-3 px-2 py-0.5 bg-amber-600 hover:bg-amber-500 text-white text-[9px] font-bold rounded shadow-sm active:scale-95 transition-all",title:"Set Mean and Amplitude based on current peak",children:"AUTO FIT"})]})]})]}),u.jsxs("div",{className:"flex-1 p-4 relative bg-white dark:bg-slate-900 overflow-hidden min-h-0",children:[u.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-0 pointer-events-none select-none opacity-10 mix-blend-normal dark:mix-blend-plus-lighter",children:u.jsx("svg",{viewBox:"0 0 500 60",className:"w-96 h-auto",children:u.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"36",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})}),F&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-20 bg-white/50 dark:bg-slate-900/50 backdrop-blur-[1px]",children:u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("div",{className:"w-8 h-8 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mb-2"}),u.jsx("span",{className:"text-sm text-cyan-600 dark:text-cyan-400 font-semibold",children:"Calculating Histogram..."})]})}),B?u.jsx("div",{className:"flex items-center justify-center h-full text-red-500 relative z-10",children:B}):u.jsx("div",{className:"relative z-10 w-full h-full",children:u.jsx(_s,{width:"100%",height:"100%",children:u.jsxs(Lv,{data:K,children:[u.jsx(Mi,{strokeDasharray:"3 3",stroke:"#374151",opacity:.3}),u.jsx(ka,{dataKey:"binStart",type:"number",domain:[p,v],tickFormatter:W=>Math.floor(W).toString(),tick:{fill:"#9ca3af",fontSize:12},allowDataOverflow:!0,label:{value:"DN Value",position:"insideBottom",offset:-5,fill:"#9ca3af",fontSize:12}}),u.jsx(Sa,{tick:{fill:"#9ca3af",fontSize:12},label:{value:"Count",angle:-90,position:"insideLeft",fill:"#9ca3af",fontSize:12}}),u.jsx(gn,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"0.5rem",color:"#f3f4f6"},itemStyle:{fontSize:"12px"},labelFormatter:W=>`DN: ${Math.round(Number(W))}`,formatter:(W,ve)=>[Math.round(W),ve]}),u.jsx(Qa,{wrapperStyle:{paddingTop:"10px"}}),w&&u.jsx(zr,{type:"monotone",dataKey:"theory",name:"Ideal Bell (Gaussian)",stroke:"#f59e0b",strokeWidth:2.5,strokeDasharray:"5 5",dot:!1,isAnimationActive:!1}),(d==="All"||d==="0")&&u.jsx(zr,{type:ge,dataKey:"c0",name:Y.c0,stroke:ie.c0,dot:!1,strokeWidth:1.5,activeDot:{r:4},isAnimationActive:!1}),(d==="All"||d==="1")&&u.jsx(zr,{type:ge,dataKey:"c1",name:Y.c1,stroke:ie.c1,dot:!1,strokeWidth:1.5,activeDot:{r:4},isAnimationActive:!1}),(d==="All"||d==="2")&&u.jsx(zr,{type:ge,dataKey:"c2",name:Y.c2,stroke:ie.c2,dot:!1,strokeWidth:1.5,activeDot:{r:4},isAnimationActive:!1}),(d==="All"||d==="3")&&u.jsx(zr,{type:ge,dataKey:"c3",name:Y.c3,stroke:ie.c3,dot:!1,strokeWidth:1.5,activeDot:{r:4},isAnimationActive:!1})]})})})]})]})},Yh=({initialPosition:e={x:20,y:80},children:t,className:r="",onClose:n,zIndex:a,onFocus:o})=>{const[i,s]=O.useState(e),[l,c]=O.useState(!1),[f,d]=O.useState({x:0,y:0}),h=O.useRef(null),p=(x,y,g)=>{o&&o(),!(g.closest("button")||g.closest("input"))&&(c(!0),d({x:x-i.x,y:y-i.y}))},m=x=>{p(x.clientX,x.clientY,x.target)},v=x=>{const y=x.touches[0];p(y.clientX,y.clientY,x.target)};return O.useEffect(()=>{const x=g=>{var b,S;if(l){g.cancelable&&g.preventDefault();const w="touches"in g?g.touches[0].clientX:g.clientX,k="touches"in g?g.touches[0].clientY:g.clientY,j=w-f.x,P=k-f.y,_=window.innerWidth-(((b=h.current)==null?void 0:b.offsetWidth)||100),A=window.innerHeight-(((S=h.current)==null?void 0:S.offsetHeight)||100);s({x:Math.max(0,Math.min(j,_)),y:Math.max(0,Math.min(P,A))})}},y=()=>{c(!1)};return l&&(window.addEventListener("mousemove",x),window.addEventListener("mouseup",y),window.addEventListener("touchmove",x,{passive:!1}),window.addEventListener("touchend",y)),()=>{window.removeEventListener("mousemove",x),window.removeEventListener("mouseup",y),window.removeEventListener("touchmove",x),window.removeEventListener("touchend",y)}},[l,f]),u.jsxs("div",{ref:h,style:{left:i.x,top:i.y,zIndex:a??90},onMouseDownCapture:o,className:`fixed shadow-2xl rounded-xl border border-gray-200 dark:border-slate-700 bg-white/95 dark:bg-slate-900/90 backdrop-blur-md transition-shadow duration-200 ${l?"cursor-grabbing shadow-xl ring-2 ring-cyan-500/30":"shadow-lg"} ${r}`,children:[u.jsx("div",{onMouseDown:m,onTouchStart:v,className:"absolute inset-0 w-full h-8 cursor-grab active:cursor-grabbing z-0 touch-none",title:"Drag to move"}),u.jsx("div",{className:"relative z-10 pointer-events-none",children:u.jsx("div",{className:"pointer-events-auto",children:t})})]})},fQ=({isOpen:e,onClose:t,rawImageData:r,roi:n,selectedChannel:a,channelName:o,zIndex:i,onFocus:s,initialPosition:l})=>{const c=O.useRef(null),[f,d]=O.useState(!1),[h,p]=O.useState(null),[m,v]=O.useState(null),[x,y]=O.useState(!0),[g,b]=O.useState(!0),[S,w]=O.useState("-1"),[k,j]=O.useState("8"),[P,_]=O.useState(64),[A,N]=O.useState(45),[C,F]=O.useState(60),L=O.useRef(!1),I=O.useRef({x:0,y:0});O.useEffect(()=>{!e||!r||!n||(d(!0),v(null),setTimeout(()=>{try{const $=sQ(r.data,r.width,r.height,n,a,g);$?p($):v("Could not extract valid data from ROI.")}catch($){console.error("2D FFT Error",$),v("Calculation Error: "+$.message)}finally{d(!1)}},50))},[e,r,n,a,g]),O.useEffect(()=>{if(!h||!c.current)return;const $=c.current,G=$.getContext("2d");if(!G)return;const ee=$.width,Q=$.height;G.clearRect(0,0,ee,Q),G.fillStyle="#0f172a",G.fillRect(0,0,ee,Q);const q=h.width,K=h.height,le=h.data,ue=Math.pow(10,parseFloat(S)||-1),Se=Math.pow(10,parseFloat(k)||8);let be=ue,Y=Se;x&&(be=Math.log10(Math.max(1e-10,ue)),Y=Math.log10(Math.max(1e-10,Se)));const ie=Y-be||1,ge=ee/2,W=Q/2+50,ve=Math.min(ee,Q)*.4,he=.6,Oe=A*Math.PI/180,Ke=C*Math.PI/180,et=Math.cos(Oe),Qt=Math.sin(Oe),Gt=Math.cos(Ke),Rr=Math.sin(Ke),ct=(He,bt,Bt)=>{const Pt=He*et-bt*Qt,Xr=He*Qt+bt*et,Xt=Xr*Gt-Bt*Rr,Kt=Xr*Rr+Bt*Gt;return{x:ge+Pt*ve,y:W-Xt*ve,depth:Kt}},ur=Math.max(16,P),Jt=Math.max(1,Math.floor(q/ur)),Ht=Math.max(1,Math.floor(K/ur)),gr=(He,bt)=>{let Bt=le[bt*q+He];return x&&(Bt=Math.log10(Math.max(1e-10,Bt))),Bt=Math.max(be,Math.min(Y,Bt)),(Bt-be)/ie},Mr=He=>`hsl(${(1-He)*240}, 80%, 50%)`,Vt=[];for(let He=0;He<K-Ht;He+=Ht)for(let bt=0;bt<q-Jt;bt+=Jt){const Bt=bt,Pt=He,Xr=bt+Jt,Xt=He,Kt=bt+Jt,Lr=He+Ht,dt=bt,sn=He+Ht,Kr=gr(Bt,Pt),En=gr(Xr,Xt),Tn=gr(Kt,Lr),bn=gr(dt,sn),ln=(Kr+En+Tn+bn)/4,br=ct(Bt/(q-1)-.5,Pt/(K-1)-.5,Kr*he),Ir=ct(Xr/(q-1)-.5,Xt/(K-1)-.5,En*he),Cr=ct(Kt/(q-1)-.5,Lr/(K-1)-.5,Tn*he),cn=ct(dt/(q-1)-.5,sn/(K-1)-.5,bn*he),$n=(br.depth+Ir.depth+Cr.depth+cn.depth)/4;Vt.push({pts:[{x:br.x,y:br.y},{x:Ir.x,y:Ir.y},{x:Cr.x,y:Cr.y},{x:cn.x,y:cn.y}],avgDepth:$n,avgZ:ln})}Vt.sort((He,bt)=>He.avgDepth-bt.avgDepth),G.lineWidth=.5,Vt.forEach(He=>{G.fillStyle=Mr(He.avgZ),G.beginPath(),G.moveTo(He.pts[0].x,He.pts[0].y),G.lineTo(He.pts[1].x,He.pts[1].y),G.lineTo(He.pts[2].x,He.pts[2].y),G.lineTo(He.pts[3].x,He.pts[3].y),G.closePath(),G.fill()}),G.fillStyle="#aaa",G.font="10px monospace";const or=ct(-.5,-.5,0),Hr=ct(.5,-.5,0),er=ct(-.5,.5,0),Vr=ct(.5,.5,0);G.strokeStyle="#666",G.beginPath(),G.moveTo(or.x,or.y),G.lineTo(Hr.x,Hr.y),G.lineTo(Vr.x,Vr.y),G.lineTo(er.x,er.y),G.closePath(),G.stroke(),G.fillText("0",or.x-10,or.y+10),G.fillText("Fx",Hr.x+5,Hr.y),G.fillText("Fy",er.x-15,er.y);const at=ct(-.5,-.5,he);G.strokeStyle="#fff",G.beginPath(),G.moveTo(or.x,or.y),G.lineTo(at.x,at.y),G.stroke(),G.fillText(`10^${k}`,at.x-25,at.y),G.fillText(`10^${S}`,or.x-25,or.y)},[h,x,A,C,S,k,P]);const U=$=>{L.current=!0,I.current={x:$.clientX,y:$.clientY}},B=$=>{if(!L.current)return;const G=$.clientX-I.current.x,ee=$.clientY-I.current.y;N(Q=>Q-G*.5),F(Q=>Math.max(0,Math.min(90,Q+ee*.5))),I.current={x:$.clientX,y:$.clientY}},R=()=>{L.current=!1};return e?u.jsxs(Yh,{initialPosition:l||{x:100,y:100},onClose:t,zIndex:i,onFocus:s,className:"w-[700px] h-[600px] bg-slate-900 border border-slate-700 flex flex-col overflow-hidden shadow-2xl",children:[u.jsxs("div",{className:"flex justify-between items-center px-4 py-2 border-b border-slate-700 bg-slate-800",children:[u.jsxs("h3",{className:"text-sm font-bold text-slate-200 flex items-center gap-2",children:["2D FFT Power Spectrum - ",o,h&&u.jsxs("span",{className:"text-[10px] font-normal text-slate-400 bg-slate-700 px-2 py-0.5 rounded",children:[h.width,"x",h.height," (Chirp-Z)"]})]}),u.jsx("div",{className:"flex items-center gap-2",children:u.jsx("button",{onClick:t,className:"text-slate-400 hover:text-red-400 transition-colors",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})})]}),u.jsxs("div",{className:"p-3 bg-slate-800/80 flex flex-wrap gap-4 text-xs items-center border-b border-slate-700",children:[u.jsxs("div",{className:"flex items-center gap-2 bg-slate-900 px-2 py-1 rounded border border-slate-600",children:[u.jsx("span",{className:"text-slate-400 font-bold",children:"Range (10^x):"}),u.jsx("input",{type:"number",value:S,onChange:$=>w($.target.value),className:"w-10 bg-transparent text-slate-200 text-center border-b border-slate-600 focus:border-cyan-500 outline-none"}),u.jsx("span",{className:"text-slate-500",children:"to"}),u.jsx("input",{type:"number",value:k,onChange:$=>j($.target.value),className:"w-10 bg-transparent text-slate-200 text-center border-b border-slate-600 focus:border-cyan-500 outline-none"})]}),u.jsxs("div",{className:"flex items-center gap-2 bg-slate-900 px-2 py-1 rounded border border-slate-600",children:[u.jsx("span",{className:"text-slate-400 font-bold",children:"Density:"}),u.jsx("input",{type:"range",min:"16",max:"128",step:"16",value:P,onChange:$=>_(Number($.target.value)),className:"w-20 h-1.5 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-cyan-500"}),u.jsx("span",{className:"text-slate-300 w-6 text-right",children:P})]}),u.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none text-slate-300 hover:text-white",children:[u.jsx("input",{type:"checkbox",checked:x,onChange:$=>y($.target.checked),className:"rounded bg-slate-700 border-slate-600 accent-cyan-500"}),"Log Z"]}),u.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none text-slate-300 hover:text-white",children:[u.jsx("input",{type:"checkbox",checked:g,onChange:$=>b($.target.checked),className:"rounded bg-slate-700 border-slate-600 accent-fuchsia-500"}),"Hanning"]})]}),u.jsxs("div",{className:"flex-1 relative bg-slate-900 cursor-move",children:[f&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-slate-900/80 z-20 backdrop-blur-sm",children:u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx("div",{className:"w-8 h-8 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin"}),u.jsx("span",{className:"text-cyan-400 font-bold animate-pulse text-sm",children:"Computing full-size 2D FFT..."})]})}),m&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-slate-900/80 z-20 text-red-400 p-4 text-center",children:m}),u.jsx("canvas",{ref:c,width:700,height:500,className:"w-full h-full block",onMouseDown:U,onMouseMove:B,onMouseUp:R,onMouseLeave:R}),u.jsx("div",{className:"absolute bottom-2 right-2 text-[9px] text-slate-600 pointer-events-none",children:"Drag to Rotate"})]})]}):null},dQ=.5,Dm=1e-10,W2=(e,t)=>{const r=e.length-1;if(r<0)return Dm;const n=t/dQ*r,a=Math.round(n),o=e[Math.min(Math.max(0,a),r)]||0;return Math.max(o,Dm)},hQ=(e,t)=>{if(t<=0)return[1];const r=new Array(e);let n=0;for(let a=0;a<e;a++){const o=a-(e-1)/2,i=Math.exp(-(o*o)/(2*t*t));r[a]=i,n+=i}for(let a=0;a<e;a++)r[a]/=n;return r},pQ=({isOpen:e,onClose:t,onMinimize:r,rawImageData:n,roi:a,isBGGR:o,onUpdateROI:i,zIndex:s,onFocus:l,initialPosition:c,initialInternalState:f,onUpdateState:d,stackFiles:h})=>{const[p,m]=O.useState((f==null?void 0:f.selectedChannel)??0),[v,x]=O.useState(()=>(f==null?void 0:f.yMinExp)||localStorage.getItem("fft_y_min")||"1.73"),[y,g]=O.useState(()=>(f==null?void 0:f.yMaxExp)||localStorage.getItem("fft_y_max")||"8.00"),[b,S]=O.useState((f==null?void 0:f.useHanning)??!0),[w,k]=O.useState((f==null?void 0:f.doAverage)??!0),[j,P]=O.useState((f==null?void 0:f.welchSegments)??1),[_,A]=O.useState((f==null?void 0:f.showH)??!0),[N,C]=O.useState((f==null?void 0:f.showV)??!0),[F,L]=O.useState((f==null?void 0:f.interlaceRows)??!1),[I,U]=O.useState((f==null?void 0:f.rowGroup)??0),[B,R]=O.useState((f==null?void 0:f.interlaceCols)??!1),[$,G]=O.useState((f==null?void 0:f.colGroup)??0),[ee,Q]=O.useState(()=>(f==null?void 0:f.theoSigma)||localStorage.getItem("fft_theo_sigma")||"0.00"),[q,K]=O.useState(()=>(f==null?void 0:f.theoKernelSize)||localStorage.getItem("fft_theo_ksize")||"3"),[le,ue]=O.useState(()=>(f==null?void 0:f.theoNoiseStd)||localStorage.getItem("fft_theo_noise")||"7.5"),[Se,be]=O.useState(()=>(f==null?void 0:f.theoScale)||localStorage.getItem("fft_theo_scale")||"1.0"),[Y,ie]=O.useState((f==null?void 0:f.intStart)||"0"),[ge,W]=O.useState((f==null?void 0:f.intEnd)||"0.5"),[ve,he]=O.useState(!1),[Oe,Ke]=O.useState([]),[et,Qt]=O.useState(!1),[Gt,Rr]=O.useState(0),[ct,ur]=O.useState(null),[Jt,Ht]=O.useState(!1),[gr,Mr]=O.useState(!1),[Vt,or]=O.useState(null),[Hr,er]=O.useState(!1),[Vr,at]=O.useState(null),[He,bt]=O.useState(c||{x:50,y:50}),[Bt,Pt]=O.useState(!1),[Xr,Xt]=O.useState(null),[Kt,Lr]=O.useState({}),dt=O.useRef({x:0,y:0}),sn=o?{c0:"#3b82f6",c1:"#22c55e",c2:"#4ade80",c3:"#ef4444"}:{c0:"#ef4444",c1:"#22c55e",c2:"#4ade80",c3:"#3b82f6"},Kr=O.useMemo(()=>o?{0:"Blue",1:"Green 1",2:"Green 2",3:"Red"}:{0:"Red",1:"Green 1",2:"Green 2",3:"Blue"},[o]);O.useEffect(()=>{localStorage.setItem("fft_y_min",v),localStorage.setItem("fft_y_max",y),localStorage.setItem("fft_theo_sigma",ee),localStorage.setItem("fft_theo_ksize",q),localStorage.setItem("fft_theo_noise",le),localStorage.setItem("fft_theo_scale",Se)},[v,y,ee,q,le,Se]),O.useEffect(()=>{if(!e||!n||!a)return;Qt(!0),ur(null),Rr(0);const ne=setTimeout(async()=>{try{const Pe=p===-1?[0,1,2,3]:[p],_e=h&&h.length>1?h:[null],Je=_e.length,Fe={};let wt={h:0,v:0};for(let Me=0;Me<Je;Me++){Rr(Me+1);let tt;if(_e[Me]){const pt=await _e[Me].arrayBuffer();tt=await Hd(pt)}else tt=n;for(const pt of Pe){const gt=iQ(tt.data,tt.width,tt.height,a,pt,!1,b,{rows:F,rowGroup:I,cols:B,colGroup:$},w,j);gt&&(Fe[pt]||(Fe[pt]={h:new Array(gt.avgHoriz.length).fill(0),v:new Array(gt.avgVert.length).fill(0)}),gt.avgHoriz.forEach((tr,de)=>Fe[pt].h[de]+=tr/Je),gt.avgVert.forEach((tr,de)=>Fe[pt].v[de]+=tr/Je),wt=gt.sampleCount)}}if(Object.keys(Fe).length===0)throw new Error("ROI too small or no data found.");const ht=1024,ir=[];for(let Me=0;Me<ht;Me++){const tt=Me/(ht-1)*.5,pt={freq:parseFloat(tt.toFixed(6))};for(const gt of Pe)Fe[gt]&&(pt[`c${gt}_h`]=W2(Fe[gt].h,tt),pt[`c${gt}_v`]=W2(Fe[gt].v,tt));ir.push(pt)}Xt(wt),Ke(ir)}catch(Pe){console.error("FFT Loop Failed:",Pe),ur(Pe.message||"Unknown error during FFT processing")}finally{Qt(!1)}},100);return()=>clearTimeout(ne)},[e,n,a==null?void 0:a.x,a==null?void 0:a.y,a==null?void 0:a.w,a==null?void 0:a.h,p,b,w,j,F,I,B,$,h]);const En=()=>{const ne=parseFloat(Y),Pe=parseFloat(ge);if(isNaN(ne)||isNaN(Pe))return;const _e={},Je=p===-1?[0,1,2,3]:[p],Fe=Oe.filter(wt=>wt.freq>=ne&&wt.freq<=Pe);if(Fe.length===0){Lr({});return}Je.forEach(wt=>{let ht=0,ir=0;Fe.forEach(Me=>{const tt=Me[`c${wt}_h`],pt=Me[`c${wt}_v`];typeof tt=="number"&&(ht+=tt),typeof pt=="number"&&(ir+=pt)}),_e[wt]={h:ht/Fe.length,v:ir/Fe.length,count:Fe.length}}),Lr(_e)},Tn=O.useMemo(()=>{const ne=parseFloat(ee),Pe=parseInt(q),_e=parseFloat(le),Je=parseFloat(Se);if(isNaN(ne)||isNaN(Pe)||isNaN(_e)||isNaN(Je)||Oe.length===0)return Oe;const Fe=hQ(Pe,ne),wt=Fe.reduce((Me,tt)=>Me+tt*tt,0),ht=(Pe-1)/2,ir=_e*_e*Je;return Oe.map(Me=>{const tt=Me.freq,pt=2*Math.PI*tt;let gt=0,tr=0;for(let V=0;V<Pe;V++){const Ce=V-ht,rt=Fe[V],Le=-pt*Ce;gt+=rt*Math.cos(Le),tr+=rt*Math.sin(Le)}const de=gt*gt+tr*tr;return{...Me,theory:Math.max(Dm,ir*wt*de)}})},[Oe,ee,q,le,Se]),bn=ne=>{ne&&ne.activeLabel!==void 0&&(er(!0),at(Number(ne.activeLabel)),or(null))},ln=ne=>{if(Hr&&Vr!==null&&ne&&ne.activeLabel!==void 0){const Pe=Number(ne.activeLabel);or([Math.min(Vr,Pe),Math.max(Vr,Pe)])}},br=()=>er(!1),Ir=(ne,Pe,_e)=>{l&&l(),!(_e.closest("button")||_e.closest("input"))&&(Pt(!0),dt.current={x:ne-He.x,y:Pe-He.y})},Cr=ne=>{Ir(ne.clientX,ne.clientY,ne.target)},cn=ne=>{const Pe=ne.touches[0];Ir(Pe.clientX,Pe.clientY,ne.target)};O.useEffect(()=>{const ne=_e=>{if(Bt){const Je="touches"in _e?_e.touches[0].clientX:_e.clientX,Fe="touches"in _e?_e.touches[0].clientY:_e.clientY;bt({x:Je-dt.current.x,y:Fe-dt.current.y})}},Pe=()=>Pt(!1);return Bt&&(window.addEventListener("mousemove",ne),window.addEventListener("mouseup",Pe),window.addEventListener("touchmove",ne,{passive:!1}),window.addEventListener("touchend",Pe)),()=>{window.removeEventListener("mousemove",ne),window.removeEventListener("mouseup",Pe),window.removeEventListener("touchmove",ne),window.removeEventListener("touchend",Pe)}},[Bt]);const $n=O.useMemo(()=>{if(!Vt||Oe.length===0)return null;const[ne,Pe]=Vt,_e=Oe.filter(wt=>wt.freq>=ne&&wt.freq<=Pe);if(_e.length===0)return null;const Je=p===-1?[0,1,2,3]:[p],Fe={};return Je.forEach(wt=>{["h","v"].forEach(ht=>{const ir=`c${wt}_${ht}`;let Me=0,tt=0;for(const pt of _e){const gt=pt[ir];typeof gt=="number"&&(Me+=gt,tt++)}tt>0&&(Fe[`${ir}_sigma`]=Math.sqrt(Me/tt))})}),{count:_e.length,stats:Fe}},[Vt,Oe,p]),Tt=()=>{if(Oe.length===0)return;let ne=1/0,Pe=-1/0;if(Oe.forEach(ht=>{ht.freq<.01||ht.freq>.49||Object.keys(ht).forEach(ir=>{if(ir==="freq"||ir==="theory")return;const Me=ht[ir];typeof Me=="number"&&Me>0&&(Me<ne&&(ne=Me),Me>Pe&&(Pe=Me))})}),ne===1/0)return;const _e=Math.log10(ne),Je=Math.log10(Pe),Fe=Je-_e,wt=(Fe===0?1:Fe)*.1;x((_e-wt).toFixed(2)),g((Je+wt).toFixed(2))},Yt=(ne,Pe)=>{a&&i&&i({...a,x:a.x+ne,y:a.y+Pe})},$t=(ne,Pe)=>{a&&i&&i({...a,w:Math.max(2,a.w+ne),h:Math.max(2,a.h+Pe)})};return e?u.jsxs("div",{className:"fixed flex flex-col bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 shadow-2xl rounded-xl overflow-hidden resize-both min-w-[750px] min-h-[500px]",style:{left:He.x,top:He.y,width:"1000px",height:"850px",zIndex:s??100},onMouseDownCapture:l,children:[u.jsxs("div",{className:`flex justify-between items-center p-3 border-b border-gray-200 dark:border-slate-700 flex-shrink-0 bg-gray-50 dark:bg-slate-800 z-50 relative select-none touch-none ${Bt?"cursor-grabbing":"cursor-grab"}`,onMouseDown:Cr,onTouchStart:cn,children:[u.jsxs("h2",{className:"text-lg font-bold text-gray-900 dark:text-slate-100 flex items-center gap-2 pointer-events-none",children:["Power Spectrum Analysis",u.jsx("span",{className:"text-[10px] font-normal bg-white dark:bg-slate-700 px-2 py-1 rounded text-gray-500 border border-gray-200 dark:border-slate-600 shadow-sm",children:h&&h.length>1?`Stack Avg (${h.length} frames)`:"Single Mode"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[r&&u.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 dark:hover:text-red-400 p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),u.jsxs("div",{className:"flex flex-col bg-gray-50 dark:bg-slate-900/80 border-b border-gray-200 dark:border-slate-800 flex-shrink-0 z-40 relative px-4 py-3 gap-3 overflow-x-auto",children:[u.jsxs("div",{className:"flex items-center gap-6",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-[10px] font-bold text-gray-500 dark:text-slate-400 uppercase tracking-widest",children:"Channel"}),u.jsxs("div",{className:"flex bg-gray-100 dark:bg-slate-800 rounded-lg p-0.5 border border-gray-200 dark:border-slate-700 shadow-inner",children:[u.jsx("button",{onClick:()=>m(-1),className:`px-3 py-1 rounded text-[10px] font-bold transition-all ${p===-1?"bg-slate-700 text-white shadow-md":"text-gray-500 dark:text-slate-500 hover:bg-white dark:hover:bg-slate-700"}`,children:"All"}),[0,1,2,3].map(ne=>u.jsx("button",{onClick:()=>m(ne),className:`px-3 py-1 rounded text-[10px] font-bold transition-all ${p===ne?"bg-cyan-600 text-white shadow-md":"text-gray-500 dark:text-slate-500 hover:bg-white dark:hover:bg-slate-700"}`,children:Kr[ne]},ne))]})]}),u.jsx("div",{className:"h-6 w-px bg-gray-200 dark:bg-slate-700 mx-2"}),u.jsxs("button",{onClick:()=>he(!0),className:"flex items-center gap-1.5 px-4 py-1.5 bg-indigo-600 hover:bg-indigo-500 text-white text-[10px] font-bold rounded-lg shadow-lg shadow-indigo-500/30 transition-all active:scale-95 group border border-indigo-400/30",children:[u.jsx("svg",{className:"w-3.5 h-3.5 group-hover:animate-pulse",fill:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"2D Diagonal"]}),u.jsx("div",{className:"h-6 w-px bg-gray-200 dark:bg-slate-700 mx-2"}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-[10px] font-bold text-indigo-500 dark:text-indigo-400 uppercase tracking-widest",children:"Model"}),u.jsx("div",{className:"flex gap-2",children:[{label:"KSize",val:q,set:K,w:"w-10"},{label:"Sigma",val:ee,set:Q,w:"w-12"},{label:"Noise()",val:le,set:ue,w:"w-12"},{label:"Scale",val:Se,set:be,w:"w-12"}].map(ne=>u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("label",{className:"text-[8px] text-gray-400 dark:text-slate-500 uppercase font-bold mb-0.5",children:ne.label}),u.jsx("input",{type:"text",value:ne.val,onChange:Pe=>ne.set(Pe.target.value),className:`${ne.w} text-[11px] bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded px-1.5 py-0.5 text-center text-gray-900 dark:text-slate-100 outline-none focus:border-indigo-500 shadow-sm`})]},ne.label))})]})]}),u.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[u.jsxs("div",{className:"flex items-center gap-3 mr-2",children:[u.jsx("span",{className:"text-[10px] font-bold text-fuchsia-600 dark:text-fuchsia-500 uppercase tracking-widest",children:"Welch"}),u.jsx("input",{type:"range",min:"1",max:"16",step:"1",value:j,onChange:ne=>P(parseInt(ne.target.value)),className:"w-24 h-1.5 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-fuchsia-500"}),u.jsx("span",{className:"text-[10px] font-mono text-fuchsia-600 dark:text-fuchsia-400 w-4 font-bold",children:j})]}),u.jsx("div",{className:"h-6 w-px bg-gray-200 dark:bg-slate-700"}),u.jsxs("div",{className:"flex flex-col gap-1 px-2",children:[u.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer text-[10px] text-gray-500 dark:text-slate-400 hover:text-gray-900 dark:hover:text-slate-200 select-none",children:[u.jsx("input",{type:"checkbox",checked:F,onChange:ne=>L(ne.target.checked),className:"w-3 h-3 rounded text-cyan-600 border-gray-300 dark:border-slate-700 bg-white dark:bg-slate-800"})," Row Int."]}),u.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer text-[10px] text-gray-500 dark:text-slate-400 hover:text-gray-900 dark:hover:text-slate-200 select-none",children:[u.jsx("input",{type:"checkbox",checked:B,onChange:ne=>R(ne.target.checked),className:"w-3 h-3 rounded text-cyan-600 border-gray-300 dark:border-slate-700 bg-white dark:bg-slate-800"})," Col Int."]})]}),u.jsxs("div",{className:"flex flex-col gap-1.5 bg-gray-100 dark:bg-slate-800/60 p-1.5 rounded-lg border border-gray-200 dark:border-slate-700",children:[u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[u.jsx("div",{className:`w-3.5 h-3.5 rounded-md border flex items-center justify-center transition-colors ${b?"bg-fuchsia-600 border-fuchsia-600":"bg-white dark:bg-slate-900 border-gray-300 dark:border-slate-600"}`,children:b&&u.jsx("svg",{className:"w-2.5 h-2.5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:4,children:u.jsx("path",{d:"M5 13l4 4L19 7"})})}),u.jsx("input",{type:"checkbox",checked:b,onChange:ne=>S(ne.target.checked),className:"hidden"}),u.jsx("span",{className:"text-[10px] font-bold text-gray-700 dark:text-slate-300",children:"Hanning"})]}),u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[u.jsx("div",{className:`w-3.5 h-3.5 rounded-md border flex items-center justify-center transition-colors ${w?"bg-cyan-600 border-cyan-600":"bg-white dark:bg-slate-900 border-gray-300 dark:border-slate-600"}`,children:w&&u.jsx("svg",{className:"w-2.5 h-2.5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:4,children:u.jsx("path",{d:"M5 13l4 4L19 7"})})}),u.jsx("input",{type:"checkbox",checked:w,onChange:ne=>k(ne.target.checked),className:"hidden"}),u.jsx("span",{className:"text-[10px] font-bold text-gray-700 dark:text-slate-300",children:"Average"})]})]}),u.jsxs("div",{className:"flex gap-2 bg-gray-100 dark:bg-slate-800 p-1 rounded-lg border border-gray-200 dark:border-slate-700",children:[u.jsxs("button",{onClick:()=>A(!_),className:`px-2.5 py-1 rounded-md border text-[11px] font-bold transition-all flex items-center gap-1.5 ${_?"bg-cyan-900/40 text-cyan-400 border-cyan-500 shadow-[0_0_8px_rgba(6,182,212,0.3)]":"bg-white dark:bg-slate-900 text-gray-400 border-gray-300 dark:border-slate-700"}`,children:[u.jsx("div",{className:`w-2 h-2 rounded-full ${_?"bg-cyan-400":"bg-gray-400"}`})," H"]}),u.jsxs("button",{onClick:()=>C(!N),className:`px-2.5 py-1 rounded-md border text-[11px] font-bold transition-all flex items-center gap-1.5 ${N?"bg-cyan-900/40 text-cyan-400 border-cyan-500 shadow-[0_0_8px_rgba(6,182,212,0.3)]":"bg-white dark:bg-slate-900 text-gray-400 border-gray-300 dark:border-slate-700"}`,children:[u.jsx("div",{className:`w-2 h-2 rounded-full ${_?"bg-cyan-400":"bg-gray-400"}`})," V"]})]}),u.jsxs("div",{className:"ml-auto flex gap-2",children:[u.jsx("button",{onClick:()=>Mr(!gr),className:`px-3 py-1.5 rounded-lg text-[10px] font-bold transition-all border ${gr?"bg-emerald-600 text-white border-emerald-600 shadow-md":"bg-white dark:bg-slate-900 text-emerald-600 dark:text-emerald-400 border-emerald-200 dark:border-emerald-800 hover:bg-emerald-50"}`,children:""}),u.jsx("button",{onClick:()=>Ht(!Jt),className:`px-3 py-1.5 rounded-lg text-[10px] font-bold transition-all border ${Jt?"bg-indigo-600 text-white border-indigo-600 shadow-md":"bg-white dark:bg-slate-900 text-indigo-600 dark:text-indigo-400 border-indigo-200 dark:border-indigo-800 hover:bg-indigo-50"}`,children:"ROI"})]})]}),u.jsxs("div",{className:"flex items-center gap-4 justify-end border-t border-gray-200 dark:border-slate-800/50 pt-2.5",children:[u.jsx("button",{onClick:Tt,className:"px-4 py-1 text-[10px] font-bold bg-cyan-600/10 text-cyan-600 dark:text-cyan-400 hover:bg-cyan-600/20 rounded-md border border-cyan-500/30 transition-all uppercase tracking-widest shadow-sm",children:"Auto"}),u.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-bold text-gray-500 dark:text-slate-400 uppercase",children:["Y-AXIS (LOG)",u.jsxs("div",{className:"flex items-center bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-md overflow-hidden shadow-sm",children:[u.jsx("input",{type:"text",value:v,onChange:ne=>x(ne.target.value),className:"w-14 px-2 py-1 bg-transparent text-center outline-none text-gray-900 dark:text-slate-100 border-r border-gray-200 dark:border-slate-700"}),u.jsx("span",{className:"px-2 text-gray-400",children:"to"}),u.jsx("input",{type:"text",value:y,onChange:ne=>g(ne.target.value),className:"w-14 px-2 py-1 bg-transparent text-center outline-none text-gray-900 dark:text-slate-100"})]})]})]})]}),u.jsxs("div",{className:"flex-1 p-4 overflow-hidden flex flex-col gap-2 relative bg-gray-50/30 dark:bg-slate-900/30",children:[u.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none z-[50] select-none opacity-10",children:u.jsx("svg",{viewBox:"0 0 500 100",className:"w-3/4 h-auto drop-shadow-lg",children:u.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"24",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})}),et&&u.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center z-[55] bg-white/90 dark:bg-slate-900/90 backdrop-blur-[2px]",children:[u.jsx("div",{className:"w-10 h-10 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mb-4"}),u.jsx("span",{className:"text-cyan-600 dark:text-cyan-400 font-bold",children:"Computing FFT Stack..."}),h&&h.length>1&&u.jsxs("span",{className:"text-xs text-gray-500 mt-2 font-mono",children:["Processing frame ",Gt," / ",h.length]})]}),ct?u.jsx("div",{className:"flex items-center justify-center h-full text-red-500 font-semibold",children:ct}):u.jsxs("div",{className:"flex-1 bg-white dark:bg-slate-950 border border-gray-200 dark:border-slate-800 rounded-xl p-2 flex flex-col relative z-20 shadow-xl overflow-hidden",children:[u.jsx("div",{className:"flex-1 relative z-10",onMouseDown:bn,onMouseMove:ln,onMouseUp:br,style:{cursor:Hr?"col-resize":"crosshair"},children:u.jsx(_s,{width:"100%",height:"100%",children:u.jsxs(Lv,{data:Tn,margin:{top:10,right:10,bottom:20,left:0},children:[u.jsx(Mi,{strokeDasharray:"3 3",stroke:"#374151",opacity:.08}),u.jsx(ka,{dataKey:"freq",type:"number",domain:[0,.5],tickCount:6,tick:{fill:"#6b7280",fontSize:10},label:{value:"Frequency (cy/px)",position:"insideBottom",offset:-10,fill:"#6b7280",fontSize:11}}),u.jsx(Sa,{scale:"log",domain:[Math.pow(10,parseFloat(v)),Math.pow(10,parseFloat(y))],allowDataOverflow:!0,tick:{fill:"#6b7280",fontSize:10},tickFormatter:ne=>Number(ne).toExponential(0),width:45}),u.jsx(gn,{contentStyle:{backgroundColor:"rgba(15, 23, 42, 0.95)",border:"1px solid #334155",color:"#f3f4f6",fontSize:"11px",borderRadius:"8px"},formatter:ne=>[Number(ne).toExponential(3),""],labelFormatter:ne=>`Freq: ${Number(ne).toFixed(4)}`}),u.jsx(Qa,{wrapperStyle:{fontSize:"10px"}}),u.jsx(zr,{type:"monotone",dataKey:"theory",name:"Theory Model",stroke:"#6366f1",strokeWidth:2,dot:!1,isAnimationActive:!1}),[0,1,2,3].flatMap(ne=>{if(p!==-1&&p!==ne)return[];const Pe=`c${ne}_h`,_e=`c${ne}_v`,Je=sn[`c${ne}`],Fe=[];return _&&Fe.push(u.jsx(zr,{type:"linear",dataKey:Pe,name:`${Kr[ne]} (H)`,stroke:Je,strokeWidth:1,dot:!1,isAnimationActive:!1},`${ne}_h`)),N&&Fe.push(u.jsx(zr,{type:"linear",dataKey:_e,name:`${Kr[ne]} (V)`,stroke:Je,strokeWidth:1,strokeDasharray:"3 3",dot:!1,isAnimationActive:!1},`${ne}_v`)),Fe}),Vt&&u.jsx(gu,{x1:Vt[0],x2:Vt[1],fill:"#8884d8",fillOpacity:.15})]})})}),$n&&Vt&&u.jsxs("div",{className:"absolute bottom-12 left-12 bg-slate-900/90 backdrop-blur-md p-3 rounded-lg border border-indigo-500/50 shadow-2xl z-30 text-[10px] font-mono text-slate-100",children:[u.jsxs("div",{className:"text-indigo-400 font-bold mb-1 border-b border-indigo-500/30 pb-1",children:["Range: ",Vt[0].toFixed(3),"-",Vt[1].toFixed(3)]}),Object.entries($n.stats).map(([ne,Pe])=>u.jsxs("div",{className:"flex justify-between gap-4",children:[u.jsxs("span",{className:"text-slate-400",children:[ne,":"]}),u.jsx("span",{className:"font-bold text-cyan-400",children:Pe.toFixed(5)})]},ne))]})]})]}),gr&&u.jsxs("div",{className:"absolute top-48 right-8 z-[55] w-72 bg-white dark:bg-slate-900 rounded-xl shadow-2xl border border-gray-200 dark:border-slate-700 p-4 animate-in slide-in-from-top-2",children:[u.jsx("h4",{className:"text-[10px] uppercase font-bold text-emerald-600 dark:text-emerald-400 mb-2 border-b border-gray-100 dark:border-slate-800 pb-1",children:"Range Averaging"}),u.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[u.jsx("input",{type:"number",step:"0.01",value:Y,onChange:ne=>ie(ne.target.value),className:"w-16 px-1 py-0.5 text-xs border rounded bg-transparent dark:border-slate-600 dark:text-white"}),u.jsx("span",{className:"text-gray-400",children:"-"}),u.jsx("input",{type:"number",step:"0.01",value:ge,onChange:ne=>W(ne.target.value),className:"w-16 px-1 py-0.5 text-xs border rounded bg-transparent dark:border-slate-600 dark:text-white"}),u.jsx("button",{onClick:En,className:"flex-1 bg-emerald-600 text-white text-[10px] font-bold py-1 rounded",children:"Avg"})]}),u.jsx("div",{className:"flex flex-col gap-2 max-h-48 overflow-y-auto",children:[0,1,2,3].map(ne=>{const Pe=Kt[ne];if(!Pe)return null;const _e=sn[`c${ne}`];return u.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800/50 p-2 rounded text-[10px] border border-gray-100 dark:border-slate-800",children:[u.jsxs("div",{className:"flex items-center gap-2 font-bold mb-1",style:{color:_e},children:[Kr[ne]," ",u.jsxs("span",{className:"text-gray-400 font-normal",children:["(",Pe.count," pts)"]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-x-2 text-gray-700 dark:text-slate-300 font-mono",children:[u.jsxs("div",{children:["H: ",Pe.h.toExponential(3)]}),u.jsxs("div",{children:["V: ",Pe.v.toExponential(3)]})]})]},ne)})})]}),Jt&&u.jsx("div",{className:"absolute top-48 right-8 z-[55] w-56 bg-white dark:bg-slate-900 rounded-xl shadow-2xl border border-gray-200 dark:border-slate-700 p-4 animate-in slide-in-from-top-2",children:u.jsxs("div",{className:"flex flex-col gap-3",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"text-[9px] uppercase font-bold text-gray-400 mb-1",children:"Move"}),u.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[u.jsx("div",{}),u.jsx("button",{onClick:()=>Yt(0,-1),className:"p-1.5 bg-gray-100 dark:bg-slate-800 rounded",children:""}),u.jsx("div",{}),u.jsx("button",{onClick:()=>Yt(-1,0),className:"p-1.5 bg-gray-100 dark:bg-slate-800 rounded",children:""}),u.jsx("div",{}),u.jsx("button",{onClick:()=>Yt(1,0),className:"p-1.5 bg-gray-100 dark:bg-slate-800 rounded",children:""}),u.jsx("div",{}),u.jsx("button",{onClick:()=>Yt(0,1),className:"p-1.5 bg-gray-100 dark:bg-slate-800 rounded",children:""}),u.jsx("div",{})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-[9px] uppercase font-bold text-gray-400 mb-1",children:"Size"}),u.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[u.jsx("button",{onClick:()=>$t(2,0),className:"p-1 bg-gray-100 dark:bg-slate-800 rounded",children:"W+"}),u.jsx("button",{onClick:()=>$t(-2,0),className:"p-1 bg-gray-100 dark:bg-slate-800 rounded",children:"W-"}),u.jsx("button",{onClick:()=>$t(0,2),className:"p-1 bg-gray-100 dark:bg-slate-800 rounded",children:"H+"}),u.jsx("button",{onClick:()=>$t(0,-2),className:"p-1 bg-gray-100 dark:bg-slate-800 rounded",children:"H-"})]})]})]})}),u.jsx(fQ,{isOpen:ve,onClose:()=>he(!1),rawImageData:n,roi:a,selectedChannel:p===-1?0:p,channelName:p===-1?"Red (Default)":Kr[p],zIndex:s?s+2:102,onFocus:l})]}):null},gQ=({isOpen:e,onClose:t,onMinimize:r,rawImageData:n,roi:a,isBGGR:o,zIndex:i,onFocus:s,initialPosition:l,initialInternalState:c,onUpdateState:f})=>{const[d,h]=O.useState((c==null?void 0:c.selectedChannelKey)||"G1"),[p,m]=O.useState((c==null?void 0:c.blackLevel)??0),[v,x]=O.useState((c==null?void 0:c.whiteLevel)??16383),[y,g]=O.useState(null),[b,S]=O.useState(!1),[w,k]=O.useState(null),[j,P]=O.useState(l||{x:150,y:150}),[_,A]=O.useState(!1),N=O.useRef({x:0,y:0});O.useEffect(()=>{f&&f({selectedChannelKey:d,blackLevel:p,whiteLevel:v})},[d,p,v]),O.useEffect(()=>{if(e&&n&&!c){const B=n.blackLevels?Math.floor(n.blackLevels[1]):0;m(B),x(n.whiteLevel||16383),g(null)}},[e,n]);const C=()=>{if(!n||!a)return;k(null),S(!0);const R=(o?{B:0,G1:1,G2:2,R:3}:{R:0,G1:1,G2:2,B:3})[d];setTimeout(()=>{try{const $=lQ(n.data,n.width,n.height,a,R,p,v);$?g($):(k("No data found in selection with current filters."),g(null))}catch($){console.error("Analysis failed:",$),k($.message||"Analysis error")}finally{S(!1)}},50)},F=(B,R,$)=>{s&&s(),!($.closest("button")||$.closest("input")||$.closest("select"))&&(A(!0),N.current={x:B-j.x,y:R-j.y})},L=B=>{F(B.clientX,B.clientY,B.target)},I=B=>{const R=B.touches[0];F(R.clientX,R.clientY,B.target)};if(O.useEffect(()=>{const B=$=>{if(_){const G="touches"in $?$.touches[0].clientX:$.clientX,ee="touches"in $?$.touches[0].clientY:$.clientY;P({x:G-N.current.x,y:ee-N.current.y})}},R=()=>A(!1);return _&&(window.addEventListener("mousemove",B),window.addEventListener("mouseup",R),window.addEventListener("touchmove",B,{passive:!1}),window.addEventListener("touchend",R)),()=>{window.removeEventListener("mousemove",B),window.removeEventListener("mouseup",R),window.removeEventListener("touchmove",B),window.removeEventListener("touchend",R)}},[_]),!e)return null;const U=o?["B","G1","G2","R"]:["R","G1","G2","B"];return u.jsxs("div",{className:"fixed flex flex-col bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 shadow-2xl rounded-xl resize-both overflow-hidden min-w-[500px] min-h-[400px] w-[900px] h-[700px]",style:{left:j.x,top:j.y,zIndex:i??100},onMouseDownCapture:s,children:[u.jsxs("div",{className:`flex justify-between items-center p-4 border-b border-gray-200 dark:border-slate-700 bg-white dark:bg-slate-900 select-none touch-none ${_?"cursor-grabbing":"cursor-grab"}`,onMouseDown:L,onTouchStart:I,children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-slate-100 flex items-center gap-2 pointer-events-none",children:"Quantization Step Analysis"}),u.jsxs("div",{className:"flex items-center gap-1",children:[r&&u.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 p-2",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),u.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-800/50 border-b border-gray-200 dark:border-slate-700 flex flex-wrap gap-4 items-end flex-shrink-0",children:[u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"Channel"}),u.jsx("select",{value:d,onChange:B=>h(B.target.value),className:"bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded px-3 py-1.5 text-sm text-gray-900 dark:text-slate-100 outline-none focus:ring-1 focus:ring-cyan-500 min-w-[80px]",children:U.map(B=>u.jsx("option",{value:B,children:B},B))})]}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"Black Level"}),u.jsx("input",{type:"number",value:p,onChange:B=>m(Number(B.target.value)),className:"w-24 px-3 py-1.5 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-sm text-gray-900 dark:text-slate-100"})]}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"White Level"}),u.jsx("input",{type:"number",value:v,onChange:B=>x(Number(B.target.value)),className:"w-24 px-3 py-1.5 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-sm text-gray-900 dark:text-slate-100"})]}),u.jsx("button",{onClick:C,disabled:b,className:"mb-0.5 px-5 py-1.5 bg-cyan-600 hover:bg-cyan-500 text-white font-bold rounded shadow-sm hover:shadow transition-colors disabled:opacity-50 text-sm",children:b?"Analyzing...":"Run Analysis"})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-4 flex flex-col gap-4 bg-white dark:bg-slate-900 min-h-0",children:[w&&u.jsx("div",{className:"p-3 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 rounded text-sm text-center flex-shrink-0",children:w}),!y&&!b&&!w&&u.jsx("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-400 dark:text-slate-500 h-full",children:u.jsx("p",{children:"Configure parameters and click Run Analysis"})}),y&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 flex-shrink-0",children:[u.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 rounded-lg border border-gray-200 dark:border-slate-700 text-center",children:[u.jsx("div",{className:"text-xs text-gray-500 dark:text-slate-400 uppercase mb-1",children:"Unique Codes"}),u.jsx("div",{className:"text-xl font-bold text-gray-900 dark:text-slate-100",children:y.uniqueCount})]}),u.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 rounded-lg border border-gray-200 dark:border-slate-700 text-center",children:[u.jsx("div",{className:"text-xs text-gray-500 dark:text-slate-400 uppercase mb-1",children:"Total Diffs"}),u.jsx("div",{className:"text-xl font-bold text-gray-900 dark:text-slate-100",children:y.diffCount})]})]}),u.jsxs("div",{className:"bg-white dark:bg-slate-800/50 rounded-xl border border-gray-200 dark:border-slate-700 overflow-hidden flex-shrink-0",children:[u.jsx("div",{className:"px-4 py-2 bg-gray-50 dark:bg-slate-800 border-b border-gray-200 dark:border-slate-700 text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"Step Distribution"}),u.jsx("div",{className:"p-4 flex flex-wrap gap-x-8 gap-y-2 text-sm font-mono max-h-32 overflow-y-auto",children:Object.entries(y.stepCounts).sort((B,R)=>parseFloat(B[0])-parseFloat(R[0])).map(([B,R])=>u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("span",{className:"text-gray-500 dark:text-slate-400",children:["Step ",B,":"]}),u.jsx("span",{className:"text-cyan-600 dark:text-cyan-400 font-bold",children:String(R)})]},B))})]}),u.jsxs("div",{className:"flex-1 bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 rounded-xl p-2 relative overflow-hidden min-h-[300px]",children:[u.jsx("div",{className:"absolute top-2 left-4 text-xs font-bold text-gray-400 dark:text-slate-500 pointer-events-none z-20 bg-white/80 dark:bg-slate-900/80 px-2 rounded",children:"Step Size vs Code Value"}),u.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-0 pointer-events-none select-none opacity-10 mix-blend-normal dark:mix-blend-plus-lighter",children:u.jsx("svg",{viewBox:"0 0 500 60",className:"w-96 h-auto",children:u.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"36",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})}),u.jsx("div",{className:"relative z-10 w-full h-full",children:u.jsx(_s,{width:"100%",height:"100%",children:u.jsxs(Lv,{data:y.plotData,margin:{top:20,right:20,bottom:20,left:10},children:[u.jsx(Mi,{strokeDasharray:"3 3",stroke:"#374151",opacity:.1}),u.jsx(ka,{dataKey:"x",type:"number",domain:["auto","auto"],tick:{fill:"#9ca3af",fontSize:10},label:{value:"Code Value (Shifted)",position:"insideBottom",offset:-10,fill:"#9ca3af",fontSize:11}}),u.jsx(Sa,{tick:{fill:"#9ca3af",fontSize:10},domain:[0,"auto"],allowDataOverflow:!1,label:{value:"Step Size (Delta)",angle:-90,position:"insideLeft",fill:"#9ca3af",fontSize:11}}),u.jsx(gn,{contentStyle:{backgroundColor:"rgba(17, 24, 39, 0.95)",border:"1px solid #374151",borderRadius:"0.5rem",color:"#f3f4f6",fontSize:"12px"},labelFormatter:B=>`Val: ${B}`,formatter:B=>[B,"Step Size"]}),u.jsx(zr,{type:"stepAfter",dataKey:"y",stroke:"#0891b2",strokeWidth:1.5,dot:{r:1.5,fill:"#0891b2",strokeWidth:0},activeDot:{r:4},isAnimationActive:!1})]})})})]})]})]})]})},mQ=({isOpen:e,onClose:t,rawImageData:r,roi:n,isBGGR:a,zIndex:o,onFocus:i,initialPosition:s,stackFiles:l})=>{const[c,f]=O.useState("cross"),[d,h]=O.useState("R"),[p,m]=O.useState("B"),[v,x]=O.useState("H"),[y,g]=O.useState(null),[b,S]=O.useState(!1),[w,k]=O.useState(0),[j,P]=O.useState(0),[_,A]=O.useState("single"),N=a?{B:0,G1:1,G2:2,R:3}:{R:0,G1:1,G2:2,B:3},C=a?["B","G1","G2","R"]:["R","G1","G2","B"],F=async L=>{if(!r||!n)return;S(!0),A(L),k(0),g(null);let I=N[d],U=c==="cross"?N[p]:I,B=0,R=0;c==="self"&&(v==="H"?R=2:B=2),setTimeout(async()=>{try{let $={sumCov:0,sumVar1:0,sumVar2:0,n:0};if(L==="single")$=z2(r.data,r.width,r.height,n,I,U,B,R);else if(l&&l.length>0)for(let G=0;G<l.length;G++){k(G+1);const ee=await l[G].arrayBuffer(),Q=await Hd(ee),q=z2(Q.data,Q.width,Q.height,n,I,U,B,R);$.sumCov+=q.sumCov,$.sumVar1+=q.sumVar1,$.sumVar2+=q.sumVar2,$.n+=q.n}P($.n),g(aQ($))}catch($){console.error("Pearson calculation failed",$),alert("Calculation error: "+$.message)}finally{S(!1)}},50)};return e?u.jsxs(Yh,{initialPosition:s||{x:200,y:200},onClose:t,zIndex:o,onFocus:i,className:"w-80 bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 flex flex-col shadow-2xl overflow-hidden",children:[u.jsxs("div",{className:"flex justify-between items-center px-4 py-3 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800",children:[u.jsxs("h3",{className:"text-sm font-bold text-gray-700 dark:text-slate-200 flex items-center gap-2",children:["Pearson Correlation",u.jsx("span",{className:"text-[10px] font-normal bg-white dark:bg-slate-700 px-1.5 py-0.5 rounded border border-gray-200 dark:border-slate-600",children:"r"})]}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 transition-colors",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("div",{className:"p-4 flex flex-col gap-4",children:[u.jsxs("div",{className:"flex bg-gray-100 dark:bg-slate-800 p-1 rounded-lg border border-gray-200 dark:border-slate-700",children:[u.jsx("button",{onClick:()=>f("cross"),className:`flex-1 py-1 text-[10px] font-bold rounded transition-all ${c==="cross"?"bg-indigo-600 text-white shadow":"text-gray-500 dark:text-slate-400 hover:bg-gray-200 dark:hover:bg-slate-700"}`,children:"Cross-Channel"}),u.jsx("button",{onClick:()=>f("self"),className:`flex-1 py-1 text-[10px] font-bold rounded transition-all ${c==="self"?"bg-indigo-600 text-white shadow":"text-gray-500 dark:text-slate-400 hover:bg-gray-200 dark:hover:bg-slate-700"}`,children:"Self-Adjacent"})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:"flex-1 flex flex-col gap-1",children:[u.jsx("label",{className:"text-[9px] uppercase font-bold text-gray-400",children:c==="cross"?"Channel 1":"Channel"}),u.jsx("select",{value:d,onChange:L=>h(L.target.value),className:"bg-gray-100 dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded px-2 py-1.5 text-xs text-gray-700 dark:text-slate-200 outline-none focus:ring-1 focus:ring-indigo-500",children:C.map(L=>u.jsx("option",{value:L,children:L},L))})]}),u.jsx("div",{className:"text-gray-300 dark:text-slate-600 mt-4 font-mono",children:c==="cross"?"":""}),u.jsxs("div",{className:"flex-1 flex flex-col gap-1",children:[u.jsx("label",{className:"text-[9px] uppercase font-bold text-gray-400",children:c==="cross"?"Channel 2":"Direction"}),c==="cross"?u.jsx("select",{value:p,onChange:L=>m(L.target.value),className:"bg-gray-100 dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded px-2 py-1.5 text-xs text-gray-700 dark:text-slate-200 outline-none focus:ring-1 focus:ring-indigo-500",children:C.map(L=>u.jsx("option",{value:L,children:L},L))}):u.jsxs("div",{className:"flex h-[28px] bg-gray-100 dark:bg-slate-800 rounded border border-gray-200 dark:border-slate-700 p-0.5",children:[u.jsx("button",{onClick:()=>x("H"),className:`flex-1 text-[9px] font-bold rounded ${v==="H"?"bg-slate-300 dark:bg-slate-600 text-indigo-600 dark:text-indigo-400":"text-gray-400"}`,children:"Horiz"}),u.jsx("button",{onClick:()=>x("V"),className:`flex-1 text-[9px] font-bold rounded ${v==="V"?"bg-slate-300 dark:bg-slate-600 text-indigo-600 dark:text-indigo-400":"text-gray-400"}`,children:"Vert"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[u.jsx("button",{onClick:()=>F("single"),disabled:b,className:"w-full py-2 bg-indigo-600 hover:bg-indigo-500 disabled:bg-gray-400 text-white font-bold rounded shadow-md transition-all active:scale-95 text-xs",children:b&&_==="single"?"Calculating...":"Calc Current Frame"}),l&&l.length>0&&u.jsxs("button",{onClick:()=>F("stack"),disabled:b,className:"w-full py-2 bg-emerald-600 hover:bg-emerald-500 disabled:bg-gray-400 text-white font-bold rounded shadow-md transition-all active:scale-95 text-xs flex flex-col items-center justify-center",children:[u.jsx("span",{children:"Calc Stack Concatenated"}),b&&_==="stack"&&u.jsxs("span",{className:"text-[9px] font-normal opacity-80",children:["Progress: ",w," / ",l.length]})]})]}),y!==null&&u.jsxs("div",{className:"mt-2 p-4 bg-gray-50 dark:bg-slate-800/50 rounded-xl border border-gray-200 dark:border-slate-700 text-center animate-in fade-in slide-in-from-top-2",children:[u.jsxs("div",{className:"text-[10px] uppercase font-bold text-gray-400 dark:text-slate-500 mb-1",children:[c==="cross"?"Cross-Channel":`Self-Adj (${v})`," r"]}),u.jsx("div",{className:"text-2xl font-mono font-bold text-indigo-600 dark:text-indigo-400 select-all",style:{fontSize:"24px"},children:y.toFixed(5)}),u.jsxs("div",{className:"text-[9px] text-gray-400 mt-2 font-mono",children:["N = ",j.toLocaleString()," pairs"]}),u.jsx("div",{className:"mt-3 text-[10px] font-bold",children:Math.abs(y)>.5?u.jsx("span",{className:"text-red-500",children:"Significant Correlation"}):Math.abs(y)>.1?u.jsx("span",{className:"text-amber-500",children:"Weak Correlation"}):u.jsx("span",{className:"text-emerald-500",children:"Near-Zero (Uncorrelated)"})})]})]}),u.jsx("div",{className:"p-3 bg-gray-50/50 dark:bg-slate-800/30 text-[9px] text-gray-400 dark:text-slate-600 italic border-t border-gray-100 dark:border-slate-800",children:c==="cross"?"Comparing two color channels in the same Bayer 2x2 cells.":`Comparing pixel (r,c) with (r${v==="V"?"+2":""}, c${v==="H"?"+2":""}) in the same channel.`})]}):null},yQ=[{href:"https://y-g-jiang.github.io/CBLD.html",text:" (Primary Source)",abbr:"CBLD",description:"ISO",highlight:!0},{href:"https://y-G-jiang.github.io/LAC.html",text:"",abbr:"LAC",description:""},{href:"https://y-G-jiang.github.io/CCGV.html",text:"adobeIECMF",abbr:"CCGV",description:"acrRAWxy"},{href:"https://y-G-jiang.github.io/JTJS.html",text:"",abbr:"JTJS",description:"CMF/"},{href:"https://y-G-jiang.github.io/XJZS.html",text:"",abbr:"XJZS",description:""}],vQ=({isOpen:e,onClose:t})=>e?u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",onClick:t,children:u.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-3xl rounded-2xl shadow-2xl border border-gray-200 dark:border-slate-700 overflow-hidden flex flex-col max-h-[90vh]",onClick:r=>r.stopPropagation(),children:[u.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"About / Tools"}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 transition-colors p-1 rounded hover:bg-gray-200 dark:hover:bg-slate-700",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("div",{className:"p-6 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-slate-700",children:[u.jsx("div",{className:"mb-8 p-4 bg-gray-50 dark:bg-slate-800/50 rounded-xl border border-gray-100 dark:border-slate-700 text-center",children:u.jsxs("p",{className:"text-lg text-gray-700 dark:text-slate-300",children:[u.jsx("span",{className:"font-bold mr-2",children:"about:"}),u.jsx("a",{href:"https://y-g-jiang.github.io/JOindex.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline break-all font-mono",children:"https://y-g-jiang.github.io/JOindex.html"})]})}),u.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[u.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 flex-1"}),u.jsx("span",{className:"text-sm font-bold text-gray-400 dark:text-slate-500 uppercase tracking-wider",children:"Primary Resources"}),u.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 flex-1"})]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:yQ.map(r=>u.jsxs("a",{href:r.href,target:"_blank",rel:"noopener noreferrer",className:`group block p-4 rounded-xl border transition-all duration-200 relative overflow-hidden ${r.highlight?"border-cyan-500 dark:border-cyan-400 bg-cyan-50/30 dark:bg-cyan-900/10 shadow-lg scale-[1.02] ring-2 ring-cyan-500/20":"border-gray-200 dark:border-slate-700 bg-white dark:bg-slate-800/30 hover:bg-gray-50 dark:hover:bg-slate-800 hover:border-cyan-500"}`,children:[u.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-gradient-to-bl from-cyan-500/5 to-transparent -mr-8 -mt-8 rounded-full pointer-events-none group-hover:from-cyan-500/10 transition-colors"}),u.jsxs("div",{className:"flex items-center gap-3 mb-2 relative z-10",children:[u.jsx("span",{className:`px-2 py-1 text-xs font-bold rounded transition-colors border ${r.highlight?"bg-cyan-600 text-white border-cyan-500":"bg-gray-100 dark:bg-slate-700 text-gray-600 dark:text-slate-300 border-gray-200 dark:border-slate-600 group-hover:border-cyan-200"}`,children:r.abbr}),u.jsx("h3",{className:`font-bold transition-colors ${r.highlight?"text-cyan-700 dark:text-cyan-300":"text-gray-800 dark:text-slate-200 group-hover:text-cyan-600"}`,children:r.text})]}),u.jsx("p",{className:`text-xs pl-1 transition-colors relative z-10 ${r.highlight?"text-cyan-600/80 dark:text-cyan-400/80":"text-gray-500 dark:text-slate-400"}`,children:r.description})]},r.abbr))})]})]})}):null,xQ=({isOpen:e,onClose:t,data:r,fileName:n,warning:a})=>{const[o,i]=O.useState(""),s=f=>{const d=new WeakSet;try{return JSON.stringify(f,(h,p)=>{if(typeof p=="bigint")return p.toString()+"n";if(typeof p=="object"&&p!==null){if(d.has(p))return"[Circular]";if(d.add(p),ArrayBuffer.isView(p))return`[${p.constructor.name}]`}return p})}catch{return"[Unable to serialize object]"}},l=O.useMemo(()=>{if(!r)return[];const f=[],d=(h,p=0)=>{if(p>5)return"...";if(h==null)return String(h);if(h instanceof Date)return h.toLocaleString();if(typeof h=="number")return h.toString();if(typeof h=="string")return h;if(typeof h=="bigint")return h.toString()+"n";if(ArrayBuffer.isView(h))return`<${h.constructor.name} len=${h.length} bytes=${h.byteLength}>`;if(h instanceof ArrayBuffer)return`<ArrayBuffer bytes=${h.byteLength}>`;if(typeof h=="object"){if(Array.isArray(h))return h.length===0?"[]":h.length>20?`[${h.slice(0,10).map(x=>typeof x=="number"?x.toFixed(2):d(x,p+1)).join(", ")}, ... (+${h.length-10} more)]`:`[${h.map(v=>typeof v=="number"?Number.isInteger(v)?v:v.toFixed(4):d(v,p+1)).join(", ")}]`;try{const m=Object.keys(h);return m.length>5?`{Object with ${m.length} keys}`:s(h)}catch{return"<Complex Object>"}}return String(h)};try{if(typeof r!="object")return[{key:"Value",value:String(r)}];Object.keys(r).sort().forEach(p=>{if(p==="MakerNote"||p==="UserComment"||p.includes("Strip")||p.includes("Offset")){f.push({key:p,value:"<Binary/Internal Data>"});return}const m=r[p];f.push({key:p,value:d(m)})})}catch(h){console.error("Error processing EXIF data:",h),f.push({key:"Error",value:"Failed to process metadata structure."})}return f},[r]);if(!e)return null;const c=l.filter(f=>f.key.toLowerCase().includes(o.toLowerCase())||f.value.toLowerCase().includes(o.toLowerCase()));return u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",onClick:t,children:u.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-3xl max-h-[90vh] rounded-2xl shadow-2xl flex flex-col border border-gray-200 dark:border-slate-700",onClick:f=>f.stopPropagation(),children:[u.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-gray-200 dark:border-slate-700",children:[u.jsxs("div",{className:"overflow-hidden",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-slate-100",children:"EXIF Data"}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mt-1 font-mono truncate",children:n})]}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 transition-colors p-2 rounded-full hover:bg-gray-100 dark:hover:bg-slate-800",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a&&u.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 px-4 py-2 border-b border-amber-100 dark:border-amber-800/50 text-center",children:u.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400 whitespace-pre-line font-medium leading-relaxed",children:a})}),u.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50",children:u.jsxs("div",{className:"relative",children:[u.jsx("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),u.jsx("input",{type:"text",placeholder:"Search tags...",value:o,onChange:f=>i(f.target.value),className:"w-full pl-9 pr-4 py-2 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded-lg text-sm focus:ring-2 focus:ring-cyan-500 outline-none text-gray-900 dark:text-slate-100 transition-colors placeholder-gray-400"})]})}),u.jsx("div",{className:"overflow-y-auto flex-1 p-0 scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-slate-700",children:c.length>0?u.jsxs("table",{className:"w-full text-left border-collapse table-fixed",children:[u.jsx("thead",{className:"bg-gray-50 dark:bg-slate-800 sticky top-0 shadow-sm z-10",children:u.jsxs("tr",{children:[u.jsx("th",{className:"py-3 px-5 font-semibold text-xs text-gray-500 dark:text-slate-400 uppercase tracking-wider w-1/3 border-b border-gray-200 dark:border-slate-700",children:"Tag Name"}),u.jsx("th",{className:"py-3 px-5 font-semibold text-xs text-gray-500 dark:text-slate-400 uppercase tracking-wider w-2/3 border-b border-gray-200 dark:border-slate-700",children:"Value"})]})}),u.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-slate-800",children:c.map(f=>u.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-800/50 transition-colors group",children:[u.jsx("td",{className:"py-2 px-5 text-sm font-medium text-cyan-600 dark:text-cyan-400 font-mono break-words align-top",children:f.key}),u.jsx("td",{className:"py-2 px-5 text-sm text-gray-700 dark:text-slate-300 font-mono break-words align-top group-hover:text-gray-900 dark:group-hover:text-slate-100",children:f.value})]},f.key))})]}):u.jsx("div",{className:"flex flex-col items-center justify-center h-64 text-gray-400 dark:text-slate-500",children:u.jsxs("p",{children:['No tags found matching "',o,'"']})})}),u.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50 flex justify-end rounded-b-2xl",children:u.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-800 dark:text-white rounded-lg text-sm font-semibold transition-colors",children:"Close"})})]})})},bQ=100,u0=e=>{if(e.length===0)return 0;if(e.length===1)return e[0];if(e.length===2)return .5*(e[0]+e[1]);let t=[...e].sort((r,n)=>r-n);for(;t.length>4;){let r=1/0,n=0;const a=t.length,o=Math.floor(a/2);for(let i=0;i<=a-o;i++){const s=t[i+o-1]-t[i];s<r&&(r=s,n=i)}t=t.slice(n,n+o)}return t.reduce((r,n)=>r+n,0)/t.length},G2=({min:e,max:t,value:r,onChange:n,vertical:a=!1,logScale:o=!1})=>{const i=O.useRef(null),s=O.useRef(null),l=O.useCallback(g=>{const b=o?Math.max(1e-6,e):e,S=o?Math.max(b*1.0001,t):t,w=Math.max(b,Math.min(S,g));if(o){const k=Math.log10(b),j=Math.log10(S);return(Math.log10(w)-k)/(j-k)}return(w-b)/(S-b)},[e,t,o]),c=O.useCallback(g=>{const b=o?Math.max(1e-6,e):e,S=o?Math.max(b*1.0001,t):t;if(o){const w=Math.log10(b),k=Math.log10(S);return Math.pow(10,w+g*(k-w))}return b+g*(S-b)},[e,t,o]),f=(g,b)=>{g.preventDefault(),g.stopPropagation(),s.current=b;const S=k=>{if(!s.current||!i.current)return;const j=i.current.getBoundingClientRect();let P=0;a?P=(j.bottom-k.clientY)/j.height:P=(k.clientX-j.left)/j.width,P=Math.max(0,Math.min(1,P));const _=c(P);if(s.current==="min"){const A=r[1];n([Math.min(_,A),A])}else{const A=r[0];n([A,Math.max(_,A)])}},w=()=>{s.current=null,window.removeEventListener("mousemove",S),window.removeEventListener("mouseup",w)};window.addEventListener("mousemove",S),window.addEventListener("mouseup",w)},d=l(r[0])*100,h=l(r[1])*100,p=a?{left:"50%",top:0,bottom:0,width:"4px",transform:"translateX(-50%)"}:{top:"50%",left:0,right:0,height:"4px",transform:"translateY(-50%)"},m=a?{left:"50%",bottom:`${d}%`,height:`${h-d}%`,width:"4px",transform:"translateX(-50%)"}:{top:"50%",left:`${d}%`,width:`${h-d}%`,height:"4px",transform:"translateY(-50%)"},v="absolute w-3 h-3 bg-white border-2 border-cyan-600 rounded-full shadow-md cursor-pointer hover:scale-125 transition-transform z-10",x=a?{left:"50%",bottom:`${d}%`,transform:"translate(-50%, 50%)"}:{top:"50%",left:`${d}%`,transform:"translate(-50%, -50%)"},y=a?{left:"50%",bottom:`${h}%`,transform:"translate(-50%, 50%)"}:{top:"50%",left:`${h}%`,transform:"translate(-50%, -50%)"};return u.jsxs("div",{ref:i,className:`relative select-none ${a?"h-full w-4 py-2":"w-full h-4 px-2"}`,children:[u.jsx("div",{className:"absolute bg-gray-300 dark:bg-slate-600 rounded-full",style:p}),u.jsx("div",{className:"absolute bg-cyan-500 dark:bg-cyan-400 rounded-full",style:m}),u.jsx("div",{className:v,style:x,onMouseDown:g=>f(g,"min")}),u.jsx("div",{className:v,style:y,onMouseDown:g=>f(g,"max")})]})},wQ=({isOpen:e,onClose:t,data:r,blackLevel:n,imageHeight:a,isBGGR:o,importedMetadata:i,theme:s,initialCameraModel:l,initialISO:c})=>{const[f,d]=O.useState("Noise"),[h,p]=O.useState(!0),[m,v]=O.useState(null),[x,y]=O.useState("default"),[g,b]=O.useState(!1),[S,w]=O.useState(!1),[k,j]=O.useState({R:!0,G1:!0,G2:!0,B:!0}),[P,_]=O.useState(""),[A,N]=O.useState(""),[C,F]=O.useState(""),[L,I]=O.useState(""),[U,B]=O.useState("10"),[R,$]=O.useState(""),[G,ee]=O.useState("0 0 0 0"),[Q,q]=O.useState("0 0 0 0"),[K,le]=O.useState(!1),[ue,Se]=O.useState(null),[be,Y]=O.useState(!1),[ie,ge]=O.useState(0),[W,ve]=O.useState([]),[he,Oe]=O.useState(""),[Ke,et]=O.useState(""),Qt=()=>{const D=parseFloat(he),Z=parseFloat(Ke);!isNaN(D)&&!isNaN(Z)&&(ve([...W,{id:Date.now(),x:D,y:Z}]),Oe(""),et(""))},[Gt,Rr]=O.useState(()=>localStorage.getItem("ptc_tester_name")||""),[ct,ur]=O.useState(""),[Jt,Ht]=O.useState("");O.useEffect(()=>{localStorage.setItem("ptc_tester_name",Gt)},[Gt]);const gr=O.useRef(K),Mr=O.useRef(be),Vt=O.useRef(ie);O.useEffect(()=>{gr.current=K,Mr.current=be,Vt.current=ie},[K,be,ie]);const[or,Hr]=O.useState(null),[er,Vr]=O.useState({min:.01,max:90}),[at,He]=O.useState({readNoise:0,gain:1,prnu:.5}),[bt,Bt]=O.useState(2e6),Pt=O.useRef(at),Xr=O.useRef(er),Xt=O.useRef(bt);O.useEffect(()=>{Pt.current=at,Xr.current=er,Xt.current=bt},[at,er,bt]);const[Kt,Lr]=O.useState({read:"0",gain:"1.0",prnu:"0.5",rangeMin:"0.01",rangeMax:"90"}),[dt,sn]=O.useState({read:!0,shot:!0,prnu:!0,total:!0,fitRange:!0}),[Kr,En]=O.useState(!1),[Tn,bn]=O.useState([]),[ln,br]=O.useState(null),[Ir,Cr]=O.useState(""),cn=O.useMemo(()=>n?n.join(","):"",[n]);O.useEffect(()=>{if(e){let D="0 0 0 0";i&&i.blackLevel?D=i.blackLevel.join(" "):D=n&&n.length===4?n.join(" "):"0 0 0 0",ee(D),q(D);let Z="";if(i&&i.height?Z=i.height.toString():a&&(Z=a.toString()),$(Z),Z){const te=parseFloat(Z);!isNaN(te)&&te>0?B((2309.4/te).toFixed(2)):B("10")}else B("10");Se(null),le(!1),Y(!1),ge(0),bn([]),br(null),Vr({min:.01,max:90}),Lr({read:"0",gain:"0",prnu:"0",rangeMin:"0.01",rangeMax:"90"}),He({readNoise:0,gain:0,prnu:0}),_(""),N(""),F(""),I(""),d("Noise"),Hr(null),Bt(2e6),Cr(""),w(!1),ve([]),ur(te=>te.trim()===""&&l?l:te),Ht(te=>te.trim()===""&&c?c:te)}},[e,cn,i,a,r,l,c]);const $n=D=>{if(D.key==="Enter"){const Z=parseFloat(R);if(!isNaN(Z)&&Z>0){const te=(2309.4/Z).toFixed(2);B(te)}D.target.blur()}},Tt=O.useMemo(()=>{let Z=Q.trim().split(/[\s,]+/).filter(Boolean).map(Number);for(Z.length===1&&(Z=[Z[0],Z[0],Z[0],Z[0]]);Z.length<4;)Z.push(0);const te=E=>{switch(E){case"R":return Z[0];case"G1":return Z[1];case"G2":return Z[2];case"B":return Z[3];default:return 0}};return r.map(E=>{const ce=E.mean-te(E.channel),je=E.std>0?ce/E.std:0;return{...E,x:ce,std:E.std,snr:je}}).filter(E=>E.std>0)},[r,Q]),Yt=O.useMemo(()=>{const D=at.readNoise,Z=D*D;return Tt.map(te=>{let E=0;if(f==="Noise")E=te.std;else if(f==="SNR")E=te.snr;else if(f==="Linear"){const je=te.std*te.std-Z;E=te.x!==0?je/te.x:0}return{...te,y:E}})},[Tt,f,at.readNoise]),$t=O.useMemo(()=>{if(Tt.length===0)return"G1";const D={R:0,G1:0,G2:0,B:0},Z={R:0,G1:0,G2:0,B:0};for(const ce of Tt)D[ce.channel]+=ce.x,Z[ce.channel]++;let te="G1",E=-1/0;return Object.keys(D).forEach(ce=>{const je=Z[ce],Ee=je>0?D[ce]/je:-1/0;Ee>E&&(E=Ee,te=ce)}),te},[Tt]),ne=O.useCallback(()=>{let D=1/0,Z=-1/0;if(Tt.length===0)return{min:.1,max:1};for(let te=0;te<Tt.length;te++){const E=Tt[te].x;h&&E<=0||(E<D&&(D=E),E>Z&&(Z=E))}return D===1/0?{min:.1,max:1}:{min:D,max:Z}},[Tt,h]),Pe=O.useCallback(()=>{let D=1/0,Z=-1/0;if(Yt.length===0)return{min:.1,max:1};for(let te=0;te<Yt.length;te++){const E=Yt[te].y;h&&E<=0||(E<D&&(D=E),E>Z&&(Z=E))}return D===1/0?{min:.1,max:1}:{min:D*.9,max:Z*1.1}},[Yt,h]),{min:_e,max:Je}=ne(),{min:Fe,max:wt}=Pe(),ht=Je*(er.min/100),ir=Je*(er.max/100),Me=O.useMemo(()=>{if(!h&&Yt.length===0)return{shot:[],read:[],prnu:[],total:[]};const D=P?parseFloat(P):_e,Z=A?parseFloat(A):Je,te=100,E=Math.max(.1,D),ce=Math.max(1,Z);if(E>=ce)return{shot:[],read:[],prnu:[],total:[]};const je=Math.log10(E),Ye=(Math.log10(ce)-je)/te,Xe=at.readNoise,Ue=at.gain>0?at.gain:1,_t=at.prnu/100,ut=[],Nt=[],sr=[],oe=[];for(let Ge=0;Ge<=te;Ge++){const Ne=Math.pow(10,je+Ge*Ye);if(f==="Linear"){const Dt=1/Ue,mt=_t*_t,fn=Dt+mt*Ne;oe.push({x:Ne,y:fn}),ut.push({x:Ne,y:Dt}),sr.push({x:Ne,y:mt*Ne})}else{const Dt=Xe,mt=Math.sqrt(Ne/Ue),fn=_t*Ne,nt=Math.sqrt(Dt*Dt+mt*mt+fn*fn);f==="Noise"?(ut.push({x:Ne,y:mt}),Nt.push({x:Ne,y:Dt}),sr.push({x:Ne,y:fn}),oe.push({x:Ne,y:nt})):(mt>0&&ut.push({x:Ne,y:Ne/mt}),Dt>0&&Nt.push({x:Ne,y:Ne/Dt}),fn>0&&sr.push({x:Ne,y:Ne/fn}),nt>0&&oe.push({x:Ne,y:Ne/nt}))}}return{shot:ut,read:Nt,prnu:sr,total:oe}},[Yt,h,P,A,at,f,_e,Je]),tt=O.useMemo(()=>{if(f==="Linear")return[];const D=parseFloat(U);if(isNaN(D)||D<=0)return[];const Z=P?parseFloat(P):_e,te=A?parseFloat(A):Je;return f==="SNR"?[{x:Z,y:D},{x:te,y:D}]:[{x:Z,y:Z/D},{x:te,y:te/D}]},[Yt,U,f,P,A,_e,Je]),pt=O.useCallback((D,Z)=>{if(!Z||Z.length===0)return null;const te=[...Z].sort((E,ce)=>E.x-ce.x);for(let E=0;E<te.length-1;E++){const ce=te[E],je=te[E+1];if(ce.snr<=D&&je.snr>=D||ce.snr>=D&&je.snr<=D){const Ee=(D-ce.snr)/(je.snr-ce.snr);return ce.x+Ee*(je.x-ce.x)}}return null},[]),gt=O.useMemo(()=>{const D=Tt,Z=1e3,te=ce=>{if(ce.length===0)return[];if(ce.length<=Z)return ce;const je=[...ce].sort((Xe,Ue)=>Xe.x-Ue.x),Ee=[],Ye=je.length/Z;for(let Xe=0;Xe<Z;Xe++){const Ue=Math.floor(Xe*Ye),_t=Math.floor((Xe+1)*Ye),ut=je.slice(Ue,_t);if(ut.length===0)continue;ut.sort((sr,oe)=>sr.std-oe.std);const Nt=Math.floor(ut.length/2);Ee.push(ut[Nt])}return Ee},E={R:[],G1:[],G2:[],B:[]};return D.forEach(ce=>{E[ce.channel]&&E[ce.channel].push(ce)}),{R:te(E.R),G1:te(E.G1),G2:te(E.G2),B:te(E.B)}},[Tt]),tr=O.useMemo(()=>ue&&at.gain?ue*at.gain:null,[ue,at.gain]),de=O.useMemo(()=>{if(ue===null||ue===0)return null;const D=parseFloat(U);let Z=null;if(!isNaN(D)&&D>0){let Ee=0,Ye=0;if(["R","G1","G2","B"].forEach(Xe=>{const Ue=pt(D,gt[Xe]);Ue!==null&&(Ee+=Ue,Ye++)}),Ye>0){const Xe=Ee/Ye;Z=Math.log2(ue/Xe)}}const te=parseFloat(R);let E=null,ce=NaN;if(!isNaN(te)&&te>0){ce=16e3/te;let Ee=0,Ye=0;if(["R","G1","G2","B"].forEach(Xe=>{const Ue=pt(ce,gt[Xe]);Ue!==null&&(Ee+=Ue,Ye++)}),Ye>0){const Xe=Ee/Ye;E=Math.log2(ue/Xe)}}let je=null;if(!isNaN(te)&&te>0){const Ee=pt(ce,gt[$t]);Ee!==null&&(je=Math.log2(ue/Ee))}return{manualDR:Z,ptpDR:E,d55DR:je,manualTarget:D,ptpTarget:ce,saturationSignal:ue,dominantChannel:$t}},[ue,U,R,gt,pt,$t]),V=O.useMemo(()=>{if(f==="Linear"||!de||!de.ptpTarget||isNaN(de.ptpTarget))return[];const D=de.ptpTarget,Z=P?parseFloat(P):_e,te=A?parseFloat(A):Je;return f==="SNR"?[{x:Z,y:D},{x:te,y:D}]:[{x:Z,y:Z/D},{x:te,y:te/D}]},[f,de,P,A,_e,Je]),Ce=O.useCallback(()=>{const te=document.createElement("canvas");te.width=2048,te.height=1536;const E=te.getContext("2d");if(!E)return;const ce=s==="dark",je=ce?"#0f172a":"#ffffff",Ee=ce?"#ffffff":"#000000",Ye=ce?"#475569":"#cbd5e1",Xe=ce?"#1e293b":"#f1f5f9",Ue=o?{R:"#ef4444",G1:"#22c55e",G2:"#4ade80",B:"#3b82f6"}:{R:"#ef4444",G1:"#22c55e",G2:"#4ade80",B:"#3b82f6"};E.fillStyle=je,E.fillRect(0,0,2048,1536);let _t=P?parseFloat(P):_e,ut=A?parseFloat(A):Je,Nt=C?parseFloat(C):Fe,sr=L?parseFloat(L):wt;isNaN(_t)&&(_t=.1),isNaN(ut)&&(ut=1e4),isNaN(Nt)&&(Nt=.1),isNaN(sr)&&(sr=1e3);const oe={top:80,right:80,bottom:100,left:120},Ge=2048-oe.left-oe.right,Ne=1536-oe.top-oe.bottom,Dt=T=>{if(h){const H=Math.log10(Math.max(1e-9,_t)),X=Math.log10(Math.max(1e-9,ut)),re=Math.log10(Math.max(1e-9,T));return oe.left+(re-H)/(X-H)*Ge}else return oe.left+(T-_t)/(ut-_t)*Ge},mt=T=>{if(h){const H=Math.log10(Math.max(1e-9,Nt)),X=Math.log10(Math.max(1e-9,sr)),re=Math.log10(Math.max(1e-9,T));return oe.top+Ne-(re-H)/(X-H)*Ne}else return oe.top+Ne-(T-Nt)/(sr-Nt)*Ne};if(E.beginPath(),h){const T=(H,X,re)=>{const fe=Math.log10(Math.max(1e-9,H)),ke=Math.log10(Math.max(1e-9,X)),xe=Math.floor(fe),Te=Math.ceil(ke);for(let we=xe;we<=Te;we++){const $e=Math.pow(10,we);let Ae=re?Dt($e):mt($e);(re?Ae>=oe.left-1&&Ae<=oe.left+Ge+1:Ae>=oe.top-1&&Ae<=oe.top+Ne+1)&&(E.lineWidth=1.5,E.strokeStyle=Ye,E.beginPath(),re?(E.moveTo(Ae,oe.top),E.lineTo(Ae,oe.top+Ne)):(E.moveTo(oe.left,Ae),E.lineTo(oe.left+Ge,Ae)),E.stroke()),E.lineWidth=.5,E.strokeStyle=Xe;for(let qe=2;qe<10;qe++){const kt=qe*$e;Ae=re?Dt(kt):mt(kt),(re?Ae>=oe.left&&Ae<=oe.left+Ge:Ae>=oe.top&&Ae<=oe.top+Ne)&&(E.beginPath(),re?(E.moveTo(Ae,oe.top),E.lineTo(Ae,oe.top+Ne)):(E.moveTo(oe.left,Ae),E.lineTo(oe.left+Ge,Ae)),E.stroke())}}};T(_t,ut,!0),T(Nt,sr,!1)}else{E.strokeStyle=Ye,E.lineWidth=1;for(let T=0;T<=5;T++){const H=oe.left+Ge*T/5;E.beginPath(),E.moveTo(H,oe.top),E.lineTo(H,oe.top+Ne),E.stroke();const X=oe.top+Ne*T/5;E.beginPath(),E.moveTo(oe.left,X),E.lineTo(oe.left+Ge,X),E.stroke()}}E.strokeStyle=Ee,E.lineWidth=2,E.strokeRect(oe.left,oe.top,Ge,Ne);const fn=(T,H,X)=>{T<oe.left||T>oe.left+Ge||H<oe.top||H>oe.top+Ne||(E.fillStyle=X,E.fillRect(T-1.5,H-1.5,3,3))},nt=Yt.filter(T=>!(h&&(T.x<=0||T.y<=0)));nt.forEach(T=>{k[T.channel]&&T.channel!==$t&&fn(Dt(T.x),mt(T.y),Ue[T.channel])}),nt.forEach(T=>{k[T.channel]&&T.channel===$t&&fn(Dt(T.x),mt(T.y),Ue[T.channel])}),W.forEach(T=>{const H=Dt(T.x),X=mt(T.y);if(H<oe.left||H>oe.left+Ge||X<oe.top||X>oe.top+Ne)return;E.strokeStyle="#d946ef",E.lineWidth=2.5;const re=6;E.beginPath(),E.moveTo(H-re,X-re),E.lineTo(H+re,X+re),E.moveTo(H+re,X-re),E.lineTo(H-re,X+re),E.stroke()});const dr=(T,H,X=[])=>{if(T.length<2)return;E.beginPath(),E.strokeStyle=H,E.lineWidth=3,E.setLineDash(X);let re=!1;for(const fe of T){const ke=Dt(fe.x),xe=mt(fe.y);if(ke<oe.left-100||ke>oe.left+Ge+100||xe<oe.top-100||xe>oe.top+Ne+100){re=!1;continue}re?E.lineTo(ke,xe):(E.moveTo(ke,xe),re=!0)}E.stroke(),E.setLineDash([])},qr=ce?"#ffffff":"#000000";if(dt.shot&&dr(Me.shot,"#94a3b8",[5,5]),dt.read&&dr(Me.read,"#f43f5e",[3,3]),dt.prnu&&dr(Me.prnu,"#f59e0b",[3,3]),dt.total&&dr(Me.total,qr,[]),tt.length===2){const T="#6366f1";dr(tt,T,[4,2]);const H=tt[1],X=mt(H.y);X>=oe.top&&X<=oe.top+Ne&&(E.fillStyle=T,E.font="bold 20px sans-serif",E.textAlign="right",E.textBaseline="bottom",E.fillText(`M.Tgt=${U}`,oe.left+Ge-10,X-8))}if(V.length===2&&(de!=null&&de.ptpTarget)){const T="#10b981";dr(V,T,[4,4]);const H=V[1],X=mt(H.y);if(X>=oe.top&&X<=oe.top+Ne){E.fillStyle=T,E.font="bold 20px sans-serif",E.textAlign="right",E.textBaseline="bottom";const re=de.ptpTarget.toFixed(1),fe=tt.length===2?mt(tt[1].y):-100,ke=Math.abs(X-fe)<25?25:0;E.fillText(`PTP=${re}`,oe.left+Ge-10,X-8-ke)}}if(dt.fitRange||be){const T=(H,X)=>{const re=Dt(H);re>=oe.left&&re<=oe.left+Ge&&(E.beginPath(),E.strokeStyle=X,E.lineWidth=2,E.setLineDash([8,8]),E.moveTo(re,oe.top),E.lineTo(re,oe.top+Ne),E.stroke(),E.setLineDash([]))};T(ht,"#22d3ee"),T(ir,"#22d3ee")}if(ue){const T=Dt(ue);T>=oe.left&&T<=oe.left+Ge&&(E.strokeStyle="#ef4444",E.lineWidth=3,E.setLineDash([10,10]),E.beginPath(),E.moveTo(T,oe.top),E.lineTo(T,oe.top+Ne),E.stroke(),E.setLineDash([]),E.fillStyle="#ef4444",E.font="bold 24px sans-serif",E.textAlign="center",E.fillText("Sat",T,oe.top-10))}E.fillStyle=Ee,E.font="28px monospace",E.textAlign="center",E.fillText(_t.toExponential(1),oe.left,oe.top+Ne+40),E.fillText(ut.toExponential(1),oe.left+Ge,oe.top+Ne+40),E.fillText("Signal (DN)",oe.left+Ge/2,oe.top+Ne+80),E.textAlign="right",E.textBaseline="middle",E.fillText(Nt.toExponential(1),oe.left-20,oe.top+Ne),E.fillText(sr.toExponential(1),oe.left-20,oe.top),E.save(),E.translate(oe.left-80,oe.top+Ne/2),E.rotate(-Math.PI/2),E.textAlign="center",E.fillText(f==="Linear"?"(Var - RN) / Mean":f,0,0),E.restore(),E.save(),E.translate(2048/2,1536/2),E.rotate(-Math.PI/6),E.textAlign="center",E.textBaseline="middle",E.fillStyle=ce?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)",E.font="bold 150px sans-serif",E.fillText(" y-g-jiang.github.io",0,0),E.restore(),E.fillStyle=Ee,E.font="bold 36px sans-serif",E.textAlign="left",E.textBaseline="top",E.fillText(`PTC Export: ${f} Mode`,oe.left,20),E.font="24px sans-serif",E.fillStyle=ce?"#94a3b8":"#64748b",E.fillText(`Points: ${Yt.length} | Sat Channel: ${$t}`,oe.left,65);const Pa=oe.left+30,yl=oe.top+30,ep=70,xu=T=>{if(!ue||T<=0)return"--";const H=at.readNoise,X=at.gain,re=at.prnu/100;if(X<=0)return"--";const fe=T*T,ke=H*H,xe=1-fe*re*re,Te=-(fe/X),we=-(fe*ke);let $e=0;if(Math.abs(xe)<1e-8)Math.abs(Te)>1e-8&&($e=-we/Te);else{const Ae=Te*Te-4*xe*we;Ae>=0&&($e=(-Te+Math.sqrt(Ae))/(2*xe))}return $e>0?Math.log2(ue/$e).toFixed(2)+" EV":"--"},bu=de!=null&&de.ptpTarget&&!isNaN(de.ptpTarget)?xu(de.ptpTarget):"--",tp=U?xu(parseFloat(U)):"--";E.font="bold 48px monospace",E.textAlign="left",E.textBaseline="top",E.shadowColor=ce?"rgba(0,0,0,0.8)":"rgba(255,255,255,0.8)",E.shadowBlur=4,E.shadowOffsetX=1,E.shadowOffsetY=1;const Sn=(T,H,X,re)=>{const fe=yl+X*ep;E.fillStyle=Ee,E.fillText(T,Pa,fe);const ke=E.measureText(T).width;E.fillStyle=re||Ee,E.fillText(H,Pa+ke,fe)},rp=Kt.read,np=parseFloat(Kt.gain).toFixed(3),ap=parseFloat(Kt.prnu).toFixed(2)+"%";let wu=`M.DR@SNR${U}: `;const ho=parseFloat(R);if(!isNaN(ho)&&ho>0){const T=(2309.4/ho).toFixed(2);Math.abs(parseFloat(U)-parseFloat(T))<.05&&(wu="8mpSNR=1 DR: ")}Sn("Tester: ",Gt||"N/A",0),Sn("Model : ",ct||"Unknown",1),Sn("ISO   : ",Jt||"N/A",2),Sn("RN/FPN: ",rp,3,"#f43f5e"),Sn("KADC  : ",np,4,"#06b6d4"),Sn("PRNU  : ",ap,5,"#f59e0b"),Sn("PTP DR: ",de!=null&&de.ptpDR?de.ptpDR.toFixed(2)+" EV":"--",6,"#10b981"),Sn("D55 DR: ",de!=null&&de.d55DR?de.d55DR.toFixed(2)+" EV":"--",7,"#8b5cf6"),Sn("FWC   : ",tr?tr>1e4?(tr/1e3).toFixed(1)+"k":Math.round(tr).toString():"--",8,"#f97316"),Sn(wu,de!=null&&de.manualDR?de.manualDR.toFixed(2)+" EV":"--",9,"#06b6d4"),Sn("PTCFitDR(PTP): ",bu,10,"#10b981"),Sn("PTCFitDR(Man): ",tp,11,"#06b6d4"),E.save(),E.textAlign="right",E.textBaseline="bottom",E.fillStyle="#3b82f6",E.font="bold 80px sans-serif",E.shadowColor=ce?"rgba(0,0,0,0.8)":"rgba(255,255,255,0.8)",E.shadowBlur=4,E.shadowOffsetX=2,E.shadowOffsetY=2;const qo=1988,ku=1476,Su=90;E.fillText("Online",qo,ku),E.fillText("Jiangtherapee",qo,ku-Su),E.restore();const z=document.createElement("a");z.download=`ptc_complete_${f}_${Date.now()}.jpg`,z.href=te.toDataURL("image/jpeg",.9),z.click()},[Yt,$t,k,P,A,C,L,_e,Je,Fe,wt,h,s,f,ue,o,dt,Me,ht,ir,er,be,Gt,ct,Jt,de,tr,U,tt,V,Kt,R,W]),rt=O.useMemo(()=>{let D=Yt;if(h&&(D=D.filter(ce=>ce.y>0&&ce.x>0)),x==="top3"){const ce=[...D].sort((Ee,Ye)=>Ye.x-Ee.x),je=Math.max(50,Math.ceil(ce.length*.03));D=ce.slice(0,je)}const Z={R:[],G1:[],G2:[],B:[]};if(D.forEach(ce=>{Z[ce.channel]&&Z[ce.channel].push(ce)}),x==="raw")return Z;const te=x==="top3"?500:bQ,E=ce=>{if(ce.length<=te)return ce;const je=[...ce].sort((Xe,Ue)=>Xe.x-Ue.x),Ee=[],Ye=je.length/te;for(let Xe=0;Xe<te;Xe++){const Ue=Math.floor(Xe*Ye),_t=Math.floor((Xe+1)*Ye),ut=je.slice(Ue,_t);if(ut.length===0)continue;ut.sort((sr,oe)=>sr.y-oe.y);const Nt=Math.floor(ut.length/2);Ee.push(ut[Nt])}return Ee};return{R:E(Z.R),G1:E(Z.G1),G2:E(Z.G2),B:E(Z.B)}},[Yt,x,h]),Le=O.useMemo(()=>{if(Tt.length<5)return[];const D=Tt.filter(te=>te.channel===$t);return[...D.length>20?D:Tt].sort((te,E)=>te.x-E.x).map(te=>({mean:te.x,std:te.std}))},[Tt,$t]),un=D=>{const Z=D.length;if(Z===0)return[];const te=D.reduce((Ge,Ne)=>Ge+Ne,0)/Z,E=D.reduce((Ge,Ne)=>Ge+Math.pow(Ne-te,2),0)/(Z-1||1),ce=Math.sqrt(E);if(ce===0)return[{x:te-.001,density:0},{x:te,density:1},{x:te+.001,density:0}];const je=1.06*ce*Math.pow(Z,-.2),Ee=Math.min(...D),Ye=Math.max(...D),Xe=(Ye-Ee)*.2||Ee*.1,Ue=Math.max(0,Ee-Xe),_t=Ye+Xe,ut=100,Nt=(_t-Ue)/(ut-1),sr=Ge=>1/Math.sqrt(2*Math.PI)*Math.exp(-.5*Ge*Ge),oe=[];for(let Ge=0;Ge<ut;Ge++){const Ne=Ue+Ge*Nt;let Dt=0;for(let mt=0;mt<Z;mt++)Dt+=sr((Ne-D[mt])/je);Dt/=Z*je,oe.push({x:Ne,density:Dt})}return oe},Re=O.useCallback((D,Z,te,E)=>{if(D.length<5)return{gain:0,prnu:0};const ce=D[D.length-1].mean,je=ce*(te.min/100),Ee=ce*(te.max/100),Ye=D.filter(nt=>nt.mean>=je&&nt.mean<=Ee);if(Ye.length<5)return{gain:0,prnu:0};Hr({nPoints:Ye.length});const Xe=Z*Z,Ue=[],_t=[];if(Ye.forEach(nt=>{const qr=nt.std*nt.std-Xe;if(nt.mean>1&&qr>0){const Pa=nt.mean,yl=qr/nt.mean;Ue.push({x:Pa,y:yl}),_t.push(nt.mean/qr)}}),Ue.length<5)return{gain:0,prnu:0};const ut=[],Nt=Ue.length,sr=E,oe=Nt*(Nt-1)/2;if(oe<=sr)for(let nt=0;nt<Nt;nt++)for(let dr=nt+1;dr<Nt;dr++){const qr=Ue[dr].x-Ue[nt].x;Math.abs(qr)>1e-5&&ut.push((Ue[dr].y-Ue[nt].y)/qr)}else{const nt=Math.max(1,Math.floor(oe/sr));for(let dr=0;dr<Nt;dr++)for(let qr=dr+1;qr<Nt;qr+=nt){const Pa=Ue[qr].x-Ue[dr].x;Math.abs(Pa)>1e-5&&ut.push((Ue[qr].y-Ue[dr].y)/Pa)}}const Ge=u0(ut),Ne=Ue.map(nt=>nt.y-Ge*nt.x),Dt=u0(Ne);let mt=0,fn=0;if(Dt>1e-6?mt=1/Dt:mt=u0(_t),Ge>0&&(fn=Math.sqrt(Ge)*100),_t.length>0){const nt=un(_t);bn(nt),br(mt)}else bn([]);return{gain:mt,prnu:fn}},[]),fr=O.useCallback(D=>{let Z=D.read??Pt.current.readNoise;const te=D.gRange??Xr.current,E=Xt.current;if((D.read!==void 0||D.gRange!==void 0)&&D.gain===void 0&&D.prnu===void 0&&Le.length>0&&Z>=0)w(!0),setTimeout(()=>{const je=Re(Le,Z,te,E);let Ee=Pt.current.gain,Ye=Pt.current.prnu;je.gain>0&&(Ee=je.gain,Ye=je.prnu),He({readNoise:Z,gain:Ee,prnu:Ye}),D.gRange!==void 0&&Vr(D.gRange),Lr(Xe=>{var Ue,_t;return{...Xe,read:Z.toString(),gain:Ee>0?Ee.toFixed(3):"0",prnu:Ye.toFixed(2),rangeMin:(((Ue=D.gRange)==null?void 0:Ue.min)??Xe.rangeMin).toString(),rangeMax:(((_t=D.gRange)==null?void 0:_t.max)??Xe.rangeMax).toString()}}),w(!1)},50);else{let je=D.gain!==void 0?D.gain:Pt.current.gain,Ee=D.prnu!==void 0?D.prnu:Pt.current.prnu;He({readNoise:Z,gain:je,prnu:Ee}),D.gRange!==void 0&&Vr(D.gRange),Lr(Ye=>{var Xe,Ue;return{...Ye,read:Z.toString(),gain:je>0?je.toFixed(3):"0",prnu:Ee.toFixed(2),rangeMin:(((Xe=D.gRange)==null?void 0:Xe.min)??Ye.rangeMin).toString(),rangeMax:(((Ue=D.gRange)==null?void 0:Ue.max)??Ye.rangeMax).toString()}})}},[Le,Re]),wn=`${Q}-${r.length}`;O.useEffect(()=>{if(!e||!r||r.length===0)return;const D=rt[$t];if(!D||D.length===0||Ir===wn)return;j({R:$t==="R",G1:$t==="G1",G2:$t==="G2",B:$t==="B"});const Z=[...D].sort((je,Ee)=>je.x-Ee.x);let te=0;Z.length>0&&(te=Z[0].std);const E=Tt.filter(je=>je.channel===$t);let ce=-1/0;for(const je of E)je.x>ce&&(ce=je.x);ce!==-1/0&&Se(ce),fr({read:te}),Cr(wn)},[e,r,Ir,wn,rt,$t,fr,Tt]);const Vn=(D,Z)=>{Lr(te=>({...te,[D]:Z}))},kn=D=>{let Z=parseFloat(Kt[D]);isNaN(Z)||Z<0||fr({[D]:Z})},fo=()=>{q(G),Cr("")},Oa=()=>{const D=parseFloat(Kt.rangeMin),Z=parseFloat(Kt.rangeMax);!isNaN(D)&&!isNaN(Z)&&D<Z&&D>=0&&Z<=100&&fr({gRange:{min:D,max:Z}})},mr=(D,Z)=>{D.key==="Enter"&&(Z==="rangeMin"||Z==="rangeMax"?Oa():kn(Z),D.target.blur())};O.useEffect(()=>{Le.length>0&&fr({})},[bt,Le]);const Dn=D=>{j(Z=>({...Z,[D]:!Z[D]}))},Zh=()=>{y(D=>D==="top3"?"default":"top3")},yu=()=>{x==="raw"?y("default"):b(!0)},hl=()=>{b(!1),y("raw")},pl=(D,Z)=>{const te=parseFloat(D),E=parseFloat(Z);let ce=isNaN(te)?"auto":te,je=isNaN(E)?"auto":E;return h&&typeof ce=="number"&&ce<=0&&(ce="auto"),[ce,je]},Yo=D=>{if(!D||!D.payload)return;const Z=D.payload;if(v(Z),gr.current&&(Se(Z.x),le(!1)),Mr.current){const te=Xr.current.min,E=Xr.current.max,{max:ce}=ne();if(ce<=0)return;const je=Math.max(0,Math.min(100,Z.x/ce*100));if(Vt.current===1){const Ee=Math.min(je,E-.5);fr({gRange:{min:Ee,max:E}}),ge(2)}else if(Vt.current===2){const Ee=Math.max(je,te+.5);fr({gRange:{min:te,max:Ee}}),ge(0),Y(!1)}}},Yr=O.useCallback(D=>{const{cx:Z,cy:te,fill:E}=D;return u.jsx("circle",{cx:Z,cy:te,r:3,fill:E,stroke:"none",style:{cursor:"pointer"}})},[]),Qh=({active:D,payload:Z})=>{if(D&&Z&&Z.length){const te=Z[0].payload;return u.jsxs("div",{className:"bg-slate-800 text-white text-xs p-2 rounded border border-slate-600 shadow-xl opacity-90 font-mono z-50",children:[u.jsx("div",{className:"font-bold border-b border-slate-600 pb-1 mb-1",children:te.channel}),u.jsxs("div",{children:["Signal: ",te.x.toFixed(2)]}),u.jsxs("div",{children:[f,": ",te.y.toFixed(4)]}),te.row!==void 0&&te.col!==void 0&&!isNaN(te.row)&&!isNaN(te.col)&&u.jsxs("div",{className:"text-cyan-400 mt-0.5",children:["Loc: Row ",te.row,", Col ",te.col]}),te.filename&&u.jsx("div",{className:"text-gray-400 mt-1 max-w-[200px] truncate",title:te.filename,children:te.filename})]})}return null},gl=D=>{d(D),D==="Linear"&&p(!1)};if(!e)return null;const vu=s==="dark"?"#ffffff":"#000000";let ml=f;f==="Linear"&&(ml="(Var - RN) / Mean");const Jh=G!==Q;return u.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in",onClick:D=>{D.stopPropagation()},children:u.jsxs("div",{className:"bg-white dark:bg-slate-900 w-[98vw] max-w-[2200px] h-[95vh] rounded-2xl shadow-2xl flex flex-col border border-gray-200 dark:border-slate-700 overflow-hidden relative",onClick:D=>D.stopPropagation(),children:[u.jsx(Ro,{isOpen:g,onClose:()=>b(!1),onConfirm:hl,title:"Warning: High Performance Cost",message:"Displaying all data points may cause the browser to freeze or become unresponsive, especially with large datasets. Are you sure you want to continue?",confirmText:"Yes, Show All"}),m&&u.jsxs("div",{className:"absolute top-20 right-8 z-30 bg-white/90 dark:bg-slate-800/90 border border-cyan-500 rounded-xl p-4 shadow-xl backdrop-blur-md max-w-xs animate-in fade-in zoom-in-95 duration-200",children:[u.jsxs("div",{className:"flex justify-between items-start mb-2 border-b border-gray-200 dark:border-slate-700 pb-2",children:[u.jsx("h4",{className:"font-bold text-gray-900 dark:text-white text-sm",children:"Selected Point"}),u.jsx("button",{onClick:()=>v(null),className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsx("div",{className:"space-y-1 text-xs font-mono text-gray-700 dark:text-slate-300",children:u.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1.5",children:[u.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"Channel:"}),u.jsx("span",{className:"font-bold",children:m.channel}),u.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"Signal (DN):"}),u.jsx("span",{children:m.x.toFixed(4)}),u.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"Noise (Std):"}),u.jsx("span",{children:m.std.toFixed(4)}),u.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"SNR:"}),u.jsx("span",{className:"text-purple-600 dark:text-purple-400 font-bold",children:(m.x/m.std).toFixed(2)})]})})]}),Kr&&u.jsx("div",{className:"absolute inset-0 z-40 bg-white/95 dark:bg-slate-900/95 backdrop-blur-sm flex flex-col items-center justify-center p-8 animate-in fade-in zoom-in-95 duration-200",children:u.jsxs("div",{className:"w-full max-w-2xl h-[60vh] bg-gray-50 dark:bg-slate-800 rounded-xl border border-gray-200 dark:border-slate-700 shadow-2xl p-4 flex flex-col relative",children:[u.jsx("button",{onClick:()=>En(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-red-500 transition-colors",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),u.jsxs("div",{className:"mb-4 text-center",children:[u.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-slate-200",children:"Gain Density Estimation"}),u.jsxs("p",{className:"text-xs text-gray-500 dark:text-slate-400",children:["HSM Mode: ",u.jsx("span",{className:"text-cyan-600 dark:text-cyan-400 font-bold",children:ln==null?void 0:ln.toFixed(4)}),u.jsx("span",{className:"mx-2",children:"|"}),"Data Points: ",Tn.length>0?"Density Curve Generated":"No Data"]})]}),u.jsx("div",{className:"flex-1 min-h-0",children:Tn.length>0?u.jsx(_s,{width:"100%",height:"100%",children:u.jsxs(z_,{data:Tn,margin:{top:10,right:30,left:0,bottom:20},children:[u.jsx(Mi,{strokeDasharray:"3 3",stroke:"#374151",opacity:.3,vertical:!1}),u.jsx(ka,{dataKey:"x",tickFormatter:D=>D.toFixed(2),tick:{fill:"#9ca3af",fontSize:10},label:{value:"Gain (e/ADU)",position:"insideBottom",offset:-15,fill:"#9ca3af",fontSize:12}}),u.jsx(Sa,{tick:{fill:"#9ca3af",fontSize:10}}),u.jsx(gn,{cursor:{stroke:"rgba(255,255,255,0.2)"},contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"0.5rem",color:"#f3f4f6"}}),u.jsx(ta,{type:"monotone",dataKey:"density",stroke:"#0ea5e9",fill:"#0ea5e9",fillOpacity:.3,strokeWidth:2}),ln!==null&&u.jsx(fi,{x:ln,stroke:"#ef4444",strokeWidth:2,label:{value:"HSM",fill:"#ef4444",fontSize:10,position:"top"}})]})}):u.jsx("div",{className:"flex items-center justify-center h-full text-gray-400",children:"No data in selected range"})})]})}),u.jsxs("div",{className:"flex flex-wrap justify-between items-center p-3 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50 gap-4 flex-shrink-0",children:[u.jsxs("h2",{className:"text-lg font-bold text-gray-900 dark:text-slate-100 flex items-center gap-2",children:["Photon Transfer Curve",u.jsxs("span",{className:"text-xs font-normal bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-300 px-2 py-0.5 rounded border border-purple-200 dark:border-purple-800",children:[r.length," Pts"]})]}),u.jsxs("div",{className:"flex gap-4 items-center flex-wrap",children:[u.jsxs("button",{onClick:Ce,className:"bg-green-600 hover:bg-green-500 text-white font-bold py-1 px-3 rounded text-xs shadow-md transition-all active:scale-95 flex items-center gap-1",title:"Render all points, target lines, and metadata to a high-res JPG",children:[u.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Export Complete Result"]}),u.jsxs("div",{className:"flex bg-white dark:bg-slate-700 rounded-lg p-1 border border-gray-200 dark:border-slate-600",children:[u.jsx("button",{onClick:()=>gl("Noise"),className:`px-3 py-1 text-xs font-bold rounded transition-colors ${f==="Noise"?"bg-cyan-600 text-white shadow":"text-gray-600 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-600"}`,children:"Noise ()"}),u.jsx("button",{onClick:()=>gl("SNR"),className:`px-3 py-1 text-xs font-bold rounded transition-colors ${f==="SNR"?"bg-purple-600 text-white shadow":"text-gray-600 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-600"}`,children:"SNR"}),u.jsx("button",{onClick:()=>gl("Linear"),className:`px-3 py-1 text-xs font-bold rounded transition-colors ${f==="Linear"?"bg-indigo-600 text-white shadow":"text-gray-600 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-600"}`,children:"Linear (PTC)"})]}),u.jsxs("label",{className:"flex items-center gap-2 text-xs text-gray-600 dark:text-slate-300 cursor-pointer select-none",children:[u.jsx("input",{type:"checkbox",checked:h,onChange:D=>p(D.target.checked),className:"rounded border-gray-300 text-cyan-600 focus:ring-cyan-500 bg-gray-100 dark:bg-slate-700 dark:border-slate-600"}),"Log-Log"]}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 transition-colors p-1",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-0 border-b border-gray-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-sm flex-shrink-0",children:[u.jsxs("div",{className:"lg:col-span-9 p-5 flex flex-col gap-5 border-r border-gray-200 dark:border-slate-700",children:[u.jsxs("div",{className:"flex flex-wrap gap-4 items-center justify-between text-xs",children:[u.jsxs("div",{className:"flex gap-4 items-center",children:[u.jsxs("div",{className:"flex items-center gap-1.5 bg-gray-50 dark:bg-slate-800 rounded-md p-1 border border-gray-200 dark:border-slate-700",children:[u.jsx("span",{className:"font-bold text-gray-500 dark:text-slate-400 pl-1",children:"X:"}),u.jsx("input",{type:"number",placeholder:"Min",value:P,onChange:D=>_(D.target.value),className:"w-12 px-1 py-0.5 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center outline-none"}),u.jsx("span",{className:"text-gray-400",children:"-"}),u.jsx("input",{type:"number",placeholder:"Max",value:A,onChange:D=>N(D.target.value),className:"w-12 px-1 py-0.5 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center outline-none"})]}),u.jsxs("div",{className:"flex items-center gap-1.5 bg-gray-50 dark:bg-slate-800 rounded-md p-1 border border-gray-200 dark:border-slate-700",children:[u.jsx("span",{className:"font-bold text-gray-500 dark:text-slate-400 pl-1",children:"Y:"}),u.jsx("input",{type:"number",placeholder:"Min",value:C,onChange:D=>F(D.target.value),className:"w-12 px-1 py-0.5 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center outline-none"}),u.jsx("span",{className:"text-gray-400",children:"-"}),u.jsx("input",{type:"number",placeholder:"Max",value:L,onChange:D=>I(D.target.value),className:"w-12 px-1 py-0.5 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center outline-none"})]}),u.jsx("button",{onClick:()=>{_(""),N(""),F(""),I("")},className:"text-xs text-cyan-600 dark:text-cyan-400 hover:underline",children:"Auto"})]}),u.jsxs("div",{className:"flex items-center gap-1 bg-white dark:bg-slate-700 p-1 rounded-lg border border-gray-200 dark:border-slate-600",children:[u.jsx("button",{onClick:()=>Dn("R"),className:`w-6 h-6 text-[10px] font-bold rounded flex items-center justify-center transition-colors ${k.R?"bg-red-500 text-white":"bg-gray-100 dark:bg-slate-600 text-gray-400"}`,children:"R"}),u.jsx("button",{onClick:()=>Dn("G1"),className:`w-6 h-6 text-[10px] font-bold rounded flex items-center justify-center transition-colors ${k.G1?"bg-green-500 text-white":"bg-gray-100 dark:bg-slate-600 text-gray-400"}`,children:"G1"}),u.jsx("button",{onClick:()=>Dn("G2"),className:`w-6 h-6 text-[10px] font-bold rounded flex items-center justify-center transition-colors ${k.G2?"bg-green-400 text-white":"bg-gray-100 dark:bg-slate-600 text-gray-400"}`,children:"G2"}),u.jsx("button",{onClick:()=>Dn("B"),className:`w-6 h-6 text-[10px] font-bold rounded flex items-center justify-center transition-colors ${k.B?"bg-blue-500 text-white":"bg-gray-100 dark:bg-slate-600 text-gray-400"}`,children:"B"})]})]}),u.jsxs("div",{className:"flex flex-wrap items-end gap-8",children:[u.jsxs("div",{className:"flex flex-col bg-gray-50 dark:bg-slate-800/50 p-2 rounded border border-gray-100 dark:border-slate-700",children:[u.jsx("span",{className:"text-[9px] uppercase font-bold text-gray-500 dark:text-slate-400 mb-1",children:"Black Level (0,0 0,1 1,0 1,1)"}),u.jsx("input",{type:"text",value:G,onChange:D=>ee(D.target.value),className:"w-32 text-xs px-2 py-1 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded outline-none focus:border-cyan-500 font-mono",placeholder:"0 0 0 0"})]}),u.jsxs("div",{className:"flex flex-col justify-between bg-gray-50 dark:bg-slate-800/50 p-2 rounded border border-gray-100 dark:border-slate-700",children:[u.jsxs("div",{className:"flex justify-between items-center mb-1",children:[u.jsx("span",{className:"text-[9px] uppercase font-bold text-gray-500 dark:text-slate-400 mr-2",children:"Fit Range % (Robust)"}),u.jsx("button",{onClick:()=>{Y(!be),ge(be?0:1)},className:`px-1.5 py-0.5 text-[9px] rounded border transition-colors ${be?"bg-cyan-100 text-cyan-700 border-cyan-300 animate-pulse":"bg-white dark:bg-slate-700 border-gray-300 dark:border-slate-600 text-gray-600 dark:text-slate-300 hover:bg-gray-50"}`,children:be?ie===1?"Pick Min":"Pick Max":"Select"})]}),u.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[u.jsx("input",{type:"number",step:"0.1",value:Kt.rangeMin,onChange:D=>Vn("rangeMin",D.target.value),onBlur:Oa,onKeyDown:D=>mr(D,"rangeMin"),className:"w-10 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-1 py-0.5 text-center font-bold"}),u.jsx("span",{className:"text-gray-400",children:"-"}),u.jsx("input",{type:"number",step:"0.1",value:Kt.rangeMax,onChange:D=>Vn("rangeMax",D.target.value),onBlur:Oa,onKeyDown:D=>mr(D,"rangeMax"),className:"w-10 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-1 py-0.5 text-center font-bold"})]})]}),u.jsxs("div",{className:"flex flex-col bg-indigo-50 dark:bg-indigo-900/20 p-2 rounded border border-indigo-100 dark:border-indigo-800/50",children:[u.jsx("span",{className:"text-[9px] uppercase font-bold text-indigo-600 dark:text-indigo-400 mb-1",children:"DR Params"}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("span",{className:"text-[10px] font-bold text-indigo-500 dark:text-indigo-300",children:"Img H:"}),u.jsx("input",{type:"number",value:R,onChange:D=>$(D.target.value),onKeyDown:$n,placeholder:"Empty",className:"w-14 px-1 py-0.5 bg-white dark:bg-slate-900 border border-indigo-200 dark:border-indigo-800 rounded text-center font-bold text-indigo-700 dark:text-indigo-300 text-xs placeholder:font-normal placeholder:text-gray-300"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("span",{className:"text-[10px] font-bold text-indigo-500 dark:text-indigo-300",children:"Tgt SNR:"}),u.jsx("input",{type:"number",value:U,onChange:D=>B(D.target.value),className:"w-10 px-1 py-0.5 bg-white dark:bg-slate-900 border border-indigo-200 dark:border-indigo-800 rounded text-center font-bold text-indigo-700 dark:text-indigo-300 text-xs"})]})]})]}),u.jsxs("div",{className:"flex flex-col gap-1 text-[10px] justify-end pb-0.5",children:[u.jsx("button",{onClick:()=>{le(!K),ue&&Se(null)},disabled:be,className:`font-bold rounded border shadow-sm transition-all px-3 py-1.5 ${K?"bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-400 border-amber-500 animate-pulse":"bg-white dark:bg-slate-800 text-gray-600 dark:text-slate-300 border-gray-300 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:K?"Pick Point":"Select Linear Limit"}),u.jsxs("div",{className:"flex gap-1",children:[u.jsx("button",{onClick:Zh,className:`flex-1 font-bold rounded border shadow-sm transition-all px-2 py-1 ${x==="top3"?"bg-indigo-600 text-white border-indigo-700":"bg-white dark:bg-slate-800 text-gray-600 dark:text-slate-300 border-gray-300 dark:border-slate-600 hover:bg-gray-50"}`,children:"Top 3%"}),u.jsx("button",{onClick:yu,className:`font-bold rounded border shadow-sm transition-all px-2 py-1 ${x==="raw"?"bg-red-600 text-white border-red-700":"text-red-500 border-red-200 hover:bg-red-50"}`,children:"All"})]})]})]}),u.jsxs("div",{className:"flex flex-wrap gap-4 items-center bg-gray-50/50 dark:bg-slate-800/20 p-2 rounded-lg border border-gray-100 dark:border-slate-800",children:[u.jsx("span",{className:"text-[10px] uppercase font-bold text-gray-400 dark:text-slate-500",children:"Metadata"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"text",value:Gt,onChange:D=>Rr(D.target.value),placeholder:"Tester Name",className:"w-24 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-gray-700 dark:text-slate-300 outline-none focus:border-cyan-500 transition-colors"}),u.jsx("input",{type:"text",value:ct,onChange:D=>ur(D.target.value),placeholder:"Camera Model",className:"w-32 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-gray-700 dark:text-slate-300 outline-none focus:border-cyan-500 transition-colors"}),u.jsx("input",{type:"text",value:Jt,onChange:D=>Ht(D.target.value),placeholder:"ISO",className:"w-16 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-gray-700 dark:text-slate-300 outline-none focus:border-cyan-500 transition-colors"})]})]}),u.jsxs("div",{className:"flex flex-wrap gap-4 items-center bg-fuchsia-50/50 dark:bg-fuchsia-900/10 p-2 rounded-lg border border-fuchsia-100 dark:border-fuchsia-900/30",children:[u.jsx("span",{className:"text-[10px] uppercase font-bold text-fuchsia-500 dark:text-fuchsia-400",children:"Markers"}),u.jsxs("div",{className:"flex gap-2 items-center",children:[u.jsx("input",{type:"number",value:he,onChange:D=>Oe(D.target.value),placeholder:"X (Signal)",className:"w-20 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 outline-none focus:border-fuchsia-500 transition-colors"}),u.jsx("input",{type:"number",value:Ke,onChange:D=>et(D.target.value),placeholder:"Y (Value)",className:"w-20 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 outline-none focus:border-fuchsia-500 transition-colors"}),u.jsx("button",{onClick:Qt,className:"px-3 py-1 bg-fuchsia-600 hover:bg-fuchsia-500 text-white text-xs font-bold rounded shadow-sm transition-colors active:scale-95",children:"+"}),W.length>0&&u.jsx("button",{onClick:()=>ve([]),className:"px-2 py-1 bg-gray-200 dark:bg-slate-700 hover:bg-red-500 hover:text-white text-gray-600 dark:text-slate-300 text-xs font-bold rounded shadow-sm transition-colors active:scale-95",children:"Clr"})]}),u.jsxs("div",{className:"text-[10px] text-gray-400 dark:text-slate-500 font-mono",children:[W.length," pts"]})]}),u.jsxs("div",{className:"flex gap-4 text-[10px] pt-1 justify-center sm:justify-start flex-wrap",children:[u.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[u.jsx("input",{type:"checkbox",checked:dt.shot,onChange:D=>sn({...dt,shot:D.target.checked}),className:"rounded text-gray-500"})," ",u.jsx("span",{className:"text-gray-500",children:"Shot Noise"})]}),u.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[u.jsx("input",{type:"checkbox",checked:dt.read,onChange:D=>sn({...dt,read:D.target.checked}),className:"rounded text-rose-500"})," ",u.jsx("span",{className:"text-rose-500",children:"Read Noise"})]}),u.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[u.jsx("input",{type:"checkbox",checked:dt.prnu,onChange:D=>sn({...dt,prnu:D.target.checked}),className:"rounded text-amber-500"})," ",u.jsx("span",{className:"text-amber-500",children:"PRNU"})]}),u.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[u.jsx("input",{type:"checkbox",checked:dt.total,onChange:D=>sn({...dt,total:D.target.checked}),className:"rounded text-white"})," ",u.jsx("span",{className:"text-gray-900 dark:text-white font-bold",children:"Model"})]})]})]}),u.jsxs("div",{className:"lg:col-span-3 bg-slate-100 dark:bg-slate-800 p-4 flex flex-col justify-center gap-4",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between items-center mb-1 px-1",children:[u.jsxs("h3",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase flex items-center gap-2",children:["Fit Parameters (D55 SAT Channel:",$t,")",S&&u.jsx("span",{className:"text-orange-500 animate-pulse text-[10px]",children:"Calculating..."})]}),u.jsxs("div",{className:"flex gap-2 items-center",children:[u.jsx("button",{onClick:fo,disabled:S,className:`px-3 py-1 text-white text-[10px] font-bold rounded shadow-sm transition-all flex items-center gap-1 active:scale-95 
                                            ${S?"bg-gray-400 cursor-wait":Jh?"bg-orange-500 hover:bg-orange-600 animate-pulse ring-2 ring-orange-400/50":"bg-cyan-600 hover:bg-cyan-500"}
                                        `,title:"Apply Black Level, Auto-detect Read Noise, then Recalculate Fit",children:S?u.jsxs(u.Fragment,{children:[u.jsxs("svg",{className:"w-3 h-3 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Fitting..."]}):u.jsxs(u.Fragment,{children:[u.jsxs("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),"Apply & Calc"]})}),u.jsxs("select",{value:bt,onChange:D=>Bt(Number(D.target.value)),className:"text-[9px] bg-slate-200 dark:bg-slate-700 text-gray-600 dark:text-slate-300 rounded px-1 py-0.5 border-none outline-none cursor-pointer hover:bg-slate-300 dark:hover:bg-slate-600 transition-colors",title:"Number of point-pairs to sample for robust regression (Theil-Sen)",children:[u.jsx("option",{value:1e5,children:"100k Pairs"}),u.jsx("option",{value:5e5,children:"500k Pairs"}),u.jsx("option",{value:2e6,children:"2M Pairs"}),u.jsx("option",{value:5e6,children:"5M Pairs"}),u.jsx("option",{value:1e7,children:"10M Pairs"})]}),or&&u.jsxs("span",{className:"text-[10px] text-gray-400 dark:text-slate-500 font-mono",title:"Number of points used in regression",children:["N=",or.nPoints]})]})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("label",{className:"text-[10px] text-gray-500 dark:text-slate-400 uppercase tracking-wide mb-1",children:"rn/fpn"}),u.jsx("input",{type:"text",inputMode:"decimal",value:Kt.read,onChange:D=>Vn("read",D.target.value),onBlur:()=>kn("read"),onKeyDown:D=>mr(D,"read"),className:"w-full text-center text-2xl font-light bg-transparent text-rose-500 outline-none border-b border-transparent focus:border-rose-500 transition-colors"})]}),u.jsxs("div",{className:"flex flex-col items-center relative group",children:[u.jsxs("label",{className:"text-[10px] text-gray-500 dark:text-slate-400 uppercase tracking-wide mb-1 flex items-center gap-1",children:["Kadc (HSM)",u.jsx("button",{onClick:()=>En(!0),className:"text-[9px] text-cyan-600 dark:text-cyan-400 hover:underline",children:"Dist."})]}),u.jsx("input",{type:"text",inputMode:"decimal",value:Kt.gain,onChange:D=>Vn("gain",D.target.value),onBlur:()=>kn("gain"),onKeyDown:D=>mr(D,"gain"),className:"w-full text-center text-2xl font-light bg-transparent text-slate-700 dark:text-slate-200 outline-none border-b border-transparent focus:border-cyan-500 transition-colors"})]}),u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("label",{className:"text-[10px] text-gray-500 dark:text-slate-400 uppercase tracking-wide mb-1",children:"PRNU (%)"}),u.jsx("input",{type:"text",inputMode:"decimal",value:Kt.prnu,onChange:D=>Vn("prnu",D.target.value),onBlur:()=>kn("prnu"),onKeyDown:D=>mr(D,"prnu"),className:"w-full text-center text-2xl font-light bg-transparent text-amber-500 outline-none border-b border-transparent focus:border-amber-500 transition-colors"})]})]})]}),u.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 w-full"}),u.jsxs("div",{className:"grid grid-cols-2 gap-2 text-center",children:[u.jsxs("div",{className:"flex flex-col justify-center bg-cyan-50 dark:bg-cyan-900/10 p-2 rounded-lg border border-cyan-100 dark:border-cyan-900/30",children:[u.jsxs("h4",{className:"text-[10px] font-bold text-cyan-600 dark:text-cyan-500 uppercase tracking-wide mb-1 truncate",title:`Manual DR at SNR=${(de==null?void 0:de.manualTarget)||U}`,children:["M.DR @ SNR=",(de==null?void 0:de.manualTarget)||U]}),u.jsx("div",{className:"text-base font-bold text-cyan-700 dark:text-cyan-400 whitespace-nowrap",children:de!=null&&de.manualDR?`${de.manualDR.toFixed(2)} EV`:"--"})]}),u.jsxs("div",{className:"flex flex-col justify-center bg-emerald-50 dark:bg-emerald-900/10 p-2 rounded-lg border border-emerald-100 dark:border-emerald-900/30",title:isNaN((de==null?void 0:de.ptpTarget)||NaN)?"Requires Image Height":`Standard Point-to-Point DR (Target SNR = 16000/${R||"H"})`,children:[u.jsx("h4",{className:"text-[10px] font-bold text-emerald-600 dark:text-emerald-500 uppercase tracking-wide mb-1",children:"PTP DR"}),u.jsx("div",{className:"text-base font-bold text-emerald-700 dark:text-emerald-400 whitespace-nowrap",children:de!=null&&de.ptpDR?`${de.ptpDR.toFixed(2)} EV`:"--"})]}),u.jsxs("div",{className:"flex flex-col justify-center bg-purple-50 dark:bg-purple-900/10 p-2 rounded-lg border border-purple-100 dark:border-purple-900/30",title:isNaN((de==null?void 0:de.ptpTarget)||NaN)?"Requires Image Height":`D55 Saturation DR (Target SNR = 16000/${R||"H"} on ${de==null?void 0:de.dominantChannel} Channel)`,children:[u.jsxs("h4",{className:"text-[10px] font-bold text-purple-600 dark:text-purple-400 uppercase tracking-wide mb-1 truncate",children:["D55 DR (",de==null?void 0:de.dominantChannel,")"]}),u.jsx("div",{className:"text-base font-bold text-purple-700 dark:text-purple-400 whitespace-nowrap",children:de!=null&&de.d55DR?`${de.d55DR.toFixed(2)} EV`:"--"})]}),u.jsxs("div",{className:"flex flex-col justify-center bg-orange-50 dark:bg-orange-900/10 p-2 rounded-lg border border-orange-100 dark:border-orange-900/30",children:[u.jsx("h4",{className:"text-[10px] font-bold text-orange-600 dark:text-orange-400 uppercase tracking-wide mb-1",children:"FWC"}),u.jsx("div",{className:"text-base font-bold text-orange-600 dark:text-orange-400 font-mono whitespace-nowrap truncate",title:tr!==null?`${Math.round(tr)}`:"",children:tr!==null?tr>1e4?`${(tr/1e3).toFixed(1)}k`:`${Math.round(tr)}`:"--"})]})]}),ue===null&&u.jsx("div",{className:"text-center text-[10px] text-red-500 animate-pulse font-bold mt-[-10px]",children:"Please select Linear Limit on chart to calc DR"})]})]}),u.jsxs("div",{className:`flex-1 p-4 bg-white dark:bg-slate-900 relative grid grid-cols-[auto_1fr] grid-rows-[1fr_auto] gap-2 ${K||be?"cursor-crosshair":""}`,children:[u.jsx("div",{className:"row-start-1 col-start-1 h-full",children:u.jsx(G2,{vertical:!0,min:Fe,max:wt,value:[C?parseFloat(C):Fe,L?parseFloat(L):wt],onChange:([D,Z])=>{F(D.toString()),I(Z.toString())},logScale:h})}),u.jsxs("div",{className:"row-start-1 col-start-2 relative",children:[Yt.length===0?u.jsx("div",{className:"flex h-full items-center justify-center text-gray-400",children:"No valid data points found."}):u.jsx(_s,{width:"100%",height:"100%",children:u.jsxs(KZ,{margin:{top:20,right:20,bottom:0,left:0},onClick:Yo,children:[u.jsx("defs",{children:u.jsxs("filter",{id:"glow",height:"300%",width:"300%",x:"-100%",y:"-100%",children:[u.jsx("feGaussianBlur",{stdDeviation:"2",result:"coloredBlur"}),u.jsxs("feMerge",{children:[u.jsx("feMergeNode",{in:"coloredBlur"}),u.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),u.jsx(Mi,{strokeDasharray:"3 3",stroke:"#374151",opacity:.2}),u.jsx(ka,{type:"number",dataKey:"x",name:"Signal",scale:h?"log":"linear",domain:pl(P,A),allowDataOverflow:!0,hide:!0}),u.jsx(Sa,{type:"number",dataKey:"y",name:f,scale:h?"log":"linear",domain:pl(C,L),label:{value:ml,angle:-90,position:"insideLeft",fill:"#9ca3af",fontSize:12},tick:{fill:"#9ca3af",fontSize:10},allowDataOverflow:!0}),u.jsx(gn,{content:u.jsx(Qh,{}),cursor:{strokeDasharray:"3 3"}}),ue&&u.jsx(fi,{x:ue,stroke:"red",strokeDasharray:"3 3",label:{position:"top",value:"Sat",fill:"red",fontSize:10}}),(dt.fitRange||be)&&u.jsxs(u.Fragment,{children:[u.jsx(fi,{x:ht,stroke:"#22d3ee",strokeDasharray:"5 5",label:{position:"insideTopLeft",value:`Min: ${er.min}%`,fill:"#22d3ee",fontSize:9}}),u.jsx(fi,{x:ir,stroke:"#22d3ee",strokeDasharray:"5 5",label:{position:"insideTopLeft",value:`Max: ${er.max}%`,fill:"#22d3ee",fontSize:9}})]}),k.R&&u.jsx(hn,{name:"Red",data:rt.R,fill:"#ef4444",shape:Yr,onClick:Yo,style:s==="dark"?{filter:"url(#glow)"}:void 0},"scatter-R"),k.G1&&u.jsx(hn,{name:"Green 1",data:rt.G1,fill:"#22c55e",shape:Yr,onClick:Yo,style:s==="dark"?{filter:"url(#glow)"}:void 0},"scatter-G1"),k.G2&&u.jsx(hn,{name:"Green 2",data:rt.G2,fill:"#4ade80",shape:Yr,onClick:Yo,style:s==="dark"?{filter:"url(#glow)"}:void 0},"scatter-G2"),k.B&&u.jsx(hn,{name:"Blue",data:rt.B,fill:"#3b82f6",shape:Yr,onClick:Yo,style:s==="dark"?{filter:"url(#glow)"}:void 0},"scatter-B"),dt.shot&&Me.shot.length>0&&u.jsx(hn,{name:"Shot Noise (Ideal)",data:Me.shot,line:{stroke:"#94a3b8",strokeWidth:1,strokeDasharray:"5 5"},shape:()=>u.jsx(u.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-shot"),dt.read&&Me.read.length>0&&u.jsx(hn,{name:"Read Noise Floor",data:Me.read,line:{stroke:"#f43f5e",strokeWidth:1,strokeDasharray:"3 3"},shape:()=>u.jsx(u.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-read"),dt.prnu&&Me.prnu.length>0&&u.jsx(hn,{name:"PRNU (Non-uniformity)",data:Me.prnu,line:{stroke:"#f59e0b",strokeWidth:1,strokeDasharray:"3 3"},shape:()=>u.jsx(u.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-prnu"),dt.total&&Me.total.length>0&&u.jsx(hn,{name:"Total Noise Model",data:Me.total,line:{stroke:vu,strokeWidth:2},shape:()=>u.jsx(u.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-total"),tt.length>0&&u.jsx(hn,{name:`Target SNR=${U}`,data:tt,line:{stroke:"#6366f1",strokeWidth:2,strokeDasharray:"4 2"},shape:()=>u.jsx(u.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-target"),V.length>0&&u.jsx(hn,{name:`PTP Target SNR=${de!=null&&de.ptpTarget?de.ptpTarget.toFixed(1):"?"}`,data:V,line:{stroke:"#10b981",strokeWidth:2,strokeDasharray:"4 4"},shape:()=>u.jsx(u.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-ptp"),W.length>0&&u.jsx(hn,{name:"Manual Markers",data:W,fill:"#d946ef",shape:"star",legendType:"star"},"manual-points")]})}),u.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 pointer-events-none select-none opacity-25 mix-blend-normal dark:mix-blend-plus-lighter",children:u.jsx("svg",{viewBox:"0 0 500 60",className:"w-96 h-auto",children:u.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"36",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})})]}),u.jsx("div",{className:"row-start-2 col-start-2 w-full",children:u.jsx(G2,{min:_e,max:Je,value:[P?parseFloat(P):_e,A?parseFloat(A):Je],onChange:([D,Z])=>{_(D.toString()),N(Z.toString())},logScale:h})})]})]})})},kQ=({searchTerm:e,onSearchChange:t,manufacturers:r,selectedManufacturer:n,onManufacturerChange:a,cameras:o,onCameraSelect:i})=>u.jsx("div",{className:"sticky top-4 z-10 bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm p-4 rounded-xl border border-gray-200 dark:border-slate-700 shadow-sm",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[u.jsxs("div",{className:"relative md:col-span-3",children:[u.jsx("input",{type:"text",placeholder:"Search camera model...",value:e,onChange:s=>t(s.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none transition-all duration-300 text-gray-900 dark:text-slate-200 placeholder-gray-500 dark:placeholder-slate-400"}),u.jsx("svg",{className:"w-5 h-5 text-gray-400 dark:text-slate-400 absolute top-1/2 left-3 transform -translate-y-1/2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),u.jsx("select",{value:n,onChange:s=>a(s.target.value),className:"w-full md:col-span-1 bg-gray-50 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg px-4 py-2 focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none transition-all duration-300 appearance-none text-gray-900 dark:text-slate-200",children:r.map(s=>u.jsx("option",{value:s,children:s},s))}),u.jsxs("select",{onChange:s=>i(s.target.value),className:"w-full md:col-span-1 bg-gray-50 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg px-4 py-2 focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none transition-all duration-300 appearance-none text-gray-900 dark:text-slate-200",value:"","aria-label":"Jump to camera model",children:[u.jsx("option",{value:"",disabled:!0,children:"Jump to model..."}),o.map(s=>u.jsx("option",{value:s.id,children:s.name},s.id))]})]})}),SQ=({active:e,payload:t,label:r,theme:n})=>{if(e&&t&&t.length){const a=t[0].payload,o=n==="dark"?"bg-slate-800/80 border-slate-600 text-slate-300":"bg-white/90 border-gray-200 text-gray-700";return u.jsxs("div",{className:`${o} backdrop-blur-sm border p-3 rounded-lg shadow-lg`,children:[u.jsx("p",{className:"label font-bold",children:`ISO ${r}`}),u.jsx("div",{className:"mt-2 space-y-1 text-sm",children:u.jsxs(u.Fragment,{children:[u.jsxs("div",{style:{color:"#f87171"},children:["Red: ",a.R_avg.toFixed(2)," (Range: ",a.R_range[0]," - ",a.R_range[1],")"]}),u.jsxs("div",{style:{color:"#4ade80"},children:["Green 1: ",a.G1_avg.toFixed(2)," (Range: ",a.G1_range[0]," - ",a.G1_range[1],")"]}),u.jsxs("div",{style:{color:"#60a5fa"},children:["Blue: ",a.B_avg.toFixed(2)," (Range: ",a.B_range[0]," - ",a.B_range[1],")"]}),u.jsxs("div",{style:{color:"#86efac"},children:["Green 2: ",a.G2_avg.toFixed(2)," (Range: ",a.G2_range[0]," - ",a.G2_range[1],")"]})]})})]})}return null},jQ=({data:e,theme:t="dark"})=>{const r=O.useMemo(()=>!e||e.length===0?[]:[...new Set(e.map(i=>i.iso))].sort((i,s)=>Number(i)-Number(s)),[e]),n=O.useMemo(()=>{if(!e||e.length===0)return[0,4096];const i=e.flatMap(m=>[...m.R_range,...m.G1_range,...m.G2_range,...m.B_range]);if(i.length===0)return[0,4096];let s=Math.min(...i),l=Math.max(...i);const c=.25,f=l-s;if(f<c){const m=c-f;s-=m/2,l+=m/2}const d=(l-s)*.1,h=s-d,p=l+d;return[h,p]},[e]),a=t==="dark"?"#475569":"#e5e7eb",o=t==="dark"?"#94a3b8":"#6b7280";return!e||e.length===0?u.jsx("div",{className:"flex items-center justify-center h-full text-gray-500 dark:text-slate-500",children:u.jsx("p",{children:"No data available for this mode."})}):u.jsx(_s,{width:"100%",height:"100%",children:u.jsxs(z_,{data:e,margin:{top:5,right:20,left:0,bottom:5},children:[u.jsx(Mi,{strokeDasharray:"3 3",stroke:a}),u.jsx(ka,{dataKey:"iso",type:"number",domain:["dataMin","dataMax"],tick:{fill:o,fontSize:12},scale:"log",allowDuplicatedCategory:!1,ticks:r}),u.jsx(Sa,{tick:{fill:o,fontSize:12},domain:n,allowDecimals:!0,tickFormatter:i=>Number(i).toFixed(3)}),u.jsx(gn,{content:u.jsx(SQ,{theme:t})}),u.jsx(Qa,{wrapperStyle:{fontSize:"14px",color:o}}),u.jsx(ta,{type:"monotone",dataKey:"R_range",fill:"#f87171",stroke:"none",fillOpacity:.2,name:"Red",legendType:"none"}),u.jsx(zr,{type:"monotone",dataKey:"R_avg",stroke:"#f87171",strokeWidth:2,dot:!1,activeDot:{r:5},name:"Red"}),u.jsx(ta,{type:"monotone",dataKey:"G1_range",fill:"#4ade80",stroke:"none",fillOpacity:.2,name:"Green 1",legendType:"none"}),u.jsx(zr,{type:"monotone",dataKey:"G1_avg",stroke:"#4ade80",strokeWidth:2,dot:!1,activeDot:{r:5},name:"Green 1"}),u.jsx(ta,{type:"monotone",dataKey:"B_range",fill:"#60a5fa",stroke:"none",fillOpacity:.2,name:"Blue",legendType:"none"}),u.jsx(zr,{type:"monotone",dataKey:"B_avg",stroke:"#60a5fa",strokeWidth:2,dot:!1,activeDot:{r:5},name:"Blue"}),u.jsx(ta,{type:"monotone",dataKey:"G2_range",fill:"#86efac",stroke:"none",fillOpacity:.2,name:"Green 2",legendType:"none"}),u.jsx(zr,{type:"monotone",dataKey:"G2_avg",stroke:"#86efac",strokeWidth:2,dot:!1,activeDot:{r:5},name:"Green 2"})]})})},OQ=M.forwardRef(({camera:e,theme:t="dark"},r)=>{const n=O.useMemo(()=>e.shootingModes.map(d=>d.modeName),[e.shootingModes]),[a,o]=O.useState(n[0]||""),{chartData:i,tableData:s}=O.useMemo(()=>{const d=e.shootingModes.find(m=>m.modeName===a);if(!(d!=null&&d.data))return{chartData:[],tableData:[]};const h=d.data.map(m=>({iso:m.iso,R_range:m.r.range,R_avg:m.r.avg,G1_range:m.g1.range,G1_avg:m.g1.avg,B_range:m.b.range,B_avg:m.b.avg,G2_range:m.g2.range,G2_avg:m.g2.avg})),p=d.data.map(m=>({iso:m.iso,levels:[m.r.avg,m.g1.avg,m.g2.avg,m.b.avg],clipping:m.clipping}));return{chartData:h,tableData:p}},[e.shootingModes,a]),l=`Raw Data (${a})`,c=O.useRef(null),f=O.useRef(null);return O.useEffect(()=>{const d=c.current,h=f.current;if(!d||!h)return;const p=new ResizeObserver(m=>{for(let v of m){const{width:x}=v.contentRect,g=Math.max(8,x/35);h.style.fontSize=`${g}px`}});return p.observe(d),()=>p.disconnect()},[]),u.jsxs("div",{ref:r,className:"bg-white dark:bg-slate-800/50 border border-gray-200 dark:border-slate-700 rounded-xl shadow-lg p-6 flex flex-col gap-6 transform hover:scale-[1.02] hover:border-cyan-500/50 transition-all duration-500 ease-in-out",children:[u.jsxs("div",{className:"border-b border-gray-200 dark:border-slate-700 pb-4",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-slate-100",children:e.name}),u.jsx("p",{className:"text-cyan-600 dark:text-cyan-400",children:e.manufacturer})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-4 mb-4",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-slate-300",children:"Black Level vs. ISO"}),u.jsx("select",{value:a,onChange:d=>o(d.target.value),className:"w-full sm:w-auto bg-gray-50 dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded-md px-3 py-1 text-sm outline-none focus:ring-2 focus:ring-cyan-500 transition-all duration-300 text-gray-900 dark:text-slate-200","aria-label":`Select shooting mode for ${e.name}`,children:n.map(d=>u.jsx("option",{value:d,children:d},d))})]}),u.jsxs("div",{ref:c,className:"h-64 relative",children:[u.jsx(jQ,{data:i,theme:t},a),u.jsx("div",{className:"absolute top-1/2 left-[52%] transform -translate-x-1/2 -translate-y-1/2 -rotate-30 pointer-events-none",children:u.jsx("p",{ref:f,className:"font-bold text-gray-900/10 dark:text-slate-200/40 whitespace-nowrap",children:" y-g-jiang.github.io"})})]})]}),u.jsxs("div",{className:"overflow-x-auto",children:[u.jsx("div",{className:"flex justify-between items-center mb-4",children:u.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-slate-300",children:l})}),u.jsxs("table",{className:"w-full text-left border-collapse",children:[u.jsx("thead",{className:"bg-gray-100 dark:bg-slate-700/50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"p-3 font-semibold text-sm text-gray-700 dark:text-slate-300",children:"ISO"}),u.jsx("th",{className:"p-3 font-semibold text-sm text-red-500 dark:text-red-400",children:"Red"}),u.jsx("th",{className:"p-3 font-semibold text-sm text-green-600 dark:text-green-400",children:"Green 1"}),u.jsx("th",{className:"p-3 font-semibold text-sm text-blue-500 dark:text-blue-400",children:"Blue"}),u.jsx("th",{className:"p-3 font-semibold text-sm text-green-500 dark:text-green-300",children:"Green 2"})]})}),u.jsx("tbody",{children:s.map(({iso:d,levels:h,clipping:p})=>u.jsxs("tr",{className:"border-b border-gray-200 dark:border-slate-700/50 last:border-b-0",children:[u.jsxs("td",{className:"p-3 font-mono text-gray-700 dark:text-slate-300 whitespace-nowrap",children:[d,p&&u.jsx("span",{className:"ml-3 text-xs font-semibold text-amber-600 dark:text-amber-400 bg-amber-100 dark:bg-amber-900/50 px-2 py-1 rounded-full align-middle",children:"Clipping"})]}),u.jsx("td",{className:"p-3 font-mono text-red-500 dark:text-red-400",children:h[0].toFixed(2)}),u.jsx("td",{className:"p-3 font-mono text-green-600 dark:text-green-400",children:h[1].toFixed(2)}),u.jsx("td",{className:"p-3 font-mono text-blue-500 dark:text-blue-400",children:h[3].toFixed(2)}),u.jsx("td",{className:"p-3 font-mono text-green-500 dark:text-green-300",children:h[2].toFixed(2)})]},d))})]})]})]})}),pe=(e,t,r)=>({avg:e,range:[t,r]}),f0=[{id:"sony-a7r2",name:"Sony ILCE-7RM2 (A7R II)",manufacturer:"Sony",shootingModes:[{modeName:"Still (Mechanical Shutter)",data:[{iso:100,r:pe(512.1,511.95,512.25),g1:pe(512.05,511.9,512.2),b:pe(512.12,511.98,512.28),g2:pe(512.06,511.92,512.22)},{iso:200,r:pe(512.15,512,512.3),g1:pe(512.1,511.95,512.25),b:pe(512.18,512.05,512.35),g2:pe(512.12,511.98,512.28)},{iso:400,r:pe(512.25,512.1,512.45),g1:pe(512.2,512.05,512.4),b:pe(512.3,512.15,512.5),g2:pe(512.22,512.08,512.42)},{iso:800,r:pe(512.5,512.2,512.8),g1:pe(512.45,512.15,512.75),b:pe(512.55,512.25,512.85),g2:pe(512.48,512.18,512.78)},{iso:1600,r:pe(513.1,512.8,513.4),g1:pe(513.05,512.75,513.35),b:pe(513.15,512.85,513.45),g2:pe(513.08,512.78,513.38)}]}]},{id:"sony-a7c",name:"Sony ILCE-7C",manufacturer:"Sony",shootingModes:[{modeName:"Still (Mechanical)",data:[{iso:100,r:pe(512.02,511.98,512.05),g1:pe(512.01,511.97,512.04),b:pe(512.03,511.99,512.06),g2:pe(512.01,511.97,512.04)},{iso:640,r:pe(512.15,512.05,512.25),g1:pe(512.12,512.02,512.22),b:pe(512.18,512.08,512.28),g2:pe(512.13,512.03,512.23)}]}]},{id:"canon-r5",name:"Canon EOS R5",manufacturer:"Canon",shootingModes:[{modeName:"Mechanical Shutter",data:[{iso:100,r:pe(512,511.8,512.2),g1:pe(512,511.8,512.2),b:pe(512,511.8,512.2),g2:pe(512,511.8,512.2)},{iso:400,r:pe(512,511.7,512.3),g1:pe(512,511.7,512.3),b:pe(512,511.7,512.3),g2:pe(512,511.7,512.3)},{iso:1600,r:pe(512.2,511.5,512.8),g1:pe(512.2,511.5,512.8),b:pe(512.2,511.5,512.8),g2:pe(512.2,511.5,512.8)}]}]},{id:"canon-r6",name:"Canon EOS R6",manufacturer:"Canon",shootingModes:[{modeName:"Mechanical Shutter",data:[{iso:100,r:pe(511.95,511.8,512.1),g1:pe(511.95,511.8,512.1),b:pe(511.95,511.8,512.1),g2:pe(511.95,511.8,512.1)},{iso:800,r:pe(512.1,511.9,512.3),g1:pe(512.1,511.9,512.3),b:pe(512.1,511.9,512.3),g2:pe(512.1,511.9,512.3)}]}]},{id:"nikon-z9",name:"Nikon Z9",manufacturer:"Nikon",shootingModes:[{modeName:"Electronic Shutter",data:[{iso:64,r:pe(400,399.9,400.1),g1:pe(400,399.9,400.1),b:pe(400,399.9,400.1),g2:pe(400,399.9,400.1)},{iso:100,r:pe(400,399.9,400.1),g1:pe(400,399.9,400.1),b:pe(400,399.9,400.1),g2:pe(400,399.9,400.1)}]}]},{id:"nikon-z6-2",name:"Nikon Z 6II",manufacturer:"Nikon",shootingModes:[{modeName:"Still (Lossless)",data:[{iso:100,r:pe(400.1,399.8,400.3),g1:pe(400.1,399.8,400.3),b:pe(400.1,399.8,400.3),g2:pe(400.1,399.8,400.3)},{iso:800,r:pe(400.3,399.5,401.1),g1:pe(400.3,399.5,401.1),b:pe(400.3,399.5,401.1),g2:pe(400.3,399.5,401.1)}]}]},{id:"fujifilm-xt4",name:"Fujifilm X-T4",manufacturer:"Fujifilm",shootingModes:[{modeName:"Still (RAF)",data:[{iso:160,r:pe(1024,1023.8,1024.2),g1:pe(1024,1023.8,1024.2),b:pe(1024,1023.8,1024.2),g2:pe(1024,1023.8,1024.2)},{iso:800,r:pe(1024.2,1023.5,1025),g1:pe(1024.2,1023.5,1025),b:pe(1024.2,1023.5,1025),g2:pe(1024.2,1023.5,1025)}]}]}],PQ=({isOpen:e,onClose:t,theme:r})=>{const[n,a]=O.useState(""),[o,i]=O.useState("All"),s=O.useMemo(()=>["All",...Array.from(new Set(f0.map(d=>d.manufacturer))).sort()],[]),l=O.useMemo(()=>f0.filter(f=>{const d=f.name.toLowerCase().includes(n.toLowerCase()),h=o==="All"||f.manufacturer===o;return d&&h}),[n,o]),c=f=>{const d=document.getElementById(`camera-${f}`);d&&d.scrollIntoView({behavior:"smooth"})};return e?u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",onClick:t,children:u.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-6xl h-[90vh] rounded-2xl shadow-2xl flex flex-col border border-gray-200 dark:border-slate-700 overflow-hidden",onClick:f=>f.stopPropagation(),children:[u.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50",children:[u.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-slate-100 flex items-center gap-2",children:["Camera Black Level Database",u.jsxs("span",{className:"text-xs font-normal bg-cyan-100 dark:bg-cyan-900/30 text-cyan-600 dark:text-cyan-400 px-2 py-0.5 rounded border border-cyan-200 dark:border-cyan-800",children:[f0.length," Models"]})]}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 transition-colors p-2 rounded-full hover:bg-gray-100 dark:hover:bg-slate-800",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-slate-700 bg-gray-50/50 dark:bg-slate-800/30",children:u.jsx(kQ,{searchTerm:n,onSearchChange:a,manufacturers:s,selectedManufacturer:o,onManufacturerChange:i,cameras:l,onCameraSelect:c})}),u.jsx("div",{className:"flex-1 overflow-y-auto p-6 scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-slate-700 bg-gray-100 dark:bg-slate-950",children:u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-2 gap-6",children:[l.map(f=>u.jsx("div",{id:`camera-${f.id}`,children:u.jsx(OQ,{camera:f,theme:r})},f.id)),l.length===0&&u.jsx("div",{className:"col-span-full flex flex-col items-center justify-center py-20 text-gray-400 dark:text-slate-600",children:u.jsx("p",{className:"text-lg",children:"No cameras found matching your criteria."})})]})})]})}):null},_Q=({isOpen:e,onClose:t,zIndex:r=150})=>{const[n,a]=O.useState(""),[o,i]=O.useState(""),[s,l]=O.useState(""),[c,f]=O.useState(""),[d,h]=O.useState(null),p=()=>{const m=parseFloat(n),v=parseFloat(o),x=parseFloat(s),y=parseFloat(c);if(isNaN(m)||isNaN(v)||isNaN(x)||isNaN(y)){h(null);return}const g=m,b=v,S=x*x,w=y*y,k=(g+b)/2;if(k<=1e-9){h(0);return}const j=S*w/k,P=Math.sqrt(j);h(P)};return e?u.jsxs(Yh,{initialPosition:{x:window.innerWidth/2-160,y:window.innerHeight/2-200},onClose:t,zIndex:r,className:"w-80 bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 flex flex-col shadow-2xl",children:[u.jsxs("div",{className:"flex justify-between items-center px-4 py-3 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800",children:[u.jsx("h3",{className:"text-sm font-bold text-gray-700 dark:text-slate-200",children:"Cross-Compensation Calc"}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 transition-colors",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("div",{className:"p-4 flex flex-col gap-3 text-xs",children:[u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-gray-500 dark:text-slate-400 font-bold",children:"H Mean (Power/Var)"}),u.jsx("input",{type:"number",step:"any",value:n,onChange:m=>a(m.target.value),className:"p-2 rounded bg-gray-100 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 outline-none focus:border-indigo-500 text-gray-900 dark:text-slate-100 font-mono"})]}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-gray-500 dark:text-slate-400 font-bold",children:"V Mean (Power/Var)"}),u.jsx("input",{type:"number",step:"any",value:o,onChange:m=>i(m.target.value),className:"p-2 rounded bg-gray-100 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 outline-none focus:border-indigo-500 text-gray-900 dark:text-slate-100 font-mono"})]}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-gray-500 dark:text-slate-400 font-bold",children:"H RMS 0 (Sigma)"}),u.jsx("input",{type:"number",step:"any",value:s,onChange:m=>l(m.target.value),className:"p-2 rounded bg-gray-100 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 outline-none focus:border-indigo-500 text-gray-900 dark:text-slate-100 font-mono"})]}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-gray-500 dark:text-slate-400 font-bold",children:"V RMS 0 (Sigma)"}),u.jsx("input",{type:"number",step:"any",value:c,onChange:m=>f(m.target.value),className:"p-2 rounded bg-gray-100 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 outline-none focus:border-indigo-500 text-gray-900 dark:text-slate-100 font-mono"})]}),u.jsx("button",{onClick:p,className:"mt-2 w-full py-2 bg-indigo-600 hover:bg-indigo-500 text-white font-bold rounded shadow transition-colors active:scale-95",children:"Calculate Sigma"}),d!==null&&u.jsxs("div",{className:"mt-2 p-3 bg-indigo-50 dark:bg-indigo-900/30 border border-indigo-200 dark:border-indigo-800 rounded text-center animate-in fade-in slide-in-from-top-1",children:[u.jsx("span",{className:"block text-[10px] uppercase font-bold text-gray-500 dark:text-slate-400 mb-1",children:"Original White Noise Sigma"}),u.jsx("span",{className:"text-lg font-mono font-bold text-indigo-700 dark:text-indigo-300 select-all",children:d.toFixed(5)})]})]})]}):null};function NQ(e,t,r,n=3){const o=r.byteLength,i=8,s=i+o,l=[{id:256,type:4,count:1,value:e},{id:257,type:4,count:1,value:t},{id:258,type:3,count:n,value:n===1?16:[16,16,16]},{id:259,type:3,count:1,value:1},{id:262,type:3,count:1,value:n===1?1:2},{id:273,type:4,count:1,value:i},{id:277,type:3,count:1,value:n},{id:278,type:4,count:1,value:t},{id:279,type:4,count:1,value:o}],c=2+l.length*12+4;let f=0;const d=l.map(g=>{let b=g.type===3?2:4;const S=g.count*b,w=S<=4;let k=0;return w||(k=f,f+=S),{...g,fits:w,totalBytes:S,extraOffset:k}}),h=s+c+f,p=new ArrayBuffer(h),m=new DataView(p),v=new Uint8Array(p);m.setUint16(0,18761,!0),m.setUint16(2,42,!0),m.setUint32(4,s,!0),v.set(new Uint8Array(r.buffer,r.byteOffset,r.byteLength),i);let x=s;m.setUint16(x,l.length,!0),x+=2;const y=s+c;return d.forEach(g=>{if(m.setUint16(x,g.id,!0),m.setUint16(x+2,g.type,!0),m.setUint32(x+4,g.count,!0),g.fits)Array.isArray(g.value)||(g.type===3?m.setUint16(x+8,g.value,!0):m.setUint32(x+8,g.value,!0));else{const b=y+g.extraOffset;m.setUint32(x+8,b,!0),Array.isArray(g.value)&&g.value.forEach((S,w)=>{m.setUint16(b+w*2,S,!0)})}x+=12}),m.setUint32(x,0,!0),p}const AQ="http://localhost:5428",MQ=(e=!1)=>{const[t,r]=O.useState({isConnected:!1,message:"Initializing...",hasDngConverter:!1});return O.useEffect(()=>{if(e){r({isConnected:!1,message:"Bridge Paused",hasDngConverter:!1});return}const n=async()=>{try{const o=new AbortController,i=setTimeout(()=>o.abort(),1e3),s=await fetch(`${AQ}/health`,{method:"GET",signal:o.signal});if(clearTimeout(i),s.ok){const l=await s.json(),c=`Connected (${l.exiftool||"Ready"})`;r(f=>f.isConnected===!0&&f.message===c&&f.version===l.exiftool&&f.hasDngConverter===!!l.dng_converter?f:{isConnected:!0,message:c,version:l.exiftool,hasDngConverter:!!l.dng_converter})}else r(l=>l.isConnected===!1&&l.message==="Service Error"?l:{isConnected:!1,message:"Service Error",hasDngConverter:!1})}catch{r(i=>i.isConnected===!1&&i.message==="Not Detected"?i:{isConnected:!1,message:"Not Detected",hasDngConverter:!1})}};n();const a=setInterval(n,2e3);return()=>clearInterval(a)},[e]),t},CQ="JTR_BlobStore",Ba="raw_files",EQ=1,qh=()=>new Promise((e,t)=>{const r=indexedDB.open(CQ,EQ);r.onupgradeneeded=n=>{const a=n.target.result;a.objectStoreNames.contains(Ba)||a.createObjectStore(Ba)},r.onsuccess=()=>e(r.result),r.onerror=()=>t(r.error)}),H2=async(e,t)=>{const r=await qh();return new Promise((n,a)=>{const o=r.transaction(Ba,"readwrite");o.objectStore(Ba).put(t,e),o.oncomplete=()=>n(),o.onerror=()=>a(o.error)})},TQ=async e=>{const t=await qh();return new Promise((r,n)=>{const i=t.transaction(Ba,"readonly").objectStore(Ba).get(e);i.onsuccess=()=>r(i.result),i.onerror=()=>n(i.error)})},$Q=async()=>{const e=await qh();return new Promise((t,r)=>{const n=e.transaction(Ba,"readwrite");n.objectStore(Ba).clear(),n.oncomplete=()=>t(),n.onerror=()=>r(n.error)})},U_="jtr_workspace_index",DQ=e=>{try{const t=JSON.stringify(e);localStorage.setItem(U_,t)}catch(t){console.error("Failed to save workspace index",t)}},RQ=()=>{try{const e=localStorage.getItem(U_);return e?JSON.parse(e):null}catch(e){return console.error("Failed to load workspace index",e),null}},LQ=async e=>{const n=(await qh()).transaction(Ba,"readwrite").objectStore(Ba),a=n.getAllKeys();a.onsuccess=()=>{a.result.forEach(i=>{e.includes(i)||n.delete(i)})}},en=1024,V2=(e,t,r)=>{const n=e.width,a=e.height,o=new ImageData(t,r),i=e.data,s=o.data,l=n/t,c=a/r;for(let f=0;f<r;f++){const d=Math.floor(f*c),h=f*t*4,p=d*n*4;for(let m=0;m<t;m++){const x=Math.floor(m*l)*4,y=h+m*4,g=p+x;s[y]=i[g],s[y+1]=i[g+1],s[y+2]=i[g+2],s[y+3]=i[g+3]}}return o},IQ=({stats:e,onClose:t,onMinimize:r,isBGGR:n,onToggleBGGR:a,onOpenWindow:o,displaySettings:i,zIndex:s,onFocus:l})=>{if(!e)return null;const c=!!i.showKadc&&!!i.blackLevel,f=i.blackLevel||[0,0,0,0],d=!!i.subtractBlackLevelFromStats&&!!i.blackLevel,h=(x,y,g)=>{if(!c)return null;const b=y*y;return b<=1e-4?0:(x-g)/b},p=(x,y)=>d?x-f[y]:x,m=()=>{if(!d){alert(`Sub. BL
Please enable 'Sub. BL' in Tools sidebar first.`);return}let x,y,g,b;n?(b=0,y=1,g=2,x=3):(x=0,y=1,g=2,b=3);const S=k=>e.means[k]-f[k],w=k=>e.stdDevs[k];localStorage.setItem("import_signal_r",S(x).toString()),localStorage.setItem("import_signal_g1",S(y).toString()),localStorage.setItem("import_signal_g2",S(g).toString()),localStorage.setItem("import_signal_b",S(b).toString()),localStorage.setItem("import_sigma_r",w(x).toString()),localStorage.setItem("import_sigma_g1",w(y).toString()),localStorage.setItem("import_sigma_g2",w(g).toString()),localStorage.setItem("import_sigma_b",w(b).toString()),window.open("https://y-g-jiang.github.io/XJZS.html","_blank")},v=n?[{name:"B",desc:"(0,0)",mean:p(e.means[0],0),std:e.stdDevs[0],color:"text-blue-500",k:h(e.means[0],e.stdDevs[0],f[0])},{name:"G1",desc:"(0,1)",mean:p(e.means[1],1),std:e.stdDevs[1],color:"text-green-500",k:h(e.means[1],e.stdDevs[1],f[1])},{name:"G2",desc:"(1,0)",mean:p(e.means[2],2),std:e.stdDevs[2],color:"text-green-500",k:h(e.means[2],e.stdDevs[2],f[2])},{name:"R",desc:"(1,1)",mean:p(e.means[3],3),std:e.stdDevs[3],color:"text-red-500",k:h(e.means[3],e.stdDevs[3],f[3])}]:[{name:"R",desc:"(0,0)",mean:p(e.means[0],0),std:e.stdDevs[0],color:"text-red-500",k:h(e.means[0],e.stdDevs[0],f[0])},{name:"G1",desc:"(0,1)",mean:p(e.means[1],1),std:e.stdDevs[1],color:"text-green-500",k:h(e.means[1],e.stdDevs[1],f[1])},{name:"G2",desc:"(1,0)",mean:p(e.means[2],2),std:e.stdDevs[2],color:"text-green-500",k:h(e.means[2],e.stdDevs[2],f[2])},{name:"B",desc:"(1,1)",mean:p(e.means[3],3),std:e.stdDevs[3],color:"text-blue-500",k:h(e.means[3],e.stdDevs[3],f[3])}];return u.jsxs(Yh,{className:`${c?"w-80":"w-60"} p-0 overflow-hidden transition-all duration-300`,onClose:t,zIndex:s,onFocus:l,children:[u.jsxs("div",{className:"flex justify-between items-center px-3 py-2 border-b border-gray-100 dark:border-slate-800 bg-gray-50/50 dark:bg-slate-800/50",children:[u.jsxs("h3",{className:"text-xs font-bold text-gray-700 dark:text-slate-300 uppercase tracking-wider flex items-center gap-2",children:["ROI Analysis",u.jsxs("span",{className:"text-[10px] font-normal text-gray-400 bg-gray-200 dark:bg-slate-700 px-1.5 py-0.5 rounded",children:[Math.round(e.width),"",Math.round(e.height)]})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 transition-colors p-1 rounded-md hover:bg-gray-200 dark:hover:bg-slate-700 relative z-20",children:u.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 dark:hover:text-red-400 transition-colors p-1 rounded-md hover:bg-gray-200 dark:hover:bg-slate-700 relative z-20",children:u.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),u.jsxs("div",{className:"p-3",children:[u.jsxs("div",{className:"flex justify-between items-center mb-3",children:[u.jsxs("div",{className:"text-[10px] text-gray-400 dark:text-slate-500 font-mono leading-tight",children:["X: ",Math.round(e.x),u.jsx("br",{}),"Y: ",Math.round(e.y)]}),u.jsx("button",{onClick:()=>a(!n),className:"text-[10px] font-bold px-2 py-1 rounded bg-gray-100 hover:bg-gray-200 dark:bg-slate-800 dark:hover:bg-slate-700 text-gray-600 dark:text-slate-300 transition-colors border border-gray-200 dark:border-slate-700 relative z-20",title:"Toggle Bayer Pattern Interpretation",children:n?"BGGR":"RGGB"})]}),u.jsxs("table",{className:"w-full mb-3",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-[10px] text-gray-400 dark:text-slate-500 border-b border-gray-100 dark:border-slate-800",children:[u.jsx("th",{className:"text-left pb-1 font-medium",children:"Ch"}),u.jsxs("th",{className:"text-right pb-1 font-medium",children:["Mean",d?"*":""]}),u.jsx("th",{className:"text-right pb-1 font-medium",children:"Std()"}),c&&u.jsx("th",{className:"text-right pb-1 font-medium text-cyan-600 dark:text-cyan-400",children:"K(e/ADU)"})]})}),u.jsx("tbody",{className:"font-mono text-xs",children:v.map((x,y)=>u.jsxs("tr",{className:"group hover:bg-gray-50 dark:hover:bg-slate-800/30 transition-colors",children:[u.jsxs("td",{className:"py-1",children:[u.jsx("span",{className:`font-bold ${x.color}`,children:x.name}),u.jsx("span",{className:"text-[9px] text-gray-300 dark:text-slate-600 ml-1 hidden group-hover:inline",children:x.desc})]}),u.jsx("td",{className:"py-1 text-right text-gray-700 dark:text-slate-200 font-semibold",title:d?"Mean minus Black Level":"Raw Mean",children:x.mean.toFixed(2)}),u.jsx("td",{className:"py-1 text-right text-gray-500 dark:text-slate-400",children:x.std.toFixed(2)}),c&&u.jsx("td",{className:"py-1 text-right text-cyan-600 dark:text-cyan-400 font-bold",children:x.k!==null?x.k.toFixed(3):"-"})]},y))})]}),d&&u.jsx("div",{className:"mb-2 text-[9px] text-gray-400 dark:text-slate-500 text-right italic",children:"* Mean adjusted by Black Level"}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsx("button",{onClick:()=>o("histogram"),className:"relative z-20 flex-1 min-w-[50px] py-1.5 bg-cyan-600 hover:bg-cyan-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"View Histogram",children:"Hist"}),u.jsx("button",{onClick:()=>o("quant"),className:"relative z-20 flex-1 min-w-[50px] py-1.5 bg-teal-600 hover:bg-teal-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"View Quantization Steps",children:"Quant"}),u.jsx("button",{onClick:()=>o("fft"),className:"relative z-20 flex-1 min-w-[50px] py-1.5 bg-purple-600 hover:bg-purple-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"View Power Spectrum (FFT)",children:"FFT"}),u.jsx("button",{onClick:()=>o("pearson"),className:"relative z-20 flex-1 min-w-[50px] py-1.5 bg-indigo-600 hover:bg-indigo-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"Pearson Correlation Analysis",children:"PCC"}),u.jsx("button",{onClick:m,className:"relative z-20 flex-1 min-w-[50px] py-1.5 bg-pink-600 hover:bg-pink-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"Color Noise Analysis (External Tool)",children:"ColorN"})]})]})]})},BQ=()=>{var Su;const[e,t]=O.useState(!0),[r,n]=O.useState("Initializing..."),a=O.useRef(!1),[o,i]=O.useState("dark");O.useEffect(()=>{const z=window.document.documentElement;z.classList.remove(o==="dark"?"light":"dark"),z.classList.add(o)},[o]);const[s,l]=O.useState(!1),[c,f]=O.useState(!1),[d,h]=O.useState(!1),p=MQ(s||c||d),[m,v]=O.useState(!1),[x,y]=O.useState([]),[g,b]=O.useState(-1),[S,w]=O.useState([]),k=O.useMemo(()=>x[g],[x,g]),j=(k==null?void 0:k.file)||null,P=(k==null?void 0:k.imageElement)||null,_=(k==null?void 0:k.rawImageData)||null,A=(k==null?void 0:k.rawFileBuffer)||null,N=(k==null?void 0:k.renderedRawImageData)||null,C=(k==null?void 0:k.referenceImageData)||null,F=(k==null?void 0:k.sampledImageData)||null,L=(k==null?void 0:k.exifData)||null,I=(k==null?void 0:k.isThreePlane)||!1,U=(k==null?void 0:k.xtransPhase)||{x:0,y:0},B=(k==null?void 0:k.displaySettings)||{exposure:0,demosaicMethod:3,blackLevel:void 0,wbGains:[1,1],showKadc:!0,subtractBlackLevelFromStats:!0},[R,$]=O.useState(!1),[G,ee]=O.useState(null),[Q,q]=O.useState(!1),[K,le]=O.useState(!1),[ue,Se]=O.useState(null),[be,Y]=O.useState([]),[ie,ge]=O.useState(100),[W,ve]=O.useState(!0),[he,Oe]=O.useState(!1),[Ke,et]=O.useState(null),[Qt,Gt]=O.useState(!1),[Rr,ct]=O.useState(!1),[ur,Jt]=O.useState(!1),[Ht,gr]=O.useState(!1),[Mr,Vt]=O.useState(!1),[or,Hr]=O.useState(!1),[er,Vr]=O.useState(!1),[at,He]=O.useState(!1),[bt,Bt]=O.useState({x:0,y:0}),[Pt,Xr]=O.useState(!1),[Xt,Kt]=O.useState(!1),[Lr,dt]=O.useState(2),[sn,Kr]=O.useState(1),[En,Tn]=O.useState([]),[bn,ln]=O.useState(null),[br,Ir]=O.useState(0),[Cr,cn]=O.useState([]),[$n,Tt]=O.useState([]),[Yt,$t]=O.useState(64),[ne,Pe]=O.useState(10),[_e,Je]=O.useState(10),[Fe,wt]=O.useState(4),[ht,ir]=O.useState(1),[Me,tt]=O.useState(0),[pt,gt]=O.useState("processed"),[tr,de]=O.useState(!1),V=O.useMemo(()=>B.blackLevel?B.blackLevel:_!=null&&_.blackLevels?[_.blackLevels[0],_.blackLevels[1],_.blackLevels[2],_.blackLevels[3]]:[0,0,0,0],[B.blackLevel,_]),Ce=(L==null?void 0:L.ImageHeight)||(L==null?void 0:L.ExifImageHeight)||(_==null?void 0:_.height)||0,[rt,Le]=O.useState(null),[un,Re]=O.useState(null),[fr,wn]=O.useState({x:0,y:0}),[Vn,kn]=O.useState(1),[fo,Oa]=O.useState("pan"),mr=O.useRef(null),Dn=O.useRef(null),Zh=O.useCallback(async()=>{if(!A||!k)return;Jt(!1);const z=Ht,T=Mr;Re(`Rendering 16-bit TIFF (${z?"Stretched":"Native DN"} | ${T?"sRGB":"Linear"})...`);try{const H=await cQ(A.slice(0),B,z,T),X=NQ(H.width,H.height,H.data,H.channels),re=new Blob([X],{type:"image/tiff"}),fe=URL.createObjectURL(re),ke=document.createElement("a"),xe=k.fileName||"rendered",Te=xe.substring(0,xe.lastIndexOf("."))||xe,we=[z?"stretch":"native",T?"srgb":"linear"].join("_");ke.href=fe,ke.download=`${Te}_${we}.tif`,document.body.appendChild(ke),ke.click(),document.body.removeChild(ke),URL.revokeObjectURL(fe)}catch(H){Le("TIFF Export Failed: "+H.message)}finally{Re(null)}},[A,k,B,Ht,Mr]),yu=O.useCallback(()=>{!A||!k||Jt(!0)},[A,k]);O.useEffect(()=>{const z=T=>{(T.ctrlKey||T.metaKey)&&T.key.toLowerCase()==="s"&&(T.preventDefault(),yu())};return window.addEventListener("keydown",z),()=>window.removeEventListener("keydown",z)},[yu]),O.useEffect(()=>{(async()=>{if(a.current)return;const T=RQ();if(T&&(n("Restoring layout..."),i(T.theme),ve(T.sidebarOpen),T.sessions.length>0)){n(`Restoring ${T.sessions.length} images...`);const H=[];for(const X of T.sessions){if(a.current){console.log("Restoration cancelled.");return}await new Promise(re=>setTimeout(re,50));try{const re=await TQ(X.id);if(re){const fe={id:X.id,fileName:X.fileName,file:null,imageElement:null,rawImageData:null,rawFileBuffer:re,renderedRawImageData:null,referenceImageData:null,sampledImageData:null,exifData:null,isThreePlane:X.isThreePlane,displaySettings:X.displaySettings,originalRawFileBuffer:null,isXTransOriginal:!1,isXTransConverted:!1,xtransPhase:{x:0,y:0}},{previewBlob:ke,analysisData:xe}=await Jo(re);let Te=null;xe&&(Te=await U2(re,X.displaySettings));const we=URL.createObjectURL(ke),$e=new Image;$e.src=we,await new Promise(Ae=>{$e.onload=()=>Ae()}),H.push({...fe,rawImageData:xe,renderedRawImageData:Te,previewUrl:we,imageElement:$e,exifData:xe.metadata})}}catch(re){console.error(`Failed to restore session ${X.id}`,re)}}if(a.current)return;if(y(H),T.activeSessionId){const X=H.findIndex(re=>re.id===T.activeSessionId);X>=0?b(X):H.length>0&&b(0)}Y(T.windows)}a.current||t(!1)})()},[]);const hl=O.useRef(null),pl=O.useCallback(()=>{e||(hl.current&&clearTimeout(hl.current),hl.current=window.setTimeout(async()=>{var H;const z={version:1,timestamp:Date.now(),activeSessionId:((H=x[g])==null?void 0:H.id)||null,theme:o,sidebarOpen:W,sessions:x.map(X=>({id:X.id,fileName:X.fileName,fileType:X.file?X.file.type:"application/octet-stream",fileSize:X.rawFileBuffer?X.rawFileBuffer.byteLength:0,displaySettings:X.displaySettings,isThreePlane:X.isThreePlane})),windows:be.map(X=>({id:X.id,type:X.type,roi:X.roi,zIndex:X.zIndex,initialPosition:X.initialPosition,sessionId:X.sessionId,isBGGR:X.isBGGR,isMinimized:X.isMinimized||!1,internalState:X.internalState}))};DQ(z);const T=x.map(X=>X.id);LQ(T)},1e3))},[x,be,g,o,W,e]);O.useEffect(()=>{pl()},[pl]);const Yo=O.useCallback(async()=>{a.current=!0,n("Cleaning up..."),localStorage.removeItem("jtr_workspace_index");try{await $Q()}catch(z){console.error("Failed to clear DB",z)}window.location.reload()},[]),Yr=O.useCallback(z=>{y(T=>T.map((H,X)=>X===g?{...H,...z}:H))},[g]),Qh=()=>b(z=>Math.min(z+1,x.length-1)),gl=()=>b(z=>Math.max(0,z-1));O.useEffect(()=>{if(_&&G){const z=Gi(_.data,_.width,_.height,G.x,G.y,G.width,G.height);ee(z)}},[_]);const vu=z=>{if(!G||!k)return;const T=Date.now().toString()+Math.random().toString().slice(2,5),H=Math.max(ie,...be.map(fe=>fe.zIndex),100),X=be.length%10*30,re=z==="fft"?{x:50,y:50}:z==="histogram"?{x:100,y:100}:{x:150,y:150};Y(fe=>[...fe,{id:T,type:z,roi:{x:G.x,y:G.y,w:G.width,h:G.height},zIndex:H+1,initialPosition:{x:re.x+X,y:re.y+X},sessionId:k.id,isBGGR:Q,isMinimized:!1,stackFiles:(z==="fft"||z==="pearson")&&S.length>0?S:void 0}])},ml=z=>{Y(T=>T.filter(H=>H.id!==z))},Jh=z=>{Y(T=>T.map(H=>H.id===z?{...H,isMinimized:!0}:H))},D=z=>{Y(T=>T.map(H=>H.id===z?{...H,isMinimized:!1}:H)),Z(z)},Z=z=>{Y(T=>{const H=Math.max(ie,...T.map(X=>X.zIndex));return T.map(X=>X.id===z?{...X,zIndex:H+1}:X)})},te=(z,T)=>{Y(H=>H.map(X=>X.id===z?{...X,internalState:{...X.internalState,...T}}:X))},E=()=>{const z=Math.max(ie,...be.map(T=>T.zIndex));ge(z+1)},ce=(z,T)=>{Y(H=>H.map(X=>X.id===z?{...X,roi:T}:X))};O.useEffect(()=>{if(!L)return;const z=L.CFAPattern2||L.CFAPattern;if(z){let T="";Array.isArray(z)?T=z.join(""):typeof z=="string"?T=z.replace(/[\s,]+/g,""):typeof z=="number"&&(T=String(z)),T==="0112"?q(!1):T==="2110"&&q(!0)}},[L]),O.useEffect(()=>{let z;const T=()=>{if(Xt&&at){const H=Date.now()/1e3,X=.55+.45*Math.sin(H*Lr);Kr(X),z=requestAnimationFrame(T)}else Kr(1)};return Xt&&at?T():Kr(1),()=>{z&&cancelAnimationFrame(z)}},[Xt,at,Lr]),O.useEffect(()=>{const z=T=>{T.key==="Escape"&&at&&(He(!1),Bt({x:0,y:0}),Kt(!1))};return window.addEventListener("keydown",z),()=>window.removeEventListener("keydown",z)},[at]),O.useEffect(()=>()=>{x.forEach(z=>{z.previewUrl&&URL.revokeObjectURL(z.previewUrl)}),Dn.current&&Dn.current.terminate()},[]);const je=async(z,T=!0)=>{T&&(wn({x:0,y:0}),kn(1),Ir(0),cn([]),Tt([]),Oe(!1),et(null),$(!1));let H=null;if(p.isConnected){const xe=new FormData;xe.append("file",z);try{const we=await(await fetch("http://localhost:5428/read",{method:"POST",body:xe})).json();if(we.success){let $e=we.data;Array.isArray($e)&&$e.length===1&&($e=$e[0]),H=$e}}catch(Te){console.warn("Auto Exif fetch failed",Te)}}const X=z.name.toLowerCase().match(/\.(arw|cr2|cr3|dng|nef|orf|raf|rw2|pef|srw|sr2|srf|x3f|erf|mef|mos|mrw|kdc|dcr|iiq|3fr|fff|rwl|nrw|raw|tif|tiff)$/);if(!(["image/jpeg","image/png","image/tiff","image/x-adobe-dng"].includes(z.type)||X)){Le("Unsupported file type. Please load a JPG, PNG, or a supported RAW file.");return}let fe={file:z,exifData:H};if(X||z.type==="image/x-adobe-dng")try{T?Re("Processing RAW file (this may take a moment)..."):de(!0);const xe=await z.arrayBuffer();fe.rawFileBuffer=xe;const{previewBlob:Te,analysisData:we}=await Jo(xe);fe.rawImageData=we,fe.isThreePlane=we.isThreePlane||!1,we.isThreePlane&&T&&$(!0);let $e=!1,Ae=null,Rt=!1;if(we.isXTrans){Rt=!0,Ae=xe;const St=(await l0(xe,0,0)).dngBuffer,st=await Jo(St);fe.rawFileBuffer=St,fe.rawImageData=st.analysisData,fe.previewUrl=URL.createObjectURL(st.previewBlob),$e=!0}else fe.previewUrl=URL.createObjectURL(Te);fe.originalRawFileBuffer=Ae,fe.isXTransOriginal=Rt,fe.isXTransConverted=$e,fe.xtransPhase={x:0,y:0};const qe=new Image;qe.src=fe.previewUrl||"",await new Promise((kt,St)=>{qe.onload=()=>{fe.imageElement=qe,kt()},qe.onerror=()=>{kt()}})}catch(xe){Le(`Failed to process RAW file: ${xe.message}`),Re(null),de(!1);return}else try{Re("Processing image...");const{previewBlob:xe,analysisData:Te}=await rQ(z);fe.rawImageData=Te,fe.rawFileBuffer=await z.arrayBuffer(),fe.isThreePlane=Te.isThreePlane||!1,fe.isXTransOriginal=!1,fe.isXTransConverted=!1,fe.originalRawFileBuffer=null;const we=URL.createObjectURL(xe);fe.previewUrl=we;const $e=new Image;$e.src=we,await new Promise(Ae=>{$e.onload=()=>{fe.imageElement=$e,Ae()},$e.onerror=()=>{Le("Could not load the image file."),Ae()}})}catch(xe){Le(`Failed to process image: ${xe.message}`),Re(null);return}const ke=Date.now().toString()+Math.random();if(fe.rawFileBuffer&&await H2(ke,fe.rawFileBuffer),T){const xe={exposure:0,demosaicMethod:3,blackLevel:void 0,wbGains:[1,1],showKadc:!0,subtractBlackLevelFromStats:!0},Te={id:ke,fileName:z.name,file:z,imageElement:null,rawImageData:null,rawFileBuffer:null,renderedRawImageData:null,referenceImageData:null,sampledImageData:null,exifData:null,isThreePlane:!1,displaySettings:xe,originalRawFileBuffer:null,isXTransOriginal:!1,isXTransConverted:!1,xtransPhase:{x:0,y:0},...fe};y(we=>{const $e=[...we,Te];return b($e.length-1),$e})}else Yr(fe);Re(null),de(!1)},Ee=async z=>{Re("Converting to DNG...");try{const T=new FormData;T.append("file",z);const H=await fetch("http://localhost:5428/convert_dng",{method:"POST",body:T}),X=H.headers.get("content-type")||"";if(H.ok)if(X.includes("application/json")){const re=await H.json();throw new Error(re.error||"Conversion failed")}else{const re=await H.blob(),fe=URL.createObjectURL(re),ke=document.createElement("a");ke.href=fe;const xe=z.name,Te=xe.substring(0,xe.lastIndexOf("."))+".dng"||"converted.dng";ke.download=Te,document.body.appendChild(ke),ke.click(),document.body.removeChild(ke),URL.revokeObjectURL(fe);const we=new File([re],Te,{type:"image/x-adobe-dng"});await je(we,!0)}else{const re=await H.text();throw new Error(`HTTP ${H.status}: ${re}`)}}catch(T){Re(null),Le(`Conversion Error: ${T.message}`)}},Ye=(z,T)=>{z&&(T==="direct"?je(z,!0):Ee(z))},Xe=async z=>{var H;const T=(H=z.target.files)==null?void 0:H[0];T&&(await je(T,!0),z.target.value="")},Ue=async(z,T,H,X)=>{!z||!T||(Re("Processing Pair Difference (May take a while)..."),Le(null),setTimeout(async()=>{try{const re=await z.arrayBuffer(),fe=await T.arrayBuffer(),ke=await c0(re,fe,H,X),xe=yf(ke.width,ke.height,ke.rawData),Te=new File([xe],`Diff_${z.name}_${T.name}.dng`,{type:"image/x-adobe-dng"});await je(Te,!0),vu("fft")}catch(re){console.error("Pair Processing Error",re),Le("Pair Processing Failed: "+re.message)}finally{Re(null)}},100))},_t=async z=>{if(z.length<2){Le("Need at least 2 files for Batch Diff.");return}Re(`Batch Processing 0/${Math.floor(z.length/2)} pairs...`);const T=Array.from(z).sort((H,X)=>H.name.localeCompare(X.name,void 0,{numeric:!0}));try{for(let H=0;H<T.length-1;H+=2){const X=T[H],re=T[H+1];Re(`Batch Processing Pair ${Math.floor(H/2)+1}/${Math.floor(T.length/2)}: ${X.name} & ${re.name}`);const fe=await X.arrayBuffer(),ke=await re.arrayBuffer(),xe=await c0(fe,ke,!1,!1),Te=yf(xe.width,xe.height,xe.rawData),we=new Blob([Te],{type:"image/x-adobe-dng"}),$e=URL.createObjectURL(we),Ae=document.createElement("a");Ae.href=$e,Ae.download=`Diff_${X.name}_${re.name}.dng`,document.body.appendChild(Ae),Ae.click(),document.body.removeChild(Ae),URL.revokeObjectURL($e)}}catch(H){console.error("FFT Batch Error",H),Le("Batch Processing Failed: "+H.message)}finally{Re(null)}},ut=async z=>{if(z.length<1)return;const T=Array.from(z).sort((H,X)=>H.name.localeCompare(X.name,void 0,{numeric:!0}));w(T),await je(T[0],!0)},Nt=async()=>{de(!0);const z=128,T=z,H=z,X=T*H,re=new Uint16Array(X),fe=Ve=>{const Ie=Ve/Fe+Me;return Math.sin(2*Math.PI*Ie)>=0?1:0},ke=32,xe=ht*.5,Te=Math.max(1e-4,ht/ke);for(let Ve=0;Ve<H;Ve++){let Ie=0;const yt=Ve+.5-xe;for(let jt=0;jt<ke;jt++){const Zr=yt+(jt+.5)*Te;Ie+=fe(Zr)}const At=Ie/ke,Mt=Math.round(At*65535);for(let jt=0;jt<T;jt++)re[Ve*T+jt]=Mt}const we=new ImageData(en,en),$e=en/T,Ae=ht/2;for(let Ve=0;Ve<en;Ve++){const Ie=Ve/$e,wr=Math.floor(Ie),yt=Ie-wr,At=yt>=.5-Ae&&yt<.5+Ae;for(let Mt=0;Mt<en;Mt++){const jt=Mt/$e,Zr=Math.floor(jt),_a=jt-Zr,Ii=_a>=.5-Ae&&_a<.5+Ae,kr=(Ve*en+Mt)*4;if(Zr>=T||wr>=H){we.data[kr]=30,we.data[kr+1]=34,we.data[kr+2]=40,we.data[kr+3]=255;continue}if(At&&Ii){const po=re[wr*T+Zr],Zo=Math.round(po/257);we.data[kr]=Zo,we.data[kr+1]=Zo,we.data[kr+2]=Zo,we.data[kr+3]=255}else we.data[kr]=30,we.data[kr+1]=34,we.data[kr+2]=40,we.data[kr+3]=255}}const Rt=new ImageData(en,en),qe=H/en;for(let Ve=0;Ve<en;Ve++){const Ie=(Ve+.5)*qe,yt=fe(Ie)>.5?255:0,At=Ve*en*4;for(let Mt=0;Mt<en;Mt++){const jt=At+Mt*4;Rt.data[jt]=yt,Rt.data[jt+1]=yt,Rt.data[jt+2]=yt,Rt.data[jt+3]=255}}const kt=yf(T,H,re),St=new File([kt],"pattern_test.dng",{type:"image/x-adobe-dng"}),st=Date.now().toString();try{const{previewBlob:Ve,analysisData:Ie}=await Jo(kt.slice(0)),wr=await U2(kt.slice(0),B),yt=V2(wr,en,en),At=URL.createObjectURL(Ve),Mt=new Image;Mt.src=At,await new Promise(Zr=>{Mt.onload=()=>Zr()}),await H2(st,kt);const jt={id:st,fileName:"pattern_test.dng",file:St,imageElement:Mt,rawImageData:Ie,rawFileBuffer:kt,renderedRawImageData:yt,referenceImageData:Rt,sampledImageData:we,exifData:null,isThreePlane:!1,previewUrl:At,displaySettings:B,originalRawFileBuffer:null,isXTransOriginal:!1,isXTransConverted:!1,xtransPhase:{x:0,y:0}};(j==null?void 0:j.name)==="pattern_test.dng"?Yr(jt):y(Zr=>{const _a=[...Zr,jt];return b(_a.length-1),_a})}catch(Ve){console.error("Error generating pattern:",Ve),Le(`Error generating pattern: ${Ve.message}`)}de(!1),Re(null)},sr=()=>{Gt(!0)},oe=()=>{Gt(!1),gt("sampled"),Re("Generating..."),setTimeout(()=>Nt(),50)},Ge=O.useRef({period:Fe,fill:ht,phase:Me});O.useEffect(()=>{(j==null?void 0:j.name)==="pattern_test.dng"&&(Ge.current.period!==Fe||Ge.current.fill!==ht||Ge.current.phase!==Me)&&(Ge.current={period:Fe,fill:ht,phase:Me},Nt())},[Fe,ht,Me,j]);const Ne=O.useCallback(z=>{if(Yr({displaySettings:z}),!A)return;de(!0),Dn.current&&Dn.current.terminate();const T=new Worker(new URL("/assets/renderWorker-BLMzTJON.js",import.meta.url),{type:"module"});Dn.current=T,T.onmessage=H=>{const{success:X,imageData:re,error:fe}=H.data;if(X){let ke=re;(j==null?void 0:j.name)==="pattern_test.dng"&&(ke=V2(re,en,en)),Yr({renderedRawImageData:ke})}else Le(fe||"Unknown worker error");de(!1),T.terminate(),Dn.current=null},T.postMessage({buffer:A.slice(0),settings:z})},[A,j,Yr]),Dt=async(z,T)=>{Re("Re-sampling X-Trans with new Phase...");try{const X=(await l0(T,z.x,z.y)).dngBuffer,re=await Jo(X),fe=URL.createObjectURL(re.previewBlob),ke=new Image;ke.src=fe,await new Promise(xe=>{ke.onload=()=>xe()}),k!=null&&k.previewUrl&&URL.revokeObjectURL(k.previewUrl),Yr({rawFileBuffer:X,rawImageData:re.analysisData,previewUrl:fe,imageElement:ke,xtransPhase:z}),ee(null)}catch(H){console.error("X-Trans Phase Update Failed",H),Le("Phase Update Failed: "+H.message)}finally{Re(null)}},mt=(z,T)=>{if(!k||!k.originalRawFileBuffer||!k.isXTransConverted)return;const H={...U,[z]:T};Dt(H,k.originalRawFileBuffer)},fn=O.useCallback(async z=>{if(k)if(z){if(k.isXTransConverted)return;const T=k.originalRawFileBuffer||k.rawFileBuffer;if(!T)return;Re("Converting X-Trans to Pseudo-Bayer DNG...");try{const X=(await l0(T,U.x,U.y)).dngBuffer,re=await Jo(X),fe=URL.createObjectURL(re.previewBlob),ke=new Image;ke.src=fe,await new Promise(xe=>{ke.onload=()=>xe()}),k.previewUrl&&URL.revokeObjectURL(k.previewUrl),Yr({rawFileBuffer:X,rawImageData:re.analysisData,previewUrl:fe,imageElement:ke,isXTransConverted:!0,originalRawFileBuffer:T}),ee(null)}catch(H){console.error("X-Trans Conversion Failed",H),Le("Failed to convert X-Trans: "+H.message)}finally{Re(null)}}else{if(!k.isXTransConverted)return;const T=k.originalRawFileBuffer;if(!T){Le("Original X-Trans buffer lost. Cannot revert.");return}Re("Reverting to Native X-Trans...");try{const H=await Jo(T),X=URL.createObjectURL(H.previewBlob),re=new Image;re.src=X,await new Promise(fe=>{re.onload=()=>fe()}),k.previewUrl&&URL.revokeObjectURL(k.previewUrl),Yr({rawFileBuffer:T,rawImageData:H.analysisData,previewUrl:X,imageElement:re,isXTransConverted:!1}),ee(null)}catch(H){console.error("X-Trans Revert Failed",H),Le("Failed to revert X-Trans: "+H.message)}finally{Re(null)}}},[k,Yr,U]);let nt=N||P;pt==="reference"&&C?nt=C:pt==="sampled"&&F&&(nt=F);const dr=un||tr,qr=z=>{if(mr.current){const T=mr.current,{width:H,height:X}=T.getBoundingClientRect(),re=H/2,fe=X/2,ke=z/Vn,xe=re-(re-fr.x)*ke,Te=fe-(fe-fr.y)*ke;wn({x:xe,y:Te})}kn(z)},Pa=z=>{if(!z)return;if(!_){ee(null);return}K&&le(!1),E();const T=Gi(_.data,_.width,_.height,z.x,z.y,z.w,z.h);ee(T)},yl=z=>{Se(z),Pa(z)},ep=()=>{Oa(z=>z==="pan"?"select":"pan")},xu=z=>{if(br===0||br>4)return;const T=[...Cr,z];cn(T),br===4?(tp(T),Ir(0)):Ir(br+1)},bu=(z,T,H,X)=>{const re=z[0],fe=z[1],ke=z[2],xe=z[3],Te=T/2,we=[];for(let $e=0;$e<H;$e++){const Ae=H>1?$e/(H-1):.5;for(let Rt=0;Rt<X;Rt++){const qe=X>1?Rt/(X-1):.5,kt=re.x*(1-qe)+fe.x*qe,St=re.y*(1-qe)+fe.y*qe,st=ke.x*(1-qe)+xe.x*qe,Ve=ke.y*(1-qe)+xe.y*qe,Ie=kt*(1-Ae)+st*Ae,wr=St*(1-Ae)+Ve*Ae,yt=Ie-Te,At=wr-Te;we.push({x:yt,y:At,w:T,h:T})}}return we},tp=z=>{_&&(Re("Calculating DR Lab Grid..."),setTimeout(()=>{try{const T=bu(z,Yt,ne,_e);Tt(T);const fe=[...[`#BlackLevel: ${(B.blackLevel||[0,0,0,0]).join(",")}`,`#ImageHeight: ${_.height}`],"Row,Col,R_Mean,G1_Mean,G2_Mean,B_Mean,R_Std,G1_Std,G2_Std,B_Std"];T.forEach(($e,Ae)=>{const Rt=Math.floor(Ae/_e)+1,qe=Ae%_e+1,kt=Gi(_.data,_.width,_.height,$e.x,$e.y,$e.w,$e.h),St=kt.means,st=kt.stdDevs,Ve=`${Rt},${qe},${St[0].toFixed(4)},${St[1].toFixed(4)},${St[2].toFixed(4)},${St[3].toFixed(4)},${st[0].toFixed(4)},${st[1].toFixed(4)},${st[2].toFixed(4)},${st[3].toFixed(4)}`;fe.push(Ve)});const ke=fe.join(`
`),xe=new Blob([ke],{type:"text/csv;charset=utf-8;"}),Te=URL.createObjectURL(xe),we=document.createElement("a");we.setAttribute("href",Te),we.setAttribute("download","dr_lab_results.csv"),document.body.appendChild(we),we.click(),document.body.removeChild(we),URL.revokeObjectURL(Te),cn([])}catch(T){Le("DR Lab Error: "+T.message)}finally{Re(null)}},100))},Sn=async(z,T)=>{if(Cr.length<4&&$n.length<1){Le("Please mark the grid on an image first before running batch processing.");return}let H=$n;if(H.length===0&&Cr.length===4&&(H=bu(Cr,Yt,ne,_e)),H.length===0){Le("No grid definitions found. Mark corners first.");return}Re(T==="pair"?"Batch Pair Difference (Sigma = Diff/sqrt(2))":"Batch Processing...");const re=(B.blackLevel||[0,0,0,0]).join(","),fe=_?_.height:0,xe=[...[`#BlackLevel: ${re}`,`#ImageHeight: ${fe}`,T==="pair"?"#Mode: Pair Difference (Sigma = Diff/sqrt(2))":"#Mode: Independent"],"Filename,Row,Col,R_Mean,G1_Mean,G2_Mean,B_Mean,R_Std,G1_Std,G2_Std,B_Std"],Te=Array.from(z).sort((we,$e)=>we.name.localeCompare($e.name,void 0,{numeric:!0}));if(T==="pair"&&Te.length<2){Le("Need at least 2 files for Pair processing."),Re(null);return}try{if(T==="single")for(let qe=0;qe<Te.length;qe++){const kt=Te[qe];Re(`Processing ${qe+1}/${Te.length}: ${kt.name}...`);const St=await kt.arrayBuffer(),st=await Hd(St);H.forEach((Ve,Ie)=>{const wr=Math.floor(Ie/_e)+1,yt=Ie%_e+1,At=Gi(st.data,st.width,st.height,Ve.x,Ve.y,Ve.w,Ve.h),Mt=At.means,jt=At.stdDevs,Zr=`${kt.name},${wr},${yt},${Mt[0].toFixed(4)},${Mt[1].toFixed(4)},${Mt[2].toFixed(4)},${Mt[3].toFixed(4)},${jt[0].toFixed(4)},${jt[1].toFixed(4)},${jt[2].toFixed(4)},${jt[3].toFixed(4)}`;xe.push(Zr)})}else for(let qe=0;qe<Te.length-1;qe+=2){const kt=Te[qe],St=Te[qe+1],st=`${kt.name} & ${St.name}`;Re(`Processing Pair ${Math.floor(qe/2)+1}/${Math.floor(Te.length/2)}: ${kt.name} & ${St.name}...`);const Ve=await kt.arrayBuffer(),Ie=await Hd(Ve),wr=await St.arrayBuffer(),yt=await c0(Ve,wr,!1,!0);H.forEach((At,Mt)=>{const jt=Math.floor(Mt/_e)+1,Zr=Mt%_e+1,_a=Gi(Ie.data,Ie.width,Ie.height,At.x,At.y,At.w,At.h),Ii=Gi(yt.rawData,yt.width,yt.height,At.x,At.y,At.w,At.h),kr=_a.means,po=Ii.stdDevs,Zo=`${st},${jt},${Zr},${kr[0].toFixed(4)},${kr[1].toFixed(4)},${kr[2].toFixed(4)},${kr[3].toFixed(4)},${po[0].toFixed(4)},${po[1].toFixed(4)},${po[2].toFixed(4)},${po[3].toFixed(4)}`;xe.push(Zo)})}const we=xe.join(`
`),$e=new Blob([we],{type:"text/csv;charset=utf-8;"}),Ae=URL.createObjectURL($e),Rt=document.createElement("a");Rt.href=Ae,Rt.setAttribute("download",`dr_lab_batch_${T}_${new Date().getTime()}.csv`),document.body.appendChild(Rt),Rt.click(),document.body.removeChild(Rt),URL.revokeObjectURL(Ae)}catch(we){console.error("Batch Error",we),Le("Batch Processing Failed: "+we.message)}finally{Re(null)}},rp=()=>{if(!_){Le("Please load an image first.");return}Tt([]),cn([]),Ir(1)},np=async()=>{if(!j)return;if(p.isConnected?et(null):et(`JiangBridge Offline
JiangBridge Offline, limited content shown only`),p.isConnected){Re("Reading EXIF (JiangBridge)...");try{const T=new FormData;T.append("file",j);const H=await fetch("http://localhost:5428/read",{method:"POST",body:T});if(!H.ok)throw new Error(`Bridge error: ${H.statusText}`);const X=await H.json();if(X.success){let re=X.data;Array.isArray(re)&&re.length===1&&(re=re[0]),Yr({exifData:re}),Oe(!0),Re(null);return}else console.warn("Bridge returned error:",X.error)}catch(T){console.warn("Bridge fetch failed, falling back:",T)}Re(null)}if(!_){Le("No image data available.");return}const z=_.metadata;if(!z){Le("No metadata found for this image.");return}Yr({exifData:z}),Oe(!0)},ap=O.useCallback(async z=>{Re("Parsing CSV files...");const T=[];let H,X;try{const re=Array.from(z).map((fe,ke)=>new Promise((xe,Te)=>{const we=new FileReader;we.onload=$e=>{var kt;const Ae=(kt=$e.target)==null?void 0:kt.result;if(!Ae)return xe();const Rt=Ae.split(`
`);let qe=-1;for(let St=0;St<Rt.length;St++){const st=Rt[St].trim();if(st){if(ke===0&&st.startsWith("#")){if(st.startsWith("#BlackLevel:")){const Ie=st.replace("#BlackLevel:","").trim().split(/[\s,]+/).map(Number);Ie.length>=4&&!Ie.some(isNaN)&&(H=[Ie[0],Ie[1],Ie[2],Ie[3]])}else if(st.startsWith("#ImageHeight:")){const Ve=st.replace("#ImageHeight:","").trim(),Ie=parseInt(Ve);!isNaN(Ie)&&Ie>0&&(X=Ie)}continue}if(st.startsWith("Row")||st.startsWith("Filename")){qe=St+1;break}}}qe===-1&&(qe=1);for(let St=qe;St<Rt.length;St++){const st=Rt[St].trim();if(!st||st.startsWith("#"))continue;const Ve=st.split(",");let Ie=0;if(isNaN(Number(Ve[0]))&&(Ie=1),Ve.length<10+Ie)continue;const wr=Ie===1?Ve[0]:fe.name,yt=Ve.map(Number),At=yt[0+Ie],Mt=yt[1+Ie],jt=yt[2+Ie],Zr=yt[3+Ie],_a=yt[4+Ie],Ii=yt[5+Ie],kr=yt[6+Ie],po=yt[7+Ie],Zo=yt[8+Ie],G_=yt[9+Ie];jt>0&&T.push({channel:"R",mean:jt,std:kr,filename:wr,row:At,col:Mt}),Zr>0&&T.push({channel:"G1",mean:Zr,std:po,filename:wr,row:At,col:Mt}),_a>0&&T.push({channel:"G2",mean:_a,std:Zo,filename:wr,row:At,col:Mt}),Ii>0&&T.push({channel:"B",mean:Ii,std:G_,filename:wr,row:At,col:Mt})}xe()},we.onerror=Te,we.readAsText(fe)}));await Promise.all(re),Tn(T),ln(H||X?{blackLevel:H,height:X}:null),l(!0)}catch(re){Le("Failed to parse CSV files: "+re.message)}finally{Re(null)}},[]),wu=z=>{z.button===0&&Xr(!0)},ho=O.useCallback(z=>{Pt&&Bt(T=>({x:T.x+z.movementX,y:T.y+z.movementY}))},[Pt]),qo=O.useCallback(()=>{Xr(!1)},[]);O.useEffect(()=>(Pt?(window.addEventListener("mousemove",ho),window.addEventListener("mouseup",qo)):(window.removeEventListener("mousemove",ho),window.removeEventListener("mouseup",qo)),()=>{window.removeEventListener("mousemove",ho),window.removeEventListener("mouseup",qo)}),[Pt,ho,qo]);const ku=()=>{if(!A||!j)return;const z=j.name||"pattern_test.dng",T=new Blob([A],{type:"image/x-adobe-dng"}),H=URL.createObjectURL(T),X=document.createElement("a");X.href=H,X.download=z,document.body.appendChild(X),X.click(),document.body.removeChild(X),URL.revokeObjectURL(H)};return e?u.jsxs("div",{className:"flex flex-col h-screen items-center justify-center bg-gray-50 dark:bg-slate-950 text-gray-900 dark:text-slate-200",children:[u.jsx("div",{className:"w-12 h-12 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mb-4"}),u.jsx("h2",{className:"text-xl font-bold animate-pulse",children:r}),u.jsx("p",{className:"text-sm text-gray-500 mt-2 mb-6",children:"Loading stored buffers from database..."}),u.jsx("button",{onClick:Yo,className:"px-6 py-2 bg-red-100 hover:bg-red-200 dark:bg-red-900/30 dark:hover:bg-red-900/50 text-red-700 dark:text-red-300 font-bold rounded-lg transition-colors border border-red-200 dark:border-red-800 text-sm",children:"Abandon Saved Session (Start Fresh)"})]}):u.jsxs("div",{className:"flex flex-col h-screen bg-white dark:bg-slate-950 text-gray-900 dark:text-slate-200 font-sans transition-colors duration-300 overflow-hidden",children:[u.jsx("div",{className:"p-4 pb-0 flex-shrink-0",children:u.jsx(xM,{onLoadImage:Xe,onFileSelected:Ye,onGenerateFakeDng:sr,fileName:j?j.name:null,hasGeneratedData:(j==null?void 0:j.name)==="pattern_test.dng",viewMode:pt,onSetViewMode:gt,patternPeriod:Fe,onPatternPeriodChange:wt,fillFactor:ht,onFillFactorChange:ir,patternPhase:Me,onPatternPhaseChange:tt,showPatternControls:(j==null?void 0:j.name)==="pattern_test.dng",onOpenAbout:()=>ct(!0),onShowExif:np,bridgeStatus:p,onBridgeClick:()=>v(!0),isDrLabOpen:or,onToggleDrLab:()=>{Hr(!or),Ir(0),cn([]),Tt([]),er&&Vr(!1)},isFftLabOpen:er,onToggleFftLab:()=>{Vr(!er),or&&Hr(!1)},onGenerateTestPic:()=>He(!0),onPTCFilesSelected:ap,onDownloadDng:ku,isThreePlane:I,onOpenDatabase:()=>f(!0)})}),u.jsxs("div",{className:"flex flex-1 overflow-hidden p-4 pt-2 gap-4 relative",children:[u.jsxs("div",{className:"flex-1 relative bg-gray-100 dark:bg-slate-900 rounded-2xl border border-gray-200 dark:border-slate-800 shadow-inner overflow-hidden transition-colors duration-300",ref:mr,children:[dr&&u.jsxs("div",{className:"absolute bottom-4 right-4 z-50 flex items-center gap-2 bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm px-3 py-1.5 rounded-full border border-cyan-500/30 shadow-sm",children:[u.jsx("div",{className:"w-4 h-4 border-2 border-cyan-500 border-t-transparent rounded-full animate-spin"}),u.jsx("span",{className:"text-xs text-cyan-600 dark:text-cyan-400 font-mono",children:un||"Processing..."})]}),x.length>1&&u.jsxs("div",{className:"absolute bottom-4 right-20 z-50 flex items-center gap-2 bg-white/90 dark:bg-slate-800/90 backdrop-blur-sm px-3 py-1.5 rounded-lg border border-gray-200 dark:border-slate-700 shadow-lg text-sm font-mono text-gray-700 dark:text-slate-200",children:[u.jsx("button",{onClick:gl,disabled:g<=0,className:"hover:text-cyan-500 disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"Previous Image",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),u.jsxs("span",{className:"min-w-[3rem] text-center select-none font-bold",children:[g+1," / ",x.length]}),u.jsx("button",{onClick:Qh,disabled:g>=x.length-1,className:"hover:text-cyan-500 disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"Next Image",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),u.jsxs("div",{className:"absolute bottom-4 left-4 z-50 flex flex-col-reverse gap-2 items-start pointer-events-none",children:[K&&G&&u.jsxs("div",{className:"pointer-events-auto flex items-center gap-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg shadow-lg overflow-hidden animate-in slide-in-from-bottom-2 fade-in",children:[u.jsxs("button",{onClick:()=>le(!1),className:"px-3 py-1.5 text-xs font-bold text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors flex items-center gap-2",children:[u.jsx("span",{className:"w-2 h-2 rounded-full bg-cyan-500"}),"ROI Stats"]}),u.jsx("button",{onClick:()=>{le(!1),ee(null)},className:"px-2 py-1.5 text-gray-400 hover:text-red-500 hover:bg-gray-100 dark:hover:bg-slate-700 border-l border-gray-200 dark:border-slate-700 transition-colors",children:u.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),be.filter(z=>z.isMinimized).map(z=>{let T="Window",H="bg-gray-500";return z.type==="histogram"?(T="Histogram",H="bg-purple-500"):z.type==="fft"?(T="FFT Spectrum",H="bg-fuchsia-500"):z.type==="quant"?(T="Quantization",H="bg-teal-500"):z.type==="pearson"&&(T="Pearson",H="bg-indigo-500"),u.jsxs("div",{className:"pointer-events-auto flex items-center gap-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg shadow-lg overflow-hidden animate-in slide-in-from-bottom-2 fade-in",children:[u.jsxs("button",{onClick:()=>D(z.id),className:"px-3 py-1.5 text-xs font-bold text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors flex items-center gap-2",children:[u.jsx("span",{className:`w-2 h-2 rounded-full ${H}`}),T]}),u.jsx("button",{onClick:()=>ml(z.id),className:"px-2 py-1.5 text-gray-400 hover:text-red-500 hover:bg-gray-100 dark:hover:bg-slate-700 border-l border-gray-200 dark:border-slate-700 transition-colors",children:u.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},z.id)})]}),!K&&u.jsx(IQ,{stats:G,onClose:()=>{ee(null),Se(null)},onMinimize:()=>le(!0),isBGGR:Q,onToggleBGGR:q,onOpenWindow:vu,displaySettings:B,zIndex:ie,onFocus:E}),u.jsx(vQ,{isOpen:Rr,onClose:()=>ct(!1)}),u.jsx(xQ,{isOpen:he,onClose:()=>Oe(!1),data:L,fileName:j?j.name:"",warning:Ke}),u.jsx(wQ,{isOpen:s,onClose:()=>l(!1),data:En,blackLevel:V,imageHeight:Ce,isBGGR:Q,importedMetadata:bn||void 0,theme:o,initialCameraModel:(L==null?void 0:L.Model)||"",initialISO:(L==null?void 0:L.ISO)||((Su=L==null?void 0:L.ISOSpeedRatings)==null?void 0:Su.toString())||""}),u.jsx(PQ,{isOpen:c,onClose:()=>f(!1),theme:o}),u.jsx(_Q,{isOpen:d,onClose:()=>h(!1),zIndex:200}),u.jsx(Ro,{isOpen:Qt,onClose:()=>Gt(!1),onConfirm:oe,title:"High Resource Usage Warning",confirmText:"I know the risk and insist to continue",message:u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx("p",{children:"Patter DNG mode involves high-frequency refreshing and heavy computation. Due to current memory management limitations, repeated use may lead to browser memory overflow or crashes. Please proceed with caution."}),u.jsx("p",{className:"text-xs text-gray-500"})]})}),u.jsx(Ro,{isOpen:m,onClose:()=>v(!1),onConfirm:()=>{window.open("https://y-g-jiang.github.io/jiangbridge.exe","_blank"),v(!1)},title:"JiangBridge Connection / ",confirmText:"Download Bridge App",cancelText:"Cancel",message:u.jsxs("div",{className:"flex flex-col gap-4 text-left",children:[u.jsx("p",{className:"font-bold text-gray-800 dark:text-gray-200",children:"JiangBridge"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:'JiangBridge is optional for this webpage, but recommended for full functionality. Simply double-click and run it once after system startup. If the indicator light does not turn green after double-clicking, please consider checking whether the web page is allowed to "View and connect to any device on the network".'})]})}),u.jsx(Ro,{isOpen:ur,onClose:()=>Jt(!1),onConfirm:Zh,title:"Export 16-bit TIFF Options",confirmText:"Confirm Export",message:u.jsxs("div",{className:"flex flex-col gap-4 text-left",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4 bg-gray-50 dark:bg-slate-800/80 p-4 rounded-xl border border-gray-200 dark:border-slate-700",children:[u.jsxs("div",{className:"flex flex-col items-center gap-3",children:[u.jsxs("div",{className:"flex flex-col items-center text-center",children:[u.jsx("span",{className:"font-bold text-xs text-gray-800 dark:text-slate-200",children:"Stretch ()"}),u.jsx("span",{className:"text-[9px] text-gray-500 dark:text-slate-400 mt-0.5",children:"Map [0, White] to [0, 65535]"})]}),u.jsx("div",{onClick:()=>gr(!Ht),className:`relative w-12 h-6 rounded-full transition-colors cursor-pointer ${Ht?"bg-cyan-500":"bg-gray-300 dark:bg-slate-600"}`,children:u.jsx("div",{className:`absolute top-1 left-1 w-4 h-4 bg-white rounded-full shadow-sm transition-transform ${Ht?"translate-x-6":""}`})})]}),u.jsxs("div",{className:"flex flex-col items-center gap-3",children:[u.jsxs("div",{className:"flex flex-col items-center text-center",children:[u.jsx("span",{className:"font-bold text-xs text-gray-800 dark:text-slate-200",children:"sRGB Gamma"}),u.jsx("span",{className:"text-[9px] text-gray-500 dark:text-slate-400 mt-0.5",children:"Apply non-linear contrast"})]}),u.jsx("div",{onClick:()=>Vt(!Mr),className:`relative w-12 h-6 rounded-full transition-colors cursor-pointer ${Mr?"bg-purple-500":"bg-gray-300 dark:bg-slate-600"}`,children:u.jsx("div",{className:`absolute top-1 left-1 w-4 h-4 bg-white rounded-full shadow-sm transition-transform ${Mr?"translate-x-6":""}`})})]})]}),u.jsxs("div",{className:"p-3 rounded-lg bg-indigo-50 dark:bg-indigo-900/20 text-[11px] text-indigo-700 dark:text-indigo-300 italic border border-indigo-100 dark:border-indigo-800 text-center",children:[Ht&&!Mr&&"Mode: Stretched Linear. Histogram preserved but range expanded.",!Ht&&Mr&&"Mode: Native DN + sRGB. Best for analyzing raw distribution contrast.",Ht&&Mr&&"Mode: Ready-to-Use. Conventional 16-bit development.",!Ht&&!Mr&&"Mode: Native Linear. Pure physical sensor DN values."]})]})}),be.map(z=>{if(z.isMinimized)return null;const T=x.find(re=>re.id===z.sessionId),H=T==null?void 0:T.rawImageData;if(!H)return null;const X={key:z.id,isOpen:!0,onClose:()=>ml(z.id),onMinimize:()=>Jh(z.id),rawImageData:H,roi:z.roi,isBGGR:z.isBGGR,zIndex:z.zIndex,onFocus:()=>Z(z.id),initialPosition:z.initialPosition,initialInternalState:z.internalState,onUpdateState:re=>te(z.id,re),stackFiles:z.stackFiles};return z.type==="histogram"?u.jsx(uQ,{...X}):z.type==="fft"?u.jsx(pQ,{...X,onUpdateROI:re=>ce(z.id,re)}):z.type==="quant"?u.jsx(gQ,{...X}):z.type==="pearson"?u.jsx(mQ,{...X}):null}),rt&&u.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-white/90 dark:bg-slate-900/90 p-8",children:u.jsxs("div",{className:"max-w-md text-center p-6 bg-white dark:bg-slate-800 rounded-xl border border-red-500/50 shadow-xl",children:[u.jsx("h3",{className:"text-xl font-bold text-red-500 dark:text-red-400 mb-2",children:"Notice"}),u.jsx("p",{className:"text-gray-600 dark:text-slate-300 mb-6 whitespace-pre-wrap",children:rt}),u.jsx("button",{onClick:()=>Le(null),className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 dark:bg-slate-700 dark:hover:bg-slate-600 rounded-lg text-gray-900 dark:text-white transition-colors",children:"Dismiss"})]})}),!nt&&!dr&&!rt&&u.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-gray-400 dark:text-slate-600 select-none",children:u.jsx("p",{className:"text-lg",children:"Load an image or generate a pattern"})}),u.jsx(bM,{image:nt,zoom:Vn,pan:fr,onPanChange:wn,onZoomChange:qr,onSelectionChange:Pa,forcedSelection:ue,theme:o,touchAction:fo,isMarking:br>0,onPointClick:xu,markers:Cr,gridRects:$n}),u.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-1/2 z-30 pointer-events-none select-none opacity-20 mix-blend-normal dark:mix-blend-plus-lighter",children:u.jsx("svg",{viewBox:"0 0 500 60",className:"w-full h-auto drop-shadow-xl",children:u.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"36",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})}),_&&!br&&u.jsxs("div",{className:"absolute bottom-4 left-4 z-30 pointer-events-none opacity-50 text-[10px] text-gray-500 dark:text-slate-400",children:["Hold ",u.jsx("b",{children:"Shift"})," + Drag to calculate Raw ROI stats"]}),u.jsx(MM,{zoom:Vn,onZoomChange:qr,onResetView:()=>{kn(1),wn({x:0,y:0})},touchAction:fo,onToggleTouchAction:ep}),!W&&u.jsx("button",{onClick:()=>ve(!0),className:"absolute right-0 top-1/2 -translate-y-1/2 z-50 bg-white dark:bg-slate-900 border-y border-l border-gray-200 dark:border-slate-800 shadow-md p-1.5 rounded-l-lg hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors animate-in fade-in slide-in-from-right-2",title:"Show Tools",children:u.jsx("svg",{className:"w-4 h-4 text-gray-500 dark:text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})})]}),u.jsxs("div",{className:`flex-shrink-0 flex flex-col bg-white dark:bg-slate-900 rounded-2xl border border-gray-200 dark:border-slate-800 shadow-xl overflow-hidden transition-all duration-300 ease-in-out ${W?"w-80 translate-x-0 opacity-100 ml-0":"w-0 translate-x-20 opacity-0 p-0 border-0 pointer-events-none ml-0"}`,children:[u.jsxs("div",{className:"flex justify-between items-center px-4 py-3 border-b border-gray-200 dark:border-slate-800 bg-gray-50/50 dark:bg-slate-800/50 flex-shrink-0",children:[u.jsx("h2",{className:"font-bold text-sm text-gray-700 dark:text-slate-300 uppercase tracking-wide flex items-center gap-2",children:u.jsx("span",{children:"Tools"})}),u.jsx("button",{onClick:()=>ve(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 transition-colors p-1 rounded hover:bg-gray-200 dark:hover:bg-slate-700",title:"Hide Tools",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),u.jsx("div",{className:"flex-1 overflow-hidden relative",children:u.jsx(kM,{rawImageData:_,displaySettings:B,onApplyDisplaySettings:Ne,onSetSelection:yl,exifData:L,isBridgeConnected:p.isConnected,isDrLabOpen:or,drMarkingStep:br,onStartMarking:rp,onGenerateTestPic:()=>He(!0),drRoiSize:Yt,onDrRoiSizeChange:$t,drGridRows:ne,onDrGridRowsChange:Pe,drGridCols:_e,onDrGridColsChange:Je,onBatchDrLab:Sn,hasDrMarkers:$n.length>0||Cr.length===4,isFftLabOpen:er,onProcessPair:Ue,onProcessBatchDiff:_t,onProcessStackFft:ut,onOpenCrossCalc:()=>h(!0),isThreePlane:_==null?void 0:_.isThreePlane,onToggleXTrans:_?fn:void 0,xtransPhase:U,onXTransPhaseChange:mt,isXTransConverted:k==null?void 0:k.isXTransConverted})})]})]}),at&&u.jsxs("div",{className:"fixed inset-0 z-[200] bg-black overflow-hidden",children:[u.jsx("div",{onMouseDown:wu,style:{transform:`translate(${bt.x}px, ${bt.y}px)`,cursor:Pt?"grabbing":"grab",opacity:sn,transition:"opacity 0.1s linear"},className:"w-full h-full flex items-center justify-center",children:u.jsx("img",{src:"/drtest.png",alt:"DR Test",className:"max-w-full max-h-full object-contain pointer-none select-none",draggable:!1})}),u.jsxs("div",{className:"absolute top-4 right-4 flex flex-col items-end gap-2 pointer-events-none z-[201]",children:[u.jsx("div",{className:"text-white/50 text-sm bg-black/50 px-3 py-1 rounded backdrop-blur-sm",children:"Press ESC to exit | Drag to move"}),u.jsx("div",{className:"text-white/20 text-xs px-2 select-none",children:"F11 full screen"}),u.jsx("div",{className:"text-red-900/80 text-lg px-2 select-none font-bold mt-4",children:""}),u.jsx("div",{className:"text-red-900/60 text-xs px-2 select-none",children:"Shoot slightly out of focus"})]}),u.jsxs("div",{className:"fixed bottom-8 left-1/2 -translate-x-1/2 bg-black/60 backdrop-blur-md p-4 rounded-xl border border-gray-700 flex flex-col gap-3 items-center z-[202]",children:[u.jsx("button",{onClick:()=>Kt(!Xt),className:`px-4 py-2 rounded-lg font-bold text-sm transition-colors ${Xt?"bg-amber-500 text-black hover:bg-amber-400":"bg-gray-700 text-white hover:bg-gray-600"}`,children:Xt?"Stop Breathing":"Start Breathing"}),Xt&&u.jsxs("div",{className:"flex items-center gap-3 w-64 animate-in fade-in",children:[u.jsx("span",{className:"text-xs text-gray-400 font-bold uppercase",children:"Speed"}),u.jsx("input",{type:"range",min:"0.5",max:"10",step:"0.5",value:Lr,onChange:z=>dt(parseFloat(z.target.value)),className:"flex-1 h-1.5 bg-gray-600 rounded-lg appearance-none cursor-pointer accent-amber-500"}),u.jsx("span",{className:"text-xs text-amber-500 w-8 text-right",children:Lr.toFixed(1)})]})]})]}),u.jsx(CM,{theme:o,setTheme:i})]})},W_=document.getElementById("root");if(!W_)throw new Error("Could not find root element to mount to");const FQ=d0.createRoot(W_);FQ.render(u.jsx(M.StrictMode,{children:u.jsx(BQ,{})}));export{ZZ as _};
