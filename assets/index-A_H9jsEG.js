var AP=Object.defineProperty;var MP=(e,t,r)=>t in e?AP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var sn=(e,t,r)=>MP(e,typeof t!="symbol"?t+"":t,r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();var fu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function It(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var C2={exports:{}},Cd={},E2={exports:{}},Je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qc=Symbol.for("react.element"),CP=Symbol.for("react.portal"),EP=Symbol.for("react.fragment"),TP=Symbol.for("react.strict_mode"),$P=Symbol.for("react.profiler"),DP=Symbol.for("react.provider"),RP=Symbol.for("react.context"),LP=Symbol.for("react.forward_ref"),IP=Symbol.for("react.suspense"),BP=Symbol.for("react.memo"),FP=Symbol.for("react.lazy"),Sv=Symbol.iterator;function zP(e){return e===null||typeof e!="object"?null:(e=Sv&&e[Sv]||e["@@iterator"],typeof e=="function"?e:null)}var T2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$2=Object.assign,D2={};function Ks(e,t,r){this.props=e,this.context=t,this.refs=D2,this.updater=r||T2}Ks.prototype.isReactComponent={};Ks.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ks.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function R2(){}R2.prototype=Ks.prototype;function xm(e,t,r){this.props=e,this.context=t,this.refs=D2,this.updater=r||T2}var bm=xm.prototype=new R2;bm.constructor=xm;$2(bm,Ks.prototype);bm.isPureReactComponent=!0;var jv=Array.isArray,L2=Object.prototype.hasOwnProperty,wm={current:null},I2={key:!0,ref:!0,__self:!0,__source:!0};function B2(e,t,r){var n,a={},o=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)L2.call(t,n)&&!I2.hasOwnProperty(n)&&(a[n]=t[n]);var s=arguments.length-2;if(s===1)a.children=r;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(n in s=e.defaultProps,s)a[n]===void 0&&(a[n]=s[n]);return{$$typeof:qc,type:e,key:o,ref:i,props:a,_owner:wm.current}}function WP(e,t){return{$$typeof:qc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function km(e){return typeof e=="object"&&e!==null&&e.$$typeof===qc}function UP(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Ov=/\/+/g;function Fh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?UP(""+e.key):t.toString(36)}function Gu(e,t,r,n,a){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case qc:case CP:i=!0}}if(i)return i=e,a=a(i),e=n===""?"."+Fh(i,0):n,jv(a)?(r="",e!=null&&(r=e.replace(Ov,"$&/")+"/"),Gu(a,t,r,"",function(c){return c})):a!=null&&(km(a)&&(a=WP(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(Ov,"$&/")+"/")+e)),t.push(a)),1;if(i=0,n=n===""?".":n+":",jv(e))for(var s=0;s<e.length;s++){o=e[s];var l=n+Fh(o,s);i+=Gu(o,t,r,l,a)}else if(l=zP(e),typeof l=="function")for(e=l.call(e),s=0;!(o=e.next()).done;)o=o.value,l=n+Fh(o,s++),i+=Gu(o,t,r,l,a);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function du(e,t,r){if(e==null)return e;var n=[],a=0;return Gu(e,n,"","",function(o){return t.call(r,o,a++)}),n}function GP(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var hn={current:null},Hu={transition:null},HP={ReactCurrentDispatcher:hn,ReactCurrentBatchConfig:Hu,ReactCurrentOwner:wm};function F2(){throw Error("act(...) is not supported in production builds of React.")}Je.Children={map:du,forEach:function(e,t,r){du(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return du(e,function(){t++}),t},toArray:function(e){return du(e,function(t){return t})||[]},only:function(e){if(!km(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Je.Component=Ks;Je.Fragment=EP;Je.Profiler=$P;Je.PureComponent=xm;Je.StrictMode=TP;Je.Suspense=IP;Je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HP;Je.act=F2;Je.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=$2({},e.props),a=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=wm.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)L2.call(t,l)&&!I2.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];n.children=s}return{$$typeof:qc,type:e.type,key:a,ref:o,props:n,_owner:i}};Je.createContext=function(e){return e={$$typeof:RP,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:DP,_context:e},e.Consumer=e};Je.createElement=B2;Je.createFactory=function(e){var t=B2.bind(null,e);return t.type=e,t};Je.createRef=function(){return{current:null}};Je.forwardRef=function(e){return{$$typeof:LP,render:e}};Je.isValidElement=km;Je.lazy=function(e){return{$$typeof:FP,_payload:{_status:-1,_result:e},_init:GP}};Je.memo=function(e,t){return{$$typeof:BP,type:e,compare:t===void 0?null:t}};Je.startTransition=function(e){var t=Hu.transition;Hu.transition={};try{e()}finally{Hu.transition=t}};Je.unstable_act=F2;Je.useCallback=function(e,t){return hn.current.useCallback(e,t)};Je.useContext=function(e){return hn.current.useContext(e)};Je.useDebugValue=function(){};Je.useDeferredValue=function(e){return hn.current.useDeferredValue(e)};Je.useEffect=function(e,t){return hn.current.useEffect(e,t)};Je.useId=function(){return hn.current.useId()};Je.useImperativeHandle=function(e,t,r){return hn.current.useImperativeHandle(e,t,r)};Je.useInsertionEffect=function(e,t){return hn.current.useInsertionEffect(e,t)};Je.useLayoutEffect=function(e,t){return hn.current.useLayoutEffect(e,t)};Je.useMemo=function(e,t){return hn.current.useMemo(e,t)};Je.useReducer=function(e,t,r){return hn.current.useReducer(e,t,r)};Je.useRef=function(e){return hn.current.useRef(e)};Je.useState=function(e){return hn.current.useState(e)};Je.useSyncExternalStore=function(e,t,r){return hn.current.useSyncExternalStore(e,t,r)};Je.useTransition=function(){return hn.current.useTransition()};Je.version="18.3.1";E2.exports=Je;var O=E2.exports;const M=It(O);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VP=O,KP=Symbol.for("react.element"),XP=Symbol.for("react.fragment"),YP=Object.prototype.hasOwnProperty,qP=VP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ZP={key:!0,ref:!0,__self:!0,__source:!0};function z2(e,t,r){var n,a={},o=null,i=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)YP.call(t,n)&&!ZP.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:KP,type:e,key:o,ref:i,props:a,_owner:qP.current}}Cd.Fragment=XP;Cd.jsx=z2;Cd.jsxs=z2;C2.exports=Cd;var d=C2.exports,Yp={},W2={exports:{}},Dn={},U2={exports:{}},G2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,D){var B=L.length;L.push(D);e:for(;0<B;){var J=B-1>>>1,q=L[J];if(0<a(q,D))L[J]=D,L[B]=q,B=J;else break e}}function r(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var D=L[0],B=L.pop();if(B!==D){L[0]=B;e:for(var J=0,q=L.length,H=q>>>1;J<H;){var U=2*(J+1)-1,ue=L[U],fe=U+1,be=L[fe];if(0>a(ue,B))fe<q&&0>a(be,ue)?(L[J]=be,L[fe]=B,J=fe):(L[J]=ue,L[U]=B,J=U);else if(fe<q&&0>a(be,B))L[J]=be,L[fe]=B,J=fe;else break e}}return D}function a(L,D){var B=L.sortIndex-D.sortIndex;return B!==0?B:L.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,s=i.now();e.unstable_now=function(){return i.now()-s}}var l=[],c=[],u=1,f=null,h=3,p=!1,m=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(L){for(var D=r(c);D!==null;){if(D.callback===null)n(c);else if(D.startTime<=L)n(c),D.sortIndex=D.expirationTime,t(l,D);else break;D=r(c)}}function S(L){if(v=!1,b(L),!m)if(r(l)!==null)m=!0,R(w);else{var D=r(c);D!==null&&W(S,D.startTime-L)}}function w(L,D){m=!1,v&&(v=!1,y(_),_=-1),p=!0;var B=h;try{for(b(D),f=r(l);f!==null&&(!(f.expirationTime>D)||L&&!N());){var J=f.callback;if(typeof J=="function"){f.callback=null,h=f.priorityLevel;var q=J(f.expirationTime<=D);D=e.unstable_now(),typeof q=="function"?f.callback=q:f===r(l)&&n(l),b(D)}else n(l);f=r(l)}if(f!==null)var H=!0;else{var U=r(c);U!==null&&W(S,U.startTime-D),H=!1}return H}finally{f=null,h=B,p=!1}}var k=!1,j=null,_=-1,P=5,A=-1;function N(){return!(e.unstable_now()-A<P)}function E(){if(j!==null){var L=e.unstable_now();A=L;var D=!0;try{D=j(!0,L)}finally{D?F():(k=!1,j=null)}}else k=!1}var F;if(typeof g=="function")F=function(){g(E)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,T=I.port2;I.port1.onmessage=E,F=function(){T.postMessage(null)}}else F=function(){x(E,0)};function R(L){j=L,k||(k=!0,F())}function W(L,D){_=x(function(){L(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,R(w))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(L){switch(h){case 1:case 2:case 3:var D=3;break;default:D=h}var B=h;h=D;try{return L()}finally{h=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,D){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var B=h;h=L;try{return D()}finally{h=B}},e.unstable_scheduleCallback=function(L,D,B){var J=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?J+B:J):B=J,L){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=B+q,L={id:u++,callback:D,priorityLevel:L,startTime:B,expirationTime:q,sortIndex:-1},B>J?(L.sortIndex=B,t(c,L),r(l)===null&&L===r(c)&&(v?(y(_),_=-1):v=!0,W(S,B-J))):(L.sortIndex=q,t(l,L),m||p||(m=!0,R(w))),L},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(L){var D=h;return function(){var B=h;h=D;try{return L.apply(this,arguments)}finally{h=B}}}})(G2);U2.exports=G2;var QP=U2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JP=O,$n=QP;function ae(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var H2=new Set,Zl={};function _i(e,t){ds(e,t),ds(e+"Capture",t)}function ds(e,t){for(Zl[e]=t,e=0;e<t.length;e++)H2.add(t[e])}var qa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qp=Object.prototype.hasOwnProperty,eN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_v={},Pv={};function tN(e){return qp.call(Pv,e)?!0:qp.call(_v,e)?!1:eN.test(e)?Pv[e]=!0:(_v[e]=!0,!1)}function rN(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function nN(e,t,r,n){if(t===null||typeof t>"u"||rN(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function pn(e,t,r,n,a,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var Wr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Wr[e]=new pn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Wr[t]=new pn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Wr[e]=new pn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Wr[e]=new pn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Wr[e]=new pn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Wr[e]=new pn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Wr[e]=new pn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Wr[e]=new pn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Wr[e]=new pn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Sm=/[\-:]([a-z])/g;function jm(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Sm,jm);Wr[t]=new pn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Sm,jm);Wr[t]=new pn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Sm,jm);Wr[t]=new pn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Wr[e]=new pn(e,1,!1,e.toLowerCase(),null,!1,!1)});Wr.xlinkHref=new pn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Wr[e]=new pn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Om(e,t,r,n){var a=Wr.hasOwnProperty(t)?Wr[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(nN(t,r,a,n)&&(r=null),n||a===null?tN(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var no=JP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,hu=Symbol.for("react.element"),Wi=Symbol.for("react.portal"),Ui=Symbol.for("react.fragment"),_m=Symbol.for("react.strict_mode"),Zp=Symbol.for("react.profiler"),V2=Symbol.for("react.provider"),K2=Symbol.for("react.context"),Pm=Symbol.for("react.forward_ref"),Qp=Symbol.for("react.suspense"),Jp=Symbol.for("react.suspense_list"),Nm=Symbol.for("react.memo"),uo=Symbol.for("react.lazy"),X2=Symbol.for("react.offscreen"),Nv=Symbol.iterator;function dl(e){return e===null||typeof e!="object"?null:(e=Nv&&e[Nv]||e["@@iterator"],typeof e=="function"?e:null)}var tr=Object.assign,zh;function Ml(e){if(zh===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);zh=t&&t[1]||""}return`
`+zh+e}var Wh=!1;function Uh(e,t){if(!e||Wh)return"";Wh=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),o=n.stack.split(`
`),i=a.length-1,s=o.length-1;1<=i&&0<=s&&a[i]!==o[s];)s--;for(;1<=i&&0<=s;i--,s--)if(a[i]!==o[s]){if(i!==1||s!==1)do if(i--,s--,0>s||a[i]!==o[s]){var l=`
`+a[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=i&&0<=s);break}}}finally{Wh=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Ml(e):""}function aN(e){switch(e.tag){case 5:return Ml(e.type);case 16:return Ml("Lazy");case 13:return Ml("Suspense");case 19:return Ml("SuspenseList");case 0:case 2:case 15:return e=Uh(e.type,!1),e;case 11:return e=Uh(e.type.render,!1),e;case 1:return e=Uh(e.type,!0),e;default:return""}}function e0(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ui:return"Fragment";case Wi:return"Portal";case Zp:return"Profiler";case _m:return"StrictMode";case Qp:return"Suspense";case Jp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case K2:return(e.displayName||"Context")+".Consumer";case V2:return(e._context.displayName||"Context")+".Provider";case Pm:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Nm:return t=e.displayName||null,t!==null?t:e0(e.type)||"Memo";case uo:t=e._payload,e=e._init;try{return e0(e(t))}catch{}}return null}function oN(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return e0(t);case 8:return t===_m?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Co(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Y2(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function iN(e){var t=Y2(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function pu(e){e._valueTracker||(e._valueTracker=iN(e))}function q2(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Y2(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function rf(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function t0(e,t){var r=t.checked;return tr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Av(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Co(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Z2(e,t){t=t.checked,t!=null&&Om(e,"checked",t,!1)}function r0(e,t){Z2(e,t);var r=Co(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?n0(e,t.type,r):t.hasOwnProperty("defaultValue")&&n0(e,t.type,Co(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Mv(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function n0(e,t,r){(t!=="number"||rf(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Cl=Array.isArray;function ns(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Co(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function a0(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ae(91));return tr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Cv(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ae(92));if(Cl(r)){if(1<r.length)throw Error(ae(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Co(r)}}function Q2(e,t){var r=Co(t.value),n=Co(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Ev(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function J2(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function o0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?J2(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var gu,ek=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(gu=gu||document.createElement("div"),gu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=gu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ql(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Dl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sN=["Webkit","ms","Moz","O"];Object.keys(Dl).forEach(function(e){sN.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Dl[t]=Dl[e]})});function tk(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Dl.hasOwnProperty(e)&&Dl[e]?(""+t).trim():t+"px"}function rk(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=tk(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var lN=tr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function i0(e,t){if(t){if(lN[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ae(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ae(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ae(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ae(62))}}function s0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var l0=null;function Am(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var c0=null,as=null,os=null;function Tv(e){if(e=Jc(e)){if(typeof c0!="function")throw Error(ae(280));var t=e.stateNode;t&&(t=Rd(t),c0(e.stateNode,e.type,t))}}function nk(e){as?os?os.push(e):os=[e]:as=e}function ak(){if(as){var e=as,t=os;if(os=as=null,Tv(e),t)for(e=0;e<t.length;e++)Tv(t[e])}}function ok(e,t){return e(t)}function ik(){}var Gh=!1;function sk(e,t,r){if(Gh)return e(t,r);Gh=!0;try{return ok(e,t,r)}finally{Gh=!1,(as!==null||os!==null)&&(ik(),ak())}}function Jl(e,t){var r=e.stateNode;if(r===null)return null;var n=Rd(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ae(231,t,typeof r));return r}var u0=!1;if(qa)try{var hl={};Object.defineProperty(hl,"passive",{get:function(){u0=!0}}),window.addEventListener("test",hl,hl),window.removeEventListener("test",hl,hl)}catch{u0=!1}function cN(e,t,r,n,a,o,i,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(u){this.onError(u)}}var Rl=!1,nf=null,af=!1,f0=null,uN={onError:function(e){Rl=!0,nf=e}};function fN(e,t,r,n,a,o,i,s,l){Rl=!1,nf=null,cN.apply(uN,arguments)}function dN(e,t,r,n,a,o,i,s,l){if(fN.apply(this,arguments),Rl){if(Rl){var c=nf;Rl=!1,nf=null}else throw Error(ae(198));af||(af=!0,f0=c)}}function Pi(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function lk(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function $v(e){if(Pi(e)!==e)throw Error(ae(188))}function hN(e){var t=e.alternate;if(!t){if(t=Pi(e),t===null)throw Error(ae(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var o=a.alternate;if(o===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===r)return $v(a),e;if(o===n)return $v(a),t;o=o.sibling}throw Error(ae(188))}if(r.return!==n.return)r=a,n=o;else{for(var i=!1,s=a.child;s;){if(s===r){i=!0,r=a,n=o;break}if(s===n){i=!0,n=a,r=o;break}s=s.sibling}if(!i){for(s=o.child;s;){if(s===r){i=!0,r=o,n=a;break}if(s===n){i=!0,n=o,r=a;break}s=s.sibling}if(!i)throw Error(ae(189))}}if(r.alternate!==n)throw Error(ae(190))}if(r.tag!==3)throw Error(ae(188));return r.stateNode.current===r?e:t}function ck(e){return e=hN(e),e!==null?uk(e):null}function uk(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=uk(e);if(t!==null)return t;e=e.sibling}return null}var fk=$n.unstable_scheduleCallback,Dv=$n.unstable_cancelCallback,pN=$n.unstable_shouldYield,gN=$n.unstable_requestPaint,fr=$n.unstable_now,mN=$n.unstable_getCurrentPriorityLevel,Mm=$n.unstable_ImmediatePriority,dk=$n.unstable_UserBlockingPriority,of=$n.unstable_NormalPriority,yN=$n.unstable_LowPriority,hk=$n.unstable_IdlePriority,Ed=null,ja=null;function vN(e){if(ja&&typeof ja.onCommitFiberRoot=="function")try{ja.onCommitFiberRoot(Ed,e,void 0,(e.current.flags&128)===128)}catch{}}var ca=Math.clz32?Math.clz32:wN,xN=Math.log,bN=Math.LN2;function wN(e){return e>>>=0,e===0?32:31-(xN(e)/bN|0)|0}var mu=64,yu=4194304;function El(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function sf(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,o=e.pingedLanes,i=r&268435455;if(i!==0){var s=i&~a;s!==0?n=El(s):(o&=i,o!==0&&(n=El(o)))}else i=r&~a,i!==0?n=El(i):o!==0&&(n=El(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,o=t&-t,a>=o||a===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ca(t),a=1<<r,n|=e[r],t&=~a;return n}function kN(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function SN(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-ca(o),s=1<<i,l=a[i];l===-1?(!(s&r)||s&n)&&(a[i]=kN(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}function d0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function pk(){var e=mu;return mu<<=1,!(mu&4194240)&&(mu=64),e}function Hh(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Zc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ca(t),e[t]=r}function jN(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-ca(r),o=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~o}}function Cm(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ca(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Ot=0;function gk(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var mk,Em,yk,vk,xk,h0=!1,vu=[],ko=null,So=null,jo=null,ec=new Map,tc=new Map,po=[],ON="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rv(e,t){switch(e){case"focusin":case"focusout":ko=null;break;case"dragenter":case"dragleave":So=null;break;case"mouseover":case"mouseout":jo=null;break;case"pointerover":case"pointerout":ec.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":tc.delete(t.pointerId)}}function pl(e,t,r,n,a,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[a]},t!==null&&(t=Jc(t),t!==null&&Em(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function _N(e,t,r,n,a){switch(t){case"focusin":return ko=pl(ko,e,t,r,n,a),!0;case"dragenter":return So=pl(So,e,t,r,n,a),!0;case"mouseover":return jo=pl(jo,e,t,r,n,a),!0;case"pointerover":var o=a.pointerId;return ec.set(o,pl(ec.get(o)||null,e,t,r,n,a)),!0;case"gotpointercapture":return o=a.pointerId,tc.set(o,pl(tc.get(o)||null,e,t,r,n,a)),!0}return!1}function bk(e){var t=ei(e.target);if(t!==null){var r=Pi(t);if(r!==null){if(t=r.tag,t===13){if(t=lk(r),t!==null){e.blockedOn=t,xk(e.priority,function(){yk(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Vu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=p0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);l0=n,r.target.dispatchEvent(n),l0=null}else return t=Jc(r),t!==null&&Em(t),e.blockedOn=r,!1;t.shift()}return!0}function Lv(e,t,r){Vu(e)&&r.delete(t)}function PN(){h0=!1,ko!==null&&Vu(ko)&&(ko=null),So!==null&&Vu(So)&&(So=null),jo!==null&&Vu(jo)&&(jo=null),ec.forEach(Lv),tc.forEach(Lv)}function gl(e,t){e.blockedOn===t&&(e.blockedOn=null,h0||(h0=!0,$n.unstable_scheduleCallback($n.unstable_NormalPriority,PN)))}function rc(e){function t(a){return gl(a,e)}if(0<vu.length){gl(vu[0],e);for(var r=1;r<vu.length;r++){var n=vu[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ko!==null&&gl(ko,e),So!==null&&gl(So,e),jo!==null&&gl(jo,e),ec.forEach(t),tc.forEach(t),r=0;r<po.length;r++)n=po[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<po.length&&(r=po[0],r.blockedOn===null);)bk(r),r.blockedOn===null&&po.shift()}var is=no.ReactCurrentBatchConfig,lf=!0;function NN(e,t,r,n){var a=Ot,o=is.transition;is.transition=null;try{Ot=1,Tm(e,t,r,n)}finally{Ot=a,is.transition=o}}function AN(e,t,r,n){var a=Ot,o=is.transition;is.transition=null;try{Ot=4,Tm(e,t,r,n)}finally{Ot=a,is.transition=o}}function Tm(e,t,r,n){if(lf){var a=p0(e,t,r,n);if(a===null)tp(e,t,n,cf,r),Rv(e,n);else if(_N(a,e,t,r,n))n.stopPropagation();else if(Rv(e,n),t&4&&-1<ON.indexOf(e)){for(;a!==null;){var o=Jc(a);if(o!==null&&mk(o),o=p0(e,t,r,n),o===null&&tp(e,t,n,cf,r),o===a)break;a=o}a!==null&&n.stopPropagation()}else tp(e,t,n,null,r)}}var cf=null;function p0(e,t,r,n){if(cf=null,e=Am(n),e=ei(e),e!==null)if(t=Pi(e),t===null)e=null;else if(r=t.tag,r===13){if(e=lk(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return cf=e,null}function wk(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mN()){case Mm:return 1;case dk:return 4;case of:case yN:return 16;case hk:return 536870912;default:return 16}default:return 16}}var yo=null,$m=null,Ku=null;function kk(){if(Ku)return Ku;var e,t=$m,r=t.length,n,a="value"in yo?yo.value:yo.textContent,o=a.length;for(e=0;e<r&&t[e]===a[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===a[o-n];n++);return Ku=a.slice(e,1<n?1-n:void 0)}function Xu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function xu(){return!0}function Iv(){return!1}function Rn(e){function t(r,n,a,o,i){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(r=e[s],this[s]=r?r(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?xu:Iv,this.isPropagationStopped=Iv,this}return tr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=xu)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=xu)},persist:function(){},isPersistent:xu}),t}var Xs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dm=Rn(Xs),Qc=tr({},Xs,{view:0,detail:0}),MN=Rn(Qc),Vh,Kh,ml,Td=tr({},Qc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rm,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ml&&(ml&&e.type==="mousemove"?(Vh=e.screenX-ml.screenX,Kh=e.screenY-ml.screenY):Kh=Vh=0,ml=e),Vh)},movementY:function(e){return"movementY"in e?e.movementY:Kh}}),Bv=Rn(Td),CN=tr({},Td,{dataTransfer:0}),EN=Rn(CN),TN=tr({},Qc,{relatedTarget:0}),Xh=Rn(TN),$N=tr({},Xs,{animationName:0,elapsedTime:0,pseudoElement:0}),DN=Rn($N),RN=tr({},Xs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),LN=Rn(RN),IN=tr({},Xs,{data:0}),Fv=Rn(IN),BN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},FN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function WN(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=zN[e])?!!t[e]:!1}function Rm(){return WN}var UN=tr({},Qc,{key:function(e){if(e.key){var t=BN[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Xu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?FN[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rm,charCode:function(e){return e.type==="keypress"?Xu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Xu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),GN=Rn(UN),HN=tr({},Td,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zv=Rn(HN),VN=tr({},Qc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rm}),KN=Rn(VN),XN=tr({},Xs,{propertyName:0,elapsedTime:0,pseudoElement:0}),YN=Rn(XN),qN=tr({},Td,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ZN=Rn(qN),QN=[9,13,27,32],Lm=qa&&"CompositionEvent"in window,Ll=null;qa&&"documentMode"in document&&(Ll=document.documentMode);var JN=qa&&"TextEvent"in window&&!Ll,Sk=qa&&(!Lm||Ll&&8<Ll&&11>=Ll),Wv=" ",Uv=!1;function jk(e,t){switch(e){case"keyup":return QN.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ok(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Gi=!1;function eA(e,t){switch(e){case"compositionend":return Ok(t);case"keypress":return t.which!==32?null:(Uv=!0,Wv);case"textInput":return e=t.data,e===Wv&&Uv?null:e;default:return null}}function tA(e,t){if(Gi)return e==="compositionend"||!Lm&&jk(e,t)?(e=kk(),Ku=$m=yo=null,Gi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Sk&&t.locale!=="ko"?null:t.data;default:return null}}var rA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!rA[e.type]:t==="textarea"}function _k(e,t,r,n){nk(n),t=uf(t,"onChange"),0<t.length&&(r=new Dm("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Il=null,nc=null;function nA(e){Lk(e,0)}function $d(e){var t=Ki(e);if(q2(t))return e}function aA(e,t){if(e==="change")return t}var Pk=!1;if(qa){var Yh;if(qa){var qh="oninput"in document;if(!qh){var Hv=document.createElement("div");Hv.setAttribute("oninput","return;"),qh=typeof Hv.oninput=="function"}Yh=qh}else Yh=!1;Pk=Yh&&(!document.documentMode||9<document.documentMode)}function Vv(){Il&&(Il.detachEvent("onpropertychange",Nk),nc=Il=null)}function Nk(e){if(e.propertyName==="value"&&$d(nc)){var t=[];_k(t,nc,e,Am(e)),sk(nA,t)}}function oA(e,t,r){e==="focusin"?(Vv(),Il=t,nc=r,Il.attachEvent("onpropertychange",Nk)):e==="focusout"&&Vv()}function iA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return $d(nc)}function sA(e,t){if(e==="click")return $d(t)}function lA(e,t){if(e==="input"||e==="change")return $d(t)}function cA(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var fa=typeof Object.is=="function"?Object.is:cA;function ac(e,t){if(fa(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!qp.call(t,a)||!fa(e[a],t[a]))return!1}return!0}function Kv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xv(e,t){var r=Kv(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Kv(r)}}function Ak(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ak(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Mk(){for(var e=window,t=rf();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=rf(e.document)}return t}function Im(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function uA(e){var t=Mk(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Ak(r.ownerDocument.documentElement,r)){if(n!==null&&Im(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,o=Math.min(n.start,a);n=n.end===void 0?o:Math.min(n.end,a),!e.extend&&o>n&&(a=n,n=o,o=a),a=Xv(r,o);var i=Xv(r,n);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fA=qa&&"documentMode"in document&&11>=document.documentMode,Hi=null,g0=null,Bl=null,m0=!1;function Yv(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;m0||Hi==null||Hi!==rf(n)||(n=Hi,"selectionStart"in n&&Im(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Bl&&ac(Bl,n)||(Bl=n,n=uf(g0,"onSelect"),0<n.length&&(t=new Dm("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Hi)))}function bu(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Vi={animationend:bu("Animation","AnimationEnd"),animationiteration:bu("Animation","AnimationIteration"),animationstart:bu("Animation","AnimationStart"),transitionend:bu("Transition","TransitionEnd")},Zh={},Ck={};qa&&(Ck=document.createElement("div").style,"AnimationEvent"in window||(delete Vi.animationend.animation,delete Vi.animationiteration.animation,delete Vi.animationstart.animation),"TransitionEvent"in window||delete Vi.transitionend.transition);function Dd(e){if(Zh[e])return Zh[e];if(!Vi[e])return e;var t=Vi[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Ck)return Zh[e]=t[r];return e}var Ek=Dd("animationend"),Tk=Dd("animationiteration"),$k=Dd("animationstart"),Dk=Dd("transitionend"),Rk=new Map,qv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function To(e,t){Rk.set(e,t),_i(t,[e])}for(var Qh=0;Qh<qv.length;Qh++){var Jh=qv[Qh],dA=Jh.toLowerCase(),hA=Jh[0].toUpperCase()+Jh.slice(1);To(dA,"on"+hA)}To(Ek,"onAnimationEnd");To(Tk,"onAnimationIteration");To($k,"onAnimationStart");To("dblclick","onDoubleClick");To("focusin","onFocus");To("focusout","onBlur");To(Dk,"onTransitionEnd");ds("onMouseEnter",["mouseout","mouseover"]);ds("onMouseLeave",["mouseout","mouseover"]);ds("onPointerEnter",["pointerout","pointerover"]);ds("onPointerLeave",["pointerout","pointerover"]);_i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_i("onBeforeInput",["compositionend","keypress","textInput","paste"]);_i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tl));function Zv(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,dN(n,t,void 0,e),e.currentTarget=null}function Lk(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var i=n.length-1;0<=i;i--){var s=n[i],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&a.isPropagationStopped())break e;Zv(a,s,c),o=l}else for(i=0;i<n.length;i++){if(s=n[i],l=s.instance,c=s.currentTarget,s=s.listener,l!==o&&a.isPropagationStopped())break e;Zv(a,s,c),o=l}}}if(af)throw e=f0,af=!1,f0=null,e}function Ht(e,t){var r=t[w0];r===void 0&&(r=t[w0]=new Set);var n=e+"__bubble";r.has(n)||(Ik(t,e,2,!1),r.add(n))}function ep(e,t,r){var n=0;t&&(n|=4),Ik(r,e,n,t)}var wu="_reactListening"+Math.random().toString(36).slice(2);function oc(e){if(!e[wu]){e[wu]=!0,H2.forEach(function(r){r!=="selectionchange"&&(pA.has(r)||ep(r,!1,e),ep(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[wu]||(t[wu]=!0,ep("selectionchange",!1,t))}}function Ik(e,t,r,n){switch(wk(t)){case 1:var a=NN;break;case 4:a=AN;break;default:a=Tm}r=a.bind(null,t,r,e),a=void 0,!u0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function tp(e,t,r,n,a){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var s=n.stateNode.containerInfo;if(s===a||s.nodeType===8&&s.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;i=i.return}for(;s!==null;){if(i=ei(s),i===null)return;if(l=i.tag,l===5||l===6){n=o=i;continue e}s=s.parentNode}}n=n.return}sk(function(){var c=o,u=Am(r),f=[];e:{var h=Rk.get(e);if(h!==void 0){var p=Dm,m=e;switch(e){case"keypress":if(Xu(r)===0)break e;case"keydown":case"keyup":p=GN;break;case"focusin":m="focus",p=Xh;break;case"focusout":m="blur",p=Xh;break;case"beforeblur":case"afterblur":p=Xh;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Bv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=EN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=KN;break;case Ek:case Tk:case $k:p=DN;break;case Dk:p=YN;break;case"scroll":p=MN;break;case"wheel":p=ZN;break;case"copy":case"cut":case"paste":p=LN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=zv}var v=(t&4)!==0,x=!v&&e==="scroll",y=v?h!==null?h+"Capture":null:h;v=[];for(var g=c,b;g!==null;){b=g;var S=b.stateNode;if(b.tag===5&&S!==null&&(b=S,y!==null&&(S=Jl(g,y),S!=null&&v.push(ic(g,S,b)))),x)break;g=g.return}0<v.length&&(h=new p(h,m,null,r,u),f.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==l0&&(m=r.relatedTarget||r.fromElement)&&(ei(m)||m[Za]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=c,m=m?ei(m):null,m!==null&&(x=Pi(m),m!==x||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(v=Bv,S="onMouseLeave",y="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(v=zv,S="onPointerLeave",y="onPointerEnter",g="pointer"),x=p==null?h:Ki(p),b=m==null?h:Ki(m),h=new v(S,g+"leave",p,r,u),h.target=x,h.relatedTarget=b,S=null,ei(u)===c&&(v=new v(y,g+"enter",m,r,u),v.target=b,v.relatedTarget=x,S=v),x=S,p&&m)t:{for(v=p,y=m,g=0,b=v;b;b=Ri(b))g++;for(b=0,S=y;S;S=Ri(S))b++;for(;0<g-b;)v=Ri(v),g--;for(;0<b-g;)y=Ri(y),b--;for(;g--;){if(v===y||y!==null&&v===y.alternate)break t;v=Ri(v),y=Ri(y)}v=null}else v=null;p!==null&&Qv(f,h,p,v,!1),m!==null&&x!==null&&Qv(f,x,m,v,!0)}}e:{if(h=c?Ki(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var w=aA;else if(Gv(h))if(Pk)w=lA;else{w=iA;var k=oA}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=sA);if(w&&(w=w(e,c))){_k(f,w,r,u);break e}k&&k(e,h,c),e==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&n0(h,"number",h.value)}switch(k=c?Ki(c):window,e){case"focusin":(Gv(k)||k.contentEditable==="true")&&(Hi=k,g0=c,Bl=null);break;case"focusout":Bl=g0=Hi=null;break;case"mousedown":m0=!0;break;case"contextmenu":case"mouseup":case"dragend":m0=!1,Yv(f,r,u);break;case"selectionchange":if(fA)break;case"keydown":case"keyup":Yv(f,r,u)}var j;if(Lm)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Gi?jk(e,r)&&(_="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(_="onCompositionStart");_&&(Sk&&r.locale!=="ko"&&(Gi||_!=="onCompositionStart"?_==="onCompositionEnd"&&Gi&&(j=kk()):(yo=u,$m="value"in yo?yo.value:yo.textContent,Gi=!0)),k=uf(c,_),0<k.length&&(_=new Fv(_,e,null,r,u),f.push({event:_,listeners:k}),j?_.data=j:(j=Ok(r),j!==null&&(_.data=j)))),(j=JN?eA(e,r):tA(e,r))&&(c=uf(c,"onBeforeInput"),0<c.length&&(u=new Fv("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:c}),u.data=j))}Lk(f,t)})}function ic(e,t,r){return{instance:e,listener:t,currentTarget:r}}function uf(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,o=a.stateNode;a.tag===5&&o!==null&&(a=o,o=Jl(e,r),o!=null&&n.unshift(ic(e,o,a)),o=Jl(e,t),o!=null&&n.push(ic(e,o,a))),e=e.return}return n}function Ri(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Qv(e,t,r,n,a){for(var o=t._reactName,i=[];r!==null&&r!==n;){var s=r,l=s.alternate,c=s.stateNode;if(l!==null&&l===n)break;s.tag===5&&c!==null&&(s=c,a?(l=Jl(r,o),l!=null&&i.unshift(ic(r,l,s))):a||(l=Jl(r,o),l!=null&&i.push(ic(r,l,s)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var gA=/\r\n?/g,mA=/\u0000|\uFFFD/g;function Jv(e){return(typeof e=="string"?e:""+e).replace(gA,`
`).replace(mA,"")}function ku(e,t,r){if(t=Jv(t),Jv(e)!==t&&r)throw Error(ae(425))}function ff(){}var y0=null,v0=null;function x0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var b0=typeof setTimeout=="function"?setTimeout:void 0,yA=typeof clearTimeout=="function"?clearTimeout:void 0,ex=typeof Promise=="function"?Promise:void 0,vA=typeof queueMicrotask=="function"?queueMicrotask:typeof ex<"u"?function(e){return ex.resolve(null).then(e).catch(xA)}:b0;function xA(e){setTimeout(function(){throw e})}function rp(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),rc(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);rc(t)}function Oo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function tx(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Ys=Math.random().toString(36).slice(2),wa="__reactFiber$"+Ys,sc="__reactProps$"+Ys,Za="__reactContainer$"+Ys,w0="__reactEvents$"+Ys,bA="__reactListeners$"+Ys,wA="__reactHandles$"+Ys;function ei(e){var t=e[wa];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Za]||r[wa]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=tx(e);e!==null;){if(r=e[wa])return r;e=tx(e)}return t}e=r,r=e.parentNode}return null}function Jc(e){return e=e[wa]||e[Za],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ki(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ae(33))}function Rd(e){return e[sc]||null}var k0=[],Xi=-1;function $o(e){return{current:e}}function Xt(e){0>Xi||(e.current=k0[Xi],k0[Xi]=null,Xi--)}function Ut(e,t){Xi++,k0[Xi]=e.current,e.current=t}var Eo={},tn=$o(Eo),xn=$o(!1),pi=Eo;function hs(e,t){var r=e.type.contextTypes;if(!r)return Eo;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},o;for(o in r)a[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function bn(e){return e=e.childContextTypes,e!=null}function df(){Xt(xn),Xt(tn)}function rx(e,t,r){if(tn.current!==Eo)throw Error(ae(168));Ut(tn,t),Ut(xn,r)}function Bk(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(ae(108,oN(e)||"Unknown",a));return tr({},r,n)}function hf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Eo,pi=tn.current,Ut(tn,e),Ut(xn,xn.current),!0}function nx(e,t,r){var n=e.stateNode;if(!n)throw Error(ae(169));r?(e=Bk(e,t,pi),n.__reactInternalMemoizedMergedChildContext=e,Xt(xn),Xt(tn),Ut(tn,e)):Xt(xn),Ut(xn,r)}var Ba=null,Ld=!1,np=!1;function Fk(e){Ba===null?Ba=[e]:Ba.push(e)}function kA(e){Ld=!0,Fk(e)}function Do(){if(!np&&Ba!==null){np=!0;var e=0,t=Ot;try{var r=Ba;for(Ot=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ba=null,Ld=!1}catch(a){throw Ba!==null&&(Ba=Ba.slice(e+1)),fk(Mm,Do),a}finally{Ot=t,np=!1}}return null}var Yi=[],qi=0,pf=null,gf=0,Wn=[],Un=0,gi=null,Fa=1,za="";function Yo(e,t){Yi[qi++]=gf,Yi[qi++]=pf,pf=e,gf=t}function zk(e,t,r){Wn[Un++]=Fa,Wn[Un++]=za,Wn[Un++]=gi,gi=e;var n=Fa;e=za;var a=32-ca(n)-1;n&=~(1<<a),r+=1;var o=32-ca(t)+a;if(30<o){var i=a-a%5;o=(n&(1<<i)-1).toString(32),n>>=i,a-=i,Fa=1<<32-ca(t)+a|r<<a|n,za=o+e}else Fa=1<<o|r<<a|n,za=e}function Bm(e){e.return!==null&&(Yo(e,1),zk(e,1,0))}function Fm(e){for(;e===pf;)pf=Yi[--qi],Yi[qi]=null,gf=Yi[--qi],Yi[qi]=null;for(;e===gi;)gi=Wn[--Un],Wn[Un]=null,za=Wn[--Un],Wn[Un]=null,Fa=Wn[--Un],Wn[Un]=null}var Tn=null,En=null,Yt=!1,ia=null;function Wk(e,t){var r=Gn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function ax(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Tn=e,En=Oo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Tn=e,En=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=gi!==null?{id:Fa,overflow:za}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Gn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Tn=e,En=null,!0):!1;default:return!1}}function S0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function j0(e){if(Yt){var t=En;if(t){var r=t;if(!ax(e,t)){if(S0(e))throw Error(ae(418));t=Oo(r.nextSibling);var n=Tn;t&&ax(e,t)?Wk(n,r):(e.flags=e.flags&-4097|2,Yt=!1,Tn=e)}}else{if(S0(e))throw Error(ae(418));e.flags=e.flags&-4097|2,Yt=!1,Tn=e}}}function ox(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Tn=e}function Su(e){if(e!==Tn)return!1;if(!Yt)return ox(e),Yt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!x0(e.type,e.memoizedProps)),t&&(t=En)){if(S0(e))throw Uk(),Error(ae(418));for(;t;)Wk(e,t),t=Oo(t.nextSibling)}if(ox(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ae(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){En=Oo(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}En=null}}else En=Tn?Oo(e.stateNode.nextSibling):null;return!0}function Uk(){for(var e=En;e;)e=Oo(e.nextSibling)}function ps(){En=Tn=null,Yt=!1}function zm(e){ia===null?ia=[e]:ia.push(e)}var SA=no.ReactCurrentBatchConfig;function yl(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ae(309));var n=r.stateNode}if(!n)throw Error(ae(147,e));var a=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var s=a.refs;i===null?delete s[o]:s[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(ae(284));if(!r._owner)throw Error(ae(290,e))}return e}function ju(e,t){throw e=Object.prototype.toString.call(t),Error(ae(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ix(e){var t=e._init;return t(e._payload)}function Gk(e){function t(y,g){if(e){var b=y.deletions;b===null?(y.deletions=[g],y.flags|=16):b.push(g)}}function r(y,g){if(!e)return null;for(;g!==null;)t(y,g),g=g.sibling;return null}function n(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function a(y,g){return y=Ao(y,g),y.index=0,y.sibling=null,y}function o(y,g,b){return y.index=b,e?(b=y.alternate,b!==null?(b=b.index,b<g?(y.flags|=2,g):b):(y.flags|=2,g)):(y.flags|=1048576,g)}function i(y){return e&&y.alternate===null&&(y.flags|=2),y}function s(y,g,b,S){return g===null||g.tag!==6?(g=up(b,y.mode,S),g.return=y,g):(g=a(g,b),g.return=y,g)}function l(y,g,b,S){var w=b.type;return w===Ui?u(y,g,b.props.children,S,b.key):g!==null&&(g.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===uo&&ix(w)===g.type)?(S=a(g,b.props),S.ref=yl(y,g,b),S.return=y,S):(S=tf(b.type,b.key,b.props,null,y.mode,S),S.ref=yl(y,g,b),S.return=y,S)}function c(y,g,b,S){return g===null||g.tag!==4||g.stateNode.containerInfo!==b.containerInfo||g.stateNode.implementation!==b.implementation?(g=fp(b,y.mode,S),g.return=y,g):(g=a(g,b.children||[]),g.return=y,g)}function u(y,g,b,S,w){return g===null||g.tag!==7?(g=ui(b,y.mode,S,w),g.return=y,g):(g=a(g,b),g.return=y,g)}function f(y,g,b){if(typeof g=="string"&&g!==""||typeof g=="number")return g=up(""+g,y.mode,b),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case hu:return b=tf(g.type,g.key,g.props,null,y.mode,b),b.ref=yl(y,null,g),b.return=y,b;case Wi:return g=fp(g,y.mode,b),g.return=y,g;case uo:var S=g._init;return f(y,S(g._payload),b)}if(Cl(g)||dl(g))return g=ui(g,y.mode,b,null),g.return=y,g;ju(y,g)}return null}function h(y,g,b,S){var w=g!==null?g.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return w!==null?null:s(y,g,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case hu:return b.key===w?l(y,g,b,S):null;case Wi:return b.key===w?c(y,g,b,S):null;case uo:return w=b._init,h(y,g,w(b._payload),S)}if(Cl(b)||dl(b))return w!==null?null:u(y,g,b,S,null);ju(y,b)}return null}function p(y,g,b,S,w){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(b)||null,s(g,y,""+S,w);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case hu:return y=y.get(S.key===null?b:S.key)||null,l(g,y,S,w);case Wi:return y=y.get(S.key===null?b:S.key)||null,c(g,y,S,w);case uo:var k=S._init;return p(y,g,b,k(S._payload),w)}if(Cl(S)||dl(S))return y=y.get(b)||null,u(g,y,S,w,null);ju(g,S)}return null}function m(y,g,b,S){for(var w=null,k=null,j=g,_=g=0,P=null;j!==null&&_<b.length;_++){j.index>_?(P=j,j=null):P=j.sibling;var A=h(y,j,b[_],S);if(A===null){j===null&&(j=P);break}e&&j&&A.alternate===null&&t(y,j),g=o(A,g,_),k===null?w=A:k.sibling=A,k=A,j=P}if(_===b.length)return r(y,j),Yt&&Yo(y,_),w;if(j===null){for(;_<b.length;_++)j=f(y,b[_],S),j!==null&&(g=o(j,g,_),k===null?w=j:k.sibling=j,k=j);return Yt&&Yo(y,_),w}for(j=n(y,j);_<b.length;_++)P=p(j,y,_,b[_],S),P!==null&&(e&&P.alternate!==null&&j.delete(P.key===null?_:P.key),g=o(P,g,_),k===null?w=P:k.sibling=P,k=P);return e&&j.forEach(function(N){return t(y,N)}),Yt&&Yo(y,_),w}function v(y,g,b,S){var w=dl(b);if(typeof w!="function")throw Error(ae(150));if(b=w.call(b),b==null)throw Error(ae(151));for(var k=w=null,j=g,_=g=0,P=null,A=b.next();j!==null&&!A.done;_++,A=b.next()){j.index>_?(P=j,j=null):P=j.sibling;var N=h(y,j,A.value,S);if(N===null){j===null&&(j=P);break}e&&j&&N.alternate===null&&t(y,j),g=o(N,g,_),k===null?w=N:k.sibling=N,k=N,j=P}if(A.done)return r(y,j),Yt&&Yo(y,_),w;if(j===null){for(;!A.done;_++,A=b.next())A=f(y,A.value,S),A!==null&&(g=o(A,g,_),k===null?w=A:k.sibling=A,k=A);return Yt&&Yo(y,_),w}for(j=n(y,j);!A.done;_++,A=b.next())A=p(j,y,_,A.value,S),A!==null&&(e&&A.alternate!==null&&j.delete(A.key===null?_:A.key),g=o(A,g,_),k===null?w=A:k.sibling=A,k=A);return e&&j.forEach(function(E){return t(y,E)}),Yt&&Yo(y,_),w}function x(y,g,b,S){if(typeof b=="object"&&b!==null&&b.type===Ui&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case hu:e:{for(var w=b.key,k=g;k!==null;){if(k.key===w){if(w=b.type,w===Ui){if(k.tag===7){r(y,k.sibling),g=a(k,b.props.children),g.return=y,y=g;break e}}else if(k.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===uo&&ix(w)===k.type){r(y,k.sibling),g=a(k,b.props),g.ref=yl(y,k,b),g.return=y,y=g;break e}r(y,k);break}else t(y,k);k=k.sibling}b.type===Ui?(g=ui(b.props.children,y.mode,S,b.key),g.return=y,y=g):(S=tf(b.type,b.key,b.props,null,y.mode,S),S.ref=yl(y,g,b),S.return=y,y=S)}return i(y);case Wi:e:{for(k=b.key;g!==null;){if(g.key===k)if(g.tag===4&&g.stateNode.containerInfo===b.containerInfo&&g.stateNode.implementation===b.implementation){r(y,g.sibling),g=a(g,b.children||[]),g.return=y,y=g;break e}else{r(y,g);break}else t(y,g);g=g.sibling}g=fp(b,y.mode,S),g.return=y,y=g}return i(y);case uo:return k=b._init,x(y,g,k(b._payload),S)}if(Cl(b))return m(y,g,b,S);if(dl(b))return v(y,g,b,S);ju(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,g!==null&&g.tag===6?(r(y,g.sibling),g=a(g,b),g.return=y,y=g):(r(y,g),g=up(b,y.mode,S),g.return=y,y=g),i(y)):r(y,g)}return x}var gs=Gk(!0),Hk=Gk(!1),mf=$o(null),yf=null,Zi=null,Wm=null;function Um(){Wm=Zi=yf=null}function Gm(e){var t=mf.current;Xt(mf),e._currentValue=t}function O0(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function ss(e,t){yf=e,Wm=Zi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(yn=!0),e.firstContext=null)}function Yn(e){var t=e._currentValue;if(Wm!==e)if(e={context:e,memoizedValue:t,next:null},Zi===null){if(yf===null)throw Error(ae(308));Zi=e,yf.dependencies={lanes:0,firstContext:e}}else Zi=Zi.next=e;return t}var ti=null;function Hm(e){ti===null?ti=[e]:ti.push(e)}function Vk(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,Hm(t)):(r.next=a.next,a.next=r),t.interleaved=r,Qa(e,n)}function Qa(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var fo=!1;function Vm(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kk(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ha(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function _o(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ht&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Qa(e,r)}return a=n.interleaved,a===null?(t.next=t,Hm(n)):(t.next=a.next,a.next=t),n.interleaved=t,Qa(e,r)}function Yu(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Cm(e,r)}}function sx(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?a=o=i:o=o.next=i,r=r.next}while(r!==null);o===null?a=o=t:o=o.next=t}else a=o=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function vf(e,t,r,n){var a=e.updateQueue;fo=!1;var o=a.firstBaseUpdate,i=a.lastBaseUpdate,s=a.shared.pending;if(s!==null){a.shared.pending=null;var l=s,c=l.next;l.next=null,i===null?o=c:i.next=c,i=l;var u=e.alternate;u!==null&&(u=u.updateQueue,s=u.lastBaseUpdate,s!==i&&(s===null?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(o!==null){var f=a.baseState;i=0,u=c=l=null,s=o;do{var h=s.lane,p=s.eventTime;if((n&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var m=e,v=s;switch(h=t,p=r,v.tag){case 1:if(m=v.payload,typeof m=="function"){f=m.call(p,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=v.payload,h=typeof m=="function"?m.call(p,f,h):m,h==null)break e;f=tr({},f,h);break e;case 2:fo=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},u===null?(c=u=p,l=f):u=u.next=p,i|=h;if(s=s.next,s===null){if(s=a.shared.pending,s===null)break;h=s,s=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(u===null&&(l=f),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else o===null&&(a.shared.lanes=0);yi|=i,e.lanes=i,e.memoizedState=f}}function lx(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(ae(191,a));a.call(n)}}}var eu={},Oa=$o(eu),lc=$o(eu),cc=$o(eu);function ri(e){if(e===eu)throw Error(ae(174));return e}function Km(e,t){switch(Ut(cc,t),Ut(lc,e),Ut(Oa,eu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:o0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=o0(t,e)}Xt(Oa),Ut(Oa,t)}function ms(){Xt(Oa),Xt(lc),Xt(cc)}function Xk(e){ri(cc.current);var t=ri(Oa.current),r=o0(t,e.type);t!==r&&(Ut(lc,e),Ut(Oa,r))}function Xm(e){lc.current===e&&(Xt(Oa),Xt(lc))}var Jt=$o(0);function xf(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ap=[];function Ym(){for(var e=0;e<ap.length;e++)ap[e]._workInProgressVersionPrimary=null;ap.length=0}var qu=no.ReactCurrentDispatcher,op=no.ReactCurrentBatchConfig,mi=0,er=null,jr=null,Er=null,bf=!1,Fl=!1,uc=0,jA=0;function Kr(){throw Error(ae(321))}function qm(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!fa(e[r],t[r]))return!1;return!0}function Zm(e,t,r,n,a,o){if(mi=o,er=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,qu.current=e===null||e.memoizedState===null?NA:AA,e=r(n,a),Fl){o=0;do{if(Fl=!1,uc=0,25<=o)throw Error(ae(301));o+=1,Er=jr=null,t.updateQueue=null,qu.current=MA,e=r(n,a)}while(Fl)}if(qu.current=wf,t=jr!==null&&jr.next!==null,mi=0,Er=jr=er=null,bf=!1,t)throw Error(ae(300));return e}function Qm(){var e=uc!==0;return uc=0,e}function ba(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Er===null?er.memoizedState=Er=e:Er=Er.next=e,Er}function qn(){if(jr===null){var e=er.alternate;e=e!==null?e.memoizedState:null}else e=jr.next;var t=Er===null?er.memoizedState:Er.next;if(t!==null)Er=t,jr=e;else{if(e===null)throw Error(ae(310));jr=e,e={memoizedState:jr.memoizedState,baseState:jr.baseState,baseQueue:jr.baseQueue,queue:jr.queue,next:null},Er===null?er.memoizedState=Er=e:Er=Er.next=e}return Er}function fc(e,t){return typeof t=="function"?t(e):t}function ip(e){var t=qn(),r=t.queue;if(r===null)throw Error(ae(311));r.lastRenderedReducer=e;var n=jr,a=n.baseQueue,o=r.pending;if(o!==null){if(a!==null){var i=a.next;a.next=o.next,o.next=i}n.baseQueue=a=o,r.pending=null}if(a!==null){o=a.next,n=n.baseState;var s=i=null,l=null,c=o;do{var u=c.lane;if((mi&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=f,i=n):l=l.next=f,er.lanes|=u,yi|=u}c=c.next}while(c!==null&&c!==o);l===null?i=n:l.next=s,fa(n,t.memoizedState)||(yn=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do o=a.lane,er.lanes|=o,yi|=o,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function sp(e){var t=qn(),r=t.queue;if(r===null)throw Error(ae(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,o=t.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do o=e(o,i.action),i=i.next;while(i!==a);fa(o,t.memoizedState)||(yn=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function Yk(){}function qk(e,t){var r=er,n=qn(),a=t(),o=!fa(n.memoizedState,a);if(o&&(n.memoizedState=a,yn=!0),n=n.queue,Jm(Jk.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||Er!==null&&Er.memoizedState.tag&1){if(r.flags|=2048,dc(9,Qk.bind(null,r,n,a,t),void 0,null),Tr===null)throw Error(ae(349));mi&30||Zk(r,t,a)}return a}function Zk(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=er.updateQueue,t===null?(t={lastEffect:null,stores:null},er.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Qk(e,t,r,n){t.value=r,t.getSnapshot=n,eS(t)&&tS(e)}function Jk(e,t,r){return r(function(){eS(t)&&tS(e)})}function eS(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!fa(e,r)}catch{return!0}}function tS(e){var t=Qa(e,1);t!==null&&ua(t,e,1,-1)}function cx(e){var t=ba();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fc,lastRenderedState:e},t.queue=e,e=e.dispatch=PA.bind(null,er,e),[t.memoizedState,e]}function dc(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=er.updateQueue,t===null?(t={lastEffect:null,stores:null},er.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function rS(){return qn().memoizedState}function Zu(e,t,r,n){var a=ba();er.flags|=e,a.memoizedState=dc(1|t,r,void 0,n===void 0?null:n)}function Id(e,t,r,n){var a=qn();n=n===void 0?null:n;var o=void 0;if(jr!==null){var i=jr.memoizedState;if(o=i.destroy,n!==null&&qm(n,i.deps)){a.memoizedState=dc(t,r,o,n);return}}er.flags|=e,a.memoizedState=dc(1|t,r,o,n)}function ux(e,t){return Zu(8390656,8,e,t)}function Jm(e,t){return Id(2048,8,e,t)}function nS(e,t){return Id(4,2,e,t)}function aS(e,t){return Id(4,4,e,t)}function oS(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function iS(e,t,r){return r=r!=null?r.concat([e]):null,Id(4,4,oS.bind(null,t,e),r)}function ey(){}function sS(e,t){var r=qn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&qm(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function lS(e,t){var r=qn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&qm(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function cS(e,t,r){return mi&21?(fa(r,t)||(r=pk(),er.lanes|=r,yi|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,yn=!0),e.memoizedState=r)}function OA(e,t){var r=Ot;Ot=r!==0&&4>r?r:4,e(!0);var n=op.transition;op.transition={};try{e(!1),t()}finally{Ot=r,op.transition=n}}function uS(){return qn().memoizedState}function _A(e,t,r){var n=No(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},fS(e))dS(t,r);else if(r=Vk(e,t,r,n),r!==null){var a=dn();ua(r,e,n,a),hS(r,t,n)}}function PA(e,t,r){var n=No(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(fS(e))dS(t,a);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,s=o(i,r);if(a.hasEagerState=!0,a.eagerState=s,fa(s,i)){var l=t.interleaved;l===null?(a.next=a,Hm(t)):(a.next=l.next,l.next=a),t.interleaved=a;return}}catch{}finally{}r=Vk(e,t,a,n),r!==null&&(a=dn(),ua(r,e,n,a),hS(r,t,n))}}function fS(e){var t=e.alternate;return e===er||t!==null&&t===er}function dS(e,t){Fl=bf=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function hS(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Cm(e,r)}}var wf={readContext:Yn,useCallback:Kr,useContext:Kr,useEffect:Kr,useImperativeHandle:Kr,useInsertionEffect:Kr,useLayoutEffect:Kr,useMemo:Kr,useReducer:Kr,useRef:Kr,useState:Kr,useDebugValue:Kr,useDeferredValue:Kr,useTransition:Kr,useMutableSource:Kr,useSyncExternalStore:Kr,useId:Kr,unstable_isNewReconciler:!1},NA={readContext:Yn,useCallback:function(e,t){return ba().memoizedState=[e,t===void 0?null:t],e},useContext:Yn,useEffect:ux,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Zu(4194308,4,oS.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Zu(4194308,4,e,t)},useInsertionEffect:function(e,t){return Zu(4,2,e,t)},useMemo:function(e,t){var r=ba();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ba();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=_A.bind(null,er,e),[n.memoizedState,e]},useRef:function(e){var t=ba();return e={current:e},t.memoizedState=e},useState:cx,useDebugValue:ey,useDeferredValue:function(e){return ba().memoizedState=e},useTransition:function(){var e=cx(!1),t=e[0];return e=OA.bind(null,e[1]),ba().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=er,a=ba();if(Yt){if(r===void 0)throw Error(ae(407));r=r()}else{if(r=t(),Tr===null)throw Error(ae(349));mi&30||Zk(n,t,r)}a.memoizedState=r;var o={value:r,getSnapshot:t};return a.queue=o,ux(Jk.bind(null,n,o,e),[e]),n.flags|=2048,dc(9,Qk.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=ba(),t=Tr.identifierPrefix;if(Yt){var r=za,n=Fa;r=(n&~(1<<32-ca(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=uc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=jA++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},AA={readContext:Yn,useCallback:sS,useContext:Yn,useEffect:Jm,useImperativeHandle:iS,useInsertionEffect:nS,useLayoutEffect:aS,useMemo:lS,useReducer:ip,useRef:rS,useState:function(){return ip(fc)},useDebugValue:ey,useDeferredValue:function(e){var t=qn();return cS(t,jr.memoizedState,e)},useTransition:function(){var e=ip(fc)[0],t=qn().memoizedState;return[e,t]},useMutableSource:Yk,useSyncExternalStore:qk,useId:uS,unstable_isNewReconciler:!1},MA={readContext:Yn,useCallback:sS,useContext:Yn,useEffect:Jm,useImperativeHandle:iS,useInsertionEffect:nS,useLayoutEffect:aS,useMemo:lS,useReducer:sp,useRef:rS,useState:function(){return sp(fc)},useDebugValue:ey,useDeferredValue:function(e){var t=qn();return jr===null?t.memoizedState=e:cS(t,jr.memoizedState,e)},useTransition:function(){var e=sp(fc)[0],t=qn().memoizedState;return[e,t]},useMutableSource:Yk,useSyncExternalStore:qk,useId:uS,unstable_isNewReconciler:!1};function ra(e,t){if(e&&e.defaultProps){t=tr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function _0(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:tr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Bd={isMounted:function(e){return(e=e._reactInternals)?Pi(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=dn(),a=No(e),o=Ha(n,a);o.payload=t,r!=null&&(o.callback=r),t=_o(e,o,a),t!==null&&(ua(t,e,a,n),Yu(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=dn(),a=No(e),o=Ha(n,a);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=_o(e,o,a),t!==null&&(ua(t,e,a,n),Yu(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=dn(),n=No(e),a=Ha(r,n);a.tag=2,t!=null&&(a.callback=t),t=_o(e,a,n),t!==null&&(ua(t,e,n,r),Yu(t,e,n))}};function fx(e,t,r,n,a,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,i):t.prototype&&t.prototype.isPureReactComponent?!ac(r,n)||!ac(a,o):!0}function pS(e,t,r){var n=!1,a=Eo,o=t.contextType;return typeof o=="object"&&o!==null?o=Yn(o):(a=bn(t)?pi:tn.current,n=t.contextTypes,o=(n=n!=null)?hs(e,a):Eo),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Bd,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function dx(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Bd.enqueueReplaceState(t,t.state,null)}function P0(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Vm(e);var o=t.contextType;typeof o=="object"&&o!==null?a.context=Yn(o):(o=bn(t)?pi:tn.current,a.context=hs(e,o)),a.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(_0(e,t,o,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Bd.enqueueReplaceState(a,a.state,null),vf(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function ys(e,t){try{var r="",n=t;do r+=aN(n),n=n.return;while(n);var a=r}catch(o){a=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:a,digest:null}}function lp(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function N0(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var CA=typeof WeakMap=="function"?WeakMap:Map;function gS(e,t,r){r=Ha(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Sf||(Sf=!0,I0=n),N0(e,t)},r}function mS(e,t,r){r=Ha(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){N0(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){N0(e,t),typeof n!="function"&&(Po===null?Po=new Set([this]):Po.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function hx(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new CA;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=HA.bind(null,e,t,r),t.then(e,e))}function px(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function gx(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ha(-1,1),t.tag=2,_o(r,t,1))),r.lanes|=1),e)}var EA=no.ReactCurrentOwner,yn=!1;function cn(e,t,r,n){t.child=e===null?Hk(t,null,r,n):gs(t,e.child,r,n)}function mx(e,t,r,n,a){r=r.render;var o=t.ref;return ss(t,a),n=Zm(e,t,r,n,o,a),r=Qm(),e!==null&&!yn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ja(e,t,a)):(Yt&&r&&Bm(t),t.flags|=1,cn(e,t,n,a),t.child)}function yx(e,t,r,n,a){if(e===null){var o=r.type;return typeof o=="function"&&!ly(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,yS(e,t,o,n,a)):(e=tf(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&a)){var i=o.memoizedProps;if(r=r.compare,r=r!==null?r:ac,r(i,n)&&e.ref===t.ref)return Ja(e,t,a)}return t.flags|=1,e=Ao(o,n),e.ref=t.ref,e.return=t,t.child=e}function yS(e,t,r,n,a){if(e!==null){var o=e.memoizedProps;if(ac(o,n)&&e.ref===t.ref)if(yn=!1,t.pendingProps=n=o,(e.lanes&a)!==0)e.flags&131072&&(yn=!0);else return t.lanes=e.lanes,Ja(e,t,a)}return A0(e,t,r,n,a)}function vS(e,t,r){var n=t.pendingProps,a=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ut(Ji,An),An|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ut(Ji,An),An|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,Ut(Ji,An),An|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,Ut(Ji,An),An|=n;return cn(e,t,a,r),t.child}function xS(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function A0(e,t,r,n,a){var o=bn(r)?pi:tn.current;return o=hs(t,o),ss(t,a),r=Zm(e,t,r,n,o,a),n=Qm(),e!==null&&!yn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ja(e,t,a)):(Yt&&n&&Bm(t),t.flags|=1,cn(e,t,r,a),t.child)}function vx(e,t,r,n,a){if(bn(r)){var o=!0;hf(t)}else o=!1;if(ss(t,a),t.stateNode===null)Qu(e,t),pS(t,r,n),P0(t,r,n,a),n=!0;else if(e===null){var i=t.stateNode,s=t.memoizedProps;i.props=s;var l=i.context,c=r.contextType;typeof c=="object"&&c!==null?c=Yn(c):(c=bn(r)?pi:tn.current,c=hs(t,c));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(s!==n||l!==c)&&dx(t,i,n,c),fo=!1;var h=t.memoizedState;i.state=h,vf(t,n,i,a),l=t.memoizedState,s!==n||h!==l||xn.current||fo?(typeof u=="function"&&(_0(t,r,u,n),l=t.memoizedState),(s=fo||fx(t,r,s,n,h,l,c))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),i.props=n,i.state=l,i.context=c,n=s):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,Kk(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ra(t.type,s),i.props=c,f=t.pendingProps,h=i.context,l=r.contextType,typeof l=="object"&&l!==null?l=Yn(l):(l=bn(r)?pi:tn.current,l=hs(t,l));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(s!==f||h!==l)&&dx(t,i,n,l),fo=!1,h=t.memoizedState,i.state=h,vf(t,n,i,a);var m=t.memoizedState;s!==f||h!==m||xn.current||fo?(typeof p=="function"&&(_0(t,r,p,n),m=t.memoizedState),(c=fo||fx(t,r,c,n,h,m,l)||!1)?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,m,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,m,l)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),i.props=n,i.state=m,i.context=l,n=c):(typeof i.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return M0(e,t,r,n,o,a)}function M0(e,t,r,n,a,o){xS(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return a&&nx(t,r,!1),Ja(e,t,o);n=t.stateNode,EA.current=t;var s=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=gs(t,e.child,null,o),t.child=gs(t,null,s,o)):cn(e,t,s,o),t.memoizedState=n.state,a&&nx(t,r,!0),t.child}function bS(e){var t=e.stateNode;t.pendingContext?rx(e,t.pendingContext,t.pendingContext!==t.context):t.context&&rx(e,t.context,!1),Km(e,t.containerInfo)}function xx(e,t,r,n,a){return ps(),zm(a),t.flags|=256,cn(e,t,r,n),t.child}var C0={dehydrated:null,treeContext:null,retryLane:0};function E0(e){return{baseLanes:e,cachePool:null,transitions:null}}function wS(e,t,r){var n=t.pendingProps,a=Jt.current,o=!1,i=(t.flags&128)!==0,s;if((s=i)||(s=e!==null&&e.memoizedState===null?!1:(a&2)!==0),s?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Ut(Jt,a&1),e===null)return j0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,o?(n=t.mode,o=t.child,i={mode:"hidden",children:i},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Wd(i,n,0,null),e=ui(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=E0(r),t.memoizedState=C0,e):ty(t,i));if(a=e.memoizedState,a!==null&&(s=a.dehydrated,s!==null))return TA(e,t,i,n,s,a,r);if(o){o=n.fallback,i=t.mode,a=e.child,s=a.sibling;var l={mode:"hidden",children:n.children};return!(i&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Ao(a,l),n.subtreeFlags=a.subtreeFlags&14680064),s!==null?o=Ao(s,o):(o=ui(o,i,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,i=e.child.memoizedState,i=i===null?E0(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~r,t.memoizedState=C0,n}return o=e.child,e=o.sibling,n=Ao(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function ty(e,t){return t=Wd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ou(e,t,r,n){return n!==null&&zm(n),gs(t,e.child,null,r),e=ty(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function TA(e,t,r,n,a,o,i){if(r)return t.flags&256?(t.flags&=-257,n=lp(Error(ae(422))),Ou(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,a=t.mode,n=Wd({mode:"visible",children:n.children},a,0,null),o=ui(o,a,i,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&gs(t,e.child,null,i),t.child.memoizedState=E0(i),t.memoizedState=C0,o);if(!(t.mode&1))return Ou(e,t,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var s=n.dgst;return n=s,o=Error(ae(419)),n=lp(o,n,void 0),Ou(e,t,i,n)}if(s=(i&e.childLanes)!==0,yn||s){if(n=Tr,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==o.retryLane&&(o.retryLane=a,Qa(e,a),ua(n,e,a,-1))}return sy(),n=lp(Error(ae(421))),Ou(e,t,i,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=VA.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,En=Oo(a.nextSibling),Tn=t,Yt=!0,ia=null,e!==null&&(Wn[Un++]=Fa,Wn[Un++]=za,Wn[Un++]=gi,Fa=e.id,za=e.overflow,gi=t),t=ty(t,n.children),t.flags|=4096,t)}function bx(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),O0(e.return,t,r)}function cp(e,t,r,n,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=a)}function kS(e,t,r){var n=t.pendingProps,a=n.revealOrder,o=n.tail;if(cn(e,t,n.children,r),n=Jt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&bx(e,r,t);else if(e.tag===19)bx(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ut(Jt,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&xf(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),cp(t,!1,a,r,o);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&xf(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}cp(t,!0,r,null,o);break;case"together":cp(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ja(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),yi|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ae(153));if(t.child!==null){for(e=t.child,r=Ao(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ao(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function $A(e,t,r){switch(t.tag){case 3:bS(t),ps();break;case 5:Xk(t);break;case 1:bn(t.type)&&hf(t);break;case 4:Km(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Ut(mf,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Ut(Jt,Jt.current&1),t.flags|=128,null):r&t.child.childLanes?wS(e,t,r):(Ut(Jt,Jt.current&1),e=Ja(e,t,r),e!==null?e.sibling:null);Ut(Jt,Jt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return kS(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ut(Jt,Jt.current),n)break;return null;case 22:case 23:return t.lanes=0,vS(e,t,r)}return Ja(e,t,r)}var SS,T0,jS,OS;SS=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};T0=function(){};jS=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,ri(Oa.current);var o=null;switch(r){case"input":a=t0(e,a),n=t0(e,n),o=[];break;case"select":a=tr({},a,{value:void 0}),n=tr({},n,{value:void 0}),o=[];break;case"textarea":a=a0(e,a),n=a0(e,n),o=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=ff)}i0(r,n);var i;r=null;for(c in a)if(!n.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var s=a[c];for(i in s)s.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Zl.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in n){var l=n[c];if(s=a!=null?a[c]:void 0,n.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(i in s)!s.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in l)l.hasOwnProperty(i)&&s[i]!==l[i]&&(r||(r={}),r[i]=l[i])}else r||(o||(o=[]),o.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Zl.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ht("scroll",e),o||s===l||(o=[])):(o=o||[]).push(c,l))}r&&(o=o||[]).push("style",r);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};OS=function(e,t,r,n){r!==n&&(t.flags|=4)};function vl(e,t){if(!Yt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Xr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function DA(e,t,r){var n=t.pendingProps;switch(Fm(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xr(t),null;case 1:return bn(t.type)&&df(),Xr(t),null;case 3:return n=t.stateNode,ms(),Xt(xn),Xt(tn),Ym(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Su(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ia!==null&&(z0(ia),ia=null))),T0(e,t),Xr(t),null;case 5:Xm(t);var a=ri(cc.current);if(r=t.type,e!==null&&t.stateNode!=null)jS(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ae(166));return Xr(t),null}if(e=ri(Oa.current),Su(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[wa]=t,n[sc]=o,e=(t.mode&1)!==0,r){case"dialog":Ht("cancel",n),Ht("close",n);break;case"iframe":case"object":case"embed":Ht("load",n);break;case"video":case"audio":for(a=0;a<Tl.length;a++)Ht(Tl[a],n);break;case"source":Ht("error",n);break;case"img":case"image":case"link":Ht("error",n),Ht("load",n);break;case"details":Ht("toggle",n);break;case"input":Av(n,o),Ht("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Ht("invalid",n);break;case"textarea":Cv(n,o),Ht("invalid",n)}i0(r,o),a=null;for(var i in o)if(o.hasOwnProperty(i)){var s=o[i];i==="children"?typeof s=="string"?n.textContent!==s&&(o.suppressHydrationWarning!==!0&&ku(n.textContent,s,e),a=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&ku(n.textContent,s,e),a=["children",""+s]):Zl.hasOwnProperty(i)&&s!=null&&i==="onScroll"&&Ht("scroll",n)}switch(r){case"input":pu(n),Mv(n,o,!0);break;case"textarea":pu(n),Ev(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=ff)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=J2(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[wa]=t,e[sc]=n,SS(e,t,!1,!1),t.stateNode=e;e:{switch(i=s0(r,n),r){case"dialog":Ht("cancel",e),Ht("close",e),a=n;break;case"iframe":case"object":case"embed":Ht("load",e),a=n;break;case"video":case"audio":for(a=0;a<Tl.length;a++)Ht(Tl[a],e);a=n;break;case"source":Ht("error",e),a=n;break;case"img":case"image":case"link":Ht("error",e),Ht("load",e),a=n;break;case"details":Ht("toggle",e),a=n;break;case"input":Av(e,n),a=t0(e,n),Ht("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=tr({},n,{value:void 0}),Ht("invalid",e);break;case"textarea":Cv(e,n),a=a0(e,n),Ht("invalid",e);break;default:a=n}i0(r,a),s=a;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?rk(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ek(e,l)):o==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Ql(e,l):typeof l=="number"&&Ql(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Zl.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Ht("scroll",e):l!=null&&Om(e,o,l,i))}switch(r){case"input":pu(e),Mv(e,n,!1);break;case"textarea":pu(e),Ev(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Co(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?ns(e,!!n.multiple,o,!1):n.defaultValue!=null&&ns(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=ff)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Xr(t),null;case 6:if(e&&t.stateNode!=null)OS(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ae(166));if(r=ri(cc.current),ri(Oa.current),Su(t)){if(n=t.stateNode,r=t.memoizedProps,n[wa]=t,(o=n.nodeValue!==r)&&(e=Tn,e!==null))switch(e.tag){case 3:ku(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ku(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[wa]=t,t.stateNode=n}return Xr(t),null;case 13:if(Xt(Jt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Yt&&En!==null&&t.mode&1&&!(t.flags&128))Uk(),ps(),t.flags|=98560,o=!1;else if(o=Su(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(ae(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ae(317));o[wa]=t}else ps(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Xr(t),o=!1}else ia!==null&&(z0(ia),ia=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Jt.current&1?Or===0&&(Or=3):sy())),t.updateQueue!==null&&(t.flags|=4),Xr(t),null);case 4:return ms(),T0(e,t),e===null&&oc(t.stateNode.containerInfo),Xr(t),null;case 10:return Gm(t.type._context),Xr(t),null;case 17:return bn(t.type)&&df(),Xr(t),null;case 19:if(Xt(Jt),o=t.memoizedState,o===null)return Xr(t),null;if(n=(t.flags&128)!==0,i=o.rendering,i===null)if(n)vl(o,!1);else{if(Or!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=xf(e),i!==null){for(t.flags|=128,vl(o,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ut(Jt,Jt.current&1|2),t.child}e=e.sibling}o.tail!==null&&fr()>vs&&(t.flags|=128,n=!0,vl(o,!1),t.lanes=4194304)}else{if(!n)if(e=xf(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),vl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!Yt)return Xr(t),null}else 2*fr()-o.renderingStartTime>vs&&r!==1073741824&&(t.flags|=128,n=!0,vl(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(r=o.last,r!==null?r.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=fr(),t.sibling=null,r=Jt.current,Ut(Jt,n?r&1|2:r&1),t):(Xr(t),null);case 22:case 23:return iy(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?An&1073741824&&(Xr(t),t.subtreeFlags&6&&(t.flags|=8192)):Xr(t),null;case 24:return null;case 25:return null}throw Error(ae(156,t.tag))}function RA(e,t){switch(Fm(t),t.tag){case 1:return bn(t.type)&&df(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ms(),Xt(xn),Xt(tn),Ym(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Xm(t),null;case 13:if(Xt(Jt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ae(340));ps()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Xt(Jt),null;case 4:return ms(),null;case 10:return Gm(t.type._context),null;case 22:case 23:return iy(),null;case 24:return null;default:return null}}var _u=!1,Zr=!1,LA=typeof WeakSet=="function"?WeakSet:Set,pe=null;function Qi(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){or(e,t,n)}else r.current=null}function $0(e,t,r){try{r()}catch(n){or(e,t,n)}}var wx=!1;function IA(e,t){if(y0=lf,e=Mk(),Im(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var i=0,s=-1,l=-1,c=0,u=0,f=e,h=null;t:for(;;){for(var p;f!==r||a!==0&&f.nodeType!==3||(s=i+a),f!==o||n!==0&&f.nodeType!==3||(l=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++c===a&&(s=i),h===o&&++u===n&&(l=i),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=s===-1||l===-1?null:{start:s,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(v0={focusedElem:e,selectionRange:r},lf=!1,pe=t;pe!==null;)if(t=pe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,pe=e;else for(;pe!==null;){t=pe;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var v=m.memoizedProps,x=m.memoizedState,y=t.stateNode,g=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:ra(t.type,v),x);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ae(163))}}catch(S){or(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,pe=e;break}pe=t.return}return m=wx,wx=!1,m}function zl(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,o!==void 0&&$0(t,r,o)}a=a.next}while(a!==n)}}function Fd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function D0(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function _S(e){var t=e.alternate;t!==null&&(e.alternate=null,_S(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[wa],delete t[sc],delete t[w0],delete t[bA],delete t[wA])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function PS(e){return e.tag===5||e.tag===3||e.tag===4}function kx(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||PS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function R0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ff));else if(n!==4&&(e=e.child,e!==null))for(R0(e,t,r),e=e.sibling;e!==null;)R0(e,t,r),e=e.sibling}function L0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(L0(e,t,r),e=e.sibling;e!==null;)L0(e,t,r),e=e.sibling}var Br=null,na=!1;function lo(e,t,r){for(r=r.child;r!==null;)NS(e,t,r),r=r.sibling}function NS(e,t,r){if(ja&&typeof ja.onCommitFiberUnmount=="function")try{ja.onCommitFiberUnmount(Ed,r)}catch{}switch(r.tag){case 5:Zr||Qi(r,t);case 6:var n=Br,a=na;Br=null,lo(e,t,r),Br=n,na=a,Br!==null&&(na?(e=Br,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Br.removeChild(r.stateNode));break;case 18:Br!==null&&(na?(e=Br,r=r.stateNode,e.nodeType===8?rp(e.parentNode,r):e.nodeType===1&&rp(e,r),rc(e)):rp(Br,r.stateNode));break;case 4:n=Br,a=na,Br=r.stateNode.containerInfo,na=!0,lo(e,t,r),Br=n,na=a;break;case 0:case 11:case 14:case 15:if(!Zr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var o=a,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&$0(r,t,i),a=a.next}while(a!==n)}lo(e,t,r);break;case 1:if(!Zr&&(Qi(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){or(r,t,s)}lo(e,t,r);break;case 21:lo(e,t,r);break;case 22:r.mode&1?(Zr=(n=Zr)||r.memoizedState!==null,lo(e,t,r),Zr=n):lo(e,t,r);break;default:lo(e,t,r)}}function Sx(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new LA),t.forEach(function(n){var a=KA.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function ea(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var o=e,i=t,s=i;e:for(;s!==null;){switch(s.tag){case 5:Br=s.stateNode,na=!1;break e;case 3:Br=s.stateNode.containerInfo,na=!0;break e;case 4:Br=s.stateNode.containerInfo,na=!0;break e}s=s.return}if(Br===null)throw Error(ae(160));NS(o,i,a),Br=null,na=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(c){or(a,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)AS(t,e),t=t.sibling}function AS(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ea(t,e),xa(e),n&4){try{zl(3,e,e.return),Fd(3,e)}catch(v){or(e,e.return,v)}try{zl(5,e,e.return)}catch(v){or(e,e.return,v)}}break;case 1:ea(t,e),xa(e),n&512&&r!==null&&Qi(r,r.return);break;case 5:if(ea(t,e),xa(e),n&512&&r!==null&&Qi(r,r.return),e.flags&32){var a=e.stateNode;try{Ql(a,"")}catch(v){or(e,e.return,v)}}if(n&4&&(a=e.stateNode,a!=null)){var o=e.memoizedProps,i=r!==null?r.memoizedProps:o,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&Z2(a,o),s0(s,i);var c=s0(s,o);for(i=0;i<l.length;i+=2){var u=l[i],f=l[i+1];u==="style"?rk(a,f):u==="dangerouslySetInnerHTML"?ek(a,f):u==="children"?Ql(a,f):Om(a,u,f,c)}switch(s){case"input":r0(a,o);break;case"textarea":Q2(a,o);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?ns(a,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?ns(a,!!o.multiple,o.defaultValue,!0):ns(a,!!o.multiple,o.multiple?[]:"",!1))}a[sc]=o}catch(v){or(e,e.return,v)}}break;case 6:if(ea(t,e),xa(e),n&4){if(e.stateNode===null)throw Error(ae(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(v){or(e,e.return,v)}}break;case 3:if(ea(t,e),xa(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{rc(t.containerInfo)}catch(v){or(e,e.return,v)}break;case 4:ea(t,e),xa(e);break;case 13:ea(t,e),xa(e),a=e.child,a.flags&8192&&(o=a.memoizedState!==null,a.stateNode.isHidden=o,!o||a.alternate!==null&&a.alternate.memoizedState!==null||(ay=fr())),n&4&&Sx(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(Zr=(c=Zr)||u,ea(t,e),Zr=c):ea(t,e),xa(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(pe=e,u=e.child;u!==null;){for(f=pe=u;pe!==null;){switch(h=pe,p=h.child,h.tag){case 0:case 11:case 14:case 15:zl(4,h,h.return);break;case 1:Qi(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(v){or(n,r,v)}}break;case 5:Qi(h,h.return);break;case 22:if(h.memoizedState!==null){Ox(f);continue}}p!==null?(p.return=h,pe=p):Ox(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{a=f.stateNode,c?(o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=f.stateNode,l=f.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=tk("display",i))}catch(v){or(e,e.return,v)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(v){or(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ea(t,e),xa(e),n&4&&Sx(e);break;case 21:break;default:ea(t,e),xa(e)}}function xa(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(PS(r)){var n=r;break e}r=r.return}throw Error(ae(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Ql(a,""),n.flags&=-33);var o=kx(e);L0(e,o,a);break;case 3:case 4:var i=n.stateNode.containerInfo,s=kx(e);R0(e,s,i);break;default:throw Error(ae(161))}}catch(l){or(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function BA(e,t,r){pe=e,MS(e)}function MS(e,t,r){for(var n=(e.mode&1)!==0;pe!==null;){var a=pe,o=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||_u;if(!i){var s=a.alternate,l=s!==null&&s.memoizedState!==null||Zr;s=_u;var c=Zr;if(_u=i,(Zr=l)&&!c)for(pe=a;pe!==null;)i=pe,l=i.child,i.tag===22&&i.memoizedState!==null?_x(a):l!==null?(l.return=i,pe=l):_x(a);for(;o!==null;)pe=o,MS(o),o=o.sibling;pe=a,_u=s,Zr=c}jx(e)}else a.subtreeFlags&8772&&o!==null?(o.return=a,pe=o):jx(e)}}function jx(e){for(;pe!==null;){var t=pe;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Zr||Fd(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Zr)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:ra(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&lx(t,o,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}lx(t,i,r)}break;case 5:var s=t.stateNode;if(r===null&&t.flags&4){r=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&rc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ae(163))}Zr||t.flags&512&&D0(t)}catch(h){or(t,t.return,h)}}if(t===e){pe=null;break}if(r=t.sibling,r!==null){r.return=t.return,pe=r;break}pe=t.return}}function Ox(e){for(;pe!==null;){var t=pe;if(t===e){pe=null;break}var r=t.sibling;if(r!==null){r.return=t.return,pe=r;break}pe=t.return}}function _x(e){for(;pe!==null;){var t=pe;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Fd(4,t)}catch(l){or(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(l){or(t,a,l)}}var o=t.return;try{D0(t)}catch(l){or(t,o,l)}break;case 5:var i=t.return;try{D0(t)}catch(l){or(t,i,l)}}}catch(l){or(t,t.return,l)}if(t===e){pe=null;break}var s=t.sibling;if(s!==null){s.return=t.return,pe=s;break}pe=t.return}}var FA=Math.ceil,kf=no.ReactCurrentDispatcher,ry=no.ReactCurrentOwner,Kn=no.ReactCurrentBatchConfig,ht=0,Tr=null,gr=null,zr=0,An=0,Ji=$o(0),Or=0,hc=null,yi=0,zd=0,ny=0,Wl=null,mn=null,ay=0,vs=1/0,Ia=null,Sf=!1,I0=null,Po=null,Pu=!1,vo=null,jf=0,Ul=0,B0=null,Ju=-1,ef=0;function dn(){return ht&6?fr():Ju!==-1?Ju:Ju=fr()}function No(e){return e.mode&1?ht&2&&zr!==0?zr&-zr:SA.transition!==null?(ef===0&&(ef=pk()),ef):(e=Ot,e!==0||(e=window.event,e=e===void 0?16:wk(e.type)),e):1}function ua(e,t,r,n){if(50<Ul)throw Ul=0,B0=null,Error(ae(185));Zc(e,r,n),(!(ht&2)||e!==Tr)&&(e===Tr&&(!(ht&2)&&(zd|=r),Or===4&&go(e,zr)),wn(e,n),r===1&&ht===0&&!(t.mode&1)&&(vs=fr()+500,Ld&&Do()))}function wn(e,t){var r=e.callbackNode;SN(e,t);var n=sf(e,e===Tr?zr:0);if(n===0)r!==null&&Dv(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Dv(r),t===1)e.tag===0?kA(Px.bind(null,e)):Fk(Px.bind(null,e)),vA(function(){!(ht&6)&&Do()}),r=null;else{switch(gk(n)){case 1:r=Mm;break;case 4:r=dk;break;case 16:r=of;break;case 536870912:r=hk;break;default:r=of}r=IS(r,CS.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function CS(e,t){if(Ju=-1,ef=0,ht&6)throw Error(ae(327));var r=e.callbackNode;if(ls()&&e.callbackNode!==r)return null;var n=sf(e,e===Tr?zr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Of(e,n);else{t=n;var a=ht;ht|=2;var o=TS();(Tr!==e||zr!==t)&&(Ia=null,vs=fr()+500,ci(e,t));do try{UA();break}catch(s){ES(e,s)}while(!0);Um(),kf.current=o,ht=a,gr!==null?t=0:(Tr=null,zr=0,t=Or)}if(t!==0){if(t===2&&(a=d0(e),a!==0&&(n=a,t=F0(e,a))),t===1)throw r=hc,ci(e,0),go(e,n),wn(e,fr()),r;if(t===6)go(e,n);else{if(a=e.current.alternate,!(n&30)&&!zA(a)&&(t=Of(e,n),t===2&&(o=d0(e),o!==0&&(n=o,t=F0(e,o))),t===1))throw r=hc,ci(e,0),go(e,n),wn(e,fr()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(ae(345));case 2:qo(e,mn,Ia);break;case 3:if(go(e,n),(n&130023424)===n&&(t=ay+500-fr(),10<t)){if(sf(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){dn(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=b0(qo.bind(null,e,mn,Ia),t);break}qo(e,mn,Ia);break;case 4:if(go(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var i=31-ca(n);o=1<<i,i=t[i],i>a&&(a=i),n&=~o}if(n=a,n=fr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*FA(n/1960))-n,10<n){e.timeoutHandle=b0(qo.bind(null,e,mn,Ia),n);break}qo(e,mn,Ia);break;case 5:qo(e,mn,Ia);break;default:throw Error(ae(329))}}}return wn(e,fr()),e.callbackNode===r?CS.bind(null,e):null}function F0(e,t){var r=Wl;return e.current.memoizedState.isDehydrated&&(ci(e,t).flags|=256),e=Of(e,t),e!==2&&(t=mn,mn=r,t!==null&&z0(t)),e}function z0(e){mn===null?mn=e:mn.push.apply(mn,e)}function zA(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],o=a.getSnapshot;a=a.value;try{if(!fa(o(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function go(e,t){for(t&=~ny,t&=~zd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ca(t),n=1<<r;e[r]=-1,t&=~n}}function Px(e){if(ht&6)throw Error(ae(327));ls();var t=sf(e,0);if(!(t&1))return wn(e,fr()),null;var r=Of(e,t);if(e.tag!==0&&r===2){var n=d0(e);n!==0&&(t=n,r=F0(e,n))}if(r===1)throw r=hc,ci(e,0),go(e,t),wn(e,fr()),r;if(r===6)throw Error(ae(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,qo(e,mn,Ia),wn(e,fr()),null}function oy(e,t){var r=ht;ht|=1;try{return e(t)}finally{ht=r,ht===0&&(vs=fr()+500,Ld&&Do())}}function vi(e){vo!==null&&vo.tag===0&&!(ht&6)&&ls();var t=ht;ht|=1;var r=Kn.transition,n=Ot;try{if(Kn.transition=null,Ot=1,e)return e()}finally{Ot=n,Kn.transition=r,ht=t,!(ht&6)&&Do()}}function iy(){An=Ji.current,Xt(Ji)}function ci(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,yA(r)),gr!==null)for(r=gr.return;r!==null;){var n=r;switch(Fm(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&df();break;case 3:ms(),Xt(xn),Xt(tn),Ym();break;case 5:Xm(n);break;case 4:ms();break;case 13:Xt(Jt);break;case 19:Xt(Jt);break;case 10:Gm(n.type._context);break;case 22:case 23:iy()}r=r.return}if(Tr=e,gr=e=Ao(e.current,null),zr=An=t,Or=0,hc=null,ny=zd=yi=0,mn=Wl=null,ti!==null){for(t=0;t<ti.length;t++)if(r=ti[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,o=r.pending;if(o!==null){var i=o.next;o.next=a,n.next=i}r.pending=n}ti=null}return e}function ES(e,t){do{var r=gr;try{if(Um(),qu.current=wf,bf){for(var n=er.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}bf=!1}if(mi=0,Er=jr=er=null,Fl=!1,uc=0,ry.current=null,r===null||r.return===null){Or=1,hc=t,gr=null;break}e:{var o=e,i=r.return,s=r,l=t;if(t=zr,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=s,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=px(i);if(p!==null){p.flags&=-257,gx(p,i,s,o,t),p.mode&1&&hx(o,c,t),t=p,l=c;var m=t.updateQueue;if(m===null){var v=new Set;v.add(l),t.updateQueue=v}else m.add(l);break e}else{if(!(t&1)){hx(o,c,t),sy();break e}l=Error(ae(426))}}else if(Yt&&s.mode&1){var x=px(i);if(x!==null){!(x.flags&65536)&&(x.flags|=256),gx(x,i,s,o,t),zm(ys(l,s));break e}}o=l=ys(l,s),Or!==4&&(Or=2),Wl===null?Wl=[o]:Wl.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var y=gS(o,l,t);sx(o,y);break e;case 1:s=l;var g=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Po===null||!Po.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t;var S=mS(o,s,t);sx(o,S);break e}}o=o.return}while(o!==null)}DS(r)}catch(w){t=w,gr===r&&r!==null&&(gr=r=r.return);continue}break}while(!0)}function TS(){var e=kf.current;return kf.current=wf,e===null?wf:e}function sy(){(Or===0||Or===3||Or===2)&&(Or=4),Tr===null||!(yi&268435455)&&!(zd&268435455)||go(Tr,zr)}function Of(e,t){var r=ht;ht|=2;var n=TS();(Tr!==e||zr!==t)&&(Ia=null,ci(e,t));do try{WA();break}catch(a){ES(e,a)}while(!0);if(Um(),ht=r,kf.current=n,gr!==null)throw Error(ae(261));return Tr=null,zr=0,Or}function WA(){for(;gr!==null;)$S(gr)}function UA(){for(;gr!==null&&!pN();)$S(gr)}function $S(e){var t=LS(e.alternate,e,An);e.memoizedProps=e.pendingProps,t===null?DS(e):gr=t,ry.current=null}function DS(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=RA(r,t),r!==null){r.flags&=32767,gr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Or=6,gr=null;return}}else if(r=DA(r,t,An),r!==null){gr=r;return}if(t=t.sibling,t!==null){gr=t;return}gr=t=e}while(t!==null);Or===0&&(Or=5)}function qo(e,t,r){var n=Ot,a=Kn.transition;try{Kn.transition=null,Ot=1,GA(e,t,r,n)}finally{Kn.transition=a,Ot=n}return null}function GA(e,t,r,n){do ls();while(vo!==null);if(ht&6)throw Error(ae(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ae(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(jN(e,o),e===Tr&&(gr=Tr=null,zr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Pu||(Pu=!0,IS(of,function(){return ls(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=Kn.transition,Kn.transition=null;var i=Ot;Ot=1;var s=ht;ht|=4,ry.current=null,IA(e,r),AS(r,e),uA(v0),lf=!!y0,v0=y0=null,e.current=r,BA(r),gN(),ht=s,Ot=i,Kn.transition=o}else e.current=r;if(Pu&&(Pu=!1,vo=e,jf=a),o=e.pendingLanes,o===0&&(Po=null),vN(r.stateNode),wn(e,fr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Sf)throw Sf=!1,e=I0,I0=null,e;return jf&1&&e.tag!==0&&ls(),o=e.pendingLanes,o&1?e===B0?Ul++:(Ul=0,B0=e):Ul=0,Do(),null}function ls(){if(vo!==null){var e=gk(jf),t=Kn.transition,r=Ot;try{if(Kn.transition=null,Ot=16>e?16:e,vo===null)var n=!1;else{if(e=vo,vo=null,jf=0,ht&6)throw Error(ae(331));var a=ht;for(ht|=4,pe=e.current;pe!==null;){var o=pe,i=o.child;if(pe.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(pe=c;pe!==null;){var u=pe;switch(u.tag){case 0:case 11:case 15:zl(8,u,o)}var f=u.child;if(f!==null)f.return=u,pe=f;else for(;pe!==null;){u=pe;var h=u.sibling,p=u.return;if(_S(u),u===c){pe=null;break}if(h!==null){h.return=p,pe=h;break}pe=p}}}var m=o.alternate;if(m!==null){var v=m.child;if(v!==null){m.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}pe=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,pe=i;else e:for(;pe!==null;){if(o=pe,o.flags&2048)switch(o.tag){case 0:case 11:case 15:zl(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,pe=y;break e}pe=o.return}}var g=e.current;for(pe=g;pe!==null;){i=pe;var b=i.child;if(i.subtreeFlags&2064&&b!==null)b.return=i,pe=b;else e:for(i=g;pe!==null;){if(s=pe,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Fd(9,s)}}catch(w){or(s,s.return,w)}if(s===i){pe=null;break e}var S=s.sibling;if(S!==null){S.return=s.return,pe=S;break e}pe=s.return}}if(ht=a,Do(),ja&&typeof ja.onPostCommitFiberRoot=="function")try{ja.onPostCommitFiberRoot(Ed,e)}catch{}n=!0}return n}finally{Ot=r,Kn.transition=t}}return!1}function Nx(e,t,r){t=ys(r,t),t=gS(e,t,1),e=_o(e,t,1),t=dn(),e!==null&&(Zc(e,1,t),wn(e,t))}function or(e,t,r){if(e.tag===3)Nx(e,e,r);else for(;t!==null;){if(t.tag===3){Nx(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Po===null||!Po.has(n))){e=ys(r,e),e=mS(t,e,1),t=_o(t,e,1),e=dn(),t!==null&&(Zc(t,1,e),wn(t,e));break}}t=t.return}}function HA(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=dn(),e.pingedLanes|=e.suspendedLanes&r,Tr===e&&(zr&r)===r&&(Or===4||Or===3&&(zr&130023424)===zr&&500>fr()-ay?ci(e,0):ny|=r),wn(e,t)}function RS(e,t){t===0&&(e.mode&1?(t=yu,yu<<=1,!(yu&130023424)&&(yu=4194304)):t=1);var r=dn();e=Qa(e,t),e!==null&&(Zc(e,t,r),wn(e,r))}function VA(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),RS(e,r)}function KA(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ae(314))}n!==null&&n.delete(t),RS(e,r)}var LS;LS=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||xn.current)yn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return yn=!1,$A(e,t,r);yn=!!(e.flags&131072)}else yn=!1,Yt&&t.flags&1048576&&zk(t,gf,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Qu(e,t),e=t.pendingProps;var a=hs(t,tn.current);ss(t,r),a=Zm(null,t,n,e,a,r);var o=Qm();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,bn(n)?(o=!0,hf(t)):o=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Vm(t),a.updater=Bd,t.stateNode=a,a._reactInternals=t,P0(t,n,e,r),t=M0(null,t,n,!0,o,r)):(t.tag=0,Yt&&o&&Bm(t),cn(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Qu(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=YA(n),e=ra(n,e),a){case 0:t=A0(null,t,n,e,r);break e;case 1:t=vx(null,t,n,e,r);break e;case 11:t=mx(null,t,n,e,r);break e;case 14:t=yx(null,t,n,ra(n.type,e),r);break e}throw Error(ae(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ra(n,a),A0(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ra(n,a),vx(e,t,n,a,r);case 3:e:{if(bS(t),e===null)throw Error(ae(387));n=t.pendingProps,o=t.memoizedState,a=o.element,Kk(e,t),vf(t,n,null,r);var i=t.memoizedState;if(n=i.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){a=ys(Error(ae(423)),t),t=xx(e,t,n,r,a);break e}else if(n!==a){a=ys(Error(ae(424)),t),t=xx(e,t,n,r,a);break e}else for(En=Oo(t.stateNode.containerInfo.firstChild),Tn=t,Yt=!0,ia=null,r=Hk(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ps(),n===a){t=Ja(e,t,r);break e}cn(e,t,n,r)}t=t.child}return t;case 5:return Xk(t),e===null&&j0(t),n=t.type,a=t.pendingProps,o=e!==null?e.memoizedProps:null,i=a.children,x0(n,a)?i=null:o!==null&&x0(n,o)&&(t.flags|=32),xS(e,t),cn(e,t,i,r),t.child;case 6:return e===null&&j0(t),null;case 13:return wS(e,t,r);case 4:return Km(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=gs(t,null,n,r):cn(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ra(n,a),mx(e,t,n,a,r);case 7:return cn(e,t,t.pendingProps,r),t.child;case 8:return cn(e,t,t.pendingProps.children,r),t.child;case 12:return cn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,o=t.memoizedProps,i=a.value,Ut(mf,n._currentValue),n._currentValue=i,o!==null)if(fa(o.value,i)){if(o.children===a.children&&!xn.current){t=Ja(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var s=o.dependencies;if(s!==null){i=o.child;for(var l=s.firstContext;l!==null;){if(l.context===n){if(o.tag===1){l=Ha(-1,r&-r),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),O0(o.return,r,t),s.lanes|=r;break}l=l.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(ae(341));i.lanes|=r,s=i.alternate,s!==null&&(s.lanes|=r),O0(i,r,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}cn(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,ss(t,r),a=Yn(a),n=n(a),t.flags|=1,cn(e,t,n,r),t.child;case 14:return n=t.type,a=ra(n,t.pendingProps),a=ra(n.type,a),yx(e,t,n,a,r);case 15:return yS(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ra(n,a),Qu(e,t),t.tag=1,bn(n)?(e=!0,hf(t)):e=!1,ss(t,r),pS(t,n,a),P0(t,n,a,r),M0(null,t,n,!0,e,r);case 19:return kS(e,t,r);case 22:return vS(e,t,r)}throw Error(ae(156,t.tag))};function IS(e,t){return fk(e,t)}function XA(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gn(e,t,r,n){return new XA(e,t,r,n)}function ly(e){return e=e.prototype,!(!e||!e.isReactComponent)}function YA(e){if(typeof e=="function")return ly(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Pm)return 11;if(e===Nm)return 14}return 2}function Ao(e,t){var r=e.alternate;return r===null?(r=Gn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function tf(e,t,r,n,a,o){var i=2;if(n=e,typeof e=="function")ly(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Ui:return ui(r.children,a,o,t);case _m:i=8,a|=8;break;case Zp:return e=Gn(12,r,t,a|2),e.elementType=Zp,e.lanes=o,e;case Qp:return e=Gn(13,r,t,a),e.elementType=Qp,e.lanes=o,e;case Jp:return e=Gn(19,r,t,a),e.elementType=Jp,e.lanes=o,e;case X2:return Wd(r,a,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case V2:i=10;break e;case K2:i=9;break e;case Pm:i=11;break e;case Nm:i=14;break e;case uo:i=16,n=null;break e}throw Error(ae(130,e==null?e:typeof e,""))}return t=Gn(i,r,t,a),t.elementType=e,t.type=n,t.lanes=o,t}function ui(e,t,r,n){return e=Gn(7,e,n,t),e.lanes=r,e}function Wd(e,t,r,n){return e=Gn(22,e,n,t),e.elementType=X2,e.lanes=r,e.stateNode={isHidden:!1},e}function up(e,t,r){return e=Gn(6,e,null,t),e.lanes=r,e}function fp(e,t,r){return t=Gn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function qA(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hh(0),this.expirationTimes=Hh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hh(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function cy(e,t,r,n,a,o,i,s,l){return e=new qA(e,t,r,s,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Gn(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vm(o),e}function ZA(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wi,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function BS(e){if(!e)return Eo;e=e._reactInternals;e:{if(Pi(e)!==e||e.tag!==1)throw Error(ae(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(bn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ae(171))}if(e.tag===1){var r=e.type;if(bn(r))return Bk(e,r,t)}return t}function FS(e,t,r,n,a,o,i,s,l){return e=cy(r,n,!0,e,a,o,i,s,l),e.context=BS(null),r=e.current,n=dn(),a=No(r),o=Ha(n,a),o.callback=t??null,_o(r,o,a),e.current.lanes=a,Zc(e,a,n),wn(e,n),e}function Ud(e,t,r,n){var a=t.current,o=dn(),i=No(a);return r=BS(r),t.context===null?t.context=r:t.pendingContext=r,t=Ha(o,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=_o(a,t,i),e!==null&&(ua(e,a,i,o),Yu(e,a,i)),i}function _f(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ax(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function uy(e,t){Ax(e,t),(e=e.alternate)&&Ax(e,t)}function QA(){return null}var zS=typeof reportError=="function"?reportError:function(e){console.error(e)};function fy(e){this._internalRoot=e}Gd.prototype.render=fy.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ae(409));Ud(e,t,null,null)};Gd.prototype.unmount=fy.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;vi(function(){Ud(null,e,null,null)}),t[Za]=null}};function Gd(e){this._internalRoot=e}Gd.prototype.unstable_scheduleHydration=function(e){if(e){var t=vk();e={blockedOn:null,target:e,priority:t};for(var r=0;r<po.length&&t!==0&&t<po[r].priority;r++);po.splice(r,0,e),r===0&&bk(e)}};function dy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Hd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Mx(){}function JA(e,t,r,n,a){if(a){if(typeof n=="function"){var o=n;n=function(){var c=_f(i);o.call(c)}}var i=FS(t,n,e,0,null,!1,!1,"",Mx);return e._reactRootContainer=i,e[Za]=i.current,oc(e.nodeType===8?e.parentNode:e),vi(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var s=n;n=function(){var c=_f(l);s.call(c)}}var l=cy(e,0,!1,null,null,!1,!1,"",Mx);return e._reactRootContainer=l,e[Za]=l.current,oc(e.nodeType===8?e.parentNode:e),vi(function(){Ud(t,l,r,n)}),l}function Vd(e,t,r,n,a){var o=r._reactRootContainer;if(o){var i=o;if(typeof a=="function"){var s=a;a=function(){var l=_f(i);s.call(l)}}Ud(t,i,e,a)}else i=JA(r,t,e,a,n);return _f(i)}mk=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=El(t.pendingLanes);r!==0&&(Cm(t,r|1),wn(t,fr()),!(ht&6)&&(vs=fr()+500,Do()))}break;case 13:vi(function(){var n=Qa(e,1);if(n!==null){var a=dn();ua(n,e,1,a)}}),uy(e,1)}};Em=function(e){if(e.tag===13){var t=Qa(e,134217728);if(t!==null){var r=dn();ua(t,e,134217728,r)}uy(e,134217728)}};yk=function(e){if(e.tag===13){var t=No(e),r=Qa(e,t);if(r!==null){var n=dn();ua(r,e,t,n)}uy(e,t)}};vk=function(){return Ot};xk=function(e,t){var r=Ot;try{return Ot=e,t()}finally{Ot=r}};c0=function(e,t,r){switch(t){case"input":if(r0(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Rd(n);if(!a)throw Error(ae(90));q2(n),r0(n,a)}}}break;case"textarea":Q2(e,r);break;case"select":t=r.value,t!=null&&ns(e,!!r.multiple,t,!1)}};ok=oy;ik=vi;var eM={usingClientEntryPoint:!1,Events:[Jc,Ki,Rd,nk,ak,oy]},xl={findFiberByHostInstance:ei,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tM={bundleType:xl.bundleType,version:xl.version,rendererPackageName:xl.rendererPackageName,rendererConfig:xl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:no.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ck(e),e===null?null:e.stateNode},findFiberByHostInstance:xl.findFiberByHostInstance||QA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nu.isDisabled&&Nu.supportsFiber)try{Ed=Nu.inject(tM),ja=Nu}catch{}}Dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eM;Dn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!dy(t))throw Error(ae(200));return ZA(e,t,null,r)};Dn.createRoot=function(e,t){if(!dy(e))throw Error(ae(299));var r=!1,n="",a=zS;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=cy(e,1,!1,null,null,r,!1,n,a),e[Za]=t.current,oc(e.nodeType===8?e.parentNode:e),new fy(t)};Dn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ae(188)):(e=Object.keys(e).join(","),Error(ae(268,e)));return e=ck(t),e=e===null?null:e.stateNode,e};Dn.flushSync=function(e){return vi(e)};Dn.hydrate=function(e,t,r){if(!Hd(t))throw Error(ae(200));return Vd(null,e,t,!0,r)};Dn.hydrateRoot=function(e,t,r){if(!dy(e))throw Error(ae(405));var n=r!=null&&r.hydratedSources||null,a=!1,o="",i=zS;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=FS(t,null,e,1,r??null,a,!1,o,i),e[Za]=t.current,oc(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Gd(t)};Dn.render=function(e,t,r){if(!Hd(t))throw Error(ae(200));return Vd(null,e,t,!1,r)};Dn.unmountComponentAtNode=function(e){if(!Hd(e))throw Error(ae(40));return e._reactRootContainer?(vi(function(){Vd(null,null,e,!1,function(){e._reactRootContainer=null,e[Za]=null})}),!0):!1};Dn.unstable_batchedUpdates=oy;Dn.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Hd(r))throw Error(ae(200));if(e==null||e._reactInternals===void 0)throw Error(ae(38));return Vd(e,t,r,!1,n)};Dn.version="18.3.1-next-f1338f8080-20240426";function WS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(WS)}catch(e){console.error(e)}}WS(),W2.exports=Dn;var rM=W2.exports,Cx=rM;Yp.createRoot=Cx.createRoot,Yp.hydrateRoot=Cx.hydrateRoot;const Pf=({isOpen:e,onClose:t,onConfirm:r,title:n,message:a,confirmText:o="I know the risk and insist to continue",cancelText:i="Cancel"})=>e?d.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:d.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-md rounded-2xl shadow-2xl border border-amber-500/30 overflow-hidden transform transition-all scale-100",children:[d.jsxs("div",{className:"bg-amber-500/10 p-6 flex flex-col items-center justify-center border-b border-amber-500/20",children:[d.jsx("div",{className:"w-16 h-16 bg-amber-100 dark:bg-amber-900/30 rounded-full flex items-center justify-center mb-4",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-amber-600 dark:text-amber-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),d.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white text-center",children:n})]}),d.jsx("div",{className:"p-6",children:d.jsx("div",{className:"text-gray-600 dark:text-slate-300 text-center text-sm leading-relaxed",children:a})}),d.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-800/50 flex gap-3 justify-end border-t border-gray-200 dark:border-slate-800",children:[d.jsx("button",{onClick:t,className:"px-4 py-2 bg-white hover:bg-gray-100 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-700 dark:text-slate-200 font-semibold rounded-lg border border-gray-300 dark:border-slate-600 transition-colors text-sm",children:i}),d.jsx("button",{onClick:r,className:"px-4 py-2 bg-amber-600 hover:bg-amber-700 text-white font-bold rounded-lg shadow-lg shadow-amber-500/20 transition-all active:scale-95 text-sm",children:o})]})]})}):null,nM=({onFileSelected:e,onGenerateFakeDng:t,fileName:r,hasGeneratedData:n,viewMode:a,onSetViewMode:o,patternPeriod:i,onPatternPeriodChange:s,fillFactor:l,onFillFactorChange:c,patternPhase:u,onPatternPhaseChange:f,showPatternControls:h,onOpenAbout:p,onShowExif:m,bridgeStatus:v,onBridgeClick:x,isDrLabOpen:y,onToggleDrLab:g,isFftLabOpen:b,onToggleFftLab:S,onGenerateTestPic:w,onPTCFilesSelected:k,onDownloadDng:j,isThreePlane:_,onOpenDatabase:P})=>{const A=O.useRef(null),N=O.useRef(null),[E,F]=O.useState(!1),[I,T]=O.useState(!1),[R,W]=O.useState(!1),[L,D]=O.useState(!1),[B,J]=O.useState("direct"),q=O.useRef(null),H=O.useRef(null);O.useEffect(()=>{const G=ce=>{q.current&&!q.current.contains(ce.target)&&W(!1),H.current&&!H.current.contains(ce.target)&&D(!1)};return document.addEventListener("mousedown",G),()=>document.removeEventListener("mousedown",G)},[]);const U=G=>{var ce;W(!1),G==="direct"?(J("direct"),F(!0)):!v.isConnected||!v.hasDngConverter?T(!0):(J("convert"),(ce=A.current)==null||ce.click())},ue=()=>{var G;F(!1),(G=A.current)==null||G.click()},fe=G=>{var me;const ce=(me=G.target.files)==null?void 0:me[0];ce&&e(ce,B),G.target.value=""},be=G=>{G.target.files&&G.target.files.length>0&&k(G.target.files),G.target.value=""},ve=r==="pattern_test.dng"||(r==null?void 0:r.startsWith("Diff_"));return d.jsxs("header",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 mb-4 flex-shrink-0 relative z-50",children:[d.jsx(Pf,{isOpen:E,onClose:()=>F(!1),onConfirm:ue,title:"Format Compatibility Warning",confirmText:"Continue",message:d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsx("p",{className:"font-bold text-gray-800 dark:text-gray-200 text-base",children:"Adobe DNG ConverterDNG"}),d.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Only 4-channel DNG files output by Adobe DNG Converter are fully guaranteed to be supported."}),d.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 rounded-lg border border-gray-200 dark:border-slate-700",children:[d.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-500 mb-1",children:"Download Adobe DNG Converter:"}),d.jsx("a",{href:"https://helpx.adobe.com/camera-raw/using/adobe-dng-converter.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline text-xs break-all",children:"https://helpx.adobe.com/camera-raw/using/adobe-dng-converter.html"})]})]})}),d.jsx(Pf,{isOpen:I,onClose:()=>T(!1),onConfirm:()=>T(!1),title:"DNG Converter Missing",confirmText:"OK",cancelText:"Cancel",message:d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsx("p",{className:"font-bold text-red-600 dark:text-red-400 text-base",children:"JiangBridge Offline or Adobe DNG Converter not installed (you may have to restart your device after installing ADC to use it here)"}),d.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"To use the conversion feature, you must run JiangBridge locally and have Adobe DNG Converter installed on your system."}),d.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 rounded-lg border border-gray-200 dark:border-slate-700",children:[d.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-500 mb-1",children:"Download Adobe DNG Converter:"}),d.jsx("a",{href:"https://helpx.adobe.com/camera-raw/using/adobe-dng-converter.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline text-xs break-all",children:"https://helpx.adobe.com/camera-raw/using/adobe-dng-converter.html"})]})]})}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-cyan-500 to-blue-600 dark:from-cyan-400 dark:to-blue-500 text-center sm:text-left",children:"Jiangtherapee Online"}),d.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 hidden lg:block max-w-xs truncate",title:r||"No image loaded",children:r||"No image loaded"}),_&&d.jsx("span",{className:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400 border border-red-200 dark:border-red-800 text-[10px] font-bold px-2 py-1 rounded animate-pulse",children:" 3-PLANE / RGB MODE"})]}),d.jsxs("div",{className:"flex items-center gap-4 flex-wrap justify-end",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("button",{onClick:v.isConnected?void 0:x,className:`px-3 py-1.5 rounded-full text-xs font-bold transition-all duration-200 flex items-center gap-1.5 shadow-sm border ${v.isConnected?"bg-emerald-100 text-emerald-700 border-emerald-200 dark:bg-emerald-900/30 dark:text-emerald-400 dark:border-emerald-800 cursor-default":"bg-pink-100 text-pink-600 border-pink-200 dark:bg-pink-900/30 dark:text-pink-400 dark:border-pink-800 hover:bg-pink-200 dark:hover:bg-pink-900/50 cursor-pointer animate-pulse"}`,title:v.isConnected?"Local Bridge Service Connected":"Click to download Jiangbridge",children:[d.jsx("span",{className:`w-2 h-2 rounded-full ${v.isConnected?"bg-emerald-500":"bg-pink-500"}`}),v.isConnected?`JiangBridge Ready ${v.hasDngConverter?"DNG+":""}`:"JiangBridge Offline"]}),y&&d.jsxs("button",{onClick:g,className:"px-3 py-1.5 rounded-full text-xs font-bold transition-all duration-200 flex items-center gap-1.5 shadow-sm border bg-indigo-100 text-indigo-700 border-indigo-200 dark:bg-indigo-900/30 dark:text-indigo-400 dark:border-indigo-800 hover:bg-indigo-200 dark:hover:bg-indigo-900/50 cursor-pointer animate-in fade-in",title:"Click to turn off DR Lab",children:[d.jsx("span",{className:"w-2 h-2 rounded-full bg-indigo-500 animate-pulse"}),"DR Lab On"]}),b&&d.jsxs("button",{onClick:S,className:"px-3 py-1.5 rounded-full text-xs font-bold transition-all duration-200 flex items-center gap-1.5 shadow-sm border bg-fuchsia-100 text-fuchsia-700 border-fuchsia-200 dark:bg-fuchsia-900/30 dark:text-fuchsia-400 dark:border-fuchsia-800 hover:bg-fuchsia-200 dark:hover:bg-fuchsia-900/50 cursor-pointer animate-in fade-in",title:"Click to turn off FFT Lab",children:[d.jsx("span",{className:"w-2 h-2 rounded-full bg-fuchsia-500 animate-pulse"}),"FFT Lab On"]}),n&&d.jsxs("div",{className:"flex bg-gray-100 dark:bg-slate-800 rounded-lg p-1 border border-gray-200 dark:border-slate-600 shadow-inner transition-colors duration-300",children:[d.jsx("button",{onClick:()=>o("reference"),className:`px-3 py-1.5 rounded-md text-xs sm:text-sm font-bold transition-all duration-200 ${a==="reference"?"bg-green-500 dark:bg-green-600 text-white shadow-md":"text-gray-500 dark:text-slate-400 hover:text-gray-900 dark:hover:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700"}`,title:"The perfect uniform input",children:"Perfect"}),d.jsx("button",{onClick:()=>o("sampled"),className:`px-3 py-1.5 rounded-md text-xs sm:text-sm font-bold transition-all duration-200 ${a==="sampled"?"bg-blue-500 dark:bg-blue-600 text-white shadow-md":"text-gray-500 dark:text-slate-400 hover:text-gray-900 dark:hover:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700"}`,title:"Sampled Sensor View with Aperture Visualization",children:"Sampled (Sensor)"}),d.jsx("button",{onClick:()=>o("processed"),className:`px-3 py-1.5 rounded-md text-xs sm:text-sm font-bold transition-all duration-200 ${a==="processed"?"bg-purple-500 dark:bg-purple-600 text-white shadow-md":"text-gray-500 dark:text-slate-400 hover:text-gray-900 dark:hover:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700"}`,title:"Demosaiced Result",children:"Result"})]})]}),ve&&d.jsxs("div",{className:"flex items-center gap-2 animate-in fade-in slide-in-from-right-4 duration-300",children:[h&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex flex-col items-end mr-1 bg-gray-50 dark:bg-slate-800/50 p-1.5 rounded-lg border border-gray-200 dark:border-slate-700 transition-colors duration-300",children:[d.jsx("span",{className:"text-[10px] text-gray-500 dark:text-slate-400 font-mono uppercase tracking-wider mb-1",children:"Density (Period)"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"range",min:"0.1",max:"10",step:"0.1",value:i,onChange:G=>s(parseFloat(G.target.value)),className:"w-20 h-2 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-purple-500",title:"Adjust the period of the line pairs in pixels"}),d.jsx("div",{className:"relative",children:d.jsx("input",{type:"number",min:"0.1",max:"100",step:"0.01",value:i,onChange:G=>{const ce=parseFloat(G.target.value);isNaN(ce)||s(ce)},className:"w-16 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-1 py-0.5 text-xs font-mono text-purple-600 dark:text-purple-300 text-right focus:outline-none focus:border-purple-500 focus:ring-1 focus:ring-purple-500 transition-colors duration-300"})})]})]}),d.jsxs("div",{className:"flex flex-col items-end mr-1 bg-gray-50 dark:bg-slate-800/50 p-1.5 rounded-lg border border-gray-200 dark:border-slate-700 transition-colors duration-300",children:[d.jsx("span",{className:"text-[10px] text-gray-500 dark:text-slate-400 font-mono uppercase tracking-wider mb-1",children:"Phase"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:u,onChange:G=>f(parseFloat(G.target.value)),className:"w-20 h-2 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-pink-500",title:"Shift pattern phase (0-1 cycle)"}),d.jsx("div",{className:"relative",children:d.jsx("input",{type:"number",min:"0",max:"1",step:"0.01",value:u,onChange:G=>{const ce=parseFloat(G.target.value);isNaN(ce)||f(ce)},className:"w-12 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-1 py-0.5 text-xs font-mono text-pink-600 dark:text-pink-300 text-right focus:outline-none focus:border-pink-500 focus:ring-1 focus:ring-pink-500 transition-colors duration-300"})})]})]}),d.jsxs("div",{className:"flex flex-col items-end mr-1 bg-gray-50 dark:bg-slate-800/50 p-1.5 rounded-lg border border-gray-200 dark:border-slate-700 transition-colors duration-300",children:[d.jsx("span",{className:"text-[10px] text-gray-500 dark:text-slate-400 font-mono uppercase tracking-wider mb-1",children:"Fill Factor"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"range",min:"1",max:"100",step:"1",value:l*100,onChange:G=>c(parseInt(G.target.value)/100),className:"w-20 h-2 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-green-500",title:"Adjust pixel aperture fill factor %"}),d.jsxs("div",{className:"relative flex items-center",children:[d.jsx("input",{type:"number",min:"1",max:"100",step:"1",value:Math.round(l*100),onChange:G=>{const ce=parseInt(G.target.value);isNaN(ce)||c(Math.min(100,Math.max(1,ce))/100)},className:"w-12 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-1 py-0.5 text-xs font-mono text-green-600 dark:text-green-300 text-right focus:outline-none focus:border-green-500 focus:ring-1 focus:ring-green-500 transition-colors duration-300"}),d.jsx("span",{className:"ml-1 text-[10px] text-gray-400 dark:text-slate-500 font-mono",children:"%"})]})]})]})]}),d.jsxs("button",{onClick:j,className:`flex flex-col items-center justify-center p-2 rounded-lg transition-colors group ${r!=null&&r.startsWith("Diff_")?"bg-fuchsia-50 hover:bg-fuchsia-100 dark:bg-fuchsia-900/20 dark:hover:bg-fuchsia-900/40 border-fuchsia-200 dark:border-fuchsia-800":"bg-gray-50 hover:bg-gray-100 dark:bg-slate-800 dark:hover:bg-slate-700 border-gray-200 dark:border-slate-600"} border`,title:r!=null&&r.startsWith("Diff_")?"Export Subtracted Frame as DNG":"Download Synthetic DNG",children:[d.jsx("svg",{className:`w-5 h-5 ${r!=null&&r.startsWith("Diff_")?"text-fuchsia-500 group-hover:text-fuchsia-600":"text-gray-500 dark:text-slate-400 group-hover:text-cyan-600 dark:group-hover:text-cyan-400"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),d.jsx("span",{className:"text-[8px] font-bold uppercase mt-0.5 opacity-50",children:"DNG"})]})]}),d.jsx("input",{type:"file",ref:A,onChange:fe,className:"hidden",accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff"}),d.jsx("input",{type:"file",ref:N,onChange:be,className:"hidden",multiple:!0,accept:".csv"}),d.jsxs("div",{className:"relative inline-block text-left",ref:H,children:[d.jsxs("button",{onClick:()=>D(!L),className:"bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-lg transition-colors duration-300 shadow-lg shadow-purple-500/30 text-sm whitespace-nowrap flex items-center gap-2",children:["TEST Tools",d.jsx("svg",{className:`w-4 h-4 transition-transform duration-200 ${L?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),L&&d.jsx("div",{className:"absolute right-0 mt-2 w-56 rounded-xl bg-white dark:bg-slate-800 shadow-xl ring-1 ring-black ring-opacity-5 focus:outline-none z-50 overflow-hidden origin-top-right transition-all animate-in fade-in slide-in-from-top-2 border border-gray-200 dark:border-slate-700",children:d.jsxs("div",{className:"py-1",children:[d.jsxs("button",{onClick:()=>{D(!1),t()},className:"w-full text-left px-4 py-3 text-sm text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors flex items-center gap-2",children:[d.jsx("svg",{className:"w-4 h-4 text-purple-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),d.jsx("span",{children:"Generate Pattern DNG"})]}),d.jsxs("button",{onClick:()=>{D(!1),y||g(),b&&S()},className:`w-full text-left px-4 py-3 text-sm transition-colors flex items-center gap-2 border-t border-gray-100 dark:border-slate-700 ${y?"bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 dark:text-indigo-400 font-bold":"text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700"}`,children:[d.jsx("svg",{className:"w-4 h-4 text-indigo-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.384-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})}),d.jsxs("span",{children:["DR Lab ",y?"(On)":""]})]}),d.jsxs("button",{onClick:()=>{D(!1),b||S(),y&&g()},className:`w-full text-left px-4 py-3 text-sm transition-colors flex items-center gap-2 border-t border-gray-100 dark:border-slate-700 ${b?"bg-fuchsia-50 dark:bg-fuchsia-900/20 text-fuchsia-600 dark:text-fuchsia-400 font-bold":"text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700"}`,children:[d.jsx("svg",{className:"w-4 h-4 text-fuchsia-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),d.jsxs("span",{children:["FFT Lab ",b?"(On)":""]})]}),d.jsxs("button",{onClick:()=>{var G;D(!1),(G=N.current)==null||G.click()},className:"w-full text-left px-4 py-3 text-sm text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors flex items-center gap-2 border-t border-gray-100 dark:border-slate-700",children:[d.jsx("svg",{className:"w-4 h-4 text-emerald-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"})}),d.jsx("span",{children:"Generate PTC & TargetSNR"})]})]})})]}),d.jsxs("div",{className:"relative inline-block text-left",ref:q,children:[d.jsxs("button",{onClick:()=>W(!R),className:"bg-cyan-500 hover:bg-cyan-600 text-white font-bold py-2 px-4 rounded-lg transition-colors duration-300 shadow-lg shadow-cyan-500/30 text-sm whitespace-nowrap flex items-center gap-2",children:["Load Image",d.jsx("svg",{className:`w-4 h-4 transition-transform duration-200 ${R?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),R&&d.jsx("div",{className:"absolute right-0 mt-2 w-56 rounded-xl bg-white dark:bg-slate-800 shadow-xl ring-1 ring-black ring-opacity-5 focus:outline-none z-50 overflow-hidden origin-top-right transition-all animate-in fade-in slide-in-from-top-2 border border-gray-200 dark:border-slate-700",children:d.jsxs("div",{className:"py-1",children:[d.jsxs("button",{onClick:()=>U("direct"),className:"w-full text-left px-4 py-3 text-sm text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors flex items-center gap-2",children:[d.jsx("svg",{className:"w-4 h-4 text-cyan-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),d.jsx("span",{children:"Load Image (Direct)"})]}),d.jsxs("button",{onClick:()=>U("convert"),className:"w-full text-left px-4 py-3 text-sm text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors flex items-center gap-2 border-t border-gray-100 dark:border-slate-700",children:[d.jsx("svg",{className:"w-4 h-4 text-purple-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.384-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})}),d.jsx("span",{children:"Convert to Adobe DNG & Load"})]})]})})]}),r&&m&&d.jsxs("button",{onClick:m,className:"bg-orange-500 hover:bg-orange-600 text-white font-bold py-2 px-4 rounded-lg transition-colors duration-300 shadow-lg shadow-orange-500/30 text-sm whitespace-nowrap flex items-center gap-1",title:"View EXIF Data",children:[d.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"EXIF"]}),d.jsx("button",{onClick:p,className:"bg-teal-600 hover:bg-teal-700 text-white font-bold py-2 px-4 rounded-lg transition-colors duration-300 shadow-lg shadow-teal-500/30 text-sm whitespace-nowrap",children:"About/Tutorial/Tools"}),d.jsx("a",{href:"https://y-g-jiang.github.io/index.html",target:"_blank",rel:"noopener noreferrer",className:"bg-gray-200 hover:bg-gray-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-700 dark:text-slate-100 font-semibold py-2 px-4 rounded-lg transition-colors duration-300 text-sm",children:"Home"})]})]})},aM=({image:e,zoom:t,pan:r,onPanChange:n,onZoomChange:a,onSelectionChange:o,forcedSelection:i,theme:s,touchAction:l="pan",isMarking:c=!1,onPointClick:u,markers:f=[],gridRects:h=[]})=>{var q;const p=O.useRef(null),m=O.useRef(document.createElement("canvas")),[v,x]=O.useState(!1),[y,g]=O.useState({x:0,y:0}),b=O.useRef(null),S=O.useRef(null),w=O.useRef(null),[k,j]=O.useState(!1),[_,P]=O.useState(null),[A,N]=O.useState(null);O.useEffect(()=>{i!==void 0&&N(i)},[i]);const E=O.useCallback(()=>{const H=p.current,U=H==null?void 0:H.getContext("2d");return{canvas:H,ctx:U}},[]);O.useEffect(()=>{const H=m.current,U=H.getContext("2d");if(!e||!U)return;let ue=0,fe=0;e instanceof ImageData?(ue=e.width,fe=e.height):e instanceof HTMLImageElement&&(ue=e.naturalWidth,fe=e.naturalHeight),!(ue===0||fe===0)&&((H.width!==ue||H.height!==fe)&&(H.width=ue,H.height=fe),e instanceof ImageData?U.putImageData(e,0,0):(U.clearRect(0,0,ue,fe),U.drawImage(e,0,0)))},[e]);const F=O.useCallback(()=>{const{canvas:H,ctx:U}=E();if(!(!H||!U||!e)){if(U.setTransform(1,0,0,1,0,0),U.fillStyle=s==="dark"?"rgb(15, 23, 42)":"rgb(243, 244, 246)",U.fillRect(0,0,H.width,H.height),U.setTransform(t,0,0,t,r.x,r.y),m.current.width>0&&(U.imageSmoothingEnabled=!1,U.drawImage(m.current,0,0)),A){U.strokeStyle="#06b6d4",U.lineWidth=1/t,U.fillStyle="rgba(6, 182, 212, 0.2)",U.beginPath(),U.rect(A.x,A.y,A.w,A.h),U.fill(),U.stroke(),U.save(),U.fillStyle="#fff";const ue=Math.max(10,14/t);U.font=`${ue}px monospace`,U.shadowColor="rgba(0,0,0,0.8)",U.shadowBlur=4,U.shadowOffsetX=1,U.shadowOffsetY=1,U.fillText(`${Math.round(A.w)}x${Math.round(A.h)}`,A.x,A.y-5/t),U.restore()}if(h&&h.length>0){U.save(),U.strokeStyle="#f59e0b",U.lineWidth=1/t,U.globalAlpha=.8,U.beginPath(),h.forEach(be=>{U.rect(be.x,be.y,be.w,be.h)}),U.stroke();const ue=h[0];U.fillStyle="#f59e0b";const fe=Math.max(10,12/t);U.font=`${fe}px monospace`,U.fillText(`${ue.w}x${ue.h}`,ue.x,ue.y-4/t),U.restore()}if(f&&f.length>0){U.save();const ue=6/t,fe=Math.max(12,16/t);U.font=`bold ${fe}px sans-serif`,U.textAlign="center",U.textBaseline="middle",f.forEach((be,ve)=>{U.beginPath(),U.arc(be.x,be.y,ue,0,2*Math.PI),U.fillStyle="white",U.fill(),U.strokeStyle="#4338ca",U.lineWidth=2/t,U.stroke(),U.fillStyle="#4338ca",U.fillText((ve+1).toString(),be.x,be.y-12/t)}),U.restore()}}},[E,e,t,r,s,A,f,h]);O.useEffect(()=>{const{canvas:H}=E();if(!H)return;const U=new ResizeObserver(()=>{H.width=H.clientWidth,H.height=H.clientHeight,F()});return U.observe(H),()=>U.disconnect()},[E,F]),O.useEffect(()=>{F()},[F,e,r,t,s,A,f,h]);const I=H=>{const{canvas:U}=E();if(!U)return{x:0,y:0};const ue=U.getBoundingClientRect();return{x:H.clientX-ue.left,y:H.clientY-ue.top}},T=(H,U)=>({x:(H-r.x)/t,y:(U-r.y)/t}),R=H=>{H.preventDefault();const U=I(H);if(c){const ue=T(U.x,U.y);u&&u(ue);return}if(H.shiftKey||l==="select"){j(!0);const ue=T(U.x,U.y),fe={x:Math.floor(ue.x),y:Math.floor(ue.y)};P(fe),N(null),o&&o(null)}else x(!0),g({x:U.x-r.x,y:U.y-r.y})},W=H=>{const U=I(H);if(k&&_){const ue=T(U.x,U.y),fe=Math.floor(ue.x),be=Math.floor(ue.y),ve=Math.min(_.x,fe),G=Math.min(_.y,be),ce=Math.max(_.x,fe),me=Math.max(_.y,be),Z=ce-ve+1,We=me-G+1;N({x:ve,y:G,w:Z,h:We})}else v&&n({x:U.x-y.x,y:U.y-y.y})},L=()=>{k&&(j(!1),A&&o&&A.w>0&&A.h>0&&o(A)),x(!1)},D=H=>{var U;if(H.touches.length===1){const ue=H.touches[0],fe=(U=p.current)==null?void 0:U.getBoundingClientRect();if(!fe)return;const be=ue.clientX-fe.left,ve=ue.clientY-fe.top;if(c){const G=T(be,ve);u&&u(G);return}if(l==="select"){const G=T(be,ve),ce={x:Math.floor(G.x),y:Math.floor(G.y)};P(ce),j(!0),N(null),o&&o(null)}else w.current={x:be,y:ve},g({x:be-r.x,y:ve-r.y}),x(!0)}else if(H.touches.length===2){const ue=Math.hypot(H.touches[0].clientX-H.touches[1].clientX,H.touches[0].clientY-H.touches[1].clientY);b.current=ue,S.current=t,x(!1),j(!1)}},B=H=>{var U;if(H.touches.length===1){const ue=H.touches[0],fe=(U=p.current)==null?void 0:U.getBoundingClientRect();if(!fe)return;const be=ue.clientX-fe.left,ve=ue.clientY-fe.top;if(c)return;if(k&&_){const G=T(be,ve),ce=Math.floor(G.x),me=Math.floor(G.y),Z=Math.min(_.x,ce),We=Math.min(_.y,me),_e=Math.max(_.x,ce),st=Math.max(_.y,me),qe=_e-Z+1,bt=st-We+1;N({x:Z,y:We,w:qe,h:bt})}else v&&n({x:be-y.x,y:ve-y.y})}else if(H.touches.length===2&&b.current&&S.current&&a){const fe=Math.hypot(H.touches[0].clientX-H.touches[1].clientX,H.touches[0].clientY-H.touches[1].clientY)/b.current;a(S.current*fe)}},J=()=>{k&&(j(!1),A&&o&&A.w>0&&A.h>0&&o(A)),x(!1),b.current=null,S.current=null,w.current=null};return d.jsx("canvas",{ref:p,className:`w-full h-full block touch-none ${c||k||(q=window.event)!=null&&q.shiftKey||l==="select"?"cursor-crosshair":"cursor-grab active:cursor-grabbing"}`,onMouseDown:R,onMouseMove:W,onMouseUp:L,onMouseLeave:L,onTouchStart:D,onTouchMove:B,onTouchEnd:J,onTouchCancel:J,tabIndex:0})},Au=({title:e,children:t})=>d.jsxs("div",{className:"border-b border-gray-200 dark:border-slate-700 transition-colors duration-300",children:[d.jsx("div",{className:"p-4 font-semibold text-gray-800 dark:text-slate-200 bg-gray-50 dark:bg-slate-800/30 border-b border-gray-200 dark:border-slate-800 select-none cursor-default transition-colors duration-300",children:d.jsx("span",{children:e})}),d.jsx("div",{className:"p-4 bg-white dark:bg-slate-900/50 transition-colors duration-300",children:t})]}),oM=[{value:-1,label:"Raw Bayer (Grayscale)"},{value:0,label:"Linear interpolation"},{value:1,label:"VNG (Variable Number of Gradients)"},{value:2,label:"PPG (Patterned Pixel Grouping)"},{value:3,label:"AHD (Adaptive Homogeneity-Directed)"},{value:4,label:"DCB (Demosaicing with Color Back-refinement)"},{value:11,label:"DHT (Modified AHD)"},{value:12,label:"AAHD (Adaptive AHD)"}],Ex=({checked:e,onChange:t,label:r})=>d.jsxs("div",{className:"flex items-center justify-between py-2 cursor-pointer group",onClick:()=>t(!e),children:[d.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-slate-300 select-none group-hover:text-gray-900 dark:group-hover:text-slate-200 transition-colors",children:r}),d.jsx("div",{className:`relative w-11 h-6 rounded-full transition-colors duration-200 ease-in-out ${e?"bg-cyan-500 dark:bg-cyan-600":"bg-gray-300 dark:bg-slate-600 group-hover:bg-gray-400 dark:group-hover:bg-slate-500"}`,children:d.jsx("div",{className:`absolute left-1 top-1 bg-white w-4 h-4 rounded-full shadow-md transform transition-transform duration-200 ease-in-out ${e?"translate-x-5":"translate-x-0"}`})})]}),dp=(e,t)=>{if(!e)return null;if(t){const r=e.bayerPattern.toUpperCase(),n=l=>{const c=[];for(let u=0;u<4;u++)r[u]===l&&c.push(u);return c},a=t.BlackLevelRed,o=t.BlackLevelGreen,i=t.BlackLevelBlue;if(a!==void 0&&o!==void 0&&i!==void 0){const l=parseFloat(a),c=parseFloat(o),u=parseFloat(i);if(!isNaN(l)&&!isNaN(c)&&!isNaN(u)){const f=[0,0,0,0];return f.fill(c),n("R").forEach(h=>f[h]=l),n("G").forEach(h=>f[h]=c),n("B").forEach(h=>f[h]=u),f}}let s=t.BlackLevel;if(s===void 0&&(s=t.BlackLevel2),s!==void 0){let l=[];if(Array.isArray(s)?l=s.map(Number):typeof s=="string"?l=s.trim().split(/\s+/).map(Number):typeof s=="number"&&(l=[s,s,s,s]),l.length===1&&!isNaN(l[0])&&(l=[l[0],l[0],l[0],l[0]]),l.length>=4&&!l.slice(0,4).some(isNaN))return[l[0],l[1],l[2],l[3]]}}return e.blackLevels&&e.blackLevels.length===4?[e.blackLevels[0],e.blackLevels[1],e.blackLevels[2],e.blackLevels[3]]:null},iM=e=>{const{rawImageData:t,displaySettings:r,onApplyDisplaySettings:n,onSetSelection:a,exifData:o,isBridgeConnected:i,isDrLabOpen:s,drMarkingStep:l,onStartMarking:c,onGenerateTestPic:u,drRoiSize:f,onDrRoiSizeChange:h,drGridRows:p,onDrGridRowsChange:m,drGridCols:v,onDrGridColsChange:x,onBatchDrLab:y,hasDrMarkers:g,isFftLabOpen:b,onProcessPair:S,onProcessBatchDiff:w,onProcessStackFft:k,onOpenCrossCalc:j,isThreePlane:_}=e,[P,A]=O.useState(r.exposure.toString()),[N,E]=O.useState(""),[F,I]=O.useState("0 0 0 0"),[T,R]=O.useState("1.0"),[W,L]=O.useState("1.0"),[D,B]=O.useState(r.demosaicMethod),[J,q]=O.useState(!!r.showKadc),[H,U]=O.useState(!!r.subtractBlackLevelFromStats),[ue,fe]=O.useState("64"),[be,ve]=O.useState(!1),[G,ce]=O.useState(!1),[me,Z]=O.useState(!1),[We,_e]=O.useState("single"),st=O.useRef(null),qe=O.useRef(null),bt=O.useRef(null),hr=O.useRef(null),[pt,Ur]=O.useState(null),[at,sr]=O.useState(null),[lr,Dr]=O.useState(!1),[Zt,jn]=O.useState(!0),Ar=O.useRef(null),yr=O.useRef(null),cr=O.useRef(!1),ur=O.useRef(null);O.useEffect(()=>{t!==ur.current&&(cr.current=!1,ur.current=t)},[t]),O.useEffect(()=>{if(i&&t&&!cr.current){cr.current=!0;const K=dp(t,o),$e=K&&K.some(Gt=>Gt>0);if(K&&$e){ve(!0);const Gt={...r,blackLevel:K,showKadc:!0,subtractBlackLevelFromStats:!0,exposure:r.exposure,wbGains:r.wbGains||[1,1],demosaicMethod:r.demosaicMethod,renderMode:"standard"};n(Gt)}}},[i,t,o,r,n]),O.useEffect(()=>{if(A(r.exposure.toString()),r.customMatrix?(E(r.customMatrix.join(" ")),ve(!0)):E(""),r.blackLevel&&r.blackLevel.length===4)I(r.blackLevel.join(" "));else{const K=dp(t,o);I(K?K.join(" "):"0 0 0 0")}R(r.wbGains?r.wbGains[0].toString():"1.0"),L(r.wbGains?r.wbGains[1].toString():"1.0"),B(r.demosaicMethod),q(!!r.showKadc),U(!!r.subtractBlackLevelFromStats)},[r,t,o]);const Tt=K=>{A(K)},St=K=>R(K),Ke=K=>L(K),$t=K=>{B(parseInt(K.target.value,10))},rr=K=>{E(K.target.value)},vr=()=>{A("0"),B(3),R("1.0"),L("1.0"),q(!0),U(!0),E(""),ve(!1);const K=dp(t,o);I(K?K.join(" "):"0 0 0 0")},xr=()=>{!t||!a||a({x:0,y:0,w:t.width,h:t.height})},On=()=>{if(!t||!a)return;const K=parseInt(ue,10);if(isNaN(K)||K<=0)return;const $e=Math.min(K,t.width),Gt=Math.min(K,t.height),lt=Math.floor((t.width-$e)/2),Bt=Math.floor((t.height-Gt)/2);a({x:lt,y:Bt,w:$e,h:Gt})},Dt=()=>{const $e=F.split(/[\s,]+/).filter(Gt=>Gt.trim()!=="").map(Number);if($e.length===1&&!isNaN($e[0]))return[$e[0],$e[0],$e[0],$e[0]];if($e.length>=4&&!$e.slice(0,4).some(isNaN))return[$e[0],$e[1],$e[2],$e[3]]},rn=()=>{const K={...r},$e=parseFloat(P);isNaN($e)||(K.exposure=$e);const Gt=parseFloat(T),lt=parseFloat(W);if(!isNaN(Gt)&&!isNaN(lt)&&(K.wbGains=[Gt,lt]),K.demosaicMethod=D,K.renderMode="standard",be){const Bt=Dt();Bt&&(K.blackLevel=Bt);const Ze=N.trim().replace(/[\s,\n]+/g," ");if(Ze){const Vr=Ze.split(" ").map(Number);Vr.length===9&&!Vr.some(isNaN)?K.customMatrix=Vr:alert("Invalid matrix format. Please ensure exactly 9 numeric values (3x3).")}else delete K.customMatrix;K.showKadc=J,K.subtractBlackLevelFromStats=H}else delete K.customMatrix,delete K.blackLevel,delete K.showKadc,delete K.subtractBlackLevelFromStats;n(K)},ut=()=>{const K={...r},$e=Dt();$e&&(K.blackLevel=$e);const Gt=parseFloat(P);isNaN(Gt)||(K.exposure=Gt),K.renderMode="zero-dependency",n(K)},Rr=K=>{K.target.files&&K.target.files.length>0&&y&&y(K.target.files,We),K.target.value="",Z(!1)},nn=async K=>{var Gt;const $e=(Gt=K.target.files)==null?void 0:Gt[0];if($e){try{const Bt=(await $e.text()).split(`
`),Ze=[];Ze.push("#BlackLevel: 0,0,0,0"),Ze.push("#ImageHeight: 0"),Ze.push("Row,Col,R_Mean,G1_Mean,G2_Mean,B_Mean,R_Std,G1_Std,G2_Std,B_Std");let Vr=1;for(let ot=0;ot<Bt.length;ot++){const Nt=Bt[ot].trim();if(!Nt||Nt.includes("R_mean")||Nt.includes("R_std"))continue;const Ee=Nt.split(/\s+/).map(Number);if(Ee.length<8||Ee.some(isNaN))continue;const Rt=Ee[0],ct=Ee[1],At=Ee[2],Ae=Ee[3],ft=Ee[4],Pe=Ee[5],ie=Ee[6],yt=Ee[7],_n=[Vr,1,Rt,At,ie,ft,ct,Ae,yt,Pe].join(",");Ze.push(_n),Vr++}const an=new Blob([Ze.join(`
`)],{type:"text/csv"}),ee=URL.createObjectURL(an),xe=document.createElement("a");xe.href=ee,xe.download=$e.name.replace(/\.[^/.]+$/,"")+"_converted.csv",document.body.appendChild(xe),xe.click(),document.body.removeChild(xe),URL.revokeObjectURL(ee)}catch(lt){console.error("Conversion failed",lt),alert("Failed to convert file. Check format.")}K.target.value=""}},Gr=K=>{K.target.files&&K.target.files[0]&&Ur(K.target.files[0])},Lr=K=>{K.target.files&&K.target.files[0]&&sr(K.target.files[0])},Hr=()=>{pt&&at&&S&&S(pt,at,lr,Zt)},br=K=>{K.target.files&&K.target.files.length>0&&w&&w(K.target.files),K.target.value=""},Ln=K=>{K.target.files&&K.target.files.length>0&&k&&k(K.target.files),K.target.value=""},Pt=!!t;return d.jsxs("div",{className:"flex flex-col h-full",children:[d.jsxs("div",{className:"flex-grow overflow-y-auto",children:[_&&d.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-3 border-b border-red-100 dark:border-red-800 text-center animate-pulse",children:[d.jsx("p",{className:"text-xs font-bold text-red-600 dark:text-red-400 uppercase tracking-wide",children:" 3-Plane / Full Color"}),d.jsx("p",{className:"text-[10px] text-red-500/80 dark:text-red-300/70 mt-1",children:"Demosaic disabled. Stats analysis treated as pseudo-Bayer."})]}),b&&d.jsx(Au,{title:"FFT Lab (Noise Profile)",children:d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"space-y-3 bg-gray-50 dark:bg-slate-800/40 p-3 rounded-xl border border-gray-100 dark:border-slate-800",children:[d.jsxs("h4",{className:"text-[10px] font-bold text-fuchsia-600 dark:text-fuchsia-400 uppercase tracking-widest flex items-center gap-2",children:[d.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-fuchsia-500"}),"1. Pair Difference (Sub)"]}),d.jsx("p",{className:"text-[10px] text-gray-500 dark:text-slate-400",children:"Subtraction between two shots to analyze FPN or Temporal Noise."}),d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsx("input",{type:"file",ref:st,className:"hidden",onChange:Gr,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff"}),d.jsx("button",{onClick:()=>{var K;return(K=st.current)==null?void 0:K.click()},className:`w-full py-2 px-3 rounded-lg border text-[10px] font-bold text-left truncate transition-colors ${pt?"bg-fuchsia-50 dark:bg-fuchsia-900/20 border-fuchsia-300 dark:border-fuchsia-800 text-fuchsia-700 dark:text-fuchsia-300":"bg-white dark:bg-slate-800 border-gray-300 dark:border-slate-600 text-gray-500 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:pt?`A: ${pt.name}`:"Load Image A"}),d.jsx("input",{type:"file",ref:qe,className:"hidden",onChange:Lr,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff"}),d.jsx("button",{onClick:()=>{var K;return(K=qe.current)==null?void 0:K.click()},className:`w-full py-2 px-3 rounded-lg border text-[10px] font-bold text-left truncate transition-colors ${at?"bg-fuchsia-50 dark:bg-fuchsia-900/20 border-fuchsia-300 dark:border-fuchsia-800 text-fuchsia-700 dark:text-fuchsia-300":"bg-white dark:bg-slate-800 border-gray-300 dark:border-slate-600 text-gray-500 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:at?`B: ${at.name}`:"Load Image B"})]}),d.jsx("div",{className:"flex flex-col gap-1.5 pt-1",children:d.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:Zt,onChange:K=>jn(K.target.checked),className:"w-3 h-3 text-fuchsia-600 border-gray-300 rounded focus:ring-0"}),d.jsx("span",{className:"text-[10px] text-gray-600 dark:text-slate-300",children:"Normalize (2)"})]})}),d.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[d.jsx("button",{onClick:Hr,disabled:!pt||!at,className:"w-full bg-fuchsia-600 hover:bg-fuchsia-500 disabled:opacity-30 text-white font-bold py-2 rounded shadow transition-all active:scale-95 text-[10px]",children:"Generate Diff & Load"}),d.jsx("input",{type:"file",ref:bt,className:"hidden",multiple:!0,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff",onChange:br}),d.jsxs("button",{onClick:()=>{var K;return(K=bt.current)==null?void 0:K.click()},className:"w-full bg-slate-700 hover:bg-slate-600 text-white font-bold py-2 rounded shadow transition-all active:scale-95 text-[10px] flex items-center justify-center gap-1",children:[d.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Batch Diffs (Auto Download)"]})]})]}),d.jsxs("div",{className:"space-y-3 bg-gray-50 dark:bg-slate-800/40 p-3 rounded-xl border border-gray-100 dark:border-slate-800",children:[d.jsxs("h4",{className:"text-[10px] font-bold text-cyan-600 dark:text-cyan-400 uppercase tracking-widest flex items-center gap-2",children:[d.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-cyan-500"}),"2. Stack FFT (Avg PSD)"]}),d.jsx("p",{className:"text-[10px] text-gray-500 dark:text-slate-400",children:"Average Power Spectrum across a sequence for precise single-frame noise floor."}),d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsx("input",{type:"file",ref:hr,className:"hidden",multiple:!0,onChange:Ln,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff"}),d.jsxs("button",{onClick:()=>{var K;return(K=hr.current)==null?void 0:K.click()},className:"w-full py-3 bg-cyan-600 hover:bg-cyan-500 text-white font-bold rounded-lg shadow-md transition-all active:scale-95 text-[10px] flex items-center justify-center gap-2",children:[d.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),"Select Sequence Files"]})]}),d.jsx("p",{className:"text-[9px] text-center text-gray-400 italic",children:"Loads first frame. Average FFT calculated on ROI selection."})]}),d.jsx("div",{className:"flex flex-col gap-2 pt-2",children:d.jsxs("button",{onClick:j,className:"w-full bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-2 px-4 rounded-lg shadow-md transition-all active:scale-95 text-[10px] flex items-center justify-center gap-2",children:[d.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),"Cross-Compensation Calc"]})})]})}),s&&d.jsx(Au,{title:"DR Lab Tools",children:d.jsxs("div",{className:"space-y-4",children:[d.jsx("button",{onClick:u,className:"w-full bg-amber-500 hover:bg-amber-600 text-white font-bold py-2 px-4 rounded-lg shadow-md transition-colors text-sm",children:"Generate Test Pic"}),d.jsxs("div",{className:"border-t border-gray-200 dark:border-slate-700 pt-3",children:[d.jsx("h4",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide mb-2",children:"Grid Analysis"}),h&&f!==void 0&&d.jsx("div",{className:"flex items-center justify-between mb-3",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-sm text-gray-600 dark:text-slate-300",children:"Box Size:"}),d.jsx("input",{type:"number",min:"8",max:"512",step:"2",value:f,onChange:K=>h(parseInt(K.target.value)||64),className:"w-12 px-1 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-sm text-gray-900 dark:text-slate-100 text-center"}),d.jsx("span",{className:"text-xs text-gray-400",children:"px"})]})}),m&&x&&p!==void 0&&v!==void 0&&d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsx("span",{className:"text-sm text-gray-600 dark:text-slate-300",children:"Layout:"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"number",min:"1",max:"50",value:p,onChange:K=>m(Math.max(1,parseInt(K.target.value)||1)),className:"w-10 px-1 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-sm text-gray-900 dark:text-slate-100 text-center",title:"Rows"}),d.jsx("span",{className:"text-xs text-gray-400",children:"x"}),d.jsx("input",{type:"number",min:"1",max:"50",value:v,onChange:K=>x(Math.max(1,parseInt(K.target.value)||1)),className:"w-10 px-1 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-sm text-gray-900 dark:text-slate-100 text-center",title:"Columns"})]})]}),d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsx("button",{onClick:c,disabled:!Pt||l!==void 0&&l>0,className:`w-full font-bold py-2 px-4 rounded-lg shadow-md transition-all text-sm ${Pt?l&&l>0?"bg-indigo-100 dark:bg-indigo-900 text-indigo-700 dark:text-indigo-300 border-2 border-indigo-500":"bg-indigo-600 hover:bg-indigo-700 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:l&&l>0?"Marking Active...":"Mark Corners"}),y&&d.jsxs(d.Fragment,{children:[d.jsx("input",{type:"file",ref:Ar,className:"hidden",multiple:!0,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff",onChange:Rr}),d.jsxs("div",{className:"relative",children:[d.jsxs("button",{onClick:()=>Z(!me),disabled:!g,className:"w-full font-bold py-2 px-4 rounded-lg shadow-md transition-all text-sm bg-emerald-600 hover:bg-emerald-700 disabled:bg-gray-300 disabled:text-gray-500 disabled:cursor-not-allowed text-white flex items-center justify-center gap-2",title:"Process multiple RAWs",children:[d.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),"Reuse Last & Batch"]}),me&&d.jsxs("div",{className:"absolute bottom-full left-0 w-full mb-1 bg-white dark:bg-slate-800 rounded-lg shadow-xl border border-gray-200 dark:border-slate-700 overflow-hidden z-20 flex flex-col animate-in fade-in zoom-in-95 duration-100",children:[d.jsx("button",{className:"px-4 py-2 text-left text-xs hover:bg-gray-100 dark:hover:bg-slate-700 text-gray-700 dark:text-slate-200 border-b border-gray-100 dark:border-slate-700 transition-colors",onClick:()=>{var K;_e("single"),(K=Ar.current)==null||K.click()},children:"1. Independent Frames"}),d.jsx("button",{className:"px-4 py-2 text-left text-xs hover:bg-gray-100 dark:hover:bg-slate-700 text-indigo-600 dark:text-indigo-400 font-bold transition-colors",onClick:()=>{var K;_e("pair"),(K=Ar.current)==null||K.click()},children:"2. Pair Difference (A-B)"})]})]})]}),d.jsxs("div",{className:"pt-2 mt-2 border-t border-gray-100 dark:border-slate-800",children:[d.jsx("input",{type:"file",ref:yr,className:"hidden",accept:".txt",onChange:nn}),d.jsxs("button",{onClick:()=>{var K;return(K=yr.current)==null?void 0:K.click()},className:"w-full font-bold py-2 px-4 rounded-lg shadow-sm transition-all text-xs bg-slate-100 hover:bg-slate-200 dark:bg-slate-800 dark:hover:bg-slate-700 text-gray-600 dark:text-slate-300 flex items-center justify-center gap-2 border border-gray-300 dark:border-slate-600",title:"Convert legacy TXT format (R_mean R_std ...) to standard CSV",children:[d.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})}),"Convert Format (.txt  .csv)"]})]})]}),l!==void 0&&l>0&&d.jsx("div",{className:"mt-2 text-center",children:d.jsxs("p",{className:"text-xs text-indigo-600 dark:text-indigo-400 font-bold animate-pulse",children:[l===1&&"Click Top-Left Center",l===2&&"Click Top-Right Center",l===3&&"Click Bottom-Left Center",l===4&&"Click Bottom-Right Center"]})})]})]})}),d.jsx(Au,{title:"Selection Tools",children:d.jsx("div",{className:"space-y-3",children:d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2",children:"Quick Select or Shift+drag"}),d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx("span",{className:"text-sm text-gray-600 dark:text-slate-300",children:"Size (px):"}),d.jsx("input",{type:"number",min:"1",value:ue,onChange:K=>fe(K.target.value),disabled:!Pt,className:"flex-1 px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-sm text-gray-900 dark:text-slate-100 transition-colors"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[d.jsx("button",{onClick:On,disabled:!Pt,className:"px-3 py-1.5 bg-gray-200 hover:bg-gray-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-800 dark:text-slate-200 text-xs font-semibold rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Center Rect"}),d.jsx("button",{onClick:xr,disabled:!Pt,className:"px-3 py-1.5 bg-gray-200 hover:bg-gray-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-800 dark:text-slate-200 text-xs font-semibold rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Full Image"})]})]})})}),d.jsx(Au,{title:"Display Controls",children:d.jsxs("div",{className:"space-y-5",children:[d.jsxs("p",{className:"text-gray-500 dark:text-slate-400 text-center text-sm",children:["Adjust parameters and click ",d.jsx("b",{children:"Apply"}),"."]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"exposure",className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2",children:"Exposure (EV)"}),d.jsx("div",{className:"flex items-center gap-2 mb-2",children:d.jsx("input",{type:"range",min:"-5",max:"5",step:"0.1",disabled:!Pt,value:parseFloat(P)||0,onChange:K=>Tt(K.target.value),className:"w-full h-2 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-cyan-500 disabled:opacity-50"})}),d.jsx("div",{className:"flex items-center gap-2",children:d.jsx("input",{id:"exposure",type:"number",step:"0.1",value:P,onChange:K=>Tt(K.target.value),disabled:!Pt,className:"w-full px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-sm text-gray-900 dark:text-slate-100 transition-colors duration-300"})})]}),d.jsxs("div",{children:[d.jsxs("label",{htmlFor:"demosaic",className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2 flex justify-between",children:[d.jsx("span",{children:"Demosaic Method"}),_&&d.jsx("span",{className:"text-[9px] text-red-500 font-bold bg-red-100 dark:bg-red-900/30 px-1 rounded",children:"DISABLED"})]}),d.jsx("select",{id:"demosaic",value:D,onChange:$t,disabled:!Pt||_,className:"w-full px-2 py-2 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none transition-colors disabled:bg-gray-100 dark:disabled:bg-slate-800/50 disabled:cursor-not-allowed text-sm text-gray-900 dark:text-slate-100",children:oM.map(K=>d.jsx("option",{value:K.value,children:K.label},K.value))}),_&&d.jsx("p",{className:"text-[9px] text-gray-400 mt-1",children:"Full color data detected. Demosaicing skipped."})]}),d.jsx("div",{className:"border-t border-gray-200 dark:border-slate-700 pt-2",children:d.jsx(Ex,{checked:be,onChange:ve,label:"Advanced Settings"})}),be&&d.jsxs("div",{className:"space-y-5 pl-2 border-l-2 border-gray-200 dark:border-slate-700 animate-in slide-in-from-top-2 duration-200",children:[d.jsxs("div",{children:[d.jsx(Ex,{checked:J,onChange:q,label:"Show Kadc"}),d.jsx("p",{className:"text-[10px] text-gray-400 dark:text-slate-500 mt-1",children:"Requires manual Black Levellinear PTC zoneabsolutely uniform image ."})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2",children:"White Balance Gains"}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("div",{children:[d.jsx("span",{className:"text-xs text-red-500 dark:text-red-400 block mb-1",children:"Red"}),d.jsx("input",{type:"number",step:"0.01",value:T,onChange:K=>St(K.target.value),disabled:!Pt,className:"w-full px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-red-500 outline-none text-sm text-gray-900 dark:text-slate-100 transition-colors duration-300"})]}),d.jsxs("div",{children:[d.jsx("span",{className:"text-xs text-blue-500 dark:text-blue-400 block mb-1",children:"Blue"}),d.jsx("input",{type:"number",step:"0.01",value:W,onChange:K=>Ke(K.target.value),disabled:!Pt,className:"w-full px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-blue-500 outline-none text-sm text-gray-900 dark:text-slate-100 transition-colors duration-300"})]})]})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-end mb-2",children:[d.jsxs("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide flex items-center",children:["Black Level (4-Ch)",d.jsx("span",{className:"ml-1 text-[10px] text-gray-400 dark:text-slate-500 font-normal normal-case",children:"Native"}),d.jsx("button",{onClick:()=>ce(!0),className:"ml-2 text-[10px] text-cyan-600 dark:text-cyan-400 hover:text-cyan-700 dark:hover:text-cyan-300 hover:underline cursor-pointer transition-colors",title:"About Black Level Settings",children:"[about]"})]}),d.jsxs("div",{className:"flex items-center gap-1.5",title:"Subtract Black Level from ROI Mean stats (for display)",children:[d.jsx("span",{className:"text-[9px] font-mono text-gray-400 dark:text-slate-500 uppercase tracking-wide",children:"Sub. BL"}),d.jsx("div",{className:`relative w-8 h-4 rounded-full cursor-pointer transition-colors duration-200 ease-in-out ${H?"bg-cyan-500":"bg-gray-300 dark:bg-slate-700"}`,onClick:()=>U(!H),children:d.jsx("div",{className:`absolute top-0.5 left-0.5 bg-white w-3 h-3 rounded-full shadow-sm transform transition-transform duration-200 ${H?"translate-x-4":"translate-x-0"}`})})]})]}),d.jsx("input",{type:"text",value:F,onChange:K=>I(K.target.value),disabled:!Pt,placeholder:"0 0 0 0",className:"w-full px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-xs font-mono text-gray-900 dark:text-slate-100 transition-colors duration-300",title:"Enter 4 values separated by space or comma"}),d.jsx("p",{className:"text-[10px] text-gray-400 dark:text-slate-500 mt-1",children:"Order: (0,0) (0,1) (1,0) (1,1). Spatial: TL, TR, BL, BR."})]}),d.jsxs("div",{children:[d.jsxs("label",{htmlFor:"customMatrix",className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2",children:["Custom Color Matrix",d.jsx("span",{className:"block text-[10px] text-gray-400 dark:text-slate-500 font-normal normal-case mt-0.5",children:"XYZ to Camera RGB (3x3, 9 nums)"})]}),d.jsx("textarea",{id:"customMatrix",value:N,onChange:rr,disabled:!Pt,placeholder:"0.66 -0.19 -0.04  -0.46 1.23 0.25  -0.06 0.13 0.65",className:"w-full h-24 px-2 py-2 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none transition-colors disabled:bg-gray-100 dark:disabled:bg-slate-800/50 disabled:cursor-not-allowed text-xs font-mono leading-relaxed text-gray-900 dark:text-slate-100"})]})]}),d.jsxs("div",{className:"pt-4 flex flex-col gap-2",children:[d.jsx("button",{onClick:rn,disabled:!Pt,className:"w-full text-base bg-cyan-500 hover:bg-cyan-600 dark:bg-cyan-600 dark:hover:bg-cyan-500 disabled:bg-gray-300 dark:disabled:bg-slate-800 disabled:text-gray-500 dark:disabled:text-slate-500 disabled:cursor-not-allowed text-white font-bold py-3 px-3 rounded-lg shadow-lg shadow-cyan-500/20 dark:shadow-cyan-900/20 transition-all active:scale-95",children:"APPLY SETTINGS"}),d.jsxs("button",{onClick:ut,disabled:!Pt,className:"w-full text-xs font-bold bg-slate-700 hover:bg-slate-600 text-white disabled:bg-gray-300 dark:disabled:bg-slate-800 disabled:text-gray-500 transition-colors py-2 rounded-lg flex items-center justify-center gap-1.5 border border-slate-600",title:"Bypass internal pipeline. Manual subtract black level & apply basic sRGB gamma to raw data.",children:[d.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})," (Zero-Dep)"]}),d.jsx("button",{onClick:vr,disabled:!Pt,className:"w-full text-xs text-gray-400 hover:text-gray-600 dark:text-slate-400 dark:hover:text-slate-200 disabled:text-gray-300 dark:disabled:text-slate-600 transition-colors mt-1",children:"Reset Defaults (Local)"})]})]})})]}),d.jsx(Pf,{isOpen:G,onClose:()=>ce(!1),onConfirm:()=>{window.open("https://y-g-jiang.github.io/CBLD.html","_blank"),ce(!1)},title:"Black Level Info / ",confirmText:"Visit Database (CBLD)",cancelText:"Close",message:d.jsxs("div",{className:"flex flex-col gap-4 text-left text-sm text-gray-600 dark:text-slate-300",children:[d.jsxs("p",{className:"leading-relaxed",children:["JiangBridge/JiangBridge",d.jsx("a",{href:"https://y-g-jiang.github.io/CBLD.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline mx-1 font-bold",children:"CBLD.html"}),""]}),d.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 w-full"}),d.jsxs("p",{className:"leading-relaxed",children:["Autofills when JiangBridge is detected. If no result is found or JiangBridge is missing, please check the",d.jsx("a",{href:"https://y-g-jiang.github.io/CBLD.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline mx-1 font-bold",children:"Black Level Database"}),"to find your camera model. However, manually capturing a dark frame with identical settings to calculate and input the values is highly recommended for higher decimal precision, as internal tags often lack accuracy."]})]})})]})},sM=()=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20 12H4"})}),lM=()=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})}),cM=()=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 4v5h5M4 12a8 8 0 0114.24-5.12M20 20v-5h-5M20 12a8 8 0 01-14.24 5.12"})}),uM=()=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 11.5V14m0-2.5v-6a1.5 1.5 0 113 0m-3 6a1.5 1.5 0 00-3 0v2a7.5 7.5 0 0015 0v-5a1.5 1.5 0 00-3 0m-6-3V11m0-5.5v-1a1.5 1.5 0 013 0v1m0 0V11m0-5.5a1.5 1.5 0 013 0v3m0 0V11"})}),fM=()=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 4l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})}),W0=.1,U0=16,dM=Math.log(W0),hM=Math.log(U0),pM=({zoom:e,onZoomChange:t,onResetView:r,touchAction:n,onToggleTouchAction:a})=>{const o=c=>{const u=parseFloat(c.target.value),f=Math.exp(u);t(Math.max(W0,Math.min(U0,f)))},i=()=>{t(Math.min(U0,e*1.25))},s=()=>{t(Math.max(W0,e/1.25))},l=Math.log(e);return d.jsxs("div",{className:"absolute top-4 right-4 flex gap-2",onClick:c=>c.stopPropagation(),children:[d.jsx("div",{className:"bg-white/90 dark:bg-slate-800/70 backdrop-blur-sm p-2 rounded-lg border border-gray-200 dark:border-slate-700 flex items-center shadow-lg transition-colors duration-300",children:d.jsx("button",{onClick:a,className:`p-1.5 rounded-md transition-colors flex items-center justify-center ${n==="select"?"bg-cyan-100 text-cyan-600 dark:bg-cyan-900/50 dark:text-cyan-400 ring-2 ring-cyan-500/50":"text-gray-500 dark:text-slate-400 hover:bg-gray-100 dark:hover:bg-slate-700"}`,title:n==="select"?"Mode: Selection (Drag to Select)":"Mode: Pan (Drag to Move)",children:n==="select"?d.jsx(fM,{}):d.jsx(uM,{})})}),d.jsxs("div",{className:"bg-white/90 dark:bg-slate-800/70 backdrop-blur-sm p-2 rounded-lg border border-gray-200 dark:border-slate-700 flex items-center gap-2 text-gray-700 dark:text-slate-300 shadow-lg transition-colors duration-300",children:[d.jsx("button",{onClick:s,className:"p-1 rounded-md hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",title:"Zoom Out","aria-label":"Zoom Out",children:d.jsx(sM,{})}),d.jsx("input",{type:"range",min:dM,max:hM,step:"0.01",value:l,onChange:o,className:"w-24 sm:w-32 h-2 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-cyan-500","aria-label":"Zoom slider"}),d.jsx("button",{onClick:i,className:"p-1 rounded-md hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",title:"Zoom In","aria-label":"Zoom In",children:d.jsx(lM,{})}),d.jsxs("span",{className:"w-16 text-center font-mono text-sm","aria-live":"polite",children:[(e*100).toFixed(0),"%"]}),d.jsx("button",{onClick:r,className:"p-1 rounded-md hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",title:"Reset View","aria-label":"Reset View",children:d.jsx(cM,{})})]})]})},gM=({theme:e,setTheme:t})=>{const r=()=>{t(e==="light"?"dark":"light")};return d.jsx("button",{onClick:r,className:"fixed bottom-6 right-6 z-50 p-3 rounded-full bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 shadow-lg text-gray-800 dark:text-yellow-400 hover:bg-gray-100 dark:hover:bg-slate-700 transition-all duration-300",title:`Switch to ${e==="light"?"dark":"light"} mode`,children:e==="light"?d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-slate-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}):d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})})})};function US(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=US(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function nt(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=US(e))&&(n&&(n+=" "),n+=t);return n}var mM=Array.isArray,Sn=mM,yM=typeof fu=="object"&&fu&&fu.Object===Object&&fu,GS=yM,vM=GS,xM=typeof self=="object"&&self&&self.Object===Object&&self,bM=vM||xM||Function("return this")(),Ca=bM,wM=Ca,kM=wM.Symbol,tu=kM,Tx=tu,HS=Object.prototype,SM=HS.hasOwnProperty,jM=HS.toString,bl=Tx?Tx.toStringTag:void 0;function OM(e){var t=SM.call(e,bl),r=e[bl];try{e[bl]=void 0;var n=!0}catch{}var a=jM.call(e);return n&&(t?e[bl]=r:delete e[bl]),a}var _M=OM,PM=Object.prototype,NM=PM.toString;function AM(e){return NM.call(e)}var MM=AM,$x=tu,CM=_M,EM=MM,TM="[object Null]",$M="[object Undefined]",Dx=$x?$x.toStringTag:void 0;function DM(e){return e==null?e===void 0?$M:TM:Dx&&Dx in Object(e)?CM(e):EM(e)}var ao=DM;function RM(e){return e!=null&&typeof e=="object"}var oo=RM,LM=ao,IM=oo,BM="[object Symbol]";function FM(e){return typeof e=="symbol"||IM(e)&&LM(e)==BM}var qs=FM,zM=Sn,WM=qs,UM=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,GM=/^\w*$/;function HM(e,t){if(zM(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||WM(e)?!0:GM.test(e)||!UM.test(e)||t!=null&&e in Object(t)}var hy=HM;function VM(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Ro=VM;const Zs=It(Ro);var KM=ao,XM=Ro,YM="[object AsyncFunction]",qM="[object Function]",ZM="[object GeneratorFunction]",QM="[object Proxy]";function JM(e){if(!XM(e))return!1;var t=KM(e);return t==qM||t==ZM||t==YM||t==QM}var py=JM;const ze=It(py);var eC=Ca,tC=eC["__core-js_shared__"],rC=tC,hp=rC,Rx=function(){var e=/[^.]+$/.exec(hp&&hp.keys&&hp.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function nC(e){return!!Rx&&Rx in e}var aC=nC,oC=Function.prototype,iC=oC.toString;function sC(e){if(e!=null){try{return iC.call(e)}catch{}try{return e+""}catch{}}return""}var VS=sC,lC=py,cC=aC,uC=Ro,fC=VS,dC=/[\\^$.*+?()[\]{}|]/g,hC=/^\[object .+?Constructor\]$/,pC=Function.prototype,gC=Object.prototype,mC=pC.toString,yC=gC.hasOwnProperty,vC=RegExp("^"+mC.call(yC).replace(dC,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function xC(e){if(!uC(e)||cC(e))return!1;var t=lC(e)?vC:hC;return t.test(fC(e))}var bC=xC;function wC(e,t){return e==null?void 0:e[t]}var kC=wC,SC=bC,jC=kC;function OC(e,t){var r=jC(e,t);return SC(r)?r:void 0}var Ni=OC,_C=Ni,PC=_C(Object,"create"),Kd=PC,Lx=Kd;function NC(){this.__data__=Lx?Lx(null):{},this.size=0}var AC=NC;function MC(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var CC=MC,EC=Kd,TC="__lodash_hash_undefined__",$C=Object.prototype,DC=$C.hasOwnProperty;function RC(e){var t=this.__data__;if(EC){var r=t[e];return r===TC?void 0:r}return DC.call(t,e)?t[e]:void 0}var LC=RC,IC=Kd,BC=Object.prototype,FC=BC.hasOwnProperty;function zC(e){var t=this.__data__;return IC?t[e]!==void 0:FC.call(t,e)}var WC=zC,UC=Kd,GC="__lodash_hash_undefined__";function HC(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=UC&&t===void 0?GC:t,this}var VC=HC,KC=AC,XC=CC,YC=LC,qC=WC,ZC=VC;function Qs(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Qs.prototype.clear=KC;Qs.prototype.delete=XC;Qs.prototype.get=YC;Qs.prototype.has=qC;Qs.prototype.set=ZC;var QC=Qs;function JC(){this.__data__=[],this.size=0}var eE=JC;function tE(e,t){return e===t||e!==e&&t!==t}var gy=tE,rE=gy;function nE(e,t){for(var r=e.length;r--;)if(rE(e[r][0],t))return r;return-1}var Xd=nE,aE=Xd,oE=Array.prototype,iE=oE.splice;function sE(e){var t=this.__data__,r=aE(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():iE.call(t,r,1),--this.size,!0}var lE=sE,cE=Xd;function uE(e){var t=this.__data__,r=cE(t,e);return r<0?void 0:t[r][1]}var fE=uE,dE=Xd;function hE(e){return dE(this.__data__,e)>-1}var pE=hE,gE=Xd;function mE(e,t){var r=this.__data__,n=gE(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var yE=mE,vE=eE,xE=lE,bE=fE,wE=pE,kE=yE;function Js(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Js.prototype.clear=vE;Js.prototype.delete=xE;Js.prototype.get=bE;Js.prototype.has=wE;Js.prototype.set=kE;var Yd=Js,SE=Ni,jE=Ca,OE=SE(jE,"Map"),my=OE,Ix=QC,_E=Yd,PE=my;function NE(){this.size=0,this.__data__={hash:new Ix,map:new(PE||_E),string:new Ix}}var AE=NE;function ME(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var CE=ME,EE=CE;function TE(e,t){var r=e.__data__;return EE(t)?r[typeof t=="string"?"string":"hash"]:r.map}var qd=TE,$E=qd;function DE(e){var t=$E(this,e).delete(e);return this.size-=t?1:0,t}var RE=DE,LE=qd;function IE(e){return LE(this,e).get(e)}var BE=IE,FE=qd;function zE(e){return FE(this,e).has(e)}var WE=zE,UE=qd;function GE(e,t){var r=UE(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var HE=GE,VE=AE,KE=RE,XE=BE,YE=WE,qE=HE;function el(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}el.prototype.clear=VE;el.prototype.delete=KE;el.prototype.get=XE;el.prototype.has=YE;el.prototype.set=qE;var yy=el,KS=yy,ZE="Expected a function";function vy(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(ZE);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],o=r.cache;if(o.has(a))return o.get(a);var i=e.apply(this,n);return r.cache=o.set(a,i)||o,i};return r.cache=new(vy.Cache||KS),r}vy.Cache=KS;var XS=vy;const QE=It(XS);var JE=XS,eT=500;function tT(e){var t=JE(e,function(n){return r.size===eT&&r.clear(),n}),r=t.cache;return t}var rT=tT,nT=rT,aT=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,oT=/\\(\\)?/g,iT=nT(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(aT,function(r,n,a,o){t.push(a?o.replace(oT,"$1"):n||r)}),t}),sT=iT;function lT(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var xy=lT,Bx=tu,cT=xy,uT=Sn,fT=qs,Fx=Bx?Bx.prototype:void 0,zx=Fx?Fx.toString:void 0;function YS(e){if(typeof e=="string")return e;if(uT(e))return cT(e,YS)+"";if(fT(e))return zx?zx.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var dT=YS,hT=dT;function pT(e){return e==null?"":hT(e)}var qS=pT,gT=Sn,mT=hy,yT=sT,vT=qS;function xT(e,t){return gT(e)?e:mT(e,t)?[e]:yT(vT(e))}var ZS=xT,bT=qs;function wT(e){if(typeof e=="string"||bT(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Zd=wT,kT=ZS,ST=Zd;function jT(e,t){t=kT(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[ST(t[r++])];return r&&r==n?e:void 0}var by=jT,OT=by;function _T(e,t,r){var n=e==null?void 0:OT(e,t);return n===void 0?r:n}var QS=_T;const Xn=It(QS);function PT(e){return e==null}var NT=PT;const De=It(NT);var AT=ao,MT=Sn,CT=oo,ET="[object String]";function TT(e){return typeof e=="string"||!MT(e)&&CT(e)&&AT(e)==ET}var $T=TT;const xi=It($T);var JS={exports:{}},_t={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wy=Symbol.for("react.element"),ky=Symbol.for("react.portal"),Qd=Symbol.for("react.fragment"),Jd=Symbol.for("react.strict_mode"),eh=Symbol.for("react.profiler"),th=Symbol.for("react.provider"),rh=Symbol.for("react.context"),DT=Symbol.for("react.server_context"),nh=Symbol.for("react.forward_ref"),ah=Symbol.for("react.suspense"),oh=Symbol.for("react.suspense_list"),ih=Symbol.for("react.memo"),sh=Symbol.for("react.lazy"),RT=Symbol.for("react.offscreen"),ej;ej=Symbol.for("react.module.reference");function Qn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case wy:switch(e=e.type,e){case Qd:case eh:case Jd:case ah:case oh:return e;default:switch(e=e&&e.$$typeof,e){case DT:case rh:case nh:case sh:case ih:case th:return e;default:return t}}case ky:return t}}}_t.ContextConsumer=rh;_t.ContextProvider=th;_t.Element=wy;_t.ForwardRef=nh;_t.Fragment=Qd;_t.Lazy=sh;_t.Memo=ih;_t.Portal=ky;_t.Profiler=eh;_t.StrictMode=Jd;_t.Suspense=ah;_t.SuspenseList=oh;_t.isAsyncMode=function(){return!1};_t.isConcurrentMode=function(){return!1};_t.isContextConsumer=function(e){return Qn(e)===rh};_t.isContextProvider=function(e){return Qn(e)===th};_t.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===wy};_t.isForwardRef=function(e){return Qn(e)===nh};_t.isFragment=function(e){return Qn(e)===Qd};_t.isLazy=function(e){return Qn(e)===sh};_t.isMemo=function(e){return Qn(e)===ih};_t.isPortal=function(e){return Qn(e)===ky};_t.isProfiler=function(e){return Qn(e)===eh};_t.isStrictMode=function(e){return Qn(e)===Jd};_t.isSuspense=function(e){return Qn(e)===ah};_t.isSuspenseList=function(e){return Qn(e)===oh};_t.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Qd||e===eh||e===Jd||e===ah||e===oh||e===RT||typeof e=="object"&&e!==null&&(e.$$typeof===sh||e.$$typeof===ih||e.$$typeof===th||e.$$typeof===rh||e.$$typeof===nh||e.$$typeof===ej||e.getModuleId!==void 0)};_t.typeOf=Qn;JS.exports=_t;var LT=JS.exports,IT=ao,BT=oo,FT="[object Number]";function zT(e){return typeof e=="number"||BT(e)&&IT(e)==FT}var tj=zT;const WT=It(tj);var UT=tj;function GT(e){return UT(e)&&e!=+e}var HT=GT;const tl=It(HT);var la=function(t){return t===0?0:t>0?1:-1},ni=function(t){return xi(t)&&t.indexOf("%")===t.length-1},oe=function(t){return WT(t)&&!tl(t)},VT=function(t){return De(t)},_r=function(t){return oe(t)||xi(t)},KT=0,Ai=function(t){var r=++KT;return"".concat(t||"").concat(r)},bi=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!oe(t)&&!xi(t))return n;var o;if(ni(t)){var i=t.indexOf("%");o=r*parseFloat(t.slice(0,i))/100}else o=+t;return tl(o)&&(o=n),a&&o>r&&(o=r),o},mo=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},XT=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},dr=function(t,r){return oe(t)&&oe(r)?function(n){return t+n*(r-t)}:function(){return r}};function Nf(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Xn(n,t))===r})}var YT=function(t){if(!t||!t.length)return null;for(var r=t.length,n=0,a=0,o=0,i=0,s=1/0,l=-1/0,c=0,u=0,f=0;f<r;f++)c=t[f].cx||0,u=t[f].cy||0,n+=c,a+=u,o+=c*u,i+=c*c,s=Math.min(s,c),l=Math.max(l,c);var h=r*i!==n*n?(r*o-n*a)/(r*i-n*n):0;return{xmin:s,xmax:l,a:h,b:(a-h*n)/r}},qT=function(t,r){return oe(t)&&oe(r)?t-r:xi(t)&&xi(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function cs(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function G0(e){"@babel/helpers - typeof";return G0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},G0(e)}var ZT=["viewBox","children"],QT=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Wx=["points","pathLength"],pp={svg:ZT,polygon:Wx,polyline:Wx},Sy=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Af=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(O.isValidElement(t)&&(n=t.props),!Zs(n))return null;var a={};return Object.keys(n).forEach(function(o){Sy.includes(o)&&(a[o]=r||function(i){return n[o](n,i)})}),a},JT=function(t,r,n){return function(a){return t(r,n,a),null}},pc=function(t,r,n){if(!Zs(t)||G0(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(o){var i=t[o];Sy.includes(o)&&typeof i=="function"&&(a||(a={}),a[o]=JT(i,r,n))}),a},e5=["children"],t5=["children"];function Ux(e,t){if(e==null)return{};var r=r5(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function r5(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function H0(e){"@babel/helpers - typeof";return H0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},H0(e)}var Gx={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Va=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},Hx=null,gp=null,jy=function e(t){if(t===Hx&&Array.isArray(gp))return gp;var r=[];return O.Children.forEach(t,function(n){De(n)||(LT.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),gp=r,Hx=t,r};function kn(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return Va(a)}):n=[Va(t)],jy(e).forEach(function(a){var o=Xn(a,"type.displayName")||Xn(a,"type.name");n.indexOf(o)!==-1&&r.push(a)}),r}function Mn(e,t){var r=kn(e,t);return r&&r[0]}var Vx=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!oe(n)||n<=0||!oe(a)||a<=0)},n5=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],a5=function(t){return t&&t.type&&xi(t.type)&&n5.indexOf(t.type)>=0},rj=function(t){return t&&H0(t)==="object"&&"clipDot"in t},o5=function(t,r,n,a){var o,i=(o=pp==null?void 0:pp[a])!==null&&o!==void 0?o:[];return r.startsWith("data-")||!ze(t)&&(a&&i.includes(r)||QT.includes(r))||n&&Sy.includes(r)},Be=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(O.isValidElement(t)&&(a=t.props),!Zs(a))return null;var o={};return Object.keys(a).forEach(function(i){var s;o5((s=a)===null||s===void 0?void 0:s[i],i,r,n)&&(o[i]=a[i])}),o},V0=function e(t,r){if(t===r)return!0;var n=O.Children.count(t);if(n!==O.Children.count(r))return!1;if(n===0)return!0;if(n===1)return Kx(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var o=t[a],i=r[a];if(Array.isArray(o)||Array.isArray(i)){if(!e(o,i))return!1}else if(!Kx(o,i))return!1}return!0},Kx=function(t,r){if(De(t)&&De(r))return!0;if(!De(t)&&!De(r)){var n=t.props||{},a=n.children,o=Ux(n,e5),i=r.props||{},s=i.children,l=Ux(i,t5);return a&&s?cs(o,l)&&V0(a,s):!a&&!s?cs(o,l):!1}return!1},Xx=function(t,r){var n=[],a={};return jy(t).forEach(function(o,i){if(a5(o))n.push(o);else if(o){var s=Va(o.type),l=r[s]||{},c=l.handler,u=l.once;if(c&&(!u||!a[s])){var f=c(o,s,i);n.push(f),a[s]=!0}}}),n},i5=function(t){var r=t&&t.type;return r&&Gx[r]?Gx[r]:null},s5=function(t,r){return jy(r).indexOf(t)},l5=["children","width","height","viewBox","className","style","title","desc"];function K0(){return K0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},K0.apply(this,arguments)}function c5(e,t){if(e==null)return{};var r=u5(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function u5(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function X0(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,o=e.className,i=e.style,s=e.title,l=e.desc,c=c5(e,l5),u=a||{width:r,height:n,x:0,y:0},f=nt("recharts-surface",o);return M.createElement("svg",K0({},Be(c,!0,"svg"),{className:f,width:r,height:n,style:i,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),M.createElement("title",null,s),M.createElement("desc",null,l),t)}var f5=["children","className"];function Y0(){return Y0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Y0.apply(this,arguments)}function d5(e,t){if(e==null)return{};var r=h5(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function h5(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var xt=M.forwardRef(function(e,t){var r=e.children,n=e.className,a=d5(e,f5),o=nt("recharts-layer",n);return M.createElement("g",Y0({className:o},Be(a,!0),{ref:t}),r)}),Ka=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o]};function p5(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(a);++n<a;)o[n]=e[n+t];return o}var g5=p5,m5=g5;function y5(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:m5(e,t,r)}var v5=y5,x5="\\ud800-\\udfff",b5="\\u0300-\\u036f",w5="\\ufe20-\\ufe2f",k5="\\u20d0-\\u20ff",S5=b5+w5+k5,j5="\\ufe0e\\ufe0f",O5="\\u200d",_5=RegExp("["+O5+x5+S5+j5+"]");function P5(e){return _5.test(e)}var nj=P5;function N5(e){return e.split("")}var A5=N5,aj="\\ud800-\\udfff",M5="\\u0300-\\u036f",C5="\\ufe20-\\ufe2f",E5="\\u20d0-\\u20ff",T5=M5+C5+E5,$5="\\ufe0e\\ufe0f",D5="["+aj+"]",q0="["+T5+"]",Z0="\\ud83c[\\udffb-\\udfff]",R5="(?:"+q0+"|"+Z0+")",oj="[^"+aj+"]",ij="(?:\\ud83c[\\udde6-\\uddff]){2}",sj="[\\ud800-\\udbff][\\udc00-\\udfff]",L5="\\u200d",lj=R5+"?",cj="["+$5+"]?",I5="(?:"+L5+"(?:"+[oj,ij,sj].join("|")+")"+cj+lj+")*",B5=cj+lj+I5,F5="(?:"+[oj+q0+"?",q0,ij,sj,D5].join("|")+")",z5=RegExp(Z0+"(?="+Z0+")|"+F5+B5,"g");function W5(e){return e.match(z5)||[]}var U5=W5,G5=A5,H5=nj,V5=U5;function K5(e){return H5(e)?V5(e):G5(e)}var X5=K5,Y5=v5,q5=nj,Z5=X5,Q5=qS;function J5(e){return function(t){t=Q5(t);var r=q5(t)?Z5(t):void 0,n=r?r[0]:t.charAt(0),a=r?Y5(r,1).join(""):t.slice(1);return n[e]()+a}}var e$=J5,t$=e$,r$=t$("toUpperCase"),n$=r$;const lh=It(n$);function Wt(e){return function(){return e}}const uj=Math.cos,Mf=Math.sin,ga=Math.sqrt,Cf=Math.PI,ch=2*Cf,Q0=Math.PI,J0=2*Q0,Zo=1e-6,a$=J0-Zo;function fj(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function o$(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return fj;const r=10**t;return function(n){this._+=n[0];for(let a=1,o=n.length;a<o;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class i${constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?fj:o$(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,o,i){this._append`C${+t},${+r},${+n},${+a},${this._x1=+o},${this._y1=+i}`}arcTo(t,r,n,a,o){if(t=+t,r=+r,n=+n,a=+a,o=+o,o<0)throw new Error(`negative radius: ${o}`);let i=this._x1,s=this._y1,l=n-t,c=a-r,u=i-t,f=s-r,h=u*u+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Zo)if(!(Math.abs(f*l-c*u)>Zo)||!o)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-i,m=a-s,v=l*l+c*c,x=p*p+m*m,y=Math.sqrt(v),g=Math.sqrt(h),b=o*Math.tan((Q0-Math.acos((v+h-x)/(2*y*g)))/2),S=b/g,w=b/y;Math.abs(S-1)>Zo&&this._append`L${t+S*u},${r+S*f}`,this._append`A${o},${o},0,0,${+(f*p>u*m)},${this._x1=t+w*l},${this._y1=r+w*c}`}}arc(t,r,n,a,o,i){if(t=+t,r=+r,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(a),l=n*Math.sin(a),c=t+s,u=r+l,f=1^i,h=i?a-o:o-a;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>Zo||Math.abs(this._y1-u)>Zo)&&this._append`L${c},${u}`,n&&(h<0&&(h=h%J0+J0),h>a$?this._append`A${n},${n},0,1,${f},${t-s},${r-l}A${n},${n},0,1,${f},${this._x1=c},${this._y1=u}`:h>Zo&&this._append`A${n},${n},0,${+(h>=Q0)},${f},${this._x1=t+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function Oy(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new i$(t)}function _y(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function dj(e){this._context=e}dj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function uh(e){return new dj(e)}function hj(e){return e[0]}function pj(e){return e[1]}function gj(e,t){var r=Wt(!0),n=null,a=uh,o=null,i=Oy(s);e=typeof e=="function"?e:e===void 0?hj:Wt(e),t=typeof t=="function"?t:t===void 0?pj:Wt(t);function s(l){var c,u=(l=_y(l)).length,f,h=!1,p;for(n==null&&(o=a(p=i())),c=0;c<=u;++c)!(c<u&&r(f=l[c],c,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+e(f,c,l),+t(f,c,l));if(p)return o=null,p+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:Wt(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:Wt(+l),s):t},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Wt(!!l),s):r},s.curve=function(l){return arguments.length?(a=l,n!=null&&(o=a(n)),s):a},s.context=function(l){return arguments.length?(l==null?n=o=null:o=a(n=l),s):n},s}function Mu(e,t,r){var n=null,a=Wt(!0),o=null,i=uh,s=null,l=Oy(c);e=typeof e=="function"?e:e===void 0?hj:Wt(+e),t=typeof t=="function"?t:Wt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?pj:Wt(+r);function c(f){var h,p,m,v=(f=_y(f)).length,x,y=!1,g,b=new Array(v),S=new Array(v);for(o==null&&(s=i(g=l())),h=0;h<=v;++h){if(!(h<v&&a(x=f[h],h,f))===y)if(y=!y)p=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),m=h-1;m>=p;--m)s.point(b[m],S[m]);s.lineEnd(),s.areaEnd()}y&&(b[h]=+e(x,h,f),S[h]=+t(x,h,f),s.point(n?+n(x,h,f):b[h],r?+r(x,h,f):S[h]))}if(g)return s=null,g+""||null}function u(){return gj().defined(a).curve(i).context(o)}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:Wt(+f),n=null,c):e},c.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Wt(+f),c):e},c.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Wt(+f),c):n},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:Wt(+f),r=null,c):t},c.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Wt(+f),c):t},c.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Wt(+f),c):r},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(r)},c.lineX1=function(){return u().x(n).y(t)},c.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Wt(!!f),c):a},c.curve=function(f){return arguments.length?(i=f,o!=null&&(s=i(o)),c):i},c.context=function(f){return arguments.length?(f==null?o=s=null:s=i(o=f),c):o},c}class mj{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function s$(e){return new mj(e,!0)}function l$(e){return new mj(e,!1)}const Py={draw(e,t){const r=ga(t/Cf);e.moveTo(r,0),e.arc(0,0,r,0,ch)}},c$={draw(e,t){const r=ga(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},yj=ga(1/3),u$=yj*2,f$={draw(e,t){const r=ga(t/u$),n=r*yj;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},d$={draw(e,t){const r=ga(t),n=-r/2;e.rect(n,n,r,r)}},h$=.8908130915292852,vj=Mf(Cf/10)/Mf(7*Cf/10),p$=Mf(ch/10)*vj,g$=-uj(ch/10)*vj,m$={draw(e,t){const r=ga(t*h$),n=p$*r,a=g$*r;e.moveTo(0,-r),e.lineTo(n,a);for(let o=1;o<5;++o){const i=ch*o/5,s=uj(i),l=Mf(i);e.lineTo(l*r,-s*r),e.lineTo(s*n-l*a,l*n+s*a)}e.closePath()}},mp=ga(3),y$={draw(e,t){const r=-ga(t/(mp*3));e.moveTo(0,r*2),e.lineTo(-mp*r,-r),e.lineTo(mp*r,-r),e.closePath()}},In=-.5,Bn=ga(3)/2,eg=1/ga(12),v$=(eg/2+1)*3,x$={draw(e,t){const r=ga(t/v$),n=r/2,a=r*eg,o=n,i=r*eg+r,s=-o,l=i;e.moveTo(n,a),e.lineTo(o,i),e.lineTo(s,l),e.lineTo(In*n-Bn*a,Bn*n+In*a),e.lineTo(In*o-Bn*i,Bn*o+In*i),e.lineTo(In*s-Bn*l,Bn*s+In*l),e.lineTo(In*n+Bn*a,In*a-Bn*n),e.lineTo(In*o+Bn*i,In*i-Bn*o),e.lineTo(In*s+Bn*l,In*l-Bn*s),e.closePath()}};function b$(e,t){let r=null,n=Oy(a);e=typeof e=="function"?e:Wt(e||Py),t=typeof t=="function"?t:Wt(t===void 0?64:+t);function a(){let o;if(r||(r=o=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),o)return r=null,o+""||null}return a.type=function(o){return arguments.length?(e=typeof o=="function"?o:Wt(o),a):e},a.size=function(o){return arguments.length?(t=typeof o=="function"?o:Wt(+o),a):t},a.context=function(o){return arguments.length?(r=o??null,a):r},a}function Ef(){}function Tf(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function xj(e){this._context=e}xj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Tf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Tf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function w$(e){return new xj(e)}function bj(e){this._context=e}bj.prototype={areaStart:Ef,areaEnd:Ef,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Tf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function k$(e){return new bj(e)}function wj(e){this._context=e}wj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Tf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function S$(e){return new wj(e)}function kj(e){this._context=e}kj.prototype={areaStart:Ef,areaEnd:Ef,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function j$(e){return new kj(e)}function Yx(e){return e<0?-1:1}function qx(e,t,r){var n=e._x1-e._x0,a=t-e._x1,o=(e._y1-e._y0)/(n||a<0&&-0),i=(r-e._y1)/(a||n<0&&-0),s=(o*a+i*n)/(n+a);return(Yx(o)+Yx(i))*Math.min(Math.abs(o),Math.abs(i),.5*Math.abs(s))||0}function Zx(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function yp(e,t,r){var n=e._x0,a=e._y0,o=e._x1,i=e._y1,s=(o-n)/3;e._context.bezierCurveTo(n+s,a+s*t,o-s,i-s*r,o,i)}function $f(e){this._context=e}$f.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:yp(this,this._t0,Zx(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,yp(this,Zx(this,r=qx(this,e,t)),r);break;default:yp(this,this._t0,r=qx(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function Sj(e){this._context=new jj(e)}(Sj.prototype=Object.create($f.prototype)).point=function(e,t){$f.prototype.point.call(this,t,e)};function jj(e){this._context=e}jj.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,o){this._context.bezierCurveTo(t,e,n,r,o,a)}};function O$(e){return new $f(e)}function _$(e){return new Sj(e)}function Oj(e){this._context=e}Oj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Qx(e),a=Qx(t),o=0,i=1;i<r;++o,++i)this._context.bezierCurveTo(n[0][o],a[0][o],n[1][o],a[1][o],e[i],t[i]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Qx(e){var t,r=e.length-1,n,a=new Array(r),o=new Array(r),i=new Array(r);for(a[0]=0,o[0]=2,i[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,o[t]=4,i[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,o[r-1]=7,i[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/o[t-1],o[t]-=n,i[t]-=n*i[t-1];for(a[r-1]=i[r-1]/o[r-1],t=r-2;t>=0;--t)a[t]=(i[t]-a[t+1])/o[t];for(o[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-a[t+1];return[a,o]}function P$(e){return new Oj(e)}function fh(e,t){this._context=e,this._t=t}fh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function N$(e){return new fh(e,.5)}function A$(e){return new fh(e,0)}function M$(e){return new fh(e,1)}function xs(e,t){if((i=e.length)>1)for(var r=1,n,a,o=e[t[0]],i,s=o.length;r<i;++r)for(a=o,o=e[t[r]],n=0;n<s;++n)o[n][1]+=o[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function tg(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function C$(e,t){return e[t]}function E$(e){const t=[];return t.key=e,t}function T$(){var e=Wt([]),t=tg,r=xs,n=C$;function a(o){var i=Array.from(e.apply(this,arguments),E$),s,l=i.length,c=-1,u;for(const f of o)for(s=0,++c;s<l;++s)(i[s][c]=[0,+n(f,i[s].key,c,o)]).data=f;for(s=0,u=_y(t(i));s<l;++s)i[u[s]].index=s;return r(i,u),i}return a.keys=function(o){return arguments.length?(e=typeof o=="function"?o:Wt(Array.from(o)),a):e},a.value=function(o){return arguments.length?(n=typeof o=="function"?o:Wt(+o),a):n},a.order=function(o){return arguments.length?(t=o==null?tg:typeof o=="function"?o:Wt(Array.from(o)),a):t},a.offset=function(o){return arguments.length?(r=o??xs,a):r},a}function $$(e,t){if((n=e.length)>0){for(var r,n,a=0,o=e[0].length,i;a<o;++a){for(i=r=0;r<n;++r)i+=e[r][a][1]||0;if(i)for(r=0;r<n;++r)e[r][a][1]/=i}xs(e,t)}}function D$(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,o=n.length;r<o;++r){for(var i=0,s=0;i<a;++i)s+=e[i][r][1]||0;n[r][1]+=n[r][0]=-s/2}xs(e,t)}}function R$(e,t){if(!(!((i=e.length)>0)||!((o=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,o,i;n<o;++n){for(var s=0,l=0,c=0;s<i;++s){for(var u=e[t[s]],f=u[n][1]||0,h=u[n-1][1]||0,p=(f-h)/2,m=0;m<s;++m){var v=e[t[m]],x=v[n][1]||0,y=v[n-1][1]||0;p+=x-y}l+=f,c+=p*f}a[n-1][1]+=a[n-1][0]=r,l&&(r-=c/l)}a[n-1][1]+=a[n-1][0]=r,xs(e,t)}}function gc(e){"@babel/helpers - typeof";return gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gc(e)}var L$=["type","size","sizeType"];function rg(){return rg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rg.apply(this,arguments)}function Jx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function eb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jx(Object(r),!0).forEach(function(n){I$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function I$(e,t,r){return t=B$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B$(e){var t=F$(e,"string");return gc(t)=="symbol"?t:t+""}function F$(e,t){if(gc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function z$(e,t){if(e==null)return{};var r=W$(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function W$(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var _j={symbolCircle:Py,symbolCross:c$,symbolDiamond:f$,symbolSquare:d$,symbolStar:m$,symbolTriangle:y$,symbolWye:x$},U$=Math.PI/180,G$=function(t){var r="symbol".concat(lh(t));return _j[r]||Py},H$=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*U$;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},V$=function(t,r){_j["symbol".concat(lh(t))]=r},dh=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,o=a===void 0?64:a,i=t.sizeType,s=i===void 0?"area":i,l=z$(t,L$),c=eb(eb({},l),{},{type:n,size:o,sizeType:s}),u=function(){var x=G$(n),y=b$().type(x).size(H$(o,s,n));return y()},f=c.className,h=c.cx,p=c.cy,m=Be(c,!0);return h===+h&&p===+p&&o===+o?M.createElement("path",rg({},m,{className:nt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:u()})):null};dh.registerSymbol=V$;function bs(e){"@babel/helpers - typeof";return bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bs(e)}function ng(){return ng=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ng.apply(this,arguments)}function tb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function K$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tb(Object(r),!0).forEach(function(n){mc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function X$(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Y$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Nj(n.key),n)}}function q$(e,t,r){return t&&Y$(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Z$(e,t,r){return t=Df(t),Q$(e,Pj()?Reflect.construct(t,r||[],Df(e).constructor):t.apply(e,r))}function Q$(e,t){if(t&&(bs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return J$(e)}function J$(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pj(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Pj=function(){return!!e})()}function Df(e){return Df=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Df(e)}function e4(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ag(e,t)}function ag(e,t){return ag=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ag(e,t)}function mc(e,t,r){return t=Nj(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nj(e){var t=t4(e,"string");return bs(t)=="symbol"?t:t+""}function t4(e,t){if(bs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Fn=32,Ny=function(e){function t(){return X$(this,t),Z$(this,t,arguments)}return e4(t,e),q$(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,o=Fn/2,i=Fn/6,s=Fn/3,l=n.inactive?a:n.color;if(n.type==="plainline")return M.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:o,x2:Fn,y2:o,className:"recharts-legend-icon"});if(n.type==="line")return M.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(Fn,"M").concat(2*s,",").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(n.type==="rect")return M.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Fn/8,"h").concat(Fn,"v").concat(Fn*3/4,"h").concat(-Fn,"z"),className:"recharts-legend-icon"});if(M.isValidElement(n.legendIcon)){var c=K$({},n);return delete c.legendIcon,M.cloneElement(n.legendIcon,c)}return M.createElement(dh,{fill:l,cx:o,cy:o,size:Fn,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,o=a.payload,i=a.iconSize,s=a.layout,l=a.formatter,c=a.inactiveColor,u={x:0,y:0,width:Fn,height:Fn},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(p,m){var v=p.formatter||l,x=nt(mc(mc({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",p.inactive));if(p.type==="none")return null;var y=ze(p.value)?null:p.value;Ka(!ze(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var g=p.inactive?c:p.color;return M.createElement("li",ng({className:x,style:f,key:"legend-item-".concat(m)},pc(n.props,p,m)),M.createElement(X0,{width:i,height:i,viewBox:u,style:h},n.renderIcon(p)),M.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},v?v(y,p,m):y))})}},{key:"render",value:function(){var n=this.props,a=n.payload,o=n.layout,i=n.align;if(!a||!a.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?i:"left"};return M.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(O.PureComponent);mc(Ny,"displayName","Legend");mc(Ny,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var r4=Yd;function n4(){this.__data__=new r4,this.size=0}var a4=n4;function o4(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var i4=o4;function s4(e){return this.__data__.get(e)}var l4=s4;function c4(e){return this.__data__.has(e)}var u4=c4,f4=Yd,d4=my,h4=yy,p4=200;function g4(e,t){var r=this.__data__;if(r instanceof f4){var n=r.__data__;if(!d4||n.length<p4-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new h4(n)}return r.set(e,t),this.size=r.size,this}var m4=g4,y4=Yd,v4=a4,x4=i4,b4=l4,w4=u4,k4=m4;function rl(e){var t=this.__data__=new y4(e);this.size=t.size}rl.prototype.clear=v4;rl.prototype.delete=x4;rl.prototype.get=b4;rl.prototype.has=w4;rl.prototype.set=k4;var Aj=rl,S4="__lodash_hash_undefined__";function j4(e){return this.__data__.set(e,S4),this}var O4=j4;function _4(e){return this.__data__.has(e)}var P4=_4,N4=yy,A4=O4,M4=P4;function Rf(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new N4;++t<r;)this.add(e[t])}Rf.prototype.add=Rf.prototype.push=A4;Rf.prototype.has=M4;var Mj=Rf;function C4(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var Cj=C4;function E4(e,t){return e.has(t)}var Ej=E4,T4=Mj,$4=Cj,D4=Ej,R4=1,L4=2;function I4(e,t,r,n,a,o){var i=r&R4,s=e.length,l=t.length;if(s!=l&&!(i&&l>s))return!1;var c=o.get(e),u=o.get(t);if(c&&u)return c==t&&u==e;var f=-1,h=!0,p=r&L4?new T4:void 0;for(o.set(e,t),o.set(t,e);++f<s;){var m=e[f],v=t[f];if(n)var x=i?n(v,m,f,t,e,o):n(m,v,f,e,t,o);if(x!==void 0){if(x)continue;h=!1;break}if(p){if(!$4(t,function(y,g){if(!D4(p,g)&&(m===y||a(m,y,r,n,o)))return p.push(g)})){h=!1;break}}else if(!(m===v||a(m,v,r,n,o))){h=!1;break}}return o.delete(e),o.delete(t),h}var Tj=I4,B4=Ca,F4=B4.Uint8Array,z4=F4;function W4(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var U4=W4;function G4(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var Ay=G4,rb=tu,nb=z4,H4=gy,V4=Tj,K4=U4,X4=Ay,Y4=1,q4=2,Z4="[object Boolean]",Q4="[object Date]",J4="[object Error]",e3="[object Map]",t3="[object Number]",r3="[object RegExp]",n3="[object Set]",a3="[object String]",o3="[object Symbol]",i3="[object ArrayBuffer]",s3="[object DataView]",ab=rb?rb.prototype:void 0,vp=ab?ab.valueOf:void 0;function l3(e,t,r,n,a,o,i){switch(r){case s3:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case i3:return!(e.byteLength!=t.byteLength||!o(new nb(e),new nb(t)));case Z4:case Q4:case t3:return H4(+e,+t);case J4:return e.name==t.name&&e.message==t.message;case r3:case a3:return e==t+"";case e3:var s=K4;case n3:var l=n&Y4;if(s||(s=X4),e.size!=t.size&&!l)return!1;var c=i.get(e);if(c)return c==t;n|=q4,i.set(e,t);var u=V4(s(e),s(t),n,a,o,i);return i.delete(e),u;case o3:if(vp)return vp.call(e)==vp.call(t)}return!1}var c3=l3;function u3(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var $j=u3,f3=$j,d3=Sn;function h3(e,t,r){var n=t(e);return d3(e)?n:f3(n,r(e))}var p3=h3;function g3(e,t){for(var r=-1,n=e==null?0:e.length,a=0,o=[];++r<n;){var i=e[r];t(i,r,e)&&(o[a++]=i)}return o}var m3=g3;function y3(){return[]}var v3=y3,x3=m3,b3=v3,w3=Object.prototype,k3=w3.propertyIsEnumerable,ob=Object.getOwnPropertySymbols,S3=ob?function(e){return e==null?[]:(e=Object(e),x3(ob(e),function(t){return k3.call(e,t)}))}:b3,j3=S3;function O3(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var _3=O3,P3=ao,N3=oo,A3="[object Arguments]";function M3(e){return N3(e)&&P3(e)==A3}var C3=M3,ib=C3,E3=oo,Dj=Object.prototype,T3=Dj.hasOwnProperty,$3=Dj.propertyIsEnumerable,D3=ib(function(){return arguments}())?ib:function(e){return E3(e)&&T3.call(e,"callee")&&!$3.call(e,"callee")},My=D3,Lf={exports:{}};function R3(){return!1}var L3=R3;Lf.exports;(function(e,t){var r=Ca,n=L3,a=t&&!t.nodeType&&t,o=a&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===a,s=i?r.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||n;e.exports=c})(Lf,Lf.exports);var Rj=Lf.exports,I3=9007199254740991,B3=/^(?:0|[1-9]\d*)$/;function F3(e,t){var r=typeof e;return t=t??I3,!!t&&(r=="number"||r!="symbol"&&B3.test(e))&&e>-1&&e%1==0&&e<t}var Cy=F3,z3=9007199254740991;function W3(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=z3}var Ey=W3,U3=ao,G3=Ey,H3=oo,V3="[object Arguments]",K3="[object Array]",X3="[object Boolean]",Y3="[object Date]",q3="[object Error]",Z3="[object Function]",Q3="[object Map]",J3="[object Number]",eD="[object Object]",tD="[object RegExp]",rD="[object Set]",nD="[object String]",aD="[object WeakMap]",oD="[object ArrayBuffer]",iD="[object DataView]",sD="[object Float32Array]",lD="[object Float64Array]",cD="[object Int8Array]",uD="[object Int16Array]",fD="[object Int32Array]",dD="[object Uint8Array]",hD="[object Uint8ClampedArray]",pD="[object Uint16Array]",gD="[object Uint32Array]",Vt={};Vt[sD]=Vt[lD]=Vt[cD]=Vt[uD]=Vt[fD]=Vt[dD]=Vt[hD]=Vt[pD]=Vt[gD]=!0;Vt[V3]=Vt[K3]=Vt[oD]=Vt[X3]=Vt[iD]=Vt[Y3]=Vt[q3]=Vt[Z3]=Vt[Q3]=Vt[J3]=Vt[eD]=Vt[tD]=Vt[rD]=Vt[nD]=Vt[aD]=!1;function mD(e){return H3(e)&&G3(e.length)&&!!Vt[U3(e)]}var yD=mD;function vD(e){return function(t){return e(t)}}var Lj=vD,If={exports:{}};If.exports;(function(e,t){var r=GS,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===n,i=o&&r.process,s=function(){try{var l=a&&a.require&&a.require("util").types;return l||i&&i.binding&&i.binding("util")}catch{}}();e.exports=s})(If,If.exports);var xD=If.exports,bD=yD,wD=Lj,sb=xD,lb=sb&&sb.isTypedArray,kD=lb?wD(lb):bD,Ij=kD,SD=_3,jD=My,OD=Sn,_D=Rj,PD=Cy,ND=Ij,AD=Object.prototype,MD=AD.hasOwnProperty;function CD(e,t){var r=OD(e),n=!r&&jD(e),a=!r&&!n&&_D(e),o=!r&&!n&&!a&&ND(e),i=r||n||a||o,s=i?SD(e.length,String):[],l=s.length;for(var c in e)(t||MD.call(e,c))&&!(i&&(c=="length"||a&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||PD(c,l)))&&s.push(c);return s}var ED=CD,TD=Object.prototype;function $D(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||TD;return e===r}var DD=$D;function RD(e,t){return function(r){return e(t(r))}}var Bj=RD,LD=Bj,ID=LD(Object.keys,Object),BD=ID,FD=DD,zD=BD,WD=Object.prototype,UD=WD.hasOwnProperty;function GD(e){if(!FD(e))return zD(e);var t=[];for(var r in Object(e))UD.call(e,r)&&r!="constructor"&&t.push(r);return t}var HD=GD,VD=py,KD=Ey;function XD(e){return e!=null&&KD(e.length)&&!VD(e)}var ru=XD,YD=ED,qD=HD,ZD=ru;function QD(e){return ZD(e)?YD(e):qD(e)}var hh=QD,JD=p3,eR=j3,tR=hh;function rR(e){return JD(e,tR,eR)}var nR=rR,cb=nR,aR=1,oR=Object.prototype,iR=oR.hasOwnProperty;function sR(e,t,r,n,a,o){var i=r&aR,s=cb(e),l=s.length,c=cb(t),u=c.length;if(l!=u&&!i)return!1;for(var f=l;f--;){var h=s[f];if(!(i?h in t:iR.call(t,h)))return!1}var p=o.get(e),m=o.get(t);if(p&&m)return p==t&&m==e;var v=!0;o.set(e,t),o.set(t,e);for(var x=i;++f<l;){h=s[f];var y=e[h],g=t[h];if(n)var b=i?n(g,y,h,t,e,o):n(y,g,h,e,t,o);if(!(b===void 0?y===g||a(y,g,r,n,o):b)){v=!1;break}x||(x=h=="constructor")}if(v&&!x){var S=e.constructor,w=t.constructor;S!=w&&"constructor"in e&&"constructor"in t&&!(typeof S=="function"&&S instanceof S&&typeof w=="function"&&w instanceof w)&&(v=!1)}return o.delete(e),o.delete(t),v}var lR=sR,cR=Ni,uR=Ca,fR=cR(uR,"DataView"),dR=fR,hR=Ni,pR=Ca,gR=hR(pR,"Promise"),mR=gR,yR=Ni,vR=Ca,xR=yR(vR,"Set"),Fj=xR,bR=Ni,wR=Ca,kR=bR(wR,"WeakMap"),SR=kR,og=dR,ig=my,sg=mR,lg=Fj,cg=SR,zj=ao,nl=VS,ub="[object Map]",jR="[object Object]",fb="[object Promise]",db="[object Set]",hb="[object WeakMap]",pb="[object DataView]",OR=nl(og),_R=nl(ig),PR=nl(sg),NR=nl(lg),AR=nl(cg),Qo=zj;(og&&Qo(new og(new ArrayBuffer(1)))!=pb||ig&&Qo(new ig)!=ub||sg&&Qo(sg.resolve())!=fb||lg&&Qo(new lg)!=db||cg&&Qo(new cg)!=hb)&&(Qo=function(e){var t=zj(e),r=t==jR?e.constructor:void 0,n=r?nl(r):"";if(n)switch(n){case OR:return pb;case _R:return ub;case PR:return fb;case NR:return db;case AR:return hb}return t});var MR=Qo,xp=Aj,CR=Tj,ER=c3,TR=lR,gb=MR,mb=Sn,yb=Rj,$R=Ij,DR=1,vb="[object Arguments]",xb="[object Array]",Cu="[object Object]",RR=Object.prototype,bb=RR.hasOwnProperty;function LR(e,t,r,n,a,o){var i=mb(e),s=mb(t),l=i?xb:gb(e),c=s?xb:gb(t);l=l==vb?Cu:l,c=c==vb?Cu:c;var u=l==Cu,f=c==Cu,h=l==c;if(h&&yb(e)){if(!yb(t))return!1;i=!0,u=!1}if(h&&!u)return o||(o=new xp),i||$R(e)?CR(e,t,r,n,a,o):ER(e,t,l,r,n,a,o);if(!(r&DR)){var p=u&&bb.call(e,"__wrapped__"),m=f&&bb.call(t,"__wrapped__");if(p||m){var v=p?e.value():e,x=m?t.value():t;return o||(o=new xp),a(v,x,r,n,o)}}return h?(o||(o=new xp),TR(e,t,r,n,a,o)):!1}var IR=LR,BR=IR,wb=oo;function Wj(e,t,r,n,a){return e===t?!0:e==null||t==null||!wb(e)&&!wb(t)?e!==e&&t!==t:BR(e,t,r,n,Wj,a)}var Ty=Wj,FR=Aj,zR=Ty,WR=1,UR=2;function GR(e,t,r,n){var a=r.length,o=a,i=!n;if(e==null)return!o;for(e=Object(e);a--;){var s=r[a];if(i&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<o;){s=r[a];var l=s[0],c=e[l],u=s[1];if(i&&s[2]){if(c===void 0&&!(l in e))return!1}else{var f=new FR;if(n)var h=n(c,u,l,e,t,f);if(!(h===void 0?zR(u,c,WR|UR,n,f):h))return!1}}return!0}var HR=GR,VR=Ro;function KR(e){return e===e&&!VR(e)}var Uj=KR,XR=Uj,YR=hh;function qR(e){for(var t=YR(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,XR(a)]}return t}var ZR=qR;function QR(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var Gj=QR,JR=HR,eL=ZR,tL=Gj;function rL(e){var t=eL(e);return t.length==1&&t[0][2]?tL(t[0][0],t[0][1]):function(r){return r===e||JR(r,e,t)}}var nL=rL;function aL(e,t){return e!=null&&t in Object(e)}var oL=aL,iL=ZS,sL=My,lL=Sn,cL=Cy,uL=Ey,fL=Zd;function dL(e,t,r){t=iL(t,e);for(var n=-1,a=t.length,o=!1;++n<a;){var i=fL(t[n]);if(!(o=e!=null&&r(e,i)))break;e=e[i]}return o||++n!=a?o:(a=e==null?0:e.length,!!a&&uL(a)&&cL(i,a)&&(lL(e)||sL(e)))}var hL=dL,pL=oL,gL=hL;function mL(e,t){return e!=null&&gL(e,t,pL)}var yL=mL,vL=Ty,xL=QS,bL=yL,wL=hy,kL=Uj,SL=Gj,jL=Zd,OL=1,_L=2;function PL(e,t){return wL(e)&&kL(t)?SL(jL(e),t):function(r){var n=xL(r,e);return n===void 0&&n===t?bL(r,e):vL(t,n,OL|_L)}}var NL=PL;function AL(e){return e}var al=AL;function ML(e){return function(t){return t==null?void 0:t[e]}}var CL=ML,EL=by;function TL(e){return function(t){return EL(t,e)}}var $L=TL,DL=CL,RL=$L,LL=hy,IL=Zd;function BL(e){return LL(e)?DL(IL(e)):RL(e)}var FL=BL,zL=nL,WL=NL,UL=al,GL=Sn,HL=FL;function VL(e){return typeof e=="function"?e:e==null?UL:typeof e=="object"?GL(e)?WL(e[0],e[1]):zL(e):HL(e)}var Lo=VL;function KL(e,t,r,n){for(var a=e.length,o=r+(n?1:-1);n?o--:++o<a;)if(t(e[o],o,e))return o;return-1}var Hj=KL;function XL(e){return e!==e}var YL=XL;function qL(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var ZL=qL,QL=Hj,JL=YL,eI=ZL;function tI(e,t,r){return t===t?eI(e,t,r):QL(e,JL,r)}var rI=tI,nI=rI;function aI(e,t){var r=e==null?0:e.length;return!!r&&nI(e,t,0)>-1}var oI=aI;function iI(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var sI=iI;function lI(){}var cI=lI,bp=Fj,uI=cI,fI=Ay,dI=1/0,hI=bp&&1/fI(new bp([,-0]))[1]==dI?function(e){return new bp(e)}:uI,pI=hI,gI=Mj,mI=oI,yI=sI,vI=Ej,xI=pI,bI=Ay,wI=200;function kI(e,t,r){var n=-1,a=mI,o=e.length,i=!0,s=[],l=s;if(r)i=!1,a=yI;else if(o>=wI){var c=t?null:xI(e);if(c)return bI(c);i=!1,a=vI,l=new gI}else l=t?[]:s;e:for(;++n<o;){var u=e[n],f=t?t(u):u;if(u=r||u!==0?u:0,i&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;t&&l.push(f),s.push(u)}else a(l,f,r)||(l!==s&&l.push(f),s.push(u))}return s}var SI=kI,jI=Lo,OI=SI;function _I(e,t){return e&&e.length?OI(e,jI(t)):[]}var PI=_I;const kb=It(PI);function Vj(e,t,r){return t===!0?kb(e,r):ze(t)?kb(e,t):e}function ws(e){"@babel/helpers - typeof";return ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ws(e)}var NI=["ref"];function Sb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function La(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sb(Object(r),!0).forEach(function(n){ph(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Xj(n.key),n)}}function MI(e,t,r){return t&&jb(e.prototype,t),r&&jb(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function CI(e,t,r){return t=Bf(t),EI(e,Kj()?Reflect.construct(t,r||[],Bf(e).constructor):t.apply(e,r))}function EI(e,t){if(t&&(ws(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TI(e)}function TI(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kj(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Kj=function(){return!!e})()}function Bf(e){return Bf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bf(e)}function $I(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ug(e,t)}function ug(e,t){return ug=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ug(e,t)}function ph(e,t,r){return t=Xj(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xj(e){var t=DI(e,"string");return ws(t)=="symbol"?t:t+""}function DI(e,t){if(ws(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ws(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function RI(e,t){if(e==null)return{};var r=LI(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function LI(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function II(e){return e.value}function BI(e,t){if(M.isValidElement(e))return M.cloneElement(e,t);if(typeof e=="function")return M.createElement(e,t);t.ref;var r=RI(t,NI);return M.createElement(Ny,r)}var Ob=1,Xa=function(e){function t(){var r;AI(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=CI(this,t,[].concat(a)),ph(r,"lastBoundingBox",{width:-1,height:-1}),r}return $I(t,e),MI(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>Ob||Math.abs(a.height-this.lastBoundingBox.height)>Ob)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?La({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,o=a.layout,i=a.align,s=a.verticalAlign,l=a.margin,c=a.chartWidth,u=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(i==="center"&&o==="vertical"){var p=this.getBBoxSnapshot();f={left:((c||0)-p.width)/2}}else f=i==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(s==="middle"){var m=this.getBBoxSnapshot();h={top:((u||0)-m.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return La(La({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,o=a.content,i=a.width,s=a.height,l=a.wrapperStyle,c=a.payloadUniqBy,u=a.payload,f=La(La({position:"absolute",width:i||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return M.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},BI(o,La(La({},this.props),{},{payload:Vj(u,c,II)})))}}],[{key:"getWithHeight",value:function(n,a){var o=La(La({},this.defaultProps),n.props),i=o.layout;return i==="vertical"&&oe(n.props.height)?{height:n.props.height}:i==="horizontal"?{width:n.props.width||a}:null}}])}(O.PureComponent);ph(Xa,"displayName","Legend");ph(Xa,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var _b=tu,FI=My,zI=Sn,Pb=_b?_b.isConcatSpreadable:void 0;function WI(e){return zI(e)||FI(e)||!!(Pb&&e&&e[Pb])}var UI=WI,GI=$j,HI=UI;function Yj(e,t,r,n,a){var o=-1,i=e.length;for(r||(r=HI),a||(a=[]);++o<i;){var s=e[o];t>0&&r(s)?t>1?Yj(s,t-1,r,n,a):GI(a,s):n||(a[a.length]=s)}return a}var qj=Yj;function VI(e){return function(t,r,n){for(var a=-1,o=Object(t),i=n(t),s=i.length;s--;){var l=i[e?s:++a];if(r(o[l],l,o)===!1)break}return t}}var KI=VI,XI=KI,YI=XI(),qI=YI,ZI=qI,QI=hh;function JI(e,t){return e&&ZI(e,t,QI)}var Zj=JI,e6=ru;function t6(e,t){return function(r,n){if(r==null)return r;if(!e6(r))return e(r,n);for(var a=r.length,o=t?a:-1,i=Object(r);(t?o--:++o<a)&&n(i[o],o,i)!==!1;);return r}}var r6=t6,n6=Zj,a6=r6,o6=a6(n6),$y=o6,i6=$y,s6=ru;function l6(e,t){var r=-1,n=s6(e)?Array(e.length):[];return i6(e,function(a,o,i){n[++r]=t(a,o,i)}),n}var Qj=l6;function c6(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var u6=c6,Nb=qs;function f6(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,o=Nb(e),i=t!==void 0,s=t===null,l=t===t,c=Nb(t);if(!s&&!c&&!o&&e>t||o&&i&&l&&!s&&!c||n&&i&&l||!r&&l||!a)return 1;if(!n&&!o&&!c&&e<t||c&&r&&a&&!n&&!o||s&&r&&a||!i&&a||!l)return-1}return 0}var d6=f6,h6=d6;function p6(e,t,r){for(var n=-1,a=e.criteria,o=t.criteria,i=a.length,s=r.length;++n<i;){var l=h6(a[n],o[n]);if(l){if(n>=s)return l;var c=r[n];return l*(c=="desc"?-1:1)}}return e.index-t.index}var g6=p6,wp=xy,m6=by,y6=Lo,v6=Qj,x6=u6,b6=Lj,w6=g6,k6=al,S6=Sn;function j6(e,t,r){t.length?t=wp(t,function(o){return S6(o)?function(i){return m6(i,o.length===1?o[0]:o)}:o}):t=[k6];var n=-1;t=wp(t,b6(y6));var a=v6(e,function(o,i,s){var l=wp(t,function(c){return c(o)});return{criteria:l,index:++n,value:o}});return x6(a,function(o,i){return w6(o,i,r)})}var O6=j6;function _6(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var P6=_6,N6=P6,Ab=Math.max;function A6(e,t,r){return t=Ab(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,o=Ab(n.length-t,0),i=Array(o);++a<o;)i[a]=n[t+a];a=-1;for(var s=Array(t+1);++a<t;)s[a]=n[a];return s[t]=r(i),N6(e,this,s)}}var M6=A6;function C6(e){return function(){return e}}var E6=C6,T6=Ni,$6=function(){try{var e=T6(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Jj=$6,D6=E6,Mb=Jj,R6=al,L6=Mb?function(e,t){return Mb(e,"toString",{configurable:!0,enumerable:!1,value:D6(t),writable:!0})}:R6,I6=L6,B6=800,F6=16,z6=Date.now;function W6(e){var t=0,r=0;return function(){var n=z6(),a=F6-(n-r);if(r=n,a>0){if(++t>=B6)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var U6=W6,G6=I6,H6=U6,V6=H6(G6),K6=V6,X6=al,Y6=M6,q6=K6;function Z6(e,t){return q6(Y6(e,t,X6),e+"")}var Q6=Z6,J6=gy,eB=ru,tB=Cy,rB=Ro;function nB(e,t,r){if(!rB(r))return!1;var n=typeof t;return(n=="number"?eB(r)&&tB(t,r.length):n=="string"&&t in r)?J6(r[t],e):!1}var gh=nB,aB=qj,oB=O6,iB=Q6,Cb=gh,sB=iB(function(e,t){if(e==null)return[];var r=t.length;return r>1&&Cb(e,t[0],t[1])?t=[]:r>2&&Cb(t[0],t[1],t[2])&&(t=[t[0]]),oB(e,aB(t,1),[])}),lB=sB;const Dy=It(lB);function yc(e){"@babel/helpers - typeof";return yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yc(e)}function fg(){return fg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fg.apply(this,arguments)}function cB(e,t){return hB(e)||dB(e,t)||fB(e,t)||uB()}function uB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fB(e,t){if(e){if(typeof e=="string")return Eb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Eb(e,t)}}function Eb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dB(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function hB(e){if(Array.isArray(e))return e}function Tb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tb(Object(r),!0).forEach(function(n){pB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pB(e,t,r){return t=gB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gB(e){var t=mB(e,"string");return yc(t)=="symbol"?t:t+""}function mB(e,t){if(yc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yB(e){return Array.isArray(e)&&_r(e[0])&&_r(e[1])?e.join(" ~ "):e}var vB=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,o=a===void 0?{}:a,i=t.itemStyle,s=i===void 0?{}:i,l=t.labelStyle,c=l===void 0?{}:l,u=t.payload,f=t.formatter,h=t.itemSorter,p=t.wrapperClassName,m=t.labelClassName,v=t.label,x=t.labelFormatter,y=t.accessibilityLayer,g=y===void 0?!1:y,b=function(){if(u&&u.length){var E={padding:0,margin:0},F=(h?Dy(u,h):u).map(function(I,T){if(I.type==="none")return null;var R=kp({display:"block",paddingTop:4,paddingBottom:4,color:I.color||"#000"},s),W=I.formatter||f||yB,L=I.value,D=I.name,B=L,J=D;if(W&&B!=null&&J!=null){var q=W(L,D,I,T,u);if(Array.isArray(q)){var H=cB(q,2);B=H[0],J=H[1]}else B=q}return M.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(T),style:R},_r(J)?M.createElement("span",{className:"recharts-tooltip-item-name"},J):null,_r(J)?M.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,M.createElement("span",{className:"recharts-tooltip-item-value"},B),M.createElement("span",{className:"recharts-tooltip-item-unit"},I.unit||""))});return M.createElement("ul",{className:"recharts-tooltip-item-list",style:E},F)}return null},S=kp({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),w=kp({margin:0},c),k=!De(v),j=k?v:"",_=nt("recharts-default-tooltip",p),P=nt("recharts-tooltip-label",m);k&&x&&u!==void 0&&u!==null&&(j=x(v,u));var A=g?{role:"status","aria-live":"assertive"}:{};return M.createElement("div",fg({className:_,style:S},A),M.createElement("p",{className:P,style:w},M.isValidElement(j)?j:"".concat(j)),b())};function vc(e){"@babel/helpers - typeof";return vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vc(e)}function Eu(e,t,r){return t=xB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xB(e){var t=bB(e,"string");return vc(t)=="symbol"?t:t+""}function bB(e,t){if(vc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wl="recharts-tooltip-wrapper",wB={visibility:"hidden"};function kB(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return nt(wl,Eu(Eu(Eu(Eu({},"".concat(wl,"-right"),oe(r)&&t&&oe(t.x)&&r>=t.x),"".concat(wl,"-left"),oe(r)&&t&&oe(t.x)&&r<t.x),"".concat(wl,"-bottom"),oe(n)&&t&&oe(t.y)&&n>=t.y),"".concat(wl,"-top"),oe(n)&&t&&oe(t.y)&&n<t.y))}function $b(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,o=e.position,i=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(o&&oe(o[n]))return o[n];var u=r[n]-s-a,f=r[n]+a;if(t[n])return i[n]?u:f;if(i[n]){var h=u,p=l[n];return h<p?Math.max(f,l[n]):Math.max(u,l[n])}var m=f+s,v=l[n]+c;return m>v?Math.max(u,l[n]):Math.max(f,l[n])}function SB(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function jB(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,o=e.reverseDirection,i=e.tooltipBox,s=e.useTranslate3d,l=e.viewBox,c,u,f;return i.height>0&&i.width>0&&r?(u=$b({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:o,tooltipDimension:i.width,viewBox:l,viewBoxDimension:l.width}),f=$b({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:o,tooltipDimension:i.height,viewBox:l,viewBoxDimension:l.height}),c=SB({translateX:u,translateY:f,useTranslate3d:s})):c=wB,{cssProperties:c,cssClasses:kB({translateX:u,translateY:f,coordinate:r})}}function ks(e){"@babel/helpers - typeof";return ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ks(e)}function Db(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Db(Object(r),!0).forEach(function(n){hg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Db(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _B(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tO(n.key),n)}}function PB(e,t,r){return t&&_B(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function NB(e,t,r){return t=Ff(t),AB(e,eO()?Reflect.construct(t,r||[],Ff(e).constructor):t.apply(e,r))}function AB(e,t){if(t&&(ks(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MB(e)}function MB(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eO=function(){return!!e})()}function Ff(e){return Ff=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ff(e)}function CB(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dg(e,t)}function dg(e,t){return dg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},dg(e,t)}function hg(e,t,r){return t=tO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tO(e){var t=EB(e,"string");return ks(t)=="symbol"?t:t+""}function EB(e,t){if(ks(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ks(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Lb=1,TB=function(e){function t(){var r;OB(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=NB(this,t,[].concat(a)),hg(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),hg(r,"handleKeyDown",function(i){if(i.key==="Escape"){var s,l,c,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(c=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),r}return CB(t,e),PB(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>Lb||Math.abs(n.height-this.state.lastBoundingBox.height)>Lb)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,o=a.active,i=a.allowEscapeViewBox,s=a.animationDuration,l=a.animationEasing,c=a.children,u=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,p=a.offset,m=a.position,v=a.reverseDirection,x=a.useTranslate3d,y=a.viewBox,g=a.wrapperStyle,b=jB({allowEscapeViewBox:i,coordinate:u,offsetTopLeft:p,position:m,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:y}),S=b.cssClasses,w=b.cssProperties,k=Rb(Rb({transition:h&&o?"transform ".concat(s,"ms ").concat(l):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},g);return M.createElement("div",{tabIndex:-1,className:S,style:k,ref:function(_){n.wrapperNode=_}},c)}}])}(O.PureComponent),$B=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Io={isSsr:$B()};function Ss(e){"@babel/helpers - typeof";return Ss=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ss(e)}function Ib(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ib(Object(r),!0).forEach(function(n){Ry(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ib(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RB(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nO(n.key),n)}}function LB(e,t,r){return t&&RB(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function IB(e,t,r){return t=zf(t),BB(e,rO()?Reflect.construct(t,r||[],zf(e).constructor):t.apply(e,r))}function BB(e,t){if(t&&(Ss(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FB(e)}function FB(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rO=function(){return!!e})()}function zf(e){return zf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zf(e)}function zB(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pg(e,t)}function pg(e,t){return pg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},pg(e,t)}function Ry(e,t,r){return t=nO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nO(e){var t=WB(e,"string");return Ss(t)=="symbol"?t:t+""}function WB(e,t){if(Ss(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ss(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function UB(e){return e.dataKey}function GB(e,t){return M.isValidElement(e)?M.cloneElement(e,t):typeof e=="function"?M.createElement(e,t):M.createElement(vB,t)}var un=function(e){function t(){return DB(this,t),IB(this,t,arguments)}return zB(t,e),LB(t,[{key:"render",value:function(){var n=this,a=this.props,o=a.active,i=a.allowEscapeViewBox,s=a.animationDuration,l=a.animationEasing,c=a.content,u=a.coordinate,f=a.filterNull,h=a.isAnimationActive,p=a.offset,m=a.payload,v=a.payloadUniqBy,x=a.position,y=a.reverseDirection,g=a.useTranslate3d,b=a.viewBox,S=a.wrapperStyle,w=m??[];f&&w.length&&(w=Vj(m.filter(function(j){return j.value!=null&&(j.hide!==!0||n.props.includeHidden)}),v,UB));var k=w.length>0;return M.createElement(TB,{allowEscapeViewBox:i,animationDuration:s,animationEasing:l,isAnimationActive:h,active:o,coordinate:u,hasPayload:k,offset:p,position:x,reverseDirection:y,useTranslate3d:g,viewBox:b,wrapperStyle:S},GB(c,Bb(Bb({},this.props),{},{payload:w})))}}])}(O.PureComponent);Ry(un,"displayName","Tooltip");Ry(un,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Io.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var HB=Ca,VB=function(){return HB.Date.now()},KB=VB,XB=/\s/;function YB(e){for(var t=e.length;t--&&XB.test(e.charAt(t)););return t}var qB=YB,ZB=qB,QB=/^\s+/;function JB(e){return e&&e.slice(0,ZB(e)+1).replace(QB,"")}var e8=JB,t8=e8,Fb=Ro,r8=qs,zb=NaN,n8=/^[-+]0x[0-9a-f]+$/i,a8=/^0b[01]+$/i,o8=/^0o[0-7]+$/i,i8=parseInt;function s8(e){if(typeof e=="number")return e;if(r8(e))return zb;if(Fb(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Fb(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=t8(e);var r=a8.test(e);return r||o8.test(e)?i8(e.slice(2),r?2:8):n8.test(e)?zb:+e}var aO=s8,l8=Ro,Sp=KB,Wb=aO,c8="Expected a function",u8=Math.max,f8=Math.min;function d8(e,t,r){var n,a,o,i,s,l,c=0,u=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(c8);t=Wb(t)||0,l8(r)&&(u=!!r.leading,f="maxWait"in r,o=f?u8(Wb(r.maxWait)||0,t):o,h="trailing"in r?!!r.trailing:h);function p(k){var j=n,_=a;return n=a=void 0,c=k,i=e.apply(_,j),i}function m(k){return c=k,s=setTimeout(y,t),u?p(k):i}function v(k){var j=k-l,_=k-c,P=t-j;return f?f8(P,o-_):P}function x(k){var j=k-l,_=k-c;return l===void 0||j>=t||j<0||f&&_>=o}function y(){var k=Sp();if(x(k))return g(k);s=setTimeout(y,v(k))}function g(k){return s=void 0,h&&n?p(k):(n=a=void 0,i)}function b(){s!==void 0&&clearTimeout(s),c=0,n=l=a=s=void 0}function S(){return s===void 0?i:g(Sp())}function w(){var k=Sp(),j=x(k);if(n=arguments,a=this,l=k,j){if(s===void 0)return m(l);if(f)return clearTimeout(s),s=setTimeout(y,t),p(l)}return s===void 0&&(s=setTimeout(y,t)),i}return w.cancel=b,w.flush=S,w}var h8=d8,p8=h8,g8=Ro,m8="Expected a function";function y8(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(m8);return g8(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),p8(e,t,{leading:n,maxWait:t,trailing:a})}var v8=y8;const oO=It(v8);function xc(e){"@babel/helpers - typeof";return xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xc(e)}function Ub(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ub(Object(r),!0).forEach(function(n){x8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ub(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function x8(e,t,r){return t=b8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b8(e){var t=w8(e,"string");return xc(t)=="symbol"?t:t+""}function w8(e,t){if(xc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function k8(e,t){return _8(e)||O8(e,t)||j8(e,t)||S8()}function S8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j8(e,t){if(e){if(typeof e=="string")return Gb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gb(e,t)}}function Gb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function O8(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function _8(e){if(Array.isArray(e))return e}var js=O.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,o=e.width,i=o===void 0?"100%":o,s=e.height,l=s===void 0?"100%":s,c=e.minWidth,u=c===void 0?0:c,f=e.minHeight,h=e.maxHeight,p=e.children,m=e.debounce,v=m===void 0?0:m,x=e.id,y=e.className,g=e.onResize,b=e.style,S=b===void 0?{}:b,w=O.useRef(null),k=O.useRef();k.current=g,O.useImperativeHandle(t,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var j=O.useState({containerWidth:a.width,containerHeight:a.height}),_=k8(j,2),P=_[0],A=_[1],N=O.useCallback(function(F,I){A(function(T){var R=Math.round(F),W=Math.round(I);return T.containerWidth===R&&T.containerHeight===W?T:{containerWidth:R,containerHeight:W}})},[]);O.useEffect(function(){var F=function(D){var B,J=D[0].contentRect,q=J.width,H=J.height;N(q,H),(B=k.current)===null||B===void 0||B.call(k,q,H)};v>0&&(F=oO(F,v,{trailing:!0,leading:!1}));var I=new ResizeObserver(F),T=w.current.getBoundingClientRect(),R=T.width,W=T.height;return N(R,W),I.observe(w.current),function(){I.disconnect()}},[N,v]);var E=O.useMemo(function(){var F=P.containerWidth,I=P.containerHeight;if(F<0||I<0)return null;Ka(ni(i)||ni(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,l),Ka(!r||r>0,"The aspect(%s) must be greater than zero.",r);var T=ni(i)?F:i,R=ni(l)?I:l;r&&r>0&&(T?R=T/r:R&&(T=R*r),h&&R>h&&(R=h)),Ka(T>0||R>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,T,R,i,l,u,f,r);var W=!Array.isArray(p)&&Va(p.type).endsWith("Chart");return M.Children.map(p,function(L){return M.isValidElement(L)?O.cloneElement(L,Tu({width:T,height:R},W?{style:Tu({height:"100%",width:"100%",maxHeight:R,maxWidth:T},L.props.style)}:{})):L})},[r,p,l,h,f,u,P,i]);return M.createElement("div",{id:x?"".concat(x):void 0,className:nt("recharts-responsive-container",y),style:Tu(Tu({},S),{},{width:i,height:l,minWidth:u,minHeight:f,maxHeight:h}),ref:w},E)}),Ly=function(t){return null};Ly.displayName="Cell";function bc(e){"@babel/helpers - typeof";return bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bc(e)}function Hb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hb(Object(r),!0).forEach(function(n){P8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P8(e,t,r){return t=N8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N8(e){var t=A8(e,"string");return bc(t)=="symbol"?t:t+""}function A8(e,t){if(bc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Li={widthCache:{},cacheCount:0},M8=2e3,C8={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Vb="recharts_measurement_span";function E8(e){var t=gg({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Gl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Io.isSsr)return{width:0,height:0};var n=E8(r),a=JSON.stringify({text:t,copyStyle:n});if(Li.widthCache[a])return Li.widthCache[a];try{var o=document.getElementById(Vb);o||(o=document.createElement("span"),o.setAttribute("id",Vb),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var i=gg(gg({},C8),n);Object.assign(o.style,i),o.textContent="".concat(t);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return Li.widthCache[a]=l,++Li.cacheCount>M8&&(Li.cacheCount=0,Li.widthCache={}),l}catch{return{width:0,height:0}}},T8=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function wc(e){"@babel/helpers - typeof";return wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wc(e)}function Wf(e,t){return L8(e)||R8(e,t)||D8(e,t)||$8()}function $8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D8(e,t){if(e){if(typeof e=="string")return Kb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Kb(e,t)}}function Kb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function R8(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function L8(e){if(Array.isArray(e))return e}function I8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,F8(n.key),n)}}function B8(e,t,r){return t&&Xb(e.prototype,t),r&&Xb(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function F8(e){var t=z8(e,"string");return wc(t)=="symbol"?t:t+""}function z8(e,t){if(wc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Yb=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,qb=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,W8=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,U8=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,iO={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},G8=Object.keys(iO),es="NaN";function H8(e,t){return e*iO[t]}var $u=function(){function e(t,r){I8(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!W8.test(r)&&(this.num=NaN,this.unit=""),G8.includes(r)&&(this.num=H8(t,r),this.unit="px")}return B8(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=U8.exec(r))!==null&&n!==void 0?n:[],o=Wf(a,3),i=o[1],s=o[2];return new e(parseFloat(i),s??"")}}])}();function sO(e){if(e.includes(es))return es;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=Yb.exec(t))!==null&&r!==void 0?r:[],a=Wf(n,4),o=a[1],i=a[2],s=a[3],l=$u.parse(o??""),c=$u.parse(s??""),u=i==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return es;t=t.replace(Yb,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=qb.exec(t))!==null&&f!==void 0?f:[],p=Wf(h,4),m=p[1],v=p[2],x=p[3],y=$u.parse(m??""),g=$u.parse(x??""),b=v==="+"?y.add(g):y.subtract(g);if(b.isNaN())return es;t=t.replace(qb,b.toString())}return t}var Zb=/\(([^()]*)\)/;function V8(e){for(var t=e;t.includes("(");){var r=Zb.exec(t),n=Wf(r,2),a=n[1];t=t.replace(Zb,sO(a))}return t}function K8(e){var t=e.replace(/\s+/g,"");return t=V8(t),t=sO(t),t}function X8(e){try{return K8(e)}catch{return es}}function jp(e){var t=X8(e.slice(5,-1));return t===es?"":t}var Y8=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],q8=["dx","dy","angle","className","breakAll"];function mg(){return mg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mg.apply(this,arguments)}function Qb(e,t){if(e==null)return{};var r=Z8(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Z8(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Jb(e,t){return tF(e)||eF(e,t)||J8(e,t)||Q8()}function Q8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J8(e,t){if(e){if(typeof e=="string")return e1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e1(e,t)}}function e1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eF(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function tF(e){if(Array.isArray(e))return e}var lO=/[ \f\n\r\t\v\u2028\u2029]+/,cO=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var o=[];De(r)||(n?o=r.toString().split(""):o=r.toString().split(lO));var i=o.map(function(l){return{word:l,width:Gl(l,a).width}}),s=n?0:Gl("",a).width;return{wordsWithComputedWidth:i,spaceWidth:s}}catch{return null}},rF=function(t,r,n,a,o){var i=t.maxLines,s=t.children,l=t.style,c=t.breakAll,u=oe(i),f=s,h=function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return T.reduce(function(R,W){var L=W.word,D=W.width,B=R[R.length-1];if(B&&(a==null||o||B.width+D+n<Number(a)))B.words.push(L),B.width+=D+n;else{var J={words:[L],width:D};R.push(J)}return R},[])},p=h(r),m=function(T){return T.reduce(function(R,W){return R.width>W.width?R:W})};if(!u)return p;for(var v="",x=function(T){var R=f.slice(0,T),W=cO({breakAll:c,style:l,children:R+v}).wordsWithComputedWidth,L=h(W),D=L.length>i||m(L).width>Number(a);return[D,L]},y=0,g=f.length-1,b=0,S;y<=g&&b<=f.length-1;){var w=Math.floor((y+g)/2),k=w-1,j=x(k),_=Jb(j,2),P=_[0],A=_[1],N=x(w),E=Jb(N,1),F=E[0];if(!P&&!F&&(y=w+1),P&&F&&(g=w-1),!P&&F){S=A;break}b++}return S||p},t1=function(t){var r=De(t)?[]:t.toString().split(lO);return[{words:r}]},nF=function(t){var r=t.width,n=t.scaleToFit,a=t.children,o=t.style,i=t.breakAll,s=t.maxLines;if((r||n)&&!Io.isSsr){var l,c,u=cO({breakAll:i,children:a,style:o});if(u){var f=u.wordsWithComputedWidth,h=u.spaceWidth;l=f,c=h}else return t1(a);return rF({breakAll:i,children:a,maxLines:s,style:o},l,c,r,n)}return t1(a)},r1="#808080",Uf=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,o=a===void 0?0:a,i=t.lineHeight,s=i===void 0?"1em":i,l=t.capHeight,c=l===void 0?"0.71em":l,u=t.scaleToFit,f=u===void 0?!1:u,h=t.textAnchor,p=h===void 0?"start":h,m=t.verticalAnchor,v=m===void 0?"end":m,x=t.fill,y=x===void 0?r1:x,g=Qb(t,Y8),b=O.useMemo(function(){return nF({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:f,style:g.style,width:g.width})},[g.breakAll,g.children,g.maxLines,f,g.style,g.width]),S=g.dx,w=g.dy,k=g.angle,j=g.className,_=g.breakAll,P=Qb(g,q8);if(!_r(n)||!_r(o))return null;var A=n+(oe(S)?S:0),N=o+(oe(w)?w:0),E;switch(v){case"start":E=jp("calc(".concat(c,")"));break;case"middle":E=jp("calc(".concat((b.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:E=jp("calc(".concat(b.length-1," * -").concat(s,")"));break}var F=[];if(f){var I=b[0].width,T=g.width;F.push("scale(".concat((oe(T)?T/I:1)/I,")"))}return k&&F.push("rotate(".concat(k,", ").concat(A,", ").concat(N,")")),F.length&&(P.transform=F.join(" ")),M.createElement("text",mg({},Be(P,!0),{x:A,y:N,className:nt("recharts-text",j),textAnchor:p,fill:y.includes("url")?r1:y}),b.map(function(R,W){var L=R.words.join(_?"":" ");return M.createElement("tspan",{x:A,dy:W===0?E:s,key:"".concat(L,"-").concat(W)},L)}))};function Mo(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function aF(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Iy(e){let t,r,n;e.length!==2?(t=Mo,r=(s,l)=>Mo(e(s),l),n=(s,l)=>e(s)-l):(t=e===Mo||e===aF?e:oF,r=e,n=e);function a(s,l,c=0,u=s.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;r(s[f],l)<0?c=f+1:u=f}while(c<u)}return c}function o(s,l,c=0,u=s.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;r(s[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function i(s,l,c=0,u=s.length){const f=a(s,l,c,u-1);return f>c&&n(s[f-1],l)>-n(s[f],l)?f-1:f}return{left:a,center:i,right:o}}function oF(){return 0}function uO(e){return e===null?NaN:+e}function*iF(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const sF=Iy(Mo),nu=sF.right;Iy(uO).center;class n1 extends Map{constructor(t,r=uF){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(a1(this,t))}has(t){return super.has(a1(this,t))}set(t,r){return super.set(lF(this,t),r)}delete(t){return super.delete(cF(this,t))}}function a1({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function lF({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function cF({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function uF(e){return e!==null&&typeof e=="object"?e.valueOf():e}function fF(e=Mo){if(e===Mo)return fO;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function fO(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const dF=Math.sqrt(50),hF=Math.sqrt(10),pF=Math.sqrt(2);function Gf(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),o=n/Math.pow(10,a),i=o>=dF?10:o>=hF?5:o>=pF?2:1;let s,l,c;return a<0?(c=Math.pow(10,-a)/i,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*i,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=r&&r<2?Gf(e,t,r*2):[s,l,c]}function yg(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,o,i]=n?Gf(t,e,r):Gf(e,t,r);if(!(o>=a))return[];const s=o-a+1,l=new Array(s);if(n)if(i<0)for(let c=0;c<s;++c)l[c]=(o-c)/-i;else for(let c=0;c<s;++c)l[c]=(o-c)*i;else if(i<0)for(let c=0;c<s;++c)l[c]=(a+c)/-i;else for(let c=0;c<s;++c)l[c]=(a+c)*i;return l}function vg(e,t,r){return t=+t,e=+e,r=+r,Gf(e,t,r)[2]}function xg(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?vg(t,e,r):vg(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function o1(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function i1(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function dO(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?fO:fF(a);n>r;){if(n-r>600){const l=n-r+1,c=t-r+1,u=Math.log(l),f=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),p=Math.max(r,Math.floor(t-c*f/l+h)),m=Math.min(n,Math.floor(t+(l-c)*f/l+h));dO(e,t,p,m,a)}const o=e[t];let i=r,s=n;for(kl(e,r,t),a(e[n],o)>0&&kl(e,r,n);i<s;){for(kl(e,i,s),++i,--s;a(e[i],o)<0;)++i;for(;a(e[s],o)>0;)--s}a(e[r],o)===0?kl(e,r,s):(++s,kl(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function kl(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function gF(e,t,r){if(e=Float64Array.from(iF(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return i1(e);if(t>=1)return o1(e);var n,a=(n-1)*t,o=Math.floor(a),i=o1(dO(e,o).subarray(0,o+1)),s=i1(e.subarray(o+1));return i+(s-i)*(a-o)}}function mF(e,t,r=uO){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,o=Math.floor(a),i=+r(e[o],o,e),s=+r(e[o+1],o+1,e);return i+(s-i)*(a-o)}}function yF(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,o=new Array(a);++n<a;)o[n]=e+n*r;return o}function Jn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function io(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const bg=Symbol("implicit");function By(){var e=new n1,t=[],r=[],n=bg;function a(o){let i=e.get(o);if(i===void 0){if(n!==bg)return n;e.set(o,i=t.push(o)-1)}return r[i%r.length]}return a.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new n1;for(const i of o)e.has(i)||e.set(i,t.push(i)-1);return a},a.range=function(o){return arguments.length?(r=Array.from(o),a):r.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return By(t,r).unknown(n)},Jn.apply(a,arguments),a}function kc(){var e=By().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,o,i,s=!1,l=0,c=0,u=.5;delete e.unknown;function f(){var h=t().length,p=a<n,m=p?a:n,v=p?n:a;o=(v-m)/Math.max(1,h-l+c*2),s&&(o=Math.floor(o)),m+=(v-m-o*(h-l))*u,i=o*(1-l),s&&(m=Math.round(m),i=Math.round(i));var x=yF(h).map(function(y){return m+o*y});return r(p?x.reverse():x)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,s=!0,f()},e.bandwidth=function(){return i},e.step=function(){return o},e.round=function(h){return arguments.length?(s=!!h,f()):s},e.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},e.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),f()):u},e.copy=function(){return kc(t(),[n,a]).round(s).paddingInner(l).paddingOuter(c).align(u)},Jn.apply(f(),arguments)}function hO(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return hO(t())},e}function Hl(){return hO(kc.apply(null,arguments).paddingInner(1))}function Fy(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function pO(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function au(){}var Sc=.7,Hf=1/Sc,us="\\s*([+-]?\\d+)\\s*",jc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_a="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",vF=/^#([0-9a-f]{3,8})$/,xF=new RegExp(`^rgb\\(${us},${us},${us}\\)$`),bF=new RegExp(`^rgb\\(${_a},${_a},${_a}\\)$`),wF=new RegExp(`^rgba\\(${us},${us},${us},${jc}\\)$`),kF=new RegExp(`^rgba\\(${_a},${_a},${_a},${jc}\\)$`),SF=new RegExp(`^hsl\\(${jc},${_a},${_a}\\)$`),jF=new RegExp(`^hsla\\(${jc},${_a},${_a},${jc}\\)$`),s1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Fy(au,Oc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:l1,formatHex:l1,formatHex8:OF,formatHsl:_F,formatRgb:c1,toString:c1});function l1(){return this.rgb().formatHex()}function OF(){return this.rgb().formatHex8()}function _F(){return gO(this).formatHsl()}function c1(){return this.rgb().formatRgb()}function Oc(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=vF.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?u1(t):r===3?new vn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Du(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Du(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=xF.exec(e))?new vn(t[1],t[2],t[3],1):(t=bF.exec(e))?new vn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=wF.exec(e))?Du(t[1],t[2],t[3],t[4]):(t=kF.exec(e))?Du(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=SF.exec(e))?h1(t[1],t[2]/100,t[3]/100,1):(t=jF.exec(e))?h1(t[1],t[2]/100,t[3]/100,t[4]):s1.hasOwnProperty(e)?u1(s1[e]):e==="transparent"?new vn(NaN,NaN,NaN,0):null}function u1(e){return new vn(e>>16&255,e>>8&255,e&255,1)}function Du(e,t,r,n){return n<=0&&(e=t=r=NaN),new vn(e,t,r,n)}function PF(e){return e instanceof au||(e=Oc(e)),e?(e=e.rgb(),new vn(e.r,e.g,e.b,e.opacity)):new vn}function wg(e,t,r,n){return arguments.length===1?PF(e):new vn(e,t,r,n??1)}function vn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Fy(vn,wg,pO(au,{brighter(e){return e=e==null?Hf:Math.pow(Hf,e),new vn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Sc:Math.pow(Sc,e),new vn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new vn(fi(this.r),fi(this.g),fi(this.b),Vf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:f1,formatHex:f1,formatHex8:NF,formatRgb:d1,toString:d1}));function f1(){return`#${ai(this.r)}${ai(this.g)}${ai(this.b)}`}function NF(){return`#${ai(this.r)}${ai(this.g)}${ai(this.b)}${ai((isNaN(this.opacity)?1:this.opacity)*255)}`}function d1(){const e=Vf(this.opacity);return`${e===1?"rgb(":"rgba("}${fi(this.r)}, ${fi(this.g)}, ${fi(this.b)}${e===1?")":`, ${e})`}`}function Vf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function fi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ai(e){return e=fi(e),(e<16?"0":"")+e.toString(16)}function h1(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new sa(e,t,r,n)}function gO(e){if(e instanceof sa)return new sa(e.h,e.s,e.l,e.opacity);if(e instanceof au||(e=Oc(e)),!e)return new sa;if(e instanceof sa)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),o=Math.max(t,r,n),i=NaN,s=o-a,l=(o+a)/2;return s?(t===o?i=(r-n)/s+(r<n)*6:r===o?i=(n-t)/s+2:i=(t-r)/s+4,s/=l<.5?o+a:2-o-a,i*=60):s=l>0&&l<1?0:i,new sa(i,s,l,e.opacity)}function AF(e,t,r,n){return arguments.length===1?gO(e):new sa(e,t,r,n??1)}function sa(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Fy(sa,AF,pO(au,{brighter(e){return e=e==null?Hf:Math.pow(Hf,e),new sa(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Sc:Math.pow(Sc,e),new sa(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new vn(Op(e>=240?e-240:e+120,a,n),Op(e,a,n),Op(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new sa(p1(this.h),Ru(this.s),Ru(this.l),Vf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Vf(this.opacity);return`${e===1?"hsl(":"hsla("}${p1(this.h)}, ${Ru(this.s)*100}%, ${Ru(this.l)*100}%${e===1?")":`, ${e})`}`}}));function p1(e){return e=(e||0)%360,e<0?e+360:e}function Ru(e){return Math.max(0,Math.min(1,e||0))}function Op(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const zy=e=>()=>e;function MF(e,t){return function(r){return e+r*t}}function CF(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function EF(e){return(e=+e)==1?mO:function(t,r){return r-t?CF(t,r,e):zy(isNaN(t)?r:t)}}function mO(e,t){var r=t-e;return r?MF(e,r):zy(isNaN(e)?t:e)}const g1=function e(t){var r=EF(t);function n(a,o){var i=r((a=wg(a)).r,(o=wg(o)).r),s=r(a.g,o.g),l=r(a.b,o.b),c=mO(a.opacity,o.opacity);return function(u){return a.r=i(u),a.g=s(u),a.b=l(u),a.opacity=c(u),a+""}}return n.gamma=e,n}(1);function TF(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(o){for(a=0;a<r;++a)n[a]=e[a]*(1-o)+t[a]*o;return n}}function $F(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function DF(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),o=new Array(r),i;for(i=0;i<n;++i)a[i]=ol(e[i],t[i]);for(;i<r;++i)o[i]=t[i];return function(s){for(i=0;i<n;++i)o[i]=a[i](s);return o}}function RF(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Kf(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function LF(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=ol(e[a],t[a]):n[a]=t[a];return function(o){for(a in r)n[a]=r[a](o);return n}}var kg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_p=new RegExp(kg.source,"g");function IF(e){return function(){return e}}function BF(e){return function(t){return e(t)+""}}function FF(e,t){var r=kg.lastIndex=_p.lastIndex=0,n,a,o,i=-1,s=[],l=[];for(e=e+"",t=t+"";(n=kg.exec(e))&&(a=_p.exec(t));)(o=a.index)>r&&(o=t.slice(r,o),s[i]?s[i]+=o:s[++i]=o),(n=n[0])===(a=a[0])?s[i]?s[i]+=a:s[++i]=a:(s[++i]=null,l.push({i,x:Kf(n,a)})),r=_p.lastIndex;return r<t.length&&(o=t.slice(r),s[i]?s[i]+=o:s[++i]=o),s.length<2?l[0]?BF(l[0].x):IF(t):(t=l.length,function(c){for(var u=0,f;u<t;++u)s[(f=l[u]).i]=f.x(c);return s.join("")})}function ol(e,t){var r=typeof t,n;return t==null||r==="boolean"?zy(t):(r==="number"?Kf:r==="string"?(n=Oc(t))?(t=n,g1):FF:t instanceof Oc?g1:t instanceof Date?RF:$F(t)?TF:Array.isArray(t)?DF:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?LF:Kf)(e,t)}function Wy(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function zF(e,t){t===void 0&&(t=e,e=ol);for(var r=0,n=t.length-1,a=t[0],o=new Array(n<0?0:n);r<n;)o[r]=e(a,a=t[++r]);return function(i){var s=Math.max(0,Math.min(n-1,Math.floor(i*=n)));return o[s](i-s)}}function WF(e){return function(){return e}}function Xf(e){return+e}var m1=[0,1];function fn(e){return e}function Sg(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:WF(isNaN(t)?NaN:.5)}function UF(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function GF(e,t,r){var n=e[0],a=e[1],o=t[0],i=t[1];return a<n?(n=Sg(a,n),o=r(i,o)):(n=Sg(n,a),o=r(o,i)),function(s){return o(n(s))}}function HF(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),o=new Array(n),i=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<n;)a[i]=Sg(e[i],e[i+1]),o[i]=r(t[i],t[i+1]);return function(s){var l=nu(e,s,1,n)-1;return o[l](a[l](s))}}function ou(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function mh(){var e=m1,t=m1,r=ol,n,a,o,i=fn,s,l,c;function u(){var h=Math.min(e.length,t.length);return i!==fn&&(i=UF(e[0],e[h-1])),s=h>2?HF:GF,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?o:(l||(l=s(e.map(n),t,r)))(n(i(h)))}return f.invert=function(h){return i(a((c||(c=s(t,e.map(n),Kf)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Xf),u()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),u()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=Wy,u()},f.clamp=function(h){return arguments.length?(i=h?!0:fn,u()):i!==fn},f.interpolate=function(h){return arguments.length?(r=h,u()):r},f.unknown=function(h){return arguments.length?(o=h,f):o},function(h,p){return n=h,a=p,u()}}function Uy(){return mh()(fn,fn)}function VF(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Yf(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Os(e){return e=Yf(Math.abs(e)),e?e[1]:NaN}function KF(e,t){return function(r,n){for(var a=r.length,o=[],i=0,s=e[0],l=0;a>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),o.push(r.substring(a-=s,a+s)),!((l+=s+1)>n));)s=e[i=(i+1)%e.length];return o.reverse().join(t)}}function XF(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var YF=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function _c(e){if(!(t=YF.exec(e)))throw new Error("invalid format: "+e);var t;return new Gy({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}_c.prototype=Gy.prototype;function Gy(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Gy.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function qF(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var yO;function ZF(e,t){var r=Yf(e,t);if(!r)return e+"";var n=r[0],a=r[1],o=a-(yO=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=n.length;return o===i?n:o>i?n+new Array(o-i+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+Yf(e,Math.max(0,t+o-1))[0]}function y1(e,t){var r=Yf(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const v1={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:VF,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>y1(e*100,t),r:y1,s:ZF,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function x1(e){return e}var b1=Array.prototype.map,w1=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function QF(e){var t=e.grouping===void 0||e.thousands===void 0?x1:KF(b1.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?x1:XF(b1.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f){f=_c(f);var h=f.fill,p=f.align,m=f.sign,v=f.symbol,x=f.zero,y=f.width,g=f.comma,b=f.precision,S=f.trim,w=f.type;w==="n"?(g=!0,w="g"):v1[w]||(b===void 0&&(b=12),S=!0,w="g"),(x||h==="0"&&p==="=")&&(x=!0,h="0",p="=");var k=v==="$"?r:v==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",j=v==="$"?n:/[%p]/.test(w)?i:"",_=v1[w],P=/[defgprs%]/.test(w);b=b===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function A(N){var E=k,F=j,I,T,R;if(w==="c")F=_(N)+F,N="";else{N=+N;var W=N<0||1/N<0;if(N=isNaN(N)?l:_(Math.abs(N),b),S&&(N=qF(N)),W&&+N==0&&m!=="+"&&(W=!1),E=(W?m==="("?m:s:m==="-"||m==="("?"":m)+E,F=(w==="s"?w1[8+yO/3]:"")+F+(W&&m==="("?")":""),P){for(I=-1,T=N.length;++I<T;)if(R=N.charCodeAt(I),48>R||R>57){F=(R===46?a+N.slice(I+1):N.slice(I))+F,N=N.slice(0,I);break}}}g&&!x&&(N=t(N,1/0));var L=E.length+N.length+F.length,D=L<y?new Array(y-L+1).join(h):"";switch(g&&x&&(N=t(D+N,D.length?y-F.length:1/0),D=""),p){case"<":N=E+N+F+D;break;case"=":N=E+D+N+F;break;case"^":N=D.slice(0,L=D.length>>1)+E+N+F+D.slice(L);break;default:N=D+E+N+F;break}return o(N)}return A.toString=function(){return f+""},A}function u(f,h){var p=c((f=_c(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(Os(h)/3)))*3,v=Math.pow(10,-m),x=w1[8+m/3];return function(y){return p(v*y)+x}}return{format:c,formatPrefix:u}}var Lu,Hy,vO;JF({thousands:",",grouping:[3],currency:["$",""]});function JF(e){return Lu=QF(e),Hy=Lu.format,vO=Lu.formatPrefix,Lu}function ez(e){return Math.max(0,-Os(Math.abs(e)))}function tz(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Os(t)/3)))*3-Os(Math.abs(e)))}function rz(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Os(t)-Os(e))+1}function xO(e,t,r,n){var a=xg(e,t,r),o;switch(n=_c(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(o=tz(a,i))&&(n.precision=o),vO(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=rz(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=ez(a))&&(n.precision=o-(n.type==="%")*2);break}}return Hy(n)}function Bo(e){var t=e.domain;return e.ticks=function(r){var n=t();return yg(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return xO(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,o=n.length-1,i=n[a],s=n[o],l,c,u=10;for(s<i&&(c=i,i=s,s=c,c=a,a=o,o=c);u-- >0;){if(c=vg(i,s,r),c===l)return n[a]=i,n[o]=s,t(n);if(c>0)i=Math.floor(i/c)*c,s=Math.ceil(s/c)*c;else if(c<0)i=Math.ceil(i*c)/c,s=Math.floor(s*c)/c;else break;l=c}return e},e}function qf(){var e=Uy();return e.copy=function(){return ou(e,qf())},Jn.apply(e,arguments),Bo(e)}function bO(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Xf),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return bO(e).unknown(t)},e=arguments.length?Array.from(e,Xf):[0,1],Bo(r)}function wO(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],o=e[n],i;return o<a&&(i=r,r=n,n=i,i=a,a=o,o=i),e[r]=t.floor(a),e[n]=t.ceil(o),e}function k1(e){return Math.log(e)}function S1(e){return Math.exp(e)}function nz(e){return-Math.log(-e)}function az(e){return-Math.exp(-e)}function oz(e){return isFinite(e)?+("1e"+e):e<0?0:e}function iz(e){return e===10?oz:e===Math.E?Math.exp:t=>Math.pow(e,t)}function sz(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function j1(e){return(t,r)=>-e(-t,r)}function Vy(e){const t=e(k1,S1),r=t.domain;let n=10,a,o;function i(){return a=sz(n),o=iz(n),r()[0]<0?(a=j1(a),o=j1(o),e(nz,az)):e(k1,S1),t}return t.base=function(s){return arguments.length?(n=+s,i()):n},t.domain=function(s){return arguments.length?(r(s),i()):r()},t.ticks=s=>{const l=r();let c=l[0],u=l[l.length-1];const f=u<c;f&&([c,u]=[u,c]);let h=a(c),p=a(u),m,v;const x=s==null?10:+s;let y=[];if(!(n%1)&&p-h<x){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(m=1;m<n;++m)if(v=h<0?m/o(-h):m*o(h),!(v<c)){if(v>u)break;y.push(v)}}else for(;h<=p;++h)for(m=n-1;m>=1;--m)if(v=h>0?m/o(-h):m*o(h),!(v<c)){if(v>u)break;y.push(v)}y.length*2<x&&(y=yg(c,u,x))}else y=yg(h,p,Math.min(p-h,x)).map(o);return f?y.reverse():y},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=_c(l)).precision==null&&(l.trim=!0),l=Hy(l)),s===1/0)return l;const c=Math.max(1,n*s/t.ticks().length);return u=>{let f=u/o(Math.round(a(u)));return f*n<n-.5&&(f*=n),f<=c?l(u):""}},t.nice=()=>r(wO(r(),{floor:s=>o(Math.floor(a(s))),ceil:s=>o(Math.ceil(a(s)))})),t}function kO(){const e=Vy(mh()).domain([1,10]);return e.copy=()=>ou(e,kO()).base(e.base()),Jn.apply(e,arguments),e}function O1(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function _1(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Ky(e){var t=1,r=e(O1(t),_1(t));return r.constant=function(n){return arguments.length?e(O1(t=+n),_1(t)):t},Bo(r)}function SO(){var e=Ky(mh());return e.copy=function(){return ou(e,SO()).constant(e.constant())},Jn.apply(e,arguments)}function P1(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function lz(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function cz(e){return e<0?-e*e:e*e}function Xy(e){var t=e(fn,fn),r=1;function n(){return r===1?e(fn,fn):r===.5?e(lz,cz):e(P1(r),P1(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Bo(t)}function Yy(){var e=Xy(mh());return e.copy=function(){return ou(e,Yy()).exponent(e.exponent())},Jn.apply(e,arguments),e}function uz(){return Yy.apply(null,arguments).exponent(.5)}function N1(e){return Math.sign(e)*e*e}function fz(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function jO(){var e=Uy(),t=[0,1],r=!1,n;function a(o){var i=fz(e(o));return isNaN(i)?n:r?Math.round(i):i}return a.invert=function(o){return e.invert(N1(o))},a.domain=function(o){return arguments.length?(e.domain(o),a):e.domain()},a.range=function(o){return arguments.length?(e.range((t=Array.from(o,Xf)).map(N1)),a):t.slice()},a.rangeRound=function(o){return a.range(o).round(!0)},a.round=function(o){return arguments.length?(r=!!o,a):r},a.clamp=function(o){return arguments.length?(e.clamp(o),a):e.clamp()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return jO(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Jn.apply(a,arguments),Bo(a)}function OO(){var e=[],t=[],r=[],n;function a(){var i=0,s=Math.max(1,t.length);for(r=new Array(s-1);++i<s;)r[i-1]=mF(e,i/s);return o}function o(i){return i==null||isNaN(i=+i)?n:t[nu(r,i)]}return o.invertExtent=function(i){var s=t.indexOf(i);return s<0?[NaN,NaN]:[s>0?r[s-1]:e[0],s<r.length?r[s]:e[e.length-1]]},o.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let s of i)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Mo),a()},o.range=function(i){return arguments.length?(t=Array.from(i),a()):t.slice()},o.unknown=function(i){return arguments.length?(n=i,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return OO().domain(e).range(t).unknown(n)},Jn.apply(o,arguments)}function _O(){var e=0,t=1,r=1,n=[.5],a=[0,1],o;function i(l){return l!=null&&l<=l?a[nu(n,l,0,r)]:o}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return i}return i.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},i.range=function(l){return arguments.length?(r=(a=Array.from(l)).length-1,s()):a.slice()},i.invertExtent=function(l){var c=a.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},i.unknown=function(l){return arguments.length&&(o=l),i},i.thresholds=function(){return n.slice()},i.copy=function(){return _O().domain([e,t]).range(a).unknown(o)},Jn.apply(Bo(i),arguments)}function PO(){var e=[.5],t=[0,1],r,n=1;function a(o){return o!=null&&o<=o?t[nu(e,o,0,n)]:r}return a.domain=function(o){return arguments.length?(e=Array.from(o),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(o){return arguments.length?(t=Array.from(o),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(o){var i=t.indexOf(o);return[e[i-1],e[i]]},a.unknown=function(o){return arguments.length?(r=o,a):r},a.copy=function(){return PO().domain(e).range(t).unknown(r)},Jn.apply(a,arguments)}const Pp=new Date,Np=new Date;function Nr(e,t,r,n){function a(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return a.floor=o=>(e(o=new Date(+o)),o),a.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),a.round=o=>{const i=a(o),s=a.ceil(o);return o-i<s-o?i:s},a.offset=(o,i)=>(t(o=new Date(+o),i==null?1:Math.floor(i)),o),a.range=(o,i,s)=>{const l=[];if(o=a.ceil(o),s=s==null?1:Math.floor(s),!(o<i)||!(s>0))return l;let c;do l.push(c=new Date(+o)),t(o,s),e(o);while(c<o&&o<i);return l},a.filter=o=>Nr(i=>{if(i>=i)for(;e(i),!o(i);)i.setTime(i-1)},(i,s)=>{if(i>=i)if(s<0)for(;++s<=0;)for(;t(i,-1),!o(i););else for(;--s>=0;)for(;t(i,1),!o(i););}),r&&(a.count=(o,i)=>(Pp.setTime(+o),Np.setTime(+i),e(Pp),e(Np),Math.floor(r(Pp,Np))),a.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?a.filter(n?i=>n(i)%o===0:i=>a.count(0,i)%o===0):a)),a}const Zf=Nr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Zf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Nr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Zf);Zf.range;const Wa=1e3,Hn=Wa*60,Ua=Hn*60,eo=Ua*24,qy=eo*7,A1=eo*30,Ap=eo*365,oi=Nr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Wa)},(e,t)=>(t-e)/Wa,e=>e.getUTCSeconds());oi.range;const Zy=Nr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Wa)},(e,t)=>{e.setTime(+e+t*Hn)},(e,t)=>(t-e)/Hn,e=>e.getMinutes());Zy.range;const Qy=Nr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Hn)},(e,t)=>(t-e)/Hn,e=>e.getUTCMinutes());Qy.range;const Jy=Nr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Wa-e.getMinutes()*Hn)},(e,t)=>{e.setTime(+e+t*Ua)},(e,t)=>(t-e)/Ua,e=>e.getHours());Jy.range;const ev=Nr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ua)},(e,t)=>(t-e)/Ua,e=>e.getUTCHours());ev.range;const iu=Nr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Hn)/eo,e=>e.getDate()-1);iu.range;const yh=Nr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/eo,e=>e.getUTCDate()-1);yh.range;const NO=Nr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/eo,e=>Math.floor(e/eo));NO.range;function Mi(e){return Nr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Hn)/qy)}const vh=Mi(0),Qf=Mi(1),dz=Mi(2),hz=Mi(3),_s=Mi(4),pz=Mi(5),gz=Mi(6);vh.range;Qf.range;dz.range;hz.range;_s.range;pz.range;gz.range;function Ci(e){return Nr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/qy)}const xh=Ci(0),Jf=Ci(1),mz=Ci(2),yz=Ci(3),Ps=Ci(4),vz=Ci(5),xz=Ci(6);xh.range;Jf.range;mz.range;yz.range;Ps.range;vz.range;xz.range;const tv=Nr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());tv.range;const rv=Nr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());rv.range;const to=Nr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());to.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Nr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});to.range;const ro=Nr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ro.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Nr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});ro.range;function AO(e,t,r,n,a,o){const i=[[oi,1,Wa],[oi,5,5*Wa],[oi,15,15*Wa],[oi,30,30*Wa],[o,1,Hn],[o,5,5*Hn],[o,15,15*Hn],[o,30,30*Hn],[a,1,Ua],[a,3,3*Ua],[a,6,6*Ua],[a,12,12*Ua],[n,1,eo],[n,2,2*eo],[r,1,qy],[t,1,A1],[t,3,3*A1],[e,1,Ap]];function s(c,u,f){const h=u<c;h&&([c,u]=[u,c]);const p=f&&typeof f.range=="function"?f:l(c,u,f),m=p?p.range(c,+u+1):[];return h?m.reverse():m}function l(c,u,f){const h=Math.abs(u-c)/f,p=Iy(([,,x])=>x).right(i,h);if(p===i.length)return e.every(xg(c/Ap,u/Ap,f));if(p===0)return Zf.every(Math.max(xg(c,u,f),1));const[m,v]=i[h/i[p-1][2]<i[p][2]/h?p-1:p];return m.every(v)}return[s,l]}const[bz,wz]=AO(ro,rv,xh,NO,ev,Qy),[kz,Sz]=AO(to,tv,vh,iu,Jy,Zy);function Mp(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Cp(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Sl(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function jz(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,o=e.days,i=e.shortDays,s=e.months,l=e.shortMonths,c=jl(a),u=Ol(a),f=jl(o),h=Ol(o),p=jl(i),m=Ol(i),v=jl(s),x=Ol(s),y=jl(l),g=Ol(l),b={a:W,A:L,b:D,B,c:null,d:D1,e:D1,f:Kz,g:n9,G:o9,H:Gz,I:Hz,j:Vz,L:MO,m:Xz,M:Yz,p:J,q,Q:I1,s:B1,S:qz,u:Zz,U:Qz,V:Jz,w:e9,W:t9,x:null,X:null,y:r9,Y:a9,Z:i9,"%":L1},S={a:H,A:U,b:ue,B:fe,c:null,d:R1,e:R1,f:u9,g:b9,G:k9,H:s9,I:l9,j:c9,L:EO,m:f9,M:d9,p:be,q:ve,Q:I1,s:B1,S:h9,u:p9,U:g9,V:m9,w:y9,W:v9,x:null,X:null,y:x9,Y:w9,Z:S9,"%":L1},w={a:A,A:N,b:E,B:F,c:I,d:T1,e:T1,f:Fz,g:E1,G:C1,H:$1,I:$1,j:Rz,L:Bz,m:Dz,M:Lz,p:P,q:$z,Q:Wz,s:Uz,S:Iz,u:Az,U:Mz,V:Cz,w:Nz,W:Ez,x:T,X:R,y:E1,Y:C1,Z:Tz,"%":zz};b.x=k(r,b),b.X=k(n,b),b.c=k(t,b),S.x=k(r,S),S.X=k(n,S),S.c=k(t,S);function k(G,ce){return function(me){var Z=[],We=-1,_e=0,st=G.length,qe,bt,hr;for(me instanceof Date||(me=new Date(+me));++We<st;)G.charCodeAt(We)===37&&(Z.push(G.slice(_e,We)),(bt=M1[qe=G.charAt(++We)])!=null?qe=G.charAt(++We):bt=qe==="e"?" ":"0",(hr=ce[qe])&&(qe=hr(me,bt)),Z.push(qe),_e=We+1);return Z.push(G.slice(_e,We)),Z.join("")}}function j(G,ce){return function(me){var Z=Sl(1900,void 0,1),We=_(Z,G,me+="",0),_e,st;if(We!=me.length)return null;if("Q"in Z)return new Date(Z.Q);if("s"in Z)return new Date(Z.s*1e3+("L"in Z?Z.L:0));if(ce&&!("Z"in Z)&&(Z.Z=0),"p"in Z&&(Z.H=Z.H%12+Z.p*12),Z.m===void 0&&(Z.m="q"in Z?Z.q:0),"V"in Z){if(Z.V<1||Z.V>53)return null;"w"in Z||(Z.w=1),"Z"in Z?(_e=Cp(Sl(Z.y,0,1)),st=_e.getUTCDay(),_e=st>4||st===0?Jf.ceil(_e):Jf(_e),_e=yh.offset(_e,(Z.V-1)*7),Z.y=_e.getUTCFullYear(),Z.m=_e.getUTCMonth(),Z.d=_e.getUTCDate()+(Z.w+6)%7):(_e=Mp(Sl(Z.y,0,1)),st=_e.getDay(),_e=st>4||st===0?Qf.ceil(_e):Qf(_e),_e=iu.offset(_e,(Z.V-1)*7),Z.y=_e.getFullYear(),Z.m=_e.getMonth(),Z.d=_e.getDate()+(Z.w+6)%7)}else("W"in Z||"U"in Z)&&("w"in Z||(Z.w="u"in Z?Z.u%7:"W"in Z?1:0),st="Z"in Z?Cp(Sl(Z.y,0,1)).getUTCDay():Mp(Sl(Z.y,0,1)).getDay(),Z.m=0,Z.d="W"in Z?(Z.w+6)%7+Z.W*7-(st+5)%7:Z.w+Z.U*7-(st+6)%7);return"Z"in Z?(Z.H+=Z.Z/100|0,Z.M+=Z.Z%100,Cp(Z)):Mp(Z)}}function _(G,ce,me,Z){for(var We=0,_e=ce.length,st=me.length,qe,bt;We<_e;){if(Z>=st)return-1;if(qe=ce.charCodeAt(We++),qe===37){if(qe=ce.charAt(We++),bt=w[qe in M1?ce.charAt(We++):qe],!bt||(Z=bt(G,me,Z))<0)return-1}else if(qe!=me.charCodeAt(Z++))return-1}return Z}function P(G,ce,me){var Z=c.exec(ce.slice(me));return Z?(G.p=u.get(Z[0].toLowerCase()),me+Z[0].length):-1}function A(G,ce,me){var Z=p.exec(ce.slice(me));return Z?(G.w=m.get(Z[0].toLowerCase()),me+Z[0].length):-1}function N(G,ce,me){var Z=f.exec(ce.slice(me));return Z?(G.w=h.get(Z[0].toLowerCase()),me+Z[0].length):-1}function E(G,ce,me){var Z=y.exec(ce.slice(me));return Z?(G.m=g.get(Z[0].toLowerCase()),me+Z[0].length):-1}function F(G,ce,me){var Z=v.exec(ce.slice(me));return Z?(G.m=x.get(Z[0].toLowerCase()),me+Z[0].length):-1}function I(G,ce,me){return _(G,t,ce,me)}function T(G,ce,me){return _(G,r,ce,me)}function R(G,ce,me){return _(G,n,ce,me)}function W(G){return i[G.getDay()]}function L(G){return o[G.getDay()]}function D(G){return l[G.getMonth()]}function B(G){return s[G.getMonth()]}function J(G){return a[+(G.getHours()>=12)]}function q(G){return 1+~~(G.getMonth()/3)}function H(G){return i[G.getUTCDay()]}function U(G){return o[G.getUTCDay()]}function ue(G){return l[G.getUTCMonth()]}function fe(G){return s[G.getUTCMonth()]}function be(G){return a[+(G.getUTCHours()>=12)]}function ve(G){return 1+~~(G.getUTCMonth()/3)}return{format:function(G){var ce=k(G+="",b);return ce.toString=function(){return G},ce},parse:function(G){var ce=j(G+="",!1);return ce.toString=function(){return G},ce},utcFormat:function(G){var ce=k(G+="",S);return ce.toString=function(){return G},ce},utcParse:function(G){var ce=j(G+="",!0);return ce.toString=function(){return G},ce}}}var M1={"-":"",_:" ",0:"0"},$r=/^\s*\d+/,Oz=/^%/,_z=/[\\^$*+?|[\]().{}]/g;function mt(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",o=a.length;return n+(o<r?new Array(r-o+1).join(t)+a:a)}function Pz(e){return e.replace(_z,"\\$&")}function jl(e){return new RegExp("^(?:"+e.map(Pz).join("|")+")","i")}function Ol(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Nz(e,t,r){var n=$r.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Az(e,t,r){var n=$r.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Mz(e,t,r){var n=$r.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Cz(e,t,r){var n=$r.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Ez(e,t,r){var n=$r.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function C1(e,t,r){var n=$r.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function E1(e,t,r){var n=$r.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Tz(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function $z(e,t,r){var n=$r.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Dz(e,t,r){var n=$r.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function T1(e,t,r){var n=$r.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Rz(e,t,r){var n=$r.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function $1(e,t,r){var n=$r.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Lz(e,t,r){var n=$r.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Iz(e,t,r){var n=$r.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Bz(e,t,r){var n=$r.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Fz(e,t,r){var n=$r.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function zz(e,t,r){var n=Oz.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Wz(e,t,r){var n=$r.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Uz(e,t,r){var n=$r.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function D1(e,t){return mt(e.getDate(),t,2)}function Gz(e,t){return mt(e.getHours(),t,2)}function Hz(e,t){return mt(e.getHours()%12||12,t,2)}function Vz(e,t){return mt(1+iu.count(to(e),e),t,3)}function MO(e,t){return mt(e.getMilliseconds(),t,3)}function Kz(e,t){return MO(e,t)+"000"}function Xz(e,t){return mt(e.getMonth()+1,t,2)}function Yz(e,t){return mt(e.getMinutes(),t,2)}function qz(e,t){return mt(e.getSeconds(),t,2)}function Zz(e){var t=e.getDay();return t===0?7:t}function Qz(e,t){return mt(vh.count(to(e)-1,e),t,2)}function CO(e){var t=e.getDay();return t>=4||t===0?_s(e):_s.ceil(e)}function Jz(e,t){return e=CO(e),mt(_s.count(to(e),e)+(to(e).getDay()===4),t,2)}function e9(e){return e.getDay()}function t9(e,t){return mt(Qf.count(to(e)-1,e),t,2)}function r9(e,t){return mt(e.getFullYear()%100,t,2)}function n9(e,t){return e=CO(e),mt(e.getFullYear()%100,t,2)}function a9(e,t){return mt(e.getFullYear()%1e4,t,4)}function o9(e,t){var r=e.getDay();return e=r>=4||r===0?_s(e):_s.ceil(e),mt(e.getFullYear()%1e4,t,4)}function i9(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+mt(t/60|0,"0",2)+mt(t%60,"0",2)}function R1(e,t){return mt(e.getUTCDate(),t,2)}function s9(e,t){return mt(e.getUTCHours(),t,2)}function l9(e,t){return mt(e.getUTCHours()%12||12,t,2)}function c9(e,t){return mt(1+yh.count(ro(e),e),t,3)}function EO(e,t){return mt(e.getUTCMilliseconds(),t,3)}function u9(e,t){return EO(e,t)+"000"}function f9(e,t){return mt(e.getUTCMonth()+1,t,2)}function d9(e,t){return mt(e.getUTCMinutes(),t,2)}function h9(e,t){return mt(e.getUTCSeconds(),t,2)}function p9(e){var t=e.getUTCDay();return t===0?7:t}function g9(e,t){return mt(xh.count(ro(e)-1,e),t,2)}function TO(e){var t=e.getUTCDay();return t>=4||t===0?Ps(e):Ps.ceil(e)}function m9(e,t){return e=TO(e),mt(Ps.count(ro(e),e)+(ro(e).getUTCDay()===4),t,2)}function y9(e){return e.getUTCDay()}function v9(e,t){return mt(Jf.count(ro(e)-1,e),t,2)}function x9(e,t){return mt(e.getUTCFullYear()%100,t,2)}function b9(e,t){return e=TO(e),mt(e.getUTCFullYear()%100,t,2)}function w9(e,t){return mt(e.getUTCFullYear()%1e4,t,4)}function k9(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Ps(e):Ps.ceil(e),mt(e.getUTCFullYear()%1e4,t,4)}function S9(){return"+0000"}function L1(){return"%"}function I1(e){return+e}function B1(e){return Math.floor(+e/1e3)}var Ii,$O,DO;j9({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function j9(e){return Ii=jz(e),$O=Ii.format,Ii.parse,DO=Ii.utcFormat,Ii.utcParse,Ii}function O9(e){return new Date(e)}function _9(e){return e instanceof Date?+e:+new Date(+e)}function nv(e,t,r,n,a,o,i,s,l,c){var u=Uy(),f=u.invert,h=u.domain,p=c(".%L"),m=c(":%S"),v=c("%I:%M"),x=c("%I %p"),y=c("%a %d"),g=c("%b %d"),b=c("%B"),S=c("%Y");function w(k){return(l(k)<k?p:s(k)<k?m:i(k)<k?v:o(k)<k?x:n(k)<k?a(k)<k?y:g:r(k)<k?b:S)(k)}return u.invert=function(k){return new Date(f(k))},u.domain=function(k){return arguments.length?h(Array.from(k,_9)):h().map(O9)},u.ticks=function(k){var j=h();return e(j[0],j[j.length-1],k??10)},u.tickFormat=function(k,j){return j==null?w:c(j)},u.nice=function(k){var j=h();return(!k||typeof k.range!="function")&&(k=t(j[0],j[j.length-1],k??10)),k?h(wO(j,k)):u},u.copy=function(){return ou(u,nv(e,t,r,n,a,o,i,s,l,c))},u}function P9(){return Jn.apply(nv(kz,Sz,to,tv,vh,iu,Jy,Zy,oi,$O).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function N9(){return Jn.apply(nv(bz,wz,ro,rv,xh,yh,ev,Qy,oi,DO).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function bh(){var e=0,t=1,r,n,a,o,i=fn,s=!1,l;function c(f){return f==null||isNaN(f=+f)?l:i(a===0?.5:(f=(o(f)-r)*a,s?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([e,t]=f,r=o(e=+e),n=o(t=+t),a=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(f){return arguments.length?(s=!!f,c):s},c.interpolator=function(f){return arguments.length?(i=f,c):i};function u(f){return function(h){var p,m;return arguments.length?([p,m]=h,i=f(p,m),c):[i(0),i(1)]}}return c.range=u(ol),c.rangeRound=u(Wy),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return o=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),c}}function Fo(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function RO(){var e=Bo(bh()(fn));return e.copy=function(){return Fo(e,RO())},io.apply(e,arguments)}function LO(){var e=Vy(bh()).domain([1,10]);return e.copy=function(){return Fo(e,LO()).base(e.base())},io.apply(e,arguments)}function IO(){var e=Ky(bh());return e.copy=function(){return Fo(e,IO()).constant(e.constant())},io.apply(e,arguments)}function av(){var e=Xy(bh());return e.copy=function(){return Fo(e,av()).exponent(e.exponent())},io.apply(e,arguments)}function A9(){return av.apply(null,arguments).exponent(.5)}function BO(){var e=[],t=fn;function r(n){if(n!=null&&!isNaN(n=+n))return t((nu(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Mo),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,o)=>gF(e,o/n))},r.copy=function(){return BO(t).domain(e)},io.apply(r,arguments)}function wh(){var e=0,t=.5,r=1,n=1,a,o,i,s,l,c=fn,u,f=!1,h;function p(v){return isNaN(v=+v)?h:(v=.5+((v=+u(v))-o)*(n*v<n*o?s:l),c(f?Math.max(0,Math.min(1,v)):v))}p.domain=function(v){return arguments.length?([e,t,r]=v,a=u(e=+e),o=u(t=+t),i=u(r=+r),s=a===o?0:.5/(o-a),l=o===i?0:.5/(i-o),n=o<a?-1:1,p):[e,t,r]},p.clamp=function(v){return arguments.length?(f=!!v,p):f},p.interpolator=function(v){return arguments.length?(c=v,p):c};function m(v){return function(x){var y,g,b;return arguments.length?([y,g,b]=x,c=zF(v,[y,g,b]),p):[c(0),c(.5),c(1)]}}return p.range=m(ol),p.rangeRound=m(Wy),p.unknown=function(v){return arguments.length?(h=v,p):h},function(v){return u=v,a=v(e),o=v(t),i=v(r),s=a===o?0:.5/(o-a),l=o===i?0:.5/(i-o),n=o<a?-1:1,p}}function FO(){var e=Bo(wh()(fn));return e.copy=function(){return Fo(e,FO())},io.apply(e,arguments)}function zO(){var e=Vy(wh()).domain([.1,1,10]);return e.copy=function(){return Fo(e,zO()).base(e.base())},io.apply(e,arguments)}function WO(){var e=Ky(wh());return e.copy=function(){return Fo(e,WO()).constant(e.constant())},io.apply(e,arguments)}function ov(){var e=Xy(wh());return e.copy=function(){return Fo(e,ov()).exponent(e.exponent())},io.apply(e,arguments)}function M9(){return ov.apply(null,arguments).exponent(.5)}const F1=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:kc,scaleDiverging:FO,scaleDivergingLog:zO,scaleDivergingPow:ov,scaleDivergingSqrt:M9,scaleDivergingSymlog:WO,scaleIdentity:bO,scaleImplicit:bg,scaleLinear:qf,scaleLog:kO,scaleOrdinal:By,scalePoint:Hl,scalePow:Yy,scaleQuantile:OO,scaleQuantize:_O,scaleRadial:jO,scaleSequential:RO,scaleSequentialLog:LO,scaleSequentialPow:av,scaleSequentialQuantile:BO,scaleSequentialSqrt:A9,scaleSequentialSymlog:IO,scaleSqrt:uz,scaleSymlog:SO,scaleThreshold:PO,scaleTime:P9,scaleUtc:N9,tickFormat:xO},Symbol.toStringTag,{value:"Module"}));var C9=qs;function E9(e,t,r){for(var n=-1,a=e.length;++n<a;){var o=e[n],i=t(o);if(i!=null&&(s===void 0?i===i&&!C9(i):r(i,s)))var s=i,l=o}return l}var UO=E9;function T9(e,t){return e>t}var $9=T9,D9=UO,R9=$9,L9=al;function I9(e){return e&&e.length?D9(e,L9,R9):void 0}var B9=I9;const xo=It(B9);function F9(e,t){return e<t}var z9=F9,W9=UO,U9=z9,G9=al;function H9(e){return e&&e.length?W9(e,G9,U9):void 0}var V9=H9;const kh=It(V9);var K9=xy,X9=Lo,Y9=Qj,q9=Sn;function Z9(e,t){var r=q9(e)?K9:Y9;return r(e,X9(t))}var Q9=Z9,J9=qj,e7=Q9;function t7(e,t){return J9(e7(e,t),1)}var r7=t7;const n7=It(r7);var a7=Ty;function o7(e,t){return a7(e,t)}var i7=o7;const wi=It(i7);var il=1e9,s7={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},sv,qt=!0,Zn="[DecimalError] ",di=Zn+"Invalid argument: ",iv=Zn+"Exponent out of range: ",sl=Math.floor,Jo=Math.pow,l7=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Cn,Cr=1e7,Kt=7,GO=9007199254740991,ed=sl(GO/Kt),ge={};ge.absoluteValue=ge.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ge.comparedTo=ge.cmp=function(e){var t,r,n,a,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(n=o.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return n===a?0:n>a^o.s<0?1:-1};ge.decimalPlaces=ge.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Kt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ge.dividedBy=ge.div=function(e){return Ya(this,new this.constructor(e))};ge.dividedToIntegerBy=ge.idiv=function(e){var t=this,r=t.constructor;return Lt(Ya(t,new r(e),0,1),r.precision)};ge.equals=ge.eq=function(e){return!this.cmp(e)};ge.exponent=function(){return mr(this)};ge.greaterThan=ge.gt=function(e){return this.cmp(e)>0};ge.greaterThanOrEqualTo=ge.gte=function(e){return this.cmp(e)>=0};ge.isInteger=ge.isint=function(){return this.e>this.d.length-2};ge.isNegative=ge.isneg=function(){return this.s<0};ge.isPositive=ge.ispos=function(){return this.s>0};ge.isZero=function(){return this.s===0};ge.lessThan=ge.lt=function(e){return this.cmp(e)<0};ge.lessThanOrEqualTo=ge.lte=function(e){return this.cmp(e)<1};ge.logarithm=ge.log=function(e){var t,r=this,n=r.constructor,a=n.precision,o=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Cn))throw Error(Zn+"NaN");if(r.s<1)throw Error(Zn+(r.s?"NaN":"-Infinity"));return r.eq(Cn)?new n(0):(qt=!1,t=Ya(Pc(r,o),Pc(e,o),o),qt=!0,Lt(t,a))};ge.minus=ge.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?KO(t,e):HO(t,(e.s=-e.s,e))};ge.modulo=ge.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Zn+"NaN");return r.s?(qt=!1,t=Ya(r,e,0,1).times(e),qt=!0,r.minus(t)):Lt(new n(r),a)};ge.naturalExponential=ge.exp=function(){return VO(this)};ge.naturalLogarithm=ge.ln=function(){return Pc(this)};ge.negated=ge.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ge.plus=ge.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?HO(t,e):KO(t,(e.s=-e.s,e))};ge.precision=ge.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(di+e);if(t=mr(a)+1,n=a.d.length-1,r=n*Kt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ge.squareRoot=ge.sqrt=function(){var e,t,r,n,a,o,i,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Zn+"NaN")}for(e=mr(s),qt=!1,a=Math.sqrt(+s),a==0||a==1/0?(t=ka(s.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=sl((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(a.toString()),r=l.precision,a=i=r+3;;)if(o=n,n=o.plus(Ya(s,o,i+2)).times(.5),ka(o.d).slice(0,i)===(t=ka(n.d)).slice(0,i)){if(t=t.slice(i-3,i+1),a==i&&t=="4999"){if(Lt(o,r+1,0),o.times(o).eq(s)){n=o;break}}else if(t!="9999")break;i+=4}return qt=!0,Lt(n,r)};ge.times=ge.mul=function(e){var t,r,n,a,o,i,s,l,c,u=this,f=u.constructor,h=u.d,p=(e=new f(e)).d;if(!u.s||!e.s)return new f(0);for(e.s*=u.s,r=u.e+e.e,l=h.length,c=p.length,l<c&&(o=h,h=p,p=o,i=l,l=c,c=i),o=[],i=l+c,n=i;n--;)o.push(0);for(n=c;--n>=0;){for(t=0,a=l+n;a>n;)s=o[a]+p[n]*h[a-n-1]+t,o[a--]=s%Cr|0,t=s/Cr|0;o[a]=(o[a]+t)%Cr|0}for(;!o[--i];)o.pop();return t?++r:o.shift(),e.d=o,e.e=r,qt?Lt(e,f.precision):e};ge.toDecimalPlaces=ge.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Aa(e,0,il),t===void 0?t=n.rounding:Aa(t,0,8),Lt(r,e+mr(r)+1,t))};ge.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=ki(n,!0):(Aa(e,0,il),t===void 0?t=a.rounding:Aa(t,0,8),n=Lt(new a(n),e+1,t),r=ki(n,!0,e+1)),r};ge.toFixed=function(e,t){var r,n,a=this,o=a.constructor;return e===void 0?ki(a):(Aa(e,0,il),t===void 0?t=o.rounding:Aa(t,0,8),n=Lt(new o(a),e+mr(a)+1,t),r=ki(n.abs(),!1,e+mr(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};ge.toInteger=ge.toint=function(){var e=this,t=e.constructor;return Lt(new t(e),mr(e)+1,t.rounding)};ge.toNumber=function(){return+this};ge.toPower=ge.pow=function(e){var t,r,n,a,o,i,s=this,l=s.constructor,c=12,u=+(e=new l(e));if(!e.s)return new l(Cn);if(s=new l(s),!s.s){if(e.s<1)throw Error(Zn+"Infinity");return s}if(s.eq(Cn))return s;if(n=l.precision,e.eq(Cn))return Lt(s,n);if(t=e.e,r=e.d.length-1,i=t>=r,o=s.s,i){if((r=u<0?-u:u)<=GO){for(a=new l(Cn),t=Math.ceil(n/Kt+4),qt=!1;r%2&&(a=a.times(s),W1(a.d,t)),r=sl(r/2),r!==0;)s=s.times(s),W1(s.d,t);return qt=!0,e.s<0?new l(Cn).div(a):Lt(a,n)}}else if(o<0)throw Error(Zn+"NaN");return o=o<0&&e.d[Math.max(t,r)]&1?-1:1,s.s=1,qt=!1,a=e.times(Pc(s,n+c)),qt=!0,a=VO(a),a.s=o,a};ge.toPrecision=function(e,t){var r,n,a=this,o=a.constructor;return e===void 0?(r=mr(a),n=ki(a,r<=o.toExpNeg||r>=o.toExpPos)):(Aa(e,1,il),t===void 0?t=o.rounding:Aa(t,0,8),a=Lt(new o(a),e,t),r=mr(a),n=ki(a,e<=r||r<=o.toExpNeg,e)),n};ge.toSignificantDigits=ge.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Aa(e,1,il),t===void 0?t=n.rounding:Aa(t,0,8)),Lt(new n(r),e,t)};ge.toString=ge.valueOf=ge.val=ge.toJSON=ge[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=mr(e),r=e.constructor;return ki(e,t<=r.toExpNeg||t>=r.toExpPos)};function HO(e,t){var r,n,a,o,i,s,l,c,u=e.constructor,f=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),qt?Lt(t,f):t;if(l=e.d,c=t.d,i=e.e,a=t.e,l=l.slice(),o=i-a,o){for(o<0?(n=l,o=-o,s=c.length):(n=c,a=i,s=l.length),i=Math.ceil(f/Kt),s=i>s?i+1:s+1,o>s&&(o=s,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(s=l.length,o=c.length,s-o<0&&(o=s,n=c,c=l,l=n),r=0;o;)r=(l[--o]=l[o]+c[o]+r)/Cr|0,l[o]%=Cr;for(r&&(l.unshift(r),++a),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=a,qt?Lt(t,f):t}function Aa(e,t,r){if(e!==~~e||e<t||e>r)throw Error(di+e)}function ka(e){var t,r,n,a=e.length-1,o="",i=e[0];if(a>0){for(o+=i,t=1;t<a;t++)n=e[t]+"",r=Kt-n.length,r&&(o+=ho(r)),o+=n;i=e[t],n=i+"",r=Kt-n.length,r&&(o+=ho(r))}else if(i===0)return"0";for(;i%10===0;)i/=10;return o+i}var Ya=function(){function e(n,a){var o,i=0,s=n.length;for(n=n.slice();s--;)o=n[s]*a+i,n[s]=o%Cr|0,i=o/Cr|0;return i&&n.unshift(i),n}function t(n,a,o,i){var s,l;if(o!=i)l=o>i?1:-1;else for(s=l=0;s<o;s++)if(n[s]!=a[s]){l=n[s]>a[s]?1:-1;break}return l}function r(n,a,o){for(var i=0;o--;)n[o]-=i,i=n[o]<a[o]?1:0,n[o]=i*Cr+n[o]-a[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,o,i){var s,l,c,u,f,h,p,m,v,x,y,g,b,S,w,k,j,_,P=n.constructor,A=n.s==a.s?1:-1,N=n.d,E=a.d;if(!n.s)return new P(n);if(!a.s)throw Error(Zn+"Division by zero");for(l=n.e-a.e,j=E.length,w=N.length,p=new P(A),m=p.d=[],c=0;E[c]==(N[c]||0);)++c;if(E[c]>(N[c]||0)&&--l,o==null?g=o=P.precision:i?g=o+(mr(n)-mr(a))+1:g=o,g<0)return new P(0);if(g=g/Kt+2|0,c=0,j==1)for(u=0,E=E[0],g++;(c<w||u)&&g--;c++)b=u*Cr+(N[c]||0),m[c]=b/E|0,u=b%E|0;else{for(u=Cr/(E[0]+1)|0,u>1&&(E=e(E,u),N=e(N,u),j=E.length,w=N.length),S=j,v=N.slice(0,j),x=v.length;x<j;)v[x++]=0;_=E.slice(),_.unshift(0),k=E[0],E[1]>=Cr/2&&++k;do u=0,s=t(E,v,j,x),s<0?(y=v[0],j!=x&&(y=y*Cr+(v[1]||0)),u=y/k|0,u>1?(u>=Cr&&(u=Cr-1),f=e(E,u),h=f.length,x=v.length,s=t(f,v,h,x),s==1&&(u--,r(f,j<h?_:E,h))):(u==0&&(s=u=1),f=E.slice()),h=f.length,h<x&&f.unshift(0),r(v,f,x),s==-1&&(x=v.length,s=t(E,v,j,x),s<1&&(u++,r(v,j<x?_:E,x))),x=v.length):s===0&&(u++,v=[0]),m[c++]=u,s&&v[0]?v[x++]=N[S]||0:(v=[N[S]],x=1);while((S++<w||v[0]!==void 0)&&g--)}return m[0]||m.shift(),p.e=l,Lt(p,i?o+mr(p)+1:o)}}();function VO(e,t){var r,n,a,o,i,s,l=0,c=0,u=e.constructor,f=u.precision;if(mr(e)>16)throw Error(iv+mr(e));if(!e.s)return new u(Cn);for(qt=!1,s=f,i=new u(.03125);e.abs().gte(.1);)e=e.times(i),c+=5;for(n=Math.log(Jo(2,c))/Math.LN10*2+5|0,s+=n,r=a=o=new u(Cn),u.precision=s;;){if(a=Lt(a.times(e),s),r=r.times(++l),i=o.plus(Ya(a,r,s)),ka(i.d).slice(0,s)===ka(o.d).slice(0,s)){for(;c--;)o=Lt(o.times(o),s);return u.precision=f,t==null?(qt=!0,Lt(o,f)):o}o=i}}function mr(e){for(var t=e.e*Kt,r=e.d[0];r>=10;r/=10)t++;return t}function Ep(e,t,r){if(t>e.LN10.sd())throw qt=!0,r&&(e.precision=r),Error(Zn+"LN10 precision limit exceeded");return Lt(new e(e.LN10),t)}function ho(e){for(var t="";e--;)t+="0";return t}function Pc(e,t){var r,n,a,o,i,s,l,c,u,f=1,h=10,p=e,m=p.d,v=p.constructor,x=v.precision;if(p.s<1)throw Error(Zn+(p.s?"NaN":"-Infinity"));if(p.eq(Cn))return new v(0);if(t==null?(qt=!1,c=x):c=t,p.eq(10))return t==null&&(qt=!0),Ep(v,c);if(c+=h,v.precision=c,r=ka(m),n=r.charAt(0),o=mr(p),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=ka(p.d),n=r.charAt(0),f++;o=mr(p),n>1?(p=new v("0."+r),o++):p=new v(n+"."+r.slice(1))}else return l=Ep(v,c+2,x).times(o+""),p=Pc(new v(n+"."+r.slice(1)),c-h).plus(l),v.precision=x,t==null?(qt=!0,Lt(p,x)):p;for(s=i=p=Ya(p.minus(Cn),p.plus(Cn),c),u=Lt(p.times(p),c),a=3;;){if(i=Lt(i.times(u),c),l=s.plus(Ya(i,new v(a),c)),ka(l.d).slice(0,c)===ka(s.d).slice(0,c))return s=s.times(2),o!==0&&(s=s.plus(Ep(v,c+2,x).times(o+""))),s=Ya(s,new v(f),c),v.precision=x,t==null?(qt=!0,Lt(s,x)):s;s=l,a+=2}}function z1(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=sl(r/Kt),e.d=[],n=(r+1)%Kt,r<0&&(n+=Kt),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Kt;n<a;)e.d.push(+t.slice(n,n+=Kt));t=t.slice(n),n=Kt-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),qt&&(e.e>ed||e.e<-ed))throw Error(iv+r)}else e.s=0,e.e=0,e.d=[0];return e}function Lt(e,t,r){var n,a,o,i,s,l,c,u,f=e.d;for(i=1,o=f[0];o>=10;o/=10)i++;if(n=t-i,n<0)n+=Kt,a=t,c=f[u=0];else{if(u=Math.ceil((n+1)/Kt),o=f.length,u>=o)return e;for(c=o=f[u],i=1;o>=10;o/=10)i++;n%=Kt,a=n-Kt+i}if(r!==void 0&&(o=Jo(10,i-a-1),s=c/o%10|0,l=t<0||f[u+1]!==void 0||c%o,l=r<4?(s||l)&&(r==0||r==(e.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?a>0?c/Jo(10,i-a):0:f[u-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return l?(o=mr(e),f.length=1,t=t-o-1,f[0]=Jo(10,(Kt-t%Kt)%Kt),e.e=sl(-t/Kt)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=u,o=1,u--):(f.length=u+1,o=Jo(10,Kt-n),f[u]=a>0?(c/Jo(10,i-a)%Jo(10,a)|0)*o:0),l)for(;;)if(u==0){(f[0]+=o)==Cr&&(f[0]=1,++e.e);break}else{if(f[u]+=o,f[u]!=Cr)break;f[u--]=0,o=1}for(n=f.length;f[--n]===0;)f.pop();if(qt&&(e.e>ed||e.e<-ed))throw Error(iv+mr(e));return e}function KO(e,t){var r,n,a,o,i,s,l,c,u,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),qt?Lt(t,p):t;if(l=e.d,f=t.d,n=t.e,c=e.e,l=l.slice(),i=c-n,i){for(u=i<0,u?(r=l,i=-i,s=f.length):(r=f,n=c,s=l.length),a=Math.max(Math.ceil(p/Kt),s)+2,i>a&&(i=a,r.length=1),r.reverse(),a=i;a--;)r.push(0);r.reverse()}else{for(a=l.length,s=f.length,u=a<s,u&&(s=a),a=0;a<s;a++)if(l[a]!=f[a]){u=l[a]<f[a];break}i=0}for(u&&(r=l,l=f,f=r,t.s=-t.s),s=l.length,a=f.length-s;a>0;--a)l[s++]=0;for(a=f.length;a>i;){if(l[--a]<f[a]){for(o=a;o&&l[--o]===0;)l[o]=Cr-1;--l[o],l[a]+=Cr}l[a]-=f[a]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,qt?Lt(t,p):t):new h(0)}function ki(e,t,r){var n,a=mr(e),o=ka(e.d),i=o.length;return t?(r&&(n=r-i)>0?o=o.charAt(0)+"."+o.slice(1)+ho(n):i>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(a<0?"e":"e+")+a):a<0?(o="0."+ho(-a-1)+o,r&&(n=r-i)>0&&(o+=ho(n))):a>=i?(o+=ho(a+1-i),r&&(n=r-a-1)>0&&(o=o+"."+ho(n))):((n=a+1)<i&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-i)>0&&(a+1===i&&(o+="."),o+=ho(n))),e.s<0?"-"+o:o}function W1(e,t){if(e.length>t)return e.length=t,!0}function XO(e){var t,r,n;function a(o){var i=this;if(!(i instanceof a))return new a(o);if(i.constructor=a,o instanceof a){i.s=o.s,i.e=o.e,i.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(di+o);if(o>0)i.s=1;else if(o<0)o=-o,i.s=-1;else{i.s=0,i.e=0,i.d=[0];return}if(o===~~o&&o<1e7){i.e=0,i.d=[o];return}return z1(i,o.toString())}else if(typeof o!="string")throw Error(di+o);if(o.charCodeAt(0)===45?(o=o.slice(1),i.s=-1):i.s=1,l7.test(o))z1(i,o);else throw Error(di+o)}if(a.prototype=ge,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=XO,a.config=a.set=c7,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function c7(e){if(!e||typeof e!="object")throw Error(Zn+"Object expected");var t,r,n,a=["precision",1,il,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(sl(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(di+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(di+r+": "+n);return this}var sv=XO(s7);Cn=new sv(1);const Et=sv;function u7(e){return p7(e)||h7(e)||d7(e)||f7()}function f7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d7(e,t){if(e){if(typeof e=="string")return jg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jg(e,t)}}function h7(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function p7(e){if(Array.isArray(e))return jg(e)}function jg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var g7=function(t){return t},YO={},qO=function(t){return t===YO},U1=function(t){return function r(){return arguments.length===0||arguments.length===1&&qO(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},m7=function e(t,r){return t===1?r:U1(function(){for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];var i=a.filter(function(s){return s!==YO}).length;return i>=t?r.apply(void 0,a):e(t-i,U1(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var u=a.map(function(f){return qO(f)?l.shift():f});return r.apply(void 0,u7(u).concat(l))}))})},Sh=function(t){return m7(t.length,t)},Og=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},y7=Sh(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),v7=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return g7;var a=r.reverse(),o=a[0],i=a.slice(1);return function(){return i.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},_g=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},ZO=function(t){var r=null,n=null;return function(){for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return r&&o.every(function(s,l){return s===r[l]})||(r=o,n=t.apply(void 0,o)),n}};function x7(e){var t;return e===0?t=1:t=Math.floor(new Et(e).abs().log(10).toNumber())+1,t}function b7(e,t,r){for(var n=new Et(e),a=0,o=[];n.lt(t)&&a<1e5;)o.push(n.toNumber()),n=n.add(r),a++;return o}var w7=Sh(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),k7=Sh(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),S7=Sh(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const jh={rangeStep:b7,getDigitCount:x7,interpolateNumber:w7,uninterpolateNumber:k7,uninterpolateTruncation:S7};function Pg(e){return _7(e)||O7(e)||QO(e)||j7()}function j7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O7(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function _7(e){if(Array.isArray(e))return Ng(e)}function Nc(e,t){return A7(e)||N7(e,t)||QO(e,t)||P7()}function P7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QO(e,t){if(e){if(typeof e=="string")return Ng(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ng(e,t)}}function Ng(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function N7(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,o=void 0;try{for(var i=e[Symbol.iterator](),s;!(n=(s=i.next()).done)&&(r.push(s.value),!(t&&r.length===t));n=!0);}catch(l){a=!0,o=l}finally{try{!n&&i.return!=null&&i.return()}finally{if(a)throw o}}return r}}function A7(e){if(Array.isArray(e))return e}function JO(e){var t=Nc(e,2),r=t[0],n=t[1],a=r,o=n;return r>n&&(a=n,o=r),[a,o]}function e_(e,t,r){if(e.lte(0))return new Et(0);var n=jh.getDigitCount(e.toNumber()),a=new Et(10).pow(n),o=e.div(a),i=n!==1?.05:.1,s=new Et(Math.ceil(o.div(i).toNumber())).add(r).mul(i),l=s.mul(a);return t?l:new Et(Math.ceil(l))}function M7(e,t,r){var n=1,a=new Et(e);if(!a.isint()&&r){var o=Math.abs(e);o<1?(n=new Et(10).pow(jh.getDigitCount(e)-1),a=new Et(Math.floor(a.div(n).toNumber())).mul(n)):o>1&&(a=new Et(Math.floor(e)))}else e===0?a=new Et(Math.floor((t-1)/2)):r||(a=new Et(Math.floor(e)));var i=Math.floor((t-1)/2),s=v7(y7(function(l){return a.add(new Et(l-i).mul(n)).toNumber()}),Og);return s(0,t)}function t_(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Et(0),tickMin:new Et(0),tickMax:new Et(0)};var o=e_(new Et(t).sub(e).div(r-1),n,a),i;e<=0&&t>=0?i=new Et(0):(i=new Et(e).add(t).div(2),i=i.sub(new Et(i).mod(o)));var s=Math.ceil(i.sub(e).div(o).toNumber()),l=Math.ceil(new Et(t).sub(i).div(o).toNumber()),c=s+l+1;return c>r?t_(e,t,r,n,a+1):(c<r&&(l=t>0?l+(r-c):l,s=t>0?s:s+(r-c)),{step:o,tickMin:i.sub(new Et(s).mul(o)),tickMax:i.add(new Et(l).mul(o))})}function C7(e){var t=Nc(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(a,2),s=JO([r,n]),l=Nc(s,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var f=u===1/0?[c].concat(Pg(Og(0,a-1).map(function(){return 1/0}))):[].concat(Pg(Og(0,a-1).map(function(){return-1/0})),[u]);return r>n?_g(f):f}if(c===u)return M7(c,a,o);var h=t_(c,u,i,o),p=h.step,m=h.tickMin,v=h.tickMax,x=jh.rangeStep(m,v.add(new Et(.1).mul(p)),p);return r>n?_g(x):x}function E7(e,t){var r=Nc(e,2),n=r[0],a=r[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=JO([n,a]),s=Nc(i,2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[n,a];if(l===c)return[l];var u=Math.max(t,2),f=e_(new Et(c).sub(l).div(u-1),o,0),h=[].concat(Pg(jh.rangeStep(new Et(l),new Et(c).sub(new Et(.99).mul(f)),f)),[c]);return n>a?_g(h):h}var T7=ZO(C7),$7=ZO(E7),D7="Invariant failed";function Si(e,t){throw new Error(D7)}var R7=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Ns(e){"@babel/helpers - typeof";return Ns=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ns(e)}function td(){return td=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},td.apply(this,arguments)}function L7(e,t){return z7(e)||F7(e,t)||B7(e,t)||I7()}function I7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B7(e,t){if(e){if(typeof e=="string")return G1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return G1(e,t)}}function G1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function F7(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function z7(e){if(Array.isArray(e))return e}function W7(e,t){if(e==null)return{};var r=U7(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function U7(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function G7(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H7(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a_(n.key),n)}}function V7(e,t,r){return t&&H7(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function K7(e,t,r){return t=rd(t),X7(e,r_()?Reflect.construct(t,r||[],rd(e).constructor):t.apply(e,r))}function X7(e,t){if(t&&(Ns(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y7(e)}function Y7(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function r_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r_=function(){return!!e})()}function rd(e){return rd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rd(e)}function q7(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ag(e,t)}function Ag(e,t){return Ag=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ag(e,t)}function n_(e,t,r){return t=a_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a_(e){var t=Z7(e,"string");return Ns(t)=="symbol"?t:t+""}function Z7(e,t){if(Ns(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ns(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ll=function(e){function t(){return G7(this,t),K7(this,t,arguments)}return q7(t,e),V7(t,[{key:"render",value:function(){var n=this.props,a=n.offset,o=n.layout,i=n.width,s=n.dataKey,l=n.data,c=n.dataPointFormatter,u=n.xAxis,f=n.yAxis,h=W7(n,R7),p=Be(h,!1);this.props.direction==="x"&&u.type!=="number"&&Si();var m=l.map(function(v){var x=c(v,s),y=x.x,g=x.y,b=x.value,S=x.errorVal;if(!S)return null;var w=[],k,j;if(Array.isArray(S)){var _=L7(S,2);k=_[0],j=_[1]}else k=j=S;if(o==="vertical"){var P=u.scale,A=g+a,N=A+i,E=A-i,F=P(b-k),I=P(b+j);w.push({x1:I,y1:N,x2:I,y2:E}),w.push({x1:F,y1:A,x2:I,y2:A}),w.push({x1:F,y1:N,x2:F,y2:E})}else if(o==="horizontal"){var T=f.scale,R=y+a,W=R-i,L=R+i,D=T(b-k),B=T(b+j);w.push({x1:W,y1:B,x2:L,y2:B}),w.push({x1:R,y1:D,x2:R,y2:B}),w.push({x1:W,y1:D,x2:L,y2:D})}return M.createElement(xt,td({className:"recharts-errorBar",key:"bar-".concat(w.map(function(J){return"".concat(J.x1,"-").concat(J.x2,"-").concat(J.y1,"-").concat(J.y2)}))},p),w.map(function(J){return M.createElement("line",td({},J,{key:"line-".concat(J.x1,"-").concat(J.x2,"-").concat(J.y1,"-").concat(J.y2)}))}))});return M.createElement(xt,{className:"recharts-errorBars"},m)}}])}(M.Component);n_(ll,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});n_(ll,"displayName","ErrorBar");function Ac(e){"@babel/helpers - typeof";return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ac(e)}function H1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H1(Object(r),!0).forEach(function(n){Q7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Q7(e,t,r){return t=J7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J7(e){var t=eW(e,"string");return Ac(t)=="symbol"?t:t+""}function eW(e,t){if(Ac(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ac(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var o_=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,o=t.legendContent,i=Mn(r,Xa);if(!i)return null;var s=Xa.defaultProps,l=s!==void 0?Xo(Xo({},s),i.props):{},c;return i.props&&i.props.payload?c=i.props&&i.props.payload:o==="children"?c=(n||[]).reduce(function(u,f){var h=f.item,p=f.props,m=p.sectors||p.data||[];return u.concat(m.map(function(v){return{type:i.props.iconType||h.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):c=(n||[]).map(function(u){var f=u.item,h=f.type.defaultProps,p=h!==void 0?Xo(Xo({},h),f.props):{},m=p.dataKey,v=p.name,x=p.legendType,y=p.hide;return{inactive:y,dataKey:m,type:l.iconType||x||"square",color:lv(f),value:v||m,payload:p}}),Xo(Xo(Xo({},l),Xa.getWithHeight(i,a)),{},{payload:c,item:i})};function Mc(e){"@babel/helpers - typeof";return Mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mc(e)}function V1(e){return aW(e)||nW(e)||rW(e)||tW()}function tW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rW(e,t){if(e){if(typeof e=="string")return Mg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mg(e,t)}}function nW(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function aW(e){if(Array.isArray(e))return Mg(e)}function Mg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function K1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ir(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K1(Object(r),!0).forEach(function(n){fs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fs(e,t,r){return t=oW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oW(e){var t=iW(e,"string");return Mc(t)=="symbol"?t:t+""}function iW(e,t){if(Mc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pr(e,t,r){return De(e)||De(t)?r:_r(t)?Xn(e,t,r):ze(t)?t(e):r}function Vl(e,t,r,n){var a=n7(e,function(s){return Pr(s,t)});if(r==="number"){var o=a.filter(function(s){return oe(s)||parseFloat(s)});return o.length?[kh(o),xo(o)]:[1/0,-1/0]}var i=n?a.filter(function(s){return!De(s)}):a;return i.map(function(s){return _r(s)||s instanceof Date?s:""})}var sW=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,i=-1,s=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,c=0;c<s;c++){var u=c>0?a[c-1].coordinate:a[s-1].coordinate,f=a[c].coordinate,h=c>=s-1?a[0].coordinate:a[c+1].coordinate,p=void 0;if(la(f-u)!==la(h-f)){var m=[];if(la(h-f)===la(l[1]-l[0])){p=h;var v=f+l[1]-l[0];m[0]=Math.min(v,(v+u)/2),m[1]=Math.max(v,(v+u)/2)}else{p=u;var x=h+l[1]-l[0];m[0]=Math.min(f,(x+f)/2),m[1]=Math.max(f,(x+f)/2)}var y=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>y[0]&&t<=y[1]||t>=m[0]&&t<=m[1]){i=a[c].index;break}}else{var g=Math.min(u,h),b=Math.max(u,h);if(t>(g+f)/2&&t<=(b+f)/2){i=a[c].index;break}}}else for(var S=0;S<s;S++)if(S===0&&t<=(n[S].coordinate+n[S+1].coordinate)/2||S>0&&S<s-1&&t>(n[S].coordinate+n[S-1].coordinate)/2&&t<=(n[S].coordinate+n[S+1].coordinate)/2||S===s-1&&t>(n[S].coordinate+n[S-1].coordinate)/2){i=n[S].index;break}return i},lv=function(t){var r,n=t,a=n.type.displayName,o=(r=t.type)!==null&&r!==void 0&&r.defaultProps?ir(ir({},t.type.defaultProps),t.props):t.props,i=o.stroke,s=o.fill,l;switch(a){case"Line":l=i;break;case"Area":case"Radar":l=i&&i!=="none"?i:s;break;default:l=s;break}return l},lW=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,o=a===void 0?{}:a;if(!o)return{};for(var i={},s=Object.keys(o),l=0,c=s.length;l<c;l++)for(var u=o[s[l]].stackGroups,f=Object.keys(u),h=0,p=f.length;h<p;h++){var m=u[f[h]],v=m.items,x=m.cateAxisId,y=v.filter(function(j){return Va(j.type).indexOf("Bar")>=0});if(y&&y.length){var g=y[0].type.defaultProps,b=g!==void 0?ir(ir({},g),y[0].props):y[0].props,S=b.barSize,w=b[x];i[w]||(i[w]=[]);var k=De(S)?r:S;i[w].push({item:y[0],stackList:y.slice(1),barSize:De(k)?void 0:bi(k,n,0)})}}return i},cW=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,o=t.sizeList,i=o===void 0?[]:o,s=t.maxBarSize,l=i.length;if(l<1)return null;var c=bi(r,a,0,!0),u,f=[];if(i[0].barSize===+i[0].barSize){var h=!1,p=a/l,m=i.reduce(function(S,w){return S+w.barSize||0},0);m+=(l-1)*c,m>=a&&(m-=(l-1)*c,c=0),m>=a&&p>0&&(h=!0,p*=.9,m=l*p);var v=(a-m)/2>>0,x={offset:v-c,size:0};u=i.reduce(function(S,w){var k={item:w.item,position:{offset:x.offset+x.size+c,size:h?p:w.barSize}},j=[].concat(V1(S),[k]);return x=j[j.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(_){j.push({item:_,position:x})}),j},f)}else{var y=bi(n,a,0,!0);a-2*y-(l-1)*c<=0&&(c=0);var g=(a-2*y-(l-1)*c)/l;g>1&&(g>>=0);var b=s===+s?Math.min(g,s):g;u=i.reduce(function(S,w,k){var j=[].concat(V1(S),[{item:w.item,position:{offset:y+(g+c)*k+(g-b)/2,size:b}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(_){j.push({item:_,position:j[j.length-1].position})}),j},f)}return u},uW=function(t,r,n,a){var o=n.children,i=n.width,s=n.margin,l=i-(s.left||0)-(s.right||0),c=o_({children:o,legendWidth:l});if(c){var u=a||{},f=u.width,h=u.height,p=c.align,m=c.verticalAlign,v=c.layout;if((v==="vertical"||v==="horizontal"&&m==="middle")&&p!=="center"&&oe(t[p]))return ir(ir({},t),{},fs({},p,t[p]+(f||0)));if((v==="horizontal"||v==="vertical"&&p==="center")&&m!=="middle"&&oe(t[m]))return ir(ir({},t),{},fs({},m,t[m]+(h||0)))}return t},fW=function(t,r,n){return De(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},i_=function(t,r,n,a,o){var i=r.props.children,s=kn(i,ll).filter(function(c){return fW(a,o,c.props.direction)});if(s&&s.length){var l=s.map(function(c){return c.props.dataKey});return t.reduce(function(c,u){var f=Pr(u,n);if(De(f))return c;var h=Array.isArray(f)?[kh(f),xo(f)]:[f,f],p=l.reduce(function(m,v){var x=Pr(u,v,0),y=h[0]-Math.abs(Array.isArray(x)?x[0]:x),g=h[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(y,m[0]),Math.max(g,m[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},dW=function(t,r,n,a,o){var i=r.map(function(s){return i_(t,s,n,o,a)}).filter(function(s){return!De(s)});return i&&i.length?i.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},s_=function(t,r,n,a,o){var i=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&i_(t,l,c,a)||Vl(t,c,n,o)});if(n==="number")return i.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var s={};return i.reduce(function(l,c){for(var u=0,f=c.length;u<f;u++)s[c[u]]||(s[c[u]]=!0,l.push(c[u]));return l},[])},l_=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},c_=function(t,r,n,a){if(a)return t.map(function(l){return l.coordinate});var o,i,s=t.map(function(l){return l.coordinate===r&&(o=!0),l.coordinate===n&&(i=!0),l.coordinate});return o||s.push(r),i||s.push(n),s},Ga=function(t,r,n){if(!t)return null;var a=t.scale,o=t.duplicateDomain,i=t.type,s=t.range,l=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,c=(r||n)&&i==="category"&&a.bandwidth?a.bandwidth()/l:0;if(c=t.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?la(s[0]-s[1])*2*c:c,r&&(t.ticks||t.niceTicks)){var u=(t.ticks||t.niceTicks).map(function(f){var h=o?o.indexOf(f):f;return{coordinate:a(h)+c,value:f,offset:c}});return u.filter(function(f){return!tl(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+c,value:f,index:h,offset:c}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+c,value:f,offset:c}}):a.domain().map(function(f,h){return{coordinate:a(f)+c,value:o?o[f]:f,index:h,offset:c}})},Tp=new WeakMap,Iu=function(t,r){if(typeof r!="function")return t;Tp.has(t)||Tp.set(t,new WeakMap);var n=Tp.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},hW=function(t,r,n){var a=t.scale,o=t.type,i=t.layout,s=t.axisType;if(a==="auto")return i==="radial"&&s==="radiusAxis"?{scale:kc(),realScaleType:"band"}:i==="radial"&&s==="angleAxis"?{scale:qf(),realScaleType:"linear"}:o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Hl(),realScaleType:"point"}:o==="category"?{scale:kc(),realScaleType:"band"}:{scale:qf(),realScaleType:"linear"};if(xi(a)){var l="scale".concat(lh(a));return{scale:(F1[l]||Hl)(),realScaleType:F1[l]?l:"point"}}return ze(a)?{scale:a}:{scale:Hl(),realScaleType:"point"}},X1=1e-4,pW=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),o=Math.min(a[0],a[1])-X1,i=Math.max(a[0],a[1])+X1,s=t(r[0]),l=t(r[n-1]);(s<o||s>i||l<o||l>i)&&t.domain([r[0],r[n-1]])}},gW=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},mW=function(t,r){if(!r||r.length!==2||!oe(r[0])||!oe(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),o=[t[0],t[1]];return(!oe(t[0])||t[0]<n)&&(o[0]=n),(!oe(t[1])||t[1]>a)&&(o[1]=a),o[0]>a&&(o[0]=a),o[1]<n&&(o[1]=n),o},yW=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var o=0,i=0,s=0;s<r;++s){var l=tl(t[s][n][1])?t[s][n][0]:t[s][n][1];l>=0?(t[s][n][0]=o,t[s][n][1]=o+l,o=t[s][n][1]):(t[s][n][0]=i,t[s][n][1]=i+l,i=t[s][n][1])}},vW=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var o=0,i=0;i<r;++i){var s=tl(t[i][n][1])?t[i][n][0]:t[i][n][1];s>=0?(t[i][n][0]=o,t[i][n][1]=o+s,o=t[i][n][1]):(t[i][n][0]=0,t[i][n][1]=0)}},xW={sign:yW,expand:$$,none:xs,silhouette:D$,wiggle:R$,positive:vW},bW=function(t,r,n){var a=r.map(function(s){return s.props.dataKey}),o=xW[n],i=T$().keys(a).value(function(s,l){return+Pr(s,l,0)}).order(tg).offset(o);return i(t)},wW=function(t,r,n,a,o,i){if(!t)return null;var s=i?r.reverse():r,l={},c=s.reduce(function(f,h){var p,m=(p=h.type)!==null&&p!==void 0&&p.defaultProps?ir(ir({},h.type.defaultProps),h.props):h.props,v=m.stackId,x=m.hide;if(x)return f;var y=m[n],g=f[y]||{hasStack:!1,stackGroups:{}};if(_r(v)){var b=g.stackGroups[v]||{numericAxisId:n,cateAxisId:a,items:[]};b.items.push(h),g.hasStack=!0,g.stackGroups[v]=b}else g.stackGroups[Ai("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return ir(ir({},f),{},fs({},y,g))},l),u={};return Object.keys(c).reduce(function(f,h){var p=c[h];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(v,x){var y=p.stackGroups[x];return ir(ir({},v),{},fs({},x,{numericAxisId:n,cateAxisId:a,items:y.items,stackedData:bW(t,y.items,o)}))},m)}return ir(ir({},f),{},fs({},h,p))},u)},kW=function(t,r){var n=r.realScaleType,a=r.type,o=r.tickCount,i=r.originalDomain,s=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&a==="number"&&i&&(i[0]==="auto"||i[1]==="auto")){var c=t.domain();if(!c.length)return null;var u=T7(c,o,s);return t.domain([kh(u),xo(u)]),{niceTicks:u}}if(o&&a==="number"){var f=t.domain(),h=$7(f,o,s);return{niceTicks:h}}return null};function As(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,o=e.index,i=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!De(a[t.dataKey])){var s=Nf(r,"value",a[t.dataKey]);if(s)return s.coordinate+n/2}return r[o]?r[o].coordinate+n/2:null}var l=Pr(a,De(i)?t.dataKey:i);return De(l)?null:t.scale(l)}var Y1=function(t){var r=t.axis,n=t.ticks,a=t.offset,o=t.bandSize,i=t.entry,s=t.index;if(r.type==="category")return n[s]?n[s].coordinate+a:null;var l=Pr(i,r.dataKey,r.domain[s]);return De(l)?null:r.scale(l)-o/2+a},SW=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]);return a<=0&&o>=0?0:o<0?o:a}return n[0]},jW=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?ir(ir({},t.type.defaultProps),t.props):t.props,o=a.stackId;if(_r(o)){var i=r[o];if(i){var s=i.items.indexOf(t);return s>=0?i.stackedData[s]:null}}return null},OW=function(t){return t.reduce(function(r,n){return[kh(n.concat([r[0]]).filter(oe)),xo(n.concat([r[1]]).filter(oe))]},[1/0,-1/0])},u_=function(t,r,n){return Object.keys(t).reduce(function(a,o){var i=t[o],s=i.stackedData,l=s.reduce(function(c,u){var f=OW(u.slice(r,n+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],a[0]),Math.max(l[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},q1=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Z1=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Cg=function(t,r,n){if(ze(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(oe(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(q1.test(t[0])){var o=+q1.exec(t[0])[1];a[0]=r[0]-o}else ze(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(oe(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(Z1.test(t[1])){var i=+Z1.exec(t[1])[1];a[1]=r[1]+i}else ze(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},nd=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var o=Dy(r,function(f){return f.coordinate}),i=1/0,s=1,l=o.length;s<l;s++){var c=o[s],u=o[s-1];i=Math.min((c.coordinate||0)-(u.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0},Q1=function(t,r,n){return!t||!t.length||wi(t,Xn(n,"type.defaultProps.domain"))?r:t},f_=function(t,r){var n=t.type.defaultProps?ir(ir({},t.type.defaultProps),t.props):t.props,a=n.dataKey,o=n.name,i=n.unit,s=n.formatter,l=n.tooltipType,c=n.chartType,u=n.hide;return ir(ir({},Be(t,!1)),{},{dataKey:a,unit:i,formatter:s,name:o||a,color:lv(t),value:Pr(r,a),type:l,payload:r,chartType:c,hide:u})};function Cc(e){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cc(e)}function J1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ew(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J1(Object(r),!0).forEach(function(n){_W(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _W(e,t,r){return t=PW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PW(e){var t=NW(e,"string");return Cc(t)=="symbol"?t:t+""}function NW(e,t){if(Cc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ad=Math.PI/180,AW=function(t){return t*180/Math.PI},Fr=function(t,r,n,a){return{x:t+Math.cos(-ad*a)*n,y:r+Math.sin(-ad*a)*n}},MW=function(t,r){var n=t.x,a=t.y,o=r.x,i=r.y;return Math.sqrt(Math.pow(n-o,2)+Math.pow(a-i,2))},CW=function(t,r){var n=t.x,a=t.y,o=r.cx,i=r.cy,s=MW({x:n,y:a},{x:o,y:i});if(s<=0)return{radius:s};var l=(n-o)/s,c=Math.acos(l);return a>i&&(c=2*Math.PI-c),{radius:s,angle:AW(c),angleInRadian:c}},EW=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),o=Math.floor(n/360),i=Math.min(a,o);return{startAngle:r-i*360,endAngle:n-i*360}},TW=function(t,r){var n=r.startAngle,a=r.endAngle,o=Math.floor(n/360),i=Math.floor(a/360),s=Math.min(o,i);return t+s*360},tw=function(t,r){var n=t.x,a=t.y,o=CW({x:n,y:a},r),i=o.radius,s=o.angle,l=r.innerRadius,c=r.outerRadius;if(i<l||i>c)return!1;if(i===0)return!0;var u=EW(r),f=u.startAngle,h=u.endAngle,p=s,m;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;m=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;m=p>=h&&p<=f}return m?ew(ew({},r),{},{radius:i,angle:TW(p,r)}):null};function Ec(e){"@babel/helpers - typeof";return Ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ec(e)}var $W=["offset"];function DW(e){return BW(e)||IW(e)||LW(e)||RW()}function RW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LW(e,t){if(e){if(typeof e=="string")return Eg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Eg(e,t)}}function IW(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function BW(e){if(Array.isArray(e))return Eg(e)}function Eg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function FW(e,t){if(e==null)return{};var r=zW(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zW(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function rw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rw(Object(r),!0).forEach(function(n){WW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WW(e,t,r){return t=UW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UW(e){var t=GW(e,"string");return Ec(t)=="symbol"?t:t+""}function GW(e,t){if(Ec(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ec(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tc(){return Tc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tc.apply(this,arguments)}var HW=function(t){var r=t.value,n=t.formatter,a=De(t.children)?r:t.children;return ze(n)?n(a):a},VW=function(t,r){var n=la(r-t),a=Math.min(Math.abs(r-t),360);return n*a},KW=function(t,r,n){var a=t.position,o=t.viewBox,i=t.offset,s=t.className,l=o,c=l.cx,u=l.cy,f=l.innerRadius,h=l.outerRadius,p=l.startAngle,m=l.endAngle,v=l.clockWise,x=(f+h)/2,y=VW(p,m),g=y>=0?1:-1,b,S;a==="insideStart"?(b=p+g*i,S=v):a==="insideEnd"?(b=m-g*i,S=!v):a==="end"&&(b=m+g*i,S=v),S=y<=0?S:!S;var w=Fr(c,u,x,b),k=Fr(c,u,x,b+(S?1:-1)*359),j="M".concat(w.x,",").concat(w.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(S?0:1,`,
    `).concat(k.x,",").concat(k.y),_=De(t.id)?Ai("recharts-radial-line-"):t.id;return M.createElement("text",Tc({},n,{dominantBaseline:"central",className:nt("recharts-radial-bar-label",s)}),M.createElement("defs",null,M.createElement("path",{id:_,d:j})),M.createElement("textPath",{xlinkHref:"#".concat(_)},r))},XW=function(t){var r=t.viewBox,n=t.offset,a=t.position,o=r,i=o.cx,s=o.cy,l=o.innerRadius,c=o.outerRadius,u=o.startAngle,f=o.endAngle,h=(u+f)/2;if(a==="outside"){var p=Fr(i,s,c+n,h),m=p.x,v=p.y;return{x:m,y:v,textAnchor:m>=i?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"end"};var x=(l+c)/2,y=Fr(i,s,x,h),g=y.x,b=y.y;return{x:g,y:b,textAnchor:"middle",verticalAnchor:"middle"}},YW=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,o=t.position,i=r,s=i.x,l=i.y,c=i.width,u=i.height,f=u>=0?1:-1,h=f*a,p=f>0?"end":"start",m=f>0?"start":"end",v=c>=0?1:-1,x=v*a,y=v>0?"end":"start",g=v>0?"start":"end";if(o==="top"){var b={x:s+c/2,y:l-f*a,textAnchor:"middle",verticalAnchor:p};return Sr(Sr({},b),n?{height:Math.max(l-n.y,0),width:c}:{})}if(o==="bottom"){var S={x:s+c/2,y:l+u+h,textAnchor:"middle",verticalAnchor:m};return Sr(Sr({},S),n?{height:Math.max(n.y+n.height-(l+u),0),width:c}:{})}if(o==="left"){var w={x:s-x,y:l+u/2,textAnchor:y,verticalAnchor:"middle"};return Sr(Sr({},w),n?{width:Math.max(w.x-n.x,0),height:u}:{})}if(o==="right"){var k={x:s+c+x,y:l+u/2,textAnchor:g,verticalAnchor:"middle"};return Sr(Sr({},k),n?{width:Math.max(n.x+n.width-k.x,0),height:u}:{})}var j=n?{width:c,height:u}:{};return o==="insideLeft"?Sr({x:s+x,y:l+u/2,textAnchor:g,verticalAnchor:"middle"},j):o==="insideRight"?Sr({x:s+c-x,y:l+u/2,textAnchor:y,verticalAnchor:"middle"},j):o==="insideTop"?Sr({x:s+c/2,y:l+h,textAnchor:"middle",verticalAnchor:m},j):o==="insideBottom"?Sr({x:s+c/2,y:l+u-h,textAnchor:"middle",verticalAnchor:p},j):o==="insideTopLeft"?Sr({x:s+x,y:l+h,textAnchor:g,verticalAnchor:m},j):o==="insideTopRight"?Sr({x:s+c-x,y:l+h,textAnchor:y,verticalAnchor:m},j):o==="insideBottomLeft"?Sr({x:s+x,y:l+u-h,textAnchor:g,verticalAnchor:p},j):o==="insideBottomRight"?Sr({x:s+c-x,y:l+u-h,textAnchor:y,verticalAnchor:p},j):Zs(o)&&(oe(o.x)||ni(o.x))&&(oe(o.y)||ni(o.y))?Sr({x:s+bi(o.x,c),y:l+bi(o.y,u),textAnchor:"end",verticalAnchor:"end"},j):Sr({x:s+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},j)},qW=function(t){return"cx"in t&&oe(t.cx)};function Qr(e){var t=e.offset,r=t===void 0?5:t,n=FW(e,$W),a=Sr({offset:r},n),o=a.viewBox,i=a.position,s=a.value,l=a.children,c=a.content,u=a.className,f=u===void 0?"":u,h=a.textBreakAll;if(!o||De(s)&&De(l)&&!O.isValidElement(c)&&!ze(c))return null;if(O.isValidElement(c))return O.cloneElement(c,a);var p;if(ze(c)){if(p=O.createElement(c,a),O.isValidElement(p))return p}else p=HW(a);var m=qW(o),v=Be(a,!0);if(m&&(i==="insideStart"||i==="insideEnd"||i==="end"))return KW(a,p,v);var x=m?XW(a):YW(a);return M.createElement(Uf,Tc({className:nt("recharts-label",f)},v,x,{breakAll:h}),p)}Qr.displayName="Label";var d_=function(t){var r=t.cx,n=t.cy,a=t.angle,o=t.startAngle,i=t.endAngle,s=t.r,l=t.radius,c=t.innerRadius,u=t.outerRadius,f=t.x,h=t.y,p=t.top,m=t.left,v=t.width,x=t.height,y=t.clockWise,g=t.labelViewBox;if(g)return g;if(oe(v)&&oe(x)){if(oe(f)&&oe(h))return{x:f,y:h,width:v,height:x};if(oe(p)&&oe(m))return{x:p,y:m,width:v,height:x}}return oe(f)&&oe(h)?{x:f,y:h,width:0,height:0}:oe(r)&&oe(n)?{cx:r,cy:n,startAngle:o||a||0,endAngle:i||a||0,innerRadius:c||0,outerRadius:u||l||s||0,clockWise:y}:t.viewBox?t.viewBox:{}},ZW=function(t,r){return t?t===!0?M.createElement(Qr,{key:"label-implicit",viewBox:r}):_r(t)?M.createElement(Qr,{key:"label-implicit",viewBox:r,value:t}):O.isValidElement(t)?t.type===Qr?O.cloneElement(t,{key:"label-implicit",viewBox:r}):M.createElement(Qr,{key:"label-implicit",content:t,viewBox:r}):ze(t)?M.createElement(Qr,{key:"label-implicit",content:t,viewBox:r}):Zs(t)?M.createElement(Qr,Tc({viewBox:r},t,{key:"label-implicit"})):null:null},QW=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,o=d_(t),i=kn(a,Qr).map(function(l,c){return O.cloneElement(l,{viewBox:r||o,key:"label-".concat(c)})});if(!n)return i;var s=ZW(t.label,r||o);return[s].concat(DW(i))};Qr.parseViewBox=d_;Qr.renderCallByParent=QW;function JW(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var eU=JW;const tU=It(eU);function $c(e){"@babel/helpers - typeof";return $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$c(e)}var rU=["valueAccessor"],nU=["data","dataKey","clockWise","id","textBreakAll"];function aU(e){return lU(e)||sU(e)||iU(e)||oU()}function oU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iU(e,t){if(e){if(typeof e=="string")return Tg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Tg(e,t)}}function sU(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function lU(e){if(Array.isArray(e))return Tg(e)}function Tg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function od(){return od=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},od.apply(this,arguments)}function nw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function aw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nw(Object(r),!0).forEach(function(n){cU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cU(e,t,r){return t=uU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uU(e){var t=fU(e,"string");return $c(t)=="symbol"?t:t+""}function fU(e,t){if($c(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ow(e,t){if(e==null)return{};var r=dU(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dU(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var hU=function(t){return Array.isArray(t.value)?tU(t.value):t.value};function Pa(e){var t=e.valueAccessor,r=t===void 0?hU:t,n=ow(e,rU),a=n.data,o=n.dataKey,i=n.clockWise,s=n.id,l=n.textBreakAll,c=ow(n,nU);return!a||!a.length?null:M.createElement(xt,{className:"recharts-label-list"},a.map(function(u,f){var h=De(o)?r(u,f):Pr(u&&u.payload,o),p=De(s)?{}:{id:"".concat(s,"-").concat(f)};return M.createElement(Qr,od({},Be(u,!0),c,p,{parentViewBox:u.parentViewBox,value:h,textBreakAll:l,viewBox:Qr.parseViewBox(De(i)?u:aw(aw({},u),{},{clockWise:i})),key:"label-".concat(f),index:f}))}))}Pa.displayName="LabelList";function pU(e,t){return e?e===!0?M.createElement(Pa,{key:"labelList-implicit",data:t}):M.isValidElement(e)||ze(e)?M.createElement(Pa,{key:"labelList-implicit",data:t,content:e}):Zs(e)?M.createElement(Pa,od({data:t},e,{key:"labelList-implicit"})):null:null}function gU(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=kn(n,Pa).map(function(i,s){return O.cloneElement(i,{data:t,key:"labelList-".concat(s)})});if(!r)return a;var o=pU(e.label,t);return[o].concat(aU(a))}Pa.renderCallByParent=gU;function Dc(e){"@babel/helpers - typeof";return Dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dc(e)}function $g(){return $g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$g.apply(this,arguments)}function iw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iw(Object(r),!0).forEach(function(n){mU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mU(e,t,r){return t=yU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yU(e){var t=vU(e,"string");return Dc(t)=="symbol"?t:t+""}function vU(e,t){if(Dc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xU=function(t,r){var n=la(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},Bu=function(t){var r=t.cx,n=t.cy,a=t.radius,o=t.angle,i=t.sign,s=t.isExternal,l=t.cornerRadius,c=t.cornerIsExternal,u=l*(s?1:-1)+a,f=Math.asin(l/u)/ad,h=c?o:o+i*f,p=Fr(r,n,u,h),m=Fr(r,n,a,h),v=c?o-i*f:o,x=Fr(r,n,u*Math.cos(f*ad),v);return{center:p,circleTangency:m,lineTangency:x,theta:f}},h_=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,o=t.outerRadius,i=t.startAngle,s=t.endAngle,l=xU(i,s),c=i+l,u=Fr(r,n,o,i),f=Fr(r,n,o,c),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(i>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var p=Fr(r,n,a,i),m=Fr(r,n,a,c);h+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(i<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},bU=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,o=t.outerRadius,i=t.cornerRadius,s=t.forceCornerRadius,l=t.cornerIsExternal,c=t.startAngle,u=t.endAngle,f=la(u-c),h=Bu({cx:r,cy:n,radius:o,angle:c,sign:f,cornerRadius:i,cornerIsExternal:l}),p=h.circleTangency,m=h.lineTangency,v=h.theta,x=Bu({cx:r,cy:n,radius:o,angle:u,sign:-f,cornerRadius:i,cornerIsExternal:l}),y=x.circleTangency,g=x.lineTangency,b=x.theta,S=l?Math.abs(c-u):Math.abs(c-u)-v-b;if(S<0)return s?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):h_({cx:r,cy:n,innerRadius:a,outerRadius:o,startAngle:c,endAngle:u});var w="M ".concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(S>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
  `);if(a>0){var k=Bu({cx:r,cy:n,radius:a,angle:c,sign:f,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),j=k.circleTangency,_=k.lineTangency,P=k.theta,A=Bu({cx:r,cy:n,radius:a,angle:u,sign:-f,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),N=A.circleTangency,E=A.lineTangency,F=A.theta,I=l?Math.abs(c-u):Math.abs(c-u)-P-F;if(I<0&&i===0)return"".concat(w,"L").concat(r,",").concat(n,"Z");w+="L".concat(E.x,",").concat(E.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(N.x,",").concat(N.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(I>180),",").concat(+(f>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(_.x,",").concat(_.y,"Z")}else w+="L".concat(r,",").concat(n,"Z");return w},wU={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},p_=function(t){var r=sw(sw({},wU),t),n=r.cx,a=r.cy,o=r.innerRadius,i=r.outerRadius,s=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,u=r.startAngle,f=r.endAngle,h=r.className;if(i<o||u===f)return null;var p=nt("recharts-sector",h),m=i-o,v=bi(s,m,0,!0),x;return v>0&&Math.abs(u-f)<360?x=bU({cx:n,cy:a,innerRadius:o,outerRadius:i,cornerRadius:Math.min(v,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:f}):x=h_({cx:n,cy:a,innerRadius:o,outerRadius:i,startAngle:u,endAngle:f}),M.createElement("path",$g({},Be(r,!0),{className:p,d:x,role:"img"}))};function Rc(e){"@babel/helpers - typeof";return Rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rc(e)}function Dg(){return Dg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dg.apply(this,arguments)}function lw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lw(Object(r),!0).forEach(function(n){kU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kU(e,t,r){return t=SU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SU(e){var t=jU(e,"string");return Rc(t)=="symbol"?t:t+""}function jU(e,t){if(Rc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uw={curveBasisClosed:k$,curveBasisOpen:S$,curveBasis:w$,curveBumpX:s$,curveBumpY:l$,curveLinearClosed:j$,curveLinear:uh,curveMonotoneX:O$,curveMonotoneY:_$,curveNatural:P$,curveStep:N$,curveStepAfter:M$,curveStepBefore:A$},Fu=function(t){return t.x===+t.x&&t.y===+t.y},_l=function(t){return t.x},Pl=function(t){return t.y},OU=function(t,r){if(ze(t))return t;var n="curve".concat(lh(t));return(n==="curveMonotone"||n==="curveBump")&&r?uw["".concat(n).concat(r==="vertical"?"Y":"X")]:uw[n]||uh},_U=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,o=a===void 0?[]:a,i=t.baseLine,s=t.layout,l=t.connectNulls,c=l===void 0?!1:l,u=OU(n,s),f=c?o.filter(function(v){return Fu(v)}):o,h;if(Array.isArray(i)){var p=c?i.filter(function(v){return Fu(v)}):i,m=f.map(function(v,x){return cw(cw({},v),{},{base:p[x]})});return s==="vertical"?h=Mu().y(Pl).x1(_l).x0(function(v){return v.base.x}):h=Mu().x(_l).y1(Pl).y0(function(v){return v.base.y}),h.defined(Fu).curve(u),h(m)}return s==="vertical"&&oe(i)?h=Mu().y(Pl).x1(_l).x0(i):oe(i)?h=Mu().x(_l).y1(Pl).y0(i):h=gj().x(_l).y(Pl),h.defined(Fu).curve(u),h(f)},hi=function(t){var r=t.className,n=t.points,a=t.path,o=t.pathRef;if((!n||!n.length)&&!a)return null;var i=n&&n.length?_U(t):a;return O.createElement("path",Dg({},Be(t,!1),Af(t),{className:nt("recharts-curve",r),d:i,ref:o}))},g_={exports:{}},PU="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",NU=PU,AU=NU;function m_(){}function y_(){}y_.resetWarningCache=m_;var MU=function(){function e(n,a,o,i,s,l){if(l!==AU){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:y_,resetWarningCache:m_};return r.PropTypes=r,r};g_.exports=MU();var CU=g_.exports;const kt=It(CU),{getOwnPropertyNames:EU,getOwnPropertySymbols:TU}=Object,{hasOwnProperty:$U}=Object.prototype;function $p(e,t){return function(n,a,o){return e(n,a,o)&&t(n,a,o)}}function zu(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);const{cache:o}=a,i=o.get(r),s=o.get(n);if(i&&s)return i===n&&s===r;o.set(r,n),o.set(n,r);const l=e(r,n,a);return o.delete(r),o.delete(n),l}}function DU(e){return e!=null?e[Symbol.toStringTag]:void 0}function fw(e){return EU(e).concat(TU(e))}const RU=Object.hasOwn||((e,t)=>$U.call(e,t));function Ei(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const LU="__v",IU="__o",BU="_owner",{getOwnPropertyDescriptor:dw,keys:hw}=Object;function FU(e,t){return e.byteLength===t.byteLength&&id(new Uint8Array(e),new Uint8Array(t))}function zU(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function WU(e,t){return e.byteLength===t.byteLength&&id(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function UU(e,t){return Ei(e.getTime(),t.getTime())}function GU(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function HU(e,t){return e===t}function pw(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),o=e.entries();let i,s,l=0;for(;(i=o.next())&&!i.done;){const c=t.entries();let u=!1,f=0;for(;(s=c.next())&&!s.done;){if(a[f]){f++;continue}const h=i.value,p=s.value;if(r.equals(h[0],p[0],l,f,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){u=a[f]=!0;break}f++}if(!u)return!1;l++}return!0}const VU=Ei;function KU(e,t,r){const n=hw(e);let a=n.length;if(hw(t).length!==a)return!1;for(;a-- >0;)if(!v_(e,t,r,n[a]))return!1;return!0}function Nl(e,t,r){const n=fw(e);let a=n.length;if(fw(t).length!==a)return!1;let o,i,s;for(;a-- >0;)if(o=n[a],!v_(e,t,r,o)||(i=dw(e,o),s=dw(t,o),(i||s)&&(!i||!s||i.configurable!==s.configurable||i.enumerable!==s.enumerable||i.writable!==s.writable)))return!1;return!0}function XU(e,t){return Ei(e.valueOf(),t.valueOf())}function YU(e,t){return e.source===t.source&&e.flags===t.flags}function gw(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),o=e.values();let i,s;for(;(i=o.next())&&!i.done;){const l=t.values();let c=!1,u=0;for(;(s=l.next())&&!s.done;){if(!a[u]&&r.equals(i.value,s.value,i.value,s.value,e,t,r)){c=a[u]=!0;break}u++}if(!c)return!1}return!0}function id(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function qU(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function v_(e,t,r,n){return(n===BU||n===IU||n===LU)&&(e.$$typeof||t.$$typeof)?!0:RU(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const ZU="[object ArrayBuffer]",QU="[object Arguments]",JU="[object Boolean]",eG="[object DataView]",tG="[object Date]",rG="[object Error]",nG="[object Map]",aG="[object Number]",oG="[object Object]",iG="[object RegExp]",sG="[object Set]",lG="[object String]",cG={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},uG="[object URL]",fG=Object.prototype.toString;function dG({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:a,areFunctionsEqual:o,areMapsEqual:i,areNumbersEqual:s,areObjectsEqual:l,arePrimitiveWrappersEqual:c,areRegExpsEqual:u,areSetsEqual:f,areTypedArraysEqual:h,areUrlsEqual:p,unknownTagComparators:m}){return function(x,y,g){if(x===y)return!0;if(x==null||y==null)return!1;const b=typeof x;if(b!==typeof y)return!1;if(b!=="object")return b==="number"?s(x,y,g):b==="function"?o(x,y,g):!1;const S=x.constructor;if(S!==y.constructor)return!1;if(S===Object)return l(x,y,g);if(Array.isArray(x))return t(x,y,g);if(S===Date)return n(x,y,g);if(S===RegExp)return u(x,y,g);if(S===Map)return i(x,y,g);if(S===Set)return f(x,y,g);const w=fG.call(x);if(w===tG)return n(x,y,g);if(w===iG)return u(x,y,g);if(w===nG)return i(x,y,g);if(w===sG)return f(x,y,g);if(w===oG)return typeof x.then!="function"&&typeof y.then!="function"&&l(x,y,g);if(w===uG)return p(x,y,g);if(w===rG)return a(x,y,g);if(w===QU)return l(x,y,g);if(cG[w])return h(x,y,g);if(w===ZU)return e(x,y,g);if(w===eG)return r(x,y,g);if(w===JU||w===aG||w===lG)return c(x,y,g);if(m){let k=m[w];if(!k){const j=DU(x);j&&(k=m[j])}if(k)return k(x,y,g)}return!1}}function hG({circular:e,createCustomConfig:t,strict:r}){let n={areArrayBuffersEqual:FU,areArraysEqual:r?Nl:zU,areDataViewsEqual:WU,areDatesEqual:UU,areErrorsEqual:GU,areFunctionsEqual:HU,areMapsEqual:r?$p(pw,Nl):pw,areNumbersEqual:VU,areObjectsEqual:r?Nl:KU,arePrimitiveWrappersEqual:XU,areRegExpsEqual:YU,areSetsEqual:r?$p(gw,Nl):gw,areTypedArraysEqual:r?$p(id,Nl):id,areUrlsEqual:qU,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const a=zu(n.areArraysEqual),o=zu(n.areMapsEqual),i=zu(n.areObjectsEqual),s=zu(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:i,areSetsEqual:s})}return n}function pG(e){return function(t,r,n,a,o,i,s){return e(t,r,s)}}function gG({circular:e,comparator:t,createState:r,equals:n,strict:a}){if(r)return function(s,l){const{cache:c=e?new WeakMap:void 0,meta:u}=r();return t(s,l,{cache:c,equals:n,meta:u,strict:a})};if(e)return function(s,l){return t(s,l,{cache:new WeakMap,equals:n,meta:void 0,strict:a})};const o={cache:void 0,equals:n,meta:void 0,strict:a};return function(s,l){return t(s,l,o)}}const mG=zo();zo({strict:!0});zo({circular:!0});zo({circular:!0,strict:!0});zo({createInternalComparator:()=>Ei});zo({strict:!0,createInternalComparator:()=>Ei});zo({circular:!0,createInternalComparator:()=>Ei});zo({circular:!0,createInternalComparator:()=>Ei,strict:!0});function zo(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:a=!1}=e,o=hG(e),i=dG(o),s=r?r(i):pG(i);return gG({circular:t,comparator:i,createState:n,equals:s,strict:a})}function yG(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function mw(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(o){r<0&&(r=o),o-r>t?(e(o),r=-1):yG(a)};requestAnimationFrame(n)}function Rg(e){"@babel/helpers - typeof";return Rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rg(e)}function vG(e){return kG(e)||wG(e)||bG(e)||xG()}function xG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bG(e,t){if(e){if(typeof e=="string")return yw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yw(e,t)}}function yw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function kG(e){if(Array.isArray(e))return e}function SG(){var e={},t=function(){return null},r=!1,n=function a(o){if(!r){if(Array.isArray(o)){if(!o.length)return;var i=o,s=vG(i),l=s[0],c=s.slice(1);if(typeof l=="number"){mw(a.bind(null,c),l);return}a(l),mw(a.bind(null,c));return}Rg(o)==="object"&&(e=o,t(e)),typeof o=="function"&&o()}};return{stop:function(){r=!0},start:function(o){r=!1,n(o)},subscribe:function(o){return t=o,function(){t=function(){return null}}}}}function Lc(e){"@babel/helpers - typeof";return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lc(e)}function vw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vw(Object(r),!0).forEach(function(n){x_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function x_(e,t,r){return t=jG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jG(e){var t=OG(e,"string");return Lc(t)==="symbol"?t:String(t)}function OG(e,t){if(Lc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _G=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(o){return a.includes(o)})})},PG=function(t){return t},NG=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Kl=function(t,r){return Object.keys(r).reduce(function(n,a){return xw(xw({},n),{},x_({},a,t(a,r[a])))},{})},bw=function(t,r,n){return t.map(function(a){return"".concat(NG(a)," ").concat(r,"ms ").concat(n)}).join(",")};function AG(e,t){return EG(e)||CG(e,t)||b_(e,t)||MG()}function MG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CG(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function EG(e){if(Array.isArray(e))return e}function TG(e){return RG(e)||DG(e)||b_(e)||$G()}function $G(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b_(e,t){if(e){if(typeof e=="string")return Lg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Lg(e,t)}}function DG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function RG(e){if(Array.isArray(e))return Lg(e)}function Lg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var sd=1e-4,w_=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},k_=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},ww=function(t,r){return function(n){var a=w_(t,r);return k_(a,n)}},LG=function(t,r){return function(n){var a=w_(t,r),o=[].concat(TG(a.map(function(i,s){return i*s}).slice(1)),[0]);return k_(o,n)}},kw=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],o=r[1],i=r[2],s=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,o=0,i=1,s=1;break;case"ease":a=.25,o=.1,i=.25,s=1;break;case"ease-in":a=.42,o=0,i=1,s=1;break;case"ease-out":a=.42,o=0,i=.58,s=1;break;case"ease-in-out":a=0,o=0,i=.58,s=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),u=AG(c,4);a=u[0],o=u[1],i=u[2],s=u[3]}}}var f=ww(a,i),h=ww(o,s),p=LG(a,i),m=function(y){return y>1?1:y<0?0:y},v=function(y){for(var g=y>1?1:y,b=g,S=0;S<8;++S){var w=f(b)-g,k=p(b);if(Math.abs(w-g)<sd||k<sd)return h(b);b=m(b-w/k)}return h(b)};return v.isStepper=!1,v},IG=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,o=a===void 0?8:a,i=t.dt,s=i===void 0?17:i,l=function(u,f,h){var p=-(u-f)*n,m=h*o,v=h+(p-m)*s/1e3,x=h*s/1e3+u;return Math.abs(x-f)<sd&&Math.abs(v)<sd?[f,0]:[x,v]};return l.isStepper=!0,l.dt=s,l},BG=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return kw(a);case"spring":return IG();default:if(a.split("(")[0]==="cubic-bezier")return kw(a)}return typeof a=="function"?a:null};function Ic(e){"@babel/helpers - typeof";return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ic(e)}function Sw(e){return WG(e)||zG(e)||S_(e)||FG()}function FG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function WG(e){if(Array.isArray(e))return Bg(e)}function jw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ir(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jw(Object(r),!0).forEach(function(n){Ig(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ig(e,t,r){return t=UG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UG(e){var t=GG(e,"string");return Ic(t)==="symbol"?t:String(t)}function GG(e,t){if(Ic(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ic(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HG(e,t){return XG(e)||KG(e,t)||S_(e,t)||VG()}function VG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S_(e,t){if(e){if(typeof e=="string")return Bg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Bg(e,t)}}function Bg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function KG(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function XG(e){if(Array.isArray(e))return e}var ld=function(t,r,n){return t+(r-t)*n},Fg=function(t){var r=t.from,n=t.to;return r!==n},YG=function e(t,r,n){var a=Kl(function(o,i){if(Fg(i)){var s=t(i.from,i.to,i.velocity),l=HG(s,2),c=l[0],u=l[1];return Ir(Ir({},i),{},{from:c,velocity:u})}return i},r);return n<1?Kl(function(o,i){return Fg(i)?Ir(Ir({},i),{},{velocity:ld(i.velocity,a[o].velocity,n),from:ld(i.from,a[o].from,n)}):i},r):e(t,a,n-1)};const qG=function(e,t,r,n,a){var o=_G(e,t),i=o.reduce(function(x,y){return Ir(Ir({},x),{},Ig({},y,[e[y],t[y]]))},{}),s=o.reduce(function(x,y){return Ir(Ir({},x),{},Ig({},y,{from:e[y],velocity:0,to:t[y]}))},{}),l=-1,c,u,f=function(){return null},h=function(){return Kl(function(y,g){return g.from},s)},p=function(){return!Object.values(s).filter(Fg).length},m=function(y){c||(c=y);var g=y-c,b=g/r.dt;s=YG(r,s,b),a(Ir(Ir(Ir({},e),t),h())),c=y,p()||(l=requestAnimationFrame(f))},v=function(y){u||(u=y);var g=(y-u)/n,b=Kl(function(w,k){return ld.apply(void 0,Sw(k).concat([r(g)]))},i);if(a(Ir(Ir(Ir({},e),t),b)),g<1)l=requestAnimationFrame(f);else{var S=Kl(function(w,k){return ld.apply(void 0,Sw(k).concat([r(1)]))},i);a(Ir(Ir(Ir({},e),t),S))}};return f=r.isStepper?m:v,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Ms(e){"@babel/helpers - typeof";return Ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ms(e)}var ZG=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function QG(e,t){if(e==null)return{};var r=JG(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function JG(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,o;for(o=0;o<n.length;o++)a=n[o],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Dp(e){return nH(e)||rH(e)||tH(e)||eH()}function eH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tH(e,t){if(e){if(typeof e=="string")return zg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zg(e,t)}}function rH(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function nH(e){if(Array.isArray(e))return zg(e)}function zg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ow(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ta(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ow(Object(r),!0).forEach(function(n){$l(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ow(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $l(e,t,r){return t=j_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oH(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,j_(n.key),n)}}function iH(e,t,r){return t&&oH(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function j_(e){var t=sH(e,"string");return Ms(t)==="symbol"?t:String(t)}function sH(e,t){if(Ms(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ms(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lH(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wg(e,t)}function Wg(e,t){return Wg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Wg(e,t)}function cH(e){var t=uH();return function(){var n=cd(e),a;if(t){var o=cd(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return Ug(this,a)}}function Ug(e,t){if(t&&(Ms(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gg(e)}function Gg(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uH(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function cd(e){return cd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cd(e)}var da=function(e){lH(r,e);var t=cH(r);function r(n,a){var o;aH(this,r),o=t.call(this,n,a);var i=o.props,s=i.isActive,l=i.attributeName,c=i.from,u=i.to,f=i.steps,h=i.children,p=i.duration;if(o.handleStyleChange=o.handleStyleChange.bind(Gg(o)),o.changeStyle=o.changeStyle.bind(Gg(o)),!s||p<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:u}),Ug(o);if(f&&f.length)o.state={style:f[0].style};else if(c){if(typeof h=="function")return o.state={style:c},Ug(o);o.state={style:l?$l({},l,c):c}}else o.state={style:{}};return o}return iH(r,[{key:"componentDidMount",value:function(){var a=this.props,o=a.isActive,i=a.canBegin;this.mounted=!0,!(!o||!i)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var o=this.props,i=o.isActive,s=o.canBegin,l=o.attributeName,c=o.shouldReAnimate,u=o.to,f=o.from,h=this.state.style;if(s){if(!i){var p={style:l?$l({},l,u):u};this.state&&h&&(l&&h[l]!==u||!l&&h!==u)&&this.setState(p);return}if(!(mG(a.to,u)&&a.canBegin&&a.isActive)){var m=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=m||c?f:a.to;if(this.state&&h){var x={style:l?$l({},l,v):v};(l&&h[l]!==v||!l&&h!==v)&&this.setState(x)}this.runAnimation(ta(ta({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var o=this,i=a.from,s=a.to,l=a.duration,c=a.easing,u=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,p=qG(i,s,BG(c),l,this.changeStyle),m=function(){o.stopJSAnimation=p()};this.manager.start([h,u,m,l,f])}},{key:"runStepAnimation",value:function(a){var o=this,i=a.steps,s=a.begin,l=a.onAnimationStart,c=i[0],u=c.style,f=c.duration,h=f===void 0?0:f,p=function(v,x,y){if(y===0)return v;var g=x.duration,b=x.easing,S=b===void 0?"ease":b,w=x.style,k=x.properties,j=x.onAnimationEnd,_=y>0?i[y-1]:x,P=k||Object.keys(w);if(typeof S=="function"||S==="spring")return[].concat(Dp(v),[o.runJSAnimation.bind(o,{from:_.style,to:w,duration:g,easing:S}),g]);var A=bw(P,g,S),N=ta(ta(ta({},_.style),w),{},{transition:A});return[].concat(Dp(v),[N,g,j]).filter(PG)};return this.manager.start([l].concat(Dp(i.reduce(p,[u,Math.max(h,s)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=SG());var o=a.begin,i=a.duration,s=a.attributeName,l=a.to,c=a.easing,u=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,p=a.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var v=s?$l({},s,l):l,x=bw(Object.keys(v),i,c);m.start([u,o,ta(ta({},v),{},{transition:x}),i,f])}},{key:"render",value:function(){var a=this.props,o=a.children;a.begin;var i=a.duration;a.attributeName,a.easing;var s=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var l=QG(a,ZG),c=O.Children.count(o),u=this.state.style;if(typeof o=="function")return o(u);if(!s||c===0||i<=0)return o;var f=function(p){var m=p.props,v=m.style,x=v===void 0?{}:v,y=m.className,g=O.cloneElement(p,ta(ta({},l),{},{style:ta(ta({},x),u),className:y}));return g};return c===1?f(O.Children.only(o)):M.createElement("div",null,O.Children.map(o,function(h){return f(h)}))}}]),r}(O.PureComponent);da.displayName="Animate";da.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};da.propTypes={from:kt.oneOfType([kt.object,kt.string]),to:kt.oneOfType([kt.object,kt.string]),attributeName:kt.string,duration:kt.number,begin:kt.number,easing:kt.oneOfType([kt.string,kt.func]),steps:kt.arrayOf(kt.shape({duration:kt.number.isRequired,style:kt.object.isRequired,easing:kt.oneOfType([kt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),kt.func]),properties:kt.arrayOf("string"),onAnimationEnd:kt.func})),children:kt.oneOfType([kt.node,kt.func]),isActive:kt.bool,canBegin:kt.bool,onAnimationEnd:kt.func,shouldReAnimate:kt.bool,onAnimationStart:kt.func,onAnimationReStart:kt.func};function Bc(e){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bc(e)}function ud(){return ud=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ud.apply(this,arguments)}function fH(e,t){return gH(e)||pH(e,t)||hH(e,t)||dH()}function dH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hH(e,t){if(e){if(typeof e=="string")return _w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _w(e,t)}}function _w(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function pH(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function gH(e){if(Array.isArray(e))return e}function Pw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pw(Object(r),!0).forEach(function(n){mH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mH(e,t,r){return t=yH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yH(e){var t=vH(e,"string");return Bc(t)=="symbol"?t:t+""}function vH(e,t){if(Bc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Aw=function(t,r,n,a,o){var i=Math.min(Math.abs(n)/2,Math.abs(a)/2),s=a>=0?1:-1,l=n>=0?1:-1,c=a>=0&&n>=0||a<0&&n<0?1:0,u;if(i>0&&o instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=o[h]>i?i:o[h];u="M".concat(t,",").concat(r+s*f[0]),f[0]>0&&(u+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(t+l*f[0],",").concat(r)),u+="L ".concat(t+n-l*f[1],",").concat(r),f[1]>0&&(u+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(t+n,",").concat(r+s*f[1])),u+="L ".concat(t+n,",").concat(r+a-s*f[2]),f[2]>0&&(u+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(t+n-l*f[2],",").concat(r+a)),u+="L ".concat(t+l*f[3],",").concat(r+a),f[3]>0&&(u+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(r+a-s*f[3])),u+="Z"}else if(i>0&&o===+o&&o>0){var m=Math.min(i,o);u="M ".concat(t,",").concat(r+s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+l*m,",").concat(r,`
            L `).concat(t+n-l*m,",").concat(r,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+n,",").concat(r+s*m,`
            L `).concat(t+n,",").concat(r+a-s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+n-l*m,",").concat(r+a,`
            L `).concat(t+l*m,",").concat(r+a,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t,",").concat(r+a-s*m," Z")}else u="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return u},xH=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,o=r.x,i=r.y,s=r.width,l=r.height;if(Math.abs(s)>0&&Math.abs(l)>0){var c=Math.min(o,o+s),u=Math.max(o,o+s),f=Math.min(i,i+l),h=Math.max(i,i+l);return n>=c&&n<=u&&a>=f&&a<=h}return!1},bH={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},cv=function(t){var r=Nw(Nw({},bH),t),n=O.useRef(),a=O.useState(-1),o=fH(a,2),i=o[0],s=o[1];O.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&s(S)}catch{}},[]);var l=r.x,c=r.y,u=r.width,f=r.height,h=r.radius,p=r.className,m=r.animationEasing,v=r.animationDuration,x=r.animationBegin,y=r.isAnimationActive,g=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||u===0||f===0)return null;var b=nt("recharts-rectangle",p);return g?M.createElement(da,{canBegin:i>0,from:{width:u,height:f,x:l,y:c},to:{width:u,height:f,x:l,y:c},duration:v,animationEasing:m,isActive:g},function(S){var w=S.width,k=S.height,j=S.x,_=S.y;return M.createElement(da,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:v,isActive:y,easing:m},M.createElement("path",ud({},Be(r,!0),{className:b,d:Aw(j,_,w,k,h),ref:n})))}):M.createElement("path",ud({},Be(r,!0),{className:b,d:Aw(l,c,u,f,h)}))};function Hg(){return Hg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hg.apply(this,arguments)}var Oh=function(t){var r=t.cx,n=t.cy,a=t.r,o=t.className,i=nt("recharts-dot",o);return r===+r&&n===+n&&a===+a?O.createElement("circle",Hg({},Be(t,!1),Af(t),{className:i,cx:r,cy:n,r:a})):null};function Fc(e){"@babel/helpers - typeof";return Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fc(e)}var wH=["x","y","top","left","width","height","className"];function Vg(){return Vg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vg.apply(this,arguments)}function Mw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kH(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mw(Object(r),!0).forEach(function(n){SH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SH(e,t,r){return t=jH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jH(e){var t=OH(e,"string");return Fc(t)=="symbol"?t:t+""}function OH(e,t){if(Fc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _H(e,t){if(e==null)return{};var r=PH(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function PH(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var NH=function(t,r,n,a,o,i){return"M".concat(t,",").concat(o,"v").concat(a,"M").concat(i,",").concat(r,"h").concat(n)},AH=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,o=a===void 0?0:a,i=t.top,s=i===void 0?0:i,l=t.left,c=l===void 0?0:l,u=t.width,f=u===void 0?0:u,h=t.height,p=h===void 0?0:h,m=t.className,v=_H(t,wH),x=kH({x:n,y:o,top:s,left:c,width:f,height:p},v);return!oe(n)||!oe(o)||!oe(f)||!oe(p)||!oe(s)||!oe(c)?null:M.createElement("path",Vg({},Be(x,!0),{className:nt("recharts-cross",m),d:NH(n,o,f,p,s,c)}))},MH=Bj,CH=MH(Object.getPrototypeOf,Object),EH=CH,TH=ao,$H=EH,DH=oo,RH="[object Object]",LH=Function.prototype,IH=Object.prototype,O_=LH.toString,BH=IH.hasOwnProperty,FH=O_.call(Object);function zH(e){if(!DH(e)||TH(e)!=RH)return!1;var t=$H(e);if(t===null)return!0;var r=BH.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&O_.call(r)==FH}var WH=zH;const UH=It(WH);var GH=ao,HH=oo,VH="[object Boolean]";function KH(e){return e===!0||e===!1||HH(e)&&GH(e)==VH}var XH=KH;const YH=It(XH);function zc(e){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zc(e)}function fd(){return fd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fd.apply(this,arguments)}function qH(e,t){return eV(e)||JH(e,t)||QH(e,t)||ZH()}function ZH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QH(e,t){if(e){if(typeof e=="string")return Cw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Cw(e,t)}}function Cw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function JH(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function eV(e){if(Array.isArray(e))return e}function Ew(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ew(Object(r),!0).forEach(function(n){tV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ew(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tV(e,t,r){return t=rV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rV(e){var t=nV(e,"string");return zc(t)=="symbol"?t:t+""}function nV(e,t){if(zc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $w=function(t,r,n,a,o){var i=n-a,s;return s="M ".concat(t,",").concat(r),s+="L ".concat(t+n,",").concat(r),s+="L ".concat(t+n-i/2,",").concat(r+o),s+="L ".concat(t+n-i/2-a,",").concat(r+o),s+="L ".concat(t,",").concat(r," Z"),s},aV={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},oV=function(t){var r=Tw(Tw({},aV),t),n=O.useRef(),a=O.useState(-1),o=qH(a,2),i=o[0],s=o[1];O.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&s(b)}catch{}},[]);var l=r.x,c=r.y,u=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,m=r.animationEasing,v=r.animationDuration,x=r.animationBegin,y=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||h!==+h||u===0&&f===0||h===0)return null;var g=nt("recharts-trapezoid",p);return y?M.createElement(da,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:u,lowerWidth:f,height:h,x:l,y:c},duration:v,animationEasing:m,isActive:y},function(b){var S=b.upperWidth,w=b.lowerWidth,k=b.height,j=b.x,_=b.y;return M.createElement(da,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:v,easing:m},M.createElement("path",fd({},Be(r,!0),{className:g,d:$w(j,_,S,w,k),ref:n})))}):M.createElement("g",null,M.createElement("path",fd({},Be(r,!0),{className:g,d:$w(l,c,u,f,h)})))},iV=["option","shapeType","propTransformer","activeClassName","isActive"];function Wc(e){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wc(e)}function sV(e,t){if(e==null)return{};var r=lV(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function lV(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Dw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dw(Object(r),!0).forEach(function(n){cV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cV(e,t,r){return t=uV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uV(e){var t=fV(e,"string");return Wc(t)=="symbol"?t:t+""}function fV(e,t){if(Wc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dV(e,t){return dd(dd({},t),e)}function hV(e,t){return e==="symbols"}function Rw(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return M.createElement(cv,r);case"trapezoid":return M.createElement(oV,r);case"sector":return M.createElement(p_,r);case"symbols":if(hV(t))return M.createElement(dh,r);break;default:return null}}function pV(e){return O.isValidElement(e)?e.props:e}function Kg(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?dV:n,o=e.activeClassName,i=o===void 0?"recharts-active-shape":o,s=e.isActive,l=sV(e,iV),c;if(O.isValidElement(t))c=O.cloneElement(t,dd(dd({},l),pV(t)));else if(ze(t))c=t(l);else if(UH(t)&&!YH(t)){var u=a(t,l);c=M.createElement(Rw,{shapeType:r,elementProps:u})}else{var f=l;c=M.createElement(Rw,{shapeType:r,elementProps:f})}return s?M.createElement(xt,{className:i},c):c}function _h(e,t){return t!=null&&"trapezoids"in e.props}function Ph(e,t){return t!=null&&"sectors"in e.props}function Uc(e,t){return t!=null&&"points"in e.props}function gV(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,o=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&o}function mV(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function yV(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function vV(e,t){var r;return _h(e,t)?r=gV:Ph(e,t)?r=mV:Uc(e,t)&&(r=yV),r}function xV(e,t){var r;return _h(e,t)?r="trapezoids":Ph(e,t)?r="sectors":Uc(e,t)&&(r="points"),r}function bV(e,t){if(_h(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Ph(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Uc(e,t)?t.payload:{}}function wV(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=xV(r,t),o=bV(r,t),i=n.filter(function(l,c){var u=wi(o,l),f=r.props[a].filter(function(m){var v=vV(r,t);return v(m,t)}),h=r.props[a].indexOf(f[f.length-1]),p=c===h;return u&&p}),s=n.indexOf(i[i.length-1]);return s}var kV=Math.ceil,SV=Math.max;function jV(e,t,r,n){for(var a=-1,o=SV(kV((t-e)/(r||1)),0),i=Array(o);o--;)i[n?o:++a]=e,e+=r;return i}var OV=jV,_V=aO,Lw=1/0,PV=17976931348623157e292;function NV(e){if(!e)return e===0?e:0;if(e=_V(e),e===Lw||e===-Lw){var t=e<0?-1:1;return t*PV}return e===e?e:0}var __=NV,AV=OV,MV=gh,Rp=__;function CV(e){return function(t,r,n){return n&&typeof n!="number"&&MV(t,r,n)&&(r=n=void 0),t=Rp(t),r===void 0?(r=t,t=0):r=Rp(r),n=n===void 0?t<r?1:-1:Rp(n),AV(t,r,n,e)}}var EV=CV,TV=EV,$V=TV(),DV=$V;const hd=It(DV);function Gc(e){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gc(e)}function Iw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Iw(Object(r),!0).forEach(function(n){P_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Iw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P_(e,t,r){return t=RV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RV(e){var t=LV(e,"string");return Gc(t)=="symbol"?t:t+""}function LV(e,t){if(Gc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IV=["Webkit","Moz","O","ms"],BV=function(t,r){var n=t.replace(/(\w)/,function(o){return o.toUpperCase()}),a=IV.reduce(function(o,i){return Bw(Bw({},o),{},P_({},i+n,r))},{});return a[t]=r,a};function Cs(e){"@babel/helpers - typeof";return Cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cs(e)}function pd(){return pd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pd.apply(this,arguments)}function Fw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fw(Object(r),!0).forEach(function(n){Nn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,A_(n.key),n)}}function zV(e,t,r){return t&&zw(e.prototype,t),r&&zw(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function WV(e,t,r){return t=gd(t),UV(e,N_()?Reflect.construct(t,r||[],gd(e).constructor):t.apply(e,r))}function UV(e,t){if(t&&(Cs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GV(e)}function GV(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N_=function(){return!!e})()}function gd(e){return gd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gd(e)}function HV(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xg(e,t)}function Xg(e,t){return Xg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Xg(e,t)}function Nn(e,t,r){return t=A_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A_(e){var t=VV(e,"string");return Cs(t)=="symbol"?t:t+""}function VV(e,t){if(Cs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var KV=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,o=t.x,i=t.width,s=t.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=Hl().domain(hd(0,l)).range([o,o+i-s]),u=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(a),scale:c,scaleValues:u}},Ww=function(t){return t.changedTouches&&!!t.changedTouches.length},Es=function(e){function t(r){var n;return FV(this,t),n=WV(this,t,[r]),Nn(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Nn(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Nn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,o=a.endIndex,i=a.onDragEnd,s=a.startIndex;i==null||i({endIndex:o,startIndex:s})}),n.detachDragEndListener()}),Nn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Nn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Nn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Nn(n,"handleSlideDragStart",function(a){var o=Ww(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return HV(t,e),zV(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,o=n.endX,i=this.state.scaleValues,s=this.props,l=s.gap,c=s.data,u=c.length-1,f=Math.min(a,o),h=Math.max(a,o),p=t.getIndexInRange(i,f),m=t.getIndexInRange(i,h);return{startIndex:p-p%l,endIndex:m===u?u:m-m%l}}},{key:"getTextOfTick",value:function(n){var a=this.props,o=a.data,i=a.tickFormatter,s=a.dataKey,l=Pr(o[n],s,n);return ze(i)?i(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,o=a.slideMoveStartX,i=a.startX,s=a.endX,l=this.props,c=l.x,u=l.width,f=l.travellerWidth,h=l.startIndex,p=l.endIndex,m=l.onChange,v=n.pageX-o;v>0?v=Math.min(v,c+u-f-s,c+u-f-i):v<0&&(v=Math.max(v,c-i,c-s));var x=this.getIndex({startX:i+v,endX:s+v});(x.startIndex!==h||x.endIndex!==p)&&m&&m(x),this.setState({startX:i+v,endX:s+v,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var o=Ww(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,o=a.brushMoveStartX,i=a.movingTravellerId,s=a.endX,l=a.startX,c=this.state[i],u=this.props,f=u.x,h=u.width,p=u.travellerWidth,m=u.onChange,v=u.gap,x=u.data,y={startX:this.state.startX,endX:this.state.endX},g=n.pageX-o;g>0?g=Math.min(g,f+h-p-c):g<0&&(g=Math.max(g,f-c)),y[i]=c+g;var b=this.getIndex(y),S=b.startIndex,w=b.endIndex,k=function(){var _=x.length-1;return i==="startX"&&(s>l?S%v===0:w%v===0)||s<l&&w===_||i==="endX"&&(s>l?w%v===0:S%v===0)||s>l&&w===_};this.setState(Nn(Nn({},i,c+g),"brushMoveStartX",n.pageX),function(){m&&k()&&m(b)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var o=this,i=this.state,s=i.scaleValues,l=i.startX,c=i.endX,u=this.state[a],f=s.indexOf(u);if(f!==-1){var h=f+n;if(!(h===-1||h>=s.length)){var p=s[h];a==="startX"&&p>=c||a==="endX"&&p<=l||this.setState(Nn({},a,p),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,o=n.y,i=n.width,s=n.height,l=n.fill,c=n.stroke;return M.createElement("rect",{stroke:c,fill:l,x:a,y:o,width:i,height:s})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,o=n.y,i=n.width,s=n.height,l=n.data,c=n.children,u=n.padding,f=O.Children.only(c);return f?M.cloneElement(f,{x:a,y:o,width:i,height:s,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,a){var o,i,s=this,l=this.props,c=l.y,u=l.travellerWidth,f=l.height,h=l.traveller,p=l.ariaLabel,m=l.data,v=l.startIndex,x=l.endIndex,y=Math.max(n,this.props.x),g=Lp(Lp({},Be(this.props,!1)),{},{x:y,y:c,width:u,height:f}),b=p||"Min value: ".concat((o=m[v])===null||o===void 0?void 0:o.name,", Max value: ").concat((i=m[x])===null||i===void 0?void 0:i.name);return M.createElement(xt,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),s.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,a))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,g))}},{key:"renderSlide",value:function(n,a){var o=this.props,i=o.y,s=o.height,l=o.stroke,c=o.travellerWidth,u=Math.min(n,a)+c,f=Math.max(Math.abs(a-n)-c,0);return M.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:i,width:f,height:s})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,o=n.endIndex,i=n.y,s=n.height,l=n.travellerWidth,c=n.stroke,u=this.state,f=u.startX,h=u.endX,p=5,m={pointerEvents:"none",fill:c};return M.createElement(xt,{className:"recharts-brush-texts"},M.createElement(Uf,pd({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:i+s/2},m),this.getTextOfTick(a)),M.createElement(Uf,pd({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+p,y:i+s/2},m),this.getTextOfTick(o)))}},{key:"render",value:function(){var n=this.props,a=n.data,o=n.className,i=n.children,s=n.x,l=n.y,c=n.width,u=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,m=h.endX,v=h.isTextActive,x=h.isSlideMoving,y=h.isTravellerMoving,g=h.isTravellerFocused;if(!a||!a.length||!oe(s)||!oe(l)||!oe(c)||!oe(u)||c<=0||u<=0)return null;var b=nt("recharts-brush",o),S=M.Children.count(i)===1,w=BV("userSelect","none");return M.createElement(xt,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(p,m),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(m,"endX"),(v||x||y||g||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,o=n.y,i=n.width,s=n.height,l=n.stroke,c=Math.floor(o+s/2)-1;return M.createElement(M.Fragment,null,M.createElement("rect",{x:a,y:o,width:i,height:s,fill:l,stroke:"none"}),M.createElement("line",{x1:a+1,y1:c,x2:a+i-1,y2:c,fill:"none",stroke:"#fff"}),M.createElement("line",{x1:a+1,y1:c+2,x2:a+i-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var o;return M.isValidElement(n)?o=M.cloneElement(n,a):ze(n)?o=n(a):o=t.renderDefaultTraveller(a),o}},{key:"getDerivedStateFromProps",value:function(n,a){var o=n.data,i=n.width,s=n.x,l=n.travellerWidth,c=n.updateId,u=n.startIndex,f=n.endIndex;if(o!==a.prevData||c!==a.prevUpdateId)return Lp({prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:i},o&&o.length?KV({data:o,width:i,x:s,travellerWidth:l,startIndex:u,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(i!==a.prevWidth||s!==a.prevX||l!==a.prevTravellerWidth)){a.scale.range([s,s+i-l]);var h=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:i,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var o=n.length,i=0,s=o-1;s-i>1;){var l=Math.floor((i+s)/2);n[l]>a?s=l:i=l}return a>=n[s]?s:i}}])}(O.PureComponent);Nn(Es,"displayName","Brush");Nn(Es,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var XV=$y;function YV(e,t){var r;return XV(e,function(n,a,o){return r=t(n,a,o),!r}),!!r}var qV=YV,ZV=Cj,QV=Lo,JV=qV,eK=Sn,tK=gh;function rK(e,t,r){var n=eK(e)?ZV:JV;return r&&tK(e,t,r)&&(t=void 0),n(e,QV(t))}var nK=rK;const aK=It(nK);var Na=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},Uw=Jj;function oK(e,t,r){t=="__proto__"&&Uw?Uw(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var iK=oK,sK=iK,lK=Zj,cK=Lo;function uK(e,t){var r={};return t=cK(t),lK(e,function(n,a,o){sK(r,a,t(n,a,o))}),r}var fK=uK;const dK=It(fK);function hK(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var pK=hK,gK=$y;function mK(e,t){var r=!0;return gK(e,function(n,a,o){return r=!!t(n,a,o),r}),r}var yK=mK,vK=pK,xK=yK,bK=Lo,wK=Sn,kK=gh;function SK(e,t,r){var n=wK(e)?vK:xK;return r&&kK(e,t,r)&&(t=void 0),n(e,bK(t))}var jK=SK;const M_=It(jK);var OK=["x","y"];function Hc(e){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hc(e)}function Yg(){return Yg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yg.apply(this,arguments)}function Gw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Al(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gw(Object(r),!0).forEach(function(n){_K(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _K(e,t,r){return t=PK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PK(e){var t=NK(e,"string");return Hc(t)=="symbol"?t:t+""}function NK(e,t){if(Hc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AK(e,t){if(e==null)return{};var r=MK(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function MK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function CK(e,t){var r=e.x,n=e.y,a=AK(e,OK),o="".concat(r),i=parseInt(o,10),s="".concat(n),l=parseInt(s,10),c="".concat(t.height||a.height),u=parseInt(c,10),f="".concat(t.width||a.width),h=parseInt(f,10);return Al(Al(Al(Al(Al({},t),a),i?{x:i}:{}),l?{y:l}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function Hw(e){return M.createElement(Kg,Yg({shapeType:"rectangle",propTransformer:CK,activeClassName:"recharts-active-bar"},e))}var EK=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var o=oe(n)||VT(n);return o?t(n,a):(o||Si(),r)}},TK=["value","background"],C_;function Ts(e){"@babel/helpers - typeof";return Ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ts(e)}function $K(e,t){if(e==null)return{};var r=DK(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function DK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function md(){return md=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},md.apply(this,arguments)}function Vw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vw(Object(r),!0).forEach(function(n){bo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,T_(n.key),n)}}function LK(e,t,r){return t&&Kw(e.prototype,t),r&&Kw(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function IK(e,t,r){return t=yd(t),BK(e,E_()?Reflect.construct(t,r||[],yd(e).constructor):t.apply(e,r))}function BK(e,t){if(t&&(Ts(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FK(e)}function FK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E_=function(){return!!e})()}function yd(e){return yd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yd(e)}function zK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qg(e,t)}function qg(e,t){return qg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},qg(e,t)}function bo(e,t,r){return t=T_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T_(e){var t=WK(e,"string");return Ts(t)=="symbol"?t:t+""}function WK(e,t){if(Ts(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ts(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var su=function(e){function t(){var r;RK(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=IK(this,t,[].concat(a)),bo(r,"state",{isAnimationFinished:!1}),bo(r,"id",Ai("recharts-bar-")),bo(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),i&&i()}),bo(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),i&&i()}),r}return zK(t,e),LK(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,o=this.props,i=o.shape,s=o.dataKey,l=o.activeIndex,c=o.activeBar,u=Be(this.props,!1);return n&&n.map(function(f,h){var p=h===l,m=p?c:i,v=pr(pr(pr({},u),f),{},{isActive:p,option:m,index:h,dataKey:s,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return M.createElement(xt,md({className:"recharts-bar-rectangle"},pc(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),M.createElement(Hw,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,o=a.data,i=a.layout,s=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,f=a.animationId,h=this.state.prevData;return M.createElement(da,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var m=p.t,v=o.map(function(x,y){var g=h&&h[y];if(g){var b=dr(g.x,x.x),S=dr(g.y,x.y),w=dr(g.width,x.width),k=dr(g.height,x.height);return pr(pr({},x),{},{x:b(m),y:S(m),width:w(m),height:k(m)})}if(i==="horizontal"){var j=dr(0,x.height),_=j(m);return pr(pr({},x),{},{y:x.y+x.height-_,height:_})}var P=dr(0,x.width),A=P(m);return pr(pr({},x),{},{width:A})});return M.createElement(xt,null,n.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,o=n.isAnimationActive,i=this.state.prevData;return o&&a&&a.length&&(!i||!wi(i,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,o=a.data,i=a.dataKey,s=a.activeIndex,l=Be(this.props.background,!1);return o.map(function(c,u){c.value;var f=c.background,h=$K(c,TK);if(!f)return null;var p=pr(pr(pr(pr(pr({},h),{},{fill:"#eee"},f),l),pc(n.props,c,u)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:i,index:u,className:"recharts-bar-background-rectangle"});return M.createElement(Hw,md({key:"background-bar-".concat(u),option:n.props.background,isActive:u===s},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,i=o.data,s=o.xAxis,l=o.yAxis,c=o.layout,u=o.children,f=kn(u,ll);if(!f)return null;var h=c==="vertical"?i[0].height/2:i[0].width/2,p=function(x,y){var g=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:g,errorVal:Pr(x,y)}},m={clipPath:n?"url(#clipPath-".concat(a,")"):null};return M.createElement(xt,m,f.map(function(v){return M.cloneElement(v,{key:"error-bar-".concat(a,"-").concat(v.props.dataKey),data:i,xAxis:s,yAxis:l,layout:c,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,o=n.data,i=n.className,s=n.xAxis,l=n.yAxis,c=n.left,u=n.top,f=n.width,h=n.height,p=n.isAnimationActive,m=n.background,v=n.id;if(a||!o||!o.length)return null;var x=this.state.isAnimationFinished,y=nt("recharts-bar",i),g=s&&s.allowDataOverflow,b=l&&l.allowDataOverflow,S=g||b,w=De(v)?this.id:v;return M.createElement(xt,{className:y},g||b?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(w)},M.createElement("rect",{x:g?c:c-f/2,y:b?u:u-h/2,width:g?f:f*2,height:b?h:h*2}))):null,M.createElement(xt,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(w,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,w),(!p||x)&&Pa.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(O.PureComponent);C_=su;bo(su,"displayName","Bar");bo(su,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Io.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});bo(su,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,o=e.xAxis,i=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,u=e.dataStartIndex,f=e.displayedData,h=e.offset,p=gW(n,r);if(!p)return null;var m=t.layout,v=r.type.defaultProps,x=v!==void 0?pr(pr({},v),r.props):r.props,y=x.dataKey,g=x.children,b=x.minPointSize,S=m==="horizontal"?i:o,w=c?S.scale.domain():null,k=SW({numericAxis:S}),j=kn(g,Ly),_=f.map(function(P,A){var N,E,F,I,T,R;c?N=mW(c[u+A],w):(N=Pr(P,y),Array.isArray(N)||(N=[k,N]));var W=EK(b,C_.defaultProps.minPointSize)(N[1],A);if(m==="horizontal"){var L,D=[i.scale(N[0]),i.scale(N[1])],B=D[0],J=D[1];E=Y1({axis:o,ticks:s,bandSize:a,offset:p.offset,entry:P,index:A}),F=(L=J??B)!==null&&L!==void 0?L:void 0,I=p.size;var q=B-J;if(T=Number.isNaN(q)?0:q,R={x:E,y:i.y,width:I,height:i.height},Math.abs(W)>0&&Math.abs(T)<Math.abs(W)){var H=la(T||W)*(Math.abs(W)-Math.abs(T));F-=H,T+=H}}else{var U=[o.scale(N[0]),o.scale(N[1])],ue=U[0],fe=U[1];if(E=ue,F=Y1({axis:i,ticks:l,bandSize:a,offset:p.offset,entry:P,index:A}),I=fe-ue,T=p.size,R={x:o.x,y:F,width:o.width,height:T},Math.abs(W)>0&&Math.abs(I)<Math.abs(W)){var be=la(I||W)*(Math.abs(W)-Math.abs(I));I+=be}}return pr(pr(pr({},P),{},{x:E,y:F,width:I,height:T,value:c?N:N[1],payload:P,background:R},j&&j[A]&&j[A].props),{},{tooltipPayload:[f_(r,P)],tooltipPosition:{x:E+I/2,y:F+T/2}})});return pr({data:_,layout:m},h)});function Vc(e){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vc(e)}function UK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$_(n.key),n)}}function GK(e,t,r){return t&&Xw(e.prototype,t),r&&Xw(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function aa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yw(Object(r),!0).forEach(function(n){Nh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nh(e,t,r){return t=$_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $_(e){var t=HK(e,"string");return Vc(t)=="symbol"?t:t+""}function HK(e,t){if(Vc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uv=function(t,r,n,a,o){var i=t.width,s=t.height,l=t.layout,c=t.children,u=Object.keys(r),f={left:n.left,leftMirror:n.left,right:i-n.right,rightMirror:i-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},h=!!Mn(c,su);return u.reduce(function(p,m){var v=r[m],x=v.orientation,y=v.domain,g=v.padding,b=g===void 0?{}:g,S=v.mirror,w=v.reversed,k="".concat(x).concat(S?"Mirror":""),j,_,P,A,N;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var E=y[1]-y[0],F=1/0,I=v.categoricalDomain.sort(qT);if(I.forEach(function(U,ue){ue>0&&(F=Math.min((U||0)-(I[ue-1]||0),F))}),Number.isFinite(F)){var T=F/E,R=v.layout==="vertical"?n.height:n.width;if(v.padding==="gap"&&(j=T*R/2),v.padding==="no-gap"){var W=bi(t.barCategoryGap,T*R),L=T*R/2;j=L-W-(L-W)/R*W}}}a==="xAxis"?_=[n.left+(b.left||0)+(j||0),n.left+n.width-(b.right||0)-(j||0)]:a==="yAxis"?_=l==="horizontal"?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(j||0),n.top+n.height-(b.bottom||0)-(j||0)]:_=v.range,w&&(_=[_[1],_[0]]);var D=hW(v,o,h),B=D.scale,J=D.realScaleType;B.domain(y).range(_),pW(B);var q=kW(B,aa(aa({},v),{},{realScaleType:J}));a==="xAxis"?(N=x==="top"&&!S||x==="bottom"&&S,P=n.left,A=f[k]-N*v.height):a==="yAxis"&&(N=x==="left"&&!S||x==="right"&&S,P=f[k]-N*v.width,A=n.top);var H=aa(aa(aa({},v),q),{},{realScaleType:J,x:P,y:A,scale:B,width:a==="xAxis"?n.width:v.width,height:a==="yAxis"?n.height:v.height});return H.bandSize=nd(H,q),!v.hide&&a==="xAxis"?f[k]+=(N?-1:1)*H.height:v.hide||(f[k]+=(N?-1:1)*H.width),aa(aa({},p),{},Nh({},m,H))},{})},D_=function(t,r){var n=t.x,a=t.y,o=r.x,i=r.y;return{x:Math.min(n,o),y:Math.min(a,i),width:Math.abs(o-n),height:Math.abs(i-a)}},VK=function(t){var r=t.x1,n=t.y1,a=t.x2,o=t.y2;return D_({x:r,y:n},{x:a,y:o})},R_=function(){function e(t){UK(this,e),this.scale=t}return GK(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,o=n.position;if(r!==void 0){if(o)switch(o){case"start":return this.scale(r);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(r)+s}default:return this.scale(r)}if(a){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],o=n[n.length-1];return a<=o?r>=a&&r<=o:r>=o&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();Nh(R_,"EPS",1e-4);var fv=function(t){var r=Object.keys(t).reduce(function(n,a){return aa(aa({},n),{},Nh({},a,R_.create(t[a])))},{});return aa(aa({},r),{},{apply:function(a){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=o.bandAware,s=o.position;return dK(a,function(l,c){return r[c].apply(l,{bandAware:i,position:s})})},isInRange:function(a){return M_(a,function(o,i){return r[i].isInRange(o)})}})};function KK(e){return(e%180+180)%180}var XK=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=KK(a),i=o*Math.PI/180,s=Math.atan(n/r),l=i>s&&i<Math.PI-s?n/Math.sin(i):r/Math.cos(i);return Math.abs(l)},YK=Lo,qK=ru,ZK=hh;function QK(e){return function(t,r,n){var a=Object(t);if(!qK(t)){var o=YK(r);t=ZK(t),r=function(s){return o(a[s],s,a)}}var i=e(t,r,n);return i>-1?a[o?t[i]:i]:void 0}}var JK=QK,eX=__;function tX(e){var t=eX(e),r=t%1;return t===t?r?t-r:t:0}var rX=tX,nX=Hj,aX=Lo,oX=rX,iX=Math.max;function sX(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:oX(r);return a<0&&(a=iX(n+a,0)),nX(e,aX(t),a)}var lX=sX,cX=JK,uX=lX,fX=cX(uX),dX=fX;const hX=It(dX);var pX=QE(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),dv=O.createContext(void 0),hv=O.createContext(void 0),L_=O.createContext(void 0),I_=O.createContext({}),B_=O.createContext(void 0),F_=O.createContext(0),z_=O.createContext(0),qw=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,o=r.offset,i=t.clipPathId,s=t.children,l=t.width,c=t.height,u=pX(o);return M.createElement(dv.Provider,{value:n},M.createElement(hv.Provider,{value:a},M.createElement(I_.Provider,{value:o},M.createElement(L_.Provider,{value:u},M.createElement(B_.Provider,{value:i},M.createElement(F_.Provider,{value:c},M.createElement(z_.Provider,{value:l},s)))))))},gX=function(){return O.useContext(B_)},W_=function(t){var r=O.useContext(dv);r==null&&Si();var n=r[t];return n==null&&Si(),n},mX=function(){var t=O.useContext(dv);return mo(t)},yX=function(){var t=O.useContext(hv),r=hX(t,function(n){return M_(n.domain,Number.isFinite)});return r||mo(t)},U_=function(t){var r=O.useContext(hv);r==null&&Si();var n=r[t];return n==null&&Si(),n},vX=function(){var t=O.useContext(L_);return t},xX=function(){return O.useContext(I_)},pv=function(){return O.useContext(z_)},gv=function(){return O.useContext(F_)};function $s(e){"@babel/helpers - typeof";return $s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$s(e)}function bX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,H_(n.key),n)}}function kX(e,t,r){return t&&wX(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function SX(e,t,r){return t=vd(t),jX(e,G_()?Reflect.construct(t,r||[],vd(e).constructor):t.apply(e,r))}function jX(e,t){if(t&&($s(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OX(e)}function OX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(G_=function(){return!!e})()}function vd(e){return vd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vd(e)}function _X(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zg(e,t)}function Zg(e,t){return Zg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Zg(e,t)}function Zw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zw(Object(r),!0).forEach(function(n){mv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mv(e,t,r){return t=H_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H_(e){var t=PX(e,"string");return $s(t)=="symbol"?t:t+""}function PX(e,t){if($s(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($s(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function NX(e,t){return EX(e)||CX(e,t)||MX(e,t)||AX()}function AX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MX(e,t){if(e){if(typeof e=="string")return Jw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jw(e,t)}}function Jw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function CX(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function EX(e){if(Array.isArray(e))return e}function Qg(){return Qg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qg.apply(this,arguments)}var TX=function(t,r){var n;return M.isValidElement(t)?n=M.cloneElement(t,r):ze(t)?n=t(r):n=M.createElement("line",Qg({},r,{className:"recharts-reference-line-line"})),n},$X=function(t,r,n,a,o,i,s,l,c){var u=o.x,f=o.y,h=o.width,p=o.height;if(n){var m=c.y,v=t.y.apply(m,{position:i});if(Na(c,"discard")&&!t.y.isInRange(v))return null;var x=[{x:u+h,y:v},{x:u,y:v}];return l==="left"?x.reverse():x}if(r){var y=c.x,g=t.x.apply(y,{position:i});if(Na(c,"discard")&&!t.x.isInRange(g))return null;var b=[{x:g,y:f+p},{x:g,y:f}];return s==="top"?b.reverse():b}if(a){var S=c.segment,w=S.map(function(k){return t.apply(k,{position:i})});return Na(c,"discard")&&aK(w,function(k){return!t.isInRange(k)})?null:w}return null};function DX(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,o=e.yAxisId,i=e.shape,s=e.className,l=e.alwaysShow,c=gX(),u=W_(a),f=U_(o),h=vX();if(!c||!h)return null;Ka(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=fv({x:u.scale,y:f.scale}),m=_r(t),v=_r(r),x=n&&n.length===2,y=$X(p,m,v,x,h,e.position,u.orientation,f.orientation,e);if(!y)return null;var g=NX(y,2),b=g[0],S=b.x,w=b.y,k=g[1],j=k.x,_=k.y,P=Na(e,"hidden")?"url(#".concat(c,")"):void 0,A=Qw(Qw({clipPath:P},Be(e,!0)),{},{x1:S,y1:w,x2:j,y2:_});return M.createElement(xt,{className:nt("recharts-reference-line",s)},TX(i,A),Qr.renderCallByParent(e,VK({x1:S,y1:w,x2:j,y2:_})))}var ii=function(e){function t(){return bX(this,t),SX(this,t,arguments)}return _X(t,e),kX(t,[{key:"render",value:function(){return M.createElement(DX,this.props)}}])}(M.Component);mv(ii,"displayName","ReferenceLine");mv(ii,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Jg(){return Jg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jg.apply(this,arguments)}function Ds(e){"@babel/helpers - typeof";return Ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ds(e)}function e2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function t2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e2(Object(r),!0).forEach(function(n){Ah(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,K_(n.key),n)}}function IX(e,t,r){return t&&LX(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function BX(e,t,r){return t=xd(t),FX(e,V_()?Reflect.construct(t,r||[],xd(e).constructor):t.apply(e,r))}function FX(e,t){if(t&&(Ds(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zX(e)}function zX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V_=function(){return!!e})()}function xd(e){return xd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xd(e)}function WX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&em(e,t)}function em(e,t){return em=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},em(e,t)}function Ah(e,t,r){return t=K_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K_(e){var t=UX(e,"string");return Ds(t)=="symbol"?t:t+""}function UX(e,t){if(Ds(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ds(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var GX=function(t){var r=t.x,n=t.y,a=t.xAxis,o=t.yAxis,i=fv({x:a.scale,y:o.scale}),s=i.apply({x:r,y:n},{bandAware:!0});return Na(t,"discard")&&!i.isInRange(s)?null:s},Mh=function(e){function t(){return RX(this,t),BX(this,t,arguments)}return WX(t,e),IX(t,[{key:"render",value:function(){var n=this.props,a=n.x,o=n.y,i=n.r,s=n.alwaysShow,l=n.clipPathId,c=_r(a),u=_r(o);if(Ka(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var f=GX(this.props);if(!f)return null;var h=f.x,p=f.y,m=this.props,v=m.shape,x=m.className,y=Na(this.props,"hidden")?"url(#".concat(l,")"):void 0,g=t2(t2({clipPath:y},Be(this.props,!0)),{},{cx:h,cy:p});return M.createElement(xt,{className:nt("recharts-reference-dot",x)},t.renderDot(v,g),Qr.renderCallByParent(this.props,{x:h-i,y:p-i,width:2*i,height:2*i}))}}])}(M.Component);Ah(Mh,"displayName","ReferenceDot");Ah(Mh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Ah(Mh,"renderDot",function(e,t){var r;return M.isValidElement(e)?r=M.cloneElement(e,t):ze(e)?r=e(t):r=M.createElement(Oh,Jg({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function tm(){return tm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tm.apply(this,arguments)}function Rs(e){"@babel/helpers - typeof";return Rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rs(e)}function r2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function n2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r2(Object(r),!0).forEach(function(n){Ch(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Y_(n.key),n)}}function KX(e,t,r){return t&&VX(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function XX(e,t,r){return t=bd(t),YX(e,X_()?Reflect.construct(t,r||[],bd(e).constructor):t.apply(e,r))}function YX(e,t){if(t&&(Rs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qX(e)}function qX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(X_=function(){return!!e})()}function bd(e){return bd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bd(e)}function ZX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rm(e,t)}function rm(e,t){return rm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},rm(e,t)}function Ch(e,t,r){return t=Y_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y_(e){var t=QX(e,"string");return Rs(t)=="symbol"?t:t+""}function QX(e,t){if(Rs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var JX=function(t,r,n,a,o){var i=o.x1,s=o.x2,l=o.y1,c=o.y2,u=o.xAxis,f=o.yAxis;if(!u||!f)return null;var h=fv({x:u.scale,y:f.scale}),p={x:t?h.x.apply(i,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},m={x:r?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(c,{position:"end"}):h.y.rangeMax};return Na(o,"discard")&&(!h.isInRange(p)||!h.isInRange(m))?null:D_(p,m)},lu=function(e){function t(){return HX(this,t),XX(this,t,arguments)}return ZX(t,e),KX(t,[{key:"render",value:function(){var n=this.props,a=n.x1,o=n.x2,i=n.y1,s=n.y2,l=n.className,c=n.alwaysShow,u=n.clipPathId;Ka(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=_r(a),h=_r(o),p=_r(i),m=_r(s),v=this.props.shape;if(!f&&!h&&!p&&!m&&!v)return null;var x=JX(f,h,p,m,this.props);if(!x&&!v)return null;var y=Na(this.props,"hidden")?"url(#".concat(u,")"):void 0;return M.createElement(xt,{className:nt("recharts-reference-area",l)},t.renderRect(v,n2(n2({clipPath:y},Be(this.props,!0)),x)),Qr.renderCallByParent(this.props,x))}}])}(M.Component);Ch(lu,"displayName","ReferenceArea");Ch(lu,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Ch(lu,"renderRect",function(e,t){var r;return M.isValidElement(e)?r=M.cloneElement(e,t):ze(e)?r=e(t):r=M.createElement(cv,tm({},t,{className:"recharts-reference-area-rect"})),r});function q_(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function eY(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return XK(n,r)}function tY(e,t,r){var n=r==="width",a=e.x,o=e.y,i=e.width,s=e.height;return t===1?{start:n?a:o,end:n?a+i:o+s}:{start:n?a+i:o+s,end:n?a:o}}function wd(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var o=r();return e*(t-e*o/2-n)>=0&&e*(t+e*o/2-a)<=0}function rY(e,t){return q_(e,t+1)}function nY(e,t,r,n,a){for(var o=(n||[]).slice(),i=t.start,s=t.end,l=0,c=1,u=i,f=function(){var m=n==null?void 0:n[l];if(m===void 0)return{v:q_(n,c)};var v=l,x,y=function(){return x===void 0&&(x=r(m,v)),x},g=m.coordinate,b=l===0||wd(e,g,y,u,s);b||(l=0,u=i,c+=1),b&&(u=g+e*(y()/2+a),l+=c)},h;c<=o.length;)if(h=f(),h)return h.v;return[]}function Kc(e){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kc(e)}function a2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a2(Object(r),!0).forEach(function(n){aY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aY(e,t,r){return t=oY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oY(e){var t=iY(e,"string");return Kc(t)=="symbol"?t:t+""}function iY(e,t){if(Kc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sY(e,t,r,n,a){for(var o=(n||[]).slice(),i=o.length,s=t.start,l=t.end,c=function(h){var p=o[h],m,v=function(){return m===void 0&&(m=r(p,h)),m};if(h===i-1){var x=e*(p.coordinate+e*v()/2-l);o[h]=p=qr(qr({},p),{},{tickCoord:x>0?p.coordinate-x*e:p.coordinate})}else o[h]=p=qr(qr({},p),{},{tickCoord:p.coordinate});var y=wd(e,p.tickCoord,v,s,l);y&&(l=p.tickCoord-e*(v()/2+a),o[h]=qr(qr({},p),{},{isShow:!0}))},u=i-1;u>=0;u--)c(u);return o}function lY(e,t,r,n,a,o){var i=(n||[]).slice(),s=i.length,l=t.start,c=t.end;if(o){var u=n[s-1],f=r(u,s-1),h=e*(u.coordinate+e*f/2-c);i[s-1]=u=qr(qr({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate});var p=wd(e,u.tickCoord,function(){return f},l,c);p&&(c=u.tickCoord-e*(f/2+a),i[s-1]=qr(qr({},u),{},{isShow:!0}))}for(var m=o?s-1:s,v=function(g){var b=i[g],S,w=function(){return S===void 0&&(S=r(b,g)),S};if(g===0){var k=e*(b.coordinate-e*w()/2-l);i[g]=b=qr(qr({},b),{},{tickCoord:k<0?b.coordinate-k*e:b.coordinate})}else i[g]=b=qr(qr({},b),{},{tickCoord:b.coordinate});var j=wd(e,b.tickCoord,w,l,c);j&&(l=b.tickCoord+e*(w()/2+a),i[g]=qr(qr({},b),{},{isShow:!0}))},x=0;x<m;x++)v(x);return i}function yv(e,t,r){var n=e.tick,a=e.ticks,o=e.viewBox,i=e.minTickGap,s=e.orientation,l=e.interval,c=e.tickFormatter,u=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(oe(l)||Io.isSsr)return rY(a,typeof l=="number"&&oe(l)?l:0);var h=[],p=s==="top"||s==="bottom"?"width":"height",m=u&&p==="width"?Gl(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},v=function(b,S){var w=ze(c)?c(b.value,S):b.value;return p==="width"?eY(Gl(w,{fontSize:t,letterSpacing:r}),m,f):Gl(w,{fontSize:t,letterSpacing:r})[p]},x=a.length>=2?la(a[1].coordinate-a[0].coordinate):1,y=tY(o,x,p);return l==="equidistantPreserveStart"?nY(x,y,v,a,i):(l==="preserveStart"||l==="preserveStartEnd"?h=lY(x,y,v,a,i,l==="preserveStartEnd"):h=sY(x,y,v,a,i),h.filter(function(g){return g.isShow}))}var cY=["viewBox"],uY=["viewBox"],fY=["ticks"];function Ls(e){"@babel/helpers - typeof";return Ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ls(e)}function ts(){return ts=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ts.apply(this,arguments)}function o2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o2(Object(r),!0).forEach(function(n){vv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ip(e,t){if(e==null)return{};var r=dY(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function hY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Q_(n.key),n)}}function pY(e,t,r){return t&&i2(e.prototype,t),r&&i2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function gY(e,t,r){return t=kd(t),mY(e,Z_()?Reflect.construct(t,r||[],kd(e).constructor):t.apply(e,r))}function mY(e,t){if(t&&(Ls(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yY(e)}function yY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Z_=function(){return!!e})()}function kd(e){return kd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kd(e)}function vY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nm(e,t)}function nm(e,t){return nm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},nm(e,t)}function vv(e,t,r){return t=Q_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q_(e){var t=xY(e,"string");return Ls(t)=="symbol"?t:t+""}function xY(e,t){if(Ls(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ls(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var cl=function(e){function t(r){var n;return hY(this,t),n=gY(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return vY(t,e),pY(t,[{key:"shouldComponentUpdate",value:function(n,a){var o=n.viewBox,i=Ip(n,cY),s=this.props,l=s.viewBox,c=Ip(s,uY);return!cs(o,l)||!cs(i,c)||!cs(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,o=a.x,i=a.y,s=a.width,l=a.height,c=a.orientation,u=a.tickSize,f=a.mirror,h=a.tickMargin,p,m,v,x,y,g,b=f?-1:1,S=n.tickSize||u,w=oe(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":p=m=n.coordinate,x=i+ +!f*l,v=x-b*S,g=v-b*h,y=w;break;case"left":v=x=n.coordinate,m=o+ +!f*s,p=m-b*S,y=p-b*h,g=w;break;case"right":v=x=n.coordinate,m=o+ +f*s,p=m+b*S,y=p+b*h,g=w;break;default:p=m=n.coordinate,x=i+ +f*l,v=x+b*S,g=v+b*h,y=w;break}return{line:{x1:p,y1:v,x2:m,y2:x},tick:{x:y,y:g}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,o=n.mirror,i;switch(a){case"left":i=o?"start":"end";break;case"right":i=o?"end":"start";break;default:i="middle";break}return i}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,o=n.mirror,i="end";switch(a){case"left":case"right":i="middle";break;case"top":i=o?"start":"end";break;default:i=o?"end":"start";break}return i}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,o=n.y,i=n.width,s=n.height,l=n.orientation,c=n.mirror,u=n.axisLine,f=kr(kr(kr({},Be(this.props,!1)),Be(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);f=kr(kr({},f),{},{x1:a,y1:o+h*s,x2:a+i,y2:o+h*s})}else{var p=+(l==="left"&&!c||l==="right"&&c);f=kr(kr({},f),{},{x1:a+p*i,y1:o,x2:a+p*i,y2:o+s})}return M.createElement("line",ts({},f,{className:nt("recharts-cartesian-axis-line",Xn(u,"className"))}))}},{key:"renderTicks",value:function(n,a,o){var i=this,s=this.props,l=s.tickLine,c=s.stroke,u=s.tick,f=s.tickFormatter,h=s.unit,p=yv(kr(kr({},this.props),{},{ticks:n}),a,o),m=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),x=Be(this.props,!1),y=Be(u,!1),g=kr(kr({},x),{},{fill:"none"},Be(l,!1)),b=p.map(function(S,w){var k=i.getTickLineCoord(S),j=k.line,_=k.tick,P=kr(kr(kr(kr({textAnchor:m,verticalAnchor:v},x),{},{stroke:"none",fill:c},y),_),{},{index:w,payload:S,visibleTicksCount:p.length,tickFormatter:f});return M.createElement(xt,ts({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},pc(i.props,S,w)),l&&M.createElement("line",ts({},g,j,{className:nt("recharts-cartesian-axis-tick-line",Xn(l,"className"))})),u&&t.renderTickItem(u,P,"".concat(ze(f)?f(S.value,w):S.value).concat(h||"")))});return M.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var n=this,a=this.props,o=a.axisLine,i=a.width,s=a.height,l=a.ticksGenerator,c=a.className,u=a.hide;if(u)return null;var f=this.props,h=f.ticks,p=Ip(f,fY),m=h;return ze(l)&&(m=h&&h.length>0?l(this.props):l(p)),i<=0||s<=0||!m||!m.length?null:M.createElement(xt,{className:nt("recharts-cartesian-axis",c),ref:function(x){n.layerReference=x}},o&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),Qr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,o){var i,s=nt(a.className,"recharts-cartesian-axis-tick-value");return M.isValidElement(n)?i=M.cloneElement(n,kr(kr({},a),{},{className:s})):ze(n)?i=n(kr(kr({},a),{},{className:s})):i=M.createElement(Uf,ts({},a,{className:"recharts-cartesian-axis-tick-value"}),o),i}}])}(O.Component);vv(cl,"displayName","CartesianAxis");vv(cl,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var bY=["x1","y1","x2","y2","key"],wY=["offset"];function ji(e){"@babel/helpers - typeof";return ji=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ji(e)}function s2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s2(Object(r),!0).forEach(function(n){kY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kY(e,t,r){return t=SY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SY(e){var t=jY(e,"string");return ji(t)=="symbol"?t:t+""}function jY(e,t){if(ji(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ji(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function si(){return si=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},si.apply(this,arguments)}function l2(e,t){if(e==null)return{};var r=OY(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function OY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var _Y=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,o=t.y,i=t.width,s=t.height,l=t.ry;return M.createElement("rect",{x:a,y:o,ry:l,width:i,height:s,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function J_(e,t){var r;if(M.isValidElement(e))r=M.cloneElement(e,t);else if(ze(e))r=e(t);else{var n=t.x1,a=t.y1,o=t.x2,i=t.y2,s=t.key,l=l2(t,bY),c=Be(l,!1);c.offset;var u=l2(c,wY);r=M.createElement("line",si({},u,{x1:n,y1:a,x2:o,y2:i,fill:"none",key:s}))}return r}function PY(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,o=e.horizontalPoints;if(!a||!o||!o.length)return null;var i=o.map(function(s,l){var c=Jr(Jr({},e),{},{x1:t,y1:s,x2:t+r,y2:s,key:"line-".concat(l),index:l});return J_(a,c)});return M.createElement("g",{className:"recharts-cartesian-grid-horizontal"},i)}function NY(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,o=e.verticalPoints;if(!a||!o||!o.length)return null;var i=o.map(function(s,l){var c=Jr(Jr({},e),{},{x1:s,y1:t,x2:s,y2:t+r,key:"line-".concat(l),index:l});return J_(a,c)});return M.createElement("g",{className:"recharts-cartesian-grid-vertical"},i)}function AY(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,o=e.width,i=e.height,s=e.horizontalPoints,l=e.horizontal,c=l===void 0?!0:l;if(!c||!t||!t.length)return null;var u=s.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==u[0]&&u.unshift(0);var f=u.map(function(h,p){var m=!u[p+1],v=m?a+i-h:u[p+1]-h;if(v<=0)return null;var x=p%t.length;return M.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:v,width:o,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function MY(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,o=e.x,i=e.y,s=e.width,l=e.height,c=e.verticalPoints;if(!r||!n||!n.length)return null;var u=c.map(function(h){return Math.round(h+o-o)}).sort(function(h,p){return h-p});o!==u[0]&&u.unshift(0);var f=u.map(function(h,p){var m=!u[p+1],v=m?o+s-h:u[p+1]-h;if(v<=0)return null;var x=p%n.length;return M.createElement("rect",{key:"react-".concat(p),x:h,y:i,width:v,height:l,stroke:"none",fill:n[x],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var CY=function(t,r){var n=t.xAxis,a=t.width,o=t.height,i=t.offset;return c_(yv(Jr(Jr(Jr({},cl.defaultProps),n),{},{ticks:Ga(n,!0),viewBox:{x:0,y:0,width:a,height:o}})),i.left,i.left+i.width,r)},EY=function(t,r){var n=t.yAxis,a=t.width,o=t.height,i=t.offset;return c_(yv(Jr(Jr(Jr({},cl.defaultProps),n),{},{ticks:Ga(n,!0),viewBox:{x:0,y:0,width:a,height:o}})),i.top,i.top+i.height,r)},Bi={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Oi(e){var t,r,n,a,o,i,s=pv(),l=gv(),c=xX(),u=Jr(Jr({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Bi.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Bi.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Bi.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Bi.horizontalFill,vertical:(o=e.vertical)!==null&&o!==void 0?o:Bi.vertical,verticalFill:(i=e.verticalFill)!==null&&i!==void 0?i:Bi.verticalFill,x:oe(e.x)?e.x:c.left,y:oe(e.y)?e.y:c.top,width:oe(e.width)?e.width:c.width,height:oe(e.height)?e.height:c.height}),f=u.x,h=u.y,p=u.width,m=u.height,v=u.syncWithTicks,x=u.horizontalValues,y=u.verticalValues,g=mX(),b=yX();if(!oe(p)||p<=0||!oe(m)||m<=0||!oe(f)||f!==+f||!oe(h)||h!==+h)return null;var S=u.verticalCoordinatesGenerator||CY,w=u.horizontalCoordinatesGenerator||EY,k=u.horizontalPoints,j=u.verticalPoints;if((!k||!k.length)&&ze(w)){var _=x&&x.length,P=w({yAxis:b?Jr(Jr({},b),{},{ticks:_?x:b.ticks}):void 0,width:s,height:l,offset:c},_?!0:v);Ka(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(ji(P),"]")),Array.isArray(P)&&(k=P)}if((!j||!j.length)&&ze(S)){var A=y&&y.length,N=S({xAxis:g?Jr(Jr({},g),{},{ticks:A?y:g.ticks}):void 0,width:s,height:l,offset:c},A?!0:v);Ka(Array.isArray(N),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(ji(N),"]")),Array.isArray(N)&&(j=N)}return M.createElement("g",{className:"recharts-cartesian-grid"},M.createElement(_Y,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),M.createElement(PY,si({},u,{offset:c,horizontalPoints:k,xAxis:g,yAxis:b})),M.createElement(NY,si({},u,{offset:c,verticalPoints:j,xAxis:g,yAxis:b})),M.createElement(AY,si({},u,{horizontalPoints:k})),M.createElement(MY,si({},u,{verticalPoints:j})))}Oi.displayName="CartesianGrid";var TY=["type","layout","connectNulls","ref"],$Y=["key"];function Is(e){"@babel/helpers - typeof";return Is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Is(e)}function c2(e,t){if(e==null)return{};var r=DY(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function DY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Xl(){return Xl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xl.apply(this,arguments)}function u2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u2(Object(r),!0).forEach(function(n){oa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fi(e){return BY(e)||IY(e)||LY(e)||RY()}function RY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LY(e,t){if(e){if(typeof e=="string")return am(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return am(e,t)}}function IY(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function BY(e){if(Array.isArray(e))return am(e)}function am(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function FY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tP(n.key),n)}}function zY(e,t,r){return t&&f2(e.prototype,t),r&&f2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function WY(e,t,r){return t=Sd(t),UY(e,eP()?Reflect.construct(t,r||[],Sd(e).constructor):t.apply(e,r))}function UY(e,t){if(t&&(Is(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GY(e)}function GY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eP=function(){return!!e})()}function Sd(e){return Sd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sd(e)}function HY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&om(e,t)}function om(e,t){return om=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},om(e,t)}function oa(e,t,r){return t=tP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tP(e){var t=VY(e,"string");return Is(t)=="symbol"?t:t+""}function VY(e,t){if(Is(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Is(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var en=function(e){function t(){var r;FY(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=WY(this,t,[].concat(a)),oa(r,"state",{isAnimationFinished:!0,totalLength:0}),oa(r,"generateSimpleStrokeDasharray",function(i,s){return"".concat(s,"px ").concat(i-s,"px")}),oa(r,"getStrokeDasharray",function(i,s,l){var c=l.reduce(function(y,g){return y+g});if(!c)return r.generateSimpleStrokeDasharray(s,i);for(var u=Math.floor(i/c),f=i%c,h=s-i,p=[],m=0,v=0;m<l.length;v+=l[m],++m)if(v+l[m]>f){p=[].concat(Fi(l.slice(0,m)),[f-v]);break}var x=p.length%2===0?[0,h]:[h];return[].concat(Fi(t.repeat(l,u)),Fi(p),x).map(function(y){return"".concat(y,"px")}).join(", ")}),oa(r,"id",Ai("recharts-line-")),oa(r,"pathRef",function(i){r.mainCurve=i}),oa(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),oa(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return HY(t,e),zY(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,i=o.points,s=o.xAxis,l=o.yAxis,c=o.layout,u=o.children,f=kn(u,ll);if(!f)return null;var h=function(v,x){return{x:v.x,y:v.y,value:v.value,errorVal:Pr(v.payload,x)}},p={clipPath:n?"url(#clipPath-".concat(a,")"):null};return M.createElement(xt,p,f.map(function(m){return M.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:i,xAxis:s,yAxis:l,layout:c,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,o){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,c=s.points,u=s.dataKey,f=Be(this.props,!1),h=Be(l,!0),p=c.map(function(v,x){var y=Pn(Pn(Pn({key:"dot-".concat(x),r:3},f),h),{},{index:x,cx:v.x,cy:v.y,value:v.value,dataKey:u,payload:v.payload,points:c});return t.renderDotItem(l,y)}),m={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(o,")"):null};return M.createElement(xt,Xl({className:"recharts-line-dots",key:"dots"},m),p)}},{key:"renderCurveStatically",value:function(n,a,o,i){var s=this.props,l=s.type,c=s.layout,u=s.connectNulls;s.ref;var f=c2(s,TY),h=Pn(Pn(Pn({},Be(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(o,")"):null,points:n},i),{},{type:l,layout:c,connectNulls:u});return M.createElement(hi,Xl({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var o=this,i=this.props,s=i.points,l=i.strokeDasharray,c=i.isAnimationActive,u=i.animationBegin,f=i.animationDuration,h=i.animationEasing,p=i.animationId,m=i.animateNewValues,v=i.width,x=i.height,y=this.state,g=y.prevPoints,b=y.totalLength;return M.createElement(da,{begin:u,duration:f,isActive:c,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var w=S.t;if(g){var k=g.length/s.length,j=s.map(function(E,F){var I=Math.floor(F*k);if(g[I]){var T=g[I],R=dr(T.x,E.x),W=dr(T.y,E.y);return Pn(Pn({},E),{},{x:R(w),y:W(w)})}if(m){var L=dr(v*2,E.x),D=dr(x/2,E.y);return Pn(Pn({},E),{},{x:L(w),y:D(w)})}return Pn(Pn({},E),{},{x:E.x,y:E.y})});return o.renderCurveStatically(j,n,a)}var _=dr(0,b),P=_(w),A;if(l){var N="".concat(l).split(/[,\s]+/gim).map(function(E){return parseFloat(E)});A=o.getStrokeDasharray(P,b,N)}else A=o.generateSimpleStrokeDasharray(b,P);return o.renderCurveStatically(s,n,a,{strokeDasharray:A})})}},{key:"renderCurve",value:function(n,a){var o=this.props,i=o.points,s=o.isAnimationActive,l=this.state,c=l.prevPoints,u=l.totalLength;return s&&i&&i.length&&(!c&&u>0||!wi(c,i))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(i,n,a)}},{key:"render",value:function(){var n,a=this.props,o=a.hide,i=a.dot,s=a.points,l=a.className,c=a.xAxis,u=a.yAxis,f=a.top,h=a.left,p=a.width,m=a.height,v=a.isAnimationActive,x=a.id;if(o||!s||!s.length)return null;var y=this.state.isAnimationFinished,g=s.length===1,b=nt("recharts-line",l),S=c&&c.allowDataOverflow,w=u&&u.allowDataOverflow,k=S||w,j=De(x)?this.id:x,_=(n=Be(i,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},P=_.r,A=P===void 0?3:P,N=_.strokeWidth,E=N===void 0?2:N,F=rj(i)?i:{},I=F.clipDot,T=I===void 0?!0:I,R=A*2+E;return M.createElement(xt,{className:b},S||w?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(j)},M.createElement("rect",{x:S?h:h-p/2,y:w?f:f-m/2,width:S?p:p*2,height:w?m:m*2})),!T&&M.createElement("clipPath",{id:"clipPath-dots-".concat(j)},M.createElement("rect",{x:h-R/2,y:f-R/2,width:p+R,height:m+R}))):null,!g&&this.renderCurve(k,j),this.renderErrorBar(k,j),(g||i)&&this.renderDots(k,T,j),(!v||y)&&Pa.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var o=n.length%2!==0?[].concat(Fi(n),[0]):n,i=[],s=0;s<a;++s)i=[].concat(Fi(i),Fi(o));return i}},{key:"renderDotItem",value:function(n,a){var o;if(M.isValidElement(n))o=M.cloneElement(n,a);else if(ze(n))o=n(a);else{var i=a.key,s=c2(a,$Y),l=nt("recharts-line-dot",typeof n!="boolean"?n.className:"");o=M.createElement(Oh,Xl({key:i},s,{className:l}))}return o}}])}(O.PureComponent);oa(en,"displayName","Line");oa(en,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Io.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});oa(en,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,o=e.yAxisTicks,i=e.dataKey,s=e.bandSize,l=e.displayedData,c=e.offset,u=t.layout,f=l.map(function(h,p){var m=Pr(h,i);return u==="horizontal"?{x:As({axis:r,ticks:a,bandSize:s,entry:h,index:p}),y:De(m)?null:n.scale(m),value:m,payload:h}:{x:De(m)?null:r.scale(m),y:As({axis:n,ticks:o,bandSize:s,entry:h,index:p}),value:m,payload:h}});return Pn({points:f,layout:u},c)});var KY=["layout","type","stroke","connectNulls","isRange","ref"],XY=["key"],rP;function Bs(e){"@babel/helpers - typeof";return Bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bs(e)}function nP(e,t){if(e==null)return{};var r=YY(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function YY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function li(){return li=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},li.apply(this,arguments)}function d2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function co(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d2(Object(r),!0).forEach(function(n){Sa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oP(n.key),n)}}function ZY(e,t,r){return t&&h2(e.prototype,t),r&&h2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function QY(e,t,r){return t=jd(t),JY(e,aP()?Reflect.construct(t,r||[],jd(e).constructor):t.apply(e,r))}function JY(e,t){if(t&&(Bs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eq(e)}function eq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aP=function(){return!!e})()}function jd(e){return jd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jd(e)}function tq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&im(e,t)}function im(e,t){return im=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},im(e,t)}function Sa(e,t,r){return t=oP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oP(e){var t=rq(e,"string");return Bs(t)=="symbol"?t:t+""}function rq(e,t){if(Bs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Vn=function(e){function t(){var r;qY(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=QY(this,t,[].concat(a)),Sa(r,"state",{isAnimationFinished:!0}),Sa(r,"id",Ai("recharts-area-")),Sa(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),ze(i)&&i()}),Sa(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),ze(i)&&i()}),r}return tq(t,e),ZY(t,[{key:"renderDots",value:function(n,a,o){var i=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(i&&!s)return null;var l=this.props,c=l.dot,u=l.points,f=l.dataKey,h=Be(this.props,!1),p=Be(c,!0),m=u.map(function(x,y){var g=co(co(co({key:"dot-".concat(y),r:3},h),p),{},{index:y,cx:x.x,cy:x.y,dataKey:f,value:x.value,payload:x.payload,points:u});return t.renderDotItem(c,g)}),v={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(o,")"):null};return M.createElement(xt,li({className:"recharts-area-dots"},v),m)}},{key:"renderHorizontalRect",value:function(n){var a=this.props,o=a.baseLine,i=a.points,s=a.strokeWidth,l=i[0].x,c=i[i.length-1].x,u=n*Math.abs(l-c),f=xo(i.map(function(h){return h.y||0}));return oe(o)&&typeof o=="number"?f=Math.max(o,f):o&&Array.isArray(o)&&o.length&&(f=Math.max(xo(o.map(function(h){return h.y||0})),f)),oe(f)?M.createElement("rect",{x:l<c?l:l-u,y:0,width:u,height:Math.floor(f+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,o=a.baseLine,i=a.points,s=a.strokeWidth,l=i[0].y,c=i[i.length-1].y,u=n*Math.abs(l-c),f=xo(i.map(function(h){return h.x||0}));return oe(o)&&typeof o=="number"?f=Math.max(o,f):o&&Array.isArray(o)&&o.length&&(f=Math.max(xo(o.map(function(h){return h.x||0})),f)),oe(f)?M.createElement("rect",{x:0,y:l<c?l:l-u,width:f+(s?parseInt("".concat(s),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,o,i){var s=this.props,l=s.layout,c=s.type,u=s.stroke,f=s.connectNulls,h=s.isRange;s.ref;var p=nP(s,KY);return M.createElement(xt,{clipPath:o?"url(#clipPath-".concat(i,")"):null},M.createElement(hi,li({},Be(p,!0),{points:n,connectNulls:f,type:c,baseLine:a,layout:l,stroke:"none",className:"recharts-area-area"})),u!=="none"&&M.createElement(hi,li({},Be(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:f,fill:"none",points:n})),u!=="none"&&h&&M.createElement(hi,li({},Be(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:f,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(n,a){var o=this,i=this.props,s=i.points,l=i.baseLine,c=i.isAnimationActive,u=i.animationBegin,f=i.animationDuration,h=i.animationEasing,p=i.animationId,m=this.state,v=m.prevPoints,x=m.prevBaseLine;return M.createElement(da,{begin:u,duration:f,isActive:c,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var g=y.t;if(v){var b=v.length/s.length,S=s.map(function(_,P){var A=Math.floor(P*b);if(v[A]){var N=v[A],E=dr(N.x,_.x),F=dr(N.y,_.y);return co(co({},_),{},{x:E(g),y:F(g)})}return _}),w;if(oe(l)&&typeof l=="number"){var k=dr(x,l);w=k(g)}else if(De(l)||tl(l)){var j=dr(x,0);w=j(g)}else w=l.map(function(_,P){var A=Math.floor(P*b);if(x[A]){var N=x[A],E=dr(N.x,_.x),F=dr(N.y,_.y);return co(co({},_),{},{x:E(g),y:F(g)})}return _});return o.renderAreaStatically(S,w,n,a)}return M.createElement(xt,null,M.createElement("defs",null,M.createElement("clipPath",{id:"animationClipPath-".concat(a)},o.renderClipRect(g))),M.createElement(xt,{clipPath:"url(#animationClipPath-".concat(a,")")},o.renderAreaStatically(s,l,n,a)))})}},{key:"renderArea",value:function(n,a){var o=this.props,i=o.points,s=o.baseLine,l=o.isAnimationActive,c=this.state,u=c.prevPoints,f=c.prevBaseLine,h=c.totalLength;return l&&i&&i.length&&(!u&&h>0||!wi(u,i)||!wi(f,s))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(i,s,n,a)}},{key:"render",value:function(){var n,a=this.props,o=a.hide,i=a.dot,s=a.points,l=a.className,c=a.top,u=a.left,f=a.xAxis,h=a.yAxis,p=a.width,m=a.height,v=a.isAnimationActive,x=a.id;if(o||!s||!s.length)return null;var y=this.state.isAnimationFinished,g=s.length===1,b=nt("recharts-area",l),S=f&&f.allowDataOverflow,w=h&&h.allowDataOverflow,k=S||w,j=De(x)?this.id:x,_=(n=Be(i,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},P=_.r,A=P===void 0?3:P,N=_.strokeWidth,E=N===void 0?2:N,F=rj(i)?i:{},I=F.clipDot,T=I===void 0?!0:I,R=A*2+E;return M.createElement(xt,{className:b},S||w?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(j)},M.createElement("rect",{x:S?u:u-p/2,y:w?c:c-m/2,width:S?p:p*2,height:w?m:m*2})),!T&&M.createElement("clipPath",{id:"clipPath-dots-".concat(j)},M.createElement("rect",{x:u-R/2,y:c-R/2,width:p+R,height:m+R}))):null,g?null:this.renderArea(k,j),(i||g)&&this.renderDots(k,T,j),(!v||y)&&Pa.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(O.PureComponent);rP=Vn;Sa(Vn,"displayName","Area");Sa(Vn,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Io.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Sa(Vn,"getBaseValue",function(e,t,r,n){var a=e.layout,o=e.baseValue,i=t.props.baseValue,s=i??o;if(oe(s)&&typeof s=="number")return s;var l=a==="horizontal"?n:r,c=l.scale.domain();if(l.type==="number"){var u=Math.max(c[0],c[1]),f=Math.min(c[0],c[1]);return s==="dataMin"?f:s==="dataMax"||u<0?u:Math.max(Math.min(c[0],c[1]),0)}return s==="dataMin"?c[0]:s==="dataMax"?c[1]:c[0]});Sa(Vn,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,a=e.yAxis,o=e.xAxisTicks,i=e.yAxisTicks,s=e.bandSize,l=e.dataKey,c=e.stackedData,u=e.dataStartIndex,f=e.displayedData,h=e.offset,p=t.layout,m=c&&c.length,v=rP.getBaseValue(t,r,n,a),x=p==="horizontal",y=!1,g=f.map(function(S,w){var k;m?k=c[u+w]:(k=Pr(S,l),Array.isArray(k)?y=!0:k=[v,k]);var j=k[1]==null||m&&Pr(S,l)==null;return x?{x:As({axis:n,ticks:o,bandSize:s,entry:S,index:w}),y:j?null:a.scale(k[1]),value:k,payload:S}:{x:j?null:n.scale(k[1]),y:As({axis:a,ticks:i,bandSize:s,entry:S,index:w}),value:k,payload:S}}),b;return m||y?b=g.map(function(S){var w=Array.isArray(S.value)?S.value[0]:null;return x?{x:S.x,y:w!=null&&S.y!=null?a.scale(w):null}:{x:w!=null?n.scale(w):null,y:S.y}}):b=x?a.scale(v):n.scale(v),co({points:g,baseLine:b,layout:p,isRange:y},h)});Sa(Vn,"renderDotItem",function(e,t){var r;if(M.isValidElement(e))r=M.cloneElement(e,t);else if(ze(e))r=e(t);else{var n=nt("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,o=nP(t,XY);r=M.createElement(Oh,li({},o,{key:a,className:n}))}return r});function Fs(e){"@babel/helpers - typeof";return Fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fs(e)}function nq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lP(n.key),n)}}function oq(e,t,r){return t&&aq(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function iq(e,t,r){return t=Od(t),sq(e,iP()?Reflect.construct(t,r||[],Od(e).constructor):t.apply(e,r))}function sq(e,t){if(t&&(Fs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lq(e)}function lq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iP=function(){return!!e})()}function Od(e){return Od=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Od(e)}function cq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sm(e,t)}function sm(e,t){return sm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},sm(e,t)}function sP(e,t,r){return t=lP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lP(e){var t=uq(e,"string");return Fs(t)=="symbol"?t:t+""}function uq(e,t){if(Fs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Eh=function(e){function t(){return nq(this,t),iq(this,t,arguments)}return cq(t,e),oq(t,[{key:"render",value:function(){return null}}])}(O.Component);sP(Eh,"displayName","ZAxis");sP(Eh,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var fq=["option","isActive"];function Yl(){return Yl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yl.apply(this,arguments)}function dq(e,t){if(e==null)return{};var r=hq(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function hq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function pq(e){var t=e.option,r=e.isActive,n=dq(e,fq);return typeof t=="string"?O.createElement(Kg,Yl({option:O.createElement(dh,Yl({type:t},n)),isActive:r,shapeType:"symbols"},n)):O.createElement(Kg,Yl({option:t,isActive:r,shapeType:"symbols"},n))}function zs(e){"@babel/helpers - typeof";return zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zs(e)}function ql(){return ql=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ql.apply(this,arguments)}function p2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p2(Object(r),!0).forEach(function(n){wo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uP(n.key),n)}}function mq(e,t,r){return t&&g2(e.prototype,t),r&&g2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function yq(e,t,r){return t=_d(t),vq(e,cP()?Reflect.construct(t,r||[],_d(e).constructor):t.apply(e,r))}function vq(e,t){if(t&&(zs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xq(e)}function xq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cP=function(){return!!e})()}function _d(e){return _d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_d(e)}function bq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lm(e,t)}function lm(e,t){return lm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},lm(e,t)}function wo(e,t,r){return t=uP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uP(e){var t=wq(e,"string");return zs(t)=="symbol"?t:t+""}function wq(e,t){if(zs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ln=function(e){function t(){var r;gq(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=yq(this,t,[].concat(a)),wo(r,"state",{isAnimationFinished:!1}),wo(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0})}),wo(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1})}),wo(r,"id",Ai("recharts-scatter-")),r}return bq(t,e),mq(t,[{key:"renderSymbolsStatically",value:function(n){var a=this,o=this.props,i=o.shape,s=o.activeShape,l=o.activeIndex,c=Be(this.props,!1);return n.map(function(u,f){var h=l===f,p=h?s:i,m=zn(zn({},c),u);return M.createElement(xt,ql({className:"recharts-scatter-symbol",key:"symbol-".concat(u==null?void 0:u.cx,"-").concat(u==null?void 0:u.cy,"-").concat(u==null?void 0:u.size,"-").concat(f)},pc(a.props,u,f),{role:"img"}),M.createElement(pq,ql({option:p,isActive:h,key:"symbol-".concat(f)},m)))})}},{key:"renderSymbolsWithAnimation",value:function(){var n=this,a=this.props,o=a.points,i=a.isAnimationActive,s=a.animationBegin,l=a.animationDuration,c=a.animationEasing,u=a.animationId,f=this.state.prevPoints;return M.createElement(da,{begin:s,duration:l,isActive:i,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var p=h.t,m=o.map(function(v,x){var y=f&&f[x];if(y){var g=dr(y.cx,v.cx),b=dr(y.cy,v.cy),S=dr(y.size,v.size);return zn(zn({},v),{},{cx:g(p),cy:b(p),size:S(p)})}var w=dr(0,v.size);return zn(zn({},v),{},{size:w(p)})});return M.createElement(xt,null,n.renderSymbolsStatically(m))})}},{key:"renderSymbols",value:function(){var n=this.props,a=n.points,o=n.isAnimationActive,i=this.state.prevPoints;return o&&a&&a.length&&(!i||!wi(i,a))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(a)}},{key:"renderErrorBar",value:function(){var n=this.props.isAnimationActive;if(n&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,i=a.xAxis,s=a.yAxis,l=a.children,c=kn(l,ll);return c?c.map(function(u,f){var h=u.props,p=h.direction,m=h.dataKey;return M.cloneElement(u,{key:"".concat(p,"-").concat(m,"-").concat(o[f]),data:o,xAxis:i,yAxis:s,layout:p==="x"?"vertical":"horizontal",dataPointFormatter:function(x,y){return{x:x.cx,y:x.cy,value:p==="x"?+x.node.x:+x.node.y,errorVal:Pr(x,y)}}})}):null}},{key:"renderLine",value:function(){var n=this.props,a=n.points,o=n.line,i=n.lineType,s=n.lineJointType,l=Be(this.props,!1),c=Be(o,!1),u,f;if(i==="joint")u=a.map(function(b){return{x:b.cx,y:b.cy}});else if(i==="fitting"){var h=YT(a),p=h.xmin,m=h.xmax,v=h.a,x=h.b,y=function(S){return v*S+x};u=[{x:p,y:y(p)},{x:m,y:y(m)}]}var g=zn(zn(zn({},l),{},{fill:"none",stroke:l&&l.fill},c),{},{points:u});return M.isValidElement(o)?f=M.cloneElement(o,g):ze(o)?f=o(g):f=M.createElement(hi,ql({},g,{type:s})),M.createElement(xt,{className:"recharts-scatter-line",key:"recharts-scatter-line"},f)}},{key:"render",value:function(){var n=this.props,a=n.hide,o=n.points,i=n.line,s=n.className,l=n.xAxis,c=n.yAxis,u=n.left,f=n.top,h=n.width,p=n.height,m=n.id,v=n.isAnimationActive;if(a||!o||!o.length)return null;var x=this.state.isAnimationFinished,y=nt("recharts-scatter",s),g=l&&l.allowDataOverflow,b=c&&c.allowDataOverflow,S=g||b,w=De(m)?this.id:m;return M.createElement(xt,{className:y,clipPath:S?"url(#clipPath-".concat(w,")"):null},g||b?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(w)},M.createElement("rect",{x:g?u:u-h/2,y:b?f:f-p/2,width:g?h:h*2,height:b?p:p*2}))):null,i&&this.renderLine(),this.renderErrorBar(),M.createElement(xt,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!v||x)&&Pa.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}}])}(O.PureComponent);wo(ln,"displayName","Scatter");wo(ln,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!Io.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});wo(ln,"getComposedData",function(e){var t=e.xAxis,r=e.yAxis,n=e.zAxis,a=e.item,o=e.displayedData,i=e.xAxisTicks,s=e.yAxisTicks,l=e.offset,c=a.props.tooltipType,u=kn(a.props.children,Ly),f=De(t.dataKey)?a.props.dataKey:t.dataKey,h=De(r.dataKey)?a.props.dataKey:r.dataKey,p=n&&n.dataKey,m=n?n.range:Eh.defaultProps.range,v=m&&m[0],x=t.scale.bandwidth?t.scale.bandwidth():0,y=r.scale.bandwidth?r.scale.bandwidth():0,g=o.map(function(b,S){var w=Pr(b,f),k=Pr(b,h),j=!De(p)&&Pr(b,p)||"-",_=[{name:De(t.dataKey)?a.props.name:t.name||t.dataKey,unit:t.unit||"",value:w,payload:b,dataKey:f,type:c},{name:De(r.dataKey)?a.props.name:r.name||r.dataKey,unit:r.unit||"",value:k,payload:b,dataKey:h,type:c}];j!=="-"&&_.push({name:n.name||n.dataKey,unit:n.unit||"",value:j,payload:b,dataKey:p,type:c});var P=As({axis:t,ticks:i,bandSize:x,entry:b,index:S,dataKey:f}),A=As({axis:r,ticks:s,bandSize:y,entry:b,index:S,dataKey:h}),N=j!=="-"?n.scale(j):v,E=Math.sqrt(Math.max(N,0)/Math.PI);return zn(zn({},b),{},{cx:P,cy:A,x:P-E,y:A-E,xAxis:t,yAxis:r,zAxis:n,width:2*E,height:2*E,size:N,node:{x:w,y:k,z:j},tooltipPayload:_,tooltipPosition:{x:P,y:A},payload:b},u&&u[S]&&u[S].props)});return zn({points:g},l)});function Ws(e){"@babel/helpers - typeof";return Ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ws(e)}function kq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hP(n.key),n)}}function jq(e,t,r){return t&&Sq(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Oq(e,t,r){return t=Pd(t),_q(e,fP()?Reflect.construct(t,r||[],Pd(e).constructor):t.apply(e,r))}function _q(e,t){if(t&&(Ws(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pq(e)}function Pq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fP=function(){return!!e})()}function Pd(e){return Pd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pd(e)}function Nq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cm(e,t)}function cm(e,t){return cm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},cm(e,t)}function dP(e,t,r){return t=hP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hP(e){var t=Aq(e,"string");return Ws(t)=="symbol"?t:t+""}function Aq(e,t){if(Ws(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ws(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function um(){return um=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},um.apply(this,arguments)}function Mq(e){var t=e.xAxisId,r=pv(),n=gv(),a=W_(t);return a==null?null:O.createElement(cl,um({},a,{className:nt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(i){return Ga(i,!0)}}))}var ha=function(e){function t(){return kq(this,t),Oq(this,t,arguments)}return Nq(t,e),jq(t,[{key:"render",value:function(){return O.createElement(Mq,this.props)}}])}(O.Component);dP(ha,"displayName","XAxis");dP(ha,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Us(e){"@babel/helpers - typeof";return Us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Us(e)}function Cq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Eq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mP(n.key),n)}}function Tq(e,t,r){return t&&Eq(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $q(e,t,r){return t=Nd(t),Dq(e,pP()?Reflect.construct(t,r||[],Nd(e).constructor):t.apply(e,r))}function Dq(e,t){if(t&&(Us(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rq(e)}function Rq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pP=function(){return!!e})()}function Nd(e){return Nd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nd(e)}function Lq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fm(e,t)}function fm(e,t){return fm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},fm(e,t)}function gP(e,t,r){return t=mP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mP(e){var t=Iq(e,"string");return Us(t)=="symbol"?t:t+""}function Iq(e,t){if(Us(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Us(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function dm(){return dm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dm.apply(this,arguments)}var Bq=function(t){var r=t.yAxisId,n=pv(),a=gv(),o=U_(r);return o==null?null:O.createElement(cl,dm({},o,{className:nt("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(s){return Ga(s,!0)}}))},pa=function(e){function t(){return Cq(this,t),$q(this,t,arguments)}return Lq(t,e),Tq(t,[{key:"render",value:function(){return O.createElement(Bq,this.props)}}])}(O.Component);gP(pa,"displayName","YAxis");gP(pa,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function m2(e){return Uq(e)||Wq(e)||zq(e)||Fq()}function Fq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zq(e,t){if(e){if(typeof e=="string")return hm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hm(e,t)}}function Wq(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Uq(e){if(Array.isArray(e))return hm(e)}function hm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var pm=function(t,r,n,a,o){var i=kn(t,ii),s=kn(t,Mh),l=[].concat(m2(i),m2(s)),c=kn(t,lu),u="".concat(a,"Id"),f=a[0],h=r;if(l.length&&(h=l.reduce(function(v,x){if(x.props[u]===n&&Na(x.props,"extendDomain")&&oe(x.props[f])){var y=x.props[f];return[Math.min(v[0],y),Math.max(v[1],y)]}return v},h)),c.length){var p="".concat(f,"1"),m="".concat(f,"2");h=c.reduce(function(v,x){if(x.props[u]===n&&Na(x.props,"extendDomain")&&oe(x.props[p])&&oe(x.props[m])){var y=x.props[p],g=x.props[m];return[Math.min(v[0],y,g),Math.max(v[1],y,g)]}return v},h)}return o&&o.length&&(h=o.reduce(function(v,x){return oe(x)?[Math.min(v[0],x),Math.max(v[1],x)]:v},h)),h},yP={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function o(l,c,u,f,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new a(u,f||l,h),m=r?r+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function i(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)t.call(u,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},s.prototype.listeners=function(c){var u=r?r+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,m=new Array(p);h<p;h++)m[h]=f[h].fn;return m},s.prototype.listenerCount=function(c){var u=r?r+c:c,f=this._events[u];return f?f.fn?1:f.length:0},s.prototype.emit=function(c,u,f,h,p,m){var v=r?r+c:c;if(!this._events[v])return!1;var x=this._events[v],y=arguments.length,g,b;if(x.fn){switch(x.once&&this.removeListener(c,x.fn,void 0,!0),y){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,u),!0;case 3:return x.fn.call(x.context,u,f),!0;case 4:return x.fn.call(x.context,u,f,h),!0;case 5:return x.fn.call(x.context,u,f,h,p),!0;case 6:return x.fn.call(x.context,u,f,h,p,m),!0}for(b=1,g=new Array(y-1);b<y;b++)g[b-1]=arguments[b];x.fn.apply(x.context,g)}else{var S=x.length,w;for(b=0;b<S;b++)switch(x[b].once&&this.removeListener(c,x[b].fn,void 0,!0),y){case 1:x[b].fn.call(x[b].context);break;case 2:x[b].fn.call(x[b].context,u);break;case 3:x[b].fn.call(x[b].context,u,f);break;case 4:x[b].fn.call(x[b].context,u,f,h);break;default:if(!g)for(w=1,g=new Array(y-1);w<y;w++)g[w-1]=arguments[w];x[b].fn.apply(x[b].context,g)}}return!0},s.prototype.on=function(c,u,f){return o(this,c,u,f,!1)},s.prototype.once=function(c,u,f){return o(this,c,u,f,!0)},s.prototype.removeListener=function(c,u,f,h){var p=r?r+c:c;if(!this._events[p])return this;if(!u)return i(this,p),this;var m=this._events[p];if(m.fn)m.fn===u&&(!h||m.once)&&(!f||m.context===f)&&i(this,p);else{for(var v=0,x=[],y=m.length;v<y;v++)(m[v].fn!==u||h&&!m[v].once||f&&m[v].context!==f)&&x.push(m[v]);x.length?this._events[p]=x.length===1?x[0]:x:i(this,p)}return this},s.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&i(this,u)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s})(yP);var Gq=yP.exports;const Hq=It(Gq);var Bp=new Hq,Fp="recharts.syncMouseEvents";function Xc(e){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xc(e)}function Vq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vP(n.key),n)}}function Xq(e,t,r){return t&&Kq(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zp(e,t,r){return t=vP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vP(e){var t=Yq(e,"string");return Xc(t)=="symbol"?t:t+""}function Yq(e,t){if(Xc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var qq=function(){function e(){Vq(this,e),zp(this,"activeIndex",0),zp(this,"coordinateList",[]),zp(this,"layout","horizontal")}return Xq(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,o=a===void 0?null:a,i=r.container,s=i===void 0?null:i,l=r.layout,c=l===void 0?null:l,u=r.offset,f=u===void 0?null:u,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=o??this.coordinateList)!==null&&n!==void 0?n:[],this.container=s??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),o=a.x,i=a.y,s=a.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=o+l+c,h=i+this.offset.top+s/2+u;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function Zq(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&oe(n)&&oe(a))return!0}return!1}function Qq(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function xP(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,o=e.endAngle,i=Fr(t,r,n,a),s=Fr(t,r,n,o);return{points:[i,s],cx:t,cy:r,radius:n,startAngle:a,endAngle:o}}function Jq(e,t,r){var n,a,o,i;if(e==="horizontal")n=t.x,o=n,a=r.top,i=r.top+r.height;else if(e==="vertical")a=t.y,i=a,n=r.left,o=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var s=t.cx,l=t.cy,c=t.innerRadius,u=t.outerRadius,f=t.angle,h=Fr(s,l,c,f),p=Fr(s,l,u,f);n=h.x,a=h.y,o=p.x,i=p.y}else return xP(t);return[{x:n,y:a},{x:o,y:i}]}function Yc(e){"@babel/helpers - typeof";return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yc(e)}function y2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y2(Object(r),!0).forEach(function(n){eZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eZ(e,t,r){return t=tZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tZ(e){var t=rZ(e,"string");return Yc(t)=="symbol"?t:t+""}function rZ(e,t){if(Yc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nZ(e){var t,r,n=e.element,a=e.tooltipEventType,o=e.isActive,i=e.activeCoordinate,s=e.activePayload,l=e.offset,c=e.activeTooltipIndex,u=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!o||!i||h!=="ScatterChart"&&a!=="axis")return null;var m,v=hi;if(h==="ScatterChart")m=i,v=AH;else if(h==="BarChart")m=Qq(f,i,l,u),v=cv;else if(f==="radial"){var x=xP(i),y=x.cx,g=x.cy,b=x.radius,S=x.startAngle,w=x.endAngle;m={cx:y,cy:g,startAngle:S,endAngle:w,innerRadius:b,outerRadius:b},v=p_}else m={points:Jq(f,i,l)},v=hi;var k=Wu(Wu(Wu(Wu({stroke:"#ccc",pointerEvents:"none"},l),m),Be(p,!1)),{},{payload:s,payloadIndex:c,className:nt("recharts-tooltip-cursor",p.className)});return O.isValidElement(p)?O.cloneElement(p,k):O.createElement(v,k)}var aZ=["item"],oZ=["children","className","width","height","style","compact","title","desc"];function Gs(e){"@babel/helpers - typeof";return Gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gs(e)}function rs(){return rs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rs.apply(this,arguments)}function v2(e,t){return lZ(e)||sZ(e,t)||wP(e,t)||iZ()}function iZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sZ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function lZ(e){if(Array.isArray(e))return e}function x2(e,t){if(e==null)return{};var r=cZ(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cZ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function uZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fZ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kP(n.key),n)}}function dZ(e,t,r){return t&&fZ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hZ(e,t,r){return t=Ad(t),pZ(e,bP()?Reflect.construct(t,r||[],Ad(e).constructor):t.apply(e,r))}function pZ(e,t){if(t&&(Gs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gZ(e)}function gZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bP=function(){return!!e})()}function Ad(e){return Ad=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ad(e)}function mZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gm(e,t)}function gm(e,t){return gm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},gm(e,t)}function Hs(e){return xZ(e)||vZ(e)||wP(e)||yZ()}function yZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wP(e,t){if(e){if(typeof e=="string")return mm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mm(e,t)}}function vZ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xZ(e){if(Array.isArray(e))return mm(e)}function mm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function b2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Y(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b2(Object(r),!0).forEach(function(n){Ce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ce(e,t,r){return t=kP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kP(e){var t=bZ(e,"string");return Gs(t)=="symbol"?t:t+""}function bZ(e,t){if(Gs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wZ={xAxis:["bottom","top"],yAxis:["left","right"]},kZ={width:"100%",height:"100%"},SP={x:0,y:0};function Uu(e){return e}var SZ=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},jZ=function(t,r,n,a){var o=r.find(function(u){return u&&u.index===n});if(o){if(t==="horizontal")return{x:o.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:o.coordinate};if(t==="centric"){var i=o.coordinate,s=a.radius;return Y(Y(Y({},a),Fr(a.cx,a.cy,s,i)),{},{angle:i,radius:s})}var l=o.coordinate,c=a.angle;return Y(Y(Y({},a),Fr(a.cx,a.cy,l,c)),{},{angle:c,radius:l})}return SP},Th=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,o=r.dataEndIndex,i=(n??[]).reduce(function(s,l){var c=l.props.data;return c&&c.length?[].concat(Hs(s),Hs(c)):s},[]);return i.length>0?i:t&&t.length&&oe(a)&&oe(o)?t.slice(a,o+1):[]};function jP(e){return e==="number"?[0,"auto"]:void 0}var ym=function(t,r,n,a){var o=t.graphicalItems,i=t.tooltipAxis,s=Th(r,t);return n<0||!o||!o.length||n>=s.length?null:o.reduce(function(l,c){var u,f=(u=c.props.data)!==null&&u!==void 0?u:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(i.dataKey&&!i.allowDuplicatedCategory){var p=f===void 0?s:f;h=Nf(p,i.dataKey,a)}else h=f&&f[n]||s[n];return h?[].concat(Hs(l),[f_(c,h)]):l},[])},w2=function(t,r,n,a){var o=a||{x:t.chartX,y:t.chartY},i=SZ(o,n),s=t.orderedTooltipTicks,l=t.tooltipAxis,c=t.tooltipTicks,u=sW(i,s,c,l);if(u>=0&&c){var f=c[u]&&c[u].value,h=ym(t,r,u,f),p=jZ(n,s,u,o);return{activeTooltipIndex:u,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},OZ=function(t,r){var n=r.axes,a=r.graphicalItems,o=r.axisType,i=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.layout,f=t.children,h=t.stackOffset,p=l_(u,o);return n.reduce(function(m,v){var x,y=v.type.defaultProps!==void 0?Y(Y({},v.type.defaultProps),v.props):v.props,g=y.type,b=y.dataKey,S=y.allowDataOverflow,w=y.allowDuplicatedCategory,k=y.scale,j=y.ticks,_=y.includeHidden,P=y[i];if(m[P])return m;var A=Th(t.data,{graphicalItems:a.filter(function(q){var H,U=i in q.props?q.props[i]:(H=q.type.defaultProps)===null||H===void 0?void 0:H[i];return U===P}),dataStartIndex:l,dataEndIndex:c}),N=A.length,E,F,I;Zq(y.domain,S,g)&&(E=Cg(y.domain,null,S),p&&(g==="number"||k!=="auto")&&(I=Vl(A,b,"category")));var T=jP(g);if(!E||E.length===0){var R,W=(R=y.domain)!==null&&R!==void 0?R:T;if(b){if(E=Vl(A,b,g),g==="category"&&p){var L=XT(E);w&&L?(F=E,E=hd(0,N)):w||(E=Q1(W,E,v).reduce(function(q,H){return q.indexOf(H)>=0?q:[].concat(Hs(q),[H])},[]))}else if(g==="category")w?E=E.filter(function(q){return q!==""&&!De(q)}):E=Q1(W,E,v).reduce(function(q,H){return q.indexOf(H)>=0||H===""||De(H)?q:[].concat(Hs(q),[H])},[]);else if(g==="number"){var D=dW(A,a.filter(function(q){var H,U,ue=i in q.props?q.props[i]:(H=q.type.defaultProps)===null||H===void 0?void 0:H[i],fe="hide"in q.props?q.props.hide:(U=q.type.defaultProps)===null||U===void 0?void 0:U.hide;return ue===P&&(_||!fe)}),b,o,u);D&&(E=D)}p&&(g==="number"||k!=="auto")&&(I=Vl(A,b,"category"))}else p?E=hd(0,N):s&&s[P]&&s[P].hasStack&&g==="number"?E=h==="expand"?[0,1]:u_(s[P].stackGroups,l,c):E=s_(A,a.filter(function(q){var H=i in q.props?q.props[i]:q.type.defaultProps[i],U="hide"in q.props?q.props.hide:q.type.defaultProps.hide;return H===P&&(_||!U)}),g,u,!0);if(g==="number")E=pm(f,E,P,o,j),W&&(E=Cg(W,E,S));else if(g==="category"&&W){var B=W,J=E.every(function(q){return B.indexOf(q)>=0});J&&(E=B)}}return Y(Y({},m),{},Ce({},P,Y(Y({},y),{},{axisType:o,domain:E,categoricalDomain:I,duplicateDomain:F,originalDomain:(x=y.domain)!==null&&x!==void 0?x:T,isCategorical:p,layout:u})))},{})},_Z=function(t,r){var n=r.graphicalItems,a=r.Axis,o=r.axisType,i=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.layout,f=t.children,h=Th(t.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),p=h.length,m=l_(u,o),v=-1;return n.reduce(function(x,y){var g=y.type.defaultProps!==void 0?Y(Y({},y.type.defaultProps),y.props):y.props,b=g[i],S=jP("number");if(!x[b]){v++;var w;return m?w=hd(0,p):s&&s[b]&&s[b].hasStack?(w=u_(s[b].stackGroups,l,c),w=pm(f,w,b,o)):(w=Cg(S,s_(h,n.filter(function(k){var j,_,P=i in k.props?k.props[i]:(j=k.type.defaultProps)===null||j===void 0?void 0:j[i],A="hide"in k.props?k.props.hide:(_=k.type.defaultProps)===null||_===void 0?void 0:_.hide;return P===b&&!A}),"number",u),a.defaultProps.allowDataOverflow),w=pm(f,w,b,o)),Y(Y({},x),{},Ce({},b,Y(Y({axisType:o},a.defaultProps),{},{hide:!0,orientation:Xn(wZ,"".concat(o,".").concat(v%2),null),domain:w,originalDomain:S,isCategorical:m,layout:u})))}return x},{})},PZ=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,o=r.AxisComp,i=r.graphicalItems,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.children,f="".concat(a,"Id"),h=kn(u,o),p={};return h&&h.length?p=OZ(t,{axes:h,graphicalItems:i,axisType:a,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:c}):i&&i.length&&(p=_Z(t,{Axis:o,graphicalItems:i,axisType:a,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:c})),p},NZ=function(t){var r=mo(t),n=Ga(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Dy(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:nd(r,n)}},k2=function(t){var r=t.children,n=t.defaultShowTooltip,a=Mn(r,Es),o=0,i=0;return t.data&&t.data.length!==0&&(i=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(o=a.props.startIndex),a.props.endIndex>=0&&(i=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:i,activeTooltipIndex:-1,isTooltipActive:!!n}},AZ=function(t){return!t||!t.length?!1:t.some(function(r){var n=Va(r&&r.type);return n&&n.indexOf("Bar")>=0})},S2=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},MZ=function(t,r){var n=t.props,a=t.graphicalItems,o=t.xAxisMap,i=o===void 0?{}:o,s=t.yAxisMap,l=s===void 0?{}:s,c=n.width,u=n.height,f=n.children,h=n.margin||{},p=Mn(f,Es),m=Mn(f,Xa),v=Object.keys(l).reduce(function(w,k){var j=l[k],_=j.orientation;return!j.mirror&&!j.hide?Y(Y({},w),{},Ce({},_,w[_]+j.width)):w},{left:h.left||0,right:h.right||0}),x=Object.keys(i).reduce(function(w,k){var j=i[k],_=j.orientation;return!j.mirror&&!j.hide?Y(Y({},w),{},Ce({},_,Xn(w,"".concat(_))+j.height)):w},{top:h.top||0,bottom:h.bottom||0}),y=Y(Y({},x),v),g=y.bottom;p&&(y.bottom+=p.props.height||Es.defaultProps.height),m&&r&&(y=uW(y,a,n,r));var b=c-y.left-y.right,S=u-y.top-y.bottom;return Y(Y({brushBottom:g},y),{},{width:Math.max(b,0),height:Math.max(S,0)})},CZ=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},xv=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,o=a===void 0?"axis":a,i=t.validateTooltipEventTypes,s=i===void 0?["axis"]:i,l=t.axisComponents,c=t.legendContent,u=t.formatAxisMap,f=t.defaultProps,h=function(y,g){var b=g.graphicalItems,S=g.stackGroups,w=g.offset,k=g.updateId,j=g.dataStartIndex,_=g.dataEndIndex,P=y.barSize,A=y.layout,N=y.barGap,E=y.barCategoryGap,F=y.maxBarSize,I=S2(A),T=I.numericAxisName,R=I.cateAxisName,W=AZ(b),L=[];return b.forEach(function(D,B){var J=Th(y.data,{graphicalItems:[D],dataStartIndex:j,dataEndIndex:_}),q=D.type.defaultProps!==void 0?Y(Y({},D.type.defaultProps),D.props):D.props,H=q.dataKey,U=q.maxBarSize,ue=q["".concat(T,"Id")],fe=q["".concat(R,"Id")],be={},ve=l.reduce(function(at,sr){var lr=g["".concat(sr.axisType,"Map")],Dr=q["".concat(sr.axisType,"Id")];lr&&lr[Dr]||sr.axisType==="zAxis"||Si();var Zt=lr[Dr];return Y(Y({},at),{},Ce(Ce({},sr.axisType,Zt),"".concat(sr.axisType,"Ticks"),Ga(Zt)))},be),G=ve[R],ce=ve["".concat(R,"Ticks")],me=S&&S[ue]&&S[ue].hasStack&&jW(D,S[ue].stackGroups),Z=Va(D.type).indexOf("Bar")>=0,We=nd(G,ce),_e=[],st=W&&lW({barSize:P,stackGroups:S,totalSize:CZ(ve,R)});if(Z){var qe,bt,hr=De(U)?F:U,pt=(qe=(bt=nd(G,ce,!0))!==null&&bt!==void 0?bt:hr)!==null&&qe!==void 0?qe:0;_e=cW({barGap:N,barCategoryGap:E,bandSize:pt!==We?pt:We,sizeList:st[fe],maxBarSize:hr}),pt!==We&&(_e=_e.map(function(at){return Y(Y({},at),{},{position:Y(Y({},at.position),{},{offset:at.position.offset-pt/2})})}))}var Ur=D&&D.type&&D.type.getComposedData;Ur&&L.push({props:Y(Y({},Ur(Y(Y({},ve),{},{displayedData:J,props:y,dataKey:H,item:D,bandSize:We,barPosition:_e,offset:w,stackedData:me,layout:A,dataStartIndex:j,dataEndIndex:_}))),{},Ce(Ce(Ce({key:D.key||"item-".concat(B)},T,ve[T]),R,ve[R]),"animationId",k)),childIndex:s5(D,y.children),item:D})}),L},p=function(y,g){var b=y.props,S=y.dataStartIndex,w=y.dataEndIndex,k=y.updateId;if(!Vx({props:b}))return null;var j=b.children,_=b.layout,P=b.stackOffset,A=b.data,N=b.reverseStackOrder,E=S2(_),F=E.numericAxisName,I=E.cateAxisName,T=kn(j,n),R=wW(A,T,"".concat(F,"Id"),"".concat(I,"Id"),P,N),W=l.reduce(function(q,H){var U="".concat(H.axisType,"Map");return Y(Y({},q),{},Ce({},U,PZ(b,Y(Y({},H),{},{graphicalItems:T,stackGroups:H.axisType===F&&R,dataStartIndex:S,dataEndIndex:w}))))},{}),L=MZ(Y(Y({},W),{},{props:b,graphicalItems:T}),g==null?void 0:g.legendBBox);Object.keys(W).forEach(function(q){W[q]=u(b,W[q],L,q.replace("Map",""),r)});var D=W["".concat(I,"Map")],B=NZ(D),J=h(b,Y(Y({},W),{},{dataStartIndex:S,dataEndIndex:w,updateId:k,graphicalItems:T,stackGroups:R,offset:L}));return Y(Y({formattedGraphicalItems:J,graphicalItems:T,offset:L,stackGroups:R},B),W)},m=function(x){function y(g){var b,S,w;return uZ(this,y),w=hZ(this,y,[g]),Ce(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ce(w,"accessibilityManager",new qq),Ce(w,"handleLegendBBoxUpdate",function(k){if(k){var j=w.state,_=j.dataStartIndex,P=j.dataEndIndex,A=j.updateId;w.setState(Y({legendBBox:k},p({props:w.props,dataStartIndex:_,dataEndIndex:P,updateId:A},Y(Y({},w.state),{},{legendBBox:k}))))}}),Ce(w,"handleReceiveSyncEvent",function(k,j,_){if(w.props.syncId===k){if(_===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(j)}}),Ce(w,"handleBrushChange",function(k){var j=k.startIndex,_=k.endIndex;if(j!==w.state.dataStartIndex||_!==w.state.dataEndIndex){var P=w.state.updateId;w.setState(function(){return Y({dataStartIndex:j,dataEndIndex:_},p({props:w.props,dataStartIndex:j,dataEndIndex:_,updateId:P},w.state))}),w.triggerSyncEvent({dataStartIndex:j,dataEndIndex:_})}}),Ce(w,"handleMouseEnter",function(k){var j=w.getMouseInfo(k);if(j){var _=Y(Y({},j),{},{isTooltipActive:!0});w.setState(_),w.triggerSyncEvent(_);var P=w.props.onMouseEnter;ze(P)&&P(_,k)}}),Ce(w,"triggeredAfterMouseMove",function(k){var j=w.getMouseInfo(k),_=j?Y(Y({},j),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(_),w.triggerSyncEvent(_);var P=w.props.onMouseMove;ze(P)&&P(_,k)}),Ce(w,"handleItemMouseEnter",function(k){w.setState(function(){return{isTooltipActive:!0,activeItem:k,activePayload:k.tooltipPayload,activeCoordinate:k.tooltipPosition||{x:k.cx,y:k.cy}}})}),Ce(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),Ce(w,"handleMouseMove",function(k){k.persist(),w.throttleTriggeredAfterMouseMove(k)}),Ce(w,"handleMouseLeave",function(k){w.throttleTriggeredAfterMouseMove.cancel();var j={isTooltipActive:!1};w.setState(j),w.triggerSyncEvent(j);var _=w.props.onMouseLeave;ze(_)&&_(j,k)}),Ce(w,"handleOuterEvent",function(k){var j=i5(k),_=Xn(w.props,"".concat(j));if(j&&ze(_)){var P,A;/.*touch.*/i.test(j)?A=w.getMouseInfo(k.changedTouches[0]):A=w.getMouseInfo(k),_((P=A)!==null&&P!==void 0?P:{},k)}}),Ce(w,"handleClick",function(k){var j=w.getMouseInfo(k);if(j){var _=Y(Y({},j),{},{isTooltipActive:!0});w.setState(_),w.triggerSyncEvent(_);var P=w.props.onClick;ze(P)&&P(_,k)}}),Ce(w,"handleMouseDown",function(k){var j=w.props.onMouseDown;if(ze(j)){var _=w.getMouseInfo(k);j(_,k)}}),Ce(w,"handleMouseUp",function(k){var j=w.props.onMouseUp;if(ze(j)){var _=w.getMouseInfo(k);j(_,k)}}),Ce(w,"handleTouchMove",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(k.changedTouches[0])}),Ce(w,"handleTouchStart",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&w.handleMouseDown(k.changedTouches[0])}),Ce(w,"handleTouchEnd",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&w.handleMouseUp(k.changedTouches[0])}),Ce(w,"handleDoubleClick",function(k){var j=w.props.onDoubleClick;if(ze(j)){var _=w.getMouseInfo(k);j(_,k)}}),Ce(w,"handleContextMenu",function(k){var j=w.props.onContextMenu;if(ze(j)){var _=w.getMouseInfo(k);j(_,k)}}),Ce(w,"triggerSyncEvent",function(k){w.props.syncId!==void 0&&Bp.emit(Fp,w.props.syncId,k,w.eventEmitterSymbol)}),Ce(w,"applySyncEvent",function(k){var j=w.props,_=j.layout,P=j.syncMethod,A=w.state.updateId,N=k.dataStartIndex,E=k.dataEndIndex;if(k.dataStartIndex!==void 0||k.dataEndIndex!==void 0)w.setState(Y({dataStartIndex:N,dataEndIndex:E},p({props:w.props,dataStartIndex:N,dataEndIndex:E,updateId:A},w.state)));else if(k.activeTooltipIndex!==void 0){var F=k.chartX,I=k.chartY,T=k.activeTooltipIndex,R=w.state,W=R.offset,L=R.tooltipTicks;if(!W)return;if(typeof P=="function")T=P(L,k);else if(P==="value"){T=-1;for(var D=0;D<L.length;D++)if(L[D].value===k.activeLabel){T=D;break}}var B=Y(Y({},W),{},{x:W.left,y:W.top}),J=Math.min(F,B.x+B.width),q=Math.min(I,B.y+B.height),H=L[T]&&L[T].value,U=ym(w.state,w.props.data,T),ue=L[T]?{x:_==="horizontal"?L[T].coordinate:J,y:_==="horizontal"?q:L[T].coordinate}:SP;w.setState(Y(Y({},k),{},{activeLabel:H,activeCoordinate:ue,activePayload:U,activeTooltipIndex:T}))}else w.setState(k)}),Ce(w,"renderCursor",function(k){var j,_=w.state,P=_.isTooltipActive,A=_.activeCoordinate,N=_.activePayload,E=_.offset,F=_.activeTooltipIndex,I=_.tooltipAxisBandSize,T=w.getTooltipEventType(),R=(j=k.props.active)!==null&&j!==void 0?j:P,W=w.props.layout,L=k.key||"_recharts-cursor";return M.createElement(nZ,{key:L,activeCoordinate:A,activePayload:N,activeTooltipIndex:F,chartName:r,element:k,isActive:R,layout:W,offset:E,tooltipAxisBandSize:I,tooltipEventType:T})}),Ce(w,"renderPolarAxis",function(k,j,_){var P=Xn(k,"type.axisType"),A=Xn(w.state,"".concat(P,"Map")),N=k.type.defaultProps,E=N!==void 0?Y(Y({},N),k.props):k.props,F=A&&A[E["".concat(P,"Id")]];return O.cloneElement(k,Y(Y({},F),{},{className:nt(P,F.className),key:k.key||"".concat(j,"-").concat(_),ticks:Ga(F,!0)}))}),Ce(w,"renderPolarGrid",function(k){var j=k.props,_=j.radialLines,P=j.polarAngles,A=j.polarRadius,N=w.state,E=N.radiusAxisMap,F=N.angleAxisMap,I=mo(E),T=mo(F),R=T.cx,W=T.cy,L=T.innerRadius,D=T.outerRadius;return O.cloneElement(k,{polarAngles:Array.isArray(P)?P:Ga(T,!0).map(function(B){return B.coordinate}),polarRadius:Array.isArray(A)?A:Ga(I,!0).map(function(B){return B.coordinate}),cx:R,cy:W,innerRadius:L,outerRadius:D,key:k.key||"polar-grid",radialLines:_})}),Ce(w,"renderLegend",function(){var k=w.state.formattedGraphicalItems,j=w.props,_=j.children,P=j.width,A=j.height,N=w.props.margin||{},E=P-(N.left||0)-(N.right||0),F=o_({children:_,formattedGraphicalItems:k,legendWidth:E,legendContent:c});if(!F)return null;var I=F.item,T=x2(F,aZ);return O.cloneElement(I,Y(Y({},T),{},{chartWidth:P,chartHeight:A,margin:N,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),Ce(w,"renderTooltip",function(){var k,j=w.props,_=j.children,P=j.accessibilityLayer,A=Mn(_,un);if(!A)return null;var N=w.state,E=N.isTooltipActive,F=N.activeCoordinate,I=N.activePayload,T=N.activeLabel,R=N.offset,W=(k=A.props.active)!==null&&k!==void 0?k:E;return O.cloneElement(A,{viewBox:Y(Y({},R),{},{x:R.left,y:R.top}),active:W,label:T,payload:W?I:[],coordinate:F,accessibilityLayer:P})}),Ce(w,"renderBrush",function(k){var j=w.props,_=j.margin,P=j.data,A=w.state,N=A.offset,E=A.dataStartIndex,F=A.dataEndIndex,I=A.updateId;return O.cloneElement(k,{key:k.key||"_recharts-brush",onChange:Iu(w.handleBrushChange,k.props.onChange),data:P,x:oe(k.props.x)?k.props.x:N.left,y:oe(k.props.y)?k.props.y:N.top+N.height+N.brushBottom-(_.bottom||0),width:oe(k.props.width)?k.props.width:N.width,startIndex:E,endIndex:F,updateId:"brush-".concat(I)})}),Ce(w,"renderReferenceElement",function(k,j,_){if(!k)return null;var P=w,A=P.clipPathId,N=w.state,E=N.xAxisMap,F=N.yAxisMap,I=N.offset,T=k.type.defaultProps||{},R=k.props,W=R.xAxisId,L=W===void 0?T.xAxisId:W,D=R.yAxisId,B=D===void 0?T.yAxisId:D;return O.cloneElement(k,{key:k.key||"".concat(j,"-").concat(_),xAxis:E[L],yAxis:F[B],viewBox:{x:I.left,y:I.top,width:I.width,height:I.height},clipPathId:A})}),Ce(w,"renderActivePoints",function(k){var j=k.item,_=k.activePoint,P=k.basePoint,A=k.childIndex,N=k.isRange,E=[],F=j.props.key,I=j.item.type.defaultProps!==void 0?Y(Y({},j.item.type.defaultProps),j.item.props):j.item.props,T=I.activeDot,R=I.dataKey,W=Y(Y({index:A,dataKey:R,cx:_.x,cy:_.y,r:4,fill:lv(j.item),strokeWidth:2,stroke:"#fff",payload:_.payload,value:_.value},Be(T,!1)),Af(T));return E.push(y.renderActiveDot(T,W,"".concat(F,"-activePoint-").concat(A))),P?E.push(y.renderActiveDot(T,Y(Y({},W),{},{cx:P.x,cy:P.y}),"".concat(F,"-basePoint-").concat(A))):N&&E.push(null),E}),Ce(w,"renderGraphicChild",function(k,j,_){var P=w.filterFormatItem(k,j,_);if(!P)return null;var A=w.getTooltipEventType(),N=w.state,E=N.isTooltipActive,F=N.tooltipAxis,I=N.activeTooltipIndex,T=N.activeLabel,R=w.props.children,W=Mn(R,un),L=P.props,D=L.points,B=L.isRange,J=L.baseLine,q=P.item.type.defaultProps!==void 0?Y(Y({},P.item.type.defaultProps),P.item.props):P.item.props,H=q.activeDot,U=q.hide,ue=q.activeBar,fe=q.activeShape,be=!!(!U&&E&&W&&(H||ue||fe)),ve={};A!=="axis"&&W&&W.props.trigger==="click"?ve={onClick:Iu(w.handleItemMouseEnter,k.props.onClick)}:A!=="axis"&&(ve={onMouseLeave:Iu(w.handleItemMouseLeave,k.props.onMouseLeave),onMouseEnter:Iu(w.handleItemMouseEnter,k.props.onMouseEnter)});var G=O.cloneElement(k,Y(Y({},P.props),ve));function ce(sr){return typeof F.dataKey=="function"?F.dataKey(sr.payload):null}if(be)if(I>=0){var me,Z;if(F.dataKey&&!F.allowDuplicatedCategory){var We=typeof F.dataKey=="function"?ce:"payload.".concat(F.dataKey.toString());me=Nf(D,We,T),Z=B&&J&&Nf(J,We,T)}else me=D==null?void 0:D[I],Z=B&&J&&J[I];if(fe||ue){var _e=k.props.activeIndex!==void 0?k.props.activeIndex:I;return[O.cloneElement(k,Y(Y(Y({},P.props),ve),{},{activeIndex:_e})),null,null]}if(!De(me))return[G].concat(Hs(w.renderActivePoints({item:P,activePoint:me,basePoint:Z,childIndex:I,isRange:B})))}else{var st,qe=(st=w.getItemByXY(w.state.activeCoordinate))!==null&&st!==void 0?st:{graphicalItem:G},bt=qe.graphicalItem,hr=bt.item,pt=hr===void 0?k:hr,Ur=bt.childIndex,at=Y(Y(Y({},P.props),ve),{},{activeIndex:Ur});return[O.cloneElement(pt,at),null,null]}return B?[G,null,null]:[G,null]}),Ce(w,"renderCustomized",function(k,j,_){return O.cloneElement(k,Y(Y({key:"recharts-customized-".concat(_)},w.props),w.state))}),Ce(w,"renderMap",{CartesianGrid:{handler:Uu,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:Uu},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:Uu},YAxis:{handler:Uu},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((b=g.id)!==null&&b!==void 0?b:Ai("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=oO(w.triggeredAfterMouseMove,(S=g.throttleDelay)!==null&&S!==void 0?S:1e3/60),w.state={},w}return mZ(y,x),dZ(y,[{key:"componentDidMount",value:function(){var b,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,S=b.children,w=b.data,k=b.height,j=b.layout,_=Mn(S,un);if(_){var P=_.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var A=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,N=ym(this.state,w,P,A),E=this.state.tooltipTicks[P].coordinate,F=(this.state.offset.top+k)/2,I=j==="horizontal",T=I?{x:E,y:F}:{y:E,x:F},R=this.state.formattedGraphicalItems.find(function(L){var D=L.item;return D.type.name==="Scatter"});R&&(T=Y(Y({},T),R.props.points[P].tooltipPosition),N=R.props.points[P].tooltipPayload);var W={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:A,activePayload:N,activeCoordinate:T};this.setState(W),this.renderCursor(_),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var w,k;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0}})}return null}},{key:"componentDidUpdate",value:function(b){V0([Mn(b.children,un)],[Mn(this.props.children,un)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=Mn(this.props.children,un);if(b&&typeof b.props.shared=="boolean"){var S=b.props.shared?"axis":"item";return s.indexOf(S)>=0?S:o}return o}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var S=this.container,w=S.getBoundingClientRect(),k=T8(w),j={chartX:Math.round(b.pageX-k.left),chartY:Math.round(b.pageY-k.top)},_=w.width/S.offsetWidth||1,P=this.inRange(j.chartX,j.chartY,_);if(!P)return null;var A=this.state,N=A.xAxisMap,E=A.yAxisMap,F=this.getTooltipEventType(),I=w2(this.state,this.props.data,this.props.layout,P);if(F!=="axis"&&N&&E){var T=mo(N).scale,R=mo(E).scale,W=T&&T.invert?T.invert(j.chartX):null,L=R&&R.invert?R.invert(j.chartY):null;return Y(Y({},j),{},{xValue:W,yValue:L},I)}return I?Y(Y({},j),I):null}},{key:"inRange",value:function(b,S){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,k=this.props.layout,j=b/w,_=S/w;if(k==="horizontal"||k==="vertical"){var P=this.state.offset,A=j>=P.left&&j<=P.left+P.width&&_>=P.top&&_<=P.top+P.height;return A?{x:j,y:_}:null}var N=this.state,E=N.angleAxisMap,F=N.radiusAxisMap;if(E&&F){var I=mo(E);return tw({x:j,y:_},I)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,S=this.getTooltipEventType(),w=Mn(b,un),k={};w&&S==="axis"&&(w.props.trigger==="click"?k={onClick:this.handleClick}:k={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var j=Af(this.props,this.handleOuterEvent);return Y(Y({},j),k)}},{key:"addListener",value:function(){Bp.on(Fp,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Bp.removeListener(Fp,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,S,w){for(var k=this.state.formattedGraphicalItems,j=0,_=k.length;j<_;j++){var P=k[j];if(P.item===b||P.props.key===b.key||S===Va(P.item.type)&&w===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,S=this.state.offset,w=S.left,k=S.top,j=S.height,_=S.width;return M.createElement("defs",null,M.createElement("clipPath",{id:b},M.createElement("rect",{x:w,y:k,height:j,width:_})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(S,w){var k=v2(w,2),j=k[0],_=k[1];return Y(Y({},S),{},Ce({},j,_.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(S,w){var k=v2(w,2),j=k[0],_=k[1];return Y(Y({},S),{},Ce({},j,_.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[b])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(b){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[b])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(b){var S=this.state,w=S.formattedGraphicalItems,k=S.activeItem;if(w&&w.length)for(var j=0,_=w.length;j<_;j++){var P=w[j],A=P.props,N=P.item,E=N.type.defaultProps!==void 0?Y(Y({},N.type.defaultProps),N.props):N.props,F=Va(N.type);if(F==="Bar"){var I=(A.data||[]).find(function(L){return xH(b,L)});if(I)return{graphicalItem:P,payload:I}}else if(F==="RadialBar"){var T=(A.data||[]).find(function(L){return tw(b,L)});if(T)return{graphicalItem:P,payload:T}}else if(_h(P,k)||Ph(P,k)||Uc(P,k)){var R=wV({graphicalItem:P,activeTooltipItem:k,itemData:E.data}),W=E.activeIndex===void 0?R:E.activeIndex;return{graphicalItem:Y(Y({},P),{},{childIndex:W}),payload:Uc(P,k)?E.data[R]:P.props.data[R]}}}return null}},{key:"render",value:function(){var b=this;if(!Vx(this))return null;var S=this.props,w=S.children,k=S.className,j=S.width,_=S.height,P=S.style,A=S.compact,N=S.title,E=S.desc,F=x2(S,oZ),I=Be(F,!1);if(A)return M.createElement(qw,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement(X0,rs({},I,{width:j,height:_,title:N,desc:E}),this.renderClipPath(),Xx(w,this.renderMap)));if(this.props.accessibilityLayer){var T,R;I.tabIndex=(T=this.props.tabIndex)!==null&&T!==void 0?T:0,I.role=(R=this.props.role)!==null&&R!==void 0?R:"application",I.onKeyDown=function(L){b.accessibilityManager.keyboardEvent(L)},I.onFocus=function(){b.accessibilityManager.focus()}}var W=this.parseEventsOfWrapper();return M.createElement(qw,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement("div",rs({className:nt("recharts-wrapper",k),style:Y({position:"relative",cursor:"default",width:j,height:_},P)},W,{ref:function(D){b.container=D}}),M.createElement(X0,rs({},I,{width:j,height:_,title:N,desc:E,style:kZ}),this.renderClipPath(),Xx(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(O.Component);Ce(m,"displayName",r),Ce(m,"defaultProps",Y({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Ce(m,"getDerivedStateFromProps",function(x,y){var g=x.dataKey,b=x.data,S=x.children,w=x.width,k=x.height,j=x.layout,_=x.stackOffset,P=x.margin,A=y.dataStartIndex,N=y.dataEndIndex;if(y.updateId===void 0){var E=k2(x);return Y(Y(Y({},E),{},{updateId:0},p(Y(Y({props:x},E),{},{updateId:0}),y)),{},{prevDataKey:g,prevData:b,prevWidth:w,prevHeight:k,prevLayout:j,prevStackOffset:_,prevMargin:P,prevChildren:S})}if(g!==y.prevDataKey||b!==y.prevData||w!==y.prevWidth||k!==y.prevHeight||j!==y.prevLayout||_!==y.prevStackOffset||!cs(P,y.prevMargin)){var F=k2(x),I={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},T=Y(Y({},w2(y,b,j)),{},{updateId:y.updateId+1}),R=Y(Y(Y({},F),I),T);return Y(Y(Y({},R),p(Y({props:x},R),y)),{},{prevDataKey:g,prevData:b,prevWidth:w,prevHeight:k,prevLayout:j,prevStackOffset:_,prevMargin:P,prevChildren:S})}if(!V0(S,y.prevChildren)){var W,L,D,B,J=Mn(S,Es),q=J&&(W=(L=J.props)===null||L===void 0?void 0:L.startIndex)!==null&&W!==void 0?W:A,H=J&&(D=(B=J.props)===null||B===void 0?void 0:B.endIndex)!==null&&D!==void 0?D:N,U=q!==A||H!==N,ue=!De(b),fe=ue&&!U?y.updateId:y.updateId+1;return Y(Y({updateId:fe},p(Y(Y({props:x},y),{},{updateId:fe,dataStartIndex:q,dataEndIndex:H}),y)),{},{prevChildren:S,dataStartIndex:q,dataEndIndex:H})}return null}),Ce(m,"renderActiveDot",function(x,y,g){var b;return O.isValidElement(x)?b=O.cloneElement(x,y):ze(x)?b=x(y):b=M.createElement(Oh,y),M.createElement(xt,{className:"recharts-active-dot",key:g},b)});var v=O.forwardRef(function(y,g){return M.createElement(m,rs({},y,{ref:g}))});return v.displayName=m.displayName,v},bv=xv({chartName:"LineChart",GraphicalChild:en,axisComponents:[{axisType:"xAxis",AxisComp:ha},{axisType:"yAxis",AxisComp:pa}],formatAxisMap:uv}),EZ=xv({chartName:"ScatterChart",GraphicalChild:ln,defaultTooltipEventType:"item",validateTooltipEventTypes:["item"],axisComponents:[{axisType:"xAxis",AxisComp:ha},{axisType:"yAxis",AxisComp:pa},{axisType:"zAxis",AxisComp:Eh}],formatAxisMap:uv}),OP=xv({chartName:"AreaChart",GraphicalChild:Vn,axisComponents:[{axisType:"xAxis",AxisComp:ha},{axisType:"yAxis",AxisComp:pa}],formatAxisMap:uv});const TZ="modulepreload",$Z=function(e){return"/"+e},j2={},DZ=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),s=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));a=Promise.allSettled(r.map(l=>{if(l=$Z(l),l in j2)return;j2[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":TZ,c||(f.as="script"),f.crossOrigin="",f.href=l,s&&f.setAttribute("nonce",s),document.head.appendChild(f),c)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(i){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=i,window.dispatchEvent(s),!s.defaultPrevented)throw i}return a.then(i=>{for(const s of i||[])s.status==="rejected"&&o(s.reason);return t().catch(o)})};function RZ(e){const[[t,r,n],[a,o,i],[s,l,c]]=e,u=t*(o*c-i*l)-r*(a*c-i*s)+n*(a*l-o*s);if(Math.abs(u)<1e-10)return null;const f=1/u;return[[(o*c-i*l)*f,(n*l-r*c)*f,(r*i-n*o)*f],[(i*s-a*c)*f,(t*c-n*s)*f,(n*a-t*i)*f],[(a*l-o*s)*f,(r*s-t*l)*f,(t*o-r*a)*f]]}function O2(e,t){const r=[[0,0,0],[0,0,0],[0,0,0]];for(let n=0;n<3;n++)for(let a=0;a<3;a++)for(let o=0;o<3;o++)r[n][a]+=e[n][o]*t[o][a];return r}class Vs{constructor(t){sn(this,"size");sn(this,"isPowerOfTwo");sn(this,"_real");sn(this,"_imag");sn(this,"_scratch",null);sn(this,"_rev",null);sn(this,"_m",0);sn(this,"_internalFFT",null);sn(this,"_chirpReal",null);sn(this,"_chirpImag",null);sn(this,"_bReal",null);sn(this,"_bImag",null);sn(this,"_hanning",null);sn(this,"_windowSumSq",0);this.size=t,this.isPowerOfTwo=(t&t-1)===0&&t>0,this._real=new Float32Array(t),this._imag=new Float32Array(t),this.isPowerOfTwo?this.initRadix2():this.initBluestein()}initRadix2(){const t=this.size,r=Math.log2(t);this._rev=new Uint32Array(t);for(let n=0;n<t;n++){let a=0,o=n;for(let i=0;i<r;i++)a=a<<1|o&1,o>>>=1;this._rev[n]=a}}initBluestein(){const t=this.size;this._m=Math.pow(2,Math.ceil(Math.log2(2*t-1))),this._internalFFT=new Vs(this._m),this._chirpReal=new Float32Array(t),this._chirpImag=new Float32Array(t);for(let a=0;a<t;a++){const o=-Math.PI*(a*a)/t;this._chirpReal[a]=Math.cos(o),this._chirpImag[a]=Math.sin(o)}const r=new Float32Array(this._m),n=new Float32Array(this._m);for(let a=0;a<t;a++)r[a]=this._chirpReal[a],n[a]=-this._chirpImag[a];for(let a=1;a<t;a++)r[this._m-a]=r[a],n[this._m-a]=n[a];this._internalFFT.transform(r,n),this._bReal=new Float32Array(this._internalFFT._real),this._bImag=new Float32Array(this._internalFFT._imag)}initHanning(){if(this._hanning)return;const t=this.size;this._hanning=new Float32Array(t);let r=0;for(let n=0;n<t;n++){const a=.5*(1-Math.cos(2*Math.PI*n/(t-1)));this._hanning[n]=a,r+=a*a}this._windowSumSq=r}transform(t,r){this.isPowerOfTwo?this.transformRadix2(t,r):this.transformBluestein(t,r)}transformRadix2(t,r){const n=this.size,a=this._rev,o=this._real,i=this._imag;if(t===o)for(let s=0;s<n;s++){const l=a[s];if(s<l){const c=o[s],u=i[s];o[s]=o[l],i[s]=i[l],o[l]=c,i[l]=u}}else for(let s=0;s<n;s++){const l=a[s];o[s]=t[l],i[s]=r?r[l]:0}for(let s=2;s<=n;s*=2){const l=s/2,c=-2*Math.PI/s,u=Math.cos(c),f=Math.sin(c);for(let h=0;h<n;h+=s){let p=1,m=0;for(let v=0;v<l;v++){const x=h+v,y=h+v+l,g=p*o[y]-m*i[y],b=p*i[y]+m*o[y],S=o[x],w=i[x];o[x]=S+g,i[x]=w+b,o[y]=S-g,i[y]=w-b;const k=p*u-m*f,j=p*f+m*u;p=k,m=j}}}}transformBluestein(t,r){const n=this.size,a=this._m,o=this._internalFFT,i=o._real,s=o._imag;i.fill(0),s.fill(0);for(let f=0;f<n;f++){const h=t[f],p=r?r[f]:0,m=this._chirpReal[f],v=this._chirpImag[f];i[f]=h*m-p*v,s[f]=h*v+p*m}o.transformRadix2(i,s);for(let f=0;f<a;f++){const h=o._real[f],p=o._imag[f],m=this._bReal[f],v=this._bImag[f];o._real[f]=h*m-p*v,o._imag[f]=h*v+p*m}const l=o._real,c=o._imag;for(let f=0;f<a;f++)c[f]=-c[f];o.transformRadix2(l,c);const u=1/a;for(let f=0;f<n;f++){const h=o._real[f]*u,p=-o._imag[f]*u,m=this._chirpReal[f],v=this._chirpImag[f];this._real[f]=h*m-p*v,this._imag[f]=h*v+p*m}}calculateSpectrum(t,r,n=!1){const a=this.size;let o=0;for(let u=0;u<a;u++)o+=t[u];const i=o/a;this._scratch||(this._scratch=new Float32Array(a));const s=this._scratch;if(n){this.initHanning();const u=this._hanning;for(let f=0;f<a;f++)s[f]=(t[f]-i)*u[f]}else for(let u=0;u<a;u++)s[u]=t[u]-i;this.transform(s);const l=r.length;let c=1/a;n&&this._windowSumSq>0&&(c=1/this._windowSumSq);for(let u=0;u<l;u++){const f=this._real[u],h=this._imag[u];r[u]+=(f*f+h*h)*c}}}function LZ(e,t,r,n=!1){const a=new Vs(t),o=new Vs(r),i=t*r,s=new Float32Array(i),l=new Float32Array(i);let c=null,u=null;if(n){c=new Float32Array(t);for(let v=0;v<t;v++)c[v]=.5*(1-Math.cos(2*Math.PI*v/(t-1)));u=new Float32Array(r);for(let v=0;v<r;v++)u[v]=.5*(1-Math.cos(2*Math.PI*v/(r-1)))}for(let v=0;v<r;v++){const x=v*t,y=a._real;let g=0;for(let S=0;S<t;S++)g+=e[x+S];const b=g/t;if(c)for(let S=0;S<t;S++)y[S]=(e[x+S]-b)*c[S];else for(let S=0;S<t;S++)y[S]=e[x+S]-b;a.transform(y);for(let S=0;S<t;S++)s[x+S]=a._real[S],l[x+S]=a._imag[S]}for(let v=0;v<t;v++){const x=o._real,y=o._imag;for(let g=0;g<r;g++){const b=g*t+v;let S=s[b],w=l[b];u&&(S*=u[g],w*=u[g]),x[g]=S,y[g]=w}o.transform(x,y);for(let g=0;g<r;g++){const b=g*t+v;s[b]=o._real[g],l[b]=o._imag[g]}}const f=new Float32Array(i);let h=1,p=t,m=r;if(n&&c&&u){p=0;for(let v=0;v<t;v++)p+=c[v]*c[v];m=0;for(let v=0;v<r;v++)m+=u[v]*u[v]}h=1/(p*m);for(let v=0;v<i;v++)f[v]=(s[v]*s[v]+l[v]*l[v])*h;return f}function IZ(e,t,r){const n=new Float32Array(e.length),a=Math.floor(t/2),o=Math.floor(r/2);for(let i=0;i<r;i++)for(let s=0;s<t;s++){const l=(s+a)%t,c=(i+o)%r,u=i*t+s,f=c*t+l;n[f]=e[u]}return n}let Wp=null;async function wv(){if(!Wp)try{const n=(await DZ(()=>import("./joraw-76xNCNgf.js"),[])).default;if(typeof n!="function")throw new Error("JoRaw WASM import failed");const a=new URL("/assets/joraw-BUh50ws_.wasm",import.meta.url).href;Wp=n({locateFile:(o,i)=>o.endsWith("joraw.wasm")?a:i+o})}catch(r){throw console.error("Failed to load joraw.js:",r),r}const e=await Wp,t=e.LibRaw||e.JoRaw;if(!t)throw new Error("JoRaw class not found");return t}const BZ=[[3.2404542,-1.5371385,-.4985314],[-.969266,1.8760108,.041556],[.0556434,-.2040259,1.0572252]],Up=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055;async function FZ(e){const t=await createImageBitmap(e),r=t.width,n=t.height,a=document.createElement("canvas");a.width=r,a.height=n;const o=a.getContext("2d");if(!o)throw new Error("Failed to create canvas context");o.drawImage(t,0,0);const s=o.getImageData(0,0,r,n).data,l=r*n,c=new Uint16Array(l);for(let f=0;f<n;f++)for(let h=0;h<r;h++){const p=(f*r+h)*4,m=f*r+h,v=f%2===0,x=h%2===0;let y=0;v&&x?y=s[p]:!v&&!x?y=s[p+2]:y=s[p+1],c[m]=y*64}return{previewBlob:await new Promise(f=>a.toBlob(f,"image/png"))||e,analysisData:{data:c,width:r,height:n,bayerPattern:"RGGB",blackLevels:[0,0,0,0],whiteLevel:16320,metadata:{description:"Standard image (non-RAW)"},isThreePlane:!0}}}const zZ=async e=>{const t=await wv(),r=new t;try{await r.open(e,{useCameraWb:!0,outputBps:8,noAutoBright:!0,userQual:3,outputColor:1});const n=await r.imageData();return new Promise((a,o)=>{const i=document.createElement("canvas");i.width=n.width,i.height=n.height;const s=i.getContext("2d");if(!s){o(new Error("Could not create canvas context"));return}const l=s.createImageData(n.width,n.height),c=n.data,u=n.width*n.height;for(let f=0;f<u;f++){const h=f*3,p=f*4;l.data[p]=c[h],l.data[p+1]=c[h+1],l.data[p+2]=c[h+2],l.data[p+3]=255}s.putImageData(l,0,0),i.toBlob(f=>{f?a(f):o(new Error("Canvas to Blob failed"))},"image/jpeg",.85)})}finally{r.delete?r.delete():r.close()}},Md=async e=>{var n,a,o,i,s,l,c,u,f;const t=await wv(),r=new t;try{if(await r.open(e,{}),typeof r.getRawImage!="function")throw new Error("WASM mismatch");const h=r.getRawImage(),p=await r.metadata(!0);let m=[];if((n=p.color_data)!=null&&n.cblack_rawpy_style)m=p.color_data.cblack_rawpy_style;else if((o=(a=p.color_data)==null?void 0:a.dng_levels)!=null&&o.dng_cblack)m=p.color_data.dng_levels.dng_cblack;else if(((i=p.black_level_per_channel)==null?void 0:i.length)>=4)m=p.black_level_per_channel;else if(((s=p.cblack)==null?void 0:s.length)>=4)m=p.cblack;else if(((c=(l=p.color)==null?void 0:l.cblack)==null?void 0:c.length)>=4)m=p.color.cblack;else{const b=p.black_level||p.color_data&&p.color_data.black||0;m=[b,b,b,b]}const v=[Number(m[0])||0,Number(m[1])||0,Number(m[2])||0,Number(m[3])||0],x=((u=p.idata)==null?void 0:u.filters)||0,y=((f=p.idata)==null?void 0:f.colors)||0,g=x===0&&y===3;return{data:h.data,width:h.width,height:h.height,bayerPattern:p.color_desc||"RGGB",blackLevels:v,whiteLevel:p.white_level||16383,metadata:p,isThreePlane:g}}finally{r.delete?r.delete():r.close()}};async function Gp(e){const t=new Uint8Array(e.slice(0)),r=new Uint8Array(e.slice(0)),[n,a]=await Promise.all([zZ(t),Md(r)]);return{previewBlob:n,analysisData:a}}async function vm(e){const t=new Uint8Array(e.slice(0));return Md(t)}const _2=e=>(e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,e++,e);async function Hp(e,t,r,n=!0){const a=await Md(new Uint8Array(e)),o=await Md(new Uint8Array(t));if(a.width!==o.width||a.height!==o.height)throw new Error("Dimension Mismatch");const i=a.width,s=a.height,l=r?_2(i):i,c=r?_2(s):s,u=l*c,f=new Uint16Array(u),h=6e4,p=1.41421356;for(let m=0;m<s;m++){const v=m*i,x=m*l;for(let y=0;y<i;y++){const g=a.data[v+y],b=o.data[v+y];let S=g-b;n&&(S/=p);let w=S+h;w=Math.max(0,Math.min(65535,w)),f[x+y]=Math.round(w)}}return{rawData:f,width:l,height:c,metadata:a.metadata}}function zi(e,t,r,n,a,o,i){const s=Math.max(0,Math.floor(n)),l=Math.max(0,Math.floor(a)),c=Math.min(t,Math.ceil(n+o)),u=Math.min(r,Math.ceil(a+i)),f=[0,0,0,0],h=[0,0,0,0],p=[0,0,0,0];for(let x=l;x<u;x++){const y=x*t,g=x%2;for(let b=s;b<c;b++){const S=b%2,w=e[y+b],k=g*2+S;f[k]+=w,h[k]+=w*w,p[k]++}}const m=[0,0,0,0],v=[0,0,0,0];for(let x=0;x<4;x++)if(p[x]>0){const y=f[x]/p[x];m[x]=y;const b=h[x]/p[x]-y*y;v[x]=Math.sqrt(Math.max(0,b))}return{x:s,y:l,width:c-s,height:u-l,means:m,stdDevs:v,pixelCount:p.reduce((x,y)=>x+y,0)}}function WZ(e,t,r,n,a,o,i,s,l,c,u){if(c<=l)return[];const f=Math.max(0,Math.floor(n)),h=Math.max(0,Math.floor(a)),p=Math.min(t,Math.ceil(n+o)),m=Math.min(r,Math.ceil(a+i)),v=c-l,x=u?Math.floor(v)+1:s,y=v/x,g=[new Uint32Array(x),new Uint32Array(x),new Uint32Array(x),new Uint32Array(x)];for(let S=h;S<m;S++){const w=S*t,k=S%2;for(let j=f;j<p;j++){const _=j%2,P=e[w+j];if(P<l||P>c)continue;const A=k*2+_;let N;u?N=Math.floor(P-l):N=Math.floor((P-l)/y),N<0&&(N=0),N>=x&&(N=x-1),g[A][N]++}}const b=[];for(let S=0;S<x;S++){const w=l+(u?S:S*y);b.push({binStart:w,c0:g[0][S],c1:g[1][S],c2:g[2][S],c3:g[3][S]})}return b}function UZ(e,t,r,n,a,o=!1,i=!1,s={rows:!1,rowGroup:0,cols:!1,colGroup:0},l=!0,c=1){const u=Math.max(0,Math.floor(n.x)),f=Math.max(0,Math.floor(n.y)),h=Math.min(t,Math.ceil(n.x+n.w)),p=Math.min(r,Math.ceil(n.y+n.h)),m=h-u,v=p-f;if(m<=1||v<=1)return null;let x=0;for(let N=u;N<h;N++)N%2===(a&1)&&x++;let y=0;for(let N=f;N<p;N++)N%2===a>>1&&y++;if(x<4||y<4)return null;const g=Math.max(1,c),b=Math.floor(2*x/(g+1)),S=Math.floor(2*y/(g+1));if(b<4||S<4)return null;const w=new Vs(b),k=new Vs(S),j=new Float32Array(Math.floor(b/2)+1),_=new Float32Array(Math.floor(S/2)+1);let P=0,A=0;for(let N=f;N<p;N++){const E=N%2;if(a>>1!==E||s.rows&&(N>>1&1)!==s.rowGroup)continue;const F=N*t,I=new Float32Array(x);let T=0;for(let R=u;R<h;R++)R%2===(a&1)&&T<x&&(I[T++]=e[F+R]);for(let R=0;R<g;R++){const W=Math.floor(R*b/2);if(W+b>x)break;const L=I.slice(W,W+b);w.calculateSpectrum(L,j,i),P++}if(!l)break}for(let N=u;N<h;N++){const E=N%2;if((a&1)!==E||s.cols&&(N>>1&1)!==s.colGroup)continue;const F=new Float32Array(y);let I=0;for(let T=f;T<p;T++)T%2===a>>1&&I<y&&(F[I++]=e[T*t+N]);for(let T=0;T<g;T++){const R=Math.floor(T*S/2);if(R+S>y)break;const W=F.slice(R,R+S);k.calculateSpectrum(W,_,i),A++}if(!l)break}if(P>0)for(let N=0;N<j.length;N++)j[N]/=P;if(A>0)for(let N=0;N<_.length;N++)_[N]/=A;return{avgHoriz:Array.from(j),avgVert:Array.from(_),sampleCount:{h:P,v:A}}}function GZ(e,t,r,n,a,o=!1){const i=Math.max(0,Math.floor(n.x)),s=Math.max(0,Math.floor(n.y)),l=Math.min(t,Math.ceil(n.x+n.w)),c=Math.min(r,Math.ceil(n.y+n.h));let u=-1;for(let g=s;g<c;g++)if(g%2===a>>1){u=g;break}if(u===-1)return null;let f=-1;for(let g=i;g<l;g++)if(g%2===(a&1)){f=g;break}if(f===-1)return null;const h=[];for(let g=u;g<c;g+=2){const b=g*t,S=[];for(let w=f;w<l;w+=2)S.push(e[b+w]);h.push(S)}const p=h.length;if(p===0)return null;const m=h[0].length;if(m===0)return null;const v=new Float32Array(m*p);for(let g=0;g<p;g++){const b=h[g];for(let S=0;S<m;S++)v[g*m+S]=b[S]}const x=LZ(v,m,p,o),y=IZ(x,m,p);return{width:m,height:p,data:y}}function HZ(e,t,r,n,a,o,i){const s=[],l=Math.max(0,Math.floor(n.x)),c=Math.max(0,Math.floor(n.y)),u=Math.min(t,Math.ceil(n.x+n.w)),f=Math.min(r,Math.ceil(n.y+n.h)),h=a>>1,p=a&1;for(let g=c;g<f;g++){if(g%2!==h)continue;const b=g*t;for(let S=l;S<u;S++){if(S%2!==p)continue;const w=e[b+S];w>=o&&w<=i&&s.push(w-o)}}if(s.length===0)return null;s.sort((g,b)=>g-b);const m=[s[0]];for(let g=1;g<s.length;g++)s[g]!==s[g-1]&&m.push(s[g]);const v=[],x=[],y={};for(let g=0;g<m.length-1;g++){const b=m[g],w=m[g+1]-b;v.push(w),x.push({x:b,y:w}),y[w]=(y[w]||0)+1}return{uniqueCount:m.length,diffCount:v.length,stepCounts:y,plotData:x}}async function P2(e,t){const r=await wv(),n=new r;try{const a=new Uint8Array(e.slice(0));let o=!1,i=[];if(t.customMatrix&&t.customMatrix.length===9){const h=[[t.customMatrix[0],t.customMatrix[1],t.customMatrix[2]],[t.customMatrix[3],t.customMatrix[4],t.customMatrix[5]],[t.customMatrix[6],t.customMatrix[7],t.customMatrix[8]]],p=RZ(h);if(p){const m=t.wbGains?t.wbGains[0]:1,v=t.wbGains?t.wbGains[1]:1,y=O2(p,[[m,0,0],[0,1,0],[0,0,v]]),g=O2(BZ,y);i=[g[0][0],g[0][1],g[0][2],g[1][0],g[1][1],g[1][2],g[2][0],g[2][1],g[2][2]],o=!0}else throw new Error("Custom Matrix is not invertible.")}const s={outputBps:16,noAutoBright:!0,bright:o?1:Math.pow(2,t.exposure)};t.blackLevel&&t.blackLevel.length===4&&(s.userBlack=0,s.userCblack=t.blackLevel.map(h=>{const p=Math.round(h);return p===0?1:p})),t.demosaicMethod===-1?s.noInterpolation=!0:s.userQual=t.demosaicMethod,o?(s.outputColor=0,s.gamma=[1,1],s.userMul=[1,1,1,1],s.useCameraWb=!1):(s.outputColor=1,s.useCameraWb=!0),await n.open(a,s);const l=await n.imageData(),c=new ImageData(l.width,l.height),u=c.data,f=new Uint16Array(l.data.buffer,l.data.byteOffset,l.data.byteLength/2);if(o&&i.length===9){const h=i,m=Math.pow(2,t.exposure)*.25;for(let v=0;v<f.length;v+=3){const x=f[v]/65535,y=f[v+1]/65535,g=f[v+2]/65535;let b=h[0]*x+h[1]*y+h[2]*g,S=h[3]*x+h[4]*y+h[5]*g,w=h[6]*x+h[7]*y+h[8]*g;b*=m,S*=m,w*=m,b=Math.max(0,Math.min(1,b)),S=Math.max(0,Math.min(1,S)),w=Math.max(0,Math.min(1,w)),b=Up(b),S=Up(S),w=Up(w);const k=v/3*4;u[k]=Math.round(b*255),u[k+1]=Math.round(S*255),u[k+2]=Math.round(w*255),u[k+3]=255}}else for(let h=0;h<f.length;h+=3){const p=h/3*4;u[p]=f[h]>>8,u[p+1]=f[h+1]>>8,u[p+2]=f[h+2]>>8,u[p+3]=255}return c}finally{n.delete?n.delete():n.close()}}const VZ=({isOpen:e,onClose:t,onMinimize:r,rawImageData:n,roi:a,isBGGR:o,zIndex:i,onFocus:s,initialPosition:l,initialInternalState:c,onUpdateState:u})=>{const[f,h]=O.useState((c==null?void 0:c.channelMode)||"All"),[p,m]=O.useState((c==null?void 0:c.minVal)??0),[v,x]=O.useState((c==null?void 0:c.maxVal)??16383),[y,g]=O.useState((c==null?void 0:c.binCount)??100),[b,S]=O.useState((c==null?void 0:c.pointToPoint)??!1),[w,k]=O.useState(!1),[j,_]=O.useState([]),[P,A]=O.useState(null),[N,E]=O.useState(l||{x:100,y:100}),[F,I]=O.useState(!1),T=O.useRef({x:0,y:0});O.useEffect(()=>{u&&u({channelMode:f,minVal:p,maxVal:v,binCount:y,pointToPoint:b})},[f,p,v,y,b]),O.useEffect(()=>{if(!e||!n||!a)return;if(v<=p){A("Invalid range: Max must be greater than Min");return}A(null),k(!0);const B=setTimeout(()=>{try{const J=WZ(n.data,n.width,n.height,a.x,a.y,a.w,a.h,y,p,v,b);_(J)}catch(J){console.error("Histogram calc error:",J),A("Error calculating histogram")}finally{k(!1)}},50);return()=>clearTimeout(B)},[e,n,a==null?void 0:a.x,a==null?void 0:a.y,a==null?void 0:a.w,a==null?void 0:a.h,y,p,v,b]);const R=B=>{s&&s(),!(B.target.closest("button")||B.target.closest("input")||B.target.closest("select"))&&(I(!0),T.current={x:B.clientX-N.x,y:B.clientY-N.y})};if(O.useEffect(()=>{const B=q=>{F&&E({x:q.clientX-T.current.x,y:q.clientY-T.current.y})},J=()=>I(!1);return F&&(window.addEventListener("mousemove",B),window.addEventListener("mouseup",J)),()=>{window.removeEventListener("mousemove",B),window.removeEventListener("mouseup",J)}},[F]),!e)return null;const W=o?{c0:"Blue",c1:"Green 1",c2:"Green 2",c3:"Red"}:{c0:"Red",c1:"Green 1",c2:"Green 2",c3:"Blue"},L=o?{c0:"#3b82f6",c1:"#22c55e",c2:"#4ade80",c3:"#ef4444"}:{c0:"#ef4444",c1:"#22c55e",c2:"#4ade80",c3:"#3b82f6"},D="step";return d.jsxs("div",{className:"fixed flex flex-col bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 shadow-2xl rounded-xl resize-both overflow-hidden min-w-[500px] min-h-[400px] w-[900px] h-[600px]",style:{left:N.x,top:N.y,zIndex:i??100},onMouseDownCapture:s,children:[d.jsxs("div",{className:`flex justify-between items-center p-4 border-b border-gray-200 dark:border-slate-700 flex-shrink-0 bg-white dark:bg-slate-900 select-none ${F?"cursor-grabbing":"cursor-grab"}`,onMouseDown:R,children:[d.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-slate-100 pointer-events-none",children:"ROI Histogram"}),d.jsxs("div",{className:"flex items-center gap-1",children:[r&&d.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors",children:d.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),d.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 dark:hover:text-red-400 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors",children:d.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),d.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-800/50 flex flex-wrap gap-4 items-center border-b border-gray-200 dark:border-slate-700 text-sm flex-shrink-0 relative z-10",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-gray-500 dark:text-slate-400 font-semibold",children:"Channel:"}),d.jsxs("select",{value:f,onChange:B=>h(B.target.value),className:"bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-gray-900 dark:text-slate-100 outline-none focus:ring-1 focus:ring-cyan-500",children:[d.jsx("option",{value:"All",children:"All Colors"}),d.jsx("option",{value:"0",children:W.c0}),d.jsx("option",{value:"1",children:W.c1}),d.jsx("option",{value:"2",children:W.c2}),d.jsx("option",{value:"3",children:W.c3})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-gray-500 dark:text-slate-400 font-semibold",children:"Range (DN):"}),d.jsx("input",{type:"number",value:p,onChange:B=>m(Number(B.target.value)),className:"w-20 px-2 py-1 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-gray-900 dark:text-slate-100 text-right"}),d.jsx("span",{className:"text-gray-400",children:"-"}),d.jsx("input",{type:"number",value:v,onChange:B=>x(Number(B.target.value)),className:"w-20 px-2 py-1 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-gray-900 dark:text-slate-100 text-right"})]}),d.jsxs("div",{className:"flex items-center gap-4 border-l border-gray-300 dark:border-slate-600 pl-4",children:[d.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:b,onChange:B=>S(B.target.checked),className:"w-4 h-4 text-cyan-600 rounded border-gray-300 focus:ring-cyan-500"}),d.jsx("span",{className:"text-gray-700 dark:text-slate-300 select-none",title:"High compute cost",children:"1:1 Point-to-Point"})]}),!b&&d.jsxs("div",{className:"flex items-center gap-2 animate-in fade-in",children:[d.jsx("span",{className:"text-gray-500 dark:text-slate-400 font-semibold",children:"Bins:"}),d.jsx("input",{type:"number",value:y,onChange:B=>g(Math.max(1,Number(B.target.value))),className:"w-16 px-2 py-1 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-gray-900 dark:text-slate-100 text-right"})]})]})]}),d.jsxs("div",{className:"flex-1 p-4 relative bg-white dark:bg-slate-900 overflow-hidden min-h-0",children:[d.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-0 pointer-events-none select-none opacity-10 mix-blend-normal dark:mix-blend-plus-lighter",children:d.jsx("svg",{viewBox:"0 0 500 60",className:"w-96 h-auto",children:d.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"36",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})}),w&&d.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-10 bg-white/50 dark:bg-slate-900/50 backdrop-blur-[1px]",children:d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx("div",{className:"w-8 h-8 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mb-2"}),d.jsx("span",{className:"text-sm text-cyan-600 dark:text-cyan-400 font-semibold",children:"Calculating Histogram..."})]})}),P?d.jsx("div",{className:"flex items-center justify-center h-full text-red-500 relative z-10",children:P}):d.jsx("div",{className:"relative z-10 w-full h-full",children:d.jsx(js,{width:"100%",height:"100%",children:d.jsxs(bv,{data:j,children:[d.jsx(Oi,{strokeDasharray:"3 3",stroke:"#374151",opacity:.3}),d.jsx(ha,{dataKey:"binStart",type:"number",domain:[p,v],tickFormatter:B=>Math.floor(B).toString(),tick:{fill:"#9ca3af",fontSize:12},allowDataOverflow:!0,label:{value:"DN Value",position:"insideBottom",offset:-5,fill:"#9ca3af",fontSize:12}}),d.jsx(pa,{tick:{fill:"#9ca3af",fontSize:12},label:{value:"Count",angle:-90,position:"insideLeft",fill:"#9ca3af",fontSize:12}}),d.jsx(un,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"0.5rem",color:"#f3f4f6"},itemStyle:{fontSize:"12px"},labelFormatter:B=>`DN: ${Math.round(Number(B))}`,formatter:B=>[B,"Count"]}),d.jsx(Xa,{wrapperStyle:{paddingTop:"10px"}}),(f==="All"||f==="0")&&d.jsx(en,{type:D,dataKey:"c0",name:W.c0,stroke:L.c0,dot:!1,strokeWidth:1.5,activeDot:{r:4},isAnimationActive:!1}),(f==="All"||f==="1")&&d.jsx(en,{type:D,dataKey:"c1",name:W.c1,stroke:L.c1,dot:!1,strokeWidth:1.5,activeDot:{r:4},isAnimationActive:!1}),(f==="All"||f==="2")&&d.jsx(en,{type:D,dataKey:"c2",name:W.c2,stroke:L.c2,dot:!1,strokeWidth:1.5,activeDot:{r:4},isAnimationActive:!1}),(f==="All"||f==="3")&&d.jsx(en,{type:D,dataKey:"c3",name:W.c3,stroke:L.c3,dot:!1,strokeWidth:1.5,activeDot:{r:4},isAnimationActive:!1})]})})})]})]})},kv=({initialPosition:e={x:20,y:80},children:t,className:r="",onClose:n,zIndex:a,onFocus:o})=>{const[i,s]=O.useState(e),[l,c]=O.useState(!1),[u,f]=O.useState({x:0,y:0}),h=O.useRef(null),p=m=>{o&&o(),!(m.target.closest("button")||m.target.closest("input"))&&(c(!0),f({x:m.clientX-i.x,y:m.clientY-i.y}))};return O.useEffect(()=>{const m=x=>{var y,g;if(l){const b=x.clientX-u.x,S=x.clientY-u.y,w=window.innerWidth-(((y=h.current)==null?void 0:y.offsetWidth)||100),k=window.innerHeight-(((g=h.current)==null?void 0:g.offsetHeight)||100);s({x:Math.max(0,Math.min(b,w)),y:Math.max(0,Math.min(S,k))})}},v=()=>{c(!1)};return l&&(window.addEventListener("mousemove",m),window.addEventListener("mouseup",v)),()=>{window.removeEventListener("mousemove",m),window.removeEventListener("mouseup",v)}},[l,u]),d.jsxs("div",{ref:h,style:{left:i.x,top:i.y,zIndex:a??90},onMouseDownCapture:o,className:`fixed shadow-2xl rounded-xl border border-gray-200 dark:border-slate-700 bg-white/95 dark:bg-slate-900/90 backdrop-blur-md transition-shadow duration-200 ${l?"cursor-grabbing shadow-xl ring-2 ring-cyan-500/30":"shadow-lg"} ${r}`,children:[d.jsx("div",{onMouseDown:p,className:"absolute inset-0 w-full h-8 cursor-grab active:cursor-grabbing z-0",title:"Drag to move"}),d.jsx("div",{className:"relative z-10",children:t})]})},KZ=({isOpen:e,onClose:t,rawImageData:r,roi:n,selectedChannel:a,channelName:o,zIndex:i,onFocus:s,initialPosition:l})=>{const c=O.useRef(null),[u,f]=O.useState(!1),[h,p]=O.useState(null),[m,v]=O.useState(null),[x,y]=O.useState(!0),[g,b]=O.useState(!0),[S,w]=O.useState("-1"),[k,j]=O.useState("8"),[_,P]=O.useState(64),[A,N]=O.useState(45),[E,F]=O.useState(60),I=O.useRef(!1),T=O.useRef({x:0,y:0});O.useEffect(()=>{!e||!r||!n||(f(!0),v(null),setTimeout(()=>{try{const D=GZ(r.data,r.width,r.height,n,a,g);D?p(D):v("Could not extract valid data from ROI.")}catch(D){console.error("2D FFT Error",D),v("Calculation Error: "+D.message)}finally{f(!1)}},50))},[e,r,n,a,g]),O.useEffect(()=>{if(!h||!c.current)return;const D=c.current,B=D.getContext("2d");if(!B)return;const J=D.width,q=D.height;B.clearRect(0,0,J,q),B.fillStyle="#0f172a",B.fillRect(0,0,J,q);const H=h.width,U=h.height,ue=h.data,fe=Math.pow(10,parseFloat(S)||-1),be=Math.pow(10,parseFloat(k)||8);let ve=fe,G=be;x&&(ve=Math.log10(Math.max(1e-10,fe)),G=Math.log10(Math.max(1e-10,be)));const ce=G-ve||1,me=J/2,Z=q/2+50,We=Math.min(J,q)*.4,_e=.6,st=A*Math.PI/180,qe=E*Math.PI/180,bt=Math.cos(st),hr=Math.sin(st),pt=Math.cos(qe),Ur=Math.sin(qe),at=(Ke,$t,rr)=>{const vr=Ke*bt-$t*hr,xr=Ke*hr+$t*bt,On=xr*pt-rr*Ur,Dt=xr*Ur+rr*pt;return{x:me+vr*We,y:Z-On*We,depth:Dt}},sr=Math.max(16,_),lr=Math.max(1,Math.floor(H/sr)),Dr=Math.max(1,Math.floor(U/sr)),Zt=(Ke,$t)=>{let rr=ue[$t*H+Ke];return x&&(rr=Math.log10(Math.max(1e-10,rr))),rr=Math.max(ve,Math.min(G,rr)),(rr-ve)/ce},jn=Ke=>`hsl(${(1-Ke)*240}, 80%, 50%)`,Ar=[];for(let Ke=0;Ke<U-Dr;Ke+=Dr)for(let $t=0;$t<H-lr;$t+=lr){const rr=$t,vr=Ke,xr=$t+lr,On=Ke,Dt=$t+lr,rn=Ke+Dr,ut=$t,Rr=Ke+Dr,nn=Zt(rr,vr),Gr=Zt(xr,On),Lr=Zt(Dt,rn),Hr=Zt(ut,Rr),br=(nn+Gr+Lr+Hr)/4,Ln=at(rr/(H-1)-.5,vr/(U-1)-.5,nn*_e),Pt=at(xr/(H-1)-.5,On/(U-1)-.5,Gr*_e),K=at(Dt/(H-1)-.5,rn/(U-1)-.5,Lr*_e),$e=at(ut/(H-1)-.5,Rr/(U-1)-.5,Hr*_e),Gt=(Ln.depth+Pt.depth+K.depth+$e.depth)/4;Ar.push({pts:[{x:Ln.x,y:Ln.y},{x:Pt.x,y:Pt.y},{x:K.x,y:K.y},{x:$e.x,y:$e.y}],avgDepth:Gt,avgZ:br})}Ar.sort((Ke,$t)=>Ke.avgDepth-$t.avgDepth),B.lineWidth=.5,Ar.forEach(Ke=>{B.fillStyle=jn(Ke.avgZ),B.beginPath(),B.moveTo(Ke.pts[0].x,Ke.pts[0].y),B.lineTo(Ke.pts[1].x,Ke.pts[1].y),B.lineTo(Ke.pts[2].x,Ke.pts[2].y),B.lineTo(Ke.pts[3].x,Ke.pts[3].y),B.closePath(),B.fill()}),B.fillStyle="#aaa",B.font="10px monospace";const yr=at(-.5,-.5,0),cr=at(.5,-.5,0),ur=at(-.5,.5,0),Tt=at(.5,.5,0);B.strokeStyle="#666",B.beginPath(),B.moveTo(yr.x,yr.y),B.lineTo(cr.x,cr.y),B.lineTo(Tt.x,Tt.y),B.lineTo(ur.x,ur.y),B.closePath(),B.stroke(),B.fillText("0",yr.x-10,yr.y+10),B.fillText("Fx",cr.x+5,cr.y),B.fillText("Fy",ur.x-15,ur.y);const St=at(-.5,-.5,_e);B.strokeStyle="#fff",B.beginPath(),B.moveTo(yr.x,yr.y),B.lineTo(St.x,St.y),B.stroke(),B.fillText(`10^${k}`,St.x-25,St.y),B.fillText(`10^${S}`,yr.x-25,yr.y)},[h,x,A,E,S,k,_]);const R=D=>{I.current=!0,T.current={x:D.clientX,y:D.clientY}},W=D=>{if(!I.current)return;const B=D.clientX-T.current.x,J=D.clientY-T.current.y;N(q=>q-B*.5),F(q=>Math.max(0,Math.min(90,q+J*.5))),T.current={x:D.clientX,y:D.clientY}},L=()=>{I.current=!1};return e?d.jsxs(kv,{initialPosition:l||{x:100,y:100},onClose:t,zIndex:i,onFocus:s,className:"w-[700px] h-[600px] bg-slate-900 border border-slate-700 flex flex-col overflow-hidden shadow-2xl",children:[d.jsxs("div",{className:"flex justify-between items-center px-4 py-2 border-b border-slate-700 bg-slate-800",children:[d.jsxs("h3",{className:"text-sm font-bold text-slate-200 flex items-center gap-2",children:["2D FFT Power Spectrum - ",o,h&&d.jsxs("span",{className:"text-[10px] font-normal text-slate-400 bg-slate-700 px-2 py-0.5 rounded",children:[h.width,"x",h.height," (Chirp-Z)"]})]}),d.jsx("div",{className:"flex items-center gap-2",children:d.jsx("button",{onClick:t,className:"text-slate-400 hover:text-red-400 transition-colors",children:d.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})})]}),d.jsxs("div",{className:"p-3 bg-slate-800/80 flex flex-wrap gap-4 text-xs items-center border-b border-slate-700",children:[d.jsxs("div",{className:"flex items-center gap-2 bg-slate-900 px-2 py-1 rounded border border-slate-600",children:[d.jsx("span",{className:"text-slate-400 font-bold",children:"Range (10^x):"}),d.jsx("input",{type:"number",value:S,onChange:D=>w(D.target.value),className:"w-10 bg-transparent text-slate-200 text-center border-b border-slate-600 focus:border-cyan-500 outline-none"}),d.jsx("span",{className:"text-slate-500",children:"to"}),d.jsx("input",{type:"number",value:k,onChange:D=>j(D.target.value),className:"w-10 bg-transparent text-slate-200 text-center border-b border-slate-600 focus:border-cyan-500 outline-none"})]}),d.jsxs("div",{className:"flex items-center gap-2 bg-slate-900 px-2 py-1 rounded border border-slate-600",children:[d.jsx("span",{className:"text-slate-400 font-bold",children:"Density:"}),d.jsx("input",{type:"range",min:"16",max:"128",step:"16",value:_,onChange:D=>P(Number(D.target.value)),className:"w-20 h-1.5 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-cyan-500"}),d.jsx("span",{className:"text-slate-300 w-6 text-right",children:_})]}),d.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none text-slate-300 hover:text-white",children:[d.jsx("input",{type:"checkbox",checked:x,onChange:D=>y(D.target.checked),className:"rounded bg-slate-700 border-slate-600 accent-cyan-500"}),"Log Z"]}),d.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none text-slate-300 hover:text-white",children:[d.jsx("input",{type:"checkbox",checked:g,onChange:D=>b(D.target.checked),className:"rounded bg-slate-700 border-slate-600 accent-fuchsia-500"}),"Hanning"]})]}),d.jsxs("div",{className:"flex-1 relative bg-slate-900 cursor-move",children:[u&&d.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-slate-900/80 z-20 backdrop-blur-sm",children:d.jsxs("div",{className:"flex flex-col items-center gap-2",children:[d.jsx("div",{className:"w-8 h-8 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin"}),d.jsx("span",{className:"text-cyan-400 font-bold animate-pulse text-sm",children:"Computing full-size 2D FFT..."})]})}),m&&d.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-slate-900/80 z-20 text-red-400 p-4 text-center",children:m}),d.jsx("canvas",{ref:c,width:700,height:500,className:"w-full h-full block",onMouseDown:R,onMouseMove:W,onMouseUp:L,onMouseLeave:L}),d.jsx("div",{className:"absolute bottom-2 right-2 text-[9px] text-slate-600 pointer-events-none",children:"Drag to Rotate"})]})]}):null},XZ=(e,t,r)=>{const n=e.length,a=["c0_h","c0_v","c1_h","c1_v","c2_h","c2_v","c3_h","c3_v"];if(t>=n||t===0)return e;const o=[],i=Math.floor(n/t);for(let s=0;s<n;s+=i){const l=Math.min(s+i,n),c=e.slice(s,l);if(c.length===0)continue;const u={...c[Math.floor(c.length/2)]};a.forEach(f=>{const h=c.map(p=>p[f]).filter(p=>p!==void 0);h.length>0&&(r==="average"?u[f]=h.reduce((p,m)=>p+m,0)/h.length:r==="min"?u[f]=Math.min(...h):u[f]=Math.max(...h))}),o.push(u)}return o},YZ=(e,t)=>{if(t<=0)return[1];const r=new Array(e);let n=0;for(let a=0;a<e;a++){const o=a-(e-1)/2,i=Math.exp(-(o*o)/(2*t*t));r[a]=i,n+=i}for(let a=0;a<e;a++)r[a]/=n;return r},qZ=({isOpen:e,onClose:t,onMinimize:r,rawImageData:n,roi:a,isBGGR:o,onUpdateROI:i,zIndex:s,onFocus:l,initialPosition:c,initialInternalState:u,onUpdateState:f,stackFiles:h})=>{const[p,m]=O.useState((u==null?void 0:u.selectedChannel)??0),[v,x]=O.useState(()=>(u==null?void 0:u.yMinExp)||localStorage.getItem("fft_y_min")||"1.73"),[y,g]=O.useState(()=>(u==null?void 0:u.yMaxExp)||localStorage.getItem("fft_y_max")||"8.00"),[b,S]=O.useState(()=>(u==null?void 0:u.poolingMethod)||localStorage.getItem("fft_pooling_method")||"max"),[w,k]=O.useState((u==null?void 0:u.useHanning)??!0),[j,_]=O.useState((u==null?void 0:u.doAverage)??!0),[P,A]=O.useState((u==null?void 0:u.welchSegments)??1),[N,E]=O.useState((u==null?void 0:u.showH)??!0),[F,I]=O.useState((u==null?void 0:u.showV)??!0),[T,R]=O.useState((u==null?void 0:u.interlaceRows)??!1),[W,L]=O.useState((u==null?void 0:u.rowGroup)??0),[D,B]=O.useState((u==null?void 0:u.interlaceCols)??!1),[J,q]=O.useState((u==null?void 0:u.colGroup)??0),[H,U]=O.useState(()=>(u==null?void 0:u.theoSigma)||localStorage.getItem("fft_theo_sigma")||"0.00"),[ue,fe]=O.useState(()=>(u==null?void 0:u.theoKernelSize)||localStorage.getItem("fft_theo_ksize")||"3"),[be,ve]=O.useState(()=>(u==null?void 0:u.theoNoiseStd)||localStorage.getItem("fft_theo_noise")||"7.5"),[G,ce]=O.useState(()=>(u==null?void 0:u.theoScale)||localStorage.getItem("fft_theo_scale")||"1.0"),[me,Z]=O.useState((u==null?void 0:u.intStart)||"0"),[We,_e]=O.useState((u==null?void 0:u.intEnd)||"0.5"),[st,qe]=O.useState(!1),[bt,hr]=O.useState([]),[pt,Ur]=O.useState([]),[at,sr]=O.useState(!1),[lr,Dr]=O.useState(0),[Zt,jn]=O.useState(null),[Ar,yr]=O.useState(!1),[cr,ur]=O.useState(!1),[Tt,St]=O.useState(null),[Ke,$t]=O.useState(!1),[rr,vr]=O.useState(null),[xr,On]=O.useState(c||{x:50,y:50}),[Dt,rn]=O.useState(!1),[ut,Rr]=O.useState(null),[nn,Gr]=O.useState({}),Lr=O.useRef({x:0,y:0}),Hr=o?{c0:"#3b82f6",c1:"#22c55e",c2:"#4ade80",c3:"#ef4444"}:{c0:"#ef4444",c1:"#22c55e",c2:"#4ade80",c3:"#3b82f6"},br=O.useMemo(()=>o?{0:"Blue",1:"Green 1",2:"Green 2",3:"Red"}:{0:"Red",1:"Green 1",2:"Green 2",3:"Blue"},[o]);O.useEffect(()=>{localStorage.setItem("fft_y_min",v),localStorage.setItem("fft_y_max",y),localStorage.setItem("fft_theo_sigma",H),localStorage.setItem("fft_theo_ksize",ue),localStorage.setItem("fft_theo_noise",be),localStorage.setItem("fft_theo_scale",G),localStorage.setItem("fft_pooling_method",b)},[v,y,H,ue,be,G,b]),O.useEffect(()=>{if(!e||!n||!a)return;sr(!0),jn(null),Dr(0);const ee=setTimeout(async()=>{try{const xe=p===-1?[0,1,2,3]:[p],ot=h&&h.length>1?h:[null],Nt=ot.length,Ee={};let Rt={h:0,v:0},ct=0;for(let ft=0;ft<Nt;ft++){Dr(ft+1);let Pe;if(ot[ft]){const ie=await ot[ft].arrayBuffer();Pe=await vm(ie)}else Pe=n;for(const ie of xe){const yt=UZ(Pe.data,Pe.width,Pe.height,a,ie,!1,w,{rows:T,rowGroup:W,cols:D,colGroup:J},j,P);yt&&(Ee[ie]||(Ee[ie]={h:new Array(yt.avgHoriz.length).fill(0),v:new Array(yt.avgVert.length).fill(0)},ct=yt.avgHoriz.length),yt.avgHoriz.forEach((_n,wr)=>Ee[ie].h[wr]+=_n),yt.avgVert.forEach((_n,wr)=>Ee[ie].v[wr]+=_n),Rt=yt.sampleCount)}}if(ct===0)throw new Error("ROI too small or no data found.");const At=.5,Ae=[];for(let ft=0;ft<ct;ft++){const Pe=ft/(ct-1)*At,ie={freq:parseFloat(Pe.toFixed(5))};for(const yt of xe)Ee[yt]&&(ie[`c${yt}_h`]=Math.max(1e-12,Ee[yt].h[ft]/Nt),ie[`c${yt}_v`]=Math.max(1e-12,Ee[yt].v[ft]/Nt));Ae.push(ie)}Rr(Rt),hr(Ae),Ur(XZ(Ae,2e3,b))}catch(xe){console.error("FFT Loop Failed:",xe),jn(xe.message||"Unknown error during FFT processing")}finally{sr(!1)}},100);return()=>clearTimeout(ee)},[e,n,a==null?void 0:a.x,a==null?void 0:a.y,a==null?void 0:a.w,a==null?void 0:a.h,p,b,w,j,P,T,W,D,J,h]);const Ln=()=>{const ee=parseFloat(me),xe=parseFloat(We);if(isNaN(ee)||isNaN(xe))return;const ot={},Nt=p===-1?[0,1,2,3]:[p],Ee=pt.filter(Rt=>Rt.freq>=ee&&Rt.freq<=xe);if(Ee.length===0){Gr({});return}Nt.forEach(Rt=>{let ct=0,At=0;Ee.forEach(Ae=>{const ft=Ae[`c${Rt}_h`],Pe=Ae[`c${Rt}_v`];typeof ft=="number"&&(ct+=ft),typeof Pe=="number"&&(At+=Pe)}),ot[Rt]={h:ct/Ee.length,v:At/Ee.length,count:Ee.length}}),Gr(ot)},Pt=O.useMemo(()=>{const ee=parseFloat(H),xe=parseInt(ue),ot=parseFloat(be),Nt=parseFloat(G);if(isNaN(ee)||isNaN(xe)||isNaN(ot)||isNaN(Nt)||pt.length===0)return pt;const Ee=YZ(xe,ee),Rt=Ee.reduce((Ae,ft)=>Ae+ft*ft,0),ct=(xe-1)/2,At=ot*ot*Nt;return pt.map(Ae=>{const ft=Ae.freq,Pe=2*Math.PI*ft;let ie=0,yt=0;for(let wr=0;wr<xe;wr++){const ma=wr-ct,Ti=Ee[wr],Ea=-Pe*ma;ie+=Ti*Math.cos(Ea),yt+=Ti*Math.sin(Ea)}const _n=ie*ie+yt*yt;return{...Ae,theory:Math.max(1e-12,At*Rt*_n)}})},[pt,H,ue,be,G]),K=ee=>{ee&&ee.activeLabel!==void 0&&($t(!0),vr(Number(ee.activeLabel)),St(null))},$e=ee=>{if(Ke&&rr!==null&&ee&&ee.activeLabel!==void 0){const xe=Number(ee.activeLabel);St([Math.min(rr,xe),Math.max(rr,xe)])}},Gt=()=>$t(!1),lt=ee=>{l&&l(),!(ee.target.closest("button")||ee.target.closest("input"))&&(rn(!0),Lr.current={x:ee.clientX-xr.x,y:ee.clientY-xr.y})};O.useEffect(()=>{const ee=ot=>{Dt&&On({x:ot.clientX-Lr.current.x,y:ot.clientY-Lr.current.y})},xe=()=>rn(!1);return Dt&&(window.addEventListener("mousemove",ee),window.addEventListener("mouseup",xe)),()=>{window.removeEventListener("mousemove",ee),window.removeEventListener("mouseup",xe)}},[Dt]);const Bt=O.useMemo(()=>{if(!Tt||bt.length===0)return null;const[ee,xe]=Tt,ot=bt.filter(Rt=>Rt.freq>=ee&&Rt.freq<=xe);if(ot.length===0)return null;const Nt=p===-1?[0,1,2,3]:[p],Ee={};return Nt.forEach(Rt=>{["h","v"].forEach(ct=>{const At=`c${Rt}_${ct}`;let Ae=0,ft=0;for(const Pe of ot){const ie=Pe[At];typeof ie=="number"&&(Ae+=ie,ft++)}ft>0&&(Ee[`${At}_sigma`]=Math.sqrt(Ae/ft))})}),{count:ot.length,stats:Ee}},[Tt,bt,p]),Ze=()=>{if(pt.length===0)return;let ee=1/0,xe=-1/0;if(pt.forEach(ct=>{ct.freq<.01||ct.freq>.49||Object.keys(ct).forEach(At=>{if(At==="freq"||At==="theory")return;const Ae=ct[At];typeof Ae=="number"&&Ae>0&&(Ae<ee&&(ee=Ae),Ae>xe&&(xe=Ae))})}),ee===1/0)return;const ot=Math.log10(ee),Nt=Math.log10(xe),Ee=Nt-ot,Rt=(Ee===0?1:Ee)*.1;x((ot-Rt).toFixed(2)),g((Nt+Rt).toFixed(2))},Vr=(ee,xe)=>{a&&i&&i({...a,x:a.x+ee,y:a.y+xe})},an=(ee,xe)=>{a&&i&&i({...a,w:Math.max(2,a.w+ee),h:Math.max(2,a.h+xe)})};return e?d.jsxs("div",{className:"fixed flex flex-col bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 shadow-2xl rounded-xl overflow-hidden resize-both min-w-[750px] min-h-[500px]",style:{left:xr.x,top:xr.y,width:"1000px",height:"850px",zIndex:s??100},onMouseDownCapture:l,children:[d.jsxs("div",{className:`flex justify-between items-center p-3 border-b border-gray-200 dark:border-slate-700 flex-shrink-0 bg-gray-50 dark:bg-slate-800 z-50 relative select-none ${Dt?"cursor-grabbing":"cursor-grab"}`,onMouseDown:lt,children:[d.jsxs("h2",{className:"text-lg font-bold text-gray-900 dark:text-slate-100 flex items-center gap-2 pointer-events-none",children:["Power Spectrum Analysis",d.jsx("span",{className:"text-[10px] font-normal bg-white dark:bg-slate-700 px-2 py-1 rounded text-gray-500 border border-gray-200 dark:border-slate-600 shadow-sm",children:h&&h.length>1?`Stack Avg (${h.length} frames)`:"Single Mode"})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[r&&d.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors",children:d.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),d.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 dark:hover:text-red-400 p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors",children:d.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),d.jsxs("div",{className:"flex flex-col bg-gray-50 dark:bg-slate-900/80 border-b border-gray-200 dark:border-slate-800 flex-shrink-0 z-40 relative px-4 py-3 gap-3 overflow-x-auto",children:[d.jsxs("div",{className:"flex items-center gap-6",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-[10px] font-bold text-gray-500 dark:text-slate-400 uppercase tracking-widest",children:"Channel"}),d.jsxs("div",{className:"flex bg-gray-100 dark:bg-slate-800 rounded-lg p-0.5 border border-gray-200 dark:border-slate-700 shadow-inner",children:[d.jsx("button",{onClick:()=>m(-1),className:`px-3 py-1 rounded text-[10px] font-bold transition-all ${p===-1?"bg-slate-700 text-white shadow-md":"text-gray-500 dark:text-slate-500 hover:bg-white dark:hover:bg-slate-700"}`,children:"All"}),[0,1,2,3].map(ee=>d.jsx("button",{onClick:()=>m(ee),className:`px-3 py-1 rounded text-[10px] font-bold transition-all ${p===ee?"bg-cyan-600 text-white shadow-md":"text-gray-500 dark:text-slate-500 hover:bg-white dark:hover:bg-slate-700"}`,children:br[ee]},ee))]})]}),d.jsx("div",{className:"h-6 w-px bg-gray-200 dark:bg-slate-700 mx-2"}),d.jsxs("button",{onClick:()=>qe(!0),className:"flex items-center gap-1.5 px-4 py-1.5 bg-indigo-600 hover:bg-indigo-500 text-white text-[10px] font-bold rounded-lg shadow-lg shadow-indigo-500/30 transition-all active:scale-95 group border border-indigo-400/30",children:[d.jsx("svg",{className:"w-3.5 h-3.5 group-hover:animate-pulse",fill:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"2D Diagonal"]}),d.jsx("div",{className:"h-6 w-px bg-gray-200 dark:bg-slate-700 mx-2"}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("span",{className:"text-[10px] font-bold text-indigo-500 dark:text-indigo-400 uppercase tracking-widest",children:"Model"}),d.jsx("div",{className:"flex gap-2",children:[{label:"KSize",val:ue,set:fe,w:"w-10"},{label:"Sigma",val:H,set:U,w:"w-12"},{label:"Noise()",val:be,set:ve,w:"w-12"},{label:"Scale",val:G,set:ce,w:"w-12"}].map(ee=>d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx("label",{className:"text-[8px] text-gray-400 dark:text-slate-500 uppercase font-bold mb-0.5",children:ee.label}),d.jsx("input",{type:"text",value:ee.val,onChange:xe=>ee.set(xe.target.value),className:`${ee.w} text-[11px] bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded px-1.5 py-0.5 text-center text-gray-900 dark:text-slate-100 outline-none focus:border-indigo-500 shadow-sm`})]},ee.label))})]})]}),d.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[d.jsxs("div",{className:"flex items-center gap-3 mr-2",children:[d.jsx("span",{className:"text-[10px] font-bold text-fuchsia-600 dark:text-fuchsia-500 uppercase tracking-widest",children:"Welch"}),d.jsx("input",{type:"range",min:"1",max:"16",step:"1",value:P,onChange:ee=>A(parseInt(ee.target.value)),className:"w-24 h-1.5 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-fuchsia-500"}),d.jsx("span",{className:"text-[10px] font-mono text-fuchsia-600 dark:text-fuchsia-400 w-4 font-bold",children:P})]}),d.jsx("div",{className:"h-6 w-px bg-gray-200 dark:bg-slate-700"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-[10px] font-bold text-gray-400 dark:text-slate-500 uppercase",children:"Pool"}),d.jsxs("select",{value:b,onChange:ee=>S(ee.target.value),className:"text-[10px] font-bold bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-md py-1 px-2 text-gray-700 dark:text-slate-200 outline-none focus:ring-1 focus:ring-cyan-500 cursor-pointer",children:[d.jsx("option",{value:"max",children:"Max"}),d.jsx("option",{value:"min",children:"Min"}),d.jsx("option",{value:"average",children:"Avg"})]})]}),d.jsxs("div",{className:"flex flex-col gap-1 px-2",children:[d.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer text-[10px] text-gray-500 dark:text-slate-400 hover:text-gray-900 dark:hover:text-slate-200 select-none",children:[d.jsx("input",{type:"checkbox",checked:T,onChange:ee=>R(ee.target.checked),className:"w-3 h-3 rounded text-cyan-600 border-gray-300 dark:border-slate-700 bg-white dark:bg-slate-800"})," Row Int."]}),d.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer text-[10px] text-gray-500 dark:text-slate-400 hover:text-gray-900 dark:hover:text-slate-200 select-none",children:[d.jsx("input",{type:"checkbox",checked:D,onChange:ee=>B(ee.target.checked),className:"w-3 h-3 rounded text-cyan-600 border-gray-300 dark:border-slate-700 bg-white dark:bg-slate-800"})," Col Int."]})]}),d.jsxs("div",{className:"flex flex-col gap-1.5 bg-gray-100 dark:bg-slate-800/60 p-1.5 rounded-lg border border-gray-200 dark:border-slate-700",children:[d.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[d.jsx("div",{className:`w-3.5 h-3.5 rounded-md border flex items-center justify-center transition-colors ${w?"bg-fuchsia-600 border-fuchsia-600":"bg-white dark:bg-slate-900 border-gray-300 dark:border-slate-600"}`,children:w&&d.jsx("svg",{className:"w-2.5 h-2.5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:4,children:d.jsx("path",{d:"M5 13l4 4L19 7"})})}),d.jsx("input",{type:"checkbox",checked:w,onChange:ee=>k(ee.target.checked),className:"hidden"}),d.jsx("span",{className:"text-[10px] font-bold text-gray-700 dark:text-slate-300",children:"Hanning"})]}),d.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[d.jsx("div",{className:`w-3.5 h-3.5 rounded-md border flex items-center justify-center transition-colors ${j?"bg-cyan-600 border-cyan-600":"bg-white dark:bg-slate-900 border-gray-300 dark:border-slate-600"}`,children:j&&d.jsx("svg",{className:"w-2.5 h-2.5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:4,children:d.jsx("path",{d:"M5 13l4 4L19 7"})})}),d.jsx("input",{type:"checkbox",checked:j,onChange:ee=>_(ee.target.checked),className:"hidden"}),d.jsx("span",{className:"text-[10px] font-bold text-gray-700 dark:text-slate-300",children:"Average"})]})]}),d.jsxs("div",{className:"flex gap-2 bg-gray-100 dark:bg-slate-800 p-1 rounded-lg border border-gray-200 dark:border-slate-700",children:[d.jsxs("button",{onClick:()=>E(!N),className:`px-2.5 py-1 rounded-md border text-[11px] font-bold transition-all flex items-center gap-1.5 ${N?"bg-cyan-900/40 text-cyan-400 border-cyan-500 shadow-[0_0_8px_rgba(6,182,212,0.3)]":"bg-white dark:bg-slate-900 text-gray-400 border-gray-300 dark:border-slate-700"}`,children:[d.jsx("div",{className:`w-2 h-2 rounded-full ${N?"bg-cyan-400":"bg-gray-400"}`})," H"]}),d.jsxs("button",{onClick:()=>I(!F),className:`px-2.5 py-1 rounded-md border text-[11px] font-bold transition-all flex items-center gap-1.5 ${F?"bg-cyan-900/40 text-cyan-400 border-cyan-500 shadow-[0_0_8px_rgba(6,182,212,0.3)]":"bg-white dark:bg-slate-900 text-gray-400 border-gray-300 dark:border-slate-700"}`,children:[d.jsx("div",{className:`w-2 h-2 rounded-full ${F?"bg-cyan-400":"bg-gray-400"}`})," V"]})]}),d.jsxs("div",{className:"ml-auto flex gap-2",children:[d.jsx("button",{onClick:()=>ur(!cr),className:`px-3 py-1.5 rounded-lg text-[10px] font-bold transition-all border ${cr?"bg-emerald-600 text-white border-emerald-600 shadow-md":"bg-white dark:bg-slate-900 text-emerald-600 dark:text-emerald-400 border-emerald-200 dark:border-emerald-800 hover:bg-emerald-50"}`,children:""}),d.jsx("button",{onClick:()=>yr(!Ar),className:`px-3 py-1.5 rounded-lg text-[10px] font-bold transition-all border ${Ar?"bg-indigo-600 text-white border-indigo-600 shadow-md":"bg-white dark:bg-slate-900 text-indigo-600 dark:text-indigo-400 border-indigo-200 dark:border-indigo-800 hover:bg-indigo-50"}`,children:"ROI"})]})]}),d.jsxs("div",{className:"flex items-center gap-4 justify-end border-t border-gray-200 dark:border-slate-800/50 pt-2.5",children:[d.jsx("button",{onClick:Ze,className:"px-4 py-1 text-[10px] font-bold bg-cyan-600/10 text-cyan-600 dark:text-cyan-400 hover:bg-cyan-600/20 rounded-md border border-cyan-500/30 transition-all uppercase tracking-widest shadow-sm",children:"Auto"}),d.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-bold text-gray-500 dark:text-slate-400 uppercase",children:["Y-AXIS (LOG)",d.jsxs("div",{className:"flex items-center bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-md overflow-hidden shadow-sm",children:[d.jsx("input",{type:"text",value:v,onChange:ee=>x(ee.target.value),className:"w-14 px-2 py-1 bg-transparent text-center outline-none text-gray-900 dark:text-slate-100 border-r border-gray-200 dark:border-slate-700"}),d.jsx("span",{className:"px-2 text-gray-400",children:"to"}),d.jsx("input",{type:"text",value:y,onChange:ee=>g(ee.target.value),className:"w-14 px-2 py-1 bg-transparent text-center outline-none text-gray-900 dark:text-slate-100"})]})]})]})]}),d.jsxs("div",{className:"flex-1 p-4 overflow-hidden flex flex-col gap-2 relative bg-gray-50/30 dark:bg-slate-900/30",children:[d.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none z-[50] select-none opacity-10",children:d.jsx("svg",{viewBox:"0 0 500 100",className:"w-3/4 h-auto drop-shadow-lg",children:d.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"24",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})}),at&&d.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center z-[55] bg-white/90 dark:bg-slate-900/90 backdrop-blur-[2px]",children:[d.jsx("div",{className:"w-10 h-10 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mb-4"}),d.jsx("span",{className:"text-cyan-600 dark:text-cyan-400 font-bold",children:"Computing FFT Stack..."}),h&&h.length>1&&d.jsxs("span",{className:"text-xs text-gray-500 mt-2 font-mono",children:["Processing frame ",lr," / ",h.length]})]}),Zt?d.jsx("div",{className:"flex items-center justify-center h-full text-red-500 font-semibold",children:Zt}):d.jsxs("div",{className:"flex-1 bg-white dark:bg-slate-950 border border-gray-200 dark:border-slate-800 rounded-xl p-2 flex flex-col relative z-20 shadow-xl overflow-hidden",children:[d.jsx("div",{className:"flex-1 relative z-10",onMouseDown:K,onMouseMove:$e,onMouseUp:Gt,style:{cursor:Ke?"col-resize":"crosshair"},children:d.jsx(js,{width:"100%",height:"100%",children:d.jsxs(bv,{data:Pt,margin:{top:10,right:10,bottom:20,left:0},children:[d.jsx(Oi,{strokeDasharray:"3 3",stroke:"#374151",opacity:.08}),d.jsx(ha,{dataKey:"freq",type:"number",domain:[0,.5],tickCount:6,tick:{fill:"#6b7280",fontSize:10},label:{value:"Frequency (cy/px)",position:"insideBottom",offset:-10,fill:"#6b7280",fontSize:11}}),d.jsx(pa,{scale:"log",domain:[Math.pow(10,parseFloat(v)),Math.pow(10,parseFloat(y))],allowDataOverflow:!0,tick:{fill:"#6b7280",fontSize:10},tickFormatter:ee=>Number(ee).toExponential(0),width:45}),d.jsx(un,{contentStyle:{backgroundColor:"rgba(15, 23, 42, 0.95)",border:"1px solid #334155",color:"#f3f4f6",fontSize:"11px",borderRadius:"8px"},formatter:ee=>[Number(ee).toExponential(3),""],labelFormatter:ee=>`Freq: ${Number(ee).toFixed(4)}`}),d.jsx(Xa,{wrapperStyle:{fontSize:"10px"}}),d.jsx(en,{type:"monotone",dataKey:"theory",name:"Theory Model",stroke:"#6366f1",strokeWidth:2,dot:!1,isAnimationActive:!1}),[0,1,2,3].flatMap(ee=>{if(p!==-1&&p!==ee)return[];const xe=`c${ee}_h`,ot=`c${ee}_v`,Nt=Hr[`c${ee}`],Ee=[];return N&&Ee.push(d.jsx(en,{type:"linear",dataKey:xe,name:`${br[ee]} (H)`,stroke:Nt,strokeWidth:1,dot:!1,isAnimationActive:!1},`${ee}_h`)),F&&Ee.push(d.jsx(en,{type:"linear",dataKey:ot,name:`${br[ee]} (V)`,stroke:Nt,strokeWidth:1,strokeDasharray:"3 3",dot:!1,isAnimationActive:!1},`${ee}_v`)),Ee}),Tt&&d.jsx(lu,{x1:Tt[0],x2:Tt[1],fill:"#8884d8",fillOpacity:.15})]})})}),Bt&&Tt&&d.jsxs("div",{className:"absolute bottom-12 left-12 bg-slate-900/90 backdrop-blur-md p-3 rounded-lg border border-indigo-500/50 shadow-2xl z-30 text-[10px] font-mono text-slate-100",children:[d.jsxs("div",{className:"text-indigo-400 font-bold mb-1 border-b border-indigo-500/30 pb-1",children:["Range: ",Tt[0].toFixed(3),"-",Tt[1].toFixed(3)]}),Object.entries(Bt.stats).map(([ee,xe])=>d.jsxs("div",{className:"flex justify-between gap-4",children:[d.jsxs("span",{className:"text-slate-400",children:[ee,":"]}),d.jsx("span",{className:"font-bold text-cyan-400",children:xe.toFixed(5)})]},ee))]})]})]}),cr&&d.jsxs("div",{className:"absolute top-48 right-8 z-[55] w-72 bg-white dark:bg-slate-900 rounded-xl shadow-2xl border border-gray-200 dark:border-slate-700 p-4 animate-in slide-in-from-top-2",children:[d.jsx("h4",{className:"text-[10px] uppercase font-bold text-emerald-600 dark:text-emerald-400 mb-2 border-b border-gray-100 dark:border-slate-800 pb-1",children:"Range Averaging"}),d.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[d.jsx("input",{type:"number",step:"0.01",value:me,onChange:ee=>Z(ee.target.value),className:"w-16 px-1 py-0.5 text-xs border rounded bg-transparent dark:border-slate-600 dark:text-white"}),d.jsx("span",{className:"text-gray-400",children:"-"}),d.jsx("input",{type:"number",step:"0.01",value:We,onChange:ee=>_e(ee.target.value),className:"w-16 px-1 py-0.5 text-xs border rounded bg-transparent dark:border-slate-600 dark:text-white"}),d.jsx("button",{onClick:Ln,className:"flex-1 bg-emerald-600 text-white text-[10px] font-bold py-1 rounded",children:"Avg"})]}),d.jsx("div",{className:"flex flex-col gap-2 max-h-48 overflow-y-auto",children:[0,1,2,3].map(ee=>{const xe=nn[ee];if(!xe)return null;const ot=Hr[`c${ee}`];return d.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800/50 p-2 rounded text-[10px] border border-gray-100 dark:border-slate-800",children:[d.jsxs("div",{className:"flex items-center gap-2 font-bold mb-1",style:{color:ot},children:[br[ee]," ",d.jsxs("span",{className:"text-gray-400 font-normal",children:["(",xe.count," pts)"]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-x-2 text-gray-700 dark:text-slate-300 font-mono",children:[d.jsxs("div",{children:["H: ",xe.h.toExponential(3)]}),d.jsxs("div",{children:["V: ",xe.v.toExponential(3)]})]})]},ee)})})]}),Ar&&d.jsx("div",{className:"absolute top-48 right-8 z-[55] w-56 bg-white dark:bg-slate-900 rounded-xl shadow-2xl border border-gray-200 dark:border-slate-700 p-4 animate-in slide-in-from-top-2",children:d.jsxs("div",{className:"flex flex-col gap-3",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"text-[9px] uppercase font-bold text-gray-400 mb-1",children:"Move"}),d.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[d.jsx("div",{}),d.jsx("button",{onClick:()=>Vr(0,-1),className:"p-1.5 bg-gray-100 dark:bg-slate-800 rounded",children:""}),d.jsx("div",{}),d.jsx("button",{onClick:()=>Vr(-1,0),className:"p-1.5 bg-gray-100 dark:bg-slate-800 rounded",children:""}),d.jsx("div",{}),d.jsx("button",{onClick:()=>Vr(1,0),className:"p-1.5 bg-gray-100 dark:bg-slate-800 rounded",children:""}),d.jsx("div",{}),d.jsx("button",{onClick:()=>Vr(0,1),className:"p-1.5 bg-gray-100 dark:bg-slate-800 rounded",children:""}),d.jsx("div",{})]})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-[9px] uppercase font-bold text-gray-400 mb-1",children:"Size"}),d.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[d.jsx("button",{onClick:()=>an(2,0),className:"p-1 bg-gray-100 dark:bg-slate-800 rounded",children:"W+"}),d.jsx("button",{onClick:()=>an(-2,0),className:"p-1 bg-gray-100 dark:bg-slate-800 rounded",children:"W-"}),d.jsx("button",{onClick:()=>an(0,2),className:"p-1 bg-gray-100 dark:bg-slate-800 rounded",children:"H+"}),d.jsx("button",{onClick:()=>an(0,-2),className:"p-1 bg-gray-100 dark:bg-slate-800 rounded",children:"H-"})]})]})]})}),d.jsx(KZ,{isOpen:st,onClose:()=>qe(!1),rawImageData:n,roi:a,selectedChannel:p===-1?0:p,channelName:p===-1?"Red (Default)":br[p],zIndex:s?s+2:102,onFocus:l})]}):null},ZZ=({isOpen:e,onClose:t,onMinimize:r,rawImageData:n,roi:a,isBGGR:o,zIndex:i,onFocus:s,initialPosition:l,initialInternalState:c,onUpdateState:u})=>{const[f,h]=O.useState((c==null?void 0:c.selectedChannelKey)||"G1"),[p,m]=O.useState((c==null?void 0:c.blackLevel)??0),[v,x]=O.useState((c==null?void 0:c.whiteLevel)??16383),[y,g]=O.useState(null),[b,S]=O.useState(!1),[w,k]=O.useState(null),[j,_]=O.useState(l||{x:150,y:150}),[P,A]=O.useState(!1),N=O.useRef({x:0,y:0});O.useEffect(()=>{u&&u({selectedChannelKey:f,blackLevel:p,whiteLevel:v})},[f,p,v]),O.useEffect(()=>{if(e&&n&&!c){const T=n.blackLevels?Math.floor(n.blackLevels[1]):0;m(T),x(n.whiteLevel||16383),g(null)}},[e,n]);const E=()=>{if(!n||!a)return;k(null),S(!0);const R=(o?{B:0,G1:1,G2:2,R:3}:{R:0,G1:1,G2:2,B:3})[f];setTimeout(()=>{try{const W=HZ(n.data,n.width,n.height,a,R,p,v);W?g(W):(k("No data found in selection with current filters."),g(null))}catch(W){console.error("Analysis failed:",W),k(W.message||"Analysis error")}finally{S(!1)}},50)},F=T=>{s&&s(),!(T.target.closest("button")||T.target.closest("input")||T.target.closest("select"))&&(A(!0),N.current={x:T.clientX-j.x,y:T.clientY-j.y})};if(O.useEffect(()=>{const T=W=>{P&&_({x:W.clientX-N.current.x,y:W.clientY-N.current.y})},R=()=>A(!1);return P&&(window.addEventListener("mousemove",T),window.addEventListener("mouseup",R)),()=>{window.removeEventListener("mousemove",T),window.removeEventListener("mouseup",R)}},[P]),!e)return null;const I=o?["B","G1","G2","R"]:["R","G1","G2","B"];return d.jsxs("div",{className:"fixed flex flex-col bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 shadow-2xl rounded-xl resize-both overflow-hidden min-w-[500px] min-h-[400px] w-[900px] h-[700px]",style:{left:j.x,top:j.y,zIndex:i??100},onMouseDownCapture:s,children:[d.jsxs("div",{className:`flex justify-between items-center p-4 border-b border-gray-200 dark:border-slate-700 bg-white dark:bg-slate-900 select-none ${P?"cursor-grabbing":"cursor-grab"}`,onMouseDown:F,children:[d.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-slate-100 flex items-center gap-2 pointer-events-none",children:"Quantization Step Analysis"}),d.jsxs("div",{className:"flex items-center gap-1",children:[r&&d.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors",children:d.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),d.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 p-2",children:d.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),d.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-800/50 border-b border-gray-200 dark:border-slate-700 flex flex-wrap gap-4 items-end flex-shrink-0",children:[d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"Channel"}),d.jsx("select",{value:f,onChange:T=>h(T.target.value),className:"bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded px-3 py-1.5 text-sm text-gray-900 dark:text-slate-100 outline-none focus:ring-1 focus:ring-cyan-500 min-w-[80px]",children:I.map(T=>d.jsx("option",{value:T,children:T},T))})]}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"Black Level"}),d.jsx("input",{type:"number",value:p,onChange:T=>m(Number(T.target.value)),className:"w-24 px-3 py-1.5 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-sm text-gray-900 dark:text-slate-100"})]}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"White Level"}),d.jsx("input",{type:"number",value:v,onChange:T=>x(Number(T.target.value)),className:"w-24 px-3 py-1.5 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-sm text-gray-900 dark:text-slate-100"})]}),d.jsx("button",{onClick:E,disabled:b,className:"mb-0.5 px-5 py-1.5 bg-cyan-600 hover:bg-cyan-500 text-white font-bold rounded shadow-sm hover:shadow transition-colors disabled:opacity-50 text-sm",children:b?"Analyzing...":"Run Analysis"})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-4 flex flex-col gap-4 bg-white dark:bg-slate-900 min-h-0",children:[w&&d.jsx("div",{className:"p-3 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 rounded text-sm text-center flex-shrink-0",children:w}),!y&&!b&&!w&&d.jsx("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-400 dark:text-slate-500 h-full",children:d.jsx("p",{children:"Configure parameters and click Run Analysis"})}),y&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 flex-shrink-0",children:[d.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 rounded-lg border border-gray-200 dark:border-slate-700 text-center",children:[d.jsx("div",{className:"text-xs text-gray-500 dark:text-slate-400 uppercase mb-1",children:"Unique Codes"}),d.jsx("div",{className:"text-xl font-bold text-gray-900 dark:text-slate-100",children:y.uniqueCount})]}),d.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 rounded-lg border border-gray-200 dark:border-slate-700 text-center",children:[d.jsx("div",{className:"text-xs text-gray-500 dark:text-slate-400 uppercase mb-1",children:"Total Diffs"}),d.jsx("div",{className:"text-xl font-bold text-gray-900 dark:text-slate-100",children:y.diffCount})]})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800/50 rounded-xl border border-gray-200 dark:border-slate-700 overflow-hidden flex-shrink-0",children:[d.jsx("div",{className:"px-4 py-2 bg-gray-50 dark:bg-slate-800 border-b border-gray-200 dark:border-slate-700 text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"Step Distribution"}),d.jsx("div",{className:"p-4 flex flex-wrap gap-x-8 gap-y-2 text-sm font-mono max-h-32 overflow-y-auto",children:Object.entries(y.stepCounts).sort((T,R)=>parseFloat(T[0])-parseFloat(R[0])).map(([T,R])=>d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("span",{className:"text-gray-500 dark:text-slate-400",children:["Step ",T,":"]}),d.jsx("span",{className:"text-cyan-600 dark:text-cyan-400 font-bold",children:String(R)})]},T))})]}),d.jsxs("div",{className:"flex-1 bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 rounded-xl p-2 relative overflow-hidden min-h-[300px]",children:[d.jsx("div",{className:"absolute top-2 left-4 text-xs font-bold text-gray-400 dark:text-slate-500 pointer-events-none z-20 bg-white/80 dark:bg-slate-900/80 px-2 rounded",children:"Step Size vs Code Value"}),d.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-0 pointer-events-none select-none opacity-10 mix-blend-normal dark:mix-blend-plus-lighter",children:d.jsx("svg",{viewBox:"0 0 500 60",className:"w-96 h-auto",children:d.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"36",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})}),d.jsx("div",{className:"relative z-10 w-full h-full",children:d.jsx(js,{width:"100%",height:"100%",children:d.jsxs(bv,{data:y.plotData,margin:{top:20,right:20,bottom:20,left:10},children:[d.jsx(Oi,{strokeDasharray:"3 3",stroke:"#374151",opacity:.1}),d.jsx(ha,{dataKey:"x",type:"number",domain:["auto","auto"],tick:{fill:"#9ca3af",fontSize:10},label:{value:"Code Value (Shifted)",position:"insideBottom",offset:-10,fill:"#9ca3af",fontSize:11}}),d.jsx(pa,{tick:{fill:"#9ca3af",fontSize:10},domain:[0,"auto"],allowDataOverflow:!1,label:{value:"Step Size (Delta)",angle:-90,position:"insideLeft",fill:"#9ca3af",fontSize:11}}),d.jsx(un,{contentStyle:{backgroundColor:"rgba(17, 24, 39, 0.95)",border:"1px solid #374151",borderRadius:"0.5rem",color:"#f3f4f6",fontSize:"12px"},labelFormatter:T=>`Val: ${T}`,formatter:T=>[T,"Step Size"]}),d.jsx(en,{type:"stepAfter",dataKey:"y",stroke:"#0891b2",strokeWidth:1.5,dot:{r:1.5,fill:"#0891b2",strokeWidth:0},activeDot:{r:4},isAnimationActive:!1})]})})})]})]})]})]})},QZ=[{href:"https://y-g-jiang.github.io/LAC.html",text:"",abbr:"LAC",description:""},{href:"https://y-g-jiang.github.io/CCGV.html",text:"adobeIECMF",abbr:"CCGV",description:"acrRAWxy"},{href:"https://y-g-jiang.github.io/JTJS.html",text:"",abbr:"JTJS",description:"CMF/"},{href:"https://y-g-jiang.github.io/CBLD.html",text:"",abbr:"CBLD",description:""},{href:"https://y-g-jiang.github.io/XJZS.html",text:"",abbr:"XJZS",description:""}],JZ=({isOpen:e,onClose:t})=>e?d.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",onClick:t,children:d.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-3xl rounded-2xl shadow-2xl border border-gray-200 dark:border-slate-700 overflow-hidden flex flex-col max-h-[90vh]",onClick:r=>r.stopPropagation(),children:[d.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"About / Tools"}),d.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 transition-colors p-1 rounded hover:bg-gray-200 dark:hover:bg-slate-700",children:d.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),d.jsxs("div",{className:"p-6 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-slate-700",children:[d.jsx("div",{className:"mb-8 p-4 bg-gray-50 dark:bg-slate-800/50 rounded-xl border border-gray-100 dark:border-slate-700 text-center",children:d.jsxs("p",{className:"text-lg text-gray-700 dark:text-slate-300",children:[d.jsx("span",{className:"font-bold mr-2",children:"about:"}),d.jsx("a",{href:"https://y-g-jiang.github.io/JOindex.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline break-all font-mono",children:"https://y-g-jiang.github.io/JOindex.html"})]})}),d.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[d.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 flex-1"}),d.jsx("span",{className:"text-sm font-bold text-gray-400 dark:text-slate-500 uppercase tracking-wider",children:"Tools Collection"}),d.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 flex-1"})]}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:QZ.map(r=>d.jsxs("a",{href:r.href,target:"_blank",rel:"noopener noreferrer",className:"group block p-4 rounded-xl border border-gray-200 dark:border-slate-700 bg-white dark:bg-slate-800/30 hover:bg-gray-50 dark:hover:bg-slate-800 hover:border-cyan-500 dark:hover:border-cyan-500 hover:shadow-md transition-all duration-200 relative overflow-hidden",children:[d.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-gradient-to-bl from-cyan-500/5 to-transparent -mr-8 -mt-8 rounded-full pointer-events-none group-hover:from-cyan-500/10 transition-colors"}),d.jsxs("div",{className:"flex items-center gap-3 mb-2 relative z-10",children:[d.jsx("span",{className:"px-2 py-1 text-xs font-bold bg-gray-100 dark:bg-slate-700 text-gray-600 dark:text-slate-300 group-hover:bg-cyan-100 dark:group-hover:bg-cyan-900/50 group-hover:text-cyan-700 dark:group-hover:text-cyan-300 rounded transition-colors border border-gray-200 dark:border-slate-600 group-hover:border-cyan-200 dark:group-hover:border-cyan-800",children:r.abbr}),d.jsx("h3",{className:"font-bold text-gray-800 dark:text-slate-200 group-hover:text-cyan-600 dark:group-hover:text-cyan-400 transition-colors",children:r.text})]}),d.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400 pl-1 group-hover:text-gray-600 dark:group-hover:text-slate-300 transition-colors relative z-10",children:r.description})]},r.abbr))})]})]})}):null,eQ=({isOpen:e,onClose:t,data:r,fileName:n,warning:a})=>{const[o,i]=O.useState(""),s=u=>{const f=new WeakSet;try{return JSON.stringify(u,(h,p)=>{if(typeof p=="bigint")return p.toString()+"n";if(typeof p=="object"&&p!==null){if(f.has(p))return"[Circular]";if(f.add(p),ArrayBuffer.isView(p))return`[${p.constructor.name}]`}return p})}catch{return"[Unable to serialize object]"}},l=O.useMemo(()=>{if(!r)return[];const u=[],f=(h,p=0)=>{if(p>5)return"...";if(h==null)return String(h);if(h instanceof Date)return h.toLocaleString();if(typeof h=="number")return h.toString();if(typeof h=="string")return h;if(typeof h=="bigint")return h.toString()+"n";if(ArrayBuffer.isView(h))return`<${h.constructor.name} len=${h.length} bytes=${h.byteLength}>`;if(h instanceof ArrayBuffer)return`<ArrayBuffer bytes=${h.byteLength}>`;if(typeof h=="object"){if(Array.isArray(h))return h.length===0?"[]":h.length>20?`[${h.slice(0,10).map(x=>typeof x=="number"?x.toFixed(2):f(x,p+1)).join(", ")}, ... (+${h.length-10} more)]`:`[${h.map(v=>typeof v=="number"?Number.isInteger(v)?v:v.toFixed(4):f(v,p+1)).join(", ")}]`;try{const m=Object.keys(h);return m.length>5?`{Object with ${m.length} keys}`:s(h)}catch{return"<Complex Object>"}}return String(h)};try{if(typeof r!="object")return[{key:"Value",value:String(r)}];Object.keys(r).sort().forEach(p=>{if(p==="MakerNote"||p==="UserComment"||p.includes("Strip")||p.includes("Offset")){u.push({key:p,value:"<Binary/Internal Data>"});return}const m=r[p];u.push({key:p,value:f(m)})})}catch(h){console.error("Error processing EXIF data:",h),u.push({key:"Error",value:"Failed to process metadata structure."})}return u},[r]);if(!e)return null;const c=l.filter(u=>u.key.toLowerCase().includes(o.toLowerCase())||u.value.toLowerCase().includes(o.toLowerCase()));return d.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",onClick:t,children:d.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-3xl max-h-[90vh] rounded-2xl shadow-2xl flex flex-col border border-gray-200 dark:border-slate-700",onClick:u=>u.stopPropagation(),children:[d.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-gray-200 dark:border-slate-700",children:[d.jsxs("div",{className:"overflow-hidden",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-slate-100",children:"EXIF Data"}),d.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mt-1 font-mono truncate",children:n})]}),d.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 transition-colors p-2 rounded-full hover:bg-gray-100 dark:hover:bg-slate-800",children:d.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a&&d.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 px-4 py-2 border-b border-amber-100 dark:border-amber-800/50 text-center",children:d.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400 whitespace-pre-line font-medium leading-relaxed",children:a})}),d.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50",children:d.jsxs("div",{className:"relative",children:[d.jsx("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),d.jsx("input",{type:"text",placeholder:"Search tags...",value:o,onChange:u=>i(u.target.value),className:"w-full pl-9 pr-4 py-2 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded-lg text-sm focus:ring-2 focus:ring-cyan-500 outline-none text-gray-900 dark:text-slate-100 transition-colors placeholder-gray-400"})]})}),d.jsx("div",{className:"overflow-y-auto flex-1 p-0 scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-slate-700",children:c.length>0?d.jsxs("table",{className:"w-full text-left border-collapse table-fixed",children:[d.jsx("thead",{className:"bg-gray-50 dark:bg-slate-800 sticky top-0 shadow-sm z-10",children:d.jsxs("tr",{children:[d.jsx("th",{className:"py-3 px-5 font-semibold text-xs text-gray-500 dark:text-slate-400 uppercase tracking-wider w-1/3 border-b border-gray-200 dark:border-slate-700",children:"Tag Name"}),d.jsx("th",{className:"py-3 px-5 font-semibold text-xs text-gray-500 dark:text-slate-400 uppercase tracking-wider w-2/3 border-b border-gray-200 dark:border-slate-700",children:"Value"})]})}),d.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-slate-800",children:c.map(u=>d.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-800/50 transition-colors group",children:[d.jsx("td",{className:"py-2 px-5 text-sm font-medium text-cyan-600 dark:text-cyan-400 font-mono break-words align-top",children:u.key}),d.jsx("td",{className:"py-2 px-5 text-sm text-gray-700 dark:text-slate-300 font-mono break-words align-top group-hover:text-gray-900 dark:group-hover:text-slate-100",children:u.value})]},u.key))})]}):d.jsx("div",{className:"flex flex-col items-center justify-center h-64 text-gray-400 dark:text-slate-500",children:d.jsxs("p",{children:['No tags found matching "',o,'"']})})}),d.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50 flex justify-end rounded-b-2xl",children:d.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-800 dark:text-white rounded-lg text-sm font-semibold transition-colors",children:"Close"})})]})})},tQ=100,Vp=e=>{if(e.length===0)return 0;if(e.length===1)return e[0];if(e.length===2)return .5*(e[0]+e[1]);let t=[...e].sort((r,n)=>r-n);for(;t.length>4;){let r=1/0,n=0;const a=t.length,o=Math.floor(a/2);for(let i=0;i<=a-o;i++){const s=t[i+o-1]-t[i];s<r&&(r=s,n=i)}t=t.slice(n,n+o)}return t.reduce((r,n)=>r+n,0)/t.length},N2=({min:e,max:t,value:r,onChange:n,vertical:a=!1,logScale:o=!1})=>{const i=O.useRef(null),s=O.useRef(null),l=O.useCallback(g=>{const b=o?Math.max(1e-6,e):e,S=o?Math.max(b*1.0001,t):t,w=Math.max(b,Math.min(S,g));if(o){const k=Math.log10(b),j=Math.log10(S);return(Math.log10(w)-k)/(j-k)}return(w-b)/(S-b)},[e,t,o]),c=O.useCallback(g=>{const b=o?Math.max(1e-6,e):e,S=o?Math.max(b*1.0001,t):t;if(o){const w=Math.log10(b),k=Math.log10(S);return Math.pow(10,w+g*(k-w))}return b+g*(S-b)},[e,t,o]),u=(g,b)=>{g.preventDefault(),g.stopPropagation(),s.current=b;const S=k=>{if(!s.current||!i.current)return;const j=i.current.getBoundingClientRect();let _=0;a?_=(j.bottom-k.clientY)/j.height:_=(k.clientX-j.left)/j.width,_=Math.max(0,Math.min(1,_));const P=c(_);if(s.current==="min"){const A=r[1];n([Math.min(P,A),A])}else{const A=r[0];n([A,Math.max(P,A)])}},w=()=>{s.current=null,window.removeEventListener("mousemove",S),window.removeEventListener("mouseup",w)};window.addEventListener("mousemove",S),window.addEventListener("mouseup",w)},f=l(r[0])*100,h=l(r[1])*100,p=a?{left:"50%",top:0,bottom:0,width:"4px",transform:"translateX(-50%)"}:{top:"50%",left:0,right:0,height:"4px",transform:"translateY(-50%)"},m=a?{left:"50%",bottom:`${f}%`,height:`${h-f}%`,width:"4px",transform:"translateX(-50%)"}:{top:"50%",left:`${f}%`,width:`${h-f}%`,height:"4px",transform:"translateY(-50%)"},v="absolute w-3 h-3 bg-white border-2 border-cyan-600 rounded-full shadow-md cursor-pointer hover:scale-125 transition-transform z-10",x=a?{left:"50%",bottom:`${f}%`,transform:"translate(-50%, 50%)"}:{top:"50%",left:`${f}%`,transform:"translate(-50%, -50%)"},y=a?{left:"50%",bottom:`${h}%`,transform:"translate(-50%, 50%)"}:{top:"50%",left:`${h}%`,transform:"translate(-50%, -50%)"};return d.jsxs("div",{ref:i,className:`relative select-none ${a?"h-full w-4 py-2":"w-full h-4 px-2"}`,children:[d.jsx("div",{className:"absolute bg-gray-300 dark:bg-slate-600 rounded-full",style:p}),d.jsx("div",{className:"absolute bg-cyan-500 dark:bg-cyan-400 rounded-full",style:m}),d.jsx("div",{className:v,style:x,onMouseDown:g=>u(g,"min")}),d.jsx("div",{className:v,style:y,onMouseDown:g=>u(g,"max")})]})},rQ=({isOpen:e,onClose:t,data:r,blackLevel:n,imageHeight:a,isBGGR:o,importedMetadata:i,theme:s,initialCameraModel:l,initialISO:c})=>{const[u,f]=O.useState("Noise"),[h,p]=O.useState(!0),[m,v]=O.useState(null),[x,y]=O.useState("default"),[g,b]=O.useState(!1),[S,w]=O.useState(!1),[k,j]=O.useState({R:!0,G1:!0,G2:!0,B:!0}),[_,P]=O.useState(""),[A,N]=O.useState(""),[E,F]=O.useState(""),[I,T]=O.useState(""),[R,W]=O.useState("10"),[L,D]=O.useState(""),[B,J]=O.useState("0 0 0 0"),[q,H]=O.useState("0 0 0 0"),[U,ue]=O.useState(!1),[fe,be]=O.useState(null),[ve,G]=O.useState(!1),[ce,me]=O.useState(0),[Z,We]=O.useState([]),[_e,st]=O.useState(""),[qe,bt]=O.useState(""),hr=()=>{const $=parseFloat(_e),X=parseFloat(qe);!isNaN($)&&!isNaN(X)&&(We([...Z,{id:Date.now(),x:$,y:X}]),st(""),bt(""))},[pt,Ur]=O.useState(()=>localStorage.getItem("ptc_tester_name")||""),[at,sr]=O.useState(""),[lr,Dr]=O.useState("");O.useEffect(()=>{localStorage.setItem("ptc_tester_name",pt)},[pt]);const Zt=O.useRef(U),jn=O.useRef(ve),Ar=O.useRef(ce);O.useEffect(()=>{Zt.current=U,jn.current=ve,Ar.current=ce},[U,ve,ce]);const[yr,cr]=O.useState(null),[ur,Tt]=O.useState({min:.01,max:90}),[St,Ke]=O.useState({readNoise:0,gain:1,prnu:.5}),[$t,rr]=O.useState(2e6),vr=O.useRef(St),xr=O.useRef(ur),On=O.useRef($t);O.useEffect(()=>{vr.current=St,xr.current=ur,On.current=$t},[St,ur,$t]);const[Dt,rn]=O.useState({read:"0",gain:"1.0",prnu:"0.5",rangeMin:"0.01",rangeMax:"90"}),[ut,Rr]=O.useState({read:!0,shot:!0,prnu:!0,total:!0,fitRange:!0}),[nn,Gr]=O.useState(!1),[Lr,Hr]=O.useState([]),[br,Ln]=O.useState(null),[Pt,K]=O.useState(""),$e=O.useMemo(()=>n?n.join(","):"",[n]);O.useEffect(()=>{if(e){let $="0 0 0 0";i&&i.blackLevel?$=i.blackLevel.join(" "):$=n&&n.length===4?n.join(" "):"0 0 0 0",J($),H($);let X="";if(i&&i.height?X=i.height.toString():a&&(X=a.toString()),D(X),X){const Q=parseFloat(X);!isNaN(Q)&&Q>0?W((2309.4/Q).toFixed(2)):W("10")}else W("10");be(null),ue(!1),G(!1),me(0),Hr([]),Ln(null),Tt({min:.01,max:90}),rn({read:"0",gain:"0",prnu:"0",rangeMin:"0.01",rangeMax:"90"}),Ke({readNoise:0,gain:0,prnu:0}),P(""),N(""),F(""),T(""),f("Noise"),cr(null),rr(2e6),K(""),w(!1),We([]),sr(Q=>Q.trim()===""&&l?l:Q),Dr(Q=>Q.trim()===""&&c?c:Q)}},[e,$e,i,a,r,l,c]);const Gt=$=>{if($.key==="Enter"){const X=parseFloat(L);if(!isNaN(X)&&X>0){const Q=(2309.4/X).toFixed(2);W(Q)}$.target.blur()}},lt=O.useMemo(()=>{let X=q.trim().split(/[\s,]+/).filter(Boolean).map(Number);for(X.length===1&&(X=[X[0],X[0],X[0],X[0]]);X.length<4;)X.push(0);const Q=C=>{switch(C){case"R":return X[0];case"G1":return X[1];case"G2":return X[2];case"B":return X[3];default:return 0}};return r.map(C=>{const le=C.mean-Q(C.channel),Se=C.std>0?le/C.std:0;return{...C,x:le,std:C.std,snr:Se}}).filter(C=>C.std>0)},[r,q]),Bt=O.useMemo(()=>{const $=St.readNoise,X=$*$;return lt.map(Q=>{let C=0;if(u==="Noise")C=Q.std;else if(u==="SNR")C=Q.snr;else if(u==="Linear"){const Se=Q.std*Q.std-X;C=Q.x!==0?Se/Q.x:0}return{...Q,y:C}})},[lt,u,St.readNoise]),Ze=O.useMemo(()=>{if(lt.length===0)return"G1";const $={R:0,G1:0,G2:0,B:0},X={R:0,G1:0,G2:0,B:0};for(const le of lt)$[le.channel]+=le.x,X[le.channel]++;let Q="G1",C=-1/0;return Object.keys($).forEach(le=>{const Se=X[le],Me=Se>0?$[le]/Se:-1/0;Me>C&&(C=Me,Q=le)}),Q},[lt]),Vr=O.useCallback(()=>{let $=1/0,X=-1/0;if(lt.length===0)return{min:.1,max:1};for(let Q=0;Q<lt.length;Q++){const C=lt[Q].x;h&&C<=0||(C<$&&($=C),C>X&&(X=C))}return $===1/0?{min:.1,max:1}:{min:$,max:X}},[lt,h]),an=O.useCallback(()=>{let $=1/0,X=-1/0;if(Bt.length===0)return{min:.1,max:1};for(let Q=0;Q<Bt.length;Q++){const C=Bt[Q].y;h&&C<=0||(C<$&&($=C),C>X&&(X=C))}return $===1/0?{min:.1,max:1}:{min:$*.9,max:X*1.1}},[Bt,h]),{min:ee,max:xe}=Vr(),{min:ot,max:Nt}=an(),Ee=xe*(ur.min/100),Rt=xe*(ur.max/100),ct=O.useMemo(()=>{if(!h&&Bt.length===0)return{shot:[],read:[],prnu:[],total:[]};const $=_?parseFloat(_):ee,X=A?parseFloat(A):xe,Q=100,C=Math.max(.1,$),le=Math.max(1,X);if(C>=le)return{shot:[],read:[],prnu:[],total:[]};const Se=Math.log10(C),Ue=(Math.log10(le)-Se)/Q,He=St.readNoise,Re=St.gain>0?St.gain:1,Mt=St.prnu/100,wt=[],Ft=[],nr=[],ne=[];for(let Xe=0;Xe<=Q;Xe++){const Ne=Math.pow(10,Se+Xe*Ue);if(u==="Linear"){const zt=1/Re,jt=Mt*Mt,on=zt+jt*Ne;ne.push({x:Ne,y:on}),wt.push({x:Ne,y:zt}),nr.push({x:Ne,y:jt*Ne})}else{const zt=He,jt=Math.sqrt(Ne/Re),on=Mt*Ne,vt=Math.sqrt(zt*zt+jt*jt+on*on);u==="Noise"?(wt.push({x:Ne,y:jt}),Ft.push({x:Ne,y:zt}),nr.push({x:Ne,y:on}),ne.push({x:Ne,y:vt})):(jt>0&&wt.push({x:Ne,y:Ne/jt}),zt>0&&Ft.push({x:Ne,y:Ne/zt}),on>0&&nr.push({x:Ne,y:Ne/on}),vt>0&&ne.push({x:Ne,y:Ne/vt}))}}return{shot:wt,read:Ft,prnu:nr,total:ne}},[Bt,h,_,A,St,u,ee,xe]),At=O.useMemo(()=>{if(u==="Linear")return[];const $=parseFloat(R);if(isNaN($)||$<=0)return[];const X=_?parseFloat(_):ee,Q=A?parseFloat(A):xe;return u==="SNR"?[{x:X,y:$},{x:Q,y:$}]:[{x:X,y:X/$},{x:Q,y:Q/$}]},[Bt,R,u,_,A,ee,xe]),Ae=O.useCallback(($,X)=>{if(!X||X.length===0)return null;const Q=[...X].sort((C,le)=>C.x-le.x);for(let C=0;C<Q.length-1;C++){const le=Q[C],Se=Q[C+1];if(le.snr<=$&&Se.snr>=$||le.snr>=$&&Se.snr<=$){const Me=($-le.snr)/(Se.snr-le.snr);return le.x+Me*(Se.x-le.x)}}return null},[]),ft=O.useMemo(()=>{const $=lt,X=1e3,Q=le=>{if(le.length===0)return[];if(le.length<=X)return le;const Se=[...le].sort((He,Re)=>He.x-Re.x),Me=[],Ue=Se.length/X;for(let He=0;He<X;He++){const Re=Math.floor(He*Ue),Mt=Math.floor((He+1)*Ue),wt=Se.slice(Re,Mt);if(wt.length===0)continue;wt.sort((nr,ne)=>nr.std-ne.std);const Ft=Math.floor(wt.length/2);Me.push(wt[Ft])}return Me},C={R:[],G1:[],G2:[],B:[]};return $.forEach(le=>{C[le.channel]&&C[le.channel].push(le)}),{R:Q(C.R),G1:Q(C.G1),G2:Q(C.G2),B:Q(C.B)}},[lt]),Pe=O.useMemo(()=>fe&&St.gain?fe*St.gain:null,[fe,St.gain]),ie=O.useMemo(()=>{if(fe===null||fe===0)return null;const $=parseFloat(R);let X=null;if(!isNaN($)&&$>0){let Me=0,Ue=0;if(["R","G1","G2","B"].forEach(He=>{const Re=Ae($,ft[He]);Re!==null&&(Me+=Re,Ue++)}),Ue>0){const He=Me/Ue;X=Math.log2(fe/He)}}const Q=parseFloat(L);let C=null,le=NaN;if(!isNaN(Q)&&Q>0){le=16e3/Q;let Me=0,Ue=0;if(["R","G1","G2","B"].forEach(He=>{const Re=Ae(le,ft[He]);Re!==null&&(Me+=Re,Ue++)}),Ue>0){const He=Me/Ue;C=Math.log2(fe/He)}}let Se=null;if(!isNaN(Q)&&Q>0){const Me=Ae(le,ft[Ze]);Me!==null&&(Se=Math.log2(fe/Me))}return{manualDR:X,ptpDR:C,d55DR:Se,manualTarget:$,ptpTarget:le,saturationSignal:fe,dominantChannel:Ze}},[fe,R,L,ft,Ae,Ze]),yt=O.useMemo(()=>{if(u==="Linear"||!ie||!ie.ptpTarget||isNaN(ie.ptpTarget))return[];const $=ie.ptpTarget,X=_?parseFloat(_):ee,Q=A?parseFloat(A):xe;return u==="SNR"?[{x:X,y:$},{x:Q,y:$}]:[{x:X,y:X/$},{x:Q,y:Q/$}]},[u,ie,_,A,ee,xe]),_n=O.useCallback(()=>{const Q=document.createElement("canvas");Q.width=2048,Q.height=1536;const C=Q.getContext("2d");if(!C)return;const le=s==="dark",Se=le?"#0f172a":"#ffffff",Me=le?"#ffffff":"#000000",Ue=le?"#475569":"#cbd5e1",He=le?"#1e293b":"#f1f5f9",Re=o?{R:"#ef4444",G1:"#22c55e",G2:"#4ade80",B:"#3b82f6"}:{R:"#ef4444",G1:"#22c55e",G2:"#4ade80",B:"#3b82f6"};C.fillStyle=Se,C.fillRect(0,0,2048,1536);let Mt=_?parseFloat(_):ee,wt=A?parseFloat(A):xe,Ft=E?parseFloat(E):ot,nr=I?parseFloat(I):Nt;isNaN(Mt)&&(Mt=.1),isNaN(wt)&&(wt=1e4),isNaN(Ft)&&(Ft=.1),isNaN(nr)&&(nr=1e3);const ne={top:80,right:80,bottom:100,left:120},Xe=2048-ne.left-ne.right,Ne=1536-ne.top-ne.bottom,zt=se=>{if(h){const ke=Math.log10(Math.max(1e-9,Mt)),ye=Math.log10(Math.max(1e-9,wt)),de=Math.log10(Math.max(1e-9,se));return ne.left+(de-ke)/(ye-ke)*Xe}else return ne.left+(se-Mt)/(wt-Mt)*Xe},jt=se=>{if(h){const ke=Math.log10(Math.max(1e-9,Ft)),ye=Math.log10(Math.max(1e-9,nr)),de=Math.log10(Math.max(1e-9,se));return ne.top+Ne-(de-ke)/(ye-ke)*Ne}else return ne.top+Ne-(se-Ft)/(nr-Ft)*Ne};if(C.beginPath(),h){const se=(ke,ye,de)=>{const we=Math.log10(Math.max(1e-9,ke)),gt=Math.log10(Math.max(1e-9,ye)),Ge=Math.floor(we),tt=Math.ceil(gt);for(let it=Ge;it<=tt;it++){const rt=Math.pow(10,it);let Ye=de?zt(rt):jt(rt);(de?Ye>=ne.left-1&&Ye<=ne.left+Xe+1:Ye>=ne.top-1&&Ye<=ne.top+Ne+1)&&(C.lineWidth=1.5,C.strokeStyle=Ue,C.beginPath(),de?(C.moveTo(Ye,ne.top),C.lineTo(Ye,ne.top+Ne)):(C.moveTo(ne.left,Ye),C.lineTo(ne.left+Xe,Ye)),C.stroke()),C.lineWidth=.5,C.strokeStyle=He;for(let va=2;va<10;va++){const ar=va*rt;Ye=de?zt(ar):jt(ar),(de?Ye>=ne.left&&Ye<=ne.left+Xe:Ye>=ne.top&&Ye<=ne.top+Ne)&&(C.beginPath(),de?(C.moveTo(Ye,ne.top),C.lineTo(Ye,ne.top+Ne)):(C.moveTo(ne.left,Ye),C.lineTo(ne.left+Xe,Ye)),C.stroke())}}};se(Mt,wt,!0),se(Ft,nr,!1)}else{C.strokeStyle=Ue,C.lineWidth=1;for(let se=0;se<=5;se++){const ke=ne.left+Xe*se/5;C.beginPath(),C.moveTo(ke,ne.top),C.lineTo(ke,ne.top+Ne),C.stroke();const ye=ne.top+Ne*se/5;C.beginPath(),C.moveTo(ne.left,ye),C.lineTo(ne.left+Xe,ye),C.stroke()}}C.strokeStyle=Me,C.lineWidth=2,C.strokeRect(ne.left,ne.top,Xe,Ne);const on=(se,ke,ye)=>{se<ne.left||se>ne.left+Xe||ke<ne.top||ke>ne.top+Ne||(C.fillStyle=ye,C.fillRect(se-1.5,ke-1.5,3,3))},vt=Bt.filter(se=>!(h&&(se.x<=0||se.y<=0)));vt.forEach(se=>{k[se.channel]&&se.channel!==Ze&&on(zt(se.x),jt(se.y),Re[se.channel])}),vt.forEach(se=>{k[se.channel]&&se.channel===Ze&&on(zt(se.x),jt(se.y),Re[se.channel])}),Z.forEach(se=>{const ke=zt(se.x),ye=jt(se.y);if(ke<ne.left||ke>ne.left+Xe||ye<ne.top||ye>ne.top+Ne)return;C.strokeStyle="#d946ef",C.lineWidth=2.5;const de=6;C.beginPath(),C.moveTo(ke-de,ye-de),C.lineTo(ke+de,ye+de),C.moveTo(ke+de,ye-de),C.lineTo(ke-de,ye+de),C.stroke()});const Qt=(se,ke,ye=[])=>{if(se.length<2)return;C.beginPath(),C.strokeStyle=ke,C.lineWidth=3,C.setLineDash(ye);let de=!1;for(const we of se){const gt=zt(we.x),Ge=jt(we.y);if(gt<ne.left-100||gt>ne.left+Xe+100||Ge<ne.top-100||Ge>ne.top+Ne+100){de=!1;continue}de?C.lineTo(gt,Ge):(C.moveTo(gt,Ge),de=!0)}C.stroke(),C.setLineDash([])},Mr=le?"#ffffff":"#000000";if(ut.shot&&Qt(ct.shot,"#94a3b8",[5,5]),ut.read&&Qt(ct.read,"#f43f5e",[3,3]),ut.prnu&&Qt(ct.prnu,"#f59e0b",[3,3]),ut.total&&Qt(ct.total,Mr,[]),At.length===2){const se="#6366f1";Qt(At,se,[4,2]);const ke=At[1],ye=jt(ke.y);ye>=ne.top&&ye<=ne.top+Ne&&(C.fillStyle=se,C.font="bold 20px sans-serif",C.textAlign="right",C.textBaseline="bottom",C.fillText(`M.Tgt=${R}`,ne.left+Xe-10,ye-8))}if(yt.length===2&&(ie!=null&&ie.ptpTarget)){const se="#10b981";Qt(yt,se,[4,4]);const ke=yt[1],ye=jt(ke.y);if(ye>=ne.top&&ye<=ne.top+Ne){C.fillStyle=se,C.font="bold 20px sans-serif",C.textAlign="right",C.textBaseline="bottom";const de=ie.ptpTarget.toFixed(1),we=At.length===2?jt(At[1].y):-100,gt=Math.abs(ye-we)<25?25:0;C.fillText(`PTP=${de}`,ne.left+Xe-10,ye-8-gt)}}if(ut.fitRange||ve){const se=(ke,ye)=>{const de=zt(ke);de>=ne.left&&de<=ne.left+Xe&&(C.beginPath(),C.strokeStyle=ye,C.lineWidth=2,C.setLineDash([8,8]),C.moveTo(de,ne.top),C.lineTo(de,ne.top+Ne),C.stroke(),C.setLineDash([]))};se(Ee,"#22d3ee"),se(Rt,"#22d3ee")}if(fe){const se=zt(fe);se>=ne.left&&se<=ne.left+Xe&&(C.strokeStyle="#ef4444",C.lineWidth=3,C.setLineDash([10,10]),C.beginPath(),C.moveTo(se,ne.top),C.lineTo(se,ne.top+Ne),C.stroke(),C.setLineDash([]),C.fillStyle="#ef4444",C.font="bold 24px sans-serif",C.textAlign="center",C.fillText("Sat",se,ne.top-10))}C.fillStyle=Me,C.font="28px monospace",C.textAlign="center",C.fillText(Mt.toExponential(1),ne.left,ne.top+Ne+40),C.fillText(wt.toExponential(1),ne.left+Xe,ne.top+Ne+40),C.fillText("Signal (DN)",ne.left+Xe/2,ne.top+Ne+80),C.textAlign="right",C.textBaseline="middle",C.fillText(Ft.toExponential(1),ne.left-20,ne.top+Ne),C.fillText(nr.toExponential(1),ne.left-20,ne.top),C.save(),C.translate(ne.left-80,ne.top+Ne/2),C.rotate(-Math.PI/2),C.textAlign="center",C.fillText(u==="Linear"?"(Var - RN) / Mean":u,0,0),C.restore(),C.save(),C.translate(2048/2,1536/2),C.rotate(-Math.PI/6),C.textAlign="center",C.textBaseline="middle",C.fillStyle=le?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)",C.font="bold 150px sans-serif",C.fillText(" y-g-jiang.github.io",0,0),C.restore(),C.fillStyle=Me,C.font="bold 36px sans-serif",C.textAlign="left",C.textBaseline="top",C.fillText(`PTC Export: ${u} Mode`,ne.left,20),C.font="24px sans-serif",C.fillStyle=le?"#94a3b8":"#64748b",C.fillText(`Points: ${Bt.length} | Sat Channel: ${Ze}`,ne.left,65);const Da=ne.left+30,Di=ne.top+30,z=70,V=se=>{if(!fe||se<=0)return"--";const ke=St.readNoise,ye=St.gain,de=St.prnu/100;if(ye<=0)return"--";const we=se*se,gt=ke*ke,Ge=1-we*de*de,tt=-(we/ye),it=-(we*gt);let rt=0;if(Math.abs(Ge)<1e-8)Math.abs(tt)>1e-8&&(rt=-it/tt);else{const Ye=tt*tt-4*Ge*it;Ye>=0&&(rt=(-tt+Math.sqrt(Ye))/(2*Ge))}return rt>0?Math.log2(fe/rt).toFixed(2)+" EV":"--"},te=ie!=null&&ie.ptpTarget&&!isNaN(ie.ptpTarget)?V(ie.ptpTarget):"--",re=R?V(parseFloat(R)):"--";C.font="bold 48px monospace",C.textAlign="left",C.textBaseline="top",C.shadowColor=le?"rgba(0,0,0,0.8)":"rgba(255,255,255,0.8)",C.shadowBlur=4,C.shadowOffsetX=1,C.shadowOffsetY=1;const he=(se,ke,ye,de)=>{const we=Di+ye*z;C.fillStyle=Me,C.fillText(se,Da,we);const gt=C.measureText(se).width;C.fillStyle=de||Me,C.fillText(ke,Da+gt,we)},Te=Dt.read,et=parseFloat(Dt.gain).toFixed(3),Le=parseFloat(Dt.prnu).toFixed(2)+"%";let Fe=`M.DR@SNR${R}: `;const je=parseFloat(L);if(!isNaN(je)&&je>0){const se=(2309.4/je).toFixed(2);Math.abs(parseFloat(R)-parseFloat(se))<.05&&(Fe="8mpSNR=1 DR: ")}he("Tester: ",pt||"N/A",0),he("Model : ",at||"Unknown",1),he("ISO   : ",lr||"N/A",2),he("RN/FPN: ",Te,3,"#f43f5e"),he("KADC  : ",et,4,"#06b6d4"),he("PRNU  : ",Le,5,"#f59e0b"),he("PTP DR: ",ie!=null&&ie.ptpDR?ie.ptpDR.toFixed(2)+" EV":"--",6,"#10b981"),he("D55 DR: ",ie!=null&&ie.d55DR?ie.d55DR.toFixed(2)+" EV":"--",7,"#8b5cf6"),he("FWC   : ",Pe?Pe>1e4?(Pe/1e3).toFixed(1)+"k":Math.round(Pe).toString():"--",8,"#f97316"),he(Fe,ie!=null&&ie.manualDR?ie.manualDR.toFixed(2)+" EV":"--",9,"#06b6d4"),he("PTCFitDR(PTP): ",te,10,"#10b981"),he("PTCFitDR(Man): ",re,11,"#06b6d4"),C.save(),C.textAlign="right",C.textBaseline="bottom",C.fillStyle="#3b82f6",C.font="bold 80px sans-serif",C.shadowColor=le?"rgba(0,0,0,0.8)":"rgba(255,255,255,0.8)",C.shadowBlur=4,C.shadowOffsetX=2,C.shadowOffsetY=2;const Ie=1988,Qe=1476,Ct=90;C.fillText("Online",Ie,Qe),C.fillText("Jiangtherapee",Ie,Qe-Ct),C.restore();const dt=document.createElement("a");dt.download=`ptc_complete_${u}_${Date.now()}.jpg`,dt.href=Q.toDataURL("image/jpeg",.9),dt.click()},[Bt,Ze,k,_,A,E,I,ee,xe,ot,Nt,h,s,u,fe,o,ut,ct,Ee,Rt,ur,ve,pt,at,lr,ie,Pe,R,At,yt,Dt,L,Z]),wr=O.useMemo(()=>{let $=Bt;if(h&&($=$.filter(le=>le.y>0&&le.x>0)),x==="top3"){const le=[...$].sort((Me,Ue)=>Ue.x-Me.x),Se=Math.max(50,Math.ceil(le.length*.03));$=le.slice(0,Se)}const X={R:[],G1:[],G2:[],B:[]};if($.forEach(le=>{X[le.channel]&&X[le.channel].push(le)}),x==="raw")return X;const Q=x==="top3"?500:tQ,C=le=>{if(le.length<=Q)return le;const Se=[...le].sort((He,Re)=>He.x-Re.x),Me=[],Ue=Se.length/Q;for(let He=0;He<Q;He++){const Re=Math.floor(He*Ue),Mt=Math.floor((He+1)*Ue),wt=Se.slice(Re,Mt);if(wt.length===0)continue;wt.sort((nr,ne)=>nr.y-ne.y);const Ft=Math.floor(wt.length/2);Me.push(wt[Ft])}return Me};return{R:C(X.R),G1:C(X.G1),G2:C(X.G2),B:C(X.B)}},[Bt,x,h]),ma=O.useMemo(()=>{if(lt.length<5)return[];const $=lt.filter(Q=>Q.channel===Ze);return[...$.length>20?$:lt].sort((Q,C)=>Q.x-C.x).map(Q=>({mean:Q.x,std:Q.std}))},[lt,Ze]),Ti=$=>{const X=$.length;if(X===0)return[];const Q=$.reduce((Xe,Ne)=>Xe+Ne,0)/X,C=$.reduce((Xe,Ne)=>Xe+Math.pow(Ne-Q,2),0)/(X-1||1),le=Math.sqrt(C);if(le===0)return[{x:Q-.001,density:0},{x:Q,density:1},{x:Q+.001,density:0}];const Se=1.06*le*Math.pow(X,-.2),Me=Math.min(...$),Ue=Math.max(...$),He=(Ue-Me)*.2||Me*.1,Re=Math.max(0,Me-He),Mt=Ue+He,wt=100,Ft=(Mt-Re)/(wt-1),nr=Xe=>1/Math.sqrt(2*Math.PI)*Math.exp(-.5*Xe*Xe),ne=[];for(let Xe=0;Xe<wt;Xe++){const Ne=Re+Xe*Ft;let zt=0;for(let jt=0;jt<X;jt++)zt+=nr((Ne-$[jt])/Se);zt/=X*Se,ne.push({x:Ne,density:zt})}return ne},Ea=O.useCallback(($,X,Q,C)=>{if($.length<5)return{gain:0,prnu:0};const le=$[$.length-1].mean,Se=le*(Q.min/100),Me=le*(Q.max/100),Ue=$.filter(vt=>vt.mean>=Se&&vt.mean<=Me);if(Ue.length<5)return{gain:0,prnu:0};cr({nPoints:Ue.length});const He=X*X,Re=[],Mt=[];if(Ue.forEach(vt=>{const Mr=vt.std*vt.std-He;if(vt.mean>1&&Mr>0){const Da=vt.mean,Di=Mr/vt.mean;Re.push({x:Da,y:Di}),Mt.push(vt.mean/Mr)}}),Re.length<5)return{gain:0,prnu:0};const wt=[],Ft=Re.length,nr=C,ne=Ft*(Ft-1)/2;if(ne<=nr)for(let vt=0;vt<Ft;vt++)for(let Qt=vt+1;Qt<Ft;Qt++){const Mr=Re[Qt].x-Re[vt].x;Math.abs(Mr)>1e-5&&wt.push((Re[Qt].y-Re[vt].y)/Mr)}else{const vt=Math.max(1,Math.floor(ne/nr));for(let Qt=0;Qt<Ft;Qt++)for(let Mr=Qt+1;Mr<Ft;Mr+=vt){const Da=Re[Mr].x-Re[Qt].x;Math.abs(Da)>1e-5&&wt.push((Re[Mr].y-Re[Qt].y)/Da)}}const Xe=Vp(wt),Ne=Re.map(vt=>vt.y-Xe*vt.x),zt=Vp(Ne);let jt=0,on=0;if(zt>1e-6?jt=1/zt:jt=Vp(Mt),Xe>0&&(on=Math.sqrt(Xe)*100),Mt.length>0){const vt=Ti(Mt);Hr(vt),Ln(jt)}else Hr([]);return{gain:jt,prnu:on}},[]),gn=O.useCallback($=>{let X=$.read??vr.current.readNoise;const Q=$.gRange??xr.current,C=On.current;if(($.read!==void 0||$.gRange!==void 0)&&$.gain===void 0&&$.prnu===void 0&&ma.length>0&&X>=0)w(!0),setTimeout(()=>{const Se=Ea(ma,X,Q,C);let Me=vr.current.gain,Ue=vr.current.prnu;Se.gain>0&&(Me=Se.gain,Ue=Se.prnu),Ke({readNoise:X,gain:Me,prnu:Ue}),$.gRange!==void 0&&Tt($.gRange),rn(He=>{var Re,Mt;return{...He,read:X.toString(),gain:Me>0?Me.toFixed(3):"0",prnu:Ue.toFixed(2),rangeMin:(((Re=$.gRange)==null?void 0:Re.min)??He.rangeMin).toString(),rangeMax:(((Mt=$.gRange)==null?void 0:Mt.max)??He.rangeMax).toString()}}),w(!1)},50);else{let Se=$.gain!==void 0?$.gain:vr.current.gain,Me=$.prnu!==void 0?$.prnu:vr.current.prnu;Ke({readNoise:X,gain:Se,prnu:Me}),$.gRange!==void 0&&Tt($.gRange),rn(Ue=>{var He,Re;return{...Ue,read:X.toString(),gain:Se>0?Se.toFixed(3):"0",prnu:Me.toFixed(2),rangeMin:(((He=$.gRange)==null?void 0:He.min)??Ue.rangeMin).toString(),rangeMax:(((Re=$.gRange)==null?void 0:Re.max)??Ue.rangeMax).toString()}})}},[ma,Ea]),Wo=`${q}-${r.length}`;O.useEffect(()=>{if(!e||!r||r.length===0)return;const $=wr[Ze];if(!$||$.length===0||Pt===Wo)return;j({R:Ze==="R",G1:Ze==="G1",G2:Ze==="G2",B:Ze==="B"});const X=[...$].sort((Se,Me)=>Se.x-Me.x);let Q=0;X.length>0&&(Q=X[0].std);const C=lt.filter(Se=>Se.channel===Ze);let le=-1/0;for(const Se of C)Se.x>le&&(le=Se.x);le!==-1/0&&be(le),gn({read:Q}),K(Wo)},[e,r,Pt,Wo,wr,Ze,gn,lt]);const so=($,X)=>{rn(Q=>({...Q,[$]:X}))},$i=$=>{let X=parseFloat(Dt[$]);isNaN(X)||X<0||gn({[$]:X})},Ta=()=>{H(B),K("")},ul=()=>{const $=parseFloat(Dt.rangeMin),X=parseFloat(Dt.rangeMax);!isNaN($)&&!isNaN(X)&&$<X&&$>=0&&X<=100&&gn({gRange:{min:$,max:X}})},Uo=($,X)=>{$.key==="Enter"&&(X==="rangeMin"||X==="rangeMax"?ul():$i(X),$.target.blur())};O.useEffect(()=>{ma.length>0&&gn({})},[$t,ma]);const Go=$=>{j(X=>({...X,[$]:!X[$]}))},cu=()=>{y($=>$==="top3"?"default":"top3")},Dh=()=>{x==="raw"?y("default"):b(!0)},Rh=()=>{b(!1),y("raw")},fl=($,X)=>{const Q=parseFloat($),C=parseFloat(X);let le=isNaN(Q)?"auto":Q,Se=isNaN(C)?"auto":C;return h&&typeof le=="number"&&le<=0&&(le="auto"),[le,Se]},Ho=$=>{if(!$||!$.payload)return;const X=$.payload;if(v(X),Zt.current&&(be(X.x),ue(!1)),jn.current){const Q=xr.current.min,C=xr.current.max,{max:le}=Vr();if(le<=0)return;const Se=Math.max(0,Math.min(100,X.x/le*100));if(Ar.current===1){const Me=Math.min(Se,C-.5);gn({gRange:{min:Me,max:C}}),me(2)}else if(Ar.current===2){const Me=Math.max(Se,Q+.5);gn({gRange:{min:Q,max:Me}}),me(0),G(!1)}}},Vo=O.useCallback($=>{const{cx:X,cy:Q,fill:C}=$;return d.jsx("circle",{cx:X,cy:Q,r:3,fill:C,stroke:"none",style:{cursor:"pointer"}})},[]),Lh=({active:$,payload:X})=>{if($&&X&&X.length){const Q=X[0].payload;return d.jsxs("div",{className:"bg-slate-800 text-white text-xs p-2 rounded border border-slate-600 shadow-xl opacity-90 font-mono z-50",children:[d.jsx("div",{className:"font-bold border-b border-slate-600 pb-1 mb-1",children:Q.channel}),d.jsxs("div",{children:["Signal: ",Q.x.toFixed(2)]}),d.jsxs("div",{children:[u,": ",Q.y.toFixed(4)]}),Q.row!==void 0&&Q.col!==void 0&&!isNaN(Q.row)&&!isNaN(Q.col)&&d.jsxs("div",{className:"text-cyan-400 mt-0.5",children:["Loc: Row ",Q.row,", Col ",Q.col]}),Q.filename&&d.jsx("div",{className:"text-gray-400 mt-1 max-w-[200px] truncate",title:Q.filename,children:Q.filename})]})}return null},$a=$=>{f($),$==="Linear"&&p(!1)};if(!e)return null;const Ih=s==="dark"?"#ffffff":"#000000";let uu=u;u==="Linear"&&(uu="(Var - RN) / Mean");const Bh=B!==q;return d.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in",onClick:$=>{$.stopPropagation()},children:d.jsxs("div",{className:"bg-white dark:bg-slate-900 w-[98vw] max-w-[2200px] h-[95vh] rounded-2xl shadow-2xl flex flex-col border border-gray-200 dark:border-slate-700 overflow-hidden relative",onClick:$=>$.stopPropagation(),children:[d.jsx(Pf,{isOpen:g,onClose:()=>b(!1),onConfirm:Rh,title:"Warning: High Performance Cost",message:"Displaying all data points may cause the browser to freeze or become unresponsive, especially with large datasets. Are you sure you want to continue?",confirmText:"Yes, Show All"}),m&&d.jsxs("div",{className:"absolute top-20 right-8 z-30 bg-white/90 dark:bg-slate-800/90 border border-cyan-500 rounded-xl p-4 shadow-xl backdrop-blur-md max-w-xs animate-in fade-in zoom-in-95 duration-200",children:[d.jsxs("div",{className:"flex justify-between items-start mb-2 border-b border-gray-200 dark:border-slate-700 pb-2",children:[d.jsx("h4",{className:"font-bold text-gray-900 dark:text-white text-sm",children:"Selected Point"}),d.jsx("button",{onClick:()=>v(null),className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200",children:d.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),d.jsx("div",{className:"space-y-1 text-xs font-mono text-gray-700 dark:text-slate-300",children:d.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1.5",children:[d.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"Channel:"}),d.jsx("span",{className:"font-bold",children:m.channel}),d.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"Signal (DN):"}),d.jsx("span",{children:m.x.toFixed(4)}),d.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"Noise (Std):"}),d.jsx("span",{children:m.std.toFixed(4)}),d.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"SNR:"}),d.jsx("span",{className:"text-purple-600 dark:text-purple-400 font-bold",children:(m.x/m.std).toFixed(2)})]})})]}),nn&&d.jsx("div",{className:"absolute inset-0 z-40 bg-white/95 dark:bg-slate-900/95 backdrop-blur-sm flex flex-col items-center justify-center p-8 animate-in fade-in zoom-in-95 duration-200",children:d.jsxs("div",{className:"w-full max-w-2xl h-[60vh] bg-gray-50 dark:bg-slate-800 rounded-xl border border-gray-200 dark:border-slate-700 shadow-2xl p-4 flex flex-col relative",children:[d.jsx("button",{onClick:()=>Gr(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-red-500 transition-colors",children:d.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),d.jsxs("div",{className:"mb-4 text-center",children:[d.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-slate-200",children:"Gain Density Estimation"}),d.jsxs("p",{className:"text-xs text-gray-500 dark:text-slate-400",children:["HSM Mode: ",d.jsx("span",{className:"text-cyan-600 dark:text-cyan-400 font-bold",children:br==null?void 0:br.toFixed(4)}),d.jsx("span",{className:"mx-2",children:"|"}),"Data Points: ",Lr.length>0?"Density Curve Generated":"No Data"]})]}),d.jsx("div",{className:"flex-1 min-h-0",children:Lr.length>0?d.jsx(js,{width:"100%",height:"100%",children:d.jsxs(OP,{data:Lr,margin:{top:10,right:30,left:0,bottom:20},children:[d.jsx(Oi,{strokeDasharray:"3 3",stroke:"#374151",opacity:.3,vertical:!1}),d.jsx(ha,{dataKey:"x",tickFormatter:$=>$.toFixed(2),tick:{fill:"#9ca3af",fontSize:10},label:{value:"Gain (e/ADU)",position:"insideBottom",offset:-15,fill:"#9ca3af",fontSize:12}}),d.jsx(pa,{tick:{fill:"#9ca3af",fontSize:10}}),d.jsx(un,{cursor:{stroke:"rgba(255,255,255,0.2)"},contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"0.5rem",color:"#f3f4f6"}}),d.jsx(Vn,{type:"monotone",dataKey:"density",stroke:"#0ea5e9",fill:"#0ea5e9",fillOpacity:.3,strokeWidth:2}),br!==null&&d.jsx(ii,{x:br,stroke:"#ef4444",strokeWidth:2,label:{value:"HSM",fill:"#ef4444",fontSize:10,position:"top"}})]})}):d.jsx("div",{className:"flex items-center justify-center h-full text-gray-400",children:"No data in selected range"})})]})}),d.jsxs("div",{className:"flex flex-wrap justify-between items-center p-3 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50 gap-4 flex-shrink-0",children:[d.jsxs("h2",{className:"text-lg font-bold text-gray-900 dark:text-slate-100 flex items-center gap-2",children:["Photon Transfer Curve",d.jsxs("span",{className:"text-xs font-normal bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-300 px-2 py-0.5 rounded border border-purple-200 dark:border-purple-800",children:[r.length," Pts"]})]}),d.jsxs("div",{className:"flex gap-4 items-center flex-wrap",children:[d.jsxs("button",{onClick:_n,className:"bg-green-600 hover:bg-green-500 text-white font-bold py-1 px-3 rounded text-xs shadow-md transition-all active:scale-95 flex items-center gap-1",title:"Render all points, target lines, and metadata to a high-res JPG",children:[d.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Export Complete Result"]}),d.jsxs("div",{className:"flex bg-white dark:bg-slate-700 rounded-lg p-1 border border-gray-200 dark:border-slate-600",children:[d.jsx("button",{onClick:()=>$a("Noise"),className:`px-3 py-1 text-xs font-bold rounded transition-colors ${u==="Noise"?"bg-cyan-600 text-white shadow":"text-gray-600 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-600"}`,children:"Noise ()"}),d.jsx("button",{onClick:()=>$a("SNR"),className:`px-3 py-1 text-xs font-bold rounded transition-colors ${u==="SNR"?"bg-purple-600 text-white shadow":"text-gray-600 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-600"}`,children:"SNR"}),d.jsx("button",{onClick:()=>$a("Linear"),className:`px-3 py-1 text-xs font-bold rounded transition-colors ${u==="Linear"?"bg-indigo-600 text-white shadow":"text-gray-600 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-600"}`,children:"Linear (PTC)"})]}),d.jsxs("label",{className:"flex items-center gap-2 text-xs text-gray-600 dark:text-slate-300 cursor-pointer select-none",children:[d.jsx("input",{type:"checkbox",checked:h,onChange:$=>p($.target.checked),className:"rounded border-gray-300 text-cyan-600 focus:ring-cyan-500 bg-gray-100 dark:bg-slate-700 dark:border-slate-600"}),"Log-Log"]}),d.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 transition-colors p-1",children:d.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-0 border-b border-gray-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-sm flex-shrink-0",children:[d.jsxs("div",{className:"lg:col-span-9 p-5 flex flex-col gap-5 border-r border-gray-200 dark:border-slate-700",children:[d.jsxs("div",{className:"flex flex-wrap gap-4 items-center justify-between text-xs",children:[d.jsxs("div",{className:"flex gap-4 items-center",children:[d.jsxs("div",{className:"flex items-center gap-1.5 bg-gray-50 dark:bg-slate-800 rounded-md p-1 border border-gray-200 dark:border-slate-700",children:[d.jsx("span",{className:"font-bold text-gray-500 dark:text-slate-400 pl-1",children:"X:"}),d.jsx("input",{type:"number",placeholder:"Min",value:_,onChange:$=>P($.target.value),className:"w-12 px-1 py-0.5 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center outline-none"}),d.jsx("span",{className:"text-gray-400",children:"-"}),d.jsx("input",{type:"number",placeholder:"Max",value:A,onChange:$=>N($.target.value),className:"w-12 px-1 py-0.5 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center outline-none"})]}),d.jsxs("div",{className:"flex items-center gap-1.5 bg-gray-50 dark:bg-slate-800 rounded-md p-1 border border-gray-200 dark:border-slate-700",children:[d.jsx("span",{className:"font-bold text-gray-500 dark:text-slate-400 pl-1",children:"Y:"}),d.jsx("input",{type:"number",placeholder:"Min",value:E,onChange:$=>F($.target.value),className:"w-12 px-1 py-0.5 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center outline-none"}),d.jsx("span",{className:"text-gray-400",children:"-"}),d.jsx("input",{type:"number",placeholder:"Max",value:I,onChange:$=>T($.target.value),className:"w-12 px-1 py-0.5 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center outline-none"})]}),d.jsx("button",{onClick:()=>{P(""),N(""),F(""),T("")},className:"text-xs text-cyan-600 dark:text-cyan-400 hover:underline",children:"Auto"})]}),d.jsxs("div",{className:"flex items-center gap-1 bg-white dark:bg-slate-700 p-1 rounded-lg border border-gray-200 dark:border-slate-600",children:[d.jsx("button",{onClick:()=>Go("R"),className:`w-6 h-6 text-[10px] font-bold rounded flex items-center justify-center transition-colors ${k.R?"bg-red-500 text-white":"bg-gray-100 dark:bg-slate-600 text-gray-400"}`,children:"R"}),d.jsx("button",{onClick:()=>Go("G1"),className:`w-6 h-6 text-[10px] font-bold rounded flex items-center justify-center transition-colors ${k.G1?"bg-green-500 text-white":"bg-gray-100 dark:bg-slate-600 text-gray-400"}`,children:"G1"}),d.jsx("button",{onClick:()=>Go("G2"),className:`w-6 h-6 text-[10px] font-bold rounded flex items-center justify-center transition-colors ${k.G2?"bg-green-400 text-white":"bg-gray-100 dark:bg-slate-600 text-gray-400"}`,children:"G2"}),d.jsx("button",{onClick:()=>Go("B"),className:`w-6 h-6 text-[10px] font-bold rounded flex items-center justify-center transition-colors ${k.B?"bg-blue-500 text-white":"bg-gray-100 dark:bg-slate-600 text-gray-400"}`,children:"B"})]})]}),d.jsxs("div",{className:"flex flex-wrap items-end gap-8",children:[d.jsxs("div",{className:"flex flex-col bg-gray-50 dark:bg-slate-800/50 p-2 rounded border border-gray-100 dark:border-slate-700",children:[d.jsx("span",{className:"text-[9px] uppercase font-bold text-gray-500 dark:text-slate-400 mb-1",children:"Black Level (0,0 0,1 1,0 1,1)"}),d.jsx("input",{type:"text",value:B,onChange:$=>J($.target.value),className:"w-32 text-xs px-2 py-1 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded outline-none focus:border-cyan-500 font-mono",placeholder:"0 0 0 0"})]}),d.jsxs("div",{className:"flex flex-col justify-between bg-gray-50 dark:bg-slate-800/50 p-2 rounded border border-gray-100 dark:border-slate-700",children:[d.jsxs("div",{className:"flex justify-between items-center mb-1",children:[d.jsx("span",{className:"text-[9px] uppercase font-bold text-gray-500 dark:text-slate-400 mr-2",children:"Fit Range % (Robust)"}),d.jsx("button",{onClick:()=>{G(!ve),me(ve?0:1)},className:`px-1.5 py-0.5 text-[9px] rounded border transition-colors ${ve?"bg-cyan-100 text-cyan-700 border-cyan-300 animate-pulse":"bg-white dark:bg-slate-700 border-gray-300 dark:border-slate-600 text-gray-600 dark:text-slate-300 hover:bg-gray-50"}`,children:ve?ce===1?"Pick Min":"Pick Max":"Select"})]}),d.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[d.jsx("input",{type:"number",step:"0.1",value:Dt.rangeMin,onChange:$=>so("rangeMin",$.target.value),onBlur:ul,onKeyDown:$=>Uo($,"rangeMin"),className:"w-10 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-1 py-0.5 text-center font-bold"}),d.jsx("span",{className:"text-gray-400",children:"-"}),d.jsx("input",{type:"number",step:"0.1",value:Dt.rangeMax,onChange:$=>so("rangeMax",$.target.value),onBlur:ul,onKeyDown:$=>Uo($,"rangeMax"),className:"w-10 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-1 py-0.5 text-center font-bold"})]})]}),d.jsxs("div",{className:"flex flex-col bg-indigo-50 dark:bg-indigo-900/20 p-2 rounded border border-indigo-100 dark:border-indigo-800/50",children:[d.jsx("span",{className:"text-[9px] uppercase font-bold text-indigo-600 dark:text-indigo-400 mb-1",children:"DR Params"}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("span",{className:"text-[10px] font-bold text-indigo-500 dark:text-indigo-300",children:"Img H:"}),d.jsx("input",{type:"number",value:L,onChange:$=>D($.target.value),onKeyDown:Gt,placeholder:"Empty",className:"w-14 px-1 py-0.5 bg-white dark:bg-slate-900 border border-indigo-200 dark:border-indigo-800 rounded text-center font-bold text-indigo-700 dark:text-indigo-300 text-xs placeholder:font-normal placeholder:text-gray-300"})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("span",{className:"text-[10px] font-bold text-indigo-500 dark:text-indigo-300",children:"Tgt SNR:"}),d.jsx("input",{type:"number",value:R,onChange:$=>W($.target.value),className:"w-10 px-1 py-0.5 bg-white dark:bg-slate-900 border border-indigo-200 dark:border-indigo-800 rounded text-center font-bold text-indigo-700 dark:text-indigo-300 text-xs"})]})]})]}),d.jsxs("div",{className:"flex flex-col gap-1 text-[10px] justify-end pb-0.5",children:[d.jsx("button",{onClick:()=>{ue(!U),fe&&be(null)},disabled:ve,className:`font-bold rounded border shadow-sm transition-all px-3 py-1.5 ${U?"bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-400 border-amber-500 animate-pulse":"bg-white dark:bg-slate-800 text-gray-600 dark:text-slate-300 border-gray-300 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:U?"Pick Point":"Select Linear Limit"}),d.jsxs("div",{className:"flex gap-1",children:[d.jsx("button",{onClick:cu,className:`flex-1 font-bold rounded border shadow-sm transition-all px-2 py-1 ${x==="top3"?"bg-indigo-600 text-white border-indigo-700":"bg-white dark:bg-slate-800 text-gray-600 dark:text-slate-300 border-gray-300 dark:border-slate-600 hover:bg-gray-50"}`,children:"Top 3%"}),d.jsx("button",{onClick:Dh,className:`font-bold rounded border shadow-sm transition-all px-2 py-1 ${x==="raw"?"bg-red-600 text-white border-red-700":"text-red-500 border-red-200 hover:bg-red-50"}`,children:"All"})]})]})]}),d.jsxs("div",{className:"flex flex-wrap gap-4 items-center bg-gray-50/50 dark:bg-slate-800/20 p-2 rounded-lg border border-gray-100 dark:border-slate-800",children:[d.jsx("span",{className:"text-[10px] uppercase font-bold text-gray-400 dark:text-slate-500",children:"Metadata"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"text",value:pt,onChange:$=>Ur($.target.value),placeholder:"Tester Name",className:"w-24 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-gray-700 dark:text-slate-300 outline-none focus:border-cyan-500 transition-colors"}),d.jsx("input",{type:"text",value:at,onChange:$=>sr($.target.value),placeholder:"Camera Model",className:"w-32 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-gray-700 dark:text-slate-300 outline-none focus:border-cyan-500 transition-colors"}),d.jsx("input",{type:"text",value:lr,onChange:$=>Dr($.target.value),placeholder:"ISO",className:"w-16 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-gray-700 dark:text-slate-300 outline-none focus:border-cyan-500 transition-colors"})]})]}),d.jsxs("div",{className:"flex flex-wrap gap-4 items-center bg-fuchsia-50/50 dark:bg-fuchsia-900/10 p-2 rounded-lg border border-fuchsia-100 dark:border-fuchsia-900/30",children:[d.jsx("span",{className:"text-[10px] uppercase font-bold text-fuchsia-500 dark:text-fuchsia-400",children:"Markers"}),d.jsxs("div",{className:"flex gap-2 items-center",children:[d.jsx("input",{type:"number",value:_e,onChange:$=>st($.target.value),placeholder:"X (Signal)",className:"w-20 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 outline-none focus:border-fuchsia-500 transition-colors"}),d.jsx("input",{type:"number",value:qe,onChange:$=>bt($.target.value),placeholder:"Y (Value)",className:"w-20 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 outline-none focus:border-fuchsia-500 transition-colors"}),d.jsx("button",{onClick:hr,className:"px-3 py-1 bg-fuchsia-600 hover:bg-fuchsia-500 text-white text-xs font-bold rounded shadow-sm transition-colors active:scale-95",children:"+"}),Z.length>0&&d.jsx("button",{onClick:()=>We([]),className:"px-2 py-1 bg-gray-200 dark:bg-slate-700 hover:bg-red-500 hover:text-white text-gray-600 dark:text-slate-300 text-xs font-bold rounded shadow-sm transition-colors active:scale-95",children:"Clr"})]}),d.jsxs("div",{className:"text-[10px] text-gray-400 dark:text-slate-500 font-mono",children:[Z.length," pts"]})]}),d.jsxs("div",{className:"flex gap-4 text-[10px] pt-1 justify-center sm:justify-start flex-wrap",children:[d.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[d.jsx("input",{type:"checkbox",checked:ut.shot,onChange:$=>Rr({...ut,shot:$.target.checked}),className:"rounded text-gray-500"})," ",d.jsx("span",{className:"text-gray-500",children:"Shot Noise"})]}),d.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[d.jsx("input",{type:"checkbox",checked:ut.read,onChange:$=>Rr({...ut,read:$.target.checked}),className:"rounded text-rose-500"})," ",d.jsx("span",{className:"text-rose-500",children:"Read Noise"})]}),d.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[d.jsx("input",{type:"checkbox",checked:ut.prnu,onChange:$=>Rr({...ut,prnu:$.target.checked}),className:"rounded text-amber-500"})," ",d.jsx("span",{className:"text-amber-500",children:"PRNU"})]}),d.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[d.jsx("input",{type:"checkbox",checked:ut.total,onChange:$=>Rr({...ut,total:$.target.checked}),className:"rounded text-white"})," ",d.jsx("span",{className:"text-gray-900 dark:text-white font-bold",children:"Model"})]})]})]}),d.jsxs("div",{className:"lg:col-span-3 bg-slate-100 dark:bg-slate-800 p-4 flex flex-col justify-center gap-4",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-1 px-1",children:[d.jsxs("h3",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase flex items-center gap-2",children:["Fit Parameters (D55 SAT Channel:",Ze,")",S&&d.jsx("span",{className:"text-orange-500 animate-pulse text-[10px]",children:"Calculating..."})]}),d.jsxs("div",{className:"flex gap-2 items-center",children:[d.jsx("button",{onClick:Ta,disabled:S,className:`px-3 py-1 text-white text-[10px] font-bold rounded shadow-sm transition-all flex items-center gap-1 active:scale-95 
                                            ${S?"bg-gray-400 cursor-wait":Bh?"bg-orange-500 hover:bg-orange-600 animate-pulse ring-2 ring-orange-400/50":"bg-cyan-600 hover:bg-cyan-500"}
                                        `,title:"Apply Black Level, Auto-detect Read Noise, then Recalculate Fit",children:S?d.jsxs(d.Fragment,{children:[d.jsxs("svg",{className:"w-3 h-3 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Fitting..."]}):d.jsxs(d.Fragment,{children:[d.jsxs("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),"Apply & Calc"]})}),d.jsxs("select",{value:$t,onChange:$=>rr(Number($.target.value)),className:"text-[9px] bg-slate-200 dark:bg-slate-700 text-gray-600 dark:text-slate-300 rounded px-1 py-0.5 border-none outline-none cursor-pointer hover:bg-slate-300 dark:hover:bg-slate-600 transition-colors",title:"Number of point-pairs to sample for robust regression (Theil-Sen)",children:[d.jsx("option",{value:1e5,children:"100k Pairs"}),d.jsx("option",{value:5e5,children:"500k Pairs"}),d.jsx("option",{value:2e6,children:"2M Pairs"}),d.jsx("option",{value:5e6,children:"5M Pairs"}),d.jsx("option",{value:1e7,children:"10M Pairs"})]}),yr&&d.jsxs("span",{className:"text-[10px] text-gray-400 dark:text-slate-500 font-mono",title:"Number of points used in regression",children:["N=",yr.nPoints]})]})]}),d.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx("label",{className:"text-[10px] text-gray-500 dark:text-slate-400 uppercase tracking-wide mb-1",children:"rn/fpn"}),d.jsx("input",{type:"text",inputMode:"decimal",value:Dt.read,onChange:$=>so("read",$.target.value),onBlur:()=>$i("read"),onKeyDown:$=>Uo($,"read"),className:"w-full text-center text-2xl font-light bg-transparent text-rose-500 outline-none border-b border-transparent focus:border-rose-500 transition-colors"})]}),d.jsxs("div",{className:"flex flex-col items-center relative group",children:[d.jsxs("label",{className:"text-[10px] text-gray-500 dark:text-slate-400 uppercase tracking-wide mb-1 flex items-center gap-1",children:["Kadc (HSM)",d.jsx("button",{onClick:()=>Gr(!0),className:"text-[9px] text-cyan-600 dark:text-cyan-400 hover:underline",children:"Dist."})]}),d.jsx("input",{type:"text",inputMode:"decimal",value:Dt.gain,onChange:$=>so("gain",$.target.value),onBlur:()=>$i("gain"),onKeyDown:$=>Uo($,"gain"),className:"w-full text-center text-2xl font-light bg-transparent text-slate-700 dark:text-slate-200 outline-none border-b border-transparent focus:border-cyan-500 transition-colors"})]}),d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx("label",{className:"text-[10px] text-gray-500 dark:text-slate-400 uppercase tracking-wide mb-1",children:"PRNU (%)"}),d.jsx("input",{type:"text",inputMode:"decimal",value:Dt.prnu,onChange:$=>so("prnu",$.target.value),onBlur:()=>$i("prnu"),onKeyDown:$=>Uo($,"prnu"),className:"w-full text-center text-2xl font-light bg-transparent text-amber-500 outline-none border-b border-transparent focus:border-amber-500 transition-colors"})]})]})]}),d.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 w-full"}),d.jsxs("div",{className:"grid grid-cols-2 gap-2 text-center",children:[d.jsxs("div",{className:"flex flex-col justify-center bg-cyan-50 dark:bg-cyan-900/10 p-2 rounded-lg border border-cyan-100 dark:border-cyan-900/30",children:[d.jsxs("h4",{className:"text-[10px] font-bold text-cyan-600 dark:text-cyan-500 uppercase tracking-wide mb-1 truncate",title:`Manual DR at SNR=${(ie==null?void 0:ie.manualTarget)||R}`,children:["M.DR @ SNR=",(ie==null?void 0:ie.manualTarget)||R]}),d.jsx("div",{className:"text-base font-bold text-cyan-700 dark:text-cyan-400 whitespace-nowrap",children:ie!=null&&ie.manualDR?`${ie.manualDR.toFixed(2)} EV`:"--"})]}),d.jsxs("div",{className:"flex flex-col justify-center bg-emerald-50 dark:bg-emerald-900/10 p-2 rounded-lg border border-emerald-100 dark:border-emerald-900/30",title:isNaN((ie==null?void 0:ie.ptpTarget)||NaN)?"Requires Image Height":`Standard Point-to-Point DR (Target SNR = 16000/${L||"H"})`,children:[d.jsx("h4",{className:"text-[10px] font-bold text-emerald-600 dark:text-emerald-500 uppercase tracking-wide mb-1",children:"PTP DR"}),d.jsx("div",{className:"text-base font-bold text-emerald-700 dark:text-emerald-400 whitespace-nowrap",children:ie!=null&&ie.ptpDR?`${ie.ptpDR.toFixed(2)} EV`:"--"})]}),d.jsxs("div",{className:"flex flex-col justify-center bg-purple-50 dark:bg-purple-900/10 p-2 rounded-lg border border-purple-100 dark:border-purple-900/30",title:isNaN((ie==null?void 0:ie.ptpTarget)||NaN)?"Requires Image Height":`D55 Saturation DR (Target SNR = 16000/${L||"H"} on ${ie==null?void 0:ie.dominantChannel} Channel)`,children:[d.jsxs("h4",{className:"text-[10px] font-bold text-purple-600 dark:text-purple-400 uppercase tracking-wide mb-1 truncate",children:["D55 DR (",ie==null?void 0:ie.dominantChannel,")"]}),d.jsx("div",{className:"text-base font-bold text-purple-700 dark:text-purple-400 whitespace-nowrap",children:ie!=null&&ie.d55DR?`${ie.d55DR.toFixed(2)} EV`:"--"})]}),d.jsxs("div",{className:"flex flex-col justify-center bg-orange-50 dark:bg-orange-900/10 p-2 rounded-lg border border-orange-100 dark:border-orange-900/30",children:[d.jsx("h4",{className:"text-[10px] font-bold text-orange-600 dark:text-orange-400 uppercase tracking-wide mb-1",children:"FWC"}),d.jsx("div",{className:"text-base font-bold text-orange-600 dark:text-orange-400 font-mono whitespace-nowrap truncate",title:Pe!==null?`${Math.round(Pe)}`:"",children:Pe!==null?Pe>1e4?`${(Pe/1e3).toFixed(1)}k`:`${Math.round(Pe)}`:"--"})]})]}),fe===null&&d.jsx("div",{className:"text-center text-[10px] text-red-500 animate-pulse font-bold mt-[-10px]",children:"Please select Linear Limit on chart to calc DR"})]})]}),d.jsxs("div",{className:`flex-1 p-4 bg-white dark:bg-slate-900 relative grid grid-cols-[auto_1fr] grid-rows-[1fr_auto] gap-2 ${U||ve?"cursor-crosshair":""}`,children:[d.jsx("div",{className:"row-start-1 col-start-1 h-full",children:d.jsx(N2,{vertical:!0,min:ot,max:Nt,value:[E?parseFloat(E):ot,I?parseFloat(I):Nt],onChange:([$,X])=>{F($.toString()),T(X.toString())},logScale:h})}),d.jsxs("div",{className:"row-start-1 col-start-2 relative",children:[Bt.length===0?d.jsx("div",{className:"flex h-full items-center justify-center text-gray-400",children:"No valid data points found."}):d.jsx(js,{width:"100%",height:"100%",children:d.jsxs(EZ,{margin:{top:20,right:20,bottom:0,left:0},onClick:Ho,children:[d.jsx("defs",{children:d.jsxs("filter",{id:"glow",height:"300%",width:"300%",x:"-100%",y:"-100%",children:[d.jsx("feGaussianBlur",{stdDeviation:"2",result:"coloredBlur"}),d.jsxs("feMerge",{children:[d.jsx("feMergeNode",{in:"coloredBlur"}),d.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),d.jsx(Oi,{strokeDasharray:"3 3",stroke:"#374151",opacity:.2}),d.jsx(ha,{type:"number",dataKey:"x",name:"Signal",scale:h?"log":"linear",domain:fl(_,A),allowDataOverflow:!0,hide:!0}),d.jsx(pa,{type:"number",dataKey:"y",name:u,scale:h?"log":"linear",domain:fl(E,I),label:{value:uu,angle:-90,position:"insideLeft",fill:"#9ca3af",fontSize:12},tick:{fill:"#9ca3af",fontSize:10},allowDataOverflow:!0}),d.jsx(un,{content:d.jsx(Lh,{}),cursor:{strokeDasharray:"3 3"}}),fe&&d.jsx(ii,{x:fe,stroke:"red",strokeDasharray:"3 3",label:{position:"top",value:"Sat",fill:"red",fontSize:10}}),(ut.fitRange||ve)&&d.jsxs(d.Fragment,{children:[d.jsx(ii,{x:Ee,stroke:"#22d3ee",strokeDasharray:"5 5",label:{position:"insideTopLeft",value:`Min: ${ur.min}%`,fill:"#22d3ee",fontSize:9}}),d.jsx(ii,{x:Rt,stroke:"#22d3ee",strokeDasharray:"5 5",label:{position:"insideTopLeft",value:`Max: ${ur.max}%`,fill:"#22d3ee",fontSize:9}})]}),k.R&&d.jsx(ln,{name:"Red",data:wr.R,fill:"#ef4444",shape:Vo,onClick:Ho,style:s==="dark"?{filter:"url(#glow)"}:void 0},"scatter-R"),k.G1&&d.jsx(ln,{name:"Green 1",data:wr.G1,fill:"#22c55e",shape:Vo,onClick:Ho,style:s==="dark"?{filter:"url(#glow)"}:void 0},"scatter-G1"),k.G2&&d.jsx(ln,{name:"Green 2",data:wr.G2,fill:"#4ade80",shape:Vo,onClick:Ho,style:s==="dark"?{filter:"url(#glow)"}:void 0},"scatter-G2"),k.B&&d.jsx(ln,{name:"Blue",data:wr.B,fill:"#3b82f6",shape:Vo,onClick:Ho,style:s==="dark"?{filter:"url(#glow)"}:void 0},"scatter-B"),ut.shot&&ct.shot.length>0&&d.jsx(ln,{name:"Shot Noise (Ideal)",data:ct.shot,line:{stroke:"#94a3b8",strokeWidth:1,strokeDasharray:"5 5"},shape:()=>d.jsx(d.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-shot"),ut.read&&ct.read.length>0&&d.jsx(ln,{name:"Read Noise Floor",data:ct.read,line:{stroke:"#f43f5e",strokeWidth:1,strokeDasharray:"3 3"},shape:()=>d.jsx(d.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-read"),ut.prnu&&ct.prnu.length>0&&d.jsx(ln,{name:"PRNU (Non-uniformity)",data:ct.prnu,line:{stroke:"#f59e0b",strokeWidth:1,strokeDasharray:"3 3"},shape:()=>d.jsx(d.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-prnu"),ut.total&&ct.total.length>0&&d.jsx(ln,{name:"Total Noise Model",data:ct.total,line:{stroke:Ih,strokeWidth:2},shape:()=>d.jsx(d.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-total"),At.length>0&&d.jsx(ln,{name:`Target SNR=${R}`,data:At,line:{stroke:"#6366f1",strokeWidth:2,strokeDasharray:"4 2"},shape:()=>d.jsx(d.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-target"),yt.length>0&&d.jsx(ln,{name:`PTP Target SNR=${ie!=null&&ie.ptpTarget?ie.ptpTarget.toFixed(1):"?"}`,data:yt,line:{stroke:"#10b981",strokeWidth:2,strokeDasharray:"4 4"},shape:()=>d.jsx(d.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-ptp"),Z.length>0&&d.jsx(ln,{name:"Manual Markers",data:Z,fill:"#d946ef",shape:"star",legendType:"star"},"manual-points")]})}),d.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 pointer-events-none select-none opacity-25 mix-blend-normal dark:mix-blend-plus-lighter",children:d.jsx("svg",{viewBox:"0 0 500 60",className:"w-96 h-auto",children:d.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"36",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})})]}),d.jsx("div",{className:"row-start-2 col-start-2 w-full",children:d.jsx(N2,{min:ee,max:xe,value:[_?parseFloat(_):ee,A?parseFloat(A):xe],onChange:([$,X])=>{P($.toString()),N(X.toString())},logScale:h})})]})]})})},nQ=({searchTerm:e,onSearchChange:t,manufacturers:r,selectedManufacturer:n,onManufacturerChange:a,cameras:o,onCameraSelect:i})=>d.jsx("div",{className:"sticky top-4 z-10 bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm p-4 rounded-xl border border-gray-200 dark:border-slate-700 shadow-sm",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[d.jsxs("div",{className:"relative md:col-span-3",children:[d.jsx("input",{type:"text",placeholder:"Search camera model...",value:e,onChange:s=>t(s.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none transition-all duration-300 text-gray-900 dark:text-slate-200 placeholder-gray-500 dark:placeholder-slate-400"}),d.jsx("svg",{className:"w-5 h-5 text-gray-400 dark:text-slate-400 absolute top-1/2 left-3 transform -translate-y-1/2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),d.jsx("select",{value:n,onChange:s=>a(s.target.value),className:"w-full md:col-span-1 bg-gray-50 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg px-4 py-2 focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none transition-all duration-300 appearance-none text-gray-900 dark:text-slate-200",children:r.map(s=>d.jsx("option",{value:s,children:s},s))}),d.jsxs("select",{onChange:s=>i(s.target.value),className:"w-full md:col-span-1 bg-gray-50 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg px-4 py-2 focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none transition-all duration-300 appearance-none text-gray-900 dark:text-slate-200",value:"","aria-label":"Jump to camera model",children:[d.jsx("option",{value:"",disabled:!0,children:"Jump to model..."}),o.map(s=>d.jsx("option",{value:s.id,children:s.name},s.id))]})]})}),aQ=({active:e,payload:t,label:r,theme:n})=>{if(e&&t&&t.length){const a=t[0].payload,o=n==="dark"?"bg-slate-800/80 border-slate-600 text-slate-300":"bg-white/90 border-gray-200 text-gray-700";return d.jsxs("div",{className:`${o} backdrop-blur-sm border p-3 rounded-lg shadow-lg`,children:[d.jsx("p",{className:"label font-bold",children:`ISO ${r}`}),d.jsx("div",{className:"mt-2 space-y-1 text-sm",children:d.jsxs(d.Fragment,{children:[d.jsxs("div",{style:{color:"#f87171"},children:["Red: ",a.R_avg.toFixed(2)," (Range: ",a.R_range[0]," - ",a.R_range[1],")"]}),d.jsxs("div",{style:{color:"#4ade80"},children:["Green 1: ",a.G1_avg.toFixed(2)," (Range: ",a.G1_range[0]," - ",a.G1_range[1],")"]}),d.jsxs("div",{style:{color:"#60a5fa"},children:["Blue: ",a.B_avg.toFixed(2)," (Range: ",a.B_range[0]," - ",a.B_range[1],")"]}),d.jsxs("div",{style:{color:"#86efac"},children:["Green 2: ",a.G2_avg.toFixed(2)," (Range: ",a.G2_range[0]," - ",a.G2_range[1],")"]})]})})]})}return null},oQ=({data:e,theme:t="dark"})=>{const r=O.useMemo(()=>!e||e.length===0?[]:[...new Set(e.map(i=>i.iso))].sort((i,s)=>Number(i)-Number(s)),[e]),n=O.useMemo(()=>{if(!e||e.length===0)return[0,4096];const i=e.flatMap(m=>[...m.R_range,...m.G1_range,...m.G2_range,...m.B_range]);if(i.length===0)return[0,4096];let s=Math.min(...i),l=Math.max(...i);const c=.25,u=l-s;if(u<c){const m=c-u;s-=m/2,l+=m/2}const f=(l-s)*.1,h=s-f,p=l+f;return[h,p]},[e]),a=t==="dark"?"#475569":"#e5e7eb",o=t==="dark"?"#94a3b8":"#6b7280";return!e||e.length===0?d.jsx("div",{className:"flex items-center justify-center h-full text-gray-500 dark:text-slate-500",children:d.jsx("p",{children:"No data available for this mode."})}):d.jsx(js,{width:"100%",height:"100%",children:d.jsxs(OP,{data:e,margin:{top:5,right:20,left:0,bottom:5},children:[d.jsx(Oi,{strokeDasharray:"3 3",stroke:a}),d.jsx(ha,{dataKey:"iso",type:"number",domain:["dataMin","dataMax"],tick:{fill:o,fontSize:12},scale:"log",allowDuplicatedCategory:!1,ticks:r}),d.jsx(pa,{tick:{fill:o,fontSize:12},domain:n,allowDecimals:!0,tickFormatter:i=>Number(i).toFixed(3)}),d.jsx(un,{content:d.jsx(aQ,{theme:t})}),d.jsx(Xa,{wrapperStyle:{fontSize:"14px",color:o}}),d.jsx(Vn,{type:"monotone",dataKey:"R_range",fill:"#f87171",stroke:"none",fillOpacity:.2,name:"Red",legendType:"none"}),d.jsx(en,{type:"monotone",dataKey:"R_avg",stroke:"#f87171",strokeWidth:2,dot:!1,activeDot:{r:5},name:"Red"}),d.jsx(Vn,{type:"monotone",dataKey:"G1_range",fill:"#4ade80",stroke:"none",fillOpacity:.2,name:"Green 1",legendType:"none"}),d.jsx(en,{type:"monotone",dataKey:"G1_avg",stroke:"#4ade80",strokeWidth:2,dot:!1,activeDot:{r:5},name:"Green 1"}),d.jsx(Vn,{type:"monotone",dataKey:"B_range",fill:"#60a5fa",stroke:"none",fillOpacity:.2,name:"Blue",legendType:"none"}),d.jsx(en,{type:"monotone",dataKey:"B_avg",stroke:"#60a5fa",strokeWidth:2,dot:!1,activeDot:{r:5},name:"Blue"}),d.jsx(Vn,{type:"monotone",dataKey:"G2_range",fill:"#86efac",stroke:"none",fillOpacity:.2,name:"Green 2",legendType:"none"}),d.jsx(en,{type:"monotone",dataKey:"G2_avg",stroke:"#86efac",strokeWidth:2,dot:!1,activeDot:{r:5},name:"Green 2"})]})})},iQ=M.forwardRef(({camera:e,theme:t="dark"},r)=>{const n=O.useMemo(()=>e.shootingModes.map(f=>f.modeName),[e.shootingModes]),[a,o]=O.useState(n[0]||""),{chartData:i,tableData:s}=O.useMemo(()=>{const f=e.shootingModes.find(m=>m.modeName===a);if(!(f!=null&&f.data))return{chartData:[],tableData:[]};const h=f.data.map(m=>({iso:m.iso,R_range:m.r.range,R_avg:m.r.avg,G1_range:m.g1.range,G1_avg:m.g1.avg,B_range:m.b.range,B_avg:m.b.avg,G2_range:m.g2.range,G2_avg:m.g2.avg})),p=f.data.map(m=>({iso:m.iso,levels:[m.r.avg,m.g1.avg,m.g2.avg,m.b.avg],clipping:m.clipping}));return{chartData:h,tableData:p}},[e.shootingModes,a]),l=`Raw Data (${a})`,c=O.useRef(null),u=O.useRef(null);return O.useEffect(()=>{const f=c.current,h=u.current;if(!f||!h)return;const p=new ResizeObserver(m=>{for(let v of m){const{width:x}=v.contentRect,g=Math.max(8,x/35);h.style.fontSize=`${g}px`}});return p.observe(f),()=>p.disconnect()},[]),d.jsxs("div",{ref:r,className:"bg-white dark:bg-slate-800/50 border border-gray-200 dark:border-slate-700 rounded-xl shadow-lg p-6 flex flex-col gap-6 transform hover:scale-[1.02] hover:border-cyan-500/50 transition-all duration-500 ease-in-out",children:[d.jsxs("div",{className:"border-b border-gray-200 dark:border-slate-700 pb-4",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-slate-100",children:e.name}),d.jsx("p",{className:"text-cyan-600 dark:text-cyan-400",children:e.manufacturer})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-4 mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-slate-300",children:"Black Level vs. ISO"}),d.jsx("select",{value:a,onChange:f=>o(f.target.value),className:"w-full sm:w-auto bg-gray-50 dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded-md px-3 py-1 text-sm outline-none focus:ring-2 focus:ring-cyan-500 transition-all duration-300 text-gray-900 dark:text-slate-200","aria-label":`Select shooting mode for ${e.name}`,children:n.map(f=>d.jsx("option",{value:f,children:f},f))})]}),d.jsxs("div",{ref:c,className:"h-64 relative",children:[d.jsx(oQ,{data:i,theme:t},a),d.jsx("div",{className:"absolute top-1/2 left-[52%] transform -translate-x-1/2 -translate-y-1/2 -rotate-30 pointer-events-none",children:d.jsx("p",{ref:u,className:"font-bold text-gray-900/10 dark:text-slate-200/40 whitespace-nowrap",children:" y-g-jiang.github.io"})})]})]}),d.jsxs("div",{className:"overflow-x-auto",children:[d.jsx("div",{className:"flex justify-between items-center mb-4",children:d.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-slate-300",children:l})}),d.jsxs("table",{className:"w-full text-left border-collapse",children:[d.jsx("thead",{className:"bg-gray-100 dark:bg-slate-700/50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-700 dark:text-slate-300",children:"ISO"}),d.jsx("th",{className:"p-3 font-semibold text-sm text-red-500 dark:text-red-400",children:"Red"}),d.jsx("th",{className:"p-3 font-semibold text-sm text-green-600 dark:text-green-400",children:"Green 1"}),d.jsx("th",{className:"p-3 font-semibold text-sm text-blue-500 dark:text-blue-400",children:"Blue"}),d.jsx("th",{className:"p-3 font-semibold text-sm text-green-500 dark:text-green-300",children:"Green 2"})]})}),d.jsx("tbody",{children:s.map(({iso:f,levels:h,clipping:p})=>d.jsxs("tr",{className:"border-b border-gray-200 dark:border-slate-700/50 last:border-b-0",children:[d.jsxs("td",{className:"p-3 font-mono text-gray-700 dark:text-slate-300 whitespace-nowrap",children:[f,p&&d.jsx("span",{className:"ml-3 text-xs font-semibold text-amber-600 dark:text-amber-400 bg-amber-100 dark:bg-amber-900/50 px-2 py-1 rounded-full align-middle",children:"Clipping"})]}),d.jsx("td",{className:"p-3 font-mono text-red-500 dark:text-red-400",children:h[0].toFixed(2)}),d.jsx("td",{className:"p-3 font-mono text-green-600 dark:text-green-400",children:h[1].toFixed(2)}),d.jsx("td",{className:"p-3 font-mono text-blue-500 dark:text-blue-400",children:h[3].toFixed(2)}),d.jsx("td",{className:"p-3 font-mono text-green-500 dark:text-green-300",children:h[2].toFixed(2)})]},f))})]})]})]})}),Ve=(e,t,r)=>({avg:e,range:[t,r]}),Oe=(e=255)=>{const t=e+(Math.random()-.5)*2,r=Math.random()*.2+.05;return{avg:t,range:[parseFloat((t-r).toFixed(2)),parseFloat((t+r).toFixed(2))]}},Kp=[{id:"olympus-om1",name:"Olympus OM-1",manufacturer:"Olympus",shootingModes:[{modeName:"Single Shot",data:[{iso:200,r:Ve(254.9,254.89,254.91),g1:Ve(254.87,254.86,254.88),b:Ve(254.9,254.89,254.91),g2:Ve(254.87,254.86,254.88)},{iso:400,r:Ve(254.9,254.89,254.91),g1:Ve(254.87,254.86,254.88),b:Ve(254.9,254.89,254.91),g2:Ve(254.87,254.86,254.88),clipping:!0}]},{modeName:"20fps",data:[{iso:200,r:Ve(254.94,254.83,254.96),g1:Ve(254.92,254.81,254.96),b:Ve(254.94,254.83,254.96),g2:Ve(254.93,254.81,254.95)},{iso:400,r:Ve(254.94,254.83,254.96),g1:Ve(254.92,254.81,254.96),b:Ve(254.94,254.83,254.96),g2:Ve(254.93,254.81,254.95),clipping:!0}]},{modeName:"50fps",data:[{iso:200,r:Ve(254.82,254.75,254.94),g1:Ve(254.74,254.68,254.87),b:Ve(254.82,254.75,254.94),g2:Ve(254.75,254.68,254.87)},{iso:400,r:Ve(254.82,254.75,254.94),g1:Ve(254.74,254.68,254.87),b:Ve(254.82,254.75,254.94),g2:Ve(254.75,254.68,254.87),clipping:!0}]}]},{id:"panasonic-g9",name:"Panasonic G9",manufacturer:"Panasonic",shootingModes:[{modeName:"Single Shot",data:[{iso:200,r:Ve(254.9,254.89,254.91),g1:Ve(254.87,254.86,254.88),b:Ve(254.9,254.89,254.91),g2:Ve(254.87,254.86,254.88)},{iso:400,r:Ve(254.9,254.89,254.91),g1:Ve(254.87,254.86,254.88),b:Ve(254.9,254.89,254.91),g2:Ve(254.87,254.86,254.88),clipping:!0}]},{modeName:"30fps",data:[{iso:200,r:Ve(254.94,254.83,254.96),g1:Ve(254.92,254.81,254.96),b:Ve(254.94,254.83,254.96),g2:Ve(254.93,254.81,254.95)},{iso:400,r:Ve(254.94,254.83,254.96),g1:Ve(254.92,254.81,254.96),b:Ve(254.94,254.83,254.96),g2:Ve(254.93,254.81,254.95),clipping:!0}]}]},{id:"virtual-cam-1",name:"Virtual Camera Pro",manufacturer:"Virtual",shootingModes:[{modeName:"Standard",data:[{iso:100,r:Oe(255),g1:Oe(255),b:Oe(255),g2:Oe(255)},{iso:200,r:Oe(255.2),g1:Oe(255.2),b:Oe(255.2),g2:Oe(255.2)},{iso:400,r:Oe(255.5),g1:Oe(255.5),b:Oe(255.5),g2:Oe(255.5)},{iso:800,r:Oe(256),g1:Oe(256),b:Oe(256),g2:Oe(256)},{iso:1600,r:Oe(257),g1:Oe(257),b:Oe(257),g2:Oe(257),clipping:!0}]},{modeName:"High Speed",data:[{iso:200,r:Oe(256),g1:Oe(256),b:Oe(256),g2:Oe(256)},{iso:400,r:Oe(256.3),g1:Oe(256.3),b:Oe(256.3),g2:Oe(256.3)},{iso:800,r:Oe(256.8),g1:Oe(256.8),b:Oe(256.8),g2:Oe(256.8)},{iso:1600,r:Oe(257.5),g1:Oe(257.5),b:Oe(257.5),g2:Oe(257.5),clipping:!0},{iso:3200,r:Oe(259),g1:Oe(259),b:Oe(259),g2:Oe(259),clipping:!0}]},{modeName:"Low Light",data:[{iso:800,r:Oe(254),g1:Oe(254),b:Oe(254),g2:Oe(254)},{iso:1600,r:Oe(254.5),g1:Oe(254.5),b:Oe(254.5),g2:Oe(254.5)},{iso:3200,r:Oe(255),g1:Oe(255),b:Oe(255),g2:Oe(255),clipping:!0},{iso:6400,r:Oe(256),g1:Oe(256),b:Oe(256),g2:Oe(256),clipping:!0}]}]}],sQ=({isOpen:e,onClose:t,theme:r})=>{const[n,a]=O.useState(""),[o,i]=O.useState("All"),s=O.useMemo(()=>["All",...Array.from(new Set(Kp.map(f=>f.manufacturer))).sort()],[]),l=O.useMemo(()=>Kp.filter(u=>{const f=u.name.toLowerCase().includes(n.toLowerCase()),h=o==="All"||u.manufacturer===o;return f&&h}),[n,o]),c=u=>{const f=document.getElementById(`camera-${u}`);f&&f.scrollIntoView({behavior:"smooth"})};return e?d.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",onClick:t,children:d.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-6xl h-[90vh] rounded-2xl shadow-2xl flex flex-col border border-gray-200 dark:border-slate-700 overflow-hidden",onClick:u=>u.stopPropagation(),children:[d.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50",children:[d.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-slate-100 flex items-center gap-2",children:["Camera Black Level Database",d.jsxs("span",{className:"text-xs font-normal bg-cyan-100 dark:bg-cyan-900/30 text-cyan-600 dark:text-cyan-400 px-2 py-0.5 rounded border border-cyan-200 dark:border-cyan-800",children:[Kp.length," Models"]})]}),d.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 transition-colors p-2 rounded-full hover:bg-gray-100 dark:hover:bg-slate-800",children:d.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),d.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-slate-700 bg-gray-50/50 dark:bg-slate-800/30",children:d.jsx(nQ,{searchTerm:n,onSearchChange:a,manufacturers:s,selectedManufacturer:o,onManufacturerChange:i,cameras:l,onCameraSelect:c})}),d.jsx("div",{className:"flex-1 overflow-y-auto p-6 scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-slate-700 bg-gray-100 dark:bg-slate-950",children:d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-2 gap-6",children:[l.map(u=>d.jsx("div",{id:`camera-${u.id}`,children:d.jsx(iQ,{camera:u,theme:r})},u.id)),l.length===0&&d.jsx("div",{className:"col-span-full flex flex-col items-center justify-center py-20 text-gray-400 dark:text-slate-600",children:d.jsx("p",{className:"text-lg",children:"No cameras found matching your criteria."})})]})})]})}):null},lQ=({isOpen:e,onClose:t,zIndex:r=150})=>{const[n,a]=O.useState(""),[o,i]=O.useState(""),[s,l]=O.useState(""),[c,u]=O.useState(""),[f,h]=O.useState(null),p=()=>{const m=parseFloat(n),v=parseFloat(o),x=parseFloat(s),y=parseFloat(c);if(isNaN(m)||isNaN(v)||isNaN(x)||isNaN(y)){h(null);return}const g=m,b=v,S=x*x,w=y*y,k=(g+b)/2;if(k<=1e-9){h(0);return}const j=S*w/k,_=Math.sqrt(j);h(_)};return e?d.jsxs(kv,{initialPosition:{x:window.innerWidth/2-160,y:window.innerHeight/2-200},onClose:t,zIndex:r,className:"w-80 bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 flex flex-col shadow-2xl",children:[d.jsxs("div",{className:"flex justify-between items-center px-4 py-3 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800",children:[d.jsx("h3",{className:"text-sm font-bold text-gray-700 dark:text-slate-200",children:"Cross-Compensation Calc"}),d.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 transition-colors",children:d.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),d.jsxs("div",{className:"p-4 flex flex-col gap-3 text-xs",children:[d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("label",{className:"text-gray-500 dark:text-slate-400 font-bold",children:"H Mean (Power/Var)"}),d.jsx("input",{type:"number",step:"any",value:n,onChange:m=>a(m.target.value),className:"p-2 rounded bg-gray-100 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 outline-none focus:border-indigo-500 text-gray-900 dark:text-slate-100 font-mono"})]}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("label",{className:"text-gray-500 dark:text-slate-400 font-bold",children:"V Mean (Power/Var)"}),d.jsx("input",{type:"number",step:"any",value:o,onChange:m=>i(m.target.value),className:"p-2 rounded bg-gray-100 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 outline-none focus:border-indigo-500 text-gray-900 dark:text-slate-100 font-mono"})]}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("label",{className:"text-gray-500 dark:text-slate-400 font-bold",children:"H RMS 0 (Sigma)"}),d.jsx("input",{type:"number",step:"any",value:s,onChange:m=>l(m.target.value),className:"p-2 rounded bg-gray-100 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 outline-none focus:border-indigo-500 text-gray-900 dark:text-slate-100 font-mono"})]}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("label",{className:"text-gray-500 dark:text-slate-400 font-bold",children:"V RMS 0 (Sigma)"}),d.jsx("input",{type:"number",step:"any",value:c,onChange:m=>u(m.target.value),className:"p-2 rounded bg-gray-100 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 outline-none focus:border-indigo-500 text-gray-900 dark:text-slate-100 font-mono"})]}),d.jsx("button",{onClick:p,className:"mt-2 w-full py-2 bg-indigo-600 hover:bg-indigo-500 text-white font-bold rounded shadow transition-colors active:scale-95",children:"Calculate Sigma"}),f!==null&&d.jsxs("div",{className:"mt-2 p-3 bg-indigo-50 dark:bg-indigo-900/30 border border-indigo-200 dark:border-indigo-800 rounded text-center animate-in fade-in slide-in-from-top-1",children:[d.jsx("span",{className:"block text-[10px] uppercase font-bold text-gray-500 dark:text-slate-400 mb-1",children:"Original White Noise Sigma"}),d.jsx("span",{className:"text-lg font-mono font-bold text-indigo-700 dark:text-indigo-300 select-all",children:f.toFixed(5)})]})]})]}):null};function Xp(e,t,r){const a=e*t*2,o=8,i=o+a,s="Fake",l="NoiseCam",c="NoiseCam",u=P=>{const A=new Uint8Array(P.length+1);for(let N=0;N<P.length;N++)A[N]=P.charCodeAt(N);return A[P.length]=0,A},f=u(s),h=u(l),p=u(c),m=[{id:254,type:4,count:1,value:0},{id:256,type:4,count:1,value:e},{id:257,type:4,count:1,value:t},{id:258,type:3,count:1,value:16},{id:259,type:3,count:1,value:1},{id:262,type:3,count:1,value:32803},{id:271,type:2,count:f.length,value:f},{id:272,type:2,count:h.length,value:h},{id:273,type:4,count:1,value:o},{id:277,type:3,count:1,value:1},{id:278,type:4,count:1,value:t},{id:279,type:4,count:1,value:a},{id:33421,type:3,count:2,value:[2,2]},{id:33422,type:1,count:4,value:[0,1,1,2]},{id:50706,type:1,count:4,value:[1,4,0,0]},{id:50717,type:2,count:p.length,value:p}],v=2+m.length*12+4;let x=0;const y=m.map(P=>{let A=1;P.type===3&&(A=2),P.type===4&&(A=4);const N=P.count*A,E=N<=4;let F=0;return E||(F=x,x+=N,x%2!==0&&x++),{...P,fits:E,totalBytes:N,extraOffset:F}}),g=i+v,b=g+x,S=new ArrayBuffer(b),w=new DataView(S),k=new Uint8Array(S);w.setUint16(0,18761,!0),w.setUint16(2,42,!0),w.setUint32(4,i,!0);const j=new Uint8Array(r.buffer,r.byteOffset,r.byteLength);k.set(j,o);let _=i;return w.setUint16(_,m.length,!0),_+=2,y.forEach(P=>{if(w.setUint16(_,P.id,!0),w.setUint16(_+2,P.type,!0),w.setUint32(_+4,P.count,!0),P.fits){const A=_+8;Array.isArray(P.value)?P.value.forEach((N,E)=>{P.type===1&&w.setUint8(A+E,N),P.type===3&&w.setUint16(A+E*2,N,!0)}):P.value instanceof Uint8Array||(P.type===3&&w.setUint16(A,P.value,!0),P.type===4&&w.setUint32(A,P.value,!0))}else{const A=g+P.extraOffset;w.setUint32(_+8,A,!0);const N=A;P.value instanceof Uint8Array?k.set(P.value,N):Array.isArray(P.value)&&P.value.forEach((E,F)=>{P.type===1&&w.setUint8(N+F,E),P.type===3&&w.setUint16(N+F*2,E,!0)})}_+=12}),w.setUint32(_,0,!0),S}const cQ="http://localhost:5428",uQ=(e=!1)=>{const[t,r]=O.useState({isConnected:!1,message:"Initializing...",hasDngConverter:!1});return O.useEffect(()=>{if(e){r({isConnected:!1,message:"Bridge Paused",hasDngConverter:!1});return}const n=async()=>{try{const o=new AbortController,i=setTimeout(()=>o.abort(),1e3),s=await fetch(`${cQ}/health`,{method:"GET",signal:o.signal});if(clearTimeout(i),s.ok){const l=await s.json(),c=`Connected (${l.exiftool||"Ready"})`;r(u=>u.isConnected===!0&&u.message===c&&u.version===l.exiftool&&u.hasDngConverter===!!l.dng_converter?u:{isConnected:!0,message:c,version:l.exiftool,hasDngConverter:!!l.dng_converter})}else r(l=>l.isConnected===!1&&l.message==="Service Error"?l:{isConnected:!1,message:"Service Error",hasDngConverter:!1})}catch{r(i=>i.isConnected===!1&&i.message==="Not Detected"?i:{isConnected:!1,message:"Not Detected",hasDngConverter:!1})}};n();const a=setInterval(n,2e3);return()=>clearInterval(a)},[e]),t},fQ="JTR_BlobStore",Ma="raw_files",dQ=1,$h=()=>new Promise((e,t)=>{const r=indexedDB.open(fQ,dQ);r.onupgradeneeded=n=>{const a=n.target.result;a.objectStoreNames.contains(Ma)||a.createObjectStore(Ma)},r.onsuccess=()=>e(r.result),r.onerror=()=>t(r.error)}),A2=async(e,t)=>{const r=await $h();return new Promise((n,a)=>{const o=r.transaction(Ma,"readwrite");o.objectStore(Ma).put(t,e),o.oncomplete=()=>n(),o.onerror=()=>a(o.error)})},hQ=async e=>{const t=await $h();return new Promise((r,n)=>{const i=t.transaction(Ma,"readonly").objectStore(Ma).get(e);i.onsuccess=()=>r(i.result),i.onerror=()=>n(i.error)})},pQ=async()=>{const e=await $h();return new Promise((t,r)=>{const n=e.transaction(Ma,"readwrite");n.objectStore(Ma).clear(),n.oncomplete=()=>t(),n.onerror=()=>r(n.error)})},_P="jtr_workspace_index",gQ=e=>{try{const t=JSON.stringify(e);localStorage.setItem(_P,t)}catch(t){console.error("Failed to save workspace index",t)}},mQ=()=>{try{const e=localStorage.getItem(_P);return e?JSON.parse(e):null}catch(e){return console.error("Failed to load workspace index",e),null}},yQ=async e=>{const n=(await $h()).transaction(Ma,"readwrite").objectStore(Ma),a=n.getAllKeys();a.onsuccess=()=>{a.result.forEach(i=>{e.includes(i)||n.delete(i)})}},Yr=1024,M2=(e,t,r)=>{const n=e.width,a=e.height,o=new ImageData(t,r),i=e.data,s=o.data,l=n/t,c=a/r;for(let u=0;u<r;u++){const f=Math.floor(u*c),h=u*t*4,p=f*n*4;for(let m=0;m<t;m++){const x=Math.floor(m*l)*4,y=h+m*4,g=p+x;s[y]=i[g],s[y+1]=i[g+1],s[y+2]=i[g+2],s[y+3]=i[g+3]}}return o},vQ=({stats:e,onClose:t,onMinimize:r,isBGGR:n,onToggleBGGR:a,onOpenWindow:o,displaySettings:i,zIndex:s,onFocus:l})=>{if(!e)return null;const c=!!i.showKadc&&!!i.blackLevel,u=i.blackLevel||[0,0,0,0],f=!!i.subtractBlackLevelFromStats&&!!i.blackLevel,h=(x,y,g)=>{if(!c)return null;const b=y*y;return b<=1e-4?0:(x-g)/b},p=(x,y)=>f?x-u[y]:x,m=()=>{if(!f){alert(`Sub. BL
Please enable 'Sub. BL' in Tools sidebar first.`);return}let x,y,g,b;n?(b=0,y=1,g=2,x=3):(x=0,y=1,g=2,b=3);const S=k=>e.means[k]-u[k],w=k=>e.stdDevs[k];localStorage.setItem("import_signal_r",S(x).toString()),localStorage.setItem("import_signal_g1",S(y).toString()),localStorage.setItem("import_signal_g2",S(g).toString()),localStorage.setItem("import_signal_b",S(b).toString()),localStorage.setItem("import_sigma_r",w(x).toString()),localStorage.setItem("import_sigma_g1",w(y).toString()),localStorage.setItem("import_sigma_g2",w(g).toString()),localStorage.setItem("import_sigma_b",w(b).toString()),window.open("https://y-g-jiang.github.io/XJZS.html","_blank")},v=n?[{name:"B",desc:"(0,0)",mean:p(e.means[0],0),std:e.stdDevs[0],color:"text-blue-500",k:h(e.means[0],e.stdDevs[0],u[0])},{name:"G1",desc:"(0,1)",mean:p(e.means[1],1),std:e.stdDevs[1],color:"text-green-500",k:h(e.means[1],e.stdDevs[1],u[1])},{name:"G2",desc:"(1,0)",mean:p(e.means[2],2),std:e.stdDevs[2],color:"text-green-500",k:h(e.means[2],e.stdDevs[2],u[2])},{name:"R",desc:"(1,1)",mean:p(e.means[3],3),std:e.stdDevs[3],color:"text-red-500",k:h(e.means[3],e.stdDevs[3],u[3])}]:[{name:"R",desc:"(0,0)",mean:p(e.means[0],0),std:e.stdDevs[0],color:"text-red-500",k:h(e.means[0],e.stdDevs[0],u[0])},{name:"G1",desc:"(0,1)",mean:p(e.means[1],1),std:e.stdDevs[1],color:"text-green-500",k:h(e.means[1],e.stdDevs[1],u[1])},{name:"G2",desc:"(1,0)",mean:p(e.means[2],2),std:e.stdDevs[2],color:"text-green-500",k:h(e.means[2],e.stdDevs[2],u[2])},{name:"B",desc:"(1,1)",mean:p(e.means[3],3),std:e.stdDevs[3],color:"text-blue-500",k:h(e.means[3],e.stdDevs[3],u[3])}];return d.jsxs(kv,{className:`${c?"w-80":"w-60"} p-0 overflow-hidden transition-all duration-300`,onClose:t,zIndex:s,onFocus:l,children:[d.jsxs("div",{className:"flex justify-between items-center px-3 py-2 border-b border-gray-100 dark:border-slate-800 bg-gray-50/50 dark:bg-slate-800/50",children:[d.jsxs("h3",{className:"text-xs font-bold text-gray-700 dark:text-slate-300 uppercase tracking-wider flex items-center gap-2",children:["ROI Analysis",d.jsxs("span",{className:"text-[10px] font-normal text-gray-400 bg-gray-200 dark:bg-slate-700 px-1.5 py-0.5 rounded",children:[Math.round(e.width),"",Math.round(e.height)]})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 transition-colors p-1 rounded-md hover:bg-gray-200 dark:hover:bg-slate-700 relative z-20",children:d.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),d.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 dark:hover:text-red-400 transition-colors p-1 rounded-md hover:bg-gray-200 dark:hover:bg-slate-700 relative z-20",children:d.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),d.jsxs("div",{className:"p-3",children:[d.jsxs("div",{className:"flex justify-between items-center mb-3",children:[d.jsxs("div",{className:"text-[10px] text-gray-400 dark:text-slate-500 font-mono leading-tight",children:["X: ",Math.round(e.x),d.jsx("br",{}),"Y: ",Math.round(e.y)]}),d.jsx("button",{onClick:()=>a(!n),className:"text-[10px] font-bold px-2 py-1 rounded bg-gray-100 hover:bg-gray-200 dark:bg-slate-800 dark:hover:bg-slate-700 text-gray-600 dark:text-slate-300 transition-colors border border-gray-200 dark:border-slate-700 relative z-20",title:"Toggle Bayer Pattern Interpretation",children:n?"BGGR":"RGGB"})]}),d.jsxs("table",{className:"w-full mb-3",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"text-[10px] text-gray-400 dark:text-slate-500 border-b border-gray-100 dark:border-slate-800",children:[d.jsx("th",{className:"text-left pb-1 font-medium",children:"Ch"}),d.jsxs("th",{className:"text-right pb-1 font-medium",children:["Mean",f?"*":""]}),d.jsx("th",{className:"text-right pb-1 font-medium",children:"Std()"}),c&&d.jsx("th",{className:"text-right pb-1 font-medium text-cyan-600 dark:text-cyan-400",children:"K(e/ADU)"})]})}),d.jsx("tbody",{className:"font-mono text-xs",children:v.map((x,y)=>d.jsxs("tr",{className:"group hover:bg-gray-50 dark:hover:bg-slate-800/30 transition-colors",children:[d.jsxs("td",{className:"py-1",children:[d.jsx("span",{className:`font-bold ${x.color}`,children:x.name}),d.jsx("span",{className:"text-[9px] text-gray-300 dark:text-slate-600 ml-1 hidden group-hover:inline",children:x.desc})]}),d.jsx("td",{className:"py-1 text-right text-gray-700 dark:text-slate-200 font-semibold",title:f?"Mean minus Black Level":"Raw Mean",children:x.mean.toFixed(2)}),d.jsx("td",{className:"py-1 text-right text-gray-500 dark:text-slate-400",children:x.std.toFixed(2)}),c&&d.jsx("td",{className:"py-1 text-right text-cyan-600 dark:text-cyan-400 font-bold",children:x.k!==null?x.k.toFixed(3):"-"})]},y))})]}),f&&d.jsx("div",{className:"mb-2 text-[9px] text-gray-400 dark:text-slate-500 text-right italic",children:"* Mean adjusted by Black Level"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:()=>o("histogram"),className:"relative z-20 flex-1 py-1.5 bg-cyan-600 hover:bg-cyan-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"View Histogram",children:[d.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Hist"]}),d.jsxs("button",{onClick:()=>o("quant"),className:"relative z-20 flex-1 py-1.5 bg-teal-600 hover:bg-teal-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"View Quantization Steps",children:[d.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),"Quant"]}),d.jsxs("button",{onClick:()=>o("fft"),className:"relative z-20 flex-1 py-1.5 bg-purple-600 hover:bg-purple-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"View Power Spectrum (FFT)",children:[d.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"FFT"]}),d.jsx("button",{onClick:m,className:"relative z-20 flex-1 py-1.5 bg-pink-600 hover:bg-pink-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"Color Noise Analysis (External Tool)",children:"ColorN"})]})]})]})},xQ=()=>{var Di;const[e,t]=O.useState(!0),[r,n]=O.useState("Initializing..."),a=O.useRef(!1),[o,i]=O.useState("dark");O.useEffect(()=>{const z=window.document.documentElement;z.classList.remove(o==="dark"?"light":"dark"),z.classList.add(o)},[o]);const[s,l]=O.useState(!1),[c,u]=O.useState(!1),[f,h]=O.useState(!1),p=uQ(s||c||f),[m,v]=O.useState(!1),[x,y]=O.useState([]),[g,b]=O.useState(-1),[S,w]=O.useState([]),k=O.useMemo(()=>x[g],[x,g]),j=(k==null?void 0:k.file)||null,_=(k==null?void 0:k.imageElement)||null,P=(k==null?void 0:k.rawImageData)||null,A=(k==null?void 0:k.rawFileBuffer)||null,N=(k==null?void 0:k.renderedRawImageData)||null,E=(k==null?void 0:k.referenceImageData)||null,F=(k==null?void 0:k.sampledImageData)||null,I=(k==null?void 0:k.exifData)||null,T=(k==null?void 0:k.isThreePlane)||!1,R=(k==null?void 0:k.displaySettings)||{exposure:0,demosaicMethod:3,blackLevel:void 0,wbGains:[1,1],showKadc:!0,subtractBlackLevelFromStats:!0},[W,L]=O.useState(!1),[D,B]=O.useState(null),[J,q]=O.useState(!1),[H,U]=O.useState(!1),[ue,fe]=O.useState(null),[be,ve]=O.useState([]),[G,ce]=O.useState(100),[me,Z]=O.useState(!0),[We,_e]=O.useState(!1),[st,qe]=O.useState(null),[bt,hr]=O.useState(!1),[pt,Ur]=O.useState(!1),[at,sr]=O.useState(!1),[lr,Dr]=O.useState(!1),[Zt,jn]=O.useState(!1),[Ar,yr]=O.useState({x:0,y:0}),[cr,ur]=O.useState(!1),[Tt,St]=O.useState(!1),[Ke,$t]=O.useState(2),[rr,vr]=O.useState(1),[xr,On]=O.useState([]),[Dt,rn]=O.useState(null),[ut,Rr]=O.useState(0),[nn,Gr]=O.useState([]),[Lr,Hr]=O.useState([]),[br,Ln]=O.useState(64),[Pt,K]=O.useState(10),[$e,Gt]=O.useState(10),[lt,Bt]=O.useState(4),[Ze,Vr]=O.useState(1),[an,ee]=O.useState(0),[xe,ot]=O.useState("processed"),[Nt,Ee]=O.useState(!1),Rt=O.useMemo(()=>R.blackLevel?R.blackLevel:P!=null&&P.blackLevels?[P.blackLevels[0],P.blackLevels[1],P.blackLevels[2],P.blackLevels[3]]:[0,0,0,0],[R.blackLevel,P]),ct=(I==null?void 0:I.ImageHeight)||(I==null?void 0:I.ExifImageHeight)||(P==null?void 0:P.height)||0,[At,Ae]=O.useState(null),[ft,Pe]=O.useState(null),[ie,yt]=O.useState({x:0,y:0}),[_n,wr]=O.useState(1),[ma,Ti]=O.useState("pan"),Ea=O.useRef(null),gn=O.useRef(null);O.useEffect(()=>{(async()=>{if(a.current)return;const V=mQ();if(V&&(n("Restoring layout..."),i(V.theme),Z(V.sidebarOpen),V.sessions.length>0)){n(`Restoring ${V.sessions.length} images...`);const te=[];for(const re of V.sessions){if(a.current){console.log("Restoration cancelled.");return}await new Promise(he=>setTimeout(he,50));try{const he=await hQ(re.id);if(he){const Te={id:re.id,fileName:re.fileName,file:null,imageElement:null,rawImageData:null,rawFileBuffer:he,renderedRawImageData:null,referenceImageData:null,sampledImageData:null,exifData:null,isThreePlane:re.isThreePlane,displaySettings:re.displaySettings},{previewBlob:et,analysisData:Le}=await Gp(he);let Fe=null;Le&&(Fe=await P2(he,re.displaySettings));const je=URL.createObjectURL(et),Ie=new Image;Ie.src=je,await new Promise(Qe=>{Ie.onload=()=>Qe()}),te.push({...Te,rawImageData:Le,renderedRawImageData:Fe,previewUrl:je,imageElement:Ie,exifData:Le.metadata})}}catch(he){console.error(`Failed to restore session ${re.id}`,he)}}if(a.current)return;if(y(te),V.activeSessionId){const re=te.findIndex(he=>he.id===V.activeSessionId);re>=0?b(re):te.length>0&&b(0)}ve(V.windows)}a.current||t(!1)})()},[]);const Wo=O.useRef(null),so=O.useCallback(()=>{e||(Wo.current&&clearTimeout(Wo.current),Wo.current=window.setTimeout(async()=>{var te;const z={version:1,timestamp:Date.now(),activeSessionId:((te=x[g])==null?void 0:te.id)||null,theme:o,sidebarOpen:me,sessions:x.map(re=>({id:re.id,fileName:re.fileName,fileType:re.file?re.file.type:"application/octet-stream",fileSize:re.rawFileBuffer?re.rawFileBuffer.byteLength:0,displaySettings:re.displaySettings,isThreePlane:re.isThreePlane})),windows:be.map(re=>({id:re.id,type:re.type,roi:re.roi,zIndex:re.zIndex,initialPosition:re.initialPosition,sessionId:re.sessionId,isBGGR:re.isBGGR,isMinimized:re.isMinimized||!1,internalState:re.internalState}))};gQ(z);const V=x.map(re=>re.id);yQ(V)},1e3))},[x,be,g,o,me,e]);O.useEffect(()=>{so()},[so]);const $i=O.useCallback(async()=>{a.current=!0,n("Cleaning up..."),localStorage.removeItem("jtr_workspace_index");try{await pQ()}catch(z){console.error("Failed to clear DB",z)}window.location.reload()},[]),Ta=O.useCallback(z=>{y(V=>V.map((te,re)=>re===g?{...te,...z}:te))},[g]),ul=()=>b(z=>Math.min(z+1,x.length-1)),Uo=()=>b(z=>Math.max(0,z-1));O.useEffect(()=>{if(P&&D){const z=zi(P.data,P.width,P.height,D.x,D.y,D.width,D.height);B(z)}},[P]);const Go=z=>{if(!D||!k)return;const V=Date.now().toString()+Math.random().toString().slice(2,5),te=Math.max(G,...be.map(Te=>Te.zIndex),100),re=be.length%10*30,he=z==="fft"?{x:50,y:50}:z==="histogram"?{x:100,y:100}:{x:150,y:150};ve(Te=>[...Te,{id:V,type:z,roi:{x:D.x,y:D.y,w:D.width,h:D.height},zIndex:te+1,initialPosition:{x:he.x+re,y:he.y+re},sessionId:k.id,isBGGR:J,isMinimized:!1,stackFiles:z==="fft"&&S.length>0?S:void 0}])},cu=z=>{ve(V=>V.filter(te=>te.id!==z))},Dh=z=>{ve(V=>V.map(te=>te.id===z?{...te,isMinimized:!0}:te))},Rh=z=>{ve(V=>V.map(te=>te.id===z?{...te,isMinimized:!1}:te)),fl(z)},fl=z=>{ve(V=>{const te=Math.max(G,...V.map(re=>re.zIndex));return V.map(re=>re.id===z?{...re,zIndex:te+1}:re)})},Ho=(z,V)=>{ve(te=>te.map(re=>re.id===z?{...re,internalState:{...re.internalState,...V}}:re))},Vo=()=>{const z=Math.max(G,...be.map(V=>V.zIndex));ce(z+1)},Lh=(z,V)=>{ve(te=>te.map(re=>re.id===z?{...re,roi:V}:re))};O.useEffect(()=>{if(!I)return;const z=I.CFAPattern2||I.CFAPattern;if(z){let V="";Array.isArray(z)?V=z.join(""):typeof z=="string"?V=z.replace(/[\s,]+/g,""):typeof z=="number"&&(V=String(z)),V==="0112"?q(!1):V==="2110"&&q(!0)}},[I]),O.useEffect(()=>{let z;const V=()=>{if(Tt&&Zt){const te=Date.now()/1e3,re=.55+.45*Math.sin(te*Ke);vr(re),z=requestAnimationFrame(V)}else vr(1)};return Tt&&Zt?V():vr(1),()=>{z&&cancelAnimationFrame(z)}},[Tt,Zt,Ke]),O.useEffect(()=>{const z=V=>{V.key==="Escape"&&Zt&&(jn(!1),yr({x:0,y:0}),St(!1))};return window.addEventListener("keydown",z),()=>window.removeEventListener("keydown",z)},[Zt]),O.useEffect(()=>()=>{x.forEach(z=>{z.previewUrl&&URL.revokeObjectURL(z.previewUrl)}),gn.current&&gn.current.terminate()},[]);const $a=async(z,V=!0)=>{V&&(yt({x:0,y:0}),wr(1),Rr(0),Gr([]),Hr([]),_e(!1),qe(null),L(!1));let te=null;if(p.isConnected){const Le=new FormData;Le.append("file",z);try{const je=await(await fetch("http://localhost:5428/read",{method:"POST",body:Le})).json();if(je.success){let Ie=je.data;Array.isArray(Ie)&&Ie.length===1&&(Ie=Ie[0]),te=Ie}}catch(Fe){console.warn("Auto Exif fetch failed",Fe)}}const re=z.name.toLowerCase().match(/\.(arw|cr2|cr3|dng|nef|orf|raf|rw2|pef|srw|sr2|srf|x3f|erf|mef|mos|mrw|kdc|dcr|iiq|3fr|fff|rwl|nrw|raw|tif|tiff)$/);if(!(["image/jpeg","image/png","image/tiff","image/x-adobe-dng"].includes(z.type)||re)){Ae("Unsupported file type. Please load a JPG, PNG, or a supported RAW file.");return}let Te={file:z,exifData:te};if(re||z.type==="image/x-adobe-dng")try{V?Pe("Processing RAW file (this may take a moment)..."):Ee(!0);const Le=await z.arrayBuffer();Te.rawFileBuffer=Le;const{previewBlob:Fe,analysisData:je}=await Gp(Le);Te.rawImageData=je,Te.isThreePlane=je.isThreePlane||!1,je.isThreePlane&&V&&L(!0);const Ie=URL.createObjectURL(Fe);Te.previewUrl=Ie;const Qe=new Image;Qe.src=Ie,await new Promise((Ct,dt)=>{Qe.onload=()=>{Te.imageElement=Qe,Ct()},Qe.onerror=()=>{Ae("Could not load the RAW file preview."),Ct()}})}catch(Le){Ae(`Failed to process RAW file: ${Le.message}`),Pe(null),Ee(!1);return}else try{Pe("Processing image...");const{previewBlob:Le,analysisData:Fe}=await FZ(z);Te.rawImageData=Fe,Te.rawFileBuffer=await z.arrayBuffer(),Te.isThreePlane=Fe.isThreePlane||!1;const je=URL.createObjectURL(Le);Te.previewUrl=je;const Ie=new Image;Ie.src=je,await new Promise(Qe=>{Ie.onload=()=>{Te.imageElement=Ie,Qe()},Ie.onerror=()=>{Ae("Could not load the image file."),Qe()}})}catch(Le){Ae(`Failed to process image: ${Le.message}`),Pe(null);return}const et=Date.now().toString()+Math.random();if(Te.rawFileBuffer&&await A2(et,Te.rawFileBuffer),V){const Le={exposure:0,demosaicMethod:3,blackLevel:void 0,wbGains:[1,1],showKadc:!0,subtractBlackLevelFromStats:!0},Fe={id:et,fileName:z.name,file:z,imageElement:null,rawImageData:null,rawFileBuffer:null,renderedRawImageData:null,referenceImageData:null,sampledImageData:null,exifData:null,isThreePlane:!1,displaySettings:Le,...Te};y(je=>{const Ie=[...je,Fe];return b(Ie.length-1),Ie})}else Ta(Te);Pe(null),Ee(!1)},Ih=async z=>{Pe("Converting to DNG...");try{const V=new FormData;V.append("file",z);const te=await fetch("http://localhost:5428/convert_dng",{method:"POST",body:V}),re=te.headers.get("content-type")||"";if(te.ok)if(re.includes("application/json")){const he=await te.json();throw new Error(he.error||"Conversion failed")}else{const he=await te.blob(),Te=URL.createObjectURL(he),et=document.createElement("a");et.href=Te;const Le=z.name,Fe=Le.substring(0,Le.lastIndexOf("."))+".dng"||"converted.dng";et.download=Fe,document.body.appendChild(et),et.click(),document.body.removeChild(et),URL.revokeObjectURL(Te);const je=new File([he],Fe,{type:"image/x-adobe-dng"});await $a(je,!0)}else{const he=await te.text();throw new Error(`HTTP ${te.status}: ${he}`)}}catch(V){Pe(null),Ae(`Conversion Error: ${V.message}`)}},uu=(z,V)=>{z&&(V==="direct"?$a(z,!0):Ih(z))},Bh=async z=>{var te;const V=(te=z.target.files)==null?void 0:te[0];V&&(await $a(V,!0),z.target.value="")},$=async(z,V,te,re)=>{!z||!V||(Pe("Processing Pair Difference (May take a while)..."),Ae(null),setTimeout(async()=>{try{const he=await z.arrayBuffer(),Te=await V.arrayBuffer(),et=await Hp(he,Te,te,re),Le=Xp(et.width,et.height,et.rawData),Fe=new File([Le],`Diff_${z.name}_${V.name}.dng`,{type:"image/x-adobe-dng"});await $a(Fe,!0),Go("fft")}catch(he){console.error("Pair Processing Error",he),Ae("Pair Processing Failed: "+he.message)}finally{Pe(null)}},100))},X=async z=>{if(z.length<2){Ae("Need at least 2 files for Batch Diff.");return}Pe(`Batch Processing 0/${Math.floor(z.length/2)} pairs...`);const V=Array.from(z).sort((te,re)=>te.name.localeCompare(re.name,void 0,{numeric:!0}));try{for(let te=0;te<V.length-1;te+=2){const re=V[te],he=V[te+1];Pe(`Batch Processing Pair ${Math.floor(te/2)+1}/${Math.floor(V.length/2)}: ${re.name} & ${he.name}`);const Te=await re.arrayBuffer(),et=await he.arrayBuffer(),Le=await Hp(Te,et,!1,!1),Fe=Xp(Le.width,Le.height,Le.rawData),je=new Blob([Fe],{type:"image/x-adobe-dng"}),Ie=URL.createObjectURL(je),Qe=document.createElement("a");Qe.href=Ie,Qe.download=`Diff_${re.name}_${he.name}.dng`,document.body.appendChild(Qe),Qe.click(),document.body.removeChild(Qe),URL.revokeObjectURL(Ie)}}catch(te){console.error("FFT Batch Error",te),Ae("Batch Processing Failed: "+te.message)}finally{Pe(null)}},Q=async z=>{if(z.length<1)return;const V=Array.from(z).sort((te,re)=>te.name.localeCompare(re.name,void 0,{numeric:!0}));w(V),await $a(V[0],!0)},C=async()=>{Ee(!0);const z=128,V=z,te=z,re=V*te,he=new Uint16Array(re),Te=de=>{const we=de/lt+an;return Math.sin(2*Math.PI*we)>=0?1:0},et=32,Le=Ze*.5,Fe=Math.max(1e-4,Ze/et);for(let de=0;de<te;de++){let we=0;const Ge=de+.5-Le;for(let rt=0;rt<et;rt++){const Ye=Ge+(rt+.5)*Fe;we+=Te(Ye)}const tt=we/et,it=Math.round(tt*65535);for(let rt=0;rt<V;rt++)he[de*V+rt]=it}const je=new ImageData(Yr,Yr),Ie=Yr/V,Qe=Ze/2;for(let de=0;de<Yr;de++){const we=de/Ie,gt=Math.floor(we),Ge=we-gt,tt=Ge>=.5-Qe&&Ge<.5+Qe;for(let it=0;it<Yr;it++){const rt=it/Ie,Ye=Math.floor(rt),ya=rt-Ye,va=ya>=.5-Qe&&ya<.5+Qe,ar=(de*Yr+it)*4;if(Ye>=V||gt>=te){je.data[ar]=30,je.data[ar+1]=34,je.data[ar+2]=40,je.data[ar+3]=255;continue}if(tt&&va){const Ra=he[gt*V+Ye],Ko=Math.round(Ra/257);je.data[ar]=Ko,je.data[ar+1]=Ko,je.data[ar+2]=Ko,je.data[ar+3]=255}else je.data[ar]=30,je.data[ar+1]=34,je.data[ar+2]=40,je.data[ar+3]=255}}const Ct=new ImageData(Yr,Yr),dt=te/Yr;for(let de=0;de<Yr;de++){const we=(de+.5)*dt,Ge=Te(we)>.5?255:0,tt=de*Yr*4;for(let it=0;it<Yr;it++){const rt=tt+it*4;Ct.data[rt]=Ge,Ct.data[rt+1]=Ge,Ct.data[rt+2]=Ge,Ct.data[rt+3]=255}}const se=Xp(V,te,he),ke=new File([se],"pattern_test.dng",{type:"image/x-adobe-dng"}),ye=Date.now().toString();try{const{previewBlob:de,analysisData:we}=await Gp(se.slice(0)),gt=await P2(se.slice(0),R),Ge=M2(gt,Yr,Yr),tt=URL.createObjectURL(de),it=new Image;it.src=tt,await new Promise(Ye=>{it.onload=()=>Ye()}),await A2(ye,se);const rt={file:ke,rawFileBuffer:se,rawImageData:we,renderedRawImageData:Ge,referenceImageData:Ct,sampledImageData:je,previewUrl:tt,imageElement:it,isThreePlane:!1,displaySettings:R};(j==null?void 0:j.name)==="pattern_test.dng"?Ta(rt):(y(Ye=>{const ya={id:ye,fileName:"pattern_test.dng",file:ke,imageElement:it,rawImageData:we,rawFileBuffer:se,renderedRawImageData:Ge,referenceImageData:Ct,sampledImageData:je,exifData:null,isThreePlane:!1,previewUrl:tt,displaySettings:R};return[...Ye,ya]}),b(Ye=>x.length))}catch(de){console.error("Error generating pattern:",de),Ae(`Error generating pattern: ${de.message}`)}Ee(!1),Pe(null)},le=()=>{hr(!0)},Se=O.useRef({period:lt,fill:Ze,phase:an});O.useEffect(()=>{(j==null?void 0:j.name)==="pattern_test.dng"&&(Se.current.period!==lt||Se.current.fill!==Ze||Se.current.phase!==an)&&(Se.current={period:lt,fill:Ze,phase:an},C())},[lt,Ze,an,j]);const Me=O.useCallback(z=>{if(Ta({displaySettings:z}),!A)return;Ee(!0),gn.current&&gn.current.terminate();const V=new Worker(new URL("/assets/renderWorker-BmmCgTEZ.js",import.meta.url),{type:"module"});gn.current=V,V.onmessage=te=>{const{success:re,imageData:he,error:Te}=te.data;if(re){let et=he;(j==null?void 0:j.name)==="pattern_test.dng"&&(et=M2(he,Yr,Yr)),Ta({renderedRawImageData:et})}else Ae(Te||"Unknown worker error");Ee(!1),V.terminate(),gn.current=null},V.postMessage({buffer:A.slice(0),settings:z})},[A,j,Ta]);let Ue=N||_;xe==="reference"&&E?Ue=E:xe==="sampled"&&F&&(Ue=F);const He=ft||Nt,Re=z=>{if(Ea.current){const V=Ea.current,{width:te,height:re}=V.getBoundingClientRect(),he=te/2,Te=re/2,et=z/_n,Le=he-(he-ie.x)*et,Fe=Te-(Te-ie.y)*et;yt({x:Le,y:Fe})}wr(z)},Mt=z=>{if(!z)return;if(!P){B(null);return}H&&U(!1),Vo();const V=zi(P.data,P.width,P.height,z.x,z.y,z.w,z.h);B(V)},wt=z=>{fe(z),Mt(z)},Ft=()=>{Ti(z=>z==="pan"?"select":"pan")},nr=z=>{if(ut===0||ut>4)return;const V=[...nn,z];Gr(V),ut===4?(Xe(V),Rr(0)):Rr(ut+1)},ne=(z,V,te,re)=>{const he=z[0],Te=z[1],et=z[2],Le=z[3],Fe=V/2,je=[];for(let Ie=0;Ie<te;Ie++){const Qe=te>1?Ie/(te-1):.5;for(let Ct=0;Ct<re;Ct++){const dt=re>1?Ct/(re-1):.5,se=he.x*(1-dt)+Te.x*dt,ke=he.y*(1-dt)+Te.y*dt,ye=et.x*(1-dt)+Le.x*dt,de=et.y*(1-dt)+Le.y*dt,we=se*(1-Qe)+ye*Qe,gt=ke*(1-Qe)+de*Qe,Ge=we-Fe,tt=gt-Fe;je.push({x:Ge,y:tt,w:V,h:V})}}return je},Xe=z=>{P&&(Pe("Calculating DR Lab Grid..."),setTimeout(()=>{try{const V=ne(z,br,Pt,$e);Hr(V);const Te=[...[`#BlackLevel: ${(R.blackLevel||[0,0,0,0]).join(",")}`,`#ImageHeight: ${P.height}`],"Row,Col,R_Mean,G1_Mean,G2_Mean,B_Mean,R_Std,G1_Std,G2_Std,B_Std"];V.forEach((Ie,Qe)=>{const Ct=Math.floor(Qe/$e)+1,dt=Qe%$e+1,se=zi(P.data,P.width,P.height,Ie.x,Ie.y,Ie.w,Ie.h),ke=se.means,ye=se.stdDevs,de=`${Ct},${dt},${ke[0].toFixed(4)},${ke[1].toFixed(4)},${ke[2].toFixed(4)},${ke[3].toFixed(4)},${ye[0].toFixed(4)},${ye[1].toFixed(4)},${ye[2].toFixed(4)},${ye[3].toFixed(4)}`;Te.push(de)});const et=Te.join(`
`),Le=new Blob([et],{type:"text/csv;charset=utf-8;"}),Fe=URL.createObjectURL(Le),je=document.createElement("a");je.setAttribute("href",Fe),je.setAttribute("download","dr_lab_results.csv"),document.body.appendChild(je),je.click(),document.body.removeChild(je),URL.revokeObjectURL(Fe),Gr([])}catch(V){Ae("DR Lab Error: "+V.message)}finally{Pe(null)}},100))},Ne=async(z,V)=>{if(nn.length<4&&Lr.length<1){Ae("Please mark the grid on an image first before running batch processing.");return}let te=Lr;if(te.length===0&&nn.length===4&&(te=ne(nn,br,Pt,$e)),te.length===0){Ae("No grid definitions found. Mark corners first.");return}Pe(V==="pair"?"Batch Pair Processing...":"Batch Processing...");const he=(R.blackLevel||[0,0,0,0]).join(","),Te=P?P.height:0,Le=[...[`#BlackLevel: ${he}`,`#ImageHeight: ${Te}`,V==="pair"?"#Mode: Pair Difference (Sigma = Diff/sqrt(2))":"#Mode: Independent"],"Filename,Row,Col,R_Mean,G1_Mean,G2_Mean,B_Mean,R_Std,G1_Std,G2_Std,B_Std"],Fe=Array.from(z).sort((je,Ie)=>je.name.localeCompare(Ie.name,void 0,{numeric:!0}));if(V==="pair"&&Fe.length<2){Ae("Need at least 2 files for Pair processing."),Pe(null);return}try{if(V==="single")for(let dt=0;dt<Fe.length;dt++){const se=Fe[dt];Pe(`Processing ${dt+1}/${Fe.length}: ${se.name}...`);const ke=await se.arrayBuffer(),ye=await vm(ke);te.forEach((de,we)=>{const gt=Math.floor(we/$e)+1,Ge=we%$e+1,tt=zi(ye.data,ye.width,ye.height,de.x,de.y,de.w,de.h),it=tt.means,rt=tt.stdDevs,Ye=`${se.name},${gt},${Ge},${it[0].toFixed(4)},${it[1].toFixed(4)},${it[2].toFixed(4)},${it[3].toFixed(4)},${rt[0].toFixed(4)},${rt[1].toFixed(4)},${rt[2].toFixed(4)},${rt[3].toFixed(4)}`;Le.push(Ye)})}else for(let dt=0;dt<Fe.length-1;dt+=2){const se=Fe[dt],ke=Fe[dt+1],ye=`${se.name} & ${ke.name}`;Pe(`Processing Pair ${Math.floor(dt/2)+1}/${Math.floor(Fe.length/2)}: ${se.name} & ${ke.name}...`);const de=await se.arrayBuffer(),we=await vm(de),gt=await ke.arrayBuffer(),Ge=await Hp(de,gt,!1,!0);te.forEach((tt,it)=>{const rt=Math.floor(it/$e)+1,Ye=it%$e+1,ya=zi(we.data,we.width,we.height,tt.x,tt.y,tt.w,tt.h),va=zi(Ge.rawData,Ge.width,Ge.height,tt.x,tt.y,tt.w,tt.h),ar=ya.means,Ra=va.stdDevs,Ko=`${ye},${rt},${Ye},${ar[0].toFixed(4)},${ar[1].toFixed(4)},${ar[2].toFixed(4)},${ar[3].toFixed(4)},${Ra[0].toFixed(4)},${Ra[1].toFixed(4)},${Ra[2].toFixed(4)},${Ra[3].toFixed(4)}`;Le.push(Ko)})}const je=Le.join(`
`),Ie=new Blob([je],{type:"text/csv;charset=utf-8;"}),Qe=URL.createObjectURL(Ie),Ct=document.createElement("a");Ct.href=Qe,Ct.setAttribute("download",`dr_lab_batch_${V}_${new Date().getTime()}.csv`),document.body.appendChild(Ct),Ct.click(),document.body.removeChild(Ct),URL.revokeObjectURL(Qe)}catch(je){console.error("Batch Error",je),Ae("Batch Processing Failed: "+je.message)}finally{Pe(null)}},zt=()=>{if(!P){Ae("Please load an image first.");return}Hr([]),Gr([]),Rr(1)},jt=async()=>{if(!j)return;if(p.isConnected?qe(null):qe(`JiangBridge Offline
JiangBridge Offline, limited content shown only`),p.isConnected){Pe("Reading EXIF (JiangBridge)...");try{const V=new FormData;V.append("file",j);const te=await fetch("http://localhost:5428/read",{method:"POST",body:V});if(!te.ok)throw new Error(`Bridge error: ${te.statusText}`);const re=await te.json();if(re.success){let he=re.data;Array.isArray(he)&&he.length===1&&(he=he[0]),Ta({exifData:he}),_e(!0),Pe(null);return}else console.warn("Bridge returned error:",re.error)}catch(V){console.warn("Bridge fetch failed, falling back to LibRaw:",V)}Pe(null)}if(!P){Ae("No image data available.");return}const z=P.metadata;if(!z){Ae("No metadata found for this image.");return}Ta({exifData:z}),_e(!0)},on=O.useCallback(async z=>{Pe("Parsing CSV files...");const V=[];let te,re;try{const he=Array.from(z).map((Te,et)=>new Promise((Le,Fe)=>{const je=new FileReader;je.onload=Ie=>{var se;const Qe=(se=Ie.target)==null?void 0:se.result;if(!Qe)return Le();const Ct=Qe.split(`
`);let dt=-1;for(let ke=0;ke<Ct.length;ke++){const ye=Ct[ke].trim();if(ye){if(et===0&&ye.startsWith("#")){if(ye.startsWith("#BlackLevel:")){const we=ye.replace("#BlackLevel:","").trim().split(/[\s,]+/).map(Number);we.length>=4&&!we.some(isNaN)&&(te=[we[0],we[1],we[2],we[3]])}else if(ye.startsWith("#ImageHeight:")){const de=ye.replace("#ImageHeight:","").trim(),we=parseInt(de);!isNaN(we)&&we>0&&(re=we)}continue}if(ye.startsWith("Row")||ye.startsWith("Filename")){dt=ke+1;break}}}dt===-1&&(dt=1);for(let ke=dt;ke<Ct.length;ke++){const ye=Ct[ke].trim();if(!ye||ye.startsWith("#"))continue;const de=ye.split(",");let we=0;if(isNaN(Number(de[0]))&&(we=1),de.length<10+we)continue;const gt=we===1?de[0]:Te.name,Ge=de.map(Number),tt=Ge[0+we],it=Ge[1+we],rt=Ge[2+we],Ye=Ge[3+we],ya=Ge[4+we],va=Ge[5+we],ar=Ge[6+we],Ra=Ge[7+we],Ko=Ge[8+we],NP=Ge[9+we];rt>0&&V.push({channel:"R",mean:rt,std:ar,filename:gt,row:tt,col:it}),Ye>0&&V.push({channel:"G1",mean:Ye,std:Ra,filename:gt,row:tt,col:it}),ya>0&&V.push({channel:"G2",mean:ya,std:Ko,filename:gt,row:tt,col:it}),va>0&&V.push({channel:"B",mean:va,std:NP,filename:gt,row:tt,col:it})}Le()},je.onerror=Fe,je.readAsText(Te)}));await Promise.all(he),On(V),rn(te||re?{blackLevel:te,height:re}:null),l(!0)}catch(he){Ae("Failed to parse CSV files: "+he.message)}finally{Pe(null)}},[]),vt=z=>{z.button===0&&ur(!0)},Qt=O.useCallback(z=>{cr&&yr(V=>({x:V.x+z.movementX,y:V.y+z.movementY}))},[cr]),Mr=O.useCallback(()=>{ur(!1)},[]);O.useEffect(()=>(cr?(window.addEventListener("mousemove",Qt),window.addEventListener("mouseup",Mr)):(window.removeEventListener("mousemove",Qt),window.removeEventListener("mouseup",Mr)),()=>{window.removeEventListener("mousemove",Qt),window.removeEventListener("mouseup",Mr)}),[cr,Qt,Mr]);const Da=()=>{if(!A||!j)return;const z=j.name||"pattern_test.dng",V=new Blob([A],{type:"image/x-adobe-dng"}),te=URL.createObjectURL(V),re=document.createElement("a");re.href=te,re.download=z,document.body.appendChild(re),re.click(),document.body.removeChild(re),URL.revokeObjectURL(te)};return e?d.jsxs("div",{className:"flex flex-col h-screen items-center justify-center bg-gray-50 dark:bg-slate-950 text-gray-900 dark:text-slate-200",children:[d.jsx("div",{className:"w-12 h-12 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mb-4"}),d.jsx("h2",{className:"text-xl font-bold animate-pulse",children:r}),d.jsx("p",{className:"text-sm text-gray-500 mt-2 mb-6",children:"Loading stored buffers from database..."}),d.jsx("button",{onClick:$i,className:"px-6 py-2 bg-red-100 hover:bg-red-200 dark:bg-red-900/30 dark:hover:bg-red-900/50 text-red-700 dark:text-red-300 font-bold rounded-lg transition-colors border border-red-200 dark:border-red-800 text-sm",children:"Abandon Saved Session (Start Fresh)"})]}):d.jsxs("div",{className:"flex flex-col h-screen bg-white dark:bg-slate-950 text-gray-900 dark:text-slate-200 font-sans transition-colors duration-300",children:[d.jsx("div",{className:"p-4 pb-0",children:d.jsx(nM,{onLoadImage:Bh,onFileSelected:uu,onGenerateFakeDng:le,fileName:j?j.name:null,hasGeneratedData:(j==null?void 0:j.name)==="pattern_test.dng",viewMode:xe,onSetViewMode:ot,patternPeriod:lt,onPatternPeriodChange:Bt,fillFactor:Ze,onFillFactorChange:Vr,patternPhase:an,onPatternPhaseChange:ee,showPatternControls:(j==null?void 0:j.name)==="pattern_test.dng",onOpenAbout:()=>Ur(!0),onShowExif:jt,bridgeStatus:p,onBridgeClick:()=>v(!0),isDrLabOpen:at,onToggleDrLab:()=>{sr(!at),Rr(0),Gr([]),Hr([]),lr&&Dr(!1)},isFftLabOpen:lr,onToggleFftLab:()=>{Dr(!lr),at&&sr(!1)},onGenerateTestPic:()=>jn(!0),onPTCFilesSelected:on,onDownloadDng:Da,isThreePlane:T,onOpenDatabase:()=>u(!0)})}),d.jsxs("div",{className:"flex flex-1 overflow-hidden p-4 pt-2 gap-4 relative",children:[d.jsxs("div",{className:"flex-1 relative bg-gray-100 dark:bg-slate-900 rounded-2xl border border-gray-200 dark:border-slate-800 shadow-inner overflow-hidden transition-colors duration-300",ref:Ea,children:[He&&d.jsxs("div",{className:"absolute bottom-4 right-4 z-50 flex items-center gap-2 bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm px-3 py-1.5 rounded-full border border-cyan-500/30 shadow-sm",children:[d.jsx("div",{className:"w-4 h-4 border-2 border-cyan-500 border-t-transparent rounded-full animate-spin"}),d.jsx("span",{className:"text-xs text-cyan-600 dark:text-cyan-400 font-mono",children:ft||"Processing..."})]}),x.length>1&&d.jsxs("div",{className:"absolute bottom-4 right-20 z-50 flex items-center gap-2 bg-white/90 dark:bg-slate-800/90 backdrop-blur-sm px-3 py-1.5 rounded-lg border border-gray-200 dark:border-slate-700 shadow-lg text-sm font-mono text-gray-700 dark:text-slate-200",children:[d.jsx("button",{onClick:Uo,disabled:g<=0,className:"hover:text-cyan-500 disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"Previous Image",children:d.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),d.jsxs("span",{className:"min-w-[3rem] text-center select-none font-bold",children:[g+1," / ",x.length]}),d.jsx("button",{onClick:ul,disabled:g>=x.length-1,className:"hover:text-cyan-500 disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"Next Image",children:d.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),d.jsxs("div",{className:"absolute bottom-4 left-4 z-50 flex flex-col-reverse gap-2 items-start pointer-events-none",children:[H&&D&&d.jsxs("div",{className:"pointer-events-auto flex items-center gap-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg shadow-lg overflow-hidden animate-in slide-in-from-bottom-2 fade-in",children:[d.jsxs("button",{onClick:()=>U(!1),className:"px-3 py-1.5 text-xs font-bold text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors flex items-center gap-2",children:[d.jsx("span",{className:"w-2 h-2 rounded-full bg-cyan-500"}),"ROI Stats"]}),d.jsx("button",{onClick:()=>{U(!1),B(null)},className:"px-2 py-1.5 text-gray-400 hover:text-red-500 hover:bg-gray-100 dark:hover:bg-slate-700 border-l border-gray-200 dark:border-slate-700 transition-colors",children:d.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),be.filter(z=>z.isMinimized).map(z=>{let V="Window",te="bg-gray-500";return z.type==="histogram"?(V="Histogram",te="bg-purple-500"):z.type==="fft"?(V="FFT Spectrum",te="bg-fuchsia-500"):z.type==="quant"&&(V="Quantization",te="bg-teal-500"),d.jsxs("div",{className:"pointer-events-auto flex items-center gap-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg shadow-lg overflow-hidden animate-in slide-in-from-bottom-2 fade-in",children:[d.jsxs("button",{onClick:()=>Rh(z.id),className:"px-3 py-1.5 text-xs font-bold text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors flex items-center gap-2",children:[d.jsx("span",{className:`w-2 h-2 rounded-full ${te}`}),V]}),d.jsx("button",{onClick:()=>cu(z.id),className:"px-2 py-1.5 text-gray-400 hover:text-red-500 hover:bg-gray-100 dark:hover:bg-slate-700 border-l border-gray-200 dark:border-slate-700 transition-colors",children:d.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},z.id)})]}),!H&&d.jsx(vQ,{stats:D,onClose:()=>{B(null),fe(null)},onMinimize:()=>U(!0),isBGGR:J,onToggleBGGR:q,onOpenWindow:Go,displaySettings:R,zIndex:G,onFocus:Vo}),d.jsx(JZ,{isOpen:pt,onClose:()=>Ur(!1)}),d.jsx(eQ,{isOpen:We,onClose:()=>_e(!1),data:I,fileName:j?j.name:"",warning:st}),d.jsx(rQ,{isOpen:s,onClose:()=>l(!1),data:xr,blackLevel:Rt,imageHeight:ct,isBGGR:J,importedMetadata:Dt||void 0,theme:o,initialCameraModel:(I==null?void 0:I.Model)||"",initialISO:(I==null?void 0:I.ISO)||((Di=I==null?void 0:I.ISOSpeedRatings)==null?void 0:Di.toString())||""}),d.jsx(sQ,{isOpen:c,onClose:()=>u(!1),theme:o}),d.jsx(lQ,{isOpen:f,onClose:()=>h(!1),zIndex:200}),be.map(z=>{if(z.isMinimized)return null;const V=x.find(he=>he.id===z.sessionId),te=V==null?void 0:V.rawImageData;if(!te)return null;const re={key:z.id,isOpen:!0,onClose:()=>cu(z.id),onMinimize:()=>Dh(z.id),rawImageData:te,roi:z.roi,isBGGR:z.isBGGR,zIndex:z.zIndex,onFocus:()=>fl(z.id),initialPosition:z.initialPosition,initialInternalState:z.internalState,onUpdateState:he=>Ho(z.id,he),stackFiles:z.stackFiles};return z.type==="histogram"?d.jsx(VZ,{...re}):z.type==="fft"?d.jsx(qZ,{...re,onUpdateROI:he=>Lh(z.id,he)}):z.type==="quant"?d.jsx(ZZ,{...re}):null}),At&&d.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-white/90 dark:bg-slate-900/90 p-8",children:d.jsxs("div",{className:"max-w-md text-center p-6 bg-white dark:bg-slate-800 rounded-xl border border-red-500/50 shadow-xl",children:[d.jsx("h3",{className:"text-xl font-bold text-red-500 dark:text-red-400 mb-2",children:"Notice"}),d.jsx("p",{className:"text-gray-600 dark:text-slate-300 mb-6 whitespace-pre-wrap",children:At}),d.jsx("button",{onClick:()=>Ae(null),className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 dark:bg-slate-700 dark:hover:bg-slate-600 rounded-lg text-gray-900 dark:text-white transition-colors",children:"Dismiss"})]})}),!Ue&&!He&&!At&&d.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-gray-400 dark:text-slate-600 select-none",children:d.jsx("p",{className:"text-lg",children:"Load an image or generate a pattern"})}),d.jsx(aM,{image:Ue,zoom:_n,pan:ie,onPanChange:yt,onZoomChange:Re,onSelectionChange:Mt,forcedSelection:ue,theme:o,touchAction:ma,isMarking:ut>0,onPointClick:nr,markers:nn,gridRects:Lr}),d.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-1/2 z-30 pointer-events-none select-none opacity-20 mix-blend-normal dark:mix-blend-plus-lighter",children:d.jsx("svg",{viewBox:"0 0 500 60",className:"w-full h-auto drop-shadow-xl",children:d.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"36",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})}),P&&!ut&&d.jsxs("div",{className:"absolute bottom-4 left-4 z-30 pointer-events-none opacity-50 text-[10px] text-gray-500 dark:text-slate-400",children:["Hold ",d.jsx("b",{children:"Shift"})," + Drag to calculate Raw ROI stats"]}),d.jsx(pM,{zoom:_n,onZoomChange:Re,onResetView:()=>{wr(1),yt({x:0,y:0})},touchAction:ma,onToggleTouchAction:Ft}),!me&&d.jsx("button",{onClick:()=>Z(!0),className:"absolute right-0 top-1/2 -translate-y-1/2 z-50 bg-white dark:bg-slate-900 border-y border-l border-gray-200 dark:border-slate-800 shadow-md p-1.5 rounded-l-lg hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors animate-in fade-in slide-in-from-right-2",title:"Show Tools",children:d.jsx("svg",{className:"w-4 h-4 text-gray-500 dark:text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})})]}),d.jsxs("div",{className:`flex-shrink-0 flex flex-col bg-white dark:bg-slate-900 rounded-2xl border border-gray-200 dark:border-slate-800 shadow-xl overflow-hidden transition-all duration-300 ease-in-out ${me?"w-80 translate-x-0 opacity-100 ml-0":"w-0 translate-x-20 opacity-0 p-0 border-0 pointer-events-none ml-0"}`,children:[d.jsxs("div",{className:"flex justify-between items-center px-4 py-3 border-b border-gray-200 dark:border-slate-800 bg-gray-50/50 dark:bg-slate-800/50 flex-shrink-0",children:[d.jsx("h2",{className:"font-bold text-sm text-gray-700 dark:text-slate-300 uppercase tracking-wide flex items-center gap-2",children:d.jsx("span",{children:"Tools"})}),d.jsx("button",{onClick:()=>Z(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 transition-colors p-1 rounded hover:bg-gray-200 dark:hover:bg-slate-700",title:"Hide Tools",children:d.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),d.jsx("div",{className:"flex-1 overflow-hidden relative",children:d.jsx(iM,{rawImageData:P,displaySettings:R,onApplyDisplaySettings:Me,onSetSelection:wt,exifData:I,isBridgeConnected:p.isConnected,isDrLabOpen:at,drMarkingStep:ut,onStartMarking:zt,onGenerateTestPic:()=>jn(!0),drRoiSize:br,onDrRoiSizeChange:Ln,drGridRows:Pt,onDrGridRowsChange:K,drGridCols:$e,onDrGridColsChange:Gt,onBatchDrLab:Ne,hasDrMarkers:Lr.length>0||nn.length===4,isFftLabOpen:lr,onProcessPair:$,onProcessBatchDiff:X,onProcessStackFft:Q,onOpenCrossCalc:()=>h(!0),isThreePlane:P==null?void 0:P.isThreePlane})})]})]}),Zt&&d.jsxs("div",{className:"fixed inset-0 z-[200] bg-black overflow-hidden",children:[d.jsx("div",{onMouseDown:vt,style:{transform:`translate(${Ar.x}px, ${Ar.y}px)`,cursor:cr?"grabbing":"grab",opacity:rr,transition:"opacity 0.1s linear"},className:"w-full h-full flex items-center justify-center",children:d.jsx("img",{src:"/drtest.png",alt:"DR Test",className:"max-w-full max-h-full object-contain pointer-events-none select-none",draggable:!1})}),d.jsxs("div",{className:"absolute top-4 right-4 flex flex-col items-end gap-2 pointer-events-none z-[201]",children:[d.jsx("div",{className:"text-white/50 text-sm bg-black/50 px-3 py-1 rounded backdrop-blur-sm",children:"Press ESC to exit | Drag to move"}),d.jsx("div",{className:"text-white/20 text-xs px-2 select-none",children:"F11 full screen"}),d.jsx("div",{className:"text-red-900/80 text-lg px-2 select-none font-bold mt-4",children:""}),d.jsx("div",{className:"text-red-900/60 text-xs px-2 select-none",children:"Shoot slightly out of focus"})]}),d.jsxs("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 bg-black/60 backdrop-blur-md p-4 rounded-xl border border-gray-700 flex flex-col gap-3 items-center z-[202]",children:[d.jsx("button",{onClick:()=>St(!Tt),className:`px-4 py-2 rounded-lg font-bold text-sm transition-colors ${Tt?"bg-amber-500 text-black hover:bg-amber-400":"bg-gray-700 text-white hover:bg-gray-600"}`,children:Tt?"Stop Breathing":"Start Breathing"}),Tt&&d.jsxs("div",{className:"flex items-center gap-3 w-64 animate-in fade-in",children:[d.jsx("span",{className:"text-xs text-gray-400 font-bold uppercase",children:"Speed"}),d.jsx("input",{type:"range",min:"0.5",max:"10",step:"0.5",value:Ke,onChange:z=>$t(parseFloat(z.target.value)),className:"flex-1 h-1.5 bg-gray-600 rounded-lg appearance-none cursor-pointer accent-amber-500"}),d.jsx("span",{className:"text-xs text-amber-500 w-8 text-right",children:Ke.toFixed(1)})]})]})]}),d.jsx(gM,{theme:o,setTheme:i})]})},PP=document.getElementById("root");if(!PP)throw new Error("Could not find root element to mount to");const bQ=Yp.createRoot(PP);bQ.render(d.jsx(M.StrictMode,{children:d.jsx(xQ,{})}));export{DZ as _};
