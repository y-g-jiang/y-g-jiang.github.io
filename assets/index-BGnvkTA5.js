var wP=Object.defineProperty;var kP=(e,t,r)=>t in e?wP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Hr=(e,t,r)=>kP(e,typeof t!="symbol"?t+"":t,r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();var iu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Mt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var S2={exports:{}},Pd={},j2={exports:{}},Qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uc=Symbol.for("react.element"),SP=Symbol.for("react.portal"),jP=Symbol.for("react.fragment"),OP=Symbol.for("react.strict_mode"),_P=Symbol.for("react.profiler"),PP=Symbol.for("react.provider"),NP=Symbol.for("react.context"),AP=Symbol.for("react.forward_ref"),MP=Symbol.for("react.suspense"),CP=Symbol.for("react.memo"),EP=Symbol.for("react.lazy"),pv=Symbol.iterator;function TP(e){return e===null||typeof e!="object"?null:(e=pv&&e[pv]||e["@@iterator"],typeof e=="function"?e:null)}var O2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_2=Object.assign,P2={};function Ls(e,t,r){this.props=e,this.context=t,this.refs=P2,this.updater=r||O2}Ls.prototype.isReactComponent={};Ls.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ls.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function N2(){}N2.prototype=Ls.prototype;function fm(e,t,r){this.props=e,this.context=t,this.refs=P2,this.updater=r||O2}var dm=fm.prototype=new N2;dm.constructor=fm;_2(dm,Ls.prototype);dm.isPureReactComponent=!0;var gv=Array.isArray,A2=Object.prototype.hasOwnProperty,hm={current:null},M2={key:!0,ref:!0,__self:!0,__source:!0};function C2(e,t,r){var n,a={},o=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)A2.call(t,n)&&!M2.hasOwnProperty(n)&&(a[n]=t[n]);var s=arguments.length-2;if(s===1)a.children=r;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(n in s=e.defaultProps,s)a[n]===void 0&&(a[n]=s[n]);return{$$typeof:Uc,type:e,key:o,ref:i,props:a,_owner:hm.current}}function $P(e,t){return{$$typeof:Uc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function pm(e){return typeof e=="object"&&e!==null&&e.$$typeof===Uc}function DP(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var mv=/\/+/g;function Dh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?DP(""+e.key):t.toString(36)}function Fu(e,t,r,n,a){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Uc:case SP:i=!0}}if(i)return i=e,a=a(i),e=n===""?"."+Dh(i,0):n,gv(a)?(r="",e!=null&&(r=e.replace(mv,"$&/")+"/"),Fu(a,t,r,"",function(c){return c})):a!=null&&(pm(a)&&(a=$P(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(mv,"$&/")+"/")+e)),t.push(a)),1;if(i=0,n=n===""?".":n+":",gv(e))for(var s=0;s<e.length;s++){o=e[s];var l=n+Dh(o,s);i+=Fu(o,t,r,l,a)}else if(l=TP(e),typeof l=="function")for(e=l.call(e),s=0;!(o=e.next()).done;)o=o.value,l=n+Dh(o,s++),i+=Fu(o,t,r,l,a);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function su(e,t,r){if(e==null)return e;var n=[],a=0;return Fu(e,n,"","",function(o){return t.call(r,o,a++)}),n}function LP(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Yr={current:null},zu={transition:null},RP={ReactCurrentDispatcher:Yr,ReactCurrentBatchConfig:zu,ReactCurrentOwner:hm};function E2(){throw Error("act(...) is not supported in production builds of React.")}Qe.Children={map:su,forEach:function(e,t,r){su(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return su(e,function(){t++}),t},toArray:function(e){return su(e,function(t){return t})||[]},only:function(e){if(!pm(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Qe.Component=Ls;Qe.Fragment=jP;Qe.Profiler=_P;Qe.PureComponent=fm;Qe.StrictMode=OP;Qe.Suspense=MP;Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RP;Qe.act=E2;Qe.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=_2({},e.props),a=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=hm.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)A2.call(t,l)&&!M2.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];n.children=s}return{$$typeof:Uc,type:e.type,key:a,ref:o,props:n,_owner:i}};Qe.createContext=function(e){return e={$$typeof:NP,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:PP,_context:e},e.Consumer=e};Qe.createElement=C2;Qe.createFactory=function(e){var t=C2.bind(null,e);return t.type=e,t};Qe.createRef=function(){return{current:null}};Qe.forwardRef=function(e){return{$$typeof:AP,render:e}};Qe.isValidElement=pm;Qe.lazy=function(e){return{$$typeof:EP,_payload:{_status:-1,_result:e},_init:LP}};Qe.memo=function(e,t){return{$$typeof:CP,type:e,compare:t===void 0?null:t}};Qe.startTransition=function(e){var t=zu.transition;zu.transition={};try{e()}finally{zu.transition=t}};Qe.unstable_act=E2;Qe.useCallback=function(e,t){return Yr.current.useCallback(e,t)};Qe.useContext=function(e){return Yr.current.useContext(e)};Qe.useDebugValue=function(){};Qe.useDeferredValue=function(e){return Yr.current.useDeferredValue(e)};Qe.useEffect=function(e,t){return Yr.current.useEffect(e,t)};Qe.useId=function(){return Yr.current.useId()};Qe.useImperativeHandle=function(e,t,r){return Yr.current.useImperativeHandle(e,t,r)};Qe.useInsertionEffect=function(e,t){return Yr.current.useInsertionEffect(e,t)};Qe.useLayoutEffect=function(e,t){return Yr.current.useLayoutEffect(e,t)};Qe.useMemo=function(e,t){return Yr.current.useMemo(e,t)};Qe.useReducer=function(e,t,r){return Yr.current.useReducer(e,t,r)};Qe.useRef=function(e){return Yr.current.useRef(e)};Qe.useState=function(e){return Yr.current.useState(e)};Qe.useSyncExternalStore=function(e,t,r){return Yr.current.useSyncExternalStore(e,t,r)};Qe.useTransition=function(){return Yr.current.useTransition()};Qe.version="18.3.1";j2.exports=Qe;var O=j2.exports;const M=Mt(O);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IP=O,BP=Symbol.for("react.element"),FP=Symbol.for("react.fragment"),zP=Object.prototype.hasOwnProperty,WP=IP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,UP={key:!0,ref:!0,__self:!0,__source:!0};function T2(e,t,r){var n,a={},o=null,i=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)zP.call(t,n)&&!UP.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:BP,type:e,key:o,ref:i,props:a,_owner:WP.current}}Pd.Fragment=FP;Pd.jsx=T2;Pd.jsxs=T2;S2.exports=Pd;var d=S2.exports,Wp={},$2={exports:{}},kn={},D2={exports:{}},L2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,z){var W=D.length;D.push(z);e:for(;0<W;){var te=W-1>>>1,Y=D[te];if(0<a(Y,z))D[te]=z,D[W]=Y,W=te;else break e}}function r(D){return D.length===0?null:D[0]}function n(D){if(D.length===0)return null;var z=D[0],W=D.pop();if(W!==z){D[0]=W;e:for(var te=0,Y=D.length,X=Y>>>1;te<X;){var F=2*(te+1)-1,ue=D[F],fe=F+1,Se=D[fe];if(0>a(ue,W))fe<Y&&0>a(Se,ue)?(D[te]=Se,D[fe]=W,te=fe):(D[te]=ue,D[F]=W,te=F);else if(fe<Y&&0>a(Se,W))D[te]=Se,D[fe]=W,te=fe;else break e}}return z}function a(D,z){var W=D.sortIndex-z.sortIndex;return W!==0?W:D.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,s=i.now();e.unstable_now=function(){return i.now()-s}}var l=[],c=[],f=1,u=null,h=3,p=!1,m=!1,w=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(D){for(var z=r(c);z!==null;){if(z.callback===null)n(c);else if(z.startTime<=D)n(c),z.sortIndex=z.expirationTime,t(l,z);else break;z=r(c)}}function S(D){if(w=!1,v(D),!m)if(r(l)!==null)m=!0,L(x);else{var z=r(c);z!==null&&U(S,z.startTime-D)}}function x(D,z){m=!1,w&&(w=!1,y(_),_=-1),p=!0;var W=h;try{for(v(z),u=r(l);u!==null&&(!(u.expirationTime>z)||D&&!A());){var te=u.callback;if(typeof te=="function"){u.callback=null,h=u.priorityLevel;var Y=te(u.expirationTime<=z);z=e.unstable_now(),typeof Y=="function"?u.callback=Y:u===r(l)&&n(l),v(z)}else n(l);u=r(l)}if(u!==null)var X=!0;else{var F=r(c);F!==null&&U(S,F.startTime-z),X=!1}return X}finally{u=null,h=W,p=!1}}var k=!1,j=null,_=-1,P=5,N=-1;function A(){return!(e.unstable_now()-N<P)}function C(){if(j!==null){var D=e.unstable_now();N=D;var z=!0;try{z=j(!0,D)}finally{z?R():(k=!1,j=null)}}else k=!1}var R;if(typeof g=="function")R=function(){g(C)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,T=I.port2;I.port1.onmessage=C,R=function(){T.postMessage(null)}}else R=function(){b(C,0)};function L(D){j=D,k||(k=!0,R())}function U(D,z){_=b(function(){D(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,L(x))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(D){switch(h){case 1:case 2:case 3:var z=3;break;default:z=h}var W=h;h=z;try{return D()}finally{h=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,z){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var W=h;h=D;try{return z()}finally{h=W}},e.unstable_scheduleCallback=function(D,z,W){var te=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?te+W:te):W=te,D){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=W+Y,D={id:f++,callback:z,priorityLevel:D,startTime:W,expirationTime:Y,sortIndex:-1},W>te?(D.sortIndex=W,t(c,D),r(l)===null&&D===r(c)&&(w?(y(_),_=-1):w=!0,U(S,W-te))):(D.sortIndex=Y,t(l,D),m||p||(m=!0,L(x))),D},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(D){var z=h;return function(){var W=h;h=z;try{return D.apply(this,arguments)}finally{h=W}}}})(L2);D2.exports=L2;var GP=D2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HP=O,wn=GP;function ae(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var R2=new Set,Gl={};function yi(e,t){rs(e,t),rs(e+"Capture",t)}function rs(e,t){for(Gl[e]=t,e=0;e<t.length;e++)R2.add(t[e])}var za=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Up=Object.prototype.hasOwnProperty,VP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,yv={},vv={};function KP(e){return Up.call(vv,e)?!0:Up.call(yv,e)?!1:VP.test(e)?vv[e]=!0:(yv[e]=!0,!1)}function XP(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function qP(e,t,r,n){if(t===null||typeof t>"u"||XP(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Qr(e,t,r,n,a,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var Mr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Mr[e]=new Qr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Mr[t]=new Qr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Mr[e]=new Qr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Mr[e]=new Qr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Mr[e]=new Qr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Mr[e]=new Qr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Mr[e]=new Qr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Mr[e]=new Qr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Mr[e]=new Qr(e,5,!1,e.toLowerCase(),null,!1,!1)});var gm=/[\-:]([a-z])/g;function mm(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(gm,mm);Mr[t]=new Qr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(gm,mm);Mr[t]=new Qr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(gm,mm);Mr[t]=new Qr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Mr[e]=new Qr(e,1,!1,e.toLowerCase(),null,!1,!1)});Mr.xlinkHref=new Qr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Mr[e]=new Qr(e,1,!1,e.toLowerCase(),null,!0,!0)});function ym(e,t,r,n){var a=Mr.hasOwnProperty(t)?Mr[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(qP(t,r,a,n)&&(r=null),n||a===null?KP(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Xa=HP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,lu=Symbol.for("react.element"),Ei=Symbol.for("react.portal"),Ti=Symbol.for("react.fragment"),vm=Symbol.for("react.strict_mode"),Gp=Symbol.for("react.profiler"),I2=Symbol.for("react.provider"),B2=Symbol.for("react.context"),xm=Symbol.for("react.forward_ref"),Hp=Symbol.for("react.suspense"),Vp=Symbol.for("react.suspense_list"),bm=Symbol.for("react.memo"),ao=Symbol.for("react.lazy"),F2=Symbol.for("react.offscreen"),xv=Symbol.iterator;function ol(e){return e===null||typeof e!="object"?null:(e=xv&&e[xv]||e["@@iterator"],typeof e=="function"?e:null)}var Xt=Object.assign,Lh;function Sl(e){if(Lh===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Lh=t&&t[1]||""}return`
`+Lh+e}var Rh=!1;function Ih(e,t){if(!e||Rh)return"";Rh=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),o=n.stack.split(`
`),i=a.length-1,s=o.length-1;1<=i&&0<=s&&a[i]!==o[s];)s--;for(;1<=i&&0<=s;i--,s--)if(a[i]!==o[s]){if(i!==1||s!==1)do if(i--,s--,0>s||a[i]!==o[s]){var l=`
`+a[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=i&&0<=s);break}}}finally{Rh=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Sl(e):""}function YP(e){switch(e.tag){case 5:return Sl(e.type);case 16:return Sl("Lazy");case 13:return Sl("Suspense");case 19:return Sl("SuspenseList");case 0:case 2:case 15:return e=Ih(e.type,!1),e;case 11:return e=Ih(e.type.render,!1),e;case 1:return e=Ih(e.type,!0),e;default:return""}}function Kp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ti:return"Fragment";case Ei:return"Portal";case Gp:return"Profiler";case vm:return"StrictMode";case Hp:return"Suspense";case Vp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case B2:return(e.displayName||"Context")+".Consumer";case I2:return(e._context.displayName||"Context")+".Provider";case xm:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case bm:return t=e.displayName||null,t!==null?t:Kp(e.type)||"Memo";case ao:t=e._payload,e=e._init;try{return Kp(e(t))}catch{}}return null}function QP(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Kp(t);case 8:return t===vm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Oo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function z2(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ZP(e){var t=z2(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function cu(e){e._valueTracker||(e._valueTracker=ZP(e))}function W2(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=z2(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Zu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Xp(e,t){var r=t.checked;return Xt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function bv(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Oo(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function U2(e,t){t=t.checked,t!=null&&ym(e,"checked",t,!1)}function qp(e,t){U2(e,t);var r=Oo(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Yp(e,t.type,r):t.hasOwnProperty("defaultValue")&&Yp(e,t.type,Oo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function wv(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Yp(e,t,r){(t!=="number"||Zu(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var jl=Array.isArray;function Ki(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Oo(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Qp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ae(91));return Xt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function kv(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ae(92));if(jl(r)){if(1<r.length)throw Error(ae(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Oo(r)}}function G2(e,t){var r=Oo(t.value),n=Oo(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Sv(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function H2(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?H2(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var uu,V2=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(uu=uu||document.createElement("div"),uu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=uu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Hl(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Nl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},JP=["Webkit","ms","Moz","O"];Object.keys(Nl).forEach(function(e){JP.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Nl[t]=Nl[e]})});function K2(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Nl.hasOwnProperty(e)&&Nl[e]?(""+t).trim():t+"px"}function X2(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=K2(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var eN=Xt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jp(e,t){if(t){if(eN[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ae(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ae(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ae(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ae(62))}}function e0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var t0=null;function wm(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var r0=null,Xi=null,qi=null;function jv(e){if(e=Vc(e)){if(typeof r0!="function")throw Error(ae(280));var t=e.stateNode;t&&(t=Ed(t),r0(e.stateNode,e.type,t))}}function q2(e){Xi?qi?qi.push(e):qi=[e]:Xi=e}function Y2(){if(Xi){var e=Xi,t=qi;if(qi=Xi=null,jv(e),t)for(e=0;e<t.length;e++)jv(t[e])}}function Q2(e,t){return e(t)}function Z2(){}var Bh=!1;function J2(e,t,r){if(Bh)return e(t,r);Bh=!0;try{return Q2(e,t,r)}finally{Bh=!1,(Xi!==null||qi!==null)&&(Z2(),Y2())}}function Vl(e,t){var r=e.stateNode;if(r===null)return null;var n=Ed(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ae(231,t,typeof r));return r}var n0=!1;if(za)try{var il={};Object.defineProperty(il,"passive",{get:function(){n0=!0}}),window.addEventListener("test",il,il),window.removeEventListener("test",il,il)}catch{n0=!1}function tN(e,t,r,n,a,o,i,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(f){this.onError(f)}}var Al=!1,Ju=null,ef=!1,a0=null,rN={onError:function(e){Al=!0,Ju=e}};function nN(e,t,r,n,a,o,i,s,l){Al=!1,Ju=null,tN.apply(rN,arguments)}function aN(e,t,r,n,a,o,i,s,l){if(nN.apply(this,arguments),Al){if(Al){var c=Ju;Al=!1,Ju=null}else throw Error(ae(198));ef||(ef=!0,a0=c)}}function vi(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function ek(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ov(e){if(vi(e)!==e)throw Error(ae(188))}function oN(e){var t=e.alternate;if(!t){if(t=vi(e),t===null)throw Error(ae(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var o=a.alternate;if(o===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===r)return Ov(a),e;if(o===n)return Ov(a),t;o=o.sibling}throw Error(ae(188))}if(r.return!==n.return)r=a,n=o;else{for(var i=!1,s=a.child;s;){if(s===r){i=!0,r=a,n=o;break}if(s===n){i=!0,n=a,r=o;break}s=s.sibling}if(!i){for(s=o.child;s;){if(s===r){i=!0,r=o,n=a;break}if(s===n){i=!0,n=o,r=a;break}s=s.sibling}if(!i)throw Error(ae(189))}}if(r.alternate!==n)throw Error(ae(190))}if(r.tag!==3)throw Error(ae(188));return r.stateNode.current===r?e:t}function tk(e){return e=oN(e),e!==null?rk(e):null}function rk(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=rk(e);if(t!==null)return t;e=e.sibling}return null}var nk=wn.unstable_scheduleCallback,_v=wn.unstable_cancelCallback,iN=wn.unstable_shouldYield,sN=wn.unstable_requestPaint,tr=wn.unstable_now,lN=wn.unstable_getCurrentPriorityLevel,km=wn.unstable_ImmediatePriority,ak=wn.unstable_UserBlockingPriority,tf=wn.unstable_NormalPriority,cN=wn.unstable_LowPriority,ok=wn.unstable_IdlePriority,Nd=null,xa=null;function uN(e){if(xa&&typeof xa.onCommitFiberRoot=="function")try{xa.onCommitFiberRoot(Nd,e,void 0,(e.current.flags&128)===128)}catch{}}var aa=Math.clz32?Math.clz32:hN,fN=Math.log,dN=Math.LN2;function hN(e){return e>>>=0,e===0?32:31-(fN(e)/dN|0)|0}var fu=64,du=4194304;function Ol(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function rf(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,o=e.pingedLanes,i=r&268435455;if(i!==0){var s=i&~a;s!==0?n=Ol(s):(o&=i,o!==0&&(n=Ol(o)))}else i=r&~a,i!==0?n=Ol(i):o!==0&&(n=Ol(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,o=t&-t,a>=o||a===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-aa(t),a=1<<r,n|=e[r],t&=~a;return n}function pN(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gN(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-aa(o),s=1<<i,l=a[i];l===-1?(!(s&r)||s&n)&&(a[i]=pN(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}function o0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ik(){var e=fu;return fu<<=1,!(fu&4194240)&&(fu=64),e}function Fh(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Gc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-aa(t),e[t]=r}function mN(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-aa(r),o=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~o}}function Sm(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-aa(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var bt=0;function sk(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var lk,jm,ck,uk,fk,i0=!1,hu=[],mo=null,yo=null,vo=null,Kl=new Map,Xl=new Map,so=[],yN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pv(e,t){switch(e){case"focusin":case"focusout":mo=null;break;case"dragenter":case"dragleave":yo=null;break;case"mouseover":case"mouseout":vo=null;break;case"pointerover":case"pointerout":Kl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xl.delete(t.pointerId)}}function sl(e,t,r,n,a,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[a]},t!==null&&(t=Vc(t),t!==null&&jm(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function vN(e,t,r,n,a){switch(t){case"focusin":return mo=sl(mo,e,t,r,n,a),!0;case"dragenter":return yo=sl(yo,e,t,r,n,a),!0;case"mouseover":return vo=sl(vo,e,t,r,n,a),!0;case"pointerover":var o=a.pointerId;return Kl.set(o,sl(Kl.get(o)||null,e,t,r,n,a)),!0;case"gotpointercapture":return o=a.pointerId,Xl.set(o,sl(Xl.get(o)||null,e,t,r,n,a)),!0}return!1}function dk(e){var t=Go(e.target);if(t!==null){var r=vi(t);if(r!==null){if(t=r.tag,t===13){if(t=ek(r),t!==null){e.blockedOn=t,fk(e.priority,function(){ck(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Wu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=s0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);t0=n,r.target.dispatchEvent(n),t0=null}else return t=Vc(r),t!==null&&jm(t),e.blockedOn=r,!1;t.shift()}return!0}function Nv(e,t,r){Wu(e)&&r.delete(t)}function xN(){i0=!1,mo!==null&&Wu(mo)&&(mo=null),yo!==null&&Wu(yo)&&(yo=null),vo!==null&&Wu(vo)&&(vo=null),Kl.forEach(Nv),Xl.forEach(Nv)}function ll(e,t){e.blockedOn===t&&(e.blockedOn=null,i0||(i0=!0,wn.unstable_scheduleCallback(wn.unstable_NormalPriority,xN)))}function ql(e){function t(a){return ll(a,e)}if(0<hu.length){ll(hu[0],e);for(var r=1;r<hu.length;r++){var n=hu[r];n.blockedOn===e&&(n.blockedOn=null)}}for(mo!==null&&ll(mo,e),yo!==null&&ll(yo,e),vo!==null&&ll(vo,e),Kl.forEach(t),Xl.forEach(t),r=0;r<so.length;r++)n=so[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<so.length&&(r=so[0],r.blockedOn===null);)dk(r),r.blockedOn===null&&so.shift()}var Yi=Xa.ReactCurrentBatchConfig,nf=!0;function bN(e,t,r,n){var a=bt,o=Yi.transition;Yi.transition=null;try{bt=1,Om(e,t,r,n)}finally{bt=a,Yi.transition=o}}function wN(e,t,r,n){var a=bt,o=Yi.transition;Yi.transition=null;try{bt=4,Om(e,t,r,n)}finally{bt=a,Yi.transition=o}}function Om(e,t,r,n){if(nf){var a=s0(e,t,r,n);if(a===null)Yh(e,t,n,af,r),Pv(e,n);else if(vN(a,e,t,r,n))n.stopPropagation();else if(Pv(e,n),t&4&&-1<yN.indexOf(e)){for(;a!==null;){var o=Vc(a);if(o!==null&&lk(o),o=s0(e,t,r,n),o===null&&Yh(e,t,n,af,r),o===a)break;a=o}a!==null&&n.stopPropagation()}else Yh(e,t,n,null,r)}}var af=null;function s0(e,t,r,n){if(af=null,e=wm(n),e=Go(e),e!==null)if(t=vi(e),t===null)e=null;else if(r=t.tag,r===13){if(e=ek(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return af=e,null}function hk(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lN()){case km:return 1;case ak:return 4;case tf:case cN:return 16;case ok:return 536870912;default:return 16}default:return 16}}var uo=null,_m=null,Uu=null;function pk(){if(Uu)return Uu;var e,t=_m,r=t.length,n,a="value"in uo?uo.value:uo.textContent,o=a.length;for(e=0;e<r&&t[e]===a[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===a[o-n];n++);return Uu=a.slice(e,1<n?1-n:void 0)}function Gu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function pu(){return!0}function Av(){return!1}function Sn(e){function t(r,n,a,o,i){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(r=e[s],this[s]=r?r(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?pu:Av,this.isPropagationStopped=Av,this}return Xt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=pu)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=pu)},persist:function(){},isPersistent:pu}),t}var Rs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pm=Sn(Rs),Hc=Xt({},Rs,{view:0,detail:0}),kN=Sn(Hc),zh,Wh,cl,Ad=Xt({},Hc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nm,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cl&&(cl&&e.type==="mousemove"?(zh=e.screenX-cl.screenX,Wh=e.screenY-cl.screenY):Wh=zh=0,cl=e),zh)},movementY:function(e){return"movementY"in e?e.movementY:Wh}}),Mv=Sn(Ad),SN=Xt({},Ad,{dataTransfer:0}),jN=Sn(SN),ON=Xt({},Hc,{relatedTarget:0}),Uh=Sn(ON),_N=Xt({},Rs,{animationName:0,elapsedTime:0,pseudoElement:0}),PN=Sn(_N),NN=Xt({},Rs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),AN=Sn(NN),MN=Xt({},Rs,{data:0}),Cv=Sn(MN),CN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},EN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},TN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $N(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=TN[e])?!!t[e]:!1}function Nm(){return $N}var DN=Xt({},Hc,{key:function(e){if(e.key){var t=CN[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Gu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?EN[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nm,charCode:function(e){return e.type==="keypress"?Gu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Gu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),LN=Sn(DN),RN=Xt({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ev=Sn(RN),IN=Xt({},Hc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nm}),BN=Sn(IN),FN=Xt({},Rs,{propertyName:0,elapsedTime:0,pseudoElement:0}),zN=Sn(FN),WN=Xt({},Ad,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),UN=Sn(WN),GN=[9,13,27,32],Am=za&&"CompositionEvent"in window,Ml=null;za&&"documentMode"in document&&(Ml=document.documentMode);var HN=za&&"TextEvent"in window&&!Ml,gk=za&&(!Am||Ml&&8<Ml&&11>=Ml),Tv=" ",$v=!1;function mk(e,t){switch(e){case"keyup":return GN.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yk(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var $i=!1;function VN(e,t){switch(e){case"compositionend":return yk(t);case"keypress":return t.which!==32?null:($v=!0,Tv);case"textInput":return e=t.data,e===Tv&&$v?null:e;default:return null}}function KN(e,t){if($i)return e==="compositionend"||!Am&&mk(e,t)?(e=pk(),Uu=_m=uo=null,$i=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return gk&&t.locale!=="ko"?null:t.data;default:return null}}var XN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!XN[e.type]:t==="textarea"}function vk(e,t,r,n){q2(n),t=of(t,"onChange"),0<t.length&&(r=new Pm("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Cl=null,Yl=null;function qN(e){Ak(e,0)}function Md(e){var t=Ri(e);if(W2(t))return e}function YN(e,t){if(e==="change")return t}var xk=!1;if(za){var Gh;if(za){var Hh="oninput"in document;if(!Hh){var Lv=document.createElement("div");Lv.setAttribute("oninput","return;"),Hh=typeof Lv.oninput=="function"}Gh=Hh}else Gh=!1;xk=Gh&&(!document.documentMode||9<document.documentMode)}function Rv(){Cl&&(Cl.detachEvent("onpropertychange",bk),Yl=Cl=null)}function bk(e){if(e.propertyName==="value"&&Md(Yl)){var t=[];vk(t,Yl,e,wm(e)),J2(qN,t)}}function QN(e,t,r){e==="focusin"?(Rv(),Cl=t,Yl=r,Cl.attachEvent("onpropertychange",bk)):e==="focusout"&&Rv()}function ZN(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Md(Yl)}function JN(e,t){if(e==="click")return Md(t)}function eA(e,t){if(e==="input"||e==="change")return Md(t)}function tA(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ia=typeof Object.is=="function"?Object.is:tA;function Ql(e,t){if(ia(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Up.call(t,a)||!ia(e[a],t[a]))return!1}return!0}function Iv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Bv(e,t){var r=Iv(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Iv(r)}}function wk(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?wk(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function kk(){for(var e=window,t=Zu();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Zu(e.document)}return t}function Mm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function rA(e){var t=kk(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&wk(r.ownerDocument.documentElement,r)){if(n!==null&&Mm(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,o=Math.min(n.start,a);n=n.end===void 0?o:Math.min(n.end,a),!e.extend&&o>n&&(a=n,n=o,o=a),a=Bv(r,o);var i=Bv(r,n);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var nA=za&&"documentMode"in document&&11>=document.documentMode,Di=null,l0=null,El=null,c0=!1;function Fv(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;c0||Di==null||Di!==Zu(n)||(n=Di,"selectionStart"in n&&Mm(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),El&&Ql(El,n)||(El=n,n=of(l0,"onSelect"),0<n.length&&(t=new Pm("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Di)))}function gu(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Li={animationend:gu("Animation","AnimationEnd"),animationiteration:gu("Animation","AnimationIteration"),animationstart:gu("Animation","AnimationStart"),transitionend:gu("Transition","TransitionEnd")},Vh={},Sk={};za&&(Sk=document.createElement("div").style,"AnimationEvent"in window||(delete Li.animationend.animation,delete Li.animationiteration.animation,delete Li.animationstart.animation),"TransitionEvent"in window||delete Li.transitionend.transition);function Cd(e){if(Vh[e])return Vh[e];if(!Li[e])return e;var t=Li[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Sk)return Vh[e]=t[r];return e}var jk=Cd("animationend"),Ok=Cd("animationiteration"),_k=Cd("animationstart"),Pk=Cd("transitionend"),Nk=new Map,zv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Po(e,t){Nk.set(e,t),yi(t,[e])}for(var Kh=0;Kh<zv.length;Kh++){var Xh=zv[Kh],aA=Xh.toLowerCase(),oA=Xh[0].toUpperCase()+Xh.slice(1);Po(aA,"on"+oA)}Po(jk,"onAnimationEnd");Po(Ok,"onAnimationIteration");Po(_k,"onAnimationStart");Po("dblclick","onDoubleClick");Po("focusin","onFocus");Po("focusout","onBlur");Po(Pk,"onTransitionEnd");rs("onMouseEnter",["mouseout","mouseover"]);rs("onMouseLeave",["mouseout","mouseover"]);rs("onPointerEnter",["pointerout","pointerover"]);rs("onPointerLeave",["pointerout","pointerover"]);yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yi("onBeforeInput",["compositionend","keypress","textInput","paste"]);yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iA=new Set("cancel close invalid load scroll toggle".split(" ").concat(_l));function Wv(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,aN(n,t,void 0,e),e.currentTarget=null}function Ak(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var i=n.length-1;0<=i;i--){var s=n[i],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&a.isPropagationStopped())break e;Wv(a,s,c),o=l}else for(i=0;i<n.length;i++){if(s=n[i],l=s.instance,c=s.currentTarget,s=s.listener,l!==o&&a.isPropagationStopped())break e;Wv(a,s,c),o=l}}}if(ef)throw e=a0,ef=!1,a0=null,e}function Dt(e,t){var r=t[p0];r===void 0&&(r=t[p0]=new Set);var n=e+"__bubble";r.has(n)||(Mk(t,e,2,!1),r.add(n))}function qh(e,t,r){var n=0;t&&(n|=4),Mk(r,e,n,t)}var mu="_reactListening"+Math.random().toString(36).slice(2);function Zl(e){if(!e[mu]){e[mu]=!0,R2.forEach(function(r){r!=="selectionchange"&&(iA.has(r)||qh(r,!1,e),qh(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[mu]||(t[mu]=!0,qh("selectionchange",!1,t))}}function Mk(e,t,r,n){switch(hk(t)){case 1:var a=bN;break;case 4:a=wN;break;default:a=Om}r=a.bind(null,t,r,e),a=void 0,!n0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Yh(e,t,r,n,a){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var s=n.stateNode.containerInfo;if(s===a||s.nodeType===8&&s.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;i=i.return}for(;s!==null;){if(i=Go(s),i===null)return;if(l=i.tag,l===5||l===6){n=o=i;continue e}s=s.parentNode}}n=n.return}J2(function(){var c=o,f=wm(r),u=[];e:{var h=Nk.get(e);if(h!==void 0){var p=Pm,m=e;switch(e){case"keypress":if(Gu(r)===0)break e;case"keydown":case"keyup":p=LN;break;case"focusin":m="focus",p=Uh;break;case"focusout":m="blur",p=Uh;break;case"beforeblur":case"afterblur":p=Uh;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Mv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=jN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=BN;break;case jk:case Ok:case _k:p=PN;break;case Pk:p=zN;break;case"scroll":p=kN;break;case"wheel":p=UN;break;case"copy":case"cut":case"paste":p=AN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Ev}var w=(t&4)!==0,b=!w&&e==="scroll",y=w?h!==null?h+"Capture":null:h;w=[];for(var g=c,v;g!==null;){v=g;var S=v.stateNode;if(v.tag===5&&S!==null&&(v=S,y!==null&&(S=Vl(g,y),S!=null&&w.push(Jl(g,S,v)))),b)break;g=g.return}0<w.length&&(h=new p(h,m,null,r,f),u.push({event:h,listeners:w}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==t0&&(m=r.relatedTarget||r.fromElement)&&(Go(m)||m[Wa]))break e;if((p||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=c,m=m?Go(m):null,m!==null&&(b=vi(m),m!==b||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(w=Mv,S="onMouseLeave",y="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(w=Ev,S="onPointerLeave",y="onPointerEnter",g="pointer"),b=p==null?h:Ri(p),v=m==null?h:Ri(m),h=new w(S,g+"leave",p,r,f),h.target=b,h.relatedTarget=v,S=null,Go(f)===c&&(w=new w(y,g+"enter",m,r,f),w.target=v,w.relatedTarget=b,S=w),b=S,p&&m)t:{for(w=p,y=m,g=0,v=w;v;v=Pi(v))g++;for(v=0,S=y;S;S=Pi(S))v++;for(;0<g-v;)w=Pi(w),g--;for(;0<v-g;)y=Pi(y),v--;for(;g--;){if(w===y||y!==null&&w===y.alternate)break t;w=Pi(w),y=Pi(y)}w=null}else w=null;p!==null&&Uv(u,h,p,w,!1),m!==null&&b!==null&&Uv(u,b,m,w,!0)}}e:{if(h=c?Ri(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var x=YN;else if(Dv(h))if(xk)x=eA;else{x=ZN;var k=QN}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(x=JN);if(x&&(x=x(e,c))){vk(u,x,r,f);break e}k&&k(e,h,c),e==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&Yp(h,"number",h.value)}switch(k=c?Ri(c):window,e){case"focusin":(Dv(k)||k.contentEditable==="true")&&(Di=k,l0=c,El=null);break;case"focusout":El=l0=Di=null;break;case"mousedown":c0=!0;break;case"contextmenu":case"mouseup":case"dragend":c0=!1,Fv(u,r,f);break;case"selectionchange":if(nA)break;case"keydown":case"keyup":Fv(u,r,f)}var j;if(Am)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else $i?mk(e,r)&&(_="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(_="onCompositionStart");_&&(gk&&r.locale!=="ko"&&($i||_!=="onCompositionStart"?_==="onCompositionEnd"&&$i&&(j=pk()):(uo=f,_m="value"in uo?uo.value:uo.textContent,$i=!0)),k=of(c,_),0<k.length&&(_=new Cv(_,e,null,r,f),u.push({event:_,listeners:k}),j?_.data=j:(j=yk(r),j!==null&&(_.data=j)))),(j=HN?VN(e,r):KN(e,r))&&(c=of(c,"onBeforeInput"),0<c.length&&(f=new Cv("onBeforeInput","beforeinput",null,r,f),u.push({event:f,listeners:c}),f.data=j))}Ak(u,t)})}function Jl(e,t,r){return{instance:e,listener:t,currentTarget:r}}function of(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,o=a.stateNode;a.tag===5&&o!==null&&(a=o,o=Vl(e,r),o!=null&&n.unshift(Jl(e,o,a)),o=Vl(e,t),o!=null&&n.push(Jl(e,o,a))),e=e.return}return n}function Pi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Uv(e,t,r,n,a){for(var o=t._reactName,i=[];r!==null&&r!==n;){var s=r,l=s.alternate,c=s.stateNode;if(l!==null&&l===n)break;s.tag===5&&c!==null&&(s=c,a?(l=Vl(r,o),l!=null&&i.unshift(Jl(r,l,s))):a||(l=Vl(r,o),l!=null&&i.push(Jl(r,l,s)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var sA=/\r\n?/g,lA=/\u0000|\uFFFD/g;function Gv(e){return(typeof e=="string"?e:""+e).replace(sA,`
`).replace(lA,"")}function yu(e,t,r){if(t=Gv(t),Gv(e)!==t&&r)throw Error(ae(425))}function sf(){}var u0=null,f0=null;function d0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var h0=typeof setTimeout=="function"?setTimeout:void 0,cA=typeof clearTimeout=="function"?clearTimeout:void 0,Hv=typeof Promise=="function"?Promise:void 0,uA=typeof queueMicrotask=="function"?queueMicrotask:typeof Hv<"u"?function(e){return Hv.resolve(null).then(e).catch(fA)}:h0;function fA(e){setTimeout(function(){throw e})}function Qh(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),ql(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);ql(t)}function xo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Vv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Is=Math.random().toString(36).slice(2),ma="__reactFiber$"+Is,ec="__reactProps$"+Is,Wa="__reactContainer$"+Is,p0="__reactEvents$"+Is,dA="__reactListeners$"+Is,hA="__reactHandles$"+Is;function Go(e){var t=e[ma];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Wa]||r[ma]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Vv(e);e!==null;){if(r=e[ma])return r;e=Vv(e)}return t}e=r,r=e.parentNode}return null}function Vc(e){return e=e[ma]||e[Wa],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ri(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ae(33))}function Ed(e){return e[ec]||null}var g0=[],Ii=-1;function No(e){return{current:e}}function It(e){0>Ii||(e.current=g0[Ii],g0[Ii]=null,Ii--)}function Et(e,t){Ii++,g0[Ii]=e.current,e.current=t}var _o={},zr=No(_o),ln=No(!1),oi=_o;function ns(e,t){var r=e.type.contextTypes;if(!r)return _o;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},o;for(o in r)a[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function cn(e){return e=e.childContextTypes,e!=null}function lf(){It(ln),It(zr)}function Kv(e,t,r){if(zr.current!==_o)throw Error(ae(168));Et(zr,t),Et(ln,r)}function Ck(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(ae(108,QP(e)||"Unknown",a));return Xt({},r,n)}function cf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_o,oi=zr.current,Et(zr,e),Et(ln,ln.current),!0}function Xv(e,t,r){var n=e.stateNode;if(!n)throw Error(ae(169));r?(e=Ck(e,t,oi),n.__reactInternalMemoizedMergedChildContext=e,It(ln),It(zr),Et(zr,e)):It(ln),Et(ln,r)}var Ma=null,Td=!1,Zh=!1;function Ek(e){Ma===null?Ma=[e]:Ma.push(e)}function pA(e){Td=!0,Ek(e)}function Ao(){if(!Zh&&Ma!==null){Zh=!0;var e=0,t=bt;try{var r=Ma;for(bt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ma=null,Td=!1}catch(a){throw Ma!==null&&(Ma=Ma.slice(e+1)),nk(km,Ao),a}finally{bt=t,Zh=!1}}return null}var Bi=[],Fi=0,uf=null,ff=0,Tn=[],$n=0,ii=null,Ca=1,Ea="";function Bo(e,t){Bi[Fi++]=ff,Bi[Fi++]=uf,uf=e,ff=t}function Tk(e,t,r){Tn[$n++]=Ca,Tn[$n++]=Ea,Tn[$n++]=ii,ii=e;var n=Ca;e=Ea;var a=32-aa(n)-1;n&=~(1<<a),r+=1;var o=32-aa(t)+a;if(30<o){var i=a-a%5;o=(n&(1<<i)-1).toString(32),n>>=i,a-=i,Ca=1<<32-aa(t)+a|r<<a|n,Ea=o+e}else Ca=1<<o|r<<a|n,Ea=e}function Cm(e){e.return!==null&&(Bo(e,1),Tk(e,1,0))}function Em(e){for(;e===uf;)uf=Bi[--Fi],Bi[Fi]=null,ff=Bi[--Fi],Bi[Fi]=null;for(;e===ii;)ii=Tn[--$n],Tn[$n]=null,Ea=Tn[--$n],Tn[$n]=null,Ca=Tn[--$n],Tn[$n]=null}var bn=null,xn=null,Ft=!1,ta=null;function $k(e,t){var r=Dn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function qv(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,bn=e,xn=xo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,bn=e,xn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=ii!==null?{id:Ca,overflow:Ea}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Dn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,bn=e,xn=null,!0):!1;default:return!1}}function m0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function y0(e){if(Ft){var t=xn;if(t){var r=t;if(!qv(e,t)){if(m0(e))throw Error(ae(418));t=xo(r.nextSibling);var n=bn;t&&qv(e,t)?$k(n,r):(e.flags=e.flags&-4097|2,Ft=!1,bn=e)}}else{if(m0(e))throw Error(ae(418));e.flags=e.flags&-4097|2,Ft=!1,bn=e}}}function Yv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;bn=e}function vu(e){if(e!==bn)return!1;if(!Ft)return Yv(e),Ft=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!d0(e.type,e.memoizedProps)),t&&(t=xn)){if(m0(e))throw Dk(),Error(ae(418));for(;t;)$k(e,t),t=xo(t.nextSibling)}if(Yv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ae(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){xn=xo(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}xn=null}}else xn=bn?xo(e.stateNode.nextSibling):null;return!0}function Dk(){for(var e=xn;e;)e=xo(e.nextSibling)}function as(){xn=bn=null,Ft=!1}function Tm(e){ta===null?ta=[e]:ta.push(e)}var gA=Xa.ReactCurrentBatchConfig;function ul(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ae(309));var n=r.stateNode}if(!n)throw Error(ae(147,e));var a=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var s=a.refs;i===null?delete s[o]:s[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(ae(284));if(!r._owner)throw Error(ae(290,e))}return e}function xu(e,t){throw e=Object.prototype.toString.call(t),Error(ae(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qv(e){var t=e._init;return t(e._payload)}function Lk(e){function t(y,g){if(e){var v=y.deletions;v===null?(y.deletions=[g],y.flags|=16):v.push(g)}}function r(y,g){if(!e)return null;for(;g!==null;)t(y,g),g=g.sibling;return null}function n(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function a(y,g){return y=So(y,g),y.index=0,y.sibling=null,y}function o(y,g,v){return y.index=v,e?(v=y.alternate,v!==null?(v=v.index,v<g?(y.flags|=2,g):v):(y.flags|=2,g)):(y.flags|=1048576,g)}function i(y){return e&&y.alternate===null&&(y.flags|=2),y}function s(y,g,v,S){return g===null||g.tag!==6?(g=op(v,y.mode,S),g.return=y,g):(g=a(g,v),g.return=y,g)}function l(y,g,v,S){var x=v.type;return x===Ti?f(y,g,v.props.children,S,v.key):g!==null&&(g.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===ao&&Qv(x)===g.type)?(S=a(g,v.props),S.ref=ul(y,g,v),S.return=y,S):(S=Qu(v.type,v.key,v.props,null,y.mode,S),S.ref=ul(y,g,v),S.return=y,S)}function c(y,g,v,S){return g===null||g.tag!==4||g.stateNode.containerInfo!==v.containerInfo||g.stateNode.implementation!==v.implementation?(g=ip(v,y.mode,S),g.return=y,g):(g=a(g,v.children||[]),g.return=y,g)}function f(y,g,v,S,x){return g===null||g.tag!==7?(g=ei(v,y.mode,S,x),g.return=y,g):(g=a(g,v),g.return=y,g)}function u(y,g,v){if(typeof g=="string"&&g!==""||typeof g=="number")return g=op(""+g,y.mode,v),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case lu:return v=Qu(g.type,g.key,g.props,null,y.mode,v),v.ref=ul(y,null,g),v.return=y,v;case Ei:return g=ip(g,y.mode,v),g.return=y,g;case ao:var S=g._init;return u(y,S(g._payload),v)}if(jl(g)||ol(g))return g=ei(g,y.mode,v,null),g.return=y,g;xu(y,g)}return null}function h(y,g,v,S){var x=g!==null?g.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return x!==null?null:s(y,g,""+v,S);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case lu:return v.key===x?l(y,g,v,S):null;case Ei:return v.key===x?c(y,g,v,S):null;case ao:return x=v._init,h(y,g,x(v._payload),S)}if(jl(v)||ol(v))return x!==null?null:f(y,g,v,S,null);xu(y,v)}return null}function p(y,g,v,S,x){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(v)||null,s(g,y,""+S,x);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case lu:return y=y.get(S.key===null?v:S.key)||null,l(g,y,S,x);case Ei:return y=y.get(S.key===null?v:S.key)||null,c(g,y,S,x);case ao:var k=S._init;return p(y,g,v,k(S._payload),x)}if(jl(S)||ol(S))return y=y.get(v)||null,f(g,y,S,x,null);xu(g,S)}return null}function m(y,g,v,S){for(var x=null,k=null,j=g,_=g=0,P=null;j!==null&&_<v.length;_++){j.index>_?(P=j,j=null):P=j.sibling;var N=h(y,j,v[_],S);if(N===null){j===null&&(j=P);break}e&&j&&N.alternate===null&&t(y,j),g=o(N,g,_),k===null?x=N:k.sibling=N,k=N,j=P}if(_===v.length)return r(y,j),Ft&&Bo(y,_),x;if(j===null){for(;_<v.length;_++)j=u(y,v[_],S),j!==null&&(g=o(j,g,_),k===null?x=j:k.sibling=j,k=j);return Ft&&Bo(y,_),x}for(j=n(y,j);_<v.length;_++)P=p(j,y,_,v[_],S),P!==null&&(e&&P.alternate!==null&&j.delete(P.key===null?_:P.key),g=o(P,g,_),k===null?x=P:k.sibling=P,k=P);return e&&j.forEach(function(A){return t(y,A)}),Ft&&Bo(y,_),x}function w(y,g,v,S){var x=ol(v);if(typeof x!="function")throw Error(ae(150));if(v=x.call(v),v==null)throw Error(ae(151));for(var k=x=null,j=g,_=g=0,P=null,N=v.next();j!==null&&!N.done;_++,N=v.next()){j.index>_?(P=j,j=null):P=j.sibling;var A=h(y,j,N.value,S);if(A===null){j===null&&(j=P);break}e&&j&&A.alternate===null&&t(y,j),g=o(A,g,_),k===null?x=A:k.sibling=A,k=A,j=P}if(N.done)return r(y,j),Ft&&Bo(y,_),x;if(j===null){for(;!N.done;_++,N=v.next())N=u(y,N.value,S),N!==null&&(g=o(N,g,_),k===null?x=N:k.sibling=N,k=N);return Ft&&Bo(y,_),x}for(j=n(y,j);!N.done;_++,N=v.next())N=p(j,y,_,N.value,S),N!==null&&(e&&N.alternate!==null&&j.delete(N.key===null?_:N.key),g=o(N,g,_),k===null?x=N:k.sibling=N,k=N);return e&&j.forEach(function(C){return t(y,C)}),Ft&&Bo(y,_),x}function b(y,g,v,S){if(typeof v=="object"&&v!==null&&v.type===Ti&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case lu:e:{for(var x=v.key,k=g;k!==null;){if(k.key===x){if(x=v.type,x===Ti){if(k.tag===7){r(y,k.sibling),g=a(k,v.props.children),g.return=y,y=g;break e}}else if(k.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===ao&&Qv(x)===k.type){r(y,k.sibling),g=a(k,v.props),g.ref=ul(y,k,v),g.return=y,y=g;break e}r(y,k);break}else t(y,k);k=k.sibling}v.type===Ti?(g=ei(v.props.children,y.mode,S,v.key),g.return=y,y=g):(S=Qu(v.type,v.key,v.props,null,y.mode,S),S.ref=ul(y,g,v),S.return=y,y=S)}return i(y);case Ei:e:{for(k=v.key;g!==null;){if(g.key===k)if(g.tag===4&&g.stateNode.containerInfo===v.containerInfo&&g.stateNode.implementation===v.implementation){r(y,g.sibling),g=a(g,v.children||[]),g.return=y,y=g;break e}else{r(y,g);break}else t(y,g);g=g.sibling}g=ip(v,y.mode,S),g.return=y,y=g}return i(y);case ao:return k=v._init,b(y,g,k(v._payload),S)}if(jl(v))return m(y,g,v,S);if(ol(v))return w(y,g,v,S);xu(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,g!==null&&g.tag===6?(r(y,g.sibling),g=a(g,v),g.return=y,y=g):(r(y,g),g=op(v,y.mode,S),g.return=y,y=g),i(y)):r(y,g)}return b}var os=Lk(!0),Rk=Lk(!1),df=No(null),hf=null,zi=null,$m=null;function Dm(){$m=zi=hf=null}function Lm(e){var t=df.current;It(df),e._currentValue=t}function v0(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Qi(e,t){hf=e,$m=zi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(on=!0),e.firstContext=null)}function Fn(e){var t=e._currentValue;if($m!==e)if(e={context:e,memoizedValue:t,next:null},zi===null){if(hf===null)throw Error(ae(308));zi=e,hf.dependencies={lanes:0,firstContext:e}}else zi=zi.next=e;return t}var Ho=null;function Rm(e){Ho===null?Ho=[e]:Ho.push(e)}function Ik(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,Rm(t)):(r.next=a.next,a.next=r),t.interleaved=r,Ua(e,n)}function Ua(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var oo=!1;function Im(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bk(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function La(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function bo(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,at&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Ua(e,r)}return a=n.interleaved,a===null?(t.next=t,Rm(n)):(t.next=a.next,a.next=t),n.interleaved=t,Ua(e,r)}function Hu(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Sm(e,r)}}function Zv(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?a=o=i:o=o.next=i,r=r.next}while(r!==null);o===null?a=o=t:o=o.next=t}else a=o=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function pf(e,t,r,n){var a=e.updateQueue;oo=!1;var o=a.firstBaseUpdate,i=a.lastBaseUpdate,s=a.shared.pending;if(s!==null){a.shared.pending=null;var l=s,c=l.next;l.next=null,i===null?o=c:i.next=c,i=l;var f=e.alternate;f!==null&&(f=f.updateQueue,s=f.lastBaseUpdate,s!==i&&(s===null?f.firstBaseUpdate=c:s.next=c,f.lastBaseUpdate=l))}if(o!==null){var u=a.baseState;i=0,f=c=l=null,s=o;do{var h=s.lane,p=s.eventTime;if((n&h)===h){f!==null&&(f=f.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var m=e,w=s;switch(h=t,p=r,w.tag){case 1:if(m=w.payload,typeof m=="function"){u=m.call(p,u,h);break e}u=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=w.payload,h=typeof m=="function"?m.call(p,u,h):m,h==null)break e;u=Xt({},u,h);break e;case 2:oo=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},f===null?(c=f=p,l=u):f=f.next=p,i|=h;if(s=s.next,s===null){if(s=a.shared.pending,s===null)break;h=s,s=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(f===null&&(l=u),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=f,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else o===null&&(a.shared.lanes=0);li|=i,e.lanes=i,e.memoizedState=u}}function Jv(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(ae(191,a));a.call(n)}}}var Kc={},ba=No(Kc),tc=No(Kc),rc=No(Kc);function Vo(e){if(e===Kc)throw Error(ae(174));return e}function Bm(e,t){switch(Et(rc,t),Et(tc,e),Et(ba,Kc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Zp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Zp(t,e)}It(ba),Et(ba,t)}function is(){It(ba),It(tc),It(rc)}function Fk(e){Vo(rc.current);var t=Vo(ba.current),r=Zp(t,e.type);t!==r&&(Et(tc,e),Et(ba,r))}function Fm(e){tc.current===e&&(It(ba),It(tc))}var Vt=No(0);function gf(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Jh=[];function zm(){for(var e=0;e<Jh.length;e++)Jh[e]._workInProgressVersionPrimary=null;Jh.length=0}var Vu=Xa.ReactCurrentDispatcher,ep=Xa.ReactCurrentBatchConfig,si=0,Kt=null,dr=null,br=null,mf=!1,Tl=!1,nc=0,mA=0;function Tr(){throw Error(ae(321))}function Wm(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ia(e[r],t[r]))return!1;return!0}function Um(e,t,r,n,a,o){if(si=o,Kt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Vu.current=e===null||e.memoizedState===null?bA:wA,e=r(n,a),Tl){o=0;do{if(Tl=!1,nc=0,25<=o)throw Error(ae(301));o+=1,br=dr=null,t.updateQueue=null,Vu.current=kA,e=r(n,a)}while(Tl)}if(Vu.current=yf,t=dr!==null&&dr.next!==null,si=0,br=dr=Kt=null,mf=!1,t)throw Error(ae(300));return e}function Gm(){var e=nc!==0;return nc=0,e}function ga(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return br===null?Kt.memoizedState=br=e:br=br.next=e,br}function zn(){if(dr===null){var e=Kt.alternate;e=e!==null?e.memoizedState:null}else e=dr.next;var t=br===null?Kt.memoizedState:br.next;if(t!==null)br=t,dr=e;else{if(e===null)throw Error(ae(310));dr=e,e={memoizedState:dr.memoizedState,baseState:dr.baseState,baseQueue:dr.baseQueue,queue:dr.queue,next:null},br===null?Kt.memoizedState=br=e:br=br.next=e}return br}function ac(e,t){return typeof t=="function"?t(e):t}function tp(e){var t=zn(),r=t.queue;if(r===null)throw Error(ae(311));r.lastRenderedReducer=e;var n=dr,a=n.baseQueue,o=r.pending;if(o!==null){if(a!==null){var i=a.next;a.next=o.next,o.next=i}n.baseQueue=a=o,r.pending=null}if(a!==null){o=a.next,n=n.baseState;var s=i=null,l=null,c=o;do{var f=c.lane;if((si&f)===f)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var u={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=u,i=n):l=l.next=u,Kt.lanes|=f,li|=f}c=c.next}while(c!==null&&c!==o);l===null?i=n:l.next=s,ia(n,t.memoizedState)||(on=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do o=a.lane,Kt.lanes|=o,li|=o,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function rp(e){var t=zn(),r=t.queue;if(r===null)throw Error(ae(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,o=t.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do o=e(o,i.action),i=i.next;while(i!==a);ia(o,t.memoizedState)||(on=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function zk(){}function Wk(e,t){var r=Kt,n=zn(),a=t(),o=!ia(n.memoizedState,a);if(o&&(n.memoizedState=a,on=!0),n=n.queue,Hm(Hk.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||br!==null&&br.memoizedState.tag&1){if(r.flags|=2048,oc(9,Gk.bind(null,r,n,a,t),void 0,null),wr===null)throw Error(ae(349));si&30||Uk(r,t,a)}return a}function Uk(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Kt.updateQueue,t===null?(t={lastEffect:null,stores:null},Kt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Gk(e,t,r,n){t.value=r,t.getSnapshot=n,Vk(t)&&Kk(e)}function Hk(e,t,r){return r(function(){Vk(t)&&Kk(e)})}function Vk(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ia(e,r)}catch{return!0}}function Kk(e){var t=Ua(e,1);t!==null&&oa(t,e,1,-1)}function ex(e){var t=ga();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ac,lastRenderedState:e},t.queue=e,e=e.dispatch=xA.bind(null,Kt,e),[t.memoizedState,e]}function oc(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Kt.updateQueue,t===null?(t={lastEffect:null,stores:null},Kt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Xk(){return zn().memoizedState}function Ku(e,t,r,n){var a=ga();Kt.flags|=e,a.memoizedState=oc(1|t,r,void 0,n===void 0?null:n)}function $d(e,t,r,n){var a=zn();n=n===void 0?null:n;var o=void 0;if(dr!==null){var i=dr.memoizedState;if(o=i.destroy,n!==null&&Wm(n,i.deps)){a.memoizedState=oc(t,r,o,n);return}}Kt.flags|=e,a.memoizedState=oc(1|t,r,o,n)}function tx(e,t){return Ku(8390656,8,e,t)}function Hm(e,t){return $d(2048,8,e,t)}function qk(e,t){return $d(4,2,e,t)}function Yk(e,t){return $d(4,4,e,t)}function Qk(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Zk(e,t,r){return r=r!=null?r.concat([e]):null,$d(4,4,Qk.bind(null,t,e),r)}function Vm(){}function Jk(e,t){var r=zn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Wm(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function eS(e,t){var r=zn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Wm(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function tS(e,t,r){return si&21?(ia(r,t)||(r=ik(),Kt.lanes|=r,li|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,on=!0),e.memoizedState=r)}function yA(e,t){var r=bt;bt=r!==0&&4>r?r:4,e(!0);var n=ep.transition;ep.transition={};try{e(!1),t()}finally{bt=r,ep.transition=n}}function rS(){return zn().memoizedState}function vA(e,t,r){var n=ko(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},nS(e))aS(t,r);else if(r=Ik(e,t,r,n),r!==null){var a=qr();oa(r,e,n,a),oS(r,t,n)}}function xA(e,t,r){var n=ko(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(nS(e))aS(t,a);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,s=o(i,r);if(a.hasEagerState=!0,a.eagerState=s,ia(s,i)){var l=t.interleaved;l===null?(a.next=a,Rm(t)):(a.next=l.next,l.next=a),t.interleaved=a;return}}catch{}finally{}r=Ik(e,t,a,n),r!==null&&(a=qr(),oa(r,e,n,a),oS(r,t,n))}}function nS(e){var t=e.alternate;return e===Kt||t!==null&&t===Kt}function aS(e,t){Tl=mf=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function oS(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Sm(e,r)}}var yf={readContext:Fn,useCallback:Tr,useContext:Tr,useEffect:Tr,useImperativeHandle:Tr,useInsertionEffect:Tr,useLayoutEffect:Tr,useMemo:Tr,useReducer:Tr,useRef:Tr,useState:Tr,useDebugValue:Tr,useDeferredValue:Tr,useTransition:Tr,useMutableSource:Tr,useSyncExternalStore:Tr,useId:Tr,unstable_isNewReconciler:!1},bA={readContext:Fn,useCallback:function(e,t){return ga().memoizedState=[e,t===void 0?null:t],e},useContext:Fn,useEffect:tx,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ku(4194308,4,Qk.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ku(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ku(4,2,e,t)},useMemo:function(e,t){var r=ga();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ga();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=vA.bind(null,Kt,e),[n.memoizedState,e]},useRef:function(e){var t=ga();return e={current:e},t.memoizedState=e},useState:ex,useDebugValue:Vm,useDeferredValue:function(e){return ga().memoizedState=e},useTransition:function(){var e=ex(!1),t=e[0];return e=yA.bind(null,e[1]),ga().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Kt,a=ga();if(Ft){if(r===void 0)throw Error(ae(407));r=r()}else{if(r=t(),wr===null)throw Error(ae(349));si&30||Uk(n,t,r)}a.memoizedState=r;var o={value:r,getSnapshot:t};return a.queue=o,tx(Hk.bind(null,n,o,e),[e]),n.flags|=2048,oc(9,Gk.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=ga(),t=wr.identifierPrefix;if(Ft){var r=Ea,n=Ca;r=(n&~(1<<32-aa(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=nc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=mA++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},wA={readContext:Fn,useCallback:Jk,useContext:Fn,useEffect:Hm,useImperativeHandle:Zk,useInsertionEffect:qk,useLayoutEffect:Yk,useMemo:eS,useReducer:tp,useRef:Xk,useState:function(){return tp(ac)},useDebugValue:Vm,useDeferredValue:function(e){var t=zn();return tS(t,dr.memoizedState,e)},useTransition:function(){var e=tp(ac)[0],t=zn().memoizedState;return[e,t]},useMutableSource:zk,useSyncExternalStore:Wk,useId:rS,unstable_isNewReconciler:!1},kA={readContext:Fn,useCallback:Jk,useContext:Fn,useEffect:Hm,useImperativeHandle:Zk,useInsertionEffect:qk,useLayoutEffect:Yk,useMemo:eS,useReducer:rp,useRef:Xk,useState:function(){return rp(ac)},useDebugValue:Vm,useDeferredValue:function(e){var t=zn();return dr===null?t.memoizedState=e:tS(t,dr.memoizedState,e)},useTransition:function(){var e=rp(ac)[0],t=zn().memoizedState;return[e,t]},useMutableSource:zk,useSyncExternalStore:Wk,useId:rS,unstable_isNewReconciler:!1};function Qn(e,t){if(e&&e.defaultProps){t=Xt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function x0(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Xt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Dd={isMounted:function(e){return(e=e._reactInternals)?vi(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=qr(),a=ko(e),o=La(n,a);o.payload=t,r!=null&&(o.callback=r),t=bo(e,o,a),t!==null&&(oa(t,e,a,n),Hu(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=qr(),a=ko(e),o=La(n,a);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=bo(e,o,a),t!==null&&(oa(t,e,a,n),Hu(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=qr(),n=ko(e),a=La(r,n);a.tag=2,t!=null&&(a.callback=t),t=bo(e,a,n),t!==null&&(oa(t,e,n,r),Hu(t,e,n))}};function rx(e,t,r,n,a,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,i):t.prototype&&t.prototype.isPureReactComponent?!Ql(r,n)||!Ql(a,o):!0}function iS(e,t,r){var n=!1,a=_o,o=t.contextType;return typeof o=="object"&&o!==null?o=Fn(o):(a=cn(t)?oi:zr.current,n=t.contextTypes,o=(n=n!=null)?ns(e,a):_o),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Dd,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function nx(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Dd.enqueueReplaceState(t,t.state,null)}function b0(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Im(e);var o=t.contextType;typeof o=="object"&&o!==null?a.context=Fn(o):(o=cn(t)?oi:zr.current,a.context=ns(e,o)),a.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(x0(e,t,o,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Dd.enqueueReplaceState(a,a.state,null),pf(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function ss(e,t){try{var r="",n=t;do r+=YP(n),n=n.return;while(n);var a=r}catch(o){a=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:a,digest:null}}function np(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function w0(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var SA=typeof WeakMap=="function"?WeakMap:Map;function sS(e,t,r){r=La(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){xf||(xf=!0,C0=n),w0(e,t)},r}function lS(e,t,r){r=La(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){w0(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){w0(e,t),typeof n!="function"&&(wo===null?wo=new Set([this]):wo.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function ax(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new SA;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=RA.bind(null,e,t,r),t.then(e,e))}function ox(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ix(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=La(-1,1),t.tag=2,bo(r,t,1))),r.lanes|=1),e)}var jA=Xa.ReactCurrentOwner,on=!1;function Vr(e,t,r,n){t.child=e===null?Rk(t,null,r,n):os(t,e.child,r,n)}function sx(e,t,r,n,a){r=r.render;var o=t.ref;return Qi(t,a),n=Um(e,t,r,n,o,a),r=Gm(),e!==null&&!on?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ga(e,t,a)):(Ft&&r&&Cm(t),t.flags|=1,Vr(e,t,n,a),t.child)}function lx(e,t,r,n,a){if(e===null){var o=r.type;return typeof o=="function"&&!ey(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,cS(e,t,o,n,a)):(e=Qu(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&a)){var i=o.memoizedProps;if(r=r.compare,r=r!==null?r:Ql,r(i,n)&&e.ref===t.ref)return Ga(e,t,a)}return t.flags|=1,e=So(o,n),e.ref=t.ref,e.return=t,t.child=e}function cS(e,t,r,n,a){if(e!==null){var o=e.memoizedProps;if(Ql(o,n)&&e.ref===t.ref)if(on=!1,t.pendingProps=n=o,(e.lanes&a)!==0)e.flags&131072&&(on=!0);else return t.lanes=e.lanes,Ga(e,t,a)}return k0(e,t,r,n,a)}function uS(e,t,r){var n=t.pendingProps,a=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Et(Ui,mn),mn|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Et(Ui,mn),mn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,Et(Ui,mn),mn|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,Et(Ui,mn),mn|=n;return Vr(e,t,a,r),t.child}function fS(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function k0(e,t,r,n,a){var o=cn(r)?oi:zr.current;return o=ns(t,o),Qi(t,a),r=Um(e,t,r,n,o,a),n=Gm(),e!==null&&!on?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ga(e,t,a)):(Ft&&n&&Cm(t),t.flags|=1,Vr(e,t,r,a),t.child)}function cx(e,t,r,n,a){if(cn(r)){var o=!0;cf(t)}else o=!1;if(Qi(t,a),t.stateNode===null)Xu(e,t),iS(t,r,n),b0(t,r,n,a),n=!0;else if(e===null){var i=t.stateNode,s=t.memoizedProps;i.props=s;var l=i.context,c=r.contextType;typeof c=="object"&&c!==null?c=Fn(c):(c=cn(r)?oi:zr.current,c=ns(t,c));var f=r.getDerivedStateFromProps,u=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function";u||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(s!==n||l!==c)&&nx(t,i,n,c),oo=!1;var h=t.memoizedState;i.state=h,pf(t,n,i,a),l=t.memoizedState,s!==n||h!==l||ln.current||oo?(typeof f=="function"&&(x0(t,r,f,n),l=t.memoizedState),(s=oo||rx(t,r,s,n,h,l,c))?(u||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),i.props=n,i.state=l,i.context=c,n=s):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,Bk(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Qn(t.type,s),i.props=c,u=t.pendingProps,h=i.context,l=r.contextType,typeof l=="object"&&l!==null?l=Fn(l):(l=cn(r)?oi:zr.current,l=ns(t,l));var p=r.getDerivedStateFromProps;(f=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(s!==u||h!==l)&&nx(t,i,n,l),oo=!1,h=t.memoizedState,i.state=h,pf(t,n,i,a);var m=t.memoizedState;s!==u||h!==m||ln.current||oo?(typeof p=="function"&&(x0(t,r,p,n),m=t.memoizedState),(c=oo||rx(t,r,c,n,h,m,l)||!1)?(f||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,m,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,m,l)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),i.props=n,i.state=m,i.context=l,n=c):(typeof i.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return S0(e,t,r,n,o,a)}function S0(e,t,r,n,a,o){fS(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return a&&Xv(t,r,!1),Ga(e,t,o);n=t.stateNode,jA.current=t;var s=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=os(t,e.child,null,o),t.child=os(t,null,s,o)):Vr(e,t,s,o),t.memoizedState=n.state,a&&Xv(t,r,!0),t.child}function dS(e){var t=e.stateNode;t.pendingContext?Kv(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Kv(e,t.context,!1),Bm(e,t.containerInfo)}function ux(e,t,r,n,a){return as(),Tm(a),t.flags|=256,Vr(e,t,r,n),t.child}var j0={dehydrated:null,treeContext:null,retryLane:0};function O0(e){return{baseLanes:e,cachePool:null,transitions:null}}function hS(e,t,r){var n=t.pendingProps,a=Vt.current,o=!1,i=(t.flags&128)!==0,s;if((s=i)||(s=e!==null&&e.memoizedState===null?!1:(a&2)!==0),s?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Et(Vt,a&1),e===null)return y0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,o?(n=t.mode,o=t.child,i={mode:"hidden",children:i},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Id(i,n,0,null),e=ei(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=O0(r),t.memoizedState=j0,e):Km(t,i));if(a=e.memoizedState,a!==null&&(s=a.dehydrated,s!==null))return OA(e,t,i,n,s,a,r);if(o){o=n.fallback,i=t.mode,a=e.child,s=a.sibling;var l={mode:"hidden",children:n.children};return!(i&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=So(a,l),n.subtreeFlags=a.subtreeFlags&14680064),s!==null?o=So(s,o):(o=ei(o,i,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,i=e.child.memoizedState,i=i===null?O0(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~r,t.memoizedState=j0,n}return o=e.child,e=o.sibling,n=So(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Km(e,t){return t=Id({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function bu(e,t,r,n){return n!==null&&Tm(n),os(t,e.child,null,r),e=Km(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function OA(e,t,r,n,a,o,i){if(r)return t.flags&256?(t.flags&=-257,n=np(Error(ae(422))),bu(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,a=t.mode,n=Id({mode:"visible",children:n.children},a,0,null),o=ei(o,a,i,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&os(t,e.child,null,i),t.child.memoizedState=O0(i),t.memoizedState=j0,o);if(!(t.mode&1))return bu(e,t,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var s=n.dgst;return n=s,o=Error(ae(419)),n=np(o,n,void 0),bu(e,t,i,n)}if(s=(i&e.childLanes)!==0,on||s){if(n=wr,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==o.retryLane&&(o.retryLane=a,Ua(e,a),oa(n,e,a,-1))}return Jm(),n=np(Error(ae(421))),bu(e,t,i,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=IA.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,xn=xo(a.nextSibling),bn=t,Ft=!0,ta=null,e!==null&&(Tn[$n++]=Ca,Tn[$n++]=Ea,Tn[$n++]=ii,Ca=e.id,Ea=e.overflow,ii=t),t=Km(t,n.children),t.flags|=4096,t)}function fx(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),v0(e.return,t,r)}function ap(e,t,r,n,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=a)}function pS(e,t,r){var n=t.pendingProps,a=n.revealOrder,o=n.tail;if(Vr(e,t,n.children,r),n=Vt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&fx(e,r,t);else if(e.tag===19)fx(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Et(Vt,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&gf(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),ap(t,!1,a,r,o);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&gf(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}ap(t,!0,r,null,o);break;case"together":ap(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ga(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),li|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ae(153));if(t.child!==null){for(e=t.child,r=So(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=So(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function _A(e,t,r){switch(t.tag){case 3:dS(t),as();break;case 5:Fk(t);break;case 1:cn(t.type)&&cf(t);break;case 4:Bm(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Et(df,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Et(Vt,Vt.current&1),t.flags|=128,null):r&t.child.childLanes?hS(e,t,r):(Et(Vt,Vt.current&1),e=Ga(e,t,r),e!==null?e.sibling:null);Et(Vt,Vt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return pS(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Et(Vt,Vt.current),n)break;return null;case 22:case 23:return t.lanes=0,uS(e,t,r)}return Ga(e,t,r)}var gS,_0,mS,yS;gS=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};_0=function(){};mS=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Vo(ba.current);var o=null;switch(r){case"input":a=Xp(e,a),n=Xp(e,n),o=[];break;case"select":a=Xt({},a,{value:void 0}),n=Xt({},n,{value:void 0}),o=[];break;case"textarea":a=Qp(e,a),n=Qp(e,n),o=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=sf)}Jp(r,n);var i;r=null;for(c in a)if(!n.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var s=a[c];for(i in s)s.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Gl.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in n){var l=n[c];if(s=a!=null?a[c]:void 0,n.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(i in s)!s.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in l)l.hasOwnProperty(i)&&s[i]!==l[i]&&(r||(r={}),r[i]=l[i])}else r||(o||(o=[]),o.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Gl.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Dt("scroll",e),o||s===l||(o=[])):(o=o||[]).push(c,l))}r&&(o=o||[]).push("style",r);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};yS=function(e,t,r,n){r!==n&&(t.flags|=4)};function fl(e,t){if(!Ft)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function $r(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function PA(e,t,r){var n=t.pendingProps;switch(Em(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $r(t),null;case 1:return cn(t.type)&&lf(),$r(t),null;case 3:return n=t.stateNode,is(),It(ln),It(zr),zm(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(vu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ta!==null&&($0(ta),ta=null))),_0(e,t),$r(t),null;case 5:Fm(t);var a=Vo(rc.current);if(r=t.type,e!==null&&t.stateNode!=null)mS(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ae(166));return $r(t),null}if(e=Vo(ba.current),vu(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[ma]=t,n[ec]=o,e=(t.mode&1)!==0,r){case"dialog":Dt("cancel",n),Dt("close",n);break;case"iframe":case"object":case"embed":Dt("load",n);break;case"video":case"audio":for(a=0;a<_l.length;a++)Dt(_l[a],n);break;case"source":Dt("error",n);break;case"img":case"image":case"link":Dt("error",n),Dt("load",n);break;case"details":Dt("toggle",n);break;case"input":bv(n,o),Dt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Dt("invalid",n);break;case"textarea":kv(n,o),Dt("invalid",n)}Jp(r,o),a=null;for(var i in o)if(o.hasOwnProperty(i)){var s=o[i];i==="children"?typeof s=="string"?n.textContent!==s&&(o.suppressHydrationWarning!==!0&&yu(n.textContent,s,e),a=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&yu(n.textContent,s,e),a=["children",""+s]):Gl.hasOwnProperty(i)&&s!=null&&i==="onScroll"&&Dt("scroll",n)}switch(r){case"input":cu(n),wv(n,o,!0);break;case"textarea":cu(n),Sv(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=sf)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=H2(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[ma]=t,e[ec]=n,gS(e,t,!1,!1),t.stateNode=e;e:{switch(i=e0(r,n),r){case"dialog":Dt("cancel",e),Dt("close",e),a=n;break;case"iframe":case"object":case"embed":Dt("load",e),a=n;break;case"video":case"audio":for(a=0;a<_l.length;a++)Dt(_l[a],e);a=n;break;case"source":Dt("error",e),a=n;break;case"img":case"image":case"link":Dt("error",e),Dt("load",e),a=n;break;case"details":Dt("toggle",e),a=n;break;case"input":bv(e,n),a=Xp(e,n),Dt("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Xt({},n,{value:void 0}),Dt("invalid",e);break;case"textarea":kv(e,n),a=Qp(e,n),Dt("invalid",e);break;default:a=n}Jp(r,a),s=a;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?X2(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&V2(e,l)):o==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Hl(e,l):typeof l=="number"&&Hl(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Gl.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Dt("scroll",e):l!=null&&ym(e,o,l,i))}switch(r){case"input":cu(e),wv(e,n,!1);break;case"textarea":cu(e),Sv(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Oo(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?Ki(e,!!n.multiple,o,!1):n.defaultValue!=null&&Ki(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=sf)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return $r(t),null;case 6:if(e&&t.stateNode!=null)yS(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ae(166));if(r=Vo(rc.current),Vo(ba.current),vu(t)){if(n=t.stateNode,r=t.memoizedProps,n[ma]=t,(o=n.nodeValue!==r)&&(e=bn,e!==null))switch(e.tag){case 3:yu(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&yu(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ma]=t,t.stateNode=n}return $r(t),null;case 13:if(It(Vt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ft&&xn!==null&&t.mode&1&&!(t.flags&128))Dk(),as(),t.flags|=98560,o=!1;else if(o=vu(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(ae(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ae(317));o[ma]=t}else as(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;$r(t),o=!1}else ta!==null&&($0(ta),ta=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Vt.current&1?hr===0&&(hr=3):Jm())),t.updateQueue!==null&&(t.flags|=4),$r(t),null);case 4:return is(),_0(e,t),e===null&&Zl(t.stateNode.containerInfo),$r(t),null;case 10:return Lm(t.type._context),$r(t),null;case 17:return cn(t.type)&&lf(),$r(t),null;case 19:if(It(Vt),o=t.memoizedState,o===null)return $r(t),null;if(n=(t.flags&128)!==0,i=o.rendering,i===null)if(n)fl(o,!1);else{if(hr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=gf(e),i!==null){for(t.flags|=128,fl(o,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Et(Vt,Vt.current&1|2),t.child}e=e.sibling}o.tail!==null&&tr()>ls&&(t.flags|=128,n=!0,fl(o,!1),t.lanes=4194304)}else{if(!n)if(e=gf(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),fl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!Ft)return $r(t),null}else 2*tr()-o.renderingStartTime>ls&&r!==1073741824&&(t.flags|=128,n=!0,fl(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(r=o.last,r!==null?r.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=tr(),t.sibling=null,r=Vt.current,Et(Vt,n?r&1|2:r&1),t):($r(t),null);case 22:case 23:return Zm(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?mn&1073741824&&($r(t),t.subtreeFlags&6&&(t.flags|=8192)):$r(t),null;case 24:return null;case 25:return null}throw Error(ae(156,t.tag))}function NA(e,t){switch(Em(t),t.tag){case 1:return cn(t.type)&&lf(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return is(),It(ln),It(zr),zm(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Fm(t),null;case 13:if(It(Vt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ae(340));as()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return It(Vt),null;case 4:return is(),null;case 10:return Lm(t.type._context),null;case 22:case 23:return Zm(),null;case 24:return null;default:return null}}var wu=!1,Rr=!1,AA=typeof WeakSet=="function"?WeakSet:Set,pe=null;function Wi(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Yt(e,t,n)}else r.current=null}function P0(e,t,r){try{r()}catch(n){Yt(e,t,n)}}var dx=!1;function MA(e,t){if(u0=nf,e=kk(),Mm(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var i=0,s=-1,l=-1,c=0,f=0,u=e,h=null;t:for(;;){for(var p;u!==r||a!==0&&u.nodeType!==3||(s=i+a),u!==o||n!==0&&u.nodeType!==3||(l=i+n),u.nodeType===3&&(i+=u.nodeValue.length),(p=u.firstChild)!==null;)h=u,u=p;for(;;){if(u===e)break t;if(h===r&&++c===a&&(s=i),h===o&&++f===n&&(l=i),(p=u.nextSibling)!==null)break;u=h,h=u.parentNode}u=p}r=s===-1||l===-1?null:{start:s,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(f0={focusedElem:e,selectionRange:r},nf=!1,pe=t;pe!==null;)if(t=pe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,pe=e;else for(;pe!==null;){t=pe;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var w=m.memoizedProps,b=m.memoizedState,y=t.stateNode,g=y.getSnapshotBeforeUpdate(t.elementType===t.type?w:Qn(t.type,w),b);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ae(163))}}catch(S){Yt(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,pe=e;break}pe=t.return}return m=dx,dx=!1,m}function $l(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,o!==void 0&&P0(t,r,o)}a=a.next}while(a!==n)}}function Ld(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function N0(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function vS(e){var t=e.alternate;t!==null&&(e.alternate=null,vS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ma],delete t[ec],delete t[p0],delete t[dA],delete t[hA])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function xS(e){return e.tag===5||e.tag===3||e.tag===4}function hx(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||xS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function A0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=sf));else if(n!==4&&(e=e.child,e!==null))for(A0(e,t,r),e=e.sibling;e!==null;)A0(e,t,r),e=e.sibling}function M0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(M0(e,t,r),e=e.sibling;e!==null;)M0(e,t,r),e=e.sibling}var Pr=null,Zn=!1;function ro(e,t,r){for(r=r.child;r!==null;)bS(e,t,r),r=r.sibling}function bS(e,t,r){if(xa&&typeof xa.onCommitFiberUnmount=="function")try{xa.onCommitFiberUnmount(Nd,r)}catch{}switch(r.tag){case 5:Rr||Wi(r,t);case 6:var n=Pr,a=Zn;Pr=null,ro(e,t,r),Pr=n,Zn=a,Pr!==null&&(Zn?(e=Pr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Pr.removeChild(r.stateNode));break;case 18:Pr!==null&&(Zn?(e=Pr,r=r.stateNode,e.nodeType===8?Qh(e.parentNode,r):e.nodeType===1&&Qh(e,r),ql(e)):Qh(Pr,r.stateNode));break;case 4:n=Pr,a=Zn,Pr=r.stateNode.containerInfo,Zn=!0,ro(e,t,r),Pr=n,Zn=a;break;case 0:case 11:case 14:case 15:if(!Rr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var o=a,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&P0(r,t,i),a=a.next}while(a!==n)}ro(e,t,r);break;case 1:if(!Rr&&(Wi(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){Yt(r,t,s)}ro(e,t,r);break;case 21:ro(e,t,r);break;case 22:r.mode&1?(Rr=(n=Rr)||r.memoizedState!==null,ro(e,t,r),Rr=n):ro(e,t,r);break;default:ro(e,t,r)}}function px(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new AA),t.forEach(function(n){var a=BA.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function qn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var o=e,i=t,s=i;e:for(;s!==null;){switch(s.tag){case 5:Pr=s.stateNode,Zn=!1;break e;case 3:Pr=s.stateNode.containerInfo,Zn=!0;break e;case 4:Pr=s.stateNode.containerInfo,Zn=!0;break e}s=s.return}if(Pr===null)throw Error(ae(160));bS(o,i,a),Pr=null,Zn=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(c){Yt(a,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)wS(t,e),t=t.sibling}function wS(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(qn(t,e),pa(e),n&4){try{$l(3,e,e.return),Ld(3,e)}catch(w){Yt(e,e.return,w)}try{$l(5,e,e.return)}catch(w){Yt(e,e.return,w)}}break;case 1:qn(t,e),pa(e),n&512&&r!==null&&Wi(r,r.return);break;case 5:if(qn(t,e),pa(e),n&512&&r!==null&&Wi(r,r.return),e.flags&32){var a=e.stateNode;try{Hl(a,"")}catch(w){Yt(e,e.return,w)}}if(n&4&&(a=e.stateNode,a!=null)){var o=e.memoizedProps,i=r!==null?r.memoizedProps:o,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&U2(a,o),e0(s,i);var c=e0(s,o);for(i=0;i<l.length;i+=2){var f=l[i],u=l[i+1];f==="style"?X2(a,u):f==="dangerouslySetInnerHTML"?V2(a,u):f==="children"?Hl(a,u):ym(a,f,u,c)}switch(s){case"input":qp(a,o);break;case"textarea":G2(a,o);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Ki(a,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?Ki(a,!!o.multiple,o.defaultValue,!0):Ki(a,!!o.multiple,o.multiple?[]:"",!1))}a[ec]=o}catch(w){Yt(e,e.return,w)}}break;case 6:if(qn(t,e),pa(e),n&4){if(e.stateNode===null)throw Error(ae(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(w){Yt(e,e.return,w)}}break;case 3:if(qn(t,e),pa(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ql(t.containerInfo)}catch(w){Yt(e,e.return,w)}break;case 4:qn(t,e),pa(e);break;case 13:qn(t,e),pa(e),a=e.child,a.flags&8192&&(o=a.memoizedState!==null,a.stateNode.isHidden=o,!o||a.alternate!==null&&a.alternate.memoizedState!==null||(Ym=tr())),n&4&&px(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?(Rr=(c=Rr)||f,qn(t,e),Rr=c):qn(t,e),pa(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!f&&e.mode&1)for(pe=e,f=e.child;f!==null;){for(u=pe=f;pe!==null;){switch(h=pe,p=h.child,h.tag){case 0:case 11:case 14:case 15:$l(4,h,h.return);break;case 1:Wi(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(w){Yt(n,r,w)}}break;case 5:Wi(h,h.return);break;case 22:if(h.memoizedState!==null){mx(u);continue}}p!==null?(p.return=h,pe=p):mx(u)}f=f.sibling}e:for(f=null,u=e;;){if(u.tag===5){if(f===null){f=u;try{a=u.stateNode,c?(o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=u.stateNode,l=u.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=K2("display",i))}catch(w){Yt(e,e.return,w)}}}else if(u.tag===6){if(f===null)try{u.stateNode.nodeValue=c?"":u.memoizedProps}catch(w){Yt(e,e.return,w)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===e)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===e)break e;for(;u.sibling===null;){if(u.return===null||u.return===e)break e;f===u&&(f=null),u=u.return}f===u&&(f=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:qn(t,e),pa(e),n&4&&px(e);break;case 21:break;default:qn(t,e),pa(e)}}function pa(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(xS(r)){var n=r;break e}r=r.return}throw Error(ae(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Hl(a,""),n.flags&=-33);var o=hx(e);M0(e,o,a);break;case 3:case 4:var i=n.stateNode.containerInfo,s=hx(e);A0(e,s,i);break;default:throw Error(ae(161))}}catch(l){Yt(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function CA(e,t,r){pe=e,kS(e)}function kS(e,t,r){for(var n=(e.mode&1)!==0;pe!==null;){var a=pe,o=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||wu;if(!i){var s=a.alternate,l=s!==null&&s.memoizedState!==null||Rr;s=wu;var c=Rr;if(wu=i,(Rr=l)&&!c)for(pe=a;pe!==null;)i=pe,l=i.child,i.tag===22&&i.memoizedState!==null?yx(a):l!==null?(l.return=i,pe=l):yx(a);for(;o!==null;)pe=o,kS(o),o=o.sibling;pe=a,wu=s,Rr=c}gx(e)}else a.subtreeFlags&8772&&o!==null?(o.return=a,pe=o):gx(e)}}function gx(e){for(;pe!==null;){var t=pe;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Rr||Ld(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Rr)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Qn(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Jv(t,o,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Jv(t,i,r)}break;case 5:var s=t.stateNode;if(r===null&&t.flags&4){r=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var u=f.dehydrated;u!==null&&ql(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ae(163))}Rr||t.flags&512&&N0(t)}catch(h){Yt(t,t.return,h)}}if(t===e){pe=null;break}if(r=t.sibling,r!==null){r.return=t.return,pe=r;break}pe=t.return}}function mx(e){for(;pe!==null;){var t=pe;if(t===e){pe=null;break}var r=t.sibling;if(r!==null){r.return=t.return,pe=r;break}pe=t.return}}function yx(e){for(;pe!==null;){var t=pe;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ld(4,t)}catch(l){Yt(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(l){Yt(t,a,l)}}var o=t.return;try{N0(t)}catch(l){Yt(t,o,l)}break;case 5:var i=t.return;try{N0(t)}catch(l){Yt(t,i,l)}}}catch(l){Yt(t,t.return,l)}if(t===e){pe=null;break}var s=t.sibling;if(s!==null){s.return=t.return,pe=s;break}pe=t.return}}var EA=Math.ceil,vf=Xa.ReactCurrentDispatcher,Xm=Xa.ReactCurrentOwner,In=Xa.ReactCurrentBatchConfig,at=0,wr=null,ir=null,Ar=0,mn=0,Ui=No(0),hr=0,ic=null,li=0,Rd=0,qm=0,Dl=null,an=null,Ym=0,ls=1/0,Aa=null,xf=!1,C0=null,wo=null,ku=!1,fo=null,bf=0,Ll=0,E0=null,qu=-1,Yu=0;function qr(){return at&6?tr():qu!==-1?qu:qu=tr()}function ko(e){return e.mode&1?at&2&&Ar!==0?Ar&-Ar:gA.transition!==null?(Yu===0&&(Yu=ik()),Yu):(e=bt,e!==0||(e=window.event,e=e===void 0?16:hk(e.type)),e):1}function oa(e,t,r,n){if(50<Ll)throw Ll=0,E0=null,Error(ae(185));Gc(e,r,n),(!(at&2)||e!==wr)&&(e===wr&&(!(at&2)&&(Rd|=r),hr===4&&lo(e,Ar)),un(e,n),r===1&&at===0&&!(t.mode&1)&&(ls=tr()+500,Td&&Ao()))}function un(e,t){var r=e.callbackNode;gN(e,t);var n=rf(e,e===wr?Ar:0);if(n===0)r!==null&&_v(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&_v(r),t===1)e.tag===0?pA(vx.bind(null,e)):Ek(vx.bind(null,e)),uA(function(){!(at&6)&&Ao()}),r=null;else{switch(sk(n)){case 1:r=km;break;case 4:r=ak;break;case 16:r=tf;break;case 536870912:r=ok;break;default:r=tf}r=MS(r,SS.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function SS(e,t){if(qu=-1,Yu=0,at&6)throw Error(ae(327));var r=e.callbackNode;if(Zi()&&e.callbackNode!==r)return null;var n=rf(e,e===wr?Ar:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=wf(e,n);else{t=n;var a=at;at|=2;var o=OS();(wr!==e||Ar!==t)&&(Aa=null,ls=tr()+500,Jo(e,t));do try{DA();break}catch(s){jS(e,s)}while(!0);Dm(),vf.current=o,at=a,ir!==null?t=0:(wr=null,Ar=0,t=hr)}if(t!==0){if(t===2&&(a=o0(e),a!==0&&(n=a,t=T0(e,a))),t===1)throw r=ic,Jo(e,0),lo(e,n),un(e,tr()),r;if(t===6)lo(e,n);else{if(a=e.current.alternate,!(n&30)&&!TA(a)&&(t=wf(e,n),t===2&&(o=o0(e),o!==0&&(n=o,t=T0(e,o))),t===1))throw r=ic,Jo(e,0),lo(e,n),un(e,tr()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(ae(345));case 2:Fo(e,an,Aa);break;case 3:if(lo(e,n),(n&130023424)===n&&(t=Ym+500-tr(),10<t)){if(rf(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){qr(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=h0(Fo.bind(null,e,an,Aa),t);break}Fo(e,an,Aa);break;case 4:if(lo(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var i=31-aa(n);o=1<<i,i=t[i],i>a&&(a=i),n&=~o}if(n=a,n=tr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*EA(n/1960))-n,10<n){e.timeoutHandle=h0(Fo.bind(null,e,an,Aa),n);break}Fo(e,an,Aa);break;case 5:Fo(e,an,Aa);break;default:throw Error(ae(329))}}}return un(e,tr()),e.callbackNode===r?SS.bind(null,e):null}function T0(e,t){var r=Dl;return e.current.memoizedState.isDehydrated&&(Jo(e,t).flags|=256),e=wf(e,t),e!==2&&(t=an,an=r,t!==null&&$0(t)),e}function $0(e){an===null?an=e:an.push.apply(an,e)}function TA(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],o=a.getSnapshot;a=a.value;try{if(!ia(o(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function lo(e,t){for(t&=~qm,t&=~Rd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-aa(t),n=1<<r;e[r]=-1,t&=~n}}function vx(e){if(at&6)throw Error(ae(327));Zi();var t=rf(e,0);if(!(t&1))return un(e,tr()),null;var r=wf(e,t);if(e.tag!==0&&r===2){var n=o0(e);n!==0&&(t=n,r=T0(e,n))}if(r===1)throw r=ic,Jo(e,0),lo(e,t),un(e,tr()),r;if(r===6)throw Error(ae(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Fo(e,an,Aa),un(e,tr()),null}function Qm(e,t){var r=at;at|=1;try{return e(t)}finally{at=r,at===0&&(ls=tr()+500,Td&&Ao())}}function ci(e){fo!==null&&fo.tag===0&&!(at&6)&&Zi();var t=at;at|=1;var r=In.transition,n=bt;try{if(In.transition=null,bt=1,e)return e()}finally{bt=n,In.transition=r,at=t,!(at&6)&&Ao()}}function Zm(){mn=Ui.current,It(Ui)}function Jo(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,cA(r)),ir!==null)for(r=ir.return;r!==null;){var n=r;switch(Em(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&lf();break;case 3:is(),It(ln),It(zr),zm();break;case 5:Fm(n);break;case 4:is();break;case 13:It(Vt);break;case 19:It(Vt);break;case 10:Lm(n.type._context);break;case 22:case 23:Zm()}r=r.return}if(wr=e,ir=e=So(e.current,null),Ar=mn=t,hr=0,ic=null,qm=Rd=li=0,an=Dl=null,Ho!==null){for(t=0;t<Ho.length;t++)if(r=Ho[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,o=r.pending;if(o!==null){var i=o.next;o.next=a,n.next=i}r.pending=n}Ho=null}return e}function jS(e,t){do{var r=ir;try{if(Dm(),Vu.current=yf,mf){for(var n=Kt.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}mf=!1}if(si=0,br=dr=Kt=null,Tl=!1,nc=0,Xm.current=null,r===null||r.return===null){hr=1,ic=t,ir=null;break}e:{var o=e,i=r.return,s=r,l=t;if(t=Ar,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,f=s,u=f.tag;if(!(f.mode&1)&&(u===0||u===11||u===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=ox(i);if(p!==null){p.flags&=-257,ix(p,i,s,o,t),p.mode&1&&ax(o,c,t),t=p,l=c;var m=t.updateQueue;if(m===null){var w=new Set;w.add(l),t.updateQueue=w}else m.add(l);break e}else{if(!(t&1)){ax(o,c,t),Jm();break e}l=Error(ae(426))}}else if(Ft&&s.mode&1){var b=ox(i);if(b!==null){!(b.flags&65536)&&(b.flags|=256),ix(b,i,s,o,t),Tm(ss(l,s));break e}}o=l=ss(l,s),hr!==4&&(hr=2),Dl===null?Dl=[o]:Dl.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var y=sS(o,l,t);Zv(o,y);break e;case 1:s=l;var g=o.type,v=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(wo===null||!wo.has(v)))){o.flags|=65536,t&=-t,o.lanes|=t;var S=lS(o,s,t);Zv(o,S);break e}}o=o.return}while(o!==null)}PS(r)}catch(x){t=x,ir===r&&r!==null&&(ir=r=r.return);continue}break}while(!0)}function OS(){var e=vf.current;return vf.current=yf,e===null?yf:e}function Jm(){(hr===0||hr===3||hr===2)&&(hr=4),wr===null||!(li&268435455)&&!(Rd&268435455)||lo(wr,Ar)}function wf(e,t){var r=at;at|=2;var n=OS();(wr!==e||Ar!==t)&&(Aa=null,Jo(e,t));do try{$A();break}catch(a){jS(e,a)}while(!0);if(Dm(),at=r,vf.current=n,ir!==null)throw Error(ae(261));return wr=null,Ar=0,hr}function $A(){for(;ir!==null;)_S(ir)}function DA(){for(;ir!==null&&!iN();)_S(ir)}function _S(e){var t=AS(e.alternate,e,mn);e.memoizedProps=e.pendingProps,t===null?PS(e):ir=t,Xm.current=null}function PS(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=NA(r,t),r!==null){r.flags&=32767,ir=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{hr=6,ir=null;return}}else if(r=PA(r,t,mn),r!==null){ir=r;return}if(t=t.sibling,t!==null){ir=t;return}ir=t=e}while(t!==null);hr===0&&(hr=5)}function Fo(e,t,r){var n=bt,a=In.transition;try{In.transition=null,bt=1,LA(e,t,r,n)}finally{In.transition=a,bt=n}return null}function LA(e,t,r,n){do Zi();while(fo!==null);if(at&6)throw Error(ae(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ae(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(mN(e,o),e===wr&&(ir=wr=null,Ar=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ku||(ku=!0,MS(tf,function(){return Zi(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=In.transition,In.transition=null;var i=bt;bt=1;var s=at;at|=4,Xm.current=null,MA(e,r),wS(r,e),rA(f0),nf=!!u0,f0=u0=null,e.current=r,CA(r),sN(),at=s,bt=i,In.transition=o}else e.current=r;if(ku&&(ku=!1,fo=e,bf=a),o=e.pendingLanes,o===0&&(wo=null),uN(r.stateNode),un(e,tr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(xf)throw xf=!1,e=C0,C0=null,e;return bf&1&&e.tag!==0&&Zi(),o=e.pendingLanes,o&1?e===E0?Ll++:(Ll=0,E0=e):Ll=0,Ao(),null}function Zi(){if(fo!==null){var e=sk(bf),t=In.transition,r=bt;try{if(In.transition=null,bt=16>e?16:e,fo===null)var n=!1;else{if(e=fo,fo=null,bf=0,at&6)throw Error(ae(331));var a=at;for(at|=4,pe=e.current;pe!==null;){var o=pe,i=o.child;if(pe.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(pe=c;pe!==null;){var f=pe;switch(f.tag){case 0:case 11:case 15:$l(8,f,o)}var u=f.child;if(u!==null)u.return=f,pe=u;else for(;pe!==null;){f=pe;var h=f.sibling,p=f.return;if(vS(f),f===c){pe=null;break}if(h!==null){h.return=p,pe=h;break}pe=p}}}var m=o.alternate;if(m!==null){var w=m.child;if(w!==null){m.child=null;do{var b=w.sibling;w.sibling=null,w=b}while(w!==null)}}pe=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,pe=i;else e:for(;pe!==null;){if(o=pe,o.flags&2048)switch(o.tag){case 0:case 11:case 15:$l(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,pe=y;break e}pe=o.return}}var g=e.current;for(pe=g;pe!==null;){i=pe;var v=i.child;if(i.subtreeFlags&2064&&v!==null)v.return=i,pe=v;else e:for(i=g;pe!==null;){if(s=pe,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Ld(9,s)}}catch(x){Yt(s,s.return,x)}if(s===i){pe=null;break e}var S=s.sibling;if(S!==null){S.return=s.return,pe=S;break e}pe=s.return}}if(at=a,Ao(),xa&&typeof xa.onPostCommitFiberRoot=="function")try{xa.onPostCommitFiberRoot(Nd,e)}catch{}n=!0}return n}finally{bt=r,In.transition=t}}return!1}function xx(e,t,r){t=ss(r,t),t=sS(e,t,1),e=bo(e,t,1),t=qr(),e!==null&&(Gc(e,1,t),un(e,t))}function Yt(e,t,r){if(e.tag===3)xx(e,e,r);else for(;t!==null;){if(t.tag===3){xx(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(wo===null||!wo.has(n))){e=ss(r,e),e=lS(t,e,1),t=bo(t,e,1),e=qr(),t!==null&&(Gc(t,1,e),un(t,e));break}}t=t.return}}function RA(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=qr(),e.pingedLanes|=e.suspendedLanes&r,wr===e&&(Ar&r)===r&&(hr===4||hr===3&&(Ar&130023424)===Ar&&500>tr()-Ym?Jo(e,0):qm|=r),un(e,t)}function NS(e,t){t===0&&(e.mode&1?(t=du,du<<=1,!(du&130023424)&&(du=4194304)):t=1);var r=qr();e=Ua(e,t),e!==null&&(Gc(e,t,r),un(e,r))}function IA(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),NS(e,r)}function BA(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ae(314))}n!==null&&n.delete(t),NS(e,r)}var AS;AS=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||ln.current)on=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return on=!1,_A(e,t,r);on=!!(e.flags&131072)}else on=!1,Ft&&t.flags&1048576&&Tk(t,ff,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Xu(e,t),e=t.pendingProps;var a=ns(t,zr.current);Qi(t,r),a=Um(null,t,n,e,a,r);var o=Gm();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,cn(n)?(o=!0,cf(t)):o=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Im(t),a.updater=Dd,t.stateNode=a,a._reactInternals=t,b0(t,n,e,r),t=S0(null,t,n,!0,o,r)):(t.tag=0,Ft&&o&&Cm(t),Vr(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Xu(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=zA(n),e=Qn(n,e),a){case 0:t=k0(null,t,n,e,r);break e;case 1:t=cx(null,t,n,e,r);break e;case 11:t=sx(null,t,n,e,r);break e;case 14:t=lx(null,t,n,Qn(n.type,e),r);break e}throw Error(ae(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Qn(n,a),k0(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Qn(n,a),cx(e,t,n,a,r);case 3:e:{if(dS(t),e===null)throw Error(ae(387));n=t.pendingProps,o=t.memoizedState,a=o.element,Bk(e,t),pf(t,n,null,r);var i=t.memoizedState;if(n=i.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){a=ss(Error(ae(423)),t),t=ux(e,t,n,r,a);break e}else if(n!==a){a=ss(Error(ae(424)),t),t=ux(e,t,n,r,a);break e}else for(xn=xo(t.stateNode.containerInfo.firstChild),bn=t,Ft=!0,ta=null,r=Rk(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(as(),n===a){t=Ga(e,t,r);break e}Vr(e,t,n,r)}t=t.child}return t;case 5:return Fk(t),e===null&&y0(t),n=t.type,a=t.pendingProps,o=e!==null?e.memoizedProps:null,i=a.children,d0(n,a)?i=null:o!==null&&d0(n,o)&&(t.flags|=32),fS(e,t),Vr(e,t,i,r),t.child;case 6:return e===null&&y0(t),null;case 13:return hS(e,t,r);case 4:return Bm(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=os(t,null,n,r):Vr(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Qn(n,a),sx(e,t,n,a,r);case 7:return Vr(e,t,t.pendingProps,r),t.child;case 8:return Vr(e,t,t.pendingProps.children,r),t.child;case 12:return Vr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,o=t.memoizedProps,i=a.value,Et(df,n._currentValue),n._currentValue=i,o!==null)if(ia(o.value,i)){if(o.children===a.children&&!ln.current){t=Ga(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var s=o.dependencies;if(s!==null){i=o.child;for(var l=s.firstContext;l!==null;){if(l.context===n){if(o.tag===1){l=La(-1,r&-r),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),v0(o.return,r,t),s.lanes|=r;break}l=l.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(ae(341));i.lanes|=r,s=i.alternate,s!==null&&(s.lanes|=r),v0(i,r,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}Vr(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Qi(t,r),a=Fn(a),n=n(a),t.flags|=1,Vr(e,t,n,r),t.child;case 14:return n=t.type,a=Qn(n,t.pendingProps),a=Qn(n.type,a),lx(e,t,n,a,r);case 15:return cS(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Qn(n,a),Xu(e,t),t.tag=1,cn(n)?(e=!0,cf(t)):e=!1,Qi(t,r),iS(t,n,a),b0(t,n,a,r),S0(null,t,n,!0,e,r);case 19:return pS(e,t,r);case 22:return uS(e,t,r)}throw Error(ae(156,t.tag))};function MS(e,t){return nk(e,t)}function FA(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(e,t,r,n){return new FA(e,t,r,n)}function ey(e){return e=e.prototype,!(!e||!e.isReactComponent)}function zA(e){if(typeof e=="function")return ey(e)?1:0;if(e!=null){if(e=e.$$typeof,e===xm)return 11;if(e===bm)return 14}return 2}function So(e,t){var r=e.alternate;return r===null?(r=Dn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Qu(e,t,r,n,a,o){var i=2;if(n=e,typeof e=="function")ey(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Ti:return ei(r.children,a,o,t);case vm:i=8,a|=8;break;case Gp:return e=Dn(12,r,t,a|2),e.elementType=Gp,e.lanes=o,e;case Hp:return e=Dn(13,r,t,a),e.elementType=Hp,e.lanes=o,e;case Vp:return e=Dn(19,r,t,a),e.elementType=Vp,e.lanes=o,e;case F2:return Id(r,a,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case I2:i=10;break e;case B2:i=9;break e;case xm:i=11;break e;case bm:i=14;break e;case ao:i=16,n=null;break e}throw Error(ae(130,e==null?e:typeof e,""))}return t=Dn(i,r,t,a),t.elementType=e,t.type=n,t.lanes=o,t}function ei(e,t,r,n){return e=Dn(7,e,n,t),e.lanes=r,e}function Id(e,t,r,n){return e=Dn(22,e,n,t),e.elementType=F2,e.lanes=r,e.stateNode={isHidden:!1},e}function op(e,t,r){return e=Dn(6,e,null,t),e.lanes=r,e}function ip(e,t,r){return t=Dn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function WA(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fh(0),this.expirationTimes=Fh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fh(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function ty(e,t,r,n,a,o,i,s,l){return e=new WA(e,t,r,s,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Dn(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Im(o),e}function UA(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ei,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function CS(e){if(!e)return _o;e=e._reactInternals;e:{if(vi(e)!==e||e.tag!==1)throw Error(ae(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(cn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ae(171))}if(e.tag===1){var r=e.type;if(cn(r))return Ck(e,r,t)}return t}function ES(e,t,r,n,a,o,i,s,l){return e=ty(r,n,!0,e,a,o,i,s,l),e.context=CS(null),r=e.current,n=qr(),a=ko(r),o=La(n,a),o.callback=t??null,bo(r,o,a),e.current.lanes=a,Gc(e,a,n),un(e,n),e}function Bd(e,t,r,n){var a=t.current,o=qr(),i=ko(a);return r=CS(r),t.context===null?t.context=r:t.pendingContext=r,t=La(o,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=bo(a,t,i),e!==null&&(oa(e,a,i,o),Hu(e,a,i)),i}function kf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function bx(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function ry(e,t){bx(e,t),(e=e.alternate)&&bx(e,t)}function GA(){return null}var TS=typeof reportError=="function"?reportError:function(e){console.error(e)};function ny(e){this._internalRoot=e}Fd.prototype.render=ny.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ae(409));Bd(e,t,null,null)};Fd.prototype.unmount=ny.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ci(function(){Bd(null,e,null,null)}),t[Wa]=null}};function Fd(e){this._internalRoot=e}Fd.prototype.unstable_scheduleHydration=function(e){if(e){var t=uk();e={blockedOn:null,target:e,priority:t};for(var r=0;r<so.length&&t!==0&&t<so[r].priority;r++);so.splice(r,0,e),r===0&&dk(e)}};function ay(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function zd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function wx(){}function HA(e,t,r,n,a){if(a){if(typeof n=="function"){var o=n;n=function(){var c=kf(i);o.call(c)}}var i=ES(t,n,e,0,null,!1,!1,"",wx);return e._reactRootContainer=i,e[Wa]=i.current,Zl(e.nodeType===8?e.parentNode:e),ci(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var s=n;n=function(){var c=kf(l);s.call(c)}}var l=ty(e,0,!1,null,null,!1,!1,"",wx);return e._reactRootContainer=l,e[Wa]=l.current,Zl(e.nodeType===8?e.parentNode:e),ci(function(){Bd(t,l,r,n)}),l}function Wd(e,t,r,n,a){var o=r._reactRootContainer;if(o){var i=o;if(typeof a=="function"){var s=a;a=function(){var l=kf(i);s.call(l)}}Bd(t,i,e,a)}else i=HA(r,t,e,a,n);return kf(i)}lk=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Ol(t.pendingLanes);r!==0&&(Sm(t,r|1),un(t,tr()),!(at&6)&&(ls=tr()+500,Ao()))}break;case 13:ci(function(){var n=Ua(e,1);if(n!==null){var a=qr();oa(n,e,1,a)}}),ry(e,1)}};jm=function(e){if(e.tag===13){var t=Ua(e,134217728);if(t!==null){var r=qr();oa(t,e,134217728,r)}ry(e,134217728)}};ck=function(e){if(e.tag===13){var t=ko(e),r=Ua(e,t);if(r!==null){var n=qr();oa(r,e,t,n)}ry(e,t)}};uk=function(){return bt};fk=function(e,t){var r=bt;try{return bt=e,t()}finally{bt=r}};r0=function(e,t,r){switch(t){case"input":if(qp(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Ed(n);if(!a)throw Error(ae(90));W2(n),qp(n,a)}}}break;case"textarea":G2(e,r);break;case"select":t=r.value,t!=null&&Ki(e,!!r.multiple,t,!1)}};Q2=Qm;Z2=ci;var VA={usingClientEntryPoint:!1,Events:[Vc,Ri,Ed,q2,Y2,Qm]},dl={findFiberByHostInstance:Go,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},KA={bundleType:dl.bundleType,version:dl.version,rendererPackageName:dl.rendererPackageName,rendererConfig:dl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xa.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=tk(e),e===null?null:e.stateNode},findFiberByHostInstance:dl.findFiberByHostInstance||GA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Su=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Su.isDisabled&&Su.supportsFiber)try{Nd=Su.inject(KA),xa=Su}catch{}}kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VA;kn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ay(t))throw Error(ae(200));return UA(e,t,null,r)};kn.createRoot=function(e,t){if(!ay(e))throw Error(ae(299));var r=!1,n="",a=TS;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=ty(e,1,!1,null,null,r,!1,n,a),e[Wa]=t.current,Zl(e.nodeType===8?e.parentNode:e),new ny(t)};kn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ae(188)):(e=Object.keys(e).join(","),Error(ae(268,e)));return e=tk(t),e=e===null?null:e.stateNode,e};kn.flushSync=function(e){return ci(e)};kn.hydrate=function(e,t,r){if(!zd(t))throw Error(ae(200));return Wd(null,e,t,!0,r)};kn.hydrateRoot=function(e,t,r){if(!ay(e))throw Error(ae(405));var n=r!=null&&r.hydratedSources||null,a=!1,o="",i=TS;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=ES(t,null,e,1,r??null,a,!1,o,i),e[Wa]=t.current,Zl(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Fd(t)};kn.render=function(e,t,r){if(!zd(t))throw Error(ae(200));return Wd(null,e,t,!1,r)};kn.unmountComponentAtNode=function(e){if(!zd(e))throw Error(ae(40));return e._reactRootContainer?(ci(function(){Wd(null,null,e,!1,function(){e._reactRootContainer=null,e[Wa]=null})}),!0):!1};kn.unstable_batchedUpdates=Qm;kn.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!zd(r))throw Error(ae(200));if(e==null||e._reactInternals===void 0)throw Error(ae(38));return Wd(e,t,r,!1,n)};kn.version="18.3.1-next-f1338f8080-20240426";function $S(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($S)}catch(e){console.error(e)}}$S(),$2.exports=kn;var XA=$2.exports,kx=XA;Wp.createRoot=kx.createRoot,Wp.hydrateRoot=kx.hydrateRoot;const ti=({isOpen:e,onClose:t,onConfirm:r,title:n,message:a,confirmText:o="I know the risk and insist to continue",cancelText:i="Cancel"})=>e?d.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:d.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-md rounded-2xl shadow-2xl border border-amber-500/30 overflow-hidden transform transition-all scale-100",children:[d.jsxs("div",{className:"bg-amber-500/10 p-6 flex flex-col items-center justify-center border-b border-amber-500/20",children:[d.jsx("div",{className:"w-16 h-16 bg-amber-100 dark:bg-amber-900/30 rounded-full flex items-center justify-center mb-4",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-amber-600 dark:text-amber-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),d.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white text-center",children:n})]}),d.jsx("div",{className:"p-6",children:d.jsx("div",{className:"text-gray-600 dark:text-slate-300 text-center text-sm leading-relaxed",children:a})}),d.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-800/50 flex gap-3 justify-end border-t border-gray-200 dark:border-slate-800",children:[d.jsx("button",{onClick:t,className:"px-4 py-2 bg-white hover:bg-gray-100 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-700 dark:text-slate-200 font-semibold rounded-lg border border-gray-300 dark:border-slate-600 transition-colors text-sm",children:i}),d.jsx("button",{onClick:r,className:"px-4 py-2 bg-amber-600 hover:bg-amber-700 text-white font-bold rounded-lg shadow-lg shadow-amber-500/20 transition-all active:scale-95 text-sm",children:o})]})]})}):null,qA=({onFileSelected:e,onGenerateFakeDng:t,fileName:r,hasGeneratedData:n,viewMode:a,onSetViewMode:o,patternPeriod:i,onPatternPeriodChange:s,fillFactor:l,onFillFactorChange:c,patternPhase:f,onPatternPhaseChange:u,showPatternControls:h,onOpenAbout:p,onShowExif:m,bridgeStatus:w,onBridgeClick:b,isDrLabOpen:y,onToggleDrLab:g,isFftLabOpen:v,onToggleFftLab:S,onGenerateTestPic:x,onPTCFilesSelected:k,onDownloadDng:j,isThreePlane:_,onOpenDatabase:P})=>{const N=O.useRef(null),A=O.useRef(null),[C,R]=O.useState(!1),[I,T]=O.useState(!1),[L,U]=O.useState(!1),[D,z]=O.useState(!1),[W,te]=O.useState("direct"),Y=O.useRef(null),X=O.useRef(null);O.useEffect(()=>{const ce=J=>{Y.current&&!Y.current.contains(J.target)&&U(!1),X.current&&!X.current.contains(J.target)&&z(!1)};return document.addEventListener("mousedown",ce),()=>document.removeEventListener("mousedown",ce)},[]);const F=ce=>{var J;U(!1),ce==="direct"?(te("direct"),R(!0)):!w.isConnected||!w.hasDngConverter?T(!0):(te("convert"),(J=N.current)==null||J.click())},ue=()=>{var ce;R(!1),(ce=N.current)==null||ce.click()},fe=ce=>{var de;const J=(de=ce.target.files)==null?void 0:de[0];J&&e(J,W),ce.target.value=""},Se=ce=>{ce.target.files&&ce.target.files.length>0&&k(ce.target.files),ce.target.value=""};return d.jsxs("header",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 mb-4 flex-shrink-0 relative z-50",children:[d.jsx(ti,{isOpen:C,onClose:()=>R(!1),onConfirm:ue,title:"Format Compatibility Warning",confirmText:"Continue",message:d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsx("p",{className:"font-bold text-gray-800 dark:text-gray-200 text-base",children:"Adobe DNG ConverterDNG"}),d.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Only 4-channel DNG files output by Adobe DNG Converter are fully guaranteed to be supported."}),d.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 rounded-lg border border-gray-200 dark:border-slate-700",children:[d.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-500 mb-1",children:"Download Adobe DNG Converter:"}),d.jsx("a",{href:"https://helpx.adobe.com/camera-raw/using/adobe-dng-converter.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline text-xs break-all",children:"https://helpx.adobe.com/camera-raw/using/adobe-dng-converter.html"})]})]})}),d.jsx(ti,{isOpen:I,onClose:()=>T(!1),onConfirm:()=>T(!1),title:"DNG Converter Missing",confirmText:"OK",cancelText:"Cancel",message:d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsx("p",{className:"font-bold text-red-600 dark:text-red-400 text-base",children:"JiangBridge Offline or Adobe DNG Converter not installed (you may have to restart your device after installing ADC to use it here)"}),d.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"To use the conversion feature, you must run JiangBridge locally and have Adobe DNG Converter installed on your system."}),d.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 rounded-lg border border-gray-200 dark:border-slate-700",children:[d.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-500 mb-1",children:"Download Adobe DNG Converter:"}),d.jsx("a",{href:"https://helpx.adobe.com/camera-raw/using/adobe-dng-converter.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline text-xs break-all",children:"https://helpx.adobe.com/camera-raw/using/adobe-dng-converter.html"})]})]})}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-cyan-500 to-blue-600 dark:from-cyan-400 dark:to-blue-500 text-center sm:text-left",children:"Jiangtherapee Online"}),d.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 hidden lg:block max-w-xs truncate",title:r||"No image loaded",children:r||"No image loaded"}),_&&d.jsx("span",{className:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400 border border-red-200 dark:border-red-800 text-[10px] font-bold px-2 py-1 rounded animate-pulse",children:" 3-PLANE / RGB MODE"})]}),d.jsxs("div",{className:"flex items-center gap-4 flex-wrap justify-end",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("button",{onClick:w.isConnected?void 0:b,className:`px-3 py-1.5 rounded-full text-xs font-bold transition-all duration-200 flex items-center gap-1.5 shadow-sm border ${w.isConnected?"bg-emerald-100 text-emerald-700 border-emerald-200 dark:bg-emerald-900/30 dark:text-emerald-400 dark:border-emerald-800 cursor-default":"bg-pink-100 text-pink-600 border-pink-200 dark:bg-pink-900/30 dark:text-pink-400 dark:border-pink-800 hover:bg-pink-200 dark:hover:bg-pink-900/50 cursor-pointer animate-pulse"}`,title:w.isConnected?"Local Bridge Service Connected":"Click to download Jiangbridge",children:[d.jsx("span",{className:`w-2 h-2 rounded-full ${w.isConnected?"bg-emerald-500":"bg-pink-500"}`}),w.isConnected?`JiangBridge Ready ${w.hasDngConverter?"DNG+":""}`:"JiangBridge Offline"]}),y&&d.jsxs("button",{onClick:g,className:"px-3 py-1.5 rounded-full text-xs font-bold transition-all duration-200 flex items-center gap-1.5 shadow-sm border bg-indigo-100 text-indigo-700 border-indigo-200 dark:bg-indigo-900/30 dark:text-indigo-400 dark:border-indigo-800 hover:bg-indigo-200 dark:hover:bg-indigo-900/50 cursor-pointer animate-in fade-in",title:"Click to turn off DR Lab",children:[d.jsx("span",{className:"w-2 h-2 rounded-full bg-indigo-500 animate-pulse"}),"DR Lab On"]}),v&&d.jsxs("button",{onClick:S,className:"px-3 py-1.5 rounded-full text-xs font-bold transition-all duration-200 flex items-center gap-1.5 shadow-sm border bg-fuchsia-100 text-fuchsia-700 border-fuchsia-200 dark:bg-fuchsia-900/30 dark:text-fuchsia-400 dark:border-fuchsia-800 hover:bg-fuchsia-200 dark:hover:bg-fuchsia-900/50 cursor-pointer animate-in fade-in",title:"Click to turn off FFT Lab",children:[d.jsx("span",{className:"w-2 h-2 rounded-full bg-fuchsia-500 animate-pulse"}),"FFT Lab On"]}),n&&d.jsxs("div",{className:"flex bg-gray-100 dark:bg-slate-800 rounded-lg p-1 border border-gray-200 dark:border-slate-600 shadow-inner transition-colors duration-300",children:[d.jsx("button",{onClick:()=>o("reference"),className:`px-3 py-1.5 rounded-md text-xs sm:text-sm font-bold transition-all duration-200 ${a==="reference"?"bg-green-500 dark:bg-green-600 text-white shadow-md":"text-gray-500 dark:text-slate-400 hover:text-gray-900 dark:hover:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700"}`,title:"The perfect uniform input",children:"Perfect"}),d.jsx("button",{onClick:()=>o("sampled"),className:`px-3 py-1.5 rounded-md text-xs sm:text-sm font-bold transition-all duration-200 ${a==="sampled"?"bg-blue-500 dark:bg-blue-600 text-white shadow-md":"text-gray-500 dark:text-slate-400 hover:text-gray-900 dark:hover:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700"}`,title:"Sampled Sensor View with Aperture Visualization",children:"Sampled (Sensor)"}),d.jsx("button",{onClick:()=>o("processed"),className:`px-3 py-1.5 rounded-md text-xs sm:text-sm font-bold transition-all duration-200 ${a==="processed"?"bg-purple-500 dark:bg-purple-600 text-white shadow-md":"text-gray-500 dark:text-slate-400 hover:text-gray-900 dark:hover:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700"}`,title:"Demosaiced Result",children:"Result"})]})]}),h&&d.jsxs("div",{className:"flex items-center gap-2 animate-in fade-in slide-in-from-right-4 duration-300",children:[d.jsxs("div",{className:"flex flex-col items-end mr-1 bg-gray-50 dark:bg-slate-800/50 p-1.5 rounded-lg border border-gray-200 dark:border-slate-700 transition-colors duration-300",children:[d.jsx("span",{className:"text-[10px] text-gray-500 dark:text-slate-400 font-mono uppercase tracking-wider mb-1",children:"Density (Period)"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"range",min:"0.1",max:"10",step:"0.1",value:i,onChange:ce=>s(parseFloat(ce.target.value)),className:"w-20 h-2 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-purple-500",title:"Adjust the period of the line pairs in pixels"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"number",min:"0.1",max:"100",step:"0.01",value:i,onChange:ce=>{const J=parseFloat(ce.target.value);isNaN(J)||s(J)},className:"w-16 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-1 py-0.5 text-xs font-mono text-purple-600 dark:text-purple-300 text-right focus:outline-none focus:border-purple-500 focus:ring-1 focus:ring-purple-500 transition-colors duration-300"}),d.jsx("span",{className:"absolute right-6 top-0.5 text-[10px] text-gray-400 dark:text-slate-500 pointer-events-none hidden",children:"px"})]})]})]}),d.jsxs("div",{className:"flex flex-col items-end mr-1 bg-gray-50 dark:bg-slate-800/50 p-1.5 rounded-lg border border-gray-200 dark:border-slate-700 transition-colors duration-300",children:[d.jsx("span",{className:"text-[10px] text-gray-500 dark:text-slate-400 font-mono uppercase tracking-wider mb-1",children:"Phase"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:f,onChange:ce=>u(parseFloat(ce.target.value)),className:"w-20 h-2 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-pink-500",title:"Shift pattern phase (0-1 cycle)"}),d.jsx("div",{className:"relative",children:d.jsx("input",{type:"number",min:"0",max:"1",step:"0.01",value:f,onChange:ce=>{const J=parseFloat(ce.target.value);isNaN(J)||u(J)},className:"w-12 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-1 py-0.5 text-xs font-mono text-pink-600 dark:text-pink-300 text-right focus:outline-none focus:border-pink-500 focus:ring-1 focus:ring-pink-500 transition-colors duration-300"})})]})]}),d.jsxs("div",{className:"flex flex-col items-end mr-1 bg-gray-50 dark:bg-slate-800/50 p-1.5 rounded-lg border border-gray-200 dark:border-slate-700 transition-colors duration-300",children:[d.jsx("span",{className:"text-[10px] text-gray-500 dark:text-slate-400 font-mono uppercase tracking-wider mb-1",children:"Fill Factor"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"range",min:"1",max:"100",step:"1",value:l*100,onChange:ce=>c(parseInt(ce.target.value)/100),className:"w-20 h-2 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-green-500",title:"Adjust pixel aperture fill factor %"}),d.jsxs("div",{className:"relative flex items-center",children:[d.jsx("input",{type:"number",min:"1",max:"100",step:"1",value:Math.round(l*100),onChange:ce=>{const J=parseInt(ce.target.value);isNaN(J)||c(Math.min(100,Math.max(1,J))/100)},className:"w-12 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-1 py-0.5 text-xs font-mono text-green-600 dark:text-green-300 text-right focus:outline-none focus:border-green-500 focus:ring-1 focus:ring-green-500 transition-colors duration-300"}),d.jsx("span",{className:"ml-1 text-[10px] text-gray-400 dark:text-slate-500 font-mono",children:"%"})]})]})]}),d.jsx("button",{onClick:j,className:"flex flex-col items-center justify-center p-2 rounded-lg bg-gray-50 hover:bg-gray-100 dark:bg-slate-800 dark:hover:bg-slate-700 border border-gray-200 dark:border-slate-600 transition-colors group",title:"Download Generated DNG",children:d.jsx("svg",{className:"w-5 h-5 text-gray-500 dark:text-slate-400 group-hover:text-cyan-600 dark:group-hover:text-cyan-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})})})]}),d.jsx("input",{type:"file",ref:N,onChange:fe,className:"hidden",accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff"}),d.jsx("input",{type:"file",ref:A,onChange:Se,className:"hidden",multiple:!0,accept:".csv"}),d.jsxs("div",{className:"relative inline-block text-left",ref:X,children:[d.jsxs("button",{onClick:()=>z(!D),className:"bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-lg transition-colors duration-300 shadow-lg shadow-purple-500/30 text-sm whitespace-nowrap flex items-center gap-2",children:["TEST Tools",d.jsx("svg",{className:`w-4 h-4 transition-transform duration-200 ${D?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),D&&d.jsx("div",{className:"absolute right-0 mt-2 w-56 rounded-xl bg-white dark:bg-slate-800 shadow-xl ring-1 ring-black ring-opacity-5 focus:outline-none z-50 overflow-hidden origin-top-right transition-all animate-in fade-in slide-in-from-top-2 border border-gray-200 dark:border-slate-700",children:d.jsxs("div",{className:"py-1",children:[d.jsxs("button",{onClick:()=>{z(!1),t()},className:"w-full text-left px-4 py-3 text-sm text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors flex items-center gap-2",children:[d.jsx("svg",{className:"w-4 h-4 text-purple-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),d.jsx("span",{children:"Generate Pattern DNG"})]}),d.jsxs("button",{onClick:()=>{z(!1),y||g(),v&&S()},className:`w-full text-left px-4 py-3 text-sm transition-colors flex items-center gap-2 border-t border-gray-100 dark:border-slate-700 ${y?"bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 dark:text-indigo-400 font-bold":"text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700"}`,children:[d.jsx("svg",{className:"w-4 h-4 text-indigo-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.384-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})}),d.jsxs("span",{children:["DR Lab ",y?"(On)":""]})]}),d.jsxs("button",{onClick:()=>{z(!1),v||S(),y&&g()},className:`w-full text-left px-4 py-3 text-sm transition-colors flex items-center gap-2 border-t border-gray-100 dark:border-slate-700 ${v?"bg-fuchsia-50 dark:bg-fuchsia-900/20 text-fuchsia-600 dark:text-fuchsia-400 font-bold":"text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700"}`,children:[d.jsx("svg",{className:"w-4 h-4 text-fuchsia-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),d.jsxs("span",{children:["FFT Lab ",v?"(On)":""]})]}),d.jsxs("button",{onClick:()=>{var ce;z(!1),(ce=A.current)==null||ce.click()},className:"w-full text-left px-4 py-3 text-sm text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors flex items-center gap-2 border-t border-gray-100 dark:border-slate-700",children:[d.jsx("svg",{className:"w-4 h-4 text-emerald-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"})}),d.jsx("span",{children:"Generate PTC & TargetSNR"})]})]})})]}),d.jsxs("div",{className:"relative inline-block text-left",ref:Y,children:[d.jsxs("button",{onClick:()=>U(!L),className:"bg-cyan-500 hover:bg-cyan-600 text-white font-bold py-2 px-4 rounded-lg transition-colors duration-300 shadow-lg shadow-cyan-500/30 text-sm whitespace-nowrap flex items-center gap-2",children:["Load Image",d.jsx("svg",{className:`w-4 h-4 transition-transform duration-200 ${L?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),L&&d.jsx("div",{className:"absolute right-0 mt-2 w-56 rounded-xl bg-white dark:bg-slate-800 shadow-xl ring-1 ring-black ring-opacity-5 focus:outline-none z-50 overflow-hidden origin-top-right transition-all animate-in fade-in slide-in-from-top-2 border border-gray-200 dark:border-slate-700",children:d.jsxs("div",{className:"py-1",children:[d.jsxs("button",{onClick:()=>F("direct"),className:"w-full text-left px-4 py-3 text-sm text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors flex items-center gap-2",children:[d.jsx("svg",{className:"w-4 h-4 text-cyan-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),d.jsx("span",{children:"Load Image (Direct)"})]}),d.jsxs("button",{onClick:()=>F("convert"),className:"w-full text-left px-4 py-3 text-sm text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors flex items-center gap-2 border-t border-gray-100 dark:border-slate-700",children:[d.jsx("svg",{className:"w-4 h-4 text-purple-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.384-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})}),d.jsx("span",{children:"Convert to Adobe DNG & Load"})]})]})})]}),r&&m&&d.jsxs("button",{onClick:m,className:"bg-orange-500 hover:bg-orange-600 text-white font-bold py-2 px-4 rounded-lg transition-colors duration-300 shadow-lg shadow-orange-500/30 text-sm whitespace-nowrap flex items-center gap-1",title:"View EXIF Data",children:[d.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"EXIF"]}),d.jsx("button",{onClick:p,className:"bg-teal-600 hover:bg-teal-700 text-white font-bold py-2 px-4 rounded-lg transition-colors duration-300 shadow-lg shadow-teal-500/30 text-sm whitespace-nowrap",children:"About/Tutorial/Tools"}),d.jsx("a",{href:"https://y-g-jiang.github.io/index.html",target:"_blank",rel:"noopener noreferrer",className:"bg-gray-200 hover:bg-gray-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-700 dark:text-slate-100 font-semibold py-2 px-4 rounded-lg transition-colors duration-300 text-sm",children:"Home"})]})]})},YA=({image:e,zoom:t,pan:r,onPanChange:n,onZoomChange:a,onSelectionChange:o,forcedSelection:i,theme:s,touchAction:l="pan",isMarking:c=!1,onPointClick:f,markers:u=[],gridRects:h=[]})=>{var Y;const p=O.useRef(null),m=O.useRef(document.createElement("canvas")),[w,b]=O.useState(!1),[y,g]=O.useState({x:0,y:0}),v=O.useRef(null),S=O.useRef(null),x=O.useRef(null),[k,j]=O.useState(!1),[_,P]=O.useState(null),[N,A]=O.useState(null);O.useEffect(()=>{i!==void 0&&A(i)},[i]);const C=O.useCallback(()=>{const X=p.current,F=X==null?void 0:X.getContext("2d");return{canvas:X,ctx:F}},[]);O.useEffect(()=>{const X=m.current,F=X.getContext("2d");if(!e||!F)return;let ue=0,fe=0;e instanceof ImageData?(ue=e.width,fe=e.height):e instanceof HTMLImageElement&&(ue=e.naturalWidth,fe=e.naturalHeight),!(ue===0||fe===0)&&((X.width!==ue||X.height!==fe)&&(X.width=ue,X.height=fe),e instanceof ImageData?F.putImageData(e,0,0):(F.clearRect(0,0,ue,fe),F.drawImage(e,0,0)))},[e]);const R=O.useCallback(()=>{const{canvas:X,ctx:F}=C();if(!(!X||!F||!e)){if(F.setTransform(1,0,0,1,0,0),F.fillStyle=s==="dark"?"rgb(15, 23, 42)":"rgb(243, 244, 246)",F.fillRect(0,0,X.width,X.height),F.setTransform(t,0,0,t,r.x,r.y),m.current.width>0&&(F.imageSmoothingEnabled=!1,F.drawImage(m.current,0,0)),N){F.strokeStyle="#06b6d4",F.lineWidth=1/t,F.fillStyle="rgba(6, 182, 212, 0.2)",F.beginPath(),F.rect(N.x,N.y,N.w,N.h),F.fill(),F.stroke(),F.save(),F.fillStyle="#fff";const ue=Math.max(10,14/t);F.font=`${ue}px monospace`,F.shadowColor="rgba(0,0,0,0.8)",F.shadowBlur=4,F.shadowOffsetX=1,F.shadowOffsetY=1,F.fillText(`${Math.round(N.w)}x${Math.round(N.h)}`,N.x,N.y-5/t),F.restore()}if(h&&h.length>0){F.save(),F.strokeStyle="#f59e0b",F.lineWidth=1/t,F.globalAlpha=.8,F.beginPath(),h.forEach(Se=>{F.rect(Se.x,Se.y,Se.w,Se.h)}),F.stroke();const ue=h[0];F.fillStyle="#f59e0b";const fe=Math.max(10,12/t);F.font=`${fe}px monospace`,F.fillText(`${ue.w}x${ue.h}`,ue.x,ue.y-4/t),F.restore()}if(u&&u.length>0){F.save();const ue=6/t,fe=Math.max(12,16/t);F.font=`bold ${fe}px sans-serif`,F.textAlign="center",F.textBaseline="middle",u.forEach((Se,ce)=>{F.beginPath(),F.arc(Se.x,Se.y,ue,0,2*Math.PI),F.fillStyle="white",F.fill(),F.strokeStyle="#4338ca",F.lineWidth=2/t,F.stroke(),F.fillStyle="#4338ca",F.fillText((ce+1).toString(),Se.x,Se.y-12/t)}),F.restore()}}},[C,e,t,r,s,N,u,h]);O.useEffect(()=>{const{canvas:X}=C();if(!X)return;const F=new ResizeObserver(()=>{X.width=X.clientWidth,X.height=X.clientHeight,R()});return F.observe(X),()=>F.disconnect()},[C,R]),O.useEffect(()=>{R()},[R,e,r,t,s,N,u,h]);const I=X=>{const{canvas:F}=C();if(!F)return{x:0,y:0};const ue=F.getBoundingClientRect();return{x:X.clientX-ue.left,y:X.clientY-ue.top}},T=(X,F)=>({x:(X-r.x)/t,y:(F-r.y)/t}),L=X=>{X.preventDefault();const F=I(X);if(c){const ue=T(F.x,F.y);f&&f(ue);return}if(X.shiftKey||l==="select"){j(!0);const ue=T(F.x,F.y),fe={x:Math.floor(ue.x),y:Math.floor(ue.y)};P(fe),A(null),o&&o(null)}else b(!0),g({x:F.x-r.x,y:F.y-r.y})},U=X=>{const F=I(X);if(k&&_){const ue=T(F.x,F.y),fe=Math.floor(ue.x),Se=Math.floor(ue.y),ce=Math.min(_.x,fe),J=Math.min(_.y,Se),de=Math.max(_.x,fe),ve=Math.max(_.y,Se),q=de-ce+1,Ke=ve-J+1;A({x:ce,y:J,w:q,h:Ke})}else w&&n({x:F.x-y.x,y:F.y-y.y})},D=()=>{k&&(j(!1),N&&o&&N.w>0&&N.h>0&&o(N)),b(!1)},z=X=>{var F;if(X.touches.length===1){const ue=X.touches[0],fe=(F=p.current)==null?void 0:F.getBoundingClientRect();if(!fe)return;const Se=ue.clientX-fe.left,ce=ue.clientY-fe.top;if(c){const J=T(Se,ce);f&&f(J);return}if(l==="select"){const J=T(Se,ce),de={x:Math.floor(J.x),y:Math.floor(J.y)};P(de),j(!0),A(null),o&&o(null)}else x.current={x:Se,y:ce},g({x:Se-r.x,y:ce-r.y}),b(!0)}else if(X.touches.length===2){const ue=Math.hypot(X.touches[0].clientX-X.touches[1].clientX,X.touches[0].clientY-X.touches[1].clientY);v.current=ue,S.current=t,b(!1),j(!1)}},W=X=>{var F;if(X.touches.length===1){const ue=X.touches[0],fe=(F=p.current)==null?void 0:F.getBoundingClientRect();if(!fe)return;const Se=ue.clientX-fe.left,ce=ue.clientY-fe.top;if(c)return;if(k&&_){const J=T(Se,ce),de=Math.floor(J.x),ve=Math.floor(J.y),q=Math.min(_.x,de),Ke=Math.min(_.y,ve),we=Math.max(_.x,de),st=Math.max(_.y,ve),Be=we-q+1,mt=st-Ke+1;A({x:q,y:Ke,w:Be,h:mt})}else w&&n({x:Se-y.x,y:ce-y.y})}else if(X.touches.length===2&&v.current&&S.current&&a){const fe=Math.hypot(X.touches[0].clientX-X.touches[1].clientX,X.touches[0].clientY-X.touches[1].clientY)/v.current;a(S.current*fe)}},te=()=>{k&&(j(!1),N&&o&&N.w>0&&N.h>0&&o(N)),b(!1),v.current=null,S.current=null,x.current=null};return d.jsx("canvas",{ref:p,className:`w-full h-full block touch-none ${c||k||(Y=window.event)!=null&&Y.shiftKey||l==="select"?"cursor-crosshair":"cursor-grab active:cursor-grabbing"}`,onMouseDown:L,onMouseMove:U,onMouseUp:D,onMouseLeave:D,onTouchStart:z,onTouchMove:W,onTouchEnd:te,onTouchCancel:te,tabIndex:0})},ju=({title:e,children:t})=>d.jsxs("div",{className:"border-b border-gray-200 dark:border-slate-700 transition-colors duration-300",children:[d.jsx("div",{className:"p-4 font-semibold text-gray-800 dark:text-slate-200 bg-gray-50 dark:bg-slate-800/30 border-b border-gray-200 dark:border-slate-800 select-none cursor-default transition-colors duration-300",children:d.jsx("span",{children:e})}),d.jsx("div",{className:"p-4 bg-white dark:bg-slate-900/50 transition-colors duration-300",children:t})]}),QA=[{value:-1,label:"Raw Bayer (Grayscale)"},{value:0,label:"Linear interpolation"},{value:1,label:"VNG (Variable Number of Gradients)"},{value:2,label:"PPG (Patterned Pixel Grouping)"},{value:3,label:"AHD (Adaptive Homogeneity-Directed)"},{value:4,label:"DCB (Demosaicing with Color Back-refinement)"},{value:11,label:"DHT (Modified AHD)"},{value:12,label:"AAHD (Adaptive AHD)"}],Sx=({checked:e,onChange:t,label:r})=>d.jsxs("div",{className:"flex items-center justify-between py-2 cursor-pointer group",onClick:()=>t(!e),children:[d.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-slate-300 select-none group-hover:text-gray-900 dark:group-hover:text-slate-200 transition-colors",children:r}),d.jsx("div",{className:`relative w-11 h-6 rounded-full transition-colors duration-200 ease-in-out ${e?"bg-cyan-500 dark:bg-cyan-600":"bg-gray-300 dark:bg-slate-600 group-hover:bg-gray-400 dark:group-hover:bg-slate-500"}`,children:d.jsx("div",{className:`absolute left-1 top-1 bg-white w-4 h-4 rounded-full shadow-md transform transition-transform duration-200 ease-in-out ${e?"translate-x-5":"translate-x-0"}`})})]}),sp=(e,t)=>{if(!e)return null;if(t){const r=e.bayerPattern.toUpperCase(),n=l=>{const c=[];for(let f=0;f<4;f++)r[f]===l&&c.push(f);return c},a=t.BlackLevelRed,o=t.BlackLevelGreen,i=t.BlackLevelBlue;if(a!==void 0&&o!==void 0&&i!==void 0){const l=parseFloat(a),c=parseFloat(o),f=parseFloat(i);if(!isNaN(l)&&!isNaN(c)&&!isNaN(f)){const u=[0,0,0,0];return u.fill(c),n("R").forEach(h=>u[h]=l),n("G").forEach(h=>u[h]=c),n("B").forEach(h=>u[h]=f),u}}let s=t.BlackLevel;if(s===void 0&&(s=t.BlackLevel2),s!==void 0){let l=[];if(Array.isArray(s)?l=s.map(Number):typeof s=="string"?l=s.trim().split(/\s+/).map(Number):typeof s=="number"&&(l=[s,s,s,s]),l.length===1&&!isNaN(l[0])&&(l=[l[0],l[0],l[0],l[0]]),l.length>=4&&!l.slice(0,4).some(isNaN))return[l[0],l[1],l[2],l[3]]}}return e.blackLevels&&e.blackLevels.length===4?[e.blackLevels[0],e.blackLevels[1],e.blackLevels[2],e.blackLevels[3]]:null},ZA=e=>{const{rawImageData:t,displaySettings:r,onApplyDisplaySettings:n,onSetSelection:a,exifData:o,isBridgeConnected:i,isDrLabOpen:s,drMarkingStep:l,onStartMarking:c,onGenerateTestPic:f,drRoiSize:u,onDrRoiSizeChange:h,drGridRows:p,onDrGridRowsChange:m,drGridCols:w,onDrGridColsChange:b,onBatchDrLab:y,hasDrMarkers:g,isFftLabOpen:v,onProcessPair:S,isThreePlane:x}=e,[k,j]=O.useState(r.exposure.toString()),[_,P]=O.useState(""),[N,A]=O.useState("0 0 0 0"),[C,R]=O.useState("1.0"),[I,T]=O.useState("1.0"),[L,U]=O.useState(r.demosaicMethod),[D,z]=O.useState(!!r.showKadc),[W,te]=O.useState(!!r.subtractBlackLevelFromStats),[Y,X]=O.useState("64"),[F,ue]=O.useState(!1),[fe,Se]=O.useState(!1),ce=O.useRef(null),J=O.useRef(null),[de,ve]=O.useState(null),[q,Ke]=O.useState(null),[we,st]=O.useState(!1),[Be,mt]=O.useState(!0),lr=O.useRef(null),nr=O.useRef(null),yr=O.useRef(!1),Wt=O.useRef(null);O.useEffect(()=>{t!==Wt.current&&(yr.current=!1,Wt.current=t)},[t]),O.useEffect(()=>{if(i&&t&&!yr.current){yr.current=!0;const Q=sp(t,o),Fe=Q&&Q.some(Pt=>Pt>0);if(Q&&Fe){ue(!0);const Pt={...r,blackLevel:Q,showKadc:!0,subtractBlackLevelFromStats:!0,exposure:r.exposure,wbGains:r.wbGains||[1,1],demosaicMethod:r.demosaicMethod,renderMode:"standard"};n(Pt)}}},[i,t,o,r,n]),O.useEffect(()=>{if(j(r.exposure.toString()),r.customMatrix?(P(r.customMatrix.join(" ")),ue(!0)):P(""),r.blackLevel&&r.blackLevel.length===4)A(r.blackLevel.join(" "));else{const Q=sp(t,o);A(Q?Q.join(" "):"0 0 0 0")}R(r.wbGains?r.wbGains[0].toString():"1.0"),T(r.wbGains?r.wbGains[1].toString():"1.0"),U(r.demosaicMethod),z(!!r.showKadc),te(!!r.subtractBlackLevelFromStats)},[r,t,o]);const Zt=Q=>{j(Q)},cr=Q=>R(Q),Jt=Q=>T(Q),ot=Q=>{U(parseInt(Q.target.value,10))},Hn=Q=>{P(Q.target.value)},vr=()=>{j("0"),U(3),R("1.0"),T("1.0"),z(!0),te(!0),P(""),ue(!1);const Q=sp(t,o);A(Q?Q.join(" "):"0 0 0 0")},Vn=()=>{!t||!a||a({x:0,y:0,w:t.width,h:t.height})},Cr=()=>{if(!t||!a)return;const Q=parseInt(Y,10);if(isNaN(Q)||Q<=0)return;const Fe=Math.min(Q,t.width),Pt=Math.min(Q,t.height),Sr=Math.floor((t.width-Fe)/2),jr=Math.floor((t.height-Pt)/2);a({x:Sr,y:jr,w:Fe,h:Pt})},Zr=()=>{const Fe=N.split(/[\s,]+/).filter(Pt=>Pt.trim()!=="").map(Number);if(Fe.length===1&&!isNaN(Fe[0]))return[Fe[0],Fe[0],Fe[0],Fe[0]];if(Fe.length>=4&&!Fe.slice(0,4).some(isNaN))return[Fe[0],Fe[1],Fe[2],Fe[3]]},Za=()=>{const Q={...r},Fe=parseFloat(k);isNaN(Fe)||(Q.exposure=Fe);const Pt=parseFloat(C),Sr=parseFloat(I);if(!isNaN(Pt)&&!isNaN(Sr)&&(Q.wbGains=[Pt,Sr]),Q.demosaicMethod=L,Q.renderMode="standard",F){const jr=Zr();jr&&(Q.blackLevel=jr);const Er=_.trim().replace(/[\s,\n]+/g," ");if(Er){const en=Er.split(" ").map(Number);en.length===9&&!en.some(isNaN)?Q.customMatrix=en:alert("Invalid matrix format. Please ensure exactly 9 numeric values (3x3).")}else delete Q.customMatrix;Q.showKadc=D,Q.subtractBlackLevelFromStats=W}else delete Q.customMatrix,delete Q.blackLevel,delete Q.showKadc,delete Q.subtractBlackLevelFromStats;n(Q)},Ut=()=>{const Q={...r},Fe=Zr();Fe&&(Q.blackLevel=Fe);const Pt=parseFloat(k);isNaN(Pt)||(Q.exposure=Pt),Q.renderMode="zero-dependency",n(Q)},Kn=Q=>{Q.target.files&&Q.target.files.length>0&&y&&y(Q.target.files),Q.target.value=""},Ot=async Q=>{var Pt;const Fe=(Pt=Q.target.files)==null?void 0:Pt[0];if(Fe){try{const jr=(await Fe.text()).split(`
`),Er=[];Er.push("#BlackLevel: 0,0,0,0"),Er.push("#ImageHeight: 0"),Er.push("Row,Col,R_Mean,G1_Mean,G2_Mean,B_Mean,R_Std,G1_Std,G2_Std,B_Std");let en=1;for(let Wr=0;Wr<jr.length;Wr++){const fa=jr[Wr].trim();if(!fa||fa.includes("R_mean")||fa.includes("R_std"))continue;const H=fa.split(/\s+/).map(Number);if(H.length<8||H.some(isNaN))continue;const he=H[0],Ee=H[1],et=H[2],dt=H[3],Ze=H[4],Xe=H[5],vt=H[6],er=H[7],xt=[en,1,he,et,vt,Ze,Ee,dt,er,Xe].join(",");Er.push(xt),en++}const Gt=new Blob([Er.join(`
`)],{type:"text/csv"}),yt=URL.createObjectURL(Gt),ft=document.createElement("a");ft.href=yt,ft.download=Fe.name.replace(/\.[^/.]+$/,"")+"_converted.csv",document.body.appendChild(ft),ft.click(),document.body.removeChild(ft),URL.revokeObjectURL(yt)}catch(Sr){console.error("Conversion failed",Sr),alert("Failed to convert file. Check format.")}Q.target.value=""}},jn=Q=>{Q.target.files&&Q.target.files[0]&&ve(Q.target.files[0])},On=Q=>{Q.target.files&&Q.target.files[0]&&Ke(Q.target.files[0])},Jr=()=>{de&&q&&S&&S(de,q,we,Be)},_t=!!t;return d.jsxs("div",{className:"flex flex-col h-full",children:[d.jsxs("div",{className:"flex-grow overflow-y-auto",children:[x&&d.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-3 border-b border-red-100 dark:border-red-800 text-center animate-pulse",children:[d.jsx("p",{className:"text-xs font-bold text-red-600 dark:text-red-400 uppercase tracking-wide",children:" 3-Plane / Full Color"}),d.jsx("p",{className:"text-[10px] text-red-500/80 dark:text-red-300/70 mt-1",children:"Demosaic disabled. Stats analysis treated as pseudo-Bayer."})]}),v&&d.jsx(ju,{title:"FFT Lab (Pair Difference)",children:d.jsxs("div",{className:"space-y-4",children:[d.jsx("p",{className:"text-[10px] text-gray-500 dark:text-slate-400",children:"Load two identical shots (same ISO/Exp) to remove Fixed Pattern Noise via subtraction."}),d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsx("input",{type:"file",ref:ce,className:"hidden",onChange:jn,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff"}),d.jsx("button",{onClick:()=>{var Q;return(Q=ce.current)==null?void 0:Q.click()},className:`w-full py-2 px-3 rounded-lg border text-xs font-bold text-left truncate transition-colors ${de?"bg-fuchsia-50 dark:bg-fuchsia-900/20 border-fuchsia-300 dark:border-fuchsia-800 text-fuchsia-700 dark:text-fuchsia-300":"bg-white dark:bg-slate-800 border-gray-300 dark:border-slate-600 text-gray-500 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:de?`1: ${de.name}`:"1. Load Image A"}),d.jsx("input",{type:"file",ref:J,className:"hidden",onChange:On,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff"}),d.jsx("button",{onClick:()=>{var Q;return(Q=J.current)==null?void 0:Q.click()},className:`w-full py-2 px-3 rounded-lg border text-xs font-bold text-left truncate transition-colors ${q?"bg-fuchsia-50 dark:bg-fuchsia-900/20 border-fuchsia-300 dark:border-fuchsia-800 text-fuchsia-700 dark:text-fuchsia-300":"bg-white dark:bg-slate-800 border-gray-300 dark:border-slate-600 text-gray-500 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:q?`2: ${q.name}`:"2. Load Image B"})]}),d.jsxs("div",{className:"flex flex-col gap-2 border-t border-gray-200 dark:border-slate-700 pt-3",children:[d.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[d.jsxs("div",{className:`w-4 h-4 border rounded flex items-center justify-center transition-colors ${we?"bg-fuchsia-600 border-fuchsia-600":"bg-white dark:bg-slate-800 border-gray-300 dark:border-slate-600"}`,children:[d.jsx("input",{type:"checkbox",checked:we,onChange:Q=>st(Q.target.checked),className:"hidden"}),we&&d.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})]}),d.jsx("span",{className:"text-xs text-gray-600 dark:text-slate-300",children:"Pad to Power of 2 (2)"})]}),d.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[d.jsxs("div",{className:`w-4 h-4 border rounded flex items-center justify-center transition-colors ${Be?"bg-fuchsia-600 border-fuchsia-600":"bg-white dark:bg-slate-800 border-gray-300 dark:border-slate-600"}`,children:[d.jsx("input",{type:"checkbox",checked:Be,onChange:Q=>mt(Q.target.checked),className:"hidden"}),Be&&d.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})]}),d.jsx("span",{className:"text-xs text-gray-600 dark:text-slate-300",children:"Normalize (2) / "})]})]}),d.jsxs("button",{onClick:Jr,disabled:!de||!q,className:"w-full bg-fuchsia-600 hover:bg-fuchsia-500 disabled:bg-gray-300 dark:disabled:bg-slate-800 disabled:text-gray-500 disabled:cursor-not-allowed text-white font-bold py-2.5 px-4 rounded-lg shadow-md transition-all active:scale-95 text-sm flex items-center justify-center gap-2",children:[d.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.384-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})}),"Generate Diff & Load"]})]})}),s&&d.jsx(ju,{title:"DR Lab Tools",children:d.jsxs("div",{className:"space-y-4",children:[d.jsx("button",{onClick:f,className:"w-full bg-amber-500 hover:bg-amber-600 text-white font-bold py-2 px-4 rounded-lg shadow-md transition-colors text-sm",children:"Generate Test Pic"}),d.jsxs("div",{className:"border-t border-gray-200 dark:border-slate-700 pt-3",children:[d.jsx("h4",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide mb-2",children:"Grid Analysis"}),h&&u!==void 0&&d.jsx("div",{className:"flex items-center justify-between mb-3",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-sm text-gray-600 dark:text-slate-300",children:"Box Size:"}),d.jsx("input",{type:"number",min:"8",max:"512",step:"2",value:u,onChange:Q=>h(parseInt(Q.target.value)||64),className:"w-12 px-1 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-sm text-gray-900 dark:text-slate-100 text-center"}),d.jsx("span",{className:"text-xs text-gray-400",children:"px"})]})}),m&&b&&p!==void 0&&w!==void 0&&d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsx("span",{className:"text-sm text-gray-600 dark:text-slate-300",children:"Layout:"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"number",min:"1",max:"50",value:p,onChange:Q=>m(Math.max(1,parseInt(Q.target.value)||1)),className:"w-10 px-1 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-sm text-gray-900 dark:text-slate-100 text-center",title:"Rows"}),d.jsx("span",{className:"text-xs text-gray-400",children:"x"}),d.jsx("input",{type:"number",min:"1",max:"50",value:w,onChange:Q=>b(Math.max(1,parseInt(Q.target.value)||1)),className:"w-10 px-1 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-sm text-gray-900 dark:text-slate-100 text-center",title:"Columns"})]})]}),d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsx("button",{onClick:c,disabled:!_t||l!==void 0&&l>0,className:`w-full font-bold py-2 px-4 rounded-lg shadow-md transition-all text-sm ${_t?l&&l>0?"bg-indigo-100 dark:bg-indigo-900 text-indigo-700 dark:text-indigo-300 border-2 border-indigo-500":"bg-indigo-600 hover:bg-indigo-700 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:l&&l>0?"Marking Active...":"Mark Corners"}),y&&d.jsxs(d.Fragment,{children:[d.jsx("input",{type:"file",ref:lr,className:"hidden",multiple:!0,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff",onChange:Kn}),d.jsxs("button",{onClick:()=>{var Q;return(Q=lr.current)==null?void 0:Q.click()},disabled:!g,className:"w-full font-bold py-2 px-4 rounded-lg shadow-md transition-all text-sm bg-emerald-600 hover:bg-emerald-700 disabled:bg-gray-300 disabled:text-gray-500 disabled:cursor-not-allowed text-white flex items-center justify-center gap-2",title:"Process multiple RAWs using the currently defined grid and Black Level",children:[d.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),"Reuse Last & Batch"]})]}),d.jsxs("div",{className:"pt-2 mt-2 border-t border-gray-100 dark:border-slate-800",children:[d.jsx("input",{type:"file",ref:nr,className:"hidden",accept:".txt",onChange:Ot}),d.jsxs("button",{onClick:()=>{var Q;return(Q=nr.current)==null?void 0:Q.click()},className:"w-full font-bold py-2 px-4 rounded-lg shadow-sm transition-all text-xs bg-slate-100 hover:bg-slate-200 dark:bg-slate-800 dark:hover:bg-slate-700 text-gray-600 dark:text-slate-300 flex items-center justify-center gap-2 border border-gray-300 dark:border-slate-600",title:"Convert legacy TXT format (R_mean R_std ...) to standard CSV",children:[d.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})}),"Convert Format (.txt  .csv)"]})]})]}),l!==void 0&&l>0&&d.jsx("div",{className:"mt-2 text-center",children:d.jsxs("p",{className:"text-xs text-indigo-600 dark:text-indigo-400 font-bold animate-pulse",children:[l===1&&"Click Top-Left Center",l===2&&"Click Top-Right Center",l===3&&"Click Bottom-Left Center",l===4&&"Click Bottom-Right Center"]})})]})]})}),d.jsx(ju,{title:"Selection Tools",children:d.jsx("div",{className:"space-y-3",children:d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2",children:"Quick Select or Shift+drag"}),d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx("span",{className:"text-sm text-gray-600 dark:text-slate-300",children:"Size (px):"}),d.jsx("input",{type:"number",min:"1",value:Y,onChange:Q=>X(Q.target.value),disabled:!_t,className:"flex-1 px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-sm text-gray-900 dark:text-slate-100 transition-colors"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[d.jsx("button",{onClick:Cr,disabled:!_t,className:"px-3 py-1.5 bg-gray-200 hover:bg-gray-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-800 dark:text-slate-200 text-xs font-semibold rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Center Rect"}),d.jsx("button",{onClick:Vn,disabled:!_t,className:"px-3 py-1.5 bg-gray-200 hover:bg-gray-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-800 dark:text-slate-200 text-xs font-semibold rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Full Image"})]})]})})}),d.jsx(ju,{title:"Display Controls",children:d.jsxs("div",{className:"space-y-5",children:[d.jsxs("p",{className:"text-gray-500 dark:text-slate-400 text-center text-sm",children:["Adjust parameters and click ",d.jsx("b",{children:"Apply"}),"."]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"exposure",className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2",children:"Exposure (EV)"}),d.jsx("div",{className:"flex items-center gap-2 mb-2",children:d.jsx("input",{type:"range",min:"-5",max:"5",step:"0.1",disabled:!_t,value:parseFloat(k)||0,onChange:Q=>Zt(Q.target.value),className:"w-full h-2 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-cyan-500 disabled:opacity-50"})}),d.jsx("div",{className:"flex items-center gap-2",children:d.jsx("input",{id:"exposure",type:"number",step:"0.1",value:k,onChange:Q=>Zt(Q.target.value),disabled:!_t,className:"w-full px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-sm text-gray-900 dark:text-slate-100 transition-colors duration-300"})})]}),d.jsxs("div",{children:[d.jsxs("label",{htmlFor:"demosaic",className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2 flex justify-between",children:[d.jsx("span",{children:"Demosaic Method"}),x&&d.jsx("span",{className:"text-[9px] text-red-500 font-bold bg-red-100 dark:bg-red-900/30 px-1 rounded",children:"DISABLED"})]}),d.jsx("select",{id:"demosaic",value:L,onChange:ot,disabled:!_t||x,className:"w-full px-2 py-2 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none transition-colors disabled:bg-gray-100 dark:disabled:bg-slate-800/50 disabled:cursor-not-allowed text-sm text-gray-900 dark:text-slate-100",children:QA.map(Q=>d.jsx("option",{value:Q.value,children:Q.label},Q.value))}),x&&d.jsx("p",{className:"text-[9px] text-gray-400 mt-1",children:"Full color data detected. Demosaicing skipped."})]}),d.jsx("div",{className:"border-t border-gray-200 dark:border-slate-700 pt-2",children:d.jsx(Sx,{checked:F,onChange:ue,label:"Advanced Settings"})}),F&&d.jsxs("div",{className:"space-y-5 pl-2 border-l-2 border-gray-200 dark:border-slate-700 animate-in slide-in-from-top-2 duration-200",children:[d.jsxs("div",{children:[d.jsx(Sx,{checked:D,onChange:z,label:"Show Kadc"}),d.jsx("p",{className:"text-[10px] text-gray-400 dark:text-slate-500 mt-1",children:"Requires manual Black Levellinear PTC zoneabsolutely uniform image ."})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2",children:"White Balance Gains"}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("div",{children:[d.jsx("span",{className:"text-xs text-red-500 dark:text-red-400 block mb-1",children:"Red"}),d.jsx("input",{type:"number",step:"0.01",value:C,onChange:Q=>cr(Q.target.value),disabled:!_t,className:"w-full px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-red-500 outline-none text-sm text-gray-900 dark:text-slate-100 transition-colors duration-300"})]}),d.jsxs("div",{children:[d.jsx("span",{className:"text-xs text-blue-500 dark:text-blue-400 block mb-1",children:"Blue"}),d.jsx("input",{type:"number",step:"0.01",value:I,onChange:Q=>Jt(Q.target.value),disabled:!_t,className:"w-full px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-blue-500 outline-none text-sm text-gray-900 dark:text-slate-100 transition-colors duration-300"})]})]})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-end mb-2",children:[d.jsxs("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide flex items-center",children:["Black Level (4-Ch)",d.jsx("span",{className:"ml-1 text-[10px] text-gray-400 dark:text-slate-500 font-normal normal-case",children:"Native"}),d.jsx("button",{onClick:()=>Se(!0),className:"ml-2 text-[10px] text-cyan-600 dark:text-cyan-400 hover:text-cyan-700 dark:hover:text-cyan-300 hover:underline cursor-pointer transition-colors",title:"About Black Level Settings",children:"[about]"})]}),d.jsxs("div",{className:"flex items-center gap-1.5",title:"Subtract Black Level from ROI Mean stats (for display)",children:[d.jsx("span",{className:"text-[9px] font-mono text-gray-400 dark:text-slate-500 uppercase tracking-wide",children:"Sub. BL"}),d.jsx("div",{className:`relative w-8 h-4 rounded-full cursor-pointer transition-colors duration-200 ease-in-out ${W?"bg-cyan-500":"bg-gray-300 dark:bg-slate-700"}`,onClick:()=>te(!W),children:d.jsx("div",{className:`absolute top-0.5 left-0.5 bg-white w-3 h-3 rounded-full shadow-sm transform transition-transform duration-200 ${W?"translate-x-4":"translate-x-0"}`})})]})]}),d.jsx("input",{type:"text",value:N,onChange:Q=>A(Q.target.value),disabled:!_t,placeholder:"0 0 0 0",className:"w-full px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-xs font-mono text-gray-900 dark:text-slate-100 transition-colors duration-300",title:"Enter 4 values separated by space or comma"}),d.jsx("p",{className:"text-[10px] text-gray-400 dark:text-slate-500 mt-1",children:"Order: (0,0) (0,1) (1,0) (1,1). Spatial: TL, TR, BL, BR."})]}),d.jsxs("div",{children:[d.jsxs("label",{htmlFor:"customMatrix",className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2",children:["Custom Color Matrix",d.jsx("span",{className:"block text-[10px] text-gray-400 dark:text-slate-500 font-normal normal-case mt-0.5",children:"XYZ to Camera RGB (3x3, 9 nums)"})]}),d.jsx("textarea",{id:"customMatrix",value:_,onChange:Hn,disabled:!_t,placeholder:"0.66 -0.19 -0.04  -0.46 1.23 0.25  -0.06 0.13 0.65",className:"w-full h-24 px-2 py-2 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none transition-colors disabled:bg-gray-100 dark:disabled:bg-slate-800/50 disabled:cursor-not-allowed text-xs font-mono leading-relaxed text-gray-900 dark:text-slate-100"})]})]}),d.jsxs("div",{className:"pt-4 flex flex-col gap-2",children:[d.jsx("button",{onClick:Za,disabled:!_t,className:"w-full text-base bg-cyan-500 hover:bg-cyan-600 dark:bg-cyan-600 dark:hover:bg-cyan-500 disabled:bg-gray-300 dark:disabled:bg-slate-800 disabled:text-gray-500 dark:disabled:text-slate-500 disabled:cursor-not-allowed text-white font-bold py-3 px-3 rounded-lg shadow-lg shadow-cyan-500/20 dark:shadow-cyan-900/20 transition-all active:scale-95",children:"APPLY SETTINGS"}),d.jsxs("button",{onClick:Ut,disabled:!_t,className:"w-full text-xs font-bold bg-slate-700 hover:bg-slate-600 text-white disabled:bg-gray-300 dark:disabled:bg-slate-800 disabled:text-gray-500 transition-colors py-2 rounded-lg flex items-center justify-center gap-1.5 border border-slate-600",title:"Bypass internal pipeline. Manual subtract black level & apply basic sRGB gamma to raw data.",children:[d.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})," (Zero-Dep)"]}),d.jsx("button",{onClick:vr,disabled:!_t,className:"w-full text-xs text-gray-400 hover:text-gray-600 dark:text-slate-400 dark:hover:text-slate-200 disabled:text-gray-300 dark:disabled:text-slate-600 transition-colors mt-1",children:"Reset Defaults (Local)"})]})]})})]}),d.jsx(ti,{isOpen:fe,onClose:()=>Se(!1),onConfirm:()=>{window.open("https://y-g-jiang.github.io/CBLD.html","_blank"),Se(!1)},title:"Black Level Info / ",confirmText:"Visit Database (CBLD)",cancelText:"Close",message:d.jsxs("div",{className:"flex flex-col gap-4 text-left text-sm text-gray-600 dark:text-slate-300",children:[d.jsxs("p",{className:"leading-relaxed",children:["JiangBridge/JiangBridge",d.jsx("a",{href:"https://y-g-jiang.github.io/CBLD.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline mx-1 font-bold",children:"CBLD.html"}),""]}),d.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 w-full"}),d.jsxs("p",{className:"leading-relaxed",children:["Autofills when JiangBridge is detected. If no result is found or JiangBridge is missing, please check the",d.jsx("a",{href:"https://y-g-jiang.github.io/CBLD.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline mx-1 font-bold",children:"Black Level Database"}),"to find your camera model. However, manually capturing a dark frame with identical settings to calculate and input the values is highly recommended for higher decimal precision, as internal tags often lack accuracy."]})]})})]})},JA=()=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20 12H4"})}),eM=()=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})}),tM=()=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 4v5h5M4 12a8 8 0 0114.24-5.12M20 20v-5h-5M20 12a8 8 0 01-14.24 5.12"})}),rM=()=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 11.5V14m0-2.5v-6a1.5 1.5 0 113 0m-3 6a1.5 1.5 0 00-3 0v2a7.5 7.5 0 0015 0v-5a1.5 1.5 0 00-3 0m-6-3V11m0-5.5v-1a1.5 1.5 0 013 0v1m0 0V11m0-5.5a1.5 1.5 0 013 0v3m0 0V11"})}),nM=()=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 4l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})}),D0=.1,L0=16,aM=Math.log(D0),oM=Math.log(L0),iM=({zoom:e,onZoomChange:t,onResetView:r,touchAction:n,onToggleTouchAction:a})=>{const o=c=>{const f=parseFloat(c.target.value),u=Math.exp(f);t(Math.max(D0,Math.min(L0,u)))},i=()=>{t(Math.min(L0,e*1.25))},s=()=>{t(Math.max(D0,e/1.25))},l=Math.log(e);return d.jsxs("div",{className:"absolute top-4 right-4 flex gap-2",onClick:c=>c.stopPropagation(),children:[d.jsx("div",{className:"bg-white/90 dark:bg-slate-800/70 backdrop-blur-sm p-2 rounded-lg border border-gray-200 dark:border-slate-700 flex items-center shadow-lg transition-colors duration-300",children:d.jsx("button",{onClick:a,className:`p-1.5 rounded-md transition-colors flex items-center justify-center ${n==="select"?"bg-cyan-100 text-cyan-600 dark:bg-cyan-900/50 dark:text-cyan-400 ring-2 ring-cyan-500/50":"text-gray-500 dark:text-slate-400 hover:bg-gray-100 dark:hover:bg-slate-700"}`,title:n==="select"?"Mode: Selection (Drag to Select)":"Mode: Pan (Drag to Move)",children:n==="select"?d.jsx(nM,{}):d.jsx(rM,{})})}),d.jsxs("div",{className:"bg-white/90 dark:bg-slate-800/70 backdrop-blur-sm p-2 rounded-lg border border-gray-200 dark:border-slate-700 flex items-center gap-2 text-gray-700 dark:text-slate-300 shadow-lg transition-colors duration-300",children:[d.jsx("button",{onClick:s,className:"p-1 rounded-md hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",title:"Zoom Out","aria-label":"Zoom Out",children:d.jsx(JA,{})}),d.jsx("input",{type:"range",min:aM,max:oM,step:"0.01",value:l,onChange:o,className:"w-24 sm:w-32 h-2 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-cyan-500","aria-label":"Zoom slider"}),d.jsx("button",{onClick:i,className:"p-1 rounded-md hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",title:"Zoom In","aria-label":"Zoom In",children:d.jsx(eM,{})}),d.jsxs("span",{className:"w-16 text-center font-mono text-sm","aria-live":"polite",children:[(e*100).toFixed(0),"%"]}),d.jsx("button",{onClick:r,className:"p-1 rounded-md hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",title:"Reset View","aria-label":"Reset View",children:d.jsx(tM,{})})]})]})},sM=({theme:e,setTheme:t})=>{const r=()=>{t(e==="light"?"dark":"light")};return d.jsx("button",{onClick:r,className:"fixed bottom-6 right-6 z-50 p-3 rounded-full bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 shadow-lg text-gray-800 dark:text-yellow-400 hover:bg-gray-100 dark:hover:bg-slate-700 transition-all duration-300",title:`Switch to ${e==="light"?"dark":"light"} mode`,children:e==="light"?d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-slate-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}):d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})})})};function DS(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=DS(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Je(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=DS(e))&&(n&&(n+=" "),n+=t);return n}var lM=Array.isArray,dn=lM,cM=typeof iu=="object"&&iu&&iu.Object===Object&&iu,LS=cM,uM=LS,fM=typeof self=="object"&&self&&self.Object===Object&&self,dM=uM||fM||Function("return this")(),_a=dM,hM=_a,pM=hM.Symbol,Xc=pM,jx=Xc,RS=Object.prototype,gM=RS.hasOwnProperty,mM=RS.toString,hl=jx?jx.toStringTag:void 0;function yM(e){var t=gM.call(e,hl),r=e[hl];try{e[hl]=void 0;var n=!0}catch{}var a=mM.call(e);return n&&(t?e[hl]=r:delete e[hl]),a}var vM=yM,xM=Object.prototype,bM=xM.toString;function wM(e){return bM.call(e)}var kM=wM,Ox=Xc,SM=vM,jM=kM,OM="[object Null]",_M="[object Undefined]",_x=Ox?Ox.toStringTag:void 0;function PM(e){return e==null?e===void 0?_M:OM:_x&&_x in Object(e)?SM(e):jM(e)}var qa=PM;function NM(e){return e!=null&&typeof e=="object"}var Ya=NM,AM=qa,MM=Ya,CM="[object Symbol]";function EM(e){return typeof e=="symbol"||MM(e)&&AM(e)==CM}var Bs=EM,TM=dn,$M=Bs,DM=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,LM=/^\w*$/;function RM(e,t){if(TM(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||$M(e)?!0:LM.test(e)||!DM.test(e)||t!=null&&e in Object(t)}var oy=RM;function IM(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Mo=IM;const Fs=Mt(Mo);var BM=qa,FM=Mo,zM="[object AsyncFunction]",WM="[object Function]",UM="[object GeneratorFunction]",GM="[object Proxy]";function HM(e){if(!FM(e))return!1;var t=BM(e);return t==WM||t==UM||t==zM||t==GM}var iy=HM;const Re=Mt(iy);var VM=_a,KM=VM["__core-js_shared__"],XM=KM,lp=XM,Px=function(){var e=/[^.]+$/.exec(lp&&lp.keys&&lp.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function qM(e){return!!Px&&Px in e}var YM=qM,QM=Function.prototype,ZM=QM.toString;function JM(e){if(e!=null){try{return ZM.call(e)}catch{}try{return e+""}catch{}}return""}var IS=JM,eC=iy,tC=YM,rC=Mo,nC=IS,aC=/[\\^$.*+?()[\]{}|]/g,oC=/^\[object .+?Constructor\]$/,iC=Function.prototype,sC=Object.prototype,lC=iC.toString,cC=sC.hasOwnProperty,uC=RegExp("^"+lC.call(cC).replace(aC,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function fC(e){if(!rC(e)||tC(e))return!1;var t=eC(e)?uC:oC;return t.test(nC(e))}var dC=fC;function hC(e,t){return e==null?void 0:e[t]}var pC=hC,gC=dC,mC=pC;function yC(e,t){var r=mC(e,t);return gC(r)?r:void 0}var xi=yC,vC=xi,xC=vC(Object,"create"),Ud=xC,Nx=Ud;function bC(){this.__data__=Nx?Nx(null):{},this.size=0}var wC=bC;function kC(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var SC=kC,jC=Ud,OC="__lodash_hash_undefined__",_C=Object.prototype,PC=_C.hasOwnProperty;function NC(e){var t=this.__data__;if(jC){var r=t[e];return r===OC?void 0:r}return PC.call(t,e)?t[e]:void 0}var AC=NC,MC=Ud,CC=Object.prototype,EC=CC.hasOwnProperty;function TC(e){var t=this.__data__;return MC?t[e]!==void 0:EC.call(t,e)}var $C=TC,DC=Ud,LC="__lodash_hash_undefined__";function RC(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=DC&&t===void 0?LC:t,this}var IC=RC,BC=wC,FC=SC,zC=AC,WC=$C,UC=IC;function zs(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}zs.prototype.clear=BC;zs.prototype.delete=FC;zs.prototype.get=zC;zs.prototype.has=WC;zs.prototype.set=UC;var GC=zs;function HC(){this.__data__=[],this.size=0}var VC=HC;function KC(e,t){return e===t||e!==e&&t!==t}var sy=KC,XC=sy;function qC(e,t){for(var r=e.length;r--;)if(XC(e[r][0],t))return r;return-1}var Gd=qC,YC=Gd,QC=Array.prototype,ZC=QC.splice;function JC(e){var t=this.__data__,r=YC(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():ZC.call(t,r,1),--this.size,!0}var eE=JC,tE=Gd;function rE(e){var t=this.__data__,r=tE(t,e);return r<0?void 0:t[r][1]}var nE=rE,aE=Gd;function oE(e){return aE(this.__data__,e)>-1}var iE=oE,sE=Gd;function lE(e,t){var r=this.__data__,n=sE(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var cE=lE,uE=VC,fE=eE,dE=nE,hE=iE,pE=cE;function Ws(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ws.prototype.clear=uE;Ws.prototype.delete=fE;Ws.prototype.get=dE;Ws.prototype.has=hE;Ws.prototype.set=pE;var Hd=Ws,gE=xi,mE=_a,yE=gE(mE,"Map"),ly=yE,Ax=GC,vE=Hd,xE=ly;function bE(){this.size=0,this.__data__={hash:new Ax,map:new(xE||vE),string:new Ax}}var wE=bE;function kE(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var SE=kE,jE=SE;function OE(e,t){var r=e.__data__;return jE(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Vd=OE,_E=Vd;function PE(e){var t=_E(this,e).delete(e);return this.size-=t?1:0,t}var NE=PE,AE=Vd;function ME(e){return AE(this,e).get(e)}var CE=ME,EE=Vd;function TE(e){return EE(this,e).has(e)}var $E=TE,DE=Vd;function LE(e,t){var r=DE(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var RE=LE,IE=wE,BE=NE,FE=CE,zE=$E,WE=RE;function Us(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Us.prototype.clear=IE;Us.prototype.delete=BE;Us.prototype.get=FE;Us.prototype.has=zE;Us.prototype.set=WE;var cy=Us,BS=cy,UE="Expected a function";function uy(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(UE);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],o=r.cache;if(o.has(a))return o.get(a);var i=e.apply(this,n);return r.cache=o.set(a,i)||o,i};return r.cache=new(uy.Cache||BS),r}uy.Cache=BS;var FS=uy;const GE=Mt(FS);var HE=FS,VE=500;function KE(e){var t=HE(e,function(n){return r.size===VE&&r.clear(),n}),r=t.cache;return t}var XE=KE,qE=XE,YE=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,QE=/\\(\\)?/g,ZE=qE(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(YE,function(r,n,a,o){t.push(a?o.replace(QE,"$1"):n||r)}),t}),JE=ZE;function eT(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var fy=eT,Mx=Xc,tT=fy,rT=dn,nT=Bs,Cx=Mx?Mx.prototype:void 0,Ex=Cx?Cx.toString:void 0;function zS(e){if(typeof e=="string")return e;if(rT(e))return tT(e,zS)+"";if(nT(e))return Ex?Ex.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var aT=zS,oT=aT;function iT(e){return e==null?"":oT(e)}var WS=iT,sT=dn,lT=oy,cT=JE,uT=WS;function fT(e,t){return sT(e)?e:lT(e,t)?[e]:cT(uT(e))}var US=fT,dT=Bs;function hT(e){if(typeof e=="string"||dT(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Kd=hT,pT=US,gT=Kd;function mT(e,t){t=pT(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[gT(t[r++])];return r&&r==n?e:void 0}var dy=mT,yT=dy;function vT(e,t,r){var n=e==null?void 0:yT(e,t);return n===void 0?r:n}var GS=vT;const Bn=Mt(GS);function xT(e){return e==null}var bT=xT;const De=Mt(bT);var wT=qa,kT=dn,ST=Ya,jT="[object String]";function OT(e){return typeof e=="string"||!kT(e)&&ST(e)&&wT(e)==jT}var _T=OT;const ui=Mt(_T);var HS={exports:{}},wt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hy=Symbol.for("react.element"),py=Symbol.for("react.portal"),Xd=Symbol.for("react.fragment"),qd=Symbol.for("react.strict_mode"),Yd=Symbol.for("react.profiler"),Qd=Symbol.for("react.provider"),Zd=Symbol.for("react.context"),PT=Symbol.for("react.server_context"),Jd=Symbol.for("react.forward_ref"),eh=Symbol.for("react.suspense"),th=Symbol.for("react.suspense_list"),rh=Symbol.for("react.memo"),nh=Symbol.for("react.lazy"),NT=Symbol.for("react.offscreen"),VS;VS=Symbol.for("react.module.reference");function Un(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case hy:switch(e=e.type,e){case Xd:case Yd:case qd:case eh:case th:return e;default:switch(e=e&&e.$$typeof,e){case PT:case Zd:case Jd:case nh:case rh:case Qd:return e;default:return t}}case py:return t}}}wt.ContextConsumer=Zd;wt.ContextProvider=Qd;wt.Element=hy;wt.ForwardRef=Jd;wt.Fragment=Xd;wt.Lazy=nh;wt.Memo=rh;wt.Portal=py;wt.Profiler=Yd;wt.StrictMode=qd;wt.Suspense=eh;wt.SuspenseList=th;wt.isAsyncMode=function(){return!1};wt.isConcurrentMode=function(){return!1};wt.isContextConsumer=function(e){return Un(e)===Zd};wt.isContextProvider=function(e){return Un(e)===Qd};wt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===hy};wt.isForwardRef=function(e){return Un(e)===Jd};wt.isFragment=function(e){return Un(e)===Xd};wt.isLazy=function(e){return Un(e)===nh};wt.isMemo=function(e){return Un(e)===rh};wt.isPortal=function(e){return Un(e)===py};wt.isProfiler=function(e){return Un(e)===Yd};wt.isStrictMode=function(e){return Un(e)===qd};wt.isSuspense=function(e){return Un(e)===eh};wt.isSuspenseList=function(e){return Un(e)===th};wt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Xd||e===Yd||e===qd||e===eh||e===th||e===NT||typeof e=="object"&&e!==null&&(e.$$typeof===nh||e.$$typeof===rh||e.$$typeof===Qd||e.$$typeof===Zd||e.$$typeof===Jd||e.$$typeof===VS||e.getModuleId!==void 0)};wt.typeOf=Un;HS.exports=wt;var AT=HS.exports,MT=qa,CT=Ya,ET="[object Number]";function TT(e){return typeof e=="number"||CT(e)&&MT(e)==ET}var KS=TT;const $T=Mt(KS);var DT=KS;function LT(e){return DT(e)&&e!=+e}var RT=LT;const Gs=Mt(RT);var na=function(t){return t===0?0:t>0?1:-1},Ko=function(t){return ui(t)&&t.indexOf("%")===t.length-1},ie=function(t){return $T(t)&&!Gs(t)},IT=function(t){return De(t)},pr=function(t){return ie(t)||ui(t)},BT=0,bi=function(t){var r=++BT;return"".concat(t||"").concat(r)},fi=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ie(t)&&!ui(t))return n;var o;if(Ko(t)){var i=t.indexOf("%");o=r*parseFloat(t.slice(0,i))/100}else o=+t;return Gs(o)&&(o=n),a&&o>r&&(o=r),o},co=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},FT=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},rr=function(t,r){return ie(t)&&ie(r)?function(n){return t+n*(r-t)}:function(){return r}};function Sf(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Bn(n,t))===r})}var zT=function(t){if(!t||!t.length)return null;for(var r=t.length,n=0,a=0,o=0,i=0,s=1/0,l=-1/0,c=0,f=0,u=0;u<r;u++)c=t[u].cx||0,f=t[u].cy||0,n+=c,a+=f,o+=c*f,i+=c*c,s=Math.min(s,c),l=Math.max(l,c);var h=r*i!==n*n?(r*o-n*a)/(r*i-n*n):0;return{xmin:s,xmax:l,a:h,b:(a-h*n)/r}},WT=function(t,r){return ie(t)&&ie(r)?t-r:ui(t)&&ui(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Ji(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function R0(e){"@babel/helpers - typeof";return R0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R0(e)}var UT=["viewBox","children"],GT=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Tx=["points","pathLength"],cp={svg:UT,polygon:Tx,polyline:Tx},gy=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],jf=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(O.isValidElement(t)&&(n=t.props),!Fs(n))return null;var a={};return Object.keys(n).forEach(function(o){gy.includes(o)&&(a[o]=r||function(i){return n[o](n,i)})}),a},HT=function(t,r,n){return function(a){return t(r,n,a),null}},sc=function(t,r,n){if(!Fs(t)||R0(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(o){var i=t[o];gy.includes(o)&&typeof i=="function"&&(a||(a={}),a[o]=HT(i,r,n))}),a},VT=["children"],KT=["children"];function $x(e,t){if(e==null)return{};var r=XT(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function XT(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function I0(e){"@babel/helpers - typeof";return I0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I0(e)}var Dx={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ra=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},Lx=null,up=null,my=function e(t){if(t===Lx&&Array.isArray(up))return up;var r=[];return O.Children.forEach(t,function(n){De(n)||(AT.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),up=r,Lx=t,r};function fn(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return Ra(a)}):n=[Ra(t)],my(e).forEach(function(a){var o=Bn(a,"type.displayName")||Bn(a,"type.name");n.indexOf(o)!==-1&&r.push(a)}),r}function yn(e,t){var r=fn(e,t);return r&&r[0]}var Rx=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!ie(n)||n<=0||!ie(a)||a<=0)},qT=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],YT=function(t){return t&&t.type&&ui(t.type)&&qT.indexOf(t.type)>=0},XS=function(t){return t&&I0(t)==="object"&&"clipDot"in t},QT=function(t,r,n,a){var o,i=(o=cp==null?void 0:cp[a])!==null&&o!==void 0?o:[];return r.startsWith("data-")||!Re(t)&&(a&&i.includes(r)||GT.includes(r))||n&&gy.includes(r)},Le=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(O.isValidElement(t)&&(a=t.props),!Fs(a))return null;var o={};return Object.keys(a).forEach(function(i){var s;QT((s=a)===null||s===void 0?void 0:s[i],i,r,n)&&(o[i]=a[i])}),o},B0=function e(t,r){if(t===r)return!0;var n=O.Children.count(t);if(n!==O.Children.count(r))return!1;if(n===0)return!0;if(n===1)return Ix(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var o=t[a],i=r[a];if(Array.isArray(o)||Array.isArray(i)){if(!e(o,i))return!1}else if(!Ix(o,i))return!1}return!0},Ix=function(t,r){if(De(t)&&De(r))return!0;if(!De(t)&&!De(r)){var n=t.props||{},a=n.children,o=$x(n,VT),i=r.props||{},s=i.children,l=$x(i,KT);return a&&s?Ji(o,l)&&B0(a,s):!a&&!s?Ji(o,l):!1}return!1},Bx=function(t,r){var n=[],a={};return my(t).forEach(function(o,i){if(YT(o))n.push(o);else if(o){var s=Ra(o.type),l=r[s]||{},c=l.handler,f=l.once;if(c&&(!f||!a[s])){var u=c(o,s,i);n.push(u),a[s]=!0}}}),n},ZT=function(t){var r=t&&t.type;return r&&Dx[r]?Dx[r]:null},JT=function(t,r){return my(r).indexOf(t)},e$=["children","width","height","viewBox","className","style","title","desc"];function F0(){return F0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},F0.apply(this,arguments)}function t$(e,t){if(e==null)return{};var r=r$(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function r$(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function z0(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,o=e.className,i=e.style,s=e.title,l=e.desc,c=t$(e,e$),f=a||{width:r,height:n,x:0,y:0},u=Je("recharts-surface",o);return M.createElement("svg",F0({},Le(c,!0,"svg"),{className:u,width:r,height:n,style:i,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),M.createElement("title",null,s),M.createElement("desc",null,l),t)}var n$=["children","className"];function W0(){return W0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},W0.apply(this,arguments)}function a$(e,t){if(e==null)return{};var r=o$(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function o$(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var ut=M.forwardRef(function(e,t){var r=e.children,n=e.className,a=a$(e,n$),o=Je("recharts-layer",n);return M.createElement("g",W0({className:o},Le(a,!0),{ref:t}),r)}),Ia=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o]};function i$(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(a);++n<a;)o[n]=e[n+t];return o}var s$=i$,l$=s$;function c$(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:l$(e,t,r)}var u$=c$,f$="\\ud800-\\udfff",d$="\\u0300-\\u036f",h$="\\ufe20-\\ufe2f",p$="\\u20d0-\\u20ff",g$=d$+h$+p$,m$="\\ufe0e\\ufe0f",y$="\\u200d",v$=RegExp("["+y$+f$+g$+m$+"]");function x$(e){return v$.test(e)}var qS=x$;function b$(e){return e.split("")}var w$=b$,YS="\\ud800-\\udfff",k$="\\u0300-\\u036f",S$="\\ufe20-\\ufe2f",j$="\\u20d0-\\u20ff",O$=k$+S$+j$,_$="\\ufe0e\\ufe0f",P$="["+YS+"]",U0="["+O$+"]",G0="\\ud83c[\\udffb-\\udfff]",N$="(?:"+U0+"|"+G0+")",QS="[^"+YS+"]",ZS="(?:\\ud83c[\\udde6-\\uddff]){2}",JS="[\\ud800-\\udbff][\\udc00-\\udfff]",A$="\\u200d",ej=N$+"?",tj="["+_$+"]?",M$="(?:"+A$+"(?:"+[QS,ZS,JS].join("|")+")"+tj+ej+")*",C$=tj+ej+M$,E$="(?:"+[QS+U0+"?",U0,ZS,JS,P$].join("|")+")",T$=RegExp(G0+"(?="+G0+")|"+E$+C$,"g");function $$(e){return e.match(T$)||[]}var D$=$$,L$=w$,R$=qS,I$=D$;function B$(e){return R$(e)?I$(e):L$(e)}var F$=B$,z$=u$,W$=qS,U$=F$,G$=WS;function H$(e){return function(t){t=G$(t);var r=W$(t)?U$(t):void 0,n=r?r[0]:t.charAt(0),a=r?z$(r,1).join(""):t.slice(1);return n[e]()+a}}var V$=H$,K$=V$,X$=K$("toUpperCase"),q$=X$;const ah=Mt(q$);function Ct(e){return function(){return e}}const rj=Math.cos,Of=Math.sin,ua=Math.sqrt,_f=Math.PI,oh=2*_f,H0=Math.PI,V0=2*H0,zo=1e-6,Y$=V0-zo;function nj(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Q$(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return nj;const r=10**t;return function(n){this._+=n[0];for(let a=1,o=n.length;a<o;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class Z${constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?nj:Q$(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,o,i){this._append`C${+t},${+r},${+n},${+a},${this._x1=+o},${this._y1=+i}`}arcTo(t,r,n,a,o){if(t=+t,r=+r,n=+n,a=+a,o=+o,o<0)throw new Error(`negative radius: ${o}`);let i=this._x1,s=this._y1,l=n-t,c=a-r,f=i-t,u=s-r,h=f*f+u*u;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>zo)if(!(Math.abs(u*l-c*f)>zo)||!o)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-i,m=a-s,w=l*l+c*c,b=p*p+m*m,y=Math.sqrt(w),g=Math.sqrt(h),v=o*Math.tan((H0-Math.acos((w+h-b)/(2*y*g)))/2),S=v/g,x=v/y;Math.abs(S-1)>zo&&this._append`L${t+S*f},${r+S*u}`,this._append`A${o},${o},0,0,${+(u*p>f*m)},${this._x1=t+x*l},${this._y1=r+x*c}`}}arc(t,r,n,a,o,i){if(t=+t,r=+r,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(a),l=n*Math.sin(a),c=t+s,f=r+l,u=1^i,h=i?a-o:o-a;this._x1===null?this._append`M${c},${f}`:(Math.abs(this._x1-c)>zo||Math.abs(this._y1-f)>zo)&&this._append`L${c},${f}`,n&&(h<0&&(h=h%V0+V0),h>Y$?this._append`A${n},${n},0,1,${u},${t-s},${r-l}A${n},${n},0,1,${u},${this._x1=c},${this._y1=f}`:h>zo&&this._append`A${n},${n},0,${+(h>=H0)},${u},${this._x1=t+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function yy(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new Z$(t)}function vy(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function aj(e){this._context=e}aj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function ih(e){return new aj(e)}function oj(e){return e[0]}function ij(e){return e[1]}function sj(e,t){var r=Ct(!0),n=null,a=ih,o=null,i=yy(s);e=typeof e=="function"?e:e===void 0?oj:Ct(e),t=typeof t=="function"?t:t===void 0?ij:Ct(t);function s(l){var c,f=(l=vy(l)).length,u,h=!1,p;for(n==null&&(o=a(p=i())),c=0;c<=f;++c)!(c<f&&r(u=l[c],c,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+e(u,c,l),+t(u,c,l));if(p)return o=null,p+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:Ct(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:Ct(+l),s):t},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Ct(!!l),s):r},s.curve=function(l){return arguments.length?(a=l,n!=null&&(o=a(n)),s):a},s.context=function(l){return arguments.length?(l==null?n=o=null:o=a(n=l),s):n},s}function Ou(e,t,r){var n=null,a=Ct(!0),o=null,i=ih,s=null,l=yy(c);e=typeof e=="function"?e:e===void 0?oj:Ct(+e),t=typeof t=="function"?t:Ct(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?ij:Ct(+r);function c(u){var h,p,m,w=(u=vy(u)).length,b,y=!1,g,v=new Array(w),S=new Array(w);for(o==null&&(s=i(g=l())),h=0;h<=w;++h){if(!(h<w&&a(b=u[h],h,u))===y)if(y=!y)p=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),m=h-1;m>=p;--m)s.point(v[m],S[m]);s.lineEnd(),s.areaEnd()}y&&(v[h]=+e(b,h,u),S[h]=+t(b,h,u),s.point(n?+n(b,h,u):v[h],r?+r(b,h,u):S[h]))}if(g)return s=null,g+""||null}function f(){return sj().defined(a).curve(i).context(o)}return c.x=function(u){return arguments.length?(e=typeof u=="function"?u:Ct(+u),n=null,c):e},c.x0=function(u){return arguments.length?(e=typeof u=="function"?u:Ct(+u),c):e},c.x1=function(u){return arguments.length?(n=u==null?null:typeof u=="function"?u:Ct(+u),c):n},c.y=function(u){return arguments.length?(t=typeof u=="function"?u:Ct(+u),r=null,c):t},c.y0=function(u){return arguments.length?(t=typeof u=="function"?u:Ct(+u),c):t},c.y1=function(u){return arguments.length?(r=u==null?null:typeof u=="function"?u:Ct(+u),c):r},c.lineX0=c.lineY0=function(){return f().x(e).y(t)},c.lineY1=function(){return f().x(e).y(r)},c.lineX1=function(){return f().x(n).y(t)},c.defined=function(u){return arguments.length?(a=typeof u=="function"?u:Ct(!!u),c):a},c.curve=function(u){return arguments.length?(i=u,o!=null&&(s=i(o)),c):i},c.context=function(u){return arguments.length?(u==null?o=s=null:s=i(o=u),c):o},c}class lj{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function J$(e){return new lj(e,!0)}function e5(e){return new lj(e,!1)}const xy={draw(e,t){const r=ua(t/_f);e.moveTo(r,0),e.arc(0,0,r,0,oh)}},t5={draw(e,t){const r=ua(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},cj=ua(1/3),r5=cj*2,n5={draw(e,t){const r=ua(t/r5),n=r*cj;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},a5={draw(e,t){const r=ua(t),n=-r/2;e.rect(n,n,r,r)}},o5=.8908130915292852,uj=Of(_f/10)/Of(7*_f/10),i5=Of(oh/10)*uj,s5=-rj(oh/10)*uj,l5={draw(e,t){const r=ua(t*o5),n=i5*r,a=s5*r;e.moveTo(0,-r),e.lineTo(n,a);for(let o=1;o<5;++o){const i=oh*o/5,s=rj(i),l=Of(i);e.lineTo(l*r,-s*r),e.lineTo(s*n-l*a,l*n+s*a)}e.closePath()}},fp=ua(3),c5={draw(e,t){const r=-ua(t/(fp*3));e.moveTo(0,r*2),e.lineTo(-fp*r,-r),e.lineTo(fp*r,-r),e.closePath()}},An=-.5,Mn=ua(3)/2,K0=1/ua(12),u5=(K0/2+1)*3,f5={draw(e,t){const r=ua(t/u5),n=r/2,a=r*K0,o=n,i=r*K0+r,s=-o,l=i;e.moveTo(n,a),e.lineTo(o,i),e.lineTo(s,l),e.lineTo(An*n-Mn*a,Mn*n+An*a),e.lineTo(An*o-Mn*i,Mn*o+An*i),e.lineTo(An*s-Mn*l,Mn*s+An*l),e.lineTo(An*n+Mn*a,An*a-Mn*n),e.lineTo(An*o+Mn*i,An*i-Mn*o),e.lineTo(An*s+Mn*l,An*l-Mn*s),e.closePath()}};function d5(e,t){let r=null,n=yy(a);e=typeof e=="function"?e:Ct(e||xy),t=typeof t=="function"?t:Ct(t===void 0?64:+t);function a(){let o;if(r||(r=o=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),o)return r=null,o+""||null}return a.type=function(o){return arguments.length?(e=typeof o=="function"?o:Ct(o),a):e},a.size=function(o){return arguments.length?(t=typeof o=="function"?o:Ct(+o),a):t},a.context=function(o){return arguments.length?(r=o??null,a):r},a}function Pf(){}function Nf(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function fj(e){this._context=e}fj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Nf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Nf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function h5(e){return new fj(e)}function dj(e){this._context=e}dj.prototype={areaStart:Pf,areaEnd:Pf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Nf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function p5(e){return new dj(e)}function hj(e){this._context=e}hj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Nf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function g5(e){return new hj(e)}function pj(e){this._context=e}pj.prototype={areaStart:Pf,areaEnd:Pf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function m5(e){return new pj(e)}function Fx(e){return e<0?-1:1}function zx(e,t,r){var n=e._x1-e._x0,a=t-e._x1,o=(e._y1-e._y0)/(n||a<0&&-0),i=(r-e._y1)/(a||n<0&&-0),s=(o*a+i*n)/(n+a);return(Fx(o)+Fx(i))*Math.min(Math.abs(o),Math.abs(i),.5*Math.abs(s))||0}function Wx(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function dp(e,t,r){var n=e._x0,a=e._y0,o=e._x1,i=e._y1,s=(o-n)/3;e._context.bezierCurveTo(n+s,a+s*t,o-s,i-s*r,o,i)}function Af(e){this._context=e}Af.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:dp(this,this._t0,Wx(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,dp(this,Wx(this,r=zx(this,e,t)),r);break;default:dp(this,this._t0,r=zx(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function gj(e){this._context=new mj(e)}(gj.prototype=Object.create(Af.prototype)).point=function(e,t){Af.prototype.point.call(this,t,e)};function mj(e){this._context=e}mj.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,o){this._context.bezierCurveTo(t,e,n,r,o,a)}};function y5(e){return new Af(e)}function v5(e){return new gj(e)}function yj(e){this._context=e}yj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Ux(e),a=Ux(t),o=0,i=1;i<r;++o,++i)this._context.bezierCurveTo(n[0][o],a[0][o],n[1][o],a[1][o],e[i],t[i]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Ux(e){var t,r=e.length-1,n,a=new Array(r),o=new Array(r),i=new Array(r);for(a[0]=0,o[0]=2,i[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,o[t]=4,i[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,o[r-1]=7,i[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/o[t-1],o[t]-=n,i[t]-=n*i[t-1];for(a[r-1]=i[r-1]/o[r-1],t=r-2;t>=0;--t)a[t]=(i[t]-a[t+1])/o[t];for(o[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-a[t+1];return[a,o]}function x5(e){return new yj(e)}function sh(e,t){this._context=e,this._t=t}sh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function b5(e){return new sh(e,.5)}function w5(e){return new sh(e,0)}function k5(e){return new sh(e,1)}function cs(e,t){if((i=e.length)>1)for(var r=1,n,a,o=e[t[0]],i,s=o.length;r<i;++r)for(a=o,o=e[t[r]],n=0;n<s;++n)o[n][1]+=o[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function X0(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function S5(e,t){return e[t]}function j5(e){const t=[];return t.key=e,t}function O5(){var e=Ct([]),t=X0,r=cs,n=S5;function a(o){var i=Array.from(e.apply(this,arguments),j5),s,l=i.length,c=-1,f;for(const u of o)for(s=0,++c;s<l;++s)(i[s][c]=[0,+n(u,i[s].key,c,o)]).data=u;for(s=0,f=vy(t(i));s<l;++s)i[f[s]].index=s;return r(i,f),i}return a.keys=function(o){return arguments.length?(e=typeof o=="function"?o:Ct(Array.from(o)),a):e},a.value=function(o){return arguments.length?(n=typeof o=="function"?o:Ct(+o),a):n},a.order=function(o){return arguments.length?(t=o==null?X0:typeof o=="function"?o:Ct(Array.from(o)),a):t},a.offset=function(o){return arguments.length?(r=o??cs,a):r},a}function _5(e,t){if((n=e.length)>0){for(var r,n,a=0,o=e[0].length,i;a<o;++a){for(i=r=0;r<n;++r)i+=e[r][a][1]||0;if(i)for(r=0;r<n;++r)e[r][a][1]/=i}cs(e,t)}}function P5(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,o=n.length;r<o;++r){for(var i=0,s=0;i<a;++i)s+=e[i][r][1]||0;n[r][1]+=n[r][0]=-s/2}cs(e,t)}}function N5(e,t){if(!(!((i=e.length)>0)||!((o=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,o,i;n<o;++n){for(var s=0,l=0,c=0;s<i;++s){for(var f=e[t[s]],u=f[n][1]||0,h=f[n-1][1]||0,p=(u-h)/2,m=0;m<s;++m){var w=e[t[m]],b=w[n][1]||0,y=w[n-1][1]||0;p+=b-y}l+=u,c+=p*u}a[n-1][1]+=a[n-1][0]=r,l&&(r-=c/l)}a[n-1][1]+=a[n-1][0]=r,cs(e,t)}}function lc(e){"@babel/helpers - typeof";return lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lc(e)}var A5=["type","size","sizeType"];function q0(){return q0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},q0.apply(this,arguments)}function Gx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gx(Object(r),!0).forEach(function(n){M5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function M5(e,t,r){return t=C5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C5(e){var t=E5(e,"string");return lc(t)=="symbol"?t:t+""}function E5(e,t){if(lc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function T5(e,t){if(e==null)return{};var r=$5(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $5(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var vj={symbolCircle:xy,symbolCross:t5,symbolDiamond:n5,symbolSquare:a5,symbolStar:l5,symbolTriangle:c5,symbolWye:f5},D5=Math.PI/180,L5=function(t){var r="symbol".concat(ah(t));return vj[r]||xy},R5=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*D5;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},I5=function(t,r){vj["symbol".concat(ah(t))]=r},lh=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,o=a===void 0?64:a,i=t.sizeType,s=i===void 0?"area":i,l=T5(t,A5),c=Hx(Hx({},l),{},{type:n,size:o,sizeType:s}),f=function(){var b=L5(n),y=d5().type(b).size(R5(o,s,n));return y()},u=c.className,h=c.cx,p=c.cy,m=Le(c,!0);return h===+h&&p===+p&&o===+o?M.createElement("path",q0({},m,{className:Je("recharts-symbols",u),transform:"translate(".concat(h,", ").concat(p,")"),d:f()})):null};lh.registerSymbol=I5;function us(e){"@babel/helpers - typeof";return us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},us(e)}function Y0(){return Y0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Y0.apply(this,arguments)}function Vx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function B5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vx(Object(r),!0).forEach(function(n){cc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function F5(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bj(n.key),n)}}function W5(e,t,r){return t&&z5(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function U5(e,t,r){return t=Mf(t),G5(e,xj()?Reflect.construct(t,r||[],Mf(e).constructor):t.apply(e,r))}function G5(e,t){if(t&&(us(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return H5(e)}function H5(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xj(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xj=function(){return!!e})()}function Mf(e){return Mf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mf(e)}function V5(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Q0(e,t)}function Q0(e,t){return Q0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Q0(e,t)}function cc(e,t,r){return t=bj(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bj(e){var t=K5(e,"string");return us(t)=="symbol"?t:t+""}function K5(e,t){if(us(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(us(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Cn=32,by=function(e){function t(){return F5(this,t),U5(this,t,arguments)}return V5(t,e),W5(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,o=Cn/2,i=Cn/6,s=Cn/3,l=n.inactive?a:n.color;if(n.type==="plainline")return M.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:o,x2:Cn,y2:o,className:"recharts-legend-icon"});if(n.type==="line")return M.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(Cn,"M").concat(2*s,",").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(n.type==="rect")return M.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Cn/8,"h").concat(Cn,"v").concat(Cn*3/4,"h").concat(-Cn,"z"),className:"recharts-legend-icon"});if(M.isValidElement(n.legendIcon)){var c=B5({},n);return delete c.legendIcon,M.cloneElement(n.legendIcon,c)}return M.createElement(lh,{fill:l,cx:o,cy:o,size:Cn,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,o=a.payload,i=a.iconSize,s=a.layout,l=a.formatter,c=a.inactiveColor,f={x:0,y:0,width:Cn,height:Cn},u={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(p,m){var w=p.formatter||l,b=Je(cc(cc({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",p.inactive));if(p.type==="none")return null;var y=Re(p.value)?null:p.value;Ia(!Re(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var g=p.inactive?c:p.color;return M.createElement("li",Y0({className:b,style:u,key:"legend-item-".concat(m)},sc(n.props,p,m)),M.createElement(z0,{width:i,height:i,viewBox:f,style:h},n.renderIcon(p)),M.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},w?w(y,p,m):y))})}},{key:"render",value:function(){var n=this.props,a=n.payload,o=n.layout,i=n.align;if(!a||!a.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?i:"left"};return M.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(O.PureComponent);cc(by,"displayName","Legend");cc(by,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var X5=Hd;function q5(){this.__data__=new X5,this.size=0}var Y5=q5;function Q5(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var Z5=Q5;function J5(e){return this.__data__.get(e)}var e4=J5;function t4(e){return this.__data__.has(e)}var r4=t4,n4=Hd,a4=ly,o4=cy,i4=200;function s4(e,t){var r=this.__data__;if(r instanceof n4){var n=r.__data__;if(!a4||n.length<i4-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new o4(n)}return r.set(e,t),this.size=r.size,this}var l4=s4,c4=Hd,u4=Y5,f4=Z5,d4=e4,h4=r4,p4=l4;function Hs(e){var t=this.__data__=new c4(e);this.size=t.size}Hs.prototype.clear=u4;Hs.prototype.delete=f4;Hs.prototype.get=d4;Hs.prototype.has=h4;Hs.prototype.set=p4;var wj=Hs,g4="__lodash_hash_undefined__";function m4(e){return this.__data__.set(e,g4),this}var y4=m4;function v4(e){return this.__data__.has(e)}var x4=v4,b4=cy,w4=y4,k4=x4;function Cf(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new b4;++t<r;)this.add(e[t])}Cf.prototype.add=Cf.prototype.push=w4;Cf.prototype.has=k4;var kj=Cf;function S4(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var Sj=S4;function j4(e,t){return e.has(t)}var jj=j4,O4=kj,_4=Sj,P4=jj,N4=1,A4=2;function M4(e,t,r,n,a,o){var i=r&N4,s=e.length,l=t.length;if(s!=l&&!(i&&l>s))return!1;var c=o.get(e),f=o.get(t);if(c&&f)return c==t&&f==e;var u=-1,h=!0,p=r&A4?new O4:void 0;for(o.set(e,t),o.set(t,e);++u<s;){var m=e[u],w=t[u];if(n)var b=i?n(w,m,u,t,e,o):n(m,w,u,e,t,o);if(b!==void 0){if(b)continue;h=!1;break}if(p){if(!_4(t,function(y,g){if(!P4(p,g)&&(m===y||a(m,y,r,n,o)))return p.push(g)})){h=!1;break}}else if(!(m===w||a(m,w,r,n,o))){h=!1;break}}return o.delete(e),o.delete(t),h}var Oj=M4,C4=_a,E4=C4.Uint8Array,T4=E4;function $4(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var D4=$4;function L4(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var wy=L4,Kx=Xc,Xx=T4,R4=sy,I4=Oj,B4=D4,F4=wy,z4=1,W4=2,U4="[object Boolean]",G4="[object Date]",H4="[object Error]",V4="[object Map]",K4="[object Number]",X4="[object RegExp]",q4="[object Set]",Y4="[object String]",Q4="[object Symbol]",Z4="[object ArrayBuffer]",J4="[object DataView]",qx=Kx?Kx.prototype:void 0,hp=qx?qx.valueOf:void 0;function e3(e,t,r,n,a,o,i){switch(r){case J4:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Z4:return!(e.byteLength!=t.byteLength||!o(new Xx(e),new Xx(t)));case U4:case G4:case K4:return R4(+e,+t);case H4:return e.name==t.name&&e.message==t.message;case X4:case Y4:return e==t+"";case V4:var s=B4;case q4:var l=n&z4;if(s||(s=F4),e.size!=t.size&&!l)return!1;var c=i.get(e);if(c)return c==t;n|=W4,i.set(e,t);var f=I4(s(e),s(t),n,a,o,i);return i.delete(e),f;case Q4:if(hp)return hp.call(e)==hp.call(t)}return!1}var t3=e3;function r3(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var _j=r3,n3=_j,a3=dn;function o3(e,t,r){var n=t(e);return a3(e)?n:n3(n,r(e))}var i3=o3;function s3(e,t){for(var r=-1,n=e==null?0:e.length,a=0,o=[];++r<n;){var i=e[r];t(i,r,e)&&(o[a++]=i)}return o}var l3=s3;function c3(){return[]}var u3=c3,f3=l3,d3=u3,h3=Object.prototype,p3=h3.propertyIsEnumerable,Yx=Object.getOwnPropertySymbols,g3=Yx?function(e){return e==null?[]:(e=Object(e),f3(Yx(e),function(t){return p3.call(e,t)}))}:d3,m3=g3;function y3(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var v3=y3,x3=qa,b3=Ya,w3="[object Arguments]";function k3(e){return b3(e)&&x3(e)==w3}var S3=k3,Qx=S3,j3=Ya,Pj=Object.prototype,O3=Pj.hasOwnProperty,_3=Pj.propertyIsEnumerable,P3=Qx(function(){return arguments}())?Qx:function(e){return j3(e)&&O3.call(e,"callee")&&!_3.call(e,"callee")},ky=P3,Ef={exports:{}};function N3(){return!1}var A3=N3;Ef.exports;(function(e,t){var r=_a,n=A3,a=t&&!t.nodeType&&t,o=a&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===a,s=i?r.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||n;e.exports=c})(Ef,Ef.exports);var Nj=Ef.exports,M3=9007199254740991,C3=/^(?:0|[1-9]\d*)$/;function E3(e,t){var r=typeof e;return t=t??M3,!!t&&(r=="number"||r!="symbol"&&C3.test(e))&&e>-1&&e%1==0&&e<t}var Sy=E3,T3=9007199254740991;function $3(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=T3}var jy=$3,D3=qa,L3=jy,R3=Ya,I3="[object Arguments]",B3="[object Array]",F3="[object Boolean]",z3="[object Date]",W3="[object Error]",U3="[object Function]",G3="[object Map]",H3="[object Number]",V3="[object Object]",K3="[object RegExp]",X3="[object Set]",q3="[object String]",Y3="[object WeakMap]",Q3="[object ArrayBuffer]",Z3="[object DataView]",J3="[object Float32Array]",eD="[object Float64Array]",tD="[object Int8Array]",rD="[object Int16Array]",nD="[object Int32Array]",aD="[object Uint8Array]",oD="[object Uint8ClampedArray]",iD="[object Uint16Array]",sD="[object Uint32Array]",Lt={};Lt[J3]=Lt[eD]=Lt[tD]=Lt[rD]=Lt[nD]=Lt[aD]=Lt[oD]=Lt[iD]=Lt[sD]=!0;Lt[I3]=Lt[B3]=Lt[Q3]=Lt[F3]=Lt[Z3]=Lt[z3]=Lt[W3]=Lt[U3]=Lt[G3]=Lt[H3]=Lt[V3]=Lt[K3]=Lt[X3]=Lt[q3]=Lt[Y3]=!1;function lD(e){return R3(e)&&L3(e.length)&&!!Lt[D3(e)]}var cD=lD;function uD(e){return function(t){return e(t)}}var Aj=uD,Tf={exports:{}};Tf.exports;(function(e,t){var r=LS,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===n,i=o&&r.process,s=function(){try{var l=a&&a.require&&a.require("util").types;return l||i&&i.binding&&i.binding("util")}catch{}}();e.exports=s})(Tf,Tf.exports);var fD=Tf.exports,dD=cD,hD=Aj,Zx=fD,Jx=Zx&&Zx.isTypedArray,pD=Jx?hD(Jx):dD,Mj=pD,gD=v3,mD=ky,yD=dn,vD=Nj,xD=Sy,bD=Mj,wD=Object.prototype,kD=wD.hasOwnProperty;function SD(e,t){var r=yD(e),n=!r&&mD(e),a=!r&&!n&&vD(e),o=!r&&!n&&!a&&bD(e),i=r||n||a||o,s=i?gD(e.length,String):[],l=s.length;for(var c in e)(t||kD.call(e,c))&&!(i&&(c=="length"||a&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||xD(c,l)))&&s.push(c);return s}var jD=SD,OD=Object.prototype;function _D(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||OD;return e===r}var PD=_D;function ND(e,t){return function(r){return e(t(r))}}var Cj=ND,AD=Cj,MD=AD(Object.keys,Object),CD=MD,ED=PD,TD=CD,$D=Object.prototype,DD=$D.hasOwnProperty;function LD(e){if(!ED(e))return TD(e);var t=[];for(var r in Object(e))DD.call(e,r)&&r!="constructor"&&t.push(r);return t}var RD=LD,ID=iy,BD=jy;function FD(e){return e!=null&&BD(e.length)&&!ID(e)}var qc=FD,zD=jD,WD=RD,UD=qc;function GD(e){return UD(e)?zD(e):WD(e)}var ch=GD,HD=i3,VD=m3,KD=ch;function XD(e){return HD(e,KD,VD)}var qD=XD,eb=qD,YD=1,QD=Object.prototype,ZD=QD.hasOwnProperty;function JD(e,t,r,n,a,o){var i=r&YD,s=eb(e),l=s.length,c=eb(t),f=c.length;if(l!=f&&!i)return!1;for(var u=l;u--;){var h=s[u];if(!(i?h in t:ZD.call(t,h)))return!1}var p=o.get(e),m=o.get(t);if(p&&m)return p==t&&m==e;var w=!0;o.set(e,t),o.set(t,e);for(var b=i;++u<l;){h=s[u];var y=e[h],g=t[h];if(n)var v=i?n(g,y,h,t,e,o):n(y,g,h,e,t,o);if(!(v===void 0?y===g||a(y,g,r,n,o):v)){w=!1;break}b||(b=h=="constructor")}if(w&&!b){var S=e.constructor,x=t.constructor;S!=x&&"constructor"in e&&"constructor"in t&&!(typeof S=="function"&&S instanceof S&&typeof x=="function"&&x instanceof x)&&(w=!1)}return o.delete(e),o.delete(t),w}var eL=JD,tL=xi,rL=_a,nL=tL(rL,"DataView"),aL=nL,oL=xi,iL=_a,sL=oL(iL,"Promise"),lL=sL,cL=xi,uL=_a,fL=cL(uL,"Set"),Ej=fL,dL=xi,hL=_a,pL=dL(hL,"WeakMap"),gL=pL,Z0=aL,J0=ly,eg=lL,tg=Ej,rg=gL,Tj=qa,Vs=IS,tb="[object Map]",mL="[object Object]",rb="[object Promise]",nb="[object Set]",ab="[object WeakMap]",ob="[object DataView]",yL=Vs(Z0),vL=Vs(J0),xL=Vs(eg),bL=Vs(tg),wL=Vs(rg),Wo=Tj;(Z0&&Wo(new Z0(new ArrayBuffer(1)))!=ob||J0&&Wo(new J0)!=tb||eg&&Wo(eg.resolve())!=rb||tg&&Wo(new tg)!=nb||rg&&Wo(new rg)!=ab)&&(Wo=function(e){var t=Tj(e),r=t==mL?e.constructor:void 0,n=r?Vs(r):"";if(n)switch(n){case yL:return ob;case vL:return tb;case xL:return rb;case bL:return nb;case wL:return ab}return t});var kL=Wo,pp=wj,SL=Oj,jL=t3,OL=eL,ib=kL,sb=dn,lb=Nj,_L=Mj,PL=1,cb="[object Arguments]",ub="[object Array]",_u="[object Object]",NL=Object.prototype,fb=NL.hasOwnProperty;function AL(e,t,r,n,a,o){var i=sb(e),s=sb(t),l=i?ub:ib(e),c=s?ub:ib(t);l=l==cb?_u:l,c=c==cb?_u:c;var f=l==_u,u=c==_u,h=l==c;if(h&&lb(e)){if(!lb(t))return!1;i=!0,f=!1}if(h&&!f)return o||(o=new pp),i||_L(e)?SL(e,t,r,n,a,o):jL(e,t,l,r,n,a,o);if(!(r&PL)){var p=f&&fb.call(e,"__wrapped__"),m=u&&fb.call(t,"__wrapped__");if(p||m){var w=p?e.value():e,b=m?t.value():t;return o||(o=new pp),a(w,b,r,n,o)}}return h?(o||(o=new pp),OL(e,t,r,n,a,o)):!1}var ML=AL,CL=ML,db=Ya;function $j(e,t,r,n,a){return e===t?!0:e==null||t==null||!db(e)&&!db(t)?e!==e&&t!==t:CL(e,t,r,n,$j,a)}var Oy=$j,EL=wj,TL=Oy,$L=1,DL=2;function LL(e,t,r,n){var a=r.length,o=a,i=!n;if(e==null)return!o;for(e=Object(e);a--;){var s=r[a];if(i&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<o;){s=r[a];var l=s[0],c=e[l],f=s[1];if(i&&s[2]){if(c===void 0&&!(l in e))return!1}else{var u=new EL;if(n)var h=n(c,f,l,e,t,u);if(!(h===void 0?TL(f,c,$L|DL,n,u):h))return!1}}return!0}var RL=LL,IL=Mo;function BL(e){return e===e&&!IL(e)}var Dj=BL,FL=Dj,zL=ch;function WL(e){for(var t=zL(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,FL(a)]}return t}var UL=WL;function GL(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var Lj=GL,HL=RL,VL=UL,KL=Lj;function XL(e){var t=VL(e);return t.length==1&&t[0][2]?KL(t[0][0],t[0][1]):function(r){return r===e||HL(r,e,t)}}var qL=XL;function YL(e,t){return e!=null&&t in Object(e)}var QL=YL,ZL=US,JL=ky,eR=dn,tR=Sy,rR=jy,nR=Kd;function aR(e,t,r){t=ZL(t,e);for(var n=-1,a=t.length,o=!1;++n<a;){var i=nR(t[n]);if(!(o=e!=null&&r(e,i)))break;e=e[i]}return o||++n!=a?o:(a=e==null?0:e.length,!!a&&rR(a)&&tR(i,a)&&(eR(e)||JL(e)))}var oR=aR,iR=QL,sR=oR;function lR(e,t){return e!=null&&sR(e,t,iR)}var cR=lR,uR=Oy,fR=GS,dR=cR,hR=oy,pR=Dj,gR=Lj,mR=Kd,yR=1,vR=2;function xR(e,t){return hR(e)&&pR(t)?gR(mR(e),t):function(r){var n=fR(r,e);return n===void 0&&n===t?dR(r,e):uR(t,n,yR|vR)}}var bR=xR;function wR(e){return e}var Ks=wR;function kR(e){return function(t){return t==null?void 0:t[e]}}var SR=kR,jR=dy;function OR(e){return function(t){return jR(t,e)}}var _R=OR,PR=SR,NR=_R,AR=oy,MR=Kd;function CR(e){return AR(e)?PR(MR(e)):NR(e)}var ER=CR,TR=qL,$R=bR,DR=Ks,LR=dn,RR=ER;function IR(e){return typeof e=="function"?e:e==null?DR:typeof e=="object"?LR(e)?$R(e[0],e[1]):TR(e):RR(e)}var Co=IR;function BR(e,t,r,n){for(var a=e.length,o=r+(n?1:-1);n?o--:++o<a;)if(t(e[o],o,e))return o;return-1}var Rj=BR;function FR(e){return e!==e}var zR=FR;function WR(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var UR=WR,GR=Rj,HR=zR,VR=UR;function KR(e,t,r){return t===t?VR(e,t,r):GR(e,HR,r)}var XR=KR,qR=XR;function YR(e,t){var r=e==null?0:e.length;return!!r&&qR(e,t,0)>-1}var QR=YR;function ZR(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var JR=ZR;function eI(){}var tI=eI,gp=Ej,rI=tI,nI=wy,aI=1/0,oI=gp&&1/nI(new gp([,-0]))[1]==aI?function(e){return new gp(e)}:rI,iI=oI,sI=kj,lI=QR,cI=JR,uI=jj,fI=iI,dI=wy,hI=200;function pI(e,t,r){var n=-1,a=lI,o=e.length,i=!0,s=[],l=s;if(r)i=!1,a=cI;else if(o>=hI){var c=t?null:fI(e);if(c)return dI(c);i=!1,a=uI,l=new sI}else l=t?[]:s;e:for(;++n<o;){var f=e[n],u=t?t(f):f;if(f=r||f!==0?f:0,i&&u===u){for(var h=l.length;h--;)if(l[h]===u)continue e;t&&l.push(u),s.push(f)}else a(l,u,r)||(l!==s&&l.push(u),s.push(f))}return s}var gI=pI,mI=Co,yI=gI;function vI(e,t){return e&&e.length?yI(e,mI(t)):[]}var xI=vI;const hb=Mt(xI);function Ij(e,t,r){return t===!0?hb(e,r):Re(t)?hb(e,t):e}function fs(e){"@babel/helpers - typeof";return fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fs(e)}var bI=["ref"];function pb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Na(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pb(Object(r),!0).forEach(function(n){uh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Fj(n.key),n)}}function kI(e,t,r){return t&&gb(e.prototype,t),r&&gb(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function SI(e,t,r){return t=$f(t),jI(e,Bj()?Reflect.construct(t,r||[],$f(e).constructor):t.apply(e,r))}function jI(e,t){if(t&&(fs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OI(e)}function OI(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bj(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Bj=function(){return!!e})()}function $f(e){return $f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$f(e)}function _I(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ng(e,t)}function ng(e,t){return ng=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ng(e,t)}function uh(e,t,r){return t=Fj(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fj(e){var t=PI(e,"string");return fs(t)=="symbol"?t:t+""}function PI(e,t){if(fs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function NI(e,t){if(e==null)return{};var r=AI(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function AI(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function MI(e){return e.value}function CI(e,t){if(M.isValidElement(e))return M.cloneElement(e,t);if(typeof e=="function")return M.createElement(e,t);t.ref;var r=NI(t,bI);return M.createElement(by,r)}var mb=1,Ba=function(e){function t(){var r;wI(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=SI(this,t,[].concat(a)),uh(r,"lastBoundingBox",{width:-1,height:-1}),r}return _I(t,e),kI(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>mb||Math.abs(a.height-this.lastBoundingBox.height)>mb)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Na({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,o=a.layout,i=a.align,s=a.verticalAlign,l=a.margin,c=a.chartWidth,f=a.chartHeight,u,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(i==="center"&&o==="vertical"){var p=this.getBBoxSnapshot();u={left:((c||0)-p.width)/2}}else u=i==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(s==="middle"){var m=this.getBBoxSnapshot();h={top:((f||0)-m.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Na(Na({},u),h)}},{key:"render",value:function(){var n=this,a=this.props,o=a.content,i=a.width,s=a.height,l=a.wrapperStyle,c=a.payloadUniqBy,f=a.payload,u=Na(Na({position:"absolute",width:i||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return M.createElement("div",{className:"recharts-legend-wrapper",style:u,ref:function(p){n.wrapperNode=p}},CI(o,Na(Na({},this.props),{},{payload:Ij(f,c,MI)})))}}],[{key:"getWithHeight",value:function(n,a){var o=Na(Na({},this.defaultProps),n.props),i=o.layout;return i==="vertical"&&ie(n.props.height)?{height:n.props.height}:i==="horizontal"?{width:n.props.width||a}:null}}])}(O.PureComponent);uh(Ba,"displayName","Legend");uh(Ba,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var yb=Xc,EI=ky,TI=dn,vb=yb?yb.isConcatSpreadable:void 0;function $I(e){return TI(e)||EI(e)||!!(vb&&e&&e[vb])}var DI=$I,LI=_j,RI=DI;function zj(e,t,r,n,a){var o=-1,i=e.length;for(r||(r=RI),a||(a=[]);++o<i;){var s=e[o];t>0&&r(s)?t>1?zj(s,t-1,r,n,a):LI(a,s):n||(a[a.length]=s)}return a}var Wj=zj;function II(e){return function(t,r,n){for(var a=-1,o=Object(t),i=n(t),s=i.length;s--;){var l=i[e?s:++a];if(r(o[l],l,o)===!1)break}return t}}var BI=II,FI=BI,zI=FI(),WI=zI,UI=WI,GI=ch;function HI(e,t){return e&&UI(e,t,GI)}var Uj=HI,VI=qc;function KI(e,t){return function(r,n){if(r==null)return r;if(!VI(r))return e(r,n);for(var a=r.length,o=t?a:-1,i=Object(r);(t?o--:++o<a)&&n(i[o],o,i)!==!1;);return r}}var XI=KI,qI=Uj,YI=XI,QI=YI(qI),_y=QI,ZI=_y,JI=qc;function e6(e,t){var r=-1,n=JI(e)?Array(e.length):[];return ZI(e,function(a,o,i){n[++r]=t(a,o,i)}),n}var Gj=e6;function t6(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var r6=t6,xb=Bs;function n6(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,o=xb(e),i=t!==void 0,s=t===null,l=t===t,c=xb(t);if(!s&&!c&&!o&&e>t||o&&i&&l&&!s&&!c||n&&i&&l||!r&&l||!a)return 1;if(!n&&!o&&!c&&e<t||c&&r&&a&&!n&&!o||s&&r&&a||!i&&a||!l)return-1}return 0}var a6=n6,o6=a6;function i6(e,t,r){for(var n=-1,a=e.criteria,o=t.criteria,i=a.length,s=r.length;++n<i;){var l=o6(a[n],o[n]);if(l){if(n>=s)return l;var c=r[n];return l*(c=="desc"?-1:1)}}return e.index-t.index}var s6=i6,mp=fy,l6=dy,c6=Co,u6=Gj,f6=r6,d6=Aj,h6=s6,p6=Ks,g6=dn;function m6(e,t,r){t.length?t=mp(t,function(o){return g6(o)?function(i){return l6(i,o.length===1?o[0]:o)}:o}):t=[p6];var n=-1;t=mp(t,d6(c6));var a=u6(e,function(o,i,s){var l=mp(t,function(c){return c(o)});return{criteria:l,index:++n,value:o}});return f6(a,function(o,i){return h6(o,i,r)})}var y6=m6;function v6(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var x6=v6,b6=x6,bb=Math.max;function w6(e,t,r){return t=bb(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,o=bb(n.length-t,0),i=Array(o);++a<o;)i[a]=n[t+a];a=-1;for(var s=Array(t+1);++a<t;)s[a]=n[a];return s[t]=r(i),b6(e,this,s)}}var k6=w6;function S6(e){return function(){return e}}var j6=S6,O6=xi,_6=function(){try{var e=O6(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Hj=_6,P6=j6,wb=Hj,N6=Ks,A6=wb?function(e,t){return wb(e,"toString",{configurable:!0,enumerable:!1,value:P6(t),writable:!0})}:N6,M6=A6,C6=800,E6=16,T6=Date.now;function $6(e){var t=0,r=0;return function(){var n=T6(),a=E6-(n-r);if(r=n,a>0){if(++t>=C6)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var D6=$6,L6=M6,R6=D6,I6=R6(L6),B6=I6,F6=Ks,z6=k6,W6=B6;function U6(e,t){return W6(z6(e,t,F6),e+"")}var G6=U6,H6=sy,V6=qc,K6=Sy,X6=Mo;function q6(e,t,r){if(!X6(r))return!1;var n=typeof t;return(n=="number"?V6(r)&&K6(t,r.length):n=="string"&&t in r)?H6(r[t],e):!1}var fh=q6,Y6=Wj,Q6=y6,Z6=G6,kb=fh,J6=Z6(function(e,t){if(e==null)return[];var r=t.length;return r>1&&kb(e,t[0],t[1])?t=[]:r>2&&kb(t[0],t[1],t[2])&&(t=[t[0]]),Q6(e,Y6(t,1),[])}),eB=J6;const Py=Mt(eB);function uc(e){"@babel/helpers - typeof";return uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uc(e)}function ag(){return ag=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ag.apply(this,arguments)}function tB(e,t){return oB(e)||aB(e,t)||nB(e,t)||rB()}function rB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nB(e,t){if(e){if(typeof e=="string")return Sb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Sb(e,t)}}function Sb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function aB(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function oB(e){if(Array.isArray(e))return e}function jb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jb(Object(r),!0).forEach(function(n){iB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iB(e,t,r){return t=sB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sB(e){var t=lB(e,"string");return uc(t)=="symbol"?t:t+""}function lB(e,t){if(uc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(uc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cB(e){return Array.isArray(e)&&pr(e[0])&&pr(e[1])?e.join(" ~ "):e}var uB=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,o=a===void 0?{}:a,i=t.itemStyle,s=i===void 0?{}:i,l=t.labelStyle,c=l===void 0?{}:l,f=t.payload,u=t.formatter,h=t.itemSorter,p=t.wrapperClassName,m=t.labelClassName,w=t.label,b=t.labelFormatter,y=t.accessibilityLayer,g=y===void 0?!1:y,v=function(){if(f&&f.length){var C={padding:0,margin:0},R=(h?Py(f,h):f).map(function(I,T){if(I.type==="none")return null;var L=yp({display:"block",paddingTop:4,paddingBottom:4,color:I.color||"#000"},s),U=I.formatter||u||cB,D=I.value,z=I.name,W=D,te=z;if(U&&W!=null&&te!=null){var Y=U(D,z,I,T,f);if(Array.isArray(Y)){var X=tB(Y,2);W=X[0],te=X[1]}else W=Y}return M.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(T),style:L},pr(te)?M.createElement("span",{className:"recharts-tooltip-item-name"},te):null,pr(te)?M.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,M.createElement("span",{className:"recharts-tooltip-item-value"},W),M.createElement("span",{className:"recharts-tooltip-item-unit"},I.unit||""))});return M.createElement("ul",{className:"recharts-tooltip-item-list",style:C},R)}return null},S=yp({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),x=yp({margin:0},c),k=!De(w),j=k?w:"",_=Je("recharts-default-tooltip",p),P=Je("recharts-tooltip-label",m);k&&b&&f!==void 0&&f!==null&&(j=b(w,f));var N=g?{role:"status","aria-live":"assertive"}:{};return M.createElement("div",ag({className:_,style:S},N),M.createElement("p",{className:P,style:x},M.isValidElement(j)?j:"".concat(j)),v())};function fc(e){"@babel/helpers - typeof";return fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fc(e)}function Pu(e,t,r){return t=fB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fB(e){var t=dB(e,"string");return fc(t)=="symbol"?t:t+""}function dB(e,t){if(fc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pl="recharts-tooltip-wrapper",hB={visibility:"hidden"};function pB(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Je(pl,Pu(Pu(Pu(Pu({},"".concat(pl,"-right"),ie(r)&&t&&ie(t.x)&&r>=t.x),"".concat(pl,"-left"),ie(r)&&t&&ie(t.x)&&r<t.x),"".concat(pl,"-bottom"),ie(n)&&t&&ie(t.y)&&n>=t.y),"".concat(pl,"-top"),ie(n)&&t&&ie(t.y)&&n<t.y))}function Ob(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,o=e.position,i=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(o&&ie(o[n]))return o[n];var f=r[n]-s-a,u=r[n]+a;if(t[n])return i[n]?f:u;if(i[n]){var h=f,p=l[n];return h<p?Math.max(u,l[n]):Math.max(f,l[n])}var m=u+s,w=l[n]+c;return m>w?Math.max(f,l[n]):Math.max(u,l[n])}function gB(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function mB(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,o=e.reverseDirection,i=e.tooltipBox,s=e.useTranslate3d,l=e.viewBox,c,f,u;return i.height>0&&i.width>0&&r?(f=Ob({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:o,tooltipDimension:i.width,viewBox:l,viewBoxDimension:l.width}),u=Ob({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:o,tooltipDimension:i.height,viewBox:l,viewBoxDimension:l.height}),c=gB({translateX:f,translateY:u,useTranslate3d:s})):c=hB,{cssProperties:c,cssClasses:pB({translateX:f,translateY:u,coordinate:r})}}function ds(e){"@babel/helpers - typeof";return ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ds(e)}function _b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_b(Object(r),!0).forEach(function(n){ig(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_b(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vB(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Kj(n.key),n)}}function xB(e,t,r){return t&&vB(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function bB(e,t,r){return t=Df(t),wB(e,Vj()?Reflect.construct(t,r||[],Df(e).constructor):t.apply(e,r))}function wB(e,t){if(t&&(ds(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kB(e)}function kB(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vj(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Vj=function(){return!!e})()}function Df(e){return Df=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Df(e)}function SB(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&og(e,t)}function og(e,t){return og=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},og(e,t)}function ig(e,t,r){return t=Kj(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kj(e){var t=jB(e,"string");return ds(t)=="symbol"?t:t+""}function jB(e,t){if(ds(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ds(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Nb=1,OB=function(e){function t(){var r;yB(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=bB(this,t,[].concat(a)),ig(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),ig(r,"handleKeyDown",function(i){if(i.key==="Escape"){var s,l,c,f;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(c=(f=r.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&c!==void 0?c:0}})}}),r}return SB(t,e),xB(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>Nb||Math.abs(n.height-this.state.lastBoundingBox.height)>Nb)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,o=a.active,i=a.allowEscapeViewBox,s=a.animationDuration,l=a.animationEasing,c=a.children,f=a.coordinate,u=a.hasPayload,h=a.isAnimationActive,p=a.offset,m=a.position,w=a.reverseDirection,b=a.useTranslate3d,y=a.viewBox,g=a.wrapperStyle,v=mB({allowEscapeViewBox:i,coordinate:f,offsetTopLeft:p,position:m,reverseDirection:w,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:y}),S=v.cssClasses,x=v.cssProperties,k=Pb(Pb({transition:h&&o?"transform ".concat(s,"ms ").concat(l):void 0},x),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&u?"visible":"hidden",position:"absolute",top:0,left:0},g);return M.createElement("div",{tabIndex:-1,className:S,style:k,ref:function(_){n.wrapperNode=_}},c)}}])}(O.PureComponent),_B=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Eo={isSsr:_B()};function hs(e){"@babel/helpers - typeof";return hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hs(e)}function Ab(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ab(Object(r),!0).forEach(function(n){Ny(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ab(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NB(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qj(n.key),n)}}function AB(e,t,r){return t&&NB(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function MB(e,t,r){return t=Lf(t),CB(e,Xj()?Reflect.construct(t,r||[],Lf(e).constructor):t.apply(e,r))}function CB(e,t){if(t&&(hs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EB(e)}function EB(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xj(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Xj=function(){return!!e})()}function Lf(e){return Lf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lf(e)}function TB(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sg(e,t)}function sg(e,t){return sg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},sg(e,t)}function Ny(e,t,r){return t=qj(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qj(e){var t=$B(e,"string");return hs(t)=="symbol"?t:t+""}function $B(e,t){if(hs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function DB(e){return e.dataKey}function LB(e,t){return M.isValidElement(e)?M.cloneElement(e,t):typeof e=="function"?M.createElement(e,t):M.createElement(uB,t)}var Kr=function(e){function t(){return PB(this,t),MB(this,t,arguments)}return TB(t,e),AB(t,[{key:"render",value:function(){var n=this,a=this.props,o=a.active,i=a.allowEscapeViewBox,s=a.animationDuration,l=a.animationEasing,c=a.content,f=a.coordinate,u=a.filterNull,h=a.isAnimationActive,p=a.offset,m=a.payload,w=a.payloadUniqBy,b=a.position,y=a.reverseDirection,g=a.useTranslate3d,v=a.viewBox,S=a.wrapperStyle,x=m??[];u&&x.length&&(x=Ij(m.filter(function(j){return j.value!=null&&(j.hide!==!0||n.props.includeHidden)}),w,DB));var k=x.length>0;return M.createElement(OB,{allowEscapeViewBox:i,animationDuration:s,animationEasing:l,isAnimationActive:h,active:o,coordinate:f,hasPayload:k,offset:p,position:b,reverseDirection:y,useTranslate3d:g,viewBox:v,wrapperStyle:S},LB(c,Mb(Mb({},this.props),{},{payload:x})))}}])}(O.PureComponent);Ny(Kr,"displayName","Tooltip");Ny(Kr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Eo.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var RB=_a,IB=function(){return RB.Date.now()},BB=IB,FB=/\s/;function zB(e){for(var t=e.length;t--&&FB.test(e.charAt(t)););return t}var WB=zB,UB=WB,GB=/^\s+/;function HB(e){return e&&e.slice(0,UB(e)+1).replace(GB,"")}var VB=HB,KB=VB,Cb=Mo,XB=Bs,Eb=NaN,qB=/^[-+]0x[0-9a-f]+$/i,YB=/^0b[01]+$/i,QB=/^0o[0-7]+$/i,ZB=parseInt;function JB(e){if(typeof e=="number")return e;if(XB(e))return Eb;if(Cb(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Cb(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=KB(e);var r=YB.test(e);return r||QB.test(e)?ZB(e.slice(2),r?2:8):qB.test(e)?Eb:+e}var Yj=JB,e8=Mo,vp=BB,Tb=Yj,t8="Expected a function",r8=Math.max,n8=Math.min;function a8(e,t,r){var n,a,o,i,s,l,c=0,f=!1,u=!1,h=!0;if(typeof e!="function")throw new TypeError(t8);t=Tb(t)||0,e8(r)&&(f=!!r.leading,u="maxWait"in r,o=u?r8(Tb(r.maxWait)||0,t):o,h="trailing"in r?!!r.trailing:h);function p(k){var j=n,_=a;return n=a=void 0,c=k,i=e.apply(_,j),i}function m(k){return c=k,s=setTimeout(y,t),f?p(k):i}function w(k){var j=k-l,_=k-c,P=t-j;return u?n8(P,o-_):P}function b(k){var j=k-l,_=k-c;return l===void 0||j>=t||j<0||u&&_>=o}function y(){var k=vp();if(b(k))return g(k);s=setTimeout(y,w(k))}function g(k){return s=void 0,h&&n?p(k):(n=a=void 0,i)}function v(){s!==void 0&&clearTimeout(s),c=0,n=l=a=s=void 0}function S(){return s===void 0?i:g(vp())}function x(){var k=vp(),j=b(k);if(n=arguments,a=this,l=k,j){if(s===void 0)return m(l);if(u)return clearTimeout(s),s=setTimeout(y,t),p(l)}return s===void 0&&(s=setTimeout(y,t)),i}return x.cancel=v,x.flush=S,x}var o8=a8,i8=o8,s8=Mo,l8="Expected a function";function c8(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(l8);return s8(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),i8(e,t,{leading:n,maxWait:t,trailing:a})}var u8=c8;const Qj=Mt(u8);function dc(e){"@babel/helpers - typeof";return dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dc(e)}function $b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$b(Object(r),!0).forEach(function(n){f8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$b(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function f8(e,t,r){return t=d8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d8(e){var t=h8(e,"string");return dc(t)=="symbol"?t:t+""}function h8(e,t){if(dc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function p8(e,t){return v8(e)||y8(e,t)||m8(e,t)||g8()}function g8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m8(e,t){if(e){if(typeof e=="string")return Db(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Db(e,t)}}function Db(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function y8(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function v8(e){if(Array.isArray(e))return e}var ps=O.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,o=e.width,i=o===void 0?"100%":o,s=e.height,l=s===void 0?"100%":s,c=e.minWidth,f=c===void 0?0:c,u=e.minHeight,h=e.maxHeight,p=e.children,m=e.debounce,w=m===void 0?0:m,b=e.id,y=e.className,g=e.onResize,v=e.style,S=v===void 0?{}:v,x=O.useRef(null),k=O.useRef();k.current=g,O.useImperativeHandle(t,function(){return Object.defineProperty(x.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),x.current},configurable:!0})});var j=O.useState({containerWidth:a.width,containerHeight:a.height}),_=p8(j,2),P=_[0],N=_[1],A=O.useCallback(function(R,I){N(function(T){var L=Math.round(R),U=Math.round(I);return T.containerWidth===L&&T.containerHeight===U?T:{containerWidth:L,containerHeight:U}})},[]);O.useEffect(function(){var R=function(z){var W,te=z[0].contentRect,Y=te.width,X=te.height;A(Y,X),(W=k.current)===null||W===void 0||W.call(k,Y,X)};w>0&&(R=Qj(R,w,{trailing:!0,leading:!1}));var I=new ResizeObserver(R),T=x.current.getBoundingClientRect(),L=T.width,U=T.height;return A(L,U),I.observe(x.current),function(){I.disconnect()}},[A,w]);var C=O.useMemo(function(){var R=P.containerWidth,I=P.containerHeight;if(R<0||I<0)return null;Ia(Ko(i)||Ko(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,l),Ia(!r||r>0,"The aspect(%s) must be greater than zero.",r);var T=Ko(i)?R:i,L=Ko(l)?I:l;r&&r>0&&(T?L=T/r:L&&(T=L*r),h&&L>h&&(L=h)),Ia(T>0||L>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,T,L,i,l,f,u,r);var U=!Array.isArray(p)&&Ra(p.type).endsWith("Chart");return M.Children.map(p,function(D){return M.isValidElement(D)?O.cloneElement(D,Nu({width:T,height:L},U?{style:Nu({height:"100%",width:"100%",maxHeight:L,maxWidth:T},D.props.style)}:{})):D})},[r,p,l,h,u,f,P,i]);return M.createElement("div",{id:b?"".concat(b):void 0,className:Je("recharts-responsive-container",y),style:Nu(Nu({},S),{},{width:i,height:l,minWidth:f,minHeight:u,maxHeight:h}),ref:x},C)}),Ay=function(t){return null};Ay.displayName="Cell";function hc(e){"@babel/helpers - typeof";return hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hc(e)}function Lb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lb(Object(r),!0).forEach(function(n){x8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function x8(e,t,r){return t=b8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b8(e){var t=w8(e,"string");return hc(t)=="symbol"?t:t+""}function w8(e,t){if(hc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ni={widthCache:{},cacheCount:0},k8=2e3,S8={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Rb="recharts_measurement_span";function j8(e){var t=lg({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Rl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Eo.isSsr)return{width:0,height:0};var n=j8(r),a=JSON.stringify({text:t,copyStyle:n});if(Ni.widthCache[a])return Ni.widthCache[a];try{var o=document.getElementById(Rb);o||(o=document.createElement("span"),o.setAttribute("id",Rb),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var i=lg(lg({},S8),n);Object.assign(o.style,i),o.textContent="".concat(t);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return Ni.widthCache[a]=l,++Ni.cacheCount>k8&&(Ni.cacheCount=0,Ni.widthCache={}),l}catch{return{width:0,height:0}}},O8=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function pc(e){"@babel/helpers - typeof";return pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pc(e)}function Rf(e,t){return A8(e)||N8(e,t)||P8(e,t)||_8()}function _8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P8(e,t){if(e){if(typeof e=="string")return Ib(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ib(e,t)}}function Ib(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function N8(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function A8(e){if(Array.isArray(e))return e}function M8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,E8(n.key),n)}}function C8(e,t,r){return t&&Bb(e.prototype,t),r&&Bb(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function E8(e){var t=T8(e,"string");return pc(t)=="symbol"?t:t+""}function T8(e,t){if(pc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Fb=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,zb=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,$8=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,D8=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Zj={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},L8=Object.keys(Zj),Gi="NaN";function R8(e,t){return e*Zj[t]}var Au=function(){function e(t,r){M8(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!$8.test(r)&&(this.num=NaN,this.unit=""),L8.includes(r)&&(this.num=R8(t,r),this.unit="px")}return C8(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=D8.exec(r))!==null&&n!==void 0?n:[],o=Rf(a,3),i=o[1],s=o[2];return new e(parseFloat(i),s??"")}}])}();function Jj(e){if(e.includes(Gi))return Gi;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=Fb.exec(t))!==null&&r!==void 0?r:[],a=Rf(n,4),o=a[1],i=a[2],s=a[3],l=Au.parse(o??""),c=Au.parse(s??""),f=i==="*"?l.multiply(c):l.divide(c);if(f.isNaN())return Gi;t=t.replace(Fb,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,h=(u=zb.exec(t))!==null&&u!==void 0?u:[],p=Rf(h,4),m=p[1],w=p[2],b=p[3],y=Au.parse(m??""),g=Au.parse(b??""),v=w==="+"?y.add(g):y.subtract(g);if(v.isNaN())return Gi;t=t.replace(zb,v.toString())}return t}var Wb=/\(([^()]*)\)/;function I8(e){for(var t=e;t.includes("(");){var r=Wb.exec(t),n=Rf(r,2),a=n[1];t=t.replace(Wb,Jj(a))}return t}function B8(e){var t=e.replace(/\s+/g,"");return t=I8(t),t=Jj(t),t}function F8(e){try{return B8(e)}catch{return Gi}}function xp(e){var t=F8(e.slice(5,-1));return t===Gi?"":t}var z8=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],W8=["dx","dy","angle","className","breakAll"];function cg(){return cg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cg.apply(this,arguments)}function Ub(e,t){if(e==null)return{};var r=U8(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function U8(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Gb(e,t){return K8(e)||V8(e,t)||H8(e,t)||G8()}function G8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H8(e,t){if(e){if(typeof e=="string")return Hb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Hb(e,t)}}function Hb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function V8(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function K8(e){if(Array.isArray(e))return e}var eO=/[ \f\n\r\t\v\u2028\u2029]+/,tO=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var o=[];De(r)||(n?o=r.toString().split(""):o=r.toString().split(eO));var i=o.map(function(l){return{word:l,width:Rl(l,a).width}}),s=n?0:Rl("",a).width;return{wordsWithComputedWidth:i,spaceWidth:s}}catch{return null}},X8=function(t,r,n,a,o){var i=t.maxLines,s=t.children,l=t.style,c=t.breakAll,f=ie(i),u=s,h=function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return T.reduce(function(L,U){var D=U.word,z=U.width,W=L[L.length-1];if(W&&(a==null||o||W.width+z+n<Number(a)))W.words.push(D),W.width+=z+n;else{var te={words:[D],width:z};L.push(te)}return L},[])},p=h(r),m=function(T){return T.reduce(function(L,U){return L.width>U.width?L:U})};if(!f)return p;for(var w="",b=function(T){var L=u.slice(0,T),U=tO({breakAll:c,style:l,children:L+w}).wordsWithComputedWidth,D=h(U),z=D.length>i||m(D).width>Number(a);return[z,D]},y=0,g=u.length-1,v=0,S;y<=g&&v<=u.length-1;){var x=Math.floor((y+g)/2),k=x-1,j=b(k),_=Gb(j,2),P=_[0],N=_[1],A=b(x),C=Gb(A,1),R=C[0];if(!P&&!R&&(y=x+1),P&&R&&(g=x-1),!P&&R){S=N;break}v++}return S||p},Vb=function(t){var r=De(t)?[]:t.toString().split(eO);return[{words:r}]},q8=function(t){var r=t.width,n=t.scaleToFit,a=t.children,o=t.style,i=t.breakAll,s=t.maxLines;if((r||n)&&!Eo.isSsr){var l,c,f=tO({breakAll:i,children:a,style:o});if(f){var u=f.wordsWithComputedWidth,h=f.spaceWidth;l=u,c=h}else return Vb(a);return X8({breakAll:i,children:a,maxLines:s,style:o},l,c,r,n)}return Vb(a)},Kb="#808080",If=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,o=a===void 0?0:a,i=t.lineHeight,s=i===void 0?"1em":i,l=t.capHeight,c=l===void 0?"0.71em":l,f=t.scaleToFit,u=f===void 0?!1:f,h=t.textAnchor,p=h===void 0?"start":h,m=t.verticalAnchor,w=m===void 0?"end":m,b=t.fill,y=b===void 0?Kb:b,g=Ub(t,z8),v=O.useMemo(function(){return q8({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:u,style:g.style,width:g.width})},[g.breakAll,g.children,g.maxLines,u,g.style,g.width]),S=g.dx,x=g.dy,k=g.angle,j=g.className,_=g.breakAll,P=Ub(g,W8);if(!pr(n)||!pr(o))return null;var N=n+(ie(S)?S:0),A=o+(ie(x)?x:0),C;switch(w){case"start":C=xp("calc(".concat(c,")"));break;case"middle":C=xp("calc(".concat((v.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:C=xp("calc(".concat(v.length-1," * -").concat(s,")"));break}var R=[];if(u){var I=v[0].width,T=g.width;R.push("scale(".concat((ie(T)?T/I:1)/I,")"))}return k&&R.push("rotate(".concat(k,", ").concat(N,", ").concat(A,")")),R.length&&(P.transform=R.join(" ")),M.createElement("text",cg({},Le(P,!0),{x:N,y:A,className:Je("recharts-text",j),textAnchor:p,fill:y.includes("url")?Kb:y}),v.map(function(L,U){var D=L.words.join(_?"":" ");return M.createElement("tspan",{x:N,dy:U===0?C:s,key:"".concat(D,"-").concat(U)},D)}))};function jo(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Y8(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function My(e){let t,r,n;e.length!==2?(t=jo,r=(s,l)=>jo(e(s),l),n=(s,l)=>e(s)-l):(t=e===jo||e===Y8?e:Q8,r=e,n=e);function a(s,l,c=0,f=s.length){if(c<f){if(t(l,l)!==0)return f;do{const u=c+f>>>1;r(s[u],l)<0?c=u+1:f=u}while(c<f)}return c}function o(s,l,c=0,f=s.length){if(c<f){if(t(l,l)!==0)return f;do{const u=c+f>>>1;r(s[u],l)<=0?c=u+1:f=u}while(c<f)}return c}function i(s,l,c=0,f=s.length){const u=a(s,l,c,f-1);return u>c&&n(s[u-1],l)>-n(s[u],l)?u-1:u}return{left:a,center:i,right:o}}function Q8(){return 0}function rO(e){return e===null?NaN:+e}function*Z8(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const J8=My(jo),Yc=J8.right;My(rO).center;class Xb extends Map{constructor(t,r=rF){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(qb(this,t))}has(t){return super.has(qb(this,t))}set(t,r){return super.set(eF(this,t),r)}delete(t){return super.delete(tF(this,t))}}function qb({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function eF({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function tF({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function rF(e){return e!==null&&typeof e=="object"?e.valueOf():e}function nF(e=jo){if(e===jo)return nO;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function nO(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const aF=Math.sqrt(50),oF=Math.sqrt(10),iF=Math.sqrt(2);function Bf(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),o=n/Math.pow(10,a),i=o>=aF?10:o>=oF?5:o>=iF?2:1;let s,l,c;return a<0?(c=Math.pow(10,-a)/i,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*i,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=r&&r<2?Bf(e,t,r*2):[s,l,c]}function ug(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,o,i]=n?Bf(t,e,r):Bf(e,t,r);if(!(o>=a))return[];const s=o-a+1,l=new Array(s);if(n)if(i<0)for(let c=0;c<s;++c)l[c]=(o-c)/-i;else for(let c=0;c<s;++c)l[c]=(o-c)*i;else if(i<0)for(let c=0;c<s;++c)l[c]=(a+c)/-i;else for(let c=0;c<s;++c)l[c]=(a+c)*i;return l}function fg(e,t,r){return t=+t,e=+e,r=+r,Bf(e,t,r)[2]}function dg(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?fg(t,e,r):fg(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function Yb(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function Qb(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function aO(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?nO:nF(a);n>r;){if(n-r>600){const l=n-r+1,c=t-r+1,f=Math.log(l),u=.5*Math.exp(2*f/3),h=.5*Math.sqrt(f*u*(l-u)/l)*(c-l/2<0?-1:1),p=Math.max(r,Math.floor(t-c*u/l+h)),m=Math.min(n,Math.floor(t+(l-c)*u/l+h));aO(e,t,p,m,a)}const o=e[t];let i=r,s=n;for(gl(e,r,t),a(e[n],o)>0&&gl(e,r,n);i<s;){for(gl(e,i,s),++i,--s;a(e[i],o)<0;)++i;for(;a(e[s],o)>0;)--s}a(e[r],o)===0?gl(e,r,s):(++s,gl(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function gl(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function sF(e,t,r){if(e=Float64Array.from(Z8(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return Qb(e);if(t>=1)return Yb(e);var n,a=(n-1)*t,o=Math.floor(a),i=Yb(aO(e,o).subarray(0,o+1)),s=Qb(e.subarray(o+1));return i+(s-i)*(a-o)}}function lF(e,t,r=rO){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,o=Math.floor(a),i=+r(e[o],o,e),s=+r(e[o+1],o+1,e);return i+(s-i)*(a-o)}}function cF(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,o=new Array(a);++n<a;)o[n]=e+n*r;return o}function Gn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Qa(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const hg=Symbol("implicit");function Cy(){var e=new Xb,t=[],r=[],n=hg;function a(o){let i=e.get(o);if(i===void 0){if(n!==hg)return n;e.set(o,i=t.push(o)-1)}return r[i%r.length]}return a.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new Xb;for(const i of o)e.has(i)||e.set(i,t.push(i)-1);return a},a.range=function(o){return arguments.length?(r=Array.from(o),a):r.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return Cy(t,r).unknown(n)},Gn.apply(a,arguments),a}function gc(){var e=Cy().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,o,i,s=!1,l=0,c=0,f=.5;delete e.unknown;function u(){var h=t().length,p=a<n,m=p?a:n,w=p?n:a;o=(w-m)/Math.max(1,h-l+c*2),s&&(o=Math.floor(o)),m+=(w-m-o*(h-l))*f,i=o*(1-l),s&&(m=Math.round(m),i=Math.round(i));var b=cF(h).map(function(y){return m+o*y});return r(p?b.reverse():b)}return e.domain=function(h){return arguments.length?(t(h),u()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,u()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,s=!0,u()},e.bandwidth=function(){return i},e.step=function(){return o},e.round=function(h){return arguments.length?(s=!!h,u()):s},e.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),u()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),u()):l},e.paddingOuter=function(h){return arguments.length?(c=+h,u()):c},e.align=function(h){return arguments.length?(f=Math.max(0,Math.min(1,h)),u()):f},e.copy=function(){return gc(t(),[n,a]).round(s).paddingInner(l).paddingOuter(c).align(f)},Gn.apply(u(),arguments)}function oO(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return oO(t())},e}function Il(){return oO(gc.apply(null,arguments).paddingInner(1))}function Ey(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function iO(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Qc(){}var mc=.7,Ff=1/mc,es="\\s*([+-]?\\d+)\\s*",yc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",wa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",uF=/^#([0-9a-f]{3,8})$/,fF=new RegExp(`^rgb\\(${es},${es},${es}\\)$`),dF=new RegExp(`^rgb\\(${wa},${wa},${wa}\\)$`),hF=new RegExp(`^rgba\\(${es},${es},${es},${yc}\\)$`),pF=new RegExp(`^rgba\\(${wa},${wa},${wa},${yc}\\)$`),gF=new RegExp(`^hsl\\(${yc},${wa},${wa}\\)$`),mF=new RegExp(`^hsla\\(${yc},${wa},${wa},${yc}\\)$`),Zb={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ey(Qc,vc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Jb,formatHex:Jb,formatHex8:yF,formatHsl:vF,formatRgb:e1,toString:e1});function Jb(){return this.rgb().formatHex()}function yF(){return this.rgb().formatHex8()}function vF(){return sO(this).formatHsl()}function e1(){return this.rgb().formatRgb()}function vc(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=uF.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?t1(t):r===3?new sn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Mu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Mu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=fF.exec(e))?new sn(t[1],t[2],t[3],1):(t=dF.exec(e))?new sn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=hF.exec(e))?Mu(t[1],t[2],t[3],t[4]):(t=pF.exec(e))?Mu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=gF.exec(e))?a1(t[1],t[2]/100,t[3]/100,1):(t=mF.exec(e))?a1(t[1],t[2]/100,t[3]/100,t[4]):Zb.hasOwnProperty(e)?t1(Zb[e]):e==="transparent"?new sn(NaN,NaN,NaN,0):null}function t1(e){return new sn(e>>16&255,e>>8&255,e&255,1)}function Mu(e,t,r,n){return n<=0&&(e=t=r=NaN),new sn(e,t,r,n)}function xF(e){return e instanceof Qc||(e=vc(e)),e?(e=e.rgb(),new sn(e.r,e.g,e.b,e.opacity)):new sn}function pg(e,t,r,n){return arguments.length===1?xF(e):new sn(e,t,r,n??1)}function sn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Ey(sn,pg,iO(Qc,{brighter(e){return e=e==null?Ff:Math.pow(Ff,e),new sn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?mc:Math.pow(mc,e),new sn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new sn(ri(this.r),ri(this.g),ri(this.b),zf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:r1,formatHex:r1,formatHex8:bF,formatRgb:n1,toString:n1}));function r1(){return`#${Xo(this.r)}${Xo(this.g)}${Xo(this.b)}`}function bF(){return`#${Xo(this.r)}${Xo(this.g)}${Xo(this.b)}${Xo((isNaN(this.opacity)?1:this.opacity)*255)}`}function n1(){const e=zf(this.opacity);return`${e===1?"rgb(":"rgba("}${ri(this.r)}, ${ri(this.g)}, ${ri(this.b)}${e===1?")":`, ${e})`}`}function zf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ri(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Xo(e){return e=ri(e),(e<16?"0":"")+e.toString(16)}function a1(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ra(e,t,r,n)}function sO(e){if(e instanceof ra)return new ra(e.h,e.s,e.l,e.opacity);if(e instanceof Qc||(e=vc(e)),!e)return new ra;if(e instanceof ra)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),o=Math.max(t,r,n),i=NaN,s=o-a,l=(o+a)/2;return s?(t===o?i=(r-n)/s+(r<n)*6:r===o?i=(n-t)/s+2:i=(t-r)/s+4,s/=l<.5?o+a:2-o-a,i*=60):s=l>0&&l<1?0:i,new ra(i,s,l,e.opacity)}function wF(e,t,r,n){return arguments.length===1?sO(e):new ra(e,t,r,n??1)}function ra(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Ey(ra,wF,iO(Qc,{brighter(e){return e=e==null?Ff:Math.pow(Ff,e),new ra(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?mc:Math.pow(mc,e),new ra(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new sn(bp(e>=240?e-240:e+120,a,n),bp(e,a,n),bp(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new ra(o1(this.h),Cu(this.s),Cu(this.l),zf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=zf(this.opacity);return`${e===1?"hsl(":"hsla("}${o1(this.h)}, ${Cu(this.s)*100}%, ${Cu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function o1(e){return e=(e||0)%360,e<0?e+360:e}function Cu(e){return Math.max(0,Math.min(1,e||0))}function bp(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Ty=e=>()=>e;function kF(e,t){return function(r){return e+r*t}}function SF(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function jF(e){return(e=+e)==1?lO:function(t,r){return r-t?SF(t,r,e):Ty(isNaN(t)?r:t)}}function lO(e,t){var r=t-e;return r?kF(e,r):Ty(isNaN(e)?t:e)}const i1=function e(t){var r=jF(t);function n(a,o){var i=r((a=pg(a)).r,(o=pg(o)).r),s=r(a.g,o.g),l=r(a.b,o.b),c=lO(a.opacity,o.opacity);return function(f){return a.r=i(f),a.g=s(f),a.b=l(f),a.opacity=c(f),a+""}}return n.gamma=e,n}(1);function OF(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(o){for(a=0;a<r;++a)n[a]=e[a]*(1-o)+t[a]*o;return n}}function _F(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function PF(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),o=new Array(r),i;for(i=0;i<n;++i)a[i]=Xs(e[i],t[i]);for(;i<r;++i)o[i]=t[i];return function(s){for(i=0;i<n;++i)o[i]=a[i](s);return o}}function NF(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Wf(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function AF(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Xs(e[a],t[a]):n[a]=t[a];return function(o){for(a in r)n[a]=r[a](o);return n}}var gg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,wp=new RegExp(gg.source,"g");function MF(e){return function(){return e}}function CF(e){return function(t){return e(t)+""}}function EF(e,t){var r=gg.lastIndex=wp.lastIndex=0,n,a,o,i=-1,s=[],l=[];for(e=e+"",t=t+"";(n=gg.exec(e))&&(a=wp.exec(t));)(o=a.index)>r&&(o=t.slice(r,o),s[i]?s[i]+=o:s[++i]=o),(n=n[0])===(a=a[0])?s[i]?s[i]+=a:s[++i]=a:(s[++i]=null,l.push({i,x:Wf(n,a)})),r=wp.lastIndex;return r<t.length&&(o=t.slice(r),s[i]?s[i]+=o:s[++i]=o),s.length<2?l[0]?CF(l[0].x):MF(t):(t=l.length,function(c){for(var f=0,u;f<t;++f)s[(u=l[f]).i]=u.x(c);return s.join("")})}function Xs(e,t){var r=typeof t,n;return t==null||r==="boolean"?Ty(t):(r==="number"?Wf:r==="string"?(n=vc(t))?(t=n,i1):EF:t instanceof vc?i1:t instanceof Date?NF:_F(t)?OF:Array.isArray(t)?PF:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?AF:Wf)(e,t)}function $y(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function TF(e,t){t===void 0&&(t=e,e=Xs);for(var r=0,n=t.length-1,a=t[0],o=new Array(n<0?0:n);r<n;)o[r]=e(a,a=t[++r]);return function(i){var s=Math.max(0,Math.min(n-1,Math.floor(i*=n)));return o[s](i-s)}}function $F(e){return function(){return e}}function Uf(e){return+e}var s1=[0,1];function Xr(e){return e}function mg(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:$F(isNaN(t)?NaN:.5)}function DF(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function LF(e,t,r){var n=e[0],a=e[1],o=t[0],i=t[1];return a<n?(n=mg(a,n),o=r(i,o)):(n=mg(n,a),o=r(o,i)),function(s){return o(n(s))}}function RF(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),o=new Array(n),i=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<n;)a[i]=mg(e[i],e[i+1]),o[i]=r(t[i],t[i+1]);return function(s){var l=Yc(e,s,1,n)-1;return o[l](a[l](s))}}function Zc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function dh(){var e=s1,t=s1,r=Xs,n,a,o,i=Xr,s,l,c;function f(){var h=Math.min(e.length,t.length);return i!==Xr&&(i=DF(e[0],e[h-1])),s=h>2?RF:LF,l=c=null,u}function u(h){return h==null||isNaN(h=+h)?o:(l||(l=s(e.map(n),t,r)))(n(i(h)))}return u.invert=function(h){return i(a((c||(c=s(t,e.map(n),Wf)))(h)))},u.domain=function(h){return arguments.length?(e=Array.from(h,Uf),f()):e.slice()},u.range=function(h){return arguments.length?(t=Array.from(h),f()):t.slice()},u.rangeRound=function(h){return t=Array.from(h),r=$y,f()},u.clamp=function(h){return arguments.length?(i=h?!0:Xr,f()):i!==Xr},u.interpolate=function(h){return arguments.length?(r=h,f()):r},u.unknown=function(h){return arguments.length?(o=h,u):o},function(h,p){return n=h,a=p,f()}}function Dy(){return dh()(Xr,Xr)}function IF(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Gf(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function gs(e){return e=Gf(Math.abs(e)),e?e[1]:NaN}function BF(e,t){return function(r,n){for(var a=r.length,o=[],i=0,s=e[0],l=0;a>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),o.push(r.substring(a-=s,a+s)),!((l+=s+1)>n));)s=e[i=(i+1)%e.length];return o.reverse().join(t)}}function FF(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var zF=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function xc(e){if(!(t=zF.exec(e)))throw new Error("invalid format: "+e);var t;return new Ly({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}xc.prototype=Ly.prototype;function Ly(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Ly.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function WF(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var cO;function UF(e,t){var r=Gf(e,t);if(!r)return e+"";var n=r[0],a=r[1],o=a-(cO=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=n.length;return o===i?n:o>i?n+new Array(o-i+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+Gf(e,Math.max(0,t+o-1))[0]}function l1(e,t){var r=Gf(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const c1={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:IF,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>l1(e*100,t),r:l1,s:UF,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function u1(e){return e}var f1=Array.prototype.map,d1=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function GF(e){var t=e.grouping===void 0||e.thousands===void 0?u1:BF(f1.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?u1:FF(f1.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(u){u=xc(u);var h=u.fill,p=u.align,m=u.sign,w=u.symbol,b=u.zero,y=u.width,g=u.comma,v=u.precision,S=u.trim,x=u.type;x==="n"?(g=!0,x="g"):c1[x]||(v===void 0&&(v=12),S=!0,x="g"),(b||h==="0"&&p==="=")&&(b=!0,h="0",p="=");var k=w==="$"?r:w==="#"&&/[boxX]/.test(x)?"0"+x.toLowerCase():"",j=w==="$"?n:/[%p]/.test(x)?i:"",_=c1[x],P=/[defgprs%]/.test(x);v=v===void 0?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function N(A){var C=k,R=j,I,T,L;if(x==="c")R=_(A)+R,A="";else{A=+A;var U=A<0||1/A<0;if(A=isNaN(A)?l:_(Math.abs(A),v),S&&(A=WF(A)),U&&+A==0&&m!=="+"&&(U=!1),C=(U?m==="("?m:s:m==="-"||m==="("?"":m)+C,R=(x==="s"?d1[8+cO/3]:"")+R+(U&&m==="("?")":""),P){for(I=-1,T=A.length;++I<T;)if(L=A.charCodeAt(I),48>L||L>57){R=(L===46?a+A.slice(I+1):A.slice(I))+R,A=A.slice(0,I);break}}}g&&!b&&(A=t(A,1/0));var D=C.length+A.length+R.length,z=D<y?new Array(y-D+1).join(h):"";switch(g&&b&&(A=t(z+A,z.length?y-R.length:1/0),z=""),p){case"<":A=C+A+R+z;break;case"=":A=C+z+A+R;break;case"^":A=z.slice(0,D=z.length>>1)+C+A+R+z.slice(D);break;default:A=z+C+A+R;break}return o(A)}return N.toString=function(){return u+""},N}function f(u,h){var p=c((u=xc(u),u.type="f",u)),m=Math.max(-8,Math.min(8,Math.floor(gs(h)/3)))*3,w=Math.pow(10,-m),b=d1[8+m/3];return function(y){return p(w*y)+b}}return{format:c,formatPrefix:f}}var Eu,Ry,uO;HF({thousands:",",grouping:[3],currency:["$",""]});function HF(e){return Eu=GF(e),Ry=Eu.format,uO=Eu.formatPrefix,Eu}function VF(e){return Math.max(0,-gs(Math.abs(e)))}function KF(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(gs(t)/3)))*3-gs(Math.abs(e)))}function XF(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,gs(t)-gs(e))+1}function fO(e,t,r,n){var a=dg(e,t,r),o;switch(n=xc(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(o=KF(a,i))&&(n.precision=o),uO(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=XF(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=VF(a))&&(n.precision=o-(n.type==="%")*2);break}}return Ry(n)}function To(e){var t=e.domain;return e.ticks=function(r){var n=t();return ug(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return fO(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,o=n.length-1,i=n[a],s=n[o],l,c,f=10;for(s<i&&(c=i,i=s,s=c,c=a,a=o,o=c);f-- >0;){if(c=fg(i,s,r),c===l)return n[a]=i,n[o]=s,t(n);if(c>0)i=Math.floor(i/c)*c,s=Math.ceil(s/c)*c;else if(c<0)i=Math.ceil(i*c)/c,s=Math.floor(s*c)/c;else break;l=c}return e},e}function Hf(){var e=Dy();return e.copy=function(){return Zc(e,Hf())},Gn.apply(e,arguments),To(e)}function dO(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Uf),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return dO(e).unknown(t)},e=arguments.length?Array.from(e,Uf):[0,1],To(r)}function hO(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],o=e[n],i;return o<a&&(i=r,r=n,n=i,i=a,a=o,o=i),e[r]=t.floor(a),e[n]=t.ceil(o),e}function h1(e){return Math.log(e)}function p1(e){return Math.exp(e)}function qF(e){return-Math.log(-e)}function YF(e){return-Math.exp(-e)}function QF(e){return isFinite(e)?+("1e"+e):e<0?0:e}function ZF(e){return e===10?QF:e===Math.E?Math.exp:t=>Math.pow(e,t)}function JF(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function g1(e){return(t,r)=>-e(-t,r)}function Iy(e){const t=e(h1,p1),r=t.domain;let n=10,a,o;function i(){return a=JF(n),o=ZF(n),r()[0]<0?(a=g1(a),o=g1(o),e(qF,YF)):e(h1,p1),t}return t.base=function(s){return arguments.length?(n=+s,i()):n},t.domain=function(s){return arguments.length?(r(s),i()):r()},t.ticks=s=>{const l=r();let c=l[0],f=l[l.length-1];const u=f<c;u&&([c,f]=[f,c]);let h=a(c),p=a(f),m,w;const b=s==null?10:+s;let y=[];if(!(n%1)&&p-h<b){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(m=1;m<n;++m)if(w=h<0?m/o(-h):m*o(h),!(w<c)){if(w>f)break;y.push(w)}}else for(;h<=p;++h)for(m=n-1;m>=1;--m)if(w=h>0?m/o(-h):m*o(h),!(w<c)){if(w>f)break;y.push(w)}y.length*2<b&&(y=ug(c,f,b))}else y=ug(h,p,Math.min(p-h,b)).map(o);return u?y.reverse():y},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=xc(l)).precision==null&&(l.trim=!0),l=Ry(l)),s===1/0)return l;const c=Math.max(1,n*s/t.ticks().length);return f=>{let u=f/o(Math.round(a(f)));return u*n<n-.5&&(u*=n),u<=c?l(f):""}},t.nice=()=>r(hO(r(),{floor:s=>o(Math.floor(a(s))),ceil:s=>o(Math.ceil(a(s)))})),t}function pO(){const e=Iy(dh()).domain([1,10]);return e.copy=()=>Zc(e,pO()).base(e.base()),Gn.apply(e,arguments),e}function m1(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function y1(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function By(e){var t=1,r=e(m1(t),y1(t));return r.constant=function(n){return arguments.length?e(m1(t=+n),y1(t)):t},To(r)}function gO(){var e=By(dh());return e.copy=function(){return Zc(e,gO()).constant(e.constant())},Gn.apply(e,arguments)}function v1(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function ez(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function tz(e){return e<0?-e*e:e*e}function Fy(e){var t=e(Xr,Xr),r=1;function n(){return r===1?e(Xr,Xr):r===.5?e(ez,tz):e(v1(r),v1(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},To(t)}function zy(){var e=Fy(dh());return e.copy=function(){return Zc(e,zy()).exponent(e.exponent())},Gn.apply(e,arguments),e}function rz(){return zy.apply(null,arguments).exponent(.5)}function x1(e){return Math.sign(e)*e*e}function nz(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function mO(){var e=Dy(),t=[0,1],r=!1,n;function a(o){var i=nz(e(o));return isNaN(i)?n:r?Math.round(i):i}return a.invert=function(o){return e.invert(x1(o))},a.domain=function(o){return arguments.length?(e.domain(o),a):e.domain()},a.range=function(o){return arguments.length?(e.range((t=Array.from(o,Uf)).map(x1)),a):t.slice()},a.rangeRound=function(o){return a.range(o).round(!0)},a.round=function(o){return arguments.length?(r=!!o,a):r},a.clamp=function(o){return arguments.length?(e.clamp(o),a):e.clamp()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return mO(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Gn.apply(a,arguments),To(a)}function yO(){var e=[],t=[],r=[],n;function a(){var i=0,s=Math.max(1,t.length);for(r=new Array(s-1);++i<s;)r[i-1]=lF(e,i/s);return o}function o(i){return i==null||isNaN(i=+i)?n:t[Yc(r,i)]}return o.invertExtent=function(i){var s=t.indexOf(i);return s<0?[NaN,NaN]:[s>0?r[s-1]:e[0],s<r.length?r[s]:e[e.length-1]]},o.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let s of i)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(jo),a()},o.range=function(i){return arguments.length?(t=Array.from(i),a()):t.slice()},o.unknown=function(i){return arguments.length?(n=i,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return yO().domain(e).range(t).unknown(n)},Gn.apply(o,arguments)}function vO(){var e=0,t=1,r=1,n=[.5],a=[0,1],o;function i(l){return l!=null&&l<=l?a[Yc(n,l,0,r)]:o}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return i}return i.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},i.range=function(l){return arguments.length?(r=(a=Array.from(l)).length-1,s()):a.slice()},i.invertExtent=function(l){var c=a.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},i.unknown=function(l){return arguments.length&&(o=l),i},i.thresholds=function(){return n.slice()},i.copy=function(){return vO().domain([e,t]).range(a).unknown(o)},Gn.apply(To(i),arguments)}function xO(){var e=[.5],t=[0,1],r,n=1;function a(o){return o!=null&&o<=o?t[Yc(e,o,0,n)]:r}return a.domain=function(o){return arguments.length?(e=Array.from(o),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(o){return arguments.length?(t=Array.from(o),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(o){var i=t.indexOf(o);return[e[i-1],e[i]]},a.unknown=function(o){return arguments.length?(r=o,a):r},a.copy=function(){return xO().domain(e).range(t).unknown(r)},Gn.apply(a,arguments)}const kp=new Date,Sp=new Date;function mr(e,t,r,n){function a(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return a.floor=o=>(e(o=new Date(+o)),o),a.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),a.round=o=>{const i=a(o),s=a.ceil(o);return o-i<s-o?i:s},a.offset=(o,i)=>(t(o=new Date(+o),i==null?1:Math.floor(i)),o),a.range=(o,i,s)=>{const l=[];if(o=a.ceil(o),s=s==null?1:Math.floor(s),!(o<i)||!(s>0))return l;let c;do l.push(c=new Date(+o)),t(o,s),e(o);while(c<o&&o<i);return l},a.filter=o=>mr(i=>{if(i>=i)for(;e(i),!o(i);)i.setTime(i-1)},(i,s)=>{if(i>=i)if(s<0)for(;++s<=0;)for(;t(i,-1),!o(i););else for(;--s>=0;)for(;t(i,1),!o(i););}),r&&(a.count=(o,i)=>(kp.setTime(+o),Sp.setTime(+i),e(kp),e(Sp),Math.floor(r(kp,Sp))),a.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?a.filter(n?i=>n(i)%o===0:i=>a.count(0,i)%o===0):a)),a}const Vf=mr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Vf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?mr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Vf);Vf.range;const Ta=1e3,Ln=Ta*60,$a=Ln*60,Ha=$a*24,Wy=Ha*7,b1=Ha*30,jp=Ha*365,qo=mr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ta)},(e,t)=>(t-e)/Ta,e=>e.getUTCSeconds());qo.range;const Uy=mr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ta)},(e,t)=>{e.setTime(+e+t*Ln)},(e,t)=>(t-e)/Ln,e=>e.getMinutes());Uy.range;const Gy=mr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ln)},(e,t)=>(t-e)/Ln,e=>e.getUTCMinutes());Gy.range;const Hy=mr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ta-e.getMinutes()*Ln)},(e,t)=>{e.setTime(+e+t*$a)},(e,t)=>(t-e)/$a,e=>e.getHours());Hy.range;const Vy=mr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*$a)},(e,t)=>(t-e)/$a,e=>e.getUTCHours());Vy.range;const Jc=mr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ln)/Ha,e=>e.getDate()-1);Jc.range;const hh=mr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ha,e=>e.getUTCDate()-1);hh.range;const bO=mr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ha,e=>Math.floor(e/Ha));bO.range;function wi(e){return mr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Ln)/Wy)}const ph=wi(0),Kf=wi(1),az=wi(2),oz=wi(3),ms=wi(4),iz=wi(5),sz=wi(6);ph.range;Kf.range;az.range;oz.range;ms.range;iz.range;sz.range;function ki(e){return mr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Wy)}const gh=ki(0),Xf=ki(1),lz=ki(2),cz=ki(3),ys=ki(4),uz=ki(5),fz=ki(6);gh.range;Xf.range;lz.range;cz.range;ys.range;uz.range;fz.range;const Ky=mr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Ky.range;const Xy=mr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Xy.range;const Va=mr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Va.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:mr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Va.range;const Ka=mr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ka.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:mr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Ka.range;function wO(e,t,r,n,a,o){const i=[[qo,1,Ta],[qo,5,5*Ta],[qo,15,15*Ta],[qo,30,30*Ta],[o,1,Ln],[o,5,5*Ln],[o,15,15*Ln],[o,30,30*Ln],[a,1,$a],[a,3,3*$a],[a,6,6*$a],[a,12,12*$a],[n,1,Ha],[n,2,2*Ha],[r,1,Wy],[t,1,b1],[t,3,3*b1],[e,1,jp]];function s(c,f,u){const h=f<c;h&&([c,f]=[f,c]);const p=u&&typeof u.range=="function"?u:l(c,f,u),m=p?p.range(c,+f+1):[];return h?m.reverse():m}function l(c,f,u){const h=Math.abs(f-c)/u,p=My(([,,b])=>b).right(i,h);if(p===i.length)return e.every(dg(c/jp,f/jp,u));if(p===0)return Vf.every(Math.max(dg(c,f,u),1));const[m,w]=i[h/i[p-1][2]<i[p][2]/h?p-1:p];return m.every(w)}return[s,l]}const[dz,hz]=wO(Ka,Xy,gh,bO,Vy,Gy),[pz,gz]=wO(Va,Ky,ph,Jc,Hy,Uy);function Op(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function _p(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ml(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function mz(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,o=e.days,i=e.shortDays,s=e.months,l=e.shortMonths,c=yl(a),f=vl(a),u=yl(o),h=vl(o),p=yl(i),m=vl(i),w=yl(s),b=vl(s),y=yl(l),g=vl(l),v={a:U,A:D,b:z,B:W,c:null,d:_1,e:_1,f:Bz,g:qz,G:Qz,H:Lz,I:Rz,j:Iz,L:kO,m:Fz,M:zz,p:te,q:Y,Q:A1,s:M1,S:Wz,u:Uz,U:Gz,V:Hz,w:Vz,W:Kz,x:null,X:null,y:Xz,Y:Yz,Z:Zz,"%":N1},S={a:X,A:F,b:ue,B:fe,c:null,d:P1,e:P1,f:r9,g:d9,G:p9,H:Jz,I:e9,j:t9,L:jO,m:n9,M:a9,p:Se,q:ce,Q:A1,s:M1,S:o9,u:i9,U:s9,V:l9,w:c9,W:u9,x:null,X:null,y:f9,Y:h9,Z:g9,"%":N1},x={a:N,A,b:C,B:R,c:I,d:j1,e:j1,f:Ez,g:S1,G:k1,H:O1,I:O1,j:Nz,L:Cz,m:Pz,M:Az,p:P,q:_z,Q:$z,s:Dz,S:Mz,u:wz,U:kz,V:Sz,w:bz,W:jz,x:T,X:L,y:S1,Y:k1,Z:Oz,"%":Tz};v.x=k(r,v),v.X=k(n,v),v.c=k(t,v),S.x=k(r,S),S.X=k(n,S),S.c=k(t,S);function k(J,de){return function(ve){var q=[],Ke=-1,we=0,st=J.length,Be,mt,lr;for(ve instanceof Date||(ve=new Date(+ve));++Ke<st;)J.charCodeAt(Ke)===37&&(q.push(J.slice(we,Ke)),(mt=w1[Be=J.charAt(++Ke)])!=null?Be=J.charAt(++Ke):mt=Be==="e"?" ":"0",(lr=de[Be])&&(Be=lr(ve,mt)),q.push(Be),we=Ke+1);return q.push(J.slice(we,Ke)),q.join("")}}function j(J,de){return function(ve){var q=ml(1900,void 0,1),Ke=_(q,J,ve+="",0),we,st;if(Ke!=ve.length)return null;if("Q"in q)return new Date(q.Q);if("s"in q)return new Date(q.s*1e3+("L"in q?q.L:0));if(de&&!("Z"in q)&&(q.Z=0),"p"in q&&(q.H=q.H%12+q.p*12),q.m===void 0&&(q.m="q"in q?q.q:0),"V"in q){if(q.V<1||q.V>53)return null;"w"in q||(q.w=1),"Z"in q?(we=_p(ml(q.y,0,1)),st=we.getUTCDay(),we=st>4||st===0?Xf.ceil(we):Xf(we),we=hh.offset(we,(q.V-1)*7),q.y=we.getUTCFullYear(),q.m=we.getUTCMonth(),q.d=we.getUTCDate()+(q.w+6)%7):(we=Op(ml(q.y,0,1)),st=we.getDay(),we=st>4||st===0?Kf.ceil(we):Kf(we),we=Jc.offset(we,(q.V-1)*7),q.y=we.getFullYear(),q.m=we.getMonth(),q.d=we.getDate()+(q.w+6)%7)}else("W"in q||"U"in q)&&("w"in q||(q.w="u"in q?q.u%7:"W"in q?1:0),st="Z"in q?_p(ml(q.y,0,1)).getUTCDay():Op(ml(q.y,0,1)).getDay(),q.m=0,q.d="W"in q?(q.w+6)%7+q.W*7-(st+5)%7:q.w+q.U*7-(st+6)%7);return"Z"in q?(q.H+=q.Z/100|0,q.M+=q.Z%100,_p(q)):Op(q)}}function _(J,de,ve,q){for(var Ke=0,we=de.length,st=ve.length,Be,mt;Ke<we;){if(q>=st)return-1;if(Be=de.charCodeAt(Ke++),Be===37){if(Be=de.charAt(Ke++),mt=x[Be in w1?de.charAt(Ke++):Be],!mt||(q=mt(J,ve,q))<0)return-1}else if(Be!=ve.charCodeAt(q++))return-1}return q}function P(J,de,ve){var q=c.exec(de.slice(ve));return q?(J.p=f.get(q[0].toLowerCase()),ve+q[0].length):-1}function N(J,de,ve){var q=p.exec(de.slice(ve));return q?(J.w=m.get(q[0].toLowerCase()),ve+q[0].length):-1}function A(J,de,ve){var q=u.exec(de.slice(ve));return q?(J.w=h.get(q[0].toLowerCase()),ve+q[0].length):-1}function C(J,de,ve){var q=y.exec(de.slice(ve));return q?(J.m=g.get(q[0].toLowerCase()),ve+q[0].length):-1}function R(J,de,ve){var q=w.exec(de.slice(ve));return q?(J.m=b.get(q[0].toLowerCase()),ve+q[0].length):-1}function I(J,de,ve){return _(J,t,de,ve)}function T(J,de,ve){return _(J,r,de,ve)}function L(J,de,ve){return _(J,n,de,ve)}function U(J){return i[J.getDay()]}function D(J){return o[J.getDay()]}function z(J){return l[J.getMonth()]}function W(J){return s[J.getMonth()]}function te(J){return a[+(J.getHours()>=12)]}function Y(J){return 1+~~(J.getMonth()/3)}function X(J){return i[J.getUTCDay()]}function F(J){return o[J.getUTCDay()]}function ue(J){return l[J.getUTCMonth()]}function fe(J){return s[J.getUTCMonth()]}function Se(J){return a[+(J.getUTCHours()>=12)]}function ce(J){return 1+~~(J.getUTCMonth()/3)}return{format:function(J){var de=k(J+="",v);return de.toString=function(){return J},de},parse:function(J){var de=j(J+="",!1);return de.toString=function(){return J},de},utcFormat:function(J){var de=k(J+="",S);return de.toString=function(){return J},de},utcParse:function(J){var de=j(J+="",!0);return de.toString=function(){return J},de}}}var w1={"-":"",_:" ",0:"0"},kr=/^\s*\d+/,yz=/^%/,vz=/[\\^$*+?|[\]().{}]/g;function it(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",o=a.length;return n+(o<r?new Array(r-o+1).join(t)+a:a)}function xz(e){return e.replace(vz,"\\$&")}function yl(e){return new RegExp("^(?:"+e.map(xz).join("|")+")","i")}function vl(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function bz(e,t,r){var n=kr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function wz(e,t,r){var n=kr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function kz(e,t,r){var n=kr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Sz(e,t,r){var n=kr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function jz(e,t,r){var n=kr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function k1(e,t,r){var n=kr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function S1(e,t,r){var n=kr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Oz(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function _z(e,t,r){var n=kr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Pz(e,t,r){var n=kr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function j1(e,t,r){var n=kr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Nz(e,t,r){var n=kr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function O1(e,t,r){var n=kr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Az(e,t,r){var n=kr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Mz(e,t,r){var n=kr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Cz(e,t,r){var n=kr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Ez(e,t,r){var n=kr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Tz(e,t,r){var n=yz.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function $z(e,t,r){var n=kr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Dz(e,t,r){var n=kr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function _1(e,t){return it(e.getDate(),t,2)}function Lz(e,t){return it(e.getHours(),t,2)}function Rz(e,t){return it(e.getHours()%12||12,t,2)}function Iz(e,t){return it(1+Jc.count(Va(e),e),t,3)}function kO(e,t){return it(e.getMilliseconds(),t,3)}function Bz(e,t){return kO(e,t)+"000"}function Fz(e,t){return it(e.getMonth()+1,t,2)}function zz(e,t){return it(e.getMinutes(),t,2)}function Wz(e,t){return it(e.getSeconds(),t,2)}function Uz(e){var t=e.getDay();return t===0?7:t}function Gz(e,t){return it(ph.count(Va(e)-1,e),t,2)}function SO(e){var t=e.getDay();return t>=4||t===0?ms(e):ms.ceil(e)}function Hz(e,t){return e=SO(e),it(ms.count(Va(e),e)+(Va(e).getDay()===4),t,2)}function Vz(e){return e.getDay()}function Kz(e,t){return it(Kf.count(Va(e)-1,e),t,2)}function Xz(e,t){return it(e.getFullYear()%100,t,2)}function qz(e,t){return e=SO(e),it(e.getFullYear()%100,t,2)}function Yz(e,t){return it(e.getFullYear()%1e4,t,4)}function Qz(e,t){var r=e.getDay();return e=r>=4||r===0?ms(e):ms.ceil(e),it(e.getFullYear()%1e4,t,4)}function Zz(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+it(t/60|0,"0",2)+it(t%60,"0",2)}function P1(e,t){return it(e.getUTCDate(),t,2)}function Jz(e,t){return it(e.getUTCHours(),t,2)}function e9(e,t){return it(e.getUTCHours()%12||12,t,2)}function t9(e,t){return it(1+hh.count(Ka(e),e),t,3)}function jO(e,t){return it(e.getUTCMilliseconds(),t,3)}function r9(e,t){return jO(e,t)+"000"}function n9(e,t){return it(e.getUTCMonth()+1,t,2)}function a9(e,t){return it(e.getUTCMinutes(),t,2)}function o9(e,t){return it(e.getUTCSeconds(),t,2)}function i9(e){var t=e.getUTCDay();return t===0?7:t}function s9(e,t){return it(gh.count(Ka(e)-1,e),t,2)}function OO(e){var t=e.getUTCDay();return t>=4||t===0?ys(e):ys.ceil(e)}function l9(e,t){return e=OO(e),it(ys.count(Ka(e),e)+(Ka(e).getUTCDay()===4),t,2)}function c9(e){return e.getUTCDay()}function u9(e,t){return it(Xf.count(Ka(e)-1,e),t,2)}function f9(e,t){return it(e.getUTCFullYear()%100,t,2)}function d9(e,t){return e=OO(e),it(e.getUTCFullYear()%100,t,2)}function h9(e,t){return it(e.getUTCFullYear()%1e4,t,4)}function p9(e,t){var r=e.getUTCDay();return e=r>=4||r===0?ys(e):ys.ceil(e),it(e.getUTCFullYear()%1e4,t,4)}function g9(){return"+0000"}function N1(){return"%"}function A1(e){return+e}function M1(e){return Math.floor(+e/1e3)}var Ai,_O,PO;m9({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function m9(e){return Ai=mz(e),_O=Ai.format,Ai.parse,PO=Ai.utcFormat,Ai.utcParse,Ai}function y9(e){return new Date(e)}function v9(e){return e instanceof Date?+e:+new Date(+e)}function qy(e,t,r,n,a,o,i,s,l,c){var f=Dy(),u=f.invert,h=f.domain,p=c(".%L"),m=c(":%S"),w=c("%I:%M"),b=c("%I %p"),y=c("%a %d"),g=c("%b %d"),v=c("%B"),S=c("%Y");function x(k){return(l(k)<k?p:s(k)<k?m:i(k)<k?w:o(k)<k?b:n(k)<k?a(k)<k?y:g:r(k)<k?v:S)(k)}return f.invert=function(k){return new Date(u(k))},f.domain=function(k){return arguments.length?h(Array.from(k,v9)):h().map(y9)},f.ticks=function(k){var j=h();return e(j[0],j[j.length-1],k??10)},f.tickFormat=function(k,j){return j==null?x:c(j)},f.nice=function(k){var j=h();return(!k||typeof k.range!="function")&&(k=t(j[0],j[j.length-1],k??10)),k?h(hO(j,k)):f},f.copy=function(){return Zc(f,qy(e,t,r,n,a,o,i,s,l,c))},f}function x9(){return Gn.apply(qy(pz,gz,Va,Ky,ph,Jc,Hy,Uy,qo,_O).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function b9(){return Gn.apply(qy(dz,hz,Ka,Xy,gh,hh,Vy,Gy,qo,PO).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function mh(){var e=0,t=1,r,n,a,o,i=Xr,s=!1,l;function c(u){return u==null||isNaN(u=+u)?l:i(a===0?.5:(u=(o(u)-r)*a,s?Math.max(0,Math.min(1,u)):u))}c.domain=function(u){return arguments.length?([e,t]=u,r=o(e=+e),n=o(t=+t),a=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(u){return arguments.length?(s=!!u,c):s},c.interpolator=function(u){return arguments.length?(i=u,c):i};function f(u){return function(h){var p,m;return arguments.length?([p,m]=h,i=u(p,m),c):[i(0),i(1)]}}return c.range=f(Xs),c.rangeRound=f($y),c.unknown=function(u){return arguments.length?(l=u,c):l},function(u){return o=u,r=u(e),n=u(t),a=r===n?0:1/(n-r),c}}function $o(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function NO(){var e=To(mh()(Xr));return e.copy=function(){return $o(e,NO())},Qa.apply(e,arguments)}function AO(){var e=Iy(mh()).domain([1,10]);return e.copy=function(){return $o(e,AO()).base(e.base())},Qa.apply(e,arguments)}function MO(){var e=By(mh());return e.copy=function(){return $o(e,MO()).constant(e.constant())},Qa.apply(e,arguments)}function Yy(){var e=Fy(mh());return e.copy=function(){return $o(e,Yy()).exponent(e.exponent())},Qa.apply(e,arguments)}function w9(){return Yy.apply(null,arguments).exponent(.5)}function CO(){var e=[],t=Xr;function r(n){if(n!=null&&!isNaN(n=+n))return t((Yc(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(jo),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,o)=>sF(e,o/n))},r.copy=function(){return CO(t).domain(e)},Qa.apply(r,arguments)}function yh(){var e=0,t=.5,r=1,n=1,a,o,i,s,l,c=Xr,f,u=!1,h;function p(w){return isNaN(w=+w)?h:(w=.5+((w=+f(w))-o)*(n*w<n*o?s:l),c(u?Math.max(0,Math.min(1,w)):w))}p.domain=function(w){return arguments.length?([e,t,r]=w,a=f(e=+e),o=f(t=+t),i=f(r=+r),s=a===o?0:.5/(o-a),l=o===i?0:.5/(i-o),n=o<a?-1:1,p):[e,t,r]},p.clamp=function(w){return arguments.length?(u=!!w,p):u},p.interpolator=function(w){return arguments.length?(c=w,p):c};function m(w){return function(b){var y,g,v;return arguments.length?([y,g,v]=b,c=TF(w,[y,g,v]),p):[c(0),c(.5),c(1)]}}return p.range=m(Xs),p.rangeRound=m($y),p.unknown=function(w){return arguments.length?(h=w,p):h},function(w){return f=w,a=w(e),o=w(t),i=w(r),s=a===o?0:.5/(o-a),l=o===i?0:.5/(i-o),n=o<a?-1:1,p}}function EO(){var e=To(yh()(Xr));return e.copy=function(){return $o(e,EO())},Qa.apply(e,arguments)}function TO(){var e=Iy(yh()).domain([.1,1,10]);return e.copy=function(){return $o(e,TO()).base(e.base())},Qa.apply(e,arguments)}function $O(){var e=By(yh());return e.copy=function(){return $o(e,$O()).constant(e.constant())},Qa.apply(e,arguments)}function Qy(){var e=Fy(yh());return e.copy=function(){return $o(e,Qy()).exponent(e.exponent())},Qa.apply(e,arguments)}function k9(){return Qy.apply(null,arguments).exponent(.5)}const C1=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:gc,scaleDiverging:EO,scaleDivergingLog:TO,scaleDivergingPow:Qy,scaleDivergingSqrt:k9,scaleDivergingSymlog:$O,scaleIdentity:dO,scaleImplicit:hg,scaleLinear:Hf,scaleLog:pO,scaleOrdinal:Cy,scalePoint:Il,scalePow:zy,scaleQuantile:yO,scaleQuantize:vO,scaleRadial:mO,scaleSequential:NO,scaleSequentialLog:AO,scaleSequentialPow:Yy,scaleSequentialQuantile:CO,scaleSequentialSqrt:w9,scaleSequentialSymlog:MO,scaleSqrt:rz,scaleSymlog:gO,scaleThreshold:xO,scaleTime:x9,scaleUtc:b9,tickFormat:fO},Symbol.toStringTag,{value:"Module"}));var S9=Bs;function j9(e,t,r){for(var n=-1,a=e.length;++n<a;){var o=e[n],i=t(o);if(i!=null&&(s===void 0?i===i&&!S9(i):r(i,s)))var s=i,l=o}return l}var DO=j9;function O9(e,t){return e>t}var _9=O9,P9=DO,N9=_9,A9=Ks;function M9(e){return e&&e.length?P9(e,A9,N9):void 0}var C9=M9;const ho=Mt(C9);function E9(e,t){return e<t}var T9=E9,$9=DO,D9=T9,L9=Ks;function R9(e){return e&&e.length?$9(e,L9,D9):void 0}var I9=R9;const vh=Mt(I9);var B9=fy,F9=Co,z9=Gj,W9=dn;function U9(e,t){var r=W9(e)?B9:z9;return r(e,F9(t))}var G9=U9,H9=Wj,V9=G9;function K9(e,t){return H9(V9(e,t),1)}var X9=K9;const q9=Mt(X9);var Y9=Oy;function Q9(e,t){return Y9(e,t)}var Z9=Q9;const di=Mt(Z9);var qs=1e9,J9={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Jy,zt=!0,Wn="[DecimalError] ",ni=Wn+"Invalid argument: ",Zy=Wn+"Exponent out of range: ",Ys=Math.floor,Uo=Math.pow,e7=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,vn,xr=1e7,Rt=7,LO=9007199254740991,qf=Ys(LO/Rt),ge={};ge.absoluteValue=ge.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ge.comparedTo=ge.cmp=function(e){var t,r,n,a,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(n=o.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return n===a?0:n>a^o.s<0?1:-1};ge.decimalPlaces=ge.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Rt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ge.dividedBy=ge.div=function(e){return Fa(this,new this.constructor(e))};ge.dividedToIntegerBy=ge.idiv=function(e){var t=this,r=t.constructor;return At(Fa(t,new r(e),0,1),r.precision)};ge.equals=ge.eq=function(e){return!this.cmp(e)};ge.exponent=function(){return sr(this)};ge.greaterThan=ge.gt=function(e){return this.cmp(e)>0};ge.greaterThanOrEqualTo=ge.gte=function(e){return this.cmp(e)>=0};ge.isInteger=ge.isint=function(){return this.e>this.d.length-2};ge.isNegative=ge.isneg=function(){return this.s<0};ge.isPositive=ge.ispos=function(){return this.s>0};ge.isZero=function(){return this.s===0};ge.lessThan=ge.lt=function(e){return this.cmp(e)<0};ge.lessThanOrEqualTo=ge.lte=function(e){return this.cmp(e)<1};ge.logarithm=ge.log=function(e){var t,r=this,n=r.constructor,a=n.precision,o=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(vn))throw Error(Wn+"NaN");if(r.s<1)throw Error(Wn+(r.s?"NaN":"-Infinity"));return r.eq(vn)?new n(0):(zt=!1,t=Fa(bc(r,o),bc(e,o),o),zt=!0,At(t,a))};ge.minus=ge.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?BO(t,e):RO(t,(e.s=-e.s,e))};ge.modulo=ge.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Wn+"NaN");return r.s?(zt=!1,t=Fa(r,e,0,1).times(e),zt=!0,r.minus(t)):At(new n(r),a)};ge.naturalExponential=ge.exp=function(){return IO(this)};ge.naturalLogarithm=ge.ln=function(){return bc(this)};ge.negated=ge.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ge.plus=ge.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?RO(t,e):BO(t,(e.s=-e.s,e))};ge.precision=ge.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ni+e);if(t=sr(a)+1,n=a.d.length-1,r=n*Rt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ge.squareRoot=ge.sqrt=function(){var e,t,r,n,a,o,i,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Wn+"NaN")}for(e=sr(s),zt=!1,a=Math.sqrt(+s),a==0||a==1/0?(t=ya(s.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Ys((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(a.toString()),r=l.precision,a=i=r+3;;)if(o=n,n=o.plus(Fa(s,o,i+2)).times(.5),ya(o.d).slice(0,i)===(t=ya(n.d)).slice(0,i)){if(t=t.slice(i-3,i+1),a==i&&t=="4999"){if(At(o,r+1,0),o.times(o).eq(s)){n=o;break}}else if(t!="9999")break;i+=4}return zt=!0,At(n,r)};ge.times=ge.mul=function(e){var t,r,n,a,o,i,s,l,c,f=this,u=f.constructor,h=f.d,p=(e=new u(e)).d;if(!f.s||!e.s)return new u(0);for(e.s*=f.s,r=f.e+e.e,l=h.length,c=p.length,l<c&&(o=h,h=p,p=o,i=l,l=c,c=i),o=[],i=l+c,n=i;n--;)o.push(0);for(n=c;--n>=0;){for(t=0,a=l+n;a>n;)s=o[a]+p[n]*h[a-n-1]+t,o[a--]=s%xr|0,t=s/xr|0;o[a]=(o[a]+t)%xr|0}for(;!o[--i];)o.pop();return t?++r:o.shift(),e.d=o,e.e=r,zt?At(e,u.precision):e};ge.toDecimalPlaces=ge.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(ja(e,0,qs),t===void 0?t=n.rounding:ja(t,0,8),At(r,e+sr(r)+1,t))};ge.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=hi(n,!0):(ja(e,0,qs),t===void 0?t=a.rounding:ja(t,0,8),n=At(new a(n),e+1,t),r=hi(n,!0,e+1)),r};ge.toFixed=function(e,t){var r,n,a=this,o=a.constructor;return e===void 0?hi(a):(ja(e,0,qs),t===void 0?t=o.rounding:ja(t,0,8),n=At(new o(a),e+sr(a)+1,t),r=hi(n.abs(),!1,e+sr(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};ge.toInteger=ge.toint=function(){var e=this,t=e.constructor;return At(new t(e),sr(e)+1,t.rounding)};ge.toNumber=function(){return+this};ge.toPower=ge.pow=function(e){var t,r,n,a,o,i,s=this,l=s.constructor,c=12,f=+(e=new l(e));if(!e.s)return new l(vn);if(s=new l(s),!s.s){if(e.s<1)throw Error(Wn+"Infinity");return s}if(s.eq(vn))return s;if(n=l.precision,e.eq(vn))return At(s,n);if(t=e.e,r=e.d.length-1,i=t>=r,o=s.s,i){if((r=f<0?-f:f)<=LO){for(a=new l(vn),t=Math.ceil(n/Rt+4),zt=!1;r%2&&(a=a.times(s),T1(a.d,t)),r=Ys(r/2),r!==0;)s=s.times(s),T1(s.d,t);return zt=!0,e.s<0?new l(vn).div(a):At(a,n)}}else if(o<0)throw Error(Wn+"NaN");return o=o<0&&e.d[Math.max(t,r)]&1?-1:1,s.s=1,zt=!1,a=e.times(bc(s,n+c)),zt=!0,a=IO(a),a.s=o,a};ge.toPrecision=function(e,t){var r,n,a=this,o=a.constructor;return e===void 0?(r=sr(a),n=hi(a,r<=o.toExpNeg||r>=o.toExpPos)):(ja(e,1,qs),t===void 0?t=o.rounding:ja(t,0,8),a=At(new o(a),e,t),r=sr(a),n=hi(a,e<=r||r<=o.toExpNeg,e)),n};ge.toSignificantDigits=ge.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(ja(e,1,qs),t===void 0?t=n.rounding:ja(t,0,8)),At(new n(r),e,t)};ge.toString=ge.valueOf=ge.val=ge.toJSON=ge[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=sr(e),r=e.constructor;return hi(e,t<=r.toExpNeg||t>=r.toExpPos)};function RO(e,t){var r,n,a,o,i,s,l,c,f=e.constructor,u=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),zt?At(t,u):t;if(l=e.d,c=t.d,i=e.e,a=t.e,l=l.slice(),o=i-a,o){for(o<0?(n=l,o=-o,s=c.length):(n=c,a=i,s=l.length),i=Math.ceil(u/Rt),s=i>s?i+1:s+1,o>s&&(o=s,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(s=l.length,o=c.length,s-o<0&&(o=s,n=c,c=l,l=n),r=0;o;)r=(l[--o]=l[o]+c[o]+r)/xr|0,l[o]%=xr;for(r&&(l.unshift(r),++a),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=a,zt?At(t,u):t}function ja(e,t,r){if(e!==~~e||e<t||e>r)throw Error(ni+e)}function ya(e){var t,r,n,a=e.length-1,o="",i=e[0];if(a>0){for(o+=i,t=1;t<a;t++)n=e[t]+"",r=Rt-n.length,r&&(o+=io(r)),o+=n;i=e[t],n=i+"",r=Rt-n.length,r&&(o+=io(r))}else if(i===0)return"0";for(;i%10===0;)i/=10;return o+i}var Fa=function(){function e(n,a){var o,i=0,s=n.length;for(n=n.slice();s--;)o=n[s]*a+i,n[s]=o%xr|0,i=o/xr|0;return i&&n.unshift(i),n}function t(n,a,o,i){var s,l;if(o!=i)l=o>i?1:-1;else for(s=l=0;s<o;s++)if(n[s]!=a[s]){l=n[s]>a[s]?1:-1;break}return l}function r(n,a,o){for(var i=0;o--;)n[o]-=i,i=n[o]<a[o]?1:0,n[o]=i*xr+n[o]-a[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,o,i){var s,l,c,f,u,h,p,m,w,b,y,g,v,S,x,k,j,_,P=n.constructor,N=n.s==a.s?1:-1,A=n.d,C=a.d;if(!n.s)return new P(n);if(!a.s)throw Error(Wn+"Division by zero");for(l=n.e-a.e,j=C.length,x=A.length,p=new P(N),m=p.d=[],c=0;C[c]==(A[c]||0);)++c;if(C[c]>(A[c]||0)&&--l,o==null?g=o=P.precision:i?g=o+(sr(n)-sr(a))+1:g=o,g<0)return new P(0);if(g=g/Rt+2|0,c=0,j==1)for(f=0,C=C[0],g++;(c<x||f)&&g--;c++)v=f*xr+(A[c]||0),m[c]=v/C|0,f=v%C|0;else{for(f=xr/(C[0]+1)|0,f>1&&(C=e(C,f),A=e(A,f),j=C.length,x=A.length),S=j,w=A.slice(0,j),b=w.length;b<j;)w[b++]=0;_=C.slice(),_.unshift(0),k=C[0],C[1]>=xr/2&&++k;do f=0,s=t(C,w,j,b),s<0?(y=w[0],j!=b&&(y=y*xr+(w[1]||0)),f=y/k|0,f>1?(f>=xr&&(f=xr-1),u=e(C,f),h=u.length,b=w.length,s=t(u,w,h,b),s==1&&(f--,r(u,j<h?_:C,h))):(f==0&&(s=f=1),u=C.slice()),h=u.length,h<b&&u.unshift(0),r(w,u,b),s==-1&&(b=w.length,s=t(C,w,j,b),s<1&&(f++,r(w,j<b?_:C,b))),b=w.length):s===0&&(f++,w=[0]),m[c++]=f,s&&w[0]?w[b++]=A[S]||0:(w=[A[S]],b=1);while((S++<x||w[0]!==void 0)&&g--)}return m[0]||m.shift(),p.e=l,At(p,i?o+sr(p)+1:o)}}();function IO(e,t){var r,n,a,o,i,s,l=0,c=0,f=e.constructor,u=f.precision;if(sr(e)>16)throw Error(Zy+sr(e));if(!e.s)return new f(vn);for(zt=!1,s=u,i=new f(.03125);e.abs().gte(.1);)e=e.times(i),c+=5;for(n=Math.log(Uo(2,c))/Math.LN10*2+5|0,s+=n,r=a=o=new f(vn),f.precision=s;;){if(a=At(a.times(e),s),r=r.times(++l),i=o.plus(Fa(a,r,s)),ya(i.d).slice(0,s)===ya(o.d).slice(0,s)){for(;c--;)o=At(o.times(o),s);return f.precision=u,t==null?(zt=!0,At(o,u)):o}o=i}}function sr(e){for(var t=e.e*Rt,r=e.d[0];r>=10;r/=10)t++;return t}function Pp(e,t,r){if(t>e.LN10.sd())throw zt=!0,r&&(e.precision=r),Error(Wn+"LN10 precision limit exceeded");return At(new e(e.LN10),t)}function io(e){for(var t="";e--;)t+="0";return t}function bc(e,t){var r,n,a,o,i,s,l,c,f,u=1,h=10,p=e,m=p.d,w=p.constructor,b=w.precision;if(p.s<1)throw Error(Wn+(p.s?"NaN":"-Infinity"));if(p.eq(vn))return new w(0);if(t==null?(zt=!1,c=b):c=t,p.eq(10))return t==null&&(zt=!0),Pp(w,c);if(c+=h,w.precision=c,r=ya(m),n=r.charAt(0),o=sr(p),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=ya(p.d),n=r.charAt(0),u++;o=sr(p),n>1?(p=new w("0."+r),o++):p=new w(n+"."+r.slice(1))}else return l=Pp(w,c+2,b).times(o+""),p=bc(new w(n+"."+r.slice(1)),c-h).plus(l),w.precision=b,t==null?(zt=!0,At(p,b)):p;for(s=i=p=Fa(p.minus(vn),p.plus(vn),c),f=At(p.times(p),c),a=3;;){if(i=At(i.times(f),c),l=s.plus(Fa(i,new w(a),c)),ya(l.d).slice(0,c)===ya(s.d).slice(0,c))return s=s.times(2),o!==0&&(s=s.plus(Pp(w,c+2,b).times(o+""))),s=Fa(s,new w(u),c),w.precision=b,t==null?(zt=!0,At(s,b)):s;s=l,a+=2}}function E1(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Ys(r/Rt),e.d=[],n=(r+1)%Rt,r<0&&(n+=Rt),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Rt;n<a;)e.d.push(+t.slice(n,n+=Rt));t=t.slice(n),n=Rt-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),zt&&(e.e>qf||e.e<-qf))throw Error(Zy+r)}else e.s=0,e.e=0,e.d=[0];return e}function At(e,t,r){var n,a,o,i,s,l,c,f,u=e.d;for(i=1,o=u[0];o>=10;o/=10)i++;if(n=t-i,n<0)n+=Rt,a=t,c=u[f=0];else{if(f=Math.ceil((n+1)/Rt),o=u.length,f>=o)return e;for(c=o=u[f],i=1;o>=10;o/=10)i++;n%=Rt,a=n-Rt+i}if(r!==void 0&&(o=Uo(10,i-a-1),s=c/o%10|0,l=t<0||u[f+1]!==void 0||c%o,l=r<4?(s||l)&&(r==0||r==(e.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?a>0?c/Uo(10,i-a):0:u[f-1])%10&1||r==(e.s<0?8:7))),t<1||!u[0])return l?(o=sr(e),u.length=1,t=t-o-1,u[0]=Uo(10,(Rt-t%Rt)%Rt),e.e=Ys(-t/Rt)||0):(u.length=1,u[0]=e.e=e.s=0),e;if(n==0?(u.length=f,o=1,f--):(u.length=f+1,o=Uo(10,Rt-n),u[f]=a>0?(c/Uo(10,i-a)%Uo(10,a)|0)*o:0),l)for(;;)if(f==0){(u[0]+=o)==xr&&(u[0]=1,++e.e);break}else{if(u[f]+=o,u[f]!=xr)break;u[f--]=0,o=1}for(n=u.length;u[--n]===0;)u.pop();if(zt&&(e.e>qf||e.e<-qf))throw Error(Zy+sr(e));return e}function BO(e,t){var r,n,a,o,i,s,l,c,f,u,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),zt?At(t,p):t;if(l=e.d,u=t.d,n=t.e,c=e.e,l=l.slice(),i=c-n,i){for(f=i<0,f?(r=l,i=-i,s=u.length):(r=u,n=c,s=l.length),a=Math.max(Math.ceil(p/Rt),s)+2,i>a&&(i=a,r.length=1),r.reverse(),a=i;a--;)r.push(0);r.reverse()}else{for(a=l.length,s=u.length,f=a<s,f&&(s=a),a=0;a<s;a++)if(l[a]!=u[a]){f=l[a]<u[a];break}i=0}for(f&&(r=l,l=u,u=r,t.s=-t.s),s=l.length,a=u.length-s;a>0;--a)l[s++]=0;for(a=u.length;a>i;){if(l[--a]<u[a]){for(o=a;o&&l[--o]===0;)l[o]=xr-1;--l[o],l[a]+=xr}l[a]-=u[a]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,zt?At(t,p):t):new h(0)}function hi(e,t,r){var n,a=sr(e),o=ya(e.d),i=o.length;return t?(r&&(n=r-i)>0?o=o.charAt(0)+"."+o.slice(1)+io(n):i>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(a<0?"e":"e+")+a):a<0?(o="0."+io(-a-1)+o,r&&(n=r-i)>0&&(o+=io(n))):a>=i?(o+=io(a+1-i),r&&(n=r-a-1)>0&&(o=o+"."+io(n))):((n=a+1)<i&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-i)>0&&(a+1===i&&(o+="."),o+=io(n))),e.s<0?"-"+o:o}function T1(e,t){if(e.length>t)return e.length=t,!0}function FO(e){var t,r,n;function a(o){var i=this;if(!(i instanceof a))return new a(o);if(i.constructor=a,o instanceof a){i.s=o.s,i.e=o.e,i.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(ni+o);if(o>0)i.s=1;else if(o<0)o=-o,i.s=-1;else{i.s=0,i.e=0,i.d=[0];return}if(o===~~o&&o<1e7){i.e=0,i.d=[o];return}return E1(i,o.toString())}else if(typeof o!="string")throw Error(ni+o);if(o.charCodeAt(0)===45?(o=o.slice(1),i.s=-1):i.s=1,e7.test(o))E1(i,o);else throw Error(ni+o)}if(a.prototype=ge,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=FO,a.config=a.set=t7,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function t7(e){if(!e||typeof e!="object")throw Error(Wn+"Object expected");var t,r,n,a=["precision",1,qs,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Ys(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(ni+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(ni+r+": "+n);return this}var Jy=FO(J9);vn=new Jy(1);const jt=Jy;function r7(e){return i7(e)||o7(e)||a7(e)||n7()}function n7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a7(e,t){if(e){if(typeof e=="string")return yg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yg(e,t)}}function o7(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function i7(e){if(Array.isArray(e))return yg(e)}function yg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var s7=function(t){return t},zO={},WO=function(t){return t===zO},$1=function(t){return function r(){return arguments.length===0||arguments.length===1&&WO(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},l7=function e(t,r){return t===1?r:$1(function(){for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];var i=a.filter(function(s){return s!==zO}).length;return i>=t?r.apply(void 0,a):e(t-i,$1(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var f=a.map(function(u){return WO(u)?l.shift():u});return r.apply(void 0,r7(f).concat(l))}))})},xh=function(t){return l7(t.length,t)},vg=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},c7=xh(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),u7=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return s7;var a=r.reverse(),o=a[0],i=a.slice(1);return function(){return i.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},xg=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},UO=function(t){var r=null,n=null;return function(){for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return r&&o.every(function(s,l){return s===r[l]})||(r=o,n=t.apply(void 0,o)),n}};function f7(e){var t;return e===0?t=1:t=Math.floor(new jt(e).abs().log(10).toNumber())+1,t}function d7(e,t,r){for(var n=new jt(e),a=0,o=[];n.lt(t)&&a<1e5;)o.push(n.toNumber()),n=n.add(r),a++;return o}var h7=xh(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),p7=xh(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),g7=xh(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const bh={rangeStep:d7,getDigitCount:f7,interpolateNumber:h7,uninterpolateNumber:p7,uninterpolateTruncation:g7};function bg(e){return v7(e)||y7(e)||GO(e)||m7()}function m7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y7(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function v7(e){if(Array.isArray(e))return wg(e)}function wc(e,t){return w7(e)||b7(e,t)||GO(e,t)||x7()}function x7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GO(e,t){if(e){if(typeof e=="string")return wg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wg(e,t)}}function wg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function b7(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,o=void 0;try{for(var i=e[Symbol.iterator](),s;!(n=(s=i.next()).done)&&(r.push(s.value),!(t&&r.length===t));n=!0);}catch(l){a=!0,o=l}finally{try{!n&&i.return!=null&&i.return()}finally{if(a)throw o}}return r}}function w7(e){if(Array.isArray(e))return e}function HO(e){var t=wc(e,2),r=t[0],n=t[1],a=r,o=n;return r>n&&(a=n,o=r),[a,o]}function VO(e,t,r){if(e.lte(0))return new jt(0);var n=bh.getDigitCount(e.toNumber()),a=new jt(10).pow(n),o=e.div(a),i=n!==1?.05:.1,s=new jt(Math.ceil(o.div(i).toNumber())).add(r).mul(i),l=s.mul(a);return t?l:new jt(Math.ceil(l))}function k7(e,t,r){var n=1,a=new jt(e);if(!a.isint()&&r){var o=Math.abs(e);o<1?(n=new jt(10).pow(bh.getDigitCount(e)-1),a=new jt(Math.floor(a.div(n).toNumber())).mul(n)):o>1&&(a=new jt(Math.floor(e)))}else e===0?a=new jt(Math.floor((t-1)/2)):r||(a=new jt(Math.floor(e)));var i=Math.floor((t-1)/2),s=u7(c7(function(l){return a.add(new jt(l-i).mul(n)).toNumber()}),vg);return s(0,t)}function KO(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new jt(0),tickMin:new jt(0),tickMax:new jt(0)};var o=VO(new jt(t).sub(e).div(r-1),n,a),i;e<=0&&t>=0?i=new jt(0):(i=new jt(e).add(t).div(2),i=i.sub(new jt(i).mod(o)));var s=Math.ceil(i.sub(e).div(o).toNumber()),l=Math.ceil(new jt(t).sub(i).div(o).toNumber()),c=s+l+1;return c>r?KO(e,t,r,n,a+1):(c<r&&(l=t>0?l+(r-c):l,s=t>0?s:s+(r-c)),{step:o,tickMin:i.sub(new jt(s).mul(o)),tickMax:i.add(new jt(l).mul(o))})}function S7(e){var t=wc(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(a,2),s=HO([r,n]),l=wc(s,2),c=l[0],f=l[1];if(c===-1/0||f===1/0){var u=f===1/0?[c].concat(bg(vg(0,a-1).map(function(){return 1/0}))):[].concat(bg(vg(0,a-1).map(function(){return-1/0})),[f]);return r>n?xg(u):u}if(c===f)return k7(c,a,o);var h=KO(c,f,i,o),p=h.step,m=h.tickMin,w=h.tickMax,b=bh.rangeStep(m,w.add(new jt(.1).mul(p)),p);return r>n?xg(b):b}function j7(e,t){var r=wc(e,2),n=r[0],a=r[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=HO([n,a]),s=wc(i,2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[n,a];if(l===c)return[l];var f=Math.max(t,2),u=VO(new jt(c).sub(l).div(f-1),o,0),h=[].concat(bg(bh.rangeStep(new jt(l),new jt(c).sub(new jt(.99).mul(u)),u)),[c]);return n>a?xg(h):h}var O7=UO(S7),_7=UO(j7),P7="Invariant failed";function pi(e,t){throw new Error(P7)}var N7=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function vs(e){"@babel/helpers - typeof";return vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vs(e)}function Yf(){return Yf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yf.apply(this,arguments)}function A7(e,t){return T7(e)||E7(e,t)||C7(e,t)||M7()}function M7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C7(e,t){if(e){if(typeof e=="string")return D1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D1(e,t)}}function D1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function E7(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function T7(e){if(Array.isArray(e))return e}function $7(e,t){if(e==null)return{};var r=D7(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function D7(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function L7(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R7(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,YO(n.key),n)}}function I7(e,t,r){return t&&R7(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function B7(e,t,r){return t=Qf(t),F7(e,XO()?Reflect.construct(t,r||[],Qf(e).constructor):t.apply(e,r))}function F7(e,t){if(t&&(vs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return z7(e)}function z7(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XO=function(){return!!e})()}function Qf(e){return Qf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qf(e)}function W7(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kg(e,t)}function kg(e,t){return kg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},kg(e,t)}function qO(e,t,r){return t=YO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YO(e){var t=U7(e,"string");return vs(t)=="symbol"?t:t+""}function U7(e,t){if(vs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Qs=function(e){function t(){return L7(this,t),B7(this,t,arguments)}return W7(t,e),I7(t,[{key:"render",value:function(){var n=this.props,a=n.offset,o=n.layout,i=n.width,s=n.dataKey,l=n.data,c=n.dataPointFormatter,f=n.xAxis,u=n.yAxis,h=$7(n,N7),p=Le(h,!1);this.props.direction==="x"&&f.type!=="number"&&pi();var m=l.map(function(w){var b=c(w,s),y=b.x,g=b.y,v=b.value,S=b.errorVal;if(!S)return null;var x=[],k,j;if(Array.isArray(S)){var _=A7(S,2);k=_[0],j=_[1]}else k=j=S;if(o==="vertical"){var P=f.scale,N=g+a,A=N+i,C=N-i,R=P(v-k),I=P(v+j);x.push({x1:I,y1:A,x2:I,y2:C}),x.push({x1:R,y1:N,x2:I,y2:N}),x.push({x1:R,y1:A,x2:R,y2:C})}else if(o==="horizontal"){var T=u.scale,L=y+a,U=L-i,D=L+i,z=T(v-k),W=T(v+j);x.push({x1:U,y1:W,x2:D,y2:W}),x.push({x1:L,y1:z,x2:L,y2:W}),x.push({x1:U,y1:z,x2:D,y2:z})}return M.createElement(ut,Yf({className:"recharts-errorBar",key:"bar-".concat(x.map(function(te){return"".concat(te.x1,"-").concat(te.x2,"-").concat(te.y1,"-").concat(te.y2)}))},p),x.map(function(te){return M.createElement("line",Yf({},te,{key:"line-".concat(te.x1,"-").concat(te.x2,"-").concat(te.y1,"-").concat(te.y2)}))}))});return M.createElement(ut,{className:"recharts-errorBars"},m)}}])}(M.Component);qO(Qs,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});qO(Qs,"displayName","ErrorBar");function kc(e){"@babel/helpers - typeof";return kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kc(e)}function L1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Io(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L1(Object(r),!0).forEach(function(n){G7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function G7(e,t,r){return t=H7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H7(e){var t=V7(e,"string");return kc(t)=="symbol"?t:t+""}function V7(e,t){if(kc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QO=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,o=t.legendContent,i=yn(r,Ba);if(!i)return null;var s=Ba.defaultProps,l=s!==void 0?Io(Io({},s),i.props):{},c;return i.props&&i.props.payload?c=i.props&&i.props.payload:o==="children"?c=(n||[]).reduce(function(f,u){var h=u.item,p=u.props,m=p.sectors||p.data||[];return f.concat(m.map(function(w){return{type:i.props.iconType||h.props.legendType,value:w.name,color:w.fill,payload:w}}))},[]):c=(n||[]).map(function(f){var u=f.item,h=u.type.defaultProps,p=h!==void 0?Io(Io({},h),u.props):{},m=p.dataKey,w=p.name,b=p.legendType,y=p.hide;return{inactive:y,dataKey:m,type:l.iconType||b||"square",color:ev(u),value:w||m,payload:p}}),Io(Io(Io({},l),Ba.getWithHeight(i,a)),{},{payload:c,item:i})};function Sc(e){"@babel/helpers - typeof";return Sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sc(e)}function R1(e){return Y7(e)||q7(e)||X7(e)||K7()}function K7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X7(e,t){if(e){if(typeof e=="string")return Sg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Sg(e,t)}}function q7(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Y7(e){if(Array.isArray(e))return Sg(e)}function Sg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function I1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I1(Object(r),!0).forEach(function(n){ts(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ts(e,t,r){return t=Q7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q7(e){var t=Z7(e,"string");return Sc(t)=="symbol"?t:t+""}function Z7(e,t){if(Sc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gr(e,t,r){return De(e)||De(t)?r:pr(t)?Bn(e,t,r):Re(t)?t(e):r}function Bl(e,t,r,n){var a=q9(e,function(s){return gr(s,t)});if(r==="number"){var o=a.filter(function(s){return ie(s)||parseFloat(s)});return o.length?[vh(o),ho(o)]:[1/0,-1/0]}var i=n?a.filter(function(s){return!De(s)}):a;return i.map(function(s){return pr(s)||s instanceof Date?s:""})}var J7=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,i=-1,s=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,c=0;c<s;c++){var f=c>0?a[c-1].coordinate:a[s-1].coordinate,u=a[c].coordinate,h=c>=s-1?a[0].coordinate:a[c+1].coordinate,p=void 0;if(na(u-f)!==na(h-u)){var m=[];if(na(h-u)===na(l[1]-l[0])){p=h;var w=u+l[1]-l[0];m[0]=Math.min(w,(w+f)/2),m[1]=Math.max(w,(w+f)/2)}else{p=f;var b=h+l[1]-l[0];m[0]=Math.min(u,(b+u)/2),m[1]=Math.max(u,(b+u)/2)}var y=[Math.min(u,(p+u)/2),Math.max(u,(p+u)/2)];if(t>y[0]&&t<=y[1]||t>=m[0]&&t<=m[1]){i=a[c].index;break}}else{var g=Math.min(f,h),v=Math.max(f,h);if(t>(g+u)/2&&t<=(v+u)/2){i=a[c].index;break}}}else for(var S=0;S<s;S++)if(S===0&&t<=(n[S].coordinate+n[S+1].coordinate)/2||S>0&&S<s-1&&t>(n[S].coordinate+n[S-1].coordinate)/2&&t<=(n[S].coordinate+n[S+1].coordinate)/2||S===s-1&&t>(n[S].coordinate+n[S-1].coordinate)/2){i=n[S].index;break}return i},ev=function(t){var r,n=t,a=n.type.displayName,o=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Qt(Qt({},t.type.defaultProps),t.props):t.props,i=o.stroke,s=o.fill,l;switch(a){case"Line":l=i;break;case"Area":case"Radar":l=i&&i!=="none"?i:s;break;default:l=s;break}return l},eW=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,o=a===void 0?{}:a;if(!o)return{};for(var i={},s=Object.keys(o),l=0,c=s.length;l<c;l++)for(var f=o[s[l]].stackGroups,u=Object.keys(f),h=0,p=u.length;h<p;h++){var m=f[u[h]],w=m.items,b=m.cateAxisId,y=w.filter(function(j){return Ra(j.type).indexOf("Bar")>=0});if(y&&y.length){var g=y[0].type.defaultProps,v=g!==void 0?Qt(Qt({},g),y[0].props):y[0].props,S=v.barSize,x=v[b];i[x]||(i[x]=[]);var k=De(S)?r:S;i[x].push({item:y[0],stackList:y.slice(1),barSize:De(k)?void 0:fi(k,n,0)})}}return i},tW=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,o=t.sizeList,i=o===void 0?[]:o,s=t.maxBarSize,l=i.length;if(l<1)return null;var c=fi(r,a,0,!0),f,u=[];if(i[0].barSize===+i[0].barSize){var h=!1,p=a/l,m=i.reduce(function(S,x){return S+x.barSize||0},0);m+=(l-1)*c,m>=a&&(m-=(l-1)*c,c=0),m>=a&&p>0&&(h=!0,p*=.9,m=l*p);var w=(a-m)/2>>0,b={offset:w-c,size:0};f=i.reduce(function(S,x){var k={item:x.item,position:{offset:b.offset+b.size+c,size:h?p:x.barSize}},j=[].concat(R1(S),[k]);return b=j[j.length-1].position,x.stackList&&x.stackList.length&&x.stackList.forEach(function(_){j.push({item:_,position:b})}),j},u)}else{var y=fi(n,a,0,!0);a-2*y-(l-1)*c<=0&&(c=0);var g=(a-2*y-(l-1)*c)/l;g>1&&(g>>=0);var v=s===+s?Math.min(g,s):g;f=i.reduce(function(S,x,k){var j=[].concat(R1(S),[{item:x.item,position:{offset:y+(g+c)*k+(g-v)/2,size:v}}]);return x.stackList&&x.stackList.length&&x.stackList.forEach(function(_){j.push({item:_,position:j[j.length-1].position})}),j},u)}return f},rW=function(t,r,n,a){var o=n.children,i=n.width,s=n.margin,l=i-(s.left||0)-(s.right||0),c=QO({children:o,legendWidth:l});if(c){var f=a||{},u=f.width,h=f.height,p=c.align,m=c.verticalAlign,w=c.layout;if((w==="vertical"||w==="horizontal"&&m==="middle")&&p!=="center"&&ie(t[p]))return Qt(Qt({},t),{},ts({},p,t[p]+(u||0)));if((w==="horizontal"||w==="vertical"&&p==="center")&&m!=="middle"&&ie(t[m]))return Qt(Qt({},t),{},ts({},m,t[m]+(h||0)))}return t},nW=function(t,r,n){return De(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},ZO=function(t,r,n,a,o){var i=r.props.children,s=fn(i,Qs).filter(function(c){return nW(a,o,c.props.direction)});if(s&&s.length){var l=s.map(function(c){return c.props.dataKey});return t.reduce(function(c,f){var u=gr(f,n);if(De(u))return c;var h=Array.isArray(u)?[vh(u),ho(u)]:[u,u],p=l.reduce(function(m,w){var b=gr(f,w,0),y=h[0]-Math.abs(Array.isArray(b)?b[0]:b),g=h[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(y,m[0]),Math.max(g,m[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},aW=function(t,r,n,a,o){var i=r.map(function(s){return ZO(t,s,n,o,a)}).filter(function(s){return!De(s)});return i&&i.length?i.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},JO=function(t,r,n,a,o){var i=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&ZO(t,l,c,a)||Bl(t,c,n,o)});if(n==="number")return i.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var s={};return i.reduce(function(l,c){for(var f=0,u=c.length;f<u;f++)s[c[f]]||(s[c[f]]=!0,l.push(c[f]));return l},[])},e_=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},t_=function(t,r,n,a){if(a)return t.map(function(l){return l.coordinate});var o,i,s=t.map(function(l){return l.coordinate===r&&(o=!0),l.coordinate===n&&(i=!0),l.coordinate});return o||s.push(r),i||s.push(n),s},Da=function(t,r,n){if(!t)return null;var a=t.scale,o=t.duplicateDomain,i=t.type,s=t.range,l=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,c=(r||n)&&i==="category"&&a.bandwidth?a.bandwidth()/l:0;if(c=t.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?na(s[0]-s[1])*2*c:c,r&&(t.ticks||t.niceTicks)){var f=(t.ticks||t.niceTicks).map(function(u){var h=o?o.indexOf(u):u;return{coordinate:a(h)+c,value:u,offset:c}});return f.filter(function(u){return!Gs(u.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(u,h){return{coordinate:a(u)+c,value:u,index:h,offset:c}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(u){return{coordinate:a(u)+c,value:u,offset:c}}):a.domain().map(function(u,h){return{coordinate:a(u)+c,value:o?o[u]:u,index:h,offset:c}})},Np=new WeakMap,Tu=function(t,r){if(typeof r!="function")return t;Np.has(t)||Np.set(t,new WeakMap);var n=Np.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},oW=function(t,r,n){var a=t.scale,o=t.type,i=t.layout,s=t.axisType;if(a==="auto")return i==="radial"&&s==="radiusAxis"?{scale:gc(),realScaleType:"band"}:i==="radial"&&s==="angleAxis"?{scale:Hf(),realScaleType:"linear"}:o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Il(),realScaleType:"point"}:o==="category"?{scale:gc(),realScaleType:"band"}:{scale:Hf(),realScaleType:"linear"};if(ui(a)){var l="scale".concat(ah(a));return{scale:(C1[l]||Il)(),realScaleType:C1[l]?l:"point"}}return Re(a)?{scale:a}:{scale:Il(),realScaleType:"point"}},B1=1e-4,iW=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),o=Math.min(a[0],a[1])-B1,i=Math.max(a[0],a[1])+B1,s=t(r[0]),l=t(r[n-1]);(s<o||s>i||l<o||l>i)&&t.domain([r[0],r[n-1]])}},sW=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},lW=function(t,r){if(!r||r.length!==2||!ie(r[0])||!ie(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),o=[t[0],t[1]];return(!ie(t[0])||t[0]<n)&&(o[0]=n),(!ie(t[1])||t[1]>a)&&(o[1]=a),o[0]>a&&(o[0]=a),o[1]<n&&(o[1]=n),o},cW=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var o=0,i=0,s=0;s<r;++s){var l=Gs(t[s][n][1])?t[s][n][0]:t[s][n][1];l>=0?(t[s][n][0]=o,t[s][n][1]=o+l,o=t[s][n][1]):(t[s][n][0]=i,t[s][n][1]=i+l,i=t[s][n][1])}},uW=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var o=0,i=0;i<r;++i){var s=Gs(t[i][n][1])?t[i][n][0]:t[i][n][1];s>=0?(t[i][n][0]=o,t[i][n][1]=o+s,o=t[i][n][1]):(t[i][n][0]=0,t[i][n][1]=0)}},fW={sign:cW,expand:_5,none:cs,silhouette:P5,wiggle:N5,positive:uW},dW=function(t,r,n){var a=r.map(function(s){return s.props.dataKey}),o=fW[n],i=O5().keys(a).value(function(s,l){return+gr(s,l,0)}).order(X0).offset(o);return i(t)},hW=function(t,r,n,a,o,i){if(!t)return null;var s=i?r.reverse():r,l={},c=s.reduce(function(u,h){var p,m=(p=h.type)!==null&&p!==void 0&&p.defaultProps?Qt(Qt({},h.type.defaultProps),h.props):h.props,w=m.stackId,b=m.hide;if(b)return u;var y=m[n],g=u[y]||{hasStack:!1,stackGroups:{}};if(pr(w)){var v=g.stackGroups[w]||{numericAxisId:n,cateAxisId:a,items:[]};v.items.push(h),g.hasStack=!0,g.stackGroups[w]=v}else g.stackGroups[bi("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return Qt(Qt({},u),{},ts({},y,g))},l),f={};return Object.keys(c).reduce(function(u,h){var p=c[h];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(w,b){var y=p.stackGroups[b];return Qt(Qt({},w),{},ts({},b,{numericAxisId:n,cateAxisId:a,items:y.items,stackedData:dW(t,y.items,o)}))},m)}return Qt(Qt({},u),{},ts({},h,p))},f)},pW=function(t,r){var n=r.realScaleType,a=r.type,o=r.tickCount,i=r.originalDomain,s=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&a==="number"&&i&&(i[0]==="auto"||i[1]==="auto")){var c=t.domain();if(!c.length)return null;var f=O7(c,o,s);return t.domain([vh(f),ho(f)]),{niceTicks:f}}if(o&&a==="number"){var u=t.domain(),h=_7(u,o,s);return{niceTicks:h}}return null};function xs(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,o=e.index,i=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!De(a[t.dataKey])){var s=Sf(r,"value",a[t.dataKey]);if(s)return s.coordinate+n/2}return r[o]?r[o].coordinate+n/2:null}var l=gr(a,De(i)?t.dataKey:i);return De(l)?null:t.scale(l)}var F1=function(t){var r=t.axis,n=t.ticks,a=t.offset,o=t.bandSize,i=t.entry,s=t.index;if(r.type==="category")return n[s]?n[s].coordinate+a:null;var l=gr(i,r.dataKey,r.domain[s]);return De(l)?null:r.scale(l)-o/2+a},gW=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]);return a<=0&&o>=0?0:o<0?o:a}return n[0]},mW=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Qt(Qt({},t.type.defaultProps),t.props):t.props,o=a.stackId;if(pr(o)){var i=r[o];if(i){var s=i.items.indexOf(t);return s>=0?i.stackedData[s]:null}}return null},yW=function(t){return t.reduce(function(r,n){return[vh(n.concat([r[0]]).filter(ie)),ho(n.concat([r[1]]).filter(ie))]},[1/0,-1/0])},r_=function(t,r,n){return Object.keys(t).reduce(function(a,o){var i=t[o],s=i.stackedData,l=s.reduce(function(c,f){var u=yW(f.slice(r,n+1));return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);return[Math.min(l[0],a[0]),Math.max(l[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},z1=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,W1=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,jg=function(t,r,n){if(Re(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(ie(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(z1.test(t[0])){var o=+z1.exec(t[0])[1];a[0]=r[0]-o}else Re(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(ie(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(W1.test(t[1])){var i=+W1.exec(t[1])[1];a[1]=r[1]+i}else Re(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},Zf=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var o=Py(r,function(u){return u.coordinate}),i=1/0,s=1,l=o.length;s<l;s++){var c=o[s],f=o[s-1];i=Math.min((c.coordinate||0)-(f.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0},U1=function(t,r,n){return!t||!t.length||di(t,Bn(n,"type.defaultProps.domain"))?r:t},n_=function(t,r){var n=t.type.defaultProps?Qt(Qt({},t.type.defaultProps),t.props):t.props,a=n.dataKey,o=n.name,i=n.unit,s=n.formatter,l=n.tooltipType,c=n.chartType,f=n.hide;return Qt(Qt({},Le(t,!1)),{},{dataKey:a,unit:i,formatter:s,name:o||a,color:ev(t),value:gr(r,a),type:l,payload:r,chartType:c,hide:f})};function jc(e){"@babel/helpers - typeof";return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jc(e)}function G1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function H1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G1(Object(r),!0).forEach(function(n){vW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vW(e,t,r){return t=xW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xW(e){var t=bW(e,"string");return jc(t)=="symbol"?t:t+""}function bW(e,t){if(jc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jf=Math.PI/180,wW=function(t){return t*180/Math.PI},Nr=function(t,r,n,a){return{x:t+Math.cos(-Jf*a)*n,y:r+Math.sin(-Jf*a)*n}},kW=function(t,r){var n=t.x,a=t.y,o=r.x,i=r.y;return Math.sqrt(Math.pow(n-o,2)+Math.pow(a-i,2))},SW=function(t,r){var n=t.x,a=t.y,o=r.cx,i=r.cy,s=kW({x:n,y:a},{x:o,y:i});if(s<=0)return{radius:s};var l=(n-o)/s,c=Math.acos(l);return a>i&&(c=2*Math.PI-c),{radius:s,angle:wW(c),angleInRadian:c}},jW=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),o=Math.floor(n/360),i=Math.min(a,o);return{startAngle:r-i*360,endAngle:n-i*360}},OW=function(t,r){var n=r.startAngle,a=r.endAngle,o=Math.floor(n/360),i=Math.floor(a/360),s=Math.min(o,i);return t+s*360},V1=function(t,r){var n=t.x,a=t.y,o=SW({x:n,y:a},r),i=o.radius,s=o.angle,l=r.innerRadius,c=r.outerRadius;if(i<l||i>c)return!1;if(i===0)return!0;var f=jW(r),u=f.startAngle,h=f.endAngle,p=s,m;if(u<=h){for(;p>h;)p-=360;for(;p<u;)p+=360;m=p>=u&&p<=h}else{for(;p>u;)p-=360;for(;p<h;)p+=360;m=p>=h&&p<=u}return m?H1(H1({},r),{},{radius:i,angle:OW(p,r)}):null};function Oc(e){"@babel/helpers - typeof";return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oc(e)}var _W=["offset"];function PW(e){return CW(e)||MW(e)||AW(e)||NW()}function NW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AW(e,t){if(e){if(typeof e=="string")return Og(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Og(e,t)}}function MW(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function CW(e){if(Array.isArray(e))return Og(e)}function Og(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function EW(e,t){if(e==null)return{};var r=TW(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function TW(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function K1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K1(Object(r),!0).forEach(function(n){$W(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $W(e,t,r){return t=DW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DW(e){var t=LW(e,"string");return Oc(t)=="symbol"?t:t+""}function LW(e,t){if(Oc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Oc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _c(){return _c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_c.apply(this,arguments)}var RW=function(t){var r=t.value,n=t.formatter,a=De(t.children)?r:t.children;return Re(n)?n(a):a},IW=function(t,r){var n=na(r-t),a=Math.min(Math.abs(r-t),360);return n*a},BW=function(t,r,n){var a=t.position,o=t.viewBox,i=t.offset,s=t.className,l=o,c=l.cx,f=l.cy,u=l.innerRadius,h=l.outerRadius,p=l.startAngle,m=l.endAngle,w=l.clockWise,b=(u+h)/2,y=IW(p,m),g=y>=0?1:-1,v,S;a==="insideStart"?(v=p+g*i,S=w):a==="insideEnd"?(v=m-g*i,S=!w):a==="end"&&(v=m+g*i,S=w),S=y<=0?S:!S;var x=Nr(c,f,b,v),k=Nr(c,f,b,v+(S?1:-1)*359),j="M".concat(x.x,",").concat(x.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(S?0:1,`,
    `).concat(k.x,",").concat(k.y),_=De(t.id)?bi("recharts-radial-line-"):t.id;return M.createElement("text",_c({},n,{dominantBaseline:"central",className:Je("recharts-radial-bar-label",s)}),M.createElement("defs",null,M.createElement("path",{id:_,d:j})),M.createElement("textPath",{xlinkHref:"#".concat(_)},r))},FW=function(t){var r=t.viewBox,n=t.offset,a=t.position,o=r,i=o.cx,s=o.cy,l=o.innerRadius,c=o.outerRadius,f=o.startAngle,u=o.endAngle,h=(f+u)/2;if(a==="outside"){var p=Nr(i,s,c+n,h),m=p.x,w=p.y;return{x:m,y:w,textAnchor:m>=i?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"end"};var b=(l+c)/2,y=Nr(i,s,b,h),g=y.x,v=y.y;return{x:g,y:v,textAnchor:"middle",verticalAnchor:"middle"}},zW=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,o=t.position,i=r,s=i.x,l=i.y,c=i.width,f=i.height,u=f>=0?1:-1,h=u*a,p=u>0?"end":"start",m=u>0?"start":"end",w=c>=0?1:-1,b=w*a,y=w>0?"end":"start",g=w>0?"start":"end";if(o==="top"){var v={x:s+c/2,y:l-u*a,textAnchor:"middle",verticalAnchor:p};return fr(fr({},v),n?{height:Math.max(l-n.y,0),width:c}:{})}if(o==="bottom"){var S={x:s+c/2,y:l+f+h,textAnchor:"middle",verticalAnchor:m};return fr(fr({},S),n?{height:Math.max(n.y+n.height-(l+f),0),width:c}:{})}if(o==="left"){var x={x:s-b,y:l+f/2,textAnchor:y,verticalAnchor:"middle"};return fr(fr({},x),n?{width:Math.max(x.x-n.x,0),height:f}:{})}if(o==="right"){var k={x:s+c+b,y:l+f/2,textAnchor:g,verticalAnchor:"middle"};return fr(fr({},k),n?{width:Math.max(n.x+n.width-k.x,0),height:f}:{})}var j=n?{width:c,height:f}:{};return o==="insideLeft"?fr({x:s+b,y:l+f/2,textAnchor:g,verticalAnchor:"middle"},j):o==="insideRight"?fr({x:s+c-b,y:l+f/2,textAnchor:y,verticalAnchor:"middle"},j):o==="insideTop"?fr({x:s+c/2,y:l+h,textAnchor:"middle",verticalAnchor:m},j):o==="insideBottom"?fr({x:s+c/2,y:l+f-h,textAnchor:"middle",verticalAnchor:p},j):o==="insideTopLeft"?fr({x:s+b,y:l+h,textAnchor:g,verticalAnchor:m},j):o==="insideTopRight"?fr({x:s+c-b,y:l+h,textAnchor:y,verticalAnchor:m},j):o==="insideBottomLeft"?fr({x:s+b,y:l+f-h,textAnchor:g,verticalAnchor:p},j):o==="insideBottomRight"?fr({x:s+c-b,y:l+f-h,textAnchor:y,verticalAnchor:p},j):Fs(o)&&(ie(o.x)||Ko(o.x))&&(ie(o.y)||Ko(o.y))?fr({x:s+fi(o.x,c),y:l+fi(o.y,f),textAnchor:"end",verticalAnchor:"end"},j):fr({x:s+c/2,y:l+f/2,textAnchor:"middle",verticalAnchor:"middle"},j)},WW=function(t){return"cx"in t&&ie(t.cx)};function Ir(e){var t=e.offset,r=t===void 0?5:t,n=EW(e,_W),a=fr({offset:r},n),o=a.viewBox,i=a.position,s=a.value,l=a.children,c=a.content,f=a.className,u=f===void 0?"":f,h=a.textBreakAll;if(!o||De(s)&&De(l)&&!O.isValidElement(c)&&!Re(c))return null;if(O.isValidElement(c))return O.cloneElement(c,a);var p;if(Re(c)){if(p=O.createElement(c,a),O.isValidElement(p))return p}else p=RW(a);var m=WW(o),w=Le(a,!0);if(m&&(i==="insideStart"||i==="insideEnd"||i==="end"))return BW(a,p,w);var b=m?FW(a):zW(a);return M.createElement(If,_c({className:Je("recharts-label",u)},w,b,{breakAll:h}),p)}Ir.displayName="Label";var a_=function(t){var r=t.cx,n=t.cy,a=t.angle,o=t.startAngle,i=t.endAngle,s=t.r,l=t.radius,c=t.innerRadius,f=t.outerRadius,u=t.x,h=t.y,p=t.top,m=t.left,w=t.width,b=t.height,y=t.clockWise,g=t.labelViewBox;if(g)return g;if(ie(w)&&ie(b)){if(ie(u)&&ie(h))return{x:u,y:h,width:w,height:b};if(ie(p)&&ie(m))return{x:p,y:m,width:w,height:b}}return ie(u)&&ie(h)?{x:u,y:h,width:0,height:0}:ie(r)&&ie(n)?{cx:r,cy:n,startAngle:o||a||0,endAngle:i||a||0,innerRadius:c||0,outerRadius:f||l||s||0,clockWise:y}:t.viewBox?t.viewBox:{}},UW=function(t,r){return t?t===!0?M.createElement(Ir,{key:"label-implicit",viewBox:r}):pr(t)?M.createElement(Ir,{key:"label-implicit",viewBox:r,value:t}):O.isValidElement(t)?t.type===Ir?O.cloneElement(t,{key:"label-implicit",viewBox:r}):M.createElement(Ir,{key:"label-implicit",content:t,viewBox:r}):Re(t)?M.createElement(Ir,{key:"label-implicit",content:t,viewBox:r}):Fs(t)?M.createElement(Ir,_c({viewBox:r},t,{key:"label-implicit"})):null:null},GW=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,o=a_(t),i=fn(a,Ir).map(function(l,c){return O.cloneElement(l,{viewBox:r||o,key:"label-".concat(c)})});if(!n)return i;var s=UW(t.label,r||o);return[s].concat(PW(i))};Ir.parseViewBox=a_;Ir.renderCallByParent=GW;function HW(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var VW=HW;const KW=Mt(VW);function Pc(e){"@babel/helpers - typeof";return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pc(e)}var XW=["valueAccessor"],qW=["data","dataKey","clockWise","id","textBreakAll"];function YW(e){return eU(e)||JW(e)||ZW(e)||QW()}function QW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZW(e,t){if(e){if(typeof e=="string")return _g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _g(e,t)}}function JW(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function eU(e){if(Array.isArray(e))return _g(e)}function _g(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ed(){return ed=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ed.apply(this,arguments)}function X1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function q1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X1(Object(r),!0).forEach(function(n){tU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tU(e,t,r){return t=rU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rU(e){var t=nU(e,"string");return Pc(t)=="symbol"?t:t+""}function nU(e,t){if(Pc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Y1(e,t){if(e==null)return{};var r=aU(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function aU(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var oU=function(t){return Array.isArray(t.value)?KW(t.value):t.value};function ka(e){var t=e.valueAccessor,r=t===void 0?oU:t,n=Y1(e,XW),a=n.data,o=n.dataKey,i=n.clockWise,s=n.id,l=n.textBreakAll,c=Y1(n,qW);return!a||!a.length?null:M.createElement(ut,{className:"recharts-label-list"},a.map(function(f,u){var h=De(o)?r(f,u):gr(f&&f.payload,o),p=De(s)?{}:{id:"".concat(s,"-").concat(u)};return M.createElement(Ir,ed({},Le(f,!0),c,p,{parentViewBox:f.parentViewBox,value:h,textBreakAll:l,viewBox:Ir.parseViewBox(De(i)?f:q1(q1({},f),{},{clockWise:i})),key:"label-".concat(u),index:u}))}))}ka.displayName="LabelList";function iU(e,t){return e?e===!0?M.createElement(ka,{key:"labelList-implicit",data:t}):M.isValidElement(e)||Re(e)?M.createElement(ka,{key:"labelList-implicit",data:t,content:e}):Fs(e)?M.createElement(ka,ed({data:t},e,{key:"labelList-implicit"})):null:null}function sU(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=fn(n,ka).map(function(i,s){return O.cloneElement(i,{data:t,key:"labelList-".concat(s)})});if(!r)return a;var o=iU(e.label,t);return[o].concat(YW(a))}ka.renderCallByParent=sU;function Nc(e){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nc(e)}function Pg(){return Pg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pg.apply(this,arguments)}function Q1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Z1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q1(Object(r),!0).forEach(function(n){lU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lU(e,t,r){return t=cU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cU(e){var t=uU(e,"string");return Nc(t)=="symbol"?t:t+""}function uU(e,t){if(Nc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fU=function(t,r){var n=na(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},$u=function(t){var r=t.cx,n=t.cy,a=t.radius,o=t.angle,i=t.sign,s=t.isExternal,l=t.cornerRadius,c=t.cornerIsExternal,f=l*(s?1:-1)+a,u=Math.asin(l/f)/Jf,h=c?o:o+i*u,p=Nr(r,n,f,h),m=Nr(r,n,a,h),w=c?o-i*u:o,b=Nr(r,n,f*Math.cos(u*Jf),w);return{center:p,circleTangency:m,lineTangency:b,theta:u}},o_=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,o=t.outerRadius,i=t.startAngle,s=t.endAngle,l=fU(i,s),c=i+l,f=Nr(r,n,o,i),u=Nr(r,n,o,c),h="M ".concat(f.x,",").concat(f.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(i>c),`,
    `).concat(u.x,",").concat(u.y,`
  `);if(a>0){var p=Nr(r,n,a,i),m=Nr(r,n,a,c);h+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(i<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},dU=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,o=t.outerRadius,i=t.cornerRadius,s=t.forceCornerRadius,l=t.cornerIsExternal,c=t.startAngle,f=t.endAngle,u=na(f-c),h=$u({cx:r,cy:n,radius:o,angle:c,sign:u,cornerRadius:i,cornerIsExternal:l}),p=h.circleTangency,m=h.lineTangency,w=h.theta,b=$u({cx:r,cy:n,radius:o,angle:f,sign:-u,cornerRadius:i,cornerIsExternal:l}),y=b.circleTangency,g=b.lineTangency,v=b.theta,S=l?Math.abs(c-f):Math.abs(c-f)-w-v;if(S<0)return s?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):o_({cx:r,cy:n,innerRadius:a,outerRadius:o,startAngle:c,endAngle:f});var x="M ".concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(S>180),",").concat(+(u<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(g.x,",").concat(g.y,`
  `);if(a>0){var k=$u({cx:r,cy:n,radius:a,angle:c,sign:u,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),j=k.circleTangency,_=k.lineTangency,P=k.theta,N=$u({cx:r,cy:n,radius:a,angle:f,sign:-u,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),A=N.circleTangency,C=N.lineTangency,R=N.theta,I=l?Math.abs(c-f):Math.abs(c-f)-P-R;if(I<0&&i===0)return"".concat(x,"L").concat(r,",").concat(n,"Z");x+="L".concat(C.x,",").concat(C.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(A.x,",").concat(A.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(I>180),",").concat(+(u>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(_.x,",").concat(_.y,"Z")}else x+="L".concat(r,",").concat(n,"Z");return x},hU={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},i_=function(t){var r=Z1(Z1({},hU),t),n=r.cx,a=r.cy,o=r.innerRadius,i=r.outerRadius,s=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,f=r.startAngle,u=r.endAngle,h=r.className;if(i<o||f===u)return null;var p=Je("recharts-sector",h),m=i-o,w=fi(s,m,0,!0),b;return w>0&&Math.abs(f-u)<360?b=dU({cx:n,cy:a,innerRadius:o,outerRadius:i,cornerRadius:Math.min(w,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:f,endAngle:u}):b=o_({cx:n,cy:a,innerRadius:o,outerRadius:i,startAngle:f,endAngle:u}),M.createElement("path",Pg({},Le(r,!0),{className:p,d:b,role:"img"}))};function Ac(e){"@babel/helpers - typeof";return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ac(e)}function Ng(){return Ng=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ng.apply(this,arguments)}function J1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ew(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J1(Object(r),!0).forEach(function(n){pU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pU(e,t,r){return t=gU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gU(e){var t=mU(e,"string");return Ac(t)=="symbol"?t:t+""}function mU(e,t){if(Ac(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ac(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tw={curveBasisClosed:p5,curveBasisOpen:g5,curveBasis:h5,curveBumpX:J$,curveBumpY:e5,curveLinearClosed:m5,curveLinear:ih,curveMonotoneX:y5,curveMonotoneY:v5,curveNatural:x5,curveStep:b5,curveStepAfter:k5,curveStepBefore:w5},Du=function(t){return t.x===+t.x&&t.y===+t.y},xl=function(t){return t.x},bl=function(t){return t.y},yU=function(t,r){if(Re(t))return t;var n="curve".concat(ah(t));return(n==="curveMonotone"||n==="curveBump")&&r?tw["".concat(n).concat(r==="vertical"?"Y":"X")]:tw[n]||ih},vU=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,o=a===void 0?[]:a,i=t.baseLine,s=t.layout,l=t.connectNulls,c=l===void 0?!1:l,f=yU(n,s),u=c?o.filter(function(w){return Du(w)}):o,h;if(Array.isArray(i)){var p=c?i.filter(function(w){return Du(w)}):i,m=u.map(function(w,b){return ew(ew({},w),{},{base:p[b]})});return s==="vertical"?h=Ou().y(bl).x1(xl).x0(function(w){return w.base.x}):h=Ou().x(xl).y1(bl).y0(function(w){return w.base.y}),h.defined(Du).curve(f),h(m)}return s==="vertical"&&ie(i)?h=Ou().y(bl).x1(xl).x0(i):ie(i)?h=Ou().x(xl).y1(bl).y0(i):h=sj().x(xl).y(bl),h.defined(Du).curve(f),h(u)},ai=function(t){var r=t.className,n=t.points,a=t.path,o=t.pathRef;if((!n||!n.length)&&!a)return null;var i=n&&n.length?vU(t):a;return O.createElement("path",Ng({},Le(t,!1),jf(t),{className:Je("recharts-curve",r),d:i,ref:o}))},s_={exports:{}},xU="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",bU=xU,wU=bU;function l_(){}function c_(){}c_.resetWarningCache=l_;var kU=function(){function e(n,a,o,i,s,l){if(l!==wU){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:c_,resetWarningCache:l_};return r.PropTypes=r,r};s_.exports=kU();var SU=s_.exports;const gt=Mt(SU),{getOwnPropertyNames:jU,getOwnPropertySymbols:OU}=Object,{hasOwnProperty:_U}=Object.prototype;function Ap(e,t){return function(n,a,o){return e(n,a,o)&&t(n,a,o)}}function Lu(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);const{cache:o}=a,i=o.get(r),s=o.get(n);if(i&&s)return i===n&&s===r;o.set(r,n),o.set(n,r);const l=e(r,n,a);return o.delete(r),o.delete(n),l}}function PU(e){return e!=null?e[Symbol.toStringTag]:void 0}function rw(e){return jU(e).concat(OU(e))}const NU=Object.hasOwn||((e,t)=>_U.call(e,t));function Si(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const AU="__v",MU="__o",CU="_owner",{getOwnPropertyDescriptor:nw,keys:aw}=Object;function EU(e,t){return e.byteLength===t.byteLength&&td(new Uint8Array(e),new Uint8Array(t))}function TU(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function $U(e,t){return e.byteLength===t.byteLength&&td(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function DU(e,t){return Si(e.getTime(),t.getTime())}function LU(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function RU(e,t){return e===t}function ow(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),o=e.entries();let i,s,l=0;for(;(i=o.next())&&!i.done;){const c=t.entries();let f=!1,u=0;for(;(s=c.next())&&!s.done;){if(a[u]){u++;continue}const h=i.value,p=s.value;if(r.equals(h[0],p[0],l,u,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){f=a[u]=!0;break}u++}if(!f)return!1;l++}return!0}const IU=Si;function BU(e,t,r){const n=aw(e);let a=n.length;if(aw(t).length!==a)return!1;for(;a-- >0;)if(!u_(e,t,r,n[a]))return!1;return!0}function wl(e,t,r){const n=rw(e);let a=n.length;if(rw(t).length!==a)return!1;let o,i,s;for(;a-- >0;)if(o=n[a],!u_(e,t,r,o)||(i=nw(e,o),s=nw(t,o),(i||s)&&(!i||!s||i.configurable!==s.configurable||i.enumerable!==s.enumerable||i.writable!==s.writable)))return!1;return!0}function FU(e,t){return Si(e.valueOf(),t.valueOf())}function zU(e,t){return e.source===t.source&&e.flags===t.flags}function iw(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),o=e.values();let i,s;for(;(i=o.next())&&!i.done;){const l=t.values();let c=!1,f=0;for(;(s=l.next())&&!s.done;){if(!a[f]&&r.equals(i.value,s.value,i.value,s.value,e,t,r)){c=a[f]=!0;break}f++}if(!c)return!1}return!0}function td(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function WU(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function u_(e,t,r,n){return(n===CU||n===MU||n===AU)&&(e.$$typeof||t.$$typeof)?!0:NU(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const UU="[object ArrayBuffer]",GU="[object Arguments]",HU="[object Boolean]",VU="[object DataView]",KU="[object Date]",XU="[object Error]",qU="[object Map]",YU="[object Number]",QU="[object Object]",ZU="[object RegExp]",JU="[object Set]",eG="[object String]",tG={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},rG="[object URL]",nG=Object.prototype.toString;function aG({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:a,areFunctionsEqual:o,areMapsEqual:i,areNumbersEqual:s,areObjectsEqual:l,arePrimitiveWrappersEqual:c,areRegExpsEqual:f,areSetsEqual:u,areTypedArraysEqual:h,areUrlsEqual:p,unknownTagComparators:m}){return function(b,y,g){if(b===y)return!0;if(b==null||y==null)return!1;const v=typeof b;if(v!==typeof y)return!1;if(v!=="object")return v==="number"?s(b,y,g):v==="function"?o(b,y,g):!1;const S=b.constructor;if(S!==y.constructor)return!1;if(S===Object)return l(b,y,g);if(Array.isArray(b))return t(b,y,g);if(S===Date)return n(b,y,g);if(S===RegExp)return f(b,y,g);if(S===Map)return i(b,y,g);if(S===Set)return u(b,y,g);const x=nG.call(b);if(x===KU)return n(b,y,g);if(x===ZU)return f(b,y,g);if(x===qU)return i(b,y,g);if(x===JU)return u(b,y,g);if(x===QU)return typeof b.then!="function"&&typeof y.then!="function"&&l(b,y,g);if(x===rG)return p(b,y,g);if(x===XU)return a(b,y,g);if(x===GU)return l(b,y,g);if(tG[x])return h(b,y,g);if(x===UU)return e(b,y,g);if(x===VU)return r(b,y,g);if(x===HU||x===YU||x===eG)return c(b,y,g);if(m){let k=m[x];if(!k){const j=PU(b);j&&(k=m[j])}if(k)return k(b,y,g)}return!1}}function oG({circular:e,createCustomConfig:t,strict:r}){let n={areArrayBuffersEqual:EU,areArraysEqual:r?wl:TU,areDataViewsEqual:$U,areDatesEqual:DU,areErrorsEqual:LU,areFunctionsEqual:RU,areMapsEqual:r?Ap(ow,wl):ow,areNumbersEqual:IU,areObjectsEqual:r?wl:BU,arePrimitiveWrappersEqual:FU,areRegExpsEqual:zU,areSetsEqual:r?Ap(iw,wl):iw,areTypedArraysEqual:r?Ap(td,wl):td,areUrlsEqual:WU,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const a=Lu(n.areArraysEqual),o=Lu(n.areMapsEqual),i=Lu(n.areObjectsEqual),s=Lu(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:i,areSetsEqual:s})}return n}function iG(e){return function(t,r,n,a,o,i,s){return e(t,r,s)}}function sG({circular:e,comparator:t,createState:r,equals:n,strict:a}){if(r)return function(s,l){const{cache:c=e?new WeakMap:void 0,meta:f}=r();return t(s,l,{cache:c,equals:n,meta:f,strict:a})};if(e)return function(s,l){return t(s,l,{cache:new WeakMap,equals:n,meta:void 0,strict:a})};const o={cache:void 0,equals:n,meta:void 0,strict:a};return function(s,l){return t(s,l,o)}}const lG=Do();Do({strict:!0});Do({circular:!0});Do({circular:!0,strict:!0});Do({createInternalComparator:()=>Si});Do({strict:!0,createInternalComparator:()=>Si});Do({circular:!0,createInternalComparator:()=>Si});Do({circular:!0,createInternalComparator:()=>Si,strict:!0});function Do(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:a=!1}=e,o=oG(e),i=aG(o),s=r?r(i):iG(i);return sG({circular:t,comparator:i,createState:n,equals:s,strict:a})}function cG(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function sw(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(o){r<0&&(r=o),o-r>t?(e(o),r=-1):cG(a)};requestAnimationFrame(n)}function Ag(e){"@babel/helpers - typeof";return Ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ag(e)}function uG(e){return pG(e)||hG(e)||dG(e)||fG()}function fG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dG(e,t){if(e){if(typeof e=="string")return lw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lw(e,t)}}function lw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function hG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function pG(e){if(Array.isArray(e))return e}function gG(){var e={},t=function(){return null},r=!1,n=function a(o){if(!r){if(Array.isArray(o)){if(!o.length)return;var i=o,s=uG(i),l=s[0],c=s.slice(1);if(typeof l=="number"){sw(a.bind(null,c),l);return}a(l),sw(a.bind(null,c));return}Ag(o)==="object"&&(e=o,t(e)),typeof o=="function"&&o()}};return{stop:function(){r=!0},start:function(o){r=!1,n(o)},subscribe:function(o){return t=o,function(){t=function(){return null}}}}}function Mc(e){"@babel/helpers - typeof";return Mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mc(e)}function cw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cw(Object(r),!0).forEach(function(n){f_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function f_(e,t,r){return t=mG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mG(e){var t=yG(e,"string");return Mc(t)==="symbol"?t:String(t)}function yG(e,t){if(Mc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vG=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(o){return a.includes(o)})})},xG=function(t){return t},bG=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Fl=function(t,r){return Object.keys(r).reduce(function(n,a){return uw(uw({},n),{},f_({},a,t(a,r[a])))},{})},fw=function(t,r,n){return t.map(function(a){return"".concat(bG(a)," ").concat(r,"ms ").concat(n)}).join(",")};function wG(e,t){return jG(e)||SG(e,t)||d_(e,t)||kG()}function kG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SG(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function jG(e){if(Array.isArray(e))return e}function OG(e){return NG(e)||PG(e)||d_(e)||_G()}function _G(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d_(e,t){if(e){if(typeof e=="string")return Mg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mg(e,t)}}function PG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function NG(e){if(Array.isArray(e))return Mg(e)}function Mg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var rd=1e-4,h_=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},p_=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},dw=function(t,r){return function(n){var a=h_(t,r);return p_(a,n)}},AG=function(t,r){return function(n){var a=h_(t,r),o=[].concat(OG(a.map(function(i,s){return i*s}).slice(1)),[0]);return p_(o,n)}},hw=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],o=r[1],i=r[2],s=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,o=0,i=1,s=1;break;case"ease":a=.25,o=.1,i=.25,s=1;break;case"ease-in":a=.42,o=0,i=1,s=1;break;case"ease-out":a=.42,o=0,i=.58,s=1;break;case"ease-in-out":a=0,o=0,i=.58,s=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),f=wG(c,4);a=f[0],o=f[1],i=f[2],s=f[3]}}}var u=dw(a,i),h=dw(o,s),p=AG(a,i),m=function(y){return y>1?1:y<0?0:y},w=function(y){for(var g=y>1?1:y,v=g,S=0;S<8;++S){var x=u(v)-g,k=p(v);if(Math.abs(x-g)<rd||k<rd)return h(v);v=m(v-x/k)}return h(v)};return w.isStepper=!1,w},MG=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,o=a===void 0?8:a,i=t.dt,s=i===void 0?17:i,l=function(f,u,h){var p=-(f-u)*n,m=h*o,w=h+(p-m)*s/1e3,b=h*s/1e3+f;return Math.abs(b-u)<rd&&Math.abs(w)<rd?[u,0]:[b,w]};return l.isStepper=!0,l.dt=s,l},CG=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return hw(a);case"spring":return MG();default:if(a.split("(")[0]==="cubic-bezier")return hw(a)}return typeof a=="function"?a:null};function Cc(e){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cc(e)}function pw(e){return $G(e)||TG(e)||g_(e)||EG()}function EG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $G(e){if(Array.isArray(e))return Eg(e)}function gw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _r(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gw(Object(r),!0).forEach(function(n){Cg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cg(e,t,r){return t=DG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DG(e){var t=LG(e,"string");return Cc(t)==="symbol"?t:String(t)}function LG(e,t){if(Cc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RG(e,t){return FG(e)||BG(e,t)||g_(e,t)||IG()}function IG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g_(e,t){if(e){if(typeof e=="string")return Eg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Eg(e,t)}}function Eg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function BG(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function FG(e){if(Array.isArray(e))return e}var nd=function(t,r,n){return t+(r-t)*n},Tg=function(t){var r=t.from,n=t.to;return r!==n},zG=function e(t,r,n){var a=Fl(function(o,i){if(Tg(i)){var s=t(i.from,i.to,i.velocity),l=RG(s,2),c=l[0],f=l[1];return _r(_r({},i),{},{from:c,velocity:f})}return i},r);return n<1?Fl(function(o,i){return Tg(i)?_r(_r({},i),{},{velocity:nd(i.velocity,a[o].velocity,n),from:nd(i.from,a[o].from,n)}):i},r):e(t,a,n-1)};const WG=function(e,t,r,n,a){var o=vG(e,t),i=o.reduce(function(b,y){return _r(_r({},b),{},Cg({},y,[e[y],t[y]]))},{}),s=o.reduce(function(b,y){return _r(_r({},b),{},Cg({},y,{from:e[y],velocity:0,to:t[y]}))},{}),l=-1,c,f,u=function(){return null},h=function(){return Fl(function(y,g){return g.from},s)},p=function(){return!Object.values(s).filter(Tg).length},m=function(y){c||(c=y);var g=y-c,v=g/r.dt;s=zG(r,s,v),a(_r(_r(_r({},e),t),h())),c=y,p()||(l=requestAnimationFrame(u))},w=function(y){f||(f=y);var g=(y-f)/n,v=Fl(function(x,k){return nd.apply(void 0,pw(k).concat([r(g)]))},i);if(a(_r(_r(_r({},e),t),v)),g<1)l=requestAnimationFrame(u);else{var S=Fl(function(x,k){return nd.apply(void 0,pw(k).concat([r(1)]))},i);a(_r(_r(_r({},e),t),S))}};return u=r.isStepper?m:w,function(){return requestAnimationFrame(u),function(){cancelAnimationFrame(l)}}};function bs(e){"@babel/helpers - typeof";return bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bs(e)}var UG=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function GG(e,t){if(e==null)return{};var r=HG(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function HG(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,o;for(o=0;o<n.length;o++)a=n[o],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Mp(e){return qG(e)||XG(e)||KG(e)||VG()}function VG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KG(e,t){if(e){if(typeof e=="string")return $g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $g(e,t)}}function XG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function qG(e){if(Array.isArray(e))return $g(e)}function $g(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mw(Object(r),!0).forEach(function(n){Pl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pl(e,t,r){return t=m_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QG(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m_(n.key),n)}}function ZG(e,t,r){return t&&QG(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function m_(e){var t=JG(e,"string");return bs(t)==="symbol"?t:String(t)}function JG(e,t){if(bs(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bs(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eH(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dg(e,t)}function Dg(e,t){return Dg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Dg(e,t)}function tH(e){var t=rH();return function(){var n=ad(e),a;if(t){var o=ad(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return Lg(this,a)}}function Lg(e,t){if(t&&(bs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rg(e)}function Rg(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rH(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ad(e){return ad=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ad(e)}var sa=function(e){eH(r,e);var t=tH(r);function r(n,a){var o;YG(this,r),o=t.call(this,n,a);var i=o.props,s=i.isActive,l=i.attributeName,c=i.from,f=i.to,u=i.steps,h=i.children,p=i.duration;if(o.handleStyleChange=o.handleStyleChange.bind(Rg(o)),o.changeStyle=o.changeStyle.bind(Rg(o)),!s||p<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:f}),Lg(o);if(u&&u.length)o.state={style:u[0].style};else if(c){if(typeof h=="function")return o.state={style:c},Lg(o);o.state={style:l?Pl({},l,c):c}}else o.state={style:{}};return o}return ZG(r,[{key:"componentDidMount",value:function(){var a=this.props,o=a.isActive,i=a.canBegin;this.mounted=!0,!(!o||!i)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var o=this.props,i=o.isActive,s=o.canBegin,l=o.attributeName,c=o.shouldReAnimate,f=o.to,u=o.from,h=this.state.style;if(s){if(!i){var p={style:l?Pl({},l,f):f};this.state&&h&&(l&&h[l]!==f||!l&&h!==f)&&this.setState(p);return}if(!(lG(a.to,f)&&a.canBegin&&a.isActive)){var m=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var w=m||c?u:a.to;if(this.state&&h){var b={style:l?Pl({},l,w):w};(l&&h[l]!==w||!l&&h!==w)&&this.setState(b)}this.runAnimation(Yn(Yn({},this.props),{},{from:w,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var o=this,i=a.from,s=a.to,l=a.duration,c=a.easing,f=a.begin,u=a.onAnimationEnd,h=a.onAnimationStart,p=WG(i,s,CG(c),l,this.changeStyle),m=function(){o.stopJSAnimation=p()};this.manager.start([h,f,m,l,u])}},{key:"runStepAnimation",value:function(a){var o=this,i=a.steps,s=a.begin,l=a.onAnimationStart,c=i[0],f=c.style,u=c.duration,h=u===void 0?0:u,p=function(w,b,y){if(y===0)return w;var g=b.duration,v=b.easing,S=v===void 0?"ease":v,x=b.style,k=b.properties,j=b.onAnimationEnd,_=y>0?i[y-1]:b,P=k||Object.keys(x);if(typeof S=="function"||S==="spring")return[].concat(Mp(w),[o.runJSAnimation.bind(o,{from:_.style,to:x,duration:g,easing:S}),g]);var N=fw(P,g,S),A=Yn(Yn(Yn({},_.style),x),{},{transition:N});return[].concat(Mp(w),[A,g,j]).filter(xG)};return this.manager.start([l].concat(Mp(i.reduce(p,[f,Math.max(h,s)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=gG());var o=a.begin,i=a.duration,s=a.attributeName,l=a.to,c=a.easing,f=a.onAnimationStart,u=a.onAnimationEnd,h=a.steps,p=a.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var w=s?Pl({},s,l):l,b=fw(Object.keys(w),i,c);m.start([f,o,Yn(Yn({},w),{},{transition:b}),i,u])}},{key:"render",value:function(){var a=this.props,o=a.children;a.begin;var i=a.duration;a.attributeName,a.easing;var s=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var l=GG(a,UG),c=O.Children.count(o),f=this.state.style;if(typeof o=="function")return o(f);if(!s||c===0||i<=0)return o;var u=function(p){var m=p.props,w=m.style,b=w===void 0?{}:w,y=m.className,g=O.cloneElement(p,Yn(Yn({},l),{},{style:Yn(Yn({},b),f),className:y}));return g};return c===1?u(O.Children.only(o)):M.createElement("div",null,O.Children.map(o,function(h){return u(h)}))}}]),r}(O.PureComponent);sa.displayName="Animate";sa.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};sa.propTypes={from:gt.oneOfType([gt.object,gt.string]),to:gt.oneOfType([gt.object,gt.string]),attributeName:gt.string,duration:gt.number,begin:gt.number,easing:gt.oneOfType([gt.string,gt.func]),steps:gt.arrayOf(gt.shape({duration:gt.number.isRequired,style:gt.object.isRequired,easing:gt.oneOfType([gt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),gt.func]),properties:gt.arrayOf("string"),onAnimationEnd:gt.func})),children:gt.oneOfType([gt.node,gt.func]),isActive:gt.bool,canBegin:gt.bool,onAnimationEnd:gt.func,shouldReAnimate:gt.bool,onAnimationStart:gt.func,onAnimationReStart:gt.func};function Ec(e){"@babel/helpers - typeof";return Ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ec(e)}function od(){return od=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},od.apply(this,arguments)}function nH(e,t){return sH(e)||iH(e,t)||oH(e,t)||aH()}function aH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oH(e,t){if(e){if(typeof e=="string")return yw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yw(e,t)}}function yw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function iH(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function sH(e){if(Array.isArray(e))return e}function vw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vw(Object(r),!0).forEach(function(n){lH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lH(e,t,r){return t=cH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cH(e){var t=uH(e,"string");return Ec(t)=="symbol"?t:t+""}function uH(e,t){if(Ec(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ec(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bw=function(t,r,n,a,o){var i=Math.min(Math.abs(n)/2,Math.abs(a)/2),s=a>=0?1:-1,l=n>=0?1:-1,c=a>=0&&n>=0||a<0&&n<0?1:0,f;if(i>0&&o instanceof Array){for(var u=[0,0,0,0],h=0,p=4;h<p;h++)u[h]=o[h]>i?i:o[h];f="M".concat(t,",").concat(r+s*u[0]),u[0]>0&&(f+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(t+l*u[0],",").concat(r)),f+="L ".concat(t+n-l*u[1],",").concat(r),u[1]>0&&(f+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,`,
        `).concat(t+n,",").concat(r+s*u[1])),f+="L ".concat(t+n,",").concat(r+a-s*u[2]),u[2]>0&&(f+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,`,
        `).concat(t+n-l*u[2],",").concat(r+a)),f+="L ".concat(t+l*u[3],",").concat(r+a),u[3]>0&&(f+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(r+a-s*u[3])),f+="Z"}else if(i>0&&o===+o&&o>0){var m=Math.min(i,o);f="M ".concat(t,",").concat(r+s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+l*m,",").concat(r,`
            L `).concat(t+n-l*m,",").concat(r,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+n,",").concat(r+s*m,`
            L `).concat(t+n,",").concat(r+a-s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+n-l*m,",").concat(r+a,`
            L `).concat(t+l*m,",").concat(r+a,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t,",").concat(r+a-s*m," Z")}else f="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return f},fH=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,o=r.x,i=r.y,s=r.width,l=r.height;if(Math.abs(s)>0&&Math.abs(l)>0){var c=Math.min(o,o+s),f=Math.max(o,o+s),u=Math.min(i,i+l),h=Math.max(i,i+l);return n>=c&&n<=f&&a>=u&&a<=h}return!1},dH={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},tv=function(t){var r=xw(xw({},dH),t),n=O.useRef(),a=O.useState(-1),o=nH(a,2),i=o[0],s=o[1];O.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&s(S)}catch{}},[]);var l=r.x,c=r.y,f=r.width,u=r.height,h=r.radius,p=r.className,m=r.animationEasing,w=r.animationDuration,b=r.animationBegin,y=r.isAnimationActive,g=r.isUpdateAnimationActive;if(l!==+l||c!==+c||f!==+f||u!==+u||f===0||u===0)return null;var v=Je("recharts-rectangle",p);return g?M.createElement(sa,{canBegin:i>0,from:{width:f,height:u,x:l,y:c},to:{width:f,height:u,x:l,y:c},duration:w,animationEasing:m,isActive:g},function(S){var x=S.width,k=S.height,j=S.x,_=S.y;return M.createElement(sa,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:w,isActive:y,easing:m},M.createElement("path",od({},Le(r,!0),{className:v,d:bw(j,_,x,k,h),ref:n})))}):M.createElement("path",od({},Le(r,!0),{className:v,d:bw(l,c,f,u,h)}))};function Ig(){return Ig=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ig.apply(this,arguments)}var wh=function(t){var r=t.cx,n=t.cy,a=t.r,o=t.className,i=Je("recharts-dot",o);return r===+r&&n===+n&&a===+a?O.createElement("circle",Ig({},Le(t,!1),jf(t),{className:i,cx:r,cy:n,r:a})):null};function Tc(e){"@babel/helpers - typeof";return Tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tc(e)}var hH=["x","y","top","left","width","height","className"];function Bg(){return Bg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bg.apply(this,arguments)}function ww(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pH(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ww(Object(r),!0).forEach(function(n){gH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ww(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gH(e,t,r){return t=mH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mH(e){var t=yH(e,"string");return Tc(t)=="symbol"?t:t+""}function yH(e,t){if(Tc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vH(e,t){if(e==null)return{};var r=xH(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xH(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var bH=function(t,r,n,a,o,i){return"M".concat(t,",").concat(o,"v").concat(a,"M").concat(i,",").concat(r,"h").concat(n)},wH=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,o=a===void 0?0:a,i=t.top,s=i===void 0?0:i,l=t.left,c=l===void 0?0:l,f=t.width,u=f===void 0?0:f,h=t.height,p=h===void 0?0:h,m=t.className,w=vH(t,hH),b=pH({x:n,y:o,top:s,left:c,width:u,height:p},w);return!ie(n)||!ie(o)||!ie(u)||!ie(p)||!ie(s)||!ie(c)?null:M.createElement("path",Bg({},Le(b,!0),{className:Je("recharts-cross",m),d:bH(n,o,u,p,s,c)}))},kH=Cj,SH=kH(Object.getPrototypeOf,Object),jH=SH,OH=qa,_H=jH,PH=Ya,NH="[object Object]",AH=Function.prototype,MH=Object.prototype,y_=AH.toString,CH=MH.hasOwnProperty,EH=y_.call(Object);function TH(e){if(!PH(e)||OH(e)!=NH)return!1;var t=_H(e);if(t===null)return!0;var r=CH.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&y_.call(r)==EH}var $H=TH;const DH=Mt($H);var LH=qa,RH=Ya,IH="[object Boolean]";function BH(e){return e===!0||e===!1||RH(e)&&LH(e)==IH}var FH=BH;const zH=Mt(FH);function $c(e){"@babel/helpers - typeof";return $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$c(e)}function id(){return id=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},id.apply(this,arguments)}function WH(e,t){return VH(e)||HH(e,t)||GH(e,t)||UH()}function UH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GH(e,t){if(e){if(typeof e=="string")return kw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kw(e,t)}}function kw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function HH(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function VH(e){if(Array.isArray(e))return e}function Sw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sw(Object(r),!0).forEach(function(n){KH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KH(e,t,r){return t=XH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XH(e){var t=qH(e,"string");return $c(t)=="symbol"?t:t+""}function qH(e,t){if($c(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ow=function(t,r,n,a,o){var i=n-a,s;return s="M ".concat(t,",").concat(r),s+="L ".concat(t+n,",").concat(r),s+="L ".concat(t+n-i/2,",").concat(r+o),s+="L ".concat(t+n-i/2-a,",").concat(r+o),s+="L ".concat(t,",").concat(r," Z"),s},YH={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},QH=function(t){var r=jw(jw({},YH),t),n=O.useRef(),a=O.useState(-1),o=WH(a,2),i=o[0],s=o[1];O.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var v=n.current.getTotalLength();v&&s(v)}catch{}},[]);var l=r.x,c=r.y,f=r.upperWidth,u=r.lowerWidth,h=r.height,p=r.className,m=r.animationEasing,w=r.animationDuration,b=r.animationBegin,y=r.isUpdateAnimationActive;if(l!==+l||c!==+c||f!==+f||u!==+u||h!==+h||f===0&&u===0||h===0)return null;var g=Je("recharts-trapezoid",p);return y?M.createElement(sa,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:f,lowerWidth:u,height:h,x:l,y:c},duration:w,animationEasing:m,isActive:y},function(v){var S=v.upperWidth,x=v.lowerWidth,k=v.height,j=v.x,_=v.y;return M.createElement(sa,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:w,easing:m},M.createElement("path",id({},Le(r,!0),{className:g,d:Ow(j,_,S,x,k),ref:n})))}):M.createElement("g",null,M.createElement("path",id({},Le(r,!0),{className:g,d:Ow(l,c,f,u,h)})))},ZH=["option","shapeType","propTransformer","activeClassName","isActive"];function Dc(e){"@babel/helpers - typeof";return Dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dc(e)}function JH(e,t){if(e==null)return{};var r=eV(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function eV(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function _w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_w(Object(r),!0).forEach(function(n){tV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_w(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tV(e,t,r){return t=rV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rV(e){var t=nV(e,"string");return Dc(t)=="symbol"?t:t+""}function nV(e,t){if(Dc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aV(e,t){return sd(sd({},t),e)}function oV(e,t){return e==="symbols"}function Pw(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return M.createElement(tv,r);case"trapezoid":return M.createElement(QH,r);case"sector":return M.createElement(i_,r);case"symbols":if(oV(t))return M.createElement(lh,r);break;default:return null}}function iV(e){return O.isValidElement(e)?e.props:e}function Fg(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?aV:n,o=e.activeClassName,i=o===void 0?"recharts-active-shape":o,s=e.isActive,l=JH(e,ZH),c;if(O.isValidElement(t))c=O.cloneElement(t,sd(sd({},l),iV(t)));else if(Re(t))c=t(l);else if(DH(t)&&!zH(t)){var f=a(t,l);c=M.createElement(Pw,{shapeType:r,elementProps:f})}else{var u=l;c=M.createElement(Pw,{shapeType:r,elementProps:u})}return s?M.createElement(ut,{className:i},c):c}function kh(e,t){return t!=null&&"trapezoids"in e.props}function Sh(e,t){return t!=null&&"sectors"in e.props}function Lc(e,t){return t!=null&&"points"in e.props}function sV(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,o=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&o}function lV(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function cV(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function uV(e,t){var r;return kh(e,t)?r=sV:Sh(e,t)?r=lV:Lc(e,t)&&(r=cV),r}function fV(e,t){var r;return kh(e,t)?r="trapezoids":Sh(e,t)?r="sectors":Lc(e,t)&&(r="points"),r}function dV(e,t){if(kh(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Sh(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Lc(e,t)?t.payload:{}}function hV(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=fV(r,t),o=dV(r,t),i=n.filter(function(l,c){var f=di(o,l),u=r.props[a].filter(function(m){var w=uV(r,t);return w(m,t)}),h=r.props[a].indexOf(u[u.length-1]),p=c===h;return f&&p}),s=n.indexOf(i[i.length-1]);return s}var pV=Math.ceil,gV=Math.max;function mV(e,t,r,n){for(var a=-1,o=gV(pV((t-e)/(r||1)),0),i=Array(o);o--;)i[n?o:++a]=e,e+=r;return i}var yV=mV,vV=Yj,Nw=1/0,xV=17976931348623157e292;function bV(e){if(!e)return e===0?e:0;if(e=vV(e),e===Nw||e===-Nw){var t=e<0?-1:1;return t*xV}return e===e?e:0}var v_=bV,wV=yV,kV=fh,Cp=v_;function SV(e){return function(t,r,n){return n&&typeof n!="number"&&kV(t,r,n)&&(r=n=void 0),t=Cp(t),r===void 0?(r=t,t=0):r=Cp(r),n=n===void 0?t<r?1:-1:Cp(n),wV(t,r,n,e)}}var jV=SV,OV=jV,_V=OV(),PV=_V;const ld=Mt(PV);function Rc(e){"@babel/helpers - typeof";return Rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rc(e)}function Aw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Aw(Object(r),!0).forEach(function(n){x_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Aw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function x_(e,t,r){return t=NV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NV(e){var t=AV(e,"string");return Rc(t)=="symbol"?t:t+""}function AV(e,t){if(Rc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MV=["Webkit","Moz","O","ms"],CV=function(t,r){var n=t.replace(/(\w)/,function(o){return o.toUpperCase()}),a=MV.reduce(function(o,i){return Mw(Mw({},o),{},x_({},i+n,r))},{});return a[t]=r,a};function ws(e){"@babel/helpers - typeof";return ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ws(e)}function cd(){return cd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cd.apply(this,arguments)}function Cw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ep(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cw(Object(r),!0).forEach(function(n){gn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ew(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,w_(n.key),n)}}function TV(e,t,r){return t&&Ew(e.prototype,t),r&&Ew(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function $V(e,t,r){return t=ud(t),DV(e,b_()?Reflect.construct(t,r||[],ud(e).constructor):t.apply(e,r))}function DV(e,t){if(t&&(ws(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LV(e)}function LV(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b_=function(){return!!e})()}function ud(e){return ud=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ud(e)}function RV(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zg(e,t)}function zg(e,t){return zg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},zg(e,t)}function gn(e,t,r){return t=w_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w_(e){var t=IV(e,"string");return ws(t)=="symbol"?t:t+""}function IV(e,t){if(ws(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ws(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var BV=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,o=t.x,i=t.width,s=t.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=Il().domain(ld(0,l)).range([o,o+i-s]),f=c.domain().map(function(u){return c(u)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(a),scale:c,scaleValues:f}},Tw=function(t){return t.changedTouches&&!!t.changedTouches.length},ks=function(e){function t(r){var n;return EV(this,t),n=$V(this,t,[r]),gn(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),gn(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),gn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,o=a.endIndex,i=a.onDragEnd,s=a.startIndex;i==null||i({endIndex:o,startIndex:s})}),n.detachDragEndListener()}),gn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),gn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),gn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),gn(n,"handleSlideDragStart",function(a){var o=Tw(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return RV(t,e),TV(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,o=n.endX,i=this.state.scaleValues,s=this.props,l=s.gap,c=s.data,f=c.length-1,u=Math.min(a,o),h=Math.max(a,o),p=t.getIndexInRange(i,u),m=t.getIndexInRange(i,h);return{startIndex:p-p%l,endIndex:m===f?f:m-m%l}}},{key:"getTextOfTick",value:function(n){var a=this.props,o=a.data,i=a.tickFormatter,s=a.dataKey,l=gr(o[n],s,n);return Re(i)?i(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,o=a.slideMoveStartX,i=a.startX,s=a.endX,l=this.props,c=l.x,f=l.width,u=l.travellerWidth,h=l.startIndex,p=l.endIndex,m=l.onChange,w=n.pageX-o;w>0?w=Math.min(w,c+f-u-s,c+f-u-i):w<0&&(w=Math.max(w,c-i,c-s));var b=this.getIndex({startX:i+w,endX:s+w});(b.startIndex!==h||b.endIndex!==p)&&m&&m(b),this.setState({startX:i+w,endX:s+w,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var o=Tw(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,o=a.brushMoveStartX,i=a.movingTravellerId,s=a.endX,l=a.startX,c=this.state[i],f=this.props,u=f.x,h=f.width,p=f.travellerWidth,m=f.onChange,w=f.gap,b=f.data,y={startX:this.state.startX,endX:this.state.endX},g=n.pageX-o;g>0?g=Math.min(g,u+h-p-c):g<0&&(g=Math.max(g,u-c)),y[i]=c+g;var v=this.getIndex(y),S=v.startIndex,x=v.endIndex,k=function(){var _=b.length-1;return i==="startX"&&(s>l?S%w===0:x%w===0)||s<l&&x===_||i==="endX"&&(s>l?x%w===0:S%w===0)||s>l&&x===_};this.setState(gn(gn({},i,c+g),"brushMoveStartX",n.pageX),function(){m&&k()&&m(v)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var o=this,i=this.state,s=i.scaleValues,l=i.startX,c=i.endX,f=this.state[a],u=s.indexOf(f);if(u!==-1){var h=u+n;if(!(h===-1||h>=s.length)){var p=s[h];a==="startX"&&p>=c||a==="endX"&&p<=l||this.setState(gn({},a,p),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,o=n.y,i=n.width,s=n.height,l=n.fill,c=n.stroke;return M.createElement("rect",{stroke:c,fill:l,x:a,y:o,width:i,height:s})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,o=n.y,i=n.width,s=n.height,l=n.data,c=n.children,f=n.padding,u=O.Children.only(c);return u?M.cloneElement(u,{x:a,y:o,width:i,height:s,margin:f,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,a){var o,i,s=this,l=this.props,c=l.y,f=l.travellerWidth,u=l.height,h=l.traveller,p=l.ariaLabel,m=l.data,w=l.startIndex,b=l.endIndex,y=Math.max(n,this.props.x),g=Ep(Ep({},Le(this.props,!1)),{},{x:y,y:c,width:f,height:u}),v=p||"Min value: ".concat((o=m[w])===null||o===void 0?void 0:o.name,", Max value: ").concat((i=m[b])===null||i===void 0?void 0:i.name);return M.createElement(ut,{tabIndex:0,role:"slider","aria-label":v,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(x){["ArrowLeft","ArrowRight"].includes(x.key)&&(x.preventDefault(),x.stopPropagation(),s.handleTravellerMoveKeyboard(x.key==="ArrowRight"?1:-1,a))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,g))}},{key:"renderSlide",value:function(n,a){var o=this.props,i=o.y,s=o.height,l=o.stroke,c=o.travellerWidth,f=Math.min(n,a)+c,u=Math.max(Math.abs(a-n)-c,0);return M.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:f,y:i,width:u,height:s})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,o=n.endIndex,i=n.y,s=n.height,l=n.travellerWidth,c=n.stroke,f=this.state,u=f.startX,h=f.endX,p=5,m={pointerEvents:"none",fill:c};return M.createElement(ut,{className:"recharts-brush-texts"},M.createElement(If,cd({textAnchor:"end",verticalAnchor:"middle",x:Math.min(u,h)-p,y:i+s/2},m),this.getTextOfTick(a)),M.createElement(If,cd({textAnchor:"start",verticalAnchor:"middle",x:Math.max(u,h)+l+p,y:i+s/2},m),this.getTextOfTick(o)))}},{key:"render",value:function(){var n=this.props,a=n.data,o=n.className,i=n.children,s=n.x,l=n.y,c=n.width,f=n.height,u=n.alwaysShowText,h=this.state,p=h.startX,m=h.endX,w=h.isTextActive,b=h.isSlideMoving,y=h.isTravellerMoving,g=h.isTravellerFocused;if(!a||!a.length||!ie(s)||!ie(l)||!ie(c)||!ie(f)||c<=0||f<=0)return null;var v=Je("recharts-brush",o),S=M.Children.count(i)===1,x=CV("userSelect","none");return M.createElement(ut,{className:v,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:x},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(p,m),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(m,"endX"),(w||b||y||g||u)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,o=n.y,i=n.width,s=n.height,l=n.stroke,c=Math.floor(o+s/2)-1;return M.createElement(M.Fragment,null,M.createElement("rect",{x:a,y:o,width:i,height:s,fill:l,stroke:"none"}),M.createElement("line",{x1:a+1,y1:c,x2:a+i-1,y2:c,fill:"none",stroke:"#fff"}),M.createElement("line",{x1:a+1,y1:c+2,x2:a+i-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var o;return M.isValidElement(n)?o=M.cloneElement(n,a):Re(n)?o=n(a):o=t.renderDefaultTraveller(a),o}},{key:"getDerivedStateFromProps",value:function(n,a){var o=n.data,i=n.width,s=n.x,l=n.travellerWidth,c=n.updateId,f=n.startIndex,u=n.endIndex;if(o!==a.prevData||c!==a.prevUpdateId)return Ep({prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:i},o&&o.length?BV({data:o,width:i,x:s,travellerWidth:l,startIndex:f,endIndex:u}):{scale:null,scaleValues:null});if(a.scale&&(i!==a.prevWidth||s!==a.prevX||l!==a.prevTravellerWidth)){a.scale.range([s,s+i-l]);var h=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:i,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var o=n.length,i=0,s=o-1;s-i>1;){var l=Math.floor((i+s)/2);n[l]>a?s=l:i=l}return a>=n[s]?s:i}}])}(O.PureComponent);gn(ks,"displayName","Brush");gn(ks,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var FV=_y;function zV(e,t){var r;return FV(e,function(n,a,o){return r=t(n,a,o),!r}),!!r}var WV=zV,UV=Sj,GV=Co,HV=WV,VV=dn,KV=fh;function XV(e,t,r){var n=VV(e)?UV:HV;return r&&KV(e,t,r)&&(t=void 0),n(e,GV(t))}var qV=XV;const YV=Mt(qV);var Sa=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},$w=Hj;function QV(e,t,r){t=="__proto__"&&$w?$w(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var ZV=QV,JV=ZV,eK=Uj,tK=Co;function rK(e,t){var r={};return t=tK(t),eK(e,function(n,a,o){JV(r,a,t(n,a,o))}),r}var nK=rK;const aK=Mt(nK);function oK(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var iK=oK,sK=_y;function lK(e,t){var r=!0;return sK(e,function(n,a,o){return r=!!t(n,a,o),r}),r}var cK=lK,uK=iK,fK=cK,dK=Co,hK=dn,pK=fh;function gK(e,t,r){var n=hK(e)?uK:fK;return r&&pK(e,t,r)&&(t=void 0),n(e,dK(t))}var mK=gK;const k_=Mt(mK);var yK=["x","y"];function Ic(e){"@babel/helpers - typeof";return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ic(e)}function Wg(){return Wg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wg.apply(this,arguments)}function Dw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dw(Object(r),!0).forEach(function(n){vK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vK(e,t,r){return t=xK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xK(e){var t=bK(e,"string");return Ic(t)=="symbol"?t:t+""}function bK(e,t){if(Ic(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ic(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wK(e,t){if(e==null)return{};var r=kK(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function SK(e,t){var r=e.x,n=e.y,a=wK(e,yK),o="".concat(r),i=parseInt(o,10),s="".concat(n),l=parseInt(s,10),c="".concat(t.height||a.height),f=parseInt(c,10),u="".concat(t.width||a.width),h=parseInt(u,10);return kl(kl(kl(kl(kl({},t),a),i?{x:i}:{}),l?{y:l}:{}),{},{height:f,width:h,name:t.name,radius:t.radius})}function Lw(e){return M.createElement(Fg,Wg({shapeType:"rectangle",propTransformer:SK,activeClassName:"recharts-active-bar"},e))}var jK=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var o=ie(n)||IT(n);return o?t(n,a):(o||pi(),r)}},OK=["value","background"],S_;function Ss(e){"@babel/helpers - typeof";return Ss=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ss(e)}function _K(e,t){if(e==null)return{};var r=PK(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function PK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function fd(){return fd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fd.apply(this,arguments)}function Rw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function or(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rw(Object(r),!0).forEach(function(n){po(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Iw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,O_(n.key),n)}}function AK(e,t,r){return t&&Iw(e.prototype,t),r&&Iw(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function MK(e,t,r){return t=dd(t),CK(e,j_()?Reflect.construct(t,r||[],dd(e).constructor):t.apply(e,r))}function CK(e,t){if(t&&(Ss(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EK(e)}function EK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j_=function(){return!!e})()}function dd(e){return dd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dd(e)}function TK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ug(e,t)}function Ug(e,t){return Ug=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ug(e,t)}function po(e,t,r){return t=O_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O_(e){var t=$K(e,"string");return Ss(t)=="symbol"?t:t+""}function $K(e,t){if(Ss(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ss(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var eu=function(e){function t(){var r;NK(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=MK(this,t,[].concat(a)),po(r,"state",{isAnimationFinished:!1}),po(r,"id",bi("recharts-bar-")),po(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),i&&i()}),po(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),i&&i()}),r}return TK(t,e),AK(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,o=this.props,i=o.shape,s=o.dataKey,l=o.activeIndex,c=o.activeBar,f=Le(this.props,!1);return n&&n.map(function(u,h){var p=h===l,m=p?c:i,w=or(or(or({},f),u),{},{isActive:p,option:m,index:h,dataKey:s,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return M.createElement(ut,fd({className:"recharts-bar-rectangle"},sc(a.props,u,h),{key:"rectangle-".concat(u==null?void 0:u.x,"-").concat(u==null?void 0:u.y,"-").concat(u==null?void 0:u.value,"-").concat(h)}),M.createElement(Lw,w))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,o=a.data,i=a.layout,s=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,f=a.animationEasing,u=a.animationId,h=this.state.prevData;return M.createElement(sa,{begin:l,duration:c,isActive:s,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var m=p.t,w=o.map(function(b,y){var g=h&&h[y];if(g){var v=rr(g.x,b.x),S=rr(g.y,b.y),x=rr(g.width,b.width),k=rr(g.height,b.height);return or(or({},b),{},{x:v(m),y:S(m),width:x(m),height:k(m)})}if(i==="horizontal"){var j=rr(0,b.height),_=j(m);return or(or({},b),{},{y:b.y+b.height-_,height:_})}var P=rr(0,b.width),N=P(m);return or(or({},b),{},{width:N})});return M.createElement(ut,null,n.renderRectanglesStatically(w))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,o=n.isAnimationActive,i=this.state.prevData;return o&&a&&a.length&&(!i||!di(i,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,o=a.data,i=a.dataKey,s=a.activeIndex,l=Le(this.props.background,!1);return o.map(function(c,f){c.value;var u=c.background,h=_K(c,OK);if(!u)return null;var p=or(or(or(or(or({},h),{},{fill:"#eee"},u),l),sc(n.props,c,f)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:i,index:f,className:"recharts-bar-background-rectangle"});return M.createElement(Lw,fd({key:"background-bar-".concat(f),option:n.props.background,isActive:f===s},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,i=o.data,s=o.xAxis,l=o.yAxis,c=o.layout,f=o.children,u=fn(f,Qs);if(!u)return null;var h=c==="vertical"?i[0].height/2:i[0].width/2,p=function(b,y){var g=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:g,errorVal:gr(b,y)}},m={clipPath:n?"url(#clipPath-".concat(a,")"):null};return M.createElement(ut,m,u.map(function(w){return M.cloneElement(w,{key:"error-bar-".concat(a,"-").concat(w.props.dataKey),data:i,xAxis:s,yAxis:l,layout:c,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,o=n.data,i=n.className,s=n.xAxis,l=n.yAxis,c=n.left,f=n.top,u=n.width,h=n.height,p=n.isAnimationActive,m=n.background,w=n.id;if(a||!o||!o.length)return null;var b=this.state.isAnimationFinished,y=Je("recharts-bar",i),g=s&&s.allowDataOverflow,v=l&&l.allowDataOverflow,S=g||v,x=De(w)?this.id:w;return M.createElement(ut,{className:y},g||v?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(x)},M.createElement("rect",{x:g?c:c-u/2,y:v?f:f-h/2,width:g?u:u*2,height:v?h:h*2}))):null,M.createElement(ut,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(x,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,x),(!p||b)&&ka.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(O.PureComponent);S_=eu;po(eu,"displayName","Bar");po(eu,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Eo.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});po(eu,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,o=e.xAxis,i=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,f=e.dataStartIndex,u=e.displayedData,h=e.offset,p=sW(n,r);if(!p)return null;var m=t.layout,w=r.type.defaultProps,b=w!==void 0?or(or({},w),r.props):r.props,y=b.dataKey,g=b.children,v=b.minPointSize,S=m==="horizontal"?i:o,x=c?S.scale.domain():null,k=gW({numericAxis:S}),j=fn(g,Ay),_=u.map(function(P,N){var A,C,R,I,T,L;c?A=lW(c[f+N],x):(A=gr(P,y),Array.isArray(A)||(A=[k,A]));var U=jK(v,S_.defaultProps.minPointSize)(A[1],N);if(m==="horizontal"){var D,z=[i.scale(A[0]),i.scale(A[1])],W=z[0],te=z[1];C=F1({axis:o,ticks:s,bandSize:a,offset:p.offset,entry:P,index:N}),R=(D=te??W)!==null&&D!==void 0?D:void 0,I=p.size;var Y=W-te;if(T=Number.isNaN(Y)?0:Y,L={x:C,y:i.y,width:I,height:i.height},Math.abs(U)>0&&Math.abs(T)<Math.abs(U)){var X=na(T||U)*(Math.abs(U)-Math.abs(T));R-=X,T+=X}}else{var F=[o.scale(A[0]),o.scale(A[1])],ue=F[0],fe=F[1];if(C=ue,R=F1({axis:i,ticks:l,bandSize:a,offset:p.offset,entry:P,index:N}),I=fe-ue,T=p.size,L={x:o.x,y:R,width:o.width,height:T},Math.abs(U)>0&&Math.abs(I)<Math.abs(U)){var Se=na(I||U)*(Math.abs(U)-Math.abs(I));I+=Se}}return or(or(or({},P),{},{x:C,y:R,width:I,height:T,value:c?A:A[1],payload:P,background:L},j&&j[N]&&j[N].props),{},{tooltipPayload:[n_(r,P)],tooltipPosition:{x:C+I/2,y:R+T/2}})});return or({data:_,layout:m},h)});function Bc(e){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bc(e)}function DK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,__(n.key),n)}}function LK(e,t,r){return t&&Bw(e.prototype,t),r&&Bw(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fw(Object(r),!0).forEach(function(n){jh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jh(e,t,r){return t=__(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function __(e){var t=RK(e,"string");return Bc(t)=="symbol"?t:t+""}function RK(e,t){if(Bc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rv=function(t,r,n,a,o){var i=t.width,s=t.height,l=t.layout,c=t.children,f=Object.keys(r),u={left:n.left,leftMirror:n.left,right:i-n.right,rightMirror:i-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},h=!!yn(c,eu);return f.reduce(function(p,m){var w=r[m],b=w.orientation,y=w.domain,g=w.padding,v=g===void 0?{}:g,S=w.mirror,x=w.reversed,k="".concat(b).concat(S?"Mirror":""),j,_,P,N,A;if(w.type==="number"&&(w.padding==="gap"||w.padding==="no-gap")){var C=y[1]-y[0],R=1/0,I=w.categoricalDomain.sort(WT);if(I.forEach(function(F,ue){ue>0&&(R=Math.min((F||0)-(I[ue-1]||0),R))}),Number.isFinite(R)){var T=R/C,L=w.layout==="vertical"?n.height:n.width;if(w.padding==="gap"&&(j=T*L/2),w.padding==="no-gap"){var U=fi(t.barCategoryGap,T*L),D=T*L/2;j=D-U-(D-U)/L*U}}}a==="xAxis"?_=[n.left+(v.left||0)+(j||0),n.left+n.width-(v.right||0)-(j||0)]:a==="yAxis"?_=l==="horizontal"?[n.top+n.height-(v.bottom||0),n.top+(v.top||0)]:[n.top+(v.top||0)+(j||0),n.top+n.height-(v.bottom||0)-(j||0)]:_=w.range,x&&(_=[_[1],_[0]]);var z=oW(w,o,h),W=z.scale,te=z.realScaleType;W.domain(y).range(_),iW(W);var Y=pW(W,Jn(Jn({},w),{},{realScaleType:te}));a==="xAxis"?(A=b==="top"&&!S||b==="bottom"&&S,P=n.left,N=u[k]-A*w.height):a==="yAxis"&&(A=b==="left"&&!S||b==="right"&&S,P=u[k]-A*w.width,N=n.top);var X=Jn(Jn(Jn({},w),Y),{},{realScaleType:te,x:P,y:N,scale:W,width:a==="xAxis"?n.width:w.width,height:a==="yAxis"?n.height:w.height});return X.bandSize=Zf(X,Y),!w.hide&&a==="xAxis"?u[k]+=(A?-1:1)*X.height:w.hide||(u[k]+=(A?-1:1)*X.width),Jn(Jn({},p),{},jh({},m,X))},{})},P_=function(t,r){var n=t.x,a=t.y,o=r.x,i=r.y;return{x:Math.min(n,o),y:Math.min(a,i),width:Math.abs(o-n),height:Math.abs(i-a)}},IK=function(t){var r=t.x1,n=t.y1,a=t.x2,o=t.y2;return P_({x:r,y:n},{x:a,y:o})},N_=function(){function e(t){DK(this,e),this.scale=t}return LK(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,o=n.position;if(r!==void 0){if(o)switch(o){case"start":return this.scale(r);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(r)+s}default:return this.scale(r)}if(a){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],o=n[n.length-1];return a<=o?r>=a&&r<=o:r>=o&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();jh(N_,"EPS",1e-4);var nv=function(t){var r=Object.keys(t).reduce(function(n,a){return Jn(Jn({},n),{},jh({},a,N_.create(t[a])))},{});return Jn(Jn({},r),{},{apply:function(a){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=o.bandAware,s=o.position;return aK(a,function(l,c){return r[c].apply(l,{bandAware:i,position:s})})},isInRange:function(a){return k_(a,function(o,i){return r[i].isInRange(o)})}})};function BK(e){return(e%180+180)%180}var FK=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=BK(a),i=o*Math.PI/180,s=Math.atan(n/r),l=i>s&&i<Math.PI-s?n/Math.sin(i):r/Math.cos(i);return Math.abs(l)},zK=Co,WK=qc,UK=ch;function GK(e){return function(t,r,n){var a=Object(t);if(!WK(t)){var o=zK(r);t=UK(t),r=function(s){return o(a[s],s,a)}}var i=e(t,r,n);return i>-1?a[o?t[i]:i]:void 0}}var HK=GK,VK=v_;function KK(e){var t=VK(e),r=t%1;return t===t?r?t-r:t:0}var XK=KK,qK=Rj,YK=Co,QK=XK,ZK=Math.max;function JK(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:QK(r);return a<0&&(a=ZK(n+a,0)),qK(e,YK(t),a)}var eX=JK,tX=HK,rX=eX,nX=tX(rX),aX=nX;const oX=Mt(aX);var iX=GE(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),av=O.createContext(void 0),ov=O.createContext(void 0),A_=O.createContext(void 0),M_=O.createContext({}),C_=O.createContext(void 0),E_=O.createContext(0),T_=O.createContext(0),zw=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,o=r.offset,i=t.clipPathId,s=t.children,l=t.width,c=t.height,f=iX(o);return M.createElement(av.Provider,{value:n},M.createElement(ov.Provider,{value:a},M.createElement(M_.Provider,{value:o},M.createElement(A_.Provider,{value:f},M.createElement(C_.Provider,{value:i},M.createElement(E_.Provider,{value:c},M.createElement(T_.Provider,{value:l},s)))))))},sX=function(){return O.useContext(C_)},$_=function(t){var r=O.useContext(av);r==null&&pi();var n=r[t];return n==null&&pi(),n},lX=function(){var t=O.useContext(av);return co(t)},cX=function(){var t=O.useContext(ov),r=oX(t,function(n){return k_(n.domain,Number.isFinite)});return r||co(t)},D_=function(t){var r=O.useContext(ov);r==null&&pi();var n=r[t];return n==null&&pi(),n},uX=function(){var t=O.useContext(A_);return t},fX=function(){return O.useContext(M_)},iv=function(){return O.useContext(T_)},sv=function(){return O.useContext(E_)};function js(e){"@babel/helpers - typeof";return js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},js(e)}function dX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,R_(n.key),n)}}function pX(e,t,r){return t&&hX(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function gX(e,t,r){return t=hd(t),mX(e,L_()?Reflect.construct(t,r||[],hd(e).constructor):t.apply(e,r))}function mX(e,t){if(t&&(js(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yX(e)}function yX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L_=function(){return!!e})()}function hd(e){return hd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hd(e)}function vX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gg(e,t)}function Gg(e,t){return Gg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Gg(e,t)}function Ww(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Uw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ww(Object(r),!0).forEach(function(n){lv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ww(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lv(e,t,r){return t=R_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R_(e){var t=xX(e,"string");return js(t)=="symbol"?t:t+""}function xX(e,t){if(js(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(js(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function bX(e,t){return jX(e)||SX(e,t)||kX(e,t)||wX()}function wX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kX(e,t){if(e){if(typeof e=="string")return Gw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gw(e,t)}}function Gw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function SX(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function jX(e){if(Array.isArray(e))return e}function Hg(){return Hg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hg.apply(this,arguments)}var OX=function(t,r){var n;return M.isValidElement(t)?n=M.cloneElement(t,r):Re(t)?n=t(r):n=M.createElement("line",Hg({},r,{className:"recharts-reference-line-line"})),n},_X=function(t,r,n,a,o,i,s,l,c){var f=o.x,u=o.y,h=o.width,p=o.height;if(n){var m=c.y,w=t.y.apply(m,{position:i});if(Sa(c,"discard")&&!t.y.isInRange(w))return null;var b=[{x:f+h,y:w},{x:f,y:w}];return l==="left"?b.reverse():b}if(r){var y=c.x,g=t.x.apply(y,{position:i});if(Sa(c,"discard")&&!t.x.isInRange(g))return null;var v=[{x:g,y:u+p},{x:g,y:u}];return s==="top"?v.reverse():v}if(a){var S=c.segment,x=S.map(function(k){return t.apply(k,{position:i})});return Sa(c,"discard")&&YV(x,function(k){return!t.isInRange(k)})?null:x}return null};function PX(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,o=e.yAxisId,i=e.shape,s=e.className,l=e.alwaysShow,c=sX(),f=$_(a),u=D_(o),h=uX();if(!c||!h)return null;Ia(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=nv({x:f.scale,y:u.scale}),m=pr(t),w=pr(r),b=n&&n.length===2,y=_X(p,m,w,b,h,e.position,f.orientation,u.orientation,e);if(!y)return null;var g=bX(y,2),v=g[0],S=v.x,x=v.y,k=g[1],j=k.x,_=k.y,P=Sa(e,"hidden")?"url(#".concat(c,")"):void 0,N=Uw(Uw({clipPath:P},Le(e,!0)),{},{x1:S,y1:x,x2:j,y2:_});return M.createElement(ut,{className:Je("recharts-reference-line",s)},OX(i,N),Ir.renderCallByParent(e,IK({x1:S,y1:x,x2:j,y2:_})))}var Yo=function(e){function t(){return dX(this,t),gX(this,t,arguments)}return vX(t,e),pX(t,[{key:"render",value:function(){return M.createElement(PX,this.props)}}])}(M.Component);lv(Yo,"displayName","ReferenceLine");lv(Yo,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Vg(){return Vg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vg.apply(this,arguments)}function Os(e){"@babel/helpers - typeof";return Os=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Os(e)}function Hw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hw(Object(r),!0).forEach(function(n){Oh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,B_(n.key),n)}}function MX(e,t,r){return t&&AX(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function CX(e,t,r){return t=pd(t),EX(e,I_()?Reflect.construct(t,r||[],pd(e).constructor):t.apply(e,r))}function EX(e,t){if(t&&(Os(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TX(e)}function TX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I_=function(){return!!e})()}function pd(e){return pd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pd(e)}function $X(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kg(e,t)}function Kg(e,t){return Kg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Kg(e,t)}function Oh(e,t,r){return t=B_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B_(e){var t=DX(e,"string");return Os(t)=="symbol"?t:t+""}function DX(e,t){if(Os(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Os(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var LX=function(t){var r=t.x,n=t.y,a=t.xAxis,o=t.yAxis,i=nv({x:a.scale,y:o.scale}),s=i.apply({x:r,y:n},{bandAware:!0});return Sa(t,"discard")&&!i.isInRange(s)?null:s},_h=function(e){function t(){return NX(this,t),CX(this,t,arguments)}return $X(t,e),MX(t,[{key:"render",value:function(){var n=this.props,a=n.x,o=n.y,i=n.r,s=n.alwaysShow,l=n.clipPathId,c=pr(a),f=pr(o);if(Ia(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!f)return null;var u=LX(this.props);if(!u)return null;var h=u.x,p=u.y,m=this.props,w=m.shape,b=m.className,y=Sa(this.props,"hidden")?"url(#".concat(l,")"):void 0,g=Vw(Vw({clipPath:y},Le(this.props,!0)),{},{cx:h,cy:p});return M.createElement(ut,{className:Je("recharts-reference-dot",b)},t.renderDot(w,g),Ir.renderCallByParent(this.props,{x:h-i,y:p-i,width:2*i,height:2*i}))}}])}(M.Component);Oh(_h,"displayName","ReferenceDot");Oh(_h,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Oh(_h,"renderDot",function(e,t){var r;return M.isValidElement(e)?r=M.cloneElement(e,t):Re(e)?r=e(t):r=M.createElement(wh,Vg({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function Xg(){return Xg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xg.apply(this,arguments)}function _s(e){"@babel/helpers - typeof";return _s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_s(e)}function Kw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kw(Object(r),!0).forEach(function(n){Ph(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function IX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,z_(n.key),n)}}function BX(e,t,r){return t&&IX(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function FX(e,t,r){return t=gd(t),zX(e,F_()?Reflect.construct(t,r||[],gd(e).constructor):t.apply(e,r))}function zX(e,t){if(t&&(_s(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WX(e)}function WX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(F_=function(){return!!e})()}function gd(e){return gd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gd(e)}function UX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qg(e,t)}function qg(e,t){return qg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},qg(e,t)}function Ph(e,t,r){return t=z_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z_(e){var t=GX(e,"string");return _s(t)=="symbol"?t:t+""}function GX(e,t){if(_s(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_s(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var HX=function(t,r,n,a,o){var i=o.x1,s=o.x2,l=o.y1,c=o.y2,f=o.xAxis,u=o.yAxis;if(!f||!u)return null;var h=nv({x:f.scale,y:u.scale}),p={x:t?h.x.apply(i,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},m={x:r?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(c,{position:"end"}):h.y.rangeMax};return Sa(o,"discard")&&(!h.isInRange(p)||!h.isInRange(m))?null:P_(p,m)},tu=function(e){function t(){return RX(this,t),FX(this,t,arguments)}return UX(t,e),BX(t,[{key:"render",value:function(){var n=this.props,a=n.x1,o=n.x2,i=n.y1,s=n.y2,l=n.className,c=n.alwaysShow,f=n.clipPathId;Ia(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var u=pr(a),h=pr(o),p=pr(i),m=pr(s),w=this.props.shape;if(!u&&!h&&!p&&!m&&!w)return null;var b=HX(u,h,p,m,this.props);if(!b&&!w)return null;var y=Sa(this.props,"hidden")?"url(#".concat(f,")"):void 0;return M.createElement(ut,{className:Je("recharts-reference-area",l)},t.renderRect(w,Xw(Xw({clipPath:y},Le(this.props,!0)),b)),Ir.renderCallByParent(this.props,b))}}])}(M.Component);Ph(tu,"displayName","ReferenceArea");Ph(tu,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Ph(tu,"renderRect",function(e,t){var r;return M.isValidElement(e)?r=M.cloneElement(e,t):Re(e)?r=e(t):r=M.createElement(tv,Xg({},t,{className:"recharts-reference-area-rect"})),r});function W_(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function VX(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return FK(n,r)}function KX(e,t,r){var n=r==="width",a=e.x,o=e.y,i=e.width,s=e.height;return t===1?{start:n?a:o,end:n?a+i:o+s}:{start:n?a+i:o+s,end:n?a:o}}function md(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var o=r();return e*(t-e*o/2-n)>=0&&e*(t+e*o/2-a)<=0}function XX(e,t){return W_(e,t+1)}function qX(e,t,r,n,a){for(var o=(n||[]).slice(),i=t.start,s=t.end,l=0,c=1,f=i,u=function(){var m=n==null?void 0:n[l];if(m===void 0)return{v:W_(n,c)};var w=l,b,y=function(){return b===void 0&&(b=r(m,w)),b},g=m.coordinate,v=l===0||md(e,g,y,f,s);v||(l=0,f=i,c+=1),v&&(f=g+e*(y()/2+a),l+=c)},h;c<=o.length;)if(h=u(),h)return h.v;return[]}function Fc(e){"@babel/helpers - typeof";return Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fc(e)}function qw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qw(Object(r),!0).forEach(function(n){YX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YX(e,t,r){return t=QX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QX(e){var t=ZX(e,"string");return Fc(t)=="symbol"?t:t+""}function ZX(e,t){if(Fc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JX(e,t,r,n,a){for(var o=(n||[]).slice(),i=o.length,s=t.start,l=t.end,c=function(h){var p=o[h],m,w=function(){return m===void 0&&(m=r(p,h)),m};if(h===i-1){var b=e*(p.coordinate+e*w()/2-l);o[h]=p=Lr(Lr({},p),{},{tickCoord:b>0?p.coordinate-b*e:p.coordinate})}else o[h]=p=Lr(Lr({},p),{},{tickCoord:p.coordinate});var y=md(e,p.tickCoord,w,s,l);y&&(l=p.tickCoord-e*(w()/2+a),o[h]=Lr(Lr({},p),{},{isShow:!0}))},f=i-1;f>=0;f--)c(f);return o}function eq(e,t,r,n,a,o){var i=(n||[]).slice(),s=i.length,l=t.start,c=t.end;if(o){var f=n[s-1],u=r(f,s-1),h=e*(f.coordinate+e*u/2-c);i[s-1]=f=Lr(Lr({},f),{},{tickCoord:h>0?f.coordinate-h*e:f.coordinate});var p=md(e,f.tickCoord,function(){return u},l,c);p&&(c=f.tickCoord-e*(u/2+a),i[s-1]=Lr(Lr({},f),{},{isShow:!0}))}for(var m=o?s-1:s,w=function(g){var v=i[g],S,x=function(){return S===void 0&&(S=r(v,g)),S};if(g===0){var k=e*(v.coordinate-e*x()/2-l);i[g]=v=Lr(Lr({},v),{},{tickCoord:k<0?v.coordinate-k*e:v.coordinate})}else i[g]=v=Lr(Lr({},v),{},{tickCoord:v.coordinate});var j=md(e,v.tickCoord,x,l,c);j&&(l=v.tickCoord+e*(x()/2+a),i[g]=Lr(Lr({},v),{},{isShow:!0}))},b=0;b<m;b++)w(b);return i}function cv(e,t,r){var n=e.tick,a=e.ticks,o=e.viewBox,i=e.minTickGap,s=e.orientation,l=e.interval,c=e.tickFormatter,f=e.unit,u=e.angle;if(!a||!a.length||!n)return[];if(ie(l)||Eo.isSsr)return XX(a,typeof l=="number"&&ie(l)?l:0);var h=[],p=s==="top"||s==="bottom"?"width":"height",m=f&&p==="width"?Rl(f,{fontSize:t,letterSpacing:r}):{width:0,height:0},w=function(v,S){var x=Re(c)?c(v.value,S):v.value;return p==="width"?VX(Rl(x,{fontSize:t,letterSpacing:r}),m,u):Rl(x,{fontSize:t,letterSpacing:r})[p]},b=a.length>=2?na(a[1].coordinate-a[0].coordinate):1,y=KX(o,b,p);return l==="equidistantPreserveStart"?qX(b,y,w,a,i):(l==="preserveStart"||l==="preserveStartEnd"?h=eq(b,y,w,a,i,l==="preserveStartEnd"):h=JX(b,y,w,a,i),h.filter(function(g){return g.isShow}))}var tq=["viewBox"],rq=["viewBox"],nq=["ticks"];function Ps(e){"@babel/helpers - typeof";return Ps=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ps(e)}function Hi(){return Hi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hi.apply(this,arguments)}function Yw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ur(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yw(Object(r),!0).forEach(function(n){uv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tp(e,t){if(e==null)return{};var r=aq(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function aq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function oq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,G_(n.key),n)}}function iq(e,t,r){return t&&Qw(e.prototype,t),r&&Qw(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function sq(e,t,r){return t=yd(t),lq(e,U_()?Reflect.construct(t,r||[],yd(e).constructor):t.apply(e,r))}function lq(e,t){if(t&&(Ps(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cq(e)}function cq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(U_=function(){return!!e})()}function yd(e){return yd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yd(e)}function uq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yg(e,t)}function Yg(e,t){return Yg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Yg(e,t)}function uv(e,t,r){return t=G_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G_(e){var t=fq(e,"string");return Ps(t)=="symbol"?t:t+""}function fq(e,t){if(Ps(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ps(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Zs=function(e){function t(r){var n;return oq(this,t),n=sq(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return uq(t,e),iq(t,[{key:"shouldComponentUpdate",value:function(n,a){var o=n.viewBox,i=Tp(n,tq),s=this.props,l=s.viewBox,c=Tp(s,rq);return!Ji(o,l)||!Ji(i,c)||!Ji(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,o=a.x,i=a.y,s=a.width,l=a.height,c=a.orientation,f=a.tickSize,u=a.mirror,h=a.tickMargin,p,m,w,b,y,g,v=u?-1:1,S=n.tickSize||f,x=ie(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":p=m=n.coordinate,b=i+ +!u*l,w=b-v*S,g=w-v*h,y=x;break;case"left":w=b=n.coordinate,m=o+ +!u*s,p=m-v*S,y=p-v*h,g=x;break;case"right":w=b=n.coordinate,m=o+ +u*s,p=m+v*S,y=p+v*h,g=x;break;default:p=m=n.coordinate,b=i+ +u*l,w=b+v*S,g=w+v*h,y=x;break}return{line:{x1:p,y1:w,x2:m,y2:b},tick:{x:y,y:g}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,o=n.mirror,i;switch(a){case"left":i=o?"start":"end";break;case"right":i=o?"end":"start";break;default:i="middle";break}return i}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,o=n.mirror,i="end";switch(a){case"left":case"right":i="middle";break;case"top":i=o?"start":"end";break;default:i=o?"end":"start";break}return i}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,o=n.y,i=n.width,s=n.height,l=n.orientation,c=n.mirror,f=n.axisLine,u=ur(ur(ur({},Le(this.props,!1)),Le(f,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);u=ur(ur({},u),{},{x1:a,y1:o+h*s,x2:a+i,y2:o+h*s})}else{var p=+(l==="left"&&!c||l==="right"&&c);u=ur(ur({},u),{},{x1:a+p*i,y1:o,x2:a+p*i,y2:o+s})}return M.createElement("line",Hi({},u,{className:Je("recharts-cartesian-axis-line",Bn(f,"className"))}))}},{key:"renderTicks",value:function(n,a,o){var i=this,s=this.props,l=s.tickLine,c=s.stroke,f=s.tick,u=s.tickFormatter,h=s.unit,p=cv(ur(ur({},this.props),{},{ticks:n}),a,o),m=this.getTickTextAnchor(),w=this.getTickVerticalAnchor(),b=Le(this.props,!1),y=Le(f,!1),g=ur(ur({},b),{},{fill:"none"},Le(l,!1)),v=p.map(function(S,x){var k=i.getTickLineCoord(S),j=k.line,_=k.tick,P=ur(ur(ur(ur({textAnchor:m,verticalAnchor:w},b),{},{stroke:"none",fill:c},y),_),{},{index:x,payload:S,visibleTicksCount:p.length,tickFormatter:u});return M.createElement(ut,Hi({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},sc(i.props,S,x)),l&&M.createElement("line",Hi({},g,j,{className:Je("recharts-cartesian-axis-tick-line",Bn(l,"className"))})),f&&t.renderTickItem(f,P,"".concat(Re(u)?u(S.value,x):S.value).concat(h||"")))});return M.createElement("g",{className:"recharts-cartesian-axis-ticks"},v)}},{key:"render",value:function(){var n=this,a=this.props,o=a.axisLine,i=a.width,s=a.height,l=a.ticksGenerator,c=a.className,f=a.hide;if(f)return null;var u=this.props,h=u.ticks,p=Tp(u,nq),m=h;return Re(l)&&(m=h&&h.length>0?l(this.props):l(p)),i<=0||s<=0||!m||!m.length?null:M.createElement(ut,{className:Je("recharts-cartesian-axis",c),ref:function(b){n.layerReference=b}},o&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),Ir.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,o){var i,s=Je(a.className,"recharts-cartesian-axis-tick-value");return M.isValidElement(n)?i=M.cloneElement(n,ur(ur({},a),{},{className:s})):Re(n)?i=n(ur(ur({},a),{},{className:s})):i=M.createElement(If,Hi({},a,{className:"recharts-cartesian-axis-tick-value"}),o),i}}])}(O.Component);uv(Zs,"displayName","CartesianAxis");uv(Zs,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var dq=["x1","y1","x2","y2","key"],hq=["offset"];function gi(e){"@babel/helpers - typeof";return gi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gi(e)}function Zw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Br(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zw(Object(r),!0).forEach(function(n){pq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pq(e,t,r){return t=gq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gq(e){var t=mq(e,"string");return gi(t)=="symbol"?t:t+""}function mq(e,t){if(gi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qo(){return Qo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qo.apply(this,arguments)}function Jw(e,t){if(e==null)return{};var r=yq(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var vq=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,o=t.y,i=t.width,s=t.height,l=t.ry;return M.createElement("rect",{x:a,y:o,ry:l,width:i,height:s,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function H_(e,t){var r;if(M.isValidElement(e))r=M.cloneElement(e,t);else if(Re(e))r=e(t);else{var n=t.x1,a=t.y1,o=t.x2,i=t.y2,s=t.key,l=Jw(t,dq),c=Le(l,!1);c.offset;var f=Jw(c,hq);r=M.createElement("line",Qo({},f,{x1:n,y1:a,x2:o,y2:i,fill:"none",key:s}))}return r}function xq(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,o=e.horizontalPoints;if(!a||!o||!o.length)return null;var i=o.map(function(s,l){var c=Br(Br({},e),{},{x1:t,y1:s,x2:t+r,y2:s,key:"line-".concat(l),index:l});return H_(a,c)});return M.createElement("g",{className:"recharts-cartesian-grid-horizontal"},i)}function bq(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,o=e.verticalPoints;if(!a||!o||!o.length)return null;var i=o.map(function(s,l){var c=Br(Br({},e),{},{x1:s,y1:t,x2:s,y2:t+r,key:"line-".concat(l),index:l});return H_(a,c)});return M.createElement("g",{className:"recharts-cartesian-grid-vertical"},i)}function wq(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,o=e.width,i=e.height,s=e.horizontalPoints,l=e.horizontal,c=l===void 0?!0:l;if(!c||!t||!t.length)return null;var f=s.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==f[0]&&f.unshift(0);var u=f.map(function(h,p){var m=!f[p+1],w=m?a+i-h:f[p+1]-h;if(w<=0)return null;var b=p%t.length;return M.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:w,width:o,stroke:"none",fill:t[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function kq(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,o=e.x,i=e.y,s=e.width,l=e.height,c=e.verticalPoints;if(!r||!n||!n.length)return null;var f=c.map(function(h){return Math.round(h+o-o)}).sort(function(h,p){return h-p});o!==f[0]&&f.unshift(0);var u=f.map(function(h,p){var m=!f[p+1],w=m?o+s-h:f[p+1]-h;if(w<=0)return null;var b=p%n.length;return M.createElement("rect",{key:"react-".concat(p),x:h,y:i,width:w,height:l,stroke:"none",fill:n[b],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var Sq=function(t,r){var n=t.xAxis,a=t.width,o=t.height,i=t.offset;return t_(cv(Br(Br(Br({},Zs.defaultProps),n),{},{ticks:Da(n,!0),viewBox:{x:0,y:0,width:a,height:o}})),i.left,i.left+i.width,r)},jq=function(t,r){var n=t.yAxis,a=t.width,o=t.height,i=t.offset;return t_(cv(Br(Br(Br({},Zs.defaultProps),n),{},{ticks:Da(n,!0),viewBox:{x:0,y:0,width:a,height:o}})),i.top,i.top+i.height,r)},Mi={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function mi(e){var t,r,n,a,o,i,s=iv(),l=sv(),c=fX(),f=Br(Br({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Mi.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Mi.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Mi.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Mi.horizontalFill,vertical:(o=e.vertical)!==null&&o!==void 0?o:Mi.vertical,verticalFill:(i=e.verticalFill)!==null&&i!==void 0?i:Mi.verticalFill,x:ie(e.x)?e.x:c.left,y:ie(e.y)?e.y:c.top,width:ie(e.width)?e.width:c.width,height:ie(e.height)?e.height:c.height}),u=f.x,h=f.y,p=f.width,m=f.height,w=f.syncWithTicks,b=f.horizontalValues,y=f.verticalValues,g=lX(),v=cX();if(!ie(p)||p<=0||!ie(m)||m<=0||!ie(u)||u!==+u||!ie(h)||h!==+h)return null;var S=f.verticalCoordinatesGenerator||Sq,x=f.horizontalCoordinatesGenerator||jq,k=f.horizontalPoints,j=f.verticalPoints;if((!k||!k.length)&&Re(x)){var _=b&&b.length,P=x({yAxis:v?Br(Br({},v),{},{ticks:_?b:v.ticks}):void 0,width:s,height:l,offset:c},_?!0:w);Ia(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(gi(P),"]")),Array.isArray(P)&&(k=P)}if((!j||!j.length)&&Re(S)){var N=y&&y.length,A=S({xAxis:g?Br(Br({},g),{},{ticks:N?y:g.ticks}):void 0,width:s,height:l,offset:c},N?!0:w);Ia(Array.isArray(A),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(gi(A),"]")),Array.isArray(A)&&(j=A)}return M.createElement("g",{className:"recharts-cartesian-grid"},M.createElement(vq,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),M.createElement(xq,Qo({},f,{offset:c,horizontalPoints:k,xAxis:g,yAxis:v})),M.createElement(bq,Qo({},f,{offset:c,verticalPoints:j,xAxis:g,yAxis:v})),M.createElement(wq,Qo({},f,{horizontalPoints:k})),M.createElement(kq,Qo({},f,{verticalPoints:j})))}mi.displayName="CartesianGrid";var Oq=["type","layout","connectNulls","ref"],_q=["key"];function Ns(e){"@babel/helpers - typeof";return Ns=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ns(e)}function e2(e,t){if(e==null)return{};var r=Pq(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Pq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function zl(){return zl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zl.apply(this,arguments)}function t2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t2(Object(r),!0).forEach(function(n){ea(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ci(e){return Cq(e)||Mq(e)||Aq(e)||Nq()}function Nq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Aq(e,t){if(e){if(typeof e=="string")return Qg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qg(e,t)}}function Mq(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Cq(e){if(Array.isArray(e))return Qg(e)}function Qg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Eq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,K_(n.key),n)}}function Tq(e,t,r){return t&&r2(e.prototype,t),r&&r2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function $q(e,t,r){return t=vd(t),Dq(e,V_()?Reflect.construct(t,r||[],vd(e).constructor):t.apply(e,r))}function Dq(e,t){if(t&&(Ns(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lq(e)}function Lq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V_=function(){return!!e})()}function vd(e){return vd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vd(e)}function Rq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zg(e,t)}function Zg(e,t){return Zg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Zg(e,t)}function ea(e,t,r){return t=K_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K_(e){var t=Iq(e,"string");return Ns(t)=="symbol"?t:t+""}function Iq(e,t){if(Ns(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ns(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Fr=function(e){function t(){var r;Eq(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=$q(this,t,[].concat(a)),ea(r,"state",{isAnimationFinished:!0,totalLength:0}),ea(r,"generateSimpleStrokeDasharray",function(i,s){return"".concat(s,"px ").concat(i-s,"px")}),ea(r,"getStrokeDasharray",function(i,s,l){var c=l.reduce(function(y,g){return y+g});if(!c)return r.generateSimpleStrokeDasharray(s,i);for(var f=Math.floor(i/c),u=i%c,h=s-i,p=[],m=0,w=0;m<l.length;w+=l[m],++m)if(w+l[m]>u){p=[].concat(Ci(l.slice(0,m)),[u-w]);break}var b=p.length%2===0?[0,h]:[h];return[].concat(Ci(t.repeat(l,f)),Ci(p),b).map(function(y){return"".concat(y,"px")}).join(", ")}),ea(r,"id",bi("recharts-line-")),ea(r,"pathRef",function(i){r.mainCurve=i}),ea(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),ea(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return Rq(t,e),Tq(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,i=o.points,s=o.xAxis,l=o.yAxis,c=o.layout,f=o.children,u=fn(f,Qs);if(!u)return null;var h=function(w,b){return{x:w.x,y:w.y,value:w.value,errorVal:gr(w.payload,b)}},p={clipPath:n?"url(#clipPath-".concat(a,")"):null};return M.createElement(ut,p,u.map(function(m){return M.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:i,xAxis:s,yAxis:l,layout:c,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,o){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,c=s.points,f=s.dataKey,u=Le(this.props,!1),h=Le(l,!0),p=c.map(function(w,b){var y=pn(pn(pn({key:"dot-".concat(b),r:3},u),h),{},{index:b,cx:w.x,cy:w.y,value:w.value,dataKey:f,payload:w.payload,points:c});return t.renderDotItem(l,y)}),m={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(o,")"):null};return M.createElement(ut,zl({className:"recharts-line-dots",key:"dots"},m),p)}},{key:"renderCurveStatically",value:function(n,a,o,i){var s=this.props,l=s.type,c=s.layout,f=s.connectNulls;s.ref;var u=e2(s,Oq),h=pn(pn(pn({},Le(u,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(o,")"):null,points:n},i),{},{type:l,layout:c,connectNulls:f});return M.createElement(ai,zl({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var o=this,i=this.props,s=i.points,l=i.strokeDasharray,c=i.isAnimationActive,f=i.animationBegin,u=i.animationDuration,h=i.animationEasing,p=i.animationId,m=i.animateNewValues,w=i.width,b=i.height,y=this.state,g=y.prevPoints,v=y.totalLength;return M.createElement(sa,{begin:f,duration:u,isActive:c,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var x=S.t;if(g){var k=g.length/s.length,j=s.map(function(C,R){var I=Math.floor(R*k);if(g[I]){var T=g[I],L=rr(T.x,C.x),U=rr(T.y,C.y);return pn(pn({},C),{},{x:L(x),y:U(x)})}if(m){var D=rr(w*2,C.x),z=rr(b/2,C.y);return pn(pn({},C),{},{x:D(x),y:z(x)})}return pn(pn({},C),{},{x:C.x,y:C.y})});return o.renderCurveStatically(j,n,a)}var _=rr(0,v),P=_(x),N;if(l){var A="".concat(l).split(/[,\s]+/gim).map(function(C){return parseFloat(C)});N=o.getStrokeDasharray(P,v,A)}else N=o.generateSimpleStrokeDasharray(v,P);return o.renderCurveStatically(s,n,a,{strokeDasharray:N})})}},{key:"renderCurve",value:function(n,a){var o=this.props,i=o.points,s=o.isAnimationActive,l=this.state,c=l.prevPoints,f=l.totalLength;return s&&i&&i.length&&(!c&&f>0||!di(c,i))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(i,n,a)}},{key:"render",value:function(){var n,a=this.props,o=a.hide,i=a.dot,s=a.points,l=a.className,c=a.xAxis,f=a.yAxis,u=a.top,h=a.left,p=a.width,m=a.height,w=a.isAnimationActive,b=a.id;if(o||!s||!s.length)return null;var y=this.state.isAnimationFinished,g=s.length===1,v=Je("recharts-line",l),S=c&&c.allowDataOverflow,x=f&&f.allowDataOverflow,k=S||x,j=De(b)?this.id:b,_=(n=Le(i,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},P=_.r,N=P===void 0?3:P,A=_.strokeWidth,C=A===void 0?2:A,R=XS(i)?i:{},I=R.clipDot,T=I===void 0?!0:I,L=N*2+C;return M.createElement(ut,{className:v},S||x?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(j)},M.createElement("rect",{x:S?h:h-p/2,y:x?u:u-m/2,width:S?p:p*2,height:x?m:m*2})),!T&&M.createElement("clipPath",{id:"clipPath-dots-".concat(j)},M.createElement("rect",{x:h-L/2,y:u-L/2,width:p+L,height:m+L}))):null,!g&&this.renderCurve(k,j),this.renderErrorBar(k,j),(g||i)&&this.renderDots(k,T,j),(!w||y)&&ka.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var o=n.length%2!==0?[].concat(Ci(n),[0]):n,i=[],s=0;s<a;++s)i=[].concat(Ci(i),Ci(o));return i}},{key:"renderDotItem",value:function(n,a){var o;if(M.isValidElement(n))o=M.cloneElement(n,a);else if(Re(n))o=n(a);else{var i=a.key,s=e2(a,_q),l=Je("recharts-line-dot",typeof n!="boolean"?n.className:"");o=M.createElement(wh,zl({key:i},s,{className:l}))}return o}}])}(O.PureComponent);ea(Fr,"displayName","Line");ea(Fr,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Eo.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ea(Fr,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,o=e.yAxisTicks,i=e.dataKey,s=e.bandSize,l=e.displayedData,c=e.offset,f=t.layout,u=l.map(function(h,p){var m=gr(h,i);return f==="horizontal"?{x:xs({axis:r,ticks:a,bandSize:s,entry:h,index:p}),y:De(m)?null:n.scale(m),value:m,payload:h}:{x:De(m)?null:r.scale(m),y:xs({axis:n,ticks:o,bandSize:s,entry:h,index:p}),value:m,payload:h}});return pn({points:u,layout:f},c)});var Bq=["layout","type","stroke","connectNulls","isRange","ref"],Fq=["key"],X_;function As(e){"@babel/helpers - typeof";return As=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},As(e)}function q_(e,t){if(e==null)return{};var r=zq(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Zo(){return Zo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zo.apply(this,arguments)}function n2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function no(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n2(Object(r),!0).forEach(function(n){va(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Q_(n.key),n)}}function Uq(e,t,r){return t&&a2(e.prototype,t),r&&a2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Gq(e,t,r){return t=xd(t),Hq(e,Y_()?Reflect.construct(t,r||[],xd(e).constructor):t.apply(e,r))}function Hq(e,t){if(t&&(As(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vq(e)}function Vq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Y_=function(){return!!e})()}function xd(e){return xd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xd(e)}function Kq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jg(e,t)}function Jg(e,t){return Jg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Jg(e,t)}function va(e,t,r){return t=Q_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q_(e){var t=Xq(e,"string");return As(t)=="symbol"?t:t+""}function Xq(e,t){if(As(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(As(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Rn=function(e){function t(){var r;Wq(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=Gq(this,t,[].concat(a)),va(r,"state",{isAnimationFinished:!0}),va(r,"id",bi("recharts-area-")),va(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Re(i)&&i()}),va(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Re(i)&&i()}),r}return Kq(t,e),Uq(t,[{key:"renderDots",value:function(n,a,o){var i=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(i&&!s)return null;var l=this.props,c=l.dot,f=l.points,u=l.dataKey,h=Le(this.props,!1),p=Le(c,!0),m=f.map(function(b,y){var g=no(no(no({key:"dot-".concat(y),r:3},h),p),{},{index:y,cx:b.x,cy:b.y,dataKey:u,value:b.value,payload:b.payload,points:f});return t.renderDotItem(c,g)}),w={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(o,")"):null};return M.createElement(ut,Zo({className:"recharts-area-dots"},w),m)}},{key:"renderHorizontalRect",value:function(n){var a=this.props,o=a.baseLine,i=a.points,s=a.strokeWidth,l=i[0].x,c=i[i.length-1].x,f=n*Math.abs(l-c),u=ho(i.map(function(h){return h.y||0}));return ie(o)&&typeof o=="number"?u=Math.max(o,u):o&&Array.isArray(o)&&o.length&&(u=Math.max(ho(o.map(function(h){return h.y||0})),u)),ie(u)?M.createElement("rect",{x:l<c?l:l-f,y:0,width:f,height:Math.floor(u+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,o=a.baseLine,i=a.points,s=a.strokeWidth,l=i[0].y,c=i[i.length-1].y,f=n*Math.abs(l-c),u=ho(i.map(function(h){return h.x||0}));return ie(o)&&typeof o=="number"?u=Math.max(o,u):o&&Array.isArray(o)&&o.length&&(u=Math.max(ho(o.map(function(h){return h.x||0})),u)),ie(u)?M.createElement("rect",{x:0,y:l<c?l:l-f,width:u+(s?parseInt("".concat(s),10):1),height:Math.floor(f)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,o,i){var s=this.props,l=s.layout,c=s.type,f=s.stroke,u=s.connectNulls,h=s.isRange;s.ref;var p=q_(s,Bq);return M.createElement(ut,{clipPath:o?"url(#clipPath-".concat(i,")"):null},M.createElement(ai,Zo({},Le(p,!0),{points:n,connectNulls:u,type:c,baseLine:a,layout:l,stroke:"none",className:"recharts-area-area"})),f!=="none"&&M.createElement(ai,Zo({},Le(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:u,fill:"none",points:n})),f!=="none"&&h&&M.createElement(ai,Zo({},Le(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:u,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(n,a){var o=this,i=this.props,s=i.points,l=i.baseLine,c=i.isAnimationActive,f=i.animationBegin,u=i.animationDuration,h=i.animationEasing,p=i.animationId,m=this.state,w=m.prevPoints,b=m.prevBaseLine;return M.createElement(sa,{begin:f,duration:u,isActive:c,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var g=y.t;if(w){var v=w.length/s.length,S=s.map(function(_,P){var N=Math.floor(P*v);if(w[N]){var A=w[N],C=rr(A.x,_.x),R=rr(A.y,_.y);return no(no({},_),{},{x:C(g),y:R(g)})}return _}),x;if(ie(l)&&typeof l=="number"){var k=rr(b,l);x=k(g)}else if(De(l)||Gs(l)){var j=rr(b,0);x=j(g)}else x=l.map(function(_,P){var N=Math.floor(P*v);if(b[N]){var A=b[N],C=rr(A.x,_.x),R=rr(A.y,_.y);return no(no({},_),{},{x:C(g),y:R(g)})}return _});return o.renderAreaStatically(S,x,n,a)}return M.createElement(ut,null,M.createElement("defs",null,M.createElement("clipPath",{id:"animationClipPath-".concat(a)},o.renderClipRect(g))),M.createElement(ut,{clipPath:"url(#animationClipPath-".concat(a,")")},o.renderAreaStatically(s,l,n,a)))})}},{key:"renderArea",value:function(n,a){var o=this.props,i=o.points,s=o.baseLine,l=o.isAnimationActive,c=this.state,f=c.prevPoints,u=c.prevBaseLine,h=c.totalLength;return l&&i&&i.length&&(!f&&h>0||!di(f,i)||!di(u,s))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(i,s,n,a)}},{key:"render",value:function(){var n,a=this.props,o=a.hide,i=a.dot,s=a.points,l=a.className,c=a.top,f=a.left,u=a.xAxis,h=a.yAxis,p=a.width,m=a.height,w=a.isAnimationActive,b=a.id;if(o||!s||!s.length)return null;var y=this.state.isAnimationFinished,g=s.length===1,v=Je("recharts-area",l),S=u&&u.allowDataOverflow,x=h&&h.allowDataOverflow,k=S||x,j=De(b)?this.id:b,_=(n=Le(i,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},P=_.r,N=P===void 0?3:P,A=_.strokeWidth,C=A===void 0?2:A,R=XS(i)?i:{},I=R.clipDot,T=I===void 0?!0:I,L=N*2+C;return M.createElement(ut,{className:v},S||x?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(j)},M.createElement("rect",{x:S?f:f-p/2,y:x?c:c-m/2,width:S?p:p*2,height:x?m:m*2})),!T&&M.createElement("clipPath",{id:"clipPath-dots-".concat(j)},M.createElement("rect",{x:f-L/2,y:c-L/2,width:p+L,height:m+L}))):null,g?null:this.renderArea(k,j),(i||g)&&this.renderDots(k,T,j),(!w||y)&&ka.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(O.PureComponent);X_=Rn;va(Rn,"displayName","Area");va(Rn,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Eo.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});va(Rn,"getBaseValue",function(e,t,r,n){var a=e.layout,o=e.baseValue,i=t.props.baseValue,s=i??o;if(ie(s)&&typeof s=="number")return s;var l=a==="horizontal"?n:r,c=l.scale.domain();if(l.type==="number"){var f=Math.max(c[0],c[1]),u=Math.min(c[0],c[1]);return s==="dataMin"?u:s==="dataMax"||f<0?f:Math.max(Math.min(c[0],c[1]),0)}return s==="dataMin"?c[0]:s==="dataMax"?c[1]:c[0]});va(Rn,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,a=e.yAxis,o=e.xAxisTicks,i=e.yAxisTicks,s=e.bandSize,l=e.dataKey,c=e.stackedData,f=e.dataStartIndex,u=e.displayedData,h=e.offset,p=t.layout,m=c&&c.length,w=X_.getBaseValue(t,r,n,a),b=p==="horizontal",y=!1,g=u.map(function(S,x){var k;m?k=c[f+x]:(k=gr(S,l),Array.isArray(k)?y=!0:k=[w,k]);var j=k[1]==null||m&&gr(S,l)==null;return b?{x:xs({axis:n,ticks:o,bandSize:s,entry:S,index:x}),y:j?null:a.scale(k[1]),value:k,payload:S}:{x:j?null:n.scale(k[1]),y:xs({axis:a,ticks:i,bandSize:s,entry:S,index:x}),value:k,payload:S}}),v;return m||y?v=g.map(function(S){var x=Array.isArray(S.value)?S.value[0]:null;return b?{x:S.x,y:x!=null&&S.y!=null?a.scale(x):null}:{x:x!=null?n.scale(x):null,y:S.y}}):v=b?a.scale(w):n.scale(w),no({points:g,baseLine:v,layout:p,isRange:y},h)});va(Rn,"renderDotItem",function(e,t){var r;if(M.isValidElement(e))r=M.cloneElement(e,t);else if(Re(e))r=e(t);else{var n=Je("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,o=q_(t,Fq);r=M.createElement(wh,Zo({},o,{key:a,className:n}))}return r});function Ms(e){"@babel/helpers - typeof";return Ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ms(e)}function qq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eP(n.key),n)}}function Qq(e,t,r){return t&&Yq(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Zq(e,t,r){return t=bd(t),Jq(e,Z_()?Reflect.construct(t,r||[],bd(e).constructor):t.apply(e,r))}function Jq(e,t){if(t&&(Ms(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eY(e)}function eY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Z_=function(){return!!e})()}function bd(e){return bd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bd(e)}function tY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&em(e,t)}function em(e,t){return em=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},em(e,t)}function J_(e,t,r){return t=eP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eP(e){var t=rY(e,"string");return Ms(t)=="symbol"?t:t+""}function rY(e,t){if(Ms(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ms(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Nh=function(e){function t(){return qq(this,t),Zq(this,t,arguments)}return tY(t,e),Qq(t,[{key:"render",value:function(){return null}}])}(O.Component);J_(Nh,"displayName","ZAxis");J_(Nh,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var nY=["option","isActive"];function Wl(){return Wl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wl.apply(this,arguments)}function aY(e,t){if(e==null)return{};var r=oY(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function iY(e){var t=e.option,r=e.isActive,n=aY(e,nY);return typeof t=="string"?O.createElement(Fg,Wl({option:O.createElement(lh,Wl({type:t},n)),isActive:r,shapeType:"symbols"},n)):O.createElement(Fg,Wl({option:t,isActive:r,shapeType:"symbols"},n))}function Cs(e){"@babel/helpers - typeof";return Cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cs(e)}function Ul(){return Ul=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ul.apply(this,arguments)}function o2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function En(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o2(Object(r),!0).forEach(function(n){go(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rP(n.key),n)}}function lY(e,t,r){return t&&i2(e.prototype,t),r&&i2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function cY(e,t,r){return t=wd(t),uY(e,tP()?Reflect.construct(t,r||[],wd(e).constructor):t.apply(e,r))}function uY(e,t){if(t&&(Cs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fY(e)}function fY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tP=function(){return!!e})()}function wd(e){return wd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wd(e)}function dY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tm(e,t)}function tm(e,t){return tm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},tm(e,t)}function go(e,t,r){return t=rP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rP(e){var t=hY(e,"string");return Cs(t)=="symbol"?t:t+""}function hY(e,t){if(Cs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var nn=function(e){function t(){var r;sY(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=cY(this,t,[].concat(a)),go(r,"state",{isAnimationFinished:!1}),go(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0})}),go(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1})}),go(r,"id",bi("recharts-scatter-")),r}return dY(t,e),lY(t,[{key:"renderSymbolsStatically",value:function(n){var a=this,o=this.props,i=o.shape,s=o.activeShape,l=o.activeIndex,c=Le(this.props,!1);return n.map(function(f,u){var h=l===u,p=h?s:i,m=En(En({},c),f);return M.createElement(ut,Ul({className:"recharts-scatter-symbol",key:"symbol-".concat(f==null?void 0:f.cx,"-").concat(f==null?void 0:f.cy,"-").concat(f==null?void 0:f.size,"-").concat(u)},sc(a.props,f,u),{role:"img"}),M.createElement(iY,Ul({option:p,isActive:h,key:"symbol-".concat(u)},m)))})}},{key:"renderSymbolsWithAnimation",value:function(){var n=this,a=this.props,o=a.points,i=a.isAnimationActive,s=a.animationBegin,l=a.animationDuration,c=a.animationEasing,f=a.animationId,u=this.state.prevPoints;return M.createElement(sa,{begin:s,duration:l,isActive:i,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var p=h.t,m=o.map(function(w,b){var y=u&&u[b];if(y){var g=rr(y.cx,w.cx),v=rr(y.cy,w.cy),S=rr(y.size,w.size);return En(En({},w),{},{cx:g(p),cy:v(p),size:S(p)})}var x=rr(0,w.size);return En(En({},w),{},{size:x(p)})});return M.createElement(ut,null,n.renderSymbolsStatically(m))})}},{key:"renderSymbols",value:function(){var n=this.props,a=n.points,o=n.isAnimationActive,i=this.state.prevPoints;return o&&a&&a.length&&(!i||!di(i,a))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(a)}},{key:"renderErrorBar",value:function(){var n=this.props.isAnimationActive;if(n&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,i=a.xAxis,s=a.yAxis,l=a.children,c=fn(l,Qs);return c?c.map(function(f,u){var h=f.props,p=h.direction,m=h.dataKey;return M.cloneElement(f,{key:"".concat(p,"-").concat(m,"-").concat(o[u]),data:o,xAxis:i,yAxis:s,layout:p==="x"?"vertical":"horizontal",dataPointFormatter:function(b,y){return{x:b.cx,y:b.cy,value:p==="x"?+b.node.x:+b.node.y,errorVal:gr(b,y)}}})}):null}},{key:"renderLine",value:function(){var n=this.props,a=n.points,o=n.line,i=n.lineType,s=n.lineJointType,l=Le(this.props,!1),c=Le(o,!1),f,u;if(i==="joint")f=a.map(function(v){return{x:v.cx,y:v.cy}});else if(i==="fitting"){var h=zT(a),p=h.xmin,m=h.xmax,w=h.a,b=h.b,y=function(S){return w*S+b};f=[{x:p,y:y(p)},{x:m,y:y(m)}]}var g=En(En(En({},l),{},{fill:"none",stroke:l&&l.fill},c),{},{points:f});return M.isValidElement(o)?u=M.cloneElement(o,g):Re(o)?u=o(g):u=M.createElement(ai,Ul({},g,{type:s})),M.createElement(ut,{className:"recharts-scatter-line",key:"recharts-scatter-line"},u)}},{key:"render",value:function(){var n=this.props,a=n.hide,o=n.points,i=n.line,s=n.className,l=n.xAxis,c=n.yAxis,f=n.left,u=n.top,h=n.width,p=n.height,m=n.id,w=n.isAnimationActive;if(a||!o||!o.length)return null;var b=this.state.isAnimationFinished,y=Je("recharts-scatter",s),g=l&&l.allowDataOverflow,v=c&&c.allowDataOverflow,S=g||v,x=De(m)?this.id:m;return M.createElement(ut,{className:y,clipPath:S?"url(#clipPath-".concat(x,")"):null},g||v?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(x)},M.createElement("rect",{x:g?f:f-h/2,y:v?u:u-p/2,width:g?h:h*2,height:v?p:p*2}))):null,i&&this.renderLine(),this.renderErrorBar(),M.createElement(ut,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!w||b)&&ka.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}}])}(O.PureComponent);go(nn,"displayName","Scatter");go(nn,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!Eo.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});go(nn,"getComposedData",function(e){var t=e.xAxis,r=e.yAxis,n=e.zAxis,a=e.item,o=e.displayedData,i=e.xAxisTicks,s=e.yAxisTicks,l=e.offset,c=a.props.tooltipType,f=fn(a.props.children,Ay),u=De(t.dataKey)?a.props.dataKey:t.dataKey,h=De(r.dataKey)?a.props.dataKey:r.dataKey,p=n&&n.dataKey,m=n?n.range:Nh.defaultProps.range,w=m&&m[0],b=t.scale.bandwidth?t.scale.bandwidth():0,y=r.scale.bandwidth?r.scale.bandwidth():0,g=o.map(function(v,S){var x=gr(v,u),k=gr(v,h),j=!De(p)&&gr(v,p)||"-",_=[{name:De(t.dataKey)?a.props.name:t.name||t.dataKey,unit:t.unit||"",value:x,payload:v,dataKey:u,type:c},{name:De(r.dataKey)?a.props.name:r.name||r.dataKey,unit:r.unit||"",value:k,payload:v,dataKey:h,type:c}];j!=="-"&&_.push({name:n.name||n.dataKey,unit:n.unit||"",value:j,payload:v,dataKey:p,type:c});var P=xs({axis:t,ticks:i,bandSize:b,entry:v,index:S,dataKey:u}),N=xs({axis:r,ticks:s,bandSize:y,entry:v,index:S,dataKey:h}),A=j!=="-"?n.scale(j):w,C=Math.sqrt(Math.max(A,0)/Math.PI);return En(En({},v),{},{cx:P,cy:N,x:P-C,y:N-C,xAxis:t,yAxis:r,zAxis:n,width:2*C,height:2*C,size:A,node:{x,y:k,z:j},tooltipPayload:_,tooltipPosition:{x:P,y:N},payload:v},f&&f[S]&&f[S].props)});return En({points:g},l)});function Es(e){"@babel/helpers - typeof";return Es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Es(e)}function pY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oP(n.key),n)}}function mY(e,t,r){return t&&gY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function yY(e,t,r){return t=kd(t),vY(e,nP()?Reflect.construct(t,r||[],kd(e).constructor):t.apply(e,r))}function vY(e,t){if(t&&(Es(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xY(e)}function xY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nP=function(){return!!e})()}function kd(e){return kd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kd(e)}function bY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rm(e,t)}function rm(e,t){return rm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},rm(e,t)}function aP(e,t,r){return t=oP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oP(e){var t=wY(e,"string");return Es(t)=="symbol"?t:t+""}function wY(e,t){if(Es(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Es(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function nm(){return nm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nm.apply(this,arguments)}function kY(e){var t=e.xAxisId,r=iv(),n=sv(),a=$_(t);return a==null?null:O.createElement(Zs,nm({},a,{className:Je("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(i){return Da(i,!0)}}))}var la=function(e){function t(){return pY(this,t),yY(this,t,arguments)}return bY(t,e),mY(t,[{key:"render",value:function(){return O.createElement(kY,this.props)}}])}(O.Component);aP(la,"displayName","XAxis");aP(la,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Ts(e){"@babel/helpers - typeof";return Ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ts(e)}function SY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lP(n.key),n)}}function OY(e,t,r){return t&&jY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _Y(e,t,r){return t=Sd(t),PY(e,iP()?Reflect.construct(t,r||[],Sd(e).constructor):t.apply(e,r))}function PY(e,t){if(t&&(Ts(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NY(e)}function NY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iP=function(){return!!e})()}function Sd(e){return Sd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sd(e)}function AY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&am(e,t)}function am(e,t){return am=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},am(e,t)}function sP(e,t,r){return t=lP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lP(e){var t=MY(e,"string");return Ts(t)=="symbol"?t:t+""}function MY(e,t){if(Ts(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ts(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function om(){return om=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},om.apply(this,arguments)}var CY=function(t){var r=t.yAxisId,n=iv(),a=sv(),o=D_(r);return o==null?null:O.createElement(Zs,om({},o,{className:Je("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(s){return Da(s,!0)}}))},ca=function(e){function t(){return SY(this,t),_Y(this,t,arguments)}return AY(t,e),OY(t,[{key:"render",value:function(){return O.createElement(CY,this.props)}}])}(O.Component);sP(ca,"displayName","YAxis");sP(ca,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function s2(e){return DY(e)||$Y(e)||TY(e)||EY()}function EY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TY(e,t){if(e){if(typeof e=="string")return im(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return im(e,t)}}function $Y(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function DY(e){if(Array.isArray(e))return im(e)}function im(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var sm=function(t,r,n,a,o){var i=fn(t,Yo),s=fn(t,_h),l=[].concat(s2(i),s2(s)),c=fn(t,tu),f="".concat(a,"Id"),u=a[0],h=r;if(l.length&&(h=l.reduce(function(w,b){if(b.props[f]===n&&Sa(b.props,"extendDomain")&&ie(b.props[u])){var y=b.props[u];return[Math.min(w[0],y),Math.max(w[1],y)]}return w},h)),c.length){var p="".concat(u,"1"),m="".concat(u,"2");h=c.reduce(function(w,b){if(b.props[f]===n&&Sa(b.props,"extendDomain")&&ie(b.props[p])&&ie(b.props[m])){var y=b.props[p],g=b.props[m];return[Math.min(w[0],y,g),Math.max(w[1],y,g)]}return w},h)}return o&&o.length&&(h=o.reduce(function(w,b){return ie(b)?[Math.min(w[0],b),Math.max(w[1],b)]:w},h)),h},cP={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(l,c,f){this.fn=l,this.context=c,this.once=f||!1}function o(l,c,f,u,h){if(typeof f!="function")throw new TypeError("The listener must be a function");var p=new a(f,u||l,h),m=r?r+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function i(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],f,u;if(this._eventsCount===0)return c;for(u in f=this._events)t.call(f,u)&&c.push(r?u.slice(1):u);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(f)):c},s.prototype.listeners=function(c){var f=r?r+c:c,u=this._events[f];if(!u)return[];if(u.fn)return[u.fn];for(var h=0,p=u.length,m=new Array(p);h<p;h++)m[h]=u[h].fn;return m},s.prototype.listenerCount=function(c){var f=r?r+c:c,u=this._events[f];return u?u.fn?1:u.length:0},s.prototype.emit=function(c,f,u,h,p,m){var w=r?r+c:c;if(!this._events[w])return!1;var b=this._events[w],y=arguments.length,g,v;if(b.fn){switch(b.once&&this.removeListener(c,b.fn,void 0,!0),y){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,f),!0;case 3:return b.fn.call(b.context,f,u),!0;case 4:return b.fn.call(b.context,f,u,h),!0;case 5:return b.fn.call(b.context,f,u,h,p),!0;case 6:return b.fn.call(b.context,f,u,h,p,m),!0}for(v=1,g=new Array(y-1);v<y;v++)g[v-1]=arguments[v];b.fn.apply(b.context,g)}else{var S=b.length,x;for(v=0;v<S;v++)switch(b[v].once&&this.removeListener(c,b[v].fn,void 0,!0),y){case 1:b[v].fn.call(b[v].context);break;case 2:b[v].fn.call(b[v].context,f);break;case 3:b[v].fn.call(b[v].context,f,u);break;case 4:b[v].fn.call(b[v].context,f,u,h);break;default:if(!g)for(x=1,g=new Array(y-1);x<y;x++)g[x-1]=arguments[x];b[v].fn.apply(b[v].context,g)}}return!0},s.prototype.on=function(c,f,u){return o(this,c,f,u,!1)},s.prototype.once=function(c,f,u){return o(this,c,f,u,!0)},s.prototype.removeListener=function(c,f,u,h){var p=r?r+c:c;if(!this._events[p])return this;if(!f)return i(this,p),this;var m=this._events[p];if(m.fn)m.fn===f&&(!h||m.once)&&(!u||m.context===u)&&i(this,p);else{for(var w=0,b=[],y=m.length;w<y;w++)(m[w].fn!==f||h&&!m[w].once||u&&m[w].context!==u)&&b.push(m[w]);b.length?this._events[p]=b.length===1?b[0]:b:i(this,p)}return this},s.prototype.removeAllListeners=function(c){var f;return c?(f=r?r+c:c,this._events[f]&&i(this,f)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s})(cP);var LY=cP.exports;const RY=Mt(LY);var $p=new RY,Dp="recharts.syncMouseEvents";function zc(e){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zc(e)}function IY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uP(n.key),n)}}function FY(e,t,r){return t&&BY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Lp(e,t,r){return t=uP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uP(e){var t=zY(e,"string");return zc(t)=="symbol"?t:t+""}function zY(e,t){if(zc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var WY=function(){function e(){IY(this,e),Lp(this,"activeIndex",0),Lp(this,"coordinateList",[]),Lp(this,"layout","horizontal")}return FY(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,o=a===void 0?null:a,i=r.container,s=i===void 0?null:i,l=r.layout,c=l===void 0?null:l,f=r.offset,u=f===void 0?null:f,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=o??this.coordinateList)!==null&&n!==void 0?n:[],this.container=s??this.container,this.layout=c??this.layout,this.offset=u??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),o=a.x,i=a.y,s=a.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,f=((n=window)===null||n===void 0?void 0:n.scrollY)||0,u=o+l+c,h=i+this.offset.top+s/2+f;this.mouseHandlerCallback({pageX:u,pageY:h})}}}])}();function UY(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&ie(n)&&ie(a))return!0}return!1}function GY(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function fP(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,o=e.endAngle,i=Nr(t,r,n,a),s=Nr(t,r,n,o);return{points:[i,s],cx:t,cy:r,radius:n,startAngle:a,endAngle:o}}function HY(e,t,r){var n,a,o,i;if(e==="horizontal")n=t.x,o=n,a=r.top,i=r.top+r.height;else if(e==="vertical")a=t.y,i=a,n=r.left,o=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var s=t.cx,l=t.cy,c=t.innerRadius,f=t.outerRadius,u=t.angle,h=Nr(s,l,c,u),p=Nr(s,l,f,u);n=h.x,a=h.y,o=p.x,i=p.y}else return fP(t);return[{x:n,y:a},{x:o,y:i}]}function Wc(e){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wc(e)}function l2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ru(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l2(Object(r),!0).forEach(function(n){VY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VY(e,t,r){return t=KY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KY(e){var t=XY(e,"string");return Wc(t)=="symbol"?t:t+""}function XY(e,t){if(Wc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qY(e){var t,r,n=e.element,a=e.tooltipEventType,o=e.isActive,i=e.activeCoordinate,s=e.activePayload,l=e.offset,c=e.activeTooltipIndex,f=e.tooltipAxisBandSize,u=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!o||!i||h!=="ScatterChart"&&a!=="axis")return null;var m,w=ai;if(h==="ScatterChart")m=i,w=wH;else if(h==="BarChart")m=GY(u,i,l,f),w=tv;else if(u==="radial"){var b=fP(i),y=b.cx,g=b.cy,v=b.radius,S=b.startAngle,x=b.endAngle;m={cx:y,cy:g,startAngle:S,endAngle:x,innerRadius:v,outerRadius:v},w=i_}else m={points:HY(u,i,l)},w=ai;var k=Ru(Ru(Ru(Ru({stroke:"#ccc",pointerEvents:"none"},l),m),Le(p,!1)),{},{payload:s,payloadIndex:c,className:Je("recharts-tooltip-cursor",p.className)});return O.isValidElement(p)?O.cloneElement(p,k):O.createElement(w,k)}var YY=["item"],QY=["children","className","width","height","style","compact","title","desc"];function $s(e){"@babel/helpers - typeof";return $s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$s(e)}function Vi(){return Vi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vi.apply(this,arguments)}function c2(e,t){return eQ(e)||JY(e,t)||hP(e,t)||ZY()}function ZY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JY(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function eQ(e){if(Array.isArray(e))return e}function u2(e,t){if(e==null)return{};var r=tQ(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function tQ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function rQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pP(n.key),n)}}function aQ(e,t,r){return t&&nQ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function oQ(e,t,r){return t=jd(t),iQ(e,dP()?Reflect.construct(t,r||[],jd(e).constructor):t.apply(e,r))}function iQ(e,t){if(t&&($s(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sQ(e)}function sQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dP=function(){return!!e})()}function jd(e){return jd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jd(e)}function lQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lm(e,t)}function lm(e,t){return lm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},lm(e,t)}function Ds(e){return fQ(e)||uQ(e)||hP(e)||cQ()}function cQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hP(e,t){if(e){if(typeof e=="string")return cm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cm(e,t)}}function uQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function fQ(e){if(Array.isArray(e))return cm(e)}function cm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function f2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function G(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f2(Object(r),!0).forEach(function(n){_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _e(e,t,r){return t=pP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pP(e){var t=dQ(e,"string");return $s(t)=="symbol"?t:t+""}function dQ(e,t){if($s(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($s(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hQ={xAxis:["bottom","top"],yAxis:["left","right"]},pQ={width:"100%",height:"100%"},gP={x:0,y:0};function Iu(e){return e}var gQ=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},mQ=function(t,r,n,a){var o=r.find(function(f){return f&&f.index===n});if(o){if(t==="horizontal")return{x:o.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:o.coordinate};if(t==="centric"){var i=o.coordinate,s=a.radius;return G(G(G({},a),Nr(a.cx,a.cy,s,i)),{},{angle:i,radius:s})}var l=o.coordinate,c=a.angle;return G(G(G({},a),Nr(a.cx,a.cy,l,c)),{},{angle:c,radius:l})}return gP},Ah=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,o=r.dataEndIndex,i=(n??[]).reduce(function(s,l){var c=l.props.data;return c&&c.length?[].concat(Ds(s),Ds(c)):s},[]);return i.length>0?i:t&&t.length&&ie(a)&&ie(o)?t.slice(a,o+1):[]};function mP(e){return e==="number"?[0,"auto"]:void 0}var um=function(t,r,n,a){var o=t.graphicalItems,i=t.tooltipAxis,s=Ah(r,t);return n<0||!o||!o.length||n>=s.length?null:o.reduce(function(l,c){var f,u=(f=c.props.data)!==null&&f!==void 0?f:r;u&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(u=u.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(i.dataKey&&!i.allowDuplicatedCategory){var p=u===void 0?s:u;h=Sf(p,i.dataKey,a)}else h=u&&u[n]||s[n];return h?[].concat(Ds(l),[n_(c,h)]):l},[])},d2=function(t,r,n,a){var o=a||{x:t.chartX,y:t.chartY},i=gQ(o,n),s=t.orderedTooltipTicks,l=t.tooltipAxis,c=t.tooltipTicks,f=J7(i,s,c,l);if(f>=0&&c){var u=c[f]&&c[f].value,h=um(t,r,f,u),p=mQ(n,s,f,o);return{activeTooltipIndex:f,activeLabel:u,activePayload:h,activeCoordinate:p}}return null},yQ=function(t,r){var n=r.axes,a=r.graphicalItems,o=r.axisType,i=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,f=t.layout,u=t.children,h=t.stackOffset,p=e_(f,o);return n.reduce(function(m,w){var b,y=w.type.defaultProps!==void 0?G(G({},w.type.defaultProps),w.props):w.props,g=y.type,v=y.dataKey,S=y.allowDataOverflow,x=y.allowDuplicatedCategory,k=y.scale,j=y.ticks,_=y.includeHidden,P=y[i];if(m[P])return m;var N=Ah(t.data,{graphicalItems:a.filter(function(Y){var X,F=i in Y.props?Y.props[i]:(X=Y.type.defaultProps)===null||X===void 0?void 0:X[i];return F===P}),dataStartIndex:l,dataEndIndex:c}),A=N.length,C,R,I;UY(y.domain,S,g)&&(C=jg(y.domain,null,S),p&&(g==="number"||k!=="auto")&&(I=Bl(N,v,"category")));var T=mP(g);if(!C||C.length===0){var L,U=(L=y.domain)!==null&&L!==void 0?L:T;if(v){if(C=Bl(N,v,g),g==="category"&&p){var D=FT(C);x&&D?(R=C,C=ld(0,A)):x||(C=U1(U,C,w).reduce(function(Y,X){return Y.indexOf(X)>=0?Y:[].concat(Ds(Y),[X])},[]))}else if(g==="category")x?C=C.filter(function(Y){return Y!==""&&!De(Y)}):C=U1(U,C,w).reduce(function(Y,X){return Y.indexOf(X)>=0||X===""||De(X)?Y:[].concat(Ds(Y),[X])},[]);else if(g==="number"){var z=aW(N,a.filter(function(Y){var X,F,ue=i in Y.props?Y.props[i]:(X=Y.type.defaultProps)===null||X===void 0?void 0:X[i],fe="hide"in Y.props?Y.props.hide:(F=Y.type.defaultProps)===null||F===void 0?void 0:F.hide;return ue===P&&(_||!fe)}),v,o,f);z&&(C=z)}p&&(g==="number"||k!=="auto")&&(I=Bl(N,v,"category"))}else p?C=ld(0,A):s&&s[P]&&s[P].hasStack&&g==="number"?C=h==="expand"?[0,1]:r_(s[P].stackGroups,l,c):C=JO(N,a.filter(function(Y){var X=i in Y.props?Y.props[i]:Y.type.defaultProps[i],F="hide"in Y.props?Y.props.hide:Y.type.defaultProps.hide;return X===P&&(_||!F)}),g,f,!0);if(g==="number")C=sm(u,C,P,o,j),U&&(C=jg(U,C,S));else if(g==="category"&&U){var W=U,te=C.every(function(Y){return W.indexOf(Y)>=0});te&&(C=W)}}return G(G({},m),{},_e({},P,G(G({},y),{},{axisType:o,domain:C,categoricalDomain:I,duplicateDomain:R,originalDomain:(b=y.domain)!==null&&b!==void 0?b:T,isCategorical:p,layout:f})))},{})},vQ=function(t,r){var n=r.graphicalItems,a=r.Axis,o=r.axisType,i=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,f=t.layout,u=t.children,h=Ah(t.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),p=h.length,m=e_(f,o),w=-1;return n.reduce(function(b,y){var g=y.type.defaultProps!==void 0?G(G({},y.type.defaultProps),y.props):y.props,v=g[i],S=mP("number");if(!b[v]){w++;var x;return m?x=ld(0,p):s&&s[v]&&s[v].hasStack?(x=r_(s[v].stackGroups,l,c),x=sm(u,x,v,o)):(x=jg(S,JO(h,n.filter(function(k){var j,_,P=i in k.props?k.props[i]:(j=k.type.defaultProps)===null||j===void 0?void 0:j[i],N="hide"in k.props?k.props.hide:(_=k.type.defaultProps)===null||_===void 0?void 0:_.hide;return P===v&&!N}),"number",f),a.defaultProps.allowDataOverflow),x=sm(u,x,v,o)),G(G({},b),{},_e({},v,G(G({axisType:o},a.defaultProps),{},{hide:!0,orientation:Bn(hQ,"".concat(o,".").concat(w%2),null),domain:x,originalDomain:S,isCategorical:m,layout:f})))}return b},{})},xQ=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,o=r.AxisComp,i=r.graphicalItems,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,f=t.children,u="".concat(a,"Id"),h=fn(f,o),p={};return h&&h.length?p=yQ(t,{axes:h,graphicalItems:i,axisType:a,axisIdKey:u,stackGroups:s,dataStartIndex:l,dataEndIndex:c}):i&&i.length&&(p=vQ(t,{Axis:o,graphicalItems:i,axisType:a,axisIdKey:u,stackGroups:s,dataStartIndex:l,dataEndIndex:c})),p},bQ=function(t){var r=co(t),n=Da(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Py(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Zf(r,n)}},h2=function(t){var r=t.children,n=t.defaultShowTooltip,a=yn(r,ks),o=0,i=0;return t.data&&t.data.length!==0&&(i=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(o=a.props.startIndex),a.props.endIndex>=0&&(i=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:i,activeTooltipIndex:-1,isTooltipActive:!!n}},wQ=function(t){return!t||!t.length?!1:t.some(function(r){var n=Ra(r&&r.type);return n&&n.indexOf("Bar")>=0})},p2=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},kQ=function(t,r){var n=t.props,a=t.graphicalItems,o=t.xAxisMap,i=o===void 0?{}:o,s=t.yAxisMap,l=s===void 0?{}:s,c=n.width,f=n.height,u=n.children,h=n.margin||{},p=yn(u,ks),m=yn(u,Ba),w=Object.keys(l).reduce(function(x,k){var j=l[k],_=j.orientation;return!j.mirror&&!j.hide?G(G({},x),{},_e({},_,x[_]+j.width)):x},{left:h.left||0,right:h.right||0}),b=Object.keys(i).reduce(function(x,k){var j=i[k],_=j.orientation;return!j.mirror&&!j.hide?G(G({},x),{},_e({},_,Bn(x,"".concat(_))+j.height)):x},{top:h.top||0,bottom:h.bottom||0}),y=G(G({},b),w),g=y.bottom;p&&(y.bottom+=p.props.height||ks.defaultProps.height),m&&r&&(y=rW(y,a,n,r));var v=c-y.left-y.right,S=f-y.top-y.bottom;return G(G({brushBottom:g},y),{},{width:Math.max(v,0),height:Math.max(S,0)})},SQ=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},fv=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,o=a===void 0?"axis":a,i=t.validateTooltipEventTypes,s=i===void 0?["axis"]:i,l=t.axisComponents,c=t.legendContent,f=t.formatAxisMap,u=t.defaultProps,h=function(y,g){var v=g.graphicalItems,S=g.stackGroups,x=g.offset,k=g.updateId,j=g.dataStartIndex,_=g.dataEndIndex,P=y.barSize,N=y.layout,A=y.barGap,C=y.barCategoryGap,R=y.maxBarSize,I=p2(N),T=I.numericAxisName,L=I.cateAxisName,U=wQ(v),D=[];return v.forEach(function(z,W){var te=Ah(y.data,{graphicalItems:[z],dataStartIndex:j,dataEndIndex:_}),Y=z.type.defaultProps!==void 0?G(G({},z.type.defaultProps),z.props):z.props,X=Y.dataKey,F=Y.maxBarSize,ue=Y["".concat(T,"Id")],fe=Y["".concat(L,"Id")],Se={},ce=l.reduce(function(Wt,Zt){var cr=g["".concat(Zt.axisType,"Map")],Jt=Y["".concat(Zt.axisType,"Id")];cr&&cr[Jt]||Zt.axisType==="zAxis"||pi();var ot=cr[Jt];return G(G({},Wt),{},_e(_e({},Zt.axisType,ot),"".concat(Zt.axisType,"Ticks"),Da(ot)))},Se),J=ce[L],de=ce["".concat(L,"Ticks")],ve=S&&S[ue]&&S[ue].hasStack&&mW(z,S[ue].stackGroups),q=Ra(z.type).indexOf("Bar")>=0,Ke=Zf(J,de),we=[],st=U&&eW({barSize:P,stackGroups:S,totalSize:SQ(ce,L)});if(q){var Be,mt,lr=De(F)?R:F,nr=(Be=(mt=Zf(J,de,!0))!==null&&mt!==void 0?mt:lr)!==null&&Be!==void 0?Be:0;we=tW({barGap:A,barCategoryGap:C,bandSize:nr!==Ke?nr:Ke,sizeList:st[fe],maxBarSize:lr}),nr!==Ke&&(we=we.map(function(Wt){return G(G({},Wt),{},{position:G(G({},Wt.position),{},{offset:Wt.position.offset-nr/2})})}))}var yr=z&&z.type&&z.type.getComposedData;yr&&D.push({props:G(G({},yr(G(G({},ce),{},{displayedData:te,props:y,dataKey:X,item:z,bandSize:Ke,barPosition:we,offset:x,stackedData:ve,layout:N,dataStartIndex:j,dataEndIndex:_}))),{},_e(_e(_e({key:z.key||"item-".concat(W)},T,ce[T]),L,ce[L]),"animationId",k)),childIndex:JT(z,y.children),item:z})}),D},p=function(y,g){var v=y.props,S=y.dataStartIndex,x=y.dataEndIndex,k=y.updateId;if(!Rx({props:v}))return null;var j=v.children,_=v.layout,P=v.stackOffset,N=v.data,A=v.reverseStackOrder,C=p2(_),R=C.numericAxisName,I=C.cateAxisName,T=fn(j,n),L=hW(N,T,"".concat(R,"Id"),"".concat(I,"Id"),P,A),U=l.reduce(function(Y,X){var F="".concat(X.axisType,"Map");return G(G({},Y),{},_e({},F,xQ(v,G(G({},X),{},{graphicalItems:T,stackGroups:X.axisType===R&&L,dataStartIndex:S,dataEndIndex:x}))))},{}),D=kQ(G(G({},U),{},{props:v,graphicalItems:T}),g==null?void 0:g.legendBBox);Object.keys(U).forEach(function(Y){U[Y]=f(v,U[Y],D,Y.replace("Map",""),r)});var z=U["".concat(I,"Map")],W=bQ(z),te=h(v,G(G({},U),{},{dataStartIndex:S,dataEndIndex:x,updateId:k,graphicalItems:T,stackGroups:L,offset:D}));return G(G({formattedGraphicalItems:te,graphicalItems:T,offset:D,stackGroups:L},W),U)},m=function(b){function y(g){var v,S,x;return rQ(this,y),x=oQ(this,y,[g]),_e(x,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),_e(x,"accessibilityManager",new WY),_e(x,"handleLegendBBoxUpdate",function(k){if(k){var j=x.state,_=j.dataStartIndex,P=j.dataEndIndex,N=j.updateId;x.setState(G({legendBBox:k},p({props:x.props,dataStartIndex:_,dataEndIndex:P,updateId:N},G(G({},x.state),{},{legendBBox:k}))))}}),_e(x,"handleReceiveSyncEvent",function(k,j,_){if(x.props.syncId===k){if(_===x.eventEmitterSymbol&&typeof x.props.syncMethod!="function")return;x.applySyncEvent(j)}}),_e(x,"handleBrushChange",function(k){var j=k.startIndex,_=k.endIndex;if(j!==x.state.dataStartIndex||_!==x.state.dataEndIndex){var P=x.state.updateId;x.setState(function(){return G({dataStartIndex:j,dataEndIndex:_},p({props:x.props,dataStartIndex:j,dataEndIndex:_,updateId:P},x.state))}),x.triggerSyncEvent({dataStartIndex:j,dataEndIndex:_})}}),_e(x,"handleMouseEnter",function(k){var j=x.getMouseInfo(k);if(j){var _=G(G({},j),{},{isTooltipActive:!0});x.setState(_),x.triggerSyncEvent(_);var P=x.props.onMouseEnter;Re(P)&&P(_,k)}}),_e(x,"triggeredAfterMouseMove",function(k){var j=x.getMouseInfo(k),_=j?G(G({},j),{},{isTooltipActive:!0}):{isTooltipActive:!1};x.setState(_),x.triggerSyncEvent(_);var P=x.props.onMouseMove;Re(P)&&P(_,k)}),_e(x,"handleItemMouseEnter",function(k){x.setState(function(){return{isTooltipActive:!0,activeItem:k,activePayload:k.tooltipPayload,activeCoordinate:k.tooltipPosition||{x:k.cx,y:k.cy}}})}),_e(x,"handleItemMouseLeave",function(){x.setState(function(){return{isTooltipActive:!1}})}),_e(x,"handleMouseMove",function(k){k.persist(),x.throttleTriggeredAfterMouseMove(k)}),_e(x,"handleMouseLeave",function(k){x.throttleTriggeredAfterMouseMove.cancel();var j={isTooltipActive:!1};x.setState(j),x.triggerSyncEvent(j);var _=x.props.onMouseLeave;Re(_)&&_(j,k)}),_e(x,"handleOuterEvent",function(k){var j=ZT(k),_=Bn(x.props,"".concat(j));if(j&&Re(_)){var P,N;/.*touch.*/i.test(j)?N=x.getMouseInfo(k.changedTouches[0]):N=x.getMouseInfo(k),_((P=N)!==null&&P!==void 0?P:{},k)}}),_e(x,"handleClick",function(k){var j=x.getMouseInfo(k);if(j){var _=G(G({},j),{},{isTooltipActive:!0});x.setState(_),x.triggerSyncEvent(_);var P=x.props.onClick;Re(P)&&P(_,k)}}),_e(x,"handleMouseDown",function(k){var j=x.props.onMouseDown;if(Re(j)){var _=x.getMouseInfo(k);j(_,k)}}),_e(x,"handleMouseUp",function(k){var j=x.props.onMouseUp;if(Re(j)){var _=x.getMouseInfo(k);j(_,k)}}),_e(x,"handleTouchMove",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&x.throttleTriggeredAfterMouseMove(k.changedTouches[0])}),_e(x,"handleTouchStart",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&x.handleMouseDown(k.changedTouches[0])}),_e(x,"handleTouchEnd",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&x.handleMouseUp(k.changedTouches[0])}),_e(x,"handleDoubleClick",function(k){var j=x.props.onDoubleClick;if(Re(j)){var _=x.getMouseInfo(k);j(_,k)}}),_e(x,"handleContextMenu",function(k){var j=x.props.onContextMenu;if(Re(j)){var _=x.getMouseInfo(k);j(_,k)}}),_e(x,"triggerSyncEvent",function(k){x.props.syncId!==void 0&&$p.emit(Dp,x.props.syncId,k,x.eventEmitterSymbol)}),_e(x,"applySyncEvent",function(k){var j=x.props,_=j.layout,P=j.syncMethod,N=x.state.updateId,A=k.dataStartIndex,C=k.dataEndIndex;if(k.dataStartIndex!==void 0||k.dataEndIndex!==void 0)x.setState(G({dataStartIndex:A,dataEndIndex:C},p({props:x.props,dataStartIndex:A,dataEndIndex:C,updateId:N},x.state)));else if(k.activeTooltipIndex!==void 0){var R=k.chartX,I=k.chartY,T=k.activeTooltipIndex,L=x.state,U=L.offset,D=L.tooltipTicks;if(!U)return;if(typeof P=="function")T=P(D,k);else if(P==="value"){T=-1;for(var z=0;z<D.length;z++)if(D[z].value===k.activeLabel){T=z;break}}var W=G(G({},U),{},{x:U.left,y:U.top}),te=Math.min(R,W.x+W.width),Y=Math.min(I,W.y+W.height),X=D[T]&&D[T].value,F=um(x.state,x.props.data,T),ue=D[T]?{x:_==="horizontal"?D[T].coordinate:te,y:_==="horizontal"?Y:D[T].coordinate}:gP;x.setState(G(G({},k),{},{activeLabel:X,activeCoordinate:ue,activePayload:F,activeTooltipIndex:T}))}else x.setState(k)}),_e(x,"renderCursor",function(k){var j,_=x.state,P=_.isTooltipActive,N=_.activeCoordinate,A=_.activePayload,C=_.offset,R=_.activeTooltipIndex,I=_.tooltipAxisBandSize,T=x.getTooltipEventType(),L=(j=k.props.active)!==null&&j!==void 0?j:P,U=x.props.layout,D=k.key||"_recharts-cursor";return M.createElement(qY,{key:D,activeCoordinate:N,activePayload:A,activeTooltipIndex:R,chartName:r,element:k,isActive:L,layout:U,offset:C,tooltipAxisBandSize:I,tooltipEventType:T})}),_e(x,"renderPolarAxis",function(k,j,_){var P=Bn(k,"type.axisType"),N=Bn(x.state,"".concat(P,"Map")),A=k.type.defaultProps,C=A!==void 0?G(G({},A),k.props):k.props,R=N&&N[C["".concat(P,"Id")]];return O.cloneElement(k,G(G({},R),{},{className:Je(P,R.className),key:k.key||"".concat(j,"-").concat(_),ticks:Da(R,!0)}))}),_e(x,"renderPolarGrid",function(k){var j=k.props,_=j.radialLines,P=j.polarAngles,N=j.polarRadius,A=x.state,C=A.radiusAxisMap,R=A.angleAxisMap,I=co(C),T=co(R),L=T.cx,U=T.cy,D=T.innerRadius,z=T.outerRadius;return O.cloneElement(k,{polarAngles:Array.isArray(P)?P:Da(T,!0).map(function(W){return W.coordinate}),polarRadius:Array.isArray(N)?N:Da(I,!0).map(function(W){return W.coordinate}),cx:L,cy:U,innerRadius:D,outerRadius:z,key:k.key||"polar-grid",radialLines:_})}),_e(x,"renderLegend",function(){var k=x.state.formattedGraphicalItems,j=x.props,_=j.children,P=j.width,N=j.height,A=x.props.margin||{},C=P-(A.left||0)-(A.right||0),R=QO({children:_,formattedGraphicalItems:k,legendWidth:C,legendContent:c});if(!R)return null;var I=R.item,T=u2(R,YY);return O.cloneElement(I,G(G({},T),{},{chartWidth:P,chartHeight:N,margin:A,onBBoxUpdate:x.handleLegendBBoxUpdate}))}),_e(x,"renderTooltip",function(){var k,j=x.props,_=j.children,P=j.accessibilityLayer,N=yn(_,Kr);if(!N)return null;var A=x.state,C=A.isTooltipActive,R=A.activeCoordinate,I=A.activePayload,T=A.activeLabel,L=A.offset,U=(k=N.props.active)!==null&&k!==void 0?k:C;return O.cloneElement(N,{viewBox:G(G({},L),{},{x:L.left,y:L.top}),active:U,label:T,payload:U?I:[],coordinate:R,accessibilityLayer:P})}),_e(x,"renderBrush",function(k){var j=x.props,_=j.margin,P=j.data,N=x.state,A=N.offset,C=N.dataStartIndex,R=N.dataEndIndex,I=N.updateId;return O.cloneElement(k,{key:k.key||"_recharts-brush",onChange:Tu(x.handleBrushChange,k.props.onChange),data:P,x:ie(k.props.x)?k.props.x:A.left,y:ie(k.props.y)?k.props.y:A.top+A.height+A.brushBottom-(_.bottom||0),width:ie(k.props.width)?k.props.width:A.width,startIndex:C,endIndex:R,updateId:"brush-".concat(I)})}),_e(x,"renderReferenceElement",function(k,j,_){if(!k)return null;var P=x,N=P.clipPathId,A=x.state,C=A.xAxisMap,R=A.yAxisMap,I=A.offset,T=k.type.defaultProps||{},L=k.props,U=L.xAxisId,D=U===void 0?T.xAxisId:U,z=L.yAxisId,W=z===void 0?T.yAxisId:z;return O.cloneElement(k,{key:k.key||"".concat(j,"-").concat(_),xAxis:C[D],yAxis:R[W],viewBox:{x:I.left,y:I.top,width:I.width,height:I.height},clipPathId:N})}),_e(x,"renderActivePoints",function(k){var j=k.item,_=k.activePoint,P=k.basePoint,N=k.childIndex,A=k.isRange,C=[],R=j.props.key,I=j.item.type.defaultProps!==void 0?G(G({},j.item.type.defaultProps),j.item.props):j.item.props,T=I.activeDot,L=I.dataKey,U=G(G({index:N,dataKey:L,cx:_.x,cy:_.y,r:4,fill:ev(j.item),strokeWidth:2,stroke:"#fff",payload:_.payload,value:_.value},Le(T,!1)),jf(T));return C.push(y.renderActiveDot(T,U,"".concat(R,"-activePoint-").concat(N))),P?C.push(y.renderActiveDot(T,G(G({},U),{},{cx:P.x,cy:P.y}),"".concat(R,"-basePoint-").concat(N))):A&&C.push(null),C}),_e(x,"renderGraphicChild",function(k,j,_){var P=x.filterFormatItem(k,j,_);if(!P)return null;var N=x.getTooltipEventType(),A=x.state,C=A.isTooltipActive,R=A.tooltipAxis,I=A.activeTooltipIndex,T=A.activeLabel,L=x.props.children,U=yn(L,Kr),D=P.props,z=D.points,W=D.isRange,te=D.baseLine,Y=P.item.type.defaultProps!==void 0?G(G({},P.item.type.defaultProps),P.item.props):P.item.props,X=Y.activeDot,F=Y.hide,ue=Y.activeBar,fe=Y.activeShape,Se=!!(!F&&C&&U&&(X||ue||fe)),ce={};N!=="axis"&&U&&U.props.trigger==="click"?ce={onClick:Tu(x.handleItemMouseEnter,k.props.onClick)}:N!=="axis"&&(ce={onMouseLeave:Tu(x.handleItemMouseLeave,k.props.onMouseLeave),onMouseEnter:Tu(x.handleItemMouseEnter,k.props.onMouseEnter)});var J=O.cloneElement(k,G(G({},P.props),ce));function de(Zt){return typeof R.dataKey=="function"?R.dataKey(Zt.payload):null}if(Se)if(I>=0){var ve,q;if(R.dataKey&&!R.allowDuplicatedCategory){var Ke=typeof R.dataKey=="function"?de:"payload.".concat(R.dataKey.toString());ve=Sf(z,Ke,T),q=W&&te&&Sf(te,Ke,T)}else ve=z==null?void 0:z[I],q=W&&te&&te[I];if(fe||ue){var we=k.props.activeIndex!==void 0?k.props.activeIndex:I;return[O.cloneElement(k,G(G(G({},P.props),ce),{},{activeIndex:we})),null,null]}if(!De(ve))return[J].concat(Ds(x.renderActivePoints({item:P,activePoint:ve,basePoint:q,childIndex:I,isRange:W})))}else{var st,Be=(st=x.getItemByXY(x.state.activeCoordinate))!==null&&st!==void 0?st:{graphicalItem:J},mt=Be.graphicalItem,lr=mt.item,nr=lr===void 0?k:lr,yr=mt.childIndex,Wt=G(G(G({},P.props),ce),{},{activeIndex:yr});return[O.cloneElement(nr,Wt),null,null]}return W?[J,null,null]:[J,null]}),_e(x,"renderCustomized",function(k,j,_){return O.cloneElement(k,G(G({key:"recharts-customized-".concat(_)},x.props),x.state))}),_e(x,"renderMap",{CartesianGrid:{handler:Iu,once:!0},ReferenceArea:{handler:x.renderReferenceElement},ReferenceLine:{handler:Iu},ReferenceDot:{handler:x.renderReferenceElement},XAxis:{handler:Iu},YAxis:{handler:Iu},Brush:{handler:x.renderBrush,once:!0},Bar:{handler:x.renderGraphicChild},Line:{handler:x.renderGraphicChild},Area:{handler:x.renderGraphicChild},Radar:{handler:x.renderGraphicChild},RadialBar:{handler:x.renderGraphicChild},Scatter:{handler:x.renderGraphicChild},Pie:{handler:x.renderGraphicChild},Funnel:{handler:x.renderGraphicChild},Tooltip:{handler:x.renderCursor,once:!0},PolarGrid:{handler:x.renderPolarGrid,once:!0},PolarAngleAxis:{handler:x.renderPolarAxis},PolarRadiusAxis:{handler:x.renderPolarAxis},Customized:{handler:x.renderCustomized}}),x.clipPathId="".concat((v=g.id)!==null&&v!==void 0?v:bi("recharts"),"-clip"),x.throttleTriggeredAfterMouseMove=Qj(x.triggeredAfterMouseMove,(S=g.throttleDelay)!==null&&S!==void 0?S:1e3/60),x.state={},x}return lQ(y,b),aQ(y,[{key:"componentDidMount",value:function(){var v,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(v=this.props.margin.left)!==null&&v!==void 0?v:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var v=this.props,S=v.children,x=v.data,k=v.height,j=v.layout,_=yn(S,Kr);if(_){var P=_.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var N=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,A=um(this.state,x,P,N),C=this.state.tooltipTicks[P].coordinate,R=(this.state.offset.top+k)/2,I=j==="horizontal",T=I?{x:C,y:R}:{y:C,x:R},L=this.state.formattedGraphicalItems.find(function(D){var z=D.item;return z.type.name==="Scatter"});L&&(T=G(G({},T),L.props.points[P].tooltipPosition),A=L.props.points[P].tooltipPayload);var U={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:N,activePayload:A,activeCoordinate:T};this.setState(U),this.renderCursor(_),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(v,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==v.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==v.margin){var x,k;this.accessibilityManager.setDetails({offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0}})}return null}},{key:"componentDidUpdate",value:function(v){B0([yn(v.children,Kr)],[yn(this.props.children,Kr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var v=yn(this.props.children,Kr);if(v&&typeof v.props.shared=="boolean"){var S=v.props.shared?"axis":"item";return s.indexOf(S)>=0?S:o}return o}},{key:"getMouseInfo",value:function(v){if(!this.container)return null;var S=this.container,x=S.getBoundingClientRect(),k=O8(x),j={chartX:Math.round(v.pageX-k.left),chartY:Math.round(v.pageY-k.top)},_=x.width/S.offsetWidth||1,P=this.inRange(j.chartX,j.chartY,_);if(!P)return null;var N=this.state,A=N.xAxisMap,C=N.yAxisMap,R=this.getTooltipEventType(),I=d2(this.state,this.props.data,this.props.layout,P);if(R!=="axis"&&A&&C){var T=co(A).scale,L=co(C).scale,U=T&&T.invert?T.invert(j.chartX):null,D=L&&L.invert?L.invert(j.chartY):null;return G(G({},j),{},{xValue:U,yValue:D},I)}return I?G(G({},j),I):null}},{key:"inRange",value:function(v,S){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,k=this.props.layout,j=v/x,_=S/x;if(k==="horizontal"||k==="vertical"){var P=this.state.offset,N=j>=P.left&&j<=P.left+P.width&&_>=P.top&&_<=P.top+P.height;return N?{x:j,y:_}:null}var A=this.state,C=A.angleAxisMap,R=A.radiusAxisMap;if(C&&R){var I=co(C);return V1({x:j,y:_},I)}return null}},{key:"parseEventsOfWrapper",value:function(){var v=this.props.children,S=this.getTooltipEventType(),x=yn(v,Kr),k={};x&&S==="axis"&&(x.props.trigger==="click"?k={onClick:this.handleClick}:k={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var j=jf(this.props,this.handleOuterEvent);return G(G({},j),k)}},{key:"addListener",value:function(){$p.on(Dp,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){$p.removeListener(Dp,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(v,S,x){for(var k=this.state.formattedGraphicalItems,j=0,_=k.length;j<_;j++){var P=k[j];if(P.item===v||P.props.key===v.key||S===Ra(P.item.type)&&x===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var v=this.clipPathId,S=this.state.offset,x=S.left,k=S.top,j=S.height,_=S.width;return M.createElement("defs",null,M.createElement("clipPath",{id:v},M.createElement("rect",{x,y:k,height:j,width:_})))}},{key:"getXScales",value:function(){var v=this.state.xAxisMap;return v?Object.entries(v).reduce(function(S,x){var k=c2(x,2),j=k[0],_=k[1];return G(G({},S),{},_e({},j,_.scale))},{}):null}},{key:"getYScales",value:function(){var v=this.state.yAxisMap;return v?Object.entries(v).reduce(function(S,x){var k=c2(x,2),j=k[0],_=k[1];return G(G({},S),{},_e({},j,_.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(v){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[v])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(v){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[v])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(v){var S=this.state,x=S.formattedGraphicalItems,k=S.activeItem;if(x&&x.length)for(var j=0,_=x.length;j<_;j++){var P=x[j],N=P.props,A=P.item,C=A.type.defaultProps!==void 0?G(G({},A.type.defaultProps),A.props):A.props,R=Ra(A.type);if(R==="Bar"){var I=(N.data||[]).find(function(D){return fH(v,D)});if(I)return{graphicalItem:P,payload:I}}else if(R==="RadialBar"){var T=(N.data||[]).find(function(D){return V1(v,D)});if(T)return{graphicalItem:P,payload:T}}else if(kh(P,k)||Sh(P,k)||Lc(P,k)){var L=hV({graphicalItem:P,activeTooltipItem:k,itemData:C.data}),U=C.activeIndex===void 0?L:C.activeIndex;return{graphicalItem:G(G({},P),{},{childIndex:U}),payload:Lc(P,k)?C.data[L]:P.props.data[L]}}}return null}},{key:"render",value:function(){var v=this;if(!Rx(this))return null;var S=this.props,x=S.children,k=S.className,j=S.width,_=S.height,P=S.style,N=S.compact,A=S.title,C=S.desc,R=u2(S,QY),I=Le(R,!1);if(N)return M.createElement(zw,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement(z0,Vi({},I,{width:j,height:_,title:A,desc:C}),this.renderClipPath(),Bx(x,this.renderMap)));if(this.props.accessibilityLayer){var T,L;I.tabIndex=(T=this.props.tabIndex)!==null&&T!==void 0?T:0,I.role=(L=this.props.role)!==null&&L!==void 0?L:"application",I.onKeyDown=function(D){v.accessibilityManager.keyboardEvent(D)},I.onFocus=function(){v.accessibilityManager.focus()}}var U=this.parseEventsOfWrapper();return M.createElement(zw,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement("div",Vi({className:Je("recharts-wrapper",k),style:G({position:"relative",cursor:"default",width:j,height:_},P)},U,{ref:function(z){v.container=z}}),M.createElement(z0,Vi({},I,{width:j,height:_,title:A,desc:C,style:pQ}),this.renderClipPath(),Bx(x,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(O.Component);_e(m,"displayName",r),_e(m,"defaultProps",G({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},u)),_e(m,"getDerivedStateFromProps",function(b,y){var g=b.dataKey,v=b.data,S=b.children,x=b.width,k=b.height,j=b.layout,_=b.stackOffset,P=b.margin,N=y.dataStartIndex,A=y.dataEndIndex;if(y.updateId===void 0){var C=h2(b);return G(G(G({},C),{},{updateId:0},p(G(G({props:b},C),{},{updateId:0}),y)),{},{prevDataKey:g,prevData:v,prevWidth:x,prevHeight:k,prevLayout:j,prevStackOffset:_,prevMargin:P,prevChildren:S})}if(g!==y.prevDataKey||v!==y.prevData||x!==y.prevWidth||k!==y.prevHeight||j!==y.prevLayout||_!==y.prevStackOffset||!Ji(P,y.prevMargin)){var R=h2(b),I={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},T=G(G({},d2(y,v,j)),{},{updateId:y.updateId+1}),L=G(G(G({},R),I),T);return G(G(G({},L),p(G({props:b},L),y)),{},{prevDataKey:g,prevData:v,prevWidth:x,prevHeight:k,prevLayout:j,prevStackOffset:_,prevMargin:P,prevChildren:S})}if(!B0(S,y.prevChildren)){var U,D,z,W,te=yn(S,ks),Y=te&&(U=(D=te.props)===null||D===void 0?void 0:D.startIndex)!==null&&U!==void 0?U:N,X=te&&(z=(W=te.props)===null||W===void 0?void 0:W.endIndex)!==null&&z!==void 0?z:A,F=Y!==N||X!==A,ue=!De(v),fe=ue&&!F?y.updateId:y.updateId+1;return G(G({updateId:fe},p(G(G({props:b},y),{},{updateId:fe,dataStartIndex:Y,dataEndIndex:X}),y)),{},{prevChildren:S,dataStartIndex:Y,dataEndIndex:X})}return null}),_e(m,"renderActiveDot",function(b,y,g){var v;return O.isValidElement(b)?v=O.cloneElement(b,y):Re(b)?v=b(y):v=M.createElement(wh,y),M.createElement(ut,{className:"recharts-active-dot",key:g},v)});var w=O.forwardRef(function(y,g){return M.createElement(m,Vi({},y,{ref:g}))});return w.displayName=m.displayName,w},dv=fv({chartName:"LineChart",GraphicalChild:Fr,axisComponents:[{axisType:"xAxis",AxisComp:la},{axisType:"yAxis",AxisComp:ca}],formatAxisMap:rv}),jQ=fv({chartName:"ScatterChart",GraphicalChild:nn,defaultTooltipEventType:"item",validateTooltipEventTypes:["item"],axisComponents:[{axisType:"xAxis",AxisComp:la},{axisType:"yAxis",AxisComp:ca},{axisType:"zAxis",AxisComp:Nh}],formatAxisMap:rv}),yP=fv({chartName:"AreaChart",GraphicalChild:Rn,axisComponents:[{axisType:"xAxis",AxisComp:la},{axisType:"yAxis",AxisComp:ca}],formatAxisMap:rv});const OQ="modulepreload",_Q=function(e){return"/"+e},g2={},PQ=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),s=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));a=Promise.allSettled(r.map(l=>{if(l=_Q(l),l in g2)return;g2[l]=!0;const c=l.endsWith(".css"),f=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${f}`))return;const u=document.createElement("link");if(u.rel=c?"stylesheet":OQ,c||(u.as="script"),u.crossOrigin="",u.href=l,s&&u.setAttribute("nonce",s),document.head.appendChild(u),c)return new Promise((h,p)=>{u.addEventListener("load",h),u.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(i){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=i,window.dispatchEvent(s),!s.defaultPrevented)throw i}return a.then(i=>{for(const s of i||[])s.status==="rejected"&&o(s.reason);return t().catch(o)})};function NQ(e){const[[t,r,n],[a,o,i],[s,l,c]]=e,f=t*(o*c-i*l)-r*(a*c-i*s)+n*(a*l-o*s);if(Math.abs(f)<1e-10)return null;const u=1/f;return[[(o*c-i*l)*u,(n*l-r*c)*u,(r*i-n*o)*u],[(i*s-a*c)*u,(t*c-n*s)*u,(n*a-t*i)*u],[(a*l-o*s)*u,(r*s-t*l)*u,(t*o-r*a)*u]]}function m2(e,t){const r=[[0,0,0],[0,0,0],[0,0,0]];for(let n=0;n<3;n++)for(let a=0;a<3;a++)for(let o=0;o<3;o++)r[n][a]+=e[n][o]*t[o][a];return r}class Od{constructor(t){Hr(this,"size");Hr(this,"isPowerOfTwo");Hr(this,"_real");Hr(this,"_imag");Hr(this,"_scratch",null);Hr(this,"_rev",null);Hr(this,"_m",0);Hr(this,"_internalFFT",null);Hr(this,"_chirpReal",null);Hr(this,"_chirpImag",null);Hr(this,"_bReal",null);Hr(this,"_bImag",null);Hr(this,"_hanning",null);Hr(this,"_windowSumSq",0);this.size=t,this.isPowerOfTwo=(t&t-1)===0&&t>0,this._real=new Float32Array(t),this._imag=new Float32Array(t),this.isPowerOfTwo?this.initRadix2():this.initBluestein()}initRadix2(){const t=this.size,r=Math.log2(t);this._rev=new Uint32Array(t);for(let n=0;n<t;n++){let a=0,o=n;for(let i=0;i<r;i++)a=a<<1|o&1,o>>>=1;this._rev[n]=a}}initBluestein(){const t=this.size;this._m=Math.pow(2,Math.ceil(Math.log2(2*t-1))),this._internalFFT=new Od(this._m),this._chirpReal=new Float32Array(t),this._chirpImag=new Float32Array(t);for(let a=0;a<t;a++){const o=-Math.PI*(a*a)/t;this._chirpReal[a]=Math.cos(o),this._chirpImag[a]=Math.sin(o)}const r=new Float32Array(this._m),n=new Float32Array(this._m);for(let a=0;a<t;a++)r[a]=this._chirpReal[a],n[a]=-this._chirpImag[a];for(let a=1;a<t;a++)r[this._m-a]=r[a],n[this._m-a]=n[a];this._internalFFT.transform(r,n),this._bReal=new Float32Array(this._internalFFT._real),this._bImag=new Float32Array(this._internalFFT._imag)}initHanning(){if(this._hanning)return;const t=this.size;this._hanning=new Float32Array(t);let r=0;for(let n=0;n<t;n++){const a=.5*(1-Math.cos(2*Math.PI*n/(t-1)));this._hanning[n]=a,r+=a*a}this._windowSumSq=r}transform(t,r){this.isPowerOfTwo?this.transformRadix2(t,r):this.transformBluestein(t,r)}transformRadix2(t,r){const n=this.size,a=this._rev,o=this._real,i=this._imag;if(t===o)for(let s=0;s<n;s++){const l=a[s];if(s<l){const c=o[s],f=i[s];o[s]=o[l],i[s]=i[l],o[l]=c,i[l]=f}}else for(let s=0;s<n;s++){const l=a[s];o[s]=t[l],i[s]=r?r[l]:0}for(let s=2;s<=n;s*=2){const l=s/2,c=-2*Math.PI/s,f=Math.cos(c),u=Math.sin(c);for(let h=0;h<n;h+=s){let p=1,m=0;for(let w=0;w<l;w++){const b=h+w,y=h+w+l,g=p*o[y]-m*i[y],v=p*i[y]+m*o[y],S=o[b],x=i[b];o[b]=S+g,i[b]=x+v,o[y]=S-g,i[y]=x-v;const k=p*f-m*u,j=p*u+m*f;p=k,m=j}}}}transformBluestein(t,r){const n=this.size,a=this._m,o=this._internalFFT,i=o._real,s=o._imag;i.fill(0),s.fill(0);for(let u=0;u<n;u++){const h=t[u],p=r?r[u]:0,m=this._chirpReal[u],w=this._chirpImag[u];i[u]=h*m-p*w,s[u]=h*w+p*m}o.transformRadix2(i,s);for(let u=0;u<a;u++){const h=o._real[u],p=o._imag[u],m=this._bReal[u],w=this._bImag[u];o._real[u]=h*m-p*w,o._imag[u]=h*w+p*m}const l=o._real,c=o._imag;for(let u=0;u<a;u++)c[u]=-c[u];o.transformRadix2(l,c);const f=1/a;for(let u=0;u<n;u++){const h=o._real[u]*f,p=-o._imag[u]*f,m=this._chirpReal[u],w=this._chirpImag[u];this._real[u]=h*m-p*w,this._imag[u]=h*w+p*m}}calculateSpectrum(t,r,n=!1){const a=this.size;let o=0;for(let f=0;f<a;f++)o+=t[f];const i=o/a;this._scratch||(this._scratch=new Float32Array(a));const s=this._scratch;if(n){this.initHanning();const f=this._hanning;for(let u=0;u<a;u++)s[u]=(t[u]-i)*f[u]}else for(let f=0;f<a;f++)s[f]=t[f]-i;this.transform(s);const l=r.length;let c=1/a;n&&this._windowSumSq>0&&(c=1/this._windowSumSq);for(let f=0;f<l;f++){const u=this._real[f],h=this._imag[f],p=u*u+h*h;r[f]+=p*c}}}let Rp=null;async function hv(){if(!Rp)try{const n=(await PQ(()=>import("./joraw-RfAqu7fr.js"),[])).default;if(typeof n!="function")throw console.error("JoRaw import error:",n),new Error("JoRaw WASM import is not a function. Check your path or build flags.");const a=new URL("/assets/joraw-BUh50ws_.wasm",import.meta.url).href;Rp=n({locateFile:(o,i)=>o.endsWith("joraw.wasm")?a:i+o})}catch(r){throw console.error("Failed to load joraw.js:",r),r}const e=await Rp,t=e.LibRaw||e.JoRaw;if(!t)throw new Error("JoRaw class (or underlying LibRaw) not found in WASM module. Check EMSCRIPTEN_BINDINGS.");return t}const AQ=[[3.2404542,-1.5371385,-.4985314],[-.969266,1.8760108,.041556],[.0556434,-.2040259,1.0572252]],Ip=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055;async function MQ(e){const t=await createImageBitmap(e),r=t.width,n=t.height,a=document.createElement("canvas");a.width=r,a.height=n;const o=a.getContext("2d");if(!o)throw new Error("Failed to create canvas context for image processing.");o.drawImage(t,0,0);const s=o.getImageData(0,0,r,n).data,l=r*n,c=new Uint16Array(l);for(let u=0;u<n;u++)for(let h=0;h<r;h++){const p=(u*r+h)*4,m=u*r+h,w=u%2===0,b=h%2===0;let y=0;w&&b?y=s[p]:!w&&!b?y=s[p+2]:y=s[p+1],c[m]=y*64}return{previewBlob:await new Promise(u=>a.toBlob(u,"image/png"))||e,analysisData:{data:c,width:r,height:n,bayerPattern:"RGGB",blackLevels:[0,0,0,0],whiteLevel:16320,metadata:{description:"Standard image (non-RAW)"},isThreePlane:!0}}}const CQ=async e=>{const t=await hv(),r=new t;try{await r.open(e,{useCameraWb:!0,outputBps:8,noAutoBright:!0,userQual:3,outputColor:1});const n=await r.imageData();return new Promise((a,o)=>{const i=document.createElement("canvas");i.width=n.width,i.height=n.height;const s=i.getContext("2d");if(!s){o(new Error("Could not create canvas context for preview"));return}const l=s.createImageData(n.width,n.height),c=n.data,f=n.width*n.height;for(let u=0;u<f;u++){const h=u*3,p=u*4;l.data[p]=c[h],l.data[p+1]=c[h+1],l.data[p+2]=c[h+2],l.data[p+3]=255}s.putImageData(l,0,0),i.toBlob(u=>{u?a(u):o(new Error("Canvas to Blob failed"))},"image/jpeg",.85)})}finally{r.delete?r.delete():r.close()}},_d=async e=>{var n,a;const t=await hv(),r=new t;try{if(await r.open(e,{}),typeof r.getRawImage!="function")throw new Error("WASM mismatch: getRawImage() not found.");const o=r.getRawImage(),i=await r.metadata(!0);let s=[];if(i.color_data&&i.color_data.cblack_rawpy_style)s=i.color_data.cblack_rawpy_style;else if(i.color_data&&i.color_data.dng_levels&&i.color_data.dng_levels.dng_cblack)s=i.color_data.dng_levels.dng_cblack;else if(i.black_level_per_channel&&i.black_level_per_channel.length>=4)s=i.black_level_per_channel;else if(i.cblack&&i.cblack.length>=4)s=i.cblack;else if(i.color&&i.color.cblack&&i.color.cblack.length>=4)s=i.color.cblack;else{const h=i.black_level||i.color_data&&i.color_data.black||0;s=[h,h,h,h]}const l=[Number(s[0])||0,Number(s[1])||0,Number(s[2])||0,Number(s[3])||0],c=((n=i.idata)==null?void 0:n.filters)||0,f=((a=i.idata)==null?void 0:a.colors)||0,u=c===0&&f===3;return{data:o.data,width:o.width,height:o.height,bayerPattern:i.color_desc||"RGGB",blackLevels:l,whiteLevel:i.white_level||16383,metadata:i,isThreePlane:u}}finally{r.delete?r.delete():r.close()}};async function Bp(e){const t=new Uint8Array(e.slice(0)),r=new Uint8Array(e.slice(0)),[n,a]=await Promise.all([CQ(t),_d(r)]);return{previewBlob:n,analysisData:a}}async function EQ(e){const t=new Uint8Array(e.slice(0));return _d(t)}const y2=e=>(e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,e++,e);async function TQ(e,t,r,n=!0){const a=await _d(new Uint8Array(e)),o=await _d(new Uint8Array(t));if(a.width!==o.width||a.height!==o.height)throw new Error(`Dimension Mismatch: Image 1 is ${a.width}x${a.height}, Image 2 is ${o.width}x${o.height}`);const i=a.width,s=a.height,l=r?y2(i):i,c=r?y2(s):s,f=l*c,u=new Uint16Array(f),h=6e4,p=1.41421356;for(let m=0;m<s;m++){const w=m*i,b=m*l;for(let y=0;y<i;y++){const g=a.data[w+y],v=o.data[w+y];let S=g-v;n&&(S/=p);let x=S+h;x=Math.max(0,Math.min(65535,x)),u[b+y]=Math.round(x)}}return{rawData:u,width:l,height:c,metadata:a.metadata}}function Bu(e,t,r,n,a,o,i){const s=Math.max(0,Math.floor(n)),l=Math.max(0,Math.floor(a)),c=Math.min(t,Math.ceil(n+o)),f=Math.min(r,Math.ceil(a+i)),u=[0,0,0,0],h=[0,0,0,0],p=[0,0,0,0];for(let b=l;b<f;b++){const y=b*t,g=b%2;for(let v=s;v<c;v++){const S=v%2,x=e[y+v],k=g*2+S;u[k]+=x,h[k]+=x*x,p[k]++}}const m=[0,0,0,0],w=[0,0,0,0];for(let b=0;b<4;b++)if(p[b]>0){const y=u[b]/p[b];m[b]=y;const v=h[b]/p[b]-y*y;w[b]=Math.sqrt(Math.max(0,v))}return{x:s,y:l,width:c-s,height:f-l,means:m,stdDevs:w,pixelCount:p.reduce((b,y)=>b+y,0)}}function $Q(e,t,r,n,a,o,i,s,l,c,f){if(c<=l)return[];const u=Math.max(0,Math.floor(n)),h=Math.max(0,Math.floor(a)),p=Math.min(t,Math.ceil(n+o)),m=Math.min(r,Math.ceil(a+i)),w=c-l,b=f?Math.floor(w)+1:s,y=w/b,g=[new Uint32Array(b),new Uint32Array(b),new Uint32Array(b),new Uint32Array(b)];for(let S=h;S<m;S++){const x=S*t,k=S%2;for(let j=u;j<p;j++){const _=j%2,P=e[x+j];if(P<l||P>c)continue;const N=k*2+_;let A;f?A=Math.floor(P-l):A=Math.floor((P-l)/y),A<0&&(A=0),A>=b&&(A=b-1),g[N][A]++}}const v=[];for(let S=0;S<b;S++){const x=l+(f?S:S*y);v.push({binStart:x,c0:g[0][S],c1:g[1][S],c2:g[2][S],c3:g[3][S]})}return v}function DQ(e,t,r,n,a,o=!1,i=!1,s={rows:!1,rowGroup:0,cols:!1,colGroup:0}){const l=Math.max(0,Math.floor(n.x)),c=Math.max(0,Math.floor(n.y)),f=Math.min(t,Math.ceil(n.x+n.w)),u=Math.min(r,Math.ceil(n.y+n.h)),h=f-l,p=u-c;if(h<=1||p<=1)return null;let m=0;for(let k=l;k<f;k++)k%2===(a&1)&&m++;let w=0;for(let k=c;k<u;k++)k%2===a>>1&&w++;if(m<4||w<4)return null;const b=new Od(m),y=new Od(w),g=new Float32Array(Math.floor(m/2)+1),v=new Float32Array(Math.floor(w/2)+1);let S=0,x=0;for(let k=c;k<u;k++){const j=k%2;if(a>>1!==j||s.rows&&(k>>1&1)!==s.rowGroup)continue;const _=new Float32Array(m);let P=0;const N=k*t;for(let A=l;A<f;A++)A%2===(a&1)&&P<m&&(_[P++]=e[N+A]);b.calculateSpectrum(_,g,i),S++}for(let k=l;k<f;k++){const j=k%2;if((a&1)!==j||s.cols&&(k>>1&1)!==s.colGroup)continue;const _=new Float32Array(w);let P=0;for(let N=c;N<u;N++)N%2===a>>1&&P<w&&(_[P++]=e[N*t+k]);y.calculateSpectrum(_,v,i),x++}if(S>0)for(let k=0;k<g.length;k++)g[k]/=S;if(x>0)for(let k=0;k<v.length;k++)v[k]/=x;return{avgHoriz:Array.from(g),avgVert:Array.from(v)}}function LQ(e,t,r,n,a,o,i){const s=[],l=Math.max(0,Math.floor(n.x)),c=Math.max(0,Math.floor(n.y)),f=Math.min(t,Math.ceil(n.x+n.w)),u=Math.min(r,Math.ceil(n.y+n.h)),h=a>>1,p=a&1;for(let g=c;g<u;g++){if(g%2!==h)continue;const v=g*t;for(let S=l;S<f;S++){if(S%2!==p)continue;const x=e[v+S];x>=o&&x<=i&&s.push(x-o)}}if(s.length===0)return null;s.sort((g,v)=>g-v);const m=[s[0]];for(let g=1;g<s.length;g++)s[g]!==s[g-1]&&m.push(s[g]);const w=[],b=[],y={};for(let g=0;g<m.length-1;g++){const v=m[g],x=m[g+1]-v;w.push(x),b.push({x:v,y:x}),y[x]=(y[x]||0)+1}return{uniqueCount:m.length,diffCount:w.length,stepCounts:y,plotData:b}}async function v2(e,t){const r=await hv(),n=new r;try{const a=new Uint8Array(e.slice(0));let o=!1,i=[];if(t.customMatrix&&t.customMatrix.length===9){const h=[[t.customMatrix[0],t.customMatrix[1],t.customMatrix[2]],[t.customMatrix[3],t.customMatrix[4],t.customMatrix[5]],[t.customMatrix[6],t.customMatrix[7],t.customMatrix[8]]],p=NQ(h);if(p){const m=t.wbGains?t.wbGains[0]:1,w=t.wbGains?t.wbGains[1]:1,y=m2(p,[[m,0,0],[0,1,0],[0,0,w]]),g=m2(AQ,y);i=[g[0][0],g[0][1],g[0][2],g[1][0],g[1][1],g[1][2],g[2][0],g[2][1],g[2][2]],o=!0}else throw new Error("Custom Matrix is not invertible (determinant is zero). Please check your values.")}const s={outputBps:16,noAutoBright:!0,bright:o?1:Math.pow(2,t.exposure)};t.blackLevel&&t.blackLevel.length===4&&(s.userBlack=0,s.userCblack=t.blackLevel.map(h=>{const p=Math.round(h);return p===0?1:p})),t.demosaicMethod===-1?s.noInterpolation=!0:s.userQual=t.demosaicMethod,o?(s.outputColor=0,s.gamma=[1,1],s.userMul=[1,1,1,1],s.useCameraWb=!1):(s.outputColor=1,s.useCameraWb=!0),await n.open(a,s);const l=await n.imageData(),c=new ImageData(l.width,l.height),f=c.data,u=new Uint16Array(l.data.buffer,l.data.byteOffset,l.data.byteLength/2);if(o&&i.length===9){const h=i,m=Math.pow(2,t.exposure)*.25;for(let w=0;w<u.length;w+=3){const b=u[w]/65535,y=u[w+1]/65535,g=u[w+2]/65535;let v=h[0]*b+h[1]*y+h[2]*g,S=h[3]*b+h[4]*y+h[5]*g,x=h[6]*b+h[7]*y+h[8]*g;v*=m,S*=m,x*=m,v=Math.max(0,Math.min(1,v)),S=Math.max(0,Math.min(1,S)),x=Math.max(0,Math.min(1,x)),v=Ip(v),S=Ip(S),x=Ip(x);const k=w/3*4;f[k]=Math.round(v*255),f[k+1]=Math.round(S*255),f[k+2]=Math.round(x*255),f[k+3]=255}}else for(let h=0;h<u.length;h+=3){const p=h/3*4;f[p]=u[h]>>8,f[p+1]=u[h+1]>>8,f[p+2]=u[h+2]>>8,f[p+3]=255}return c}finally{n.delete?n.delete():n.close()}}const RQ=({isOpen:e,onClose:t,onMinimize:r,rawImageData:n,roi:a,isBGGR:o,zIndex:i,onFocus:s,initialPosition:l,initialInternalState:c,onUpdateState:f})=>{const[u,h]=O.useState((c==null?void 0:c.channelMode)||"All"),[p,m]=O.useState((c==null?void 0:c.minVal)??0),[w,b]=O.useState((c==null?void 0:c.maxVal)??16383),[y,g]=O.useState((c==null?void 0:c.binCount)??100),[v,S]=O.useState((c==null?void 0:c.pointToPoint)??!1),[x,k]=O.useState(!1),[j,_]=O.useState([]),[P,N]=O.useState(null),[A,C]=O.useState(l||{x:100,y:100}),[R,I]=O.useState(!1),T=O.useRef({x:0,y:0});O.useEffect(()=>{f&&f({channelMode:u,minVal:p,maxVal:w,binCount:y,pointToPoint:v})},[u,p,w,y,v]),O.useEffect(()=>{if(!e||!n||!a)return;if(w<=p){N("Invalid range: Max must be greater than Min");return}N(null),k(!0);const W=setTimeout(()=>{try{const te=$Q(n.data,n.width,n.height,a.x,a.y,a.w,a.h,y,p,w,v);_(te)}catch(te){console.error("Histogram calc error:",te),N("Error calculating histogram")}finally{k(!1)}},50);return()=>clearTimeout(W)},[e,n,a==null?void 0:a.x,a==null?void 0:a.y,a==null?void 0:a.w,a==null?void 0:a.h,y,p,w,v]);const L=W=>{s&&s(),!(W.target.closest("button")||W.target.closest("input")||W.target.closest("select"))&&(I(!0),T.current={x:W.clientX-A.x,y:W.clientY-A.y})};if(O.useEffect(()=>{const W=Y=>{R&&C({x:Y.clientX-T.current.x,y:Y.clientY-T.current.y})},te=()=>I(!1);return R&&(window.addEventListener("mousemove",W),window.addEventListener("mouseup",te)),()=>{window.removeEventListener("mousemove",W),window.removeEventListener("mouseup",te)}},[R]),!e)return null;const U=o?{c0:"Blue",c1:"Green 1",c2:"Green 2",c3:"Red"}:{c0:"Red",c1:"Green 1",c2:"Green 2",c3:"Blue"},D=o?{c0:"#3b82f6",c1:"#22c55e",c2:"#4ade80",c3:"#ef4444"}:{c0:"#ef4444",c1:"#22c55e",c2:"#4ade80",c3:"#3b82f6"},z="step";return d.jsxs("div",{className:"fixed flex flex-col bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 shadow-2xl rounded-xl resize-both overflow-hidden min-w-[500px] min-h-[400px] w-[900px] h-[600px]",style:{left:A.x,top:A.y,zIndex:i??100},onMouseDownCapture:s,children:[d.jsxs("div",{className:`flex justify-between items-center p-4 border-b border-gray-200 dark:border-slate-700 flex-shrink-0 bg-white dark:bg-slate-900 select-none ${R?"cursor-grabbing":"cursor-grab"}`,onMouseDown:L,children:[d.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-slate-100 pointer-events-none",children:"ROI Histogram"}),d.jsxs("div",{className:"flex items-center gap-1",children:[r&&d.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors",children:d.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),d.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 dark:hover:text-red-400 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors",children:d.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),d.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-800/50 flex flex-wrap gap-4 items-center border-b border-gray-200 dark:border-slate-700 text-sm flex-shrink-0 relative z-10",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-gray-500 dark:text-slate-400 font-semibold",children:"Channel:"}),d.jsxs("select",{value:u,onChange:W=>h(W.target.value),className:"bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-gray-900 dark:text-slate-100 outline-none focus:ring-1 focus:ring-cyan-500",children:[d.jsx("option",{value:"All",children:"All Colors"}),d.jsx("option",{value:"0",children:U.c0}),d.jsx("option",{value:"1",children:U.c1}),d.jsx("option",{value:"2",children:U.c2}),d.jsx("option",{value:"3",children:U.c3})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-gray-500 dark:text-slate-400 font-semibold",children:"Range (DN):"}),d.jsx("input",{type:"number",value:p,onChange:W=>m(Number(W.target.value)),className:"w-20 px-2 py-1 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-gray-900 dark:text-slate-100 text-right"}),d.jsx("span",{className:"text-gray-400",children:"-"}),d.jsx("input",{type:"number",value:w,onChange:W=>b(Number(W.target.value)),className:"w-20 px-2 py-1 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-gray-900 dark:text-slate-100 text-right"})]}),d.jsxs("div",{className:"flex items-center gap-4 border-l border-gray-300 dark:border-slate-600 pl-4",children:[d.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:v,onChange:W=>S(W.target.checked),className:"w-4 h-4 text-cyan-600 rounded border-gray-300 focus:ring-cyan-500"}),d.jsx("span",{className:"text-gray-700 dark:text-slate-300 select-none",title:"High compute cost",children:"1:1 Point-to-Point"})]}),!v&&d.jsxs("div",{className:"flex items-center gap-2 animate-in fade-in",children:[d.jsx("span",{className:"text-gray-500 dark:text-slate-400 font-semibold",children:"Bins:"}),d.jsx("input",{type:"number",value:y,onChange:W=>g(Math.max(1,Number(W.target.value))),className:"w-16 px-2 py-1 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-gray-900 dark:text-slate-100 text-right"})]})]})]}),d.jsxs("div",{className:"flex-1 p-4 relative bg-white dark:bg-slate-900 overflow-hidden min-h-0",children:[d.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-0 pointer-events-none select-none opacity-10 mix-blend-normal dark:mix-blend-plus-lighter",children:d.jsx("svg",{viewBox:"0 0 500 60",className:"w-96 h-auto",children:d.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"36",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})}),x&&d.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-10 bg-white/50 dark:bg-slate-900/50 backdrop-blur-[1px]",children:d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx("div",{className:"w-8 h-8 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mb-2"}),d.jsx("span",{className:"text-sm text-cyan-600 dark:text-cyan-400 font-semibold",children:"Calculating Histogram..."})]})}),P?d.jsx("div",{className:"flex items-center justify-center h-full text-red-500 relative z-10",children:P}):d.jsx("div",{className:"relative z-10 w-full h-full",children:d.jsx(ps,{width:"100%",height:"100%",children:d.jsxs(dv,{data:j,children:[d.jsx(mi,{strokeDasharray:"3 3",stroke:"#374151",opacity:.3}),d.jsx(la,{dataKey:"binStart",type:"number",domain:[p,w],tickFormatter:W=>Math.floor(W).toString(),tick:{fill:"#9ca3af",fontSize:12},allowDataOverflow:!0,label:{value:"DN Value",position:"insideBottom",offset:-5,fill:"#9ca3af",fontSize:12}}),d.jsx(ca,{tick:{fill:"#9ca3af",fontSize:12},label:{value:"Count",angle:-90,position:"insideLeft",fill:"#9ca3af",fontSize:12}}),d.jsx(Kr,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"0.5rem",color:"#f3f4f6"},itemStyle:{fontSize:"12px"},labelFormatter:W=>`DN: ${Math.round(Number(W))}`,formatter:W=>[W,"Count"]}),d.jsx(Ba,{wrapperStyle:{paddingTop:"10px"}}),(u==="All"||u==="0")&&d.jsx(Fr,{type:z,dataKey:"c0",name:U.c0,stroke:D.c0,dot:!1,strokeWidth:1.5,activeDot:{r:4},isAnimationActive:!1}),(u==="All"||u==="1")&&d.jsx(Fr,{type:z,dataKey:"c1",name:U.c1,stroke:D.c1,dot:!1,strokeWidth:1.5,activeDot:{r:4},isAnimationActive:!1}),(u==="All"||u==="2")&&d.jsx(Fr,{type:z,dataKey:"c2",name:U.c2,stroke:D.c2,dot:!1,strokeWidth:1.5,activeDot:{r:4},isAnimationActive:!1}),(u==="All"||u==="3")&&d.jsx(Fr,{type:z,dataKey:"c3",name:U.c3,stroke:D.c3,dot:!1,strokeWidth:1.5,activeDot:{r:4},isAnimationActive:!1})]})})})]})]})},IQ=(e,t,r)=>{const n=e.length,a=["c0_h","c0_v","c1_h","c1_v","c2_h","c2_v","c3_h","c3_v"];if(t>=n||t===0)return r==="extremum"?e.map(s=>{const l={...s};return a.forEach(c=>{l[c]!==void 0&&(l[`${c}_max`]=l[c],l[`${c}_min`]=l[c])}),l}):e;const o=[],i=Math.floor(n/t);for(let s=0;s<n;s+=i){const l=Math.min(s+i,n),c=e.slice(s,l);if(c.length===0)continue;const f={...c[Math.floor(c.length/2)]};a.forEach(u=>{const h=c.map(p=>p[u]).filter(p=>p!==void 0);if(h.length>0)if(r==="extremum"){const p=h.reduce((m,w)=>m+w,0);f[u]=p/h.length,f[`${u}_max`]=Math.max(...h),f[`${u}_min`]=Math.min(...h)}else{let p=h[0];r==="min"?p=Math.min(...h):r==="average"?p=h.reduce((w,b)=>w+b,0)/h.length:p=Math.max(...h),f[u]=p}}),o.push(f)}return o},BQ=(e,t)=>{if(t<=0)return[1];const r=new Array(e);let n=0;for(let a=0;a<e;a++){const o=a-(e-1)/2,i=Math.exp(-(o*o)/(2*t*t));r[a]=i,n+=i}for(let a=0;a<e;a++)r[a]/=n;return r},FQ=({isOpen:e,onClose:t,onMinimize:r,rawImageData:n,roi:a,isBGGR:o,onUpdateROI:i,zIndex:s,onFocus:l,initialPosition:c,initialInternalState:f,onUpdateState:u})=>{const[h,p]=O.useState((f==null?void 0:f.selectedChannel)??0),[m,w]=O.useState(()=>(f==null?void 0:f.yMinExp)||localStorage.getItem("fft_y_min")||"-1"),[b,y]=O.useState(()=>(f==null?void 0:f.yMaxExp)||localStorage.getItem("fft_y_max")||"8"),[g,v]=O.useState(()=>(f==null?void 0:f.poolingMethod)||localStorage.getItem("fft_pooling_method")||"max"),[S,x]=O.useState((f==null?void 0:f.useHanning)??!1),[k,j]=O.useState((f==null?void 0:f.showH)??!0),[_,P]=O.useState((f==null?void 0:f.showV)??!0),[N,A]=O.useState((f==null?void 0:f.interlaceRows)??!1),[C,R]=O.useState((f==null?void 0:f.rowGroup)??0),[I,T]=O.useState((f==null?void 0:f.interlaceCols)??!1),[L,U]=O.useState((f==null?void 0:f.colGroup)??0),[D,z]=O.useState(()=>(f==null?void 0:f.theoSigma)||localStorage.getItem("fft_theo_sigma")||"1.35"),[W,te]=O.useState(()=>(f==null?void 0:f.theoKernelSize)||localStorage.getItem("fft_theo_ksize")||"3"),[Y,X]=O.useState(()=>(f==null?void 0:f.theoNoiseStd)||localStorage.getItem("fft_theo_noise")||"1.0"),[F,ue]=O.useState(()=>(f==null?void 0:f.theoScale)||localStorage.getItem("fft_theo_scale")||"1.0"),[fe,Se]=O.useState(!1),[ce,J]=O.useState((f==null?void 0:f.intStart)||"0"),[de,ve]=O.useState((f==null?void 0:f.intEnd)||"0.5"),[q,Ke]=O.useState({}),[we,st]=O.useState([]),[Be,mt]=O.useState([]),[lr,nr]=O.useState(!1),[yr,Wt]=O.useState(null),[Zt,cr]=O.useState(!1),[Jt,ot]=O.useState(null),[Hn,vr]=O.useState(!1),[Vn,Cr]=O.useState(null),[Zr,Za]=O.useState(c||{x:50,y:50}),[Ut,Kn]=O.useState(!1),Ot=O.useRef({x:0,y:0}),jn=o?{c0:"#3b82f6",c1:"#22c55e",c2:"#4ade80",c3:"#ef4444"}:{c0:"#ef4444",c1:"#22c55e",c2:"#4ade80",c3:"#3b82f6"},On=O.useMemo(()=>o?{0:"Blue",1:"Green 1",2:"Green 2",3:"Red"}:{0:"Red",1:"Green 1",2:"Green 2",3:"Blue"},[o]),Jr=H=>{const he=H.target.value;v(he),localStorage.setItem("fft_pooling_method",he)};O.useEffect(()=>{localStorage.setItem("fft_y_min",m)},[m]),O.useEffect(()=>{localStorage.setItem("fft_y_max",b)},[b]),O.useEffect(()=>{localStorage.setItem("fft_theo_sigma",D)},[D]),O.useEffect(()=>{localStorage.setItem("fft_theo_ksize",W)},[W]),O.useEffect(()=>{localStorage.setItem("fft_theo_noise",Y)},[Y]),O.useEffect(()=>{localStorage.setItem("fft_theo_scale",F)},[F]),O.useEffect(()=>{u&&u({selectedChannel:h,yMinExp:m,yMaxExp:b,poolingMethod:g,useHanning:S,showH:k,showV:_,interlaceRows:N,rowGroup:C,interlaceCols:I,colGroup:L,theoSigma:D,theoKernelSize:W,theoNoiseStd:Y,theoScale:F,intStart:ce,intEnd:de})},[h,m,b,g,S,k,_,N,C,I,L,D,W,Y,F,ce,de]),O.useEffect(()=>{if(!e||!n||!a)return;nr(!0),Wt(null),mt([]),st([]),ot(null),Ke({});const H=setTimeout(()=>{try{const he=h===-1?[0,1,2,3]:[h],Ee={};let et=0;for(const xt of he){const tt=DQ(n.data,n.width,n.height,a,xt,!1,S,{rows:N,rowGroup:C,cols:I,colGroup:L});tt&&tt.avgHoriz.length>0&&(Ee[xt]=tt,et=Math.max(et,tt.avgHoriz.length,tt.avgVert.length))}if(et===0)throw new Error("Data is empty or ROI is too small.");const dt=[],Ze=.5,Xe=1e-10,vt=(xt,tt)=>{const ee=xt.length-1,Bt=tt/Ze*ee,ht=Math.round(Bt),tn=xt[Math.min(ht,ee)]||0;return Math.max(tn,Xe)};for(let xt=0;xt<et;xt++){const tt=xt/(et-1)*Ze,ee={freq:parseFloat(tt.toFixed(5))};for(const Bt of he)Ee[Bt]&&(ee[`c${Bt}_h`]=vt(Ee[Bt].avgHoriz,tt),ee[`c${Bt}_v`]=vt(Ee[Bt].avgVert,tt));dt.push(ee)}st(dt);const er=IQ(dt,2e3,g);mt(er)}catch(he){console.error("FFT Calculation Failed:",he),Wt(he.message||"Unknown error during FFT")}finally{nr(!1)}},50);return()=>clearTimeout(H)},[e,n,a==null?void 0:a.x,a==null?void 0:a.y,a==null?void 0:a.w,a==null?void 0:a.h,h,g,S,N,C,I,L]);const _t=()=>{const H=parseFloat(ce),he=parseFloat(de);if(isNaN(H)||isNaN(he))return;const Ee={},et=h===-1?[0,1,2,3]:[h],dt=Be.filter(Xe=>Xe.freq>=H&&Xe.freq<=he),Ze=dt.length;if(Ze===0){Ke({});return}et.forEach(Xe=>{let vt=0,er=0;dt.forEach(ee=>{const Bt=ee[`c${Xe}_h`],ht=ee[`c${Xe}_v`];typeof Bt=="number"&&(vt+=Bt),typeof ht=="number"&&(er+=ht)});const xt=Ze>0?vt/Ze:0,tt=Ze>0?er/Ze:0;Ee[Xe]={h:xt,v:tt,count:Ze}}),Ke(Ee)},Q=O.useMemo(()=>{const H=parseFloat(D),he=parseInt(W),Ee=parseFloat(Y),et=parseFloat(F);if(isNaN(H)||isNaN(he)||isNaN(Ee)||isNaN(et)||Be.length===0)return Be;const dt=BQ(he,H),Ze=dt.reduce((er,xt)=>er+xt*xt,0),Xe=(he-1)/2,vt=Ee*Ee*et;return Be.map(er=>{const xt=er.freq,tt=2*Math.PI*xt;let ee=0,Bt=0;for(let da=0;da<he;da++){const Ja=da-Xe,hn=dt[da],eo=-tt*Ja;ee+=hn*Math.cos(eo),Bt+=hn*Math.sin(eo)}const ht=ee*ee+Bt*Bt,tn=Ze*ht,_n=vt*tn;return{...er,theory:Math.max(1e-10,_n)}})},[Be,D,W,Y,F]),Fe=H=>{H&&H.activeLabel!==void 0&&(vr(!0),Cr(Number(H.activeLabel)),ot(null))},Pt=H=>{if(Hn&&Vn!==null&&H&&H.activeLabel!==void 0){const he=Number(H.activeLabel),Ee=Math.min(Vn,he),et=Math.max(Vn,he);ot([Ee,et])}},Sr=()=>{vr(!1),Cr(null)},jr=H=>{l&&l(),!(H.target.closest("button")||H.target.closest("input"))&&(Kn(!0),Ot.current={x:H.clientX-Zr.x,y:H.clientY-Zr.y})};O.useEffect(()=>{const H=Ee=>{Ut&&Za({x:Ee.clientX-Ot.current.x,y:Ee.clientY-Ot.current.y})},he=()=>{Kn(!1)};return Ut&&(window.addEventListener("mousemove",H),window.addEventListener("mouseup",he)),()=>{window.removeEventListener("mousemove",H),window.removeEventListener("mouseup",he)}},[Ut]);const Er=O.useMemo(()=>{if(!Jt||we.length===0)return null;const[H,he]=Jt,Ee=we.filter(Ze=>Ze.freq>=H&&Ze.freq<=he);if(Ee.length===0)return null;const et=h===-1?[0,1,2,3]:[h],dt={};return et.forEach(Ze=>{["h","v"].forEach(Xe=>{const vt=`c${Ze}_${Xe}`;let er=0,xt=0;for(const tt of Ee){const ee=tt[vt];typeof ee=="number"&&(er+=ee,xt++)}if(xt>0){const tt=er/xt,ee=Math.sqrt(tt);dt[`${vt}_sigma`]=ee}})}),{count:Ee.length,stats:dt}},[Jt,we,h]),en=()=>{let H=Math.pow(10,parseFloat(m)||-1);const he=Math.pow(10,parseFloat(b)||8);return H<=0&&(H=1e-4),[H,he]},Gt=()=>{if(Be.length===0)return;let H=1/0,he=-1/0;if(Be.forEach(dt=>{Object.keys(dt).forEach(Ze=>{if(Ze==="freq"||Ze==="theory")return;const Xe=dt[Ze];typeof Xe=="number"&&Xe>0&&(Xe<H&&(H=Xe),Xe>he&&(he=Xe))})}),H===1/0||he===-1/0)return;const Ee=Math.floor(Math.log10(H)),et=Math.ceil(Math.log10(he));w(Ee.toString()),y(et.toString())},yt=(H,he)=>{!a||!i||i({...a,x:a.x+H,y:a.y+he})},ft=(H,he)=>{if(!a||!i)return;const Ee=Math.max(2,a.w+H),et=Math.max(2,a.h+he);i({...a,w:Ee,h:et})},Wr=()=>(h===-1?[0,1,2,3]:[h]).flatMap(he=>{const Ee=`c${he}_h`,et=`c${he}_v`,dt=jn[`c${he}`],Ze=[];return k&&Ze.push(d.jsx(Fr,{type:"linear",dataKey:Ee,name:`${On[he]} (H)`,stroke:dt,strokeWidth:1,dot:!1,activeDot:{r:4},isAnimationActive:!1,style:{shapeRendering:"crispEdges"}},`${he}_h`)),_&&Ze.push(d.jsx(Fr,{type:"linear",dataKey:et,name:`${On[he]} (V)`,stroke:dt,strokeWidth:1,strokeDasharray:"3 3",dot:!1,activeDot:{r:4},isAnimationActive:!1,style:{shapeRendering:"crispEdges"}},`${he}_v`)),Ze}),fa=()=>d.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none select-none opacity-20 z-0 mix-blend-normal dark:mix-blend-plus-lighter",children:d.jsx("svg",{viewBox:"0 0 500 60",className:"w-[512px] h-auto",children:d.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"36",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})});return e?d.jsxs("div",{className:"fixed flex flex-col bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 shadow-2xl rounded-xl overflow-hidden resize-both min-w-[600px] min-h-[500px]",style:{left:Zr.x,top:Zr.y,width:"900px",height:"800px",zIndex:s??100},onMouseDownCapture:l,children:[d.jsxs("div",{className:`flex justify-between items-center p-3 border-b border-gray-200 dark:border-slate-700 flex-shrink-0 bg-gray-50 dark:bg-slate-800 z-50 relative select-none ${Ut?"cursor-grabbing":"cursor-grab"}`,onMouseDown:jr,children:[d.jsxs("h2",{className:"text-lg font-bold text-gray-900 dark:text-slate-100 flex items-center gap-2 pointer-events-none",children:["Power Spectrum Analysis",d.jsxs("span",{className:"text-xs font-normal bg-white dark:bg-slate-700 px-2 py-1 rounded text-gray-500 border border-gray-200 dark:border-slate-600 shadow-sm",children:["Raw Linear Data ",S?"(Hanning)":"(No Window)"]})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[r&&d.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors",children:d.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),d.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 dark:hover:text-red-400 p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors",children:d.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),d.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-800/50 border-b border-gray-200 dark:border-slate-700 flex-shrink-0 flex flex-wrap gap-4 items-center z-40 relative",children:[d.jsxs("div",{className:"flex gap-2 items-center",children:[d.jsx("span",{className:"text-[10px] font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide",children:"Channel"}),d.jsxs("div",{className:"flex bg-white dark:bg-slate-900 rounded-lg p-0.5 border border-gray-200 dark:border-slate-600 shadow-sm",children:[d.jsx("button",{onClick:()=>p(-1),className:`px-2 py-1 rounded text-[10px] font-bold transition-all ${h===-1?"bg-slate-800 text-white shadow-sm":"text-gray-600 dark:text-slate-400 hover:bg-gray-100 dark:hover:bg-slate-800"}`,children:"All"}),[0,1,2,3].map(H=>d.jsx("button",{onClick:()=>p(H),className:`px-2 py-1 rounded text-[10px] font-bold transition-all ${h===H?"bg-cyan-600 text-white shadow-sm":"text-gray-600 dark:text-slate-400 hover:bg-gray-100 dark:hover:bg-slate-800"}`,children:On[H]},H))]})]}),d.jsxs("div",{className:"flex items-center gap-2 px-3 border-l border-r border-gray-200 dark:border-slate-700",children:[d.jsx("span",{className:"text-[10px] font-bold text-indigo-600 dark:text-indigo-400 uppercase tracking-wide",children:"Discrete Gauss Model"}),d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx("label",{className:"text-[9px] text-gray-400 dark:text-slate-500",children:"KSize"}),d.jsx("input",{type:"number",step:"2",min:"1",value:W,onChange:H=>te(H.target.value),className:"w-10 text-xs bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-600 rounded px-1 text-center outline-none focus:border-indigo-500"})]}),d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx("label",{className:"text-[9px] text-gray-400 dark:text-slate-500",children:"Sigma"}),d.jsx("input",{type:"number",step:"0.05",value:D,onChange:H=>z(H.target.value),className:"w-12 text-xs bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-600 rounded px-1 text-center outline-none focus:border-indigo-500"})]}),d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx("label",{className:"text-[9px] text-gray-400 dark:text-slate-500",children:"Noise()"}),d.jsx("input",{type:"number",step:"0.1",value:Y,onChange:H=>X(H.target.value),className:"w-10 text-xs bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-600 rounded px-1 text-center outline-none focus:border-indigo-500"})]}),d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx("label",{className:"text-[9px] text-gray-400 dark:text-slate-500",children:"Scale"}),d.jsx("input",{type:"number",step:"0.1",value:F,onChange:H=>ue(H.target.value),className:"w-10 text-xs bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-600 rounded px-1 text-center outline-none focus:border-indigo-500"})]})]}),d.jsxs("div",{className:"flex gap-1 items-center",children:[d.jsx("span",{className:"text-[10px] font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide",children:"Pool"}),d.jsxs("select",{value:g,onChange:Jr,className:"text-[10px] font-bold bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-600 rounded py-1 px-1 text-gray-700 dark:text-slate-300 outline-none focus:ring-1 focus:ring-cyan-500",children:[d.jsx("option",{value:"max",children:"Max"}),d.jsx("option",{value:"min",children:"Min"}),d.jsx("option",{value:"average",children:"Avg"})]})]}),d.jsxs("div",{className:"flex flex-col gap-1 border-l border-gray-200 dark:border-slate-700 pl-2 ml-2",children:[d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsxs("label",{className:"text-[9px] text-gray-500 dark:text-slate-400 flex items-center gap-1 cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:N,onChange:H=>A(H.target.checked),className:"rounded-sm w-3 h-3 text-cyan-600 focus:ring-0"}),"Row Int."]}),N&&d.jsx("button",{onClick:()=>R(H=>H===0?1:0),className:"text-[9px] px-1 bg-gray-200 dark:bg-slate-700 text-gray-700 dark:text-slate-300 rounded font-bold w-6 text-center hover:bg-gray-300 dark:hover:bg-slate-600",children:C===0?"G1":"G2"})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsxs("label",{className:"text-[9px] text-gray-500 dark:text-slate-400 flex items-center gap-1 cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:I,onChange:H=>T(H.target.checked),className:"rounded-sm w-3 h-3 text-cyan-600 focus:ring-0"}),"Col Int."]}),I&&d.jsx("button",{onClick:()=>U(H=>H===0?1:0),className:"text-[9px] px-1 bg-gray-200 dark:bg-slate-700 text-gray-700 dark:text-slate-300 rounded font-bold w-6 text-center hover:bg-gray-300 dark:hover:bg-slate-600",children:L===0?"G1":"G2"})]})]}),d.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer select-none bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-600 px-2 py-1 rounded shadow-sm",children:[d.jsx("div",{className:`w-3 h-3 rounded border flex items-center justify-center transition-colors ${S?"bg-fuchsia-600 border-fuchsia-600":"bg-gray-100 dark:bg-slate-800 border-gray-300 dark:border-slate-600"}`,children:S&&d.jsx("svg",{className:"w-2 h-2 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),d.jsx("input",{type:"checkbox",checked:S,onChange:H=>x(H.target.checked),className:"hidden"}),d.jsx("span",{className:"text-[10px] font-bold text-gray-700 dark:text-slate-300",children:"Hanning"})]}),d.jsxs("div",{className:"flex gap-2 items-center border-l border-gray-200 dark:border-slate-700 pl-3 ml-2",children:[d.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-600 px-2 py-1 rounded shadow-sm",children:[d.jsx("div",{className:`w-3 h-3 rounded border flex items-center justify-center transition-colors ${k?"bg-cyan-600 border-cyan-600":"bg-gray-100 dark:bg-slate-800 border-gray-300 dark:border-slate-600"}`,children:k&&d.jsx("svg",{className:"w-2 h-2 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),d.jsx("input",{type:"checkbox",checked:k,onChange:H=>j(H.target.checked),className:"hidden"}),d.jsx("span",{className:"text-[10px] font-bold text-gray-700 dark:text-slate-300",children:"H"})]}),d.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-600 px-2 py-1 rounded shadow-sm",children:[d.jsx("div",{className:`w-3 h-3 rounded border flex items-center justify-center transition-colors ${_?"bg-cyan-600 border-cyan-600":"bg-gray-100 dark:bg-slate-800 border-gray-300 dark:border-slate-600"}`,children:_&&d.jsx("svg",{className:"w-2 h-2 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),d.jsx("input",{type:"checkbox",checked:_,onChange:H=>P(H.target.checked),className:"hidden"}),d.jsx("span",{className:"text-[10px] font-bold text-gray-700 dark:text-slate-300",children:"V"})]})]}),d.jsxs("div",{className:"relative ml-auto",children:[d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>Se(!fe),className:`px-2 py-1 rounded text-[10px] font-bold transition-all border ${fe?"bg-emerald-600 text-white border-emerald-600 shadow-md ring-2 ring-emerald-500/30":"bg-white dark:bg-slate-900 text-emerald-600 dark:text-emerald-400 border-emerald-200 dark:border-emerald-800 hover:bg-emerald-50 dark:hover:bg-slate-800"}`,children:" (Integration)"}),i&&d.jsx("button",{onClick:()=>cr(!Zt),className:`px-2 py-1 rounded text-[10px] font-bold transition-all border ${Zt?"bg-indigo-600 text-white border-indigo-600 shadow-md ring-2 ring-indigo-500/30":"bg-white dark:bg-slate-900 text-indigo-600 dark:text-indigo-400 border-indigo-200 dark:border-indigo-800 hover:bg-indigo-50 dark:hover:bg-slate-800"}`,children:"ROI"})]}),fe&&d.jsxs("div",{className:"absolute top-8 right-0 z-50 w-80 bg-white dark:bg-slate-900 rounded-xl shadow-2xl border border-gray-200 dark:border-slate-700 p-4 animate-in slide-in-from-top-2",children:[d.jsx("h4",{className:"text-[10px] uppercase font-bold text-emerald-600 dark:text-emerald-400 mb-2 border-b border-gray-100 dark:border-slate-800 pb-1",children:"Discrete Mean (Pooled)"}),d.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[d.jsx("span",{className:"text-[10px] text-gray-500",children:"Range:"}),d.jsx("input",{type:"number",step:"0.01",value:ce,onChange:H=>J(H.target.value),className:"w-16 px-1 py-0.5 text-xs border rounded bg-transparent dark:border-slate-600 dark:text-white"}),d.jsx("span",{className:"text-gray-400",children:"-"}),d.jsx("input",{type:"number",step:"0.01",value:de,onChange:H=>ve(H.target.value),className:"w-16 px-1 py-0.5 text-xs border rounded bg-transparent dark:border-slate-600 dark:text-white"}),d.jsx("button",{onClick:_t,className:"flex-1 bg-emerald-600 hover:bg-emerald-500 text-white text-[10px] font-bold py-1 rounded",children:"Calculate Avg"})]}),d.jsxs("div",{className:"flex flex-col gap-2 max-h-48 overflow-y-auto",children:[[0,1,2,3].map(H=>{if(h!==-1&&h!==H)return null;const he=q[H];if(!he)return null;const Ee=jn[`c${H}`],et=On[H];return d.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800/50 p-2 rounded text-[10px] border border-gray-100 dark:border-slate-800",children:[d.jsxs("div",{className:"flex items-center gap-2 font-bold mb-1",style:{color:Ee},children:[d.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:Ee}}),et," ",d.jsxs("span",{className:"text-gray-400 font-normal",children:["(",he.count," pts)"]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-x-2 gap-y-1 text-gray-700 dark:text-slate-300 font-mono",children:[d.jsxs("div",{children:["H Mean: ",d.jsx("span",{className:"font-bold",children:he.h.toExponential(3)})]}),d.jsxs("div",{children:["V Mean: ",d.jsx("span",{className:"font-bold",children:he.v.toExponential(3)})]}),d.jsxs("div",{className:"opacity-70",children:["H RMS",Math.sqrt(he.h).toFixed(3)]}),d.jsxs("div",{className:"opacity-70",children:["V RMS",Math.sqrt(he.v).toFixed(3)]})]})]},H)}),Object.keys(q).length===0&&d.jsx("div",{className:"text-center text-gray-400 text-[10px] italic",children:"Click Calculate"})]})]}),Zt&&d.jsx("div",{className:"absolute top-8 right-0 z-50 w-64 bg-white dark:bg-slate-900 rounded-xl shadow-2xl border border-gray-200 dark:border-slate-700 p-4 animate-in slide-in-from-top-2",children:d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"text-[10px] uppercase font-bold text-gray-400 dark:text-slate-500 mb-2",children:"Move (Position)"}),d.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[d.jsx("div",{}),d.jsx("button",{onClick:()=>yt(0,-1),className:"p-2 bg-gray-100 hover:bg-gray-200 dark:bg-slate-800 dark:hover:bg-slate-700 rounded-md text-gray-700 dark:text-slate-200 transition-colors",children:d.jsx("svg",{className:"w-3 h-3 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 15l7-7 7 7"})})}),d.jsx("div",{}),d.jsx("button",{onClick:()=>yt(-1,0),className:"p-2 bg-gray-100 hover:bg-gray-200 dark:bg-slate-800 dark:hover:bg-slate-700 rounded-md text-gray-700 dark:text-slate-200 transition-colors",children:d.jsx("svg",{className:"w-3 h-3 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M15 19l-7-7 7-7"})})}),d.jsx("div",{className:"flex items-center justify-center",children:d.jsx("div",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full"})}),d.jsx("button",{onClick:()=>yt(1,0),className:"p-2 bg-gray-100 hover:bg-gray-200 dark:bg-slate-800 dark:hover:bg-slate-700 rounded-md text-gray-700 dark:text-slate-200 transition-colors",children:d.jsx("svg",{className:"w-3 h-3 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M9 5l7 7-7 7"})})}),d.jsx("div",{}),d.jsx("button",{onClick:()=>yt(0,1),className:"p-2 bg-gray-100 hover:bg-gray-200 dark:bg-slate-800 dark:hover:bg-slate-700 rounded-md text-gray-700 dark:text-slate-200 transition-colors",children:d.jsx("svg",{className:"w-3 h-3 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M19 9l-7 7-7-7"})})}),d.jsx("div",{})]})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-[10px] uppercase font-bold text-gray-400 dark:text-slate-500 mb-2",children:"Resize (Dimensions)"}),d.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("span",{className:"text-[9px] text-center text-gray-500",children:"Width"}),d.jsxs("div",{className:"flex gap-1",children:[d.jsx("button",{onClick:()=>ft(-1,0),className:"flex-1 py-1 bg-gray-100 hover:bg-gray-200 dark:bg-slate-800 dark:hover:bg-slate-700 rounded text-xs font-mono text-gray-700 dark:text-slate-300",children:"-"}),d.jsx("button",{onClick:()=>ft(1,0),className:"flex-1 py-1 bg-gray-100 hover:bg-gray-200 dark:bg-slate-800 dark:hover:bg-slate-700 rounded text-xs font-mono text-gray-700 dark:text-slate-300",children:"+"})]})]}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("span",{className:"text-[9px] text-center text-gray-500",children:"Height"}),d.jsxs("div",{className:"flex gap-1",children:[d.jsx("button",{onClick:()=>ft(0,-1),className:"flex-1 py-1 bg-gray-100 hover:bg-gray-200 dark:bg-slate-800 dark:hover:bg-slate-700 rounded text-xs font-mono text-gray-700 dark:text-slate-300",children:"-"}),d.jsx("button",{onClick:()=>ft(0,1),className:"flex-1 py-1 bg-gray-100 hover:bg-gray-200 dark:bg-slate-800 dark:hover:bg-slate-700 rounded text-xs font-mono text-gray-700 dark:text-slate-300",children:"+"})]})]})]})]}),a&&d.jsxs("div",{className:"pt-2 border-t border-gray-100 dark:border-slate-800 text-[10px] font-mono text-gray-500 text-center",children:["X:",Math.round(a.x)," Y:",Math.round(a.y)," W:",Math.round(a.w)," H:",Math.round(a.h)]})]})})]}),d.jsxs("div",{className:"flex gap-2 items-center ml-auto",children:[d.jsx("button",{onClick:Gt,className:"px-2 py-1 text-[10px] font-bold bg-cyan-100 text-cyan-700 hover:bg-cyan-200 dark:bg-cyan-900/30 dark:text-cyan-300 dark:hover:bg-cyan-900/50 rounded border border-cyan-200 dark:border-cyan-800/50 transition-colors",title:"Auto-scale Y-Axis",children:"Auto"}),d.jsx("span",{className:"text-[10px] font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide",children:"Y-Axis (Log)"}),d.jsxs("div",{className:"flex items-center bg-white dark:bg-slate-900 rounded-lg border border-gray-200 dark:border-slate-600 shadow-sm overflow-hidden",children:[d.jsx("input",{type:"number",value:m,onChange:H=>w(H.target.value),className:"w-10 py-1 text-xs text-center bg-transparent outline-none text-gray-700 dark:text-slate-200 border-r border-gray-200 dark:border-slate-700",placeholder:"Min"}),d.jsx("span",{className:"px-1 text-gray-400 text-[9px] bg-gray-50 dark:bg-slate-800/50 py-1",children:"to"}),d.jsx("input",{type:"number",value:b,onChange:H=>y(H.target.value),className:"w-10 py-1 text-xs text-center bg-transparent outline-none text-gray-700 dark:text-slate-200",placeholder:"Max"})]})]})]}),d.jsxs("div",{className:"flex-1 p-4 overflow-hidden flex flex-col gap-2 relative bg-gray-50/30 dark:bg-slate-900/30",children:[Er&&Jt&&d.jsxs("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 z-50 bg-white/95 dark:bg-slate-800/95 backdrop-blur-md shadow-xl border border-indigo-200 dark:border-indigo-800 rounded-xl p-4 flex flex-col items-center animate-in fade-in slide-in-from-top-4",children:[d.jsxs("div",{className:"flex justify-between items-center w-full border-b border-gray-100 dark:border-slate-700 pb-2 mb-2",children:[d.jsx("h4",{className:"text-xs font-bold uppercase text-indigo-600 dark:text-indigo-400 tracking-wider",children:"Frequency Range Integration"}),d.jsx("button",{onClick:()=>ot(null),className:"text-gray-400 hover:text-red-500 transition-colors ml-4",children:d.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),d.jsx("div",{className:"text-center mb-3",children:d.jsxs("span",{className:"text-[10px] text-gray-500 dark:text-slate-400 font-mono",children:["[",Jt[0].toFixed(4)," - ",Jt[1].toFixed(4),"] cy/px (",Er.count," pts)"]})}),d.jsx("div",{className:"grid grid-cols-2 gap-x-8 gap-y-2 text-sm",children:Object.entries(Er.stats).map(([H,he])=>{const Ee=H.includes("_v"),et=parseInt(H.charAt(1)),dt=On[et]||`Ch${et}`,Ze=jn[`c${et}`];return d.jsxs("div",{className:"flex items-center justify-between gap-4",children:[d.jsxs("span",{className:"font-bold flex items-center gap-1.5",children:[d.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:Ze}}),d.jsxs("span",{style:{color:Ze},children:[dt," ",Ee?"(V)":"(H)"]})]}),d.jsxs("span",{className:"font-mono font-bold text-gray-700 dark:text-slate-200",children:[" = ",Number(he).toFixed(4)]})]},H)})}),d.jsx("div",{className:"mt-2 text-[9px] text-gray-400 dark:text-slate-500 italic",children:"* Assumes white noise within band ( = MeanPower)"})]}),lr&&d.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center z-50 bg-white/90 dark:bg-slate-900/90 backdrop-blur-[2px]",children:[d.jsx("div",{className:"w-10 h-10 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mb-4"}),d.jsx("span",{className:"text-cyan-600 dark:text-cyan-400 font-bold animate-pulse",children:"Computing FFT..."})]}),yr?d.jsx("div",{className:"flex items-center justify-center h-full text-red-500 font-semibold bg-red-50 dark:bg-red-900/10 rounded-xl border border-red-100 dark:border-red-900/20",children:yr}):d.jsxs("div",{className:"flex-1 bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 rounded-xl p-2 flex flex-col relative z-20 shadow-sm overflow-hidden min-h-0",children:[d.jsx("div",{className:"absolute top-2 left-2 z-20 bg-white/80 dark:bg-slate-900/80 px-2 py-1 rounded border border-gray-200 dark:border-slate-700",children:d.jsx("h3",{className:"text-[10px] font-bold uppercase tracking-wider text-gray-500 dark:text-slate-400",children:"Power Spectrum (Overlay: Real vs Theory)"})}),d.jsx(fa,{}),d.jsx("div",{className:"flex-1 relative z-10",onMouseDown:Fe,onMouseMove:Pt,onMouseUp:Sr,style:{cursor:Hn?"col-resize":"crosshair"},children:d.jsx(ps,{width:"100%",height:"100%",children:d.jsxs(dv,{data:Q,margin:{top:25,right:10,bottom:20,left:0},children:[d.jsx(mi,{strokeDasharray:"3 3",stroke:"#374151",opacity:.1}),d.jsx(la,{dataKey:"freq",type:"number",domain:[0,.5],tickCount:6,tick:{fill:"#6b7280",fontSize:10},label:{value:"Frequency (cycles/sample)",position:"insideBottom",offset:-10,fill:"#6b7280",fontSize:11}}),d.jsx(ca,{scale:"log",domain:en(),allowDataOverflow:!0,tick:{fill:"#6b7280",fontSize:10},tickFormatter:H=>Number(H).toExponential(0),label:{value:"Power",angle:-90,position:"insideLeft",fill:"#6b7280",fontSize:10},width:45}),d.jsx(Kr,{contentStyle:{backgroundColor:"rgba(17, 24, 39, 0.95)",border:"1px solid #374151",borderRadius:"0.5rem",color:"#f3f4f6",fontSize:"12px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},itemStyle:{padding:0},formatter:H=>[Number(H).toExponential(4),""],labelFormatter:H=>`Freq: ${Number(H).toFixed(5)}`}),d.jsx(Ba,{wrapperStyle:{fontSize:"10px"}}),d.jsx(Fr,{type:"monotone",dataKey:"theory",name:`Theory (=${D}, N=${Y})`,stroke:"#6366f1",strokeWidth:2,dot:!1,isAnimationActive:!1,style:{shapeRendering:"geometricPrecision"}}),Wr(),Jt&&d.jsx(tu,{x1:Jt[0],x2:Jt[1],strokeOpacity:.3,fill:"#8884d8",fillOpacity:.15})]})})})]})]})]}):null},zQ=({isOpen:e,onClose:t,onMinimize:r,rawImageData:n,roi:a,isBGGR:o,zIndex:i,onFocus:s,initialPosition:l,initialInternalState:c,onUpdateState:f})=>{const[u,h]=O.useState((c==null?void 0:c.selectedChannelKey)||"G1"),[p,m]=O.useState((c==null?void 0:c.blackLevel)??0),[w,b]=O.useState((c==null?void 0:c.whiteLevel)??16383),[y,g]=O.useState(null),[v,S]=O.useState(!1),[x,k]=O.useState(null),[j,_]=O.useState(l||{x:150,y:150}),[P,N]=O.useState(!1),A=O.useRef({x:0,y:0});O.useEffect(()=>{f&&f({selectedChannelKey:u,blackLevel:p,whiteLevel:w})},[u,p,w]),O.useEffect(()=>{if(e&&n&&!c){const T=n.blackLevels?Math.floor(n.blackLevels[1]):0;m(T),b(n.whiteLevel||16383),g(null)}},[e,n]);const C=()=>{if(!n||!a)return;k(null),S(!0);const L=(o?{B:0,G1:1,G2:2,R:3}:{R:0,G1:1,G2:2,B:3})[u];setTimeout(()=>{try{const U=LQ(n.data,n.width,n.height,a,L,p,w);U?g(U):(k("No data found in selection with current filters."),g(null))}catch(U){console.error("Analysis failed:",U),k(U.message||"Analysis error")}finally{S(!1)}},50)},R=T=>{s&&s(),!(T.target.closest("button")||T.target.closest("input")||T.target.closest("select"))&&(N(!0),A.current={x:T.clientX-j.x,y:T.clientY-j.y})};if(O.useEffect(()=>{const T=U=>{P&&_({x:U.clientX-A.current.x,y:U.clientY-A.current.y})},L=()=>N(!1);return P&&(window.addEventListener("mousemove",T),window.addEventListener("mouseup",L)),()=>{window.removeEventListener("mousemove",T),window.removeEventListener("mouseup",L)}},[P]),!e)return null;const I=o?["B","G1","G2","R"]:["R","G1","G2","B"];return d.jsxs("div",{className:"fixed flex flex-col bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 shadow-2xl rounded-xl resize-both overflow-hidden min-w-[500px] min-h-[400px] w-[900px] h-[700px]",style:{left:j.x,top:j.y,zIndex:i??100},onMouseDownCapture:s,children:[d.jsxs("div",{className:`flex justify-between items-center p-4 border-b border-gray-200 dark:border-slate-700 bg-white dark:bg-slate-900 select-none ${P?"cursor-grabbing":"cursor-grab"}`,onMouseDown:R,children:[d.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-slate-100 flex items-center gap-2 pointer-events-none",children:"Quantization Step Analysis"}),d.jsxs("div",{className:"flex items-center gap-1",children:[r&&d.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors",children:d.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),d.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 p-2",children:d.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),d.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-800/50 border-b border-gray-200 dark:border-slate-700 flex flex-wrap gap-4 items-end flex-shrink-0",children:[d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"Channel"}),d.jsx("select",{value:u,onChange:T=>h(T.target.value),className:"bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded px-3 py-1.5 text-sm text-gray-900 dark:text-slate-100 outline-none focus:ring-1 focus:ring-cyan-500 min-w-[80px]",children:I.map(T=>d.jsx("option",{value:T,children:T},T))})]}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"Black Level"}),d.jsx("input",{type:"number",value:p,onChange:T=>m(Number(T.target.value)),className:"w-24 px-3 py-1.5 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-sm text-gray-900 dark:text-slate-100"})]}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"White Level"}),d.jsx("input",{type:"number",value:w,onChange:T=>b(Number(T.target.value)),className:"w-24 px-3 py-1.5 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-sm text-gray-900 dark:text-slate-100"})]}),d.jsx("button",{onClick:C,disabled:v,className:"mb-0.5 px-5 py-1.5 bg-cyan-600 hover:bg-cyan-500 text-white font-bold rounded shadow-sm hover:shadow transition-colors disabled:opacity-50 text-sm",children:v?"Analyzing...":"Run Analysis"})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-4 flex flex-col gap-4 bg-white dark:bg-slate-900 min-h-0",children:[x&&d.jsx("div",{className:"p-3 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 rounded text-sm text-center flex-shrink-0",children:x}),!y&&!v&&!x&&d.jsx("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-400 dark:text-slate-500 h-full",children:d.jsx("p",{children:"Configure parameters and click Run Analysis"})}),y&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 flex-shrink-0",children:[d.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 rounded-lg border border-gray-200 dark:border-slate-700 text-center",children:[d.jsx("div",{className:"text-xs text-gray-500 dark:text-slate-400 uppercase mb-1",children:"Unique Codes"}),d.jsx("div",{className:"text-xl font-bold text-gray-900 dark:text-slate-100",children:y.uniqueCount})]}),d.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 rounded-lg border border-gray-200 dark:border-slate-700 text-center",children:[d.jsx("div",{className:"text-xs text-gray-500 dark:text-slate-400 uppercase mb-1",children:"Total Diffs"}),d.jsx("div",{className:"text-xl font-bold text-gray-900 dark:text-slate-100",children:y.diffCount})]})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800/50 rounded-xl border border-gray-200 dark:border-slate-700 overflow-hidden flex-shrink-0",children:[d.jsx("div",{className:"px-4 py-2 bg-gray-50 dark:bg-slate-800 border-b border-gray-200 dark:border-slate-700 text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"Step Distribution"}),d.jsx("div",{className:"p-4 flex flex-wrap gap-x-8 gap-y-2 text-sm font-mono max-h-32 overflow-y-auto",children:Object.entries(y.stepCounts).sort((T,L)=>parseFloat(T[0])-parseFloat(L[0])).map(([T,L])=>d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("span",{className:"text-gray-500 dark:text-slate-400",children:["Step ",T,":"]}),d.jsx("span",{className:"text-cyan-600 dark:text-cyan-400 font-bold",children:String(L)})]},T))})]}),d.jsxs("div",{className:"flex-1 bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 rounded-xl p-2 relative overflow-hidden min-h-[300px]",children:[d.jsx("div",{className:"absolute top-2 left-4 text-xs font-bold text-gray-400 dark:text-slate-500 pointer-events-none z-20 bg-white/80 dark:bg-slate-900/80 px-2 rounded",children:"Step Size vs Code Value"}),d.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-0 pointer-events-none select-none opacity-10 mix-blend-normal dark:mix-blend-plus-lighter",children:d.jsx("svg",{viewBox:"0 0 500 60",className:"w-96 h-auto",children:d.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"36",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})}),d.jsx("div",{className:"relative z-10 w-full h-full",children:d.jsx(ps,{width:"100%",height:"100%",children:d.jsxs(dv,{data:y.plotData,margin:{top:20,right:20,bottom:20,left:10},children:[d.jsx(mi,{strokeDasharray:"3 3",stroke:"#374151",opacity:.1}),d.jsx(la,{dataKey:"x",type:"number",domain:["auto","auto"],tick:{fill:"#9ca3af",fontSize:10},label:{value:"Code Value (Shifted)",position:"insideBottom",offset:-10,fill:"#9ca3af",fontSize:11}}),d.jsx(ca,{tick:{fill:"#9ca3af",fontSize:10},domain:[0,"auto"],allowDataOverflow:!1,label:{value:"Step Size (Delta)",angle:-90,position:"insideLeft",fill:"#9ca3af",fontSize:11}}),d.jsx(Kr,{contentStyle:{backgroundColor:"rgba(17, 24, 39, 0.95)",border:"1px solid #374151",borderRadius:"0.5rem",color:"#f3f4f6",fontSize:"12px"},labelFormatter:T=>`Val: ${T}`,formatter:T=>[T,"Step Size"]}),d.jsx(Fr,{type:"stepAfter",dataKey:"y",stroke:"#0891b2",strokeWidth:1.5,dot:{r:1.5,fill:"#0891b2",strokeWidth:0},activeDot:{r:4},isAnimationActive:!1})]})})})]})]})]})]})},WQ=({initialPosition:e={x:20,y:80},children:t,className:r="",onClose:n,zIndex:a,onFocus:o})=>{const[i,s]=O.useState(e),[l,c]=O.useState(!1),[f,u]=O.useState({x:0,y:0}),h=O.useRef(null),p=m=>{o&&o(),!(m.target.closest("button")||m.target.closest("input"))&&(c(!0),u({x:m.clientX-i.x,y:m.clientY-i.y}))};return O.useEffect(()=>{const m=b=>{var y,g;if(l){const v=b.clientX-f.x,S=b.clientY-f.y,x=window.innerWidth-(((y=h.current)==null?void 0:y.offsetWidth)||100),k=window.innerHeight-(((g=h.current)==null?void 0:g.offsetHeight)||100);s({x:Math.max(0,Math.min(v,x)),y:Math.max(0,Math.min(S,k))})}},w=()=>{c(!1)};return l&&(window.addEventListener("mousemove",m),window.addEventListener("mouseup",w)),()=>{window.removeEventListener("mousemove",m),window.removeEventListener("mouseup",w)}},[l,f]),d.jsxs("div",{ref:h,style:{left:i.x,top:i.y,zIndex:a??90},onMouseDownCapture:o,className:`fixed shadow-2xl rounded-xl border border-gray-200 dark:border-slate-700 bg-white/95 dark:bg-slate-900/90 backdrop-blur-md transition-shadow duration-200 ${l?"cursor-grabbing shadow-xl ring-2 ring-cyan-500/30":"shadow-lg"} ${r}`,children:[d.jsx("div",{onMouseDown:p,className:"absolute inset-0 w-full h-8 cursor-grab active:cursor-grabbing z-0",title:"Drag to move"}),d.jsx("div",{className:"relative z-10",children:t})]})},UQ=[{href:"https://y-g-jiang.github.io/LAC.html",text:"",abbr:"LAC",description:""},{href:"https://y-g-jiang.github.io/CCGV.html",text:"adobeIECMF",abbr:"CCGV",description:"acrRAWxy"},{href:"https://y-g-jiang.github.io/JTJS.html",text:"",abbr:"JTJS",description:"CMF/"},{href:"https://y-g-jiang.github.io/CBLD.html",text:"",abbr:"CBLD",description:""},{href:"https://y-g-jiang.github.io/XJZS.html",text:"",abbr:"XJZS",description:""}],GQ=({isOpen:e,onClose:t})=>e?d.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",onClick:t,children:d.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-3xl rounded-2xl shadow-2xl border border-gray-200 dark:border-slate-700 overflow-hidden flex flex-col max-h-[90vh]",onClick:r=>r.stopPropagation(),children:[d.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"About / Tools"}),d.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 transition-colors p-1 rounded hover:bg-gray-200 dark:hover:bg-slate-700",children:d.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),d.jsxs("div",{className:"p-6 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-slate-700",children:[d.jsx("div",{className:"mb-8 p-4 bg-gray-50 dark:bg-slate-800/50 rounded-xl border border-gray-100 dark:border-slate-700 text-center",children:d.jsxs("p",{className:"text-lg text-gray-700 dark:text-slate-300",children:[d.jsx("span",{className:"font-bold mr-2",children:"about:"}),d.jsx("a",{href:"https://y-g-jiang.github.io/JOindex.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline break-all font-mono",children:"https://y-g-jiang.github.io/JOindex.html"})]})}),d.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[d.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 flex-1"}),d.jsx("span",{className:"text-sm font-bold text-gray-400 dark:text-slate-500 uppercase tracking-wider",children:"Tools Collection"}),d.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 flex-1"})]}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:UQ.map(r=>d.jsxs("a",{href:r.href,target:"_blank",rel:"noopener noreferrer",className:"group block p-4 rounded-xl border border-gray-200 dark:border-slate-700 bg-white dark:bg-slate-800/30 hover:bg-gray-50 dark:hover:bg-slate-800 hover:border-cyan-500 dark:hover:border-cyan-500 hover:shadow-md transition-all duration-200 relative overflow-hidden",children:[d.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-gradient-to-bl from-cyan-500/5 to-transparent -mr-8 -mt-8 rounded-full pointer-events-none group-hover:from-cyan-500/10 transition-colors"}),d.jsxs("div",{className:"flex items-center gap-3 mb-2 relative z-10",children:[d.jsx("span",{className:"px-2 py-1 text-xs font-bold bg-gray-100 dark:bg-slate-700 text-gray-600 dark:text-slate-300 group-hover:bg-cyan-100 dark:group-hover:bg-cyan-900/50 group-hover:text-cyan-700 dark:group-hover:text-cyan-300 rounded transition-colors border border-gray-200 dark:border-slate-600 group-hover:border-cyan-200 dark:group-hover:border-cyan-800",children:r.abbr}),d.jsx("h3",{className:"font-bold text-gray-800 dark:text-slate-200 group-hover:text-cyan-600 dark:group-hover:text-cyan-400 transition-colors",children:r.text})]}),d.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400 pl-1 group-hover:text-gray-600 dark:group-hover:text-slate-300 transition-colors relative z-10",children:r.description})]},r.abbr))})]})]})}):null,HQ=({isOpen:e,onClose:t,data:r,fileName:n,warning:a})=>{const[o,i]=O.useState(""),s=f=>{const u=new WeakSet;try{return JSON.stringify(f,(h,p)=>{if(typeof p=="bigint")return p.toString()+"n";if(typeof p=="object"&&p!==null){if(u.has(p))return"[Circular]";if(u.add(p),ArrayBuffer.isView(p))return`[${p.constructor.name}]`}return p})}catch{return"[Unable to serialize object]"}},l=O.useMemo(()=>{if(!r)return[];const f=[],u=(h,p=0)=>{if(p>5)return"...";if(h==null)return String(h);if(h instanceof Date)return h.toLocaleString();if(typeof h=="number")return h.toString();if(typeof h=="string")return h;if(typeof h=="bigint")return h.toString()+"n";if(ArrayBuffer.isView(h))return`<${h.constructor.name} len=${h.length} bytes=${h.byteLength}>`;if(h instanceof ArrayBuffer)return`<ArrayBuffer bytes=${h.byteLength}>`;if(typeof h=="object"){if(Array.isArray(h))return h.length===0?"[]":h.length>20?`[${h.slice(0,10).map(b=>typeof b=="number"?b.toFixed(2):u(b,p+1)).join(", ")}, ... (+${h.length-10} more)]`:`[${h.map(w=>typeof w=="number"?Number.isInteger(w)?w:w.toFixed(4):u(w,p+1)).join(", ")}]`;try{const m=Object.keys(h);return m.length>5?`{Object with ${m.length} keys}`:s(h)}catch{return"<Complex Object>"}}return String(h)};try{if(typeof r!="object")return[{key:"Value",value:String(r)}];Object.keys(r).sort().forEach(p=>{if(p==="MakerNote"||p==="UserComment"||p.includes("Strip")||p.includes("Offset")){f.push({key:p,value:"<Binary/Internal Data>"});return}const m=r[p];f.push({key:p,value:u(m)})})}catch(h){console.error("Error processing EXIF data:",h),f.push({key:"Error",value:"Failed to process metadata structure."})}return f},[r]);if(!e)return null;const c=l.filter(f=>f.key.toLowerCase().includes(o.toLowerCase())||f.value.toLowerCase().includes(o.toLowerCase()));return d.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",onClick:t,children:d.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-3xl max-h-[90vh] rounded-2xl shadow-2xl flex flex-col border border-gray-200 dark:border-slate-700",onClick:f=>f.stopPropagation(),children:[d.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-gray-200 dark:border-slate-700",children:[d.jsxs("div",{className:"overflow-hidden",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-slate-100",children:"EXIF Data"}),d.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mt-1 font-mono truncate",children:n})]}),d.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 transition-colors p-2 rounded-full hover:bg-gray-100 dark:hover:bg-slate-800",children:d.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a&&d.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 px-4 py-2 border-b border-amber-100 dark:border-amber-800/50 text-center",children:d.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400 whitespace-pre-line font-medium leading-relaxed",children:a})}),d.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50",children:d.jsxs("div",{className:"relative",children:[d.jsx("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),d.jsx("input",{type:"text",placeholder:"Search tags...",value:o,onChange:f=>i(f.target.value),className:"w-full pl-9 pr-4 py-2 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded-lg text-sm focus:ring-2 focus:ring-cyan-500 outline-none text-gray-900 dark:text-slate-100 transition-colors placeholder-gray-400"})]})}),d.jsx("div",{className:"overflow-y-auto flex-1 p-0 scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-slate-700",children:c.length>0?d.jsxs("table",{className:"w-full text-left border-collapse table-fixed",children:[d.jsx("thead",{className:"bg-gray-50 dark:bg-slate-800 sticky top-0 shadow-sm z-10",children:d.jsxs("tr",{children:[d.jsx("th",{className:"py-3 px-5 font-semibold text-xs text-gray-500 dark:text-slate-400 uppercase tracking-wider w-1/3 border-b border-gray-200 dark:border-slate-700",children:"Tag Name"}),d.jsx("th",{className:"py-3 px-5 font-semibold text-xs text-gray-500 dark:text-slate-400 uppercase tracking-wider w-2/3 border-b border-gray-200 dark:border-slate-700",children:"Value"})]})}),d.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-slate-800",children:c.map(f=>d.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-800/50 transition-colors group",children:[d.jsx("td",{className:"py-2 px-5 text-sm font-medium text-cyan-600 dark:text-cyan-400 font-mono break-words align-top",children:f.key}),d.jsx("td",{className:"py-2 px-5 text-sm text-gray-700 dark:text-slate-300 font-mono break-words align-top group-hover:text-gray-900 dark:group-hover:text-slate-100",children:f.value})]},f.key))})]}):d.jsx("div",{className:"flex flex-col items-center justify-center h-64 text-gray-400 dark:text-slate-500",children:d.jsxs("p",{children:['No tags found matching "',o,'"']})})}),d.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50 flex justify-end rounded-b-2xl",children:d.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-800 dark:text-white rounded-lg text-sm font-semibold transition-colors",children:"Close"})})]})})},VQ=100,Fp=e=>{if(e.length===0)return 0;if(e.length===1)return e[0];if(e.length===2)return .5*(e[0]+e[1]);let t=[...e].sort((r,n)=>r-n);for(;t.length>4;){let r=1/0,n=0;const a=t.length,o=Math.floor(a/2);for(let i=0;i<=a-o;i++){const s=t[i+o-1]-t[i];s<r&&(r=s,n=i)}t=t.slice(n,n+o)}return t.reduce((r,n)=>r+n,0)/t.length},x2=({min:e,max:t,value:r,onChange:n,vertical:a=!1,logScale:o=!1})=>{const i=O.useRef(null),s=O.useRef(null),l=O.useCallback(g=>{const v=o?Math.max(1e-6,e):e,S=o?Math.max(v*1.0001,t):t,x=Math.max(v,Math.min(S,g));if(o){const k=Math.log10(v),j=Math.log10(S);return(Math.log10(x)-k)/(j-k)}return(x-v)/(S-v)},[e,t,o]),c=O.useCallback(g=>{const v=o?Math.max(1e-6,e):e,S=o?Math.max(v*1.0001,t):t;if(o){const x=Math.log10(v),k=Math.log10(S);return Math.pow(10,x+g*(k-x))}return v+g*(S-v)},[e,t,o]),f=(g,v)=>{g.preventDefault(),g.stopPropagation(),s.current=v;const S=k=>{if(!s.current||!i.current)return;const j=i.current.getBoundingClientRect();let _=0;a?_=(j.bottom-k.clientY)/j.height:_=(k.clientX-j.left)/j.width,_=Math.max(0,Math.min(1,_));const P=c(_);if(s.current==="min"){const N=r[1];n([Math.min(P,N),N])}else{const N=r[0];n([N,Math.max(P,N)])}},x=()=>{s.current=null,window.removeEventListener("mousemove",S),window.removeEventListener("mouseup",x)};window.addEventListener("mousemove",S),window.addEventListener("mouseup",x)},u=l(r[0])*100,h=l(r[1])*100,p=a?{left:"50%",top:0,bottom:0,width:"4px",transform:"translateX(-50%)"}:{top:"50%",left:0,right:0,height:"4px",transform:"translateY(-50%)"},m=a?{left:"50%",bottom:`${u}%`,height:`${h-u}%`,width:"4px",transform:"translateX(-50%)"}:{top:"50%",left:`${u}%`,width:`${h-u}%`,height:"4px",transform:"translateY(-50%)"},w="absolute w-3 h-3 bg-white border-2 border-cyan-600 rounded-full shadow-md cursor-pointer hover:scale-125 transition-transform z-10",b=a?{left:"50%",bottom:`${u}%`,transform:"translate(-50%, 50%)"}:{top:"50%",left:`${u}%`,transform:"translate(-50%, -50%)"},y=a?{left:"50%",bottom:`${h}%`,transform:"translate(-50%, 50%)"}:{top:"50%",left:`${h}%`,transform:"translate(-50%, -50%)"};return d.jsxs("div",{ref:i,className:`relative select-none ${a?"h-full w-4 py-2":"w-full h-4 px-2"}`,children:[d.jsx("div",{className:"absolute bg-gray-300 dark:bg-slate-600 rounded-full",style:p}),d.jsx("div",{className:"absolute bg-cyan-500 dark:bg-cyan-400 rounded-full",style:m}),d.jsx("div",{className:w,style:b,onMouseDown:g=>f(g,"min")}),d.jsx("div",{className:w,style:y,onMouseDown:g=>f(g,"max")})]})},KQ=({isOpen:e,onClose:t,data:r,blackLevel:n,imageHeight:a,isBGGR:o,importedMetadata:i,theme:s,initialCameraModel:l,initialISO:c})=>{const[f,u]=O.useState("Noise"),[h,p]=O.useState(!0),[m,w]=O.useState(null),[b,y]=O.useState("default"),[g,v]=O.useState(!1),[S,x]=O.useState(!1),[k,j]=O.useState({R:!0,G1:!0,G2:!0,B:!0}),[_,P]=O.useState(""),[N,A]=O.useState(""),[C,R]=O.useState(""),[I,T]=O.useState(""),[L,U]=O.useState("10"),[D,z]=O.useState(""),[W,te]=O.useState("0 0 0 0"),[Y,X]=O.useState("0 0 0 0"),[F,ue]=O.useState(!1),[fe,Se]=O.useState(null),[ce,J]=O.useState(!1),[de,ve]=O.useState(0),[q,Ke]=O.useState(()=>localStorage.getItem("ptc_tester_name")||""),[we,st]=O.useState(""),[Be,mt]=O.useState("");O.useEffect(()=>{localStorage.setItem("ptc_tester_name",q)},[q]);const lr=O.useRef(F),nr=O.useRef(ce),yr=O.useRef(de);O.useEffect(()=>{lr.current=F,nr.current=ce,yr.current=de},[F,ce,de]);const[Wt,Zt]=O.useState(null),[cr,Jt]=O.useState({min:.01,max:90}),[ot,Hn]=O.useState({readNoise:0,gain:1,prnu:.5}),[vr,Vn]=O.useState(2e6),Cr=O.useRef(ot),Zr=O.useRef(cr),Za=O.useRef(vr);O.useEffect(()=>{Cr.current=ot,Zr.current=cr,Za.current=vr},[ot,cr,vr]);const[Ut,Kn]=O.useState({read:"0",gain:"1.0",prnu:"0.5",rangeMin:"0.01",rangeMax:"90"}),[Ot,jn]=O.useState({read:!0,shot:!0,prnu:!0,total:!0,fitRange:!0}),[On,Jr]=O.useState(!1),[_t,Q]=O.useState([]),[Fe,Pt]=O.useState(null),[Sr,jr]=O.useState(""),Er=O.useMemo(()=>n?n.join(","):"",[n]);O.useEffect(()=>{if(e){let $="0 0 0 0";i&&i.blackLevel?$=i.blackLevel.join(" "):$=n&&n.length===4?n.join(" "):"0 0 0 0",te($),X($);let V="";if(i&&i.height?V=i.height.toString():a&&(V=a.toString()),z(V),V){const Z=parseFloat(V);!isNaN(Z)&&Z>0?U((2309.4/Z).toFixed(2)):U("10")}else U("10");Se(null),ue(!1),J(!1),ve(0),Q([]),Pt(null),Jt({min:.01,max:90}),Kn({read:"0",gain:"0",prnu:"0",rangeMin:"0.01",rangeMax:"90"}),Hn({readNoise:0,gain:0,prnu:0}),P(""),A(""),R(""),T(""),u("Noise"),Zt(null),Vn(2e6),jr(""),x(!1),st(Z=>Z.trim()===""&&l?l:Z),mt(Z=>Z.trim()===""&&c?c:Z)}},[e,Er,i,a,r,l,c]);const en=$=>{if($.key==="Enter"){const V=parseFloat(D);if(!isNaN(V)&&V>0){const Z=(2309.4/V).toFixed(2);U(Z)}$.target.blur()}},Gt=O.useMemo(()=>{let V=Y.trim().split(/[\s,]+/).filter(Boolean).map(Number);for(V.length===1&&(V=[V[0],V[0],V[0],V[0]]);V.length<4;)V.push(0);const Z=E=>{switch(E){case"R":return V[0];case"G1":return V[1];case"G2":return V[2];case"B":return V[3];default:return 0}};return r.map(E=>{const le=E.mean-Z(E.channel),xe=E.std>0?le/E.std:0;return{...E,x:le,std:E.std,snr:xe}}).filter(E=>E.std>0)},[r,Y]),yt=O.useMemo(()=>{const $=ot.readNoise,V=$*$;return Gt.map(Z=>{let E=0;if(f==="Noise")E=Z.std;else if(f==="SNR")E=Z.snr;else if(f==="Linear"){const xe=Z.std*Z.std-V;E=Z.x!==0?xe/Z.x:0}return{...Z,y:E}})},[Gt,f,ot.readNoise]),ft=O.useMemo(()=>{if(Gt.length===0)return"G1";const $={R:0,G1:0,G2:0,B:0},V={R:0,G1:0,G2:0,B:0};for(const le of Gt)$[le.channel]+=le.x,V[le.channel]++;let Z="G1",E=-1/0;return Object.keys($).forEach(le=>{const xe=V[le],je=xe>0?$[le]/xe:-1/0;je>E&&(E=je,Z=le)}),Z},[Gt]),Wr=O.useCallback(()=>{let $=1/0,V=-1/0;if(Gt.length===0)return{min:.1,max:1};for(let Z=0;Z<Gt.length;Z++){const E=Gt[Z].x;h&&E<=0||(E<$&&($=E),E>V&&(V=E))}return $===1/0?{min:.1,max:1}:{min:$,max:V}},[Gt,h]),fa=O.useCallback(()=>{let $=1/0,V=-1/0;if(yt.length===0)return{min:.1,max:1};for(let Z=0;Z<yt.length;Z++){const E=yt[Z].y;h&&E<=0||(E<$&&($=E),E>V&&(V=E))}return $===1/0?{min:.1,max:1}:{min:$*.9,max:V*1.1}},[yt,h]),{min:H,max:he}=Wr(),{min:Ee,max:et}=fa(),dt=he*(cr.min/100),Ze=he*(cr.max/100),Xe=O.useMemo(()=>{if(!h&&yt.length===0)return{shot:[],read:[],prnu:[],total:[]};const $=_?parseFloat(_):H,V=N?parseFloat(N):he,Z=100,E=Math.max(.1,$),le=Math.max(1,V);if(E>=le)return{shot:[],read:[],prnu:[],total:[]};const xe=Math.log10(E),ze=(Math.log10(le)-xe)/Z,Ge=ot.readNoise,Ce=ot.gain>0?ot.gain:1,kt=ot.prnu/100,lt=[],Nt=[],qt=[],oe=[];for(let Ve=0;Ve<=Z;Ve++){const be=Math.pow(10,xe+Ve*ze);if(f==="Linear"){const Tt=1/Ce,St=kt*kt,Ur=Tt+St*be;oe.push({x:be,y:Ur}),lt.push({x:be,y:Tt}),qt.push({x:be,y:St*be})}else{const Tt=Ge,St=Math.sqrt(be/Ce),Ur=kt*be,ct=Math.sqrt(Tt*Tt+St*St+Ur*Ur);f==="Noise"?(lt.push({x:be,y:St}),Nt.push({x:be,y:Tt}),qt.push({x:be,y:Ur}),oe.push({x:be,y:ct})):(St>0&&lt.push({x:be,y:be/St}),Tt>0&&Nt.push({x:be,y:be/Tt}),Ur>0&&qt.push({x:be,y:be/Ur}),ct>0&&oe.push({x:be,y:be/ct}))}}return{shot:lt,read:Nt,prnu:qt,total:oe}},[yt,h,_,N,ot,f,H,he]),vt=O.useMemo(()=>{if(f==="Linear")return[];const $=parseFloat(L);if(isNaN($)||$<=0)return[];const V=_?parseFloat(_):H,Z=N?parseFloat(N):he;return f==="SNR"?[{x:V,y:$},{x:Z,y:$}]:[{x:V,y:V/$},{x:Z,y:Z/$}]},[yt,L,f,_,N,H,he]),er=O.useCallback(($,V)=>{if(!V||V.length===0)return null;const Z=[...V].sort((E,le)=>E.x-le.x);for(let E=0;E<Z.length-1;E++){const le=Z[E],xe=Z[E+1];if(le.snr<=$&&xe.snr>=$||le.snr>=$&&xe.snr<=$){const je=($-le.snr)/(xe.snr-le.snr);return le.x+je*(xe.x-le.x)}}return null},[]),xt=O.useMemo(()=>{const $=Gt,V=1e3,Z=le=>{if(le.length===0)return[];if(le.length<=V)return le;const xe=[...le].sort((Ge,Ce)=>Ge.x-Ce.x),je=[],ze=xe.length/V;for(let Ge=0;Ge<V;Ge++){const Ce=Math.floor(Ge*ze),kt=Math.floor((Ge+1)*ze),lt=xe.slice(Ce,kt);if(lt.length===0)continue;lt.sort((qt,oe)=>qt.std-oe.std);const Nt=Math.floor(lt.length/2);je.push(lt[Nt])}return je},E={R:[],G1:[],G2:[],B:[]};return $.forEach(le=>{E[le.channel]&&E[le.channel].push(le)}),{R:Z(E.R),G1:Z(E.G1),G2:Z(E.G2),B:Z(E.B)}},[Gt]),tt=O.useMemo(()=>fe&&ot.gain?fe*ot.gain:null,[fe,ot.gain]),ee=O.useMemo(()=>{if(fe===null||fe===0)return null;const $=parseFloat(L);let V=null;if(!isNaN($)&&$>0){let je=0,ze=0;if(["R","G1","G2","B"].forEach(Ge=>{const Ce=er($,xt[Ge]);Ce!==null&&(je+=Ce,ze++)}),ze>0){const Ge=je/ze;V=Math.log2(fe/Ge)}}const Z=parseFloat(D);let E=null,le=NaN;if(!isNaN(Z)&&Z>0){le=16e3/Z;let je=0,ze=0;if(["R","G1","G2","B"].forEach(Ge=>{const Ce=er(le,xt[Ge]);Ce!==null&&(je+=Ce,ze++)}),ze>0){const Ge=je/ze;E=Math.log2(fe/Ge)}}let xe=null;if(!isNaN(Z)&&Z>0){const je=er(le,xt[ft]);je!==null&&(xe=Math.log2(fe/je))}return{manualDR:V,ptpDR:E,d55DR:xe,manualTarget:$,ptpTarget:le,saturationSignal:fe,dominantChannel:ft}},[fe,L,D,xt,er,ft]),Bt=O.useMemo(()=>{if(f==="Linear"||!ee||!ee.ptpTarget||isNaN(ee.ptpTarget))return[];const $=ee.ptpTarget,V=_?parseFloat(_):H,Z=N?parseFloat(N):he;return f==="SNR"?[{x:V,y:$},{x:Z,y:$}]:[{x:V,y:V/$},{x:Z,y:Z/$}]},[f,ee,_,N,H,he]),ht=O.useCallback(()=>{const Z=document.createElement("canvas");Z.width=2048,Z.height=1536;const E=Z.getContext("2d");if(!E)return;const le=s==="dark",xe=le?"#0f172a":"#ffffff",je=le?"#ffffff":"#000000",ze=le?"#475569":"#cbd5e1",Ge=le?"#1e293b":"#f1f5f9",Ce=o?{R:"#ef4444",G1:"#22c55e",G2:"#4ade80",B:"#3b82f6"}:{R:"#ef4444",G1:"#22c55e",G2:"#4ade80",B:"#3b82f6"};E.fillStyle=xe,E.fillRect(0,0,2048,1536);let kt=_?parseFloat(_):H,lt=N?parseFloat(N):he,Nt=C?parseFloat(C):Ee,qt=I?parseFloat(I):et;isNaN(kt)&&(kt=.1),isNaN(lt)&&(lt=1e4),isNaN(Nt)&&(Nt=.1),isNaN(qt)&&(qt=1e3);const oe={top:80,right:80,bottom:100,left:120},Ve=2048-oe.left-oe.right,be=1536-oe.top-oe.bottom,Tt=se=>{if(h){const Oe=Math.log10(Math.max(1e-9,kt)),$e=Math.log10(Math.max(1e-9,lt)),Ne=Math.log10(Math.max(1e-9,se));return oe.left+(Ne-Oe)/($e-Oe)*Ve}else return oe.left+(se-kt)/(lt-kt)*Ve},St=se=>{if(h){const Oe=Math.log10(Math.max(1e-9,Nt)),$e=Math.log10(Math.max(1e-9,qt)),Ne=Math.log10(Math.max(1e-9,se));return oe.top+be-(Ne-Oe)/($e-Oe)*be}else return oe.top+be-(se-Nt)/(qt-Nt)*be};if(E.beginPath(),h){const se=(Oe,$e,Ne)=>{const We=Math.log10(Math.max(1e-9,Oe)),Ae=Math.log10(Math.max(1e-9,$e)),ke=Math.floor(We),$t=Math.ceil(Ae);for(let nt=ke;nt<=$t;nt++){const pt=Math.pow(10,nt);let Me=Ne?Tt(pt):St(pt);(Ne?Me>=oe.left-1&&Me<=oe.left+Ve+1:Me>=oe.top-1&&Me<=oe.top+be+1)&&(E.lineWidth=1.5,E.strokeStyle=ze,E.beginPath(),Ne?(E.moveTo(Me,oe.top),E.lineTo(Me,oe.top+be)):(E.moveTo(oe.left,Me),E.lineTo(oe.left+Ve,Me)),E.stroke()),E.lineWidth=.5,E.strokeStyle=Ge;for(let Or=2;Or<10;Or++){const ha=Or*pt;Me=Ne?Tt(ha):St(ha),(Ne?Me>=oe.left&&Me<=oe.left+Ve:Me>=oe.top&&Me<=oe.top+be)&&(E.beginPath(),Ne?(E.moveTo(Me,oe.top),E.lineTo(Me,oe.top+be)):(E.moveTo(oe.left,Me),E.lineTo(oe.left+Ve,Me)),E.stroke())}}};se(kt,lt,!0),se(Nt,qt,!1)}else{E.strokeStyle=ze,E.lineWidth=1;for(let se=0;se<=5;se++){const Oe=oe.left+Ve*se/5;E.beginPath(),E.moveTo(Oe,oe.top),E.lineTo(Oe,oe.top+be),E.stroke();const $e=oe.top+be*se/5;E.beginPath(),E.moveTo(oe.left,$e),E.lineTo(oe.left+Ve,$e),E.stroke()}}E.strokeStyle=je,E.lineWidth=2,E.strokeRect(oe.left,oe.top,Ve,be);const Ur=(se,Oe,$e)=>{se<oe.left||se>oe.left+Ve||Oe<oe.top||Oe>oe.top+be||(E.fillStyle=$e,E.fillRect(se-1.5,Oe-1.5,3,3))},ct=yt.filter(se=>!(h&&(se.x<=0||se.y<=0)));ct.forEach(se=>{k[se.channel]&&se.channel!==ft&&Ur(Tt(se.x),St(se.y),Ce[se.channel])}),ct.forEach(se=>{k[se.channel]&&se.channel===ft&&Ur(Tt(se.x),St(se.y),Ce[se.channel])});const ar=(se,Oe,$e=[])=>{if(se.length<2)return;E.beginPath(),E.strokeStyle=Oe,E.lineWidth=3,E.setLineDash($e);let Ne=!1;for(const We of se){const Ae=Tt(We.x),ke=St(We.y);if(Ae<oe.left-100||Ae>oe.left+Ve+100||ke<oe.top-100||ke>oe.top+be+100){Ne=!1;continue}Ne?E.lineTo(Ae,ke):(E.moveTo(Ae,ke),Ne=!0)}E.stroke(),E.setLineDash([])},Gr=le?"#ffffff":"#000000";if(Ot.shot&&ar(Xe.shot,"#94a3b8",[5,5]),Ot.read&&ar(Xe.read,"#f43f5e",[3,3]),Ot.prnu&&ar(Xe.prnu,"#f59e0b",[3,3]),Ot.total&&ar(Xe.total,Gr,[]),vt.length===2){const se="#6366f1";ar(vt,se,[4,2]);const Oe=vt[1],$e=St(Oe.y);$e>=oe.top&&$e<=oe.top+be&&(E.fillStyle=se,E.font="bold 20px sans-serif",E.textAlign="right",E.textBaseline="bottom",E.fillText(`M.Tgt=${L}`,oe.left+Ve-10,$e-8))}if(Bt.length===2&&(ee!=null&&ee.ptpTarget)){const se="#10b981";ar(Bt,se,[4,4]);const Oe=Bt[1],$e=St(Oe.y);if($e>=oe.top&&$e<=oe.top+be){E.fillStyle=se,E.font="bold 20px sans-serif",E.textAlign="right",E.textBaseline="bottom";const Ne=ee.ptpTarget.toFixed(1),We=vt.length===2?St(vt[1].y):-100,Ae=Math.abs($e-We)<25?25:0;E.fillText(`PTP=${Ne}`,oe.left+Ve-10,$e-8-Ae)}}if(Ot.fitRange||ce){const se=(Oe,$e)=>{const Ne=Tt(Oe);Ne>=oe.left&&Ne<=oe.left+Ve&&(E.beginPath(),E.strokeStyle=$e,E.lineWidth=2,E.setLineDash([8,8]),E.moveTo(Ne,oe.top),E.lineTo(Ne,oe.top+be),E.stroke(),E.setLineDash([]))};se(dt,"#22d3ee"),se(Ze,"#22d3ee")}if(fe){const se=Tt(fe);se>=oe.left&&se<=oe.left+Ve&&(E.strokeStyle="#ef4444",E.lineWidth=3,E.setLineDash([10,10]),E.beginPath(),E.moveTo(se,oe.top),E.lineTo(se,oe.top+be),E.stroke(),E.setLineDash([]),E.fillStyle="#ef4444",E.font="bold 24px sans-serif",E.textAlign="center",E.fillText("Sat",se,oe.top-10))}E.fillStyle=je,E.font="28px monospace",E.textAlign="center",E.fillText(kt.toExponential(1),oe.left,oe.top+be+40),E.fillText(lt.toExponential(1),oe.left+Ve,oe.top+be+40),E.fillText("Signal (DN)",oe.left+Ve/2,oe.top+be+80),E.textAlign="right",E.textBaseline="middle",E.fillText(Nt.toExponential(1),oe.left-20,oe.top+be),E.fillText(qt.toExponential(1),oe.left-20,oe.top),E.save(),E.translate(oe.left-80,oe.top+be/2),E.rotate(-Math.PI/2),E.textAlign="center",E.fillText(f==="Linear"?"(Var - RN) / Mean":f,0,0),E.restore(),E.save(),E.translate(2048/2,1536/2),E.rotate(-Math.PI/6),E.textAlign="center",E.textBaseline="middle",E.fillStyle=le?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)",E.font="bold 150px sans-serif",E.fillText(" y-g-jiang.github.io",0,0),E.restore(),E.fillStyle=je,E.font="bold 36px sans-serif",E.textAlign="left",E.textBaseline="top",E.fillText(`PTC Export: ${f} Mode`,oe.left,20),E.font="24px sans-serif",E.fillStyle=le?"#94a3b8":"#64748b",E.fillText(`Points: ${yt.length} | Sat Channel: ${ft}`,oe.left,65);const Nn=oe.left+30,to=oe.top+30,Th=70,rl=se=>{if(!fe||se<=0)return"--";const Oe=ot.readNoise,$e=ot.gain,Ne=ot.prnu/100;if($e<=0)return"--";const We=se*se,Ae=Oe*Oe,ke=1-We*Ne*Ne,$t=-(We/$e),nt=-(We*Ae);let pt=0;if(Math.abs(ke)<1e-8)Math.abs($t)>1e-8&&(pt=-nt/$t);else{const Me=$t*$t-4*ke*nt;Me>=0&&(pt=(-$t+Math.sqrt(Me))/(2*ke))}return pt>0?Math.log2(fe/pt).toFixed(2)+" EV":"--"},B=ee!=null&&ee.ptpTarget&&!isNaN(ee.ptpTarget)?rl(ee.ptpTarget):"--",K=L?rl(parseFloat(L)):"--";E.font="bold 48px monospace",E.textAlign="left",E.textBaseline="top",E.shadowColor=le?"rgba(0,0,0,0.8)":"rgba(255,255,255,0.8)",E.shadowBlur=4,E.shadowOffsetX=1,E.shadowOffsetY=1;const re=(se,Oe,$e,Ne)=>{const We=to+$e*Th;E.fillStyle=je,E.fillText(se,Nn,We);const Ae=E.measureText(se).width;E.fillStyle=Ne||je,E.fillText(Oe,Nn+Ae,We)},ne=Ut.read,me=parseFloat(Ut.gain).toFixed(3),Te=parseFloat(Ut.prnu).toFixed(2)+"%";let qe=`M.DR@SNR${L}: `;const Ie=parseFloat(D);if(!isNaN(Ie)&&Ie>0){const se=(2309.4/Ie).toFixed(2);Math.abs(parseFloat(L)-parseFloat(se))<.05&&(qe="8mpSNR=1 DR: ")}re("Tester: ",q||"N/A",0),re("Model : ",we||"Unknown",1),re("ISO   : ",Be||"N/A",2),re("RN/FPN: ",ne,3,"#f43f5e"),re("KADC  : ",me,4,"#06b6d4"),re("PRNU  : ",Te,5,"#f59e0b"),re("PTP DR: ",ee!=null&&ee.ptpDR?ee.ptpDR.toFixed(2)+" EV":"--",6,"#10b981"),re("D55 DR: ",ee!=null&&ee.d55DR?ee.d55DR.toFixed(2)+" EV":"--",7,"#8b5cf6"),re("FWC   : ",tt?tt>1e4?(tt/1e3).toFixed(1)+"k":Math.round(tt).toString():"--",8,"#f97316"),re(qe,ee!=null&&ee.manualDR?ee.manualDR.toFixed(2)+" EV":"--",9,"#06b6d4"),re("PTCFitDR(PTP): ",B,10,"#10b981"),re("PTCFitDR(Man): ",K,11,"#06b6d4"),E.save(),E.textAlign="right",E.textBaseline="bottom",E.fillStyle="#3b82f6",E.font="bold 80px sans-serif",E.shadowColor=le?"rgba(0,0,0,0.8)":"rgba(255,255,255,0.8)",E.shadowBlur=4,E.shadowOffsetX=2,E.shadowOffsetY=2;const Ye=1988,Pe=1476,He=90;E.fillText("Online",Ye,Pe),E.fillText("Jiangtherapee",Ye,Pe-He),E.restore();const rt=document.createElement("a");rt.download=`ptc_complete_${f}_${Date.now()}.jpg`,rt.href=Z.toDataURL("image/jpeg",.9),rt.click()},[yt,ft,k,_,N,C,I,H,he,Ee,et,h,s,f,fe,o,Ot,Xe,dt,Ze,cr,ce,q,we,Be,ee,tt,L,vt,Bt,Ut,D]),tn=O.useMemo(()=>{let $=yt;if(h&&($=$.filter(le=>le.y>0&&le.x>0)),b==="top3"){const le=[...$].sort((je,ze)=>ze.x-je.x),xe=Math.max(50,Math.ceil(le.length*.03));$=le.slice(0,xe)}const V={R:[],G1:[],G2:[],B:[]};if($.forEach(le=>{V[le.channel]&&V[le.channel].push(le)}),b==="raw")return V;const Z=b==="top3"?500:VQ,E=le=>{if(le.length<=Z)return le;const xe=[...le].sort((Ge,Ce)=>Ge.x-Ce.x),je=[],ze=xe.length/Z;for(let Ge=0;Ge<Z;Ge++){const Ce=Math.floor(Ge*ze),kt=Math.floor((Ge+1)*ze),lt=xe.slice(Ce,kt);if(lt.length===0)continue;lt.sort((qt,oe)=>qt.y-oe.y);const Nt=Math.floor(lt.length/2);je.push(lt[Nt])}return je};return{R:E(V.R),G1:E(V.G1),G2:E(V.G2),B:E(V.B)}},[yt,b,h]),_n=O.useMemo(()=>{if(Gt.length<5)return[];const $=Gt.filter(Z=>Z.channel===ft);return[...$.length>20?$:Gt].sort((Z,E)=>Z.x-E.x).map(Z=>({mean:Z.x,std:Z.std}))},[Gt,ft]),da=$=>{const V=$.length;if(V===0)return[];const Z=$.reduce((Ve,be)=>Ve+be,0)/V,E=$.reduce((Ve,be)=>Ve+Math.pow(be-Z,2),0)/(V-1||1),le=Math.sqrt(E);if(le===0)return[{x:Z-.001,density:0},{x:Z,density:1},{x:Z+.001,density:0}];const xe=1.06*le*Math.pow(V,-.2),je=Math.min(...$),ze=Math.max(...$),Ge=(ze-je)*.2||je*.1,Ce=Math.max(0,je-Ge),kt=ze+Ge,lt=100,Nt=(kt-Ce)/(lt-1),qt=Ve=>1/Math.sqrt(2*Math.PI)*Math.exp(-.5*Ve*Ve),oe=[];for(let Ve=0;Ve<lt;Ve++){const be=Ce+Ve*Nt;let Tt=0;for(let St=0;St<V;St++)Tt+=qt((be-$[St])/xe);Tt/=V*xe,oe.push({x:be,density:Tt})}return oe},Ja=O.useCallback(($,V,Z,E)=>{if($.length<5)return{gain:0,prnu:0};const le=$[$.length-1].mean,xe=le*(Z.min/100),je=le*(Z.max/100),ze=$.filter(ct=>ct.mean>=xe&&ct.mean<=je);if(ze.length<5)return{gain:0,prnu:0};Zt({nPoints:ze.length});const Ge=V*V,Ce=[],kt=[];if(ze.forEach(ct=>{const Gr=ct.std*ct.std-Ge;if(ct.mean>1&&Gr>0){const Nn=ct.mean,to=Gr/ct.mean;Ce.push({x:Nn,y:to}),kt.push(ct.mean/Gr)}}),Ce.length<5)return{gain:0,prnu:0};const lt=[],Nt=Ce.length,qt=E,oe=Nt*(Nt-1)/2;if(oe<=qt)for(let ct=0;ct<Nt;ct++)for(let ar=ct+1;ar<Nt;ar++){const Gr=Ce[ar].x-Ce[ct].x;Math.abs(Gr)>1e-5&&lt.push((Ce[ar].y-Ce[ct].y)/Gr)}else{const ct=Math.max(1,Math.floor(oe/qt));for(let ar=0;ar<Nt;ar++)for(let Gr=ar+1;Gr<Nt;Gr+=ct){const Nn=Ce[Gr].x-Ce[ar].x;Math.abs(Nn)>1e-5&&lt.push((Ce[Gr].y-Ce[ar].y)/Nn)}}const Ve=Fp(lt),be=Ce.map(ct=>ct.y-Ve*ct.x),Tt=Fp(be);let St=0,Ur=0;if(Tt>1e-6?St=1/Tt:St=Fp(kt),Ve>0&&(Ur=Math.sqrt(Ve)*100),kt.length>0){const ct=da(kt);Q(ct),Pt(St)}else Q([]);return{gain:St,prnu:Ur}},[]),hn=O.useCallback($=>{let V=$.read??Cr.current.readNoise;const Z=$.gRange??Zr.current,E=Za.current;if(($.read!==void 0||$.gRange!==void 0)&&$.gain===void 0&&$.prnu===void 0&&_n.length>0&&V>=0)x(!0),setTimeout(()=>{const xe=Ja(_n,V,Z,E);let je=Cr.current.gain,ze=Cr.current.prnu;xe.gain>0&&(je=xe.gain,ze=xe.prnu),Hn({readNoise:V,gain:je,prnu:ze}),$.gRange!==void 0&&Jt($.gRange),Kn(Ge=>{var Ce,kt;return{...Ge,read:V.toString(),gain:je>0?je.toFixed(3):"0",prnu:ze.toFixed(2),rangeMin:(((Ce=$.gRange)==null?void 0:Ce.min)??Ge.rangeMin).toString(),rangeMax:(((kt=$.gRange)==null?void 0:kt.max)??Ge.rangeMax).toString()}}),x(!1)},50);else{let xe=$.gain!==void 0?$.gain:Cr.current.gain,je=$.prnu!==void 0?$.prnu:Cr.current.prnu;Hn({readNoise:V,gain:xe,prnu:je}),$.gRange!==void 0&&Jt($.gRange),Kn(ze=>{var Ge,Ce;return{...ze,read:V.toString(),gain:xe>0?xe.toFixed(3):"0",prnu:je.toFixed(2),rangeMin:(((Ge=$.gRange)==null?void 0:Ge.min)??ze.rangeMin).toString(),rangeMax:(((Ce=$.gRange)==null?void 0:Ce.max)??ze.rangeMax).toString()}})}},[_n,Ja]),eo=`${Y}-${r.length}`;O.useEffect(()=>{if(!e||!r||r.length===0)return;const $=tn[ft];if(!$||$.length===0||Sr===eo)return;j({R:ft==="R",G1:ft==="G1",G2:ft==="G2",B:ft==="B"});const V=[...$].sort((xe,je)=>xe.x-je.x);let Z=0;V.length>0&&(Z=V[0].std);const E=Gt.filter(xe=>xe.channel===ft);let le=-1/0;for(const xe of E)xe.x>le&&(le=xe.x);le!==-1/0&&Se(le),hn({read:Z}),jr(eo)},[e,r,Sr,eo,tn,ft,hn,Gt]);const Pa=($,V)=>{Kn(Z=>({...Z,[$]:V}))},Xn=$=>{let V=parseFloat(Ut[$]);isNaN(V)||V<0||hn({[$]:V})},Js=()=>{X(W),jr("")},ji=()=>{const $=parseFloat(Ut.rangeMin),V=parseFloat(Ut.rangeMax);!isNaN($)&&!isNaN(V)&&$<V&&$>=0&&V<=100&&hn({gRange:{min:$,max:V}})},Lo=($,V)=>{$.key==="Enter"&&(V==="rangeMin"||V==="rangeMax"?ji():Xn(V),$.target.blur())};O.useEffect(()=>{_n.length>0&&hn({})},[vr,_n]);const Pn=$=>{j(V=>({...V,[$]:!V[$]}))},Ch=()=>{y($=>$==="top3"?"default":"top3")},Eh=()=>{b==="raw"?y("default"):v(!0)},ru=()=>{v(!1),y("raw")},el=($,V)=>{const Z=parseFloat($),E=parseFloat(V);let le=isNaN(Z)?"auto":Z,xe=isNaN(E)?"auto":E;return h&&typeof le=="number"&&le<=0&&(le="auto"),[le,xe]},Ro=$=>{if(!$||!$.payload)return;const V=$.payload;if(w(V),lr.current&&(Se(V.x),ue(!1)),nr.current){const Z=Zr.current.min,E=Zr.current.max,{max:le}=Wr();if(le<=0)return;const xe=Math.max(0,Math.min(100,V.x/le*100));if(yr.current===1){const je=Math.min(xe,E-.5);hn({gRange:{min:je,max:E}}),ve(2)}else if(yr.current===2){const je=Math.max(xe,Z+.5);hn({gRange:{min:Z,max:je}}),ve(0),J(!1)}}},Oi=O.useCallback($=>{const{cx:V,cy:Z,fill:E}=$;return d.jsx("circle",{cx:V,cy:Z,r:3,fill:E,stroke:"none",style:{cursor:"pointer"}})},[]),nu=({active:$,payload:V})=>{if($&&V&&V.length){const Z=V[0].payload;return d.jsxs("div",{className:"bg-slate-800 text-white text-xs p-2 rounded border border-slate-600 shadow-xl opacity-90 font-mono z-50",children:[d.jsx("div",{className:"font-bold border-b border-slate-600 pb-1 mb-1",children:Z.channel}),d.jsxs("div",{children:["Signal: ",Z.x.toFixed(2)]}),d.jsxs("div",{children:[f,": ",Z.y.toFixed(4)]}),Z.row!==void 0&&Z.col!==void 0&&!isNaN(Z.row)&&!isNaN(Z.col)&&d.jsxs("div",{className:"text-cyan-400 mt-0.5",children:["Loc: Row ",Z.row,", Col ",Z.col]}),Z.filename&&d.jsx("div",{className:"text-gray-400 mt-1 max-w-[200px] truncate",title:Z.filename,children:Z.filename})]})}return null},tl=$=>{u($),$==="Linear"&&p(!1)};if(!e)return null;const au=s==="dark"?"#ffffff":"#000000";let ou=f;f==="Linear"&&(ou="(Var - RN) / Mean");const _i=W!==Y;return d.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in",onClick:$=>{$.stopPropagation()},children:d.jsxs("div",{className:"bg-white dark:bg-slate-900 w-[98vw] max-w-[2200px] h-[95vh] rounded-2xl shadow-2xl flex flex-col border border-gray-200 dark:border-slate-700 overflow-hidden relative",onClick:$=>$.stopPropagation(),children:[d.jsx(ti,{isOpen:g,onClose:()=>v(!1),onConfirm:ru,title:"Warning: High Performance Cost",message:"Displaying all data points may cause the browser to freeze or become unresponsive, especially with large datasets. Are you sure you want to continue?",confirmText:"Yes, Show All"}),m&&d.jsxs("div",{className:"absolute top-20 right-8 z-30 bg-white/90 dark:bg-slate-800/90 border border-cyan-500 rounded-xl p-4 shadow-xl backdrop-blur-md max-w-xs animate-in fade-in zoom-in-95 duration-200",children:[d.jsxs("div",{className:"flex justify-between items-start mb-2 border-b border-gray-200 dark:border-slate-700 pb-2",children:[d.jsx("h4",{className:"font-bold text-gray-900 dark:text-white text-sm",children:"Selected Point"}),d.jsx("button",{onClick:()=>w(null),className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200",children:d.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),d.jsx("div",{className:"space-y-1 text-xs font-mono text-gray-700 dark:text-slate-300",children:d.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1.5",children:[d.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"Channel:"}),d.jsx("span",{className:"font-bold",children:m.channel}),d.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"Signal (DN):"}),d.jsx("span",{children:m.x.toFixed(4)}),d.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"Noise (Std):"}),d.jsx("span",{children:m.std.toFixed(4)}),d.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"SNR:"}),d.jsx("span",{className:"text-purple-600 dark:text-purple-400 font-bold",children:(m.x/m.std).toFixed(2)})]})})]}),On&&d.jsx("div",{className:"absolute inset-0 z-40 bg-white/95 dark:bg-slate-900/95 backdrop-blur-sm flex flex-col items-center justify-center p-8 animate-in fade-in zoom-in-95 duration-200",children:d.jsxs("div",{className:"w-full max-w-2xl h-[60vh] bg-gray-50 dark:bg-slate-800 rounded-xl border border-gray-200 dark:border-slate-700 shadow-2xl p-4 flex flex-col relative",children:[d.jsx("button",{onClick:()=>Jr(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-red-500 transition-colors",children:d.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),d.jsxs("div",{className:"mb-4 text-center",children:[d.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-slate-200",children:"Gain Density Estimation"}),d.jsxs("p",{className:"text-xs text-gray-500 dark:text-slate-400",children:["HSM Mode: ",d.jsx("span",{className:"text-cyan-600 dark:text-cyan-400 font-bold",children:Fe==null?void 0:Fe.toFixed(4)}),d.jsx("span",{className:"mx-2",children:"|"}),"Data Points: ",_t.length>0?"Density Curve Generated":"No Data"]})]}),d.jsx("div",{className:"flex-1 min-h-0",children:_t.length>0?d.jsx(ps,{width:"100%",height:"100%",children:d.jsxs(yP,{data:_t,margin:{top:10,right:30,left:0,bottom:20},children:[d.jsx(mi,{strokeDasharray:"3 3",stroke:"#374151",opacity:.3,vertical:!1}),d.jsx(la,{dataKey:"x",tickFormatter:$=>$.toFixed(2),tick:{fill:"#9ca3af",fontSize:10},label:{value:"Gain (e/ADU)",position:"insideBottom",offset:-15,fill:"#9ca3af",fontSize:12}}),d.jsx(ca,{tick:{fill:"#9ca3af",fontSize:10}}),d.jsx(Kr,{cursor:{stroke:"rgba(255,255,255,0.2)"},contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"0.5rem",color:"#f3f4f6"}}),d.jsx(Rn,{type:"monotone",dataKey:"density",stroke:"#0ea5e9",fill:"#0ea5e9",fillOpacity:.3,strokeWidth:2}),Fe!==null&&d.jsx(Yo,{x:Fe,stroke:"#ef4444",strokeWidth:2,label:{value:"HSM",fill:"#ef4444",fontSize:10,position:"top"}})]})}):d.jsx("div",{className:"flex items-center justify-center h-full text-gray-400",children:"No data in selected range"})})]})}),d.jsxs("div",{className:"flex flex-wrap justify-between items-center p-3 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50 gap-4 flex-shrink-0",children:[d.jsxs("h2",{className:"text-lg font-bold text-gray-900 dark:text-slate-100 flex items-center gap-2",children:["Photon Transfer Curve",d.jsxs("span",{className:"text-xs font-normal bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-300 px-2 py-0.5 rounded border border-purple-200 dark:border-purple-800",children:[r.length," Pts"]})]}),d.jsxs("div",{className:"flex gap-4 items-center flex-wrap",children:[d.jsxs("button",{onClick:ht,className:"bg-green-600 hover:bg-green-500 text-white font-bold py-1 px-3 rounded text-xs shadow-md transition-all active:scale-95 flex items-center gap-1",title:"Render all points, target lines, and metadata to a high-res JPG",children:[d.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Export Complete Result"]}),d.jsxs("div",{className:"flex bg-white dark:bg-slate-700 rounded-lg p-1 border border-gray-200 dark:border-slate-600",children:[d.jsx("button",{onClick:()=>tl("Noise"),className:`px-3 py-1 text-xs font-bold rounded transition-colors ${f==="Noise"?"bg-cyan-600 text-white shadow":"text-gray-600 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-600"}`,children:"Noise ()"}),d.jsx("button",{onClick:()=>tl("SNR"),className:`px-3 py-1 text-xs font-bold rounded transition-colors ${f==="SNR"?"bg-purple-600 text-white shadow":"text-gray-600 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-600"}`,children:"SNR"}),d.jsx("button",{onClick:()=>tl("Linear"),className:`px-3 py-1 text-xs font-bold rounded transition-colors ${f==="Linear"?"bg-indigo-600 text-white shadow":"text-gray-600 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-600"}`,children:"Linear (PTC)"})]}),d.jsxs("label",{className:"flex items-center gap-2 text-xs text-gray-600 dark:text-slate-300 cursor-pointer select-none",children:[d.jsx("input",{type:"checkbox",checked:h,onChange:$=>p($.target.checked),className:"rounded border-gray-300 text-cyan-600 focus:ring-cyan-500 bg-gray-100 dark:bg-slate-700 dark:border-slate-600"}),"Log-Log"]}),d.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 transition-colors p-1",children:d.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-0 border-b border-gray-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-sm flex-shrink-0",children:[d.jsxs("div",{className:"lg:col-span-9 p-5 flex flex-col gap-5 border-r border-gray-200 dark:border-slate-700",children:[d.jsxs("div",{className:"flex flex-wrap gap-4 items-center justify-between text-xs",children:[d.jsxs("div",{className:"flex gap-4 items-center",children:[d.jsxs("div",{className:"flex items-center gap-1.5 bg-gray-50 dark:bg-slate-800 rounded-md p-1 border border-gray-200 dark:border-slate-700",children:[d.jsx("span",{className:"font-bold text-gray-500 dark:text-slate-400 pl-1",children:"X:"}),d.jsx("input",{type:"number",placeholder:"Min",value:_,onChange:$=>P($.target.value),className:"w-12 px-1 py-0.5 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center outline-none"}),d.jsx("span",{className:"text-gray-400",children:"-"}),d.jsx("input",{type:"number",placeholder:"Max",value:N,onChange:$=>A($.target.value),className:"w-12 px-1 py-0.5 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center outline-none"})]}),d.jsxs("div",{className:"flex items-center gap-1.5 bg-gray-50 dark:bg-slate-800 rounded-md p-1 border border-gray-200 dark:border-slate-700",children:[d.jsx("span",{className:"font-bold text-gray-500 dark:text-slate-400 pl-1",children:"Y:"}),d.jsx("input",{type:"number",placeholder:"Min",value:C,onChange:$=>R($.target.value),className:"w-12 px-1 py-0.5 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center outline-none"}),d.jsx("span",{className:"text-gray-400",children:"-"}),d.jsx("input",{type:"number",placeholder:"Max",value:I,onChange:$=>T($.target.value),className:"w-12 px-1 py-0.5 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center outline-none"})]}),d.jsx("button",{onClick:()=>{P(""),A(""),R(""),T("")},className:"text-xs text-cyan-600 dark:text-cyan-400 hover:underline",children:"Auto"})]}),d.jsxs("div",{className:"flex items-center gap-1 bg-white dark:bg-slate-700 p-1 rounded-lg border border-gray-200 dark:border-slate-600",children:[d.jsx("button",{onClick:()=>Pn("R"),className:`w-6 h-6 text-[10px] font-bold rounded flex items-center justify-center transition-colors ${k.R?"bg-red-500 text-white":"bg-gray-100 dark:bg-slate-600 text-gray-400"}`,children:"R"}),d.jsx("button",{onClick:()=>Pn("G1"),className:`w-6 h-6 text-[10px] font-bold rounded flex items-center justify-center transition-colors ${k.G1?"bg-green-500 text-white":"bg-gray-100 dark:bg-slate-600 text-gray-400"}`,children:"G1"}),d.jsx("button",{onClick:()=>Pn("G2"),className:`w-6 h-6 text-[10px] font-bold rounded flex items-center justify-center transition-colors ${k.G2?"bg-green-400 text-white":"bg-gray-100 dark:bg-slate-600 text-gray-400"}`,children:"G2"}),d.jsx("button",{onClick:()=>Pn("B"),className:`w-6 h-6 text-[10px] font-bold rounded flex items-center justify-center transition-colors ${k.B?"bg-blue-500 text-white":"bg-gray-100 dark:bg-slate-600 text-gray-400"}`,children:"B"})]})]}),d.jsxs("div",{className:"flex flex-wrap items-end gap-8",children:[d.jsxs("div",{className:"flex flex-col bg-gray-50 dark:bg-slate-800/50 p-2 rounded border border-gray-100 dark:border-slate-700",children:[d.jsx("span",{className:"text-[9px] uppercase font-bold text-gray-500 dark:text-slate-400 mb-1",children:"Black Level (0,0 0,1 1,0 1,1)"}),d.jsx("input",{type:"text",value:W,onChange:$=>te($.target.value),className:"w-32 text-xs px-2 py-1 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded outline-none focus:border-cyan-500 font-mono",placeholder:"0 0 0 0"})]}),d.jsxs("div",{className:"flex flex-col justify-between bg-gray-50 dark:bg-slate-800/50 p-2 rounded border border-gray-100 dark:border-slate-700",children:[d.jsxs("div",{className:"flex justify-between items-center mb-1",children:[d.jsx("span",{className:"text-[9px] uppercase font-bold text-gray-500 dark:text-slate-400 mr-2",children:"Fit Range % (Robust)"}),d.jsx("button",{onClick:()=>{J(!ce),ve(ce?0:1)},className:`px-1.5 py-0.5 text-[9px] rounded border transition-colors ${ce?"bg-cyan-100 text-cyan-700 border-cyan-300 animate-pulse":"bg-white dark:bg-slate-700 border-gray-300 dark:border-slate-600 text-gray-600 dark:text-slate-300 hover:bg-gray-50"}`,children:ce?de===1?"Pick Min":"Pick Max":"Select"})]}),d.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[d.jsx("input",{type:"number",step:"0.1",value:Ut.rangeMin,onChange:$=>Pa("rangeMin",$.target.value),onBlur:ji,onKeyDown:$=>Lo($,"rangeMin"),className:"w-10 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-1 py-0.5 text-center font-bold"}),d.jsx("span",{className:"text-gray-400",children:"-"}),d.jsx("input",{type:"number",step:"0.1",value:Ut.rangeMax,onChange:$=>Pa("rangeMax",$.target.value),onBlur:ji,onKeyDown:$=>Lo($,"rangeMax"),className:"w-10 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-1 py-0.5 text-center font-bold"})]})]}),d.jsxs("div",{className:"flex flex-col bg-indigo-50 dark:bg-indigo-900/20 p-2 rounded border border-indigo-100 dark:border-indigo-800/50",children:[d.jsx("span",{className:"text-[9px] uppercase font-bold text-indigo-600 dark:text-indigo-400 mb-1",children:"DR Params"}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("span",{className:"text-[10px] font-bold text-indigo-500 dark:text-indigo-300",children:"Img H:"}),d.jsx("input",{type:"number",value:D,onChange:$=>z($.target.value),onKeyDown:en,placeholder:"Empty",className:"w-14 px-1 py-0.5 bg-white dark:bg-slate-900 border border-indigo-200 dark:border-indigo-800 rounded text-center font-bold text-indigo-700 dark:text-indigo-300 text-xs placeholder:font-normal placeholder:text-gray-300"})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("span",{className:"text-[10px] font-bold text-indigo-500 dark:text-indigo-300",children:"Tgt SNR:"}),d.jsx("input",{type:"number",value:L,onChange:$=>U($.target.value),className:"w-10 px-1 py-0.5 bg-white dark:bg-slate-900 border border-indigo-200 dark:border-indigo-800 rounded text-center font-bold text-indigo-700 dark:text-indigo-300 text-xs"})]})]})]}),d.jsxs("div",{className:"flex flex-col gap-1 text-[10px] justify-end pb-0.5",children:[d.jsx("button",{onClick:()=>{ue(!F),fe&&Se(null)},disabled:ce,className:`font-bold rounded border shadow-sm transition-all px-3 py-1.5 ${F?"bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-400 border-amber-500 animate-pulse":"bg-white dark:bg-slate-800 text-gray-600 dark:text-slate-300 border-gray-300 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:F?"Pick Point":"Select Linear Limit"}),d.jsxs("div",{className:"flex gap-1",children:[d.jsx("button",{onClick:Ch,className:`flex-1 font-bold rounded border shadow-sm transition-all px-2 py-1 ${b==="top3"?"bg-indigo-600 text-white border-indigo-700":"bg-white dark:bg-slate-800 text-gray-600 dark:text-slate-300 border-gray-300 dark:border-slate-600 hover:bg-gray-50"}`,children:"Top 3%"}),d.jsx("button",{onClick:Eh,className:`font-bold rounded border shadow-sm transition-all px-2 py-1 ${b==="raw"?"bg-red-600 text-white border-red-700":"text-red-500 border-red-200 hover:bg-red-50"}`,children:"All"})]})]})]}),d.jsxs("div",{className:"flex flex-wrap gap-4 items-center bg-gray-50/50 dark:bg-slate-800/20 p-2 rounded-lg border border-gray-100 dark:border-slate-800",children:[d.jsx("span",{className:"text-[10px] uppercase font-bold text-gray-400 dark:text-slate-500",children:"Metadata"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"text",value:q,onChange:$=>Ke($.target.value),placeholder:"Tester Name",className:"w-24 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-gray-700 dark:text-slate-300 outline-none focus:border-cyan-500 transition-colors"}),d.jsx("input",{type:"text",value:we,onChange:$=>st($.target.value),placeholder:"Camera Model",className:"w-32 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-gray-700 dark:text-slate-300 outline-none focus:border-cyan-500 transition-colors"}),d.jsx("input",{type:"text",value:Be,onChange:$=>mt($.target.value),placeholder:"ISO",className:"w-16 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-gray-700 dark:text-slate-300 outline-none focus:border-cyan-500 transition-colors"})]})]}),d.jsxs("div",{className:"flex gap-4 text-[10px] pt-1 justify-center sm:justify-start flex-wrap",children:[d.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[d.jsx("input",{type:"checkbox",checked:Ot.shot,onChange:$=>jn({...Ot,shot:$.target.checked}),className:"rounded text-gray-500"})," ",d.jsx("span",{className:"text-gray-500",children:"Shot Noise"})]}),d.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[d.jsx("input",{type:"checkbox",checked:Ot.read,onChange:$=>jn({...Ot,read:$.target.checked}),className:"rounded text-rose-500"})," ",d.jsx("span",{className:"text-rose-500",children:"Read Noise"})]}),d.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[d.jsx("input",{type:"checkbox",checked:Ot.prnu,onChange:$=>jn({...Ot,prnu:$.target.checked}),className:"rounded text-amber-500"})," ",d.jsx("span",{className:"text-amber-500",children:"PRNU"})]}),d.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[d.jsx("input",{type:"checkbox",checked:Ot.total,onChange:$=>jn({...Ot,total:$.target.checked}),className:"rounded text-white"})," ",d.jsx("span",{className:"text-gray-900 dark:text-white font-bold",children:"Model"})]})]})]}),d.jsxs("div",{className:"lg:col-span-3 bg-slate-100 dark:bg-slate-800 p-4 flex flex-col justify-center gap-4",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-1 px-1",children:[d.jsxs("h3",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase flex items-center gap-2",children:["Fit Parameters (D55 SAT Channel:",ft,")",S&&d.jsx("span",{className:"text-orange-500 animate-pulse text-[10px]",children:"Calculating..."})]}),d.jsxs("div",{className:"flex gap-2 items-center",children:[d.jsx("button",{onClick:Js,disabled:S,className:`px-3 py-1 text-white text-[10px] font-bold rounded shadow-sm transition-all flex items-center gap-1 active:scale-95 
                                            ${S?"bg-gray-400 cursor-wait":_i?"bg-orange-500 hover:bg-orange-600 animate-pulse ring-2 ring-orange-400/50":"bg-cyan-600 hover:bg-cyan-500"}
                                        `,title:"Apply Black Level, Auto-detect Read Noise, then Recalculate Fit",children:S?d.jsxs(d.Fragment,{children:[d.jsxs("svg",{className:"w-3 h-3 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Fitting..."]}):d.jsxs(d.Fragment,{children:[d.jsxs("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),"Apply & Calc"]})}),d.jsxs("select",{value:vr,onChange:$=>Vn(Number($.target.value)),className:"text-[9px] bg-slate-200 dark:bg-slate-700 text-gray-600 dark:text-slate-300 rounded px-1 py-0.5 border-none outline-none cursor-pointer hover:bg-slate-300 dark:hover:bg-slate-600 transition-colors",title:"Number of point-pairs to sample for robust regression (Theil-Sen)",children:[d.jsx("option",{value:1e5,children:"100k Pairs"}),d.jsx("option",{value:5e5,children:"500k Pairs"}),d.jsx("option",{value:2e6,children:"2M Pairs"}),d.jsx("option",{value:5e6,children:"5M Pairs"}),d.jsx("option",{value:1e7,children:"10M Pairs"})]}),Wt&&d.jsxs("span",{className:"text-[10px] text-gray-400 dark:text-slate-500 font-mono",title:"Number of points used in regression",children:["N=",Wt.nPoints]})]})]}),d.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx("label",{className:"text-[10px] text-gray-500 dark:text-slate-400 uppercase tracking-wide mb-1",children:"rn/fpn"}),d.jsx("input",{type:"text",inputMode:"decimal",value:Ut.read,onChange:$=>Pa("read",$.target.value),onBlur:()=>Xn("read"),onKeyDown:$=>Lo($,"read"),className:"w-full text-center text-2xl font-light bg-transparent text-rose-500 outline-none border-b border-transparent focus:border-rose-500 transition-colors"})]}),d.jsxs("div",{className:"flex flex-col items-center relative group",children:[d.jsxs("label",{className:"text-[10px] text-gray-500 dark:text-slate-400 uppercase tracking-wide mb-1 flex items-center gap-1",children:["Kadc (HSM)",d.jsx("button",{onClick:()=>Jr(!0),className:"text-[9px] text-cyan-600 dark:text-cyan-400 hover:underline",children:"Dist."})]}),d.jsx("input",{type:"text",inputMode:"decimal",value:Ut.gain,onChange:$=>Pa("gain",$.target.value),onBlur:()=>Xn("gain"),onKeyDown:$=>Lo($,"gain"),className:"w-full text-center text-2xl font-light bg-transparent text-slate-700 dark:text-slate-200 outline-none border-b border-transparent focus:border-cyan-500 transition-colors"})]}),d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx("label",{className:"text-[10px] text-gray-500 dark:text-slate-400 uppercase tracking-wide mb-1",children:"PRNU (%)"}),d.jsx("input",{type:"text",inputMode:"decimal",value:Ut.prnu,onChange:$=>Pa("prnu",$.target.value),onBlur:()=>Xn("prnu"),onKeyDown:$=>Lo($,"prnu"),className:"w-full text-center text-2xl font-light bg-transparent text-amber-500 outline-none border-b border-transparent focus:border-amber-500 transition-colors"})]})]})]}),d.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 w-full"}),d.jsxs("div",{className:"grid grid-cols-2 gap-2 text-center",children:[d.jsxs("div",{className:"flex flex-col justify-center bg-cyan-50 dark:bg-cyan-900/10 p-2 rounded-lg border border-cyan-100 dark:border-cyan-900/30",children:[d.jsxs("h4",{className:"text-[10px] font-bold text-cyan-600 dark:text-cyan-500 uppercase tracking-wide mb-1 truncate",title:`Manual DR at SNR=${(ee==null?void 0:ee.manualTarget)||L}`,children:["M.DR @ SNR=",(ee==null?void 0:ee.manualTarget)||L]}),d.jsx("div",{className:"text-base font-bold text-cyan-700 dark:text-cyan-400 whitespace-nowrap",children:ee!=null&&ee.manualDR?`${ee.manualDR.toFixed(2)} EV`:"--"})]}),d.jsxs("div",{className:"flex flex-col justify-center bg-emerald-50 dark:bg-emerald-900/10 p-2 rounded-lg border border-emerald-100 dark:border-emerald-900/30",title:isNaN((ee==null?void 0:ee.ptpTarget)||NaN)?"Requires Image Height":`Standard Point-to-Point DR (Target SNR = 16000/${D||"H"})`,children:[d.jsx("h4",{className:"text-[10px] font-bold text-emerald-600 dark:text-emerald-500 uppercase tracking-wide mb-1",children:"PTP DR"}),d.jsx("div",{className:"text-base font-bold text-emerald-700 dark:text-emerald-400 whitespace-nowrap",children:ee!=null&&ee.ptpDR?`${ee.ptpDR.toFixed(2)} EV`:"--"})]}),d.jsxs("div",{className:"flex flex-col justify-center bg-purple-50 dark:bg-purple-900/10 p-2 rounded-lg border border-purple-100 dark:border-purple-900/30",title:isNaN((ee==null?void 0:ee.ptpTarget)||NaN)?"Requires Image Height":`D55 Saturation DR (Target SNR = 16000/${D||"H"} on ${ee==null?void 0:ee.dominantChannel} Channel)`,children:[d.jsxs("h4",{className:"text-[10px] font-bold text-purple-600 dark:text-purple-400 uppercase tracking-wide mb-1 truncate",children:["D55 DR (",ee==null?void 0:ee.dominantChannel,")"]}),d.jsx("div",{className:"text-base font-bold text-purple-700 dark:text-purple-400 whitespace-nowrap",children:ee!=null&&ee.d55DR?`${ee.d55DR.toFixed(2)} EV`:"--"})]}),d.jsxs("div",{className:"flex flex-col justify-center bg-orange-50 dark:bg-orange-900/10 p-2 rounded-lg border border-orange-100 dark:border-orange-900/30",children:[d.jsx("h4",{className:"text-[10px] font-bold text-orange-600 dark:text-orange-400 uppercase tracking-wide mb-1",children:"FWC"}),d.jsx("div",{className:"text-base font-bold text-orange-600 dark:text-orange-400 font-mono whitespace-nowrap truncate",title:tt!==null?`${Math.round(tt)}`:"",children:tt!==null?tt>1e4?`${(tt/1e3).toFixed(1)}k`:`${Math.round(tt)}`:"--"})]})]}),fe===null&&d.jsx("div",{className:"text-center text-[10px] text-red-500 animate-pulse font-bold mt-[-10px]",children:"Please select Linear Limit on chart to calc DR"})]})]}),d.jsxs("div",{className:`flex-1 p-4 bg-white dark:bg-slate-900 relative grid grid-cols-[auto_1fr] grid-rows-[1fr_auto] gap-2 ${F||ce?"cursor-crosshair":""}`,children:[d.jsx("div",{className:"row-start-1 col-start-1 h-full",children:d.jsx(x2,{vertical:!0,min:Ee,max:et,value:[C?parseFloat(C):Ee,I?parseFloat(I):et],onChange:([$,V])=>{R($.toString()),T(V.toString())},logScale:h})}),d.jsxs("div",{className:"row-start-1 col-start-2 relative",children:[yt.length===0?d.jsx("div",{className:"flex h-full items-center justify-center text-gray-400",children:"No valid data points found."}):d.jsx(ps,{width:"100%",height:"100%",children:d.jsxs(jQ,{margin:{top:20,right:20,bottom:0,left:0},onClick:Ro,children:[d.jsx("defs",{children:d.jsxs("filter",{id:"glow",height:"300%",width:"300%",x:"-100%",y:"-100%",children:[d.jsx("feGaussianBlur",{stdDeviation:"2",result:"coloredBlur"}),d.jsxs("feMerge",{children:[d.jsx("feMergeNode",{in:"coloredBlur"}),d.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),d.jsx(mi,{strokeDasharray:"3 3",stroke:"#374151",opacity:.2}),d.jsx(la,{type:"number",dataKey:"x",name:"Signal",scale:h?"log":"linear",domain:el(_,N),allowDataOverflow:!0,hide:!0}),d.jsx(ca,{type:"number",dataKey:"y",name:f,scale:h?"log":"linear",domain:el(C,I),label:{value:ou,angle:-90,position:"insideLeft",fill:"#9ca3af",fontSize:12},tick:{fill:"#9ca3af",fontSize:10},allowDataOverflow:!0}),d.jsx(Kr,{content:d.jsx(nu,{}),cursor:{strokeDasharray:"3 3"}}),fe&&d.jsx(Yo,{x:fe,stroke:"red",strokeDasharray:"3 3",label:{position:"top",value:"Sat",fill:"red",fontSize:10}}),(Ot.fitRange||ce)&&d.jsxs(d.Fragment,{children:[d.jsx(Yo,{x:dt,stroke:"#22d3ee",strokeDasharray:"5 5",label:{position:"insideTopLeft",value:`Min: ${cr.min}%`,fill:"#22d3ee",fontSize:9}}),d.jsx(Yo,{x:Ze,stroke:"#22d3ee",strokeDasharray:"5 5",label:{position:"insideTopLeft",value:`Max: ${cr.max}%`,fill:"#22d3ee",fontSize:9}})]}),k.R&&d.jsx(nn,{name:"Red",data:tn.R,fill:"#ef4444",shape:Oi,onClick:Ro,style:s==="dark"?{filter:"url(#glow)"}:void 0},"scatter-R"),k.G1&&d.jsx(nn,{name:"Green 1",data:tn.G1,fill:"#22c55e",shape:Oi,onClick:Ro,style:s==="dark"?{filter:"url(#glow)"}:void 0},"scatter-G1"),k.G2&&d.jsx(nn,{name:"Green 2",data:tn.G2,fill:"#4ade80",shape:Oi,onClick:Ro,style:s==="dark"?{filter:"url(#glow)"}:void 0},"scatter-G2"),k.B&&d.jsx(nn,{name:"Blue",data:tn.B,fill:"#3b82f6",shape:Oi,onClick:Ro,style:s==="dark"?{filter:"url(#glow)"}:void 0},"scatter-B"),Ot.shot&&Xe.shot.length>0&&d.jsx(nn,{name:"Shot Noise (Ideal)",data:Xe.shot,line:{stroke:"#94a3b8",strokeWidth:1,strokeDasharray:"5 5"},shape:()=>d.jsx(d.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-shot"),Ot.read&&Xe.read.length>0&&d.jsx(nn,{name:"Read Noise Floor",data:Xe.read,line:{stroke:"#f43f5e",strokeWidth:1,strokeDasharray:"3 3"},shape:()=>d.jsx(d.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-read"),Ot.prnu&&Xe.prnu.length>0&&d.jsx(nn,{name:"PRNU (Non-uniformity)",data:Xe.prnu,line:{stroke:"#f59e0b",strokeWidth:1,strokeDasharray:"3 3"},shape:()=>d.jsx(d.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-prnu"),Ot.total&&Xe.total.length>0&&d.jsx(nn,{name:"Total Noise Model",data:Xe.total,line:{stroke:au,strokeWidth:2},shape:()=>d.jsx(d.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-total"),vt.length>0&&d.jsx(nn,{name:`Target SNR=${L}`,data:vt,line:{stroke:"#6366f1",strokeWidth:2,strokeDasharray:"4 2"},shape:()=>d.jsx(d.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-target"),Bt.length>0&&d.jsx(nn,{name:`PTP Target SNR=${ee!=null&&ee.ptpTarget?ee.ptpTarget.toFixed(1):"?"}`,data:Bt,line:{stroke:"#10b981",strokeWidth:2,strokeDasharray:"4 4"},shape:()=>d.jsx(d.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-ptp")]})}),d.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 pointer-events-none select-none opacity-25 mix-blend-normal dark:mix-blend-plus-lighter",children:d.jsx("svg",{viewBox:"0 0 500 60",className:"w-96 h-auto",children:d.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"36",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})})]}),d.jsx("div",{className:"row-start-2 col-start-2 w-full",children:d.jsx(x2,{min:H,max:he,value:[_?parseFloat(_):H,N?parseFloat(N):he],onChange:([$,V])=>{P($.toString()),A(V.toString())},logScale:h})})]})]})})},XQ=({searchTerm:e,onSearchChange:t,manufacturers:r,selectedManufacturer:n,onManufacturerChange:a,cameras:o,onCameraSelect:i})=>d.jsx("div",{className:"sticky top-4 z-10 bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm p-4 rounded-xl border border-gray-200 dark:border-slate-700 shadow-sm",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[d.jsxs("div",{className:"relative md:col-span-3",children:[d.jsx("input",{type:"text",placeholder:"Search camera model...",value:e,onChange:s=>t(s.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none transition-all duration-300 text-gray-900 dark:text-slate-200 placeholder-gray-500 dark:placeholder-slate-400"}),d.jsx("svg",{className:"w-5 h-5 text-gray-400 dark:text-slate-400 absolute top-1/2 left-3 transform -translate-y-1/2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),d.jsx("select",{value:n,onChange:s=>a(s.target.value),className:"w-full md:col-span-1 bg-gray-50 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg px-4 py-2 focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none transition-all duration-300 appearance-none text-gray-900 dark:text-slate-200",children:r.map(s=>d.jsx("option",{value:s,children:s},s))}),d.jsxs("select",{onChange:s=>i(s.target.value),className:"w-full md:col-span-1 bg-gray-50 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg px-4 py-2 focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none transition-all duration-300 appearance-none text-gray-900 dark:text-slate-200",value:"","aria-label":"Jump to camera model",children:[d.jsx("option",{value:"",disabled:!0,children:"Jump to model..."}),o.map(s=>d.jsx("option",{value:s.id,children:s.name},s.id))]})]})}),qQ=({active:e,payload:t,label:r,theme:n})=>{if(e&&t&&t.length){const a=t[0].payload,o=n==="dark"?"bg-slate-800/80 border-slate-600 text-slate-300":"bg-white/90 border-gray-200 text-gray-700";return d.jsxs("div",{className:`${o} backdrop-blur-sm border p-3 rounded-lg shadow-lg`,children:[d.jsx("p",{className:"label font-bold",children:`ISO ${r}`}),d.jsx("div",{className:"mt-2 space-y-1 text-sm",children:d.jsxs(d.Fragment,{children:[d.jsxs("div",{style:{color:"#f87171"},children:["Red: ",a.R_avg.toFixed(2)," (Range: ",a.R_range[0]," - ",a.R_range[1],")"]}),d.jsxs("div",{style:{color:"#4ade80"},children:["Green 1: ",a.G1_avg.toFixed(2)," (Range: ",a.G1_range[0]," - ",a.G1_range[1],")"]}),d.jsxs("div",{style:{color:"#60a5fa"},children:["Blue: ",a.B_avg.toFixed(2)," (Range: ",a.B_range[0]," - ",a.B_range[1],")"]}),d.jsxs("div",{style:{color:"#86efac"},children:["Green 2: ",a.G2_avg.toFixed(2)," (Range: ",a.G2_range[0]," - ",a.G2_range[1],")"]})]})})]})}return null},YQ=({data:e,theme:t="dark"})=>{const r=O.useMemo(()=>!e||e.length===0?[]:[...new Set(e.map(i=>i.iso))].sort((i,s)=>Number(i)-Number(s)),[e]),n=O.useMemo(()=>{if(!e||e.length===0)return[0,4096];const i=e.flatMap(m=>[...m.R_range,...m.G1_range,...m.G2_range,...m.B_range]);if(i.length===0)return[0,4096];let s=Math.min(...i),l=Math.max(...i);const c=.25,f=l-s;if(f<c){const m=c-f;s-=m/2,l+=m/2}const u=(l-s)*.1,h=s-u,p=l+u;return[h,p]},[e]),a=t==="dark"?"#475569":"#e5e7eb",o=t==="dark"?"#94a3b8":"#6b7280";return!e||e.length===0?d.jsx("div",{className:"flex items-center justify-center h-full text-gray-500 dark:text-slate-500",children:d.jsx("p",{children:"No data available for this mode."})}):d.jsx(ps,{width:"100%",height:"100%",children:d.jsxs(yP,{data:e,margin:{top:5,right:20,left:0,bottom:5},children:[d.jsx(mi,{strokeDasharray:"3 3",stroke:a}),d.jsx(la,{dataKey:"iso",type:"number",domain:["dataMin","dataMax"],tick:{fill:o,fontSize:12},scale:"log",allowDuplicatedCategory:!1,ticks:r}),d.jsx(ca,{tick:{fill:o,fontSize:12},domain:n,allowDecimals:!0,tickFormatter:i=>Number(i).toFixed(3)}),d.jsx(Kr,{content:d.jsx(qQ,{theme:t})}),d.jsx(Ba,{wrapperStyle:{fontSize:"14px",color:o}}),d.jsx(Rn,{type:"monotone",dataKey:"R_range",fill:"#f87171",stroke:"none",fillOpacity:.2,name:"Red",legendType:"none"}),d.jsx(Fr,{type:"monotone",dataKey:"R_avg",stroke:"#f87171",strokeWidth:2,dot:!1,activeDot:{r:5},name:"Red"}),d.jsx(Rn,{type:"monotone",dataKey:"G1_range",fill:"#4ade80",stroke:"none",fillOpacity:.2,name:"Green 1",legendType:"none"}),d.jsx(Fr,{type:"monotone",dataKey:"G1_avg",stroke:"#4ade80",strokeWidth:2,dot:!1,activeDot:{r:5},name:"Green 1"}),d.jsx(Rn,{type:"monotone",dataKey:"B_range",fill:"#60a5fa",stroke:"none",fillOpacity:.2,name:"Blue",legendType:"none"}),d.jsx(Fr,{type:"monotone",dataKey:"B_avg",stroke:"#60a5fa",strokeWidth:2,dot:!1,activeDot:{r:5},name:"Blue"}),d.jsx(Rn,{type:"monotone",dataKey:"G2_range",fill:"#86efac",stroke:"none",fillOpacity:.2,name:"Green 2",legendType:"none"}),d.jsx(Fr,{type:"monotone",dataKey:"G2_avg",stroke:"#86efac",strokeWidth:2,dot:!1,activeDot:{r:5},name:"Green 2"})]})})},QQ=M.forwardRef(({camera:e,theme:t="dark"},r)=>{const n=O.useMemo(()=>e.shootingModes.map(u=>u.modeName),[e.shootingModes]),[a,o]=O.useState(n[0]||""),{chartData:i,tableData:s}=O.useMemo(()=>{const u=e.shootingModes.find(m=>m.modeName===a);if(!(u!=null&&u.data))return{chartData:[],tableData:[]};const h=u.data.map(m=>({iso:m.iso,R_range:m.r.range,R_avg:m.r.avg,G1_range:m.g1.range,G1_avg:m.g1.avg,B_range:m.b.range,B_avg:m.b.avg,G2_range:m.g2.range,G2_avg:m.g2.avg})),p=u.data.map(m=>({iso:m.iso,levels:[m.r.avg,m.g1.avg,m.g2.avg,m.b.avg],clipping:m.clipping}));return{chartData:h,tableData:p}},[e.shootingModes,a]),l=`Raw Data (${a})`,c=O.useRef(null),f=O.useRef(null);return O.useEffect(()=>{const u=c.current,h=f.current;if(!u||!h)return;const p=new ResizeObserver(m=>{for(let w of m){const{width:b}=w.contentRect,g=Math.max(8,b/35);h.style.fontSize=`${g}px`}});return p.observe(u),()=>p.disconnect()},[]),d.jsxs("div",{ref:r,className:"bg-white dark:bg-slate-800/50 border border-gray-200 dark:border-slate-700 rounded-xl shadow-lg p-6 flex flex-col gap-6 transform hover:scale-[1.02] hover:border-cyan-500/50 transition-all duration-500 ease-in-out",children:[d.jsxs("div",{className:"border-b border-gray-200 dark:border-slate-700 pb-4",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-slate-100",children:e.name}),d.jsx("p",{className:"text-cyan-600 dark:text-cyan-400",children:e.manufacturer})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-4 mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-slate-300",children:"Black Level vs. ISO"}),d.jsx("select",{value:a,onChange:u=>o(u.target.value),className:"w-full sm:w-auto bg-gray-50 dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded-md px-3 py-1 text-sm outline-none focus:ring-2 focus:ring-cyan-500 transition-all duration-300 text-gray-900 dark:text-slate-200","aria-label":`Select shooting mode for ${e.name}`,children:n.map(u=>d.jsx("option",{value:u,children:u},u))})]}),d.jsxs("div",{ref:c,className:"h-64 relative",children:[d.jsx(YQ,{data:i,theme:t},a),d.jsx("div",{className:"absolute top-1/2 left-[52%] transform -translate-x-1/2 -translate-y-1/2 -rotate-30 pointer-events-none",children:d.jsx("p",{ref:f,className:"font-bold text-gray-900/10 dark:text-slate-200/40 whitespace-nowrap",children:" y-g-jiang.github.io"})})]})]}),d.jsxs("div",{className:"overflow-x-auto",children:[d.jsx("div",{className:"flex justify-between items-center mb-4",children:d.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-slate-300",children:l})}),d.jsxs("table",{className:"w-full text-left border-collapse",children:[d.jsx("thead",{className:"bg-gray-100 dark:bg-slate-700/50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-700 dark:text-slate-300",children:"ISO"}),d.jsx("th",{className:"p-3 font-semibold text-sm text-red-500 dark:text-red-400",children:"Red"}),d.jsx("th",{className:"p-3 font-semibold text-sm text-green-600 dark:text-green-400",children:"Green 1"}),d.jsx("th",{className:"p-3 font-semibold text-sm text-blue-500 dark:text-blue-400",children:"Blue"}),d.jsx("th",{className:"p-3 font-semibold text-sm text-green-500 dark:text-green-300",children:"Green 2"})]})}),d.jsx("tbody",{children:s.map(({iso:u,levels:h,clipping:p})=>d.jsxs("tr",{className:"border-b border-gray-200 dark:border-slate-700/50 last:border-b-0",children:[d.jsxs("td",{className:"p-3 font-mono text-gray-700 dark:text-slate-300 whitespace-nowrap",children:[u,p&&d.jsx("span",{className:"ml-3 text-xs font-semibold text-amber-600 dark:text-amber-400 bg-amber-100 dark:bg-amber-900/50 px-2 py-1 rounded-full align-middle",children:"Clipping"})]}),d.jsx("td",{className:"p-3 font-mono text-red-500 dark:text-red-400",children:h[0].toFixed(2)}),d.jsx("td",{className:"p-3 font-mono text-green-600 dark:text-green-400",children:h[1].toFixed(2)}),d.jsx("td",{className:"p-3 font-mono text-blue-500 dark:text-blue-400",children:h[3].toFixed(2)}),d.jsx("td",{className:"p-3 font-mono text-green-500 dark:text-green-300",children:h[2].toFixed(2)})]},u))})]})]})]})}),Ue=(e,t,r)=>({avg:e,range:[t,r]}),ye=(e=255)=>{const t=e+(Math.random()-.5)*2,r=Math.random()*.2+.05;return{avg:t,range:[parseFloat((t-r).toFixed(2)),parseFloat((t+r).toFixed(2))]}},zp=[{id:"olympus-om1",name:"Olympus OM-1",manufacturer:"Olympus",shootingModes:[{modeName:"Single Shot",data:[{iso:200,r:Ue(254.9,254.89,254.91),g1:Ue(254.87,254.86,254.88),b:Ue(254.9,254.89,254.91),g2:Ue(254.87,254.86,254.88)},{iso:400,r:Ue(254.9,254.89,254.91),g1:Ue(254.87,254.86,254.88),b:Ue(254.9,254.89,254.91),g2:Ue(254.87,254.86,254.88),clipping:!0}]},{modeName:"20fps",data:[{iso:200,r:Ue(254.94,254.83,254.96),g1:Ue(254.92,254.81,254.96),b:Ue(254.94,254.83,254.96),g2:Ue(254.93,254.81,254.95)},{iso:400,r:Ue(254.94,254.83,254.96),g1:Ue(254.92,254.81,254.96),b:Ue(254.94,254.83,254.96),g2:Ue(254.93,254.81,254.95),clipping:!0}]},{modeName:"50fps",data:[{iso:200,r:Ue(254.82,254.75,254.94),g1:Ue(254.74,254.68,254.87),b:Ue(254.82,254.75,254.94),g2:Ue(254.75,254.68,254.87)},{iso:400,r:Ue(254.82,254.75,254.94),g1:Ue(254.74,254.68,254.87),b:Ue(254.82,254.75,254.94),g2:Ue(254.75,254.68,254.87),clipping:!0}]}]},{id:"panasonic-g9",name:"Panasonic G9",manufacturer:"Panasonic",shootingModes:[{modeName:"Single Shot",data:[{iso:200,r:Ue(254.9,254.89,254.91),g1:Ue(254.87,254.86,254.88),b:Ue(254.9,254.89,254.91),g2:Ue(254.87,254.86,254.88)},{iso:400,r:Ue(254.9,254.89,254.91),g1:Ue(254.87,254.86,254.88),b:Ue(254.9,254.89,254.91),g2:Ue(254.87,254.86,254.88),clipping:!0}]},{modeName:"30fps",data:[{iso:200,r:Ue(254.94,254.83,254.96),g1:Ue(254.92,254.81,254.96),b:Ue(254.94,254.83,254.96),g2:Ue(254.93,254.81,254.95)},{iso:400,r:Ue(254.94,254.83,254.96),g1:Ue(254.92,254.81,254.96),b:Ue(254.94,254.83,254.96),g2:Ue(254.93,254.81,254.95),clipping:!0}]}]},{id:"virtual-cam-1",name:"Virtual Camera Pro",manufacturer:"Virtual",shootingModes:[{modeName:"Standard",data:[{iso:100,r:ye(255),g1:ye(255),b:ye(255),g2:ye(255)},{iso:200,r:ye(255.2),g1:ye(255.2),b:ye(255.2),g2:ye(255.2)},{iso:400,r:ye(255.5),g1:ye(255.5),b:ye(255.5),g2:ye(255.5)},{iso:800,r:ye(256),g1:ye(256),b:ye(256),g2:ye(256)},{iso:1600,r:ye(257),g1:ye(257),b:ye(257),g2:ye(257),clipping:!0}]},{modeName:"High Speed",data:[{iso:200,r:ye(256),g1:ye(256),b:ye(256),g2:ye(256)},{iso:400,r:ye(256.3),g1:ye(256.3),b:ye(256.3),g2:ye(256.3)},{iso:800,r:ye(256.8),g1:ye(256.8),b:ye(256.8),g2:ye(256.8)},{iso:1600,r:ye(257.5),g1:ye(257.5),b:ye(257.5),g2:ye(257.5),clipping:!0},{iso:3200,r:ye(259),g1:ye(259),b:ye(259),g2:ye(259),clipping:!0}]},{modeName:"Low Light",data:[{iso:800,r:ye(254),g1:ye(254),b:ye(254),g2:ye(254)},{iso:1600,r:ye(254.5),g1:ye(254.5),b:ye(254.5),g2:ye(254.5)},{iso:3200,r:ye(255),g1:ye(255),b:ye(255),g2:ye(255),clipping:!0},{iso:6400,r:ye(256),g1:ye(256),b:ye(256),g2:ye(256),clipping:!0}]}]}],ZQ=({isOpen:e,onClose:t,theme:r})=>{const[n,a]=O.useState(""),[o,i]=O.useState("All"),s=O.useMemo(()=>["All",...Array.from(new Set(zp.map(u=>u.manufacturer))).sort()],[]),l=O.useMemo(()=>zp.filter(f=>{const u=f.name.toLowerCase().includes(n.toLowerCase()),h=o==="All"||f.manufacturer===o;return u&&h}),[n,o]),c=f=>{const u=document.getElementById(`camera-${f}`);u&&u.scrollIntoView({behavior:"smooth"})};return e?d.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",onClick:t,children:d.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-6xl h-[90vh] rounded-2xl shadow-2xl flex flex-col border border-gray-200 dark:border-slate-700 overflow-hidden",onClick:f=>f.stopPropagation(),children:[d.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50",children:[d.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-slate-100 flex items-center gap-2",children:["Camera Black Level Database",d.jsxs("span",{className:"text-xs font-normal bg-cyan-100 dark:bg-cyan-900/30 text-cyan-600 dark:text-cyan-400 px-2 py-0.5 rounded border border-cyan-200 dark:border-cyan-800",children:[zp.length," Models"]})]}),d.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 transition-colors p-2 rounded-full hover:bg-gray-100 dark:hover:bg-slate-800",children:d.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),d.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-slate-700 bg-gray-50/50 dark:bg-slate-800/30",children:d.jsx(XQ,{searchTerm:n,onSearchChange:a,manufacturers:s,selectedManufacturer:o,onManufacturerChange:i,cameras:l,onCameraSelect:c})}),d.jsx("div",{className:"flex-1 overflow-y-auto p-6 scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-slate-700 bg-gray-100 dark:bg-slate-950",children:d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-2 gap-6",children:[l.map(f=>d.jsx("div",{id:`camera-${f.id}`,children:d.jsx(QQ,{camera:f,theme:r})},f.id)),l.length===0&&d.jsx("div",{className:"col-span-full flex flex-col items-center justify-center py-20 text-gray-400 dark:text-slate-600",children:d.jsx("p",{className:"text-lg",children:"No cameras found matching your criteria."})})]})})]})}):null};function b2(e,t,r){const a=e*t*2,o=8,i=o+a,s="Fake",l="NoiseCam",c="NoiseCam",f=P=>{const N=new Uint8Array(P.length+1);for(let A=0;A<P.length;A++)N[A]=P.charCodeAt(A);return N[P.length]=0,N},u=f(s),h=f(l),p=f(c),m=[{id:254,type:4,count:1,value:0},{id:256,type:4,count:1,value:e},{id:257,type:4,count:1,value:t},{id:258,type:3,count:1,value:16},{id:259,type:3,count:1,value:1},{id:262,type:3,count:1,value:32803},{id:271,type:2,count:u.length,value:u},{id:272,type:2,count:h.length,value:h},{id:273,type:4,count:1,value:o},{id:277,type:3,count:1,value:1},{id:278,type:4,count:1,value:t},{id:279,type:4,count:1,value:a},{id:33421,type:3,count:2,value:[2,2]},{id:33422,type:1,count:4,value:[0,1,1,2]},{id:50706,type:1,count:4,value:[1,4,0,0]},{id:50717,type:2,count:p.length,value:p}],w=2+m.length*12+4;let b=0;const y=m.map(P=>{let N=1;P.type===3&&(N=2),P.type===4&&(N=4);const A=P.count*N,C=A<=4;let R=0;return C||(R=b,b+=A,b%2!==0&&b++),{...P,fits:C,totalBytes:A,extraOffset:R}}),g=i+w,v=g+b,S=new ArrayBuffer(v),x=new DataView(S),k=new Uint8Array(S);x.setUint16(0,18761,!0),x.setUint16(2,42,!0),x.setUint32(4,i,!0);const j=new Uint8Array(r.buffer,r.byteOffset,r.byteLength);k.set(j,o);let _=i;return x.setUint16(_,m.length,!0),_+=2,y.forEach(P=>{if(x.setUint16(_,P.id,!0),x.setUint16(_+2,P.type,!0),x.setUint32(_+4,P.count,!0),P.fits){const N=_+8;Array.isArray(P.value)?P.value.forEach((A,C)=>{P.type===1&&x.setUint8(N+C,A),P.type===3&&x.setUint16(N+C*2,A,!0)}):P.value instanceof Uint8Array||(P.type===3&&x.setUint16(N,P.value,!0),P.type===4&&x.setUint32(N,P.value,!0))}else{const N=g+P.extraOffset;x.setUint32(_+8,N,!0);const A=N;P.value instanceof Uint8Array?k.set(P.value,A):Array.isArray(P.value)&&P.value.forEach((C,R)=>{P.type===1&&x.setUint8(A+R,C),P.type===3&&x.setUint16(A+R*2,C,!0)})}_+=12}),x.setUint32(_,0,!0),S}const JQ="http://localhost:5428",eZ=(e=!1)=>{const[t,r]=O.useState({isConnected:!1,message:"Initializing...",hasDngConverter:!1});return O.useEffect(()=>{if(e){r({isConnected:!1,message:"Bridge Paused",hasDngConverter:!1});return}const n=async()=>{try{const o=new AbortController,i=setTimeout(()=>o.abort(),1e3),s=await fetch(`${JQ}/health`,{method:"GET",signal:o.signal});if(clearTimeout(i),s.ok){const l=await s.json(),c=`Connected (${l.exiftool||"Ready"})`;r(f=>f.isConnected===!0&&f.message===c&&f.version===l.exiftool&&f.hasDngConverter===!!l.dng_converter?f:{isConnected:!0,message:c,version:l.exiftool,hasDngConverter:!!l.dng_converter})}else r(l=>l.isConnected===!1&&l.message==="Service Error"?l:{isConnected:!1,message:"Service Error",hasDngConverter:!1})}catch{r(i=>i.isConnected===!1&&i.message==="Not Detected"?i:{isConnected:!1,message:"Not Detected",hasDngConverter:!1})}};n();const a=setInterval(n,2e3);return()=>clearInterval(a)},[e]),t},tZ="JTR_BlobStore",Oa="raw_files",rZ=1,Mh=()=>new Promise((e,t)=>{const r=indexedDB.open(tZ,rZ);r.onupgradeneeded=n=>{const a=n.target.result;a.objectStoreNames.contains(Oa)||a.createObjectStore(Oa)},r.onsuccess=()=>e(r.result),r.onerror=()=>t(r.error)}),w2=async(e,t)=>{const r=await Mh();return new Promise((n,a)=>{const o=r.transaction(Oa,"readwrite");o.objectStore(Oa).put(t,e),o.oncomplete=()=>n(),o.onerror=()=>a(o.error)})},nZ=async e=>{const t=await Mh();return new Promise((r,n)=>{const i=t.transaction(Oa,"readonly").objectStore(Oa).get(e);i.onsuccess=()=>r(i.result),i.onerror=()=>n(i.error)})},aZ=async()=>{const e=await Mh();return new Promise((t,r)=>{const n=e.transaction(Oa,"readwrite");n.objectStore(Oa).clear(),n.oncomplete=()=>t(),n.onerror=()=>r(n.error)})},vP="jtr_workspace_index",oZ=e=>{try{const t=JSON.stringify(e);localStorage.setItem(vP,t)}catch(t){console.error("Failed to save workspace index",t)}},iZ=()=>{try{const e=localStorage.getItem(vP);return e?JSON.parse(e):null}catch(e){return console.error("Failed to load workspace index",e),null}},sZ=async e=>{const n=(await Mh()).transaction(Oa,"readwrite").objectStore(Oa),a=n.getAllKeys();a.onsuccess=()=>{a.result.forEach(i=>{e.includes(i)||n.delete(i)})}},Dr=1024,k2=(e,t,r)=>{const n=e.width,a=e.height,o=new ImageData(t,r),i=e.data,s=o.data,l=n/t,c=a/r;for(let f=0;f<r;f++){const u=Math.floor(f*c),h=f*t*4,p=u*n*4;for(let m=0;m<t;m++){const b=Math.floor(m*l)*4,y=h+m*4,g=p+b;s[y]=i[g],s[y+1]=i[g+1],s[y+2]=i[g+2],s[y+3]=i[g+3]}}return o},lZ=({stats:e,onClose:t,onMinimize:r,isBGGR:n,onToggleBGGR:a,onOpenWindow:o,displaySettings:i,zIndex:s,onFocus:l})=>{if(!e)return null;const c=!!i.showKadc&&!!i.blackLevel,f=i.blackLevel||[0,0,0,0],u=!!i.subtractBlackLevelFromStats&&!!i.blackLevel,h=(b,y,g)=>{if(!c)return null;const v=y*y;return v<=1e-4?0:(b-g)/v},p=(b,y)=>u?b-f[y]:b,m=()=>{if(!u){alert(`Sub. BL
Please enable 'Sub. BL' in Tools sidebar first.`);return}let b,y,g,v;n?(v=0,y=1,g=2,b=3):(b=0,y=1,g=2,v=3);const S=k=>e.means[k]-f[k],x=k=>e.stdDevs[k];localStorage.setItem("import_signal_r",S(b).toString()),localStorage.setItem("import_signal_g1",S(y).toString()),localStorage.setItem("import_signal_g2",S(g).toString()),localStorage.setItem("import_signal_b",S(v).toString()),localStorage.setItem("import_sigma_r",x(b).toString()),localStorage.setItem("import_sigma_g1",x(y).toString()),localStorage.setItem("import_sigma_g2",x(g).toString()),localStorage.setItem("import_sigma_b",x(v).toString()),window.open("https://y-g-jiang.github.io/XJZS.html","_blank")},w=n?[{name:"B",desc:"(0,0)",mean:p(e.means[0],0),std:e.stdDevs[0],color:"text-blue-500",k:h(e.means[0],e.stdDevs[0],f[0])},{name:"G1",desc:"(0,1)",mean:p(e.means[1],1),std:e.stdDevs[1],color:"text-green-500",k:h(e.means[1],e.stdDevs[1],f[1])},{name:"G2",desc:"(1,0)",mean:p(e.means[2],2),std:e.stdDevs[2],color:"text-green-500",k:h(e.means[2],e.stdDevs[2],f[2])},{name:"R",desc:"(1,1)",mean:p(e.means[3],3),std:e.stdDevs[3],color:"text-red-500",k:h(e.means[3],e.stdDevs[3],f[3])}]:[{name:"R",desc:"(0,0)",mean:p(e.means[0],0),std:e.stdDevs[0],color:"text-red-500",k:h(e.means[0],e.stdDevs[0],f[0])},{name:"G1",desc:"(0,1)",mean:p(e.means[1],1),std:e.stdDevs[1],color:"text-green-500",k:h(e.means[1],e.stdDevs[1],f[1])},{name:"G2",desc:"(1,0)",mean:p(e.means[2],2),std:e.stdDevs[2],color:"text-green-500",k:h(e.means[2],e.stdDevs[2],f[2])},{name:"B",desc:"(1,1)",mean:p(e.means[3],3),std:e.stdDevs[3],color:"text-blue-500",k:h(e.means[3],e.stdDevs[3],f[3])}];return d.jsxs(WQ,{className:`${c?"w-80":"w-60"} p-0 overflow-hidden transition-all duration-300`,onClose:t,zIndex:s,onFocus:l,children:[d.jsxs("div",{className:"flex justify-between items-center px-3 py-2 border-b border-gray-100 dark:border-slate-800 bg-gray-50/50 dark:bg-slate-800/50",children:[d.jsxs("h3",{className:"text-xs font-bold text-gray-700 dark:text-slate-300 uppercase tracking-wider flex items-center gap-2",children:["ROI Analysis",d.jsxs("span",{className:"text-[10px] font-normal text-gray-400 bg-gray-200 dark:bg-slate-700 px-1.5 py-0.5 rounded",children:[Math.round(e.width),"",Math.round(e.height)]})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 transition-colors p-1 rounded-md hover:bg-gray-200 dark:hover:bg-slate-700 relative z-20",children:d.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),d.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 dark:hover:text-red-400 transition-colors p-1 rounded-md hover:bg-gray-200 dark:hover:bg-slate-700 relative z-20",children:d.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),d.jsxs("div",{className:"p-3",children:[d.jsxs("div",{className:"flex justify-between items-center mb-3",children:[d.jsxs("div",{className:"text-[10px] text-gray-400 dark:text-slate-500 font-mono leading-tight",children:["X: ",Math.round(e.x),d.jsx("br",{}),"Y: ",Math.round(e.y)]}),d.jsx("button",{onClick:()=>a(!n),className:"text-[10px] font-bold px-2 py-1 rounded bg-gray-100 hover:bg-gray-200 dark:bg-slate-800 dark:hover:bg-slate-700 text-gray-600 dark:text-slate-300 transition-colors border border-gray-200 dark:border-slate-700 relative z-20",title:"Toggle Bayer Pattern Interpretation",children:n?"BGGR":"RGGB"})]}),d.jsxs("table",{className:"w-full mb-3",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"text-[10px] text-gray-400 dark:text-slate-500 border-b border-gray-100 dark:border-slate-800",children:[d.jsx("th",{className:"text-left pb-1 font-medium",children:"Ch"}),d.jsxs("th",{className:"text-right pb-1 font-medium",children:["Mean",u?"*":""]}),d.jsx("th",{className:"text-right pb-1 font-medium",children:"Std()"}),c&&d.jsx("th",{className:"text-right pb-1 font-medium text-cyan-600 dark:text-cyan-400",children:"K(e/ADU)"})]})}),d.jsx("tbody",{className:"font-mono text-xs",children:w.map((b,y)=>d.jsxs("tr",{className:"group hover:bg-gray-50 dark:hover:bg-slate-800/30 transition-colors",children:[d.jsxs("td",{className:"py-1",children:[d.jsx("span",{className:`font-bold ${b.color}`,children:b.name}),d.jsx("span",{className:"text-[9px] text-gray-300 dark:text-slate-600 ml-1 hidden group-hover:inline",children:b.desc})]}),d.jsx("td",{className:"py-1 text-right text-gray-700 dark:text-slate-200 font-semibold",title:u?"Mean minus Black Level":"Raw Mean",children:b.mean.toFixed(2)}),d.jsx("td",{className:"py-1 text-right text-gray-500 dark:text-slate-400",children:b.std.toFixed(2)}),c&&d.jsx("td",{className:"py-1 text-right text-cyan-600 dark:text-cyan-400 font-bold",children:b.k!==null?b.k.toFixed(3):"-"})]},y))})]}),u&&d.jsx("div",{className:"mb-2 text-[9px] text-gray-400 dark:text-slate-500 text-right italic",children:"* Mean adjusted by Black Level"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:()=>o("histogram"),className:"relative z-20 flex-1 py-1.5 bg-cyan-600 hover:bg-cyan-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"View Histogram",children:[d.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Hist"]}),d.jsxs("button",{onClick:()=>o("quant"),className:"relative z-20 flex-1 py-1.5 bg-teal-600 hover:bg-teal-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"View Quantization Steps",children:[d.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),"Quant"]}),d.jsxs("button",{onClick:()=>o("fft"),className:"relative z-20 flex-1 py-1.5 bg-purple-600 hover:bg-purple-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"View Power Spectrum (FFT)",children:[d.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"FFT"]}),d.jsx("button",{onClick:m,className:"relative z-20 flex-1 py-1.5 bg-pink-600 hover:bg-pink-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"Color Noise Analysis (External Tool)",children:"ColorN"})]})]})]})},cZ=()=>{var rl;const[e,t]=O.useState(!0),[r,n]=O.useState("Initializing..."),a=O.useRef(!1),[o,i]=O.useState("dark");O.useEffect(()=>{const B=window.document.documentElement;B.classList.remove(o==="dark"?"light":"dark"),B.classList.add(o)},[o]);const[s,l]=O.useState(!1),[c,f]=O.useState(!1),u=eZ(s||c),[h,p]=O.useState(!1),[m,w]=O.useState([]),[b,y]=O.useState(-1),g=O.useMemo(()=>m[b],[m,b]),v=(g==null?void 0:g.file)||null,S=(g==null?void 0:g.imageElement)||null,x=(g==null?void 0:g.rawImageData)||null,k=(g==null?void 0:g.rawFileBuffer)||null,j=(g==null?void 0:g.renderedRawImageData)||null,_=(g==null?void 0:g.referenceImageData)||null,P=(g==null?void 0:g.sampledImageData)||null,N=(g==null?void 0:g.exifData)||null,A=(g==null?void 0:g.isThreePlane)||!1,C=(g==null?void 0:g.displaySettings)||{exposure:0,demosaicMethod:3,blackLevel:void 0,wbGains:[1,1],showKadc:!0,subtractBlackLevelFromStats:!0},[R,I]=O.useState(!1),[T,L]=O.useState(null),[U,D]=O.useState(!1),[z,W]=O.useState(!1),[te,Y]=O.useState(null),[X,F]=O.useState([]),[ue,fe]=O.useState(100),[Se,ce]=O.useState(!0),[J,de]=O.useState(!1),[ve,q]=O.useState(null),[Ke,we]=O.useState(!1),[st,Be]=O.useState(!1),[mt,lr]=O.useState(!1),[nr,yr]=O.useState(!1),[Wt,Zt]=O.useState(!1),[cr,Jt]=O.useState({x:0,y:0}),[ot,Hn]=O.useState(!1),[vr,Vn]=O.useState(!1),[Cr,Zr]=O.useState(2),[Za,Ut]=O.useState(1),[Kn,Ot]=O.useState([]),[jn,On]=O.useState(null),[Jr,_t]=O.useState(0),[Q,Fe]=O.useState([]),[Pt,Sr]=O.useState([]),[jr,Er]=O.useState(64),[en,Gt]=O.useState(10),[yt,ft]=O.useState(10),[Wr,fa]=O.useState(4),[H,he]=O.useState(1),[Ee,et]=O.useState(0),[dt,Ze]=O.useState("processed"),[Xe,vt]=O.useState(!1),er=O.useMemo(()=>C.blackLevel?C.blackLevel:x!=null&&x.blackLevels?[x.blackLevels[0],x.blackLevels[1],x.blackLevels[2],x.blackLevels[3]]:[0,0,0,0],[C.blackLevel,x]),xt=(N==null?void 0:N.ImageHeight)||(N==null?void 0:N.ExifImageHeight)||(x==null?void 0:x.height)||0,[tt,ee]=O.useState(null),[Bt,ht]=O.useState(null),[tn,_n]=O.useState({x:0,y:0}),[da,Ja]=O.useState(1),[hn,eo]=O.useState("pan"),Pa=O.useRef(null),Xn=O.useRef(null);O.useEffect(()=>{(async()=>{if(a.current)return;const K=iZ();if(K&&(n("Restoring layout..."),i(K.theme),ce(K.sidebarOpen),K.sessions.length>0)){n(`Restoring ${K.sessions.length} images...`);const re=[];for(const ne of K.sessions){if(a.current){console.log("Restoration cancelled.");return}await new Promise(me=>setTimeout(me,50));try{const me=await nZ(ne.id);if(me){const Te={id:ne.id,fileName:ne.fileName,file:null,imageElement:null,rawImageData:null,rawFileBuffer:me,renderedRawImageData:null,referenceImageData:null,sampledImageData:null,exifData:null,isThreePlane:ne.isThreePlane,displaySettings:ne.displaySettings},{previewBlob:qe,analysisData:Ie}=await Bp(me);let Ye=null;Ie&&(Ye=await v2(me,ne.displaySettings));const Pe=URL.createObjectURL(qe),He=new Image;He.src=Pe,await new Promise(rt=>{He.onload=()=>rt()}),re.push({...Te,rawImageData:Ie,renderedRawImageData:Ye,previewUrl:Pe,imageElement:He,exifData:Ie.metadata})}}catch(me){console.error(`Failed to restore session ${ne.id}`,me)}}if(a.current)return;if(w(re),K.activeSessionId){const ne=re.findIndex(me=>me.id===K.activeSessionId);ne>=0?y(ne):re.length>0&&y(0)}F(K.windows)}a.current||t(!1)})()},[]);const Js=O.useRef(null),ji=O.useCallback(()=>{e||(Js.current&&clearTimeout(Js.current),Js.current=window.setTimeout(async()=>{var re;const B={version:1,timestamp:Date.now(),activeSessionId:((re=m[b])==null?void 0:re.id)||null,theme:o,sidebarOpen:Se,sessions:m.map(ne=>({id:ne.id,fileName:ne.fileName,fileType:ne.file?ne.file.type:"application/octet-stream",fileSize:ne.rawFileBuffer?ne.rawFileBuffer.byteLength:0,displaySettings:ne.displaySettings,isThreePlane:ne.isThreePlane})),windows:X.map(ne=>({id:ne.id,type:ne.type,roi:ne.roi,zIndex:ne.zIndex,initialPosition:ne.initialPosition,sessionId:ne.sessionId,isBGGR:ne.isBGGR,isMinimized:ne.isMinimized||!1,internalState:ne.internalState}))};oZ(B);const K=m.map(ne=>ne.id);sZ(K)},1e3))},[m,X,b,o,Se,e]);O.useEffect(()=>{ji()},[ji]);const Lo=O.useCallback(async()=>{a.current=!0,n("Cleaning up..."),localStorage.removeItem("jtr_workspace_index");try{await aZ()}catch(B){console.error("Failed to clear DB",B)}window.location.reload()},[]),Pn=O.useCallback(B=>{w(K=>K.map((re,ne)=>ne===b?{...re,...B}:re))},[b]),Ch=()=>y(B=>Math.min(B+1,m.length-1)),Eh=()=>y(B=>Math.max(0,B-1));O.useEffect(()=>{if(x&&T){const B=Bu(x.data,x.width,x.height,T.x,T.y,T.width,T.height);L(B)}},[x]);const ru=B=>{if(!T||!g)return;const K=Date.now().toString()+Math.random().toString().slice(2,5),re=Math.max(ue,...X.map(Te=>Te.zIndex),100),ne=X.length%10*30,me=B==="fft"?{x:50,y:50}:B==="histogram"?{x:100,y:100}:{x:150,y:150};F(Te=>[...Te,{id:K,type:B,roi:{x:T.x,y:T.y,w:T.width,h:T.height},zIndex:re+1,initialPosition:{x:me.x+ne,y:me.y+ne},sessionId:g.id,isBGGR:U,isMinimized:!1}])},el=B=>{F(K=>K.filter(re=>re.id!==B))},Ro=B=>{F(K=>K.map(re=>re.id===B?{...re,isMinimized:!0}:re))},Oi=B=>{F(K=>K.map(re=>re.id===B?{...re,isMinimized:!1}:re)),nu(B)},nu=B=>{F(K=>{const re=Math.max(ue,...K.map(ne=>ne.zIndex));return K.map(ne=>ne.id===B?{...ne,zIndex:re+1}:ne)})},tl=(B,K)=>{F(re=>re.map(ne=>ne.id===B?{...ne,internalState:{...ne.internalState,...K}}:ne))},au=()=>{const B=Math.max(ue,...X.map(K=>K.zIndex));fe(B+1)},ou=(B,K)=>{F(re=>re.map(ne=>ne.id===B?{...ne,roi:K}:ne))};O.useEffect(()=>{if(!N)return;const B=N.CFAPattern2||N.CFAPattern;if(B){let K="";Array.isArray(B)?K=B.join(""):typeof B=="string"?K=B.replace(/[\s,]+/g,""):typeof B=="number"&&(K=String(B)),K==="0112"?D(!1):K==="2110"&&D(!0)}},[N]),O.useEffect(()=>{let B;const K=()=>{if(vr&&Wt){const re=Date.now()/1e3,ne=.55+.45*Math.sin(re*Cr);Ut(ne),B=requestAnimationFrame(K)}else Ut(1)};return vr&&Wt?K():Ut(1),()=>{B&&cancelAnimationFrame(B)}},[vr,Wt,Cr]),O.useEffect(()=>{const B=K=>{K.key==="Escape"&&Wt&&(Zt(!1),Jt({x:0,y:0}),Vn(!1))};return window.addEventListener("keydown",B),()=>window.removeEventListener("keydown",B)},[Wt]),O.useEffect(()=>()=>{m.forEach(B=>{B.previewUrl&&URL.revokeObjectURL(B.previewUrl)}),Xn.current&&Xn.current.terminate()},[]);const _i=async(B,K=!0)=>{K&&(_n({x:0,y:0}),Ja(1),_t(0),Fe([]),Sr([]),de(!1),q(null),I(!1));let re=null;if(u.isConnected){const Ie=new FormData;Ie.append("file",B);try{const Pe=await(await fetch("http://localhost:5428/read",{method:"POST",body:Ie})).json();if(Pe.success){let He=Pe.data;Array.isArray(He)&&He.length===1&&(He=He[0]),re=He}}catch(Ye){console.warn("Auto Exif fetch failed",Ye)}}const ne=B.name.toLowerCase().match(/\.(arw|cr2|cr3|dng|nef|orf|raf|rw2|pef|srw|sr2|srf|x3f|erf|mef|mos|mrw|kdc|dcr|iiq|3fr|fff|rwl|nrw|raw|tif|tiff)$/);if(!(["image/jpeg","image/png","image/tiff","image/x-adobe-dng"].includes(B.type)||ne)){ee("Unsupported file type. Please load a JPG, PNG, or a supported RAW file.");return}let Te={file:B,exifData:re};if(ne||B.type==="image/x-adobe-dng")try{K?ht("Processing RAW file (this may take a moment)..."):vt(!0);const Ie=await B.arrayBuffer();Te.rawFileBuffer=Ie;const{previewBlob:Ye,analysisData:Pe}=await Bp(Ie);Te.rawImageData=Pe,Te.isThreePlane=Pe.isThreePlane||!1,Pe.isThreePlane&&K&&I(!0);const He=URL.createObjectURL(Ye);Te.previewUrl=He;const rt=new Image;rt.src=He,await new Promise((se,Oe)=>{rt.onload=()=>{Te.imageElement=rt,se()},rt.onerror=()=>{ee("Could not load the RAW file preview."),se()}})}catch(Ie){ee(`Failed to process RAW file: ${Ie.message}`),ht(null),vt(!1);return}else try{ht("Processing image...");const{previewBlob:Ie,analysisData:Ye}=await MQ(B);Te.rawImageData=Ye,Te.rawFileBuffer=await B.arrayBuffer(),Te.isThreePlane=Ye.isThreePlane||!1;const Pe=URL.createObjectURL(Ie);Te.previewUrl=Pe;const He=new Image;He.src=Pe,await new Promise(rt=>{He.onload=()=>{Te.imageElement=He,rt()},He.onerror=()=>{ee("Could not load the image file."),rt()}})}catch(Ie){ee(`Failed to process image: ${Ie.message}`),ht(null);return}const qe=Date.now().toString()+Math.random();if(Te.rawFileBuffer&&await w2(qe,Te.rawFileBuffer),K){const Ie={exposure:0,demosaicMethod:3,blackLevel:void 0,wbGains:[1,1],showKadc:!0,subtractBlackLevelFromStats:!0},Ye={id:qe,fileName:B.name,file:B,imageElement:null,rawImageData:null,rawFileBuffer:null,renderedRawImageData:null,referenceImageData:null,sampledImageData:null,exifData:null,isThreePlane:!1,displaySettings:Ie,...Te};w(Pe=>{const He=[...Pe,Ye];return y(He.length-1),He})}else Pn(Te);ht(null),vt(!1)},$=async B=>{ht("Converting to DNG...");try{const K=new FormData;K.append("file",B);const re=await fetch("http://localhost:5428/convert_dng",{method:"POST",body:K}),ne=re.headers.get("content-type")||"";if(re.ok)if(ne.includes("application/json")){const me=await re.json();throw new Error(me.error||"Conversion failed")}else{const me=await re.blob(),Te=URL.createObjectURL(me),qe=document.createElement("a");qe.href=Te;const Ie=B.name,Ye=Ie.substring(0,Ie.lastIndexOf("."))+".dng"||"converted.dng";qe.download=Ye,document.body.appendChild(qe),qe.click(),document.body.removeChild(qe),URL.revokeObjectURL(Te);const Pe=new File([me],Ye,{type:"image/x-adobe-dng"});await _i(Pe,!0)}else{const me=await re.text();throw new Error(`HTTP ${re.status}: ${me}`)}}catch(K){ht(null),ee(`Conversion Error: ${K.message}`)}},V=(B,K)=>{B&&(K==="direct"?_i(B,!0):$(B))},Z=async B=>{var re;const K=(re=B.target.files)==null?void 0:re[0];K&&(await _i(K,!0),B.target.value="")},E=async(B,K,re,ne)=>{!B||!K||(ht("Processing Pair Difference (May take a while)..."),ee(null),setTimeout(async()=>{try{const me=await B.arrayBuffer(),Te=await K.arrayBuffer(),qe=await TQ(me,Te,re,ne),Ie=b2(qe.width,qe.height,qe.rawData),Ye=new File([Ie],`Diff_${B.name}_${K.name}.dng`,{type:"image/x-adobe-dng"});await _i(Ye,!0),ru("fft")}catch(me){console.error("Pair Processing Error",me),ee("Pair Processing Failed: "+me.message)}finally{ht(null)}},100))},le=async()=>{vt(!0);const B=128,K=B,re=B,ne=K*re,me=new Uint16Array(ne),Te=Ae=>{const ke=Ae/Wr+Ee;return Math.sin(2*Math.PI*ke)>=0?1:0},qe=32,Ie=H*.5,Ye=Math.max(1e-4,H/qe);for(let Ae=0;Ae<re;Ae++){let ke=0;const nt=Ae+.5-Ie;for(let Ht=0;Ht<qe;Ht++){const Or=nt+(Ht+.5)*Ye;ke+=Te(Or)}const pt=ke/qe,Me=Math.round(pt*65535);for(let Ht=0;Ht<K;Ht++)me[Ae*K+Ht]=Me}const Pe=new ImageData(Dr,Dr),He=Dr/K,rt=H/2;for(let Ae=0;Ae<Dr;Ae++){const ke=Ae/He,$t=Math.floor(ke),nt=ke-$t,pt=nt>=.5-rt&&nt<.5+rt;for(let Me=0;Me<Dr;Me++){const Ht=Me/He,Or=Math.floor(Ht),ha=Ht-Or,nl=ha>=.5-rt&&ha<.5+rt,rn=(Ae*Dr+Me)*4;if(Or>=K||$t>=re){Pe.data[rn]=30,Pe.data[rn+1]=34,Pe.data[rn+2]=40,Pe.data[rn+3]=255;continue}if(pt&&nl){const $h=me[$t*K+Or],al=Math.round($h/257);Pe.data[rn]=al,Pe.data[rn+1]=al,Pe.data[rn+2]=al,Pe.data[rn+3]=255}else Pe.data[rn]=30,Pe.data[rn+1]=34,Pe.data[rn+2]=40,Pe.data[rn+3]=255}}const se=new ImageData(Dr,Dr),Oe=re/Dr;for(let Ae=0;Ae<Dr;Ae++){const ke=(Ae+.5)*Oe,nt=Te(ke)>.5?255:0,pt=Ae*Dr*4;for(let Me=0;Me<Dr;Me++){const Ht=pt+Me*4;se.data[Ht]=nt,se.data[Ht+1]=nt,se.data[Ht+2]=nt,se.data[Ht+3]=255}}const $e=b2(K,re,me),Ne=new File([$e],"pattern_test.dng",{type:"image/x-adobe-dng"}),We=Date.now().toString();try{const{previewBlob:Ae,analysisData:ke}=await Bp($e.slice(0)),$t=await v2($e.slice(0),C),nt=k2($t,Dr,Dr),pt=URL.createObjectURL(Ae),Me=new Image;Me.src=pt,await new Promise(Or=>{Me.onload=()=>Or()}),await w2(We,$e);const Ht={file:Ne,rawFileBuffer:$e,rawImageData:ke,renderedRawImageData:nt,referenceImageData:se,sampledImageData:Pe,previewUrl:pt,imageElement:Me,isThreePlane:!1,displaySettings:C};(v==null?void 0:v.name)==="pattern_test.dng"?Pn(Ht):(w(Or=>{const ha={id:We,fileName:"pattern_test.dng",file:Ne,imageElement:Me,rawImageData:ke,rawFileBuffer:$e,renderedRawImageData:nt,referenceImageData:se,sampledImageData:Pe,exifData:null,isThreePlane:!1,previewUrl:pt,displaySettings:C};return[...Or,ha]}),y(Or=>m.length))}catch(Ae){console.error("Error generating pattern:",Ae),ee(`Error generating pattern: ${Ae.message}`)}vt(!1),ht(null)},xe=()=>{we(!0)},je=()=>{we(!1),Ze("sampled"),ht("Generating..."),setTimeout(()=>le(),50)},ze=O.useRef({period:Wr,fill:H,phase:Ee});O.useEffect(()=>{(v==null?void 0:v.name)==="pattern_test.dng"&&(ze.current.period!==Wr||ze.current.fill!==H||ze.current.phase!==Ee)&&(ze.current={period:Wr,fill:H,phase:Ee},le())},[Wr,H,Ee,v]);const Ge=O.useCallback(B=>{if(Pn({displaySettings:B}),!k)return;vt(!0),Xn.current&&Xn.current.terminate();const K=new Worker(new URL("/assets/renderWorker-DLg1Ssvk.js",import.meta.url),{type:"module"});Xn.current=K,K.onmessage=re=>{const{success:ne,imageData:me,error:Te}=re.data;if(ne){let qe=me;(v==null?void 0:v.name)==="pattern_test.dng"&&(qe=k2(me,Dr,Dr)),Pn({renderedRawImageData:qe})}else ee(Te||"Unknown worker error");vt(!1),K.terminate(),Xn.current=null},K.postMessage({buffer:k.slice(0),settings:B})},[k,v,Pn]);let Ce=j||S;dt==="reference"&&_?Ce=_:dt==="sampled"&&P&&(Ce=P);const kt=Bt||Xe,lt=B=>{if(Pa.current){const K=Pa.current,{width:re,height:ne}=K.getBoundingClientRect(),me=re/2,Te=ne/2,qe=B/da,Ie=me-(me-tn.x)*qe,Ye=Te-(Te-tn.y)*qe;_n({x:Ie,y:Ye})}Ja(B)},Nt=B=>{if(!B)return;if(!x){L(null);return}z&&W(!1),au();const K=Bu(x.data,x.width,x.height,B.x,B.y,B.w,B.h);L(K)},qt=B=>{Y(B),Nt(B)},oe=()=>{eo(B=>B==="pan"?"select":"pan")},Ve=B=>{if(Jr===0||Jr>4)return;const K=[...Q,B];Fe(K),Jr===4?(Tt(K),_t(0)):_t(Jr+1)},be=(B,K,re,ne)=>{const me=B[0],Te=B[1],qe=B[2],Ie=B[3],Ye=K/2,Pe=[];for(let He=0;He<re;He++){const rt=re>1?He/(re-1):.5;for(let se=0;se<ne;se++){const Oe=ne>1?se/(ne-1):.5,$e=me.x*(1-Oe)+Te.x*Oe,Ne=me.y*(1-Oe)+Te.y*Oe,We=qe.x*(1-Oe)+Ie.x*Oe,Ae=qe.y*(1-Oe)+Ie.y*Oe,ke=$e*(1-rt)+We*rt,$t=Ne*(1-rt)+Ae*rt,nt=ke-Ye,pt=$t-Ye;Pe.push({x:nt,y:pt,w:K,h:K})}}return Pe},Tt=B=>{x&&(ht("Calculating DR Lab Grid..."),setTimeout(()=>{try{const K=be(B,jr,en,yt);Sr(K);const Te=[...[`#BlackLevel: ${(C.blackLevel||[0,0,0,0]).join(",")}`,`#ImageHeight: ${x.height}`],"Row,Col,R_Mean,G1_Mean,G2_Mean,B_Mean,R_Std,G1_Std,G2_Std,B_Std"];K.forEach((He,rt)=>{const se=Math.floor(rt/yt)+1,Oe=rt%yt+1,$e=Bu(x.data,x.width,x.height,He.x,He.y,He.w,He.h),Ne=$e.means,We=$e.stdDevs,Ae=`${se},${Oe},${Ne[0].toFixed(4)},${Ne[1].toFixed(4)},${Ne[2].toFixed(4)},${Ne[3].toFixed(4)},${We[0].toFixed(4)},${We[1].toFixed(4)},${We[2].toFixed(4)},${We[3].toFixed(4)}`;Te.push(Ae)});const qe=Te.join(`
`),Ie=new Blob([qe],{type:"text/csv;charset=utf-8;"}),Ye=URL.createObjectURL(Ie),Pe=document.createElement("a");Pe.setAttribute("href",Ye),Pe.setAttribute("download","dr_lab_results.csv"),document.body.appendChild(Pe),Pe.click(),document.body.removeChild(Pe),URL.revokeObjectURL(Ye),Fe([])}catch(K){ee("DR Lab Error: "+K.message)}finally{ht(null)}},100))},St=async B=>{if(Q.length<4&&Pt.length<1){ee("Please mark the grid on an image first before running batch processing.");return}let K=Pt;if(K.length===0&&Q.length===4&&(K=be(Q,jr,en,yt)),K.length===0){ee("No grid definitions found. Mark corners first.");return}ht("Batch Processing...");const ne=(C.blackLevel||[0,0,0,0]).join(","),me=x?x.height:0,qe=[...[`#BlackLevel: ${ne}`,`#ImageHeight: ${me}`],"Filename,Row,Col,R_Mean,G1_Mean,G2_Mean,B_Mean,R_Std,G1_Std,G2_Std,B_Std"],Ie=Array.from(B);try{for(let se=0;se<Ie.length;se++){const Oe=Ie[se];ht(`Processing ${se+1}/${Ie.length}: ${Oe.name}...`);const $e=await Oe.arrayBuffer(),Ne=await EQ($e);K.forEach((We,Ae)=>{const ke=Math.floor(Ae/yt)+1,$t=Ae%yt+1,nt=Bu(Ne.data,Ne.width,Ne.height,We.x,We.y,We.w,We.h),pt=nt.means,Me=nt.stdDevs,Ht=`${Oe.name},${ke},${$t},${pt[0].toFixed(4)},${pt[1].toFixed(4)},${pt[2].toFixed(4)},${pt[3].toFixed(4)},${Me[0].toFixed(4)},${Me[1].toFixed(4)},${Me[2].toFixed(4)},${Me[3].toFixed(4)}`;qe.push(Ht)})}const Ye=qe.join(`
`),Pe=new Blob([Ye],{type:"text/csv;charset=utf-8;"}),He=URL.createObjectURL(Pe),rt=document.createElement("a");rt.href=He,rt.setAttribute("download",`dr_lab_batch_${new Date().getTime()}.csv`),document.body.appendChild(rt),rt.click(),document.body.removeChild(rt),URL.revokeObjectURL(He)}catch(Ye){console.error("Batch Error",Ye),ee("Batch Processing Failed: "+Ye.message)}finally{ht(null)}},Ur=()=>{if(!x){ee("Please load an image first.");return}Sr([]),Fe([]),_t(1)},ct=async()=>{if(!v)return;if(u.isConnected?q(null):q(`JiangBridge Offline
JiangBridge Offline, limited content shown only`),u.isConnected){ht("Reading EXIF (JiangBridge)...");try{const K=new FormData;K.append("file",v);const re=await fetch("http://localhost:5428/read",{method:"POST",body:K});if(!re.ok)throw new Error(`Bridge error: ${re.statusText}`);const ne=await re.json();if(ne.success){let me=ne.data;Array.isArray(me)&&me.length===1&&(me=me[0]),Pn({exifData:me}),de(!0),ht(null);return}else console.warn("Bridge returned error:",ne.error)}catch(K){console.warn("Bridge fetch failed, falling back to LibRaw:",K)}ht(null)}if(!x){ee("No image data available.");return}const B=x.metadata;if(!B){ee("No metadata found for this image.");return}Pn({exifData:B}),de(!0)},ar=O.useCallback(async B=>{ht("Parsing CSV files...");const K=[];let re,ne;try{const me=Array.from(B).map((Te,qe)=>new Promise((Ie,Ye)=>{const Pe=new FileReader;Pe.onload=He=>{var $e;const rt=($e=He.target)==null?void 0:$e.result;if(!rt)return Ie();const se=rt.split(`
`);let Oe=-1;for(let Ne=0;Ne<se.length;Ne++){const We=se[Ne].trim();if(We){if(qe===0&&We.startsWith("#")){if(We.startsWith("#BlackLevel:")){const ke=We.replace("#BlackLevel:","").trim().split(/[\s,]+/).map(Number);ke.length>=4&&!ke.some(isNaN)&&(re=[ke[0],ke[1],ke[2],ke[3]])}else if(We.startsWith("#ImageHeight:")){const Ae=We.replace("#ImageHeight:","").trim(),ke=parseInt(Ae);!isNaN(ke)&&ke>0&&(ne=ke)}continue}if(We.startsWith("Row")||We.startsWith("Filename")){Oe=Ne+1;break}}}Oe===-1&&(Oe=1);for(let Ne=Oe;Ne<se.length;Ne++){const We=se[Ne].trim();if(!We||We.startsWith("#"))continue;const Ae=We.split(",");let ke=0;if(isNaN(Number(Ae[0]))&&(ke=1),Ae.length<10+ke)continue;const $t=ke===1?Ae[0]:Te.name,nt=Ae.map(Number),pt=nt[0+ke],Me=nt[1+ke],Ht=nt[2+ke],Or=nt[3+ke],ha=nt[4+ke],nl=nt[5+ke],rn=nt[6+ke],$h=nt[7+ke],al=nt[8+ke],bP=nt[9+ke];Ht>0&&K.push({channel:"R",mean:Ht,std:rn,filename:$t,row:pt,col:Me}),Or>0&&K.push({channel:"G1",mean:Or,std:$h,filename:$t,row:pt,col:Me}),ha>0&&K.push({channel:"G2",mean:ha,std:al,filename:$t,row:pt,col:Me}),nl>0&&K.push({channel:"B",mean:nl,std:bP,filename:$t,row:pt,col:Me})}Ie()},Pe.onerror=Ye,Pe.readAsText(Te)}));await Promise.all(me),Ot(K),On(re||ne?{blackLevel:re,height:ne}:null),l(!0)}catch(me){ee("Failed to parse CSV files: "+me.message)}finally{ht(null)}},[]),Gr=B=>{B.button===0&&Hn(!0)},Nn=O.useCallback(B=>{ot&&Jt(K=>({x:K.x+B.movementX,y:K.y+B.movementY}))},[ot]),to=O.useCallback(()=>{Hn(!1)},[]);O.useEffect(()=>(ot?(window.addEventListener("mousemove",Nn),window.addEventListener("mouseup",to)):(window.removeEventListener("mousemove",Nn),window.removeEventListener("mouseup",to)),()=>{window.removeEventListener("mousemove",Nn),window.removeEventListener("mouseup",to)}),[ot,Nn,to]);const Th=()=>{if(!k||!v)return;const B=v.name||"pattern_test.dng",K=new Blob([k],{type:"image/x-adobe-dng"}),re=URL.createObjectURL(K),ne=document.createElement("a");ne.href=re,ne.download=B,document.body.appendChild(ne),ne.click(),document.body.removeChild(ne),URL.revokeObjectURL(re)};return e?d.jsxs("div",{className:"flex flex-col h-screen items-center justify-center bg-gray-50 dark:bg-slate-950 text-gray-900 dark:text-slate-200",children:[d.jsx("div",{className:"w-12 h-12 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mb-4"}),d.jsx("h2",{className:"text-xl font-bold animate-pulse",children:r}),d.jsx("p",{className:"text-sm text-gray-500 mt-2 mb-6",children:"Loading stored buffers from database..."}),d.jsx("button",{onClick:Lo,className:"px-6 py-2 bg-red-100 hover:bg-red-200 dark:bg-red-900/30 dark:hover:bg-red-900/50 text-red-700 dark:text-red-300 font-bold rounded-lg transition-colors border border-red-200 dark:border-red-800 text-sm",children:"Abandon Saved Session (Start Fresh)"})]}):d.jsxs("div",{className:"flex flex-col h-screen bg-white dark:bg-slate-950 text-gray-900 dark:text-slate-200 font-sans transition-colors duration-300",children:[d.jsx("div",{className:"p-4 pb-0",children:d.jsx(qA,{onLoadImage:Z,onFileSelected:V,onGenerateFakeDng:xe,fileName:v?v.name:null,hasGeneratedData:!!((v==null?void 0:v.name)==="pattern_test.dng"||_),viewMode:dt,onSetViewMode:Ze,patternPeriod:Wr,onPatternPeriodChange:fa,fillFactor:H,onFillFactorChange:he,patternPhase:Ee,onPatternPhaseChange:et,showPatternControls:(v==null?void 0:v.name)==="pattern_test.dng",onOpenAbout:()=>Be(!0),onShowExif:ct,bridgeStatus:u,onBridgeClick:()=>p(!0),isDrLabOpen:mt,onToggleDrLab:()=>{lr(!mt),_t(0),Fe([]),Sr([]),nr&&yr(!1)},isFftLabOpen:nr,onToggleFftLab:()=>{yr(!nr),mt&&lr(!1)},onGenerateTestPic:()=>Zt(!0),onPTCFilesSelected:ar,onDownloadDng:Th,isThreePlane:A,onOpenDatabase:()=>f(!0)})}),d.jsxs("div",{className:"flex flex-1 overflow-hidden p-4 pt-2 gap-4 relative",children:[d.jsxs("div",{className:"flex-1 relative bg-gray-100 dark:bg-slate-900 rounded-2xl border border-gray-200 dark:border-slate-800 shadow-inner overflow-hidden transition-colors duration-300",ref:Pa,children:[kt&&d.jsxs("div",{className:"absolute bottom-4 right-4 z-50 flex items-center gap-2 bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm px-3 py-1.5 rounded-full border border-cyan-500/30 shadow-sm",children:[d.jsx("div",{className:"w-4 h-4 border-2 border-cyan-500 border-t-transparent rounded-full animate-spin"}),d.jsx("span",{className:"text-xs text-cyan-600 dark:text-cyan-400 font-mono",children:Bt||"Processing..."})]}),m.length>1&&d.jsxs("div",{className:"absolute bottom-4 right-20 z-50 flex items-center gap-2 bg-white/90 dark:bg-slate-800/90 backdrop-blur-sm px-3 py-1.5 rounded-lg border border-gray-200 dark:border-slate-700 shadow-lg text-sm font-mono text-gray-700 dark:text-slate-200",children:[d.jsx("button",{onClick:Eh,disabled:b<=0,className:"hover:text-cyan-500 disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"Previous Image",children:d.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),d.jsxs("span",{className:"min-w-[3rem] text-center select-none font-bold",children:[b+1," / ",m.length]}),d.jsx("button",{onClick:Ch,disabled:b>=m.length-1,className:"hover:text-cyan-500 disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"Next Image",children:d.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),d.jsxs("div",{className:"absolute bottom-4 left-4 z-50 flex flex-col-reverse gap-2 items-start pointer-events-none",children:[z&&T&&d.jsxs("div",{className:"pointer-events-auto flex items-center gap-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg shadow-lg overflow-hidden animate-in slide-in-from-bottom-2 fade-in",children:[d.jsxs("button",{onClick:()=>W(!1),className:"px-3 py-1.5 text-xs font-bold text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors flex items-center gap-2",children:[d.jsx("span",{className:"w-2 h-2 rounded-full bg-cyan-500"}),"ROI Stats"]}),d.jsx("button",{onClick:()=>{W(!1),L(null)},className:"px-2 py-1.5 text-gray-400 hover:text-red-500 hover:bg-gray-100 dark:hover:bg-slate-700 border-l border-gray-200 dark:border-slate-700 transition-colors",children:d.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),X.filter(B=>B.isMinimized).map(B=>{let K="Window",re="bg-gray-500";return B.type==="histogram"?(K="Histogram",re="bg-purple-500"):B.type==="fft"?(K="FFT Spectrum",re="bg-fuchsia-500"):B.type==="quant"&&(K="Quantization",re="bg-teal-500"),d.jsxs("div",{className:"pointer-events-auto flex items-center gap-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg shadow-lg overflow-hidden animate-in slide-in-from-bottom-2 fade-in",children:[d.jsxs("button",{onClick:()=>Oi(B.id),className:"px-3 py-1.5 text-xs font-bold text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors flex items-center gap-2",children:[d.jsx("span",{className:`w-2 h-2 rounded-full ${re}`}),K]}),d.jsx("button",{onClick:()=>el(B.id),className:"px-2 py-1.5 text-gray-400 hover:text-red-500 hover:bg-gray-100 dark:hover:bg-slate-700 border-l border-gray-200 dark:border-slate-700 transition-colors",children:d.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},B.id)})]}),!z&&d.jsx(lZ,{stats:T,onClose:()=>{L(null),Y(null)},onMinimize:()=>W(!0),isBGGR:U,onToggleBGGR:D,onOpenWindow:ru,displaySettings:C,zIndex:ue,onFocus:au}),d.jsx(ti,{isOpen:Ke,onClose:()=>we(!1),onConfirm:je,title:"High Resource Usage Warning",message:"Pattern DNG mode involves high-frequency refreshing and heavy computation. Due to current memory management limitations, repeated use may lead to browser memory overflow or crashes. Please proceed with caution."}),d.jsx(ti,{isOpen:h,onClose:()=>p(!1),onConfirm:()=>{window.open("https://y-g-jiang.github.io/jiangbridge.exe","_blank"),p(!1)},title:"Connect to JiangBridge",confirmText:"Download Bridge App",cancelText:"Cancel",message:d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsx("p",{className:"font-bold",children:"JiangBridge"}),d.jsx("p",{className:"text-sm opacity-80",children:'JiangBridge is optional for this webpage, but recommended for full functionality. Simply double-click and run it once after system startup.If the indicator light does not turn green after double-clicking, please consider checking whether the web page is allowed to "View and connect to any device on the network".'})]})}),d.jsx(ti,{isOpen:R,onClose:()=>I(!1),onConfirm:()=>I(!1),title:" 3-Plane / Full Color Detected (/)",confirmText:"I Understand",cancelText:"Dismiss",message:d.jsxs("div",{className:"flex flex-col gap-2 text-left",children:[d.jsx("p",{className:"font-bold text-base",children:"/ (Non-Bayer/3-Plane detected)"}),d.jsx("p",{children:"This image contains 3 fully formed color channels (RGB/YUV), not a single-plane Bayer mosaic."}),d.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm opacity-90 mt-2",children:[d.jsx("li",{children:"Bayer RAW (Optimized for Bayer RAW)."}),d.jsx("li",{children:" (Entering compatibility mode)."}),d.jsx("li",{children:" (Some features like Demosaic selection are disabled)."}),d.jsx("li",{children:"Bayer (Data will be treated as pseudo-Bayer for analysis)."})]})]})}),d.jsx(GQ,{isOpen:st,onClose:()=>Be(!1)}),d.jsx(HQ,{isOpen:J,onClose:()=>de(!1),data:N,fileName:v?v.name:"",warning:ve}),d.jsx(KQ,{isOpen:s,onClose:()=>l(!1),data:Kn,blackLevel:er,imageHeight:xt,isBGGR:U,importedMetadata:jn||void 0,theme:o,initialCameraModel:(N==null?void 0:N.Model)||"",initialISO:(N==null?void 0:N.ISO)||((rl=N==null?void 0:N.ISOSpeedRatings)==null?void 0:rl.toString())||""}),d.jsx(ZQ,{isOpen:c,onClose:()=>f(!1),theme:o}),X.map(B=>{if(B.isMinimized)return null;const K=m.find(me=>me.id===B.sessionId),re=K==null?void 0:K.rawImageData;if(!re)return null;const ne={key:B.id,isOpen:!0,onClose:()=>el(B.id),onMinimize:()=>Ro(B.id),rawImageData:re,roi:B.roi,isBGGR:B.isBGGR,zIndex:B.zIndex,onFocus:()=>nu(B.id),initialPosition:B.initialPosition,initialInternalState:B.internalState,onUpdateState:me=>tl(B.id,me)};return B.type==="histogram"?d.jsx(RQ,{...ne}):B.type==="fft"?d.jsx(FQ,{...ne,onUpdateROI:me=>ou(B.id,me)}):B.type==="quant"?d.jsx(zQ,{...ne}):null}),tt&&d.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-white/90 dark:bg-slate-900/90 p-8",children:d.jsxs("div",{className:"max-w-md text-center p-6 bg-white dark:bg-slate-800 rounded-xl border border-red-500/50 shadow-xl",children:[d.jsx("h3",{className:"text-xl font-bold text-red-500 dark:text-red-400 mb-2",children:"Notice"}),d.jsx("p",{className:"text-gray-600 dark:text-slate-300 mb-6 whitespace-pre-wrap",children:tt}),d.jsx("button",{onClick:()=>ee(null),className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 dark:bg-slate-700 dark:hover:bg-slate-600 rounded-lg text-gray-900 dark:text-white transition-colors",children:"Dismiss"})]})}),!Ce&&!kt&&!tt&&d.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-gray-400 dark:text-slate-600 select-none",children:d.jsx("p",{className:"text-lg",children:"Load an image or generate a pattern"})}),d.jsx(YA,{image:Ce,zoom:da,pan:tn,onPanChange:_n,onZoomChange:lt,onSelectionChange:Nt,forcedSelection:te,theme:o,touchAction:hn,isMarking:Jr>0,onPointClick:Ve,markers:Q,gridRects:Pt}),d.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-1/2 z-30 pointer-events-none select-none opacity-20 mix-blend-normal dark:mix-blend-plus-lighter",children:d.jsx("svg",{viewBox:"0 0 500 60",className:"w-full h-auto drop-shadow-xl",children:d.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"36",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})}),x&&!Jr&&d.jsxs("div",{className:"absolute bottom-4 left-4 z-30 pointer-events-none opacity-50 text-[10px] text-gray-500 dark:text-slate-400",children:["Hold ",d.jsx("b",{children:"Shift"})," + Drag to calculate Raw ROI stats"]}),d.jsx(iM,{zoom:da,onZoomChange:lt,onResetView:()=>{Ja(1),_n({x:0,y:0})},touchAction:hn,onToggleTouchAction:oe}),!Se&&d.jsx("button",{onClick:()=>ce(!0),className:"absolute right-0 top-1/2 -translate-y-1/2 z-50 bg-white dark:bg-slate-900 border-y border-l border-gray-200 dark:border-slate-800 shadow-md p-1.5 rounded-l-lg hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors animate-in fade-in slide-in-from-right-2",title:"Show Tools",children:d.jsx("svg",{className:"w-4 h-4 text-gray-500 dark:text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})})]}),d.jsxs("div",{className:`flex-shrink-0 flex flex-col bg-white dark:bg-slate-900 rounded-2xl border border-gray-200 dark:border-slate-800 shadow-xl overflow-hidden transition-all duration-300 ease-in-out ${Se?"w-80 translate-x-0 opacity-100 ml-0":"w-0 translate-x-20 opacity-0 p-0 border-0 pointer-events-none ml-0"}`,children:[d.jsxs("div",{className:"flex justify-between items-center px-4 py-3 border-b border-gray-200 dark:border-slate-800 bg-gray-50/50 dark:bg-slate-800/50 flex-shrink-0",children:[d.jsx("h2",{className:"font-bold text-sm text-gray-700 dark:text-slate-300 uppercase tracking-wide flex items-center gap-2",children:d.jsx("span",{children:"Tools"})}),d.jsx("button",{onClick:()=>ce(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 transition-colors p-1 rounded hover:bg-gray-200 dark:hover:bg-slate-700",title:"Hide Tools",children:d.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),d.jsx("div",{className:"flex-1 overflow-hidden relative",children:d.jsx(ZA,{rawImageData:x,displaySettings:C,onApplyDisplaySettings:Ge,onSetSelection:qt,exifData:N,isBridgeConnected:u.isConnected,isDrLabOpen:mt,drMarkingStep:Jr,onStartMarking:Ur,onGenerateTestPic:()=>Zt(!0),drRoiSize:jr,onDrRoiSizeChange:Er,drGridRows:en,onDrGridRowsChange:Gt,drGridCols:yt,onDrGridColsChange:ft,onBatchDrLab:St,hasDrMarkers:Pt.length>0||Q.length===4,isFftLabOpen:nr,onProcessPair:E,isThreePlane:x==null?void 0:x.isThreePlane})})]})]}),Wt&&d.jsxs("div",{className:"fixed inset-0 z-[200] bg-black overflow-hidden",children:[d.jsx("div",{onMouseDown:Gr,style:{transform:`translate(${cr.x}px, ${cr.y}px)`,cursor:ot?"grabbing":"grab",opacity:Za,transition:"opacity 0.1s linear"},className:"w-full h-full flex items-center justify-center",children:d.jsx("img",{src:"/drtest.png",alt:"DR Test",className:"max-w-full max-h-full object-contain pointer-events-none select-none",draggable:!1})}),d.jsxs("div",{className:"absolute top-4 right-4 flex flex-col items-end gap-2 pointer-events-none z-[201]",children:[d.jsx("div",{className:"text-white/50 text-sm bg-black/50 px-3 py-1 rounded backdrop-blur-sm",children:"Press ESC to exit | Drag to move"}),d.jsx("div",{className:"text-white/20 text-xs px-2 select-none",children:"F11 full screen"}),d.jsx("div",{className:"text-red-900/80 text-lg px-2 select-none font-bold mt-4",children:""}),d.jsx("div",{className:"text-red-900/60 text-xs px-2 select-none",children:"Shoot slightly out of focus"})]}),d.jsxs("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 bg-black/60 backdrop-blur-md p-4 rounded-xl border border-gray-700 flex flex-col gap-3 items-center z-[202]",children:[d.jsx("button",{onClick:()=>Vn(!vr),className:`px-4 py-2 rounded-lg font-bold text-sm transition-colors ${vr?"bg-amber-500 text-black hover:bg-amber-400":"bg-gray-700 text-white hover:bg-gray-600"}`,children:vr?"Stop Breathing":"Start Breathing"}),vr&&d.jsxs("div",{className:"flex items-center gap-3 w-64 animate-in fade-in",children:[d.jsx("span",{className:"text-xs text-gray-400 font-bold uppercase",children:"Speed"}),d.jsx("input",{type:"range",min:"0.5",max:"10",step:"0.5",value:Cr,onChange:B=>Zr(parseFloat(B.target.value)),className:"flex-1 h-1.5 bg-gray-600 rounded-lg appearance-none cursor-pointer accent-amber-500"}),d.jsx("span",{className:"text-xs text-amber-500 w-8 text-right",children:Cr.toFixed(1)})]})]})]}),d.jsx(sM,{theme:o,setTheme:i})]})},xP=document.getElementById("root");if(!xP)throw new Error("Could not find root element to mount to");const uZ=Wp.createRoot(xP);uZ.render(d.jsx(M.StrictMode,{children:d.jsx(cZ,{})}));export{PQ as _};
