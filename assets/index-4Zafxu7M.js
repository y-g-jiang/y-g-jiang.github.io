var PP=Object.defineProperty;var NP=(e,t,r)=>t in e?PP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var en=(e,t,r)=>NP(e,typeof t!="symbol"?t+"":t,r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();var uu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var A2={exports:{}},Ad={},M2={exports:{}},Qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kc=Symbol.for("react.element"),AP=Symbol.for("react.portal"),MP=Symbol.for("react.fragment"),CP=Symbol.for("react.strict_mode"),EP=Symbol.for("react.profiler"),TP=Symbol.for("react.provider"),$P=Symbol.for("react.context"),DP=Symbol.for("react.forward_ref"),LP=Symbol.for("react.suspense"),RP=Symbol.for("react.memo"),IP=Symbol.for("react.lazy"),yv=Symbol.iterator;function BP(e){return e===null||typeof e!="object"?null:(e=yv&&e[yv]||e["@@iterator"],typeof e=="function"?e:null)}var C2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E2=Object.assign,T2={};function Gs(e,t,r){this.props=e,this.context=t,this.refs=T2,this.updater=r||C2}Gs.prototype.isReactComponent={};Gs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Gs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function $2(){}$2.prototype=Gs.prototype;function pm(e,t,r){this.props=e,this.context=t,this.refs=T2,this.updater=r||C2}var gm=pm.prototype=new $2;gm.constructor=pm;E2(gm,Gs.prototype);gm.isPureReactComponent=!0;var vv=Array.isArray,D2=Object.prototype.hasOwnProperty,mm={current:null},L2={key:!0,ref:!0,__self:!0,__source:!0};function R2(e,t,r){var n,a={},o=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)D2.call(t,n)&&!L2.hasOwnProperty(n)&&(a[n]=t[n]);var s=arguments.length-2;if(s===1)a.children=r;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(n in s=e.defaultProps,s)a[n]===void 0&&(a[n]=s[n]);return{$$typeof:Kc,type:e,key:o,ref:i,props:a,_owner:mm.current}}function FP(e,t){return{$$typeof:Kc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ym(e){return typeof e=="object"&&e!==null&&e.$$typeof===Kc}function zP(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var xv=/\/+/g;function Ih(e,t){return typeof e=="object"&&e!==null&&e.key!=null?zP(""+e.key):t.toString(36)}function Uu(e,t,r,n,a){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Kc:case AP:i=!0}}if(i)return i=e,a=a(i),e=n===""?"."+Ih(i,0):n,vv(a)?(r="",e!=null&&(r=e.replace(xv,"$&/")+"/"),Uu(a,t,r,"",function(c){return c})):a!=null&&(ym(a)&&(a=FP(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(xv,"$&/")+"/")+e)),t.push(a)),1;if(i=0,n=n===""?".":n+":",vv(e))for(var s=0;s<e.length;s++){o=e[s];var l=n+Ih(o,s);i+=Uu(o,t,r,l,a)}else if(l=BP(e),typeof l=="function")for(e=l.call(e),s=0;!(o=e.next()).done;)o=o.value,l=n+Ih(o,s++),i+=Uu(o,t,r,l,a);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function fu(e,t,r){if(e==null)return e;var n=[],a=0;return Uu(e,n,"","",function(o){return t.call(r,o,a++)}),n}function WP(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var sn={current:null},Gu={transition:null},UP={ReactCurrentDispatcher:sn,ReactCurrentBatchConfig:Gu,ReactCurrentOwner:mm};function I2(){throw Error("act(...) is not supported in production builds of React.")}Qe.Children={map:fu,forEach:function(e,t,r){fu(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return fu(e,function(){t++}),t},toArray:function(e){return fu(e,function(t){return t})||[]},only:function(e){if(!ym(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Qe.Component=Gs;Qe.Fragment=MP;Qe.Profiler=EP;Qe.PureComponent=pm;Qe.StrictMode=CP;Qe.Suspense=LP;Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UP;Qe.act=I2;Qe.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=E2({},e.props),a=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=mm.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)D2.call(t,l)&&!L2.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];n.children=s}return{$$typeof:Kc,type:e.type,key:a,ref:o,props:n,_owner:i}};Qe.createContext=function(e){return e={$$typeof:$P,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:TP,_context:e},e.Consumer=e};Qe.createElement=R2;Qe.createFactory=function(e){var t=R2.bind(null,e);return t.type=e,t};Qe.createRef=function(){return{current:null}};Qe.forwardRef=function(e){return{$$typeof:DP,render:e}};Qe.isValidElement=ym;Qe.lazy=function(e){return{$$typeof:IP,_payload:{_status:-1,_result:e},_init:WP}};Qe.memo=function(e,t){return{$$typeof:RP,type:e,compare:t===void 0?null:t}};Qe.startTransition=function(e){var t=Gu.transition;Gu.transition={};try{e()}finally{Gu.transition=t}};Qe.unstable_act=I2;Qe.useCallback=function(e,t){return sn.current.useCallback(e,t)};Qe.useContext=function(e){return sn.current.useContext(e)};Qe.useDebugValue=function(){};Qe.useDeferredValue=function(e){return sn.current.useDeferredValue(e)};Qe.useEffect=function(e,t){return sn.current.useEffect(e,t)};Qe.useId=function(){return sn.current.useId()};Qe.useImperativeHandle=function(e,t,r){return sn.current.useImperativeHandle(e,t,r)};Qe.useInsertionEffect=function(e,t){return sn.current.useInsertionEffect(e,t)};Qe.useLayoutEffect=function(e,t){return sn.current.useLayoutEffect(e,t)};Qe.useMemo=function(e,t){return sn.current.useMemo(e,t)};Qe.useReducer=function(e,t,r){return sn.current.useReducer(e,t,r)};Qe.useRef=function(e){return sn.current.useRef(e)};Qe.useState=function(e){return sn.current.useState(e)};Qe.useSyncExternalStore=function(e,t,r){return sn.current.useSyncExternalStore(e,t,r)};Qe.useTransition=function(){return sn.current.useTransition()};Qe.version="18.3.1";M2.exports=Qe;var O=M2.exports;const C=Pt(O);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GP=O,HP=Symbol.for("react.element"),VP=Symbol.for("react.fragment"),KP=Object.prototype.hasOwnProperty,XP=GP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qP={key:!0,ref:!0,__self:!0,__source:!0};function B2(e,t,r){var n,a={},o=null,i=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)KP.call(t,n)&&!qP.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:HP,type:e,key:o,ref:i,props:a,_owner:XP.current}}Ad.Fragment=VP;Ad.jsx=B2;Ad.jsxs=B2;A2.exports=Ad;var f=A2.exports,Hp={},F2={exports:{}},En={},z2={exports:{}},W2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,z){var W=D.length;D.push(z);e:for(;0<W;){var te=W-1>>>1,q=D[te];if(0<a(q,z))D[te]=z,D[W]=q,W=te;else break e}}function r(D){return D.length===0?null:D[0]}function n(D){if(D.length===0)return null;var z=D[0],W=D.pop();if(W!==z){D[0]=W;e:for(var te=0,q=D.length,Z=q>>>1;te<Z;){var U=2*(te+1)-1,de=D[U],ne=U+1,Me=D[ne];if(0>a(de,W))ne<q&&0>a(Me,de)?(D[te]=Me,D[ne]=W,te=ne):(D[te]=de,D[U]=W,te=U);else if(ne<q&&0>a(Me,W))D[te]=Me,D[ne]=W,te=ne;else break e}}return z}function a(D,z){var W=D.sortIndex-z.sortIndex;return W!==0?W:D.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,s=i.now();e.unstable_now=function(){return i.now()-s}}var l=[],c=[],u=1,d=null,h=3,p=!1,m=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(D){for(var z=r(c);z!==null;){if(z.callback===null)n(c);else if(z.startTime<=D)n(c),z.sortIndex=z.expirationTime,t(l,z);else break;z=r(c)}}function k(D){if(v=!1,b(D),!m)if(r(l)!==null)m=!0,L(w);else{var z=r(c);z!==null&&F(k,z.startTime-D)}}function w(D,z){m=!1,v&&(v=!1,y(_),_=-1),p=!0;var W=h;try{for(b(z),d=r(l);d!==null&&(!(d.expirationTime>z)||D&&!N());){var te=d.callback;if(typeof te=="function"){d.callback=null,h=d.priorityLevel;var q=te(d.expirationTime<=z);z=e.unstable_now(),typeof q=="function"?d.callback=q:d===r(l)&&n(l),b(z)}else n(l);d=r(l)}if(d!==null)var Z=!0;else{var U=r(c);U!==null&&F(k,U.startTime-z),Z=!1}return Z}finally{d=null,h=W,p=!1}}var S=!1,j=null,_=-1,P=5,A=-1;function N(){return!(e.unstable_now()-A<P)}function M(){if(j!==null){var D=e.unstable_now();A=D;var z=!0;try{z=j(!0,D)}finally{z?B():(S=!1,j=null)}}else S=!1}var B;if(typeof g=="function")B=function(){g(M)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,$=R.port2;R.port1.onmessage=M,B=function(){$.postMessage(null)}}else B=function(){x(M,0)};function L(D){j=D,S||(S=!0,B())}function F(D,z){_=x(function(){D(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,L(w))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(D){switch(h){case 1:case 2:case 3:var z=3;break;default:z=h}var W=h;h=z;try{return D()}finally{h=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,z){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var W=h;h=D;try{return z()}finally{h=W}},e.unstable_scheduleCallback=function(D,z,W){var te=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?te+W:te):W=te,D){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=W+q,D={id:u++,callback:z,priorityLevel:D,startTime:W,expirationTime:q,sortIndex:-1},W>te?(D.sortIndex=W,t(c,D),r(l)===null&&D===r(c)&&(v?(y(_),_=-1):v=!0,F(k,W-te))):(D.sortIndex=q,t(l,D),m||p||(m=!0,L(w))),D},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(D){var z=h;return function(){var W=h;h=z;try{return D.apply(this,arguments)}finally{h=W}}}})(W2);z2.exports=W2;var YP=z2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QP=O,Cn=YP;function re(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var U2=new Set,Xl={};function Si(e,t){cs(e,t),cs(e+"Capture",t)}function cs(e,t){for(Xl[e]=t,e=0;e<t.length;e++)U2.add(t[e])}var Xa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vp=Object.prototype.hasOwnProperty,ZP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,bv={},wv={};function JP(e){return Vp.call(wv,e)?!0:Vp.call(bv,e)?!1:ZP.test(e)?wv[e]=!0:(bv[e]=!0,!1)}function eN(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function tN(e,t,r,n){if(t===null||typeof t>"u"||eN(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ln(e,t,r,n,a,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var Rr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Rr[e]=new ln(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Rr[t]=new ln(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Rr[e]=new ln(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Rr[e]=new ln(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Rr[e]=new ln(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Rr[e]=new ln(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Rr[e]=new ln(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Rr[e]=new ln(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Rr[e]=new ln(e,5,!1,e.toLowerCase(),null,!1,!1)});var vm=/[\-:]([a-z])/g;function xm(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(vm,xm);Rr[t]=new ln(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(vm,xm);Rr[t]=new ln(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(vm,xm);Rr[t]=new ln(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Rr[e]=new ln(e,1,!1,e.toLowerCase(),null,!1,!1)});Rr.xlinkHref=new ln("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Rr[e]=new ln(e,1,!1,e.toLowerCase(),null,!0,!0)});function bm(e,t,r,n){var a=Rr.hasOwnProperty(t)?Rr[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(tN(t,r,a,n)&&(r=null),n||a===null?JP(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var to=QP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,du=Symbol.for("react.element"),Bi=Symbol.for("react.portal"),Fi=Symbol.for("react.fragment"),wm=Symbol.for("react.strict_mode"),Kp=Symbol.for("react.profiler"),G2=Symbol.for("react.provider"),H2=Symbol.for("react.context"),km=Symbol.for("react.forward_ref"),Xp=Symbol.for("react.suspense"),qp=Symbol.for("react.suspense_list"),Sm=Symbol.for("react.memo"),fo=Symbol.for("react.lazy"),V2=Symbol.for("react.offscreen"),kv=Symbol.iterator;function cl(e){return e===null||typeof e!="object"?null:(e=kv&&e[kv]||e["@@iterator"],typeof e=="function"?e:null)}var Qt=Object.assign,Bh;function Pl(e){if(Bh===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Bh=t&&t[1]||""}return`
`+Bh+e}var Fh=!1;function zh(e,t){if(!e||Fh)return"";Fh=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),o=n.stack.split(`
`),i=a.length-1,s=o.length-1;1<=i&&0<=s&&a[i]!==o[s];)s--;for(;1<=i&&0<=s;i--,s--)if(a[i]!==o[s]){if(i!==1||s!==1)do if(i--,s--,0>s||a[i]!==o[s]){var l=`
`+a[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=i&&0<=s);break}}}finally{Fh=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Pl(e):""}function rN(e){switch(e.tag){case 5:return Pl(e.type);case 16:return Pl("Lazy");case 13:return Pl("Suspense");case 19:return Pl("SuspenseList");case 0:case 2:case 15:return e=zh(e.type,!1),e;case 11:return e=zh(e.type.render,!1),e;case 1:return e=zh(e.type,!0),e;default:return""}}function Yp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Fi:return"Fragment";case Bi:return"Portal";case Kp:return"Profiler";case wm:return"StrictMode";case Xp:return"Suspense";case qp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case H2:return(e.displayName||"Context")+".Consumer";case G2:return(e._context.displayName||"Context")+".Provider";case km:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Sm:return t=e.displayName||null,t!==null?t:Yp(e.type)||"Memo";case fo:t=e._payload,e=e._init;try{return Yp(e(t))}catch{}}return null}function nN(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Yp(t);case 8:return t===wm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Eo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function K2(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function aN(e){var t=K2(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function hu(e){e._valueTracker||(e._valueTracker=aN(e))}function X2(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=K2(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function tf(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Qp(e,t){var r=t.checked;return Qt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Sv(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Eo(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function q2(e,t){t=t.checked,t!=null&&bm(e,"checked",t,!1)}function Zp(e,t){q2(e,t);var r=Eo(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Jp(e,t.type,r):t.hasOwnProperty("defaultValue")&&Jp(e,t.type,Eo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function jv(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Jp(e,t,r){(t!=="number"||tf(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Nl=Array.isArray;function es(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Eo(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function e0(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(re(91));return Qt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ov(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(re(92));if(Nl(r)){if(1<r.length)throw Error(re(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Eo(r)}}function Y2(e,t){var r=Eo(t.value),n=Eo(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function _v(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Q2(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function t0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Q2(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var pu,Z2=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(pu=pu||document.createElement("div"),pu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=pu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ql(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var El={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},oN=["Webkit","ms","Moz","O"];Object.keys(El).forEach(function(e){oN.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),El[t]=El[e]})});function J2(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||El.hasOwnProperty(e)&&El[e]?(""+t).trim():t+"px"}function ek(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=J2(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var iN=Qt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function r0(e,t){if(t){if(iN[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(re(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(re(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(re(61))}if(t.style!=null&&typeof t.style!="object")throw Error(re(62))}}function n0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var a0=null;function jm(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var o0=null,ts=null,rs=null;function Pv(e){if(e=Yc(e)){if(typeof o0!="function")throw Error(re(280));var t=e.stateNode;t&&(t=$d(t),o0(e.stateNode,e.type,t))}}function tk(e){ts?rs?rs.push(e):rs=[e]:ts=e}function rk(){if(ts){var e=ts,t=rs;if(rs=ts=null,Pv(e),t)for(e=0;e<t.length;e++)Pv(t[e])}}function nk(e,t){return e(t)}function ak(){}var Wh=!1;function ok(e,t,r){if(Wh)return e(t,r);Wh=!0;try{return nk(e,t,r)}finally{Wh=!1,(ts!==null||rs!==null)&&(ak(),rk())}}function Yl(e,t){var r=e.stateNode;if(r===null)return null;var n=$d(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(re(231,t,typeof r));return r}var i0=!1;if(Xa)try{var ul={};Object.defineProperty(ul,"passive",{get:function(){i0=!0}}),window.addEventListener("test",ul,ul),window.removeEventListener("test",ul,ul)}catch{i0=!1}function sN(e,t,r,n,a,o,i,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(u){this.onError(u)}}var Tl=!1,rf=null,nf=!1,s0=null,lN={onError:function(e){Tl=!0,rf=e}};function cN(e,t,r,n,a,o,i,s,l){Tl=!1,rf=null,sN.apply(lN,arguments)}function uN(e,t,r,n,a,o,i,s,l){if(cN.apply(this,arguments),Tl){if(Tl){var c=rf;Tl=!1,rf=null}else throw Error(re(198));nf||(nf=!0,s0=c)}}function ji(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function ik(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Nv(e){if(ji(e)!==e)throw Error(re(188))}function fN(e){var t=e.alternate;if(!t){if(t=ji(e),t===null)throw Error(re(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var o=a.alternate;if(o===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===r)return Nv(a),e;if(o===n)return Nv(a),t;o=o.sibling}throw Error(re(188))}if(r.return!==n.return)r=a,n=o;else{for(var i=!1,s=a.child;s;){if(s===r){i=!0,r=a,n=o;break}if(s===n){i=!0,n=a,r=o;break}s=s.sibling}if(!i){for(s=o.child;s;){if(s===r){i=!0,r=o,n=a;break}if(s===n){i=!0,n=o,r=a;break}s=s.sibling}if(!i)throw Error(re(189))}}if(r.alternate!==n)throw Error(re(190))}if(r.tag!==3)throw Error(re(188));return r.stateNode.current===r?e:t}function sk(e){return e=fN(e),e!==null?lk(e):null}function lk(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=lk(e);if(t!==null)return t;e=e.sibling}return null}var ck=Cn.unstable_scheduleCallback,Av=Cn.unstable_cancelCallback,dN=Cn.unstable_shouldYield,hN=Cn.unstable_requestPaint,ar=Cn.unstable_now,pN=Cn.unstable_getCurrentPriorityLevel,Om=Cn.unstable_ImmediatePriority,uk=Cn.unstable_UserBlockingPriority,af=Cn.unstable_NormalPriority,gN=Cn.unstable_LowPriority,fk=Cn.unstable_IdlePriority,Md=null,ja=null;function mN(e){if(ja&&typeof ja.onCommitFiberRoot=="function")try{ja.onCommitFiberRoot(Md,e,void 0,(e.current.flags&128)===128)}catch{}}var fa=Math.clz32?Math.clz32:xN,yN=Math.log,vN=Math.LN2;function xN(e){return e>>>=0,e===0?32:31-(yN(e)/vN|0)|0}var gu=64,mu=4194304;function Al(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function of(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,o=e.pingedLanes,i=r&268435455;if(i!==0){var s=i&~a;s!==0?n=Al(s):(o&=i,o!==0&&(n=Al(o)))}else i=r&~a,i!==0?n=Al(i):o!==0&&(n=Al(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,o=t&-t,a>=o||a===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-fa(t),a=1<<r,n|=e[r],t&=~a;return n}function bN(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wN(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-fa(o),s=1<<i,l=a[i];l===-1?(!(s&r)||s&n)&&(a[i]=bN(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}function l0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function dk(){var e=gu;return gu<<=1,!(gu&4194240)&&(gu=64),e}function Uh(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Xc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-fa(t),e[t]=r}function kN(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-fa(r),o=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~o}}function _m(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-fa(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var kt=0;function hk(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var pk,Pm,gk,mk,yk,c0=!1,yu=[],So=null,jo=null,Oo=null,Ql=new Map,Zl=new Map,go=[],SN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mv(e,t){switch(e){case"focusin":case"focusout":So=null;break;case"dragenter":case"dragleave":jo=null;break;case"mouseover":case"mouseout":Oo=null;break;case"pointerover":case"pointerout":Ql.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zl.delete(t.pointerId)}}function fl(e,t,r,n,a,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[a]},t!==null&&(t=Yc(t),t!==null&&Pm(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function jN(e,t,r,n,a){switch(t){case"focusin":return So=fl(So,e,t,r,n,a),!0;case"dragenter":return jo=fl(jo,e,t,r,n,a),!0;case"mouseover":return Oo=fl(Oo,e,t,r,n,a),!0;case"pointerover":var o=a.pointerId;return Ql.set(o,fl(Ql.get(o)||null,e,t,r,n,a)),!0;case"gotpointercapture":return o=a.pointerId,Zl.set(o,fl(Zl.get(o)||null,e,t,r,n,a)),!0}return!1}function vk(e){var t=Yo(e.target);if(t!==null){var r=ji(t);if(r!==null){if(t=r.tag,t===13){if(t=ik(r),t!==null){e.blockedOn=t,yk(e.priority,function(){gk(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Hu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=u0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);a0=n,r.target.dispatchEvent(n),a0=null}else return t=Yc(r),t!==null&&Pm(t),e.blockedOn=r,!1;t.shift()}return!0}function Cv(e,t,r){Hu(e)&&r.delete(t)}function ON(){c0=!1,So!==null&&Hu(So)&&(So=null),jo!==null&&Hu(jo)&&(jo=null),Oo!==null&&Hu(Oo)&&(Oo=null),Ql.forEach(Cv),Zl.forEach(Cv)}function dl(e,t){e.blockedOn===t&&(e.blockedOn=null,c0||(c0=!0,Cn.unstable_scheduleCallback(Cn.unstable_NormalPriority,ON)))}function Jl(e){function t(a){return dl(a,e)}if(0<yu.length){dl(yu[0],e);for(var r=1;r<yu.length;r++){var n=yu[r];n.blockedOn===e&&(n.blockedOn=null)}}for(So!==null&&dl(So,e),jo!==null&&dl(jo,e),Oo!==null&&dl(Oo,e),Ql.forEach(t),Zl.forEach(t),r=0;r<go.length;r++)n=go[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<go.length&&(r=go[0],r.blockedOn===null);)vk(r),r.blockedOn===null&&go.shift()}var ns=to.ReactCurrentBatchConfig,sf=!0;function _N(e,t,r,n){var a=kt,o=ns.transition;ns.transition=null;try{kt=1,Nm(e,t,r,n)}finally{kt=a,ns.transition=o}}function PN(e,t,r,n){var a=kt,o=ns.transition;ns.transition=null;try{kt=4,Nm(e,t,r,n)}finally{kt=a,ns.transition=o}}function Nm(e,t,r,n){if(sf){var a=u0(e,t,r,n);if(a===null)Jh(e,t,n,lf,r),Mv(e,n);else if(jN(a,e,t,r,n))n.stopPropagation();else if(Mv(e,n),t&4&&-1<SN.indexOf(e)){for(;a!==null;){var o=Yc(a);if(o!==null&&pk(o),o=u0(e,t,r,n),o===null&&Jh(e,t,n,lf,r),o===a)break;a=o}a!==null&&n.stopPropagation()}else Jh(e,t,n,null,r)}}var lf=null;function u0(e,t,r,n){if(lf=null,e=jm(n),e=Yo(e),e!==null)if(t=ji(e),t===null)e=null;else if(r=t.tag,r===13){if(e=ik(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return lf=e,null}function xk(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pN()){case Om:return 1;case uk:return 4;case af:case gN:return 16;case fk:return 536870912;default:return 16}default:return 16}}var vo=null,Am=null,Vu=null;function bk(){if(Vu)return Vu;var e,t=Am,r=t.length,n,a="value"in vo?vo.value:vo.textContent,o=a.length;for(e=0;e<r&&t[e]===a[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===a[o-n];n++);return Vu=a.slice(e,1<n?1-n:void 0)}function Ku(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function vu(){return!0}function Ev(){return!1}function Tn(e){function t(r,n,a,o,i){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(r=e[s],this[s]=r?r(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?vu:Ev,this.isPropagationStopped=Ev,this}return Qt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=vu)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=vu)},persist:function(){},isPersistent:vu}),t}var Hs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mm=Tn(Hs),qc=Qt({},Hs,{view:0,detail:0}),NN=Tn(qc),Gh,Hh,hl,Cd=Qt({},qc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cm,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hl&&(hl&&e.type==="mousemove"?(Gh=e.screenX-hl.screenX,Hh=e.screenY-hl.screenY):Hh=Gh=0,hl=e),Gh)},movementY:function(e){return"movementY"in e?e.movementY:Hh}}),Tv=Tn(Cd),AN=Qt({},Cd,{dataTransfer:0}),MN=Tn(AN),CN=Qt({},qc,{relatedTarget:0}),Vh=Tn(CN),EN=Qt({},Hs,{animationName:0,elapsedTime:0,pseudoElement:0}),TN=Tn(EN),$N=Qt({},Hs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),DN=Tn($N),LN=Qt({},Hs,{data:0}),$v=Tn(LN),RN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},IN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},BN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function FN(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=BN[e])?!!t[e]:!1}function Cm(){return FN}var zN=Qt({},qc,{key:function(e){if(e.key){var t=RN[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ku(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?IN[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cm,charCode:function(e){return e.type==="keypress"?Ku(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ku(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),WN=Tn(zN),UN=Qt({},Cd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dv=Tn(UN),GN=Qt({},qc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cm}),HN=Tn(GN),VN=Qt({},Hs,{propertyName:0,elapsedTime:0,pseudoElement:0}),KN=Tn(VN),XN=Qt({},Cd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),qN=Tn(XN),YN=[9,13,27,32],Em=Xa&&"CompositionEvent"in window,$l=null;Xa&&"documentMode"in document&&($l=document.documentMode);var QN=Xa&&"TextEvent"in window&&!$l,wk=Xa&&(!Em||$l&&8<$l&&11>=$l),Lv=" ",Rv=!1;function kk(e,t){switch(e){case"keyup":return YN.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sk(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zi=!1;function ZN(e,t){switch(e){case"compositionend":return Sk(t);case"keypress":return t.which!==32?null:(Rv=!0,Lv);case"textInput":return e=t.data,e===Lv&&Rv?null:e;default:return null}}function JN(e,t){if(zi)return e==="compositionend"||!Em&&kk(e,t)?(e=bk(),Vu=Am=vo=null,zi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return wk&&t.locale!=="ko"?null:t.data;default:return null}}var eA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Iv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!eA[e.type]:t==="textarea"}function jk(e,t,r,n){tk(n),t=cf(t,"onChange"),0<t.length&&(r=new Mm("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Dl=null,ec=null;function tA(e){Dk(e,0)}function Ed(e){var t=Gi(e);if(X2(t))return e}function rA(e,t){if(e==="change")return t}var Ok=!1;if(Xa){var Kh;if(Xa){var Xh="oninput"in document;if(!Xh){var Bv=document.createElement("div");Bv.setAttribute("oninput","return;"),Xh=typeof Bv.oninput=="function"}Kh=Xh}else Kh=!1;Ok=Kh&&(!document.documentMode||9<document.documentMode)}function Fv(){Dl&&(Dl.detachEvent("onpropertychange",_k),ec=Dl=null)}function _k(e){if(e.propertyName==="value"&&Ed(ec)){var t=[];jk(t,ec,e,jm(e)),ok(tA,t)}}function nA(e,t,r){e==="focusin"?(Fv(),Dl=t,ec=r,Dl.attachEvent("onpropertychange",_k)):e==="focusout"&&Fv()}function aA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ed(ec)}function oA(e,t){if(e==="click")return Ed(t)}function iA(e,t){if(e==="input"||e==="change")return Ed(t)}function sA(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ha=typeof Object.is=="function"?Object.is:sA;function tc(e,t){if(ha(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Vp.call(t,a)||!ha(e[a],t[a]))return!1}return!0}function zv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Wv(e,t){var r=zv(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=zv(r)}}function Pk(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Pk(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Nk(){for(var e=window,t=tf();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=tf(e.document)}return t}function Tm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function lA(e){var t=Nk(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Pk(r.ownerDocument.documentElement,r)){if(n!==null&&Tm(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,o=Math.min(n.start,a);n=n.end===void 0?o:Math.min(n.end,a),!e.extend&&o>n&&(a=n,n=o,o=a),a=Wv(r,o);var i=Wv(r,n);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var cA=Xa&&"documentMode"in document&&11>=document.documentMode,Wi=null,f0=null,Ll=null,d0=!1;function Uv(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;d0||Wi==null||Wi!==tf(n)||(n=Wi,"selectionStart"in n&&Tm(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ll&&tc(Ll,n)||(Ll=n,n=cf(f0,"onSelect"),0<n.length&&(t=new Mm("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Wi)))}function xu(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ui={animationend:xu("Animation","AnimationEnd"),animationiteration:xu("Animation","AnimationIteration"),animationstart:xu("Animation","AnimationStart"),transitionend:xu("Transition","TransitionEnd")},qh={},Ak={};Xa&&(Ak=document.createElement("div").style,"AnimationEvent"in window||(delete Ui.animationend.animation,delete Ui.animationiteration.animation,delete Ui.animationstart.animation),"TransitionEvent"in window||delete Ui.transitionend.transition);function Td(e){if(qh[e])return qh[e];if(!Ui[e])return e;var t=Ui[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Ak)return qh[e]=t[r];return e}var Mk=Td("animationend"),Ck=Td("animationiteration"),Ek=Td("animationstart"),Tk=Td("transitionend"),$k=new Map,Gv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $o(e,t){$k.set(e,t),Si(t,[e])}for(var Yh=0;Yh<Gv.length;Yh++){var Qh=Gv[Yh],uA=Qh.toLowerCase(),fA=Qh[0].toUpperCase()+Qh.slice(1);$o(uA,"on"+fA)}$o(Mk,"onAnimationEnd");$o(Ck,"onAnimationIteration");$o(Ek,"onAnimationStart");$o("dblclick","onDoubleClick");$o("focusin","onFocus");$o("focusout","onBlur");$o(Tk,"onTransitionEnd");cs("onMouseEnter",["mouseout","mouseover"]);cs("onMouseLeave",["mouseout","mouseover"]);cs("onPointerEnter",["pointerout","pointerover"]);cs("onPointerLeave",["pointerout","pointerover"]);Si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Si("onBeforeInput",["compositionend","keypress","textInput","paste"]);Si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ml));function Hv(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,uN(n,t,void 0,e),e.currentTarget=null}function Dk(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var i=n.length-1;0<=i;i--){var s=n[i],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&a.isPropagationStopped())break e;Hv(a,s,c),o=l}else for(i=0;i<n.length;i++){if(s=n[i],l=s.instance,c=s.currentTarget,s=s.listener,l!==o&&a.isPropagationStopped())break e;Hv(a,s,c),o=l}}}if(nf)throw e=s0,nf=!1,s0=null,e}function Ft(e,t){var r=t[y0];r===void 0&&(r=t[y0]=new Set);var n=e+"__bubble";r.has(n)||(Lk(t,e,2,!1),r.add(n))}function Zh(e,t,r){var n=0;t&&(n|=4),Lk(r,e,n,t)}var bu="_reactListening"+Math.random().toString(36).slice(2);function rc(e){if(!e[bu]){e[bu]=!0,U2.forEach(function(r){r!=="selectionchange"&&(dA.has(r)||Zh(r,!1,e),Zh(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[bu]||(t[bu]=!0,Zh("selectionchange",!1,t))}}function Lk(e,t,r,n){switch(xk(t)){case 1:var a=_N;break;case 4:a=PN;break;default:a=Nm}r=a.bind(null,t,r,e),a=void 0,!i0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Jh(e,t,r,n,a){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var s=n.stateNode.containerInfo;if(s===a||s.nodeType===8&&s.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;i=i.return}for(;s!==null;){if(i=Yo(s),i===null)return;if(l=i.tag,l===5||l===6){n=o=i;continue e}s=s.parentNode}}n=n.return}ok(function(){var c=o,u=jm(r),d=[];e:{var h=$k.get(e);if(h!==void 0){var p=Mm,m=e;switch(e){case"keypress":if(Ku(r)===0)break e;case"keydown":case"keyup":p=WN;break;case"focusin":m="focus",p=Vh;break;case"focusout":m="blur",p=Vh;break;case"beforeblur":case"afterblur":p=Vh;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Tv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=MN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=HN;break;case Mk:case Ck:case Ek:p=TN;break;case Tk:p=KN;break;case"scroll":p=NN;break;case"wheel":p=qN;break;case"copy":case"cut":case"paste":p=DN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Dv}var v=(t&4)!==0,x=!v&&e==="scroll",y=v?h!==null?h+"Capture":null:h;v=[];for(var g=c,b;g!==null;){b=g;var k=b.stateNode;if(b.tag===5&&k!==null&&(b=k,y!==null&&(k=Yl(g,y),k!=null&&v.push(nc(g,k,b)))),x)break;g=g.return}0<v.length&&(h=new p(h,m,null,r,u),d.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==a0&&(m=r.relatedTarget||r.fromElement)&&(Yo(m)||m[qa]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=c,m=m?Yo(m):null,m!==null&&(x=ji(m),m!==x||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(v=Tv,k="onMouseLeave",y="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(v=Dv,k="onPointerLeave",y="onPointerEnter",g="pointer"),x=p==null?h:Gi(p),b=m==null?h:Gi(m),h=new v(k,g+"leave",p,r,u),h.target=x,h.relatedTarget=b,k=null,Yo(u)===c&&(v=new v(y,g+"enter",m,r,u),v.target=b,v.relatedTarget=x,k=v),x=k,p&&m)t:{for(v=p,y=m,g=0,b=v;b;b=Ti(b))g++;for(b=0,k=y;k;k=Ti(k))b++;for(;0<g-b;)v=Ti(v),g--;for(;0<b-g;)y=Ti(y),b--;for(;g--;){if(v===y||y!==null&&v===y.alternate)break t;v=Ti(v),y=Ti(y)}v=null}else v=null;p!==null&&Vv(d,h,p,v,!1),m!==null&&x!==null&&Vv(d,x,m,v,!0)}}e:{if(h=c?Gi(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var w=rA;else if(Iv(h))if(Ok)w=iA;else{w=aA;var S=nA}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=oA);if(w&&(w=w(e,c))){jk(d,w,r,u);break e}S&&S(e,h,c),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&Jp(h,"number",h.value)}switch(S=c?Gi(c):window,e){case"focusin":(Iv(S)||S.contentEditable==="true")&&(Wi=S,f0=c,Ll=null);break;case"focusout":Ll=f0=Wi=null;break;case"mousedown":d0=!0;break;case"contextmenu":case"mouseup":case"dragend":d0=!1,Uv(d,r,u);break;case"selectionchange":if(cA)break;case"keydown":case"keyup":Uv(d,r,u)}var j;if(Em)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else zi?kk(e,r)&&(_="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(_="onCompositionStart");_&&(wk&&r.locale!=="ko"&&(zi||_!=="onCompositionStart"?_==="onCompositionEnd"&&zi&&(j=bk()):(vo=u,Am="value"in vo?vo.value:vo.textContent,zi=!0)),S=cf(c,_),0<S.length&&(_=new $v(_,e,null,r,u),d.push({event:_,listeners:S}),j?_.data=j:(j=Sk(r),j!==null&&(_.data=j)))),(j=QN?ZN(e,r):JN(e,r))&&(c=cf(c,"onBeforeInput"),0<c.length&&(u=new $v("onBeforeInput","beforeinput",null,r,u),d.push({event:u,listeners:c}),u.data=j))}Dk(d,t)})}function nc(e,t,r){return{instance:e,listener:t,currentTarget:r}}function cf(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,o=a.stateNode;a.tag===5&&o!==null&&(a=o,o=Yl(e,r),o!=null&&n.unshift(nc(e,o,a)),o=Yl(e,t),o!=null&&n.push(nc(e,o,a))),e=e.return}return n}function Ti(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Vv(e,t,r,n,a){for(var o=t._reactName,i=[];r!==null&&r!==n;){var s=r,l=s.alternate,c=s.stateNode;if(l!==null&&l===n)break;s.tag===5&&c!==null&&(s=c,a?(l=Yl(r,o),l!=null&&i.unshift(nc(r,l,s))):a||(l=Yl(r,o),l!=null&&i.push(nc(r,l,s)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var hA=/\r\n?/g,pA=/\u0000|\uFFFD/g;function Kv(e){return(typeof e=="string"?e:""+e).replace(hA,`
`).replace(pA,"")}function wu(e,t,r){if(t=Kv(t),Kv(e)!==t&&r)throw Error(re(425))}function uf(){}var h0=null,p0=null;function g0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var m0=typeof setTimeout=="function"?setTimeout:void 0,gA=typeof clearTimeout=="function"?clearTimeout:void 0,Xv=typeof Promise=="function"?Promise:void 0,mA=typeof queueMicrotask=="function"?queueMicrotask:typeof Xv<"u"?function(e){return Xv.resolve(null).then(e).catch(yA)}:m0;function yA(e){setTimeout(function(){throw e})}function ep(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Jl(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Jl(t)}function _o(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function qv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Vs=Math.random().toString(36).slice(2),wa="__reactFiber$"+Vs,ac="__reactProps$"+Vs,qa="__reactContainer$"+Vs,y0="__reactEvents$"+Vs,vA="__reactListeners$"+Vs,xA="__reactHandles$"+Vs;function Yo(e){var t=e[wa];if(t)return t;for(var r=e.parentNode;r;){if(t=r[qa]||r[wa]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=qv(e);e!==null;){if(r=e[wa])return r;e=qv(e)}return t}e=r,r=e.parentNode}return null}function Yc(e){return e=e[wa]||e[qa],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Gi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(re(33))}function $d(e){return e[ac]||null}var v0=[],Hi=-1;function Do(e){return{current:e}}function Ut(e){0>Hi||(e.current=v0[Hi],v0[Hi]=null,Hi--)}function Dt(e,t){Hi++,v0[Hi]=e.current,e.current=t}var To={},Yr=Do(To),mn=Do(!1),fi=To;function us(e,t){var r=e.type.contextTypes;if(!r)return To;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},o;for(o in r)a[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function yn(e){return e=e.childContextTypes,e!=null}function ff(){Ut(mn),Ut(Yr)}function Yv(e,t,r){if(Yr.current!==To)throw Error(re(168));Dt(Yr,t),Dt(mn,r)}function Rk(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(re(108,nN(e)||"Unknown",a));return Qt({},r,n)}function df(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||To,fi=Yr.current,Dt(Yr,e),Dt(mn,mn.current),!0}function Qv(e,t,r){var n=e.stateNode;if(!n)throw Error(re(169));r?(e=Rk(e,t,fi),n.__reactInternalMemoizedMergedChildContext=e,Ut(mn),Ut(Yr),Dt(Yr,e)):Ut(mn),Dt(mn,r)}var Ra=null,Dd=!1,tp=!1;function Ik(e){Ra===null?Ra=[e]:Ra.push(e)}function bA(e){Dd=!0,Ik(e)}function Lo(){if(!tp&&Ra!==null){tp=!0;var e=0,t=kt;try{var r=Ra;for(kt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ra=null,Dd=!1}catch(a){throw Ra!==null&&(Ra=Ra.slice(e+1)),ck(Om,Lo),a}finally{kt=t,tp=!1}}return null}var Vi=[],Ki=0,hf=null,pf=0,zn=[],Wn=0,di=null,Ia=1,Ba="";function Ho(e,t){Vi[Ki++]=pf,Vi[Ki++]=hf,hf=e,pf=t}function Bk(e,t,r){zn[Wn++]=Ia,zn[Wn++]=Ba,zn[Wn++]=di,di=e;var n=Ia;e=Ba;var a=32-fa(n)-1;n&=~(1<<a),r+=1;var o=32-fa(t)+a;if(30<o){var i=a-a%5;o=(n&(1<<i)-1).toString(32),n>>=i,a-=i,Ia=1<<32-fa(t)+a|r<<a|n,Ba=o+e}else Ia=1<<o|r<<a|n,Ba=e}function $m(e){e.return!==null&&(Ho(e,1),Bk(e,1,0))}function Dm(e){for(;e===hf;)hf=Vi[--Ki],Vi[Ki]=null,pf=Vi[--Ki],Vi[Ki]=null;for(;e===di;)di=zn[--Wn],zn[Wn]=null,Ba=zn[--Wn],zn[Wn]=null,Ia=zn[--Wn],zn[Wn]=null}var Mn=null,An=null,Ht=!1,la=null;function Fk(e,t){var r=Un(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Zv(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Mn=e,An=_o(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Mn=e,An=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=di!==null?{id:Ia,overflow:Ba}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Un(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Mn=e,An=null,!0):!1;default:return!1}}function x0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function b0(e){if(Ht){var t=An;if(t){var r=t;if(!Zv(e,t)){if(x0(e))throw Error(re(418));t=_o(r.nextSibling);var n=Mn;t&&Zv(e,t)?Fk(n,r):(e.flags=e.flags&-4097|2,Ht=!1,Mn=e)}}else{if(x0(e))throw Error(re(418));e.flags=e.flags&-4097|2,Ht=!1,Mn=e}}}function Jv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Mn=e}function ku(e){if(e!==Mn)return!1;if(!Ht)return Jv(e),Ht=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!g0(e.type,e.memoizedProps)),t&&(t=An)){if(x0(e))throw zk(),Error(re(418));for(;t;)Fk(e,t),t=_o(t.nextSibling)}if(Jv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(re(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){An=_o(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}An=null}}else An=Mn?_o(e.stateNode.nextSibling):null;return!0}function zk(){for(var e=An;e;)e=_o(e.nextSibling)}function fs(){An=Mn=null,Ht=!1}function Lm(e){la===null?la=[e]:la.push(e)}var wA=to.ReactCurrentBatchConfig;function pl(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(re(309));var n=r.stateNode}if(!n)throw Error(re(147,e));var a=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var s=a.refs;i===null?delete s[o]:s[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(re(284));if(!r._owner)throw Error(re(290,e))}return e}function Su(e,t){throw e=Object.prototype.toString.call(t),Error(re(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ex(e){var t=e._init;return t(e._payload)}function Wk(e){function t(y,g){if(e){var b=y.deletions;b===null?(y.deletions=[g],y.flags|=16):b.push(g)}}function r(y,g){if(!e)return null;for(;g!==null;)t(y,g),g=g.sibling;return null}function n(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function a(y,g){return y=Mo(y,g),y.index=0,y.sibling=null,y}function o(y,g,b){return y.index=b,e?(b=y.alternate,b!==null?(b=b.index,b<g?(y.flags|=2,g):b):(y.flags|=2,g)):(y.flags|=1048576,g)}function i(y){return e&&y.alternate===null&&(y.flags|=2),y}function s(y,g,b,k){return g===null||g.tag!==6?(g=lp(b,y.mode,k),g.return=y,g):(g=a(g,b),g.return=y,g)}function l(y,g,b,k){var w=b.type;return w===Fi?u(y,g,b.props.children,k,b.key):g!==null&&(g.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===fo&&ex(w)===g.type)?(k=a(g,b.props),k.ref=pl(y,g,b),k.return=y,k):(k=ef(b.type,b.key,b.props,null,y.mode,k),k.ref=pl(y,g,b),k.return=y,k)}function c(y,g,b,k){return g===null||g.tag!==4||g.stateNode.containerInfo!==b.containerInfo||g.stateNode.implementation!==b.implementation?(g=cp(b,y.mode,k),g.return=y,g):(g=a(g,b.children||[]),g.return=y,g)}function u(y,g,b,k,w){return g===null||g.tag!==7?(g=ii(b,y.mode,k,w),g.return=y,g):(g=a(g,b),g.return=y,g)}function d(y,g,b){if(typeof g=="string"&&g!==""||typeof g=="number")return g=lp(""+g,y.mode,b),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case du:return b=ef(g.type,g.key,g.props,null,y.mode,b),b.ref=pl(y,null,g),b.return=y,b;case Bi:return g=cp(g,y.mode,b),g.return=y,g;case fo:var k=g._init;return d(y,k(g._payload),b)}if(Nl(g)||cl(g))return g=ii(g,y.mode,b,null),g.return=y,g;Su(y,g)}return null}function h(y,g,b,k){var w=g!==null?g.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return w!==null?null:s(y,g,""+b,k);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case du:return b.key===w?l(y,g,b,k):null;case Bi:return b.key===w?c(y,g,b,k):null;case fo:return w=b._init,h(y,g,w(b._payload),k)}if(Nl(b)||cl(b))return w!==null?null:u(y,g,b,k,null);Su(y,b)}return null}function p(y,g,b,k,w){if(typeof k=="string"&&k!==""||typeof k=="number")return y=y.get(b)||null,s(g,y,""+k,w);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case du:return y=y.get(k.key===null?b:k.key)||null,l(g,y,k,w);case Bi:return y=y.get(k.key===null?b:k.key)||null,c(g,y,k,w);case fo:var S=k._init;return p(y,g,b,S(k._payload),w)}if(Nl(k)||cl(k))return y=y.get(b)||null,u(g,y,k,w,null);Su(g,k)}return null}function m(y,g,b,k){for(var w=null,S=null,j=g,_=g=0,P=null;j!==null&&_<b.length;_++){j.index>_?(P=j,j=null):P=j.sibling;var A=h(y,j,b[_],k);if(A===null){j===null&&(j=P);break}e&&j&&A.alternate===null&&t(y,j),g=o(A,g,_),S===null?w=A:S.sibling=A,S=A,j=P}if(_===b.length)return r(y,j),Ht&&Ho(y,_),w;if(j===null){for(;_<b.length;_++)j=d(y,b[_],k),j!==null&&(g=o(j,g,_),S===null?w=j:S.sibling=j,S=j);return Ht&&Ho(y,_),w}for(j=n(y,j);_<b.length;_++)P=p(j,y,_,b[_],k),P!==null&&(e&&P.alternate!==null&&j.delete(P.key===null?_:P.key),g=o(P,g,_),S===null?w=P:S.sibling=P,S=P);return e&&j.forEach(function(N){return t(y,N)}),Ht&&Ho(y,_),w}function v(y,g,b,k){var w=cl(b);if(typeof w!="function")throw Error(re(150));if(b=w.call(b),b==null)throw Error(re(151));for(var S=w=null,j=g,_=g=0,P=null,A=b.next();j!==null&&!A.done;_++,A=b.next()){j.index>_?(P=j,j=null):P=j.sibling;var N=h(y,j,A.value,k);if(N===null){j===null&&(j=P);break}e&&j&&N.alternate===null&&t(y,j),g=o(N,g,_),S===null?w=N:S.sibling=N,S=N,j=P}if(A.done)return r(y,j),Ht&&Ho(y,_),w;if(j===null){for(;!A.done;_++,A=b.next())A=d(y,A.value,k),A!==null&&(g=o(A,g,_),S===null?w=A:S.sibling=A,S=A);return Ht&&Ho(y,_),w}for(j=n(y,j);!A.done;_++,A=b.next())A=p(j,y,_,A.value,k),A!==null&&(e&&A.alternate!==null&&j.delete(A.key===null?_:A.key),g=o(A,g,_),S===null?w=A:S.sibling=A,S=A);return e&&j.forEach(function(M){return t(y,M)}),Ht&&Ho(y,_),w}function x(y,g,b,k){if(typeof b=="object"&&b!==null&&b.type===Fi&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case du:e:{for(var w=b.key,S=g;S!==null;){if(S.key===w){if(w=b.type,w===Fi){if(S.tag===7){r(y,S.sibling),g=a(S,b.props.children),g.return=y,y=g;break e}}else if(S.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===fo&&ex(w)===S.type){r(y,S.sibling),g=a(S,b.props),g.ref=pl(y,S,b),g.return=y,y=g;break e}r(y,S);break}else t(y,S);S=S.sibling}b.type===Fi?(g=ii(b.props.children,y.mode,k,b.key),g.return=y,y=g):(k=ef(b.type,b.key,b.props,null,y.mode,k),k.ref=pl(y,g,b),k.return=y,y=k)}return i(y);case Bi:e:{for(S=b.key;g!==null;){if(g.key===S)if(g.tag===4&&g.stateNode.containerInfo===b.containerInfo&&g.stateNode.implementation===b.implementation){r(y,g.sibling),g=a(g,b.children||[]),g.return=y,y=g;break e}else{r(y,g);break}else t(y,g);g=g.sibling}g=cp(b,y.mode,k),g.return=y,y=g}return i(y);case fo:return S=b._init,x(y,g,S(b._payload),k)}if(Nl(b))return m(y,g,b,k);if(cl(b))return v(y,g,b,k);Su(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,g!==null&&g.tag===6?(r(y,g.sibling),g=a(g,b),g.return=y,y=g):(r(y,g),g=lp(b,y.mode,k),g.return=y,y=g),i(y)):r(y,g)}return x}var ds=Wk(!0),Uk=Wk(!1),gf=Do(null),mf=null,Xi=null,Rm=null;function Im(){Rm=Xi=mf=null}function Bm(e){var t=gf.current;Ut(gf),e._currentValue=t}function w0(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function as(e,t){mf=e,Rm=Xi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(pn=!0),e.firstContext=null)}function Xn(e){var t=e._currentValue;if(Rm!==e)if(e={context:e,memoizedValue:t,next:null},Xi===null){if(mf===null)throw Error(re(308));Xi=e,mf.dependencies={lanes:0,firstContext:e}}else Xi=Xi.next=e;return t}var Qo=null;function Fm(e){Qo===null?Qo=[e]:Qo.push(e)}function Gk(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,Fm(t)):(r.next=a.next,a.next=r),t.interleaved=r,Ya(e,n)}function Ya(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var ho=!1;function zm(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hk(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ua(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Po(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,st&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Ya(e,r)}return a=n.interleaved,a===null?(t.next=t,Fm(n)):(t.next=a.next,a.next=t),n.interleaved=t,Ya(e,r)}function Xu(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,_m(e,r)}}function tx(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?a=o=i:o=o.next=i,r=r.next}while(r!==null);o===null?a=o=t:o=o.next=t}else a=o=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function yf(e,t,r,n){var a=e.updateQueue;ho=!1;var o=a.firstBaseUpdate,i=a.lastBaseUpdate,s=a.shared.pending;if(s!==null){a.shared.pending=null;var l=s,c=l.next;l.next=null,i===null?o=c:i.next=c,i=l;var u=e.alternate;u!==null&&(u=u.updateQueue,s=u.lastBaseUpdate,s!==i&&(s===null?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(o!==null){var d=a.baseState;i=0,u=c=l=null,s=o;do{var h=s.lane,p=s.eventTime;if((n&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var m=e,v=s;switch(h=t,p=r,v.tag){case 1:if(m=v.payload,typeof m=="function"){d=m.call(p,d,h);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=v.payload,h=typeof m=="function"?m.call(p,d,h):m,h==null)break e;d=Qt({},d,h);break e;case 2:ho=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,i|=h;if(s=s.next,s===null){if(s=a.shared.pending,s===null)break;h=s,s=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(u===null&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else o===null&&(a.shared.lanes=0);pi|=i,e.lanes=i,e.memoizedState=d}}function rx(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(re(191,a));a.call(n)}}}var Qc={},Oa=Do(Qc),oc=Do(Qc),ic=Do(Qc);function Zo(e){if(e===Qc)throw Error(re(174));return e}function Wm(e,t){switch(Dt(ic,t),Dt(oc,e),Dt(Oa,Qc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:t0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=t0(t,e)}Ut(Oa),Dt(Oa,t)}function hs(){Ut(Oa),Ut(oc),Ut(ic)}function Vk(e){Zo(ic.current);var t=Zo(Oa.current),r=t0(t,e.type);t!==r&&(Dt(oc,e),Dt(Oa,r))}function Um(e){oc.current===e&&(Ut(Oa),Ut(oc))}var qt=Do(0);function vf(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var rp=[];function Gm(){for(var e=0;e<rp.length;e++)rp[e]._workInProgressVersionPrimary=null;rp.length=0}var qu=to.ReactCurrentDispatcher,np=to.ReactCurrentBatchConfig,hi=0,Yt=null,gr=null,jr=null,xf=!1,Rl=!1,sc=0,kA=0;function Wr(){throw Error(re(321))}function Hm(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ha(e[r],t[r]))return!1;return!0}function Vm(e,t,r,n,a,o){if(hi=o,Yt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,qu.current=e===null||e.memoizedState===null?_A:PA,e=r(n,a),Rl){o=0;do{if(Rl=!1,sc=0,25<=o)throw Error(re(301));o+=1,jr=gr=null,t.updateQueue=null,qu.current=NA,e=r(n,a)}while(Rl)}if(qu.current=bf,t=gr!==null&&gr.next!==null,hi=0,jr=gr=Yt=null,xf=!1,t)throw Error(re(300));return e}function Km(){var e=sc!==0;return sc=0,e}function ba(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jr===null?Yt.memoizedState=jr=e:jr=jr.next=e,jr}function qn(){if(gr===null){var e=Yt.alternate;e=e!==null?e.memoizedState:null}else e=gr.next;var t=jr===null?Yt.memoizedState:jr.next;if(t!==null)jr=t,gr=e;else{if(e===null)throw Error(re(310));gr=e,e={memoizedState:gr.memoizedState,baseState:gr.baseState,baseQueue:gr.baseQueue,queue:gr.queue,next:null},jr===null?Yt.memoizedState=jr=e:jr=jr.next=e}return jr}function lc(e,t){return typeof t=="function"?t(e):t}function ap(e){var t=qn(),r=t.queue;if(r===null)throw Error(re(311));r.lastRenderedReducer=e;var n=gr,a=n.baseQueue,o=r.pending;if(o!==null){if(a!==null){var i=a.next;a.next=o.next,o.next=i}n.baseQueue=a=o,r.pending=null}if(a!==null){o=a.next,n=n.baseState;var s=i=null,l=null,c=o;do{var u=c.lane;if((hi&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=d,i=n):l=l.next=d,Yt.lanes|=u,pi|=u}c=c.next}while(c!==null&&c!==o);l===null?i=n:l.next=s,ha(n,t.memoizedState)||(pn=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do o=a.lane,Yt.lanes|=o,pi|=o,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function op(e){var t=qn(),r=t.queue;if(r===null)throw Error(re(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,o=t.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do o=e(o,i.action),i=i.next;while(i!==a);ha(o,t.memoizedState)||(pn=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function Kk(){}function Xk(e,t){var r=Yt,n=qn(),a=t(),o=!ha(n.memoizedState,a);if(o&&(n.memoizedState=a,pn=!0),n=n.queue,Xm(Qk.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||jr!==null&&jr.memoizedState.tag&1){if(r.flags|=2048,cc(9,Yk.bind(null,r,n,a,t),void 0,null),Or===null)throw Error(re(349));hi&30||qk(r,t,a)}return a}function qk(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Yt.updateQueue,t===null?(t={lastEffect:null,stores:null},Yt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Yk(e,t,r,n){t.value=r,t.getSnapshot=n,Zk(t)&&Jk(e)}function Qk(e,t,r){return r(function(){Zk(t)&&Jk(e)})}function Zk(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ha(e,r)}catch{return!0}}function Jk(e){var t=Ya(e,1);t!==null&&da(t,e,1,-1)}function nx(e){var t=ba();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:lc,lastRenderedState:e},t.queue=e,e=e.dispatch=OA.bind(null,Yt,e),[t.memoizedState,e]}function cc(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Yt.updateQueue,t===null?(t={lastEffect:null,stores:null},Yt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function eS(){return qn().memoizedState}function Yu(e,t,r,n){var a=ba();Yt.flags|=e,a.memoizedState=cc(1|t,r,void 0,n===void 0?null:n)}function Ld(e,t,r,n){var a=qn();n=n===void 0?null:n;var o=void 0;if(gr!==null){var i=gr.memoizedState;if(o=i.destroy,n!==null&&Hm(n,i.deps)){a.memoizedState=cc(t,r,o,n);return}}Yt.flags|=e,a.memoizedState=cc(1|t,r,o,n)}function ax(e,t){return Yu(8390656,8,e,t)}function Xm(e,t){return Ld(2048,8,e,t)}function tS(e,t){return Ld(4,2,e,t)}function rS(e,t){return Ld(4,4,e,t)}function nS(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function aS(e,t,r){return r=r!=null?r.concat([e]):null,Ld(4,4,nS.bind(null,t,e),r)}function qm(){}function oS(e,t){var r=qn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Hm(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function iS(e,t){var r=qn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Hm(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function sS(e,t,r){return hi&21?(ha(r,t)||(r=dk(),Yt.lanes|=r,pi|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,pn=!0),e.memoizedState=r)}function SA(e,t){var r=kt;kt=r!==0&&4>r?r:4,e(!0);var n=np.transition;np.transition={};try{e(!1),t()}finally{kt=r,np.transition=n}}function lS(){return qn().memoizedState}function jA(e,t,r){var n=Ao(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},cS(e))uS(t,r);else if(r=Gk(e,t,r,n),r!==null){var a=on();da(r,e,n,a),fS(r,t,n)}}function OA(e,t,r){var n=Ao(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(cS(e))uS(t,a);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,s=o(i,r);if(a.hasEagerState=!0,a.eagerState=s,ha(s,i)){var l=t.interleaved;l===null?(a.next=a,Fm(t)):(a.next=l.next,l.next=a),t.interleaved=a;return}}catch{}finally{}r=Gk(e,t,a,n),r!==null&&(a=on(),da(r,e,n,a),fS(r,t,n))}}function cS(e){var t=e.alternate;return e===Yt||t!==null&&t===Yt}function uS(e,t){Rl=xf=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function fS(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,_m(e,r)}}var bf={readContext:Xn,useCallback:Wr,useContext:Wr,useEffect:Wr,useImperativeHandle:Wr,useInsertionEffect:Wr,useLayoutEffect:Wr,useMemo:Wr,useReducer:Wr,useRef:Wr,useState:Wr,useDebugValue:Wr,useDeferredValue:Wr,useTransition:Wr,useMutableSource:Wr,useSyncExternalStore:Wr,useId:Wr,unstable_isNewReconciler:!1},_A={readContext:Xn,useCallback:function(e,t){return ba().memoizedState=[e,t===void 0?null:t],e},useContext:Xn,useEffect:ax,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Yu(4194308,4,nS.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Yu(4194308,4,e,t)},useInsertionEffect:function(e,t){return Yu(4,2,e,t)},useMemo:function(e,t){var r=ba();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ba();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=jA.bind(null,Yt,e),[n.memoizedState,e]},useRef:function(e){var t=ba();return e={current:e},t.memoizedState=e},useState:nx,useDebugValue:qm,useDeferredValue:function(e){return ba().memoizedState=e},useTransition:function(){var e=nx(!1),t=e[0];return e=SA.bind(null,e[1]),ba().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Yt,a=ba();if(Ht){if(r===void 0)throw Error(re(407));r=r()}else{if(r=t(),Or===null)throw Error(re(349));hi&30||qk(n,t,r)}a.memoizedState=r;var o={value:r,getSnapshot:t};return a.queue=o,ax(Qk.bind(null,n,o,e),[e]),n.flags|=2048,cc(9,Yk.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=ba(),t=Or.identifierPrefix;if(Ht){var r=Ba,n=Ia;r=(n&~(1<<32-fa(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=sc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=kA++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},PA={readContext:Xn,useCallback:oS,useContext:Xn,useEffect:Xm,useImperativeHandle:aS,useInsertionEffect:tS,useLayoutEffect:rS,useMemo:iS,useReducer:ap,useRef:eS,useState:function(){return ap(lc)},useDebugValue:qm,useDeferredValue:function(e){var t=qn();return sS(t,gr.memoizedState,e)},useTransition:function(){var e=ap(lc)[0],t=qn().memoizedState;return[e,t]},useMutableSource:Kk,useSyncExternalStore:Xk,useId:lS,unstable_isNewReconciler:!1},NA={readContext:Xn,useCallback:oS,useContext:Xn,useEffect:Xm,useImperativeHandle:aS,useInsertionEffect:tS,useLayoutEffect:rS,useMemo:iS,useReducer:op,useRef:eS,useState:function(){return op(lc)},useDebugValue:qm,useDeferredValue:function(e){var t=qn();return gr===null?t.memoizedState=e:sS(t,gr.memoizedState,e)},useTransition:function(){var e=op(lc)[0],t=qn().memoizedState;return[e,t]},useMutableSource:Kk,useSyncExternalStore:Xk,useId:lS,unstable_isNewReconciler:!1};function aa(e,t){if(e&&e.defaultProps){t=Qt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function k0(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Qt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Rd={isMounted:function(e){return(e=e._reactInternals)?ji(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=on(),a=Ao(e),o=Ua(n,a);o.payload=t,r!=null&&(o.callback=r),t=Po(e,o,a),t!==null&&(da(t,e,a,n),Xu(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=on(),a=Ao(e),o=Ua(n,a);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=Po(e,o,a),t!==null&&(da(t,e,a,n),Xu(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=on(),n=Ao(e),a=Ua(r,n);a.tag=2,t!=null&&(a.callback=t),t=Po(e,a,n),t!==null&&(da(t,e,n,r),Xu(t,e,n))}};function ox(e,t,r,n,a,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,i):t.prototype&&t.prototype.isPureReactComponent?!tc(r,n)||!tc(a,o):!0}function dS(e,t,r){var n=!1,a=To,o=t.contextType;return typeof o=="object"&&o!==null?o=Xn(o):(a=yn(t)?fi:Yr.current,n=t.contextTypes,o=(n=n!=null)?us(e,a):To),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Rd,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function ix(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Rd.enqueueReplaceState(t,t.state,null)}function S0(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},zm(e);var o=t.contextType;typeof o=="object"&&o!==null?a.context=Xn(o):(o=yn(t)?fi:Yr.current,a.context=us(e,o)),a.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(k0(e,t,o,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Rd.enqueueReplaceState(a,a.state,null),yf(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function ps(e,t){try{var r="",n=t;do r+=rN(n),n=n.return;while(n);var a=r}catch(o){a=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:a,digest:null}}function ip(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function j0(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var AA=typeof WeakMap=="function"?WeakMap:Map;function hS(e,t,r){r=Ua(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){kf||(kf=!0,$0=n),j0(e,t)},r}function pS(e,t,r){r=Ua(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){j0(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){j0(e,t),typeof n!="function"&&(No===null?No=new Set([this]):No.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function sx(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new AA;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=UA.bind(null,e,t,r),t.then(e,e))}function lx(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function cx(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ua(-1,1),t.tag=2,Po(r,t,1))),r.lanes|=1),e)}var MA=to.ReactCurrentOwner,pn=!1;function rn(e,t,r,n){t.child=e===null?Uk(t,null,r,n):ds(t,e.child,r,n)}function ux(e,t,r,n,a){r=r.render;var o=t.ref;return as(t,a),n=Vm(e,t,r,n,o,a),r=Km(),e!==null&&!pn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Qa(e,t,a)):(Ht&&r&&$m(t),t.flags|=1,rn(e,t,n,a),t.child)}function fx(e,t,r,n,a){if(e===null){var o=r.type;return typeof o=="function"&&!ny(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,gS(e,t,o,n,a)):(e=ef(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&a)){var i=o.memoizedProps;if(r=r.compare,r=r!==null?r:tc,r(i,n)&&e.ref===t.ref)return Qa(e,t,a)}return t.flags|=1,e=Mo(o,n),e.ref=t.ref,e.return=t,t.child=e}function gS(e,t,r,n,a){if(e!==null){var o=e.memoizedProps;if(tc(o,n)&&e.ref===t.ref)if(pn=!1,t.pendingProps=n=o,(e.lanes&a)!==0)e.flags&131072&&(pn=!0);else return t.lanes=e.lanes,Qa(e,t,a)}return O0(e,t,r,n,a)}function mS(e,t,r){var n=t.pendingProps,a=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Dt(Yi,_n),_n|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Dt(Yi,_n),_n|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,Dt(Yi,_n),_n|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,Dt(Yi,_n),_n|=n;return rn(e,t,a,r),t.child}function yS(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function O0(e,t,r,n,a){var o=yn(r)?fi:Yr.current;return o=us(t,o),as(t,a),r=Vm(e,t,r,n,o,a),n=Km(),e!==null&&!pn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Qa(e,t,a)):(Ht&&n&&$m(t),t.flags|=1,rn(e,t,r,a),t.child)}function dx(e,t,r,n,a){if(yn(r)){var o=!0;df(t)}else o=!1;if(as(t,a),t.stateNode===null)Qu(e,t),dS(t,r,n),S0(t,r,n,a),n=!0;else if(e===null){var i=t.stateNode,s=t.memoizedProps;i.props=s;var l=i.context,c=r.contextType;typeof c=="object"&&c!==null?c=Xn(c):(c=yn(r)?fi:Yr.current,c=us(t,c));var u=r.getDerivedStateFromProps,d=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function";d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(s!==n||l!==c)&&ix(t,i,n,c),ho=!1;var h=t.memoizedState;i.state=h,yf(t,n,i,a),l=t.memoizedState,s!==n||h!==l||mn.current||ho?(typeof u=="function"&&(k0(t,r,u,n),l=t.memoizedState),(s=ho||ox(t,r,s,n,h,l,c))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),i.props=n,i.state=l,i.context=c,n=s):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,Hk(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:aa(t.type,s),i.props=c,d=t.pendingProps,h=i.context,l=r.contextType,typeof l=="object"&&l!==null?l=Xn(l):(l=yn(r)?fi:Yr.current,l=us(t,l));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(s!==d||h!==l)&&ix(t,i,n,l),ho=!1,h=t.memoizedState,i.state=h,yf(t,n,i,a);var m=t.memoizedState;s!==d||h!==m||mn.current||ho?(typeof p=="function"&&(k0(t,r,p,n),m=t.memoizedState),(c=ho||ox(t,r,c,n,h,m,l)||!1)?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,m,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,m,l)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),i.props=n,i.state=m,i.context=l,n=c):(typeof i.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return _0(e,t,r,n,o,a)}function _0(e,t,r,n,a,o){yS(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return a&&Qv(t,r,!1),Qa(e,t,o);n=t.stateNode,MA.current=t;var s=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=ds(t,e.child,null,o),t.child=ds(t,null,s,o)):rn(e,t,s,o),t.memoizedState=n.state,a&&Qv(t,r,!0),t.child}function vS(e){var t=e.stateNode;t.pendingContext?Yv(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Yv(e,t.context,!1),Wm(e,t.containerInfo)}function hx(e,t,r,n,a){return fs(),Lm(a),t.flags|=256,rn(e,t,r,n),t.child}var P0={dehydrated:null,treeContext:null,retryLane:0};function N0(e){return{baseLanes:e,cachePool:null,transitions:null}}function xS(e,t,r){var n=t.pendingProps,a=qt.current,o=!1,i=(t.flags&128)!==0,s;if((s=i)||(s=e!==null&&e.memoizedState===null?!1:(a&2)!==0),s?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Dt(qt,a&1),e===null)return b0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,o?(n=t.mode,o=t.child,i={mode:"hidden",children:i},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Fd(i,n,0,null),e=ii(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=N0(r),t.memoizedState=P0,e):Ym(t,i));if(a=e.memoizedState,a!==null&&(s=a.dehydrated,s!==null))return CA(e,t,i,n,s,a,r);if(o){o=n.fallback,i=t.mode,a=e.child,s=a.sibling;var l={mode:"hidden",children:n.children};return!(i&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Mo(a,l),n.subtreeFlags=a.subtreeFlags&14680064),s!==null?o=Mo(s,o):(o=ii(o,i,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,i=e.child.memoizedState,i=i===null?N0(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~r,t.memoizedState=P0,n}return o=e.child,e=o.sibling,n=Mo(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Ym(e,t){return t=Fd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ju(e,t,r,n){return n!==null&&Lm(n),ds(t,e.child,null,r),e=Ym(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function CA(e,t,r,n,a,o,i){if(r)return t.flags&256?(t.flags&=-257,n=ip(Error(re(422))),ju(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,a=t.mode,n=Fd({mode:"visible",children:n.children},a,0,null),o=ii(o,a,i,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&ds(t,e.child,null,i),t.child.memoizedState=N0(i),t.memoizedState=P0,o);if(!(t.mode&1))return ju(e,t,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var s=n.dgst;return n=s,o=Error(re(419)),n=ip(o,n,void 0),ju(e,t,i,n)}if(s=(i&e.childLanes)!==0,pn||s){if(n=Or,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==o.retryLane&&(o.retryLane=a,Ya(e,a),da(n,e,a,-1))}return ry(),n=ip(Error(re(421))),ju(e,t,i,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=GA.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,An=_o(a.nextSibling),Mn=t,Ht=!0,la=null,e!==null&&(zn[Wn++]=Ia,zn[Wn++]=Ba,zn[Wn++]=di,Ia=e.id,Ba=e.overflow,di=t),t=Ym(t,n.children),t.flags|=4096,t)}function px(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),w0(e.return,t,r)}function sp(e,t,r,n,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=a)}function bS(e,t,r){var n=t.pendingProps,a=n.revealOrder,o=n.tail;if(rn(e,t,n.children,r),n=qt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&px(e,r,t);else if(e.tag===19)px(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Dt(qt,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&vf(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),sp(t,!1,a,r,o);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&vf(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}sp(t,!0,r,null,o);break;case"together":sp(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Qa(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),pi|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(re(153));if(t.child!==null){for(e=t.child,r=Mo(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Mo(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function EA(e,t,r){switch(t.tag){case 3:vS(t),fs();break;case 5:Vk(t);break;case 1:yn(t.type)&&df(t);break;case 4:Wm(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Dt(gf,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Dt(qt,qt.current&1),t.flags|=128,null):r&t.child.childLanes?xS(e,t,r):(Dt(qt,qt.current&1),e=Qa(e,t,r),e!==null?e.sibling:null);Dt(qt,qt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return bS(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Dt(qt,qt.current),n)break;return null;case 22:case 23:return t.lanes=0,mS(e,t,r)}return Qa(e,t,r)}var wS,A0,kS,SS;wS=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};A0=function(){};kS=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Zo(Oa.current);var o=null;switch(r){case"input":a=Qp(e,a),n=Qp(e,n),o=[];break;case"select":a=Qt({},a,{value:void 0}),n=Qt({},n,{value:void 0}),o=[];break;case"textarea":a=e0(e,a),n=e0(e,n),o=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=uf)}r0(r,n);var i;r=null;for(c in a)if(!n.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var s=a[c];for(i in s)s.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Xl.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in n){var l=n[c];if(s=a!=null?a[c]:void 0,n.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(i in s)!s.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in l)l.hasOwnProperty(i)&&s[i]!==l[i]&&(r||(r={}),r[i]=l[i])}else r||(o||(o=[]),o.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Xl.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ft("scroll",e),o||s===l||(o=[])):(o=o||[]).push(c,l))}r&&(o=o||[]).push("style",r);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};SS=function(e,t,r,n){r!==n&&(t.flags|=4)};function gl(e,t){if(!Ht)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ur(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function TA(e,t,r){var n=t.pendingProps;switch(Dm(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ur(t),null;case 1:return yn(t.type)&&ff(),Ur(t),null;case 3:return n=t.stateNode,hs(),Ut(mn),Ut(Yr),Gm(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ku(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,la!==null&&(R0(la),la=null))),A0(e,t),Ur(t),null;case 5:Um(t);var a=Zo(ic.current);if(r=t.type,e!==null&&t.stateNode!=null)kS(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(re(166));return Ur(t),null}if(e=Zo(Oa.current),ku(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[wa]=t,n[ac]=o,e=(t.mode&1)!==0,r){case"dialog":Ft("cancel",n),Ft("close",n);break;case"iframe":case"object":case"embed":Ft("load",n);break;case"video":case"audio":for(a=0;a<Ml.length;a++)Ft(Ml[a],n);break;case"source":Ft("error",n);break;case"img":case"image":case"link":Ft("error",n),Ft("load",n);break;case"details":Ft("toggle",n);break;case"input":Sv(n,o),Ft("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Ft("invalid",n);break;case"textarea":Ov(n,o),Ft("invalid",n)}r0(r,o),a=null;for(var i in o)if(o.hasOwnProperty(i)){var s=o[i];i==="children"?typeof s=="string"?n.textContent!==s&&(o.suppressHydrationWarning!==!0&&wu(n.textContent,s,e),a=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&wu(n.textContent,s,e),a=["children",""+s]):Xl.hasOwnProperty(i)&&s!=null&&i==="onScroll"&&Ft("scroll",n)}switch(r){case"input":hu(n),jv(n,o,!0);break;case"textarea":hu(n),_v(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=uf)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Q2(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[wa]=t,e[ac]=n,wS(e,t,!1,!1),t.stateNode=e;e:{switch(i=n0(r,n),r){case"dialog":Ft("cancel",e),Ft("close",e),a=n;break;case"iframe":case"object":case"embed":Ft("load",e),a=n;break;case"video":case"audio":for(a=0;a<Ml.length;a++)Ft(Ml[a],e);a=n;break;case"source":Ft("error",e),a=n;break;case"img":case"image":case"link":Ft("error",e),Ft("load",e),a=n;break;case"details":Ft("toggle",e),a=n;break;case"input":Sv(e,n),a=Qp(e,n),Ft("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Qt({},n,{value:void 0}),Ft("invalid",e);break;case"textarea":Ov(e,n),a=e0(e,n),Ft("invalid",e);break;default:a=n}r0(r,a),s=a;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?ek(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Z2(e,l)):o==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&ql(e,l):typeof l=="number"&&ql(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Xl.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Ft("scroll",e):l!=null&&bm(e,o,l,i))}switch(r){case"input":hu(e),jv(e,n,!1);break;case"textarea":hu(e),_v(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Eo(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?es(e,!!n.multiple,o,!1):n.defaultValue!=null&&es(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=uf)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ur(t),null;case 6:if(e&&t.stateNode!=null)SS(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(re(166));if(r=Zo(ic.current),Zo(Oa.current),ku(t)){if(n=t.stateNode,r=t.memoizedProps,n[wa]=t,(o=n.nodeValue!==r)&&(e=Mn,e!==null))switch(e.tag){case 3:wu(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&wu(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[wa]=t,t.stateNode=n}return Ur(t),null;case 13:if(Ut(qt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ht&&An!==null&&t.mode&1&&!(t.flags&128))zk(),fs(),t.flags|=98560,o=!1;else if(o=ku(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(re(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(re(317));o[wa]=t}else fs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ur(t),o=!1}else la!==null&&(R0(la),la=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||qt.current&1?mr===0&&(mr=3):ry())),t.updateQueue!==null&&(t.flags|=4),Ur(t),null);case 4:return hs(),A0(e,t),e===null&&rc(t.stateNode.containerInfo),Ur(t),null;case 10:return Bm(t.type._context),Ur(t),null;case 17:return yn(t.type)&&ff(),Ur(t),null;case 19:if(Ut(qt),o=t.memoizedState,o===null)return Ur(t),null;if(n=(t.flags&128)!==0,i=o.rendering,i===null)if(n)gl(o,!1);else{if(mr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=vf(e),i!==null){for(t.flags|=128,gl(o,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Dt(qt,qt.current&1|2),t.child}e=e.sibling}o.tail!==null&&ar()>gs&&(t.flags|=128,n=!0,gl(o,!1),t.lanes=4194304)}else{if(!n)if(e=vf(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),gl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!Ht)return Ur(t),null}else 2*ar()-o.renderingStartTime>gs&&r!==1073741824&&(t.flags|=128,n=!0,gl(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(r=o.last,r!==null?r.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=ar(),t.sibling=null,r=qt.current,Dt(qt,n?r&1|2:r&1),t):(Ur(t),null);case 22:case 23:return ty(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?_n&1073741824&&(Ur(t),t.subtreeFlags&6&&(t.flags|=8192)):Ur(t),null;case 24:return null;case 25:return null}throw Error(re(156,t.tag))}function $A(e,t){switch(Dm(t),t.tag){case 1:return yn(t.type)&&ff(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return hs(),Ut(mn),Ut(Yr),Gm(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Um(t),null;case 13:if(Ut(qt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(re(340));fs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ut(qt),null;case 4:return hs(),null;case 10:return Bm(t.type._context),null;case 22:case 23:return ty(),null;case 24:return null;default:return null}}var Ou=!1,Vr=!1,DA=typeof WeakSet=="function"?WeakSet:Set,me=null;function qi(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Jt(e,t,n)}else r.current=null}function M0(e,t,r){try{r()}catch(n){Jt(e,t,n)}}var gx=!1;function LA(e,t){if(h0=sf,e=Nk(),Tm(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var i=0,s=-1,l=-1,c=0,u=0,d=e,h=null;t:for(;;){for(var p;d!==r||a!==0&&d.nodeType!==3||(s=i+a),d!==o||n!==0&&d.nodeType!==3||(l=i+n),d.nodeType===3&&(i+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===e)break t;if(h===r&&++c===a&&(s=i),h===o&&++u===n&&(l=i),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}r=s===-1||l===-1?null:{start:s,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(p0={focusedElem:e,selectionRange:r},sf=!1,me=t;me!==null;)if(t=me,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,me=e;else for(;me!==null;){t=me;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var v=m.memoizedProps,x=m.memoizedState,y=t.stateNode,g=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:aa(t.type,v),x);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(re(163))}}catch(k){Jt(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,me=e;break}me=t.return}return m=gx,gx=!1,m}function Il(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,o!==void 0&&M0(t,r,o)}a=a.next}while(a!==n)}}function Id(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function C0(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function jS(e){var t=e.alternate;t!==null&&(e.alternate=null,jS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[wa],delete t[ac],delete t[y0],delete t[vA],delete t[xA])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function OS(e){return e.tag===5||e.tag===3||e.tag===4}function mx(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||OS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function E0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=uf));else if(n!==4&&(e=e.child,e!==null))for(E0(e,t,r),e=e.sibling;e!==null;)E0(e,t,r),e=e.sibling}function T0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(T0(e,t,r),e=e.sibling;e!==null;)T0(e,t,r),e=e.sibling}var $r=null,oa=!1;function co(e,t,r){for(r=r.child;r!==null;)_S(e,t,r),r=r.sibling}function _S(e,t,r){if(ja&&typeof ja.onCommitFiberUnmount=="function")try{ja.onCommitFiberUnmount(Md,r)}catch{}switch(r.tag){case 5:Vr||qi(r,t);case 6:var n=$r,a=oa;$r=null,co(e,t,r),$r=n,oa=a,$r!==null&&(oa?(e=$r,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):$r.removeChild(r.stateNode));break;case 18:$r!==null&&(oa?(e=$r,r=r.stateNode,e.nodeType===8?ep(e.parentNode,r):e.nodeType===1&&ep(e,r),Jl(e)):ep($r,r.stateNode));break;case 4:n=$r,a=oa,$r=r.stateNode.containerInfo,oa=!0,co(e,t,r),$r=n,oa=a;break;case 0:case 11:case 14:case 15:if(!Vr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var o=a,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&M0(r,t,i),a=a.next}while(a!==n)}co(e,t,r);break;case 1:if(!Vr&&(qi(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){Jt(r,t,s)}co(e,t,r);break;case 21:co(e,t,r);break;case 22:r.mode&1?(Vr=(n=Vr)||r.memoizedState!==null,co(e,t,r),Vr=n):co(e,t,r);break;default:co(e,t,r)}}function yx(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new DA),t.forEach(function(n){var a=HA.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function ra(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var o=e,i=t,s=i;e:for(;s!==null;){switch(s.tag){case 5:$r=s.stateNode,oa=!1;break e;case 3:$r=s.stateNode.containerInfo,oa=!0;break e;case 4:$r=s.stateNode.containerInfo,oa=!0;break e}s=s.return}if($r===null)throw Error(re(160));_S(o,i,a),$r=null,oa=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(c){Jt(a,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)PS(t,e),t=t.sibling}function PS(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ra(t,e),xa(e),n&4){try{Il(3,e,e.return),Id(3,e)}catch(v){Jt(e,e.return,v)}try{Il(5,e,e.return)}catch(v){Jt(e,e.return,v)}}break;case 1:ra(t,e),xa(e),n&512&&r!==null&&qi(r,r.return);break;case 5:if(ra(t,e),xa(e),n&512&&r!==null&&qi(r,r.return),e.flags&32){var a=e.stateNode;try{ql(a,"")}catch(v){Jt(e,e.return,v)}}if(n&4&&(a=e.stateNode,a!=null)){var o=e.memoizedProps,i=r!==null?r.memoizedProps:o,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&q2(a,o),n0(s,i);var c=n0(s,o);for(i=0;i<l.length;i+=2){var u=l[i],d=l[i+1];u==="style"?ek(a,d):u==="dangerouslySetInnerHTML"?Z2(a,d):u==="children"?ql(a,d):bm(a,u,d,c)}switch(s){case"input":Zp(a,o);break;case"textarea":Y2(a,o);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?es(a,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?es(a,!!o.multiple,o.defaultValue,!0):es(a,!!o.multiple,o.multiple?[]:"",!1))}a[ac]=o}catch(v){Jt(e,e.return,v)}}break;case 6:if(ra(t,e),xa(e),n&4){if(e.stateNode===null)throw Error(re(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(v){Jt(e,e.return,v)}}break;case 3:if(ra(t,e),xa(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Jl(t.containerInfo)}catch(v){Jt(e,e.return,v)}break;case 4:ra(t,e),xa(e);break;case 13:ra(t,e),xa(e),a=e.child,a.flags&8192&&(o=a.memoizedState!==null,a.stateNode.isHidden=o,!o||a.alternate!==null&&a.alternate.memoizedState!==null||(Jm=ar())),n&4&&yx(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(Vr=(c=Vr)||u,ra(t,e),Vr=c):ra(t,e),xa(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(me=e,u=e.child;u!==null;){for(d=me=u;me!==null;){switch(h=me,p=h.child,h.tag){case 0:case 11:case 14:case 15:Il(4,h,h.return);break;case 1:qi(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(v){Jt(n,r,v)}}break;case 5:qi(h,h.return);break;case 22:if(h.memoizedState!==null){xx(d);continue}}p!==null?(p.return=h,me=p):xx(d)}u=u.sibling}e:for(u=null,d=e;;){if(d.tag===5){if(u===null){u=d;try{a=d.stateNode,c?(o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=d.stateNode,l=d.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=J2("display",i))}catch(v){Jt(e,e.return,v)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(v){Jt(e,e.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ra(t,e),xa(e),n&4&&yx(e);break;case 21:break;default:ra(t,e),xa(e)}}function xa(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(OS(r)){var n=r;break e}r=r.return}throw Error(re(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(ql(a,""),n.flags&=-33);var o=mx(e);T0(e,o,a);break;case 3:case 4:var i=n.stateNode.containerInfo,s=mx(e);E0(e,s,i);break;default:throw Error(re(161))}}catch(l){Jt(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function RA(e,t,r){me=e,NS(e)}function NS(e,t,r){for(var n=(e.mode&1)!==0;me!==null;){var a=me,o=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||Ou;if(!i){var s=a.alternate,l=s!==null&&s.memoizedState!==null||Vr;s=Ou;var c=Vr;if(Ou=i,(Vr=l)&&!c)for(me=a;me!==null;)i=me,l=i.child,i.tag===22&&i.memoizedState!==null?bx(a):l!==null?(l.return=i,me=l):bx(a);for(;o!==null;)me=o,NS(o),o=o.sibling;me=a,Ou=s,Vr=c}vx(e)}else a.subtreeFlags&8772&&o!==null?(o.return=a,me=o):vx(e)}}function vx(e){for(;me!==null;){var t=me;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Vr||Id(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Vr)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:aa(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&rx(t,o,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}rx(t,i,r)}break;case 5:var s=t.stateNode;if(r===null&&t.flags&4){r=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Jl(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(re(163))}Vr||t.flags&512&&C0(t)}catch(h){Jt(t,t.return,h)}}if(t===e){me=null;break}if(r=t.sibling,r!==null){r.return=t.return,me=r;break}me=t.return}}function xx(e){for(;me!==null;){var t=me;if(t===e){me=null;break}var r=t.sibling;if(r!==null){r.return=t.return,me=r;break}me=t.return}}function bx(e){for(;me!==null;){var t=me;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Id(4,t)}catch(l){Jt(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(l){Jt(t,a,l)}}var o=t.return;try{C0(t)}catch(l){Jt(t,o,l)}break;case 5:var i=t.return;try{C0(t)}catch(l){Jt(t,i,l)}}}catch(l){Jt(t,t.return,l)}if(t===e){me=null;break}var s=t.sibling;if(s!==null){s.return=t.return,me=s;break}me=t.return}}var IA=Math.ceil,wf=to.ReactCurrentDispatcher,Qm=to.ReactCurrentOwner,Vn=to.ReactCurrentBatchConfig,st=0,Or=null,lr=null,Lr=0,_n=0,Yi=Do(0),mr=0,uc=null,pi=0,Bd=0,Zm=0,Bl=null,hn=null,Jm=0,gs=1/0,La=null,kf=!1,$0=null,No=null,_u=!1,xo=null,Sf=0,Fl=0,D0=null,Zu=-1,Ju=0;function on(){return st&6?ar():Zu!==-1?Zu:Zu=ar()}function Ao(e){return e.mode&1?st&2&&Lr!==0?Lr&-Lr:wA.transition!==null?(Ju===0&&(Ju=dk()),Ju):(e=kt,e!==0||(e=window.event,e=e===void 0?16:xk(e.type)),e):1}function da(e,t,r,n){if(50<Fl)throw Fl=0,D0=null,Error(re(185));Xc(e,r,n),(!(st&2)||e!==Or)&&(e===Or&&(!(st&2)&&(Bd|=r),mr===4&&mo(e,Lr)),vn(e,n),r===1&&st===0&&!(t.mode&1)&&(gs=ar()+500,Dd&&Lo()))}function vn(e,t){var r=e.callbackNode;wN(e,t);var n=of(e,e===Or?Lr:0);if(n===0)r!==null&&Av(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Av(r),t===1)e.tag===0?bA(wx.bind(null,e)):Ik(wx.bind(null,e)),mA(function(){!(st&6)&&Lo()}),r=null;else{switch(hk(n)){case 1:r=Om;break;case 4:r=uk;break;case 16:r=af;break;case 536870912:r=fk;break;default:r=af}r=LS(r,AS.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function AS(e,t){if(Zu=-1,Ju=0,st&6)throw Error(re(327));var r=e.callbackNode;if(os()&&e.callbackNode!==r)return null;var n=of(e,e===Or?Lr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=jf(e,n);else{t=n;var a=st;st|=2;var o=CS();(Or!==e||Lr!==t)&&(La=null,gs=ar()+500,oi(e,t));do try{zA();break}catch(s){MS(e,s)}while(!0);Im(),wf.current=o,st=a,lr!==null?t=0:(Or=null,Lr=0,t=mr)}if(t!==0){if(t===2&&(a=l0(e),a!==0&&(n=a,t=L0(e,a))),t===1)throw r=uc,oi(e,0),mo(e,n),vn(e,ar()),r;if(t===6)mo(e,n);else{if(a=e.current.alternate,!(n&30)&&!BA(a)&&(t=jf(e,n),t===2&&(o=l0(e),o!==0&&(n=o,t=L0(e,o))),t===1))throw r=uc,oi(e,0),mo(e,n),vn(e,ar()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(re(345));case 2:Vo(e,hn,La);break;case 3:if(mo(e,n),(n&130023424)===n&&(t=Jm+500-ar(),10<t)){if(of(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){on(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=m0(Vo.bind(null,e,hn,La),t);break}Vo(e,hn,La);break;case 4:if(mo(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var i=31-fa(n);o=1<<i,i=t[i],i>a&&(a=i),n&=~o}if(n=a,n=ar()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*IA(n/1960))-n,10<n){e.timeoutHandle=m0(Vo.bind(null,e,hn,La),n);break}Vo(e,hn,La);break;case 5:Vo(e,hn,La);break;default:throw Error(re(329))}}}return vn(e,ar()),e.callbackNode===r?AS.bind(null,e):null}function L0(e,t){var r=Bl;return e.current.memoizedState.isDehydrated&&(oi(e,t).flags|=256),e=jf(e,t),e!==2&&(t=hn,hn=r,t!==null&&R0(t)),e}function R0(e){hn===null?hn=e:hn.push.apply(hn,e)}function BA(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],o=a.getSnapshot;a=a.value;try{if(!ha(o(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function mo(e,t){for(t&=~Zm,t&=~Bd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-fa(t),n=1<<r;e[r]=-1,t&=~n}}function wx(e){if(st&6)throw Error(re(327));os();var t=of(e,0);if(!(t&1))return vn(e,ar()),null;var r=jf(e,t);if(e.tag!==0&&r===2){var n=l0(e);n!==0&&(t=n,r=L0(e,n))}if(r===1)throw r=uc,oi(e,0),mo(e,t),vn(e,ar()),r;if(r===6)throw Error(re(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Vo(e,hn,La),vn(e,ar()),null}function ey(e,t){var r=st;st|=1;try{return e(t)}finally{st=r,st===0&&(gs=ar()+500,Dd&&Lo())}}function gi(e){xo!==null&&xo.tag===0&&!(st&6)&&os();var t=st;st|=1;var r=Vn.transition,n=kt;try{if(Vn.transition=null,kt=1,e)return e()}finally{kt=n,Vn.transition=r,st=t,!(st&6)&&Lo()}}function ty(){_n=Yi.current,Ut(Yi)}function oi(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,gA(r)),lr!==null)for(r=lr.return;r!==null;){var n=r;switch(Dm(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ff();break;case 3:hs(),Ut(mn),Ut(Yr),Gm();break;case 5:Um(n);break;case 4:hs();break;case 13:Ut(qt);break;case 19:Ut(qt);break;case 10:Bm(n.type._context);break;case 22:case 23:ty()}r=r.return}if(Or=e,lr=e=Mo(e.current,null),Lr=_n=t,mr=0,uc=null,Zm=Bd=pi=0,hn=Bl=null,Qo!==null){for(t=0;t<Qo.length;t++)if(r=Qo[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,o=r.pending;if(o!==null){var i=o.next;o.next=a,n.next=i}r.pending=n}Qo=null}return e}function MS(e,t){do{var r=lr;try{if(Im(),qu.current=bf,xf){for(var n=Yt.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}xf=!1}if(hi=0,jr=gr=Yt=null,Rl=!1,sc=0,Qm.current=null,r===null||r.return===null){mr=1,uc=t,lr=null;break}e:{var o=e,i=r.return,s=r,l=t;if(t=Lr,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=s,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=lx(i);if(p!==null){p.flags&=-257,cx(p,i,s,o,t),p.mode&1&&sx(o,c,t),t=p,l=c;var m=t.updateQueue;if(m===null){var v=new Set;v.add(l),t.updateQueue=v}else m.add(l);break e}else{if(!(t&1)){sx(o,c,t),ry();break e}l=Error(re(426))}}else if(Ht&&s.mode&1){var x=lx(i);if(x!==null){!(x.flags&65536)&&(x.flags|=256),cx(x,i,s,o,t),Lm(ps(l,s));break e}}o=l=ps(l,s),mr!==4&&(mr=2),Bl===null?Bl=[o]:Bl.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var y=hS(o,l,t);tx(o,y);break e;case 1:s=l;var g=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(No===null||!No.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t;var k=pS(o,s,t);tx(o,k);break e}}o=o.return}while(o!==null)}TS(r)}catch(w){t=w,lr===r&&r!==null&&(lr=r=r.return);continue}break}while(!0)}function CS(){var e=wf.current;return wf.current=bf,e===null?bf:e}function ry(){(mr===0||mr===3||mr===2)&&(mr=4),Or===null||!(pi&268435455)&&!(Bd&268435455)||mo(Or,Lr)}function jf(e,t){var r=st;st|=2;var n=CS();(Or!==e||Lr!==t)&&(La=null,oi(e,t));do try{FA();break}catch(a){MS(e,a)}while(!0);if(Im(),st=r,wf.current=n,lr!==null)throw Error(re(261));return Or=null,Lr=0,mr}function FA(){for(;lr!==null;)ES(lr)}function zA(){for(;lr!==null&&!dN();)ES(lr)}function ES(e){var t=DS(e.alternate,e,_n);e.memoizedProps=e.pendingProps,t===null?TS(e):lr=t,Qm.current=null}function TS(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=$A(r,t),r!==null){r.flags&=32767,lr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{mr=6,lr=null;return}}else if(r=TA(r,t,_n),r!==null){lr=r;return}if(t=t.sibling,t!==null){lr=t;return}lr=t=e}while(t!==null);mr===0&&(mr=5)}function Vo(e,t,r){var n=kt,a=Vn.transition;try{Vn.transition=null,kt=1,WA(e,t,r,n)}finally{Vn.transition=a,kt=n}return null}function WA(e,t,r,n){do os();while(xo!==null);if(st&6)throw Error(re(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(re(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(kN(e,o),e===Or&&(lr=Or=null,Lr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||_u||(_u=!0,LS(af,function(){return os(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=Vn.transition,Vn.transition=null;var i=kt;kt=1;var s=st;st|=4,Qm.current=null,LA(e,r),PS(r,e),lA(p0),sf=!!h0,p0=h0=null,e.current=r,RA(r),hN(),st=s,kt=i,Vn.transition=o}else e.current=r;if(_u&&(_u=!1,xo=e,Sf=a),o=e.pendingLanes,o===0&&(No=null),mN(r.stateNode),vn(e,ar()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(kf)throw kf=!1,e=$0,$0=null,e;return Sf&1&&e.tag!==0&&os(),o=e.pendingLanes,o&1?e===D0?Fl++:(Fl=0,D0=e):Fl=0,Lo(),null}function os(){if(xo!==null){var e=hk(Sf),t=Vn.transition,r=kt;try{if(Vn.transition=null,kt=16>e?16:e,xo===null)var n=!1;else{if(e=xo,xo=null,Sf=0,st&6)throw Error(re(331));var a=st;for(st|=4,me=e.current;me!==null;){var o=me,i=o.child;if(me.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(me=c;me!==null;){var u=me;switch(u.tag){case 0:case 11:case 15:Il(8,u,o)}var d=u.child;if(d!==null)d.return=u,me=d;else for(;me!==null;){u=me;var h=u.sibling,p=u.return;if(jS(u),u===c){me=null;break}if(h!==null){h.return=p,me=h;break}me=p}}}var m=o.alternate;if(m!==null){var v=m.child;if(v!==null){m.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}me=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,me=i;else e:for(;me!==null;){if(o=me,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Il(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,me=y;break e}me=o.return}}var g=e.current;for(me=g;me!==null;){i=me;var b=i.child;if(i.subtreeFlags&2064&&b!==null)b.return=i,me=b;else e:for(i=g;me!==null;){if(s=me,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Id(9,s)}}catch(w){Jt(s,s.return,w)}if(s===i){me=null;break e}var k=s.sibling;if(k!==null){k.return=s.return,me=k;break e}me=s.return}}if(st=a,Lo(),ja&&typeof ja.onPostCommitFiberRoot=="function")try{ja.onPostCommitFiberRoot(Md,e)}catch{}n=!0}return n}finally{kt=r,Vn.transition=t}}return!1}function kx(e,t,r){t=ps(r,t),t=hS(e,t,1),e=Po(e,t,1),t=on(),e!==null&&(Xc(e,1,t),vn(e,t))}function Jt(e,t,r){if(e.tag===3)kx(e,e,r);else for(;t!==null;){if(t.tag===3){kx(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(No===null||!No.has(n))){e=ps(r,e),e=pS(t,e,1),t=Po(t,e,1),e=on(),t!==null&&(Xc(t,1,e),vn(t,e));break}}t=t.return}}function UA(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=on(),e.pingedLanes|=e.suspendedLanes&r,Or===e&&(Lr&r)===r&&(mr===4||mr===3&&(Lr&130023424)===Lr&&500>ar()-Jm?oi(e,0):Zm|=r),vn(e,t)}function $S(e,t){t===0&&(e.mode&1?(t=mu,mu<<=1,!(mu&130023424)&&(mu=4194304)):t=1);var r=on();e=Ya(e,t),e!==null&&(Xc(e,t,r),vn(e,r))}function GA(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),$S(e,r)}function HA(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(re(314))}n!==null&&n.delete(t),$S(e,r)}var DS;DS=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||mn.current)pn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return pn=!1,EA(e,t,r);pn=!!(e.flags&131072)}else pn=!1,Ht&&t.flags&1048576&&Bk(t,pf,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Qu(e,t),e=t.pendingProps;var a=us(t,Yr.current);as(t,r),a=Vm(null,t,n,e,a,r);var o=Km();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,yn(n)?(o=!0,df(t)):o=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,zm(t),a.updater=Rd,t.stateNode=a,a._reactInternals=t,S0(t,n,e,r),t=_0(null,t,n,!0,o,r)):(t.tag=0,Ht&&o&&$m(t),rn(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Qu(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=KA(n),e=aa(n,e),a){case 0:t=O0(null,t,n,e,r);break e;case 1:t=dx(null,t,n,e,r);break e;case 11:t=ux(null,t,n,e,r);break e;case 14:t=fx(null,t,n,aa(n.type,e),r);break e}throw Error(re(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:aa(n,a),O0(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:aa(n,a),dx(e,t,n,a,r);case 3:e:{if(vS(t),e===null)throw Error(re(387));n=t.pendingProps,o=t.memoizedState,a=o.element,Hk(e,t),yf(t,n,null,r);var i=t.memoizedState;if(n=i.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){a=ps(Error(re(423)),t),t=hx(e,t,n,r,a);break e}else if(n!==a){a=ps(Error(re(424)),t),t=hx(e,t,n,r,a);break e}else for(An=_o(t.stateNode.containerInfo.firstChild),Mn=t,Ht=!0,la=null,r=Uk(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(fs(),n===a){t=Qa(e,t,r);break e}rn(e,t,n,r)}t=t.child}return t;case 5:return Vk(t),e===null&&b0(t),n=t.type,a=t.pendingProps,o=e!==null?e.memoizedProps:null,i=a.children,g0(n,a)?i=null:o!==null&&g0(n,o)&&(t.flags|=32),yS(e,t),rn(e,t,i,r),t.child;case 6:return e===null&&b0(t),null;case 13:return xS(e,t,r);case 4:return Wm(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ds(t,null,n,r):rn(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:aa(n,a),ux(e,t,n,a,r);case 7:return rn(e,t,t.pendingProps,r),t.child;case 8:return rn(e,t,t.pendingProps.children,r),t.child;case 12:return rn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,o=t.memoizedProps,i=a.value,Dt(gf,n._currentValue),n._currentValue=i,o!==null)if(ha(o.value,i)){if(o.children===a.children&&!mn.current){t=Qa(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var s=o.dependencies;if(s!==null){i=o.child;for(var l=s.firstContext;l!==null;){if(l.context===n){if(o.tag===1){l=Ua(-1,r&-r),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),w0(o.return,r,t),s.lanes|=r;break}l=l.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(re(341));i.lanes|=r,s=i.alternate,s!==null&&(s.lanes|=r),w0(i,r,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}rn(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,as(t,r),a=Xn(a),n=n(a),t.flags|=1,rn(e,t,n,r),t.child;case 14:return n=t.type,a=aa(n,t.pendingProps),a=aa(n.type,a),fx(e,t,n,a,r);case 15:return gS(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:aa(n,a),Qu(e,t),t.tag=1,yn(n)?(e=!0,df(t)):e=!1,as(t,r),dS(t,n,a),S0(t,n,a,r),_0(null,t,n,!0,e,r);case 19:return bS(e,t,r);case 22:return mS(e,t,r)}throw Error(re(156,t.tag))};function LS(e,t){return ck(e,t)}function VA(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(e,t,r,n){return new VA(e,t,r,n)}function ny(e){return e=e.prototype,!(!e||!e.isReactComponent)}function KA(e){if(typeof e=="function")return ny(e)?1:0;if(e!=null){if(e=e.$$typeof,e===km)return 11;if(e===Sm)return 14}return 2}function Mo(e,t){var r=e.alternate;return r===null?(r=Un(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ef(e,t,r,n,a,o){var i=2;if(n=e,typeof e=="function")ny(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Fi:return ii(r.children,a,o,t);case wm:i=8,a|=8;break;case Kp:return e=Un(12,r,t,a|2),e.elementType=Kp,e.lanes=o,e;case Xp:return e=Un(13,r,t,a),e.elementType=Xp,e.lanes=o,e;case qp:return e=Un(19,r,t,a),e.elementType=qp,e.lanes=o,e;case V2:return Fd(r,a,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case G2:i=10;break e;case H2:i=9;break e;case km:i=11;break e;case Sm:i=14;break e;case fo:i=16,n=null;break e}throw Error(re(130,e==null?e:typeof e,""))}return t=Un(i,r,t,a),t.elementType=e,t.type=n,t.lanes=o,t}function ii(e,t,r,n){return e=Un(7,e,n,t),e.lanes=r,e}function Fd(e,t,r,n){return e=Un(22,e,n,t),e.elementType=V2,e.lanes=r,e.stateNode={isHidden:!1},e}function lp(e,t,r){return e=Un(6,e,null,t),e.lanes=r,e}function cp(e,t,r){return t=Un(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function XA(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Uh(0),this.expirationTimes=Uh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Uh(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function ay(e,t,r,n,a,o,i,s,l){return e=new XA(e,t,r,s,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Un(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},zm(o),e}function qA(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Bi,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function RS(e){if(!e)return To;e=e._reactInternals;e:{if(ji(e)!==e||e.tag!==1)throw Error(re(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(yn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(re(171))}if(e.tag===1){var r=e.type;if(yn(r))return Rk(e,r,t)}return t}function IS(e,t,r,n,a,o,i,s,l){return e=ay(r,n,!0,e,a,o,i,s,l),e.context=RS(null),r=e.current,n=on(),a=Ao(r),o=Ua(n,a),o.callback=t??null,Po(r,o,a),e.current.lanes=a,Xc(e,a,n),vn(e,n),e}function zd(e,t,r,n){var a=t.current,o=on(),i=Ao(a);return r=RS(r),t.context===null?t.context=r:t.pendingContext=r,t=Ua(o,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Po(a,t,i),e!==null&&(da(e,a,i,o),Xu(e,a,i)),i}function Of(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Sx(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function oy(e,t){Sx(e,t),(e=e.alternate)&&Sx(e,t)}function YA(){return null}var BS=typeof reportError=="function"?reportError:function(e){console.error(e)};function iy(e){this._internalRoot=e}Wd.prototype.render=iy.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(re(409));zd(e,t,null,null)};Wd.prototype.unmount=iy.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;gi(function(){zd(null,e,null,null)}),t[qa]=null}};function Wd(e){this._internalRoot=e}Wd.prototype.unstable_scheduleHydration=function(e){if(e){var t=mk();e={blockedOn:null,target:e,priority:t};for(var r=0;r<go.length&&t!==0&&t<go[r].priority;r++);go.splice(r,0,e),r===0&&vk(e)}};function sy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ud(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function jx(){}function QA(e,t,r,n,a){if(a){if(typeof n=="function"){var o=n;n=function(){var c=Of(i);o.call(c)}}var i=IS(t,n,e,0,null,!1,!1,"",jx);return e._reactRootContainer=i,e[qa]=i.current,rc(e.nodeType===8?e.parentNode:e),gi(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var s=n;n=function(){var c=Of(l);s.call(c)}}var l=ay(e,0,!1,null,null,!1,!1,"",jx);return e._reactRootContainer=l,e[qa]=l.current,rc(e.nodeType===8?e.parentNode:e),gi(function(){zd(t,l,r,n)}),l}function Gd(e,t,r,n,a){var o=r._reactRootContainer;if(o){var i=o;if(typeof a=="function"){var s=a;a=function(){var l=Of(i);s.call(l)}}zd(t,i,e,a)}else i=QA(r,t,e,a,n);return Of(i)}pk=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Al(t.pendingLanes);r!==0&&(_m(t,r|1),vn(t,ar()),!(st&6)&&(gs=ar()+500,Lo()))}break;case 13:gi(function(){var n=Ya(e,1);if(n!==null){var a=on();da(n,e,1,a)}}),oy(e,1)}};Pm=function(e){if(e.tag===13){var t=Ya(e,134217728);if(t!==null){var r=on();da(t,e,134217728,r)}oy(e,134217728)}};gk=function(e){if(e.tag===13){var t=Ao(e),r=Ya(e,t);if(r!==null){var n=on();da(r,e,t,n)}oy(e,t)}};mk=function(){return kt};yk=function(e,t){var r=kt;try{return kt=e,t()}finally{kt=r}};o0=function(e,t,r){switch(t){case"input":if(Zp(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=$d(n);if(!a)throw Error(re(90));X2(n),Zp(n,a)}}}break;case"textarea":Y2(e,r);break;case"select":t=r.value,t!=null&&es(e,!!r.multiple,t,!1)}};nk=ey;ak=gi;var ZA={usingClientEntryPoint:!1,Events:[Yc,Gi,$d,tk,rk,ey]},ml={findFiberByHostInstance:Yo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},JA={bundleType:ml.bundleType,version:ml.version,rendererPackageName:ml.rendererPackageName,rendererConfig:ml.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:to.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=sk(e),e===null?null:e.stateNode},findFiberByHostInstance:ml.findFiberByHostInstance||YA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pu.isDisabled&&Pu.supportsFiber)try{Md=Pu.inject(JA),ja=Pu}catch{}}En.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZA;En.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sy(t))throw Error(re(200));return qA(e,t,null,r)};En.createRoot=function(e,t){if(!sy(e))throw Error(re(299));var r=!1,n="",a=BS;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=ay(e,1,!1,null,null,r,!1,n,a),e[qa]=t.current,rc(e.nodeType===8?e.parentNode:e),new iy(t)};En.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(re(188)):(e=Object.keys(e).join(","),Error(re(268,e)));return e=sk(t),e=e===null?null:e.stateNode,e};En.flushSync=function(e){return gi(e)};En.hydrate=function(e,t,r){if(!Ud(t))throw Error(re(200));return Gd(null,e,t,!0,r)};En.hydrateRoot=function(e,t,r){if(!sy(e))throw Error(re(405));var n=r!=null&&r.hydratedSources||null,a=!1,o="",i=BS;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=IS(t,null,e,1,r??null,a,!1,o,i),e[qa]=t.current,rc(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Wd(t)};En.render=function(e,t,r){if(!Ud(t))throw Error(re(200));return Gd(null,e,t,!1,r)};En.unmountComponentAtNode=function(e){if(!Ud(e))throw Error(re(40));return e._reactRootContainer?(gi(function(){Gd(null,null,e,!1,function(){e._reactRootContainer=null,e[qa]=null})}),!0):!1};En.unstable_batchedUpdates=ey;En.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Ud(r))throw Error(re(200));if(e==null||e._reactInternals===void 0)throw Error(re(38));return Gd(e,t,r,!1,n)};En.version="18.3.1-next-f1338f8080-20240426";function FS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(FS)}catch(e){console.error(e)}}FS(),F2.exports=En;var eM=F2.exports,Ox=eM;Hp.createRoot=Ox.createRoot,Hp.hydrateRoot=Ox.hydrateRoot;const si=({isOpen:e,onClose:t,onConfirm:r,title:n,message:a,confirmText:o="I know the risk and insist to continue",cancelText:i="Cancel"})=>e?f.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:f.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-md rounded-2xl shadow-2xl border border-amber-500/30 overflow-hidden transform transition-all scale-100",children:[f.jsxs("div",{className:"bg-amber-500/10 p-6 flex flex-col items-center justify-center border-b border-amber-500/20",children:[f.jsx("div",{className:"w-16 h-16 bg-amber-100 dark:bg-amber-900/30 rounded-full flex items-center justify-center mb-4",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-amber-600 dark:text-amber-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),f.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white text-center",children:n})]}),f.jsx("div",{className:"p-6",children:f.jsx("div",{className:"text-gray-600 dark:text-slate-300 text-center text-sm leading-relaxed",children:a})}),f.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-800/50 flex gap-3 justify-end border-t border-gray-200 dark:border-slate-800",children:[f.jsx("button",{onClick:t,className:"px-4 py-2 bg-white hover:bg-gray-100 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-700 dark:text-slate-200 font-semibold rounded-lg border border-gray-300 dark:border-slate-600 transition-colors text-sm",children:i}),f.jsx("button",{onClick:r,className:"px-4 py-2 bg-amber-600 hover:bg-amber-700 text-white font-bold rounded-lg shadow-lg shadow-amber-500/20 transition-all active:scale-95 text-sm",children:o})]})]})}):null,tM=({onFileSelected:e,onGenerateFakeDng:t,fileName:r,hasGeneratedData:n,viewMode:a,onSetViewMode:o,patternPeriod:i,onPatternPeriodChange:s,fillFactor:l,onFillFactorChange:c,patternPhase:u,onPatternPhaseChange:d,showPatternControls:h,onOpenAbout:p,onShowExif:m,bridgeStatus:v,onBridgeClick:x,isDrLabOpen:y,onToggleDrLab:g,isFftLabOpen:b,onToggleFftLab:k,onGenerateTestPic:w,onPTCFilesSelected:S,onDownloadDng:j,isThreePlane:_,onOpenDatabase:P})=>{const A=O.useRef(null),N=O.useRef(null),[M,B]=O.useState(!1),[R,$]=O.useState(!1),[L,F]=O.useState(!1),[D,z]=O.useState(!1),[W,te]=O.useState("direct"),q=O.useRef(null),Z=O.useRef(null);O.useEffect(()=>{const H=ue=>{q.current&&!q.current.contains(ue.target)&&F(!1),Z.current&&!Z.current.contains(ue.target)&&z(!1)};return document.addEventListener("mousedown",H),()=>document.removeEventListener("mousedown",H)},[]);const U=H=>{var ue;F(!1),H==="direct"?(te("direct"),B(!0)):!v.isConnected||!v.hasDngConverter?$(!0):(te("convert"),(ue=A.current)==null||ue.click())},de=()=>{var H;B(!1),(H=A.current)==null||H.click()},ne=H=>{var xe;const ue=(xe=H.target.files)==null?void 0:xe[0];ue&&e(ue,W),H.target.value=""},Me=H=>{H.target.files&&H.target.files.length>0&&S(H.target.files),H.target.value=""},be=r==="pattern_test.dng"||(r==null?void 0:r.startsWith("Diff_"));return f.jsxs("header",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 mb-4 flex-shrink-0 relative z-50",children:[f.jsx(si,{isOpen:M,onClose:()=>B(!1),onConfirm:de,title:"Format Compatibility Warning",confirmText:"Continue",message:f.jsxs("div",{className:"flex flex-col gap-4",children:[f.jsx("p",{className:"font-bold text-gray-800 dark:text-gray-200 text-base",children:"Adobe DNG ConverterDNG"}),f.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Only 4-channel DNG files output by Adobe DNG Converter are fully guaranteed to be supported."}),f.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 rounded-lg border border-gray-200 dark:border-slate-700",children:[f.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-500 mb-1",children:"Download Adobe DNG Converter:"}),f.jsx("a",{href:"https://helpx.adobe.com/camera-raw/using/adobe-dng-converter.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline text-xs break-all",children:"https://helpx.adobe.com/camera-raw/using/adobe-dng-converter.html"})]})]})}),f.jsx(si,{isOpen:R,onClose:()=>$(!1),onConfirm:()=>$(!1),title:"DNG Converter Missing",confirmText:"OK",cancelText:"Cancel",message:f.jsxs("div",{className:"flex flex-col gap-4",children:[f.jsx("p",{className:"font-bold text-red-600 dark:text-red-400 text-base",children:"JiangBridge Offline or Adobe DNG Converter not installed (you may have to restart your device after installing ADC to use it here)"}),f.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"To use the conversion feature, you must run JiangBridge locally and have Adobe DNG Converter installed on your system."}),f.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 rounded-lg border border-gray-200 dark:border-slate-700",children:[f.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-500 mb-1",children:"Download Adobe DNG Converter:"}),f.jsx("a",{href:"https://helpx.adobe.com/camera-raw/using/adobe-dng-converter.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline text-xs break-all",children:"https://helpx.adobe.com/camera-raw/using/adobe-dng-converter.html"})]})]})}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-cyan-500 to-blue-600 dark:from-cyan-400 dark:to-blue-500 text-center sm:text-left",children:"Jiangtherapee Online"}),f.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 hidden lg:block max-w-xs truncate",title:r||"No image loaded",children:r||"No image loaded"}),_&&f.jsx("span",{className:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400 border border-red-200 dark:border-red-800 text-[10px] font-bold px-2 py-1 rounded animate-pulse",children:" 3-PLANE / RGB MODE"})]}),f.jsxs("div",{className:"flex items-center gap-4 flex-wrap justify-end",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("button",{onClick:v.isConnected?void 0:x,className:`px-3 py-1.5 rounded-full text-xs font-bold transition-all duration-200 flex items-center gap-1.5 shadow-sm border ${v.isConnected?"bg-emerald-100 text-emerald-700 border-emerald-200 dark:bg-emerald-900/30 dark:text-emerald-400 dark:border-emerald-800 cursor-default":"bg-pink-100 text-pink-600 border-pink-200 dark:bg-pink-900/30 dark:text-pink-400 dark:border-pink-800 hover:bg-pink-200 dark:hover:bg-pink-900/50 cursor-pointer animate-pulse"}`,title:v.isConnected?"Local Bridge Service Connected":"Click to download Jiangbridge",children:[f.jsx("span",{className:`w-2 h-2 rounded-full ${v.isConnected?"bg-emerald-500":"bg-pink-500"}`}),v.isConnected?`JiangBridge Ready ${v.hasDngConverter?"DNG+":""}`:"JiangBridge Offline"]}),y&&f.jsxs("button",{onClick:g,className:"px-3 py-1.5 rounded-full text-xs font-bold transition-all duration-200 flex items-center gap-1.5 shadow-sm border bg-indigo-100 text-indigo-700 border-indigo-200 dark:bg-indigo-900/30 dark:text-indigo-400 dark:border-indigo-800 hover:bg-indigo-200 dark:hover:bg-indigo-900/50 cursor-pointer animate-in fade-in",title:"Click to turn off DR Lab",children:[f.jsx("span",{className:"w-2 h-2 rounded-full bg-indigo-500 animate-pulse"}),"DR Lab On"]}),b&&f.jsxs("button",{onClick:k,className:"px-3 py-1.5 rounded-full text-xs font-bold transition-all duration-200 flex items-center gap-1.5 shadow-sm border bg-fuchsia-100 text-fuchsia-700 border-fuchsia-200 dark:bg-fuchsia-900/30 dark:text-fuchsia-400 dark:border-fuchsia-800 hover:bg-fuchsia-200 dark:hover:bg-fuchsia-900/50 cursor-pointer animate-in fade-in",title:"Click to turn off FFT Lab",children:[f.jsx("span",{className:"w-2 h-2 rounded-full bg-fuchsia-500 animate-pulse"}),"FFT Lab On"]}),n&&f.jsxs("div",{className:"flex bg-gray-100 dark:bg-slate-800 rounded-lg p-1 border border-gray-200 dark:border-slate-600 shadow-inner transition-colors duration-300",children:[f.jsx("button",{onClick:()=>o("reference"),className:`px-3 py-1.5 rounded-md text-xs sm:text-sm font-bold transition-all duration-200 ${a==="reference"?"bg-green-500 dark:bg-green-600 text-white shadow-md":"text-gray-500 dark:text-slate-400 hover:text-gray-900 dark:hover:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700"}`,title:"The perfect uniform input",children:"Perfect"}),f.jsx("button",{onClick:()=>o("sampled"),className:`px-3 py-1.5 rounded-md text-xs sm:text-sm font-bold transition-all duration-200 ${a==="sampled"?"bg-blue-500 dark:bg-blue-600 text-white shadow-md":"text-gray-500 dark:text-slate-400 hover:text-gray-900 dark:hover:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700"}`,title:"Sampled Sensor View with Aperture Visualization",children:"Sampled (Sensor)"}),f.jsx("button",{onClick:()=>o("processed"),className:`px-3 py-1.5 rounded-md text-xs sm:text-sm font-bold transition-all duration-200 ${a==="processed"?"bg-purple-500 dark:bg-purple-600 text-white shadow-md":"text-gray-500 dark:text-slate-400 hover:text-gray-900 dark:hover:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700"}`,title:"Demosaiced Result",children:"Result"})]})]}),be&&f.jsxs("div",{className:"flex items-center gap-2 animate-in fade-in slide-in-from-right-4 duration-300",children:[h&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex flex-col items-end mr-1 bg-gray-50 dark:bg-slate-800/50 p-1.5 rounded-lg border border-gray-200 dark:border-slate-700 transition-colors duration-300",children:[f.jsx("span",{className:"text-[10px] text-gray-500 dark:text-slate-400 font-mono uppercase tracking-wider mb-1",children:"Density (Period)"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("input",{type:"range",min:"0.1",max:"10",step:"0.1",value:i,onChange:H=>s(parseFloat(H.target.value)),className:"w-20 h-2 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-purple-500",title:"Adjust the period of the line pairs in pixels"}),f.jsx("div",{className:"relative",children:f.jsx("input",{type:"number",min:"0.1",max:"100",step:"0.01",value:i,onChange:H=>{const ue=parseFloat(H.target.value);isNaN(ue)||s(ue)},className:"w-16 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-1 py-0.5 text-xs font-mono text-purple-600 dark:text-purple-300 text-right focus:outline-none focus:border-purple-500 focus:ring-1 focus:ring-purple-500 transition-colors duration-300"})})]})]}),f.jsxs("div",{className:"flex flex-col items-end mr-1 bg-gray-50 dark:bg-slate-800/50 p-1.5 rounded-lg border border-gray-200 dark:border-slate-700 transition-colors duration-300",children:[f.jsx("span",{className:"text-[10px] text-gray-500 dark:text-slate-400 font-mono uppercase tracking-wider mb-1",children:"Phase"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:u,onChange:H=>d(parseFloat(H.target.value)),className:"w-20 h-2 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-pink-500",title:"Shift pattern phase (0-1 cycle)"}),f.jsx("div",{className:"relative",children:f.jsx("input",{type:"number",min:"0",max:"1",step:"0.01",value:u,onChange:H=>{const ue=parseFloat(H.target.value);isNaN(ue)||d(ue)},className:"w-12 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-1 py-0.5 text-xs font-mono text-pink-600 dark:text-pink-300 text-right focus:outline-none focus:border-pink-500 focus:ring-1 focus:ring-pink-500 transition-colors duration-300"})})]})]}),f.jsxs("div",{className:"flex flex-col items-end mr-1 bg-gray-50 dark:bg-slate-800/50 p-1.5 rounded-lg border border-gray-200 dark:border-slate-700 transition-colors duration-300",children:[f.jsx("span",{className:"text-[10px] text-gray-500 dark:text-slate-400 font-mono uppercase tracking-wider mb-1",children:"Fill Factor"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("input",{type:"range",min:"1",max:"100",step:"1",value:l*100,onChange:H=>c(parseInt(H.target.value)/100),className:"w-20 h-2 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-green-500",title:"Adjust pixel aperture fill factor %"}),f.jsxs("div",{className:"relative flex items-center",children:[f.jsx("input",{type:"number",min:"1",max:"100",step:"1",value:Math.round(l*100),onChange:H=>{const ue=parseInt(H.target.value);isNaN(ue)||c(Math.min(100,Math.max(1,ue))/100)},className:"w-12 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-1 py-0.5 text-xs font-mono text-green-600 dark:text-green-300 text-right focus:outline-none focus:border-green-500 focus:ring-1 focus:ring-green-500 transition-colors duration-300"}),f.jsx("span",{className:"ml-1 text-[10px] text-gray-400 dark:text-slate-500 font-mono",children:"%"})]})]})]})]}),f.jsxs("button",{onClick:j,className:`flex flex-col items-center justify-center p-2 rounded-lg transition-colors group ${r!=null&&r.startsWith("Diff_")?"bg-fuchsia-50 hover:bg-fuchsia-100 dark:bg-fuchsia-900/20 dark:hover:bg-fuchsia-900/40 border-fuchsia-200 dark:border-fuchsia-800":"bg-gray-50 hover:bg-gray-100 dark:bg-slate-800 dark:hover:bg-slate-700 border-gray-200 dark:border-slate-600"} border`,title:r!=null&&r.startsWith("Diff_")?"Export Subtracted Frame as DNG":"Download Synthetic DNG",children:[f.jsx("svg",{className:`w-5 h-5 ${r!=null&&r.startsWith("Diff_")?"text-fuchsia-500 group-hover:text-fuchsia-600":"text-gray-500 dark:text-slate-400 group-hover:text-cyan-600 dark:group-hover:text-cyan-400"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),f.jsx("span",{className:"text-[8px] font-bold uppercase mt-0.5 opacity-50",children:"DNG"})]})]}),f.jsx("input",{type:"file",ref:A,onChange:ne,className:"hidden",accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff"}),f.jsx("input",{type:"file",ref:N,onChange:Me,className:"hidden",multiple:!0,accept:".csv"}),f.jsxs("div",{className:"relative inline-block text-left",ref:Z,children:[f.jsxs("button",{onClick:()=>z(!D),className:"bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-lg transition-colors duration-300 shadow-lg shadow-purple-500/30 text-sm whitespace-nowrap flex items-center gap-2",children:["TEST Tools",f.jsx("svg",{className:`w-4 h-4 transition-transform duration-200 ${D?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),D&&f.jsx("div",{className:"absolute right-0 mt-2 w-56 rounded-xl bg-white dark:bg-slate-800 shadow-xl ring-1 ring-black ring-opacity-5 focus:outline-none z-50 overflow-hidden origin-top-right transition-all animate-in fade-in slide-in-from-top-2 border border-gray-200 dark:border-slate-700",children:f.jsxs("div",{className:"py-1",children:[f.jsxs("button",{onClick:()=>{z(!1),t()},className:"w-full text-left px-4 py-3 text-sm text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors flex items-center gap-2",children:[f.jsx("svg",{className:"w-4 h-4 text-purple-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),f.jsx("span",{children:"Generate Pattern DNG"})]}),f.jsxs("button",{onClick:()=>{z(!1),y||g(),b&&k()},className:`w-full text-left px-4 py-3 text-sm transition-colors flex items-center gap-2 border-t border-gray-100 dark:border-slate-700 ${y?"bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 dark:text-indigo-400 font-bold":"text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700"}`,children:[f.jsx("svg",{className:"w-4 h-4 text-indigo-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.384-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})}),f.jsxs("span",{children:["DR Lab ",y?"(On)":""]})]}),f.jsxs("button",{onClick:()=>{z(!1),b||k(),y&&g()},className:`w-full text-left px-4 py-3 text-sm transition-colors flex items-center gap-2 border-t border-gray-100 dark:border-slate-700 ${b?"bg-fuchsia-50 dark:bg-fuchsia-900/20 text-fuchsia-600 dark:text-fuchsia-400 font-bold":"text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700"}`,children:[f.jsx("svg",{className:"w-4 h-4 text-fuchsia-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),f.jsxs("span",{children:["FFT Lab ",b?"(On)":""]})]}),f.jsxs("button",{onClick:()=>{var H;z(!1),(H=N.current)==null||H.click()},className:"w-full text-left px-4 py-3 text-sm text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors flex items-center gap-2 border-t border-gray-100 dark:border-slate-700",children:[f.jsx("svg",{className:"w-4 h-4 text-emerald-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"})}),f.jsx("span",{children:"Generate PTC & TargetSNR"})]})]})})]}),f.jsxs("div",{className:"relative inline-block text-left",ref:q,children:[f.jsxs("button",{onClick:()=>F(!L),className:"bg-cyan-500 hover:bg-cyan-600 text-white font-bold py-2 px-4 rounded-lg transition-colors duration-300 shadow-lg shadow-cyan-500/30 text-sm whitespace-nowrap flex items-center gap-2",children:["Load Image",f.jsx("svg",{className:`w-4 h-4 transition-transform duration-200 ${L?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),L&&f.jsx("div",{className:"absolute right-0 mt-2 w-56 rounded-xl bg-white dark:bg-slate-800 shadow-xl ring-1 ring-black ring-opacity-5 focus:outline-none z-50 overflow-hidden origin-top-right transition-all animate-in fade-in slide-in-from-top-2 border border-gray-200 dark:border-slate-700",children:f.jsxs("div",{className:"py-1",children:[f.jsxs("button",{onClick:()=>U("direct"),className:"w-full text-left px-4 py-3 text-sm text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors flex items-center gap-2",children:[f.jsx("svg",{className:"w-4 h-4 text-cyan-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),f.jsx("span",{children:"Load Image (Direct)"})]}),f.jsxs("button",{onClick:()=>U("convert"),className:"w-full text-left px-4 py-3 text-sm text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors flex items-center gap-2 border-t border-gray-100 dark:border-slate-700",children:[f.jsx("svg",{className:"w-4 h-4 text-purple-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.384-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})}),f.jsx("span",{children:"Convert to Adobe DNG & Load"})]})]})})]}),r&&m&&f.jsxs("button",{onClick:m,className:"bg-orange-500 hover:bg-orange-600 text-white font-bold py-2 px-4 rounded-lg transition-colors duration-300 shadow-lg shadow-orange-500/30 text-sm whitespace-nowrap flex items-center gap-1",title:"View EXIF Data",children:[f.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"EXIF"]}),f.jsx("button",{onClick:p,className:"bg-teal-600 hover:bg-teal-700 text-white font-bold py-2 px-4 rounded-lg transition-colors duration-300 shadow-lg shadow-teal-500/30 text-sm whitespace-nowrap",children:"About/Tutorial/Tools"}),f.jsx("a",{href:"https://y-g-jiang.github.io/index.html",target:"_blank",rel:"noopener noreferrer",className:"bg-gray-200 hover:bg-gray-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-700 dark:text-slate-100 font-semibold py-2 px-4 rounded-lg transition-colors duration-300 text-sm",children:"Home"})]})]})},rM=({image:e,zoom:t,pan:r,onPanChange:n,onZoomChange:a,onSelectionChange:o,forcedSelection:i,theme:s,touchAction:l="pan",isMarking:c=!1,onPointClick:u,markers:d=[],gridRects:h=[]})=>{var q;const p=O.useRef(null),m=O.useRef(document.createElement("canvas")),[v,x]=O.useState(!1),[y,g]=O.useState({x:0,y:0}),b=O.useRef(null),k=O.useRef(null),w=O.useRef(null),[S,j]=O.useState(!1),[_,P]=O.useState(null),[A,N]=O.useState(null);O.useEffect(()=>{i!==void 0&&N(i)},[i]);const M=O.useCallback(()=>{const Z=p.current,U=Z==null?void 0:Z.getContext("2d");return{canvas:Z,ctx:U}},[]);O.useEffect(()=>{const Z=m.current,U=Z.getContext("2d");if(!e||!U)return;let de=0,ne=0;e instanceof ImageData?(de=e.width,ne=e.height):e instanceof HTMLImageElement&&(de=e.naturalWidth,ne=e.naturalHeight),!(de===0||ne===0)&&((Z.width!==de||Z.height!==ne)&&(Z.width=de,Z.height=ne),e instanceof ImageData?U.putImageData(e,0,0):(U.clearRect(0,0,de,ne),U.drawImage(e,0,0)))},[e]);const B=O.useCallback(()=>{const{canvas:Z,ctx:U}=M();if(!(!Z||!U||!e)){if(U.setTransform(1,0,0,1,0,0),U.fillStyle=s==="dark"?"rgb(15, 23, 42)":"rgb(243, 244, 246)",U.fillRect(0,0,Z.width,Z.height),U.setTransform(t,0,0,t,r.x,r.y),m.current.width>0&&(U.imageSmoothingEnabled=!1,U.drawImage(m.current,0,0)),A){U.strokeStyle="#06b6d4",U.lineWidth=1/t,U.fillStyle="rgba(6, 182, 212, 0.2)",U.beginPath(),U.rect(A.x,A.y,A.w,A.h),U.fill(),U.stroke(),U.save(),U.fillStyle="#fff";const de=Math.max(10,14/t);U.font=`${de}px monospace`,U.shadowColor="rgba(0,0,0,0.8)",U.shadowBlur=4,U.shadowOffsetX=1,U.shadowOffsetY=1,U.fillText(`${Math.round(A.w)}x${Math.round(A.h)}`,A.x,A.y-5/t),U.restore()}if(h&&h.length>0){U.save(),U.strokeStyle="#f59e0b",U.lineWidth=1/t,U.globalAlpha=.8,U.beginPath(),h.forEach(Me=>{U.rect(Me.x,Me.y,Me.w,Me.h)}),U.stroke();const de=h[0];U.fillStyle="#f59e0b";const ne=Math.max(10,12/t);U.font=`${ne}px monospace`,U.fillText(`${de.w}x${de.h}`,de.x,de.y-4/t),U.restore()}if(d&&d.length>0){U.save();const de=6/t,ne=Math.max(12,16/t);U.font=`bold ${ne}px sans-serif`,U.textAlign="center",U.textBaseline="middle",d.forEach((Me,be)=>{U.beginPath(),U.arc(Me.x,Me.y,de,0,2*Math.PI),U.fillStyle="white",U.fill(),U.strokeStyle="#4338ca",U.lineWidth=2/t,U.stroke(),U.fillStyle="#4338ca",U.fillText((be+1).toString(),Me.x,Me.y-12/t)}),U.restore()}}},[M,e,t,r,s,A,d,h]);O.useEffect(()=>{const{canvas:Z}=M();if(!Z)return;const U=new ResizeObserver(()=>{Z.width=Z.clientWidth,Z.height=Z.clientHeight,B()});return U.observe(Z),()=>U.disconnect()},[M,B]),O.useEffect(()=>{B()},[B,e,r,t,s,A,d,h]);const R=Z=>{const{canvas:U}=M();if(!U)return{x:0,y:0};const de=U.getBoundingClientRect();return{x:Z.clientX-de.left,y:Z.clientY-de.top}},$=(Z,U)=>({x:(Z-r.x)/t,y:(U-r.y)/t}),L=Z=>{Z.preventDefault();const U=R(Z);if(c){const de=$(U.x,U.y);u&&u(de);return}if(Z.shiftKey||l==="select"){j(!0);const de=$(U.x,U.y),ne={x:Math.floor(de.x),y:Math.floor(de.y)};P(ne),N(null),o&&o(null)}else x(!0),g({x:U.x-r.x,y:U.y-r.y})},F=Z=>{const U=R(Z);if(S&&_){const de=$(U.x,U.y),ne=Math.floor(de.x),Me=Math.floor(de.y),be=Math.min(_.x,ne),H=Math.min(_.y,Me),ue=Math.max(_.x,ne),xe=Math.max(_.y,Me),X=ue-be+1,Xe=xe-H+1;N({x:be,y:H,w:X,h:Xe})}else v&&n({x:U.x-y.x,y:U.y-y.y})},D=()=>{S&&(j(!1),A&&o&&A.w>0&&A.h>0&&o(A)),x(!1)},z=Z=>{var U;if(Z.touches.length===1){const de=Z.touches[0],ne=(U=p.current)==null?void 0:U.getBoundingClientRect();if(!ne)return;const Me=de.clientX-ne.left,be=de.clientY-ne.top;if(c){const H=$(Me,be);u&&u(H);return}if(l==="select"){const H=$(Me,be),ue={x:Math.floor(H.x),y:Math.floor(H.y)};P(ue),j(!0),N(null),o&&o(null)}else w.current={x:Me,y:be},g({x:Me-r.x,y:be-r.y}),x(!0)}else if(Z.touches.length===2){const de=Math.hypot(Z.touches[0].clientX-Z.touches[1].clientX,Z.touches[0].clientY-Z.touches[1].clientY);b.current=de,k.current=t,x(!1),j(!1)}},W=Z=>{var U;if(Z.touches.length===1){const de=Z.touches[0],ne=(U=p.current)==null?void 0:U.getBoundingClientRect();if(!ne)return;const Me=de.clientX-ne.left,be=de.clientY-ne.top;if(c)return;if(S&&_){const H=$(Me,be),ue=Math.floor(H.x),xe=Math.floor(H.y),X=Math.min(_.x,ue),Xe=Math.min(_.y,xe),Ne=Math.max(_.x,ue),tt=Math.max(_.y,xe),ot=Ne-X+1,lt=tt-Xe+1;N({x:X,y:Xe,w:ot,h:lt})}else v&&n({x:Me-y.x,y:be-y.y})}else if(Z.touches.length===2&&b.current&&k.current&&a){const ne=Math.hypot(Z.touches[0].clientX-Z.touches[1].clientX,Z.touches[0].clientY-Z.touches[1].clientY)/b.current;a(k.current*ne)}},te=()=>{S&&(j(!1),A&&o&&A.w>0&&A.h>0&&o(A)),x(!1),b.current=null,k.current=null,w.current=null};return f.jsx("canvas",{ref:p,className:`w-full h-full block touch-none ${c||S||(q=window.event)!=null&&q.shiftKey||l==="select"?"cursor-crosshair":"cursor-grab active:cursor-grabbing"}`,onMouseDown:L,onMouseMove:F,onMouseUp:D,onMouseLeave:D,onTouchStart:z,onTouchMove:W,onTouchEnd:te,onTouchCancel:te,tabIndex:0})},Nu=({title:e,children:t})=>f.jsxs("div",{className:"border-b border-gray-200 dark:border-slate-700 transition-colors duration-300",children:[f.jsx("div",{className:"p-4 font-semibold text-gray-800 dark:text-slate-200 bg-gray-50 dark:bg-slate-800/30 border-b border-gray-200 dark:border-slate-800 select-none cursor-default transition-colors duration-300",children:f.jsx("span",{children:e})}),f.jsx("div",{className:"p-4 bg-white dark:bg-slate-900/50 transition-colors duration-300",children:t})]}),nM=[{value:-1,label:"Raw Bayer (Grayscale)"},{value:0,label:"Linear interpolation"},{value:1,label:"VNG (Variable Number of Gradients)"},{value:2,label:"PPG (Patterned Pixel Grouping)"},{value:3,label:"AHD (Adaptive Homogeneity-Directed)"},{value:4,label:"DCB (Demosaicing with Color Back-refinement)"},{value:11,label:"DHT (Modified AHD)"},{value:12,label:"AAHD (Adaptive AHD)"}],_x=({checked:e,onChange:t,label:r})=>f.jsxs("div",{className:"flex items-center justify-between py-2 cursor-pointer group",onClick:()=>t(!e),children:[f.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-slate-300 select-none group-hover:text-gray-900 dark:group-hover:text-slate-200 transition-colors",children:r}),f.jsx("div",{className:`relative w-11 h-6 rounded-full transition-colors duration-200 ease-in-out ${e?"bg-cyan-500 dark:bg-cyan-600":"bg-gray-300 dark:bg-slate-600 group-hover:bg-gray-400 dark:group-hover:bg-slate-500"}`,children:f.jsx("div",{className:`absolute left-1 top-1 bg-white w-4 h-4 rounded-full shadow-md transform transition-transform duration-200 ease-in-out ${e?"translate-x-5":"translate-x-0"}`})})]}),up=(e,t)=>{if(!e)return null;if(t){const r=e.bayerPattern.toUpperCase(),n=l=>{const c=[];for(let u=0;u<4;u++)r[u]===l&&c.push(u);return c},a=t.BlackLevelRed,o=t.BlackLevelGreen,i=t.BlackLevelBlue;if(a!==void 0&&o!==void 0&&i!==void 0){const l=parseFloat(a),c=parseFloat(o),u=parseFloat(i);if(!isNaN(l)&&!isNaN(c)&&!isNaN(u)){const d=[0,0,0,0];return d.fill(c),n("R").forEach(h=>d[h]=l),n("G").forEach(h=>d[h]=c),n("B").forEach(h=>d[h]=u),d}}let s=t.BlackLevel;if(s===void 0&&(s=t.BlackLevel2),s!==void 0){let l=[];if(Array.isArray(s)?l=s.map(Number):typeof s=="string"?l=s.trim().split(/\s+/).map(Number):typeof s=="number"&&(l=[s,s,s,s]),l.length===1&&!isNaN(l[0])&&(l=[l[0],l[0],l[0],l[0]]),l.length>=4&&!l.slice(0,4).some(isNaN))return[l[0],l[1],l[2],l[3]]}}return e.blackLevels&&e.blackLevels.length===4?[e.blackLevels[0],e.blackLevels[1],e.blackLevels[2],e.blackLevels[3]]:null},aM=e=>{const{rawImageData:t,displaySettings:r,onApplyDisplaySettings:n,onSetSelection:a,exifData:o,isBridgeConnected:i,isDrLabOpen:s,drMarkingStep:l,onStartMarking:c,onGenerateTestPic:u,drRoiSize:d,onDrRoiSizeChange:h,drGridRows:p,onDrGridRowsChange:m,drGridCols:v,onDrGridColsChange:x,onBatchDrLab:y,hasDrMarkers:g,isFftLabOpen:b,onProcessPair:k,onOpenCrossCalc:w,isThreePlane:S}=e,[j,_]=O.useState(r.exposure.toString()),[P,A]=O.useState(""),[N,M]=O.useState("0 0 0 0"),[B,R]=O.useState("1.0"),[$,L]=O.useState("1.0"),[F,D]=O.useState(r.demosaicMethod),[z,W]=O.useState(!!r.showKadc),[te,q]=O.useState(!!r.subtractBlackLevelFromStats),[Z,U]=O.useState("64"),[de,ne]=O.useState(!1),[Me,be]=O.useState(!1),[H,ue]=O.useState(!1),[xe,X]=O.useState("single"),Xe=O.useRef(null),Ne=O.useRef(null),[tt,ot]=O.useState(null),[lt,ur]=O.useState(null),[Nt,fr]=O.useState(!1),[Lt,Pr]=O.useState(!0),Kt=O.useRef(null),Qr=O.useRef(null),Nr=O.useRef(!1),$n=O.useRef(null);O.useEffect(()=>{t!==$n.current&&(Nr.current=!1,$n.current=t)},[t]),O.useEffect(()=>{if(i&&t&&!Nr.current){Nr.current=!0;const Q=up(t,o),Ye=Q&&Q.some(Rt=>Rt>0);if(Q&&Ye){ne(!0);const Rt={...r,blackLevel:Q,showKadc:!0,subtractBlackLevelFromStats:!0,exposure:r.exposure,wbGains:r.wbGains||[1,1],demosaicMethod:r.demosaicMethod,renderMode:"standard"};n(Rt)}}},[i,t,o,r,n]),O.useEffect(()=>{if(_(r.exposure.toString()),r.customMatrix?(A(r.customMatrix.join(" ")),ne(!0)):A(""),r.blackLevel&&r.blackLevel.length===4)M(r.blackLevel.join(" "));else{const Q=up(t,o);M(Q?Q.join(" "):"0 0 0 0")}R(r.wbGains?r.wbGains[0].toString():"1.0"),L(r.wbGains?r.wbGains[1].toString():"1.0"),D(r.demosaicMethod),W(!!r.showKadc),q(!!r.subtractBlackLevelFromStats)},[r,t,o]);const cn=Q=>{_(Q)},Ar=Q=>R(Q),Mr=Q=>L(Q),Ir=Q=>{D(parseInt(Q.target.value,10))},wn=Q=>{A(Q.target.value)},Gt=()=>{_("0"),D(3),R("1.0"),L("1.0"),W(!0),q(!0),A(""),ne(!1);const Q=up(t,o);M(Q?Q.join(" "):"0 0 0 0")},va=()=>{!t||!a||a({x:0,y:0,w:t.width,h:t.height})},Br=()=>{if(!t||!a)return;const Q=parseInt(Z,10);if(isNaN(Q)||Q<=0)return;const Ye=Math.min(Q,t.width),Rt=Math.min(Q,t.height),dr=Math.floor((t.width-Ye)/2),fn=Math.floor((t.height-Rt)/2);a({x:dr,y:fn,w:Ye,h:Rt})},Ea=()=>{const Ye=N.split(/[\s,]+/).filter(Rt=>Rt.trim()!=="").map(Number);if(Ye.length===1&&!isNaN(Ye[0]))return[Ye[0],Ye[0],Ye[0],Ye[0]];if(Ye.length>=4&&!Ye.slice(0,4).some(isNaN))return[Ye[0],Ye[1],Ye[2],Ye[3]]},Zr=()=>{const Q={...r},Ye=parseFloat(j);isNaN(Ye)||(Q.exposure=Ye);const Rt=parseFloat(B),dr=parseFloat($);if(!isNaN(Rt)&&!isNaN(dr)&&(Q.wbGains=[Rt,dr]),Q.demosaicMethod=F,Q.renderMode="standard",de){const fn=Ea();fn&&(Q.blackLevel=fn);const Xt=P.trim().replace(/[\s,\n]+/g," ");if(Xt){const dn=Xt.split(" ").map(Number);dn.length===9&&!dn.some(isNaN)?Q.customMatrix=dn:alert("Invalid matrix format. Please ensure exactly 9 numeric values (3x3).")}else delete Q.customMatrix;Q.showKadc=z,Q.subtractBlackLevelFromStats=te}else delete Q.customMatrix,delete Q.blackLevel,delete Q.showKadc,delete Q.subtractBlackLevelFromStats;n(Q)},Jn=()=>{const Q={...r},Ye=Ea();Ye&&(Q.blackLevel=Ye);const Rt=parseFloat(j);isNaN(Rt)||(Q.exposure=Rt),Q.renderMode="zero-dependency",n(Q)},ea=Q=>{Q.target.files&&Q.target.files.length>0&&y&&y(Q.target.files,xe),Q.target.value="",ue(!1)},At=async Q=>{var Rt;const Ye=(Rt=Q.target.files)==null?void 0:Rt[0];if(Ye){try{const fn=(await Ye.text()).split(`
`),Xt=[];Xt.push("#BlackLevel: 0,0,0,0"),Xt.push("#ImageHeight: 0"),Xt.push("Row,Col,R_Mean,G1_Mean,G2_Mean,B_Mean,R_Std,G1_Std,G2_Std,B_Std");let dn=1;for(let tr=0;tr<fn.length;tr++){const pt=fn[tr].trim();if(!pt||pt.includes("R_mean")||pt.includes("R_std"))continue;const ir=pt.split(/\s+/).map(Number);if(ir.length<8||ir.some(isNaN))continue;const Ln=ir[0],Cr=ir[1],Y=ir[2],he=ir[3],De=ir[4],rt=ir[5],gt=ir[6],pe=ir[7],nt=[dn,1,Ln,Y,gt,De,Cr,he,pe,rt].join(",");Xt.push(nt),dn++}const Dn=new Blob([Xt.join(`
`)],{type:"text/csv"}),oo=URL.createObjectURL(Dn),Ze=document.createElement("a");Ze.href=oo,Ze.download=Ye.name.replace(/\.[^/.]+$/,"")+"_converted.csv",document.body.appendChild(Ze),Ze.click(),document.body.removeChild(Ze),URL.revokeObjectURL(oo)}catch(dr){console.error("Conversion failed",dr),alert("Failed to convert file. Check format.")}Q.target.value=""}},un=Q=>{Q.target.files&&Q.target.files[0]&&ot(Q.target.files[0])},ct=Q=>{Q.target.files&&Q.target.files[0]&&ur(Q.target.files[0])},Fr=()=>{tt&&lt&&k&&k(tt,lt,Nt,Lt)},Mt=!!t;return f.jsxs("div",{className:"flex flex-col h-full",children:[f.jsxs("div",{className:"flex-grow overflow-y-auto",children:[S&&f.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-3 border-b border-red-100 dark:border-red-800 text-center animate-pulse",children:[f.jsx("p",{className:"text-xs font-bold text-red-600 dark:text-red-400 uppercase tracking-wide",children:" 3-Plane / Full Color"}),f.jsx("p",{className:"text-[10px] text-red-500/80 dark:text-red-300/70 mt-1",children:"Demosaic disabled. Stats analysis treated as pseudo-Bayer."})]}),b&&f.jsx(Nu,{title:"FFT Lab (Pair Difference)",children:f.jsxs("div",{className:"space-y-4",children:[f.jsx("p",{className:"text-[10px] text-gray-500 dark:text-slate-400",children:"Load two identical shots (same ISO/Exp) to remove Fixed Pattern Noise via subtraction."}),f.jsxs("div",{className:"flex flex-col gap-2",children:[f.jsx("input",{type:"file",ref:Xe,className:"hidden",onChange:un,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff"}),f.jsx("button",{onClick:()=>{var Q;return(Q=Xe.current)==null?void 0:Q.click()},className:`w-full py-2 px-3 rounded-lg border text-xs font-bold text-left truncate transition-colors ${tt?"bg-fuchsia-50 dark:bg-fuchsia-900/20 border-fuchsia-300 dark:border-fuchsia-800 text-fuchsia-700 dark:text-fuchsia-300":"bg-white dark:bg-slate-800 border-gray-300 dark:border-slate-600 text-gray-500 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:tt?`1: ${tt.name}`:"1. Load Image A"}),f.jsx("input",{type:"file",ref:Ne,className:"hidden",onChange:ct,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff"}),f.jsx("button",{onClick:()=>{var Q;return(Q=Ne.current)==null?void 0:Q.click()},className:`w-full py-2 px-3 rounded-lg border text-xs font-bold text-left truncate transition-colors ${lt?"bg-fuchsia-50 dark:bg-fuchsia-900/20 border-fuchsia-300 dark:border-fuchsia-800 text-fuchsia-700 dark:text-fuchsia-300":"bg-white dark:bg-slate-800 border-gray-300 dark:border-slate-600 text-gray-500 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:lt?`2: ${lt.name}`:"2. Load Image B"})]}),f.jsxs("div",{className:"flex flex-col gap-2 border-t border-gray-200 dark:border-slate-700 pt-3",children:[f.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[f.jsxs("div",{className:`w-4 h-4 border rounded flex items-center justify-center transition-colors ${Nt?"bg-fuchsia-600 border-fuchsia-600":"bg-white dark:bg-slate-800 border-gray-300 dark:border-slate-600"}`,children:[f.jsx("input",{type:"checkbox",checked:Nt,onChange:Q=>fr(Q.target.checked),className:"hidden"}),Nt&&f.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})]}),f.jsx("span",{className:"text-xs text-gray-600 dark:text-slate-300",children:"Pad to Power of 2 (2)"})]}),f.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[f.jsxs("div",{className:`w-4 h-4 border rounded flex items-center justify-center transition-colors ${Lt?"bg-fuchsia-600 border-fuchsia-600":"bg-white dark:bg-slate-800 border-gray-300 dark:border-slate-600"}`,children:[f.jsx("input",{type:"checkbox",checked:Lt,onChange:Q=>Pr(Q.target.checked),className:"hidden"}),Lt&&f.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})]}),f.jsx("span",{className:"text-xs text-gray-600 dark:text-slate-300",children:"Normalize (2) / "})]})]}),f.jsxs("button",{onClick:Fr,disabled:!tt||!lt,className:"w-full bg-fuchsia-600 hover:bg-fuchsia-500 disabled:bg-gray-300 dark:disabled:bg-slate-800 disabled:text-gray-500 disabled:cursor-not-allowed text-white font-bold py-2.5 px-4 rounded-lg shadow-md transition-all active:scale-95 text-sm flex items-center justify-center gap-2",children:[f.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.384-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})}),"Generate Diff & Load"]}),f.jsxs("button",{onClick:w,className:"w-full bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-2 px-4 rounded-lg shadow-md transition-all active:scale-95 text-sm flex items-center justify-center gap-2",children:[f.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),"Cross Calc (Cross-Compensation)"]})]})}),s&&f.jsx(Nu,{title:"DR Lab Tools",children:f.jsxs("div",{className:"space-y-4",children:[f.jsx("button",{onClick:u,className:"w-full bg-amber-500 hover:bg-amber-600 text-white font-bold py-2 px-4 rounded-lg shadow-md transition-colors text-sm",children:"Generate Test Pic"}),f.jsxs("div",{className:"border-t border-gray-200 dark:border-slate-700 pt-3",children:[f.jsx("h4",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide mb-2",children:"Grid Analysis"}),h&&d!==void 0&&f.jsx("div",{className:"flex items-center justify-between mb-3",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-sm text-gray-600 dark:text-slate-300",children:"Box Size:"}),f.jsx("input",{type:"number",min:"8",max:"512",step:"2",value:d,onChange:Q=>h(parseInt(Q.target.value)||64),className:"w-12 px-1 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-sm text-gray-900 dark:text-slate-100 text-center"}),f.jsx("span",{className:"text-xs text-gray-400",children:"px"})]})}),m&&x&&p!==void 0&&v!==void 0&&f.jsxs("div",{className:"flex items-center justify-between mb-3",children:[f.jsx("span",{className:"text-sm text-gray-600 dark:text-slate-300",children:"Layout:"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("input",{type:"number",min:"1",max:"50",value:p,onChange:Q=>m(Math.max(1,parseInt(Q.target.value)||1)),className:"w-10 px-1 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-sm text-gray-900 dark:text-slate-100 text-center",title:"Rows"}),f.jsx("span",{className:"text-xs text-gray-400",children:"x"}),f.jsx("input",{type:"number",min:"1",max:"50",value:v,onChange:Q=>x(Math.max(1,parseInt(Q.target.value)||1)),className:"w-10 px-1 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-sm text-gray-900 dark:text-slate-100 text-center",title:"Columns"})]})]}),f.jsxs("div",{className:"flex flex-col gap-2",children:[f.jsx("button",{onClick:c,disabled:!Mt||l!==void 0&&l>0,className:`w-full font-bold py-2 px-4 rounded-lg shadow-md transition-all text-sm ${Mt?l&&l>0?"bg-indigo-100 dark:bg-indigo-900 text-indigo-700 dark:text-indigo-300 border-2 border-indigo-500":"bg-indigo-600 hover:bg-indigo-700 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:l&&l>0?"Marking Active...":"Mark Corners"}),y&&f.jsxs(f.Fragment,{children:[f.jsx("input",{type:"file",ref:Kt,className:"hidden",multiple:!0,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff",onChange:ea}),f.jsxs("div",{className:"relative",children:[f.jsxs("button",{onClick:()=>ue(!H),disabled:!g,className:"w-full font-bold py-2 px-4 rounded-lg shadow-md transition-all text-sm bg-emerald-600 hover:bg-emerald-700 disabled:bg-gray-300 disabled:text-gray-500 disabled:cursor-not-allowed text-white flex items-center justify-center gap-2",title:"Process multiple RAWs",children:[f.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),"Reuse Last & Batch"]}),H&&f.jsxs("div",{className:"absolute bottom-full left-0 w-full mb-1 bg-white dark:bg-slate-800 rounded-lg shadow-xl border border-gray-200 dark:border-slate-700 overflow-hidden z-20 flex flex-col animate-in fade-in zoom-in-95 duration-100",children:[f.jsx("button",{className:"px-4 py-2 text-left text-xs hover:bg-gray-100 dark:hover:bg-slate-700 text-gray-700 dark:text-slate-200 border-b border-gray-100 dark:border-slate-700 transition-colors",onClick:()=>{var Q;X("single"),(Q=Kt.current)==null||Q.click()},children:"1. Independent Frames"}),f.jsx("button",{className:"px-4 py-2 text-left text-xs hover:bg-gray-100 dark:hover:bg-slate-700 text-indigo-600 dark:text-indigo-400 font-bold transition-colors",onClick:()=>{var Q;X("pair"),(Q=Kt.current)==null||Q.click()},children:"2. Pair Difference (A-B)"})]})]})]}),f.jsxs("div",{className:"pt-2 mt-2 border-t border-gray-100 dark:border-slate-800",children:[f.jsx("input",{type:"file",ref:Qr,className:"hidden",accept:".txt",onChange:At}),f.jsxs("button",{onClick:()=>{var Q;return(Q=Qr.current)==null?void 0:Q.click()},className:"w-full font-bold py-2 px-4 rounded-lg shadow-sm transition-all text-xs bg-slate-100 hover:bg-slate-200 dark:bg-slate-800 dark:hover:bg-slate-700 text-gray-600 dark:text-slate-300 flex items-center justify-center gap-2 border border-gray-300 dark:border-slate-600",title:"Convert legacy TXT format (R_mean R_std ...) to standard CSV",children:[f.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})}),"Convert Format (.txt  .csv)"]})]})]}),l!==void 0&&l>0&&f.jsx("div",{className:"mt-2 text-center",children:f.jsxs("p",{className:"text-xs text-indigo-600 dark:text-indigo-400 font-bold animate-pulse",children:[l===1&&"Click Top-Left Center",l===2&&"Click Top-Right Center",l===3&&"Click Bottom-Left Center",l===4&&"Click Bottom-Right Center"]})})]})]})}),f.jsx(Nu,{title:"Selection Tools",children:f.jsx("div",{className:"space-y-3",children:f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2",children:"Quick Select or Shift+drag"}),f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx("span",{className:"text-sm text-gray-600 dark:text-slate-300",children:"Size (px):"}),f.jsx("input",{type:"number",min:"1",value:Z,onChange:Q=>U(Q.target.value),disabled:!Mt,className:"flex-1 px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-sm text-gray-900 dark:text-slate-100 transition-colors"})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[f.jsx("button",{onClick:Br,disabled:!Mt,className:"px-3 py-1.5 bg-gray-200 hover:bg-gray-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-800 dark:text-slate-200 text-xs font-semibold rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Center Rect"}),f.jsx("button",{onClick:va,disabled:!Mt,className:"px-3 py-1.5 bg-gray-200 hover:bg-gray-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-800 dark:text-slate-200 text-xs font-semibold rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Full Image"})]})]})})}),f.jsx(Nu,{title:"Display Controls",children:f.jsxs("div",{className:"space-y-5",children:[f.jsxs("p",{className:"text-gray-500 dark:text-slate-400 text-center text-sm",children:["Adjust parameters and click ",f.jsx("b",{children:"Apply"}),"."]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"exposure",className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2",children:"Exposure (EV)"}),f.jsx("div",{className:"flex items-center gap-2 mb-2",children:f.jsx("input",{type:"range",min:"-5",max:"5",step:"0.1",disabled:!Mt,value:parseFloat(j)||0,onChange:Q=>cn(Q.target.value),className:"w-full h-2 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-cyan-500 disabled:opacity-50"})}),f.jsx("div",{className:"flex items-center gap-2",children:f.jsx("input",{id:"exposure",type:"number",step:"0.1",value:j,onChange:Q=>cn(Q.target.value),disabled:!Mt,className:"w-full px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-sm text-gray-900 dark:text-slate-100 transition-colors duration-300"})})]}),f.jsxs("div",{children:[f.jsxs("label",{htmlFor:"demosaic",className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2 flex justify-between",children:[f.jsx("span",{children:"Demosaic Method"}),S&&f.jsx("span",{className:"text-[9px] text-red-500 font-bold bg-red-100 dark:bg-red-900/30 px-1 rounded",children:"DISABLED"})]}),f.jsx("select",{id:"demosaic",value:F,onChange:Ir,disabled:!Mt||S,className:"w-full px-2 py-2 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none transition-colors disabled:bg-gray-100 dark:disabled:bg-slate-800/50 disabled:cursor-not-allowed text-sm text-gray-900 dark:text-slate-100",children:nM.map(Q=>f.jsx("option",{value:Q.value,children:Q.label},Q.value))}),S&&f.jsx("p",{className:"text-[9px] text-gray-400 mt-1",children:"Full color data detected. Demosaicing skipped."})]}),f.jsx("div",{className:"border-t border-gray-200 dark:border-slate-700 pt-2",children:f.jsx(_x,{checked:de,onChange:ne,label:"Advanced Settings"})}),de&&f.jsxs("div",{className:"space-y-5 pl-2 border-l-2 border-gray-200 dark:border-slate-700 animate-in slide-in-from-top-2 duration-200",children:[f.jsxs("div",{children:[f.jsx(_x,{checked:z,onChange:W,label:"Show Kadc"}),f.jsx("p",{className:"text-[10px] text-gray-400 dark:text-slate-500 mt-1",children:"Requires manual Black Levellinear PTC zoneabsolutely uniform image ."})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2",children:"White Balance Gains"}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsxs("div",{children:[f.jsx("span",{className:"text-xs text-red-500 dark:text-red-400 block mb-1",children:"Red"}),f.jsx("input",{type:"number",step:"0.01",value:B,onChange:Q=>Ar(Q.target.value),disabled:!Mt,className:"w-full px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-red-500 outline-none text-sm text-gray-900 dark:text-slate-100 transition-colors duration-300"})]}),f.jsxs("div",{children:[f.jsx("span",{className:"text-xs text-blue-500 dark:text-blue-400 block mb-1",children:"Blue"}),f.jsx("input",{type:"number",step:"0.01",value:$,onChange:Q=>Mr(Q.target.value),disabled:!Mt,className:"w-full px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-blue-500 outline-none text-sm text-gray-900 dark:text-slate-100 transition-colors duration-300"})]})]})]}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex justify-between items-end mb-2",children:[f.jsxs("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide flex items-center",children:["Black Level (4-Ch)",f.jsx("span",{className:"ml-1 text-[10px] text-gray-400 dark:text-slate-500 font-normal normal-case",children:"Native"}),f.jsx("button",{onClick:()=>be(!0),className:"ml-2 text-[10px] text-cyan-600 dark:text-cyan-400 hover:text-cyan-700 dark:hover:text-cyan-300 hover:underline cursor-pointer transition-colors",title:"About Black Level Settings",children:"[about]"})]}),f.jsxs("div",{className:"flex items-center gap-1.5",title:"Subtract Black Level from ROI Mean stats (for display)",children:[f.jsx("span",{className:"text-[9px] font-mono text-gray-400 dark:text-slate-500 uppercase tracking-wide",children:"Sub. BL"}),f.jsx("div",{className:`relative w-8 h-4 rounded-full cursor-pointer transition-colors duration-200 ease-in-out ${te?"bg-cyan-500":"bg-gray-300 dark:bg-slate-700"}`,onClick:()=>q(!te),children:f.jsx("div",{className:`absolute top-0.5 left-0.5 bg-white w-3 h-3 rounded-full shadow-sm transform transition-transform duration-200 ${te?"translate-x-4":"translate-x-0"}`})})]})]}),f.jsx("input",{type:"text",value:N,onChange:Q=>M(Q.target.value),disabled:!Mt,placeholder:"0 0 0 0",className:"w-full px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-xs font-mono text-gray-900 dark:text-slate-100 transition-colors duration-300",title:"Enter 4 values separated by space or comma"}),f.jsx("p",{className:"text-[10px] text-gray-400 dark:text-slate-500 mt-1",children:"Order: (0,0) (0,1) (1,0) (1,1). Spatial: TL, TR, BL, BR."})]}),f.jsxs("div",{children:[f.jsxs("label",{htmlFor:"customMatrix",className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2",children:["Custom Color Matrix",f.jsx("span",{className:"block text-[10px] text-gray-400 dark:text-slate-500 font-normal normal-case mt-0.5",children:"XYZ to Camera RGB (3x3, 9 nums)"})]}),f.jsx("textarea",{id:"customMatrix",value:P,onChange:wn,disabled:!Mt,placeholder:"0.66 -0.19 -0.04  -0.46 1.23 0.25  -0.06 0.13 0.65",className:"w-full h-24 px-2 py-2 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none transition-colors disabled:bg-gray-100 dark:disabled:bg-slate-800/50 disabled:cursor-not-allowed text-xs font-mono leading-relaxed text-gray-900 dark:text-slate-100"})]})]}),f.jsxs("div",{className:"pt-4 flex flex-col gap-2",children:[f.jsx("button",{onClick:Zr,disabled:!Mt,className:"w-full text-base bg-cyan-500 hover:bg-cyan-600 dark:bg-cyan-600 dark:hover:bg-cyan-500 disabled:bg-gray-300 dark:disabled:bg-slate-800 disabled:text-gray-500 dark:disabled:text-slate-500 disabled:cursor-not-allowed text-white font-bold py-3 px-3 rounded-lg shadow-lg shadow-cyan-500/20 dark:shadow-cyan-900/20 transition-all active:scale-95",children:"APPLY SETTINGS"}),f.jsxs("button",{onClick:Jn,disabled:!Mt,className:"w-full text-xs font-bold bg-slate-700 hover:bg-slate-600 text-white disabled:bg-gray-300 dark:disabled:bg-slate-800 disabled:text-gray-500 transition-colors py-2 rounded-lg flex items-center justify-center gap-1.5 border border-slate-600",title:"Bypass internal pipeline. Manual subtract black level & apply basic sRGB gamma to raw data.",children:[f.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})," (Zero-Dep)"]}),f.jsx("button",{onClick:Gt,disabled:!Mt,className:"w-full text-xs text-gray-400 hover:text-gray-600 dark:text-slate-400 dark:hover:text-slate-200 disabled:text-gray-300 dark:disabled:text-slate-600 transition-colors mt-1",children:"Reset Defaults (Local)"})]})]})})]}),f.jsx(si,{isOpen:Me,onClose:()=>be(!1),onConfirm:()=>{window.open("https://y-g-jiang.github.io/CBLD.html","_blank"),be(!1)},title:"Black Level Info / ",confirmText:"Visit Database (CBLD)",cancelText:"Close",message:f.jsxs("div",{className:"flex flex-col gap-4 text-left text-sm text-gray-600 dark:text-slate-300",children:[f.jsxs("p",{className:"leading-relaxed",children:["JiangBridge/JiangBridge",f.jsx("a",{href:"https://y-g-jiang.github.io/CBLD.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline mx-1 font-bold",children:"CBLD.html"}),""]}),f.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 w-full"}),f.jsxs("p",{className:"leading-relaxed",children:["Autofills when JiangBridge is detected. If no result is found or JiangBridge is missing, please check the",f.jsx("a",{href:"https://y-g-jiang.github.io/CBLD.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline mx-1 font-bold",children:"Black Level Database"}),"to find your camera model. However, manually capturing a dark frame with identical settings to calculate and input the values is highly recommended for higher decimal precision, as internal tags often lack accuracy."]})]})})]})},oM=()=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20 12H4"})}),iM=()=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})}),sM=()=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 4v5h5M4 12a8 8 0 0114.24-5.12M20 20v-5h-5M20 12a8 8 0 01-14.24 5.12"})}),lM=()=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 11.5V14m0-2.5v-6a1.5 1.5 0 113 0m-3 6a1.5 1.5 0 00-3 0v2a7.5 7.5 0 0015 0v-5a1.5 1.5 0 00-3 0m-6-3V11m0-5.5v-1a1.5 1.5 0 013 0v1m0 0V11m0-5.5a1.5 1.5 0 013 0v3m0 0V11"})}),cM=()=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 4l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})}),I0=.1,B0=16,uM=Math.log(I0),fM=Math.log(B0),dM=({zoom:e,onZoomChange:t,onResetView:r,touchAction:n,onToggleTouchAction:a})=>{const o=c=>{const u=parseFloat(c.target.value),d=Math.exp(u);t(Math.max(I0,Math.min(B0,d)))},i=()=>{t(Math.min(B0,e*1.25))},s=()=>{t(Math.max(I0,e/1.25))},l=Math.log(e);return f.jsxs("div",{className:"absolute top-4 right-4 flex gap-2",onClick:c=>c.stopPropagation(),children:[f.jsx("div",{className:"bg-white/90 dark:bg-slate-800/70 backdrop-blur-sm p-2 rounded-lg border border-gray-200 dark:border-slate-700 flex items-center shadow-lg transition-colors duration-300",children:f.jsx("button",{onClick:a,className:`p-1.5 rounded-md transition-colors flex items-center justify-center ${n==="select"?"bg-cyan-100 text-cyan-600 dark:bg-cyan-900/50 dark:text-cyan-400 ring-2 ring-cyan-500/50":"text-gray-500 dark:text-slate-400 hover:bg-gray-100 dark:hover:bg-slate-700"}`,title:n==="select"?"Mode: Selection (Drag to Select)":"Mode: Pan (Drag to Move)",children:n==="select"?f.jsx(cM,{}):f.jsx(lM,{})})}),f.jsxs("div",{className:"bg-white/90 dark:bg-slate-800/70 backdrop-blur-sm p-2 rounded-lg border border-gray-200 dark:border-slate-700 flex items-center gap-2 text-gray-700 dark:text-slate-300 shadow-lg transition-colors duration-300",children:[f.jsx("button",{onClick:s,className:"p-1 rounded-md hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",title:"Zoom Out","aria-label":"Zoom Out",children:f.jsx(oM,{})}),f.jsx("input",{type:"range",min:uM,max:fM,step:"0.01",value:l,onChange:o,className:"w-24 sm:w-32 h-2 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-cyan-500","aria-label":"Zoom slider"}),f.jsx("button",{onClick:i,className:"p-1 rounded-md hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",title:"Zoom In","aria-label":"Zoom In",children:f.jsx(iM,{})}),f.jsxs("span",{className:"w-16 text-center font-mono text-sm","aria-live":"polite",children:[(e*100).toFixed(0),"%"]}),f.jsx("button",{onClick:r,className:"p-1 rounded-md hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",title:"Reset View","aria-label":"Reset View",children:f.jsx(sM,{})})]})]})},hM=({theme:e,setTheme:t})=>{const r=()=>{t(e==="light"?"dark":"light")};return f.jsx("button",{onClick:r,className:"fixed bottom-6 right-6 z-50 p-3 rounded-full bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 shadow-lg text-gray-800 dark:text-yellow-400 hover:bg-gray-100 dark:hover:bg-slate-700 transition-all duration-300",title:`Switch to ${e==="light"?"dark":"light"} mode`,children:e==="light"?f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-slate-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}):f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})})})};function zS(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=zS(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function et(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=zS(e))&&(n&&(n+=" "),n+=t);return n}var pM=Array.isArray,bn=pM,gM=typeof uu=="object"&&uu&&uu.Object===Object&&uu,WS=gM,mM=WS,yM=typeof self=="object"&&self&&self.Object===Object&&self,vM=mM||yM||Function("return this")(),Ca=vM,xM=Ca,bM=xM.Symbol,Zc=bM,Px=Zc,US=Object.prototype,wM=US.hasOwnProperty,kM=US.toString,yl=Px?Px.toStringTag:void 0;function SM(e){var t=wM.call(e,yl),r=e[yl];try{e[yl]=void 0;var n=!0}catch{}var a=kM.call(e);return n&&(t?e[yl]=r:delete e[yl]),a}var jM=SM,OM=Object.prototype,_M=OM.toString;function PM(e){return _M.call(e)}var NM=PM,Nx=Zc,AM=jM,MM=NM,CM="[object Null]",EM="[object Undefined]",Ax=Nx?Nx.toStringTag:void 0;function TM(e){return e==null?e===void 0?EM:CM:Ax&&Ax in Object(e)?AM(e):MM(e)}var ro=TM;function $M(e){return e!=null&&typeof e=="object"}var no=$M,DM=ro,LM=no,RM="[object Symbol]";function IM(e){return typeof e=="symbol"||LM(e)&&DM(e)==RM}var Ks=IM,BM=bn,FM=Ks,zM=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,WM=/^\w*$/;function UM(e,t){if(BM(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||FM(e)?!0:WM.test(e)||!zM.test(e)||t!=null&&e in Object(t)}var ly=UM;function GM(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Ro=GM;const Xs=Pt(Ro);var HM=ro,VM=Ro,KM="[object AsyncFunction]",XM="[object Function]",qM="[object GeneratorFunction]",YM="[object Proxy]";function QM(e){if(!VM(e))return!1;var t=HM(e);return t==XM||t==qM||t==KM||t==YM}var cy=QM;const Re=Pt(cy);var ZM=Ca,JM=ZM["__core-js_shared__"],eC=JM,fp=eC,Mx=function(){var e=/[^.]+$/.exec(fp&&fp.keys&&fp.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function tC(e){return!!Mx&&Mx in e}var rC=tC,nC=Function.prototype,aC=nC.toString;function oC(e){if(e!=null){try{return aC.call(e)}catch{}try{return e+""}catch{}}return""}var GS=oC,iC=cy,sC=rC,lC=Ro,cC=GS,uC=/[\\^$.*+?()[\]{}|]/g,fC=/^\[object .+?Constructor\]$/,dC=Function.prototype,hC=Object.prototype,pC=dC.toString,gC=hC.hasOwnProperty,mC=RegExp("^"+pC.call(gC).replace(uC,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function yC(e){if(!lC(e)||sC(e))return!1;var t=iC(e)?mC:fC;return t.test(cC(e))}var vC=yC;function xC(e,t){return e==null?void 0:e[t]}var bC=xC,wC=vC,kC=bC;function SC(e,t){var r=kC(e,t);return wC(r)?r:void 0}var Oi=SC,jC=Oi,OC=jC(Object,"create"),Hd=OC,Cx=Hd;function _C(){this.__data__=Cx?Cx(null):{},this.size=0}var PC=_C;function NC(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var AC=NC,MC=Hd,CC="__lodash_hash_undefined__",EC=Object.prototype,TC=EC.hasOwnProperty;function $C(e){var t=this.__data__;if(MC){var r=t[e];return r===CC?void 0:r}return TC.call(t,e)?t[e]:void 0}var DC=$C,LC=Hd,RC=Object.prototype,IC=RC.hasOwnProperty;function BC(e){var t=this.__data__;return LC?t[e]!==void 0:IC.call(t,e)}var FC=BC,zC=Hd,WC="__lodash_hash_undefined__";function UC(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=zC&&t===void 0?WC:t,this}var GC=UC,HC=PC,VC=AC,KC=DC,XC=FC,qC=GC;function qs(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}qs.prototype.clear=HC;qs.prototype.delete=VC;qs.prototype.get=KC;qs.prototype.has=XC;qs.prototype.set=qC;var YC=qs;function QC(){this.__data__=[],this.size=0}var ZC=QC;function JC(e,t){return e===t||e!==e&&t!==t}var uy=JC,eE=uy;function tE(e,t){for(var r=e.length;r--;)if(eE(e[r][0],t))return r;return-1}var Vd=tE,rE=Vd,nE=Array.prototype,aE=nE.splice;function oE(e){var t=this.__data__,r=rE(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():aE.call(t,r,1),--this.size,!0}var iE=oE,sE=Vd;function lE(e){var t=this.__data__,r=sE(t,e);return r<0?void 0:t[r][1]}var cE=lE,uE=Vd;function fE(e){return uE(this.__data__,e)>-1}var dE=fE,hE=Vd;function pE(e,t){var r=this.__data__,n=hE(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var gE=pE,mE=ZC,yE=iE,vE=cE,xE=dE,bE=gE;function Ys(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ys.prototype.clear=mE;Ys.prototype.delete=yE;Ys.prototype.get=vE;Ys.prototype.has=xE;Ys.prototype.set=bE;var Kd=Ys,wE=Oi,kE=Ca,SE=wE(kE,"Map"),fy=SE,Ex=YC,jE=Kd,OE=fy;function _E(){this.size=0,this.__data__={hash:new Ex,map:new(OE||jE),string:new Ex}}var PE=_E;function NE(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var AE=NE,ME=AE;function CE(e,t){var r=e.__data__;return ME(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Xd=CE,EE=Xd;function TE(e){var t=EE(this,e).delete(e);return this.size-=t?1:0,t}var $E=TE,DE=Xd;function LE(e){return DE(this,e).get(e)}var RE=LE,IE=Xd;function BE(e){return IE(this,e).has(e)}var FE=BE,zE=Xd;function WE(e,t){var r=zE(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var UE=WE,GE=PE,HE=$E,VE=RE,KE=FE,XE=UE;function Qs(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Qs.prototype.clear=GE;Qs.prototype.delete=HE;Qs.prototype.get=VE;Qs.prototype.has=KE;Qs.prototype.set=XE;var dy=Qs,HS=dy,qE="Expected a function";function hy(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(qE);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],o=r.cache;if(o.has(a))return o.get(a);var i=e.apply(this,n);return r.cache=o.set(a,i)||o,i};return r.cache=new(hy.Cache||HS),r}hy.Cache=HS;var VS=hy;const YE=Pt(VS);var QE=VS,ZE=500;function JE(e){var t=QE(e,function(n){return r.size===ZE&&r.clear(),n}),r=t.cache;return t}var eT=JE,tT=eT,rT=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,nT=/\\(\\)?/g,aT=tT(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(rT,function(r,n,a,o){t.push(a?o.replace(nT,"$1"):n||r)}),t}),oT=aT;function iT(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var py=iT,Tx=Zc,sT=py,lT=bn,cT=Ks,$x=Tx?Tx.prototype:void 0,Dx=$x?$x.toString:void 0;function KS(e){if(typeof e=="string")return e;if(lT(e))return sT(e,KS)+"";if(cT(e))return Dx?Dx.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var uT=KS,fT=uT;function dT(e){return e==null?"":fT(e)}var XS=dT,hT=bn,pT=ly,gT=oT,mT=XS;function yT(e,t){return hT(e)?e:pT(e,t)?[e]:gT(mT(e))}var qS=yT,vT=Ks;function xT(e){if(typeof e=="string"||vT(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var qd=xT,bT=qS,wT=qd;function kT(e,t){t=bT(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[wT(t[r++])];return r&&r==n?e:void 0}var gy=kT,ST=gy;function jT(e,t,r){var n=e==null?void 0:ST(e,t);return n===void 0?r:n}var YS=jT;const Kn=Pt(YS);function OT(e){return e==null}var _T=OT;const Te=Pt(_T);var PT=ro,NT=bn,AT=no,MT="[object String]";function CT(e){return typeof e=="string"||!NT(e)&&AT(e)&&PT(e)==MT}var ET=CT;const mi=Pt(ET);var QS={exports:{}},St={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var my=Symbol.for("react.element"),yy=Symbol.for("react.portal"),Yd=Symbol.for("react.fragment"),Qd=Symbol.for("react.strict_mode"),Zd=Symbol.for("react.profiler"),Jd=Symbol.for("react.provider"),eh=Symbol.for("react.context"),TT=Symbol.for("react.server_context"),th=Symbol.for("react.forward_ref"),rh=Symbol.for("react.suspense"),nh=Symbol.for("react.suspense_list"),ah=Symbol.for("react.memo"),oh=Symbol.for("react.lazy"),$T=Symbol.for("react.offscreen"),ZS;ZS=Symbol.for("react.module.reference");function Qn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case my:switch(e=e.type,e){case Yd:case Zd:case Qd:case rh:case nh:return e;default:switch(e=e&&e.$$typeof,e){case TT:case eh:case th:case oh:case ah:case Jd:return e;default:return t}}case yy:return t}}}St.ContextConsumer=eh;St.ContextProvider=Jd;St.Element=my;St.ForwardRef=th;St.Fragment=Yd;St.Lazy=oh;St.Memo=ah;St.Portal=yy;St.Profiler=Zd;St.StrictMode=Qd;St.Suspense=rh;St.SuspenseList=nh;St.isAsyncMode=function(){return!1};St.isConcurrentMode=function(){return!1};St.isContextConsumer=function(e){return Qn(e)===eh};St.isContextProvider=function(e){return Qn(e)===Jd};St.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===my};St.isForwardRef=function(e){return Qn(e)===th};St.isFragment=function(e){return Qn(e)===Yd};St.isLazy=function(e){return Qn(e)===oh};St.isMemo=function(e){return Qn(e)===ah};St.isPortal=function(e){return Qn(e)===yy};St.isProfiler=function(e){return Qn(e)===Zd};St.isStrictMode=function(e){return Qn(e)===Qd};St.isSuspense=function(e){return Qn(e)===rh};St.isSuspenseList=function(e){return Qn(e)===nh};St.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Yd||e===Zd||e===Qd||e===rh||e===nh||e===$T||typeof e=="object"&&e!==null&&(e.$$typeof===oh||e.$$typeof===ah||e.$$typeof===Jd||e.$$typeof===eh||e.$$typeof===th||e.$$typeof===ZS||e.getModuleId!==void 0)};St.typeOf=Qn;QS.exports=St;var DT=QS.exports,LT=ro,RT=no,IT="[object Number]";function BT(e){return typeof e=="number"||RT(e)&&LT(e)==IT}var JS=BT;const FT=Pt(JS);var zT=JS;function WT(e){return zT(e)&&e!=+e}var UT=WT;const Zs=Pt(UT);var ua=function(t){return t===0?0:t>0?1:-1},Jo=function(t){return mi(t)&&t.indexOf("%")===t.length-1},se=function(t){return FT(t)&&!Zs(t)},GT=function(t){return Te(t)},yr=function(t){return se(t)||mi(t)},HT=0,_i=function(t){var r=++HT;return"".concat(t||"").concat(r)},yi=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!se(t)&&!mi(t))return n;var o;if(Jo(t)){var i=t.indexOf("%");o=r*parseFloat(t.slice(0,i))/100}else o=+t;return Zs(o)&&(o=n),a&&o>r&&(o=r),o},yo=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},VT=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},or=function(t,r){return se(t)&&se(r)?function(n){return t+n*(r-t)}:function(){return r}};function _f(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Kn(n,t))===r})}var KT=function(t){if(!t||!t.length)return null;for(var r=t.length,n=0,a=0,o=0,i=0,s=1/0,l=-1/0,c=0,u=0,d=0;d<r;d++)c=t[d].cx||0,u=t[d].cy||0,n+=c,a+=u,o+=c*u,i+=c*c,s=Math.min(s,c),l=Math.max(l,c);var h=r*i!==n*n?(r*o-n*a)/(r*i-n*n):0;return{xmin:s,xmax:l,a:h,b:(a-h*n)/r}},XT=function(t,r){return se(t)&&se(r)?t-r:mi(t)&&mi(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function is(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function F0(e){"@babel/helpers - typeof";return F0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F0(e)}var qT=["viewBox","children"],YT=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Lx=["points","pathLength"],dp={svg:qT,polygon:Lx,polyline:Lx},vy=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Pf=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(O.isValidElement(t)&&(n=t.props),!Xs(n))return null;var a={};return Object.keys(n).forEach(function(o){vy.includes(o)&&(a[o]=r||function(i){return n[o](n,i)})}),a},QT=function(t,r,n){return function(a){return t(r,n,a),null}},fc=function(t,r,n){if(!Xs(t)||F0(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(o){var i=t[o];vy.includes(o)&&typeof i=="function"&&(a||(a={}),a[o]=QT(i,r,n))}),a},ZT=["children"],JT=["children"];function Rx(e,t){if(e==null)return{};var r=e$(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function e$(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function z0(e){"@babel/helpers - typeof";return z0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},z0(e)}var Ix={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ga=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},Bx=null,hp=null,xy=function e(t){if(t===Bx&&Array.isArray(hp))return hp;var r=[];return O.Children.forEach(t,function(n){Te(n)||(DT.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),hp=r,Bx=t,r};function xn(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return Ga(a)}):n=[Ga(t)],xy(e).forEach(function(a){var o=Kn(a,"type.displayName")||Kn(a,"type.name");n.indexOf(o)!==-1&&r.push(a)}),r}function Pn(e,t){var r=xn(e,t);return r&&r[0]}var Fx=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!se(n)||n<=0||!se(a)||a<=0)},t$=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],r$=function(t){return t&&t.type&&mi(t.type)&&t$.indexOf(t.type)>=0},ej=function(t){return t&&z0(t)==="object"&&"clipDot"in t},n$=function(t,r,n,a){var o,i=(o=dp==null?void 0:dp[a])!==null&&o!==void 0?o:[];return r.startsWith("data-")||!Re(t)&&(a&&i.includes(r)||YT.includes(r))||n&&vy.includes(r)},$e=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(O.isValidElement(t)&&(a=t.props),!Xs(a))return null;var o={};return Object.keys(a).forEach(function(i){var s;n$((s=a)===null||s===void 0?void 0:s[i],i,r,n)&&(o[i]=a[i])}),o},W0=function e(t,r){if(t===r)return!0;var n=O.Children.count(t);if(n!==O.Children.count(r))return!1;if(n===0)return!0;if(n===1)return zx(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var o=t[a],i=r[a];if(Array.isArray(o)||Array.isArray(i)){if(!e(o,i))return!1}else if(!zx(o,i))return!1}return!0},zx=function(t,r){if(Te(t)&&Te(r))return!0;if(!Te(t)&&!Te(r)){var n=t.props||{},a=n.children,o=Rx(n,ZT),i=r.props||{},s=i.children,l=Rx(i,JT);return a&&s?is(o,l)&&W0(a,s):!a&&!s?is(o,l):!1}return!1},Wx=function(t,r){var n=[],a={};return xy(t).forEach(function(o,i){if(r$(o))n.push(o);else if(o){var s=Ga(o.type),l=r[s]||{},c=l.handler,u=l.once;if(c&&(!u||!a[s])){var d=c(o,s,i);n.push(d),a[s]=!0}}}),n},a$=function(t){var r=t&&t.type;return r&&Ix[r]?Ix[r]:null},o$=function(t,r){return xy(r).indexOf(t)},i$=["children","width","height","viewBox","className","style","title","desc"];function U0(){return U0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},U0.apply(this,arguments)}function s$(e,t){if(e==null)return{};var r=l$(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function l$(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function G0(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,o=e.className,i=e.style,s=e.title,l=e.desc,c=s$(e,i$),u=a||{width:r,height:n,x:0,y:0},d=et("recharts-surface",o);return C.createElement("svg",U0({},$e(c,!0,"svg"),{className:d,width:r,height:n,style:i,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),C.createElement("title",null,s),C.createElement("desc",null,l),t)}var c$=["children","className"];function H0(){return H0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},H0.apply(this,arguments)}function u$(e,t){if(e==null)return{};var r=f$(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function f$(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var xt=C.forwardRef(function(e,t){var r=e.children,n=e.className,a=u$(e,c$),o=et("recharts-layer",n);return C.createElement("g",H0({className:o},$e(a,!0),{ref:t}),r)}),Ha=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o]};function d$(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(a);++n<a;)o[n]=e[n+t];return o}var h$=d$,p$=h$;function g$(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:p$(e,t,r)}var m$=g$,y$="\\ud800-\\udfff",v$="\\u0300-\\u036f",x$="\\ufe20-\\ufe2f",b$="\\u20d0-\\u20ff",w$=v$+x$+b$,k$="\\ufe0e\\ufe0f",S$="\\u200d",j$=RegExp("["+S$+y$+w$+k$+"]");function O$(e){return j$.test(e)}var tj=O$;function _$(e){return e.split("")}var P$=_$,rj="\\ud800-\\udfff",N$="\\u0300-\\u036f",A$="\\ufe20-\\ufe2f",M$="\\u20d0-\\u20ff",C$=N$+A$+M$,E$="\\ufe0e\\ufe0f",T$="["+rj+"]",V0="["+C$+"]",K0="\\ud83c[\\udffb-\\udfff]",$$="(?:"+V0+"|"+K0+")",nj="[^"+rj+"]",aj="(?:\\ud83c[\\udde6-\\uddff]){2}",oj="[\\ud800-\\udbff][\\udc00-\\udfff]",D$="\\u200d",ij=$$+"?",sj="["+E$+"]?",L$="(?:"+D$+"(?:"+[nj,aj,oj].join("|")+")"+sj+ij+")*",R$=sj+ij+L$,I$="(?:"+[nj+V0+"?",V0,aj,oj,T$].join("|")+")",B$=RegExp(K0+"(?="+K0+")|"+I$+R$,"g");function F$(e){return e.match(B$)||[]}var z$=F$,W$=P$,U$=tj,G$=z$;function H$(e){return U$(e)?G$(e):W$(e)}var V$=H$,K$=m$,X$=tj,q$=V$,Y$=XS;function Q$(e){return function(t){t=Y$(t);var r=X$(t)?q$(t):void 0,n=r?r[0]:t.charAt(0),a=r?K$(r,1).join(""):t.slice(1);return n[e]()+a}}var Z$=Q$,J$=Z$,e5=J$("toUpperCase"),t5=e5;const ih=Pt(t5);function $t(e){return function(){return e}}const lj=Math.cos,Nf=Math.sin,ya=Math.sqrt,Af=Math.PI,sh=2*Af,X0=Math.PI,q0=2*X0,Ko=1e-6,r5=q0-Ko;function cj(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function n5(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return cj;const r=10**t;return function(n){this._+=n[0];for(let a=1,o=n.length;a<o;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class a5{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?cj:n5(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,o,i){this._append`C${+t},${+r},${+n},${+a},${this._x1=+o},${this._y1=+i}`}arcTo(t,r,n,a,o){if(t=+t,r=+r,n=+n,a=+a,o=+o,o<0)throw new Error(`negative radius: ${o}`);let i=this._x1,s=this._y1,l=n-t,c=a-r,u=i-t,d=s-r,h=u*u+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Ko)if(!(Math.abs(d*l-c*u)>Ko)||!o)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-i,m=a-s,v=l*l+c*c,x=p*p+m*m,y=Math.sqrt(v),g=Math.sqrt(h),b=o*Math.tan((X0-Math.acos((v+h-x)/(2*y*g)))/2),k=b/g,w=b/y;Math.abs(k-1)>Ko&&this._append`L${t+k*u},${r+k*d}`,this._append`A${o},${o},0,0,${+(d*p>u*m)},${this._x1=t+w*l},${this._y1=r+w*c}`}}arc(t,r,n,a,o,i){if(t=+t,r=+r,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(a),l=n*Math.sin(a),c=t+s,u=r+l,d=1^i,h=i?a-o:o-a;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>Ko||Math.abs(this._y1-u)>Ko)&&this._append`L${c},${u}`,n&&(h<0&&(h=h%q0+q0),h>r5?this._append`A${n},${n},0,1,${d},${t-s},${r-l}A${n},${n},0,1,${d},${this._x1=c},${this._y1=u}`:h>Ko&&this._append`A${n},${n},0,${+(h>=X0)},${d},${this._x1=t+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function by(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new a5(t)}function wy(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function uj(e){this._context=e}uj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function lh(e){return new uj(e)}function fj(e){return e[0]}function dj(e){return e[1]}function hj(e,t){var r=$t(!0),n=null,a=lh,o=null,i=by(s);e=typeof e=="function"?e:e===void 0?fj:$t(e),t=typeof t=="function"?t:t===void 0?dj:$t(t);function s(l){var c,u=(l=wy(l)).length,d,h=!1,p;for(n==null&&(o=a(p=i())),c=0;c<=u;++c)!(c<u&&r(d=l[c],c,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+e(d,c,l),+t(d,c,l));if(p)return o=null,p+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:$t(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:$t(+l),s):t},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:$t(!!l),s):r},s.curve=function(l){return arguments.length?(a=l,n!=null&&(o=a(n)),s):a},s.context=function(l){return arguments.length?(l==null?n=o=null:o=a(n=l),s):n},s}function Au(e,t,r){var n=null,a=$t(!0),o=null,i=lh,s=null,l=by(c);e=typeof e=="function"?e:e===void 0?fj:$t(+e),t=typeof t=="function"?t:$t(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?dj:$t(+r);function c(d){var h,p,m,v=(d=wy(d)).length,x,y=!1,g,b=new Array(v),k=new Array(v);for(o==null&&(s=i(g=l())),h=0;h<=v;++h){if(!(h<v&&a(x=d[h],h,d))===y)if(y=!y)p=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),m=h-1;m>=p;--m)s.point(b[m],k[m]);s.lineEnd(),s.areaEnd()}y&&(b[h]=+e(x,h,d),k[h]=+t(x,h,d),s.point(n?+n(x,h,d):b[h],r?+r(x,h,d):k[h]))}if(g)return s=null,g+""||null}function u(){return hj().defined(a).curve(i).context(o)}return c.x=function(d){return arguments.length?(e=typeof d=="function"?d:$t(+d),n=null,c):e},c.x0=function(d){return arguments.length?(e=typeof d=="function"?d:$t(+d),c):e},c.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:$t(+d),c):n},c.y=function(d){return arguments.length?(t=typeof d=="function"?d:$t(+d),r=null,c):t},c.y0=function(d){return arguments.length?(t=typeof d=="function"?d:$t(+d),c):t},c.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:$t(+d),c):r},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(r)},c.lineX1=function(){return u().x(n).y(t)},c.defined=function(d){return arguments.length?(a=typeof d=="function"?d:$t(!!d),c):a},c.curve=function(d){return arguments.length?(i=d,o!=null&&(s=i(o)),c):i},c.context=function(d){return arguments.length?(d==null?o=s=null:s=i(o=d),c):o},c}class pj{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function o5(e){return new pj(e,!0)}function i5(e){return new pj(e,!1)}const ky={draw(e,t){const r=ya(t/Af);e.moveTo(r,0),e.arc(0,0,r,0,sh)}},s5={draw(e,t){const r=ya(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},gj=ya(1/3),l5=gj*2,c5={draw(e,t){const r=ya(t/l5),n=r*gj;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},u5={draw(e,t){const r=ya(t),n=-r/2;e.rect(n,n,r,r)}},f5=.8908130915292852,mj=Nf(Af/10)/Nf(7*Af/10),d5=Nf(sh/10)*mj,h5=-lj(sh/10)*mj,p5={draw(e,t){const r=ya(t*f5),n=d5*r,a=h5*r;e.moveTo(0,-r),e.lineTo(n,a);for(let o=1;o<5;++o){const i=sh*o/5,s=lj(i),l=Nf(i);e.lineTo(l*r,-s*r),e.lineTo(s*n-l*a,l*n+s*a)}e.closePath()}},pp=ya(3),g5={draw(e,t){const r=-ya(t/(pp*3));e.moveTo(0,r*2),e.lineTo(-pp*r,-r),e.lineTo(pp*r,-r),e.closePath()}},Rn=-.5,In=ya(3)/2,Y0=1/ya(12),m5=(Y0/2+1)*3,y5={draw(e,t){const r=ya(t/m5),n=r/2,a=r*Y0,o=n,i=r*Y0+r,s=-o,l=i;e.moveTo(n,a),e.lineTo(o,i),e.lineTo(s,l),e.lineTo(Rn*n-In*a,In*n+Rn*a),e.lineTo(Rn*o-In*i,In*o+Rn*i),e.lineTo(Rn*s-In*l,In*s+Rn*l),e.lineTo(Rn*n+In*a,Rn*a-In*n),e.lineTo(Rn*o+In*i,Rn*i-In*o),e.lineTo(Rn*s+In*l,Rn*l-In*s),e.closePath()}};function v5(e,t){let r=null,n=by(a);e=typeof e=="function"?e:$t(e||ky),t=typeof t=="function"?t:$t(t===void 0?64:+t);function a(){let o;if(r||(r=o=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),o)return r=null,o+""||null}return a.type=function(o){return arguments.length?(e=typeof o=="function"?o:$t(o),a):e},a.size=function(o){return arguments.length?(t=typeof o=="function"?o:$t(+o),a):t},a.context=function(o){return arguments.length?(r=o??null,a):r},a}function Mf(){}function Cf(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function yj(e){this._context=e}yj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Cf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Cf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function x5(e){return new yj(e)}function vj(e){this._context=e}vj.prototype={areaStart:Mf,areaEnd:Mf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Cf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function b5(e){return new vj(e)}function xj(e){this._context=e}xj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Cf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function w5(e){return new xj(e)}function bj(e){this._context=e}bj.prototype={areaStart:Mf,areaEnd:Mf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function k5(e){return new bj(e)}function Ux(e){return e<0?-1:1}function Gx(e,t,r){var n=e._x1-e._x0,a=t-e._x1,o=(e._y1-e._y0)/(n||a<0&&-0),i=(r-e._y1)/(a||n<0&&-0),s=(o*a+i*n)/(n+a);return(Ux(o)+Ux(i))*Math.min(Math.abs(o),Math.abs(i),.5*Math.abs(s))||0}function Hx(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function gp(e,t,r){var n=e._x0,a=e._y0,o=e._x1,i=e._y1,s=(o-n)/3;e._context.bezierCurveTo(n+s,a+s*t,o-s,i-s*r,o,i)}function Ef(e){this._context=e}Ef.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:gp(this,this._t0,Hx(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,gp(this,Hx(this,r=Gx(this,e,t)),r);break;default:gp(this,this._t0,r=Gx(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function wj(e){this._context=new kj(e)}(wj.prototype=Object.create(Ef.prototype)).point=function(e,t){Ef.prototype.point.call(this,t,e)};function kj(e){this._context=e}kj.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,o){this._context.bezierCurveTo(t,e,n,r,o,a)}};function S5(e){return new Ef(e)}function j5(e){return new wj(e)}function Sj(e){this._context=e}Sj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Vx(e),a=Vx(t),o=0,i=1;i<r;++o,++i)this._context.bezierCurveTo(n[0][o],a[0][o],n[1][o],a[1][o],e[i],t[i]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Vx(e){var t,r=e.length-1,n,a=new Array(r),o=new Array(r),i=new Array(r);for(a[0]=0,o[0]=2,i[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,o[t]=4,i[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,o[r-1]=7,i[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/o[t-1],o[t]-=n,i[t]-=n*i[t-1];for(a[r-1]=i[r-1]/o[r-1],t=r-2;t>=0;--t)a[t]=(i[t]-a[t+1])/o[t];for(o[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-a[t+1];return[a,o]}function O5(e){return new Sj(e)}function ch(e,t){this._context=e,this._t=t}ch.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function _5(e){return new ch(e,.5)}function P5(e){return new ch(e,0)}function N5(e){return new ch(e,1)}function ms(e,t){if((i=e.length)>1)for(var r=1,n,a,o=e[t[0]],i,s=o.length;r<i;++r)for(a=o,o=e[t[r]],n=0;n<s;++n)o[n][1]+=o[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function Q0(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function A5(e,t){return e[t]}function M5(e){const t=[];return t.key=e,t}function C5(){var e=$t([]),t=Q0,r=ms,n=A5;function a(o){var i=Array.from(e.apply(this,arguments),M5),s,l=i.length,c=-1,u;for(const d of o)for(s=0,++c;s<l;++s)(i[s][c]=[0,+n(d,i[s].key,c,o)]).data=d;for(s=0,u=wy(t(i));s<l;++s)i[u[s]].index=s;return r(i,u),i}return a.keys=function(o){return arguments.length?(e=typeof o=="function"?o:$t(Array.from(o)),a):e},a.value=function(o){return arguments.length?(n=typeof o=="function"?o:$t(+o),a):n},a.order=function(o){return arguments.length?(t=o==null?Q0:typeof o=="function"?o:$t(Array.from(o)),a):t},a.offset=function(o){return arguments.length?(r=o??ms,a):r},a}function E5(e,t){if((n=e.length)>0){for(var r,n,a=0,o=e[0].length,i;a<o;++a){for(i=r=0;r<n;++r)i+=e[r][a][1]||0;if(i)for(r=0;r<n;++r)e[r][a][1]/=i}ms(e,t)}}function T5(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,o=n.length;r<o;++r){for(var i=0,s=0;i<a;++i)s+=e[i][r][1]||0;n[r][1]+=n[r][0]=-s/2}ms(e,t)}}function $5(e,t){if(!(!((i=e.length)>0)||!((o=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,o,i;n<o;++n){for(var s=0,l=0,c=0;s<i;++s){for(var u=e[t[s]],d=u[n][1]||0,h=u[n-1][1]||0,p=(d-h)/2,m=0;m<s;++m){var v=e[t[m]],x=v[n][1]||0,y=v[n-1][1]||0;p+=x-y}l+=d,c+=p*d}a[n-1][1]+=a[n-1][0]=r,l&&(r-=c/l)}a[n-1][1]+=a[n-1][0]=r,ms(e,t)}}function dc(e){"@babel/helpers - typeof";return dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dc(e)}var D5=["type","size","sizeType"];function Z0(){return Z0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Z0.apply(this,arguments)}function Kx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kx(Object(r),!0).forEach(function(n){L5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function L5(e,t,r){return t=R5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R5(e){var t=I5(e,"string");return dc(t)=="symbol"?t:t+""}function I5(e,t){if(dc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function B5(e,t){if(e==null)return{};var r=F5(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function F5(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var jj={symbolCircle:ky,symbolCross:s5,symbolDiamond:c5,symbolSquare:u5,symbolStar:p5,symbolTriangle:g5,symbolWye:y5},z5=Math.PI/180,W5=function(t){var r="symbol".concat(ih(t));return jj[r]||ky},U5=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*z5;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},G5=function(t,r){jj["symbol".concat(ih(t))]=r},uh=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,o=a===void 0?64:a,i=t.sizeType,s=i===void 0?"area":i,l=B5(t,D5),c=Xx(Xx({},l),{},{type:n,size:o,sizeType:s}),u=function(){var x=W5(n),y=v5().type(x).size(U5(o,s,n));return y()},d=c.className,h=c.cx,p=c.cy,m=$e(c,!0);return h===+h&&p===+p&&o===+o?C.createElement("path",Z0({},m,{className:et("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(p,")"),d:u()})):null};uh.registerSymbol=G5;function ys(e){"@babel/helpers - typeof";return ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ys(e)}function J0(){return J0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},J0.apply(this,arguments)}function qx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function H5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qx(Object(r),!0).forEach(function(n){hc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function V5(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_j(n.key),n)}}function X5(e,t,r){return t&&K5(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function q5(e,t,r){return t=Tf(t),Y5(e,Oj()?Reflect.construct(t,r||[],Tf(e).constructor):t.apply(e,r))}function Y5(e,t){if(t&&(ys(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Q5(e)}function Q5(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oj(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Oj=function(){return!!e})()}function Tf(e){return Tf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tf(e)}function Z5(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eg(e,t)}function eg(e,t){return eg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},eg(e,t)}function hc(e,t,r){return t=_j(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _j(e){var t=J5(e,"string");return ys(t)=="symbol"?t:t+""}function J5(e,t){if(ys(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ys(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Bn=32,Sy=function(e){function t(){return V5(this,t),q5(this,t,arguments)}return Z5(t,e),X5(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,o=Bn/2,i=Bn/6,s=Bn/3,l=n.inactive?a:n.color;if(n.type==="plainline")return C.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:o,x2:Bn,y2:o,className:"recharts-legend-icon"});if(n.type==="line")return C.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(Bn,"M").concat(2*s,",").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(n.type==="rect")return C.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Bn/8,"h").concat(Bn,"v").concat(Bn*3/4,"h").concat(-Bn,"z"),className:"recharts-legend-icon"});if(C.isValidElement(n.legendIcon)){var c=H5({},n);return delete c.legendIcon,C.cloneElement(n.legendIcon,c)}return C.createElement(uh,{fill:l,cx:o,cy:o,size:Bn,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,o=a.payload,i=a.iconSize,s=a.layout,l=a.formatter,c=a.inactiveColor,u={x:0,y:0,width:Bn,height:Bn},d={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(p,m){var v=p.formatter||l,x=et(hc(hc({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",p.inactive));if(p.type==="none")return null;var y=Re(p.value)?null:p.value;Ha(!Re(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var g=p.inactive?c:p.color;return C.createElement("li",J0({className:x,style:d,key:"legend-item-".concat(m)},fc(n.props,p,m)),C.createElement(G0,{width:i,height:i,viewBox:u,style:h},n.renderIcon(p)),C.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},v?v(y,p,m):y))})}},{key:"render",value:function(){var n=this.props,a=n.payload,o=n.layout,i=n.align;if(!a||!a.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?i:"left"};return C.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(O.PureComponent);hc(Sy,"displayName","Legend");hc(Sy,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var e4=Kd;function t4(){this.__data__=new e4,this.size=0}var r4=t4;function n4(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var a4=n4;function o4(e){return this.__data__.get(e)}var i4=o4;function s4(e){return this.__data__.has(e)}var l4=s4,c4=Kd,u4=fy,f4=dy,d4=200;function h4(e,t){var r=this.__data__;if(r instanceof c4){var n=r.__data__;if(!u4||n.length<d4-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new f4(n)}return r.set(e,t),this.size=r.size,this}var p4=h4,g4=Kd,m4=r4,y4=a4,v4=i4,x4=l4,b4=p4;function Js(e){var t=this.__data__=new g4(e);this.size=t.size}Js.prototype.clear=m4;Js.prototype.delete=y4;Js.prototype.get=v4;Js.prototype.has=x4;Js.prototype.set=b4;var Pj=Js,w4="__lodash_hash_undefined__";function k4(e){return this.__data__.set(e,w4),this}var S4=k4;function j4(e){return this.__data__.has(e)}var O4=j4,_4=dy,P4=S4,N4=O4;function $f(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new _4;++t<r;)this.add(e[t])}$f.prototype.add=$f.prototype.push=P4;$f.prototype.has=N4;var Nj=$f;function A4(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var Aj=A4;function M4(e,t){return e.has(t)}var Mj=M4,C4=Nj,E4=Aj,T4=Mj,$4=1,D4=2;function L4(e,t,r,n,a,o){var i=r&$4,s=e.length,l=t.length;if(s!=l&&!(i&&l>s))return!1;var c=o.get(e),u=o.get(t);if(c&&u)return c==t&&u==e;var d=-1,h=!0,p=r&D4?new C4:void 0;for(o.set(e,t),o.set(t,e);++d<s;){var m=e[d],v=t[d];if(n)var x=i?n(v,m,d,t,e,o):n(m,v,d,e,t,o);if(x!==void 0){if(x)continue;h=!1;break}if(p){if(!E4(t,function(y,g){if(!T4(p,g)&&(m===y||a(m,y,r,n,o)))return p.push(g)})){h=!1;break}}else if(!(m===v||a(m,v,r,n,o))){h=!1;break}}return o.delete(e),o.delete(t),h}var Cj=L4,R4=Ca,I4=R4.Uint8Array,B4=I4;function F4(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var z4=F4;function W4(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var jy=W4,Yx=Zc,Qx=B4,U4=uy,G4=Cj,H4=z4,V4=jy,K4=1,X4=2,q4="[object Boolean]",Y4="[object Date]",Q4="[object Error]",Z4="[object Map]",J4="[object Number]",e3="[object RegExp]",t3="[object Set]",r3="[object String]",n3="[object Symbol]",a3="[object ArrayBuffer]",o3="[object DataView]",Zx=Yx?Yx.prototype:void 0,mp=Zx?Zx.valueOf:void 0;function i3(e,t,r,n,a,o,i){switch(r){case o3:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case a3:return!(e.byteLength!=t.byteLength||!o(new Qx(e),new Qx(t)));case q4:case Y4:case J4:return U4(+e,+t);case Q4:return e.name==t.name&&e.message==t.message;case e3:case r3:return e==t+"";case Z4:var s=H4;case t3:var l=n&K4;if(s||(s=V4),e.size!=t.size&&!l)return!1;var c=i.get(e);if(c)return c==t;n|=X4,i.set(e,t);var u=G4(s(e),s(t),n,a,o,i);return i.delete(e),u;case n3:if(mp)return mp.call(e)==mp.call(t)}return!1}var s3=i3;function l3(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var Ej=l3,c3=Ej,u3=bn;function f3(e,t,r){var n=t(e);return u3(e)?n:c3(n,r(e))}var d3=f3;function h3(e,t){for(var r=-1,n=e==null?0:e.length,a=0,o=[];++r<n;){var i=e[r];t(i,r,e)&&(o[a++]=i)}return o}var p3=h3;function g3(){return[]}var m3=g3,y3=p3,v3=m3,x3=Object.prototype,b3=x3.propertyIsEnumerable,Jx=Object.getOwnPropertySymbols,w3=Jx?function(e){return e==null?[]:(e=Object(e),y3(Jx(e),function(t){return b3.call(e,t)}))}:v3,k3=w3;function S3(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var j3=S3,O3=ro,_3=no,P3="[object Arguments]";function N3(e){return _3(e)&&O3(e)==P3}var A3=N3,eb=A3,M3=no,Tj=Object.prototype,C3=Tj.hasOwnProperty,E3=Tj.propertyIsEnumerable,T3=eb(function(){return arguments}())?eb:function(e){return M3(e)&&C3.call(e,"callee")&&!E3.call(e,"callee")},Oy=T3,Df={exports:{}};function $3(){return!1}var D3=$3;Df.exports;(function(e,t){var r=Ca,n=D3,a=t&&!t.nodeType&&t,o=a&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===a,s=i?r.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||n;e.exports=c})(Df,Df.exports);var $j=Df.exports,L3=9007199254740991,R3=/^(?:0|[1-9]\d*)$/;function I3(e,t){var r=typeof e;return t=t??L3,!!t&&(r=="number"||r!="symbol"&&R3.test(e))&&e>-1&&e%1==0&&e<t}var _y=I3,B3=9007199254740991;function F3(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=B3}var Py=F3,z3=ro,W3=Py,U3=no,G3="[object Arguments]",H3="[object Array]",V3="[object Boolean]",K3="[object Date]",X3="[object Error]",q3="[object Function]",Y3="[object Map]",Q3="[object Number]",Z3="[object Object]",J3="[object RegExp]",eD="[object Set]",tD="[object String]",rD="[object WeakMap]",nD="[object ArrayBuffer]",aD="[object DataView]",oD="[object Float32Array]",iD="[object Float64Array]",sD="[object Int8Array]",lD="[object Int16Array]",cD="[object Int32Array]",uD="[object Uint8Array]",fD="[object Uint8ClampedArray]",dD="[object Uint16Array]",hD="[object Uint32Array]",zt={};zt[oD]=zt[iD]=zt[sD]=zt[lD]=zt[cD]=zt[uD]=zt[fD]=zt[dD]=zt[hD]=!0;zt[G3]=zt[H3]=zt[nD]=zt[V3]=zt[aD]=zt[K3]=zt[X3]=zt[q3]=zt[Y3]=zt[Q3]=zt[Z3]=zt[J3]=zt[eD]=zt[tD]=zt[rD]=!1;function pD(e){return U3(e)&&W3(e.length)&&!!zt[z3(e)]}var gD=pD;function mD(e){return function(t){return e(t)}}var Dj=mD,Lf={exports:{}};Lf.exports;(function(e,t){var r=WS,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===n,i=o&&r.process,s=function(){try{var l=a&&a.require&&a.require("util").types;return l||i&&i.binding&&i.binding("util")}catch{}}();e.exports=s})(Lf,Lf.exports);var yD=Lf.exports,vD=gD,xD=Dj,tb=yD,rb=tb&&tb.isTypedArray,bD=rb?xD(rb):vD,Lj=bD,wD=j3,kD=Oy,SD=bn,jD=$j,OD=_y,_D=Lj,PD=Object.prototype,ND=PD.hasOwnProperty;function AD(e,t){var r=SD(e),n=!r&&kD(e),a=!r&&!n&&jD(e),o=!r&&!n&&!a&&_D(e),i=r||n||a||o,s=i?wD(e.length,String):[],l=s.length;for(var c in e)(t||ND.call(e,c))&&!(i&&(c=="length"||a&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||OD(c,l)))&&s.push(c);return s}var MD=AD,CD=Object.prototype;function ED(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||CD;return e===r}var TD=ED;function $D(e,t){return function(r){return e(t(r))}}var Rj=$D,DD=Rj,LD=DD(Object.keys,Object),RD=LD,ID=TD,BD=RD,FD=Object.prototype,zD=FD.hasOwnProperty;function WD(e){if(!ID(e))return BD(e);var t=[];for(var r in Object(e))zD.call(e,r)&&r!="constructor"&&t.push(r);return t}var UD=WD,GD=cy,HD=Py;function VD(e){return e!=null&&HD(e.length)&&!GD(e)}var Jc=VD,KD=MD,XD=UD,qD=Jc;function YD(e){return qD(e)?KD(e):XD(e)}var fh=YD,QD=d3,ZD=k3,JD=fh;function eL(e){return QD(e,JD,ZD)}var tL=eL,nb=tL,rL=1,nL=Object.prototype,aL=nL.hasOwnProperty;function oL(e,t,r,n,a,o){var i=r&rL,s=nb(e),l=s.length,c=nb(t),u=c.length;if(l!=u&&!i)return!1;for(var d=l;d--;){var h=s[d];if(!(i?h in t:aL.call(t,h)))return!1}var p=o.get(e),m=o.get(t);if(p&&m)return p==t&&m==e;var v=!0;o.set(e,t),o.set(t,e);for(var x=i;++d<l;){h=s[d];var y=e[h],g=t[h];if(n)var b=i?n(g,y,h,t,e,o):n(y,g,h,e,t,o);if(!(b===void 0?y===g||a(y,g,r,n,o):b)){v=!1;break}x||(x=h=="constructor")}if(v&&!x){var k=e.constructor,w=t.constructor;k!=w&&"constructor"in e&&"constructor"in t&&!(typeof k=="function"&&k instanceof k&&typeof w=="function"&&w instanceof w)&&(v=!1)}return o.delete(e),o.delete(t),v}var iL=oL,sL=Oi,lL=Ca,cL=sL(lL,"DataView"),uL=cL,fL=Oi,dL=Ca,hL=fL(dL,"Promise"),pL=hL,gL=Oi,mL=Ca,yL=gL(mL,"Set"),Ij=yL,vL=Oi,xL=Ca,bL=vL(xL,"WeakMap"),wL=bL,tg=uL,rg=fy,ng=pL,ag=Ij,og=wL,Bj=ro,el=GS,ab="[object Map]",kL="[object Object]",ob="[object Promise]",ib="[object Set]",sb="[object WeakMap]",lb="[object DataView]",SL=el(tg),jL=el(rg),OL=el(ng),_L=el(ag),PL=el(og),Xo=Bj;(tg&&Xo(new tg(new ArrayBuffer(1)))!=lb||rg&&Xo(new rg)!=ab||ng&&Xo(ng.resolve())!=ob||ag&&Xo(new ag)!=ib||og&&Xo(new og)!=sb)&&(Xo=function(e){var t=Bj(e),r=t==kL?e.constructor:void 0,n=r?el(r):"";if(n)switch(n){case SL:return lb;case jL:return ab;case OL:return ob;case _L:return ib;case PL:return sb}return t});var NL=Xo,yp=Pj,AL=Cj,ML=s3,CL=iL,cb=NL,ub=bn,fb=$j,EL=Lj,TL=1,db="[object Arguments]",hb="[object Array]",Mu="[object Object]",$L=Object.prototype,pb=$L.hasOwnProperty;function DL(e,t,r,n,a,o){var i=ub(e),s=ub(t),l=i?hb:cb(e),c=s?hb:cb(t);l=l==db?Mu:l,c=c==db?Mu:c;var u=l==Mu,d=c==Mu,h=l==c;if(h&&fb(e)){if(!fb(t))return!1;i=!0,u=!1}if(h&&!u)return o||(o=new yp),i||EL(e)?AL(e,t,r,n,a,o):ML(e,t,l,r,n,a,o);if(!(r&TL)){var p=u&&pb.call(e,"__wrapped__"),m=d&&pb.call(t,"__wrapped__");if(p||m){var v=p?e.value():e,x=m?t.value():t;return o||(o=new yp),a(v,x,r,n,o)}}return h?(o||(o=new yp),CL(e,t,r,n,a,o)):!1}var LL=DL,RL=LL,gb=no;function Fj(e,t,r,n,a){return e===t?!0:e==null||t==null||!gb(e)&&!gb(t)?e!==e&&t!==t:RL(e,t,r,n,Fj,a)}var Ny=Fj,IL=Pj,BL=Ny,FL=1,zL=2;function WL(e,t,r,n){var a=r.length,o=a,i=!n;if(e==null)return!o;for(e=Object(e);a--;){var s=r[a];if(i&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<o;){s=r[a];var l=s[0],c=e[l],u=s[1];if(i&&s[2]){if(c===void 0&&!(l in e))return!1}else{var d=new IL;if(n)var h=n(c,u,l,e,t,d);if(!(h===void 0?BL(u,c,FL|zL,n,d):h))return!1}}return!0}var UL=WL,GL=Ro;function HL(e){return e===e&&!GL(e)}var zj=HL,VL=zj,KL=fh;function XL(e){for(var t=KL(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,VL(a)]}return t}var qL=XL;function YL(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var Wj=YL,QL=UL,ZL=qL,JL=Wj;function eR(e){var t=ZL(e);return t.length==1&&t[0][2]?JL(t[0][0],t[0][1]):function(r){return r===e||QL(r,e,t)}}var tR=eR;function rR(e,t){return e!=null&&t in Object(e)}var nR=rR,aR=qS,oR=Oy,iR=bn,sR=_y,lR=Py,cR=qd;function uR(e,t,r){t=aR(t,e);for(var n=-1,a=t.length,o=!1;++n<a;){var i=cR(t[n]);if(!(o=e!=null&&r(e,i)))break;e=e[i]}return o||++n!=a?o:(a=e==null?0:e.length,!!a&&lR(a)&&sR(i,a)&&(iR(e)||oR(e)))}var fR=uR,dR=nR,hR=fR;function pR(e,t){return e!=null&&hR(e,t,dR)}var gR=pR,mR=Ny,yR=YS,vR=gR,xR=ly,bR=zj,wR=Wj,kR=qd,SR=1,jR=2;function OR(e,t){return xR(e)&&bR(t)?wR(kR(e),t):function(r){var n=yR(r,e);return n===void 0&&n===t?vR(r,e):mR(t,n,SR|jR)}}var _R=OR;function PR(e){return e}var tl=PR;function NR(e){return function(t){return t==null?void 0:t[e]}}var AR=NR,MR=gy;function CR(e){return function(t){return MR(t,e)}}var ER=CR,TR=AR,$R=ER,DR=ly,LR=qd;function RR(e){return DR(e)?TR(LR(e)):$R(e)}var IR=RR,BR=tR,FR=_R,zR=tl,WR=bn,UR=IR;function GR(e){return typeof e=="function"?e:e==null?zR:typeof e=="object"?WR(e)?FR(e[0],e[1]):BR(e):UR(e)}var Io=GR;function HR(e,t,r,n){for(var a=e.length,o=r+(n?1:-1);n?o--:++o<a;)if(t(e[o],o,e))return o;return-1}var Uj=HR;function VR(e){return e!==e}var KR=VR;function XR(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var qR=XR,YR=Uj,QR=KR,ZR=qR;function JR(e,t,r){return t===t?ZR(e,t,r):YR(e,QR,r)}var eI=JR,tI=eI;function rI(e,t){var r=e==null?0:e.length;return!!r&&tI(e,t,0)>-1}var nI=rI;function aI(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var oI=aI;function iI(){}var sI=iI,vp=Ij,lI=sI,cI=jy,uI=1/0,fI=vp&&1/cI(new vp([,-0]))[1]==uI?function(e){return new vp(e)}:lI,dI=fI,hI=Nj,pI=nI,gI=oI,mI=Mj,yI=dI,vI=jy,xI=200;function bI(e,t,r){var n=-1,a=pI,o=e.length,i=!0,s=[],l=s;if(r)i=!1,a=gI;else if(o>=xI){var c=t?null:yI(e);if(c)return vI(c);i=!1,a=mI,l=new hI}else l=t?[]:s;e:for(;++n<o;){var u=e[n],d=t?t(u):u;if(u=r||u!==0?u:0,i&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;t&&l.push(d),s.push(u)}else a(l,d,r)||(l!==s&&l.push(d),s.push(u))}return s}var wI=bI,kI=Io,SI=wI;function jI(e,t){return e&&e.length?SI(e,kI(t)):[]}var OI=jI;const mb=Pt(OI);function Gj(e,t,r){return t===!0?mb(e,r):Re(t)?mb(e,t):e}function vs(e){"@babel/helpers - typeof";return vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vs(e)}var _I=["ref"];function yb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Da(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yb(Object(r),!0).forEach(function(n){dh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Vj(n.key),n)}}function NI(e,t,r){return t&&vb(e.prototype,t),r&&vb(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function AI(e,t,r){return t=Rf(t),MI(e,Hj()?Reflect.construct(t,r||[],Rf(e).constructor):t.apply(e,r))}function MI(e,t){if(t&&(vs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CI(e)}function CI(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hj(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Hj=function(){return!!e})()}function Rf(e){return Rf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rf(e)}function EI(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ig(e,t)}function ig(e,t){return ig=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ig(e,t)}function dh(e,t,r){return t=Vj(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vj(e){var t=TI(e,"string");return vs(t)=="symbol"?t:t+""}function TI(e,t){if(vs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function $I(e,t){if(e==null)return{};var r=DI(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function DI(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function LI(e){return e.value}function RI(e,t){if(C.isValidElement(e))return C.cloneElement(e,t);if(typeof e=="function")return C.createElement(e,t);t.ref;var r=$I(t,_I);return C.createElement(Sy,r)}var xb=1,Va=function(e){function t(){var r;PI(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=AI(this,t,[].concat(a)),dh(r,"lastBoundingBox",{width:-1,height:-1}),r}return EI(t,e),NI(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>xb||Math.abs(a.height-this.lastBoundingBox.height)>xb)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Da({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,o=a.layout,i=a.align,s=a.verticalAlign,l=a.margin,c=a.chartWidth,u=a.chartHeight,d,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(i==="center"&&o==="vertical"){var p=this.getBBoxSnapshot();d={left:((c||0)-p.width)/2}}else d=i==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(s==="middle"){var m=this.getBBoxSnapshot();h={top:((u||0)-m.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Da(Da({},d),h)}},{key:"render",value:function(){var n=this,a=this.props,o=a.content,i=a.width,s=a.height,l=a.wrapperStyle,c=a.payloadUniqBy,u=a.payload,d=Da(Da({position:"absolute",width:i||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return C.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(p){n.wrapperNode=p}},RI(o,Da(Da({},this.props),{},{payload:Gj(u,c,LI)})))}}],[{key:"getWithHeight",value:function(n,a){var o=Da(Da({},this.defaultProps),n.props),i=o.layout;return i==="vertical"&&se(n.props.height)?{height:n.props.height}:i==="horizontal"?{width:n.props.width||a}:null}}])}(O.PureComponent);dh(Va,"displayName","Legend");dh(Va,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var bb=Zc,II=Oy,BI=bn,wb=bb?bb.isConcatSpreadable:void 0;function FI(e){return BI(e)||II(e)||!!(wb&&e&&e[wb])}var zI=FI,WI=Ej,UI=zI;function Kj(e,t,r,n,a){var o=-1,i=e.length;for(r||(r=UI),a||(a=[]);++o<i;){var s=e[o];t>0&&r(s)?t>1?Kj(s,t-1,r,n,a):WI(a,s):n||(a[a.length]=s)}return a}var Xj=Kj;function GI(e){return function(t,r,n){for(var a=-1,o=Object(t),i=n(t),s=i.length;s--;){var l=i[e?s:++a];if(r(o[l],l,o)===!1)break}return t}}var HI=GI,VI=HI,KI=VI(),XI=KI,qI=XI,YI=fh;function QI(e,t){return e&&qI(e,t,YI)}var qj=QI,ZI=Jc;function JI(e,t){return function(r,n){if(r==null)return r;if(!ZI(r))return e(r,n);for(var a=r.length,o=t?a:-1,i=Object(r);(t?o--:++o<a)&&n(i[o],o,i)!==!1;);return r}}var e6=JI,t6=qj,r6=e6,n6=r6(t6),Ay=n6,a6=Ay,o6=Jc;function i6(e,t){var r=-1,n=o6(e)?Array(e.length):[];return a6(e,function(a,o,i){n[++r]=t(a,o,i)}),n}var Yj=i6;function s6(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var l6=s6,kb=Ks;function c6(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,o=kb(e),i=t!==void 0,s=t===null,l=t===t,c=kb(t);if(!s&&!c&&!o&&e>t||o&&i&&l&&!s&&!c||n&&i&&l||!r&&l||!a)return 1;if(!n&&!o&&!c&&e<t||c&&r&&a&&!n&&!o||s&&r&&a||!i&&a||!l)return-1}return 0}var u6=c6,f6=u6;function d6(e,t,r){for(var n=-1,a=e.criteria,o=t.criteria,i=a.length,s=r.length;++n<i;){var l=f6(a[n],o[n]);if(l){if(n>=s)return l;var c=r[n];return l*(c=="desc"?-1:1)}}return e.index-t.index}var h6=d6,xp=py,p6=gy,g6=Io,m6=Yj,y6=l6,v6=Dj,x6=h6,b6=tl,w6=bn;function k6(e,t,r){t.length?t=xp(t,function(o){return w6(o)?function(i){return p6(i,o.length===1?o[0]:o)}:o}):t=[b6];var n=-1;t=xp(t,v6(g6));var a=m6(e,function(o,i,s){var l=xp(t,function(c){return c(o)});return{criteria:l,index:++n,value:o}});return y6(a,function(o,i){return x6(o,i,r)})}var S6=k6;function j6(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var O6=j6,_6=O6,Sb=Math.max;function P6(e,t,r){return t=Sb(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,o=Sb(n.length-t,0),i=Array(o);++a<o;)i[a]=n[t+a];a=-1;for(var s=Array(t+1);++a<t;)s[a]=n[a];return s[t]=r(i),_6(e,this,s)}}var N6=P6;function A6(e){return function(){return e}}var M6=A6,C6=Oi,E6=function(){try{var e=C6(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Qj=E6,T6=M6,jb=Qj,$6=tl,D6=jb?function(e,t){return jb(e,"toString",{configurable:!0,enumerable:!1,value:T6(t),writable:!0})}:$6,L6=D6,R6=800,I6=16,B6=Date.now;function F6(e){var t=0,r=0;return function(){var n=B6(),a=I6-(n-r);if(r=n,a>0){if(++t>=R6)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var z6=F6,W6=L6,U6=z6,G6=U6(W6),H6=G6,V6=tl,K6=N6,X6=H6;function q6(e,t){return X6(K6(e,t,V6),e+"")}var Y6=q6,Q6=uy,Z6=Jc,J6=_y,eB=Ro;function tB(e,t,r){if(!eB(r))return!1;var n=typeof t;return(n=="number"?Z6(r)&&J6(t,r.length):n=="string"&&t in r)?Q6(r[t],e):!1}var hh=tB,rB=Xj,nB=S6,aB=Y6,Ob=hh,oB=aB(function(e,t){if(e==null)return[];var r=t.length;return r>1&&Ob(e,t[0],t[1])?t=[]:r>2&&Ob(t[0],t[1],t[2])&&(t=[t[0]]),nB(e,rB(t,1),[])}),iB=oB;const My=Pt(iB);function pc(e){"@babel/helpers - typeof";return pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pc(e)}function sg(){return sg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sg.apply(this,arguments)}function sB(e,t){return fB(e)||uB(e,t)||cB(e,t)||lB()}function lB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cB(e,t){if(e){if(typeof e=="string")return _b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _b(e,t)}}function _b(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function uB(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function fB(e){if(Array.isArray(e))return e}function Pb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pb(Object(r),!0).forEach(function(n){dB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dB(e,t,r){return t=hB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hB(e){var t=pB(e,"string");return pc(t)=="symbol"?t:t+""}function pB(e,t){if(pc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gB(e){return Array.isArray(e)&&yr(e[0])&&yr(e[1])?e.join(" ~ "):e}var mB=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,o=a===void 0?{}:a,i=t.itemStyle,s=i===void 0?{}:i,l=t.labelStyle,c=l===void 0?{}:l,u=t.payload,d=t.formatter,h=t.itemSorter,p=t.wrapperClassName,m=t.labelClassName,v=t.label,x=t.labelFormatter,y=t.accessibilityLayer,g=y===void 0?!1:y,b=function(){if(u&&u.length){var M={padding:0,margin:0},B=(h?My(u,h):u).map(function(R,$){if(R.type==="none")return null;var L=bp({display:"block",paddingTop:4,paddingBottom:4,color:R.color||"#000"},s),F=R.formatter||d||gB,D=R.value,z=R.name,W=D,te=z;if(F&&W!=null&&te!=null){var q=F(D,z,R,$,u);if(Array.isArray(q)){var Z=sB(q,2);W=Z[0],te=Z[1]}else W=q}return C.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat($),style:L},yr(te)?C.createElement("span",{className:"recharts-tooltip-item-name"},te):null,yr(te)?C.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,C.createElement("span",{className:"recharts-tooltip-item-value"},W),C.createElement("span",{className:"recharts-tooltip-item-unit"},R.unit||""))});return C.createElement("ul",{className:"recharts-tooltip-item-list",style:M},B)}return null},k=bp({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),w=bp({margin:0},c),S=!Te(v),j=S?v:"",_=et("recharts-default-tooltip",p),P=et("recharts-tooltip-label",m);S&&x&&u!==void 0&&u!==null&&(j=x(v,u));var A=g?{role:"status","aria-live":"assertive"}:{};return C.createElement("div",sg({className:_,style:k},A),C.createElement("p",{className:P,style:w},C.isValidElement(j)?j:"".concat(j)),b())};function gc(e){"@babel/helpers - typeof";return gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gc(e)}function Cu(e,t,r){return t=yB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yB(e){var t=vB(e,"string");return gc(t)=="symbol"?t:t+""}function vB(e,t){if(gc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vl="recharts-tooltip-wrapper",xB={visibility:"hidden"};function bB(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return et(vl,Cu(Cu(Cu(Cu({},"".concat(vl,"-right"),se(r)&&t&&se(t.x)&&r>=t.x),"".concat(vl,"-left"),se(r)&&t&&se(t.x)&&r<t.x),"".concat(vl,"-bottom"),se(n)&&t&&se(t.y)&&n>=t.y),"".concat(vl,"-top"),se(n)&&t&&se(t.y)&&n<t.y))}function Nb(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,o=e.position,i=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(o&&se(o[n]))return o[n];var u=r[n]-s-a,d=r[n]+a;if(t[n])return i[n]?u:d;if(i[n]){var h=u,p=l[n];return h<p?Math.max(d,l[n]):Math.max(u,l[n])}var m=d+s,v=l[n]+c;return m>v?Math.max(u,l[n]):Math.max(d,l[n])}function wB(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function kB(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,o=e.reverseDirection,i=e.tooltipBox,s=e.useTranslate3d,l=e.viewBox,c,u,d;return i.height>0&&i.width>0&&r?(u=Nb({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:o,tooltipDimension:i.width,viewBox:l,viewBoxDimension:l.width}),d=Nb({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:o,tooltipDimension:i.height,viewBox:l,viewBoxDimension:l.height}),c=wB({translateX:u,translateY:d,useTranslate3d:s})):c=xB,{cssProperties:c,cssClasses:bB({translateX:u,translateY:d,coordinate:r})}}function xs(e){"@babel/helpers - typeof";return xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xs(e)}function Ab(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ab(Object(r),!0).forEach(function(n){cg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ab(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jB(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Jj(n.key),n)}}function OB(e,t,r){return t&&jB(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _B(e,t,r){return t=If(t),PB(e,Zj()?Reflect.construct(t,r||[],If(e).constructor):t.apply(e,r))}function PB(e,t){if(t&&(xs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NB(e)}function NB(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zj(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Zj=function(){return!!e})()}function If(e){return If=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},If(e)}function AB(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lg(e,t)}function lg(e,t){return lg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},lg(e,t)}function cg(e,t,r){return t=Jj(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jj(e){var t=MB(e,"string");return xs(t)=="symbol"?t:t+""}function MB(e,t){if(xs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Cb=1,CB=function(e){function t(){var r;SB(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=_B(this,t,[].concat(a)),cg(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),cg(r,"handleKeyDown",function(i){if(i.key==="Escape"){var s,l,c,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(c=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),r}return AB(t,e),OB(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>Cb||Math.abs(n.height-this.state.lastBoundingBox.height)>Cb)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,o=a.active,i=a.allowEscapeViewBox,s=a.animationDuration,l=a.animationEasing,c=a.children,u=a.coordinate,d=a.hasPayload,h=a.isAnimationActive,p=a.offset,m=a.position,v=a.reverseDirection,x=a.useTranslate3d,y=a.viewBox,g=a.wrapperStyle,b=kB({allowEscapeViewBox:i,coordinate:u,offsetTopLeft:p,position:m,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:y}),k=b.cssClasses,w=b.cssProperties,S=Mb(Mb({transition:h&&o?"transform ".concat(s,"ms ").concat(l):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&d?"visible":"hidden",position:"absolute",top:0,left:0},g);return C.createElement("div",{tabIndex:-1,className:k,style:S,ref:function(_){n.wrapperNode=_}},c)}}])}(O.PureComponent),EB=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Bo={isSsr:EB()};function bs(e){"@babel/helpers - typeof";return bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bs(e)}function Eb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Eb(Object(r),!0).forEach(function(n){Cy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Eb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $B(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tO(n.key),n)}}function DB(e,t,r){return t&&$B(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function LB(e,t,r){return t=Bf(t),RB(e,eO()?Reflect.construct(t,r||[],Bf(e).constructor):t.apply(e,r))}function RB(e,t){if(t&&(bs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IB(e)}function IB(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eO=function(){return!!e})()}function Bf(e){return Bf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bf(e)}function BB(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ug(e,t)}function ug(e,t){return ug=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ug(e,t)}function Cy(e,t,r){return t=tO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tO(e){var t=FB(e,"string");return bs(t)=="symbol"?t:t+""}function FB(e,t){if(bs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function zB(e){return e.dataKey}function WB(e,t){return C.isValidElement(e)?C.cloneElement(e,t):typeof e=="function"?C.createElement(e,t):C.createElement(mB,t)}var nn=function(e){function t(){return TB(this,t),LB(this,t,arguments)}return BB(t,e),DB(t,[{key:"render",value:function(){var n=this,a=this.props,o=a.active,i=a.allowEscapeViewBox,s=a.animationDuration,l=a.animationEasing,c=a.content,u=a.coordinate,d=a.filterNull,h=a.isAnimationActive,p=a.offset,m=a.payload,v=a.payloadUniqBy,x=a.position,y=a.reverseDirection,g=a.useTranslate3d,b=a.viewBox,k=a.wrapperStyle,w=m??[];d&&w.length&&(w=Gj(m.filter(function(j){return j.value!=null&&(j.hide!==!0||n.props.includeHidden)}),v,zB));var S=w.length>0;return C.createElement(CB,{allowEscapeViewBox:i,animationDuration:s,animationEasing:l,isAnimationActive:h,active:o,coordinate:u,hasPayload:S,offset:p,position:x,reverseDirection:y,useTranslate3d:g,viewBox:b,wrapperStyle:k},WB(c,Tb(Tb({},this.props),{},{payload:w})))}}])}(O.PureComponent);Cy(nn,"displayName","Tooltip");Cy(nn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Bo.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var UB=Ca,GB=function(){return UB.Date.now()},HB=GB,VB=/\s/;function KB(e){for(var t=e.length;t--&&VB.test(e.charAt(t)););return t}var XB=KB,qB=XB,YB=/^\s+/;function QB(e){return e&&e.slice(0,qB(e)+1).replace(YB,"")}var ZB=QB,JB=ZB,$b=Ro,e8=Ks,Db=NaN,t8=/^[-+]0x[0-9a-f]+$/i,r8=/^0b[01]+$/i,n8=/^0o[0-7]+$/i,a8=parseInt;function o8(e){if(typeof e=="number")return e;if(e8(e))return Db;if($b(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=$b(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=JB(e);var r=r8.test(e);return r||n8.test(e)?a8(e.slice(2),r?2:8):t8.test(e)?Db:+e}var rO=o8,i8=Ro,wp=HB,Lb=rO,s8="Expected a function",l8=Math.max,c8=Math.min;function u8(e,t,r){var n,a,o,i,s,l,c=0,u=!1,d=!1,h=!0;if(typeof e!="function")throw new TypeError(s8);t=Lb(t)||0,i8(r)&&(u=!!r.leading,d="maxWait"in r,o=d?l8(Lb(r.maxWait)||0,t):o,h="trailing"in r?!!r.trailing:h);function p(S){var j=n,_=a;return n=a=void 0,c=S,i=e.apply(_,j),i}function m(S){return c=S,s=setTimeout(y,t),u?p(S):i}function v(S){var j=S-l,_=S-c,P=t-j;return d?c8(P,o-_):P}function x(S){var j=S-l,_=S-c;return l===void 0||j>=t||j<0||d&&_>=o}function y(){var S=wp();if(x(S))return g(S);s=setTimeout(y,v(S))}function g(S){return s=void 0,h&&n?p(S):(n=a=void 0,i)}function b(){s!==void 0&&clearTimeout(s),c=0,n=l=a=s=void 0}function k(){return s===void 0?i:g(wp())}function w(){var S=wp(),j=x(S);if(n=arguments,a=this,l=S,j){if(s===void 0)return m(l);if(d)return clearTimeout(s),s=setTimeout(y,t),p(l)}return s===void 0&&(s=setTimeout(y,t)),i}return w.cancel=b,w.flush=k,w}var f8=u8,d8=f8,h8=Ro,p8="Expected a function";function g8(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(p8);return h8(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),d8(e,t,{leading:n,maxWait:t,trailing:a})}var m8=g8;const nO=Pt(m8);function mc(e){"@babel/helpers - typeof";return mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mc(e)}function Rb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Eu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rb(Object(r),!0).forEach(function(n){y8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function y8(e,t,r){return t=v8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v8(e){var t=x8(e,"string");return mc(t)=="symbol"?t:t+""}function x8(e,t){if(mc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function b8(e,t){return j8(e)||S8(e,t)||k8(e,t)||w8()}function w8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k8(e,t){if(e){if(typeof e=="string")return Ib(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ib(e,t)}}function Ib(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function S8(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function j8(e){if(Array.isArray(e))return e}var ws=O.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,o=e.width,i=o===void 0?"100%":o,s=e.height,l=s===void 0?"100%":s,c=e.minWidth,u=c===void 0?0:c,d=e.minHeight,h=e.maxHeight,p=e.children,m=e.debounce,v=m===void 0?0:m,x=e.id,y=e.className,g=e.onResize,b=e.style,k=b===void 0?{}:b,w=O.useRef(null),S=O.useRef();S.current=g,O.useImperativeHandle(t,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var j=O.useState({containerWidth:a.width,containerHeight:a.height}),_=b8(j,2),P=_[0],A=_[1],N=O.useCallback(function(B,R){A(function($){var L=Math.round(B),F=Math.round(R);return $.containerWidth===L&&$.containerHeight===F?$:{containerWidth:L,containerHeight:F}})},[]);O.useEffect(function(){var B=function(z){var W,te=z[0].contentRect,q=te.width,Z=te.height;N(q,Z),(W=S.current)===null||W===void 0||W.call(S,q,Z)};v>0&&(B=nO(B,v,{trailing:!0,leading:!1}));var R=new ResizeObserver(B),$=w.current.getBoundingClientRect(),L=$.width,F=$.height;return N(L,F),R.observe(w.current),function(){R.disconnect()}},[N,v]);var M=O.useMemo(function(){var B=P.containerWidth,R=P.containerHeight;if(B<0||R<0)return null;Ha(Jo(i)||Jo(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,l),Ha(!r||r>0,"The aspect(%s) must be greater than zero.",r);var $=Jo(i)?B:i,L=Jo(l)?R:l;r&&r>0&&($?L=$/r:L&&($=L*r),h&&L>h&&(L=h)),Ha($>0||L>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,$,L,i,l,u,d,r);var F=!Array.isArray(p)&&Ga(p.type).endsWith("Chart");return C.Children.map(p,function(D){return C.isValidElement(D)?O.cloneElement(D,Eu({width:$,height:L},F?{style:Eu({height:"100%",width:"100%",maxHeight:L,maxWidth:$},D.props.style)}:{})):D})},[r,p,l,h,d,u,P,i]);return C.createElement("div",{id:x?"".concat(x):void 0,className:et("recharts-responsive-container",y),style:Eu(Eu({},k),{},{width:i,height:l,minWidth:u,minHeight:d,maxHeight:h}),ref:w},M)}),Ey=function(t){return null};Ey.displayName="Cell";function yc(e){"@babel/helpers - typeof";return yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yc(e)}function Bb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bb(Object(r),!0).forEach(function(n){O8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function O8(e,t,r){return t=_8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _8(e){var t=P8(e,"string");return yc(t)=="symbol"?t:t+""}function P8(e,t){if(yc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $i={widthCache:{},cacheCount:0},N8=2e3,A8={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Fb="recharts_measurement_span";function M8(e){var t=fg({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var zl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Bo.isSsr)return{width:0,height:0};var n=M8(r),a=JSON.stringify({text:t,copyStyle:n});if($i.widthCache[a])return $i.widthCache[a];try{var o=document.getElementById(Fb);o||(o=document.createElement("span"),o.setAttribute("id",Fb),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var i=fg(fg({},A8),n);Object.assign(o.style,i),o.textContent="".concat(t);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return $i.widthCache[a]=l,++$i.cacheCount>N8&&($i.cacheCount=0,$i.widthCache={}),l}catch{return{width:0,height:0}}},C8=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function vc(e){"@babel/helpers - typeof";return vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vc(e)}function Ff(e,t){return D8(e)||$8(e,t)||T8(e,t)||E8()}function E8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T8(e,t){if(e){if(typeof e=="string")return zb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zb(e,t)}}function zb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $8(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function D8(e){if(Array.isArray(e))return e}function L8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,I8(n.key),n)}}function R8(e,t,r){return t&&Wb(e.prototype,t),r&&Wb(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function I8(e){var t=B8(e,"string");return vc(t)=="symbol"?t:t+""}function B8(e,t){if(vc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ub=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Gb=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,F8=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,z8=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,aO={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},W8=Object.keys(aO),Qi="NaN";function U8(e,t){return e*aO[t]}var Tu=function(){function e(t,r){L8(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!F8.test(r)&&(this.num=NaN,this.unit=""),W8.includes(r)&&(this.num=U8(t,r),this.unit="px")}return R8(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=z8.exec(r))!==null&&n!==void 0?n:[],o=Ff(a,3),i=o[1],s=o[2];return new e(parseFloat(i),s??"")}}])}();function oO(e){if(e.includes(Qi))return Qi;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=Ub.exec(t))!==null&&r!==void 0?r:[],a=Ff(n,4),o=a[1],i=a[2],s=a[3],l=Tu.parse(o??""),c=Tu.parse(s??""),u=i==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return Qi;t=t.replace(Ub,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,h=(d=Gb.exec(t))!==null&&d!==void 0?d:[],p=Ff(h,4),m=p[1],v=p[2],x=p[3],y=Tu.parse(m??""),g=Tu.parse(x??""),b=v==="+"?y.add(g):y.subtract(g);if(b.isNaN())return Qi;t=t.replace(Gb,b.toString())}return t}var Hb=/\(([^()]*)\)/;function G8(e){for(var t=e;t.includes("(");){var r=Hb.exec(t),n=Ff(r,2),a=n[1];t=t.replace(Hb,oO(a))}return t}function H8(e){var t=e.replace(/\s+/g,"");return t=G8(t),t=oO(t),t}function V8(e){try{return H8(e)}catch{return Qi}}function kp(e){var t=V8(e.slice(5,-1));return t===Qi?"":t}var K8=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],X8=["dx","dy","angle","className","breakAll"];function dg(){return dg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dg.apply(this,arguments)}function Vb(e,t){if(e==null)return{};var r=q8(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function q8(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Kb(e,t){return J8(e)||Z8(e,t)||Q8(e,t)||Y8()}function Y8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q8(e,t){if(e){if(typeof e=="string")return Xb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xb(e,t)}}function Xb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Z8(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function J8(e){if(Array.isArray(e))return e}var iO=/[ \f\n\r\t\v\u2028\u2029]+/,sO=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var o=[];Te(r)||(n?o=r.toString().split(""):o=r.toString().split(iO));var i=o.map(function(l){return{word:l,width:zl(l,a).width}}),s=n?0:zl("",a).width;return{wordsWithComputedWidth:i,spaceWidth:s}}catch{return null}},eF=function(t,r,n,a,o){var i=t.maxLines,s=t.children,l=t.style,c=t.breakAll,u=se(i),d=s,h=function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return $.reduce(function(L,F){var D=F.word,z=F.width,W=L[L.length-1];if(W&&(a==null||o||W.width+z+n<Number(a)))W.words.push(D),W.width+=z+n;else{var te={words:[D],width:z};L.push(te)}return L},[])},p=h(r),m=function($){return $.reduce(function(L,F){return L.width>F.width?L:F})};if(!u)return p;for(var v="",x=function($){var L=d.slice(0,$),F=sO({breakAll:c,style:l,children:L+v}).wordsWithComputedWidth,D=h(F),z=D.length>i||m(D).width>Number(a);return[z,D]},y=0,g=d.length-1,b=0,k;y<=g&&b<=d.length-1;){var w=Math.floor((y+g)/2),S=w-1,j=x(S),_=Kb(j,2),P=_[0],A=_[1],N=x(w),M=Kb(N,1),B=M[0];if(!P&&!B&&(y=w+1),P&&B&&(g=w-1),!P&&B){k=A;break}b++}return k||p},qb=function(t){var r=Te(t)?[]:t.toString().split(iO);return[{words:r}]},tF=function(t){var r=t.width,n=t.scaleToFit,a=t.children,o=t.style,i=t.breakAll,s=t.maxLines;if((r||n)&&!Bo.isSsr){var l,c,u=sO({breakAll:i,children:a,style:o});if(u){var d=u.wordsWithComputedWidth,h=u.spaceWidth;l=d,c=h}else return qb(a);return eF({breakAll:i,children:a,maxLines:s,style:o},l,c,r,n)}return qb(a)},Yb="#808080",zf=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,o=a===void 0?0:a,i=t.lineHeight,s=i===void 0?"1em":i,l=t.capHeight,c=l===void 0?"0.71em":l,u=t.scaleToFit,d=u===void 0?!1:u,h=t.textAnchor,p=h===void 0?"start":h,m=t.verticalAnchor,v=m===void 0?"end":m,x=t.fill,y=x===void 0?Yb:x,g=Vb(t,K8),b=O.useMemo(function(){return tF({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:d,style:g.style,width:g.width})},[g.breakAll,g.children,g.maxLines,d,g.style,g.width]),k=g.dx,w=g.dy,S=g.angle,j=g.className,_=g.breakAll,P=Vb(g,X8);if(!yr(n)||!yr(o))return null;var A=n+(se(k)?k:0),N=o+(se(w)?w:0),M;switch(v){case"start":M=kp("calc(".concat(c,")"));break;case"middle":M=kp("calc(".concat((b.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:M=kp("calc(".concat(b.length-1," * -").concat(s,")"));break}var B=[];if(d){var R=b[0].width,$=g.width;B.push("scale(".concat((se($)?$/R:1)/R,")"))}return S&&B.push("rotate(".concat(S,", ").concat(A,", ").concat(N,")")),B.length&&(P.transform=B.join(" ")),C.createElement("text",dg({},$e(P,!0),{x:A,y:N,className:et("recharts-text",j),textAnchor:p,fill:y.includes("url")?Yb:y}),b.map(function(L,F){var D=L.words.join(_?"":" ");return C.createElement("tspan",{x:A,dy:F===0?M:s,key:"".concat(D,"-").concat(F)},D)}))};function Co(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function rF(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ty(e){let t,r,n;e.length!==2?(t=Co,r=(s,l)=>Co(e(s),l),n=(s,l)=>e(s)-l):(t=e===Co||e===rF?e:nF,r=e,n=e);function a(s,l,c=0,u=s.length){if(c<u){if(t(l,l)!==0)return u;do{const d=c+u>>>1;r(s[d],l)<0?c=d+1:u=d}while(c<u)}return c}function o(s,l,c=0,u=s.length){if(c<u){if(t(l,l)!==0)return u;do{const d=c+u>>>1;r(s[d],l)<=0?c=d+1:u=d}while(c<u)}return c}function i(s,l,c=0,u=s.length){const d=a(s,l,c,u-1);return d>c&&n(s[d-1],l)>-n(s[d],l)?d-1:d}return{left:a,center:i,right:o}}function nF(){return 0}function lO(e){return e===null?NaN:+e}function*aF(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const oF=Ty(Co),eu=oF.right;Ty(lO).center;class Qb extends Map{constructor(t,r=lF){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(Zb(this,t))}has(t){return super.has(Zb(this,t))}set(t,r){return super.set(iF(this,t),r)}delete(t){return super.delete(sF(this,t))}}function Zb({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function iF({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function sF({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function lF(e){return e!==null&&typeof e=="object"?e.valueOf():e}function cF(e=Co){if(e===Co)return cO;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function cO(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const uF=Math.sqrt(50),fF=Math.sqrt(10),dF=Math.sqrt(2);function Wf(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),o=n/Math.pow(10,a),i=o>=uF?10:o>=fF?5:o>=dF?2:1;let s,l,c;return a<0?(c=Math.pow(10,-a)/i,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*i,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=r&&r<2?Wf(e,t,r*2):[s,l,c]}function hg(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,o,i]=n?Wf(t,e,r):Wf(e,t,r);if(!(o>=a))return[];const s=o-a+1,l=new Array(s);if(n)if(i<0)for(let c=0;c<s;++c)l[c]=(o-c)/-i;else for(let c=0;c<s;++c)l[c]=(o-c)*i;else if(i<0)for(let c=0;c<s;++c)l[c]=(a+c)/-i;else for(let c=0;c<s;++c)l[c]=(a+c)*i;return l}function pg(e,t,r){return t=+t,e=+e,r=+r,Wf(e,t,r)[2]}function gg(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?pg(t,e,r):pg(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function Jb(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function e1(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function uO(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?cO:cF(a);n>r;){if(n-r>600){const l=n-r+1,c=t-r+1,u=Math.log(l),d=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*d*(l-d)/l)*(c-l/2<0?-1:1),p=Math.max(r,Math.floor(t-c*d/l+h)),m=Math.min(n,Math.floor(t+(l-c)*d/l+h));uO(e,t,p,m,a)}const o=e[t];let i=r,s=n;for(xl(e,r,t),a(e[n],o)>0&&xl(e,r,n);i<s;){for(xl(e,i,s),++i,--s;a(e[i],o)<0;)++i;for(;a(e[s],o)>0;)--s}a(e[r],o)===0?xl(e,r,s):(++s,xl(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function xl(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function hF(e,t,r){if(e=Float64Array.from(aF(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return e1(e);if(t>=1)return Jb(e);var n,a=(n-1)*t,o=Math.floor(a),i=Jb(uO(e,o).subarray(0,o+1)),s=e1(e.subarray(o+1));return i+(s-i)*(a-o)}}function pF(e,t,r=lO){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,o=Math.floor(a),i=+r(e[o],o,e),s=+r(e[o+1],o+1,e);return i+(s-i)*(a-o)}}function gF(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,o=new Array(a);++n<a;)o[n]=e+n*r;return o}function Zn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ao(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const mg=Symbol("implicit");function $y(){var e=new Qb,t=[],r=[],n=mg;function a(o){let i=e.get(o);if(i===void 0){if(n!==mg)return n;e.set(o,i=t.push(o)-1)}return r[i%r.length]}return a.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new Qb;for(const i of o)e.has(i)||e.set(i,t.push(i)-1);return a},a.range=function(o){return arguments.length?(r=Array.from(o),a):r.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return $y(t,r).unknown(n)},Zn.apply(a,arguments),a}function xc(){var e=$y().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,o,i,s=!1,l=0,c=0,u=.5;delete e.unknown;function d(){var h=t().length,p=a<n,m=p?a:n,v=p?n:a;o=(v-m)/Math.max(1,h-l+c*2),s&&(o=Math.floor(o)),m+=(v-m-o*(h-l))*u,i=o*(1-l),s&&(m=Math.round(m),i=Math.round(i));var x=gF(h).map(function(y){return m+o*y});return r(p?x.reverse():x)}return e.domain=function(h){return arguments.length?(t(h),d()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,d()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,s=!0,d()},e.bandwidth=function(){return i},e.step=function(){return o},e.round=function(h){return arguments.length?(s=!!h,d()):s},e.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),d()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},e.paddingOuter=function(h){return arguments.length?(c=+h,d()):c},e.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),d()):u},e.copy=function(){return xc(t(),[n,a]).round(s).paddingInner(l).paddingOuter(c).align(u)},Zn.apply(d(),arguments)}function fO(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return fO(t())},e}function Wl(){return fO(xc.apply(null,arguments).paddingInner(1))}function Dy(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function dO(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function tu(){}var bc=.7,Uf=1/bc,ss="\\s*([+-]?\\d+)\\s*",wc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_a="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",mF=/^#([0-9a-f]{3,8})$/,yF=new RegExp(`^rgb\\(${ss},${ss},${ss}\\)$`),vF=new RegExp(`^rgb\\(${_a},${_a},${_a}\\)$`),xF=new RegExp(`^rgba\\(${ss},${ss},${ss},${wc}\\)$`),bF=new RegExp(`^rgba\\(${_a},${_a},${_a},${wc}\\)$`),wF=new RegExp(`^hsl\\(${wc},${_a},${_a}\\)$`),kF=new RegExp(`^hsla\\(${wc},${_a},${_a},${wc}\\)$`),t1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Dy(tu,kc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:r1,formatHex:r1,formatHex8:SF,formatHsl:jF,formatRgb:n1,toString:n1});function r1(){return this.rgb().formatHex()}function SF(){return this.rgb().formatHex8()}function jF(){return hO(this).formatHsl()}function n1(){return this.rgb().formatRgb()}function kc(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=mF.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?a1(t):r===3?new gn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?$u(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?$u(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=yF.exec(e))?new gn(t[1],t[2],t[3],1):(t=vF.exec(e))?new gn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=xF.exec(e))?$u(t[1],t[2],t[3],t[4]):(t=bF.exec(e))?$u(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=wF.exec(e))?s1(t[1],t[2]/100,t[3]/100,1):(t=kF.exec(e))?s1(t[1],t[2]/100,t[3]/100,t[4]):t1.hasOwnProperty(e)?a1(t1[e]):e==="transparent"?new gn(NaN,NaN,NaN,0):null}function a1(e){return new gn(e>>16&255,e>>8&255,e&255,1)}function $u(e,t,r,n){return n<=0&&(e=t=r=NaN),new gn(e,t,r,n)}function OF(e){return e instanceof tu||(e=kc(e)),e?(e=e.rgb(),new gn(e.r,e.g,e.b,e.opacity)):new gn}function yg(e,t,r,n){return arguments.length===1?OF(e):new gn(e,t,r,n??1)}function gn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Dy(gn,yg,dO(tu,{brighter(e){return e=e==null?Uf:Math.pow(Uf,e),new gn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?bc:Math.pow(bc,e),new gn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new gn(li(this.r),li(this.g),li(this.b),Gf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:o1,formatHex:o1,formatHex8:_F,formatRgb:i1,toString:i1}));function o1(){return`#${ei(this.r)}${ei(this.g)}${ei(this.b)}`}function _F(){return`#${ei(this.r)}${ei(this.g)}${ei(this.b)}${ei((isNaN(this.opacity)?1:this.opacity)*255)}`}function i1(){const e=Gf(this.opacity);return`${e===1?"rgb(":"rgba("}${li(this.r)}, ${li(this.g)}, ${li(this.b)}${e===1?")":`, ${e})`}`}function Gf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function li(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ei(e){return e=li(e),(e<16?"0":"")+e.toString(16)}function s1(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ca(e,t,r,n)}function hO(e){if(e instanceof ca)return new ca(e.h,e.s,e.l,e.opacity);if(e instanceof tu||(e=kc(e)),!e)return new ca;if(e instanceof ca)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),o=Math.max(t,r,n),i=NaN,s=o-a,l=(o+a)/2;return s?(t===o?i=(r-n)/s+(r<n)*6:r===o?i=(n-t)/s+2:i=(t-r)/s+4,s/=l<.5?o+a:2-o-a,i*=60):s=l>0&&l<1?0:i,new ca(i,s,l,e.opacity)}function PF(e,t,r,n){return arguments.length===1?hO(e):new ca(e,t,r,n??1)}function ca(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Dy(ca,PF,dO(tu,{brighter(e){return e=e==null?Uf:Math.pow(Uf,e),new ca(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?bc:Math.pow(bc,e),new ca(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new gn(Sp(e>=240?e-240:e+120,a,n),Sp(e,a,n),Sp(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new ca(l1(this.h),Du(this.s),Du(this.l),Gf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Gf(this.opacity);return`${e===1?"hsl(":"hsla("}${l1(this.h)}, ${Du(this.s)*100}%, ${Du(this.l)*100}%${e===1?")":`, ${e})`}`}}));function l1(e){return e=(e||0)%360,e<0?e+360:e}function Du(e){return Math.max(0,Math.min(1,e||0))}function Sp(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Ly=e=>()=>e;function NF(e,t){return function(r){return e+r*t}}function AF(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function MF(e){return(e=+e)==1?pO:function(t,r){return r-t?AF(t,r,e):Ly(isNaN(t)?r:t)}}function pO(e,t){var r=t-e;return r?NF(e,r):Ly(isNaN(e)?t:e)}const c1=function e(t){var r=MF(t);function n(a,o){var i=r((a=yg(a)).r,(o=yg(o)).r),s=r(a.g,o.g),l=r(a.b,o.b),c=pO(a.opacity,o.opacity);return function(u){return a.r=i(u),a.g=s(u),a.b=l(u),a.opacity=c(u),a+""}}return n.gamma=e,n}(1);function CF(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(o){for(a=0;a<r;++a)n[a]=e[a]*(1-o)+t[a]*o;return n}}function EF(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function TF(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),o=new Array(r),i;for(i=0;i<n;++i)a[i]=rl(e[i],t[i]);for(;i<r;++i)o[i]=t[i];return function(s){for(i=0;i<n;++i)o[i]=a[i](s);return o}}function $F(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Hf(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function DF(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=rl(e[a],t[a]):n[a]=t[a];return function(o){for(a in r)n[a]=r[a](o);return n}}var vg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,jp=new RegExp(vg.source,"g");function LF(e){return function(){return e}}function RF(e){return function(t){return e(t)+""}}function IF(e,t){var r=vg.lastIndex=jp.lastIndex=0,n,a,o,i=-1,s=[],l=[];for(e=e+"",t=t+"";(n=vg.exec(e))&&(a=jp.exec(t));)(o=a.index)>r&&(o=t.slice(r,o),s[i]?s[i]+=o:s[++i]=o),(n=n[0])===(a=a[0])?s[i]?s[i]+=a:s[++i]=a:(s[++i]=null,l.push({i,x:Hf(n,a)})),r=jp.lastIndex;return r<t.length&&(o=t.slice(r),s[i]?s[i]+=o:s[++i]=o),s.length<2?l[0]?RF(l[0].x):LF(t):(t=l.length,function(c){for(var u=0,d;u<t;++u)s[(d=l[u]).i]=d.x(c);return s.join("")})}function rl(e,t){var r=typeof t,n;return t==null||r==="boolean"?Ly(t):(r==="number"?Hf:r==="string"?(n=kc(t))?(t=n,c1):IF:t instanceof kc?c1:t instanceof Date?$F:EF(t)?CF:Array.isArray(t)?TF:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?DF:Hf)(e,t)}function Ry(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function BF(e,t){t===void 0&&(t=e,e=rl);for(var r=0,n=t.length-1,a=t[0],o=new Array(n<0?0:n);r<n;)o[r]=e(a,a=t[++r]);return function(i){var s=Math.max(0,Math.min(n-1,Math.floor(i*=n)));return o[s](i-s)}}function FF(e){return function(){return e}}function Vf(e){return+e}var u1=[0,1];function an(e){return e}function xg(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:FF(isNaN(t)?NaN:.5)}function zF(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function WF(e,t,r){var n=e[0],a=e[1],o=t[0],i=t[1];return a<n?(n=xg(a,n),o=r(i,o)):(n=xg(n,a),o=r(o,i)),function(s){return o(n(s))}}function UF(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),o=new Array(n),i=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<n;)a[i]=xg(e[i],e[i+1]),o[i]=r(t[i],t[i+1]);return function(s){var l=eu(e,s,1,n)-1;return o[l](a[l](s))}}function ru(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ph(){var e=u1,t=u1,r=rl,n,a,o,i=an,s,l,c;function u(){var h=Math.min(e.length,t.length);return i!==an&&(i=zF(e[0],e[h-1])),s=h>2?UF:WF,l=c=null,d}function d(h){return h==null||isNaN(h=+h)?o:(l||(l=s(e.map(n),t,r)))(n(i(h)))}return d.invert=function(h){return i(a((c||(c=s(t,e.map(n),Hf)))(h)))},d.domain=function(h){return arguments.length?(e=Array.from(h,Vf),u()):e.slice()},d.range=function(h){return arguments.length?(t=Array.from(h),u()):t.slice()},d.rangeRound=function(h){return t=Array.from(h),r=Ry,u()},d.clamp=function(h){return arguments.length?(i=h?!0:an,u()):i!==an},d.interpolate=function(h){return arguments.length?(r=h,u()):r},d.unknown=function(h){return arguments.length?(o=h,d):o},function(h,p){return n=h,a=p,u()}}function Iy(){return ph()(an,an)}function GF(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Kf(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function ks(e){return e=Kf(Math.abs(e)),e?e[1]:NaN}function HF(e,t){return function(r,n){for(var a=r.length,o=[],i=0,s=e[0],l=0;a>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),o.push(r.substring(a-=s,a+s)),!((l+=s+1)>n));)s=e[i=(i+1)%e.length];return o.reverse().join(t)}}function VF(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var KF=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Sc(e){if(!(t=KF.exec(e)))throw new Error("invalid format: "+e);var t;return new By({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Sc.prototype=By.prototype;function By(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}By.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function XF(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var gO;function qF(e,t){var r=Kf(e,t);if(!r)return e+"";var n=r[0],a=r[1],o=a-(gO=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=n.length;return o===i?n:o>i?n+new Array(o-i+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+Kf(e,Math.max(0,t+o-1))[0]}function f1(e,t){var r=Kf(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const d1={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:GF,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>f1(e*100,t),r:f1,s:qF,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function h1(e){return e}var p1=Array.prototype.map,g1=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function YF(e){var t=e.grouping===void 0||e.thousands===void 0?h1:HF(p1.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?h1:VF(p1.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(d){d=Sc(d);var h=d.fill,p=d.align,m=d.sign,v=d.symbol,x=d.zero,y=d.width,g=d.comma,b=d.precision,k=d.trim,w=d.type;w==="n"?(g=!0,w="g"):d1[w]||(b===void 0&&(b=12),k=!0,w="g"),(x||h==="0"&&p==="=")&&(x=!0,h="0",p="=");var S=v==="$"?r:v==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",j=v==="$"?n:/[%p]/.test(w)?i:"",_=d1[w],P=/[defgprs%]/.test(w);b=b===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function A(N){var M=S,B=j,R,$,L;if(w==="c")B=_(N)+B,N="";else{N=+N;var F=N<0||1/N<0;if(N=isNaN(N)?l:_(Math.abs(N),b),k&&(N=XF(N)),F&&+N==0&&m!=="+"&&(F=!1),M=(F?m==="("?m:s:m==="-"||m==="("?"":m)+M,B=(w==="s"?g1[8+gO/3]:"")+B+(F&&m==="("?")":""),P){for(R=-1,$=N.length;++R<$;)if(L=N.charCodeAt(R),48>L||L>57){B=(L===46?a+N.slice(R+1):N.slice(R))+B,N=N.slice(0,R);break}}}g&&!x&&(N=t(N,1/0));var D=M.length+N.length+B.length,z=D<y?new Array(y-D+1).join(h):"";switch(g&&x&&(N=t(z+N,z.length?y-B.length:1/0),z=""),p){case"<":N=M+N+B+z;break;case"=":N=M+z+N+B;break;case"^":N=z.slice(0,D=z.length>>1)+M+N+B+z.slice(D);break;default:N=z+M+N+B;break}return o(N)}return A.toString=function(){return d+""},A}function u(d,h){var p=c((d=Sc(d),d.type="f",d)),m=Math.max(-8,Math.min(8,Math.floor(ks(h)/3)))*3,v=Math.pow(10,-m),x=g1[8+m/3];return function(y){return p(v*y)+x}}return{format:c,formatPrefix:u}}var Lu,Fy,mO;QF({thousands:",",grouping:[3],currency:["$",""]});function QF(e){return Lu=YF(e),Fy=Lu.format,mO=Lu.formatPrefix,Lu}function ZF(e){return Math.max(0,-ks(Math.abs(e)))}function JF(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ks(t)/3)))*3-ks(Math.abs(e)))}function ez(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ks(t)-ks(e))+1}function yO(e,t,r,n){var a=gg(e,t,r),o;switch(n=Sc(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(o=JF(a,i))&&(n.precision=o),mO(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=ez(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=ZF(a))&&(n.precision=o-(n.type==="%")*2);break}}return Fy(n)}function Fo(e){var t=e.domain;return e.ticks=function(r){var n=t();return hg(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return yO(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,o=n.length-1,i=n[a],s=n[o],l,c,u=10;for(s<i&&(c=i,i=s,s=c,c=a,a=o,o=c);u-- >0;){if(c=pg(i,s,r),c===l)return n[a]=i,n[o]=s,t(n);if(c>0)i=Math.floor(i/c)*c,s=Math.ceil(s/c)*c;else if(c<0)i=Math.ceil(i*c)/c,s=Math.floor(s*c)/c;else break;l=c}return e},e}function Xf(){var e=Iy();return e.copy=function(){return ru(e,Xf())},Zn.apply(e,arguments),Fo(e)}function vO(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Vf),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return vO(e).unknown(t)},e=arguments.length?Array.from(e,Vf):[0,1],Fo(r)}function xO(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],o=e[n],i;return o<a&&(i=r,r=n,n=i,i=a,a=o,o=i),e[r]=t.floor(a),e[n]=t.ceil(o),e}function m1(e){return Math.log(e)}function y1(e){return Math.exp(e)}function tz(e){return-Math.log(-e)}function rz(e){return-Math.exp(-e)}function nz(e){return isFinite(e)?+("1e"+e):e<0?0:e}function az(e){return e===10?nz:e===Math.E?Math.exp:t=>Math.pow(e,t)}function oz(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function v1(e){return(t,r)=>-e(-t,r)}function zy(e){const t=e(m1,y1),r=t.domain;let n=10,a,o;function i(){return a=oz(n),o=az(n),r()[0]<0?(a=v1(a),o=v1(o),e(tz,rz)):e(m1,y1),t}return t.base=function(s){return arguments.length?(n=+s,i()):n},t.domain=function(s){return arguments.length?(r(s),i()):r()},t.ticks=s=>{const l=r();let c=l[0],u=l[l.length-1];const d=u<c;d&&([c,u]=[u,c]);let h=a(c),p=a(u),m,v;const x=s==null?10:+s;let y=[];if(!(n%1)&&p-h<x){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(m=1;m<n;++m)if(v=h<0?m/o(-h):m*o(h),!(v<c)){if(v>u)break;y.push(v)}}else for(;h<=p;++h)for(m=n-1;m>=1;--m)if(v=h>0?m/o(-h):m*o(h),!(v<c)){if(v>u)break;y.push(v)}y.length*2<x&&(y=hg(c,u,x))}else y=hg(h,p,Math.min(p-h,x)).map(o);return d?y.reverse():y},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Sc(l)).precision==null&&(l.trim=!0),l=Fy(l)),s===1/0)return l;const c=Math.max(1,n*s/t.ticks().length);return u=>{let d=u/o(Math.round(a(u)));return d*n<n-.5&&(d*=n),d<=c?l(u):""}},t.nice=()=>r(xO(r(),{floor:s=>o(Math.floor(a(s))),ceil:s=>o(Math.ceil(a(s)))})),t}function bO(){const e=zy(ph()).domain([1,10]);return e.copy=()=>ru(e,bO()).base(e.base()),Zn.apply(e,arguments),e}function x1(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function b1(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Wy(e){var t=1,r=e(x1(t),b1(t));return r.constant=function(n){return arguments.length?e(x1(t=+n),b1(t)):t},Fo(r)}function wO(){var e=Wy(ph());return e.copy=function(){return ru(e,wO()).constant(e.constant())},Zn.apply(e,arguments)}function w1(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function iz(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function sz(e){return e<0?-e*e:e*e}function Uy(e){var t=e(an,an),r=1;function n(){return r===1?e(an,an):r===.5?e(iz,sz):e(w1(r),w1(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Fo(t)}function Gy(){var e=Uy(ph());return e.copy=function(){return ru(e,Gy()).exponent(e.exponent())},Zn.apply(e,arguments),e}function lz(){return Gy.apply(null,arguments).exponent(.5)}function k1(e){return Math.sign(e)*e*e}function cz(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function kO(){var e=Iy(),t=[0,1],r=!1,n;function a(o){var i=cz(e(o));return isNaN(i)?n:r?Math.round(i):i}return a.invert=function(o){return e.invert(k1(o))},a.domain=function(o){return arguments.length?(e.domain(o),a):e.domain()},a.range=function(o){return arguments.length?(e.range((t=Array.from(o,Vf)).map(k1)),a):t.slice()},a.rangeRound=function(o){return a.range(o).round(!0)},a.round=function(o){return arguments.length?(r=!!o,a):r},a.clamp=function(o){return arguments.length?(e.clamp(o),a):e.clamp()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return kO(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Zn.apply(a,arguments),Fo(a)}function SO(){var e=[],t=[],r=[],n;function a(){var i=0,s=Math.max(1,t.length);for(r=new Array(s-1);++i<s;)r[i-1]=pF(e,i/s);return o}function o(i){return i==null||isNaN(i=+i)?n:t[eu(r,i)]}return o.invertExtent=function(i){var s=t.indexOf(i);return s<0?[NaN,NaN]:[s>0?r[s-1]:e[0],s<r.length?r[s]:e[e.length-1]]},o.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let s of i)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Co),a()},o.range=function(i){return arguments.length?(t=Array.from(i),a()):t.slice()},o.unknown=function(i){return arguments.length?(n=i,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return SO().domain(e).range(t).unknown(n)},Zn.apply(o,arguments)}function jO(){var e=0,t=1,r=1,n=[.5],a=[0,1],o;function i(l){return l!=null&&l<=l?a[eu(n,l,0,r)]:o}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return i}return i.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},i.range=function(l){return arguments.length?(r=(a=Array.from(l)).length-1,s()):a.slice()},i.invertExtent=function(l){var c=a.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},i.unknown=function(l){return arguments.length&&(o=l),i},i.thresholds=function(){return n.slice()},i.copy=function(){return jO().domain([e,t]).range(a).unknown(o)},Zn.apply(Fo(i),arguments)}function OO(){var e=[.5],t=[0,1],r,n=1;function a(o){return o!=null&&o<=o?t[eu(e,o,0,n)]:r}return a.domain=function(o){return arguments.length?(e=Array.from(o),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(o){return arguments.length?(t=Array.from(o),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(o){var i=t.indexOf(o);return[e[i-1],e[i]]},a.unknown=function(o){return arguments.length?(r=o,a):r},a.copy=function(){return OO().domain(e).range(t).unknown(r)},Zn.apply(a,arguments)}const Op=new Date,_p=new Date;function xr(e,t,r,n){function a(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return a.floor=o=>(e(o=new Date(+o)),o),a.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),a.round=o=>{const i=a(o),s=a.ceil(o);return o-i<s-o?i:s},a.offset=(o,i)=>(t(o=new Date(+o),i==null?1:Math.floor(i)),o),a.range=(o,i,s)=>{const l=[];if(o=a.ceil(o),s=s==null?1:Math.floor(s),!(o<i)||!(s>0))return l;let c;do l.push(c=new Date(+o)),t(o,s),e(o);while(c<o&&o<i);return l},a.filter=o=>xr(i=>{if(i>=i)for(;e(i),!o(i);)i.setTime(i-1)},(i,s)=>{if(i>=i)if(s<0)for(;++s<=0;)for(;t(i,-1),!o(i););else for(;--s>=0;)for(;t(i,1),!o(i););}),r&&(a.count=(o,i)=>(Op.setTime(+o),_p.setTime(+i),e(Op),e(_p),Math.floor(r(Op,_p))),a.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?a.filter(n?i=>n(i)%o===0:i=>a.count(0,i)%o===0):a)),a}const qf=xr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);qf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?xr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):qf);qf.range;const Fa=1e3,Gn=Fa*60,za=Gn*60,Za=za*24,Hy=Za*7,S1=Za*30,Pp=Za*365,ti=xr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Fa)},(e,t)=>(t-e)/Fa,e=>e.getUTCSeconds());ti.range;const Vy=xr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Fa)},(e,t)=>{e.setTime(+e+t*Gn)},(e,t)=>(t-e)/Gn,e=>e.getMinutes());Vy.range;const Ky=xr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Gn)},(e,t)=>(t-e)/Gn,e=>e.getUTCMinutes());Ky.range;const Xy=xr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Fa-e.getMinutes()*Gn)},(e,t)=>{e.setTime(+e+t*za)},(e,t)=>(t-e)/za,e=>e.getHours());Xy.range;const qy=xr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*za)},(e,t)=>(t-e)/za,e=>e.getUTCHours());qy.range;const nu=xr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Gn)/Za,e=>e.getDate()-1);nu.range;const gh=xr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Za,e=>e.getUTCDate()-1);gh.range;const _O=xr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Za,e=>Math.floor(e/Za));_O.range;function Pi(e){return xr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Gn)/Hy)}const mh=Pi(0),Yf=Pi(1),uz=Pi(2),fz=Pi(3),Ss=Pi(4),dz=Pi(5),hz=Pi(6);mh.range;Yf.range;uz.range;fz.range;Ss.range;dz.range;hz.range;function Ni(e){return xr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Hy)}const yh=Ni(0),Qf=Ni(1),pz=Ni(2),gz=Ni(3),js=Ni(4),mz=Ni(5),yz=Ni(6);yh.range;Qf.range;pz.range;gz.range;js.range;mz.range;yz.range;const Yy=xr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Yy.range;const Qy=xr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Qy.range;const Ja=xr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ja.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:xr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Ja.range;const eo=xr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());eo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:xr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});eo.range;function PO(e,t,r,n,a,o){const i=[[ti,1,Fa],[ti,5,5*Fa],[ti,15,15*Fa],[ti,30,30*Fa],[o,1,Gn],[o,5,5*Gn],[o,15,15*Gn],[o,30,30*Gn],[a,1,za],[a,3,3*za],[a,6,6*za],[a,12,12*za],[n,1,Za],[n,2,2*Za],[r,1,Hy],[t,1,S1],[t,3,3*S1],[e,1,Pp]];function s(c,u,d){const h=u<c;h&&([c,u]=[u,c]);const p=d&&typeof d.range=="function"?d:l(c,u,d),m=p?p.range(c,+u+1):[];return h?m.reverse():m}function l(c,u,d){const h=Math.abs(u-c)/d,p=Ty(([,,x])=>x).right(i,h);if(p===i.length)return e.every(gg(c/Pp,u/Pp,d));if(p===0)return qf.every(Math.max(gg(c,u,d),1));const[m,v]=i[h/i[p-1][2]<i[p][2]/h?p-1:p];return m.every(v)}return[s,l]}const[vz,xz]=PO(eo,Qy,yh,_O,qy,Ky),[bz,wz]=PO(Ja,Yy,mh,nu,Xy,Vy);function Np(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Ap(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function bl(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function kz(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,o=e.days,i=e.shortDays,s=e.months,l=e.shortMonths,c=wl(a),u=kl(a),d=wl(o),h=kl(o),p=wl(i),m=kl(i),v=wl(s),x=kl(s),y=wl(l),g=kl(l),b={a:F,A:D,b:z,B:W,c:null,d:A1,e:A1,f:Hz,g:t9,G:n9,H:Wz,I:Uz,j:Gz,L:NO,m:Vz,M:Kz,p:te,q,Q:E1,s:T1,S:Xz,u:qz,U:Yz,V:Qz,w:Zz,W:Jz,x:null,X:null,y:e9,Y:r9,Z:a9,"%":C1},k={a:Z,A:U,b:de,B:ne,c:null,d:M1,e:M1,f:l9,g:v9,G:b9,H:o9,I:i9,j:s9,L:MO,m:c9,M:u9,p:Me,q:be,Q:E1,s:T1,S:f9,u:d9,U:h9,V:p9,w:g9,W:m9,x:null,X:null,y:y9,Y:x9,Z:w9,"%":C1},w={a:A,A:N,b:M,B,c:R,d:P1,e:P1,f:Iz,g:_1,G:O1,H:N1,I:N1,j:$z,L:Rz,m:Tz,M:Dz,p:P,q:Ez,Q:Fz,s:zz,S:Lz,u:Pz,U:Nz,V:Az,w:_z,W:Mz,x:$,X:L,y:_1,Y:O1,Z:Cz,"%":Bz};b.x=S(r,b),b.X=S(n,b),b.c=S(t,b),k.x=S(r,k),k.X=S(n,k),k.c=S(t,k);function S(H,ue){return function(xe){var X=[],Xe=-1,Ne=0,tt=H.length,ot,lt,ur;for(xe instanceof Date||(xe=new Date(+xe));++Xe<tt;)H.charCodeAt(Xe)===37&&(X.push(H.slice(Ne,Xe)),(lt=j1[ot=H.charAt(++Xe)])!=null?ot=H.charAt(++Xe):lt=ot==="e"?" ":"0",(ur=ue[ot])&&(ot=ur(xe,lt)),X.push(ot),Ne=Xe+1);return X.push(H.slice(Ne,Xe)),X.join("")}}function j(H,ue){return function(xe){var X=bl(1900,void 0,1),Xe=_(X,H,xe+="",0),Ne,tt;if(Xe!=xe.length)return null;if("Q"in X)return new Date(X.Q);if("s"in X)return new Date(X.s*1e3+("L"in X?X.L:0));if(ue&&!("Z"in X)&&(X.Z=0),"p"in X&&(X.H=X.H%12+X.p*12),X.m===void 0&&(X.m="q"in X?X.q:0),"V"in X){if(X.V<1||X.V>53)return null;"w"in X||(X.w=1),"Z"in X?(Ne=Ap(bl(X.y,0,1)),tt=Ne.getUTCDay(),Ne=tt>4||tt===0?Qf.ceil(Ne):Qf(Ne),Ne=gh.offset(Ne,(X.V-1)*7),X.y=Ne.getUTCFullYear(),X.m=Ne.getUTCMonth(),X.d=Ne.getUTCDate()+(X.w+6)%7):(Ne=Np(bl(X.y,0,1)),tt=Ne.getDay(),Ne=tt>4||tt===0?Yf.ceil(Ne):Yf(Ne),Ne=nu.offset(Ne,(X.V-1)*7),X.y=Ne.getFullYear(),X.m=Ne.getMonth(),X.d=Ne.getDate()+(X.w+6)%7)}else("W"in X||"U"in X)&&("w"in X||(X.w="u"in X?X.u%7:"W"in X?1:0),tt="Z"in X?Ap(bl(X.y,0,1)).getUTCDay():Np(bl(X.y,0,1)).getDay(),X.m=0,X.d="W"in X?(X.w+6)%7+X.W*7-(tt+5)%7:X.w+X.U*7-(tt+6)%7);return"Z"in X?(X.H+=X.Z/100|0,X.M+=X.Z%100,Ap(X)):Np(X)}}function _(H,ue,xe,X){for(var Xe=0,Ne=ue.length,tt=xe.length,ot,lt;Xe<Ne;){if(X>=tt)return-1;if(ot=ue.charCodeAt(Xe++),ot===37){if(ot=ue.charAt(Xe++),lt=w[ot in j1?ue.charAt(Xe++):ot],!lt||(X=lt(H,xe,X))<0)return-1}else if(ot!=xe.charCodeAt(X++))return-1}return X}function P(H,ue,xe){var X=c.exec(ue.slice(xe));return X?(H.p=u.get(X[0].toLowerCase()),xe+X[0].length):-1}function A(H,ue,xe){var X=p.exec(ue.slice(xe));return X?(H.w=m.get(X[0].toLowerCase()),xe+X[0].length):-1}function N(H,ue,xe){var X=d.exec(ue.slice(xe));return X?(H.w=h.get(X[0].toLowerCase()),xe+X[0].length):-1}function M(H,ue,xe){var X=y.exec(ue.slice(xe));return X?(H.m=g.get(X[0].toLowerCase()),xe+X[0].length):-1}function B(H,ue,xe){var X=v.exec(ue.slice(xe));return X?(H.m=x.get(X[0].toLowerCase()),xe+X[0].length):-1}function R(H,ue,xe){return _(H,t,ue,xe)}function $(H,ue,xe){return _(H,r,ue,xe)}function L(H,ue,xe){return _(H,n,ue,xe)}function F(H){return i[H.getDay()]}function D(H){return o[H.getDay()]}function z(H){return l[H.getMonth()]}function W(H){return s[H.getMonth()]}function te(H){return a[+(H.getHours()>=12)]}function q(H){return 1+~~(H.getMonth()/3)}function Z(H){return i[H.getUTCDay()]}function U(H){return o[H.getUTCDay()]}function de(H){return l[H.getUTCMonth()]}function ne(H){return s[H.getUTCMonth()]}function Me(H){return a[+(H.getUTCHours()>=12)]}function be(H){return 1+~~(H.getUTCMonth()/3)}return{format:function(H){var ue=S(H+="",b);return ue.toString=function(){return H},ue},parse:function(H){var ue=j(H+="",!1);return ue.toString=function(){return H},ue},utcFormat:function(H){var ue=S(H+="",k);return ue.toString=function(){return H},ue},utcParse:function(H){var ue=j(H+="",!0);return ue.toString=function(){return H},ue}}}var j1={"-":"",_:" ",0:"0"},_r=/^\s*\d+/,Sz=/^%/,jz=/[\\^$*+?|[\]().{}]/g;function ht(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",o=a.length;return n+(o<r?new Array(r-o+1).join(t)+a:a)}function Oz(e){return e.replace(jz,"\\$&")}function wl(e){return new RegExp("^(?:"+e.map(Oz).join("|")+")","i")}function kl(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function _z(e,t,r){var n=_r.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Pz(e,t,r){var n=_r.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Nz(e,t,r){var n=_r.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Az(e,t,r){var n=_r.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Mz(e,t,r){var n=_r.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function O1(e,t,r){var n=_r.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function _1(e,t,r){var n=_r.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Cz(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Ez(e,t,r){var n=_r.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Tz(e,t,r){var n=_r.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function P1(e,t,r){var n=_r.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function $z(e,t,r){var n=_r.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function N1(e,t,r){var n=_r.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Dz(e,t,r){var n=_r.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Lz(e,t,r){var n=_r.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Rz(e,t,r){var n=_r.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Iz(e,t,r){var n=_r.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Bz(e,t,r){var n=Sz.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Fz(e,t,r){var n=_r.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function zz(e,t,r){var n=_r.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function A1(e,t){return ht(e.getDate(),t,2)}function Wz(e,t){return ht(e.getHours(),t,2)}function Uz(e,t){return ht(e.getHours()%12||12,t,2)}function Gz(e,t){return ht(1+nu.count(Ja(e),e),t,3)}function NO(e,t){return ht(e.getMilliseconds(),t,3)}function Hz(e,t){return NO(e,t)+"000"}function Vz(e,t){return ht(e.getMonth()+1,t,2)}function Kz(e,t){return ht(e.getMinutes(),t,2)}function Xz(e,t){return ht(e.getSeconds(),t,2)}function qz(e){var t=e.getDay();return t===0?7:t}function Yz(e,t){return ht(mh.count(Ja(e)-1,e),t,2)}function AO(e){var t=e.getDay();return t>=4||t===0?Ss(e):Ss.ceil(e)}function Qz(e,t){return e=AO(e),ht(Ss.count(Ja(e),e)+(Ja(e).getDay()===4),t,2)}function Zz(e){return e.getDay()}function Jz(e,t){return ht(Yf.count(Ja(e)-1,e),t,2)}function e9(e,t){return ht(e.getFullYear()%100,t,2)}function t9(e,t){return e=AO(e),ht(e.getFullYear()%100,t,2)}function r9(e,t){return ht(e.getFullYear()%1e4,t,4)}function n9(e,t){var r=e.getDay();return e=r>=4||r===0?Ss(e):Ss.ceil(e),ht(e.getFullYear()%1e4,t,4)}function a9(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ht(t/60|0,"0",2)+ht(t%60,"0",2)}function M1(e,t){return ht(e.getUTCDate(),t,2)}function o9(e,t){return ht(e.getUTCHours(),t,2)}function i9(e,t){return ht(e.getUTCHours()%12||12,t,2)}function s9(e,t){return ht(1+gh.count(eo(e),e),t,3)}function MO(e,t){return ht(e.getUTCMilliseconds(),t,3)}function l9(e,t){return MO(e,t)+"000"}function c9(e,t){return ht(e.getUTCMonth()+1,t,2)}function u9(e,t){return ht(e.getUTCMinutes(),t,2)}function f9(e,t){return ht(e.getUTCSeconds(),t,2)}function d9(e){var t=e.getUTCDay();return t===0?7:t}function h9(e,t){return ht(yh.count(eo(e)-1,e),t,2)}function CO(e){var t=e.getUTCDay();return t>=4||t===0?js(e):js.ceil(e)}function p9(e,t){return e=CO(e),ht(js.count(eo(e),e)+(eo(e).getUTCDay()===4),t,2)}function g9(e){return e.getUTCDay()}function m9(e,t){return ht(Qf.count(eo(e)-1,e),t,2)}function y9(e,t){return ht(e.getUTCFullYear()%100,t,2)}function v9(e,t){return e=CO(e),ht(e.getUTCFullYear()%100,t,2)}function x9(e,t){return ht(e.getUTCFullYear()%1e4,t,4)}function b9(e,t){var r=e.getUTCDay();return e=r>=4||r===0?js(e):js.ceil(e),ht(e.getUTCFullYear()%1e4,t,4)}function w9(){return"+0000"}function C1(){return"%"}function E1(e){return+e}function T1(e){return Math.floor(+e/1e3)}var Di,EO,TO;k9({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function k9(e){return Di=kz(e),EO=Di.format,Di.parse,TO=Di.utcFormat,Di.utcParse,Di}function S9(e){return new Date(e)}function j9(e){return e instanceof Date?+e:+new Date(+e)}function Zy(e,t,r,n,a,o,i,s,l,c){var u=Iy(),d=u.invert,h=u.domain,p=c(".%L"),m=c(":%S"),v=c("%I:%M"),x=c("%I %p"),y=c("%a %d"),g=c("%b %d"),b=c("%B"),k=c("%Y");function w(S){return(l(S)<S?p:s(S)<S?m:i(S)<S?v:o(S)<S?x:n(S)<S?a(S)<S?y:g:r(S)<S?b:k)(S)}return u.invert=function(S){return new Date(d(S))},u.domain=function(S){return arguments.length?h(Array.from(S,j9)):h().map(S9)},u.ticks=function(S){var j=h();return e(j[0],j[j.length-1],S??10)},u.tickFormat=function(S,j){return j==null?w:c(j)},u.nice=function(S){var j=h();return(!S||typeof S.range!="function")&&(S=t(j[0],j[j.length-1],S??10)),S?h(xO(j,S)):u},u.copy=function(){return ru(u,Zy(e,t,r,n,a,o,i,s,l,c))},u}function O9(){return Zn.apply(Zy(bz,wz,Ja,Yy,mh,nu,Xy,Vy,ti,EO).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function _9(){return Zn.apply(Zy(vz,xz,eo,Qy,yh,gh,qy,Ky,ti,TO).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function vh(){var e=0,t=1,r,n,a,o,i=an,s=!1,l;function c(d){return d==null||isNaN(d=+d)?l:i(a===0?.5:(d=(o(d)-r)*a,s?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([e,t]=d,r=o(e=+e),n=o(t=+t),a=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(d){return arguments.length?(s=!!d,c):s},c.interpolator=function(d){return arguments.length?(i=d,c):i};function u(d){return function(h){var p,m;return arguments.length?([p,m]=h,i=d(p,m),c):[i(0),i(1)]}}return c.range=u(rl),c.rangeRound=u(Ry),c.unknown=function(d){return arguments.length?(l=d,c):l},function(d){return o=d,r=d(e),n=d(t),a=r===n?0:1/(n-r),c}}function zo(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function $O(){var e=Fo(vh()(an));return e.copy=function(){return zo(e,$O())},ao.apply(e,arguments)}function DO(){var e=zy(vh()).domain([1,10]);return e.copy=function(){return zo(e,DO()).base(e.base())},ao.apply(e,arguments)}function LO(){var e=Wy(vh());return e.copy=function(){return zo(e,LO()).constant(e.constant())},ao.apply(e,arguments)}function Jy(){var e=Uy(vh());return e.copy=function(){return zo(e,Jy()).exponent(e.exponent())},ao.apply(e,arguments)}function P9(){return Jy.apply(null,arguments).exponent(.5)}function RO(){var e=[],t=an;function r(n){if(n!=null&&!isNaN(n=+n))return t((eu(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Co),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,o)=>hF(e,o/n))},r.copy=function(){return RO(t).domain(e)},ao.apply(r,arguments)}function xh(){var e=0,t=.5,r=1,n=1,a,o,i,s,l,c=an,u,d=!1,h;function p(v){return isNaN(v=+v)?h:(v=.5+((v=+u(v))-o)*(n*v<n*o?s:l),c(d?Math.max(0,Math.min(1,v)):v))}p.domain=function(v){return arguments.length?([e,t,r]=v,a=u(e=+e),o=u(t=+t),i=u(r=+r),s=a===o?0:.5/(o-a),l=o===i?0:.5/(i-o),n=o<a?-1:1,p):[e,t,r]},p.clamp=function(v){return arguments.length?(d=!!v,p):d},p.interpolator=function(v){return arguments.length?(c=v,p):c};function m(v){return function(x){var y,g,b;return arguments.length?([y,g,b]=x,c=BF(v,[y,g,b]),p):[c(0),c(.5),c(1)]}}return p.range=m(rl),p.rangeRound=m(Ry),p.unknown=function(v){return arguments.length?(h=v,p):h},function(v){return u=v,a=v(e),o=v(t),i=v(r),s=a===o?0:.5/(o-a),l=o===i?0:.5/(i-o),n=o<a?-1:1,p}}function IO(){var e=Fo(xh()(an));return e.copy=function(){return zo(e,IO())},ao.apply(e,arguments)}function BO(){var e=zy(xh()).domain([.1,1,10]);return e.copy=function(){return zo(e,BO()).base(e.base())},ao.apply(e,arguments)}function FO(){var e=Wy(xh());return e.copy=function(){return zo(e,FO()).constant(e.constant())},ao.apply(e,arguments)}function ev(){var e=Uy(xh());return e.copy=function(){return zo(e,ev()).exponent(e.exponent())},ao.apply(e,arguments)}function N9(){return ev.apply(null,arguments).exponent(.5)}const $1=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:xc,scaleDiverging:IO,scaleDivergingLog:BO,scaleDivergingPow:ev,scaleDivergingSqrt:N9,scaleDivergingSymlog:FO,scaleIdentity:vO,scaleImplicit:mg,scaleLinear:Xf,scaleLog:bO,scaleOrdinal:$y,scalePoint:Wl,scalePow:Gy,scaleQuantile:SO,scaleQuantize:jO,scaleRadial:kO,scaleSequential:$O,scaleSequentialLog:DO,scaleSequentialPow:Jy,scaleSequentialQuantile:RO,scaleSequentialSqrt:P9,scaleSequentialSymlog:LO,scaleSqrt:lz,scaleSymlog:wO,scaleThreshold:OO,scaleTime:O9,scaleUtc:_9,tickFormat:yO},Symbol.toStringTag,{value:"Module"}));var A9=Ks;function M9(e,t,r){for(var n=-1,a=e.length;++n<a;){var o=e[n],i=t(o);if(i!=null&&(s===void 0?i===i&&!A9(i):r(i,s)))var s=i,l=o}return l}var zO=M9;function C9(e,t){return e>t}var E9=C9,T9=zO,$9=E9,D9=tl;function L9(e){return e&&e.length?T9(e,D9,$9):void 0}var R9=L9;const bo=Pt(R9);function I9(e,t){return e<t}var B9=I9,F9=zO,z9=B9,W9=tl;function U9(e){return e&&e.length?F9(e,W9,z9):void 0}var G9=U9;const bh=Pt(G9);var H9=py,V9=Io,K9=Yj,X9=bn;function q9(e,t){var r=X9(e)?H9:K9;return r(e,V9(t))}var Y9=q9,Q9=Xj,Z9=Y9;function J9(e,t){return Q9(Z9(e,t),1)}var e7=J9;const t7=Pt(e7);var r7=Ny;function n7(e,t){return r7(e,t)}var a7=n7;const vi=Pt(a7);var nl=1e9,o7={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},rv,Vt=!0,Yn="[DecimalError] ",ci=Yn+"Invalid argument: ",tv=Yn+"Exponent out of range: ",al=Math.floor,qo=Math.pow,i7=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Nn,Sr=1e7,Wt=7,WO=9007199254740991,Zf=al(WO/Wt),ye={};ye.absoluteValue=ye.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ye.comparedTo=ye.cmp=function(e){var t,r,n,a,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(n=o.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return n===a?0:n>a^o.s<0?1:-1};ye.decimalPlaces=ye.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Wt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ye.dividedBy=ye.div=function(e){return Ka(this,new this.constructor(e))};ye.dividedToIntegerBy=ye.idiv=function(e){var t=this,r=t.constructor;return _t(Ka(t,new r(e),0,1),r.precision)};ye.equals=ye.eq=function(e){return!this.cmp(e)};ye.exponent=function(){return cr(this)};ye.greaterThan=ye.gt=function(e){return this.cmp(e)>0};ye.greaterThanOrEqualTo=ye.gte=function(e){return this.cmp(e)>=0};ye.isInteger=ye.isint=function(){return this.e>this.d.length-2};ye.isNegative=ye.isneg=function(){return this.s<0};ye.isPositive=ye.ispos=function(){return this.s>0};ye.isZero=function(){return this.s===0};ye.lessThan=ye.lt=function(e){return this.cmp(e)<0};ye.lessThanOrEqualTo=ye.lte=function(e){return this.cmp(e)<1};ye.logarithm=ye.log=function(e){var t,r=this,n=r.constructor,a=n.precision,o=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Nn))throw Error(Yn+"NaN");if(r.s<1)throw Error(Yn+(r.s?"NaN":"-Infinity"));return r.eq(Nn)?new n(0):(Vt=!1,t=Ka(jc(r,o),jc(e,o),o),Vt=!0,_t(t,a))};ye.minus=ye.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?HO(t,e):UO(t,(e.s=-e.s,e))};ye.modulo=ye.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Yn+"NaN");return r.s?(Vt=!1,t=Ka(r,e,0,1).times(e),Vt=!0,r.minus(t)):_t(new n(r),a)};ye.naturalExponential=ye.exp=function(){return GO(this)};ye.naturalLogarithm=ye.ln=function(){return jc(this)};ye.negated=ye.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ye.plus=ye.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?UO(t,e):HO(t,(e.s=-e.s,e))};ye.precision=ye.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ci+e);if(t=cr(a)+1,n=a.d.length-1,r=n*Wt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ye.squareRoot=ye.sqrt=function(){var e,t,r,n,a,o,i,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Yn+"NaN")}for(e=cr(s),Vt=!1,a=Math.sqrt(+s),a==0||a==1/0?(t=ka(s.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=al((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(a.toString()),r=l.precision,a=i=r+3;;)if(o=n,n=o.plus(Ka(s,o,i+2)).times(.5),ka(o.d).slice(0,i)===(t=ka(n.d)).slice(0,i)){if(t=t.slice(i-3,i+1),a==i&&t=="4999"){if(_t(o,r+1,0),o.times(o).eq(s)){n=o;break}}else if(t!="9999")break;i+=4}return Vt=!0,_t(n,r)};ye.times=ye.mul=function(e){var t,r,n,a,o,i,s,l,c,u=this,d=u.constructor,h=u.d,p=(e=new d(e)).d;if(!u.s||!e.s)return new d(0);for(e.s*=u.s,r=u.e+e.e,l=h.length,c=p.length,l<c&&(o=h,h=p,p=o,i=l,l=c,c=i),o=[],i=l+c,n=i;n--;)o.push(0);for(n=c;--n>=0;){for(t=0,a=l+n;a>n;)s=o[a]+p[n]*h[a-n-1]+t,o[a--]=s%Sr|0,t=s/Sr|0;o[a]=(o[a]+t)%Sr|0}for(;!o[--i];)o.pop();return t?++r:o.shift(),e.d=o,e.e=r,Vt?_t(e,d.precision):e};ye.toDecimalPlaces=ye.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Aa(e,0,nl),t===void 0?t=n.rounding:Aa(t,0,8),_t(r,e+cr(r)+1,t))};ye.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=xi(n,!0):(Aa(e,0,nl),t===void 0?t=a.rounding:Aa(t,0,8),n=_t(new a(n),e+1,t),r=xi(n,!0,e+1)),r};ye.toFixed=function(e,t){var r,n,a=this,o=a.constructor;return e===void 0?xi(a):(Aa(e,0,nl),t===void 0?t=o.rounding:Aa(t,0,8),n=_t(new o(a),e+cr(a)+1,t),r=xi(n.abs(),!1,e+cr(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};ye.toInteger=ye.toint=function(){var e=this,t=e.constructor;return _t(new t(e),cr(e)+1,t.rounding)};ye.toNumber=function(){return+this};ye.toPower=ye.pow=function(e){var t,r,n,a,o,i,s=this,l=s.constructor,c=12,u=+(e=new l(e));if(!e.s)return new l(Nn);if(s=new l(s),!s.s){if(e.s<1)throw Error(Yn+"Infinity");return s}if(s.eq(Nn))return s;if(n=l.precision,e.eq(Nn))return _t(s,n);if(t=e.e,r=e.d.length-1,i=t>=r,o=s.s,i){if((r=u<0?-u:u)<=WO){for(a=new l(Nn),t=Math.ceil(n/Wt+4),Vt=!1;r%2&&(a=a.times(s),L1(a.d,t)),r=al(r/2),r!==0;)s=s.times(s),L1(s.d,t);return Vt=!0,e.s<0?new l(Nn).div(a):_t(a,n)}}else if(o<0)throw Error(Yn+"NaN");return o=o<0&&e.d[Math.max(t,r)]&1?-1:1,s.s=1,Vt=!1,a=e.times(jc(s,n+c)),Vt=!0,a=GO(a),a.s=o,a};ye.toPrecision=function(e,t){var r,n,a=this,o=a.constructor;return e===void 0?(r=cr(a),n=xi(a,r<=o.toExpNeg||r>=o.toExpPos)):(Aa(e,1,nl),t===void 0?t=o.rounding:Aa(t,0,8),a=_t(new o(a),e,t),r=cr(a),n=xi(a,e<=r||r<=o.toExpNeg,e)),n};ye.toSignificantDigits=ye.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Aa(e,1,nl),t===void 0?t=n.rounding:Aa(t,0,8)),_t(new n(r),e,t)};ye.toString=ye.valueOf=ye.val=ye.toJSON=ye[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=cr(e),r=e.constructor;return xi(e,t<=r.toExpNeg||t>=r.toExpPos)};function UO(e,t){var r,n,a,o,i,s,l,c,u=e.constructor,d=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),Vt?_t(t,d):t;if(l=e.d,c=t.d,i=e.e,a=t.e,l=l.slice(),o=i-a,o){for(o<0?(n=l,o=-o,s=c.length):(n=c,a=i,s=l.length),i=Math.ceil(d/Wt),s=i>s?i+1:s+1,o>s&&(o=s,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(s=l.length,o=c.length,s-o<0&&(o=s,n=c,c=l,l=n),r=0;o;)r=(l[--o]=l[o]+c[o]+r)/Sr|0,l[o]%=Sr;for(r&&(l.unshift(r),++a),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=a,Vt?_t(t,d):t}function Aa(e,t,r){if(e!==~~e||e<t||e>r)throw Error(ci+e)}function ka(e){var t,r,n,a=e.length-1,o="",i=e[0];if(a>0){for(o+=i,t=1;t<a;t++)n=e[t]+"",r=Wt-n.length,r&&(o+=po(r)),o+=n;i=e[t],n=i+"",r=Wt-n.length,r&&(o+=po(r))}else if(i===0)return"0";for(;i%10===0;)i/=10;return o+i}var Ka=function(){function e(n,a){var o,i=0,s=n.length;for(n=n.slice();s--;)o=n[s]*a+i,n[s]=o%Sr|0,i=o/Sr|0;return i&&n.unshift(i),n}function t(n,a,o,i){var s,l;if(o!=i)l=o>i?1:-1;else for(s=l=0;s<o;s++)if(n[s]!=a[s]){l=n[s]>a[s]?1:-1;break}return l}function r(n,a,o){for(var i=0;o--;)n[o]-=i,i=n[o]<a[o]?1:0,n[o]=i*Sr+n[o]-a[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,o,i){var s,l,c,u,d,h,p,m,v,x,y,g,b,k,w,S,j,_,P=n.constructor,A=n.s==a.s?1:-1,N=n.d,M=a.d;if(!n.s)return new P(n);if(!a.s)throw Error(Yn+"Division by zero");for(l=n.e-a.e,j=M.length,w=N.length,p=new P(A),m=p.d=[],c=0;M[c]==(N[c]||0);)++c;if(M[c]>(N[c]||0)&&--l,o==null?g=o=P.precision:i?g=o+(cr(n)-cr(a))+1:g=o,g<0)return new P(0);if(g=g/Wt+2|0,c=0,j==1)for(u=0,M=M[0],g++;(c<w||u)&&g--;c++)b=u*Sr+(N[c]||0),m[c]=b/M|0,u=b%M|0;else{for(u=Sr/(M[0]+1)|0,u>1&&(M=e(M,u),N=e(N,u),j=M.length,w=N.length),k=j,v=N.slice(0,j),x=v.length;x<j;)v[x++]=0;_=M.slice(),_.unshift(0),S=M[0],M[1]>=Sr/2&&++S;do u=0,s=t(M,v,j,x),s<0?(y=v[0],j!=x&&(y=y*Sr+(v[1]||0)),u=y/S|0,u>1?(u>=Sr&&(u=Sr-1),d=e(M,u),h=d.length,x=v.length,s=t(d,v,h,x),s==1&&(u--,r(d,j<h?_:M,h))):(u==0&&(s=u=1),d=M.slice()),h=d.length,h<x&&d.unshift(0),r(v,d,x),s==-1&&(x=v.length,s=t(M,v,j,x),s<1&&(u++,r(v,j<x?_:M,x))),x=v.length):s===0&&(u++,v=[0]),m[c++]=u,s&&v[0]?v[x++]=N[k]||0:(v=[N[k]],x=1);while((k++<w||v[0]!==void 0)&&g--)}return m[0]||m.shift(),p.e=l,_t(p,i?o+cr(p)+1:o)}}();function GO(e,t){var r,n,a,o,i,s,l=0,c=0,u=e.constructor,d=u.precision;if(cr(e)>16)throw Error(tv+cr(e));if(!e.s)return new u(Nn);for(Vt=!1,s=d,i=new u(.03125);e.abs().gte(.1);)e=e.times(i),c+=5;for(n=Math.log(qo(2,c))/Math.LN10*2+5|0,s+=n,r=a=o=new u(Nn),u.precision=s;;){if(a=_t(a.times(e),s),r=r.times(++l),i=o.plus(Ka(a,r,s)),ka(i.d).slice(0,s)===ka(o.d).slice(0,s)){for(;c--;)o=_t(o.times(o),s);return u.precision=d,t==null?(Vt=!0,_t(o,d)):o}o=i}}function cr(e){for(var t=e.e*Wt,r=e.d[0];r>=10;r/=10)t++;return t}function Mp(e,t,r){if(t>e.LN10.sd())throw Vt=!0,r&&(e.precision=r),Error(Yn+"LN10 precision limit exceeded");return _t(new e(e.LN10),t)}function po(e){for(var t="";e--;)t+="0";return t}function jc(e,t){var r,n,a,o,i,s,l,c,u,d=1,h=10,p=e,m=p.d,v=p.constructor,x=v.precision;if(p.s<1)throw Error(Yn+(p.s?"NaN":"-Infinity"));if(p.eq(Nn))return new v(0);if(t==null?(Vt=!1,c=x):c=t,p.eq(10))return t==null&&(Vt=!0),Mp(v,c);if(c+=h,v.precision=c,r=ka(m),n=r.charAt(0),o=cr(p),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=ka(p.d),n=r.charAt(0),d++;o=cr(p),n>1?(p=new v("0."+r),o++):p=new v(n+"."+r.slice(1))}else return l=Mp(v,c+2,x).times(o+""),p=jc(new v(n+"."+r.slice(1)),c-h).plus(l),v.precision=x,t==null?(Vt=!0,_t(p,x)):p;for(s=i=p=Ka(p.minus(Nn),p.plus(Nn),c),u=_t(p.times(p),c),a=3;;){if(i=_t(i.times(u),c),l=s.plus(Ka(i,new v(a),c)),ka(l.d).slice(0,c)===ka(s.d).slice(0,c))return s=s.times(2),o!==0&&(s=s.plus(Mp(v,c+2,x).times(o+""))),s=Ka(s,new v(d),c),v.precision=x,t==null?(Vt=!0,_t(s,x)):s;s=l,a+=2}}function D1(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=al(r/Wt),e.d=[],n=(r+1)%Wt,r<0&&(n+=Wt),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Wt;n<a;)e.d.push(+t.slice(n,n+=Wt));t=t.slice(n),n=Wt-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Vt&&(e.e>Zf||e.e<-Zf))throw Error(tv+r)}else e.s=0,e.e=0,e.d=[0];return e}function _t(e,t,r){var n,a,o,i,s,l,c,u,d=e.d;for(i=1,o=d[0];o>=10;o/=10)i++;if(n=t-i,n<0)n+=Wt,a=t,c=d[u=0];else{if(u=Math.ceil((n+1)/Wt),o=d.length,u>=o)return e;for(c=o=d[u],i=1;o>=10;o/=10)i++;n%=Wt,a=n-Wt+i}if(r!==void 0&&(o=qo(10,i-a-1),s=c/o%10|0,l=t<0||d[u+1]!==void 0||c%o,l=r<4?(s||l)&&(r==0||r==(e.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?a>0?c/qo(10,i-a):0:d[u-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return l?(o=cr(e),d.length=1,t=t-o-1,d[0]=qo(10,(Wt-t%Wt)%Wt),e.e=al(-t/Wt)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(n==0?(d.length=u,o=1,u--):(d.length=u+1,o=qo(10,Wt-n),d[u]=a>0?(c/qo(10,i-a)%qo(10,a)|0)*o:0),l)for(;;)if(u==0){(d[0]+=o)==Sr&&(d[0]=1,++e.e);break}else{if(d[u]+=o,d[u]!=Sr)break;d[u--]=0,o=1}for(n=d.length;d[--n]===0;)d.pop();if(Vt&&(e.e>Zf||e.e<-Zf))throw Error(tv+cr(e));return e}function HO(e,t){var r,n,a,o,i,s,l,c,u,d,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Vt?_t(t,p):t;if(l=e.d,d=t.d,n=t.e,c=e.e,l=l.slice(),i=c-n,i){for(u=i<0,u?(r=l,i=-i,s=d.length):(r=d,n=c,s=l.length),a=Math.max(Math.ceil(p/Wt),s)+2,i>a&&(i=a,r.length=1),r.reverse(),a=i;a--;)r.push(0);r.reverse()}else{for(a=l.length,s=d.length,u=a<s,u&&(s=a),a=0;a<s;a++)if(l[a]!=d[a]){u=l[a]<d[a];break}i=0}for(u&&(r=l,l=d,d=r,t.s=-t.s),s=l.length,a=d.length-s;a>0;--a)l[s++]=0;for(a=d.length;a>i;){if(l[--a]<d[a]){for(o=a;o&&l[--o]===0;)l[o]=Sr-1;--l[o],l[a]+=Sr}l[a]-=d[a]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,Vt?_t(t,p):t):new h(0)}function xi(e,t,r){var n,a=cr(e),o=ka(e.d),i=o.length;return t?(r&&(n=r-i)>0?o=o.charAt(0)+"."+o.slice(1)+po(n):i>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(a<0?"e":"e+")+a):a<0?(o="0."+po(-a-1)+o,r&&(n=r-i)>0&&(o+=po(n))):a>=i?(o+=po(a+1-i),r&&(n=r-a-1)>0&&(o=o+"."+po(n))):((n=a+1)<i&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-i)>0&&(a+1===i&&(o+="."),o+=po(n))),e.s<0?"-"+o:o}function L1(e,t){if(e.length>t)return e.length=t,!0}function VO(e){var t,r,n;function a(o){var i=this;if(!(i instanceof a))return new a(o);if(i.constructor=a,o instanceof a){i.s=o.s,i.e=o.e,i.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(ci+o);if(o>0)i.s=1;else if(o<0)o=-o,i.s=-1;else{i.s=0,i.e=0,i.d=[0];return}if(o===~~o&&o<1e7){i.e=0,i.d=[o];return}return D1(i,o.toString())}else if(typeof o!="string")throw Error(ci+o);if(o.charCodeAt(0)===45?(o=o.slice(1),i.s=-1):i.s=1,i7.test(o))D1(i,o);else throw Error(ci+o)}if(a.prototype=ye,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=VO,a.config=a.set=s7,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function s7(e){if(!e||typeof e!="object")throw Error(Yn+"Object expected");var t,r,n,a=["precision",1,nl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(al(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(ci+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(ci+r+": "+n);return this}var rv=VO(o7);Nn=new rv(1);const jt=rv;function l7(e){return d7(e)||f7(e)||u7(e)||c7()}function c7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u7(e,t){if(e){if(typeof e=="string")return bg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bg(e,t)}}function f7(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function d7(e){if(Array.isArray(e))return bg(e)}function bg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var h7=function(t){return t},KO={},XO=function(t){return t===KO},R1=function(t){return function r(){return arguments.length===0||arguments.length===1&&XO(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},p7=function e(t,r){return t===1?r:R1(function(){for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];var i=a.filter(function(s){return s!==KO}).length;return i>=t?r.apply(void 0,a):e(t-i,R1(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var u=a.map(function(d){return XO(d)?l.shift():d});return r.apply(void 0,l7(u).concat(l))}))})},wh=function(t){return p7(t.length,t)},wg=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},g7=wh(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),m7=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return h7;var a=r.reverse(),o=a[0],i=a.slice(1);return function(){return i.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},kg=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},qO=function(t){var r=null,n=null;return function(){for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return r&&o.every(function(s,l){return s===r[l]})||(r=o,n=t.apply(void 0,o)),n}};function y7(e){var t;return e===0?t=1:t=Math.floor(new jt(e).abs().log(10).toNumber())+1,t}function v7(e,t,r){for(var n=new jt(e),a=0,o=[];n.lt(t)&&a<1e5;)o.push(n.toNumber()),n=n.add(r),a++;return o}var x7=wh(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),b7=wh(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),w7=wh(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const kh={rangeStep:v7,getDigitCount:y7,interpolateNumber:x7,uninterpolateNumber:b7,uninterpolateTruncation:w7};function Sg(e){return j7(e)||S7(e)||YO(e)||k7()}function k7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S7(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function j7(e){if(Array.isArray(e))return jg(e)}function Oc(e,t){return P7(e)||_7(e,t)||YO(e,t)||O7()}function O7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YO(e,t){if(e){if(typeof e=="string")return jg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jg(e,t)}}function jg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _7(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,o=void 0;try{for(var i=e[Symbol.iterator](),s;!(n=(s=i.next()).done)&&(r.push(s.value),!(t&&r.length===t));n=!0);}catch(l){a=!0,o=l}finally{try{!n&&i.return!=null&&i.return()}finally{if(a)throw o}}return r}}function P7(e){if(Array.isArray(e))return e}function QO(e){var t=Oc(e,2),r=t[0],n=t[1],a=r,o=n;return r>n&&(a=n,o=r),[a,o]}function ZO(e,t,r){if(e.lte(0))return new jt(0);var n=kh.getDigitCount(e.toNumber()),a=new jt(10).pow(n),o=e.div(a),i=n!==1?.05:.1,s=new jt(Math.ceil(o.div(i).toNumber())).add(r).mul(i),l=s.mul(a);return t?l:new jt(Math.ceil(l))}function N7(e,t,r){var n=1,a=new jt(e);if(!a.isint()&&r){var o=Math.abs(e);o<1?(n=new jt(10).pow(kh.getDigitCount(e)-1),a=new jt(Math.floor(a.div(n).toNumber())).mul(n)):o>1&&(a=new jt(Math.floor(e)))}else e===0?a=new jt(Math.floor((t-1)/2)):r||(a=new jt(Math.floor(e)));var i=Math.floor((t-1)/2),s=m7(g7(function(l){return a.add(new jt(l-i).mul(n)).toNumber()}),wg);return s(0,t)}function JO(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new jt(0),tickMin:new jt(0),tickMax:new jt(0)};var o=ZO(new jt(t).sub(e).div(r-1),n,a),i;e<=0&&t>=0?i=new jt(0):(i=new jt(e).add(t).div(2),i=i.sub(new jt(i).mod(o)));var s=Math.ceil(i.sub(e).div(o).toNumber()),l=Math.ceil(new jt(t).sub(i).div(o).toNumber()),c=s+l+1;return c>r?JO(e,t,r,n,a+1):(c<r&&(l=t>0?l+(r-c):l,s=t>0?s:s+(r-c)),{step:o,tickMin:i.sub(new jt(s).mul(o)),tickMax:i.add(new jt(l).mul(o))})}function A7(e){var t=Oc(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(a,2),s=QO([r,n]),l=Oc(s,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var d=u===1/0?[c].concat(Sg(wg(0,a-1).map(function(){return 1/0}))):[].concat(Sg(wg(0,a-1).map(function(){return-1/0})),[u]);return r>n?kg(d):d}if(c===u)return N7(c,a,o);var h=JO(c,u,i,o),p=h.step,m=h.tickMin,v=h.tickMax,x=kh.rangeStep(m,v.add(new jt(.1).mul(p)),p);return r>n?kg(x):x}function M7(e,t){var r=Oc(e,2),n=r[0],a=r[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=QO([n,a]),s=Oc(i,2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[n,a];if(l===c)return[l];var u=Math.max(t,2),d=ZO(new jt(c).sub(l).div(u-1),o,0),h=[].concat(Sg(kh.rangeStep(new jt(l),new jt(c).sub(new jt(.99).mul(d)),d)),[c]);return n>a?kg(h):h}var C7=qO(A7),E7=qO(M7),T7="Invariant failed";function bi(e,t){throw new Error(T7)}var $7=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Os(e){"@babel/helpers - typeof";return Os=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Os(e)}function Jf(){return Jf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jf.apply(this,arguments)}function D7(e,t){return B7(e)||I7(e,t)||R7(e,t)||L7()}function L7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R7(e,t){if(e){if(typeof e=="string")return I1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I1(e,t)}}function I1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function I7(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function B7(e){if(Array.isArray(e))return e}function F7(e,t){if(e==null)return{};var r=z7(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function z7(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function W7(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U7(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,r_(n.key),n)}}function G7(e,t,r){return t&&U7(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function H7(e,t,r){return t=ed(t),V7(e,e_()?Reflect.construct(t,r||[],ed(e).constructor):t.apply(e,r))}function V7(e,t){if(t&&(Os(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return K7(e)}function K7(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function e_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e_=function(){return!!e})()}function ed(e){return ed=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ed(e)}function X7(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Og(e,t)}function Og(e,t){return Og=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Og(e,t)}function t_(e,t,r){return t=r_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r_(e){var t=q7(e,"string");return Os(t)=="symbol"?t:t+""}function q7(e,t){if(Os(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Os(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ol=function(e){function t(){return W7(this,t),H7(this,t,arguments)}return X7(t,e),G7(t,[{key:"render",value:function(){var n=this.props,a=n.offset,o=n.layout,i=n.width,s=n.dataKey,l=n.data,c=n.dataPointFormatter,u=n.xAxis,d=n.yAxis,h=F7(n,$7),p=$e(h,!1);this.props.direction==="x"&&u.type!=="number"&&bi();var m=l.map(function(v){var x=c(v,s),y=x.x,g=x.y,b=x.value,k=x.errorVal;if(!k)return null;var w=[],S,j;if(Array.isArray(k)){var _=D7(k,2);S=_[0],j=_[1]}else S=j=k;if(o==="vertical"){var P=u.scale,A=g+a,N=A+i,M=A-i,B=P(b-S),R=P(b+j);w.push({x1:R,y1:N,x2:R,y2:M}),w.push({x1:B,y1:A,x2:R,y2:A}),w.push({x1:B,y1:N,x2:B,y2:M})}else if(o==="horizontal"){var $=d.scale,L=y+a,F=L-i,D=L+i,z=$(b-S),W=$(b+j);w.push({x1:F,y1:W,x2:D,y2:W}),w.push({x1:L,y1:z,x2:L,y2:W}),w.push({x1:F,y1:z,x2:D,y2:z})}return C.createElement(xt,Jf({className:"recharts-errorBar",key:"bar-".concat(w.map(function(te){return"".concat(te.x1,"-").concat(te.x2,"-").concat(te.y1,"-").concat(te.y2)}))},p),w.map(function(te){return C.createElement("line",Jf({},te,{key:"line-".concat(te.x1,"-").concat(te.x2,"-").concat(te.y1,"-").concat(te.y2)}))}))});return C.createElement(xt,{className:"recharts-errorBars"},m)}}])}(C.Component);t_(ol,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});t_(ol,"displayName","ErrorBar");function _c(e){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_c(e)}function B1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Go(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B1(Object(r),!0).forEach(function(n){Y7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Y7(e,t,r){return t=Q7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q7(e){var t=Z7(e,"string");return _c(t)=="symbol"?t:t+""}function Z7(e,t){if(_c(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var n_=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,o=t.legendContent,i=Pn(r,Va);if(!i)return null;var s=Va.defaultProps,l=s!==void 0?Go(Go({},s),i.props):{},c;return i.props&&i.props.payload?c=i.props&&i.props.payload:o==="children"?c=(n||[]).reduce(function(u,d){var h=d.item,p=d.props,m=p.sectors||p.data||[];return u.concat(m.map(function(v){return{type:i.props.iconType||h.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):c=(n||[]).map(function(u){var d=u.item,h=d.type.defaultProps,p=h!==void 0?Go(Go({},h),d.props):{},m=p.dataKey,v=p.name,x=p.legendType,y=p.hide;return{inactive:y,dataKey:m,type:l.iconType||x||"square",color:nv(d),value:v||m,payload:p}}),Go(Go(Go({},l),Va.getWithHeight(i,a)),{},{payload:c,item:i})};function Pc(e){"@babel/helpers - typeof";return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pc(e)}function F1(e){return rW(e)||tW(e)||eW(e)||J7()}function J7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eW(e,t){if(e){if(typeof e=="string")return _g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _g(e,t)}}function tW(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rW(e){if(Array.isArray(e))return _g(e)}function _g(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function z1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function er(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z1(Object(r),!0).forEach(function(n){ls(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ls(e,t,r){return t=nW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nW(e){var t=aW(e,"string");return Pc(t)=="symbol"?t:t+""}function aW(e,t){if(Pc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vr(e,t,r){return Te(e)||Te(t)?r:yr(t)?Kn(e,t,r):Re(t)?t(e):r}function Ul(e,t,r,n){var a=t7(e,function(s){return vr(s,t)});if(r==="number"){var o=a.filter(function(s){return se(s)||parseFloat(s)});return o.length?[bh(o),bo(o)]:[1/0,-1/0]}var i=n?a.filter(function(s){return!Te(s)}):a;return i.map(function(s){return yr(s)||s instanceof Date?s:""})}var oW=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,i=-1,s=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,c=0;c<s;c++){var u=c>0?a[c-1].coordinate:a[s-1].coordinate,d=a[c].coordinate,h=c>=s-1?a[0].coordinate:a[c+1].coordinate,p=void 0;if(ua(d-u)!==ua(h-d)){var m=[];if(ua(h-d)===ua(l[1]-l[0])){p=h;var v=d+l[1]-l[0];m[0]=Math.min(v,(v+u)/2),m[1]=Math.max(v,(v+u)/2)}else{p=u;var x=h+l[1]-l[0];m[0]=Math.min(d,(x+d)/2),m[1]=Math.max(d,(x+d)/2)}var y=[Math.min(d,(p+d)/2),Math.max(d,(p+d)/2)];if(t>y[0]&&t<=y[1]||t>=m[0]&&t<=m[1]){i=a[c].index;break}}else{var g=Math.min(u,h),b=Math.max(u,h);if(t>(g+d)/2&&t<=(b+d)/2){i=a[c].index;break}}}else for(var k=0;k<s;k++)if(k===0&&t<=(n[k].coordinate+n[k+1].coordinate)/2||k>0&&k<s-1&&t>(n[k].coordinate+n[k-1].coordinate)/2&&t<=(n[k].coordinate+n[k+1].coordinate)/2||k===s-1&&t>(n[k].coordinate+n[k-1].coordinate)/2){i=n[k].index;break}return i},nv=function(t){var r,n=t,a=n.type.displayName,o=(r=t.type)!==null&&r!==void 0&&r.defaultProps?er(er({},t.type.defaultProps),t.props):t.props,i=o.stroke,s=o.fill,l;switch(a){case"Line":l=i;break;case"Area":case"Radar":l=i&&i!=="none"?i:s;break;default:l=s;break}return l},iW=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,o=a===void 0?{}:a;if(!o)return{};for(var i={},s=Object.keys(o),l=0,c=s.length;l<c;l++)for(var u=o[s[l]].stackGroups,d=Object.keys(u),h=0,p=d.length;h<p;h++){var m=u[d[h]],v=m.items,x=m.cateAxisId,y=v.filter(function(j){return Ga(j.type).indexOf("Bar")>=0});if(y&&y.length){var g=y[0].type.defaultProps,b=g!==void 0?er(er({},g),y[0].props):y[0].props,k=b.barSize,w=b[x];i[w]||(i[w]=[]);var S=Te(k)?r:k;i[w].push({item:y[0],stackList:y.slice(1),barSize:Te(S)?void 0:yi(S,n,0)})}}return i},sW=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,o=t.sizeList,i=o===void 0?[]:o,s=t.maxBarSize,l=i.length;if(l<1)return null;var c=yi(r,a,0,!0),u,d=[];if(i[0].barSize===+i[0].barSize){var h=!1,p=a/l,m=i.reduce(function(k,w){return k+w.barSize||0},0);m+=(l-1)*c,m>=a&&(m-=(l-1)*c,c=0),m>=a&&p>0&&(h=!0,p*=.9,m=l*p);var v=(a-m)/2>>0,x={offset:v-c,size:0};u=i.reduce(function(k,w){var S={item:w.item,position:{offset:x.offset+x.size+c,size:h?p:w.barSize}},j=[].concat(F1(k),[S]);return x=j[j.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(_){j.push({item:_,position:x})}),j},d)}else{var y=yi(n,a,0,!0);a-2*y-(l-1)*c<=0&&(c=0);var g=(a-2*y-(l-1)*c)/l;g>1&&(g>>=0);var b=s===+s?Math.min(g,s):g;u=i.reduce(function(k,w,S){var j=[].concat(F1(k),[{item:w.item,position:{offset:y+(g+c)*S+(g-b)/2,size:b}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(_){j.push({item:_,position:j[j.length-1].position})}),j},d)}return u},lW=function(t,r,n,a){var o=n.children,i=n.width,s=n.margin,l=i-(s.left||0)-(s.right||0),c=n_({children:o,legendWidth:l});if(c){var u=a||{},d=u.width,h=u.height,p=c.align,m=c.verticalAlign,v=c.layout;if((v==="vertical"||v==="horizontal"&&m==="middle")&&p!=="center"&&se(t[p]))return er(er({},t),{},ls({},p,t[p]+(d||0)));if((v==="horizontal"||v==="vertical"&&p==="center")&&m!=="middle"&&se(t[m]))return er(er({},t),{},ls({},m,t[m]+(h||0)))}return t},cW=function(t,r,n){return Te(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},a_=function(t,r,n,a,o){var i=r.props.children,s=xn(i,ol).filter(function(c){return cW(a,o,c.props.direction)});if(s&&s.length){var l=s.map(function(c){return c.props.dataKey});return t.reduce(function(c,u){var d=vr(u,n);if(Te(d))return c;var h=Array.isArray(d)?[bh(d),bo(d)]:[d,d],p=l.reduce(function(m,v){var x=vr(u,v,0),y=h[0]-Math.abs(Array.isArray(x)?x[0]:x),g=h[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(y,m[0]),Math.max(g,m[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},uW=function(t,r,n,a,o){var i=r.map(function(s){return a_(t,s,n,o,a)}).filter(function(s){return!Te(s)});return i&&i.length?i.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},o_=function(t,r,n,a,o){var i=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&a_(t,l,c,a)||Ul(t,c,n,o)});if(n==="number")return i.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var s={};return i.reduce(function(l,c){for(var u=0,d=c.length;u<d;u++)s[c[u]]||(s[c[u]]=!0,l.push(c[u]));return l},[])},i_=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},s_=function(t,r,n,a){if(a)return t.map(function(l){return l.coordinate});var o,i,s=t.map(function(l){return l.coordinate===r&&(o=!0),l.coordinate===n&&(i=!0),l.coordinate});return o||s.push(r),i||s.push(n),s},Wa=function(t,r,n){if(!t)return null;var a=t.scale,o=t.duplicateDomain,i=t.type,s=t.range,l=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,c=(r||n)&&i==="category"&&a.bandwidth?a.bandwidth()/l:0;if(c=t.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?ua(s[0]-s[1])*2*c:c,r&&(t.ticks||t.niceTicks)){var u=(t.ticks||t.niceTicks).map(function(d){var h=o?o.indexOf(d):d;return{coordinate:a(h)+c,value:d,offset:c}});return u.filter(function(d){return!Zs(d.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(d,h){return{coordinate:a(d)+c,value:d,index:h,offset:c}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(d){return{coordinate:a(d)+c,value:d,offset:c}}):a.domain().map(function(d,h){return{coordinate:a(d)+c,value:o?o[d]:d,index:h,offset:c}})},Cp=new WeakMap,Ru=function(t,r){if(typeof r!="function")return t;Cp.has(t)||Cp.set(t,new WeakMap);var n=Cp.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},fW=function(t,r,n){var a=t.scale,o=t.type,i=t.layout,s=t.axisType;if(a==="auto")return i==="radial"&&s==="radiusAxis"?{scale:xc(),realScaleType:"band"}:i==="radial"&&s==="angleAxis"?{scale:Xf(),realScaleType:"linear"}:o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Wl(),realScaleType:"point"}:o==="category"?{scale:xc(),realScaleType:"band"}:{scale:Xf(),realScaleType:"linear"};if(mi(a)){var l="scale".concat(ih(a));return{scale:($1[l]||Wl)(),realScaleType:$1[l]?l:"point"}}return Re(a)?{scale:a}:{scale:Wl(),realScaleType:"point"}},W1=1e-4,dW=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),o=Math.min(a[0],a[1])-W1,i=Math.max(a[0],a[1])+W1,s=t(r[0]),l=t(r[n-1]);(s<o||s>i||l<o||l>i)&&t.domain([r[0],r[n-1]])}},hW=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},pW=function(t,r){if(!r||r.length!==2||!se(r[0])||!se(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),o=[t[0],t[1]];return(!se(t[0])||t[0]<n)&&(o[0]=n),(!se(t[1])||t[1]>a)&&(o[1]=a),o[0]>a&&(o[0]=a),o[1]<n&&(o[1]=n),o},gW=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var o=0,i=0,s=0;s<r;++s){var l=Zs(t[s][n][1])?t[s][n][0]:t[s][n][1];l>=0?(t[s][n][0]=o,t[s][n][1]=o+l,o=t[s][n][1]):(t[s][n][0]=i,t[s][n][1]=i+l,i=t[s][n][1])}},mW=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var o=0,i=0;i<r;++i){var s=Zs(t[i][n][1])?t[i][n][0]:t[i][n][1];s>=0?(t[i][n][0]=o,t[i][n][1]=o+s,o=t[i][n][1]):(t[i][n][0]=0,t[i][n][1]=0)}},yW={sign:gW,expand:E5,none:ms,silhouette:T5,wiggle:$5,positive:mW},vW=function(t,r,n){var a=r.map(function(s){return s.props.dataKey}),o=yW[n],i=C5().keys(a).value(function(s,l){return+vr(s,l,0)}).order(Q0).offset(o);return i(t)},xW=function(t,r,n,a,o,i){if(!t)return null;var s=i?r.reverse():r,l={},c=s.reduce(function(d,h){var p,m=(p=h.type)!==null&&p!==void 0&&p.defaultProps?er(er({},h.type.defaultProps),h.props):h.props,v=m.stackId,x=m.hide;if(x)return d;var y=m[n],g=d[y]||{hasStack:!1,stackGroups:{}};if(yr(v)){var b=g.stackGroups[v]||{numericAxisId:n,cateAxisId:a,items:[]};b.items.push(h),g.hasStack=!0,g.stackGroups[v]=b}else g.stackGroups[_i("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return er(er({},d),{},ls({},y,g))},l),u={};return Object.keys(c).reduce(function(d,h){var p=c[h];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(v,x){var y=p.stackGroups[x];return er(er({},v),{},ls({},x,{numericAxisId:n,cateAxisId:a,items:y.items,stackedData:vW(t,y.items,o)}))},m)}return er(er({},d),{},ls({},h,p))},u)},bW=function(t,r){var n=r.realScaleType,a=r.type,o=r.tickCount,i=r.originalDomain,s=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&a==="number"&&i&&(i[0]==="auto"||i[1]==="auto")){var c=t.domain();if(!c.length)return null;var u=C7(c,o,s);return t.domain([bh(u),bo(u)]),{niceTicks:u}}if(o&&a==="number"){var d=t.domain(),h=E7(d,o,s);return{niceTicks:h}}return null};function _s(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,o=e.index,i=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Te(a[t.dataKey])){var s=_f(r,"value",a[t.dataKey]);if(s)return s.coordinate+n/2}return r[o]?r[o].coordinate+n/2:null}var l=vr(a,Te(i)?t.dataKey:i);return Te(l)?null:t.scale(l)}var U1=function(t){var r=t.axis,n=t.ticks,a=t.offset,o=t.bandSize,i=t.entry,s=t.index;if(r.type==="category")return n[s]?n[s].coordinate+a:null;var l=vr(i,r.dataKey,r.domain[s]);return Te(l)?null:r.scale(l)-o/2+a},wW=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]);return a<=0&&o>=0?0:o<0?o:a}return n[0]},kW=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?er(er({},t.type.defaultProps),t.props):t.props,o=a.stackId;if(yr(o)){var i=r[o];if(i){var s=i.items.indexOf(t);return s>=0?i.stackedData[s]:null}}return null},SW=function(t){return t.reduce(function(r,n){return[bh(n.concat([r[0]]).filter(se)),bo(n.concat([r[1]]).filter(se))]},[1/0,-1/0])},l_=function(t,r,n){return Object.keys(t).reduce(function(a,o){var i=t[o],s=i.stackedData,l=s.reduce(function(c,u){var d=SW(u.slice(r,n+1));return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],a[0]),Math.max(l[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},G1=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,H1=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Pg=function(t,r,n){if(Re(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(se(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(G1.test(t[0])){var o=+G1.exec(t[0])[1];a[0]=r[0]-o}else Re(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(se(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(H1.test(t[1])){var i=+H1.exec(t[1])[1];a[1]=r[1]+i}else Re(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},td=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var o=My(r,function(d){return d.coordinate}),i=1/0,s=1,l=o.length;s<l;s++){var c=o[s],u=o[s-1];i=Math.min((c.coordinate||0)-(u.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0},V1=function(t,r,n){return!t||!t.length||vi(t,Kn(n,"type.defaultProps.domain"))?r:t},c_=function(t,r){var n=t.type.defaultProps?er(er({},t.type.defaultProps),t.props):t.props,a=n.dataKey,o=n.name,i=n.unit,s=n.formatter,l=n.tooltipType,c=n.chartType,u=n.hide;return er(er({},$e(t,!1)),{},{dataKey:a,unit:i,formatter:s,name:o||a,color:nv(t),value:vr(r,a),type:l,payload:r,chartType:c,hide:u})};function Nc(e){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nc(e)}function K1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function X1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K1(Object(r),!0).forEach(function(n){jW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jW(e,t,r){return t=OW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OW(e){var t=_W(e,"string");return Nc(t)=="symbol"?t:t+""}function _W(e,t){if(Nc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rd=Math.PI/180,PW=function(t){return t*180/Math.PI},Dr=function(t,r,n,a){return{x:t+Math.cos(-rd*a)*n,y:r+Math.sin(-rd*a)*n}},NW=function(t,r){var n=t.x,a=t.y,o=r.x,i=r.y;return Math.sqrt(Math.pow(n-o,2)+Math.pow(a-i,2))},AW=function(t,r){var n=t.x,a=t.y,o=r.cx,i=r.cy,s=NW({x:n,y:a},{x:o,y:i});if(s<=0)return{radius:s};var l=(n-o)/s,c=Math.acos(l);return a>i&&(c=2*Math.PI-c),{radius:s,angle:PW(c),angleInRadian:c}},MW=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),o=Math.floor(n/360),i=Math.min(a,o);return{startAngle:r-i*360,endAngle:n-i*360}},CW=function(t,r){var n=r.startAngle,a=r.endAngle,o=Math.floor(n/360),i=Math.floor(a/360),s=Math.min(o,i);return t+s*360},q1=function(t,r){var n=t.x,a=t.y,o=AW({x:n,y:a},r),i=o.radius,s=o.angle,l=r.innerRadius,c=r.outerRadius;if(i<l||i>c)return!1;if(i===0)return!0;var u=MW(r),d=u.startAngle,h=u.endAngle,p=s,m;if(d<=h){for(;p>h;)p-=360;for(;p<d;)p+=360;m=p>=d&&p<=h}else{for(;p>d;)p-=360;for(;p<h;)p+=360;m=p>=h&&p<=d}return m?X1(X1({},r),{},{radius:i,angle:CW(p,r)}):null};function Ac(e){"@babel/helpers - typeof";return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ac(e)}var EW=["offset"];function TW(e){return RW(e)||LW(e)||DW(e)||$W()}function $W(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DW(e,t){if(e){if(typeof e=="string")return Ng(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ng(e,t)}}function LW(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function RW(e){if(Array.isArray(e))return Ng(e)}function Ng(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function IW(e,t){if(e==null)return{};var r=BW(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function BW(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Y1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Y1(Object(r),!0).forEach(function(n){FW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FW(e,t,r){return t=zW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zW(e){var t=WW(e,"string");return Ac(t)=="symbol"?t:t+""}function WW(e,t){if(Ac(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ac(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mc(){return Mc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mc.apply(this,arguments)}var UW=function(t){var r=t.value,n=t.formatter,a=Te(t.children)?r:t.children;return Re(n)?n(a):a},GW=function(t,r){var n=ua(r-t),a=Math.min(Math.abs(r-t),360);return n*a},HW=function(t,r,n){var a=t.position,o=t.viewBox,i=t.offset,s=t.className,l=o,c=l.cx,u=l.cy,d=l.innerRadius,h=l.outerRadius,p=l.startAngle,m=l.endAngle,v=l.clockWise,x=(d+h)/2,y=GW(p,m),g=y>=0?1:-1,b,k;a==="insideStart"?(b=p+g*i,k=v):a==="insideEnd"?(b=m-g*i,k=!v):a==="end"&&(b=m+g*i,k=v),k=y<=0?k:!k;var w=Dr(c,u,x,b),S=Dr(c,u,x,b+(k?1:-1)*359),j="M".concat(w.x,",").concat(w.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(k?0:1,`,
    `).concat(S.x,",").concat(S.y),_=Te(t.id)?_i("recharts-radial-line-"):t.id;return C.createElement("text",Mc({},n,{dominantBaseline:"central",className:et("recharts-radial-bar-label",s)}),C.createElement("defs",null,C.createElement("path",{id:_,d:j})),C.createElement("textPath",{xlinkHref:"#".concat(_)},r))},VW=function(t){var r=t.viewBox,n=t.offset,a=t.position,o=r,i=o.cx,s=o.cy,l=o.innerRadius,c=o.outerRadius,u=o.startAngle,d=o.endAngle,h=(u+d)/2;if(a==="outside"){var p=Dr(i,s,c+n,h),m=p.x,v=p.y;return{x:m,y:v,textAnchor:m>=i?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"end"};var x=(l+c)/2,y=Dr(i,s,x,h),g=y.x,b=y.y;return{x:g,y:b,textAnchor:"middle",verticalAnchor:"middle"}},KW=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,o=t.position,i=r,s=i.x,l=i.y,c=i.width,u=i.height,d=u>=0?1:-1,h=d*a,p=d>0?"end":"start",m=d>0?"start":"end",v=c>=0?1:-1,x=v*a,y=v>0?"end":"start",g=v>0?"start":"end";if(o==="top"){var b={x:s+c/2,y:l-d*a,textAnchor:"middle",verticalAnchor:p};return pr(pr({},b),n?{height:Math.max(l-n.y,0),width:c}:{})}if(o==="bottom"){var k={x:s+c/2,y:l+u+h,textAnchor:"middle",verticalAnchor:m};return pr(pr({},k),n?{height:Math.max(n.y+n.height-(l+u),0),width:c}:{})}if(o==="left"){var w={x:s-x,y:l+u/2,textAnchor:y,verticalAnchor:"middle"};return pr(pr({},w),n?{width:Math.max(w.x-n.x,0),height:u}:{})}if(o==="right"){var S={x:s+c+x,y:l+u/2,textAnchor:g,verticalAnchor:"middle"};return pr(pr({},S),n?{width:Math.max(n.x+n.width-S.x,0),height:u}:{})}var j=n?{width:c,height:u}:{};return o==="insideLeft"?pr({x:s+x,y:l+u/2,textAnchor:g,verticalAnchor:"middle"},j):o==="insideRight"?pr({x:s+c-x,y:l+u/2,textAnchor:y,verticalAnchor:"middle"},j):o==="insideTop"?pr({x:s+c/2,y:l+h,textAnchor:"middle",verticalAnchor:m},j):o==="insideBottom"?pr({x:s+c/2,y:l+u-h,textAnchor:"middle",verticalAnchor:p},j):o==="insideTopLeft"?pr({x:s+x,y:l+h,textAnchor:g,verticalAnchor:m},j):o==="insideTopRight"?pr({x:s+c-x,y:l+h,textAnchor:y,verticalAnchor:m},j):o==="insideBottomLeft"?pr({x:s+x,y:l+u-h,textAnchor:g,verticalAnchor:p},j):o==="insideBottomRight"?pr({x:s+c-x,y:l+u-h,textAnchor:y,verticalAnchor:p},j):Xs(o)&&(se(o.x)||Jo(o.x))&&(se(o.y)||Jo(o.y))?pr({x:s+yi(o.x,c),y:l+yi(o.y,u),textAnchor:"end",verticalAnchor:"end"},j):pr({x:s+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},j)},XW=function(t){return"cx"in t&&se(t.cx)};function Kr(e){var t=e.offset,r=t===void 0?5:t,n=IW(e,EW),a=pr({offset:r},n),o=a.viewBox,i=a.position,s=a.value,l=a.children,c=a.content,u=a.className,d=u===void 0?"":u,h=a.textBreakAll;if(!o||Te(s)&&Te(l)&&!O.isValidElement(c)&&!Re(c))return null;if(O.isValidElement(c))return O.cloneElement(c,a);var p;if(Re(c)){if(p=O.createElement(c,a),O.isValidElement(p))return p}else p=UW(a);var m=XW(o),v=$e(a,!0);if(m&&(i==="insideStart"||i==="insideEnd"||i==="end"))return HW(a,p,v);var x=m?VW(a):KW(a);return C.createElement(zf,Mc({className:et("recharts-label",d)},v,x,{breakAll:h}),p)}Kr.displayName="Label";var u_=function(t){var r=t.cx,n=t.cy,a=t.angle,o=t.startAngle,i=t.endAngle,s=t.r,l=t.radius,c=t.innerRadius,u=t.outerRadius,d=t.x,h=t.y,p=t.top,m=t.left,v=t.width,x=t.height,y=t.clockWise,g=t.labelViewBox;if(g)return g;if(se(v)&&se(x)){if(se(d)&&se(h))return{x:d,y:h,width:v,height:x};if(se(p)&&se(m))return{x:p,y:m,width:v,height:x}}return se(d)&&se(h)?{x:d,y:h,width:0,height:0}:se(r)&&se(n)?{cx:r,cy:n,startAngle:o||a||0,endAngle:i||a||0,innerRadius:c||0,outerRadius:u||l||s||0,clockWise:y}:t.viewBox?t.viewBox:{}},qW=function(t,r){return t?t===!0?C.createElement(Kr,{key:"label-implicit",viewBox:r}):yr(t)?C.createElement(Kr,{key:"label-implicit",viewBox:r,value:t}):O.isValidElement(t)?t.type===Kr?O.cloneElement(t,{key:"label-implicit",viewBox:r}):C.createElement(Kr,{key:"label-implicit",content:t,viewBox:r}):Re(t)?C.createElement(Kr,{key:"label-implicit",content:t,viewBox:r}):Xs(t)?C.createElement(Kr,Mc({viewBox:r},t,{key:"label-implicit"})):null:null},YW=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,o=u_(t),i=xn(a,Kr).map(function(l,c){return O.cloneElement(l,{viewBox:r||o,key:"label-".concat(c)})});if(!n)return i;var s=qW(t.label,r||o);return[s].concat(TW(i))};Kr.parseViewBox=u_;Kr.renderCallByParent=YW;function QW(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var ZW=QW;const JW=Pt(ZW);function Cc(e){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cc(e)}var eU=["valueAccessor"],tU=["data","dataKey","clockWise","id","textBreakAll"];function rU(e){return iU(e)||oU(e)||aU(e)||nU()}function nU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aU(e,t){if(e){if(typeof e=="string")return Ag(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ag(e,t)}}function oU(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function iU(e){if(Array.isArray(e))return Ag(e)}function Ag(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nd(){return nd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nd.apply(this,arguments)}function Q1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Z1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q1(Object(r),!0).forEach(function(n){sU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sU(e,t,r){return t=lU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lU(e){var t=cU(e,"string");return Cc(t)=="symbol"?t:t+""}function cU(e,t){if(Cc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function J1(e,t){if(e==null)return{};var r=uU(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function uU(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var fU=function(t){return Array.isArray(t.value)?JW(t.value):t.value};function Pa(e){var t=e.valueAccessor,r=t===void 0?fU:t,n=J1(e,eU),a=n.data,o=n.dataKey,i=n.clockWise,s=n.id,l=n.textBreakAll,c=J1(n,tU);return!a||!a.length?null:C.createElement(xt,{className:"recharts-label-list"},a.map(function(u,d){var h=Te(o)?r(u,d):vr(u&&u.payload,o),p=Te(s)?{}:{id:"".concat(s,"-").concat(d)};return C.createElement(Kr,nd({},$e(u,!0),c,p,{parentViewBox:u.parentViewBox,value:h,textBreakAll:l,viewBox:Kr.parseViewBox(Te(i)?u:Z1(Z1({},u),{},{clockWise:i})),key:"label-".concat(d),index:d}))}))}Pa.displayName="LabelList";function dU(e,t){return e?e===!0?C.createElement(Pa,{key:"labelList-implicit",data:t}):C.isValidElement(e)||Re(e)?C.createElement(Pa,{key:"labelList-implicit",data:t,content:e}):Xs(e)?C.createElement(Pa,nd({data:t},e,{key:"labelList-implicit"})):null:null}function hU(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=xn(n,Pa).map(function(i,s){return O.cloneElement(i,{data:t,key:"labelList-".concat(s)})});if(!r)return a;var o=dU(e.label,t);return[o].concat(rU(a))}Pa.renderCallByParent=hU;function Ec(e){"@babel/helpers - typeof";return Ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ec(e)}function Mg(){return Mg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mg.apply(this,arguments)}function ew(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ew(Object(r),!0).forEach(function(n){pU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ew(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pU(e,t,r){return t=gU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gU(e){var t=mU(e,"string");return Ec(t)=="symbol"?t:t+""}function mU(e,t){if(Ec(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ec(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yU=function(t,r){var n=ua(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},Iu=function(t){var r=t.cx,n=t.cy,a=t.radius,o=t.angle,i=t.sign,s=t.isExternal,l=t.cornerRadius,c=t.cornerIsExternal,u=l*(s?1:-1)+a,d=Math.asin(l/u)/rd,h=c?o:o+i*d,p=Dr(r,n,u,h),m=Dr(r,n,a,h),v=c?o-i*d:o,x=Dr(r,n,u*Math.cos(d*rd),v);return{center:p,circleTangency:m,lineTangency:x,theta:d}},f_=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,o=t.outerRadius,i=t.startAngle,s=t.endAngle,l=yU(i,s),c=i+l,u=Dr(r,n,o,i),d=Dr(r,n,o,c),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(i>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(a>0){var p=Dr(r,n,a,i),m=Dr(r,n,a,c);h+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(i<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},vU=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,o=t.outerRadius,i=t.cornerRadius,s=t.forceCornerRadius,l=t.cornerIsExternal,c=t.startAngle,u=t.endAngle,d=ua(u-c),h=Iu({cx:r,cy:n,radius:o,angle:c,sign:d,cornerRadius:i,cornerIsExternal:l}),p=h.circleTangency,m=h.lineTangency,v=h.theta,x=Iu({cx:r,cy:n,radius:o,angle:u,sign:-d,cornerRadius:i,cornerIsExternal:l}),y=x.circleTangency,g=x.lineTangency,b=x.theta,k=l?Math.abs(c-u):Math.abs(c-u)-v-b;if(k<0)return s?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):f_({cx:r,cy:n,innerRadius:a,outerRadius:o,startAngle:c,endAngle:u});var w="M ".concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(k>180),",").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(g.x,",").concat(g.y,`
  `);if(a>0){var S=Iu({cx:r,cy:n,radius:a,angle:c,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),j=S.circleTangency,_=S.lineTangency,P=S.theta,A=Iu({cx:r,cy:n,radius:a,angle:u,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),N=A.circleTangency,M=A.lineTangency,B=A.theta,R=l?Math.abs(c-u):Math.abs(c-u)-P-B;if(R<0&&i===0)return"".concat(w,"L").concat(r,",").concat(n,"Z");w+="L".concat(M.x,",").concat(M.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(N.x,",").concat(N.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(R>180),",").concat(+(d>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(_.x,",").concat(_.y,"Z")}else w+="L".concat(r,",").concat(n,"Z");return w},xU={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},d_=function(t){var r=tw(tw({},xU),t),n=r.cx,a=r.cy,o=r.innerRadius,i=r.outerRadius,s=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,u=r.startAngle,d=r.endAngle,h=r.className;if(i<o||u===d)return null;var p=et("recharts-sector",h),m=i-o,v=yi(s,m,0,!0),x;return v>0&&Math.abs(u-d)<360?x=vU({cx:n,cy:a,innerRadius:o,outerRadius:i,cornerRadius:Math.min(v,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):x=f_({cx:n,cy:a,innerRadius:o,outerRadius:i,startAngle:u,endAngle:d}),C.createElement("path",Mg({},$e(r,!0),{className:p,d:x,role:"img"}))};function Tc(e){"@babel/helpers - typeof";return Tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tc(e)}function Cg(){return Cg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cg.apply(this,arguments)}function rw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rw(Object(r),!0).forEach(function(n){bU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bU(e,t,r){return t=wU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wU(e){var t=kU(e,"string");return Tc(t)=="symbol"?t:t+""}function kU(e,t){if(Tc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aw={curveBasisClosed:b5,curveBasisOpen:w5,curveBasis:x5,curveBumpX:o5,curveBumpY:i5,curveLinearClosed:k5,curveLinear:lh,curveMonotoneX:S5,curveMonotoneY:j5,curveNatural:O5,curveStep:_5,curveStepAfter:N5,curveStepBefore:P5},Bu=function(t){return t.x===+t.x&&t.y===+t.y},Sl=function(t){return t.x},jl=function(t){return t.y},SU=function(t,r){if(Re(t))return t;var n="curve".concat(ih(t));return(n==="curveMonotone"||n==="curveBump")&&r?aw["".concat(n).concat(r==="vertical"?"Y":"X")]:aw[n]||lh},jU=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,o=a===void 0?[]:a,i=t.baseLine,s=t.layout,l=t.connectNulls,c=l===void 0?!1:l,u=SU(n,s),d=c?o.filter(function(v){return Bu(v)}):o,h;if(Array.isArray(i)){var p=c?i.filter(function(v){return Bu(v)}):i,m=d.map(function(v,x){return nw(nw({},v),{},{base:p[x]})});return s==="vertical"?h=Au().y(jl).x1(Sl).x0(function(v){return v.base.x}):h=Au().x(Sl).y1(jl).y0(function(v){return v.base.y}),h.defined(Bu).curve(u),h(m)}return s==="vertical"&&se(i)?h=Au().y(jl).x1(Sl).x0(i):se(i)?h=Au().x(Sl).y1(jl).y0(i):h=hj().x(Sl).y(jl),h.defined(Bu).curve(u),h(d)},ui=function(t){var r=t.className,n=t.points,a=t.path,o=t.pathRef;if((!n||!n.length)&&!a)return null;var i=n&&n.length?jU(t):a;return O.createElement("path",Cg({},$e(t,!1),Pf(t),{className:et("recharts-curve",r),d:i,ref:o}))},h_={exports:{}},OU="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",_U=OU,PU=_U;function p_(){}function g_(){}g_.resetWarningCache=p_;var NU=function(){function e(n,a,o,i,s,l){if(l!==PU){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:g_,resetWarningCache:p_};return r.PropTypes=r,r};h_.exports=NU();var AU=h_.exports;const wt=Pt(AU),{getOwnPropertyNames:MU,getOwnPropertySymbols:CU}=Object,{hasOwnProperty:EU}=Object.prototype;function Ep(e,t){return function(n,a,o){return e(n,a,o)&&t(n,a,o)}}function Fu(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);const{cache:o}=a,i=o.get(r),s=o.get(n);if(i&&s)return i===n&&s===r;o.set(r,n),o.set(n,r);const l=e(r,n,a);return o.delete(r),o.delete(n),l}}function TU(e){return e!=null?e[Symbol.toStringTag]:void 0}function ow(e){return MU(e).concat(CU(e))}const $U=Object.hasOwn||((e,t)=>EU.call(e,t));function Ai(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const DU="__v",LU="__o",RU="_owner",{getOwnPropertyDescriptor:iw,keys:sw}=Object;function IU(e,t){return e.byteLength===t.byteLength&&ad(new Uint8Array(e),new Uint8Array(t))}function BU(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function FU(e,t){return e.byteLength===t.byteLength&&ad(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function zU(e,t){return Ai(e.getTime(),t.getTime())}function WU(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function UU(e,t){return e===t}function lw(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),o=e.entries();let i,s,l=0;for(;(i=o.next())&&!i.done;){const c=t.entries();let u=!1,d=0;for(;(s=c.next())&&!s.done;){if(a[d]){d++;continue}const h=i.value,p=s.value;if(r.equals(h[0],p[0],l,d,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1;l++}return!0}const GU=Ai;function HU(e,t,r){const n=sw(e);let a=n.length;if(sw(t).length!==a)return!1;for(;a-- >0;)if(!m_(e,t,r,n[a]))return!1;return!0}function Ol(e,t,r){const n=ow(e);let a=n.length;if(ow(t).length!==a)return!1;let o,i,s;for(;a-- >0;)if(o=n[a],!m_(e,t,r,o)||(i=iw(e,o),s=iw(t,o),(i||s)&&(!i||!s||i.configurable!==s.configurable||i.enumerable!==s.enumerable||i.writable!==s.writable)))return!1;return!0}function VU(e,t){return Ai(e.valueOf(),t.valueOf())}function KU(e,t){return e.source===t.source&&e.flags===t.flags}function cw(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),o=e.values();let i,s;for(;(i=o.next())&&!i.done;){const l=t.values();let c=!1,u=0;for(;(s=l.next())&&!s.done;){if(!a[u]&&r.equals(i.value,s.value,i.value,s.value,e,t,r)){c=a[u]=!0;break}u++}if(!c)return!1}return!0}function ad(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function XU(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function m_(e,t,r,n){return(n===RU||n===LU||n===DU)&&(e.$$typeof||t.$$typeof)?!0:$U(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const qU="[object ArrayBuffer]",YU="[object Arguments]",QU="[object Boolean]",ZU="[object DataView]",JU="[object Date]",eG="[object Error]",tG="[object Map]",rG="[object Number]",nG="[object Object]",aG="[object RegExp]",oG="[object Set]",iG="[object String]",sG={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},lG="[object URL]",cG=Object.prototype.toString;function uG({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:a,areFunctionsEqual:o,areMapsEqual:i,areNumbersEqual:s,areObjectsEqual:l,arePrimitiveWrappersEqual:c,areRegExpsEqual:u,areSetsEqual:d,areTypedArraysEqual:h,areUrlsEqual:p,unknownTagComparators:m}){return function(x,y,g){if(x===y)return!0;if(x==null||y==null)return!1;const b=typeof x;if(b!==typeof y)return!1;if(b!=="object")return b==="number"?s(x,y,g):b==="function"?o(x,y,g):!1;const k=x.constructor;if(k!==y.constructor)return!1;if(k===Object)return l(x,y,g);if(Array.isArray(x))return t(x,y,g);if(k===Date)return n(x,y,g);if(k===RegExp)return u(x,y,g);if(k===Map)return i(x,y,g);if(k===Set)return d(x,y,g);const w=cG.call(x);if(w===JU)return n(x,y,g);if(w===aG)return u(x,y,g);if(w===tG)return i(x,y,g);if(w===oG)return d(x,y,g);if(w===nG)return typeof x.then!="function"&&typeof y.then!="function"&&l(x,y,g);if(w===lG)return p(x,y,g);if(w===eG)return a(x,y,g);if(w===YU)return l(x,y,g);if(sG[w])return h(x,y,g);if(w===qU)return e(x,y,g);if(w===ZU)return r(x,y,g);if(w===QU||w===rG||w===iG)return c(x,y,g);if(m){let S=m[w];if(!S){const j=TU(x);j&&(S=m[j])}if(S)return S(x,y,g)}return!1}}function fG({circular:e,createCustomConfig:t,strict:r}){let n={areArrayBuffersEqual:IU,areArraysEqual:r?Ol:BU,areDataViewsEqual:FU,areDatesEqual:zU,areErrorsEqual:WU,areFunctionsEqual:UU,areMapsEqual:r?Ep(lw,Ol):lw,areNumbersEqual:GU,areObjectsEqual:r?Ol:HU,arePrimitiveWrappersEqual:VU,areRegExpsEqual:KU,areSetsEqual:r?Ep(cw,Ol):cw,areTypedArraysEqual:r?Ep(ad,Ol):ad,areUrlsEqual:XU,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const a=Fu(n.areArraysEqual),o=Fu(n.areMapsEqual),i=Fu(n.areObjectsEqual),s=Fu(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:i,areSetsEqual:s})}return n}function dG(e){return function(t,r,n,a,o,i,s){return e(t,r,s)}}function hG({circular:e,comparator:t,createState:r,equals:n,strict:a}){if(r)return function(s,l){const{cache:c=e?new WeakMap:void 0,meta:u}=r();return t(s,l,{cache:c,equals:n,meta:u,strict:a})};if(e)return function(s,l){return t(s,l,{cache:new WeakMap,equals:n,meta:void 0,strict:a})};const o={cache:void 0,equals:n,meta:void 0,strict:a};return function(s,l){return t(s,l,o)}}const pG=Wo();Wo({strict:!0});Wo({circular:!0});Wo({circular:!0,strict:!0});Wo({createInternalComparator:()=>Ai});Wo({strict:!0,createInternalComparator:()=>Ai});Wo({circular:!0,createInternalComparator:()=>Ai});Wo({circular:!0,createInternalComparator:()=>Ai,strict:!0});function Wo(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:a=!1}=e,o=fG(e),i=uG(o),s=r?r(i):dG(i);return hG({circular:t,comparator:i,createState:n,equals:s,strict:a})}function gG(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function uw(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(o){r<0&&(r=o),o-r>t?(e(o),r=-1):gG(a)};requestAnimationFrame(n)}function Eg(e){"@babel/helpers - typeof";return Eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eg(e)}function mG(e){return bG(e)||xG(e)||vG(e)||yG()}function yG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vG(e,t){if(e){if(typeof e=="string")return fw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fw(e,t)}}function fw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function bG(e){if(Array.isArray(e))return e}function wG(){var e={},t=function(){return null},r=!1,n=function a(o){if(!r){if(Array.isArray(o)){if(!o.length)return;var i=o,s=mG(i),l=s[0],c=s.slice(1);if(typeof l=="number"){uw(a.bind(null,c),l);return}a(l),uw(a.bind(null,c));return}Eg(o)==="object"&&(e=o,t(e)),typeof o=="function"&&o()}};return{stop:function(){r=!0},start:function(o){r=!1,n(o)},subscribe:function(o){return t=o,function(){t=function(){return null}}}}}function $c(e){"@babel/helpers - typeof";return $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$c(e)}function dw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dw(Object(r),!0).forEach(function(n){y_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function y_(e,t,r){return t=kG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kG(e){var t=SG(e,"string");return $c(t)==="symbol"?t:String(t)}function SG(e,t){if($c(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($c(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jG=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(o){return a.includes(o)})})},OG=function(t){return t},_G=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Gl=function(t,r){return Object.keys(r).reduce(function(n,a){return hw(hw({},n),{},y_({},a,t(a,r[a])))},{})},pw=function(t,r,n){return t.map(function(a){return"".concat(_G(a)," ").concat(r,"ms ").concat(n)}).join(",")};function PG(e,t){return MG(e)||AG(e,t)||v_(e,t)||NG()}function NG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AG(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function MG(e){if(Array.isArray(e))return e}function CG(e){return $G(e)||TG(e)||v_(e)||EG()}function EG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v_(e,t){if(e){if(typeof e=="string")return Tg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Tg(e,t)}}function TG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $G(e){if(Array.isArray(e))return Tg(e)}function Tg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var od=1e-4,x_=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},b_=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},gw=function(t,r){return function(n){var a=x_(t,r);return b_(a,n)}},DG=function(t,r){return function(n){var a=x_(t,r),o=[].concat(CG(a.map(function(i,s){return i*s}).slice(1)),[0]);return b_(o,n)}},mw=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],o=r[1],i=r[2],s=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,o=0,i=1,s=1;break;case"ease":a=.25,o=.1,i=.25,s=1;break;case"ease-in":a=.42,o=0,i=1,s=1;break;case"ease-out":a=.42,o=0,i=.58,s=1;break;case"ease-in-out":a=0,o=0,i=.58,s=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),u=PG(c,4);a=u[0],o=u[1],i=u[2],s=u[3]}}}var d=gw(a,i),h=gw(o,s),p=DG(a,i),m=function(y){return y>1?1:y<0?0:y},v=function(y){for(var g=y>1?1:y,b=g,k=0;k<8;++k){var w=d(b)-g,S=p(b);if(Math.abs(w-g)<od||S<od)return h(b);b=m(b-w/S)}return h(b)};return v.isStepper=!1,v},LG=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,o=a===void 0?8:a,i=t.dt,s=i===void 0?17:i,l=function(u,d,h){var p=-(u-d)*n,m=h*o,v=h+(p-m)*s/1e3,x=h*s/1e3+u;return Math.abs(x-d)<od&&Math.abs(v)<od?[d,0]:[x,v]};return l.isStepper=!0,l.dt=s,l},RG=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return mw(a);case"spring":return LG();default:if(a.split("(")[0]==="cubic-bezier")return mw(a)}return typeof a=="function"?a:null};function Dc(e){"@babel/helpers - typeof";return Dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dc(e)}function yw(e){return FG(e)||BG(e)||w_(e)||IG()}function IG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function FG(e){if(Array.isArray(e))return Dg(e)}function vw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vw(Object(r),!0).forEach(function(n){$g(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $g(e,t,r){return t=zG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zG(e){var t=WG(e,"string");return Dc(t)==="symbol"?t:String(t)}function WG(e,t){if(Dc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UG(e,t){return VG(e)||HG(e,t)||w_(e,t)||GG()}function GG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w_(e,t){if(e){if(typeof e=="string")return Dg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dg(e,t)}}function Dg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function HG(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function VG(e){if(Array.isArray(e))return e}var id=function(t,r,n){return t+(r-t)*n},Lg=function(t){var r=t.from,n=t.to;return r!==n},KG=function e(t,r,n){var a=Gl(function(o,i){if(Lg(i)){var s=t(i.from,i.to,i.velocity),l=UG(s,2),c=l[0],u=l[1];return Tr(Tr({},i),{},{from:c,velocity:u})}return i},r);return n<1?Gl(function(o,i){return Lg(i)?Tr(Tr({},i),{},{velocity:id(i.velocity,a[o].velocity,n),from:id(i.from,a[o].from,n)}):i},r):e(t,a,n-1)};const XG=function(e,t,r,n,a){var o=jG(e,t),i=o.reduce(function(x,y){return Tr(Tr({},x),{},$g({},y,[e[y],t[y]]))},{}),s=o.reduce(function(x,y){return Tr(Tr({},x),{},$g({},y,{from:e[y],velocity:0,to:t[y]}))},{}),l=-1,c,u,d=function(){return null},h=function(){return Gl(function(y,g){return g.from},s)},p=function(){return!Object.values(s).filter(Lg).length},m=function(y){c||(c=y);var g=y-c,b=g/r.dt;s=KG(r,s,b),a(Tr(Tr(Tr({},e),t),h())),c=y,p()||(l=requestAnimationFrame(d))},v=function(y){u||(u=y);var g=(y-u)/n,b=Gl(function(w,S){return id.apply(void 0,yw(S).concat([r(g)]))},i);if(a(Tr(Tr(Tr({},e),t),b)),g<1)l=requestAnimationFrame(d);else{var k=Gl(function(w,S){return id.apply(void 0,yw(S).concat([r(1)]))},i);a(Tr(Tr(Tr({},e),t),k))}};return d=r.isStepper?m:v,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function Ps(e){"@babel/helpers - typeof";return Ps=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ps(e)}var qG=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function YG(e,t){if(e==null)return{};var r=QG(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function QG(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,o;for(o=0;o<n.length;o++)a=n[o],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Tp(e){return tH(e)||eH(e)||JG(e)||ZG()}function ZG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JG(e,t){if(e){if(typeof e=="string")return Rg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Rg(e,t)}}function eH(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tH(e){if(Array.isArray(e))return Rg(e)}function Rg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function na(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xw(Object(r),!0).forEach(function(n){Cl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cl(e,t,r){return t=k_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nH(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,k_(n.key),n)}}function aH(e,t,r){return t&&nH(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function k_(e){var t=oH(e,"string");return Ps(t)==="symbol"?t:String(t)}function oH(e,t){if(Ps(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ps(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iH(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ig(e,t)}function Ig(e,t){return Ig=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ig(e,t)}function sH(e){var t=lH();return function(){var n=sd(e),a;if(t){var o=sd(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return Bg(this,a)}}function Bg(e,t){if(t&&(Ps(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fg(e)}function Fg(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lH(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function sd(e){return sd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sd(e)}var pa=function(e){iH(r,e);var t=sH(r);function r(n,a){var o;rH(this,r),o=t.call(this,n,a);var i=o.props,s=i.isActive,l=i.attributeName,c=i.from,u=i.to,d=i.steps,h=i.children,p=i.duration;if(o.handleStyleChange=o.handleStyleChange.bind(Fg(o)),o.changeStyle=o.changeStyle.bind(Fg(o)),!s||p<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:u}),Bg(o);if(d&&d.length)o.state={style:d[0].style};else if(c){if(typeof h=="function")return o.state={style:c},Bg(o);o.state={style:l?Cl({},l,c):c}}else o.state={style:{}};return o}return aH(r,[{key:"componentDidMount",value:function(){var a=this.props,o=a.isActive,i=a.canBegin;this.mounted=!0,!(!o||!i)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var o=this.props,i=o.isActive,s=o.canBegin,l=o.attributeName,c=o.shouldReAnimate,u=o.to,d=o.from,h=this.state.style;if(s){if(!i){var p={style:l?Cl({},l,u):u};this.state&&h&&(l&&h[l]!==u||!l&&h!==u)&&this.setState(p);return}if(!(pG(a.to,u)&&a.canBegin&&a.isActive)){var m=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=m||c?d:a.to;if(this.state&&h){var x={style:l?Cl({},l,v):v};(l&&h[l]!==v||!l&&h!==v)&&this.setState(x)}this.runAnimation(na(na({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var o=this,i=a.from,s=a.to,l=a.duration,c=a.easing,u=a.begin,d=a.onAnimationEnd,h=a.onAnimationStart,p=XG(i,s,RG(c),l,this.changeStyle),m=function(){o.stopJSAnimation=p()};this.manager.start([h,u,m,l,d])}},{key:"runStepAnimation",value:function(a){var o=this,i=a.steps,s=a.begin,l=a.onAnimationStart,c=i[0],u=c.style,d=c.duration,h=d===void 0?0:d,p=function(v,x,y){if(y===0)return v;var g=x.duration,b=x.easing,k=b===void 0?"ease":b,w=x.style,S=x.properties,j=x.onAnimationEnd,_=y>0?i[y-1]:x,P=S||Object.keys(w);if(typeof k=="function"||k==="spring")return[].concat(Tp(v),[o.runJSAnimation.bind(o,{from:_.style,to:w,duration:g,easing:k}),g]);var A=pw(P,g,k),N=na(na(na({},_.style),w),{},{transition:A});return[].concat(Tp(v),[N,g,j]).filter(OG)};return this.manager.start([l].concat(Tp(i.reduce(p,[u,Math.max(h,s)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=wG());var o=a.begin,i=a.duration,s=a.attributeName,l=a.to,c=a.easing,u=a.onAnimationStart,d=a.onAnimationEnd,h=a.steps,p=a.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var v=s?Cl({},s,l):l,x=pw(Object.keys(v),i,c);m.start([u,o,na(na({},v),{},{transition:x}),i,d])}},{key:"render",value:function(){var a=this.props,o=a.children;a.begin;var i=a.duration;a.attributeName,a.easing;var s=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var l=YG(a,qG),c=O.Children.count(o),u=this.state.style;if(typeof o=="function")return o(u);if(!s||c===0||i<=0)return o;var d=function(p){var m=p.props,v=m.style,x=v===void 0?{}:v,y=m.className,g=O.cloneElement(p,na(na({},l),{},{style:na(na({},x),u),className:y}));return g};return c===1?d(O.Children.only(o)):C.createElement("div",null,O.Children.map(o,function(h){return d(h)}))}}]),r}(O.PureComponent);pa.displayName="Animate";pa.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};pa.propTypes={from:wt.oneOfType([wt.object,wt.string]),to:wt.oneOfType([wt.object,wt.string]),attributeName:wt.string,duration:wt.number,begin:wt.number,easing:wt.oneOfType([wt.string,wt.func]),steps:wt.arrayOf(wt.shape({duration:wt.number.isRequired,style:wt.object.isRequired,easing:wt.oneOfType([wt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),wt.func]),properties:wt.arrayOf("string"),onAnimationEnd:wt.func})),children:wt.oneOfType([wt.node,wt.func]),isActive:wt.bool,canBegin:wt.bool,onAnimationEnd:wt.func,shouldReAnimate:wt.bool,onAnimationStart:wt.func,onAnimationReStart:wt.func};function Lc(e){"@babel/helpers - typeof";return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lc(e)}function ld(){return ld=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ld.apply(this,arguments)}function cH(e,t){return hH(e)||dH(e,t)||fH(e,t)||uH()}function uH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fH(e,t){if(e){if(typeof e=="string")return bw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bw(e,t)}}function bw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dH(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function hH(e){if(Array.isArray(e))return e}function ww(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ww(Object(r),!0).forEach(function(n){pH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ww(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pH(e,t,r){return t=gH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gH(e){var t=mH(e,"string");return Lc(t)=="symbol"?t:t+""}function mH(e,t){if(Lc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sw=function(t,r,n,a,o){var i=Math.min(Math.abs(n)/2,Math.abs(a)/2),s=a>=0?1:-1,l=n>=0?1:-1,c=a>=0&&n>=0||a<0&&n<0?1:0,u;if(i>0&&o instanceof Array){for(var d=[0,0,0,0],h=0,p=4;h<p;h++)d[h]=o[h]>i?i:o[h];u="M".concat(t,",").concat(r+s*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(t+l*d[0],",").concat(r)),u+="L ".concat(t+n-l*d[1],",").concat(r),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(t+n,",").concat(r+s*d[1])),u+="L ".concat(t+n,",").concat(r+a-s*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(t+n-l*d[2],",").concat(r+a)),u+="L ".concat(t+l*d[3],",").concat(r+a),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(r+a-s*d[3])),u+="Z"}else if(i>0&&o===+o&&o>0){var m=Math.min(i,o);u="M ".concat(t,",").concat(r+s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+l*m,",").concat(r,`
            L `).concat(t+n-l*m,",").concat(r,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+n,",").concat(r+s*m,`
            L `).concat(t+n,",").concat(r+a-s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+n-l*m,",").concat(r+a,`
            L `).concat(t+l*m,",").concat(r+a,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t,",").concat(r+a-s*m," Z")}else u="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return u},yH=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,o=r.x,i=r.y,s=r.width,l=r.height;if(Math.abs(s)>0&&Math.abs(l)>0){var c=Math.min(o,o+s),u=Math.max(o,o+s),d=Math.min(i,i+l),h=Math.max(i,i+l);return n>=c&&n<=u&&a>=d&&a<=h}return!1},vH={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},av=function(t){var r=kw(kw({},vH),t),n=O.useRef(),a=O.useState(-1),o=cH(a,2),i=o[0],s=o[1];O.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var k=n.current.getTotalLength();k&&s(k)}catch{}},[]);var l=r.x,c=r.y,u=r.width,d=r.height,h=r.radius,p=r.className,m=r.animationEasing,v=r.animationDuration,x=r.animationBegin,y=r.isAnimationActive,g=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||d!==+d||u===0||d===0)return null;var b=et("recharts-rectangle",p);return g?C.createElement(pa,{canBegin:i>0,from:{width:u,height:d,x:l,y:c},to:{width:u,height:d,x:l,y:c},duration:v,animationEasing:m,isActive:g},function(k){var w=k.width,S=k.height,j=k.x,_=k.y;return C.createElement(pa,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:v,isActive:y,easing:m},C.createElement("path",ld({},$e(r,!0),{className:b,d:Sw(j,_,w,S,h),ref:n})))}):C.createElement("path",ld({},$e(r,!0),{className:b,d:Sw(l,c,u,d,h)}))};function zg(){return zg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zg.apply(this,arguments)}var Sh=function(t){var r=t.cx,n=t.cy,a=t.r,o=t.className,i=et("recharts-dot",o);return r===+r&&n===+n&&a===+a?O.createElement("circle",zg({},$e(t,!1),Pf(t),{className:i,cx:r,cy:n,r:a})):null};function Rc(e){"@babel/helpers - typeof";return Rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rc(e)}var xH=["x","y","top","left","width","height","className"];function Wg(){return Wg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wg.apply(this,arguments)}function jw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bH(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jw(Object(r),!0).forEach(function(n){wH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wH(e,t,r){return t=kH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kH(e){var t=SH(e,"string");return Rc(t)=="symbol"?t:t+""}function SH(e,t){if(Rc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jH(e,t){if(e==null)return{};var r=OH(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function OH(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var _H=function(t,r,n,a,o,i){return"M".concat(t,",").concat(o,"v").concat(a,"M").concat(i,",").concat(r,"h").concat(n)},PH=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,o=a===void 0?0:a,i=t.top,s=i===void 0?0:i,l=t.left,c=l===void 0?0:l,u=t.width,d=u===void 0?0:u,h=t.height,p=h===void 0?0:h,m=t.className,v=jH(t,xH),x=bH({x:n,y:o,top:s,left:c,width:d,height:p},v);return!se(n)||!se(o)||!se(d)||!se(p)||!se(s)||!se(c)?null:C.createElement("path",Wg({},$e(x,!0),{className:et("recharts-cross",m),d:_H(n,o,d,p,s,c)}))},NH=Rj,AH=NH(Object.getPrototypeOf,Object),MH=AH,CH=ro,EH=MH,TH=no,$H="[object Object]",DH=Function.prototype,LH=Object.prototype,S_=DH.toString,RH=LH.hasOwnProperty,IH=S_.call(Object);function BH(e){if(!TH(e)||CH(e)!=$H)return!1;var t=EH(e);if(t===null)return!0;var r=RH.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&S_.call(r)==IH}var FH=BH;const zH=Pt(FH);var WH=ro,UH=no,GH="[object Boolean]";function HH(e){return e===!0||e===!1||UH(e)&&WH(e)==GH}var VH=HH;const KH=Pt(VH);function Ic(e){"@babel/helpers - typeof";return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ic(e)}function cd(){return cd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cd.apply(this,arguments)}function XH(e,t){return ZH(e)||QH(e,t)||YH(e,t)||qH()}function qH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YH(e,t){if(e){if(typeof e=="string")return Ow(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ow(e,t)}}function Ow(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function QH(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function ZH(e){if(Array.isArray(e))return e}function _w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_w(Object(r),!0).forEach(function(n){JH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_w(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JH(e,t,r){return t=eV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eV(e){var t=tV(e,"string");return Ic(t)=="symbol"?t:t+""}function tV(e,t){if(Ic(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ic(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nw=function(t,r,n,a,o){var i=n-a,s;return s="M ".concat(t,",").concat(r),s+="L ".concat(t+n,",").concat(r),s+="L ".concat(t+n-i/2,",").concat(r+o),s+="L ".concat(t+n-i/2-a,",").concat(r+o),s+="L ".concat(t,",").concat(r," Z"),s},rV={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},nV=function(t){var r=Pw(Pw({},rV),t),n=O.useRef(),a=O.useState(-1),o=XH(a,2),i=o[0],s=o[1];O.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&s(b)}catch{}},[]);var l=r.x,c=r.y,u=r.upperWidth,d=r.lowerWidth,h=r.height,p=r.className,m=r.animationEasing,v=r.animationDuration,x=r.animationBegin,y=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||d!==+d||h!==+h||u===0&&d===0||h===0)return null;var g=et("recharts-trapezoid",p);return y?C.createElement(pa,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:u,lowerWidth:d,height:h,x:l,y:c},duration:v,animationEasing:m,isActive:y},function(b){var k=b.upperWidth,w=b.lowerWidth,S=b.height,j=b.x,_=b.y;return C.createElement(pa,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:v,easing:m},C.createElement("path",cd({},$e(r,!0),{className:g,d:Nw(j,_,k,w,S),ref:n})))}):C.createElement("g",null,C.createElement("path",cd({},$e(r,!0),{className:g,d:Nw(l,c,u,d,h)})))},aV=["option","shapeType","propTransformer","activeClassName","isActive"];function Bc(e){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bc(e)}function oV(e,t){if(e==null)return{};var r=iV(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function iV(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Aw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ud(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Aw(Object(r),!0).forEach(function(n){sV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Aw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sV(e,t,r){return t=lV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lV(e){var t=cV(e,"string");return Bc(t)=="symbol"?t:t+""}function cV(e,t){if(Bc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uV(e,t){return ud(ud({},t),e)}function fV(e,t){return e==="symbols"}function Mw(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return C.createElement(av,r);case"trapezoid":return C.createElement(nV,r);case"sector":return C.createElement(d_,r);case"symbols":if(fV(t))return C.createElement(uh,r);break;default:return null}}function dV(e){return O.isValidElement(e)?e.props:e}function Ug(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?uV:n,o=e.activeClassName,i=o===void 0?"recharts-active-shape":o,s=e.isActive,l=oV(e,aV),c;if(O.isValidElement(t))c=O.cloneElement(t,ud(ud({},l),dV(t)));else if(Re(t))c=t(l);else if(zH(t)&&!KH(t)){var u=a(t,l);c=C.createElement(Mw,{shapeType:r,elementProps:u})}else{var d=l;c=C.createElement(Mw,{shapeType:r,elementProps:d})}return s?C.createElement(xt,{className:i},c):c}function jh(e,t){return t!=null&&"trapezoids"in e.props}function Oh(e,t){return t!=null&&"sectors"in e.props}function Fc(e,t){return t!=null&&"points"in e.props}function hV(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,o=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&o}function pV(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function gV(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function mV(e,t){var r;return jh(e,t)?r=hV:Oh(e,t)?r=pV:Fc(e,t)&&(r=gV),r}function yV(e,t){var r;return jh(e,t)?r="trapezoids":Oh(e,t)?r="sectors":Fc(e,t)&&(r="points"),r}function vV(e,t){if(jh(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Oh(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Fc(e,t)?t.payload:{}}function xV(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=yV(r,t),o=vV(r,t),i=n.filter(function(l,c){var u=vi(o,l),d=r.props[a].filter(function(m){var v=mV(r,t);return v(m,t)}),h=r.props[a].indexOf(d[d.length-1]),p=c===h;return u&&p}),s=n.indexOf(i[i.length-1]);return s}var bV=Math.ceil,wV=Math.max;function kV(e,t,r,n){for(var a=-1,o=wV(bV((t-e)/(r||1)),0),i=Array(o);o--;)i[n?o:++a]=e,e+=r;return i}var SV=kV,jV=rO,Cw=1/0,OV=17976931348623157e292;function _V(e){if(!e)return e===0?e:0;if(e=jV(e),e===Cw||e===-Cw){var t=e<0?-1:1;return t*OV}return e===e?e:0}var j_=_V,PV=SV,NV=hh,$p=j_;function AV(e){return function(t,r,n){return n&&typeof n!="number"&&NV(t,r,n)&&(r=n=void 0),t=$p(t),r===void 0?(r=t,t=0):r=$p(r),n=n===void 0?t<r?1:-1:$p(n),PV(t,r,n,e)}}var MV=AV,CV=MV,EV=CV(),TV=EV;const fd=Pt(TV);function zc(e){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zc(e)}function Ew(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ew(Object(r),!0).forEach(function(n){O_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ew(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function O_(e,t,r){return t=$V(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $V(e){var t=DV(e,"string");return zc(t)=="symbol"?t:t+""}function DV(e,t){if(zc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LV=["Webkit","Moz","O","ms"],RV=function(t,r){var n=t.replace(/(\w)/,function(o){return o.toUpperCase()}),a=LV.reduce(function(o,i){return Tw(Tw({},o),{},O_({},i+n,r))},{});return a[t]=r,a};function Ns(e){"@babel/helpers - typeof";return Ns=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ns(e)}function dd(){return dd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dd.apply(this,arguments)}function $w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Dp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$w(Object(r),!0).forEach(function(n){On(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$w(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,P_(n.key),n)}}function BV(e,t,r){return t&&Dw(e.prototype,t),r&&Dw(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function FV(e,t,r){return t=hd(t),zV(e,__()?Reflect.construct(t,r||[],hd(e).constructor):t.apply(e,r))}function zV(e,t){if(t&&(Ns(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WV(e)}function WV(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function __(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(__=function(){return!!e})()}function hd(e){return hd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hd(e)}function UV(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gg(e,t)}function Gg(e,t){return Gg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Gg(e,t)}function On(e,t,r){return t=P_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P_(e){var t=GV(e,"string");return Ns(t)=="symbol"?t:t+""}function GV(e,t){if(Ns(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ns(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var HV=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,o=t.x,i=t.width,s=t.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=Wl().domain(fd(0,l)).range([o,o+i-s]),u=c.domain().map(function(d){return c(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(a),scale:c,scaleValues:u}},Lw=function(t){return t.changedTouches&&!!t.changedTouches.length},As=function(e){function t(r){var n;return IV(this,t),n=FV(this,t,[r]),On(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),On(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),On(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,o=a.endIndex,i=a.onDragEnd,s=a.startIndex;i==null||i({endIndex:o,startIndex:s})}),n.detachDragEndListener()}),On(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),On(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),On(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),On(n,"handleSlideDragStart",function(a){var o=Lw(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return UV(t,e),BV(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,o=n.endX,i=this.state.scaleValues,s=this.props,l=s.gap,c=s.data,u=c.length-1,d=Math.min(a,o),h=Math.max(a,o),p=t.getIndexInRange(i,d),m=t.getIndexInRange(i,h);return{startIndex:p-p%l,endIndex:m===u?u:m-m%l}}},{key:"getTextOfTick",value:function(n){var a=this.props,o=a.data,i=a.tickFormatter,s=a.dataKey,l=vr(o[n],s,n);return Re(i)?i(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,o=a.slideMoveStartX,i=a.startX,s=a.endX,l=this.props,c=l.x,u=l.width,d=l.travellerWidth,h=l.startIndex,p=l.endIndex,m=l.onChange,v=n.pageX-o;v>0?v=Math.min(v,c+u-d-s,c+u-d-i):v<0&&(v=Math.max(v,c-i,c-s));var x=this.getIndex({startX:i+v,endX:s+v});(x.startIndex!==h||x.endIndex!==p)&&m&&m(x),this.setState({startX:i+v,endX:s+v,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var o=Lw(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,o=a.brushMoveStartX,i=a.movingTravellerId,s=a.endX,l=a.startX,c=this.state[i],u=this.props,d=u.x,h=u.width,p=u.travellerWidth,m=u.onChange,v=u.gap,x=u.data,y={startX:this.state.startX,endX:this.state.endX},g=n.pageX-o;g>0?g=Math.min(g,d+h-p-c):g<0&&(g=Math.max(g,d-c)),y[i]=c+g;var b=this.getIndex(y),k=b.startIndex,w=b.endIndex,S=function(){var _=x.length-1;return i==="startX"&&(s>l?k%v===0:w%v===0)||s<l&&w===_||i==="endX"&&(s>l?w%v===0:k%v===0)||s>l&&w===_};this.setState(On(On({},i,c+g),"brushMoveStartX",n.pageX),function(){m&&S()&&m(b)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var o=this,i=this.state,s=i.scaleValues,l=i.startX,c=i.endX,u=this.state[a],d=s.indexOf(u);if(d!==-1){var h=d+n;if(!(h===-1||h>=s.length)){var p=s[h];a==="startX"&&p>=c||a==="endX"&&p<=l||this.setState(On({},a,p),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,o=n.y,i=n.width,s=n.height,l=n.fill,c=n.stroke;return C.createElement("rect",{stroke:c,fill:l,x:a,y:o,width:i,height:s})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,o=n.y,i=n.width,s=n.height,l=n.data,c=n.children,u=n.padding,d=O.Children.only(c);return d?C.cloneElement(d,{x:a,y:o,width:i,height:s,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,a){var o,i,s=this,l=this.props,c=l.y,u=l.travellerWidth,d=l.height,h=l.traveller,p=l.ariaLabel,m=l.data,v=l.startIndex,x=l.endIndex,y=Math.max(n,this.props.x),g=Dp(Dp({},$e(this.props,!1)),{},{x:y,y:c,width:u,height:d}),b=p||"Min value: ".concat((o=m[v])===null||o===void 0?void 0:o.name,", Max value: ").concat((i=m[x])===null||i===void 0?void 0:i.name);return C.createElement(xt,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),s.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,a))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,g))}},{key:"renderSlide",value:function(n,a){var o=this.props,i=o.y,s=o.height,l=o.stroke,c=o.travellerWidth,u=Math.min(n,a)+c,d=Math.max(Math.abs(a-n)-c,0);return C.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:i,width:d,height:s})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,o=n.endIndex,i=n.y,s=n.height,l=n.travellerWidth,c=n.stroke,u=this.state,d=u.startX,h=u.endX,p=5,m={pointerEvents:"none",fill:c};return C.createElement(xt,{className:"recharts-brush-texts"},C.createElement(zf,dd({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-p,y:i+s/2},m),this.getTextOfTick(a)),C.createElement(zf,dd({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+l+p,y:i+s/2},m),this.getTextOfTick(o)))}},{key:"render",value:function(){var n=this.props,a=n.data,o=n.className,i=n.children,s=n.x,l=n.y,c=n.width,u=n.height,d=n.alwaysShowText,h=this.state,p=h.startX,m=h.endX,v=h.isTextActive,x=h.isSlideMoving,y=h.isTravellerMoving,g=h.isTravellerFocused;if(!a||!a.length||!se(s)||!se(l)||!se(c)||!se(u)||c<=0||u<=0)return null;var b=et("recharts-brush",o),k=C.Children.count(i)===1,w=RV("userSelect","none");return C.createElement(xt,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),k&&this.renderPanorama(),this.renderSlide(p,m),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(m,"endX"),(v||x||y||g||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,o=n.y,i=n.width,s=n.height,l=n.stroke,c=Math.floor(o+s/2)-1;return C.createElement(C.Fragment,null,C.createElement("rect",{x:a,y:o,width:i,height:s,fill:l,stroke:"none"}),C.createElement("line",{x1:a+1,y1:c,x2:a+i-1,y2:c,fill:"none",stroke:"#fff"}),C.createElement("line",{x1:a+1,y1:c+2,x2:a+i-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var o;return C.isValidElement(n)?o=C.cloneElement(n,a):Re(n)?o=n(a):o=t.renderDefaultTraveller(a),o}},{key:"getDerivedStateFromProps",value:function(n,a){var o=n.data,i=n.width,s=n.x,l=n.travellerWidth,c=n.updateId,u=n.startIndex,d=n.endIndex;if(o!==a.prevData||c!==a.prevUpdateId)return Dp({prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:i},o&&o.length?HV({data:o,width:i,x:s,travellerWidth:l,startIndex:u,endIndex:d}):{scale:null,scaleValues:null});if(a.scale&&(i!==a.prevWidth||s!==a.prevX||l!==a.prevTravellerWidth)){a.scale.range([s,s+i-l]);var h=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:i,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var o=n.length,i=0,s=o-1;s-i>1;){var l=Math.floor((i+s)/2);n[l]>a?s=l:i=l}return a>=n[s]?s:i}}])}(O.PureComponent);On(As,"displayName","Brush");On(As,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var VV=Ay;function KV(e,t){var r;return VV(e,function(n,a,o){return r=t(n,a,o),!r}),!!r}var XV=KV,qV=Aj,YV=Io,QV=XV,ZV=bn,JV=hh;function eK(e,t,r){var n=ZV(e)?qV:QV;return r&&JV(e,t,r)&&(t=void 0),n(e,YV(t))}var tK=eK;const rK=Pt(tK);var Na=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},Rw=Qj;function nK(e,t,r){t=="__proto__"&&Rw?Rw(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var aK=nK,oK=aK,iK=qj,sK=Io;function lK(e,t){var r={};return t=sK(t),iK(e,function(n,a,o){oK(r,a,t(n,a,o))}),r}var cK=lK;const uK=Pt(cK);function fK(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var dK=fK,hK=Ay;function pK(e,t){var r=!0;return hK(e,function(n,a,o){return r=!!t(n,a,o),r}),r}var gK=pK,mK=dK,yK=gK,vK=Io,xK=bn,bK=hh;function wK(e,t,r){var n=xK(e)?mK:yK;return r&&bK(e,t,r)&&(t=void 0),n(e,vK(t))}var kK=wK;const N_=Pt(kK);var SK=["x","y"];function Wc(e){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wc(e)}function Hg(){return Hg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hg.apply(this,arguments)}function Iw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _l(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Iw(Object(r),!0).forEach(function(n){jK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Iw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jK(e,t,r){return t=OK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OK(e){var t=_K(e,"string");return Wc(t)=="symbol"?t:t+""}function _K(e,t){if(Wc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PK(e,t){if(e==null)return{};var r=NK(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function NK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function AK(e,t){var r=e.x,n=e.y,a=PK(e,SK),o="".concat(r),i=parseInt(o,10),s="".concat(n),l=parseInt(s,10),c="".concat(t.height||a.height),u=parseInt(c,10),d="".concat(t.width||a.width),h=parseInt(d,10);return _l(_l(_l(_l(_l({},t),a),i?{x:i}:{}),l?{y:l}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function Bw(e){return C.createElement(Ug,Hg({shapeType:"rectangle",propTransformer:AK,activeClassName:"recharts-active-bar"},e))}var MK=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var o=se(n)||GT(n);return o?t(n,a):(o||bi(),r)}},CK=["value","background"],A_;function Ms(e){"@babel/helpers - typeof";return Ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ms(e)}function EK(e,t){if(e==null)return{};var r=TK(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function TK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function pd(){return pd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pd.apply(this,arguments)}function Fw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fw(Object(r),!0).forEach(function(n){wo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $K(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,C_(n.key),n)}}function DK(e,t,r){return t&&zw(e.prototype,t),r&&zw(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function LK(e,t,r){return t=gd(t),RK(e,M_()?Reflect.construct(t,r||[],gd(e).constructor):t.apply(e,r))}function RK(e,t){if(t&&(Ms(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IK(e)}function IK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M_=function(){return!!e})()}function gd(e){return gd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gd(e)}function BK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vg(e,t)}function Vg(e,t){return Vg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Vg(e,t)}function wo(e,t,r){return t=C_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C_(e){var t=FK(e,"string");return Ms(t)=="symbol"?t:t+""}function FK(e,t){if(Ms(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ms(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var au=function(e){function t(){var r;$K(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=LK(this,t,[].concat(a)),wo(r,"state",{isAnimationFinished:!1}),wo(r,"id",_i("recharts-bar-")),wo(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),i&&i()}),wo(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),i&&i()}),r}return BK(t,e),DK(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,o=this.props,i=o.shape,s=o.dataKey,l=o.activeIndex,c=o.activeBar,u=$e(this.props,!1);return n&&n.map(function(d,h){var p=h===l,m=p?c:i,v=sr(sr(sr({},u),d),{},{isActive:p,option:m,index:h,dataKey:s,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return C.createElement(xt,pd({className:"recharts-bar-rectangle"},fc(a.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(h)}),C.createElement(Bw,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,o=a.data,i=a.layout,s=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,h=this.state.prevData;return C.createElement(pa,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var m=p.t,v=o.map(function(x,y){var g=h&&h[y];if(g){var b=or(g.x,x.x),k=or(g.y,x.y),w=or(g.width,x.width),S=or(g.height,x.height);return sr(sr({},x),{},{x:b(m),y:k(m),width:w(m),height:S(m)})}if(i==="horizontal"){var j=or(0,x.height),_=j(m);return sr(sr({},x),{},{y:x.y+x.height-_,height:_})}var P=or(0,x.width),A=P(m);return sr(sr({},x),{},{width:A})});return C.createElement(xt,null,n.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,o=n.isAnimationActive,i=this.state.prevData;return o&&a&&a.length&&(!i||!vi(i,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,o=a.data,i=a.dataKey,s=a.activeIndex,l=$e(this.props.background,!1);return o.map(function(c,u){c.value;var d=c.background,h=EK(c,CK);if(!d)return null;var p=sr(sr(sr(sr(sr({},h),{},{fill:"#eee"},d),l),fc(n.props,c,u)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:i,index:u,className:"recharts-bar-background-rectangle"});return C.createElement(Bw,pd({key:"background-bar-".concat(u),option:n.props.background,isActive:u===s},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,i=o.data,s=o.xAxis,l=o.yAxis,c=o.layout,u=o.children,d=xn(u,ol);if(!d)return null;var h=c==="vertical"?i[0].height/2:i[0].width/2,p=function(x,y){var g=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:g,errorVal:vr(x,y)}},m={clipPath:n?"url(#clipPath-".concat(a,")"):null};return C.createElement(xt,m,d.map(function(v){return C.cloneElement(v,{key:"error-bar-".concat(a,"-").concat(v.props.dataKey),data:i,xAxis:s,yAxis:l,layout:c,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,o=n.data,i=n.className,s=n.xAxis,l=n.yAxis,c=n.left,u=n.top,d=n.width,h=n.height,p=n.isAnimationActive,m=n.background,v=n.id;if(a||!o||!o.length)return null;var x=this.state.isAnimationFinished,y=et("recharts-bar",i),g=s&&s.allowDataOverflow,b=l&&l.allowDataOverflow,k=g||b,w=Te(v)?this.id:v;return C.createElement(xt,{className:y},g||b?C.createElement("defs",null,C.createElement("clipPath",{id:"clipPath-".concat(w)},C.createElement("rect",{x:g?c:c-d/2,y:b?u:u-h/2,width:g?d:d*2,height:b?h:h*2}))):null,C.createElement(xt,{className:"recharts-bar-rectangles",clipPath:k?"url(#clipPath-".concat(w,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(k,w),(!p||x)&&Pa.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(O.PureComponent);A_=au;wo(au,"displayName","Bar");wo(au,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Bo.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});wo(au,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,o=e.xAxis,i=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,u=e.dataStartIndex,d=e.displayedData,h=e.offset,p=hW(n,r);if(!p)return null;var m=t.layout,v=r.type.defaultProps,x=v!==void 0?sr(sr({},v),r.props):r.props,y=x.dataKey,g=x.children,b=x.minPointSize,k=m==="horizontal"?i:o,w=c?k.scale.domain():null,S=wW({numericAxis:k}),j=xn(g,Ey),_=d.map(function(P,A){var N,M,B,R,$,L;c?N=pW(c[u+A],w):(N=vr(P,y),Array.isArray(N)||(N=[S,N]));var F=MK(b,A_.defaultProps.minPointSize)(N[1],A);if(m==="horizontal"){var D,z=[i.scale(N[0]),i.scale(N[1])],W=z[0],te=z[1];M=U1({axis:o,ticks:s,bandSize:a,offset:p.offset,entry:P,index:A}),B=(D=te??W)!==null&&D!==void 0?D:void 0,R=p.size;var q=W-te;if($=Number.isNaN(q)?0:q,L={x:M,y:i.y,width:R,height:i.height},Math.abs(F)>0&&Math.abs($)<Math.abs(F)){var Z=ua($||F)*(Math.abs(F)-Math.abs($));B-=Z,$+=Z}}else{var U=[o.scale(N[0]),o.scale(N[1])],de=U[0],ne=U[1];if(M=de,B=U1({axis:i,ticks:l,bandSize:a,offset:p.offset,entry:P,index:A}),R=ne-de,$=p.size,L={x:o.x,y:B,width:o.width,height:$},Math.abs(F)>0&&Math.abs(R)<Math.abs(F)){var Me=ua(R||F)*(Math.abs(F)-Math.abs(R));R+=Me}}return sr(sr(sr({},P),{},{x:M,y:B,width:R,height:$,value:c?N:N[1],payload:P,background:L},j&&j[A]&&j[A].props),{},{tooltipPayload:[c_(r,P)],tooltipPosition:{x:M+R/2,y:B+$/2}})});return sr({data:_,layout:m},h)});function Uc(e){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uc(e)}function zK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ww(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,E_(n.key),n)}}function WK(e,t,r){return t&&Ww(e.prototype,t),r&&Ww(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Uw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ia(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Uw(Object(r),!0).forEach(function(n){_h(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _h(e,t,r){return t=E_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E_(e){var t=UK(e,"string");return Uc(t)=="symbol"?t:t+""}function UK(e,t){if(Uc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Uc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ov=function(t,r,n,a,o){var i=t.width,s=t.height,l=t.layout,c=t.children,u=Object.keys(r),d={left:n.left,leftMirror:n.left,right:i-n.right,rightMirror:i-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},h=!!Pn(c,au);return u.reduce(function(p,m){var v=r[m],x=v.orientation,y=v.domain,g=v.padding,b=g===void 0?{}:g,k=v.mirror,w=v.reversed,S="".concat(x).concat(k?"Mirror":""),j,_,P,A,N;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var M=y[1]-y[0],B=1/0,R=v.categoricalDomain.sort(XT);if(R.forEach(function(U,de){de>0&&(B=Math.min((U||0)-(R[de-1]||0),B))}),Number.isFinite(B)){var $=B/M,L=v.layout==="vertical"?n.height:n.width;if(v.padding==="gap"&&(j=$*L/2),v.padding==="no-gap"){var F=yi(t.barCategoryGap,$*L),D=$*L/2;j=D-F-(D-F)/L*F}}}a==="xAxis"?_=[n.left+(b.left||0)+(j||0),n.left+n.width-(b.right||0)-(j||0)]:a==="yAxis"?_=l==="horizontal"?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(j||0),n.top+n.height-(b.bottom||0)-(j||0)]:_=v.range,w&&(_=[_[1],_[0]]);var z=fW(v,o,h),W=z.scale,te=z.realScaleType;W.domain(y).range(_),dW(W);var q=bW(W,ia(ia({},v),{},{realScaleType:te}));a==="xAxis"?(N=x==="top"&&!k||x==="bottom"&&k,P=n.left,A=d[S]-N*v.height):a==="yAxis"&&(N=x==="left"&&!k||x==="right"&&k,P=d[S]-N*v.width,A=n.top);var Z=ia(ia(ia({},v),q),{},{realScaleType:te,x:P,y:A,scale:W,width:a==="xAxis"?n.width:v.width,height:a==="yAxis"?n.height:v.height});return Z.bandSize=td(Z,q),!v.hide&&a==="xAxis"?d[S]+=(N?-1:1)*Z.height:v.hide||(d[S]+=(N?-1:1)*Z.width),ia(ia({},p),{},_h({},m,Z))},{})},T_=function(t,r){var n=t.x,a=t.y,o=r.x,i=r.y;return{x:Math.min(n,o),y:Math.min(a,i),width:Math.abs(o-n),height:Math.abs(i-a)}},GK=function(t){var r=t.x1,n=t.y1,a=t.x2,o=t.y2;return T_({x:r,y:n},{x:a,y:o})},$_=function(){function e(t){zK(this,e),this.scale=t}return WK(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,o=n.position;if(r!==void 0){if(o)switch(o){case"start":return this.scale(r);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(r)+s}default:return this.scale(r)}if(a){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],o=n[n.length-1];return a<=o?r>=a&&r<=o:r>=o&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();_h($_,"EPS",1e-4);var iv=function(t){var r=Object.keys(t).reduce(function(n,a){return ia(ia({},n),{},_h({},a,$_.create(t[a])))},{});return ia(ia({},r),{},{apply:function(a){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=o.bandAware,s=o.position;return uK(a,function(l,c){return r[c].apply(l,{bandAware:i,position:s})})},isInRange:function(a){return N_(a,function(o,i){return r[i].isInRange(o)})}})};function HK(e){return(e%180+180)%180}var VK=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=HK(a),i=o*Math.PI/180,s=Math.atan(n/r),l=i>s&&i<Math.PI-s?n/Math.sin(i):r/Math.cos(i);return Math.abs(l)},KK=Io,XK=Jc,qK=fh;function YK(e){return function(t,r,n){var a=Object(t);if(!XK(t)){var o=KK(r);t=qK(t),r=function(s){return o(a[s],s,a)}}var i=e(t,r,n);return i>-1?a[o?t[i]:i]:void 0}}var QK=YK,ZK=j_;function JK(e){var t=ZK(e),r=t%1;return t===t?r?t-r:t:0}var eX=JK,tX=Uj,rX=Io,nX=eX,aX=Math.max;function oX(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:nX(r);return a<0&&(a=aX(n+a,0)),tX(e,rX(t),a)}var iX=oX,sX=QK,lX=iX,cX=sX(lX),uX=cX;const fX=Pt(uX);var dX=YE(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),sv=O.createContext(void 0),lv=O.createContext(void 0),D_=O.createContext(void 0),L_=O.createContext({}),R_=O.createContext(void 0),I_=O.createContext(0),B_=O.createContext(0),Gw=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,o=r.offset,i=t.clipPathId,s=t.children,l=t.width,c=t.height,u=dX(o);return C.createElement(sv.Provider,{value:n},C.createElement(lv.Provider,{value:a},C.createElement(L_.Provider,{value:o},C.createElement(D_.Provider,{value:u},C.createElement(R_.Provider,{value:i},C.createElement(I_.Provider,{value:c},C.createElement(B_.Provider,{value:l},s)))))))},hX=function(){return O.useContext(R_)},F_=function(t){var r=O.useContext(sv);r==null&&bi();var n=r[t];return n==null&&bi(),n},pX=function(){var t=O.useContext(sv);return yo(t)},gX=function(){var t=O.useContext(lv),r=fX(t,function(n){return N_(n.domain,Number.isFinite)});return r||yo(t)},z_=function(t){var r=O.useContext(lv);r==null&&bi();var n=r[t];return n==null&&bi(),n},mX=function(){var t=O.useContext(D_);return t},yX=function(){return O.useContext(L_)},cv=function(){return O.useContext(B_)},uv=function(){return O.useContext(I_)};function Cs(e){"@babel/helpers - typeof";return Cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cs(e)}function vX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,U_(n.key),n)}}function bX(e,t,r){return t&&xX(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function wX(e,t,r){return t=md(t),kX(e,W_()?Reflect.construct(t,r||[],md(e).constructor):t.apply(e,r))}function kX(e,t){if(t&&(Cs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SX(e)}function SX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function W_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(W_=function(){return!!e})()}function md(e){return md=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},md(e)}function jX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kg(e,t)}function Kg(e,t){return Kg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Kg(e,t)}function Hw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hw(Object(r),!0).forEach(function(n){fv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fv(e,t,r){return t=U_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U_(e){var t=OX(e,"string");return Cs(t)=="symbol"?t:t+""}function OX(e,t){if(Cs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function _X(e,t){return MX(e)||AX(e,t)||NX(e,t)||PX()}function PX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NX(e,t){if(e){if(typeof e=="string")return Kw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Kw(e,t)}}function Kw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function AX(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function MX(e){if(Array.isArray(e))return e}function Xg(){return Xg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xg.apply(this,arguments)}var CX=function(t,r){var n;return C.isValidElement(t)?n=C.cloneElement(t,r):Re(t)?n=t(r):n=C.createElement("line",Xg({},r,{className:"recharts-reference-line-line"})),n},EX=function(t,r,n,a,o,i,s,l,c){var u=o.x,d=o.y,h=o.width,p=o.height;if(n){var m=c.y,v=t.y.apply(m,{position:i});if(Na(c,"discard")&&!t.y.isInRange(v))return null;var x=[{x:u+h,y:v},{x:u,y:v}];return l==="left"?x.reverse():x}if(r){var y=c.x,g=t.x.apply(y,{position:i});if(Na(c,"discard")&&!t.x.isInRange(g))return null;var b=[{x:g,y:d+p},{x:g,y:d}];return s==="top"?b.reverse():b}if(a){var k=c.segment,w=k.map(function(S){return t.apply(S,{position:i})});return Na(c,"discard")&&rK(w,function(S){return!t.isInRange(S)})?null:w}return null};function TX(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,o=e.yAxisId,i=e.shape,s=e.className,l=e.alwaysShow,c=hX(),u=F_(a),d=z_(o),h=mX();if(!c||!h)return null;Ha(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=iv({x:u.scale,y:d.scale}),m=yr(t),v=yr(r),x=n&&n.length===2,y=EX(p,m,v,x,h,e.position,u.orientation,d.orientation,e);if(!y)return null;var g=_X(y,2),b=g[0],k=b.x,w=b.y,S=g[1],j=S.x,_=S.y,P=Na(e,"hidden")?"url(#".concat(c,")"):void 0,A=Vw(Vw({clipPath:P},$e(e,!0)),{},{x1:k,y1:w,x2:j,y2:_});return C.createElement(xt,{className:et("recharts-reference-line",s)},CX(i,A),Kr.renderCallByParent(e,GK({x1:k,y1:w,x2:j,y2:_})))}var ri=function(e){function t(){return vX(this,t),wX(this,t,arguments)}return jX(t,e),bX(t,[{key:"render",value:function(){return C.createElement(TX,this.props)}}])}(C.Component);fv(ri,"displayName","ReferenceLine");fv(ri,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function qg(){return qg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qg.apply(this,arguments)}function Es(e){"@babel/helpers - typeof";return Es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Es(e)}function Xw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xw(Object(r),!0).forEach(function(n){Ph(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $X(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,H_(n.key),n)}}function LX(e,t,r){return t&&DX(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function RX(e,t,r){return t=yd(t),IX(e,G_()?Reflect.construct(t,r||[],yd(e).constructor):t.apply(e,r))}function IX(e,t){if(t&&(Es(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BX(e)}function BX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(G_=function(){return!!e})()}function yd(e){return yd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yd(e)}function FX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yg(e,t)}function Yg(e,t){return Yg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Yg(e,t)}function Ph(e,t,r){return t=H_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H_(e){var t=zX(e,"string");return Es(t)=="symbol"?t:t+""}function zX(e,t){if(Es(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Es(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var WX=function(t){var r=t.x,n=t.y,a=t.xAxis,o=t.yAxis,i=iv({x:a.scale,y:o.scale}),s=i.apply({x:r,y:n},{bandAware:!0});return Na(t,"discard")&&!i.isInRange(s)?null:s},Nh=function(e){function t(){return $X(this,t),RX(this,t,arguments)}return FX(t,e),LX(t,[{key:"render",value:function(){var n=this.props,a=n.x,o=n.y,i=n.r,s=n.alwaysShow,l=n.clipPathId,c=yr(a),u=yr(o);if(Ha(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var d=WX(this.props);if(!d)return null;var h=d.x,p=d.y,m=this.props,v=m.shape,x=m.className,y=Na(this.props,"hidden")?"url(#".concat(l,")"):void 0,g=qw(qw({clipPath:y},$e(this.props,!0)),{},{cx:h,cy:p});return C.createElement(xt,{className:et("recharts-reference-dot",x)},t.renderDot(v,g),Kr.renderCallByParent(this.props,{x:h-i,y:p-i,width:2*i,height:2*i}))}}])}(C.Component);Ph(Nh,"displayName","ReferenceDot");Ph(Nh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Ph(Nh,"renderDot",function(e,t){var r;return C.isValidElement(e)?r=C.cloneElement(e,t):Re(e)?r=e(t):r=C.createElement(Sh,qg({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function Qg(){return Qg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qg.apply(this,arguments)}function Ts(e){"@babel/helpers - typeof";return Ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ts(e)}function Yw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yw(Object(r),!0).forEach(function(n){Ah(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,K_(n.key),n)}}function HX(e,t,r){return t&&GX(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function VX(e,t,r){return t=vd(t),KX(e,V_()?Reflect.construct(t,r||[],vd(e).constructor):t.apply(e,r))}function KX(e,t){if(t&&(Ts(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XX(e)}function XX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V_=function(){return!!e})()}function vd(e){return vd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vd(e)}function qX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zg(e,t)}function Zg(e,t){return Zg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Zg(e,t)}function Ah(e,t,r){return t=K_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K_(e){var t=YX(e,"string");return Ts(t)=="symbol"?t:t+""}function YX(e,t){if(Ts(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ts(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var QX=function(t,r,n,a,o){var i=o.x1,s=o.x2,l=o.y1,c=o.y2,u=o.xAxis,d=o.yAxis;if(!u||!d)return null;var h=iv({x:u.scale,y:d.scale}),p={x:t?h.x.apply(i,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},m={x:r?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(c,{position:"end"}):h.y.rangeMax};return Na(o,"discard")&&(!h.isInRange(p)||!h.isInRange(m))?null:T_(p,m)},ou=function(e){function t(){return UX(this,t),VX(this,t,arguments)}return qX(t,e),HX(t,[{key:"render",value:function(){var n=this.props,a=n.x1,o=n.x2,i=n.y1,s=n.y2,l=n.className,c=n.alwaysShow,u=n.clipPathId;Ha(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=yr(a),h=yr(o),p=yr(i),m=yr(s),v=this.props.shape;if(!d&&!h&&!p&&!m&&!v)return null;var x=QX(d,h,p,m,this.props);if(!x&&!v)return null;var y=Na(this.props,"hidden")?"url(#".concat(u,")"):void 0;return C.createElement(xt,{className:et("recharts-reference-area",l)},t.renderRect(v,Qw(Qw({clipPath:y},$e(this.props,!0)),x)),Kr.renderCallByParent(this.props,x))}}])}(C.Component);Ah(ou,"displayName","ReferenceArea");Ah(ou,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Ah(ou,"renderRect",function(e,t){var r;return C.isValidElement(e)?r=C.cloneElement(e,t):Re(e)?r=e(t):r=C.createElement(av,Qg({},t,{className:"recharts-reference-area-rect"})),r});function X_(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function ZX(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return VK(n,r)}function JX(e,t,r){var n=r==="width",a=e.x,o=e.y,i=e.width,s=e.height;return t===1?{start:n?a:o,end:n?a+i:o+s}:{start:n?a+i:o+s,end:n?a:o}}function xd(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var o=r();return e*(t-e*o/2-n)>=0&&e*(t+e*o/2-a)<=0}function eq(e,t){return X_(e,t+1)}function tq(e,t,r,n,a){for(var o=(n||[]).slice(),i=t.start,s=t.end,l=0,c=1,u=i,d=function(){var m=n==null?void 0:n[l];if(m===void 0)return{v:X_(n,c)};var v=l,x,y=function(){return x===void 0&&(x=r(m,v)),x},g=m.coordinate,b=l===0||xd(e,g,y,u,s);b||(l=0,u=i,c+=1),b&&(u=g+e*(y()/2+a),l+=c)},h;c<=o.length;)if(h=d(),h)return h.v;return[]}function Gc(e){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gc(e)}function Zw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zw(Object(r),!0).forEach(function(n){rq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rq(e,t,r){return t=nq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nq(e){var t=aq(e,"string");return Gc(t)=="symbol"?t:t+""}function aq(e,t){if(Gc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oq(e,t,r,n,a){for(var o=(n||[]).slice(),i=o.length,s=t.start,l=t.end,c=function(h){var p=o[h],m,v=function(){return m===void 0&&(m=r(p,h)),m};if(h===i-1){var x=e*(p.coordinate+e*v()/2-l);o[h]=p=Hr(Hr({},p),{},{tickCoord:x>0?p.coordinate-x*e:p.coordinate})}else o[h]=p=Hr(Hr({},p),{},{tickCoord:p.coordinate});var y=xd(e,p.tickCoord,v,s,l);y&&(l=p.tickCoord-e*(v()/2+a),o[h]=Hr(Hr({},p),{},{isShow:!0}))},u=i-1;u>=0;u--)c(u);return o}function iq(e,t,r,n,a,o){var i=(n||[]).slice(),s=i.length,l=t.start,c=t.end;if(o){var u=n[s-1],d=r(u,s-1),h=e*(u.coordinate+e*d/2-c);i[s-1]=u=Hr(Hr({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate});var p=xd(e,u.tickCoord,function(){return d},l,c);p&&(c=u.tickCoord-e*(d/2+a),i[s-1]=Hr(Hr({},u),{},{isShow:!0}))}for(var m=o?s-1:s,v=function(g){var b=i[g],k,w=function(){return k===void 0&&(k=r(b,g)),k};if(g===0){var S=e*(b.coordinate-e*w()/2-l);i[g]=b=Hr(Hr({},b),{},{tickCoord:S<0?b.coordinate-S*e:b.coordinate})}else i[g]=b=Hr(Hr({},b),{},{tickCoord:b.coordinate});var j=xd(e,b.tickCoord,w,l,c);j&&(l=b.tickCoord+e*(w()/2+a),i[g]=Hr(Hr({},b),{},{isShow:!0}))},x=0;x<m;x++)v(x);return i}function dv(e,t,r){var n=e.tick,a=e.ticks,o=e.viewBox,i=e.minTickGap,s=e.orientation,l=e.interval,c=e.tickFormatter,u=e.unit,d=e.angle;if(!a||!a.length||!n)return[];if(se(l)||Bo.isSsr)return eq(a,typeof l=="number"&&se(l)?l:0);var h=[],p=s==="top"||s==="bottom"?"width":"height",m=u&&p==="width"?zl(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},v=function(b,k){var w=Re(c)?c(b.value,k):b.value;return p==="width"?ZX(zl(w,{fontSize:t,letterSpacing:r}),m,d):zl(w,{fontSize:t,letterSpacing:r})[p]},x=a.length>=2?ua(a[1].coordinate-a[0].coordinate):1,y=JX(o,x,p);return l==="equidistantPreserveStart"?tq(x,y,v,a,i):(l==="preserveStart"||l==="preserveStartEnd"?h=iq(x,y,v,a,i,l==="preserveStartEnd"):h=oq(x,y,v,a,i),h.filter(function(g){return g.isShow}))}var sq=["viewBox"],lq=["viewBox"],cq=["ticks"];function $s(e){"@babel/helpers - typeof";return $s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$s(e)}function Zi(){return Zi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zi.apply(this,arguments)}function Jw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jw(Object(r),!0).forEach(function(n){hv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lp(e,t){if(e==null)return{};var r=uq(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function uq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function fq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function e2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Y_(n.key),n)}}function dq(e,t,r){return t&&e2(e.prototype,t),r&&e2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function hq(e,t,r){return t=bd(t),pq(e,q_()?Reflect.construct(t,r||[],bd(e).constructor):t.apply(e,r))}function pq(e,t){if(t&&($s(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gq(e)}function gq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q_=function(){return!!e})()}function bd(e){return bd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bd(e)}function mq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jg(e,t)}function Jg(e,t){return Jg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Jg(e,t)}function hv(e,t,r){return t=Y_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y_(e){var t=yq(e,"string");return $s(t)=="symbol"?t:t+""}function yq(e,t){if($s(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($s(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var il=function(e){function t(r){var n;return fq(this,t),n=hq(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return mq(t,e),dq(t,[{key:"shouldComponentUpdate",value:function(n,a){var o=n.viewBox,i=Lp(n,sq),s=this.props,l=s.viewBox,c=Lp(s,lq);return!is(o,l)||!is(i,c)||!is(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,o=a.x,i=a.y,s=a.width,l=a.height,c=a.orientation,u=a.tickSize,d=a.mirror,h=a.tickMargin,p,m,v,x,y,g,b=d?-1:1,k=n.tickSize||u,w=se(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":p=m=n.coordinate,x=i+ +!d*l,v=x-b*k,g=v-b*h,y=w;break;case"left":v=x=n.coordinate,m=o+ +!d*s,p=m-b*k,y=p-b*h,g=w;break;case"right":v=x=n.coordinate,m=o+ +d*s,p=m+b*k,y=p+b*h,g=w;break;default:p=m=n.coordinate,x=i+ +d*l,v=x+b*k,g=v+b*h,y=w;break}return{line:{x1:p,y1:v,x2:m,y2:x},tick:{x:y,y:g}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,o=n.mirror,i;switch(a){case"left":i=o?"start":"end";break;case"right":i=o?"end":"start";break;default:i="middle";break}return i}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,o=n.mirror,i="end";switch(a){case"left":case"right":i="middle";break;case"top":i=o?"start":"end";break;default:i=o?"end":"start";break}return i}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,o=n.y,i=n.width,s=n.height,l=n.orientation,c=n.mirror,u=n.axisLine,d=hr(hr(hr({},$e(this.props,!1)),$e(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);d=hr(hr({},d),{},{x1:a,y1:o+h*s,x2:a+i,y2:o+h*s})}else{var p=+(l==="left"&&!c||l==="right"&&c);d=hr(hr({},d),{},{x1:a+p*i,y1:o,x2:a+p*i,y2:o+s})}return C.createElement("line",Zi({},d,{className:et("recharts-cartesian-axis-line",Kn(u,"className"))}))}},{key:"renderTicks",value:function(n,a,o){var i=this,s=this.props,l=s.tickLine,c=s.stroke,u=s.tick,d=s.tickFormatter,h=s.unit,p=dv(hr(hr({},this.props),{},{ticks:n}),a,o),m=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),x=$e(this.props,!1),y=$e(u,!1),g=hr(hr({},x),{},{fill:"none"},$e(l,!1)),b=p.map(function(k,w){var S=i.getTickLineCoord(k),j=S.line,_=S.tick,P=hr(hr(hr(hr({textAnchor:m,verticalAnchor:v},x),{},{stroke:"none",fill:c},y),_),{},{index:w,payload:k,visibleTicksCount:p.length,tickFormatter:d});return C.createElement(xt,Zi({className:"recharts-cartesian-axis-tick",key:"tick-".concat(k.value,"-").concat(k.coordinate,"-").concat(k.tickCoord)},fc(i.props,k,w)),l&&C.createElement("line",Zi({},g,j,{className:et("recharts-cartesian-axis-tick-line",Kn(l,"className"))})),u&&t.renderTickItem(u,P,"".concat(Re(d)?d(k.value,w):k.value).concat(h||"")))});return C.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var n=this,a=this.props,o=a.axisLine,i=a.width,s=a.height,l=a.ticksGenerator,c=a.className,u=a.hide;if(u)return null;var d=this.props,h=d.ticks,p=Lp(d,cq),m=h;return Re(l)&&(m=h&&h.length>0?l(this.props):l(p)),i<=0||s<=0||!m||!m.length?null:C.createElement(xt,{className:et("recharts-cartesian-axis",c),ref:function(x){n.layerReference=x}},o&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),Kr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,o){var i,s=et(a.className,"recharts-cartesian-axis-tick-value");return C.isValidElement(n)?i=C.cloneElement(n,hr(hr({},a),{},{className:s})):Re(n)?i=n(hr(hr({},a),{},{className:s})):i=C.createElement(zf,Zi({},a,{className:"recharts-cartesian-axis-tick-value"}),o),i}}])}(O.Component);hv(il,"displayName","CartesianAxis");hv(il,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var vq=["x1","y1","x2","y2","key"],xq=["offset"];function wi(e){"@babel/helpers - typeof";return wi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wi(e)}function t2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t2(Object(r),!0).forEach(function(n){bq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bq(e,t,r){return t=wq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wq(e){var t=kq(e,"string");return wi(t)=="symbol"?t:t+""}function kq(e,t){if(wi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ni(){return ni=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ni.apply(this,arguments)}function r2(e,t){if(e==null)return{};var r=Sq(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Sq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var jq=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,o=t.y,i=t.width,s=t.height,l=t.ry;return C.createElement("rect",{x:a,y:o,ry:l,width:i,height:s,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function Q_(e,t){var r;if(C.isValidElement(e))r=C.cloneElement(e,t);else if(Re(e))r=e(t);else{var n=t.x1,a=t.y1,o=t.x2,i=t.y2,s=t.key,l=r2(t,vq),c=$e(l,!1);c.offset;var u=r2(c,xq);r=C.createElement("line",ni({},u,{x1:n,y1:a,x2:o,y2:i,fill:"none",key:s}))}return r}function Oq(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,o=e.horizontalPoints;if(!a||!o||!o.length)return null;var i=o.map(function(s,l){var c=Xr(Xr({},e),{},{x1:t,y1:s,x2:t+r,y2:s,key:"line-".concat(l),index:l});return Q_(a,c)});return C.createElement("g",{className:"recharts-cartesian-grid-horizontal"},i)}function _q(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,o=e.verticalPoints;if(!a||!o||!o.length)return null;var i=o.map(function(s,l){var c=Xr(Xr({},e),{},{x1:s,y1:t,x2:s,y2:t+r,key:"line-".concat(l),index:l});return Q_(a,c)});return C.createElement("g",{className:"recharts-cartesian-grid-vertical"},i)}function Pq(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,o=e.width,i=e.height,s=e.horizontalPoints,l=e.horizontal,c=l===void 0?!0:l;if(!c||!t||!t.length)return null;var u=s.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==u[0]&&u.unshift(0);var d=u.map(function(h,p){var m=!u[p+1],v=m?a+i-h:u[p+1]-h;if(v<=0)return null;var x=p%t.length;return C.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:v,width:o,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return C.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Nq(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,o=e.x,i=e.y,s=e.width,l=e.height,c=e.verticalPoints;if(!r||!n||!n.length)return null;var u=c.map(function(h){return Math.round(h+o-o)}).sort(function(h,p){return h-p});o!==u[0]&&u.unshift(0);var d=u.map(function(h,p){var m=!u[p+1],v=m?o+s-h:u[p+1]-h;if(v<=0)return null;var x=p%n.length;return C.createElement("rect",{key:"react-".concat(p),x:h,y:i,width:v,height:l,stroke:"none",fill:n[x],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return C.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var Aq=function(t,r){var n=t.xAxis,a=t.width,o=t.height,i=t.offset;return s_(dv(Xr(Xr(Xr({},il.defaultProps),n),{},{ticks:Wa(n,!0),viewBox:{x:0,y:0,width:a,height:o}})),i.left,i.left+i.width,r)},Mq=function(t,r){var n=t.yAxis,a=t.width,o=t.height,i=t.offset;return s_(dv(Xr(Xr(Xr({},il.defaultProps),n),{},{ticks:Wa(n,!0),viewBox:{x:0,y:0,width:a,height:o}})),i.top,i.top+i.height,r)},Li={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function ki(e){var t,r,n,a,o,i,s=cv(),l=uv(),c=yX(),u=Xr(Xr({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Li.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Li.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Li.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Li.horizontalFill,vertical:(o=e.vertical)!==null&&o!==void 0?o:Li.vertical,verticalFill:(i=e.verticalFill)!==null&&i!==void 0?i:Li.verticalFill,x:se(e.x)?e.x:c.left,y:se(e.y)?e.y:c.top,width:se(e.width)?e.width:c.width,height:se(e.height)?e.height:c.height}),d=u.x,h=u.y,p=u.width,m=u.height,v=u.syncWithTicks,x=u.horizontalValues,y=u.verticalValues,g=pX(),b=gX();if(!se(p)||p<=0||!se(m)||m<=0||!se(d)||d!==+d||!se(h)||h!==+h)return null;var k=u.verticalCoordinatesGenerator||Aq,w=u.horizontalCoordinatesGenerator||Mq,S=u.horizontalPoints,j=u.verticalPoints;if((!S||!S.length)&&Re(w)){var _=x&&x.length,P=w({yAxis:b?Xr(Xr({},b),{},{ticks:_?x:b.ticks}):void 0,width:s,height:l,offset:c},_?!0:v);Ha(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(wi(P),"]")),Array.isArray(P)&&(S=P)}if((!j||!j.length)&&Re(k)){var A=y&&y.length,N=k({xAxis:g?Xr(Xr({},g),{},{ticks:A?y:g.ticks}):void 0,width:s,height:l,offset:c},A?!0:v);Ha(Array.isArray(N),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(wi(N),"]")),Array.isArray(N)&&(j=N)}return C.createElement("g",{className:"recharts-cartesian-grid"},C.createElement(jq,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),C.createElement(Oq,ni({},u,{offset:c,horizontalPoints:S,xAxis:g,yAxis:b})),C.createElement(_q,ni({},u,{offset:c,verticalPoints:j,xAxis:g,yAxis:b})),C.createElement(Pq,ni({},u,{horizontalPoints:S})),C.createElement(Nq,ni({},u,{verticalPoints:j})))}ki.displayName="CartesianGrid";var Cq=["type","layout","connectNulls","ref"],Eq=["key"];function Ds(e){"@babel/helpers - typeof";return Ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ds(e)}function n2(e,t){if(e==null)return{};var r=Tq(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Tq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Hl(){return Hl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hl.apply(this,arguments)}function a2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a2(Object(r),!0).forEach(function(n){sa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ri(e){return Rq(e)||Lq(e)||Dq(e)||$q()}function $q(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dq(e,t){if(e){if(typeof e=="string")return em(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return em(e,t)}}function Lq(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Rq(e){if(Array.isArray(e))return em(e)}function em(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Iq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,J_(n.key),n)}}function Bq(e,t,r){return t&&o2(e.prototype,t),r&&o2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fq(e,t,r){return t=wd(t),zq(e,Z_()?Reflect.construct(t,r||[],wd(e).constructor):t.apply(e,r))}function zq(e,t){if(t&&(Ds(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wq(e)}function Wq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Z_=function(){return!!e})()}function wd(e){return wd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wd(e)}function Uq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tm(e,t)}function tm(e,t){return tm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},tm(e,t)}function sa(e,t,r){return t=J_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J_(e){var t=Gq(e,"string");return Ds(t)=="symbol"?t:t+""}function Gq(e,t){if(Ds(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ds(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var qr=function(e){function t(){var r;Iq(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=Fq(this,t,[].concat(a)),sa(r,"state",{isAnimationFinished:!0,totalLength:0}),sa(r,"generateSimpleStrokeDasharray",function(i,s){return"".concat(s,"px ").concat(i-s,"px")}),sa(r,"getStrokeDasharray",function(i,s,l){var c=l.reduce(function(y,g){return y+g});if(!c)return r.generateSimpleStrokeDasharray(s,i);for(var u=Math.floor(i/c),d=i%c,h=s-i,p=[],m=0,v=0;m<l.length;v+=l[m],++m)if(v+l[m]>d){p=[].concat(Ri(l.slice(0,m)),[d-v]);break}var x=p.length%2===0?[0,h]:[h];return[].concat(Ri(t.repeat(l,u)),Ri(p),x).map(function(y){return"".concat(y,"px")}).join(", ")}),sa(r,"id",_i("recharts-line-")),sa(r,"pathRef",function(i){r.mainCurve=i}),sa(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),sa(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return Uq(t,e),Bq(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,i=o.points,s=o.xAxis,l=o.yAxis,c=o.layout,u=o.children,d=xn(u,ol);if(!d)return null;var h=function(v,x){return{x:v.x,y:v.y,value:v.value,errorVal:vr(v.payload,x)}},p={clipPath:n?"url(#clipPath-".concat(a,")"):null};return C.createElement(xt,p,d.map(function(m){return C.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:i,xAxis:s,yAxis:l,layout:c,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,o){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,c=s.points,u=s.dataKey,d=$e(this.props,!1),h=$e(l,!0),p=c.map(function(v,x){var y=jn(jn(jn({key:"dot-".concat(x),r:3},d),h),{},{index:x,cx:v.x,cy:v.y,value:v.value,dataKey:u,payload:v.payload,points:c});return t.renderDotItem(l,y)}),m={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(o,")"):null};return C.createElement(xt,Hl({className:"recharts-line-dots",key:"dots"},m),p)}},{key:"renderCurveStatically",value:function(n,a,o,i){var s=this.props,l=s.type,c=s.layout,u=s.connectNulls;s.ref;var d=n2(s,Cq),h=jn(jn(jn({},$e(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(o,")"):null,points:n},i),{},{type:l,layout:c,connectNulls:u});return C.createElement(ui,Hl({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var o=this,i=this.props,s=i.points,l=i.strokeDasharray,c=i.isAnimationActive,u=i.animationBegin,d=i.animationDuration,h=i.animationEasing,p=i.animationId,m=i.animateNewValues,v=i.width,x=i.height,y=this.state,g=y.prevPoints,b=y.totalLength;return C.createElement(pa,{begin:u,duration:d,isActive:c,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(k){var w=k.t;if(g){var S=g.length/s.length,j=s.map(function(M,B){var R=Math.floor(B*S);if(g[R]){var $=g[R],L=or($.x,M.x),F=or($.y,M.y);return jn(jn({},M),{},{x:L(w),y:F(w)})}if(m){var D=or(v*2,M.x),z=or(x/2,M.y);return jn(jn({},M),{},{x:D(w),y:z(w)})}return jn(jn({},M),{},{x:M.x,y:M.y})});return o.renderCurveStatically(j,n,a)}var _=or(0,b),P=_(w),A;if(l){var N="".concat(l).split(/[,\s]+/gim).map(function(M){return parseFloat(M)});A=o.getStrokeDasharray(P,b,N)}else A=o.generateSimpleStrokeDasharray(b,P);return o.renderCurveStatically(s,n,a,{strokeDasharray:A})})}},{key:"renderCurve",value:function(n,a){var o=this.props,i=o.points,s=o.isAnimationActive,l=this.state,c=l.prevPoints,u=l.totalLength;return s&&i&&i.length&&(!c&&u>0||!vi(c,i))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(i,n,a)}},{key:"render",value:function(){var n,a=this.props,o=a.hide,i=a.dot,s=a.points,l=a.className,c=a.xAxis,u=a.yAxis,d=a.top,h=a.left,p=a.width,m=a.height,v=a.isAnimationActive,x=a.id;if(o||!s||!s.length)return null;var y=this.state.isAnimationFinished,g=s.length===1,b=et("recharts-line",l),k=c&&c.allowDataOverflow,w=u&&u.allowDataOverflow,S=k||w,j=Te(x)?this.id:x,_=(n=$e(i,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},P=_.r,A=P===void 0?3:P,N=_.strokeWidth,M=N===void 0?2:N,B=ej(i)?i:{},R=B.clipDot,$=R===void 0?!0:R,L=A*2+M;return C.createElement(xt,{className:b},k||w?C.createElement("defs",null,C.createElement("clipPath",{id:"clipPath-".concat(j)},C.createElement("rect",{x:k?h:h-p/2,y:w?d:d-m/2,width:k?p:p*2,height:w?m:m*2})),!$&&C.createElement("clipPath",{id:"clipPath-dots-".concat(j)},C.createElement("rect",{x:h-L/2,y:d-L/2,width:p+L,height:m+L}))):null,!g&&this.renderCurve(S,j),this.renderErrorBar(S,j),(g||i)&&this.renderDots(S,$,j),(!v||y)&&Pa.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var o=n.length%2!==0?[].concat(Ri(n),[0]):n,i=[],s=0;s<a;++s)i=[].concat(Ri(i),Ri(o));return i}},{key:"renderDotItem",value:function(n,a){var o;if(C.isValidElement(n))o=C.cloneElement(n,a);else if(Re(n))o=n(a);else{var i=a.key,s=n2(a,Eq),l=et("recharts-line-dot",typeof n!="boolean"?n.className:"");o=C.createElement(Sh,Hl({key:i},s,{className:l}))}return o}}])}(O.PureComponent);sa(qr,"displayName","Line");sa(qr,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Bo.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});sa(qr,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,o=e.yAxisTicks,i=e.dataKey,s=e.bandSize,l=e.displayedData,c=e.offset,u=t.layout,d=l.map(function(h,p){var m=vr(h,i);return u==="horizontal"?{x:_s({axis:r,ticks:a,bandSize:s,entry:h,index:p}),y:Te(m)?null:n.scale(m),value:m,payload:h}:{x:Te(m)?null:r.scale(m),y:_s({axis:n,ticks:o,bandSize:s,entry:h,index:p}),value:m,payload:h}});return jn({points:d,layout:u},c)});var Hq=["layout","type","stroke","connectNulls","isRange","ref"],Vq=["key"],eP;function Ls(e){"@babel/helpers - typeof";return Ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ls(e)}function tP(e,t){if(e==null)return{};var r=Kq(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Kq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ai(){return ai=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ai.apply(this,arguments)}function i2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i2(Object(r),!0).forEach(function(n){Sa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nP(n.key),n)}}function qq(e,t,r){return t&&s2(e.prototype,t),r&&s2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yq(e,t,r){return t=kd(t),Qq(e,rP()?Reflect.construct(t,r||[],kd(e).constructor):t.apply(e,r))}function Qq(e,t){if(t&&(Ls(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zq(e)}function Zq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rP=function(){return!!e})()}function kd(e){return kd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kd(e)}function Jq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rm(e,t)}function rm(e,t){return rm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},rm(e,t)}function Sa(e,t,r){return t=nP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nP(e){var t=eY(e,"string");return Ls(t)=="symbol"?t:t+""}function eY(e,t){if(Ls(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ls(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Hn=function(e){function t(){var r;Xq(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=Yq(this,t,[].concat(a)),Sa(r,"state",{isAnimationFinished:!0}),Sa(r,"id",_i("recharts-area-")),Sa(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Re(i)&&i()}),Sa(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Re(i)&&i()}),r}return Jq(t,e),qq(t,[{key:"renderDots",value:function(n,a,o){var i=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(i&&!s)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,h=$e(this.props,!1),p=$e(c,!0),m=u.map(function(x,y){var g=uo(uo(uo({key:"dot-".concat(y),r:3},h),p),{},{index:y,cx:x.x,cy:x.y,dataKey:d,value:x.value,payload:x.payload,points:u});return t.renderDotItem(c,g)}),v={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(o,")"):null};return C.createElement(xt,ai({className:"recharts-area-dots"},v),m)}},{key:"renderHorizontalRect",value:function(n){var a=this.props,o=a.baseLine,i=a.points,s=a.strokeWidth,l=i[0].x,c=i[i.length-1].x,u=n*Math.abs(l-c),d=bo(i.map(function(h){return h.y||0}));return se(o)&&typeof o=="number"?d=Math.max(o,d):o&&Array.isArray(o)&&o.length&&(d=Math.max(bo(o.map(function(h){return h.y||0})),d)),se(d)?C.createElement("rect",{x:l<c?l:l-u,y:0,width:u,height:Math.floor(d+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,o=a.baseLine,i=a.points,s=a.strokeWidth,l=i[0].y,c=i[i.length-1].y,u=n*Math.abs(l-c),d=bo(i.map(function(h){return h.x||0}));return se(o)&&typeof o=="number"?d=Math.max(o,d):o&&Array.isArray(o)&&o.length&&(d=Math.max(bo(o.map(function(h){return h.x||0})),d)),se(d)?C.createElement("rect",{x:0,y:l<c?l:l-u,width:d+(s?parseInt("".concat(s),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,o,i){var s=this.props,l=s.layout,c=s.type,u=s.stroke,d=s.connectNulls,h=s.isRange;s.ref;var p=tP(s,Hq);return C.createElement(xt,{clipPath:o?"url(#clipPath-".concat(i,")"):null},C.createElement(ui,ai({},$e(p,!0),{points:n,connectNulls:d,type:c,baseLine:a,layout:l,stroke:"none",className:"recharts-area-area"})),u!=="none"&&C.createElement(ui,ai({},$e(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:n})),u!=="none"&&h&&C.createElement(ui,ai({},$e(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(n,a){var o=this,i=this.props,s=i.points,l=i.baseLine,c=i.isAnimationActive,u=i.animationBegin,d=i.animationDuration,h=i.animationEasing,p=i.animationId,m=this.state,v=m.prevPoints,x=m.prevBaseLine;return C.createElement(pa,{begin:u,duration:d,isActive:c,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var g=y.t;if(v){var b=v.length/s.length,k=s.map(function(_,P){var A=Math.floor(P*b);if(v[A]){var N=v[A],M=or(N.x,_.x),B=or(N.y,_.y);return uo(uo({},_),{},{x:M(g),y:B(g)})}return _}),w;if(se(l)&&typeof l=="number"){var S=or(x,l);w=S(g)}else if(Te(l)||Zs(l)){var j=or(x,0);w=j(g)}else w=l.map(function(_,P){var A=Math.floor(P*b);if(x[A]){var N=x[A],M=or(N.x,_.x),B=or(N.y,_.y);return uo(uo({},_),{},{x:M(g),y:B(g)})}return _});return o.renderAreaStatically(k,w,n,a)}return C.createElement(xt,null,C.createElement("defs",null,C.createElement("clipPath",{id:"animationClipPath-".concat(a)},o.renderClipRect(g))),C.createElement(xt,{clipPath:"url(#animationClipPath-".concat(a,")")},o.renderAreaStatically(s,l,n,a)))})}},{key:"renderArea",value:function(n,a){var o=this.props,i=o.points,s=o.baseLine,l=o.isAnimationActive,c=this.state,u=c.prevPoints,d=c.prevBaseLine,h=c.totalLength;return l&&i&&i.length&&(!u&&h>0||!vi(u,i)||!vi(d,s))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(i,s,n,a)}},{key:"render",value:function(){var n,a=this.props,o=a.hide,i=a.dot,s=a.points,l=a.className,c=a.top,u=a.left,d=a.xAxis,h=a.yAxis,p=a.width,m=a.height,v=a.isAnimationActive,x=a.id;if(o||!s||!s.length)return null;var y=this.state.isAnimationFinished,g=s.length===1,b=et("recharts-area",l),k=d&&d.allowDataOverflow,w=h&&h.allowDataOverflow,S=k||w,j=Te(x)?this.id:x,_=(n=$e(i,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},P=_.r,A=P===void 0?3:P,N=_.strokeWidth,M=N===void 0?2:N,B=ej(i)?i:{},R=B.clipDot,$=R===void 0?!0:R,L=A*2+M;return C.createElement(xt,{className:b},k||w?C.createElement("defs",null,C.createElement("clipPath",{id:"clipPath-".concat(j)},C.createElement("rect",{x:k?u:u-p/2,y:w?c:c-m/2,width:k?p:p*2,height:w?m:m*2})),!$&&C.createElement("clipPath",{id:"clipPath-dots-".concat(j)},C.createElement("rect",{x:u-L/2,y:c-L/2,width:p+L,height:m+L}))):null,g?null:this.renderArea(S,j),(i||g)&&this.renderDots(S,$,j),(!v||y)&&Pa.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(O.PureComponent);eP=Hn;Sa(Hn,"displayName","Area");Sa(Hn,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Bo.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Sa(Hn,"getBaseValue",function(e,t,r,n){var a=e.layout,o=e.baseValue,i=t.props.baseValue,s=i??o;if(se(s)&&typeof s=="number")return s;var l=a==="horizontal"?n:r,c=l.scale.domain();if(l.type==="number"){var u=Math.max(c[0],c[1]),d=Math.min(c[0],c[1]);return s==="dataMin"?d:s==="dataMax"||u<0?u:Math.max(Math.min(c[0],c[1]),0)}return s==="dataMin"?c[0]:s==="dataMax"?c[1]:c[0]});Sa(Hn,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,a=e.yAxis,o=e.xAxisTicks,i=e.yAxisTicks,s=e.bandSize,l=e.dataKey,c=e.stackedData,u=e.dataStartIndex,d=e.displayedData,h=e.offset,p=t.layout,m=c&&c.length,v=eP.getBaseValue(t,r,n,a),x=p==="horizontal",y=!1,g=d.map(function(k,w){var S;m?S=c[u+w]:(S=vr(k,l),Array.isArray(S)?y=!0:S=[v,S]);var j=S[1]==null||m&&vr(k,l)==null;return x?{x:_s({axis:n,ticks:o,bandSize:s,entry:k,index:w}),y:j?null:a.scale(S[1]),value:S,payload:k}:{x:j?null:n.scale(S[1]),y:_s({axis:a,ticks:i,bandSize:s,entry:k,index:w}),value:S,payload:k}}),b;return m||y?b=g.map(function(k){var w=Array.isArray(k.value)?k.value[0]:null;return x?{x:k.x,y:w!=null&&k.y!=null?a.scale(w):null}:{x:w!=null?n.scale(w):null,y:k.y}}):b=x?a.scale(v):n.scale(v),uo({points:g,baseLine:b,layout:p,isRange:y},h)});Sa(Hn,"renderDotItem",function(e,t){var r;if(C.isValidElement(e))r=C.cloneElement(e,t);else if(Re(e))r=e(t);else{var n=et("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,o=tP(t,Vq);r=C.createElement(Sh,ai({},o,{key:a,className:n}))}return r});function Rs(e){"@babel/helpers - typeof";return Rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rs(e)}function tY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iP(n.key),n)}}function nY(e,t,r){return t&&rY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function aY(e,t,r){return t=Sd(t),oY(e,aP()?Reflect.construct(t,r||[],Sd(e).constructor):t.apply(e,r))}function oY(e,t){if(t&&(Rs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iY(e)}function iY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aP=function(){return!!e})()}function Sd(e){return Sd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sd(e)}function sY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nm(e,t)}function nm(e,t){return nm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},nm(e,t)}function oP(e,t,r){return t=iP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iP(e){var t=lY(e,"string");return Rs(t)=="symbol"?t:t+""}function lY(e,t){if(Rs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Mh=function(e){function t(){return tY(this,t),aY(this,t,arguments)}return sY(t,e),nY(t,[{key:"render",value:function(){return null}}])}(O.Component);oP(Mh,"displayName","ZAxis");oP(Mh,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var cY=["option","isActive"];function Vl(){return Vl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vl.apply(this,arguments)}function uY(e,t){if(e==null)return{};var r=fY(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function dY(e){var t=e.option,r=e.isActive,n=uY(e,cY);return typeof t=="string"?O.createElement(Ug,Vl({option:O.createElement(uh,Vl({type:t},n)),isActive:r,shapeType:"symbols"},n)):O.createElement(Ug,Vl({option:t,isActive:r,shapeType:"symbols"},n))}function Is(e){"@babel/helpers - typeof";return Is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Is(e)}function Kl(){return Kl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kl.apply(this,arguments)}function l2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l2(Object(r),!0).forEach(function(n){ko(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lP(n.key),n)}}function pY(e,t,r){return t&&c2(e.prototype,t),r&&c2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function gY(e,t,r){return t=jd(t),mY(e,sP()?Reflect.construct(t,r||[],jd(e).constructor):t.apply(e,r))}function mY(e,t){if(t&&(Is(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yY(e)}function yY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sP=function(){return!!e})()}function jd(e){return jd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jd(e)}function vY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&am(e,t)}function am(e,t){return am=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},am(e,t)}function ko(e,t,r){return t=lP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lP(e){var t=xY(e,"string");return Is(t)=="symbol"?t:t+""}function xY(e,t){if(Is(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Is(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var tn=function(e){function t(){var r;hY(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=gY(this,t,[].concat(a)),ko(r,"state",{isAnimationFinished:!1}),ko(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0})}),ko(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1})}),ko(r,"id",_i("recharts-scatter-")),r}return vY(t,e),pY(t,[{key:"renderSymbolsStatically",value:function(n){var a=this,o=this.props,i=o.shape,s=o.activeShape,l=o.activeIndex,c=$e(this.props,!1);return n.map(function(u,d){var h=l===d,p=h?s:i,m=Fn(Fn({},c),u);return C.createElement(xt,Kl({className:"recharts-scatter-symbol",key:"symbol-".concat(u==null?void 0:u.cx,"-").concat(u==null?void 0:u.cy,"-").concat(u==null?void 0:u.size,"-").concat(d)},fc(a.props,u,d),{role:"img"}),C.createElement(dY,Kl({option:p,isActive:h,key:"symbol-".concat(d)},m)))})}},{key:"renderSymbolsWithAnimation",value:function(){var n=this,a=this.props,o=a.points,i=a.isAnimationActive,s=a.animationBegin,l=a.animationDuration,c=a.animationEasing,u=a.animationId,d=this.state.prevPoints;return C.createElement(pa,{begin:s,duration:l,isActive:i,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var p=h.t,m=o.map(function(v,x){var y=d&&d[x];if(y){var g=or(y.cx,v.cx),b=or(y.cy,v.cy),k=or(y.size,v.size);return Fn(Fn({},v),{},{cx:g(p),cy:b(p),size:k(p)})}var w=or(0,v.size);return Fn(Fn({},v),{},{size:w(p)})});return C.createElement(xt,null,n.renderSymbolsStatically(m))})}},{key:"renderSymbols",value:function(){var n=this.props,a=n.points,o=n.isAnimationActive,i=this.state.prevPoints;return o&&a&&a.length&&(!i||!vi(i,a))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(a)}},{key:"renderErrorBar",value:function(){var n=this.props.isAnimationActive;if(n&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,i=a.xAxis,s=a.yAxis,l=a.children,c=xn(l,ol);return c?c.map(function(u,d){var h=u.props,p=h.direction,m=h.dataKey;return C.cloneElement(u,{key:"".concat(p,"-").concat(m,"-").concat(o[d]),data:o,xAxis:i,yAxis:s,layout:p==="x"?"vertical":"horizontal",dataPointFormatter:function(x,y){return{x:x.cx,y:x.cy,value:p==="x"?+x.node.x:+x.node.y,errorVal:vr(x,y)}}})}):null}},{key:"renderLine",value:function(){var n=this.props,a=n.points,o=n.line,i=n.lineType,s=n.lineJointType,l=$e(this.props,!1),c=$e(o,!1),u,d;if(i==="joint")u=a.map(function(b){return{x:b.cx,y:b.cy}});else if(i==="fitting"){var h=KT(a),p=h.xmin,m=h.xmax,v=h.a,x=h.b,y=function(k){return v*k+x};u=[{x:p,y:y(p)},{x:m,y:y(m)}]}var g=Fn(Fn(Fn({},l),{},{fill:"none",stroke:l&&l.fill},c),{},{points:u});return C.isValidElement(o)?d=C.cloneElement(o,g):Re(o)?d=o(g):d=C.createElement(ui,Kl({},g,{type:s})),C.createElement(xt,{className:"recharts-scatter-line",key:"recharts-scatter-line"},d)}},{key:"render",value:function(){var n=this.props,a=n.hide,o=n.points,i=n.line,s=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,h=n.width,p=n.height,m=n.id,v=n.isAnimationActive;if(a||!o||!o.length)return null;var x=this.state.isAnimationFinished,y=et("recharts-scatter",s),g=l&&l.allowDataOverflow,b=c&&c.allowDataOverflow,k=g||b,w=Te(m)?this.id:m;return C.createElement(xt,{className:y,clipPath:k?"url(#clipPath-".concat(w,")"):null},g||b?C.createElement("defs",null,C.createElement("clipPath",{id:"clipPath-".concat(w)},C.createElement("rect",{x:g?u:u-h/2,y:b?d:d-p/2,width:g?h:h*2,height:b?p:p*2}))):null,i&&this.renderLine(),this.renderErrorBar(),C.createElement(xt,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!v||x)&&Pa.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}}])}(O.PureComponent);ko(tn,"displayName","Scatter");ko(tn,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!Bo.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});ko(tn,"getComposedData",function(e){var t=e.xAxis,r=e.yAxis,n=e.zAxis,a=e.item,o=e.displayedData,i=e.xAxisTicks,s=e.yAxisTicks,l=e.offset,c=a.props.tooltipType,u=xn(a.props.children,Ey),d=Te(t.dataKey)?a.props.dataKey:t.dataKey,h=Te(r.dataKey)?a.props.dataKey:r.dataKey,p=n&&n.dataKey,m=n?n.range:Mh.defaultProps.range,v=m&&m[0],x=t.scale.bandwidth?t.scale.bandwidth():0,y=r.scale.bandwidth?r.scale.bandwidth():0,g=o.map(function(b,k){var w=vr(b,d),S=vr(b,h),j=!Te(p)&&vr(b,p)||"-",_=[{name:Te(t.dataKey)?a.props.name:t.name||t.dataKey,unit:t.unit||"",value:w,payload:b,dataKey:d,type:c},{name:Te(r.dataKey)?a.props.name:r.name||r.dataKey,unit:r.unit||"",value:S,payload:b,dataKey:h,type:c}];j!=="-"&&_.push({name:n.name||n.dataKey,unit:n.unit||"",value:j,payload:b,dataKey:p,type:c});var P=_s({axis:t,ticks:i,bandSize:x,entry:b,index:k,dataKey:d}),A=_s({axis:r,ticks:s,bandSize:y,entry:b,index:k,dataKey:h}),N=j!=="-"?n.scale(j):v,M=Math.sqrt(Math.max(N,0)/Math.PI);return Fn(Fn({},b),{},{cx:P,cy:A,x:P-M,y:A-M,xAxis:t,yAxis:r,zAxis:n,width:2*M,height:2*M,size:N,node:{x:w,y:S,z:j},tooltipPayload:_,tooltipPosition:{x:P,y:A},payload:b},u&&u[k]&&u[k].props)});return Fn({points:g},l)});function Bs(e){"@babel/helpers - typeof";return Bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bs(e)}function bY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fP(n.key),n)}}function kY(e,t,r){return t&&wY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function SY(e,t,r){return t=Od(t),jY(e,cP()?Reflect.construct(t,r||[],Od(e).constructor):t.apply(e,r))}function jY(e,t){if(t&&(Bs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OY(e)}function OY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cP=function(){return!!e})()}function Od(e){return Od=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Od(e)}function _Y(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&om(e,t)}function om(e,t){return om=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},om(e,t)}function uP(e,t,r){return t=fP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fP(e){var t=PY(e,"string");return Bs(t)=="symbol"?t:t+""}function PY(e,t){if(Bs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function im(){return im=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},im.apply(this,arguments)}function NY(e){var t=e.xAxisId,r=cv(),n=uv(),a=F_(t);return a==null?null:O.createElement(il,im({},a,{className:et("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(i){return Wa(i,!0)}}))}var ga=function(e){function t(){return bY(this,t),SY(this,t,arguments)}return _Y(t,e),kY(t,[{key:"render",value:function(){return O.createElement(NY,this.props)}}])}(O.Component);uP(ga,"displayName","XAxis");uP(ga,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Fs(e){"@babel/helpers - typeof";return Fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fs(e)}function AY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pP(n.key),n)}}function CY(e,t,r){return t&&MY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function EY(e,t,r){return t=_d(t),TY(e,dP()?Reflect.construct(t,r||[],_d(e).constructor):t.apply(e,r))}function TY(e,t){if(t&&(Fs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Y(e)}function $Y(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dP=function(){return!!e})()}function _d(e){return _d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_d(e)}function DY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sm(e,t)}function sm(e,t){return sm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},sm(e,t)}function hP(e,t,r){return t=pP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pP(e){var t=LY(e,"string");return Fs(t)=="symbol"?t:t+""}function LY(e,t){if(Fs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function lm(){return lm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lm.apply(this,arguments)}var RY=function(t){var r=t.yAxisId,n=cv(),a=uv(),o=z_(r);return o==null?null:O.createElement(il,lm({},o,{className:et("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(s){return Wa(s,!0)}}))},ma=function(e){function t(){return AY(this,t),EY(this,t,arguments)}return DY(t,e),CY(t,[{key:"render",value:function(){return O.createElement(RY,this.props)}}])}(O.Component);hP(ma,"displayName","YAxis");hP(ma,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function u2(e){return zY(e)||FY(e)||BY(e)||IY()}function IY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BY(e,t){if(e){if(typeof e=="string")return cm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cm(e,t)}}function FY(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zY(e){if(Array.isArray(e))return cm(e)}function cm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var um=function(t,r,n,a,o){var i=xn(t,ri),s=xn(t,Nh),l=[].concat(u2(i),u2(s)),c=xn(t,ou),u="".concat(a,"Id"),d=a[0],h=r;if(l.length&&(h=l.reduce(function(v,x){if(x.props[u]===n&&Na(x.props,"extendDomain")&&se(x.props[d])){var y=x.props[d];return[Math.min(v[0],y),Math.max(v[1],y)]}return v},h)),c.length){var p="".concat(d,"1"),m="".concat(d,"2");h=c.reduce(function(v,x){if(x.props[u]===n&&Na(x.props,"extendDomain")&&se(x.props[p])&&se(x.props[m])){var y=x.props[p],g=x.props[m];return[Math.min(v[0],y,g),Math.max(v[1],y,g)]}return v},h)}return o&&o.length&&(h=o.reduce(function(v,x){return se(x)?[Math.min(v[0],x),Math.max(v[1],x)]:v},h)),h},gP={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function o(l,c,u,d,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new a(u,d||l,h),m=r?r+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function i(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],u,d;if(this._eventsCount===0)return c;for(d in u=this._events)t.call(u,d)&&c.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},s.prototype.listeners=function(c){var u=r?r+c:c,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,p=d.length,m=new Array(p);h<p;h++)m[h]=d[h].fn;return m},s.prototype.listenerCount=function(c){var u=r?r+c:c,d=this._events[u];return d?d.fn?1:d.length:0},s.prototype.emit=function(c,u,d,h,p,m){var v=r?r+c:c;if(!this._events[v])return!1;var x=this._events[v],y=arguments.length,g,b;if(x.fn){switch(x.once&&this.removeListener(c,x.fn,void 0,!0),y){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,u),!0;case 3:return x.fn.call(x.context,u,d),!0;case 4:return x.fn.call(x.context,u,d,h),!0;case 5:return x.fn.call(x.context,u,d,h,p),!0;case 6:return x.fn.call(x.context,u,d,h,p,m),!0}for(b=1,g=new Array(y-1);b<y;b++)g[b-1]=arguments[b];x.fn.apply(x.context,g)}else{var k=x.length,w;for(b=0;b<k;b++)switch(x[b].once&&this.removeListener(c,x[b].fn,void 0,!0),y){case 1:x[b].fn.call(x[b].context);break;case 2:x[b].fn.call(x[b].context,u);break;case 3:x[b].fn.call(x[b].context,u,d);break;case 4:x[b].fn.call(x[b].context,u,d,h);break;default:if(!g)for(w=1,g=new Array(y-1);w<y;w++)g[w-1]=arguments[w];x[b].fn.apply(x[b].context,g)}}return!0},s.prototype.on=function(c,u,d){return o(this,c,u,d,!1)},s.prototype.once=function(c,u,d){return o(this,c,u,d,!0)},s.prototype.removeListener=function(c,u,d,h){var p=r?r+c:c;if(!this._events[p])return this;if(!u)return i(this,p),this;var m=this._events[p];if(m.fn)m.fn===u&&(!h||m.once)&&(!d||m.context===d)&&i(this,p);else{for(var v=0,x=[],y=m.length;v<y;v++)(m[v].fn!==u||h&&!m[v].once||d&&m[v].context!==d)&&x.push(m[v]);x.length?this._events[p]=x.length===1?x[0]:x:i(this,p)}return this},s.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&i(this,u)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s})(gP);var WY=gP.exports;const UY=Pt(WY);var Rp=new UY,Ip="recharts.syncMouseEvents";function Hc(e){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hc(e)}function GY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mP(n.key),n)}}function VY(e,t,r){return t&&HY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Bp(e,t,r){return t=mP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mP(e){var t=KY(e,"string");return Hc(t)=="symbol"?t:t+""}function KY(e,t){if(Hc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var XY=function(){function e(){GY(this,e),Bp(this,"activeIndex",0),Bp(this,"coordinateList",[]),Bp(this,"layout","horizontal")}return VY(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,o=a===void 0?null:a,i=r.container,s=i===void 0?null:i,l=r.layout,c=l===void 0?null:l,u=r.offset,d=u===void 0?null:u,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=o??this.coordinateList)!==null&&n!==void 0?n:[],this.container=s??this.container,this.layout=c??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),o=a.x,i=a.y,s=a.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((n=window)===null||n===void 0?void 0:n.scrollY)||0,d=o+l+c,h=i+this.offset.top+s/2+u;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function qY(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&se(n)&&se(a))return!0}return!1}function YY(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function yP(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,o=e.endAngle,i=Dr(t,r,n,a),s=Dr(t,r,n,o);return{points:[i,s],cx:t,cy:r,radius:n,startAngle:a,endAngle:o}}function QY(e,t,r){var n,a,o,i;if(e==="horizontal")n=t.x,o=n,a=r.top,i=r.top+r.height;else if(e==="vertical")a=t.y,i=a,n=r.left,o=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var s=t.cx,l=t.cy,c=t.innerRadius,u=t.outerRadius,d=t.angle,h=Dr(s,l,c,d),p=Dr(s,l,u,d);n=h.x,a=h.y,o=p.x,i=p.y}else return yP(t);return[{x:n,y:a},{x:o,y:i}]}function Vc(e){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vc(e)}function f2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f2(Object(r),!0).forEach(function(n){ZY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZY(e,t,r){return t=JY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JY(e){var t=eQ(e,"string");return Vc(t)=="symbol"?t:t+""}function eQ(e,t){if(Vc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tQ(e){var t,r,n=e.element,a=e.tooltipEventType,o=e.isActive,i=e.activeCoordinate,s=e.activePayload,l=e.offset,c=e.activeTooltipIndex,u=e.tooltipAxisBandSize,d=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!o||!i||h!=="ScatterChart"&&a!=="axis")return null;var m,v=ui;if(h==="ScatterChart")m=i,v=PH;else if(h==="BarChart")m=YY(d,i,l,u),v=av;else if(d==="radial"){var x=yP(i),y=x.cx,g=x.cy,b=x.radius,k=x.startAngle,w=x.endAngle;m={cx:y,cy:g,startAngle:k,endAngle:w,innerRadius:b,outerRadius:b},v=d_}else m={points:QY(d,i,l)},v=ui;var S=zu(zu(zu(zu({stroke:"#ccc",pointerEvents:"none"},l),m),$e(p,!1)),{},{payload:s,payloadIndex:c,className:et("recharts-tooltip-cursor",p.className)});return O.isValidElement(p)?O.cloneElement(p,S):O.createElement(v,S)}var rQ=["item"],nQ=["children","className","width","height","style","compact","title","desc"];function zs(e){"@babel/helpers - typeof";return zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zs(e)}function Ji(){return Ji=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ji.apply(this,arguments)}function d2(e,t){return iQ(e)||oQ(e,t)||xP(e,t)||aQ()}function aQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oQ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function iQ(e){if(Array.isArray(e))return e}function h2(e,t){if(e==null)return{};var r=sQ(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sQ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function lQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bP(n.key),n)}}function uQ(e,t,r){return t&&cQ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function fQ(e,t,r){return t=Pd(t),dQ(e,vP()?Reflect.construct(t,r||[],Pd(e).constructor):t.apply(e,r))}function dQ(e,t){if(t&&(zs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hQ(e)}function hQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vP=function(){return!!e})()}function Pd(e){return Pd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pd(e)}function pQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fm(e,t)}function fm(e,t){return fm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},fm(e,t)}function Ws(e){return yQ(e)||mQ(e)||xP(e)||gQ()}function gQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xP(e,t){if(e){if(typeof e=="string")return dm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dm(e,t)}}function mQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function yQ(e){if(Array.isArray(e))return dm(e)}function dm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function K(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p2(Object(r),!0).forEach(function(n){Ae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ae(e,t,r){return t=bP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bP(e){var t=vQ(e,"string");return zs(t)=="symbol"?t:t+""}function vQ(e,t){if(zs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xQ={xAxis:["bottom","top"],yAxis:["left","right"]},bQ={width:"100%",height:"100%"},wP={x:0,y:0};function Wu(e){return e}var wQ=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},kQ=function(t,r,n,a){var o=r.find(function(u){return u&&u.index===n});if(o){if(t==="horizontal")return{x:o.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:o.coordinate};if(t==="centric"){var i=o.coordinate,s=a.radius;return K(K(K({},a),Dr(a.cx,a.cy,s,i)),{},{angle:i,radius:s})}var l=o.coordinate,c=a.angle;return K(K(K({},a),Dr(a.cx,a.cy,l,c)),{},{angle:c,radius:l})}return wP},Ch=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,o=r.dataEndIndex,i=(n??[]).reduce(function(s,l){var c=l.props.data;return c&&c.length?[].concat(Ws(s),Ws(c)):s},[]);return i.length>0?i:t&&t.length&&se(a)&&se(o)?t.slice(a,o+1):[]};function kP(e){return e==="number"?[0,"auto"]:void 0}var hm=function(t,r,n,a){var o=t.graphicalItems,i=t.tooltipAxis,s=Ch(r,t);return n<0||!o||!o.length||n>=s.length?null:o.reduce(function(l,c){var u,d=(u=c.props.data)!==null&&u!==void 0?u:r;d&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(d=d.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(i.dataKey&&!i.allowDuplicatedCategory){var p=d===void 0?s:d;h=_f(p,i.dataKey,a)}else h=d&&d[n]||s[n];return h?[].concat(Ws(l),[c_(c,h)]):l},[])},g2=function(t,r,n,a){var o=a||{x:t.chartX,y:t.chartY},i=wQ(o,n),s=t.orderedTooltipTicks,l=t.tooltipAxis,c=t.tooltipTicks,u=oW(i,s,c,l);if(u>=0&&c){var d=c[u]&&c[u].value,h=hm(t,r,u,d),p=kQ(n,s,u,o);return{activeTooltipIndex:u,activeLabel:d,activePayload:h,activeCoordinate:p}}return null},SQ=function(t,r){var n=r.axes,a=r.graphicalItems,o=r.axisType,i=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.layout,d=t.children,h=t.stackOffset,p=i_(u,o);return n.reduce(function(m,v){var x,y=v.type.defaultProps!==void 0?K(K({},v.type.defaultProps),v.props):v.props,g=y.type,b=y.dataKey,k=y.allowDataOverflow,w=y.allowDuplicatedCategory,S=y.scale,j=y.ticks,_=y.includeHidden,P=y[i];if(m[P])return m;var A=Ch(t.data,{graphicalItems:a.filter(function(q){var Z,U=i in q.props?q.props[i]:(Z=q.type.defaultProps)===null||Z===void 0?void 0:Z[i];return U===P}),dataStartIndex:l,dataEndIndex:c}),N=A.length,M,B,R;qY(y.domain,k,g)&&(M=Pg(y.domain,null,k),p&&(g==="number"||S!=="auto")&&(R=Ul(A,b,"category")));var $=kP(g);if(!M||M.length===0){var L,F=(L=y.domain)!==null&&L!==void 0?L:$;if(b){if(M=Ul(A,b,g),g==="category"&&p){var D=VT(M);w&&D?(B=M,M=fd(0,N)):w||(M=V1(F,M,v).reduce(function(q,Z){return q.indexOf(Z)>=0?q:[].concat(Ws(q),[Z])},[]))}else if(g==="category")w?M=M.filter(function(q){return q!==""&&!Te(q)}):M=V1(F,M,v).reduce(function(q,Z){return q.indexOf(Z)>=0||Z===""||Te(Z)?q:[].concat(Ws(q),[Z])},[]);else if(g==="number"){var z=uW(A,a.filter(function(q){var Z,U,de=i in q.props?q.props[i]:(Z=q.type.defaultProps)===null||Z===void 0?void 0:Z[i],ne="hide"in q.props?q.props.hide:(U=q.type.defaultProps)===null||U===void 0?void 0:U.hide;return de===P&&(_||!ne)}),b,o,u);z&&(M=z)}p&&(g==="number"||S!=="auto")&&(R=Ul(A,b,"category"))}else p?M=fd(0,N):s&&s[P]&&s[P].hasStack&&g==="number"?M=h==="expand"?[0,1]:l_(s[P].stackGroups,l,c):M=o_(A,a.filter(function(q){var Z=i in q.props?q.props[i]:q.type.defaultProps[i],U="hide"in q.props?q.props.hide:q.type.defaultProps.hide;return Z===P&&(_||!U)}),g,u,!0);if(g==="number")M=um(d,M,P,o,j),F&&(M=Pg(F,M,k));else if(g==="category"&&F){var W=F,te=M.every(function(q){return W.indexOf(q)>=0});te&&(M=W)}}return K(K({},m),{},Ae({},P,K(K({},y),{},{axisType:o,domain:M,categoricalDomain:R,duplicateDomain:B,originalDomain:(x=y.domain)!==null&&x!==void 0?x:$,isCategorical:p,layout:u})))},{})},jQ=function(t,r){var n=r.graphicalItems,a=r.Axis,o=r.axisType,i=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.layout,d=t.children,h=Ch(t.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),p=h.length,m=i_(u,o),v=-1;return n.reduce(function(x,y){var g=y.type.defaultProps!==void 0?K(K({},y.type.defaultProps),y.props):y.props,b=g[i],k=kP("number");if(!x[b]){v++;var w;return m?w=fd(0,p):s&&s[b]&&s[b].hasStack?(w=l_(s[b].stackGroups,l,c),w=um(d,w,b,o)):(w=Pg(k,o_(h,n.filter(function(S){var j,_,P=i in S.props?S.props[i]:(j=S.type.defaultProps)===null||j===void 0?void 0:j[i],A="hide"in S.props?S.props.hide:(_=S.type.defaultProps)===null||_===void 0?void 0:_.hide;return P===b&&!A}),"number",u),a.defaultProps.allowDataOverflow),w=um(d,w,b,o)),K(K({},x),{},Ae({},b,K(K({axisType:o},a.defaultProps),{},{hide:!0,orientation:Kn(xQ,"".concat(o,".").concat(v%2),null),domain:w,originalDomain:k,isCategorical:m,layout:u})))}return x},{})},OQ=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,o=r.AxisComp,i=r.graphicalItems,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.children,d="".concat(a,"Id"),h=xn(u,o),p={};return h&&h.length?p=SQ(t,{axes:h,graphicalItems:i,axisType:a,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:c}):i&&i.length&&(p=jQ(t,{Axis:o,graphicalItems:i,axisType:a,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:c})),p},_Q=function(t){var r=yo(t),n=Wa(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:My(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:td(r,n)}},m2=function(t){var r=t.children,n=t.defaultShowTooltip,a=Pn(r,As),o=0,i=0;return t.data&&t.data.length!==0&&(i=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(o=a.props.startIndex),a.props.endIndex>=0&&(i=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:i,activeTooltipIndex:-1,isTooltipActive:!!n}},PQ=function(t){return!t||!t.length?!1:t.some(function(r){var n=Ga(r&&r.type);return n&&n.indexOf("Bar")>=0})},y2=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},NQ=function(t,r){var n=t.props,a=t.graphicalItems,o=t.xAxisMap,i=o===void 0?{}:o,s=t.yAxisMap,l=s===void 0?{}:s,c=n.width,u=n.height,d=n.children,h=n.margin||{},p=Pn(d,As),m=Pn(d,Va),v=Object.keys(l).reduce(function(w,S){var j=l[S],_=j.orientation;return!j.mirror&&!j.hide?K(K({},w),{},Ae({},_,w[_]+j.width)):w},{left:h.left||0,right:h.right||0}),x=Object.keys(i).reduce(function(w,S){var j=i[S],_=j.orientation;return!j.mirror&&!j.hide?K(K({},w),{},Ae({},_,Kn(w,"".concat(_))+j.height)):w},{top:h.top||0,bottom:h.bottom||0}),y=K(K({},x),v),g=y.bottom;p&&(y.bottom+=p.props.height||As.defaultProps.height),m&&r&&(y=lW(y,a,n,r));var b=c-y.left-y.right,k=u-y.top-y.bottom;return K(K({brushBottom:g},y),{},{width:Math.max(b,0),height:Math.max(k,0)})},AQ=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},pv=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,o=a===void 0?"axis":a,i=t.validateTooltipEventTypes,s=i===void 0?["axis"]:i,l=t.axisComponents,c=t.legendContent,u=t.formatAxisMap,d=t.defaultProps,h=function(y,g){var b=g.graphicalItems,k=g.stackGroups,w=g.offset,S=g.updateId,j=g.dataStartIndex,_=g.dataEndIndex,P=y.barSize,A=y.layout,N=y.barGap,M=y.barCategoryGap,B=y.maxBarSize,R=y2(A),$=R.numericAxisName,L=R.cateAxisName,F=PQ(b),D=[];return b.forEach(function(z,W){var te=Ch(y.data,{graphicalItems:[z],dataStartIndex:j,dataEndIndex:_}),q=z.type.defaultProps!==void 0?K(K({},z.type.defaultProps),z.props):z.props,Z=q.dataKey,U=q.maxBarSize,de=q["".concat($,"Id")],ne=q["".concat(L,"Id")],Me={},be=l.reduce(function(Lt,Pr){var Kt=g["".concat(Pr.axisType,"Map")],Qr=q["".concat(Pr.axisType,"Id")];Kt&&Kt[Qr]||Pr.axisType==="zAxis"||bi();var Nr=Kt[Qr];return K(K({},Lt),{},Ae(Ae({},Pr.axisType,Nr),"".concat(Pr.axisType,"Ticks"),Wa(Nr)))},Me),H=be[L],ue=be["".concat(L,"Ticks")],xe=k&&k[de]&&k[de].hasStack&&kW(z,k[de].stackGroups),X=Ga(z.type).indexOf("Bar")>=0,Xe=td(H,ue),Ne=[],tt=F&&iW({barSize:P,stackGroups:k,totalSize:AQ(be,L)});if(X){var ot,lt,ur=Te(U)?B:U,Nt=(ot=(lt=td(H,ue,!0))!==null&&lt!==void 0?lt:ur)!==null&&ot!==void 0?ot:0;Ne=sW({barGap:N,barCategoryGap:M,bandSize:Nt!==Xe?Nt:Xe,sizeList:tt[ne],maxBarSize:ur}),Nt!==Xe&&(Ne=Ne.map(function(Lt){return K(K({},Lt),{},{position:K(K({},Lt.position),{},{offset:Lt.position.offset-Nt/2})})}))}var fr=z&&z.type&&z.type.getComposedData;fr&&D.push({props:K(K({},fr(K(K({},be),{},{displayedData:te,props:y,dataKey:Z,item:z,bandSize:Xe,barPosition:Ne,offset:w,stackedData:xe,layout:A,dataStartIndex:j,dataEndIndex:_}))),{},Ae(Ae(Ae({key:z.key||"item-".concat(W)},$,be[$]),L,be[L]),"animationId",S)),childIndex:o$(z,y.children),item:z})}),D},p=function(y,g){var b=y.props,k=y.dataStartIndex,w=y.dataEndIndex,S=y.updateId;if(!Fx({props:b}))return null;var j=b.children,_=b.layout,P=b.stackOffset,A=b.data,N=b.reverseStackOrder,M=y2(_),B=M.numericAxisName,R=M.cateAxisName,$=xn(j,n),L=xW(A,$,"".concat(B,"Id"),"".concat(R,"Id"),P,N),F=l.reduce(function(q,Z){var U="".concat(Z.axisType,"Map");return K(K({},q),{},Ae({},U,OQ(b,K(K({},Z),{},{graphicalItems:$,stackGroups:Z.axisType===B&&L,dataStartIndex:k,dataEndIndex:w}))))},{}),D=NQ(K(K({},F),{},{props:b,graphicalItems:$}),g==null?void 0:g.legendBBox);Object.keys(F).forEach(function(q){F[q]=u(b,F[q],D,q.replace("Map",""),r)});var z=F["".concat(R,"Map")],W=_Q(z),te=h(b,K(K({},F),{},{dataStartIndex:k,dataEndIndex:w,updateId:S,graphicalItems:$,stackGroups:L,offset:D}));return K(K({formattedGraphicalItems:te,graphicalItems:$,offset:D,stackGroups:L},W),F)},m=function(x){function y(g){var b,k,w;return lQ(this,y),w=fQ(this,y,[g]),Ae(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ae(w,"accessibilityManager",new XY),Ae(w,"handleLegendBBoxUpdate",function(S){if(S){var j=w.state,_=j.dataStartIndex,P=j.dataEndIndex,A=j.updateId;w.setState(K({legendBBox:S},p({props:w.props,dataStartIndex:_,dataEndIndex:P,updateId:A},K(K({},w.state),{},{legendBBox:S}))))}}),Ae(w,"handleReceiveSyncEvent",function(S,j,_){if(w.props.syncId===S){if(_===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(j)}}),Ae(w,"handleBrushChange",function(S){var j=S.startIndex,_=S.endIndex;if(j!==w.state.dataStartIndex||_!==w.state.dataEndIndex){var P=w.state.updateId;w.setState(function(){return K({dataStartIndex:j,dataEndIndex:_},p({props:w.props,dataStartIndex:j,dataEndIndex:_,updateId:P},w.state))}),w.triggerSyncEvent({dataStartIndex:j,dataEndIndex:_})}}),Ae(w,"handleMouseEnter",function(S){var j=w.getMouseInfo(S);if(j){var _=K(K({},j),{},{isTooltipActive:!0});w.setState(_),w.triggerSyncEvent(_);var P=w.props.onMouseEnter;Re(P)&&P(_,S)}}),Ae(w,"triggeredAfterMouseMove",function(S){var j=w.getMouseInfo(S),_=j?K(K({},j),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(_),w.triggerSyncEvent(_);var P=w.props.onMouseMove;Re(P)&&P(_,S)}),Ae(w,"handleItemMouseEnter",function(S){w.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),Ae(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),Ae(w,"handleMouseMove",function(S){S.persist(),w.throttleTriggeredAfterMouseMove(S)}),Ae(w,"handleMouseLeave",function(S){w.throttleTriggeredAfterMouseMove.cancel();var j={isTooltipActive:!1};w.setState(j),w.triggerSyncEvent(j);var _=w.props.onMouseLeave;Re(_)&&_(j,S)}),Ae(w,"handleOuterEvent",function(S){var j=a$(S),_=Kn(w.props,"".concat(j));if(j&&Re(_)){var P,A;/.*touch.*/i.test(j)?A=w.getMouseInfo(S.changedTouches[0]):A=w.getMouseInfo(S),_((P=A)!==null&&P!==void 0?P:{},S)}}),Ae(w,"handleClick",function(S){var j=w.getMouseInfo(S);if(j){var _=K(K({},j),{},{isTooltipActive:!0});w.setState(_),w.triggerSyncEvent(_);var P=w.props.onClick;Re(P)&&P(_,S)}}),Ae(w,"handleMouseDown",function(S){var j=w.props.onMouseDown;if(Re(j)){var _=w.getMouseInfo(S);j(_,S)}}),Ae(w,"handleMouseUp",function(S){var j=w.props.onMouseUp;if(Re(j)){var _=w.getMouseInfo(S);j(_,S)}}),Ae(w,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),Ae(w,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&w.handleMouseDown(S.changedTouches[0])}),Ae(w,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&w.handleMouseUp(S.changedTouches[0])}),Ae(w,"handleDoubleClick",function(S){var j=w.props.onDoubleClick;if(Re(j)){var _=w.getMouseInfo(S);j(_,S)}}),Ae(w,"handleContextMenu",function(S){var j=w.props.onContextMenu;if(Re(j)){var _=w.getMouseInfo(S);j(_,S)}}),Ae(w,"triggerSyncEvent",function(S){w.props.syncId!==void 0&&Rp.emit(Ip,w.props.syncId,S,w.eventEmitterSymbol)}),Ae(w,"applySyncEvent",function(S){var j=w.props,_=j.layout,P=j.syncMethod,A=w.state.updateId,N=S.dataStartIndex,M=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)w.setState(K({dataStartIndex:N,dataEndIndex:M},p({props:w.props,dataStartIndex:N,dataEndIndex:M,updateId:A},w.state)));else if(S.activeTooltipIndex!==void 0){var B=S.chartX,R=S.chartY,$=S.activeTooltipIndex,L=w.state,F=L.offset,D=L.tooltipTicks;if(!F)return;if(typeof P=="function")$=P(D,S);else if(P==="value"){$=-1;for(var z=0;z<D.length;z++)if(D[z].value===S.activeLabel){$=z;break}}var W=K(K({},F),{},{x:F.left,y:F.top}),te=Math.min(B,W.x+W.width),q=Math.min(R,W.y+W.height),Z=D[$]&&D[$].value,U=hm(w.state,w.props.data,$),de=D[$]?{x:_==="horizontal"?D[$].coordinate:te,y:_==="horizontal"?q:D[$].coordinate}:wP;w.setState(K(K({},S),{},{activeLabel:Z,activeCoordinate:de,activePayload:U,activeTooltipIndex:$}))}else w.setState(S)}),Ae(w,"renderCursor",function(S){var j,_=w.state,P=_.isTooltipActive,A=_.activeCoordinate,N=_.activePayload,M=_.offset,B=_.activeTooltipIndex,R=_.tooltipAxisBandSize,$=w.getTooltipEventType(),L=(j=S.props.active)!==null&&j!==void 0?j:P,F=w.props.layout,D=S.key||"_recharts-cursor";return C.createElement(tQ,{key:D,activeCoordinate:A,activePayload:N,activeTooltipIndex:B,chartName:r,element:S,isActive:L,layout:F,offset:M,tooltipAxisBandSize:R,tooltipEventType:$})}),Ae(w,"renderPolarAxis",function(S,j,_){var P=Kn(S,"type.axisType"),A=Kn(w.state,"".concat(P,"Map")),N=S.type.defaultProps,M=N!==void 0?K(K({},N),S.props):S.props,B=A&&A[M["".concat(P,"Id")]];return O.cloneElement(S,K(K({},B),{},{className:et(P,B.className),key:S.key||"".concat(j,"-").concat(_),ticks:Wa(B,!0)}))}),Ae(w,"renderPolarGrid",function(S){var j=S.props,_=j.radialLines,P=j.polarAngles,A=j.polarRadius,N=w.state,M=N.radiusAxisMap,B=N.angleAxisMap,R=yo(M),$=yo(B),L=$.cx,F=$.cy,D=$.innerRadius,z=$.outerRadius;return O.cloneElement(S,{polarAngles:Array.isArray(P)?P:Wa($,!0).map(function(W){return W.coordinate}),polarRadius:Array.isArray(A)?A:Wa(R,!0).map(function(W){return W.coordinate}),cx:L,cy:F,innerRadius:D,outerRadius:z,key:S.key||"polar-grid",radialLines:_})}),Ae(w,"renderLegend",function(){var S=w.state.formattedGraphicalItems,j=w.props,_=j.children,P=j.width,A=j.height,N=w.props.margin||{},M=P-(N.left||0)-(N.right||0),B=n_({children:_,formattedGraphicalItems:S,legendWidth:M,legendContent:c});if(!B)return null;var R=B.item,$=h2(B,rQ);return O.cloneElement(R,K(K({},$),{},{chartWidth:P,chartHeight:A,margin:N,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),Ae(w,"renderTooltip",function(){var S,j=w.props,_=j.children,P=j.accessibilityLayer,A=Pn(_,nn);if(!A)return null;var N=w.state,M=N.isTooltipActive,B=N.activeCoordinate,R=N.activePayload,$=N.activeLabel,L=N.offset,F=(S=A.props.active)!==null&&S!==void 0?S:M;return O.cloneElement(A,{viewBox:K(K({},L),{},{x:L.left,y:L.top}),active:F,label:$,payload:F?R:[],coordinate:B,accessibilityLayer:P})}),Ae(w,"renderBrush",function(S){var j=w.props,_=j.margin,P=j.data,A=w.state,N=A.offset,M=A.dataStartIndex,B=A.dataEndIndex,R=A.updateId;return O.cloneElement(S,{key:S.key||"_recharts-brush",onChange:Ru(w.handleBrushChange,S.props.onChange),data:P,x:se(S.props.x)?S.props.x:N.left,y:se(S.props.y)?S.props.y:N.top+N.height+N.brushBottom-(_.bottom||0),width:se(S.props.width)?S.props.width:N.width,startIndex:M,endIndex:B,updateId:"brush-".concat(R)})}),Ae(w,"renderReferenceElement",function(S,j,_){if(!S)return null;var P=w,A=P.clipPathId,N=w.state,M=N.xAxisMap,B=N.yAxisMap,R=N.offset,$=S.type.defaultProps||{},L=S.props,F=L.xAxisId,D=F===void 0?$.xAxisId:F,z=L.yAxisId,W=z===void 0?$.yAxisId:z;return O.cloneElement(S,{key:S.key||"".concat(j,"-").concat(_),xAxis:M[D],yAxis:B[W],viewBox:{x:R.left,y:R.top,width:R.width,height:R.height},clipPathId:A})}),Ae(w,"renderActivePoints",function(S){var j=S.item,_=S.activePoint,P=S.basePoint,A=S.childIndex,N=S.isRange,M=[],B=j.props.key,R=j.item.type.defaultProps!==void 0?K(K({},j.item.type.defaultProps),j.item.props):j.item.props,$=R.activeDot,L=R.dataKey,F=K(K({index:A,dataKey:L,cx:_.x,cy:_.y,r:4,fill:nv(j.item),strokeWidth:2,stroke:"#fff",payload:_.payload,value:_.value},$e($,!1)),Pf($));return M.push(y.renderActiveDot($,F,"".concat(B,"-activePoint-").concat(A))),P?M.push(y.renderActiveDot($,K(K({},F),{},{cx:P.x,cy:P.y}),"".concat(B,"-basePoint-").concat(A))):N&&M.push(null),M}),Ae(w,"renderGraphicChild",function(S,j,_){var P=w.filterFormatItem(S,j,_);if(!P)return null;var A=w.getTooltipEventType(),N=w.state,M=N.isTooltipActive,B=N.tooltipAxis,R=N.activeTooltipIndex,$=N.activeLabel,L=w.props.children,F=Pn(L,nn),D=P.props,z=D.points,W=D.isRange,te=D.baseLine,q=P.item.type.defaultProps!==void 0?K(K({},P.item.type.defaultProps),P.item.props):P.item.props,Z=q.activeDot,U=q.hide,de=q.activeBar,ne=q.activeShape,Me=!!(!U&&M&&F&&(Z||de||ne)),be={};A!=="axis"&&F&&F.props.trigger==="click"?be={onClick:Ru(w.handleItemMouseEnter,S.props.onClick)}:A!=="axis"&&(be={onMouseLeave:Ru(w.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:Ru(w.handleItemMouseEnter,S.props.onMouseEnter)});var H=O.cloneElement(S,K(K({},P.props),be));function ue(Pr){return typeof B.dataKey=="function"?B.dataKey(Pr.payload):null}if(Me)if(R>=0){var xe,X;if(B.dataKey&&!B.allowDuplicatedCategory){var Xe=typeof B.dataKey=="function"?ue:"payload.".concat(B.dataKey.toString());xe=_f(z,Xe,$),X=W&&te&&_f(te,Xe,$)}else xe=z==null?void 0:z[R],X=W&&te&&te[R];if(ne||de){var Ne=S.props.activeIndex!==void 0?S.props.activeIndex:R;return[O.cloneElement(S,K(K(K({},P.props),be),{},{activeIndex:Ne})),null,null]}if(!Te(xe))return[H].concat(Ws(w.renderActivePoints({item:P,activePoint:xe,basePoint:X,childIndex:R,isRange:W})))}else{var tt,ot=(tt=w.getItemByXY(w.state.activeCoordinate))!==null&&tt!==void 0?tt:{graphicalItem:H},lt=ot.graphicalItem,ur=lt.item,Nt=ur===void 0?S:ur,fr=lt.childIndex,Lt=K(K(K({},P.props),be),{},{activeIndex:fr});return[O.cloneElement(Nt,Lt),null,null]}return W?[H,null,null]:[H,null]}),Ae(w,"renderCustomized",function(S,j,_){return O.cloneElement(S,K(K({key:"recharts-customized-".concat(_)},w.props),w.state))}),Ae(w,"renderMap",{CartesianGrid:{handler:Wu,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:Wu},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:Wu},YAxis:{handler:Wu},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((b=g.id)!==null&&b!==void 0?b:_i("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=nO(w.triggeredAfterMouseMove,(k=g.throttleDelay)!==null&&k!==void 0?k:1e3/60),w.state={},w}return pQ(y,x),uQ(y,[{key:"componentDidMount",value:function(){var b,k;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,k=b.children,w=b.data,S=b.height,j=b.layout,_=Pn(k,nn);if(_){var P=_.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var A=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,N=hm(this.state,w,P,A),M=this.state.tooltipTicks[P].coordinate,B=(this.state.offset.top+S)/2,R=j==="horizontal",$=R?{x:M,y:B}:{y:M,x:B},L=this.state.formattedGraphicalItems.find(function(D){var z=D.item;return z.type.name==="Scatter"});L&&($=K(K({},$),L.props.points[P].tooltipPosition),N=L.props.points[P].tooltipPayload);var F={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:A,activePayload:N,activeCoordinate:$};this.setState(F),this.renderCursor(_),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,k){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==k.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var w,S;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(b){W0([Pn(b.children,nn)],[Pn(this.props.children,nn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=Pn(this.props.children,nn);if(b&&typeof b.props.shared=="boolean"){var k=b.props.shared?"axis":"item";return s.indexOf(k)>=0?k:o}return o}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var k=this.container,w=k.getBoundingClientRect(),S=C8(w),j={chartX:Math.round(b.pageX-S.left),chartY:Math.round(b.pageY-S.top)},_=w.width/k.offsetWidth||1,P=this.inRange(j.chartX,j.chartY,_);if(!P)return null;var A=this.state,N=A.xAxisMap,M=A.yAxisMap,B=this.getTooltipEventType(),R=g2(this.state,this.props.data,this.props.layout,P);if(B!=="axis"&&N&&M){var $=yo(N).scale,L=yo(M).scale,F=$&&$.invert?$.invert(j.chartX):null,D=L&&L.invert?L.invert(j.chartY):null;return K(K({},j),{},{xValue:F,yValue:D},R)}return R?K(K({},j),R):null}},{key:"inRange",value:function(b,k){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,j=b/w,_=k/w;if(S==="horizontal"||S==="vertical"){var P=this.state.offset,A=j>=P.left&&j<=P.left+P.width&&_>=P.top&&_<=P.top+P.height;return A?{x:j,y:_}:null}var N=this.state,M=N.angleAxisMap,B=N.radiusAxisMap;if(M&&B){var R=yo(M);return q1({x:j,y:_},R)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,k=this.getTooltipEventType(),w=Pn(b,nn),S={};w&&k==="axis"&&(w.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var j=Pf(this.props,this.handleOuterEvent);return K(K({},j),S)}},{key:"addListener",value:function(){Rp.on(Ip,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Rp.removeListener(Ip,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,k,w){for(var S=this.state.formattedGraphicalItems,j=0,_=S.length;j<_;j++){var P=S[j];if(P.item===b||P.props.key===b.key||k===Ga(P.item.type)&&w===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,k=this.state.offset,w=k.left,S=k.top,j=k.height,_=k.width;return C.createElement("defs",null,C.createElement("clipPath",{id:b},C.createElement("rect",{x:w,y:S,height:j,width:_})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(k,w){var S=d2(w,2),j=S[0],_=S[1];return K(K({},k),{},Ae({},j,_.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(k,w){var S=d2(w,2),j=S[0],_=S[1];return K(K({},k),{},Ae({},j,_.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var k;return(k=this.state.xAxisMap)===null||k===void 0||(k=k[b])===null||k===void 0?void 0:k.scale}},{key:"getYScaleByAxisId",value:function(b){var k;return(k=this.state.yAxisMap)===null||k===void 0||(k=k[b])===null||k===void 0?void 0:k.scale}},{key:"getItemByXY",value:function(b){var k=this.state,w=k.formattedGraphicalItems,S=k.activeItem;if(w&&w.length)for(var j=0,_=w.length;j<_;j++){var P=w[j],A=P.props,N=P.item,M=N.type.defaultProps!==void 0?K(K({},N.type.defaultProps),N.props):N.props,B=Ga(N.type);if(B==="Bar"){var R=(A.data||[]).find(function(D){return yH(b,D)});if(R)return{graphicalItem:P,payload:R}}else if(B==="RadialBar"){var $=(A.data||[]).find(function(D){return q1(b,D)});if($)return{graphicalItem:P,payload:$}}else if(jh(P,S)||Oh(P,S)||Fc(P,S)){var L=xV({graphicalItem:P,activeTooltipItem:S,itemData:M.data}),F=M.activeIndex===void 0?L:M.activeIndex;return{graphicalItem:K(K({},P),{},{childIndex:F}),payload:Fc(P,S)?M.data[L]:P.props.data[L]}}}return null}},{key:"render",value:function(){var b=this;if(!Fx(this))return null;var k=this.props,w=k.children,S=k.className,j=k.width,_=k.height,P=k.style,A=k.compact,N=k.title,M=k.desc,B=h2(k,nQ),R=$e(B,!1);if(A)return C.createElement(Gw,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},C.createElement(G0,Ji({},R,{width:j,height:_,title:N,desc:M}),this.renderClipPath(),Wx(w,this.renderMap)));if(this.props.accessibilityLayer){var $,L;R.tabIndex=($=this.props.tabIndex)!==null&&$!==void 0?$:0,R.role=(L=this.props.role)!==null&&L!==void 0?L:"application",R.onKeyDown=function(D){b.accessibilityManager.keyboardEvent(D)},R.onFocus=function(){b.accessibilityManager.focus()}}var F=this.parseEventsOfWrapper();return C.createElement(Gw,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},C.createElement("div",Ji({className:et("recharts-wrapper",S),style:K({position:"relative",cursor:"default",width:j,height:_},P)},F,{ref:function(z){b.container=z}}),C.createElement(G0,Ji({},R,{width:j,height:_,title:N,desc:M,style:bQ}),this.renderClipPath(),Wx(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(O.Component);Ae(m,"displayName",r),Ae(m,"defaultProps",K({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),Ae(m,"getDerivedStateFromProps",function(x,y){var g=x.dataKey,b=x.data,k=x.children,w=x.width,S=x.height,j=x.layout,_=x.stackOffset,P=x.margin,A=y.dataStartIndex,N=y.dataEndIndex;if(y.updateId===void 0){var M=m2(x);return K(K(K({},M),{},{updateId:0},p(K(K({props:x},M),{},{updateId:0}),y)),{},{prevDataKey:g,prevData:b,prevWidth:w,prevHeight:S,prevLayout:j,prevStackOffset:_,prevMargin:P,prevChildren:k})}if(g!==y.prevDataKey||b!==y.prevData||w!==y.prevWidth||S!==y.prevHeight||j!==y.prevLayout||_!==y.prevStackOffset||!is(P,y.prevMargin)){var B=m2(x),R={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},$=K(K({},g2(y,b,j)),{},{updateId:y.updateId+1}),L=K(K(K({},B),R),$);return K(K(K({},L),p(K({props:x},L),y)),{},{prevDataKey:g,prevData:b,prevWidth:w,prevHeight:S,prevLayout:j,prevStackOffset:_,prevMargin:P,prevChildren:k})}if(!W0(k,y.prevChildren)){var F,D,z,W,te=Pn(k,As),q=te&&(F=(D=te.props)===null||D===void 0?void 0:D.startIndex)!==null&&F!==void 0?F:A,Z=te&&(z=(W=te.props)===null||W===void 0?void 0:W.endIndex)!==null&&z!==void 0?z:N,U=q!==A||Z!==N,de=!Te(b),ne=de&&!U?y.updateId:y.updateId+1;return K(K({updateId:ne},p(K(K({props:x},y),{},{updateId:ne,dataStartIndex:q,dataEndIndex:Z}),y)),{},{prevChildren:k,dataStartIndex:q,dataEndIndex:Z})}return null}),Ae(m,"renderActiveDot",function(x,y,g){var b;return O.isValidElement(x)?b=O.cloneElement(x,y):Re(x)?b=x(y):b=C.createElement(Sh,y),C.createElement(xt,{className:"recharts-active-dot",key:g},b)});var v=O.forwardRef(function(y,g){return C.createElement(m,Ji({},y,{ref:g}))});return v.displayName=m.displayName,v},gv=pv({chartName:"LineChart",GraphicalChild:qr,axisComponents:[{axisType:"xAxis",AxisComp:ga},{axisType:"yAxis",AxisComp:ma}],formatAxisMap:ov}),MQ=pv({chartName:"ScatterChart",GraphicalChild:tn,defaultTooltipEventType:"item",validateTooltipEventTypes:["item"],axisComponents:[{axisType:"xAxis",AxisComp:ga},{axisType:"yAxis",AxisComp:ma},{axisType:"zAxis",AxisComp:Mh}],formatAxisMap:ov}),SP=pv({chartName:"AreaChart",GraphicalChild:Hn,axisComponents:[{axisType:"xAxis",AxisComp:ga},{axisType:"yAxis",AxisComp:ma}],formatAxisMap:ov});const CQ="modulepreload",EQ=function(e){return"/"+e},v2={},TQ=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),s=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));a=Promise.allSettled(r.map(l=>{if(l=EQ(l),l in v2)return;v2[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":CQ,c||(d.as="script"),d.crossOrigin="",d.href=l,s&&d.setAttribute("nonce",s),document.head.appendChild(d),c)return new Promise((h,p)=>{d.addEventListener("load",h),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(i){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=i,window.dispatchEvent(s),!s.defaultPrevented)throw i}return a.then(i=>{for(const s of i||[])s.status==="rejected"&&o(s.reason);return t().catch(o)})};function $Q(e){const[[t,r,n],[a,o,i],[s,l,c]]=e,u=t*(o*c-i*l)-r*(a*c-i*s)+n*(a*l-o*s);if(Math.abs(u)<1e-10)return null;const d=1/u;return[[(o*c-i*l)*d,(n*l-r*c)*d,(r*i-n*o)*d],[(i*s-a*c)*d,(t*c-n*s)*d,(n*a-t*i)*d],[(a*l-o*s)*d,(r*s-t*l)*d,(t*o-r*a)*d]]}function x2(e,t){const r=[[0,0,0],[0,0,0],[0,0,0]];for(let n=0;n<3;n++)for(let a=0;a<3;a++)for(let o=0;o<3;o++)r[n][a]+=e[n][o]*t[o][a];return r}class Us{constructor(t){en(this,"size");en(this,"isPowerOfTwo");en(this,"_real");en(this,"_imag");en(this,"_scratch",null);en(this,"_rev",null);en(this,"_m",0);en(this,"_internalFFT",null);en(this,"_chirpReal",null);en(this,"_chirpImag",null);en(this,"_bReal",null);en(this,"_bImag",null);en(this,"_hanning",null);en(this,"_windowSumSq",0);this.size=t,this.isPowerOfTwo=(t&t-1)===0&&t>0,this._real=new Float32Array(t),this._imag=new Float32Array(t),this.isPowerOfTwo?this.initRadix2():this.initBluestein()}initRadix2(){const t=this.size,r=Math.log2(t);this._rev=new Uint32Array(t);for(let n=0;n<t;n++){let a=0,o=n;for(let i=0;i<r;i++)a=a<<1|o&1,o>>>=1;this._rev[n]=a}}initBluestein(){const t=this.size;this._m=Math.pow(2,Math.ceil(Math.log2(2*t-1))),this._internalFFT=new Us(this._m),this._chirpReal=new Float32Array(t),this._chirpImag=new Float32Array(t);for(let a=0;a<t;a++){const o=-Math.PI*(a*a)/t;this._chirpReal[a]=Math.cos(o),this._chirpImag[a]=Math.sin(o)}const r=new Float32Array(this._m),n=new Float32Array(this._m);for(let a=0;a<t;a++)r[a]=this._chirpReal[a],n[a]=-this._chirpImag[a];for(let a=1;a<t;a++)r[this._m-a]=r[a],n[this._m-a]=n[a];this._internalFFT.transform(r,n),this._bReal=new Float32Array(this._internalFFT._real),this._bImag=new Float32Array(this._internalFFT._imag)}initHanning(){if(this._hanning)return;const t=this.size;this._hanning=new Float32Array(t);let r=0;for(let n=0;n<t;n++){const a=.5*(1-Math.cos(2*Math.PI*n/(t-1)));this._hanning[n]=a,r+=a*a}this._windowSumSq=r}transform(t,r){this.isPowerOfTwo?this.transformRadix2(t,r):this.transformBluestein(t,r)}transformRadix2(t,r){const n=this.size,a=this._rev,o=this._real,i=this._imag;if(t===o)for(let s=0;s<n;s++){const l=a[s];if(s<l){const c=o[s],u=i[s];o[s]=o[l],i[s]=i[l],o[l]=c,i[l]=u}}else for(let s=0;s<n;s++){const l=a[s];o[s]=t[l],i[s]=r?r[l]:0}for(let s=2;s<=n;s*=2){const l=s/2,c=-2*Math.PI/s,u=Math.cos(c),d=Math.sin(c);for(let h=0;h<n;h+=s){let p=1,m=0;for(let v=0;v<l;v++){const x=h+v,y=h+v+l,g=p*o[y]-m*i[y],b=p*i[y]+m*o[y],k=o[x],w=i[x];o[x]=k+g,i[x]=w+b,o[y]=k-g,i[y]=w-b;const S=p*u-m*d,j=p*d+m*u;p=S,m=j}}}}transformBluestein(t,r){const n=this.size,a=this._m,o=this._internalFFT,i=o._real,s=o._imag;i.fill(0),s.fill(0);for(let d=0;d<n;d++){const h=t[d],p=r?r[d]:0,m=this._chirpReal[d],v=this._chirpImag[d];i[d]=h*m-p*v,s[d]=h*v+p*m}o.transformRadix2(i,s);for(let d=0;d<a;d++){const h=o._real[d],p=o._imag[d],m=this._bReal[d],v=this._bImag[d];o._real[d]=h*m-p*v,o._imag[d]=h*v+p*m}const l=o._real,c=o._imag;for(let d=0;d<a;d++)c[d]=-c[d];o.transformRadix2(l,c);const u=1/a;for(let d=0;d<n;d++){const h=o._real[d]*u,p=-o._imag[d]*u,m=this._chirpReal[d],v=this._chirpImag[d];this._real[d]=h*m-p*v,this._imag[d]=h*v+p*m}}calculateSpectrum(t,r,n=!1){const a=this.size;let o=0;for(let u=0;u<a;u++)o+=t[u];const i=o/a;this._scratch||(this._scratch=new Float32Array(a));const s=this._scratch;if(n){this.initHanning();const u=this._hanning;for(let d=0;d<a;d++)s[d]=(t[d]-i)*u[d]}else for(let u=0;u<a;u++)s[u]=t[u]-i;this.transform(s);const l=r.length;let c=1/a;n&&this._windowSumSq>0&&(c=1/this._windowSumSq);for(let u=0;u<l;u++){const d=this._real[u],h=this._imag[u];r[u]+=(d*d+h*h)*c}}}function DQ(e,t,r,n=!1){const a=new Us(t),o=new Us(r),i=t*r,s=new Float32Array(i),l=new Float32Array(i);let c=null,u=null;if(n){c=new Float32Array(t);for(let v=0;v<t;v++)c[v]=.5*(1-Math.cos(2*Math.PI*v/(t-1)));u=new Float32Array(r);for(let v=0;v<r;v++)u[v]=.5*(1-Math.cos(2*Math.PI*v/(r-1)))}for(let v=0;v<r;v++){const x=v*t,y=a._real;let g=0;for(let k=0;k<t;k++)g+=e[x+k];const b=g/t;if(c)for(let k=0;k<t;k++)y[k]=(e[x+k]-b)*c[k];else for(let k=0;k<t;k++)y[k]=e[x+k]-b;a.transform(y);for(let k=0;k<t;k++)s[x+k]=a._real[k],l[x+k]=a._imag[k]}for(let v=0;v<t;v++){const x=o._real,y=o._imag;for(let g=0;g<r;g++){const b=g*t+v;let k=s[b],w=l[b];u&&(k*=u[g],w*=u[g]),x[g]=k,y[g]=w}o.transform(x,y);for(let g=0;g<r;g++){const b=g*t+v;s[b]=o._real[g],l[b]=o._imag[g]}}const d=new Float32Array(i);let h=1,p=t,m=r;if(n&&c&&u){p=0;for(let v=0;v<t;v++)p+=c[v]*c[v];m=0;for(let v=0;v<r;v++)m+=u[v]*u[v]}h=1/(p*m);for(let v=0;v<i;v++)d[v]=(s[v]*s[v]+l[v]*l[v])*h;return d}function LQ(e,t,r){const n=new Float32Array(e.length),a=Math.floor(t/2),o=Math.floor(r/2);for(let i=0;i<r;i++)for(let s=0;s<t;s++){const l=(s+a)%t,c=(i+o)%r,u=i*t+s,d=c*t+l;n[d]=e[u]}return n}let Fp=null;async function mv(){if(!Fp)try{const n=(await TQ(()=>import("./joraw-BxZKI7cB.js"),[])).default;if(typeof n!="function")throw new Error("JoRaw WASM import failed");const a=new URL("/assets/joraw-BUh50ws_.wasm",import.meta.url).href;Fp=n({locateFile:(o,i)=>o.endsWith("joraw.wasm")?a:i+o})}catch(r){throw console.error("Failed to load joraw.js:",r),r}const e=await Fp,t=e.LibRaw||e.JoRaw;if(!t)throw new Error("JoRaw class not found");return t}const RQ=[[3.2404542,-1.5371385,-.4985314],[-.969266,1.8760108,.041556],[.0556434,-.2040259,1.0572252]],zp=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055;async function IQ(e){const t=await createImageBitmap(e),r=t.width,n=t.height,a=document.createElement("canvas");a.width=r,a.height=n;const o=a.getContext("2d");if(!o)throw new Error("Failed to create canvas context");o.drawImage(t,0,0);const s=o.getImageData(0,0,r,n).data,l=r*n,c=new Uint16Array(l);for(let d=0;d<n;d++)for(let h=0;h<r;h++){const p=(d*r+h)*4,m=d*r+h,v=d%2===0,x=h%2===0;let y=0;v&&x?y=s[p]:!v&&!x?y=s[p+2]:y=s[p+1],c[m]=y*64}return{previewBlob:await new Promise(d=>a.toBlob(d,"image/png"))||e,analysisData:{data:c,width:r,height:n,bayerPattern:"RGGB",blackLevels:[0,0,0,0],whiteLevel:16320,metadata:{description:"Standard image (non-RAW)"},isThreePlane:!0}}}const BQ=async e=>{const t=await mv(),r=new t;try{await r.open(e,{useCameraWb:!0,outputBps:8,noAutoBright:!0,userQual:3,outputColor:1});const n=await r.imageData();return new Promise((a,o)=>{const i=document.createElement("canvas");i.width=n.width,i.height=n.height;const s=i.getContext("2d");if(!s){o(new Error("Could not create canvas context"));return}const l=s.createImageData(n.width,n.height),c=n.data,u=n.width*n.height;for(let d=0;d<u;d++){const h=d*3,p=d*4;l.data[p]=c[h],l.data[p+1]=c[h+1],l.data[p+2]=c[h+2],l.data[p+3]=255}s.putImageData(l,0,0),i.toBlob(d=>{d?a(d):o(new Error("Canvas to Blob failed"))},"image/jpeg",.85)})}finally{r.delete?r.delete():r.close()}},Nd=async e=>{var n,a,o,i,s,l,c,u,d;const t=await mv(),r=new t;try{if(await r.open(e,{}),typeof r.getRawImage!="function")throw new Error("WASM mismatch");const h=r.getRawImage(),p=await r.metadata(!0);let m=[];if((n=p.color_data)!=null&&n.cblack_rawpy_style)m=p.color_data.cblack_rawpy_style;else if((o=(a=p.color_data)==null?void 0:a.dng_levels)!=null&&o.dng_cblack)m=p.color_data.dng_levels.dng_cblack;else if(((i=p.black_level_per_channel)==null?void 0:i.length)>=4)m=p.black_level_per_channel;else if(((s=p.cblack)==null?void 0:s.length)>=4)m=p.cblack;else if(((c=(l=p.color)==null?void 0:l.cblack)==null?void 0:c.length)>=4)m=p.color.cblack;else{const b=p.black_level||p.color_data&&p.color_data.black||0;m=[b,b,b,b]}const v=[Number(m[0])||0,Number(m[1])||0,Number(m[2])||0,Number(m[3])||0],x=((u=p.idata)==null?void 0:u.filters)||0,y=((d=p.idata)==null?void 0:d.colors)||0,g=x===0&&y===3;return{data:h.data,width:h.width,height:h.height,bayerPattern:p.color_desc||"RGGB",blackLevels:v,whiteLevel:p.white_level||16383,metadata:p,isThreePlane:g}}finally{r.delete?r.delete():r.close()}};async function Wp(e){const t=new Uint8Array(e.slice(0)),r=new Uint8Array(e.slice(0)),[n,a]=await Promise.all([BQ(t),Nd(r)]);return{previewBlob:n,analysisData:a}}async function b2(e){const t=new Uint8Array(e.slice(0));return Nd(t)}const w2=e=>(e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,e++,e);async function k2(e,t,r,n=!0){const a=await Nd(new Uint8Array(e)),o=await Nd(new Uint8Array(t));if(a.width!==o.width||a.height!==o.height)throw new Error("Dimension Mismatch");const i=a.width,s=a.height,l=r?w2(i):i,c=r?w2(s):s,u=l*c,d=new Uint16Array(u),h=6e4,p=1.41421356;for(let m=0;m<s;m++){const v=m*i,x=m*l;for(let y=0;y<i;y++){const g=a.data[v+y],b=o.data[v+y];let k=g-b;n&&(k/=p);let w=k+h;w=Math.max(0,Math.min(65535,w)),d[x+y]=Math.round(w)}}return{rawData:d,width:l,height:c,metadata:a.metadata}}function Ii(e,t,r,n,a,o,i){const s=Math.max(0,Math.floor(n)),l=Math.max(0,Math.floor(a)),c=Math.min(t,Math.ceil(n+o)),u=Math.min(r,Math.ceil(a+i)),d=[0,0,0,0],h=[0,0,0,0],p=[0,0,0,0];for(let x=l;x<u;x++){const y=x*t,g=x%2;for(let b=s;b<c;b++){const k=b%2,w=e[y+b],S=g*2+k;d[S]+=w,h[S]+=w*w,p[S]++}}const m=[0,0,0,0],v=[0,0,0,0];for(let x=0;x<4;x++)if(p[x]>0){const y=d[x]/p[x];m[x]=y;const b=h[x]/p[x]-y*y;v[x]=Math.sqrt(Math.max(0,b))}return{x:s,y:l,width:c-s,height:u-l,means:m,stdDevs:v,pixelCount:p.reduce((x,y)=>x+y,0)}}function FQ(e,t,r,n,a,o,i,s,l,c,u){if(c<=l)return[];const d=Math.max(0,Math.floor(n)),h=Math.max(0,Math.floor(a)),p=Math.min(t,Math.ceil(n+o)),m=Math.min(r,Math.ceil(a+i)),v=c-l,x=u?Math.floor(v)+1:s,y=v/x,g=[new Uint32Array(x),new Uint32Array(x),new Uint32Array(x),new Uint32Array(x)];for(let k=h;k<m;k++){const w=k*t,S=k%2;for(let j=d;j<p;j++){const _=j%2,P=e[w+j];if(P<l||P>c)continue;const A=S*2+_;let N;u?N=Math.floor(P-l):N=Math.floor((P-l)/y),N<0&&(N=0),N>=x&&(N=x-1),g[A][N]++}}const b=[];for(let k=0;k<x;k++){const w=l+(u?k:k*y);b.push({binStart:w,c0:g[0][k],c1:g[1][k],c2:g[2][k],c3:g[3][k]})}return b}function zQ(e,t,r,n,a,o=!1,i=!1,s={rows:!1,rowGroup:0,cols:!1,colGroup:0},l=!0,c=1){const u=Math.max(0,Math.floor(n.x)),d=Math.max(0,Math.floor(n.y)),h=Math.min(t,Math.ceil(n.x+n.w)),p=Math.min(r,Math.ceil(n.y+n.h)),m=h-u,v=p-d;if(m<=1||v<=1)return null;let x=0;for(let N=u;N<h;N++)N%2===(a&1)&&x++;let y=0;for(let N=d;N<p;N++)N%2===a>>1&&y++;if(x<4||y<4)return null;const g=Math.max(1,c),b=Math.floor(2*x/(g+1)),k=Math.floor(2*y/(g+1));if(b<4||k<4)return null;const w=new Us(b),S=new Us(k),j=new Float32Array(Math.floor(b/2)+1),_=new Float32Array(Math.floor(k/2)+1);let P=0,A=0;for(let N=d;N<p;N++){const M=N%2;if(a>>1!==M||s.rows&&(N>>1&1)!==s.rowGroup)continue;const B=N*t,R=new Float32Array(x);let $=0;for(let L=u;L<h;L++)L%2===(a&1)&&$<x&&(R[$++]=e[B+L]);for(let L=0;L<g;L++){const F=Math.floor(L*b/2);if(F+b>x)break;const D=R.slice(F,F+b);w.calculateSpectrum(D,j,i),P++}if(!l)break}for(let N=u;N<h;N++){const M=N%2;if((a&1)!==M||s.cols&&(N>>1&1)!==s.colGroup)continue;const B=new Float32Array(y);let R=0;for(let $=d;$<p;$++)$%2===a>>1&&R<y&&(B[R++]=e[$*t+N]);for(let $=0;$<g;$++){const L=Math.floor($*k/2);if(L+k>y)break;const F=B.slice(L,L+k);S.calculateSpectrum(F,_,i),A++}if(!l)break}if(P>0)for(let N=0;N<j.length;N++)j[N]/=P;if(A>0)for(let N=0;N<_.length;N++)_[N]/=A;return{avgHoriz:Array.from(j),avgVert:Array.from(_),sampleCount:{h:P,v:A}}}function WQ(e,t,r,n,a,o=!1){const i=Math.max(0,Math.floor(n.x)),s=Math.max(0,Math.floor(n.y)),l=Math.min(t,Math.ceil(n.x+n.w)),c=Math.min(r,Math.ceil(n.y+n.h));let u=-1;for(let g=s;g<c;g++)if(g%2===a>>1){u=g;break}if(u===-1)return null;let d=-1;for(let g=i;g<l;g++)if(g%2===(a&1)){d=g;break}if(d===-1)return null;const h=[];for(let g=u;g<c;g+=2){const b=g*t,k=[];for(let w=d;w<l;w+=2)k.push(e[b+w]);h.push(k)}const p=h.length;if(p===0)return null;const m=h[0].length;if(m===0)return null;const v=new Float32Array(m*p);for(let g=0;g<p;g++){const b=h[g];for(let k=0;k<m;k++)v[g*m+k]=b[k]}const x=DQ(v,m,p,o),y=LQ(x,m,p);return{width:m,height:p,data:y}}function UQ(e,t,r,n,a,o,i){const s=[],l=Math.max(0,Math.floor(n.x)),c=Math.max(0,Math.floor(n.y)),u=Math.min(t,Math.ceil(n.x+n.w)),d=Math.min(r,Math.ceil(n.y+n.h)),h=a>>1,p=a&1;for(let g=c;g<d;g++){if(g%2!==h)continue;const b=g*t;for(let k=l;k<u;k++){if(k%2!==p)continue;const w=e[b+k];w>=o&&w<=i&&s.push(w-o)}}if(s.length===0)return null;s.sort((g,b)=>g-b);const m=[s[0]];for(let g=1;g<s.length;g++)s[g]!==s[g-1]&&m.push(s[g]);const v=[],x=[],y={};for(let g=0;g<m.length-1;g++){const b=m[g],w=m[g+1]-b;v.push(w),x.push({x:b,y:w}),y[w]=(y[w]||0)+1}return{uniqueCount:m.length,diffCount:v.length,stepCounts:y,plotData:x}}async function S2(e,t){const r=await mv(),n=new r;try{const a=new Uint8Array(e.slice(0));let o=!1,i=[];if(t.customMatrix&&t.customMatrix.length===9){const h=[[t.customMatrix[0],t.customMatrix[1],t.customMatrix[2]],[t.customMatrix[3],t.customMatrix[4],t.customMatrix[5]],[t.customMatrix[6],t.customMatrix[7],t.customMatrix[8]]],p=$Q(h);if(p){const m=t.wbGains?t.wbGains[0]:1,v=t.wbGains?t.wbGains[1]:1,y=x2(p,[[m,0,0],[0,1,0],[0,0,v]]),g=x2(RQ,y);i=[g[0][0],g[0][1],g[0][2],g[1][0],g[1][1],g[1][2],g[2][0],g[2][1],g[2][2]],o=!0}else throw new Error("Custom Matrix is not invertible.")}const s={outputBps:16,noAutoBright:!0,bright:o?1:Math.pow(2,t.exposure)};t.blackLevel&&t.blackLevel.length===4&&(s.userBlack=0,s.userCblack=t.blackLevel.map(h=>{const p=Math.round(h);return p===0?1:p})),t.demosaicMethod===-1?s.noInterpolation=!0:s.userQual=t.demosaicMethod,o?(s.outputColor=0,s.gamma=[1,1],s.userMul=[1,1,1,1],s.useCameraWb=!1):(s.outputColor=1,s.useCameraWb=!0),await n.open(a,s);const l=await n.imageData(),c=new ImageData(l.width,l.height),u=c.data,d=new Uint16Array(l.data.buffer,l.data.byteOffset,l.data.byteLength/2);if(o&&i.length===9){const h=i,m=Math.pow(2,t.exposure)*.25;for(let v=0;v<d.length;v+=3){const x=d[v]/65535,y=d[v+1]/65535,g=d[v+2]/65535;let b=h[0]*x+h[1]*y+h[2]*g,k=h[3]*x+h[4]*y+h[5]*g,w=h[6]*x+h[7]*y+h[8]*g;b*=m,k*=m,w*=m,b=Math.max(0,Math.min(1,b)),k=Math.max(0,Math.min(1,k)),w=Math.max(0,Math.min(1,w)),b=zp(b),k=zp(k),w=zp(w);const S=v/3*4;u[S]=Math.round(b*255),u[S+1]=Math.round(k*255),u[S+2]=Math.round(w*255),u[S+3]=255}}else for(let h=0;h<d.length;h+=3){const p=h/3*4;u[p]=d[h]>>8,u[p+1]=d[h+1]>>8,u[p+2]=d[h+2]>>8,u[p+3]=255}return c}finally{n.delete?n.delete():n.close()}}const GQ=({isOpen:e,onClose:t,onMinimize:r,rawImageData:n,roi:a,isBGGR:o,zIndex:i,onFocus:s,initialPosition:l,initialInternalState:c,onUpdateState:u})=>{const[d,h]=O.useState((c==null?void 0:c.channelMode)||"All"),[p,m]=O.useState((c==null?void 0:c.minVal)??0),[v,x]=O.useState((c==null?void 0:c.maxVal)??16383),[y,g]=O.useState((c==null?void 0:c.binCount)??100),[b,k]=O.useState((c==null?void 0:c.pointToPoint)??!1),[w,S]=O.useState(!1),[j,_]=O.useState([]),[P,A]=O.useState(null),[N,M]=O.useState(l||{x:100,y:100}),[B,R]=O.useState(!1),$=O.useRef({x:0,y:0});O.useEffect(()=>{u&&u({channelMode:d,minVal:p,maxVal:v,binCount:y,pointToPoint:b})},[d,p,v,y,b]),O.useEffect(()=>{if(!e||!n||!a)return;if(v<=p){A("Invalid range: Max must be greater than Min");return}A(null),S(!0);const W=setTimeout(()=>{try{const te=FQ(n.data,n.width,n.height,a.x,a.y,a.w,a.h,y,p,v,b);_(te)}catch(te){console.error("Histogram calc error:",te),A("Error calculating histogram")}finally{S(!1)}},50);return()=>clearTimeout(W)},[e,n,a==null?void 0:a.x,a==null?void 0:a.y,a==null?void 0:a.w,a==null?void 0:a.h,y,p,v,b]);const L=W=>{s&&s(),!(W.target.closest("button")||W.target.closest("input")||W.target.closest("select"))&&(R(!0),$.current={x:W.clientX-N.x,y:W.clientY-N.y})};if(O.useEffect(()=>{const W=q=>{B&&M({x:q.clientX-$.current.x,y:q.clientY-$.current.y})},te=()=>R(!1);return B&&(window.addEventListener("mousemove",W),window.addEventListener("mouseup",te)),()=>{window.removeEventListener("mousemove",W),window.removeEventListener("mouseup",te)}},[B]),!e)return null;const F=o?{c0:"Blue",c1:"Green 1",c2:"Green 2",c3:"Red"}:{c0:"Red",c1:"Green 1",c2:"Green 2",c3:"Blue"},D=o?{c0:"#3b82f6",c1:"#22c55e",c2:"#4ade80",c3:"#ef4444"}:{c0:"#ef4444",c1:"#22c55e",c2:"#4ade80",c3:"#3b82f6"},z="step";return f.jsxs("div",{className:"fixed flex flex-col bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 shadow-2xl rounded-xl resize-both overflow-hidden min-w-[500px] min-h-[400px] w-[900px] h-[600px]",style:{left:N.x,top:N.y,zIndex:i??100},onMouseDownCapture:s,children:[f.jsxs("div",{className:`flex justify-between items-center p-4 border-b border-gray-200 dark:border-slate-700 flex-shrink-0 bg-white dark:bg-slate-900 select-none ${B?"cursor-grabbing":"cursor-grab"}`,onMouseDown:L,children:[f.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-slate-100 pointer-events-none",children:"ROI Histogram"}),f.jsxs("div",{className:"flex items-center gap-1",children:[r&&f.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors",children:f.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),f.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 dark:hover:text-red-400 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors",children:f.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),f.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-800/50 flex flex-wrap gap-4 items-center border-b border-gray-200 dark:border-slate-700 text-sm flex-shrink-0 relative z-10",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-gray-500 dark:text-slate-400 font-semibold",children:"Channel:"}),f.jsxs("select",{value:d,onChange:W=>h(W.target.value),className:"bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-gray-900 dark:text-slate-100 outline-none focus:ring-1 focus:ring-cyan-500",children:[f.jsx("option",{value:"All",children:"All Colors"}),f.jsx("option",{value:"0",children:F.c0}),f.jsx("option",{value:"1",children:F.c1}),f.jsx("option",{value:"2",children:F.c2}),f.jsx("option",{value:"3",children:F.c3})]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-gray-500 dark:text-slate-400 font-semibold",children:"Range (DN):"}),f.jsx("input",{type:"number",value:p,onChange:W=>m(Number(W.target.value)),className:"w-20 px-2 py-1 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-gray-900 dark:text-slate-100 text-right"}),f.jsx("span",{className:"text-gray-400",children:"-"}),f.jsx("input",{type:"number",value:v,onChange:W=>x(Number(W.target.value)),className:"w-20 px-2 py-1 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-gray-900 dark:text-slate-100 text-right"})]}),f.jsxs("div",{className:"flex items-center gap-4 border-l border-gray-300 dark:border-slate-600 pl-4",children:[f.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[f.jsx("input",{type:"checkbox",checked:b,onChange:W=>k(W.target.checked),className:"w-4 h-4 text-cyan-600 rounded border-gray-300 focus:ring-cyan-500"}),f.jsx("span",{className:"text-gray-700 dark:text-slate-300 select-none",title:"High compute cost",children:"1:1 Point-to-Point"})]}),!b&&f.jsxs("div",{className:"flex items-center gap-2 animate-in fade-in",children:[f.jsx("span",{className:"text-gray-500 dark:text-slate-400 font-semibold",children:"Bins:"}),f.jsx("input",{type:"number",value:y,onChange:W=>g(Math.max(1,Number(W.target.value))),className:"w-16 px-2 py-1 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-gray-900 dark:text-slate-100 text-right"})]})]})]}),f.jsxs("div",{className:"flex-1 p-4 relative bg-white dark:bg-slate-900 overflow-hidden min-h-0",children:[f.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-0 pointer-events-none select-none opacity-10 mix-blend-normal dark:mix-blend-plus-lighter",children:f.jsx("svg",{viewBox:"0 0 500 60",className:"w-96 h-auto",children:f.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"36",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})}),w&&f.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-10 bg-white/50 dark:bg-slate-900/50 backdrop-blur-[1px]",children:f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("div",{className:"w-8 h-8 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mb-2"}),f.jsx("span",{className:"text-sm text-cyan-600 dark:text-cyan-400 font-semibold",children:"Calculating Histogram..."})]})}),P?f.jsx("div",{className:"flex items-center justify-center h-full text-red-500 relative z-10",children:P}):f.jsx("div",{className:"relative z-10 w-full h-full",children:f.jsx(ws,{width:"100%",height:"100%",children:f.jsxs(gv,{data:j,children:[f.jsx(ki,{strokeDasharray:"3 3",stroke:"#374151",opacity:.3}),f.jsx(ga,{dataKey:"binStart",type:"number",domain:[p,v],tickFormatter:W=>Math.floor(W).toString(),tick:{fill:"#9ca3af",fontSize:12},allowDataOverflow:!0,label:{value:"DN Value",position:"insideBottom",offset:-5,fill:"#9ca3af",fontSize:12}}),f.jsx(ma,{tick:{fill:"#9ca3af",fontSize:12},label:{value:"Count",angle:-90,position:"insideLeft",fill:"#9ca3af",fontSize:12}}),f.jsx(nn,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"0.5rem",color:"#f3f4f6"},itemStyle:{fontSize:"12px"},labelFormatter:W=>`DN: ${Math.round(Number(W))}`,formatter:W=>[W,"Count"]}),f.jsx(Va,{wrapperStyle:{paddingTop:"10px"}}),(d==="All"||d==="0")&&f.jsx(qr,{type:z,dataKey:"c0",name:F.c0,stroke:D.c0,dot:!1,strokeWidth:1.5,activeDot:{r:4},isAnimationActive:!1}),(d==="All"||d==="1")&&f.jsx(qr,{type:z,dataKey:"c1",name:F.c1,stroke:D.c1,dot:!1,strokeWidth:1.5,activeDot:{r:4},isAnimationActive:!1}),(d==="All"||d==="2")&&f.jsx(qr,{type:z,dataKey:"c2",name:F.c2,stroke:D.c2,dot:!1,strokeWidth:1.5,activeDot:{r:4},isAnimationActive:!1}),(d==="All"||d==="3")&&f.jsx(qr,{type:z,dataKey:"c3",name:F.c3,stroke:D.c3,dot:!1,strokeWidth:1.5,activeDot:{r:4},isAnimationActive:!1})]})})})]})]})},j2=(e,t,r)=>{const n=e.length,a=["c0_h","c0_v","c1_h","c1_v","c2_h","c2_v","c3_h","c3_v"];if(t>=n||t===0)return r==="extremum"?e.map(s=>{const l={...s};return a.forEach(c=>{l[c]!==void 0&&(l[`${c}_max`]=l[c],l[`${c}_min`]=l[c])}),l}):e;const o=[],i=Math.floor(n/t);for(let s=0;s<n;s+=i){const l=Math.min(s+i,n),c=e.slice(s,l);if(c.length===0)continue;const u={...c[Math.floor(c.length/2)]};a.forEach(d=>{const h=c.map(p=>p[d]).filter(p=>p!==void 0);if(h.length>0)if(r==="extremum"){const p=h.reduce((m,v)=>m+v,0);u[d]=p/h.length,u[`${d}_max`]=Math.max(...h),u[`${d}_min`]=Math.min(...h)}else{let p=h[0];r==="min"?p=Math.min(...h):r==="average"?p=h.reduce((v,x)=>v+x,0)/h.length:p=Math.max(...h),u[d]=p}}),o.push(u)}return o},HQ=(e,t)=>{if(t<=0)return[1];const r=new Array(e);let n=0;for(let a=0;a<e;a++){const o=a-(e-1)/2,i=Math.exp(-(o*o)/(2*t*t));r[a]=i,n+=i}for(let a=0;a<e;a++)r[a]/=n;return r},VQ=({isOpen:e,onClose:t,onMinimize:r,rawImageData:n,roi:a,isBGGR:o,onUpdateROI:i,zIndex:s,onFocus:l,initialPosition:c,initialInternalState:u,onUpdateState:d})=>{const[h,p]=O.useState((u==null?void 0:u.selectedChannel)??0),[m,v]=O.useState(()=>(u==null?void 0:u.yMinExp)||localStorage.getItem("fft_y_min")||"-1"),[x,y]=O.useState(()=>(u==null?void 0:u.yMaxExp)||localStorage.getItem("fft_y_max")||"8"),[g,b]=O.useState(()=>(u==null?void 0:u.poolingMethod)||localStorage.getItem("fft_pooling_method")||"max"),[k,w]=O.useState((u==null?void 0:u.useHanning)??!0),[S,j]=O.useState((u==null?void 0:u.doAverage)??!0),[_,P]=O.useState((u==null?void 0:u.welchSegments)??1),[A,N]=O.useState((u==null?void 0:u.showH)??!0),[M,B]=O.useState((u==null?void 0:u.showV)??!0),[R,$]=O.useState((u==null?void 0:u.interlaceRows)??!1),[L,F]=O.useState((u==null?void 0:u.rowGroup)??0),[D,z]=O.useState((u==null?void 0:u.interlaceCols)??!1),[W,te]=O.useState((u==null?void 0:u.colGroup)??0),[q,Z]=O.useState(()=>(u==null?void 0:u.theoSigma)||localStorage.getItem("fft_theo_sigma")||"1.35"),[U,de]=O.useState(()=>(u==null?void 0:u.theoKernelSize)||localStorage.getItem("fft_theo_ksize")||"3"),[ne,Me]=O.useState(()=>(u==null?void 0:u.theoNoiseStd)||localStorage.getItem("fft_theo_noise")||"1.0"),[be,H]=O.useState(()=>(u==null?void 0:u.theoScale)||localStorage.getItem("fft_theo_scale")||"1.0"),[ue,xe]=O.useState(!1),[X,Xe]=O.useState((u==null?void 0:u.intStart)||"0"),[Ne,tt]=O.useState((u==null?void 0:u.intEnd)||"0.5"),[ot,lt]=O.useState({}),[ur,Nt]=O.useState([]),[fr,Lt]=O.useState([]),[Pr,Kt]=O.useState(!1),[Qr,Nr]=O.useState(null),[$n,cn]=O.useState(!1),[Ar,Mr]=O.useState(null),[Ir,wn]=O.useState(!1),[Gt,va]=O.useState(null),[Br,Ea]=O.useState(c||{x:50,y:50}),[Zr,Jn]=O.useState(!1),[ea,At]=O.useState(null),[un,ct]=O.useState(!1),Fr=O.useRef({x:0,y:0}),Mt=o?{c0:"#3b82f6",c1:"#22c55e",c2:"#4ade80",c3:"#ef4444"}:{c0:"#ef4444",c1:"#22c55e",c2:"#4ade80",c3:"#3b82f6"},Q=O.useMemo(()=>o?{0:"Blue",1:"Green 1",2:"Green 2",3:"Red"}:{0:"Red",1:"Green 1",2:"Green 2",3:"Blue"},[o]),Ye=Y=>{const he=Y.target.value;b(he),localStorage.setItem("fft_pooling_method",he)};O.useEffect(()=>{localStorage.setItem("fft_y_min",m)},[m]),O.useEffect(()=>{localStorage.setItem("fft_y_max",x)},[x]),O.useEffect(()=>{localStorage.setItem("fft_theo_sigma",q)},[q]),O.useEffect(()=>{localStorage.setItem("fft_theo_ksize",U)},[U]),O.useEffect(()=>{localStorage.setItem("fft_theo_noise",ne)},[ne]),O.useEffect(()=>{localStorage.setItem("fft_theo_scale",be)},[be]),O.useEffect(()=>{d&&d({selectedChannel:h,yMinExp:m,yMaxExp:x,poolingMethod:g,useHanning:k,doAverage:S,welchSegments:_,showH:A,showV:M,interlaceRows:R,rowGroup:L,interlaceCols:D,colGroup:W,theoSigma:q,theoKernelSize:U,theoNoiseStd:ne,theoScale:be,intStart:X,intEnd:Ne})},[h,m,x,g,k,S,_,A,M,R,L,D,W,q,U,ne,be,X,Ne]),O.useEffect(()=>{if(!e||!n||!a)return;ct(!1),Kt(!0),Nr(null),Lt([]),Nt([]),Mr(null),lt({}),At(null);const Y=setTimeout(()=>{try{const he=h===-1?[0,1,2,3]:[h],De={};let rt=0,gt={h:0,v:0};for(const ce of he){const Je=zQ(n.data,n.width,n.height,a,ce,!1,k,{rows:R,rowGroup:L,cols:D,colGroup:W},S,_);Je&&Je.avgHoriz.length>0&&(De[ce]=Je,rt=Math.max(rt,Je.avgHoriz.length,Je.avgVert.length),gt=Je.sampleCount)}if(rt===0)throw new Error("Data is empty or ROI is too small.");At(gt);const pe=[],nt=.5,Ce=1e-10,it=(ce,Je)=>{const br=ce.length-1,rr=Je/nt*br,wr=Math.round(rr),Er=ce[Math.min(wr,br)]||0;return Math.max(Er,Ce)};for(let ce=0;ce<rt;ce++){const Je=ce/(rt-1)*nt,br={freq:parseFloat(Je.toFixed(5))};for(const rr of he)De[rr]&&(br[`c${rr}_h`]=it(De[rr].avgHoriz,Je),br[`c${rr}_v`]=it(De[rr].avgVert,Je));pe.push(br)}Nt(pe);const Ge=j2(pe,2e3,g);Lt(Ge)}catch(he){console.error("FFT Calculation Failed:",he),Nr(he.message||"Unknown error during FFT")}finally{Kt(!1)}},50);return()=>clearTimeout(Y)},[e,n,a==null?void 0:a.x,a==null?void 0:a.y,a==null?void 0:a.w,a==null?void 0:a.h,h,g,k,S,_,R,L,D,W]);const Rt=()=>{!n||!a||(Kt(!0),Nr(null),At(null),setTimeout(()=>{try{const Y=h===-1?[0,1,2,3]:[h],he={};let De=0;for(const pe of Y){const nt=WQ(n.data,n.width,n.height,a,pe,k);if(nt){const{width:Ce,height:it,data:Ge}=nt,ce=Math.floor(Ce/2),Je=Math.floor(it/2),br=Math.min(ce,Je),rr=[];for(let wr=0;wr<br;wr++){const Er=Ge[(Je+wr)*Ce+(ce+wr)];rr.push(Math.max(Er,1e-10))}he[pe]=rr,De=Math.max(De,br)}}if(De===0)throw new Error("2D Extraction failed");const rt=[];for(let pe=0;pe<De;pe++){const nt=pe/De*.5*Math.sqrt(2),Ce={freq:parseFloat(nt.toFixed(5))};for(const it of Y)he[it]&&he[it][pe]!==void 0&&(Ce[`c${it}_h`]=he[it][pe]);rt.push(Ce)}Nt(rt);const gt=j2(rt,2e3,g);Lt(gt),ct(!0)}catch(Y){console.error("2D Diag Calc Error:",Y),Nr(Y.message),ct(!1)}finally{Kt(!1)}},50))},dr=()=>{const Y=parseFloat(X),he=parseFloat(Ne);if(isNaN(Y)||isNaN(he))return;const De={},rt=h===-1?[0,1,2,3]:[h],gt=fr.filter(nt=>nt.freq>=Y&&nt.freq<=he),pe=gt.length;if(pe===0){lt({});return}rt.forEach(nt=>{let Ce=0,it=0;gt.forEach(Ge=>{const ce=Ge[`c${nt}_h`],Je=Ge[`c${nt}_v`];typeof ce=="number"&&(Ce+=ce),typeof Je=="number"&&(it+=Je)}),De[nt]={h:Ce/pe,v:it/pe,count:pe}}),lt(De)},fn=O.useMemo(()=>{const Y=parseFloat(q),he=parseInt(U),De=parseFloat(ne),rt=parseFloat(be);if(isNaN(Y)||isNaN(he)||isNaN(De)||isNaN(rt)||fr.length===0)return fr;const gt=HQ(he,Y),pe=gt.reduce((it,Ge)=>it+Ge*Ge,0),nt=(he-1)/2,Ce=De*De*rt;return fr.map(it=>{const Ge=it.freq,ce=2*Math.PI*Ge;let Je=0,br=0;for(let Er=0;Er<he;Er++){const io=Er-nt,kn=gt[Er],so=-ce*io;Je+=kn*Math.cos(so),br+=kn*Math.sin(so)}const rr=Je*Je+br*br,wr=Ce*pe*rr;return{...it,theory:Math.max(1e-10,wr)}})},[fr,q,U,ne,be]),Xt=Y=>{Y&&Y.activeLabel!==void 0&&(wn(!0),va(Number(Y.activeLabel)),Mr(null))},dn=Y=>{if(Ir&&Gt!==null&&Y&&Y.activeLabel!==void 0){const he=Number(Y.activeLabel);Mr([Math.min(Gt,he),Math.max(Gt,he)])}},Dn=()=>{wn(!1),va(null)},oo=Y=>{l&&l(),!(Y.target.closest("button")||Y.target.closest("input"))&&(Jn(!0),Fr.current={x:Y.clientX-Br.x,y:Y.clientY-Br.y})};O.useEffect(()=>{const Y=De=>{Zr&&Ea({x:De.clientX-Fr.current.x,y:De.clientY-Fr.current.y})},he=()=>Jn(!1);return Zr&&(window.addEventListener("mousemove",Y),window.addEventListener("mouseup",he)),()=>{window.removeEventListener("mousemove",Y),window.removeEventListener("mouseup",he)}},[Zr]);const Ze=O.useMemo(()=>{if(!Ar||ur.length===0)return null;const[Y,he]=Ar,De=ur.filter(pe=>pe.freq>=Y&&pe.freq<=he);if(De.length===0)return null;const rt=h===-1?[0,1,2,3]:[h],gt={};return rt.forEach(pe=>{["h","v"].forEach(nt=>{const Ce=`c${pe}_${nt}`;let it=0,Ge=0;for(const ce of De){const Je=ce[Ce];typeof Je=="number"&&(it+=Je,Ge++)}Ge>0&&(gt[`${Ce}_sigma`]=Math.sqrt(it/Ge))})}),{count:De.length,stats:gt}},[Ar,ur,h]),tr=()=>{let Y=Math.pow(10,parseFloat(m)||-1);const he=Math.pow(10,parseFloat(x)||8);return Y<=0&&(Y=1e-4),[Y,he]},pt=()=>{if(fr.length===0)return;let Y=1/0,he=-1/0;if(fr.forEach(Ce=>{Ce.freq<.01||Ce.freq>.49||Object.keys(Ce).forEach(it=>{if(it==="freq"||it==="theory")return;const Ge=Ce[it];typeof Ge=="number"&&Ge>0&&(Ge<Y&&(Y=Ge),Ge>he&&(he=Ge))})}),Y===1/0)return;const De=Math.log10(Y),rt=Math.log10(he),gt=rt-De,nt=(gt===0?1:gt)*.1;v((De-nt).toFixed(2)),y((rt+nt).toFixed(2))},ir=(Y,he)=>{!a||!i||i({...a,x:a.x+Y,y:a.y+he})},Ln=(Y,he)=>{!a||!i||i({...a,w:Math.max(2,a.w+Y),h:Math.max(2,a.h+he)})},Cr=()=>(h===-1?[0,1,2,3]:[h]).flatMap(he=>{const De=`c${he}_h`,rt=`c${he}_v`,gt=Mt[`c${he}`],pe=[];return A&&pe.push(f.jsx(qr,{type:"linear",dataKey:De,name:`${Q[he]} (H/Diag)`,stroke:gt,strokeWidth:1,dot:!1,activeDot:{r:4},isAnimationActive:!1,style:{shapeRendering:"crispEdges"}},`${he}_h`)),M&&pe.push(f.jsx(qr,{type:"linear",dataKey:rt,name:`${Q[he]} (V)`,stroke:gt,strokeWidth:1,strokeDasharray:"3 3",dot:!1,activeDot:{r:4},isAnimationActive:!1,style:{shapeRendering:"crispEdges"}},`${he}_v`)),pe});return e?f.jsx(f.Fragment,{children:f.jsxs("div",{className:"fixed flex flex-col bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 shadow-2xl rounded-xl overflow-hidden resize-both min-w-[600px] min-h-[500px]",style:{left:Br.x,top:Br.y,width:"900px",height:"800px",zIndex:s??100},onMouseDownCapture:l,children:[f.jsxs("div",{className:`flex justify-between items-center p-3 border-b border-gray-200 dark:border-slate-700 flex-shrink-0 bg-gray-50 dark:bg-slate-800 z-50 relative select-none ${Zr?"cursor-grabbing":"cursor-grab"}`,onMouseDown:oo,children:[f.jsxs("h2",{className:"text-lg font-bold text-gray-900 dark:text-slate-100 flex items-center gap-2 pointer-events-none",children:["Power Spectrum Analysis",f.jsx("span",{className:"text-xs font-normal bg-white dark:bg-slate-700 px-2 py-1 rounded text-gray-500 border border-gray-200 dark:border-slate-600 shadow-sm",children:S?`Averaged (${ea?`${ea.h}H/${ea.v}V`:"All"})`:"Single Line Mode"})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[r&&f.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors",children:f.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),f.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 dark:hover:text-red-400 p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors",children:f.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),f.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-800/50 border-b border-gray-200 dark:border-slate-700 flex-shrink-0 flex flex-wrap gap-4 items-center z-40 relative",children:[f.jsxs("div",{className:"flex gap-2 items-center",children:[f.jsx("span",{className:"text-[10px] font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide",children:"Channel"}),f.jsxs("div",{className:"flex bg-white dark:bg-slate-900 rounded-lg p-0.5 border border-gray-200 dark:border-slate-600 shadow-sm",children:[f.jsx("button",{onClick:()=>p(-1),className:`px-2 py-1 rounded text-[10px] font-bold transition-all ${h===-1?"bg-slate-800 text-white shadow-sm":"text-gray-600 dark:text-slate-400 hover:bg-gray-100 dark:hover:bg-slate-800"}`,children:"All"}),[0,1,2,3].map(Y=>f.jsx("button",{onClick:()=>p(Y),className:`px-2 py-1 rounded text-[10px] font-bold transition-all ${h===Y?"bg-cyan-600 text-white shadow-sm":"text-gray-600 dark:text-slate-400 hover:bg-gray-100 dark:hover:bg-slate-800"}`,children:Q[Y]},Y))]})]}),f.jsx("div",{className:"flex gap-2 items-center px-3 border-l border-gray-200 dark:border-slate-700",children:f.jsxs("button",{onClick:Rt,className:`${un?"bg-white dark:bg-slate-200 text-indigo-600 border-indigo-600 shadow-inner":"bg-indigo-600 hover:bg-indigo-500 text-white border-indigo-700 shadow-md"} text-[10px] font-bold py-1.5 px-3 rounded transition-all flex items-center gap-1 active:scale-95 border`,title:"Perform 2D FFT and extract y=x diagonal profile",children:[f.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"2D Diagonal"]})}),f.jsxs("div",{className:"flex items-center gap-2 px-3 border-l border-r border-gray-200 dark:border-slate-700",children:[f.jsx("span",{className:"text-[10px] font-bold text-indigo-600 dark:text-indigo-400 uppercase tracking-wide",children:"Model"}),f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("label",{className:"text-[9px] text-gray-400 dark:text-slate-500",children:"KSize"}),f.jsx("input",{type:"number",step:"2",min:"1",value:U,onChange:Y=>de(Y.target.value),className:"w-10 text-xs bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-600 rounded px-1 text-center outline-none focus:border-indigo-500"})]}),f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("label",{className:"text-[9px] text-gray-400 dark:text-slate-500",children:"Sigma"}),f.jsx("input",{type:"number",step:"0.05",value:q,onChange:Y=>Z(Y.target.value),className:"w-12 text-xs bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-600 rounded px-1 text-center outline-none focus:border-indigo-500"})]}),f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("label",{className:"text-[9px] text-gray-400 dark:text-slate-500",children:"Noise()"}),f.jsx("input",{type:"number",step:"0.1",value:ne,onChange:Y=>Me(Y.target.value),className:"w-10 text-xs bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-600 rounded px-1 text-center outline-none focus:border-indigo-500"})]}),f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("label",{className:"text-[9px] text-gray-400 dark:text-slate-500",children:"Scale"}),f.jsx("input",{type:"number",step:"0.1",value:be,onChange:Y=>H(Y.target.value),className:"w-10 text-xs bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-600 rounded px-1 text-center outline-none focus:border-indigo-500"})]})]}),f.jsxs("div",{className:"flex gap-2 items-center px-3 border-r border-gray-200 dark:border-slate-700",children:[f.jsx("span",{className:"text-[10px] font-bold text-fuchsia-600 dark:text-fuchsia-400 uppercase tracking-wide",children:"Welch"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("input",{type:"range",min:"1",max:"16",step:"1",value:_,onChange:Y=>P(parseInt(Y.target.value)),className:"w-16 h-1.5 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-fuchsia-500",title:"Number of segments for Welch Method averaging (50% overlap)"}),f.jsx("span",{className:"text-[10px] font-mono text-fuchsia-600 w-4 font-bold",children:_})]})]}),f.jsxs("div",{className:"flex gap-1 items-center",children:[f.jsx("span",{className:"text-[10px] font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide",children:"Pool"}),f.jsxs("select",{value:g,onChange:Ye,className:"text-[10px] font-bold bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-600 rounded py-1 px-1 text-gray-700 dark:text-slate-300 outline-none focus:ring-1 focus:ring-cyan-500",children:[f.jsx("option",{value:"max",children:"Max"}),f.jsx("option",{value:"min",children:"Min"}),f.jsx("option",{value:"average",children:"Avg"})]})]}),f.jsxs("div",{className:"flex flex-col gap-1 border-l border-gray-200 dark:border-slate-700 pl-2 ml-2",children:[f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsxs("label",{className:"text-[9px] text-gray-500 dark:text-slate-400 flex items-center gap-1 cursor-pointer",children:[f.jsx("input",{type:"checkbox",checked:R,onChange:Y=>$(Y.target.checked),className:"rounded-sm w-3 h-3 text-cyan-600 focus:ring-0"}),"Row Int."]}),R&&f.jsx("button",{onClick:()=>F(Y=>Y===0?1:0),className:"text-[9px] px-1 bg-gray-200 dark:bg-slate-700 text-gray-700 dark:text-slate-300 rounded font-bold w-6 text-center hover:bg-gray-300 dark:hover:bg-slate-600",children:L===0?"G1":"G2"})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsxs("label",{className:"text-[9px] text-gray-500 dark:text-slate-400 flex items-center gap-1 cursor-pointer",children:[f.jsx("input",{type:"checkbox",checked:D,onChange:Y=>z(Y.target.checked),className:"rounded-sm w-3 h-3 text-cyan-600 focus:ring-0"}),"Col Int."]}),D&&f.jsx("button",{onClick:()=>te(Y=>Y===0?1:0),className:"text-[9px] px-1 bg-gray-200 dark:bg-slate-700 text-gray-700 dark:text-slate-300 rounded font-bold w-6 text-center hover:bg-gray-300 dark:hover:bg-slate-600",children:W===0?"G1":"G2"})]})]}),f.jsxs("div",{className:"flex flex-col gap-1 border-l border-gray-200 dark:border-slate-700 pl-3 ml-2",children:[f.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer select-none bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-600 px-2 py-0.5 rounded shadow-sm",children:[f.jsx("div",{className:`w-3 h-3 rounded border flex items-center justify-center transition-colors ${k?"bg-fuchsia-600 border-fuchsia-600":"bg-gray-100 dark:bg-slate-800 border-gray-300 dark:border-slate-600"}`,children:k&&f.jsx("svg",{className:"w-2 h-2 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),f.jsx("input",{type:"checkbox",checked:k,onChange:Y=>w(Y.target.checked),className:"hidden"}),f.jsx("span",{className:"text-[10px] font-bold text-gray-700 dark:text-slate-300",children:"Hanning"})]}),f.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer select-none bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-600 px-2 py-0.5 rounded shadow-sm",children:[f.jsx("div",{className:`w-3 h-3 rounded border flex items-center justify-center transition-colors ${S?"bg-cyan-600 border-cyan-600":"bg-gray-100 dark:bg-slate-800 border-gray-300 dark:border-slate-600"}`,children:S&&f.jsx("svg",{className:"w-2 h-2 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),f.jsx("input",{type:"checkbox",checked:S,onChange:Y=>j(Y.target.checked),className:"hidden"}),f.jsx("span",{className:"text-[10px] font-bold text-gray-700 dark:text-slate-300",children:"Average"})]})]}),f.jsxs("div",{className:"flex gap-2 items-center border-l border-gray-200 dark:border-slate-700 pl-3 ml-2",children:[f.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-600 px-2 py-1 rounded shadow-sm",children:[f.jsx("div",{className:`w-3 h-3 rounded border flex items-center justify-center transition-colors ${A?"bg-cyan-600 border-cyan-600":"bg-gray-100 dark:bg-slate-800 border-gray-300 dark:border-slate-600"}`,children:A&&f.jsx("svg",{className:"w-2 h-2 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),f.jsx("input",{type:"checkbox",checked:A,onChange:Y=>N(Y.target.checked),className:"hidden"}),f.jsx("span",{className:"text-[10px] font-bold text-gray-700 dark:text-slate-300",children:"H"})]}),f.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-600 px-2 py-1 rounded shadow-sm",children:[f.jsx("div",{className:`w-3 h-3 rounded border flex items-center justify-center transition-colors ${M?"bg-cyan-600 border-cyan-600":"bg-gray-100 dark:bg-slate-800 border-gray-300 dark:border-slate-600"}`,children:M&&f.jsx("svg",{className:"w-2 h-2 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),f.jsx("input",{type:"checkbox",checked:M,onChange:Y=>B(Y.target.checked),className:"hidden"}),f.jsx("span",{className:"text-[10px] font-bold text-gray-700 dark:text-slate-300",children:"V"})]})]}),f.jsxs("div",{className:"relative ml-auto",children:[f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:()=>xe(!ue),className:`px-2 py-1 rounded text-[10px] font-bold transition-all border ${ue?"bg-emerald-600 text-white border-emerald-600 shadow-md ring-2 ring-emerald-500/30":"bg-white dark:bg-slate-900 text-emerald-600 dark:text-emerald-400 border-emerald-200 dark:border-emerald-800 hover:bg-emerald-50 dark:hover:bg-slate-800"}`,children:""}),i&&f.jsx("button",{onClick:()=>cn(!$n),className:`px-2 py-1 rounded text-[10px] font-bold transition-all border ${$n?"bg-indigo-600 text-white border-indigo-600 shadow-md ring-2 ring-indigo-500/30":"bg-white dark:bg-slate-900 text-indigo-600 dark:text-indigo-400 border-indigo-200 dark:border-indigo-800 hover:bg-indigo-50 dark:hover:bg-slate-800"}`,children:"ROI"})]}),ue&&f.jsxs("div",{className:"absolute top-8 right-0 z-50 w-80 bg-white dark:bg-slate-900 rounded-xl shadow-2xl border border-gray-200 dark:border-slate-700 p-4 animate-in slide-in-from-top-2",children:[f.jsx("h4",{className:"text-[10px] uppercase font-bold text-emerald-600 dark:text-emerald-400 mb-2 border-b border-gray-100 dark:border-slate-800 pb-1",children:"Discrete Mean (Pooled)"}),f.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[f.jsx("span",{className:"text-[10px] text-gray-500",children:"Range:"}),f.jsx("input",{type:"number",step:"0.01",value:X,onChange:Y=>Xe(Y.target.value),className:"w-16 px-1 py-0.5 text-xs border rounded bg-transparent dark:border-slate-600 dark:text-white"}),f.jsx("span",{className:"text-gray-400",children:"-"}),f.jsx("input",{type:"number",step:"0.01",value:Ne,onChange:Y=>tt(Y.target.value),className:"w-16 px-1 py-0.5 text-xs border rounded bg-transparent dark:border-slate-600 dark:text-white"}),f.jsx("button",{onClick:dr,className:"flex-1 bg-emerald-600 hover:bg-emerald-500 text-white text-[10px] font-bold py-1 rounded",children:"Calculate Avg"})]}),f.jsxs("div",{className:"flex flex-col gap-2 max-h-48 overflow-y-auto",children:[[0,1,2,3].map(Y=>{if(h!==-1&&h!==Y)return null;const he=ot[Y];if(!he)return null;const De=Mt[`c${Y}`],rt=Q[Y];return f.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800/50 p-2 rounded text-[10px] border border-gray-100 dark:border-slate-800",children:[f.jsxs("div",{className:"flex items-center gap-2 font-bold mb-1",style:{color:De},children:[f.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:De}}),rt," ",f.jsxs("span",{className:"text-gray-400 font-normal",children:["(",he.count," pts)"]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-x-2 gap-y-1 text-gray-700 dark:text-slate-300 font-mono",children:[f.jsxs("div",{children:["H Mean: ",f.jsx("span",{className:"font-bold",children:he.h.toExponential(3)})]}),f.jsxs("div",{children:["V Mean: ",f.jsx("span",{className:"font-bold",children:he.v.toExponential(3)})]}),f.jsxs("div",{className:"opacity-70",children:["H RMS",Math.sqrt(he.h).toFixed(3)]}),f.jsxs("div",{className:"opacity-70",children:["V RMS",Math.sqrt(he.v).toFixed(3)]})]})]},Y)}),Object.keys(ot).length===0&&f.jsx("div",{className:"text-center text-gray-400 text-[10px] italic",children:"Click Calculate"})]})]}),$n&&f.jsx("div",{className:"absolute top-8 right-0 z-50 w-64 bg-white dark:bg-slate-900 rounded-xl shadow-2xl border border-gray-200 dark:border-slate-700 p-4 animate-in slide-in-from-top-2",children:f.jsxs("div",{className:"flex flex-col gap-4",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"text-[10px] uppercase font-bold text-gray-400 dark:text-slate-500 mb-2",children:"Move (Position)"}),f.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[f.jsx("div",{}),f.jsx("button",{onClick:()=>ir(0,-1),className:"p-2 bg-gray-100 hover:bg-gray-200 dark:bg-slate-800 dark:hover:bg-slate-700 rounded-md text-gray-700 dark:text-slate-200 transition-colors",children:f.jsx("svg",{className:"w-3 h-3 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 15l7-7 7 7"})})}),f.jsx("div",{}),f.jsx("button",{onClick:()=>ir(-1,0),className:"p-2 bg-gray-100 hover:bg-gray-200 dark:bg-slate-800 dark:hover:bg-slate-700 rounded-md text-gray-700 dark:text-slate-200 transition-colors",children:f.jsx("svg",{className:"w-3 h-3 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M15 19l-7-7 7-7"})})}),f.jsx("div",{className:"flex items-center justify-center",children:f.jsx("div",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full"})}),f.jsx("button",{onClick:()=>ir(1,0),className:"p-2 bg-gray-100 hover:bg-gray-200 dark:bg-slate-800 dark:hover:bg-slate-700 rounded-md text-gray-700 dark:text-slate-200 transition-colors",children:f.jsx("svg",{className:"w-3 h-3 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M9 5l7 7-7 7"})})}),f.jsx("div",{}),f.jsx("button",{onClick:()=>ir(0,1),className:"p-2 bg-gray-100 hover:bg-gray-200 dark:bg-slate-800 dark:hover:bg-slate-700 rounded-md text-gray-700 dark:text-slate-200 transition-colors",children:f.jsx("svg",{className:"w-3 h-3 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M19 9l-7 7-7-7"})})}),f.jsx("div",{})]})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-[10px] uppercase font-bold text-gray-400 dark:text-slate-500 mb-2",children:"Resize (Dimensions)"}),f.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[f.jsxs("div",{className:"flex flex-col gap-1",children:[f.jsx("span",{className:"text-[9px] text-center text-gray-500",children:"Width"}),f.jsxs("div",{className:"flex gap-1",children:[f.jsx("button",{onClick:()=>Ln(-1,0),className:"flex-1 py-1 bg-gray-100 hover:bg-gray-200 dark:bg-slate-800 dark:hover:bg-slate-700 rounded text-xs font-mono text-gray-700 dark:text-slate-300",children:"-"}),f.jsx("button",{onClick:()=>Ln(1,0),className:"flex-1 py-1 bg-gray-100 hover:bg-gray-200 dark:bg-slate-800 dark:hover:bg-slate-700 rounded text-xs font-mono text-gray-700 dark:text-slate-300",children:"+"})]})]}),f.jsxs("div",{className:"flex flex-col gap-1",children:[f.jsx("span",{className:"text-[9px] text-center text-gray-500",children:"Height"}),f.jsxs("div",{className:"flex gap-1",children:[f.jsx("button",{onClick:()=>Ln(0,-1),className:"flex-1 py-1 bg-gray-100 hover:bg-gray-200 dark:bg-slate-800 dark:hover:bg-slate-700 rounded text-xs font-mono text-gray-700 dark:text-slate-300",children:"-"}),f.jsx("button",{onClick:()=>Ln(0,1),className:"flex-1 py-1 bg-gray-100 hover:bg-gray-200 dark:bg-slate-800 dark:hover:bg-slate-700 rounded text-xs font-mono text-gray-700 dark:text-slate-300",children:"+"})]})]})]})]}),a&&f.jsxs("div",{className:"pt-2 border-t border-gray-100 dark:border-slate-800 text-[10px] font-mono text-gray-500 text-center",children:["X:",Math.round(a.x)," Y:",Math.round(a.y)," W:",Math.round(a.w)," H:",Math.round(a.h)]})]})})]}),f.jsxs("div",{className:"flex gap-2 items-center ml-auto",children:[f.jsx("button",{onClick:pt,className:"px-2 py-1 text-[10px] font-bold bg-cyan-100 text-cyan-700 hover:bg-cyan-200 dark:bg-cyan-900/30 dark:text-cyan-300 dark:hover:bg-cyan-900/50 rounded border border-cyan-200 dark:border-cyan-800/50 transition-colors",title:"Auto-scale Y-Axis",children:"Auto"}),f.jsx("span",{className:"text-[10px] font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide",children:"Y-Axis (Log)"}),f.jsxs("div",{className:"flex items-center bg-white dark:bg-slate-900 rounded-lg border border-gray-200 dark:border-slate-600 shadow-sm overflow-hidden",children:[f.jsx("input",{type:"number",value:m,onChange:Y=>v(Y.target.value),className:"w-10 py-1 text-xs text-center bg-transparent outline-none text-gray-700 dark:text-slate-200 border-r border-gray-200 dark:border-slate-700",placeholder:"Min"}),f.jsx("span",{className:"px-1 text-gray-400 text-[9px] bg-gray-50 dark:bg-slate-800/50 py-1",children:"to"}),f.jsx("input",{type:"number",value:x,onChange:Y=>y(Y.target.value),className:"w-10 py-1 text-xs text-center bg-transparent outline-none text-gray-700 dark:text-slate-200",placeholder:"Max"})]})]})]}),f.jsxs("div",{className:"flex-1 p-4 overflow-hidden flex flex-col gap-2 relative bg-gray-50/30 dark:bg-slate-900/30",children:[Ze&&Ar&&f.jsxs("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 z-50 bg-white/95 dark:bg-slate-800/95 backdrop-blur-md shadow-xl border border-indigo-200 dark:border-indigo-800 rounded-xl p-4 flex flex-col items-center animate-in fade-in slide-in-from-top-4",children:[f.jsxs("div",{className:"flex justify-between items-center w-full border-b border-gray-100 dark:border-slate-700 pb-2 mb-2",children:[f.jsx("h4",{className:"text-xs font-bold uppercase text-indigo-600 dark:text-indigo-400 tracking-wider",children:"Frequency Range Integration"}),f.jsx("button",{onClick:()=>Mr(null),className:"text-gray-400 hover:text-red-500 transition-colors ml-4",children:f.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),f.jsx("div",{className:"text-center mb-3",children:f.jsxs("span",{className:"text-[10px] text-gray-500 dark:text-slate-400 font-mono",children:["[",Ar[0].toFixed(4)," - ",Ar[1].toFixed(4),"] cy/px (",Ze.count," pts)"]})}),f.jsx("div",{className:"grid grid-cols-2 gap-x-8 gap-y-2 text-sm",children:Object.entries(Ze.stats).map(([Y,he])=>{const De=Y.includes("_v"),rt=parseInt(Y.charAt(1)),gt=Q[rt]||`Ch${rt}`,pe=Mt[`c${rt}`];return f.jsxs("div",{className:"flex items-center justify-between gap-4",children:[f.jsxs("span",{className:"font-bold flex items-center gap-1.5",children:[f.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:pe}}),f.jsxs("span",{style:{color:pe},children:[gt," ",De?"(V)":"(H)"]})]}),f.jsxs("span",{className:"font-mono font-bold text-gray-700 dark:text-slate-200",children:[" = ",Number(he).toFixed(4)]})]},Y)})}),f.jsx("div",{className:"mt-2 text-[9px] text-gray-400 dark:text-slate-500 italic",children:"* Assumes white noise within band ( = MeanPower)"})]}),Pr&&f.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center z-50 bg-white/90 dark:bg-slate-900/90 backdrop-blur-[2px]",children:[f.jsx("div",{className:"w-10 h-10 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mb-4"}),f.jsx("span",{className:"text-cyan-600 dark:text-cyan-400 font-bold animate-pulse",children:"Computing FFT..."})]}),Qr?f.jsx("div",{className:"flex items-center justify-center h-full text-red-500 font-semibold bg-red-50 dark:bg-red-900/10 rounded-xl border border-red-100 dark:border-red-900/20",children:Qr}):f.jsxs("div",{className:"flex-1 bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 rounded-xl p-2 flex flex-col relative z-20 shadow-sm overflow-hidden min-h-0",children:[f.jsx("div",{className:"absolute top-2 left-2 z-20 bg-white/80 dark:bg-slate-900/80 px-2 py-1 rounded border border-gray-200 dark:border-slate-700",children:f.jsx("h3",{className:"text-[10px] font-bold uppercase tracking-wider text-gray-500 dark:text-slate-400",children:"Power Spectrum (Overlay: Real vs Theory)"})}),f.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none select-none opacity-20 z-0 mix-blend-normal dark:mix-blend-plus-lighter",children:f.jsx("svg",{viewBox:"0 0 500 60",className:"w-[512px] h-auto",children:f.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"36",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})}),f.jsx("div",{className:"flex-1 relative z-10",onMouseDown:Xt,onMouseMove:dn,onMouseUp:Dn,style:{cursor:Ir?"col-resize":"crosshair"},children:f.jsx(ws,{width:"100%",height:"100%",children:f.jsxs(gv,{data:fn,margin:{top:25,right:10,bottom:20,left:0},children:[f.jsx(ki,{strokeDasharray:"3 3",stroke:"#374151",opacity:.1}),f.jsx(ga,{dataKey:"freq",type:"number",domain:[0,.5],tickCount:6,tick:{fill:"#6b7280",fontSize:10},label:{value:"Frequency (cycles/sample)",position:"insideBottom",offset:-10,fill:"#6b7280",fontSize:11}}),f.jsx(ma,{scale:"log",domain:tr(),allowDataOverflow:!0,tick:{fill:"#6b7280",fontSize:10},tickFormatter:Y=>Number(Y).toExponential(0),label:{value:"Power",angle:-90,position:"insideLeft",fill:"#6b7280",fontSize:10},width:45}),f.jsx(nn,{contentStyle:{backgroundColor:"rgba(17, 24, 39, 0.95)",border:"1px solid #374151",borderRadius:"0.5rem",color:"#f3f4f6",fontSize:"12px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},itemStyle:{padding:0},formatter:Y=>[Number(Y).toExponential(4),""],labelFormatter:Y=>`Freq: ${Number(Y).toFixed(5)}`}),f.jsx(Va,{wrapperStyle:{fontSize:"10px"}}),f.jsx(qr,{type:"monotone",dataKey:"theory",name:`Theory (=${q}, N=${ne})`,stroke:"#6366f1",strokeWidth:2,dot:!1,isAnimationActive:!1,style:{shapeRendering:"geometricPrecision"}}),Cr(),Ar&&f.jsx(ou,{x1:Ar[0],x2:Ar[1],strokeOpacity:.3,fill:"#8884d8",fillOpacity:.15})]})})})]})]})]})}):null},KQ=({isOpen:e,onClose:t,onMinimize:r,rawImageData:n,roi:a,isBGGR:o,zIndex:i,onFocus:s,initialPosition:l,initialInternalState:c,onUpdateState:u})=>{const[d,h]=O.useState((c==null?void 0:c.selectedChannelKey)||"G1"),[p,m]=O.useState((c==null?void 0:c.blackLevel)??0),[v,x]=O.useState((c==null?void 0:c.whiteLevel)??16383),[y,g]=O.useState(null),[b,k]=O.useState(!1),[w,S]=O.useState(null),[j,_]=O.useState(l||{x:150,y:150}),[P,A]=O.useState(!1),N=O.useRef({x:0,y:0});O.useEffect(()=>{u&&u({selectedChannelKey:d,blackLevel:p,whiteLevel:v})},[d,p,v]),O.useEffect(()=>{if(e&&n&&!c){const $=n.blackLevels?Math.floor(n.blackLevels[1]):0;m($),x(n.whiteLevel||16383),g(null)}},[e,n]);const M=()=>{if(!n||!a)return;S(null),k(!0);const L=(o?{B:0,G1:1,G2:2,R:3}:{R:0,G1:1,G2:2,B:3})[d];setTimeout(()=>{try{const F=UQ(n.data,n.width,n.height,a,L,p,v);F?g(F):(S("No data found in selection with current filters."),g(null))}catch(F){console.error("Analysis failed:",F),S(F.message||"Analysis error")}finally{k(!1)}},50)},B=$=>{s&&s(),!($.target.closest("button")||$.target.closest("input")||$.target.closest("select"))&&(A(!0),N.current={x:$.clientX-j.x,y:$.clientY-j.y})};if(O.useEffect(()=>{const $=F=>{P&&_({x:F.clientX-N.current.x,y:F.clientY-N.current.y})},L=()=>A(!1);return P&&(window.addEventListener("mousemove",$),window.addEventListener("mouseup",L)),()=>{window.removeEventListener("mousemove",$),window.removeEventListener("mouseup",L)}},[P]),!e)return null;const R=o?["B","G1","G2","R"]:["R","G1","G2","B"];return f.jsxs("div",{className:"fixed flex flex-col bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 shadow-2xl rounded-xl resize-both overflow-hidden min-w-[500px] min-h-[400px] w-[900px] h-[700px]",style:{left:j.x,top:j.y,zIndex:i??100},onMouseDownCapture:s,children:[f.jsxs("div",{className:`flex justify-between items-center p-4 border-b border-gray-200 dark:border-slate-700 bg-white dark:bg-slate-900 select-none ${P?"cursor-grabbing":"cursor-grab"}`,onMouseDown:B,children:[f.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-slate-100 flex items-center gap-2 pointer-events-none",children:"Quantization Step Analysis"}),f.jsxs("div",{className:"flex items-center gap-1",children:[r&&f.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors",children:f.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),f.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 p-2",children:f.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),f.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-800/50 border-b border-gray-200 dark:border-slate-700 flex flex-wrap gap-4 items-end flex-shrink-0",children:[f.jsxs("div",{className:"flex flex-col gap-1",children:[f.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"Channel"}),f.jsx("select",{value:d,onChange:$=>h($.target.value),className:"bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded px-3 py-1.5 text-sm text-gray-900 dark:text-slate-100 outline-none focus:ring-1 focus:ring-cyan-500 min-w-[80px]",children:R.map($=>f.jsx("option",{value:$,children:$},$))})]}),f.jsxs("div",{className:"flex flex-col gap-1",children:[f.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"Black Level"}),f.jsx("input",{type:"number",value:p,onChange:$=>m(Number($.target.value)),className:"w-24 px-3 py-1.5 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-sm text-gray-900 dark:text-slate-100"})]}),f.jsxs("div",{className:"flex flex-col gap-1",children:[f.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"White Level"}),f.jsx("input",{type:"number",value:v,onChange:$=>x(Number($.target.value)),className:"w-24 px-3 py-1.5 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-sm text-gray-900 dark:text-slate-100"})]}),f.jsx("button",{onClick:M,disabled:b,className:"mb-0.5 px-5 py-1.5 bg-cyan-600 hover:bg-cyan-500 text-white font-bold rounded shadow-sm hover:shadow transition-colors disabled:opacity-50 text-sm",children:b?"Analyzing...":"Run Analysis"})]}),f.jsxs("div",{className:"flex-1 overflow-y-auto p-4 flex flex-col gap-4 bg-white dark:bg-slate-900 min-h-0",children:[w&&f.jsx("div",{className:"p-3 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 rounded text-sm text-center flex-shrink-0",children:w}),!y&&!b&&!w&&f.jsx("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-400 dark:text-slate-500 h-full",children:f.jsx("p",{children:"Configure parameters and click Run Analysis"})}),y&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 flex-shrink-0",children:[f.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 rounded-lg border border-gray-200 dark:border-slate-700 text-center",children:[f.jsx("div",{className:"text-xs text-gray-500 dark:text-slate-400 uppercase mb-1",children:"Unique Codes"}),f.jsx("div",{className:"text-xl font-bold text-gray-900 dark:text-slate-100",children:y.uniqueCount})]}),f.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 rounded-lg border border-gray-200 dark:border-slate-700 text-center",children:[f.jsx("div",{className:"text-xs text-gray-500 dark:text-slate-400 uppercase mb-1",children:"Total Diffs"}),f.jsx("div",{className:"text-xl font-bold text-gray-900 dark:text-slate-100",children:y.diffCount})]})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800/50 rounded-xl border border-gray-200 dark:border-slate-700 overflow-hidden flex-shrink-0",children:[f.jsx("div",{className:"px-4 py-2 bg-gray-50 dark:bg-slate-800 border-b border-gray-200 dark:border-slate-700 text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"Step Distribution"}),f.jsx("div",{className:"p-4 flex flex-wrap gap-x-8 gap-y-2 text-sm font-mono max-h-32 overflow-y-auto",children:Object.entries(y.stepCounts).sort(($,L)=>parseFloat($[0])-parseFloat(L[0])).map(([$,L])=>f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("span",{className:"text-gray-500 dark:text-slate-400",children:["Step ",$,":"]}),f.jsx("span",{className:"text-cyan-600 dark:text-cyan-400 font-bold",children:String(L)})]},$))})]}),f.jsxs("div",{className:"flex-1 bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 rounded-xl p-2 relative overflow-hidden min-h-[300px]",children:[f.jsx("div",{className:"absolute top-2 left-4 text-xs font-bold text-gray-400 dark:text-slate-500 pointer-events-none z-20 bg-white/80 dark:bg-slate-900/80 px-2 rounded",children:"Step Size vs Code Value"}),f.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-0 pointer-events-none select-none opacity-10 mix-blend-normal dark:mix-blend-plus-lighter",children:f.jsx("svg",{viewBox:"0 0 500 60",className:"w-96 h-auto",children:f.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"36",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})}),f.jsx("div",{className:"relative z-10 w-full h-full",children:f.jsx(ws,{width:"100%",height:"100%",children:f.jsxs(gv,{data:y.plotData,margin:{top:20,right:20,bottom:20,left:10},children:[f.jsx(ki,{strokeDasharray:"3 3",stroke:"#374151",opacity:.1}),f.jsx(ga,{dataKey:"x",type:"number",domain:["auto","auto"],tick:{fill:"#9ca3af",fontSize:10},label:{value:"Code Value (Shifted)",position:"insideBottom",offset:-10,fill:"#9ca3af",fontSize:11}}),f.jsx(ma,{tick:{fill:"#9ca3af",fontSize:10},domain:[0,"auto"],allowDataOverflow:!1,label:{value:"Step Size (Delta)",angle:-90,position:"insideLeft",fill:"#9ca3af",fontSize:11}}),f.jsx(nn,{contentStyle:{backgroundColor:"rgba(17, 24, 39, 0.95)",border:"1px solid #374151",borderRadius:"0.5rem",color:"#f3f4f6",fontSize:"12px"},labelFormatter:$=>`Val: ${$}`,formatter:$=>[$,"Step Size"]}),f.jsx(qr,{type:"stepAfter",dataKey:"y",stroke:"#0891b2",strokeWidth:1.5,dot:{r:1.5,fill:"#0891b2",strokeWidth:0},activeDot:{r:4},isAnimationActive:!1})]})})})]})]})]})]})},jP=({initialPosition:e={x:20,y:80},children:t,className:r="",onClose:n,zIndex:a,onFocus:o})=>{const[i,s]=O.useState(e),[l,c]=O.useState(!1),[u,d]=O.useState({x:0,y:0}),h=O.useRef(null),p=m=>{o&&o(),!(m.target.closest("button")||m.target.closest("input"))&&(c(!0),d({x:m.clientX-i.x,y:m.clientY-i.y}))};return O.useEffect(()=>{const m=x=>{var y,g;if(l){const b=x.clientX-u.x,k=x.clientY-u.y,w=window.innerWidth-(((y=h.current)==null?void 0:y.offsetWidth)||100),S=window.innerHeight-(((g=h.current)==null?void 0:g.offsetHeight)||100);s({x:Math.max(0,Math.min(b,w)),y:Math.max(0,Math.min(k,S))})}},v=()=>{c(!1)};return l&&(window.addEventListener("mousemove",m),window.addEventListener("mouseup",v)),()=>{window.removeEventListener("mousemove",m),window.removeEventListener("mouseup",v)}},[l,u]),f.jsxs("div",{ref:h,style:{left:i.x,top:i.y,zIndex:a??90},onMouseDownCapture:o,className:`fixed shadow-2xl rounded-xl border border-gray-200 dark:border-slate-700 bg-white/95 dark:bg-slate-900/90 backdrop-blur-md transition-shadow duration-200 ${l?"cursor-grabbing shadow-xl ring-2 ring-cyan-500/30":"shadow-lg"} ${r}`,children:[f.jsx("div",{onMouseDown:p,className:"absolute inset-0 w-full h-8 cursor-grab active:cursor-grabbing z-0",title:"Drag to move"}),f.jsx("div",{className:"relative z-10",children:t})]})},XQ=[{href:"https://y-g-jiang.github.io/LAC.html",text:"",abbr:"LAC",description:""},{href:"https://y-g-jiang.github.io/CCGV.html",text:"adobeIECMF",abbr:"CCGV",description:"acrRAWxy"},{href:"https://y-g-jiang.github.io/JTJS.html",text:"",abbr:"JTJS",description:"CMF/"},{href:"https://y-g-jiang.github.io/CBLD.html",text:"",abbr:"CBLD",description:""},{href:"https://y-g-jiang.github.io/XJZS.html",text:"",abbr:"XJZS",description:""}],qQ=({isOpen:e,onClose:t})=>e?f.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",onClick:t,children:f.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-3xl rounded-2xl shadow-2xl border border-gray-200 dark:border-slate-700 overflow-hidden flex flex-col max-h-[90vh]",onClick:r=>r.stopPropagation(),children:[f.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50",children:[f.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"About / Tools"}),f.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 transition-colors p-1 rounded hover:bg-gray-200 dark:hover:bg-slate-700",children:f.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),f.jsxs("div",{className:"p-6 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-slate-700",children:[f.jsx("div",{className:"mb-8 p-4 bg-gray-50 dark:bg-slate-800/50 rounded-xl border border-gray-100 dark:border-slate-700 text-center",children:f.jsxs("p",{className:"text-lg text-gray-700 dark:text-slate-300",children:[f.jsx("span",{className:"font-bold mr-2",children:"about:"}),f.jsx("a",{href:"https://y-g-jiang.github.io/JOindex.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline break-all font-mono",children:"https://y-g-jiang.github.io/JOindex.html"})]})}),f.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[f.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 flex-1"}),f.jsx("span",{className:"text-sm font-bold text-gray-400 dark:text-slate-500 uppercase tracking-wider",children:"Tools Collection"}),f.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 flex-1"})]}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:XQ.map(r=>f.jsxs("a",{href:r.href,target:"_blank",rel:"noopener noreferrer",className:"group block p-4 rounded-xl border border-gray-200 dark:border-slate-700 bg-white dark:bg-slate-800/30 hover:bg-gray-50 dark:hover:bg-slate-800 hover:border-cyan-500 dark:hover:border-cyan-500 hover:shadow-md transition-all duration-200 relative overflow-hidden",children:[f.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-gradient-to-bl from-cyan-500/5 to-transparent -mr-8 -mt-8 rounded-full pointer-events-none group-hover:from-cyan-500/10 transition-colors"}),f.jsxs("div",{className:"flex items-center gap-3 mb-2 relative z-10",children:[f.jsx("span",{className:"px-2 py-1 text-xs font-bold bg-gray-100 dark:bg-slate-700 text-gray-600 dark:text-slate-300 group-hover:bg-cyan-100 dark:group-hover:bg-cyan-900/50 group-hover:text-cyan-700 dark:group-hover:text-cyan-300 rounded transition-colors border border-gray-200 dark:border-slate-600 group-hover:border-cyan-200 dark:group-hover:border-cyan-800",children:r.abbr}),f.jsx("h3",{className:"font-bold text-gray-800 dark:text-slate-200 group-hover:text-cyan-600 dark:group-hover:text-cyan-400 transition-colors",children:r.text})]}),f.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400 pl-1 group-hover:text-gray-600 dark:group-hover:text-slate-300 transition-colors relative z-10",children:r.description})]},r.abbr))})]})]})}):null,YQ=({isOpen:e,onClose:t,data:r,fileName:n,warning:a})=>{const[o,i]=O.useState(""),s=u=>{const d=new WeakSet;try{return JSON.stringify(u,(h,p)=>{if(typeof p=="bigint")return p.toString()+"n";if(typeof p=="object"&&p!==null){if(d.has(p))return"[Circular]";if(d.add(p),ArrayBuffer.isView(p))return`[${p.constructor.name}]`}return p})}catch{return"[Unable to serialize object]"}},l=O.useMemo(()=>{if(!r)return[];const u=[],d=(h,p=0)=>{if(p>5)return"...";if(h==null)return String(h);if(h instanceof Date)return h.toLocaleString();if(typeof h=="number")return h.toString();if(typeof h=="string")return h;if(typeof h=="bigint")return h.toString()+"n";if(ArrayBuffer.isView(h))return`<${h.constructor.name} len=${h.length} bytes=${h.byteLength}>`;if(h instanceof ArrayBuffer)return`<ArrayBuffer bytes=${h.byteLength}>`;if(typeof h=="object"){if(Array.isArray(h))return h.length===0?"[]":h.length>20?`[${h.slice(0,10).map(x=>typeof x=="number"?x.toFixed(2):d(x,p+1)).join(", ")}, ... (+${h.length-10} more)]`:`[${h.map(v=>typeof v=="number"?Number.isInteger(v)?v:v.toFixed(4):d(v,p+1)).join(", ")}]`;try{const m=Object.keys(h);return m.length>5?`{Object with ${m.length} keys}`:s(h)}catch{return"<Complex Object>"}}return String(h)};try{if(typeof r!="object")return[{key:"Value",value:String(r)}];Object.keys(r).sort().forEach(p=>{if(p==="MakerNote"||p==="UserComment"||p.includes("Strip")||p.includes("Offset")){u.push({key:p,value:"<Binary/Internal Data>"});return}const m=r[p];u.push({key:p,value:d(m)})})}catch(h){console.error("Error processing EXIF data:",h),u.push({key:"Error",value:"Failed to process metadata structure."})}return u},[r]);if(!e)return null;const c=l.filter(u=>u.key.toLowerCase().includes(o.toLowerCase())||u.value.toLowerCase().includes(o.toLowerCase()));return f.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",onClick:t,children:f.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-3xl max-h-[90vh] rounded-2xl shadow-2xl flex flex-col border border-gray-200 dark:border-slate-700",onClick:u=>u.stopPropagation(),children:[f.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-gray-200 dark:border-slate-700",children:[f.jsxs("div",{className:"overflow-hidden",children:[f.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-slate-100",children:"EXIF Data"}),f.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mt-1 font-mono truncate",children:n})]}),f.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 transition-colors p-2 rounded-full hover:bg-gray-100 dark:hover:bg-slate-800",children:f.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a&&f.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 px-4 py-2 border-b border-amber-100 dark:border-amber-800/50 text-center",children:f.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400 whitespace-pre-line font-medium leading-relaxed",children:a})}),f.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50",children:f.jsxs("div",{className:"relative",children:[f.jsx("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),f.jsx("input",{type:"text",placeholder:"Search tags...",value:o,onChange:u=>i(u.target.value),className:"w-full pl-9 pr-4 py-2 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded-lg text-sm focus:ring-2 focus:ring-cyan-500 outline-none text-gray-900 dark:text-slate-100 transition-colors placeholder-gray-400"})]})}),f.jsx("div",{className:"overflow-y-auto flex-1 p-0 scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-slate-700",children:c.length>0?f.jsxs("table",{className:"w-full text-left border-collapse table-fixed",children:[f.jsx("thead",{className:"bg-gray-50 dark:bg-slate-800 sticky top-0 shadow-sm z-10",children:f.jsxs("tr",{children:[f.jsx("th",{className:"py-3 px-5 font-semibold text-xs text-gray-500 dark:text-slate-400 uppercase tracking-wider w-1/3 border-b border-gray-200 dark:border-slate-700",children:"Tag Name"}),f.jsx("th",{className:"py-3 px-5 font-semibold text-xs text-gray-500 dark:text-slate-400 uppercase tracking-wider w-2/3 border-b border-gray-200 dark:border-slate-700",children:"Value"})]})}),f.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-slate-800",children:c.map(u=>f.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-800/50 transition-colors group",children:[f.jsx("td",{className:"py-2 px-5 text-sm font-medium text-cyan-600 dark:text-cyan-400 font-mono break-words align-top",children:u.key}),f.jsx("td",{className:"py-2 px-5 text-sm text-gray-700 dark:text-slate-300 font-mono break-words align-top group-hover:text-gray-900 dark:group-hover:text-slate-100",children:u.value})]},u.key))})]}):f.jsx("div",{className:"flex flex-col items-center justify-center h-64 text-gray-400 dark:text-slate-500",children:f.jsxs("p",{children:['No tags found matching "',o,'"']})})}),f.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50 flex justify-end rounded-b-2xl",children:f.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-800 dark:text-white rounded-lg text-sm font-semibold transition-colors",children:"Close"})})]})})},QQ=100,Up=e=>{if(e.length===0)return 0;if(e.length===1)return e[0];if(e.length===2)return .5*(e[0]+e[1]);let t=[...e].sort((r,n)=>r-n);for(;t.length>4;){let r=1/0,n=0;const a=t.length,o=Math.floor(a/2);for(let i=0;i<=a-o;i++){const s=t[i+o-1]-t[i];s<r&&(r=s,n=i)}t=t.slice(n,n+o)}return t.reduce((r,n)=>r+n,0)/t.length},O2=({min:e,max:t,value:r,onChange:n,vertical:a=!1,logScale:o=!1})=>{const i=O.useRef(null),s=O.useRef(null),l=O.useCallback(g=>{const b=o?Math.max(1e-6,e):e,k=o?Math.max(b*1.0001,t):t,w=Math.max(b,Math.min(k,g));if(o){const S=Math.log10(b),j=Math.log10(k);return(Math.log10(w)-S)/(j-S)}return(w-b)/(k-b)},[e,t,o]),c=O.useCallback(g=>{const b=o?Math.max(1e-6,e):e,k=o?Math.max(b*1.0001,t):t;if(o){const w=Math.log10(b),S=Math.log10(k);return Math.pow(10,w+g*(S-w))}return b+g*(k-b)},[e,t,o]),u=(g,b)=>{g.preventDefault(),g.stopPropagation(),s.current=b;const k=S=>{if(!s.current||!i.current)return;const j=i.current.getBoundingClientRect();let _=0;a?_=(j.bottom-S.clientY)/j.height:_=(S.clientX-j.left)/j.width,_=Math.max(0,Math.min(1,_));const P=c(_);if(s.current==="min"){const A=r[1];n([Math.min(P,A),A])}else{const A=r[0];n([A,Math.max(P,A)])}},w=()=>{s.current=null,window.removeEventListener("mousemove",k),window.removeEventListener("mouseup",w)};window.addEventListener("mousemove",k),window.addEventListener("mouseup",w)},d=l(r[0])*100,h=l(r[1])*100,p=a?{left:"50%",top:0,bottom:0,width:"4px",transform:"translateX(-50%)"}:{top:"50%",left:0,right:0,height:"4px",transform:"translateY(-50%)"},m=a?{left:"50%",bottom:`${d}%`,height:`${h-d}%`,width:"4px",transform:"translateX(-50%)"}:{top:"50%",left:`${d}%`,width:`${h-d}%`,height:"4px",transform:"translateY(-50%)"},v="absolute w-3 h-3 bg-white border-2 border-cyan-600 rounded-full shadow-md cursor-pointer hover:scale-125 transition-transform z-10",x=a?{left:"50%",bottom:`${d}%`,transform:"translate(-50%, 50%)"}:{top:"50%",left:`${d}%`,transform:"translate(-50%, -50%)"},y=a?{left:"50%",bottom:`${h}%`,transform:"translate(-50%, 50%)"}:{top:"50%",left:`${h}%`,transform:"translate(-50%, -50%)"};return f.jsxs("div",{ref:i,className:`relative select-none ${a?"h-full w-4 py-2":"w-full h-4 px-2"}`,children:[f.jsx("div",{className:"absolute bg-gray-300 dark:bg-slate-600 rounded-full",style:p}),f.jsx("div",{className:"absolute bg-cyan-500 dark:bg-cyan-400 rounded-full",style:m}),f.jsx("div",{className:v,style:x,onMouseDown:g=>u(g,"min")}),f.jsx("div",{className:v,style:y,onMouseDown:g=>u(g,"max")})]})},ZQ=({isOpen:e,onClose:t,data:r,blackLevel:n,imageHeight:a,isBGGR:o,importedMetadata:i,theme:s,initialCameraModel:l,initialISO:c})=>{const[u,d]=O.useState("Noise"),[h,p]=O.useState(!0),[m,v]=O.useState(null),[x,y]=O.useState("default"),[g,b]=O.useState(!1),[k,w]=O.useState(!1),[S,j]=O.useState({R:!0,G1:!0,G2:!0,B:!0}),[_,P]=O.useState(""),[A,N]=O.useState(""),[M,B]=O.useState(""),[R,$]=O.useState(""),[L,F]=O.useState("10"),[D,z]=O.useState(""),[W,te]=O.useState("0 0 0 0"),[q,Z]=O.useState("0 0 0 0"),[U,de]=O.useState(!1),[ne,Me]=O.useState(null),[be,H]=O.useState(!1),[ue,xe]=O.useState(0),[X,Xe]=O.useState([]),[Ne,tt]=O.useState(""),[ot,lt]=O.useState(""),ur=()=>{const T=parseFloat(Ne),V=parseFloat(ot);!isNaN(T)&&!isNaN(V)&&(Xe([...X,{id:Date.now(),x:T,y:V}]),tt(""),lt(""))},[Nt,fr]=O.useState(()=>localStorage.getItem("ptc_tester_name")||""),[Lt,Pr]=O.useState(""),[Kt,Qr]=O.useState("");O.useEffect(()=>{localStorage.setItem("ptc_tester_name",Nt)},[Nt]);const Nr=O.useRef(U),$n=O.useRef(be),cn=O.useRef(ue);O.useEffect(()=>{Nr.current=U,$n.current=be,cn.current=ue},[U,be,ue]);const[Ar,Mr]=O.useState(null),[Ir,wn]=O.useState({min:.01,max:90}),[Gt,va]=O.useState({readNoise:0,gain:1,prnu:.5}),[Br,Ea]=O.useState(2e6),Zr=O.useRef(Gt),Jn=O.useRef(Ir),ea=O.useRef(Br);O.useEffect(()=>{Zr.current=Gt,Jn.current=Ir,ea.current=Br},[Gt,Ir,Br]);const[At,un]=O.useState({read:"0",gain:"1.0",prnu:"0.5",rangeMin:"0.01",rangeMax:"90"}),[ct,Fr]=O.useState({read:!0,shot:!0,prnu:!0,total:!0,fitRange:!0}),[Mt,Q]=O.useState(!1),[Ye,Rt]=O.useState([]),[dr,fn]=O.useState(null),[Xt,dn]=O.useState(""),Dn=O.useMemo(()=>n?n.join(","):"",[n]);O.useEffect(()=>{if(e){let T="0 0 0 0";i&&i.blackLevel?T=i.blackLevel.join(" "):T=n&&n.length===4?n.join(" "):"0 0 0 0",te(T),Z(T);let V="";if(i&&i.height?V=i.height.toString():a&&(V=a.toString()),z(V),V){const J=parseFloat(V);!isNaN(J)&&J>0?F((2309.4/J).toFixed(2)):F("10")}else F("10");Me(null),de(!1),H(!1),xe(0),Rt([]),fn(null),wn({min:.01,max:90}),un({read:"0",gain:"0",prnu:"0",rangeMin:"0.01",rangeMax:"90"}),va({readNoise:0,gain:0,prnu:0}),P(""),N(""),B(""),$(""),d("Noise"),Mr(null),Ea(2e6),dn(""),w(!1),Xe([]),Pr(J=>J.trim()===""&&l?l:J),Qr(J=>J.trim()===""&&c?c:J)}},[e,Dn,i,a,r,l,c]);const oo=T=>{if(T.key==="Enter"){const V=parseFloat(D);if(!isNaN(V)&&V>0){const J=(2309.4/V).toFixed(2);F(J)}T.target.blur()}},Ze=O.useMemo(()=>{let V=q.trim().split(/[\s,]+/).filter(Boolean).map(Number);for(V.length===1&&(V=[V[0],V[0],V[0],V[0]]);V.length<4;)V.push(0);const J=E=>{switch(E){case"R":return V[0];case"G1":return V[1];case"G2":return V[2];case"B":return V[3];default:return 0}};return r.map(E=>{const le=E.mean-J(E.channel),ke=E.std>0?le/E.std:0;return{...E,x:le,std:E.std,snr:ke}}).filter(E=>E.std>0)},[r,q]),tr=O.useMemo(()=>{const T=Gt.readNoise,V=T*T;return Ze.map(J=>{let E=0;if(u==="Noise")E=J.std;else if(u==="SNR")E=J.snr;else if(u==="Linear"){const ke=J.std*J.std-V;E=J.x!==0?ke/J.x:0}return{...J,y:E}})},[Ze,u,Gt.readNoise]),pt=O.useMemo(()=>{if(Ze.length===0)return"G1";const T={R:0,G1:0,G2:0,B:0},V={R:0,G1:0,G2:0,B:0};for(const le of Ze)T[le.channel]+=le.x,V[le.channel]++;let J="G1",E=-1/0;return Object.keys(T).forEach(le=>{const ke=V[le],_e=ke>0?T[le]/ke:-1/0;_e>E&&(E=_e,J=le)}),J},[Ze]),ir=O.useCallback(()=>{let T=1/0,V=-1/0;if(Ze.length===0)return{min:.1,max:1};for(let J=0;J<Ze.length;J++){const E=Ze[J].x;h&&E<=0||(E<T&&(T=E),E>V&&(V=E))}return T===1/0?{min:.1,max:1}:{min:T,max:V}},[Ze,h]),Ln=O.useCallback(()=>{let T=1/0,V=-1/0;if(tr.length===0)return{min:.1,max:1};for(let J=0;J<tr.length;J++){const E=tr[J].y;h&&E<=0||(E<T&&(T=E),E>V&&(V=E))}return T===1/0?{min:.1,max:1}:{min:T*.9,max:V*1.1}},[tr,h]),{min:Cr,max:Y}=ir(),{min:he,max:De}=Ln(),rt=Y*(Ir.min/100),gt=Y*(Ir.max/100),pe=O.useMemo(()=>{if(!h&&tr.length===0)return{shot:[],read:[],prnu:[],total:[]};const T=_?parseFloat(_):Cr,V=A?parseFloat(A):Y,J=100,E=Math.max(.1,T),le=Math.max(1,V);if(E>=le)return{shot:[],read:[],prnu:[],total:[]};const ke=Math.log10(E),He=(Math.log10(le)-ke)/J,Ve=Gt.readNoise,Le=Gt.gain>0?Gt.gain:1,Ot=Gt.prnu/100,mt=[],Ct=[],Zt=[],ae=[];for(let Ke=0;Ke<=J;Ke++){const je=Math.pow(10,ke+Ke*He);if(u==="Linear"){const Et=1/Le,ut=Ot*Ot,kr=Et+ut*je;ae.push({x:je,y:kr}),mt.push({x:je,y:Et}),Zt.push({x:je,y:ut*je})}else{const Et=Ve,ut=Math.sqrt(je/Le),kr=Ot*je,yt=Math.sqrt(Et*Et+ut*ut+kr*kr);u==="Noise"?(mt.push({x:je,y:ut}),Ct.push({x:je,y:Et}),Zt.push({x:je,y:kr}),ae.push({x:je,y:yt})):(ut>0&&mt.push({x:je,y:je/ut}),Et>0&&Ct.push({x:je,y:je/Et}),kr>0&&Zt.push({x:je,y:je/kr}),yt>0&&ae.push({x:je,y:je/yt}))}}return{shot:mt,read:Ct,prnu:Zt,total:ae}},[tr,h,_,A,Gt,u,Cr,Y]),nt=O.useMemo(()=>{if(u==="Linear")return[];const T=parseFloat(L);if(isNaN(T)||T<=0)return[];const V=_?parseFloat(_):Cr,J=A?parseFloat(A):Y;return u==="SNR"?[{x:V,y:T},{x:J,y:T}]:[{x:V,y:V/T},{x:J,y:J/T}]},[tr,L,u,_,A,Cr,Y]),Ce=O.useCallback((T,V)=>{if(!V||V.length===0)return null;const J=[...V].sort((E,le)=>E.x-le.x);for(let E=0;E<J.length-1;E++){const le=J[E],ke=J[E+1];if(le.snr<=T&&ke.snr>=T||le.snr>=T&&ke.snr<=T){const _e=(T-le.snr)/(ke.snr-le.snr);return le.x+_e*(ke.x-le.x)}}return null},[]),it=O.useMemo(()=>{const T=Ze,V=1e3,J=le=>{if(le.length===0)return[];if(le.length<=V)return le;const ke=[...le].sort((Ve,Le)=>Ve.x-Le.x),_e=[],He=ke.length/V;for(let Ve=0;Ve<V;Ve++){const Le=Math.floor(Ve*He),Ot=Math.floor((Ve+1)*He),mt=ke.slice(Le,Ot);if(mt.length===0)continue;mt.sort((Zt,ae)=>Zt.std-ae.std);const Ct=Math.floor(mt.length/2);_e.push(mt[Ct])}return _e},E={R:[],G1:[],G2:[],B:[]};return T.forEach(le=>{E[le.channel]&&E[le.channel].push(le)}),{R:J(E.R),G1:J(E.G1),G2:J(E.G2),B:J(E.B)}},[Ze]),Ge=O.useMemo(()=>ne&&Gt.gain?ne*Gt.gain:null,[ne,Gt.gain]),ce=O.useMemo(()=>{if(ne===null||ne===0)return null;const T=parseFloat(L);let V=null;if(!isNaN(T)&&T>0){let _e=0,He=0;if(["R","G1","G2","B"].forEach(Ve=>{const Le=Ce(T,it[Ve]);Le!==null&&(_e+=Le,He++)}),He>0){const Ve=_e/He;V=Math.log2(ne/Ve)}}const J=parseFloat(D);let E=null,le=NaN;if(!isNaN(J)&&J>0){le=16e3/J;let _e=0,He=0;if(["R","G1","G2","B"].forEach(Ve=>{const Le=Ce(le,it[Ve]);Le!==null&&(_e+=Le,He++)}),He>0){const Ve=_e/He;E=Math.log2(ne/Ve)}}let ke=null;if(!isNaN(J)&&J>0){const _e=Ce(le,it[pt]);_e!==null&&(ke=Math.log2(ne/_e))}return{manualDR:V,ptpDR:E,d55DR:ke,manualTarget:T,ptpTarget:le,saturationSignal:ne,dominantChannel:pt}},[ne,L,D,it,Ce,pt]),Je=O.useMemo(()=>{if(u==="Linear"||!ce||!ce.ptpTarget||isNaN(ce.ptpTarget))return[];const T=ce.ptpTarget,V=_?parseFloat(_):Cr,J=A?parseFloat(A):Y;return u==="SNR"?[{x:V,y:T},{x:J,y:T}]:[{x:V,y:V/T},{x:J,y:J/T}]},[u,ce,_,A,Cr,Y]),br=O.useCallback(()=>{const J=document.createElement("canvas");J.width=2048,J.height=1536;const E=J.getContext("2d");if(!E)return;const le=s==="dark",ke=le?"#0f172a":"#ffffff",_e=le?"#ffffff":"#000000",He=le?"#475569":"#cbd5e1",Ve=le?"#1e293b":"#f1f5f9",Le=o?{R:"#ef4444",G1:"#22c55e",G2:"#4ade80",B:"#3b82f6"}:{R:"#ef4444",G1:"#22c55e",G2:"#4ade80",B:"#3b82f6"};E.fillStyle=ke,E.fillRect(0,0,2048,1536);let Ot=_?parseFloat(_):Cr,mt=A?parseFloat(A):Y,Ct=M?parseFloat(M):he,Zt=R?parseFloat(R):De;isNaN(Ot)&&(Ot=.1),isNaN(mt)&&(mt=1e4),isNaN(Ct)&&(Ct=.1),isNaN(Zt)&&(Zt=1e3);const ae={top:80,right:80,bottom:100,left:120},Ke=2048-ae.left-ae.right,je=1536-ae.top-ae.bottom,Et=ee=>{if(h){const fe=Math.log10(Math.max(1e-9,Ot)),Se=Math.log10(Math.max(1e-9,mt)),ge=Math.log10(Math.max(1e-9,ee));return ae.left+(ge-fe)/(Se-fe)*Ke}else return ae.left+(ee-Ot)/(mt-Ot)*Ke},ut=ee=>{if(h){const fe=Math.log10(Math.max(1e-9,Ct)),Se=Math.log10(Math.max(1e-9,Zt)),ge=Math.log10(Math.max(1e-9,ee));return ae.top+je-(ge-fe)/(Se-fe)*je}else return ae.top+je-(ee-Ct)/(Zt-Ct)*je};if(E.beginPath(),h){const ee=(fe,Se,ge)=>{const Ie=Math.log10(Math.max(1e-9,fe)),Be=Math.log10(Math.max(1e-9,Se)),qe=Math.floor(Ie),Bt=Math.ceil(Be);for(let zr=qe;zr<=Bt;zr++){const Jr=Math.pow(10,zr);let Fe=ge?Et(Jr):ut(Jr);(ge?Fe>=ae.left-1&&Fe<=ae.left+Ke+1:Fe>=ae.top-1&&Fe<=ae.top+je+1)&&(E.lineWidth=1.5,E.strokeStyle=He,E.beginPath(),ge?(E.moveTo(Fe,ae.top),E.lineTo(Fe,ae.top+je)):(E.moveTo(ae.left,Fe),E.lineTo(ae.left+Ke,Fe)),E.stroke()),E.lineWidth=.5,E.strokeStyle=Ve;for(let ta=2;ta<10;ta++){const cu=ta*Jr;Fe=ge?Et(cu):ut(cu),(ge?Fe>=ae.left&&Fe<=ae.left+Ke:Fe>=ae.top&&Fe<=ae.top+je)&&(E.beginPath(),ge?(E.moveTo(Fe,ae.top),E.lineTo(Fe,ae.top+je)):(E.moveTo(ae.left,Fe),E.lineTo(ae.left+Ke,Fe)),E.stroke())}}};ee(Ot,mt,!0),ee(Ct,Zt,!1)}else{E.strokeStyle=He,E.lineWidth=1;for(let ee=0;ee<=5;ee++){const fe=ae.left+Ke*ee/5;E.beginPath(),E.moveTo(fe,ae.top),E.lineTo(fe,ae.top+je),E.stroke();const Se=ae.top+je*ee/5;E.beginPath(),E.moveTo(ae.left,Se),E.lineTo(ae.left+Ke,Se),E.stroke()}}E.strokeStyle=_e,E.lineWidth=2,E.strokeRect(ae.left,ae.top,Ke,je);const kr=(ee,fe,Se)=>{ee<ae.left||ee>ae.left+Ke||fe<ae.top||fe>ae.top+je||(E.fillStyle=Se,E.fillRect(ee-1.5,fe-1.5,3,3))},yt=tr.filter(ee=>!(h&&(ee.x<=0||ee.y<=0)));yt.forEach(ee=>{S[ee.channel]&&ee.channel!==pt&&kr(Et(ee.x),ut(ee.y),Le[ee.channel])}),yt.forEach(ee=>{S[ee.channel]&&ee.channel===pt&&kr(Et(ee.x),ut(ee.y),Le[ee.channel])}),X.forEach(ee=>{const fe=Et(ee.x),Se=ut(ee.y);if(fe<ae.left||fe>ae.left+Ke||Se<ae.top||Se>ae.top+je)return;E.strokeStyle="#d946ef",E.lineWidth=2.5;const ge=6;E.beginPath(),E.moveTo(fe-ge,Se-ge),E.lineTo(fe+ge,Se+ge),E.moveTo(fe+ge,Se-ge),E.lineTo(fe-ge,Se+ge),E.stroke()});const nr=(ee,fe,Se=[])=>{if(ee.length<2)return;E.beginPath(),E.strokeStyle=fe,E.lineWidth=3,E.setLineDash(Se);let ge=!1;for(const Ie of ee){const Be=Et(Ie.x),qe=ut(Ie.y);if(Be<ae.left-100||Be>ae.left+Ke+100||qe<ae.top-100||qe>ae.top+je+100){ge=!1;continue}ge?E.lineTo(Be,qe):(E.moveTo(Be,qe),ge=!0)}E.stroke(),E.setLineDash([])},I=le?"#ffffff":"#000000";if(ct.shot&&nr(pe.shot,"#94a3b8",[5,5]),ct.read&&nr(pe.read,"#f43f5e",[3,3]),ct.prnu&&nr(pe.prnu,"#f59e0b",[3,3]),ct.total&&nr(pe.total,I,[]),nt.length===2){const ee="#6366f1";nr(nt,ee,[4,2]);const fe=nt[1],Se=ut(fe.y);Se>=ae.top&&Se<=ae.top+je&&(E.fillStyle=ee,E.font="bold 20px sans-serif",E.textAlign="right",E.textBaseline="bottom",E.fillText(`M.Tgt=${L}`,ae.left+Ke-10,Se-8))}if(Je.length===2&&(ce!=null&&ce.ptpTarget)){const ee="#10b981";nr(Je,ee,[4,4]);const fe=Je[1],Se=ut(fe.y);if(Se>=ae.top&&Se<=ae.top+je){E.fillStyle=ee,E.font="bold 20px sans-serif",E.textAlign="right",E.textBaseline="bottom";const ge=ce.ptpTarget.toFixed(1),Ie=nt.length===2?ut(nt[1].y):-100,Be=Math.abs(Se-Ie)<25?25:0;E.fillText(`PTP=${ge}`,ae.left+Ke-10,Se-8-Be)}}if(ct.fitRange||be){const ee=(fe,Se)=>{const ge=Et(fe);ge>=ae.left&&ge<=ae.left+Ke&&(E.beginPath(),E.strokeStyle=Se,E.lineWidth=2,E.setLineDash([8,8]),E.moveTo(ge,ae.top),E.lineTo(ge,ae.top+je),E.stroke(),E.setLineDash([]))};ee(rt,"#22d3ee"),ee(gt,"#22d3ee")}if(ne){const ee=Et(ne);ee>=ae.left&&ee<=ae.left+Ke&&(E.strokeStyle="#ef4444",E.lineWidth=3,E.setLineDash([10,10]),E.beginPath(),E.moveTo(ee,ae.top),E.lineTo(ee,ae.top+je),E.stroke(),E.setLineDash([]),E.fillStyle="#ef4444",E.font="bold 24px sans-serif",E.textAlign="center",E.fillText("Sat",ee,ae.top-10))}E.fillStyle=_e,E.font="28px monospace",E.textAlign="center",E.fillText(Ot.toExponential(1),ae.left,ae.top+je+40),E.fillText(mt.toExponential(1),ae.left+Ke,ae.top+je+40),E.fillText("Signal (DN)",ae.left+Ke/2,ae.top+je+80),E.textAlign="right",E.textBaseline="middle",E.fillText(Ct.toExponential(1),ae.left-20,ae.top+je),E.fillText(Zt.toExponential(1),ae.left-20,ae.top),E.save(),E.translate(ae.left-80,ae.top+je/2),E.rotate(-Math.PI/2),E.textAlign="center",E.fillText(u==="Linear"?"(Var - RN) / Mean":u,0,0),E.restore(),E.save(),E.translate(2048/2,1536/2),E.rotate(-Math.PI/6),E.textAlign="center",E.textBaseline="middle",E.fillStyle=le?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)",E.font="bold 150px sans-serif",E.fillText(" y-g-jiang.github.io",0,0),E.restore(),E.fillStyle=_e,E.font="bold 36px sans-serif",E.textAlign="left",E.textBaseline="top",E.fillText(`PTC Export: ${u} Mode`,ae.left,20),E.font="24px sans-serif",E.fillStyle=le?"#94a3b8":"#64748b",E.fillText(`Points: ${tr.length} | Sat Channel: ${pt}`,ae.left,65);const G=ae.left+30,ie=ae.top+30,oe=70,ve=ee=>{if(!ne||ee<=0)return"--";const fe=Gt.readNoise,Se=Gt.gain,ge=Gt.prnu/100;if(Se<=0)return"--";const Ie=ee*ee,Be=fe*fe,qe=1-Ie*ge*ge,Bt=-(Ie/Se),zr=-(Ie*Be);let Jr=0;if(Math.abs(qe)<1e-8)Math.abs(Bt)>1e-8&&(Jr=-zr/Bt);else{const Fe=Bt*Bt-4*qe*zr;Fe>=0&&(Jr=(-Bt+Math.sqrt(Fe))/(2*qe))}return Jr>0?Math.log2(ne/Jr).toFixed(2)+" EV":"--"},Ee=ce!=null&&ce.ptpTarget&&!isNaN(ce.ptpTarget)?ve(ce.ptpTarget):"--",at=L?ve(parseFloat(L)):"--";E.font="bold 48px monospace",E.textAlign="left",E.textBaseline="top",E.shadowColor=le?"rgba(0,0,0,0.8)":"rgba(255,255,255,0.8)",E.shadowBlur=4,E.shadowOffsetX=1,E.shadowOffsetY=1;const Pe=(ee,fe,Se,ge)=>{const Ie=ie+Se*oe;E.fillStyle=_e,E.fillText(ee,G,Ie);const Be=E.measureText(ee).width;E.fillStyle=ge||_e,E.fillText(fe,G+Be,Ie)},ze=At.read,Oe=parseFloat(At.gain).toFixed(3),We=parseFloat(At.prnu).toFixed(2)+"%";let vt=`M.DR@SNR${L}: `;const bt=parseFloat(D);if(!isNaN(bt)&&bt>0){const ee=(2309.4/bt).toFixed(2);Math.abs(parseFloat(L)-parseFloat(ee))<.05&&(vt="8mpSNR=1 DR: ")}Pe("Tester: ",Nt||"N/A",0),Pe("Model : ",Lt||"Unknown",1),Pe("ISO   : ",Kt||"N/A",2),Pe("RN/FPN: ",ze,3,"#f43f5e"),Pe("KADC  : ",Oe,4,"#06b6d4"),Pe("PRNU  : ",We,5,"#f59e0b"),Pe("PTP DR: ",ce!=null&&ce.ptpDR?ce.ptpDR.toFixed(2)+" EV":"--",6,"#10b981"),Pe("D55 DR: ",ce!=null&&ce.d55DR?ce.d55DR.toFixed(2)+" EV":"--",7,"#8b5cf6"),Pe("FWC   : ",Ge?Ge>1e4?(Ge/1e3).toFixed(1)+"k":Math.round(Ge).toString():"--",8,"#f97316"),Pe(vt,ce!=null&&ce.manualDR?ce.manualDR.toFixed(2)+" EV":"--",9,"#06b6d4"),Pe("PTCFitDR(PTP): ",Ee,10,"#10b981"),Pe("PTCFitDR(Man): ",at,11,"#06b6d4"),E.save(),E.textAlign="right",E.textBaseline="bottom",E.fillStyle="#3b82f6",E.font="bold 80px sans-serif",E.shadowColor=le?"rgba(0,0,0,0.8)":"rgba(255,255,255,0.8)",E.shadowBlur=4,E.shadowOffsetX=2,E.shadowOffsetY=2;const ft=1988,It=1476,Tt=90;E.fillText("Online",ft,It),E.fillText("Jiangtherapee",ft,It-Tt),E.restore();const dt=document.createElement("a");dt.download=`ptc_complete_${u}_${Date.now()}.jpg`,dt.href=J.toDataURL("image/jpeg",.9),dt.click()},[tr,pt,S,_,A,M,R,Cr,Y,he,De,h,s,u,ne,o,ct,pe,rt,gt,Ir,be,Nt,Lt,Kt,ce,Ge,L,nt,Je,At,D,X]),rr=O.useMemo(()=>{let T=tr;if(h&&(T=T.filter(le=>le.y>0&&le.x>0)),x==="top3"){const le=[...T].sort((_e,He)=>He.x-_e.x),ke=Math.max(50,Math.ceil(le.length*.03));T=le.slice(0,ke)}const V={R:[],G1:[],G2:[],B:[]};if(T.forEach(le=>{V[le.channel]&&V[le.channel].push(le)}),x==="raw")return V;const J=x==="top3"?500:QQ,E=le=>{if(le.length<=J)return le;const ke=[...le].sort((Ve,Le)=>Ve.x-Le.x),_e=[],He=ke.length/J;for(let Ve=0;Ve<J;Ve++){const Le=Math.floor(Ve*He),Ot=Math.floor((Ve+1)*He),mt=ke.slice(Le,Ot);if(mt.length===0)continue;mt.sort((Zt,ae)=>Zt.y-ae.y);const Ct=Math.floor(mt.length/2);_e.push(mt[Ct])}return _e};return{R:E(V.R),G1:E(V.G1),G2:E(V.G2),B:E(V.B)}},[tr,x,h]),wr=O.useMemo(()=>{if(Ze.length<5)return[];const T=Ze.filter(J=>J.channel===pt);return[...T.length>20?T:Ze].sort((J,E)=>J.x-E.x).map(J=>({mean:J.x,std:J.std}))},[Ze,pt]),Er=T=>{const V=T.length;if(V===0)return[];const J=T.reduce((Ke,je)=>Ke+je,0)/V,E=T.reduce((Ke,je)=>Ke+Math.pow(je-J,2),0)/(V-1||1),le=Math.sqrt(E);if(le===0)return[{x:J-.001,density:0},{x:J,density:1},{x:J+.001,density:0}];const ke=1.06*le*Math.pow(V,-.2),_e=Math.min(...T),He=Math.max(...T),Ve=(He-_e)*.2||_e*.1,Le=Math.max(0,_e-Ve),Ot=He+Ve,mt=100,Ct=(Ot-Le)/(mt-1),Zt=Ke=>1/Math.sqrt(2*Math.PI)*Math.exp(-.5*Ke*Ke),ae=[];for(let Ke=0;Ke<mt;Ke++){const je=Le+Ke*Ct;let Et=0;for(let ut=0;ut<V;ut++)Et+=Zt((je-T[ut])/ke);Et/=V*ke,ae.push({x:je,density:Et})}return ae},io=O.useCallback((T,V,J,E)=>{if(T.length<5)return{gain:0,prnu:0};const le=T[T.length-1].mean,ke=le*(J.min/100),_e=le*(J.max/100),He=T.filter(yt=>yt.mean>=ke&&yt.mean<=_e);if(He.length<5)return{gain:0,prnu:0};Mr({nPoints:He.length});const Ve=V*V,Le=[],Ot=[];if(He.forEach(yt=>{const I=yt.std*yt.std-Ve;if(yt.mean>1&&I>0){const G=yt.mean,ie=I/yt.mean;Le.push({x:G,y:ie}),Ot.push(yt.mean/I)}}),Le.length<5)return{gain:0,prnu:0};const mt=[],Ct=Le.length,Zt=E,ae=Ct*(Ct-1)/2;if(ae<=Zt)for(let yt=0;yt<Ct;yt++)for(let nr=yt+1;nr<Ct;nr++){const I=Le[nr].x-Le[yt].x;Math.abs(I)>1e-5&&mt.push((Le[nr].y-Le[yt].y)/I)}else{const yt=Math.max(1,Math.floor(ae/Zt));for(let nr=0;nr<Ct;nr++)for(let I=nr+1;I<Ct;I+=yt){const G=Le[I].x-Le[nr].x;Math.abs(G)>1e-5&&mt.push((Le[I].y-Le[nr].y)/G)}}const Ke=Up(mt),je=Le.map(yt=>yt.y-Ke*yt.x),Et=Up(je);let ut=0,kr=0;if(Et>1e-6?ut=1/Et:ut=Up(Ot),Ke>0&&(kr=Math.sqrt(Ke)*100),Ot.length>0){const yt=Er(Ot);Rt(yt),fn(ut)}else Rt([]);return{gain:ut,prnu:kr}},[]),kn=O.useCallback(T=>{let V=T.read??Zr.current.readNoise;const J=T.gRange??Jn.current,E=ea.current;if((T.read!==void 0||T.gRange!==void 0)&&T.gain===void 0&&T.prnu===void 0&&wr.length>0&&V>=0)w(!0),setTimeout(()=>{const ke=io(wr,V,J,E);let _e=Zr.current.gain,He=Zr.current.prnu;ke.gain>0&&(_e=ke.gain,He=ke.prnu),va({readNoise:V,gain:_e,prnu:He}),T.gRange!==void 0&&wn(T.gRange),un(Ve=>{var Le,Ot;return{...Ve,read:V.toString(),gain:_e>0?_e.toFixed(3):"0",prnu:He.toFixed(2),rangeMin:(((Le=T.gRange)==null?void 0:Le.min)??Ve.rangeMin).toString(),rangeMax:(((Ot=T.gRange)==null?void 0:Ot.max)??Ve.rangeMax).toString()}}),w(!1)},50);else{let ke=T.gain!==void 0?T.gain:Zr.current.gain,_e=T.prnu!==void 0?T.prnu:Zr.current.prnu;va({readNoise:V,gain:ke,prnu:_e}),T.gRange!==void 0&&wn(T.gRange),un(He=>{var Ve,Le;return{...He,read:V.toString(),gain:ke>0?ke.toFixed(3):"0",prnu:_e.toFixed(2),rangeMin:(((Ve=T.gRange)==null?void 0:Ve.min)??He.rangeMin).toString(),rangeMax:(((Le=T.gRange)==null?void 0:Le.max)??He.rangeMax).toString()}})}},[wr,io]),so=`${q}-${r.length}`;O.useEffect(()=>{if(!e||!r||r.length===0)return;const T=rr[pt];if(!T||T.length===0||Xt===so)return;j({R:pt==="R",G1:pt==="G1",G2:pt==="G2",B:pt==="B"});const V=[...T].sort((ke,_e)=>ke.x-_e.x);let J=0;V.length>0&&(J=V[0].std);const E=Ze.filter(ke=>ke.channel===pt);let le=-1/0;for(const ke of E)ke.x>le&&(le=ke.x);le!==-1/0&&Me(le),kn({read:J}),dn(so)},[e,r,Xt,so,rr,pt,kn,Ze]);const Sn=(T,V)=>{un(J=>({...J,[T]:V}))},Mi=T=>{let V=parseFloat(At[T]);isNaN(V)||V<0||kn({[T]:V})},Th=()=>{Z(W),dn("")},Ci=()=>{const T=parseFloat(At.rangeMin),V=parseFloat(At.rangeMax);!isNaN(T)&&!isNaN(V)&&T<V&&T>=0&&V<=100&&kn({gRange:{min:T,max:V}})},lo=(T,V)=>{T.key==="Enter"&&(V==="rangeMin"||V==="rangeMax"?Ci():Mi(V),T.target.blur())};O.useEffect(()=>{wr.length>0&&kn({})},[Br,wr]);const Ei=T=>{j(V=>({...V,[T]:!V[T]}))},$h=()=>{y(T=>T==="top3"?"default":"top3")},iu=()=>{x==="raw"?y("default"):b(!0)},Dh=()=>{b(!1),y("raw")},sl=(T,V)=>{const J=parseFloat(T),E=parseFloat(V);let le=isNaN(J)?"auto":J,ke=isNaN(E)?"auto":E;return h&&typeof le=="number"&&le<=0&&(le="auto"),[le,ke]},Uo=T=>{if(!T||!T.payload)return;const V=T.payload;if(v(V),Nr.current&&(Me(V.x),de(!1)),$n.current){const J=Jn.current.min,E=Jn.current.max,{max:le}=ir();if(le<=0)return;const ke=Math.max(0,Math.min(100,V.x/le*100));if(cn.current===1){const _e=Math.min(ke,E-.5);kn({gRange:{min:_e,max:E}}),xe(2)}else if(cn.current===2){const _e=Math.max(ke,J+.5);kn({gRange:{min:J,max:_e}}),xe(0),H(!1)}}},Ta=O.useCallback(T=>{const{cx:V,cy:J,fill:E}=T;return f.jsx("circle",{cx:V,cy:J,r:3,fill:E,stroke:"none",style:{cursor:"pointer"}})},[]),Lh=({active:T,payload:V})=>{if(T&&V&&V.length){const J=V[0].payload;return f.jsxs("div",{className:"bg-slate-800 text-white text-xs p-2 rounded border border-slate-600 shadow-xl opacity-90 font-mono z-50",children:[f.jsx("div",{className:"font-bold border-b border-slate-600 pb-1 mb-1",children:J.channel}),f.jsxs("div",{children:["Signal: ",J.x.toFixed(2)]}),f.jsxs("div",{children:[u,": ",J.y.toFixed(4)]}),J.row!==void 0&&J.col!==void 0&&!isNaN(J.row)&&!isNaN(J.col)&&f.jsxs("div",{className:"text-cyan-400 mt-0.5",children:["Loc: Row ",J.row,", Col ",J.col]}),J.filename&&f.jsx("div",{className:"text-gray-400 mt-1 max-w-[200px] truncate",title:J.filename,children:J.filename})]})}return null},ll=T=>{d(T),T==="Linear"&&p(!1)};if(!e)return null;const Rh=s==="dark"?"#ffffff":"#000000";let su=u;u==="Linear"&&(su="(Var - RN) / Mean");const lu=W!==q;return f.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in",onClick:T=>{T.stopPropagation()},children:f.jsxs("div",{className:"bg-white dark:bg-slate-900 w-[98vw] max-w-[2200px] h-[95vh] rounded-2xl shadow-2xl flex flex-col border border-gray-200 dark:border-slate-700 overflow-hidden relative",onClick:T=>T.stopPropagation(),children:[f.jsx(si,{isOpen:g,onClose:()=>b(!1),onConfirm:Dh,title:"Warning: High Performance Cost",message:"Displaying all data points may cause the browser to freeze or become unresponsive, especially with large datasets. Are you sure you want to continue?",confirmText:"Yes, Show All"}),m&&f.jsxs("div",{className:"absolute top-20 right-8 z-30 bg-white/90 dark:bg-slate-800/90 border border-cyan-500 rounded-xl p-4 shadow-xl backdrop-blur-md max-w-xs animate-in fade-in zoom-in-95 duration-200",children:[f.jsxs("div",{className:"flex justify-between items-start mb-2 border-b border-gray-200 dark:border-slate-700 pb-2",children:[f.jsx("h4",{className:"font-bold text-gray-900 dark:text-white text-sm",children:"Selected Point"}),f.jsx("button",{onClick:()=>v(null),className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200",children:f.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),f.jsx("div",{className:"space-y-1 text-xs font-mono text-gray-700 dark:text-slate-300",children:f.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1.5",children:[f.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"Channel:"}),f.jsx("span",{className:"font-bold",children:m.channel}),f.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"Signal (DN):"}),f.jsx("span",{children:m.x.toFixed(4)}),f.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"Noise (Std):"}),f.jsx("span",{children:m.std.toFixed(4)}),f.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"SNR:"}),f.jsx("span",{className:"text-purple-600 dark:text-purple-400 font-bold",children:(m.x/m.std).toFixed(2)})]})})]}),Mt&&f.jsx("div",{className:"absolute inset-0 z-40 bg-white/95 dark:bg-slate-900/95 backdrop-blur-sm flex flex-col items-center justify-center p-8 animate-in fade-in zoom-in-95 duration-200",children:f.jsxs("div",{className:"w-full max-w-2xl h-[60vh] bg-gray-50 dark:bg-slate-800 rounded-xl border border-gray-200 dark:border-slate-700 shadow-2xl p-4 flex flex-col relative",children:[f.jsx("button",{onClick:()=>Q(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-red-500 transition-colors",children:f.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),f.jsxs("div",{className:"mb-4 text-center",children:[f.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-slate-200",children:"Gain Density Estimation"}),f.jsxs("p",{className:"text-xs text-gray-500 dark:text-slate-400",children:["HSM Mode: ",f.jsx("span",{className:"text-cyan-600 dark:text-cyan-400 font-bold",children:dr==null?void 0:dr.toFixed(4)}),f.jsx("span",{className:"mx-2",children:"|"}),"Data Points: ",Ye.length>0?"Density Curve Generated":"No Data"]})]}),f.jsx("div",{className:"flex-1 min-h-0",children:Ye.length>0?f.jsx(ws,{width:"100%",height:"100%",children:f.jsxs(SP,{data:Ye,margin:{top:10,right:30,left:0,bottom:20},children:[f.jsx(ki,{strokeDasharray:"3 3",stroke:"#374151",opacity:.3,vertical:!1}),f.jsx(ga,{dataKey:"x",tickFormatter:T=>T.toFixed(2),tick:{fill:"#9ca3af",fontSize:10},label:{value:"Gain (e/ADU)",position:"insideBottom",offset:-15,fill:"#9ca3af",fontSize:12}}),f.jsx(ma,{tick:{fill:"#9ca3af",fontSize:10}}),f.jsx(nn,{cursor:{stroke:"rgba(255,255,255,0.2)"},contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"0.5rem",color:"#f3f4f6"}}),f.jsx(Hn,{type:"monotone",dataKey:"density",stroke:"#0ea5e9",fill:"#0ea5e9",fillOpacity:.3,strokeWidth:2}),dr!==null&&f.jsx(ri,{x:dr,stroke:"#ef4444",strokeWidth:2,label:{value:"HSM",fill:"#ef4444",fontSize:10,position:"top"}})]})}):f.jsx("div",{className:"flex items-center justify-center h-full text-gray-400",children:"No data in selected range"})})]})}),f.jsxs("div",{className:"flex flex-wrap justify-between items-center p-3 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50 gap-4 flex-shrink-0",children:[f.jsxs("h2",{className:"text-lg font-bold text-gray-900 dark:text-slate-100 flex items-center gap-2",children:["Photon Transfer Curve",f.jsxs("span",{className:"text-xs font-normal bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-300 px-2 py-0.5 rounded border border-purple-200 dark:border-purple-800",children:[r.length," Pts"]})]}),f.jsxs("div",{className:"flex gap-4 items-center flex-wrap",children:[f.jsxs("button",{onClick:br,className:"bg-green-600 hover:bg-green-500 text-white font-bold py-1 px-3 rounded text-xs shadow-md transition-all active:scale-95 flex items-center gap-1",title:"Render all points, target lines, and metadata to a high-res JPG",children:[f.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Export Complete Result"]}),f.jsxs("div",{className:"flex bg-white dark:bg-slate-700 rounded-lg p-1 border border-gray-200 dark:border-slate-600",children:[f.jsx("button",{onClick:()=>ll("Noise"),className:`px-3 py-1 text-xs font-bold rounded transition-colors ${u==="Noise"?"bg-cyan-600 text-white shadow":"text-gray-600 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-600"}`,children:"Noise ()"}),f.jsx("button",{onClick:()=>ll("SNR"),className:`px-3 py-1 text-xs font-bold rounded transition-colors ${u==="SNR"?"bg-purple-600 text-white shadow":"text-gray-600 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-600"}`,children:"SNR"}),f.jsx("button",{onClick:()=>ll("Linear"),className:`px-3 py-1 text-xs font-bold rounded transition-colors ${u==="Linear"?"bg-indigo-600 text-white shadow":"text-gray-600 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-600"}`,children:"Linear (PTC)"})]}),f.jsxs("label",{className:"flex items-center gap-2 text-xs text-gray-600 dark:text-slate-300 cursor-pointer select-none",children:[f.jsx("input",{type:"checkbox",checked:h,onChange:T=>p(T.target.checked),className:"rounded border-gray-300 text-cyan-600 focus:ring-cyan-500 bg-gray-100 dark:bg-slate-700 dark:border-slate-600"}),"Log-Log"]}),f.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 transition-colors p-1",children:f.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-0 border-b border-gray-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-sm flex-shrink-0",children:[f.jsxs("div",{className:"lg:col-span-9 p-5 flex flex-col gap-5 border-r border-gray-200 dark:border-slate-700",children:[f.jsxs("div",{className:"flex flex-wrap gap-4 items-center justify-between text-xs",children:[f.jsxs("div",{className:"flex gap-4 items-center",children:[f.jsxs("div",{className:"flex items-center gap-1.5 bg-gray-50 dark:bg-slate-800 rounded-md p-1 border border-gray-200 dark:border-slate-700",children:[f.jsx("span",{className:"font-bold text-gray-500 dark:text-slate-400 pl-1",children:"X:"}),f.jsx("input",{type:"number",placeholder:"Min",value:_,onChange:T=>P(T.target.value),className:"w-12 px-1 py-0.5 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center outline-none"}),f.jsx("span",{className:"text-gray-400",children:"-"}),f.jsx("input",{type:"number",placeholder:"Max",value:A,onChange:T=>N(T.target.value),className:"w-12 px-1 py-0.5 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center outline-none"})]}),f.jsxs("div",{className:"flex items-center gap-1.5 bg-gray-50 dark:bg-slate-800 rounded-md p-1 border border-gray-200 dark:border-slate-700",children:[f.jsx("span",{className:"font-bold text-gray-500 dark:text-slate-400 pl-1",children:"Y:"}),f.jsx("input",{type:"number",placeholder:"Min",value:M,onChange:T=>B(T.target.value),className:"w-12 px-1 py-0.5 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center outline-none"}),f.jsx("span",{className:"text-gray-400",children:"-"}),f.jsx("input",{type:"number",placeholder:"Max",value:R,onChange:T=>$(T.target.value),className:"w-12 px-1 py-0.5 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center outline-none"})]}),f.jsx("button",{onClick:()=>{P(""),N(""),B(""),$("")},className:"text-xs text-cyan-600 dark:text-cyan-400 hover:underline",children:"Auto"})]}),f.jsxs("div",{className:"flex items-center gap-1 bg-white dark:bg-slate-700 p-1 rounded-lg border border-gray-200 dark:border-slate-600",children:[f.jsx("button",{onClick:()=>Ei("R"),className:`w-6 h-6 text-[10px] font-bold rounded flex items-center justify-center transition-colors ${S.R?"bg-red-500 text-white":"bg-gray-100 dark:bg-slate-600 text-gray-400"}`,children:"R"}),f.jsx("button",{onClick:()=>Ei("G1"),className:`w-6 h-6 text-[10px] font-bold rounded flex items-center justify-center transition-colors ${S.G1?"bg-green-500 text-white":"bg-gray-100 dark:bg-slate-600 text-gray-400"}`,children:"G1"}),f.jsx("button",{onClick:()=>Ei("G2"),className:`w-6 h-6 text-[10px] font-bold rounded flex items-center justify-center transition-colors ${S.G2?"bg-green-400 text-white":"bg-gray-100 dark:bg-slate-600 text-gray-400"}`,children:"G2"}),f.jsx("button",{onClick:()=>Ei("B"),className:`w-6 h-6 text-[10px] font-bold rounded flex items-center justify-center transition-colors ${S.B?"bg-blue-500 text-white":"bg-gray-100 dark:bg-slate-600 text-gray-400"}`,children:"B"})]})]}),f.jsxs("div",{className:"flex flex-wrap items-end gap-8",children:[f.jsxs("div",{className:"flex flex-col bg-gray-50 dark:bg-slate-800/50 p-2 rounded border border-gray-100 dark:border-slate-700",children:[f.jsx("span",{className:"text-[9px] uppercase font-bold text-gray-500 dark:text-slate-400 mb-1",children:"Black Level (0,0 0,1 1,0 1,1)"}),f.jsx("input",{type:"text",value:W,onChange:T=>te(T.target.value),className:"w-32 text-xs px-2 py-1 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded outline-none focus:border-cyan-500 font-mono",placeholder:"0 0 0 0"})]}),f.jsxs("div",{className:"flex flex-col justify-between bg-gray-50 dark:bg-slate-800/50 p-2 rounded border border-gray-100 dark:border-slate-700",children:[f.jsxs("div",{className:"flex justify-between items-center mb-1",children:[f.jsx("span",{className:"text-[9px] uppercase font-bold text-gray-500 dark:text-slate-400 mr-2",children:"Fit Range % (Robust)"}),f.jsx("button",{onClick:()=>{H(!be),xe(be?0:1)},className:`px-1.5 py-0.5 text-[9px] rounded border transition-colors ${be?"bg-cyan-100 text-cyan-700 border-cyan-300 animate-pulse":"bg-white dark:bg-slate-700 border-gray-300 dark:border-slate-600 text-gray-600 dark:text-slate-300 hover:bg-gray-50"}`,children:be?ue===1?"Pick Min":"Pick Max":"Select"})]}),f.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[f.jsx("input",{type:"number",step:"0.1",value:At.rangeMin,onChange:T=>Sn("rangeMin",T.target.value),onBlur:Ci,onKeyDown:T=>lo(T,"rangeMin"),className:"w-10 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-1 py-0.5 text-center font-bold"}),f.jsx("span",{className:"text-gray-400",children:"-"}),f.jsx("input",{type:"number",step:"0.1",value:At.rangeMax,onChange:T=>Sn("rangeMax",T.target.value),onBlur:Ci,onKeyDown:T=>lo(T,"rangeMax"),className:"w-10 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-1 py-0.5 text-center font-bold"})]})]}),f.jsxs("div",{className:"flex flex-col bg-indigo-50 dark:bg-indigo-900/20 p-2 rounded border border-indigo-100 dark:border-indigo-800/50",children:[f.jsx("span",{className:"text-[9px] uppercase font-bold text-indigo-600 dark:text-indigo-400 mb-1",children:"DR Params"}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("span",{className:"text-[10px] font-bold text-indigo-500 dark:text-indigo-300",children:"Img H:"}),f.jsx("input",{type:"number",value:D,onChange:T=>z(T.target.value),onKeyDown:oo,placeholder:"Empty",className:"w-14 px-1 py-0.5 bg-white dark:bg-slate-900 border border-indigo-200 dark:border-indigo-800 rounded text-center font-bold text-indigo-700 dark:text-indigo-300 text-xs placeholder:font-normal placeholder:text-gray-300"})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("span",{className:"text-[10px] font-bold text-indigo-500 dark:text-indigo-300",children:"Tgt SNR:"}),f.jsx("input",{type:"number",value:L,onChange:T=>F(T.target.value),className:"w-10 px-1 py-0.5 bg-white dark:bg-slate-900 border border-indigo-200 dark:border-indigo-800 rounded text-center font-bold text-indigo-700 dark:text-indigo-300 text-xs"})]})]})]}),f.jsxs("div",{className:"flex flex-col gap-1 text-[10px] justify-end pb-0.5",children:[f.jsx("button",{onClick:()=>{de(!U),ne&&Me(null)},disabled:be,className:`font-bold rounded border shadow-sm transition-all px-3 py-1.5 ${U?"bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-400 border-amber-500 animate-pulse":"bg-white dark:bg-slate-800 text-gray-600 dark:text-slate-300 border-gray-300 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:U?"Pick Point":"Select Linear Limit"}),f.jsxs("div",{className:"flex gap-1",children:[f.jsx("button",{onClick:$h,className:`flex-1 font-bold rounded border shadow-sm transition-all px-2 py-1 ${x==="top3"?"bg-indigo-600 text-white border-indigo-700":"bg-white dark:bg-slate-800 text-gray-600 dark:text-slate-300 border-gray-300 dark:border-slate-600 hover:bg-gray-50"}`,children:"Top 3%"}),f.jsx("button",{onClick:iu,className:`font-bold rounded border shadow-sm transition-all px-2 py-1 ${x==="raw"?"bg-red-600 text-white border-red-700":"text-red-500 border-red-200 hover:bg-red-50"}`,children:"All"})]})]})]}),f.jsxs("div",{className:"flex flex-wrap gap-4 items-center bg-gray-50/50 dark:bg-slate-800/20 p-2 rounded-lg border border-gray-100 dark:border-slate-800",children:[f.jsx("span",{className:"text-[10px] uppercase font-bold text-gray-400 dark:text-slate-500",children:"Metadata"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("input",{type:"text",value:Nt,onChange:T=>fr(T.target.value),placeholder:"Tester Name",className:"w-24 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-gray-700 dark:text-slate-300 outline-none focus:border-cyan-500 transition-colors"}),f.jsx("input",{type:"text",value:Lt,onChange:T=>Pr(T.target.value),placeholder:"Camera Model",className:"w-32 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-gray-700 dark:text-slate-300 outline-none focus:border-cyan-500 transition-colors"}),f.jsx("input",{type:"text",value:Kt,onChange:T=>Qr(T.target.value),placeholder:"ISO",className:"w-16 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-gray-700 dark:text-slate-300 outline-none focus:border-cyan-500 transition-colors"})]})]}),f.jsxs("div",{className:"flex flex-wrap gap-4 items-center bg-fuchsia-50/50 dark:bg-fuchsia-900/10 p-2 rounded-lg border border-fuchsia-100 dark:border-fuchsia-900/30",children:[f.jsx("span",{className:"text-[10px] uppercase font-bold text-fuchsia-500 dark:text-fuchsia-400",children:"Markers"}),f.jsxs("div",{className:"flex gap-2 items-center",children:[f.jsx("input",{type:"number",value:Ne,onChange:T=>tt(T.target.value),placeholder:"X (Signal)",className:"w-20 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 outline-none focus:border-fuchsia-500 transition-colors"}),f.jsx("input",{type:"number",value:ot,onChange:T=>lt(T.target.value),placeholder:"Y (Value)",className:"w-20 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 outline-none focus:border-fuchsia-500 transition-colors"}),f.jsx("button",{onClick:ur,className:"px-3 py-1 bg-fuchsia-600 hover:bg-fuchsia-500 text-white text-xs font-bold rounded shadow-sm transition-colors active:scale-95",children:"+"}),X.length>0&&f.jsx("button",{onClick:()=>Xe([]),className:"px-2 py-1 bg-gray-200 dark:bg-slate-700 hover:bg-red-500 hover:text-white text-gray-600 dark:text-slate-300 text-xs font-bold rounded shadow-sm transition-colors active:scale-95",children:"Clr"})]}),f.jsxs("div",{className:"text-[10px] text-gray-400 dark:text-slate-500 font-mono",children:[X.length," pts"]})]}),f.jsxs("div",{className:"flex gap-4 text-[10px] pt-1 justify-center sm:justify-start flex-wrap",children:[f.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[f.jsx("input",{type:"checkbox",checked:ct.shot,onChange:T=>Fr({...ct,shot:T.target.checked}),className:"rounded text-gray-500"})," ",f.jsx("span",{className:"text-gray-500",children:"Shot Noise"})]}),f.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[f.jsx("input",{type:"checkbox",checked:ct.read,onChange:T=>Fr({...ct,read:T.target.checked}),className:"rounded text-rose-500"})," ",f.jsx("span",{className:"text-rose-500",children:"Read Noise"})]}),f.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[f.jsx("input",{type:"checkbox",checked:ct.prnu,onChange:T=>Fr({...ct,prnu:T.target.checked}),className:"rounded text-amber-500"})," ",f.jsx("span",{className:"text-amber-500",children:"PRNU"})]}),f.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[f.jsx("input",{type:"checkbox",checked:ct.total,onChange:T=>Fr({...ct,total:T.target.checked}),className:"rounded text-white"})," ",f.jsx("span",{className:"text-gray-900 dark:text-white font-bold",children:"Model"})]})]})]}),f.jsxs("div",{className:"lg:col-span-3 bg-slate-100 dark:bg-slate-800 p-4 flex flex-col justify-center gap-4",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"flex justify-between items-center mb-1 px-1",children:[f.jsxs("h3",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase flex items-center gap-2",children:["Fit Parameters (D55 SAT Channel:",pt,")",k&&f.jsx("span",{className:"text-orange-500 animate-pulse text-[10px]",children:"Calculating..."})]}),f.jsxs("div",{className:"flex gap-2 items-center",children:[f.jsx("button",{onClick:Th,disabled:k,className:`px-3 py-1 text-white text-[10px] font-bold rounded shadow-sm transition-all flex items-center gap-1 active:scale-95 
                                            ${k?"bg-gray-400 cursor-wait":lu?"bg-orange-500 hover:bg-orange-600 animate-pulse ring-2 ring-orange-400/50":"bg-cyan-600 hover:bg-cyan-500"}
                                        `,title:"Apply Black Level, Auto-detect Read Noise, then Recalculate Fit",children:k?f.jsxs(f.Fragment,{children:[f.jsxs("svg",{className:"w-3 h-3 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Fitting..."]}):f.jsxs(f.Fragment,{children:[f.jsxs("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),"Apply & Calc"]})}),f.jsxs("select",{value:Br,onChange:T=>Ea(Number(T.target.value)),className:"text-[9px] bg-slate-200 dark:bg-slate-700 text-gray-600 dark:text-slate-300 rounded px-1 py-0.5 border-none outline-none cursor-pointer hover:bg-slate-300 dark:hover:bg-slate-600 transition-colors",title:"Number of point-pairs to sample for robust regression (Theil-Sen)",children:[f.jsx("option",{value:1e5,children:"100k Pairs"}),f.jsx("option",{value:5e5,children:"500k Pairs"}),f.jsx("option",{value:2e6,children:"2M Pairs"}),f.jsx("option",{value:5e6,children:"5M Pairs"}),f.jsx("option",{value:1e7,children:"10M Pairs"})]}),Ar&&f.jsxs("span",{className:"text-[10px] text-gray-400 dark:text-slate-500 font-mono",title:"Number of points used in regression",children:["N=",Ar.nPoints]})]})]}),f.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("label",{className:"text-[10px] text-gray-500 dark:text-slate-400 uppercase tracking-wide mb-1",children:"rn/fpn"}),f.jsx("input",{type:"text",inputMode:"decimal",value:At.read,onChange:T=>Sn("read",T.target.value),onBlur:()=>Mi("read"),onKeyDown:T=>lo(T,"read"),className:"w-full text-center text-2xl font-light bg-transparent text-rose-500 outline-none border-b border-transparent focus:border-rose-500 transition-colors"})]}),f.jsxs("div",{className:"flex flex-col items-center relative group",children:[f.jsxs("label",{className:"text-[10px] text-gray-500 dark:text-slate-400 uppercase tracking-wide mb-1 flex items-center gap-1",children:["Kadc (HSM)",f.jsx("button",{onClick:()=>Q(!0),className:"text-[9px] text-cyan-600 dark:text-cyan-400 hover:underline",children:"Dist."})]}),f.jsx("input",{type:"text",inputMode:"decimal",value:At.gain,onChange:T=>Sn("gain",T.target.value),onBlur:()=>Mi("gain"),onKeyDown:T=>lo(T,"gain"),className:"w-full text-center text-2xl font-light bg-transparent text-slate-700 dark:text-slate-200 outline-none border-b border-transparent focus:border-cyan-500 transition-colors"})]}),f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("label",{className:"text-[10px] text-gray-500 dark:text-slate-400 uppercase tracking-wide mb-1",children:"PRNU (%)"}),f.jsx("input",{type:"text",inputMode:"decimal",value:At.prnu,onChange:T=>Sn("prnu",T.target.value),onBlur:()=>Mi("prnu"),onKeyDown:T=>lo(T,"prnu"),className:"w-full text-center text-2xl font-light bg-transparent text-amber-500 outline-none border-b border-transparent focus:border-amber-500 transition-colors"})]})]})]}),f.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 w-full"}),f.jsxs("div",{className:"grid grid-cols-2 gap-2 text-center",children:[f.jsxs("div",{className:"flex flex-col justify-center bg-cyan-50 dark:bg-cyan-900/10 p-2 rounded-lg border border-cyan-100 dark:border-cyan-900/30",children:[f.jsxs("h4",{className:"text-[10px] font-bold text-cyan-600 dark:text-cyan-500 uppercase tracking-wide mb-1 truncate",title:`Manual DR at SNR=${(ce==null?void 0:ce.manualTarget)||L}`,children:["M.DR @ SNR=",(ce==null?void 0:ce.manualTarget)||L]}),f.jsx("div",{className:"text-base font-bold text-cyan-700 dark:text-cyan-400 whitespace-nowrap",children:ce!=null&&ce.manualDR?`${ce.manualDR.toFixed(2)} EV`:"--"})]}),f.jsxs("div",{className:"flex flex-col justify-center bg-emerald-50 dark:bg-emerald-900/10 p-2 rounded-lg border border-emerald-100 dark:border-emerald-900/30",title:isNaN((ce==null?void 0:ce.ptpTarget)||NaN)?"Requires Image Height":`Standard Point-to-Point DR (Target SNR = 16000/${D||"H"})`,children:[f.jsx("h4",{className:"text-[10px] font-bold text-emerald-600 dark:text-emerald-500 uppercase tracking-wide mb-1",children:"PTP DR"}),f.jsx("div",{className:"text-base font-bold text-emerald-700 dark:text-emerald-400 whitespace-nowrap",children:ce!=null&&ce.ptpDR?`${ce.ptpDR.toFixed(2)} EV`:"--"})]}),f.jsxs("div",{className:"flex flex-col justify-center bg-purple-50 dark:bg-purple-900/10 p-2 rounded-lg border border-purple-100 dark:border-purple-900/30",title:isNaN((ce==null?void 0:ce.ptpTarget)||NaN)?"Requires Image Height":`D55 Saturation DR (Target SNR = 16000/${D||"H"} on ${ce==null?void 0:ce.dominantChannel} Channel)`,children:[f.jsxs("h4",{className:"text-[10px] font-bold text-purple-600 dark:text-purple-400 uppercase tracking-wide mb-1 truncate",children:["D55 DR (",ce==null?void 0:ce.dominantChannel,")"]}),f.jsx("div",{className:"text-base font-bold text-purple-700 dark:text-purple-400 whitespace-nowrap",children:ce!=null&&ce.d55DR?`${ce.d55DR.toFixed(2)} EV`:"--"})]}),f.jsxs("div",{className:"flex flex-col justify-center bg-orange-50 dark:bg-orange-900/10 p-2 rounded-lg border border-orange-100 dark:border-orange-900/30",children:[f.jsx("h4",{className:"text-[10px] font-bold text-orange-600 dark:text-orange-400 uppercase tracking-wide mb-1",children:"FWC"}),f.jsx("div",{className:"text-base font-bold text-orange-600 dark:text-orange-400 font-mono whitespace-nowrap truncate",title:Ge!==null?`${Math.round(Ge)}`:"",children:Ge!==null?Ge>1e4?`${(Ge/1e3).toFixed(1)}k`:`${Math.round(Ge)}`:"--"})]})]}),ne===null&&f.jsx("div",{className:"text-center text-[10px] text-red-500 animate-pulse font-bold mt-[-10px]",children:"Please select Linear Limit on chart to calc DR"})]})]}),f.jsxs("div",{className:`flex-1 p-4 bg-white dark:bg-slate-900 relative grid grid-cols-[auto_1fr] grid-rows-[1fr_auto] gap-2 ${U||be?"cursor-crosshair":""}`,children:[f.jsx("div",{className:"row-start-1 col-start-1 h-full",children:f.jsx(O2,{vertical:!0,min:he,max:De,value:[M?parseFloat(M):he,R?parseFloat(R):De],onChange:([T,V])=>{B(T.toString()),$(V.toString())},logScale:h})}),f.jsxs("div",{className:"row-start-1 col-start-2 relative",children:[tr.length===0?f.jsx("div",{className:"flex h-full items-center justify-center text-gray-400",children:"No valid data points found."}):f.jsx(ws,{width:"100%",height:"100%",children:f.jsxs(MQ,{margin:{top:20,right:20,bottom:0,left:0},onClick:Uo,children:[f.jsx("defs",{children:f.jsxs("filter",{id:"glow",height:"300%",width:"300%",x:"-100%",y:"-100%",children:[f.jsx("feGaussianBlur",{stdDeviation:"2",result:"coloredBlur"}),f.jsxs("feMerge",{children:[f.jsx("feMergeNode",{in:"coloredBlur"}),f.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),f.jsx(ki,{strokeDasharray:"3 3",stroke:"#374151",opacity:.2}),f.jsx(ga,{type:"number",dataKey:"x",name:"Signal",scale:h?"log":"linear",domain:sl(_,A),allowDataOverflow:!0,hide:!0}),f.jsx(ma,{type:"number",dataKey:"y",name:u,scale:h?"log":"linear",domain:sl(M,R),label:{value:su,angle:-90,position:"insideLeft",fill:"#9ca3af",fontSize:12},tick:{fill:"#9ca3af",fontSize:10},allowDataOverflow:!0}),f.jsx(nn,{content:f.jsx(Lh,{}),cursor:{strokeDasharray:"3 3"}}),ne&&f.jsx(ri,{x:ne,stroke:"red",strokeDasharray:"3 3",label:{position:"top",value:"Sat",fill:"red",fontSize:10}}),(ct.fitRange||be)&&f.jsxs(f.Fragment,{children:[f.jsx(ri,{x:rt,stroke:"#22d3ee",strokeDasharray:"5 5",label:{position:"insideTopLeft",value:`Min: ${Ir.min}%`,fill:"#22d3ee",fontSize:9}}),f.jsx(ri,{x:gt,stroke:"#22d3ee",strokeDasharray:"5 5",label:{position:"insideTopLeft",value:`Max: ${Ir.max}%`,fill:"#22d3ee",fontSize:9}})]}),S.R&&f.jsx(tn,{name:"Red",data:rr.R,fill:"#ef4444",shape:Ta,onClick:Uo,style:s==="dark"?{filter:"url(#glow)"}:void 0},"scatter-R"),S.G1&&f.jsx(tn,{name:"Green 1",data:rr.G1,fill:"#22c55e",shape:Ta,onClick:Uo,style:s==="dark"?{filter:"url(#glow)"}:void 0},"scatter-G1"),S.G2&&f.jsx(tn,{name:"Green 2",data:rr.G2,fill:"#4ade80",shape:Ta,onClick:Uo,style:s==="dark"?{filter:"url(#glow)"}:void 0},"scatter-G2"),S.B&&f.jsx(tn,{name:"Blue",data:rr.B,fill:"#3b82f6",shape:Ta,onClick:Uo,style:s==="dark"?{filter:"url(#glow)"}:void 0},"scatter-B"),ct.shot&&pe.shot.length>0&&f.jsx(tn,{name:"Shot Noise (Ideal)",data:pe.shot,line:{stroke:"#94a3b8",strokeWidth:1,strokeDasharray:"5 5"},shape:()=>f.jsx(f.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-shot"),ct.read&&pe.read.length>0&&f.jsx(tn,{name:"Read Noise Floor",data:pe.read,line:{stroke:"#f43f5e",strokeWidth:1,strokeDasharray:"3 3"},shape:()=>f.jsx(f.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-read"),ct.prnu&&pe.prnu.length>0&&f.jsx(tn,{name:"PRNU (Non-uniformity)",data:pe.prnu,line:{stroke:"#f59e0b",strokeWidth:1,strokeDasharray:"3 3"},shape:()=>f.jsx(f.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-prnu"),ct.total&&pe.total.length>0&&f.jsx(tn,{name:"Total Noise Model",data:pe.total,line:{stroke:Rh,strokeWidth:2},shape:()=>f.jsx(f.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-total"),nt.length>0&&f.jsx(tn,{name:`Target SNR=${L}`,data:nt,line:{stroke:"#6366f1",strokeWidth:2,strokeDasharray:"4 2"},shape:()=>f.jsx(f.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-target"),Je.length>0&&f.jsx(tn,{name:`PTP Target SNR=${ce!=null&&ce.ptpTarget?ce.ptpTarget.toFixed(1):"?"}`,data:Je,line:{stroke:"#10b981",strokeWidth:2,strokeDasharray:"4 4"},shape:()=>f.jsx(f.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-ptp"),X.length>0&&f.jsx(tn,{name:"Manual Markers",data:X,fill:"#d946ef",shape:"star",legendType:"star"},"manual-points")]})}),f.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 pointer-events-none select-none opacity-25 mix-blend-normal dark:mix-blend-plus-lighter",children:f.jsx("svg",{viewBox:"0 0 500 60",className:"w-96 h-auto",children:f.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"36",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})})]}),f.jsx("div",{className:"row-start-2 col-start-2 w-full",children:f.jsx(O2,{min:Cr,max:Y,value:[_?parseFloat(_):Cr,A?parseFloat(A):Y],onChange:([T,V])=>{P(T.toString()),N(V.toString())},logScale:h})})]})]})})},JQ=({searchTerm:e,onSearchChange:t,manufacturers:r,selectedManufacturer:n,onManufacturerChange:a,cameras:o,onCameraSelect:i})=>f.jsx("div",{className:"sticky top-4 z-10 bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm p-4 rounded-xl border border-gray-200 dark:border-slate-700 shadow-sm",children:f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[f.jsxs("div",{className:"relative md:col-span-3",children:[f.jsx("input",{type:"text",placeholder:"Search camera model...",value:e,onChange:s=>t(s.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none transition-all duration-300 text-gray-900 dark:text-slate-200 placeholder-gray-500 dark:placeholder-slate-400"}),f.jsx("svg",{className:"w-5 h-5 text-gray-400 dark:text-slate-400 absolute top-1/2 left-3 transform -translate-y-1/2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),f.jsx("select",{value:n,onChange:s=>a(s.target.value),className:"w-full md:col-span-1 bg-gray-50 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg px-4 py-2 focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none transition-all duration-300 appearance-none text-gray-900 dark:text-slate-200",children:r.map(s=>f.jsx("option",{value:s,children:s},s))}),f.jsxs("select",{onChange:s=>i(s.target.value),className:"w-full md:col-span-1 bg-gray-50 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg px-4 py-2 focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none transition-all duration-300 appearance-none text-gray-900 dark:text-slate-200",value:"","aria-label":"Jump to camera model",children:[f.jsx("option",{value:"",disabled:!0,children:"Jump to model..."}),o.map(s=>f.jsx("option",{value:s.id,children:s.name},s.id))]})]})}),eZ=({active:e,payload:t,label:r,theme:n})=>{if(e&&t&&t.length){const a=t[0].payload,o=n==="dark"?"bg-slate-800/80 border-slate-600 text-slate-300":"bg-white/90 border-gray-200 text-gray-700";return f.jsxs("div",{className:`${o} backdrop-blur-sm border p-3 rounded-lg shadow-lg`,children:[f.jsx("p",{className:"label font-bold",children:`ISO ${r}`}),f.jsx("div",{className:"mt-2 space-y-1 text-sm",children:f.jsxs(f.Fragment,{children:[f.jsxs("div",{style:{color:"#f87171"},children:["Red: ",a.R_avg.toFixed(2)," (Range: ",a.R_range[0]," - ",a.R_range[1],")"]}),f.jsxs("div",{style:{color:"#4ade80"},children:["Green 1: ",a.G1_avg.toFixed(2)," (Range: ",a.G1_range[0]," - ",a.G1_range[1],")"]}),f.jsxs("div",{style:{color:"#60a5fa"},children:["Blue: ",a.B_avg.toFixed(2)," (Range: ",a.B_range[0]," - ",a.B_range[1],")"]}),f.jsxs("div",{style:{color:"#86efac"},children:["Green 2: ",a.G2_avg.toFixed(2)," (Range: ",a.G2_range[0]," - ",a.G2_range[1],")"]})]})})]})}return null},tZ=({data:e,theme:t="dark"})=>{const r=O.useMemo(()=>!e||e.length===0?[]:[...new Set(e.map(i=>i.iso))].sort((i,s)=>Number(i)-Number(s)),[e]),n=O.useMemo(()=>{if(!e||e.length===0)return[0,4096];const i=e.flatMap(m=>[...m.R_range,...m.G1_range,...m.G2_range,...m.B_range]);if(i.length===0)return[0,4096];let s=Math.min(...i),l=Math.max(...i);const c=.25,u=l-s;if(u<c){const m=c-u;s-=m/2,l+=m/2}const d=(l-s)*.1,h=s-d,p=l+d;return[h,p]},[e]),a=t==="dark"?"#475569":"#e5e7eb",o=t==="dark"?"#94a3b8":"#6b7280";return!e||e.length===0?f.jsx("div",{className:"flex items-center justify-center h-full text-gray-500 dark:text-slate-500",children:f.jsx("p",{children:"No data available for this mode."})}):f.jsx(ws,{width:"100%",height:"100%",children:f.jsxs(SP,{data:e,margin:{top:5,right:20,left:0,bottom:5},children:[f.jsx(ki,{strokeDasharray:"3 3",stroke:a}),f.jsx(ga,{dataKey:"iso",type:"number",domain:["dataMin","dataMax"],tick:{fill:o,fontSize:12},scale:"log",allowDuplicatedCategory:!1,ticks:r}),f.jsx(ma,{tick:{fill:o,fontSize:12},domain:n,allowDecimals:!0,tickFormatter:i=>Number(i).toFixed(3)}),f.jsx(nn,{content:f.jsx(eZ,{theme:t})}),f.jsx(Va,{wrapperStyle:{fontSize:"14px",color:o}}),f.jsx(Hn,{type:"monotone",dataKey:"R_range",fill:"#f87171",stroke:"none",fillOpacity:.2,name:"Red",legendType:"none"}),f.jsx(qr,{type:"monotone",dataKey:"R_avg",stroke:"#f87171",strokeWidth:2,dot:!1,activeDot:{r:5},name:"Red"}),f.jsx(Hn,{type:"monotone",dataKey:"G1_range",fill:"#4ade80",stroke:"none",fillOpacity:.2,name:"Green 1",legendType:"none"}),f.jsx(qr,{type:"monotone",dataKey:"G1_avg",stroke:"#4ade80",strokeWidth:2,dot:!1,activeDot:{r:5},name:"Green 1"}),f.jsx(Hn,{type:"monotone",dataKey:"B_range",fill:"#60a5fa",stroke:"none",fillOpacity:.2,name:"Blue",legendType:"none"}),f.jsx(qr,{type:"monotone",dataKey:"B_avg",stroke:"#60a5fa",strokeWidth:2,dot:!1,activeDot:{r:5},name:"Blue"}),f.jsx(Hn,{type:"monotone",dataKey:"G2_range",fill:"#86efac",stroke:"none",fillOpacity:.2,name:"Green 2",legendType:"none"}),f.jsx(qr,{type:"monotone",dataKey:"G2_avg",stroke:"#86efac",strokeWidth:2,dot:!1,activeDot:{r:5},name:"Green 2"})]})})},rZ=C.forwardRef(({camera:e,theme:t="dark"},r)=>{const n=O.useMemo(()=>e.shootingModes.map(d=>d.modeName),[e.shootingModes]),[a,o]=O.useState(n[0]||""),{chartData:i,tableData:s}=O.useMemo(()=>{const d=e.shootingModes.find(m=>m.modeName===a);if(!(d!=null&&d.data))return{chartData:[],tableData:[]};const h=d.data.map(m=>({iso:m.iso,R_range:m.r.range,R_avg:m.r.avg,G1_range:m.g1.range,G1_avg:m.g1.avg,B_range:m.b.range,B_avg:m.b.avg,G2_range:m.g2.range,G2_avg:m.g2.avg})),p=d.data.map(m=>({iso:m.iso,levels:[m.r.avg,m.g1.avg,m.g2.avg,m.b.avg],clipping:m.clipping}));return{chartData:h,tableData:p}},[e.shootingModes,a]),l=`Raw Data (${a})`,c=O.useRef(null),u=O.useRef(null);return O.useEffect(()=>{const d=c.current,h=u.current;if(!d||!h)return;const p=new ResizeObserver(m=>{for(let v of m){const{width:x}=v.contentRect,g=Math.max(8,x/35);h.style.fontSize=`${g}px`}});return p.observe(d),()=>p.disconnect()},[]),f.jsxs("div",{ref:r,className:"bg-white dark:bg-slate-800/50 border border-gray-200 dark:border-slate-700 rounded-xl shadow-lg p-6 flex flex-col gap-6 transform hover:scale-[1.02] hover:border-cyan-500/50 transition-all duration-500 ease-in-out",children:[f.jsxs("div",{className:"border-b border-gray-200 dark:border-slate-700 pb-4",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-slate-100",children:e.name}),f.jsx("p",{className:"text-cyan-600 dark:text-cyan-400",children:e.manufacturer})]}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-4 mb-4",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-slate-300",children:"Black Level vs. ISO"}),f.jsx("select",{value:a,onChange:d=>o(d.target.value),className:"w-full sm:w-auto bg-gray-50 dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded-md px-3 py-1 text-sm outline-none focus:ring-2 focus:ring-cyan-500 transition-all duration-300 text-gray-900 dark:text-slate-200","aria-label":`Select shooting mode for ${e.name}`,children:n.map(d=>f.jsx("option",{value:d,children:d},d))})]}),f.jsxs("div",{ref:c,className:"h-64 relative",children:[f.jsx(tZ,{data:i,theme:t},a),f.jsx("div",{className:"absolute top-1/2 left-[52%] transform -translate-x-1/2 -translate-y-1/2 -rotate-30 pointer-events-none",children:f.jsx("p",{ref:u,className:"font-bold text-gray-900/10 dark:text-slate-200/40 whitespace-nowrap",children:" y-g-jiang.github.io"})})]})]}),f.jsxs("div",{className:"overflow-x-auto",children:[f.jsx("div",{className:"flex justify-between items-center mb-4",children:f.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-slate-300",children:l})}),f.jsxs("table",{className:"w-full text-left border-collapse",children:[f.jsx("thead",{className:"bg-gray-100 dark:bg-slate-700/50",children:f.jsxs("tr",{children:[f.jsx("th",{className:"p-3 font-semibold text-sm text-gray-700 dark:text-slate-300",children:"ISO"}),f.jsx("th",{className:"p-3 font-semibold text-sm text-red-500 dark:text-red-400",children:"Red"}),f.jsx("th",{className:"p-3 font-semibold text-sm text-green-600 dark:text-green-400",children:"Green 1"}),f.jsx("th",{className:"p-3 font-semibold text-sm text-blue-500 dark:text-blue-400",children:"Blue"}),f.jsx("th",{className:"p-3 font-semibold text-sm text-green-500 dark:text-green-300",children:"Green 2"})]})}),f.jsx("tbody",{children:s.map(({iso:d,levels:h,clipping:p})=>f.jsxs("tr",{className:"border-b border-gray-200 dark:border-slate-700/50 last:border-b-0",children:[f.jsxs("td",{className:"p-3 font-mono text-gray-700 dark:text-slate-300 whitespace-nowrap",children:[d,p&&f.jsx("span",{className:"ml-3 text-xs font-semibold text-amber-600 dark:text-amber-400 bg-amber-100 dark:bg-amber-900/50 px-2 py-1 rounded-full align-middle",children:"Clipping"})]}),f.jsx("td",{className:"p-3 font-mono text-red-500 dark:text-red-400",children:h[0].toFixed(2)}),f.jsx("td",{className:"p-3 font-mono text-green-600 dark:text-green-400",children:h[1].toFixed(2)}),f.jsx("td",{className:"p-3 font-mono text-blue-500 dark:text-blue-400",children:h[3].toFixed(2)}),f.jsx("td",{className:"p-3 font-mono text-green-500 dark:text-green-300",children:h[2].toFixed(2)})]},d))})]})]})]})}),Ue=(e,t,r)=>({avg:e,range:[t,r]}),we=(e=255)=>{const t=e+(Math.random()-.5)*2,r=Math.random()*.2+.05;return{avg:t,range:[parseFloat((t-r).toFixed(2)),parseFloat((t+r).toFixed(2))]}},Gp=[{id:"olympus-om1",name:"Olympus OM-1",manufacturer:"Olympus",shootingModes:[{modeName:"Single Shot",data:[{iso:200,r:Ue(254.9,254.89,254.91),g1:Ue(254.87,254.86,254.88),b:Ue(254.9,254.89,254.91),g2:Ue(254.87,254.86,254.88)},{iso:400,r:Ue(254.9,254.89,254.91),g1:Ue(254.87,254.86,254.88),b:Ue(254.9,254.89,254.91),g2:Ue(254.87,254.86,254.88),clipping:!0}]},{modeName:"20fps",data:[{iso:200,r:Ue(254.94,254.83,254.96),g1:Ue(254.92,254.81,254.96),b:Ue(254.94,254.83,254.96),g2:Ue(254.93,254.81,254.95)},{iso:400,r:Ue(254.94,254.83,254.96),g1:Ue(254.92,254.81,254.96),b:Ue(254.94,254.83,254.96),g2:Ue(254.93,254.81,254.95),clipping:!0}]},{modeName:"50fps",data:[{iso:200,r:Ue(254.82,254.75,254.94),g1:Ue(254.74,254.68,254.87),b:Ue(254.82,254.75,254.94),g2:Ue(254.75,254.68,254.87)},{iso:400,r:Ue(254.82,254.75,254.94),g1:Ue(254.74,254.68,254.87),b:Ue(254.82,254.75,254.94),g2:Ue(254.75,254.68,254.87),clipping:!0}]}]},{id:"panasonic-g9",name:"Panasonic G9",manufacturer:"Panasonic",shootingModes:[{modeName:"Single Shot",data:[{iso:200,r:Ue(254.9,254.89,254.91),g1:Ue(254.87,254.86,254.88),b:Ue(254.9,254.89,254.91),g2:Ue(254.87,254.86,254.88)},{iso:400,r:Ue(254.9,254.89,254.91),g1:Ue(254.87,254.86,254.88),b:Ue(254.9,254.89,254.91),g2:Ue(254.87,254.86,254.88),clipping:!0}]},{modeName:"30fps",data:[{iso:200,r:Ue(254.94,254.83,254.96),g1:Ue(254.92,254.81,254.96),b:Ue(254.94,254.83,254.96),g2:Ue(254.93,254.81,254.95)},{iso:400,r:Ue(254.94,254.83,254.96),g1:Ue(254.92,254.81,254.96),b:Ue(254.94,254.83,254.96),g2:Ue(254.93,254.81,254.95),clipping:!0}]}]},{id:"virtual-cam-1",name:"Virtual Camera Pro",manufacturer:"Virtual",shootingModes:[{modeName:"Standard",data:[{iso:100,r:we(255),g1:we(255),b:we(255),g2:we(255)},{iso:200,r:we(255.2),g1:we(255.2),b:we(255.2),g2:we(255.2)},{iso:400,r:we(255.5),g1:we(255.5),b:we(255.5),g2:we(255.5)},{iso:800,r:we(256),g1:we(256),b:we(256),g2:we(256)},{iso:1600,r:we(257),g1:we(257),b:we(257),g2:we(257),clipping:!0}]},{modeName:"High Speed",data:[{iso:200,r:we(256),g1:we(256),b:we(256),g2:we(256)},{iso:400,r:we(256.3),g1:we(256.3),b:we(256.3),g2:we(256.3)},{iso:800,r:we(256.8),g1:we(256.8),b:we(256.8),g2:we(256.8)},{iso:1600,r:we(257.5),g1:we(257.5),b:we(257.5),g2:we(257.5),clipping:!0},{iso:3200,r:we(259),g1:we(259),b:we(259),g2:we(259),clipping:!0}]},{modeName:"Low Light",data:[{iso:800,r:we(254),g1:we(254),b:we(254),g2:we(254)},{iso:1600,r:we(254.5),g1:we(254.5),b:we(254.5),g2:we(254.5)},{iso:3200,r:we(255),g1:we(255),b:we(255),g2:we(255),clipping:!0},{iso:6400,r:we(256),g1:we(256),b:we(256),g2:we(256),clipping:!0}]}]}],nZ=({isOpen:e,onClose:t,theme:r})=>{const[n,a]=O.useState(""),[o,i]=O.useState("All"),s=O.useMemo(()=>["All",...Array.from(new Set(Gp.map(d=>d.manufacturer))).sort()],[]),l=O.useMemo(()=>Gp.filter(u=>{const d=u.name.toLowerCase().includes(n.toLowerCase()),h=o==="All"||u.manufacturer===o;return d&&h}),[n,o]),c=u=>{const d=document.getElementById(`camera-${u}`);d&&d.scrollIntoView({behavior:"smooth"})};return e?f.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",onClick:t,children:f.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-6xl h-[90vh] rounded-2xl shadow-2xl flex flex-col border border-gray-200 dark:border-slate-700 overflow-hidden",onClick:u=>u.stopPropagation(),children:[f.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50",children:[f.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-slate-100 flex items-center gap-2",children:["Camera Black Level Database",f.jsxs("span",{className:"text-xs font-normal bg-cyan-100 dark:bg-cyan-900/30 text-cyan-600 dark:text-cyan-400 px-2 py-0.5 rounded border border-cyan-200 dark:border-cyan-800",children:[Gp.length," Models"]})]}),f.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 transition-colors p-2 rounded-full hover:bg-gray-100 dark:hover:bg-slate-800",children:f.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),f.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-slate-700 bg-gray-50/50 dark:bg-slate-800/30",children:f.jsx(JQ,{searchTerm:n,onSearchChange:a,manufacturers:s,selectedManufacturer:o,onManufacturerChange:i,cameras:l,onCameraSelect:c})}),f.jsx("div",{className:"flex-1 overflow-y-auto p-6 scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-slate-700 bg-gray-100 dark:bg-slate-950",children:f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-2 gap-6",children:[l.map(u=>f.jsx("div",{id:`camera-${u.id}`,children:f.jsx(rZ,{camera:u,theme:r})},u.id)),l.length===0&&f.jsx("div",{className:"col-span-full flex flex-col items-center justify-center py-20 text-gray-400 dark:text-slate-600",children:f.jsx("p",{className:"text-lg",children:"No cameras found matching your criteria."})})]})})]})}):null},aZ=({isOpen:e,onClose:t,zIndex:r=150})=>{const[n,a]=O.useState(""),[o,i]=O.useState(""),[s,l]=O.useState(""),[c,u]=O.useState(""),[d,h]=O.useState(null),p=()=>{const m=parseFloat(n),v=parseFloat(o),x=parseFloat(s),y=parseFloat(c);if(isNaN(m)||isNaN(v)||isNaN(x)||isNaN(y)){h(null);return}const g=m,b=v,k=x*x,w=y*y,S=(g+b)/2;if(S<=1e-9){h(0);return}const j=k*w/S,_=Math.sqrt(j);h(_)};return e?f.jsxs(jP,{initialPosition:{x:window.innerWidth/2-160,y:window.innerHeight/2-200},onClose:t,zIndex:r,className:"w-80 bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 flex flex-col shadow-2xl",children:[f.jsxs("div",{className:"flex justify-between items-center px-4 py-3 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800",children:[f.jsx("h3",{className:"text-sm font-bold text-gray-700 dark:text-slate-200",children:"Cross-Compensation Calc"}),f.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 transition-colors",children:f.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),f.jsxs("div",{className:"p-4 flex flex-col gap-3 text-xs",children:[f.jsxs("div",{className:"flex flex-col gap-1",children:[f.jsx("label",{className:"text-gray-500 dark:text-slate-400 font-bold",children:"H Mean (Power/Var)"}),f.jsx("input",{type:"number",step:"any",value:n,onChange:m=>a(m.target.value),className:"p-2 rounded bg-gray-100 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 outline-none focus:border-indigo-500 text-gray-900 dark:text-slate-100 font-mono"})]}),f.jsxs("div",{className:"flex flex-col gap-1",children:[f.jsx("label",{className:"text-gray-500 dark:text-slate-400 font-bold",children:"V Mean (Power/Var)"}),f.jsx("input",{type:"number",step:"any",value:o,onChange:m=>i(m.target.value),className:"p-2 rounded bg-gray-100 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 outline-none focus:border-indigo-500 text-gray-900 dark:text-slate-100 font-mono"})]}),f.jsxs("div",{className:"flex flex-col gap-1",children:[f.jsx("label",{className:"text-gray-500 dark:text-slate-400 font-bold",children:"H RMS 0 (Sigma)"}),f.jsx("input",{type:"number",step:"any",value:s,onChange:m=>l(m.target.value),className:"p-2 rounded bg-gray-100 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 outline-none focus:border-indigo-500 text-gray-900 dark:text-slate-100 font-mono"})]}),f.jsxs("div",{className:"flex flex-col gap-1",children:[f.jsx("label",{className:"text-gray-500 dark:text-slate-400 font-bold",children:"V RMS 0 (Sigma)"}),f.jsx("input",{type:"number",step:"any",value:c,onChange:m=>u(m.target.value),className:"p-2 rounded bg-gray-100 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 outline-none focus:border-indigo-500 text-gray-900 dark:text-slate-100 font-mono"})]}),f.jsx("button",{onClick:p,className:"mt-2 w-full py-2 bg-indigo-600 hover:bg-indigo-500 text-white font-bold rounded shadow transition-colors active:scale-95",children:"Calculate Sigma"}),d!==null&&f.jsxs("div",{className:"mt-2 p-3 bg-indigo-50 dark:bg-indigo-900/30 border border-indigo-200 dark:border-indigo-800 rounded text-center animate-in fade-in slide-in-from-top-1",children:[f.jsx("span",{className:"block text-[10px] uppercase font-bold text-gray-500 dark:text-slate-400 mb-1",children:"Original White Noise Sigma"}),f.jsx("span",{className:"text-lg font-mono font-bold text-indigo-700 dark:text-indigo-300 select-all",children:d.toFixed(5)})]})]})]}):null};function _2(e,t,r){const a=e*t*2,o=8,i=o+a,s="Fake",l="NoiseCam",c="NoiseCam",u=P=>{const A=new Uint8Array(P.length+1);for(let N=0;N<P.length;N++)A[N]=P.charCodeAt(N);return A[P.length]=0,A},d=u(s),h=u(l),p=u(c),m=[{id:254,type:4,count:1,value:0},{id:256,type:4,count:1,value:e},{id:257,type:4,count:1,value:t},{id:258,type:3,count:1,value:16},{id:259,type:3,count:1,value:1},{id:262,type:3,count:1,value:32803},{id:271,type:2,count:d.length,value:d},{id:272,type:2,count:h.length,value:h},{id:273,type:4,count:1,value:o},{id:277,type:3,count:1,value:1},{id:278,type:4,count:1,value:t},{id:279,type:4,count:1,value:a},{id:33421,type:3,count:2,value:[2,2]},{id:33422,type:1,count:4,value:[0,1,1,2]},{id:50706,type:1,count:4,value:[1,4,0,0]},{id:50717,type:2,count:p.length,value:p}],v=2+m.length*12+4;let x=0;const y=m.map(P=>{let A=1;P.type===3&&(A=2),P.type===4&&(A=4);const N=P.count*A,M=N<=4;let B=0;return M||(B=x,x+=N,x%2!==0&&x++),{...P,fits:M,totalBytes:N,extraOffset:B}}),g=i+v,b=g+x,k=new ArrayBuffer(b),w=new DataView(k),S=new Uint8Array(k);w.setUint16(0,18761,!0),w.setUint16(2,42,!0),w.setUint32(4,i,!0);const j=new Uint8Array(r.buffer,r.byteOffset,r.byteLength);S.set(j,o);let _=i;return w.setUint16(_,m.length,!0),_+=2,y.forEach(P=>{if(w.setUint16(_,P.id,!0),w.setUint16(_+2,P.type,!0),w.setUint32(_+4,P.count,!0),P.fits){const A=_+8;Array.isArray(P.value)?P.value.forEach((N,M)=>{P.type===1&&w.setUint8(A+M,N),P.type===3&&w.setUint16(A+M*2,N,!0)}):P.value instanceof Uint8Array||(P.type===3&&w.setUint16(A,P.value,!0),P.type===4&&w.setUint32(A,P.value,!0))}else{const A=g+P.extraOffset;w.setUint32(_+8,A,!0);const N=A;P.value instanceof Uint8Array?S.set(P.value,N):Array.isArray(P.value)&&P.value.forEach((M,B)=>{P.type===1&&w.setUint8(N+B,M),P.type===3&&w.setUint16(N+B*2,M,!0)})}_+=12}),w.setUint32(_,0,!0),k}const oZ="http://localhost:5428",iZ=(e=!1)=>{const[t,r]=O.useState({isConnected:!1,message:"Initializing...",hasDngConverter:!1});return O.useEffect(()=>{if(e){r({isConnected:!1,message:"Bridge Paused",hasDngConverter:!1});return}const n=async()=>{try{const o=new AbortController,i=setTimeout(()=>o.abort(),1e3),s=await fetch(`${oZ}/health`,{method:"GET",signal:o.signal});if(clearTimeout(i),s.ok){const l=await s.json(),c=`Connected (${l.exiftool||"Ready"})`;r(u=>u.isConnected===!0&&u.message===c&&u.version===l.exiftool&&u.hasDngConverter===!!l.dng_converter?u:{isConnected:!0,message:c,version:l.exiftool,hasDngConverter:!!l.dng_converter})}else r(l=>l.isConnected===!1&&l.message==="Service Error"?l:{isConnected:!1,message:"Service Error",hasDngConverter:!1})}catch{r(i=>i.isConnected===!1&&i.message==="Not Detected"?i:{isConnected:!1,message:"Not Detected",hasDngConverter:!1})}};n();const a=setInterval(n,2e3);return()=>clearInterval(a)},[e]),t},sZ="JTR_BlobStore",Ma="raw_files",lZ=1,Eh=()=>new Promise((e,t)=>{const r=indexedDB.open(sZ,lZ);r.onupgradeneeded=n=>{const a=n.target.result;a.objectStoreNames.contains(Ma)||a.createObjectStore(Ma)},r.onsuccess=()=>e(r.result),r.onerror=()=>t(r.error)}),P2=async(e,t)=>{const r=await Eh();return new Promise((n,a)=>{const o=r.transaction(Ma,"readwrite");o.objectStore(Ma).put(t,e),o.oncomplete=()=>n(),o.onerror=()=>a(o.error)})},cZ=async e=>{const t=await Eh();return new Promise((r,n)=>{const i=t.transaction(Ma,"readonly").objectStore(Ma).get(e);i.onsuccess=()=>r(i.result),i.onerror=()=>n(i.error)})},uZ=async()=>{const e=await Eh();return new Promise((t,r)=>{const n=e.transaction(Ma,"readwrite");n.objectStore(Ma).clear(),n.oncomplete=()=>t(),n.onerror=()=>r(n.error)})},OP="jtr_workspace_index",fZ=e=>{try{const t=JSON.stringify(e);localStorage.setItem(OP,t)}catch(t){console.error("Failed to save workspace index",t)}},dZ=()=>{try{const e=localStorage.getItem(OP);return e?JSON.parse(e):null}catch(e){return console.error("Failed to load workspace index",e),null}},hZ=async e=>{const n=(await Eh()).transaction(Ma,"readwrite").objectStore(Ma),a=n.getAllKeys();a.onsuccess=()=>{a.result.forEach(i=>{e.includes(i)||n.delete(i)})}},Gr=1024,N2=(e,t,r)=>{const n=e.width,a=e.height,o=new ImageData(t,r),i=e.data,s=o.data,l=n/t,c=a/r;for(let u=0;u<r;u++){const d=Math.floor(u*c),h=u*t*4,p=d*n*4;for(let m=0;m<t;m++){const x=Math.floor(m*l)*4,y=h+m*4,g=p+x;s[y]=i[g],s[y+1]=i[g+1],s[y+2]=i[g+2],s[y+3]=i[g+3]}}return o},pZ=({stats:e,onClose:t,onMinimize:r,isBGGR:n,onToggleBGGR:a,onOpenWindow:o,displaySettings:i,zIndex:s,onFocus:l})=>{if(!e)return null;const c=!!i.showKadc&&!!i.blackLevel,u=i.blackLevel||[0,0,0,0],d=!!i.subtractBlackLevelFromStats&&!!i.blackLevel,h=(x,y,g)=>{if(!c)return null;const b=y*y;return b<=1e-4?0:(x-g)/b},p=(x,y)=>d?x-u[y]:x,m=()=>{if(!d){alert(`Sub. BL
Please enable 'Sub. BL' in Tools sidebar first.`);return}let x,y,g,b;n?(b=0,y=1,g=2,x=3):(x=0,y=1,g=2,b=3);const k=S=>e.means[S]-u[S],w=S=>e.stdDevs[S];localStorage.setItem("import_signal_r",k(x).toString()),localStorage.setItem("import_signal_g1",k(y).toString()),localStorage.setItem("import_signal_g2",k(g).toString()),localStorage.setItem("import_signal_b",k(b).toString()),localStorage.setItem("import_sigma_r",w(x).toString()),localStorage.setItem("import_sigma_g1",w(y).toString()),localStorage.setItem("import_sigma_g2",w(g).toString()),localStorage.setItem("import_sigma_b",w(b).toString()),window.open("https://y-g-jiang.github.io/XJZS.html","_blank")},v=n?[{name:"B",desc:"(0,0)",mean:p(e.means[0],0),std:e.stdDevs[0],color:"text-blue-500",k:h(e.means[0],e.stdDevs[0],u[0])},{name:"G1",desc:"(0,1)",mean:p(e.means[1],1),std:e.stdDevs[1],color:"text-green-500",k:h(e.means[1],e.stdDevs[1],u[1])},{name:"G2",desc:"(1,0)",mean:p(e.means[2],2),std:e.stdDevs[2],color:"text-green-500",k:h(e.means[2],e.stdDevs[2],u[2])},{name:"R",desc:"(1,1)",mean:p(e.means[3],3),std:e.stdDevs[3],color:"text-red-500",k:h(e.means[3],e.stdDevs[3],u[3])}]:[{name:"R",desc:"(0,0)",mean:p(e.means[0],0),std:e.stdDevs[0],color:"text-red-500",k:h(e.means[0],e.stdDevs[0],u[0])},{name:"G1",desc:"(0,1)",mean:p(e.means[1],1),std:e.stdDevs[1],color:"text-green-500",k:h(e.means[1],e.stdDevs[1],u[1])},{name:"G2",desc:"(1,0)",mean:p(e.means[2],2),std:e.stdDevs[2],color:"text-green-500",k:h(e.means[2],e.stdDevs[2],u[2])},{name:"B",desc:"(1,1)",mean:p(e.means[3],3),std:e.stdDevs[3],color:"text-blue-500",k:h(e.means[3],e.stdDevs[3],u[3])}];return f.jsxs(jP,{className:`${c?"w-80":"w-60"} p-0 overflow-hidden transition-all duration-300`,onClose:t,zIndex:s,onFocus:l,children:[f.jsxs("div",{className:"flex justify-between items-center px-3 py-2 border-b border-gray-100 dark:border-slate-800 bg-gray-50/50 dark:bg-slate-800/50",children:[f.jsxs("h3",{className:"text-xs font-bold text-gray-700 dark:text-slate-300 uppercase tracking-wider flex items-center gap-2",children:["ROI Analysis",f.jsxs("span",{className:"text-[10px] font-normal text-gray-400 bg-gray-200 dark:bg-slate-700 px-1.5 py-0.5 rounded",children:[Math.round(e.width),"",Math.round(e.height)]})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 transition-colors p-1 rounded-md hover:bg-gray-200 dark:hover:bg-slate-700 relative z-20",children:f.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),f.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 dark:hover:text-red-400 transition-colors p-1 rounded-md hover:bg-gray-200 dark:hover:bg-slate-700 relative z-20",children:f.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),f.jsxs("div",{className:"p-3",children:[f.jsxs("div",{className:"flex justify-between items-center mb-3",children:[f.jsxs("div",{className:"text-[10px] text-gray-400 dark:text-slate-500 font-mono leading-tight",children:["X: ",Math.round(e.x),f.jsx("br",{}),"Y: ",Math.round(e.y)]}),f.jsx("button",{onClick:()=>a(!n),className:"text-[10px] font-bold px-2 py-1 rounded bg-gray-100 hover:bg-gray-200 dark:bg-slate-800 dark:hover:bg-slate-700 text-gray-600 dark:text-slate-300 transition-colors border border-gray-200 dark:border-slate-700 relative z-20",title:"Toggle Bayer Pattern Interpretation",children:n?"BGGR":"RGGB"})]}),f.jsxs("table",{className:"w-full mb-3",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"text-[10px] text-gray-400 dark:text-slate-500 border-b border-gray-100 dark:border-slate-800",children:[f.jsx("th",{className:"text-left pb-1 font-medium",children:"Ch"}),f.jsxs("th",{className:"text-right pb-1 font-medium",children:["Mean",d?"*":""]}),f.jsx("th",{className:"text-right pb-1 font-medium",children:"Std()"}),c&&f.jsx("th",{className:"text-right pb-1 font-medium text-cyan-600 dark:text-cyan-400",children:"K(e/ADU)"})]})}),f.jsx("tbody",{className:"font-mono text-xs",children:v.map((x,y)=>f.jsxs("tr",{className:"group hover:bg-gray-50 dark:hover:bg-slate-800/30 transition-colors",children:[f.jsxs("td",{className:"py-1",children:[f.jsx("span",{className:`font-bold ${x.color}`,children:x.name}),f.jsx("span",{className:"text-[9px] text-gray-300 dark:text-slate-600 ml-1 hidden group-hover:inline",children:x.desc})]}),f.jsx("td",{className:"py-1 text-right text-gray-700 dark:text-slate-200 font-semibold",title:d?"Mean minus Black Level":"Raw Mean",children:x.mean.toFixed(2)}),f.jsx("td",{className:"py-1 text-right text-gray-500 dark:text-slate-400",children:x.std.toFixed(2)}),c&&f.jsx("td",{className:"py-1 text-right text-cyan-600 dark:text-cyan-400 font-bold",children:x.k!==null?x.k.toFixed(3):"-"})]},y))})]}),d&&f.jsx("div",{className:"mb-2 text-[9px] text-gray-400 dark:text-slate-500 text-right italic",children:"* Mean adjusted by Black Level"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{onClick:()=>o("histogram"),className:"relative z-20 flex-1 py-1.5 bg-cyan-600 hover:bg-cyan-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"View Histogram",children:[f.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Hist"]}),f.jsxs("button",{onClick:()=>o("quant"),className:"relative z-20 flex-1 py-1.5 bg-teal-600 hover:bg-teal-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"View Quantization Steps",children:[f.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),"Quant"]}),f.jsxs("button",{onClick:()=>o("fft"),className:"relative z-20 flex-1 py-1.5 bg-purple-600 hover:bg-purple-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"View Power Spectrum (FFT)",children:[f.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"FFT"]}),f.jsx("button",{onClick:m,className:"relative z-20 flex-1 py-1.5 bg-pink-600 hover:bg-pink-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"Color Noise Analysis (External Tool)",children:"ColorN"})]})]})]})},gZ=()=>{var nr;const[e,t]=O.useState(!0),[r,n]=O.useState("Initializing..."),a=O.useRef(!1),[o,i]=O.useState("dark");O.useEffect(()=>{const I=window.document.documentElement;I.classList.remove(o==="dark"?"light":"dark"),I.classList.add(o)},[o]);const[s,l]=O.useState(!1),[c,u]=O.useState(!1),[d,h]=O.useState(!1),p=iZ(s||c||d),[m,v]=O.useState(!1),[x,y]=O.useState([]),[g,b]=O.useState(-1),k=O.useMemo(()=>x[g],[x,g]),w=(k==null?void 0:k.file)||null,S=(k==null?void 0:k.imageElement)||null,j=(k==null?void 0:k.rawImageData)||null,_=(k==null?void 0:k.rawFileBuffer)||null,P=(k==null?void 0:k.renderedRawImageData)||null,A=(k==null?void 0:k.referenceImageData)||null,N=(k==null?void 0:k.sampledImageData)||null,M=(k==null?void 0:k.exifData)||null,B=(k==null?void 0:k.isThreePlane)||!1,R=(k==null?void 0:k.displaySettings)||{exposure:0,demosaicMethod:3,blackLevel:void 0,wbGains:[1,1],showKadc:!0,subtractBlackLevelFromStats:!0},[$,L]=O.useState(!1),[F,D]=O.useState(null),[z,W]=O.useState(!1),[te,q]=O.useState(!1),[Z,U]=O.useState(null),[de,ne]=O.useState([]),[Me,be]=O.useState(100),[H,ue]=O.useState(!0),[xe,X]=O.useState(!1),[Xe,Ne]=O.useState(null),[tt,ot]=O.useState(!1),[lt,ur]=O.useState(!1),[Nt,fr]=O.useState(!1),[Lt,Pr]=O.useState(!1),[Kt,Qr]=O.useState(!1),[Nr,$n]=O.useState({x:0,y:0}),[cn,Ar]=O.useState(!1),[Mr,Ir]=O.useState(!1),[wn,Gt]=O.useState(2),[va,Br]=O.useState(1),[Ea,Zr]=O.useState([]),[Jn,ea]=O.useState(null),[At,un]=O.useState(0),[ct,Fr]=O.useState([]),[Mt,Q]=O.useState([]),[Ye,Rt]=O.useState(64),[dr,fn]=O.useState(10),[Xt,dn]=O.useState(10),[Dn,oo]=O.useState(4),[Ze,tr]=O.useState(1),[pt,ir]=O.useState(0),[Ln,Cr]=O.useState("processed"),[Y,he]=O.useState(!1),De=O.useMemo(()=>R.blackLevel?R.blackLevel:j!=null&&j.blackLevels?[j.blackLevels[0],j.blackLevels[1],j.blackLevels[2],j.blackLevels[3]]:[0,0,0,0],[R.blackLevel,j]),rt=(M==null?void 0:M.ImageHeight)||(M==null?void 0:M.ExifImageHeight)||(j==null?void 0:j.height)||0,[gt,pe]=O.useState(null),[nt,Ce]=O.useState(null),[it,Ge]=O.useState({x:0,y:0}),[ce,Je]=O.useState(1),[br,rr]=O.useState("pan"),wr=O.useRef(null),Er=O.useRef(null);O.useEffect(()=>{(async()=>{if(a.current)return;const G=dZ();if(G&&(n("Restoring layout..."),i(G.theme),ue(G.sidebarOpen),G.sessions.length>0)){n(`Restoring ${G.sessions.length} images...`);const ie=[];for(const oe of G.sessions){if(a.current){console.log("Restoration cancelled.");return}await new Promise(ve=>setTimeout(ve,50));try{const ve=await cZ(oe.id);if(ve){const Ee={id:oe.id,fileName:oe.fileName,file:null,imageElement:null,rawImageData:null,rawFileBuffer:ve,renderedRawImageData:null,referenceImageData:null,sampledImageData:null,exifData:null,isThreePlane:oe.isThreePlane,displaySettings:oe.displaySettings},{previewBlob:at,analysisData:Pe}=await Wp(ve);let ze=null;Pe&&(ze=await S2(ve,oe.displaySettings));const Oe=URL.createObjectURL(at),We=new Image;We.src=Oe,await new Promise(vt=>{We.onload=()=>vt()}),ie.push({...Ee,rawImageData:Pe,renderedRawImageData:ze,previewUrl:Oe,imageElement:We,exifData:Pe.metadata})}}catch(ve){console.error(`Failed to restore session ${oe.id}`,ve)}}if(a.current)return;if(y(ie),G.activeSessionId){const oe=ie.findIndex(ve=>ve.id===G.activeSessionId);oe>=0?b(oe):ie.length>0&&b(0)}ne(G.windows)}a.current||t(!1)})()},[]);const io=O.useRef(null),kn=O.useCallback(()=>{e||(io.current&&clearTimeout(io.current),io.current=window.setTimeout(async()=>{var ie;const I={version:1,timestamp:Date.now(),activeSessionId:((ie=x[g])==null?void 0:ie.id)||null,theme:o,sidebarOpen:H,sessions:x.map(oe=>({id:oe.id,fileName:oe.fileName,fileType:oe.file?oe.file.type:"application/octet-stream",fileSize:oe.rawFileBuffer?oe.rawFileBuffer.byteLength:0,displaySettings:oe.displaySettings,isThreePlane:oe.isThreePlane})),windows:de.map(oe=>({id:oe.id,type:oe.type,roi:oe.roi,zIndex:oe.zIndex,initialPosition:oe.initialPosition,sessionId:oe.sessionId,isBGGR:oe.isBGGR,isMinimized:oe.isMinimized||!1,internalState:oe.internalState}))};fZ(I);const G=x.map(oe=>oe.id);hZ(G)},1e3))},[x,de,g,o,H,e]);O.useEffect(()=>{kn()},[kn]);const so=O.useCallback(async()=>{a.current=!0,n("Cleaning up..."),localStorage.removeItem("jtr_workspace_index");try{await uZ()}catch(I){console.error("Failed to clear DB",I)}window.location.reload()},[]),Sn=O.useCallback(I=>{y(G=>G.map((ie,oe)=>oe===g?{...ie,...I}:ie))},[g]),Mi=()=>b(I=>Math.min(I+1,x.length-1)),Th=()=>b(I=>Math.max(0,I-1));O.useEffect(()=>{if(j&&F){const I=Ii(j.data,j.width,j.height,F.x,F.y,F.width,F.height);D(I)}},[j]);const Ci=I=>{if(!F||!k)return;const G=Date.now().toString()+Math.random().toString().slice(2,5),ie=Math.max(Me,...de.map(Ee=>Ee.zIndex),100),oe=de.length%10*30,ve=I==="fft"?{x:50,y:50}:I==="histogram"?{x:100,y:100}:{x:150,y:150};ne(Ee=>[...Ee,{id:G,type:I,roi:{x:F.x,y:F.y,w:F.width,h:F.height},zIndex:ie+1,initialPosition:{x:ve.x+oe,y:ve.y+oe},sessionId:k.id,isBGGR:z,isMinimized:!1}])},lo=I=>{ne(G=>G.filter(ie=>ie.id!==I))},Ei=I=>{ne(G=>G.map(ie=>ie.id===I?{...ie,isMinimized:!0}:ie))},$h=I=>{ne(G=>G.map(ie=>ie.id===I?{...ie,isMinimized:!1}:ie)),iu(I)},iu=I=>{ne(G=>{const ie=Math.max(Me,...G.map(oe=>oe.zIndex));return G.map(oe=>oe.id===I?{...oe,zIndex:ie+1}:oe)})},Dh=(I,G)=>{ne(ie=>ie.map(oe=>oe.id===I?{...oe,internalState:{...oe.internalState,...G}}:oe))},sl=()=>{const I=Math.max(Me,...de.map(G=>G.zIndex));be(I+1)},Uo=(I,G)=>{ne(ie=>ie.map(oe=>oe.id===I?{...oe,roi:G}:oe))};O.useEffect(()=>{if(!M)return;const I=M.CFAPattern2||M.CFAPattern;if(I){let G="";Array.isArray(I)?G=I.join(""):typeof I=="string"?G=I.replace(/[\s,]+/g,""):typeof I=="number"&&(G=String(I)),G==="0112"?W(!1):G==="2110"&&W(!0)}},[M]),O.useEffect(()=>{let I;const G=()=>{if(Mr&&Kt){const ie=Date.now()/1e3,oe=.55+.45*Math.sin(ie*wn);Br(oe),I=requestAnimationFrame(G)}else Br(1)};return Mr&&Kt?G():Br(1),()=>{I&&cancelAnimationFrame(I)}},[Mr,Kt,wn]),O.useEffect(()=>{const I=G=>{G.key==="Escape"&&Kt&&(Qr(!1),$n({x:0,y:0}),Ir(!1))};return window.addEventListener("keydown",I),()=>window.removeEventListener("keydown",I)},[Kt]),O.useEffect(()=>()=>{x.forEach(I=>{I.previewUrl&&URL.revokeObjectURL(I.previewUrl)}),Er.current&&Er.current.terminate()},[]);const Ta=async(I,G=!0)=>{G&&(Ge({x:0,y:0}),Je(1),un(0),Fr([]),Q([]),X(!1),Ne(null),L(!1));let ie=null;if(p.isConnected){const Pe=new FormData;Pe.append("file",I);try{const Oe=await(await fetch("http://localhost:5428/read",{method:"POST",body:Pe})).json();if(Oe.success){let We=Oe.data;Array.isArray(We)&&We.length===1&&(We=We[0]),ie=We}}catch(ze){console.warn("Auto Exif fetch failed",ze)}}const oe=I.name.toLowerCase().match(/\.(arw|cr2|cr3|dng|nef|orf|raf|rw2|pef|srw|sr2|srf|x3f|erf|mef|mos|mrw|kdc|dcr|iiq|3fr|fff|rwl|nrw|raw|tif|tiff)$/);if(!(["image/jpeg","image/png","image/tiff","image/x-adobe-dng"].includes(I.type)||oe)){pe("Unsupported file type. Please load a JPG, PNG, or a supported RAW file.");return}let Ee={file:I,exifData:ie};if(oe||I.type==="image/x-adobe-dng")try{G?Ce("Processing RAW file (this may take a moment)..."):he(!0);const Pe=await I.arrayBuffer();Ee.rawFileBuffer=Pe;const{previewBlob:ze,analysisData:Oe}=await Wp(Pe);Ee.rawImageData=Oe,Ee.isThreePlane=Oe.isThreePlane||!1,Oe.isThreePlane&&G&&L(!0);const We=URL.createObjectURL(ze);Ee.previewUrl=We;const vt=new Image;vt.src=We,await new Promise((bt,ft)=>{vt.onload=()=>{Ee.imageElement=vt,bt()},vt.onerror=()=>{pe("Could not load the RAW file preview."),bt()}})}catch(Pe){pe(`Failed to process RAW file: ${Pe.message}`),Ce(null),he(!1);return}else try{Ce("Processing image...");const{previewBlob:Pe,analysisData:ze}=await IQ(I);Ee.rawImageData=ze,Ee.rawFileBuffer=await I.arrayBuffer(),Ee.isThreePlane=ze.isThreePlane||!1;const Oe=URL.createObjectURL(Pe);Ee.previewUrl=Oe;const We=new Image;We.src=Oe,await new Promise(vt=>{We.onload=()=>{Ee.imageElement=We,vt()},We.onerror=()=>{pe("Could not load the image file."),vt()}})}catch(Pe){pe(`Failed to process image: ${Pe.message}`),Ce(null);return}const at=Date.now().toString()+Math.random();if(Ee.rawFileBuffer&&await P2(at,Ee.rawFileBuffer),G){const Pe={exposure:0,demosaicMethod:3,blackLevel:void 0,wbGains:[1,1],showKadc:!0,subtractBlackLevelFromStats:!0},ze={id:at,fileName:I.name,file:I,imageElement:null,rawImageData:null,rawFileBuffer:null,renderedRawImageData:null,referenceImageData:null,sampledImageData:null,exifData:null,isThreePlane:!1,displaySettings:Pe,...Ee};y(Oe=>{const We=[...Oe,ze];return b(We.length-1),We})}else Sn(Ee);Ce(null),he(!1)},Lh=async I=>{Ce("Converting to DNG...");try{const G=new FormData;G.append("file",I);const ie=await fetch("http://localhost:5428/convert_dng",{method:"POST",body:G}),oe=ie.headers.get("content-type")||"";if(ie.ok)if(oe.includes("application/json")){const ve=await ie.json();throw new Error(ve.error||"Conversion failed")}else{const ve=await ie.blob(),Ee=URL.createObjectURL(ve),at=document.createElement("a");at.href=Ee;const Pe=I.name,ze=Pe.substring(0,Pe.lastIndexOf("."))+".dng"||"converted.dng";at.download=ze,document.body.appendChild(at),at.click(),document.body.removeChild(at),URL.revokeObjectURL(Ee);const Oe=new File([ve],ze,{type:"image/x-adobe-dng"});await Ta(Oe,!0)}else{const ve=await ie.text();throw new Error(`HTTP ${ie.status}: ${ve}`)}}catch(G){Ce(null),pe(`Conversion Error: ${G.message}`)}},ll=(I,G)=>{I&&(G==="direct"?Ta(I,!0):Lh(I))},Rh=async I=>{var ie;const G=(ie=I.target.files)==null?void 0:ie[0];G&&(await Ta(G,!0),I.target.value="")},su=async(I,G,ie,oe)=>{!I||!G||(Ce("Processing Pair Difference (May take a while)..."),pe(null),setTimeout(async()=>{try{const ve=await I.arrayBuffer(),Ee=await G.arrayBuffer(),at=await k2(ve,Ee,ie,oe),Pe=_2(at.width,at.height,at.rawData),ze=new File([Pe],`Diff_${I.name}_${G.name}.dng`,{type:"image/x-adobe-dng"});await Ta(ze,!0),Ci("fft")}catch(ve){console.error("Pair Processing Error",ve),pe("Pair Processing Failed: "+ve.message)}finally{Ce(null)}},100))},lu=async()=>{he(!0);const I=128,G=I,ie=I,oe=G*ie,ve=new Uint16Array(oe),Ee=ee=>{const fe=ee/Dn+pt;return Math.sin(2*Math.PI*fe)>=0?1:0},at=32,Pe=Ze*.5,ze=Math.max(1e-4,Ze/at);for(let ee=0;ee<ie;ee++){let fe=0;const ge=ee+.5-Pe;for(let qe=0;qe<at;qe++){const Bt=ge+(qe+.5)*ze;fe+=Ee(Bt)}const Ie=fe/at,Be=Math.round(Ie*65535);for(let qe=0;qe<G;qe++)ve[ee*G+qe]=Be}const Oe=new ImageData(Gr,Gr),We=Gr/G,vt=Ze/2;for(let ee=0;ee<Gr;ee++){const fe=ee/We,Se=Math.floor(fe),ge=fe-Se,Ie=ge>=.5-vt&&ge<.5+vt;for(let Be=0;Be<Gr;Be++){const qe=Be/We,Bt=Math.floor(qe),zr=qe-Bt,Jr=zr>=.5-vt&&zr<.5+vt,Fe=(ee*Gr+Be)*4;if(Bt>=G||Se>=ie){Oe.data[Fe]=30,Oe.data[Fe+1]=34,Oe.data[Fe+2]=40,Oe.data[Fe+3]=255;continue}if(Ie&&Jr){const $a=ve[Se*G+Bt],ta=Math.round($a/257);Oe.data[Fe]=ta,Oe.data[Fe+1]=ta,Oe.data[Fe+2]=ta,Oe.data[Fe+3]=255}else Oe.data[Fe]=30,Oe.data[Fe+1]=34,Oe.data[Fe+2]=40,Oe.data[Fe+3]=255}}const bt=new ImageData(Gr,Gr),ft=ie/Gr;for(let ee=0;ee<Gr;ee++){const fe=(ee+.5)*ft,ge=Ee(fe)>.5?255:0,Ie=ee*Gr*4;for(let Be=0;Be<Gr;Be++){const qe=Ie+Be*4;bt.data[qe]=ge,bt.data[qe+1]=ge,bt.data[qe+2]=ge,bt.data[qe+3]=255}}const It=_2(G,ie,ve),Tt=new File([It],"pattern_test.dng",{type:"image/x-adobe-dng"}),dt=Date.now().toString();try{const{previewBlob:ee,analysisData:fe}=await Wp(It.slice(0)),Se=await S2(It.slice(0),R),ge=N2(Se,Gr,Gr),Ie=URL.createObjectURL(ee),Be=new Image;Be.src=Ie,await new Promise(Bt=>{Be.onload=()=>Bt()}),await P2(dt,It);const qe={file:Tt,rawFileBuffer:It,rawImageData:fe,renderedRawImageData:ge,referenceImageData:bt,sampledImageData:Oe,previewUrl:Ie,imageElement:Be,isThreePlane:!1,displaySettings:R};(w==null?void 0:w.name)==="pattern_test.dng"?Sn(qe):(y(Bt=>{const zr={id:dt,fileName:"pattern_test.dng",file:Tt,imageElement:Be,rawImageData:fe,rawFileBuffer:It,renderedRawImageData:ge,referenceImageData:bt,sampledImageData:Oe,exifData:null,isThreePlane:!1,previewUrl:Ie,displaySettings:R};return[...Bt,zr]}),b(Bt=>x.length))}catch(ee){console.error("Error generating pattern:",ee),pe(`Error generating pattern: ${ee.message}`)}he(!1),Ce(null)},T=()=>{ot(!0)},V=()=>{ot(!1),Cr("sampled"),Ce("Generating..."),setTimeout(()=>lu(),50)},J=O.useRef({period:Dn,fill:Ze,phase:pt});O.useEffect(()=>{(w==null?void 0:w.name)==="pattern_test.dng"&&(J.current.period!==Dn||J.current.fill!==Ze||J.current.phase!==pt)&&(J.current={period:Dn,fill:Ze,phase:pt},lu())},[Dn,Ze,pt,w]);const E=O.useCallback(I=>{if(Sn({displaySettings:I}),!_)return;he(!0),Er.current&&Er.current.terminate();const G=new Worker(new URL("/assets/renderWorker-BmmCgTEZ.js",import.meta.url),{type:"module"});Er.current=G,G.onmessage=ie=>{const{success:oe,imageData:ve,error:Ee}=ie.data;if(oe){let at=ve;(w==null?void 0:w.name)==="pattern_test.dng"&&(at=N2(ve,Gr,Gr)),Sn({renderedRawImageData:at})}else pe(Ee||"Unknown worker error");he(!1),G.terminate(),Er.current=null},G.postMessage({buffer:_.slice(0),settings:I})},[_,w,Sn]);let le=P||S;Ln==="reference"&&A?le=A:Ln==="sampled"&&N&&(le=N);const ke=nt||Y,_e=I=>{if(wr.current){const G=wr.current,{width:ie,height:oe}=G.getBoundingClientRect(),ve=ie/2,Ee=oe/2,at=I/ce,Pe=ve-(ve-it.x)*at,ze=Ee-(Ee-it.y)*at;Ge({x:Pe,y:ze})}Je(I)},He=I=>{if(!I)return;if(!j){D(null);return}te&&q(!1),sl();const G=Ii(j.data,j.width,j.height,I.x,I.y,I.w,I.h);D(G)},Ve=I=>{U(I),He(I)},Le=()=>{rr(I=>I==="pan"?"select":"pan")},Ot=I=>{if(At===0||At>4)return;const G=[...ct,I];Fr(G),At===4?(Ct(G),un(0)):un(At+1)},mt=(I,G,ie,oe)=>{const ve=I[0],Ee=I[1],at=I[2],Pe=I[3],ze=G/2,Oe=[];for(let We=0;We<ie;We++){const vt=ie>1?We/(ie-1):.5;for(let bt=0;bt<oe;bt++){const ft=oe>1?bt/(oe-1):.5,It=ve.x*(1-ft)+Ee.x*ft,Tt=ve.y*(1-ft)+Ee.y*ft,dt=at.x*(1-ft)+Pe.x*ft,ee=at.y*(1-ft)+Pe.y*ft,fe=It*(1-vt)+dt*vt,Se=Tt*(1-vt)+ee*vt,ge=fe-ze,Ie=Se-ze;Oe.push({x:ge,y:Ie,w:G,h:G})}}return Oe},Ct=I=>{j&&(Ce("Calculating DR Lab Grid..."),setTimeout(()=>{try{const G=mt(I,Ye,dr,Xt);Q(G);const Ee=[...[`#BlackLevel: ${(R.blackLevel||[0,0,0,0]).join(",")}`,`#ImageHeight: ${j.height}`],"Row,Col,R_Mean,G1_Mean,G2_Mean,B_Mean,R_Std,G1_Std,G2_Std,B_Std"];G.forEach((We,vt)=>{const bt=Math.floor(vt/Xt)+1,ft=vt%Xt+1,It=Ii(j.data,j.width,j.height,We.x,We.y,We.w,We.h),Tt=It.means,dt=It.stdDevs,ee=`${bt},${ft},${Tt[0].toFixed(4)},${Tt[1].toFixed(4)},${Tt[2].toFixed(4)},${Tt[3].toFixed(4)},${dt[0].toFixed(4)},${dt[1].toFixed(4)},${dt[2].toFixed(4)},${dt[3].toFixed(4)}`;Ee.push(ee)});const at=Ee.join(`
`),Pe=new Blob([at],{type:"text/csv;charset=utf-8;"}),ze=URL.createObjectURL(Pe),Oe=document.createElement("a");Oe.setAttribute("href",ze),Oe.setAttribute("download","dr_lab_results.csv"),document.body.appendChild(Oe),Oe.click(),document.body.removeChild(Oe),URL.revokeObjectURL(ze),Fr([])}catch(G){pe("DR Lab Error: "+G.message)}finally{Ce(null)}},100))},Zt=async(I,G)=>{if(ct.length<4&&Mt.length<1){pe("Please mark the grid on an image first before running batch processing.");return}let ie=Mt;if(ie.length===0&&ct.length===4&&(ie=mt(ct,Ye,dr,Xt)),ie.length===0){pe("No grid definitions found. Mark corners first.");return}Ce(G==="pair"?"Batch Pair Processing...":"Batch Processing...");const ve=(R.blackLevel||[0,0,0,0]).join(","),Ee=j?j.height:0,Pe=[...[`#BlackLevel: ${ve}`,`#ImageHeight: ${Ee}`,G==="pair"?"#Mode: Pair Difference (Sigma = Diff/sqrt(2))":"#Mode: Independent"],"Filename,Row,Col,R_Mean,G1_Mean,G2_Mean,B_Mean,R_Std,G1_Std,G2_Std,B_Std"],ze=Array.from(I).sort((Oe,We)=>Oe.name.localeCompare(We.name,void 0,{numeric:!0}));if(G==="pair"&&ze.length<2){pe("Need at least 2 files for Pair processing."),Ce(null);return}try{if(G==="single")for(let ft=0;ft<ze.length;ft++){const It=ze[ft];Ce(`Processing ${ft+1}/${ze.length}: ${It.name}...`);const Tt=await It.arrayBuffer(),dt=await b2(Tt);ie.forEach((ee,fe)=>{const Se=Math.floor(fe/Xt)+1,ge=fe%Xt+1,Ie=Ii(dt.data,dt.width,dt.height,ee.x,ee.y,ee.w,ee.h),Be=Ie.means,qe=Ie.stdDevs,Bt=`${It.name},${Se},${ge},${Be[0].toFixed(4)},${Be[1].toFixed(4)},${Be[2].toFixed(4)},${Be[3].toFixed(4)},${qe[0].toFixed(4)},${qe[1].toFixed(4)},${qe[2].toFixed(4)},${qe[3].toFixed(4)}`;Pe.push(Bt)})}else for(let ft=0;ft<ze.length-1;ft+=2){const It=ze[ft],Tt=ze[ft+1],dt=`${It.name} & ${Tt.name}`;Ce(`Processing Pair ${Math.floor(ft/2)+1}/${Math.floor(ze.length/2)}: ${It.name} & ${Tt.name}...`);const ee=await It.arrayBuffer(),fe=await b2(ee),Se=await Tt.arrayBuffer(),ge=await k2(ee,Se,!1,!0);ie.forEach((Ie,Be)=>{const qe=Math.floor(Be/Xt)+1,Bt=Be%Xt+1,zr=Ii(fe.data,fe.width,fe.height,Ie.x,Ie.y,Ie.w,Ie.h),Jr=Ii(ge.rawData,ge.width,ge.height,Ie.x,Ie.y,Ie.w,Ie.h),Fe=zr.means,$a=Jr.stdDevs,ta=`${dt},${qe},${Bt},${Fe[0].toFixed(4)},${Fe[1].toFixed(4)},${Fe[2].toFixed(4)},${Fe[3].toFixed(4)},${$a[0].toFixed(4)},${$a[1].toFixed(4)},${$a[2].toFixed(4)},${$a[3].toFixed(4)}`;Pe.push(ta)})}const Oe=Pe.join(`
`),We=new Blob([Oe],{type:"text/csv;charset=utf-8;"}),vt=URL.createObjectURL(We),bt=document.createElement("a");bt.href=vt,bt.setAttribute("download",`dr_lab_batch_${G}_${new Date().getTime()}.csv`),document.body.appendChild(bt),bt.click(),document.body.removeChild(bt),URL.revokeObjectURL(vt)}catch(Oe){console.error("Batch Error",Oe),pe("Batch Processing Failed: "+Oe.message)}finally{Ce(null)}},ae=()=>{if(!j){pe("Please load an image first.");return}Q([]),Fr([]),un(1)},Ke=async()=>{if(!w)return;if(p.isConnected?Ne(null):Ne(`JiangBridge Offline
JiangBridge Offline, limited content shown only`),p.isConnected){Ce("Reading EXIF (JiangBridge)...");try{const G=new FormData;G.append("file",w);const ie=await fetch("http://localhost:5428/read",{method:"POST",body:G});if(!ie.ok)throw new Error(`Bridge error: ${ie.statusText}`);const oe=await ie.json();if(oe.success){let ve=oe.data;Array.isArray(ve)&&ve.length===1&&(ve=ve[0]),Sn({exifData:ve}),X(!0),Ce(null);return}else console.warn("Bridge returned error:",oe.error)}catch(G){console.warn("Bridge fetch failed, falling back to LibRaw:",G)}Ce(null)}if(!j){pe("No image data available.");return}const I=j.metadata;if(!I){pe("No metadata found for this image.");return}Sn({exifData:I}),X(!0)},je=O.useCallback(async I=>{Ce("Parsing CSV files...");const G=[];let ie,oe;try{const ve=Array.from(I).map((Ee,at)=>new Promise((Pe,ze)=>{const Oe=new FileReader;Oe.onload=We=>{var It;const vt=(It=We.target)==null?void 0:It.result;if(!vt)return Pe();const bt=vt.split(`
`);let ft=-1;for(let Tt=0;Tt<bt.length;Tt++){const dt=bt[Tt].trim();if(dt){if(at===0&&dt.startsWith("#")){if(dt.startsWith("#BlackLevel:")){const fe=dt.replace("#BlackLevel:","").trim().split(/[\s,]+/).map(Number);fe.length>=4&&!fe.some(isNaN)&&(ie=[fe[0],fe[1],fe[2],fe[3]])}else if(dt.startsWith("#ImageHeight:")){const ee=dt.replace("#ImageHeight:","").trim(),fe=parseInt(ee);!isNaN(fe)&&fe>0&&(oe=fe)}continue}if(dt.startsWith("Row")||dt.startsWith("Filename")){ft=Tt+1;break}}}ft===-1&&(ft=1);for(let Tt=ft;Tt<bt.length;Tt++){const dt=bt[Tt].trim();if(!dt||dt.startsWith("#"))continue;const ee=dt.split(",");let fe=0;if(isNaN(Number(ee[0]))&&(fe=1),ee.length<10+fe)continue;const Se=fe===1?ee[0]:Ee.name,ge=ee.map(Number),Ie=ge[0+fe],Be=ge[1+fe],qe=ge[2+fe],Bt=ge[3+fe],zr=ge[4+fe],Jr=ge[5+fe],Fe=ge[6+fe],$a=ge[7+fe],ta=ge[8+fe],cu=ge[9+fe];qe>0&&G.push({channel:"R",mean:qe,std:Fe,filename:Se,row:Ie,col:Be}),Bt>0&&G.push({channel:"G1",mean:Bt,std:$a,filename:Se,row:Ie,col:Be}),zr>0&&G.push({channel:"G2",mean:zr,std:ta,filename:Se,row:Ie,col:Be}),Jr>0&&G.push({channel:"B",mean:Jr,std:cu,filename:Se,row:Ie,col:Be})}Pe()},Oe.onerror=ze,Oe.readAsText(Ee)}));await Promise.all(ve),Zr(G),ea(ie||oe?{blackLevel:ie,height:oe}:null),l(!0)}catch(ve){pe("Failed to parse CSV files: "+ve.message)}finally{Ce(null)}},[]),Et=I=>{I.button===0&&Ar(!0)},ut=O.useCallback(I=>{cn&&$n(G=>({x:G.x+I.movementX,y:G.y+I.movementY}))},[cn]),kr=O.useCallback(()=>{Ar(!1)},[]);O.useEffect(()=>(cn?(window.addEventListener("mousemove",ut),window.addEventListener("mouseup",kr)):(window.removeEventListener("mousemove",ut),window.removeEventListener("mouseup",kr)),()=>{window.removeEventListener("mousemove",ut),window.removeEventListener("mouseup",kr)}),[cn,ut,kr]);const yt=()=>{if(!_||!w)return;const I=w.name||"pattern_test.dng",G=new Blob([_],{type:"image/x-adobe-dng"}),ie=URL.createObjectURL(G),oe=document.createElement("a");oe.href=ie,oe.download=I,document.body.appendChild(oe),oe.click(),document.body.removeChild(oe),URL.revokeObjectURL(ie)};return e?f.jsxs("div",{className:"flex flex-col h-screen items-center justify-center bg-gray-50 dark:bg-slate-950 text-gray-900 dark:text-slate-200",children:[f.jsx("div",{className:"w-12 h-12 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mb-4"}),f.jsx("h2",{className:"text-xl font-bold animate-pulse",children:r}),f.jsx("p",{className:"text-sm text-gray-500 mt-2 mb-6",children:"Loading stored buffers from database..."}),f.jsx("button",{onClick:so,className:"px-6 py-2 bg-red-100 hover:bg-red-200 dark:bg-red-900/30 dark:hover:bg-red-900/50 text-red-700 dark:text-red-300 font-bold rounded-lg transition-colors border border-red-200 dark:border-red-800 text-sm",children:"Abandon Saved Session (Start Fresh)"})]}):f.jsxs("div",{className:"flex flex-col h-screen bg-white dark:bg-slate-950 text-gray-900 dark:text-slate-200 font-sans transition-colors duration-300",children:[f.jsx("div",{className:"p-4 pb-0",children:f.jsx(tM,{onLoadImage:Rh,onFileSelected:ll,onGenerateFakeDng:T,fileName:w?w.name:null,hasGeneratedData:(w==null?void 0:w.name)==="pattern_test.dng",viewMode:Ln,onSetViewMode:Cr,patternPeriod:Dn,onPatternPeriodChange:oo,fillFactor:Ze,onFillFactorChange:tr,patternPhase:pt,onPatternPhaseChange:ir,showPatternControls:(w==null?void 0:w.name)==="pattern_test.dng",onOpenAbout:()=>ur(!0),onShowExif:Ke,bridgeStatus:p,onBridgeClick:()=>v(!0),isDrLabOpen:Nt,onToggleDrLab:()=>{fr(!Nt),un(0),Fr([]),Q([]),Lt&&Pr(!1)},isFftLabOpen:Lt,onToggleFftLab:()=>{Pr(!Lt),Nt&&fr(!1)},onGenerateTestPic:()=>Qr(!0),onPTCFilesSelected:je,onDownloadDng:yt,isThreePlane:B,onOpenDatabase:()=>u(!0)})}),f.jsxs("div",{className:"flex flex-1 overflow-hidden p-4 pt-2 gap-4 relative",children:[f.jsxs("div",{className:"flex-1 relative bg-gray-100 dark:bg-slate-900 rounded-2xl border border-gray-200 dark:border-slate-800 shadow-inner overflow-hidden transition-colors duration-300",ref:wr,children:[ke&&f.jsxs("div",{className:"absolute bottom-4 right-4 z-50 flex items-center gap-2 bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm px-3 py-1.5 rounded-full border border-cyan-500/30 shadow-sm",children:[f.jsx("div",{className:"w-4 h-4 border-2 border-cyan-500 border-t-transparent rounded-full animate-spin"}),f.jsx("span",{className:"text-xs text-cyan-600 dark:text-cyan-400 font-mono",children:nt||"Processing..."})]}),x.length>1&&f.jsxs("div",{className:"absolute bottom-4 right-20 z-50 flex items-center gap-2 bg-white/90 dark:bg-slate-800/90 backdrop-blur-sm px-3 py-1.5 rounded-lg border border-gray-200 dark:border-slate-700 shadow-lg text-sm font-mono text-gray-700 dark:text-slate-200",children:[f.jsx("button",{onClick:Th,disabled:g<=0,className:"hover:text-cyan-500 disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"Previous Image",children:f.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),f.jsxs("span",{className:"min-w-[3rem] text-center select-none font-bold",children:[g+1," / ",x.length]}),f.jsx("button",{onClick:Mi,disabled:g>=x.length-1,className:"hover:text-cyan-500 disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"Next Image",children:f.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),f.jsxs("div",{className:"absolute bottom-4 left-4 z-50 flex flex-col-reverse gap-2 items-start pointer-events-none",children:[te&&F&&f.jsxs("div",{className:"pointer-events-auto flex items-center gap-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg shadow-lg overflow-hidden animate-in slide-in-from-bottom-2 fade-in",children:[f.jsxs("button",{onClick:()=>q(!1),className:"px-3 py-1.5 text-xs font-bold text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors flex items-center gap-2",children:[f.jsx("span",{className:"w-2 h-2 rounded-full bg-cyan-500"}),"ROI Stats"]}),f.jsx("button",{onClick:()=>{q(!1),D(null)},className:"px-2 py-1.5 text-gray-400 hover:text-red-500 hover:bg-gray-100 dark:hover:bg-slate-700 border-l border-gray-200 dark:border-slate-700 transition-colors",children:f.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),de.filter(I=>I.isMinimized).map(I=>{let G="Window",ie="bg-gray-500";return I.type==="histogram"?(G="Histogram",ie="bg-purple-500"):I.type==="fft"?(G="FFT Spectrum",ie="bg-fuchsia-500"):I.type==="quant"&&(G="Quantization",ie="bg-teal-500"),f.jsxs("div",{className:"pointer-events-auto flex items-center gap-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg shadow-lg overflow-hidden animate-in slide-in-from-bottom-2 fade-in",children:[f.jsxs("button",{onClick:()=>$h(I.id),className:"px-3 py-1.5 text-xs font-bold text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors flex items-center gap-2",children:[f.jsx("span",{className:`w-2 h-2 rounded-full ${ie}`}),G]}),f.jsx("button",{onClick:()=>lo(I.id),className:"px-2 py-1.5 text-gray-400 hover:text-red-500 hover:bg-gray-100 dark:hover:bg-slate-700 border-l border-gray-200 dark:border-slate-700 transition-colors",children:f.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},I.id)})]}),!te&&f.jsx(pZ,{stats:F,onClose:()=>{D(null),U(null)},onMinimize:()=>q(!0),isBGGR:z,onToggleBGGR:W,onOpenWindow:Ci,displaySettings:R,zIndex:Me,onFocus:sl}),f.jsx(si,{isOpen:tt,onClose:()=>ot(!1),onConfirm:V,title:"High Resource Usage Warning",message:"Pattern DNG mode involves high-frequency refreshing and heavy computation. Due to current memory management limitations, repeated use may lead to browser memory overflow or crashes. Please proceed with caution."}),f.jsx(si,{isOpen:m,onClose:()=>v(!1),onConfirm:()=>{window.open("https://y-g-jiang.github.io/jiangbridge.exe","_blank"),v(!1)},title:"Connect to JiangBridge",confirmText:"Download Bridge App",cancelText:"Cancel",message:f.jsxs("div",{className:"flex flex-col gap-2",children:[f.jsx("p",{className:"font-bold",children:"JiangBridge"}),f.jsx("p",{className:"text-sm opacity-80",children:'JiangBridge is optional for this webpage, but recommended for full functionality. Simply double-click and run it once after system startup.If the indicator light does not turn green after double-clicking, please consider checking whether the web page is allowed to "View and connect to any device on the network".'})]})}),f.jsx(si,{isOpen:$,onClose:()=>L(!1),onConfirm:()=>L(!1),title:" 3-Plane / Full Color Detected (/)",confirmText:"I Understand",cancelText:"Dismiss",message:f.jsxs("div",{className:"flex flex-col gap-2 text-left",children:[f.jsx("p",{className:"font-bold text-base",children:"/ (Non-Bayer/3-Plane detected)"}),f.jsx("p",{children:"This image contains 3 fully formed color channels (RGB/YUV), not a single-plane Bayer mosaic."}),f.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm opacity-90 mt-2",children:[f.jsx("li",{children:"Bayer RAW (Optimized for Bayer RAW)."}),f.jsx("li",{children:" (Entering compatibility mode)."}),f.jsx("li",{children:" (Some features like Demosaic selection are disabled)."}),f.jsx("li",{children:"Bayer (Data will be treated as pseudo-Bayer for analysis)."})]})]})}),f.jsx(qQ,{isOpen:lt,onClose:()=>ur(!1)}),f.jsx(YQ,{isOpen:xe,onClose:()=>X(!1),data:M,fileName:w?w.name:"",warning:Xe}),f.jsx(ZQ,{isOpen:s,onClose:()=>l(!1),data:Ea,blackLevel:De,imageHeight:rt,isBGGR:z,importedMetadata:Jn||void 0,theme:o,initialCameraModel:(M==null?void 0:M.Model)||"",initialISO:(M==null?void 0:M.ISO)||((nr=M==null?void 0:M.ISOSpeedRatings)==null?void 0:nr.toString())||""}),f.jsx(nZ,{isOpen:c,onClose:()=>u(!1),theme:o}),f.jsx(aZ,{isOpen:d,onClose:()=>h(!1),zIndex:200}),de.map(I=>{if(I.isMinimized)return null;const G=x.find(ve=>ve.id===I.sessionId),ie=G==null?void 0:G.rawImageData;if(!ie)return null;const oe={key:I.id,isOpen:!0,onClose:()=>lo(I.id),onMinimize:()=>Ei(I.id),rawImageData:ie,roi:I.roi,isBGGR:I.isBGGR,zIndex:I.zIndex,onFocus:()=>iu(I.id),initialPosition:I.initialPosition,initialInternalState:I.internalState,onUpdateState:ve=>Dh(I.id,ve)};return I.type==="histogram"?f.jsx(GQ,{...oe}):I.type==="fft"?f.jsx(VQ,{...oe,onUpdateROI:ve=>Uo(I.id,ve)}):I.type==="quant"?f.jsx(KQ,{...oe}):null}),gt&&f.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-white/90 dark:bg-slate-900/90 p-8",children:f.jsxs("div",{className:"max-w-md text-center p-6 bg-white dark:bg-slate-800 rounded-xl border border-red-500/50 shadow-xl",children:[f.jsx("h3",{className:"text-xl font-bold text-red-500 dark:text-red-400 mb-2",children:"Notice"}),f.jsx("p",{className:"text-gray-600 dark:text-slate-300 mb-6 whitespace-pre-wrap",children:gt}),f.jsx("button",{onClick:()=>pe(null),className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 dark:bg-slate-700 dark:hover:bg-slate-600 rounded-lg text-gray-900 dark:text-white transition-colors",children:"Dismiss"})]})}),!le&&!ke&&!gt&&f.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-gray-400 dark:text-slate-600 select-none",children:f.jsx("p",{className:"text-lg",children:"Load an image or generate a pattern"})}),f.jsx(rM,{image:le,zoom:ce,pan:it,onPanChange:Ge,onZoomChange:_e,onSelectionChange:He,forcedSelection:Z,theme:o,touchAction:br,isMarking:At>0,onPointClick:Ot,markers:ct,gridRects:Mt}),f.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-1/2 z-30 pointer-events-none select-none opacity-20 mix-blend-normal dark:mix-blend-plus-lighter",children:f.jsx("svg",{viewBox:"0 0 500 60",className:"w-full h-auto drop-shadow-xl",children:f.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"36",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})}),j&&!At&&f.jsxs("div",{className:"absolute bottom-4 left-4 z-30 pointer-events-none opacity-50 text-[10px] text-gray-500 dark:text-slate-400",children:["Hold ",f.jsx("b",{children:"Shift"})," + Drag to calculate Raw ROI stats"]}),f.jsx(dM,{zoom:ce,onZoomChange:_e,onResetView:()=>{Je(1),Ge({x:0,y:0})},touchAction:br,onToggleTouchAction:Le}),!H&&f.jsx("button",{onClick:()=>ue(!0),className:"absolute right-0 top-1/2 -translate-y-1/2 z-50 bg-white dark:bg-slate-900 border-y border-l border-gray-200 dark:border-slate-800 shadow-md p-1.5 rounded-l-lg hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors animate-in fade-in slide-in-from-right-2",title:"Show Tools",children:f.jsx("svg",{className:"w-4 h-4 text-gray-500 dark:text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})})]}),f.jsxs("div",{className:`flex-shrink-0 flex flex-col bg-white dark:bg-slate-900 rounded-2xl border border-gray-200 dark:border-slate-800 shadow-xl overflow-hidden transition-all duration-300 ease-in-out ${H?"w-80 translate-x-0 opacity-100 ml-0":"w-0 translate-x-20 opacity-0 p-0 border-0 pointer-events-none ml-0"}`,children:[f.jsxs("div",{className:"flex justify-between items-center px-4 py-3 border-b border-gray-200 dark:border-slate-800 bg-gray-50/50 dark:bg-slate-800/50 flex-shrink-0",children:[f.jsx("h2",{className:"font-bold text-sm text-gray-700 dark:text-slate-300 uppercase tracking-wide flex items-center gap-2",children:f.jsx("span",{children:"Tools"})}),f.jsx("button",{onClick:()=>ue(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 transition-colors p-1 rounded hover:bg-gray-200 dark:hover:bg-slate-700",title:"Hide Tools",children:f.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),f.jsx("div",{className:"flex-1 overflow-hidden relative",children:f.jsx(aM,{rawImageData:j,displaySettings:R,onApplyDisplaySettings:E,onSetSelection:Ve,exifData:M,isBridgeConnected:p.isConnected,isDrLabOpen:Nt,drMarkingStep:At,onStartMarking:ae,onGenerateTestPic:()=>Qr(!0),drRoiSize:Ye,onDrRoiSizeChange:Rt,drGridRows:dr,onDrGridRowsChange:fn,drGridCols:Xt,onDrGridColsChange:dn,onBatchDrLab:Zt,hasDrMarkers:Mt.length>0||ct.length===4,isFftLabOpen:Lt,onProcessPair:su,onOpenCrossCalc:()=>h(!0),isThreePlane:j==null?void 0:j.isThreePlane})})]})]}),Kt&&f.jsxs("div",{className:"fixed inset-0 z-[200] bg-black overflow-hidden",children:[f.jsx("div",{onMouseDown:Et,style:{transform:`translate(${Nr.x}px, ${Nr.y}px)`,cursor:cn?"grabbing":"grab",opacity:va,transition:"opacity 0.1s linear"},className:"w-full h-full flex items-center justify-center",children:f.jsx("img",{src:"/drtest.png",alt:"DR Test",className:"max-w-full max-h-full object-contain pointer-events-none select-none",draggable:!1})}),f.jsxs("div",{className:"absolute top-4 right-4 flex flex-col items-end gap-2 pointer-events-none z-[201]",children:[f.jsx("div",{className:"text-white/50 text-sm bg-black/50 px-3 py-1 rounded backdrop-blur-sm",children:"Press ESC to exit | Drag to move"}),f.jsx("div",{className:"text-white/20 text-xs px-2 select-none",children:"F11 full screen"}),f.jsx("div",{className:"text-red-900/80 text-lg px-2 select-none font-bold mt-4",children:""}),f.jsx("div",{className:"text-red-900/60 text-xs px-2 select-none",children:"Shoot slightly out of focus"})]}),f.jsxs("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 bg-black/60 backdrop-blur-md p-4 rounded-xl border border-gray-700 flex flex-col gap-3 items-center z-[202]",children:[f.jsx("button",{onClick:()=>Ir(!Mr),className:`px-4 py-2 rounded-lg font-bold text-sm transition-colors ${Mr?"bg-amber-500 text-black hover:bg-amber-400":"bg-gray-700 text-white hover:bg-gray-600"}`,children:Mr?"Stop Breathing":"Start Breathing"}),Mr&&f.jsxs("div",{className:"flex items-center gap-3 w-64 animate-in fade-in",children:[f.jsx("span",{className:"text-xs text-gray-400 font-bold uppercase",children:"Speed"}),f.jsx("input",{type:"range",min:"0.5",max:"10",step:"0.5",value:wn,onChange:I=>Gt(parseFloat(I.target.value)),className:"flex-1 h-1.5 bg-gray-600 rounded-lg appearance-none cursor-pointer accent-amber-500"}),f.jsx("span",{className:"text-xs text-amber-500 w-8 text-right",children:wn.toFixed(1)})]})]})]}),f.jsx(hM,{theme:o,setTheme:i})]})},_P=document.getElementById("root");if(!_P)throw new Error("Could not find root element to mount to");const mZ=Hp.createRoot(_P);mZ.render(f.jsx(C.StrictMode,{children:f.jsx(gZ,{})}));export{TQ as _};
