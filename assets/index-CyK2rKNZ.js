var bP=Object.defineProperty;var wP=(e,t,r)=>t in e?bP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var kn=(e,t,r)=>wP(e,typeof t!="symbol"?t+"":t,r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();var Yu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var yk={exports:{}},xh={},vk={exports:{}},rt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Su=Symbol.for("react.element"),kP=Symbol.for("react.portal"),jP=Symbol.for("react.fragment"),SP=Symbol.for("react.strict_mode"),NP=Symbol.for("react.profiler"),_P=Symbol.for("react.provider"),OP=Symbol.for("react.context"),PP=Symbol.for("react.forward_ref"),AP=Symbol.for("react.suspense"),MP=Symbol.for("react.memo"),CP=Symbol.for("react.lazy"),ix=Symbol.iterator;function EP(e){return e===null||typeof e!="object"?null:(e=ix&&e[ix]||e["@@iterator"],typeof e=="function"?e:null)}var xk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},bk=Object.assign,wk={};function ml(e,t,r){this.props=e,this.context=t,this.refs=wk,this.updater=r||xk}ml.prototype.isReactComponent={};ml.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ml.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function kk(){}kk.prototype=ml.prototype;function ry(e,t,r){this.props=e,this.context=t,this.refs=wk,this.updater=r||xk}var ny=ry.prototype=new kk;ny.constructor=ry;bk(ny,ml.prototype);ny.isPureReactComponent=!0;var sx=Array.isArray,jk=Object.prototype.hasOwnProperty,ay={current:null},Sk={key:!0,ref:!0,__self:!0,__source:!0};function Nk(e,t,r){var n,a={},o=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)jk.call(t,n)&&!Sk.hasOwnProperty(n)&&(a[n]=t[n]);var s=arguments.length-2;if(s===1)a.children=r;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];a.children=l}if(e&&e.defaultProps)for(n in s=e.defaultProps,s)a[n]===void 0&&(a[n]=s[n]);return{$$typeof:Su,type:e,key:o,ref:i,props:a,_owner:ay.current}}function TP(e,t){return{$$typeof:Su,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function oy(e){return typeof e=="object"&&e!==null&&e.$$typeof===Su}function $P(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var lx=/\/+/g;function _0(e,t){return typeof e=="object"&&e!==null&&e.key!=null?$P(""+e.key):t.toString(36)}function Mf(e,t,r,n,a){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Su:case kP:i=!0}}if(i)return i=e,a=a(i),e=n===""?"."+_0(i,0):n,sx(a)?(r="",e!=null&&(r=e.replace(lx,"$&/")+"/"),Mf(a,t,r,"",function(u){return u})):a!=null&&(oy(a)&&(a=TP(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(lx,"$&/")+"/")+e)),t.push(a)),1;if(i=0,n=n===""?".":n+":",sx(e))for(var s=0;s<e.length;s++){o=e[s];var l=n+_0(o,s);i+=Mf(o,t,r,l,a)}else if(l=EP(e),typeof l=="function")for(e=l.call(e),s=0;!(o=e.next()).done;)o=o.value,l=n+_0(o,s++),i+=Mf(o,t,r,l,a);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function qu(e,t,r){if(e==null)return e;var n=[],a=0;return Mf(e,n,"","",function(o){return t.call(r,o,a++)}),n}function DP(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var On={current:null},Cf={transition:null},RP={ReactCurrentDispatcher:On,ReactCurrentBatchConfig:Cf,ReactCurrentOwner:ay};function _k(){throw Error("act(...) is not supported in production builds of React.")}rt.Children={map:qu,forEach:function(e,t,r){qu(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return qu(e,function(){t++}),t},toArray:function(e){return qu(e,function(t){return t})||[]},only:function(e){if(!oy(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};rt.Component=ml;rt.Fragment=jP;rt.Profiler=NP;rt.PureComponent=ry;rt.StrictMode=SP;rt.Suspense=AP;rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RP;rt.act=_k;rt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=bk({},e.props),a=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=ay.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)jk.call(t,l)&&!Sk.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];n.children=s}return{$$typeof:Su,type:e.type,key:a,ref:o,props:n,_owner:i}};rt.createContext=function(e){return e={$$typeof:OP,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:_P,_context:e},e.Consumer=e};rt.createElement=Nk;rt.createFactory=function(e){var t=Nk.bind(null,e);return t.type=e,t};rt.createRef=function(){return{current:null}};rt.forwardRef=function(e){return{$$typeof:PP,render:e}};rt.isValidElement=oy;rt.lazy=function(e){return{$$typeof:CP,_payload:{_status:-1,_result:e},_init:DP}};rt.memo=function(e,t){return{$$typeof:MP,type:e,compare:t===void 0?null:t}};rt.startTransition=function(e){var t=Cf.transition;Cf.transition={};try{e()}finally{Cf.transition=t}};rt.unstable_act=_k;rt.useCallback=function(e,t){return On.current.useCallback(e,t)};rt.useContext=function(e){return On.current.useContext(e)};rt.useDebugValue=function(){};rt.useDeferredValue=function(e){return On.current.useDeferredValue(e)};rt.useEffect=function(e,t){return On.current.useEffect(e,t)};rt.useId=function(){return On.current.useId()};rt.useImperativeHandle=function(e,t,r){return On.current.useImperativeHandle(e,t,r)};rt.useInsertionEffect=function(e,t){return On.current.useInsertionEffect(e,t)};rt.useLayoutEffect=function(e,t){return On.current.useLayoutEffect(e,t)};rt.useMemo=function(e,t){return On.current.useMemo(e,t)};rt.useReducer=function(e,t,r){return On.current.useReducer(e,t,r)};rt.useRef=function(e){return On.current.useRef(e)};rt.useState=function(e){return On.current.useState(e)};rt.useSyncExternalStore=function(e,t,r){return On.current.useSyncExternalStore(e,t,r)};rt.useTransition=function(){return On.current.useTransition()};rt.version="18.3.1";vk.exports=rt;var S=vk.exports;const I=Rt(S);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LP=S,IP=Symbol.for("react.element"),BP=Symbol.for("react.fragment"),FP=Object.prototype.hasOwnProperty,zP=LP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,UP={key:!0,ref:!0,__self:!0,__source:!0};function Ok(e,t,r){var n,a={},o=null,i=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)FP.call(t,n)&&!UP.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:IP,type:e,key:o,ref:i,props:a,_owner:zP.current}}xh.Fragment=BP;xh.jsx=Ok;xh.jsxs=Ok;yk.exports=xh;var c=yk.exports,Cp={},Pk={exports:{}},ta={},Ak={exports:{}},Mk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(E,$){var U=E.length;E.push($);e:for(;0<U;){var te=U-1>>>1,K=E[te];if(0<a(K,$))E[te]=$,E[U]=K,U=te;else break e}}function r(E){return E.length===0?null:E[0]}function n(E){if(E.length===0)return null;var $=E[0],U=E.pop();if(U!==$){E[0]=U;e:for(var te=0,K=E.length,L=K>>>1;te<L;){var ee=2*(te+1)-1,Z=E[ee],D=ee+1,ae=E[D];if(0>a(Z,U))D<K&&0>a(ae,Z)?(E[te]=ae,E[D]=U,te=D):(E[te]=Z,E[ee]=U,te=ee);else if(D<K&&0>a(ae,U))E[te]=ae,E[D]=U,te=D;else break e}}return $}function a(E,$){var U=E.sortIndex-$.sortIndex;return U!==0?U:E.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,s=i.now();e.unstable_now=function(){return i.now()-s}}var l=[],u=[],f=1,d=null,h=3,p=!1,y=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(E){for(var $=r(u);$!==null;){if($.callback===null)n(u);else if($.startTime<=E)n(u),$.sortIndex=$.expirationTime,t(l,$);else break;$=r(u)}}function j(E){if(v=!1,x(E),!y)if(r(l)!==null)y=!0,G(w);else{var $=r(u);$!==null&&P(j,$.startTime-E)}}function w(E,$){y=!1,v&&(v=!1,m(_),_=-1),p=!0;var U=h;try{for(x($),d=r(l);d!==null&&(!(d.expirationTime>$)||E&&!M());){var te=d.callback;if(typeof te=="function"){d.callback=null,h=d.priorityLevel;var K=te(d.expirationTime<=$);$=e.unstable_now(),typeof K=="function"?d.callback=K:d===r(l)&&n(l),x($)}else n(l);d=r(l)}if(d!==null)var L=!0;else{var ee=r(u);ee!==null&&P(j,ee.startTime-$),L=!1}return L}finally{d=null,h=U,p=!1}}var k=!1,N=null,_=-1,O=5,A=-1;function M(){return!(e.unstable_now()-A<O)}function C(){if(N!==null){var E=e.unstable_now();A=E;var $=!0;try{$=N(!0,E)}finally{$?R():(k=!1,N=null)}}else k=!1}var R;if(typeof g=="function")R=function(){g(C)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,T=z.port2;z.port1.onmessage=C,R=function(){T.postMessage(null)}}else R=function(){b(C,0)};function G(E){N=E,k||(k=!0,R())}function P(E,$){_=b(function(){E(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(E){E.callback=null},e.unstable_continueExecution=function(){y||p||(y=!0,G(w))},e.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<E?Math.floor(1e3/E):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(E){switch(h){case 1:case 2:case 3:var $=3;break;default:$=h}var U=h;h=$;try{return E()}finally{h=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(E,$){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var U=h;h=E;try{return $()}finally{h=U}},e.unstable_scheduleCallback=function(E,$,U){var te=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?te+U:te):U=te,E){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=U+K,E={id:f++,callback:$,priorityLevel:E,startTime:U,expirationTime:K,sortIndex:-1},U>te?(E.sortIndex=U,t(u,E),r(l)===null&&E===r(u)&&(v?(m(_),_=-1):v=!0,P(j,U-te))):(E.sortIndex=K,t(l,E),y||p||(y=!0,G(w))),E},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(E){var $=h;return function(){var U=h;h=$;try{return E.apply(this,arguments)}finally{h=U}}}})(Mk);Ak.exports=Mk;var WP=Ak.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GP=S,ea=WP;function fe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ck=new Set,Sc={};function qi(e,t){Ls(e,t),Ls(e+"Capture",t)}function Ls(e,t){for(Sc[e]=t,e=0;e<t.length;e++)Ck.add(t[e])}var mo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ep=Object.prototype.hasOwnProperty,HP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,cx={},ux={};function VP(e){return Ep.call(ux,e)?!0:Ep.call(cx,e)?!1:HP.test(e)?ux[e]=!0:(cx[e]=!0,!1)}function XP(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function KP(e,t,r,n){if(t===null||typeof t>"u"||XP(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Pn(e,t,r,n,a,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var an={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){an[e]=new Pn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];an[t]=new Pn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){an[e]=new Pn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){an[e]=new Pn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){an[e]=new Pn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){an[e]=new Pn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){an[e]=new Pn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){an[e]=new Pn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){an[e]=new Pn(e,5,!1,e.toLowerCase(),null,!1,!1)});var iy=/[\-:]([a-z])/g;function sy(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(iy,sy);an[t]=new Pn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(iy,sy);an[t]=new Pn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(iy,sy);an[t]=new Pn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){an[e]=new Pn(e,1,!1,e.toLowerCase(),null,!1,!1)});an.xlinkHref=new Pn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){an[e]=new Pn(e,1,!1,e.toLowerCase(),null,!0,!0)});function ly(e,t,r,n){var a=an.hasOwnProperty(t)?an[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(KP(t,r,a,n)&&(r=null),n||a===null?VP(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var jo=GP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zu=Symbol.for("react.element"),ds=Symbol.for("react.portal"),hs=Symbol.for("react.fragment"),cy=Symbol.for("react.strict_mode"),Tp=Symbol.for("react.profiler"),Ek=Symbol.for("react.provider"),Tk=Symbol.for("react.context"),uy=Symbol.for("react.forward_ref"),$p=Symbol.for("react.suspense"),Dp=Symbol.for("react.suspense_list"),fy=Symbol.for("react.memo"),Co=Symbol.for("react.lazy"),$k=Symbol.for("react.offscreen"),fx=Symbol.iterator;function Il(e){return e===null||typeof e!="object"?null:(e=fx&&e[fx]||e["@@iterator"],typeof e=="function"?e:null)}var lr=Object.assign,O0;function rc(e){if(O0===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);O0=t&&t[1]||""}return`
`+O0+e}var P0=!1;function A0(e,t){if(!e||P0)return"";P0=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),o=n.stack.split(`
`),i=a.length-1,s=o.length-1;1<=i&&0<=s&&a[i]!==o[s];)s--;for(;1<=i&&0<=s;i--,s--)if(a[i]!==o[s]){if(i!==1||s!==1)do if(i--,s--,0>s||a[i]!==o[s]){var l=`
`+a[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=i&&0<=s);break}}}finally{P0=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?rc(e):""}function YP(e){switch(e.tag){case 5:return rc(e.type);case 16:return rc("Lazy");case 13:return rc("Suspense");case 19:return rc("SuspenseList");case 0:case 2:case 15:return e=A0(e.type,!1),e;case 11:return e=A0(e.type.render,!1),e;case 1:return e=A0(e.type,!0),e;default:return""}}function Rp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case hs:return"Fragment";case ds:return"Portal";case Tp:return"Profiler";case cy:return"StrictMode";case $p:return"Suspense";case Dp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Tk:return(e.displayName||"Context")+".Consumer";case Ek:return(e._context.displayName||"Context")+".Provider";case uy:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case fy:return t=e.displayName||null,t!==null?t:Rp(e.type)||"Memo";case Co:t=e._payload,e=e._init;try{return Rp(e(t))}catch{}}return null}function qP(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Rp(t);case 8:return t===cy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Jo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Dk(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ZP(e){var t=Dk(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Qu(e){e._valueTracker||(e._valueTracker=ZP(e))}function Rk(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Dk(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Gf(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Lp(e,t){var r=t.checked;return lr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function dx(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Jo(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Lk(e,t){t=t.checked,t!=null&&ly(e,"checked",t,!1)}function Ip(e,t){Lk(e,t);var r=Jo(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Bp(e,t.type,r):t.hasOwnProperty("defaultValue")&&Bp(e,t.type,Jo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function hx(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Bp(e,t,r){(t!=="number"||Gf(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var nc=Array.isArray;function Os(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Jo(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Fp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(fe(91));return lr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function px(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(fe(92));if(nc(r)){if(1<r.length)throw Error(fe(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Jo(r)}}function Ik(e,t){var r=Jo(t.value),n=Jo(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function gx(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Bk(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Bk(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ju,Fk=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ju=Ju||document.createElement("div"),Ju.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ju.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Nc(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var sc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},QP=["Webkit","ms","Moz","O"];Object.keys(sc).forEach(function(e){QP.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),sc[t]=sc[e]})});function zk(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||sc.hasOwnProperty(e)&&sc[e]?(""+t).trim():t+"px"}function Uk(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=zk(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var JP=lr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Up(e,t){if(t){if(JP[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(fe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(fe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(fe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(fe(62))}}function Wp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gp=null;function dy(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Hp=null,Ps=null,As=null;function mx(e){if(e=Ou(e)){if(typeof Hp!="function")throw Error(fe(280));var t=e.stateNode;t&&(t=Sh(t),Hp(e.stateNode,e.type,t))}}function Wk(e){Ps?As?As.push(e):As=[e]:Ps=e}function Gk(){if(Ps){var e=Ps,t=As;if(As=Ps=null,mx(e),t)for(e=0;e<t.length;e++)mx(t[e])}}function Hk(e,t){return e(t)}function Vk(){}var M0=!1;function Xk(e,t,r){if(M0)return e(t,r);M0=!0;try{return Hk(e,t,r)}finally{M0=!1,(Ps!==null||As!==null)&&(Vk(),Gk())}}function _c(e,t){var r=e.stateNode;if(r===null)return null;var n=Sh(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(fe(231,t,typeof r));return r}var Vp=!1;if(mo)try{var Bl={};Object.defineProperty(Bl,"passive",{get:function(){Vp=!0}}),window.addEventListener("test",Bl,Bl),window.removeEventListener("test",Bl,Bl)}catch{Vp=!1}function eA(e,t,r,n,a,o,i,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(f){this.onError(f)}}var lc=!1,Hf=null,Vf=!1,Xp=null,tA={onError:function(e){lc=!0,Hf=e}};function rA(e,t,r,n,a,o,i,s,l){lc=!1,Hf=null,eA.apply(tA,arguments)}function nA(e,t,r,n,a,o,i,s,l){if(rA.apply(this,arguments),lc){if(lc){var u=Hf;lc=!1,Hf=null}else throw Error(fe(198));Vf||(Vf=!0,Xp=u)}}function Zi(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Kk(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function yx(e){if(Zi(e)!==e)throw Error(fe(188))}function aA(e){var t=e.alternate;if(!t){if(t=Zi(e),t===null)throw Error(fe(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var o=a.alternate;if(o===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===r)return yx(a),e;if(o===n)return yx(a),t;o=o.sibling}throw Error(fe(188))}if(r.return!==n.return)r=a,n=o;else{for(var i=!1,s=a.child;s;){if(s===r){i=!0,r=a,n=o;break}if(s===n){i=!0,n=a,r=o;break}s=s.sibling}if(!i){for(s=o.child;s;){if(s===r){i=!0,r=o,n=a;break}if(s===n){i=!0,n=o,r=a;break}s=s.sibling}if(!i)throw Error(fe(189))}}if(r.alternate!==n)throw Error(fe(190))}if(r.tag!==3)throw Error(fe(188));return r.stateNode.current===r?e:t}function Yk(e){return e=aA(e),e!==null?qk(e):null}function qk(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=qk(e);if(t!==null)return t;e=e.sibling}return null}var Zk=ea.unstable_scheduleCallback,vx=ea.unstable_cancelCallback,oA=ea.unstable_shouldYield,iA=ea.unstable_requestPaint,mr=ea.unstable_now,sA=ea.unstable_getCurrentPriorityLevel,hy=ea.unstable_ImmediatePriority,Qk=ea.unstable_UserBlockingPriority,Xf=ea.unstable_NormalPriority,lA=ea.unstable_LowPriority,Jk=ea.unstable_IdlePriority,bh=null,Wa=null;function cA(e){if(Wa&&typeof Wa.onCommitFiberRoot=="function")try{Wa.onCommitFiberRoot(bh,e,void 0,(e.current.flags&128)===128)}catch{}}var Ta=Math.clz32?Math.clz32:dA,uA=Math.log,fA=Math.LN2;function dA(e){return e>>>=0,e===0?32:31-(uA(e)/fA|0)|0}var ef=64,tf=4194304;function ac(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Kf(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,o=e.pingedLanes,i=r&268435455;if(i!==0){var s=i&~a;s!==0?n=ac(s):(o&=i,o!==0&&(n=ac(o)))}else i=r&~a,i!==0?n=ac(i):o!==0&&(n=ac(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,o=t&-t,a>=o||a===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ta(t),a=1<<r,n|=e[r],t&=~a;return n}function hA(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pA(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-Ta(o),s=1<<i,l=a[i];l===-1?(!(s&r)||s&n)&&(a[i]=hA(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}function Kp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ej(){var e=ef;return ef<<=1,!(ef&4194240)&&(ef=64),e}function C0(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Nu(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ta(t),e[t]=r}function gA(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Ta(r),o=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~o}}function py(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ta(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var _t=0;function tj(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var rj,gy,nj,aj,oj,Yp=!1,rf=[],Wo=null,Go=null,Ho=null,Oc=new Map,Pc=new Map,$o=[],mA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xx(e,t){switch(e){case"focusin":case"focusout":Wo=null;break;case"dragenter":case"dragleave":Go=null;break;case"mouseover":case"mouseout":Ho=null;break;case"pointerover":case"pointerout":Oc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(t.pointerId)}}function Fl(e,t,r,n,a,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[a]},t!==null&&(t=Ou(t),t!==null&&gy(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function yA(e,t,r,n,a){switch(t){case"focusin":return Wo=Fl(Wo,e,t,r,n,a),!0;case"dragenter":return Go=Fl(Go,e,t,r,n,a),!0;case"mouseover":return Ho=Fl(Ho,e,t,r,n,a),!0;case"pointerover":var o=a.pointerId;return Oc.set(o,Fl(Oc.get(o)||null,e,t,r,n,a)),!0;case"gotpointercapture":return o=a.pointerId,Pc.set(o,Fl(Pc.get(o)||null,e,t,r,n,a)),!0}return!1}function ij(e){var t=Ni(e.target);if(t!==null){var r=Zi(t);if(r!==null){if(t=r.tag,t===13){if(t=Kk(r),t!==null){e.blockedOn=t,oj(e.priority,function(){nj(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ef(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=qp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Gp=n,r.target.dispatchEvent(n),Gp=null}else return t=Ou(r),t!==null&&gy(t),e.blockedOn=r,!1;t.shift()}return!0}function bx(e,t,r){Ef(e)&&r.delete(t)}function vA(){Yp=!1,Wo!==null&&Ef(Wo)&&(Wo=null),Go!==null&&Ef(Go)&&(Go=null),Ho!==null&&Ef(Ho)&&(Ho=null),Oc.forEach(bx),Pc.forEach(bx)}function zl(e,t){e.blockedOn===t&&(e.blockedOn=null,Yp||(Yp=!0,ea.unstable_scheduleCallback(ea.unstable_NormalPriority,vA)))}function Ac(e){function t(a){return zl(a,e)}if(0<rf.length){zl(rf[0],e);for(var r=1;r<rf.length;r++){var n=rf[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Wo!==null&&zl(Wo,e),Go!==null&&zl(Go,e),Ho!==null&&zl(Ho,e),Oc.forEach(t),Pc.forEach(t),r=0;r<$o.length;r++)n=$o[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<$o.length&&(r=$o[0],r.blockedOn===null);)ij(r),r.blockedOn===null&&$o.shift()}var Ms=jo.ReactCurrentBatchConfig,Yf=!0;function xA(e,t,r,n){var a=_t,o=Ms.transition;Ms.transition=null;try{_t=1,my(e,t,r,n)}finally{_t=a,Ms.transition=o}}function bA(e,t,r,n){var a=_t,o=Ms.transition;Ms.transition=null;try{_t=4,my(e,t,r,n)}finally{_t=a,Ms.transition=o}}function my(e,t,r,n){if(Yf){var a=qp(e,t,r,n);if(a===null)z0(e,t,n,qf,r),xx(e,n);else if(yA(a,e,t,r,n))n.stopPropagation();else if(xx(e,n),t&4&&-1<mA.indexOf(e)){for(;a!==null;){var o=Ou(a);if(o!==null&&rj(o),o=qp(e,t,r,n),o===null&&z0(e,t,n,qf,r),o===a)break;a=o}a!==null&&n.stopPropagation()}else z0(e,t,n,null,r)}}var qf=null;function qp(e,t,r,n){if(qf=null,e=dy(n),e=Ni(e),e!==null)if(t=Zi(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Kk(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qf=e,null}function sj(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sA()){case hy:return 1;case Qk:return 4;case Xf:case lA:return 16;case Jk:return 536870912;default:return 16}default:return 16}}var Lo=null,yy=null,Tf=null;function lj(){if(Tf)return Tf;var e,t=yy,r=t.length,n,a="value"in Lo?Lo.value:Lo.textContent,o=a.length;for(e=0;e<r&&t[e]===a[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===a[o-n];n++);return Tf=a.slice(e,1<n?1-n:void 0)}function $f(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function nf(){return!0}function wx(){return!1}function ra(e){function t(r,n,a,o,i){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(r=e[s],this[s]=r?r(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?nf:wx,this.isPropagationStopped=wx,this}return lr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=nf)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=nf)},persist:function(){},isPersistent:nf}),t}var yl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vy=ra(yl),_u=lr({},yl,{view:0,detail:0}),wA=ra(_u),E0,T0,Ul,wh=lr({},_u,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xy,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ul&&(Ul&&e.type==="mousemove"?(E0=e.screenX-Ul.screenX,T0=e.screenY-Ul.screenY):T0=E0=0,Ul=e),E0)},movementY:function(e){return"movementY"in e?e.movementY:T0}}),kx=ra(wh),kA=lr({},wh,{dataTransfer:0}),jA=ra(kA),SA=lr({},_u,{relatedTarget:0}),$0=ra(SA),NA=lr({},yl,{animationName:0,elapsedTime:0,pseudoElement:0}),_A=ra(NA),OA=lr({},yl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),PA=ra(OA),AA=lr({},yl,{data:0}),jx=ra(AA),MA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},CA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},EA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function TA(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=EA[e])?!!t[e]:!1}function xy(){return TA}var $A=lr({},_u,{key:function(e){if(e.key){var t=MA[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=$f(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?CA[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xy,charCode:function(e){return e.type==="keypress"?$f(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$f(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),DA=ra($A),RA=lr({},wh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sx=ra(RA),LA=lr({},_u,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xy}),IA=ra(LA),BA=lr({},yl,{propertyName:0,elapsedTime:0,pseudoElement:0}),FA=ra(BA),zA=lr({},wh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),UA=ra(zA),WA=[9,13,27,32],by=mo&&"CompositionEvent"in window,cc=null;mo&&"documentMode"in document&&(cc=document.documentMode);var GA=mo&&"TextEvent"in window&&!cc,cj=mo&&(!by||cc&&8<cc&&11>=cc),Nx=" ",_x=!1;function uj(e,t){switch(e){case"keyup":return WA.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fj(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ps=!1;function HA(e,t){switch(e){case"compositionend":return fj(t);case"keypress":return t.which!==32?null:(_x=!0,Nx);case"textInput":return e=t.data,e===Nx&&_x?null:e;default:return null}}function VA(e,t){if(ps)return e==="compositionend"||!by&&uj(e,t)?(e=lj(),Tf=yy=Lo=null,ps=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return cj&&t.locale!=="ko"?null:t.data;default:return null}}var XA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ox(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!XA[e.type]:t==="textarea"}function dj(e,t,r,n){Wk(n),t=Zf(t,"onChange"),0<t.length&&(r=new vy("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var uc=null,Mc=null;function KA(e){jj(e,0)}function kh(e){var t=ys(e);if(Rk(t))return e}function YA(e,t){if(e==="change")return t}var hj=!1;if(mo){var D0;if(mo){var R0="oninput"in document;if(!R0){var Px=document.createElement("div");Px.setAttribute("oninput","return;"),R0=typeof Px.oninput=="function"}D0=R0}else D0=!1;hj=D0&&(!document.documentMode||9<document.documentMode)}function Ax(){uc&&(uc.detachEvent("onpropertychange",pj),Mc=uc=null)}function pj(e){if(e.propertyName==="value"&&kh(Mc)){var t=[];dj(t,Mc,e,dy(e)),Xk(KA,t)}}function qA(e,t,r){e==="focusin"?(Ax(),uc=t,Mc=r,uc.attachEvent("onpropertychange",pj)):e==="focusout"&&Ax()}function ZA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return kh(Mc)}function QA(e,t){if(e==="click")return kh(t)}function JA(e,t){if(e==="input"||e==="change")return kh(t)}function eM(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Da=typeof Object.is=="function"?Object.is:eM;function Cc(e,t){if(Da(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Ep.call(t,a)||!Da(e[a],t[a]))return!1}return!0}function Mx(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Cx(e,t){var r=Mx(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Mx(r)}}function gj(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?gj(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function mj(){for(var e=window,t=Gf();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Gf(e.document)}return t}function wy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function tM(e){var t=mj(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&gj(r.ownerDocument.documentElement,r)){if(n!==null&&wy(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,o=Math.min(n.start,a);n=n.end===void 0?o:Math.min(n.end,a),!e.extend&&o>n&&(a=n,n=o,o=a),a=Cx(r,o);var i=Cx(r,n);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var rM=mo&&"documentMode"in document&&11>=document.documentMode,gs=null,Zp=null,fc=null,Qp=!1;function Ex(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Qp||gs==null||gs!==Gf(n)||(n=gs,"selectionStart"in n&&wy(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),fc&&Cc(fc,n)||(fc=n,n=Zf(Zp,"onSelect"),0<n.length&&(t=new vy("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=gs)))}function af(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ms={animationend:af("Animation","AnimationEnd"),animationiteration:af("Animation","AnimationIteration"),animationstart:af("Animation","AnimationStart"),transitionend:af("Transition","TransitionEnd")},L0={},yj={};mo&&(yj=document.createElement("div").style,"AnimationEvent"in window||(delete ms.animationend.animation,delete ms.animationiteration.animation,delete ms.animationstart.animation),"TransitionEvent"in window||delete ms.transitionend.transition);function jh(e){if(L0[e])return L0[e];if(!ms[e])return e;var t=ms[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in yj)return L0[e]=t[r];return e}var vj=jh("animationend"),xj=jh("animationiteration"),bj=jh("animationstart"),wj=jh("transitionend"),kj=new Map,Tx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ti(e,t){kj.set(e,t),qi(t,[e])}for(var I0=0;I0<Tx.length;I0++){var B0=Tx[I0],nM=B0.toLowerCase(),aM=B0[0].toUpperCase()+B0.slice(1);ti(nM,"on"+aM)}ti(vj,"onAnimationEnd");ti(xj,"onAnimationIteration");ti(bj,"onAnimationStart");ti("dblclick","onDoubleClick");ti("focusin","onFocus");ti("focusout","onBlur");ti(wj,"onTransitionEnd");Ls("onMouseEnter",["mouseout","mouseover"]);Ls("onMouseLeave",["mouseout","mouseover"]);Ls("onPointerEnter",["pointerout","pointerover"]);Ls("onPointerLeave",["pointerout","pointerover"]);qi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qi("onBeforeInput",["compositionend","keypress","textInput","paste"]);qi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oM=new Set("cancel close invalid load scroll toggle".split(" ").concat(oc));function $x(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,nA(n,t,void 0,e),e.currentTarget=null}function jj(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var i=n.length-1;0<=i;i--){var s=n[i],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&a.isPropagationStopped())break e;$x(a,s,u),o=l}else for(i=0;i<n.length;i++){if(s=n[i],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&a.isPropagationStopped())break e;$x(a,s,u),o=l}}}if(Vf)throw e=Xp,Vf=!1,Xp=null,e}function Kt(e,t){var r=t[ng];r===void 0&&(r=t[ng]=new Set);var n=e+"__bubble";r.has(n)||(Sj(t,e,2,!1),r.add(n))}function F0(e,t,r){var n=0;t&&(n|=4),Sj(r,e,n,t)}var of="_reactListening"+Math.random().toString(36).slice(2);function Ec(e){if(!e[of]){e[of]=!0,Ck.forEach(function(r){r!=="selectionchange"&&(oM.has(r)||F0(r,!1,e),F0(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[of]||(t[of]=!0,F0("selectionchange",!1,t))}}function Sj(e,t,r,n){switch(sj(t)){case 1:var a=xA;break;case 4:a=bA;break;default:a=my}r=a.bind(null,t,r,e),a=void 0,!Vp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function z0(e,t,r,n,a){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var s=n.stateNode.containerInfo;if(s===a||s.nodeType===8&&s.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;i=i.return}for(;s!==null;){if(i=Ni(s),i===null)return;if(l=i.tag,l===5||l===6){n=o=i;continue e}s=s.parentNode}}n=n.return}Xk(function(){var u=o,f=dy(r),d=[];e:{var h=kj.get(e);if(h!==void 0){var p=vy,y=e;switch(e){case"keypress":if($f(r)===0)break e;case"keydown":case"keyup":p=DA;break;case"focusin":y="focus",p=$0;break;case"focusout":y="blur",p=$0;break;case"beforeblur":case"afterblur":p=$0;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=kx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=jA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=IA;break;case vj:case xj:case bj:p=_A;break;case wj:p=FA;break;case"scroll":p=wA;break;case"wheel":p=UA;break;case"copy":case"cut":case"paste":p=PA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Sx}var v=(t&4)!==0,b=!v&&e==="scroll",m=v?h!==null?h+"Capture":null:h;v=[];for(var g=u,x;g!==null;){x=g;var j=x.stateNode;if(x.tag===5&&j!==null&&(x=j,m!==null&&(j=_c(g,m),j!=null&&v.push(Tc(g,j,x)))),b)break;g=g.return}0<v.length&&(h=new p(h,y,null,r,f),d.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==Gp&&(y=r.relatedTarget||r.fromElement)&&(Ni(y)||y[yo]))break e;if((p||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,p?(y=r.relatedTarget||r.toElement,p=u,y=y?Ni(y):null,y!==null&&(b=Zi(y),y!==b||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=u),p!==y)){if(v=kx,j="onMouseLeave",m="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(v=Sx,j="onPointerLeave",m="onPointerEnter",g="pointer"),b=p==null?h:ys(p),x=y==null?h:ys(y),h=new v(j,g+"leave",p,r,f),h.target=b,h.relatedTarget=x,j=null,Ni(f)===u&&(v=new v(m,g+"enter",y,r,f),v.target=x,v.relatedTarget=b,j=v),b=j,p&&y)t:{for(v=p,m=y,g=0,x=v;x;x=is(x))g++;for(x=0,j=m;j;j=is(j))x++;for(;0<g-x;)v=is(v),g--;for(;0<x-g;)m=is(m),x--;for(;g--;){if(v===m||m!==null&&v===m.alternate)break t;v=is(v),m=is(m)}v=null}else v=null;p!==null&&Dx(d,h,p,v,!1),y!==null&&b!==null&&Dx(d,b,y,v,!0)}}e:{if(h=u?ys(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var w=YA;else if(Ox(h))if(hj)w=JA;else{w=ZA;var k=qA}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=QA);if(w&&(w=w(e,u))){dj(d,w,r,f);break e}k&&k(e,h,u),e==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&Bp(h,"number",h.value)}switch(k=u?ys(u):window,e){case"focusin":(Ox(k)||k.contentEditable==="true")&&(gs=k,Zp=u,fc=null);break;case"focusout":fc=Zp=gs=null;break;case"mousedown":Qp=!0;break;case"contextmenu":case"mouseup":case"dragend":Qp=!1,Ex(d,r,f);break;case"selectionchange":if(rM)break;case"keydown":case"keyup":Ex(d,r,f)}var N;if(by)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else ps?uj(e,r)&&(_="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(_="onCompositionStart");_&&(cj&&r.locale!=="ko"&&(ps||_!=="onCompositionStart"?_==="onCompositionEnd"&&ps&&(N=lj()):(Lo=f,yy="value"in Lo?Lo.value:Lo.textContent,ps=!0)),k=Zf(u,_),0<k.length&&(_=new jx(_,e,null,r,f),d.push({event:_,listeners:k}),N?_.data=N:(N=fj(r),N!==null&&(_.data=N)))),(N=GA?HA(e,r):VA(e,r))&&(u=Zf(u,"onBeforeInput"),0<u.length&&(f=new jx("onBeforeInput","beforeinput",null,r,f),d.push({event:f,listeners:u}),f.data=N))}jj(d,t)})}function Tc(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Zf(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,o=a.stateNode;a.tag===5&&o!==null&&(a=o,o=_c(e,r),o!=null&&n.unshift(Tc(e,o,a)),o=_c(e,t),o!=null&&n.push(Tc(e,o,a))),e=e.return}return n}function is(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Dx(e,t,r,n,a){for(var o=t._reactName,i=[];r!==null&&r!==n;){var s=r,l=s.alternate,u=s.stateNode;if(l!==null&&l===n)break;s.tag===5&&u!==null&&(s=u,a?(l=_c(r,o),l!=null&&i.unshift(Tc(r,l,s))):a||(l=_c(r,o),l!=null&&i.push(Tc(r,l,s)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var iM=/\r\n?/g,sM=/\u0000|\uFFFD/g;function Rx(e){return(typeof e=="string"?e:""+e).replace(iM,`
`).replace(sM,"")}function sf(e,t,r){if(t=Rx(t),Rx(e)!==t&&r)throw Error(fe(425))}function Qf(){}var Jp=null,eg=null;function tg(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var rg=typeof setTimeout=="function"?setTimeout:void 0,lM=typeof clearTimeout=="function"?clearTimeout:void 0,Lx=typeof Promise=="function"?Promise:void 0,cM=typeof queueMicrotask=="function"?queueMicrotask:typeof Lx<"u"?function(e){return Lx.resolve(null).then(e).catch(uM)}:rg;function uM(e){setTimeout(function(){throw e})}function U0(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Ac(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Ac(t)}function Vo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ix(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var vl=Math.random().toString(36).slice(2),Fa="__reactFiber$"+vl,$c="__reactProps$"+vl,yo="__reactContainer$"+vl,ng="__reactEvents$"+vl,fM="__reactListeners$"+vl,dM="__reactHandles$"+vl;function Ni(e){var t=e[Fa];if(t)return t;for(var r=e.parentNode;r;){if(t=r[yo]||r[Fa]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Ix(e);e!==null;){if(r=e[Fa])return r;e=Ix(e)}return t}e=r,r=e.parentNode}return null}function Ou(e){return e=e[Fa]||e[yo],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ys(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(fe(33))}function Sh(e){return e[$c]||null}var ag=[],vs=-1;function ri(e){return{current:e}}function Zt(e){0>vs||(e.current=ag[vs],ag[vs]=null,vs--)}function Ut(e,t){vs++,ag[vs]=e.current,e.current=t}var ei={},mn=ri(ei),Ln=ri(!1),Ii=ei;function Is(e,t){var r=e.type.contextTypes;if(!r)return ei;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},o;for(o in r)a[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function In(e){return e=e.childContextTypes,e!=null}function Jf(){Zt(Ln),Zt(mn)}function Bx(e,t,r){if(mn.current!==ei)throw Error(fe(168));Ut(mn,t),Ut(Ln,r)}function Nj(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(fe(108,qP(e)||"Unknown",a));return lr({},r,n)}function ed(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ei,Ii=mn.current,Ut(mn,e),Ut(Ln,Ln.current),!0}function Fx(e,t,r){var n=e.stateNode;if(!n)throw Error(fe(169));r?(e=Nj(e,t,Ii),n.__reactInternalMemoizedMergedChildContext=e,Zt(Ln),Zt(mn),Ut(mn,e)):Zt(Ln),Ut(Ln,r)}var ao=null,Nh=!1,W0=!1;function _j(e){ao===null?ao=[e]:ao.push(e)}function hM(e){Nh=!0,_j(e)}function ni(){if(!W0&&ao!==null){W0=!0;var e=0,t=_t;try{var r=ao;for(_t=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}ao=null,Nh=!1}catch(a){throw ao!==null&&(ao=ao.slice(e+1)),Zk(hy,ni),a}finally{_t=t,W0=!1}}return null}var xs=[],bs=0,td=null,rd=0,fa=[],da=0,Bi=null,oo=1,io="";function bi(e,t){xs[bs++]=rd,xs[bs++]=td,td=e,rd=t}function Oj(e,t,r){fa[da++]=oo,fa[da++]=io,fa[da++]=Bi,Bi=e;var n=oo;e=io;var a=32-Ta(n)-1;n&=~(1<<a),r+=1;var o=32-Ta(t)+a;if(30<o){var i=a-a%5;o=(n&(1<<i)-1).toString(32),n>>=i,a-=i,oo=1<<32-Ta(t)+a|r<<a|n,io=o+e}else oo=1<<o|r<<a|n,io=e}function ky(e){e.return!==null&&(bi(e,1),Oj(e,1,0))}function jy(e){for(;e===td;)td=xs[--bs],xs[bs]=null,rd=xs[--bs],xs[bs]=null;for(;e===Bi;)Bi=fa[--da],fa[da]=null,io=fa[--da],fa[da]=null,oo=fa[--da],fa[da]=null}var Jn=null,Qn=null,er=!1,Ma=null;function Pj(e,t){var r=ha(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function zx(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Jn=e,Qn=Vo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Jn=e,Qn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Bi!==null?{id:oo,overflow:io}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ha(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Jn=e,Qn=null,!0):!1;default:return!1}}function og(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ig(e){if(er){var t=Qn;if(t){var r=t;if(!zx(e,t)){if(og(e))throw Error(fe(418));t=Vo(r.nextSibling);var n=Jn;t&&zx(e,t)?Pj(n,r):(e.flags=e.flags&-4097|2,er=!1,Jn=e)}}else{if(og(e))throw Error(fe(418));e.flags=e.flags&-4097|2,er=!1,Jn=e}}}function Ux(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Jn=e}function lf(e){if(e!==Jn)return!1;if(!er)return Ux(e),er=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!tg(e.type,e.memoizedProps)),t&&(t=Qn)){if(og(e))throw Aj(),Error(fe(418));for(;t;)Pj(e,t),t=Vo(t.nextSibling)}if(Ux(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(fe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Qn=Vo(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Qn=null}}else Qn=Jn?Vo(e.stateNode.nextSibling):null;return!0}function Aj(){for(var e=Qn;e;)e=Vo(e.nextSibling)}function Bs(){Qn=Jn=null,er=!1}function Sy(e){Ma===null?Ma=[e]:Ma.push(e)}var pM=jo.ReactCurrentBatchConfig;function Wl(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(fe(309));var n=r.stateNode}if(!n)throw Error(fe(147,e));var a=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var s=a.refs;i===null?delete s[o]:s[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(fe(284));if(!r._owner)throw Error(fe(290,e))}return e}function cf(e,t){throw e=Object.prototype.toString.call(t),Error(fe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Wx(e){var t=e._init;return t(e._payload)}function Mj(e){function t(m,g){if(e){var x=m.deletions;x===null?(m.deletions=[g],m.flags|=16):x.push(g)}}function r(m,g){if(!e)return null;for(;g!==null;)t(m,g),g=g.sibling;return null}function n(m,g){for(m=new Map;g!==null;)g.key!==null?m.set(g.key,g):m.set(g.index,g),g=g.sibling;return m}function a(m,g){return m=qo(m,g),m.index=0,m.sibling=null,m}function o(m,g,x){return m.index=x,e?(x=m.alternate,x!==null?(x=x.index,x<g?(m.flags|=2,g):x):(m.flags|=2,g)):(m.flags|=1048576,g)}function i(m){return e&&m.alternate===null&&(m.flags|=2),m}function s(m,g,x,j){return g===null||g.tag!==6?(g=q0(x,m.mode,j),g.return=m,g):(g=a(g,x),g.return=m,g)}function l(m,g,x,j){var w=x.type;return w===hs?f(m,g,x.props.children,j,x.key):g!==null&&(g.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Co&&Wx(w)===g.type)?(j=a(g,x.props),j.ref=Wl(m,g,x),j.return=m,j):(j=zf(x.type,x.key,x.props,null,m.mode,j),j.ref=Wl(m,g,x),j.return=m,j)}function u(m,g,x,j){return g===null||g.tag!==4||g.stateNode.containerInfo!==x.containerInfo||g.stateNode.implementation!==x.implementation?(g=Z0(x,m.mode,j),g.return=m,g):(g=a(g,x.children||[]),g.return=m,g)}function f(m,g,x,j,w){return g===null||g.tag!==7?(g=$i(x,m.mode,j,w),g.return=m,g):(g=a(g,x),g.return=m,g)}function d(m,g,x){if(typeof g=="string"&&g!==""||typeof g=="number")return g=q0(""+g,m.mode,x),g.return=m,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Zu:return x=zf(g.type,g.key,g.props,null,m.mode,x),x.ref=Wl(m,null,g),x.return=m,x;case ds:return g=Z0(g,m.mode,x),g.return=m,g;case Co:var j=g._init;return d(m,j(g._payload),x)}if(nc(g)||Il(g))return g=$i(g,m.mode,x,null),g.return=m,g;cf(m,g)}return null}function h(m,g,x,j){var w=g!==null?g.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return w!==null?null:s(m,g,""+x,j);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Zu:return x.key===w?l(m,g,x,j):null;case ds:return x.key===w?u(m,g,x,j):null;case Co:return w=x._init,h(m,g,w(x._payload),j)}if(nc(x)||Il(x))return w!==null?null:f(m,g,x,j,null);cf(m,x)}return null}function p(m,g,x,j,w){if(typeof j=="string"&&j!==""||typeof j=="number")return m=m.get(x)||null,s(g,m,""+j,w);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Zu:return m=m.get(j.key===null?x:j.key)||null,l(g,m,j,w);case ds:return m=m.get(j.key===null?x:j.key)||null,u(g,m,j,w);case Co:var k=j._init;return p(m,g,x,k(j._payload),w)}if(nc(j)||Il(j))return m=m.get(x)||null,f(g,m,j,w,null);cf(g,j)}return null}function y(m,g,x,j){for(var w=null,k=null,N=g,_=g=0,O=null;N!==null&&_<x.length;_++){N.index>_?(O=N,N=null):O=N.sibling;var A=h(m,N,x[_],j);if(A===null){N===null&&(N=O);break}e&&N&&A.alternate===null&&t(m,N),g=o(A,g,_),k===null?w=A:k.sibling=A,k=A,N=O}if(_===x.length)return r(m,N),er&&bi(m,_),w;if(N===null){for(;_<x.length;_++)N=d(m,x[_],j),N!==null&&(g=o(N,g,_),k===null?w=N:k.sibling=N,k=N);return er&&bi(m,_),w}for(N=n(m,N);_<x.length;_++)O=p(N,m,_,x[_],j),O!==null&&(e&&O.alternate!==null&&N.delete(O.key===null?_:O.key),g=o(O,g,_),k===null?w=O:k.sibling=O,k=O);return e&&N.forEach(function(M){return t(m,M)}),er&&bi(m,_),w}function v(m,g,x,j){var w=Il(x);if(typeof w!="function")throw Error(fe(150));if(x=w.call(x),x==null)throw Error(fe(151));for(var k=w=null,N=g,_=g=0,O=null,A=x.next();N!==null&&!A.done;_++,A=x.next()){N.index>_?(O=N,N=null):O=N.sibling;var M=h(m,N,A.value,j);if(M===null){N===null&&(N=O);break}e&&N&&M.alternate===null&&t(m,N),g=o(M,g,_),k===null?w=M:k.sibling=M,k=M,N=O}if(A.done)return r(m,N),er&&bi(m,_),w;if(N===null){for(;!A.done;_++,A=x.next())A=d(m,A.value,j),A!==null&&(g=o(A,g,_),k===null?w=A:k.sibling=A,k=A);return er&&bi(m,_),w}for(N=n(m,N);!A.done;_++,A=x.next())A=p(N,m,_,A.value,j),A!==null&&(e&&A.alternate!==null&&N.delete(A.key===null?_:A.key),g=o(A,g,_),k===null?w=A:k.sibling=A,k=A);return e&&N.forEach(function(C){return t(m,C)}),er&&bi(m,_),w}function b(m,g,x,j){if(typeof x=="object"&&x!==null&&x.type===hs&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Zu:e:{for(var w=x.key,k=g;k!==null;){if(k.key===w){if(w=x.type,w===hs){if(k.tag===7){r(m,k.sibling),g=a(k,x.props.children),g.return=m,m=g;break e}}else if(k.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Co&&Wx(w)===k.type){r(m,k.sibling),g=a(k,x.props),g.ref=Wl(m,k,x),g.return=m,m=g;break e}r(m,k);break}else t(m,k);k=k.sibling}x.type===hs?(g=$i(x.props.children,m.mode,j,x.key),g.return=m,m=g):(j=zf(x.type,x.key,x.props,null,m.mode,j),j.ref=Wl(m,g,x),j.return=m,m=j)}return i(m);case ds:e:{for(k=x.key;g!==null;){if(g.key===k)if(g.tag===4&&g.stateNode.containerInfo===x.containerInfo&&g.stateNode.implementation===x.implementation){r(m,g.sibling),g=a(g,x.children||[]),g.return=m,m=g;break e}else{r(m,g);break}else t(m,g);g=g.sibling}g=Z0(x,m.mode,j),g.return=m,m=g}return i(m);case Co:return k=x._init,b(m,g,k(x._payload),j)}if(nc(x))return y(m,g,x,j);if(Il(x))return v(m,g,x,j);cf(m,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,g!==null&&g.tag===6?(r(m,g.sibling),g=a(g,x),g.return=m,m=g):(r(m,g),g=q0(x,m.mode,j),g.return=m,m=g),i(m)):r(m,g)}return b}var Fs=Mj(!0),Cj=Mj(!1),nd=ri(null),ad=null,ws=null,Ny=null;function _y(){Ny=ws=ad=null}function Oy(e){var t=nd.current;Zt(nd),e._currentValue=t}function sg(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Cs(e,t){ad=e,Ny=ws=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Dn=!0),e.firstContext=null)}function va(e){var t=e._currentValue;if(Ny!==e)if(e={context:e,memoizedValue:t,next:null},ws===null){if(ad===null)throw Error(fe(308));ws=e,ad.dependencies={lanes:0,firstContext:e}}else ws=ws.next=e;return t}var _i=null;function Py(e){_i===null?_i=[e]:_i.push(e)}function Ej(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,Py(t)):(r.next=a.next,a.next=r),t.interleaved=r,vo(e,n)}function vo(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Eo=!1;function Ay(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Tj(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function uo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Xo(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ct&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,vo(e,r)}return a=n.interleaved,a===null?(t.next=t,Py(n)):(t.next=a.next,a.next=t),n.interleaved=t,vo(e,r)}function Df(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,py(e,r)}}function Gx(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?a=o=i:o=o.next=i,r=r.next}while(r!==null);o===null?a=o=t:o=o.next=t}else a=o=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function od(e,t,r,n){var a=e.updateQueue;Eo=!1;var o=a.firstBaseUpdate,i=a.lastBaseUpdate,s=a.shared.pending;if(s!==null){a.shared.pending=null;var l=s,u=l.next;l.next=null,i===null?o=u:i.next=u,i=l;var f=e.alternate;f!==null&&(f=f.updateQueue,s=f.lastBaseUpdate,s!==i&&(s===null?f.firstBaseUpdate=u:s.next=u,f.lastBaseUpdate=l))}if(o!==null){var d=a.baseState;i=0,f=u=l=null,s=o;do{var h=s.lane,p=s.eventTime;if((n&h)===h){f!==null&&(f=f.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var y=e,v=s;switch(h=t,p=r,v.tag){case 1:if(y=v.payload,typeof y=="function"){d=y.call(p,d,h);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,h=typeof y=="function"?y.call(p,d,h):y,h==null)break e;d=lr({},d,h);break e;case 2:Eo=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},f===null?(u=f=p,l=d):f=f.next=p,i|=h;if(s=s.next,s===null){if(s=a.shared.pending,s===null)break;h=s,s=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(f===null&&(l=d),a.baseState=l,a.firstBaseUpdate=u,a.lastBaseUpdate=f,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else o===null&&(a.shared.lanes=0);zi|=i,e.lanes=i,e.memoizedState=d}}function Hx(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(fe(191,a));a.call(n)}}}var Pu={},Ga=ri(Pu),Dc=ri(Pu),Rc=ri(Pu);function Oi(e){if(e===Pu)throw Error(fe(174));return e}function My(e,t){switch(Ut(Rc,t),Ut(Dc,e),Ut(Ga,Pu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:zp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=zp(t,e)}Zt(Ga),Ut(Ga,t)}function zs(){Zt(Ga),Zt(Dc),Zt(Rc)}function $j(e){Oi(Rc.current);var t=Oi(Ga.current),r=zp(t,e.type);t!==r&&(Ut(Dc,e),Ut(Ga,r))}function Cy(e){Dc.current===e&&(Zt(Ga),Zt(Dc))}var ir=ri(0);function id(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var G0=[];function Ey(){for(var e=0;e<G0.length;e++)G0[e]._workInProgressVersionPrimary=null;G0.length=0}var Rf=jo.ReactCurrentDispatcher,H0=jo.ReactCurrentBatchConfig,Fi=0,sr=null,Rr=null,Gr=null,sd=!1,dc=!1,Lc=0,gM=0;function un(){throw Error(fe(321))}function Ty(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Da(e[r],t[r]))return!1;return!0}function $y(e,t,r,n,a,o){if(Fi=o,sr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Rf.current=e===null||e.memoizedState===null?xM:bM,e=r(n,a),dc){o=0;do{if(dc=!1,Lc=0,25<=o)throw Error(fe(301));o+=1,Gr=Rr=null,t.updateQueue=null,Rf.current=wM,e=r(n,a)}while(dc)}if(Rf.current=ld,t=Rr!==null&&Rr.next!==null,Fi=0,Gr=Rr=sr=null,sd=!1,t)throw Error(fe(300));return e}function Dy(){var e=Lc!==0;return Lc=0,e}function Ba(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gr===null?sr.memoizedState=Gr=e:Gr=Gr.next=e,Gr}function xa(){if(Rr===null){var e=sr.alternate;e=e!==null?e.memoizedState:null}else e=Rr.next;var t=Gr===null?sr.memoizedState:Gr.next;if(t!==null)Gr=t,Rr=e;else{if(e===null)throw Error(fe(310));Rr=e,e={memoizedState:Rr.memoizedState,baseState:Rr.baseState,baseQueue:Rr.baseQueue,queue:Rr.queue,next:null},Gr===null?sr.memoizedState=Gr=e:Gr=Gr.next=e}return Gr}function Ic(e,t){return typeof t=="function"?t(e):t}function V0(e){var t=xa(),r=t.queue;if(r===null)throw Error(fe(311));r.lastRenderedReducer=e;var n=Rr,a=n.baseQueue,o=r.pending;if(o!==null){if(a!==null){var i=a.next;a.next=o.next,o.next=i}n.baseQueue=a=o,r.pending=null}if(a!==null){o=a.next,n=n.baseState;var s=i=null,l=null,u=o;do{var f=u.lane;if((Fi&f)===f)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var d={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=d,i=n):l=l.next=d,sr.lanes|=f,zi|=f}u=u.next}while(u!==null&&u!==o);l===null?i=n:l.next=s,Da(n,t.memoizedState)||(Dn=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do o=a.lane,sr.lanes|=o,zi|=o,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function X0(e){var t=xa(),r=t.queue;if(r===null)throw Error(fe(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,o=t.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do o=e(o,i.action),i=i.next;while(i!==a);Da(o,t.memoizedState)||(Dn=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function Dj(){}function Rj(e,t){var r=sr,n=xa(),a=t(),o=!Da(n.memoizedState,a);if(o&&(n.memoizedState=a,Dn=!0),n=n.queue,Ry(Bj.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||Gr!==null&&Gr.memoizedState.tag&1){if(r.flags|=2048,Bc(9,Ij.bind(null,r,n,a,t),void 0,null),Vr===null)throw Error(fe(349));Fi&30||Lj(r,t,a)}return a}function Lj(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=sr.updateQueue,t===null?(t={lastEffect:null,stores:null},sr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Ij(e,t,r,n){t.value=r,t.getSnapshot=n,Fj(t)&&zj(e)}function Bj(e,t,r){return r(function(){Fj(t)&&zj(e)})}function Fj(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Da(e,r)}catch{return!0}}function zj(e){var t=vo(e,1);t!==null&&$a(t,e,1,-1)}function Vx(e){var t=Ba();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ic,lastRenderedState:e},t.queue=e,e=e.dispatch=vM.bind(null,sr,e),[t.memoizedState,e]}function Bc(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=sr.updateQueue,t===null?(t={lastEffect:null,stores:null},sr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Uj(){return xa().memoizedState}function Lf(e,t,r,n){var a=Ba();sr.flags|=e,a.memoizedState=Bc(1|t,r,void 0,n===void 0?null:n)}function _h(e,t,r,n){var a=xa();n=n===void 0?null:n;var o=void 0;if(Rr!==null){var i=Rr.memoizedState;if(o=i.destroy,n!==null&&Ty(n,i.deps)){a.memoizedState=Bc(t,r,o,n);return}}sr.flags|=e,a.memoizedState=Bc(1|t,r,o,n)}function Xx(e,t){return Lf(8390656,8,e,t)}function Ry(e,t){return _h(2048,8,e,t)}function Wj(e,t){return _h(4,2,e,t)}function Gj(e,t){return _h(4,4,e,t)}function Hj(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Vj(e,t,r){return r=r!=null?r.concat([e]):null,_h(4,4,Hj.bind(null,t,e),r)}function Ly(){}function Xj(e,t){var r=xa();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ty(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Kj(e,t){var r=xa();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ty(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Yj(e,t,r){return Fi&21?(Da(r,t)||(r=ej(),sr.lanes|=r,zi|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Dn=!0),e.memoizedState=r)}function mM(e,t){var r=_t;_t=r!==0&&4>r?r:4,e(!0);var n=H0.transition;H0.transition={};try{e(!1),t()}finally{_t=r,H0.transition=n}}function qj(){return xa().memoizedState}function yM(e,t,r){var n=Yo(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Zj(e))Qj(t,r);else if(r=Ej(e,t,r,n),r!==null){var a=_n();$a(r,e,n,a),Jj(r,t,n)}}function vM(e,t,r){var n=Yo(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Zj(e))Qj(t,a);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,s=o(i,r);if(a.hasEagerState=!0,a.eagerState=s,Da(s,i)){var l=t.interleaved;l===null?(a.next=a,Py(t)):(a.next=l.next,l.next=a),t.interleaved=a;return}}catch{}finally{}r=Ej(e,t,a,n),r!==null&&(a=_n(),$a(r,e,n,a),Jj(r,t,n))}}function Zj(e){var t=e.alternate;return e===sr||t!==null&&t===sr}function Qj(e,t){dc=sd=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Jj(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,py(e,r)}}var ld={readContext:va,useCallback:un,useContext:un,useEffect:un,useImperativeHandle:un,useInsertionEffect:un,useLayoutEffect:un,useMemo:un,useReducer:un,useRef:un,useState:un,useDebugValue:un,useDeferredValue:un,useTransition:un,useMutableSource:un,useSyncExternalStore:un,useId:un,unstable_isNewReconciler:!1},xM={readContext:va,useCallback:function(e,t){return Ba().memoizedState=[e,t===void 0?null:t],e},useContext:va,useEffect:Xx,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Lf(4194308,4,Hj.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Lf(4194308,4,e,t)},useInsertionEffect:function(e,t){return Lf(4,2,e,t)},useMemo:function(e,t){var r=Ba();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Ba();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=yM.bind(null,sr,e),[n.memoizedState,e]},useRef:function(e){var t=Ba();return e={current:e},t.memoizedState=e},useState:Vx,useDebugValue:Ly,useDeferredValue:function(e){return Ba().memoizedState=e},useTransition:function(){var e=Vx(!1),t=e[0];return e=mM.bind(null,e[1]),Ba().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=sr,a=Ba();if(er){if(r===void 0)throw Error(fe(407));r=r()}else{if(r=t(),Vr===null)throw Error(fe(349));Fi&30||Lj(n,t,r)}a.memoizedState=r;var o={value:r,getSnapshot:t};return a.queue=o,Xx(Bj.bind(null,n,o,e),[e]),n.flags|=2048,Bc(9,Ij.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=Ba(),t=Vr.identifierPrefix;if(er){var r=io,n=oo;r=(n&~(1<<32-Ta(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Lc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=gM++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},bM={readContext:va,useCallback:Xj,useContext:va,useEffect:Ry,useImperativeHandle:Vj,useInsertionEffect:Wj,useLayoutEffect:Gj,useMemo:Kj,useReducer:V0,useRef:Uj,useState:function(){return V0(Ic)},useDebugValue:Ly,useDeferredValue:function(e){var t=xa();return Yj(t,Rr.memoizedState,e)},useTransition:function(){var e=V0(Ic)[0],t=xa().memoizedState;return[e,t]},useMutableSource:Dj,useSyncExternalStore:Rj,useId:qj,unstable_isNewReconciler:!1},wM={readContext:va,useCallback:Xj,useContext:va,useEffect:Ry,useImperativeHandle:Vj,useInsertionEffect:Wj,useLayoutEffect:Gj,useMemo:Kj,useReducer:X0,useRef:Uj,useState:function(){return X0(Ic)},useDebugValue:Ly,useDeferredValue:function(e){var t=xa();return Rr===null?t.memoizedState=e:Yj(t,Rr.memoizedState,e)},useTransition:function(){var e=X0(Ic)[0],t=xa().memoizedState;return[e,t]},useMutableSource:Dj,useSyncExternalStore:Rj,useId:qj,unstable_isNewReconciler:!1};function _a(e,t){if(e&&e.defaultProps){t=lr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function lg(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:lr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Oh={isMounted:function(e){return(e=e._reactInternals)?Zi(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=_n(),a=Yo(e),o=uo(n,a);o.payload=t,r!=null&&(o.callback=r),t=Xo(e,o,a),t!==null&&($a(t,e,a,n),Df(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=_n(),a=Yo(e),o=uo(n,a);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=Xo(e,o,a),t!==null&&($a(t,e,a,n),Df(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=_n(),n=Yo(e),a=uo(r,n);a.tag=2,t!=null&&(a.callback=t),t=Xo(e,a,n),t!==null&&($a(t,e,n,r),Df(t,e,n))}};function Kx(e,t,r,n,a,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,i):t.prototype&&t.prototype.isPureReactComponent?!Cc(r,n)||!Cc(a,o):!0}function eS(e,t,r){var n=!1,a=ei,o=t.contextType;return typeof o=="object"&&o!==null?o=va(o):(a=In(t)?Ii:mn.current,n=t.contextTypes,o=(n=n!=null)?Is(e,a):ei),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Oh,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function Yx(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Oh.enqueueReplaceState(t,t.state,null)}function cg(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Ay(e);var o=t.contextType;typeof o=="object"&&o!==null?a.context=va(o):(o=In(t)?Ii:mn.current,a.context=Is(e,o)),a.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(lg(e,t,o,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Oh.enqueueReplaceState(a,a.state,null),od(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Us(e,t){try{var r="",n=t;do r+=YP(n),n=n.return;while(n);var a=r}catch(o){a=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:a,digest:null}}function K0(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function ug(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var kM=typeof WeakMap=="function"?WeakMap:Map;function tS(e,t,r){r=uo(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){ud||(ud=!0,bg=n),ug(e,t)},r}function rS(e,t,r){r=uo(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){ug(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){ug(e,t),typeof n!="function"&&(Ko===null?Ko=new Set([this]):Ko.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function qx(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new kM;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=RM.bind(null,e,t,r),t.then(e,e))}function Zx(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Qx(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=uo(-1,1),t.tag=2,Xo(r,t,1))),r.lanes|=1),e)}var jM=jo.ReactCurrentOwner,Dn=!1;function Sn(e,t,r,n){t.child=e===null?Cj(t,null,r,n):Fs(t,e.child,r,n)}function Jx(e,t,r,n,a){r=r.render;var o=t.ref;return Cs(t,a),n=$y(e,t,r,n,o,a),r=Dy(),e!==null&&!Dn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,xo(e,t,a)):(er&&r&&ky(t),t.flags|=1,Sn(e,t,n,a),t.child)}function eb(e,t,r,n,a){if(e===null){var o=r.type;return typeof o=="function"&&!Hy(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,nS(e,t,o,n,a)):(e=zf(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&a)){var i=o.memoizedProps;if(r=r.compare,r=r!==null?r:Cc,r(i,n)&&e.ref===t.ref)return xo(e,t,a)}return t.flags|=1,e=qo(o,n),e.ref=t.ref,e.return=t,t.child=e}function nS(e,t,r,n,a){if(e!==null){var o=e.memoizedProps;if(Cc(o,n)&&e.ref===t.ref)if(Dn=!1,t.pendingProps=n=o,(e.lanes&a)!==0)e.flags&131072&&(Dn=!0);else return t.lanes=e.lanes,xo(e,t,a)}return fg(e,t,r,n,a)}function aS(e,t,r){var n=t.pendingProps,a=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ut(js,Yn),Yn|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ut(js,Yn),Yn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,Ut(js,Yn),Yn|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,Ut(js,Yn),Yn|=n;return Sn(e,t,a,r),t.child}function oS(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function fg(e,t,r,n,a){var o=In(r)?Ii:mn.current;return o=Is(t,o),Cs(t,a),r=$y(e,t,r,n,o,a),n=Dy(),e!==null&&!Dn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,xo(e,t,a)):(er&&n&&ky(t),t.flags|=1,Sn(e,t,r,a),t.child)}function tb(e,t,r,n,a){if(In(r)){var o=!0;ed(t)}else o=!1;if(Cs(t,a),t.stateNode===null)If(e,t),eS(t,r,n),cg(t,r,n,a),n=!0;else if(e===null){var i=t.stateNode,s=t.memoizedProps;i.props=s;var l=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=va(u):(u=In(r)?Ii:mn.current,u=Is(t,u));var f=r.getDerivedStateFromProps,d=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function";d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(s!==n||l!==u)&&Yx(t,i,n,u),Eo=!1;var h=t.memoizedState;i.state=h,od(t,n,i,a),l=t.memoizedState,s!==n||h!==l||Ln.current||Eo?(typeof f=="function"&&(lg(t,r,f,n),l=t.memoizedState),(s=Eo||Kx(t,r,s,n,h,l,u))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),i.props=n,i.state=l,i.context=u,n=s):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,Tj(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:_a(t.type,s),i.props=u,d=t.pendingProps,h=i.context,l=r.contextType,typeof l=="object"&&l!==null?l=va(l):(l=In(r)?Ii:mn.current,l=Is(t,l));var p=r.getDerivedStateFromProps;(f=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(s!==d||h!==l)&&Yx(t,i,n,l),Eo=!1,h=t.memoizedState,i.state=h,od(t,n,i,a);var y=t.memoizedState;s!==d||h!==y||Ln.current||Eo?(typeof p=="function"&&(lg(t,r,p,n),y=t.memoizedState),(u=Eo||Kx(t,r,u,n,h,y,l)||!1)?(f||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,y,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,y,l)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),i.props=n,i.state=y,i.context=l,n=u):(typeof i.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return dg(e,t,r,n,o,a)}function dg(e,t,r,n,a,o){oS(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return a&&Fx(t,r,!1),xo(e,t,o);n=t.stateNode,jM.current=t;var s=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=Fs(t,e.child,null,o),t.child=Fs(t,null,s,o)):Sn(e,t,s,o),t.memoizedState=n.state,a&&Fx(t,r,!0),t.child}function iS(e){var t=e.stateNode;t.pendingContext?Bx(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Bx(e,t.context,!1),My(e,t.containerInfo)}function rb(e,t,r,n,a){return Bs(),Sy(a),t.flags|=256,Sn(e,t,r,n),t.child}var hg={dehydrated:null,treeContext:null,retryLane:0};function pg(e){return{baseLanes:e,cachePool:null,transitions:null}}function sS(e,t,r){var n=t.pendingProps,a=ir.current,o=!1,i=(t.flags&128)!==0,s;if((s=i)||(s=e!==null&&e.memoizedState===null?!1:(a&2)!==0),s?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Ut(ir,a&1),e===null)return ig(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,o?(n=t.mode,o=t.child,i={mode:"hidden",children:i},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Mh(i,n,0,null),e=$i(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=pg(r),t.memoizedState=hg,e):Iy(t,i));if(a=e.memoizedState,a!==null&&(s=a.dehydrated,s!==null))return SM(e,t,i,n,s,a,r);if(o){o=n.fallback,i=t.mode,a=e.child,s=a.sibling;var l={mode:"hidden",children:n.children};return!(i&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=qo(a,l),n.subtreeFlags=a.subtreeFlags&14680064),s!==null?o=qo(s,o):(o=$i(o,i,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,i=e.child.memoizedState,i=i===null?pg(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~r,t.memoizedState=hg,n}return o=e.child,e=o.sibling,n=qo(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Iy(e,t){return t=Mh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function uf(e,t,r,n){return n!==null&&Sy(n),Fs(t,e.child,null,r),e=Iy(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function SM(e,t,r,n,a,o,i){if(r)return t.flags&256?(t.flags&=-257,n=K0(Error(fe(422))),uf(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,a=t.mode,n=Mh({mode:"visible",children:n.children},a,0,null),o=$i(o,a,i,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&Fs(t,e.child,null,i),t.child.memoizedState=pg(i),t.memoizedState=hg,o);if(!(t.mode&1))return uf(e,t,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var s=n.dgst;return n=s,o=Error(fe(419)),n=K0(o,n,void 0),uf(e,t,i,n)}if(s=(i&e.childLanes)!==0,Dn||s){if(n=Vr,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==o.retryLane&&(o.retryLane=a,vo(e,a),$a(n,e,a,-1))}return Gy(),n=K0(Error(fe(421))),uf(e,t,i,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=LM.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,Qn=Vo(a.nextSibling),Jn=t,er=!0,Ma=null,e!==null&&(fa[da++]=oo,fa[da++]=io,fa[da++]=Bi,oo=e.id,io=e.overflow,Bi=t),t=Iy(t,n.children),t.flags|=4096,t)}function nb(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),sg(e.return,t,r)}function Y0(e,t,r,n,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=a)}function lS(e,t,r){var n=t.pendingProps,a=n.revealOrder,o=n.tail;if(Sn(e,t,n.children,r),n=ir.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&nb(e,r,t);else if(e.tag===19)nb(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ut(ir,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&id(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Y0(t,!1,a,r,o);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&id(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Y0(t,!0,r,null,o);break;case"together":Y0(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function If(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function xo(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),zi|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(fe(153));if(t.child!==null){for(e=t.child,r=qo(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=qo(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function NM(e,t,r){switch(t.tag){case 3:iS(t),Bs();break;case 5:$j(t);break;case 1:In(t.type)&&ed(t);break;case 4:My(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Ut(nd,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Ut(ir,ir.current&1),t.flags|=128,null):r&t.child.childLanes?sS(e,t,r):(Ut(ir,ir.current&1),e=xo(e,t,r),e!==null?e.sibling:null);Ut(ir,ir.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return lS(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ut(ir,ir.current),n)break;return null;case 22:case 23:return t.lanes=0,aS(e,t,r)}return xo(e,t,r)}var cS,gg,uS,fS;cS=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};gg=function(){};uS=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Oi(Ga.current);var o=null;switch(r){case"input":a=Lp(e,a),n=Lp(e,n),o=[];break;case"select":a=lr({},a,{value:void 0}),n=lr({},n,{value:void 0}),o=[];break;case"textarea":a=Fp(e,a),n=Fp(e,n),o=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Qf)}Up(r,n);var i;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var s=a[u];for(i in s)s.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Sc.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var l=n[u];if(s=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(i in s)!s.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in l)l.hasOwnProperty(i)&&s[i]!==l[i]&&(r||(r={}),r[i]=l[i])}else r||(o||(o=[]),o.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Sc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Kt("scroll",e),o||s===l||(o=[])):(o=o||[]).push(u,l))}r&&(o=o||[]).push("style",r);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};fS=function(e,t,r,n){r!==n&&(t.flags|=4)};function Gl(e,t){if(!er)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function fn(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function _M(e,t,r){var n=t.pendingProps;switch(jy(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fn(t),null;case 1:return In(t.type)&&Jf(),fn(t),null;case 3:return n=t.stateNode,zs(),Zt(Ln),Zt(mn),Ey(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(lf(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ma!==null&&(jg(Ma),Ma=null))),gg(e,t),fn(t),null;case 5:Cy(t);var a=Oi(Rc.current);if(r=t.type,e!==null&&t.stateNode!=null)uS(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(fe(166));return fn(t),null}if(e=Oi(Ga.current),lf(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[Fa]=t,n[$c]=o,e=(t.mode&1)!==0,r){case"dialog":Kt("cancel",n),Kt("close",n);break;case"iframe":case"object":case"embed":Kt("load",n);break;case"video":case"audio":for(a=0;a<oc.length;a++)Kt(oc[a],n);break;case"source":Kt("error",n);break;case"img":case"image":case"link":Kt("error",n),Kt("load",n);break;case"details":Kt("toggle",n);break;case"input":dx(n,o),Kt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Kt("invalid",n);break;case"textarea":px(n,o),Kt("invalid",n)}Up(r,o),a=null;for(var i in o)if(o.hasOwnProperty(i)){var s=o[i];i==="children"?typeof s=="string"?n.textContent!==s&&(o.suppressHydrationWarning!==!0&&sf(n.textContent,s,e),a=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&sf(n.textContent,s,e),a=["children",""+s]):Sc.hasOwnProperty(i)&&s!=null&&i==="onScroll"&&Kt("scroll",n)}switch(r){case"input":Qu(n),hx(n,o,!0);break;case"textarea":Qu(n),gx(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=Qf)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Bk(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[Fa]=t,e[$c]=n,cS(e,t,!1,!1),t.stateNode=e;e:{switch(i=Wp(r,n),r){case"dialog":Kt("cancel",e),Kt("close",e),a=n;break;case"iframe":case"object":case"embed":Kt("load",e),a=n;break;case"video":case"audio":for(a=0;a<oc.length;a++)Kt(oc[a],e);a=n;break;case"source":Kt("error",e),a=n;break;case"img":case"image":case"link":Kt("error",e),Kt("load",e),a=n;break;case"details":Kt("toggle",e),a=n;break;case"input":dx(e,n),a=Lp(e,n),Kt("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=lr({},n,{value:void 0}),Kt("invalid",e);break;case"textarea":px(e,n),a=Fp(e,n),Kt("invalid",e);break;default:a=n}Up(r,a),s=a;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?Uk(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Fk(e,l)):o==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Nc(e,l):typeof l=="number"&&Nc(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Sc.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Kt("scroll",e):l!=null&&ly(e,o,l,i))}switch(r){case"input":Qu(e),hx(e,n,!1);break;case"textarea":Qu(e),gx(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Jo(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?Os(e,!!n.multiple,o,!1):n.defaultValue!=null&&Os(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Qf)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return fn(t),null;case 6:if(e&&t.stateNode!=null)fS(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(fe(166));if(r=Oi(Rc.current),Oi(Ga.current),lf(t)){if(n=t.stateNode,r=t.memoizedProps,n[Fa]=t,(o=n.nodeValue!==r)&&(e=Jn,e!==null))switch(e.tag){case 3:sf(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&sf(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Fa]=t,t.stateNode=n}return fn(t),null;case 13:if(Zt(ir),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(er&&Qn!==null&&t.mode&1&&!(t.flags&128))Aj(),Bs(),t.flags|=98560,o=!1;else if(o=lf(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(fe(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(fe(317));o[Fa]=t}else Bs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;fn(t),o=!1}else Ma!==null&&(jg(Ma),Ma=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ir.current&1?Lr===0&&(Lr=3):Gy())),t.updateQueue!==null&&(t.flags|=4),fn(t),null);case 4:return zs(),gg(e,t),e===null&&Ec(t.stateNode.containerInfo),fn(t),null;case 10:return Oy(t.type._context),fn(t),null;case 17:return In(t.type)&&Jf(),fn(t),null;case 19:if(Zt(ir),o=t.memoizedState,o===null)return fn(t),null;if(n=(t.flags&128)!==0,i=o.rendering,i===null)if(n)Gl(o,!1);else{if(Lr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=id(e),i!==null){for(t.flags|=128,Gl(o,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ut(ir,ir.current&1|2),t.child}e=e.sibling}o.tail!==null&&mr()>Ws&&(t.flags|=128,n=!0,Gl(o,!1),t.lanes=4194304)}else{if(!n)if(e=id(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Gl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!er)return fn(t),null}else 2*mr()-o.renderingStartTime>Ws&&r!==1073741824&&(t.flags|=128,n=!0,Gl(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(r=o.last,r!==null?r.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=mr(),t.sibling=null,r=ir.current,Ut(ir,n?r&1|2:r&1),t):(fn(t),null);case 22:case 23:return Wy(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Yn&1073741824&&(fn(t),t.subtreeFlags&6&&(t.flags|=8192)):fn(t),null;case 24:return null;case 25:return null}throw Error(fe(156,t.tag))}function OM(e,t){switch(jy(t),t.tag){case 1:return In(t.type)&&Jf(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return zs(),Zt(Ln),Zt(mn),Ey(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Cy(t),null;case 13:if(Zt(ir),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(fe(340));Bs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Zt(ir),null;case 4:return zs(),null;case 10:return Oy(t.type._context),null;case 22:case 23:return Wy(),null;case 24:return null;default:return null}}var ff=!1,pn=!1,PM=typeof WeakSet=="function"?WeakSet:Set,xe=null;function ks(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){dr(e,t,n)}else r.current=null}function mg(e,t,r){try{r()}catch(n){dr(e,t,n)}}var ab=!1;function AM(e,t){if(Jp=Yf,e=mj(),wy(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var i=0,s=-1,l=-1,u=0,f=0,d=e,h=null;t:for(;;){for(var p;d!==r||a!==0&&d.nodeType!==3||(s=i+a),d!==o||n!==0&&d.nodeType!==3||(l=i+n),d.nodeType===3&&(i+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===e)break t;if(h===r&&++u===a&&(s=i),h===o&&++f===n&&(l=i),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}r=s===-1||l===-1?null:{start:s,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(eg={focusedElem:e,selectionRange:r},Yf=!1,xe=t;xe!==null;)if(t=xe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,xe=e;else for(;xe!==null;){t=xe;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,b=y.memoizedState,m=t.stateNode,g=m.getSnapshotBeforeUpdate(t.elementType===t.type?v:_a(t.type,v),b);m.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(fe(163))}}catch(j){dr(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,xe=e;break}xe=t.return}return y=ab,ab=!1,y}function hc(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,o!==void 0&&mg(t,r,o)}a=a.next}while(a!==n)}}function Ph(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function yg(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function dS(e){var t=e.alternate;t!==null&&(e.alternate=null,dS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Fa],delete t[$c],delete t[ng],delete t[fM],delete t[dM])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function hS(e){return e.tag===5||e.tag===3||e.tag===4}function ob(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||hS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function vg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Qf));else if(n!==4&&(e=e.child,e!==null))for(vg(e,t,r),e=e.sibling;e!==null;)vg(e,t,r),e=e.sibling}function xg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(xg(e,t,r),e=e.sibling;e!==null;)xg(e,t,r),e=e.sibling}var en=null,Oa=!1;function Ao(e,t,r){for(r=r.child;r!==null;)pS(e,t,r),r=r.sibling}function pS(e,t,r){if(Wa&&typeof Wa.onCommitFiberUnmount=="function")try{Wa.onCommitFiberUnmount(bh,r)}catch{}switch(r.tag){case 5:pn||ks(r,t);case 6:var n=en,a=Oa;en=null,Ao(e,t,r),en=n,Oa=a,en!==null&&(Oa?(e=en,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):en.removeChild(r.stateNode));break;case 18:en!==null&&(Oa?(e=en,r=r.stateNode,e.nodeType===8?U0(e.parentNode,r):e.nodeType===1&&U0(e,r),Ac(e)):U0(en,r.stateNode));break;case 4:n=en,a=Oa,en=r.stateNode.containerInfo,Oa=!0,Ao(e,t,r),en=n,Oa=a;break;case 0:case 11:case 14:case 15:if(!pn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var o=a,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&mg(r,t,i),a=a.next}while(a!==n)}Ao(e,t,r);break;case 1:if(!pn&&(ks(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){dr(r,t,s)}Ao(e,t,r);break;case 21:Ao(e,t,r);break;case 22:r.mode&1?(pn=(n=pn)||r.memoizedState!==null,Ao(e,t,r),pn=n):Ao(e,t,r);break;default:Ao(e,t,r)}}function ib(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new PM),t.forEach(function(n){var a=IM.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Sa(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var o=e,i=t,s=i;e:for(;s!==null;){switch(s.tag){case 5:en=s.stateNode,Oa=!1;break e;case 3:en=s.stateNode.containerInfo,Oa=!0;break e;case 4:en=s.stateNode.containerInfo,Oa=!0;break e}s=s.return}if(en===null)throw Error(fe(160));pS(o,i,a),en=null,Oa=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(u){dr(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)gS(t,e),t=t.sibling}function gS(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Sa(t,e),Ia(e),n&4){try{hc(3,e,e.return),Ph(3,e)}catch(v){dr(e,e.return,v)}try{hc(5,e,e.return)}catch(v){dr(e,e.return,v)}}break;case 1:Sa(t,e),Ia(e),n&512&&r!==null&&ks(r,r.return);break;case 5:if(Sa(t,e),Ia(e),n&512&&r!==null&&ks(r,r.return),e.flags&32){var a=e.stateNode;try{Nc(a,"")}catch(v){dr(e,e.return,v)}}if(n&4&&(a=e.stateNode,a!=null)){var o=e.memoizedProps,i=r!==null?r.memoizedProps:o,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&Lk(a,o),Wp(s,i);var u=Wp(s,o);for(i=0;i<l.length;i+=2){var f=l[i],d=l[i+1];f==="style"?Uk(a,d):f==="dangerouslySetInnerHTML"?Fk(a,d):f==="children"?Nc(a,d):ly(a,f,d,u)}switch(s){case"input":Ip(a,o);break;case"textarea":Ik(a,o);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Os(a,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?Os(a,!!o.multiple,o.defaultValue,!0):Os(a,!!o.multiple,o.multiple?[]:"",!1))}a[$c]=o}catch(v){dr(e,e.return,v)}}break;case 6:if(Sa(t,e),Ia(e),n&4){if(e.stateNode===null)throw Error(fe(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(v){dr(e,e.return,v)}}break;case 3:if(Sa(t,e),Ia(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ac(t.containerInfo)}catch(v){dr(e,e.return,v)}break;case 4:Sa(t,e),Ia(e);break;case 13:Sa(t,e),Ia(e),a=e.child,a.flags&8192&&(o=a.memoizedState!==null,a.stateNode.isHidden=o,!o||a.alternate!==null&&a.alternate.memoizedState!==null||(zy=mr())),n&4&&ib(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?(pn=(u=pn)||f,Sa(t,e),pn=u):Sa(t,e),Ia(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(xe=e,f=e.child;f!==null;){for(d=xe=f;xe!==null;){switch(h=xe,p=h.child,h.tag){case 0:case 11:case 14:case 15:hc(4,h,h.return);break;case 1:ks(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(v){dr(n,r,v)}}break;case 5:ks(h,h.return);break;case 22:if(h.memoizedState!==null){lb(d);continue}}p!==null?(p.return=h,xe=p):lb(d)}f=f.sibling}e:for(f=null,d=e;;){if(d.tag===5){if(f===null){f=d;try{a=d.stateNode,u?(o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=d.stateNode,l=d.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=zk("display",i))}catch(v){dr(e,e.return,v)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(v){dr(e,e.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Sa(t,e),Ia(e),n&4&&ib(e);break;case 21:break;default:Sa(t,e),Ia(e)}}function Ia(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(hS(r)){var n=r;break e}r=r.return}throw Error(fe(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Nc(a,""),n.flags&=-33);var o=ob(e);xg(e,o,a);break;case 3:case 4:var i=n.stateNode.containerInfo,s=ob(e);vg(e,s,i);break;default:throw Error(fe(161))}}catch(l){dr(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function MM(e,t,r){xe=e,mS(e)}function mS(e,t,r){for(var n=(e.mode&1)!==0;xe!==null;){var a=xe,o=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||ff;if(!i){var s=a.alternate,l=s!==null&&s.memoizedState!==null||pn;s=ff;var u=pn;if(ff=i,(pn=l)&&!u)for(xe=a;xe!==null;)i=xe,l=i.child,i.tag===22&&i.memoizedState!==null?cb(a):l!==null?(l.return=i,xe=l):cb(a);for(;o!==null;)xe=o,mS(o),o=o.sibling;xe=a,ff=s,pn=u}sb(e)}else a.subtreeFlags&8772&&o!==null?(o.return=a,xe=o):sb(e)}}function sb(e){for(;xe!==null;){var t=xe;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:pn||Ph(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!pn)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:_a(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Hx(t,o,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Hx(t,i,r)}break;case 5:var s=t.stateNode;if(r===null&&t.flags&4){r=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&Ac(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(fe(163))}pn||t.flags&512&&yg(t)}catch(h){dr(t,t.return,h)}}if(t===e){xe=null;break}if(r=t.sibling,r!==null){r.return=t.return,xe=r;break}xe=t.return}}function lb(e){for(;xe!==null;){var t=xe;if(t===e){xe=null;break}var r=t.sibling;if(r!==null){r.return=t.return,xe=r;break}xe=t.return}}function cb(e){for(;xe!==null;){var t=xe;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ph(4,t)}catch(l){dr(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(l){dr(t,a,l)}}var o=t.return;try{yg(t)}catch(l){dr(t,o,l)}break;case 5:var i=t.return;try{yg(t)}catch(l){dr(t,i,l)}}}catch(l){dr(t,t.return,l)}if(t===e){xe=null;break}var s=t.sibling;if(s!==null){s.return=t.return,xe=s;break}xe=t.return}}var CM=Math.ceil,cd=jo.ReactCurrentDispatcher,By=jo.ReactCurrentOwner,ma=jo.ReactCurrentBatchConfig,ct=0,Vr=null,kr=null,nn=0,Yn=0,js=ri(0),Lr=0,Fc=null,zi=0,Ah=0,Fy=0,pc=null,$n=null,zy=0,Ws=1/0,no=null,ud=!1,bg=null,Ko=null,df=!1,Io=null,fd=0,gc=0,wg=null,Bf=-1,Ff=0;function _n(){return ct&6?mr():Bf!==-1?Bf:Bf=mr()}function Yo(e){return e.mode&1?ct&2&&nn!==0?nn&-nn:pM.transition!==null?(Ff===0&&(Ff=ej()),Ff):(e=_t,e!==0||(e=window.event,e=e===void 0?16:sj(e.type)),e):1}function $a(e,t,r,n){if(50<gc)throw gc=0,wg=null,Error(fe(185));Nu(e,r,n),(!(ct&2)||e!==Vr)&&(e===Vr&&(!(ct&2)&&(Ah|=r),Lr===4&&Do(e,nn)),Bn(e,n),r===1&&ct===0&&!(t.mode&1)&&(Ws=mr()+500,Nh&&ni()))}function Bn(e,t){var r=e.callbackNode;pA(e,t);var n=Kf(e,e===Vr?nn:0);if(n===0)r!==null&&vx(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&vx(r),t===1)e.tag===0?hM(ub.bind(null,e)):_j(ub.bind(null,e)),cM(function(){!(ct&6)&&ni()}),r=null;else{switch(tj(n)){case 1:r=hy;break;case 4:r=Qk;break;case 16:r=Xf;break;case 536870912:r=Jk;break;default:r=Xf}r=SS(r,yS.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function yS(e,t){if(Bf=-1,Ff=0,ct&6)throw Error(fe(327));var r=e.callbackNode;if(Es()&&e.callbackNode!==r)return null;var n=Kf(e,e===Vr?nn:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=dd(e,n);else{t=n;var a=ct;ct|=2;var o=xS();(Vr!==e||nn!==t)&&(no=null,Ws=mr()+500,Ti(e,t));do try{$M();break}catch(s){vS(e,s)}while(!0);_y(),cd.current=o,ct=a,kr!==null?t=0:(Vr=null,nn=0,t=Lr)}if(t!==0){if(t===2&&(a=Kp(e),a!==0&&(n=a,t=kg(e,a))),t===1)throw r=Fc,Ti(e,0),Do(e,n),Bn(e,mr()),r;if(t===6)Do(e,n);else{if(a=e.current.alternate,!(n&30)&&!EM(a)&&(t=dd(e,n),t===2&&(o=Kp(e),o!==0&&(n=o,t=kg(e,o))),t===1))throw r=Fc,Ti(e,0),Do(e,n),Bn(e,mr()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(fe(345));case 2:wi(e,$n,no);break;case 3:if(Do(e,n),(n&130023424)===n&&(t=zy+500-mr(),10<t)){if(Kf(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){_n(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=rg(wi.bind(null,e,$n,no),t);break}wi(e,$n,no);break;case 4:if(Do(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var i=31-Ta(n);o=1<<i,i=t[i],i>a&&(a=i),n&=~o}if(n=a,n=mr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*CM(n/1960))-n,10<n){e.timeoutHandle=rg(wi.bind(null,e,$n,no),n);break}wi(e,$n,no);break;case 5:wi(e,$n,no);break;default:throw Error(fe(329))}}}return Bn(e,mr()),e.callbackNode===r?yS.bind(null,e):null}function kg(e,t){var r=pc;return e.current.memoizedState.isDehydrated&&(Ti(e,t).flags|=256),e=dd(e,t),e!==2&&(t=$n,$n=r,t!==null&&jg(t)),e}function jg(e){$n===null?$n=e:$n.push.apply($n,e)}function EM(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],o=a.getSnapshot;a=a.value;try{if(!Da(o(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Do(e,t){for(t&=~Fy,t&=~Ah,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ta(t),n=1<<r;e[r]=-1,t&=~n}}function ub(e){if(ct&6)throw Error(fe(327));Es();var t=Kf(e,0);if(!(t&1))return Bn(e,mr()),null;var r=dd(e,t);if(e.tag!==0&&r===2){var n=Kp(e);n!==0&&(t=n,r=kg(e,n))}if(r===1)throw r=Fc,Ti(e,0),Do(e,t),Bn(e,mr()),r;if(r===6)throw Error(fe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wi(e,$n,no),Bn(e,mr()),null}function Uy(e,t){var r=ct;ct|=1;try{return e(t)}finally{ct=r,ct===0&&(Ws=mr()+500,Nh&&ni())}}function Ui(e){Io!==null&&Io.tag===0&&!(ct&6)&&Es();var t=ct;ct|=1;var r=ma.transition,n=_t;try{if(ma.transition=null,_t=1,e)return e()}finally{_t=n,ma.transition=r,ct=t,!(ct&6)&&ni()}}function Wy(){Yn=js.current,Zt(js)}function Ti(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,lM(r)),kr!==null)for(r=kr.return;r!==null;){var n=r;switch(jy(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Jf();break;case 3:zs(),Zt(Ln),Zt(mn),Ey();break;case 5:Cy(n);break;case 4:zs();break;case 13:Zt(ir);break;case 19:Zt(ir);break;case 10:Oy(n.type._context);break;case 22:case 23:Wy()}r=r.return}if(Vr=e,kr=e=qo(e.current,null),nn=Yn=t,Lr=0,Fc=null,Fy=Ah=zi=0,$n=pc=null,_i!==null){for(t=0;t<_i.length;t++)if(r=_i[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,o=r.pending;if(o!==null){var i=o.next;o.next=a,n.next=i}r.pending=n}_i=null}return e}function vS(e,t){do{var r=kr;try{if(_y(),Rf.current=ld,sd){for(var n=sr.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}sd=!1}if(Fi=0,Gr=Rr=sr=null,dc=!1,Lc=0,By.current=null,r===null||r.return===null){Lr=1,Fc=t,kr=null;break}e:{var o=e,i=r.return,s=r,l=t;if(t=nn,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,f=s,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=Zx(i);if(p!==null){p.flags&=-257,Qx(p,i,s,o,t),p.mode&1&&qx(o,u,t),t=p,l=u;var y=t.updateQueue;if(y===null){var v=new Set;v.add(l),t.updateQueue=v}else y.add(l);break e}else{if(!(t&1)){qx(o,u,t),Gy();break e}l=Error(fe(426))}}else if(er&&s.mode&1){var b=Zx(i);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Qx(b,i,s,o,t),Sy(Us(l,s));break e}}o=l=Us(l,s),Lr!==4&&(Lr=2),pc===null?pc=[o]:pc.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var m=tS(o,l,t);Gx(o,m);break e;case 1:s=l;var g=o.type,x=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Ko===null||!Ko.has(x)))){o.flags|=65536,t&=-t,o.lanes|=t;var j=rS(o,s,t);Gx(o,j);break e}}o=o.return}while(o!==null)}wS(r)}catch(w){t=w,kr===r&&r!==null&&(kr=r=r.return);continue}break}while(!0)}function xS(){var e=cd.current;return cd.current=ld,e===null?ld:e}function Gy(){(Lr===0||Lr===3||Lr===2)&&(Lr=4),Vr===null||!(zi&268435455)&&!(Ah&268435455)||Do(Vr,nn)}function dd(e,t){var r=ct;ct|=2;var n=xS();(Vr!==e||nn!==t)&&(no=null,Ti(e,t));do try{TM();break}catch(a){vS(e,a)}while(!0);if(_y(),ct=r,cd.current=n,kr!==null)throw Error(fe(261));return Vr=null,nn=0,Lr}function TM(){for(;kr!==null;)bS(kr)}function $M(){for(;kr!==null&&!oA();)bS(kr)}function bS(e){var t=jS(e.alternate,e,Yn);e.memoizedProps=e.pendingProps,t===null?wS(e):kr=t,By.current=null}function wS(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=OM(r,t),r!==null){r.flags&=32767,kr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Lr=6,kr=null;return}}else if(r=_M(r,t,Yn),r!==null){kr=r;return}if(t=t.sibling,t!==null){kr=t;return}kr=t=e}while(t!==null);Lr===0&&(Lr=5)}function wi(e,t,r){var n=_t,a=ma.transition;try{ma.transition=null,_t=1,DM(e,t,r,n)}finally{ma.transition=a,_t=n}return null}function DM(e,t,r,n){do Es();while(Io!==null);if(ct&6)throw Error(fe(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(fe(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(gA(e,o),e===Vr&&(kr=Vr=null,nn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||df||(df=!0,SS(Xf,function(){return Es(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=ma.transition,ma.transition=null;var i=_t;_t=1;var s=ct;ct|=4,By.current=null,AM(e,r),gS(r,e),tM(eg),Yf=!!Jp,eg=Jp=null,e.current=r,MM(r),iA(),ct=s,_t=i,ma.transition=o}else e.current=r;if(df&&(df=!1,Io=e,fd=a),o=e.pendingLanes,o===0&&(Ko=null),cA(r.stateNode),Bn(e,mr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(ud)throw ud=!1,e=bg,bg=null,e;return fd&1&&e.tag!==0&&Es(),o=e.pendingLanes,o&1?e===wg?gc++:(gc=0,wg=e):gc=0,ni(),null}function Es(){if(Io!==null){var e=tj(fd),t=ma.transition,r=_t;try{if(ma.transition=null,_t=16>e?16:e,Io===null)var n=!1;else{if(e=Io,Io=null,fd=0,ct&6)throw Error(fe(331));var a=ct;for(ct|=4,xe=e.current;xe!==null;){var o=xe,i=o.child;if(xe.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(xe=u;xe!==null;){var f=xe;switch(f.tag){case 0:case 11:case 15:hc(8,f,o)}var d=f.child;if(d!==null)d.return=f,xe=d;else for(;xe!==null;){f=xe;var h=f.sibling,p=f.return;if(dS(f),f===u){xe=null;break}if(h!==null){h.return=p,xe=h;break}xe=p}}}var y=o.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}xe=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,xe=i;else e:for(;xe!==null;){if(o=xe,o.flags&2048)switch(o.tag){case 0:case 11:case 15:hc(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,xe=m;break e}xe=o.return}}var g=e.current;for(xe=g;xe!==null;){i=xe;var x=i.child;if(i.subtreeFlags&2064&&x!==null)x.return=i,xe=x;else e:for(i=g;xe!==null;){if(s=xe,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Ph(9,s)}}catch(w){dr(s,s.return,w)}if(s===i){xe=null;break e}var j=s.sibling;if(j!==null){j.return=s.return,xe=j;break e}xe=s.return}}if(ct=a,ni(),Wa&&typeof Wa.onPostCommitFiberRoot=="function")try{Wa.onPostCommitFiberRoot(bh,e)}catch{}n=!0}return n}finally{_t=r,ma.transition=t}}return!1}function fb(e,t,r){t=Us(r,t),t=tS(e,t,1),e=Xo(e,t,1),t=_n(),e!==null&&(Nu(e,1,t),Bn(e,t))}function dr(e,t,r){if(e.tag===3)fb(e,e,r);else for(;t!==null;){if(t.tag===3){fb(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ko===null||!Ko.has(n))){e=Us(r,e),e=rS(t,e,1),t=Xo(t,e,1),e=_n(),t!==null&&(Nu(t,1,e),Bn(t,e));break}}t=t.return}}function RM(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=_n(),e.pingedLanes|=e.suspendedLanes&r,Vr===e&&(nn&r)===r&&(Lr===4||Lr===3&&(nn&130023424)===nn&&500>mr()-zy?Ti(e,0):Fy|=r),Bn(e,t)}function kS(e,t){t===0&&(e.mode&1?(t=tf,tf<<=1,!(tf&130023424)&&(tf=4194304)):t=1);var r=_n();e=vo(e,t),e!==null&&(Nu(e,t,r),Bn(e,r))}function LM(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),kS(e,r)}function IM(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(fe(314))}n!==null&&n.delete(t),kS(e,r)}var jS;jS=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ln.current)Dn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Dn=!1,NM(e,t,r);Dn=!!(e.flags&131072)}else Dn=!1,er&&t.flags&1048576&&Oj(t,rd,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;If(e,t),e=t.pendingProps;var a=Is(t,mn.current);Cs(t,r),a=$y(null,t,n,e,a,r);var o=Dy();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,In(n)?(o=!0,ed(t)):o=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Ay(t),a.updater=Oh,t.stateNode=a,a._reactInternals=t,cg(t,n,e,r),t=dg(null,t,n,!0,o,r)):(t.tag=0,er&&o&&ky(t),Sn(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(If(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=FM(n),e=_a(n,e),a){case 0:t=fg(null,t,n,e,r);break e;case 1:t=tb(null,t,n,e,r);break e;case 11:t=Jx(null,t,n,e,r);break e;case 14:t=eb(null,t,n,_a(n.type,e),r);break e}throw Error(fe(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:_a(n,a),fg(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:_a(n,a),tb(e,t,n,a,r);case 3:e:{if(iS(t),e===null)throw Error(fe(387));n=t.pendingProps,o=t.memoizedState,a=o.element,Tj(e,t),od(t,n,null,r);var i=t.memoizedState;if(n=i.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){a=Us(Error(fe(423)),t),t=rb(e,t,n,r,a);break e}else if(n!==a){a=Us(Error(fe(424)),t),t=rb(e,t,n,r,a);break e}else for(Qn=Vo(t.stateNode.containerInfo.firstChild),Jn=t,er=!0,Ma=null,r=Cj(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Bs(),n===a){t=xo(e,t,r);break e}Sn(e,t,n,r)}t=t.child}return t;case 5:return $j(t),e===null&&ig(t),n=t.type,a=t.pendingProps,o=e!==null?e.memoizedProps:null,i=a.children,tg(n,a)?i=null:o!==null&&tg(n,o)&&(t.flags|=32),oS(e,t),Sn(e,t,i,r),t.child;case 6:return e===null&&ig(t),null;case 13:return sS(e,t,r);case 4:return My(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Fs(t,null,n,r):Sn(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:_a(n,a),Jx(e,t,n,a,r);case 7:return Sn(e,t,t.pendingProps,r),t.child;case 8:return Sn(e,t,t.pendingProps.children,r),t.child;case 12:return Sn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,o=t.memoizedProps,i=a.value,Ut(nd,n._currentValue),n._currentValue=i,o!==null)if(Da(o.value,i)){if(o.children===a.children&&!Ln.current){t=xo(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var s=o.dependencies;if(s!==null){i=o.child;for(var l=s.firstContext;l!==null;){if(l.context===n){if(o.tag===1){l=uo(-1,r&-r),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?l.next=l:(l.next=f.next,f.next=l),u.pending=l}}o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),sg(o.return,r,t),s.lanes|=r;break}l=l.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(fe(341));i.lanes|=r,s=i.alternate,s!==null&&(s.lanes|=r),sg(i,r,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}Sn(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Cs(t,r),a=va(a),n=n(a),t.flags|=1,Sn(e,t,n,r),t.child;case 14:return n=t.type,a=_a(n,t.pendingProps),a=_a(n.type,a),eb(e,t,n,a,r);case 15:return nS(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:_a(n,a),If(e,t),t.tag=1,In(n)?(e=!0,ed(t)):e=!1,Cs(t,r),eS(t,n,a),cg(t,n,a,r),dg(null,t,n,!0,e,r);case 19:return lS(e,t,r);case 22:return aS(e,t,r)}throw Error(fe(156,t.tag))};function SS(e,t){return Zk(e,t)}function BM(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ha(e,t,r,n){return new BM(e,t,r,n)}function Hy(e){return e=e.prototype,!(!e||!e.isReactComponent)}function FM(e){if(typeof e=="function")return Hy(e)?1:0;if(e!=null){if(e=e.$$typeof,e===uy)return 11;if(e===fy)return 14}return 2}function qo(e,t){var r=e.alternate;return r===null?(r=ha(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function zf(e,t,r,n,a,o){var i=2;if(n=e,typeof e=="function")Hy(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case hs:return $i(r.children,a,o,t);case cy:i=8,a|=8;break;case Tp:return e=ha(12,r,t,a|2),e.elementType=Tp,e.lanes=o,e;case $p:return e=ha(13,r,t,a),e.elementType=$p,e.lanes=o,e;case Dp:return e=ha(19,r,t,a),e.elementType=Dp,e.lanes=o,e;case $k:return Mh(r,a,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ek:i=10;break e;case Tk:i=9;break e;case uy:i=11;break e;case fy:i=14;break e;case Co:i=16,n=null;break e}throw Error(fe(130,e==null?e:typeof e,""))}return t=ha(i,r,t,a),t.elementType=e,t.type=n,t.lanes=o,t}function $i(e,t,r,n){return e=ha(7,e,n,t),e.lanes=r,e}function Mh(e,t,r,n){return e=ha(22,e,n,t),e.elementType=$k,e.lanes=r,e.stateNode={isHidden:!1},e}function q0(e,t,r){return e=ha(6,e,null,t),e.lanes=r,e}function Z0(e,t,r){return t=ha(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zM(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=C0(0),this.expirationTimes=C0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=C0(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Vy(e,t,r,n,a,o,i,s,l){return e=new zM(e,t,r,s,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=ha(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ay(o),e}function UM(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ds,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function NS(e){if(!e)return ei;e=e._reactInternals;e:{if(Zi(e)!==e||e.tag!==1)throw Error(fe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(In(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(fe(171))}if(e.tag===1){var r=e.type;if(In(r))return Nj(e,r,t)}return t}function _S(e,t,r,n,a,o,i,s,l){return e=Vy(r,n,!0,e,a,o,i,s,l),e.context=NS(null),r=e.current,n=_n(),a=Yo(r),o=uo(n,a),o.callback=t??null,Xo(r,o,a),e.current.lanes=a,Nu(e,a,n),Bn(e,n),e}function Ch(e,t,r,n){var a=t.current,o=_n(),i=Yo(a);return r=NS(r),t.context===null?t.context=r:t.pendingContext=r,t=uo(o,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Xo(a,t,i),e!==null&&($a(e,a,i,o),Df(e,a,i)),i}function hd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function db(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Xy(e,t){db(e,t),(e=e.alternate)&&db(e,t)}function WM(){return null}var OS=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ky(e){this._internalRoot=e}Eh.prototype.render=Ky.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(fe(409));Ch(e,t,null,null)};Eh.prototype.unmount=Ky.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ui(function(){Ch(null,e,null,null)}),t[yo]=null}};function Eh(e){this._internalRoot=e}Eh.prototype.unstable_scheduleHydration=function(e){if(e){var t=aj();e={blockedOn:null,target:e,priority:t};for(var r=0;r<$o.length&&t!==0&&t<$o[r].priority;r++);$o.splice(r,0,e),r===0&&ij(e)}};function Yy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Th(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function hb(){}function GM(e,t,r,n,a){if(a){if(typeof n=="function"){var o=n;n=function(){var u=hd(i);o.call(u)}}var i=_S(t,n,e,0,null,!1,!1,"",hb);return e._reactRootContainer=i,e[yo]=i.current,Ec(e.nodeType===8?e.parentNode:e),Ui(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var s=n;n=function(){var u=hd(l);s.call(u)}}var l=Vy(e,0,!1,null,null,!1,!1,"",hb);return e._reactRootContainer=l,e[yo]=l.current,Ec(e.nodeType===8?e.parentNode:e),Ui(function(){Ch(t,l,r,n)}),l}function $h(e,t,r,n,a){var o=r._reactRootContainer;if(o){var i=o;if(typeof a=="function"){var s=a;a=function(){var l=hd(i);s.call(l)}}Ch(t,i,e,a)}else i=GM(r,t,e,a,n);return hd(i)}rj=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ac(t.pendingLanes);r!==0&&(py(t,r|1),Bn(t,mr()),!(ct&6)&&(Ws=mr()+500,ni()))}break;case 13:Ui(function(){var n=vo(e,1);if(n!==null){var a=_n();$a(n,e,1,a)}}),Xy(e,1)}};gy=function(e){if(e.tag===13){var t=vo(e,134217728);if(t!==null){var r=_n();$a(t,e,134217728,r)}Xy(e,134217728)}};nj=function(e){if(e.tag===13){var t=Yo(e),r=vo(e,t);if(r!==null){var n=_n();$a(r,e,t,n)}Xy(e,t)}};aj=function(){return _t};oj=function(e,t){var r=_t;try{return _t=e,t()}finally{_t=r}};Hp=function(e,t,r){switch(t){case"input":if(Ip(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Sh(n);if(!a)throw Error(fe(90));Rk(n),Ip(n,a)}}}break;case"textarea":Ik(e,r);break;case"select":t=r.value,t!=null&&Os(e,!!r.multiple,t,!1)}};Hk=Uy;Vk=Ui;var HM={usingClientEntryPoint:!1,Events:[Ou,ys,Sh,Wk,Gk,Uy]},Hl={findFiberByHostInstance:Ni,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},VM={bundleType:Hl.bundleType,version:Hl.version,rendererPackageName:Hl.rendererPackageName,rendererConfig:Hl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:jo.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Yk(e),e===null?null:e.stateNode},findFiberByHostInstance:Hl.findFiberByHostInstance||WM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hf.isDisabled&&hf.supportsFiber)try{bh=hf.inject(VM),Wa=hf}catch{}}ta.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HM;ta.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yy(t))throw Error(fe(200));return UM(e,t,null,r)};ta.createRoot=function(e,t){if(!Yy(e))throw Error(fe(299));var r=!1,n="",a=OS;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Vy(e,1,!1,null,null,r,!1,n,a),e[yo]=t.current,Ec(e.nodeType===8?e.parentNode:e),new Ky(t)};ta.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(fe(188)):(e=Object.keys(e).join(","),Error(fe(268,e)));return e=Yk(t),e=e===null?null:e.stateNode,e};ta.flushSync=function(e){return Ui(e)};ta.hydrate=function(e,t,r){if(!Th(t))throw Error(fe(200));return $h(null,e,t,!0,r)};ta.hydrateRoot=function(e,t,r){if(!Yy(e))throw Error(fe(405));var n=r!=null&&r.hydratedSources||null,a=!1,o="",i=OS;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=_S(t,null,e,1,r??null,a,!1,o,i),e[yo]=t.current,Ec(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Eh(t)};ta.render=function(e,t,r){if(!Th(t))throw Error(fe(200));return $h(null,e,t,!1,r)};ta.unmountComponentAtNode=function(e){if(!Th(e))throw Error(fe(40));return e._reactRootContainer?(Ui(function(){$h(null,null,e,!1,function(){e._reactRootContainer=null,e[yo]=null})}),!0):!1};ta.unstable_batchedUpdates=Uy;ta.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Th(r))throw Error(fe(200));if(e==null||e._reactInternals===void 0)throw Error(fe(38));return $h(e,t,r,!1,n)};ta.version="18.3.1-next-f1338f8080-20240426";function PS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(PS)}catch(e){console.error(e)}}PS(),Pk.exports=ta;var XM=Pk.exports,pb=XM;Cp.createRoot=pb.createRoot,Cp.hydrateRoot=pb.hydrateRoot;const Zo=({isOpen:e,onClose:t,onConfirm:r,title:n,message:a,confirmText:o="I know the risk and insist to continue",cancelText:i="Cancel"})=>e?c.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:c.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-md rounded-2xl shadow-2xl border border-amber-500/30 overflow-hidden transform transition-all scale-100",children:[c.jsxs("div",{className:"bg-amber-500/10 p-6 flex flex-col items-center justify-center border-b border-amber-500/20",children:[c.jsx("div",{className:"w-16 h-16 bg-amber-100 dark:bg-amber-900/30 rounded-full flex items-center justify-center mb-4",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-amber-600 dark:text-amber-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),c.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white text-center",children:n})]}),c.jsx("div",{className:"p-6",children:c.jsx("div",{className:"text-gray-600 dark:text-slate-300 text-center text-sm leading-relaxed",children:a})}),c.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-800/50 flex gap-3 justify-end border-t border-gray-200 dark:border-slate-800",children:[c.jsx("button",{onClick:t,className:"px-4 py-2 bg-white hover:bg-gray-100 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-700 dark:text-slate-200 font-semibold rounded-lg border border-gray-300 dark:border-slate-600 transition-colors text-sm",children:i}),c.jsx("button",{onClick:r,className:"px-4 py-2 bg-amber-600 hover:bg-amber-700 text-white font-bold rounded-lg shadow-lg shadow-amber-500/20 transition-all active:scale-95 text-sm",children:o})]})]})}):null,KM=({onFileSelected:e,onGenerateFakeDng:t,fileName:r,hasGeneratedData:n,viewMode:a,onSetViewMode:o,patternPeriod:i,onPatternPeriodChange:s,fillFactor:l,onFillFactorChange:u,patternPhase:f,onPatternPhaseChange:d,showPatternControls:h,onOpenAbout:p,onShowExif:y,bridgeStatus:v,onBridgeClick:b,isDrLabOpen:m,onToggleDrLab:g,isColorLabOpen:x,onToggleColorLab:j,isFftLabOpen:w,onToggleFftLab:k,isSfrLabOpen:N,onToggleSfrLab:_,onGenerateTestPic:O,onPTCFilesSelected:A,onDownloadDng:M,isThreePlane:C,onOpenDatabase:R})=>{const z=S.useRef(null),T=S.useRef(null),[G,P]=S.useState(!1),[E,$]=S.useState(!1),[U,te]=S.useState(!1),[K,L]=S.useState(!1),[ee,Z]=S.useState("direct"),D=S.useRef(null),ae=S.useRef(null);S.useEffect(()=>{const ie=se=>{D.current&&!D.current.contains(se.target)&&te(!1),ae.current&&!ae.current.contains(se.target)&&L(!1)};return document.addEventListener("mousedown",ie),()=>document.removeEventListener("mousedown",ie)},[]);const ce=ie=>{var se;te(!1),ie==="direct"?(Z("direct"),P(!0)):!v.isConnected||!v.hasDngConverter?$(!0):(Z("convert"),(se=z.current)==null||se.click())},Y=()=>{var ie;P(!1),(ie=z.current)==null||ie.click()},le=ie=>{var ke;const se=(ke=ie.target.files)==null?void 0:ke[0];se&&e(se,ee),ie.target.value=""},ge=ie=>{ie.target.files&&ie.target.files.length>0&&A(ie.target.files),ie.target.value=""},H=r==="pattern_test.dng"||(r==null?void 0:r.startsWith("Diff_"));return c.jsxs("header",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 mb-4 flex-shrink-0 relative z-50 font-mono",children:[c.jsx(Zo,{isOpen:G,onClose:()=>P(!1),onConfirm:Y,title:"Format Compatibility Warning",confirmText:"Continue",message:c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsx("p",{className:"font-bold text-gray-800 dark:text-gray-200 text-base",children:"Adobe DNG ConverterDNG"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Only 4-channel DNG files output by Adobe DNG Converter are fully guaranteed to be supported."}),c.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 border border-gray-400 dark:border-slate-600",children:[c.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-500 mb-1",children:"Download Adobe DNG Converter:"}),c.jsx("a",{href:"https://helpx.adobe.com/camera-raw/using/adobe-dng-converter.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline text-xs break-all",children:"https://helpx.adobe.com/camera-raw/using/adobe-dng-converter.html"})]})]})}),c.jsx(Zo,{isOpen:E,onClose:()=>$(!1),onConfirm:()=>$(!1),title:"DNG Converter Missing",confirmText:"OK",cancelText:"Cancel",message:c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsx("p",{className:"font-bold text-red-600 dark:text-red-400 text-base",children:"JiangBridge Offline or Adobe DNG Converter not installed (you may have to restart your device after installing ADC to use it here)"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"To use the conversion feature, you must run JiangBridge locally and have Adobe DNG Converter installed on your system."}),c.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 border border-gray-400 dark:border-slate-600",children:[c.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-500 mb-1",children:"Download Adobe DNG Converter:"}),c.jsx("a",{href:"https://helpx.adobe.com/camera-raw/using/adobe-dng-converter.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline text-xs break-all",children:"https://helpx.adobe.com/camera-raw/using/adobe-dng-converter.html"})]})]})}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-black dark:text-white text-center sm:text-left tracking-tight border-2 border-black dark:border-white px-2 py-1 bg-white dark:bg-black",children:"Jiangtherapee_Online"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400 hidden lg:block max-w-xs truncate font-bold",title:r||"No image loaded",children:r||"No_Image_Loaded"}),C&&c.jsx("span",{className:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400 border-2 border-red-500 dark:border-red-800 text-[10px] font-bold px-2 py-1 animate-pulse",children:" 3-PLANE / RGB MODE"})]}),c.jsxs("div",{className:"flex items-center gap-4 flex-wrap justify-end",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("button",{onClick:v.isConnected?void 0:b,className:`px-3 py-1.5 text-xs font-bold transition-all duration-200 flex items-center gap-1.5 shadow-[2px_2px_0px_black] border-2 border-black dark:border-gray-500 ${v.isConnected?"bg-emerald-100 text-emerald-900 border-emerald-800 dark:bg-emerald-900/30 dark:text-emerald-400 dark:border-emerald-600 cursor-default":"bg-pink-100 text-pink-900 border-pink-800 dark:bg-pink-900/30 dark:text-pink-400 dark:border-pink-600 hover:bg-pink-200 dark:hover:bg-pink-900/50 cursor-pointer animate-pulse"}`,title:v.isConnected?"Local Bridge Service Connected":"Click to download Jiangbridge",children:[c.jsx("span",{className:`w-2 h-2 ${v.isConnected?"bg-emerald-600":"bg-pink-600"}`}),v.isConnected?`JiangBridge Ready ${v.hasDngConverter?"DNG+":""}`:"JiangBridge Offline"]}),m&&c.jsxs("button",{onClick:g,className:"px-3 py-1.5 text-xs font-bold transition-all duration-200 flex items-center gap-1.5 shadow-[2px_2px_0px_black] border-2 border-indigo-800 bg-indigo-100 text-indigo-900 dark:bg-indigo-900/30 dark:text-indigo-400 dark:border-indigo-600 hover:bg-indigo-200 dark:hover:bg-indigo-900/50 cursor-pointer animate-in fade-in",title:"Click to turn off DR Lab",children:[c.jsx("span",{className:"w-2 h-2 bg-indigo-600 animate-pulse"}),"DR Lab On"]}),x&&c.jsxs("button",{onClick:j,className:"px-3 py-1.5 text-xs font-bold transition-all duration-200 flex items-center gap-1.5 shadow-[2px_2px_0px_black] border-2 border-yellow-800 bg-yellow-100 text-yellow-900 dark:bg-yellow-900/30 dark:text-yellow-400 dark:border-yellow-600 hover:bg-yellow-200 dark:hover:bg-yellow-900/50 cursor-pointer animate-in fade-in",title:"Click to turn off Color Lab",children:[c.jsx("span",{className:"w-2 h-2 bg-yellow-500 animate-pulse"}),"Color Lab On"]}),w&&c.jsxs("button",{onClick:k,className:"px-3 py-1.5 text-xs font-bold transition-all duration-200 flex items-center gap-1.5 shadow-[2px_2px_0px_black] border-2 border-fuchsia-800 bg-fuchsia-100 text-fuchsia-900 dark:bg-fuchsia-900/30 dark:text-fuchsia-400 dark:border-fuchsia-600 hover:bg-fuchsia-200 dark:hover:bg-fuchsia-900/50 cursor-pointer animate-in fade-in",title:"Click to turn off FFT Lab",children:[c.jsx("span",{className:"w-2 h-2 bg-fuchsia-600 animate-pulse"}),"FFT Lab On"]}),N&&c.jsxs("button",{onClick:_,className:"px-3 py-1.5 text-xs font-bold transition-all duration-200 flex items-center gap-1.5 shadow-[2px_2px_0px_black] border-2 border-orange-800 bg-orange-100 text-orange-900 dark:bg-orange-900/30 dark:text-orange-400 dark:border-orange-600 hover:bg-orange-200 dark:hover:bg-orange-900/50 cursor-pointer animate-in fade-in",title:"Click to turn off SFR Lab",children:[c.jsx("span",{className:"w-2 h-2 bg-orange-600 animate-pulse"}),"SFR Lab On"]}),n&&c.jsxs("div",{className:"flex bg-gray-200 dark:bg-slate-800 p-1 border-2 border-black dark:border-gray-500 shadow-inner transition-colors duration-300 gap-1",children:[c.jsx("button",{onClick:()=>o("reference"),className:`px-3 py-1.5 text-xs sm:text-sm font-bold transition-all duration-200 border-2 ${a==="reference"?"bg-green-600 text-white border-black":"bg-gray-100 text-black border-transparent hover:bg-gray-300"}`,title:"The perfect uniform input",children:"Perfect"}),c.jsx("button",{onClick:()=>o("sampled"),className:`px-3 py-1.5 text-xs sm:text-sm font-bold transition-all duration-200 border-2 ${a==="sampled"?"bg-blue-600 text-white border-black":"bg-gray-100 text-black border-transparent hover:bg-gray-300"}`,title:"Sampled Sensor View with Aperture Visualization",children:"Sampled (Sensor)"}),c.jsx("button",{onClick:()=>o("processed"),className:`px-3 py-1.5 text-xs sm:text-sm font-bold transition-all duration-200 border-2 ${a==="processed"?"bg-purple-600 text-white border-black":"bg-gray-100 text-black border-transparent hover:bg-gray-300"}`,title:"Demosaiced Result",children:"Result"})]})]}),H&&c.jsxs("div",{className:"flex items-center gap-2 animate-in fade-in slide-in-from-right-4 duration-300",children:[h&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex flex-col items-end mr-1 bg-gray-100 dark:bg-slate-800/50 p-1.5 border border-gray-400 dark:border-slate-600 transition-colors duration-300",children:[c.jsx("span",{className:"text-[10px] text-gray-600 dark:text-slate-400 font-mono uppercase tracking-wider mb-1",children:"Density (Period)"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"range",min:"0.1",max:"10",step:"0.1",value:i,onChange:ie=>s(parseFloat(ie.target.value)),className:"w-20 h-2 bg-gray-300 dark:bg-slate-700 appearance-none cursor-pointer accent-purple-500 border border-black",title:"Adjust the period of the line pairs in pixels"}),c.jsx("div",{className:"relative",children:c.jsx("input",{type:"number",min:"0.1",max:"100",step:"0.01",value:i,onChange:ie=>{const se=parseFloat(ie.target.value);isNaN(se)||s(se)},className:"w-16 bg-white dark:bg-slate-900 border border-gray-400 dark:border-slate-600 px-1 py-0.5 text-xs font-mono text-purple-700 dark:text-purple-300 text-right focus:outline-none focus:border-purple-500 focus:ring-1 focus:ring-purple-500 transition-colors duration-300"})})]})]}),c.jsxs("div",{className:"flex flex-col items-end mr-1 bg-gray-100 dark:bg-slate-800/50 p-1.5 border border-gray-400 dark:border-slate-600 transition-colors duration-300",children:[c.jsx("span",{className:"text-[10px] text-gray-600 dark:text-slate-400 font-mono uppercase tracking-wider mb-1",children:"Phase"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:f,onChange:ie=>d(parseFloat(ie.target.value)),className:"w-20 h-2 bg-gray-300 dark:bg-slate-700 appearance-none cursor-pointer accent-pink-500 border border-black",title:"Shift pattern phase (0-1 cycle)"}),c.jsx("div",{className:"relative",children:c.jsx("input",{type:"number",min:"0",max:"1",step:"0.01",value:f,onChange:ie=>{const se=parseFloat(ie.target.value);isNaN(se)||d(se)},className:"w-12 bg-white dark:bg-slate-900 border border-gray-400 dark:border-slate-600 px-1 py-0.5 text-xs font-mono text-pink-700 dark:text-pink-300 text-right focus:outline-none focus:border-pink-500 focus:ring-1 focus:ring-pink-500 transition-colors duration-300"})})]})]}),c.jsxs("div",{className:"flex flex-col items-end mr-1 bg-gray-100 dark:bg-slate-800/50 p-1.5 border border-gray-400 dark:border-slate-600 transition-colors duration-300",children:[c.jsx("span",{className:"text-[10px] text-gray-600 dark:text-slate-400 font-mono uppercase tracking-wider mb-1",children:"Fill Factor"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"range",min:"1",max:"100",step:"1",value:l*100,onChange:ie=>u(parseInt(ie.target.value)/100),className:"w-20 h-2 bg-gray-300 dark:bg-slate-700 appearance-none cursor-pointer accent-green-500 border border-black",title:"Adjust pixel aperture fill factor %"}),c.jsxs("div",{className:"relative flex items-center",children:[c.jsx("input",{type:"number",min:"1",max:"100",step:"1",value:Math.round(l*100),onChange:ie=>{const se=parseInt(ie.target.value);isNaN(se)||u(Math.min(100,Math.max(1,se))/100)},className:"w-12 bg-white dark:bg-slate-900 border border-gray-400 dark:border-slate-600 px-1 py-0.5 text-xs font-mono text-green-700 dark:text-green-300 text-right focus:outline-none focus:border-green-500 focus:ring-1 focus:ring-green-500 transition-colors duration-300"}),c.jsx("span",{className:"ml-1 text-[10px] text-gray-500 dark:text-slate-500 font-mono",children:"%"})]})]})]})]}),c.jsxs("button",{onClick:M,className:`flex flex-col items-center justify-center p-2 transition-colors group border-2 border-black dark:border-gray-500 shadow-[2px_2px_0px_black] active:translate-x-[2px] active:translate-y-[2px] active:shadow-none ${r!=null&&r.startsWith("Diff_")?"bg-fuchsia-100 hover:bg-fuchsia-200 dark:bg-fuchsia-900/40 dark:hover:bg-fuchsia-900/60":"bg-gray-100 hover:bg-gray-200 dark:bg-slate-800 dark:hover:bg-slate-700"}`,title:r!=null&&r.startsWith("Diff_")?"Export Subtracted Frame as DNG":"Download Synthetic DNG",children:[c.jsx("svg",{className:`w-5 h-5 ${r!=null&&r.startsWith("Diff_")?"text-fuchsia-600 group-hover:text-fuchsia-800":"text-gray-600 dark:text-slate-400 group-hover:text-black dark:group-hover:text-white"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),c.jsx("span",{className:"text-[8px] font-bold uppercase mt-0.5 opacity-70",children:"DNG"})]})]}),c.jsx("input",{type:"file",ref:z,onChange:le,className:"hidden",accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff"}),c.jsx("input",{type:"file",ref:T,onChange:ge,className:"hidden",multiple:!0,accept:".csv"}),c.jsxs("div",{className:"relative inline-block text-left",ref:ae,children:[c.jsxs("button",{onClick:()=>L(!K),className:"bg-purple-700 hover:bg-purple-600 text-white font-bold py-2 px-4 border-2 border-black dark:border-white shadow-[4px_4px_0px_black] dark:shadow-[4px_4px_0px_gray] active:translate-x-[2px] active:translate-y-[2px] active:shadow-[2px_2px_0px_black] transition-all duration-100 text-sm whitespace-nowrap flex items-center gap-2",children:["TEST Tools",c.jsx("svg",{className:`w-4 h-4 transition-transform duration-200 ${K?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),K&&c.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white dark:bg-slate-800 shadow-[8px_8px_0px_rgba(0,0,0,0.5)] ring-1 ring-black ring-opacity-5 focus:outline-none z-50 overflow-hidden origin-top-right transition-all animate-in fade-in slide-in-from-top-2 border-2 border-black dark:border-gray-500",children:c.jsxs("div",{className:"py-1",children:[c.jsxs("button",{onClick:()=>{L(!1),t()},className:"w-full text-left px-4 py-3 text-sm text-gray-800 dark:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors flex items-center gap-2 border-b border-gray-300 dark:border-gray-600",children:[c.jsx("svg",{className:"w-4 h-4 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),c.jsx("span",{children:"Generate Pattern DNG"})]}),c.jsxs("button",{onClick:()=>{L(!1),m||g(),w&&k(),x&&j&&j(),N&&_&&_()},className:`w-full text-left px-4 py-3 text-sm transition-colors flex items-center gap-2 border-b border-gray-300 dark:border-gray-600 ${m?"bg-indigo-100 dark:bg-indigo-900/40 text-indigo-800 dark:text-indigo-300 font-bold":"text-gray-800 dark:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700"}`,children:[c.jsx("svg",{className:"w-4 h-4 text-indigo-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.384-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})}),c.jsxs("span",{children:["DR Lab ",m?"(On)":""]})]}),c.jsxs("button",{onClick:()=>{L(!1),j&&!x&&j(),m&&g(),w&&k(),N&&_&&_()},className:`w-full text-left px-4 py-3 text-sm transition-colors flex items-center gap-2 border-b border-gray-300 dark:border-gray-600 ${x?"bg-yellow-100 dark:bg-yellow-900/40 text-yellow-800 dark:text-yellow-300 font-bold":"text-gray-800 dark:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700"}`,children:[c.jsx("svg",{className:"w-4 h-4 text-yellow-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"})}),c.jsxs("span",{children:["Color Lab ",x?"(On)":""]})]}),c.jsxs("button",{onClick:()=>{L(!1),_&&!N&&_(),m&&g(),w&&k(),x&&j&&j()},className:`w-full text-left px-4 py-3 text-sm transition-colors flex items-center gap-2 border-b border-gray-300 dark:border-gray-600 ${N?"bg-orange-100 dark:bg-orange-900/40 text-orange-800 dark:text-orange-300 font-bold":"text-gray-800 dark:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700"}`,children:[c.jsx("svg",{className:"w-4 h-4 text-orange-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),c.jsxs("span",{children:["SFR Lab ",N?"(On)":""]})]}),c.jsxs("button",{onClick:()=>{L(!1),w||k(),m&&g(),x&&j&&j(),N&&_&&_()},className:`w-full text-left px-4 py-3 text-sm transition-colors flex items-center gap-2 border-b border-gray-300 dark:border-gray-600 ${w?"bg-fuchsia-100 dark:bg-fuchsia-900/40 text-fuchsia-800 dark:text-fuchsia-300 font-bold":"text-gray-800 dark:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700"}`,children:[c.jsx("svg",{className:"w-4 h-4 text-fuchsia-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),c.jsxs("span",{children:["FFT Lab ",w?"(On)":""]})]}),c.jsxs("button",{onClick:()=>{var ie;L(!1),(ie=T.current)==null||ie.click()},className:"w-full text-left px-4 py-3 text-sm text-gray-800 dark:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors flex items-center gap-2",children:[c.jsx("svg",{className:"w-4 h-4 text-emerald-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"})}),c.jsx("span",{children:"Generate PTC & TargetSNR"})]})]})})]}),c.jsxs("div",{className:"relative inline-block text-left",ref:D,children:[c.jsxs("button",{onClick:()=>te(!U),className:"bg-cyan-700 hover:bg-cyan-600 text-white font-bold py-2 px-4 border-2 border-black dark:border-white shadow-[4px_4px_0px_black] dark:shadow-[4px_4px_0px_gray] active:translate-x-[2px] active:translate-y-[2px] active:shadow-[2px_2px_0px_black] transition-all duration-100 text-sm whitespace-nowrap flex items-center gap-2",children:["Load Image",c.jsx("svg",{className:`w-4 h-4 transition-transform duration-200 ${U?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),U&&c.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white dark:bg-slate-800 shadow-[8px_8px_0px_rgba(0,0,0,0.5)] ring-1 ring-black ring-opacity-5 focus:outline-none z-50 overflow-hidden origin-top-right transition-all animate-in fade-in slide-in-from-top-2 border-2 border-black dark:border-gray-500",children:c.jsxs("div",{className:"py-1",children:[c.jsxs("button",{onClick:()=>ce("direct"),className:"w-full text-left px-4 py-3 text-sm text-gray-800 dark:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors flex items-center gap-2 border-b border-gray-300 dark:border-gray-600",children:[c.jsx("svg",{className:"w-4 h-4 text-cyan-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),c.jsx("span",{children:"Load Image (Direct)"})]}),c.jsxs("button",{onClick:()=>ce("convert"),className:"w-full text-left px-4 py-3 text-sm text-gray-800 dark:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors flex items-center gap-2",children:[c.jsx("svg",{className:"w-4 h-4 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.384-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})}),c.jsx("span",{children:"Convert to Adobe DNG & Load"})]})]})})]}),r&&y&&c.jsxs("button",{onClick:y,className:"bg-orange-600 hover:bg-orange-500 text-white font-bold py-2 px-4 border-2 border-black dark:border-white shadow-[4px_4px_0px_black] dark:shadow-[4px_4px_0px_gray] active:translate-x-[2px] active:translate-y-[2px] active:shadow-[2px_2px_0px_black] transition-all duration-100 text-sm whitespace-nowrap flex items-center gap-1",title:"View EXIF Data",children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"EXIF"]}),c.jsx("button",{onClick:p,className:"bg-teal-700 hover:bg-teal-600 text-white font-bold py-2 px-4 border-2 border-black dark:border-white shadow-[4px_4px_0px_black] dark:shadow-[4px_4px_0px_gray] active:translate-x-[2px] active:translate-y-[2px] active:shadow-[2px_2px_0px_black] transition-all duration-100 text-sm whitespace-nowrap",children:"About/Tutorial/Tools"}),c.jsx("a",{href:"https://y-g-jiang.github.io/index.html",target:"_blank",rel:"noopener noreferrer",className:"bg-gray-300 hover:bg-gray-200 dark:bg-slate-700 dark:hover:bg-slate-600 text-black dark:text-white font-bold py-2 px-4 border-2 border-black dark:border-white shadow-[4px_4px_0px_black] dark:shadow-[4px_4px_0px_gray] active:translate-x-[2px] active:translate-y-[2px] active:shadow-[2px_2px_0px_black] transition-all duration-100 text-sm no-underline",children:"Home"})]})]})},YM=({image:e,zoom:t,pan:r,onPanChange:n,onZoomChange:a,onSelectionChange:o,forcedSelection:i,theme:s,touchAction:l="pan",isMarking:u=!1,onPointClick:f,markers:d=[],gridRects:h=[],colorLabPoints:p=[],colorLabRects:y=[]})=>{var ee;const v=S.useRef(null),b=S.useRef(document.createElement("canvas")),[m,g]=S.useState(!1),[x,j]=S.useState({x:0,y:0}),w=S.useRef(null),k=S.useRef(null),N=S.useRef(null),[_,O]=S.useState(!1),[A,M]=S.useState(null),[C,R]=S.useState(null);S.useEffect(()=>{i!==void 0&&R(i)},[i]);const z=S.useCallback(()=>{const Z=v.current,D=Z==null?void 0:Z.getContext("2d");return{canvas:Z,ctx:D}},[]);S.useEffect(()=>{const Z=b.current,D=Z.getContext("2d");if(!e||!D)return;let ae=0,ce=0;e instanceof ImageData?(ae=e.width,ce=e.height):e instanceof HTMLImageElement&&(ae=e.naturalWidth,ce=e.naturalHeight),!(ae===0||ce===0)&&((Z.width!==ae||Z.height!==ce)&&(Z.width=ae,Z.height=ce),e instanceof ImageData?D.putImageData(e,0,0):(D.clearRect(0,0,ae,ce),D.drawImage(e,0,0)))},[e]);const T=S.useCallback(()=>{const{canvas:Z,ctx:D}=z();if(!(!Z||!D||!e)){if(D.setTransform(1,0,0,1,0,0),D.fillStyle=s==="dark"?"rgb(15, 23, 42)":"rgb(243, 244, 246)",D.fillRect(0,0,Z.width,Z.height),D.setTransform(t,0,0,t,r.x,r.y),b.current.width>0&&(D.imageSmoothingEnabled=!1,D.drawImage(b.current,0,0)),C){D.strokeStyle="#06b6d4",D.lineWidth=1/t,D.fillStyle="rgba(6, 182, 212, 0.2)",D.beginPath(),D.rect(C.x,C.y,C.w,C.h),D.fill(),D.stroke(),D.save(),D.fillStyle="#fff";const ae=Math.max(10,14/t);D.font=`${ae}px monospace`,D.shadowColor="rgba(0,0,0,0.8)",D.shadowBlur=4,D.shadowOffsetX=1,D.shadowOffsetY=1,D.fillText(`${Math.round(C.w)}x${Math.round(C.h)}`,C.x,C.y-5/t),D.restore()}if(h&&h.length>0){D.save(),D.strokeStyle="#f59e0b",D.lineWidth=1/t,D.globalAlpha=.8,D.beginPath(),h.forEach(Y=>{D.rect(Y.x,Y.y,Y.w,Y.h)}),D.stroke();const ae=h[0];D.fillStyle="#f59e0b";const ce=Math.max(10,12/t);D.font=`${ce}px monospace`,D.fillText(`${ae.w}x${ae.h}`,ae.x,ae.y-4/t),D.restore()}if(d&&d.length>0){D.save();const ae=6/t,ce=Math.max(12,16/t);D.font=`bold ${ce}px sans-serif`,D.textAlign="center",D.textBaseline="middle",d.forEach((Y,le)=>{D.beginPath(),D.arc(Y.x,Y.y,ae,0,2*Math.PI),D.fillStyle="white",D.fill(),D.strokeStyle="#4338ca",D.lineWidth=2/t,D.stroke(),D.fillStyle="#4338ca",D.fillText((le+1).toString(),Y.x,Y.y-12/t)}),D.restore()}if(p&&p.length>0){D.save();const ae=5/t,ce=Math.max(10,14/t);D.font=`bold ${ce}px sans-serif`,D.textAlign="center",D.textBaseline="middle",p.forEach((Y,le)=>{D.fillStyle="yellow",D.fillRect(Y.x-ae,Y.y-ae,ae*2,ae*2),D.strokeStyle="black",D.lineWidth=1/t,D.strokeRect(Y.x-ae,Y.y-ae,ae*2,ae*2),D.fillStyle="yellow",D.shadowColor="black",D.shadowBlur=2,D.fillText((le+1).toString(),Y.x,Y.y-10/t)}),D.restore()}if(y&&y.length>0){if(D.save(),D.strokeStyle="yellow",D.lineWidth=1/t,D.globalAlpha=.9,D.beginPath(),y.forEach(ae=>{D.rect(ae.x,ae.y,ae.w,ae.h)}),D.stroke(),y[0]){const ae=y[0];D.fillStyle="yellow",D.shadowColor="black",D.shadowBlur=3;const ce=Math.max(10,12/t);D.font=`${ce}px monospace`,D.fillText(`${Math.round(ae.w)}x${Math.round(ae.h)}`,ae.x,ae.y-4/t)}D.restore()}}},[z,e,t,r,s,C,d,h,p,y]);S.useEffect(()=>{const{canvas:Z}=z();if(!Z)return;const D=new ResizeObserver(()=>{Z.width=Z.clientWidth,Z.height=Z.clientHeight,T()});return D.observe(Z),()=>D.disconnect()},[z,T]),S.useEffect(()=>{T()},[T,e,r,t,s,C,d,h,p,y]);const G=Z=>{const{canvas:D}=z();if(!D)return{x:0,y:0};const ae=D.getBoundingClientRect();return{x:Z.clientX-ae.left,y:Z.clientY-ae.top}},P=(Z,D)=>({x:(Z-r.x)/t,y:(D-r.y)/t}),E=Z=>{Z.preventDefault();const D=G(Z);if(u){const ae=P(D.x,D.y);f&&f(ae);return}if(Z.shiftKey||l==="select"){O(!0);const ae=P(D.x,D.y),ce={x:Math.floor(ae.x),y:Math.floor(ae.y)};M(ce),R(null),o&&o(null)}else g(!0),j({x:D.x-r.x,y:D.y-r.y})},$=Z=>{const D=G(Z);if(_&&A){const ae=P(D.x,D.y),ce=Math.floor(ae.x),Y=Math.floor(ae.y),le=Math.min(A.x,ce),ge=Math.min(A.y,Y),H=Math.max(A.x,ce),ie=Math.max(A.y,Y),se=H-le+1,ke=ie-ge+1;R({x:le,y:ge,w:se,h:ke})}else m&&n({x:D.x-x.x,y:D.y-x.y})},U=()=>{_&&(O(!1),C&&o&&C.w>0&&C.h>0&&o(C)),g(!1)},te=Z=>{var D;if(Z.touches.length===1){const ae=Z.touches[0],ce=(D=v.current)==null?void 0:D.getBoundingClientRect();if(!ce)return;const Y=ae.clientX-ce.left,le=ae.clientY-ce.top;if(u){const ge=P(Y,le);f&&f(ge);return}if(l==="select"){const ge=P(Y,le),H={x:Math.floor(ge.x),y:Math.floor(ge.y)};M(H),O(!0),R(null),o&&o(null)}else N.current={x:Y,y:le},j({x:Y-r.x,y:le-r.y}),g(!0)}else if(Z.touches.length===2){const ae=Math.hypot(Z.touches[0].clientX-Z.touches[1].clientX,Z.touches[0].clientY-Z.touches[1].clientY);w.current=ae,k.current=t,g(!1),O(!1)}},K=Z=>{var D;if(Z.touches.length===1){const ae=Z.touches[0],ce=(D=v.current)==null?void 0:D.getBoundingClientRect();if(!ce)return;const Y=ae.clientX-ce.left,le=ae.clientY-ce.top;if(u)return;if(_&&A){const ge=P(Y,le),H=Math.floor(ge.x),ie=Math.floor(ge.y),se=Math.min(A.x,H),ke=Math.min(A.y,ie),Be=Math.max(A.x,H),Re=Math.max(A.y,ie),wt=Be-se+1,Pt=Re-ke+1;R({x:se,y:ke,w:wt,h:Pt})}else m&&n({x:Y-x.x,y:le-x.y})}else if(Z.touches.length===2&&w.current&&k.current&&a){const ce=Math.hypot(Z.touches[0].clientX-Z.touches[1].clientX,Z.touches[0].clientY-Z.touches[1].clientY)/w.current;a(k.current*ce)}},L=()=>{_&&(O(!1),C&&o&&C.w>0&&C.h>0&&o(C)),g(!1),w.current=null,k.current=null,N.current=null};return c.jsx("canvas",{ref:v,className:`w-full h-full block touch-none ${u||_||(ee=window.event)!=null&&ee.shiftKey||l==="select"?"cursor-crosshair":"cursor-grab active:cursor-grabbing"}`,onMouseDown:E,onMouseMove:$,onMouseUp:U,onMouseLeave:U,onTouchStart:te,onTouchMove:K,onTouchEnd:L,onTouchCancel:L,tabIndex:0})},ss=({title:e,children:t})=>c.jsxs("div",{className:"border-b border-gray-200 dark:border-slate-700 transition-colors duration-300",children:[c.jsx("div",{className:"p-4 font-semibold text-gray-800 dark:text-slate-200 bg-gray-50 dark:bg-slate-800/30 border-b border-gray-200 dark:border-slate-800 select-none cursor-default transition-colors duration-300",children:c.jsx("span",{children:e})}),c.jsx("div",{className:"p-4 bg-white dark:bg-slate-900/50 transition-colors duration-300",children:t})]}),qM=[{value:-1,label:"Raw Bayer (Grayscale)"},{value:0,label:"Linear interpolation"},{value:1,label:"VNG (Variable Number of Gradients)"},{value:2,label:"PPG (Patterned Pixel Grouping)"},{value:3,label:"AHD (Adaptive Homogeneity-Directed)"},{value:4,label:"DCB (Demosaicing with Color Back-refinement)"},{value:11,label:"DHT (Modified AHD)"},{value:12,label:"AAHD (Adaptive AHD)"}],pf=({checked:e,onChange:t,label:r})=>c.jsxs("div",{className:"flex items-center justify-between py-2 cursor-pointer group",onClick:()=>t(!e),children:[c.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-slate-300 select-none group-hover:text-gray-900 dark:group-hover:text-slate-200 transition-colors",children:r}),c.jsx("div",{className:`relative w-11 h-6 rounded-full transition-colors duration-200 ease-in-out ${e?"bg-cyan-500 dark:bg-cyan-600":"bg-gray-300 dark:bg-slate-600 group-hover:bg-gray-400 dark:group-hover:bg-slate-500"}`,children:c.jsx("div",{className:`absolute left-1 top-1 bg-white w-4 h-4 rounded-full shadow-md transform transition-transform duration-200 ease-in-out ${e?"translate-x-5":"translate-x-0"}`})})]}),gb=(e,t)=>{if(!e)return null;if(t){const r=e.bayerPattern.toUpperCase(),n=l=>{const u=[];for(let f=0;f<4;f++)r[f]===l&&u.push(f);return u},a=t.BlackLevelRed,o=t.BlackLevelGreen,i=t.BlackLevelBlue;if(a!==void 0&&o!==void 0&&i!==void 0){const l=parseFloat(a),u=parseFloat(o),f=parseFloat(i);if(!isNaN(l)&&!isNaN(u)&&!isNaN(f)){const d=[0,0,0,0];return d.fill(u),n("R").forEach(h=>d[h]=l),n("G").forEach(h=>d[h]=u),n("B").forEach(h=>f),d}}let s=t.BlackLevel;if(s===void 0&&(s=t.BlackLevel2),s!==void 0){let l=[];if(Array.isArray(s)?l=s.map(Number):typeof s=="string"?l=s.trim().split(/\s+/).map(Number):typeof s=="number"&&(l=[s,s,s,s]),l.length===1&&!isNaN(l[0])&&(l=[l[0],l[0],l[0],l[0]]),l.length>=4&&!l.slice(0,4).some(isNaN))return[l[0],l[1],l[2],l[3]]}}return e.blackLevels&&e.blackLevels.length===4?[e.blackLevels[0],e.blackLevels[1],e.blackLevels[2],e.blackLevels[3]]:null},ZM=e=>{const{rawImageData:t,displaySettings:r,onApplyDisplaySettings:n,onSetSelection:a,exifData:o,isBridgeConnected:i,isDrLabOpen:s,drMarkingStep:l,onStartMarking:u,onGenerateTestPic:f,drRoiSize:d,onDrRoiSizeChange:h,drGridRows:p,onDrGridRowsChange:y,drGridCols:v,onDrGridColsChange:b,onBatchDrLab:m,hasDrMarkers:g,isFftLabOpen:x,onProcessPair:j,onProcessBatchDiff:w,onProcessStackFft:k,onOpenCrossCalc:N,isThreePlane:_,onToggleXTrans:O,xtransPhase:A,onXTransPhaseChange:M,isXTransConverted:C,onCommand:R,isColorLabOpen:z,colorLabMarkingStep:T,onStartColorLabMarking:G,isSfrLabOpen:P,roiStats:E}=e,$=!!t,U=!!(t!=null&&t.isXTrans),te=!!O,[K,L]=S.useState(r.exposure.toString()),[ee,Z]=S.useState(""),[D,ae]=S.useState("0 0 0 0"),[ce,Y]=S.useState("1.0"),[le,ge]=S.useState("1.0"),[H,ie]=S.useState(r.demosaicMethod),[se,ke]=S.useState(!!r.showKadc),[Be,Re]=S.useState(!!r.subtractBlackLevelFromStats),[wt,Pt]=S.useState("64"),[De,He]=S.useState(!1),[kt,Ct]=S.useState(!1),[Wt,Nr]=S.useState("0 0 0 0"),[_r,rr]=S.useState("2840 6303 3935 6303"),[Qt,Or]=S.useState("780 1720 1101 1720"),[Gt,Pr]=S.useState(!1),[lt,Fe]=S.useState(!1),[ut,Lt]=S.useState(!1),[cr,Kr]=S.useState("single"),An=S.useRef(null),Ht=S.useRef(null),Vt=S.useRef(null),it=S.useRef(null),[Et,Yr]=S.useState(null),[vr,Ar]=S.useState(null),[Mn,na]=S.useState(!1),[Gn,Cn]=S.useState(!0),yn=S.useRef(null),qr=S.useRef(null);S.useEffect(()=>{if(L(r.exposure.toString()),r.customMatrix?(Z(r.customMatrix.join(" ")),He(!0)):Z(""),r.blackLevel&&r.blackLevel.length===4)ae(r.blackLevel.join(" "));else{const V=gb(t,o);ae(V?V.join(" "):"0 0 0 0")}Y(r.wbGains?r.wbGains[0].toString():"1.0"),ge(r.wbGains?r.wbGains[1].toString():"1.0"),ie(r.demosaicMethod),ke(!!r.showKadc),Re(!!r.subtractBlackLevelFromStats),r.advancedZeroDep&&(Nr(r.advancedZeroDep.bl.join(" ")),rr(r.advancedZeroDep.bg.join(" ")),Or(r.advancedZeroDep.fg.join(" ")),Ct(!0))},[r,t,o]);const aa=V=>L(V),nr=V=>Y(V),At=V=>ge(V),Tt=V=>ie(parseInt(V.target.value,10)),oe=V=>Z(V.target.value),Pe=()=>{L("0"),ie(3),Y("1.0"),ge("1.0"),ke(!0),Re(!0),Z(""),He(!1),Ct(!1);const V=gb(t,o);ae(V?V.join(" "):"0 0 0 0")},Le=()=>{!t||!a||(a({x:0,y:0,w:t.width,h:t.height}),R==null||R("sel full"))},Ze=()=>{if(!t||!a)return;const V=parseInt(wt,10);if(isNaN(V)||V<=0)return;const Se=Math.min(V,t.width),nt=Math.min(V,t.height),Mr=Math.floor((t.width-Se)/2),Cr=Math.floor((t.height-nt)/2);a({x:Mr,y:Cr,w:Se,h:nt}),R==null||R(`sel center ${V}`)},Ke=()=>{const Se=D.split(/[\s,]+/).filter(nt=>nt.trim()!=="").map(Number);if(Se.length===1&&!isNaN(Se[0]))return[Se[0],Se[0],Se[0],Se[0]];if(Se.length>=4&&!Se.slice(0,4).some(isNaN))return[Se[0],Se[1],Se[2],Se[3]]},yt=V=>{const Se=V.trim().split(/[\s,]+/).map(Number);return Se.length===4&&!Se.some(isNaN)?Se:Se.length===1&&!isNaN(Se[0])?[Se[0],Se[0],Se[0],Se[0]]:null},ur=()=>{R&&(K!=="0"&&R(`ev ${K}`),(ce!=="1.0"||le!=="1.0")&&R(`wb ${ce} ${le}`),D!=="0 0 0 0"&&R(`bl ${D}`),H!==3&&R(`demo ${H}`),ee.trim().length>0&&R(`matrix ${ee.replace(/\s+/g," ")}`),R("render"));const V={...r},Se=parseFloat(K);isNaN(Se)||(V.exposure=Se);const nt=parseFloat(ce),Mr=parseFloat(le);if(!isNaN(nt)&&!isNaN(Mr)&&(V.wbGains=[nt,Mr]),V.demosaicMethod=H,V.renderMode="standard",De){const Cr=Ke();Cr&&(V.blackLevel=Cr);const Qr=ee.trim().replace(/[\s,\n]+/g," ");if(Qr){const Er=Qr.split(" ").map(Number);Er.length===9&&!Er.some(isNaN)?V.customMatrix=Er:alert("Invalid matrix format. Please ensure exactly 9 numeric values (3x3).")}else delete V.customMatrix;V.showKadc=se,V.subtractBlackLevelFromStats=Be}else delete V.customMatrix,delete V.blackLevel,delete V.showKadc,delete V.subtractBlackLevelFromStats;n(V)},fr=()=>{Fe(!0)},Ae=V=>{R&&(K!=="0"&&R(`ev ${K}`),(ce!=="1.0"||le!=="1.0")&&R(`wb ${ce} ${le}`),D!=="0 0 0 0"&&R(`bl ${D}`),R(V==="bilinear"?"render zero color":"render zero"));const Se={...r},nt=Ke();nt&&(Se.blackLevel=nt);const Mr=parseFloat(ce),Cr=parseFloat(le);!isNaN(Mr)&&!isNaN(Cr)&&(Se.wbGains=[Mr,Cr]);const Qr=parseFloat(K);if(isNaN(Qr)||(Se.exposure=Qr),V==="bilinear"){const Er=ee.trim().replace(/[\s,\n]+/g," ");if(Er){const Vn=Er.split(" ").map(Number);Vn.length===9&&!Vn.some(isNaN)&&(Se.customMatrix=Vn)}}Se.renderMode=V==="mosaic"?"zero-dependency":"zero-dep-color",Fe(!1),n(Se)},qe=()=>{const V=yt(Wt),Se=yt(_r),nt=yt(Qt);if(!V||!Se||!nt){alert("Please enter valid 4-channel numbers for BL, BG, and FG.");return}R&&(K!=="0"&&R(`ev ${K}`),R(`render unmix ${V.join(" ")} ${Se.join(" ")} ${nt.join(" ")}`));const Mr={...r,renderMode:"advanced-zero-dep",advancedZeroDep:{bl:V,bg:Se,fg:nt}};n(Mr)},ft=()=>{if(E){const V=E.means,Se=[V[0],V[1],V[3],V[2]].map(nt=>nt.toFixed(1));rr(Se.join(" "))}else alert("Please select an ROI on the image first.")},dt=()=>{if(E){const V=E.means,Se=[V[0],V[1],V[3],V[2]].map(nt=>nt.toFixed(1));Or(Se.join(" "))}else alert("Please select an ROI on the image first.")},It=V=>{V.target.files&&V.target.files.length>0&&m&&(m(V.target.files,cr),R==null||R(`drlab batch ${cr}`)),V.target.value="",Lt(!1)},me=async V=>{var nt;const Se=(nt=V.target.files)==null?void 0:nt[0];if(Se){try{const Cr=(await Se.text()).split(`
`),Qr=[];Qr.push("#BlackLevel: 0,0,0,0"),Qr.push("#ImageHeight: 0"),Qr.push("Row,Col,R_Mean,G1_Mean,G2_Mean,B_Mean,R_Std,G1_Std,G2_Std,B_Std");let Er=1;for(let di=0;di<Cr.length;di++){const Ja=Cr[di].trim();if(!Ja||Ja.includes("R_mean")||Ja.includes("R_std"))continue;const xr=Ja.split(/\s+/).map(Number);if(xr.length<8||xr.some(isNaN))continue;const pt=[Er,1,xr[0],xr[2],xr[6],xr[4],xr[1],xr[3],xr[7],xr[5]].join(",");Qr.push(pt),Er++}const Vn=new Blob([Qr.join(`
`)],{type:"text/csv"}),ns=URL.createObjectURL(Vn),xn=document.createElement("a");xn.href=ns,xn.download=Se.name.replace(/\.[^/.]+$/,"")+"_converted.csv",document.body.appendChild(xn),xn.click(),document.body.removeChild(xn),URL.revokeObjectURL(ns)}catch(Mr){console.error("Conversion failed",Mr),alert("Failed to convert file.")}V.target.value=""}},Zr=V=>{V.target.files&&V.target.files[0]&&(Yr(V.target.files[0]),R==null||R("fft load a"))},ui=V=>{V.target.files&&V.target.files[0]&&(Ar(V.target.files[0]),R==null||R("fft load b"))},vn=()=>{Et&&vr&&j&&(j(Et,vr,Mn,Gn),R==null||R("fft run"))},oa=V=>{V.target.files&&V.target.files.length>0&&w&&(w(V.target.files),R==null||R("fft batch")),V.target.value=""},Hn=V=>{V.target.files&&V.target.files.length>0&&k&&(k(V.target.files),R==null||R("fft stack")),V.target.value=""},fi=!!C;return c.jsxs("div",{className:"flex flex-col h-full bg-white dark:bg-black",children:[c.jsxs("div",{className:"flex-grow overflow-y-auto",children:[_&&c.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-3 border-b border-red-100 dark:border-red-800 text-center animate-pulse",children:[c.jsx("p",{className:"text-xs font-bold text-red-600 dark:text-red-400 uppercase tracking-wide",children:" 3-Plane / Full Color"}),c.jsx("p",{className:"text-[10px] text-red-500/80 dark:text-red-300/70 mt-1",children:"Demosaic disabled. Stats analysis treated as pseudo-Bayer."})]}),U&&!C&&c.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 p-3 border-b border-amber-100 dark:border-amber-800 text-center",children:[c.jsx("p",{className:"text-xs font-bold text-amber-600 dark:text-amber-400 uppercase tracking-wide",children:" X-Trans Native (Unsupported)"}),c.jsx("p",{className:"text-[10px] text-amber-600/80 dark:text-amber-300/70 mt-1 text-left leading-tight px-1",children:"Currently reading raw 6x6 pattern as Bayer. Stats will be incorrect. Please enable Pseudo-Bayer conversion below."})]}),C&&c.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 p-3 border-b border-emerald-100 dark:border-emerald-800 text-center",children:[c.jsx("p",{className:"text-xs font-bold text-emerald-600 dark:text-emerald-400 uppercase tracking-wide",children:" X-Trans Pseudo-Bayer"}),c.jsx("p",{className:"text-[10px] text-emerald-600/80 dark:text-emerald-300/70 mt-1 text-left leading-tight px-1",children:"Converted 6x6  2x2 RGGB (Subsampled). Demosaic & Analysis fully supported."})]}),P&&c.jsx(ss,{title:"SFR Lab Tools (Scalar Unmixing)",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 p-3 rounded border border-orange-200 dark:border-orange-800",children:[c.jsx("h4",{className:"text-[10px] font-bold text-orange-600 dark:text-orange-400 uppercase mb-2",children:"Analyze ROI"}),c.jsx("p",{className:"text-[10px] text-gray-500 dark:text-slate-400 mb-2",children:"Select an edge on the main canvas and click analyze. Use the pop-up modal to view ESF/LSF/MTF."}),c.jsx("div",{className:"text-center text-xs font-bold text-orange-500",children:"(ROI Analysis Window is Active)"})]}),c.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 w-full"}),c.jsx(pf,{checked:kt,onChange:Ct,label:" (Scalar Unmixing)"}),kt&&c.jsxs("div",{className:"space-y-4 pl-2 border-l-2 border-indigo-200 dark:border-indigo-900 animate-in slide-in-from-top-2 duration-200",children:[c.jsxs("div",{className:"grid grid-cols-5 gap-1 items-center text-[9px] uppercase font-bold text-gray-400 mb-[-8px]",children:[c.jsx("div",{className:"col-span-1",children:"Param"}),c.jsx("div",{className:"text-center",children:"Ch0(R)"}),c.jsx("div",{className:"text-center",children:"Ch1(G1)"}),c.jsx("div",{className:"text-center",children:"Ch2(B)"}),c.jsx("div",{className:"text-center",children:"Ch3(G2)"})]}),c.jsxs("div",{className:"grid grid-cols-5 gap-2 items-center",children:[c.jsx("span",{className:"text-[10px] font-bold text-red-500",children:"BL:"}),c.jsx("input",{type:"text",value:Wt,onChange:V=>Nr(V.target.value),className:"col-span-4 px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded text-xs font-mono text-gray-900 dark:text-slate-100"})]}),c.jsxs("div",{className:"grid grid-cols-5 gap-2 items-center",children:[c.jsx("span",{className:"text-[10px] font-bold text-indigo-500",children:"B ():"}),c.jsxs("div",{className:"col-span-4 flex gap-1",children:[c.jsx("input",{type:"text",value:_r,onChange:V=>rr(V.target.value),className:"flex-1 px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded text-xs font-mono text-gray-900 dark:text-slate-100"}),c.jsx("button",{onClick:ft,className:"px-2 bg-gray-200 dark:bg-slate-700 hover:bg-gray-300 dark:hover:bg-slate-600 text-[9px] rounded font-bold transition-colors",title:"Fill with current ROI mean stats (Raw DN)",children:"Pick"})]})]}),c.jsxs("div",{className:"grid grid-cols-5 gap-2 items-center",children:[c.jsx("span",{className:"text-[10px] font-bold text-emerald-500",children:"F ():"}),c.jsxs("div",{className:"col-span-4 flex gap-1",children:[c.jsx("input",{type:"text",value:Qt,onChange:V=>Or(V.target.value),className:"flex-1 px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded text-xs font-mono text-gray-900 dark:text-slate-100"}),c.jsx("button",{onClick:dt,className:"px-2 bg-gray-200 dark:bg-slate-700 hover:bg-gray-300 dark:hover:bg-slate-600 text-[9px] rounded font-bold transition-colors",title:"Fill with current ROI mean stats (Raw DN)",children:"Pick"})]})]}),c.jsx("button",{onClick:qe,disabled:!$,className:"w-full bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-2 rounded text-[10px] shadow transition-transform active:scale-95",children:"RUN UNMIXING (ADV ZERO-DEP)"}),c.jsx("p",{className:"text-[9px] text-gray-400 italic text-center",children:" + sRGB Gamma "})]})]})}),x&&c.jsx(ss,{title:"FFT Lab (Noise Profile)",children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"space-y-3 bg-gray-50 dark:bg-slate-800/40 p-3 rounded-xl border border-gray-100 dark:border-slate-800",children:[c.jsxs("h4",{className:"text-[10px] font-bold text-fuchsia-600 dark:text-fuchsia-400 uppercase tracking-widest flex items-center gap-2",children:[c.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-fuchsia-500"})," 1. Pair Difference (Sub)"]}),c.jsxs("div",{className:"flex flex-col gap-2",children:[c.jsx("input",{type:"file",ref:An,className:"hidden",onChange:Zr,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff"}),c.jsx("button",{onClick:()=>{var V;return(V=An.current)==null?void 0:V.click()},className:`w-full py-2 px-3 rounded-lg border text-[10px] font-bold text-left truncate transition-colors ${Et?"bg-fuchsia-55 dark:bg-fuchsia-900/20 border-fuchsia-300 dark:border-fuchsia-800 text-fuchsia-700 dark:text-fuchsia-300":"bg-white dark:bg-slate-800 border-gray-300 dark:border-slate-600 text-gray-500 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:Et?`A: ${Et.name}`:"Load Image A"}),c.jsx("input",{type:"file",ref:Ht,className:"hidden",onChange:ui,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff"}),c.jsx("button",{onClick:()=>{var V;return(V=Ht.current)==null?void 0:V.click()},className:`w-full py-2 px-3 rounded-lg border text-[10px] font-bold text-left truncate transition-colors ${vr?"bg-fuchsia-55 dark:bg-fuchsia-900/20 border-fuchsia-300 dark:border-fuchsia-800 text-fuchsia-700 dark:text-fuchsia-300":"bg-white dark:bg-slate-800 border-gray-300 dark:border-slate-600 text-gray-500 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:vr?`B: ${vr.name}`:"Load Image B"})]}),c.jsx("div",{className:"flex flex-col gap-1.5 pt-1",children:c.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:Gn,onChange:V=>Cn(V.target.checked),className:"w-3 h-3 text-fuchsia-600 border-gray-300 rounded focus:ring-0"}),c.jsx("span",{className:"text-[10px] text-gray-600 dark:text-slate-300",children:"Normalize (2)"})]})}),c.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[c.jsx("button",{onClick:vn,disabled:!Et||!vr,className:"w-full bg-fuchsia-600 hover:bg-fuchsia-500 disabled:opacity-30 text-white font-bold py-2 rounded shadow transition-all active:scale-95 text-[10px]",children:"Generate Diff & Load"}),c.jsx("input",{type:"file",ref:Vt,className:"hidden",multiple:!0,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff",onChange:oa}),c.jsx("button",{onClick:()=>{var V;return(V=Vt.current)==null?void 0:V.click()},className:"w-full bg-slate-700 hover:bg-slate-600 text-white font-bold py-2 rounded shadow transition-all active:scale-95 text-[10px] flex items-center justify-center gap-1",children:"Batch Diffs (Auto Download)"})]})]}),c.jsxs("div",{className:"space-y-3 bg-gray-50 dark:bg-slate-800/40 p-3 rounded-xl border border-gray-100 dark:border-slate-800",children:[c.jsxs("h4",{className:"text-[10px] font-bold text-cyan-600 dark:text-cyan-400 uppercase tracking-widest flex items-center gap-2",children:[c.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-cyan-500"})," 2. Stack FFT (Avg PSD)"]}),c.jsxs("div",{className:"flex flex-col gap-2",children:[c.jsx("input",{type:"file",ref:it,className:"hidden",multiple:!0,onChange:Hn,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff"}),c.jsx("button",{onClick:()=>{var V;return(V=it.current)==null?void 0:V.click()},className:"w-full py-3 bg-cyan-600 hover:bg-cyan-500 text-white font-bold rounded-lg shadow-md transition-all active:scale-95 text-[10px] flex items-center justify-center gap-2",children:"Select Sequence Files"})]})]}),c.jsx("div",{className:"flex flex-col gap-2 pt-2",children:c.jsx("button",{onClick:()=>{N==null||N(),R==null||R("crosscalc")},className:"w-full bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-2 px-4 rounded-lg shadow-md transition-all active:scale-95 text-[10px] flex items-center justify-center gap-2",children:"Cross-Compensation Calc"})})]})}),s&&c.jsx(ss,{title:"DR Lab Tools",children:c.jsxs("div",{className:"space-y-4",children:[c.jsx("button",{onClick:()=>{f==null||f(),R==null||R("gen test")},className:"w-full bg-amber-500 hover:bg-amber-600 text-white font-bold py-2 px-4 rounded-lg shadow-md transition-colors text-sm",children:"Generate Test Pic"}),c.jsxs("div",{className:"border-t border-gray-200 dark:border-slate-700 pt-3",children:[c.jsx("h4",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide mb-2",children:"Grid Analysis"}),h&&d!==void 0&&c.jsx("div",{className:"flex items-center justify-between mb-3",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-sm text-gray-600 dark:text-slate-300",children:"Box Size:"}),c.jsx("input",{type:"number",min:"8",max:"512",step:"2",value:d,onChange:V=>h(parseInt(V.target.value)||64),className:"w-12 px-1 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-sm text-gray-900 dark:text-slate-100 text-center"}),c.jsx("span",{className:"text-xs text-gray-400",children:"px"})]})}),y&&b&&p!==void 0&&v!==void 0&&c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("span",{className:"text-sm text-gray-600 dark:text-slate-300",children:"Layout:"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"number",min:"1",max:"50",value:p,onChange:V=>y(Math.max(1,parseInt(V.target.value)||1)),className:"w-10 px-1 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md outline-none text-sm text-center",title:"Rows"}),c.jsx("span",{className:"text-xs text-gray-400",children:"x"}),c.jsx("input",{type:"number",min:"1",max:"50",value:v,onChange:V=>b(Math.max(1,parseInt(V.target.value)||1)),className:"w-10 px-1 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md outline-none text-sm text-center",title:"Columns"})]})]}),c.jsxs("div",{className:"flex flex-col gap-2",children:[c.jsx("button",{onClick:()=>{u==null||u(),R==null||R("mark")},disabled:!$||l!==void 0&&l>0,className:`w-full font-bold py-2 px-4 rounded-lg shadow-md transition-all text-sm ${$?l&&l>0?"bg-indigo-100 dark:bg-indigo-900 text-indigo-700 dark:text-indigo-300 border-2 border-indigo-500":"bg-indigo-600 hover:bg-indigo-700 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:l&&l>0?"Marking Active...":"Mark Corners"}),m&&c.jsxs(c.Fragment,{children:[c.jsx("input",{type:"file",ref:yn,className:"hidden",multiple:!0,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff",onChange:It}),c.jsxs("div",{className:"relative",children:[c.jsx("button",{onClick:()=>Lt(!ut),disabled:!g,className:"w-full font-bold py-2 px-4 rounded-lg shadow-md transition-all text-sm bg-emerald-600 hover:bg-emerald-700 disabled:bg-gray-300 disabled:text-gray-500 disabled:cursor-not-allowed text-white flex items-center justify-center gap-2",children:"Reuse Last & Batch"}),ut&&c.jsxs("div",{className:"absolute bottom-full left-0 w-full mb-1 bg-white dark:bg-slate-800 rounded-lg shadow-xl border border-gray-200 dark:border-slate-700 overflow-hidden z-20 flex flex-col animate-in fade-in zoom-in-95 duration-100",children:[c.jsx("button",{className:"px-4 py-2 text-left text-xs hover:bg-gray-100 dark:hover:bg-slate-700 text-gray-700 dark:text-slate-200 border-b border-gray-100 dark:border-slate-700",onClick:()=>{var V;Kr("single"),(V=yn.current)==null||V.click()},children:"1. Independent Frames"}),c.jsx("button",{className:"px-4 py-2 text-left text-xs hover:bg-gray-100 dark:hover:bg-slate-700 text-indigo-600 dark:text-indigo-400 font-bold",onClick:()=>{var V;Kr("pair"),(V=yn.current)==null||V.click()},children:"2. Pair Difference (A-B)"})]})]})]}),c.jsxs("div",{className:"pt-2 mt-2 border-t border-gray-100 dark:border-slate-800",children:[c.jsx("input",{type:"file",ref:qr,className:"hidden",accept:".txt",onChange:me}),c.jsx("button",{onClick:()=>{var V;return(V=qr.current)==null?void 0:V.click()},className:"w-full font-bold py-2 px-4 rounded-lg shadow-sm transition-all text-xs bg-slate-100 hover:bg-slate-200 dark:bg-slate-800 dark:hover:bg-slate-700 text-gray-600 dark:text-slate-300 flex items-center justify-center gap-2 border border-gray-300 dark:border-slate-600",children:"Convert Format (.txt  .csv)"})]})]}),l!==void 0&&l>0&&c.jsx("div",{className:"mt-2 text-center",children:c.jsxs("p",{className:"text-xs text-indigo-600 dark:text-indigo-400 font-bold animate-pulse",children:[l===1&&"Click Top-Left Center",l===2&&"Click Top-Right Center",l===3&&"Click Bottom-Left Center",l===4&&"Click Bottom-Right Center"]})})]})]})}),z&&c.jsx(ss,{title:"Color Lab Tools",children:c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"text-sm text-gray-600 dark:text-slate-300 mb-2",children:"Calibrate colors using a standard ColorChecker 24 chart."}),c.jsx("button",{onClick:()=>{G==null||G(),R==null||R("cl mark")},disabled:!$||T!==void 0&&T>0,className:`w-full font-bold py-2 px-4 rounded-lg shadow-md transition-all text-sm ${$?T&&T>0?"bg-yellow-100 dark:bg-yellow-900 text-yellow-700 dark:text-yellow-300 border-2 border-yellow-500":"bg-yellow-600 hover:bg-yellow-700 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:T&&T>0?"Marking Active...":"Mark 24-Patch Chart"}),T!==void 0&&T>0&&c.jsx("div",{className:"mt-2 text-center",children:c.jsxs("p",{className:"text-xs text-yellow-600 dark:text-yellow-400 font-bold animate-pulse",children:[T===1&&"Click Top-Left (Brown)",T===2&&"Click Top-Right (Cyanish)",T===3&&"Click Bottom-Left (White)",T===4&&"Click Bottom-Right (Black)"]})})]})}),c.jsx(ss,{title:"Selection Tools",children:c.jsx("div",{className:"space-y-3",children:c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2",children:"Quick Select or Shift+drag"}),c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx("span",{className:"text-sm text-gray-600 dark:text-slate-300",children:"Size (px):"}),c.jsx("input",{type:"number",min:"1",value:wt,onChange:V=>Pt(V.target.value),disabled:!$,className:"flex-1 px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-sm text-gray-900 dark:text-slate-100 transition-colors"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[c.jsx("button",{onClick:Ze,disabled:!$,className:"px-3 py-1.5 bg-gray-200 hover:bg-gray-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-800 dark:text-slate-200 text-xs font-semibold rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Center Rect"}),c.jsx("button",{onClick:Le,disabled:!$,className:"px-3 py-1.5 bg-gray-200 hover:bg-gray-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-800 dark:text-slate-200 text-xs font-semibold rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Full Image"})]})]})})}),c.jsx(ss,{title:"Display Controls",children:c.jsxs("div",{className:"space-y-5",children:[c.jsxs("p",{className:"text-gray-500 dark:text-slate-400 text-center text-sm",children:["Adjust parameters and click ",c.jsx("b",{children:"Apply"}),"."]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"exposure",className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2",children:"Exposure (EV)"}),c.jsx("div",{className:"flex items-center gap-2 mb-2",children:c.jsx("input",{type:"range",min:"-5",max:"5",step:"0.1",disabled:!$,value:parseFloat(K)||0,onChange:V=>aa(V.target.value),className:"w-full h-2 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-cyan-500 disabled:opacity-50"})}),c.jsx("div",{className:"flex items-center gap-2",children:c.jsx("input",{id:"exposure",type:"number",step:"0.1",value:K,onChange:V=>aa(V.target.value),disabled:!$,className:"w-full px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-sm text-gray-900 dark:text-slate-100 transition-colors duration-300"})})]}),c.jsxs("div",{children:[c.jsxs("label",{htmlFor:"demosaic",className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2 flex justify-between",children:[c.jsx("span",{children:"Demosaic Method"}),(_||(t==null?void 0:t.isXTrans))&&c.jsx("span",{className:"text-[9px] text-red-500 font-bold bg-red-100 dark:bg-red-900/30 px-1 rounded",children:"DISABLED"})]}),c.jsx("select",{id:"demosaic",value:H,onChange:Tt,disabled:!$||_||(t==null?void 0:t.isXTrans),className:"w-full px-2 py-2 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none transition-colors disabled:bg-gray-100 dark:disabled:bg-slate-800/50 disabled:cursor-not-allowed text-sm text-gray-900 dark:text-slate-100",children:qM.map(V=>c.jsx("option",{value:V.value,children:V.label},V.value))}),_&&c.jsx("p",{className:"text-[9px] text-gray-400 mt-1",children:"Full color data detected. Demosaicing skipped."}),(t==null?void 0:t.isXTrans)&&c.jsx("p",{className:"text-[9px] text-amber-500 mt-1",children:"X-Trans detected. Please enable Pseudo-Bayer below."})]}),te&&c.jsxs("div",{className:"border-t border-gray-100 dark:border-slate-800 pt-2",children:[c.jsx(pf,{checked:!!fi,onChange:V=>{O&&O(V),R==null||R(`xtrans ${V?"on":"off"}`)},label:"Force X-Trans (6x6 -> 2x2)"}),fi&&A&&M&&c.jsxs("div",{className:"mt-2 pl-2 border-l-2 border-emerald-500/50 bg-emerald-50/20 dark:bg-emerald-900/10 p-2 rounded",children:[c.jsx("label",{className:"text-[9px] font-bold text-gray-500 dark:text-slate-400 uppercase block mb-1",children:"Phase Offset (Fine Tune)"}),c.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"text-[9px] text-gray-400",children:"X (0-5)"}),c.jsx("input",{type:"number",min:"0",max:"5",value:A.x,onChange:V=>{const Se=Math.min(5,Math.max(0,parseInt(V.target.value)||0));M({x:Se}),R==null||R(`xtrans phase ${Se} ${A.y}`)},className:"w-full text-xs px-1 py-0.5 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded text-center outline-none focus:border-cyan-500"})]}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"text-[9px] text-gray-400",children:"Y (0-5)"}),c.jsx("input",{type:"number",min:"0",max:"5",value:A.y,onChange:V=>{const Se=Math.min(5,Math.max(0,parseInt(V.target.value)||0));M({y:Se}),R==null||R(`xtrans phase ${A.x} ${Se}`)},className:"w-full text-xs px-1 py-0.5 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded text-center outline-none focus:border-cyan-500"})]})]})]})]}),c.jsx("div",{className:"border-t border-gray-200 dark:border-slate-700 pt-2",children:c.jsx(pf,{checked:De,onChange:He,label:"Advanced Settings"})}),De&&c.jsxs("div",{className:"space-y-5 pl-2 border-l-2 border-gray-200 dark:border-slate-700 animate-in slide-in-from-top-2 duration-200",children:[c.jsxs("div",{children:[c.jsx(pf,{checked:se,onChange:ke,label:"Show Kadc"}),c.jsx("p",{className:"text-[10px] text-gray-400 dark:text-slate-500 mt-1",children:"Requires manual Black Levellinear PTC zoneabsolutely uniform image ."})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2",children:"White Balance Gains"}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-xs text-red-500 dark:text-red-400 block mb-1",children:"Red"}),c.jsx("input",{type:"number",step:"0.01",value:ce,onChange:V=>nr(V.target.value),disabled:!$,className:"w-full px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-red-500 outline-none text-sm text-gray-900 dark:text-slate-100 transition-colors duration-300"})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-xs text-blue-500 dark:text-blue-400 block mb-1",children:"Blue"}),c.jsx("input",{type:"number",step:"0.01",value:le,onChange:V=>At(V.target.value),disabled:!$,className:"w-full px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-blue-500 outline-none text-sm text-gray-900 dark:text-slate-100 transition-colors duration-300"})]})]})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between items-end mb-2",children:[c.jsxs("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide flex items-center",children:["Black Level (4-Ch)",c.jsx("span",{className:"ml-1 text-[10px] text-gray-400 dark:text-slate-500 font-normal normal-case",children:"Native"}),c.jsx("button",{onClick:()=>Pr(!0),className:"ml-2 text-[10px] text-cyan-600 dark:text-cyan-400 hover:text-cyan-700 dark:hover:text-cyan-300 hover:underline cursor-pointer transition-colors",title:"About Black Level Settings",children:"[about]"})]}),c.jsxs("div",{className:"flex items-center gap-1.5",title:"Subtract Black Level from ROI Mean stats (for display)",children:[c.jsx("span",{className:"text-[9px] font-mono text-gray-400 dark:text-slate-500 uppercase tracking-wide",children:"Sub. BL"}),c.jsx("div",{className:`relative w-8 h-4 rounded-full cursor-pointer transition-colors duration-200 ease-in-out ${Be?"bg-cyan-500":"bg-gray-300 dark:bg-slate-700"}`,onClick:()=>Re(!Be),children:c.jsx("div",{className:`absolute top-0.5 left-0.5 bg-white w-3 h-3 rounded-full shadow-sm transform transition-transform duration-200 ${Be?"translate-x-4":"translate-x-0"}`})})]})]}),c.jsx("input",{type:"text",value:D,onChange:V=>ae(V.target.value),disabled:!$,placeholder:"0 0 0 0",className:"w-full px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-xs font-mono text-gray-900 dark:text-slate-100 transition-colors duration-300",title:"Enter 4 values separated by space or comma"}),c.jsx("p",{className:"text-[10px] text-gray-400 dark:text-slate-500 mt-1",children:"Order: (0,0) (0,1) (1,0) (1,1). Spatial: TL, TR, BL, BR."})]}),c.jsxs("div",{children:[c.jsxs("label",{htmlFor:"customMatrix",className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2",children:["Custom Color Matrix",c.jsx("span",{className:"block text-[10px] text-gray-400 dark:text-slate-500 font-normal normal-case mt-0.5",children:"XYZ to Camera RGB (3x3, 9 nums)"})]}),c.jsx("textarea",{id:"customMatrix",value:ee,onChange:oe,disabled:!$,placeholder:"0.66 -0.19 -0.04  -0.46 1.23 0.25  -0.06 0.13 0.65",className:"w-full h-24 px-2 py-2 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none transition-colors disabled:bg-gray-100 dark:disabled:bg-slate-800/50 disabled:cursor-not-allowed text-xs font-mono leading-relaxed text-gray-900 dark:text-slate-100"})]})]}),c.jsxs("div",{className:"pt-4 flex flex-col gap-2",children:[c.jsx("button",{onClick:ur,disabled:!$,className:"w-full text-base bg-cyan-500 hover:bg-cyan-600 dark:bg-cyan-600 dark:hover:bg-cyan-500 disabled:bg-gray-300 dark:disabled:bg-slate-800 disabled:text-gray-500 dark:disabled:text-slate-500 disabled:cursor-not-allowed text-white font-bold py-3 px-3 rounded-lg shadow-lg shadow-cyan-500/20 dark:shadow-cyan-900/20 transition-all active:scale-95",children:""}),c.jsxs("button",{onClick:fr,disabled:!$,className:"w-full text-xs font-bold bg-slate-700 hover:bg-slate-600 text-white disabled:bg-gray-300 dark:disabled:bg-slate-800 disabled:text-gray-500 transition-colors py-2 rounded-lg flex items-center justify-center gap-1.5 border border-slate-600",title:"Diagnostic Mode. Direct RAW-to-Grayscale mapping using manual Black Level & WB Gains (R/B calibration).",children:[c.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"",c.jsx("br",{}),"(CM)"]}),c.jsx("button",{onClick:Pe,disabled:!$,className:"w-full text-xs text-gray-400 hover:text-gray-600 dark:text-slate-400 dark:hover:text-slate-200 disabled:text-gray-300 dark:disabled:text-slate-600 transition-colors mt-1",children:"Reset Defaults (Local)"})]})]})})]}),c.jsx(Zo,{isOpen:Gt,onClose:()=>Pr(!1),onConfirm:()=>{window.open("https://y-g-jiang.github.io/CBLD.html","_blank"),Pr(!1)},title:"Black Level Info / ",confirmText:"Visit Database (CBLD)",cancelText:"Close",message:c.jsxs("div",{className:"flex flex-col gap-4 text-left text-sm text-gray-600 dark:text-slate-300",children:[c.jsxs("p",{className:"leading-relaxed",children:["JiangBridge/JiangBridge",c.jsx("a",{href:"https://y-g-jiang.github.io/CBLD.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline mx-1 font-bold",children:"CBLD.html"}),""]}),c.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 w-full"}),c.jsxs("p",{className:"leading-relaxed",children:["Autofills when JiangBridge is detected. If no result is found or JiangBridge is missing, please check the ",c.jsx("a",{href:"https://y-g-jiang.github.io/CBLD.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline mx-1 font-bold",children:"Black Level Database"}),"to find your camera model. However, manually capturing a dark frame with identical settings to calculate and input the values is highly recommended for higher decimal precision, as internal tags often lack accuracy."]})]})}),c.jsx(Zo,{isOpen:lt,onClose:()=>Fe(!1),onConfirm:()=>{},title:"Select Zero-Dependency Mode",confirmText:"",cancelText:"",message:c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsx("div",{className:"text-gray-600 dark:text-slate-300 text-left text-sm leading-relaxed mb-2",children:"Select how you want to visualize the raw data without full JOraw processing."}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[c.jsxs("button",{onClick:()=>Ae("mosaic"),className:"flex flex-col items-center justify-center p-4 bg-gray-100 hover:bg-gray-200 dark:bg-slate-800 dark:hover:bg-slate-700 border-2 border-transparent hover:border-gray-400 dark:hover:border-slate-500 rounded-xl transition-all group",children:[c.jsx("div",{className:"w-12 h-12 bg-gray-300 dark:bg-slate-600 rounded-full flex items-center justify-center mb-3 group-hover:scale-110 transition-transform",children:c.jsx("svg",{className:"w-6 h-6 text-gray-600 dark:text-slate-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}),c.jsx("h4",{className:"font-bold text-gray-800 dark:text-slate-200 mb-1",children:"Mosaic (Gray)"}),c.jsx("p",{className:"text-[10px] text-gray-500 dark:text-slate-400 text-center",children:"Original Bayer pattern. No demosaic. 1:1 pixel mapping. Pure DN visualization."})]}),c.jsxs("button",{onClick:()=>Ae("bilinear"),className:"flex flex-col items-center justify-center p-4 bg-indigo-50 hover:bg-indigo-100 dark:bg-indigo-900/20 dark:hover:bg-indigo-900/40 border-2 border-transparent hover:border-indigo-400 rounded-xl transition-all group",children:[c.jsx("div",{className:"w-12 h-12 bg-indigo-200 dark:bg-indigo-800 rounded-full flex items-center justify-center mb-3 group-hover:scale-110 transition-transform",children:c.jsx("svg",{className:"w-6 h-6 text-indigo-700 dark:text-indigo-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"})})}),c.jsx("h4",{className:"font-bold text-indigo-800 dark:text-indigo-300 mb-1",children:"Bilinear (Color)"}),c.jsx("p",{className:"text-[10px] text-indigo-600/80 dark:text-indigo-400/80 text-center",children:"Basic JS Demosaic + Matrix + Gamma. Bypass JOraw pipeline."})]})]}),c.jsx("button",{onClick:()=>Fe(!1),className:"mt-2 w-full py-2 text-xs font-bold text-gray-500 hover:text-gray-700 dark:text-slate-400 dark:hover:text-slate-200 transition-colors",children:"Cancel"})]})})]})},QM=S.forwardRef((e,t)=>{const{rawImageData:r,displaySettings:n,onApplyDisplaySettings:a,onSetSelection:o,onStartMarking:i,onGenerateTestPic:s,onBatchDrLab:l,onProcessPair:u,onProcessBatchDiff:f,onProcessStackFft:d,onOpenCrossCalc:h,onToggleXTrans:p,onXTransPhaseChange:y}=e,[v,b]=S.useState([{id:"init",type:"info",text:'Jiangtherapee CLI v1.0. Type "help" for commands.'}]),[m,g]=S.useState(""),[x,j]=S.useState([]),[w,k]=S.useState(-1),N=S.useRef(null),_=S.useRef(null),O=S.useRef(null),A=S.useRef(null),M=S.useRef(null),C=S.useRef(null),R=S.useRef(null),z=S.useRef(null);S.useRef(null);const T=S.useRef({...n});S.useEffect(()=>{T.current={...n}},[n.exposure,n.demosaicMethod]);const G=S.useRef({fileA:null,fileB:null});S.useLayoutEffect(()=>{N.current&&(N.current.scrollTop=N.current.scrollHeight)},[v]);const P=(L,ee="out")=>{b(Z=>[...Z,{id:Date.now().toString()+Math.random(),type:ee,text:L}])};S.useImperativeHandle(t,()=>({log:(L,ee="in")=>{const Z=ee;let D=L;ee==="in"&&!L.startsWith(">")&&(D=`> ${L}`),P(D,Z)}}));const E=S.useRef(null);S.useEffect(()=>{if(e.roiStats&&e.roiStats!==E.current){const L=e.roiStats,ee=Math.round(L.x),Z=Math.round(L.y),D=Math.round(L.width),ae=Math.round(L.height);P(`> sel ${ee} ${Z} ${D} ${ae}`,"in");const ce=e.isBGGR?[{name:"B",idx:0},{name:"G1",idx:1},{name:"G2",idx:2},{name:"R",idx:3}]:[{name:"R",idx:0},{name:"G1",idx:1},{name:"G2",idx:2},{name:"B",idx:3}],Y=c.jsxs("div",{className:"font-mono text-xs mt-1 mb-2",children:[c.jsxs("div",{className:"text-gray-400 mb-1",children:["Region Stats [",ee,", ",Z,", ",D,"x",ae,"]:"]}),c.jsxs("div",{className:"grid grid-cols-[30px_1fr_1fr] gap-x-2 border-b border-gray-700 pb-1 mb-1 text-gray-500 font-bold",children:[c.jsx("div",{children:"Ch"}),c.jsx("div",{className:"text-right",children:"Mean"}),c.jsx("div",{className:"text-right",children:"StdDev"})]}),ce.map(le=>c.jsxs("div",{className:"grid grid-cols-[30px_1fr_1fr] gap-x-2 hover:bg-gray-900",children:[c.jsx("div",{className:le.name==="R"?"text-red-500":le.name==="B"?"text-blue-500":"text-green-500",children:le.name}),c.jsx("div",{className:"text-right text-gray-300",children:L.means[le.idx].toFixed(2)}),c.jsx("div",{className:"text-right text-gray-400",children:L.stdDevs[le.idx].toFixed(2)})]},le.name))]});P(Y,"out"),E.current=L}},[e.roiStats,e.isBGGR]);const $=L=>{var ae,ce,Y,le,ge,H,ie;const ee=L.trim().split(/\s+/),Z=ee[0].toLowerCase(),D=ee.slice(1);switch(Z){case"help":P("Available Commands:","info"),P("  ev <val>          Set Exposure (e.g. ev 1.5)","info"),P("  wb <r> <b>        Set WB Gains","info"),P("  bl <r> <g>...     Set Black Level (1 or 4 vals)","info"),P("  demo <id>         Demosaic (0=Lin, 3=AHD, -1=Raw)","info"),P("  matrix <n1..n9>   Set Custom Color Matrix","info"),P("  xtrans <on|off>   Force X-Trans Mode","info"),P("  xtrans phase <x> <y>  Set X-Trans Phase","info"),P("  render            Apply settings & Render","info"),P("  render zero       Zero-Dependency Render","info"),P("  render unmix      Advanced Unmixing Render","info"),P("  sel <full|center> Select ROI","info"),P("  sel <x> <y> <w> <h> Select ROI manually","info"),P("  mark              Start DR Lab Corner Marking","info"),P("  gen test          Generate Test Pattern","info"),P("  fft load <a>      Load FFT Pair Image A","info"),P("  fft load <b>      Load FFT Pair Image B","info"),P("  fft run           Run FFT Pair Diff","info"),P("  cls               Clear Screen","info");break;case"cls":case"clear":b([]);break;case"ev":case"exposure":if(D.length<1){P(`Current EV: ${T.current.exposure}`,"info");return}const se=parseFloat(D[0]);if(isNaN(se)){P("Invalid EV value","err");return}T.current.exposure=se,P(`EV set to ${se} (run 'render' to apply)`);break;case"wb":if(D.length<2){P("Usage: wb <red_gain> <blue_gain>","err");return}const ke=parseFloat(D[0]),Be=parseFloat(D[1]);if(isNaN(ke)||isNaN(Be)){P("Invalid gains","err");return}T.current.wbGains=[ke,Be],P(`WB set to R:${ke} B:${Be}`);break;case"bl":case"black":if(D.length===0){P(`Current BL: ${((ae=T.current.blackLevel)==null?void 0:ae.join(" "))||"Auto"}`,"info");return}let Re=D.map(Number);if(Re.some(isNaN)){P("Invalid numbers","err");return}if(Re.length===1&&(Re=[Re[0],Re[0],Re[0],Re[0]]),Re.length<4){P("Need 1 or 4 values","err");return}T.current.blackLevel=[Re[0],Re[1],Re[2],Re[3]],T.current.subtractBlackLevelFromStats=!0,T.current.showKadc=!0,P(`Black Level set: ${Re.slice(0,4).join(" ")}`);break;case"demo":case"demosaic":if(D.length===0){P("Usage: demo <id> (0=Lin, 1=VNG, 2=PPG, 3=AHD, 4=DCB, 11=DHT, 12=AAHD, -1=Raw)","info");return}const wt=parseInt(D[0]);if(isNaN(wt)){P("Invalid method ID","err");return}T.current.demosaicMethod=wt,P(`Demosaic set to ID ${wt}`);break;case"matrix":if(D.length!==9){P("Usage: matrix m1 m2 m3 m4 m5 m6 m7 m8 m9 (3x3)","err");return}const Pt=D.map(Number);if(Pt.some(isNaN)){P("Invalid matrix values","err");return}T.current.customMatrix=Pt,P("Custom Color Matrix set.");break;case"xtrans":if(D[0]==="on"||D[0]==="true")p?(p(!0),P("X-Trans conversion ON")):P("Feature not available","err");else if(D[0]==="off"||D[0]==="false")p?(p(!1),P("X-Trans conversion OFF")):P("Feature not available","err");else if(D[0]==="phase"){if(D.length<3){P("Usage: xtrans phase <x> <y>","err");return}const De=parseInt(D[1]),He=parseInt(D[2]);y&&(y({x:De,y:He}),P(`X-Trans Phase set to (${De}, ${He})`))}else P("Usage: xtrans <on|off> OR xtrans phase <x> <y>","err");break;case"render":case"apply":if(D[0]==="zero"){const De=D[1]==="color"?"zero-dep-color":"zero-dependency";T.current.renderMode=De,P(`Rendering Zero-Dependency (${De})...`)}else if(D[0]==="unmix"){if(D.length<13){P("Usage: render unmix <4xBL> <4xBG> <4xFG>","err");return}const De=D.slice(1).map(Number);if(De.some(isNaN)){P("Invalid params","err");return}T.current.renderMode="advanced-zero-dep",T.current.advancedZeroDep={bl:[De[0],De[1],De[2],De[3]],bg:[De[4],De[5],De[6],De[7]],fg:[De[8],De[9],De[10],De[11]]},P("Rendering Advanced Unmix...")}else T.current.renderMode="standard",P("Rendering Standard Pipeline...");a({...T.current});break;case"sel":case"select":if(!r||!o){P("No image loaded","err");return}if(D[0]==="full")o({x:0,y:0,w:r.width,h:r.height});else if(D[0]==="center"){const De=parseInt(D[1])||64,He=Math.floor((r.width-De)/2),kt=Math.floor((r.height-De)/2);o({x:He,y:kt,w:De,h:De})}else if(D.length===4){const[De,He,kt,Ct]=D.map(Number);if([De,He,kt,Ct].some(isNaN)){P("Invalid coordinates","err");return}o({x:De,y:He,w:kt,h:Ct})}else P("Usage: sel full | sel center <size> | sel <x> <y> <w> <h>","err");break;case"mark":i&&(i(),P("Interactive marking started. Click 4 corners on canvas."));break;case"gen":(D[0]==="test"||D[0]==="pattern")&&s&&(s(),P("Generated Test Pattern"));break;case"drlab":if(D[0]==="config"){const[De,He,kt]=D.slice(1).map(Number);e.onDrRoiSizeChange&&e.onDrRoiSizeChange(De||64),e.onDrGridRowsChange&&e.onDrGridRowsChange(He||10),e.onDrGridColsChange&&e.onDrGridColsChange(kt||10),P(`DR Grid Configured: Size=${De}, Grid=${He}x${kt}`)}else D[0]==="batch"&&(D[1]==="pair"?(P("Select file pairs for DR Lab..."),(ce=A.current)==null||ce.click()):(P("Select single files for DR Lab..."),(Y=O.current)==null||Y.click()));break;case"fft":D[0]==="load"?D[1]==="a"?(le=M.current)==null||le.click():D[1]==="b"?(ge=C.current)==null||ge.click():P("Usage: fft load <a|b>","err"):D[0]==="run"?G.current.fileA&&G.current.fileB&&u?(P(`Processing Pair: ${G.current.fileA.name} - ${G.current.fileB.name}`),u(G.current.fileA,G.current.fileB,!1,!0)):P("Load both A and B first","err"):D[0]==="stack"?(P("Select files for Stack FFT..."),(H=R.current)==null||H.click()):D[0]==="batch"&&(P("Select files for Batch Diff...","info"),(ie=z.current)==null||ie.click());break;case"crosscalc":h&&(h(),P("Opened Cross-Calculator"));break;default:P(`Unknown command: ${Z}`,"err")}},U=L=>{if(L.key==="Enter"){const ee=m.trim();if(!ee)return;P(`> ${ee}`,"in"),ee.split(";").forEach(D=>{D.trim()&&$(D.trim())}),j(D=>[...D,ee]),k(-1),g("")}else if(L.key==="ArrowUp"){if(L.preventDefault(),x.length>0){const ee=w===-1?x.length-1:Math.max(0,w-1);k(ee),g(x[ee])}}else if(L.key==="ArrowDown")if(L.preventDefault(),w!==-1){const ee=Math.min(x.length-1,w+1);k(ee),g(x[ee])}else g("")},te=(L,ee)=>{L.target.files&&L.target.files.length>0&&l&&(P(`Batch processing ${L.target.files.length} files in ${ee} mode...`),l(L.target.files,ee)),L.target.value=""},K=(L,ee)=>{var D;const Z=(D=L.target.files)==null?void 0:D[0];Z&&(ee==="A"?G.current.fileA=Z:G.current.fileB=Z,P(`Loaded ${ee}: ${Z.name}`)),L.target.value=""};return c.jsxs("div",{className:"flex flex-col h-full bg-black text-green-500 font-mono text-sm border-l-4 border-gray-700 p-2 shadow-2xl",children:[c.jsxs("div",{className:"border-b border-green-800 pb-2 mb-2 flex justify-between items-end select-none",children:[c.jsx("h2",{className:"text-xl font-bold tracking-widest",children:"TERMINAL"}),c.jsx("div",{className:"text-[10px] text-green-700",children:"JIANGTHERAPEE_CLI_V1"})]}),c.jsx("div",{ref:N,className:"flex-grow overflow-y-auto overflow-x-hidden break-words mb-2 pr-1 scrollbar-thin scrollbar-thumb-green-900 scrollbar-track-black",children:v.map(L=>c.jsxs("div",{className:`mb-1 ${L.type==="in"?"opacity-50":""} ${L.type==="err"?"text-red-500":""} ${L.type==="info"?"text-cyan-400":""}`,children:[L.type!=="in"&&typeof L.text=="string"&&!L.text.startsWith(">")&&c.jsx("span",{className:"mr-2 opacity-50",children:">"}),L.text]},L.id))}),c.jsxs("div",{className:"relative flex items-center border-t border-green-800 pt-2",children:[c.jsx("span",{className:"text-green-500 mr-2 animate-pulse font-bold",children:">"}),c.jsx("input",{ref:_,type:"text",value:m,onChange:L=>g(L.target.value),onKeyDown:U,autoFocus:!0,className:"w-full bg-transparent border-none outline-none text-green-400 placeholder-green-900",placeholder:"Enter command (e.g. 'help')",spellCheck:!1,autoComplete:"off"})]}),c.jsx("input",{type:"file",ref:O,className:"hidden",multiple:!0,onChange:L=>te(L,"single")}),c.jsx("input",{type:"file",ref:A,className:"hidden",multiple:!0,onChange:L=>te(L,"pair")}),c.jsx("input",{type:"file",ref:M,className:"hidden",onChange:L=>K(L,"A")}),c.jsx("input",{type:"file",ref:C,className:"hidden",onChange:L=>K(L,"B")}),c.jsx("input",{type:"file",ref:R,className:"hidden",multiple:!0,onChange:L=>{e.onProcessStackFft&&L.target.files&&(P(`Loading ${L.target.files.length} frames for Stack FFT...`),e.onProcessStackFft(L.target.files)),L.target.value=""}}),c.jsx("input",{type:"file",ref:z,className:"hidden",multiple:!0,onChange:L=>{e.onProcessBatchDiff&&L.target.files&&(P("Starting Batch Diff..."),e.onProcessBatchDiff(L.target.files)),L.target.value=""}})]})}),JM=(e,t)=>{if(!e)return null;if(t){const r=e.bayerPattern.toUpperCase(),n=l=>{const u=[];for(let f=0;f<4;f++)r[f]===l&&u.push(f);return u},a=t.BlackLevelRed,o=t.BlackLevelGreen,i=t.BlackLevelBlue;if(a!==void 0&&o!==void 0&&i!==void 0){const l=parseFloat(a),u=parseFloat(o),f=parseFloat(i);if(!isNaN(l)&&!isNaN(u)&&!isNaN(f)){const d=[0,0,0,0];return d.fill(u),n("R").forEach(h=>d[h]=l),n("G").forEach(h=>d[h]=u),n("B").forEach(h=>f),d}}let s=t.BlackLevel;if(s===void 0&&(s=t.BlackLevel2),s!==void 0){let l=[];if(Array.isArray(s)?l=s.map(Number):typeof s=="string"?l=s.trim().split(/\s+/).map(Number):typeof s=="number"&&(l=[s,s,s,s]),l.length===1&&!isNaN(l[0])&&(l=[l[0],l[0],l[0],l[0]]),l.length>=4&&!l.slice(0,4).some(isNaN))return[l[0],l[1],l[2],l[3]]}}return e.blackLevels&&e.blackLevels.length===4?[e.blackLevels[0],e.blackLevels[1],e.blackLevels[2],e.blackLevels[3]]:null},eC=e=>{const[t,r]=S.useState("gui"),{rawImageData:n,exifData:a,isBridgeConnected:o,displaySettings:i,onApplyDisplaySettings:s}=e,l=S.useRef(null),u=S.useRef(!1),f=S.useRef(null);S.useEffect(()=>{n!==f.current&&(u.current=!1,f.current=n)},[n]),S.useEffect(()=>{var h;if(o&&n&&!u.current){u.current=!0;const p=JM(n,a),y=p&&p.some(v=>v>0);if(p&&y){console.log("[AutoApply] Detected Black Levels via Bridge:",p),(h=l.current)==null||h.log(`Auto-detected BL: ${p.join(" ")}`,"info");const v={...i,blackLevel:p,showKadc:!0,subtractBlackLevelFromStats:!0,exposure:i.exposure,wbGains:i.wbGains||[1,1],demosaicMethod:i.demosaicMethod,renderMode:"standard"};s(v)}}},[o,n,a,i,s]);const d=h=>{l.current&&l.current.log(h,"in")};return c.jsxs("div",{className:"flex flex-col h-full",children:[c.jsxs("div",{className:"flex bg-gray-200 dark:bg-gray-800 p-1 border-b border-gray-300 dark:border-gray-700 flex-shrink-0",children:[c.jsx("button",{onClick:()=>r("gui"),className:`flex-1 py-1 text-xs font-bold uppercase tracking-wider transition-colors border-r border-gray-300 dark:border-gray-700 ${t==="gui"?"bg-white dark:bg-black shadow-inner text-cyan-600 dark:text-cyan-400":"bg-gray-200 dark:bg-gray-900 text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}`,children:"GUI"}),c.jsx("button",{onClick:()=>r("terminal"),className:`flex-1 py-1 text-xs font-bold uppercase tracking-wider transition-colors ${t==="terminal"?"bg-black text-green-500 shadow-inner":"bg-gray-200 dark:bg-gray-900 text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}`,children:"Terminal"})]}),c.jsxs("div",{className:"flex-grow overflow-hidden relative",children:[c.jsx("div",{className:`h-full w-full ${t==="gui"?"block":"hidden"}`,children:c.jsx(ZM,{...e,onCommand:d})}),c.jsx("div",{className:`h-full w-full ${t==="terminal"?"block":"hidden"}`,children:c.jsx(QM,{...e,ref:l})})]})]})},tC=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20 12H4"})}),rC=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})}),nC=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 4v5h5M4 12a8 8 0 0114.24-5.12M20 20v-5h-5M20 12a8 8 0 01-14.24 5.12"})}),aC=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 11.5V14m0-2.5v-6a1.5 1.5 0 113 0m-3 6a1.5 1.5 0 00-3 0v2a7.5 7.5 0 0015 0v-5a1.5 1.5 0 00-3 0m-6-3V11m0-5.5v-1a1.5 1.5 0 013 0v1m0 0V11m0-5.5a1.5 1.5 0 013 0v3m0 0V11"})}),oC=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 4l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})}),Sg=.1,Ng=16,iC=Math.log(Sg),sC=Math.log(Ng),lC=({zoom:e,onZoomChange:t,onResetView:r,touchAction:n,onToggleTouchAction:a})=>{const o=u=>{const f=parseFloat(u.target.value),d=Math.exp(f);t(Math.max(Sg,Math.min(Ng,d)))},i=()=>{t(Math.min(Ng,e*1.25))},s=()=>{t(Math.max(Sg,e/1.25))},l=Math.log(e);return c.jsxs("div",{className:"absolute top-4 right-4 flex gap-2",onClick:u=>u.stopPropagation(),children:[c.jsx("div",{className:"bg-white/90 dark:bg-slate-800/70 backdrop-blur-sm p-2 rounded-lg border border-gray-200 dark:border-slate-700 flex items-center shadow-lg transition-colors duration-300",children:c.jsx("button",{onClick:a,className:`p-1.5 rounded-md transition-colors flex items-center justify-center ${n==="select"?"bg-cyan-100 text-cyan-600 dark:bg-cyan-900/50 dark:text-cyan-400 ring-2 ring-cyan-500/50":"text-gray-500 dark:text-slate-400 hover:bg-gray-100 dark:hover:bg-slate-700"}`,title:n==="select"?"Mode: Selection (Drag to Select)":"Mode: Pan (Drag to Move)",children:n==="select"?c.jsx(oC,{}):c.jsx(aC,{})})}),c.jsxs("div",{className:"bg-white/90 dark:bg-slate-800/70 backdrop-blur-sm p-2 rounded-lg border border-gray-200 dark:border-slate-700 flex items-center gap-2 text-gray-700 dark:text-slate-300 shadow-lg transition-colors duration-300",children:[c.jsx("button",{onClick:s,className:"p-1 rounded-md hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",title:"Zoom Out","aria-label":"Zoom Out",children:c.jsx(tC,{})}),c.jsx("input",{type:"range",min:iC,max:sC,step:"0.01",value:l,onChange:o,className:"w-24 sm:w-32 h-2 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-cyan-500","aria-label":"Zoom slider"}),c.jsx("button",{onClick:i,className:"p-1 rounded-md hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",title:"Zoom In","aria-label":"Zoom In",children:c.jsx(rC,{})}),c.jsxs("span",{className:"w-16 text-center font-mono text-sm","aria-live":"polite",children:[(e*100).toFixed(0),"%"]}),c.jsx("button",{onClick:r,className:"p-1 rounded-md hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",title:"Reset View","aria-label":"Reset View",children:c.jsx(nC,{})})]})]})},cC=({theme:e,setTheme:t})=>{const r=()=>{t(e==="light"?"dark":"light")};return c.jsx("button",{onClick:r,className:"fixed bottom-6 right-6 z-50 p-3 rounded-full bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 shadow-lg text-gray-800 dark:text-yellow-400 hover:bg-gray-100 dark:hover:bg-slate-700 transition-all duration-300",title:`Switch to ${e==="light"?"dark":"light"} mode`,children:e==="light"?c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-slate-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}):c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})})})};function AS(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=AS(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function ot(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=AS(e))&&(n&&(n+=" "),n+=t);return n}var uC=Array.isArray,Wn=uC,fC=typeof Yu=="object"&&Yu&&Yu.Object===Object&&Yu,MS=fC,dC=MS,hC=typeof self=="object"&&self&&self.Object===Object&&self,pC=dC||hC||Function("return this")(),Qa=pC,gC=Qa,mC=gC.Symbol,Au=mC,mb=Au,CS=Object.prototype,yC=CS.hasOwnProperty,vC=CS.toString,Vl=mb?mb.toStringTag:void 0;function xC(e){var t=yC.call(e,Vl),r=e[Vl];try{e[Vl]=void 0;var n=!0}catch{}var a=vC.call(e);return n&&(t?e[Vl]=r:delete e[Vl]),a}var bC=xC,wC=Object.prototype,kC=wC.toString;function jC(e){return kC.call(e)}var SC=jC,yb=Au,NC=bC,_C=SC,OC="[object Null]",PC="[object Undefined]",vb=yb?yb.toStringTag:void 0;function AC(e){return e==null?e===void 0?PC:OC:vb&&vb in Object(e)?NC(e):_C(e)}var So=AC;function MC(e){return e!=null&&typeof e=="object"}var No=MC,CC=So,EC=No,TC="[object Symbol]";function $C(e){return typeof e=="symbol"||EC(e)&&CC(e)==TC}var xl=$C,DC=Wn,RC=xl,LC=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,IC=/^\w*$/;function BC(e,t){if(DC(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||RC(e)?!0:IC.test(e)||!LC.test(e)||t!=null&&e in Object(t)}var qy=BC;function FC(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var ai=FC;const bl=Rt(ai);var zC=So,UC=ai,WC="[object AsyncFunction]",GC="[object Function]",HC="[object GeneratorFunction]",VC="[object Proxy]";function XC(e){if(!UC(e))return!1;var t=zC(e);return t==GC||t==HC||t==WC||t==VC}var Zy=XC;const Ge=Rt(Zy);var KC=Qa,YC=KC["__core-js_shared__"],qC=YC,Q0=qC,xb=function(){var e=/[^.]+$/.exec(Q0&&Q0.keys&&Q0.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function ZC(e){return!!xb&&xb in e}var QC=ZC,JC=Function.prototype,e5=JC.toString;function t5(e){if(e!=null){try{return e5.call(e)}catch{}try{return e+""}catch{}}return""}var ES=t5,r5=Zy,n5=QC,a5=ai,o5=ES,i5=/[\\^$.*+?()[\]{}|]/g,s5=/^\[object .+?Constructor\]$/,l5=Function.prototype,c5=Object.prototype,u5=l5.toString,f5=c5.hasOwnProperty,d5=RegExp("^"+u5.call(f5).replace(i5,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h5(e){if(!a5(e)||n5(e))return!1;var t=r5(e)?d5:s5;return t.test(o5(e))}var p5=h5;function g5(e,t){return e==null?void 0:e[t]}var m5=g5,y5=p5,v5=m5;function x5(e,t){var r=v5(e,t);return y5(r)?r:void 0}var Qi=x5,b5=Qi,w5=b5(Object,"create"),Dh=w5,bb=Dh;function k5(){this.__data__=bb?bb(null):{},this.size=0}var j5=k5;function S5(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var N5=S5,_5=Dh,O5="__lodash_hash_undefined__",P5=Object.prototype,A5=P5.hasOwnProperty;function M5(e){var t=this.__data__;if(_5){var r=t[e];return r===O5?void 0:r}return A5.call(t,e)?t[e]:void 0}var C5=M5,E5=Dh,T5=Object.prototype,$5=T5.hasOwnProperty;function D5(e){var t=this.__data__;return E5?t[e]!==void 0:$5.call(t,e)}var R5=D5,L5=Dh,I5="__lodash_hash_undefined__";function B5(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=L5&&t===void 0?I5:t,this}var F5=B5,z5=j5,U5=N5,W5=C5,G5=R5,H5=F5;function wl(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}wl.prototype.clear=z5;wl.prototype.delete=U5;wl.prototype.get=W5;wl.prototype.has=G5;wl.prototype.set=H5;var V5=wl;function X5(){this.__data__=[],this.size=0}var K5=X5;function Y5(e,t){return e===t||e!==e&&t!==t}var Qy=Y5,q5=Qy;function Z5(e,t){for(var r=e.length;r--;)if(q5(e[r][0],t))return r;return-1}var Rh=Z5,Q5=Rh,J5=Array.prototype,eE=J5.splice;function tE(e){var t=this.__data__,r=Q5(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():eE.call(t,r,1),--this.size,!0}var rE=tE,nE=Rh;function aE(e){var t=this.__data__,r=nE(t,e);return r<0?void 0:t[r][1]}var oE=aE,iE=Rh;function sE(e){return iE(this.__data__,e)>-1}var lE=sE,cE=Rh;function uE(e,t){var r=this.__data__,n=cE(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var fE=uE,dE=K5,hE=rE,pE=oE,gE=lE,mE=fE;function kl(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}kl.prototype.clear=dE;kl.prototype.delete=hE;kl.prototype.get=pE;kl.prototype.has=gE;kl.prototype.set=mE;var Lh=kl,yE=Qi,vE=Qa,xE=yE(vE,"Map"),Jy=xE,wb=V5,bE=Lh,wE=Jy;function kE(){this.size=0,this.__data__={hash:new wb,map:new(wE||bE),string:new wb}}var jE=kE;function SE(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var NE=SE,_E=NE;function OE(e,t){var r=e.__data__;return _E(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Ih=OE,PE=Ih;function AE(e){var t=PE(this,e).delete(e);return this.size-=t?1:0,t}var ME=AE,CE=Ih;function EE(e){return CE(this,e).get(e)}var TE=EE,$E=Ih;function DE(e){return $E(this,e).has(e)}var RE=DE,LE=Ih;function IE(e,t){var r=LE(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var BE=IE,FE=jE,zE=ME,UE=TE,WE=RE,GE=BE;function jl(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}jl.prototype.clear=FE;jl.prototype.delete=zE;jl.prototype.get=UE;jl.prototype.has=WE;jl.prototype.set=GE;var ev=jl,TS=ev,HE="Expected a function";function tv(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(HE);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],o=r.cache;if(o.has(a))return o.get(a);var i=e.apply(this,n);return r.cache=o.set(a,i)||o,i};return r.cache=new(tv.Cache||TS),r}tv.Cache=TS;var $S=tv;const VE=Rt($S);var XE=$S,KE=500;function YE(e){var t=XE(e,function(n){return r.size===KE&&r.clear(),n}),r=t.cache;return t}var qE=YE,ZE=qE,QE=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,JE=/\\(\\)?/g,eT=ZE(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(QE,function(r,n,a,o){t.push(a?o.replace(JE,"$1"):n||r)}),t}),tT=eT;function rT(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var rv=rT,kb=Au,nT=rv,aT=Wn,oT=xl,jb=kb?kb.prototype:void 0,Sb=jb?jb.toString:void 0;function DS(e){if(typeof e=="string")return e;if(aT(e))return nT(e,DS)+"";if(oT(e))return Sb?Sb.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var iT=DS,sT=iT;function lT(e){return e==null?"":sT(e)}var RS=lT,cT=Wn,uT=qy,fT=tT,dT=RS;function hT(e,t){return cT(e)?e:uT(e,t)?[e]:fT(dT(e))}var LS=hT,pT=xl;function gT(e){if(typeof e=="string"||pT(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Bh=gT,mT=LS,yT=Bh;function vT(e,t){t=mT(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[yT(t[r++])];return r&&r==n?e:void 0}var nv=vT,xT=nv;function bT(e,t,r){var n=e==null?void 0:xT(e,t);return n===void 0?r:n}var IS=bT;const ya=Rt(IS);function wT(e){return e==null}var kT=wT;const Ie=Rt(kT);var jT=So,ST=Wn,NT=No,_T="[object String]";function OT(e){return typeof e=="string"||!ST(e)&&NT(e)&&jT(e)==_T}var PT=OT;const Wi=Rt(PT);var BS={exports:{}},Ot={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var av=Symbol.for("react.element"),ov=Symbol.for("react.portal"),Fh=Symbol.for("react.fragment"),zh=Symbol.for("react.strict_mode"),Uh=Symbol.for("react.profiler"),Wh=Symbol.for("react.provider"),Gh=Symbol.for("react.context"),AT=Symbol.for("react.server_context"),Hh=Symbol.for("react.forward_ref"),Vh=Symbol.for("react.suspense"),Xh=Symbol.for("react.suspense_list"),Kh=Symbol.for("react.memo"),Yh=Symbol.for("react.lazy"),MT=Symbol.for("react.offscreen"),FS;FS=Symbol.for("react.module.reference");function wa(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case av:switch(e=e.type,e){case Fh:case Uh:case zh:case Vh:case Xh:return e;default:switch(e=e&&e.$$typeof,e){case AT:case Gh:case Hh:case Yh:case Kh:case Wh:return e;default:return t}}case ov:return t}}}Ot.ContextConsumer=Gh;Ot.ContextProvider=Wh;Ot.Element=av;Ot.ForwardRef=Hh;Ot.Fragment=Fh;Ot.Lazy=Yh;Ot.Memo=Kh;Ot.Portal=ov;Ot.Profiler=Uh;Ot.StrictMode=zh;Ot.Suspense=Vh;Ot.SuspenseList=Xh;Ot.isAsyncMode=function(){return!1};Ot.isConcurrentMode=function(){return!1};Ot.isContextConsumer=function(e){return wa(e)===Gh};Ot.isContextProvider=function(e){return wa(e)===Wh};Ot.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===av};Ot.isForwardRef=function(e){return wa(e)===Hh};Ot.isFragment=function(e){return wa(e)===Fh};Ot.isLazy=function(e){return wa(e)===Yh};Ot.isMemo=function(e){return wa(e)===Kh};Ot.isPortal=function(e){return wa(e)===ov};Ot.isProfiler=function(e){return wa(e)===Uh};Ot.isStrictMode=function(e){return wa(e)===zh};Ot.isSuspense=function(e){return wa(e)===Vh};Ot.isSuspenseList=function(e){return wa(e)===Xh};Ot.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Fh||e===Uh||e===zh||e===Vh||e===Xh||e===MT||typeof e=="object"&&e!==null&&(e.$$typeof===Yh||e.$$typeof===Kh||e.$$typeof===Wh||e.$$typeof===Gh||e.$$typeof===Hh||e.$$typeof===FS||e.getModuleId!==void 0)};Ot.typeOf=wa;BS.exports=Ot;var CT=BS.exports,ET=So,TT=No,$T="[object Number]";function DT(e){return typeof e=="number"||TT(e)&&ET(e)==$T}var zS=DT;const RT=Rt(zS);var LT=zS;function IT(e){return LT(e)&&e!=+e}var BT=IT;const Sl=Rt(BT);var Ea=function(t){return t===0?0:t>0?1:-1},Pi=function(t){return Wi(t)&&t.indexOf("%")===t.length-1},he=function(t){return RT(t)&&!Sl(t)},FT=function(t){return Ie(t)},Ir=function(t){return he(t)||Wi(t)},zT=0,Ji=function(t){var r=++zT;return"".concat(t||"").concat(r)},Gi=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!he(t)&&!Wi(t))return n;var o;if(Pi(t)){var i=t.indexOf("%");o=r*parseFloat(t.slice(0,i))/100}else o=+t;return Sl(o)&&(o=n),a&&o>r&&(o=r),o},Ro=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},UT=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},yr=function(t,r){return he(t)&&he(r)?function(n){return t+n*(r-t)}:function(){return r}};function pd(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):ya(n,t))===r})}var WT=function(t){if(!t||!t.length)return null;for(var r=t.length,n=0,a=0,o=0,i=0,s=1/0,l=-1/0,u=0,f=0,d=0;d<r;d++)u=t[d].cx||0,f=t[d].cy||0,n+=u,a+=f,o+=u*f,i+=u*u,s=Math.min(s,u),l=Math.max(l,u);var h=r*i!==n*n?(r*o-n*a)/(r*i-n*n):0;return{xmin:s,xmax:l,a:h,b:(a-h*n)/r}},GT=function(t,r){return he(t)&&he(r)?t-r:Wi(t)&&Wi(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Ts(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function _g(e){"@babel/helpers - typeof";return _g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_g(e)}var HT=["viewBox","children"],VT=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Nb=["points","pathLength"],J0={svg:HT,polygon:Nb,polyline:Nb},iv=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],gd=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(S.isValidElement(t)&&(n=t.props),!bl(n))return null;var a={};return Object.keys(n).forEach(function(o){iv.includes(o)&&(a[o]=r||function(i){return n[o](n,i)})}),a},XT=function(t,r,n){return function(a){return t(r,n,a),null}},zc=function(t,r,n){if(!bl(t)||_g(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(o){var i=t[o];iv.includes(o)&&typeof i=="function"&&(a||(a={}),a[o]=XT(i,r,n))}),a},KT=["children"],YT=["children"];function _b(e,t){if(e==null)return{};var r=qT(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qT(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Og(e){"@babel/helpers - typeof";return Og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Og(e)}var Ob={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},fo=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},Pb=null,ep=null,sv=function e(t){if(t===Pb&&Array.isArray(ep))return ep;var r=[];return S.Children.forEach(t,function(n){Ie(n)||(CT.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),ep=r,Pb=t,r};function Fn(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return fo(a)}):n=[fo(t)],sv(e).forEach(function(a){var o=ya(a,"type.displayName")||ya(a,"type.name");n.indexOf(o)!==-1&&r.push(a)}),r}function qn(e,t){var r=Fn(e,t);return r&&r[0]}var Ab=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!he(n)||n<=0||!he(a)||a<=0)},ZT=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],QT=function(t){return t&&t.type&&Wi(t.type)&&ZT.indexOf(t.type)>=0},US=function(t){return t&&Og(t)==="object"&&"clipDot"in t},JT=function(t,r,n,a){var o,i=(o=J0==null?void 0:J0[a])!==null&&o!==void 0?o:[];return r.startsWith("data-")||!Ge(t)&&(a&&i.includes(r)||VT.includes(r))||n&&iv.includes(r)},Ue=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(S.isValidElement(t)&&(a=t.props),!bl(a))return null;var o={};return Object.keys(a).forEach(function(i){var s;JT((s=a)===null||s===void 0?void 0:s[i],i,r,n)&&(o[i]=a[i])}),o},Pg=function e(t,r){if(t===r)return!0;var n=S.Children.count(t);if(n!==S.Children.count(r))return!1;if(n===0)return!0;if(n===1)return Mb(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var o=t[a],i=r[a];if(Array.isArray(o)||Array.isArray(i)){if(!e(o,i))return!1}else if(!Mb(o,i))return!1}return!0},Mb=function(t,r){if(Ie(t)&&Ie(r))return!0;if(!Ie(t)&&!Ie(r)){var n=t.props||{},a=n.children,o=_b(n,KT),i=r.props||{},s=i.children,l=_b(i,YT);return a&&s?Ts(o,l)&&Pg(a,s):!a&&!s?Ts(o,l):!1}return!1},Cb=function(t,r){var n=[],a={};return sv(t).forEach(function(o,i){if(QT(o))n.push(o);else if(o){var s=fo(o.type),l=r[s]||{},u=l.handler,f=l.once;if(u&&(!f||!a[s])){var d=u(o,s,i);n.push(d),a[s]=!0}}}),n},e$=function(t){var r=t&&t.type;return r&&Ob[r]?Ob[r]:null},t$=function(t,r){return sv(r).indexOf(t)},r$=["children","width","height","viewBox","className","style","title","desc"];function Ag(){return Ag=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ag.apply(this,arguments)}function n$(e,t){if(e==null)return{};var r=a$(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function a$(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Mg(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,o=e.className,i=e.style,s=e.title,l=e.desc,u=n$(e,r$),f=a||{width:r,height:n,x:0,y:0},d=ot("recharts-surface",o);return I.createElement("svg",Ag({},Ue(u,!0,"svg"),{className:d,width:r,height:n,style:i,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),I.createElement("title",null,s),I.createElement("desc",null,l),t)}var o$=["children","className"];function Cg(){return Cg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cg.apply(this,arguments)}function i$(e,t){if(e==null)return{};var r=s$(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function s$(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var mt=I.forwardRef(function(e,t){var r=e.children,n=e.className,a=i$(e,o$),o=ot("recharts-layer",n);return I.createElement("g",Cg({className:o},Ue(a,!0),{ref:t}),r)}),ho=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o]};function l$(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(a);++n<a;)o[n]=e[n+t];return o}var c$=l$,u$=c$;function f$(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:u$(e,t,r)}var d$=f$,h$="\\ud800-\\udfff",p$="\\u0300-\\u036f",g$="\\ufe20-\\ufe2f",m$="\\u20d0-\\u20ff",y$=p$+g$+m$,v$="\\ufe0e\\ufe0f",x$="\\u200d",b$=RegExp("["+x$+h$+y$+v$+"]");function w$(e){return b$.test(e)}var WS=w$;function k$(e){return e.split("")}var j$=k$,GS="\\ud800-\\udfff",S$="\\u0300-\\u036f",N$="\\ufe20-\\ufe2f",_$="\\u20d0-\\u20ff",O$=S$+N$+_$,P$="\\ufe0e\\ufe0f",A$="["+GS+"]",Eg="["+O$+"]",Tg="\\ud83c[\\udffb-\\udfff]",M$="(?:"+Eg+"|"+Tg+")",HS="[^"+GS+"]",VS="(?:\\ud83c[\\udde6-\\uddff]){2}",XS="[\\ud800-\\udbff][\\udc00-\\udfff]",C$="\\u200d",KS=M$+"?",YS="["+P$+"]?",E$="(?:"+C$+"(?:"+[HS,VS,XS].join("|")+")"+YS+KS+")*",T$=YS+KS+E$,$$="(?:"+[HS+Eg+"?",Eg,VS,XS,A$].join("|")+")",D$=RegExp(Tg+"(?="+Tg+")|"+$$+T$,"g");function R$(e){return e.match(D$)||[]}var L$=R$,I$=j$,B$=WS,F$=L$;function z$(e){return B$(e)?F$(e):I$(e)}var U$=z$,W$=d$,G$=WS,H$=U$,V$=RS;function X$(e){return function(t){t=V$(t);var r=G$(t)?H$(t):void 0,n=r?r[0]:t.charAt(0),a=r?W$(r,1).join(""):t.slice(1);return n[e]()+a}}var K$=X$,Y$=K$,q$=Y$("toUpperCase"),Z$=q$;const qh=Rt(Z$);function zt(e){return function(){return e}}const qS=Math.cos,md=Math.sin,La=Math.sqrt,yd=Math.PI,Zh=2*yd,$g=Math.PI,Dg=2*$g,ki=1e-6,Q$=Dg-ki;function ZS(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function J$(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return ZS;const r=10**t;return function(n){this._+=n[0];for(let a=1,o=n.length;a<o;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class e4{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?ZS:J$(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,o,i){this._append`C${+t},${+r},${+n},${+a},${this._x1=+o},${this._y1=+i}`}arcTo(t,r,n,a,o){if(t=+t,r=+r,n=+n,a=+a,o=+o,o<0)throw new Error(`negative radius: ${o}`);let i=this._x1,s=this._y1,l=n-t,u=a-r,f=i-t,d=s-r,h=f*f+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>ki)if(!(Math.abs(d*l-u*f)>ki)||!o)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-i,y=a-s,v=l*l+u*u,b=p*p+y*y,m=Math.sqrt(v),g=Math.sqrt(h),x=o*Math.tan(($g-Math.acos((v+h-b)/(2*m*g)))/2),j=x/g,w=x/m;Math.abs(j-1)>ki&&this._append`L${t+j*f},${r+j*d}`,this._append`A${o},${o},0,0,${+(d*p>f*y)},${this._x1=t+w*l},${this._y1=r+w*u}`}}arc(t,r,n,a,o,i){if(t=+t,r=+r,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(a),l=n*Math.sin(a),u=t+s,f=r+l,d=1^i,h=i?a-o:o-a;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>ki||Math.abs(this._y1-f)>ki)&&this._append`L${u},${f}`,n&&(h<0&&(h=h%Dg+Dg),h>Q$?this._append`A${n},${n},0,1,${d},${t-s},${r-l}A${n},${n},0,1,${d},${this._x1=u},${this._y1=f}`:h>ki&&this._append`A${n},${n},0,${+(h>=$g)},${d},${this._x1=t+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function lv(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new e4(t)}function cv(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function QS(e){this._context=e}QS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Qh(e){return new QS(e)}function JS(e){return e[0]}function eN(e){return e[1]}function tN(e,t){var r=zt(!0),n=null,a=Qh,o=null,i=lv(s);e=typeof e=="function"?e:e===void 0?JS:zt(e),t=typeof t=="function"?t:t===void 0?eN:zt(t);function s(l){var u,f=(l=cv(l)).length,d,h=!1,p;for(n==null&&(o=a(p=i())),u=0;u<=f;++u)!(u<f&&r(d=l[u],u,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+e(d,u,l),+t(d,u,l));if(p)return o=null,p+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:zt(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:zt(+l),s):t},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:zt(!!l),s):r},s.curve=function(l){return arguments.length?(a=l,n!=null&&(o=a(n)),s):a},s.context=function(l){return arguments.length?(l==null?n=o=null:o=a(n=l),s):n},s}function gf(e,t,r){var n=null,a=zt(!0),o=null,i=Qh,s=null,l=lv(u);e=typeof e=="function"?e:e===void 0?JS:zt(+e),t=typeof t=="function"?t:zt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?eN:zt(+r);function u(d){var h,p,y,v=(d=cv(d)).length,b,m=!1,g,x=new Array(v),j=new Array(v);for(o==null&&(s=i(g=l())),h=0;h<=v;++h){if(!(h<v&&a(b=d[h],h,d))===m)if(m=!m)p=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),y=h-1;y>=p;--y)s.point(x[y],j[y]);s.lineEnd(),s.areaEnd()}m&&(x[h]=+e(b,h,d),j[h]=+t(b,h,d),s.point(n?+n(b,h,d):x[h],r?+r(b,h,d):j[h]))}if(g)return s=null,g+""||null}function f(){return tN().defined(a).curve(i).context(o)}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:zt(+d),n=null,u):e},u.x0=function(d){return arguments.length?(e=typeof d=="function"?d:zt(+d),u):e},u.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:zt(+d),u):n},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:zt(+d),r=null,u):t},u.y0=function(d){return arguments.length?(t=typeof d=="function"?d:zt(+d),u):t},u.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:zt(+d),u):r},u.lineX0=u.lineY0=function(){return f().x(e).y(t)},u.lineY1=function(){return f().x(e).y(r)},u.lineX1=function(){return f().x(n).y(t)},u.defined=function(d){return arguments.length?(a=typeof d=="function"?d:zt(!!d),u):a},u.curve=function(d){return arguments.length?(i=d,o!=null&&(s=i(o)),u):i},u.context=function(d){return arguments.length?(d==null?o=s=null:s=i(o=d),u):o},u}class rN{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function t4(e){return new rN(e,!0)}function r4(e){return new rN(e,!1)}const uv={draw(e,t){const r=La(t/yd);e.moveTo(r,0),e.arc(0,0,r,0,Zh)}},n4={draw(e,t){const r=La(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},nN=La(1/3),a4=nN*2,o4={draw(e,t){const r=La(t/a4),n=r*nN;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},i4={draw(e,t){const r=La(t),n=-r/2;e.rect(n,n,r,r)}},s4=.8908130915292852,aN=md(yd/10)/md(7*yd/10),l4=md(Zh/10)*aN,c4=-qS(Zh/10)*aN,u4={draw(e,t){const r=La(t*s4),n=l4*r,a=c4*r;e.moveTo(0,-r),e.lineTo(n,a);for(let o=1;o<5;++o){const i=Zh*o/5,s=qS(i),l=md(i);e.lineTo(l*r,-s*r),e.lineTo(s*n-l*a,l*n+s*a)}e.closePath()}},tp=La(3),f4={draw(e,t){const r=-La(t/(tp*3));e.moveTo(0,r*2),e.lineTo(-tp*r,-r),e.lineTo(tp*r,-r),e.closePath()}},sa=-.5,la=La(3)/2,Rg=1/La(12),d4=(Rg/2+1)*3,h4={draw(e,t){const r=La(t/d4),n=r/2,a=r*Rg,o=n,i=r*Rg+r,s=-o,l=i;e.moveTo(n,a),e.lineTo(o,i),e.lineTo(s,l),e.lineTo(sa*n-la*a,la*n+sa*a),e.lineTo(sa*o-la*i,la*o+sa*i),e.lineTo(sa*s-la*l,la*s+sa*l),e.lineTo(sa*n+la*a,sa*a-la*n),e.lineTo(sa*o+la*i,sa*i-la*o),e.lineTo(sa*s+la*l,sa*l-la*s),e.closePath()}};function p4(e,t){let r=null,n=lv(a);e=typeof e=="function"?e:zt(e||uv),t=typeof t=="function"?t:zt(t===void 0?64:+t);function a(){let o;if(r||(r=o=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),o)return r=null,o+""||null}return a.type=function(o){return arguments.length?(e=typeof o=="function"?o:zt(o),a):e},a.size=function(o){return arguments.length?(t=typeof o=="function"?o:zt(+o),a):t},a.context=function(o){return arguments.length?(r=o??null,a):r},a}function vd(){}function xd(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function oN(e){this._context=e}oN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:xd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:xd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function g4(e){return new oN(e)}function iN(e){this._context=e}iN.prototype={areaStart:vd,areaEnd:vd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:xd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function m4(e){return new iN(e)}function sN(e){this._context=e}sN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:xd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function y4(e){return new sN(e)}function lN(e){this._context=e}lN.prototype={areaStart:vd,areaEnd:vd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function v4(e){return new lN(e)}function Eb(e){return e<0?-1:1}function Tb(e,t,r){var n=e._x1-e._x0,a=t-e._x1,o=(e._y1-e._y0)/(n||a<0&&-0),i=(r-e._y1)/(a||n<0&&-0),s=(o*a+i*n)/(n+a);return(Eb(o)+Eb(i))*Math.min(Math.abs(o),Math.abs(i),.5*Math.abs(s))||0}function $b(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function rp(e,t,r){var n=e._x0,a=e._y0,o=e._x1,i=e._y1,s=(o-n)/3;e._context.bezierCurveTo(n+s,a+s*t,o-s,i-s*r,o,i)}function bd(e){this._context=e}bd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:rp(this,this._t0,$b(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,rp(this,$b(this,r=Tb(this,e,t)),r);break;default:rp(this,this._t0,r=Tb(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function cN(e){this._context=new uN(e)}(cN.prototype=Object.create(bd.prototype)).point=function(e,t){bd.prototype.point.call(this,t,e)};function uN(e){this._context=e}uN.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,o){this._context.bezierCurveTo(t,e,n,r,o,a)}};function x4(e){return new bd(e)}function b4(e){return new cN(e)}function fN(e){this._context=e}fN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Db(e),a=Db(t),o=0,i=1;i<r;++o,++i)this._context.bezierCurveTo(n[0][o],a[0][o],n[1][o],a[1][o],e[i],t[i]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Db(e){var t,r=e.length-1,n,a=new Array(r),o=new Array(r),i=new Array(r);for(a[0]=0,o[0]=2,i[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,o[t]=4,i[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,o[r-1]=7,i[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/o[t-1],o[t]-=n,i[t]-=n*i[t-1];for(a[r-1]=i[r-1]/o[r-1],t=r-2;t>=0;--t)a[t]=(i[t]-a[t+1])/o[t];for(o[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-a[t+1];return[a,o]}function w4(e){return new fN(e)}function Jh(e,t){this._context=e,this._t=t}Jh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function k4(e){return new Jh(e,.5)}function j4(e){return new Jh(e,0)}function S4(e){return new Jh(e,1)}function Gs(e,t){if((i=e.length)>1)for(var r=1,n,a,o=e[t[0]],i,s=o.length;r<i;++r)for(a=o,o=e[t[r]],n=0;n<s;++n)o[n][1]+=o[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function Lg(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function N4(e,t){return e[t]}function _4(e){const t=[];return t.key=e,t}function O4(){var e=zt([]),t=Lg,r=Gs,n=N4;function a(o){var i=Array.from(e.apply(this,arguments),_4),s,l=i.length,u=-1,f;for(const d of o)for(s=0,++u;s<l;++s)(i[s][u]=[0,+n(d,i[s].key,u,o)]).data=d;for(s=0,f=cv(t(i));s<l;++s)i[f[s]].index=s;return r(i,f),i}return a.keys=function(o){return arguments.length?(e=typeof o=="function"?o:zt(Array.from(o)),a):e},a.value=function(o){return arguments.length?(n=typeof o=="function"?o:zt(+o),a):n},a.order=function(o){return arguments.length?(t=o==null?Lg:typeof o=="function"?o:zt(Array.from(o)),a):t},a.offset=function(o){return arguments.length?(r=o??Gs,a):r},a}function P4(e,t){if((n=e.length)>0){for(var r,n,a=0,o=e[0].length,i;a<o;++a){for(i=r=0;r<n;++r)i+=e[r][a][1]||0;if(i)for(r=0;r<n;++r)e[r][a][1]/=i}Gs(e,t)}}function A4(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,o=n.length;r<o;++r){for(var i=0,s=0;i<a;++i)s+=e[i][r][1]||0;n[r][1]+=n[r][0]=-s/2}Gs(e,t)}}function M4(e,t){if(!(!((i=e.length)>0)||!((o=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,o,i;n<o;++n){for(var s=0,l=0,u=0;s<i;++s){for(var f=e[t[s]],d=f[n][1]||0,h=f[n-1][1]||0,p=(d-h)/2,y=0;y<s;++y){var v=e[t[y]],b=v[n][1]||0,m=v[n-1][1]||0;p+=b-m}l+=d,u+=p*d}a[n-1][1]+=a[n-1][0]=r,l&&(r-=u/l)}a[n-1][1]+=a[n-1][0]=r,Gs(e,t)}}function Uc(e){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uc(e)}var C4=["type","size","sizeType"];function Ig(){return Ig=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ig.apply(this,arguments)}function Rb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rb(Object(r),!0).forEach(function(n){E4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function E4(e,t,r){return t=T4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T4(e){var t=$4(e,"string");return Uc(t)=="symbol"?t:t+""}function $4(e,t){if(Uc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Uc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function D4(e,t){if(e==null)return{};var r=R4(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function R4(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var dN={symbolCircle:uv,symbolCross:n4,symbolDiamond:o4,symbolSquare:i4,symbolStar:u4,symbolTriangle:f4,symbolWye:h4},L4=Math.PI/180,I4=function(t){var r="symbol".concat(qh(t));return dN[r]||uv},B4=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*L4;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},F4=function(t,r){dN["symbol".concat(qh(t))]=r},e0=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,o=a===void 0?64:a,i=t.sizeType,s=i===void 0?"area":i,l=D4(t,C4),u=Lb(Lb({},l),{},{type:n,size:o,sizeType:s}),f=function(){var b=I4(n),m=p4().type(b).size(B4(o,s,n));return m()},d=u.className,h=u.cx,p=u.cy,y=Ue(u,!0);return h===+h&&p===+p&&o===+o?I.createElement("path",Ig({},y,{className:ot("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(p,")"),d:f()})):null};e0.registerSymbol=F4;function Hs(e){"@babel/helpers - typeof";return Hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hs(e)}function Bg(){return Bg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bg.apply(this,arguments)}function Ib(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function z4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ib(Object(r),!0).forEach(function(n){Wc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ib(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function U4(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pN(n.key),n)}}function G4(e,t,r){return t&&W4(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function H4(e,t,r){return t=wd(t),V4(e,hN()?Reflect.construct(t,r||[],wd(e).constructor):t.apply(e,r))}function V4(e,t){if(t&&(Hs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X4(e)}function X4(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hN=function(){return!!e})()}function wd(e){return wd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wd(e)}function K4(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fg(e,t)}function Fg(e,t){return Fg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Fg(e,t)}function Wc(e,t,r){return t=pN(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pN(e){var t=Y4(e,"string");return Hs(t)=="symbol"?t:t+""}function Y4(e,t){if(Hs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ca=32,fv=function(e){function t(){return U4(this,t),H4(this,t,arguments)}return K4(t,e),G4(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,o=ca/2,i=ca/6,s=ca/3,l=n.inactive?a:n.color;if(n.type==="plainline")return I.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:o,x2:ca,y2:o,className:"recharts-legend-icon"});if(n.type==="line")return I.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(ca,"M").concat(2*s,",").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(n.type==="rect")return I.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(ca/8,"h").concat(ca,"v").concat(ca*3/4,"h").concat(-ca,"z"),className:"recharts-legend-icon"});if(I.isValidElement(n.legendIcon)){var u=z4({},n);return delete u.legendIcon,I.cloneElement(n.legendIcon,u)}return I.createElement(e0,{fill:l,cx:o,cy:o,size:ca,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,o=a.payload,i=a.iconSize,s=a.layout,l=a.formatter,u=a.inactiveColor,f={x:0,y:0,width:ca,height:ca},d={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(p,y){var v=p.formatter||l,b=ot(Wc(Wc({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",p.inactive));if(p.type==="none")return null;var m=Ge(p.value)?null:p.value;ho(!Ge(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var g=p.inactive?u:p.color;return I.createElement("li",Bg({className:b,style:d,key:"legend-item-".concat(y)},zc(n.props,p,y)),I.createElement(Mg,{width:i,height:i,viewBox:f,style:h},n.renderIcon(p)),I.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},v?v(m,p,y):m))})}},{key:"render",value:function(){var n=this.props,a=n.payload,o=n.layout,i=n.align;if(!a||!a.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?i:"left"};return I.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(S.PureComponent);Wc(fv,"displayName","Legend");Wc(fv,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var q4=Lh;function Z4(){this.__data__=new q4,this.size=0}var Q4=Z4;function J4(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var e3=J4;function t3(e){return this.__data__.get(e)}var r3=t3;function n3(e){return this.__data__.has(e)}var a3=n3,o3=Lh,i3=Jy,s3=ev,l3=200;function c3(e,t){var r=this.__data__;if(r instanceof o3){var n=r.__data__;if(!i3||n.length<l3-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new s3(n)}return r.set(e,t),this.size=r.size,this}var u3=c3,f3=Lh,d3=Q4,h3=e3,p3=r3,g3=a3,m3=u3;function Nl(e){var t=this.__data__=new f3(e);this.size=t.size}Nl.prototype.clear=d3;Nl.prototype.delete=h3;Nl.prototype.get=p3;Nl.prototype.has=g3;Nl.prototype.set=m3;var gN=Nl,y3="__lodash_hash_undefined__";function v3(e){return this.__data__.set(e,y3),this}var x3=v3;function b3(e){return this.__data__.has(e)}var w3=b3,k3=ev,j3=x3,S3=w3;function kd(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new k3;++t<r;)this.add(e[t])}kd.prototype.add=kd.prototype.push=j3;kd.prototype.has=S3;var mN=kd;function N3(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var yN=N3;function _3(e,t){return e.has(t)}var vN=_3,O3=mN,P3=yN,A3=vN,M3=1,C3=2;function E3(e,t,r,n,a,o){var i=r&M3,s=e.length,l=t.length;if(s!=l&&!(i&&l>s))return!1;var u=o.get(e),f=o.get(t);if(u&&f)return u==t&&f==e;var d=-1,h=!0,p=r&C3?new O3:void 0;for(o.set(e,t),o.set(t,e);++d<s;){var y=e[d],v=t[d];if(n)var b=i?n(v,y,d,t,e,o):n(y,v,d,e,t,o);if(b!==void 0){if(b)continue;h=!1;break}if(p){if(!P3(t,function(m,g){if(!A3(p,g)&&(y===m||a(y,m,r,n,o)))return p.push(g)})){h=!1;break}}else if(!(y===v||a(y,v,r,n,o))){h=!1;break}}return o.delete(e),o.delete(t),h}var xN=E3,T3=Qa,$3=T3.Uint8Array,D3=$3;function R3(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var L3=R3;function I3(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var dv=I3,Bb=Au,Fb=D3,B3=Qy,F3=xN,z3=L3,U3=dv,W3=1,G3=2,H3="[object Boolean]",V3="[object Date]",X3="[object Error]",K3="[object Map]",Y3="[object Number]",q3="[object RegExp]",Z3="[object Set]",Q3="[object String]",J3="[object Symbol]",eD="[object ArrayBuffer]",tD="[object DataView]",zb=Bb?Bb.prototype:void 0,np=zb?zb.valueOf:void 0;function rD(e,t,r,n,a,o,i){switch(r){case tD:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case eD:return!(e.byteLength!=t.byteLength||!o(new Fb(e),new Fb(t)));case H3:case V3:case Y3:return B3(+e,+t);case X3:return e.name==t.name&&e.message==t.message;case q3:case Q3:return e==t+"";case K3:var s=z3;case Z3:var l=n&W3;if(s||(s=U3),e.size!=t.size&&!l)return!1;var u=i.get(e);if(u)return u==t;n|=G3,i.set(e,t);var f=F3(s(e),s(t),n,a,o,i);return i.delete(e),f;case J3:if(np)return np.call(e)==np.call(t)}return!1}var nD=rD;function aD(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var bN=aD,oD=bN,iD=Wn;function sD(e,t,r){var n=t(e);return iD(e)?n:oD(n,r(e))}var lD=sD;function cD(e,t){for(var r=-1,n=e==null?0:e.length,a=0,o=[];++r<n;){var i=e[r];t(i,r,e)&&(o[a++]=i)}return o}var uD=cD;function fD(){return[]}var dD=fD,hD=uD,pD=dD,gD=Object.prototype,mD=gD.propertyIsEnumerable,Ub=Object.getOwnPropertySymbols,yD=Ub?function(e){return e==null?[]:(e=Object(e),hD(Ub(e),function(t){return mD.call(e,t)}))}:pD,vD=yD;function xD(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var bD=xD,wD=So,kD=No,jD="[object Arguments]";function SD(e){return kD(e)&&wD(e)==jD}var ND=SD,Wb=ND,_D=No,wN=Object.prototype,OD=wN.hasOwnProperty,PD=wN.propertyIsEnumerable,AD=Wb(function(){return arguments}())?Wb:function(e){return _D(e)&&OD.call(e,"callee")&&!PD.call(e,"callee")},hv=AD,jd={exports:{}};function MD(){return!1}var CD=MD;jd.exports;(function(e,t){var r=Qa,n=CD,a=t&&!t.nodeType&&t,o=a&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===a,s=i?r.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||n;e.exports=u})(jd,jd.exports);var kN=jd.exports,ED=9007199254740991,TD=/^(?:0|[1-9]\d*)$/;function $D(e,t){var r=typeof e;return t=t??ED,!!t&&(r=="number"||r!="symbol"&&TD.test(e))&&e>-1&&e%1==0&&e<t}var pv=$D,DD=9007199254740991;function RD(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=DD}var gv=RD,LD=So,ID=gv,BD=No,FD="[object Arguments]",zD="[object Array]",UD="[object Boolean]",WD="[object Date]",GD="[object Error]",HD="[object Function]",VD="[object Map]",XD="[object Number]",KD="[object Object]",YD="[object RegExp]",qD="[object Set]",ZD="[object String]",QD="[object WeakMap]",JD="[object ArrayBuffer]",eR="[object DataView]",tR="[object Float32Array]",rR="[object Float64Array]",nR="[object Int8Array]",aR="[object Int16Array]",oR="[object Int32Array]",iR="[object Uint8Array]",sR="[object Uint8ClampedArray]",lR="[object Uint16Array]",cR="[object Uint32Array]",Yt={};Yt[tR]=Yt[rR]=Yt[nR]=Yt[aR]=Yt[oR]=Yt[iR]=Yt[sR]=Yt[lR]=Yt[cR]=!0;Yt[FD]=Yt[zD]=Yt[JD]=Yt[UD]=Yt[eR]=Yt[WD]=Yt[GD]=Yt[HD]=Yt[VD]=Yt[XD]=Yt[KD]=Yt[YD]=Yt[qD]=Yt[ZD]=Yt[QD]=!1;function uR(e){return BD(e)&&ID(e.length)&&!!Yt[LD(e)]}var fR=uR;function dR(e){return function(t){return e(t)}}var jN=dR,Sd={exports:{}};Sd.exports;(function(e,t){var r=MS,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===n,i=o&&r.process,s=function(){try{var l=a&&a.require&&a.require("util").types;return l||i&&i.binding&&i.binding("util")}catch{}}();e.exports=s})(Sd,Sd.exports);var hR=Sd.exports,pR=fR,gR=jN,Gb=hR,Hb=Gb&&Gb.isTypedArray,mR=Hb?gR(Hb):pR,SN=mR,yR=bD,vR=hv,xR=Wn,bR=kN,wR=pv,kR=SN,jR=Object.prototype,SR=jR.hasOwnProperty;function NR(e,t){var r=xR(e),n=!r&&vR(e),a=!r&&!n&&bR(e),o=!r&&!n&&!a&&kR(e),i=r||n||a||o,s=i?yR(e.length,String):[],l=s.length;for(var u in e)(t||SR.call(e,u))&&!(i&&(u=="length"||a&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||wR(u,l)))&&s.push(u);return s}var _R=NR,OR=Object.prototype;function PR(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||OR;return e===r}var AR=PR;function MR(e,t){return function(r){return e(t(r))}}var NN=MR,CR=NN,ER=CR(Object.keys,Object),TR=ER,$R=AR,DR=TR,RR=Object.prototype,LR=RR.hasOwnProperty;function IR(e){if(!$R(e))return DR(e);var t=[];for(var r in Object(e))LR.call(e,r)&&r!="constructor"&&t.push(r);return t}var BR=IR,FR=Zy,zR=gv;function UR(e){return e!=null&&zR(e.length)&&!FR(e)}var Mu=UR,WR=_R,GR=BR,HR=Mu;function VR(e){return HR(e)?WR(e):GR(e)}var t0=VR,XR=lD,KR=vD,YR=t0;function qR(e){return XR(e,YR,KR)}var ZR=qR,Vb=ZR,QR=1,JR=Object.prototype,eL=JR.hasOwnProperty;function tL(e,t,r,n,a,o){var i=r&QR,s=Vb(e),l=s.length,u=Vb(t),f=u.length;if(l!=f&&!i)return!1;for(var d=l;d--;){var h=s[d];if(!(i?h in t:eL.call(t,h)))return!1}var p=o.get(e),y=o.get(t);if(p&&y)return p==t&&y==e;var v=!0;o.set(e,t),o.set(t,e);for(var b=i;++d<l;){h=s[d];var m=e[h],g=t[h];if(n)var x=i?n(g,m,h,t,e,o):n(m,g,h,e,t,o);if(!(x===void 0?m===g||a(m,g,r,n,o):x)){v=!1;break}b||(b=h=="constructor")}if(v&&!b){var j=e.constructor,w=t.constructor;j!=w&&"constructor"in e&&"constructor"in t&&!(typeof j=="function"&&j instanceof j&&typeof w=="function"&&w instanceof w)&&(v=!1)}return o.delete(e),o.delete(t),v}var rL=tL,nL=Qi,aL=Qa,oL=nL(aL,"DataView"),iL=oL,sL=Qi,lL=Qa,cL=sL(lL,"Promise"),uL=cL,fL=Qi,dL=Qa,hL=fL(dL,"Set"),_N=hL,pL=Qi,gL=Qa,mL=pL(gL,"WeakMap"),yL=mL,zg=iL,Ug=Jy,Wg=uL,Gg=_N,Hg=yL,ON=So,_l=ES,Xb="[object Map]",vL="[object Object]",Kb="[object Promise]",Yb="[object Set]",qb="[object WeakMap]",Zb="[object DataView]",xL=_l(zg),bL=_l(Ug),wL=_l(Wg),kL=_l(Gg),jL=_l(Hg),ji=ON;(zg&&ji(new zg(new ArrayBuffer(1)))!=Zb||Ug&&ji(new Ug)!=Xb||Wg&&ji(Wg.resolve())!=Kb||Gg&&ji(new Gg)!=Yb||Hg&&ji(new Hg)!=qb)&&(ji=function(e){var t=ON(e),r=t==vL?e.constructor:void 0,n=r?_l(r):"";if(n)switch(n){case xL:return Zb;case bL:return Xb;case wL:return Kb;case kL:return Yb;case jL:return qb}return t});var SL=ji,ap=gN,NL=xN,_L=nD,OL=rL,Qb=SL,Jb=Wn,e1=kN,PL=SN,AL=1,t1="[object Arguments]",r1="[object Array]",mf="[object Object]",ML=Object.prototype,n1=ML.hasOwnProperty;function CL(e,t,r,n,a,o){var i=Jb(e),s=Jb(t),l=i?r1:Qb(e),u=s?r1:Qb(t);l=l==t1?mf:l,u=u==t1?mf:u;var f=l==mf,d=u==mf,h=l==u;if(h&&e1(e)){if(!e1(t))return!1;i=!0,f=!1}if(h&&!f)return o||(o=new ap),i||PL(e)?NL(e,t,r,n,a,o):_L(e,t,l,r,n,a,o);if(!(r&AL)){var p=f&&n1.call(e,"__wrapped__"),y=d&&n1.call(t,"__wrapped__");if(p||y){var v=p?e.value():e,b=y?t.value():t;return o||(o=new ap),a(v,b,r,n,o)}}return h?(o||(o=new ap),OL(e,t,r,n,a,o)):!1}var EL=CL,TL=EL,a1=No;function PN(e,t,r,n,a){return e===t?!0:e==null||t==null||!a1(e)&&!a1(t)?e!==e&&t!==t:TL(e,t,r,n,PN,a)}var mv=PN,$L=gN,DL=mv,RL=1,LL=2;function IL(e,t,r,n){var a=r.length,o=a,i=!n;if(e==null)return!o;for(e=Object(e);a--;){var s=r[a];if(i&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<o;){s=r[a];var l=s[0],u=e[l],f=s[1];if(i&&s[2]){if(u===void 0&&!(l in e))return!1}else{var d=new $L;if(n)var h=n(u,f,l,e,t,d);if(!(h===void 0?DL(f,u,RL|LL,n,d):h))return!1}}return!0}var BL=IL,FL=ai;function zL(e){return e===e&&!FL(e)}var AN=zL,UL=AN,WL=t0;function GL(e){for(var t=WL(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,UL(a)]}return t}var HL=GL;function VL(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var MN=VL,XL=BL,KL=HL,YL=MN;function qL(e){var t=KL(e);return t.length==1&&t[0][2]?YL(t[0][0],t[0][1]):function(r){return r===e||XL(r,e,t)}}var ZL=qL;function QL(e,t){return e!=null&&t in Object(e)}var JL=QL,eI=LS,tI=hv,rI=Wn,nI=pv,aI=gv,oI=Bh;function iI(e,t,r){t=eI(t,e);for(var n=-1,a=t.length,o=!1;++n<a;){var i=oI(t[n]);if(!(o=e!=null&&r(e,i)))break;e=e[i]}return o||++n!=a?o:(a=e==null?0:e.length,!!a&&aI(a)&&nI(i,a)&&(rI(e)||tI(e)))}var sI=iI,lI=JL,cI=sI;function uI(e,t){return e!=null&&cI(e,t,lI)}var fI=uI,dI=mv,hI=IS,pI=fI,gI=qy,mI=AN,yI=MN,vI=Bh,xI=1,bI=2;function wI(e,t){return gI(e)&&mI(t)?yI(vI(e),t):function(r){var n=hI(r,e);return n===void 0&&n===t?pI(r,e):dI(t,n,xI|bI)}}var kI=wI;function jI(e){return e}var Ol=jI;function SI(e){return function(t){return t==null?void 0:t[e]}}var NI=SI,_I=nv;function OI(e){return function(t){return _I(t,e)}}var PI=OI,AI=NI,MI=PI,CI=qy,EI=Bh;function TI(e){return CI(e)?AI(EI(e)):MI(e)}var $I=TI,DI=ZL,RI=kI,LI=Ol,II=Wn,BI=$I;function FI(e){return typeof e=="function"?e:e==null?LI:typeof e=="object"?II(e)?RI(e[0],e[1]):DI(e):BI(e)}var oi=FI;function zI(e,t,r,n){for(var a=e.length,o=r+(n?1:-1);n?o--:++o<a;)if(t(e[o],o,e))return o;return-1}var CN=zI;function UI(e){return e!==e}var WI=UI;function GI(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var HI=GI,VI=CN,XI=WI,KI=HI;function YI(e,t,r){return t===t?KI(e,t,r):VI(e,XI,r)}var qI=YI,ZI=qI;function QI(e,t){var r=e==null?0:e.length;return!!r&&ZI(e,t,0)>-1}var JI=QI;function e6(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var t6=e6;function r6(){}var n6=r6,op=_N,a6=n6,o6=dv,i6=1/0,s6=op&&1/o6(new op([,-0]))[1]==i6?function(e){return new op(e)}:a6,l6=s6,c6=mN,u6=JI,f6=t6,d6=vN,h6=l6,p6=dv,g6=200;function m6(e,t,r){var n=-1,a=u6,o=e.length,i=!0,s=[],l=s;if(r)i=!1,a=f6;else if(o>=g6){var u=t?null:h6(e);if(u)return p6(u);i=!1,a=d6,l=new c6}else l=t?[]:s;e:for(;++n<o;){var f=e[n],d=t?t(f):f;if(f=r||f!==0?f:0,i&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;t&&l.push(d),s.push(f)}else a(l,d,r)||(l!==s&&l.push(d),s.push(f))}return s}var y6=m6,v6=oi,x6=y6;function b6(e,t){return e&&e.length?x6(e,v6(t)):[]}var w6=b6;const o1=Rt(w6);function EN(e,t,r){return t===!0?o1(e,r):Ge(t)?o1(e,t):e}function Vs(e){"@babel/helpers - typeof";return Vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vs(e)}var k6=["ref"];function i1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ro(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i1(Object(r),!0).forEach(function(n){r0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function j6(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s1(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$N(n.key),n)}}function S6(e,t,r){return t&&s1(e.prototype,t),r&&s1(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function N6(e,t,r){return t=Nd(t),_6(e,TN()?Reflect.construct(t,r||[],Nd(e).constructor):t.apply(e,r))}function _6(e,t){if(t&&(Vs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O6(e)}function O6(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TN=function(){return!!e})()}function Nd(e){return Nd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nd(e)}function P6(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vg(e,t)}function Vg(e,t){return Vg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Vg(e,t)}function r0(e,t,r){return t=$N(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $N(e){var t=A6(e,"string");return Vs(t)=="symbol"?t:t+""}function A6(e,t){if(Vs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function M6(e,t){if(e==null)return{};var r=C6(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function C6(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function E6(e){return e.value}function T6(e,t){if(I.isValidElement(e))return I.cloneElement(e,t);if(typeof e=="function")return I.createElement(e,t);t.ref;var r=M6(t,k6);return I.createElement(fv,r)}var l1=1,Ha=function(e){function t(){var r;j6(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=N6(this,t,[].concat(a)),r0(r,"lastBoundingBox",{width:-1,height:-1}),r}return P6(t,e),S6(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>l1||Math.abs(a.height-this.lastBoundingBox.height)>l1)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ro({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,o=a.layout,i=a.align,s=a.verticalAlign,l=a.margin,u=a.chartWidth,f=a.chartHeight,d,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(i==="center"&&o==="vertical"){var p=this.getBBoxSnapshot();d={left:((u||0)-p.width)/2}}else d=i==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(s==="middle"){var y=this.getBBoxSnapshot();h={top:((f||0)-y.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return ro(ro({},d),h)}},{key:"render",value:function(){var n=this,a=this.props,o=a.content,i=a.width,s=a.height,l=a.wrapperStyle,u=a.payloadUniqBy,f=a.payload,d=ro(ro({position:"absolute",width:i||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return I.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(p){n.wrapperNode=p}},T6(o,ro(ro({},this.props),{},{payload:EN(f,u,E6)})))}}],[{key:"getWithHeight",value:function(n,a){var o=ro(ro({},this.defaultProps),n.props),i=o.layout;return i==="vertical"&&he(n.props.height)?{height:n.props.height}:i==="horizontal"?{width:n.props.width||a}:null}}])}(S.PureComponent);r0(Ha,"displayName","Legend");r0(Ha,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var c1=Au,$6=hv,D6=Wn,u1=c1?c1.isConcatSpreadable:void 0;function R6(e){return D6(e)||$6(e)||!!(u1&&e&&e[u1])}var L6=R6,I6=bN,B6=L6;function DN(e,t,r,n,a){var o=-1,i=e.length;for(r||(r=B6),a||(a=[]);++o<i;){var s=e[o];t>0&&r(s)?t>1?DN(s,t-1,r,n,a):I6(a,s):n||(a[a.length]=s)}return a}var RN=DN;function F6(e){return function(t,r,n){for(var a=-1,o=Object(t),i=n(t),s=i.length;s--;){var l=i[e?s:++a];if(r(o[l],l,o)===!1)break}return t}}var z6=F6,U6=z6,W6=U6(),G6=W6,H6=G6,V6=t0;function X6(e,t){return e&&H6(e,t,V6)}var LN=X6,K6=Mu;function Y6(e,t){return function(r,n){if(r==null)return r;if(!K6(r))return e(r,n);for(var a=r.length,o=t?a:-1,i=Object(r);(t?o--:++o<a)&&n(i[o],o,i)!==!1;);return r}}var q6=Y6,Z6=LN,Q6=q6,J6=Q6(Z6),yv=J6,eB=yv,tB=Mu;function rB(e,t){var r=-1,n=tB(e)?Array(e.length):[];return eB(e,function(a,o,i){n[++r]=t(a,o,i)}),n}var IN=rB;function nB(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var aB=nB,f1=xl;function oB(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,o=f1(e),i=t!==void 0,s=t===null,l=t===t,u=f1(t);if(!s&&!u&&!o&&e>t||o&&i&&l&&!s&&!u||n&&i&&l||!r&&l||!a)return 1;if(!n&&!o&&!u&&e<t||u&&r&&a&&!n&&!o||s&&r&&a||!i&&a||!l)return-1}return 0}var iB=oB,sB=iB;function lB(e,t,r){for(var n=-1,a=e.criteria,o=t.criteria,i=a.length,s=r.length;++n<i;){var l=sB(a[n],o[n]);if(l){if(n>=s)return l;var u=r[n];return l*(u=="desc"?-1:1)}}return e.index-t.index}var cB=lB,ip=rv,uB=nv,fB=oi,dB=IN,hB=aB,pB=jN,gB=cB,mB=Ol,yB=Wn;function vB(e,t,r){t.length?t=ip(t,function(o){return yB(o)?function(i){return uB(i,o.length===1?o[0]:o)}:o}):t=[mB];var n=-1;t=ip(t,pB(fB));var a=dB(e,function(o,i,s){var l=ip(t,function(u){return u(o)});return{criteria:l,index:++n,value:o}});return hB(a,function(o,i){return gB(o,i,r)})}var xB=vB;function bB(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var wB=bB,kB=wB,d1=Math.max;function jB(e,t,r){return t=d1(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,o=d1(n.length-t,0),i=Array(o);++a<o;)i[a]=n[t+a];a=-1;for(var s=Array(t+1);++a<t;)s[a]=n[a];return s[t]=r(i),kB(e,this,s)}}var SB=jB;function NB(e){return function(){return e}}var _B=NB,OB=Qi,PB=function(){try{var e=OB(Object,"defineProperty");return e({},"",{}),e}catch{}}(),BN=PB,AB=_B,h1=BN,MB=Ol,CB=h1?function(e,t){return h1(e,"toString",{configurable:!0,enumerable:!1,value:AB(t),writable:!0})}:MB,EB=CB,TB=800,$B=16,DB=Date.now;function RB(e){var t=0,r=0;return function(){var n=DB(),a=$B-(n-r);if(r=n,a>0){if(++t>=TB)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var LB=RB,IB=EB,BB=LB,FB=BB(IB),zB=FB,UB=Ol,WB=SB,GB=zB;function HB(e,t){return GB(WB(e,t,UB),e+"")}var VB=HB,XB=Qy,KB=Mu,YB=pv,qB=ai;function ZB(e,t,r){if(!qB(r))return!1;var n=typeof t;return(n=="number"?KB(r)&&YB(t,r.length):n=="string"&&t in r)?XB(r[t],e):!1}var n0=ZB,QB=RN,JB=xB,e8=VB,p1=n0,t8=e8(function(e,t){if(e==null)return[];var r=t.length;return r>1&&p1(e,t[0],t[1])?t=[]:r>2&&p1(t[0],t[1],t[2])&&(t=[t[0]]),JB(e,QB(t,1),[])}),r8=t8;const vv=Rt(r8);function Gc(e){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gc(e)}function Xg(){return Xg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xg.apply(this,arguments)}function n8(e,t){return s8(e)||i8(e,t)||o8(e,t)||a8()}function a8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o8(e,t){if(e){if(typeof e=="string")return g1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g1(e,t)}}function g1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i8(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){u=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return s}}function s8(e){if(Array.isArray(e))return e}function m1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m1(Object(r),!0).forEach(function(n){l8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function l8(e,t,r){return t=c8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c8(e){var t=u8(e,"string");return Gc(t)=="symbol"?t:t+""}function u8(e,t){if(Gc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function f8(e){return Array.isArray(e)&&Ir(e[0])&&Ir(e[1])?e.join(" ~ "):e}var d8=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,o=a===void 0?{}:a,i=t.itemStyle,s=i===void 0?{}:i,l=t.labelStyle,u=l===void 0?{}:l,f=t.payload,d=t.formatter,h=t.itemSorter,p=t.wrapperClassName,y=t.labelClassName,v=t.label,b=t.labelFormatter,m=t.accessibilityLayer,g=m===void 0?!1:m,x=function(){if(f&&f.length){var C={padding:0,margin:0},R=(h?vv(f,h):f).map(function(z,T){if(z.type==="none")return null;var G=sp({display:"block",paddingTop:4,paddingBottom:4,color:z.color||"#000"},s),P=z.formatter||d||f8,E=z.value,$=z.name,U=E,te=$;if(P&&U!=null&&te!=null){var K=P(E,$,z,T,f);if(Array.isArray(K)){var L=n8(K,2);U=L[0],te=L[1]}else U=K}return I.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(T),style:G},Ir(te)?I.createElement("span",{className:"recharts-tooltip-item-name"},te):null,Ir(te)?I.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,I.createElement("span",{className:"recharts-tooltip-item-value"},U),I.createElement("span",{className:"recharts-tooltip-item-unit"},z.unit||""))});return I.createElement("ul",{className:"recharts-tooltip-item-list",style:C},R)}return null},j=sp({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),w=sp({margin:0},u),k=!Ie(v),N=k?v:"",_=ot("recharts-default-tooltip",p),O=ot("recharts-tooltip-label",y);k&&b&&f!==void 0&&f!==null&&(N=b(v,f));var A=g?{role:"status","aria-live":"assertive"}:{};return I.createElement("div",Xg({className:_,style:j},A),I.createElement("p",{className:O,style:w},I.isValidElement(N)?N:"".concat(N)),x())};function Hc(e){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hc(e)}function yf(e,t,r){return t=h8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h8(e){var t=p8(e,"string");return Hc(t)=="symbol"?t:t+""}function p8(e,t){if(Hc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xl="recharts-tooltip-wrapper",g8={visibility:"hidden"};function m8(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return ot(Xl,yf(yf(yf(yf({},"".concat(Xl,"-right"),he(r)&&t&&he(t.x)&&r>=t.x),"".concat(Xl,"-left"),he(r)&&t&&he(t.x)&&r<t.x),"".concat(Xl,"-bottom"),he(n)&&t&&he(t.y)&&n>=t.y),"".concat(Xl,"-top"),he(n)&&t&&he(t.y)&&n<t.y))}function y1(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,o=e.position,i=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,u=e.viewBoxDimension;if(o&&he(o[n]))return o[n];var f=r[n]-s-a,d=r[n]+a;if(t[n])return i[n]?f:d;if(i[n]){var h=f,p=l[n];return h<p?Math.max(d,l[n]):Math.max(f,l[n])}var y=d+s,v=l[n]+u;return y>v?Math.max(f,l[n]):Math.max(d,l[n])}function y8(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function v8(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,o=e.reverseDirection,i=e.tooltipBox,s=e.useTranslate3d,l=e.viewBox,u,f,d;return i.height>0&&i.width>0&&r?(f=y1({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:o,tooltipDimension:i.width,viewBox:l,viewBoxDimension:l.width}),d=y1({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:o,tooltipDimension:i.height,viewBox:l,viewBoxDimension:l.height}),u=y8({translateX:f,translateY:d,useTranslate3d:s})):u=g8,{cssProperties:u,cssClasses:m8({translateX:f,translateY:d,coordinate:r})}}function Xs(e){"@babel/helpers - typeof";return Xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xs(e)}function v1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function x1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v1(Object(r),!0).forEach(function(n){Yg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function x8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b8(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zN(n.key),n)}}function w8(e,t,r){return t&&b8(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function k8(e,t,r){return t=_d(t),j8(e,FN()?Reflect.construct(t,r||[],_d(e).constructor):t.apply(e,r))}function j8(e,t){if(t&&(Xs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S8(e)}function S8(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FN=function(){return!!e})()}function _d(e){return _d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_d(e)}function N8(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kg(e,t)}function Kg(e,t){return Kg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Kg(e,t)}function Yg(e,t,r){return t=zN(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zN(e){var t=_8(e,"string");return Xs(t)=="symbol"?t:t+""}function _8(e,t){if(Xs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var b1=1,O8=function(e){function t(){var r;x8(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=k8(this,t,[].concat(a)),Yg(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Yg(r,"handleKeyDown",function(i){if(i.key==="Escape"){var s,l,u,f;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(f=r.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&u!==void 0?u:0}})}}),r}return N8(t,e),w8(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>b1||Math.abs(n.height-this.state.lastBoundingBox.height)>b1)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,o=a.active,i=a.allowEscapeViewBox,s=a.animationDuration,l=a.animationEasing,u=a.children,f=a.coordinate,d=a.hasPayload,h=a.isAnimationActive,p=a.offset,y=a.position,v=a.reverseDirection,b=a.useTranslate3d,m=a.viewBox,g=a.wrapperStyle,x=v8({allowEscapeViewBox:i,coordinate:f,offsetTopLeft:p,position:y,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:m}),j=x.cssClasses,w=x.cssProperties,k=x1(x1({transition:h&&o?"transform ".concat(s,"ms ").concat(l):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&d?"visible":"hidden",position:"absolute",top:0,left:0},g);return I.createElement("div",{tabIndex:-1,className:j,style:k,ref:function(_){n.wrapperNode=_}},u)}}])}(S.PureComponent),P8=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ii={isSsr:P8()};function Ks(e){"@babel/helpers - typeof";return Ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ks(e)}function w1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function k1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w1(Object(r),!0).forEach(function(n){xv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function A8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M8(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,WN(n.key),n)}}function C8(e,t,r){return t&&M8(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function E8(e,t,r){return t=Od(t),T8(e,UN()?Reflect.construct(t,r||[],Od(e).constructor):t.apply(e,r))}function T8(e,t){if(t&&(Ks(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $8(e)}function $8(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UN=function(){return!!e})()}function Od(e){return Od=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Od(e)}function D8(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qg(e,t)}function qg(e,t){return qg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},qg(e,t)}function xv(e,t,r){return t=WN(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WN(e){var t=R8(e,"string");return Ks(t)=="symbol"?t:t+""}function R8(e,t){if(Ks(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ks(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function L8(e){return e.dataKey}function I8(e,t){return I.isValidElement(e)?I.cloneElement(e,t):typeof e=="function"?I.createElement(e,t):I.createElement(d8,t)}var Hr=function(e){function t(){return A8(this,t),E8(this,t,arguments)}return D8(t,e),C8(t,[{key:"render",value:function(){var n=this,a=this.props,o=a.active,i=a.allowEscapeViewBox,s=a.animationDuration,l=a.animationEasing,u=a.content,f=a.coordinate,d=a.filterNull,h=a.isAnimationActive,p=a.offset,y=a.payload,v=a.payloadUniqBy,b=a.position,m=a.reverseDirection,g=a.useTranslate3d,x=a.viewBox,j=a.wrapperStyle,w=y??[];d&&w.length&&(w=EN(y.filter(function(N){return N.value!=null&&(N.hide!==!0||n.props.includeHidden)}),v,L8));var k=w.length>0;return I.createElement(O8,{allowEscapeViewBox:i,animationDuration:s,animationEasing:l,isAnimationActive:h,active:o,coordinate:f,hasPayload:k,offset:p,position:b,reverseDirection:m,useTranslate3d:g,viewBox:x,wrapperStyle:j},I8(u,k1(k1({},this.props),{},{payload:w})))}}])}(S.PureComponent);xv(Hr,"displayName","Tooltip");xv(Hr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ii.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var B8=Qa,F8=function(){return B8.Date.now()},z8=F8,U8=/\s/;function W8(e){for(var t=e.length;t--&&U8.test(e.charAt(t)););return t}var G8=W8,H8=G8,V8=/^\s+/;function X8(e){return e&&e.slice(0,H8(e)+1).replace(V8,"")}var K8=X8,Y8=K8,j1=ai,q8=xl,S1=NaN,Z8=/^[-+]0x[0-9a-f]+$/i,Q8=/^0b[01]+$/i,J8=/^0o[0-7]+$/i,eF=parseInt;function tF(e){if(typeof e=="number")return e;if(q8(e))return S1;if(j1(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=j1(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Y8(e);var r=Q8.test(e);return r||J8.test(e)?eF(e.slice(2),r?2:8):Z8.test(e)?S1:+e}var GN=tF,rF=ai,lp=z8,N1=GN,nF="Expected a function",aF=Math.max,oF=Math.min;function iF(e,t,r){var n,a,o,i,s,l,u=0,f=!1,d=!1,h=!0;if(typeof e!="function")throw new TypeError(nF);t=N1(t)||0,rF(r)&&(f=!!r.leading,d="maxWait"in r,o=d?aF(N1(r.maxWait)||0,t):o,h="trailing"in r?!!r.trailing:h);function p(k){var N=n,_=a;return n=a=void 0,u=k,i=e.apply(_,N),i}function y(k){return u=k,s=setTimeout(m,t),f?p(k):i}function v(k){var N=k-l,_=k-u,O=t-N;return d?oF(O,o-_):O}function b(k){var N=k-l,_=k-u;return l===void 0||N>=t||N<0||d&&_>=o}function m(){var k=lp();if(b(k))return g(k);s=setTimeout(m,v(k))}function g(k){return s=void 0,h&&n?p(k):(n=a=void 0,i)}function x(){s!==void 0&&clearTimeout(s),u=0,n=l=a=s=void 0}function j(){return s===void 0?i:g(lp())}function w(){var k=lp(),N=b(k);if(n=arguments,a=this,l=k,N){if(s===void 0)return y(l);if(d)return clearTimeout(s),s=setTimeout(m,t),p(l)}return s===void 0&&(s=setTimeout(m,t)),i}return w.cancel=x,w.flush=j,w}var sF=iF,lF=sF,cF=ai,uF="Expected a function";function fF(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(uF);return cF(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),lF(e,t,{leading:n,maxWait:t,trailing:a})}var dF=fF;const HN=Rt(dF);function Vc(e){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vc(e)}function _1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_1(Object(r),!0).forEach(function(n){hF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hF(e,t,r){return t=pF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pF(e){var t=gF(e,"string");return Vc(t)=="symbol"?t:t+""}function gF(e,t){if(Vc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mF(e,t){return bF(e)||xF(e,t)||vF(e,t)||yF()}function yF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vF(e,t){if(e){if(typeof e=="string")return O1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O1(e,t)}}function O1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xF(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){u=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return s}}function bF(e){if(Array.isArray(e))return e}var po=S.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,o=e.width,i=o===void 0?"100%":o,s=e.height,l=s===void 0?"100%":s,u=e.minWidth,f=u===void 0?0:u,d=e.minHeight,h=e.maxHeight,p=e.children,y=e.debounce,v=y===void 0?0:y,b=e.id,m=e.className,g=e.onResize,x=e.style,j=x===void 0?{}:x,w=S.useRef(null),k=S.useRef();k.current=g,S.useImperativeHandle(t,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var N=S.useState({containerWidth:a.width,containerHeight:a.height}),_=mF(N,2),O=_[0],A=_[1],M=S.useCallback(function(R,z){A(function(T){var G=Math.round(R),P=Math.round(z);return T.containerWidth===G&&T.containerHeight===P?T:{containerWidth:G,containerHeight:P}})},[]);S.useEffect(function(){var R=function($){var U,te=$[0].contentRect,K=te.width,L=te.height;M(K,L),(U=k.current)===null||U===void 0||U.call(k,K,L)};v>0&&(R=HN(R,v,{trailing:!0,leading:!1}));var z=new ResizeObserver(R),T=w.current.getBoundingClientRect(),G=T.width,P=T.height;return M(G,P),z.observe(w.current),function(){z.disconnect()}},[M,v]);var C=S.useMemo(function(){var R=O.containerWidth,z=O.containerHeight;if(R<0||z<0)return null;ho(Pi(i)||Pi(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,l),ho(!r||r>0,"The aspect(%s) must be greater than zero.",r);var T=Pi(i)?R:i,G=Pi(l)?z:l;r&&r>0&&(T?G=T/r:G&&(T=G*r),h&&G>h&&(G=h)),ho(T>0||G>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,T,G,i,l,f,d,r);var P=!Array.isArray(p)&&fo(p.type).endsWith("Chart");return I.Children.map(p,function(E){return I.isValidElement(E)?S.cloneElement(E,vf({width:T,height:G},P?{style:vf({height:"100%",width:"100%",maxHeight:G,maxWidth:T},E.props.style)}:{})):E})},[r,p,l,h,d,f,O,i]);return I.createElement("div",{id:b?"".concat(b):void 0,className:ot("recharts-responsive-container",m),style:vf(vf({},j),{},{width:i,height:l,minWidth:f,minHeight:d,maxHeight:h}),ref:w},C)}),bv=function(t){return null};bv.displayName="Cell";function Xc(e){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xc(e)}function P1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P1(Object(r),!0).forEach(function(n){wF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wF(e,t,r){return t=kF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kF(e){var t=jF(e,"string");return Xc(t)=="symbol"?t:t+""}function jF(e,t){if(Xc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ls={widthCache:{},cacheCount:0},SF=2e3,NF={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},A1="recharts_measurement_span";function _F(e){var t=Zg({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var mc=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ii.isSsr)return{width:0,height:0};var n=_F(r),a=JSON.stringify({text:t,copyStyle:n});if(ls.widthCache[a])return ls.widthCache[a];try{var o=document.getElementById(A1);o||(o=document.createElement("span"),o.setAttribute("id",A1),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var i=Zg(Zg({},NF),n);Object.assign(o.style,i),o.textContent="".concat(t);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return ls.widthCache[a]=l,++ls.cacheCount>SF&&(ls.cacheCount=0,ls.widthCache={}),l}catch{return{width:0,height:0}}},OF=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Kc(e){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kc(e)}function Pd(e,t){return CF(e)||MF(e,t)||AF(e,t)||PF()}function PF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AF(e,t){if(e){if(typeof e=="string")return M1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M1(e,t)}}function M1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function MF(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){u=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return s}}function CF(e){if(Array.isArray(e))return e}function EF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C1(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$F(n.key),n)}}function TF(e,t,r){return t&&C1(e.prototype,t),r&&C1(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function $F(e){var t=DF(e,"string");return Kc(t)=="symbol"?t:t+""}function DF(e,t){if(Kc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var E1=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,T1=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,RF=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,LF=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,VN={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},IF=Object.keys(VN),Ss="NaN";function BF(e,t){return e*VN[t]}var xf=function(){function e(t,r){EF(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!RF.test(r)&&(this.num=NaN,this.unit=""),IF.includes(r)&&(this.num=BF(t,r),this.unit="px")}return TF(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=LF.exec(r))!==null&&n!==void 0?n:[],o=Pd(a,3),i=o[1],s=o[2];return new e(parseFloat(i),s??"")}}])}();function XN(e){if(e.includes(Ss))return Ss;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=E1.exec(t))!==null&&r!==void 0?r:[],a=Pd(n,4),o=a[1],i=a[2],s=a[3],l=xf.parse(o??""),u=xf.parse(s??""),f=i==="*"?l.multiply(u):l.divide(u);if(f.isNaN())return Ss;t=t.replace(E1,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,h=(d=T1.exec(t))!==null&&d!==void 0?d:[],p=Pd(h,4),y=p[1],v=p[2],b=p[3],m=xf.parse(y??""),g=xf.parse(b??""),x=v==="+"?m.add(g):m.subtract(g);if(x.isNaN())return Ss;t=t.replace(T1,x.toString())}return t}var $1=/\(([^()]*)\)/;function FF(e){for(var t=e;t.includes("(");){var r=$1.exec(t),n=Pd(r,2),a=n[1];t=t.replace($1,XN(a))}return t}function zF(e){var t=e.replace(/\s+/g,"");return t=FF(t),t=XN(t),t}function UF(e){try{return zF(e)}catch{return Ss}}function cp(e){var t=UF(e.slice(5,-1));return t===Ss?"":t}var WF=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],GF=["dx","dy","angle","className","breakAll"];function Qg(){return Qg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qg.apply(this,arguments)}function D1(e,t){if(e==null)return{};var r=HF(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function HF(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function R1(e,t){return YF(e)||KF(e,t)||XF(e,t)||VF()}function VF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XF(e,t){if(e){if(typeof e=="string")return L1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return L1(e,t)}}function L1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function KF(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){u=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return s}}function YF(e){if(Array.isArray(e))return e}var KN=/[ \f\n\r\t\v\u2028\u2029]+/,YN=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var o=[];Ie(r)||(n?o=r.toString().split(""):o=r.toString().split(KN));var i=o.map(function(l){return{word:l,width:mc(l,a).width}}),s=n?0:mc("",a).width;return{wordsWithComputedWidth:i,spaceWidth:s}}catch{return null}},qF=function(t,r,n,a,o){var i=t.maxLines,s=t.children,l=t.style,u=t.breakAll,f=he(i),d=s,h=function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return T.reduce(function(G,P){var E=P.word,$=P.width,U=G[G.length-1];if(U&&(a==null||o||U.width+$+n<Number(a)))U.words.push(E),U.width+=$+n;else{var te={words:[E],width:$};G.push(te)}return G},[])},p=h(r),y=function(T){return T.reduce(function(G,P){return G.width>P.width?G:P})};if(!f)return p;for(var v="",b=function(T){var G=d.slice(0,T),P=YN({breakAll:u,style:l,children:G+v}).wordsWithComputedWidth,E=h(P),$=E.length>i||y(E).width>Number(a);return[$,E]},m=0,g=d.length-1,x=0,j;m<=g&&x<=d.length-1;){var w=Math.floor((m+g)/2),k=w-1,N=b(k),_=R1(N,2),O=_[0],A=_[1],M=b(w),C=R1(M,1),R=C[0];if(!O&&!R&&(m=w+1),O&&R&&(g=w-1),!O&&R){j=A;break}x++}return j||p},I1=function(t){var r=Ie(t)?[]:t.toString().split(KN);return[{words:r}]},ZF=function(t){var r=t.width,n=t.scaleToFit,a=t.children,o=t.style,i=t.breakAll,s=t.maxLines;if((r||n)&&!ii.isSsr){var l,u,f=YN({breakAll:i,children:a,style:o});if(f){var d=f.wordsWithComputedWidth,h=f.spaceWidth;l=d,u=h}else return I1(a);return qF({breakAll:i,children:a,maxLines:s,style:o},l,u,r,n)}return I1(a)},B1="#808080",Ad=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,o=a===void 0?0:a,i=t.lineHeight,s=i===void 0?"1em":i,l=t.capHeight,u=l===void 0?"0.71em":l,f=t.scaleToFit,d=f===void 0?!1:f,h=t.textAnchor,p=h===void 0?"start":h,y=t.verticalAnchor,v=y===void 0?"end":y,b=t.fill,m=b===void 0?B1:b,g=D1(t,WF),x=S.useMemo(function(){return ZF({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:d,style:g.style,width:g.width})},[g.breakAll,g.children,g.maxLines,d,g.style,g.width]),j=g.dx,w=g.dy,k=g.angle,N=g.className,_=g.breakAll,O=D1(g,GF);if(!Ir(n)||!Ir(o))return null;var A=n+(he(j)?j:0),M=o+(he(w)?w:0),C;switch(v){case"start":C=cp("calc(".concat(u,")"));break;case"middle":C=cp("calc(".concat((x.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:C=cp("calc(".concat(x.length-1," * -").concat(s,")"));break}var R=[];if(d){var z=x[0].width,T=g.width;R.push("scale(".concat((he(T)?T/z:1)/z,")"))}return k&&R.push("rotate(".concat(k,", ").concat(A,", ").concat(M,")")),R.length&&(O.transform=R.join(" ")),I.createElement("text",Qg({},Ue(O,!0),{x:A,y:M,className:ot("recharts-text",N),textAnchor:p,fill:m.includes("url")?B1:m}),x.map(function(G,P){var E=G.words.join(_?"":" ");return I.createElement("tspan",{x:A,dy:P===0?C:s,key:"".concat(E,"-").concat(P)},E)}))};function Qo(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function QF(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function wv(e){let t,r,n;e.length!==2?(t=Qo,r=(s,l)=>Qo(e(s),l),n=(s,l)=>e(s)-l):(t=e===Qo||e===QF?e:JF,r=e,n=e);function a(s,l,u=0,f=s.length){if(u<f){if(t(l,l)!==0)return f;do{const d=u+f>>>1;r(s[d],l)<0?u=d+1:f=d}while(u<f)}return u}function o(s,l,u=0,f=s.length){if(u<f){if(t(l,l)!==0)return f;do{const d=u+f>>>1;r(s[d],l)<=0?u=d+1:f=d}while(u<f)}return u}function i(s,l,u=0,f=s.length){const d=a(s,l,u,f-1);return d>u&&n(s[d-1],l)>-n(s[d],l)?d-1:d}return{left:a,center:i,right:o}}function JF(){return 0}function qN(e){return e===null?NaN:+e}function*e9(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const t9=wv(Qo),Cu=t9.right;wv(qN).center;class F1 extends Map{constructor(t,r=a9){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(z1(this,t))}has(t){return super.has(z1(this,t))}set(t,r){return super.set(r9(this,t),r)}delete(t){return super.delete(n9(this,t))}}function z1({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function r9({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function n9({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function a9(e){return e!==null&&typeof e=="object"?e.valueOf():e}function o9(e=Qo){if(e===Qo)return ZN;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function ZN(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const i9=Math.sqrt(50),s9=Math.sqrt(10),l9=Math.sqrt(2);function Md(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),o=n/Math.pow(10,a),i=o>=i9?10:o>=s9?5:o>=l9?2:1;let s,l,u;return a<0?(u=Math.pow(10,-a)/i,s=Math.round(e*u),l=Math.round(t*u),s/u<e&&++s,l/u>t&&--l,u=-u):(u=Math.pow(10,a)*i,s=Math.round(e/u),l=Math.round(t/u),s*u<e&&++s,l*u>t&&--l),l<s&&.5<=r&&r<2?Md(e,t,r*2):[s,l,u]}function Jg(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,o,i]=n?Md(t,e,r):Md(e,t,r);if(!(o>=a))return[];const s=o-a+1,l=new Array(s);if(n)if(i<0)for(let u=0;u<s;++u)l[u]=(o-u)/-i;else for(let u=0;u<s;++u)l[u]=(o-u)*i;else if(i<0)for(let u=0;u<s;++u)l[u]=(a+u)/-i;else for(let u=0;u<s;++u)l[u]=(a+u)*i;return l}function em(e,t,r){return t=+t,e=+e,r=+r,Md(e,t,r)[2]}function tm(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?em(t,e,r):em(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function U1(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function W1(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function QN(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?ZN:o9(a);n>r;){if(n-r>600){const l=n-r+1,u=t-r+1,f=Math.log(l),d=.5*Math.exp(2*f/3),h=.5*Math.sqrt(f*d*(l-d)/l)*(u-l/2<0?-1:1),p=Math.max(r,Math.floor(t-u*d/l+h)),y=Math.min(n,Math.floor(t+(l-u)*d/l+h));QN(e,t,p,y,a)}const o=e[t];let i=r,s=n;for(Kl(e,r,t),a(e[n],o)>0&&Kl(e,r,n);i<s;){for(Kl(e,i,s),++i,--s;a(e[i],o)<0;)++i;for(;a(e[s],o)>0;)--s}a(e[r],o)===0?Kl(e,r,s):(++s,Kl(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function Kl(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function c9(e,t,r){if(e=Float64Array.from(e9(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return W1(e);if(t>=1)return U1(e);var n,a=(n-1)*t,o=Math.floor(a),i=U1(QN(e,o).subarray(0,o+1)),s=W1(e.subarray(o+1));return i+(s-i)*(a-o)}}function u9(e,t,r=qN){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,o=Math.floor(a),i=+r(e[o],o,e),s=+r(e[o+1],o+1,e);return i+(s-i)*(a-o)}}function f9(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,o=new Array(a);++n<a;)o[n]=e+n*r;return o}function ka(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function _o(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const rm=Symbol("implicit");function kv(){var e=new F1,t=[],r=[],n=rm;function a(o){let i=e.get(o);if(i===void 0){if(n!==rm)return n;e.set(o,i=t.push(o)-1)}return r[i%r.length]}return a.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new F1;for(const i of o)e.has(i)||e.set(i,t.push(i)-1);return a},a.range=function(o){return arguments.length?(r=Array.from(o),a):r.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return kv(t,r).unknown(n)},ka.apply(a,arguments),a}function Yc(){var e=kv().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,o,i,s=!1,l=0,u=0,f=.5;delete e.unknown;function d(){var h=t().length,p=a<n,y=p?a:n,v=p?n:a;o=(v-y)/Math.max(1,h-l+u*2),s&&(o=Math.floor(o)),y+=(v-y-o*(h-l))*f,i=o*(1-l),s&&(y=Math.round(y),i=Math.round(i));var b=f9(h).map(function(m){return y+o*m});return r(p?b.reverse():b)}return e.domain=function(h){return arguments.length?(t(h),d()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,d()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,s=!0,d()},e.bandwidth=function(){return i},e.step=function(){return o},e.round=function(h){return arguments.length?(s=!!h,d()):s},e.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),d()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},e.paddingOuter=function(h){return arguments.length?(u=+h,d()):u},e.align=function(h){return arguments.length?(f=Math.max(0,Math.min(1,h)),d()):f},e.copy=function(){return Yc(t(),[n,a]).round(s).paddingInner(l).paddingOuter(u).align(f)},ka.apply(d(),arguments)}function JN(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return JN(t())},e}function yc(){return JN(Yc.apply(null,arguments).paddingInner(1))}function jv(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function e_(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Eu(){}var qc=.7,Cd=1/qc,$s="\\s*([+-]?\\d+)\\s*",Zc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Va="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",d9=/^#([0-9a-f]{3,8})$/,h9=new RegExp(`^rgb\\(${$s},${$s},${$s}\\)$`),p9=new RegExp(`^rgb\\(${Va},${Va},${Va}\\)$`),g9=new RegExp(`^rgba\\(${$s},${$s},${$s},${Zc}\\)$`),m9=new RegExp(`^rgba\\(${Va},${Va},${Va},${Zc}\\)$`),y9=new RegExp(`^hsl\\(${Zc},${Va},${Va}\\)$`),v9=new RegExp(`^hsla\\(${Zc},${Va},${Va},${Zc}\\)$`),G1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};jv(Eu,Qc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:H1,formatHex:H1,formatHex8:x9,formatHsl:b9,formatRgb:V1,toString:V1});function H1(){return this.rgb().formatHex()}function x9(){return this.rgb().formatHex8()}function b9(){return t_(this).formatHsl()}function V1(){return this.rgb().formatRgb()}function Qc(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=d9.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?X1(t):r===3?new Rn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?bf(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?bf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=h9.exec(e))?new Rn(t[1],t[2],t[3],1):(t=p9.exec(e))?new Rn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=g9.exec(e))?bf(t[1],t[2],t[3],t[4]):(t=m9.exec(e))?bf(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=y9.exec(e))?q1(t[1],t[2]/100,t[3]/100,1):(t=v9.exec(e))?q1(t[1],t[2]/100,t[3]/100,t[4]):G1.hasOwnProperty(e)?X1(G1[e]):e==="transparent"?new Rn(NaN,NaN,NaN,0):null}function X1(e){return new Rn(e>>16&255,e>>8&255,e&255,1)}function bf(e,t,r,n){return n<=0&&(e=t=r=NaN),new Rn(e,t,r,n)}function w9(e){return e instanceof Eu||(e=Qc(e)),e?(e=e.rgb(),new Rn(e.r,e.g,e.b,e.opacity)):new Rn}function nm(e,t,r,n){return arguments.length===1?w9(e):new Rn(e,t,r,n??1)}function Rn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}jv(Rn,nm,e_(Eu,{brighter(e){return e=e==null?Cd:Math.pow(Cd,e),new Rn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?qc:Math.pow(qc,e),new Rn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Rn(Di(this.r),Di(this.g),Di(this.b),Ed(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:K1,formatHex:K1,formatHex8:k9,formatRgb:Y1,toString:Y1}));function K1(){return`#${Ai(this.r)}${Ai(this.g)}${Ai(this.b)}`}function k9(){return`#${Ai(this.r)}${Ai(this.g)}${Ai(this.b)}${Ai((isNaN(this.opacity)?1:this.opacity)*255)}`}function Y1(){const e=Ed(this.opacity);return`${e===1?"rgb(":"rgba("}${Di(this.r)}, ${Di(this.g)}, ${Di(this.b)}${e===1?")":`, ${e})`}`}function Ed(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Di(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ai(e){return e=Di(e),(e<16?"0":"")+e.toString(16)}function q1(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Ca(e,t,r,n)}function t_(e){if(e instanceof Ca)return new Ca(e.h,e.s,e.l,e.opacity);if(e instanceof Eu||(e=Qc(e)),!e)return new Ca;if(e instanceof Ca)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),o=Math.max(t,r,n),i=NaN,s=o-a,l=(o+a)/2;return s?(t===o?i=(r-n)/s+(r<n)*6:r===o?i=(n-t)/s+2:i=(t-r)/s+4,s/=l<.5?o+a:2-o-a,i*=60):s=l>0&&l<1?0:i,new Ca(i,s,l,e.opacity)}function j9(e,t,r,n){return arguments.length===1?t_(e):new Ca(e,t,r,n??1)}function Ca(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}jv(Ca,j9,e_(Eu,{brighter(e){return e=e==null?Cd:Math.pow(Cd,e),new Ca(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?qc:Math.pow(qc,e),new Ca(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Rn(up(e>=240?e-240:e+120,a,n),up(e,a,n),up(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Ca(Z1(this.h),wf(this.s),wf(this.l),Ed(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ed(this.opacity);return`${e===1?"hsl(":"hsla("}${Z1(this.h)}, ${wf(this.s)*100}%, ${wf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Z1(e){return e=(e||0)%360,e<0?e+360:e}function wf(e){return Math.max(0,Math.min(1,e||0))}function up(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Sv=e=>()=>e;function S9(e,t){return function(r){return e+r*t}}function N9(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function _9(e){return(e=+e)==1?r_:function(t,r){return r-t?N9(t,r,e):Sv(isNaN(t)?r:t)}}function r_(e,t){var r=t-e;return r?S9(e,r):Sv(isNaN(e)?t:e)}const Q1=function e(t){var r=_9(t);function n(a,o){var i=r((a=nm(a)).r,(o=nm(o)).r),s=r(a.g,o.g),l=r(a.b,o.b),u=r_(a.opacity,o.opacity);return function(f){return a.r=i(f),a.g=s(f),a.b=l(f),a.opacity=u(f),a+""}}return n.gamma=e,n}(1);function O9(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(o){for(a=0;a<r;++a)n[a]=e[a]*(1-o)+t[a]*o;return n}}function P9(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function A9(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),o=new Array(r),i;for(i=0;i<n;++i)a[i]=Pl(e[i],t[i]);for(;i<r;++i)o[i]=t[i];return function(s){for(i=0;i<n;++i)o[i]=a[i](s);return o}}function M9(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Td(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function C9(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Pl(e[a],t[a]):n[a]=t[a];return function(o){for(a in r)n[a]=r[a](o);return n}}var am=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fp=new RegExp(am.source,"g");function E9(e){return function(){return e}}function T9(e){return function(t){return e(t)+""}}function $9(e,t){var r=am.lastIndex=fp.lastIndex=0,n,a,o,i=-1,s=[],l=[];for(e=e+"",t=t+"";(n=am.exec(e))&&(a=fp.exec(t));)(o=a.index)>r&&(o=t.slice(r,o),s[i]?s[i]+=o:s[++i]=o),(n=n[0])===(a=a[0])?s[i]?s[i]+=a:s[++i]=a:(s[++i]=null,l.push({i,x:Td(n,a)})),r=fp.lastIndex;return r<t.length&&(o=t.slice(r),s[i]?s[i]+=o:s[++i]=o),s.length<2?l[0]?T9(l[0].x):E9(t):(t=l.length,function(u){for(var f=0,d;f<t;++f)s[(d=l[f]).i]=d.x(u);return s.join("")})}function Pl(e,t){var r=typeof t,n;return t==null||r==="boolean"?Sv(t):(r==="number"?Td:r==="string"?(n=Qc(t))?(t=n,Q1):$9:t instanceof Qc?Q1:t instanceof Date?M9:P9(t)?O9:Array.isArray(t)?A9:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?C9:Td)(e,t)}function Nv(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function D9(e,t){t===void 0&&(t=e,e=Pl);for(var r=0,n=t.length-1,a=t[0],o=new Array(n<0?0:n);r<n;)o[r]=e(a,a=t[++r]);return function(i){var s=Math.max(0,Math.min(n-1,Math.floor(i*=n)));return o[s](i-s)}}function R9(e){return function(){return e}}function $d(e){return+e}var J1=[0,1];function Nn(e){return e}function om(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:R9(isNaN(t)?NaN:.5)}function L9(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function I9(e,t,r){var n=e[0],a=e[1],o=t[0],i=t[1];return a<n?(n=om(a,n),o=r(i,o)):(n=om(n,a),o=r(o,i)),function(s){return o(n(s))}}function B9(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),o=new Array(n),i=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<n;)a[i]=om(e[i],e[i+1]),o[i]=r(t[i],t[i+1]);return function(s){var l=Cu(e,s,1,n)-1;return o[l](a[l](s))}}function Tu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function a0(){var e=J1,t=J1,r=Pl,n,a,o,i=Nn,s,l,u;function f(){var h=Math.min(e.length,t.length);return i!==Nn&&(i=L9(e[0],e[h-1])),s=h>2?B9:I9,l=u=null,d}function d(h){return h==null||isNaN(h=+h)?o:(l||(l=s(e.map(n),t,r)))(n(i(h)))}return d.invert=function(h){return i(a((u||(u=s(t,e.map(n),Td)))(h)))},d.domain=function(h){return arguments.length?(e=Array.from(h,$d),f()):e.slice()},d.range=function(h){return arguments.length?(t=Array.from(h),f()):t.slice()},d.rangeRound=function(h){return t=Array.from(h),r=Nv,f()},d.clamp=function(h){return arguments.length?(i=h?!0:Nn,f()):i!==Nn},d.interpolate=function(h){return arguments.length?(r=h,f()):r},d.unknown=function(h){return arguments.length?(o=h,d):o},function(h,p){return n=h,a=p,f()}}function _v(){return a0()(Nn,Nn)}function F9(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Dd(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Ys(e){return e=Dd(Math.abs(e)),e?e[1]:NaN}function z9(e,t){return function(r,n){for(var a=r.length,o=[],i=0,s=e[0],l=0;a>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),o.push(r.substring(a-=s,a+s)),!((l+=s+1)>n));)s=e[i=(i+1)%e.length];return o.reverse().join(t)}}function U9(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var W9=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Jc(e){if(!(t=W9.exec(e)))throw new Error("invalid format: "+e);var t;return new Ov({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Jc.prototype=Ov.prototype;function Ov(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Ov.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function G9(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var Rd;function H9(e,t){var r=Dd(e,t);if(!r)return Rd=void 0,e.toPrecision(t);var n=r[0],a=r[1],o=a-(Rd=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=n.length;return o===i?n:o>i?n+new Array(o-i+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+Dd(e,Math.max(0,t+o-1))[0]}function ew(e,t){var r=Dd(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const tw={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:F9,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>ew(e*100,t),r:ew,s:H9,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function rw(e){return e}var nw=Array.prototype.map,aw=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function V9(e){var t=e.grouping===void 0||e.thousands===void 0?rw:z9(nw.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?rw:U9(nw.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(d,h){d=Jc(d);var p=d.fill,y=d.align,v=d.sign,b=d.symbol,m=d.zero,g=d.width,x=d.comma,j=d.precision,w=d.trim,k=d.type;k==="n"?(x=!0,k="g"):tw[k]||(j===void 0&&(j=12),w=!0,k="g"),(m||p==="0"&&y==="=")&&(m=!0,p="0",y="=");var N=(h&&h.prefix!==void 0?h.prefix:"")+(b==="$"?r:b==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():""),_=(b==="$"?n:/[%p]/.test(k)?i:"")+(h&&h.suffix!==void 0?h.suffix:""),O=tw[k],A=/[defgprs%]/.test(k);j=j===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function M(C){var R=N,z=_,T,G,P;if(k==="c")z=O(C)+z,C="";else{C=+C;var E=C<0||1/C<0;if(C=isNaN(C)?l:O(Math.abs(C),j),w&&(C=G9(C)),E&&+C==0&&v!=="+"&&(E=!1),R=(E?v==="("?v:s:v==="-"||v==="("?"":v)+R,z=(k==="s"&&!isNaN(C)&&Rd!==void 0?aw[8+Rd/3]:"")+z+(E&&v==="("?")":""),A){for(T=-1,G=C.length;++T<G;)if(P=C.charCodeAt(T),48>P||P>57){z=(P===46?a+C.slice(T+1):C.slice(T))+z,C=C.slice(0,T);break}}}x&&!m&&(C=t(C,1/0));var $=R.length+C.length+z.length,U=$<g?new Array(g-$+1).join(p):"";switch(x&&m&&(C=t(U+C,U.length?g-z.length:1/0),U=""),y){case"<":C=R+C+z+U;break;case"=":C=R+U+C+z;break;case"^":C=U.slice(0,$=U.length>>1)+R+C+z+U.slice($);break;default:C=U+R+C+z;break}return o(C)}return M.toString=function(){return d+""},M}function f(d,h){var p=Math.max(-8,Math.min(8,Math.floor(Ys(h)/3)))*3,y=Math.pow(10,-p),v=u((d=Jc(d),d.type="f",d),{suffix:aw[8+p/3]});return function(b){return v(y*b)}}return{format:u,formatPrefix:f}}var kf,Pv,n_;X9({thousands:",",grouping:[3],currency:["$",""]});function X9(e){return kf=V9(e),Pv=kf.format,n_=kf.formatPrefix,kf}function K9(e){return Math.max(0,-Ys(Math.abs(e)))}function Y9(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ys(t)/3)))*3-Ys(Math.abs(e)))}function q9(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ys(t)-Ys(e))+1}function a_(e,t,r,n){var a=tm(e,t,r),o;switch(n=Jc(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(o=Y9(a,i))&&(n.precision=o),n_(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=q9(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=K9(a))&&(n.precision=o-(n.type==="%")*2);break}}return Pv(n)}function si(e){var t=e.domain;return e.ticks=function(r){var n=t();return Jg(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return a_(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,o=n.length-1,i=n[a],s=n[o],l,u,f=10;for(s<i&&(u=i,i=s,s=u,u=a,a=o,o=u);f-- >0;){if(u=em(i,s,r),u===l)return n[a]=i,n[o]=s,t(n);if(u>0)i=Math.floor(i/u)*u,s=Math.ceil(s/u)*u;else if(u<0)i=Math.ceil(i*u)/u,s=Math.floor(s*u)/u;else break;l=u}return e},e}function Ld(){var e=_v();return e.copy=function(){return Tu(e,Ld())},ka.apply(e,arguments),si(e)}function o_(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,$d),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return o_(e).unknown(t)},e=arguments.length?Array.from(e,$d):[0,1],si(r)}function i_(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],o=e[n],i;return o<a&&(i=r,r=n,n=i,i=a,a=o,o=i),e[r]=t.floor(a),e[n]=t.ceil(o),e}function ow(e){return Math.log(e)}function iw(e){return Math.exp(e)}function Z9(e){return-Math.log(-e)}function Q9(e){return-Math.exp(-e)}function J9(e){return isFinite(e)?+("1e"+e):e<0?0:e}function ez(e){return e===10?J9:e===Math.E?Math.exp:t=>Math.pow(e,t)}function tz(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function sw(e){return(t,r)=>-e(-t,r)}function Av(e){const t=e(ow,iw),r=t.domain;let n=10,a,o;function i(){return a=tz(n),o=ez(n),r()[0]<0?(a=sw(a),o=sw(o),e(Z9,Q9)):e(ow,iw),t}return t.base=function(s){return arguments.length?(n=+s,i()):n},t.domain=function(s){return arguments.length?(r(s),i()):r()},t.ticks=s=>{const l=r();let u=l[0],f=l[l.length-1];const d=f<u;d&&([u,f]=[f,u]);let h=a(u),p=a(f),y,v;const b=s==null?10:+s;let m=[];if(!(n%1)&&p-h<b){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(y=1;y<n;++y)if(v=h<0?y/o(-h):y*o(h),!(v<u)){if(v>f)break;m.push(v)}}else for(;h<=p;++h)for(y=n-1;y>=1;--y)if(v=h>0?y/o(-h):y*o(h),!(v<u)){if(v>f)break;m.push(v)}m.length*2<b&&(m=Jg(u,f,b))}else m=Jg(h,p,Math.min(p-h,b)).map(o);return d?m.reverse():m},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Jc(l)).precision==null&&(l.trim=!0),l=Pv(l)),s===1/0)return l;const u=Math.max(1,n*s/t.ticks().length);return f=>{let d=f/o(Math.round(a(f)));return d*n<n-.5&&(d*=n),d<=u?l(f):""}},t.nice=()=>r(i_(r(),{floor:s=>o(Math.floor(a(s))),ceil:s=>o(Math.ceil(a(s)))})),t}function s_(){const e=Av(a0()).domain([1,10]);return e.copy=()=>Tu(e,s_()).base(e.base()),ka.apply(e,arguments),e}function lw(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function cw(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Mv(e){var t=1,r=e(lw(t),cw(t));return r.constant=function(n){return arguments.length?e(lw(t=+n),cw(t)):t},si(r)}function l_(){var e=Mv(a0());return e.copy=function(){return Tu(e,l_()).constant(e.constant())},ka.apply(e,arguments)}function uw(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function rz(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function nz(e){return e<0?-e*e:e*e}function Cv(e){var t=e(Nn,Nn),r=1;function n(){return r===1?e(Nn,Nn):r===.5?e(rz,nz):e(uw(r),uw(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},si(t)}function Ev(){var e=Cv(a0());return e.copy=function(){return Tu(e,Ev()).exponent(e.exponent())},ka.apply(e,arguments),e}function az(){return Ev.apply(null,arguments).exponent(.5)}function fw(e){return Math.sign(e)*e*e}function oz(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function c_(){var e=_v(),t=[0,1],r=!1,n;function a(o){var i=oz(e(o));return isNaN(i)?n:r?Math.round(i):i}return a.invert=function(o){return e.invert(fw(o))},a.domain=function(o){return arguments.length?(e.domain(o),a):e.domain()},a.range=function(o){return arguments.length?(e.range((t=Array.from(o,$d)).map(fw)),a):t.slice()},a.rangeRound=function(o){return a.range(o).round(!0)},a.round=function(o){return arguments.length?(r=!!o,a):r},a.clamp=function(o){return arguments.length?(e.clamp(o),a):e.clamp()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return c_(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},ka.apply(a,arguments),si(a)}function u_(){var e=[],t=[],r=[],n;function a(){var i=0,s=Math.max(1,t.length);for(r=new Array(s-1);++i<s;)r[i-1]=u9(e,i/s);return o}function o(i){return i==null||isNaN(i=+i)?n:t[Cu(r,i)]}return o.invertExtent=function(i){var s=t.indexOf(i);return s<0?[NaN,NaN]:[s>0?r[s-1]:e[0],s<r.length?r[s]:e[e.length-1]]},o.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let s of i)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Qo),a()},o.range=function(i){return arguments.length?(t=Array.from(i),a()):t.slice()},o.unknown=function(i){return arguments.length?(n=i,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return u_().domain(e).range(t).unknown(n)},ka.apply(o,arguments)}function f_(){var e=0,t=1,r=1,n=[.5],a=[0,1],o;function i(l){return l!=null&&l<=l?a[Cu(n,l,0,r)]:o}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return i}return i.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},i.range=function(l){return arguments.length?(r=(a=Array.from(l)).length-1,s()):a.slice()},i.invertExtent=function(l){var u=a.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},i.unknown=function(l){return arguments.length&&(o=l),i},i.thresholds=function(){return n.slice()},i.copy=function(){return f_().domain([e,t]).range(a).unknown(o)},ka.apply(si(i),arguments)}function d_(){var e=[.5],t=[0,1],r,n=1;function a(o){return o!=null&&o<=o?t[Cu(e,o,0,n)]:r}return a.domain=function(o){return arguments.length?(e=Array.from(o),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(o){return arguments.length?(t=Array.from(o),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(o){var i=t.indexOf(o);return[e[i-1],e[i]]},a.unknown=function(o){return arguments.length?(r=o,a):r},a.copy=function(){return d_().domain(e).range(t).unknown(r)},ka.apply(a,arguments)}const dp=new Date,hp=new Date;function Fr(e,t,r,n){function a(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return a.floor=o=>(e(o=new Date(+o)),o),a.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),a.round=o=>{const i=a(o),s=a.ceil(o);return o-i<s-o?i:s},a.offset=(o,i)=>(t(o=new Date(+o),i==null?1:Math.floor(i)),o),a.range=(o,i,s)=>{const l=[];if(o=a.ceil(o),s=s==null?1:Math.floor(s),!(o<i)||!(s>0))return l;let u;do l.push(u=new Date(+o)),t(o,s),e(o);while(u<o&&o<i);return l},a.filter=o=>Fr(i=>{if(i>=i)for(;e(i),!o(i);)i.setTime(i-1)},(i,s)=>{if(i>=i)if(s<0)for(;++s<=0;)for(;t(i,-1),!o(i););else for(;--s>=0;)for(;t(i,1),!o(i););}),r&&(a.count=(o,i)=>(dp.setTime(+o),hp.setTime(+i),e(dp),e(hp),Math.floor(r(dp,hp))),a.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?a.filter(n?i=>n(i)%o===0:i=>a.count(0,i)%o===0):a)),a}const Id=Fr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Id.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Fr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Id);Id.range;const so=1e3,pa=so*60,lo=pa*60,bo=lo*24,Tv=bo*7,dw=bo*30,pp=bo*365,Mi=Fr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*so)},(e,t)=>(t-e)/so,e=>e.getUTCSeconds());Mi.range;const $v=Fr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*so)},(e,t)=>{e.setTime(+e+t*pa)},(e,t)=>(t-e)/pa,e=>e.getMinutes());$v.range;const Dv=Fr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*pa)},(e,t)=>(t-e)/pa,e=>e.getUTCMinutes());Dv.range;const Rv=Fr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*so-e.getMinutes()*pa)},(e,t)=>{e.setTime(+e+t*lo)},(e,t)=>(t-e)/lo,e=>e.getHours());Rv.range;const Lv=Fr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*lo)},(e,t)=>(t-e)/lo,e=>e.getUTCHours());Lv.range;const $u=Fr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*pa)/bo,e=>e.getDate()-1);$u.range;const o0=Fr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/bo,e=>e.getUTCDate()-1);o0.range;const h_=Fr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/bo,e=>Math.floor(e/bo));h_.range;function es(e){return Fr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*pa)/Tv)}const i0=es(0),Bd=es(1),iz=es(2),sz=es(3),qs=es(4),lz=es(5),cz=es(6);i0.range;Bd.range;iz.range;sz.range;qs.range;lz.range;cz.range;function ts(e){return Fr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Tv)}const s0=ts(0),Fd=ts(1),uz=ts(2),fz=ts(3),Zs=ts(4),dz=ts(5),hz=ts(6);s0.range;Fd.range;uz.range;fz.range;Zs.range;dz.range;hz.range;const Iv=Fr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Iv.range;const Bv=Fr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Bv.range;const wo=Fr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());wo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Fr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});wo.range;const ko=Fr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ko.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Fr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});ko.range;function p_(e,t,r,n,a,o){const i=[[Mi,1,so],[Mi,5,5*so],[Mi,15,15*so],[Mi,30,30*so],[o,1,pa],[o,5,5*pa],[o,15,15*pa],[o,30,30*pa],[a,1,lo],[a,3,3*lo],[a,6,6*lo],[a,12,12*lo],[n,1,bo],[n,2,2*bo],[r,1,Tv],[t,1,dw],[t,3,3*dw],[e,1,pp]];function s(u,f,d){const h=f<u;h&&([u,f]=[f,u]);const p=d&&typeof d.range=="function"?d:l(u,f,d),y=p?p.range(u,+f+1):[];return h?y.reverse():y}function l(u,f,d){const h=Math.abs(f-u)/d,p=wv(([,,b])=>b).right(i,h);if(p===i.length)return e.every(tm(u/pp,f/pp,d));if(p===0)return Id.every(Math.max(tm(u,f,d),1));const[y,v]=i[h/i[p-1][2]<i[p][2]/h?p-1:p];return y.every(v)}return[s,l]}const[pz,gz]=p_(ko,Bv,s0,h_,Lv,Dv),[mz,yz]=p_(wo,Iv,i0,$u,Rv,$v);function gp(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function mp(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Yl(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function vz(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,o=e.days,i=e.shortDays,s=e.months,l=e.shortMonths,u=ql(a),f=Zl(a),d=ql(o),h=Zl(o),p=ql(i),y=Zl(i),v=ql(s),b=Zl(s),m=ql(l),g=Zl(l),x={a:P,A:E,b:$,B:U,c:null,d:vw,e:vw,f:zz,g:Zz,G:Jz,H:Iz,I:Bz,j:Fz,L:g_,m:Uz,M:Wz,p:te,q:K,Q:ww,s:kw,S:Gz,u:Hz,U:Vz,V:Xz,w:Kz,W:Yz,x:null,X:null,y:qz,Y:Qz,Z:e7,"%":bw},j={a:L,A:ee,b:Z,B:D,c:null,d:xw,e:xw,f:a7,g:p7,G:m7,H:t7,I:r7,j:n7,L:y_,m:o7,M:i7,p:ae,q:ce,Q:ww,s:kw,S:s7,u:l7,U:c7,V:u7,w:f7,W:d7,x:null,X:null,y:h7,Y:g7,Z:y7,"%":bw},w={a:A,A:M,b:C,B:R,c:z,d:mw,e:mw,f:$z,g:gw,G:pw,H:yw,I:yw,j:Mz,L:Tz,m:Az,M:Cz,p:O,q:Pz,Q:Rz,s:Lz,S:Ez,u:jz,U:Sz,V:Nz,w:kz,W:_z,x:T,X:G,y:gw,Y:pw,Z:Oz,"%":Dz};x.x=k(r,x),x.X=k(n,x),x.c=k(t,x),j.x=k(r,j),j.X=k(n,j),j.c=k(t,j);function k(Y,le){return function(ge){var H=[],ie=-1,se=0,ke=Y.length,Be,Re,wt;for(ge instanceof Date||(ge=new Date(+ge));++ie<ke;)Y.charCodeAt(ie)===37&&(H.push(Y.slice(se,ie)),(Re=hw[Be=Y.charAt(++ie)])!=null?Be=Y.charAt(++ie):Re=Be==="e"?" ":"0",(wt=le[Be])&&(Be=wt(ge,Re)),H.push(Be),se=ie+1);return H.push(Y.slice(se,ie)),H.join("")}}function N(Y,le){return function(ge){var H=Yl(1900,void 0,1),ie=_(H,Y,ge+="",0),se,ke;if(ie!=ge.length)return null;if("Q"in H)return new Date(H.Q);if("s"in H)return new Date(H.s*1e3+("L"in H?H.L:0));if(le&&!("Z"in H)&&(H.Z=0),"p"in H&&(H.H=H.H%12+H.p*12),H.m===void 0&&(H.m="q"in H?H.q:0),"V"in H){if(H.V<1||H.V>53)return null;"w"in H||(H.w=1),"Z"in H?(se=mp(Yl(H.y,0,1)),ke=se.getUTCDay(),se=ke>4||ke===0?Fd.ceil(se):Fd(se),se=o0.offset(se,(H.V-1)*7),H.y=se.getUTCFullYear(),H.m=se.getUTCMonth(),H.d=se.getUTCDate()+(H.w+6)%7):(se=gp(Yl(H.y,0,1)),ke=se.getDay(),se=ke>4||ke===0?Bd.ceil(se):Bd(se),se=$u.offset(se,(H.V-1)*7),H.y=se.getFullYear(),H.m=se.getMonth(),H.d=se.getDate()+(H.w+6)%7)}else("W"in H||"U"in H)&&("w"in H||(H.w="u"in H?H.u%7:"W"in H?1:0),ke="Z"in H?mp(Yl(H.y,0,1)).getUTCDay():gp(Yl(H.y,0,1)).getDay(),H.m=0,H.d="W"in H?(H.w+6)%7+H.W*7-(ke+5)%7:H.w+H.U*7-(ke+6)%7);return"Z"in H?(H.H+=H.Z/100|0,H.M+=H.Z%100,mp(H)):gp(H)}}function _(Y,le,ge,H){for(var ie=0,se=le.length,ke=ge.length,Be,Re;ie<se;){if(H>=ke)return-1;if(Be=le.charCodeAt(ie++),Be===37){if(Be=le.charAt(ie++),Re=w[Be in hw?le.charAt(ie++):Be],!Re||(H=Re(Y,ge,H))<0)return-1}else if(Be!=ge.charCodeAt(H++))return-1}return H}function O(Y,le,ge){var H=u.exec(le.slice(ge));return H?(Y.p=f.get(H[0].toLowerCase()),ge+H[0].length):-1}function A(Y,le,ge){var H=p.exec(le.slice(ge));return H?(Y.w=y.get(H[0].toLowerCase()),ge+H[0].length):-1}function M(Y,le,ge){var H=d.exec(le.slice(ge));return H?(Y.w=h.get(H[0].toLowerCase()),ge+H[0].length):-1}function C(Y,le,ge){var H=m.exec(le.slice(ge));return H?(Y.m=g.get(H[0].toLowerCase()),ge+H[0].length):-1}function R(Y,le,ge){var H=v.exec(le.slice(ge));return H?(Y.m=b.get(H[0].toLowerCase()),ge+H[0].length):-1}function z(Y,le,ge){return _(Y,t,le,ge)}function T(Y,le,ge){return _(Y,r,le,ge)}function G(Y,le,ge){return _(Y,n,le,ge)}function P(Y){return i[Y.getDay()]}function E(Y){return o[Y.getDay()]}function $(Y){return l[Y.getMonth()]}function U(Y){return s[Y.getMonth()]}function te(Y){return a[+(Y.getHours()>=12)]}function K(Y){return 1+~~(Y.getMonth()/3)}function L(Y){return i[Y.getUTCDay()]}function ee(Y){return o[Y.getUTCDay()]}function Z(Y){return l[Y.getUTCMonth()]}function D(Y){return s[Y.getUTCMonth()]}function ae(Y){return a[+(Y.getUTCHours()>=12)]}function ce(Y){return 1+~~(Y.getUTCMonth()/3)}return{format:function(Y){var le=k(Y+="",x);return le.toString=function(){return Y},le},parse:function(Y){var le=N(Y+="",!1);return le.toString=function(){return Y},le},utcFormat:function(Y){var le=k(Y+="",j);return le.toString=function(){return Y},le},utcParse:function(Y){var le=N(Y+="",!0);return le.toString=function(){return Y},le}}}var hw={"-":"",_:" ",0:"0"},Xr=/^\s*\d+/,xz=/^%/,bz=/[\\^$*+?|[\]().{}]/g;function ht(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",o=a.length;return n+(o<r?new Array(r-o+1).join(t)+a:a)}function wz(e){return e.replace(bz,"\\$&")}function ql(e){return new RegExp("^(?:"+e.map(wz).join("|")+")","i")}function Zl(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function kz(e,t,r){var n=Xr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function jz(e,t,r){var n=Xr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Sz(e,t,r){var n=Xr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Nz(e,t,r){var n=Xr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function _z(e,t,r){var n=Xr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function pw(e,t,r){var n=Xr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function gw(e,t,r){var n=Xr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Oz(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Pz(e,t,r){var n=Xr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Az(e,t,r){var n=Xr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function mw(e,t,r){var n=Xr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Mz(e,t,r){var n=Xr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function yw(e,t,r){var n=Xr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Cz(e,t,r){var n=Xr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Ez(e,t,r){var n=Xr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Tz(e,t,r){var n=Xr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function $z(e,t,r){var n=Xr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Dz(e,t,r){var n=xz.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Rz(e,t,r){var n=Xr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Lz(e,t,r){var n=Xr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function vw(e,t){return ht(e.getDate(),t,2)}function Iz(e,t){return ht(e.getHours(),t,2)}function Bz(e,t){return ht(e.getHours()%12||12,t,2)}function Fz(e,t){return ht(1+$u.count(wo(e),e),t,3)}function g_(e,t){return ht(e.getMilliseconds(),t,3)}function zz(e,t){return g_(e,t)+"000"}function Uz(e,t){return ht(e.getMonth()+1,t,2)}function Wz(e,t){return ht(e.getMinutes(),t,2)}function Gz(e,t){return ht(e.getSeconds(),t,2)}function Hz(e){var t=e.getDay();return t===0?7:t}function Vz(e,t){return ht(i0.count(wo(e)-1,e),t,2)}function m_(e){var t=e.getDay();return t>=4||t===0?qs(e):qs.ceil(e)}function Xz(e,t){return e=m_(e),ht(qs.count(wo(e),e)+(wo(e).getDay()===4),t,2)}function Kz(e){return e.getDay()}function Yz(e,t){return ht(Bd.count(wo(e)-1,e),t,2)}function qz(e,t){return ht(e.getFullYear()%100,t,2)}function Zz(e,t){return e=m_(e),ht(e.getFullYear()%100,t,2)}function Qz(e,t){return ht(e.getFullYear()%1e4,t,4)}function Jz(e,t){var r=e.getDay();return e=r>=4||r===0?qs(e):qs.ceil(e),ht(e.getFullYear()%1e4,t,4)}function e7(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ht(t/60|0,"0",2)+ht(t%60,"0",2)}function xw(e,t){return ht(e.getUTCDate(),t,2)}function t7(e,t){return ht(e.getUTCHours(),t,2)}function r7(e,t){return ht(e.getUTCHours()%12||12,t,2)}function n7(e,t){return ht(1+o0.count(ko(e),e),t,3)}function y_(e,t){return ht(e.getUTCMilliseconds(),t,3)}function a7(e,t){return y_(e,t)+"000"}function o7(e,t){return ht(e.getUTCMonth()+1,t,2)}function i7(e,t){return ht(e.getUTCMinutes(),t,2)}function s7(e,t){return ht(e.getUTCSeconds(),t,2)}function l7(e){var t=e.getUTCDay();return t===0?7:t}function c7(e,t){return ht(s0.count(ko(e)-1,e),t,2)}function v_(e){var t=e.getUTCDay();return t>=4||t===0?Zs(e):Zs.ceil(e)}function u7(e,t){return e=v_(e),ht(Zs.count(ko(e),e)+(ko(e).getUTCDay()===4),t,2)}function f7(e){return e.getUTCDay()}function d7(e,t){return ht(Fd.count(ko(e)-1,e),t,2)}function h7(e,t){return ht(e.getUTCFullYear()%100,t,2)}function p7(e,t){return e=v_(e),ht(e.getUTCFullYear()%100,t,2)}function g7(e,t){return ht(e.getUTCFullYear()%1e4,t,4)}function m7(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Zs(e):Zs.ceil(e),ht(e.getUTCFullYear()%1e4,t,4)}function y7(){return"+0000"}function bw(){return"%"}function ww(e){return+e}function kw(e){return Math.floor(+e/1e3)}var cs,x_,b_;v7({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function v7(e){return cs=vz(e),x_=cs.format,cs.parse,b_=cs.utcFormat,cs.utcParse,cs}function x7(e){return new Date(e)}function b7(e){return e instanceof Date?+e:+new Date(+e)}function Fv(e,t,r,n,a,o,i,s,l,u){var f=_v(),d=f.invert,h=f.domain,p=u(".%L"),y=u(":%S"),v=u("%I:%M"),b=u("%I %p"),m=u("%a %d"),g=u("%b %d"),x=u("%B"),j=u("%Y");function w(k){return(l(k)<k?p:s(k)<k?y:i(k)<k?v:o(k)<k?b:n(k)<k?a(k)<k?m:g:r(k)<k?x:j)(k)}return f.invert=function(k){return new Date(d(k))},f.domain=function(k){return arguments.length?h(Array.from(k,b7)):h().map(x7)},f.ticks=function(k){var N=h();return e(N[0],N[N.length-1],k??10)},f.tickFormat=function(k,N){return N==null?w:u(N)},f.nice=function(k){var N=h();return(!k||typeof k.range!="function")&&(k=t(N[0],N[N.length-1],k??10)),k?h(i_(N,k)):f},f.copy=function(){return Tu(f,Fv(e,t,r,n,a,o,i,s,l,u))},f}function w7(){return ka.apply(Fv(mz,yz,wo,Iv,i0,$u,Rv,$v,Mi,x_).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function k7(){return ka.apply(Fv(pz,gz,ko,Bv,s0,o0,Lv,Dv,Mi,b_).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function l0(){var e=0,t=1,r,n,a,o,i=Nn,s=!1,l;function u(d){return d==null||isNaN(d=+d)?l:i(a===0?.5:(d=(o(d)-r)*a,s?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([e,t]=d,r=o(e=+e),n=o(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(d){return arguments.length?(s=!!d,u):s},u.interpolator=function(d){return arguments.length?(i=d,u):i};function f(d){return function(h){var p,y;return arguments.length?([p,y]=h,i=d(p,y),u):[i(0),i(1)]}}return u.range=f(Pl),u.rangeRound=f(Nv),u.unknown=function(d){return arguments.length?(l=d,u):l},function(d){return o=d,r=d(e),n=d(t),a=r===n?0:1/(n-r),u}}function li(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function w_(){var e=si(l0()(Nn));return e.copy=function(){return li(e,w_())},_o.apply(e,arguments)}function k_(){var e=Av(l0()).domain([1,10]);return e.copy=function(){return li(e,k_()).base(e.base())},_o.apply(e,arguments)}function j_(){var e=Mv(l0());return e.copy=function(){return li(e,j_()).constant(e.constant())},_o.apply(e,arguments)}function zv(){var e=Cv(l0());return e.copy=function(){return li(e,zv()).exponent(e.exponent())},_o.apply(e,arguments)}function j7(){return zv.apply(null,arguments).exponent(.5)}function S_(){var e=[],t=Nn;function r(n){if(n!=null&&!isNaN(n=+n))return t((Cu(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Qo),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,o)=>c9(e,o/n))},r.copy=function(){return S_(t).domain(e)},_o.apply(r,arguments)}function c0(){var e=0,t=.5,r=1,n=1,a,o,i,s,l,u=Nn,f,d=!1,h;function p(v){return isNaN(v=+v)?h:(v=.5+((v=+f(v))-o)*(n*v<n*o?s:l),u(d?Math.max(0,Math.min(1,v)):v))}p.domain=function(v){return arguments.length?([e,t,r]=v,a=f(e=+e),o=f(t=+t),i=f(r=+r),s=a===o?0:.5/(o-a),l=o===i?0:.5/(i-o),n=o<a?-1:1,p):[e,t,r]},p.clamp=function(v){return arguments.length?(d=!!v,p):d},p.interpolator=function(v){return arguments.length?(u=v,p):u};function y(v){return function(b){var m,g,x;return arguments.length?([m,g,x]=b,u=D9(v,[m,g,x]),p):[u(0),u(.5),u(1)]}}return p.range=y(Pl),p.rangeRound=y(Nv),p.unknown=function(v){return arguments.length?(h=v,p):h},function(v){return f=v,a=v(e),o=v(t),i=v(r),s=a===o?0:.5/(o-a),l=o===i?0:.5/(i-o),n=o<a?-1:1,p}}function N_(){var e=si(c0()(Nn));return e.copy=function(){return li(e,N_())},_o.apply(e,arguments)}function __(){var e=Av(c0()).domain([.1,1,10]);return e.copy=function(){return li(e,__()).base(e.base())},_o.apply(e,arguments)}function O_(){var e=Mv(c0());return e.copy=function(){return li(e,O_()).constant(e.constant())},_o.apply(e,arguments)}function Uv(){var e=Cv(c0());return e.copy=function(){return li(e,Uv()).exponent(e.exponent())},_o.apply(e,arguments)}function S7(){return Uv.apply(null,arguments).exponent(.5)}const jw=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Yc,scaleDiverging:N_,scaleDivergingLog:__,scaleDivergingPow:Uv,scaleDivergingSqrt:S7,scaleDivergingSymlog:O_,scaleIdentity:o_,scaleImplicit:rm,scaleLinear:Ld,scaleLog:s_,scaleOrdinal:kv,scalePoint:yc,scalePow:Ev,scaleQuantile:u_,scaleQuantize:f_,scaleRadial:c_,scaleSequential:w_,scaleSequentialLog:k_,scaleSequentialPow:zv,scaleSequentialQuantile:S_,scaleSequentialSqrt:j7,scaleSequentialSymlog:j_,scaleSqrt:az,scaleSymlog:l_,scaleThreshold:d_,scaleTime:w7,scaleUtc:k7,tickFormat:a_},Symbol.toStringTag,{value:"Module"}));var N7=xl;function _7(e,t,r){for(var n=-1,a=e.length;++n<a;){var o=e[n],i=t(o);if(i!=null&&(s===void 0?i===i&&!N7(i):r(i,s)))var s=i,l=o}return l}var P_=_7;function O7(e,t){return e>t}var P7=O7,A7=P_,M7=P7,C7=Ol;function E7(e){return e&&e.length?A7(e,C7,M7):void 0}var T7=E7;const Bo=Rt(T7);function $7(e,t){return e<t}var D7=$7,R7=P_,L7=D7,I7=Ol;function B7(e){return e&&e.length?R7(e,I7,L7):void 0}var F7=B7;const u0=Rt(F7);var z7=rv,U7=oi,W7=IN,G7=Wn;function H7(e,t){var r=G7(e)?z7:W7;return r(e,U7(t))}var V7=H7,X7=RN,K7=V7;function Y7(e,t){return X7(K7(e,t),1)}var q7=Y7;const Z7=Rt(q7);var Q7=mv;function J7(e,t){return Q7(e,t)}var eU=J7;const Hi=Rt(eU);var Al=1e9,tU={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Gv,tr=!0,ba="[DecimalError] ",Ri=ba+"Invalid argument: ",Wv=ba+"Exponent out of range: ",Ml=Math.floor,Si=Math.pow,rU=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Zn,Wr=1e7,qt=7,A_=9007199254740991,zd=Ml(A_/qt),be={};be.absoluteValue=be.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};be.comparedTo=be.cmp=function(e){var t,r,n,a,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(n=o.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return n===a?0:n>a^o.s<0?1:-1};be.decimalPlaces=be.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*qt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};be.dividedBy=be.div=function(e){return go(this,new this.constructor(e))};be.dividedToIntegerBy=be.idiv=function(e){var t=this,r=t.constructor;return Dt(go(t,new r(e),0,1),r.precision)};be.equals=be.eq=function(e){return!this.cmp(e)};be.exponent=function(){return Sr(this)};be.greaterThan=be.gt=function(e){return this.cmp(e)>0};be.greaterThanOrEqualTo=be.gte=function(e){return this.cmp(e)>=0};be.isInteger=be.isint=function(){return this.e>this.d.length-2};be.isNegative=be.isneg=function(){return this.s<0};be.isPositive=be.ispos=function(){return this.s>0};be.isZero=function(){return this.s===0};be.lessThan=be.lt=function(e){return this.cmp(e)<0};be.lessThanOrEqualTo=be.lte=function(e){return this.cmp(e)<1};be.logarithm=be.log=function(e){var t,r=this,n=r.constructor,a=n.precision,o=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Zn))throw Error(ba+"NaN");if(r.s<1)throw Error(ba+(r.s?"NaN":"-Infinity"));return r.eq(Zn)?new n(0):(tr=!1,t=go(eu(r,o),eu(e,o),o),tr=!0,Dt(t,a))};be.minus=be.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?E_(t,e):M_(t,(e.s=-e.s,e))};be.modulo=be.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(ba+"NaN");return r.s?(tr=!1,t=go(r,e,0,1).times(e),tr=!0,r.minus(t)):Dt(new n(r),a)};be.naturalExponential=be.exp=function(){return C_(this)};be.naturalLogarithm=be.ln=function(){return eu(this)};be.negated=be.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};be.plus=be.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?M_(t,e):E_(t,(e.s=-e.s,e))};be.precision=be.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ri+e);if(t=Sr(a)+1,n=a.d.length-1,r=n*qt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};be.squareRoot=be.sqrt=function(){var e,t,r,n,a,o,i,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(ba+"NaN")}for(e=Sr(s),tr=!1,a=Math.sqrt(+s),a==0||a==1/0?(t=za(s.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Ml((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(a.toString()),r=l.precision,a=i=r+3;;)if(o=n,n=o.plus(go(s,o,i+2)).times(.5),za(o.d).slice(0,i)===(t=za(n.d)).slice(0,i)){if(t=t.slice(i-3,i+1),a==i&&t=="4999"){if(Dt(o,r+1,0),o.times(o).eq(s)){n=o;break}}else if(t!="9999")break;i+=4}return tr=!0,Dt(n,r)};be.times=be.mul=function(e){var t,r,n,a,o,i,s,l,u,f=this,d=f.constructor,h=f.d,p=(e=new d(e)).d;if(!f.s||!e.s)return new d(0);for(e.s*=f.s,r=f.e+e.e,l=h.length,u=p.length,l<u&&(o=h,h=p,p=o,i=l,l=u,u=i),o=[],i=l+u,n=i;n--;)o.push(0);for(n=u;--n>=0;){for(t=0,a=l+n;a>n;)s=o[a]+p[n]*h[a-n-1]+t,o[a--]=s%Wr|0,t=s/Wr|0;o[a]=(o[a]+t)%Wr|0}for(;!o[--i];)o.pop();return t?++r:o.shift(),e.d=o,e.e=r,tr?Dt(e,d.precision):e};be.toDecimalPlaces=be.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(qa(e,0,Al),t===void 0?t=n.rounding:qa(t,0,8),Dt(r,e+Sr(r)+1,t))};be.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Vi(n,!0):(qa(e,0,Al),t===void 0?t=a.rounding:qa(t,0,8),n=Dt(new a(n),e+1,t),r=Vi(n,!0,e+1)),r};be.toFixed=function(e,t){var r,n,a=this,o=a.constructor;return e===void 0?Vi(a):(qa(e,0,Al),t===void 0?t=o.rounding:qa(t,0,8),n=Dt(new o(a),e+Sr(a)+1,t),r=Vi(n.abs(),!1,e+Sr(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};be.toInteger=be.toint=function(){var e=this,t=e.constructor;return Dt(new t(e),Sr(e)+1,t.rounding)};be.toNumber=function(){return+this};be.toPower=be.pow=function(e){var t,r,n,a,o,i,s=this,l=s.constructor,u=12,f=+(e=new l(e));if(!e.s)return new l(Zn);if(s=new l(s),!s.s){if(e.s<1)throw Error(ba+"Infinity");return s}if(s.eq(Zn))return s;if(n=l.precision,e.eq(Zn))return Dt(s,n);if(t=e.e,r=e.d.length-1,i=t>=r,o=s.s,i){if((r=f<0?-f:f)<=A_){for(a=new l(Zn),t=Math.ceil(n/qt+4),tr=!1;r%2&&(a=a.times(s),Nw(a.d,t)),r=Ml(r/2),r!==0;)s=s.times(s),Nw(s.d,t);return tr=!0,e.s<0?new l(Zn).div(a):Dt(a,n)}}else if(o<0)throw Error(ba+"NaN");return o=o<0&&e.d[Math.max(t,r)]&1?-1:1,s.s=1,tr=!1,a=e.times(eu(s,n+u)),tr=!0,a=C_(a),a.s=o,a};be.toPrecision=function(e,t){var r,n,a=this,o=a.constructor;return e===void 0?(r=Sr(a),n=Vi(a,r<=o.toExpNeg||r>=o.toExpPos)):(qa(e,1,Al),t===void 0?t=o.rounding:qa(t,0,8),a=Dt(new o(a),e,t),r=Sr(a),n=Vi(a,e<=r||r<=o.toExpNeg,e)),n};be.toSignificantDigits=be.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(qa(e,1,Al),t===void 0?t=n.rounding:qa(t,0,8)),Dt(new n(r),e,t)};be.toString=be.valueOf=be.val=be.toJSON=be[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Sr(e),r=e.constructor;return Vi(e,t<=r.toExpNeg||t>=r.toExpPos)};function M_(e,t){var r,n,a,o,i,s,l,u,f=e.constructor,d=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),tr?Dt(t,d):t;if(l=e.d,u=t.d,i=e.e,a=t.e,l=l.slice(),o=i-a,o){for(o<0?(n=l,o=-o,s=u.length):(n=u,a=i,s=l.length),i=Math.ceil(d/qt),s=i>s?i+1:s+1,o>s&&(o=s,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(s=l.length,o=u.length,s-o<0&&(o=s,n=u,u=l,l=n),r=0;o;)r=(l[--o]=l[o]+u[o]+r)/Wr|0,l[o]%=Wr;for(r&&(l.unshift(r),++a),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=a,tr?Dt(t,d):t}function qa(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Ri+e)}function za(e){var t,r,n,a=e.length-1,o="",i=e[0];if(a>0){for(o+=i,t=1;t<a;t++)n=e[t]+"",r=qt-n.length,r&&(o+=To(r)),o+=n;i=e[t],n=i+"",r=qt-n.length,r&&(o+=To(r))}else if(i===0)return"0";for(;i%10===0;)i/=10;return o+i}var go=function(){function e(n,a){var o,i=0,s=n.length;for(n=n.slice();s--;)o=n[s]*a+i,n[s]=o%Wr|0,i=o/Wr|0;return i&&n.unshift(i),n}function t(n,a,o,i){var s,l;if(o!=i)l=o>i?1:-1;else for(s=l=0;s<o;s++)if(n[s]!=a[s]){l=n[s]>a[s]?1:-1;break}return l}function r(n,a,o){for(var i=0;o--;)n[o]-=i,i=n[o]<a[o]?1:0,n[o]=i*Wr+n[o]-a[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,o,i){var s,l,u,f,d,h,p,y,v,b,m,g,x,j,w,k,N,_,O=n.constructor,A=n.s==a.s?1:-1,M=n.d,C=a.d;if(!n.s)return new O(n);if(!a.s)throw Error(ba+"Division by zero");for(l=n.e-a.e,N=C.length,w=M.length,p=new O(A),y=p.d=[],u=0;C[u]==(M[u]||0);)++u;if(C[u]>(M[u]||0)&&--l,o==null?g=o=O.precision:i?g=o+(Sr(n)-Sr(a))+1:g=o,g<0)return new O(0);if(g=g/qt+2|0,u=0,N==1)for(f=0,C=C[0],g++;(u<w||f)&&g--;u++)x=f*Wr+(M[u]||0),y[u]=x/C|0,f=x%C|0;else{for(f=Wr/(C[0]+1)|0,f>1&&(C=e(C,f),M=e(M,f),N=C.length,w=M.length),j=N,v=M.slice(0,N),b=v.length;b<N;)v[b++]=0;_=C.slice(),_.unshift(0),k=C[0],C[1]>=Wr/2&&++k;do f=0,s=t(C,v,N,b),s<0?(m=v[0],N!=b&&(m=m*Wr+(v[1]||0)),f=m/k|0,f>1?(f>=Wr&&(f=Wr-1),d=e(C,f),h=d.length,b=v.length,s=t(d,v,h,b),s==1&&(f--,r(d,N<h?_:C,h))):(f==0&&(s=f=1),d=C.slice()),h=d.length,h<b&&d.unshift(0),r(v,d,b),s==-1&&(b=v.length,s=t(C,v,N,b),s<1&&(f++,r(v,N<b?_:C,b))),b=v.length):s===0&&(f++,v=[0]),y[u++]=f,s&&v[0]?v[b++]=M[j]||0:(v=[M[j]],b=1);while((j++<w||v[0]!==void 0)&&g--)}return y[0]||y.shift(),p.e=l,Dt(p,i?o+Sr(p)+1:o)}}();function C_(e,t){var r,n,a,o,i,s,l=0,u=0,f=e.constructor,d=f.precision;if(Sr(e)>16)throw Error(Wv+Sr(e));if(!e.s)return new f(Zn);for(tr=!1,s=d,i=new f(.03125);e.abs().gte(.1);)e=e.times(i),u+=5;for(n=Math.log(Si(2,u))/Math.LN10*2+5|0,s+=n,r=a=o=new f(Zn),f.precision=s;;){if(a=Dt(a.times(e),s),r=r.times(++l),i=o.plus(go(a,r,s)),za(i.d).slice(0,s)===za(o.d).slice(0,s)){for(;u--;)o=Dt(o.times(o),s);return f.precision=d,t==null?(tr=!0,Dt(o,d)):o}o=i}}function Sr(e){for(var t=e.e*qt,r=e.d[0];r>=10;r/=10)t++;return t}function yp(e,t,r){if(t>e.LN10.sd())throw tr=!0,r&&(e.precision=r),Error(ba+"LN10 precision limit exceeded");return Dt(new e(e.LN10),t)}function To(e){for(var t="";e--;)t+="0";return t}function eu(e,t){var r,n,a,o,i,s,l,u,f,d=1,h=10,p=e,y=p.d,v=p.constructor,b=v.precision;if(p.s<1)throw Error(ba+(p.s?"NaN":"-Infinity"));if(p.eq(Zn))return new v(0);if(t==null?(tr=!1,u=b):u=t,p.eq(10))return t==null&&(tr=!0),yp(v,u);if(u+=h,v.precision=u,r=za(y),n=r.charAt(0),o=Sr(p),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=za(p.d),n=r.charAt(0),d++;o=Sr(p),n>1?(p=new v("0."+r),o++):p=new v(n+"."+r.slice(1))}else return l=yp(v,u+2,b).times(o+""),p=eu(new v(n+"."+r.slice(1)),u-h).plus(l),v.precision=b,t==null?(tr=!0,Dt(p,b)):p;for(s=i=p=go(p.minus(Zn),p.plus(Zn),u),f=Dt(p.times(p),u),a=3;;){if(i=Dt(i.times(f),u),l=s.plus(go(i,new v(a),u)),za(l.d).slice(0,u)===za(s.d).slice(0,u))return s=s.times(2),o!==0&&(s=s.plus(yp(v,u+2,b).times(o+""))),s=go(s,new v(d),u),v.precision=b,t==null?(tr=!0,Dt(s,b)):s;s=l,a+=2}}function Sw(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Ml(r/qt),e.d=[],n=(r+1)%qt,r<0&&(n+=qt),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=qt;n<a;)e.d.push(+t.slice(n,n+=qt));t=t.slice(n),n=qt-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),tr&&(e.e>zd||e.e<-zd))throw Error(Wv+r)}else e.s=0,e.e=0,e.d=[0];return e}function Dt(e,t,r){var n,a,o,i,s,l,u,f,d=e.d;for(i=1,o=d[0];o>=10;o/=10)i++;if(n=t-i,n<0)n+=qt,a=t,u=d[f=0];else{if(f=Math.ceil((n+1)/qt),o=d.length,f>=o)return e;for(u=o=d[f],i=1;o>=10;o/=10)i++;n%=qt,a=n-qt+i}if(r!==void 0&&(o=Si(10,i-a-1),s=u/o%10|0,l=t<0||d[f+1]!==void 0||u%o,l=r<4?(s||l)&&(r==0||r==(e.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?a>0?u/Si(10,i-a):0:d[f-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return l?(o=Sr(e),d.length=1,t=t-o-1,d[0]=Si(10,(qt-t%qt)%qt),e.e=Ml(-t/qt)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(n==0?(d.length=f,o=1,f--):(d.length=f+1,o=Si(10,qt-n),d[f]=a>0?(u/Si(10,i-a)%Si(10,a)|0)*o:0),l)for(;;)if(f==0){(d[0]+=o)==Wr&&(d[0]=1,++e.e);break}else{if(d[f]+=o,d[f]!=Wr)break;d[f--]=0,o=1}for(n=d.length;d[--n]===0;)d.pop();if(tr&&(e.e>zd||e.e<-zd))throw Error(Wv+Sr(e));return e}function E_(e,t){var r,n,a,o,i,s,l,u,f,d,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),tr?Dt(t,p):t;if(l=e.d,d=t.d,n=t.e,u=e.e,l=l.slice(),i=u-n,i){for(f=i<0,f?(r=l,i=-i,s=d.length):(r=d,n=u,s=l.length),a=Math.max(Math.ceil(p/qt),s)+2,i>a&&(i=a,r.length=1),r.reverse(),a=i;a--;)r.push(0);r.reverse()}else{for(a=l.length,s=d.length,f=a<s,f&&(s=a),a=0;a<s;a++)if(l[a]!=d[a]){f=l[a]<d[a];break}i=0}for(f&&(r=l,l=d,d=r,t.s=-t.s),s=l.length,a=d.length-s;a>0;--a)l[s++]=0;for(a=d.length;a>i;){if(l[--a]<d[a]){for(o=a;o&&l[--o]===0;)l[o]=Wr-1;--l[o],l[a]+=Wr}l[a]-=d[a]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,tr?Dt(t,p):t):new h(0)}function Vi(e,t,r){var n,a=Sr(e),o=za(e.d),i=o.length;return t?(r&&(n=r-i)>0?o=o.charAt(0)+"."+o.slice(1)+To(n):i>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(a<0?"e":"e+")+a):a<0?(o="0."+To(-a-1)+o,r&&(n=r-i)>0&&(o+=To(n))):a>=i?(o+=To(a+1-i),r&&(n=r-a-1)>0&&(o=o+"."+To(n))):((n=a+1)<i&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-i)>0&&(a+1===i&&(o+="."),o+=To(n))),e.s<0?"-"+o:o}function Nw(e,t){if(e.length>t)return e.length=t,!0}function T_(e){var t,r,n;function a(o){var i=this;if(!(i instanceof a))return new a(o);if(i.constructor=a,o instanceof a){i.s=o.s,i.e=o.e,i.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Ri+o);if(o>0)i.s=1;else if(o<0)o=-o,i.s=-1;else{i.s=0,i.e=0,i.d=[0];return}if(o===~~o&&o<1e7){i.e=0,i.d=[o];return}return Sw(i,o.toString())}else if(typeof o!="string")throw Error(Ri+o);if(o.charCodeAt(0)===45?(o=o.slice(1),i.s=-1):i.s=1,rU.test(o))Sw(i,o);else throw Error(Ri+o)}if(a.prototype=be,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=T_,a.config=a.set=nU,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function nU(e){if(!e||typeof e!="object")throw Error(ba+"Object expected");var t,r,n,a=["precision",1,Al,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Ml(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Ri+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ri+r+": "+n);return this}var Gv=T_(tU);Zn=new Gv(1);const Mt=Gv;function aU(e){return lU(e)||sU(e)||iU(e)||oU()}function oU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iU(e,t){if(e){if(typeof e=="string")return im(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return im(e,t)}}function sU(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function lU(e){if(Array.isArray(e))return im(e)}function im(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var cU=function(t){return t},$_={},D_=function(t){return t===$_},_w=function(t){return function r(){return arguments.length===0||arguments.length===1&&D_(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},uU=function e(t,r){return t===1?r:_w(function(){for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];var i=a.filter(function(s){return s!==$_}).length;return i>=t?r.apply(void 0,a):e(t-i,_w(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var f=a.map(function(d){return D_(d)?l.shift():d});return r.apply(void 0,aU(f).concat(l))}))})},f0=function(t){return uU(t.length,t)},sm=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},fU=f0(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),dU=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return cU;var a=r.reverse(),o=a[0],i=a.slice(1);return function(){return i.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},lm=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},R_=function(t){var r=null,n=null;return function(){for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return r&&o.every(function(s,l){return s===r[l]})||(r=o,n=t.apply(void 0,o)),n}};function hU(e){var t;return e===0?t=1:t=Math.floor(new Mt(e).abs().log(10).toNumber())+1,t}function pU(e,t,r){for(var n=new Mt(e),a=0,o=[];n.lt(t)&&a<1e5;)o.push(n.toNumber()),n=n.add(r),a++;return o}var gU=f0(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),mU=f0(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),yU=f0(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const d0={rangeStep:pU,getDigitCount:hU,interpolateNumber:gU,uninterpolateNumber:mU,uninterpolateTruncation:yU};function cm(e){return bU(e)||xU(e)||L_(e)||vU()}function vU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xU(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function bU(e){if(Array.isArray(e))return um(e)}function tu(e,t){return jU(e)||kU(e,t)||L_(e,t)||wU()}function wU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L_(e,t){if(e){if(typeof e=="string")return um(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return um(e,t)}}function um(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kU(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,o=void 0;try{for(var i=e[Symbol.iterator](),s;!(n=(s=i.next()).done)&&(r.push(s.value),!(t&&r.length===t));n=!0);}catch(l){a=!0,o=l}finally{try{!n&&i.return!=null&&i.return()}finally{if(a)throw o}}return r}}function jU(e){if(Array.isArray(e))return e}function I_(e){var t=tu(e,2),r=t[0],n=t[1],a=r,o=n;return r>n&&(a=n,o=r),[a,o]}function B_(e,t,r){if(e.lte(0))return new Mt(0);var n=d0.getDigitCount(e.toNumber()),a=new Mt(10).pow(n),o=e.div(a),i=n!==1?.05:.1,s=new Mt(Math.ceil(o.div(i).toNumber())).add(r).mul(i),l=s.mul(a);return t?l:new Mt(Math.ceil(l))}function SU(e,t,r){var n=1,a=new Mt(e);if(!a.isint()&&r){var o=Math.abs(e);o<1?(n=new Mt(10).pow(d0.getDigitCount(e)-1),a=new Mt(Math.floor(a.div(n).toNumber())).mul(n)):o>1&&(a=new Mt(Math.floor(e)))}else e===0?a=new Mt(Math.floor((t-1)/2)):r||(a=new Mt(Math.floor(e)));var i=Math.floor((t-1)/2),s=dU(fU(function(l){return a.add(new Mt(l-i).mul(n)).toNumber()}),sm);return s(0,t)}function F_(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Mt(0),tickMin:new Mt(0),tickMax:new Mt(0)};var o=B_(new Mt(t).sub(e).div(r-1),n,a),i;e<=0&&t>=0?i=new Mt(0):(i=new Mt(e).add(t).div(2),i=i.sub(new Mt(i).mod(o)));var s=Math.ceil(i.sub(e).div(o).toNumber()),l=Math.ceil(new Mt(t).sub(i).div(o).toNumber()),u=s+l+1;return u>r?F_(e,t,r,n,a+1):(u<r&&(l=t>0?l+(r-u):l,s=t>0?s:s+(r-u)),{step:o,tickMin:i.sub(new Mt(s).mul(o)),tickMax:i.add(new Mt(l).mul(o))})}function NU(e){var t=tu(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(a,2),s=I_([r,n]),l=tu(s,2),u=l[0],f=l[1];if(u===-1/0||f===1/0){var d=f===1/0?[u].concat(cm(sm(0,a-1).map(function(){return 1/0}))):[].concat(cm(sm(0,a-1).map(function(){return-1/0})),[f]);return r>n?lm(d):d}if(u===f)return SU(u,a,o);var h=F_(u,f,i,o),p=h.step,y=h.tickMin,v=h.tickMax,b=d0.rangeStep(y,v.add(new Mt(.1).mul(p)),p);return r>n?lm(b):b}function _U(e,t){var r=tu(e,2),n=r[0],a=r[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=I_([n,a]),s=tu(i,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[n,a];if(l===u)return[l];var f=Math.max(t,2),d=B_(new Mt(u).sub(l).div(f-1),o,0),h=[].concat(cm(d0.rangeStep(new Mt(l),new Mt(u).sub(new Mt(.99).mul(d)),d)),[u]);return n>a?lm(h):h}var OU=R_(NU),PU=R_(_U),AU="Invariant failed";function Xi(e,t){throw new Error(AU)}var MU=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Qs(e){"@babel/helpers - typeof";return Qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qs(e)}function Ud(){return Ud=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ud.apply(this,arguments)}function CU(e,t){return DU(e)||$U(e,t)||TU(e,t)||EU()}function EU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TU(e,t){if(e){if(typeof e=="string")return Ow(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ow(e,t)}}function Ow(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $U(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){u=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return s}}function DU(e){if(Array.isArray(e))return e}function RU(e,t){if(e==null)return{};var r=LU(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function LU(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function IU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BU(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,W_(n.key),n)}}function FU(e,t,r){return t&&BU(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zU(e,t,r){return t=Wd(t),UU(e,z_()?Reflect.construct(t,r||[],Wd(e).constructor):t.apply(e,r))}function UU(e,t){if(t&&(Qs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WU(e)}function WU(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(z_=function(){return!!e})()}function Wd(e){return Wd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wd(e)}function GU(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fm(e,t)}function fm(e,t){return fm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},fm(e,t)}function U_(e,t,r){return t=W_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W_(e){var t=HU(e,"string");return Qs(t)=="symbol"?t:t+""}function HU(e,t){if(Qs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Cl=function(e){function t(){return IU(this,t),zU(this,t,arguments)}return GU(t,e),FU(t,[{key:"render",value:function(){var n=this.props,a=n.offset,o=n.layout,i=n.width,s=n.dataKey,l=n.data,u=n.dataPointFormatter,f=n.xAxis,d=n.yAxis,h=RU(n,MU),p=Ue(h,!1);this.props.direction==="x"&&f.type!=="number"&&Xi();var y=l.map(function(v){var b=u(v,s),m=b.x,g=b.y,x=b.value,j=b.errorVal;if(!j)return null;var w=[],k,N;if(Array.isArray(j)){var _=CU(j,2);k=_[0],N=_[1]}else k=N=j;if(o==="vertical"){var O=f.scale,A=g+a,M=A+i,C=A-i,R=O(x-k),z=O(x+N);w.push({x1:z,y1:M,x2:z,y2:C}),w.push({x1:R,y1:A,x2:z,y2:A}),w.push({x1:R,y1:M,x2:R,y2:C})}else if(o==="horizontal"){var T=d.scale,G=m+a,P=G-i,E=G+i,$=T(x-k),U=T(x+N);w.push({x1:P,y1:U,x2:E,y2:U}),w.push({x1:G,y1:$,x2:G,y2:U}),w.push({x1:P,y1:$,x2:E,y2:$})}return I.createElement(mt,Ud({className:"recharts-errorBar",key:"bar-".concat(w.map(function(te){return"".concat(te.x1,"-").concat(te.x2,"-").concat(te.y1,"-").concat(te.y2)}))},p),w.map(function(te){return I.createElement("line",Ud({},te,{key:"line-".concat(te.x1,"-").concat(te.x2,"-").concat(te.y1,"-").concat(te.y2)}))}))});return I.createElement(mt,{className:"recharts-errorBars"},y)}}])}(I.Component);U_(Cl,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});U_(Cl,"displayName","ErrorBar");function ru(e){"@babel/helpers - typeof";return ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ru(e)}function Pw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pw(Object(r),!0).forEach(function(n){VU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VU(e,t,r){return t=XU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XU(e){var t=KU(e,"string");return ru(t)=="symbol"?t:t+""}function KU(e,t){if(ru(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ru(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var G_=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,o=t.legendContent,i=qn(r,Ha);if(!i)return null;var s=Ha.defaultProps,l=s!==void 0?yi(yi({},s),i.props):{},u;return i.props&&i.props.payload?u=i.props&&i.props.payload:o==="children"?u=(n||[]).reduce(function(f,d){var h=d.item,p=d.props,y=p.sectors||p.data||[];return f.concat(y.map(function(v){return{type:i.props.iconType||h.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):u=(n||[]).map(function(f){var d=f.item,h=d.type.defaultProps,p=h!==void 0?yi(yi({},h),d.props):{},y=p.dataKey,v=p.name,b=p.legendType,m=p.hide;return{inactive:m,dataKey:y,type:l.iconType||b||"square",color:Hv(d),value:v||y,payload:p}}),yi(yi(yi({},l),Ha.getWithHeight(i,a)),{},{payload:u,item:i})};function nu(e){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nu(e)}function Aw(e){return QU(e)||ZU(e)||qU(e)||YU()}function YU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qU(e,t){if(e){if(typeof e=="string")return dm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dm(e,t)}}function ZU(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function QU(e){if(Array.isArray(e))return dm(e)}function dm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Mw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mw(Object(r),!0).forEach(function(n){Ds(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ds(e,t,r){return t=JU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JU(e){var t=eW(e,"string");return nu(t)=="symbol"?t:t+""}function eW(e,t){if(nu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Br(e,t,r){return Ie(e)||Ie(t)?r:Ir(t)?ya(e,t,r):Ge(t)?t(e):r}function vc(e,t,r,n){var a=Z7(e,function(s){return Br(s,t)});if(r==="number"){var o=a.filter(function(s){return he(s)||parseFloat(s)});return o.length?[u0(o),Bo(o)]:[1/0,-1/0]}var i=n?a.filter(function(s){return!Ie(s)}):a;return i.map(function(s){return Ir(s)||s instanceof Date?s:""})}var tW=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,i=-1,s=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<s;u++){var f=u>0?a[u-1].coordinate:a[s-1].coordinate,d=a[u].coordinate,h=u>=s-1?a[0].coordinate:a[u+1].coordinate,p=void 0;if(Ea(d-f)!==Ea(h-d)){var y=[];if(Ea(h-d)===Ea(l[1]-l[0])){p=h;var v=d+l[1]-l[0];y[0]=Math.min(v,(v+f)/2),y[1]=Math.max(v,(v+f)/2)}else{p=f;var b=h+l[1]-l[0];y[0]=Math.min(d,(b+d)/2),y[1]=Math.max(d,(b+d)/2)}var m=[Math.min(d,(p+d)/2),Math.max(d,(p+d)/2)];if(t>m[0]&&t<=m[1]||t>=y[0]&&t<=y[1]){i=a[u].index;break}}else{var g=Math.min(f,h),x=Math.max(f,h);if(t>(g+d)/2&&t<=(x+d)/2){i=a[u].index;break}}}else for(var j=0;j<s;j++)if(j===0&&t<=(n[j].coordinate+n[j+1].coordinate)/2||j>0&&j<s-1&&t>(n[j].coordinate+n[j-1].coordinate)/2&&t<=(n[j].coordinate+n[j+1].coordinate)/2||j===s-1&&t>(n[j].coordinate+n[j-1].coordinate)/2){i=n[j].index;break}return i},Hv=function(t){var r,n=t,a=n.type.displayName,o=(r=t.type)!==null&&r!==void 0&&r.defaultProps?hr(hr({},t.type.defaultProps),t.props):t.props,i=o.stroke,s=o.fill,l;switch(a){case"Line":l=i;break;case"Area":case"Radar":l=i&&i!=="none"?i:s;break;default:l=s;break}return l},rW=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,o=a===void 0?{}:a;if(!o)return{};for(var i={},s=Object.keys(o),l=0,u=s.length;l<u;l++)for(var f=o[s[l]].stackGroups,d=Object.keys(f),h=0,p=d.length;h<p;h++){var y=f[d[h]],v=y.items,b=y.cateAxisId,m=v.filter(function(N){return fo(N.type).indexOf("Bar")>=0});if(m&&m.length){var g=m[0].type.defaultProps,x=g!==void 0?hr(hr({},g),m[0].props):m[0].props,j=x.barSize,w=x[b];i[w]||(i[w]=[]);var k=Ie(j)?r:j;i[w].push({item:m[0],stackList:m.slice(1),barSize:Ie(k)?void 0:Gi(k,n,0)})}}return i},nW=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,o=t.sizeList,i=o===void 0?[]:o,s=t.maxBarSize,l=i.length;if(l<1)return null;var u=Gi(r,a,0,!0),f,d=[];if(i[0].barSize===+i[0].barSize){var h=!1,p=a/l,y=i.reduce(function(j,w){return j+w.barSize||0},0);y+=(l-1)*u,y>=a&&(y-=(l-1)*u,u=0),y>=a&&p>0&&(h=!0,p*=.9,y=l*p);var v=(a-y)/2>>0,b={offset:v-u,size:0};f=i.reduce(function(j,w){var k={item:w.item,position:{offset:b.offset+b.size+u,size:h?p:w.barSize}},N=[].concat(Aw(j),[k]);return b=N[N.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(_){N.push({item:_,position:b})}),N},d)}else{var m=Gi(n,a,0,!0);a-2*m-(l-1)*u<=0&&(u=0);var g=(a-2*m-(l-1)*u)/l;g>1&&(g>>=0);var x=s===+s?Math.min(g,s):g;f=i.reduce(function(j,w,k){var N=[].concat(Aw(j),[{item:w.item,position:{offset:m+(g+u)*k+(g-x)/2,size:x}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(_){N.push({item:_,position:N[N.length-1].position})}),N},d)}return f},aW=function(t,r,n,a){var o=n.children,i=n.width,s=n.margin,l=i-(s.left||0)-(s.right||0),u=G_({children:o,legendWidth:l});if(u){var f=a||{},d=f.width,h=f.height,p=u.align,y=u.verticalAlign,v=u.layout;if((v==="vertical"||v==="horizontal"&&y==="middle")&&p!=="center"&&he(t[p]))return hr(hr({},t),{},Ds({},p,t[p]+(d||0)));if((v==="horizontal"||v==="vertical"&&p==="center")&&y!=="middle"&&he(t[y]))return hr(hr({},t),{},Ds({},y,t[y]+(h||0)))}return t},oW=function(t,r,n){return Ie(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},H_=function(t,r,n,a,o){var i=r.props.children,s=Fn(i,Cl).filter(function(u){return oW(a,o,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return t.reduce(function(u,f){var d=Br(f,n);if(Ie(d))return u;var h=Array.isArray(d)?[u0(d),Bo(d)]:[d,d],p=l.reduce(function(y,v){var b=Br(f,v,0),m=h[0]-Math.abs(Array.isArray(b)?b[0]:b),g=h[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(m,y[0]),Math.max(g,y[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},iW=function(t,r,n,a,o){var i=r.map(function(s){return H_(t,s,n,o,a)}).filter(function(s){return!Ie(s)});return i&&i.length?i.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},V_=function(t,r,n,a,o){var i=r.map(function(l){var u=l.props.dataKey;return n==="number"&&u&&H_(t,l,u,a)||vc(t,u,n,o)});if(n==="number")return i.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return i.reduce(function(l,u){for(var f=0,d=u.length;f<d;f++)s[u[f]]||(s[u[f]]=!0,l.push(u[f]));return l},[])},X_=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},K_=function(t,r,n,a){if(a)return t.map(function(l){return l.coordinate});var o,i,s=t.map(function(l){return l.coordinate===r&&(o=!0),l.coordinate===n&&(i=!0),l.coordinate});return o||s.push(r),i||s.push(n),s},co=function(t,r,n){if(!t)return null;var a=t.scale,o=t.duplicateDomain,i=t.type,s=t.range,l=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&i==="category"&&a.bandwidth?a.bandwidth()/l:0;if(u=t.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?Ea(s[0]-s[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var f=(t.ticks||t.niceTicks).map(function(d){var h=o?o.indexOf(d):d;return{coordinate:a(h)+u,value:d,offset:u}});return f.filter(function(d){return!Sl(d.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(d,h){return{coordinate:a(d)+u,value:d,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(d){return{coordinate:a(d)+u,value:d,offset:u}}):a.domain().map(function(d,h){return{coordinate:a(d)+u,value:o?o[d]:d,index:h,offset:u}})},vp=new WeakMap,jf=function(t,r){if(typeof r!="function")return t;vp.has(t)||vp.set(t,new WeakMap);var n=vp.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},sW=function(t,r,n){var a=t.scale,o=t.type,i=t.layout,s=t.axisType;if(a==="auto")return i==="radial"&&s==="radiusAxis"?{scale:Yc(),realScaleType:"band"}:i==="radial"&&s==="angleAxis"?{scale:Ld(),realScaleType:"linear"}:o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:yc(),realScaleType:"point"}:o==="category"?{scale:Yc(),realScaleType:"band"}:{scale:Ld(),realScaleType:"linear"};if(Wi(a)){var l="scale".concat(qh(a));return{scale:(jw[l]||yc)(),realScaleType:jw[l]?l:"point"}}return Ge(a)?{scale:a}:{scale:yc(),realScaleType:"point"}},Cw=1e-4,lW=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),o=Math.min(a[0],a[1])-Cw,i=Math.max(a[0],a[1])+Cw,s=t(r[0]),l=t(r[n-1]);(s<o||s>i||l<o||l>i)&&t.domain([r[0],r[n-1]])}},cW=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},uW=function(t,r){if(!r||r.length!==2||!he(r[0])||!he(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),o=[t[0],t[1]];return(!he(t[0])||t[0]<n)&&(o[0]=n),(!he(t[1])||t[1]>a)&&(o[1]=a),o[0]>a&&(o[0]=a),o[1]<n&&(o[1]=n),o},fW=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var o=0,i=0,s=0;s<r;++s){var l=Sl(t[s][n][1])?t[s][n][0]:t[s][n][1];l>=0?(t[s][n][0]=o,t[s][n][1]=o+l,o=t[s][n][1]):(t[s][n][0]=i,t[s][n][1]=i+l,i=t[s][n][1])}},dW=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var o=0,i=0;i<r;++i){var s=Sl(t[i][n][1])?t[i][n][0]:t[i][n][1];s>=0?(t[i][n][0]=o,t[i][n][1]=o+s,o=t[i][n][1]):(t[i][n][0]=0,t[i][n][1]=0)}},hW={sign:fW,expand:P4,none:Gs,silhouette:A4,wiggle:M4,positive:dW},pW=function(t,r,n){var a=r.map(function(s){return s.props.dataKey}),o=hW[n],i=O4().keys(a).value(function(s,l){return+Br(s,l,0)}).order(Lg).offset(o);return i(t)},gW=function(t,r,n,a,o,i){if(!t)return null;var s=i?r.reverse():r,l={},u=s.reduce(function(d,h){var p,y=(p=h.type)!==null&&p!==void 0&&p.defaultProps?hr(hr({},h.type.defaultProps),h.props):h.props,v=y.stackId,b=y.hide;if(b)return d;var m=y[n],g=d[m]||{hasStack:!1,stackGroups:{}};if(Ir(v)){var x=g.stackGroups[v]||{numericAxisId:n,cateAxisId:a,items:[]};x.items.push(h),g.hasStack=!0,g.stackGroups[v]=x}else g.stackGroups[Ji("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return hr(hr({},d),{},Ds({},m,g))},l),f={};return Object.keys(u).reduce(function(d,h){var p=u[h];if(p.hasStack){var y={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(v,b){var m=p.stackGroups[b];return hr(hr({},v),{},Ds({},b,{numericAxisId:n,cateAxisId:a,items:m.items,stackedData:pW(t,m.items,o)}))},y)}return hr(hr({},d),{},Ds({},h,p))},f)},mW=function(t,r){var n=r.realScaleType,a=r.type,o=r.tickCount,i=r.originalDomain,s=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&a==="number"&&i&&(i[0]==="auto"||i[1]==="auto")){var u=t.domain();if(!u.length)return null;var f=OU(u,o,s);return t.domain([u0(f),Bo(f)]),{niceTicks:f}}if(o&&a==="number"){var d=t.domain(),h=PU(d,o,s);return{niceTicks:h}}return null};function Js(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,o=e.index,i=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Ie(a[t.dataKey])){var s=pd(r,"value",a[t.dataKey]);if(s)return s.coordinate+n/2}return r[o]?r[o].coordinate+n/2:null}var l=Br(a,Ie(i)?t.dataKey:i);return Ie(l)?null:t.scale(l)}var Ew=function(t){var r=t.axis,n=t.ticks,a=t.offset,o=t.bandSize,i=t.entry,s=t.index;if(r.type==="category")return n[s]?n[s].coordinate+a:null;var l=Br(i,r.dataKey,r.domain[s]);return Ie(l)?null:r.scale(l)-o/2+a},yW=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]);return a<=0&&o>=0?0:o<0?o:a}return n[0]},vW=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?hr(hr({},t.type.defaultProps),t.props):t.props,o=a.stackId;if(Ir(o)){var i=r[o];if(i){var s=i.items.indexOf(t);return s>=0?i.stackedData[s]:null}}return null},xW=function(t){return t.reduce(function(r,n){return[u0(n.concat([r[0]]).filter(he)),Bo(n.concat([r[1]]).filter(he))]},[1/0,-1/0])},Y_=function(t,r,n){return Object.keys(t).reduce(function(a,o){var i=t[o],s=i.stackedData,l=s.reduce(function(u,f){var d=xW(f.slice(r,n+1));return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],a[0]),Math.max(l[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},Tw=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,$w=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,hm=function(t,r,n){if(Ge(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(he(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(Tw.test(t[0])){var o=+Tw.exec(t[0])[1];a[0]=r[0]-o}else Ge(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(he(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if($w.test(t[1])){var i=+$w.exec(t[1])[1];a[1]=r[1]+i}else Ge(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},Gd=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var o=vv(r,function(d){return d.coordinate}),i=1/0,s=1,l=o.length;s<l;s++){var u=o[s],f=o[s-1];i=Math.min((u.coordinate||0)-(f.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0},Dw=function(t,r,n){return!t||!t.length||Hi(t,ya(n,"type.defaultProps.domain"))?r:t},q_=function(t,r){var n=t.type.defaultProps?hr(hr({},t.type.defaultProps),t.props):t.props,a=n.dataKey,o=n.name,i=n.unit,s=n.formatter,l=n.tooltipType,u=n.chartType,f=n.hide;return hr(hr({},Ue(t,!1)),{},{dataKey:a,unit:i,formatter:s,name:o||a,color:Hv(t),value:Br(r,a),type:l,payload:r,chartType:u,hide:f})};function au(e){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},au(e)}function Rw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rw(Object(r),!0).forEach(function(n){bW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bW(e,t,r){return t=wW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wW(e){var t=kW(e,"string");return au(t)=="symbol"?t:t+""}function kW(e,t){if(au(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(au(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hd=Math.PI/180,jW=function(t){return t*180/Math.PI},rn=function(t,r,n,a){return{x:t+Math.cos(-Hd*a)*n,y:r+Math.sin(-Hd*a)*n}},SW=function(t,r){var n=t.x,a=t.y,o=r.x,i=r.y;return Math.sqrt(Math.pow(n-o,2)+Math.pow(a-i,2))},NW=function(t,r){var n=t.x,a=t.y,o=r.cx,i=r.cy,s=SW({x:n,y:a},{x:o,y:i});if(s<=0)return{radius:s};var l=(n-o)/s,u=Math.acos(l);return a>i&&(u=2*Math.PI-u),{radius:s,angle:jW(u),angleInRadian:u}},_W=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),o=Math.floor(n/360),i=Math.min(a,o);return{startAngle:r-i*360,endAngle:n-i*360}},OW=function(t,r){var n=r.startAngle,a=r.endAngle,o=Math.floor(n/360),i=Math.floor(a/360),s=Math.min(o,i);return t+s*360},Iw=function(t,r){var n=t.x,a=t.y,o=NW({x:n,y:a},r),i=o.radius,s=o.angle,l=r.innerRadius,u=r.outerRadius;if(i<l||i>u)return!1;if(i===0)return!0;var f=_W(r),d=f.startAngle,h=f.endAngle,p=s,y;if(d<=h){for(;p>h;)p-=360;for(;p<d;)p+=360;y=p>=d&&p<=h}else{for(;p>d;)p-=360;for(;p<h;)p+=360;y=p>=h&&p<=d}return y?Lw(Lw({},r),{},{radius:i,angle:OW(p,r)}):null};function ou(e){"@babel/helpers - typeof";return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ou(e)}var PW=["offset"];function AW(e){return TW(e)||EW(e)||CW(e)||MW()}function MW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CW(e,t){if(e){if(typeof e=="string")return pm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pm(e,t)}}function EW(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function TW(e){if(Array.isArray(e))return pm(e)}function pm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $W(e,t){if(e==null)return{};var r=DW(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function DW(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Bw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Dr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bw(Object(r),!0).forEach(function(n){RW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RW(e,t,r){return t=LW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LW(e){var t=IW(e,"string");return ou(t)=="symbol"?t:t+""}function IW(e,t){if(ou(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ou(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iu(){return iu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iu.apply(this,arguments)}var BW=function(t){var r=t.value,n=t.formatter,a=Ie(t.children)?r:t.children;return Ge(n)?n(a):a},FW=function(t,r){var n=Ea(r-t),a=Math.min(Math.abs(r-t),360);return n*a},zW=function(t,r,n){var a=t.position,o=t.viewBox,i=t.offset,s=t.className,l=o,u=l.cx,f=l.cy,d=l.innerRadius,h=l.outerRadius,p=l.startAngle,y=l.endAngle,v=l.clockWise,b=(d+h)/2,m=FW(p,y),g=m>=0?1:-1,x,j;a==="insideStart"?(x=p+g*i,j=v):a==="insideEnd"?(x=y-g*i,j=!v):a==="end"&&(x=y+g*i,j=v),j=m<=0?j:!j;var w=rn(u,f,b,x),k=rn(u,f,b,x+(j?1:-1)*359),N="M".concat(w.x,",").concat(w.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(j?0:1,`,
    `).concat(k.x,",").concat(k.y),_=Ie(t.id)?Ji("recharts-radial-line-"):t.id;return I.createElement("text",iu({},n,{dominantBaseline:"central",className:ot("recharts-radial-bar-label",s)}),I.createElement("defs",null,I.createElement("path",{id:_,d:N})),I.createElement("textPath",{xlinkHref:"#".concat(_)},r))},UW=function(t){var r=t.viewBox,n=t.offset,a=t.position,o=r,i=o.cx,s=o.cy,l=o.innerRadius,u=o.outerRadius,f=o.startAngle,d=o.endAngle,h=(f+d)/2;if(a==="outside"){var p=rn(i,s,u+n,h),y=p.x,v=p.y;return{x:y,y:v,textAnchor:y>=i?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"end"};var b=(l+u)/2,m=rn(i,s,b,h),g=m.x,x=m.y;return{x:g,y:x,textAnchor:"middle",verticalAnchor:"middle"}},WW=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,o=t.position,i=r,s=i.x,l=i.y,u=i.width,f=i.height,d=f>=0?1:-1,h=d*a,p=d>0?"end":"start",y=d>0?"start":"end",v=u>=0?1:-1,b=v*a,m=v>0?"end":"start",g=v>0?"start":"end";if(o==="top"){var x={x:s+u/2,y:l-d*a,textAnchor:"middle",verticalAnchor:p};return Dr(Dr({},x),n?{height:Math.max(l-n.y,0),width:u}:{})}if(o==="bottom"){var j={x:s+u/2,y:l+f+h,textAnchor:"middle",verticalAnchor:y};return Dr(Dr({},j),n?{height:Math.max(n.y+n.height-(l+f),0),width:u}:{})}if(o==="left"){var w={x:s-b,y:l+f/2,textAnchor:m,verticalAnchor:"middle"};return Dr(Dr({},w),n?{width:Math.max(w.x-n.x,0),height:f}:{})}if(o==="right"){var k={x:s+u+b,y:l+f/2,textAnchor:g,verticalAnchor:"middle"};return Dr(Dr({},k),n?{width:Math.max(n.x+n.width-k.x,0),height:f}:{})}var N=n?{width:u,height:f}:{};return o==="insideLeft"?Dr({x:s+b,y:l+f/2,textAnchor:g,verticalAnchor:"middle"},N):o==="insideRight"?Dr({x:s+u-b,y:l+f/2,textAnchor:m,verticalAnchor:"middle"},N):o==="insideTop"?Dr({x:s+u/2,y:l+h,textAnchor:"middle",verticalAnchor:y},N):o==="insideBottom"?Dr({x:s+u/2,y:l+f-h,textAnchor:"middle",verticalAnchor:p},N):o==="insideTopLeft"?Dr({x:s+b,y:l+h,textAnchor:g,verticalAnchor:y},N):o==="insideTopRight"?Dr({x:s+u-b,y:l+h,textAnchor:m,verticalAnchor:y},N):o==="insideBottomLeft"?Dr({x:s+b,y:l+f-h,textAnchor:g,verticalAnchor:p},N):o==="insideBottomRight"?Dr({x:s+u-b,y:l+f-h,textAnchor:m,verticalAnchor:p},N):bl(o)&&(he(o.x)||Pi(o.x))&&(he(o.y)||Pi(o.y))?Dr({x:s+Gi(o.x,u),y:l+Gi(o.y,f),textAnchor:"end",verticalAnchor:"end"},N):Dr({x:s+u/2,y:l+f/2,textAnchor:"middle",verticalAnchor:"middle"},N)},GW=function(t){return"cx"in t&&he(t.cx)};function tn(e){var t=e.offset,r=t===void 0?5:t,n=$W(e,PW),a=Dr({offset:r},n),o=a.viewBox,i=a.position,s=a.value,l=a.children,u=a.content,f=a.className,d=f===void 0?"":f,h=a.textBreakAll;if(!o||Ie(s)&&Ie(l)&&!S.isValidElement(u)&&!Ge(u))return null;if(S.isValidElement(u))return S.cloneElement(u,a);var p;if(Ge(u)){if(p=S.createElement(u,a),S.isValidElement(p))return p}else p=BW(a);var y=GW(o),v=Ue(a,!0);if(y&&(i==="insideStart"||i==="insideEnd"||i==="end"))return zW(a,p,v);var b=y?UW(a):WW(a);return I.createElement(Ad,iu({className:ot("recharts-label",d)},v,b,{breakAll:h}),p)}tn.displayName="Label";var Z_=function(t){var r=t.cx,n=t.cy,a=t.angle,o=t.startAngle,i=t.endAngle,s=t.r,l=t.radius,u=t.innerRadius,f=t.outerRadius,d=t.x,h=t.y,p=t.top,y=t.left,v=t.width,b=t.height,m=t.clockWise,g=t.labelViewBox;if(g)return g;if(he(v)&&he(b)){if(he(d)&&he(h))return{x:d,y:h,width:v,height:b};if(he(p)&&he(y))return{x:p,y,width:v,height:b}}return he(d)&&he(h)?{x:d,y:h,width:0,height:0}:he(r)&&he(n)?{cx:r,cy:n,startAngle:o||a||0,endAngle:i||a||0,innerRadius:u||0,outerRadius:f||l||s||0,clockWise:m}:t.viewBox?t.viewBox:{}},HW=function(t,r){return t?t===!0?I.createElement(tn,{key:"label-implicit",viewBox:r}):Ir(t)?I.createElement(tn,{key:"label-implicit",viewBox:r,value:t}):S.isValidElement(t)?t.type===tn?S.cloneElement(t,{key:"label-implicit",viewBox:r}):I.createElement(tn,{key:"label-implicit",content:t,viewBox:r}):Ge(t)?I.createElement(tn,{key:"label-implicit",content:t,viewBox:r}):bl(t)?I.createElement(tn,iu({viewBox:r},t,{key:"label-implicit"})):null:null},VW=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,o=Z_(t),i=Fn(a,tn).map(function(l,u){return S.cloneElement(l,{viewBox:r||o,key:"label-".concat(u)})});if(!n)return i;var s=HW(t.label,r||o);return[s].concat(AW(i))};tn.parseViewBox=Z_;tn.renderCallByParent=VW;function XW(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var KW=XW;const YW=Rt(KW);function su(e){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},su(e)}var qW=["valueAccessor"],ZW=["data","dataKey","clockWise","id","textBreakAll"];function QW(e){return rG(e)||tG(e)||eG(e)||JW()}function JW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eG(e,t){if(e){if(typeof e=="string")return gm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gm(e,t)}}function tG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rG(e){if(Array.isArray(e))return gm(e)}function gm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Vd(){return Vd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vd.apply(this,arguments)}function Fw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fw(Object(r),!0).forEach(function(n){nG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nG(e,t,r){return t=aG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aG(e){var t=oG(e,"string");return su(t)=="symbol"?t:t+""}function oG(e,t){if(su(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(su(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Uw(e,t){if(e==null)return{};var r=iG(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function iG(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var sG=function(t){return Array.isArray(t.value)?YW(t.value):t.value};function Xa(e){var t=e.valueAccessor,r=t===void 0?sG:t,n=Uw(e,qW),a=n.data,o=n.dataKey,i=n.clockWise,s=n.id,l=n.textBreakAll,u=Uw(n,ZW);return!a||!a.length?null:I.createElement(mt,{className:"recharts-label-list"},a.map(function(f,d){var h=Ie(o)?r(f,d):Br(f&&f.payload,o),p=Ie(s)?{}:{id:"".concat(s,"-").concat(d)};return I.createElement(tn,Vd({},Ue(f,!0),u,p,{parentViewBox:f.parentViewBox,value:h,textBreakAll:l,viewBox:tn.parseViewBox(Ie(i)?f:zw(zw({},f),{},{clockWise:i})),key:"label-".concat(d),index:d}))}))}Xa.displayName="LabelList";function lG(e,t){return e?e===!0?I.createElement(Xa,{key:"labelList-implicit",data:t}):I.isValidElement(e)||Ge(e)?I.createElement(Xa,{key:"labelList-implicit",data:t,content:e}):bl(e)?I.createElement(Xa,Vd({data:t},e,{key:"labelList-implicit"})):null:null}function cG(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=Fn(n,Xa).map(function(i,s){return S.cloneElement(i,{data:t,key:"labelList-".concat(s)})});if(!r)return a;var o=lG(e.label,t);return[o].concat(QW(a))}Xa.renderCallByParent=cG;function lu(e){"@babel/helpers - typeof";return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lu(e)}function mm(){return mm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mm.apply(this,arguments)}function Ww(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ww(Object(r),!0).forEach(function(n){uG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ww(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uG(e,t,r){return t=fG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fG(e){var t=dG(e,"string");return lu(t)=="symbol"?t:t+""}function dG(e,t){if(lu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hG=function(t,r){var n=Ea(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},Sf=function(t){var r=t.cx,n=t.cy,a=t.radius,o=t.angle,i=t.sign,s=t.isExternal,l=t.cornerRadius,u=t.cornerIsExternal,f=l*(s?1:-1)+a,d=Math.asin(l/f)/Hd,h=u?o:o+i*d,p=rn(r,n,f,h),y=rn(r,n,a,h),v=u?o-i*d:o,b=rn(r,n,f*Math.cos(d*Hd),v);return{center:p,circleTangency:y,lineTangency:b,theta:d}},Q_=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,o=t.outerRadius,i=t.startAngle,s=t.endAngle,l=hG(i,s),u=i+l,f=rn(r,n,o,i),d=rn(r,n,o,u),h="M ".concat(f.x,",").concat(f.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(i>u),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(a>0){var p=rn(r,n,a,i),y=rn(r,n,a,u);h+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(i<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},pG=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,o=t.outerRadius,i=t.cornerRadius,s=t.forceCornerRadius,l=t.cornerIsExternal,u=t.startAngle,f=t.endAngle,d=Ea(f-u),h=Sf({cx:r,cy:n,radius:o,angle:u,sign:d,cornerRadius:i,cornerIsExternal:l}),p=h.circleTangency,y=h.lineTangency,v=h.theta,b=Sf({cx:r,cy:n,radius:o,angle:f,sign:-d,cornerRadius:i,cornerIsExternal:l}),m=b.circleTangency,g=b.lineTangency,x=b.theta,j=l?Math.abs(u-f):Math.abs(u-f)-v-x;if(j<0)return s?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):Q_({cx:r,cy:n,innerRadius:a,outerRadius:o,startAngle:u,endAngle:f});var w="M ".concat(y.x,",").concat(y.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(j>180),",").concat(+(d<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(g.x,",").concat(g.y,`
  `);if(a>0){var k=Sf({cx:r,cy:n,radius:a,angle:u,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),N=k.circleTangency,_=k.lineTangency,O=k.theta,A=Sf({cx:r,cy:n,radius:a,angle:f,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),M=A.circleTangency,C=A.lineTangency,R=A.theta,z=l?Math.abs(u-f):Math.abs(u-f)-O-R;if(z<0&&i===0)return"".concat(w,"L").concat(r,",").concat(n,"Z");w+="L".concat(C.x,",").concat(C.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(M.x,",").concat(M.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(z>180),",").concat(+(d>0),",").concat(N.x,",").concat(N.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(_.x,",").concat(_.y,"Z")}else w+="L".concat(r,",").concat(n,"Z");return w},gG={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},J_=function(t){var r=Gw(Gw({},gG),t),n=r.cx,a=r.cy,o=r.innerRadius,i=r.outerRadius,s=r.cornerRadius,l=r.forceCornerRadius,u=r.cornerIsExternal,f=r.startAngle,d=r.endAngle,h=r.className;if(i<o||f===d)return null;var p=ot("recharts-sector",h),y=i-o,v=Gi(s,y,0,!0),b;return v>0&&Math.abs(f-d)<360?b=pG({cx:n,cy:a,innerRadius:o,outerRadius:i,cornerRadius:Math.min(v,y/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:f,endAngle:d}):b=Q_({cx:n,cy:a,innerRadius:o,outerRadius:i,startAngle:f,endAngle:d}),I.createElement("path",mm({},Ue(r,!0),{className:p,d:b,role:"img"}))};function cu(e){"@babel/helpers - typeof";return cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cu(e)}function ym(){return ym=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ym.apply(this,arguments)}function Hw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hw(Object(r),!0).forEach(function(n){mG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mG(e,t,r){return t=yG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yG(e){var t=vG(e,"string");return cu(t)=="symbol"?t:t+""}function vG(e,t){if(cu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xw={curveBasisClosed:m4,curveBasisOpen:y4,curveBasis:g4,curveBumpX:t4,curveBumpY:r4,curveLinearClosed:v4,curveLinear:Qh,curveMonotoneX:x4,curveMonotoneY:b4,curveNatural:w4,curveStep:k4,curveStepAfter:S4,curveStepBefore:j4},Nf=function(t){return t.x===+t.x&&t.y===+t.y},Ql=function(t){return t.x},Jl=function(t){return t.y},xG=function(t,r){if(Ge(t))return t;var n="curve".concat(qh(t));return(n==="curveMonotone"||n==="curveBump")&&r?Xw["".concat(n).concat(r==="vertical"?"Y":"X")]:Xw[n]||Qh},bG=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,o=a===void 0?[]:a,i=t.baseLine,s=t.layout,l=t.connectNulls,u=l===void 0?!1:l,f=xG(n,s),d=u?o.filter(function(v){return Nf(v)}):o,h;if(Array.isArray(i)){var p=u?i.filter(function(v){return Nf(v)}):i,y=d.map(function(v,b){return Vw(Vw({},v),{},{base:p[b]})});return s==="vertical"?h=gf().y(Jl).x1(Ql).x0(function(v){return v.base.x}):h=gf().x(Ql).y1(Jl).y0(function(v){return v.base.y}),h.defined(Nf).curve(f),h(y)}return s==="vertical"&&he(i)?h=gf().y(Jl).x1(Ql).x0(i):he(i)?h=gf().x(Ql).y1(Jl).y0(i):h=tN().x(Ql).y(Jl),h.defined(Nf).curve(f),h(d)},Li=function(t){var r=t.className,n=t.points,a=t.path,o=t.pathRef;if((!n||!n.length)&&!a)return null;var i=n&&n.length?bG(t):a;return S.createElement("path",ym({},Ue(t,!1),gd(t),{className:ot("recharts-curve",r),d:i,ref:o}))},eO={exports:{}},wG="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",kG=wG,jG=kG;function tO(){}function rO(){}rO.resetWarningCache=tO;var SG=function(){function e(n,a,o,i,s,l){if(l!==jG){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:rO,resetWarningCache:tO};return r.PropTypes=r,r};eO.exports=SG();var NG=eO.exports;const bt=Rt(NG),{getOwnPropertyNames:_G,getOwnPropertySymbols:OG}=Object,{hasOwnProperty:PG}=Object.prototype;function xp(e,t){return function(n,a,o){return e(n,a,o)&&t(n,a,o)}}function _f(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);const{cache:o}=a,i=o.get(r),s=o.get(n);if(i&&s)return i===n&&s===r;o.set(r,n),o.set(n,r);const l=e(r,n,a);return o.delete(r),o.delete(n),l}}function AG(e){return e!=null?e[Symbol.toStringTag]:void 0}function Kw(e){return _G(e).concat(OG(e))}const MG=Object.hasOwn||((e,t)=>PG.call(e,t));function rs(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const CG="__v",EG="__o",TG="_owner",{getOwnPropertyDescriptor:Yw,keys:qw}=Object;function $G(e,t){return e.byteLength===t.byteLength&&Xd(new Uint8Array(e),new Uint8Array(t))}function DG(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function RG(e,t){return e.byteLength===t.byteLength&&Xd(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function LG(e,t){return rs(e.getTime(),t.getTime())}function IG(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function BG(e,t){return e===t}function Zw(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),o=e.entries();let i,s,l=0;for(;(i=o.next())&&!i.done;){const u=t.entries();let f=!1,d=0;for(;(s=u.next())&&!s.done;){if(a[d]){d++;continue}const h=i.value,p=s.value;if(r.equals(h[0],p[0],l,d,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){f=a[d]=!0;break}d++}if(!f)return!1;l++}return!0}const FG=rs;function zG(e,t,r){const n=qw(e);let a=n.length;if(qw(t).length!==a)return!1;for(;a-- >0;)if(!nO(e,t,r,n[a]))return!1;return!0}function ec(e,t,r){const n=Kw(e);let a=n.length;if(Kw(t).length!==a)return!1;let o,i,s;for(;a-- >0;)if(o=n[a],!nO(e,t,r,o)||(i=Yw(e,o),s=Yw(t,o),(i||s)&&(!i||!s||i.configurable!==s.configurable||i.enumerable!==s.enumerable||i.writable!==s.writable)))return!1;return!0}function UG(e,t){return rs(e.valueOf(),t.valueOf())}function WG(e,t){return e.source===t.source&&e.flags===t.flags}function Qw(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),o=e.values();let i,s;for(;(i=o.next())&&!i.done;){const l=t.values();let u=!1,f=0;for(;(s=l.next())&&!s.done;){if(!a[f]&&r.equals(i.value,s.value,i.value,s.value,e,t,r)){u=a[f]=!0;break}f++}if(!u)return!1}return!0}function Xd(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function GG(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function nO(e,t,r,n){return(n===TG||n===EG||n===CG)&&(e.$$typeof||t.$$typeof)?!0:MG(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const HG="[object ArrayBuffer]",VG="[object Arguments]",XG="[object Boolean]",KG="[object DataView]",YG="[object Date]",qG="[object Error]",ZG="[object Map]",QG="[object Number]",JG="[object Object]",eH="[object RegExp]",tH="[object Set]",rH="[object String]",nH={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},aH="[object URL]",oH=Object.prototype.toString;function iH({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:a,areFunctionsEqual:o,areMapsEqual:i,areNumbersEqual:s,areObjectsEqual:l,arePrimitiveWrappersEqual:u,areRegExpsEqual:f,areSetsEqual:d,areTypedArraysEqual:h,areUrlsEqual:p,unknownTagComparators:y}){return function(b,m,g){if(b===m)return!0;if(b==null||m==null)return!1;const x=typeof b;if(x!==typeof m)return!1;if(x!=="object")return x==="number"?s(b,m,g):x==="function"?o(b,m,g):!1;const j=b.constructor;if(j!==m.constructor)return!1;if(j===Object)return l(b,m,g);if(Array.isArray(b))return t(b,m,g);if(j===Date)return n(b,m,g);if(j===RegExp)return f(b,m,g);if(j===Map)return i(b,m,g);if(j===Set)return d(b,m,g);const w=oH.call(b);if(w===YG)return n(b,m,g);if(w===eH)return f(b,m,g);if(w===ZG)return i(b,m,g);if(w===tH)return d(b,m,g);if(w===JG)return typeof b.then!="function"&&typeof m.then!="function"&&l(b,m,g);if(w===aH)return p(b,m,g);if(w===qG)return a(b,m,g);if(w===VG)return l(b,m,g);if(nH[w])return h(b,m,g);if(w===HG)return e(b,m,g);if(w===KG)return r(b,m,g);if(w===XG||w===QG||w===rH)return u(b,m,g);if(y){let k=y[w];if(!k){const N=AG(b);N&&(k=y[N])}if(k)return k(b,m,g)}return!1}}function sH({circular:e,createCustomConfig:t,strict:r}){let n={areArrayBuffersEqual:$G,areArraysEqual:r?ec:DG,areDataViewsEqual:RG,areDatesEqual:LG,areErrorsEqual:IG,areFunctionsEqual:BG,areMapsEqual:r?xp(Zw,ec):Zw,areNumbersEqual:FG,areObjectsEqual:r?ec:zG,arePrimitiveWrappersEqual:UG,areRegExpsEqual:WG,areSetsEqual:r?xp(Qw,ec):Qw,areTypedArraysEqual:r?xp(Xd,ec):Xd,areUrlsEqual:GG,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const a=_f(n.areArraysEqual),o=_f(n.areMapsEqual),i=_f(n.areObjectsEqual),s=_f(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:i,areSetsEqual:s})}return n}function lH(e){return function(t,r,n,a,o,i,s){return e(t,r,s)}}function cH({circular:e,comparator:t,createState:r,equals:n,strict:a}){if(r)return function(s,l){const{cache:u=e?new WeakMap:void 0,meta:f}=r();return t(s,l,{cache:u,equals:n,meta:f,strict:a})};if(e)return function(s,l){return t(s,l,{cache:new WeakMap,equals:n,meta:void 0,strict:a})};const o={cache:void 0,equals:n,meta:void 0,strict:a};return function(s,l){return t(s,l,o)}}const uH=ci();ci({strict:!0});ci({circular:!0});ci({circular:!0,strict:!0});ci({createInternalComparator:()=>rs});ci({strict:!0,createInternalComparator:()=>rs});ci({circular:!0,createInternalComparator:()=>rs});ci({circular:!0,createInternalComparator:()=>rs,strict:!0});function ci(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:a=!1}=e,o=sH(e),i=iH(o),s=r?r(i):lH(i);return cH({circular:t,comparator:i,createState:n,equals:s,strict:a})}function fH(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function Jw(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(o){r<0&&(r=o),o-r>t?(e(o),r=-1):fH(a)};requestAnimationFrame(n)}function vm(e){"@babel/helpers - typeof";return vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vm(e)}function dH(e){return mH(e)||gH(e)||pH(e)||hH()}function hH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pH(e,t){if(e){if(typeof e=="string")return e2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e2(e,t)}}function e2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gH(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function mH(e){if(Array.isArray(e))return e}function yH(){var e={},t=function(){return null},r=!1,n=function a(o){if(!r){if(Array.isArray(o)){if(!o.length)return;var i=o,s=dH(i),l=s[0],u=s.slice(1);if(typeof l=="number"){Jw(a.bind(null,u),l);return}a(l),Jw(a.bind(null,u));return}vm(o)==="object"&&(e=o,t(e)),typeof o=="function"&&o()}};return{stop:function(){r=!0},start:function(o){r=!1,n(o)},subscribe:function(o){return t=o,function(){t=function(){return null}}}}}function uu(e){"@babel/helpers - typeof";return uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uu(e)}function t2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function r2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t2(Object(r),!0).forEach(function(n){aO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aO(e,t,r){return t=vH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vH(e){var t=xH(e,"string");return uu(t)==="symbol"?t:String(t)}function xH(e,t){if(uu(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(uu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bH=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(o){return a.includes(o)})})},wH=function(t){return t},kH=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},xc=function(t,r){return Object.keys(r).reduce(function(n,a){return r2(r2({},n),{},aO({},a,t(a,r[a])))},{})},n2=function(t,r,n){return t.map(function(a){return"".concat(kH(a)," ").concat(r,"ms ").concat(n)}).join(",")};function jH(e,t){return _H(e)||NH(e,t)||oO(e,t)||SH()}function SH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NH(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){u=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return s}}function _H(e){if(Array.isArray(e))return e}function OH(e){return MH(e)||AH(e)||oO(e)||PH()}function PH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oO(e,t){if(e){if(typeof e=="string")return xm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xm(e,t)}}function AH(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function MH(e){if(Array.isArray(e))return xm(e)}function xm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Kd=1e-4,iO=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},sO=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},a2=function(t,r){return function(n){var a=iO(t,r);return sO(a,n)}},CH=function(t,r){return function(n){var a=iO(t,r),o=[].concat(OH(a.map(function(i,s){return i*s}).slice(1)),[0]);return sO(o,n)}},o2=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],o=r[1],i=r[2],s=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,o=0,i=1,s=1;break;case"ease":a=.25,o=.1,i=.25,s=1;break;case"ease-in":a=.42,o=0,i=1,s=1;break;case"ease-out":a=.42,o=0,i=.58,s=1;break;case"ease-in-out":a=0,o=0,i=.58,s=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),f=jH(u,4);a=f[0],o=f[1],i=f[2],s=f[3]}}}var d=a2(a,i),h=a2(o,s),p=CH(a,i),y=function(m){return m>1?1:m<0?0:m},v=function(m){for(var g=m>1?1:m,x=g,j=0;j<8;++j){var w=d(x)-g,k=p(x);if(Math.abs(w-g)<Kd||k<Kd)return h(x);x=y(x-w/k)}return h(x)};return v.isStepper=!1,v},EH=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,o=a===void 0?8:a,i=t.dt,s=i===void 0?17:i,l=function(f,d,h){var p=-(f-d)*n,y=h*o,v=h+(p-y)*s/1e3,b=h*s/1e3+f;return Math.abs(b-d)<Kd&&Math.abs(v)<Kd?[d,0]:[b,v]};return l.isStepper=!0,l.dt=s,l},TH=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return o2(a);case"spring":return EH();default:if(a.split("(")[0]==="cubic-bezier")return o2(a)}return typeof a=="function"?a:null};function fu(e){"@babel/helpers - typeof";return fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fu(e)}function i2(e){return RH(e)||DH(e)||lO(e)||$H()}function $H(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DH(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function RH(e){if(Array.isArray(e))return wm(e)}function s2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s2(Object(r),!0).forEach(function(n){bm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bm(e,t,r){return t=LH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LH(e){var t=IH(e,"string");return fu(t)==="symbol"?t:String(t)}function IH(e,t){if(fu(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BH(e,t){return UH(e)||zH(e,t)||lO(e,t)||FH()}function FH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lO(e,t){if(e){if(typeof e=="string")return wm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wm(e,t)}}function wm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zH(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){u=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return s}}function UH(e){if(Array.isArray(e))return e}var Yd=function(t,r,n){return t+(r-t)*n},km=function(t){var r=t.from,n=t.to;return r!==n},WH=function e(t,r,n){var a=xc(function(o,i){if(km(i)){var s=t(i.from,i.to,i.velocity),l=BH(s,2),u=l[0],f=l[1];return Jr(Jr({},i),{},{from:u,velocity:f})}return i},r);return n<1?xc(function(o,i){return km(i)?Jr(Jr({},i),{},{velocity:Yd(i.velocity,a[o].velocity,n),from:Yd(i.from,a[o].from,n)}):i},r):e(t,a,n-1)};const GH=function(e,t,r,n,a){var o=bH(e,t),i=o.reduce(function(b,m){return Jr(Jr({},b),{},bm({},m,[e[m],t[m]]))},{}),s=o.reduce(function(b,m){return Jr(Jr({},b),{},bm({},m,{from:e[m],velocity:0,to:t[m]}))},{}),l=-1,u,f,d=function(){return null},h=function(){return xc(function(m,g){return g.from},s)},p=function(){return!Object.values(s).filter(km).length},y=function(m){u||(u=m);var g=m-u,x=g/r.dt;s=WH(r,s,x),a(Jr(Jr(Jr({},e),t),h())),u=m,p()||(l=requestAnimationFrame(d))},v=function(m){f||(f=m);var g=(m-f)/n,x=xc(function(w,k){return Yd.apply(void 0,i2(k).concat([r(g)]))},i);if(a(Jr(Jr(Jr({},e),t),x)),g<1)l=requestAnimationFrame(d);else{var j=xc(function(w,k){return Yd.apply(void 0,i2(k).concat([r(1)]))},i);a(Jr(Jr(Jr({},e),t),j))}};return d=r.isStepper?y:v,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function el(e){"@babel/helpers - typeof";return el=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},el(e)}var HH=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function VH(e,t){if(e==null)return{};var r=XH(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function XH(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,o;for(o=0;o<n.length;o++)a=n[o],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function bp(e){return ZH(e)||qH(e)||YH(e)||KH()}function KH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YH(e,t){if(e){if(typeof e=="string")return jm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jm(e,t)}}function qH(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ZH(e){if(Array.isArray(e))return jm(e)}function jm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Na(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l2(Object(r),!0).forEach(function(n){ic(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ic(e,t,r){return t=cO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JH(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cO(n.key),n)}}function eV(e,t,r){return t&&JH(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function cO(e){var t=tV(e,"string");return el(t)==="symbol"?t:String(t)}function tV(e,t){if(el(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(el(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rV(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sm(e,t)}function Sm(e,t){return Sm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Sm(e,t)}function nV(e){var t=aV();return function(){var n=qd(e),a;if(t){var o=qd(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return Nm(this,a)}}function Nm(e,t){if(t&&(el(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _m(e)}function _m(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aV(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function qd(e){return qd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qd(e)}var Ra=function(e){rV(r,e);var t=nV(r);function r(n,a){var o;QH(this,r),o=t.call(this,n,a);var i=o.props,s=i.isActive,l=i.attributeName,u=i.from,f=i.to,d=i.steps,h=i.children,p=i.duration;if(o.handleStyleChange=o.handleStyleChange.bind(_m(o)),o.changeStyle=o.changeStyle.bind(_m(o)),!s||p<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:f}),Nm(o);if(d&&d.length)o.state={style:d[0].style};else if(u){if(typeof h=="function")return o.state={style:u},Nm(o);o.state={style:l?ic({},l,u):u}}else o.state={style:{}};return o}return eV(r,[{key:"componentDidMount",value:function(){var a=this.props,o=a.isActive,i=a.canBegin;this.mounted=!0,!(!o||!i)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var o=this.props,i=o.isActive,s=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,f=o.to,d=o.from,h=this.state.style;if(s){if(!i){var p={style:l?ic({},l,f):f};this.state&&h&&(l&&h[l]!==f||!l&&h!==f)&&this.setState(p);return}if(!(uH(a.to,f)&&a.canBegin&&a.isActive)){var y=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=y||u?d:a.to;if(this.state&&h){var b={style:l?ic({},l,v):v};(l&&h[l]!==v||!l&&h!==v)&&this.setState(b)}this.runAnimation(Na(Na({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var o=this,i=a.from,s=a.to,l=a.duration,u=a.easing,f=a.begin,d=a.onAnimationEnd,h=a.onAnimationStart,p=GH(i,s,TH(u),l,this.changeStyle),y=function(){o.stopJSAnimation=p()};this.manager.start([h,f,y,l,d])}},{key:"runStepAnimation",value:function(a){var o=this,i=a.steps,s=a.begin,l=a.onAnimationStart,u=i[0],f=u.style,d=u.duration,h=d===void 0?0:d,p=function(v,b,m){if(m===0)return v;var g=b.duration,x=b.easing,j=x===void 0?"ease":x,w=b.style,k=b.properties,N=b.onAnimationEnd,_=m>0?i[m-1]:b,O=k||Object.keys(w);if(typeof j=="function"||j==="spring")return[].concat(bp(v),[o.runJSAnimation.bind(o,{from:_.style,to:w,duration:g,easing:j}),g]);var A=n2(O,g,j),M=Na(Na(Na({},_.style),w),{},{transition:A});return[].concat(bp(v),[M,g,N]).filter(wH)};return this.manager.start([l].concat(bp(i.reduce(p,[f,Math.max(h,s)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=yH());var o=a.begin,i=a.duration,s=a.attributeName,l=a.to,u=a.easing,f=a.onAnimationStart,d=a.onAnimationEnd,h=a.steps,p=a.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var v=s?ic({},s,l):l,b=n2(Object.keys(v),i,u);y.start([f,o,Na(Na({},v),{},{transition:b}),i,d])}},{key:"render",value:function(){var a=this.props,o=a.children;a.begin;var i=a.duration;a.attributeName,a.easing;var s=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var l=VH(a,HH),u=S.Children.count(o),f=this.state.style;if(typeof o=="function")return o(f);if(!s||u===0||i<=0)return o;var d=function(p){var y=p.props,v=y.style,b=v===void 0?{}:v,m=y.className,g=S.cloneElement(p,Na(Na({},l),{},{style:Na(Na({},b),f),className:m}));return g};return u===1?d(S.Children.only(o)):I.createElement("div",null,S.Children.map(o,function(h){return d(h)}))}}]),r}(S.PureComponent);Ra.displayName="Animate";Ra.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ra.propTypes={from:bt.oneOfType([bt.object,bt.string]),to:bt.oneOfType([bt.object,bt.string]),attributeName:bt.string,duration:bt.number,begin:bt.number,easing:bt.oneOfType([bt.string,bt.func]),steps:bt.arrayOf(bt.shape({duration:bt.number.isRequired,style:bt.object.isRequired,easing:bt.oneOfType([bt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),bt.func]),properties:bt.arrayOf("string"),onAnimationEnd:bt.func})),children:bt.oneOfType([bt.node,bt.func]),isActive:bt.bool,canBegin:bt.bool,onAnimationEnd:bt.func,shouldReAnimate:bt.bool,onAnimationStart:bt.func,onAnimationReStart:bt.func};function du(e){"@babel/helpers - typeof";return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},du(e)}function Zd(){return Zd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zd.apply(this,arguments)}function oV(e,t){return cV(e)||lV(e,t)||sV(e,t)||iV()}function iV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sV(e,t){if(e){if(typeof e=="string")return c2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c2(e,t)}}function c2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lV(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){u=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return s}}function cV(e){if(Array.isArray(e))return e}function u2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function f2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u2(Object(r),!0).forEach(function(n){uV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uV(e,t,r){return t=fV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fV(e){var t=dV(e,"string");return du(t)=="symbol"?t:t+""}function dV(e,t){if(du(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(du(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var d2=function(t,r,n,a,o){var i=Math.min(Math.abs(n)/2,Math.abs(a)/2),s=a>=0?1:-1,l=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,f;if(i>0&&o instanceof Array){for(var d=[0,0,0,0],h=0,p=4;h<p;h++)d[h]=o[h]>i?i:o[h];f="M".concat(t,",").concat(r+s*d[0]),d[0]>0&&(f+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(u,",").concat(t+l*d[0],",").concat(r)),f+="L ".concat(t+n-l*d[1],",").concat(r),d[1]>0&&(f+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+s*d[1])),f+="L ".concat(t+n,",").concat(r+a-s*d[2]),d[2]>0&&(f+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(u,`,
        `).concat(t+n-l*d[2],",").concat(r+a)),f+="L ".concat(t+l*d[3],",").concat(r+a),d[3]>0&&(f+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-s*d[3])),f+="Z"}else if(i>0&&o===+o&&o>0){var y=Math.min(i,o);f="M ".concat(t,",").concat(r+s*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+l*y,",").concat(r,`
            L `).concat(t+n-l*y,",").concat(r,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+n,",").concat(r+s*y,`
            L `).concat(t+n,",").concat(r+a-s*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+n-l*y,",").concat(r+a,`
            L `).concat(t+l*y,",").concat(r+a,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t,",").concat(r+a-s*y," Z")}else f="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return f},hV=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,o=r.x,i=r.y,s=r.width,l=r.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(o,o+s),f=Math.max(o,o+s),d=Math.min(i,i+l),h=Math.max(i,i+l);return n>=u&&n<=f&&a>=d&&a<=h}return!1},pV={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Vv=function(t){var r=f2(f2({},pV),t),n=S.useRef(),a=S.useState(-1),o=oV(a,2),i=o[0],s=o[1];S.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var j=n.current.getTotalLength();j&&s(j)}catch{}},[]);var l=r.x,u=r.y,f=r.width,d=r.height,h=r.radius,p=r.className,y=r.animationEasing,v=r.animationDuration,b=r.animationBegin,m=r.isAnimationActive,g=r.isUpdateAnimationActive;if(l!==+l||u!==+u||f!==+f||d!==+d||f===0||d===0)return null;var x=ot("recharts-rectangle",p);return g?I.createElement(Ra,{canBegin:i>0,from:{width:f,height:d,x:l,y:u},to:{width:f,height:d,x:l,y:u},duration:v,animationEasing:y,isActive:g},function(j){var w=j.width,k=j.height,N=j.x,_=j.y;return I.createElement(Ra,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:v,isActive:m,easing:y},I.createElement("path",Zd({},Ue(r,!0),{className:x,d:d2(N,_,w,k,h),ref:n})))}):I.createElement("path",Zd({},Ue(r,!0),{className:x,d:d2(l,u,f,d,h)}))};function Om(){return Om=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Om.apply(this,arguments)}var h0=function(t){var r=t.cx,n=t.cy,a=t.r,o=t.className,i=ot("recharts-dot",o);return r===+r&&n===+n&&a===+a?S.createElement("circle",Om({},Ue(t,!1),gd(t),{className:i,cx:r,cy:n,r:a})):null};function hu(e){"@babel/helpers - typeof";return hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hu(e)}var gV=["x","y","top","left","width","height","className"];function Pm(){return Pm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pm.apply(this,arguments)}function h2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mV(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h2(Object(r),!0).forEach(function(n){yV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yV(e,t,r){return t=vV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vV(e){var t=xV(e,"string");return hu(t)=="symbol"?t:t+""}function xV(e,t){if(hu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bV(e,t){if(e==null)return{};var r=wV(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wV(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var kV=function(t,r,n,a,o,i){return"M".concat(t,",").concat(o,"v").concat(a,"M").concat(i,",").concat(r,"h").concat(n)},jV=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,o=a===void 0?0:a,i=t.top,s=i===void 0?0:i,l=t.left,u=l===void 0?0:l,f=t.width,d=f===void 0?0:f,h=t.height,p=h===void 0?0:h,y=t.className,v=bV(t,gV),b=mV({x:n,y:o,top:s,left:u,width:d,height:p},v);return!he(n)||!he(o)||!he(d)||!he(p)||!he(s)||!he(u)?null:I.createElement("path",Pm({},Ue(b,!0),{className:ot("recharts-cross",y),d:kV(n,o,d,p,s,u)}))},SV=NN,NV=SV(Object.getPrototypeOf,Object),_V=NV,OV=So,PV=_V,AV=No,MV="[object Object]",CV=Function.prototype,EV=Object.prototype,uO=CV.toString,TV=EV.hasOwnProperty,$V=uO.call(Object);function DV(e){if(!AV(e)||OV(e)!=MV)return!1;var t=PV(e);if(t===null)return!0;var r=TV.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&uO.call(r)==$V}var RV=DV;const LV=Rt(RV);var IV=So,BV=No,FV="[object Boolean]";function zV(e){return e===!0||e===!1||BV(e)&&IV(e)==FV}var UV=zV;const WV=Rt(UV);function pu(e){"@babel/helpers - typeof";return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pu(e)}function Qd(){return Qd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qd.apply(this,arguments)}function GV(e,t){return KV(e)||XV(e,t)||VV(e,t)||HV()}function HV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VV(e,t){if(e){if(typeof e=="string")return p2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p2(e,t)}}function p2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function XV(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){u=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return s}}function KV(e){if(Array.isArray(e))return e}function g2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function m2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g2(Object(r),!0).forEach(function(n){YV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YV(e,t,r){return t=qV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qV(e){var t=ZV(e,"string");return pu(t)=="symbol"?t:t+""}function ZV(e,t){if(pu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var y2=function(t,r,n,a,o){var i=n-a,s;return s="M ".concat(t,",").concat(r),s+="L ".concat(t+n,",").concat(r),s+="L ".concat(t+n-i/2,",").concat(r+o),s+="L ".concat(t+n-i/2-a,",").concat(r+o),s+="L ".concat(t,",").concat(r," Z"),s},QV={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},JV=function(t){var r=m2(m2({},QV),t),n=S.useRef(),a=S.useState(-1),o=GV(a,2),i=o[0],s=o[1];S.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var x=n.current.getTotalLength();x&&s(x)}catch{}},[]);var l=r.x,u=r.y,f=r.upperWidth,d=r.lowerWidth,h=r.height,p=r.className,y=r.animationEasing,v=r.animationDuration,b=r.animationBegin,m=r.isUpdateAnimationActive;if(l!==+l||u!==+u||f!==+f||d!==+d||h!==+h||f===0&&d===0||h===0)return null;var g=ot("recharts-trapezoid",p);return m?I.createElement(Ra,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:f,lowerWidth:d,height:h,x:l,y:u},duration:v,animationEasing:y,isActive:m},function(x){var j=x.upperWidth,w=x.lowerWidth,k=x.height,N=x.x,_=x.y;return I.createElement(Ra,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:v,easing:y},I.createElement("path",Qd({},Ue(r,!0),{className:g,d:y2(N,_,j,w,k),ref:n})))}):I.createElement("g",null,I.createElement("path",Qd({},Ue(r,!0),{className:g,d:y2(l,u,f,d,h)})))},eX=["option","shapeType","propTransformer","activeClassName","isActive"];function gu(e){"@babel/helpers - typeof";return gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gu(e)}function tX(e,t){if(e==null)return{};var r=rX(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rX(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function v2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v2(Object(r),!0).forEach(function(n){nX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nX(e,t,r){return t=aX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aX(e){var t=oX(e,"string");return gu(t)=="symbol"?t:t+""}function oX(e,t){if(gu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iX(e,t){return Jd(Jd({},t),e)}function sX(e,t){return e==="symbols"}function x2(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return I.createElement(Vv,r);case"trapezoid":return I.createElement(JV,r);case"sector":return I.createElement(J_,r);case"symbols":if(sX(t))return I.createElement(e0,r);break;default:return null}}function lX(e){return S.isValidElement(e)?e.props:e}function Am(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?iX:n,o=e.activeClassName,i=o===void 0?"recharts-active-shape":o,s=e.isActive,l=tX(e,eX),u;if(S.isValidElement(t))u=S.cloneElement(t,Jd(Jd({},l),lX(t)));else if(Ge(t))u=t(l);else if(LV(t)&&!WV(t)){var f=a(t,l);u=I.createElement(x2,{shapeType:r,elementProps:f})}else{var d=l;u=I.createElement(x2,{shapeType:r,elementProps:d})}return s?I.createElement(mt,{className:i},u):u}function p0(e,t){return t!=null&&"trapezoids"in e.props}function g0(e,t){return t!=null&&"sectors"in e.props}function mu(e,t){return t!=null&&"points"in e.props}function cX(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,o=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&o}function uX(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function fX(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function dX(e,t){var r;return p0(e,t)?r=cX:g0(e,t)?r=uX:mu(e,t)&&(r=fX),r}function hX(e,t){var r;return p0(e,t)?r="trapezoids":g0(e,t)?r="sectors":mu(e,t)&&(r="points"),r}function pX(e,t){if(p0(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(g0(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return mu(e,t)?t.payload:{}}function gX(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=hX(r,t),o=pX(r,t),i=n.filter(function(l,u){var f=Hi(o,l),d=r.props[a].filter(function(y){var v=dX(r,t);return v(y,t)}),h=r.props[a].indexOf(d[d.length-1]),p=u===h;return f&&p}),s=n.indexOf(i[i.length-1]);return s}var mX=Math.ceil,yX=Math.max;function vX(e,t,r,n){for(var a=-1,o=yX(mX((t-e)/(r||1)),0),i=Array(o);o--;)i[n?o:++a]=e,e+=r;return i}var xX=vX,bX=GN,b2=1/0,wX=17976931348623157e292;function kX(e){if(!e)return e===0?e:0;if(e=bX(e),e===b2||e===-b2){var t=e<0?-1:1;return t*wX}return e===e?e:0}var fO=kX,jX=xX,SX=n0,wp=fO;function NX(e){return function(t,r,n){return n&&typeof n!="number"&&SX(t,r,n)&&(r=n=void 0),t=wp(t),r===void 0?(r=t,t=0):r=wp(r),n=n===void 0?t<r?1:-1:wp(n),jX(t,r,n,e)}}var _X=NX,OX=_X,PX=OX(),AX=PX;const eh=Rt(AX);function yu(e){"@babel/helpers - typeof";return yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yu(e)}function w2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function k2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w2(Object(r),!0).forEach(function(n){dO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dO(e,t,r){return t=MX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MX(e){var t=CX(e,"string");return yu(t)=="symbol"?t:t+""}function CX(e,t){if(yu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EX=["Webkit","Moz","O","ms"],TX=function(t,r){var n=t.replace(/(\w)/,function(o){return o.toUpperCase()}),a=EX.reduce(function(o,i){return k2(k2({},o),{},dO({},i+n,r))},{});return a[t]=r,a};function tl(e){"@babel/helpers - typeof";return tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tl(e)}function th(){return th=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},th.apply(this,arguments)}function j2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j2(Object(r),!0).forEach(function(n){Kn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $X(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pO(n.key),n)}}function DX(e,t,r){return t&&S2(e.prototype,t),r&&S2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function RX(e,t,r){return t=rh(t),LX(e,hO()?Reflect.construct(t,r||[],rh(e).constructor):t.apply(e,r))}function LX(e,t){if(t&&(tl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IX(e)}function IX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hO=function(){return!!e})()}function rh(e){return rh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rh(e)}function BX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mm(e,t)}function Mm(e,t){return Mm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Mm(e,t)}function Kn(e,t,r){return t=pO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pO(e){var t=FX(e,"string");return tl(t)=="symbol"?t:t+""}function FX(e,t){if(tl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var zX=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,o=t.x,i=t.width,s=t.travellerWidth;if(!r||!r.length)return{};var l=r.length,u=yc().domain(eh(0,l)).range([o,o+i-s]),f=u.domain().map(function(d){return u(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:f}},N2=function(t){return t.changedTouches&&!!t.changedTouches.length},rl=function(e){function t(r){var n;return $X(this,t),n=RX(this,t,[r]),Kn(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Kn(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Kn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,o=a.endIndex,i=a.onDragEnd,s=a.startIndex;i==null||i({endIndex:o,startIndex:s})}),n.detachDragEndListener()}),Kn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Kn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Kn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Kn(n,"handleSlideDragStart",function(a){var o=N2(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return BX(t,e),DX(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,o=n.endX,i=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,f=u.length-1,d=Math.min(a,o),h=Math.max(a,o),p=t.getIndexInRange(i,d),y=t.getIndexInRange(i,h);return{startIndex:p-p%l,endIndex:y===f?f:y-y%l}}},{key:"getTextOfTick",value:function(n){var a=this.props,o=a.data,i=a.tickFormatter,s=a.dataKey,l=Br(o[n],s,n);return Ge(i)?i(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,o=a.slideMoveStartX,i=a.startX,s=a.endX,l=this.props,u=l.x,f=l.width,d=l.travellerWidth,h=l.startIndex,p=l.endIndex,y=l.onChange,v=n.pageX-o;v>0?v=Math.min(v,u+f-d-s,u+f-d-i):v<0&&(v=Math.max(v,u-i,u-s));var b=this.getIndex({startX:i+v,endX:s+v});(b.startIndex!==h||b.endIndex!==p)&&y&&y(b),this.setState({startX:i+v,endX:s+v,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var o=N2(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,o=a.brushMoveStartX,i=a.movingTravellerId,s=a.endX,l=a.startX,u=this.state[i],f=this.props,d=f.x,h=f.width,p=f.travellerWidth,y=f.onChange,v=f.gap,b=f.data,m={startX:this.state.startX,endX:this.state.endX},g=n.pageX-o;g>0?g=Math.min(g,d+h-p-u):g<0&&(g=Math.max(g,d-u)),m[i]=u+g;var x=this.getIndex(m),j=x.startIndex,w=x.endIndex,k=function(){var _=b.length-1;return i==="startX"&&(s>l?j%v===0:w%v===0)||s<l&&w===_||i==="endX"&&(s>l?w%v===0:j%v===0)||s>l&&w===_};this.setState(Kn(Kn({},i,u+g),"brushMoveStartX",n.pageX),function(){y&&k()&&y(x)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var o=this,i=this.state,s=i.scaleValues,l=i.startX,u=i.endX,f=this.state[a],d=s.indexOf(f);if(d!==-1){var h=d+n;if(!(h===-1||h>=s.length)){var p=s[h];a==="startX"&&p>=u||a==="endX"&&p<=l||this.setState(Kn({},a,p),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,o=n.y,i=n.width,s=n.height,l=n.fill,u=n.stroke;return I.createElement("rect",{stroke:u,fill:l,x:a,y:o,width:i,height:s})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,o=n.y,i=n.width,s=n.height,l=n.data,u=n.children,f=n.padding,d=S.Children.only(u);return d?I.cloneElement(d,{x:a,y:o,width:i,height:s,margin:f,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,a){var o,i,s=this,l=this.props,u=l.y,f=l.travellerWidth,d=l.height,h=l.traveller,p=l.ariaLabel,y=l.data,v=l.startIndex,b=l.endIndex,m=Math.max(n,this.props.x),g=kp(kp({},Ue(this.props,!1)),{},{x:m,y:u,width:f,height:d}),x=p||"Min value: ".concat((o=y[v])===null||o===void 0?void 0:o.name,", Max value: ").concat((i=y[b])===null||i===void 0?void 0:i.name);return I.createElement(mt,{tabIndex:0,role:"slider","aria-label":x,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),s.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,a))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,g))}},{key:"renderSlide",value:function(n,a){var o=this.props,i=o.y,s=o.height,l=o.stroke,u=o.travellerWidth,f=Math.min(n,a)+u,d=Math.max(Math.abs(a-n)-u,0);return I.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:f,y:i,width:d,height:s})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,o=n.endIndex,i=n.y,s=n.height,l=n.travellerWidth,u=n.stroke,f=this.state,d=f.startX,h=f.endX,p=5,y={pointerEvents:"none",fill:u};return I.createElement(mt,{className:"recharts-brush-texts"},I.createElement(Ad,th({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-p,y:i+s/2},y),this.getTextOfTick(a)),I.createElement(Ad,th({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+l+p,y:i+s/2},y),this.getTextOfTick(o)))}},{key:"render",value:function(){var n=this.props,a=n.data,o=n.className,i=n.children,s=n.x,l=n.y,u=n.width,f=n.height,d=n.alwaysShowText,h=this.state,p=h.startX,y=h.endX,v=h.isTextActive,b=h.isSlideMoving,m=h.isTravellerMoving,g=h.isTravellerFocused;if(!a||!a.length||!he(s)||!he(l)||!he(u)||!he(f)||u<=0||f<=0)return null;var x=ot("recharts-brush",o),j=I.Children.count(i)===1,w=TX("userSelect","none");return I.createElement(mt,{className:x,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),j&&this.renderPanorama(),this.renderSlide(p,y),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(y,"endX"),(v||b||m||g||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,o=n.y,i=n.width,s=n.height,l=n.stroke,u=Math.floor(o+s/2)-1;return I.createElement(I.Fragment,null,I.createElement("rect",{x:a,y:o,width:i,height:s,fill:l,stroke:"none"}),I.createElement("line",{x1:a+1,y1:u,x2:a+i-1,y2:u,fill:"none",stroke:"#fff"}),I.createElement("line",{x1:a+1,y1:u+2,x2:a+i-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var o;return I.isValidElement(n)?o=I.cloneElement(n,a):Ge(n)?o=n(a):o=t.renderDefaultTraveller(a),o}},{key:"getDerivedStateFromProps",value:function(n,a){var o=n.data,i=n.width,s=n.x,l=n.travellerWidth,u=n.updateId,f=n.startIndex,d=n.endIndex;if(o!==a.prevData||u!==a.prevUpdateId)return kp({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:i},o&&o.length?zX({data:o,width:i,x:s,travellerWidth:l,startIndex:f,endIndex:d}):{scale:null,scaleValues:null});if(a.scale&&(i!==a.prevWidth||s!==a.prevX||l!==a.prevTravellerWidth)){a.scale.range([s,s+i-l]);var h=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:i,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var o=n.length,i=0,s=o-1;s-i>1;){var l=Math.floor((i+s)/2);n[l]>a?s=l:i=l}return a>=n[s]?s:i}}])}(S.PureComponent);Kn(rl,"displayName","Brush");Kn(rl,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var UX=yv;function WX(e,t){var r;return UX(e,function(n,a,o){return r=t(n,a,o),!r}),!!r}var GX=WX,HX=yN,VX=oi,XX=GX,KX=Wn,YX=n0;function qX(e,t,r){var n=KX(e)?HX:XX;return r&&YX(e,t,r)&&(t=void 0),n(e,VX(t))}var ZX=qX;const QX=Rt(ZX);var Ka=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},_2=BN;function JX(e,t,r){t=="__proto__"&&_2?_2(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var eK=JX,tK=eK,rK=LN,nK=oi;function aK(e,t){var r={};return t=nK(t),rK(e,function(n,a,o){tK(r,a,t(n,a,o))}),r}var oK=aK;const iK=Rt(oK);function sK(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var lK=sK,cK=yv;function uK(e,t){var r=!0;return cK(e,function(n,a,o){return r=!!t(n,a,o),r}),r}var fK=uK,dK=lK,hK=fK,pK=oi,gK=Wn,mK=n0;function yK(e,t,r){var n=gK(e)?dK:hK;return r&&mK(e,t,r)&&(t=void 0),n(e,pK(t))}var vK=yK;const gO=Rt(vK);var xK=["x","y"];function vu(e){"@babel/helpers - typeof";return vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vu(e)}function Cm(){return Cm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cm.apply(this,arguments)}function O2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O2(Object(r),!0).forEach(function(n){bK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bK(e,t,r){return t=wK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wK(e){var t=kK(e,"string");return vu(t)=="symbol"?t:t+""}function kK(e,t){if(vu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jK(e,t){if(e==null)return{};var r=SK(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function SK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function NK(e,t){var r=e.x,n=e.y,a=jK(e,xK),o="".concat(r),i=parseInt(o,10),s="".concat(n),l=parseInt(s,10),u="".concat(t.height||a.height),f=parseInt(u,10),d="".concat(t.width||a.width),h=parseInt(d,10);return tc(tc(tc(tc(tc({},t),a),i?{x:i}:{}),l?{y:l}:{}),{},{height:f,width:h,name:t.name,radius:t.radius})}function P2(e){return I.createElement(Am,Cm({shapeType:"rectangle",propTransformer:NK,activeClassName:"recharts-active-bar"},e))}var _K=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var o=he(n)||FT(n);return o?t(n,a):(o||Xi(),r)}},OK=["value","background"],mO;function nl(e){"@babel/helpers - typeof";return nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nl(e)}function PK(e,t){if(e==null)return{};var r=AK(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function AK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function nh(){return nh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nh.apply(this,arguments)}function A2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A2(Object(r),!0).forEach(function(n){Fo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vO(n.key),n)}}function CK(e,t,r){return t&&M2(e.prototype,t),r&&M2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function EK(e,t,r){return t=ah(t),TK(e,yO()?Reflect.construct(t,r||[],ah(e).constructor):t.apply(e,r))}function TK(e,t){if(t&&(nl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $K(e)}function $K(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yO=function(){return!!e})()}function ah(e){return ah=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ah(e)}function DK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Em(e,t)}function Em(e,t){return Em=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Em(e,t)}function Fo(e,t,r){return t=vO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vO(e){var t=RK(e,"string");return nl(t)=="symbol"?t:t+""}function RK(e,t){if(nl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Du=function(e){function t(){var r;MK(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=EK(this,t,[].concat(a)),Fo(r,"state",{isAnimationFinished:!1}),Fo(r,"id",Ji("recharts-bar-")),Fo(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),i&&i()}),Fo(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),i&&i()}),r}return DK(t,e),CK(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,o=this.props,i=o.shape,s=o.dataKey,l=o.activeIndex,u=o.activeBar,f=Ue(this.props,!1);return n&&n.map(function(d,h){var p=h===l,y=p?u:i,v=wr(wr(wr({},f),d),{},{isActive:p,option:y,index:h,dataKey:s,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return I.createElement(mt,nh({className:"recharts-bar-rectangle"},zc(a.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(h)}),I.createElement(P2,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,o=a.data,i=a.layout,s=a.isAnimationActive,l=a.animationBegin,u=a.animationDuration,f=a.animationEasing,d=a.animationId,h=this.state.prevData;return I.createElement(Ra,{begin:l,duration:u,isActive:s,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var y=p.t,v=o.map(function(b,m){var g=h&&h[m];if(g){var x=yr(g.x,b.x),j=yr(g.y,b.y),w=yr(g.width,b.width),k=yr(g.height,b.height);return wr(wr({},b),{},{x:x(y),y:j(y),width:w(y),height:k(y)})}if(i==="horizontal"){var N=yr(0,b.height),_=N(y);return wr(wr({},b),{},{y:b.y+b.height-_,height:_})}var O=yr(0,b.width),A=O(y);return wr(wr({},b),{},{width:A})});return I.createElement(mt,null,n.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,o=n.isAnimationActive,i=this.state.prevData;return o&&a&&a.length&&(!i||!Hi(i,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,o=a.data,i=a.dataKey,s=a.activeIndex,l=Ue(this.props.background,!1);return o.map(function(u,f){u.value;var d=u.background,h=PK(u,OK);if(!d)return null;var p=wr(wr(wr(wr(wr({},h),{},{fill:"#eee"},d),l),zc(n.props,u,f)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:i,index:f,className:"recharts-bar-background-rectangle"});return I.createElement(P2,nh({key:"background-bar-".concat(f),option:n.props.background,isActive:f===s},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,i=o.data,s=o.xAxis,l=o.yAxis,u=o.layout,f=o.children,d=Fn(f,Cl);if(!d)return null;var h=u==="vertical"?i[0].height/2:i[0].width/2,p=function(b,m){var g=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:g,errorVal:Br(b,m)}},y={clipPath:n?"url(#clipPath-".concat(a,")"):null};return I.createElement(mt,y,d.map(function(v){return I.cloneElement(v,{key:"error-bar-".concat(a,"-").concat(v.props.dataKey),data:i,xAxis:s,yAxis:l,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,o=n.data,i=n.className,s=n.xAxis,l=n.yAxis,u=n.left,f=n.top,d=n.width,h=n.height,p=n.isAnimationActive,y=n.background,v=n.id;if(a||!o||!o.length)return null;var b=this.state.isAnimationFinished,m=ot("recharts-bar",i),g=s&&s.allowDataOverflow,x=l&&l.allowDataOverflow,j=g||x,w=Ie(v)?this.id:v;return I.createElement(mt,{className:m},g||x?I.createElement("defs",null,I.createElement("clipPath",{id:"clipPath-".concat(w)},I.createElement("rect",{x:g?u:u-d/2,y:x?f:f-h/2,width:g?d:d*2,height:x?h:h*2}))):null,I.createElement(mt,{className:"recharts-bar-rectangles",clipPath:j?"url(#clipPath-".concat(w,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(j,w),(!p||b)&&Xa.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(S.PureComponent);mO=Du;Fo(Du,"displayName","Bar");Fo(Du,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ii.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Fo(Du,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,o=e.xAxis,i=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,u=e.stackedData,f=e.dataStartIndex,d=e.displayedData,h=e.offset,p=cW(n,r);if(!p)return null;var y=t.layout,v=r.type.defaultProps,b=v!==void 0?wr(wr({},v),r.props):r.props,m=b.dataKey,g=b.children,x=b.minPointSize,j=y==="horizontal"?i:o,w=u?j.scale.domain():null,k=yW({numericAxis:j}),N=Fn(g,bv),_=d.map(function(O,A){var M,C,R,z,T,G;u?M=uW(u[f+A],w):(M=Br(O,m),Array.isArray(M)||(M=[k,M]));var P=_K(x,mO.defaultProps.minPointSize)(M[1],A);if(y==="horizontal"){var E,$=[i.scale(M[0]),i.scale(M[1])],U=$[0],te=$[1];C=Ew({axis:o,ticks:s,bandSize:a,offset:p.offset,entry:O,index:A}),R=(E=te??U)!==null&&E!==void 0?E:void 0,z=p.size;var K=U-te;if(T=Number.isNaN(K)?0:K,G={x:C,y:i.y,width:z,height:i.height},Math.abs(P)>0&&Math.abs(T)<Math.abs(P)){var L=Ea(T||P)*(Math.abs(P)-Math.abs(T));R-=L,T+=L}}else{var ee=[o.scale(M[0]),o.scale(M[1])],Z=ee[0],D=ee[1];if(C=Z,R=Ew({axis:i,ticks:l,bandSize:a,offset:p.offset,entry:O,index:A}),z=D-Z,T=p.size,G={x:o.x,y:R,width:o.width,height:T},Math.abs(P)>0&&Math.abs(z)<Math.abs(P)){var ae=Ea(z||P)*(Math.abs(P)-Math.abs(z));z+=ae}}return wr(wr(wr({},O),{},{x:C,y:R,width:z,height:T,value:u?M:M[1],payload:O,background:G},N&&N[A]&&N[A].props),{},{tooltipPayload:[q_(r,O)],tooltipPosition:{x:C+z/2,y:R+T/2}})});return wr({data:_,layout:y},h)});function xu(e){"@babel/helpers - typeof";return xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xu(e)}function LK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xO(n.key),n)}}function IK(e,t,r){return t&&C2(e.prototype,t),r&&C2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function E2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E2(Object(r),!0).forEach(function(n){m0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function m0(e,t,r){return t=xO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xO(e){var t=BK(e,"string");return xu(t)=="symbol"?t:t+""}function BK(e,t){if(xu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xv=function(t,r,n,a,o){var i=t.width,s=t.height,l=t.layout,u=t.children,f=Object.keys(r),d={left:n.left,leftMirror:n.left,right:i-n.right,rightMirror:i-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},h=!!qn(u,Du);return f.reduce(function(p,y){var v=r[y],b=v.orientation,m=v.domain,g=v.padding,x=g===void 0?{}:g,j=v.mirror,w=v.reversed,k="".concat(b).concat(j?"Mirror":""),N,_,O,A,M;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var C=m[1]-m[0],R=1/0,z=v.categoricalDomain.sort(GT);if(z.forEach(function(ee,Z){Z>0&&(R=Math.min((ee||0)-(z[Z-1]||0),R))}),Number.isFinite(R)){var T=R/C,G=v.layout==="vertical"?n.height:n.width;if(v.padding==="gap"&&(N=T*G/2),v.padding==="no-gap"){var P=Gi(t.barCategoryGap,T*G),E=T*G/2;N=E-P-(E-P)/G*P}}}a==="xAxis"?_=[n.left+(x.left||0)+(N||0),n.left+n.width-(x.right||0)-(N||0)]:a==="yAxis"?_=l==="horizontal"?[n.top+n.height-(x.bottom||0),n.top+(x.top||0)]:[n.top+(x.top||0)+(N||0),n.top+n.height-(x.bottom||0)-(N||0)]:_=v.range,w&&(_=[_[1],_[0]]);var $=sW(v,o,h),U=$.scale,te=$.realScaleType;U.domain(m).range(_),lW(U);var K=mW(U,Pa(Pa({},v),{},{realScaleType:te}));a==="xAxis"?(M=b==="top"&&!j||b==="bottom"&&j,O=n.left,A=d[k]-M*v.height):a==="yAxis"&&(M=b==="left"&&!j||b==="right"&&j,O=d[k]-M*v.width,A=n.top);var L=Pa(Pa(Pa({},v),K),{},{realScaleType:te,x:O,y:A,scale:U,width:a==="xAxis"?n.width:v.width,height:a==="yAxis"?n.height:v.height});return L.bandSize=Gd(L,K),!v.hide&&a==="xAxis"?d[k]+=(M?-1:1)*L.height:v.hide||(d[k]+=(M?-1:1)*L.width),Pa(Pa({},p),{},m0({},y,L))},{})},bO=function(t,r){var n=t.x,a=t.y,o=r.x,i=r.y;return{x:Math.min(n,o),y:Math.min(a,i),width:Math.abs(o-n),height:Math.abs(i-a)}},FK=function(t){var r=t.x1,n=t.y1,a=t.x2,o=t.y2;return bO({x:r,y:n},{x:a,y:o})},wO=function(){function e(t){LK(this,e),this.scale=t}return IK(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,o=n.position;if(r!==void 0){if(o)switch(o){case"start":return this.scale(r);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(r)+s}default:return this.scale(r)}if(a){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],o=n[n.length-1];return a<=o?r>=a&&r<=o:r>=o&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();m0(wO,"EPS",1e-4);var Kv=function(t){var r=Object.keys(t).reduce(function(n,a){return Pa(Pa({},n),{},m0({},a,wO.create(t[a])))},{});return Pa(Pa({},r),{},{apply:function(a){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=o.bandAware,s=o.position;return iK(a,function(l,u){return r[u].apply(l,{bandAware:i,position:s})})},isInRange:function(a){return gO(a,function(o,i){return r[i].isInRange(o)})}})};function zK(e){return(e%180+180)%180}var UK=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=zK(a),i=o*Math.PI/180,s=Math.atan(n/r),l=i>s&&i<Math.PI-s?n/Math.sin(i):r/Math.cos(i);return Math.abs(l)},WK=oi,GK=Mu,HK=t0;function VK(e){return function(t,r,n){var a=Object(t);if(!GK(t)){var o=WK(r);t=HK(t),r=function(s){return o(a[s],s,a)}}var i=e(t,r,n);return i>-1?a[o?t[i]:i]:void 0}}var XK=VK,KK=fO;function YK(e){var t=KK(e),r=t%1;return t===t?r?t-r:t:0}var qK=YK,ZK=CN,QK=oi,JK=qK,eY=Math.max;function tY(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:JK(r);return a<0&&(a=eY(n+a,0)),ZK(e,QK(t),a)}var rY=tY,nY=XK,aY=rY,oY=nY(aY),iY=oY;const sY=Rt(iY);var lY=VE(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),Yv=S.createContext(void 0),qv=S.createContext(void 0),kO=S.createContext(void 0),jO=S.createContext({}),SO=S.createContext(void 0),NO=S.createContext(0),_O=S.createContext(0),T2=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,o=r.offset,i=t.clipPathId,s=t.children,l=t.width,u=t.height,f=lY(o);return I.createElement(Yv.Provider,{value:n},I.createElement(qv.Provider,{value:a},I.createElement(jO.Provider,{value:o},I.createElement(kO.Provider,{value:f},I.createElement(SO.Provider,{value:i},I.createElement(NO.Provider,{value:u},I.createElement(_O.Provider,{value:l},s)))))))},cY=function(){return S.useContext(SO)},OO=function(t){var r=S.useContext(Yv);r==null&&Xi();var n=r[t];return n==null&&Xi(),n},uY=function(){var t=S.useContext(Yv);return Ro(t)},fY=function(){var t=S.useContext(qv),r=sY(t,function(n){return gO(n.domain,Number.isFinite)});return r||Ro(t)},PO=function(t){var r=S.useContext(qv);r==null&&Xi();var n=r[t];return n==null&&Xi(),n},dY=function(){var t=S.useContext(kO);return t},hY=function(){return S.useContext(jO)},Zv=function(){return S.useContext(_O)},Qv=function(){return S.useContext(NO)};function al(e){"@babel/helpers - typeof";return al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},al(e)}function pY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,MO(n.key),n)}}function mY(e,t,r){return t&&gY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function yY(e,t,r){return t=oh(t),vY(e,AO()?Reflect.construct(t,r||[],oh(e).constructor):t.apply(e,r))}function vY(e,t){if(t&&(al(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xY(e)}function xY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AO=function(){return!!e})()}function oh(e){return oh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},oh(e)}function bY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tm(e,t)}function Tm(e,t){return Tm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Tm(e,t)}function $2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function D2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$2(Object(r),!0).forEach(function(n){Jv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jv(e,t,r){return t=MO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MO(e){var t=wY(e,"string");return al(t)=="symbol"?t:t+""}function wY(e,t){if(al(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(al(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function kY(e,t){return _Y(e)||NY(e,t)||SY(e,t)||jY()}function jY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SY(e,t){if(e){if(typeof e=="string")return R2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return R2(e,t)}}function R2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function NY(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){u=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return s}}function _Y(e){if(Array.isArray(e))return e}function $m(){return $m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$m.apply(this,arguments)}var OY=function(t,r){var n;return I.isValidElement(t)?n=I.cloneElement(t,r):Ge(t)?n=t(r):n=I.createElement("line",$m({},r,{className:"recharts-reference-line-line"})),n},PY=function(t,r,n,a,o,i,s,l,u){var f=o.x,d=o.y,h=o.width,p=o.height;if(n){var y=u.y,v=t.y.apply(y,{position:i});if(Ka(u,"discard")&&!t.y.isInRange(v))return null;var b=[{x:f+h,y:v},{x:f,y:v}];return l==="left"?b.reverse():b}if(r){var m=u.x,g=t.x.apply(m,{position:i});if(Ka(u,"discard")&&!t.x.isInRange(g))return null;var x=[{x:g,y:d+p},{x:g,y:d}];return s==="top"?x.reverse():x}if(a){var j=u.segment,w=j.map(function(k){return t.apply(k,{position:i})});return Ka(u,"discard")&&QX(w,function(k){return!t.isInRange(k)})?null:w}return null};function AY(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,o=e.yAxisId,i=e.shape,s=e.className,l=e.alwaysShow,u=cY(),f=OO(a),d=PO(o),h=dY();if(!u||!h)return null;ho(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=Kv({x:f.scale,y:d.scale}),y=Ir(t),v=Ir(r),b=n&&n.length===2,m=PY(p,y,v,b,h,e.position,f.orientation,d.orientation,e);if(!m)return null;var g=kY(m,2),x=g[0],j=x.x,w=x.y,k=g[1],N=k.x,_=k.y,O=Ka(e,"hidden")?"url(#".concat(u,")"):void 0,A=D2(D2({clipPath:O},Ue(e,!0)),{},{x1:j,y1:w,x2:N,y2:_});return I.createElement(mt,{className:ot("recharts-reference-line",s)},OY(i,A),tn.renderCallByParent(e,FK({x1:j,y1:w,x2:N,y2:_})))}var zo=function(e){function t(){return pY(this,t),yY(this,t,arguments)}return bY(t,e),mY(t,[{key:"render",value:function(){return I.createElement(AY,this.props)}}])}(I.Component);Jv(zo,"displayName","ReferenceLine");Jv(zo,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Dm(){return Dm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dm.apply(this,arguments)}function ol(e){"@babel/helpers - typeof";return ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ol(e)}function L2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function I2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L2(Object(r),!0).forEach(function(n){y0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,EO(n.key),n)}}function EY(e,t,r){return t&&CY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function TY(e,t,r){return t=ih(t),$Y(e,CO()?Reflect.construct(t,r||[],ih(e).constructor):t.apply(e,r))}function $Y(e,t){if(t&&(ol(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DY(e)}function DY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CO=function(){return!!e})()}function ih(e){return ih=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ih(e)}function RY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rm(e,t)}function Rm(e,t){return Rm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Rm(e,t)}function y0(e,t,r){return t=EO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EO(e){var t=LY(e,"string");return ol(t)=="symbol"?t:t+""}function LY(e,t){if(ol(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ol(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var IY=function(t){var r=t.x,n=t.y,a=t.xAxis,o=t.yAxis,i=Kv({x:a.scale,y:o.scale}),s=i.apply({x:r,y:n},{bandAware:!0});return Ka(t,"discard")&&!i.isInRange(s)?null:s},Ru=function(e){function t(){return MY(this,t),TY(this,t,arguments)}return RY(t,e),EY(t,[{key:"render",value:function(){var n=this.props,a=n.x,o=n.y,i=n.r,s=n.alwaysShow,l=n.clipPathId,u=Ir(a),f=Ir(o);if(ho(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!f)return null;var d=IY(this.props);if(!d)return null;var h=d.x,p=d.y,y=this.props,v=y.shape,b=y.className,m=Ka(this.props,"hidden")?"url(#".concat(l,")"):void 0,g=I2(I2({clipPath:m},Ue(this.props,!0)),{},{cx:h,cy:p});return I.createElement(mt,{className:ot("recharts-reference-dot",b)},t.renderDot(v,g),tn.renderCallByParent(this.props,{x:h-i,y:p-i,width:2*i,height:2*i}))}}])}(I.Component);y0(Ru,"displayName","ReferenceDot");y0(Ru,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});y0(Ru,"renderDot",function(e,t){var r;return I.isValidElement(e)?r=I.cloneElement(e,t):Ge(e)?r=e(t):r=I.createElement(h0,Dm({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function Lm(){return Lm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lm.apply(this,arguments)}function il(e){"@babel/helpers - typeof";return il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},il(e)}function B2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function F2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B2(Object(r),!0).forEach(function(n){v0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$O(n.key),n)}}function zY(e,t,r){return t&&FY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function UY(e,t,r){return t=sh(t),WY(e,TO()?Reflect.construct(t,r||[],sh(e).constructor):t.apply(e,r))}function WY(e,t){if(t&&(il(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GY(e)}function GY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TO=function(){return!!e})()}function sh(e){return sh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sh(e)}function HY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Im(e,t)}function Im(e,t){return Im=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Im(e,t)}function v0(e,t,r){return t=$O(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $O(e){var t=VY(e,"string");return il(t)=="symbol"?t:t+""}function VY(e,t){if(il(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(il(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var XY=function(t,r,n,a,o){var i=o.x1,s=o.x2,l=o.y1,u=o.y2,f=o.xAxis,d=o.yAxis;if(!f||!d)return null;var h=Kv({x:f.scale,y:d.scale}),p={x:t?h.x.apply(i,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},y={x:r?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Ka(o,"discard")&&(!h.isInRange(p)||!h.isInRange(y))?null:bO(p,y)},Lu=function(e){function t(){return BY(this,t),UY(this,t,arguments)}return HY(t,e),zY(t,[{key:"render",value:function(){var n=this.props,a=n.x1,o=n.x2,i=n.y1,s=n.y2,l=n.className,u=n.alwaysShow,f=n.clipPathId;ho(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=Ir(a),h=Ir(o),p=Ir(i),y=Ir(s),v=this.props.shape;if(!d&&!h&&!p&&!y&&!v)return null;var b=XY(d,h,p,y,this.props);if(!b&&!v)return null;var m=Ka(this.props,"hidden")?"url(#".concat(f,")"):void 0;return I.createElement(mt,{className:ot("recharts-reference-area",l)},t.renderRect(v,F2(F2({clipPath:m},Ue(this.props,!0)),b)),tn.renderCallByParent(this.props,b))}}])}(I.Component);v0(Lu,"displayName","ReferenceArea");v0(Lu,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});v0(Lu,"renderRect",function(e,t){var r;return I.isValidElement(e)?r=I.cloneElement(e,t):Ge(e)?r=e(t):r=I.createElement(Vv,Lm({},t,{className:"recharts-reference-area-rect"})),r});function DO(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function KY(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return UK(n,r)}function YY(e,t,r){var n=r==="width",a=e.x,o=e.y,i=e.width,s=e.height;return t===1?{start:n?a:o,end:n?a+i:o+s}:{start:n?a+i:o+s,end:n?a:o}}function lh(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var o=r();return e*(t-e*o/2-n)>=0&&e*(t+e*o/2-a)<=0}function qY(e,t){return DO(e,t+1)}function ZY(e,t,r,n,a){for(var o=(n||[]).slice(),i=t.start,s=t.end,l=0,u=1,f=i,d=function(){var y=n==null?void 0:n[l];if(y===void 0)return{v:DO(n,u)};var v=l,b,m=function(){return b===void 0&&(b=r(y,v)),b},g=y.coordinate,x=l===0||lh(e,g,m,f,s);x||(l=0,f=i,u+=1),x&&(f=g+e*(m()/2+a),l+=u)},h;u<=o.length;)if(h=d(),h)return h.v;return[]}function bu(e){"@babel/helpers - typeof";return bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bu(e)}function z2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z2(Object(r),!0).forEach(function(n){QY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QY(e,t,r){return t=JY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JY(e){var t=eq(e,"string");return bu(t)=="symbol"?t:t+""}function eq(e,t){if(bu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tq(e,t,r,n,a){for(var o=(n||[]).slice(),i=o.length,s=t.start,l=t.end,u=function(h){var p=o[h],y,v=function(){return y===void 0&&(y=r(p,h)),y};if(h===i-1){var b=e*(p.coordinate+e*v()/2-l);o[h]=p=hn(hn({},p),{},{tickCoord:b>0?p.coordinate-b*e:p.coordinate})}else o[h]=p=hn(hn({},p),{},{tickCoord:p.coordinate});var m=lh(e,p.tickCoord,v,s,l);m&&(l=p.tickCoord-e*(v()/2+a),o[h]=hn(hn({},p),{},{isShow:!0}))},f=i-1;f>=0;f--)u(f);return o}function rq(e,t,r,n,a,o){var i=(n||[]).slice(),s=i.length,l=t.start,u=t.end;if(o){var f=n[s-1],d=r(f,s-1),h=e*(f.coordinate+e*d/2-u);i[s-1]=f=hn(hn({},f),{},{tickCoord:h>0?f.coordinate-h*e:f.coordinate});var p=lh(e,f.tickCoord,function(){return d},l,u);p&&(u=f.tickCoord-e*(d/2+a),i[s-1]=hn(hn({},f),{},{isShow:!0}))}for(var y=o?s-1:s,v=function(g){var x=i[g],j,w=function(){return j===void 0&&(j=r(x,g)),j};if(g===0){var k=e*(x.coordinate-e*w()/2-l);i[g]=x=hn(hn({},x),{},{tickCoord:k<0?x.coordinate-k*e:x.coordinate})}else i[g]=x=hn(hn({},x),{},{tickCoord:x.coordinate});var N=lh(e,x.tickCoord,w,l,u);N&&(l=x.tickCoord+e*(w()/2+a),i[g]=hn(hn({},x),{},{isShow:!0}))},b=0;b<y;b++)v(b);return i}function ex(e,t,r){var n=e.tick,a=e.ticks,o=e.viewBox,i=e.minTickGap,s=e.orientation,l=e.interval,u=e.tickFormatter,f=e.unit,d=e.angle;if(!a||!a.length||!n)return[];if(he(l)||ii.isSsr)return qY(a,typeof l=="number"&&he(l)?l:0);var h=[],p=s==="top"||s==="bottom"?"width":"height",y=f&&p==="width"?mc(f,{fontSize:t,letterSpacing:r}):{width:0,height:0},v=function(x,j){var w=Ge(u)?u(x.value,j):x.value;return p==="width"?KY(mc(w,{fontSize:t,letterSpacing:r}),y,d):mc(w,{fontSize:t,letterSpacing:r})[p]},b=a.length>=2?Ea(a[1].coordinate-a[0].coordinate):1,m=YY(o,b,p);return l==="equidistantPreserveStart"?ZY(b,m,v,a,i):(l==="preserveStart"||l==="preserveStartEnd"?h=rq(b,m,v,a,i,l==="preserveStartEnd"):h=tq(b,m,v,a,i),h.filter(function(g){return g.isShow}))}var nq=["viewBox"],aq=["viewBox"],oq=["ticks"];function sl(e){"@babel/helpers - typeof";return sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sl(e)}function Ns(){return Ns=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ns.apply(this,arguments)}function U2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $r(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U2(Object(r),!0).forEach(function(n){tx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jp(e,t){if(e==null)return{};var r=iq(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function iq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function sq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,LO(n.key),n)}}function lq(e,t,r){return t&&W2(e.prototype,t),r&&W2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function cq(e,t,r){return t=ch(t),uq(e,RO()?Reflect.construct(t,r||[],ch(e).constructor):t.apply(e,r))}function uq(e,t){if(t&&(sl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fq(e)}function fq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RO=function(){return!!e})()}function ch(e){return ch=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ch(e)}function dq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bm(e,t)}function Bm(e,t){return Bm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Bm(e,t)}function tx(e,t,r){return t=LO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LO(e){var t=hq(e,"string");return sl(t)=="symbol"?t:t+""}function hq(e,t){if(sl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var El=function(e){function t(r){var n;return sq(this,t),n=cq(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return dq(t,e),lq(t,[{key:"shouldComponentUpdate",value:function(n,a){var o=n.viewBox,i=jp(n,nq),s=this.props,l=s.viewBox,u=jp(s,aq);return!Ts(o,l)||!Ts(i,u)||!Ts(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,o=a.x,i=a.y,s=a.width,l=a.height,u=a.orientation,f=a.tickSize,d=a.mirror,h=a.tickMargin,p,y,v,b,m,g,x=d?-1:1,j=n.tickSize||f,w=he(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=y=n.coordinate,b=i+ +!d*l,v=b-x*j,g=v-x*h,m=w;break;case"left":v=b=n.coordinate,y=o+ +!d*s,p=y-x*j,m=p-x*h,g=w;break;case"right":v=b=n.coordinate,y=o+ +d*s,p=y+x*j,m=p+x*h,g=w;break;default:p=y=n.coordinate,b=i+ +d*l,v=b+x*j,g=v+x*h,m=w;break}return{line:{x1:p,y1:v,x2:y,y2:b},tick:{x:m,y:g}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,o=n.mirror,i;switch(a){case"left":i=o?"start":"end";break;case"right":i=o?"end":"start";break;default:i="middle";break}return i}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,o=n.mirror,i="end";switch(a){case"left":case"right":i="middle";break;case"top":i=o?"start":"end";break;default:i=o?"end":"start";break}return i}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,o=n.y,i=n.width,s=n.height,l=n.orientation,u=n.mirror,f=n.axisLine,d=$r($r($r({},Ue(this.props,!1)),Ue(f,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);d=$r($r({},d),{},{x1:a,y1:o+h*s,x2:a+i,y2:o+h*s})}else{var p=+(l==="left"&&!u||l==="right"&&u);d=$r($r({},d),{},{x1:a+p*i,y1:o,x2:a+p*i,y2:o+s})}return I.createElement("line",Ns({},d,{className:ot("recharts-cartesian-axis-line",ya(f,"className"))}))}},{key:"renderTicks",value:function(n,a,o){var i=this,s=this.props,l=s.tickLine,u=s.stroke,f=s.tick,d=s.tickFormatter,h=s.unit,p=ex($r($r({},this.props),{},{ticks:n}),a,o),y=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),b=Ue(this.props,!1),m=Ue(f,!1),g=$r($r({},b),{},{fill:"none"},Ue(l,!1)),x=p.map(function(j,w){var k=i.getTickLineCoord(j),N=k.line,_=k.tick,O=$r($r($r($r({textAnchor:y,verticalAnchor:v},b),{},{stroke:"none",fill:u},m),_),{},{index:w,payload:j,visibleTicksCount:p.length,tickFormatter:d});return I.createElement(mt,Ns({className:"recharts-cartesian-axis-tick",key:"tick-".concat(j.value,"-").concat(j.coordinate,"-").concat(j.tickCoord)},zc(i.props,j,w)),l&&I.createElement("line",Ns({},g,N,{className:ot("recharts-cartesian-axis-tick-line",ya(l,"className"))})),f&&t.renderTickItem(f,O,"".concat(Ge(d)?d(j.value,w):j.value).concat(h||"")))});return I.createElement("g",{className:"recharts-cartesian-axis-ticks"},x)}},{key:"render",value:function(){var n=this,a=this.props,o=a.axisLine,i=a.width,s=a.height,l=a.ticksGenerator,u=a.className,f=a.hide;if(f)return null;var d=this.props,h=d.ticks,p=jp(d,oq),y=h;return Ge(l)&&(y=h&&h.length>0?l(this.props):l(p)),i<=0||s<=0||!y||!y.length?null:I.createElement(mt,{className:ot("recharts-cartesian-axis",u),ref:function(b){n.layerReference=b}},o&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),tn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,o){var i,s=ot(a.className,"recharts-cartesian-axis-tick-value");return I.isValidElement(n)?i=I.cloneElement(n,$r($r({},a),{},{className:s})):Ge(n)?i=n($r($r({},a),{},{className:s})):i=I.createElement(Ad,Ns({},a,{className:"recharts-cartesian-axis-tick-value"}),o),i}}])}(S.Component);tx(El,"displayName","CartesianAxis");tx(El,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var pq=["x1","y1","x2","y2","key"],gq=["offset"];function Ki(e){"@babel/helpers - typeof";return Ki=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ki(e)}function G2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G2(Object(r),!0).forEach(function(n){mq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mq(e,t,r){return t=yq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yq(e){var t=vq(e,"string");return Ki(t)=="symbol"?t:t+""}function vq(e,t){if(Ki(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ki(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ci(){return Ci=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ci.apply(this,arguments)}function H2(e,t){if(e==null)return{};var r=xq(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var bq=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,o=t.y,i=t.width,s=t.height,l=t.ry;return I.createElement("rect",{x:a,y:o,ry:l,width:i,height:s,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function IO(e,t){var r;if(I.isValidElement(e))r=I.cloneElement(e,t);else if(Ge(e))r=e(t);else{var n=t.x1,a=t.y1,o=t.x2,i=t.y2,s=t.key,l=H2(t,pq),u=Ue(l,!1);u.offset;var f=H2(u,gq);r=I.createElement("line",Ci({},f,{x1:n,y1:a,x2:o,y2:i,fill:"none",key:s}))}return r}function wq(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,o=e.horizontalPoints;if(!a||!o||!o.length)return null;var i=o.map(function(s,l){var u=gn(gn({},e),{},{x1:t,y1:s,x2:t+r,y2:s,key:"line-".concat(l),index:l});return IO(a,u)});return I.createElement("g",{className:"recharts-cartesian-grid-horizontal"},i)}function kq(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,o=e.verticalPoints;if(!a||!o||!o.length)return null;var i=o.map(function(s,l){var u=gn(gn({},e),{},{x1:s,y1:t,x2:s,y2:t+r,key:"line-".concat(l),index:l});return IO(a,u)});return I.createElement("g",{className:"recharts-cartesian-grid-vertical"},i)}function jq(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,o=e.width,i=e.height,s=e.horizontalPoints,l=e.horizontal,u=l===void 0?!0:l;if(!u||!t||!t.length)return null;var f=s.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==f[0]&&f.unshift(0);var d=f.map(function(h,p){var y=!f[p+1],v=y?a+i-h:f[p+1]-h;if(v<=0)return null;var b=p%t.length;return I.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:v,width:o,stroke:"none",fill:t[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return I.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Sq(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,o=e.x,i=e.y,s=e.width,l=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var f=u.map(function(h){return Math.round(h+o-o)}).sort(function(h,p){return h-p});o!==f[0]&&f.unshift(0);var d=f.map(function(h,p){var y=!f[p+1],v=y?o+s-h:f[p+1]-h;if(v<=0)return null;var b=p%n.length;return I.createElement("rect",{key:"react-".concat(p),x:h,y:i,width:v,height:l,stroke:"none",fill:n[b],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return I.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var Nq=function(t,r){var n=t.xAxis,a=t.width,o=t.height,i=t.offset;return K_(ex(gn(gn(gn({},El.defaultProps),n),{},{ticks:co(n,!0),viewBox:{x:0,y:0,width:a,height:o}})),i.left,i.left+i.width,r)},_q=function(t,r){var n=t.yAxis,a=t.width,o=t.height,i=t.offset;return K_(ex(gn(gn(gn({},El.defaultProps),n),{},{ticks:co(n,!0),viewBox:{x:0,y:0,width:a,height:o}})),i.top,i.top+i.height,r)},us={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Ya(e){var t,r,n,a,o,i,s=Zv(),l=Qv(),u=hY(),f=gn(gn({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:us.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:us.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:us.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:us.horizontalFill,vertical:(o=e.vertical)!==null&&o!==void 0?o:us.vertical,verticalFill:(i=e.verticalFill)!==null&&i!==void 0?i:us.verticalFill,x:he(e.x)?e.x:u.left,y:he(e.y)?e.y:u.top,width:he(e.width)?e.width:u.width,height:he(e.height)?e.height:u.height}),d=f.x,h=f.y,p=f.width,y=f.height,v=f.syncWithTicks,b=f.horizontalValues,m=f.verticalValues,g=uY(),x=fY();if(!he(p)||p<=0||!he(y)||y<=0||!he(d)||d!==+d||!he(h)||h!==+h)return null;var j=f.verticalCoordinatesGenerator||Nq,w=f.horizontalCoordinatesGenerator||_q,k=f.horizontalPoints,N=f.verticalPoints;if((!k||!k.length)&&Ge(w)){var _=b&&b.length,O=w({yAxis:x?gn(gn({},x),{},{ticks:_?b:x.ticks}):void 0,width:s,height:l,offset:u},_?!0:v);ho(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ki(O),"]")),Array.isArray(O)&&(k=O)}if((!N||!N.length)&&Ge(j)){var A=m&&m.length,M=j({xAxis:g?gn(gn({},g),{},{ticks:A?m:g.ticks}):void 0,width:s,height:l,offset:u},A?!0:v);ho(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ki(M),"]")),Array.isArray(M)&&(N=M)}return I.createElement("g",{className:"recharts-cartesian-grid"},I.createElement(bq,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),I.createElement(wq,Ci({},f,{offset:u,horizontalPoints:k,xAxis:g,yAxis:x})),I.createElement(kq,Ci({},f,{offset:u,verticalPoints:N,xAxis:g,yAxis:x})),I.createElement(jq,Ci({},f,{horizontalPoints:k})),I.createElement(Sq,Ci({},f,{verticalPoints:N})))}Ya.displayName="CartesianGrid";var Oq=["type","layout","connectNulls","ref"],Pq=["key"];function ll(e){"@babel/helpers - typeof";return ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ll(e)}function V2(e,t){if(e==null)return{};var r=Aq(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Aq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function bc(){return bc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bc.apply(this,arguments)}function X2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X2(Object(r),!0).forEach(function(n){Aa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fs(e){return Tq(e)||Eq(e)||Cq(e)||Mq()}function Mq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cq(e,t){if(e){if(typeof e=="string")return Fm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Fm(e,t)}}function Eq(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Tq(e){if(Array.isArray(e))return Fm(e)}function Fm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,FO(n.key),n)}}function Dq(e,t,r){return t&&K2(e.prototype,t),r&&K2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Rq(e,t,r){return t=uh(t),Lq(e,BO()?Reflect.construct(t,r||[],uh(e).constructor):t.apply(e,r))}function Lq(e,t){if(t&&(ll(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Iq(e)}function Iq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BO=function(){return!!e})()}function uh(e){return uh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},uh(e)}function Bq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zm(e,t)}function zm(e,t){return zm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},zm(e,t)}function Aa(e,t,r){return t=FO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FO(e){var t=Fq(e,"string");return ll(t)=="symbol"?t:t+""}function Fq(e,t){if(ll(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ll(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var jr=function(e){function t(){var r;$q(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=Rq(this,t,[].concat(a)),Aa(r,"state",{isAnimationFinished:!0,totalLength:0}),Aa(r,"generateSimpleStrokeDasharray",function(i,s){return"".concat(s,"px ").concat(i-s,"px")}),Aa(r,"getStrokeDasharray",function(i,s,l){var u=l.reduce(function(m,g){return m+g});if(!u)return r.generateSimpleStrokeDasharray(s,i);for(var f=Math.floor(i/u),d=i%u,h=s-i,p=[],y=0,v=0;y<l.length;v+=l[y],++y)if(v+l[y]>d){p=[].concat(fs(l.slice(0,y)),[d-v]);break}var b=p.length%2===0?[0,h]:[h];return[].concat(fs(t.repeat(l,f)),fs(p),b).map(function(m){return"".concat(m,"px")}).join(", ")}),Aa(r,"id",Ji("recharts-line-")),Aa(r,"pathRef",function(i){r.mainCurve=i}),Aa(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Aa(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return Bq(t,e),Dq(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,i=o.points,s=o.xAxis,l=o.yAxis,u=o.layout,f=o.children,d=Fn(f,Cl);if(!d)return null;var h=function(v,b){return{x:v.x,y:v.y,value:v.value,errorVal:Br(v.payload,b)}},p={clipPath:n?"url(#clipPath-".concat(a,")"):null};return I.createElement(mt,p,d.map(function(y){return I.cloneElement(y,{key:"bar-".concat(y.props.dataKey),data:i,xAxis:s,yAxis:l,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,o){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,u=s.points,f=s.dataKey,d=Ue(this.props,!1),h=Ue(l,!0),p=u.map(function(v,b){var m=Xn(Xn(Xn({key:"dot-".concat(b),r:3},d),h),{},{index:b,cx:v.x,cy:v.y,value:v.value,dataKey:f,payload:v.payload,points:u});return t.renderDotItem(l,m)}),y={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(o,")"):null};return I.createElement(mt,bc({className:"recharts-line-dots",key:"dots"},y),p)}},{key:"renderCurveStatically",value:function(n,a,o,i){var s=this.props,l=s.type,u=s.layout,f=s.connectNulls;s.ref;var d=V2(s,Oq),h=Xn(Xn(Xn({},Ue(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(o,")"):null,points:n},i),{},{type:l,layout:u,connectNulls:f});return I.createElement(Li,bc({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var o=this,i=this.props,s=i.points,l=i.strokeDasharray,u=i.isAnimationActive,f=i.animationBegin,d=i.animationDuration,h=i.animationEasing,p=i.animationId,y=i.animateNewValues,v=i.width,b=i.height,m=this.state,g=m.prevPoints,x=m.totalLength;return I.createElement(Ra,{begin:f,duration:d,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var w=j.t;if(g){var k=g.length/s.length,N=s.map(function(C,R){var z=Math.floor(R*k);if(g[z]){var T=g[z],G=yr(T.x,C.x),P=yr(T.y,C.y);return Xn(Xn({},C),{},{x:G(w),y:P(w)})}if(y){var E=yr(v*2,C.x),$=yr(b/2,C.y);return Xn(Xn({},C),{},{x:E(w),y:$(w)})}return Xn(Xn({},C),{},{x:C.x,y:C.y})});return o.renderCurveStatically(N,n,a)}var _=yr(0,x),O=_(w),A;if(l){var M="".concat(l).split(/[,\s]+/gim).map(function(C){return parseFloat(C)});A=o.getStrokeDasharray(O,x,M)}else A=o.generateSimpleStrokeDasharray(x,O);return o.renderCurveStatically(s,n,a,{strokeDasharray:A})})}},{key:"renderCurve",value:function(n,a){var o=this.props,i=o.points,s=o.isAnimationActive,l=this.state,u=l.prevPoints,f=l.totalLength;return s&&i&&i.length&&(!u&&f>0||!Hi(u,i))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(i,n,a)}},{key:"render",value:function(){var n,a=this.props,o=a.hide,i=a.dot,s=a.points,l=a.className,u=a.xAxis,f=a.yAxis,d=a.top,h=a.left,p=a.width,y=a.height,v=a.isAnimationActive,b=a.id;if(o||!s||!s.length)return null;var m=this.state.isAnimationFinished,g=s.length===1,x=ot("recharts-line",l),j=u&&u.allowDataOverflow,w=f&&f.allowDataOverflow,k=j||w,N=Ie(b)?this.id:b,_=(n=Ue(i,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},O=_.r,A=O===void 0?3:O,M=_.strokeWidth,C=M===void 0?2:M,R=US(i)?i:{},z=R.clipDot,T=z===void 0?!0:z,G=A*2+C;return I.createElement(mt,{className:x},j||w?I.createElement("defs",null,I.createElement("clipPath",{id:"clipPath-".concat(N)},I.createElement("rect",{x:j?h:h-p/2,y:w?d:d-y/2,width:j?p:p*2,height:w?y:y*2})),!T&&I.createElement("clipPath",{id:"clipPath-dots-".concat(N)},I.createElement("rect",{x:h-G/2,y:d-G/2,width:p+G,height:y+G}))):null,!g&&this.renderCurve(k,N),this.renderErrorBar(k,N),(g||i)&&this.renderDots(k,T,N),(!v||m)&&Xa.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var o=n.length%2!==0?[].concat(fs(n),[0]):n,i=[],s=0;s<a;++s)i=[].concat(fs(i),fs(o));return i}},{key:"renderDotItem",value:function(n,a){var o;if(I.isValidElement(n))o=I.cloneElement(n,a);else if(Ge(n))o=n(a);else{var i=a.key,s=V2(a,Pq),l=ot("recharts-line-dot",typeof n!="boolean"?n.className:"");o=I.createElement(h0,bc({key:i},s,{className:l}))}return o}}])}(S.PureComponent);Aa(jr,"displayName","Line");Aa(jr,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!ii.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Aa(jr,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,o=e.yAxisTicks,i=e.dataKey,s=e.bandSize,l=e.displayedData,u=e.offset,f=t.layout,d=l.map(function(h,p){var y=Br(h,i);return f==="horizontal"?{x:Js({axis:r,ticks:a,bandSize:s,entry:h,index:p}),y:Ie(y)?null:n.scale(y),value:y,payload:h}:{x:Ie(y)?null:r.scale(y),y:Js({axis:n,ticks:o,bandSize:s,entry:h,index:p}),value:y,payload:h}});return Xn({points:d,layout:f},u)});var zq=["layout","type","stroke","connectNulls","isRange","ref"],Uq=["key"],zO;function cl(e){"@babel/helpers - typeof";return cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cl(e)}function UO(e,t){if(e==null)return{};var r=Wq(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Wq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ei(){return Ei=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ei.apply(this,arguments)}function Y2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Y2(Object(r),!0).forEach(function(n){Ua(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,GO(n.key),n)}}function Hq(e,t,r){return t&&q2(e.prototype,t),r&&q2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vq(e,t,r){return t=fh(t),Xq(e,WO()?Reflect.construct(t,r||[],fh(e).constructor):t.apply(e,r))}function Xq(e,t){if(t&&(cl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kq(e)}function Kq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WO=function(){return!!e})()}function fh(e){return fh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fh(e)}function Yq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Um(e,t)}function Um(e,t){return Um=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Um(e,t)}function Ua(e,t,r){return t=GO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GO(e){var t=qq(e,"string");return cl(t)=="symbol"?t:t+""}function qq(e,t){if(cl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ga=function(e){function t(){var r;Gq(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=Vq(this,t,[].concat(a)),Ua(r,"state",{isAnimationFinished:!0}),Ua(r,"id",Ji("recharts-area-")),Ua(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Ge(i)&&i()}),Ua(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Ge(i)&&i()}),r}return Yq(t,e),Hq(t,[{key:"renderDots",value:function(n,a,o){var i=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(i&&!s)return null;var l=this.props,u=l.dot,f=l.points,d=l.dataKey,h=Ue(this.props,!1),p=Ue(u,!0),y=f.map(function(b,m){var g=Mo(Mo(Mo({key:"dot-".concat(m),r:3},h),p),{},{index:m,cx:b.x,cy:b.y,dataKey:d,value:b.value,payload:b.payload,points:f});return t.renderDotItem(u,g)}),v={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(o,")"):null};return I.createElement(mt,Ei({className:"recharts-area-dots"},v),y)}},{key:"renderHorizontalRect",value:function(n){var a=this.props,o=a.baseLine,i=a.points,s=a.strokeWidth,l=i[0].x,u=i[i.length-1].x,f=n*Math.abs(l-u),d=Bo(i.map(function(h){return h.y||0}));return he(o)&&typeof o=="number"?d=Math.max(o,d):o&&Array.isArray(o)&&o.length&&(d=Math.max(Bo(o.map(function(h){return h.y||0})),d)),he(d)?I.createElement("rect",{x:l<u?l:l-f,y:0,width:f,height:Math.floor(d+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,o=a.baseLine,i=a.points,s=a.strokeWidth,l=i[0].y,u=i[i.length-1].y,f=n*Math.abs(l-u),d=Bo(i.map(function(h){return h.x||0}));return he(o)&&typeof o=="number"?d=Math.max(o,d):o&&Array.isArray(o)&&o.length&&(d=Math.max(Bo(o.map(function(h){return h.x||0})),d)),he(d)?I.createElement("rect",{x:0,y:l<u?l:l-f,width:d+(s?parseInt("".concat(s),10):1),height:Math.floor(f)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,o,i){var s=this.props,l=s.layout,u=s.type,f=s.stroke,d=s.connectNulls,h=s.isRange;s.ref;var p=UO(s,zq);return I.createElement(mt,{clipPath:o?"url(#clipPath-".concat(i,")"):null},I.createElement(Li,Ei({},Ue(p,!0),{points:n,connectNulls:d,type:u,baseLine:a,layout:l,stroke:"none",className:"recharts-area-area"})),f!=="none"&&I.createElement(Li,Ei({},Ue(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:d,fill:"none",points:n})),f!=="none"&&h&&I.createElement(Li,Ei({},Ue(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:d,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(n,a){var o=this,i=this.props,s=i.points,l=i.baseLine,u=i.isAnimationActive,f=i.animationBegin,d=i.animationDuration,h=i.animationEasing,p=i.animationId,y=this.state,v=y.prevPoints,b=y.prevBaseLine;return I.createElement(Ra,{begin:f,duration:d,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var g=m.t;if(v){var x=v.length/s.length,j=s.map(function(_,O){var A=Math.floor(O*x);if(v[A]){var M=v[A],C=yr(M.x,_.x),R=yr(M.y,_.y);return Mo(Mo({},_),{},{x:C(g),y:R(g)})}return _}),w;if(he(l)&&typeof l=="number"){var k=yr(b,l);w=k(g)}else if(Ie(l)||Sl(l)){var N=yr(b,0);w=N(g)}else w=l.map(function(_,O){var A=Math.floor(O*x);if(b[A]){var M=b[A],C=yr(M.x,_.x),R=yr(M.y,_.y);return Mo(Mo({},_),{},{x:C(g),y:R(g)})}return _});return o.renderAreaStatically(j,w,n,a)}return I.createElement(mt,null,I.createElement("defs",null,I.createElement("clipPath",{id:"animationClipPath-".concat(a)},o.renderClipRect(g))),I.createElement(mt,{clipPath:"url(#animationClipPath-".concat(a,")")},o.renderAreaStatically(s,l,n,a)))})}},{key:"renderArea",value:function(n,a){var o=this.props,i=o.points,s=o.baseLine,l=o.isAnimationActive,u=this.state,f=u.prevPoints,d=u.prevBaseLine,h=u.totalLength;return l&&i&&i.length&&(!f&&h>0||!Hi(f,i)||!Hi(d,s))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(i,s,n,a)}},{key:"render",value:function(){var n,a=this.props,o=a.hide,i=a.dot,s=a.points,l=a.className,u=a.top,f=a.left,d=a.xAxis,h=a.yAxis,p=a.width,y=a.height,v=a.isAnimationActive,b=a.id;if(o||!s||!s.length)return null;var m=this.state.isAnimationFinished,g=s.length===1,x=ot("recharts-area",l),j=d&&d.allowDataOverflow,w=h&&h.allowDataOverflow,k=j||w,N=Ie(b)?this.id:b,_=(n=Ue(i,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},O=_.r,A=O===void 0?3:O,M=_.strokeWidth,C=M===void 0?2:M,R=US(i)?i:{},z=R.clipDot,T=z===void 0?!0:z,G=A*2+C;return I.createElement(mt,{className:x},j||w?I.createElement("defs",null,I.createElement("clipPath",{id:"clipPath-".concat(N)},I.createElement("rect",{x:j?f:f-p/2,y:w?u:u-y/2,width:j?p:p*2,height:w?y:y*2})),!T&&I.createElement("clipPath",{id:"clipPath-dots-".concat(N)},I.createElement("rect",{x:f-G/2,y:u-G/2,width:p+G,height:y+G}))):null,g?null:this.renderArea(k,N),(i||g)&&this.renderDots(k,T,N),(!v||m)&&Xa.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(S.PureComponent);zO=ga;Ua(ga,"displayName","Area");Ua(ga,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!ii.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Ua(ga,"getBaseValue",function(e,t,r,n){var a=e.layout,o=e.baseValue,i=t.props.baseValue,s=i??o;if(he(s)&&typeof s=="number")return s;var l=a==="horizontal"?n:r,u=l.scale.domain();if(l.type==="number"){var f=Math.max(u[0],u[1]),d=Math.min(u[0],u[1]);return s==="dataMin"?d:s==="dataMax"||f<0?f:Math.max(Math.min(u[0],u[1]),0)}return s==="dataMin"?u[0]:s==="dataMax"?u[1]:u[0]});Ua(ga,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,a=e.yAxis,o=e.xAxisTicks,i=e.yAxisTicks,s=e.bandSize,l=e.dataKey,u=e.stackedData,f=e.dataStartIndex,d=e.displayedData,h=e.offset,p=t.layout,y=u&&u.length,v=zO.getBaseValue(t,r,n,a),b=p==="horizontal",m=!1,g=d.map(function(j,w){var k;y?k=u[f+w]:(k=Br(j,l),Array.isArray(k)?m=!0:k=[v,k]);var N=k[1]==null||y&&Br(j,l)==null;return b?{x:Js({axis:n,ticks:o,bandSize:s,entry:j,index:w}),y:N?null:a.scale(k[1]),value:k,payload:j}:{x:N?null:n.scale(k[1]),y:Js({axis:a,ticks:i,bandSize:s,entry:j,index:w}),value:k,payload:j}}),x;return y||m?x=g.map(function(j){var w=Array.isArray(j.value)?j.value[0]:null;return b?{x:j.x,y:w!=null&&j.y!=null?a.scale(w):null}:{x:w!=null?n.scale(w):null,y:j.y}}):x=b?a.scale(v):n.scale(v),Mo({points:g,baseLine:x,layout:p,isRange:m},h)});Ua(ga,"renderDotItem",function(e,t){var r;if(I.isValidElement(e))r=I.cloneElement(e,t);else if(Ge(e))r=e(t);else{var n=ot("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,o=UO(t,Uq);r=I.createElement(h0,Ei({},o,{key:a,className:n}))}return r});function ul(e){"@babel/helpers - typeof";return ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ul(e)}function Zq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,XO(n.key),n)}}function Jq(e,t,r){return t&&Qq(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function eZ(e,t,r){return t=dh(t),tZ(e,HO()?Reflect.construct(t,r||[],dh(e).constructor):t.apply(e,r))}function tZ(e,t){if(t&&(ul(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rZ(e)}function rZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HO=function(){return!!e})()}function dh(e){return dh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dh(e)}function nZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wm(e,t)}function Wm(e,t){return Wm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Wm(e,t)}function VO(e,t,r){return t=XO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XO(e){var t=aZ(e,"string");return ul(t)=="symbol"?t:t+""}function aZ(e,t){if(ul(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ul(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var x0=function(e){function t(){return Zq(this,t),eZ(this,t,arguments)}return nZ(t,e),Jq(t,[{key:"render",value:function(){return null}}])}(S.Component);VO(x0,"displayName","ZAxis");VO(x0,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var oZ=["option","isActive"];function wc(){return wc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wc.apply(this,arguments)}function iZ(e,t){if(e==null)return{};var r=sZ(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sZ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function lZ(e){var t=e.option,r=e.isActive,n=iZ(e,oZ);return typeof t=="string"?S.createElement(Am,wc({option:S.createElement(e0,wc({type:t},n)),isActive:r,shapeType:"symbols"},n)):S.createElement(Am,wc({option:t,isActive:r,shapeType:"symbols"},n))}function fl(e){"@babel/helpers - typeof";return fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fl(e)}function kc(){return kc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kc.apply(this,arguments)}function Z2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ua(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z2(Object(r),!0).forEach(function(n){Uo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,YO(n.key),n)}}function uZ(e,t,r){return t&&Q2(e.prototype,t),r&&Q2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function fZ(e,t,r){return t=hh(t),dZ(e,KO()?Reflect.construct(t,r||[],hh(e).constructor):t.apply(e,r))}function dZ(e,t){if(t&&(fl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hZ(e)}function hZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KO=function(){return!!e})()}function hh(e){return hh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hh(e)}function pZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gm(e,t)}function Gm(e,t){return Gm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Gm(e,t)}function Uo(e,t,r){return t=YO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YO(e){var t=gZ(e,"string");return fl(t)=="symbol"?t:t+""}function gZ(e,t){if(fl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var jn=function(e){function t(){var r;cZ(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=fZ(this,t,[].concat(a)),Uo(r,"state",{isAnimationFinished:!1}),Uo(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0})}),Uo(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1})}),Uo(r,"id",Ji("recharts-scatter-")),r}return pZ(t,e),uZ(t,[{key:"renderSymbolsStatically",value:function(n){var a=this,o=this.props,i=o.shape,s=o.activeShape,l=o.activeIndex,u=Ue(this.props,!1);return n.map(function(f,d){var h=l===d,p=h?s:i,y=ua(ua({},u),f);return I.createElement(mt,kc({className:"recharts-scatter-symbol",key:"symbol-".concat(f==null?void 0:f.cx,"-").concat(f==null?void 0:f.cy,"-").concat(f==null?void 0:f.size,"-").concat(d)},zc(a.props,f,d),{role:"img"}),I.createElement(lZ,kc({option:p,isActive:h,key:"symbol-".concat(d)},y)))})}},{key:"renderSymbolsWithAnimation",value:function(){var n=this,a=this.props,o=a.points,i=a.isAnimationActive,s=a.animationBegin,l=a.animationDuration,u=a.animationEasing,f=a.animationId,d=this.state.prevPoints;return I.createElement(Ra,{begin:s,duration:l,isActive:i,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var p=h.t,y=o.map(function(v,b){var m=d&&d[b];if(m){var g=yr(m.cx,v.cx),x=yr(m.cy,v.cy),j=yr(m.size,v.size);return ua(ua({},v),{},{cx:g(p),cy:x(p),size:j(p)})}var w=yr(0,v.size);return ua(ua({},v),{},{size:w(p)})});return I.createElement(mt,null,n.renderSymbolsStatically(y))})}},{key:"renderSymbols",value:function(){var n=this.props,a=n.points,o=n.isAnimationActive,i=this.state.prevPoints;return o&&a&&a.length&&(!i||!Hi(i,a))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(a)}},{key:"renderErrorBar",value:function(){var n=this.props.isAnimationActive;if(n&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,i=a.xAxis,s=a.yAxis,l=a.children,u=Fn(l,Cl);return u?u.map(function(f,d){var h=f.props,p=h.direction,y=h.dataKey;return I.cloneElement(f,{key:"".concat(p,"-").concat(y,"-").concat(o[d]),data:o,xAxis:i,yAxis:s,layout:p==="x"?"vertical":"horizontal",dataPointFormatter:function(b,m){return{x:b.cx,y:b.cy,value:p==="x"?+b.node.x:+b.node.y,errorVal:Br(b,m)}}})}):null}},{key:"renderLine",value:function(){var n=this.props,a=n.points,o=n.line,i=n.lineType,s=n.lineJointType,l=Ue(this.props,!1),u=Ue(o,!1),f,d;if(i==="joint")f=a.map(function(x){return{x:x.cx,y:x.cy}});else if(i==="fitting"){var h=WT(a),p=h.xmin,y=h.xmax,v=h.a,b=h.b,m=function(j){return v*j+b};f=[{x:p,y:m(p)},{x:y,y:m(y)}]}var g=ua(ua(ua({},l),{},{fill:"none",stroke:l&&l.fill},u),{},{points:f});return I.isValidElement(o)?d=I.cloneElement(o,g):Ge(o)?d=o(g):d=I.createElement(Li,kc({},g,{type:s})),I.createElement(mt,{className:"recharts-scatter-line",key:"recharts-scatter-line"},d)}},{key:"render",value:function(){var n=this.props,a=n.hide,o=n.points,i=n.line,s=n.className,l=n.xAxis,u=n.yAxis,f=n.left,d=n.top,h=n.width,p=n.height,y=n.id,v=n.isAnimationActive;if(a||!o||!o.length)return null;var b=this.state.isAnimationFinished,m=ot("recharts-scatter",s),g=l&&l.allowDataOverflow,x=u&&u.allowDataOverflow,j=g||x,w=Ie(y)?this.id:y;return I.createElement(mt,{className:m,clipPath:j?"url(#clipPath-".concat(w,")"):null},g||x?I.createElement("defs",null,I.createElement("clipPath",{id:"clipPath-".concat(w)},I.createElement("rect",{x:g?f:f-h/2,y:x?d:d-p/2,width:g?h:h*2,height:x?p:p*2}))):null,i&&this.renderLine(),this.renderErrorBar(),I.createElement(mt,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!v||b)&&Xa.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}}])}(S.PureComponent);Uo(jn,"displayName","Scatter");Uo(jn,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!ii.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});Uo(jn,"getComposedData",function(e){var t=e.xAxis,r=e.yAxis,n=e.zAxis,a=e.item,o=e.displayedData,i=e.xAxisTicks,s=e.yAxisTicks,l=e.offset,u=a.props.tooltipType,f=Fn(a.props.children,bv),d=Ie(t.dataKey)?a.props.dataKey:t.dataKey,h=Ie(r.dataKey)?a.props.dataKey:r.dataKey,p=n&&n.dataKey,y=n?n.range:x0.defaultProps.range,v=y&&y[0],b=t.scale.bandwidth?t.scale.bandwidth():0,m=r.scale.bandwidth?r.scale.bandwidth():0,g=o.map(function(x,j){var w=Br(x,d),k=Br(x,h),N=!Ie(p)&&Br(x,p)||"-",_=[{name:Ie(t.dataKey)?a.props.name:t.name||t.dataKey,unit:t.unit||"",value:w,payload:x,dataKey:d,type:u},{name:Ie(r.dataKey)?a.props.name:r.name||r.dataKey,unit:r.unit||"",value:k,payload:x,dataKey:h,type:u}];N!=="-"&&_.push({name:n.name||n.dataKey,unit:n.unit||"",value:N,payload:x,dataKey:p,type:u});var O=Js({axis:t,ticks:i,bandSize:b,entry:x,index:j,dataKey:d}),A=Js({axis:r,ticks:s,bandSize:m,entry:x,index:j,dataKey:h}),M=N!=="-"?n.scale(N):v,C=Math.sqrt(Math.max(M,0)/Math.PI);return ua(ua({},x),{},{cx:O,cy:A,x:O-C,y:A-C,xAxis:t,yAxis:r,zAxis:n,width:2*C,height:2*C,size:M,node:{x:w,y:k,z:N},tooltipPayload:_,tooltipPosition:{x:O,y:A},payload:x},f&&f[j]&&f[j].props)});return ua({points:g},l)});function dl(e){"@babel/helpers - typeof";return dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dl(e)}function mZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yZ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,QO(n.key),n)}}function vZ(e,t,r){return t&&yZ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function xZ(e,t,r){return t=ph(t),bZ(e,qO()?Reflect.construct(t,r||[],ph(e).constructor):t.apply(e,r))}function bZ(e,t){if(t&&(dl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wZ(e)}function wZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qO=function(){return!!e})()}function ph(e){return ph=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ph(e)}function kZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hm(e,t)}function Hm(e,t){return Hm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Hm(e,t)}function ZO(e,t,r){return t=QO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QO(e){var t=jZ(e,"string");return dl(t)=="symbol"?t:t+""}function jZ(e,t){if(dl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Vm(){return Vm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vm.apply(this,arguments)}function SZ(e){var t=e.xAxisId,r=Zv(),n=Qv(),a=OO(t);return a==null?null:S.createElement(El,Vm({},a,{className:ot("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(i){return co(i,!0)}}))}var zn=function(e){function t(){return mZ(this,t),xZ(this,t,arguments)}return kZ(t,e),vZ(t,[{key:"render",value:function(){return S.createElement(SZ,this.props)}}])}(S.Component);ZO(zn,"displayName","XAxis");ZO(zn,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function hl(e){"@babel/helpers - typeof";return hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hl(e)}function NZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _Z(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tP(n.key),n)}}function OZ(e,t,r){return t&&_Z(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function PZ(e,t,r){return t=gh(t),AZ(e,JO()?Reflect.construct(t,r||[],gh(e).constructor):t.apply(e,r))}function AZ(e,t){if(t&&(hl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MZ(e)}function MZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JO=function(){return!!e})()}function gh(e){return gh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gh(e)}function CZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xm(e,t)}function Xm(e,t){return Xm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Xm(e,t)}function eP(e,t,r){return t=tP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tP(e){var t=EZ(e,"string");return hl(t)=="symbol"?t:t+""}function EZ(e,t){if(hl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Km(){return Km=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Km.apply(this,arguments)}var TZ=function(t){var r=t.yAxisId,n=Zv(),a=Qv(),o=PO(r);return o==null?null:S.createElement(El,Km({},o,{className:ot("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(s){return co(s,!0)}}))},Un=function(e){function t(){return NZ(this,t),PZ(this,t,arguments)}return CZ(t,e),OZ(t,[{key:"render",value:function(){return S.createElement(TZ,this.props)}}])}(S.Component);eP(Un,"displayName","YAxis");eP(Un,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function J2(e){return LZ(e)||RZ(e)||DZ(e)||$Z()}function $Z(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DZ(e,t){if(e){if(typeof e=="string")return Ym(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ym(e,t)}}function RZ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function LZ(e){if(Array.isArray(e))return Ym(e)}function Ym(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var qm=function(t,r,n,a,o){var i=Fn(t,zo),s=Fn(t,Ru),l=[].concat(J2(i),J2(s)),u=Fn(t,Lu),f="".concat(a,"Id"),d=a[0],h=r;if(l.length&&(h=l.reduce(function(v,b){if(b.props[f]===n&&Ka(b.props,"extendDomain")&&he(b.props[d])){var m=b.props[d];return[Math.min(v[0],m),Math.max(v[1],m)]}return v},h)),u.length){var p="".concat(d,"1"),y="".concat(d,"2");h=u.reduce(function(v,b){if(b.props[f]===n&&Ka(b.props,"extendDomain")&&he(b.props[p])&&he(b.props[y])){var m=b.props[p],g=b.props[y];return[Math.min(v[0],m,g),Math.max(v[1],m,g)]}return v},h)}return o&&o.length&&(h=o.reduce(function(v,b){return he(b)?[Math.min(v[0],b),Math.max(v[1],b)]:v},h)),h},rP={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(l,u,f){this.fn=l,this.context=u,this.once=f||!1}function o(l,u,f,d,h){if(typeof f!="function")throw new TypeError("The listener must be a function");var p=new a(f,d||l,h),y=r?r+u:u;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],p]:l._events[y].push(p):(l._events[y]=p,l._eventsCount++),l}function i(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],f,d;if(this._eventsCount===0)return u;for(d in f=this._events)t.call(f,d)&&u.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},s.prototype.listeners=function(u){var f=r?r+u:u,d=this._events[f];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,p=d.length,y=new Array(p);h<p;h++)y[h]=d[h].fn;return y},s.prototype.listenerCount=function(u){var f=r?r+u:u,d=this._events[f];return d?d.fn?1:d.length:0},s.prototype.emit=function(u,f,d,h,p,y){var v=r?r+u:u;if(!this._events[v])return!1;var b=this._events[v],m=arguments.length,g,x;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),m){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,f),!0;case 3:return b.fn.call(b.context,f,d),!0;case 4:return b.fn.call(b.context,f,d,h),!0;case 5:return b.fn.call(b.context,f,d,h,p),!0;case 6:return b.fn.call(b.context,f,d,h,p,y),!0}for(x=1,g=new Array(m-1);x<m;x++)g[x-1]=arguments[x];b.fn.apply(b.context,g)}else{var j=b.length,w;for(x=0;x<j;x++)switch(b[x].once&&this.removeListener(u,b[x].fn,void 0,!0),m){case 1:b[x].fn.call(b[x].context);break;case 2:b[x].fn.call(b[x].context,f);break;case 3:b[x].fn.call(b[x].context,f,d);break;case 4:b[x].fn.call(b[x].context,f,d,h);break;default:if(!g)for(w=1,g=new Array(m-1);w<m;w++)g[w-1]=arguments[w];b[x].fn.apply(b[x].context,g)}}return!0},s.prototype.on=function(u,f,d){return o(this,u,f,d,!1)},s.prototype.once=function(u,f,d){return o(this,u,f,d,!0)},s.prototype.removeListener=function(u,f,d,h){var p=r?r+u:u;if(!this._events[p])return this;if(!f)return i(this,p),this;var y=this._events[p];if(y.fn)y.fn===f&&(!h||y.once)&&(!d||y.context===d)&&i(this,p);else{for(var v=0,b=[],m=y.length;v<m;v++)(y[v].fn!==f||h&&!y[v].once||d&&y[v].context!==d)&&b.push(y[v]);b.length?this._events[p]=b.length===1?b[0]:b:i(this,p)}return this},s.prototype.removeAllListeners=function(u){var f;return u?(f=r?r+u:u,this._events[f]&&i(this,f)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s})(rP);var IZ=rP.exports;const BZ=Rt(IZ);var Sp=new BZ,Np="recharts.syncMouseEvents";function wu(e){"@babel/helpers - typeof";return wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wu(e)}function FZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zZ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nP(n.key),n)}}function UZ(e,t,r){return t&&zZ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _p(e,t,r){return t=nP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nP(e){var t=WZ(e,"string");return wu(t)=="symbol"?t:t+""}function WZ(e,t){if(wu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var GZ=function(){function e(){FZ(this,e),_p(this,"activeIndex",0),_p(this,"coordinateList",[]),_p(this,"layout","horizontal")}return UZ(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,o=a===void 0?null:a,i=r.container,s=i===void 0?null:i,l=r.layout,u=l===void 0?null:l,f=r.offset,d=f===void 0?null:f,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=o??this.coordinateList)!==null&&n!==void 0?n:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),o=a.x,i=a.y,s=a.height,l=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,f=((n=window)===null||n===void 0?void 0:n.scrollY)||0,d=o+l+u,h=i+this.offset.top+s/2+f;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function HZ(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&he(n)&&he(a))return!0}return!1}function VZ(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function aP(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,o=e.endAngle,i=rn(t,r,n,a),s=rn(t,r,n,o);return{points:[i,s],cx:t,cy:r,radius:n,startAngle:a,endAngle:o}}function XZ(e,t,r){var n,a,o,i;if(e==="horizontal")n=t.x,o=n,a=r.top,i=r.top+r.height;else if(e==="vertical")a=t.y,i=a,n=r.left,o=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var s=t.cx,l=t.cy,u=t.innerRadius,f=t.outerRadius,d=t.angle,h=rn(s,l,u,d),p=rn(s,l,f,d);n=h.x,a=h.y,o=p.x,i=p.y}else return aP(t);return[{x:n,y:a},{x:o,y:i}]}function ku(e){"@babel/helpers - typeof";return ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ku(e)}function ek(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Of(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ek(Object(r),!0).forEach(function(n){KZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ek(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KZ(e,t,r){return t=YZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YZ(e){var t=qZ(e,"string");return ku(t)=="symbol"?t:t+""}function qZ(e,t){if(ku(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ku(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZZ(e){var t,r,n=e.element,a=e.tooltipEventType,o=e.isActive,i=e.activeCoordinate,s=e.activePayload,l=e.offset,u=e.activeTooltipIndex,f=e.tooltipAxisBandSize,d=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!o||!i||h!=="ScatterChart"&&a!=="axis")return null;var y,v=Li;if(h==="ScatterChart")y=i,v=jV;else if(h==="BarChart")y=VZ(d,i,l,f),v=Vv;else if(d==="radial"){var b=aP(i),m=b.cx,g=b.cy,x=b.radius,j=b.startAngle,w=b.endAngle;y={cx:m,cy:g,startAngle:j,endAngle:w,innerRadius:x,outerRadius:x},v=J_}else y={points:XZ(d,i,l)},v=Li;var k=Of(Of(Of(Of({stroke:"#ccc",pointerEvents:"none"},l),y),Ue(p,!1)),{},{payload:s,payloadIndex:u,className:ot("recharts-tooltip-cursor",p.className)});return S.isValidElement(p)?S.cloneElement(p,k):S.createElement(v,k)}var QZ=["item"],JZ=["children","className","width","height","style","compact","title","desc"];function pl(e){"@babel/helpers - typeof";return pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pl(e)}function _s(){return _s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_s.apply(this,arguments)}function tk(e,t){return rQ(e)||tQ(e,t)||iP(e,t)||eQ()}function eQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tQ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){u=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return s}}function rQ(e){if(Array.isArray(e))return e}function rk(e,t){if(e==null)return{};var r=nQ(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function nQ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function aQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sP(n.key),n)}}function iQ(e,t,r){return t&&oQ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function sQ(e,t,r){return t=mh(t),lQ(e,oP()?Reflect.construct(t,r||[],mh(e).constructor):t.apply(e,r))}function lQ(e,t){if(t&&(pl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cQ(e)}function cQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oP=function(){return!!e})()}function mh(e){return mh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mh(e)}function uQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zm(e,t)}function Zm(e,t){return Zm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Zm(e,t)}function gl(e){return hQ(e)||dQ(e)||iP(e)||fQ()}function fQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iP(e,t){if(e){if(typeof e=="string")return Qm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qm(e,t)}}function dQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function hQ(e){if(Array.isArray(e))return Qm(e)}function Qm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function J(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nk(Object(r),!0).forEach(function(n){$e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $e(e,t,r){return t=sP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sP(e){var t=pQ(e,"string");return pl(t)=="symbol"?t:t+""}function pQ(e,t){if(pl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gQ={xAxis:["bottom","top"],yAxis:["left","right"]},mQ={width:"100%",height:"100%"},lP={x:0,y:0};function Pf(e){return e}var yQ=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},vQ=function(t,r,n,a){var o=r.find(function(f){return f&&f.index===n});if(o){if(t==="horizontal")return{x:o.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:o.coordinate};if(t==="centric"){var i=o.coordinate,s=a.radius;return J(J(J({},a),rn(a.cx,a.cy,s,i)),{},{angle:i,radius:s})}var l=o.coordinate,u=a.angle;return J(J(J({},a),rn(a.cx,a.cy,l,u)),{},{angle:u,radius:l})}return lP},b0=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,o=r.dataEndIndex,i=(n??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(gl(s),gl(u)):s},[]);return i.length>0?i:t&&t.length&&he(a)&&he(o)?t.slice(a,o+1):[]};function cP(e){return e==="number"?[0,"auto"]:void 0}var Jm=function(t,r,n,a){var o=t.graphicalItems,i=t.tooltipAxis,s=b0(r,t);return n<0||!o||!o.length||n>=s.length?null:o.reduce(function(l,u){var f,d=(f=u.props.data)!==null&&f!==void 0?f:r;d&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(d=d.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(i.dataKey&&!i.allowDuplicatedCategory){var p=d===void 0?s:d;h=pd(p,i.dataKey,a)}else h=d&&d[n]||s[n];return h?[].concat(gl(l),[q_(u,h)]):l},[])},ak=function(t,r,n,a){var o=a||{x:t.chartX,y:t.chartY},i=yQ(o,n),s=t.orderedTooltipTicks,l=t.tooltipAxis,u=t.tooltipTicks,f=tW(i,s,u,l);if(f>=0&&u){var d=u[f]&&u[f].value,h=Jm(t,r,f,d),p=vQ(n,s,f,o);return{activeTooltipIndex:f,activeLabel:d,activePayload:h,activeCoordinate:p}}return null},xQ=function(t,r){var n=r.axes,a=r.graphicalItems,o=r.axisType,i=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,f=t.layout,d=t.children,h=t.stackOffset,p=X_(f,o);return n.reduce(function(y,v){var b,m=v.type.defaultProps!==void 0?J(J({},v.type.defaultProps),v.props):v.props,g=m.type,x=m.dataKey,j=m.allowDataOverflow,w=m.allowDuplicatedCategory,k=m.scale,N=m.ticks,_=m.includeHidden,O=m[i];if(y[O])return y;var A=b0(t.data,{graphicalItems:a.filter(function(K){var L,ee=i in K.props?K.props[i]:(L=K.type.defaultProps)===null||L===void 0?void 0:L[i];return ee===O}),dataStartIndex:l,dataEndIndex:u}),M=A.length,C,R,z;HZ(m.domain,j,g)&&(C=hm(m.domain,null,j),p&&(g==="number"||k!=="auto")&&(z=vc(A,x,"category")));var T=cP(g);if(!C||C.length===0){var G,P=(G=m.domain)!==null&&G!==void 0?G:T;if(x){if(C=vc(A,x,g),g==="category"&&p){var E=UT(C);w&&E?(R=C,C=eh(0,M)):w||(C=Dw(P,C,v).reduce(function(K,L){return K.indexOf(L)>=0?K:[].concat(gl(K),[L])},[]))}else if(g==="category")w?C=C.filter(function(K){return K!==""&&!Ie(K)}):C=Dw(P,C,v).reduce(function(K,L){return K.indexOf(L)>=0||L===""||Ie(L)?K:[].concat(gl(K),[L])},[]);else if(g==="number"){var $=iW(A,a.filter(function(K){var L,ee,Z=i in K.props?K.props[i]:(L=K.type.defaultProps)===null||L===void 0?void 0:L[i],D="hide"in K.props?K.props.hide:(ee=K.type.defaultProps)===null||ee===void 0?void 0:ee.hide;return Z===O&&(_||!D)}),x,o,f);$&&(C=$)}p&&(g==="number"||k!=="auto")&&(z=vc(A,x,"category"))}else p?C=eh(0,M):s&&s[O]&&s[O].hasStack&&g==="number"?C=h==="expand"?[0,1]:Y_(s[O].stackGroups,l,u):C=V_(A,a.filter(function(K){var L=i in K.props?K.props[i]:K.type.defaultProps[i],ee="hide"in K.props?K.props.hide:K.type.defaultProps.hide;return L===O&&(_||!ee)}),g,f,!0);if(g==="number")C=qm(d,C,O,o,N),P&&(C=hm(P,C,j));else if(g==="category"&&P){var U=P,te=C.every(function(K){return U.indexOf(K)>=0});te&&(C=U)}}return J(J({},y),{},$e({},O,J(J({},m),{},{axisType:o,domain:C,categoricalDomain:z,duplicateDomain:R,originalDomain:(b=m.domain)!==null&&b!==void 0?b:T,isCategorical:p,layout:f})))},{})},bQ=function(t,r){var n=r.graphicalItems,a=r.Axis,o=r.axisType,i=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,f=t.layout,d=t.children,h=b0(t.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:u}),p=h.length,y=X_(f,o),v=-1;return n.reduce(function(b,m){var g=m.type.defaultProps!==void 0?J(J({},m.type.defaultProps),m.props):m.props,x=g[i],j=cP("number");if(!b[x]){v++;var w;return y?w=eh(0,p):s&&s[x]&&s[x].hasStack?(w=Y_(s[x].stackGroups,l,u),w=qm(d,w,x,o)):(w=hm(j,V_(h,n.filter(function(k){var N,_,O=i in k.props?k.props[i]:(N=k.type.defaultProps)===null||N===void 0?void 0:N[i],A="hide"in k.props?k.props.hide:(_=k.type.defaultProps)===null||_===void 0?void 0:_.hide;return O===x&&!A}),"number",f),a.defaultProps.allowDataOverflow),w=qm(d,w,x,o)),J(J({},b),{},$e({},x,J(J({axisType:o},a.defaultProps),{},{hide:!0,orientation:ya(gQ,"".concat(o,".").concat(v%2),null),domain:w,originalDomain:j,isCategorical:y,layout:f})))}return b},{})},wQ=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,o=r.AxisComp,i=r.graphicalItems,s=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,f=t.children,d="".concat(a,"Id"),h=Fn(f,o),p={};return h&&h.length?p=xQ(t,{axes:h,graphicalItems:i,axisType:a,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):i&&i.length&&(p=bQ(t,{Axis:o,graphicalItems:i,axisType:a,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),p},kQ=function(t){var r=Ro(t),n=co(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:vv(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Gd(r,n)}},ok=function(t){var r=t.children,n=t.defaultShowTooltip,a=qn(r,rl),o=0,i=0;return t.data&&t.data.length!==0&&(i=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(o=a.props.startIndex),a.props.endIndex>=0&&(i=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:i,activeTooltipIndex:-1,isTooltipActive:!!n}},jQ=function(t){return!t||!t.length?!1:t.some(function(r){var n=fo(r&&r.type);return n&&n.indexOf("Bar")>=0})},ik=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},SQ=function(t,r){var n=t.props,a=t.graphicalItems,o=t.xAxisMap,i=o===void 0?{}:o,s=t.yAxisMap,l=s===void 0?{}:s,u=n.width,f=n.height,d=n.children,h=n.margin||{},p=qn(d,rl),y=qn(d,Ha),v=Object.keys(l).reduce(function(w,k){var N=l[k],_=N.orientation;return!N.mirror&&!N.hide?J(J({},w),{},$e({},_,w[_]+N.width)):w},{left:h.left||0,right:h.right||0}),b=Object.keys(i).reduce(function(w,k){var N=i[k],_=N.orientation;return!N.mirror&&!N.hide?J(J({},w),{},$e({},_,ya(w,"".concat(_))+N.height)):w},{top:h.top||0,bottom:h.bottom||0}),m=J(J({},b),v),g=m.bottom;p&&(m.bottom+=p.props.height||rl.defaultProps.height),y&&r&&(m=aW(m,a,n,r));var x=u-m.left-m.right,j=f-m.top-m.bottom;return J(J({brushBottom:g},m),{},{width:Math.max(x,0),height:Math.max(j,0)})},NQ=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},rx=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,o=a===void 0?"axis":a,i=t.validateTooltipEventTypes,s=i===void 0?["axis"]:i,l=t.axisComponents,u=t.legendContent,f=t.formatAxisMap,d=t.defaultProps,h=function(m,g){var x=g.graphicalItems,j=g.stackGroups,w=g.offset,k=g.updateId,N=g.dataStartIndex,_=g.dataEndIndex,O=m.barSize,A=m.layout,M=m.barGap,C=m.barCategoryGap,R=m.maxBarSize,z=ik(A),T=z.numericAxisName,G=z.cateAxisName,P=jQ(x),E=[];return x.forEach(function($,U){var te=b0(m.data,{graphicalItems:[$],dataStartIndex:N,dataEndIndex:_}),K=$.type.defaultProps!==void 0?J(J({},$.type.defaultProps),$.props):$.props,L=K.dataKey,ee=K.maxBarSize,Z=K["".concat(T,"Id")],D=K["".concat(G,"Id")],ae={},ce=l.reduce(function(He,kt){var Ct=g["".concat(kt.axisType,"Map")],Wt=K["".concat(kt.axisType,"Id")];Ct&&Ct[Wt]||kt.axisType==="zAxis"||Xi();var Nr=Ct[Wt];return J(J({},He),{},$e($e({},kt.axisType,Nr),"".concat(kt.axisType,"Ticks"),co(Nr)))},ae),Y=ce[G],le=ce["".concat(G,"Ticks")],ge=j&&j[Z]&&j[Z].hasStack&&vW($,j[Z].stackGroups),H=fo($.type).indexOf("Bar")>=0,ie=Gd(Y,le),se=[],ke=P&&rW({barSize:O,stackGroups:j,totalSize:NQ(ce,G)});if(H){var Be,Re,wt=Ie(ee)?R:ee,Pt=(Be=(Re=Gd(Y,le,!0))!==null&&Re!==void 0?Re:wt)!==null&&Be!==void 0?Be:0;se=nW({barGap:M,barCategoryGap:C,bandSize:Pt!==ie?Pt:ie,sizeList:ke[D],maxBarSize:wt}),Pt!==ie&&(se=se.map(function(He){return J(J({},He),{},{position:J(J({},He.position),{},{offset:He.position.offset-Pt/2})})}))}var De=$&&$.type&&$.type.getComposedData;De&&E.push({props:J(J({},De(J(J({},ce),{},{displayedData:te,props:m,dataKey:L,item:$,bandSize:ie,barPosition:se,offset:w,stackedData:ge,layout:A,dataStartIndex:N,dataEndIndex:_}))),{},$e($e($e({key:$.key||"item-".concat(U)},T,ce[T]),G,ce[G]),"animationId",k)),childIndex:t$($,m.children),item:$})}),E},p=function(m,g){var x=m.props,j=m.dataStartIndex,w=m.dataEndIndex,k=m.updateId;if(!Ab({props:x}))return null;var N=x.children,_=x.layout,O=x.stackOffset,A=x.data,M=x.reverseStackOrder,C=ik(_),R=C.numericAxisName,z=C.cateAxisName,T=Fn(N,n),G=gW(A,T,"".concat(R,"Id"),"".concat(z,"Id"),O,M),P=l.reduce(function(K,L){var ee="".concat(L.axisType,"Map");return J(J({},K),{},$e({},ee,wQ(x,J(J({},L),{},{graphicalItems:T,stackGroups:L.axisType===R&&G,dataStartIndex:j,dataEndIndex:w}))))},{}),E=SQ(J(J({},P),{},{props:x,graphicalItems:T}),g==null?void 0:g.legendBBox);Object.keys(P).forEach(function(K){P[K]=f(x,P[K],E,K.replace("Map",""),r)});var $=P["".concat(z,"Map")],U=kQ($),te=h(x,J(J({},P),{},{dataStartIndex:j,dataEndIndex:w,updateId:k,graphicalItems:T,stackGroups:G,offset:E}));return J(J({formattedGraphicalItems:te,graphicalItems:T,offset:E,stackGroups:G},U),P)},y=function(b){function m(g){var x,j,w;return aQ(this,m),w=sQ(this,m,[g]),$e(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),$e(w,"accessibilityManager",new GZ),$e(w,"handleLegendBBoxUpdate",function(k){if(k){var N=w.state,_=N.dataStartIndex,O=N.dataEndIndex,A=N.updateId;w.setState(J({legendBBox:k},p({props:w.props,dataStartIndex:_,dataEndIndex:O,updateId:A},J(J({},w.state),{},{legendBBox:k}))))}}),$e(w,"handleReceiveSyncEvent",function(k,N,_){if(w.props.syncId===k){if(_===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(N)}}),$e(w,"handleBrushChange",function(k){var N=k.startIndex,_=k.endIndex;if(N!==w.state.dataStartIndex||_!==w.state.dataEndIndex){var O=w.state.updateId;w.setState(function(){return J({dataStartIndex:N,dataEndIndex:_},p({props:w.props,dataStartIndex:N,dataEndIndex:_,updateId:O},w.state))}),w.triggerSyncEvent({dataStartIndex:N,dataEndIndex:_})}}),$e(w,"handleMouseEnter",function(k){var N=w.getMouseInfo(k);if(N){var _=J(J({},N),{},{isTooltipActive:!0});w.setState(_),w.triggerSyncEvent(_);var O=w.props.onMouseEnter;Ge(O)&&O(_,k)}}),$e(w,"triggeredAfterMouseMove",function(k){var N=w.getMouseInfo(k),_=N?J(J({},N),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(_),w.triggerSyncEvent(_);var O=w.props.onMouseMove;Ge(O)&&O(_,k)}),$e(w,"handleItemMouseEnter",function(k){w.setState(function(){return{isTooltipActive:!0,activeItem:k,activePayload:k.tooltipPayload,activeCoordinate:k.tooltipPosition||{x:k.cx,y:k.cy}}})}),$e(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),$e(w,"handleMouseMove",function(k){k.persist(),w.throttleTriggeredAfterMouseMove(k)}),$e(w,"handleMouseLeave",function(k){w.throttleTriggeredAfterMouseMove.cancel();var N={isTooltipActive:!1};w.setState(N),w.triggerSyncEvent(N);var _=w.props.onMouseLeave;Ge(_)&&_(N,k)}),$e(w,"handleOuterEvent",function(k){var N=e$(k),_=ya(w.props,"".concat(N));if(N&&Ge(_)){var O,A;/.*touch.*/i.test(N)?A=w.getMouseInfo(k.changedTouches[0]):A=w.getMouseInfo(k),_((O=A)!==null&&O!==void 0?O:{},k)}}),$e(w,"handleClick",function(k){var N=w.getMouseInfo(k);if(N){var _=J(J({},N),{},{isTooltipActive:!0});w.setState(_),w.triggerSyncEvent(_);var O=w.props.onClick;Ge(O)&&O(_,k)}}),$e(w,"handleMouseDown",function(k){var N=w.props.onMouseDown;if(Ge(N)){var _=w.getMouseInfo(k);N(_,k)}}),$e(w,"handleMouseUp",function(k){var N=w.props.onMouseUp;if(Ge(N)){var _=w.getMouseInfo(k);N(_,k)}}),$e(w,"handleTouchMove",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(k.changedTouches[0])}),$e(w,"handleTouchStart",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&w.handleMouseDown(k.changedTouches[0])}),$e(w,"handleTouchEnd",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&w.handleMouseUp(k.changedTouches[0])}),$e(w,"handleDoubleClick",function(k){var N=w.props.onDoubleClick;if(Ge(N)){var _=w.getMouseInfo(k);N(_,k)}}),$e(w,"handleContextMenu",function(k){var N=w.props.onContextMenu;if(Ge(N)){var _=w.getMouseInfo(k);N(_,k)}}),$e(w,"triggerSyncEvent",function(k){w.props.syncId!==void 0&&Sp.emit(Np,w.props.syncId,k,w.eventEmitterSymbol)}),$e(w,"applySyncEvent",function(k){var N=w.props,_=N.layout,O=N.syncMethod,A=w.state.updateId,M=k.dataStartIndex,C=k.dataEndIndex;if(k.dataStartIndex!==void 0||k.dataEndIndex!==void 0)w.setState(J({dataStartIndex:M,dataEndIndex:C},p({props:w.props,dataStartIndex:M,dataEndIndex:C,updateId:A},w.state)));else if(k.activeTooltipIndex!==void 0){var R=k.chartX,z=k.chartY,T=k.activeTooltipIndex,G=w.state,P=G.offset,E=G.tooltipTicks;if(!P)return;if(typeof O=="function")T=O(E,k);else if(O==="value"){T=-1;for(var $=0;$<E.length;$++)if(E[$].value===k.activeLabel){T=$;break}}var U=J(J({},P),{},{x:P.left,y:P.top}),te=Math.min(R,U.x+U.width),K=Math.min(z,U.y+U.height),L=E[T]&&E[T].value,ee=Jm(w.state,w.props.data,T),Z=E[T]?{x:_==="horizontal"?E[T].coordinate:te,y:_==="horizontal"?K:E[T].coordinate}:lP;w.setState(J(J({},k),{},{activeLabel:L,activeCoordinate:Z,activePayload:ee,activeTooltipIndex:T}))}else w.setState(k)}),$e(w,"renderCursor",function(k){var N,_=w.state,O=_.isTooltipActive,A=_.activeCoordinate,M=_.activePayload,C=_.offset,R=_.activeTooltipIndex,z=_.tooltipAxisBandSize,T=w.getTooltipEventType(),G=(N=k.props.active)!==null&&N!==void 0?N:O,P=w.props.layout,E=k.key||"_recharts-cursor";return I.createElement(ZZ,{key:E,activeCoordinate:A,activePayload:M,activeTooltipIndex:R,chartName:r,element:k,isActive:G,layout:P,offset:C,tooltipAxisBandSize:z,tooltipEventType:T})}),$e(w,"renderPolarAxis",function(k,N,_){var O=ya(k,"type.axisType"),A=ya(w.state,"".concat(O,"Map")),M=k.type.defaultProps,C=M!==void 0?J(J({},M),k.props):k.props,R=A&&A[C["".concat(O,"Id")]];return S.cloneElement(k,J(J({},R),{},{className:ot(O,R.className),key:k.key||"".concat(N,"-").concat(_),ticks:co(R,!0)}))}),$e(w,"renderPolarGrid",function(k){var N=k.props,_=N.radialLines,O=N.polarAngles,A=N.polarRadius,M=w.state,C=M.radiusAxisMap,R=M.angleAxisMap,z=Ro(C),T=Ro(R),G=T.cx,P=T.cy,E=T.innerRadius,$=T.outerRadius;return S.cloneElement(k,{polarAngles:Array.isArray(O)?O:co(T,!0).map(function(U){return U.coordinate}),polarRadius:Array.isArray(A)?A:co(z,!0).map(function(U){return U.coordinate}),cx:G,cy:P,innerRadius:E,outerRadius:$,key:k.key||"polar-grid",radialLines:_})}),$e(w,"renderLegend",function(){var k=w.state.formattedGraphicalItems,N=w.props,_=N.children,O=N.width,A=N.height,M=w.props.margin||{},C=O-(M.left||0)-(M.right||0),R=G_({children:_,formattedGraphicalItems:k,legendWidth:C,legendContent:u});if(!R)return null;var z=R.item,T=rk(R,QZ);return S.cloneElement(z,J(J({},T),{},{chartWidth:O,chartHeight:A,margin:M,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),$e(w,"renderTooltip",function(){var k,N=w.props,_=N.children,O=N.accessibilityLayer,A=qn(_,Hr);if(!A)return null;var M=w.state,C=M.isTooltipActive,R=M.activeCoordinate,z=M.activePayload,T=M.activeLabel,G=M.offset,P=(k=A.props.active)!==null&&k!==void 0?k:C;return S.cloneElement(A,{viewBox:J(J({},G),{},{x:G.left,y:G.top}),active:P,label:T,payload:P?z:[],coordinate:R,accessibilityLayer:O})}),$e(w,"renderBrush",function(k){var N=w.props,_=N.margin,O=N.data,A=w.state,M=A.offset,C=A.dataStartIndex,R=A.dataEndIndex,z=A.updateId;return S.cloneElement(k,{key:k.key||"_recharts-brush",onChange:jf(w.handleBrushChange,k.props.onChange),data:O,x:he(k.props.x)?k.props.x:M.left,y:he(k.props.y)?k.props.y:M.top+M.height+M.brushBottom-(_.bottom||0),width:he(k.props.width)?k.props.width:M.width,startIndex:C,endIndex:R,updateId:"brush-".concat(z)})}),$e(w,"renderReferenceElement",function(k,N,_){if(!k)return null;var O=w,A=O.clipPathId,M=w.state,C=M.xAxisMap,R=M.yAxisMap,z=M.offset,T=k.type.defaultProps||{},G=k.props,P=G.xAxisId,E=P===void 0?T.xAxisId:P,$=G.yAxisId,U=$===void 0?T.yAxisId:$;return S.cloneElement(k,{key:k.key||"".concat(N,"-").concat(_),xAxis:C[E],yAxis:R[U],viewBox:{x:z.left,y:z.top,width:z.width,height:z.height},clipPathId:A})}),$e(w,"renderActivePoints",function(k){var N=k.item,_=k.activePoint,O=k.basePoint,A=k.childIndex,M=k.isRange,C=[],R=N.props.key,z=N.item.type.defaultProps!==void 0?J(J({},N.item.type.defaultProps),N.item.props):N.item.props,T=z.activeDot,G=z.dataKey,P=J(J({index:A,dataKey:G,cx:_.x,cy:_.y,r:4,fill:Hv(N.item),strokeWidth:2,stroke:"#fff",payload:_.payload,value:_.value},Ue(T,!1)),gd(T));return C.push(m.renderActiveDot(T,P,"".concat(R,"-activePoint-").concat(A))),O?C.push(m.renderActiveDot(T,J(J({},P),{},{cx:O.x,cy:O.y}),"".concat(R,"-basePoint-").concat(A))):M&&C.push(null),C}),$e(w,"renderGraphicChild",function(k,N,_){var O=w.filterFormatItem(k,N,_);if(!O)return null;var A=w.getTooltipEventType(),M=w.state,C=M.isTooltipActive,R=M.tooltipAxis,z=M.activeTooltipIndex,T=M.activeLabel,G=w.props.children,P=qn(G,Hr),E=O.props,$=E.points,U=E.isRange,te=E.baseLine,K=O.item.type.defaultProps!==void 0?J(J({},O.item.type.defaultProps),O.item.props):O.item.props,L=K.activeDot,ee=K.hide,Z=K.activeBar,D=K.activeShape,ae=!!(!ee&&C&&P&&(L||Z||D)),ce={};A!=="axis"&&P&&P.props.trigger==="click"?ce={onClick:jf(w.handleItemMouseEnter,k.props.onClick)}:A!=="axis"&&(ce={onMouseLeave:jf(w.handleItemMouseLeave,k.props.onMouseLeave),onMouseEnter:jf(w.handleItemMouseEnter,k.props.onMouseEnter)});var Y=S.cloneElement(k,J(J({},O.props),ce));function le(kt){return typeof R.dataKey=="function"?R.dataKey(kt.payload):null}if(ae)if(z>=0){var ge,H;if(R.dataKey&&!R.allowDuplicatedCategory){var ie=typeof R.dataKey=="function"?le:"payload.".concat(R.dataKey.toString());ge=pd($,ie,T),H=U&&te&&pd(te,ie,T)}else ge=$==null?void 0:$[z],H=U&&te&&te[z];if(D||Z){var se=k.props.activeIndex!==void 0?k.props.activeIndex:z;return[S.cloneElement(k,J(J(J({},O.props),ce),{},{activeIndex:se})),null,null]}if(!Ie(ge))return[Y].concat(gl(w.renderActivePoints({item:O,activePoint:ge,basePoint:H,childIndex:z,isRange:U})))}else{var ke,Be=(ke=w.getItemByXY(w.state.activeCoordinate))!==null&&ke!==void 0?ke:{graphicalItem:Y},Re=Be.graphicalItem,wt=Re.item,Pt=wt===void 0?k:wt,De=Re.childIndex,He=J(J(J({},O.props),ce),{},{activeIndex:De});return[S.cloneElement(Pt,He),null,null]}return U?[Y,null,null]:[Y,null]}),$e(w,"renderCustomized",function(k,N,_){return S.cloneElement(k,J(J({key:"recharts-customized-".concat(_)},w.props),w.state))}),$e(w,"renderMap",{CartesianGrid:{handler:Pf,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:Pf},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:Pf},YAxis:{handler:Pf},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((x=g.id)!==null&&x!==void 0?x:Ji("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=HN(w.triggeredAfterMouseMove,(j=g.throttleDelay)!==null&&j!==void 0?j:1e3/60),w.state={},w}return uQ(m,b),iQ(m,[{key:"componentDidMount",value:function(){var x,j;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var x=this.props,j=x.children,w=x.data,k=x.height,N=x.layout,_=qn(j,Hr);if(_){var O=_.props.defaultIndex;if(!(typeof O!="number"||O<0||O>this.state.tooltipTicks.length-1)){var A=this.state.tooltipTicks[O]&&this.state.tooltipTicks[O].value,M=Jm(this.state,w,O,A),C=this.state.tooltipTicks[O].coordinate,R=(this.state.offset.top+k)/2,z=N==="horizontal",T=z?{x:C,y:R}:{y:C,x:R},G=this.state.formattedGraphicalItems.find(function(E){var $=E.item;return $.type.name==="Scatter"});G&&(T=J(J({},T),G.props.points[O].tooltipPosition),M=G.props.points[O].tooltipPayload);var P={activeTooltipIndex:O,isTooltipActive:!0,activeLabel:A,activePayload:M,activeCoordinate:T};this.setState(P),this.renderCursor(_),this.accessibilityManager.setIndex(O)}}}},{key:"getSnapshotBeforeUpdate",value:function(x,j){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==j.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==x.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==x.margin){var w,k;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0}})}return null}},{key:"componentDidUpdate",value:function(x){Pg([qn(x.children,Hr)],[qn(this.props.children,Hr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var x=qn(this.props.children,Hr);if(x&&typeof x.props.shared=="boolean"){var j=x.props.shared?"axis":"item";return s.indexOf(j)>=0?j:o}return o}},{key:"getMouseInfo",value:function(x){if(!this.container)return null;var j=this.container,w=j.getBoundingClientRect(),k=OF(w),N={chartX:Math.round(x.pageX-k.left),chartY:Math.round(x.pageY-k.top)},_=w.width/j.offsetWidth||1,O=this.inRange(N.chartX,N.chartY,_);if(!O)return null;var A=this.state,M=A.xAxisMap,C=A.yAxisMap,R=this.getTooltipEventType(),z=ak(this.state,this.props.data,this.props.layout,O);if(R!=="axis"&&M&&C){var T=Ro(M).scale,G=Ro(C).scale,P=T&&T.invert?T.invert(N.chartX):null,E=G&&G.invert?G.invert(N.chartY):null;return J(J({},N),{},{xValue:P,yValue:E},z)}return z?J(J({},N),z):null}},{key:"inRange",value:function(x,j){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,k=this.props.layout,N=x/w,_=j/w;if(k==="horizontal"||k==="vertical"){var O=this.state.offset,A=N>=O.left&&N<=O.left+O.width&&_>=O.top&&_<=O.top+O.height;return A?{x:N,y:_}:null}var M=this.state,C=M.angleAxisMap,R=M.radiusAxisMap;if(C&&R){var z=Ro(C);return Iw({x:N,y:_},z)}return null}},{key:"parseEventsOfWrapper",value:function(){var x=this.props.children,j=this.getTooltipEventType(),w=qn(x,Hr),k={};w&&j==="axis"&&(w.props.trigger==="click"?k={onClick:this.handleClick}:k={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var N=gd(this.props,this.handleOuterEvent);return J(J({},N),k)}},{key:"addListener",value:function(){Sp.on(Np,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Sp.removeListener(Np,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(x,j,w){for(var k=this.state.formattedGraphicalItems,N=0,_=k.length;N<_;N++){var O=k[N];if(O.item===x||O.props.key===x.key||j===fo(O.item.type)&&w===O.childIndex)return O}return null}},{key:"renderClipPath",value:function(){var x=this.clipPathId,j=this.state.offset,w=j.left,k=j.top,N=j.height,_=j.width;return I.createElement("defs",null,I.createElement("clipPath",{id:x},I.createElement("rect",{x:w,y:k,height:N,width:_})))}},{key:"getXScales",value:function(){var x=this.state.xAxisMap;return x?Object.entries(x).reduce(function(j,w){var k=tk(w,2),N=k[0],_=k[1];return J(J({},j),{},$e({},N,_.scale))},{}):null}},{key:"getYScales",value:function(){var x=this.state.yAxisMap;return x?Object.entries(x).reduce(function(j,w){var k=tk(w,2),N=k[0],_=k[1];return J(J({},j),{},$e({},N,_.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(x){var j;return(j=this.state.xAxisMap)===null||j===void 0||(j=j[x])===null||j===void 0?void 0:j.scale}},{key:"getYScaleByAxisId",value:function(x){var j;return(j=this.state.yAxisMap)===null||j===void 0||(j=j[x])===null||j===void 0?void 0:j.scale}},{key:"getItemByXY",value:function(x){var j=this.state,w=j.formattedGraphicalItems,k=j.activeItem;if(w&&w.length)for(var N=0,_=w.length;N<_;N++){var O=w[N],A=O.props,M=O.item,C=M.type.defaultProps!==void 0?J(J({},M.type.defaultProps),M.props):M.props,R=fo(M.type);if(R==="Bar"){var z=(A.data||[]).find(function(E){return hV(x,E)});if(z)return{graphicalItem:O,payload:z}}else if(R==="RadialBar"){var T=(A.data||[]).find(function(E){return Iw(x,E)});if(T)return{graphicalItem:O,payload:T}}else if(p0(O,k)||g0(O,k)||mu(O,k)){var G=gX({graphicalItem:O,activeTooltipItem:k,itemData:C.data}),P=C.activeIndex===void 0?G:C.activeIndex;return{graphicalItem:J(J({},O),{},{childIndex:P}),payload:mu(O,k)?C.data[G]:O.props.data[G]}}}return null}},{key:"render",value:function(){var x=this;if(!Ab(this))return null;var j=this.props,w=j.children,k=j.className,N=j.width,_=j.height,O=j.style,A=j.compact,M=j.title,C=j.desc,R=rk(j,JZ),z=Ue(R,!1);if(A)return I.createElement(T2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},I.createElement(Mg,_s({},z,{width:N,height:_,title:M,desc:C}),this.renderClipPath(),Cb(w,this.renderMap)));if(this.props.accessibilityLayer){var T,G;z.tabIndex=(T=this.props.tabIndex)!==null&&T!==void 0?T:0,z.role=(G=this.props.role)!==null&&G!==void 0?G:"application",z.onKeyDown=function(E){x.accessibilityManager.keyboardEvent(E)},z.onFocus=function(){x.accessibilityManager.focus()}}var P=this.parseEventsOfWrapper();return I.createElement(T2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},I.createElement("div",_s({className:ot("recharts-wrapper",k),style:J({position:"relative",cursor:"default",width:N,height:_},O)},P,{ref:function($){x.container=$}}),I.createElement(Mg,_s({},z,{width:N,height:_,title:M,desc:C,style:mQ}),this.renderClipPath(),Cb(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(S.Component);$e(y,"displayName",r),$e(y,"defaultProps",J({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),$e(y,"getDerivedStateFromProps",function(b,m){var g=b.dataKey,x=b.data,j=b.children,w=b.width,k=b.height,N=b.layout,_=b.stackOffset,O=b.margin,A=m.dataStartIndex,M=m.dataEndIndex;if(m.updateId===void 0){var C=ok(b);return J(J(J({},C),{},{updateId:0},p(J(J({props:b},C),{},{updateId:0}),m)),{},{prevDataKey:g,prevData:x,prevWidth:w,prevHeight:k,prevLayout:N,prevStackOffset:_,prevMargin:O,prevChildren:j})}if(g!==m.prevDataKey||x!==m.prevData||w!==m.prevWidth||k!==m.prevHeight||N!==m.prevLayout||_!==m.prevStackOffset||!Ts(O,m.prevMargin)){var R=ok(b),z={chartX:m.chartX,chartY:m.chartY,isTooltipActive:m.isTooltipActive},T=J(J({},ak(m,x,N)),{},{updateId:m.updateId+1}),G=J(J(J({},R),z),T);return J(J(J({},G),p(J({props:b},G),m)),{},{prevDataKey:g,prevData:x,prevWidth:w,prevHeight:k,prevLayout:N,prevStackOffset:_,prevMargin:O,prevChildren:j})}if(!Pg(j,m.prevChildren)){var P,E,$,U,te=qn(j,rl),K=te&&(P=(E=te.props)===null||E===void 0?void 0:E.startIndex)!==null&&P!==void 0?P:A,L=te&&($=(U=te.props)===null||U===void 0?void 0:U.endIndex)!==null&&$!==void 0?$:M,ee=K!==A||L!==M,Z=!Ie(x),D=Z&&!ee?m.updateId:m.updateId+1;return J(J({updateId:D},p(J(J({props:b},m),{},{updateId:D,dataStartIndex:K,dataEndIndex:L}),m)),{},{prevChildren:j,dataStartIndex:K,dataEndIndex:L})}return null}),$e(y,"renderActiveDot",function(b,m,g){var x;return S.isValidElement(b)?x=S.cloneElement(b,m):Ge(b)?x=b(m):x=I.createElement(h0,m),I.createElement(mt,{className:"recharts-active-dot",key:g},x)});var v=S.forwardRef(function(m,g){return I.createElement(y,_s({},m,{ref:g}))});return v.displayName=y.displayName,v},Rs=rx({chartName:"LineChart",GraphicalChild:jr,axisComponents:[{axisType:"xAxis",AxisComp:zn},{axisType:"yAxis",AxisComp:Un}],formatAxisMap:Xv}),_Q=rx({chartName:"ScatterChart",GraphicalChild:jn,defaultTooltipEventType:"item",validateTooltipEventTypes:["item"],axisComponents:[{axisType:"xAxis",AxisComp:zn},{axisType:"yAxis",AxisComp:Un},{axisType:"zAxis",AxisComp:x0}],formatAxisMap:Xv}),uP=rx({chartName:"AreaChart",GraphicalChild:ga,axisComponents:[{axisType:"xAxis",AxisComp:zn},{axisType:"yAxis",AxisComp:Un}],formatAxisMap:Xv});const OQ="modulepreload",PQ=function(e){return"/"+e},sk={},AQ=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),s=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));a=Promise.allSettled(r.map(l=>{if(l=PQ(l),l in sk)return;sk[l]=!0;const u=l.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${f}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":OQ,u||(d.as="script"),d.crossOrigin="",d.href=l,s&&d.setAttribute("nonce",s),document.head.appendChild(d),u)return new Promise((h,p)=>{d.addEventListener("load",h),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(i){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=i,window.dispatchEvent(s),!s.defaultPrevented)throw i}return a.then(i=>{for(const s of i||[])s.status==="rejected"&&o(s.reason);return t().catch(o)})};function fP(e){const[[t,r,n],[a,o,i],[s,l,u]]=e,f=t*(o*u-i*l)-r*(a*u-i*s)+n*(a*l-o*s);if(Math.abs(f)<1e-10)return null;const d=1/f;return[[(o*u-i*l)*d,(n*l-r*u)*d,(r*i-n*o)*d],[(i*s-a*u)*d,(t*u-n*s)*d,(n*a-t*i)*d],[(a*l-o*s)*d,(r*s-t*l)*d,(t*o-r*a)*d]]}function lk(e,t){const r=[[0,0,0],[0,0,0],[0,0,0]];for(let n=0;n<3;n++)for(let a=0;a<3;a++)for(let o=0;o<3;o++)r[n][a]+=e[n][o]*t[o][a];return r}class Yi{constructor(t){kn(this,"size");kn(this,"isPowerOfTwo");kn(this,"_real");kn(this,"_imag");kn(this,"_scratch",null);kn(this,"_rev",null);kn(this,"_m",0);kn(this,"_internalFFT",null);kn(this,"_chirpReal",null);kn(this,"_chirpImag",null);kn(this,"_bReal",null);kn(this,"_bImag",null);kn(this,"_hanning",null);kn(this,"_windowSumSq",0);this.size=t,this.isPowerOfTwo=(t&t-1)===0&&t>0,this._real=new Float32Array(t),this._imag=new Float32Array(t),this.isPowerOfTwo?this.initRadix2():this.initBluestein()}initRadix2(){const t=this.size,r=Math.log2(t);this._rev=new Uint32Array(t);for(let n=0;n<t;n++){let a=0,o=n;for(let i=0;i<r;i++)a=a<<1|o&1,o>>>=1;this._rev[n]=a}}initBluestein(){const t=this.size;this._m=Math.pow(2,Math.ceil(Math.log2(2*t-1))),this._internalFFT=new Yi(this._m),this._chirpReal=new Float32Array(t),this._chirpImag=new Float32Array(t);for(let a=0;a<t;a++){const o=-Math.PI*(a*a)/t;this._chirpReal[a]=Math.cos(o),this._chirpImag[a]=Math.sin(o)}const r=new Float32Array(this._m),n=new Float32Array(this._m);for(let a=0;a<t;a++)r[a]=this._chirpReal[a],n[a]=-this._chirpImag[a];for(let a=1;a<t;a++)r[this._m-a]=r[a],n[this._m-a]=n[a];this._internalFFT.transform(r,n),this._bReal=new Float32Array(this._internalFFT._real),this._bImag=new Float32Array(this._internalFFT._imag)}initHanning(){if(this._hanning)return;const t=this.size;this._hanning=new Float32Array(t);let r=0;for(let n=0;n<t;n++){const a=.5*(1-Math.cos(2*Math.PI*n/(t-1)));this._hanning[n]=a,r+=a*a}this._windowSumSq=r}transform(t,r){this.isPowerOfTwo?this.transformRadix2(t,r):this.transformBluestein(t,r)}transformRadix2(t,r){const n=this.size,a=this._rev,o=this._real,i=this._imag;if(t===o)for(let s=0;s<n;s++){const l=a[s];if(s<l){const u=o[s],f=i[s];o[s]=o[l],i[s]=i[l],o[l]=u,i[l]=f}}else for(let s=0;s<n;s++){const l=a[s];o[s]=t[l],i[s]=r?r[l]:0}for(let s=2;s<=n;s*=2){const l=s/2,u=-2*Math.PI/s,f=Math.cos(u),d=Math.sin(u);for(let h=0;h<n;h+=s){let p=1,y=0;for(let v=0;v<l;v++){const b=h+v,m=h+v+l,g=p*o[m]-y*i[m],x=p*i[m]+y*o[m],j=o[b],w=i[b];o[b]=j+g,i[b]=w+x,o[m]=j-g,i[m]=w-x;const k=p*f-y*d,N=p*d+y*f;p=k,y=N}}}}transformBluestein(t,r){const n=this.size,a=this._m,o=this._internalFFT,i=o._real,s=o._imag;i.fill(0),s.fill(0);for(let d=0;d<n;d++){const h=t[d],p=r?r[d]:0,y=this._chirpReal[d],v=this._chirpImag[d];i[d]=h*y-p*v,s[d]=h*v+p*y}o.transformRadix2(i,s);for(let d=0;d<a;d++){const h=o._real[d],p=o._imag[d],y=this._bReal[d],v=this._bImag[d];o._real[d]=h*y-p*v,o._imag[d]=h*v+p*y}const l=o._real,u=o._imag;for(let d=0;d<a;d++)u[d]=-u[d];o.transformRadix2(l,u);const f=1/a;for(let d=0;d<n;d++){const h=o._real[d]*f,p=-o._imag[d]*f,y=this._chirpReal[d],v=this._chirpImag[d];this._real[d]=h*y-p*v,this._imag[d]=h*v+p*y}}calculateSpectrum(t,r,n=!1){const a=this.size;let o=0;for(let f=0;f<a;f++)o+=t[f];const i=o/a;this._scratch||(this._scratch=new Float32Array(a));const s=this._scratch;if(n){this.initHanning();const f=this._hanning;for(let d=0;d<a;d++)s[d]=(t[d]-i)*f[d]}else for(let f=0;f<a;f++)s[f]=t[f]-i;this.transform(s);const l=r.length;let u=1/a;n&&this._windowSumSq>0&&(u=1/this._windowSumSq);for(let f=0;f<l;f++){const d=this._real[f],h=this._imag[f];r[f]+=(d*d+h*h)*u}}}function MQ(e,t,r,n=!1){const a=new Yi(t),o=new Yi(r),i=t*r,s=new Float32Array(i),l=new Float32Array(i);let u=null,f=null;if(n){u=new Float32Array(t);for(let v=0;v<t;v++)u[v]=.5*(1-Math.cos(2*Math.PI*v/(t-1)));f=new Float32Array(r);for(let v=0;v<r;v++)f[v]=.5*(1-Math.cos(2*Math.PI*v/(r-1)))}for(let v=0;v<r;v++){const b=v*t,m=a._real;let g=0;for(let j=0;j<t;j++)g+=e[b+j];const x=g/t;if(u)for(let j=0;j<t;j++)m[j]=(e[b+j]-x)*u[j];else for(let j=0;j<t;j++)m[j]=e[b+j]-x;a.transform(m);for(let j=0;j<t;j++)s[b+j]=a._real[j],l[b+j]=a._imag[j]}for(let v=0;v<t;v++){const b=o._real,m=o._imag;for(let g=0;g<r;g++){const x=g*t+v;let j=s[x],w=l[x];f&&(j*=f[g],w*=f[g]),b[g]=j,m[g]=w}o.transform(b,m);for(let g=0;g<r;g++){const x=g*t+v;s[x]=o._real[g],l[x]=o._imag[g]}}const d=new Float32Array(i);let h=1,p=t,y=r;if(n&&u&&f){p=0;for(let v=0;v<t;v++)p+=u[v]*u[v];y=0;for(let v=0;v<r;v++)y+=f[v]*f[v]}h=1/(p*y);for(let v=0;v<i;v++)d[v]=(s[v]*s[v]+l[v]*l[v])*h;return d}function CQ(e,t,r){const n=new Float32Array(e.length),a=Math.floor(t/2),o=Math.floor(r/2);for(let i=0;i<r;i++)for(let s=0;s<t;s++){const l=(s+a)%t,u=(i+o)%r,f=i*t+s,d=u*t+l;n[d]=e[f]}return n}function Uf(e,t,r){const a=e*t*2,o=8,i=o+a,s="Fake",l="NoiseCam",u="NoiseCam",f=O=>{const A=new Uint8Array(O.length+1);for(let M=0;M<O.length;M++)A[M]=O.charCodeAt(M);return A[O.length]=0,A},d=f(s),h=f(l),p=f(u),y=[{id:254,type:4,count:1,value:0},{id:256,type:4,count:1,value:e},{id:257,type:4,count:1,value:t},{id:258,type:3,count:1,value:16},{id:259,type:3,count:1,value:1},{id:262,type:3,count:1,value:32803},{id:271,type:2,count:d.length,value:d},{id:272,type:2,count:h.length,value:h},{id:273,type:4,count:1,value:o},{id:277,type:3,count:1,value:1},{id:278,type:4,count:1,value:t},{id:279,type:4,count:1,value:a},{id:33421,type:3,count:2,value:[2,2]},{id:33422,type:1,count:4,value:[0,1,1,2]},{id:50706,type:1,count:4,value:[1,4,0,0]},{id:50717,type:2,count:p.length,value:p}],v=2+y.length*12+4;let b=0;const m=y.map(O=>{let A=1;O.type===3&&(A=2),O.type===4&&(A=4);const M=O.count*A,C=M<=4;let R=0;return C||(R=b,b+=M,b%2!==0&&b++),{...O,fits:C,totalBytes:M,extraOffset:R}}),g=i+v,x=g+b,j=new ArrayBuffer(x),w=new DataView(j),k=new Uint8Array(j);w.setUint16(0,18761,!0),w.setUint16(2,42,!0),w.setUint32(4,i,!0);const N=new Uint8Array(r.buffer,r.byteOffset,r.byteLength);k.set(N,o);let _=i;return w.setUint16(_,y.length,!0),_+=2,m.forEach(O=>{if(w.setUint16(_,O.id,!0),w.setUint16(_+2,O.type,!0),w.setUint32(_+4,O.count,!0),O.fits){const A=_+8;Array.isArray(O.value)?O.value.forEach((M,C)=>{O.type===1&&w.setUint8(A+C,M),O.type===3&&w.setUint16(A+C*2,M,!0)}):O.value instanceof Uint8Array||(O.type===3&&w.setUint16(A,O.value,!0),O.type===4&&w.setUint32(A,O.value,!0))}else{const A=g+O.extraOffset;w.setUint32(_+8,A,!0);const M=A;O.value instanceof Uint8Array?k.set(O.value,M):Array.isArray(O.value)&&O.value.forEach((C,R)=>{O.type===1&&w.setUint8(M+R,C),O.type===3&&w.setUint16(M+R*2,C,!0)})}_+=12}),w.setUint32(_,0,!0),j}let Op=null;async function Iu(){if(!Op)try{const n=(await AQ(()=>import("./joraw-NNL7gE3Z.js"),[])).default;if(typeof n!="function")throw new Error("JoRaw WASM import failed");const a=new URL("/assets/joraw-BUh50ws_.wasm",import.meta.url).href;Op=n({locateFile:(o,i)=>o.endsWith("joraw.wasm")?a:i+o})}catch(r){throw console.error("Failed to load joraw.js:",r),r}const e=await Op,t=e.LibRaw||e.JoRaw;if(!t)throw new Error("JoRaw class not found");return t}const EQ=[[3.2404542,-1.5371385,-.4985314],[-.969266,1.8760108,.041556],[.0556434,-.2040259,1.0572252]],jc=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055;async function Af(e,t=0,r=0){const n=await Iu(),a=new n;try{await a.open(new Uint8Array(e));const o=a.getRawImage(),i=new Uint16Array(o.data),s=o.width,l=o.height,u=Math.floor((s-t)/6)*2,f=Math.floor((l-r)/6)*2;if(u<=0||f<=0)throw new Error("Image too small for X-Trans subsampling with current phase.");const d=new Uint16Array(u*f);for(let p=0;p<f/2;p++){const y=p*6+r;if(y+3>=l)break;const v=y*s,b=(y+3)*s,m=p*2,g=m*u,x=(m+1)*u;for(let j=0;j<u/2;j++){const w=j*6+t;if(w+1>=s)break;const k=j*2;d[g+k]=i[v+w+1],d[g+k+1]=i[v+w+0],d[x+k]=i[b+w+0],d[x+k+1]=i[b+w+1]}}return{dngBuffer:Uf(u,f,d),width:u,height:f}}finally{a.delete?a.delete():a.close()}}async function TQ(e){const t=await createImageBitmap(e),r=t.width,n=t.height,a=document.createElement("canvas");a.width=r,a.height=n;const o=a.getContext("2d");if(!o)throw new Error("Failed to create canvas context");o.drawImage(t,0,0);const s=o.getImageData(0,0,r,n).data,l=r*n,u=new Uint16Array(l);for(let d=0;d<n;d++)for(let h=0;h<r;h++){const p=(d*r+h)*4,y=d*r+h,v=d%2===0,b=h%2===0;let m=0;v&&b?m=s[p]:!v&&!b?m=s[p+2]:m=s[p+1],u[y]=m*64}return{previewBlob:await new Promise(d=>a.toBlob(d,"image/png"))||e,analysisData:{data:u,width:r,height:n,bayerPattern:"RGGB",blackLevels:[0,0,0,0],whiteLevel:16320,metadata:{description:"Standard image (non-RAW)"},isThreePlane:!0}}}const $Q=async e=>{const t=await Iu(),r=new t;try{await r.open(e,{useCameraWb:!0,outputBps:8,noAutoBright:!0,userQual:3,outputColor:1});const n=await r.imageData();return new Promise((a,o)=>{const i=document.createElement("canvas");i.width=n.width,i.height=n.height;const s=i.getContext("2d");if(!s){o(new Error("Could not create canvas context"));return}const l=s.createImageData(n.width,n.height),u=n.data,f=n.width*n.height;for(let d=0;d<f;d++){const h=d*3,p=d*4;l.data[p]=u[h],l.data[p+1]=u[h+1],l.data[p+2]=u[h+2],l.data[p+3]=255}s.putImageData(l,0,0),i.toBlob(d=>{d?a(d):o(new Error("Canvas to Blob failed"))},"image/jpeg",.85)})}finally{r.delete?r.delete():r.close()}},yh=async e=>{var n,a,o,i,s,l,u,f,d;const t=await Iu(),r=new t;try{if(await r.open(e,{}),typeof r.getRawImage!="function")throw new Error("WASM mismatch");const h=r.getRawImage();let p=new Uint16Array(h.data);const y=await r.metadata(!0),v=((n=y.idata)==null?void 0:n.filters)||0,b=((a=y.idata)==null?void 0:a.colors)||0,m=v===0&&b===3,g=v===9;let x=[];if((o=y.color_data)!=null&&o.cblack_rawpy_style)x=y.color_data.cblack_rawpy_style;else if((s=(i=y.color_data)==null?void 0:i.dng_levels)!=null&&s.dng_cblack)x=y.color_data.dng_levels.dng_cblack;else if(((l=y.black_level_per_channel)==null?void 0:l.length)>=4)x=y.black_level_per_channel;else if(((u=y.cblack)==null?void 0:u.length)>=4)x=y.cblack;else if(((d=(f=y.color)==null?void 0:f.cblack)==null?void 0:d.length)>=4)x=y.color.cblack;else{const w=y.black_level||y.color_data&&y.color_data.black||0;x=[w,w,w,w]}const j=[Number(x[0])||0,Number(x[1])||0,Number(x[2])||0,Number(x[3])||0];return{data:p,width:h.width,height:h.height,bayerPattern:y.color_desc||"RGGB",blackLevels:j,whiteLevel:y.white_level||16383,metadata:y,isThreePlane:m,isXTrans:g}}finally{r.delete?r.delete():r.close()}};async function vi(e){const t=new Uint8Array(e.slice(0)),r=new Uint8Array(e.slice(0)),[n,a]=await Promise.all([$Q(t),yh(r)]);return{previewBlob:n,analysisData:a}}async function vh(e){const t=new Uint8Array(e.slice(0));return yh(t)}const ck=e=>(e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,e++,e);async function Pp(e,t,r,n=!0){const a=await yh(new Uint8Array(e)),o=await yh(new Uint8Array(t));if(a.width!==o.width||a.height!==o.height)throw new Error("Dimension Mismatch");const i=a.width,s=a.height,l=r?ck(i):i,u=r?ck(s):s,f=l*u,d=new Uint16Array(f),h=6e4,p=1.41421356;for(let y=0;y<s;y++){const v=y*i,b=y*l;for(let m=0;m<i;m++){const g=a.data[v+m],x=o.data[v+m];let j=g-x;n&&(j/=p);let w=j+h;w=Math.max(0,Math.min(65535,w)),d[b+m]=Math.round(w)}}return{rawData:d,width:l,height:u,metadata:a.metadata}}function xi(e,t,r,n,a,o,i){const s=Math.max(0,Math.floor(n)),l=Math.max(0,Math.floor(a)),u=Math.min(t,Math.ceil(n+o)),f=Math.min(r,Math.ceil(a+i)),d=[0,0,0,0],h=[0,0,0,0],p=[0,0,0,0];for(let b=l;b<f;b++){const m=b*t,g=b%2;for(let x=s;x<u;x++){const j=x%2,w=e[m+x],k=g*2+j;d[k]+=w,h[k]+=w*w,p[k]++}}const y=[0,0,0,0],v=[0,0,0,0];for(let b=0;b<4;b++)if(p[b]>0){const m=d[b]/p[b];y[b]=m;const x=h[b]/p[b]-m*m;v[b]=Math.sqrt(Math.max(0,x))}return{x:s,y:l,width:u-s,height:f-l,means:y,stdDevs:v,pixelCount:p.reduce((b,m)=>b+m,0)}}function uk(e,t,r,n,a,o,i=0,s=0){const l=Math.max(0,Math.floor(n.x)),u=Math.max(0,Math.floor(n.y)),f=Math.min(t,Math.ceil(n.x+n.w)),d=Math.min(r,Math.ceil(n.y+n.h)),h=a>>1,p=a&1,y=(o>>1)+i,v=(o&1)+s;let b=0,m=0,g=0;for(let _=u;_<d-2;_+=2)for(let O=l;O<f-2;O+=2){const A=(_+h)*t+(O+p),M=(_+y)*t+(O+v);_+y>=r||O+v>=t||(b+=e[A],m+=e[M],g++)}if(g<2)return{sumCov:0,sumVar1:0,sumVar2:0,n:0};const x=b/g,j=m/g;let w=0,k=0,N=0;for(let _=u;_<d-2;_+=2)for(let O=l;O<f-2;O+=2){const A=(_+h)*t+(O+p),M=(_+y)*t+(O+v);if(_+y>=r||O+v>=t)continue;const C=e[A],R=e[M],z=C-x,T=R-j;w+=z*T,k+=z*z,N+=T*T}return{sumCov:w,sumVar1:k,sumVar2:N,n:g}}function DQ(e){if(e.n<2)return 0;const t=Math.sqrt(e.sumVar1*e.sumVar2);return t===0?0:e.sumCov/t}function RQ(e,t,r,n,a,o,i,s,l,u,f){if(u<=l)return[];const d=Math.max(0,Math.floor(n)),h=Math.max(0,Math.floor(a)),p=Math.min(t,Math.ceil(n+o)),y=Math.min(r,Math.ceil(a+i)),v=u-l,b=f?Math.floor(v)+1:s,m=v/b,g=[new Uint32Array(b),new Uint32Array(b),new Uint32Array(b),new Uint32Array(b)];for(let j=h;j<y;j++){const w=j*t,k=j%2;for(let N=d;N<p;N++){const _=N%2,O=e[w+N];if(O<l||O>u)continue;const A=k*2+_;let M;f?M=Math.floor(O-l):M=Math.floor((O-l)/m),M<0&&(M=0),M>=b&&(M=b-1),g[A][M]++}}const x=[];for(let j=0;j<b;j++){const w=l+(f?j:j*m);x.push({binStart:w,c0:g[0][j],c1:g[1][j],c2:g[2][j],c3:g[3][j]})}return x}function LQ(e,t,r,n,a,o=!1,i=!1,s={rows:!1,rowGroup:0,cols:!1,colGroup:0},l=!0,u=1){const f=Math.max(0,Math.floor(n.x)),d=Math.max(0,Math.floor(n.y)),h=Math.min(t,Math.ceil(n.x+n.w)),p=Math.min(r,Math.ceil(n.y+n.h)),y=h-f,v=p-d;if(y<=1||v<=1)return null;let b=0;for(let M=f;M<h;M++)M%2===(a&1)&&b++;let m=0;for(let M=d;M<p;M++)M%2===a>>1&&m++;if(b<4||m<4)return null;const g=Math.max(1,u),x=Math.floor(2*b/(g+1)),j=Math.floor(2*m/(g+1));if(x<4||j<4)return null;const w=new Yi(x),k=new Yi(j),N=new Float32Array(Math.floor(x/2)+1),_=new Float32Array(Math.floor(j/2)+1);let O=0,A=0;for(let M=d;M<p;M++){const C=M%2;if(a>>1!==C||s.rows&&(M>>1&1)!==s.rowGroup)continue;const R=M*t,z=new Float32Array(b);let T=0;for(let G=f;G<h;G++)G%2===(a&1)&&T<b&&(z[T++]=e[R+G]);for(let G=0;G<g;G++){const P=Math.floor(G*x/2);if(P+x>b)break;const E=z.slice(P,P+x);w.calculateSpectrum(E,N,i),O++}if(!l)break}for(let M=f;M<h;M++){const C=M%2;if((a&1)!==C||s.cols&&(M>>1&1)!==s.rowGroup)continue;const R=new Float32Array(m);let z=0;for(let T=d;T<p;T++)T%2===a>>1&&z<m&&(R[z++]=e[T*t+M]);for(let T=0;T<g;T++){const G=Math.floor(T*j/2);if(G+j>m)break;const P=R.slice(G,G+j);k.calculateSpectrum(P,_,i),A++}if(!l)break}if(O>0)for(let M=0;M<N.length;M++)N[M]/=O;if(A>0)for(let M=0;M<_.length;M++)_[M]/=A;return{avgHoriz:Array.from(N),avgVert:Array.from(_),sampleCount:{h:O,v:A}}}function IQ(e,t,r,n,a,o=!1){const i=Math.max(0,Math.floor(n.x)),s=Math.max(0,Math.floor(n.y)),l=Math.min(t,Math.ceil(n.x+n.w)),u=Math.min(r,Math.ceil(n.y+n.h));let f=-1;for(let g=s;g<u;g++)if(g%2===a>>1){f=g;break}if(f===-1)return null;let d=-1;for(let g=i;g<l;g++)if(g%2===(a&1)){d=g;break}if(d===-1)return null;const h=[];for(let g=f;g<u;g+=2){const x=g*t,j=[];for(let w=d;w<l;w+=2)j.push(e[x+w]);h.push(j)}const p=h.length;if(p===0)return null;const y=h[0].length;if(y===0)return null;const v=new Float32Array(y*p);for(let g=0;g<p;g++){const x=h[g];for(let j=0;j<y;j++)v[g*y+j]=x[j]}const b=MQ(v,y,p,o),m=CQ(b,y,p);return{width:y,height:p,data:m}}function BQ(e,t,r,n,a,o,i){const{x:s,y:l,w:u,h:f}=n,d=[],h=Math.max(0,Math.floor(s)),p=Math.max(0,Math.floor(l)),y=Math.min(t,Math.ceil(s+u)),v=Math.min(r,Math.ceil(l+f)),b=a>>1,m=a&1;for(let k=p;k<v;k++){if(k%2!==b)continue;const N=k*t;for(let _=h;_<y;_++){if(_%2!==m)continue;const O=e[N+_];O>=o&&O<=i&&d.push(O-o)}}if(d.length===0)return null;d.sort((k,N)=>k-N);const g=[d[0]];for(let k=1;k<d.length;k++)d[k]!==d[k-1]&&g.push(d[k]);const x=[],j=[],w={};for(let k=0;k<g.length-1;k++){const N=g[k],O=g[k+1]-N;x.push(O),j.push({x:N,y:O}),w[O]=(w[O]||0)+1}return{uniqueCount:g.length,diffCount:x.length,stepCounts:w,plotData:j}}function FQ(e,t,r){if(!r.advancedZeroDep)throw new Error("Unmixing settings not found in DisplaySettings.");const{bl:n,bg:a,fg:o}=r.advancedZeroDep,{data:i,width:s,whiteLevel:l}=e,u=a.map((x,j)=>Math.max(0,x-n[j])),f=o.map((x,j)=>Math.max(0,x-n[j])),d=(u[1]+u[3])/2,h=(f[1]+f[3])/2,p=Math.floor(t.x),y=Math.floor(t.y),v=Math.floor(t.w),b=Math.floor(t.h),m=Math.pow(2,r.exposure),g=new Uint16Array(v*b);for(let x=0;x<b;x++){const j=y+x;if(j<0||j>=e.height)continue;const w=j%2,k=j*s,N=x*v;for(let _=0;_<v;_++){const O=p+_;if(O<0||O>=s)continue;const A=O%2;let M=0;!w&&!A?M=0:!w&&A?M=1:w&&!A?M=3:M=2;const C=i[k+O],R=n[M],z=u[M],T=f[M],G=Math.max(C-R,0),P=T-z||1e-9,E=(G-z)/P;let $;E<0?$=G*(d/Math.max(z,1e-9)):E>1?$=G*(h/Math.max(T,1e-9)):$=(1-E)*d+E*h,$*=m;const U=Math.max(0,Math.min(1,$/l));g[N+_]=Math.round(U*65535)}}return{data:g,width:v,height:b}}async function fk(e,t){const r=await Iu(),n=new r;try{const a=new Uint8Array(e.slice(0));let o=!1,i=[];if(t.customMatrix&&t.customMatrix.length===9){const h=[[t.customMatrix[0],t.customMatrix[1],t.customMatrix[2]],[t.customMatrix[3],t.customMatrix[4],t.customMatrix[5]],[t.customMatrix[6],t.customMatrix[7],t.customMatrix[8]]],p=fP(h);if(p){const y=t.wbGains?t.wbGains[0]:1,v=t.wbGains?t.wbGains[1]:1,m=lk(p,[[y,0,0],[0,1,0],[0,0,v]]),g=lk(EQ,m);i=[g[0][0],g[0][1],g[0][2],g[1][0],g[1][1],g[1][2],g[2][0],g[2][1],g[2][2]],o=!0}else throw new Error("Custom Matrix is not invertible.")}const s={outputBps:16,noAutoBright:!0,bright:o?1:Math.pow(2,t.exposure)};t.blackLevel&&t.blackLevel.length===4&&(s.userBlack=0,s.userCblack=t.blackLevel.map(h=>{const p=Math.round(h);return p===0?1:p})),t.demosaicMethod===-1?s.noInterpolation=!0:s.userQual=t.demosaicMethod,o?(s.outputColor=0,s.gamma=[1,1],s.userMul=[1,1,1,1],s.useCameraWb=!1):(s.outputColor=1,s.useCameraWb=!0),await n.open(a,s);const l=await n.imageData(),u=new ImageData(l.width,l.height),f=u.data,d=new Uint16Array(l.data.buffer,l.data.byteOffset,l.data.byteLength/2);if(o&&i.length===9){const h=i,y=Math.pow(2,t.exposure)*.25;for(let v=0;v<d.length;v+=3){const b=d[v]/65535,m=d[v+1]/65535,g=d[v+2]/65535;let x=h[0]*b+h[1]*m+h[2]*g,j=h[3]*b+h[4]*m+h[5]*g,w=h[6]*b+h[7]*m+h[8]*g;x*=y,j*=y,w*=y,x=Math.max(0,Math.min(1,x)),j=Math.max(0,Math.min(1,j)),w=Math.max(0,Math.min(1,w)),x=jc(x),j=jc(j),w=jc(w);const k=v/3*4;f[k]=Math.round(x*255),f[k+1]=Math.round(j*255),f[k+2]=Math.round(w*255),f[k+3]=255}}else for(let h=0;h<d.length;h+=3){const p=h/3*4;f[p]=d[h]>>8,f[p+1]=d[h+1]>>8,f[p+2]=d[h+2]>>8,f[p+3]=255}return u}finally{n.delete?n.delete():n.close()}}async function zQ(e,t,r=!1,n=!1){const a=await Iu(),o=new a;try{if(t.renderMode==="zero-dependency"||t.renderMode==="advanced-zero-dep"){await o.open(new Uint8Array(e));const i=await o.metadata(!0),s=(i==null?void 0:i.white_level)||16383,l=o.getRawImage(),{width:u,height:f,data:d}=l,h=new Uint16Array(u*f),p=Math.pow(2,t.exposure);if(t.renderMode==="advanced-zero-dep"&&t.advancedZeroDep){const{bl:y,bg:v,fg:b}=t.advancedZeroDep,m=v.map((w,k)=>Math.max(0,w-y[k])),g=b.map((w,k)=>Math.max(0,w-y[k])),x=(m[1]+m[3])/2,j=(g[1]+g[3])/2;for(let w=0;w<f;w++){const k=w%2;for(let N=0;N<u;N++){const _=N%2;let O=0;!k&&!_?O=0:!k&&_?O=1:k&&!_?O=3:O=2;const A=d[w*u+N],M=y[O],C=m[O],R=g[O],z=Math.max(A-M,0),T=R-C||1e-9,G=(z-C)/T;let P;G<0?P=z*(x/Math.max(C,1e-9)):G>1?P=z*(j/Math.max(R,1e-9)):P=(1-G)*x+G*j,P*=p;const E=Math.max(0,Math.min(1,P/s)),$=n?jc(E):E;h[w*u+N]=Math.round($*65535)}}}else{const y=t.blackLevel||[0,0,0,0],v=t.wbGains?t.wbGains[0]:1,b=t.wbGains?t.wbGains[1]:1;for(let m=0;m<f;m++){const g=m%2;for(let x=0;x<u;x++){const j=x%2,w=g*2+j,k=d[m*u+x],N=y[w];let _=k-N;w===0?_*=v:w===3&&(_*=b),_*=p;const O=Math.max(0,Math.min(1,_/(r?s-N:s))),A=n?jc(O):O;h[m*u+x]=Math.round(A*65535)}}}return{data:h,width:u,height:f,channels:1}}else{const i=new Uint8Array(e.slice(0)),s={outputBps:16,noAutoBright:!r,bright:1,outputColor:n?1:0,useCameraWb:!0};t.blackLevel&&t.blackLevel.length===4&&(s.userBlack=0,s.userCblack=t.blackLevel.map(d=>Math.max(1,Math.round(d)))),t.demosaicMethod===-1?s.noInterpolation=!0:s.userQual=t.demosaicMethod,await o.open(i,s);const l=await o.imageData(),u=new Uint16Array(l.data.buffer,l.data.byteOffset,l.data.byteLength/2),f=Math.pow(2,t.exposure);if(f!==1)for(let d=0;d<u.length;d++)u[d]=Math.max(0,Math.min(65535,Math.round(u[d]*f)));return{data:u,width:l.width,height:l.height,channels:3}}}finally{o.delete?o.delete():o.close()}}const UQ=({isOpen:e,onClose:t,onMinimize:r,rawImageData:n,roi:a,isBGGR:o,zIndex:i,onFocus:s,initialPosition:l,initialInternalState:u,onUpdateState:f})=>{const[d,h]=S.useState((u==null?void 0:u.channelMode)||"All"),[p,y]=S.useState((u==null?void 0:u.minVal)??0),[v,b]=S.useState((u==null?void 0:u.maxVal)??16383),[m,g]=S.useState((u==null?void 0:u.binCount)??100),[x,j]=S.useState((u==null?void 0:u.pointToPoint)??!1),[w,k]=S.useState((u==null?void 0:u.showTheo)??!1),[N,_]=S.useState((u==null?void 0:u.theoMean)??"512"),[O,A]=S.useState((u==null?void 0:u.theoSigma)??"10"),[M,C]=S.useState((u==null?void 0:u.theoAmp)??"1000"),[R,z]=S.useState(!1),[T,G]=S.useState([]),[P,E]=S.useState(null),[$,U]=S.useState(l||{x:100,y:100}),[te,K]=S.useState(!1),L=S.useRef({x:0,y:0});S.useEffect(()=>{f&&f({channelMode:d,minVal:p,maxVal:v,binCount:m,pointToPoint:x,showTheo:w,theoMean:N,theoSigma:O,theoAmp:M})},[d,p,v,m,x,w,N,O,M]),S.useEffect(()=>{if(!e||!n||!a)return;if(v<=p){E("Invalid range: Max must be greater than Min");return}E(null),z(!0);const H=setTimeout(()=>{try{const ie=RQ(n.data,n.width,n.height,a.x,a.y,a.w,a.h,m,p,v,x);G(ie)}catch(ie){console.error("Histogram calc error:",ie),E("Error calculating histogram")}finally{z(!1)}},50);return()=>clearTimeout(H)},[e,n,a==null?void 0:a.x,a==null?void 0:a.y,a==null?void 0:a.w,a==null?void 0:a.h,m,p,v,x]);const ee=S.useMemo(()=>{if(!w)return T;const H=parseFloat(N),ie=parseFloat(O),se=parseFloat(M);return isNaN(H)||isNaN(ie)||isNaN(se)||ie<=0?T:T.map(ke=>{const Be=ke.binStart,Re=-Math.pow(Be-H,2)/(2*Math.pow(ie,2)),wt=se*Math.exp(Re);return{...ke,theory:wt}})},[T,w,N,O,M]),Z=()=>{if(T.length===0)return;let H=0,ie=0;if(T.forEach(se=>{const ke=Math.max(se.c0||0,se.c1||0,se.c2||0,se.c3||0);ke>H&&(H=ke,ie=se.binStart)}),_(ie.toFixed(2)),C(H.toString()),parseFloat(O)===0||isNaN(parseFloat(O))){const se=v-p;A((se/20).toFixed(2))}},D=(H,ie,se)=>{s&&s(),!(se.closest("button")||se.closest("input")||se.closest("select"))&&(K(!0),L.current={x:H-$.x,y:ie-$.y})},ae=H=>{D(H.clientX,H.clientY,H.target)},ce=H=>{const ie=H.touches[0];D(ie.clientX,ie.clientY,H.target)};if(S.useEffect(()=>{const H=se=>{if(te){const ke="touches"in se?se.touches[0].clientX:se.clientX,Be="touches"in se?se.touches[0].clientY:se.clientY;U({x:ke-L.current.x,y:Be-L.current.y})}},ie=()=>K(!1);return te&&(window.addEventListener("mousemove",H),window.addEventListener("mouseup",ie),window.addEventListener("touchmove",H,{passive:!1}),window.addEventListener("touchend",ie)),()=>{window.removeEventListener("mousemove",H),window.removeEventListener("mouseup",ie),window.removeEventListener("touchmove",H),window.removeEventListener("touchend",ie)}},[te]),!e)return null;const Y=o?{c0:"Blue",c1:"Green 1",c2:"Green 2",c3:"Red"}:{c0:"Red",c1:"Green 1",c2:"Green 2",c3:"Blue"},le=o?{c0:"#3b82f6",c1:"#22c55e",c2:"#4ade80",c3:"#ef4444"}:{c0:"#ef4444",c1:"#22c55e",c2:"#4ade80",c3:"#3b82f6"},ge="step";return c.jsxs("div",{className:"fixed flex flex-col bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 shadow-2xl rounded-xl resize-both overflow-hidden min-w-[500px] min-h-[400px] w-[900px] h-[650px]",style:{left:$.x,top:$.y,zIndex:i??100},onMouseDownCapture:s,children:[c.jsxs("div",{className:`flex justify-between items-center p-4 border-b border-gray-200 dark:border-slate-700 flex-shrink-0 bg-white dark:bg-slate-900 select-none touch-none ${te?"cursor-grabbing":"cursor-grab"}`,onMouseDown:ae,onTouchStart:ce,children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-slate-100 pointer-events-none",children:"ROI Histogram"}),c.jsxs("div",{className:"flex items-center gap-1",children:[r&&c.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),c.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 dark:hover:text-red-400 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors",children:c.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),c.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-800/50 flex flex-wrap gap-x-6 gap-y-3 items-center border-b border-gray-200 dark:border-slate-700 text-xs flex-shrink-0 relative z-10",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-gray-500 dark:text-slate-400 font-bold uppercase tracking-tight",children:"Channel:"}),c.jsxs("select",{value:d,onChange:H=>h(H.target.value),className:"bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-gray-900 dark:text-slate-100 outline-none focus:ring-1 focus:ring-cyan-500",children:[c.jsx("option",{value:"All",children:"All Colors"}),c.jsx("option",{value:"0",children:Y.c0}),c.jsx("option",{value:"1",children:Y.c1}),c.jsx("option",{value:"2",children:Y.c2}),c.jsx("option",{value:"3",children:Y.c3})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-gray-500 dark:text-slate-400 font-bold uppercase tracking-tight",children:"Range:"}),c.jsx("input",{type:"number",value:p,onChange:H=>y(Number(H.target.value)),className:"w-16 px-1.5 py-1 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-gray-900 dark:text-slate-100 text-right font-mono"}),c.jsx("span",{className:"text-gray-400",children:"-"}),c.jsx("input",{type:"number",value:v,onChange:H=>b(Number(H.target.value)),className:"w-16 px-1.5 py-1 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-gray-900 dark:text-slate-100 text-right font-mono"})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:x,onChange:H=>j(H.target.checked),className:"w-3.5 h-3.5 text-cyan-600 rounded border-gray-300 focus:ring-cyan-500"}),c.jsx("span",{className:"text-gray-700 dark:text-slate-300 select-none font-semibold",children:"PTP"})]}),!x&&c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx("span",{className:"text-gray-500 dark:text-slate-400 font-bold",children:"Bins:"}),c.jsx("input",{type:"number",value:m,onChange:H=>g(Math.max(1,Number(H.target.value))),className:"w-12 px-1.5 py-1 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-gray-900 dark:text-slate-100 text-right font-mono"})]})]}),c.jsx("div",{className:"h-6 w-px bg-gray-200 dark:bg-slate-700"}),c.jsxs("div",{className:`flex items-center gap-3 p-1.5 rounded-lg border transition-all ${w?"bg-amber-50/30 dark:bg-amber-900/10 border-amber-200/50 dark:border-amber-800/50":"bg-transparent border-transparent"}`,children:[c.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer select-none",children:[c.jsx("input",{type:"checkbox",checked:w,onChange:H=>k(H.target.checked),className:"w-3.5 h-3.5 text-amber-500 rounded border-gray-300 focus:ring-amber-500 bg-white dark:bg-slate-700"}),c.jsx("span",{className:`font-bold uppercase tracking-tight ${w?"text-amber-600 dark:text-amber-400":"text-gray-400"}`,children:"Theoretical Bell"})]}),w&&c.jsxs("div",{className:"flex items-center gap-2 animate-in fade-in slide-in-from-left-2 duration-200",children:[c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("span",{className:"text-[8px] text-gray-400 uppercase font-bold",children:"Mean()"}),c.jsx("input",{type:"text",value:N,onChange:H=>_(H.target.value),className:"w-14 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center text-[10px] py-0.5 outline-none focus:border-amber-500"})]}),c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("span",{className:"text-[8px] text-gray-400 uppercase font-bold",children:"Sigma()"}),c.jsx("input",{type:"text",value:O,onChange:H=>A(H.target.value),className:"w-12 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center text-[10px] py-0.5 outline-none focus:border-amber-500"})]}),c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("span",{className:"text-[8px] text-gray-400 uppercase font-bold",children:"Scale(A)"}),c.jsx("input",{type:"text",value:M,onChange:H=>C(H.target.value),className:"w-16 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center text-[10px] py-0.5 outline-none focus:border-amber-500"})]}),c.jsx("button",{onClick:Z,className:"mt-3 px-2 py-0.5 bg-amber-600 hover:bg-amber-500 text-white text-[9px] font-bold rounded shadow-sm active:scale-95 transition-all",title:"Set Mean and Amplitude based on current peak",children:"AUTO FIT"})]})]})]}),c.jsxs("div",{className:"flex-1 p-4 relative bg-white dark:bg-slate-900 overflow-hidden min-h-0",children:[c.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-0 pointer-events-none select-none opacity-10 mix-blend-normal dark:mix-blend-plus-lighter",children:c.jsx("svg",{viewBox:"0 0 500 60",className:"w-96 h-auto",children:c.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"36",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})}),R&&c.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-20 bg-white/50 dark:bg-slate-900/50 backdrop-blur-[1px]",children:c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("div",{className:"w-8 h-8 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mb-2"}),c.jsx("span",{className:"text-sm text-cyan-600 dark:text-cyan-400 font-semibold",children:"Calculating Histogram..."})]})}),P?c.jsx("div",{className:"flex items-center justify-center h-full text-red-500 relative z-10",children:P}):c.jsx("div",{className:"relative z-10 w-full h-full",children:c.jsx(po,{width:"100%",height:"100%",children:c.jsxs(Rs,{data:ee,children:[c.jsx(Ya,{strokeDasharray:"3 3",stroke:"#374151",opacity:.3}),c.jsx(zn,{dataKey:"binStart",type:"number",domain:[p,v],tickFormatter:H=>Math.floor(H).toString(),tick:{fill:"#9ca3af",fontSize:12},allowDataOverflow:!0,label:{value:"DN Value",position:"insideBottom",offset:-5,fill:"#9ca3af",fontSize:12}}),c.jsx(Un,{tick:{fill:"#9ca3af",fontSize:12},label:{value:"Count",angle:-90,position:"insideLeft",fill:"#9ca3af",fontSize:12}}),c.jsx(Hr,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"0.5rem",color:"#f3f4f6"},itemStyle:{fontSize:"12px"},labelFormatter:H=>`DN: ${Math.round(Number(H))}`,formatter:(H,ie)=>[Math.round(H),ie]}),c.jsx(Ha,{wrapperStyle:{paddingTop:"10px"}}),w&&c.jsx(jr,{type:"monotone",dataKey:"theory",name:"Ideal Bell (Gaussian)",stroke:"#f59e0b",strokeWidth:2.5,strokeDasharray:"5 5",dot:!1,isAnimationActive:!1}),(d==="All"||d==="0")&&c.jsx(jr,{type:ge,dataKey:"c0",name:Y.c0,stroke:le.c0,dot:!1,strokeWidth:1.5,activeDot:{r:4},isAnimationActive:!1}),(d==="All"||d==="1")&&c.jsx(jr,{type:ge,dataKey:"c1",name:Y.c1,stroke:le.c1,dot:!1,strokeWidth:1.5,activeDot:{r:4},isAnimationActive:!1}),(d==="All"||d==="2")&&c.jsx(jr,{type:ge,dataKey:"c2",name:Y.c2,stroke:le.c2,dot:!1,strokeWidth:1.5,activeDot:{r:4},isAnimationActive:!1}),(d==="All"||d==="3")&&c.jsx(jr,{type:ge,dataKey:"c3",name:Y.c3,stroke:le.c3,dot:!1,strokeWidth:1.5,activeDot:{r:4},isAnimationActive:!1})]})})})]})]})},Bu=({initialPosition:e={x:20,y:80},children:t,className:r="",onClose:n,zIndex:a,onFocus:o})=>{const[i,s]=S.useState(e),[l,u]=S.useState(!1),[f,d]=S.useState({x:0,y:0}),h=S.useRef(null),p=(b,m,g)=>{o&&o(),!(g.closest("button")||g.closest("input"))&&(u(!0),d({x:b-i.x,y:m-i.y}))},y=b=>{p(b.clientX,b.clientY,b.target)},v=b=>{const m=b.touches[0];p(m.clientX,m.clientY,b.target)};return S.useEffect(()=>{const b=g=>{var x,j;if(l){g.cancelable&&g.preventDefault();const w="touches"in g?g.touches[0].clientX:g.clientX,k="touches"in g?g.touches[0].clientY:g.clientY,N=w-f.x,_=k-f.y,O=window.innerWidth-(((x=h.current)==null?void 0:x.offsetWidth)||100),A=window.innerHeight-(((j=h.current)==null?void 0:j.offsetHeight)||100);s({x:Math.max(0,Math.min(N,O)),y:Math.max(0,Math.min(_,A))})}},m=()=>{u(!1)};return l&&(window.addEventListener("mousemove",b),window.addEventListener("mouseup",m),window.addEventListener("touchmove",b,{passive:!1}),window.addEventListener("touchend",m)),()=>{window.removeEventListener("mousemove",b),window.removeEventListener("mouseup",m),window.removeEventListener("touchmove",b),window.removeEventListener("touchend",m)}},[l,f]),c.jsxs("div",{ref:h,style:{left:i.x,top:i.y,zIndex:a??90},onMouseDownCapture:o,className:`fixed border-2 border-black dark:border-gray-500 bg-white dark:bg-black shadow-[8px_8px_0px_rgba(0,0,0,0.5)] dark:shadow-[8px_8px_0px_rgba(255,255,255,0.2)] transition-shadow duration-200 ${l?"cursor-grabbing shadow-[4px_4px_0px_rgba(0,0,0,0.5)]":""} ${r}`,children:[c.jsx("div",{onMouseDown:y,onTouchStart:v,className:"absolute inset-0 w-full h-8 cursor-grab active:cursor-grabbing z-0 touch-none bg-gray-200 dark:bg-gray-800 border-b-2 border-black dark:border-gray-500",title:"Drag to move"}),c.jsx("div",{className:"relative z-10 pointer-events-none",children:c.jsx("div",{className:"pointer-events-auto",children:t})})]})},WQ=({isOpen:e,onClose:t,rawImageData:r,roi:n,selectedChannel:a,channelName:o,zIndex:i,onFocus:s,initialPosition:l})=>{const u=S.useRef(null),[f,d]=S.useState(!1),[h,p]=S.useState(null),[y,v]=S.useState(null),[b,m]=S.useState(!0),[g,x]=S.useState(!0),[j,w]=S.useState("-1"),[k,N]=S.useState("8"),[_,O]=S.useState(64),[A,M]=S.useState(45),[C,R]=S.useState(60),z=S.useRef(!1),T=S.useRef({x:0,y:0});S.useEffect(()=>{!e||!r||!n||(d(!0),v(null),setTimeout(()=>{try{const $=IQ(r.data,r.width,r.height,n,a,g);$?p($):v("Could not extract valid data from ROI.")}catch($){console.error("2D FFT Error",$),v("Calculation Error: "+$.message)}finally{d(!1)}},50))},[e,r,n,a,g]),S.useEffect(()=>{if(!h||!u.current)return;const $=u.current,U=$.getContext("2d");if(!U)return;const te=$.width,K=$.height;U.clearRect(0,0,te,K),U.fillStyle="#0f172a",U.fillRect(0,0,te,K);const L=h.width,ee=h.height,Z=h.data,D=Math.pow(10,parseFloat(j)||-1),ae=Math.pow(10,parseFloat(k)||8);let ce=D,Y=ae;b&&(ce=Math.log10(Math.max(1e-10,D)),Y=Math.log10(Math.max(1e-10,ae)));const le=Y-ce||1,ge=te/2,H=K/2+50,ie=Math.min(te,K)*.4,se=.6,ke=A*Math.PI/180,Be=C*Math.PI/180,Re=Math.cos(ke),wt=Math.sin(ke),Pt=Math.cos(Be),De=Math.sin(Be),He=(Fe,ut,Lt)=>{const cr=Fe*Re-ut*wt,Kr=Fe*wt+ut*Re,An=Kr*Pt-Lt*De,Ht=Kr*De+Lt*Pt;return{x:ge+cr*ie,y:H-An*ie,depth:Ht}},kt=Math.max(16,_),Ct=Math.max(1,Math.floor(L/kt)),Wt=Math.max(1,Math.floor(ee/kt)),Nr=(Fe,ut)=>{let Lt=Z[ut*L+Fe];return b&&(Lt=Math.log10(Math.max(1e-10,Lt))),Lt=Math.max(ce,Math.min(Y,Lt)),(Lt-ce)/le},_r=Fe=>`hsl(${(1-Fe)*240}, 80%, 50%)`,rr=[];for(let Fe=0;Fe<ee-Wt;Fe+=Wt)for(let ut=0;ut<L-Ct;ut+=Ct){const Lt=ut,cr=Fe,Kr=ut+Ct,An=Fe,Ht=ut+Ct,Vt=Fe+Wt,it=ut,Et=Fe+Wt,Yr=Nr(Lt,cr),vr=Nr(Kr,An),Ar=Nr(Ht,Vt),Mn=Nr(it,Et),na=(Yr+vr+Ar+Mn)/4,Gn=He(Lt/(L-1)-.5,cr/(ee-1)-.5,Yr*se),Cn=He(Kr/(L-1)-.5,An/(ee-1)-.5,vr*se),yn=He(Ht/(L-1)-.5,Vt/(ee-1)-.5,Ar*se),qr=He(it/(L-1)-.5,Et/(ee-1)-.5,Mn*se),aa=(Gn.depth+Cn.depth+yn.depth+qr.depth)/4;rr.push({pts:[{x:Gn.x,y:Gn.y},{x:Cn.x,y:Cn.y},{x:yn.x,y:yn.y},{x:qr.x,y:qr.y}],avgDepth:aa,avgZ:na})}rr.sort((Fe,ut)=>Fe.avgDepth-ut.avgDepth),U.lineWidth=.5,rr.forEach(Fe=>{U.fillStyle=_r(Fe.avgZ),U.beginPath(),U.moveTo(Fe.pts[0].x,Fe.pts[0].y),U.lineTo(Fe.pts[1].x,Fe.pts[1].y),U.lineTo(Fe.pts[2].x,Fe.pts[2].y),U.lineTo(Fe.pts[3].x,Fe.pts[3].y),U.closePath(),U.fill()}),U.fillStyle="#aaa",U.font="10px monospace";const Qt=He(-.5,-.5,0),Or=He(.5,-.5,0),Gt=He(-.5,.5,0),Pr=He(.5,.5,0);U.strokeStyle="#666",U.beginPath(),U.moveTo(Qt.x,Qt.y),U.lineTo(Or.x,Or.y),U.lineTo(Pr.x,Pr.y),U.lineTo(Gt.x,Gt.y),U.closePath(),U.stroke(),U.fillText("0",Qt.x-10,Qt.y+10),U.fillText("Fx",Or.x+5,Or.y),U.fillText("Fy",Gt.x-15,Gt.y);const lt=He(-.5,-.5,se);U.strokeStyle="#fff",U.beginPath(),U.moveTo(Qt.x,Qt.y),U.lineTo(lt.x,lt.y),U.stroke(),U.fillText(`10^${k}`,lt.x-25,lt.y),U.fillText(`10^${j}`,Qt.x-25,Qt.y)},[h,b,A,C,j,k,_]);const G=$=>{z.current=!0,T.current={x:$.clientX,y:$.clientY}},P=$=>{if(!z.current)return;const U=$.clientX-T.current.x,te=$.clientY-T.current.y;M(K=>K-U*.5),R(K=>Math.max(0,Math.min(90,K+te*.5))),T.current={x:$.clientX,y:$.clientY}},E=()=>{z.current=!1};return e?c.jsxs(Bu,{initialPosition:l||{x:100,y:100},onClose:t,zIndex:i,onFocus:s,className:"w-[700px] h-[600px] bg-slate-900 border border-slate-700 flex flex-col overflow-hidden shadow-2xl",children:[c.jsxs("div",{className:"flex justify-between items-center px-4 py-2 border-b border-slate-700 bg-slate-800",children:[c.jsxs("h3",{className:"text-sm font-bold text-slate-200 flex items-center gap-2",children:["2D FFT Power Spectrum - ",o,h&&c.jsxs("span",{className:"text-[10px] font-normal text-slate-400 bg-slate-700 px-2 py-0.5 rounded",children:[h.width,"x",h.height," (Chirp-Z)"]})]}),c.jsx("div",{className:"flex items-center gap-2",children:c.jsx("button",{onClick:t,className:"text-slate-400 hover:text-red-400 transition-colors",children:c.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})})]}),c.jsxs("div",{className:"p-3 bg-slate-800/80 flex flex-wrap gap-4 text-xs items-center border-b border-slate-700",children:[c.jsxs("div",{className:"flex items-center gap-2 bg-slate-900 px-2 py-1 rounded border border-slate-600",children:[c.jsx("span",{className:"text-slate-400 font-bold",children:"Range (10^x):"}),c.jsx("input",{type:"number",value:j,onChange:$=>w($.target.value),className:"w-10 bg-transparent text-slate-200 text-center border-b border-slate-600 focus:border-cyan-500 outline-none"}),c.jsx("span",{className:"text-slate-500",children:"to"}),c.jsx("input",{type:"number",value:k,onChange:$=>N($.target.value),className:"w-10 bg-transparent text-slate-200 text-center border-b border-slate-600 focus:border-cyan-500 outline-none"})]}),c.jsxs("div",{className:"flex items-center gap-2 bg-slate-900 px-2 py-1 rounded border border-slate-600",children:[c.jsx("span",{className:"text-slate-400 font-bold",children:"Density:"}),c.jsx("input",{type:"range",min:"16",max:"128",step:"16",value:_,onChange:$=>O(Number($.target.value)),className:"w-20 h-1.5 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-cyan-500"}),c.jsx("span",{className:"text-slate-300 w-6 text-right",children:_})]}),c.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none text-slate-300 hover:text-white",children:[c.jsx("input",{type:"checkbox",checked:b,onChange:$=>m($.target.checked),className:"rounded bg-slate-700 border-slate-600 accent-cyan-500"}),"Log Z"]}),c.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none text-slate-300 hover:text-white",children:[c.jsx("input",{type:"checkbox",checked:g,onChange:$=>x($.target.checked),className:"rounded bg-slate-700 border-slate-600 accent-fuchsia-500"}),"Hanning"]})]}),c.jsxs("div",{className:"flex-1 relative bg-slate-900 cursor-move",children:[f&&c.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-slate-900/80 z-20 backdrop-blur-sm",children:c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx("div",{className:"w-8 h-8 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin"}),c.jsx("span",{className:"text-cyan-400 font-bold animate-pulse text-sm",children:"Computing full-size 2D FFT..."})]})}),y&&c.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-slate-900/80 z-20 text-red-400 p-4 text-center",children:y}),c.jsx("canvas",{ref:u,width:700,height:500,className:"w-full h-full block",onMouseDown:G,onMouseMove:P,onMouseUp:E,onMouseLeave:E}),c.jsx("div",{className:"absolute bottom-2 right-2 text-[9px] text-slate-600 pointer-events-none",children:"Drag to Rotate"})]})]}):null},GQ=.5,ey=1e-10,dk=(e,t)=>{const r=e.length-1;if(r<0)return ey;const n=t/GQ*r,a=Math.round(n),o=e[Math.min(Math.max(0,a),r)]||0;return Math.max(o,ey)},HQ=(e,t)=>{if(t<=0)return[1];const r=new Array(e);let n=0;for(let a=0;a<e;a++){const o=a-(e-1)/2,i=Math.exp(-(o*o)/(2*t*t));r[a]=i,n+=i}for(let a=0;a<e;a++)r[a]/=n;return r},VQ=({isOpen:e,onClose:t,onMinimize:r,rawImageData:n,roi:a,isBGGR:o,onUpdateROI:i,zIndex:s,onFocus:l,initialPosition:u,initialInternalState:f,onUpdateState:d,stackFiles:h})=>{const[p,y]=S.useState((f==null?void 0:f.selectedChannel)??0),[v,b]=S.useState(()=>(f==null?void 0:f.yMinExp)||localStorage.getItem("fft_y_min")||"1.73"),[m,g]=S.useState(()=>(f==null?void 0:f.yMaxExp)||localStorage.getItem("fft_y_max")||"8.00"),[x,j]=S.useState((f==null?void 0:f.useHanning)??!0),[w,k]=S.useState((f==null?void 0:f.doAverage)??!0),[N,_]=S.useState((f==null?void 0:f.welchSegments)??1),[O,A]=S.useState((f==null?void 0:f.showH)??!0),[M,C]=S.useState((f==null?void 0:f.showV)??!0),[R,z]=S.useState((f==null?void 0:f.interlaceRows)??!1),[T,G]=S.useState((f==null?void 0:f.rowGroup)??0),[P,E]=S.useState((f==null?void 0:f.interlaceCols)??!1),[$,U]=S.useState((f==null?void 0:f.colGroup)??0),[te,K]=S.useState(()=>(f==null?void 0:f.theoSigma)||localStorage.getItem("fft_theo_sigma")||"0.00"),[L,ee]=S.useState(()=>(f==null?void 0:f.theoKernelSize)||localStorage.getItem("fft_theo_ksize")||"3"),[Z,D]=S.useState(()=>(f==null?void 0:f.theoNoiseStd)||localStorage.getItem("fft_theo_noise")||"7.5"),[ae,ce]=S.useState(()=>(f==null?void 0:f.theoScale)||localStorage.getItem("fft_theo_scale")||"1.0"),[Y,le]=S.useState((f==null?void 0:f.intStart)||"0"),[ge,H]=S.useState((f==null?void 0:f.intEnd)||"0.5"),[ie,se]=S.useState(!1),[ke,Be]=S.useState([]),[Re,wt]=S.useState(!1),[Pt,De]=S.useState(0),[He,kt]=S.useState(null),[Ct,Wt]=S.useState(!1),[Nr,_r]=S.useState(!1),[rr,Qt]=S.useState(null),[Or,Gt]=S.useState(!1),[Pr,lt]=S.useState(null),[Fe,ut]=S.useState(u||{x:50,y:50}),[Lt,cr]=S.useState(!1),[Kr,An]=S.useState(null),[Ht,Vt]=S.useState({}),it=S.useRef({x:0,y:0}),Et=o?{c0:"#3b82f6",c1:"#22c55e",c2:"#4ade80",c3:"#ef4444"}:{c0:"#ef4444",c1:"#22c55e",c2:"#4ade80",c3:"#3b82f6"},Yr=S.useMemo(()=>o?{0:"Blue",1:"Green 1",2:"Green 2",3:"Red"}:{0:"Red",1:"Green 1",2:"Green 2",3:"Blue"},[o]);S.useEffect(()=>{localStorage.setItem("fft_y_min",v),localStorage.setItem("fft_y_max",m),localStorage.setItem("fft_theo_sigma",te),localStorage.setItem("fft_theo_ksize",L),localStorage.setItem("fft_theo_noise",Z),localStorage.setItem("fft_theo_scale",ae)},[v,m,te,L,Z,ae]),S.useEffect(()=>{if(!e||!n||!a)return;wt(!0),kt(null),De(0);const oe=setTimeout(async()=>{try{const Pe=p===-1?[0,1,2,3]:[p],Le=h&&h.length>1?h:[null],Ze=Le.length,Ke={};let yt={h:0,v:0};for(let Ae=0;Ae<Ze;Ae++){De(Ae+1);let qe;if(Le[Ae]){const ft=await Le[Ae].arrayBuffer();qe=await vh(ft)}else qe=n;for(const ft of Pe){const dt=LQ(qe.data,qe.width,qe.height,a,ft,!1,x,{rows:R,rowGroup:T,cols:P,colGroup:$},w,N);dt&&(Ke[ft]||(Ke[ft]={h:new Array(dt.avgHoriz.length).fill(0),v:new Array(dt.avgVert.length).fill(0)}),dt.avgHoriz.forEach((It,me)=>Ke[ft].h[me]+=It/Ze),dt.avgVert.forEach((It,me)=>Ke[ft].v[me]+=It/Ze),yt=dt.sampleCount)}}if(Object.keys(Ke).length===0)throw new Error("ROI too small or no data found.");const ur=1024,fr=[];for(let Ae=0;Ae<ur;Ae++){const qe=Ae/(ur-1)*.5,ft={freq:parseFloat(qe.toFixed(6))};for(const dt of Pe)Ke[dt]&&(ft[`c${dt}_h`]=dk(Ke[dt].h,qe),ft[`c${dt}_v`]=dk(Ke[dt].v,qe));fr.push(ft)}An(yt),Be(fr)}catch(Pe){console.error("FFT Loop Failed:",Pe),kt(Pe.message||"Unknown error during FFT processing")}finally{wt(!1)}},100);return()=>clearTimeout(oe)},[e,n,a==null?void 0:a.x,a==null?void 0:a.y,a==null?void 0:a.w,a==null?void 0:a.h,p,x,w,N,R,T,P,$,h]);const vr=()=>{const oe=parseFloat(Y),Pe=parseFloat(ge);if(isNaN(oe)||isNaN(Pe))return;const Le={},Ze=p===-1?[0,1,2,3]:[p],Ke=ke.filter(yt=>yt.freq>=oe&&yt.freq<=Pe);if(Ke.length===0){Vt({});return}Ze.forEach(yt=>{let ur=0,fr=0;Ke.forEach(Ae=>{const qe=Ae[`c${yt}_h`],ft=Ae[`c${yt}_v`];typeof qe=="number"&&(ur+=qe),typeof ft=="number"&&(fr+=ft)}),Le[yt]={h:ur/Ke.length,v:fr/Ke.length,count:Ke.length}}),Vt(Le)},Ar=S.useMemo(()=>{const oe=parseFloat(te),Pe=parseInt(L),Le=parseFloat(Z),Ze=parseFloat(ae);if(isNaN(oe)||isNaN(Pe)||isNaN(Le)||isNaN(Ze)||ke.length===0)return ke;const Ke=HQ(Pe,oe),yt=Ke.reduce((Ae,qe)=>Ae+qe*qe,0),ur=(Pe-1)/2,fr=Le*Le*Ze;return ke.map(Ae=>{const qe=Ae.freq,ft=2*Math.PI*qe;let dt=0,It=0;for(let Zr=0;Zr<Pe;Zr++){const ui=Zr-ur,vn=Ke[Zr],oa=-ft*ui;dt+=vn*Math.cos(oa),It+=vn*Math.sin(oa)}const me=dt*dt+It*It;return{...Ae,theory:Math.max(ey,fr*yt*me)}})},[ke,te,L,Z,ae]),Mn=oe=>{oe&&oe.activeLabel!==void 0&&(Gt(!0),lt(Number(oe.activeLabel)),Qt(null))},na=oe=>{if(Or&&Pr!==null&&oe&&oe.activeLabel!==void 0){const Pe=Number(oe.activeLabel);Qt([Math.min(Pr,Pe),Math.max(Pr,Pe)])}},Gn=()=>Gt(!1),Cn=(oe,Pe,Le)=>{l&&l(),!(Le.closest("button")||Le.closest("input"))&&(cr(!0),it.current={x:oe-Fe.x,y:Pe-Fe.y})},yn=oe=>{Cn(oe.clientX,oe.clientY,oe.target)},qr=oe=>{const Pe=oe.touches[0];Cn(Pe.clientX,Pe.clientY,oe.target)};S.useEffect(()=>{const oe=Le=>{if(Lt){const Ze="touches"in Le?Le.touches[0].clientX:Le.clientX,Ke="touches"in Le?Le.touches[0].clientY:Le.clientY;ut({x:Ze-it.current.x,y:Ke-it.current.y})}},Pe=()=>cr(!1);return Lt&&(window.addEventListener("mousemove",oe),window.addEventListener("mouseup",Pe),window.addEventListener("touchmove",oe,{passive:!1}),window.addEventListener("touchend",Pe)),()=>{window.removeEventListener("mousemove",oe),window.removeEventListener("mouseup",Pe),window.removeEventListener("touchmove",oe),window.removeEventListener("touchend",Pe)}},[Lt]);const aa=S.useMemo(()=>{if(!rr||ke.length===0)return null;const[oe,Pe]=rr,Le=ke.filter(yt=>yt.freq>=oe&&yt.freq<=Pe);if(Le.length===0)return null;const Ze=p===-1?[0,1,2,3]:[p],Ke={};return Ze.forEach(yt=>{["h","v"].forEach(ur=>{const fr=`c${yt}_${ur}`;let Ae=0,qe=0;for(const ft of Le){const dt=ft[fr];typeof dt=="number"&&(Ae+=dt,qe++)}qe>0&&(Ke[`${fr}_sigma`]=Math.sqrt(Ae/qe))})}),{count:Le.length,stats:Ke}},[rr,ke,p]),nr=()=>{if(ke.length===0)return;let oe=1/0,Pe=-1/0;if(ke.forEach(ur=>{ur.freq<.01||ur.freq>.49||Object.keys(ur).forEach(fr=>{if(fr==="freq"||fr==="theory")return;const Ae=ur[fr];typeof Ae=="number"&&Ae>0&&(Ae<oe&&(oe=Ae),Ae>Pe&&(Pe=Ae))})}),oe===1/0)return;const Le=Math.log10(oe),Ze=Math.log10(Pe),Ke=Ze-Le,yt=(Ke===0?1:Ke)*.1;b((Le-yt).toFixed(2)),g((Ze+yt).toFixed(2))},At=(oe,Pe)=>{a&&i&&i({...a,x:a.x+oe,y:a.y+Pe})},Tt=(oe,Pe)=>{a&&i&&i({...a,w:Math.max(2,a.w+oe),h:Math.max(2,a.h+Pe)})};return e?c.jsxs("div",{className:"fixed flex flex-col bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 shadow-2xl rounded-xl overflow-hidden resize-both min-w-[750px] min-h-[500px]",style:{left:Fe.x,top:Fe.y,width:"1000px",height:"850px",zIndex:s??100},onMouseDownCapture:l,children:[c.jsxs("div",{className:`flex justify-between items-center p-3 border-b border-gray-200 dark:border-slate-700 flex-shrink-0 bg-gray-50 dark:bg-slate-800 z-50 relative select-none touch-none ${Lt?"cursor-grabbing":"cursor-grab"}`,onMouseDown:yn,onTouchStart:qr,children:[c.jsxs("h2",{className:"text-lg font-bold text-gray-900 dark:text-slate-100 flex items-center gap-2 pointer-events-none",children:["Power Spectrum Analysis",c.jsx("span",{className:"text-[10px] font-normal bg-white dark:bg-slate-700 px-2 py-1 rounded text-gray-500 border border-gray-200 dark:border-slate-600 shadow-sm",children:h&&h.length>1?`Stack Avg (${h.length} frames)`:"Single Mode"})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[r&&c.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),c.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 dark:hover:text-red-400 p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors",children:c.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),c.jsxs("div",{className:"flex flex-col bg-gray-50 dark:bg-slate-900/80 border-b border-gray-200 dark:border-slate-800 flex-shrink-0 z-40 relative px-4 py-3 gap-3 overflow-x-auto",children:[c.jsxs("div",{className:"flex items-center gap-6",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-[10px] font-bold text-gray-500 dark:text-slate-400 uppercase tracking-widest",children:"Channel"}),c.jsxs("div",{className:"flex bg-gray-100 dark:bg-slate-800 rounded-lg p-0.5 border border-gray-200 dark:border-slate-700 shadow-inner",children:[c.jsx("button",{onClick:()=>y(-1),className:`px-3 py-1 rounded text-[10px] font-bold transition-all ${p===-1?"bg-slate-700 text-white shadow-md":"text-gray-500 dark:text-slate-500 hover:bg-white dark:hover:bg-slate-700"}`,children:"All"}),[0,1,2,3].map(oe=>c.jsx("button",{onClick:()=>y(oe),className:`px-3 py-1 rounded text-[10px] font-bold transition-all ${p===oe?"bg-cyan-600 text-white shadow-md":"text-gray-500 dark:text-slate-500 hover:bg-white dark:hover:bg-slate-700"}`,children:Yr[oe]},oe))]})]}),c.jsx("div",{className:"h-6 w-px bg-gray-200 dark:bg-slate-700 mx-2"}),c.jsxs("button",{onClick:()=>se(!0),className:"flex items-center gap-1.5 px-4 py-1.5 bg-indigo-600 hover:bg-indigo-500 text-white text-[10px] font-bold rounded-lg shadow-lg shadow-indigo-500/30 transition-all active:scale-95 group border border-indigo-400/30",children:[c.jsx("svg",{className:"w-3.5 h-3.5 group-hover:animate-pulse",fill:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"2D Diagonal"]}),c.jsx("div",{className:"h-6 w-px bg-gray-200 dark:bg-slate-700 mx-2"}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"text-[10px] font-bold text-indigo-500 dark:text-indigo-400 uppercase tracking-widest",children:"Model"}),c.jsx("div",{className:"flex gap-2",children:[{label:"KSize",val:L,set:ee,w:"w-10"},{label:"Sigma",val:te,set:K,w:"w-12"},{label:"Noise()",val:Z,set:D,w:"w-12"},{label:"Scale",val:ae,set:ce,w:"w-12"}].map(oe=>c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("label",{className:"text-[8px] text-gray-400 dark:text-slate-500 uppercase font-bold mb-0.5",children:oe.label}),c.jsx("input",{type:"text",value:oe.val,onChange:Pe=>oe.set(Pe.target.value),className:`${oe.w} text-[11px] bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded px-1.5 py-0.5 text-center text-gray-900 dark:text-slate-100 outline-none focus:border-indigo-500 shadow-sm`})]},oe.label))})]})]}),c.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[c.jsxs("div",{className:"flex items-center gap-3 mr-2",children:[c.jsx("span",{className:"text-[10px] font-bold text-fuchsia-600 dark:text-fuchsia-500 uppercase tracking-widest",children:"Welch"}),c.jsx("input",{type:"range",min:"1",max:"16",step:"1",value:N,onChange:oe=>_(parseInt(oe.target.value)),className:"w-24 h-1.5 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-fuchsia-500"}),c.jsx("span",{className:"text-[10px] font-mono text-fuchsia-600 dark:text-fuchsia-400 w-4 font-bold",children:N})]}),c.jsx("div",{className:"h-6 w-px bg-gray-200 dark:bg-slate-700"}),c.jsxs("div",{className:"flex flex-col gap-1 px-2",children:[c.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer text-[10px] text-gray-500 dark:text-slate-400 hover:text-gray-900 dark:hover:text-slate-200 select-none",children:[c.jsx("input",{type:"checkbox",checked:R,onChange:oe=>z(oe.target.checked),className:"w-3 h-3 rounded text-cyan-600 border-gray-300 dark:border-slate-700 bg-white dark:bg-slate-800"})," Row Int."]}),c.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer text-[10px] text-gray-500 dark:text-slate-400 hover:text-gray-900 dark:hover:text-slate-200 select-none",children:[c.jsx("input",{type:"checkbox",checked:P,onChange:oe=>E(oe.target.checked),className:"w-3 h-3 rounded text-cyan-600 border-gray-300 dark:border-slate-700 bg-white dark:bg-slate-800"})," Col Int."]})]}),c.jsxs("div",{className:"flex flex-col gap-1.5 bg-gray-100 dark:bg-slate-800/60 p-1.5 rounded-lg border border-gray-200 dark:border-slate-700",children:[c.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[c.jsx("div",{className:`w-3.5 h-3.5 rounded-md border flex items-center justify-center transition-colors ${x?"bg-fuchsia-600 border-fuchsia-600":"bg-white dark:bg-slate-900 border-gray-300 dark:border-slate-600"}`,children:x&&c.jsx("svg",{className:"w-2.5 h-2.5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:4,children:c.jsx("path",{d:"M5 13l4 4L19 7"})})}),c.jsx("input",{type:"checkbox",checked:x,onChange:oe=>j(oe.target.checked),className:"hidden"}),c.jsx("span",{className:"text-[10px] font-bold text-gray-700 dark:text-slate-300",children:"Hanning"})]}),c.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[c.jsx("div",{className:`w-3.5 h-3.5 rounded-md border flex items-center justify-center transition-colors ${w?"bg-cyan-600 border-cyan-600":"bg-white dark:bg-slate-900 border-gray-300 dark:border-slate-600"}`,children:w&&c.jsx("svg",{className:"w-2.5 h-2.5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:4,children:c.jsx("path",{d:"M5 13l4 4L19 7"})})}),c.jsx("input",{type:"checkbox",checked:w,onChange:oe=>k(oe.target.checked),className:"hidden"}),c.jsx("span",{className:"text-[10px] font-bold text-gray-700 dark:text-slate-300",children:"Average"})]})]}),c.jsxs("div",{className:"flex gap-2 bg-gray-100 dark:bg-slate-800 p-1 rounded-lg border border-gray-200 dark:border-slate-700",children:[c.jsxs("button",{onClick:()=>A(!O),className:`px-2.5 py-1 rounded-md border text-[11px] font-bold transition-all flex items-center gap-1.5 ${O?"bg-cyan-900/40 text-cyan-400 border-cyan-500 shadow-[0_0_8px_rgba(6,182,212,0.3)]":"bg-white dark:bg-slate-900 text-gray-400 border-gray-300 dark:border-slate-700"}`,children:[c.jsx("div",{className:`w-2 h-2 rounded-full ${O?"bg-cyan-400":"bg-gray-400"}`})," H"]}),c.jsxs("button",{onClick:()=>C(!M),className:`px-2.5 py-1 rounded-md border text-[11px] font-bold transition-all flex items-center gap-1.5 ${M?"bg-cyan-900/40 text-cyan-400 border-cyan-500 shadow-[0_0_8px_rgba(6,182,212,0.3)]":"bg-white dark:bg-slate-900 text-gray-400 border-gray-300 dark:border-slate-700"}`,children:[c.jsx("div",{className:`w-2 h-2 rounded-full ${O?"bg-cyan-400":"bg-gray-400"}`})," V"]})]}),c.jsxs("div",{className:"ml-auto flex gap-2",children:[c.jsx("button",{onClick:()=>_r(!Nr),className:`px-3 py-1.5 rounded-lg text-[10px] font-bold transition-all border ${Nr?"bg-emerald-600 text-white border-emerald-600 shadow-md":"bg-white dark:bg-slate-900 text-emerald-600 dark:text-emerald-400 border-emerald-200 dark:border-emerald-800 hover:bg-emerald-50"}`,children:""}),c.jsx("button",{onClick:()=>Wt(!Ct),className:`px-3 py-1.5 rounded-lg text-[10px] font-bold transition-all border ${Ct?"bg-indigo-600 text-white border-indigo-600 shadow-md":"bg-white dark:bg-slate-900 text-indigo-600 dark:text-indigo-400 border-indigo-200 dark:border-indigo-800 hover:bg-indigo-50"}`,children:"ROI"})]})]}),c.jsxs("div",{className:"flex items-center gap-4 justify-end border-t border-gray-200 dark:border-slate-800/50 pt-2.5",children:[c.jsx("button",{onClick:nr,className:"px-4 py-1 text-[10px] font-bold bg-cyan-600/10 text-cyan-600 dark:text-cyan-400 hover:bg-cyan-600/20 rounded-md border border-cyan-500/30 transition-all uppercase tracking-widest shadow-sm",children:"Auto"}),c.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-bold text-gray-500 dark:text-slate-400 uppercase",children:["Y-AXIS (LOG)",c.jsxs("div",{className:"flex items-center bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-md overflow-hidden shadow-sm",children:[c.jsx("input",{type:"text",value:v,onChange:oe=>b(oe.target.value),className:"w-14 px-2 py-1 bg-transparent text-center outline-none text-gray-900 dark:text-slate-100 border-r border-gray-200 dark:border-slate-700"}),c.jsx("span",{className:"px-2 text-gray-400",children:"to"}),c.jsx("input",{type:"text",value:m,onChange:oe=>g(oe.target.value),className:"w-14 px-2 py-1 bg-transparent text-center outline-none text-gray-900 dark:text-slate-100"})]})]})]})]}),c.jsxs("div",{className:"flex-1 p-4 overflow-hidden flex flex-col gap-2 relative bg-gray-50/30 dark:bg-slate-900/30",children:[c.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none z-[50] select-none opacity-10",children:c.jsx("svg",{viewBox:"0 0 500 100",className:"w-3/4 h-auto drop-shadow-lg",children:c.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"24",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})}),Re&&c.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center z-[55] bg-white/90 dark:bg-slate-900/90 backdrop-blur-[2px]",children:[c.jsx("div",{className:"w-10 h-10 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mb-4"}),c.jsx("span",{className:"text-cyan-600 dark:text-cyan-400 font-bold",children:"Computing FFT Stack..."}),h&&h.length>1&&c.jsxs("span",{className:"text-xs text-gray-500 mt-2 font-mono",children:["Processing frame ",Pt," / ",h.length]})]}),He?c.jsx("div",{className:"flex items-center justify-center h-full text-red-500 font-semibold",children:He}):c.jsxs("div",{className:"flex-1 bg-white dark:bg-slate-950 border border-gray-200 dark:border-slate-800 rounded-xl p-2 flex flex-col relative z-20 shadow-xl overflow-hidden",children:[c.jsx("div",{className:"flex-1 relative z-10",onMouseDown:Mn,onMouseMove:na,onMouseUp:Gn,style:{cursor:Or?"col-resize":"crosshair"},children:c.jsx(po,{width:"100%",height:"100%",children:c.jsxs(Rs,{data:Ar,margin:{top:10,right:10,bottom:20,left:0},children:[c.jsx(Ya,{strokeDasharray:"3 3",stroke:"#374151",opacity:.08}),c.jsx(zn,{dataKey:"freq",type:"number",domain:[0,.5],tickCount:6,tick:{fill:"#6b7280",fontSize:10},label:{value:"Frequency (cy/px)",position:"insideBottom",offset:-10,fill:"#6b7280",fontSize:11}}),c.jsx(Un,{scale:"log",domain:[Math.pow(10,parseFloat(v)),Math.pow(10,parseFloat(m))],allowDataOverflow:!0,tick:{fill:"#6b7280",fontSize:10},tickFormatter:oe=>Number(oe).toExponential(0),width:45}),c.jsx(Hr,{contentStyle:{backgroundColor:"rgba(15, 23, 42, 0.95)",border:"1px solid #334155",color:"#f3f4f6",fontSize:"11px",borderRadius:"8px"},formatter:oe=>[Number(oe).toExponential(3),""],labelFormatter:oe=>`Freq: ${Number(oe).toFixed(4)}`}),c.jsx(Ha,{wrapperStyle:{fontSize:"10px"}}),c.jsx(jr,{type:"monotone",dataKey:"theory",name:"Theory Model",stroke:"#6366f1",strokeWidth:2,dot:!1,isAnimationActive:!1}),[0,1,2,3].flatMap(oe=>{if(p!==-1&&p!==oe)return[];const Pe=`c${oe}_h`,Le=`c${oe}_v`,Ze=Et[`c${oe}`],Ke=[];return O&&Ke.push(c.jsx(jr,{type:"linear",dataKey:Pe,name:`${Yr[oe]} (H)`,stroke:Ze,strokeWidth:1,dot:!1,isAnimationActive:!1},`${oe}_h`)),M&&Ke.push(c.jsx(jr,{type:"linear",dataKey:Le,name:`${Yr[oe]} (V)`,stroke:Ze,strokeWidth:1,strokeDasharray:"3 3",dot:!1,isAnimationActive:!1},`${oe}_v`)),Ke}),rr&&c.jsx(Lu,{x1:rr[0],x2:rr[1],fill:"#8884d8",fillOpacity:.15})]})})}),aa&&rr&&c.jsxs("div",{className:"absolute bottom-12 left-12 bg-slate-900/90 backdrop-blur-md p-3 rounded-lg border border-indigo-500/50 shadow-2xl z-30 text-[10px] font-mono text-slate-100",children:[c.jsxs("div",{className:"text-indigo-400 font-bold mb-1 border-b border-indigo-500/30 pb-1",children:["Range: ",rr[0].toFixed(3),"-",rr[1].toFixed(3)]}),Object.entries(aa.stats).map(([oe,Pe])=>c.jsxs("div",{className:"flex justify-between gap-4",children:[c.jsxs("span",{className:"text-slate-400",children:[oe,":"]}),c.jsx("span",{className:"font-bold text-cyan-400",children:Pe.toFixed(5)})]},oe))]})]})]}),Nr&&c.jsxs("div",{className:"absolute top-48 right-8 z-[55] w-72 bg-white dark:bg-slate-900 rounded-xl shadow-2xl border border-gray-200 dark:border-slate-700 p-4 animate-in slide-in-from-top-2",children:[c.jsx("h4",{className:"text-[10px] uppercase font-bold text-emerald-600 dark:text-emerald-400 mb-2 border-b border-gray-100 dark:border-slate-800 pb-1",children:"Range Averaging"}),c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx("input",{type:"number",step:"0.01",value:Y,onChange:oe=>le(oe.target.value),className:"w-16 px-1 py-0.5 text-xs border rounded bg-transparent dark:border-slate-600 dark:text-white"}),c.jsx("span",{className:"text-gray-400",children:"-"}),c.jsx("input",{type:"number",step:"0.01",value:ge,onChange:oe=>H(oe.target.value),className:"w-16 px-1 py-0.5 text-xs border rounded bg-transparent dark:border-slate-600 dark:text-white"}),c.jsx("button",{onClick:vr,className:"flex-1 bg-emerald-600 text-white text-[10px] font-bold py-1 rounded",children:"Avg"})]}),c.jsx("div",{className:"flex flex-col gap-2 max-h-48 overflow-y-auto",children:[0,1,2,3].map(oe=>{const Pe=Ht[oe];if(!Pe)return null;const Le=Et[`c${oe}`];return c.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800/50 p-2 rounded text-[10px] border border-gray-100 dark:border-slate-800",children:[c.jsxs("div",{className:"flex items-center gap-2 font-bold mb-1",style:{color:Le},children:[Yr[oe]," ",c.jsxs("span",{className:"text-gray-400 font-normal",children:["(",Pe.count," pts)"]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-x-2 text-gray-700 dark:text-slate-300 font-mono",children:[c.jsxs("div",{children:["H: ",Pe.h.toExponential(3)]}),c.jsxs("div",{children:["V: ",Pe.v.toExponential(3)]})]})]},oe)})})]}),Ct&&c.jsx("div",{className:"absolute top-48 right-8 z-[55] w-56 bg-white dark:bg-slate-900 rounded-xl shadow-2xl border border-gray-200 dark:border-slate-700 p-4 animate-in slide-in-from-top-2",children:c.jsxs("div",{className:"flex flex-col gap-3",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"text-[9px] uppercase font-bold text-gray-400 mb-1",children:"Move"}),c.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[c.jsx("div",{}),c.jsx("button",{onClick:()=>At(0,-1),className:"p-1.5 bg-gray-100 dark:bg-slate-800 rounded",children:""}),c.jsx("div",{}),c.jsx("button",{onClick:()=>At(-1,0),className:"p-1.5 bg-gray-100 dark:bg-slate-800 rounded",children:""}),c.jsx("div",{}),c.jsx("button",{onClick:()=>At(1,0),className:"p-1.5 bg-gray-100 dark:bg-slate-800 rounded",children:""}),c.jsx("div",{}),c.jsx("button",{onClick:()=>At(0,1),className:"p-1.5 bg-gray-100 dark:bg-slate-800 rounded",children:""}),c.jsx("div",{})]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-[9px] uppercase font-bold text-gray-400 mb-1",children:"Size"}),c.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[c.jsx("button",{onClick:()=>Tt(2,0),className:"p-1 bg-gray-100 dark:bg-slate-800 rounded",children:"W+"}),c.jsx("button",{onClick:()=>Tt(-2,0),className:"p-1 bg-gray-100 dark:bg-slate-800 rounded",children:"W-"}),c.jsx("button",{onClick:()=>Tt(0,2),className:"p-1 bg-gray-100 dark:bg-slate-800 rounded",children:"H+"}),c.jsx("button",{onClick:()=>Tt(0,-2),className:"p-1 bg-gray-100 dark:bg-slate-800 rounded",children:"H-"})]})]})]})}),c.jsx(WQ,{isOpen:ie,onClose:()=>se(!1),rawImageData:n,roi:a,selectedChannel:p===-1?0:p,channelName:p===-1?"Red (Default)":Yr[p],zIndex:s?s+2:102,onFocus:l})]}):null},XQ=({isOpen:e,onClose:t,onMinimize:r,rawImageData:n,roi:a,isBGGR:o,zIndex:i,onFocus:s,initialPosition:l,initialInternalState:u,onUpdateState:f})=>{const[d,h]=S.useState((u==null?void 0:u.selectedChannelKey)||"G1"),[p,y]=S.useState((u==null?void 0:u.blackLevel)??0),[v,b]=S.useState((u==null?void 0:u.whiteLevel)??16383),[m,g]=S.useState(null),[x,j]=S.useState(!1),[w,k]=S.useState(null),[N,_]=S.useState(l||{x:150,y:150}),[O,A]=S.useState(!1),M=S.useRef({x:0,y:0});S.useEffect(()=>{f&&f({selectedChannelKey:d,blackLevel:p,whiteLevel:v})},[d,p,v]),S.useEffect(()=>{if(e&&n&&!u){const P=n.blackLevels?Math.floor(n.blackLevels[1]):0;y(P),b(n.whiteLevel||16383),g(null)}},[e,n]);const C=()=>{if(!n||!a)return;k(null),j(!0);const E=(o?{B:0,G1:1,G2:2,R:3}:{R:0,G1:1,G2:2,B:3})[d];setTimeout(()=>{try{const $=BQ(n.data,n.width,n.height,a,E,p,v);$?g($):(k("No data found in selection with current filters."),g(null))}catch($){console.error("Analysis failed:",$),k($.message||"Analysis error")}finally{j(!1)}},50)},R=(P,E,$)=>{s&&s(),!($.closest("button")||$.closest("input")||$.closest("select"))&&(A(!0),M.current={x:P-N.x,y:E-N.y})},z=P=>{R(P.clientX,P.clientY,P.target)},T=P=>{const E=P.touches[0];R(E.clientX,E.clientY,P.target)};if(S.useEffect(()=>{const P=$=>{if(O){const U="touches"in $?$.touches[0].clientX:$.clientX,te="touches"in $?$.touches[0].clientY:$.clientY;_({x:U-M.current.x,y:te-M.current.y})}},E=()=>A(!1);return O&&(window.addEventListener("mousemove",P),window.addEventListener("mouseup",E),window.addEventListener("touchmove",P,{passive:!1}),window.addEventListener("touchend",E)),()=>{window.removeEventListener("mousemove",P),window.removeEventListener("mouseup",E),window.removeEventListener("touchmove",P),window.removeEventListener("touchend",E)}},[O]),!e)return null;const G=o?["B","G1","G2","R"]:["R","G1","G2","B"];return c.jsxs("div",{className:"fixed flex flex-col bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 shadow-2xl rounded-xl resize-both overflow-hidden min-w-[500px] min-h-[400px] w-[900px] h-[700px]",style:{left:N.x,top:N.y,zIndex:i??100},onMouseDownCapture:s,children:[c.jsxs("div",{className:`flex justify-between items-center p-4 border-b border-gray-200 dark:border-slate-700 bg-white dark:bg-slate-900 select-none touch-none ${O?"cursor-grabbing":"cursor-grab"}`,onMouseDown:z,onTouchStart:T,children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-slate-100 flex items-center gap-2 pointer-events-none",children:"Quantization Step Analysis"}),c.jsxs("div",{className:"flex items-center gap-1",children:[r&&c.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),c.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 p-2",children:c.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),c.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-800/50 border-b border-gray-200 dark:border-slate-700 flex flex-wrap gap-4 items-end flex-shrink-0",children:[c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"Channel"}),c.jsx("select",{value:d,onChange:P=>h(P.target.value),className:"bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded px-3 py-1.5 text-sm text-gray-900 dark:text-slate-100 outline-none focus:ring-1 focus:ring-cyan-500 min-w-[80px]",children:G.map(P=>c.jsx("option",{value:P,children:P},P))})]}),c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"Black Level"}),c.jsx("input",{type:"number",value:p,onChange:P=>y(Number(P.target.value)),className:"w-24 px-3 py-1.5 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-sm text-gray-900 dark:text-slate-100"})]}),c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"White Level"}),c.jsx("input",{type:"number",value:v,onChange:P=>b(Number(P.target.value)),className:"w-24 px-3 py-1.5 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-sm text-gray-900 dark:text-slate-100"})]}),c.jsx("button",{onClick:C,disabled:x,className:"mb-0.5 px-5 py-1.5 bg-cyan-600 hover:bg-cyan-500 text-white font-bold rounded shadow-sm hover:shadow transition-colors disabled:opacity-50 text-sm",children:x?"Analyzing...":"Run Analysis"})]}),c.jsxs("div",{className:"flex-1 overflow-y-auto p-4 flex flex-col gap-4 bg-white dark:bg-slate-900 min-h-0",children:[w&&c.jsx("div",{className:"p-3 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 rounded text-sm text-center flex-shrink-0",children:w}),!m&&!x&&!w&&c.jsx("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-400 dark:text-slate-500 h-full",children:c.jsx("p",{children:"Configure parameters and click Run Analysis"})}),m&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 flex-shrink-0",children:[c.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 rounded-lg border border-gray-200 dark:border-slate-700 text-center",children:[c.jsx("div",{className:"text-xs text-gray-500 dark:text-slate-400 uppercase mb-1",children:"Unique Codes"}),c.jsx("div",{className:"text-xl font-bold text-gray-900 dark:text-slate-100",children:m.uniqueCount})]}),c.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 rounded-lg border border-gray-200 dark:border-slate-700 text-center",children:[c.jsx("div",{className:"text-xs text-gray-500 dark:text-slate-400 uppercase mb-1",children:"Total Diffs"}),c.jsx("div",{className:"text-xl font-bold text-gray-900 dark:text-slate-100",children:m.diffCount})]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800/50 rounded-xl border border-gray-200 dark:border-slate-700 overflow-hidden flex-shrink-0",children:[c.jsx("div",{className:"px-4 py-2 bg-gray-50 dark:bg-slate-800 border-b border-gray-200 dark:border-slate-700 text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"Step Distribution"}),c.jsx("div",{className:"p-4 flex flex-wrap gap-x-8 gap-y-2 text-sm font-mono max-h-32 overflow-y-auto",children:Object.entries(m.stepCounts).sort((P,E)=>parseFloat(P[0])-parseFloat(E[0])).map(([P,E])=>c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("span",{className:"text-gray-500 dark:text-slate-400",children:["Step ",P,":"]}),c.jsx("span",{className:"text-cyan-600 dark:text-cyan-400 font-bold",children:String(E)})]},P))})]}),c.jsxs("div",{className:"flex-1 bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 rounded-xl p-2 relative overflow-hidden min-h-[300px]",children:[c.jsx("div",{className:"absolute top-2 left-4 text-xs font-bold text-gray-400 dark:text-slate-500 pointer-events-none z-20 bg-white/80 dark:bg-slate-900/80 px-2 rounded",children:"Step Size vs Code Value"}),c.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-0 pointer-events-none select-none opacity-10 mix-blend-normal dark:mix-blend-plus-lighter",children:c.jsx("svg",{viewBox:"0 0 500 60",className:"w-96 h-auto",children:c.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"36",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})}),c.jsx("div",{className:"relative z-10 w-full h-full",children:c.jsx(po,{width:"100%",height:"100%",children:c.jsxs(Rs,{data:m.plotData,margin:{top:20,right:20,bottom:20,left:10},children:[c.jsx(Ya,{strokeDasharray:"3 3",stroke:"#374151",opacity:.1}),c.jsx(zn,{dataKey:"x",type:"number",domain:["auto","auto"],tick:{fill:"#9ca3af",fontSize:10},label:{value:"Code Value (Shifted)",position:"insideBottom",offset:-10,fill:"#9ca3af",fontSize:11}}),c.jsx(Un,{tick:{fill:"#9ca3af",fontSize:10},domain:[0,"auto"],allowDataOverflow:!1,label:{value:"Step Size (Delta)",angle:-90,position:"insideLeft",fill:"#9ca3af",fontSize:11}}),c.jsx(Hr,{contentStyle:{backgroundColor:"rgba(17, 24, 39, 0.95)",border:"1px solid #374151",borderRadius:"0.5rem",color:"#f3f4f6",fontSize:"12px"},labelFormatter:P=>`Val: ${P}`,formatter:P=>[P,"Step Size"]}),c.jsx(jr,{type:"stepAfter",dataKey:"y",stroke:"#0891b2",strokeWidth:1.5,dot:{r:1.5,fill:"#0891b2",strokeWidth:0},activeDot:{r:4},isAnimationActive:!1})]})})})]})]})]})]})},KQ=({isOpen:e,onClose:t,rawImageData:r,roi:n,isBGGR:a,zIndex:o,onFocus:i,initialPosition:s,stackFiles:l})=>{const[u,f]=S.useState("cross"),[d,h]=S.useState("R"),[p,y]=S.useState("B"),[v,b]=S.useState("H"),[m,g]=S.useState(null),[x,j]=S.useState(!1),[w,k]=S.useState(0),[N,_]=S.useState(0),[O,A]=S.useState("single"),M=a?{B:0,G1:1,G2:2,R:3}:{R:0,G1:1,G2:2,B:3},C=a?["B","G1","G2","R"]:["R","G1","G2","B"],R=async z=>{if(!r||!n)return;j(!0),A(z),k(0),g(null);let T=M[d],G=u==="cross"?M[p]:T,P=0,E=0;u==="self"&&(v==="H"?E=2:P=2),setTimeout(async()=>{try{let $={sumCov:0,sumVar1:0,sumVar2:0,n:0};if(z==="single")$=uk(r.data,r.width,r.height,n,T,G,P,E);else if(l&&l.length>0)for(let U=0;U<l.length;U++){k(U+1);const te=await l[U].arrayBuffer(),K=await vh(te),L=uk(K.data,K.width,K.height,n,T,G,P,E);$.sumCov+=L.sumCov,$.sumVar1+=L.sumVar1,$.sumVar2+=L.sumVar2,$.n+=L.n}_($.n),g(DQ($))}catch($){console.error("Pearson calculation failed",$),alert("Calculation error: "+$.message)}finally{j(!1)}},50)};return e?c.jsxs(Bu,{initialPosition:s||{x:200,y:200},onClose:t,zIndex:o,onFocus:i,className:"w-80 bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 flex flex-col shadow-2xl overflow-hidden",children:[c.jsxs("div",{className:"flex justify-between items-center px-4 py-3 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800",children:[c.jsxs("h3",{className:"text-sm font-bold text-gray-700 dark:text-slate-200 flex items-center gap-2",children:["Pearson Correlation",c.jsx("span",{className:"text-[10px] font-normal bg-white dark:bg-slate-700 px-1.5 py-0.5 rounded border border-gray-200 dark:border-slate-600",children:"r"})]}),c.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 transition-colors",children:c.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsxs("div",{className:"p-4 flex flex-col gap-4",children:[c.jsxs("div",{className:"flex bg-gray-100 dark:bg-slate-800 p-1 rounded-lg border border-gray-200 dark:border-slate-700",children:[c.jsx("button",{onClick:()=>f("cross"),className:`flex-1 py-1 text-[10px] font-bold rounded transition-all ${u==="cross"?"bg-indigo-600 text-white shadow":"text-gray-500 dark:text-slate-400 hover:bg-gray-200 dark:hover:bg-slate-700"}`,children:"Cross-Channel"}),c.jsx("button",{onClick:()=>f("self"),className:`flex-1 py-1 text-[10px] font-bold rounded transition-all ${u==="self"?"bg-indigo-600 text-white shadow":"text-gray-500 dark:text-slate-400 hover:bg-gray-200 dark:hover:bg-slate-700"}`,children:"Self-Adjacent"})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"flex-1 flex flex-col gap-1",children:[c.jsx("label",{className:"text-[9px] uppercase font-bold text-gray-400",children:u==="cross"?"Channel 1":"Channel"}),c.jsx("select",{value:d,onChange:z=>h(z.target.value),className:"bg-gray-100 dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded px-2 py-1.5 text-xs text-gray-700 dark:text-slate-200 outline-none focus:ring-1 focus:ring-indigo-500",children:C.map(z=>c.jsx("option",{value:z,children:z},z))})]}),c.jsx("div",{className:"text-gray-300 dark:text-slate-600 mt-4 font-mono",children:u==="cross"?"":""}),c.jsxs("div",{className:"flex-1 flex flex-col gap-1",children:[c.jsx("label",{className:"text-[9px] uppercase font-bold text-gray-400",children:u==="cross"?"Channel 2":"Direction"}),u==="cross"?c.jsx("select",{value:p,onChange:z=>y(z.target.value),className:"bg-gray-100 dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded px-2 py-1.5 text-xs text-gray-700 dark:text-slate-200 outline-none focus:ring-1 focus:ring-indigo-500",children:C.map(z=>c.jsx("option",{value:z,children:z},z))}):c.jsxs("div",{className:"flex h-[28px] bg-gray-100 dark:bg-slate-800 rounded border border-gray-200 dark:border-slate-700 p-0.5",children:[c.jsx("button",{onClick:()=>b("H"),className:`flex-1 text-[9px] font-bold rounded ${v==="H"?"bg-slate-300 dark:bg-slate-600 text-indigo-600 dark:text-indigo-400":"text-gray-400"}`,children:"Horiz"}),c.jsx("button",{onClick:()=>b("V"),className:`flex-1 text-[9px] font-bold rounded ${v==="V"?"bg-slate-300 dark:bg-slate-600 text-indigo-600 dark:text-indigo-400":"text-gray-400"}`,children:"Vert"})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[c.jsx("button",{onClick:()=>R("single"),disabled:x,className:"w-full py-2 bg-indigo-600 hover:bg-indigo-500 disabled:bg-gray-400 text-white font-bold rounded shadow-md transition-all active:scale-95 text-xs",children:x&&O==="single"?"Calculating...":"Calc Current Frame"}),l&&l.length>0&&c.jsxs("button",{onClick:()=>R("stack"),disabled:x,className:"w-full py-2 bg-emerald-600 hover:bg-emerald-500 disabled:bg-gray-400 text-white font-bold rounded shadow-md transition-all active:scale-95 text-xs flex flex-col items-center justify-center",children:[c.jsx("span",{children:"Calc Stack Concatenated"}),x&&O==="stack"&&c.jsxs("span",{className:"text-[9px] font-normal opacity-80",children:["Progress: ",w," / ",l.length]})]})]}),m!==null&&c.jsxs("div",{className:"mt-2 p-4 bg-gray-50 dark:bg-slate-800/50 rounded-xl border border-gray-200 dark:border-slate-700 text-center animate-in fade-in slide-in-from-top-2",children:[c.jsxs("div",{className:"text-[10px] uppercase font-bold text-gray-400 dark:text-slate-500 mb-1",children:[u==="cross"?"Cross-Channel":`Self-Adj (${v})`," r"]}),c.jsx("div",{className:"text-2xl font-mono font-bold text-indigo-600 dark:text-indigo-400 select-all",style:{fontSize:"24px"},children:m.toFixed(5)}),c.jsxs("div",{className:"text-[9px] text-gray-400 mt-2 font-mono",children:["N = ",N.toLocaleString()," pairs"]}),c.jsx("div",{className:"mt-3 text-[10px] font-bold",children:Math.abs(m)>.5?c.jsx("span",{className:"text-red-500",children:"Significant Correlation"}):Math.abs(m)>.1?c.jsx("span",{className:"text-amber-500",children:"Weak Correlation"}):c.jsx("span",{className:"text-emerald-500",children:"Near-Zero (Uncorrelated)"})})]})]}),c.jsx("div",{className:"p-3 bg-gray-50/50 dark:bg-slate-800/30 text-[9px] text-gray-400 dark:text-slate-600 italic border-t border-gray-100 dark:border-slate-800",children:u==="cross"?"Comparing two color channels in the same Bayer 2x2 cells.":`Comparing pixel (r,c) with (r${v==="V"?"+2":""}, c${v==="H"?"+2":""}) in the same channel.`})]}):null},YQ=[{href:"https://y-g-jiang.github.io/CBLD.html",text:" (Primary Source)",abbr:"CBLD",description:"ISO",highlight:!0},{href:"https://y-G-jiang.github.io/LAC.html",text:"",abbr:"LAC",description:""},{href:"https://y-G-jiang.github.io/CCGV.html",text:"adobeIECMF",abbr:"CCGV",description:"acrRAWxy"},{href:"https://y-G-jiang.github.io/JTJS.html",text:"",abbr:"JTJS",description:"CMF/"},{href:"https://y-G-jiang.github.io/XJZS.html",text:"",abbr:"XJZS",description:""}],qQ=({isOpen:e,onClose:t})=>{const[r,n]=S.useState({pv:"--",uv:"--"});return S.useEffect(()=>{if(e){const a=()=>{const i=document.getElementById("vercount_value_site_pv"),s=document.getElementById("vercount_value_site_uv");i&&s&&n({pv:i.innerText||"--",uv:s.innerText||"--"})};a();const o=setTimeout(a,1e3);return()=>clearTimeout(o)}},[e]),e?c.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",onClick:t,children:c.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-3xl rounded-2xl shadow-2xl border border-gray-200 dark:border-slate-700 overflow-hidden flex flex-col max-h-[90vh]",onClick:a=>a.stopPropagation(),children:[c.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"About / Tools"}),c.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 transition-colors p-1 rounded hover:bg-gray-200 dark:hover:bg-slate-700",children:c.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsxs("div",{className:"p-6 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-slate-700",children:[c.jsx("div",{className:"mb-8 p-4 bg-gray-50 dark:bg-slate-800/50 rounded-xl border border-gray-100 dark:border-slate-700 text-center",children:c.jsxs("p",{className:"text-lg text-gray-700 dark:text-slate-300",children:[c.jsx("span",{className:"font-bold mr-2",children:"about:"}),c.jsx("a",{href:"https://y-g-jiang.github.io/JOindex.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline break-all font-mono",children:"https://y-g-jiang.github.io/JOindex.html"})]})}),c.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[c.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 flex-1"}),c.jsx("span",{className:"text-sm font-bold text-gray-400 dark:text-slate-500 uppercase tracking-wider",children:"Primary Resources"}),c.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 flex-1"})]}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-8",children:YQ.map(a=>c.jsxs("a",{href:a.href,target:"_blank",rel:"noopener noreferrer",className:`group block p-4 rounded-xl border transition-all duration-200 relative overflow-hidden ${a.highlight?"border-cyan-500 dark:border-cyan-400 bg-cyan-50/30 dark:bg-cyan-900/10 shadow-lg scale-[1.02] ring-2 ring-cyan-500/20":"border-gray-200 dark:border-slate-700 bg-white dark:bg-slate-800/30 hover:bg-gray-50 dark:hover:bg-slate-800 hover:border-cyan-500"}`,children:[c.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-gradient-to-bl from-cyan-500/5 to-transparent -mr-8 -mt-8 rounded-full pointer-events-none group-hover:from-cyan-500/10 transition-colors"}),c.jsxs("div",{className:"flex items-center gap-3 mb-2 relative z-10",children:[c.jsx("span",{className:`px-2 py-1 text-xs font-bold rounded transition-colors border ${a.highlight?"bg-cyan-600 text-white border-cyan-500":"bg-gray-100 dark:bg-slate-700 text-gray-600 dark:text-slate-300 border-gray-200 dark:border-slate-600 group-hover:border-cyan-200"}`,children:a.abbr}),c.jsx("h3",{className:`font-bold transition-colors ${a.highlight?"text-cyan-700 dark:text-cyan-300":"text-gray-800 dark:text-slate-200 group-hover:text-cyan-600"}`,children:a.text})]}),c.jsx("p",{className:`text-xs pl-1 transition-colors relative z-10 ${a.highlight?"text-cyan-600/80 dark:text-cyan-400/80":"text-gray-500 dark:text-slate-400"}`,children:a.description})]},a.abbr))}),c.jsxs("div",{className:"p-4 bg-slate-100 dark:bg-slate-800 rounded-xl border border-gray-200 dark:border-slate-700",children:[c.jsx("h3",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wider mb-4 text-center",children:"Site Traffic (Vercount)"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"flex flex-col items-center p-3 bg-white dark:bg-slate-900 rounded-lg shadow-sm",children:[c.jsx("div",{className:"text-xs text-gray-400 uppercase mb-1",children:"Total Views"}),c.jsx("div",{className:"text-xl sm:text-2xl font-mono font-bold text-indigo-600 dark:text-indigo-400",children:r.pv})]}),c.jsxs("div",{className:"flex flex-col items-center p-3 bg-white dark:bg-slate-900 rounded-lg shadow-sm",children:[c.jsx("div",{className:"text-xs text-gray-400 uppercase mb-1",children:"Unique Visitors"}),c.jsx("div",{className:"text-xl sm:text-2xl font-mono font-bold text-emerald-600 dark:text-emerald-400",children:r.uv})]})]})]})]})]})}):null},ZQ=({isOpen:e,onClose:t,data:r,fileName:n,warning:a})=>{const[o,i]=S.useState(""),s=f=>{const d=new WeakSet;try{return JSON.stringify(f,(h,p)=>{if(typeof p=="bigint")return p.toString()+"n";if(typeof p=="object"&&p!==null){if(d.has(p))return"[Circular]";if(d.add(p),ArrayBuffer.isView(p))return`[${p.constructor.name}]`}return p})}catch{return"[Unable to serialize object]"}},l=S.useMemo(()=>{if(!r)return[];const f=[],d=(h,p=0)=>{if(p>5)return"...";if(h==null)return String(h);if(h instanceof Date)return h.toLocaleString();if(typeof h=="number")return h.toString();if(typeof h=="string")return h;if(typeof h=="bigint")return h.toString()+"n";if(ArrayBuffer.isView(h))return`<${h.constructor.name} len=${h.length} bytes=${h.byteLength}>`;if(h instanceof ArrayBuffer)return`<ArrayBuffer bytes=${h.byteLength}>`;if(typeof h=="object"){if(Array.isArray(h))return h.length===0?"[]":h.length>20?`[${h.slice(0,10).map(b=>typeof b=="number"?b.toFixed(2):d(b,p+1)).join(", ")}, ... (+${h.length-10} more)]`:`[${h.map(v=>typeof v=="number"?Number.isInteger(v)?v:v.toFixed(4):d(v,p+1)).join(", ")}]`;try{const y=Object.keys(h);return y.length>5?`{Object with ${y.length} keys}`:s(h)}catch{return"<Complex Object>"}}return String(h)};try{if(typeof r!="object")return[{key:"Value",value:String(r)}];Object.keys(r).sort().forEach(p=>{if(p==="MakerNote"||p==="UserComment"||p.includes("Strip")||p.includes("Offset")){f.push({key:p,value:"<Binary/Internal Data>"});return}const y=r[p];f.push({key:p,value:d(y)})})}catch(h){console.error("Error processing EXIF data:",h),f.push({key:"Error",value:"Failed to process metadata structure."})}return f},[r]);if(!e)return null;const u=l.filter(f=>f.key.toLowerCase().includes(o.toLowerCase())||f.value.toLowerCase().includes(o.toLowerCase()));return c.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",onClick:t,children:c.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-3xl max-h-[90vh] rounded-2xl shadow-2xl flex flex-col border border-gray-200 dark:border-slate-700",onClick:f=>f.stopPropagation(),children:[c.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-gray-200 dark:border-slate-700",children:[c.jsxs("div",{className:"overflow-hidden",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-slate-100",children:"EXIF Data"}),c.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mt-1 font-mono truncate",children:n})]}),c.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 transition-colors p-2 rounded-full hover:bg-gray-100 dark:hover:bg-slate-800",children:c.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a&&c.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 px-4 py-2 border-b border-amber-100 dark:border-amber-800/50 text-center",children:c.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400 whitespace-pre-line font-medium leading-relaxed",children:a})}),c.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50",children:c.jsxs("div",{className:"relative",children:[c.jsx("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),c.jsx("input",{type:"text",placeholder:"Search tags...",value:o,onChange:f=>i(f.target.value),className:"w-full pl-9 pr-4 py-2 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded-lg text-sm focus:ring-2 focus:ring-cyan-500 outline-none text-gray-900 dark:text-slate-100 transition-colors placeholder-gray-400"})]})}),c.jsx("div",{className:"overflow-y-auto flex-1 p-0 scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-slate-700",children:u.length>0?c.jsxs("table",{className:"w-full text-left border-collapse table-fixed",children:[c.jsx("thead",{className:"bg-gray-50 dark:bg-slate-800 sticky top-0 shadow-sm z-10",children:c.jsxs("tr",{children:[c.jsx("th",{className:"py-3 px-5 font-semibold text-xs text-gray-500 dark:text-slate-400 uppercase tracking-wider w-1/3 border-b border-gray-200 dark:border-slate-700",children:"Tag Name"}),c.jsx("th",{className:"py-3 px-5 font-semibold text-xs text-gray-500 dark:text-slate-400 uppercase tracking-wider w-2/3 border-b border-gray-200 dark:border-slate-700",children:"Value"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-slate-800",children:u.map(f=>c.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-800/50 transition-colors group",children:[c.jsx("td",{className:"py-2 px-5 text-sm font-medium text-cyan-600 dark:text-cyan-400 font-mono break-words align-top",children:f.key}),c.jsx("td",{className:"py-2 px-5 text-sm text-gray-700 dark:text-slate-300 font-mono break-words align-top group-hover:text-gray-900 dark:group-hover:text-slate-100",children:f.value})]},f.key))})]}):c.jsx("div",{className:"flex flex-col items-center justify-center h-64 text-gray-400 dark:text-slate-500",children:c.jsxs("p",{children:['No tags found matching "',o,'"']})})}),c.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50 flex justify-end rounded-b-2xl",children:c.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-800 dark:text-white rounded-lg text-sm font-semibold transition-colors",children:"Close"})})]})})},QQ=100,Ap=e=>{if(e.length===0)return 0;if(e.length===1)return e[0];if(e.length===2)return .5*(e[0]+e[1]);let t=[...e].sort((r,n)=>r-n);for(;t.length>4;){let r=1/0,n=0;const a=t.length,o=Math.floor(a/2);for(let i=0;i<=a-o;i++){const s=t[i+o-1]-t[i];s<r&&(r=s,n=i)}t=t.slice(n,n+o)}return t.reduce((r,n)=>r+n,0)/t.length},hk=({min:e,max:t,value:r,onChange:n,vertical:a=!1,logScale:o=!1})=>{const i=S.useRef(null),s=S.useRef(null),l=S.useCallback(g=>{const x=o?Math.max(1e-6,e):e,j=o?Math.max(x*1.0001,t):t,w=Math.max(x,Math.min(j,g));if(o){const k=Math.log10(x),N=Math.log10(j);return(Math.log10(w)-k)/(N-k)}return(w-x)/(j-x)},[e,t,o]),u=S.useCallback(g=>{const x=o?Math.max(1e-6,e):e,j=o?Math.max(x*1.0001,t):t;if(o){const w=Math.log10(x),k=Math.log10(j);return Math.pow(10,w+g*(k-w))}return x+g*(j-x)},[e,t,o]),f=(g,x)=>{g.preventDefault(),g.stopPropagation(),s.current=x;const j=k=>{if(!s.current||!i.current)return;const N=i.current.getBoundingClientRect();let _=0;a?_=(N.bottom-k.clientY)/N.height:_=(k.clientX-N.left)/N.width,_=Math.max(0,Math.min(1,_));const O=u(_);if(s.current==="min"){const A=r[1];n([Math.min(O,A),A])}else{const A=r[0];n([A,Math.max(O,A)])}},w=()=>{s.current=null,window.removeEventListener("mousemove",j),window.removeEventListener("mouseup",w)};window.addEventListener("mousemove",j),window.addEventListener("mouseup",w)},d=l(r[0])*100,h=l(r[1])*100,p=a?{left:"50%",top:0,bottom:0,width:"4px",transform:"translateX(-50%)"}:{top:"50%",left:0,right:0,height:"4px",transform:"translateY(-50%)"},y=a?{left:"50%",bottom:`${d}%`,height:`${h-d}%`,width:"4px",transform:"translateX(-50%)"}:{top:"50%",left:`${d}%`,width:`${h-d}%`,height:"4px",transform:"translateY(-50%)"},v="absolute w-3 h-3 bg-white border-2 border-cyan-600 rounded-full shadow-md cursor-pointer hover:scale-125 transition-transform z-10",b=a?{left:"50%",bottom:`${d}%`,transform:"translate(-50%, 50%)"}:{top:"50%",left:`${d}%`,transform:"translate(-50%, -50%)"},m=a?{left:"50%",bottom:`${h}%`,transform:"translate(-50%, 50%)"}:{top:"50%",left:`${h}%`,transform:"translate(-50%, -50%)"};return c.jsxs("div",{ref:i,className:`relative select-none ${a?"h-full w-4 py-2":"w-full h-4 px-2"}`,children:[c.jsx("div",{className:"absolute bg-gray-300 dark:bg-slate-600 rounded-full",style:p}),c.jsx("div",{className:"absolute bg-cyan-500 dark:bg-cyan-400 rounded-full",style:y}),c.jsx("div",{className:v,style:b,onMouseDown:g=>f(g,"min")}),c.jsx("div",{className:v,style:m,onMouseDown:g=>f(g,"max")})]})},JQ=({isOpen:e,onClose:t,data:r,blackLevel:n,imageHeight:a,isBGGR:o,importedMetadata:i,theme:s,initialCameraModel:l,initialISO:u})=>{const[f,d]=S.useState("Noise"),[h,p]=S.useState(!0),[y,v]=S.useState(null),[b,m]=S.useState("default"),[g,x]=S.useState(!1),[j,w]=S.useState(!1),[k,N]=S.useState({R:!0,G1:!0,G2:!0,B:!0}),[_,O]=S.useState(""),[A,M]=S.useState(""),[C,R]=S.useState(""),[z,T]=S.useState(""),[G,P]=S.useState("10"),[E,$]=S.useState(""),[U,te]=S.useState("0 0 0 0"),[K,L]=S.useState("0 0 0 0"),[ee,Z]=S.useState(!1),[D,ae]=S.useState(null),[ce,Y]=S.useState(!1),[le,ge]=S.useState(0),[H,ie]=S.useState([]),[se,ke]=S.useState(""),[Be,Re]=S.useState(""),wt=()=>{const F=parseFloat(se),Q=parseFloat(Be);!isNaN(F)&&!isNaN(Q)&&(ie([...H,{id:Date.now(),x:F,y:Q}]),ke(""),Re(""))},[Pt,De]=S.useState(()=>localStorage.getItem("ptc_tester_name")||""),[He,kt]=S.useState(""),[Ct,Wt]=S.useState("");S.useEffect(()=>{localStorage.setItem("ptc_tester_name",Pt)},[Pt]);const Nr=S.useRef(ee),_r=S.useRef(ce),rr=S.useRef(le);S.useEffect(()=>{Nr.current=ee,_r.current=ce,rr.current=le},[ee,ce,le]);const[Qt,Or]=S.useState(null),[Gt,Pr]=S.useState({min:.01,max:90}),[lt,Fe]=S.useState({readNoise:0,gain:1,prnu:.5}),[ut,Lt]=S.useState(2e6),cr=S.useRef(lt),Kr=S.useRef(Gt),An=S.useRef(ut);S.useEffect(()=>{cr.current=lt,Kr.current=Gt,An.current=ut},[lt,Gt,ut]);const[Ht,Vt]=S.useState({read:"0",gain:"1.0",prnu:"0.5",rangeMin:"0.01",rangeMax:"90"}),[it,Et]=S.useState({read:!0,shot:!0,prnu:!0,total:!0,fitRange:!0}),[Yr,vr]=S.useState(!1),[Ar,Mn]=S.useState([]),[na,Gn]=S.useState(null),[Cn,yn]=S.useState(""),qr=S.useMemo(()=>n?n.join(","):"",[n]);S.useEffect(()=>{if(e){let F="0 0 0 0";i&&i.blackLevel?F=i.blackLevel.join(" "):F=n&&n.length===4?n.join(" "):"0 0 0 0",te(F),L(F);let Q="";if(i&&i.height?Q=i.height.toString():a&&(Q=a.toString()),$(Q),Q){const re=parseFloat(Q);!isNaN(re)&&re>0?P((2309.4/re).toFixed(2)):P("10")}else P("10");ae(null),Z(!1),Y(!1),ge(0),Mn([]),Gn(null),Pr({min:.01,max:90}),Vt({read:"0",gain:"0",prnu:"0",rangeMin:"0.01",rangeMax:"90"}),Fe({readNoise:0,gain:0,prnu:0}),O(""),M(""),R(""),T(""),d("Noise"),Or(null),Lt(2e6),yn(""),w(!1),ie([]),kt(re=>re.trim()===""&&l?l:re),Wt(re=>re.trim()===""&&u?u:re)}},[e,qr,i,a,r,l,u]);const aa=F=>{if(F.key==="Enter"){const Q=parseFloat(E);if(!isNaN(Q)&&Q>0){const re=(2309.4/Q).toFixed(2);P(re)}F.target.blur()}},nr=S.useMemo(()=>{let Q=K.trim().split(/[\s,]+/).filter(Boolean).map(Number);for(Q.length===1&&(Q=[Q[0],Q[0],Q[0],Q[0]]);Q.length<4;)Q.push(0);const re=B=>{switch(B){case"R":return Q[0];case"G1":return Q[1];case"G2":return Q[2];case"B":return Q[3];default:return 0}};return r.map(B=>{const de=B.mean-re(B.channel),_e=B.std>0?de/B.std:0;return{...B,x:de,std:B.std,snr:_e}}).filter(B=>B.std>0)},[r,K]),At=S.useMemo(()=>{const F=lt.readNoise,Q=F*F;return nr.map(re=>{let B=0;if(f==="Noise")B=re.std;else if(f==="SNR")B=re.snr;else if(f==="Linear"){const _e=re.std*re.std-Q;B=re.x!==0?_e/re.x:0}return{...re,y:B}})},[nr,f,lt.readNoise]),Tt=S.useMemo(()=>{if(nr.length===0)return"G1";const F={R:0,G1:0,G2:0,B:0},Q={R:0,G1:0,G2:0,B:0};for(const de of nr)F[de.channel]+=de.x,Q[de.channel]++;let re="G1",B=-1/0;return Object.keys(F).forEach(de=>{const _e=Q[de],Ce=_e>0?F[de]/_e:-1/0;Ce>B&&(B=Ce,re=de)}),re},[nr]),oe=S.useCallback(()=>{let F=1/0,Q=-1/0;if(nr.length===0)return{min:.1,max:1};for(let re=0;re<nr.length;re++){const B=nr[re].x;h&&B<=0||(B<F&&(F=B),B>Q&&(Q=B))}return F===1/0?{min:.1,max:1}:{min:F,max:Q}},[nr,h]),Pe=S.useCallback(()=>{let F=1/0,Q=-1/0;if(At.length===0)return{min:.1,max:1};for(let re=0;re<At.length;re++){const B=At[re].y;h&&B<=0||(B<F&&(F=B),B>Q&&(Q=B))}return F===1/0?{min:.1,max:1}:{min:F*.9,max:Q*1.1}},[At,h]),{min:Le,max:Ze}=oe(),{min:Ke,max:yt}=Pe(),ur=Ze*(Gt.min/100),fr=Ze*(Gt.max/100),Ae=S.useMemo(()=>{if(!h&&At.length===0)return{shot:[],read:[],prnu:[],total:[]};const F=_?parseFloat(_):Le,Q=A?parseFloat(A):Ze,re=100,B=Math.max(.1,F),de=Math.max(1,Q);if(B>=de)return{shot:[],read:[],prnu:[],total:[]};const _e=Math.log10(B),Ve=(Math.log10(de)-_e)/re,Xe=lt.readNoise,We=lt.gain>0?lt.gain:1,st=lt.prnu/100,vt=[],Bt=[],ar=[],ue=[];for(let Ye=0;Ye<=re;Ye++){const Oe=Math.pow(10,_e+Ye*Ve);if(f==="Linear"){const $t=1/We,jt=st*st,on=$t+jt*Oe;ue.push({x:Oe,y:on}),vt.push({x:Oe,y:$t}),ar.push({x:Oe,y:jt*Oe})}else{const $t=Xe,jt=Math.sqrt(Oe/We),on=st*Oe,gt=Math.sqrt($t*$t+jt*jt+on*on);f==="Noise"?(vt.push({x:Oe,y:jt}),Bt.push({x:Oe,y:$t}),ar.push({x:Oe,y:on}),ue.push({x:Oe,y:gt})):(jt>0&&vt.push({x:Oe,y:Oe/jt}),$t>0&&Bt.push({x:Oe,y:Oe/$t}),on>0&&ar.push({x:Oe,y:Oe/on}),gt>0&&ue.push({x:Oe,y:Oe/gt}))}}return{shot:vt,read:Bt,prnu:ar,total:ue}},[At,h,_,A,lt,f,Le,Ze]),qe=S.useMemo(()=>{if(f==="Linear")return[];const F=parseFloat(G);if(isNaN(F)||F<=0)return[];const Q=_?parseFloat(_):Le,re=A?parseFloat(A):Ze;return f==="SNR"?[{x:Q,y:F},{x:re,y:F}]:[{x:Q,y:Q/F},{x:re,y:re/F}]},[At,G,f,_,A,Le,Ze]),ft=S.useCallback((F,Q)=>{if(!Q||Q.length===0)return null;const re=[...Q].sort((B,de)=>B.x-de.x);for(let B=0;B<re.length-1;B++){const de=re[B],_e=re[B+1];if(de.snr<=F&&_e.snr>=F||de.snr>=F&&_e.snr<=F){const Ce=(F-de.snr)/(_e.snr-de.snr);return de.x+Ce*(_e.x-de.x)}}return null},[]),dt=S.useMemo(()=>{const F=nr,Q=1e3,re=de=>{if(de.length===0)return[];if(de.length<=Q)return de;const _e=[...de].sort((Xe,We)=>Xe.x-We.x),Ce=[],Ve=_e.length/Q;for(let Xe=0;Xe<Q;Xe++){const We=Math.floor(Xe*Ve),st=Math.floor((Xe+1)*Ve),vt=_e.slice(We,st);if(vt.length===0)continue;vt.sort((ar,ue)=>ar.std-ue.std);const Bt=Math.floor(vt.length/2);Ce.push(vt[Bt])}return Ce},B={R:[],G1:[],G2:[],B:[]};return F.forEach(de=>{B[de.channel]&&B[de.channel].push(de)}),{R:re(B.R),G1:re(B.G1),G2:re(B.G2),B:re(B.B)}},[nr]),It=S.useMemo(()=>D&&lt.gain?D*lt.gain:null,[D,lt.gain]),me=S.useMemo(()=>{if(D===null||D===0)return null;const F=parseFloat(G);let Q=null;if(!isNaN(F)&&F>0){let Ce=0,Ve=0;if(["R","G1","G2","B"].forEach(Xe=>{const We=ft(F,dt[Xe]);We!==null&&(Ce+=We,Ve++)}),Ve>0){const Xe=Ce/Ve;Q=Math.log2(D/Xe)}}const re=parseFloat(E);let B=null,de=NaN;if(!isNaN(re)&&re>0){de=16e3/re;let Ce=0,Ve=0;if(["R","G1","G2","B"].forEach(Xe=>{const We=ft(de,dt[Xe]);We!==null&&(Ce+=We,Ve++)}),Ve>0){const Xe=Ce/Ve;B=Math.log2(D/Xe)}}let _e=null;if(!isNaN(re)&&re>0){const Ce=ft(de,dt[Tt]);Ce!==null&&(_e=Math.log2(D/Ce))}return{manualDR:Q,ptpDR:B,d55DR:_e,manualTarget:F,ptpTarget:de,saturationSignal:D,dominantChannel:Tt}},[D,G,E,dt,ft,Tt]),Zr=S.useMemo(()=>{if(f==="Linear"||!me||!me.ptpTarget||isNaN(me.ptpTarget))return[];const F=me.ptpTarget,Q=_?parseFloat(_):Le,re=A?parseFloat(A):Ze;return f==="SNR"?[{x:Q,y:F},{x:re,y:F}]:[{x:Q,y:Q/F},{x:re,y:re/F}]},[f,me,_,A,Le,Ze]),ui=S.useCallback(()=>{const re=document.createElement("canvas");re.width=2048,re.height=1536;const B=re.getContext("2d");if(!B)return;const de=s==="dark",_e=de?"#0f172a":"#ffffff",Ce=de?"#ffffff":"#000000",Ve=de?"#475569":"#cbd5e1",Xe=de?"#1e293b":"#f1f5f9",We=o?{R:"#ef4444",G1:"#22c55e",G2:"#4ade80",B:"#3b82f6"}:{R:"#ef4444",G1:"#22c55e",G2:"#4ade80",B:"#3b82f6"};B.fillStyle=_e,B.fillRect(0,0,2048,1536);let st=_?parseFloat(_):Le,vt=A?parseFloat(A):Ze,Bt=C?parseFloat(C):Ke,ar=z?parseFloat(z):yt;isNaN(st)&&(st=.1),isNaN(vt)&&(vt=1e4),isNaN(Bt)&&(Bt=.1),isNaN(ar)&&(ar=1e3);const ue={top:80,right:80,bottom:100,left:120},Ye=2048-ue.left-ue.right,Oe=1536-ue.top-ue.bottom,$t=we=>{if(h){const at=Math.log10(Math.max(1e-9,st)),Je=Math.log10(Math.max(1e-9,vt)),et=Math.log10(Math.max(1e-9,we));return ue.left+(et-at)/(Je-at)*Ye}else return ue.left+(we-st)/(vt-st)*Ye},jt=we=>{if(h){const at=Math.log10(Math.max(1e-9,Bt)),Je=Math.log10(Math.max(1e-9,ar)),et=Math.log10(Math.max(1e-9,we));return ue.top+Oe-(et-at)/(Je-at)*Oe}else return ue.top+Oe-(we-Bt)/(ar-Bt)*Oe};if(B.beginPath(),h){const we=(at,Je,et)=>{const sn=Math.log10(Math.max(1e-9,at)),Tn=Math.log10(Math.max(1e-9,Je)),ia=Math.floor(sn),to=Math.ceil(Tn);for(let Oo=ia;Oo<=to;Oo++){const ja=Math.pow(10,Oo);let or=et?$t(ja):jt(ja);(et?or>=ue.left-1&&or<=ue.left+Ye+1:or>=ue.top-1&&or<=ue.top+Oe+1)&&(B.lineWidth=1.5,B.strokeStyle=Ve,B.beginPath(),et?(B.moveTo(or,ue.top),B.lineTo(or,ue.top+Oe)):(B.moveTo(ue.left,or),B.lineTo(ue.left+Ye,or)),B.stroke()),B.lineWidth=.5,B.strokeStyle=Xe;for(let Ll=2;Ll<10;Ll++){const Vu=Ll*ja;or=et?$t(Vu):jt(Vu),(et?or>=ue.left&&or<=ue.left+Ye:or>=ue.top&&or<=ue.top+Oe)&&(B.beginPath(),et?(B.moveTo(or,ue.top),B.lineTo(or,ue.top+Oe)):(B.moveTo(ue.left,or),B.lineTo(ue.left+Ye,or)),B.stroke())}}};we(st,vt,!0),we(Bt,ar,!1)}else{B.strokeStyle=Ve,B.lineWidth=1;for(let we=0;we<=5;we++){const at=ue.left+Ye*we/5;B.beginPath(),B.moveTo(at,ue.top),B.lineTo(at,ue.top+Oe),B.stroke();const Je=ue.top+Oe*we/5;B.beginPath(),B.moveTo(ue.left,Je),B.lineTo(ue.left+Ye,Je),B.stroke()}}B.strokeStyle=Ce,B.lineWidth=2,B.strokeRect(ue.left,ue.top,Ye,Oe);const on=(we,at,Je)=>{we<ue.left||we>ue.left+Ye||at<ue.top||at>ue.top+Oe||(B.fillStyle=Je,B.fillRect(we-1.5,at-1.5,3,3))},gt=At.filter(we=>!(h&&(we.x<=0||we.y<=0)));gt.forEach(we=>{k[we.channel]&&we.channel!==Tt&&on($t(we.x),jt(we.y),We[we.channel])}),gt.forEach(we=>{k[we.channel]&&we.channel===Tt&&on($t(we.x),jt(we.y),We[we.channel])}),H.forEach(we=>{const at=$t(we.x),Je=jt(we.y);if(at<ue.left||at>ue.left+Ye||Je<ue.top||Je>ue.top+Oe)return;B.strokeStyle="#d946ef",B.lineWidth=2.5;const et=6;B.beginPath(),B.moveTo(at-et,Je-et),B.lineTo(at+et,Je+et),B.moveTo(at+et,Je-et),B.lineTo(at-et,Je+et),B.stroke()});const Jt=(we,at,Je=[])=>{if(we.length<2)return;B.beginPath(),B.strokeStyle=at,B.lineWidth=3,B.setLineDash(Je);let et=!1;for(const sn of we){const Tn=$t(sn.x),ia=jt(sn.y);if(Tn<ue.left-100||Tn>ue.left+Ye+100||ia<ue.top-100||ia>ue.top+Oe+100){et=!1;continue}et?B.lineTo(Tn,ia):(B.moveTo(Tn,ia),et=!0)}B.stroke(),B.setLineDash([])},bn=de?"#ffffff":"#000000";if(it.shot&&Jt(Ae.shot,"#94a3b8",[5,5]),it.read&&Jt(Ae.read,"#f43f5e",[3,3]),it.prnu&&Jt(Ae.prnu,"#f59e0b",[3,3]),it.total&&Jt(Ae.total,bn,[]),qe.length===2){const we="#6366f1";Jt(qe,we,[4,2]);const at=qe[1],Je=jt(at.y);Je>=ue.top&&Je<=ue.top+Oe&&(B.fillStyle=we,B.font="bold 20px sans-serif",B.textAlign="right",B.textBaseline="bottom",B.fillText(`M.Tgt=${G}`,ue.left+Ye-10,Je-8))}if(Zr.length===2&&(me!=null&&me.ptpTarget)){const we="#10b981";Jt(Zr,we,[4,4]);const at=Zr[1],Je=jt(at.y);if(Je>=ue.top&&Je<=ue.top+Oe){B.fillStyle=we,B.font="bold 20px sans-serif",B.textAlign="right",B.textBaseline="bottom";const et=me.ptpTarget.toFixed(1),sn=qe.length===2?jt(qe[1].y):-100,Tn=Math.abs(Je-sn)<25?25:0;B.fillText(`PTP=${et}`,ue.left+Ye-10,Je-8-Tn)}}if(it.fitRange||ce){const we=(at,Je)=>{const et=$t(at);et>=ue.left&&et<=ue.left+Ye&&(B.beginPath(),B.strokeStyle=Je,B.lineWidth=2,B.setLineDash([8,8]),B.moveTo(et,ue.top),B.lineTo(et,ue.top+Oe),B.stroke(),B.setLineDash([]))};we(ur,"#22d3ee"),we(fr,"#22d3ee")}if(D){const we=$t(D);we>=ue.left&&we<=ue.left+Ye&&(B.strokeStyle="#ef4444",B.lineWidth=3,B.setLineDash([10,10]),B.beginPath(),B.moveTo(we,ue.top),B.lineTo(we,ue.top+Oe),B.stroke(),B.setLineDash([]),B.fillStyle="#ef4444",B.font="bold 24px sans-serif",B.textAlign="center",B.fillText("Sat",we,ue.top-10))}B.fillStyle=Ce,B.font="28px monospace",B.textAlign="center",B.fillText(st.toExponential(1),ue.left,ue.top+Oe+40),B.fillText(vt.toExponential(1),ue.left+Ye,ue.top+Oe+40),B.fillText("Signal (DN)",ue.left+Ye/2,ue.top+Oe+80),B.textAlign="right",B.textBaseline="middle",B.fillText(Bt.toExponential(1),ue.left-20,ue.top+Oe),B.fillText(ar.toExponential(1),ue.left-20,ue.top),B.save(),B.translate(ue.left-80,ue.top+Oe/2),B.rotate(-Math.PI/2),B.textAlign="center",B.fillText(f==="Linear"?"(Var - RN) / Mean":f,0,0),B.restore(),B.save(),B.translate(2048/2,1536/2),B.rotate(-Math.PI/6),B.textAlign="center",B.textBaseline="middle",B.fillStyle=de?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)",B.font="bold 150px sans-serif",B.fillText(" y-g-jiang.github.io",0,0),B.restore(),B.fillStyle=Ce,B.font="bold 36px sans-serif",B.textAlign="left",B.textBaseline="top",B.fillText(`PTC Export: ${f} Mode`,ue.left,20),B.font="24px sans-serif",B.fillStyle=de?"#94a3b8":"#64748b",B.fillText(`Points: ${At.length} | Sat Channel: ${Tt}`,ue.left,65);const eo=ue.left+30,Dl=ue.top+30,k0=70,zu=we=>{if(!D||we<=0)return"--";const at=lt.readNoise,Je=lt.gain,et=lt.prnu/100;if(Je<=0)return"--";const sn=we*we,Tn=at*at,ia=1-sn*et*et,to=-(sn/Je),Oo=-(sn*Tn);let ja=0;if(Math.abs(ia)<1e-8)Math.abs(to)>1e-8&&(ja=-Oo/to);else{const or=to*to-4*ia*Oo;or>=0&&(ja=(-to+Math.sqrt(or))/(2*ia))}return ja>0?Math.log2(D/ja).toFixed(2)+" EV":"--"},j0=me!=null&&me.ptpTarget&&!isNaN(me.ptpTarget)?zu(me.ptpTarget):"--",Uu=G?zu(parseFloat(G)):"--";B.font="bold 48px monospace",B.textAlign="left",B.textBaseline="top",B.shadowColor=de?"rgba(0,0,0,0.8)":"rgba(255,255,255,0.8)",B.shadowBlur=4,B.shadowOffsetX=1,B.shadowOffsetY=1;const En=(we,at,Je,et)=>{const sn=Dl+Je*k0;B.fillStyle=Ce,B.fillText(we,eo,sn);const Tn=B.measureText(we).width;B.fillStyle=et||Ce,B.fillText(at,eo+Tn,sn)},S0=Ht.read,as=parseFloat(Ht.gain).toFixed(3),N0=parseFloat(Ht.prnu).toFixed(2)+"%";let Wu=`M.DR@SNR${G}: `;const Rl=parseFloat(E);if(!isNaN(Rl)&&Rl>0){const we=(2309.4/Rl).toFixed(2);Math.abs(parseFloat(G)-parseFloat(we))<.05&&(Wu="8mpSNR=1 DR: ")}En("Tester: ",Pt||"N/A",0),En("Model : ",He||"Unknown",1),En("ISO   : ",Ct||"N/A",2),En("RN/FPN: ",S0,3,"#f43f5e"),En("KADC  : ",as,4,"#06b6d4"),En("PRNU  : ",N0,5,"#f59e0b"),En("PTP DR: ",me!=null&&me.ptpDR?me.ptpDR.toFixed(2)+" EV":"--",6,"#10b981"),En("D55 DR: ",me!=null&&me.d55DR?me.d55DR.toFixed(2)+" EV":"--",7,"#8b5cf6"),En("FWC   : ",It?It>1e4?(It/1e3).toFixed(1)+"k":Math.round(It).toString():"--",8,"#f97316"),En(Wu,me!=null&&me.manualDR?me.manualDR.toFixed(2)+" EV":"--",9,"#06b6d4"),En("PTCFitDR(PTP): ",j0,10,"#10b981"),En("PTCFitDR(Man): ",Uu,11,"#06b6d4"),B.save(),B.textAlign="right",B.textBaseline="bottom",B.fillStyle="#3b82f6",B.font="bold 80px sans-serif",B.shadowColor=de?"rgba(0,0,0,0.8)":"rgba(255,255,255,0.8)",B.shadowBlur=4,B.shadowOffsetX=2,B.shadowOffsetY=2;const Gu=1988,pi=1476,Hu=90;B.fillText("Online",Gu,pi),B.fillText("Jiangtherapee",Gu,pi-Hu),B.restore();const os=document.createElement("a");os.download=`ptc_complete_${f}_${Date.now()}.jpg`,os.href=re.toDataURL("image/jpeg",.9),os.click()},[At,Tt,k,_,A,C,z,Le,Ze,Ke,yt,h,s,f,D,o,it,Ae,ur,fr,Gt,ce,Pt,He,Ct,me,It,G,qe,Zr,Ht,E,H]),vn=S.useMemo(()=>{let F=At;if(h&&(F=F.filter(de=>de.y>0&&de.x>0)),b==="top3"){const de=[...F].sort((Ce,Ve)=>Ve.x-Ce.x),_e=Math.max(50,Math.ceil(de.length*.03));F=de.slice(0,_e)}const Q={R:[],G1:[],G2:[],B:[]};if(F.forEach(de=>{Q[de.channel]&&Q[de.channel].push(de)}),b==="raw")return Q;const re=b==="top3"?500:QQ,B=de=>{if(de.length<=re)return de;const _e=[...de].sort((Xe,We)=>Xe.x-We.x),Ce=[],Ve=_e.length/re;for(let Xe=0;Xe<re;Xe++){const We=Math.floor(Xe*Ve),st=Math.floor((Xe+1)*Ve),vt=_e.slice(We,st);if(vt.length===0)continue;vt.sort((ar,ue)=>ar.y-ue.y);const Bt=Math.floor(vt.length/2);Ce.push(vt[Bt])}return Ce};return{R:B(Q.R),G1:B(Q.G1),G2:B(Q.G2),B:B(Q.B)}},[At,b,h]),oa=S.useMemo(()=>{if(nr.length<5)return[];const F=nr.filter(re=>re.channel===Tt);return[...F.length>20?F:nr].sort((re,B)=>re.x-B.x).map(re=>({mean:re.x,std:re.std}))},[nr,Tt]),Hn=F=>{const Q=F.length;if(Q===0)return[];const re=F.reduce((Ye,Oe)=>Ye+Oe,0)/Q,B=F.reduce((Ye,Oe)=>Ye+Math.pow(Oe-re,2),0)/(Q-1||1),de=Math.sqrt(B);if(de===0)return[{x:re-.001,density:0},{x:re,density:1},{x:re+.001,density:0}];const _e=1.06*de*Math.pow(Q,-.2),Ce=Math.min(...F),Ve=Math.max(...F),Xe=(Ve-Ce)*.2||Ce*.1,We=Math.max(0,Ce-Xe),st=Ve+Xe,vt=100,Bt=(st-We)/(vt-1),ar=Ye=>1/Math.sqrt(2*Math.PI)*Math.exp(-.5*Ye*Ye),ue=[];for(let Ye=0;Ye<vt;Ye++){const Oe=We+Ye*Bt;let $t=0;for(let jt=0;jt<Q;jt++)$t+=ar((Oe-F[jt])/_e);$t/=Q*_e,ue.push({x:Oe,density:$t})}return ue},fi=S.useCallback((F,Q,re,B)=>{if(F.length<5)return{gain:0,prnu:0};const de=F[F.length-1].mean,_e=de*(re.min/100),Ce=de*(re.max/100),Ve=F.filter(gt=>gt.mean>=_e&&gt.mean<=Ce);if(Ve.length<5)return{gain:0,prnu:0};Or({nPoints:Ve.length});const Xe=Q*Q,We=[],st=[];if(Ve.forEach(gt=>{const bn=gt.std*gt.std-Xe;if(gt.mean>1&&bn>0){const eo=gt.mean,Dl=bn/gt.mean;We.push({x:eo,y:Dl}),st.push(gt.mean/bn)}}),We.length<5)return{gain:0,prnu:0};const vt=[],Bt=We.length,ar=B,ue=Bt*(Bt-1)/2;if(ue<=ar)for(let gt=0;gt<Bt;gt++)for(let Jt=gt+1;Jt<Bt;Jt++){const bn=We[Jt].x-We[gt].x;Math.abs(bn)>1e-5&&vt.push((We[Jt].y-We[gt].y)/bn)}else{const gt=Math.max(1,Math.floor(ue/ar));for(let Jt=0;Jt<Bt;Jt++)for(let bn=Jt+1;bn<Bt;bn+=gt){const eo=We[bn].x-We[Jt].x;Math.abs(eo)>1e-5&&vt.push((We[bn].y-We[Jt].y)/eo)}}const Ye=Ap(vt),Oe=We.map(gt=>gt.y-Ye*gt.x),$t=Ap(Oe);let jt=0,on=0;if($t>1e-6?jt=1/$t:jt=Ap(st),Ye>0&&(on=Math.sqrt(Ye)*100),st.length>0){const gt=Hn(st);Mn(gt),Gn(jt)}else Mn([]);return{gain:jt,prnu:on}},[]),V=S.useCallback(F=>{let Q=F.read??cr.current.readNoise;const re=F.gRange??Kr.current,B=An.current;if((F.read!==void 0||F.gRange!==void 0)&&F.gain===void 0&&F.prnu===void 0&&oa.length>0&&Q>=0)w(!0),setTimeout(()=>{const _e=fi(oa,Q,re,B);let Ce=cr.current.gain,Ve=cr.current.prnu;_e.gain>0&&(Ce=_e.gain,Ve=_e.prnu),Fe({readNoise:Q,gain:Ce,prnu:Ve}),F.gRange!==void 0&&Pr(F.gRange),Vt(Xe=>{var We,st;return{...Xe,read:Q.toString(),gain:Ce>0?Ce.toFixed(3):"0",prnu:Ve.toFixed(2),rangeMin:(((We=F.gRange)==null?void 0:We.min)??Xe.rangeMin).toString(),rangeMax:(((st=F.gRange)==null?void 0:st.max)??Xe.rangeMax).toString()}}),w(!1)},50);else{let _e=F.gain!==void 0?F.gain:cr.current.gain,Ce=F.prnu!==void 0?F.prnu:cr.current.prnu;Fe({readNoise:Q,gain:_e,prnu:Ce}),F.gRange!==void 0&&Pr(F.gRange),Vt(Ve=>{var Xe,We;return{...Ve,read:Q.toString(),gain:_e>0?_e.toFixed(3):"0",prnu:Ce.toFixed(2),rangeMin:(((Xe=F.gRange)==null?void 0:Xe.min)??Ve.rangeMin).toString(),rangeMax:(((We=F.gRange)==null?void 0:We.max)??Ve.rangeMax).toString()}})}},[oa,fi]),Se=`${K}-${r.length}`;S.useEffect(()=>{if(!e||!r||r.length===0)return;const F=vn[Tt];if(!F||F.length===0||Cn===Se)return;N({R:Tt==="R",G1:Tt==="G1",G2:Tt==="G2",B:Tt==="B"});const Q=[...F].sort((_e,Ce)=>_e.x-Ce.x);let re=0;Q.length>0&&(re=Q[0].std);const B=nr.filter(_e=>_e.channel===Tt);let de=-1/0;for(const _e of B)_e.x>de&&(de=_e.x);de!==-1/0&&ae(de),V({read:re}),yn(Se)},[e,r,Cn,Se,vn,Tt,V,nr]);const nt=(F,Q)=>{Vt(re=>({...re,[F]:Q}))},Mr=F=>{let Q=parseFloat(Ht[F]);isNaN(Q)||Q<0||V({[F]:Q})},Cr=()=>{L(U),yn("")},Qr=()=>{const F=parseFloat(Ht.rangeMin),Q=parseFloat(Ht.rangeMax);!isNaN(F)&&!isNaN(Q)&&F<Q&&F>=0&&Q<=100&&V({gRange:{min:F,max:Q}})},Er=(F,Q)=>{F.key==="Enter"&&(Q==="rangeMin"||Q==="rangeMax"?Qr():Mr(Q),F.target.blur())};S.useEffect(()=>{oa.length>0&&V({})},[ut,oa]);const Vn=F=>{N(Q=>({...Q,[F]:!Q[F]}))},ns=()=>{m(F=>F==="top3"?"default":"top3")},xn=()=>{b==="raw"?m("default"):x(!0)},di=()=>{x(!1),m("raw")},Ja=(F,Q)=>{const re=parseFloat(F),B=parseFloat(Q);let de=isNaN(re)?"auto":re,_e=isNaN(B)?"auto":B;return h&&typeof de=="number"&&de<=0&&(de="auto"),[de,_e]},xr=F=>{if(!F||!F.payload)return;const Q=F.payload;if(v(Q),Nr.current&&(ae(Q.x),Z(!1)),_r.current){const re=Kr.current.min,B=Kr.current.max,{max:de}=oe();if(de<=0)return;const _e=Math.max(0,Math.min(100,Q.x/de*100));if(rr.current===1){const Ce=Math.min(_e,B-.5);V({gRange:{min:Ce,max:B}}),ge(2)}else if(rr.current===2){const Ce=Math.max(_e,re+.5);V({gRange:{min:re,max:Ce}}),ge(0),Y(!1)}}},pt=S.useCallback(F=>{const{cx:Q,cy:re,fill:B}=F;return c.jsx("circle",{cx:Q,cy:re,r:3,fill:B,stroke:"none",style:{cursor:"pointer"}})},[]),Fu=({active:F,payload:Q})=>{if(F&&Q&&Q.length){const re=Q[0].payload;return c.jsxs("div",{className:"bg-slate-800 text-white text-xs p-2 rounded border border-slate-600 shadow-xl opacity-90 font-mono z-50",children:[c.jsx("div",{className:"font-bold border-b border-slate-600 pb-1 mb-1",children:re.channel}),c.jsxs("div",{children:["Signal: ",re.x.toFixed(2)]}),c.jsxs("div",{children:[f,": ",re.y.toFixed(4)]}),re.row!==void 0&&re.col!==void 0&&!isNaN(re.row)&&!isNaN(re.col)&&c.jsxs("div",{className:"text-cyan-400 mt-0.5",children:["Loc: Row ",re.row,", Col ",re.col]}),re.filename&&c.jsx("div",{className:"text-gray-400 mt-1 max-w-[200px] truncate",title:re.filename,children:re.filename})]})}return null},Qe=F=>{d(F),F==="Linear"&&p(!1)};if(!e)return null;const Tl=s==="dark"?"#ffffff":"#000000";let hi=f;f==="Linear"&&(hi="(Var - RN) / Mean");const $l=U!==K;return c.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in",onClick:F=>{F.stopPropagation()},children:c.jsxs("div",{className:"bg-white dark:bg-slate-900 w-[98vw] max-w-[2200px] h-[95vh] rounded-2xl shadow-2xl flex flex-col border border-gray-200 dark:border-slate-700 overflow-hidden relative",onClick:F=>F.stopPropagation(),children:[c.jsx(Zo,{isOpen:g,onClose:()=>x(!1),onConfirm:di,title:"Warning: High Performance Cost",message:"Displaying all data points may cause the browser to freeze or become unresponsive, especially with large datasets. Are you sure you want to continue?",confirmText:"Yes, Show All"}),y&&c.jsxs("div",{className:"absolute top-20 right-8 z-30 bg-white/90 dark:bg-slate-800/90 border border-cyan-500 rounded-xl p-4 shadow-xl backdrop-blur-md max-w-xs animate-in fade-in zoom-in-95 duration-200",children:[c.jsxs("div",{className:"flex justify-between items-start mb-2 border-b border-gray-200 dark:border-slate-700 pb-2",children:[c.jsx("h4",{className:"font-bold text-gray-900 dark:text-white text-sm",children:"Selected Point"}),c.jsx("button",{onClick:()=>v(null),className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200",children:c.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsx("div",{className:"space-y-1 text-xs font-mono text-gray-700 dark:text-slate-300",children:c.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1.5",children:[c.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"Channel:"}),c.jsx("span",{className:"font-bold",children:y.channel}),c.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"Signal (DN):"}),c.jsx("span",{children:y.x.toFixed(4)}),c.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"Noise (Std):"}),c.jsx("span",{children:y.std.toFixed(4)}),c.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"SNR:"}),c.jsx("span",{className:"text-purple-600 dark:text-purple-400 font-bold",children:(y.x/y.std).toFixed(2)})]})})]}),Yr&&c.jsx("div",{className:"absolute inset-0 z-40 bg-white/95 dark:bg-slate-900/95 backdrop-blur-sm flex flex-col items-center justify-center p-8 animate-in fade-in zoom-in-95 duration-200",children:c.jsxs("div",{className:"w-full max-w-2xl h-[60vh] bg-gray-50 dark:bg-slate-800 rounded-xl border border-gray-200 dark:border-slate-700 shadow-2xl p-4 flex flex-col relative",children:[c.jsx("button",{onClick:()=>vr(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-red-500 transition-colors",children:c.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),c.jsxs("div",{className:"mb-4 text-center",children:[c.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-slate-200",children:"Gain Density Estimation"}),c.jsxs("p",{className:"text-xs text-gray-500 dark:text-slate-400",children:["HSM Mode: ",c.jsx("span",{className:"text-cyan-600 dark:text-cyan-400 font-bold",children:na==null?void 0:na.toFixed(4)}),c.jsx("span",{className:"mx-2",children:"|"}),"Data Points: ",Ar.length>0?"Density Curve Generated":"No Data"]})]}),c.jsx("div",{className:"flex-1 min-h-0",children:Ar.length>0?c.jsx(po,{width:"100%",height:"100%",children:c.jsxs(uP,{data:Ar,margin:{top:10,right:30,left:0,bottom:20},children:[c.jsx(Ya,{strokeDasharray:"3 3",stroke:"#374151",opacity:.3,vertical:!1}),c.jsx(zn,{dataKey:"x",tickFormatter:F=>F.toFixed(2),tick:{fill:"#9ca3af",fontSize:10},label:{value:"Gain (e/ADU)",position:"insideBottom",offset:-15,fill:"#9ca3af",fontSize:12}}),c.jsx(Un,{tick:{fill:"#9ca3af",fontSize:10}}),c.jsx(Hr,{cursor:{stroke:"rgba(255,255,255,0.2)"},contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"0.5rem",color:"#f3f4f6"}}),c.jsx(ga,{type:"monotone",dataKey:"density",stroke:"#0ea5e9",fill:"#0ea5e9",fillOpacity:.3,strokeWidth:2}),na!==null&&c.jsx(zo,{x:na,stroke:"#ef4444",strokeWidth:2,label:{value:"HSM",fill:"#ef4444",fontSize:10,position:"top"}})]})}):c.jsx("div",{className:"flex items-center justify-center h-full text-gray-400",children:"No data in selected range"})})]})}),c.jsxs("div",{className:"flex flex-wrap justify-between items-center p-3 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50 gap-4 flex-shrink-0",children:[c.jsxs("h2",{className:"text-lg font-bold text-gray-900 dark:text-slate-100 flex items-center gap-2",children:["Photon Transfer Curve",c.jsxs("span",{className:"text-xs font-normal bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-300 px-2 py-0.5 rounded border border-purple-200 dark:border-purple-800",children:[r.length," Pts"]})]}),c.jsxs("div",{className:"flex gap-4 items-center flex-wrap",children:[c.jsxs("button",{onClick:ui,className:"bg-green-600 hover:bg-green-500 text-white font-bold py-1 px-3 rounded text-xs shadow-md transition-all active:scale-95 flex items-center gap-1",title:"Render all points, target lines, and metadata to a high-res JPG",children:[c.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Export Complete Result"]}),c.jsxs("div",{className:"flex bg-white dark:bg-slate-700 rounded-lg p-1 border border-gray-200 dark:border-slate-600",children:[c.jsx("button",{onClick:()=>Qe("Noise"),className:`px-3 py-1 text-xs font-bold rounded transition-colors ${f==="Noise"?"bg-cyan-600 text-white shadow":"text-gray-600 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-600"}`,children:"Noise ()"}),c.jsx("button",{onClick:()=>Qe("SNR"),className:`px-3 py-1 text-xs font-bold rounded transition-colors ${f==="SNR"?"bg-purple-600 text-white shadow":"text-gray-600 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-600"}`,children:"SNR"}),c.jsx("button",{onClick:()=>Qe("Linear"),className:`px-3 py-1 text-xs font-bold rounded transition-colors ${f==="Linear"?"bg-indigo-600 text-white shadow":"text-gray-600 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-600"}`,children:"Linear (PTC)"})]}),c.jsxs("label",{className:"flex items-center gap-2 text-xs text-gray-600 dark:text-slate-300 cursor-pointer select-none",children:[c.jsx("input",{type:"checkbox",checked:h,onChange:F=>p(F.target.checked),className:"rounded border-gray-300 text-cyan-600 focus:ring-cyan-500 bg-gray-100 dark:bg-slate-700 dark:border-slate-600"}),"Log-Log"]}),c.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 transition-colors p-1",children:c.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-0 border-b border-gray-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-sm flex-shrink-0",children:[c.jsxs("div",{className:"lg:col-span-9 p-5 flex flex-col gap-5 border-r border-gray-200 dark:border-slate-700",children:[c.jsxs("div",{className:"flex flex-wrap gap-4 items-center justify-between text-xs",children:[c.jsxs("div",{className:"flex gap-4 items-center",children:[c.jsxs("div",{className:"flex items-center gap-1.5 bg-gray-50 dark:bg-slate-800 rounded-md p-1 border border-gray-200 dark:border-slate-700",children:[c.jsx("span",{className:"font-bold text-gray-500 dark:text-slate-400 pl-1",children:"X:"}),c.jsx("input",{type:"number",placeholder:"Min",value:_,onChange:F=>O(F.target.value),className:"w-12 px-1 py-0.5 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center outline-none"}),c.jsx("span",{className:"text-gray-400",children:"-"}),c.jsx("input",{type:"number",placeholder:"Max",value:A,onChange:F=>M(F.target.value),className:"w-12 px-1 py-0.5 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center outline-none"})]}),c.jsxs("div",{className:"flex items-center gap-1.5 bg-gray-50 dark:bg-slate-800 rounded-md p-1 border border-gray-200 dark:border-slate-700",children:[c.jsx("span",{className:"font-bold text-gray-500 dark:text-slate-400 pl-1",children:"Y:"}),c.jsx("input",{type:"number",placeholder:"Min",value:C,onChange:F=>R(F.target.value),className:"w-12 px-1 py-0.5 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center outline-none"}),c.jsx("span",{className:"text-gray-400",children:"-"}),c.jsx("input",{type:"number",placeholder:"Max",value:z,onChange:F=>T(F.target.value),className:"w-12 px-1 py-0.5 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center outline-none"})]}),c.jsx("button",{onClick:()=>{O(""),M(""),R(""),T("")},className:"text-xs text-cyan-600 dark:text-cyan-400 hover:underline",children:"Auto"})]}),c.jsxs("div",{className:"flex items-center gap-1 bg-white dark:bg-slate-700 p-1 rounded-lg border border-gray-200 dark:border-slate-600",children:[c.jsx("button",{onClick:()=>Vn("R"),className:`w-6 h-6 text-[10px] font-bold rounded flex items-center justify-center transition-colors ${k.R?"bg-red-500 text-white":"bg-gray-100 dark:bg-slate-600 text-gray-400"}`,children:"R"}),c.jsx("button",{onClick:()=>Vn("G1"),className:`w-6 h-6 text-[10px] font-bold rounded flex items-center justify-center transition-colors ${k.G1?"bg-green-500 text-white":"bg-gray-100 dark:bg-slate-600 text-gray-400"}`,children:"G1"}),c.jsx("button",{onClick:()=>Vn("G2"),className:`w-6 h-6 text-[10px] font-bold rounded flex items-center justify-center transition-colors ${k.G2?"bg-green-400 text-white":"bg-gray-100 dark:bg-slate-600 text-gray-400"}`,children:"G2"}),c.jsx("button",{onClick:()=>Vn("B"),className:`w-6 h-6 text-[10px] font-bold rounded flex items-center justify-center transition-colors ${k.B?"bg-blue-500 text-white":"bg-gray-100 dark:bg-slate-600 text-gray-400"}`,children:"B"})]})]}),c.jsxs("div",{className:"flex flex-wrap items-end gap-8",children:[c.jsxs("div",{className:"flex flex-col bg-gray-50 dark:bg-slate-800/50 p-2 rounded border border-gray-100 dark:border-slate-700",children:[c.jsx("span",{className:"text-[9px] uppercase font-bold text-gray-500 dark:text-slate-400 mb-1",children:"Black Level (0,0 0,1 1,0 1,1)"}),c.jsx("input",{type:"text",value:U,onChange:F=>te(F.target.value),className:"w-32 text-xs px-2 py-1 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded outline-none focus:border-cyan-500 font-mono",placeholder:"0 0 0 0"})]}),c.jsxs("div",{className:"flex flex-col justify-between bg-gray-50 dark:bg-slate-800/50 p-2 rounded border border-gray-100 dark:border-slate-700",children:[c.jsxs("div",{className:"flex justify-between items-center mb-1",children:[c.jsx("span",{className:"text-[9px] uppercase font-bold text-gray-500 dark:text-slate-400 mr-2",children:"Fit Range % (Robust)"}),c.jsx("button",{onClick:()=>{Y(!ce),ge(ce?0:1)},className:`px-1.5 py-0.5 text-[9px] rounded border transition-colors ${ce?"bg-cyan-100 text-cyan-700 border-cyan-300 animate-pulse":"bg-white dark:bg-slate-700 border-gray-300 dark:border-slate-600 text-gray-600 dark:text-slate-300 hover:bg-gray-50"}`,children:ce?le===1?"Pick Min":"Pick Max":"Select"})]}),c.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[c.jsx("input",{type:"number",step:"0.1",value:Ht.rangeMin,onChange:F=>nt("rangeMin",F.target.value),onBlur:Qr,onKeyDown:F=>Er(F,"rangeMin"),className:"w-10 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-1 py-0.5 text-center font-bold"}),c.jsx("span",{className:"text-gray-400",children:"-"}),c.jsx("input",{type:"number",step:"0.1",value:Ht.rangeMax,onChange:F=>nt("rangeMax",F.target.value),onBlur:Qr,onKeyDown:F=>Er(F,"rangeMax"),className:"w-10 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-1 py-0.5 text-center font-bold"})]})]}),c.jsxs("div",{className:"flex flex-col bg-indigo-50 dark:bg-indigo-900/20 p-2 rounded border border-indigo-100 dark:border-indigo-800/50",children:[c.jsx("span",{className:"text-[9px] uppercase font-bold text-indigo-600 dark:text-indigo-400 mb-1",children:"DR Params"}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("span",{className:"text-[10px] font-bold text-indigo-500 dark:text-indigo-300",children:"Img H:"}),c.jsx("input",{type:"number",value:E,onChange:F=>$(F.target.value),onKeyDown:aa,placeholder:"Empty",className:"w-14 px-1 py-0.5 bg-white dark:bg-slate-900 border border-indigo-200 dark:border-indigo-800 rounded text-center font-bold text-indigo-700 dark:text-indigo-300 text-xs placeholder:font-normal placeholder:text-gray-300"})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("span",{className:"text-[10px] font-bold text-indigo-500 dark:text-indigo-300",children:"Tgt SNR:"}),c.jsx("input",{type:"number",value:G,onChange:F=>P(F.target.value),className:"w-10 px-1 py-0.5 bg-white dark:bg-slate-900 border border-indigo-200 dark:border-indigo-800 rounded text-center font-bold text-indigo-700 dark:text-indigo-300 text-xs"})]})]})]}),c.jsxs("div",{className:"flex flex-col gap-1 text-[10px] justify-end pb-0.5",children:[c.jsx("button",{onClick:()=>{Z(!ee),D&&ae(null)},disabled:ce,className:`font-bold rounded border shadow-sm transition-all px-3 py-1.5 ${ee?"bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-400 border-amber-500 animate-pulse":"bg-white dark:bg-slate-800 text-gray-600 dark:text-slate-300 border-gray-300 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:ee?"Pick Point":"Select Linear Limit"}),c.jsxs("div",{className:"flex gap-1",children:[c.jsx("button",{onClick:ns,className:`flex-1 font-bold rounded border shadow-sm transition-all px-2 py-1 ${b==="top3"?"bg-indigo-600 text-white border-indigo-700":"bg-white dark:bg-slate-800 text-gray-600 dark:text-slate-300 border-gray-300 dark:border-slate-600 hover:bg-gray-50"}`,children:"Top 3%"}),c.jsx("button",{onClick:xn,className:`font-bold rounded border shadow-sm transition-all px-2 py-1 ${b==="raw"?"bg-red-600 text-white border-red-700":"text-red-500 border-red-200 hover:bg-red-50"}`,children:"All"})]})]})]}),c.jsxs("div",{className:"flex flex-wrap gap-4 items-center bg-gray-50/50 dark:bg-slate-800/20 p-2 rounded-lg border border-gray-100 dark:border-slate-800",children:[c.jsx("span",{className:"text-[10px] uppercase font-bold text-gray-400 dark:text-slate-500",children:"Metadata"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{type:"text",value:Pt,onChange:F=>De(F.target.value),placeholder:"Tester Name",className:"w-24 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-gray-700 dark:text-slate-300 outline-none focus:border-cyan-500 transition-colors"}),c.jsx("input",{type:"text",value:He,onChange:F=>kt(F.target.value),placeholder:"Camera Model",className:"w-32 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-gray-700 dark:text-slate-300 outline-none focus:border-cyan-500 transition-colors"}),c.jsx("input",{type:"text",value:Ct,onChange:F=>Wt(F.target.value),placeholder:"ISO",className:"w-16 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-gray-700 dark:text-slate-300 outline-none focus:border-cyan-500 transition-colors"})]})]}),c.jsxs("div",{className:"flex flex-wrap gap-4 items-center bg-fuchsia-50/50 dark:bg-fuchsia-900/10 p-2 rounded-lg border border-fuchsia-100 dark:border-fuchsia-900/30",children:[c.jsx("span",{className:"text-[10px] uppercase font-bold text-fuchsia-500 dark:text-fuchsia-400",children:"Markers"}),c.jsxs("div",{className:"flex gap-2 items-center",children:[c.jsx("input",{type:"number",value:se,onChange:F=>ke(F.target.value),placeholder:"X (Signal)",className:"w-20 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 outline-none focus:border-fuchsia-500 transition-colors"}),c.jsx("input",{type:"number",value:Be,onChange:F=>Re(F.target.value),placeholder:"Y (Value)",className:"w-20 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 outline-none focus:border-fuchsia-500 transition-colors"}),c.jsx("button",{onClick:wt,className:"px-3 py-1 bg-fuchsia-600 hover:bg-fuchsia-500 text-white text-xs font-bold rounded shadow-sm transition-colors active:scale-95",children:"+"}),H.length>0&&c.jsx("button",{onClick:()=>ie([]),className:"px-2 py-1 bg-gray-200 dark:bg-slate-700 hover:bg-red-500 hover:text-white text-gray-600 dark:text-slate-300 text-xs font-bold rounded shadow-sm transition-colors active:scale-95",children:"Clr"})]}),c.jsxs("div",{className:"text-[10px] text-gray-400 dark:text-slate-500 font-mono",children:[H.length," pts"]})]}),c.jsxs("div",{className:"flex gap-4 text-[10px] pt-1 justify-center sm:justify-start flex-wrap",children:[c.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[c.jsx("input",{type:"checkbox",checked:it.shot,onChange:F=>Et({...it,shot:F.target.checked}),className:"rounded text-gray-500"})," ",c.jsx("span",{className:"text-gray-500",children:"Shot Noise"})]}),c.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[c.jsx("input",{type:"checkbox",checked:it.read,onChange:F=>Et({...it,read:F.target.checked}),className:"rounded text-rose-500"})," ",c.jsx("span",{className:"text-rose-500",children:"Read Noise"})]}),c.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[c.jsx("input",{type:"checkbox",checked:it.prnu,onChange:F=>Et({...it,prnu:F.target.checked}),className:"rounded text-amber-500"})," ",c.jsx("span",{className:"text-amber-500",children:"PRNU"})]}),c.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[c.jsx("input",{type:"checkbox",checked:it.total,onChange:F=>Et({...it,total:F.target.checked}),className:"rounded text-white"})," ",c.jsx("span",{className:"text-gray-900 dark:text-white font-bold",children:"Model"})]})]})]}),c.jsxs("div",{className:"lg:col-span-3 bg-slate-100 dark:bg-slate-800 p-4 flex flex-col justify-center gap-4",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between items-center mb-1 px-1",children:[c.jsxs("h3",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase flex items-center gap-2",children:["Fit Parameters (D55 SAT Channel:",Tt,")",j&&c.jsx("span",{className:"text-orange-500 animate-pulse text-[10px]",children:"Calculating..."})]}),c.jsxs("div",{className:"flex gap-2 items-center",children:[c.jsx("button",{onClick:Cr,disabled:j,className:`px-3 py-1 text-white text-[10px] font-bold rounded shadow-sm transition-all flex items-center gap-1 active:scale-95 
                                            ${j?"bg-gray-400 cursor-wait":$l?"bg-orange-500 hover:bg-orange-600 animate-pulse ring-2 ring-orange-400/50":"bg-cyan-600 hover:bg-cyan-500"}
                                        `,title:"Apply Black Level, Auto-detect Read Noise, then Recalculate Fit",children:j?c.jsxs(c.Fragment,{children:[c.jsxs("svg",{className:"w-3 h-3 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Fitting..."]}):c.jsxs(c.Fragment,{children:[c.jsxs("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),"Apply & Calc"]})}),c.jsxs("select",{value:ut,onChange:F=>Lt(Number(F.target.value)),className:"text-[9px] bg-slate-200 dark:bg-slate-700 text-gray-600 dark:text-slate-300 rounded px-1 py-0.5 border-none outline-none cursor-pointer hover:bg-slate-300 dark:hover:bg-slate-600 transition-colors",title:"Number of point-pairs to sample for robust regression (Theil-Sen)",children:[c.jsx("option",{value:1e5,children:"100k Pairs"}),c.jsx("option",{value:5e5,children:"500k Pairs"}),c.jsx("option",{value:2e6,children:"2M Pairs"}),c.jsx("option",{value:5e6,children:"5M Pairs"}),c.jsx("option",{value:1e7,children:"10M Pairs"})]}),Qt&&c.jsxs("span",{className:"text-[10px] text-gray-400 dark:text-slate-500 font-mono",title:"Number of points used in regression",children:["N=",Qt.nPoints]})]})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("label",{className:"text-[10px] text-gray-500 dark:text-slate-400 uppercase tracking-wide mb-1",children:"rn/fpn"}),c.jsx("input",{type:"text",inputMode:"decimal",value:Ht.read,onChange:F=>nt("read",F.target.value),onBlur:()=>Mr("read"),onKeyDown:F=>Er(F,"read"),className:"w-full text-center text-2xl font-light bg-transparent text-rose-500 outline-none border-b border-transparent focus:border-rose-500 transition-colors"})]}),c.jsxs("div",{className:"flex flex-col items-center relative group",children:[c.jsxs("label",{className:"text-[10px] text-gray-500 dark:text-slate-400 uppercase tracking-wide mb-1 flex items-center gap-1",children:["Kadc (HSM)",c.jsx("button",{onClick:()=>vr(!0),className:"text-[9px] text-cyan-600 dark:text-cyan-400 hover:underline",children:"Dist."})]}),c.jsx("input",{type:"text",inputMode:"decimal",value:Ht.gain,onChange:F=>nt("gain",F.target.value),onBlur:()=>Mr("gain"),onKeyDown:F=>Er(F,"gain"),className:"w-full text-center text-2xl font-light bg-transparent text-slate-700 dark:text-slate-200 outline-none border-b border-transparent focus:border-cyan-500 transition-colors"})]}),c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("label",{className:"text-[10px] text-gray-500 dark:text-slate-400 uppercase tracking-wide mb-1",children:"PRNU (%)"}),c.jsx("input",{type:"text",inputMode:"decimal",value:Ht.prnu,onChange:F=>nt("prnu",F.target.value),onBlur:()=>Mr("prnu"),onKeyDown:F=>Er(F,"prnu"),className:"w-full text-center text-2xl font-light bg-transparent text-amber-500 outline-none border-b border-transparent focus:border-amber-500 transition-colors"})]})]})]}),c.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 w-full"}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 text-center",children:[c.jsxs("div",{className:"flex flex-col justify-center bg-cyan-50 dark:bg-cyan-900/10 p-2 rounded-lg border border-cyan-100 dark:border-cyan-900/30",children:[c.jsxs("h4",{className:"text-[10px] font-bold text-cyan-600 dark:text-cyan-500 uppercase tracking-wide mb-1 truncate",title:`Manual DR at SNR=${(me==null?void 0:me.manualTarget)||G}`,children:["M.DR @ SNR=",(me==null?void 0:me.manualTarget)||G]}),c.jsx("div",{className:"text-base font-bold text-cyan-700 dark:text-cyan-400 whitespace-nowrap",children:me!=null&&me.manualDR?`${me.manualDR.toFixed(2)} EV`:"--"})]}),c.jsxs("div",{className:"flex flex-col justify-center bg-emerald-50 dark:bg-emerald-900/10 p-2 rounded-lg border border-emerald-100 dark:border-emerald-900/30",title:isNaN((me==null?void 0:me.ptpTarget)||NaN)?"Requires Image Height":`Standard Point-to-Point DR (Target SNR = 16000/${E||"H"})`,children:[c.jsx("h4",{className:"text-[10px] font-bold text-emerald-600 dark:text-emerald-500 uppercase tracking-wide mb-1",children:"PTP DR"}),c.jsx("div",{className:"text-base font-bold text-emerald-700 dark:text-emerald-400 whitespace-nowrap",children:me!=null&&me.ptpDR?`${me.ptpDR.toFixed(2)} EV`:"--"})]}),c.jsxs("div",{className:"flex flex-col justify-center bg-purple-50 dark:bg-purple-900/10 p-2 rounded-lg border border-purple-100 dark:border-purple-900/30",title:isNaN((me==null?void 0:me.ptpTarget)||NaN)?"Requires Image Height":`D55 Saturation DR (Target SNR = 16000/${E||"H"} on ${me==null?void 0:me.dominantChannel} Channel)`,children:[c.jsxs("h4",{className:"text-[10px] font-bold text-purple-600 dark:text-purple-400 uppercase tracking-wide mb-1 truncate",children:["D55 DR (",me==null?void 0:me.dominantChannel,")"]}),c.jsx("div",{className:"text-base font-bold text-purple-700 dark:text-purple-400 whitespace-nowrap",children:me!=null&&me.d55DR?`${me.d55DR.toFixed(2)} EV`:"--"})]}),c.jsxs("div",{className:"flex flex-col justify-center bg-orange-50 dark:bg-orange-900/10 p-2 rounded-lg border border-orange-100 dark:border-orange-900/30",children:[c.jsx("h4",{className:"text-[10px] font-bold text-orange-600 dark:text-orange-400 uppercase tracking-wide mb-1",children:"FWC"}),c.jsx("div",{className:"text-base font-bold text-orange-600 dark:text-orange-400 font-mono whitespace-nowrap truncate",title:It!==null?`${Math.round(It)}`:"",children:It!==null?It>1e4?`${(It/1e3).toFixed(1)}k`:`${Math.round(It)}`:"--"})]})]}),D===null&&c.jsx("div",{className:"text-center text-[10px] text-red-500 animate-pulse font-bold mt-[-10px]",children:"Please select Linear Limit on chart to calc DR"})]})]}),c.jsxs("div",{className:`flex-1 p-4 bg-white dark:bg-slate-900 relative grid grid-cols-[auto_1fr] grid-rows-[1fr_auto] gap-2 ${ee||ce?"cursor-crosshair":""}`,children:[c.jsx("div",{className:"row-start-1 col-start-1 h-full",children:c.jsx(hk,{vertical:!0,min:Ke,max:yt,value:[C?parseFloat(C):Ke,z?parseFloat(z):yt],onChange:([F,Q])=>{R(F.toString()),T(Q.toString())},logScale:h})}),c.jsxs("div",{className:"row-start-1 col-start-2 relative",children:[At.length===0?c.jsx("div",{className:"flex h-full items-center justify-center text-gray-400",children:"No valid data points found."}):c.jsx(po,{width:"100%",height:"100%",children:c.jsxs(_Q,{margin:{top:20,right:20,bottom:0,left:0},onClick:xr,children:[c.jsx("defs",{children:c.jsxs("filter",{id:"glow",height:"300%",width:"300%",x:"-100%",y:"-100%",children:[c.jsx("feGaussianBlur",{stdDeviation:"2",result:"coloredBlur"}),c.jsxs("feMerge",{children:[c.jsx("feMergeNode",{in:"coloredBlur"}),c.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),c.jsx(Ya,{strokeDasharray:"3 3",stroke:"#374151",opacity:.2}),c.jsx(zn,{type:"number",dataKey:"x",name:"Signal",scale:h?"log":"linear",domain:Ja(_,A),allowDataOverflow:!0,hide:!0}),c.jsx(Un,{type:"number",dataKey:"y",name:f,scale:h?"log":"linear",domain:Ja(C,z),label:{value:hi,angle:-90,position:"insideLeft",fill:"#9ca3af",fontSize:12},tick:{fill:"#9ca3af",fontSize:10},allowDataOverflow:!0}),c.jsx(Hr,{content:c.jsx(Fu,{}),cursor:{strokeDasharray:"3 3"}}),D&&c.jsx(zo,{x:D,stroke:"red",strokeDasharray:"3 3",label:{position:"top",value:"Sat",fill:"red",fontSize:10}}),(it.fitRange||ce)&&c.jsxs(c.Fragment,{children:[c.jsx(zo,{x:ur,stroke:"#22d3ee",strokeDasharray:"5 5",label:{position:"insideTopLeft",value:`Min: ${Gt.min}%`,fill:"#22d3ee",fontSize:9}}),c.jsx(zo,{x:fr,stroke:"#22d3ee",strokeDasharray:"5 5",label:{position:"insideTopLeft",value:`Max: ${Gt.max}%`,fill:"#22d3ee",fontSize:9}})]}),k.R&&c.jsx(jn,{name:"Red",data:vn.R,fill:"#ef4444",shape:pt,onClick:xr,style:s==="dark"?{filter:"url(#glow)"}:void 0},"scatter-R"),k.G1&&c.jsx(jn,{name:"Green 1",data:vn.G1,fill:"#22c55e",shape:pt,onClick:xr,style:s==="dark"?{filter:"url(#glow)"}:void 0},"scatter-G1"),k.G2&&c.jsx(jn,{name:"Green 2",data:vn.G2,fill:"#4ade80",shape:pt,onClick:xr,style:s==="dark"?{filter:"url(#glow)"}:void 0},"scatter-G2"),k.B&&c.jsx(jn,{name:"Blue",data:vn.B,fill:"#3b82f6",shape:pt,onClick:xr,style:s==="dark"?{filter:"url(#glow)"}:void 0},"scatter-B"),it.shot&&Ae.shot.length>0&&c.jsx(jn,{name:"Shot Noise (Ideal)",data:Ae.shot,line:{stroke:"#94a3b8",strokeWidth:1,strokeDasharray:"5 5"},shape:()=>c.jsx(c.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-shot"),it.read&&Ae.read.length>0&&c.jsx(jn,{name:"Read Noise Floor",data:Ae.read,line:{stroke:"#f43f5e",strokeWidth:1,strokeDasharray:"3 3"},shape:()=>c.jsx(c.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-read"),it.prnu&&Ae.prnu.length>0&&c.jsx(jn,{name:"PRNU (Non-uniformity)",data:Ae.prnu,line:{stroke:"#f59e0b",strokeWidth:1,strokeDasharray:"3 3"},shape:()=>c.jsx(c.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-prnu"),it.total&&Ae.total.length>0&&c.jsx(jn,{name:"Total Noise Model",data:Ae.total,line:{stroke:Tl,strokeWidth:2},shape:()=>c.jsx(c.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-total"),qe.length>0&&c.jsx(jn,{name:`Target SNR=${G}`,data:qe,line:{stroke:"#6366f1",strokeWidth:2,strokeDasharray:"4 2"},shape:()=>c.jsx(c.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-target"),Zr.length>0&&c.jsx(jn,{name:`PTP Target SNR=${me!=null&&me.ptpTarget?me.ptpTarget.toFixed(1):"?"}`,data:Zr,line:{stroke:"#10b981",strokeWidth:2,strokeDasharray:"4 4"},shape:()=>c.jsx(c.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-ptp"),H.length>0&&c.jsx(jn,{name:"Manual Markers",data:H,fill:"#d946ef",shape:"star",legendType:"star"},"manual-points")]})}),c.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 pointer-events-none select-none opacity-25 mix-blend-normal dark:mix-blend-plus-lighter",children:c.jsx("svg",{viewBox:"0 0 500 60",className:"w-96 h-auto",children:c.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"36",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})})]}),c.jsx("div",{className:"row-start-2 col-start-2 w-full",children:c.jsx(hk,{min:Le,max:Ze,value:[_?parseFloat(_):Le,A?parseFloat(A):Ze],onChange:([F,Q])=>{O(F.toString()),M(Q.toString())},logScale:h})})]})]})})},eJ=({searchTerm:e,onSearchChange:t,manufacturers:r,selectedManufacturer:n,onManufacturerChange:a,cameras:o,onCameraSelect:i})=>c.jsx("div",{className:"sticky top-4 z-10 bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm p-4 rounded-xl border border-gray-200 dark:border-slate-700 shadow-sm",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[c.jsxs("div",{className:"relative md:col-span-3",children:[c.jsx("input",{type:"text",placeholder:"Search camera model...",value:e,onChange:s=>t(s.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none transition-all duration-300 text-gray-900 dark:text-slate-200 placeholder-gray-500 dark:placeholder-slate-400"}),c.jsx("svg",{className:"w-5 h-5 text-gray-400 dark:text-slate-400 absolute top-1/2 left-3 transform -translate-y-1/2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),c.jsx("select",{value:n,onChange:s=>a(s.target.value),className:"w-full md:col-span-1 bg-gray-50 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg px-4 py-2 focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none transition-all duration-300 appearance-none text-gray-900 dark:text-slate-200",children:r.map(s=>c.jsx("option",{value:s,children:s},s))}),c.jsxs("select",{onChange:s=>i(s.target.value),className:"w-full md:col-span-1 bg-gray-50 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg px-4 py-2 focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none transition-all duration-300 appearance-none text-gray-900 dark:text-slate-200",value:"","aria-label":"Jump to camera model",children:[c.jsx("option",{value:"",disabled:!0,children:"Jump to model..."}),o.map(s=>c.jsx("option",{value:s.id,children:s.name},s.id))]})]})}),tJ=({active:e,payload:t,label:r,theme:n})=>{if(e&&t&&t.length){const a=t[0].payload,o=n==="dark"?"bg-slate-800/80 border-slate-600 text-slate-300":"bg-white/90 border-gray-200 text-gray-700";return c.jsxs("div",{className:`${o} backdrop-blur-sm border p-3 rounded-lg shadow-lg`,children:[c.jsx("p",{className:"label font-bold",children:`ISO ${r}`}),c.jsx("div",{className:"mt-2 space-y-1 text-sm",children:c.jsxs(c.Fragment,{children:[c.jsxs("div",{style:{color:"#f87171"},children:["Red: ",a.R_avg.toFixed(2)," (Range: ",a.R_range[0]," - ",a.R_range[1],")"]}),c.jsxs("div",{style:{color:"#4ade80"},children:["Green 1: ",a.G1_avg.toFixed(2)," (Range: ",a.G1_range[0]," - ",a.G1_range[1],")"]}),c.jsxs("div",{style:{color:"#60a5fa"},children:["Blue: ",a.B_avg.toFixed(2)," (Range: ",a.B_range[0]," - ",a.B_range[1],")"]}),c.jsxs("div",{style:{color:"#86efac"},children:["Green 2: ",a.G2_avg.toFixed(2)," (Range: ",a.G2_range[0]," - ",a.G2_range[1],")"]})]})})]})}return null},rJ=({data:e,theme:t="dark"})=>{const r=S.useMemo(()=>!e||e.length===0?[]:[...new Set(e.map(i=>i.iso))].sort((i,s)=>Number(i)-Number(s)),[e]),n=S.useMemo(()=>{if(!e||e.length===0)return[0,4096];const i=e.flatMap(y=>[...y.R_range,...y.G1_range,...y.G2_range,...y.B_range]);if(i.length===0)return[0,4096];let s=Math.min(...i),l=Math.max(...i);const u=.25,f=l-s;if(f<u){const y=u-f;s-=y/2,l+=y/2}const d=(l-s)*.1,h=s-d,p=l+d;return[h,p]},[e]),a=t==="dark"?"#475569":"#e5e7eb",o=t==="dark"?"#94a3b8":"#6b7280";return!e||e.length===0?c.jsx("div",{className:"flex items-center justify-center h-full text-gray-500 dark:text-slate-500",children:c.jsx("p",{children:"No data available for this mode."})}):c.jsx(po,{width:"100%",height:"100%",children:c.jsxs(uP,{data:e,margin:{top:5,right:20,left:0,bottom:5},children:[c.jsx(Ya,{strokeDasharray:"3 3",stroke:a}),c.jsx(zn,{dataKey:"iso",type:"number",domain:["dataMin","dataMax"],tick:{fill:o,fontSize:12},scale:"log",allowDuplicatedCategory:!1,ticks:r}),c.jsx(Un,{tick:{fill:o,fontSize:12},domain:n,allowDecimals:!0,tickFormatter:i=>Number(i).toFixed(3)}),c.jsx(Hr,{content:c.jsx(tJ,{theme:t})}),c.jsx(Ha,{wrapperStyle:{fontSize:"14px",color:o}}),c.jsx(ga,{type:"monotone",dataKey:"R_range",fill:"#f87171",stroke:"none",fillOpacity:.2,name:"Red",legendType:"none"}),c.jsx(jr,{type:"monotone",dataKey:"R_avg",stroke:"#f87171",strokeWidth:2,dot:!1,activeDot:{r:5},name:"Red"}),c.jsx(ga,{type:"monotone",dataKey:"G1_range",fill:"#4ade80",stroke:"none",fillOpacity:.2,name:"Green 1",legendType:"none"}),c.jsx(jr,{type:"monotone",dataKey:"G1_avg",stroke:"#4ade80",strokeWidth:2,dot:!1,activeDot:{r:5},name:"Green 1"}),c.jsx(ga,{type:"monotone",dataKey:"B_range",fill:"#60a5fa",stroke:"none",fillOpacity:.2,name:"Blue",legendType:"none"}),c.jsx(jr,{type:"monotone",dataKey:"B_avg",stroke:"#60a5fa",strokeWidth:2,dot:!1,activeDot:{r:5},name:"Blue"}),c.jsx(ga,{type:"monotone",dataKey:"G2_range",fill:"#86efac",stroke:"none",fillOpacity:.2,name:"Green 2",legendType:"none"}),c.jsx(jr,{type:"monotone",dataKey:"G2_avg",stroke:"#86efac",strokeWidth:2,dot:!1,activeDot:{r:5},name:"Green 2"})]})})},nJ=I.forwardRef(({camera:e,theme:t="dark"},r)=>{const n=S.useMemo(()=>e.shootingModes.map(d=>d.modeName),[e.shootingModes]),[a,o]=S.useState(n[0]||""),{chartData:i,tableData:s}=S.useMemo(()=>{const d=e.shootingModes.find(y=>y.modeName===a);if(!(d!=null&&d.data))return{chartData:[],tableData:[]};const h=d.data.map(y=>({iso:y.iso,R_range:y.r.range,R_avg:y.r.avg,G1_range:y.g1.range,G1_avg:y.g1.avg,B_range:y.b.range,B_avg:y.b.avg,G2_range:y.g2.range,G2_avg:y.g2.avg})),p=d.data.map(y=>({iso:y.iso,levels:[y.r.avg,y.g1.avg,y.g2.avg,y.b.avg],clipping:y.clipping}));return{chartData:h,tableData:p}},[e.shootingModes,a]),l=`Raw Data (${a})`,u=S.useRef(null),f=S.useRef(null);return S.useEffect(()=>{const d=u.current,h=f.current;if(!d||!h)return;const p=new ResizeObserver(y=>{for(let v of y){const{width:b}=v.contentRect,g=Math.max(8,b/35);h.style.fontSize=`${g}px`}});return p.observe(d),()=>p.disconnect()},[]),c.jsxs("div",{ref:r,className:"bg-white dark:bg-slate-800/50 border border-gray-200 dark:border-slate-700 rounded-xl shadow-lg p-6 flex flex-col gap-6 transform hover:scale-[1.02] hover:border-cyan-500/50 transition-all duration-500 ease-in-out",children:[c.jsxs("div",{className:"border-b border-gray-200 dark:border-slate-700 pb-4",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-slate-100",children:e.name}),c.jsx("p",{className:"text-cyan-600 dark:text-cyan-400",children:e.manufacturer})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-4 mb-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-slate-300",children:"Black Level vs. ISO"}),c.jsx("select",{value:a,onChange:d=>o(d.target.value),className:"w-full sm:w-auto bg-gray-50 dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded-md px-3 py-1 text-sm outline-none focus:ring-2 focus:ring-cyan-500 transition-all duration-300 text-gray-900 dark:text-slate-200","aria-label":`Select shooting mode for ${e.name}`,children:n.map(d=>c.jsx("option",{value:d,children:d},d))})]}),c.jsxs("div",{ref:u,className:"h-64 relative",children:[c.jsx(rJ,{data:i,theme:t},a),c.jsx("div",{className:"absolute top-1/2 left-[52%] transform -translate-x-1/2 -translate-y-1/2 -rotate-30 pointer-events-none",children:c.jsx("p",{ref:f,className:"font-bold text-gray-900/10 dark:text-slate-200/40 whitespace-nowrap",children:" y-g-jiang.github.io"})})]})]}),c.jsxs("div",{className:"overflow-x-auto",children:[c.jsx("div",{className:"flex justify-between items-center mb-4",children:c.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-slate-300",children:l})}),c.jsxs("table",{className:"w-full text-left border-collapse",children:[c.jsx("thead",{className:"bg-gray-100 dark:bg-slate-700/50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"p-3 font-semibold text-sm text-gray-700 dark:text-slate-300",children:"ISO"}),c.jsx("th",{className:"p-3 font-semibold text-sm text-red-500 dark:text-red-400",children:"Red"}),c.jsx("th",{className:"p-3 font-semibold text-sm text-green-600 dark:text-green-400",children:"Green 1"}),c.jsx("th",{className:"p-3 font-semibold text-sm text-blue-500 dark:text-blue-400",children:"Blue"}),c.jsx("th",{className:"p-3 font-semibold text-sm text-green-500 dark:text-green-300",children:"Green 2"})]})}),c.jsx("tbody",{children:s.map(({iso:d,levels:h,clipping:p})=>c.jsxs("tr",{className:"border-b border-gray-200 dark:border-slate-700/50 last:border-b-0",children:[c.jsxs("td",{className:"p-3 font-mono text-gray-700 dark:text-slate-300 whitespace-nowrap",children:[d,p&&c.jsx("span",{className:"ml-3 text-xs font-semibold text-amber-600 dark:text-amber-400 bg-amber-100 dark:bg-amber-900/50 px-2 py-1 rounded-full align-middle",children:"Clipping"})]}),c.jsx("td",{className:"p-3 font-mono text-red-500 dark:text-red-400",children:h[0].toFixed(2)}),c.jsx("td",{className:"p-3 font-mono text-green-600 dark:text-green-400",children:h[1].toFixed(2)}),c.jsx("td",{className:"p-3 font-mono text-blue-500 dark:text-blue-400",children:h[3].toFixed(2)}),c.jsx("td",{className:"p-3 font-mono text-green-500 dark:text-green-300",children:h[2].toFixed(2)})]},d))})]})]})]})}),ve=(e,t,r)=>({avg:e,range:[t,r]}),Mp=[{id:"sony-a7r2",name:"Sony ILCE-7RM2 (A7R II)",manufacturer:"Sony",shootingModes:[{modeName:"Still (Mechanical Shutter)",data:[{iso:100,r:ve(512.1,511.95,512.25),g1:ve(512.05,511.9,512.2),b:ve(512.12,511.98,512.28),g2:ve(512.06,511.92,512.22)},{iso:200,r:ve(512.15,512,512.3),g1:ve(512.1,511.95,512.25),b:ve(512.18,512.05,512.35),g2:ve(512.12,511.98,512.28)},{iso:400,r:ve(512.25,512.1,512.45),g1:ve(512.2,512.05,512.4),b:ve(512.3,512.15,512.5),g2:ve(512.22,512.08,512.42)},{iso:800,r:ve(512.5,512.2,512.8),g1:ve(512.45,512.15,512.75),b:ve(512.55,512.25,512.85),g2:ve(512.48,512.18,512.78)},{iso:1600,r:ve(513.1,512.8,513.4),g1:ve(513.05,512.75,513.35),b:ve(513.15,512.85,513.45),g2:ve(513.08,512.78,513.38)}]}]},{id:"sony-a7c",name:"Sony ILCE-7C",manufacturer:"Sony",shootingModes:[{modeName:"Still (Mechanical)",data:[{iso:100,r:ve(512.02,511.98,512.05),g1:ve(512.01,511.97,512.04),b:ve(512.03,511.99,512.06),g2:ve(512.01,511.97,512.04)},{iso:640,r:ve(512.15,512.05,512.25),g1:ve(512.12,512.02,512.22),b:ve(512.18,512.08,512.28),g2:ve(512.13,512.03,512.23)}]}]},{id:"canon-r5",name:"Canon EOS R5",manufacturer:"Canon",shootingModes:[{modeName:"Mechanical Shutter",data:[{iso:100,r:ve(512,511.8,512.2),g1:ve(512,511.8,512.2),b:ve(512,511.8,512.2),g2:ve(512,511.8,512.2)},{iso:400,r:ve(512,511.7,512.3),g1:ve(512,511.7,512.3),b:ve(512,511.7,512.3),g2:ve(512,511.7,512.3)},{iso:1600,r:ve(512.2,511.5,512.8),g1:ve(512.2,511.5,512.8),b:ve(512.2,511.5,512.8),g2:ve(512.2,511.5,512.8)}]}]},{id:"canon-r6",name:"Canon EOS R6",manufacturer:"Canon",shootingModes:[{modeName:"Mechanical Shutter",data:[{iso:100,r:ve(511.95,511.8,512.1),g1:ve(511.95,511.8,512.1),b:ve(511.95,511.8,512.1),g2:ve(511.95,511.8,512.1)},{iso:800,r:ve(512.1,511.9,512.3),g1:ve(512.1,511.9,512.3),b:ve(512.1,511.9,512.3),g2:ve(512.1,511.9,512.3)}]}]},{id:"nikon-z9",name:"Nikon Z9",manufacturer:"Nikon",shootingModes:[{modeName:"Electronic Shutter",data:[{iso:64,r:ve(400,399.9,400.1),g1:ve(400,399.9,400.1),b:ve(400,399.9,400.1),g2:ve(400,399.9,400.1)},{iso:100,r:ve(400,399.9,400.1),g1:ve(400,399.9,400.1),b:ve(400,399.9,400.1),g2:ve(400,399.9,400.1)}]}]},{id:"nikon-z6-2",name:"Nikon Z 6II",manufacturer:"Nikon",shootingModes:[{modeName:"Still (Lossless)",data:[{iso:100,r:ve(400.1,399.8,400.3),g1:ve(400.1,399.8,400.3),b:ve(400.1,399.8,400.3),g2:ve(400.1,399.8,400.3)},{iso:800,r:ve(400.3,399.5,401.1),g1:ve(400.3,399.5,401.1),b:ve(400.3,399.5,401.1),g2:ve(400.3,399.5,401.1)}]}]},{id:"fujifilm-xt4",name:"Fujifilm X-T4",manufacturer:"Fujifilm",shootingModes:[{modeName:"Still (RAF)",data:[{iso:160,r:ve(1024,1023.8,1024.2),g1:ve(1024,1023.8,1024.2),b:ve(1024,1023.8,1024.2),g2:ve(1024,1023.8,1024.2)},{iso:800,r:ve(1024.2,1023.5,1025),g1:ve(1024.2,1023.5,1025),b:ve(1024.2,1023.5,1025),g2:ve(1024.2,1023.5,1025)}]}]}],aJ=({isOpen:e,onClose:t,theme:r})=>{const[n,a]=S.useState(""),[o,i]=S.useState("All"),s=S.useMemo(()=>["All",...Array.from(new Set(Mp.map(d=>d.manufacturer))).sort()],[]),l=S.useMemo(()=>Mp.filter(f=>{const d=f.name.toLowerCase().includes(n.toLowerCase()),h=o==="All"||f.manufacturer===o;return d&&h}),[n,o]),u=f=>{const d=document.getElementById(`camera-${f}`);d&&d.scrollIntoView({behavior:"smooth"})};return e?c.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",onClick:t,children:c.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-6xl h-[90vh] rounded-2xl shadow-2xl flex flex-col border border-gray-200 dark:border-slate-700 overflow-hidden",onClick:f=>f.stopPropagation(),children:[c.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50",children:[c.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-slate-100 flex items-center gap-2",children:["Camera Black Level Database",c.jsxs("span",{className:"text-xs font-normal bg-cyan-100 dark:bg-cyan-900/30 text-cyan-600 dark:text-cyan-400 px-2 py-0.5 rounded border border-cyan-200 dark:border-cyan-800",children:[Mp.length," Models"]})]}),c.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 transition-colors p-2 rounded-full hover:bg-gray-100 dark:hover:bg-slate-800",children:c.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-slate-700 bg-gray-50/50 dark:bg-slate-800/30",children:c.jsx(eJ,{searchTerm:n,onSearchChange:a,manufacturers:s,selectedManufacturer:o,onManufacturerChange:i,cameras:l,onCameraSelect:u})}),c.jsx("div",{className:"flex-1 overflow-y-auto p-6 scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-slate-700 bg-gray-100 dark:bg-slate-950",children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-2 gap-6",children:[l.map(f=>c.jsx("div",{id:`camera-${f.id}`,children:c.jsx(nJ,{camera:f,theme:r})},f.id)),l.length===0&&c.jsx("div",{className:"col-span-full flex flex-col items-center justify-center py-20 text-gray-400 dark:text-slate-600",children:c.jsx("p",{className:"text-lg",children:"No cameras found matching your criteria."})})]})})]})}):null},oJ=({isOpen:e,onClose:t,zIndex:r=150})=>{const[n,a]=S.useState(""),[o,i]=S.useState(""),[s,l]=S.useState(""),[u,f]=S.useState(""),[d,h]=S.useState(null),p=()=>{const y=parseFloat(n),v=parseFloat(o),b=parseFloat(s),m=parseFloat(u);if(isNaN(y)||isNaN(v)||isNaN(b)||isNaN(m)){h(null);return}const g=y,x=v,j=b*b,w=m*m,k=(g+x)/2;if(k<=1e-9){h(0);return}const N=j*w/k,_=Math.sqrt(N);h(_)};return e?c.jsxs(Bu,{initialPosition:{x:window.innerWidth/2-160,y:window.innerHeight/2-200},onClose:t,zIndex:r,className:"w-80 bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 flex flex-col shadow-2xl",children:[c.jsxs("div",{className:"flex justify-between items-center px-4 py-3 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800",children:[c.jsx("h3",{className:"text-sm font-bold text-gray-700 dark:text-slate-200",children:"Cross-Compensation Calc"}),c.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 transition-colors",children:c.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsxs("div",{className:"p-4 flex flex-col gap-3 text-xs",children:[c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("label",{className:"text-gray-500 dark:text-slate-400 font-bold",children:"H Mean (Power/Var)"}),c.jsx("input",{type:"number",step:"any",value:n,onChange:y=>a(y.target.value),className:"p-2 rounded bg-gray-100 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 outline-none focus:border-indigo-500 text-gray-900 dark:text-slate-100 font-mono"})]}),c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("label",{className:"text-gray-500 dark:text-slate-400 font-bold",children:"V Mean (Power/Var)"}),c.jsx("input",{type:"number",step:"any",value:o,onChange:y=>i(y.target.value),className:"p-2 rounded bg-gray-100 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 outline-none focus:border-indigo-500 text-gray-900 dark:text-slate-100 font-mono"})]}),c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("label",{className:"text-gray-500 dark:text-slate-400 font-bold",children:"H RMS 0 (Sigma)"}),c.jsx("input",{type:"number",step:"any",value:s,onChange:y=>l(y.target.value),className:"p-2 rounded bg-gray-100 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 outline-none focus:border-indigo-500 text-gray-900 dark:text-slate-100 font-mono"})]}),c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("label",{className:"text-gray-500 dark:text-slate-400 font-bold",children:"V RMS 0 (Sigma)"}),c.jsx("input",{type:"number",step:"any",value:u,onChange:y=>f(y.target.value),className:"p-2 rounded bg-gray-100 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 outline-none focus:border-indigo-500 text-gray-900 dark:text-slate-100 font-mono"})]}),c.jsx("button",{onClick:p,className:"mt-2 w-full py-2 bg-indigo-600 hover:bg-indigo-500 text-white font-bold rounded shadow transition-colors active:scale-95",children:"Calculate Sigma"}),d!==null&&c.jsxs("div",{className:"mt-2 p-3 bg-indigo-50 dark:bg-indigo-900/30 border border-indigo-200 dark:border-indigo-800 rounded text-center animate-in fade-in slide-in-from-top-1",children:[c.jsx("span",{className:"block text-[10px] uppercase font-bold text-gray-500 dark:text-slate-400 mb-1",children:"Original White Noise Sigma"}),c.jsx("span",{className:"text-lg font-mono font-bold text-indigo-700 dark:text-indigo-300 select-all",children:d.toFixed(5)})]})]})]}):null},ty=[[.1725,.0838,.0576],[.5481,.2985,.217],[.1103,.1968,.3359],[.1038,.1502,.0521],[.2244,.2177,.4302],[.1232,.519,.4044],[.7168,.199,.0271],[.065,.1063,.3924],[.5417,.0884,.1203],[.1042,.0438,.1396],[.3547,.5078,.0482],[.7805,.3541,.0215],[.0234,.0492,.2916],[.0653,.3019,.0645],[.4294,.0319,.0402],[.8568,.5754,.0079],[.5032,.0889,.3055],[0,.249,.383],[.9163,.9155,.8705],[.5819,.5911,.5839],[.3552,.361,.359],[.1876,.1924,.1917],[.0871,.0901,.0908],[.0321,.0319,.0326]],iJ=[[3.2404542,-1.5371385,-.4985314],[-.969266,1.8760108,.041556],[.0556434,-.2040259,1.0572252]];function sJ(e,t,r,n,a,o,i=.5){const u=[],f=Math.max(.1,Math.min(.9,i)),d=Math.hypot(t.x-e.x,t.y-e.y),h=Math.hypot(n.x-r.x,n.y-r.y),p=Math.hypot(r.x-e.x,r.y-e.y),y=Math.hypot(n.x-t.x,n.y-t.y),v=(d+h)/2/5,b=(p+y)/2/3,m=v*f,g=b*f;for(let x=0;x<4;x++)for(let j=0;j<6;j++){const w=j/5,k=x/3,N=(1-w)*(1-k)*e.x+w*(1-k)*t.x+(1-w)*k*r.x+w*k*n.x,_=(1-w)*(1-k)*e.y+w*(1-k)*t.y+(1-w)*k*r.y+w*k*n.y;u.push({x:N-m/2,y:_-g/2,w:m,h:g})}return u}function dP(e){e.length;const t=e[0].length;return Array(t).fill(0).map((r,n)=>e.map(a=>a[n]))}function Wf(e,t){const r=e.length,n=e[0].length,a=t.length,o=t[0].length;if(n!==a)throw new Error("Matrix dimensions mismatch");const i=Array(r).fill(0).map(()=>Array(o).fill(0));for(let s=0;s<r;s++)for(let l=0;l<o;l++)for(let u=0;u<n;u++)i[s][l]+=e[s][u]*t[u][l];return i}function lJ(e,t){const r=dP(e),n=Wf(r,e);for(let u=0;u<3;u++)n[u][u]+=1e-9;const a=[[n[0][0],n[0][1],n[0][2]],[n[1][0],n[1][1],n[1][2]],[n[2][0],n[2][1],n[2][2]]],o=fP(a);if(!o)throw new Error("Singular Matrix (Check Input Data)");const i=[[o[0][0],o[0][1],o[0][2]],[o[1][0],o[1][1],o[1][2]],[o[2][0],o[2][1],o[2][2]]],s=Wf(r,t);return Wf(i,s)}function cJ(e){const t=e.length,r=e.map((n,a)=>[...n,...Array(t).fill(0).map((o,i)=>a===i?1:0)]);for(let n=0;n<t;n++){let a=n;for(let s=n+1;s<t;s++)Math.abs(r[s][n])>Math.abs(r[a][n])&&(a=s);const o=r[n];r[n]=r[a],r[a]=o;const i=r[n][n];if(Math.abs(i)<1e-12)throw new Error("Singular Matrix");for(let s=n;s<2*t;s++)r[n][s]/=i;for(let s=0;s<t;s++)if(s!==n){const l=r[s][n];for(let u=n;u<2*t;u++)r[s][u]-=l*r[n][u]}}return r.map(n=>n.slice(t))}function uJ(e,t,r){const n=[...e].sort((v,b)=>v.id-b.id);if(n.length!==24)throw new Error("Requires exactly 24 patches");const a=[];n.forEach(v=>{const b=v.rawMeans,m=[b[0]-t[0],b[1]-t[1],b[2]-t[2],b[3]-t[3]];let g,x,j;r?(j=m[0],x=(m[1]+m[2])/2,g=m[3]):(g=m[0],x=(m[1]+m[2])/2,j=m[3]),g=Math.max(0,g),x=Math.max(0,x),j=Math.max(0,j),a.push([g,x,j])});const i=a[18],s=(i[0]+i[1]+i[2])/3,l=1/Math.max(1e-9,s),u=a.map(v=>[v[0]*l,v[1]*l,v[2]*l]),d=lJ(u,ty),h=dP(d);let p;try{p=cJ(h)}catch{throw new Error("CCM Inversion Failed. Input data might be too dark or clipped.")}return{matrix:Wf(p,iJ)}}const fJ=({isOpen:e,onClose:t,patchStats:r,initialIsBGGR:n,zIndex:a=200,sizeRatio:o,onSizeChange:i})=>{const[s,l]=S.useState(n),[u,f]=S.useState(["0","0","0","0"]),[d,h]=S.useState(null),[p,y]=S.useState(null);if(S.useEffect(()=>{if(e&&r&&r.length===24){const k=r[23].rawMeans;u[0]==="0"&&u[1]==="0"&&f([k[0].toFixed(2),k[1].toFixed(2),k[2].toFixed(2),k[3].toFixed(2)])}},[e,r]),S.useEffect(()=>{if(!e||!r||r.length!==24)return;const w=u.map(k=>parseFloat(k));if(!w.some(isNaN))try{const k=uJ(r,w,s);h(k),y(null)}catch(k){y(k.message)}},[e,r,s,u]),!e)return null;const v=(w,k)=>{f(N=>{const _=[...N];return _[w]=k,_})},b=w=>{navigator.clipboard.writeText(w)},m=w=>w?w.map(k=>k.map(N=>N.toFixed(4))):[],g=d?m(d.matrix).flat().join(" "):"",x=s?["B","G1","G2","R"]:["R","G1","G2","B"],j=s?["text-blue-500","text-green-500","text-green-500","text-red-500"]:["text-red-500","text-green-500","text-green-500","text-blue-500"];return c.jsxs(Bu,{initialPosition:{x:window.innerWidth/2-200,y:100},onClose:t,zIndex:a,className:"w-[500px] bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 flex flex-col shadow-2xl rounded-xl overflow-hidden",children:[c.jsxs("div",{className:"flex justify-between items-center px-4 py-3 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800",children:[c.jsxs("h3",{className:"text-sm font-bold text-gray-800 dark:text-slate-100 flex items-center gap-2",children:[c.jsx("span",{className:"w-2 h-2 rounded-full bg-yellow-500"}),"Color Lab Result"]}),c.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 transition-colors",children:c.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsxs("div",{className:"p-5 flex flex-col gap-5",children:[c.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 rounded-lg border border-gray-200 dark:border-slate-700",children:[c.jsxs("div",{className:"flex justify-between items-center mb-1",children:[c.jsx("span",{className:"text-[10px] font-bold text-gray-500 dark:text-slate-400 uppercase",children:"Patch Sampling Size"}),c.jsxs("span",{className:"text-xs font-mono font-bold text-cyan-600 dark:text-cyan-400",children:[Math.round(o*100),"%"]})]}),c.jsx("input",{type:"range",min:"0.1",max:"0.9",step:"0.05",value:o,onChange:w=>i(parseFloat(w.target.value)),className:"w-full h-1.5 bg-gray-300 dark:bg-slate-600 rounded-lg appearance-none cursor-pointer accent-cyan-500"})]}),c.jsx("div",{className:"flex justify-center",children:c.jsxs("div",{className:"flex bg-gray-100 dark:bg-slate-800 p-1 rounded-lg border border-gray-200 dark:border-slate-700",children:[c.jsx("button",{onClick:()=>l(!1),className:`px-4 py-1.5 text-xs font-bold rounded transition-all ${s?"text-gray-500 dark:text-slate-400 hover:text-gray-700":"bg-white dark:bg-slate-600 text-indigo-600 dark:text-indigo-300 shadow-sm"}`,children:"RGGB Mode"}),c.jsx("button",{onClick:()=>l(!0),className:`px-4 py-1.5 text-xs font-bold rounded transition-all ${s?"bg-white dark:bg-slate-600 text-indigo-600 dark:text-indigo-300 shadow-sm":"text-gray-500 dark:text-slate-400 hover:text-gray-700"}`,children:"BGGR Mode"})]})}),c.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800/50 p-3 rounded-lg border border-gray-100 dark:border-slate-700",children:[c.jsx("h4",{className:"text-[10px] font-bold text-gray-400 dark:text-slate-500 uppercase mb-2",children:"Input Black Levels ()"}),c.jsx("div",{className:"grid grid-cols-4 gap-2",children:[0,1,2,3].map(w=>c.jsxs("div",{className:"flex flex-col",children:[c.jsx("label",{className:`text-[10px] font-bold mb-1 ${j[w]}`,children:x[w]}),c.jsx("input",{type:"number",step:"0.01",value:u[w],onChange:k=>v(w,k.target.value),className:"w-full px-2 py-1 text-sm font-mono border border-gray-300 dark:border-slate-600 rounded bg-white dark:bg-slate-900 text-gray-900 dark:text-slate-100 outline-none focus:ring-1 focus:ring-yellow-500"})]},w))})]}),p?c.jsx("div",{className:"text-red-500 text-sm text-center bg-red-50 dark:bg-red-900/20 p-2 rounded",children:p}):d?c.jsx(c.Fragment,{children:c.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800/50 p-3 rounded-lg border border-gray-100 dark:border-slate-700",children:[c.jsx("h4",{className:"text-[10px] font-bold text-gray-400 dark:text-slate-500 uppercase mb-2",children:"Calculated Color Matrix (XYZ  Camera RGB)"}),c.jsx("div",{className:"font-mono text-xs text-gray-700 dark:text-slate-300 grid grid-rows-3 gap-1 mb-3",children:m(d.matrix).map((w,k)=>c.jsxs("div",{className:"flex justify-between bg-white dark:bg-slate-900 px-2 py-1 rounded",children:[c.jsx("span",{className:"text-red-500/80 w-1/3 text-right",children:w[0]}),c.jsx("span",{className:"text-green-500/80 w-1/3 text-right",children:w[1]}),c.jsx("span",{className:"text-blue-500/80 w-1/3 text-right",children:w[2]})]},k))}),c.jsx("button",{onClick:()=>b(g),className:"w-full py-1.5 bg-indigo-600 hover:bg-indigo-500 text-white text-xs font-bold rounded shadow transition-transform active:scale-95 flex items-center justify-center gap-2",children:"Copy Matrix String (for customMatrix)"})]})}):c.jsx("div",{className:"text-gray-400 text-sm text-center",children:"Calculating..."})]})]})},ju=.15;function dJ(e,t){const r=e.length;let n=0,a=0,o=0,i=0;for(let l=0;l<r;l++)n+=e[l],a+=t[l],o+=e[l]*t[l],i+=e[l]*e[l];const s=r*i-n*n;return{slope:(r*o-n*a)/s,intercept:(a*i-n*o)/s}}function hJ(e){const t=e.length,r=new Array(t).fill(0),n=[22,-67,-58,0,58,67,-22],a=252*ju;for(let o=0;o<t;o++){let i=0;for(let s=0;s<7;s++){let l=o-3+s;l<0&&(l=0),l>=t&&(l=t-1),i+=e[l]*n[s]}r[o]=i/a}return r}function pk(e,t,r,n){const a=Math.floor(n.x),o=Math.floor(n.y),i=Math.floor(n.w),s=Math.floor(n.h);if(i<8||s<8)return null;let l=[];for(let P=0;P<s;P++){const E=[],$=(o+P)*t;for(let U=0;U<i;U++)E.push(e[$+a+U]);l.push(E)}let u=0,f=0;for(let P=1;P<s-1;P+=2)for(let E=1;E<i-1;E+=2)u+=Math.abs(l[P][E+1]-l[P][E-1]),f+=Math.abs(l[P+1][E]-l[P-1][E]);let d=i,h=s,p=l;if(f>u){p=Array(i).fill(0).map(()=>Array(s).fill(0));for(let P=0;P<s;P++)for(let E=0;E<i;E++)p[E][s-1-P]=l[P][E];d=s,h=i}const y=[],v=[];for(let P=0;P<h;P++){const E=p[P],$=E.map((K,L)=>L===0?0:Math.abs(K-E[L-1])),U=Math.max(...$),te=$.indexOf(U);if(U>1){const K=Math.max(0,te-3),L=Math.min(d,te+4);let ee=0,Z=0;for(let D=K;D<L;D++)ee+=$[D],Z+=D*$[D];ee>0&&(y.push(Z/ee),v.push(P))}}if(y.length<h*.4)return null;const{slope:b,intercept:m}=dJ(v,y),g=Math.cos(Math.atan(b)),x=[],j=[];for(let P=0;P<h;P++){const E=b*P+m;for(let $=0;$<d;$++)x.push(($-E)*g),j.push(p[P][$])}const w=Array.from(x.keys()).sort((P,E)=>x[P]-x[E]),k=w.map(P=>x[P]),N=w.map(P=>j[P]),_=k[0],O=k[k.length-1],A=Math.floor((O-_)/ju),M=new Array(A).fill(0),C=new Array(A).fill(0);for(let P=0;P<k.length;P++){const E=Math.floor((k[P]-_)/ju);E>=0&&E<A&&(M[E]+=N[P],C[E]++)}let R=N[0];for(let P=0;P<A;P++)C[P]>0?(M[P]/=C[P],R=M[P]):M[P]=R;const z=M.slice(0,10).reduce((P,E)=>P+E,0)/10,T=M.slice(-10).reduce((P,E)=>P+E,0)/10;if(z>T){const P=Math.max(...M),E=Math.min(...M);for(let $=0;$<M.length;$++)M[$]=P-M[$]+E}const G=hJ(M);return{esf:M,lsfFull:G}}function pJ(e,t,r){if(e.length===0)return null;const n=4096,a=new Yi(n),o=Math.round(t/ju),i=r?1e3/r:1,s=new Float32Array(501);for(let y=0;y<=500;y++)s[y]=y/500*i;const l=new Float32Array(501).fill(0);let u=0,f=[],d=[];for(const y of e){const v=y.lsfFull;let b=0,m=-1/0;for(let O=0;O<v.length;O++)v[O]>m&&(m=v[O],b=O);const g=Math.max(0,b-o),x=Math.min(v.length,b+o),j=v.slice(g,x);if(j.length<8)continue;f.length===0&&(f=j,d=y.esf);const w=new Float32Array(n).fill(0);for(let O=0;O<j.length;O++){const A=.54-.46*Math.cos(2*Math.PI*O/(j.length-1));w[O]=j[O]*A}a.transform(w);const k=[],N=[];for(let O=0;O<=n/2;O++){const A=Math.sqrt(a._real[O]**2+a._imag[O]**2);k.push(A),N.push(O/(n*ju)*i)}const _=k[0];if(_>0){for(let O=0;O<=500;O++){const A=s[O];l[O]+=gJ(A,N,k)/_}u++}}if(u===0)return null;const h=Array.from(l).map(y=>y/u);let p=null;for(let y=0;y<h.length-1;y++)if(h[y]>=.5&&h[y+1]<.5){p=s[y]+(.5-h[y])*(s[y+1]-s[y])/(h[y+1]-h[y]);break}return{esf:d,lsf:[],lsfCropped:f,mtf:h,freqs:Array.from(s),mtf50:p}}function gJ(e,t,r){if(e<=t[0])return r[0];if(e>=t[t.length-1])return r[r.length-1];let n=0;for(;e>t[n+1];)n++;const a=(e-t[n])/(t[n+1]-t[n]);return r[n]+a*(r[n+1]-r[n])}const mJ=({isOpen:e,onClose:t,rawImageData:r,roi:n,zIndex:a=110,onFocus:o,displaySettings:i})=>{const[s,l]=S.useState([]),[u,f]=S.useState(""),[d,h]=S.useState(""),[p,y]=S.useState(12),[v,b]=S.useState(1),[m,g]=S.useState(null),[x,j]=S.useState({x:100,y:50}),[w,k]=S.useState({w:1e3,h:800}),[N,_]=S.useState(!1),[O,A]=S.useState(!1),M=S.useRef({x:0,y:0}),C=S.useRef({w:0,h:0}),R=()=>{if(!(!r||!n))try{let L;if((i==null?void 0:i.renderMode)==="advanced-zero-dep"&&i.advancedZeroDep){const ee=FQ(r,n,i);L=pk(ee.data,ee.width,ee.height,{x:0,y:0,w:ee.width,h:ee.height})}else L=pk(r.data,r.width,r.height,n);L?l(ee=>[...ee,L]):alert("Could not detect valid edge in selection. Make sure it contains a transition.")}catch(L){console.error(L),alert("Error processing ROI")}},z=()=>{l([]),g(null),b(1)},T=()=>{if(!m)return;const L=parseFloat(u),D=`data:text/csv;charset=utf-8,Frequency (${!isNaN(L)&&L>0?"lp/mm":"cy/px"}),MTF
`+m.freqs.map((Y,le)=>`${Y.toFixed(6)},${m.mtf[le].toFixed(6)}`).join(`
`),ae=encodeURI(D),ce=document.createElement("a");ce.setAttribute("href",ae),ce.setAttribute("download",`sfr_data_${Date.now()}.csv`),document.body.appendChild(ce),ce.click(),document.body.removeChild(ce)};S.useEffect(()=>{if(s.length===0){g(null);return}const L=parseFloat(u),ee=!isNaN(L)&&L>0?L:null,Z=pJ(s,p,ee);g(Z)},[s,p,u]),S.useEffect(()=>{e&&s.length===0&&n&&r&&R()},[e]);const G=L=>{o&&o(),!(L.target.closest("button")||L.target.closest("input"))&&(_(!0),M.current={x:L.clientX-x.x,y:L.clientY-x.y})},P=L=>{L.stopPropagation(),L.preventDefault(),A(!0),M.current={x:L.clientX,y:L.clientY},C.current={w:w.w,h:w.h}};S.useEffect(()=>{const L=Z=>{if(N)j({x:Z.clientX-M.current.x,y:Z.clientY-M.current.y});else if(O){const D=Z.clientX-M.current.x,ae=Z.clientY-M.current.y;k({w:Math.max(600,C.current.w+D),h:Math.max(500,C.current.h+ae)})}},ee=()=>{_(!1),A(!1)};return(N||O)&&(window.addEventListener("mousemove",L),window.addEventListener("mouseup",ee)),()=>{window.removeEventListener("mousemove",L),window.removeEventListener("mouseup",ee)}},[N,O]);const E=S.useMemo(()=>{if(!(m!=null&&m.mtf50)||!d)return null;const L=parseFloat(d);if(isNaN(L)||L<=0)return null;let ee=m.mtf50;const Z=parseFloat(u);return!isNaN(Z)&&Z>0&&(ee=m.mtf50*(Z/1e3)),ee*2*L},[m,d,u]);if(!e)return null;const $=m?m.lsfCropped.map((L,ee)=>({x:ee,y:L})):[],U=m?m.esf.map((L,ee)=>({x:ee,y:L})):[],te=m?m.mtf.map((L,ee)=>({freq:m.freqs[ee],mtf:L})).filter(L=>L.freq<=(parseFloat(u)?200:1)):[],K=u?"lp/mm":"cy/px";return c.jsxs("div",{className:"fixed flex flex-col bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 shadow-2xl rounded-xl overflow-hidden",style:{left:x.x,top:x.y,width:w.w,height:w.h,zIndex:a??100},onMouseDownCapture:o,children:[c.jsxs("div",{className:`flex justify-between items-center px-4 py-2 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800 select-none ${N?"cursor-grabbing":"cursor-grab"}`,onMouseDown:G,children:[c.jsxs("h3",{className:"text-sm font-bold text-orange-600 dark:text-orange-400 flex items-center gap-2 pointer-events-none",children:["SFR Expert (Edge Method)",c.jsxs("span",{className:"text-xs bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-300 px-2 py-0.5 rounded border border-orange-200 dark:border-orange-800",children:[s.length," ROI",s.length!==1?"s":""]}),(i==null?void 0:i.renderMode)==="advanced-zero-dep"&&c.jsx("span",{className:"text-xs font-bold bg-indigo-100 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300 px-2 py-0.5 rounded border border-indigo-200 dark:border-indigo-800 animate-pulse",children:"Linear Unmixing Active"})]}),c.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 transition-colors",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsxs("div",{className:"p-3 bg-gray-50/50 dark:bg-slate-800/30 border-b border-gray-200 dark:border-slate-700 flex items-center gap-4 flex-wrap text-xs flex-shrink-0",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"font-bold text-gray-500 dark:text-slate-400",children:"Pixel Pitch (m):"}),c.jsx("input",{type:"number",value:u,onChange:L=>f(L.target.value),placeholder:"Default (cy/px)",className:"w-20 px-2 py-1 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded outline-none focus:border-orange-500"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"font-bold text-gray-500 dark:text-slate-400",children:"Image Height:"}),c.jsx("input",{type:"number",value:d,onChange:L=>h(L.target.value),placeholder:"px",className:"w-16 px-2 py-1 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded outline-none focus:border-orange-500"})]}),c.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-[150px]",children:[c.jsxs("span",{className:"font-bold text-gray-500 dark:text-slate-400 whitespace-nowrap",children:["Radius (px): ",p.toFixed(1)]}),c.jsx("input",{type:"range",min:"2",max:"50",step:"0.5",value:p,onChange:L=>y(parseFloat(L.target.value)),className:"w-full h-1.5 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-orange-500"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:R,className:"px-3 py-1.5 bg-orange-600 hover:bg-orange-500 text-white font-bold rounded shadow-sm transition-transform active:scale-95",children:"Add Current ROI"}),c.jsx("button",{onClick:T,disabled:!m,className:"px-3 py-1.5 bg-indigo-600 hover:bg-indigo-500 disabled:bg-gray-300 disabled:text-gray-500 text-white font-bold rounded shadow-sm transition-transform active:scale-95",children:"Export CSV"}),c.jsx("button",{onClick:z,className:"px-3 py-1.5 bg-gray-200 hover:bg-gray-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-600 dark:text-slate-300 font-bold rounded transition-colors",children:"Clear"})]})]}),c.jsxs("div",{className:"flex-1 p-4 overflow-hidden flex flex-col gap-4 bg-white dark:bg-slate-950",children:[c.jsxs("div",{className:"h-[35%] min-h-[180px] flex gap-4",children:[c.jsxs("div",{className:"flex-1 bg-gray-50 dark:bg-slate-900/50 border border-gray-200 dark:border-slate-800 rounded-xl p-2 relative flex flex-col",children:[c.jsx("h4",{className:"text-[10px] font-bold text-gray-500 dark:text-slate-400 absolute top-2 left-3 z-10 bg-white/80 dark:bg-slate-900/80 px-1 rounded",children:"ESF"}),c.jsx("div",{className:"flex-1 min-h-0 w-full",children:c.jsx(po,{width:"100%",height:"100%",children:c.jsxs(Rs,{data:U,children:[c.jsx(Ya,{strokeDasharray:"3 3",stroke:"#374151",opacity:.1}),c.jsx(zn,{dataKey:"x",hide:!0}),c.jsx(Un,{hide:!0,domain:["auto","auto"]}),c.jsx(Hr,{contentStyle:{fontSize:"10px"}}),c.jsx(jr,{type:"monotone",dataKey:"y",stroke:"#3b82f6",strokeWidth:1,dot:!1,isAnimationActive:!1})]})})})]}),c.jsxs("div",{className:"flex-1 bg-gray-50 dark:bg-slate-900/50 border border-gray-200 dark:border-slate-800 rounded-xl p-2 relative flex flex-col",children:[c.jsxs("div",{className:"absolute top-2 left-3 z-10 flex items-center gap-3",children:[c.jsxs("h4",{className:"text-[10px] font-bold text-gray-500 dark:text-slate-400 bg-white/80 dark:bg-slate-900/80 px-1 rounded",children:["LSF ",v>1?`(x${v.toFixed(0)})`:""]}),c.jsxs("div",{className:"flex items-center gap-1 bg-white/80 dark:bg-slate-900/80 px-1 rounded border border-gray-200 dark:border-slate-700",children:[c.jsx("span",{className:"text-[9px] text-gray-400 font-bold",children:"Zoom"}),c.jsx("input",{type:"range",min:"1",max:"50",step:"1",value:v,onChange:L=>b(parseFloat(L.target.value)),className:"w-16 h-1 bg-gray-300 dark:bg-slate-600 rounded-lg appearance-none cursor-pointer accent-red-500",title:"Vertical Zoom to observe noise floor"})]})]}),c.jsx("div",{className:"flex-1 min-h-0 w-full",children:c.jsx(po,{width:"100%",height:"100%",children:c.jsxs(Rs,{data:$,children:[c.jsx(Ya,{strokeDasharray:"3 3",stroke:"#374151",opacity:.1}),c.jsx(zo,{y:0,stroke:"#9ca3af",strokeOpacity:.5,strokeDasharray:"3 3"}),c.jsx(zn,{dataKey:"x",hide:!0}),c.jsx(Un,{hide:!1,width:30,tick:{fontSize:9,fill:"#888"},domain:[L=>L,L=>L/v],allowDataOverflow:!0,tickFormatter:L=>L.toFixed(3)}),c.jsx(Hr,{contentStyle:{fontSize:"10px"},formatter:L=>[L.toFixed(5),"Amplitude"]}),c.jsx(jr,{type:"monotone",dataKey:"y",stroke:"#ef4444",strokeWidth:2,dot:!1,isAnimationActive:!1})]})})})]})]}),c.jsxs("div",{className:"flex-1 bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-800 rounded-xl p-2 relative flex flex-col min-h-[250px]",children:[c.jsxs("div",{className:"flex justify-between items-start px-2 mb-1",children:[c.jsx("h4",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"MTF / Spatial Frequency Response"}),c.jsxs("div",{className:"flex gap-4 items-center",children:[(m==null?void 0:m.mtf50)&&c.jsxs("div",{className:"text-sm font-bold text-gray-600 dark:text-slate-300",children:["MTF50 = ",c.jsxs("span",{className:"text-orange-600 dark:text-orange-400",children:[m.mtf50.toFixed(2)," ",K]})]}),E!==null&&c.jsxs("div",{className:"text-lg font-bold text-white bg-orange-500 px-3 py-0.5 rounded shadow-lg animate-in fade-in",children:[Math.round(E)," LW/PH"]})]})]}),c.jsxs("div",{className:"flex-1 relative min-h-0 w-full",children:[c.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 pointer-events-none select-none opacity-10",children:c.jsx("svg",{viewBox:"0 0 400 60",className:"w-[40rem] h-auto",children:c.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"24",fontWeight:"bold",children:" y-g-jiang.github.io"})})}),c.jsx(po,{width:"100%",height:"100%",children:c.jsxs(Rs,{data:te,margin:{top:10,right:30,left:10,bottom:20},children:[c.jsx(Ya,{strokeDasharray:"3 3",stroke:"#374151",opacity:.15}),c.jsx(zn,{dataKey:"freq",type:"number",tick:{fontSize:10,fill:"#9ca3af"},label:{value:`Frequency (${K})`,position:"insideBottom",offset:-10,fontSize:11,fill:"#9ca3af"}}),c.jsx(Un,{domain:[0,1.1],tick:{fontSize:10,fill:"#9ca3af"},label:{value:"MTF",angle:-90,position:"insideLeft",fontSize:11,fill:"#9ca3af"}}),c.jsx(Hr,{contentStyle:{backgroundColor:"rgba(15, 23, 42, 0.9)",border:"none",color:"#fff",fontSize:"11px",borderRadius:"4px"},labelFormatter:L=>`Freq: ${Number(L).toFixed(3)}`,formatter:L=>[L.toFixed(4),"MTF"]}),c.jsx(Ha,{verticalAlign:"top",height:20}),c.jsx(jr,{type:"monotone",dataKey:"mtf",name:"SFR",stroke:"#000000",strokeWidth:2,className:"dark:stroke-white",dot:!1,isAnimationActive:!1}),(m==null?void 0:m.mtf50)&&c.jsx(Ru,{x:m.mtf50,y:.5,r:4,fill:"#f97316",stroke:"none",children:c.jsx(tn,{value:"MTF50",position:"top",fill:"#f97316",fontSize:10,fontWeight:"bold"})})]})})]})]})]}),c.jsx("div",{className:"absolute bottom-0 right-0 w-4 h-4 cursor-nwse-resize z-50 bg-gray-300 dark:bg-slate-600 rounded-tl hover:bg-orange-500 transition-colors",onMouseDown:P})]})};function yJ(e,t,r,n=3){const o=r.byteLength,i=8,s=i+o,l=[{id:256,type:4,count:1,value:e},{id:257,type:4,count:1,value:t},{id:258,type:3,count:n,value:n===1?16:[16,16,16]},{id:259,type:3,count:1,value:1},{id:262,type:3,count:1,value:n===1?1:2},{id:273,type:4,count:1,value:i},{id:277,type:3,count:1,value:n},{id:278,type:4,count:1,value:t},{id:279,type:4,count:1,value:o}],u=2+l.length*12+4;let f=0;const d=l.map(g=>{let x=g.type===3?2:4;const j=g.count*x,w=j<=4;let k=0;return w||(k=f,f+=j),{...g,fits:w,totalBytes:j,extraOffset:k}}),h=s+u+f,p=new ArrayBuffer(h),y=new DataView(p),v=new Uint8Array(p);y.setUint16(0,18761,!0),y.setUint16(2,42,!0),y.setUint32(4,s,!0),v.set(new Uint8Array(r.buffer,r.byteOffset,r.byteLength),i);let b=s;y.setUint16(b,l.length,!0),b+=2;const m=s+u;return d.forEach(g=>{if(y.setUint16(b,g.id,!0),y.setUint16(b+2,g.type,!0),y.setUint32(b+4,g.count,!0),g.fits)Array.isArray(g.value)||(g.type===3?y.setUint16(b+8,g.value,!0):y.setUint32(b+8,g.value,!0));else{const x=m+g.extraOffset;y.setUint32(b+8,x,!0),Array.isArray(g.value)&&g.value.forEach((j,w)=>{y.setUint16(x+w*2,j,!0)})}b+=12}),y.setUint32(b,0,!0),p}const vJ="http://localhost:5428",xJ=(e=!1)=>{const[t,r]=S.useState({isConnected:!1,message:"Initializing...",hasDngConverter:!1});return S.useEffect(()=>{if(e){r({isConnected:!1,message:"Bridge Paused",hasDngConverter:!1});return}const n=async()=>{try{const o=new AbortController,i=setTimeout(()=>o.abort(),1e3),s=await fetch(`${vJ}/health`,{method:"GET",signal:o.signal});if(clearTimeout(i),s.ok){const l=await s.json(),u=`Connected (${l.exiftool||"Ready"})`;r(f=>f.isConnected===!0&&f.message===u&&f.version===l.exiftool&&f.hasDngConverter===!!l.dng_converter?f:{isConnected:!0,message:u,version:l.exiftool,hasDngConverter:!!l.dng_converter})}else r(l=>l.isConnected===!1&&l.message==="Service Error"?l:{isConnected:!1,message:"Service Error",hasDngConverter:!1})}catch{r(i=>i.isConnected===!1&&i.message==="Not Detected"?i:{isConnected:!1,message:"Not Detected",hasDngConverter:!1})}};n();const a=setInterval(n,2e3);return()=>clearInterval(a)},[e]),t},bJ="JTR_BlobStore",Za="raw_files",wJ=1,w0=()=>new Promise((e,t)=>{const r=indexedDB.open(bJ,wJ);r.onupgradeneeded=n=>{const a=n.target.result;a.objectStoreNames.contains(Za)||a.createObjectStore(Za)},r.onsuccess=()=>e(r.result),r.onerror=()=>t(r.error)}),gk=async(e,t)=>{const r=await w0();return new Promise((n,a)=>{const o=r.transaction(Za,"readwrite");o.objectStore(Za).put(t,e),o.oncomplete=()=>n(),o.onerror=()=>a(o.error)})},kJ=async e=>{const t=await w0();return new Promise((r,n)=>{const i=t.transaction(Za,"readonly").objectStore(Za).get(e);i.onsuccess=()=>r(i.result),i.onerror=()=>n(i.error)})},jJ=async()=>{const e=await w0();return new Promise((t,r)=>{const n=e.transaction(Za,"readwrite");n.objectStore(Za).clear(),n.oncomplete=()=>t(),n.onerror=()=>r(n.error)})},hP="jtr_workspace_index",SJ=e=>{try{const t=JSON.stringify(e);localStorage.setItem(hP,t)}catch(t){console.error("Failed to save workspace index",t)}},NJ=()=>{try{const e=localStorage.getItem(hP);return e?JSON.parse(e):null}catch(e){return console.error("Failed to load workspace index",e),null}},_J=async e=>{const n=(await w0()).transaction(Za,"readwrite").objectStore(Za),a=n.getAllKeys();a.onsuccess=()=>{a.result.forEach(i=>{e.includes(i)||n.delete(i)})}},dn=1024,mk=(e,t,r)=>{const n=e.width,a=e.height,o=new ImageData(t,r),i=e.data,s=o.data,l=n/t,u=a/r;for(let f=0;f<r;f++){const d=Math.floor(f*u),h=f*t*4,p=d*n*4;for(let y=0;y<t;y++){const b=Math.floor(y*l)*4,m=h+y*4,g=p+b;s[m]=i[g],s[m+1]=i[g+1],s[m+2]=i[g+2],s[m+3]=i[g+3]}}return o},OJ=({stats:e,onClose:t,onMinimize:r,isBGGR:n,onToggleBGGR:a,onOpenWindow:o,displaySettings:i,zIndex:s,onFocus:l})=>{if(!e)return null;const u=!!i.showKadc&&!!i.blackLevel,f=i.blackLevel||[0,0,0,0],d=!!i.subtractBlackLevelFromStats&&!!i.blackLevel,h=(b,m,g)=>{if(!u)return null;const x=m*m;return x<=1e-4?0:(b-g)/x},p=(b,m)=>d?b-f[m]:b,y=()=>{if(!d){alert(`Sub. BL
Please enable 'Sub. BL' in Tools sidebar first.`);return}let b,m,g,x;n?(x=0,m=1,g=2,b=3):(b=0,m=1,g=2,x=3);const j=k=>e.means[k]-f[k],w=k=>e.stdDevs[k];localStorage.setItem("import_signal_r",j(b).toString()),localStorage.setItem("import_signal_g1",j(m).toString()),localStorage.setItem("import_signal_g2",j(g).toString()),localStorage.setItem("import_signal_b",j(x).toString()),localStorage.setItem("import_sigma_r",w(b).toString()),localStorage.setItem("import_sigma_g1",w(m).toString()),localStorage.setItem("import_sigma_g2",w(g).toString()),localStorage.setItem("import_sigma_b",w(x).toString()),window.open("https://y-g-jiang.github.io/XJZS.html","_blank")},v=n?[{name:"B",desc:"(0,0)",mean:p(e.means[0],0),std:e.stdDevs[0],color:"text-blue-500",k:h(e.means[0],e.stdDevs[0],f[0])},{name:"G1",desc:"(0,1)",mean:p(e.means[1],1),std:e.stdDevs[1],color:"text-green-500",k:h(e.means[1],e.stdDevs[1],f[1])},{name:"G2",desc:"(1,0)",mean:p(e.means[2],2),std:e.stdDevs[2],color:"text-green-500",k:h(e.means[2],e.stdDevs[2],f[2])},{name:"R",desc:"(1,1)",mean:p(e.means[3],3),std:e.stdDevs[3],color:"text-red-500",k:h(e.means[3],e.stdDevs[3],f[3])}]:[{name:"R",desc:"(0,0)",mean:p(e.means[0],0),std:e.stdDevs[0],color:"text-red-500",k:h(e.means[0],e.stdDevs[0],f[0])},{name:"G1",desc:"(0,1)",mean:p(e.means[1],1),std:e.stdDevs[1],color:"text-green-500",k:h(e.means[1],e.stdDevs[1],f[1])},{name:"G2",desc:"(1,0)",mean:p(e.means[2],2),std:e.stdDevs[2],color:"text-green-500",k:h(e.means[2],e.stdDevs[2],f[2])},{name:"B",desc:"(1,1)",mean:p(e.means[3],3),std:e.stdDevs[3],color:"text-blue-500",k:h(e.means[3],e.stdDevs[3],f[3])}];return c.jsxs(Bu,{className:`${u?"w-80":"w-60"} p-0 overflow-hidden transition-all duration-300 bg-white dark:bg-black border-2 border-black dark:border-white shadow-[4px_4px_0px_rgba(0,0,0,0.5)] dark:shadow-[4px_4px_0px_rgba(255,255,255,0.2)]`,onClose:t,zIndex:s,onFocus:l,initialPosition:{x:20,y:80},children:[c.jsxs("div",{className:"flex justify-between items-center px-3 py-2 border-b border-gray-100 dark:border-slate-800 bg-gray-50/50 dark:bg-slate-800/50 select-none",children:[c.jsxs("h3",{className:"text-xs font-bold text-gray-700 dark:text-slate-300 uppercase tracking-wider flex items-center gap-2",children:["ROI Analysis",c.jsxs("span",{className:"text-[10px] font-normal text-gray-400 bg-gray-200 dark:bg-slate-700 px-1.5 py-0.5 rounded",children:[Math.round(e.width),"",Math.round(e.height)]})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 transition-colors p-1 rounded-md hover:bg-gray-200 dark:hover:bg-slate-700 relative z-20",children:c.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),c.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 dark:hover:text-red-400 transition-colors p-1 rounded-md hover:bg-gray-200 dark:hover:bg-slate-700 relative z-20",children:c.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),c.jsxs("div",{className:"p-3",children:[c.jsxs("div",{className:"flex justify-between items-center mb-3",children:[c.jsxs("div",{className:"text-[10px] text-gray-400 dark:text-slate-500 font-mono leading-tight",children:["X: ",Math.round(e.x),c.jsx("br",{}),"Y: ",Math.round(e.y)]}),c.jsx("button",{onClick:()=>a(!n),className:"text-[10px] font-bold px-2 py-1 rounded bg-gray-100 hover:bg-gray-200 dark:bg-slate-800 dark:hover:bg-slate-700 text-gray-600 dark:text-slate-300 transition-colors border border-gray-200 dark:border-slate-700 relative z-20",title:"Toggle Bayer Pattern Interpretation",children:n?"BGGR":"RGGB"})]}),c.jsxs("table",{className:"w-full mb-3",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"text-[10px] text-gray-400 dark:text-slate-500 border-b border-gray-100 dark:border-slate-800",children:[c.jsx("th",{className:"text-left pb-1 font-medium",children:"Ch"}),c.jsxs("th",{className:"text-right pb-1 font-medium",children:["Mean",d?"*":""]}),c.jsx("th",{className:"text-right pb-1 font-medium",children:"Std()"}),u&&c.jsx("th",{className:"text-right pb-1 font-medium text-cyan-600 dark:text-cyan-400",children:"K(e/ADU)"})]})}),c.jsx("tbody",{className:"font-mono text-xs",children:v.map((b,m)=>c.jsxs("tr",{className:"group hover:bg-gray-50 dark:hover:bg-slate-800/30 transition-colors",children:[c.jsxs("td",{className:"py-1",children:[c.jsx("span",{className:`font-bold ${b.color}`,children:b.name}),c.jsx("span",{className:"text-[9px] text-gray-300 dark:text-slate-600 ml-1 hidden group-hover:inline",children:b.desc})]}),c.jsx("td",{className:"py-1 text-right text-gray-700 dark:text-slate-200 font-semibold",title:d?"Mean minus Black Level":"Raw Mean",children:b.mean.toFixed(2)}),c.jsx("td",{className:"py-1 text-right text-gray-500 dark:text-slate-400",children:b.std.toFixed(2)}),u&&c.jsx("td",{className:"py-1 text-right text-cyan-600 dark:text-cyan-400 font-bold",children:b.k!==null?b.k.toFixed(3):"-"})]},m))})]}),d&&c.jsx("div",{className:"mb-2 text-[9px] text-gray-400 dark:text-slate-500 text-right italic",children:"* Mean adjusted by Black Level"}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsx("button",{onClick:()=>o("histogram"),className:"relative z-20 flex-1 min-w-[50px] py-1.5 bg-cyan-600 hover:bg-cyan-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"View Histogram",children:"Hist"}),c.jsx("button",{onClick:()=>o("quant"),className:"relative z-20 flex-1 min-w-[50px] py-1.5 bg-teal-600 hover:bg-teal-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"View Quantization Steps",children:"Quant"}),c.jsx("button",{onClick:()=>o("fft"),className:"relative z-20 flex-1 min-w-[50px] py-1.5 bg-purple-600 hover:bg-purple-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"View Power Spectrum (FFT)",children:"FFT"}),c.jsx("button",{onClick:()=>o("pearson"),className:"relative z-20 flex-1 min-w-[50px] py-1.5 bg-indigo-600 hover:bg-indigo-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"Pearson Correlation Analysis",children:"PCC"}),c.jsx("button",{onClick:y,className:"relative z-20 flex-1 min-w-[50px] py-1.5 bg-pink-600 hover:bg-pink-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"Color Noise Analysis (External Tool)",children:"ColorN"})]})]})]})},PJ=()=>{var ox;const[e,t]=S.useState(!0),[r,n]=S.useState("Initializing..."),a=S.useRef(!1),[o,i]=S.useState("dark");S.useEffect(()=>{const W=window.document.documentElement;W.classList.remove(o==="dark"?"light":"dark"),W.classList.add(o)},[o]);const[s,l]=S.useState(!1),[u,f]=S.useState(!1),[d,h]=S.useState(!1),p=xJ(s||u||d),[y,v]=S.useState(!1),[b,m]=S.useState([]),[g,x]=S.useState(-1),[j,w]=S.useState([]),k=S.useMemo(()=>b[g],[b,g]),N=S.useRef(null);S.useEffect(()=>{N.current=k||null},[k]);const _=(k==null?void 0:k.file)||null,O=(k==null?void 0:k.imageElement)||null,A=(k==null?void 0:k.rawImageData)||null,M=(k==null?void 0:k.rawFileBuffer)||null,C=(k==null?void 0:k.renderedRawImageData)||null,R=(k==null?void 0:k.referenceImageData)||null,z=(k==null?void 0:k.sampledImageData)||null,T=(k==null?void 0:k.exifData)||null,G=(k==null?void 0:k.isThreePlane)||!1;k!=null&&k.xtransPhase;const P=(k==null?void 0:k.displaySettings)||{exposure:0,demosaicMethod:3,blackLevel:void 0,wbGains:[1,1],showKadc:!0,subtractBlackLevelFromStats:!0},[E,$]=S.useState(!1),[U,te]=S.useState(null),[K,L]=S.useState(!1),[ee,Z]=S.useState(!1),[D,ae]=S.useState(null),[ce,Y]=S.useState([]),[le,ge]=S.useState(100),[H,ie]=S.useState(!0),[se,ke]=S.useState(!1),[Be,Re]=S.useState(null),[wt,Pt]=S.useState(!1),[De,He]=S.useState(!1),[kt,Ct]=S.useState(!1),[Wt,Nr]=S.useState(!1),[_r,rr]=S.useState(!1),[Qt,Or]=S.useState(!1),[Gt,Pr]=S.useState(!1),[lt,Fe]=S.useState(!1),[ut,Lt]=S.useState(!1),[cr,Kr]=S.useState({x:0,y:0}),[An,Ht]=S.useState(!1),[Vt,it]=S.useState(!1),[Et,Yr]=S.useState([]),[vr,Ar]=S.useState(0),[Mn,na]=S.useState(null),[Gn,Cn]=S.useState(!1),[yn,qr]=S.useState([]),[aa,nr]=S.useState(.5),[At,Tt]=S.useState(!1),[oe,Pe]=S.useState(2),[Le,Ze]=S.useState(1),[Ke,yt]=S.useState([]),[ur,fr]=S.useState(null),[Ae,qe]=S.useState(0),[ft,dt]=S.useState([]),[It,me]=S.useState([]),[Zr,ui]=S.useState(64),[vn,oa]=S.useState(10),[Hn,fi]=S.useState(10),[V,Se]=S.useState(4),[nt,Mr]=S.useState(1),[Cr,Qr]=S.useState(0),[Er,Vn]=S.useState("processed"),[ns,xn]=S.useState(!1),di=S.useMemo(()=>P.blackLevel?P.blackLevel:A!=null&&A.blackLevels?[A.blackLevels[0],A.blackLevels[1],A.blackLevels[2],A.blackLevels[3]]:[0,0,0,0],[P.blackLevel,A]),Ja=(T==null?void 0:T.ImageHeight)||(T==null?void 0:T.ExifImageHeight)||(A==null?void 0:A.height)||0,[xr,pt]=S.useState(null),[Fu,Qe]=S.useState(null),[Tl,hi]=S.useState({x:0,y:0}),[$l,F]=S.useState(1),[Q,re]=S.useState("pan"),B=S.useRef(null),de=S.useRef(null),_e=S.useCallback(async()=>{if(!M||!k)return;Ct(!1);const W=Wt,X=_r;Qe(`Rendering 16-bit TIFF (${W?"Stretched":"Native DN"} | ${X?"sRGB":"Linear"})...`);try{const q=await zQ(M.slice(0),P,W,X),ne=yJ(q.width,q.height,q.data,q.channels),ye=new Blob([ne],{type:"image/tiff"}),pe=URL.createObjectURL(ye),Me=document.createElement("a"),Ne=k.fileName||"rendered",Ee=Ne.substring(0,Ne.lastIndexOf("."))||Ne,je=[W?"stretch":"native",X?"srgb":"linear"].join("_");Me.href=pe,Me.download=`${Ee}_${je}.tif`,document.body.appendChild(Me),Me.click(),document.body.removeChild(Me),URL.revokeObjectURL(pe)}catch(q){pt("TIFF Export Failed: "+q.message)}finally{Qe(null)}},[M,k,P,Wt,_r]),Ce=S.useCallback(()=>{!M||!k||Ct(!0)},[M,k]);S.useEffect(()=>{const W=X=>{(X.ctrlKey||X.metaKey)&&X.key.toLowerCase()==="s"&&(X.preventDefault(),Ce())};return window.addEventListener("keydown",W),()=>window.removeEventListener("keydown",W)},[Ce]),S.useEffect(()=>{(async()=>{if(a.current)return;const X=NJ();if(X&&(n("Restoring layout..."),i(X.theme),ie(X.sidebarOpen),X.sessions.length>0)){n(`Restoring ${X.sessions.length} images...`);const q=[];for(const ne of X.sessions){if(a.current){console.log("Restoration cancelled.");return}await new Promise(ye=>setTimeout(ye,50));try{const ye=await kJ(ne.id);if(ye){const pe={id:ne.id,fileName:ne.fileName,file:null,imageElement:null,rawImageData:null,rawFileBuffer:ye,renderedRawImageData:null,referenceImageData:null,sampledImageData:null,exifData:null,isThreePlane:ne.isThreePlane,displaySettings:ne.displaySettings,originalRawFileBuffer:null,isXTransOriginal:!1,isXTransConverted:!1,xtransPhase:{x:0,y:0}},{previewBlob:Me,analysisData:Ne}=await vi(ye);let Ee=null;Ne&&(Ee=await fk(ye,ne.displaySettings));const je=URL.createObjectURL(Me),Te=new Image;Te.src=je,await new Promise(tt=>{Te.onload=()=>tt()}),q.push({...pe,rawImageData:Ne,renderedRawImageData:Ee,previewUrl:je,imageElement:Te,exifData:Ne.metadata})}}catch(ye){console.error(`Failed to restore session ${ne.id}`,ye)}}if(a.current)return;if(m(q),X.activeSessionId){const ne=q.findIndex(ye=>ye.id===X.activeSessionId);ne>=0?x(ne):q.length>0&&x(0)}Y(X.windows)}a.current||t(!1)})()},[]);const Ve=S.useRef(null),Xe=S.useCallback(()=>{e||(Ve.current&&clearTimeout(Ve.current),Ve.current=window.setTimeout(async()=>{var q;const W={version:1,timestamp:Date.now(),activeSessionId:((q=b[g])==null?void 0:q.id)||null,theme:o,sidebarOpen:H,sessions:b.map(ne=>({id:ne.id,fileName:ne.fileName,fileType:ne.file?ne.file.type:"application/octet-stream",fileSize:ne.rawFileBuffer?ne.rawFileBuffer.byteLength:0,displaySettings:ne.displaySettings,isThreePlane:ne.isThreePlane})),windows:ce.map(ne=>({id:ne.id,type:ne.type,roi:ne.roi,zIndex:ne.zIndex,initialPosition:ne.initialPosition,sessionId:ne.sessionId,isBGGR:ne.isBGGR,isMinimized:ne.isMinimized||!1,internalState:ne.internalState}))};SJ(W);const X=b.map(ne=>ne.id);_J(X)},1e3))},[b,ce,g,o,H,e]);S.useEffect(()=>{Xe()},[Xe]);const We=S.useCallback(async()=>{a.current=!0,n("Cleaning up..."),localStorage.removeItem("jtr_workspace_index");try{await jJ()}catch(W){console.error("Failed to clear DB",W)}window.location.reload()},[]),st=S.useCallback(W=>{m(X=>X.map((q,ne)=>ne===g?{...q,...W}:q))},[g]),vt=()=>x(W=>Math.min(W+1,b.length-1)),Bt=()=>x(W=>Math.max(0,W-1));S.useEffect(()=>{if(A&&U){const W=xi(A.data,A.width,A.height,U.x,U.y,U.width,U.height);te(W)}},[A]);const ar=W=>{if(!U||!k)return;const X=Date.now().toString()+Math.random().toString().slice(2,5),q=Math.max(le,...ce.map(pe=>pe.zIndex),100),ne=ce.length%10*30,ye=W==="fft"?{x:50,y:50}:W==="histogram"?{x:100,y:100}:{x:150,y:150};Y(pe=>[...pe,{id:X,type:W,roi:{x:U.x,y:U.y,w:U.width,h:U.height},zIndex:q+1,initialPosition:{x:ye.x+ne,y:ye.y+ne},sessionId:k.id,isBGGR:K,isMinimized:!1,stackFiles:(W==="fft"||W==="pearson")&&j.length>0?j:void 0}])},ue=W=>{Y(X=>X.filter(q=>q.id!==W))},Ye=W=>{Y(X=>X.map(q=>q.id===W?{...q,isMinimized:!0}:q))},Oe=W=>{Y(X=>X.map(q=>q.id===W?{...q,isMinimized:!1}:q)),$t(W)},$t=W=>{Y(X=>{const q=Math.max(le,...X.map(ne=>ne.zIndex));return X.map(ne=>ne.id===W?{...ne,zIndex:q+1}:ne)})},jt=(W,X)=>{Y(q=>q.map(ne=>ne.id===W?{...ne,internalState:{...ne.internalState,...X}}:ne))},on=()=>{const W=Math.max(le,...ce.map(X=>X.zIndex));ge(W+1)},gt=(W,X)=>{Y(q=>q.map(ne=>ne.id===W?{...ne,roi:X}:ne))};S.useEffect(()=>{if(!T)return;const W=T.CFAPattern2||T.CFAPattern;if(W){let X="";Array.isArray(W)?X=W.join(""):typeof W=="string"?X=W.replace(/[\s,]+/g,""):typeof W=="number"&&(X=String(W)),X==="0112"?L(!1):X==="2110"&&L(!0)}},[T]),S.useEffect(()=>{let W;const X=()=>{if(At&&ut){const q=Date.now()/1e3,ne=.55+.45*Math.sin(q*oe);Ze(ne),W=requestAnimationFrame(X)}else Ze(1)};return At&&ut?X():Ze(1),()=>{W&&cancelAnimationFrame(W)}},[At,ut,oe]),S.useEffect(()=>{const W=X=>{X.key==="Escape"&&ut&&(Lt(!1),Kr({x:0,y:0}),Tt(!1))};return window.addEventListener("keydown",W),()=>window.removeEventListener("keydown",W)},[ut]),S.useEffect(()=>()=>{b.forEach(W=>{W.previewUrl&&URL.revokeObjectURL(W.previewUrl)}),de.current&&de.current.terminate()},[]);const Jt=async(W,X=!0)=>{X&&(hi({x:0,y:0}),F(1),qe(0),dt([]),me([]),ke(!1),Re(null),$(!1),it(!1),Yr([]),qr([]),Ar(0));let q=null;if(p.isConnected){const Ne=new FormData;Ne.append("file",W);try{const je=await(await fetch("http://localhost:5428/read",{method:"POST",body:Ne})).json();if(je.success){let Te=je.data;Array.isArray(Te)&&Te.length===1&&(Te=Te[0]),q=Te}}catch(Ee){console.warn("Auto Exif fetch failed",Ee)}}const ne=W.name.toLowerCase().match(/\.(arw|cr2|cr3|dng|nef|orf|raf|rw2|pef|srw|sr2|srf|x3f|erf|mef|mos|mrw|kdc|dcr|iiq|3fr|fff|rwl|nrw|raw|tif|tiff)$/);if(!(["image/jpeg","image/png","image/tiff","image/x-adobe-dng"].includes(W.type)||ne)){pt("Unsupported file type. Please load a JPG, PNG, or a supported RAW file.");return}let pe={file:W,exifData:q};if(ne||W.type==="image/x-adobe-dng")try{X?Qe("Processing RAW file (this may take a moment)..."):xn(!0);const Ne=await W.arrayBuffer();pe.rawFileBuffer=Ne;const{previewBlob:Ee,analysisData:je}=await vi(Ne);pe.rawImageData=je,pe.isThreePlane=je.isThreePlane||!1,je.isThreePlane&&X&&$(!0);let Te=!1,tt=null,St=!1;if(je.isXTrans){St=!0,tt=Ne;const ln=(await Af(Ne,0,0)).dngBuffer,pr=await vi(ln);pe.rawFileBuffer=ln,pe.rawImageData=pr.analysisData,pe.previewUrl=URL.createObjectURL(pr.previewBlob),Te=!0}else pe.previewUrl=URL.createObjectURL(Ee);pe.originalRawFileBuffer=tt,pe.isXTransOriginal=St,pe.isXTransConverted=Te,pe.xtransPhase={x:0,y:0};const Ft=new Image;Ft.src=pe.previewUrl||"",await new Promise((zr,ln)=>{Ft.onload=()=>{pe.imageElement=Ft,zr()},Ft.onerror=()=>{zr()}})}catch(Ne){pt(`Failed to process RAW file: ${Ne.message}`),Qe(null),xn(!1);return}else try{Qe("Processing image...");const{previewBlob:Ne,analysisData:Ee}=await TQ(W);pe.rawImageData=Ee,pe.rawFileBuffer=await W.arrayBuffer(),pe.isThreePlane=Ee.isThreePlane||!1,pe.isXTransOriginal=!1,pe.isXTransConverted=!1,pe.originalRawFileBuffer=null;const je=URL.createObjectURL(Ne);pe.previewUrl=je;const Te=new Image;Te.src=je,await new Promise(tt=>{Te.onload=()=>{pe.imageElement=Te,tt()},Te.onerror=()=>{pt("Could not load the image file."),tt()}})}catch(Ne){pt(`Failed to process image: ${Ne.message}`),Qe(null);return}const Me=Date.now().toString()+Math.random();if(pe.rawFileBuffer&&await gk(Me,pe.rawFileBuffer),X){const Ne={exposure:0,demosaicMethod:3,blackLevel:void 0,wbGains:[1,1],showKadc:!0,subtractBlackLevelFromStats:!0},Ee={id:Me,fileName:W.name,file:W,imageElement:null,rawImageData:null,rawFileBuffer:null,renderedRawImageData:null,referenceImageData:null,sampledImageData:null,exifData:null,isThreePlane:!1,displaySettings:Ne,originalRawFileBuffer:null,isXTransOriginal:!1,isXTransConverted:!1,xtransPhase:{x:0,y:0},...pe};m(je=>{const Te=[...je,Ee];return x(Te.length-1),Te})}else st(pe);Qe(null),xn(!1)},bn=async W=>{Qe("Converting to DNG...");try{const X=new FormData;X.append("file",W);const q=await fetch("http://localhost:5428/convert_dng",{method:"POST",body:X}),ne=q.headers.get("content-type")||"";if(q.ok)if(ne.includes("application/json")){const ye=await q.json();throw new Error(ye.error||"Conversion failed")}else{const ye=await q.blob(),pe=URL.createObjectURL(ye),Me=document.createElement("a");Me.href=pe;const Ne=W.name,Ee=Ne.substring(0,Ne.lastIndexOf("."))+".dng"||"converted.dng";Me.download=Ee,document.body.appendChild(Me),Me.click(),document.body.removeChild(Me),URL.revokeObjectURL(pe);const je=new File([ye],Ee,{type:"image/x-adobe-dng"});await Jt(je,!0)}else{const ye=await q.text();throw new Error(`HTTP ${q.status}: ${ye}`)}}catch(X){Qe(null),pt(`Conversion Error: ${X.message}`)}},eo=(W,X)=>{W&&(X==="direct"?Jt(W,!0):bn(W))},Dl=async W=>{var q;const X=(q=W.target.files)==null?void 0:q[0];X&&(await Jt(X,!0),W.target.value="")},k0=async(W,X,q,ne)=>{!W||!X||(Qe("Processing Pair Difference (May take a while)..."),pt(null),setTimeout(async()=>{try{const ye=await W.arrayBuffer(),pe=await X.arrayBuffer(),Me=await Pp(ye,pe,q,ne),Ne=Uf(Me.width,Me.height,Me.rawData),Ee=new File([Ne],`Diff_${W.name}_${X.name}.dng`,{type:"image/x-adobe-dng"});await Jt(Ee,!0),ar("fft")}catch(ye){console.error("Pair Processing Error",ye),pt("Pair Processing Failed: "+ye.message)}finally{Qe(null)}},100))},zu=async W=>{if(W.length<2){pt("Need at least 2 files for Batch Diff.");return}Qe(`Batch Processing 0/${Math.floor(W.length/2)} pairs...`);const X=Array.from(W).sort((q,ne)=>q.name.localeCompare(ne.name,void 0,{numeric:!0}));try{for(let q=0;q<X.length-1;q+=2){const ne=X[q],ye=X[q+1];Qe(`Batch Processing Pair ${Math.floor(q/2)+1}/${Math.floor(X.length/2)}: ${ne.name} & ${ye.name}`);const pe=await ne.arrayBuffer(),Me=await ye.arrayBuffer(),Ne=await Pp(pe,Me,!1,!1),Ee=Uf(Ne.width,Ne.height,Ne.rawData),je=new Blob([Ee],{type:"image/x-adobe-dng"}),Te=URL.createObjectURL(je),tt=document.createElement("a");tt.href=Te,tt.download=`Diff_${ne.name}_${ye.name}.dng`,document.body.appendChild(tt),tt.click(),document.body.removeChild(tt),URL.revokeObjectURL(Te)}}catch(q){console.error("FFT Batch Error",q),pt("Batch Processing Failed: "+q.message)}finally{Qe(null)}},j0=async W=>{if(W.length<1)return;const X=Array.from(W).sort((q,ne)=>q.name.localeCompare(ne.name,void 0,{numeric:!0}));w(X),await Jt(X[0],!0)},Uu=async()=>{xn(!0);const W=128,X=W,q=W,ne=X*q,ye=new Uint16Array(ne),pe=ze=>{const xt=ze/V+Cr;return Math.sin(2*Math.PI*xt)>=0?1:0},Me=32,Ne=nt*.5,Ee=Math.max(1e-4,nt/Me);for(let ze=0;ze<q;ze++){let xt=0;const gr=ze+.5-Ne;for(let Xt=0;Xt<Me;Xt++){const wn=gr+(Xt+.5)*Ee;xt+=pe(wn)}const Ur=xt/Me,Nt=Math.round(Ur*65535);for(let Xt=0;Xt<X;Xt++)ye[ze*X+Xt]=Nt}const je=new ImageData(dn,dn),Te=dn/X,tt=nt/2;for(let ze=0;ze<dn;ze++){const xt=ze/Te,br=Math.floor(xt),gr=xt-br,Ur=gr>=.5-tt&&gr<.5+tt;for(let Nt=0;Nt<dn;Nt++){const Xt=Nt/Te,wn=Math.floor(Xt),cn=Xt-wn,gi=cn>=.5-tt&&cn<.5+tt,Tr=(ze*dn+Nt)*4;if(wn>=X||br>=q){je.data[Tr]=30,je.data[Tr+1]=34,je.data[Tr+2]=40,je.data[Tr+3]=255;continue}if(Ur&&gi){const Po=ye[br*X+wn],mi=Math.round(Po/257);je.data[Tr]=mi,je.data[Tr+1]=mi,je.data[Tr+2]=mi,je.data[Tr+3]=255}else je.data[Tr]=30,je.data[Tr+1]=34,je.data[Tr+2]=40,je.data[Tr+3]=255}}const St=new ImageData(dn,dn),Ft=q/dn;for(let ze=0;ze<dn;ze++){const xt=(ze+.5)*Ft,gr=pe(xt)>.5?255:0,Ur=ze*dn*4;for(let Nt=0;Nt<dn;Nt++){const Xt=Ur+Nt*4;St.data[Xt]=gr,St.data[Xt+1]=gr,St.data[Xt+2]=gr,St.data[Xt+3]=255}}const zr=Uf(X,q,ye),ln=new File([zr],"pattern_test.dng",{type:"image/x-adobe-dng"}),pr=Date.now().toString();try{const{previewBlob:ze,analysisData:xt}=await vi(zr.slice(0)),br=await fk(zr.slice(0),P),gr=mk(br,dn,dn),Ur=URL.createObjectURL(ze),Nt=new Image;Nt.src=Ur,await new Promise(wn=>{Nt.onload=()=>wn()}),await gk(pr,zr);const Xt={id:pr,fileName:"pattern_test.dng",file:ln,imageElement:Nt,rawImageData:xt,rawFileBuffer:zr,renderedRawImageData:gr,referenceImageData:St,sampledImageData:je,exifData:null,isThreePlane:!1,previewUrl:Ur,displaySettings:P,originalRawFileBuffer:null,isXTransOriginal:!1,isXTransConverted:!1,xtransPhase:{x:0,y:0}};(_==null?void 0:_.name)==="pattern_test.dng"?st(Xt):m(wn=>{const cn=[...wn,Xt];return x(cn.length-1),cn})}catch(ze){console.error("Error generating pattern:",ze),pt(`Error generating pattern: ${ze.message}`)}xn(!1),Qe(null)},En=()=>{Pt(!0)},S0=()=>{Pt(!1),Vn("sampled"),Qe("Generating..."),setTimeout(()=>Uu(),50)},as=S.useRef({period:V,fill:nt,phase:Cr});S.useEffect(()=>{(_==null?void 0:_.name)==="pattern_test.dng"&&(as.current.period!==V||as.current.fill!==nt||as.current.phase!==Cr)&&(as.current={period:V,fill:nt,phase:Cr},Uu())},[V,nt,Cr,_]);const N0=S.useCallback(W=>{if(st({displaySettings:W}),!M)return;xn(!0),de.current&&de.current.terminate();const X=new Worker(new URL("/assets/renderWorker-B99w_omv.js",import.meta.url),{type:"module"});de.current=X,X.onmessage=q=>{const{success:ne,imageData:ye,error:pe}=q.data;if(ne){let Me=ye;(_==null?void 0:_.name)==="pattern_test.dng"&&(Me=mk(ye,dn,dn)),st({renderedRawImageData:Me})}else pt(pe||"Unknown worker error");xn(!1),X.terminate(),de.current=null},X.postMessage({buffer:M.slice(0),settings:W})},[M,_,st]),Wu=async(W,X)=>{Qe("Re-sampling X-Trans with new Phase...");try{const ne=(await Af(X,W.x,W.y)).dngBuffer,ye=await vi(ne),pe=URL.createObjectURL(ye.previewBlob),Me=new Image;Me.src=pe,await new Promise(Ne=>{Me.onload=()=>Ne()}),k!=null&&k.previewUrl&&URL.revokeObjectURL(k.previewUrl),st({rawFileBuffer:ne,rawImageData:ye.analysisData,previewUrl:pe,imageElement:Me,xtransPhase:W}),te(null)}catch(q){console.error("X-Trans Phase Update Failed",q),pt("Phase Update Failed: "+q.message)}finally{Qe(null)}},Rl=W=>{if(!k||!k.originalRawFileBuffer||!k.isXTransConverted)return;const X={...k.xtransPhase,...W};Wu(X,k.originalRawFileBuffer)},Gu=S.useCallback(async W=>{if(k)if(W){if(k.isXTransConverted)return;const X=k.originalRawFileBuffer||k.rawFileBuffer;if(!X)return;Qe("Converting X-Trans to Pseudo-Bayer DNG...");try{const q=k.xtransPhase||{x:0,y:0},ye=(await Af(X,q.x,q.y)).dngBuffer,pe=await vi(ye),Me=URL.createObjectURL(pe.previewBlob),Ne=new Image;Ne.src=Me,await new Promise(Ee=>{Ne.onload=()=>Ee()}),k.previewUrl&&URL.revokeObjectURL(k.previewUrl),st({rawFileBuffer:ye,rawImageData:pe.analysisData,previewUrl:Me,imageElement:Ne,isXTransConverted:!0,originalRawFileBuffer:X}),te(null)}catch(q){console.error("X-Trans Conversion Failed",q),pt("Failed to convert X-Trans: "+q.message)}finally{Qe(null)}}else{if(!k.isXTransConverted)return;const X=k.originalRawFileBuffer;if(!X){pt("Original X-Trans buffer lost. Cannot revert.");return}Qe("Reverting to Native X-Trans...");try{const q=await vi(X),ne=URL.createObjectURL(q.previewBlob),ye=new Image;ye.src=ne,await new Promise(pe=>{ye.onload=()=>pe()}),k.previewUrl&&URL.revokeObjectURL(k.previewUrl),st({rawFileBuffer:X,rawImageData:q.analysisData,previewUrl:ne,imageElement:ye,isXTransConverted:!1}),te(null)}catch(q){console.error("X-Trans Revert Failed",q),pt("Failed to revert X-Trans: "+q.message)}finally{Qe(null)}}},[k,st]);let pi=C||O;Er==="reference"&&R?pi=R:Er==="sampled"&&z&&(pi=z);const Hu=Fu||ns,os=W=>{if(B.current){const X=B.current,{width:q,height:ne}=X.getBoundingClientRect(),ye=q/2,pe=ne/2,Me=W/$l,Ne=ye-(ye-Tl.x)*Me,Ee=pe-(pe-Tl.y)*Me;hi({x:Ne,y:Ee})}F(W)},we=W=>{if(!W)return;if(!A){te(null);return}ee&&Z(!1);const X=xi(A.data,A.width,A.height,W.x,W.y,W.w,W.h);te(X)},at=W=>{ae(W),we(W)},Je=()=>{re(W=>W==="pan"?"select":"pan")},et=W=>{if(Ae===0||Ae>4)return;const X=[...ft,W];dt(X),Ae===4?(Tn(X),qe(0)):qe(Ae+1)},sn=(W,X,q,ne)=>{const ye=W[0],pe=W[1],Me=W[2],Ne=W[3],Ee=X/2,je=[];for(let Te=0;Te<q;Te++){const tt=q>1?Te/(q-1):.5;for(let St=0;St<ne;St++){const Ft=ne>1?St/(ne-1):.5,zr=ye.x*(1-Ft)+pe.x*Ft,ln=ye.y*(1-Ft)+pe.y*Ft,pr=Me.x*(1-Ft)+Ne.x*Ft,ze=Me.y*(1-Ft)+Ne.y*Ft,xt=zr*(1-tt)+pr*tt,br=ln*(1-tt)+ze*tt,gr=xt-Ee,Ur=br-Ee;je.push({x:gr,y:Ur,w:X,h:X})}}return je},Tn=W=>{!A||!k||(Qe("Calculating DR Lab Grid..."),setTimeout(()=>{try{const X=sn(W,Zr,vn,Hn);me(X);const pe=[...[`#BlackLevel: ${(P.blackLevel||[0,0,0,0]).join(",")}`,`#ImageHeight: ${A.height}`],"Filename,Row,Col,R_Mean,G1_Mean,G2_Mean,B_Mean,R_Std,G1_Std,G2_Std,B_Std"],Me=`img${k.fileName||"image"}`;X.forEach((tt,St)=>{const Ft=Math.floor(St/Hn)+1,zr=St%Hn+1,ln=xi(A.data,A.width,A.height,tt.x,tt.y,tt.w,tt.h),pr=ln.means,ze=ln.stdDevs,xt=`${Me},${Ft},${zr},${pr[0].toFixed(4)},${pr[1].toFixed(4)},${pr[2].toFixed(4)},${pr[3].toFixed(4)},${ze[0].toFixed(4)},${ze[1].toFixed(4)},${ze[2].toFixed(4)},${ze[3].toFixed(4)}`;pe.push(xt)});const Ne=pe.join(`
`),Ee=new Blob([Ne],{type:"text/csv;charset=utf-8;"}),je=URL.createObjectURL(Ee),Te=document.createElement("a");Te.setAttribute("href",je),Te.setAttribute("download","dr_lab_results.csv"),document.body.appendChild(Te),Te.click(),document.body.removeChild(Te),URL.revokeObjectURL(je),dt([])}catch(X){pt("DR Lab Error: "+X.message)}finally{Qe(null)}},100))},ia=async(W,X)=>{if(ft.length<4&&It.length<1){pt("Please mark the grid on an image first before running batch processing.");return}let q=It;if(q.length===0&&ft.length===4&&(q=sn(ft,Zr,vn,Hn)),q.length===0){pt("No grid definitions found. Mark corners first.");return}Qe(X==="pair"?"Batch Pair Difference (Sigma = Diff/sqrt(2))":"Batch Processing...");const ye=(P.blackLevel||[0,0,0,0]).join(","),pe=A?A.height:0,Ne=[...[`#BlackLevel: ${ye}`,`#ImageHeight: ${pe}`,X==="pair"?"#Mode: Pair Difference (Sigma = Diff/sqrt(2))":"#Mode: Independent"],"Filename,Row,Col,R_Mean,G1_Mean,G2_Mean,B_Mean,R_Std,G1_Std,G2_Std,B_Std"],Ee=Array.from(W).sort((St,Ft)=>St.name.localeCompare(Ft.name,void 0,{numeric:!0}));if(X==="pair"&&Ee.length<2){pt("Need at least 2 files for Pair processing."),Qe(null);return}const je=N.current,Te=(je==null?void 0:je.isXTransConverted)||!1,tt=(je==null?void 0:je.xtransPhase)||{x:0,y:0};try{const St=async ze=>{let xt=await ze.arrayBuffer();return Te&&(xt=(await Af(xt,tt.x,tt.y)).dngBuffer),xt};if(X==="single")for(let ze=0;ze<Ee.length;ze++){const xt=Ee[ze];Qe(`Processing ${ze+1}/${Ee.length}: ${xt.name}...`);const br=await St(xt),gr=await vh(br),Ur=`img${xt.name}`;q.forEach((Nt,Xt)=>{const wn=Math.floor(Xt/Hn)+1,cn=Xt%Hn+1,gi=xi(gr.data,gr.width,gr.height,Nt.x,Nt.y,Nt.w,Nt.h),Tr=gi.means,Po=gi.stdDevs,mi=`${Ur},${wn},${cn},${Tr[0].toFixed(4)},${Tr[1].toFixed(4)},${Tr[2].toFixed(4)},${Tr[3].toFixed(4)},${Po[0].toFixed(4)},${Po[1].toFixed(4)},${Po[2].toFixed(4)},${Po[3].toFixed(4)}`;Ne.push(mi)})}else for(let ze=0;ze<Ee.length-1;ze+=2){const xt=Ee[ze],br=Ee[ze+1],gr=`img${xt.name} & ${br.name}`;Qe(`Processing Pair ${Math.floor(ze/2)+1}/${Math.floor(Ee.length/2)}: ${xt.name} & ${br.name}...`);const Ur=await St(xt),Nt=await vh(Ur),Xt=await St(br),wn=await Pp(Ur,Xt,!1,!0);q.forEach((cn,gi)=>{const Tr=Math.floor(gi/Hn)+1,Po=gi%Hn+1,mi=xi(Nt.data,Nt.width,Nt.height,cn.x,cn.y,cn.w,cn.h),vP=xi(wn.rawData,wn.width,wn.height,cn.x,cn.y,cn.w,cn.h),Xu=mi.means,Ku=vP.stdDevs,xP=`${gr},${Tr},${Po},${Xu[0].toFixed(4)},${Xu[1].toFixed(4)},${Xu[2].toFixed(4)},${Xu[3].toFixed(4)},${Ku[0].toFixed(4)},${Ku[1].toFixed(4)},${Ku[2].toFixed(4)},${Ku[3].toFixed(4)}`;Ne.push(xP)})}const Ft=Ne.join(`
`),zr=new Blob([Ft],{type:"text/csv;charset=utf-8;"}),ln=URL.createObjectURL(zr),pr=document.createElement("a");pr.href=ln,pr.setAttribute("download",`dr_lab_batch_${X}_${new Date().getTime()}.csv`),document.body.appendChild(pr),pr.click(),document.body.removeChild(pr),URL.revokeObjectURL(ln)}catch(St){console.error("Batch Error",St),pt("Batch Processing Failed: "+St.message)}finally{Qe(null)}},to=()=>{Yr([]),Ar(1)},Oo=W=>{if(!Vt||vr===0)return;const X=[...Et,W];Yr(X),X.length===4&&A?(ja(X,aa),Ar(0)):Ar(q=>q+1)},ja=(W,X)=>{A&&(Qe("Analyzing Color Chart..."),setTimeout(()=>{try{const q=sJ(W[0],W[1],W[2],W[3],A.width,A.height,X);qr(q);const ye=q.map((pe,Me)=>{const Ne=xi(A.data,A.width,A.height,pe.x,pe.y,pe.w,pe.h);return{id:Me,rawMeans:Ne.means,refRGB:[0,0,0]}}).map((pe,Me)=>({...pe,refRGB:ty[Me]||[0,0,0]}));na(ye),Cn(!0)}catch(q){pt("Color Lab Error: "+q.message)}finally{Qe(null)}},100))},or=W=>{nr(W),Et.length===4&&ja(Et,W)},nx=()=>{Cn(!1)},Ll=()=>{T||Re("No EXIF data found. The file might not contain metadata or it was stripped during processing."),ke(!0)},Vu=async W=>{Qe("Parsing PTC Data...");const X=[];let q=null;try{for(let ne=0;ne<W.length;ne++){const pe=(await W[ne].text()).split(`
`);let Me=!0;for(const Ne of pe){const Ee=Ne.trim();if(!Ee)continue;if(Ee.startsWith("#")){if(Ee.includes("BlackLevel:")){const Nt=Ee.split(":")[1].trim().split(",");if(Nt.length>=4){const Xt=Nt.map(Number);q||(q={}),q.blackLevel=Xt}}if(Ee.includes("ImageHeight:")){const Nt=parseInt(Ee.split(":")[1].trim());isNaN(Nt)||(q||(q={}),q.height=Nt)}continue}if(Me){Ee.toLowerCase().includes("mean")&&Ee.toLowerCase().includes("std")&&(Me=!1);continue}const je=Ee.split(",");if(je.length<5)continue;let Te=0,tt;isNaN(parseFloat(je[0]))&&(tt=je[0],Te=1);const St=parseInt(je[Te]),Ft=parseInt(je[Te+1]),zr=parseFloat(je[Te+2]),ln=parseFloat(je[Te+3]),pr=parseFloat(je[Te+4]),ze=parseFloat(je[Te+5]),xt=parseFloat(je[Te+6]),br=parseFloat(je[Te+7]),gr=parseFloat(je[Te+8]),Ur=parseFloat(je[Te+9]);!isNaN(zr)&&!isNaN(xt)&&X.push({channel:"R",mean:zr,std:xt,filename:tt,row:St,col:Ft}),!isNaN(ln)&&!isNaN(br)&&X.push({channel:"G1",mean:ln,std:br,filename:tt,row:St,col:Ft}),!isNaN(pr)&&!isNaN(gr)&&X.push({channel:"G2",mean:pr,std:gr,filename:tt,row:St,col:Ft}),!isNaN(ze)&&!isNaN(Ur)&&X.push({channel:"B",mean:ze,std:Ur,filename:tt,row:St,col:Ft})}}yt(X),fr(q),l(!0)}catch(ne){console.error("PTC Parse Error",ne),pt("Failed to parse CSV files: "+ne.message)}finally{Qe(null)}},ax=()=>{if(!M||!k)return;const W=new Blob([M],{type:"image/x-adobe-dng"}),X=URL.createObjectURL(W),q=document.createElement("a");q.href=X;const ne=k.fileName||"image.dng",ye=ne.toLowerCase().endsWith(".dng")?ne:ne.replace(/\.[^/.]+$/,"")+".dng";q.download=ye,document.body.appendChild(q),q.click(),document.body.removeChild(q),URL.revokeObjectURL(X)},gP=()=>{qe(1),dt([]),me([])},mP=W=>{if(W.button!==0)return;Ht(!0);const X=W.clientX-cr.x,q=W.clientY-cr.y,ne=pe=>{Kr({x:pe.clientX-X,y:pe.clientY-q})},ye=()=>{Ht(!1),window.removeEventListener("mousemove",ne),window.removeEventListener("mouseup",ye)};window.addEventListener("mousemove",ne),window.addEventListener("mouseup",ye)},yP=S.useMemo(()=>Mn?Mn.map((W,X)=>({...W,refRGB:ty[X]||[0,0,0]})):[],[Mn]);return e?c.jsxs("div",{className:"flex flex-col h-screen items-center justify-center bg-gray-300 dark:bg-[#111] text-black dark:text-white font-mono",children:[c.jsx("div",{className:"w-12 h-12 border-4 border-black dark:border-white border-t-transparent animate-spin mb-4"}),c.jsx("h2",{className:"text-xl font-bold",children:r}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2 mb-6",children:"Loading stored buffers from database..."}),c.jsx("button",{onClick:We,className:"px-6 py-2 bg-red-600 hover:bg-red-700 text-white font-bold border-2 border-black dark:border-gray-500 shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] active:shadow-none active:translate-x-1 active:translate-y-1 transition-all text-sm",children:"Abandon Saved Session (Start Fresh)"})]}):c.jsxs("div",{className:"flex flex-col h-screen bg-[#d4d4d4] dark:bg-[#111111] text-black dark:text-gray-200 font-mono transition-colors duration-300 overflow-hidden",children:[c.jsx("div",{className:"p-4 pb-0 flex-shrink-0",children:c.jsx(KM,{onLoadImage:Dl,onFileSelected:eo,onGenerateFakeDng:En,fileName:_?_.name:null,hasGeneratedData:(_==null?void 0:_.name)==="pattern_test.dng",viewMode:Er,onSetViewMode:Vn,patternPeriod:V,onPatternPeriodChange:Se,fillFactor:nt,onFillFactorChange:Mr,patternPhase:Cr,onPatternPhaseChange:Qr,showPatternControls:(_==null?void 0:_.name)==="pattern_test.dng",onOpenAbout:()=>He(!0),onShowExif:Ll,bridgeStatus:p,onBridgeClick:()=>v(!0),isDrLabOpen:Qt,onToggleDrLab:()=>{Or(!Qt),qe(0),dt([]),me([]),Gt&&Pr(!1),Vt&&it(!1),lt&&Fe(!1),Ar(0),qr([])},isColorLabOpen:Vt,onToggleColorLab:()=>{it(!Vt),Yr([]),Ar(0),qr([]),Qt&&Or(!1),Gt&&Pr(!1),lt&&Fe(!1)},isFftLabOpen:Gt,onToggleFftLab:()=>{Pr(!Gt),Qt&&Or(!1),Vt&&it(!1),lt&&Fe(!1),Ar(0),qr([])},isSfrLabOpen:lt,onToggleSfrLab:()=>{Fe(!lt),Qt&&Or(!1),Vt&&it(!1),Gt&&Pr(!1),Ar(0),qr([])},onGenerateTestPic:()=>Lt(!0),onPTCFilesSelected:Vu,onDownloadDng:ax,isThreePlane:G,onOpenDatabase:()=>f(!0)})}),c.jsxs("div",{className:"flex flex-1 overflow-hidden p-4 pt-2 gap-4 relative",children:[c.jsxs("div",{className:"flex-1 relative bg-gray-200 dark:bg-black border-4 border-gray-500 dark:border-gray-700 shadow-[inset_2px_2px_8px_rgba(0,0,0,0.2)] overflow-hidden transition-colors duration-300",ref:B,children:[Hu&&c.jsxs("div",{className:"absolute bottom-4 right-4 z-50 flex items-center gap-2 bg-white/90 dark:bg-black/90 px-3 py-1.5 border-2 border-black dark:border-white shadow-[4px_4px_0px_black] dark:shadow-[4px_4px_0px_gray]",children:[c.jsx("div",{className:"w-4 h-4 border-2 border-black dark:border-white border-t-transparent animate-spin"}),c.jsx("span",{className:"text-xs font-bold text-black dark:text-white uppercase",children:Fu||"Processing..."})]}),b.length>1&&c.jsxs("div",{className:"absolute bottom-4 right-20 z-50 flex items-center gap-2 bg-white/90 dark:bg-black/90 px-3 py-1.5 border-2 border-black dark:border-white shadow-[4px_4px_0px_black] dark:shadow-[4px_4px_0px_gray] text-sm font-bold text-black dark:text-white",children:[c.jsx("button",{onClick:Bt,disabled:g<=0,className:"hover:text-gray-500 disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"Previous Image",children:"<"}),c.jsxs("span",{className:"min-w-[3rem] text-center select-none font-bold",children:[g+1," / ",b.length]}),c.jsx("button",{onClick:vt,disabled:g>=b.length-1,className:"hover:text-gray-500 disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"Next Image",children:">"})]}),c.jsx("div",{className:"absolute bottom-4 left-4 z-50 flex flex-col-reverse gap-2 items-start pointer-events-none",children:ce.filter(W=>W.isMinimized).map(W=>{let X="Window",q="bg-gray-500";return W.type==="histogram"?(X="Histogram",q="bg-black dark:bg-white"):W.type==="fft"?(X="FFT Spectrum",q="bg-black dark:bg-white"):W.type==="quant"?(X="Quantization",q="bg-black dark:bg-white"):W.type==="pearson"&&(X="Pearson",q="bg-black dark:bg-white"),c.jsxs("div",{className:"pointer-events-auto flex items-center gap-1 bg-white dark:bg-black border-2 border-black dark:border-white shadow-[4px_4px_0px_black] dark:shadow-[4px_4px_0px_gray]",children:[c.jsxs("button",{onClick:()=>Oe(W.id),className:"px-3 py-1.5 text-xs font-bold text-black dark:text-white hover:bg-gray-200 dark:hover:bg-gray-800 transition-colors flex items-center gap-2",children:[c.jsx("span",{className:`w-2 h-2 ${q}`}),X]}),c.jsx("button",{onClick:()=>ue(W.id),className:"px-2 py-1.5 text-black hover:text-red-600 hover:bg-gray-200 dark:hover:bg-gray-800 border-l-2 border-black dark:border-white transition-colors",children:""})]},W.id)})}),c.jsx(qQ,{isOpen:De,onClose:()=>He(!1)}),c.jsx(ZQ,{isOpen:se,onClose:()=>ke(!1),data:T,fileName:_?_.name:"",warning:Be}),c.jsx(JQ,{isOpen:s,onClose:()=>l(!1),data:Ke,blackLevel:di,imageHeight:Ja,isBGGR:K,importedMetadata:ur||void 0,theme:o,initialCameraModel:(T==null?void 0:T.Model)||"",initialISO:(T==null?void 0:T.ISO)||((ox=T==null?void 0:T.ISOSpeedRatings)==null?void 0:ox.toString())||""}),c.jsx(aJ,{isOpen:u,onClose:()=>f(!1),theme:o}),c.jsx(oJ,{isOpen:d,onClose:()=>h(!1),zIndex:200}),c.jsx(fJ,{isOpen:Gn,onClose:nx,patchStats:yP,initialIsBGGR:K,sizeRatio:aa,onSizeChange:or}),c.jsx(mJ,{isOpen:lt,isSfrLabOpen:lt,onClose:()=>{},rawImageData:A,roi:U?{x:U.x,y:U.y,w:U.width,h:U.height}:null,zIndex:200,onFocus:on,displaySettings:P}),c.jsx(Zo,{isOpen:wt,onClose:()=>Pt(!1),onConfirm:S0,title:"High Resource Usage Warning",confirmText:"I know the risk and insist to continue",message:c.jsxs("div",{className:"flex flex-col gap-2",children:[c.jsx("p",{children:"Patter DNG mode involves high-frequency refreshing and heavy computation. Due to current memory management limitations, repeated use may lead to browser memory overflow or crashes. Please proceed with caution."}),c.jsx("p",{className:"text-xs text-gray-500"})]})}),c.jsx(Zo,{isOpen:y,onClose:()=>v(!1),onConfirm:()=>{window.open("https://y-g-jiang.github.io/jiangbridge.exe","_blank"),v(!1)},title:"JiangBridge Connection / ",confirmText:"Download Bridge App",cancelText:"Cancel",message:c.jsxs("div",{className:"flex flex-col gap-4 text-left",children:[c.jsx("p",{className:"font-bold text-gray-800 dark:text-gray-200",children:"JiangBridge"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:'JiangBridge is optional for this webpage, but recommended for full functionality. Simply double-click and run it once after system startup. If the indicator light does not turn green after double-clicking, please consider checking whether the web page is allowed to "View and connect to any device on the network".'})]})}),c.jsx(Zo,{isOpen:kt,onClose:()=>Ct(!1),onConfirm:_e,title:"Export 16-bit TIFF Options",confirmText:"Confirm Export",message:c.jsxs("div",{className:"flex flex-col gap-4 text-left",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4 bg-gray-50 dark:bg-slate-800/80 p-4 border border-gray-400 dark:border-gray-600",children:[c.jsxs("div",{className:"flex flex-col items-center gap-3",children:[c.jsxs("div",{className:"flex flex-col items-center text-center",children:[c.jsx("span",{className:"font-bold text-xs text-gray-800 dark:text-slate-200",children:"Stretch ()"}),c.jsx("span",{className:"text-[9px] text-gray-500 dark:text-slate-400 mt-0.5",children:"Map [0, White] to [0, 65535]"})]}),c.jsx("div",{onClick:()=>Nr(!Wt),className:`relative w-12 h-6 border-2 border-black dark:border-white cursor-pointer ${Wt?"bg-black dark:bg-white":"bg-gray-300 dark:bg-slate-600"}`,children:c.jsx("div",{className:`absolute top-0.5 left-0.5 w-4 h-4 bg-white dark:bg-black shadow-sm transition-transform ${Wt?"translate-x-6":""}`})})]}),c.jsxs("div",{className:"flex flex-col items-center gap-3",children:[c.jsxs("div",{className:"flex flex-col items-center text-center",children:[c.jsx("span",{className:"font-bold text-xs text-gray-800 dark:text-slate-200",children:"sRGB Gamma"}),c.jsx("span",{className:"text-[9px] text-gray-500 dark:text-slate-400 mt-0.5",children:"Apply non-linear contrast"})]}),c.jsx("div",{onClick:()=>rr(!_r),className:`relative w-12 h-6 border-2 border-black dark:border-white cursor-pointer ${_r?"bg-black dark:bg-white":"bg-gray-300 dark:bg-slate-600"}`,children:c.jsx("div",{className:`absolute top-0.5 left-0.5 w-4 h-4 bg-white dark:bg-black shadow-sm transition-transform ${_r?"translate-x-6":""}`})})]})]}),c.jsxs("div",{className:"p-3 bg-gray-200 dark:bg-slate-800 text-[11px] text-black dark:text-white italic border border-gray-400 dark:border-gray-600 text-center font-mono",children:[Wt&&!_r&&"Mode: Stretched Linear. Histogram preserved but range expanded.",!Wt&&_r&&"Mode: Native DN + sRGB. Best for analyzing raw distribution contrast.",Wt&&_r&&"Mode: Ready-to-Use. Conventional 16-bit development.",!Wt&&!_r&&"Mode: Native Linear. Pure physical sensor DN values."]})]})}),!ee&&c.jsx(OJ,{stats:U,onClose:()=>{te(null),ae(null)},onMinimize:()=>Z(!0),isBGGR:K,onToggleBGGR:L,onOpenWindow:ar,displaySettings:P,zIndex:le,onFocus:on}),ce.map(W=>{if(W.isMinimized)return null;const X=b.find(ye=>ye.id===W.sessionId),q=X==null?void 0:X.rawImageData;if(!q)return null;const ne={key:W.id,isOpen:!0,onClose:()=>ue(W.id),onMinimize:()=>Ye(W.id),rawImageData:q,roi:W.roi,isBGGR:W.isBGGR,zIndex:W.zIndex,onFocus:()=>$t(W.id),initialPosition:W.initialPosition,initialInternalState:W.internalState,onUpdateState:ye=>jt(W.id,ye),stackFiles:W.stackFiles};return W.type==="histogram"?c.jsx(UQ,{...ne}):W.type==="fft"?c.jsx(VQ,{...ne,onUpdateROI:ye=>gt(W.id,ye)}):W.type==="quant"?c.jsx(XQ,{...ne}):W.type==="pearson"?c.jsx(KQ,{...ne}):null}),xr&&c.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-white/90 dark:bg-black/90 p-8",children:c.jsxs("div",{className:"max-w-md text-center p-6 bg-white dark:bg-black rounded-none border-2 border-red-600 shadow-[8px_8px_0px_rgba(200,0,0,0.5)]",children:[c.jsx("h3",{className:"text-xl font-bold text-red-600 uppercase mb-2",children:"Notice"}),c.jsx("p",{className:"text-black dark:text-white mb-6 whitespace-pre-wrap font-mono",children:xr}),c.jsx("button",{onClick:()=>pt(null),className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 dark:bg-gray-800 dark:hover:bg-gray-700 border-2 border-black dark:border-white text-black dark:text-white transition-colors uppercase font-bold",children:"Dismiss"})]})}),!pi&&!Hu&&!xr&&c.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-gray-400 dark:text-gray-600 select-none font-mono",children:c.jsx("p",{className:"text-lg",children:"Load an image or generate a pattern"})}),c.jsx(YM,{image:pi,zoom:$l,pan:Tl,onPanChange:hi,onZoomChange:os,onSelectionChange:we,forcedSelection:D,theme:o,touchAction:Q,isMarking:Ae>0||Vt&&vr>0,onPointClick:W=>{Ae>0?et(W):Vt&&vr>0&&Oo(W)},markers:ft,gridRects:It,colorLabPoints:Et,colorLabRects:yn}),c.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-1/2 z-30 pointer-events-none select-none opacity-20 mix-blend-normal dark:mix-blend-plus-lighter",children:c.jsx("svg",{viewBox:"0 0 500 60",className:"w-full h-auto drop-shadow-none",children:c.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-black dark:fill-white",fontSize:"26",fontWeight:"bold",style:{fontFamily:"Courier New, monospace",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})}),A&&!Ae&&!Vt&&c.jsxs("div",{className:"absolute bottom-4 left-4 z-30 pointer-events-none opacity-60 text-[10px] text-black dark:text-white font-mono bg-white/50 dark:bg-black/50 px-1",children:["Hold ",c.jsx("b",{children:"Shift"})," + Drag to calculate Raw ROI stats"]}),Vt&&vr>0&&c.jsxs("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 z-30 pointer-events-none text-sm font-bold text-yellow-500 bg-black/80 px-4 py-2 rounded-full border border-yellow-500 animate-pulse shadow-lg",children:[Et.length===0&&"Click Top-Left Corner of Chart",Et.length===1&&"Click Top-Right Corner",Et.length===2&&"Click Bottom-Left Corner",Et.length===3&&"Click Bottom-Right Corner",Et.length===4&&"Processing..."]}),c.jsx(lC,{zoom:$l,onZoomChange:os,onResetView:()=>{F(1),hi({x:0,y:0})},touchAction:Q,onToggleTouchAction:Je}),!H&&c.jsx("button",{onClick:()=>ie(!0),className:"absolute right-0 top-1/2 -translate-y-1/2 z-50 bg-white dark:bg-black border-2 border-black dark:border-white shadow-[4px_4px_0px_black] dark:shadow-[4px_4px_0px_gray] p-2 hover:bg-gray-200 dark:hover:bg-gray-800 transition-colors",title:"Show Tools",children:c.jsx("svg",{className:"w-4 h-4 text-black dark:text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})})]}),c.jsxs("div",{className:`flex-shrink-0 flex flex-col bg-white dark:bg-black border-2 border-black dark:border-gray-700 shadow-xl overflow-hidden transition-all duration-300 ease-in-out ${H?"w-80 translate-x-0 opacity-100 ml-0":"w-0 translate-x-20 opacity-0 p-0 border-0 pointer-events-none ml-0"}`,children:[c.jsxs("div",{className:"flex justify-between items-center px-4 py-3 border-b-2 border-black dark:border-gray-700 bg-gray-200 dark:bg-gray-900 flex-shrink-0",children:[c.jsx("h2",{className:"font-bold text-sm text-black dark:text-white uppercase tracking-wide flex items-center gap-2",children:c.jsx("span",{children:"Tools"})}),c.jsx("button",{onClick:()=>ie(!1),className:"text-black dark:text-white hover:text-gray-600 dark:hover:text-gray-300 transition-colors p-1",title:"Hide Tools",children:c.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),c.jsx("div",{className:"flex-1 overflow-hidden relative",children:c.jsx(eC,{rawImageData:A,displaySettings:P,onApplyDisplaySettings:N0,onSetSelection:at,exifData:T,isBridgeConnected:p.isConnected,isDrLabOpen:Qt,drMarkingStep:Ae,onStartMarking:gP,onGenerateTestPic:()=>Lt(!0),drRoiSize:Zr,onDrRoiSizeChange:ui,drGridRows:vn,onDrGridRowsChange:oa,drGridCols:Hn,onDrGridColsChange:fi,onBatchDrLab:ia,hasDrMarkers:It.length>0||ft.length===4,isFftLabOpen:Gt,onProcessPair:k0,onProcessBatchDiff:zu,onProcessStackFft:j0,onOpenCrossCalc:()=>h(!0),isThreePlane:A==null?void 0:A.isThreePlane,onToggleXTrans:A?Gu:void 0,xtransPhase:(k==null?void 0:k.xtransPhase)||{x:0,y:0},onXTransPhaseChange:Rl,isXTransConverted:k==null?void 0:k.isXTransConverted,roiStats:U,isBGGR:K,isColorLabOpen:Vt,colorLabMarkingStep:vr,onStartColorLabMarking:to,isSfrLabOpen:lt})})]})]}),ut&&c.jsxs("div",{className:"fixed inset-0 z-[200] bg-black overflow-hidden",children:[c.jsx("div",{onMouseDown:mP,style:{transform:`translate(${cr.x}px, ${cr.y}px)`,cursor:An?"grabbing":"grab",opacity:Le,transition:"opacity 0.1s linear"},className:"w-full h-full flex items-center justify-center",children:c.jsx("img",{src:"/drtest.png",alt:"DR Test",className:"max-w-full max-h-full object-contain pointer-none select-none",draggable:!1})}),c.jsxs("div",{className:"absolute top-4 right-4 flex flex-col items-end gap-2 pointer-events-none z-[201]",children:[c.jsx("div",{className:"text-white/50 text-sm bg-black/50 px-3 py-1 border border-white/20 backdrop-blur-sm font-mono",children:"Press ESC to exit | Drag to move"}),c.jsx("div",{className:"text-white/20 text-xs px-2 select-none font-mono",children:"F11 full screen"}),c.jsx("div",{className:"text-red-900/80 text-lg px-2 select-none font-bold mt-4 font-mono",children:""}),c.jsx("div",{className:"text-red-900/60 text-xs px-2 select-none font-mono",children:"Shoot slightly out of focus"})]}),c.jsxs("div",{className:"fixed bottom-8 left-1/2 -translate-x-1/2 bg-black/60 backdrop-blur-md p-4 border border-gray-500 flex flex-col gap-3 items-center z-[202]",children:[c.jsx("button",{onClick:()=>Tt(!At),className:`px-4 py-2 border-2 border-white font-bold text-sm transition-colors ${At?"bg-white text-black":"bg-black text-white hover:bg-gray-800"}`,children:At?"Stop Breathing":"Start Breathing"}),At&&c.jsxs("div",{className:"flex items-center gap-3 w-64 animate-in fade-in",children:[c.jsx("span",{className:"text-xs text-gray-400 font-bold uppercase",children:"Speed"}),c.jsx("input",{type:"range",min:"0.5",max:"10",step:"0.5",value:oe,onChange:W=>Pe(parseFloat(W.target.value)),className:"flex-1 h-1.5 bg-gray-600 rounded-none appearance-none cursor-pointer accent-white"}),c.jsx("span",{className:"text-xs text-white w-8 text-right font-mono",children:oe.toFixed(1)})]})]})]}),c.jsx(cC,{theme:o,setTheme:i})]})},pP=document.getElementById("root");if(!pP)throw new Error("Could not find root element to mount to");const AJ=Cp.createRoot(pP);AJ.render(c.jsx(I.StrictMode,{children:c.jsx(PJ,{})}));export{AQ as _};
