var AN=Object.defineProperty;var EN=(e,t,r)=>t in e?AN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var jn=(e,t,r)=>EN(e,typeof t!="symbol"?t+"":t,r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();var Ku=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Lt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var kk={exports:{}},v0={},Sk={exports:{}},nt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ou=Symbol.for("react.element"),TN=Symbol.for("react.portal"),$N=Symbol.for("react.fragment"),DN=Symbol.for("react.strict_mode"),RN=Symbol.for("react.profiler"),IN=Symbol.for("react.provider"),LN=Symbol.for("react.context"),BN=Symbol.for("react.forward_ref"),FN=Symbol.for("react.suspense"),zN=Symbol.for("react.memo"),GN=Symbol.for("react.lazy"),ux=Symbol.iterator;function UN(e){return e===null||typeof e!="object"?null:(e=ux&&e[ux]||e["@@iterator"],typeof e=="function"?e:null)}var jk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Nk=Object.assign,_k={};function bl(e,t,r){this.props=e,this.context=t,this.refs=_k,this.updater=r||jk}bl.prototype.isReactComponent={};bl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};bl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Pk(){}Pk.prototype=bl.prototype;function oy(e,t,r){this.props=e,this.context=t,this.refs=_k,this.updater=r||jk}var iy=oy.prototype=new Pk;iy.constructor=oy;Nk(iy,bl.prototype);iy.isPureReactComponent=!0;var fx=Array.isArray,Ok=Object.prototype.hasOwnProperty,sy={current:null},Ck={key:!0,ref:!0,__self:!0,__source:!0};function Mk(e,t,r){var n,a={},o=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)Ok.call(t,n)&&!Ck.hasOwnProperty(n)&&(a[n]=t[n]);var s=arguments.length-2;if(s===1)a.children=r;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];a.children=l}if(e&&e.defaultProps)for(n in s=e.defaultProps,s)a[n]===void 0&&(a[n]=s[n]);return{$$typeof:Ou,type:e,key:o,ref:i,props:a,_owner:sy.current}}function WN(e,t){return{$$typeof:Ou,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ly(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ou}function XN(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var dx=/\/+/g;function Ch(e,t){return typeof e=="object"&&e!==null&&e.key!=null?XN(""+e.key):t.toString(36)}function Cf(e,t,r,n,a){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Ou:case TN:i=!0}}if(i)return i=e,a=a(i),e=n===""?"."+Ch(i,0):n,fx(a)?(r="",e!=null&&(r=e.replace(dx,"$&/")+"/"),Cf(a,t,r,"",function(u){return u})):a!=null&&(ly(a)&&(a=WN(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(dx,"$&/")+"/")+e)),t.push(a)),1;if(i=0,n=n===""?".":n+":",fx(e))for(var s=0;s<e.length;s++){o=e[s];var l=n+Ch(o,s);i+=Cf(o,t,r,l,a)}else if(l=UN(e),typeof l=="function")for(e=l.call(e),s=0;!(o=e.next()).done;)o=o.value,l=n+Ch(o,s++),i+=Cf(o,t,r,l,a);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Yu(e,t,r){if(e==null)return e;var n=[],a=0;return Cf(e,n,"","",function(o){return t.call(r,o,a++)}),n}function HN(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Cn={current:null},Mf={transition:null},VN={ReactCurrentDispatcher:Cn,ReactCurrentBatchConfig:Mf,ReactCurrentOwner:sy};function Ak(){throw Error("act(...) is not supported in production builds of React.")}nt.Children={map:Yu,forEach:function(e,t,r){Yu(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Yu(e,function(){t++}),t},toArray:function(e){return Yu(e,function(t){return t})||[]},only:function(e){if(!ly(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};nt.Component=bl;nt.Fragment=$N;nt.Profiler=RN;nt.PureComponent=oy;nt.StrictMode=DN;nt.Suspense=FN;nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VN;nt.act=Ak;nt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Nk({},e.props),a=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=sy.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)Ok.call(t,l)&&!Ck.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];n.children=s}return{$$typeof:Ou,type:e.type,key:a,ref:o,props:n,_owner:i}};nt.createContext=function(e){return e={$$typeof:LN,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:IN,_context:e},e.Consumer=e};nt.createElement=Mk;nt.createFactory=function(e){var t=Mk.bind(null,e);return t.type=e,t};nt.createRef=function(){return{current:null}};nt.forwardRef=function(e){return{$$typeof:BN,render:e}};nt.isValidElement=ly;nt.lazy=function(e){return{$$typeof:GN,_payload:{_status:-1,_result:e},_init:HN}};nt.memo=function(e,t){return{$$typeof:zN,type:e,compare:t===void 0?null:t}};nt.startTransition=function(e){var t=Mf.transition;Mf.transition={};try{e()}finally{Mf.transition=t}};nt.unstable_act=Ak;nt.useCallback=function(e,t){return Cn.current.useCallback(e,t)};nt.useContext=function(e){return Cn.current.useContext(e)};nt.useDebugValue=function(){};nt.useDeferredValue=function(e){return Cn.current.useDeferredValue(e)};nt.useEffect=function(e,t){return Cn.current.useEffect(e,t)};nt.useId=function(){return Cn.current.useId()};nt.useImperativeHandle=function(e,t,r){return Cn.current.useImperativeHandle(e,t,r)};nt.useInsertionEffect=function(e,t){return Cn.current.useInsertionEffect(e,t)};nt.useLayoutEffect=function(e,t){return Cn.current.useLayoutEffect(e,t)};nt.useMemo=function(e,t){return Cn.current.useMemo(e,t)};nt.useReducer=function(e,t,r){return Cn.current.useReducer(e,t,r)};nt.useRef=function(e){return Cn.current.useRef(e)};nt.useState=function(e){return Cn.current.useState(e)};nt.useSyncExternalStore=function(e,t,r){return Cn.current.useSyncExternalStore(e,t,r)};nt.useTransition=function(){return Cn.current.useTransition()};nt.version="18.3.1";Sk.exports=nt;var j=Sk.exports;const F=Lt(j);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KN=j,YN=Symbol.for("react.element"),qN=Symbol.for("react.fragment"),ZN=Object.prototype.hasOwnProperty,QN=KN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,JN={key:!0,ref:!0,__self:!0,__source:!0};function Ek(e,t,r){var n,a={},o=null,i=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)ZN.call(t,n)&&!JN.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:YN,type:e,key:o,ref:i,props:a,_owner:QN.current}}v0.Fragment=qN;v0.jsx=Ek;v0.jsxs=Ek;kk.exports=v0;var c=kk.exports,$p={},Tk={exports:{}},ta={},$k={exports:{}},Dk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,B){var z=T.length;T.push(B);e:for(;0<z;){var te=z-1>>>1,Q=T[te];if(0<a(Q,B))T[te]=B,T[z]=Q,z=te;else break e}}function r(T){return T.length===0?null:T[0]}function n(T){if(T.length===0)return null;var B=T[0],z=T.pop();if(z!==B){T[0]=z;e:for(var te=0,Q=T.length,D=Q>>>1;te<D;){var J=2*(te+1)-1,q=T[J],$=J+1,ne=T[$];if(0>a(q,z))$<Q&&0>a(ne,q)?(T[te]=ne,T[$]=z,te=$):(T[te]=q,T[J]=z,te=J);else if($<Q&&0>a(ne,z))T[te]=ne,T[$]=z,te=$;else break e}}return B}function a(T,B){var z=T.sortIndex-B.sortIndex;return z!==0?z:T.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,s=i.now();e.unstable_now=function(){return i.now()-s}}var l=[],u=[],d=1,f=null,h=3,p=!1,m=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(T){for(var B=r(u);B!==null;){if(B.callback===null)n(u);else if(B.startTime<=T)n(u),B.sortIndex=B.expirationTime,t(l,B);else break;B=r(u)}}function k(T){if(x=!1,y(T),!m)if(r(l)!==null)m=!0,G(b);else{var B=r(u);B!==null&&O(k,B.startTime-T)}}function b(T,B){m=!1,x&&(x=!1,v(N),N=-1),p=!0;var z=h;try{for(y(B),f=r(l);f!==null&&(!(f.expirationTime>B)||T&&!E());){var te=f.callback;if(typeof te=="function"){f.callback=null,h=f.priorityLevel;var Q=te(f.expirationTime<=B);B=e.unstable_now(),typeof Q=="function"?f.callback=Q:f===r(l)&&n(l),y(B)}else n(l);f=r(l)}if(f!==null)var D=!0;else{var J=r(u);J!==null&&O(k,J.startTime-B),D=!1}return D}finally{f=null,h=z,p=!1}}var S=!1,_=null,N=-1,P=5,M=-1;function E(){return!(e.unstable_now()-M<P)}function C(){if(_!==null){var T=e.unstable_now();M=T;var B=!0;try{B=_(!0,T)}finally{B?A():(S=!1,_=null)}}else S=!1}var A;if(typeof g=="function")A=function(){g(C)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,R=L.port2;L.port1.onmessage=C,A=function(){R.postMessage(null)}}else A=function(){w(C,0)};function G(T){_=T,S||(S=!0,A())}function O(T,B){N=w(function(){T(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,G(b))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(T){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var z=h;h=B;try{return T()}finally{h=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,B){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var z=h;h=T;try{return B()}finally{h=z}},e.unstable_scheduleCallback=function(T,B,z){var te=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?te+z:te):z=te,T){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=z+Q,T={id:d++,callback:B,priorityLevel:T,startTime:z,expirationTime:Q,sortIndex:-1},z>te?(T.sortIndex=z,t(u,T),r(l)===null&&T===r(u)&&(x?(v(N),N=-1):x=!0,O(k,z-te))):(T.sortIndex=Q,t(l,T),m||p||(m=!0,G(b))),T},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(T){var B=h;return function(){var z=h;h=B;try{return T.apply(this,arguments)}finally{h=z}}}})(Dk);$k.exports=Dk;var e_=$k.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t_=j,ea=e_;function le(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Rk=new Set,Oc={};function Ji(e,t){zs(e,t),zs(e+"Capture",t)}function zs(e,t){for(Oc[e]=t,e=0;e<t.length;e++)Rk.add(t[e])}var bo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dp=Object.prototype.hasOwnProperty,r_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hx={},px={};function n_(e){return Dp.call(px,e)?!0:Dp.call(hx,e)?!1:r_.test(e)?px[e]=!0:(hx[e]=!0,!1)}function a_(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function o_(e,t,r,n){if(t===null||typeof t>"u"||a_(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Mn(e,t,r,n,a,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var an={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){an[e]=new Mn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];an[t]=new Mn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){an[e]=new Mn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){an[e]=new Mn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){an[e]=new Mn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){an[e]=new Mn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){an[e]=new Mn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){an[e]=new Mn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){an[e]=new Mn(e,5,!1,e.toLowerCase(),null,!1,!1)});var cy=/[\-:]([a-z])/g;function uy(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(cy,uy);an[t]=new Mn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(cy,uy);an[t]=new Mn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(cy,uy);an[t]=new Mn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){an[e]=new Mn(e,1,!1,e.toLowerCase(),null,!1,!1)});an.xlinkHref=new Mn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){an[e]=new Mn(e,1,!1,e.toLowerCase(),null,!0,!0)});function fy(e,t,r,n){var a=an.hasOwnProperty(t)?an[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(o_(t,r,a,n)&&(r=null),n||a===null?n_(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Po=t_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,qu=Symbol.for("react.element"),ms=Symbol.for("react.portal"),ys=Symbol.for("react.fragment"),dy=Symbol.for("react.strict_mode"),Rp=Symbol.for("react.profiler"),Ik=Symbol.for("react.provider"),Lk=Symbol.for("react.context"),hy=Symbol.for("react.forward_ref"),Ip=Symbol.for("react.suspense"),Lp=Symbol.for("react.suspense_list"),py=Symbol.for("react.memo"),Lo=Symbol.for("react.lazy"),Bk=Symbol.for("react.offscreen"),gx=Symbol.iterator;function zl(e){return e===null||typeof e!="object"?null:(e=gx&&e[gx]||e["@@iterator"],typeof e=="function"?e:null)}var fr=Object.assign,Mh;function oc(e){if(Mh===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Mh=t&&t[1]||""}return`
`+Mh+e}var Ah=!1;function Eh(e,t){if(!e||Ah)return"";Ah=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),o=n.stack.split(`
`),i=a.length-1,s=o.length-1;1<=i&&0<=s&&a[i]!==o[s];)s--;for(;1<=i&&0<=s;i--,s--)if(a[i]!==o[s]){if(i!==1||s!==1)do if(i--,s--,0>s||a[i]!==o[s]){var l=`
`+a[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=i&&0<=s);break}}}finally{Ah=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?oc(e):""}function i_(e){switch(e.tag){case 5:return oc(e.type);case 16:return oc("Lazy");case 13:return oc("Suspense");case 19:return oc("SuspenseList");case 0:case 2:case 15:return e=Eh(e.type,!1),e;case 11:return e=Eh(e.type.render,!1),e;case 1:return e=Eh(e.type,!0),e;default:return""}}function Bp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ys:return"Fragment";case ms:return"Portal";case Rp:return"Profiler";case dy:return"StrictMode";case Ip:return"Suspense";case Lp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Lk:return(e.displayName||"Context")+".Consumer";case Ik:return(e._context.displayName||"Context")+".Provider";case hy:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case py:return t=e.displayName||null,t!==null?t:Bp(e.type)||"Memo";case Lo:t=e._payload,e=e._init;try{return Bp(e(t))}catch{}}return null}function s_(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Bp(t);case 8:return t===dy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ii(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Fk(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function l_(e){var t=Fk(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Zu(e){e._valueTracker||(e._valueTracker=l_(e))}function zk(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Fk(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Gf(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Fp(e,t){var r=t.checked;return fr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function mx(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ii(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Gk(e,t){t=t.checked,t!=null&&fy(e,"checked",t,!1)}function zp(e,t){Gk(e,t);var r=ii(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Gp(e,t.type,r):t.hasOwnProperty("defaultValue")&&Gp(e,t.type,ii(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function yx(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Gp(e,t,r){(t!=="number"||Gf(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ic=Array.isArray;function As(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ii(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Up(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(le(91));return fr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function vx(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(le(92));if(ic(r)){if(1<r.length)throw Error(le(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ii(r)}}function Uk(e,t){var r=ii(t.value),n=ii(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function xx(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Wk(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Wk(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Qu,Xk=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Qu=Qu||document.createElement("div"),Qu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Qu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Cc(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var fc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},c_=["Webkit","ms","Moz","O"];Object.keys(fc).forEach(function(e){c_.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fc[t]=fc[e]})});function Hk(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||fc.hasOwnProperty(e)&&fc[e]?(""+t).trim():t+"px"}function Vk(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=Hk(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var u_=fr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xp(e,t){if(t){if(u_[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(le(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(le(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(le(61))}if(t.style!=null&&typeof t.style!="object")throw Error(le(62))}}function Hp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vp=null;function gy(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Kp=null,Es=null,Ts=null;function bx(e){if(e=Au(e)){if(typeof Kp!="function")throw Error(le(280));var t=e.stateNode;t&&(t=S0(t),Kp(e.stateNode,e.type,t))}}function Kk(e){Es?Ts?Ts.push(e):Ts=[e]:Es=e}function Yk(){if(Es){var e=Es,t=Ts;if(Ts=Es=null,bx(e),t)for(e=0;e<t.length;e++)bx(t[e])}}function qk(e,t){return e(t)}function Zk(){}var Th=!1;function Qk(e,t,r){if(Th)return e(t,r);Th=!0;try{return qk(e,t,r)}finally{Th=!1,(Es!==null||Ts!==null)&&(Zk(),Yk())}}function Mc(e,t){var r=e.stateNode;if(r===null)return null;var n=S0(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(le(231,t,typeof r));return r}var Yp=!1;if(bo)try{var Gl={};Object.defineProperty(Gl,"passive",{get:function(){Yp=!0}}),window.addEventListener("test",Gl,Gl),window.removeEventListener("test",Gl,Gl)}catch{Yp=!1}function f_(e,t,r,n,a,o,i,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var dc=!1,Uf=null,Wf=!1,qp=null,d_={onError:function(e){dc=!0,Uf=e}};function h_(e,t,r,n,a,o,i,s,l){dc=!1,Uf=null,f_.apply(d_,arguments)}function p_(e,t,r,n,a,o,i,s,l){if(h_.apply(this,arguments),dc){if(dc){var u=Uf;dc=!1,Uf=null}else throw Error(le(198));Wf||(Wf=!0,qp=u)}}function es(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Jk(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function wx(e){if(es(e)!==e)throw Error(le(188))}function g_(e){var t=e.alternate;if(!t){if(t=es(e),t===null)throw Error(le(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var o=a.alternate;if(o===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===r)return wx(a),e;if(o===n)return wx(a),t;o=o.sibling}throw Error(le(188))}if(r.return!==n.return)r=a,n=o;else{for(var i=!1,s=a.child;s;){if(s===r){i=!0,r=a,n=o;break}if(s===n){i=!0,n=a,r=o;break}s=s.sibling}if(!i){for(s=o.child;s;){if(s===r){i=!0,r=o,n=a;break}if(s===n){i=!0,n=o,r=a;break}s=s.sibling}if(!i)throw Error(le(189))}}if(r.alternate!==n)throw Error(le(190))}if(r.tag!==3)throw Error(le(188));return r.stateNode.current===r?e:t}function e5(e){return e=g_(e),e!==null?t5(e):null}function t5(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=t5(e);if(t!==null)return t;e=e.sibling}return null}var r5=ea.unstable_scheduleCallback,kx=ea.unstable_cancelCallback,m_=ea.unstable_shouldYield,y_=ea.unstable_requestPaint,Sr=ea.unstable_now,v_=ea.unstable_getCurrentPriorityLevel,my=ea.unstable_ImmediatePriority,n5=ea.unstable_UserBlockingPriority,Xf=ea.unstable_NormalPriority,x_=ea.unstable_LowPriority,a5=ea.unstable_IdlePriority,x0=null,Va=null;function b_(e){if(Va&&typeof Va.onCommitFiberRoot=="function")try{Va.onCommitFiberRoot(x0,e,void 0,(e.current.flags&128)===128)}catch{}}var Da=Math.clz32?Math.clz32:S_,w_=Math.log,k_=Math.LN2;function S_(e){return e>>>=0,e===0?32:31-(w_(e)/k_|0)|0}var Ju=64,ef=4194304;function sc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Hf(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,o=e.pingedLanes,i=r&268435455;if(i!==0){var s=i&~a;s!==0?n=sc(s):(o&=i,o!==0&&(n=sc(o)))}else i=r&~a,i!==0?n=sc(i):o!==0&&(n=sc(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,o=t&-t,a>=o||a===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Da(t),a=1<<r,n|=e[r],t&=~a;return n}function j_(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function N_(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-Da(o),s=1<<i,l=a[i];l===-1?(!(s&r)||s&n)&&(a[i]=j_(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}function Zp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function o5(){var e=Ju;return Ju<<=1,!(Ju&4194240)&&(Ju=64),e}function $h(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Cu(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Da(t),e[t]=r}function __(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Da(r),o=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~o}}function yy(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Da(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Ot=0;function i5(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var s5,vy,l5,c5,u5,Qp=!1,tf=[],qo=null,Zo=null,Qo=null,Ac=new Map,Ec=new Map,zo=[],P_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sx(e,t){switch(e){case"focusin":case"focusout":qo=null;break;case"dragenter":case"dragleave":Zo=null;break;case"mouseover":case"mouseout":Qo=null;break;case"pointerover":case"pointerout":Ac.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ec.delete(t.pointerId)}}function Ul(e,t,r,n,a,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[a]},t!==null&&(t=Au(t),t!==null&&vy(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function O_(e,t,r,n,a){switch(t){case"focusin":return qo=Ul(qo,e,t,r,n,a),!0;case"dragenter":return Zo=Ul(Zo,e,t,r,n,a),!0;case"mouseover":return Qo=Ul(Qo,e,t,r,n,a),!0;case"pointerover":var o=a.pointerId;return Ac.set(o,Ul(Ac.get(o)||null,e,t,r,n,a)),!0;case"gotpointercapture":return o=a.pointerId,Ec.set(o,Ul(Ec.get(o)||null,e,t,r,n,a)),!0}return!1}function f5(e){var t=Oi(e.target);if(t!==null){var r=es(t);if(r!==null){if(t=r.tag,t===13){if(t=Jk(r),t!==null){e.blockedOn=t,u5(e.priority,function(){l5(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Af(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Jp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Vp=n,r.target.dispatchEvent(n),Vp=null}else return t=Au(r),t!==null&&vy(t),e.blockedOn=r,!1;t.shift()}return!0}function jx(e,t,r){Af(e)&&r.delete(t)}function C_(){Qp=!1,qo!==null&&Af(qo)&&(qo=null),Zo!==null&&Af(Zo)&&(Zo=null),Qo!==null&&Af(Qo)&&(Qo=null),Ac.forEach(jx),Ec.forEach(jx)}function Wl(e,t){e.blockedOn===t&&(e.blockedOn=null,Qp||(Qp=!0,ea.unstable_scheduleCallback(ea.unstable_NormalPriority,C_)))}function Tc(e){function t(a){return Wl(a,e)}if(0<tf.length){Wl(tf[0],e);for(var r=1;r<tf.length;r++){var n=tf[r];n.blockedOn===e&&(n.blockedOn=null)}}for(qo!==null&&Wl(qo,e),Zo!==null&&Wl(Zo,e),Qo!==null&&Wl(Qo,e),Ac.forEach(t),Ec.forEach(t),r=0;r<zo.length;r++)n=zo[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<zo.length&&(r=zo[0],r.blockedOn===null);)f5(r),r.blockedOn===null&&zo.shift()}var $s=Po.ReactCurrentBatchConfig,Vf=!0;function M_(e,t,r,n){var a=Ot,o=$s.transition;$s.transition=null;try{Ot=1,xy(e,t,r,n)}finally{Ot=a,$s.transition=o}}function A_(e,t,r,n){var a=Ot,o=$s.transition;$s.transition=null;try{Ot=4,xy(e,t,r,n)}finally{Ot=a,$s.transition=o}}function xy(e,t,r,n){if(Vf){var a=Jp(e,t,r,n);if(a===null)Wh(e,t,n,Kf,r),Sx(e,n);else if(O_(a,e,t,r,n))n.stopPropagation();else if(Sx(e,n),t&4&&-1<P_.indexOf(e)){for(;a!==null;){var o=Au(a);if(o!==null&&s5(o),o=Jp(e,t,r,n),o===null&&Wh(e,t,n,Kf,r),o===a)break;a=o}a!==null&&n.stopPropagation()}else Wh(e,t,n,null,r)}}var Kf=null;function Jp(e,t,r,n){if(Kf=null,e=gy(n),e=Oi(e),e!==null)if(t=es(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Jk(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kf=e,null}function d5(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(v_()){case my:return 1;case n5:return 4;case Xf:case x_:return 16;case a5:return 536870912;default:return 16}default:return 16}}var Wo=null,by=null,Ef=null;function h5(){if(Ef)return Ef;var e,t=by,r=t.length,n,a="value"in Wo?Wo.value:Wo.textContent,o=a.length;for(e=0;e<r&&t[e]===a[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===a[o-n];n++);return Ef=a.slice(e,1<n?1-n:void 0)}function Tf(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function rf(){return!0}function Nx(){return!1}function ra(e){function t(r,n,a,o,i){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(r=e[s],this[s]=r?r(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?rf:Nx,this.isPropagationStopped=Nx,this}return fr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=rf)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=rf)},persist:function(){},isPersistent:rf}),t}var wl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wy=ra(wl),Mu=fr({},wl,{view:0,detail:0}),E_=ra(Mu),Dh,Rh,Xl,b0=fr({},Mu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ky,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xl&&(Xl&&e.type==="mousemove"?(Dh=e.screenX-Xl.screenX,Rh=e.screenY-Xl.screenY):Rh=Dh=0,Xl=e),Dh)},movementY:function(e){return"movementY"in e?e.movementY:Rh}}),_x=ra(b0),T_=fr({},b0,{dataTransfer:0}),$_=ra(T_),D_=fr({},Mu,{relatedTarget:0}),Ih=ra(D_),R_=fr({},wl,{animationName:0,elapsedTime:0,pseudoElement:0}),I_=ra(R_),L_=fr({},wl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),B_=ra(L_),F_=fr({},wl,{data:0}),Px=ra(F_),z_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},G_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},U_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function W_(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=U_[e])?!!t[e]:!1}function ky(){return W_}var X_=fr({},Mu,{key:function(e){if(e.key){var t=z_[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Tf(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?G_[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ky,charCode:function(e){return e.type==="keypress"?Tf(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Tf(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),H_=ra(X_),V_=fr({},b0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ox=ra(V_),K_=fr({},Mu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ky}),Y_=ra(K_),q_=fr({},wl,{propertyName:0,elapsedTime:0,pseudoElement:0}),Z_=ra(q_),Q_=fr({},b0,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),J_=ra(Q_),eP=[9,13,27,32],Sy=bo&&"CompositionEvent"in window,hc=null;bo&&"documentMode"in document&&(hc=document.documentMode);var tP=bo&&"TextEvent"in window&&!hc,p5=bo&&(!Sy||hc&&8<hc&&11>=hc),Cx=" ",Mx=!1;function g5(e,t){switch(e){case"keyup":return eP.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function m5(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var vs=!1;function rP(e,t){switch(e){case"compositionend":return m5(t);case"keypress":return t.which!==32?null:(Mx=!0,Cx);case"textInput":return e=t.data,e===Cx&&Mx?null:e;default:return null}}function nP(e,t){if(vs)return e==="compositionend"||!Sy&&g5(e,t)?(e=h5(),Ef=by=Wo=null,vs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return p5&&t.locale!=="ko"?null:t.data;default:return null}}var aP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ax(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!aP[e.type]:t==="textarea"}function y5(e,t,r,n){Kk(n),t=Yf(t,"onChange"),0<t.length&&(r=new wy("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var pc=null,$c=null;function oP(e){O5(e,0)}function w0(e){var t=ws(e);if(zk(t))return e}function iP(e,t){if(e==="change")return t}var v5=!1;if(bo){var Lh;if(bo){var Bh="oninput"in document;if(!Bh){var Ex=document.createElement("div");Ex.setAttribute("oninput","return;"),Bh=typeof Ex.oninput=="function"}Lh=Bh}else Lh=!1;v5=Lh&&(!document.documentMode||9<document.documentMode)}function Tx(){pc&&(pc.detachEvent("onpropertychange",x5),$c=pc=null)}function x5(e){if(e.propertyName==="value"&&w0($c)){var t=[];y5(t,$c,e,gy(e)),Qk(oP,t)}}function sP(e,t,r){e==="focusin"?(Tx(),pc=t,$c=r,pc.attachEvent("onpropertychange",x5)):e==="focusout"&&Tx()}function lP(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return w0($c)}function cP(e,t){if(e==="click")return w0(t)}function uP(e,t){if(e==="input"||e==="change")return w0(t)}function fP(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ia=typeof Object.is=="function"?Object.is:fP;function Dc(e,t){if(Ia(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Dp.call(t,a)||!Ia(e[a],t[a]))return!1}return!0}function $x(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Dx(e,t){var r=$x(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=$x(r)}}function b5(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?b5(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function w5(){for(var e=window,t=Gf();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Gf(e.document)}return t}function jy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function dP(e){var t=w5(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&b5(r.ownerDocument.documentElement,r)){if(n!==null&&jy(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,o=Math.min(n.start,a);n=n.end===void 0?o:Math.min(n.end,a),!e.extend&&o>n&&(a=n,n=o,o=a),a=Dx(r,o);var i=Dx(r,n);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var hP=bo&&"documentMode"in document&&11>=document.documentMode,xs=null,eg=null,gc=null,tg=!1;function Rx(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;tg||xs==null||xs!==Gf(n)||(n=xs,"selectionStart"in n&&jy(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),gc&&Dc(gc,n)||(gc=n,n=Yf(eg,"onSelect"),0<n.length&&(t=new wy("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=xs)))}function nf(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var bs={animationend:nf("Animation","AnimationEnd"),animationiteration:nf("Animation","AnimationIteration"),animationstart:nf("Animation","AnimationStart"),transitionend:nf("Transition","TransitionEnd")},Fh={},k5={};bo&&(k5=document.createElement("div").style,"AnimationEvent"in window||(delete bs.animationend.animation,delete bs.animationiteration.animation,delete bs.animationstart.animation),"TransitionEvent"in window||delete bs.transitionend.transition);function k0(e){if(Fh[e])return Fh[e];if(!bs[e])return e;var t=bs[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in k5)return Fh[e]=t[r];return e}var S5=k0("animationend"),j5=k0("animationiteration"),N5=k0("animationstart"),_5=k0("transitionend"),P5=new Map,Ix="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function li(e,t){P5.set(e,t),Ji(t,[e])}for(var zh=0;zh<Ix.length;zh++){var Gh=Ix[zh],pP=Gh.toLowerCase(),gP=Gh[0].toUpperCase()+Gh.slice(1);li(pP,"on"+gP)}li(S5,"onAnimationEnd");li(j5,"onAnimationIteration");li(N5,"onAnimationStart");li("dblclick","onDoubleClick");li("focusin","onFocus");li("focusout","onBlur");li(_5,"onTransitionEnd");zs("onMouseEnter",["mouseout","mouseover"]);zs("onMouseLeave",["mouseout","mouseover"]);zs("onPointerEnter",["pointerout","pointerover"]);zs("onPointerLeave",["pointerout","pointerover"]);Ji("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ji("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ji("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ji("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ji("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ji("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mP=new Set("cancel close invalid load scroll toggle".split(" ").concat(lc));function Lx(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,p_(n,t,void 0,e),e.currentTarget=null}function O5(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var i=n.length-1;0<=i;i--){var s=n[i],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&a.isPropagationStopped())break e;Lx(a,s,u),o=l}else for(i=0;i<n.length;i++){if(s=n[i],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&a.isPropagationStopped())break e;Lx(a,s,u),o=l}}}if(Wf)throw e=qp,Wf=!1,qp=null,e}function Vt(e,t){var r=t[ig];r===void 0&&(r=t[ig]=new Set);var n=e+"__bubble";r.has(n)||(C5(t,e,2,!1),r.add(n))}function Uh(e,t,r){var n=0;t&&(n|=4),C5(r,e,n,t)}var af="_reactListening"+Math.random().toString(36).slice(2);function Rc(e){if(!e[af]){e[af]=!0,Rk.forEach(function(r){r!=="selectionchange"&&(mP.has(r)||Uh(r,!1,e),Uh(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[af]||(t[af]=!0,Uh("selectionchange",!1,t))}}function C5(e,t,r,n){switch(d5(t)){case 1:var a=M_;break;case 4:a=A_;break;default:a=xy}r=a.bind(null,t,r,e),a=void 0,!Yp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Wh(e,t,r,n,a){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var s=n.stateNode.containerInfo;if(s===a||s.nodeType===8&&s.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;i=i.return}for(;s!==null;){if(i=Oi(s),i===null)return;if(l=i.tag,l===5||l===6){n=o=i;continue e}s=s.parentNode}}n=n.return}Qk(function(){var u=o,d=gy(r),f=[];e:{var h=P5.get(e);if(h!==void 0){var p=wy,m=e;switch(e){case"keypress":if(Tf(r)===0)break e;case"keydown":case"keyup":p=H_;break;case"focusin":m="focus",p=Ih;break;case"focusout":m="blur",p=Ih;break;case"beforeblur":case"afterblur":p=Ih;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=_x;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=$_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Y_;break;case S5:case j5:case N5:p=I_;break;case _5:p=Z_;break;case"scroll":p=E_;break;case"wheel":p=J_;break;case"copy":case"cut":case"paste":p=B_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Ox}var x=(t&4)!==0,w=!x&&e==="scroll",v=x?h!==null?h+"Capture":null:h;x=[];for(var g=u,y;g!==null;){y=g;var k=y.stateNode;if(y.tag===5&&k!==null&&(y=k,v!==null&&(k=Mc(g,v),k!=null&&x.push(Ic(g,k,y)))),w)break;g=g.return}0<x.length&&(h=new p(h,m,null,r,d),f.push({event:h,listeners:x}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==Vp&&(m=r.relatedTarget||r.fromElement)&&(Oi(m)||m[wo]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=u,m=m?Oi(m):null,m!==null&&(w=es(m),m!==w||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(x=_x,k="onMouseLeave",v="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(x=Ox,k="onPointerLeave",v="onPointerEnter",g="pointer"),w=p==null?h:ws(p),y=m==null?h:ws(m),h=new x(k,g+"leave",p,r,d),h.target=w,h.relatedTarget=y,k=null,Oi(d)===u&&(x=new x(v,g+"enter",m,r,d),x.target=y,x.relatedTarget=w,k=x),w=k,p&&m)t:{for(x=p,v=m,g=0,y=x;y;y=us(y))g++;for(y=0,k=v;k;k=us(k))y++;for(;0<g-y;)x=us(x),g--;for(;0<y-g;)v=us(v),y--;for(;g--;){if(x===v||v!==null&&x===v.alternate)break t;x=us(x),v=us(v)}x=null}else x=null;p!==null&&Bx(f,h,p,x,!1),m!==null&&w!==null&&Bx(f,w,m,x,!0)}}e:{if(h=u?ws(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var b=iP;else if(Ax(h))if(v5)b=uP;else{b=lP;var S=sP}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(b=cP);if(b&&(b=b(e,u))){y5(f,b,r,d);break e}S&&S(e,h,u),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&Gp(h,"number",h.value)}switch(S=u?ws(u):window,e){case"focusin":(Ax(S)||S.contentEditable==="true")&&(xs=S,eg=u,gc=null);break;case"focusout":gc=eg=xs=null;break;case"mousedown":tg=!0;break;case"contextmenu":case"mouseup":case"dragend":tg=!1,Rx(f,r,d);break;case"selectionchange":if(hP)break;case"keydown":case"keyup":Rx(f,r,d)}var _;if(Sy)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else vs?g5(e,r)&&(N="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(N="onCompositionStart");N&&(p5&&r.locale!=="ko"&&(vs||N!=="onCompositionStart"?N==="onCompositionEnd"&&vs&&(_=h5()):(Wo=d,by="value"in Wo?Wo.value:Wo.textContent,vs=!0)),S=Yf(u,N),0<S.length&&(N=new Px(N,e,null,r,d),f.push({event:N,listeners:S}),_?N.data=_:(_=m5(r),_!==null&&(N.data=_)))),(_=tP?rP(e,r):nP(e,r))&&(u=Yf(u,"onBeforeInput"),0<u.length&&(d=new Px("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=_))}O5(f,t)})}function Ic(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Yf(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,o=a.stateNode;a.tag===5&&o!==null&&(a=o,o=Mc(e,r),o!=null&&n.unshift(Ic(e,o,a)),o=Mc(e,t),o!=null&&n.push(Ic(e,o,a))),e=e.return}return n}function us(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Bx(e,t,r,n,a){for(var o=t._reactName,i=[];r!==null&&r!==n;){var s=r,l=s.alternate,u=s.stateNode;if(l!==null&&l===n)break;s.tag===5&&u!==null&&(s=u,a?(l=Mc(r,o),l!=null&&i.unshift(Ic(r,l,s))):a||(l=Mc(r,o),l!=null&&i.push(Ic(r,l,s)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var yP=/\r\n?/g,vP=/\u0000|\uFFFD/g;function Fx(e){return(typeof e=="string"?e:""+e).replace(yP,`
`).replace(vP,"")}function of(e,t,r){if(t=Fx(t),Fx(e)!==t&&r)throw Error(le(425))}function qf(){}var rg=null,ng=null;function ag(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var og=typeof setTimeout=="function"?setTimeout:void 0,xP=typeof clearTimeout=="function"?clearTimeout:void 0,zx=typeof Promise=="function"?Promise:void 0,bP=typeof queueMicrotask=="function"?queueMicrotask:typeof zx<"u"?function(e){return zx.resolve(null).then(e).catch(wP)}:og;function wP(e){setTimeout(function(){throw e})}function Xh(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Tc(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Tc(t)}function Jo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Gx(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var kl=Math.random().toString(36).slice(2),Wa="__reactFiber$"+kl,Lc="__reactProps$"+kl,wo="__reactContainer$"+kl,ig="__reactEvents$"+kl,kP="__reactListeners$"+kl,SP="__reactHandles$"+kl;function Oi(e){var t=e[Wa];if(t)return t;for(var r=e.parentNode;r;){if(t=r[wo]||r[Wa]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Gx(e);e!==null;){if(r=e[Wa])return r;e=Gx(e)}return t}e=r,r=e.parentNode}return null}function Au(e){return e=e[Wa]||e[wo],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ws(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(le(33))}function S0(e){return e[Lc]||null}var sg=[],ks=-1;function ci(e){return{current:e}}function qt(e){0>ks||(e.current=sg[ks],sg[ks]=null,ks--)}function Gt(e,t){ks++,sg[ks]=e.current,e.current=t}var si={},pn=ci(si),In=ci(!1),zi=si;function Gs(e,t){var r=e.type.contextTypes;if(!r)return si;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},o;for(o in r)a[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ln(e){return e=e.childContextTypes,e!=null}function Zf(){qt(In),qt(pn)}function Ux(e,t,r){if(pn.current!==si)throw Error(le(168));Gt(pn,t),Gt(In,r)}function M5(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(le(108,s_(e)||"Unknown",a));return fr({},r,n)}function Qf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||si,zi=pn.current,Gt(pn,e),Gt(In,In.current),!0}function Wx(e,t,r){var n=e.stateNode;if(!n)throw Error(le(169));r?(e=M5(e,t,zi),n.__reactInternalMemoizedMergedChildContext=e,qt(In),qt(pn),Gt(pn,e)):qt(In),Gt(In,r)}var lo=null,j0=!1,Hh=!1;function A5(e){lo===null?lo=[e]:lo.push(e)}function jP(e){j0=!0,A5(e)}function ui(){if(!Hh&&lo!==null){Hh=!0;var e=0,t=Ot;try{var r=lo;for(Ot=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}lo=null,j0=!1}catch(a){throw lo!==null&&(lo=lo.slice(e+1)),r5(my,ui),a}finally{Ot=t,Hh=!1}}return null}var Ss=[],js=0,Jf=null,ed=0,fa=[],da=0,Gi=null,co=1,uo="";function Si(e,t){Ss[js++]=ed,Ss[js++]=Jf,Jf=e,ed=t}function E5(e,t,r){fa[da++]=co,fa[da++]=uo,fa[da++]=Gi,Gi=e;var n=co;e=uo;var a=32-Da(n)-1;n&=~(1<<a),r+=1;var o=32-Da(t)+a;if(30<o){var i=a-a%5;o=(n&(1<<i)-1).toString(32),n>>=i,a-=i,co=1<<32-Da(t)+a|r<<a|n,uo=o+e}else co=1<<o|r<<a|n,uo=e}function Ny(e){e.return!==null&&(Si(e,1),E5(e,1,0))}function _y(e){for(;e===Jf;)Jf=Ss[--js],Ss[js]=null,ed=Ss[--js],Ss[js]=null;for(;e===Gi;)Gi=fa[--da],fa[da]=null,uo=fa[--da],fa[da]=null,co=fa[--da],fa[da]=null}var Jn=null,Qn=null,Jt=!1,Ea=null;function T5(e,t){var r=ha(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Xx(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Jn=e,Qn=Jo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Jn=e,Qn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Gi!==null?{id:co,overflow:uo}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ha(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Jn=e,Qn=null,!0):!1;default:return!1}}function lg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function cg(e){if(Jt){var t=Qn;if(t){var r=t;if(!Xx(e,t)){if(lg(e))throw Error(le(418));t=Jo(r.nextSibling);var n=Jn;t&&Xx(e,t)?T5(n,r):(e.flags=e.flags&-4097|2,Jt=!1,Jn=e)}}else{if(lg(e))throw Error(le(418));e.flags=e.flags&-4097|2,Jt=!1,Jn=e}}}function Hx(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Jn=e}function sf(e){if(e!==Jn)return!1;if(!Jt)return Hx(e),Jt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ag(e.type,e.memoizedProps)),t&&(t=Qn)){if(lg(e))throw $5(),Error(le(418));for(;t;)T5(e,t),t=Jo(t.nextSibling)}if(Hx(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(le(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Qn=Jo(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Qn=null}}else Qn=Jn?Jo(e.stateNode.nextSibling):null;return!0}function $5(){for(var e=Qn;e;)e=Jo(e.nextSibling)}function Us(){Qn=Jn=null,Jt=!1}function Py(e){Ea===null?Ea=[e]:Ea.push(e)}var NP=Po.ReactCurrentBatchConfig;function Hl(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(le(309));var n=r.stateNode}if(!n)throw Error(le(147,e));var a=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var s=a.refs;i===null?delete s[o]:s[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(le(284));if(!r._owner)throw Error(le(290,e))}return e}function lf(e,t){throw e=Object.prototype.toString.call(t),Error(le(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Vx(e){var t=e._init;return t(e._payload)}function D5(e){function t(v,g){if(e){var y=v.deletions;y===null?(v.deletions=[g],v.flags|=16):y.push(g)}}function r(v,g){if(!e)return null;for(;g!==null;)t(v,g),g=g.sibling;return null}function n(v,g){for(v=new Map;g!==null;)g.key!==null?v.set(g.key,g):v.set(g.index,g),g=g.sibling;return v}function a(v,g){return v=ni(v,g),v.index=0,v.sibling=null,v}function o(v,g,y){return v.index=y,e?(y=v.alternate,y!==null?(y=y.index,y<g?(v.flags|=2,g):y):(v.flags|=2,g)):(v.flags|=1048576,g)}function i(v){return e&&v.alternate===null&&(v.flags|=2),v}function s(v,g,y,k){return g===null||g.tag!==6?(g=Jh(y,v.mode,k),g.return=v,g):(g=a(g,y),g.return=v,g)}function l(v,g,y,k){var b=y.type;return b===ys?d(v,g,y.props.children,k,y.key):g!==null&&(g.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Lo&&Vx(b)===g.type)?(k=a(g,y.props),k.ref=Hl(v,g,y),k.return=v,k):(k=Ff(y.type,y.key,y.props,null,v.mode,k),k.ref=Hl(v,g,y),k.return=v,k)}function u(v,g,y,k){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=ep(y,v.mode,k),g.return=v,g):(g=a(g,y.children||[]),g.return=v,g)}function d(v,g,y,k,b){return g===null||g.tag!==7?(g=Ii(y,v.mode,k,b),g.return=v,g):(g=a(g,y),g.return=v,g)}function f(v,g,y){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Jh(""+g,v.mode,y),g.return=v,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case qu:return y=Ff(g.type,g.key,g.props,null,v.mode,y),y.ref=Hl(v,null,g),y.return=v,y;case ms:return g=ep(g,v.mode,y),g.return=v,g;case Lo:var k=g._init;return f(v,k(g._payload),y)}if(ic(g)||zl(g))return g=Ii(g,v.mode,y,null),g.return=v,g;lf(v,g)}return null}function h(v,g,y,k){var b=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return b!==null?null:s(v,g,""+y,k);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case qu:return y.key===b?l(v,g,y,k):null;case ms:return y.key===b?u(v,g,y,k):null;case Lo:return b=y._init,h(v,g,b(y._payload),k)}if(ic(y)||zl(y))return b!==null?null:d(v,g,y,k,null);lf(v,y)}return null}function p(v,g,y,k,b){if(typeof k=="string"&&k!==""||typeof k=="number")return v=v.get(y)||null,s(g,v,""+k,b);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case qu:return v=v.get(k.key===null?y:k.key)||null,l(g,v,k,b);case ms:return v=v.get(k.key===null?y:k.key)||null,u(g,v,k,b);case Lo:var S=k._init;return p(v,g,y,S(k._payload),b)}if(ic(k)||zl(k))return v=v.get(y)||null,d(g,v,k,b,null);lf(g,k)}return null}function m(v,g,y,k){for(var b=null,S=null,_=g,N=g=0,P=null;_!==null&&N<y.length;N++){_.index>N?(P=_,_=null):P=_.sibling;var M=h(v,_,y[N],k);if(M===null){_===null&&(_=P);break}e&&_&&M.alternate===null&&t(v,_),g=o(M,g,N),S===null?b=M:S.sibling=M,S=M,_=P}if(N===y.length)return r(v,_),Jt&&Si(v,N),b;if(_===null){for(;N<y.length;N++)_=f(v,y[N],k),_!==null&&(g=o(_,g,N),S===null?b=_:S.sibling=_,S=_);return Jt&&Si(v,N),b}for(_=n(v,_);N<y.length;N++)P=p(_,v,N,y[N],k),P!==null&&(e&&P.alternate!==null&&_.delete(P.key===null?N:P.key),g=o(P,g,N),S===null?b=P:S.sibling=P,S=P);return e&&_.forEach(function(E){return t(v,E)}),Jt&&Si(v,N),b}function x(v,g,y,k){var b=zl(y);if(typeof b!="function")throw Error(le(150));if(y=b.call(y),y==null)throw Error(le(151));for(var S=b=null,_=g,N=g=0,P=null,M=y.next();_!==null&&!M.done;N++,M=y.next()){_.index>N?(P=_,_=null):P=_.sibling;var E=h(v,_,M.value,k);if(E===null){_===null&&(_=P);break}e&&_&&E.alternate===null&&t(v,_),g=o(E,g,N),S===null?b=E:S.sibling=E,S=E,_=P}if(M.done)return r(v,_),Jt&&Si(v,N),b;if(_===null){for(;!M.done;N++,M=y.next())M=f(v,M.value,k),M!==null&&(g=o(M,g,N),S===null?b=M:S.sibling=M,S=M);return Jt&&Si(v,N),b}for(_=n(v,_);!M.done;N++,M=y.next())M=p(_,v,N,M.value,k),M!==null&&(e&&M.alternate!==null&&_.delete(M.key===null?N:M.key),g=o(M,g,N),S===null?b=M:S.sibling=M,S=M);return e&&_.forEach(function(C){return t(v,C)}),Jt&&Si(v,N),b}function w(v,g,y,k){if(typeof y=="object"&&y!==null&&y.type===ys&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case qu:e:{for(var b=y.key,S=g;S!==null;){if(S.key===b){if(b=y.type,b===ys){if(S.tag===7){r(v,S.sibling),g=a(S,y.props.children),g.return=v,v=g;break e}}else if(S.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Lo&&Vx(b)===S.type){r(v,S.sibling),g=a(S,y.props),g.ref=Hl(v,S,y),g.return=v,v=g;break e}r(v,S);break}else t(v,S);S=S.sibling}y.type===ys?(g=Ii(y.props.children,v.mode,k,y.key),g.return=v,v=g):(k=Ff(y.type,y.key,y.props,null,v.mode,k),k.ref=Hl(v,g,y),k.return=v,v=k)}return i(v);case ms:e:{for(S=y.key;g!==null;){if(g.key===S)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){r(v,g.sibling),g=a(g,y.children||[]),g.return=v,v=g;break e}else{r(v,g);break}else t(v,g);g=g.sibling}g=ep(y,v.mode,k),g.return=v,v=g}return i(v);case Lo:return S=y._init,w(v,g,S(y._payload),k)}if(ic(y))return m(v,g,y,k);if(zl(y))return x(v,g,y,k);lf(v,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,g!==null&&g.tag===6?(r(v,g.sibling),g=a(g,y),g.return=v,v=g):(r(v,g),g=Jh(y,v.mode,k),g.return=v,v=g),i(v)):r(v,g)}return w}var Ws=D5(!0),R5=D5(!1),td=ci(null),rd=null,Ns=null,Oy=null;function Cy(){Oy=Ns=rd=null}function My(e){var t=td.current;qt(td),e._currentValue=t}function ug(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ds(e,t){rd=e,Oy=Ns=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Dn=!0),e.firstContext=null)}function va(e){var t=e._currentValue;if(Oy!==e)if(e={context:e,memoizedValue:t,next:null},Ns===null){if(rd===null)throw Error(le(308));Ns=e,rd.dependencies={lanes:0,firstContext:e}}else Ns=Ns.next=e;return t}var Ci=null;function Ay(e){Ci===null?Ci=[e]:Ci.push(e)}function I5(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,Ay(t)):(r.next=a.next,a.next=r),t.interleaved=r,ko(e,n)}function ko(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Bo=!1;function Ey(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function L5(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function go(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ei(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ft&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,ko(e,r)}return a=n.interleaved,a===null?(t.next=t,Ay(n)):(t.next=a.next,a.next=t),n.interleaved=t,ko(e,r)}function $f(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,yy(e,r)}}function Kx(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?a=o=i:o=o.next=i,r=r.next}while(r!==null);o===null?a=o=t:o=o.next=t}else a=o=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function nd(e,t,r,n){var a=e.updateQueue;Bo=!1;var o=a.firstBaseUpdate,i=a.lastBaseUpdate,s=a.shared.pending;if(s!==null){a.shared.pending=null;var l=s,u=l.next;l.next=null,i===null?o=u:i.next=u,i=l;var d=e.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==i&&(s===null?d.firstBaseUpdate=u:s.next=u,d.lastBaseUpdate=l))}if(o!==null){var f=a.baseState;i=0,d=u=l=null,s=o;do{var h=s.lane,p=s.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var m=e,x=s;switch(h=t,p=r,x.tag){case 1:if(m=x.payload,typeof m=="function"){f=m.call(p,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=x.payload,h=typeof m=="function"?m.call(p,f,h):m,h==null)break e;f=fr({},f,h);break e;case 2:Bo=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(u=d=p,l=f):d=d.next=p,i|=h;if(s=s.next,s===null){if(s=a.shared.pending,s===null)break;h=s,s=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(l=f),a.baseState=l,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else o===null&&(a.shared.lanes=0);Wi|=i,e.lanes=i,e.memoizedState=f}}function Yx(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(le(191,a));a.call(n)}}}var Eu={},Ka=ci(Eu),Bc=ci(Eu),Fc=ci(Eu);function Mi(e){if(e===Eu)throw Error(le(174));return e}function Ty(e,t){switch(Gt(Fc,t),Gt(Bc,e),Gt(Ka,Eu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Wp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Wp(t,e)}qt(Ka),Gt(Ka,t)}function Xs(){qt(Ka),qt(Bc),qt(Fc)}function B5(e){Mi(Fc.current);var t=Mi(Ka.current),r=Wp(t,e.type);t!==r&&(Gt(Bc,e),Gt(Ka,r))}function $y(e){Bc.current===e&&(qt(Ka),qt(Bc))}var cr=ci(0);function ad(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Vh=[];function Dy(){for(var e=0;e<Vh.length;e++)Vh[e]._workInProgressVersionPrimary=null;Vh.length=0}var Df=Po.ReactCurrentDispatcher,Kh=Po.ReactCurrentBatchConfig,Ui=0,ur=null,Ir=null,Vr=null,od=!1,mc=!1,zc=0,_P=0;function ln(){throw Error(le(321))}function Ry(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ia(e[r],t[r]))return!1;return!0}function Iy(e,t,r,n,a,o){if(Ui=o,ur=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Df.current=e===null||e.memoizedState===null?MP:AP,e=r(n,a),mc){o=0;do{if(mc=!1,zc=0,25<=o)throw Error(le(301));o+=1,Vr=Ir=null,t.updateQueue=null,Df.current=EP,e=r(n,a)}while(mc)}if(Df.current=id,t=Ir!==null&&Ir.next!==null,Ui=0,Vr=Ir=ur=null,od=!1,t)throw Error(le(300));return e}function Ly(){var e=zc!==0;return zc=0,e}function Ua(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vr===null?ur.memoizedState=Vr=e:Vr=Vr.next=e,Vr}function xa(){if(Ir===null){var e=ur.alternate;e=e!==null?e.memoizedState:null}else e=Ir.next;var t=Vr===null?ur.memoizedState:Vr.next;if(t!==null)Vr=t,Ir=e;else{if(e===null)throw Error(le(310));Ir=e,e={memoizedState:Ir.memoizedState,baseState:Ir.baseState,baseQueue:Ir.baseQueue,queue:Ir.queue,next:null},Vr===null?ur.memoizedState=Vr=e:Vr=Vr.next=e}return Vr}function Gc(e,t){return typeof t=="function"?t(e):t}function Yh(e){var t=xa(),r=t.queue;if(r===null)throw Error(le(311));r.lastRenderedReducer=e;var n=Ir,a=n.baseQueue,o=r.pending;if(o!==null){if(a!==null){var i=a.next;a.next=o.next,o.next=i}n.baseQueue=a=o,r.pending=null}if(a!==null){o=a.next,n=n.baseState;var s=i=null,l=null,u=o;do{var d=u.lane;if((Ui&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=f,i=n):l=l.next=f,ur.lanes|=d,Wi|=d}u=u.next}while(u!==null&&u!==o);l===null?i=n:l.next=s,Ia(n,t.memoizedState)||(Dn=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do o=a.lane,ur.lanes|=o,Wi|=o,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function qh(e){var t=xa(),r=t.queue;if(r===null)throw Error(le(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,o=t.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do o=e(o,i.action),i=i.next;while(i!==a);Ia(o,t.memoizedState)||(Dn=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function F5(){}function z5(e,t){var r=ur,n=xa(),a=t(),o=!Ia(n.memoizedState,a);if(o&&(n.memoizedState=a,Dn=!0),n=n.queue,By(W5.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||Vr!==null&&Vr.memoizedState.tag&1){if(r.flags|=2048,Uc(9,U5.bind(null,r,n,a,t),void 0,null),Yr===null)throw Error(le(349));Ui&30||G5(r,t,a)}return a}function G5(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ur.updateQueue,t===null?(t={lastEffect:null,stores:null},ur.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function U5(e,t,r,n){t.value=r,t.getSnapshot=n,X5(t)&&H5(e)}function W5(e,t,r){return r(function(){X5(t)&&H5(e)})}function X5(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ia(e,r)}catch{return!0}}function H5(e){var t=ko(e,1);t!==null&&Ra(t,e,1,-1)}function qx(e){var t=Ua();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gc,lastRenderedState:e},t.queue=e,e=e.dispatch=CP.bind(null,ur,e),[t.memoizedState,e]}function Uc(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ur.updateQueue,t===null?(t={lastEffect:null,stores:null},ur.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function V5(){return xa().memoizedState}function Rf(e,t,r,n){var a=Ua();ur.flags|=e,a.memoizedState=Uc(1|t,r,void 0,n===void 0?null:n)}function N0(e,t,r,n){var a=xa();n=n===void 0?null:n;var o=void 0;if(Ir!==null){var i=Ir.memoizedState;if(o=i.destroy,n!==null&&Ry(n,i.deps)){a.memoizedState=Uc(t,r,o,n);return}}ur.flags|=e,a.memoizedState=Uc(1|t,r,o,n)}function Zx(e,t){return Rf(8390656,8,e,t)}function By(e,t){return N0(2048,8,e,t)}function K5(e,t){return N0(4,2,e,t)}function Y5(e,t){return N0(4,4,e,t)}function q5(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Z5(e,t,r){return r=r!=null?r.concat([e]):null,N0(4,4,q5.bind(null,t,e),r)}function Fy(){}function Q5(e,t){var r=xa();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ry(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function J5(e,t){var r=xa();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ry(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function eS(e,t,r){return Ui&21?(Ia(r,t)||(r=o5(),ur.lanes|=r,Wi|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Dn=!0),e.memoizedState=r)}function PP(e,t){var r=Ot;Ot=r!==0&&4>r?r:4,e(!0);var n=Kh.transition;Kh.transition={};try{e(!1),t()}finally{Ot=r,Kh.transition=n}}function tS(){return xa().memoizedState}function OP(e,t,r){var n=ri(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},rS(e))nS(t,r);else if(r=I5(e,t,r,n),r!==null){var a=On();Ra(r,e,n,a),aS(r,t,n)}}function CP(e,t,r){var n=ri(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(rS(e))nS(t,a);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,s=o(i,r);if(a.hasEagerState=!0,a.eagerState=s,Ia(s,i)){var l=t.interleaved;l===null?(a.next=a,Ay(t)):(a.next=l.next,l.next=a),t.interleaved=a;return}}catch{}finally{}r=I5(e,t,a,n),r!==null&&(a=On(),Ra(r,e,n,a),aS(r,t,n))}}function rS(e){var t=e.alternate;return e===ur||t!==null&&t===ur}function nS(e,t){mc=od=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function aS(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,yy(e,r)}}var id={readContext:va,useCallback:ln,useContext:ln,useEffect:ln,useImperativeHandle:ln,useInsertionEffect:ln,useLayoutEffect:ln,useMemo:ln,useReducer:ln,useRef:ln,useState:ln,useDebugValue:ln,useDeferredValue:ln,useTransition:ln,useMutableSource:ln,useSyncExternalStore:ln,useId:ln,unstable_isNewReconciler:!1},MP={readContext:va,useCallback:function(e,t){return Ua().memoizedState=[e,t===void 0?null:t],e},useContext:va,useEffect:Zx,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Rf(4194308,4,q5.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Rf(4194308,4,e,t)},useInsertionEffect:function(e,t){return Rf(4,2,e,t)},useMemo:function(e,t){var r=Ua();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Ua();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=OP.bind(null,ur,e),[n.memoizedState,e]},useRef:function(e){var t=Ua();return e={current:e},t.memoizedState=e},useState:qx,useDebugValue:Fy,useDeferredValue:function(e){return Ua().memoizedState=e},useTransition:function(){var e=qx(!1),t=e[0];return e=PP.bind(null,e[1]),Ua().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ur,a=Ua();if(Jt){if(r===void 0)throw Error(le(407));r=r()}else{if(r=t(),Yr===null)throw Error(le(349));Ui&30||G5(n,t,r)}a.memoizedState=r;var o={value:r,getSnapshot:t};return a.queue=o,Zx(W5.bind(null,n,o,e),[e]),n.flags|=2048,Uc(9,U5.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=Ua(),t=Yr.identifierPrefix;if(Jt){var r=uo,n=co;r=(n&~(1<<32-Da(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=zc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=_P++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},AP={readContext:va,useCallback:Q5,useContext:va,useEffect:By,useImperativeHandle:Z5,useInsertionEffect:K5,useLayoutEffect:Y5,useMemo:J5,useReducer:Yh,useRef:V5,useState:function(){return Yh(Gc)},useDebugValue:Fy,useDeferredValue:function(e){var t=xa();return eS(t,Ir.memoizedState,e)},useTransition:function(){var e=Yh(Gc)[0],t=xa().memoizedState;return[e,t]},useMutableSource:F5,useSyncExternalStore:z5,useId:tS,unstable_isNewReconciler:!1},EP={readContext:va,useCallback:Q5,useContext:va,useEffect:By,useImperativeHandle:Z5,useInsertionEffect:K5,useLayoutEffect:Y5,useMemo:J5,useReducer:qh,useRef:V5,useState:function(){return qh(Gc)},useDebugValue:Fy,useDeferredValue:function(e){var t=xa();return Ir===null?t.memoizedState=e:eS(t,Ir.memoizedState,e)},useTransition:function(){var e=qh(Gc)[0],t=xa().memoizedState;return[e,t]},useMutableSource:F5,useSyncExternalStore:z5,useId:tS,unstable_isNewReconciler:!1};function Oa(e,t){if(e&&e.defaultProps){t=fr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function fg(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:fr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var _0={isMounted:function(e){return(e=e._reactInternals)?es(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=On(),a=ri(e),o=go(n,a);o.payload=t,r!=null&&(o.callback=r),t=ei(e,o,a),t!==null&&(Ra(t,e,a,n),$f(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=On(),a=ri(e),o=go(n,a);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=ei(e,o,a),t!==null&&(Ra(t,e,a,n),$f(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=On(),n=ri(e),a=go(r,n);a.tag=2,t!=null&&(a.callback=t),t=ei(e,a,n),t!==null&&(Ra(t,e,n,r),$f(t,e,n))}};function Qx(e,t,r,n,a,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,i):t.prototype&&t.prototype.isPureReactComponent?!Dc(r,n)||!Dc(a,o):!0}function oS(e,t,r){var n=!1,a=si,o=t.contextType;return typeof o=="object"&&o!==null?o=va(o):(a=Ln(t)?zi:pn.current,n=t.contextTypes,o=(n=n!=null)?Gs(e,a):si),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=_0,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function Jx(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&_0.enqueueReplaceState(t,t.state,null)}function dg(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Ey(e);var o=t.contextType;typeof o=="object"&&o!==null?a.context=va(o):(o=Ln(t)?zi:pn.current,a.context=Gs(e,o)),a.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(fg(e,t,o,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&_0.enqueueReplaceState(a,a.state,null),nd(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Hs(e,t){try{var r="",n=t;do r+=i_(n),n=n.return;while(n);var a=r}catch(o){a=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:a,digest:null}}function Zh(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function hg(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var TP=typeof WeakMap=="function"?WeakMap:Map;function iS(e,t,r){r=go(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){ld||(ld=!0,Sg=n),hg(e,t)},r}function sS(e,t,r){r=go(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){hg(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){hg(e,t),typeof n!="function"&&(ti===null?ti=new Set([this]):ti.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function e1(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new TP;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=VP.bind(null,e,t,r),t.then(e,e))}function t1(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function r1(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=go(-1,1),t.tag=2,ei(r,t,1))),r.lanes|=1),e)}var $P=Po.ReactCurrentOwner,Dn=!1;function _n(e,t,r,n){t.child=e===null?R5(t,null,r,n):Ws(t,e.child,r,n)}function n1(e,t,r,n,a){r=r.render;var o=t.ref;return Ds(t,a),n=Iy(e,t,r,n,o,a),r=Ly(),e!==null&&!Dn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,So(e,t,a)):(Jt&&r&&Ny(t),t.flags|=1,_n(e,t,n,a),t.child)}function a1(e,t,r,n,a){if(e===null){var o=r.type;return typeof o=="function"&&!Ky(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,lS(e,t,o,n,a)):(e=Ff(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&a)){var i=o.memoizedProps;if(r=r.compare,r=r!==null?r:Dc,r(i,n)&&e.ref===t.ref)return So(e,t,a)}return t.flags|=1,e=ni(o,n),e.ref=t.ref,e.return=t,t.child=e}function lS(e,t,r,n,a){if(e!==null){var o=e.memoizedProps;if(Dc(o,n)&&e.ref===t.ref)if(Dn=!1,t.pendingProps=n=o,(e.lanes&a)!==0)e.flags&131072&&(Dn=!0);else return t.lanes=e.lanes,So(e,t,a)}return pg(e,t,r,n,a)}function cS(e,t,r){var n=t.pendingProps,a=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Gt(Ps,Yn),Yn|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Gt(Ps,Yn),Yn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,Gt(Ps,Yn),Yn|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,Gt(Ps,Yn),Yn|=n;return _n(e,t,a,r),t.child}function uS(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function pg(e,t,r,n,a){var o=Ln(r)?zi:pn.current;return o=Gs(t,o),Ds(t,a),r=Iy(e,t,r,n,o,a),n=Ly(),e!==null&&!Dn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,So(e,t,a)):(Jt&&n&&Ny(t),t.flags|=1,_n(e,t,r,a),t.child)}function o1(e,t,r,n,a){if(Ln(r)){var o=!0;Qf(t)}else o=!1;if(Ds(t,a),t.stateNode===null)If(e,t),oS(t,r,n),dg(t,r,n,a),n=!0;else if(e===null){var i=t.stateNode,s=t.memoizedProps;i.props=s;var l=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=va(u):(u=Ln(r)?zi:pn.current,u=Gs(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(s!==n||l!==u)&&Jx(t,i,n,u),Bo=!1;var h=t.memoizedState;i.state=h,nd(t,n,i,a),l=t.memoizedState,s!==n||h!==l||In.current||Bo?(typeof d=="function"&&(fg(t,r,d,n),l=t.memoizedState),(s=Bo||Qx(t,r,s,n,h,l,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),i.props=n,i.state=l,i.context=u,n=s):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,L5(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:Oa(t.type,s),i.props=u,f=t.pendingProps,h=i.context,l=r.contextType,typeof l=="object"&&l!==null?l=va(l):(l=Ln(r)?zi:pn.current,l=Gs(t,l));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(s!==f||h!==l)&&Jx(t,i,n,l),Bo=!1,h=t.memoizedState,i.state=h,nd(t,n,i,a);var m=t.memoizedState;s!==f||h!==m||In.current||Bo?(typeof p=="function"&&(fg(t,r,p,n),m=t.memoizedState),(u=Bo||Qx(t,r,u,n,h,m,l)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,m,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,m,l)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),i.props=n,i.state=m,i.context=l,n=u):(typeof i.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return gg(e,t,r,n,o,a)}function gg(e,t,r,n,a,o){uS(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return a&&Wx(t,r,!1),So(e,t,o);n=t.stateNode,$P.current=t;var s=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=Ws(t,e.child,null,o),t.child=Ws(t,null,s,o)):_n(e,t,s,o),t.memoizedState=n.state,a&&Wx(t,r,!0),t.child}function fS(e){var t=e.stateNode;t.pendingContext?Ux(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ux(e,t.context,!1),Ty(e,t.containerInfo)}function i1(e,t,r,n,a){return Us(),Py(a),t.flags|=256,_n(e,t,r,n),t.child}var mg={dehydrated:null,treeContext:null,retryLane:0};function yg(e){return{baseLanes:e,cachePool:null,transitions:null}}function dS(e,t,r){var n=t.pendingProps,a=cr.current,o=!1,i=(t.flags&128)!==0,s;if((s=i)||(s=e!==null&&e.memoizedState===null?!1:(a&2)!==0),s?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Gt(cr,a&1),e===null)return cg(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,o?(n=t.mode,o=t.child,i={mode:"hidden",children:i},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=C0(i,n,0,null),e=Ii(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=yg(r),t.memoizedState=mg,e):zy(t,i));if(a=e.memoizedState,a!==null&&(s=a.dehydrated,s!==null))return DP(e,t,i,n,s,a,r);if(o){o=n.fallback,i=t.mode,a=e.child,s=a.sibling;var l={mode:"hidden",children:n.children};return!(i&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=ni(a,l),n.subtreeFlags=a.subtreeFlags&14680064),s!==null?o=ni(s,o):(o=Ii(o,i,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,i=e.child.memoizedState,i=i===null?yg(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~r,t.memoizedState=mg,n}return o=e.child,e=o.sibling,n=ni(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function zy(e,t){return t=C0({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function cf(e,t,r,n){return n!==null&&Py(n),Ws(t,e.child,null,r),e=zy(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function DP(e,t,r,n,a,o,i){if(r)return t.flags&256?(t.flags&=-257,n=Zh(Error(le(422))),cf(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,a=t.mode,n=C0({mode:"visible",children:n.children},a,0,null),o=Ii(o,a,i,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&Ws(t,e.child,null,i),t.child.memoizedState=yg(i),t.memoizedState=mg,o);if(!(t.mode&1))return cf(e,t,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var s=n.dgst;return n=s,o=Error(le(419)),n=Zh(o,n,void 0),cf(e,t,i,n)}if(s=(i&e.childLanes)!==0,Dn||s){if(n=Yr,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==o.retryLane&&(o.retryLane=a,ko(e,a),Ra(n,e,a,-1))}return Vy(),n=Zh(Error(le(421))),cf(e,t,i,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=KP.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,Qn=Jo(a.nextSibling),Jn=t,Jt=!0,Ea=null,e!==null&&(fa[da++]=co,fa[da++]=uo,fa[da++]=Gi,co=e.id,uo=e.overflow,Gi=t),t=zy(t,n.children),t.flags|=4096,t)}function s1(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),ug(e.return,t,r)}function Qh(e,t,r,n,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=a)}function hS(e,t,r){var n=t.pendingProps,a=n.revealOrder,o=n.tail;if(_n(e,t,n.children,r),n=cr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&s1(e,r,t);else if(e.tag===19)s1(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Gt(cr,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&ad(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Qh(t,!1,a,r,o);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&ad(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Qh(t,!0,r,null,o);break;case"together":Qh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function If(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function So(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Wi|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(le(153));if(t.child!==null){for(e=t.child,r=ni(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ni(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function RP(e,t,r){switch(t.tag){case 3:fS(t),Us();break;case 5:B5(t);break;case 1:Ln(t.type)&&Qf(t);break;case 4:Ty(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Gt(td,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Gt(cr,cr.current&1),t.flags|=128,null):r&t.child.childLanes?dS(e,t,r):(Gt(cr,cr.current&1),e=So(e,t,r),e!==null?e.sibling:null);Gt(cr,cr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return hS(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Gt(cr,cr.current),n)break;return null;case 22:case 23:return t.lanes=0,cS(e,t,r)}return So(e,t,r)}var pS,vg,gS,mS;pS=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};vg=function(){};gS=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Mi(Ka.current);var o=null;switch(r){case"input":a=Fp(e,a),n=Fp(e,n),o=[];break;case"select":a=fr({},a,{value:void 0}),n=fr({},n,{value:void 0}),o=[];break;case"textarea":a=Up(e,a),n=Up(e,n),o=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=qf)}Xp(r,n);var i;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var s=a[u];for(i in s)s.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Oc.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var l=n[u];if(s=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(i in s)!s.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in l)l.hasOwnProperty(i)&&s[i]!==l[i]&&(r||(r={}),r[i]=l[i])}else r||(o||(o=[]),o.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Oc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Vt("scroll",e),o||s===l||(o=[])):(o=o||[]).push(u,l))}r&&(o=o||[]).push("style",r);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};mS=function(e,t,r,n){r!==n&&(t.flags|=4)};function Vl(e,t){if(!Jt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function cn(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function IP(e,t,r){var n=t.pendingProps;switch(_y(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return cn(t),null;case 1:return Ln(t.type)&&Zf(),cn(t),null;case 3:return n=t.stateNode,Xs(),qt(In),qt(pn),Dy(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(sf(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ea!==null&&(_g(Ea),Ea=null))),vg(e,t),cn(t),null;case 5:$y(t);var a=Mi(Fc.current);if(r=t.type,e!==null&&t.stateNode!=null)gS(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(le(166));return cn(t),null}if(e=Mi(Ka.current),sf(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[Wa]=t,n[Lc]=o,e=(t.mode&1)!==0,r){case"dialog":Vt("cancel",n),Vt("close",n);break;case"iframe":case"object":case"embed":Vt("load",n);break;case"video":case"audio":for(a=0;a<lc.length;a++)Vt(lc[a],n);break;case"source":Vt("error",n);break;case"img":case"image":case"link":Vt("error",n),Vt("load",n);break;case"details":Vt("toggle",n);break;case"input":mx(n,o),Vt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Vt("invalid",n);break;case"textarea":vx(n,o),Vt("invalid",n)}Xp(r,o),a=null;for(var i in o)if(o.hasOwnProperty(i)){var s=o[i];i==="children"?typeof s=="string"?n.textContent!==s&&(o.suppressHydrationWarning!==!0&&of(n.textContent,s,e),a=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&of(n.textContent,s,e),a=["children",""+s]):Oc.hasOwnProperty(i)&&s!=null&&i==="onScroll"&&Vt("scroll",n)}switch(r){case"input":Zu(n),yx(n,o,!0);break;case"textarea":Zu(n),xx(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=qf)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Wk(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[Wa]=t,e[Lc]=n,pS(e,t,!1,!1),t.stateNode=e;e:{switch(i=Hp(r,n),r){case"dialog":Vt("cancel",e),Vt("close",e),a=n;break;case"iframe":case"object":case"embed":Vt("load",e),a=n;break;case"video":case"audio":for(a=0;a<lc.length;a++)Vt(lc[a],e);a=n;break;case"source":Vt("error",e),a=n;break;case"img":case"image":case"link":Vt("error",e),Vt("load",e),a=n;break;case"details":Vt("toggle",e),a=n;break;case"input":mx(e,n),a=Fp(e,n),Vt("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=fr({},n,{value:void 0}),Vt("invalid",e);break;case"textarea":vx(e,n),a=Up(e,n),Vt("invalid",e);break;default:a=n}Xp(r,a),s=a;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?Vk(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Xk(e,l)):o==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Cc(e,l):typeof l=="number"&&Cc(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Oc.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Vt("scroll",e):l!=null&&fy(e,o,l,i))}switch(r){case"input":Zu(e),yx(e,n,!1);break;case"textarea":Zu(e),xx(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ii(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?As(e,!!n.multiple,o,!1):n.defaultValue!=null&&As(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=qf)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return cn(t),null;case 6:if(e&&t.stateNode!=null)mS(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(le(166));if(r=Mi(Fc.current),Mi(Ka.current),sf(t)){if(n=t.stateNode,r=t.memoizedProps,n[Wa]=t,(o=n.nodeValue!==r)&&(e=Jn,e!==null))switch(e.tag){case 3:of(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&of(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Wa]=t,t.stateNode=n}return cn(t),null;case 13:if(qt(cr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Jt&&Qn!==null&&t.mode&1&&!(t.flags&128))$5(),Us(),t.flags|=98560,o=!1;else if(o=sf(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(le(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(le(317));o[Wa]=t}else Us(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;cn(t),o=!1}else Ea!==null&&(_g(Ea),Ea=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||cr.current&1?Lr===0&&(Lr=3):Vy())),t.updateQueue!==null&&(t.flags|=4),cn(t),null);case 4:return Xs(),vg(e,t),e===null&&Rc(t.stateNode.containerInfo),cn(t),null;case 10:return My(t.type._context),cn(t),null;case 17:return Ln(t.type)&&Zf(),cn(t),null;case 19:if(qt(cr),o=t.memoizedState,o===null)return cn(t),null;if(n=(t.flags&128)!==0,i=o.rendering,i===null)if(n)Vl(o,!1);else{if(Lr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=ad(e),i!==null){for(t.flags|=128,Vl(o,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Gt(cr,cr.current&1|2),t.child}e=e.sibling}o.tail!==null&&Sr()>Vs&&(t.flags|=128,n=!0,Vl(o,!1),t.lanes=4194304)}else{if(!n)if(e=ad(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Vl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!Jt)return cn(t),null}else 2*Sr()-o.renderingStartTime>Vs&&r!==1073741824&&(t.flags|=128,n=!0,Vl(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(r=o.last,r!==null?r.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Sr(),t.sibling=null,r=cr.current,Gt(cr,n?r&1|2:r&1),t):(cn(t),null);case 22:case 23:return Hy(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Yn&1073741824&&(cn(t),t.subtreeFlags&6&&(t.flags|=8192)):cn(t),null;case 24:return null;case 25:return null}throw Error(le(156,t.tag))}function LP(e,t){switch(_y(t),t.tag){case 1:return Ln(t.type)&&Zf(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Xs(),qt(In),qt(pn),Dy(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return $y(t),null;case 13:if(qt(cr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(le(340));Us()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return qt(cr),null;case 4:return Xs(),null;case 10:return My(t.type._context),null;case 22:case 23:return Hy(),null;case 24:return null;default:return null}}var uf=!1,dn=!1,BP=typeof WeakSet=="function"?WeakSet:Set,je=null;function _s(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){gr(e,t,n)}else r.current=null}function xg(e,t,r){try{r()}catch(n){gr(e,t,n)}}var l1=!1;function FP(e,t){if(rg=Vf,e=w5(),jy(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var i=0,s=-1,l=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||a!==0&&f.nodeType!==3||(s=i+a),f!==o||n!==0&&f.nodeType!==3||(l=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++u===a&&(s=i),h===o&&++d===n&&(l=i),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=s===-1||l===-1?null:{start:s,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(ng={focusedElem:e,selectionRange:r},Vf=!1,je=t;je!==null;)if(t=je,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,je=e;else for(;je!==null;){t=je;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var x=m.memoizedProps,w=m.memoizedState,v=t.stateNode,g=v.getSnapshotBeforeUpdate(t.elementType===t.type?x:Oa(t.type,x),w);v.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(le(163))}}catch(k){gr(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,je=e;break}je=t.return}return m=l1,l1=!1,m}function yc(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,o!==void 0&&xg(t,r,o)}a=a.next}while(a!==n)}}function P0(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function bg(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function yS(e){var t=e.alternate;t!==null&&(e.alternate=null,yS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Wa],delete t[Lc],delete t[ig],delete t[kP],delete t[SP])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function vS(e){return e.tag===5||e.tag===3||e.tag===4}function c1(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||vS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function wg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=qf));else if(n!==4&&(e=e.child,e!==null))for(wg(e,t,r),e=e.sibling;e!==null;)wg(e,t,r),e=e.sibling}function kg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(kg(e,t,r),e=e.sibling;e!==null;)kg(e,t,r),e=e.sibling}var en=null,Ca=!1;function Ro(e,t,r){for(r=r.child;r!==null;)xS(e,t,r),r=r.sibling}function xS(e,t,r){if(Va&&typeof Va.onCommitFiberUnmount=="function")try{Va.onCommitFiberUnmount(x0,r)}catch{}switch(r.tag){case 5:dn||_s(r,t);case 6:var n=en,a=Ca;en=null,Ro(e,t,r),en=n,Ca=a,en!==null&&(Ca?(e=en,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):en.removeChild(r.stateNode));break;case 18:en!==null&&(Ca?(e=en,r=r.stateNode,e.nodeType===8?Xh(e.parentNode,r):e.nodeType===1&&Xh(e,r),Tc(e)):Xh(en,r.stateNode));break;case 4:n=en,a=Ca,en=r.stateNode.containerInfo,Ca=!0,Ro(e,t,r),en=n,Ca=a;break;case 0:case 11:case 14:case 15:if(!dn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var o=a,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&xg(r,t,i),a=a.next}while(a!==n)}Ro(e,t,r);break;case 1:if(!dn&&(_s(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){gr(r,t,s)}Ro(e,t,r);break;case 21:Ro(e,t,r);break;case 22:r.mode&1?(dn=(n=dn)||r.memoizedState!==null,Ro(e,t,r),dn=n):Ro(e,t,r);break;default:Ro(e,t,r)}}function u1(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new BP),t.forEach(function(n){var a=YP.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function _a(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var o=e,i=t,s=i;e:for(;s!==null;){switch(s.tag){case 5:en=s.stateNode,Ca=!1;break e;case 3:en=s.stateNode.containerInfo,Ca=!0;break e;case 4:en=s.stateNode.containerInfo,Ca=!0;break e}s=s.return}if(en===null)throw Error(le(160));xS(o,i,a),en=null,Ca=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(u){gr(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)bS(t,e),t=t.sibling}function bS(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(_a(t,e),Ga(e),n&4){try{yc(3,e,e.return),P0(3,e)}catch(x){gr(e,e.return,x)}try{yc(5,e,e.return)}catch(x){gr(e,e.return,x)}}break;case 1:_a(t,e),Ga(e),n&512&&r!==null&&_s(r,r.return);break;case 5:if(_a(t,e),Ga(e),n&512&&r!==null&&_s(r,r.return),e.flags&32){var a=e.stateNode;try{Cc(a,"")}catch(x){gr(e,e.return,x)}}if(n&4&&(a=e.stateNode,a!=null)){var o=e.memoizedProps,i=r!==null?r.memoizedProps:o,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&Gk(a,o),Hp(s,i);var u=Hp(s,o);for(i=0;i<l.length;i+=2){var d=l[i],f=l[i+1];d==="style"?Vk(a,f):d==="dangerouslySetInnerHTML"?Xk(a,f):d==="children"?Cc(a,f):fy(a,d,f,u)}switch(s){case"input":zp(a,o);break;case"textarea":Uk(a,o);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?As(a,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?As(a,!!o.multiple,o.defaultValue,!0):As(a,!!o.multiple,o.multiple?[]:"",!1))}a[Lc]=o}catch(x){gr(e,e.return,x)}}break;case 6:if(_a(t,e),Ga(e),n&4){if(e.stateNode===null)throw Error(le(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(x){gr(e,e.return,x)}}break;case 3:if(_a(t,e),Ga(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Tc(t.containerInfo)}catch(x){gr(e,e.return,x)}break;case 4:_a(t,e),Ga(e);break;case 13:_a(t,e),Ga(e),a=e.child,a.flags&8192&&(o=a.memoizedState!==null,a.stateNode.isHidden=o,!o||a.alternate!==null&&a.alternate.memoizedState!==null||(Wy=Sr())),n&4&&u1(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(dn=(u=dn)||d,_a(t,e),dn=u):_a(t,e),Ga(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(je=e,d=e.child;d!==null;){for(f=je=d;je!==null;){switch(h=je,p=h.child,h.tag){case 0:case 11:case 14:case 15:yc(4,h,h.return);break;case 1:_s(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(x){gr(n,r,x)}}break;case 5:_s(h,h.return);break;case 22:if(h.memoizedState!==null){d1(f);continue}}p!==null?(p.return=h,je=p):d1(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=f.stateNode,l=f.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=Hk("display",i))}catch(x){gr(e,e.return,x)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(x){gr(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:_a(t,e),Ga(e),n&4&&u1(e);break;case 21:break;default:_a(t,e),Ga(e)}}function Ga(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(vS(r)){var n=r;break e}r=r.return}throw Error(le(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Cc(a,""),n.flags&=-33);var o=c1(e);kg(e,o,a);break;case 3:case 4:var i=n.stateNode.containerInfo,s=c1(e);wg(e,s,i);break;default:throw Error(le(161))}}catch(l){gr(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function zP(e,t,r){je=e,wS(e)}function wS(e,t,r){for(var n=(e.mode&1)!==0;je!==null;){var a=je,o=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||uf;if(!i){var s=a.alternate,l=s!==null&&s.memoizedState!==null||dn;s=uf;var u=dn;if(uf=i,(dn=l)&&!u)for(je=a;je!==null;)i=je,l=i.child,i.tag===22&&i.memoizedState!==null?h1(a):l!==null?(l.return=i,je=l):h1(a);for(;o!==null;)je=o,wS(o),o=o.sibling;je=a,uf=s,dn=u}f1(e)}else a.subtreeFlags&8772&&o!==null?(o.return=a,je=o):f1(e)}}function f1(e){for(;je!==null;){var t=je;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:dn||P0(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!dn)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Oa(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Yx(t,o,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Yx(t,i,r)}break;case 5:var s=t.stateNode;if(r===null&&t.flags&4){r=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Tc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(le(163))}dn||t.flags&512&&bg(t)}catch(h){gr(t,t.return,h)}}if(t===e){je=null;break}if(r=t.sibling,r!==null){r.return=t.return,je=r;break}je=t.return}}function d1(e){for(;je!==null;){var t=je;if(t===e){je=null;break}var r=t.sibling;if(r!==null){r.return=t.return,je=r;break}je=t.return}}function h1(e){for(;je!==null;){var t=je;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{P0(4,t)}catch(l){gr(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(l){gr(t,a,l)}}var o=t.return;try{bg(t)}catch(l){gr(t,o,l)}break;case 5:var i=t.return;try{bg(t)}catch(l){gr(t,i,l)}}}catch(l){gr(t,t.return,l)}if(t===e){je=null;break}var s=t.sibling;if(s!==null){s.return=t.return,je=s;break}je=t.return}}var GP=Math.ceil,sd=Po.ReactCurrentDispatcher,Gy=Po.ReactCurrentOwner,ma=Po.ReactCurrentBatchConfig,ft=0,Yr=null,Cr=null,nn=0,Yn=0,Ps=ci(0),Lr=0,Wc=null,Wi=0,O0=0,Uy=0,vc=null,$n=null,Wy=0,Vs=1/0,so=null,ld=!1,Sg=null,ti=null,ff=!1,Xo=null,cd=0,xc=0,jg=null,Lf=-1,Bf=0;function On(){return ft&6?Sr():Lf!==-1?Lf:Lf=Sr()}function ri(e){return e.mode&1?ft&2&&nn!==0?nn&-nn:NP.transition!==null?(Bf===0&&(Bf=o5()),Bf):(e=Ot,e!==0||(e=window.event,e=e===void 0?16:d5(e.type)),e):1}function Ra(e,t,r,n){if(50<xc)throw xc=0,jg=null,Error(le(185));Cu(e,r,n),(!(ft&2)||e!==Yr)&&(e===Yr&&(!(ft&2)&&(O0|=r),Lr===4&&Go(e,nn)),Bn(e,n),r===1&&ft===0&&!(t.mode&1)&&(Vs=Sr()+500,j0&&ui()))}function Bn(e,t){var r=e.callbackNode;N_(e,t);var n=Hf(e,e===Yr?nn:0);if(n===0)r!==null&&kx(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&kx(r),t===1)e.tag===0?jP(p1.bind(null,e)):A5(p1.bind(null,e)),bP(function(){!(ft&6)&&ui()}),r=null;else{switch(i5(n)){case 1:r=my;break;case 4:r=n5;break;case 16:r=Xf;break;case 536870912:r=a5;break;default:r=Xf}r=CS(r,kS.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function kS(e,t){if(Lf=-1,Bf=0,ft&6)throw Error(le(327));var r=e.callbackNode;if(Rs()&&e.callbackNode!==r)return null;var n=Hf(e,e===Yr?nn:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=ud(e,n);else{t=n;var a=ft;ft|=2;var o=jS();(Yr!==e||nn!==t)&&(so=null,Vs=Sr()+500,Ri(e,t));do try{XP();break}catch(s){SS(e,s)}while(!0);Cy(),sd.current=o,ft=a,Cr!==null?t=0:(Yr=null,nn=0,t=Lr)}if(t!==0){if(t===2&&(a=Zp(e),a!==0&&(n=a,t=Ng(e,a))),t===1)throw r=Wc,Ri(e,0),Go(e,n),Bn(e,Sr()),r;if(t===6)Go(e,n);else{if(a=e.current.alternate,!(n&30)&&!UP(a)&&(t=ud(e,n),t===2&&(o=Zp(e),o!==0&&(n=o,t=Ng(e,o))),t===1))throw r=Wc,Ri(e,0),Go(e,n),Bn(e,Sr()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(le(345));case 2:ji(e,$n,so);break;case 3:if(Go(e,n),(n&130023424)===n&&(t=Wy+500-Sr(),10<t)){if(Hf(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){On(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=og(ji.bind(null,e,$n,so),t);break}ji(e,$n,so);break;case 4:if(Go(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var i=31-Da(n);o=1<<i,i=t[i],i>a&&(a=i),n&=~o}if(n=a,n=Sr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*GP(n/1960))-n,10<n){e.timeoutHandle=og(ji.bind(null,e,$n,so),n);break}ji(e,$n,so);break;case 5:ji(e,$n,so);break;default:throw Error(le(329))}}}return Bn(e,Sr()),e.callbackNode===r?kS.bind(null,e):null}function Ng(e,t){var r=vc;return e.current.memoizedState.isDehydrated&&(Ri(e,t).flags|=256),e=ud(e,t),e!==2&&(t=$n,$n=r,t!==null&&_g(t)),e}function _g(e){$n===null?$n=e:$n.push.apply($n,e)}function UP(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],o=a.getSnapshot;a=a.value;try{if(!Ia(o(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Go(e,t){for(t&=~Uy,t&=~O0,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Da(t),n=1<<r;e[r]=-1,t&=~n}}function p1(e){if(ft&6)throw Error(le(327));Rs();var t=Hf(e,0);if(!(t&1))return Bn(e,Sr()),null;var r=ud(e,t);if(e.tag!==0&&r===2){var n=Zp(e);n!==0&&(t=n,r=Ng(e,n))}if(r===1)throw r=Wc,Ri(e,0),Go(e,t),Bn(e,Sr()),r;if(r===6)throw Error(le(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ji(e,$n,so),Bn(e,Sr()),null}function Xy(e,t){var r=ft;ft|=1;try{return e(t)}finally{ft=r,ft===0&&(Vs=Sr()+500,j0&&ui())}}function Xi(e){Xo!==null&&Xo.tag===0&&!(ft&6)&&Rs();var t=ft;ft|=1;var r=ma.transition,n=Ot;try{if(ma.transition=null,Ot=1,e)return e()}finally{Ot=n,ma.transition=r,ft=t,!(ft&6)&&ui()}}function Hy(){Yn=Ps.current,qt(Ps)}function Ri(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,xP(r)),Cr!==null)for(r=Cr.return;r!==null;){var n=r;switch(_y(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Zf();break;case 3:Xs(),qt(In),qt(pn),Dy();break;case 5:$y(n);break;case 4:Xs();break;case 13:qt(cr);break;case 19:qt(cr);break;case 10:My(n.type._context);break;case 22:case 23:Hy()}r=r.return}if(Yr=e,Cr=e=ni(e.current,null),nn=Yn=t,Lr=0,Wc=null,Uy=O0=Wi=0,$n=vc=null,Ci!==null){for(t=0;t<Ci.length;t++)if(r=Ci[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,o=r.pending;if(o!==null){var i=o.next;o.next=a,n.next=i}r.pending=n}Ci=null}return e}function SS(e,t){do{var r=Cr;try{if(Cy(),Df.current=id,od){for(var n=ur.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}od=!1}if(Ui=0,Vr=Ir=ur=null,mc=!1,zc=0,Gy.current=null,r===null||r.return===null){Lr=1,Wc=t,Cr=null;break}e:{var o=e,i=r.return,s=r,l=t;if(t=nn,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=s,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=t1(i);if(p!==null){p.flags&=-257,r1(p,i,s,o,t),p.mode&1&&e1(o,u,t),t=p,l=u;var m=t.updateQueue;if(m===null){var x=new Set;x.add(l),t.updateQueue=x}else m.add(l);break e}else{if(!(t&1)){e1(o,u,t),Vy();break e}l=Error(le(426))}}else if(Jt&&s.mode&1){var w=t1(i);if(w!==null){!(w.flags&65536)&&(w.flags|=256),r1(w,i,s,o,t),Py(Hs(l,s));break e}}o=l=Hs(l,s),Lr!==4&&(Lr=2),vc===null?vc=[o]:vc.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var v=iS(o,l,t);Kx(o,v);break e;case 1:s=l;var g=o.type,y=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ti===null||!ti.has(y)))){o.flags|=65536,t&=-t,o.lanes|=t;var k=sS(o,s,t);Kx(o,k);break e}}o=o.return}while(o!==null)}_S(r)}catch(b){t=b,Cr===r&&r!==null&&(Cr=r=r.return);continue}break}while(!0)}function jS(){var e=sd.current;return sd.current=id,e===null?id:e}function Vy(){(Lr===0||Lr===3||Lr===2)&&(Lr=4),Yr===null||!(Wi&268435455)&&!(O0&268435455)||Go(Yr,nn)}function ud(e,t){var r=ft;ft|=2;var n=jS();(Yr!==e||nn!==t)&&(so=null,Ri(e,t));do try{WP();break}catch(a){SS(e,a)}while(!0);if(Cy(),ft=r,sd.current=n,Cr!==null)throw Error(le(261));return Yr=null,nn=0,Lr}function WP(){for(;Cr!==null;)NS(Cr)}function XP(){for(;Cr!==null&&!m_();)NS(Cr)}function NS(e){var t=OS(e.alternate,e,Yn);e.memoizedProps=e.pendingProps,t===null?_S(e):Cr=t,Gy.current=null}function _S(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=LP(r,t),r!==null){r.flags&=32767,Cr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Lr=6,Cr=null;return}}else if(r=IP(r,t,Yn),r!==null){Cr=r;return}if(t=t.sibling,t!==null){Cr=t;return}Cr=t=e}while(t!==null);Lr===0&&(Lr=5)}function ji(e,t,r){var n=Ot,a=ma.transition;try{ma.transition=null,Ot=1,HP(e,t,r,n)}finally{ma.transition=a,Ot=n}return null}function HP(e,t,r,n){do Rs();while(Xo!==null);if(ft&6)throw Error(le(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(le(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(__(e,o),e===Yr&&(Cr=Yr=null,nn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ff||(ff=!0,CS(Xf,function(){return Rs(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=ma.transition,ma.transition=null;var i=Ot;Ot=1;var s=ft;ft|=4,Gy.current=null,FP(e,r),bS(r,e),dP(ng),Vf=!!rg,ng=rg=null,e.current=r,zP(r),y_(),ft=s,Ot=i,ma.transition=o}else e.current=r;if(ff&&(ff=!1,Xo=e,cd=a),o=e.pendingLanes,o===0&&(ti=null),b_(r.stateNode),Bn(e,Sr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(ld)throw ld=!1,e=Sg,Sg=null,e;return cd&1&&e.tag!==0&&Rs(),o=e.pendingLanes,o&1?e===jg?xc++:(xc=0,jg=e):xc=0,ui(),null}function Rs(){if(Xo!==null){var e=i5(cd),t=ma.transition,r=Ot;try{if(ma.transition=null,Ot=16>e?16:e,Xo===null)var n=!1;else{if(e=Xo,Xo=null,cd=0,ft&6)throw Error(le(331));var a=ft;for(ft|=4,je=e.current;je!==null;){var o=je,i=o.child;if(je.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(je=u;je!==null;){var d=je;switch(d.tag){case 0:case 11:case 15:yc(8,d,o)}var f=d.child;if(f!==null)f.return=d,je=f;else for(;je!==null;){d=je;var h=d.sibling,p=d.return;if(yS(d),d===u){je=null;break}if(h!==null){h.return=p,je=h;break}je=p}}}var m=o.alternate;if(m!==null){var x=m.child;if(x!==null){m.child=null;do{var w=x.sibling;x.sibling=null,x=w}while(x!==null)}}je=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,je=i;else e:for(;je!==null;){if(o=je,o.flags&2048)switch(o.tag){case 0:case 11:case 15:yc(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,je=v;break e}je=o.return}}var g=e.current;for(je=g;je!==null;){i=je;var y=i.child;if(i.subtreeFlags&2064&&y!==null)y.return=i,je=y;else e:for(i=g;je!==null;){if(s=je,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:P0(9,s)}}catch(b){gr(s,s.return,b)}if(s===i){je=null;break e}var k=s.sibling;if(k!==null){k.return=s.return,je=k;break e}je=s.return}}if(ft=a,ui(),Va&&typeof Va.onPostCommitFiberRoot=="function")try{Va.onPostCommitFiberRoot(x0,e)}catch{}n=!0}return n}finally{Ot=r,ma.transition=t}}return!1}function g1(e,t,r){t=Hs(r,t),t=iS(e,t,1),e=ei(e,t,1),t=On(),e!==null&&(Cu(e,1,t),Bn(e,t))}function gr(e,t,r){if(e.tag===3)g1(e,e,r);else for(;t!==null;){if(t.tag===3){g1(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ti===null||!ti.has(n))){e=Hs(r,e),e=sS(t,e,1),t=ei(t,e,1),e=On(),t!==null&&(Cu(t,1,e),Bn(t,e));break}}t=t.return}}function VP(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=On(),e.pingedLanes|=e.suspendedLanes&r,Yr===e&&(nn&r)===r&&(Lr===4||Lr===3&&(nn&130023424)===nn&&500>Sr()-Wy?Ri(e,0):Uy|=r),Bn(e,t)}function PS(e,t){t===0&&(e.mode&1?(t=ef,ef<<=1,!(ef&130023424)&&(ef=4194304)):t=1);var r=On();e=ko(e,t),e!==null&&(Cu(e,t,r),Bn(e,r))}function KP(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),PS(e,r)}function YP(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(le(314))}n!==null&&n.delete(t),PS(e,r)}var OS;OS=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||In.current)Dn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Dn=!1,RP(e,t,r);Dn=!!(e.flags&131072)}else Dn=!1,Jt&&t.flags&1048576&&E5(t,ed,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;If(e,t),e=t.pendingProps;var a=Gs(t,pn.current);Ds(t,r),a=Iy(null,t,n,e,a,r);var o=Ly();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ln(n)?(o=!0,Qf(t)):o=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Ey(t),a.updater=_0,t.stateNode=a,a._reactInternals=t,dg(t,n,e,r),t=gg(null,t,n,!0,o,r)):(t.tag=0,Jt&&o&&Ny(t),_n(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(If(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=ZP(n),e=Oa(n,e),a){case 0:t=pg(null,t,n,e,r);break e;case 1:t=o1(null,t,n,e,r);break e;case 11:t=n1(null,t,n,e,r);break e;case 14:t=a1(null,t,n,Oa(n.type,e),r);break e}throw Error(le(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Oa(n,a),pg(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Oa(n,a),o1(e,t,n,a,r);case 3:e:{if(fS(t),e===null)throw Error(le(387));n=t.pendingProps,o=t.memoizedState,a=o.element,L5(e,t),nd(t,n,null,r);var i=t.memoizedState;if(n=i.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){a=Hs(Error(le(423)),t),t=i1(e,t,n,r,a);break e}else if(n!==a){a=Hs(Error(le(424)),t),t=i1(e,t,n,r,a);break e}else for(Qn=Jo(t.stateNode.containerInfo.firstChild),Jn=t,Jt=!0,Ea=null,r=R5(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Us(),n===a){t=So(e,t,r);break e}_n(e,t,n,r)}t=t.child}return t;case 5:return B5(t),e===null&&cg(t),n=t.type,a=t.pendingProps,o=e!==null?e.memoizedProps:null,i=a.children,ag(n,a)?i=null:o!==null&&ag(n,o)&&(t.flags|=32),uS(e,t),_n(e,t,i,r),t.child;case 6:return e===null&&cg(t),null;case 13:return dS(e,t,r);case 4:return Ty(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ws(t,null,n,r):_n(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Oa(n,a),n1(e,t,n,a,r);case 7:return _n(e,t,t.pendingProps,r),t.child;case 8:return _n(e,t,t.pendingProps.children,r),t.child;case 12:return _n(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,o=t.memoizedProps,i=a.value,Gt(td,n._currentValue),n._currentValue=i,o!==null)if(Ia(o.value,i)){if(o.children===a.children&&!In.current){t=So(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var s=o.dependencies;if(s!==null){i=o.child;for(var l=s.firstContext;l!==null;){if(l.context===n){if(o.tag===1){l=go(-1,r&-r),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),ug(o.return,r,t),s.lanes|=r;break}l=l.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(le(341));i.lanes|=r,s=i.alternate,s!==null&&(s.lanes|=r),ug(i,r,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}_n(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Ds(t,r),a=va(a),n=n(a),t.flags|=1,_n(e,t,n,r),t.child;case 14:return n=t.type,a=Oa(n,t.pendingProps),a=Oa(n.type,a),a1(e,t,n,a,r);case 15:return lS(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Oa(n,a),If(e,t),t.tag=1,Ln(n)?(e=!0,Qf(t)):e=!1,Ds(t,r),oS(t,n,a),dg(t,n,a,r),gg(null,t,n,!0,e,r);case 19:return hS(e,t,r);case 22:return cS(e,t,r)}throw Error(le(156,t.tag))};function CS(e,t){return r5(e,t)}function qP(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ha(e,t,r,n){return new qP(e,t,r,n)}function Ky(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ZP(e){if(typeof e=="function")return Ky(e)?1:0;if(e!=null){if(e=e.$$typeof,e===hy)return 11;if(e===py)return 14}return 2}function ni(e,t){var r=e.alternate;return r===null?(r=ha(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ff(e,t,r,n,a,o){var i=2;if(n=e,typeof e=="function")Ky(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case ys:return Ii(r.children,a,o,t);case dy:i=8,a|=8;break;case Rp:return e=ha(12,r,t,a|2),e.elementType=Rp,e.lanes=o,e;case Ip:return e=ha(13,r,t,a),e.elementType=Ip,e.lanes=o,e;case Lp:return e=ha(19,r,t,a),e.elementType=Lp,e.lanes=o,e;case Bk:return C0(r,a,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ik:i=10;break e;case Lk:i=9;break e;case hy:i=11;break e;case py:i=14;break e;case Lo:i=16,n=null;break e}throw Error(le(130,e==null?e:typeof e,""))}return t=ha(i,r,t,a),t.elementType=e,t.type=n,t.lanes=o,t}function Ii(e,t,r,n){return e=ha(7,e,n,t),e.lanes=r,e}function C0(e,t,r,n){return e=ha(22,e,n,t),e.elementType=Bk,e.lanes=r,e.stateNode={isHidden:!1},e}function Jh(e,t,r){return e=ha(6,e,null,t),e.lanes=r,e}function ep(e,t,r){return t=ha(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function QP(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$h(0),this.expirationTimes=$h(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$h(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Yy(e,t,r,n,a,o,i,s,l){return e=new QP(e,t,r,s,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=ha(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ey(o),e}function JP(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ms,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function MS(e){if(!e)return si;e=e._reactInternals;e:{if(es(e)!==e||e.tag!==1)throw Error(le(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ln(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(le(171))}if(e.tag===1){var r=e.type;if(Ln(r))return M5(e,r,t)}return t}function AS(e,t,r,n,a,o,i,s,l){return e=Yy(r,n,!0,e,a,o,i,s,l),e.context=MS(null),r=e.current,n=On(),a=ri(r),o=go(n,a),o.callback=t??null,ei(r,o,a),e.current.lanes=a,Cu(e,a,n),Bn(e,n),e}function M0(e,t,r,n){var a=t.current,o=On(),i=ri(a);return r=MS(r),t.context===null?t.context=r:t.pendingContext=r,t=go(o,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ei(a,t,i),e!==null&&(Ra(e,a,i,o),$f(e,a,i)),i}function fd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function m1(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function qy(e,t){m1(e,t),(e=e.alternate)&&m1(e,t)}function eO(){return null}var ES=typeof reportError=="function"?reportError:function(e){console.error(e)};function Zy(e){this._internalRoot=e}A0.prototype.render=Zy.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(le(409));M0(e,t,null,null)};A0.prototype.unmount=Zy.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Xi(function(){M0(null,e,null,null)}),t[wo]=null}};function A0(e){this._internalRoot=e}A0.prototype.unstable_scheduleHydration=function(e){if(e){var t=c5();e={blockedOn:null,target:e,priority:t};for(var r=0;r<zo.length&&t!==0&&t<zo[r].priority;r++);zo.splice(r,0,e),r===0&&f5(e)}};function Qy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function E0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function y1(){}function tO(e,t,r,n,a){if(a){if(typeof n=="function"){var o=n;n=function(){var u=fd(i);o.call(u)}}var i=AS(t,n,e,0,null,!1,!1,"",y1);return e._reactRootContainer=i,e[wo]=i.current,Rc(e.nodeType===8?e.parentNode:e),Xi(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var s=n;n=function(){var u=fd(l);s.call(u)}}var l=Yy(e,0,!1,null,null,!1,!1,"",y1);return e._reactRootContainer=l,e[wo]=l.current,Rc(e.nodeType===8?e.parentNode:e),Xi(function(){M0(t,l,r,n)}),l}function T0(e,t,r,n,a){var o=r._reactRootContainer;if(o){var i=o;if(typeof a=="function"){var s=a;a=function(){var l=fd(i);s.call(l)}}M0(t,i,e,a)}else i=tO(r,t,e,a,n);return fd(i)}s5=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=sc(t.pendingLanes);r!==0&&(yy(t,r|1),Bn(t,Sr()),!(ft&6)&&(Vs=Sr()+500,ui()))}break;case 13:Xi(function(){var n=ko(e,1);if(n!==null){var a=On();Ra(n,e,1,a)}}),qy(e,1)}};vy=function(e){if(e.tag===13){var t=ko(e,134217728);if(t!==null){var r=On();Ra(t,e,134217728,r)}qy(e,134217728)}};l5=function(e){if(e.tag===13){var t=ri(e),r=ko(e,t);if(r!==null){var n=On();Ra(r,e,t,n)}qy(e,t)}};c5=function(){return Ot};u5=function(e,t){var r=Ot;try{return Ot=e,t()}finally{Ot=r}};Kp=function(e,t,r){switch(t){case"input":if(zp(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=S0(n);if(!a)throw Error(le(90));zk(n),zp(n,a)}}}break;case"textarea":Uk(e,r);break;case"select":t=r.value,t!=null&&As(e,!!r.multiple,t,!1)}};qk=Xy;Zk=Xi;var rO={usingClientEntryPoint:!1,Events:[Au,ws,S0,Kk,Yk,Xy]},Kl={findFiberByHostInstance:Oi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nO={bundleType:Kl.bundleType,version:Kl.version,rendererPackageName:Kl.rendererPackageName,rendererConfig:Kl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Po.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=e5(e),e===null?null:e.stateNode},findFiberByHostInstance:Kl.findFiberByHostInstance||eO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var df=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!df.isDisabled&&df.supportsFiber)try{x0=df.inject(nO),Va=df}catch{}}ta.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rO;ta.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qy(t))throw Error(le(200));return JP(e,t,null,r)};ta.createRoot=function(e,t){if(!Qy(e))throw Error(le(299));var r=!1,n="",a=ES;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Yy(e,1,!1,null,null,r,!1,n,a),e[wo]=t.current,Rc(e.nodeType===8?e.parentNode:e),new Zy(t)};ta.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(le(188)):(e=Object.keys(e).join(","),Error(le(268,e)));return e=e5(t),e=e===null?null:e.stateNode,e};ta.flushSync=function(e){return Xi(e)};ta.hydrate=function(e,t,r){if(!E0(t))throw Error(le(200));return T0(null,e,t,!0,r)};ta.hydrateRoot=function(e,t,r){if(!Qy(e))throw Error(le(405));var n=r!=null&&r.hydratedSources||null,a=!1,o="",i=ES;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=AS(t,null,e,1,r??null,a,!1,o,i),e[wo]=t.current,Rc(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new A0(t)};ta.render=function(e,t,r){if(!E0(t))throw Error(le(200));return T0(null,e,t,!1,r)};ta.unmountComponentAtNode=function(e){if(!E0(e))throw Error(le(40));return e._reactRootContainer?(Xi(function(){T0(null,null,e,!1,function(){e._reactRootContainer=null,e[wo]=null})}),!0):!1};ta.unstable_batchedUpdates=Xy;ta.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!E0(r))throw Error(le(200));if(e==null||e._reactInternals===void 0)throw Error(le(38));return T0(e,t,r,!1,n)};ta.version="18.3.1-next-f1338f8080-20240426";function TS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(TS)}catch(e){console.error(e)}}TS(),Tk.exports=ta;var aO=Tk.exports,v1=aO;$p.createRoot=v1.createRoot,$p.hydrateRoot=v1.hydrateRoot;const ai=({isOpen:e,onClose:t,onConfirm:r,title:n,message:a,confirmText:o="I know the risk and insist to continue",cancelText:i="Cancel"})=>e?c.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:c.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-md rounded-2xl shadow-2xl border border-amber-500/30 overflow-hidden transform transition-all scale-100",children:[c.jsxs("div",{className:"bg-amber-500/10 p-6 flex flex-col items-center justify-center border-b border-amber-500/20",children:[c.jsx("div",{className:"w-16 h-16 bg-amber-100 dark:bg-amber-900/30 rounded-full flex items-center justify-center mb-4",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-amber-600 dark:text-amber-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),c.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white text-center",children:n})]}),c.jsx("div",{className:"p-6",children:c.jsx("div",{className:"text-gray-600 dark:text-slate-300 text-center text-sm leading-relaxed",children:a})}),c.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-800/50 flex gap-3 justify-end border-t border-gray-200 dark:border-slate-800",children:[c.jsx("button",{onClick:t,className:"px-4 py-2 bg-white hover:bg-gray-100 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-700 dark:text-slate-200 font-semibold rounded-lg border border-gray-300 dark:border-slate-600 transition-colors text-sm",children:i}),c.jsx("button",{onClick:r,className:"px-4 py-2 bg-amber-600 hover:bg-amber-700 text-white font-bold rounded-lg shadow-lg shadow-amber-500/20 transition-all active:scale-95 text-sm",children:o})]})]})}):null,oO=({onFileSelected:e,onGenerateFakeDng:t,fileName:r,hasGeneratedData:n,viewMode:a,onSetViewMode:o,patternPeriod:i,onPatternPeriodChange:s,fillFactor:l,onFillFactorChange:u,patternPhase:d,onPatternPhaseChange:f,showPatternControls:h,onOpenAbout:p,onShowExif:m,bridgeStatus:x,onBridgeClick:w,isDrLabOpen:v,onToggleDrLab:g,isColorLabOpen:y,onToggleColorLab:k,isFftLabOpen:b,onToggleFftLab:S,isSfrLabOpen:_,onToggleSfrLab:N,onGenerateTestPic:P,onPTCFilesSelected:M,onDownloadDng:E,isThreePlane:C,onOpenDatabase:A,isSidebarOpen:L,onToggleSidebar:R,stretchMultiplier:G,onStretchMultiplierChange:O,onStretchDngExport:T,isRawLoaded:B})=>{const z=j.useRef(null),te=j.useRef(null),[Q,D]=j.useState(!1),[J,q]=j.useState(!1),[$,ne]=j.useState(!1),[ce,Y]=j.useState(!1),[ue,he]=j.useState("direct"),K=j.useRef(null),Oe=j.useRef(null);j.useEffect(()=>{const ge=xe=>{K.current&&!K.current.contains(xe.target)&&ne(!1),Oe.current&&!Oe.current.contains(xe.target)&&Y(!1)};return document.addEventListener("mousedown",ge),()=>document.removeEventListener("mousedown",ge)},[]);const Se=ge=>{var xe;ne(!1),ge==="direct"?(he("direct"),D(!0)):!x.isConnected||!x.hasDngConverter?q(!0):(he("convert"),(xe=z.current)==null||xe.click())},oe=()=>{var ge;D(!1),(ge=z.current)==null||ge.click()},we=ge=>{var Le;const xe=(Le=ge.target.files)==null?void 0:Le[0];xe&&e(xe,ue),ge.target.value=""},ve=ge=>{ge.target.files&&ge.target.files.length>0&&M(ge.target.files),ge.target.value=""},Ke=r==="pattern_test.dng"||(r==null?void 0:r.startsWith("Diff_"));return c.jsxs("header",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 mb-4 flex-shrink-0 relative z-50 font-mono",children:[c.jsx(ai,{isOpen:Q,onClose:()=>D(!1),onConfirm:oe,title:"Format Compatibility Warning",confirmText:"Continue",message:c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsx("p",{className:"font-bold text-gray-800 dark:text-gray-200 text-base",children:"Adobe DNG ConverterDNG"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Only 4-channel DNG files output by Adobe DNG Converter are fully guaranteed to be supported."}),c.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 border border-gray-400 dark:border-slate-600",children:[c.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-500 mb-1",children:"Download Adobe DNG Converter:"}),c.jsx("a",{href:"https://helpx.adobe.com/camera-raw/using/adobe-dng-converter.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline text-xs break-all",children:"https://helpx.adobe.com/camera-raw/using/adobe-dng-converter.html"})]})]})}),c.jsx(ai,{isOpen:J,onClose:()=>q(!1),onConfirm:()=>q(!1),title:"DNG Converter Missing",confirmText:"OK",cancelText:"Cancel",message:c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsx("p",{className:"font-bold text-red-600 dark:text-red-400 text-base",children:"JiangBridge Offline or Adobe DNG Converter not installed (you may have to restart your device after installing ADC to use it here)"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"To use the conversion feature, you must run JiangBridge locally and have Adobe DNG Converter installed on your system."}),c.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 border border-gray-400 dark:border-slate-600",children:[c.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-500 mb-1",children:"Download Adobe DNG Converter:"}),c.jsx("a",{href:"https://helpx.adobe.com/camera-raw/using/adobe-dng-converter.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline text-xs break-all",children:"https://helpx.adobe.com/camera-raw/using/adobe-dng-converter.html"})]})]})}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-black dark:text-white text-center sm:text-left tracking-tight border-2 border-black dark:border-white px-2 py-1 bg-white dark:bg-black",children:"Jiangtherapee_Online"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400 hidden lg:block max-w-xs truncate font-bold",title:r||"No image loaded",children:r||"No_Image_Loaded"}),C&&c.jsx("span",{className:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400 border-2 border-red-500 dark:border-red-800 text-[10px] font-bold px-2 py-1 animate-pulse",children:" 3-PLANE / RGB MODE"})]}),c.jsxs("div",{className:"flex items-center gap-4 flex-wrap justify-end",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[B&&c.jsxs("div",{className:"flex items-center bg-white dark:bg-black border-2 border-black dark:border-gray-500 p-1 gap-2 shadow-[2px_2px_0px_black]",children:[c.jsx("span",{className:"text-[10px] font-bold text-gray-500 dark:text-gray-400 uppercase ml-1",children:"Stretch"}),c.jsx("input",{type:"text",value:G,onChange:ge=>O(ge.target.value),className:"w-12 px-1 text-center bg-gray-100 dark:bg-slate-800 border border-gray-300 dark:border-slate-700 text-xs font-mono text-cyan-600 dark:text-cyan-400 focus:outline-none",title:"Multiplier for code values (data, BL, WL)"}),c.jsx("button",{onClick:T,className:"bg-cyan-600 hover:bg-cyan-500 text-white font-bold py-1 px-3 text-[10px] border border-black transition-all active:scale-95 whitespace-nowrap",title:"Stretch current RAW data to 16-bit and export as DNG",children:"Export 16bit DNG"})]}),c.jsxs("button",{onClick:x.isConnected?void 0:w,className:`px-3 py-1.5 text-xs font-bold transition-all duration-200 flex items-center gap-1.5 shadow-[2px_2px_0px_black] border-2 border-black dark:border-gray-500 ${x.isConnected?"bg-emerald-100 text-emerald-900 border-emerald-800 dark:bg-emerald-900/30 dark:text-emerald-400 dark:border-emerald-600 cursor-default":"bg-pink-100 text-pink-900 border-pink-800 dark:bg-pink-900/30 dark:text-pink-400 dark:border-pink-600 hover:bg-pink-200 dark:hover:bg-pink-900/50 cursor-pointer animate-pulse"}`,title:x.isConnected?"Local Bridge Service Connected":"Click to download Jiangbridge",children:[c.jsx("span",{className:`w-2 h-2 ${x.isConnected?"bg-emerald-600":"bg-pink-600"}`}),x.isConnected?`JiangBridge Ready ${x.hasDngConverter?"DNG+":""}`:"JiangBridge Offline"]}),v&&c.jsxs("button",{onClick:g,className:"px-3 py-1.5 text-xs font-bold transition-all duration-200 flex items-center gap-1.5 shadow-[2px_2px_0px_black] border-2 border-indigo-800 bg-indigo-100 text-indigo-900 dark:bg-indigo-900/30 dark:text-indigo-400 dark:border-indigo-600 hover:bg-indigo-200 dark:hover:bg-indigo-900/50 cursor-pointer animate-in fade-in",title:"Click to turn off DR Lab",children:[c.jsx("span",{className:"w-2 h-2 bg-indigo-600 animate-pulse"}),"DR Lab On"]}),y&&c.jsxs("button",{onClick:k,className:"px-3 py-1.5 text-xs font-bold transition-all duration-200 flex items-center gap-1.5 shadow-[2px_2px_0px_black] border-2 border-yellow-800 bg-yellow-100 text-yellow-900 dark:bg-yellow-900/30 dark:text-yellow-400 dark:border-yellow-600 hover:bg-yellow-200 dark:hover:bg-yellow-900/50 cursor-pointer animate-in fade-in",title:"Click to turn off Color Lab",children:[c.jsx("span",{className:"w-2 h-2 bg-yellow-500 animate-pulse"}),"Color Lab On"]}),b&&c.jsxs("button",{onClick:S,className:"px-3 py-1.5 text-xs font-bold transition-all duration-200 flex items-center gap-1.5 shadow-[2px_2px_0px_black] border-2 border-fuchsia-800 bg-fuchsia-100 text-fuchsia-900 dark:bg-fuchsia-900/30 dark:text-fuchsia-400 dark:border-fuchsia-600 hover:bg-fuchsia-200 dark:hover:bg-fuchsia-900/50 cursor-pointer animate-in fade-in",title:"Click to turn off FFT Lab",children:[c.jsx("span",{className:"w-2 h-2 bg-fuchsia-600 animate-pulse"}),"FFT Lab On"]}),_&&c.jsxs("button",{onClick:N,className:"px-3 py-1.5 text-xs font-bold transition-all duration-200 flex items-center gap-1.5 shadow-[2px_2px_0px_black] border-2 border-orange-800 bg-orange-100 text-orange-900 dark:bg-orange-900/30 dark:text-orange-400 dark:border-orange-600 hover:bg-orange-200 dark:hover:bg-orange-900/50 cursor-pointer animate-in fade-in",title:"Click to turn off SFR Lab",children:[c.jsx("span",{className:"w-2 h-2 bg-orange-600 animate-pulse"}),"SFR Lab On"]}),n&&c.jsxs("div",{className:"flex bg-gray-200 dark:bg-slate-800 p-1 border-2 border-black dark:border-gray-500 shadow-inner transition-colors duration-300 gap-1",children:[c.jsx("button",{onClick:()=>o("reference"),className:`px-3 py-1.5 text-xs sm:text-sm font-bold transition-all duration-200 border-2 ${a==="reference"?"bg-green-600 text-white border-black":"bg-gray-100 text-black border-transparent hover:bg-gray-300"}`,title:"The perfect uniform input",children:"Perfect"}),c.jsx("button",{onClick:()=>o("sampled"),className:`px-3 py-1.5 text-xs sm:text-sm font-bold transition-all duration-200 border-2 ${a==="sampled"?"bg-blue-600 text-white border-black":"bg-gray-100 text-black border-transparent hover:bg-gray-300"}`,title:"Sampled Sensor View with Aperture Visualization",children:"Sampled (Sensor)"}),c.jsx("button",{onClick:()=>o("processed"),className:`px-3 py-1.5 text-xs sm:text-sm font-bold transition-all duration-200 border-2 ${a==="processed"?"bg-purple-600 text-white border-black":"bg-gray-100 text-black border-transparent hover:bg-gray-300"}`,title:"Demosaiced Result",children:"Result"})]})]}),Ke&&c.jsxs("div",{className:"flex items-center gap-2 animate-in fade-in slide-in-from-right-4 duration-300",children:[h&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex flex-col items-end mr-1 bg-gray-100 dark:bg-slate-800/50 p-1.5 border border-gray-400 dark:border-slate-600 transition-colors duration-300",children:[c.jsx("span",{className:"text-[10px] text-gray-600 dark:text-slate-400 font-mono uppercase tracking-wider mb-1",children:"Density (Period)"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"range",min:"0.1",max:"10",step:"0.1",value:i,onChange:ge=>s(parseFloat(ge.target.value)),className:"w-20 h-2 bg-gray-300 dark:bg-slate-700 appearance-none cursor-pointer accent-purple-500 border border-black",title:"Adjust the period of the line pairs in pixels"}),c.jsx("div",{className:"relative",children:c.jsx("input",{type:"number",min:"0.1",max:"100",step:"0.01",value:i,onChange:ge=>{const xe=parseFloat(ge.target.value);isNaN(xe)||s(xe)},className:"w-16 bg-white dark:bg-slate-900 border border-gray-400 dark:border-slate-600 px-1 py-0.5 text-xs font-mono text-purple-700 dark:text-purple-300 text-right focus:outline-none focus:border-purple-500 focus:ring-1 focus:ring-purple-500 transition-colors duration-300"})})]})]}),c.jsxs("div",{className:"flex flex-col items-end mr-1 bg-gray-100 dark:bg-slate-800/50 p-1.5 border border-gray-400 dark:border-slate-600 transition-colors duration-300",children:[c.jsx("span",{className:"text-[10px] text-gray-600 dark:text-slate-400 font-mono uppercase tracking-wider mb-1",children:"Phase"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:d,onChange:ge=>f(parseFloat(ge.target.value)),className:"w-20 h-2 bg-gray-300 dark:bg-slate-700 appearance-none cursor-pointer accent-pink-500 border border-black",title:"Shift pattern phase (0-1 cycle)"}),c.jsx("div",{className:"relative",children:c.jsx("input",{type:"number",min:"0",max:"1",step:"0.01",value:d,onChange:ge=>{const xe=parseFloat(ge.target.value);isNaN(xe)||f(xe)},className:"w-12 bg-white dark:bg-slate-900 border border-gray-400 dark:border-slate-600 px-1 py-0.5 text-xs font-mono text-pink-700 dark:text-pink-300 text-right focus:outline-none focus:border-pink-500 focus:ring-1 focus:ring-pink-500 transition-colors duration-300"})})]})]}),c.jsxs("div",{className:"flex flex-col items-end mr-1 bg-gray-100 dark:bg-slate-800/50 p-1.5 border border-gray-400 dark:border-slate-600 transition-colors duration-300",children:[c.jsx("span",{className:"text-[10px] text-gray-600 dark:text-slate-400 font-mono uppercase tracking-wider mb-1",children:"Fill Factor"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"range",min:"1",max:"100",step:"1",value:l*100,onChange:ge=>u(parseInt(ge.target.value)/100),className:"w-20 h-2 bg-gray-300 dark:bg-slate-700 appearance-none cursor-pointer accent-green-500 border border-black",title:"Adjust pixel aperture fill factor %"}),c.jsxs("div",{className:"relative flex items-center",children:[c.jsx("input",{type:"number",min:"1",max:"100",step:"1",value:Math.round(l*100),onChange:ge=>{const xe=parseInt(ge.target.value);isNaN(xe)||u(Math.min(100,Math.max(1,xe))/100)},className:"w-12 bg-white dark:bg-slate-900 border border-gray-400 dark:border-slate-600 px-1 py-0.5 text-xs font-mono text-green-700 dark:text-green-300 text-right focus:outline-none focus:border-green-500 focus:ring-1 focus:ring-green-500 transition-colors duration-300"}),c.jsx("span",{className:"ml-1 text-[10px] text-gray-500 dark:text-slate-500 font-mono",children:"%"})]})]})]})]}),c.jsxs("button",{onClick:E,className:`flex flex-col items-center justify-center p-2 transition-colors group border-2 border-black dark:border-gray-500 shadow-[2px_2px_0px_black] active:translate-x-[2px] active:translate-y-[2px] active:shadow-none ${r!=null&&r.startsWith("Diff_")?"bg-fuchsia-100 hover:bg-fuchsia-200 dark:bg-fuchsia-900/40 dark:hover:bg-fuchsia-900/60":"bg-gray-100 hover:bg-gray-200 dark:bg-slate-800 dark:hover:bg-slate-700"}`,title:r!=null&&r.startsWith("Diff_")?"Export Subtracted Frame as DNG":"Download Synthetic DNG",children:[c.jsx("svg",{className:`w-5 h-5 ${r!=null&&r.startsWith("Diff_")?"text-fuchsia-600 group-hover:text-fuchsia-800":"text-gray-600 dark:text-slate-400 group-hover:text-black dark:group-hover:text-white"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),c.jsx("span",{className:"text-[8px] font-bold uppercase mt-0.5 opacity-70",children:"DNG"})]})]}),c.jsx("input",{type:"file",ref:z,onChange:we,className:"hidden",accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff"}),c.jsx("input",{type:"file",ref:te,onChange:ve,className:"hidden",multiple:!0,accept:".csv"}),c.jsxs("div",{className:"relative inline-block text-left",ref:Oe,children:[c.jsxs("button",{onClick:()=>Y(!ce),className:"bg-purple-700 hover:bg-purple-600 text-white font-bold py-2 px-4 border-2 border-black dark:border-white shadow-[4px_4px_0px_black] dark:shadow-[4px_4px_0px_gray] active:translate-x-[2px] active:translate-y-[2px] active:shadow-[2px_2px_0px_black] transition-all duration-100 text-sm whitespace-nowrap flex items-center gap-2",children:["TEST Tools",c.jsx("svg",{className:`w-4 h-4 transition-transform duration-200 ${ce?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),ce&&c.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white dark:bg-slate-800 shadow-[8px_8px_0px_rgba(0,0,0,0.5)] ring-1 ring-black ring-opacity-5 focus:outline-none z-50 overflow-hidden origin-top-right transition-all animate-in fade-in slide-in-from-top-2 border-2 border-black dark:border-gray-500",children:c.jsxs("div",{className:"py-1",children:[c.jsxs("button",{onClick:()=>{Y(!1),t()},className:"w-full text-left px-4 py-3 text-sm text-gray-800 dark:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors flex items-center gap-2 border-b border-gray-300 dark:border-gray-600",children:[c.jsx("svg",{className:"w-4 h-4 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),c.jsx("span",{children:"Generate Pattern DNG"})]}),c.jsxs("button",{onClick:()=>{Y(!1),v||g(),b&&S(),y&&k&&k(),_&&N&&N()},className:`w-full text-left px-4 py-3 text-sm transition-colors flex items-center gap-2 border-b border-gray-300 dark:border-gray-600 ${v?"bg-indigo-100 dark:bg-indigo-900/40 text-indigo-800 dark:text-indigo-300 font-bold":"text-gray-800 dark:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700"}`,children:[c.jsx("svg",{className:"w-4 h-4 text-indigo-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.384-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})}),c.jsxs("span",{children:["DR Lab ",v?"(On)":""]})]}),c.jsxs("button",{onClick:()=>{Y(!1),k&&!y&&k(),v&&g(),b&&S(),_&&N&&N()},className:`w-full text-left px-4 py-3 text-sm transition-colors flex items-center gap-2 border-b border-gray-300 dark:border-gray-600 ${y?"bg-yellow-100 dark:bg-yellow-900/40 text-yellow-800 dark:text-yellow-300 font-bold":"text-gray-800 dark:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700"}`,children:[c.jsx("svg",{className:"w-4 h-4 text-yellow-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"})}),c.jsxs("span",{children:["Color Lab ",y?"(On)":""]})]}),c.jsxs("button",{onClick:()=>{Y(!1),N&&!_&&N(),v&&g(),b&&S(),y&&k&&k()},className:`w-full text-left px-4 py-3 text-sm transition-colors flex items-center gap-2 border-b border-gray-300 dark:border-gray-600 ${_?"bg-orange-100 dark:bg-orange-900/40 text-orange-800 dark:text-orange-300 font-bold":"text-gray-800 dark:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700"}`,children:[c.jsx("svg",{className:"w-4 h-4 text-orange-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),c.jsxs("span",{children:["SFR Lab ",_?"(On)":""]})]}),c.jsxs("button",{onClick:()=>{Y(!1),b||S(),v&&g(),y&&k&&k(),_&&N&&N()},className:`w-full text-left px-4 py-3 text-sm transition-colors flex items-center gap-2 border-b border-gray-300 dark:border-gray-600 ${b?"bg-fuchsia-100 dark:bg-fuchsia-900/40 text-fuchsia-800 dark:text-fuchsia-300 font-bold":"text-gray-800 dark:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700"}`,children:[c.jsx("svg",{className:"w-4 h-4 text-fuchsia-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2m0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),c.jsxs("span",{children:["FFT Lab ",b?"(On)":""]})]}),c.jsxs("button",{onClick:()=>{var ge;Y(!1),(ge=te.current)==null||ge.click()},className:"w-full text-left px-4 py-3 text-sm text-gray-800 dark:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors flex items-center gap-2",children:[c.jsx("svg",{className:"w-4 h-4 text-emerald-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"})}),c.jsx("span",{children:"Generate PTC & TargetSNR"})]})]})})]}),c.jsxs("div",{className:"relative inline-block text-left",ref:K,children:[c.jsxs("button",{onClick:()=>ne(!$),className:"bg-cyan-700 hover:bg-cyan-600 text-white font-bold py-2 px-4 border-2 border-black dark:border-white shadow-[4px_4px_0px_black] dark:shadow-[4px_4px_0px_gray] active:translate-x-[2px] active:translate-y-[2px] active:shadow-[2px_2px_0px_black] transition-all duration-100 text-sm whitespace-nowrap flex items-center gap-2",children:["Load Image",c.jsx("svg",{className:`w-4 h-4 transition-transform duration-200 ${$?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),$&&c.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white dark:bg-slate-800 shadow-[8px_8px_0px_rgba(0,0,0,0.5)] ring-1 ring-black ring-opacity-5 focus:outline-none z-50 overflow-hidden origin-top-right transition-all animate-in fade-in slide-in-from-top-2 border-2 border-black dark:border-gray-500",children:c.jsxs("div",{className:"py-1",children:[c.jsxs("button",{onClick:()=>Se("direct"),className:"w-full text-left px-4 py-3 text-sm text-gray-800 dark:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors flex items-center gap-2 border-b border-gray-300 dark:border-gray-600",children:[c.jsx("svg",{className:"w-4 h-4 text-cyan-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),c.jsx("span",{children:"Load Image (Direct)"})]}),c.jsxs("button",{onClick:()=>Se("convert"),className:"w-full text-left px-4 py-3 text-sm text-gray-800 dark:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors flex items-center gap-2",children:[c.jsx("svg",{className:"w-4 h-4 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.384-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})}),c.jsx("span",{children:"Convert to Adobe DNG & Load"})]})]})})]}),r&&m&&c.jsxs("button",{onClick:m,className:"bg-orange-600 hover:bg-orange-500 text-white font-bold py-2 px-4 border-2 border-black dark:border-white shadow-[4px_4px_0px_black] dark:shadow-[4px_4px_0px_gray] active:translate-x-[2px] active:translate-y-[2px] active:shadow-[2px_2px_0px_black] transition-all duration-100 text-sm whitespace-nowrap flex items-center gap-1",title:"View EXIF Data",children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"EXIF"]}),c.jsx("button",{onClick:p,className:"bg-teal-700 hover:bg-teal-600 text-white font-bold py-2 px-4 border-2 border-black dark:border-white shadow-[4px_4px_0px_black] dark:shadow-[4px_4px_0px_gray] active:translate-x-[2px] active:translate-y-[2px] active:shadow-[2px_2px_0px_black] transition-all duration-100 text-sm whitespace-nowrap",children:"About/Tutorial/Tools"}),c.jsx("a",{href:"https://y-g-jiang.github.io/index.html",target:"_blank",rel:"noopener noreferrer",className:"bg-gray-300 hover:bg-gray-200 dark:bg-slate-700 dark:hover:bg-slate-600 text-black dark:text-white font-bold py-2 px-4 border-2 border-black dark:border-white shadow-[4px_4px_0px_black] dark:shadow-[4px_4px_0px_gray] active:translate-x-[2px] active:translate-y-[2px] active:shadow-[2px_2px_0px_black] transition-all duration-100 text-sm no-underline",children:"Home"}),c.jsxs("button",{onClick:R,className:`bg-slate-700 hover:bg-slate-600 text-white font-bold py-2 px-3 border-2 border-black dark:border-white shadow-[4px_4px_0px_black] dark:shadow-[4px_4px_0px_gray] active:translate-x-[2px] active:translate-y-[2px] active:shadow-[2px_2px_0px_black] transition-all duration-100 text-sm whitespace-nowrap flex items-center gap-2 ${L?"":"ring-2 ring-cyan-500 ring-offset-2 dark:ring-offset-black"}`,title:L?"Hide Control Panel":"Show Control Panel",children:[c.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:L?c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 5l7 7-7 7M5 5l7 7-7 7"}):c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 19l-7-7 7-7m8 14l-7-7 7-7"})}),c.jsx("span",{className:"hidden sm:inline",children:L?"Hide Panel":"Show Panel"})]})]})]})},iO=({image:e,zoom:t,pan:r,onPanChange:n,onZoomChange:a,onSelectionChange:o,forcedSelection:i,theme:s,touchAction:l="pan",isMarking:u=!1,onPointClick:d,markers:f=[],gridRects:h=[],colorLabPoints:p=[],colorLabRects:m=[]})=>{var J;const x=j.useRef(null),w=j.useRef(document.createElement("canvas")),[v,g]=j.useState(!1),[y,k]=j.useState({x:0,y:0}),b=j.useRef(null),S=j.useRef(null),_=j.useRef(null),[N,P]=j.useState(!1),[M,E]=j.useState(null),[C,A]=j.useState(null);j.useEffect(()=>{i!==void 0&&A(i)},[i]);const L=j.useCallback(()=>{const q=x.current,$=q==null?void 0:q.getContext("2d");return{canvas:q,ctx:$}},[]);j.useEffect(()=>{const q=w.current,$=q.getContext("2d");if(!e||!$)return;let ne=0,ce=0;e instanceof ImageData?(ne=e.width,ce=e.height):e instanceof HTMLImageElement&&(ne=e.naturalWidth,ce=e.naturalHeight),!(ne===0||ce===0)&&((q.width!==ne||q.height!==ce)&&(q.width=ne,q.height=ce),e instanceof ImageData?$.putImageData(e,0,0):($.clearRect(0,0,ne,ce),$.drawImage(e,0,0)))},[e]);const R=j.useCallback(()=>{const{canvas:q,ctx:$}=L();if(!(!q||!$||!e)){if($.setTransform(1,0,0,1,0,0),$.fillStyle=s==="dark"?"rgb(15, 23, 42)":"rgb(243, 244, 246)",$.fillRect(0,0,q.width,q.height),$.setTransform(t,0,0,t,r.x,r.y),w.current.width>0&&($.imageSmoothingEnabled=!1,$.drawImage(w.current,0,0)),C){$.strokeStyle="#06b6d4",$.lineWidth=1/t,$.fillStyle="rgba(6, 182, 212, 0.2)",$.beginPath(),$.rect(C.x,C.y,C.w,C.h),$.fill(),$.stroke(),$.save(),$.fillStyle="#fff";const ne=Math.max(10,14/t);$.font=`${ne}px monospace`,$.shadowColor="rgba(0,0,0,0.8)",$.shadowBlur=4,$.shadowOffsetX=1,$.shadowOffsetY=1,$.fillText(`${Math.round(C.w)}x${Math.round(C.h)}`,C.x,C.y-5/t),$.restore()}if(h&&h.length>0){$.save(),$.strokeStyle="#f59e0b",$.lineWidth=1/t,$.globalAlpha=.8,$.beginPath(),h.forEach(Y=>{$.rect(Y.x,Y.y,Y.w,Y.h)}),$.stroke();const ne=h[0];$.fillStyle="#f59e0b";const ce=Math.max(10,12/t);$.font=`${ce}px monospace`,$.fillText(`${ne.w}x${ne.h}`,ne.x,ne.y-4/t),$.restore()}if(f&&f.length>0){$.save();const ne=6/t,ce=Math.max(12,16/t);$.font=`bold ${ce}px sans-serif`,$.textAlign="center",$.textBaseline="middle",f.forEach((Y,ue)=>{$.beginPath(),$.arc(Y.x,Y.y,ne,0,2*Math.PI),$.fillStyle="white",$.fill(),$.strokeStyle="#4338ca",$.lineWidth=2/t,$.stroke(),$.fillStyle="#4338ca",$.fillText((ue+1).toString(),Y.x,Y.y-12/t)}),$.restore()}if(p&&p.length>0){$.save();const ne=5/t,ce=Math.max(10,14/t);$.font=`bold ${ce}px sans-serif`,$.textAlign="center",$.textBaseline="middle",p.forEach((Y,ue)=>{$.fillStyle="yellow",$.fillRect(Y.x-ne,Y.y-ne,ne*2,ne*2),$.strokeStyle="black",$.lineWidth=1/t,$.strokeRect(Y.x-ne,Y.y-ne,ne*2,ne*2),$.fillStyle="yellow",$.shadowColor="black",$.shadowBlur=2,$.fillText((ue+1).toString(),Y.x,Y.y-10/t)}),$.restore()}if(m&&m.length>0){if($.save(),$.strokeStyle="yellow",$.lineWidth=1/t,$.globalAlpha=.9,$.beginPath(),m.forEach(ne=>{$.rect(ne.x,ne.y,ne.w,ne.h)}),$.stroke(),m[0]){const ne=m[0];$.fillStyle="yellow",$.shadowColor="black",$.shadowBlur=3;const ce=Math.max(10,12/t);$.font=`${ce}px monospace`,$.fillText(`${Math.round(ne.w)}x${Math.round(ne.h)}`,ne.x,ne.y-4/t)}$.restore()}}},[L,e,t,r,s,C,f,h,p,m]);j.useEffect(()=>{const{canvas:q}=L();if(!q)return;const $=new ResizeObserver(()=>{q.width=q.clientWidth,q.height=q.clientHeight,R()});return $.observe(q),()=>$.disconnect()},[L,R]),j.useEffect(()=>{R()},[R,e,r,t,s,C,f,h,p,m]);const G=q=>{const{canvas:$}=L();if(!$)return{x:0,y:0};const ne=$.getBoundingClientRect();return{x:q.clientX-ne.left,y:q.clientY-ne.top}},O=(q,$)=>({x:(q-r.x)/t,y:($-r.y)/t}),T=q=>{q.preventDefault();const $=G(q);if(u){const ne=O($.x,$.y);d&&d(ne);return}if(q.shiftKey||l==="select"){P(!0);const ne=O($.x,$.y),ce={x:Math.floor(ne.x),y:Math.floor(ne.y)};E(ce),A(null),o&&o(null)}else g(!0),k({x:$.x-r.x,y:$.y-r.y})},B=q=>{const $=G(q);if(N&&M){const ne=O($.x,$.y),ce=Math.floor(ne.x),Y=Math.floor(ne.y),ue=Math.min(M.x,ce),he=Math.min(M.y,Y),K=Math.max(M.x,ce),Oe=Math.max(M.y,Y),Se=K-ue+1,oe=Oe-he+1;A({x:ue,y:he,w:Se,h:oe})}else v&&n({x:$.x-y.x,y:$.y-y.y})},z=()=>{N&&(P(!1),C&&o&&C.w>0&&C.h>0&&o(C)),g(!1)},te=q=>{var $;if(q.touches.length===1){const ne=q.touches[0],ce=($=x.current)==null?void 0:$.getBoundingClientRect();if(!ce)return;const Y=ne.clientX-ce.left,ue=ne.clientY-ce.top;if(u){const he=O(Y,ue);d&&d(he);return}if(l==="select"){const he=O(Y,ue),K={x:Math.floor(he.x),y:Math.floor(he.y)};E(K),P(!0),A(null),o&&o(null)}else _.current={x:Y,y:ue},k({x:Y-r.x,y:ue-r.y}),g(!0)}else if(q.touches.length===2){const ne=Math.hypot(q.touches[0].clientX-q.touches[1].clientX,q.touches[0].clientY-q.touches[1].clientY);b.current=ne,S.current=t,g(!1),P(!1)}},Q=q=>{var $;if(q.touches.length===1){const ne=q.touches[0],ce=($=x.current)==null?void 0:$.getBoundingClientRect();if(!ce)return;const Y=ne.clientX-ce.left,ue=ne.clientY-ce.top;if(u)return;if(N&&M){const he=O(Y,ue),K=Math.floor(he.x),Oe=Math.floor(he.y),Se=Math.min(M.x,K),oe=Math.min(M.y,Oe),we=Math.max(M.x,K),ve=Math.max(M.y,Oe),Ke=we-Se+1,ge=ve-oe+1;A({x:Se,y:oe,w:Ke,h:ge})}else v&&n({x:Y-y.x,y:ue-y.y})}else if(q.touches.length===2&&b.current&&S.current&&a){const ce=Math.hypot(q.touches[0].clientX-q.touches[1].clientX,q.touches[0].clientY-q.touches[1].clientY)/b.current;a(S.current*ce)}},D=()=>{N&&(P(!1),C&&o&&C.w>0&&C.h>0&&o(C)),g(!1),b.current=null,S.current=null,_.current=null};return c.jsx("canvas",{ref:x,className:`w-full h-full block touch-none ${u||N||(J=window.event)!=null&&J.shiftKey||l==="select"?"cursor-crosshair":"cursor-grab active:cursor-grabbing"}`,onMouseDown:T,onMouseMove:B,onMouseUp:z,onMouseLeave:z,onTouchStart:te,onTouchMove:Q,onTouchEnd:D,onTouchCancel:D,tabIndex:0})},dd={"Canon EOS R5":"0.9766 -0.2953 -0.1254 -0.4276 1.2116 0.2433 -0.0437 0.1336 0.5131","Canon EOS 7D Mark II":"0.7268 -0.1082 -0.0969 -0.4186 1.1839 0.2663 -0.0825 0.2029 0.5839","Canon EOS R3":"0.9423 -0.2839 -0.1195 -0.4532 1.2377 0.2415 -0.0483 0.1374 0.5276","Canon EOS 5D Mark III":"0.6722 -0.0635 -0.0963 -0.4287 1.246 0.2028 -0.0908 0.2162 0.5668","Canon EOS 5DS R":"0.625 -0.0711 -0.0808 -0.5153 1.2794 0.2636 -0.1249 0.2198 0.561","Canon EOS R6":"0.8293 -0.1611 -0.1132 -0.4759 1.2711 0.2275 -0.1013 0.2415 0.5509","Samsung NX U":"0.7557 -0.2522 -0.0739 -0.4679 1.2949 0.1894 -0.084 0.1777 0.5311","Canon EOS R5 Mark II":"0.9396 -0.2598 -0.1207 -0.4408 1.2296 0.2369 -0.0505 0.1575 0.6077","Canon EOS 5DS":"0.625 -0.0711 -0.0808 -0.5153 1.2794 0.2636 -0.1249 0.2198 0.561","Canon EOS R":"0.8293 -0.1789 -0.1094 -0.5025 1.2925 0.2327 -0.1199 0.2769 0.6108","Canon EOS R6 Mark II":"0.9539 -0.2795 -0.1224 -0.4175 1.1998 0.2458 -0.0465 0.1755 0.6048","Canon EOS R7":"1.0424 -0.3138 -0.13 -0.4221 1.1938 0.2584 -0.0547 0.1658 0.6183","Canon EOS 5D Mark IV":"0.6446 -0.0366 -0.0864 -0.4436 1.2204 0.2513 -0.0952 0.2496 0.6348","Canon EOS-1D X Mark III":"0.8971 -0.2022 -0.1242 -0.5405 1.3249 0.238 -0.128 0.2483 0.6072","Sony ILCE-7M3":"0.7374 -0.2389 -0.0551 -0.5435 1.3162 0.2519 -0.1006 0.1795 0.6552","Hasselblad 50-15-Coated5":"0.5002 -0.0878 0.0111 -0.4856 1.1929 0.3338 -0.1183 0.2041 0.7022","Canon EOS-1D X":"0.6847 -0.0614 -0.1014 -0.4669 1.2737 0.2139 -0.1197 0.2488 0.6846","Fujifilm GFX 100":"1.6212 -0.8423 -0.1583 -0.4336 1.2583 0.1937 -0.0195 0.0726 0.6199","Phase One IQ180":"0.6294 0.0686 -0.0712 -0.5435 1.3417 0.2211 -0.1006 0.2435 0.5042","Phase One IQ3 100MP":"0.2423 0 0 0 0.9901 0 0 0 0.7989","Canon EOS-1D X Mark II":"0.7596 -0.0978 -0.0967 -0.4808 1.2571 0.2503 -0.1398 0.2567 0.5752","Canon PowerShot Pro70":"-0.5106 1.0695 0.1576 0.382 0.0053 0.4566 -0.6497 1.0736 0.6701 -0.3336 1.1887 0.1394","Sony ILCE-9":"0.6389 -0.1703 -0.0378 -0.4562 1.2265 0.2587 -0.067 0.1489 0.655","Sony ILCE-7CR":"0.82 -0.2976 -0.0719 -0.4296 1.2053 0.2532 -0.0429 0.1282 0.5774","Sony ILCE-7S":"0.5838 -0.143 -0.0246 -0.3497 1.1477 0.2297 -0.0748 0.1885 0.5778","Sony ILCE-7RM3":"0.664 -0.1847 -0.0503 -0.5238 1.301 0.2474 -0.0993 0.1673 0.6527","Sony DSC-RX1RM3":"0.9034 -0.349 -0.0777 -0.4004 1.1841 0.2448 -0.0484 0.1352 0.5552","Sony ILCE-6100":"0.7657 -0.2847 -0.0607 -0.4083 1.1966 0.2389 -0.0684 0.1418 0.5844","Sony ILCE-7RM2":"0.6629 -0.19 -0.0483 -0.4618 1.2349 0.255 -0.0622 0.1381 0.6514","Sony ILCE-5100":"0.5991 -0.1456 -0.0455 -0.4764 1.2135 0.298 -0.0707 0.1425 0.6701","Sony ILCE-7M2":"0.5271 -0.0712 -0.0347 -0.6153 1.3653 0.2763 -0.1601 0.2366 0.7242","Sony ILCE-7RM5":"0.82 -0.2976 -0.0719 -0.4296 1.2053 0.2532 -0.0429 0.1282 0.5774","Sony ILCA-77M2":"0.5991 -0.1732 -0.0443 -0.41 1.1989 0.2381 -0.0704 0.1467 0.5992","Sony ZV-1M2":"0.828 -0.2987 -0.0703 -0.3531 1.1645 0.2133 -0.055 0.1542 0.5312","Sony ILCE-7SM2":"0.5838 -0.143 -0.0246 -0.3497 1.1477 0.2297 -0.0748 0.1885 0.5778","Sony DSC-RX100M7":"1.0315 -0.439 -0.0937 -0.4859 1.2734 0.2365 -0.0734 0.1537 0.5997","Sony ILCE-6300":"0.5973 -0.1695 -0.0419 -0.3826 1.1797 0.2293 -0.0639 0.1398 0.5789","Sony ILCA-99M2":"0.666 -0.1918 -0.0471 -0.4613 1.2398 0.2485 -0.0649 0.1433 0.6447","Sony ILCE-9M3":"0.9811 -0.3908 -0.0752 -0.3704 1.1577 0.2417 -0.0073 0.095 0.598","Sony ILCE-9M2":"0.6389 -0.1703 -0.0378 -0.4562 1.2265 0.2587 -0.067 0.1489 0.655","Sony DSC-RX100M6":"0.7325 -0.2321 -0.0596 -0.3494 1.1674 0.2055 -0.0668 0.1562 0.5031","Sony ZV-E10M2":"0.6972 -0.2408 -0.06 -0.433 1.2101 0.2515 -0.0388 0.1277 0.5847","Sony DSC-RX100M4":"0.6596 -0.2079 -0.0562 -0.4782 1.3016 0.1933 -0.097 0.1581 0.5181","Sony ILCE-7SM3":"0.6912 -0.2127 -0.0469 -0.447 1.2175 0.2587 -0.0398 0.1478 0.6492","Sony ILCE-7":"0.5271 -0.0712 -0.0347 -0.6153 1.3653 0.2763 -0.1601 0.2366 0.7242","Sony ILCE-6000":"0.5991 -0.1456 -0.0455 -0.4764 1.2135 0.298 -0.0707 0.1425 0.6701","Sony ILCE-1":"0.8161 -0.2947 -0.0739 -0.4811 1.2668 0.2389 -0.0437 0.1229 0.6524","Sony ILCE-7M4":"0.746 -0.2365 -0.0588 -0.5687 1.3442 0.2474 -0.0624 0.1156 0.6584","Sony ILCE-7R":"0.4913 -0.0541 -0.0202 -0.613 1.3513 0.2906 -0.1564 0.2151 0.7183","Fujifilm X100VI":"1.1809 -0.5358 -0.1141 -0.4248 1.2164 0.2343 -0.0514 0.1097 0.5848","Fujifilm X-H2":"1.1809 -0.5358 -0.1141 -0.4248 1.2164 0.2343 -0.0514 0.1097 0.5848","Fujifilm X-A3":"1.2407 -0.5222 -0.1086 -0.2971 1.1116 0.212 -0.0294 0.1029 0.5284","Fujifilm X-H2S":"1.2836 -0.5909 -0.1032 -0.3087 1.1132 0.2236 -0.0035 0.0872 0.533","Fujifilm X-Pro3":"1.3426 -0.6334 -0.1177 -0.4244 1.2136 0.2371 -0.058 0.1303 0.598","Fujifilm X-T50":"1.1809 -0.5358 -0.1141 -0.4248 1.2164 0.2343 -0.0514 0.1097 0.5848","Fujifilm X-T2":"1.1434 -0.4948 -0.121 -0.3746 1.2042 0.1903 -0.0666 0.1479 0.5235","Fujifilm X-T5":"1.1809 -0.5358 -0.1141 -0.4248 1.2164 0.2343 -0.0514 0.1097 0.5848","Fujifilm X-Pro2":"1.1434 -0.4948 -0.121 -0.3746 1.2042 0.1903 -0.0666 0.1479 0.5235","Fujifilm X-A7":"1.5055 -0.7391 -0.1274 -0.4062 1.2071 0.2238 -0.061 0.1217 0.6147","Fujifilm X-H1":"1.1434 -0.4948 -0.121 -0.3746 1.2042 0.1903 -0.0666 0.1479 0.5235","Fujifilm X-S20":"1.2836 -0.5909 -0.1032 -0.3087 1.1132 0.2236 -0.0035 0.0872 0.533","Fujifilm X-S10":"1.3426 -0.6334 -0.1177 -0.4244 1.2136 0.2371 -0.058 0.1303 0.598","Fujifilm X-T30":"1.3426 -0.6334 -0.1177 -0.4244 1.2136 0.2371 -0.058 0.1303 0.598","Fujifilm X30":"1.2328 -0.5256 -0.1144 -0.4469 1.2927 0.1675 -0.0087 0.1291 0.4351","Fujifilm GFX 50R":"1.1756 -0.4754 -0.0874 -0.3056 1.1045 0.2305 -0.0381 0.1457 0.6006","Fujifilm X100V":"1.3717 -0.649 -0.1154 -0.4348 1.2266 0.2335 -0.069 0.1286 0.6134","Fujifilm X-A5":"1.1673 -0.476 -0.1041 -0.3988 1.2058 0.2166 -0.0771 0.1417 0.5569","Fujifilm X100F":"1.1434 -0.4948 -0.121 -0.3746 1.2042 0.1903 -0.0666 0.1479 0.5235","Fujifilm X-T100":"1.1673 -0.476 -0.1041 -0.3988 1.2058 0.2166 -0.0771 0.1417 0.5569","Fujifilm XQ1":"0.9252 -0.2704 -0.1064 -0.5893 1.4265 0.1717 -0.1101 0.2341 0.4349","Fujifilm X-T4":"1.3426 -0.6334 -0.1177 -0.4244 1.2136 0.2371 -0.058 0.1303 0.598","Fujifilm X-E3":"1.1434 -0.4948 -0.121 -0.3746 1.2042 0.1903 -0.0666 0.1479 0.5235","Fujifilm X-T20":"1.1434 -0.4948 -0.121 -0.3746 1.2042 0.1903 -0.0666 0.1479 0.5235","Fujifilm X-A2":"1.0763 -0.456 -0.0917 -0.3346 1.1311 0.2322 -0.0475 0.1135 0.5843","Fujifilm GFX 50S":"1.1756 -0.4754 -0.0874 -0.3056 1.1045 0.2305 -0.0381 0.1457 0.6006","Fujifilm X-A1":"1.1086 -0.4555 -0.0839 -0.3512 1.131 0.2517 -0.0815 0.1341 0.594","Fujifilm X70":"1.045 -0.4329 -0.0878 -0.3217 1.1105 0.2421 -0.0752 0.1758 0.6519","Fujifilm FinePix S1":"1.2297 -0.4882 -0.1202 -0.2106 1.0691 0.1623 -0.0088 0.1312 0.479","Fujifilm XQ2":"0.9252 -0.2704 -0.1064 -0.5893 1.4265 0.1717 -0.1101 0.2341 0.4349","Fujifilm X-E2":"0.8458 -0.2451 -0.0855 -0.4597 1.2447 0.2407 -0.1475 0.2482 0.6526","Fujifilm GFX 100RF":"1.2806 -0.5779 -0.111 -0.3546 1.1507 0.2318 -0.0177 0.0996 0.5715","Fujifilm X-T10":"0.8458 -0.2451 -0.0855 -0.4597 1.2447 0.2407 -0.1475 0.2482 0.6526","Fujifilm X-E5":"1.1809 -0.5358 -0.1141 -0.4248 1.2164 0.2343 -0.0514 0.1097 0.5848","Fujifilm X100T":"1.0592 -0.4262 -0.1008 -0.3514 1.1355 0.2465 -0.087 0.2025 0.6386","Fujifilm X100S":"1.0592 -0.4262 -0.1008 -0.3514 1.1355 0.2465 -0.087 0.2025 0.6386","Fujifilm X-T3":"1.3426 -0.6334 -0.1177 -0.4244 1.2136 0.2371 -0.058 0.1303 0.598","Fujifilm X-M5":"1.2836 -0.5909 -0.1032 -0.3087 1.1132 0.2236 -0.0035 0.0872 0.533","Fujifilm X-M1":"1.0413 -0.3996 -0.0993 -0.3721 1.164 0.2361 -0.0733 0.154 0.6011","Fujifilm X-T1":"0.8458 -0.2451 -0.0855 -0.4597 1.2447 0.2407 -0.1475 0.2482 0.6526","Fujifilm X20":"1.1768 -0.4971 -0.1133 -0.4904 1.2927 0.2183 -0.048 0.1723 0.4605","Fujifilm GFX 50S II":"1.1756 -0.4754 -0.0874 -0.3056 1.1045 0.2305 -0.0381 0.1457 0.6006","Fujifilm X-Pro1":"1.0413 -0.3996 -0.0993 -0.3721 1.164 0.2361 -0.0733 0.154 0.6011","Fujifilm XF10":"1.1673 -0.476 -0.1041 -0.3988 1.2058 0.2166 -0.0771 0.1417 0.5569","Fujifilm X-E2S":"1.1562 -0.5118 -0.0961 -0.3022 1.1007 0.2311 -0.0525 0.1569 0.6097","Nikon Coolpix P330":"1.0321 -0.392 -0.0931 -0.275 1.1146 0.1824 -0.0442 0.1545 0.5539","Nikon Coolpix P1000":"1.4294 -0.6116 -0.1333 -0.1628 1.0219 0.1637 -0.0014 0.1158 0.5022","Nikon Coolpix P340":"1.0321 -0.392 -0.0931 -0.275 1.1146 0.1824 -0.0442 0.1545 0.5539","Nikon Coolpix P7800":"1.0321 -0.392 -0.0931 -0.275 1.1146 0.1824 -0.0442 0.1545 0.5539","Nikon Coolpix P7700":"1.0321 -0.392 -0.0931 -0.275 1.1146 0.1824 -0.0442 0.1545 0.5539","Nikon 1 S2":"0.6612 -0.1342 -0.0618 -0.3338 1.1055 0.2623 -0.0174 0.1792 0.5075","Nikon D3300":"0.6988 -0.1384 -0.0714 -0.5631 1.341 0.2447 -0.1485 0.2204 0.7318","Nikon D3200":"0.7013 -0.1408 -0.0635 -0.5268 1.2902 0.264 -0.147 0.2801 0.7379","Nikon Z 8":"1.1423 -0.4564 -0.1123 -0.4816 1.2895 0.2119 -0.021 0.1061 0.7282","Nikon D810A":"1.1973 -0.5685 -0.0888 -0.1965 1.0326 0.1901 -0.0115 0.1123 0.7169","Nikon D5500":"0.8821 -0.2938 -0.0785 -0.4178 1.2142 0.2287 -0.0824 0.1651 0.686","Nikon Z 6 3":"1.1206 -0.4286 -0.0941 -0.4879 1.2847 0.2251 -0.0745 0.1654 0.7374","Nikon D750":"0.902 -0.289 -0.0715 -0.4535 1.2436 0.2348 -0.0934 0.1919 0.7086","Nikon Z 6":"0.9943 -0.3269 -0.0839 -0.5323 1.3269 0.2259 -0.1198 0.2083 0.7557","Nikon D500":"0.8813 -0.321 -0.1036 -0.4703 1.2868 0.2021 -0.1054 0.194 0.6129","Nikon D3400":"0.6988 -0.1384 -0.0714 -0.5631 1.341 0.2447 -0.1485 0.2204 0.7318","Nikon D5300":"0.6988 -0.1384 -0.0714 -0.5631 1.341 0.2447 -0.1485 0.2204 0.7318","Nikon D5600":"0.8821 -0.2938 -0.0785 -0.4178 1.2142 0.2287 -0.0824 0.1651 0.686","Nikon D780":"0.9943 -0.3269 -0.0839 -0.5323 1.3269 0.2259 -0.1198 0.2083 0.7557","Nikon Z 6 2":"0.9943 -0.3269 -0.0839 -0.5323 1.3269 0.2259 -0.1198 0.2083 0.7557","Nikon D5":"0.92 -0.3522 -0.0992 -0.5755 1.3803 0.2117 -0.0753 0.1486 0.6338","Nikon 1 J4":"0.5958 -0.1559 -0.0571 -0.4021 1.1453 0.2939 -0.0634 0.1548 0.5087","Nikon D800":"0.7866 -0.2108 -0.0555 -0.4869 1.2483 0.2681 -0.1176 0.2069 0.7501","Nikon 1 S1":"0.8994 -0.2667 -0.0865 -0.4594 1.2324 0.2552 -0.0699 0.1786 0.626","Nikon D850":"1.0405 -0.3755 -0.127 -0.5461 1.3787 0.1793 -0.104 0.2015 0.6785","Nikon 1 J3":"0.6588 -0.1305 -0.0693 -0.3277 1.0987 0.2634 -0.0355 0.2016 0.5106","Nikon D7200":"0.8322 -0.3112 -0.1047 -0.6367 1.4342 0.2179 -0.0988 0.1638 0.6394","Nikon Z 5":"0.8695 -0.2558 -0.0648 -0.5015 1.2711 0.2575 -0.1279 0.2215 0.7514","Nikon Z 50":"1.164 -0.4829 -0.1079 -0.5107 1.3006 0.2325 -0.0972 0.1711 0.738","Nikon Z 7 2":"1.3705 -0.6004 -0.14 -0.5464 1.3568 0.2062 -0.094 0.1706 0.7618","Nikon 1 J5":"0.752 -0.2518 -0.0645 -0.3844 1.2102 0.1945 -0.0913 0.2249 0.6835","Nikon Z 5 2":"1.3133 -0.5542 -0.128 -0.4325 1.2543 0.1972 0.0034 0.0792 0.7662","Nikon Z fc":"1.164 -0.4829 -0.1079 -0.5107 1.3006 0.2325 -0.0972 0.1711 0.738","Nikon Z f":"1.1607 -0.4491 -0.0977 -0.4522 1.246 0.2304 -0.0458 0.1519 0.7616","Nikon D610":"0.8178 -0.2245 -0.0609 -0.4857 1.2394 0.2776 -0.1207 0.2086 0.7298","Nikon Z 7":"1.3705 -0.6004 -0.14 -0.5464 1.3568 0.2062 -0.094 0.1706 0.7618","Nikon Df":"0.8598 -0.2848 -0.0857 -0.5618 1.3606 0.2195 -0.1002 0.1773 0.7137","Nikon 1 V3":"0.5958 -0.1559 -0.0571 -0.4021 1.1453 0.2939 -0.0634 0.1548 0.5087","Nikon D7000":"0.8198 -0.2239 -0.0724 -0.4871 1.2389 0.2798 -0.1043 0.205 0.7181","Nikon Z 9":"1.3389 -0.6049 -0.1441 -0.4544 1.2757 0.1969 0.0229 0.0498 0.739","Nikon Z 50 2":"1.164 -0.4829 -0.1079 -0.5107 1.3006 0.2325 -0.0972 0.1711 0.738","Nikon D4S":"0.8598 -0.2848 -0.0857 -0.5618 1.3606 0.2195 -0.1002 0.1773 0.7137","Nikon D810":"0.9369 -0.3195 -0.0791 -0.4488 1.243 0.2301 -0.0893 0.1796 0.6872","Nikon D4":"0.8598 -0.2848 -0.0857 -0.5618 1.3606 0.2195 -0.1002 0.1773 0.7137","DXO ONE":"0.6596 -0.2079 -0.0562 -0.4782 1.3016 0.1933 -0.097 0.1581 0.5181","DXO-ONE":"0.6596 -0.2079 -0.0562 -0.4782 1.3016 0.1933 -0.097 0.1581 0.5181","Nikon D800E":"0.7866 -0.2108 -0.0555 -0.4869 1.2483 0.2681 -0.1176 0.2069 0.7501","ZEISS ZX1":"1 -0.4766 -0.0938 -0.2969 1.1328 0.1875 -0.0313 0.1094 0.7422","PENTAX K-50":"0.8628 -0.2607 -0.1156 -0.3995 1.2301 0.1881 -0.099 0.1735 0.6595","PENTAX K-500":"0.8513 -0.2572 -0.114 -0.3995 1.2301 0.1881 -0.1003 0.1758 0.6683","PENTAX K-3 II":"0.8571 -0.259 -0.1148 -0.3995 1.2301 0.1881 -0.1052 0.1844 0.7013","PENTAX K-S2":"0.8009 -0.2517 -0.114 -0.3882 1.235 0.1689 -0.0844 0.1493 0.6312","PENTAX K-3":"0.8761 -0.2648 -0.1173 -0.3995 1.2301 0.1881 -0.0901 0.1579 0.6001","PENTAX KP":"0.7357 -0.2031 -0.132 -0.4842 1.3555 0.1349 -0.1538 0.2416 0.5736","PENTAX MX-1":"0.8804 -0.2523 -0.1238 -0.2423 1.1627 0.086 -0.0682 0.1774 0.4753","PENTAX K-70":"0.8117 -0.2078 -0.1275 -0.4359 1.2953 0.1515 -0.1096 0.1965 0.6073","PENTAX K-3 Mark III":"0.6842 -0.1581 -0.0867 -0.4614 1.2728 0.2065 -0.0639 0.1428 0.5682","PENTAX 645Z":"0.9829 -0.31 -0.1271 -0.3685 1.2133 0.1721 -0.1068 0.1977 0.6854","PENTAX K-1":"0.8566 -0.2746 -0.1201 -0.3612 1.2204 0.155 -0.0893 0.168 0.6264","PENTAX Q7":"1.2995 -0.5593 -0.1107 -0.1879 1.0139 0.2027 -0.0064 0.1233 0.4919","Canon PowerShot SX60 HS":"1.3161 -0.5451 -0.1344 -0.1989 1.0654 0.1531 -0.0047 0.1271 0.4955","Canon PowerShot G15":"0.7474 -0.2301 -0.0567 -0.4056 1.1456 0.2975 -0.0222 0.0716 0.4181","Canon PowerShot G5 X Mark II":"1.1629 -0.5713 -0.0914 -0.2706 1.109 0.1842 -0.0206 0.1225 0.5515","Canon PowerShot G16":"0.802 -0.2687 -0.0682 -0.3704 1.1879 0.2052 -0.0965 0.1921 0.5556","Canon PowerShot S120":"0.6961 -0.1685 -0.0695 -0.4625 1.2945 0.1836 -0.1114 0.2152 0.5518","Canon PowerShot G1 X":"0.7378 -0.1255 -0.1043 -0.4088 1.2251 0.2048 -0.0876 0.1946 0.5805","Canon EOS M5":"0.8532 -0.0701 -0.1167 -0.4095 1.1879 0.2508 -0.0797 0.2424 0.701","Canon EOS M6":"0.8532 -0.0701 -0.1167 -0.4095 1.1879 0.2508 -0.0797 0.2424 0.701","Canon PowerShot G7 X":"0.9602 -0.3823 -0.0937 -0.2984 1.1495 0.1675 -0.0407 0.1415 0.5049","Canon PowerShot G7 X Mark II":"0.9602 -0.3823 -0.0937 -0.2984 1.1495 0.1675 -0.0407 0.1415 0.5049","Canon PowerShot G9 X":"0.9602 -0.3823 -0.0937 -0.2984 1.1495 0.1675 -0.0407 0.1415 0.5049","Canon PowerShot G3 X":"0.9701 -0.3857 -0.0921 -0.3149 1.1537 0.1817 -0.0786 0.1817 0.5147","Canon EOS 6D Mark II":"0.6875 -0.097 -0.0932 -0.4691 1.2459 0.2501 -0.0874 0.1953 0.5809","Canon PowerShot G1 X Mark III":"0.8532 -0.0701 -0.1167 -0.4095 1.1879 0.2508 -0.0797 0.2424 0.701","Canon PowerShot G9 X Mark II":"1.0056 -0.4131 -0.0944 -0.2576 1.1143 0.1625 -0.0238 0.1294 0.5179","Canon EOS 200D":"0.7377 -0.0742 -0.0998 -0.4235 1.1981 0.2549 -0.0673 0.1918 0.5538","Canon EOS R10":"0.9269 -0.2012 -0.1107 -0.399 1.1762 0.2527 -0.0569 0.2093 0.4913","Canon PowerShot G5 X":"0.9602 -0.3823 -0.0937 -0.2984 1.1495 0.1675 -0.0407 0.1415 0.5049","Canon PowerShot G1 X Mark II":"0.7378 -0.1255 -0.1043 -0.4088 1.2251 0.2048 -0.0876 0.1946 0.5805","Canon EOS M100":"0.8532 -0.0701 -0.1167 -0.4095 1.1879 0.2508 -0.0797 0.2424 0.701","Canon EOS RP":"0.8608 -0.2097 -0.1178 -0.5425 1.3265 0.2383 -0.1149 0.2238 0.568","Canon EOS 7D":"0.6844 -0.0996 -0.0856 -0.3876 1.1761 0.2396 -0.0593 0.1772 0.6198","Canon EOS 90D":"1.1498 -0.3759 -0.1516 -0.5073 1.2954 0.2349 -0.0892 0.1867 0.6118","Canon PowerShot V1":"1.26 -0.4747 -0.2027 -0.611 1.5868 -0.0029 0.011 0.0479 0.6011","Canon EOS M3":"0.6362 -0.0823 -0.0847 -0.4426 1.2109 0.2616 -0.0743 0.1857 0.5635","Canon PowerShot G7 X Mark III":"1.1629 -0.5713 -0.0914 -0.2706 1.109 0.1842 -0.0206 0.1225 0.5515","Canon EOS M50":"0.8532 -0.0701 -0.1167 -0.4095 1.1879 0.2508 -0.0797 0.2424 0.701","Canon EOS 80D":"0.7457 -0.0671 -0.0937 -0.4849 1.2495 0.2643 -0.1213 0.2354 0.5492","Canon EOS M200":"1.0463 -0.2173 -0.1437 -0.4856 1.2635 0.2482 -0.1216 0.2915 0.7237","Canon EOS R100":"0.823 -0.1515 -0.1032 -0.4179 1.2005 0.2454 -0.0649 0.2076 0.4711","Canon EOS 700D":"0.6602 -0.0841 -0.0939 -0.4472 1.2458 0.2247 -0.0975 0.2039 0.6148","Canon EOS 100D":"0.6602 -0.0841 -0.0939 -0.4472 1.2458 0.2247 -0.0975 0.2039 0.6148","Canon EOS M6 Mark II":"1.1498 -0.3759 -0.1516 -0.5073 1.2954 0.2349 -0.0892 0.1867 0.6118","Canon EOS 70D":"0.7034 -0.0804 -0.1014 -0.442 1.2564 0.2058 -0.0851 0.1994 0.5758","Canon EOS R8":"0.9539 -0.2795 -0.1224 -0.4175 1.1998 0.2458 -0.0465 0.1755 0.6048","Canon EOS 6D":"0.7034 -0.0804 -0.1014 -0.442 1.2564 0.2058 -0.0851 0.1994 0.5758","Canon EOS R50 V":"0.9089 -0.181 -0.1209 -0.4294 1.2116 0.2454 -0.0498 0.1862 0.4923","Canon EOS 77D":"0.7377 -0.0742 -0.0998 -0.4235 1.1981 0.2549 -0.0673 0.1918 0.5538","LEICA M10":"0.8249 -0.2849 -0.062 -0.5415 1.4756 0.0565 -0.0957 0.3074 0.6517","LEICA Q (Typ 116)":"1.1865 -0.4523 -0.1441 -0.5423 1.4458 0.0935 -0.1587 0.2687 0.483","LEICA Q3 43":"1.1111 -0.3816 -0.1057 -0.375 1.2107 0.1829 -0.0947 0.1868 0.4645","LEICA Q2":"1.1865 -0.4523 -0.1441 -0.5423 1.4458 0.0935 -0.1587 0.2687 0.483","LEICA SL (Typ 601)":"1.1865 -0.4523 -0.1441 -0.5423 1.4458 0.0935 -0.1587 0.2687 0.483","LEICA D-Lux 8":"0.8585 -0.3127 -0.0833 -0.4005 1.225 0.1953 -0.065 0.1494 0.4862","LEICA T (Typ 701)":"0.5463 -0.0988 -0.0364 -0.4634 1.2036 0.2946 -0.0766 0.1389 0.6522","LEICA X (Typ 113)":"0.7712 -0.2059 -0.0653 -0.3882 1.1494 0.2726 -0.071 0.1332 0.5958","PENTAX K-1 Mark II":"0.8935 -0.2864 -0.1253 -0.3612 1.2204 0.155 -0.0905 0.1702 0.6346","Panasonic DMC-ZS40":"0.8607 -0.2822 -0.0808 -0.3755 1.193 0.2049 -0.082 0.206 0.5224","Panasonic DMC-CM1":"0.877 -0.3194 -0.082 -0.2871 1.1281 0.1803 -0.0513 0.1552 0.4434","Panasonic DC-G9":"0.7685 -0.2375 -0.0634 -0.3687 1.17 0.2249 -0.0748 0.1546 0.5111","Panasonic DMC-ZS50":"0.8802 -0.3135 -0.0789 -0.3151 1.1468 0.1904 -0.055 0.1745 0.481","Panasonic DMC-GX85":"0.7771 -0.302 -0.0629 -0.4029 1.195 0.2345 -0.0821 0.1977 0.6119","Panasonic DMC-LX9":"0.779 -0.2736 -0.0755 -0.3452 1.187 0.1769 -0.0628 0.1647 0.4898","Panasonic DC-FZ80":"1.1532 -0.4324 -0.1066 -0.2375 1.0847 0.1749 -0.0564 0.1699 0.4351","Panasonic DMC-FZ300":"0.8378 -0.2798 -0.0769 -0.3068 1.141 0.1877 -0.0538 0.1792 0.4623","Panasonic DMC-GX8":"0.7564 -0.2263 -0.0606 -0.3148 1.1239 0.2177 -0.054 0.1435 0.4853","Panasonic DC-S1RM2":"0.9941 -0.4056 -0.0871 -0.3745 1.1604 0.2433 -0.0254 0.1132 0.5526","Panasonic DC-GH6":"0.7949 -0.3491 -0.071 -0.3435 1.1681 0.1977 -0.0503 0.1622 0.5065","Panasonic DC-S1":"0.9744 -0.3905 -0.0779 -0.4899 1.2807 0.2324 -0.0798 0.163 0.5827","Olympus E-M5":"0.838 -0.263 -0.0639 -0.2887 1.0725 0.2496 -0.0627 0.1427 0.5438","Panasonic DMC-ZS100":"0.779 -0.2736 -0.0755 -0.3452 1.187 0.1769 -0.0628 0.1647 0.4898","Olympus E-M5 Mark II":"0.9422 -0.3258 -0.0711 -0.2655 1.0898 0.2015 -0.0512 0.1354 0.5512","Panasonic DC-GF9":"0.761 -0.278 -0.0576 -0.4614 1.2195 0.2733 -0.1375 0.2393 0.649","Panasonic DMC-GF7":"0.761 -0.278 -0.0576 -0.4614 1.2195 0.2733 -0.1375 0.2393 0.649","Olympus PEN-F":"0.9476 -0.3182 -0.0765 -0.2613 1.0958 0.1893 -0.0449 0.1315 0.5268","Panasonic DC-S1H":"0.9397 -0.3719 -0.0805 -0.5425 1.3326 0.2309 -0.0972 0.1715 0.6034","Panasonic DMC-LX100":"0.8844 -0.3538 -0.0768 -0.3709 1.1762 0.22 -0.0698 0.1792 0.522","Panasonic DMC-FZ2500":"0.7386 -0.2443 -0.0743 -0.3437 1.1864 0.1757 -0.0608 0.166 0.4766","Panasonic DC-G99":"0.9657 -0.3963 -0.0748 -0.3361 1.1378 0.2258 -0.0568 0.1415 0.5158","Panasonic DC-LX100M2":"0.8585 -0.3127 -0.0833 -0.4005 1.225 0.1953 -0.065 0.1494 0.4862","Panasonic DC-S1R":"1.1822 -0.5321 -0.1249 -0.5958 1.5114 0.0766 -0.0614 0.1264 0.7043","Panasonic DC-G9M2":"0.8325 -0.3456 -0.0623 -0.433 1.2089 0.2528 -0.086 0.2646 0.5984","Panasonic DC-S9":"0.9983 -0.389 -0.0841 -0.418 1.2164 0.2263 -0.0249 0.1139 0.5766","Panasonic DC-ZS200":"0.779 -0.2736 -0.0755 -0.3452 1.187 0.1769 -0.0628 0.1647 0.4898","Panasonic DC-GX9":"0.7564 -0.2263 -0.0606 -0.3148 1.1239 0.2177 -0.054 0.1435 0.4853","Panasonic DMC-G8":"0.761 -0.278 -0.0576 -0.4614 1.2195 0.2733 -0.1375 0.2393 0.649","Panasonic DMC-ZS60":"0.855 -0.2908 -0.0842 -0.3195 1.1529 0.1881 -0.0338 0.1603 0.4631","Panasonic DC-S1M2":"1.073 -0.4442 -0.0922 -0.4478 1.2504 0.2199 -0.038 0.1198 0.6039","Panasonic DC-GH5S":"0.6929 -0.2355 -0.0708 -0.4192 1.2534 0.1828 -0.1097 0.1989 0.5195","Panasonic DC-S5":"0.9744 -0.3905 -0.0779 -0.4899 1.2807 0.2324 -0.0798 0.163 0.5827","Panasonic DC-GH5M2":"0.93 -0.3659 -0.0755 -0.2981 1.0988 0.2287 -0.019 0.1077 0.5016","Panasonic DC-FZ1000M2":"0.9803 -0.4185 -0.0992 -0.4066 1.2578 0.1628 -0.0838 0.1824 0.5288","Panasonic DC-GH5":"0.7641 -0.2336 -0.0605 -0.3218 1.1299 0.2187 -0.0485 0.1338 0.5121","Panasonic DMC-GX7":"0.761 -0.278 -0.0576 -0.4614 1.2195 0.2733 -0.1375 0.2393 0.649","Panasonic DMC-LX7":"1.0148 -0.3743 -0.0991 -0.2837 1.1366 0.1659 -0.0701 0.1893 0.4899","Panasonic DC-GH7":"0.8573 -0.3575 -0.0678 -0.4252 1.2079 0.2451 -0.0808 0.2524 0.5936","Panasonic DC-S5M2":"1.0308 -0.4206 -0.0783 -0.4088 1.2102 0.2229 -0.0125 0.1051 0.5912","Panasonic DMC-LF1":"0.9379 -0.3267 -0.0816 -0.3227 1.156 0.1881 -0.0926 0.1928 0.534","Panasonic DMC-G7":"0.761 -0.278 -0.0576 -0.4614 1.2195 0.2733 -0.1375 0.2393 0.649","Olympus E-M1X":"1.1896 -0.511 -0.1076 -0.3181 1.1378 0.2048 -0.0519 0.1224 0.5166","OM Digital Solutions OM-1":"0.9488 -0.3984 -0.0714 -0.2887 1.0945 0.2229 -0.0137 0.096 0.5786","Olympus E-M10":"0.838 -0.263 -0.0639 -0.2887 1.0725 0.2496 -0.0627 0.1427 0.5438","Olympus E-M1 Mark III":"1.1896 -0.511 -0.1076 -0.3181 1.1378 0.2048 -0.0519 0.1224 0.5166","Olympus TG-4":"1.1426 -0.4159 -0.1126 -0.2066 1.0678 0.1593 -0.012 0.1327 0.4998","Olympus E-P5":"0.838 -0.263 -0.0639 -0.2887 1.0725 0.2496 -0.0627 0.1427 0.5438","Olympus E-M10 Mark II":"0.838 -0.263 -0.0639 -0.2887 1.0725 0.2496 -0.0627 0.1427 0.5438","Olympus E-M1":"0.7687 -0.1984 -0.0606 -0.4327 1.1928 0.2721 -0.1381 0.2339 0.6452","Olympus E-PL5":"0.838 -0.263 -0.0639 -0.2887 1.0725 0.2496 -0.0627 0.1427 0.5438","Panasonic DMC-GM1":"0.677 -0.1895 -0.0744 -0.5232 1.3145 0.2303 -0.1664 0.2691 0.5703","Panasonic DMC-GF6":"0.813 -0.2801 -0.0946 -0.352 1.1289 0.2552 -0.1314 0.2511 0.5791","Panasonic DMC-FZ1000":"0.783 -0.2696 -0.0763 -0.3325 1.1667 0.1866 -0.0641 0.1712 0.4824","Panasonic DMC-GH4":"0.7122 -0.2108 -0.0512 -0.3155 1.1201 0.2231 -0.0541 0.1423 0.5045","Panasonic DMC-GM5":"0.8238 -0.3244 -0.0679 -0.3921 1.1814 0.2384 -0.0836 0.2022 0.5852","OM Digital Solutions OM-5 Mark II":"1.2008 -0.523 -0.1123 -0.2265 1.0496 0.2046 0.0069 0.0734 0.4938",M1:"0.7712 -0.2059 -0.0653 -0.3882 1.1494 0.2726 -0.071 0.1332 0.5958","Olympus XZ-2":"0.9777 -0.3483 -0.0925 -0.2886 1.1297 0.18 -0.0602 0.1663 0.5134","Olympus E-M1 Mark II":"0.9383 -0.317 -0.0763 -0.2457 1.0702 0.202 -0.0384 0.1236 0.5552","Olympus E-PL7":"0.9197 -0.319 -0.0659 -0.2606 1.083 0.2039 -0.0458 0.125 0.5458","OM Digital Solutions OM-5":"1.1896 -0.511 -0.1076 -0.3181 1.1378 0.2048 -0.0519 0.1224 0.5166","Olympus E-M5 Mark III":"1.1896 -0.511 -0.1076 -0.3181 1.1378 0.2048 -0.0519 0.1224 0.5166","Olympus STYLUS 1":"0.836 -0.242 -0.088 -0.3928 1.2353 0.1739 -0.1381 0.2416 0.5173","RICOH GR IV":"0.6428 -0.1485 -0.0814 -0.4614 1.2728 0.2065 -0.0667 0.1489 0.5924","RICOH GR III":"0.6093 -0.1407 -0.0772 -0.4614 1.2728 0.2065 -0.0663 0.1481 0.5892","GR II":"0.4717 -0.085 -0.0431 -0.4977 1.2805 0.2417 -0.0641 0.1474 0.6143","Olympus E-M10 Mark III":"0.838 -0.263 -0.0639 -0.2887 1.0725 0.2496 -0.0627 0.1427 0.5438","Samsung NX1":"1.0686 -0.4042 -0.1052 -0.3595 1.3238 0.0276 -0.0464 0.1259 0.5931","Samsung NX2000":"0.7557 -0.2522 -0.0739 -0.4679 1.2949 0.1894 -0.084 0.1777 0.5311","Samsung NX500":"1.0686 -0.4042 -0.1052 -0.3595 1.3238 0.0276 -0.0464 0.1259 0.5931","Samsung NX300":"0.7557 -0.2522 -0.0739 -0.4679 1.2949 0.1894 -0.084 0.1777 0.5311","Samsung NX30":"0.7557 -0.2522 -0.0739 -0.4679 1.2949 0.1894 -0.084 0.1777 0.5311","Samsung NX mini":"0.5222 -0.1196 -0.055 -0.654 1.4649 0.2009 -0.1666 0.2819 0.5657","SIGMA fp L":"1.079 -0.2673 -0.228 -0.6718 1.5773 0.0854 -0.1473 0.2047 0.4597","sd Quattro H":"1.2907 0.0532 -0.3603 0.2957 0.7904 -0.0911 0.0255 0.7093 0.3228","Phase One IQ4 150MP":"0.6644 -0.2257 -0.0804 -0.6459 1.4562 0.2019 -0.1221 0.1876 0.6411","Sony ILCE-7RM4":"0.7662 -0.2686 -0.066 -0.524 1.2965 0.253 -0.0796 0.1508 0.6167","Fujifilm X-E4":"1.3426 -0.6334 -0.1177 -0.4244 1.2136 0.2371 -0.058 0.1303 0.598"},fs=({title:e,children:t})=>c.jsxs("div",{className:"border-b border-gray-200 dark:border-slate-700 transition-colors duration-300",children:[c.jsx("div",{className:"p-4 font-semibold text-gray-800 dark:text-slate-200 bg-gray-50 dark:bg-slate-800/30 border-b border-gray-200 dark:border-slate-800 select-none cursor-default transition-colors duration-300",children:c.jsx("span",{children:e})}),c.jsx("div",{className:"p-4 bg-white dark:bg-slate-900/50 transition-colors duration-300",children:t})]}),sO=[{value:-1,label:"Raw Bayer (Grayscale)"},{value:0,label:"Linear interpolation"},{value:1,label:"VNG (Variable Number of Gradients)"},{value:2,label:"PPG (Patterned Pixel Grouping)"},{value:3,label:"AHD (Adaptive Homogeneity-Directed)"},{value:4,label:"DCB (Demosaicing with Color Back-refinement)"},{value:11,label:"DHT (Modified AHD)"},{value:12,label:"AAHD (Adaptive AHD)"}],hf=({checked:e,onChange:t,label:r})=>c.jsxs("div",{className:"flex items-center justify-between py-2 cursor-pointer group",onClick:()=>t(!e),children:[c.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-slate-300 select-none group-hover:text-gray-900 dark:group-hover:text-slate-200 transition-colors",children:r}),c.jsx("div",{className:`relative w-11 h-6 rounded-full transition-colors duration-200 ease-in-out ${e?"bg-cyan-500 dark:bg-cyan-600":"bg-gray-300 dark:bg-slate-600 group-hover:bg-gray-400 dark:group-hover:bg-slate-500"}`,children:c.jsx("div",{className:`absolute left-1 top-1 bg-white w-4 h-4 rounded-full shadow-md transform transition-transform duration-200 ease-in-out ${e?"translate-x-5":"translate-x-0"}`})})]}),x1=(e,t)=>{if(!e)return null;if(t){const r=e.bayerPattern.toUpperCase(),n=l=>{const u=[];for(let d=0;d<4;d++)r[d]===l&&u.push(d);return u},a=t.BlackLevelRed,o=t.BlackLevelGreen,i=t.BlackLevelBlue;if(a!==void 0&&o!==void 0&&i!==void 0){const l=parseFloat(a),u=parseFloat(o),d=parseFloat(i);if(!isNaN(l)&&!isNaN(u)&&!isNaN(d)){const f=[0,0,0,0];return f.fill(u),n("R").forEach(h=>f[h]=l),n("G").forEach(h=>f[h]=u),n("B").forEach(h=>d),f}}let s=t.BlackLevel;if(s===void 0&&(s=t.BlackLevel2),s!==void 0){let l=[];if(Array.isArray(s)?l=s.map(Number):typeof s=="string"?l=s.trim().split(/\s+/).map(Number):typeof s=="number"&&(l=[s,s,s,s]),l.length===1&&!isNaN(l[0])&&(l=[l[0],l[0],l[0],l[0]]),l.length>=4&&!l.slice(0,4).some(isNaN))return[l[0],l[1],l[2],l[3]]}}return e.blackLevels&&e.blackLevels.length===4?[e.blackLevels[0],e.blackLevels[1],e.blackLevels[2],e.blackLevels[3]]:null},lO=e=>{const{rawImageData:t,displaySettings:r,onApplyDisplaySettings:n,onSetSelection:a,exifData:o,isBridgeConnected:i,isDrLabOpen:s,drMarkingStep:l,onStartMarking:u,onGenerateTestPic:d,drRoiSize:f,onDrRoiSizeChange:h,drGridRows:p,onDrGridRowsChange:m,drGridCols:x,onDrGridColsChange:w,onBatchDrLab:v,hasDrMarkers:g,isFftLabOpen:y,onProcessPair:k,onProcessBatchDiff:b,onProcessStackFft:S,onOpenCrossCalc:_,isThreePlane:N,onToggleXTrans:P,xtransPhase:M,onXTransPhaseChange:E,isXTransConverted:C,onCommand:A,isColorLabOpen:L,colorLabMarkingStep:R,onStartColorLabMarking:G,isSfrLabOpen:O,roiStats:T,onOpenDngExport:B}=e,z=!!t,te=!!(t!=null&&t.isXTrans),Q=!!P,[D,J]=j.useState(r.exposure.toString()),[q,$]=j.useState(""),[ne,ce]=j.useState("0 0 0 0"),[Y,ue]=j.useState("1.0"),[he,K]=j.useState("1.0"),[Oe,Se]=j.useState(r.demosaicMethod),[oe,we]=j.useState(!!r.showKadc),[ve,Ke]=j.useState(!!r.subtractBlackLevelFromStats),[ge,xe]=j.useState("64"),[Le,it]=j.useState(!1),[xt,yr]=j.useState(!1),[st,tr]=j.useState("0 0 0 0"),[Ge,Ut]=j.useState("2840 6303 3935 6303"),[$t,rr]=j.useState("780 1720 1101 1720"),[Nr,mt]=j.useState(!1),[Ue,lt]=j.useState(!1),[jt,nr]=j.useState(!1),[ar,Zr]=j.useState("single"),Dt=j.useMemo(()=>Object.keys(dd).sort(),[]),gn=j.useRef(null),bt=j.useRef(null),mn=j.useRef(null),An=j.useRef(null),[yn,dr]=j.useState(null),[vr,xr]=j.useState(null),[vn,on]=j.useState(!1),[br,Wn]=j.useState(!0),na=j.useRef(null),Zt=j.useRef(null);j.useEffect(()=>{if(J(r.exposure.toString()),r.customMatrix?($(r.customMatrix.join(" ")),it(!0)):$(""),r.blackLevel&&r.blackLevel.length===4)ce(r.blackLevel.join(" "));else{const V=x1(t,o);ce(V?V.join(" "):"0 0 0 0")}ue(r.wbGains?r.wbGains[0].toString():"1.0"),K(r.wbGains?r.wbGains[1].toString():"1.0"),Se(r.demosaicMethod),we(!!r.showKadc),Ke(!!r.subtractBlackLevelFromStats),r.advancedZeroDep&&(tr(r.advancedZeroDep.bl.join(" ")),Ut(r.advancedZeroDep.bg.join(" ")),rr(r.advancedZeroDep.fg.join(" ")),yr(!0))},[r,t,o]);const Qt=V=>J(V),Bt=V=>ue(V),ie=V=>K(V),Ae=V=>Se(parseInt(V.target.value,10)),ze=V=>$(V.target.value),et=()=>{J("0"),Se(3),ue("1.0"),K("1.0"),we(!0),Ke(!0),$(""),it(!1),yr(!1);const V=x1(t,o);ce(V?V.join(" "):"0 0 0 0")},Qe=()=>{!t||!a||(a({x:0,y:0,w:t.width,h:t.height}),A==null||A("sel full"))},Nt=()=>{if(!t||!a)return;const V=parseInt(ge,10);if(isNaN(V)||V<=0)return;const ke=Math.min(V,t.width),Wt=Math.min(V,t.height),sr=Math.floor((t.width-ke)/2),Gr=Math.floor((t.height-Wt)/2);a({x:sr,y:Gr,w:ke,h:Wt}),A==null||A(`sel center ${V}`)},hr=()=>{const ke=ne.split(/[\s,]+/).filter(Wt=>Wt.trim()!=="").map(Number);if(ke.length===1&&!isNaN(ke[0]))return[ke[0],ke[0],ke[0],ke[0]];if(ke.length>=4&&!ke.slice(0,4).some(isNaN))return[ke[0],ke[1],ke[2],ke[3]]},or=V=>{const ke=V.trim().split(/[\s,]+/).map(Number);return ke.length===4&&!ke.some(isNaN)?ke:ke.length===1&&!isNaN(ke[0])?[ke[0],ke[0],ke[0],ke[0]]:null},Fe=()=>{A&&(D!=="0"&&A(`ev ${D}`),(Y!=="1.0"||he!=="1.0")&&A(`wb ${Y} ${he}`),ne!=="0 0 0 0"&&A(`bl ${ne}`),Oe!==3&&A(`demo ${Oe}`),q.trim().length>0&&A(`matrix ${q.replace(/\s+/g," ")}`),A("render"));const V={...r},ke=parseFloat(D);isNaN(ke)||(V.exposure=ke);const Wt=parseFloat(Y),sr=parseFloat(he);if(!isNaN(Wt)&&!isNaN(sr)&&(V.wbGains=[Wt,sr]),V.demosaicMethod=Oe,V.renderMode="standard",Le){const Gr=hr();Gr&&(V.blackLevel=Gr);const Xt=q.trim().replace(/[\s,\n]+/g," ");if(Xt){const Xn=Xt.split(" ").map(Number);Xn.length===9&&!Xn.some(isNaN)?V.customMatrix=Xn:alert("Invalid matrix format. Please ensure exactly 9 numeric values (3x3).")}else delete V.customMatrix;V.showKadc=oe,V.subtractBlackLevelFromStats=ve}else delete V.customMatrix,delete V.blackLevel,delete V.showKadc,delete V.subtractBlackLevelFromStats;n(V)},ct=()=>{lt(!0)},Mt=V=>{A&&(D!=="0"&&A(`ev ${D}`),(Y!=="1.0"||he!=="1.0")&&A(`wb ${Y} ${he}`),ne!=="0 0 0 0"&&A(`bl ${ne}`),A(V==="bilinear"?"render zero color":"render zero"));const ke={...r},Wt=hr();Wt&&(ke.blackLevel=Wt);const sr=parseFloat(Y),Gr=parseFloat(he);!isNaN(sr)&&!isNaN(Gr)&&(ke.wbGains=[sr,Gr]);const Xt=parseFloat(D);if(isNaN(Xt)||(ke.exposure=Xt),V==="bilinear"){const Xn=q.trim().replace(/[\s,\n]+/g," ");if(Xn){const En=Xn.split(" ").map(Number);En.length===9&&!En.some(isNaN)&&(ke.customMatrix=En)}}ke.renderMode=V==="mosaic"?"zero-dependency":"zero-dep-color",lt(!1),n(ke)},At=()=>{const V=or(st),ke=or(Ge),Wt=or($t);if(!V||!ke||!Wt){alert("Please enter valid 4-channel numbers for BL, BG, and FG.");return}A&&(D!=="0"&&A(`ev ${D}`),A(`render unmix ${V.join(" ")} ${ke.join(" ")} ${Wt.join(" ")}`));const sr={...r,renderMode:"advanced-zero-dep",advancedZeroDep:{bl:V,bg:ke,fg:Wt}};n(sr)},ir=()=>{if(T){const V=T.means,ke=[V[0],V[1],V[3],V[2]].map(Wt=>Wt.toFixed(1));Ut(ke.join(" "))}else alert("Please select an ROI on the image first.")},pe=()=>{if(T){const V=T.means,ke=[V[0],V[1],V[3],V[2]].map(Wt=>Wt.toFixed(1));rr(ke.join(" "))}else alert("Please select an ROI on the image first.")},Er=V=>{V.target.files&&V.target.files.length>0&&v&&(v(V.target.files,ar),A==null||A(`drlab batch ${ar}`)),V.target.value="",nr(!1)},Sa=async V=>{var Wt;const ke=(Wt=V.target.files)==null?void 0:Wt[0];if(ke){try{const Gr=(await ke.text()).split(`
`),Xt=[];Xt.push("#BlackLevel: 0,0,0,0"),Xt.push("#ImageHeight: 0"),Xt.push("Row,Col,R_Mean,G1_Mean,G2_Mean,B_Mean,R_Std,G1_Std,G2_Std,B_Std");let Xn=1;for(let ia=0;ia<Gr.length;ia++){const Na=Gr[ia].trim();if(!Na||Na.includes("R_mean")||Na.includes("R_std"))continue;const _r=Na.split(/\s+/).map(Number);if(_r.length<8||_r.some(isNaN))continue;const no=[Xn,1,_r[0],_r[2],_r[6],_r[4],_r[1],_r[3],_r[7],_r[5]].join(",");Xt.push(no),Xn++}const En=new Blob([Xt.join(`
`)],{type:"text/csv"}),is=URL.createObjectURL(En),oa=document.createElement("a");oa.href=is,oa.download=ke.name.replace(/\.[^/.]+$/,"")+"_converted.csv",document.body.appendChild(oa),oa.click(),document.body.removeChild(oa),URL.revokeObjectURL(is)}catch(sr){console.error("Conversion failed",sr),alert("Failed to convert file.")}V.target.value=""}},Qr=V=>{V.target.files&&V.target.files[0]&&(dr(V.target.files[0]),A==null||A("fft load a"))},xn=V=>{V.target.files&&V.target.files[0]&&(xr(V.target.files[0]),A==null||A("fft load b"))},Ao=()=>{yn&&vr&&k&&(k(yn,vr,vn,br),A==null||A("fft run"))},Eo=V=>{V.target.files&&V.target.files.length>0&&b&&(b(V.target.files),A==null||A("fft batch")),V.target.value=""},ja=V=>{V.target.files&&V.target.files.length>0&&S&&(S(V.target.files),A==null||A("fft stack")),V.target.value=""},aa=!!C;return c.jsxs("div",{className:"flex flex-col h-full bg-white dark:bg-black",children:[c.jsxs("div",{className:"flex-grow overflow-y-auto",children:[N&&c.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-3 border-b border-red-100 dark:border-red-800 text-center animate-pulse",children:[c.jsx("p",{className:"text-xs font-bold text-red-600 dark:text-red-400 uppercase tracking-wide",children:" 3-Plane / Full Color"}),c.jsx("p",{className:"text-[10px] text-red-500/80 dark:text-red-300/70 mt-1",children:"Demosaic disabled. Stats analysis treated as pseudo-Bayer."})]}),te&&!C&&c.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 p-3 border-b border-amber-100 dark:border-amber-800 text-center",children:[c.jsx("p",{className:"text-xs font-bold text-amber-600 dark:text-amber-400 uppercase tracking-wide",children:" X-Trans Native (Unsupported)"}),c.jsx("p",{className:"text-[10px] text-amber-600/80 dark:text-amber-300/70 mt-1 text-left leading-tight px-1",children:"Currently reading raw 6x6 pattern as Bayer. Stats will be incorrect. Please enable Pseudo-Bayer conversion below."})]}),C&&c.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 p-3 border-b border-emerald-100 dark:border-emerald-800 text-center",children:[c.jsx("p",{className:"text-xs font-bold text-emerald-600 dark:text-emerald-400 uppercase tracking-wide",children:" X-Trans Pseudo-Bayer"}),c.jsx("p",{className:"text-[10px] text-emerald-600/80 dark:text-emerald-300/70 mt-1 text-left leading-tight px-1",children:"Converted 6x6  2x2 RGGB (Subsampled). Demosaic & Analysis fully supported."})]}),O&&c.jsx(fs,{title:"SFR Lab Tools (Scalar Unmixing)",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 p-3 rounded border border-orange-200 dark:border-orange-800",children:[c.jsx("h4",{className:"text-[10px] font-bold text-orange-600 dark:text-orange-400 uppercase mb-2",children:"Analyze ROI"}),c.jsx("p",{className:"text-[10px] text-gray-500 dark:text-slate-400 mb-2",children:"Select an edge on the main canvas and click analyze. Use the pop-up modal to view ESF/LSF/MTF."}),c.jsx("div",{className:"text-center text-xs font-bold text-orange-500",children:"(ROI Analysis Window is Active)"})]}),c.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 w-full"}),c.jsx(hf,{checked:xt,onChange:yr,label:" (Scalar Unmixing)"}),xt&&c.jsxs("div",{className:"space-y-4 pl-2 border-l-2 border-indigo-200 dark:border-indigo-900 animate-in slide-in-from-top-2 duration-200",children:[c.jsxs("div",{className:"grid grid-cols-5 gap-1 items-center text-[9px] uppercase font-bold text-gray-400 mb-[-8px]",children:[c.jsx("div",{className:"col-span-1",children:"Param"}),c.jsx("div",{className:"text-center",children:"Ch0(R)"}),c.jsx("div",{className:"text-center",children:"Ch1(G1)"}),c.jsx("div",{className:"text-center",children:"Ch2(B)"}),c.jsx("div",{className:"text-center",children:"Ch3(G2)"})]}),c.jsxs("div",{className:"grid grid-cols-5 gap-2 items-center",children:[c.jsx("span",{className:"text-[10px] font-bold text-red-500",children:"BL:"}),c.jsx("input",{type:"text",value:st,onChange:V=>tr(V.target.value),className:"col-span-4 px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded text-xs font-mono text-gray-900 dark:text-slate-100"})]}),c.jsxs("div",{className:"grid grid-cols-5 gap-2 items-center",children:[c.jsx("span",{className:"text-[10px] font-bold text-indigo-500",children:"B ():"}),c.jsxs("div",{className:"col-span-4 flex gap-1",children:[c.jsx("input",{type:"text",value:Ge,onChange:V=>Ut(V.target.value),className:"flex-1 px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded text-xs font-mono text-gray-900 dark:text-slate-100"}),c.jsx("button",{onClick:ir,className:"px-2 bg-gray-200 dark:bg-slate-700 hover:bg-gray-300 dark:hover:bg-slate-600 text-[9px] rounded font-bold transition-colors",title:"Fill with current ROI mean stats (Raw DN)",children:"Pick"})]})]}),c.jsxs("div",{className:"grid grid-cols-5 gap-2 items-center",children:[c.jsx("span",{className:"text-[10px] font-bold text-emerald-500",children:"F ():"}),c.jsxs("div",{className:"col-span-4 flex gap-1",children:[c.jsx("input",{type:"text",value:$t,onChange:V=>rr(V.target.value),className:"flex-1 px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded text-xs font-mono text-gray-900 dark:text-slate-100"}),c.jsx("button",{onClick:pe,className:"px-2 bg-gray-200 dark:bg-slate-700 hover:bg-gray-300 dark:hover:bg-slate-600 text-[9px] rounded font-bold transition-colors",title:"Fill with current ROI mean stats (Raw DN)",children:"Pick"})]})]}),c.jsx("button",{onClick:At,disabled:!z,className:"w-full bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-2 rounded text-[10px] shadow transition-transform active:scale-95",children:"RUN UNMIXING (ADV ZERO-DEP)"}),c.jsx("p",{className:"text-[9px] text-gray-400 italic text-center",children:" + sRGB Gamma "})]})]})}),y&&c.jsx(fs,{title:"FFT Lab (Noise Profile)",children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"space-y-3 bg-gray-50 dark:bg-slate-800/40 p-3 rounded-xl border border-gray-100 dark:border-slate-800",children:[c.jsxs("h4",{className:"text-[10px] font-bold text-fuchsia-600 dark:text-fuchsia-400 uppercase tracking-widest flex items-center gap-2",children:[c.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-fuchsia-500"})," 1. Pair Difference (Sub)"]}),c.jsxs("div",{className:"flex flex-col gap-2",children:[c.jsx("input",{type:"file",ref:gn,className:"hidden",onChange:Qr,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff"}),c.jsx("button",{onClick:()=>{var V;return(V=gn.current)==null?void 0:V.click()},className:`w-full py-2 px-3 rounded-lg border text-[10px] font-bold text-left truncate transition-colors ${yn?"bg-fuchsia-55 dark:bg-fuchsia-900/20 border-fuchsia-300 dark:border-fuchsia-800 text-fuchsia-700 dark:text-fuchsia-300":"bg-white dark:bg-slate-800 border-gray-300 dark:border-slate-600 text-gray-500 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:yn?`A: ${yn.name}`:"Load Image A"}),c.jsx("input",{type:"file",ref:bt,className:"hidden",onChange:xn,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff"}),c.jsx("button",{onClick:()=>{var V;return(V=bt.current)==null?void 0:V.click()},className:`w-full py-2 px-3 rounded-lg border text-[10px] font-bold text-left truncate transition-colors ${vr?"bg-fuchsia-55 dark:bg-fuchsia-900/20 border-fuchsia-300 dark:border-fuchsia-800 text-fuchsia-700 dark:text-fuchsia-300":"bg-white dark:bg-slate-800 border-gray-300 dark:border-slate-600 text-gray-500 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:vr?`B: ${vr.name}`:"Load Image B"})]}),c.jsx("div",{className:"flex flex-col gap-1.5 pt-1",children:c.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:br,onChange:V=>Wn(V.target.checked),className:"w-3 h-3 text-fuchsia-600 border-gray-300 rounded focus:ring-0"}),c.jsx("span",{className:"text-[10px] text-gray-600 dark:text-slate-300",children:"Normalize (2)"})]})}),c.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[c.jsx("button",{onClick:Ao,disabled:!yn||!vr,className:"w-full bg-fuchsia-600 hover:bg-fuchsia-500 disabled:opacity-30 text-white font-bold py-2 rounded shadow transition-all active:scale-95 text-[10px]",children:"Generate Diff & Load"}),c.jsx("input",{type:"file",ref:mn,className:"hidden",multiple:!0,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff",onChange:Eo}),c.jsx("button",{onClick:()=>{var V;return(V=mn.current)==null?void 0:V.click()},className:"w-full bg-slate-700 hover:bg-slate-600 text-white font-bold py-2 rounded shadow transition-all active:scale-95 text-[10px] flex items-center justify-center gap-1",children:"Batch Diffs (Auto Download)"})]})]}),c.jsxs("div",{className:"space-y-3 bg-gray-50 dark:bg-slate-800/40 p-3 rounded-xl border border-gray-100 dark:border-slate-800",children:[c.jsxs("h4",{className:"text-[10px] font-bold text-cyan-600 dark:text-cyan-400 uppercase tracking-widest flex items-center gap-2",children:[c.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-cyan-500"})," 2. Stack FFT (Avg PSD)"]}),c.jsxs("div",{className:"flex flex-col gap-2",children:[c.jsx("input",{type:"file",ref:An,className:"hidden",multiple:!0,onChange:ja,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff"}),c.jsx("button",{onClick:()=>{var V;return(V=An.current)==null?void 0:V.click()},className:"w-full py-3 bg-cyan-600 hover:bg-cyan-500 text-white font-bold rounded-lg shadow-md transition-all active:scale-95 text-[10px] flex items-center justify-center gap-2",children:"Select Sequence Files"})]})]}),c.jsx("div",{className:"flex flex-col gap-2 pt-2",children:c.jsx("button",{onClick:()=>{_==null||_(),A==null||A("crosscalc")},className:"w-full bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-2 px-4 rounded-lg shadow-md transition-all active:scale-95 text-[10px] flex items-center justify-center gap-2",children:"Cross-Compensation Calc"})})]})}),s&&c.jsx(fs,{title:"DR Lab Tools",children:c.jsxs("div",{className:"space-y-4",children:[c.jsx("button",{onClick:()=>{d==null||d(),A==null||A("gen test")},className:"w-full bg-amber-500 hover:bg-amber-600 text-white font-bold py-2 px-4 rounded-lg shadow-md transition-colors text-sm",children:"Generate Test Pic"}),c.jsxs("div",{className:"border-t border-gray-200 dark:border-slate-700 pt-3",children:[c.jsx("h4",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide mb-2",children:"Grid Analysis"}),h&&f!==void 0&&c.jsx("div",{className:"flex items-center justify-between mb-3",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-sm text-gray-600 dark:text-slate-300",children:"Box Size:"}),c.jsx("input",{type:"number",min:"8",max:"512",step:"2",value:f,onChange:V=>h(parseInt(V.target.value)||64),className:"w-12 px-1 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-sm text-gray-900 dark:text-slate-100 text-center"}),c.jsx("span",{className:"text-xs text-gray-400",children:"px"})]})}),m&&w&&p!==void 0&&x!==void 0&&c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("span",{className:"text-sm text-gray-600 dark:text-slate-300",children:"Layout:"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"number",min:"1",max:"50",value:p,onChange:V=>m(Math.max(1,parseInt(V.target.value)||1)),className:"w-10 px-1 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md outline-none text-sm text-center",title:"Rows"}),c.jsx("span",{className:"text-xs text-gray-400",children:"x"}),c.jsx("input",{type:"number",min:"1",max:"50",value:x,onChange:V=>w(Math.max(1,parseInt(V.target.value)||1)),className:"w-10 px-1 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md outline-none text-sm text-center",title:"Columns"})]})]}),c.jsxs("div",{className:"flex flex-col gap-2",children:[c.jsx("button",{onClick:()=>{u==null||u(),A==null||A("mark")},disabled:!z||l!==void 0&&l>0,className:`w-full font-bold py-2 px-4 rounded-lg shadow-md transition-all text-sm ${z?l&&l>0?"bg-indigo-100 dark:bg-indigo-900 text-indigo-700 dark:text-indigo-300 border-2 border-indigo-500":"bg-indigo-600 hover:bg-indigo-700 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:l&&l>0?"Marking Active...":"Mark Corners"}),v&&c.jsxs(c.Fragment,{children:[c.jsx("input",{type:"file",ref:na,className:"hidden",multiple:!0,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff",onChange:Er}),c.jsxs("div",{className:"relative",children:[c.jsx("button",{onClick:()=>nr(!jt),disabled:!g,className:"w-full font-bold py-2 px-4 rounded-lg shadow-md transition-all text-sm bg-emerald-600 hover:bg-emerald-700 disabled:bg-gray-300 disabled:text-gray-500 disabled:cursor-not-allowed text-white flex items-center justify-center gap-2",children:"Reuse Last & Batch"}),jt&&c.jsxs("div",{className:"absolute bottom-full left-0 w-full mb-1 bg-white dark:bg-slate-800 rounded-lg shadow-xl border border-gray-200 dark:border-slate-700 overflow-hidden z-20 flex flex-col animate-in fade-in zoom-in-95 duration-100",children:[c.jsx("button",{className:"px-4 py-2 text-left text-xs hover:bg-gray-100 dark:hover:bg-slate-700 text-gray-700 dark:text-slate-200 border-b border-gray-100 dark:border-slate-700",onClick:()=>{var V;Zr("single"),(V=na.current)==null||V.click()},children:"1. Independent Frames"}),c.jsx("button",{className:"px-4 py-2 text-left text-xs hover:bg-gray-100 dark:hover:bg-slate-700 text-indigo-600 dark:text-indigo-400 font-bold",onClick:()=>{var V;Zr("pair"),(V=na.current)==null||V.click()},children:"2. Pair Difference (A-B)"})]})]})]}),c.jsxs("div",{className:"pt-2 mt-2 border-t border-gray-100 dark:border-slate-800",children:[c.jsx("input",{type:"file",ref:Zt,className:"hidden",accept:".txt",onChange:Sa}),c.jsx("button",{onClick:()=>{var V;return(V=Zt.current)==null?void 0:V.click()},className:"w-full font-bold py-2 px-4 rounded-lg shadow-sm transition-all text-xs bg-slate-100 hover:bg-slate-200 dark:bg-slate-800 dark:hover:bg-slate-700 text-gray-600 dark:text-slate-300 flex items-center justify-center gap-2 border border-gray-300 dark:border-slate-600",children:"Convert Format (.txt  .csv)"})]})]}),l!==void 0&&l>0&&c.jsx("div",{className:"mt-2 text-center",children:c.jsxs("p",{className:"text-xs text-indigo-600 dark:text-indigo-400 font-bold animate-pulse",children:[l===1&&"Click Top-Left Center",l===2&&"Click Top-Right Center",l===3&&"Click Bottom-Left Center",l===4&&"Click Bottom-Right Center"]})})]})]})}),L&&c.jsx(fs,{title:"Color Lab Tools",children:c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"text-sm text-gray-600 dark:text-slate-300 mb-2",children:"Calibrate colors using a standard ColorChecker 24 chart."}),c.jsx("button",{onClick:()=>{G==null||G(),A==null||A("cl mark")},disabled:!z||R!==void 0&&R>0,className:`w-full font-bold py-2 px-4 rounded-lg shadow-md transition-all text-sm ${z?R&&R>0?"bg-yellow-100 dark:bg-yellow-900 text-yellow-700 dark:text-yellow-300 border-2 border-yellow-500":"bg-yellow-600 hover:bg-yellow-700 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:R&&R>0?"Marking Active...":"Mark 24-Patch Chart"}),R!==void 0&&R>0&&c.jsx("div",{className:"mt-2 text-center",children:c.jsxs("p",{className:"text-xs text-yellow-600 dark:text-yellow-400 font-bold animate-pulse",children:[R===1&&"Click Top-Left (Brown)",R===2&&"Click Top-Right (Cyanish)",R===3&&"Click Bottom-Left (White)",R===4&&"Click Bottom-Right (Black)"]})})]})}),c.jsx(fs,{title:"Selection Tools",children:c.jsx("div",{className:"space-y-3",children:c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2",children:"Quick Select or Shift+drag"}),c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx("span",{className:"text-sm text-gray-600 dark:text-slate-300",children:"Size (px):"}),c.jsx("input",{type:"number",min:"1",value:ge,onChange:V=>xe(V.target.value),disabled:!z,className:"flex-1 px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-sm text-gray-900 dark:text-slate-100 transition-colors"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[c.jsx("button",{onClick:Nt,disabled:!z,className:"px-3 py-1.5 bg-gray-200 hover:bg-gray-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-800 dark:text-slate-200 text-xs font-semibold rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Center Rect"}),c.jsx("button",{onClick:Qe,disabled:!z,className:"px-3 py-1.5 bg-gray-200 hover:bg-gray-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-800 dark:text-slate-200 text-xs font-semibold rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Full Image"})]})]})})}),c.jsx(fs,{title:"Display Controls",children:c.jsxs("div",{className:"space-y-5",children:[c.jsxs("p",{className:"text-gray-500 dark:text-slate-400 text-center text-sm",children:["Adjust parameters and click ",c.jsx("b",{children:"Apply"}),"."]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"exposure",className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2",children:"Exposure (EV)"}),c.jsx("div",{className:"flex items-center gap-2 mb-2",children:c.jsx("input",{type:"range",min:"-5",max:"5",step:"0.1",disabled:!z,value:parseFloat(D)||0,onChange:V=>Qt(V.target.value),className:"w-full h-2 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-cyan-500 disabled:opacity-50"})}),c.jsx("div",{className:"flex items-center gap-2",children:c.jsx("input",{id:"exposure",type:"number",step:"0.1",value:D,onChange:V=>Qt(V.target.value),disabled:!z,className:"w-full px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-sm text-gray-900 dark:text-slate-100 transition-colors duration-300"})})]}),c.jsxs("div",{children:[c.jsxs("label",{htmlFor:"demosaic",className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2 flex justify-between",children:[c.jsx("span",{children:"Demosaic Method"}),(N||(t==null?void 0:t.isXTrans))&&c.jsx("span",{className:"text-[9px] text-red-500 font-bold bg-red-100 dark:bg-red-900/30 px-1 rounded",children:"DISABLED"})]}),c.jsx("select",{id:"demosaic",value:Oe,onChange:Ae,disabled:!z||N||(t==null?void 0:t.isXTrans),className:"w-full px-2 py-2 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none transition-colors disabled:bg-gray-100 dark:disabled:bg-slate-800/50 disabled:cursor-not-allowed text-sm text-gray-900 dark:text-slate-100",children:sO.map(V=>c.jsx("option",{value:V.value,children:V.label},V.value))}),N&&c.jsx("p",{className:"text-[9px] text-gray-400 mt-1",children:"Full color data detected. Demosaicing skipped."}),(t==null?void 0:t.isXTrans)&&c.jsx("p",{className:"text-[9px] text-amber-500 mt-1",children:"X-Trans detected. Please enable Pseudo-Bayer below."})]}),Q&&c.jsxs("div",{className:"border-t border-gray-100 dark:border-slate-800 pt-2",children:[c.jsx(hf,{checked:!!aa,onChange:V=>{P&&P(V),A==null||A(`xtrans ${V?"on":"off"}`)},label:"Force X-Trans (6x6 -> 2x2)"}),aa&&M&&E&&c.jsxs("div",{className:"mt-2 pl-2 border-l-2 border-emerald-500/50 bg-emerald-50/20 dark:bg-emerald-900/10 p-2 rounded",children:[c.jsx("label",{className:"text-[9px] font-bold text-gray-500 dark:text-slate-400 uppercase block mb-1",children:"Phase Offset (Fine Tune)"}),c.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"text-[9px] text-gray-400",children:"X (0-5)"}),c.jsx("input",{type:"number",min:"0",max:"5",value:M.x,onChange:V=>{const ke=Math.min(5,Math.max(0,parseInt(V.target.value)||0));E({x:ke}),A==null||A(`xtrans phase ${ke} ${M.y}`)},className:"w-full text-xs px-1 py-0.5 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded text-center outline-none focus:border-cyan-500"})]}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"text-[9px] text-gray-400",children:"Y (0-5)"}),c.jsx("input",{type:"number",min:"0",max:"5",value:M.y,onChange:V=>{const ke=Math.min(5,Math.max(0,parseInt(V.target.value)||0));E({y:ke}),A==null||A(`xtrans phase ${M.x} ${ke}`)},className:"w-full text-xs px-1 py-0.5 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded text-center outline-none focus:border-cyan-500"})]})]})]})]}),c.jsx("div",{className:"border-t border-gray-200 dark:border-slate-700 pt-2",children:c.jsx(hf,{checked:Le,onChange:it,label:"Advanced Settings"})}),Le&&c.jsxs("div",{className:"space-y-5 pl-2 border-l-2 border-gray-200 dark:border-slate-700 animate-in slide-in-from-top-2 duration-200",children:[c.jsxs("div",{children:[c.jsx(hf,{checked:oe,onChange:we,label:"Show Kadc"}),c.jsx("p",{className:"text-[10px] text-gray-400 dark:text-slate-500 mt-1",children:"Requires manual Black Levellinear PTC zoneabsolutely uniform image ."})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2",children:"White Balance Gains"}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-xs text-red-500 dark:text-red-400 block mb-1",children:"Red"}),c.jsx("input",{type:"number",step:"0.01",value:Y,onChange:V=>Bt(V.target.value),disabled:!z,className:"w-full px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-red-500 outline-none text-sm text-gray-900 dark:text-slate-100 transition-colors duration-300"})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-xs text-blue-500 dark:text-blue-400 block mb-1",children:"Blue"}),c.jsx("input",{type:"number",step:"0.01",value:he,onChange:V=>ie(V.target.value),disabled:!z,className:"w-full px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-blue-500 outline-none text-sm text-gray-900 dark:text-slate-100 transition-colors duration-300"})]})]})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between items-end mb-2",children:[c.jsxs("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide flex items-center",children:["Black Level (4-Ch)",c.jsx("span",{className:"ml-1 text-[10px] text-gray-400 dark:text-slate-500 font-normal normal-case",children:"Native"}),c.jsx("button",{onClick:()=>mt(!0),className:"ml-2 text-[10px] text-cyan-600 dark:text-cyan-400 hover:text-cyan-700 dark:hover:text-cyan-300 hover:underline cursor-pointer transition-colors",title:"About Black Level Settings",children:"[about]"})]}),c.jsxs("div",{className:"flex items-center gap-1.5",title:"Subtract Black Level from ROI Mean stats (for display)",children:[c.jsx("span",{className:"text-[9px] font-mono text-gray-400 dark:text-slate-500 uppercase tracking-wide",children:"Sub. BL"}),c.jsx("div",{className:`relative w-8 h-4 rounded-full cursor-pointer transition-colors duration-200 ease-in-out ${ve?"bg-cyan-500":"bg-gray-300 dark:bg-slate-700"}`,onClick:()=>Ke(!ve),children:c.jsx("div",{className:`absolute top-0.5 left-0.5 bg-white w-3 h-3 rounded-full shadow-sm transform transition-transform duration-200 ${ve?"translate-x-4":"translate-x-0"}`})})]})]}),c.jsx("input",{type:"text",value:ne,onChange:V=>ce(V.target.value),disabled:!z,placeholder:"0 0 0 0",className:"w-full px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-xs font-mono text-gray-900 dark:text-slate-100 transition-colors duration-300",title:"Enter 4 values separated by space or comma"}),c.jsx("p",{className:"text-[10px] text-gray-400 dark:text-slate-500 mt-1",children:"Order: (0,0) (0,1) (1,0) (1,1). Spatial: TL, TR, BL, BR."})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between items-end mb-2",children:[c.jsxs("label",{htmlFor:"customMatrix",className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block",children:["Custom Color Matrix",c.jsx("span",{className:"block text-[10px] text-gray-400 dark:text-slate-500 font-normal normal-case mt-0.5",children:"XYZ to Camera RGB (3x3, 9 nums)"})]}),c.jsxs("select",{className:"text-[10px] bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-slate-600 rounded-none px-1 py-0.5 max-w-[120px] cursor-pointer outline-none text-gray-700 dark:text-gray-300",onChange:V=>{const ke=dd[V.target.value];ke&&$(ke),V.target.value=""},defaultValue:"",children:[c.jsx("option",{value:"",disabled:!0,children:"Select Camera..."}),Dt.map(V=>c.jsx("option",{value:V,children:V},V))]})]}),c.jsx("textarea",{id:"customMatrix",value:q,onChange:ze,disabled:!z,placeholder:"0.66 -0.19 -0.04  -0.46 1.23 0.25  -0.06 0.13 0.65",className:"w-full h-24 px-2 py-2 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none transition-colors disabled:bg-gray-100 dark:disabled:bg-slate-800/50 disabled:cursor-not-allowed text-xs font-mono leading-relaxed text-gray-900 dark:text-slate-100"})]})]}),c.jsxs("div",{className:"pt-4 flex flex-col gap-2",children:[c.jsx("button",{onClick:Fe,disabled:!z,className:"w-full text-base bg-cyan-500 hover:bg-cyan-600 dark:bg-cyan-600 dark:hover:bg-cyan-500 disabled:bg-gray-300 dark:disabled:bg-slate-800 disabled:text-gray-500 dark:disabled:text-slate-500 disabled:cursor-not-allowed text-white font-bold py-3 px-3 rounded-lg shadow-lg shadow-cyan-500/20 dark:shadow-cyan-900/20 transition-all active:scale-95",children:""}),c.jsxs("button",{onClick:ct,disabled:!z,className:"w-full text-xs font-bold bg-slate-700 hover:bg-slate-600 text-white disabled:bg-gray-300 dark:disabled:bg-slate-800 disabled:text-gray-500 transition-colors py-2 rounded-lg flex items-center justify-center gap-1.5 border border-slate-600",title:"Diagnostic Mode. Direct RAW-to-Grayscale mapping using manual Black Level & WB Gains (R/B calibration).",children:[c.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"",c.jsx("br",{}),"CM"]}),c.jsxs("button",{onClick:()=>B==null?void 0:B(),disabled:!z,className:"w-full text-sm font-bold bg-indigo-600 hover:bg-indigo-500 text-white disabled:bg-gray-300 dark:disabled:bg-slate-800 disabled:text-gray-500 transition-all py-3 rounded-lg flex items-center justify-center gap-1.5 border-2 border-black shadow-[4px_4px_0px_black] active:translate-x-1 active:translate-y-1 active:shadow-none",title:"Manual Lab Workstation: 16-bit Bit Shift and Manual DNG Container Packaging",children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),"Generate 16bit DNG"]}),c.jsx("button",{onClick:et,disabled:!z,className:"w-full text-xs text-gray-400 hover:text-gray-600 dark:text-slate-400 dark:hover:text-slate-200 disabled:text-gray-300 dark:disabled:text-slate-600 transition-colors mt-1",children:"Reset Defaults (Local)"})]})]})})]}),c.jsx(ai,{isOpen:Nr,onClose:()=>mt(!1),onConfirm:()=>{window.open("https://y-g-jiang.github.io/CBLD.html","_blank"),mt(!1)},title:"Black Level Info / ",confirmText:"Visit Database (CBLD)",cancelText:"Close",message:c.jsxs("div",{className:"flex flex-col gap-4 text-left text-sm text-gray-600 dark:text-slate-300",children:[c.jsxs("p",{className:"leading-relaxed",children:["JiangBridge/JiangBridge",c.jsx("a",{href:"https://y-g-jiang.github.io/CBLD.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline mx-1 font-bold",children:"CBLD.html"}),""]}),c.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 w-full"}),c.jsxs("p",{className:"leading-relaxed",children:["Autofills when JiangBridge is detected. If no result is found or JiangBridge is missing, please check the ",c.jsx("a",{href:"https://y-g-jiang.github.io/CBLD.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline mx-1 font-bold",children:"Black Level Database"}),"to find your camera model. However, manually capturing a dark frame with identical settings to calculate and input the values is highly recommended for higher decimal precision, as internal tags often lack accuracy."]})]})}),c.jsx(ai,{isOpen:Ue,onClose:()=>lt(!1),onConfirm:()=>{},title:"Select Zero-Dependency Mode",confirmText:"",cancelText:"",message:c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsx("div",{className:"text-gray-600 dark:text-slate-300 text-left text-sm leading-relaxed mb-2",children:"Select how you want to visualize the raw data without full JOraw processing."}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[c.jsxs("button",{onClick:()=>Mt("mosaic"),className:"flex flex-col items-center justify-center p-4 bg-gray-100 hover:bg-gray-200 dark:bg-slate-800 dark:hover:bg-slate-700 border-2 border-transparent hover:border-gray-400 dark:hover:border-slate-500 rounded-xl transition-all group",children:[c.jsx("div",{className:"w-12 h-12 bg-gray-300 dark:bg-slate-600 rounded-full flex items-center justify-center mb-3 group-hover:scale-110 transition-transform",children:c.jsx("svg",{className:"w-6 h-6 text-gray-600 dark:text-slate-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}),c.jsx("h4",{className:"font-bold text-gray-800 dark:text-slate-200 mb-1",children:"Mosaic (Gray)"}),c.jsx("p",{className:"text-[10px] text-gray-500 dark:text-slate-400 text-center",children:"Original Bayer pattern. No demosaic. 1:1 pixel mapping. Pure DN visualization."})]}),c.jsxs("button",{onClick:()=>Mt("bilinear"),className:"flex flex-col items-center justify-center p-4 bg-indigo-50 hover:bg-indigo-100 dark:bg-indigo-900/20 dark:hover:bg-indigo-900/40 border-2 border-transparent hover:border-indigo-400 rounded-xl transition-all group",children:[c.jsx("div",{className:"w-12 h-12 bg-indigo-200 dark:bg-indigo-800 rounded-full flex items-center justify-center mb-3 group-hover:scale-110 transition-transform",children:c.jsx("svg",{className:"w-6 h-6 text-indigo-700 dark:text-indigo-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"})})}),c.jsx("h4",{className:"font-bold text-indigo-800 dark:text-indigo-300 mb-1",children:"Bilinear (Color)"}),c.jsx("p",{className:"text-[10px] text-indigo-600/80 dark:text-indigo-400/80 text-center",children:"Basic JS Demosaic + Matrix + Gamma. Bypass JOraw pipeline."})]})]}),c.jsx("button",{onClick:()=>lt(!1),className:"mt-2 w-full py-2 text-xs font-bold text-gray-500 hover:text-gray-700 dark:text-slate-400 dark:hover:text-slate-200 transition-colors",children:"Cancel"})]})})]})},cO=j.forwardRef((e,t)=>{const{rawImageData:r,displaySettings:n,onApplyDisplaySettings:a,onSetSelection:o,onStartMarking:i,onGenerateTestPic:s,onBatchDrLab:l,onProcessPair:u,onProcessBatchDiff:d,onProcessStackFft:f,onOpenCrossCalc:h,onToggleXTrans:p,onXTransPhaseChange:m}=e,[x,w]=j.useState([{id:"init",type:"info",text:'Jiangtherapee CLI v1.0. Type "help" for commands.'}]),[v,g]=j.useState(""),[y,k]=j.useState([]),[b,S]=j.useState(-1),_=j.useRef(null),N=j.useRef(null),P=j.useRef(null),M=j.useRef(null),E=j.useRef(null),C=j.useRef(null),A=j.useRef(null),L=j.useRef(null);j.useRef(null);const R=j.useRef({...n});j.useEffect(()=>{R.current={...n}},[n.exposure,n.demosaicMethod]);const G=j.useRef({fileA:null,fileB:null});j.useLayoutEffect(()=>{_.current&&(_.current.scrollTop=_.current.scrollHeight)},[x]);const O=(D,J="out")=>{w(q=>[...q,{id:Date.now().toString()+Math.random(),type:J,text:D}])};j.useImperativeHandle(t,()=>({log:(D,J="in")=>{const q=J;let $=D;J==="in"&&!D.startsWith(">")&&($=`> ${D}`),O($,q)}}));const T=j.useRef(null);j.useEffect(()=>{if(e.roiStats&&e.roiStats!==T.current){const D=e.roiStats,J=Math.round(D.x),q=Math.round(D.y),$=Math.round(D.width),ne=Math.round(D.height);O(`> sel ${J} ${q} ${$} ${ne}`,"in");const ce=e.isBGGR?[{name:"B",idx:0},{name:"G1",idx:1},{name:"G2",idx:2},{name:"R",idx:3}]:[{name:"R",idx:0},{name:"G1",idx:1},{name:"G2",idx:2},{name:"B",idx:3}],Y=c.jsxs("div",{className:"font-mono text-xs mt-1 mb-2",children:[c.jsxs("div",{className:"text-gray-400 mb-1",children:["Region Stats [",J,", ",q,", ",$,"x",ne,"]:"]}),c.jsxs("div",{className:"grid grid-cols-[30px_1fr_1fr] gap-x-2 border-b border-gray-700 pb-1 mb-1 text-gray-500 font-bold",children:[c.jsx("div",{children:"Ch"}),c.jsx("div",{className:"text-right",children:"Mean"}),c.jsx("div",{className:"text-right",children:"StdDev"})]}),ce.map(ue=>c.jsxs("div",{className:"grid grid-cols-[30px_1fr_1fr] gap-x-2 hover:bg-gray-900",children:[c.jsx("div",{className:ue.name==="R"?"text-red-500":ue.name==="B"?"text-blue-500":"text-green-500",children:ue.name}),c.jsx("div",{className:"text-right text-gray-300",children:D.means[ue.idx].toFixed(2)}),c.jsx("div",{className:"text-right text-gray-400",children:D.stdDevs[ue.idx].toFixed(2)})]},ue.name))]});O(Y,"out"),T.current=D}},[e.roiStats,e.isBGGR]);const B=D=>{var ne,ce,Y,ue,he,K,Oe;const J=D.trim().split(/\s+/),q=J[0].toLowerCase(),$=J.slice(1);switch(q){case"help":O("Available Commands:","info"),O("  ev <val>          Set Exposure (e.g. ev 1.5)","info"),O("  wb <r> <b>        Set WB Gains","info"),O("  bl <r> <g>...     Set Black Level (1 or 4 vals)","info"),O("  demo <id>         Demosaic (0=Lin, 3=AHD, -1=Raw)","info"),O("  matrix <n1..n9>   Set Custom Color Matrix","info"),O("  xtrans <on|off>   Force X-Trans Mode","info"),O("  xtrans phase <x> <y>  Set X-Trans Phase","info"),O("  render            Apply settings & Render","info"),O("  render zero       Zero-Dependency Render","info"),O("  render unmix      Advanced Unmixing Render","info"),O("  sel <full|center> Select ROI","info"),O("  sel <x> <y> <w> <h> Select ROI manually","info"),O("  mark              Start DR Lab Corner Marking","info"),O("  gen test          Generate Test Pattern","info"),O("  fft load <a>      Load FFT Pair Image A","info"),O("  fft load <b>      Load FFT Pair Image B","info"),O("  fft run           Run FFT Pair Diff","info"),O("  cls               Clear Screen","info");break;case"cls":case"clear":w([]);break;case"ev":case"exposure":if($.length<1){O(`Current EV: ${R.current.exposure}`,"info");return}const Se=parseFloat($[0]);if(isNaN(Se)){O("Invalid EV value","err");return}R.current.exposure=Se,O(`EV set to ${Se} (run 'render' to apply)`);break;case"wb":if($.length<2){O("Usage: wb <red_gain> <blue_gain>","err");return}const oe=parseFloat($[0]),we=parseFloat($[1]);if(isNaN(oe)||isNaN(we)){O("Invalid gains","err");return}R.current.wbGains=[oe,we],O(`WB set to R:${oe} B:${we}`);break;case"bl":case"black":if($.length===0){O(`Current BL: ${((ne=R.current.blackLevel)==null?void 0:ne.join(" "))||"Auto"}`,"info");return}let ve=$.map(Number);if(ve.some(isNaN)){O("Invalid numbers","err");return}if(ve.length===1&&(ve=[ve[0],ve[0],ve[0],ve[0]]),ve.length<4){O("Need 1 or 4 values","err");return}R.current.blackLevel=[ve[0],ve[1],ve[2],ve[3]],R.current.subtractBlackLevelFromStats=!0,R.current.showKadc=!0,O(`Black Level set: ${ve.slice(0,4).join(" ")}`);break;case"demo":case"demosaic":if($.length===0){O("Usage: demo <id> (0=Lin, 1=VNG, 2=PPG, 3=AHD, 4=DCB, 11=DHT, 12=AAHD, -1=Raw)","info");return}const Ke=parseInt($[0]);if(isNaN(Ke)){O("Invalid method ID","err");return}R.current.demosaicMethod=Ke,O(`Demosaic set to ID ${Ke}`);break;case"matrix":if($.length!==9){O("Usage: matrix m1 m2 m3 m4 m5 m6 m7 m8 m9 (3x3)","err");return}const ge=$.map(Number);if(ge.some(isNaN)){O("Invalid matrix values","err");return}R.current.customMatrix=ge,O("Custom Color Matrix set.");break;case"xtrans":if($[0]==="on"||$[0]==="true")p?(p(!0),O("X-Trans conversion ON")):O("Feature not available","err");else if($[0]==="off"||$[0]==="false")p?(p(!1),O("X-Trans conversion OFF")):O("Feature not available","err");else if($[0]==="phase"){if($.length<3){O("Usage: xtrans phase <x> <y>","err");return}const xe=parseInt($[1]),Le=parseInt($[2]);m&&(m({x:xe,y:Le}),O(`X-Trans Phase set to (${xe}, ${Le})`))}else O("Usage: xtrans <on|off> OR xtrans phase <x> <y>","err");break;case"render":case"apply":if($[0]==="zero"){const xe=$[1]==="color"?"zero-dep-color":"zero-dependency";R.current.renderMode=xe,O(`Rendering Zero-Dependency (${xe})...`)}else if($[0]==="unmix"){if($.length<13){O("Usage: render unmix <4xBL> <4xBG> <4xFG>","err");return}const xe=$.slice(1).map(Number);if(xe.some(isNaN)){O("Invalid params","err");return}R.current.renderMode="advanced-zero-dep",R.current.advancedZeroDep={bl:[xe[0],xe[1],xe[2],xe[3]],bg:[xe[4],xe[5],xe[6],xe[7]],fg:[xe[8],xe[9],xe[10],xe[11]]},O("Rendering Advanced Unmix...")}else R.current.renderMode="standard",O("Rendering Standard Pipeline...");a({...R.current});break;case"sel":case"select":if(!r||!o){O("No image loaded","err");return}if($[0]==="full")o({x:0,y:0,w:r.width,h:r.height});else if($[0]==="center"){const xe=parseInt($[1])||64,Le=Math.floor((r.width-xe)/2),it=Math.floor((r.height-xe)/2);o({x:Le,y:it,w:xe,h:xe})}else if($.length===4){const[xe,Le,it,xt]=$.map(Number);if([xe,Le,it,xt].some(isNaN)){O("Invalid coordinates","err");return}o({x:xe,y:Le,w:it,h:xt})}else O("Usage: sel full | sel center <size> | sel <x> <y> <w> <h>","err");break;case"mark":i&&(i(),O("Interactive marking started. Click 4 corners on canvas."));break;case"gen":($[0]==="test"||$[0]==="pattern")&&s&&(s(),O("Generated Test Pattern"));break;case"drlab":if($[0]==="config"){const[xe,Le,it]=$.slice(1).map(Number);e.onDrRoiSizeChange&&e.onDrRoiSizeChange(xe||64),e.onDrGridRowsChange&&e.onDrGridRowsChange(Le||10),e.onDrGridColsChange&&e.onDrGridColsChange(it||10),O(`DR Grid Configured: Size=${xe}, Grid=${Le}x${it}`)}else $[0]==="batch"&&($[1]==="pair"?(O("Select file pairs for DR Lab..."),(ce=M.current)==null||ce.click()):(O("Select single files for DR Lab..."),(Y=P.current)==null||Y.click()));break;case"fft":$[0]==="load"?$[1]==="a"?(ue=E.current)==null||ue.click():$[1]==="b"?(he=C.current)==null||he.click():O("Usage: fft load <a|b>","err"):$[0]==="run"?G.current.fileA&&G.current.fileB&&u?(O(`Processing Pair: ${G.current.fileA.name} - ${G.current.fileB.name}`),u(G.current.fileA,G.current.fileB,!1,!0)):O("Load both A and B first","err"):$[0]==="stack"?(O("Select files for Stack FFT..."),(K=A.current)==null||K.click()):$[0]==="batch"&&(O("Select files for Batch Diff...","info"),(Oe=L.current)==null||Oe.click());break;case"crosscalc":h&&(h(),O("Opened Cross-Calculator"));break;default:O(`Unknown command: ${q}`,"err")}},z=D=>{if(D.key==="Enter"){const J=v.trim();if(!J)return;O(`> ${J}`,"in"),J.split(";").forEach($=>{$.trim()&&B($.trim())}),k($=>[...$,J]),S(-1),g("")}else if(D.key==="ArrowUp"){if(D.preventDefault(),y.length>0){const J=b===-1?y.length-1:Math.max(0,b-1);S(J),g(y[J])}}else if(D.key==="ArrowDown")if(D.preventDefault(),b!==-1){const J=Math.min(y.length-1,b+1);S(J),g(y[J])}else g("")},te=(D,J)=>{D.target.files&&D.target.files.length>0&&l&&(O(`Batch processing ${D.target.files.length} files in ${J} mode...`),l(D.target.files,J)),D.target.value=""},Q=(D,J)=>{var $;const q=($=D.target.files)==null?void 0:$[0];q&&(J==="A"?G.current.fileA=q:G.current.fileB=q,O(`Loaded ${J}: ${q.name}`)),D.target.value=""};return c.jsxs("div",{className:"flex flex-col h-full bg-black text-green-500 font-mono text-sm border-l-4 border-gray-700 p-2 shadow-2xl",children:[c.jsxs("div",{className:"border-b border-green-800 pb-2 mb-2 flex justify-between items-end select-none",children:[c.jsx("h2",{className:"text-xl font-bold tracking-widest",children:"TERMINAL"}),c.jsx("div",{className:"text-[10px] text-green-700",children:"JIANGTHERAPEE_CLI_V1"})]}),c.jsx("div",{ref:_,className:"flex-grow overflow-y-auto overflow-x-hidden break-words mb-2 pr-1 scrollbar-thin scrollbar-thumb-green-900 scrollbar-track-black",children:x.map(D=>c.jsxs("div",{className:`mb-1 ${D.type==="in"?"opacity-50":""} ${D.type==="err"?"text-red-500":""} ${D.type==="info"?"text-cyan-400":""}`,children:[D.type!=="in"&&typeof D.text=="string"&&!D.text.startsWith(">")&&c.jsx("span",{className:"mr-2 opacity-50",children:">"}),D.text]},D.id))}),c.jsxs("div",{className:"relative flex items-center border-t border-green-800 pt-2",children:[c.jsx("span",{className:"text-green-500 mr-2 animate-pulse font-bold",children:">"}),c.jsx("input",{ref:N,type:"text",value:v,onChange:D=>g(D.target.value),onKeyDown:z,autoFocus:!0,className:"w-full bg-transparent border-none outline-none text-green-400 placeholder-green-900",placeholder:"Enter command (e.g. 'help')",spellCheck:!1,autoComplete:"off"})]}),c.jsx("input",{type:"file",ref:P,className:"hidden",multiple:!0,onChange:D=>te(D,"single")}),c.jsx("input",{type:"file",ref:M,className:"hidden",multiple:!0,onChange:D=>te(D,"pair")}),c.jsx("input",{type:"file",ref:E,className:"hidden",onChange:D=>Q(D,"A")}),c.jsx("input",{type:"file",ref:C,className:"hidden",onChange:D=>Q(D,"B")}),c.jsx("input",{type:"file",ref:A,className:"hidden",multiple:!0,onChange:D=>{e.onProcessStackFft&&D.target.files&&(O(`Loading ${D.target.files.length} frames for Stack FFT...`),e.onProcessStackFft(D.target.files)),D.target.value=""}}),c.jsx("input",{type:"file",ref:L,className:"hidden",multiple:!0,onChange:D=>{e.onProcessBatchDiff&&D.target.files&&(O("Starting Batch Diff..."),e.onProcessBatchDiff(D.target.files)),D.target.value=""}})]})}),uO=(e,t)=>{if(!e)return null;if(t){const r=e.bayerPattern.toUpperCase(),n=l=>{const u=[];for(let d=0;d<4;d++)r[d]===l&&u.push(d);return u},a=t.BlackLevelRed,o=t.BlackLevelGreen,i=t.BlackLevelBlue;if(a!==void 0&&o!==void 0&&i!==void 0){const l=parseFloat(a),u=parseFloat(o),d=parseFloat(i);if(!isNaN(l)&&!isNaN(u)&&!isNaN(d)){const f=[0,0,0,0];return f.fill(u),n("R").forEach(h=>f[h]=l),n("G").forEach(h=>f[h]=u),n("B").forEach(h=>d),f}}let s=t.BlackLevel;if(s===void 0&&(s=t.BlackLevel2),s!==void 0){let l=[];if(Array.isArray(s)?l=s.map(Number):typeof s=="string"?l=s.trim().split(/\s+/).map(Number):typeof s=="number"&&(l=[s,s,s,s]),l.length===1&&!isNaN(l[0])&&(l=[l[0],l[0],l[0],l[0]]),l.length>=4&&!l.slice(0,4).some(isNaN))return[l[0],l[1],l[2],l[3]]}}return e.blackLevels&&e.blackLevels.length===4?[e.blackLevels[0],e.blackLevels[1],e.blackLevels[2],e.blackLevels[3]]:null},fO=e=>{const[t,r]=j.useState("gui"),{rawImageData:n,exifData:a,isBridgeConnected:o,displaySettings:i,onApplyDisplaySettings:s}=e,l=j.useRef(null),u=j.useRef(!1),d=j.useRef(null);j.useEffect(()=>{n!==d.current&&(u.current=!1,d.current=n)},[n]),j.useEffect(()=>{var h;if(o&&n&&!u.current){u.current=!0;const p=uO(n,a),m=p&&p.some(x=>x>0);if(p&&m){console.log("[AutoApply] Detected Black Levels via Bridge:",p),(h=l.current)==null||h.log(`Auto-detected BL: ${p.join(" ")}`,"info");const x={...i,blackLevel:p,showKadc:!0,subtractBlackLevelFromStats:!0,exposure:i.exposure,wbGains:i.wbGains||[1,1],demosaicMethod:i.demosaicMethod,renderMode:"standard"};s(x)}}},[o,n,a,i,s]);const f=h=>{l.current&&l.current.log(h,"in")};return c.jsxs("div",{className:"flex flex-col h-full",children:[c.jsxs("div",{className:"flex bg-gray-200 dark:bg-gray-800 p-1 border-b border-gray-300 dark:border-gray-700 flex-shrink-0",children:[c.jsx("button",{onClick:()=>r("gui"),className:`flex-1 py-1 text-xs font-bold uppercase tracking-wider transition-colors border-r border-gray-300 dark:border-gray-700 ${t==="gui"?"bg-white dark:bg-black shadow-inner text-cyan-600 dark:text-cyan-400":"bg-gray-200 dark:bg-gray-900 text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}`,children:"GUI"}),c.jsx("button",{onClick:()=>r("terminal"),className:`flex-1 py-1 text-xs font-bold uppercase tracking-wider transition-colors ${t==="terminal"?"bg-black text-green-500 shadow-inner":"bg-gray-200 dark:bg-gray-900 text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}`,children:"Terminal"})]}),c.jsxs("div",{className:"flex-grow overflow-hidden relative",children:[c.jsx("div",{className:`h-full w-full ${t==="gui"?"block":"hidden"}`,children:c.jsx(lO,{...e,onCommand:f})}),c.jsx("div",{className:`h-full w-full ${t==="terminal"?"block":"hidden"}`,children:c.jsx(cO,{...e,ref:l})})]})]})},dO=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20 12H4"})}),hO=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})}),pO=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 4v5h5M4 12a8 8 0 0114.24-5.12M20 20v-5h-5M20 12a8 8 0 01-14.24 5.12"})}),gO=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 11.5V14m0-2.5v-6a1.5 1.5 0 113 0m-3 6a1.5 1.5 0 00-3 0v2a7.5 7.5 0 0015 0v-5a1.5 1.5 0 00-3 0m-6-3V11m0-5.5v-1a1.5 1.5 0 013 0v1m0 0V11m0-5.5a1.5 1.5 0 013 0v3m0 0V11"})}),mO=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 4l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})}),Pg=.1,Og=16,yO=Math.log(Pg),vO=Math.log(Og),xO=({zoom:e,onZoomChange:t,onResetView:r,touchAction:n,onToggleTouchAction:a})=>{const o=u=>{const d=parseFloat(u.target.value),f=Math.exp(d);t(Math.max(Pg,Math.min(Og,f)))},i=()=>{t(Math.min(Og,e*1.25))},s=()=>{t(Math.max(Pg,e/1.25))},l=Math.log(e);return c.jsxs("div",{className:"absolute top-4 right-4 flex gap-2",onClick:u=>u.stopPropagation(),children:[c.jsx("div",{className:"bg-white/90 dark:bg-slate-800/70 backdrop-blur-sm p-2 rounded-lg border border-gray-200 dark:border-slate-700 flex items-center shadow-lg transition-colors duration-300",children:c.jsx("button",{onClick:a,className:`p-1.5 rounded-md transition-colors flex items-center justify-center ${n==="select"?"bg-cyan-100 text-cyan-600 dark:bg-cyan-900/50 dark:text-cyan-400 ring-2 ring-cyan-500/50":"text-gray-500 dark:text-slate-400 hover:bg-gray-100 dark:hover:bg-slate-700"}`,title:n==="select"?"Mode: Selection (Drag to Select)":"Mode: Pan (Drag to Move)",children:n==="select"?c.jsx(mO,{}):c.jsx(gO,{})})}),c.jsxs("div",{className:"bg-white/90 dark:bg-slate-800/70 backdrop-blur-sm p-2 rounded-lg border border-gray-200 dark:border-slate-700 flex items-center gap-2 text-gray-700 dark:text-slate-300 shadow-lg transition-colors duration-300",children:[c.jsx("button",{onClick:s,className:"p-1 rounded-md hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",title:"Zoom Out","aria-label":"Zoom Out",children:c.jsx(dO,{})}),c.jsx("input",{type:"range",min:yO,max:vO,step:"0.01",value:l,onChange:o,className:"w-24 sm:w-32 h-2 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-cyan-500","aria-label":"Zoom slider"}),c.jsx("button",{onClick:i,className:"p-1 rounded-md hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",title:"Zoom In","aria-label":"Zoom In",children:c.jsx(hO,{})}),c.jsxs("span",{className:"w-16 text-center font-mono text-sm","aria-live":"polite",children:[(e*100).toFixed(0),"%"]}),c.jsx("button",{onClick:r,className:"p-1 rounded-md hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",title:"Reset View","aria-label":"Reset View",children:c.jsx(pO,{})})]})]})},bO=({theme:e,setTheme:t})=>{const r=()=>{t(e==="light"?"dark":"light")};return c.jsx("button",{onClick:r,className:"fixed bottom-6 right-6 z-50 p-3 rounded-full bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 shadow-lg text-gray-800 dark:text-yellow-400 hover:bg-gray-100 dark:hover:bg-slate-700 transition-all duration-300",title:`Switch to ${e==="light"?"dark":"light"} mode`,children:e==="light"?c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-slate-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}):c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})})})};function $S(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=$S(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function ot(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=$S(e))&&(n&&(n+=" "),n+=t);return n}var wO=Array.isArray,Un=wO,kO=typeof Ku=="object"&&Ku&&Ku.Object===Object&&Ku,DS=kO,SO=DS,jO=typeof self=="object"&&self&&self.Object===Object&&self,NO=SO||jO||Function("return this")(),ro=NO,_O=ro,PO=_O.Symbol,Tu=PO,b1=Tu,RS=Object.prototype,OO=RS.hasOwnProperty,CO=RS.toString,Yl=b1?b1.toStringTag:void 0;function MO(e){var t=OO.call(e,Yl),r=e[Yl];try{e[Yl]=void 0;var n=!0}catch{}var a=CO.call(e);return n&&(t?e[Yl]=r:delete e[Yl]),a}var AO=MO,EO=Object.prototype,TO=EO.toString;function $O(e){return TO.call(e)}var DO=$O,w1=Tu,RO=AO,IO=DO,LO="[object Null]",BO="[object Undefined]",k1=w1?w1.toStringTag:void 0;function FO(e){return e==null?e===void 0?BO:LO:k1&&k1 in Object(e)?RO(e):IO(e)}var Oo=FO;function zO(e){return e!=null&&typeof e=="object"}var Co=zO,GO=Oo,UO=Co,WO="[object Symbol]";function XO(e){return typeof e=="symbol"||UO(e)&&GO(e)==WO}var Sl=XO,HO=Un,VO=Sl,KO=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,YO=/^\w*$/;function qO(e,t){if(HO(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||VO(e)?!0:YO.test(e)||!KO.test(e)||t!=null&&e in Object(t)}var Jy=qO;function ZO(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var fi=ZO;const jl=Lt(fi);var QO=Oo,JO=fi,eC="[object AsyncFunction]",tC="[object Function]",rC="[object GeneratorFunction]",nC="[object Proxy]";function aC(e){if(!JO(e))return!1;var t=QO(e);return t==tC||t==rC||t==eC||t==nC}var ev=aC;const Ve=Lt(ev);var oC=ro,iC=oC["__core-js_shared__"],sC=iC,tp=sC,S1=function(){var e=/[^.]+$/.exec(tp&&tp.keys&&tp.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function lC(e){return!!S1&&S1 in e}var cC=lC,uC=Function.prototype,fC=uC.toString;function dC(e){if(e!=null){try{return fC.call(e)}catch{}try{return e+""}catch{}}return""}var IS=dC,hC=ev,pC=cC,gC=fi,mC=IS,yC=/[\\^$.*+?()[\]{}|]/g,vC=/^\[object .+?Constructor\]$/,xC=Function.prototype,bC=Object.prototype,wC=xC.toString,kC=bC.hasOwnProperty,SC=RegExp("^"+wC.call(kC).replace(yC,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function jC(e){if(!gC(e)||pC(e))return!1;var t=hC(e)?SC:vC;return t.test(mC(e))}var NC=jC;function _C(e,t){return e==null?void 0:e[t]}var PC=_C,OC=NC,CC=PC;function MC(e,t){var r=CC(e,t);return OC(r)?r:void 0}var ts=MC,AC=ts,EC=AC(Object,"create"),$0=EC,j1=$0;function TC(){this.__data__=j1?j1(null):{},this.size=0}var $C=TC;function DC(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var RC=DC,IC=$0,LC="__lodash_hash_undefined__",BC=Object.prototype,FC=BC.hasOwnProperty;function zC(e){var t=this.__data__;if(IC){var r=t[e];return r===LC?void 0:r}return FC.call(t,e)?t[e]:void 0}var GC=zC,UC=$0,WC=Object.prototype,XC=WC.hasOwnProperty;function HC(e){var t=this.__data__;return UC?t[e]!==void 0:XC.call(t,e)}var VC=HC,KC=$0,YC="__lodash_hash_undefined__";function qC(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=KC&&t===void 0?YC:t,this}var ZC=qC,QC=$C,JC=RC,eM=GC,tM=VC,rM=ZC;function Nl(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Nl.prototype.clear=QC;Nl.prototype.delete=JC;Nl.prototype.get=eM;Nl.prototype.has=tM;Nl.prototype.set=rM;var nM=Nl;function aM(){this.__data__=[],this.size=0}var oM=aM;function iM(e,t){return e===t||e!==e&&t!==t}var tv=iM,sM=tv;function lM(e,t){for(var r=e.length;r--;)if(sM(e[r][0],t))return r;return-1}var D0=lM,cM=D0,uM=Array.prototype,fM=uM.splice;function dM(e){var t=this.__data__,r=cM(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():fM.call(t,r,1),--this.size,!0}var hM=dM,pM=D0;function gM(e){var t=this.__data__,r=pM(t,e);return r<0?void 0:t[r][1]}var mM=gM,yM=D0;function vM(e){return yM(this.__data__,e)>-1}var xM=vM,bM=D0;function wM(e,t){var r=this.__data__,n=bM(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var kM=wM,SM=oM,jM=hM,NM=mM,_M=xM,PM=kM;function _l(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}_l.prototype.clear=SM;_l.prototype.delete=jM;_l.prototype.get=NM;_l.prototype.has=_M;_l.prototype.set=PM;var R0=_l,OM=ts,CM=ro,MM=OM(CM,"Map"),rv=MM,N1=nM,AM=R0,EM=rv;function TM(){this.size=0,this.__data__={hash:new N1,map:new(EM||AM),string:new N1}}var $M=TM;function DM(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var RM=DM,IM=RM;function LM(e,t){var r=e.__data__;return IM(t)?r[typeof t=="string"?"string":"hash"]:r.map}var I0=LM,BM=I0;function FM(e){var t=BM(this,e).delete(e);return this.size-=t?1:0,t}var zM=FM,GM=I0;function UM(e){return GM(this,e).get(e)}var WM=UM,XM=I0;function HM(e){return XM(this,e).has(e)}var VM=HM,KM=I0;function YM(e,t){var r=KM(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var qM=YM,ZM=$M,QM=zM,JM=WM,eA=VM,tA=qM;function Pl(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Pl.prototype.clear=ZM;Pl.prototype.delete=QM;Pl.prototype.get=JM;Pl.prototype.has=eA;Pl.prototype.set=tA;var nv=Pl,LS=nv,rA="Expected a function";function av(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(rA);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],o=r.cache;if(o.has(a))return o.get(a);var i=e.apply(this,n);return r.cache=o.set(a,i)||o,i};return r.cache=new(av.Cache||LS),r}av.Cache=LS;var BS=av;const nA=Lt(BS);var aA=BS,oA=500;function iA(e){var t=aA(e,function(n){return r.size===oA&&r.clear(),n}),r=t.cache;return t}var sA=iA,lA=sA,cA=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,uA=/\\(\\)?/g,fA=lA(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(cA,function(r,n,a,o){t.push(a?o.replace(uA,"$1"):n||r)}),t}),dA=fA;function hA(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var ov=hA,_1=Tu,pA=ov,gA=Un,mA=Sl,P1=_1?_1.prototype:void 0,O1=P1?P1.toString:void 0;function FS(e){if(typeof e=="string")return e;if(gA(e))return pA(e,FS)+"";if(mA(e))return O1?O1.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var yA=FS,vA=yA;function xA(e){return e==null?"":vA(e)}var zS=xA,bA=Un,wA=Jy,kA=dA,SA=zS;function jA(e,t){return bA(e)?e:wA(e,t)?[e]:kA(SA(e))}var GS=jA,NA=Sl;function _A(e){if(typeof e=="string"||NA(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var L0=_A,PA=GS,OA=L0;function CA(e,t){t=PA(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[OA(t[r++])];return r&&r==n?e:void 0}var iv=CA,MA=iv;function AA(e,t,r){var n=e==null?void 0:MA(e,t);return n===void 0?r:n}var US=AA;const ya=Lt(US);function EA(e){return e==null}var TA=EA;const We=Lt(TA);var $A=Oo,DA=Un,RA=Co,IA="[object String]";function LA(e){return typeof e=="string"||!DA(e)&&RA(e)&&$A(e)==IA}var BA=LA;const Hi=Lt(BA);var WS={exports:{}},Ct={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sv=Symbol.for("react.element"),lv=Symbol.for("react.portal"),B0=Symbol.for("react.fragment"),F0=Symbol.for("react.strict_mode"),z0=Symbol.for("react.profiler"),G0=Symbol.for("react.provider"),U0=Symbol.for("react.context"),FA=Symbol.for("react.server_context"),W0=Symbol.for("react.forward_ref"),X0=Symbol.for("react.suspense"),H0=Symbol.for("react.suspense_list"),V0=Symbol.for("react.memo"),K0=Symbol.for("react.lazy"),zA=Symbol.for("react.offscreen"),XS;XS=Symbol.for("react.module.reference");function wa(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case sv:switch(e=e.type,e){case B0:case z0:case F0:case X0:case H0:return e;default:switch(e=e&&e.$$typeof,e){case FA:case U0:case W0:case K0:case V0:case G0:return e;default:return t}}case lv:return t}}}Ct.ContextConsumer=U0;Ct.ContextProvider=G0;Ct.Element=sv;Ct.ForwardRef=W0;Ct.Fragment=B0;Ct.Lazy=K0;Ct.Memo=V0;Ct.Portal=lv;Ct.Profiler=z0;Ct.StrictMode=F0;Ct.Suspense=X0;Ct.SuspenseList=H0;Ct.isAsyncMode=function(){return!1};Ct.isConcurrentMode=function(){return!1};Ct.isContextConsumer=function(e){return wa(e)===U0};Ct.isContextProvider=function(e){return wa(e)===G0};Ct.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===sv};Ct.isForwardRef=function(e){return wa(e)===W0};Ct.isFragment=function(e){return wa(e)===B0};Ct.isLazy=function(e){return wa(e)===K0};Ct.isMemo=function(e){return wa(e)===V0};Ct.isPortal=function(e){return wa(e)===lv};Ct.isProfiler=function(e){return wa(e)===z0};Ct.isStrictMode=function(e){return wa(e)===F0};Ct.isSuspense=function(e){return wa(e)===X0};Ct.isSuspenseList=function(e){return wa(e)===H0};Ct.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===B0||e===z0||e===F0||e===X0||e===H0||e===zA||typeof e=="object"&&e!==null&&(e.$$typeof===K0||e.$$typeof===V0||e.$$typeof===G0||e.$$typeof===U0||e.$$typeof===W0||e.$$typeof===XS||e.getModuleId!==void 0)};Ct.typeOf=wa;WS.exports=Ct;var GA=WS.exports,UA=Oo,WA=Co,XA="[object Number]";function HA(e){return typeof e=="number"||WA(e)&&UA(e)==XA}var HS=HA;const VA=Lt(HS);var KA=HS;function YA(e){return KA(e)&&e!=+e}var qA=YA;const Ol=Lt(qA);var $a=function(t){return t===0?0:t>0?1:-1},Ai=function(t){return Hi(t)&&t.indexOf("%")===t.length-1},fe=function(t){return VA(t)&&!Ol(t)},ZA=function(t){return We(t)},Br=function(t){return fe(t)||Hi(t)},QA=0,rs=function(t){var r=++QA;return"".concat(t||"").concat(r)},Vi=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!fe(t)&&!Hi(t))return n;var o;if(Ai(t)){var i=t.indexOf("%");o=r*parseFloat(t.slice(0,i))/100}else o=+t;return Ol(o)&&(o=n),a&&o>r&&(o=r),o},Uo=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},JA=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},jr=function(t,r){return fe(t)&&fe(r)?function(n){return t+n*(r-t)}:function(){return r}};function hd(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):ya(n,t))===r})}var e6=function(t){if(!t||!t.length)return null;for(var r=t.length,n=0,a=0,o=0,i=0,s=1/0,l=-1/0,u=0,d=0,f=0;f<r;f++)u=t[f].cx||0,d=t[f].cy||0,n+=u,a+=d,o+=u*d,i+=u*u,s=Math.min(s,u),l=Math.max(l,u);var h=r*i!==n*n?(r*o-n*a)/(r*i-n*n):0;return{xmin:s,xmax:l,a:h,b:(a-h*n)/r}},t6=function(t,r){return fe(t)&&fe(r)?t-r:Hi(t)&&Hi(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Is(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function Cg(e){"@babel/helpers - typeof";return Cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cg(e)}var r6=["viewBox","children"],n6=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],C1=["points","pathLength"],rp={svg:r6,polygon:C1,polyline:C1},cv=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],pd=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(j.isValidElement(t)&&(n=t.props),!jl(n))return null;var a={};return Object.keys(n).forEach(function(o){cv.includes(o)&&(a[o]=r||function(i){return n[o](n,i)})}),a},a6=function(t,r,n){return function(a){return t(r,n,a),null}},Xc=function(t,r,n){if(!jl(t)||Cg(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(o){var i=t[o];cv.includes(o)&&typeof i=="function"&&(a||(a={}),a[o]=a6(i,r,n))}),a},o6=["children"],i6=["children"];function M1(e,t){if(e==null)return{};var r=s6(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function s6(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Mg(e){"@babel/helpers - typeof";return Mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mg(e)}var A1={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},mo=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},E1=null,np=null,uv=function e(t){if(t===E1&&Array.isArray(np))return np;var r=[];return j.Children.forEach(t,function(n){We(n)||(GA.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),np=r,E1=t,r};function Fn(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return mo(a)}):n=[mo(t)],uv(e).forEach(function(a){var o=ya(a,"type.displayName")||ya(a,"type.name");n.indexOf(o)!==-1&&r.push(a)}),r}function qn(e,t){var r=Fn(e,t);return r&&r[0]}var T1=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!fe(n)||n<=0||!fe(a)||a<=0)},l6=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],c6=function(t){return t&&t.type&&Hi(t.type)&&l6.indexOf(t.type)>=0},VS=function(t){return t&&Mg(t)==="object"&&"clipDot"in t},u6=function(t,r,n,a){var o,i=(o=rp==null?void 0:rp[a])!==null&&o!==void 0?o:[];return r.startsWith("data-")||!Ve(t)&&(a&&i.includes(r)||n6.includes(r))||n&&cv.includes(r)},He=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(j.isValidElement(t)&&(a=t.props),!jl(a))return null;var o={};return Object.keys(a).forEach(function(i){var s;u6((s=a)===null||s===void 0?void 0:s[i],i,r,n)&&(o[i]=a[i])}),o},Ag=function e(t,r){if(t===r)return!0;var n=j.Children.count(t);if(n!==j.Children.count(r))return!1;if(n===0)return!0;if(n===1)return $1(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var o=t[a],i=r[a];if(Array.isArray(o)||Array.isArray(i)){if(!e(o,i))return!1}else if(!$1(o,i))return!1}return!0},$1=function(t,r){if(We(t)&&We(r))return!0;if(!We(t)&&!We(r)){var n=t.props||{},a=n.children,o=M1(n,o6),i=r.props||{},s=i.children,l=M1(i,i6);return a&&s?Is(o,l)&&Ag(a,s):!a&&!s?Is(o,l):!1}return!1},D1=function(t,r){var n=[],a={};return uv(t).forEach(function(o,i){if(c6(o))n.push(o);else if(o){var s=mo(o.type),l=r[s]||{},u=l.handler,d=l.once;if(u&&(!d||!a[s])){var f=u(o,s,i);n.push(f),a[s]=!0}}}),n},f6=function(t){var r=t&&t.type;return r&&A1[r]?A1[r]:null},d6=function(t,r){return uv(r).indexOf(t)},h6=["children","width","height","viewBox","className","style","title","desc"];function Eg(){return Eg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Eg.apply(this,arguments)}function p6(e,t){if(e==null)return{};var r=g6(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function g6(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Tg(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,o=e.className,i=e.style,s=e.title,l=e.desc,u=p6(e,h6),d=a||{width:r,height:n,x:0,y:0},f=ot("recharts-surface",o);return F.createElement("svg",Eg({},He(u,!0,"svg"),{className:f,width:r,height:n,style:i,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),F.createElement("title",null,s),F.createElement("desc",null,l),t)}var m6=["children","className"];function $g(){return $g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$g.apply(this,arguments)}function y6(e,t){if(e==null)return{};var r=v6(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function v6(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var vt=F.forwardRef(function(e,t){var r=e.children,n=e.className,a=y6(e,m6),o=ot("recharts-layer",n);return F.createElement("g",$g({className:o},He(a,!0),{ref:t}),r)}),yo=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o]};function x6(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(a);++n<a;)o[n]=e[n+t];return o}var b6=x6,w6=b6;function k6(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:w6(e,t,r)}var S6=k6,j6="\\ud800-\\udfff",N6="\\u0300-\\u036f",_6="\\ufe20-\\ufe2f",P6="\\u20d0-\\u20ff",O6=N6+_6+P6,C6="\\ufe0e\\ufe0f",M6="\\u200d",A6=RegExp("["+M6+j6+O6+C6+"]");function E6(e){return A6.test(e)}var KS=E6;function T6(e){return e.split("")}var $6=T6,YS="\\ud800-\\udfff",D6="\\u0300-\\u036f",R6="\\ufe20-\\ufe2f",I6="\\u20d0-\\u20ff",L6=D6+R6+I6,B6="\\ufe0e\\ufe0f",F6="["+YS+"]",Dg="["+L6+"]",Rg="\\ud83c[\\udffb-\\udfff]",z6="(?:"+Dg+"|"+Rg+")",qS="[^"+YS+"]",ZS="(?:\\ud83c[\\udde6-\\uddff]){2}",QS="[\\ud800-\\udbff][\\udc00-\\udfff]",G6="\\u200d",JS=z6+"?",ej="["+B6+"]?",U6="(?:"+G6+"(?:"+[qS,ZS,QS].join("|")+")"+ej+JS+")*",W6=ej+JS+U6,X6="(?:"+[qS+Dg+"?",Dg,ZS,QS,F6].join("|")+")",H6=RegExp(Rg+"(?="+Rg+")|"+X6+W6,"g");function V6(e){return e.match(H6)||[]}var K6=V6,Y6=$6,q6=KS,Z6=K6;function Q6(e){return q6(e)?Z6(e):Y6(e)}var J6=Q6,eE=S6,tE=KS,rE=J6,nE=zS;function aE(e){return function(t){t=nE(t);var r=tE(t)?rE(t):void 0,n=r?r[0]:t.charAt(0),a=r?eE(r,1).join(""):t.slice(1);return n[e]()+a}}var oE=aE,iE=oE,sE=iE("toUpperCase"),lE=sE;const Y0=Lt(lE);function zt(e){return function(){return e}}const tj=Math.cos,gd=Math.sin,Ba=Math.sqrt,md=Math.PI,q0=2*md,Ig=Math.PI,Lg=2*Ig,Ni=1e-6,cE=Lg-Ni;function rj(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function uE(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return rj;const r=10**t;return function(n){this._+=n[0];for(let a=1,o=n.length;a<o;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class fE{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?rj:uE(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,o,i){this._append`C${+t},${+r},${+n},${+a},${this._x1=+o},${this._y1=+i}`}arcTo(t,r,n,a,o){if(t=+t,r=+r,n=+n,a=+a,o=+o,o<0)throw new Error(`negative radius: ${o}`);let i=this._x1,s=this._y1,l=n-t,u=a-r,d=i-t,f=s-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Ni)if(!(Math.abs(f*l-u*d)>Ni)||!o)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-i,m=a-s,x=l*l+u*u,w=p*p+m*m,v=Math.sqrt(x),g=Math.sqrt(h),y=o*Math.tan((Ig-Math.acos((x+h-w)/(2*v*g)))/2),k=y/g,b=y/v;Math.abs(k-1)>Ni&&this._append`L${t+k*d},${r+k*f}`,this._append`A${o},${o},0,0,${+(f*p>d*m)},${this._x1=t+b*l},${this._y1=r+b*u}`}}arc(t,r,n,a,o,i){if(t=+t,r=+r,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(a),l=n*Math.sin(a),u=t+s,d=r+l,f=1^i,h=i?a-o:o-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Ni||Math.abs(this._y1-d)>Ni)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%Lg+Lg),h>cE?this._append`A${n},${n},0,1,${f},${t-s},${r-l}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Ni&&this._append`A${n},${n},0,${+(h>=Ig)},${f},${this._x1=t+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function fv(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new fE(t)}function dv(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function nj(e){this._context=e}nj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Z0(e){return new nj(e)}function aj(e){return e[0]}function oj(e){return e[1]}function ij(e,t){var r=zt(!0),n=null,a=Z0,o=null,i=fv(s);e=typeof e=="function"?e:e===void 0?aj:zt(e),t=typeof t=="function"?t:t===void 0?oj:zt(t);function s(l){var u,d=(l=dv(l)).length,f,h=!1,p;for(n==null&&(o=a(p=i())),u=0;u<=d;++u)!(u<d&&r(f=l[u],u,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+e(f,u,l),+t(f,u,l));if(p)return o=null,p+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:zt(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:zt(+l),s):t},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:zt(!!l),s):r},s.curve=function(l){return arguments.length?(a=l,n!=null&&(o=a(n)),s):a},s.context=function(l){return arguments.length?(l==null?n=o=null:o=a(n=l),s):n},s}function pf(e,t,r){var n=null,a=zt(!0),o=null,i=Z0,s=null,l=fv(u);e=typeof e=="function"?e:e===void 0?aj:zt(+e),t=typeof t=="function"?t:zt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?oj:zt(+r);function u(f){var h,p,m,x=(f=dv(f)).length,w,v=!1,g,y=new Array(x),k=new Array(x);for(o==null&&(s=i(g=l())),h=0;h<=x;++h){if(!(h<x&&a(w=f[h],h,f))===v)if(v=!v)p=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),m=h-1;m>=p;--m)s.point(y[m],k[m]);s.lineEnd(),s.areaEnd()}v&&(y[h]=+e(w,h,f),k[h]=+t(w,h,f),s.point(n?+n(w,h,f):y[h],r?+r(w,h,f):k[h]))}if(g)return s=null,g+""||null}function d(){return ij().defined(a).curve(i).context(o)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:zt(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:zt(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:zt(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:zt(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:zt(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:zt(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:zt(!!f),u):a},u.curve=function(f){return arguments.length?(i=f,o!=null&&(s=i(o)),u):i},u.context=function(f){return arguments.length?(f==null?o=s=null:s=i(o=f),u):o},u}class sj{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function dE(e){return new sj(e,!0)}function hE(e){return new sj(e,!1)}const hv={draw(e,t){const r=Ba(t/md);e.moveTo(r,0),e.arc(0,0,r,0,q0)}},pE={draw(e,t){const r=Ba(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},lj=Ba(1/3),gE=lj*2,mE={draw(e,t){const r=Ba(t/gE),n=r*lj;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},yE={draw(e,t){const r=Ba(t),n=-r/2;e.rect(n,n,r,r)}},vE=.8908130915292852,cj=gd(md/10)/gd(7*md/10),xE=gd(q0/10)*cj,bE=-tj(q0/10)*cj,wE={draw(e,t){const r=Ba(t*vE),n=xE*r,a=bE*r;e.moveTo(0,-r),e.lineTo(n,a);for(let o=1;o<5;++o){const i=q0*o/5,s=tj(i),l=gd(i);e.lineTo(l*r,-s*r),e.lineTo(s*n-l*a,l*n+s*a)}e.closePath()}},ap=Ba(3),kE={draw(e,t){const r=-Ba(t/(ap*3));e.moveTo(0,r*2),e.lineTo(-ap*r,-r),e.lineTo(ap*r,-r),e.closePath()}},sa=-.5,la=Ba(3)/2,Bg=1/Ba(12),SE=(Bg/2+1)*3,jE={draw(e,t){const r=Ba(t/SE),n=r/2,a=r*Bg,o=n,i=r*Bg+r,s=-o,l=i;e.moveTo(n,a),e.lineTo(o,i),e.lineTo(s,l),e.lineTo(sa*n-la*a,la*n+sa*a),e.lineTo(sa*o-la*i,la*o+sa*i),e.lineTo(sa*s-la*l,la*s+sa*l),e.lineTo(sa*n+la*a,sa*a-la*n),e.lineTo(sa*o+la*i,sa*i-la*o),e.lineTo(sa*s+la*l,sa*l-la*s),e.closePath()}};function NE(e,t){let r=null,n=fv(a);e=typeof e=="function"?e:zt(e||hv),t=typeof t=="function"?t:zt(t===void 0?64:+t);function a(){let o;if(r||(r=o=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),o)return r=null,o+""||null}return a.type=function(o){return arguments.length?(e=typeof o=="function"?o:zt(o),a):e},a.size=function(o){return arguments.length?(t=typeof o=="function"?o:zt(+o),a):t},a.context=function(o){return arguments.length?(r=o??null,a):r},a}function yd(){}function vd(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function uj(e){this._context=e}uj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:vd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:vd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function _E(e){return new uj(e)}function fj(e){this._context=e}fj.prototype={areaStart:yd,areaEnd:yd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:vd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function PE(e){return new fj(e)}function dj(e){this._context=e}dj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:vd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function OE(e){return new dj(e)}function hj(e){this._context=e}hj.prototype={areaStart:yd,areaEnd:yd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function CE(e){return new hj(e)}function R1(e){return e<0?-1:1}function I1(e,t,r){var n=e._x1-e._x0,a=t-e._x1,o=(e._y1-e._y0)/(n||a<0&&-0),i=(r-e._y1)/(a||n<0&&-0),s=(o*a+i*n)/(n+a);return(R1(o)+R1(i))*Math.min(Math.abs(o),Math.abs(i),.5*Math.abs(s))||0}function L1(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function op(e,t,r){var n=e._x0,a=e._y0,o=e._x1,i=e._y1,s=(o-n)/3;e._context.bezierCurveTo(n+s,a+s*t,o-s,i-s*r,o,i)}function xd(e){this._context=e}xd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:op(this,this._t0,L1(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,op(this,L1(this,r=I1(this,e,t)),r);break;default:op(this,this._t0,r=I1(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function pj(e){this._context=new gj(e)}(pj.prototype=Object.create(xd.prototype)).point=function(e,t){xd.prototype.point.call(this,t,e)};function gj(e){this._context=e}gj.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,o){this._context.bezierCurveTo(t,e,n,r,o,a)}};function ME(e){return new xd(e)}function AE(e){return new pj(e)}function mj(e){this._context=e}mj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=B1(e),a=B1(t),o=0,i=1;i<r;++o,++i)this._context.bezierCurveTo(n[0][o],a[0][o],n[1][o],a[1][o],e[i],t[i]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function B1(e){var t,r=e.length-1,n,a=new Array(r),o=new Array(r),i=new Array(r);for(a[0]=0,o[0]=2,i[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,o[t]=4,i[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,o[r-1]=7,i[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/o[t-1],o[t]-=n,i[t]-=n*i[t-1];for(a[r-1]=i[r-1]/o[r-1],t=r-2;t>=0;--t)a[t]=(i[t]-a[t+1])/o[t];for(o[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-a[t+1];return[a,o]}function EE(e){return new mj(e)}function Q0(e,t){this._context=e,this._t=t}Q0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function TE(e){return new Q0(e,.5)}function $E(e){return new Q0(e,0)}function DE(e){return new Q0(e,1)}function Ks(e,t){if((i=e.length)>1)for(var r=1,n,a,o=e[t[0]],i,s=o.length;r<i;++r)for(a=o,o=e[t[r]],n=0;n<s;++n)o[n][1]+=o[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function Fg(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function RE(e,t){return e[t]}function IE(e){const t=[];return t.key=e,t}function LE(){var e=zt([]),t=Fg,r=Ks,n=RE;function a(o){var i=Array.from(e.apply(this,arguments),IE),s,l=i.length,u=-1,d;for(const f of o)for(s=0,++u;s<l;++s)(i[s][u]=[0,+n(f,i[s].key,u,o)]).data=f;for(s=0,d=dv(t(i));s<l;++s)i[d[s]].index=s;return r(i,d),i}return a.keys=function(o){return arguments.length?(e=typeof o=="function"?o:zt(Array.from(o)),a):e},a.value=function(o){return arguments.length?(n=typeof o=="function"?o:zt(+o),a):n},a.order=function(o){return arguments.length?(t=o==null?Fg:typeof o=="function"?o:zt(Array.from(o)),a):t},a.offset=function(o){return arguments.length?(r=o??Ks,a):r},a}function BE(e,t){if((n=e.length)>0){for(var r,n,a=0,o=e[0].length,i;a<o;++a){for(i=r=0;r<n;++r)i+=e[r][a][1]||0;if(i)for(r=0;r<n;++r)e[r][a][1]/=i}Ks(e,t)}}function FE(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,o=n.length;r<o;++r){for(var i=0,s=0;i<a;++i)s+=e[i][r][1]||0;n[r][1]+=n[r][0]=-s/2}Ks(e,t)}}function zE(e,t){if(!(!((i=e.length)>0)||!((o=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,o,i;n<o;++n){for(var s=0,l=0,u=0;s<i;++s){for(var d=e[t[s]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,m=0;m<s;++m){var x=e[t[m]],w=x[n][1]||0,v=x[n-1][1]||0;p+=w-v}l+=f,u+=p*f}a[n-1][1]+=a[n-1][0]=r,l&&(r-=u/l)}a[n-1][1]+=a[n-1][0]=r,Ks(e,t)}}function Hc(e){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hc(e)}var GE=["type","size","sizeType"];function zg(){return zg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zg.apply(this,arguments)}function F1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function z1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F1(Object(r),!0).forEach(function(n){UE(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UE(e,t,r){return t=WE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WE(e){var t=XE(e,"string");return Hc(t)=="symbol"?t:t+""}function XE(e,t){if(Hc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HE(e,t){if(e==null)return{};var r=VE(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function VE(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var yj={symbolCircle:hv,symbolCross:pE,symbolDiamond:mE,symbolSquare:yE,symbolStar:wE,symbolTriangle:kE,symbolWye:jE},KE=Math.PI/180,YE=function(t){var r="symbol".concat(Y0(t));return yj[r]||hv},qE=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*KE;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},ZE=function(t,r){yj["symbol".concat(Y0(t))]=r},J0=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,o=a===void 0?64:a,i=t.sizeType,s=i===void 0?"area":i,l=HE(t,GE),u=z1(z1({},l),{},{type:n,size:o,sizeType:s}),d=function(){var w=YE(n),v=NE().type(w).size(qE(o,s,n));return v()},f=u.className,h=u.cx,p=u.cy,m=He(u,!0);return h===+h&&p===+p&&o===+o?F.createElement("path",zg({},m,{className:ot("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};J0.registerSymbol=ZE;function Ys(e){"@babel/helpers - typeof";return Ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ys(e)}function Gg(){return Gg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gg.apply(this,arguments)}function G1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function QE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G1(Object(r),!0).forEach(function(n){Vc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function e8(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xj(n.key),n)}}function t8(e,t,r){return t&&e8(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function r8(e,t,r){return t=bd(t),n8(e,vj()?Reflect.construct(t,r||[],bd(e).constructor):t.apply(e,r))}function n8(e,t){if(t&&(Ys(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return a8(e)}function a8(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vj(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vj=function(){return!!e})()}function bd(e){return bd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bd(e)}function o8(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ug(e,t)}function Ug(e,t){return Ug=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ug(e,t)}function Vc(e,t,r){return t=xj(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xj(e){var t=i8(e,"string");return Ys(t)=="symbol"?t:t+""}function i8(e,t){if(Ys(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ys(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ca=32,pv=function(e){function t(){return JE(this,t),r8(this,t,arguments)}return o8(t,e),t8(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,o=ca/2,i=ca/6,s=ca/3,l=n.inactive?a:n.color;if(n.type==="plainline")return F.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:o,x2:ca,y2:o,className:"recharts-legend-icon"});if(n.type==="line")return F.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(ca,"M").concat(2*s,",").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(n.type==="rect")return F.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(ca/8,"h").concat(ca,"v").concat(ca*3/4,"h").concat(-ca,"z"),className:"recharts-legend-icon"});if(F.isValidElement(n.legendIcon)){var u=QE({},n);return delete u.legendIcon,F.cloneElement(n.legendIcon,u)}return F.createElement(J0,{fill:l,cx:o,cy:o,size:ca,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,o=a.payload,i=a.iconSize,s=a.layout,l=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:ca,height:ca},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(p,m){var x=p.formatter||l,w=ot(Vc(Vc({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",p.inactive));if(p.type==="none")return null;var v=Ve(p.value)?null:p.value;yo(!Ve(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var g=p.inactive?u:p.color;return F.createElement("li",Gg({className:w,style:f,key:"legend-item-".concat(m)},Xc(n.props,p,m)),F.createElement(Tg,{width:i,height:i,viewBox:d,style:h},n.renderIcon(p)),F.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},x?x(v,p,m):v))})}},{key:"render",value:function(){var n=this.props,a=n.payload,o=n.layout,i=n.align;if(!a||!a.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?i:"left"};return F.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(j.PureComponent);Vc(pv,"displayName","Legend");Vc(pv,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var s8=R0;function l8(){this.__data__=new s8,this.size=0}var c8=l8;function u8(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var f8=u8;function d8(e){return this.__data__.get(e)}var h8=d8;function p8(e){return this.__data__.has(e)}var g8=p8,m8=R0,y8=rv,v8=nv,x8=200;function b8(e,t){var r=this.__data__;if(r instanceof m8){var n=r.__data__;if(!y8||n.length<x8-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new v8(n)}return r.set(e,t),this.size=r.size,this}var w8=b8,k8=R0,S8=c8,j8=f8,N8=h8,_8=g8,P8=w8;function Cl(e){var t=this.__data__=new k8(e);this.size=t.size}Cl.prototype.clear=S8;Cl.prototype.delete=j8;Cl.prototype.get=N8;Cl.prototype.has=_8;Cl.prototype.set=P8;var bj=Cl,O8="__lodash_hash_undefined__";function C8(e){return this.__data__.set(e,O8),this}var M8=C8;function A8(e){return this.__data__.has(e)}var E8=A8,T8=nv,$8=M8,D8=E8;function wd(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new T8;++t<r;)this.add(e[t])}wd.prototype.add=wd.prototype.push=$8;wd.prototype.has=D8;var wj=wd;function R8(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var kj=R8;function I8(e,t){return e.has(t)}var Sj=I8,L8=wj,B8=kj,F8=Sj,z8=1,G8=2;function U8(e,t,r,n,a,o){var i=r&z8,s=e.length,l=t.length;if(s!=l&&!(i&&l>s))return!1;var u=o.get(e),d=o.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,p=r&G8?new L8:void 0;for(o.set(e,t),o.set(t,e);++f<s;){var m=e[f],x=t[f];if(n)var w=i?n(x,m,f,t,e,o):n(m,x,f,e,t,o);if(w!==void 0){if(w)continue;h=!1;break}if(p){if(!B8(t,function(v,g){if(!F8(p,g)&&(m===v||a(m,v,r,n,o)))return p.push(g)})){h=!1;break}}else if(!(m===x||a(m,x,r,n,o))){h=!1;break}}return o.delete(e),o.delete(t),h}var jj=U8,W8=ro,X8=W8.Uint8Array,H8=X8;function V8(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var K8=V8;function Y8(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var gv=Y8,U1=Tu,W1=H8,q8=tv,Z8=jj,Q8=K8,J8=gv,eT=1,tT=2,rT="[object Boolean]",nT="[object Date]",aT="[object Error]",oT="[object Map]",iT="[object Number]",sT="[object RegExp]",lT="[object Set]",cT="[object String]",uT="[object Symbol]",fT="[object ArrayBuffer]",dT="[object DataView]",X1=U1?U1.prototype:void 0,ip=X1?X1.valueOf:void 0;function hT(e,t,r,n,a,o,i){switch(r){case dT:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case fT:return!(e.byteLength!=t.byteLength||!o(new W1(e),new W1(t)));case rT:case nT:case iT:return q8(+e,+t);case aT:return e.name==t.name&&e.message==t.message;case sT:case cT:return e==t+"";case oT:var s=Q8;case lT:var l=n&eT;if(s||(s=J8),e.size!=t.size&&!l)return!1;var u=i.get(e);if(u)return u==t;n|=tT,i.set(e,t);var d=Z8(s(e),s(t),n,a,o,i);return i.delete(e),d;case uT:if(ip)return ip.call(e)==ip.call(t)}return!1}var pT=hT;function gT(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var Nj=gT,mT=Nj,yT=Un;function vT(e,t,r){var n=t(e);return yT(e)?n:mT(n,r(e))}var xT=vT;function bT(e,t){for(var r=-1,n=e==null?0:e.length,a=0,o=[];++r<n;){var i=e[r];t(i,r,e)&&(o[a++]=i)}return o}var wT=bT;function kT(){return[]}var ST=kT,jT=wT,NT=ST,_T=Object.prototype,PT=_T.propertyIsEnumerable,H1=Object.getOwnPropertySymbols,OT=H1?function(e){return e==null?[]:(e=Object(e),jT(H1(e),function(t){return PT.call(e,t)}))}:NT,CT=OT;function MT(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var AT=MT,ET=Oo,TT=Co,$T="[object Arguments]";function DT(e){return TT(e)&&ET(e)==$T}var RT=DT,V1=RT,IT=Co,_j=Object.prototype,LT=_j.hasOwnProperty,BT=_j.propertyIsEnumerable,FT=V1(function(){return arguments}())?V1:function(e){return IT(e)&&LT.call(e,"callee")&&!BT.call(e,"callee")},mv=FT,kd={exports:{}};function zT(){return!1}var GT=zT;kd.exports;(function(e,t){var r=ro,n=GT,a=t&&!t.nodeType&&t,o=a&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===a,s=i?r.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||n;e.exports=u})(kd,kd.exports);var Pj=kd.exports,UT=9007199254740991,WT=/^(?:0|[1-9]\d*)$/;function XT(e,t){var r=typeof e;return t=t??UT,!!t&&(r=="number"||r!="symbol"&&WT.test(e))&&e>-1&&e%1==0&&e<t}var yv=XT,HT=9007199254740991;function VT(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=HT}var vv=VT,KT=Oo,YT=vv,qT=Co,ZT="[object Arguments]",QT="[object Array]",JT="[object Boolean]",e$="[object Date]",t$="[object Error]",r$="[object Function]",n$="[object Map]",a$="[object Number]",o$="[object Object]",i$="[object RegExp]",s$="[object Set]",l$="[object String]",c$="[object WeakMap]",u$="[object ArrayBuffer]",f$="[object DataView]",d$="[object Float32Array]",h$="[object Float64Array]",p$="[object Int8Array]",g$="[object Int16Array]",m$="[object Int32Array]",y$="[object Uint8Array]",v$="[object Uint8ClampedArray]",x$="[object Uint16Array]",b$="[object Uint32Array]",Kt={};Kt[d$]=Kt[h$]=Kt[p$]=Kt[g$]=Kt[m$]=Kt[y$]=Kt[v$]=Kt[x$]=Kt[b$]=!0;Kt[ZT]=Kt[QT]=Kt[u$]=Kt[JT]=Kt[f$]=Kt[e$]=Kt[t$]=Kt[r$]=Kt[n$]=Kt[a$]=Kt[o$]=Kt[i$]=Kt[s$]=Kt[l$]=Kt[c$]=!1;function w$(e){return qT(e)&&YT(e.length)&&!!Kt[KT(e)]}var k$=w$;function S$(e){return function(t){return e(t)}}var Oj=S$,Sd={exports:{}};Sd.exports;(function(e,t){var r=DS,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===n,i=o&&r.process,s=function(){try{var l=a&&a.require&&a.require("util").types;return l||i&&i.binding&&i.binding("util")}catch{}}();e.exports=s})(Sd,Sd.exports);var j$=Sd.exports,N$=k$,_$=Oj,K1=j$,Y1=K1&&K1.isTypedArray,P$=Y1?_$(Y1):N$,Cj=P$,O$=AT,C$=mv,M$=Un,A$=Pj,E$=yv,T$=Cj,$$=Object.prototype,D$=$$.hasOwnProperty;function R$(e,t){var r=M$(e),n=!r&&C$(e),a=!r&&!n&&A$(e),o=!r&&!n&&!a&&T$(e),i=r||n||a||o,s=i?O$(e.length,String):[],l=s.length;for(var u in e)(t||D$.call(e,u))&&!(i&&(u=="length"||a&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||E$(u,l)))&&s.push(u);return s}var I$=R$,L$=Object.prototype;function B$(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||L$;return e===r}var F$=B$;function z$(e,t){return function(r){return e(t(r))}}var Mj=z$,G$=Mj,U$=G$(Object.keys,Object),W$=U$,X$=F$,H$=W$,V$=Object.prototype,K$=V$.hasOwnProperty;function Y$(e){if(!X$(e))return H$(e);var t=[];for(var r in Object(e))K$.call(e,r)&&r!="constructor"&&t.push(r);return t}var q$=Y$,Z$=ev,Q$=vv;function J$(e){return e!=null&&Q$(e.length)&&!Z$(e)}var $u=J$,e7=I$,t7=q$,r7=$u;function n7(e){return r7(e)?e7(e):t7(e)}var eh=n7,a7=xT,o7=CT,i7=eh;function s7(e){return a7(e,i7,o7)}var l7=s7,q1=l7,c7=1,u7=Object.prototype,f7=u7.hasOwnProperty;function d7(e,t,r,n,a,o){var i=r&c7,s=q1(e),l=s.length,u=q1(t),d=u.length;if(l!=d&&!i)return!1;for(var f=l;f--;){var h=s[f];if(!(i?h in t:f7.call(t,h)))return!1}var p=o.get(e),m=o.get(t);if(p&&m)return p==t&&m==e;var x=!0;o.set(e,t),o.set(t,e);for(var w=i;++f<l;){h=s[f];var v=e[h],g=t[h];if(n)var y=i?n(g,v,h,t,e,o):n(v,g,h,e,t,o);if(!(y===void 0?v===g||a(v,g,r,n,o):y)){x=!1;break}w||(w=h=="constructor")}if(x&&!w){var k=e.constructor,b=t.constructor;k!=b&&"constructor"in e&&"constructor"in t&&!(typeof k=="function"&&k instanceof k&&typeof b=="function"&&b instanceof b)&&(x=!1)}return o.delete(e),o.delete(t),x}var h7=d7,p7=ts,g7=ro,m7=p7(g7,"DataView"),y7=m7,v7=ts,x7=ro,b7=v7(x7,"Promise"),w7=b7,k7=ts,S7=ro,j7=k7(S7,"Set"),Aj=j7,N7=ts,_7=ro,P7=N7(_7,"WeakMap"),O7=P7,Wg=y7,Xg=rv,Hg=w7,Vg=Aj,Kg=O7,Ej=Oo,Ml=IS,Z1="[object Map]",C7="[object Object]",Q1="[object Promise]",J1="[object Set]",eb="[object WeakMap]",tb="[object DataView]",M7=Ml(Wg),A7=Ml(Xg),E7=Ml(Hg),T7=Ml(Vg),$7=Ml(Kg),_i=Ej;(Wg&&_i(new Wg(new ArrayBuffer(1)))!=tb||Xg&&_i(new Xg)!=Z1||Hg&&_i(Hg.resolve())!=Q1||Vg&&_i(new Vg)!=J1||Kg&&_i(new Kg)!=eb)&&(_i=function(e){var t=Ej(e),r=t==C7?e.constructor:void 0,n=r?Ml(r):"";if(n)switch(n){case M7:return tb;case A7:return Z1;case E7:return Q1;case T7:return J1;case $7:return eb}return t});var D7=_i,sp=bj,R7=jj,I7=pT,L7=h7,rb=D7,nb=Un,ab=Pj,B7=Cj,F7=1,ob="[object Arguments]",ib="[object Array]",gf="[object Object]",z7=Object.prototype,sb=z7.hasOwnProperty;function G7(e,t,r,n,a,o){var i=nb(e),s=nb(t),l=i?ib:rb(e),u=s?ib:rb(t);l=l==ob?gf:l,u=u==ob?gf:u;var d=l==gf,f=u==gf,h=l==u;if(h&&ab(e)){if(!ab(t))return!1;i=!0,d=!1}if(h&&!d)return o||(o=new sp),i||B7(e)?R7(e,t,r,n,a,o):I7(e,t,l,r,n,a,o);if(!(r&F7)){var p=d&&sb.call(e,"__wrapped__"),m=f&&sb.call(t,"__wrapped__");if(p||m){var x=p?e.value():e,w=m?t.value():t;return o||(o=new sp),a(x,w,r,n,o)}}return h?(o||(o=new sp),L7(e,t,r,n,a,o)):!1}var U7=G7,W7=U7,lb=Co;function Tj(e,t,r,n,a){return e===t?!0:e==null||t==null||!lb(e)&&!lb(t)?e!==e&&t!==t:W7(e,t,r,n,Tj,a)}var xv=Tj,X7=bj,H7=xv,V7=1,K7=2;function Y7(e,t,r,n){var a=r.length,o=a,i=!n;if(e==null)return!o;for(e=Object(e);a--;){var s=r[a];if(i&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<o;){s=r[a];var l=s[0],u=e[l],d=s[1];if(i&&s[2]){if(u===void 0&&!(l in e))return!1}else{var f=new X7;if(n)var h=n(u,d,l,e,t,f);if(!(h===void 0?H7(d,u,V7|K7,n,f):h))return!1}}return!0}var q7=Y7,Z7=fi;function Q7(e){return e===e&&!Z7(e)}var $j=Q7,J7=$j,e9=eh;function t9(e){for(var t=e9(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,J7(a)]}return t}var r9=t9;function n9(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var Dj=n9,a9=q7,o9=r9,i9=Dj;function s9(e){var t=o9(e);return t.length==1&&t[0][2]?i9(t[0][0],t[0][1]):function(r){return r===e||a9(r,e,t)}}var l9=s9;function c9(e,t){return e!=null&&t in Object(e)}var u9=c9,f9=GS,d9=mv,h9=Un,p9=yv,g9=vv,m9=L0;function y9(e,t,r){t=f9(t,e);for(var n=-1,a=t.length,o=!1;++n<a;){var i=m9(t[n]);if(!(o=e!=null&&r(e,i)))break;e=e[i]}return o||++n!=a?o:(a=e==null?0:e.length,!!a&&g9(a)&&p9(i,a)&&(h9(e)||d9(e)))}var v9=y9,x9=u9,b9=v9;function w9(e,t){return e!=null&&b9(e,t,x9)}var k9=w9,S9=xv,j9=US,N9=k9,_9=Jy,P9=$j,O9=Dj,C9=L0,M9=1,A9=2;function E9(e,t){return _9(e)&&P9(t)?O9(C9(e),t):function(r){var n=j9(r,e);return n===void 0&&n===t?N9(r,e):S9(t,n,M9|A9)}}var T9=E9;function $9(e){return e}var Al=$9;function D9(e){return function(t){return t==null?void 0:t[e]}}var R9=D9,I9=iv;function L9(e){return function(t){return I9(t,e)}}var B9=L9,F9=R9,z9=B9,G9=Jy,U9=L0;function W9(e){return G9(e)?F9(U9(e)):z9(e)}var X9=W9,H9=l9,V9=T9,K9=Al,Y9=Un,q9=X9;function Z9(e){return typeof e=="function"?e:e==null?K9:typeof e=="object"?Y9(e)?V9(e[0],e[1]):H9(e):q9(e)}var di=Z9;function Q9(e,t,r,n){for(var a=e.length,o=r+(n?1:-1);n?o--:++o<a;)if(t(e[o],o,e))return o;return-1}var Rj=Q9;function J9(e){return e!==e}var eD=J9;function tD(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var rD=tD,nD=Rj,aD=eD,oD=rD;function iD(e,t,r){return t===t?oD(e,t,r):nD(e,aD,r)}var sD=iD,lD=sD;function cD(e,t){var r=e==null?0:e.length;return!!r&&lD(e,t,0)>-1}var uD=cD;function fD(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var dD=fD;function hD(){}var pD=hD,lp=Aj,gD=pD,mD=gv,yD=1/0,vD=lp&&1/mD(new lp([,-0]))[1]==yD?function(e){return new lp(e)}:gD,xD=vD,bD=wj,wD=uD,kD=dD,SD=Sj,jD=xD,ND=gv,_D=200;function PD(e,t,r){var n=-1,a=wD,o=e.length,i=!0,s=[],l=s;if(r)i=!1,a=kD;else if(o>=_D){var u=t?null:jD(e);if(u)return ND(u);i=!1,a=SD,l=new bD}else l=t?[]:s;e:for(;++n<o;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,i&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;t&&l.push(f),s.push(d)}else a(l,f,r)||(l!==s&&l.push(f),s.push(d))}return s}var OD=PD,CD=di,MD=OD;function AD(e,t){return e&&e.length?MD(e,CD(t)):[]}var ED=AD;const cb=Lt(ED);function Ij(e,t,r){return t===!0?cb(e,r):Ve(t)?cb(e,t):e}function qs(e){"@babel/helpers - typeof";return qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qs(e)}var TD=["ref"];function ub(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ub(Object(r),!0).forEach(function(n){th(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ub(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Bj(n.key),n)}}function DD(e,t,r){return t&&fb(e.prototype,t),r&&fb(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function RD(e,t,r){return t=jd(t),ID(e,Lj()?Reflect.construct(t,r||[],jd(e).constructor):t.apply(e,r))}function ID(e,t){if(t&&(qs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LD(e)}function LD(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lj(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Lj=function(){return!!e})()}function jd(e){return jd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jd(e)}function BD(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yg(e,t)}function Yg(e,t){return Yg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Yg(e,t)}function th(e,t,r){return t=Bj(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bj(e){var t=FD(e,"string");return qs(t)=="symbol"?t:t+""}function FD(e,t){if(qs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function zD(e,t){if(e==null)return{};var r=GD(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function GD(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function UD(e){return e.value}function WD(e,t){if(F.isValidElement(e))return F.cloneElement(e,t);if(typeof e=="function")return F.createElement(e,t);t.ref;var r=zD(t,TD);return F.createElement(pv,r)}var db=1,Ya=function(e){function t(){var r;$D(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=RD(this,t,[].concat(a)),th(r,"lastBoundingBox",{width:-1,height:-1}),r}return BD(t,e),DD(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>db||Math.abs(a.height-this.lastBoundingBox.height)>db)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?oo({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,o=a.layout,i=a.align,s=a.verticalAlign,l=a.margin,u=a.chartWidth,d=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(i==="center"&&o==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=i==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(s==="middle"){var m=this.getBBoxSnapshot();h={top:((d||0)-m.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return oo(oo({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,o=a.content,i=a.width,s=a.height,l=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=oo(oo({position:"absolute",width:i||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return F.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},WD(o,oo(oo({},this.props),{},{payload:Ij(d,u,UD)})))}}],[{key:"getWithHeight",value:function(n,a){var o=oo(oo({},this.defaultProps),n.props),i=o.layout;return i==="vertical"&&fe(n.props.height)?{height:n.props.height}:i==="horizontal"?{width:n.props.width||a}:null}}])}(j.PureComponent);th(Ya,"displayName","Legend");th(Ya,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var hb=Tu,XD=mv,HD=Un,pb=hb?hb.isConcatSpreadable:void 0;function VD(e){return HD(e)||XD(e)||!!(pb&&e&&e[pb])}var KD=VD,YD=Nj,qD=KD;function Fj(e,t,r,n,a){var o=-1,i=e.length;for(r||(r=qD),a||(a=[]);++o<i;){var s=e[o];t>0&&r(s)?t>1?Fj(s,t-1,r,n,a):YD(a,s):n||(a[a.length]=s)}return a}var zj=Fj;function ZD(e){return function(t,r,n){for(var a=-1,o=Object(t),i=n(t),s=i.length;s--;){var l=i[e?s:++a];if(r(o[l],l,o)===!1)break}return t}}var QD=ZD,JD=QD,eR=JD(),tR=eR,rR=tR,nR=eh;function aR(e,t){return e&&rR(e,t,nR)}var Gj=aR,oR=$u;function iR(e,t){return function(r,n){if(r==null)return r;if(!oR(r))return e(r,n);for(var a=r.length,o=t?a:-1,i=Object(r);(t?o--:++o<a)&&n(i[o],o,i)!==!1;);return r}}var sR=iR,lR=Gj,cR=sR,uR=cR(lR),bv=uR,fR=bv,dR=$u;function hR(e,t){var r=-1,n=dR(e)?Array(e.length):[];return fR(e,function(a,o,i){n[++r]=t(a,o,i)}),n}var Uj=hR;function pR(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var gR=pR,gb=Sl;function mR(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,o=gb(e),i=t!==void 0,s=t===null,l=t===t,u=gb(t);if(!s&&!u&&!o&&e>t||o&&i&&l&&!s&&!u||n&&i&&l||!r&&l||!a)return 1;if(!n&&!o&&!u&&e<t||u&&r&&a&&!n&&!o||s&&r&&a||!i&&a||!l)return-1}return 0}var yR=mR,vR=yR;function xR(e,t,r){for(var n=-1,a=e.criteria,o=t.criteria,i=a.length,s=r.length;++n<i;){var l=vR(a[n],o[n]);if(l){if(n>=s)return l;var u=r[n];return l*(u=="desc"?-1:1)}}return e.index-t.index}var bR=xR,cp=ov,wR=iv,kR=di,SR=Uj,jR=gR,NR=Oj,_R=bR,PR=Al,OR=Un;function CR(e,t,r){t.length?t=cp(t,function(o){return OR(o)?function(i){return wR(i,o.length===1?o[0]:o)}:o}):t=[PR];var n=-1;t=cp(t,NR(kR));var a=SR(e,function(o,i,s){var l=cp(t,function(u){return u(o)});return{criteria:l,index:++n,value:o}});return jR(a,function(o,i){return _R(o,i,r)})}var MR=CR;function AR(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var ER=AR,TR=ER,mb=Math.max;function $R(e,t,r){return t=mb(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,o=mb(n.length-t,0),i=Array(o);++a<o;)i[a]=n[t+a];a=-1;for(var s=Array(t+1);++a<t;)s[a]=n[a];return s[t]=r(i),TR(e,this,s)}}var DR=$R;function RR(e){return function(){return e}}var IR=RR,LR=ts,BR=function(){try{var e=LR(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Wj=BR,FR=IR,yb=Wj,zR=Al,GR=yb?function(e,t){return yb(e,"toString",{configurable:!0,enumerable:!1,value:FR(t),writable:!0})}:zR,UR=GR,WR=800,XR=16,HR=Date.now;function VR(e){var t=0,r=0;return function(){var n=HR(),a=XR-(n-r);if(r=n,a>0){if(++t>=WR)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var KR=VR,YR=UR,qR=KR,ZR=qR(YR),QR=ZR,JR=Al,eI=DR,tI=QR;function rI(e,t){return tI(eI(e,t,JR),e+"")}var nI=rI,aI=tv,oI=$u,iI=yv,sI=fi;function lI(e,t,r){if(!sI(r))return!1;var n=typeof t;return(n=="number"?oI(r)&&iI(t,r.length):n=="string"&&t in r)?aI(r[t],e):!1}var rh=lI,cI=zj,uI=MR,fI=nI,vb=rh,dI=fI(function(e,t){if(e==null)return[];var r=t.length;return r>1&&vb(e,t[0],t[1])?t=[]:r>2&&vb(t[0],t[1],t[2])&&(t=[t[0]]),uI(e,cI(t,1),[])}),hI=dI;const wv=Lt(hI);function Kc(e){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kc(e)}function qg(){return qg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qg.apply(this,arguments)}function pI(e,t){return vI(e)||yI(e,t)||mI(e,t)||gI()}function gI(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mI(e,t){if(e){if(typeof e=="string")return xb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xb(e,t)}}function xb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yI(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return s}}function vI(e){if(Array.isArray(e))return e}function bb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function up(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bb(Object(r),!0).forEach(function(n){xI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xI(e,t,r){return t=bI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bI(e){var t=wI(e,"string");return Kc(t)=="symbol"?t:t+""}function wI(e,t){if(Kc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kI(e){return Array.isArray(e)&&Br(e[0])&&Br(e[1])?e.join(" ~ "):e}var SI=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,o=a===void 0?{}:a,i=t.itemStyle,s=i===void 0?{}:i,l=t.labelStyle,u=l===void 0?{}:l,d=t.payload,f=t.formatter,h=t.itemSorter,p=t.wrapperClassName,m=t.labelClassName,x=t.label,w=t.labelFormatter,v=t.accessibilityLayer,g=v===void 0?!1:v,y=function(){if(d&&d.length){var C={padding:0,margin:0},A=(h?wv(d,h):d).map(function(L,R){if(L.type==="none")return null;var G=up({display:"block",paddingTop:4,paddingBottom:4,color:L.color||"#000"},s),O=L.formatter||f||kI,T=L.value,B=L.name,z=T,te=B;if(O&&z!=null&&te!=null){var Q=O(T,B,L,R,d);if(Array.isArray(Q)){var D=pI(Q,2);z=D[0],te=D[1]}else z=Q}return F.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(R),style:G},Br(te)?F.createElement("span",{className:"recharts-tooltip-item-name"},te):null,Br(te)?F.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,F.createElement("span",{className:"recharts-tooltip-item-value"},z),F.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return F.createElement("ul",{className:"recharts-tooltip-item-list",style:C},A)}return null},k=up({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),b=up({margin:0},u),S=!We(x),_=S?x:"",N=ot("recharts-default-tooltip",p),P=ot("recharts-tooltip-label",m);S&&w&&d!==void 0&&d!==null&&(_=w(x,d));var M=g?{role:"status","aria-live":"assertive"}:{};return F.createElement("div",qg({className:N,style:k},M),F.createElement("p",{className:P,style:b},F.isValidElement(_)?_:"".concat(_)),y())};function Yc(e){"@babel/helpers - typeof";return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yc(e)}function mf(e,t,r){return t=jI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jI(e){var t=NI(e,"string");return Yc(t)=="symbol"?t:t+""}function NI(e,t){if(Yc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ql="recharts-tooltip-wrapper",_I={visibility:"hidden"};function PI(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return ot(ql,mf(mf(mf(mf({},"".concat(ql,"-right"),fe(r)&&t&&fe(t.x)&&r>=t.x),"".concat(ql,"-left"),fe(r)&&t&&fe(t.x)&&r<t.x),"".concat(ql,"-bottom"),fe(n)&&t&&fe(t.y)&&n>=t.y),"".concat(ql,"-top"),fe(n)&&t&&fe(t.y)&&n<t.y))}function wb(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,o=e.position,i=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,u=e.viewBoxDimension;if(o&&fe(o[n]))return o[n];var d=r[n]-s-a,f=r[n]+a;if(t[n])return i[n]?d:f;if(i[n]){var h=d,p=l[n];return h<p?Math.max(f,l[n]):Math.max(d,l[n])}var m=f+s,x=l[n]+u;return m>x?Math.max(d,l[n]):Math.max(f,l[n])}function OI(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function CI(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,o=e.reverseDirection,i=e.tooltipBox,s=e.useTranslate3d,l=e.viewBox,u,d,f;return i.height>0&&i.width>0&&r?(d=wb({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:o,tooltipDimension:i.width,viewBox:l,viewBoxDimension:l.width}),f=wb({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:o,tooltipDimension:i.height,viewBox:l,viewBoxDimension:l.height}),u=OI({translateX:d,translateY:f,useTranslate3d:s})):u=_I,{cssProperties:u,cssClasses:PI({translateX:d,translateY:f,coordinate:r})}}function Zs(e){"@babel/helpers - typeof";return Zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zs(e)}function kb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kb(Object(r),!0).forEach(function(n){Qg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Hj(n.key),n)}}function EI(e,t,r){return t&&AI(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function TI(e,t,r){return t=Nd(t),$I(e,Xj()?Reflect.construct(t,r||[],Nd(e).constructor):t.apply(e,r))}function $I(e,t){if(t&&(Zs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DI(e)}function DI(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xj(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Xj=function(){return!!e})()}function Nd(e){return Nd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nd(e)}function RI(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zg(e,t)}function Zg(e,t){return Zg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Zg(e,t)}function Qg(e,t,r){return t=Hj(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hj(e){var t=II(e,"string");return Zs(t)=="symbol"?t:t+""}function II(e,t){if(Zs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var jb=1,LI=function(e){function t(){var r;MI(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=TI(this,t,[].concat(a)),Qg(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Qg(r,"handleKeyDown",function(i){if(i.key==="Escape"){var s,l,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return RI(t,e),EI(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>jb||Math.abs(n.height-this.state.lastBoundingBox.height)>jb)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,o=a.active,i=a.allowEscapeViewBox,s=a.animationDuration,l=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,p=a.offset,m=a.position,x=a.reverseDirection,w=a.useTranslate3d,v=a.viewBox,g=a.wrapperStyle,y=CI({allowEscapeViewBox:i,coordinate:d,offsetTopLeft:p,position:m,reverseDirection:x,tooltipBox:this.state.lastBoundingBox,useTranslate3d:w,viewBox:v}),k=y.cssClasses,b=y.cssProperties,S=Sb(Sb({transition:h&&o?"transform ".concat(s,"ms ").concat(l):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},g);return F.createElement("div",{tabIndex:-1,className:k,style:S,ref:function(N){n.wrapperNode=N}},u)}}])}(j.PureComponent),BI=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},hi={isSsr:BI()};function Qs(e){"@babel/helpers - typeof";return Qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qs(e)}function Nb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _b(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nb(Object(r),!0).forEach(function(n){kv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Kj(n.key),n)}}function GI(e,t,r){return t&&zI(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function UI(e,t,r){return t=_d(t),WI(e,Vj()?Reflect.construct(t,r||[],_d(e).constructor):t.apply(e,r))}function WI(e,t){if(t&&(Qs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XI(e)}function XI(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vj(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Vj=function(){return!!e})()}function _d(e){return _d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_d(e)}function HI(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jg(e,t)}function Jg(e,t){return Jg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Jg(e,t)}function kv(e,t,r){return t=Kj(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kj(e){var t=VI(e,"string");return Qs(t)=="symbol"?t:t+""}function VI(e,t){if(Qs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function KI(e){return e.dataKey}function YI(e,t){return F.isValidElement(e)?F.cloneElement(e,t):typeof e=="function"?F.createElement(e,t):F.createElement(SI,t)}var Kr=function(e){function t(){return FI(this,t),UI(this,t,arguments)}return HI(t,e),GI(t,[{key:"render",value:function(){var n=this,a=this.props,o=a.active,i=a.allowEscapeViewBox,s=a.animationDuration,l=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,p=a.offset,m=a.payload,x=a.payloadUniqBy,w=a.position,v=a.reverseDirection,g=a.useTranslate3d,y=a.viewBox,k=a.wrapperStyle,b=m??[];f&&b.length&&(b=Ij(m.filter(function(_){return _.value!=null&&(_.hide!==!0||n.props.includeHidden)}),x,KI));var S=b.length>0;return F.createElement(LI,{allowEscapeViewBox:i,animationDuration:s,animationEasing:l,isAnimationActive:h,active:o,coordinate:d,hasPayload:S,offset:p,position:w,reverseDirection:v,useTranslate3d:g,viewBox:y,wrapperStyle:k},YI(u,_b(_b({},this.props),{},{payload:b})))}}])}(j.PureComponent);kv(Kr,"displayName","Tooltip");kv(Kr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!hi.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var qI=ro,ZI=function(){return qI.Date.now()},QI=ZI,JI=/\s/;function eL(e){for(var t=e.length;t--&&JI.test(e.charAt(t)););return t}var tL=eL,rL=tL,nL=/^\s+/;function aL(e){return e&&e.slice(0,rL(e)+1).replace(nL,"")}var oL=aL,iL=oL,Pb=fi,sL=Sl,Ob=NaN,lL=/^[-+]0x[0-9a-f]+$/i,cL=/^0b[01]+$/i,uL=/^0o[0-7]+$/i,fL=parseInt;function dL(e){if(typeof e=="number")return e;if(sL(e))return Ob;if(Pb(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Pb(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=iL(e);var r=cL.test(e);return r||uL.test(e)?fL(e.slice(2),r?2:8):lL.test(e)?Ob:+e}var Yj=dL,hL=fi,fp=QI,Cb=Yj,pL="Expected a function",gL=Math.max,mL=Math.min;function yL(e,t,r){var n,a,o,i,s,l,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(pL);t=Cb(t)||0,hL(r)&&(d=!!r.leading,f="maxWait"in r,o=f?gL(Cb(r.maxWait)||0,t):o,h="trailing"in r?!!r.trailing:h);function p(S){var _=n,N=a;return n=a=void 0,u=S,i=e.apply(N,_),i}function m(S){return u=S,s=setTimeout(v,t),d?p(S):i}function x(S){var _=S-l,N=S-u,P=t-_;return f?mL(P,o-N):P}function w(S){var _=S-l,N=S-u;return l===void 0||_>=t||_<0||f&&N>=o}function v(){var S=fp();if(w(S))return g(S);s=setTimeout(v,x(S))}function g(S){return s=void 0,h&&n?p(S):(n=a=void 0,i)}function y(){s!==void 0&&clearTimeout(s),u=0,n=l=a=s=void 0}function k(){return s===void 0?i:g(fp())}function b(){var S=fp(),_=w(S);if(n=arguments,a=this,l=S,_){if(s===void 0)return m(l);if(f)return clearTimeout(s),s=setTimeout(v,t),p(l)}return s===void 0&&(s=setTimeout(v,t)),i}return b.cancel=y,b.flush=k,b}var vL=yL,xL=vL,bL=fi,wL="Expected a function";function kL(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(wL);return bL(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),xL(e,t,{leading:n,maxWait:t,trailing:a})}var SL=kL;const qj=Lt(SL);function qc(e){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qc(e)}function Mb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mb(Object(r),!0).forEach(function(n){jL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jL(e,t,r){return t=NL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NL(e){var t=_L(e,"string");return qc(t)=="symbol"?t:t+""}function _L(e,t){if(qc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PL(e,t){return AL(e)||ML(e,t)||CL(e,t)||OL()}function OL(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CL(e,t){if(e){if(typeof e=="string")return Ab(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ab(e,t)}}function Ab(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ML(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return s}}function AL(e){if(Array.isArray(e))return e}var vo=j.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,o=e.width,i=o===void 0?"100%":o,s=e.height,l=s===void 0?"100%":s,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,p=e.children,m=e.debounce,x=m===void 0?0:m,w=e.id,v=e.className,g=e.onResize,y=e.style,k=y===void 0?{}:y,b=j.useRef(null),S=j.useRef();S.current=g,j.useImperativeHandle(t,function(){return Object.defineProperty(b.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),b.current},configurable:!0})});var _=j.useState({containerWidth:a.width,containerHeight:a.height}),N=PL(_,2),P=N[0],M=N[1],E=j.useCallback(function(A,L){M(function(R){var G=Math.round(A),O=Math.round(L);return R.containerWidth===G&&R.containerHeight===O?R:{containerWidth:G,containerHeight:O}})},[]);j.useEffect(function(){var A=function(B){var z,te=B[0].contentRect,Q=te.width,D=te.height;E(Q,D),(z=S.current)===null||z===void 0||z.call(S,Q,D)};x>0&&(A=qj(A,x,{trailing:!0,leading:!1}));var L=new ResizeObserver(A),R=b.current.getBoundingClientRect(),G=R.width,O=R.height;return E(G,O),L.observe(b.current),function(){L.disconnect()}},[E,x]);var C=j.useMemo(function(){var A=P.containerWidth,L=P.containerHeight;if(A<0||L<0)return null;yo(Ai(i)||Ai(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,l),yo(!r||r>0,"The aspect(%s) must be greater than zero.",r);var R=Ai(i)?A:i,G=Ai(l)?L:l;r&&r>0&&(R?G=R/r:G&&(R=G*r),h&&G>h&&(G=h)),yo(R>0||G>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,R,G,i,l,d,f,r);var O=!Array.isArray(p)&&mo(p.type).endsWith("Chart");return F.Children.map(p,function(T){return F.isValidElement(T)?j.cloneElement(T,yf({width:R,height:G},O?{style:yf({height:"100%",width:"100%",maxHeight:G,maxWidth:R},T.props.style)}:{})):T})},[r,p,l,h,f,d,P,i]);return F.createElement("div",{id:w?"".concat(w):void 0,className:ot("recharts-responsive-container",v),style:yf(yf({},k),{},{width:i,height:l,minWidth:d,minHeight:f,maxHeight:h}),ref:b},C)}),Sv=function(t){return null};Sv.displayName="Cell";function Zc(e){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zc(e)}function Eb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function em(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Eb(Object(r),!0).forEach(function(n){EL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Eb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EL(e,t,r){return t=TL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TL(e){var t=$L(e,"string");return Zc(t)=="symbol"?t:t+""}function $L(e,t){if(Zc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ds={widthCache:{},cacheCount:0},DL=2e3,RL={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Tb="recharts_measurement_span";function IL(e){var t=em({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var bc=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||hi.isSsr)return{width:0,height:0};var n=IL(r),a=JSON.stringify({text:t,copyStyle:n});if(ds.widthCache[a])return ds.widthCache[a];try{var o=document.getElementById(Tb);o||(o=document.createElement("span"),o.setAttribute("id",Tb),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var i=em(em({},RL),n);Object.assign(o.style,i),o.textContent="".concat(t);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return ds.widthCache[a]=l,++ds.cacheCount>DL&&(ds.cacheCount=0,ds.widthCache={}),l}catch{return{width:0,height:0}}},LL=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Qc(e){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qc(e)}function Pd(e,t){return GL(e)||zL(e,t)||FL(e,t)||BL()}function BL(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FL(e,t){if(e){if(typeof e=="string")return $b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $b(e,t)}}function $b(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zL(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return s}}function GL(e){if(Array.isArray(e))return e}function UL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Db(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,XL(n.key),n)}}function WL(e,t,r){return t&&Db(e.prototype,t),r&&Db(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function XL(e){var t=HL(e,"string");return Qc(t)=="symbol"?t:t+""}function HL(e,t){if(Qc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Rb=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Ib=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,VL=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,KL=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Zj={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},YL=Object.keys(Zj),Os="NaN";function qL(e,t){return e*Zj[t]}var vf=function(){function e(t,r){UL(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!VL.test(r)&&(this.num=NaN,this.unit=""),YL.includes(r)&&(this.num=qL(t,r),this.unit="px")}return WL(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=KL.exec(r))!==null&&n!==void 0?n:[],o=Pd(a,3),i=o[1],s=o[2];return new e(parseFloat(i),s??"")}}])}();function Qj(e){if(e.includes(Os))return Os;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=Rb.exec(t))!==null&&r!==void 0?r:[],a=Pd(n,4),o=a[1],i=a[2],s=a[3],l=vf.parse(o??""),u=vf.parse(s??""),d=i==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return Os;t=t.replace(Rb,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=Ib.exec(t))!==null&&f!==void 0?f:[],p=Pd(h,4),m=p[1],x=p[2],w=p[3],v=vf.parse(m??""),g=vf.parse(w??""),y=x==="+"?v.add(g):v.subtract(g);if(y.isNaN())return Os;t=t.replace(Ib,y.toString())}return t}var Lb=/\(([^()]*)\)/;function ZL(e){for(var t=e;t.includes("(");){var r=Lb.exec(t),n=Pd(r,2),a=n[1];t=t.replace(Lb,Qj(a))}return t}function QL(e){var t=e.replace(/\s+/g,"");return t=ZL(t),t=Qj(t),t}function JL(e){try{return QL(e)}catch{return Os}}function dp(e){var t=JL(e.slice(5,-1));return t===Os?"":t}var eB=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],tB=["dx","dy","angle","className","breakAll"];function tm(){return tm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tm.apply(this,arguments)}function Bb(e,t){if(e==null)return{};var r=rB(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rB(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Fb(e,t){return iB(e)||oB(e,t)||aB(e,t)||nB()}function nB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aB(e,t){if(e){if(typeof e=="string")return zb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zb(e,t)}}function zb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function oB(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return s}}function iB(e){if(Array.isArray(e))return e}var Jj=/[ \f\n\r\t\v\u2028\u2029]+/,e4=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var o=[];We(r)||(n?o=r.toString().split(""):o=r.toString().split(Jj));var i=o.map(function(l){return{word:l,width:bc(l,a).width}}),s=n?0:bc("",a).width;return{wordsWithComputedWidth:i,spaceWidth:s}}catch{return null}},sB=function(t,r,n,a,o){var i=t.maxLines,s=t.children,l=t.style,u=t.breakAll,d=fe(i),f=s,h=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return R.reduce(function(G,O){var T=O.word,B=O.width,z=G[G.length-1];if(z&&(a==null||o||z.width+B+n<Number(a)))z.words.push(T),z.width+=B+n;else{var te={words:[T],width:B};G.push(te)}return G},[])},p=h(r),m=function(R){return R.reduce(function(G,O){return G.width>O.width?G:O})};if(!d)return p;for(var x="",w=function(R){var G=f.slice(0,R),O=e4({breakAll:u,style:l,children:G+x}).wordsWithComputedWidth,T=h(O),B=T.length>i||m(T).width>Number(a);return[B,T]},v=0,g=f.length-1,y=0,k;v<=g&&y<=f.length-1;){var b=Math.floor((v+g)/2),S=b-1,_=w(S),N=Fb(_,2),P=N[0],M=N[1],E=w(b),C=Fb(E,1),A=C[0];if(!P&&!A&&(v=b+1),P&&A&&(g=b-1),!P&&A){k=M;break}y++}return k||p},Gb=function(t){var r=We(t)?[]:t.toString().split(Jj);return[{words:r}]},lB=function(t){var r=t.width,n=t.scaleToFit,a=t.children,o=t.style,i=t.breakAll,s=t.maxLines;if((r||n)&&!hi.isSsr){var l,u,d=e4({breakAll:i,children:a,style:o});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;l=f,u=h}else return Gb(a);return sB({breakAll:i,children:a,maxLines:s,style:o},l,u,r,n)}return Gb(a)},Ub="#808080",Od=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,o=a===void 0?0:a,i=t.lineHeight,s=i===void 0?"1em":i,l=t.capHeight,u=l===void 0?"0.71em":l,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,p=h===void 0?"start":h,m=t.verticalAnchor,x=m===void 0?"end":m,w=t.fill,v=w===void 0?Ub:w,g=Bb(t,eB),y=j.useMemo(function(){return lB({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:f,style:g.style,width:g.width})},[g.breakAll,g.children,g.maxLines,f,g.style,g.width]),k=g.dx,b=g.dy,S=g.angle,_=g.className,N=g.breakAll,P=Bb(g,tB);if(!Br(n)||!Br(o))return null;var M=n+(fe(k)?k:0),E=o+(fe(b)?b:0),C;switch(x){case"start":C=dp("calc(".concat(u,")"));break;case"middle":C=dp("calc(".concat((y.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:C=dp("calc(".concat(y.length-1," * -").concat(s,")"));break}var A=[];if(f){var L=y[0].width,R=g.width;A.push("scale(".concat((fe(R)?R/L:1)/L,")"))}return S&&A.push("rotate(".concat(S,", ").concat(M,", ").concat(E,")")),A.length&&(P.transform=A.join(" ")),F.createElement("text",tm({},He(P,!0),{x:M,y:E,className:ot("recharts-text",_),textAnchor:p,fill:v.includes("url")?Ub:v}),y.map(function(G,O){var T=G.words.join(N?"":" ");return F.createElement("tspan",{x:M,dy:O===0?C:s,key:"".concat(T,"-").concat(O)},T)}))};function oi(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function cB(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function jv(e){let t,r,n;e.length!==2?(t=oi,r=(s,l)=>oi(e(s),l),n=(s,l)=>e(s)-l):(t=e===oi||e===cB?e:uB,r=e,n=e);function a(s,l,u=0,d=s.length){if(u<d){if(t(l,l)!==0)return d;do{const f=u+d>>>1;r(s[f],l)<0?u=f+1:d=f}while(u<d)}return u}function o(s,l,u=0,d=s.length){if(u<d){if(t(l,l)!==0)return d;do{const f=u+d>>>1;r(s[f],l)<=0?u=f+1:d=f}while(u<d)}return u}function i(s,l,u=0,d=s.length){const f=a(s,l,u,d-1);return f>u&&n(s[f-1],l)>-n(s[f],l)?f-1:f}return{left:a,center:i,right:o}}function uB(){return 0}function t4(e){return e===null?NaN:+e}function*fB(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const dB=jv(oi),Du=dB.right;jv(t4).center;class Wb extends Map{constructor(t,r=gB){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(Xb(this,t))}has(t){return super.has(Xb(this,t))}set(t,r){return super.set(hB(this,t),r)}delete(t){return super.delete(pB(this,t))}}function Xb({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function hB({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function pB({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function gB(e){return e!==null&&typeof e=="object"?e.valueOf():e}function mB(e=oi){if(e===oi)return r4;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function r4(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const yB=Math.sqrt(50),vB=Math.sqrt(10),xB=Math.sqrt(2);function Cd(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),o=n/Math.pow(10,a),i=o>=yB?10:o>=vB?5:o>=xB?2:1;let s,l,u;return a<0?(u=Math.pow(10,-a)/i,s=Math.round(e*u),l=Math.round(t*u),s/u<e&&++s,l/u>t&&--l,u=-u):(u=Math.pow(10,a)*i,s=Math.round(e/u),l=Math.round(t/u),s*u<e&&++s,l*u>t&&--l),l<s&&.5<=r&&r<2?Cd(e,t,r*2):[s,l,u]}function rm(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,o,i]=n?Cd(t,e,r):Cd(e,t,r);if(!(o>=a))return[];const s=o-a+1,l=new Array(s);if(n)if(i<0)for(let u=0;u<s;++u)l[u]=(o-u)/-i;else for(let u=0;u<s;++u)l[u]=(o-u)*i;else if(i<0)for(let u=0;u<s;++u)l[u]=(a+u)/-i;else for(let u=0;u<s;++u)l[u]=(a+u)*i;return l}function nm(e,t,r){return t=+t,e=+e,r=+r,Cd(e,t,r)[2]}function am(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?nm(t,e,r):nm(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function Hb(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function Vb(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function n4(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?r4:mB(a);n>r;){if(n-r>600){const l=n-r+1,u=t-r+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(u-l/2<0?-1:1),p=Math.max(r,Math.floor(t-u*f/l+h)),m=Math.min(n,Math.floor(t+(l-u)*f/l+h));n4(e,t,p,m,a)}const o=e[t];let i=r,s=n;for(Zl(e,r,t),a(e[n],o)>0&&Zl(e,r,n);i<s;){for(Zl(e,i,s),++i,--s;a(e[i],o)<0;)++i;for(;a(e[s],o)>0;)--s}a(e[r],o)===0?Zl(e,r,s):(++s,Zl(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function Zl(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function bB(e,t,r){if(e=Float64Array.from(fB(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return Vb(e);if(t>=1)return Hb(e);var n,a=(n-1)*t,o=Math.floor(a),i=Hb(n4(e,o).subarray(0,o+1)),s=Vb(e.subarray(o+1));return i+(s-i)*(a-o)}}function wB(e,t,r=t4){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,o=Math.floor(a),i=+r(e[o],o,e),s=+r(e[o+1],o+1,e);return i+(s-i)*(a-o)}}function kB(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,o=new Array(a);++n<a;)o[n]=e+n*r;return o}function ka(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Mo(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const om=Symbol("implicit");function Nv(){var e=new Wb,t=[],r=[],n=om;function a(o){let i=e.get(o);if(i===void 0){if(n!==om)return n;e.set(o,i=t.push(o)-1)}return r[i%r.length]}return a.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new Wb;for(const i of o)e.has(i)||e.set(i,t.push(i)-1);return a},a.range=function(o){return arguments.length?(r=Array.from(o),a):r.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return Nv(t,r).unknown(n)},ka.apply(a,arguments),a}function Jc(){var e=Nv().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,o,i,s=!1,l=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,p=a<n,m=p?a:n,x=p?n:a;o=(x-m)/Math.max(1,h-l+u*2),s&&(o=Math.floor(o)),m+=(x-m-o*(h-l))*d,i=o*(1-l),s&&(m=Math.round(m),i=Math.round(i));var w=kB(h).map(function(v){return m+o*v});return r(p?w.reverse():w)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,s=!0,f()},e.bandwidth=function(){return i},e.step=function(){return o},e.round=function(h){return arguments.length?(s=!!h,f()):s},e.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return Jc(t(),[n,a]).round(s).paddingInner(l).paddingOuter(u).align(d)},ka.apply(f(),arguments)}function a4(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return a4(t())},e}function wc(){return a4(Jc.apply(null,arguments).paddingInner(1))}function _v(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function o4(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Ru(){}var eu=.7,Md=1/eu,Ls="\\s*([+-]?\\d+)\\s*",tu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",qa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",SB=/^#([0-9a-f]{3,8})$/,jB=new RegExp(`^rgb\\(${Ls},${Ls},${Ls}\\)$`),NB=new RegExp(`^rgb\\(${qa},${qa},${qa}\\)$`),_B=new RegExp(`^rgba\\(${Ls},${Ls},${Ls},${tu}\\)$`),PB=new RegExp(`^rgba\\(${qa},${qa},${qa},${tu}\\)$`),OB=new RegExp(`^hsl\\(${tu},${qa},${qa}\\)$`),CB=new RegExp(`^hsla\\(${tu},${qa},${qa},${tu}\\)$`),Kb={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};_v(Ru,ru,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Yb,formatHex:Yb,formatHex8:MB,formatHsl:AB,formatRgb:qb,toString:qb});function Yb(){return this.rgb().formatHex()}function MB(){return this.rgb().formatHex8()}function AB(){return i4(this).formatHsl()}function qb(){return this.rgb().formatRgb()}function ru(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=SB.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Zb(t):r===3?new Rn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?xf(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?xf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=jB.exec(e))?new Rn(t[1],t[2],t[3],1):(t=NB.exec(e))?new Rn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=_B.exec(e))?xf(t[1],t[2],t[3],t[4]):(t=PB.exec(e))?xf(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=OB.exec(e))?e2(t[1],t[2]/100,t[3]/100,1):(t=CB.exec(e))?e2(t[1],t[2]/100,t[3]/100,t[4]):Kb.hasOwnProperty(e)?Zb(Kb[e]):e==="transparent"?new Rn(NaN,NaN,NaN,0):null}function Zb(e){return new Rn(e>>16&255,e>>8&255,e&255,1)}function xf(e,t,r,n){return n<=0&&(e=t=r=NaN),new Rn(e,t,r,n)}function EB(e){return e instanceof Ru||(e=ru(e)),e?(e=e.rgb(),new Rn(e.r,e.g,e.b,e.opacity)):new Rn}function im(e,t,r,n){return arguments.length===1?EB(e):new Rn(e,t,r,n??1)}function Rn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}_v(Rn,im,o4(Ru,{brighter(e){return e=e==null?Md:Math.pow(Md,e),new Rn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?eu:Math.pow(eu,e),new Rn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Rn(Li(this.r),Li(this.g),Li(this.b),Ad(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Qb,formatHex:Qb,formatHex8:TB,formatRgb:Jb,toString:Jb}));function Qb(){return`#${Ei(this.r)}${Ei(this.g)}${Ei(this.b)}`}function TB(){return`#${Ei(this.r)}${Ei(this.g)}${Ei(this.b)}${Ei((isNaN(this.opacity)?1:this.opacity)*255)}`}function Jb(){const e=Ad(this.opacity);return`${e===1?"rgb(":"rgba("}${Li(this.r)}, ${Li(this.g)}, ${Li(this.b)}${e===1?")":`, ${e})`}`}function Ad(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Li(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ei(e){return e=Li(e),(e<16?"0":"")+e.toString(16)}function e2(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Ta(e,t,r,n)}function i4(e){if(e instanceof Ta)return new Ta(e.h,e.s,e.l,e.opacity);if(e instanceof Ru||(e=ru(e)),!e)return new Ta;if(e instanceof Ta)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),o=Math.max(t,r,n),i=NaN,s=o-a,l=(o+a)/2;return s?(t===o?i=(r-n)/s+(r<n)*6:r===o?i=(n-t)/s+2:i=(t-r)/s+4,s/=l<.5?o+a:2-o-a,i*=60):s=l>0&&l<1?0:i,new Ta(i,s,l,e.opacity)}function $B(e,t,r,n){return arguments.length===1?i4(e):new Ta(e,t,r,n??1)}function Ta(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}_v(Ta,$B,o4(Ru,{brighter(e){return e=e==null?Md:Math.pow(Md,e),new Ta(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?eu:Math.pow(eu,e),new Ta(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Rn(hp(e>=240?e-240:e+120,a,n),hp(e,a,n),hp(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Ta(t2(this.h),bf(this.s),bf(this.l),Ad(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ad(this.opacity);return`${e===1?"hsl(":"hsla("}${t2(this.h)}, ${bf(this.s)*100}%, ${bf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function t2(e){return e=(e||0)%360,e<0?e+360:e}function bf(e){return Math.max(0,Math.min(1,e||0))}function hp(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Pv=e=>()=>e;function DB(e,t){return function(r){return e+r*t}}function RB(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function IB(e){return(e=+e)==1?s4:function(t,r){return r-t?RB(t,r,e):Pv(isNaN(t)?r:t)}}function s4(e,t){var r=t-e;return r?DB(e,r):Pv(isNaN(e)?t:e)}const r2=function e(t){var r=IB(t);function n(a,o){var i=r((a=im(a)).r,(o=im(o)).r),s=r(a.g,o.g),l=r(a.b,o.b),u=s4(a.opacity,o.opacity);return function(d){return a.r=i(d),a.g=s(d),a.b=l(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function LB(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(o){for(a=0;a<r;++a)n[a]=e[a]*(1-o)+t[a]*o;return n}}function BB(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function FB(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),o=new Array(r),i;for(i=0;i<n;++i)a[i]=El(e[i],t[i]);for(;i<r;++i)o[i]=t[i];return function(s){for(i=0;i<n;++i)o[i]=a[i](s);return o}}function zB(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Ed(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function GB(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=El(e[a],t[a]):n[a]=t[a];return function(o){for(a in r)n[a]=r[a](o);return n}}var sm=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,pp=new RegExp(sm.source,"g");function UB(e){return function(){return e}}function WB(e){return function(t){return e(t)+""}}function XB(e,t){var r=sm.lastIndex=pp.lastIndex=0,n,a,o,i=-1,s=[],l=[];for(e=e+"",t=t+"";(n=sm.exec(e))&&(a=pp.exec(t));)(o=a.index)>r&&(o=t.slice(r,o),s[i]?s[i]+=o:s[++i]=o),(n=n[0])===(a=a[0])?s[i]?s[i]+=a:s[++i]=a:(s[++i]=null,l.push({i,x:Ed(n,a)})),r=pp.lastIndex;return r<t.length&&(o=t.slice(r),s[i]?s[i]+=o:s[++i]=o),s.length<2?l[0]?WB(l[0].x):UB(t):(t=l.length,function(u){for(var d=0,f;d<t;++d)s[(f=l[d]).i]=f.x(u);return s.join("")})}function El(e,t){var r=typeof t,n;return t==null||r==="boolean"?Pv(t):(r==="number"?Ed:r==="string"?(n=ru(t))?(t=n,r2):XB:t instanceof ru?r2:t instanceof Date?zB:BB(t)?LB:Array.isArray(t)?FB:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?GB:Ed)(e,t)}function Ov(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function HB(e,t){t===void 0&&(t=e,e=El);for(var r=0,n=t.length-1,a=t[0],o=new Array(n<0?0:n);r<n;)o[r]=e(a,a=t[++r]);return function(i){var s=Math.max(0,Math.min(n-1,Math.floor(i*=n)));return o[s](i-s)}}function VB(e){return function(){return e}}function Td(e){return+e}var n2=[0,1];function Pn(e){return e}function lm(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:VB(isNaN(t)?NaN:.5)}function KB(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function YB(e,t,r){var n=e[0],a=e[1],o=t[0],i=t[1];return a<n?(n=lm(a,n),o=r(i,o)):(n=lm(n,a),o=r(o,i)),function(s){return o(n(s))}}function qB(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),o=new Array(n),i=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<n;)a[i]=lm(e[i],e[i+1]),o[i]=r(t[i],t[i+1]);return function(s){var l=Du(e,s,1,n)-1;return o[l](a[l](s))}}function Iu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function nh(){var e=n2,t=n2,r=El,n,a,o,i=Pn,s,l,u;function d(){var h=Math.min(e.length,t.length);return i!==Pn&&(i=KB(e[0],e[h-1])),s=h>2?qB:YB,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?o:(l||(l=s(e.map(n),t,r)))(n(i(h)))}return f.invert=function(h){return i(a((u||(u=s(t,e.map(n),Ed)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Td),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=Ov,d()},f.clamp=function(h){return arguments.length?(i=h?!0:Pn,d()):i!==Pn},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(o=h,f):o},function(h,p){return n=h,a=p,d()}}function Cv(){return nh()(Pn,Pn)}function ZB(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function $d(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Js(e){return e=$d(Math.abs(e)),e?e[1]:NaN}function QB(e,t){return function(r,n){for(var a=r.length,o=[],i=0,s=e[0],l=0;a>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),o.push(r.substring(a-=s,a+s)),!((l+=s+1)>n));)s=e[i=(i+1)%e.length];return o.reverse().join(t)}}function JB(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var eF=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function nu(e){if(!(t=eF.exec(e)))throw new Error("invalid format: "+e);var t;return new Mv({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}nu.prototype=Mv.prototype;function Mv(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Mv.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function tF(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var Dd;function rF(e,t){var r=$d(e,t);if(!r)return Dd=void 0,e.toPrecision(t);var n=r[0],a=r[1],o=a-(Dd=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=n.length;return o===i?n:o>i?n+new Array(o-i+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+$d(e,Math.max(0,t+o-1))[0]}function a2(e,t){var r=$d(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const o2={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:ZB,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>a2(e*100,t),r:a2,s:rF,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function i2(e){return e}var s2=Array.prototype.map,l2=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function nF(e){var t=e.grouping===void 0||e.thousands===void 0?i2:QB(s2.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?i2:JB(s2.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(f,h){f=nu(f);var p=f.fill,m=f.align,x=f.sign,w=f.symbol,v=f.zero,g=f.width,y=f.comma,k=f.precision,b=f.trim,S=f.type;S==="n"?(y=!0,S="g"):o2[S]||(k===void 0&&(k=12),b=!0,S="g"),(v||p==="0"&&m==="=")&&(v=!0,p="0",m="=");var _=(h&&h.prefix!==void 0?h.prefix:"")+(w==="$"?r:w==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():""),N=(w==="$"?n:/[%p]/.test(S)?i:"")+(h&&h.suffix!==void 0?h.suffix:""),P=o2[S],M=/[defgprs%]/.test(S);k=k===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function E(C){var A=_,L=N,R,G,O;if(S==="c")L=P(C)+L,C="";else{C=+C;var T=C<0||1/C<0;if(C=isNaN(C)?l:P(Math.abs(C),k),b&&(C=tF(C)),T&&+C==0&&x!=="+"&&(T=!1),A=(T?x==="("?x:s:x==="-"||x==="("?"":x)+A,L=(S==="s"&&!isNaN(C)&&Dd!==void 0?l2[8+Dd/3]:"")+L+(T&&x==="("?")":""),M){for(R=-1,G=C.length;++R<G;)if(O=C.charCodeAt(R),48>O||O>57){L=(O===46?a+C.slice(R+1):C.slice(R))+L,C=C.slice(0,R);break}}}y&&!v&&(C=t(C,1/0));var B=A.length+C.length+L.length,z=B<g?new Array(g-B+1).join(p):"";switch(y&&v&&(C=t(z+C,z.length?g-L.length:1/0),z=""),m){case"<":C=A+C+L+z;break;case"=":C=A+z+C+L;break;case"^":C=z.slice(0,B=z.length>>1)+A+C+L+z.slice(B);break;default:C=z+A+C+L;break}return o(C)}return E.toString=function(){return f+""},E}function d(f,h){var p=Math.max(-8,Math.min(8,Math.floor(Js(h)/3)))*3,m=Math.pow(10,-p),x=u((f=nu(f),f.type="f",f),{suffix:l2[8+p/3]});return function(w){return x(m*w)}}return{format:u,formatPrefix:d}}var wf,Av,l4;aF({thousands:",",grouping:[3],currency:["$",""]});function aF(e){return wf=nF(e),Av=wf.format,l4=wf.formatPrefix,wf}function oF(e){return Math.max(0,-Js(Math.abs(e)))}function iF(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Js(t)/3)))*3-Js(Math.abs(e)))}function sF(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Js(t)-Js(e))+1}function c4(e,t,r,n){var a=am(e,t,r),o;switch(n=nu(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(o=iF(a,i))&&(n.precision=o),l4(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=sF(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=oF(a))&&(n.precision=o-(n.type==="%")*2);break}}return Av(n)}function pi(e){var t=e.domain;return e.ticks=function(r){var n=t();return rm(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return c4(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,o=n.length-1,i=n[a],s=n[o],l,u,d=10;for(s<i&&(u=i,i=s,s=u,u=a,a=o,o=u);d-- >0;){if(u=nm(i,s,r),u===l)return n[a]=i,n[o]=s,t(n);if(u>0)i=Math.floor(i/u)*u,s=Math.ceil(s/u)*u;else if(u<0)i=Math.ceil(i*u)/u,s=Math.floor(s*u)/u;else break;l=u}return e},e}function Rd(){var e=Cv();return e.copy=function(){return Iu(e,Rd())},ka.apply(e,arguments),pi(e)}function u4(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Td),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return u4(e).unknown(t)},e=arguments.length?Array.from(e,Td):[0,1],pi(r)}function f4(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],o=e[n],i;return o<a&&(i=r,r=n,n=i,i=a,a=o,o=i),e[r]=t.floor(a),e[n]=t.ceil(o),e}function c2(e){return Math.log(e)}function u2(e){return Math.exp(e)}function lF(e){return-Math.log(-e)}function cF(e){return-Math.exp(-e)}function uF(e){return isFinite(e)?+("1e"+e):e<0?0:e}function fF(e){return e===10?uF:e===Math.E?Math.exp:t=>Math.pow(e,t)}function dF(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function f2(e){return(t,r)=>-e(-t,r)}function Ev(e){const t=e(c2,u2),r=t.domain;let n=10,a,o;function i(){return a=dF(n),o=fF(n),r()[0]<0?(a=f2(a),o=f2(o),e(lF,cF)):e(c2,u2),t}return t.base=function(s){return arguments.length?(n=+s,i()):n},t.domain=function(s){return arguments.length?(r(s),i()):r()},t.ticks=s=>{const l=r();let u=l[0],d=l[l.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),p=a(d),m,x;const w=s==null?10:+s;let v=[];if(!(n%1)&&p-h<w){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(m=1;m<n;++m)if(x=h<0?m/o(-h):m*o(h),!(x<u)){if(x>d)break;v.push(x)}}else for(;h<=p;++h)for(m=n-1;m>=1;--m)if(x=h>0?m/o(-h):m*o(h),!(x<u)){if(x>d)break;v.push(x)}v.length*2<w&&(v=rm(u,d,w))}else v=rm(h,p,Math.min(p-h,w)).map(o);return f?v.reverse():v},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=nu(l)).precision==null&&(l.trim=!0),l=Av(l)),s===1/0)return l;const u=Math.max(1,n*s/t.ticks().length);return d=>{let f=d/o(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?l(d):""}},t.nice=()=>r(f4(r(),{floor:s=>o(Math.floor(a(s))),ceil:s=>o(Math.ceil(a(s)))})),t}function d4(){const e=Ev(nh()).domain([1,10]);return e.copy=()=>Iu(e,d4()).base(e.base()),ka.apply(e,arguments),e}function d2(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function h2(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Tv(e){var t=1,r=e(d2(t),h2(t));return r.constant=function(n){return arguments.length?e(d2(t=+n),h2(t)):t},pi(r)}function h4(){var e=Tv(nh());return e.copy=function(){return Iu(e,h4()).constant(e.constant())},ka.apply(e,arguments)}function p2(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function hF(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function pF(e){return e<0?-e*e:e*e}function $v(e){var t=e(Pn,Pn),r=1;function n(){return r===1?e(Pn,Pn):r===.5?e(hF,pF):e(p2(r),p2(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},pi(t)}function Dv(){var e=$v(nh());return e.copy=function(){return Iu(e,Dv()).exponent(e.exponent())},ka.apply(e,arguments),e}function gF(){return Dv.apply(null,arguments).exponent(.5)}function g2(e){return Math.sign(e)*e*e}function mF(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function p4(){var e=Cv(),t=[0,1],r=!1,n;function a(o){var i=mF(e(o));return isNaN(i)?n:r?Math.round(i):i}return a.invert=function(o){return e.invert(g2(o))},a.domain=function(o){return arguments.length?(e.domain(o),a):e.domain()},a.range=function(o){return arguments.length?(e.range((t=Array.from(o,Td)).map(g2)),a):t.slice()},a.rangeRound=function(o){return a.range(o).round(!0)},a.round=function(o){return arguments.length?(r=!!o,a):r},a.clamp=function(o){return arguments.length?(e.clamp(o),a):e.clamp()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return p4(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},ka.apply(a,arguments),pi(a)}function g4(){var e=[],t=[],r=[],n;function a(){var i=0,s=Math.max(1,t.length);for(r=new Array(s-1);++i<s;)r[i-1]=wB(e,i/s);return o}function o(i){return i==null||isNaN(i=+i)?n:t[Du(r,i)]}return o.invertExtent=function(i){var s=t.indexOf(i);return s<0?[NaN,NaN]:[s>0?r[s-1]:e[0],s<r.length?r[s]:e[e.length-1]]},o.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let s of i)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(oi),a()},o.range=function(i){return arguments.length?(t=Array.from(i),a()):t.slice()},o.unknown=function(i){return arguments.length?(n=i,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return g4().domain(e).range(t).unknown(n)},ka.apply(o,arguments)}function m4(){var e=0,t=1,r=1,n=[.5],a=[0,1],o;function i(l){return l!=null&&l<=l?a[Du(n,l,0,r)]:o}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return i}return i.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},i.range=function(l){return arguments.length?(r=(a=Array.from(l)).length-1,s()):a.slice()},i.invertExtent=function(l){var u=a.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},i.unknown=function(l){return arguments.length&&(o=l),i},i.thresholds=function(){return n.slice()},i.copy=function(){return m4().domain([e,t]).range(a).unknown(o)},ka.apply(pi(i),arguments)}function y4(){var e=[.5],t=[0,1],r,n=1;function a(o){return o!=null&&o<=o?t[Du(e,o,0,n)]:r}return a.domain=function(o){return arguments.length?(e=Array.from(o),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(o){return arguments.length?(t=Array.from(o),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(o){var i=t.indexOf(o);return[e[i-1],e[i]]},a.unknown=function(o){return arguments.length?(r=o,a):r},a.copy=function(){return y4().domain(e).range(t).unknown(r)},ka.apply(a,arguments)}const gp=new Date,mp=new Date;function zr(e,t,r,n){function a(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return a.floor=o=>(e(o=new Date(+o)),o),a.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),a.round=o=>{const i=a(o),s=a.ceil(o);return o-i<s-o?i:s},a.offset=(o,i)=>(t(o=new Date(+o),i==null?1:Math.floor(i)),o),a.range=(o,i,s)=>{const l=[];if(o=a.ceil(o),s=s==null?1:Math.floor(s),!(o<i)||!(s>0))return l;let u;do l.push(u=new Date(+o)),t(o,s),e(o);while(u<o&&o<i);return l},a.filter=o=>zr(i=>{if(i>=i)for(;e(i),!o(i);)i.setTime(i-1)},(i,s)=>{if(i>=i)if(s<0)for(;++s<=0;)for(;t(i,-1),!o(i););else for(;--s>=0;)for(;t(i,1),!o(i););}),r&&(a.count=(o,i)=>(gp.setTime(+o),mp.setTime(+i),e(gp),e(mp),Math.floor(r(gp,mp))),a.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?a.filter(n?i=>n(i)%o===0:i=>a.count(0,i)%o===0):a)),a}const Id=zr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Id.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?zr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Id);Id.range;const fo=1e3,pa=fo*60,ho=pa*60,jo=ho*24,Rv=jo*7,m2=jo*30,yp=jo*365,Ti=zr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*fo)},(e,t)=>(t-e)/fo,e=>e.getUTCSeconds());Ti.range;const Iv=zr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*fo)},(e,t)=>{e.setTime(+e+t*pa)},(e,t)=>(t-e)/pa,e=>e.getMinutes());Iv.range;const Lv=zr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*pa)},(e,t)=>(t-e)/pa,e=>e.getUTCMinutes());Lv.range;const Bv=zr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*fo-e.getMinutes()*pa)},(e,t)=>{e.setTime(+e+t*ho)},(e,t)=>(t-e)/ho,e=>e.getHours());Bv.range;const Fv=zr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ho)},(e,t)=>(t-e)/ho,e=>e.getUTCHours());Fv.range;const Lu=zr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*pa)/jo,e=>e.getDate()-1);Lu.range;const ah=zr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/jo,e=>e.getUTCDate()-1);ah.range;const v4=zr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/jo,e=>Math.floor(e/jo));v4.range;function ns(e){return zr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*pa)/Rv)}const oh=ns(0),Ld=ns(1),yF=ns(2),vF=ns(3),el=ns(4),xF=ns(5),bF=ns(6);oh.range;Ld.range;yF.range;vF.range;el.range;xF.range;bF.range;function as(e){return zr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Rv)}const ih=as(0),Bd=as(1),wF=as(2),kF=as(3),tl=as(4),SF=as(5),jF=as(6);ih.range;Bd.range;wF.range;kF.range;tl.range;SF.range;jF.range;const zv=zr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());zv.range;const Gv=zr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Gv.range;const No=zr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());No.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:zr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});No.range;const _o=zr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());_o.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:zr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});_o.range;function x4(e,t,r,n,a,o){const i=[[Ti,1,fo],[Ti,5,5*fo],[Ti,15,15*fo],[Ti,30,30*fo],[o,1,pa],[o,5,5*pa],[o,15,15*pa],[o,30,30*pa],[a,1,ho],[a,3,3*ho],[a,6,6*ho],[a,12,12*ho],[n,1,jo],[n,2,2*jo],[r,1,Rv],[t,1,m2],[t,3,3*m2],[e,1,yp]];function s(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:l(u,d,f),m=p?p.range(u,+d+1):[];return h?m.reverse():m}function l(u,d,f){const h=Math.abs(d-u)/f,p=jv(([,,w])=>w).right(i,h);if(p===i.length)return e.every(am(u/yp,d/yp,f));if(p===0)return Id.every(Math.max(am(u,d,f),1));const[m,x]=i[h/i[p-1][2]<i[p][2]/h?p-1:p];return m.every(x)}return[s,l]}const[NF,_F]=x4(_o,Gv,ih,v4,Fv,Lv),[PF,OF]=x4(No,zv,oh,Lu,Bv,Iv);function vp(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function xp(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ql(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function CF(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,o=e.days,i=e.shortDays,s=e.months,l=e.shortMonths,u=Jl(a),d=ec(a),f=Jl(o),h=ec(o),p=Jl(i),m=ec(i),x=Jl(s),w=ec(s),v=Jl(l),g=ec(l),y={a:O,A:T,b:B,B:z,c:null,d:k2,e:k2,f:QF,g:lz,G:uz,H:YF,I:qF,j:ZF,L:b4,m:JF,M:ez,p:te,q:Q,Q:N2,s:_2,S:tz,u:rz,U:nz,V:az,w:oz,W:iz,x:null,X:null,y:sz,Y:cz,Z:fz,"%":j2},k={a:D,A:J,b:q,B:$,c:null,d:S2,e:S2,f:gz,g:Nz,G:Pz,H:dz,I:hz,j:pz,L:k4,m:mz,M:yz,p:ne,q:ce,Q:N2,s:_2,S:vz,u:xz,U:bz,V:wz,w:kz,W:Sz,x:null,X:null,y:jz,Y:_z,Z:Oz,"%":j2},b={a:M,A:E,b:C,B:A,c:L,d:b2,e:b2,f:XF,g:x2,G:v2,H:w2,I:w2,j:zF,L:WF,m:FF,M:GF,p:P,q:BF,Q:VF,s:KF,S:UF,u:$F,U:DF,V:RF,w:TF,W:IF,x:R,X:G,y:x2,Y:v2,Z:LF,"%":HF};y.x=S(r,y),y.X=S(n,y),y.c=S(t,y),k.x=S(r,k),k.X=S(n,k),k.c=S(t,k);function S(Y,ue){return function(he){var K=[],Oe=-1,Se=0,oe=Y.length,we,ve,Ke;for(he instanceof Date||(he=new Date(+he));++Oe<oe;)Y.charCodeAt(Oe)===37&&(K.push(Y.slice(Se,Oe)),(ve=y2[we=Y.charAt(++Oe)])!=null?we=Y.charAt(++Oe):ve=we==="e"?" ":"0",(Ke=ue[we])&&(we=Ke(he,ve)),K.push(we),Se=Oe+1);return K.push(Y.slice(Se,Oe)),K.join("")}}function _(Y,ue){return function(he){var K=Ql(1900,void 0,1),Oe=N(K,Y,he+="",0),Se,oe;if(Oe!=he.length)return null;if("Q"in K)return new Date(K.Q);if("s"in K)return new Date(K.s*1e3+("L"in K?K.L:0));if(ue&&!("Z"in K)&&(K.Z=0),"p"in K&&(K.H=K.H%12+K.p*12),K.m===void 0&&(K.m="q"in K?K.q:0),"V"in K){if(K.V<1||K.V>53)return null;"w"in K||(K.w=1),"Z"in K?(Se=xp(Ql(K.y,0,1)),oe=Se.getUTCDay(),Se=oe>4||oe===0?Bd.ceil(Se):Bd(Se),Se=ah.offset(Se,(K.V-1)*7),K.y=Se.getUTCFullYear(),K.m=Se.getUTCMonth(),K.d=Se.getUTCDate()+(K.w+6)%7):(Se=vp(Ql(K.y,0,1)),oe=Se.getDay(),Se=oe>4||oe===0?Ld.ceil(Se):Ld(Se),Se=Lu.offset(Se,(K.V-1)*7),K.y=Se.getFullYear(),K.m=Se.getMonth(),K.d=Se.getDate()+(K.w+6)%7)}else("W"in K||"U"in K)&&("w"in K||(K.w="u"in K?K.u%7:"W"in K?1:0),oe="Z"in K?xp(Ql(K.y,0,1)).getUTCDay():vp(Ql(K.y,0,1)).getDay(),K.m=0,K.d="W"in K?(K.w+6)%7+K.W*7-(oe+5)%7:K.w+K.U*7-(oe+6)%7);return"Z"in K?(K.H+=K.Z/100|0,K.M+=K.Z%100,xp(K)):vp(K)}}function N(Y,ue,he,K){for(var Oe=0,Se=ue.length,oe=he.length,we,ve;Oe<Se;){if(K>=oe)return-1;if(we=ue.charCodeAt(Oe++),we===37){if(we=ue.charAt(Oe++),ve=b[we in y2?ue.charAt(Oe++):we],!ve||(K=ve(Y,he,K))<0)return-1}else if(we!=he.charCodeAt(K++))return-1}return K}function P(Y,ue,he){var K=u.exec(ue.slice(he));return K?(Y.p=d.get(K[0].toLowerCase()),he+K[0].length):-1}function M(Y,ue,he){var K=p.exec(ue.slice(he));return K?(Y.w=m.get(K[0].toLowerCase()),he+K[0].length):-1}function E(Y,ue,he){var K=f.exec(ue.slice(he));return K?(Y.w=h.get(K[0].toLowerCase()),he+K[0].length):-1}function C(Y,ue,he){var K=v.exec(ue.slice(he));return K?(Y.m=g.get(K[0].toLowerCase()),he+K[0].length):-1}function A(Y,ue,he){var K=x.exec(ue.slice(he));return K?(Y.m=w.get(K[0].toLowerCase()),he+K[0].length):-1}function L(Y,ue,he){return N(Y,t,ue,he)}function R(Y,ue,he){return N(Y,r,ue,he)}function G(Y,ue,he){return N(Y,n,ue,he)}function O(Y){return i[Y.getDay()]}function T(Y){return o[Y.getDay()]}function B(Y){return l[Y.getMonth()]}function z(Y){return s[Y.getMonth()]}function te(Y){return a[+(Y.getHours()>=12)]}function Q(Y){return 1+~~(Y.getMonth()/3)}function D(Y){return i[Y.getUTCDay()]}function J(Y){return o[Y.getUTCDay()]}function q(Y){return l[Y.getUTCMonth()]}function $(Y){return s[Y.getUTCMonth()]}function ne(Y){return a[+(Y.getUTCHours()>=12)]}function ce(Y){return 1+~~(Y.getUTCMonth()/3)}return{format:function(Y){var ue=S(Y+="",y);return ue.toString=function(){return Y},ue},parse:function(Y){var ue=_(Y+="",!1);return ue.toString=function(){return Y},ue},utcFormat:function(Y){var ue=S(Y+="",k);return ue.toString=function(){return Y},ue},utcParse:function(Y){var ue=_(Y+="",!0);return ue.toString=function(){return Y},ue}}}var y2={"-":"",_:" ",0:"0"},qr=/^\s*\d+/,MF=/^%/,AF=/[\\^$*+?|[\]().{}]/g;function gt(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",o=a.length;return n+(o<r?new Array(r-o+1).join(t)+a:a)}function EF(e){return e.replace(AF,"\\$&")}function Jl(e){return new RegExp("^(?:"+e.map(EF).join("|")+")","i")}function ec(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function TF(e,t,r){var n=qr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function $F(e,t,r){var n=qr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function DF(e,t,r){var n=qr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function RF(e,t,r){var n=qr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function IF(e,t,r){var n=qr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function v2(e,t,r){var n=qr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function x2(e,t,r){var n=qr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function LF(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function BF(e,t,r){var n=qr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function FF(e,t,r){var n=qr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function b2(e,t,r){var n=qr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function zF(e,t,r){var n=qr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function w2(e,t,r){var n=qr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function GF(e,t,r){var n=qr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function UF(e,t,r){var n=qr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function WF(e,t,r){var n=qr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function XF(e,t,r){var n=qr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function HF(e,t,r){var n=MF.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function VF(e,t,r){var n=qr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function KF(e,t,r){var n=qr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function k2(e,t){return gt(e.getDate(),t,2)}function YF(e,t){return gt(e.getHours(),t,2)}function qF(e,t){return gt(e.getHours()%12||12,t,2)}function ZF(e,t){return gt(1+Lu.count(No(e),e),t,3)}function b4(e,t){return gt(e.getMilliseconds(),t,3)}function QF(e,t){return b4(e,t)+"000"}function JF(e,t){return gt(e.getMonth()+1,t,2)}function ez(e,t){return gt(e.getMinutes(),t,2)}function tz(e,t){return gt(e.getSeconds(),t,2)}function rz(e){var t=e.getDay();return t===0?7:t}function nz(e,t){return gt(oh.count(No(e)-1,e),t,2)}function w4(e){var t=e.getDay();return t>=4||t===0?el(e):el.ceil(e)}function az(e,t){return e=w4(e),gt(el.count(No(e),e)+(No(e).getDay()===4),t,2)}function oz(e){return e.getDay()}function iz(e,t){return gt(Ld.count(No(e)-1,e),t,2)}function sz(e,t){return gt(e.getFullYear()%100,t,2)}function lz(e,t){return e=w4(e),gt(e.getFullYear()%100,t,2)}function cz(e,t){return gt(e.getFullYear()%1e4,t,4)}function uz(e,t){var r=e.getDay();return e=r>=4||r===0?el(e):el.ceil(e),gt(e.getFullYear()%1e4,t,4)}function fz(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+gt(t/60|0,"0",2)+gt(t%60,"0",2)}function S2(e,t){return gt(e.getUTCDate(),t,2)}function dz(e,t){return gt(e.getUTCHours(),t,2)}function hz(e,t){return gt(e.getUTCHours()%12||12,t,2)}function pz(e,t){return gt(1+ah.count(_o(e),e),t,3)}function k4(e,t){return gt(e.getUTCMilliseconds(),t,3)}function gz(e,t){return k4(e,t)+"000"}function mz(e,t){return gt(e.getUTCMonth()+1,t,2)}function yz(e,t){return gt(e.getUTCMinutes(),t,2)}function vz(e,t){return gt(e.getUTCSeconds(),t,2)}function xz(e){var t=e.getUTCDay();return t===0?7:t}function bz(e,t){return gt(ih.count(_o(e)-1,e),t,2)}function S4(e){var t=e.getUTCDay();return t>=4||t===0?tl(e):tl.ceil(e)}function wz(e,t){return e=S4(e),gt(tl.count(_o(e),e)+(_o(e).getUTCDay()===4),t,2)}function kz(e){return e.getUTCDay()}function Sz(e,t){return gt(Bd.count(_o(e)-1,e),t,2)}function jz(e,t){return gt(e.getUTCFullYear()%100,t,2)}function Nz(e,t){return e=S4(e),gt(e.getUTCFullYear()%100,t,2)}function _z(e,t){return gt(e.getUTCFullYear()%1e4,t,4)}function Pz(e,t){var r=e.getUTCDay();return e=r>=4||r===0?tl(e):tl.ceil(e),gt(e.getUTCFullYear()%1e4,t,4)}function Oz(){return"+0000"}function j2(){return"%"}function N2(e){return+e}function _2(e){return Math.floor(+e/1e3)}var hs,j4,N4;Cz({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Cz(e){return hs=CF(e),j4=hs.format,hs.parse,N4=hs.utcFormat,hs.utcParse,hs}function Mz(e){return new Date(e)}function Az(e){return e instanceof Date?+e:+new Date(+e)}function Uv(e,t,r,n,a,o,i,s,l,u){var d=Cv(),f=d.invert,h=d.domain,p=u(".%L"),m=u(":%S"),x=u("%I:%M"),w=u("%I %p"),v=u("%a %d"),g=u("%b %d"),y=u("%B"),k=u("%Y");function b(S){return(l(S)<S?p:s(S)<S?m:i(S)<S?x:o(S)<S?w:n(S)<S?a(S)<S?v:g:r(S)<S?y:k)(S)}return d.invert=function(S){return new Date(f(S))},d.domain=function(S){return arguments.length?h(Array.from(S,Az)):h().map(Mz)},d.ticks=function(S){var _=h();return e(_[0],_[_.length-1],S??10)},d.tickFormat=function(S,_){return _==null?b:u(_)},d.nice=function(S){var _=h();return(!S||typeof S.range!="function")&&(S=t(_[0],_[_.length-1],S??10)),S?h(f4(_,S)):d},d.copy=function(){return Iu(d,Uv(e,t,r,n,a,o,i,s,l,u))},d}function Ez(){return ka.apply(Uv(PF,OF,No,zv,oh,Lu,Bv,Iv,Ti,j4).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Tz(){return ka.apply(Uv(NF,_F,_o,Gv,ih,ah,Fv,Lv,Ti,N4).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function sh(){var e=0,t=1,r,n,a,o,i=Pn,s=!1,l;function u(f){return f==null||isNaN(f=+f)?l:i(a===0?.5:(f=(o(f)-r)*a,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=o(e=+e),n=o(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(i=f,u):i};function d(f){return function(h){var p,m;return arguments.length?([p,m]=h,i=f(p,m),u):[i(0),i(1)]}}return u.range=d(El),u.rangeRound=d(Ov),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return o=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function gi(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function _4(){var e=pi(sh()(Pn));return e.copy=function(){return gi(e,_4())},Mo.apply(e,arguments)}function P4(){var e=Ev(sh()).domain([1,10]);return e.copy=function(){return gi(e,P4()).base(e.base())},Mo.apply(e,arguments)}function O4(){var e=Tv(sh());return e.copy=function(){return gi(e,O4()).constant(e.constant())},Mo.apply(e,arguments)}function Wv(){var e=$v(sh());return e.copy=function(){return gi(e,Wv()).exponent(e.exponent())},Mo.apply(e,arguments)}function $z(){return Wv.apply(null,arguments).exponent(.5)}function C4(){var e=[],t=Pn;function r(n){if(n!=null&&!isNaN(n=+n))return t((Du(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(oi),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,o)=>bB(e,o/n))},r.copy=function(){return C4(t).domain(e)},Mo.apply(r,arguments)}function lh(){var e=0,t=.5,r=1,n=1,a,o,i,s,l,u=Pn,d,f=!1,h;function p(x){return isNaN(x=+x)?h:(x=.5+((x=+d(x))-o)*(n*x<n*o?s:l),u(f?Math.max(0,Math.min(1,x)):x))}p.domain=function(x){return arguments.length?([e,t,r]=x,a=d(e=+e),o=d(t=+t),i=d(r=+r),s=a===o?0:.5/(o-a),l=o===i?0:.5/(i-o),n=o<a?-1:1,p):[e,t,r]},p.clamp=function(x){return arguments.length?(f=!!x,p):f},p.interpolator=function(x){return arguments.length?(u=x,p):u};function m(x){return function(w){var v,g,y;return arguments.length?([v,g,y]=w,u=HB(x,[v,g,y]),p):[u(0),u(.5),u(1)]}}return p.range=m(El),p.rangeRound=m(Ov),p.unknown=function(x){return arguments.length?(h=x,p):h},function(x){return d=x,a=x(e),o=x(t),i=x(r),s=a===o?0:.5/(o-a),l=o===i?0:.5/(i-o),n=o<a?-1:1,p}}function M4(){var e=pi(lh()(Pn));return e.copy=function(){return gi(e,M4())},Mo.apply(e,arguments)}function A4(){var e=Ev(lh()).domain([.1,1,10]);return e.copy=function(){return gi(e,A4()).base(e.base())},Mo.apply(e,arguments)}function E4(){var e=Tv(lh());return e.copy=function(){return gi(e,E4()).constant(e.constant())},Mo.apply(e,arguments)}function Xv(){var e=$v(lh());return e.copy=function(){return gi(e,Xv()).exponent(e.exponent())},Mo.apply(e,arguments)}function Dz(){return Xv.apply(null,arguments).exponent(.5)}const P2=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Jc,scaleDiverging:M4,scaleDivergingLog:A4,scaleDivergingPow:Xv,scaleDivergingSqrt:Dz,scaleDivergingSymlog:E4,scaleIdentity:u4,scaleImplicit:om,scaleLinear:Rd,scaleLog:d4,scaleOrdinal:Nv,scalePoint:wc,scalePow:Dv,scaleQuantile:g4,scaleQuantize:m4,scaleRadial:p4,scaleSequential:_4,scaleSequentialLog:P4,scaleSequentialPow:Wv,scaleSequentialQuantile:C4,scaleSequentialSqrt:$z,scaleSequentialSymlog:O4,scaleSqrt:gF,scaleSymlog:h4,scaleThreshold:y4,scaleTime:Ez,scaleUtc:Tz,tickFormat:c4},Symbol.toStringTag,{value:"Module"}));var Rz=Sl;function Iz(e,t,r){for(var n=-1,a=e.length;++n<a;){var o=e[n],i=t(o);if(i!=null&&(s===void 0?i===i&&!Rz(i):r(i,s)))var s=i,l=o}return l}var T4=Iz;function Lz(e,t){return e>t}var Bz=Lz,Fz=T4,zz=Bz,Gz=Al;function Uz(e){return e&&e.length?Fz(e,Gz,zz):void 0}var Wz=Uz;const Ho=Lt(Wz);function Xz(e,t){return e<t}var Hz=Xz,Vz=T4,Kz=Hz,Yz=Al;function qz(e){return e&&e.length?Vz(e,Yz,Kz):void 0}var Zz=qz;const ch=Lt(Zz);var Qz=ov,Jz=di,eG=Uj,tG=Un;function rG(e,t){var r=tG(e)?Qz:eG;return r(e,Jz(t))}var nG=rG,aG=zj,oG=nG;function iG(e,t){return aG(oG(e,t),1)}var sG=iG;const lG=Lt(sG);var cG=xv;function uG(e,t){return cG(e,t)}var fG=uG;const Ki=Lt(fG);var Tl=1e9,dG={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Vv,er=!0,ba="[DecimalError] ",Bi=ba+"Invalid argument: ",Hv=ba+"Exponent out of range: ",$l=Math.floor,Pi=Math.pow,hG=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Zn,Hr=1e7,Yt=7,$4=9007199254740991,Fd=$l($4/Yt),Ne={};Ne.absoluteValue=Ne.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ne.comparedTo=Ne.cmp=function(e){var t,r,n,a,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(n=o.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return n===a?0:n>a^o.s<0?1:-1};Ne.decimalPlaces=Ne.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Yt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Ne.dividedBy=Ne.div=function(e){return xo(this,new this.constructor(e))};Ne.dividedToIntegerBy=Ne.idiv=function(e){var t=this,r=t.constructor;return It(xo(t,new r(e),0,1),r.precision)};Ne.equals=Ne.eq=function(e){return!this.cmp(e)};Ne.exponent=function(){return Ar(this)};Ne.greaterThan=Ne.gt=function(e){return this.cmp(e)>0};Ne.greaterThanOrEqualTo=Ne.gte=function(e){return this.cmp(e)>=0};Ne.isInteger=Ne.isint=function(){return this.e>this.d.length-2};Ne.isNegative=Ne.isneg=function(){return this.s<0};Ne.isPositive=Ne.ispos=function(){return this.s>0};Ne.isZero=function(){return this.s===0};Ne.lessThan=Ne.lt=function(e){return this.cmp(e)<0};Ne.lessThanOrEqualTo=Ne.lte=function(e){return this.cmp(e)<1};Ne.logarithm=Ne.log=function(e){var t,r=this,n=r.constructor,a=n.precision,o=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Zn))throw Error(ba+"NaN");if(r.s<1)throw Error(ba+(r.s?"NaN":"-Infinity"));return r.eq(Zn)?new n(0):(er=!1,t=xo(au(r,o),au(e,o),o),er=!0,It(t,a))};Ne.minus=Ne.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?I4(t,e):D4(t,(e.s=-e.s,e))};Ne.modulo=Ne.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(ba+"NaN");return r.s?(er=!1,t=xo(r,e,0,1).times(e),er=!0,r.minus(t)):It(new n(r),a)};Ne.naturalExponential=Ne.exp=function(){return R4(this)};Ne.naturalLogarithm=Ne.ln=function(){return au(this)};Ne.negated=Ne.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ne.plus=Ne.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?D4(t,e):I4(t,(e.s=-e.s,e))};Ne.precision=Ne.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Bi+e);if(t=Ar(a)+1,n=a.d.length-1,r=n*Yt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Ne.squareRoot=Ne.sqrt=function(){var e,t,r,n,a,o,i,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(ba+"NaN")}for(e=Ar(s),er=!1,a=Math.sqrt(+s),a==0||a==1/0?(t=Xa(s.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=$l((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(a.toString()),r=l.precision,a=i=r+3;;)if(o=n,n=o.plus(xo(s,o,i+2)).times(.5),Xa(o.d).slice(0,i)===(t=Xa(n.d)).slice(0,i)){if(t=t.slice(i-3,i+1),a==i&&t=="4999"){if(It(o,r+1,0),o.times(o).eq(s)){n=o;break}}else if(t!="9999")break;i+=4}return er=!0,It(n,r)};Ne.times=Ne.mul=function(e){var t,r,n,a,o,i,s,l,u,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,l=h.length,u=p.length,l<u&&(o=h,h=p,p=o,i=l,l=u,u=i),o=[],i=l+u,n=i;n--;)o.push(0);for(n=u;--n>=0;){for(t=0,a=l+n;a>n;)s=o[a]+p[n]*h[a-n-1]+t,o[a--]=s%Hr|0,t=s/Hr|0;o[a]=(o[a]+t)%Hr|0}for(;!o[--i];)o.pop();return t?++r:o.shift(),e.d=o,e.e=r,er?It(e,f.precision):e};Ne.toDecimalPlaces=Ne.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(eo(e,0,Tl),t===void 0?t=n.rounding:eo(t,0,8),It(r,e+Ar(r)+1,t))};Ne.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Yi(n,!0):(eo(e,0,Tl),t===void 0?t=a.rounding:eo(t,0,8),n=It(new a(n),e+1,t),r=Yi(n,!0,e+1)),r};Ne.toFixed=function(e,t){var r,n,a=this,o=a.constructor;return e===void 0?Yi(a):(eo(e,0,Tl),t===void 0?t=o.rounding:eo(t,0,8),n=It(new o(a),e+Ar(a)+1,t),r=Yi(n.abs(),!1,e+Ar(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Ne.toInteger=Ne.toint=function(){var e=this,t=e.constructor;return It(new t(e),Ar(e)+1,t.rounding)};Ne.toNumber=function(){return+this};Ne.toPower=Ne.pow=function(e){var t,r,n,a,o,i,s=this,l=s.constructor,u=12,d=+(e=new l(e));if(!e.s)return new l(Zn);if(s=new l(s),!s.s){if(e.s<1)throw Error(ba+"Infinity");return s}if(s.eq(Zn))return s;if(n=l.precision,e.eq(Zn))return It(s,n);if(t=e.e,r=e.d.length-1,i=t>=r,o=s.s,i){if((r=d<0?-d:d)<=$4){for(a=new l(Zn),t=Math.ceil(n/Yt+4),er=!1;r%2&&(a=a.times(s),C2(a.d,t)),r=$l(r/2),r!==0;)s=s.times(s),C2(s.d,t);return er=!0,e.s<0?new l(Zn).div(a):It(a,n)}}else if(o<0)throw Error(ba+"NaN");return o=o<0&&e.d[Math.max(t,r)]&1?-1:1,s.s=1,er=!1,a=e.times(au(s,n+u)),er=!0,a=R4(a),a.s=o,a};Ne.toPrecision=function(e,t){var r,n,a=this,o=a.constructor;return e===void 0?(r=Ar(a),n=Yi(a,r<=o.toExpNeg||r>=o.toExpPos)):(eo(e,1,Tl),t===void 0?t=o.rounding:eo(t,0,8),a=It(new o(a),e,t),r=Ar(a),n=Yi(a,e<=r||r<=o.toExpNeg,e)),n};Ne.toSignificantDigits=Ne.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(eo(e,1,Tl),t===void 0?t=n.rounding:eo(t,0,8)),It(new n(r),e,t)};Ne.toString=Ne.valueOf=Ne.val=Ne.toJSON=Ne[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ar(e),r=e.constructor;return Yi(e,t<=r.toExpNeg||t>=r.toExpPos)};function D4(e,t){var r,n,a,o,i,s,l,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),er?It(t,f):t;if(l=e.d,u=t.d,i=e.e,a=t.e,l=l.slice(),o=i-a,o){for(o<0?(n=l,o=-o,s=u.length):(n=u,a=i,s=l.length),i=Math.ceil(f/Yt),s=i>s?i+1:s+1,o>s&&(o=s,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(s=l.length,o=u.length,s-o<0&&(o=s,n=u,u=l,l=n),r=0;o;)r=(l[--o]=l[o]+u[o]+r)/Hr|0,l[o]%=Hr;for(r&&(l.unshift(r),++a),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=a,er?It(t,f):t}function eo(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Bi+e)}function Xa(e){var t,r,n,a=e.length-1,o="",i=e[0];if(a>0){for(o+=i,t=1;t<a;t++)n=e[t]+"",r=Yt-n.length,r&&(o+=Fo(r)),o+=n;i=e[t],n=i+"",r=Yt-n.length,r&&(o+=Fo(r))}else if(i===0)return"0";for(;i%10===0;)i/=10;return o+i}var xo=function(){function e(n,a){var o,i=0,s=n.length;for(n=n.slice();s--;)o=n[s]*a+i,n[s]=o%Hr|0,i=o/Hr|0;return i&&n.unshift(i),n}function t(n,a,o,i){var s,l;if(o!=i)l=o>i?1:-1;else for(s=l=0;s<o;s++)if(n[s]!=a[s]){l=n[s]>a[s]?1:-1;break}return l}function r(n,a,o){for(var i=0;o--;)n[o]-=i,i=n[o]<a[o]?1:0,n[o]=i*Hr+n[o]-a[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,o,i){var s,l,u,d,f,h,p,m,x,w,v,g,y,k,b,S,_,N,P=n.constructor,M=n.s==a.s?1:-1,E=n.d,C=a.d;if(!n.s)return new P(n);if(!a.s)throw Error(ba+"Division by zero");for(l=n.e-a.e,_=C.length,b=E.length,p=new P(M),m=p.d=[],u=0;C[u]==(E[u]||0);)++u;if(C[u]>(E[u]||0)&&--l,o==null?g=o=P.precision:i?g=o+(Ar(n)-Ar(a))+1:g=o,g<0)return new P(0);if(g=g/Yt+2|0,u=0,_==1)for(d=0,C=C[0],g++;(u<b||d)&&g--;u++)y=d*Hr+(E[u]||0),m[u]=y/C|0,d=y%C|0;else{for(d=Hr/(C[0]+1)|0,d>1&&(C=e(C,d),E=e(E,d),_=C.length,b=E.length),k=_,x=E.slice(0,_),w=x.length;w<_;)x[w++]=0;N=C.slice(),N.unshift(0),S=C[0],C[1]>=Hr/2&&++S;do d=0,s=t(C,x,_,w),s<0?(v=x[0],_!=w&&(v=v*Hr+(x[1]||0)),d=v/S|0,d>1?(d>=Hr&&(d=Hr-1),f=e(C,d),h=f.length,w=x.length,s=t(f,x,h,w),s==1&&(d--,r(f,_<h?N:C,h))):(d==0&&(s=d=1),f=C.slice()),h=f.length,h<w&&f.unshift(0),r(x,f,w),s==-1&&(w=x.length,s=t(C,x,_,w),s<1&&(d++,r(x,_<w?N:C,w))),w=x.length):s===0&&(d++,x=[0]),m[u++]=d,s&&x[0]?x[w++]=E[k]||0:(x=[E[k]],w=1);while((k++<b||x[0]!==void 0)&&g--)}return m[0]||m.shift(),p.e=l,It(p,i?o+Ar(p)+1:o)}}();function R4(e,t){var r,n,a,o,i,s,l=0,u=0,d=e.constructor,f=d.precision;if(Ar(e)>16)throw Error(Hv+Ar(e));if(!e.s)return new d(Zn);for(er=!1,s=f,i=new d(.03125);e.abs().gte(.1);)e=e.times(i),u+=5;for(n=Math.log(Pi(2,u))/Math.LN10*2+5|0,s+=n,r=a=o=new d(Zn),d.precision=s;;){if(a=It(a.times(e),s),r=r.times(++l),i=o.plus(xo(a,r,s)),Xa(i.d).slice(0,s)===Xa(o.d).slice(0,s)){for(;u--;)o=It(o.times(o),s);return d.precision=f,t==null?(er=!0,It(o,f)):o}o=i}}function Ar(e){for(var t=e.e*Yt,r=e.d[0];r>=10;r/=10)t++;return t}function bp(e,t,r){if(t>e.LN10.sd())throw er=!0,r&&(e.precision=r),Error(ba+"LN10 precision limit exceeded");return It(new e(e.LN10),t)}function Fo(e){for(var t="";e--;)t+="0";return t}function au(e,t){var r,n,a,o,i,s,l,u,d,f=1,h=10,p=e,m=p.d,x=p.constructor,w=x.precision;if(p.s<1)throw Error(ba+(p.s?"NaN":"-Infinity"));if(p.eq(Zn))return new x(0);if(t==null?(er=!1,u=w):u=t,p.eq(10))return t==null&&(er=!0),bp(x,u);if(u+=h,x.precision=u,r=Xa(m),n=r.charAt(0),o=Ar(p),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=Xa(p.d),n=r.charAt(0),f++;o=Ar(p),n>1?(p=new x("0."+r),o++):p=new x(n+"."+r.slice(1))}else return l=bp(x,u+2,w).times(o+""),p=au(new x(n+"."+r.slice(1)),u-h).plus(l),x.precision=w,t==null?(er=!0,It(p,w)):p;for(s=i=p=xo(p.minus(Zn),p.plus(Zn),u),d=It(p.times(p),u),a=3;;){if(i=It(i.times(d),u),l=s.plus(xo(i,new x(a),u)),Xa(l.d).slice(0,u)===Xa(s.d).slice(0,u))return s=s.times(2),o!==0&&(s=s.plus(bp(x,u+2,w).times(o+""))),s=xo(s,new x(f),u),x.precision=w,t==null?(er=!0,It(s,w)):s;s=l,a+=2}}function O2(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=$l(r/Yt),e.d=[],n=(r+1)%Yt,r<0&&(n+=Yt),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Yt;n<a;)e.d.push(+t.slice(n,n+=Yt));t=t.slice(n),n=Yt-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),er&&(e.e>Fd||e.e<-Fd))throw Error(Hv+r)}else e.s=0,e.e=0,e.d=[0];return e}function It(e,t,r){var n,a,o,i,s,l,u,d,f=e.d;for(i=1,o=f[0];o>=10;o/=10)i++;if(n=t-i,n<0)n+=Yt,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Yt),o=f.length,d>=o)return e;for(u=o=f[d],i=1;o>=10;o/=10)i++;n%=Yt,a=n-Yt+i}if(r!==void 0&&(o=Pi(10,i-a-1),s=u/o%10|0,l=t<0||f[d+1]!==void 0||u%o,l=r<4?(s||l)&&(r==0||r==(e.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?a>0?u/Pi(10,i-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return l?(o=Ar(e),f.length=1,t=t-o-1,f[0]=Pi(10,(Yt-t%Yt)%Yt),e.e=$l(-t/Yt)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,o=1,d--):(f.length=d+1,o=Pi(10,Yt-n),f[d]=a>0?(u/Pi(10,i-a)%Pi(10,a)|0)*o:0),l)for(;;)if(d==0){(f[0]+=o)==Hr&&(f[0]=1,++e.e);break}else{if(f[d]+=o,f[d]!=Hr)break;f[d--]=0,o=1}for(n=f.length;f[--n]===0;)f.pop();if(er&&(e.e>Fd||e.e<-Fd))throw Error(Hv+Ar(e));return e}function I4(e,t){var r,n,a,o,i,s,l,u,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),er?It(t,p):t;if(l=e.d,f=t.d,n=t.e,u=e.e,l=l.slice(),i=u-n,i){for(d=i<0,d?(r=l,i=-i,s=f.length):(r=f,n=u,s=l.length),a=Math.max(Math.ceil(p/Yt),s)+2,i>a&&(i=a,r.length=1),r.reverse(),a=i;a--;)r.push(0);r.reverse()}else{for(a=l.length,s=f.length,d=a<s,d&&(s=a),a=0;a<s;a++)if(l[a]!=f[a]){d=l[a]<f[a];break}i=0}for(d&&(r=l,l=f,f=r,t.s=-t.s),s=l.length,a=f.length-s;a>0;--a)l[s++]=0;for(a=f.length;a>i;){if(l[--a]<f[a]){for(o=a;o&&l[--o]===0;)l[o]=Hr-1;--l[o],l[a]+=Hr}l[a]-=f[a]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,er?It(t,p):t):new h(0)}function Yi(e,t,r){var n,a=Ar(e),o=Xa(e.d),i=o.length;return t?(r&&(n=r-i)>0?o=o.charAt(0)+"."+o.slice(1)+Fo(n):i>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(a<0?"e":"e+")+a):a<0?(o="0."+Fo(-a-1)+o,r&&(n=r-i)>0&&(o+=Fo(n))):a>=i?(o+=Fo(a+1-i),r&&(n=r-a-1)>0&&(o=o+"."+Fo(n))):((n=a+1)<i&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-i)>0&&(a+1===i&&(o+="."),o+=Fo(n))),e.s<0?"-"+o:o}function C2(e,t){if(e.length>t)return e.length=t,!0}function L4(e){var t,r,n;function a(o){var i=this;if(!(i instanceof a))return new a(o);if(i.constructor=a,o instanceof a){i.s=o.s,i.e=o.e,i.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Bi+o);if(o>0)i.s=1;else if(o<0)o=-o,i.s=-1;else{i.s=0,i.e=0,i.d=[0];return}if(o===~~o&&o<1e7){i.e=0,i.d=[o];return}return O2(i,o.toString())}else if(typeof o!="string")throw Error(Bi+o);if(o.charCodeAt(0)===45?(o=o.slice(1),i.s=-1):i.s=1,hG.test(o))O2(i,o);else throw Error(Bi+o)}if(a.prototype=Ne,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=L4,a.config=a.set=pG,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function pG(e){if(!e||typeof e!="object")throw Error(ba+"Object expected");var t,r,n,a=["precision",1,Tl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if($l(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Bi+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Bi+r+": "+n);return this}var Vv=L4(dG);Zn=new Vv(1);const Tt=Vv;function gG(e){return xG(e)||vG(e)||yG(e)||mG()}function mG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yG(e,t){if(e){if(typeof e=="string")return cm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cm(e,t)}}function vG(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function xG(e){if(Array.isArray(e))return cm(e)}function cm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var bG=function(t){return t},B4={},F4=function(t){return t===B4},M2=function(t){return function r(){return arguments.length===0||arguments.length===1&&F4(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},wG=function e(t,r){return t===1?r:M2(function(){for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];var i=a.filter(function(s){return s!==B4}).length;return i>=t?r.apply(void 0,a):e(t-i,M2(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var d=a.map(function(f){return F4(f)?l.shift():f});return r.apply(void 0,gG(d).concat(l))}))})},uh=function(t){return wG(t.length,t)},um=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},kG=uh(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),SG=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return bG;var a=r.reverse(),o=a[0],i=a.slice(1);return function(){return i.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},fm=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},z4=function(t){var r=null,n=null;return function(){for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return r&&o.every(function(s,l){return s===r[l]})||(r=o,n=t.apply(void 0,o)),n}};function jG(e){var t;return e===0?t=1:t=Math.floor(new Tt(e).abs().log(10).toNumber())+1,t}function NG(e,t,r){for(var n=new Tt(e),a=0,o=[];n.lt(t)&&a<1e5;)o.push(n.toNumber()),n=n.add(r),a++;return o}var _G=uh(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),PG=uh(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),OG=uh(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const fh={rangeStep:NG,getDigitCount:jG,interpolateNumber:_G,uninterpolateNumber:PG,uninterpolateTruncation:OG};function dm(e){return AG(e)||MG(e)||G4(e)||CG()}function CG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MG(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function AG(e){if(Array.isArray(e))return hm(e)}function ou(e,t){return $G(e)||TG(e,t)||G4(e,t)||EG()}function EG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G4(e,t){if(e){if(typeof e=="string")return hm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hm(e,t)}}function hm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function TG(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,o=void 0;try{for(var i=e[Symbol.iterator](),s;!(n=(s=i.next()).done)&&(r.push(s.value),!(t&&r.length===t));n=!0);}catch(l){a=!0,o=l}finally{try{!n&&i.return!=null&&i.return()}finally{if(a)throw o}}return r}}function $G(e){if(Array.isArray(e))return e}function U4(e){var t=ou(e,2),r=t[0],n=t[1],a=r,o=n;return r>n&&(a=n,o=r),[a,o]}function W4(e,t,r){if(e.lte(0))return new Tt(0);var n=fh.getDigitCount(e.toNumber()),a=new Tt(10).pow(n),o=e.div(a),i=n!==1?.05:.1,s=new Tt(Math.ceil(o.div(i).toNumber())).add(r).mul(i),l=s.mul(a);return t?l:new Tt(Math.ceil(l))}function DG(e,t,r){var n=1,a=new Tt(e);if(!a.isint()&&r){var o=Math.abs(e);o<1?(n=new Tt(10).pow(fh.getDigitCount(e)-1),a=new Tt(Math.floor(a.div(n).toNumber())).mul(n)):o>1&&(a=new Tt(Math.floor(e)))}else e===0?a=new Tt(Math.floor((t-1)/2)):r||(a=new Tt(Math.floor(e)));var i=Math.floor((t-1)/2),s=SG(kG(function(l){return a.add(new Tt(l-i).mul(n)).toNumber()}),um);return s(0,t)}function X4(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Tt(0),tickMin:new Tt(0),tickMax:new Tt(0)};var o=W4(new Tt(t).sub(e).div(r-1),n,a),i;e<=0&&t>=0?i=new Tt(0):(i=new Tt(e).add(t).div(2),i=i.sub(new Tt(i).mod(o)));var s=Math.ceil(i.sub(e).div(o).toNumber()),l=Math.ceil(new Tt(t).sub(i).div(o).toNumber()),u=s+l+1;return u>r?X4(e,t,r,n,a+1):(u<r&&(l=t>0?l+(r-u):l,s=t>0?s:s+(r-u)),{step:o,tickMin:i.sub(new Tt(s).mul(o)),tickMax:i.add(new Tt(l).mul(o))})}function RG(e){var t=ou(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(a,2),s=U4([r,n]),l=ou(s,2),u=l[0],d=l[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(dm(um(0,a-1).map(function(){return 1/0}))):[].concat(dm(um(0,a-1).map(function(){return-1/0})),[d]);return r>n?fm(f):f}if(u===d)return DG(u,a,o);var h=X4(u,d,i,o),p=h.step,m=h.tickMin,x=h.tickMax,w=fh.rangeStep(m,x.add(new Tt(.1).mul(p)),p);return r>n?fm(w):w}function IG(e,t){var r=ou(e,2),n=r[0],a=r[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=U4([n,a]),s=ou(i,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[n,a];if(l===u)return[l];var d=Math.max(t,2),f=W4(new Tt(u).sub(l).div(d-1),o,0),h=[].concat(dm(fh.rangeStep(new Tt(l),new Tt(u).sub(new Tt(.99).mul(f)),f)),[u]);return n>a?fm(h):h}var LG=z4(RG),BG=z4(IG),FG="Invariant failed";function qi(e,t){throw new Error(FG)}var zG=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function rl(e){"@babel/helpers - typeof";return rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rl(e)}function zd(){return zd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zd.apply(this,arguments)}function GG(e,t){return HG(e)||XG(e,t)||WG(e,t)||UG()}function UG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WG(e,t){if(e){if(typeof e=="string")return A2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A2(e,t)}}function A2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function XG(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return s}}function HG(e){if(Array.isArray(e))return e}function VG(e,t){if(e==null)return{};var r=KG(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function KG(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function YG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qG(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,K4(n.key),n)}}function ZG(e,t,r){return t&&qG(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function QG(e,t,r){return t=Gd(t),JG(e,H4()?Reflect.construct(t,r||[],Gd(e).constructor):t.apply(e,r))}function JG(e,t){if(t&&(rl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eU(e)}function eU(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(H4=function(){return!!e})()}function Gd(e){return Gd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gd(e)}function tU(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pm(e,t)}function pm(e,t){return pm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},pm(e,t)}function V4(e,t,r){return t=K4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K4(e){var t=rU(e,"string");return rl(t)=="symbol"?t:t+""}function rU(e,t){if(rl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Dl=function(e){function t(){return YG(this,t),QG(this,t,arguments)}return tU(t,e),ZG(t,[{key:"render",value:function(){var n=this.props,a=n.offset,o=n.layout,i=n.width,s=n.dataKey,l=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=VG(n,zG),p=He(h,!1);this.props.direction==="x"&&d.type!=="number"&&qi();var m=l.map(function(x){var w=u(x,s),v=w.x,g=w.y,y=w.value,k=w.errorVal;if(!k)return null;var b=[],S,_;if(Array.isArray(k)){var N=GG(k,2);S=N[0],_=N[1]}else S=_=k;if(o==="vertical"){var P=d.scale,M=g+a,E=M+i,C=M-i,A=P(y-S),L=P(y+_);b.push({x1:L,y1:E,x2:L,y2:C}),b.push({x1:A,y1:M,x2:L,y2:M}),b.push({x1:A,y1:E,x2:A,y2:C})}else if(o==="horizontal"){var R=f.scale,G=v+a,O=G-i,T=G+i,B=R(y-S),z=R(y+_);b.push({x1:O,y1:z,x2:T,y2:z}),b.push({x1:G,y1:B,x2:G,y2:z}),b.push({x1:O,y1:B,x2:T,y2:B})}return F.createElement(vt,zd({className:"recharts-errorBar",key:"bar-".concat(b.map(function(te){return"".concat(te.x1,"-").concat(te.x2,"-").concat(te.y1,"-").concat(te.y2)}))},p),b.map(function(te){return F.createElement("line",zd({},te,{key:"line-".concat(te.x1,"-").concat(te.x2,"-").concat(te.y1,"-").concat(te.y2)}))}))});return F.createElement(vt,{className:"recharts-errorBars"},m)}}])}(F.Component);V4(Dl,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});V4(Dl,"displayName","ErrorBar");function iu(e){"@babel/helpers - typeof";return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iu(e)}function E2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E2(Object(r),!0).forEach(function(n){nU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nU(e,t,r){return t=aU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aU(e){var t=oU(e,"string");return iu(t)=="symbol"?t:t+""}function oU(e,t){if(iu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(iu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Y4=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,o=t.legendContent,i=qn(r,Ya);if(!i)return null;var s=Ya.defaultProps,l=s!==void 0?bi(bi({},s),i.props):{},u;return i.props&&i.props.payload?u=i.props&&i.props.payload:o==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,p=f.props,m=p.sectors||p.data||[];return d.concat(m.map(function(x){return{type:i.props.iconType||h.props.legendType,value:x.name,color:x.fill,payload:x}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?bi(bi({},h),f.props):{},m=p.dataKey,x=p.name,w=p.legendType,v=p.hide;return{inactive:v,dataKey:m,type:l.iconType||w||"square",color:Kv(f),value:x||m,payload:p}}),bi(bi(bi({},l),Ya.getWithHeight(i,a)),{},{payload:u,item:i})};function su(e){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},su(e)}function T2(e){return cU(e)||lU(e)||sU(e)||iU()}function iU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sU(e,t){if(e){if(typeof e=="string")return gm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gm(e,t)}}function lU(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function cU(e){if(Array.isArray(e))return gm(e)}function gm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$2(Object(r),!0).forEach(function(n){Bs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bs(e,t,r){return t=uU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uU(e){var t=fU(e,"string");return su(t)=="symbol"?t:t+""}function fU(e,t){if(su(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(su(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fr(e,t,r){return We(e)||We(t)?r:Br(t)?ya(e,t,r):Ve(t)?t(e):r}function kc(e,t,r,n){var a=lG(e,function(s){return Fr(s,t)});if(r==="number"){var o=a.filter(function(s){return fe(s)||parseFloat(s)});return o.length?[ch(o),Ho(o)]:[1/0,-1/0]}var i=n?a.filter(function(s){return!We(s)}):a;return i.map(function(s){return Br(s)||s instanceof Date?s:""})}var dU=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,i=-1,s=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<s;u++){var d=u>0?a[u-1].coordinate:a[s-1].coordinate,f=a[u].coordinate,h=u>=s-1?a[0].coordinate:a[u+1].coordinate,p=void 0;if($a(f-d)!==$a(h-f)){var m=[];if($a(h-f)===$a(l[1]-l[0])){p=h;var x=f+l[1]-l[0];m[0]=Math.min(x,(x+d)/2),m[1]=Math.max(x,(x+d)/2)}else{p=d;var w=h+l[1]-l[0];m[0]=Math.min(f,(w+f)/2),m[1]=Math.max(f,(w+f)/2)}var v=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>v[0]&&t<=v[1]||t>=m[0]&&t<=m[1]){i=a[u].index;break}}else{var g=Math.min(d,h),y=Math.max(d,h);if(t>(g+f)/2&&t<=(y+f)/2){i=a[u].index;break}}}else for(var k=0;k<s;k++)if(k===0&&t<=(n[k].coordinate+n[k+1].coordinate)/2||k>0&&k<s-1&&t>(n[k].coordinate+n[k-1].coordinate)/2&&t<=(n[k].coordinate+n[k+1].coordinate)/2||k===s-1&&t>(n[k].coordinate+n[k-1].coordinate)/2){i=n[k].index;break}return i},Kv=function(t){var r,n=t,a=n.type.displayName,o=(r=t.type)!==null&&r!==void 0&&r.defaultProps?mr(mr({},t.type.defaultProps),t.props):t.props,i=o.stroke,s=o.fill,l;switch(a){case"Line":l=i;break;case"Area":case"Radar":l=i&&i!=="none"?i:s;break;default:l=s;break}return l},hU=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,o=a===void 0?{}:a;if(!o)return{};for(var i={},s=Object.keys(o),l=0,u=s.length;l<u;l++)for(var d=o[s[l]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var m=d[f[h]],x=m.items,w=m.cateAxisId,v=x.filter(function(_){return mo(_.type).indexOf("Bar")>=0});if(v&&v.length){var g=v[0].type.defaultProps,y=g!==void 0?mr(mr({},g),v[0].props):v[0].props,k=y.barSize,b=y[w];i[b]||(i[b]=[]);var S=We(k)?r:k;i[b].push({item:v[0],stackList:v.slice(1),barSize:We(S)?void 0:Vi(S,n,0)})}}return i},pU=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,o=t.sizeList,i=o===void 0?[]:o,s=t.maxBarSize,l=i.length;if(l<1)return null;var u=Vi(r,a,0,!0),d,f=[];if(i[0].barSize===+i[0].barSize){var h=!1,p=a/l,m=i.reduce(function(k,b){return k+b.barSize||0},0);m+=(l-1)*u,m>=a&&(m-=(l-1)*u,u=0),m>=a&&p>0&&(h=!0,p*=.9,m=l*p);var x=(a-m)/2>>0,w={offset:x-u,size:0};d=i.reduce(function(k,b){var S={item:b.item,position:{offset:w.offset+w.size+u,size:h?p:b.barSize}},_=[].concat(T2(k),[S]);return w=_[_.length-1].position,b.stackList&&b.stackList.length&&b.stackList.forEach(function(N){_.push({item:N,position:w})}),_},f)}else{var v=Vi(n,a,0,!0);a-2*v-(l-1)*u<=0&&(u=0);var g=(a-2*v-(l-1)*u)/l;g>1&&(g>>=0);var y=s===+s?Math.min(g,s):g;d=i.reduce(function(k,b,S){var _=[].concat(T2(k),[{item:b.item,position:{offset:v+(g+u)*S+(g-y)/2,size:y}}]);return b.stackList&&b.stackList.length&&b.stackList.forEach(function(N){_.push({item:N,position:_[_.length-1].position})}),_},f)}return d},gU=function(t,r,n,a){var o=n.children,i=n.width,s=n.margin,l=i-(s.left||0)-(s.right||0),u=Y4({children:o,legendWidth:l});if(u){var d=a||{},f=d.width,h=d.height,p=u.align,m=u.verticalAlign,x=u.layout;if((x==="vertical"||x==="horizontal"&&m==="middle")&&p!=="center"&&fe(t[p]))return mr(mr({},t),{},Bs({},p,t[p]+(f||0)));if((x==="horizontal"||x==="vertical"&&p==="center")&&m!=="middle"&&fe(t[m]))return mr(mr({},t),{},Bs({},m,t[m]+(h||0)))}return t},mU=function(t,r,n){return We(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},q4=function(t,r,n,a,o){var i=r.props.children,s=Fn(i,Dl).filter(function(u){return mU(a,o,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=Fr(d,n);if(We(f))return u;var h=Array.isArray(f)?[ch(f),Ho(f)]:[f,f],p=l.reduce(function(m,x){var w=Fr(d,x,0),v=h[0]-Math.abs(Array.isArray(w)?w[0]:w),g=h[1]+Math.abs(Array.isArray(w)?w[1]:w);return[Math.min(v,m[0]),Math.max(g,m[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},yU=function(t,r,n,a,o){var i=r.map(function(s){return q4(t,s,n,o,a)}).filter(function(s){return!We(s)});return i&&i.length?i.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},Z4=function(t,r,n,a,o){var i=r.map(function(l){var u=l.props.dataKey;return n==="number"&&u&&q4(t,l,u,a)||kc(t,u,n,o)});if(n==="number")return i.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return i.reduce(function(l,u){for(var d=0,f=u.length;d<f;d++)s[u[d]]||(s[u[d]]=!0,l.push(u[d]));return l},[])},Q4=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},J4=function(t,r,n,a){if(a)return t.map(function(l){return l.coordinate});var o,i,s=t.map(function(l){return l.coordinate===r&&(o=!0),l.coordinate===n&&(i=!0),l.coordinate});return o||s.push(r),i||s.push(n),s},po=function(t,r,n){if(!t)return null;var a=t.scale,o=t.duplicateDomain,i=t.type,s=t.range,l=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&i==="category"&&a.bandwidth?a.bandwidth()/l:0;if(u=t.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?$a(s[0]-s[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=o?o.indexOf(f):f;return{coordinate:a(h)+u,value:f,offset:u}});return d.filter(function(f){return!Ol(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+u,value:f,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,h){return{coordinate:a(f)+u,value:o?o[f]:f,index:h,offset:u}})},wp=new WeakMap,kf=function(t,r){if(typeof r!="function")return t;wp.has(t)||wp.set(t,new WeakMap);var n=wp.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},vU=function(t,r,n){var a=t.scale,o=t.type,i=t.layout,s=t.axisType;if(a==="auto")return i==="radial"&&s==="radiusAxis"?{scale:Jc(),realScaleType:"band"}:i==="radial"&&s==="angleAxis"?{scale:Rd(),realScaleType:"linear"}:o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:wc(),realScaleType:"point"}:o==="category"?{scale:Jc(),realScaleType:"band"}:{scale:Rd(),realScaleType:"linear"};if(Hi(a)){var l="scale".concat(Y0(a));return{scale:(P2[l]||wc)(),realScaleType:P2[l]?l:"point"}}return Ve(a)?{scale:a}:{scale:wc(),realScaleType:"point"}},D2=1e-4,xU=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),o=Math.min(a[0],a[1])-D2,i=Math.max(a[0],a[1])+D2,s=t(r[0]),l=t(r[n-1]);(s<o||s>i||l<o||l>i)&&t.domain([r[0],r[n-1]])}},bU=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},wU=function(t,r){if(!r||r.length!==2||!fe(r[0])||!fe(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),o=[t[0],t[1]];return(!fe(t[0])||t[0]<n)&&(o[0]=n),(!fe(t[1])||t[1]>a)&&(o[1]=a),o[0]>a&&(o[0]=a),o[1]<n&&(o[1]=n),o},kU=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var o=0,i=0,s=0;s<r;++s){var l=Ol(t[s][n][1])?t[s][n][0]:t[s][n][1];l>=0?(t[s][n][0]=o,t[s][n][1]=o+l,o=t[s][n][1]):(t[s][n][0]=i,t[s][n][1]=i+l,i=t[s][n][1])}},SU=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var o=0,i=0;i<r;++i){var s=Ol(t[i][n][1])?t[i][n][0]:t[i][n][1];s>=0?(t[i][n][0]=o,t[i][n][1]=o+s,o=t[i][n][1]):(t[i][n][0]=0,t[i][n][1]=0)}},jU={sign:kU,expand:BE,none:Ks,silhouette:FE,wiggle:zE,positive:SU},NU=function(t,r,n){var a=r.map(function(s){return s.props.dataKey}),o=jU[n],i=LE().keys(a).value(function(s,l){return+Fr(s,l,0)}).order(Fg).offset(o);return i(t)},_U=function(t,r,n,a,o,i){if(!t)return null;var s=i?r.reverse():r,l={},u=s.reduce(function(f,h){var p,m=(p=h.type)!==null&&p!==void 0&&p.defaultProps?mr(mr({},h.type.defaultProps),h.props):h.props,x=m.stackId,w=m.hide;if(w)return f;var v=m[n],g=f[v]||{hasStack:!1,stackGroups:{}};if(Br(x)){var y=g.stackGroups[x]||{numericAxisId:n,cateAxisId:a,items:[]};y.items.push(h),g.hasStack=!0,g.stackGroups[x]=y}else g.stackGroups[rs("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return mr(mr({},f),{},Bs({},v,g))},l),d={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(x,w){var v=p.stackGroups[w];return mr(mr({},x),{},Bs({},w,{numericAxisId:n,cateAxisId:a,items:v.items,stackedData:NU(t,v.items,o)}))},m)}return mr(mr({},f),{},Bs({},h,p))},d)},PU=function(t,r){var n=r.realScaleType,a=r.type,o=r.tickCount,i=r.originalDomain,s=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&a==="number"&&i&&(i[0]==="auto"||i[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=LG(u,o,s);return t.domain([ch(d),Ho(d)]),{niceTicks:d}}if(o&&a==="number"){var f=t.domain(),h=BG(f,o,s);return{niceTicks:h}}return null};function nl(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,o=e.index,i=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!We(a[t.dataKey])){var s=hd(r,"value",a[t.dataKey]);if(s)return s.coordinate+n/2}return r[o]?r[o].coordinate+n/2:null}var l=Fr(a,We(i)?t.dataKey:i);return We(l)?null:t.scale(l)}var R2=function(t){var r=t.axis,n=t.ticks,a=t.offset,o=t.bandSize,i=t.entry,s=t.index;if(r.type==="category")return n[s]?n[s].coordinate+a:null;var l=Fr(i,r.dataKey,r.domain[s]);return We(l)?null:r.scale(l)-o/2+a},OU=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]);return a<=0&&o>=0?0:o<0?o:a}return n[0]},CU=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?mr(mr({},t.type.defaultProps),t.props):t.props,o=a.stackId;if(Br(o)){var i=r[o];if(i){var s=i.items.indexOf(t);return s>=0?i.stackedData[s]:null}}return null},MU=function(t){return t.reduce(function(r,n){return[ch(n.concat([r[0]]).filter(fe)),Ho(n.concat([r[1]]).filter(fe))]},[1/0,-1/0])},e3=function(t,r,n){return Object.keys(t).reduce(function(a,o){var i=t[o],s=i.stackedData,l=s.reduce(function(u,d){var f=MU(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],a[0]),Math.max(l[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},I2=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,L2=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,mm=function(t,r,n){if(Ve(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(fe(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(I2.test(t[0])){var o=+I2.exec(t[0])[1];a[0]=r[0]-o}else Ve(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(fe(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(L2.test(t[1])){var i=+L2.exec(t[1])[1];a[1]=r[1]+i}else Ve(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},Ud=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var o=wv(r,function(f){return f.coordinate}),i=1/0,s=1,l=o.length;s<l;s++){var u=o[s],d=o[s-1];i=Math.min((u.coordinate||0)-(d.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0},B2=function(t,r,n){return!t||!t.length||Ki(t,ya(n,"type.defaultProps.domain"))?r:t},t3=function(t,r){var n=t.type.defaultProps?mr(mr({},t.type.defaultProps),t.props):t.props,a=n.dataKey,o=n.name,i=n.unit,s=n.formatter,l=n.tooltipType,u=n.chartType,d=n.hide;return mr(mr({},He(t,!1)),{},{dataKey:a,unit:i,formatter:s,name:o||a,color:Kv(t),value:Fr(r,a),type:l,payload:r,chartType:u,hide:d})};function lu(e){"@babel/helpers - typeof";return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lu(e)}function F2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function z2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F2(Object(r),!0).forEach(function(n){AU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AU(e,t,r){return t=EU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EU(e){var t=TU(e,"string");return lu(t)=="symbol"?t:t+""}function TU(e,t){if(lu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wd=Math.PI/180,$U=function(t){return t*180/Math.PI},rn=function(t,r,n,a){return{x:t+Math.cos(-Wd*a)*n,y:r+Math.sin(-Wd*a)*n}},DU=function(t,r){var n=t.x,a=t.y,o=r.x,i=r.y;return Math.sqrt(Math.pow(n-o,2)+Math.pow(a-i,2))},RU=function(t,r){var n=t.x,a=t.y,o=r.cx,i=r.cy,s=DU({x:n,y:a},{x:o,y:i});if(s<=0)return{radius:s};var l=(n-o)/s,u=Math.acos(l);return a>i&&(u=2*Math.PI-u),{radius:s,angle:$U(u),angleInRadian:u}},IU=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),o=Math.floor(n/360),i=Math.min(a,o);return{startAngle:r-i*360,endAngle:n-i*360}},LU=function(t,r){var n=r.startAngle,a=r.endAngle,o=Math.floor(n/360),i=Math.floor(a/360),s=Math.min(o,i);return t+s*360},G2=function(t,r){var n=t.x,a=t.y,o=RU({x:n,y:a},r),i=o.radius,s=o.angle,l=r.innerRadius,u=r.outerRadius;if(i<l||i>u)return!1;if(i===0)return!0;var d=IU(r),f=d.startAngle,h=d.endAngle,p=s,m;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;m=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;m=p>=h&&p<=f}return m?z2(z2({},r),{},{radius:i,angle:LU(p,r)}):null};function cu(e){"@babel/helpers - typeof";return cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cu(e)}var BU=["offset"];function FU(e){return WU(e)||UU(e)||GU(e)||zU()}function zU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GU(e,t){if(e){if(typeof e=="string")return ym(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ym(e,t)}}function UU(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function WU(e){if(Array.isArray(e))return ym(e)}function ym(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function XU(e,t){if(e==null)return{};var r=HU(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function HU(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function U2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U2(Object(r),!0).forEach(function(n){VU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VU(e,t,r){return t=KU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KU(e){var t=YU(e,"string");return cu(t)=="symbol"?t:t+""}function YU(e,t){if(cu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uu(){return uu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uu.apply(this,arguments)}var qU=function(t){var r=t.value,n=t.formatter,a=We(t.children)?r:t.children;return Ve(n)?n(a):a},ZU=function(t,r){var n=$a(r-t),a=Math.min(Math.abs(r-t),360);return n*a},QU=function(t,r,n){var a=t.position,o=t.viewBox,i=t.offset,s=t.className,l=o,u=l.cx,d=l.cy,f=l.innerRadius,h=l.outerRadius,p=l.startAngle,m=l.endAngle,x=l.clockWise,w=(f+h)/2,v=ZU(p,m),g=v>=0?1:-1,y,k;a==="insideStart"?(y=p+g*i,k=x):a==="insideEnd"?(y=m-g*i,k=!x):a==="end"&&(y=m+g*i,k=x),k=v<=0?k:!k;var b=rn(u,d,w,y),S=rn(u,d,w,y+(k?1:-1)*359),_="M".concat(b.x,",").concat(b.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(k?0:1,`,
    `).concat(S.x,",").concat(S.y),N=We(t.id)?rs("recharts-radial-line-"):t.id;return F.createElement("text",uu({},n,{dominantBaseline:"central",className:ot("recharts-radial-bar-label",s)}),F.createElement("defs",null,F.createElement("path",{id:N,d:_})),F.createElement("textPath",{xlinkHref:"#".concat(N)},r))},JU=function(t){var r=t.viewBox,n=t.offset,a=t.position,o=r,i=o.cx,s=o.cy,l=o.innerRadius,u=o.outerRadius,d=o.startAngle,f=o.endAngle,h=(d+f)/2;if(a==="outside"){var p=rn(i,s,u+n,h),m=p.x,x=p.y;return{x:m,y:x,textAnchor:m>=i?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"end"};var w=(l+u)/2,v=rn(i,s,w,h),g=v.x,y=v.y;return{x:g,y,textAnchor:"middle",verticalAnchor:"middle"}},eW=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,o=t.position,i=r,s=i.x,l=i.y,u=i.width,d=i.height,f=d>=0?1:-1,h=f*a,p=f>0?"end":"start",m=f>0?"start":"end",x=u>=0?1:-1,w=x*a,v=x>0?"end":"start",g=x>0?"start":"end";if(o==="top"){var y={x:s+u/2,y:l-f*a,textAnchor:"middle",verticalAnchor:p};return Rr(Rr({},y),n?{height:Math.max(l-n.y,0),width:u}:{})}if(o==="bottom"){var k={x:s+u/2,y:l+d+h,textAnchor:"middle",verticalAnchor:m};return Rr(Rr({},k),n?{height:Math.max(n.y+n.height-(l+d),0),width:u}:{})}if(o==="left"){var b={x:s-w,y:l+d/2,textAnchor:v,verticalAnchor:"middle"};return Rr(Rr({},b),n?{width:Math.max(b.x-n.x,0),height:d}:{})}if(o==="right"){var S={x:s+u+w,y:l+d/2,textAnchor:g,verticalAnchor:"middle"};return Rr(Rr({},S),n?{width:Math.max(n.x+n.width-S.x,0),height:d}:{})}var _=n?{width:u,height:d}:{};return o==="insideLeft"?Rr({x:s+w,y:l+d/2,textAnchor:g,verticalAnchor:"middle"},_):o==="insideRight"?Rr({x:s+u-w,y:l+d/2,textAnchor:v,verticalAnchor:"middle"},_):o==="insideTop"?Rr({x:s+u/2,y:l+h,textAnchor:"middle",verticalAnchor:m},_):o==="insideBottom"?Rr({x:s+u/2,y:l+d-h,textAnchor:"middle",verticalAnchor:p},_):o==="insideTopLeft"?Rr({x:s+w,y:l+h,textAnchor:g,verticalAnchor:m},_):o==="insideTopRight"?Rr({x:s+u-w,y:l+h,textAnchor:v,verticalAnchor:m},_):o==="insideBottomLeft"?Rr({x:s+w,y:l+d-h,textAnchor:g,verticalAnchor:p},_):o==="insideBottomRight"?Rr({x:s+u-w,y:l+d-h,textAnchor:v,verticalAnchor:p},_):jl(o)&&(fe(o.x)||Ai(o.x))&&(fe(o.y)||Ai(o.y))?Rr({x:s+Vi(o.x,u),y:l+Vi(o.y,d),textAnchor:"end",verticalAnchor:"end"},_):Rr({x:s+u/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},_)},tW=function(t){return"cx"in t&&fe(t.cx)};function tn(e){var t=e.offset,r=t===void 0?5:t,n=XU(e,BU),a=Rr({offset:r},n),o=a.viewBox,i=a.position,s=a.value,l=a.children,u=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!o||We(s)&&We(l)&&!j.isValidElement(u)&&!Ve(u))return null;if(j.isValidElement(u))return j.cloneElement(u,a);var p;if(Ve(u)){if(p=j.createElement(u,a),j.isValidElement(p))return p}else p=qU(a);var m=tW(o),x=He(a,!0);if(m&&(i==="insideStart"||i==="insideEnd"||i==="end"))return QU(a,p,x);var w=m?JU(a):eW(a);return F.createElement(Od,uu({className:ot("recharts-label",f)},x,w,{breakAll:h}),p)}tn.displayName="Label";var r3=function(t){var r=t.cx,n=t.cy,a=t.angle,o=t.startAngle,i=t.endAngle,s=t.r,l=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,p=t.top,m=t.left,x=t.width,w=t.height,v=t.clockWise,g=t.labelViewBox;if(g)return g;if(fe(x)&&fe(w)){if(fe(f)&&fe(h))return{x:f,y:h,width:x,height:w};if(fe(p)&&fe(m))return{x:p,y:m,width:x,height:w}}return fe(f)&&fe(h)?{x:f,y:h,width:0,height:0}:fe(r)&&fe(n)?{cx:r,cy:n,startAngle:o||a||0,endAngle:i||a||0,innerRadius:u||0,outerRadius:d||l||s||0,clockWise:v}:t.viewBox?t.viewBox:{}},rW=function(t,r){return t?t===!0?F.createElement(tn,{key:"label-implicit",viewBox:r}):Br(t)?F.createElement(tn,{key:"label-implicit",viewBox:r,value:t}):j.isValidElement(t)?t.type===tn?j.cloneElement(t,{key:"label-implicit",viewBox:r}):F.createElement(tn,{key:"label-implicit",content:t,viewBox:r}):Ve(t)?F.createElement(tn,{key:"label-implicit",content:t,viewBox:r}):jl(t)?F.createElement(tn,uu({viewBox:r},t,{key:"label-implicit"})):null:null},nW=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,o=r3(t),i=Fn(a,tn).map(function(l,u){return j.cloneElement(l,{viewBox:r||o,key:"label-".concat(u)})});if(!n)return i;var s=rW(t.label,r||o);return[s].concat(FU(i))};tn.parseViewBox=r3;tn.renderCallByParent=nW;function aW(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var oW=aW;const iW=Lt(oW);function fu(e){"@babel/helpers - typeof";return fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fu(e)}var sW=["valueAccessor"],lW=["data","dataKey","clockWise","id","textBreakAll"];function cW(e){return hW(e)||dW(e)||fW(e)||uW()}function uW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fW(e,t){if(e){if(typeof e=="string")return vm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vm(e,t)}}function dW(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function hW(e){if(Array.isArray(e))return vm(e)}function vm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Xd(){return Xd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xd.apply(this,arguments)}function W2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function X2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W2(Object(r),!0).forEach(function(n){pW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pW(e,t,r){return t=gW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gW(e){var t=mW(e,"string");return fu(t)=="symbol"?t:t+""}function mW(e,t){if(fu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function H2(e,t){if(e==null)return{};var r=yW(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yW(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var vW=function(t){return Array.isArray(t.value)?iW(t.value):t.value};function Za(e){var t=e.valueAccessor,r=t===void 0?vW:t,n=H2(e,sW),a=n.data,o=n.dataKey,i=n.clockWise,s=n.id,l=n.textBreakAll,u=H2(n,lW);return!a||!a.length?null:F.createElement(vt,{className:"recharts-label-list"},a.map(function(d,f){var h=We(o)?r(d,f):Fr(d&&d.payload,o),p=We(s)?{}:{id:"".concat(s,"-").concat(f)};return F.createElement(tn,Xd({},He(d,!0),u,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:l,viewBox:tn.parseViewBox(We(i)?d:X2(X2({},d),{},{clockWise:i})),key:"label-".concat(f),index:f}))}))}Za.displayName="LabelList";function xW(e,t){return e?e===!0?F.createElement(Za,{key:"labelList-implicit",data:t}):F.isValidElement(e)||Ve(e)?F.createElement(Za,{key:"labelList-implicit",data:t,content:e}):jl(e)?F.createElement(Za,Xd({data:t},e,{key:"labelList-implicit"})):null:null}function bW(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=Fn(n,Za).map(function(i,s){return j.cloneElement(i,{data:t,key:"labelList-".concat(s)})});if(!r)return a;var o=xW(e.label,t);return[o].concat(cW(a))}Za.renderCallByParent=bW;function du(e){"@babel/helpers - typeof";return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},du(e)}function xm(){return xm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xm.apply(this,arguments)}function V2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function K2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V2(Object(r),!0).forEach(function(n){wW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wW(e,t,r){return t=kW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kW(e){var t=SW(e,"string");return du(t)=="symbol"?t:t+""}function SW(e,t){if(du(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(du(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jW=function(t,r){var n=$a(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},Sf=function(t){var r=t.cx,n=t.cy,a=t.radius,o=t.angle,i=t.sign,s=t.isExternal,l=t.cornerRadius,u=t.cornerIsExternal,d=l*(s?1:-1)+a,f=Math.asin(l/d)/Wd,h=u?o:o+i*f,p=rn(r,n,d,h),m=rn(r,n,a,h),x=u?o-i*f:o,w=rn(r,n,d*Math.cos(f*Wd),x);return{center:p,circleTangency:m,lineTangency:w,theta:f}},n3=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,o=t.outerRadius,i=t.startAngle,s=t.endAngle,l=jW(i,s),u=i+l,d=rn(r,n,o,i),f=rn(r,n,o,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(i>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var p=rn(r,n,a,i),m=rn(r,n,a,u);h+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(i<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},NW=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,o=t.outerRadius,i=t.cornerRadius,s=t.forceCornerRadius,l=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=$a(d-u),h=Sf({cx:r,cy:n,radius:o,angle:u,sign:f,cornerRadius:i,cornerIsExternal:l}),p=h.circleTangency,m=h.lineTangency,x=h.theta,w=Sf({cx:r,cy:n,radius:o,angle:d,sign:-f,cornerRadius:i,cornerIsExternal:l}),v=w.circleTangency,g=w.lineTangency,y=w.theta,k=l?Math.abs(u-d):Math.abs(u-d)-x-y;if(k<0)return s?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):n3({cx:r,cy:n,innerRadius:a,outerRadius:o,startAngle:u,endAngle:d});var b="M ".concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(k>180),",").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
  `);if(a>0){var S=Sf({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),_=S.circleTangency,N=S.lineTangency,P=S.theta,M=Sf({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),E=M.circleTangency,C=M.lineTangency,A=M.theta,L=l?Math.abs(u-d):Math.abs(u-d)-P-A;if(L<0&&i===0)return"".concat(b,"L").concat(r,",").concat(n,"Z");b+="L".concat(C.x,",").concat(C.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(L>180),",").concat(+(f>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(N.x,",").concat(N.y,"Z")}else b+="L".concat(r,",").concat(n,"Z");return b},_W={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},a3=function(t){var r=K2(K2({},_W),t),n=r.cx,a=r.cy,o=r.innerRadius,i=r.outerRadius,s=r.cornerRadius,l=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(i<o||d===f)return null;var p=ot("recharts-sector",h),m=i-o,x=Vi(s,m,0,!0),w;return x>0&&Math.abs(d-f)<360?w=NW({cx:n,cy:a,innerRadius:o,outerRadius:i,cornerRadius:Math.min(x,m/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f}):w=n3({cx:n,cy:a,innerRadius:o,outerRadius:i,startAngle:d,endAngle:f}),F.createElement("path",xm({},He(r,!0),{className:p,d:w,role:"img"}))};function hu(e){"@babel/helpers - typeof";return hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hu(e)}function bm(){return bm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bm.apply(this,arguments)}function Y2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function q2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Y2(Object(r),!0).forEach(function(n){PW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PW(e,t,r){return t=OW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OW(e){var t=CW(e,"string");return hu(t)=="symbol"?t:t+""}function CW(e,t){if(hu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Z2={curveBasisClosed:PE,curveBasisOpen:OE,curveBasis:_E,curveBumpX:dE,curveBumpY:hE,curveLinearClosed:CE,curveLinear:Z0,curveMonotoneX:ME,curveMonotoneY:AE,curveNatural:EE,curveStep:TE,curveStepAfter:DE,curveStepBefore:$E},jf=function(t){return t.x===+t.x&&t.y===+t.y},tc=function(t){return t.x},rc=function(t){return t.y},MW=function(t,r){if(Ve(t))return t;var n="curve".concat(Y0(t));return(n==="curveMonotone"||n==="curveBump")&&r?Z2["".concat(n).concat(r==="vertical"?"Y":"X")]:Z2[n]||Z0},AW=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,o=a===void 0?[]:a,i=t.baseLine,s=t.layout,l=t.connectNulls,u=l===void 0?!1:l,d=MW(n,s),f=u?o.filter(function(x){return jf(x)}):o,h;if(Array.isArray(i)){var p=u?i.filter(function(x){return jf(x)}):i,m=f.map(function(x,w){return q2(q2({},x),{},{base:p[w]})});return s==="vertical"?h=pf().y(rc).x1(tc).x0(function(x){return x.base.x}):h=pf().x(tc).y1(rc).y0(function(x){return x.base.y}),h.defined(jf).curve(d),h(m)}return s==="vertical"&&fe(i)?h=pf().y(rc).x1(tc).x0(i):fe(i)?h=pf().x(tc).y1(rc).y0(i):h=ij().x(tc).y(rc),h.defined(jf).curve(d),h(f)},Fi=function(t){var r=t.className,n=t.points,a=t.path,o=t.pathRef;if((!n||!n.length)&&!a)return null;var i=n&&n.length?AW(t):a;return j.createElement("path",bm({},He(t,!1),pd(t),{className:ot("recharts-curve",r),d:i,ref:o}))},o3={exports:{}},EW="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",TW=EW,$W=TW;function i3(){}function s3(){}s3.resetWarningCache=i3;var DW=function(){function e(n,a,o,i,s,l){if(l!==$W){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s3,resetWarningCache:i3};return r.PropTypes=r,r};o3.exports=DW();var RW=o3.exports;const St=Lt(RW),{getOwnPropertyNames:IW,getOwnPropertySymbols:LW}=Object,{hasOwnProperty:BW}=Object.prototype;function kp(e,t){return function(n,a,o){return e(n,a,o)&&t(n,a,o)}}function Nf(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);const{cache:o}=a,i=o.get(r),s=o.get(n);if(i&&s)return i===n&&s===r;o.set(r,n),o.set(n,r);const l=e(r,n,a);return o.delete(r),o.delete(n),l}}function FW(e){return e!=null?e[Symbol.toStringTag]:void 0}function Q2(e){return IW(e).concat(LW(e))}const zW=Object.hasOwn||((e,t)=>BW.call(e,t));function os(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const GW="__v",UW="__o",WW="_owner",{getOwnPropertyDescriptor:J2,keys:ew}=Object;function XW(e,t){return e.byteLength===t.byteLength&&Hd(new Uint8Array(e),new Uint8Array(t))}function HW(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function VW(e,t){return e.byteLength===t.byteLength&&Hd(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function KW(e,t){return os(e.getTime(),t.getTime())}function YW(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function qW(e,t){return e===t}function tw(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),o=e.entries();let i,s,l=0;for(;(i=o.next())&&!i.done;){const u=t.entries();let d=!1,f=0;for(;(s=u.next())&&!s.done;){if(a[f]){f++;continue}const h=i.value,p=s.value;if(r.equals(h[0],p[0],l,f,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;l++}return!0}const ZW=os;function QW(e,t,r){const n=ew(e);let a=n.length;if(ew(t).length!==a)return!1;for(;a-- >0;)if(!l3(e,t,r,n[a]))return!1;return!0}function nc(e,t,r){const n=Q2(e);let a=n.length;if(Q2(t).length!==a)return!1;let o,i,s;for(;a-- >0;)if(o=n[a],!l3(e,t,r,o)||(i=J2(e,o),s=J2(t,o),(i||s)&&(!i||!s||i.configurable!==s.configurable||i.enumerable!==s.enumerable||i.writable!==s.writable)))return!1;return!0}function JW(e,t){return os(e.valueOf(),t.valueOf())}function eX(e,t){return e.source===t.source&&e.flags===t.flags}function rw(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),o=e.values();let i,s;for(;(i=o.next())&&!i.done;){const l=t.values();let u=!1,d=0;for(;(s=l.next())&&!s.done;){if(!a[d]&&r.equals(i.value,s.value,i.value,s.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function Hd(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function tX(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function l3(e,t,r,n){return(n===WW||n===UW||n===GW)&&(e.$$typeof||t.$$typeof)?!0:zW(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const rX="[object ArrayBuffer]",nX="[object Arguments]",aX="[object Boolean]",oX="[object DataView]",iX="[object Date]",sX="[object Error]",lX="[object Map]",cX="[object Number]",uX="[object Object]",fX="[object RegExp]",dX="[object Set]",hX="[object String]",pX={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},gX="[object URL]",mX=Object.prototype.toString;function yX({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:a,areFunctionsEqual:o,areMapsEqual:i,areNumbersEqual:s,areObjectsEqual:l,arePrimitiveWrappersEqual:u,areRegExpsEqual:d,areSetsEqual:f,areTypedArraysEqual:h,areUrlsEqual:p,unknownTagComparators:m}){return function(w,v,g){if(w===v)return!0;if(w==null||v==null)return!1;const y=typeof w;if(y!==typeof v)return!1;if(y!=="object")return y==="number"?s(w,v,g):y==="function"?o(w,v,g):!1;const k=w.constructor;if(k!==v.constructor)return!1;if(k===Object)return l(w,v,g);if(Array.isArray(w))return t(w,v,g);if(k===Date)return n(w,v,g);if(k===RegExp)return d(w,v,g);if(k===Map)return i(w,v,g);if(k===Set)return f(w,v,g);const b=mX.call(w);if(b===iX)return n(w,v,g);if(b===fX)return d(w,v,g);if(b===lX)return i(w,v,g);if(b===dX)return f(w,v,g);if(b===uX)return typeof w.then!="function"&&typeof v.then!="function"&&l(w,v,g);if(b===gX)return p(w,v,g);if(b===sX)return a(w,v,g);if(b===nX)return l(w,v,g);if(pX[b])return h(w,v,g);if(b===rX)return e(w,v,g);if(b===oX)return r(w,v,g);if(b===aX||b===cX||b===hX)return u(w,v,g);if(m){let S=m[b];if(!S){const _=FW(w);_&&(S=m[_])}if(S)return S(w,v,g)}return!1}}function vX({circular:e,createCustomConfig:t,strict:r}){let n={areArrayBuffersEqual:XW,areArraysEqual:r?nc:HW,areDataViewsEqual:VW,areDatesEqual:KW,areErrorsEqual:YW,areFunctionsEqual:qW,areMapsEqual:r?kp(tw,nc):tw,areNumbersEqual:ZW,areObjectsEqual:r?nc:QW,arePrimitiveWrappersEqual:JW,areRegExpsEqual:eX,areSetsEqual:r?kp(rw,nc):rw,areTypedArraysEqual:r?kp(Hd,nc):Hd,areUrlsEqual:tX,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const a=Nf(n.areArraysEqual),o=Nf(n.areMapsEqual),i=Nf(n.areObjectsEqual),s=Nf(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:i,areSetsEqual:s})}return n}function xX(e){return function(t,r,n,a,o,i,s){return e(t,r,s)}}function bX({circular:e,comparator:t,createState:r,equals:n,strict:a}){if(r)return function(s,l){const{cache:u=e?new WeakMap:void 0,meta:d}=r();return t(s,l,{cache:u,equals:n,meta:d,strict:a})};if(e)return function(s,l){return t(s,l,{cache:new WeakMap,equals:n,meta:void 0,strict:a})};const o={cache:void 0,equals:n,meta:void 0,strict:a};return function(s,l){return t(s,l,o)}}const wX=mi();mi({strict:!0});mi({circular:!0});mi({circular:!0,strict:!0});mi({createInternalComparator:()=>os});mi({strict:!0,createInternalComparator:()=>os});mi({circular:!0,createInternalComparator:()=>os});mi({circular:!0,createInternalComparator:()=>os,strict:!0});function mi(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:a=!1}=e,o=vX(e),i=yX(o),s=r?r(i):xX(i);return bX({circular:t,comparator:i,createState:n,equals:s,strict:a})}function kX(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function nw(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(o){r<0&&(r=o),o-r>t?(e(o),r=-1):kX(a)};requestAnimationFrame(n)}function wm(e){"@babel/helpers - typeof";return wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wm(e)}function SX(e){return PX(e)||_X(e)||NX(e)||jX()}function jX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NX(e,t){if(e){if(typeof e=="string")return aw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aw(e,t)}}function aw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _X(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function PX(e){if(Array.isArray(e))return e}function OX(){var e={},t=function(){return null},r=!1,n=function a(o){if(!r){if(Array.isArray(o)){if(!o.length)return;var i=o,s=SX(i),l=s[0],u=s.slice(1);if(typeof l=="number"){nw(a.bind(null,u),l);return}a(l),nw(a.bind(null,u));return}wm(o)==="object"&&(e=o,t(e)),typeof o=="function"&&o()}};return{stop:function(){r=!0},start:function(o){r=!1,n(o)},subscribe:function(o){return t=o,function(){t=function(){return null}}}}}function pu(e){"@babel/helpers - typeof";return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pu(e)}function ow(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function iw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ow(Object(r),!0).forEach(function(n){c3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ow(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function c3(e,t,r){return t=CX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CX(e){var t=MX(e,"string");return pu(t)==="symbol"?t:String(t)}function MX(e,t){if(pu(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var AX=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(o){return a.includes(o)})})},EX=function(t){return t},TX=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Sc=function(t,r){return Object.keys(r).reduce(function(n,a){return iw(iw({},n),{},c3({},a,t(a,r[a])))},{})},sw=function(t,r,n){return t.map(function(a){return"".concat(TX(a)," ").concat(r,"ms ").concat(n)}).join(",")};function $X(e,t){return IX(e)||RX(e,t)||u3(e,t)||DX()}function DX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RX(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return s}}function IX(e){if(Array.isArray(e))return e}function LX(e){return zX(e)||FX(e)||u3(e)||BX()}function BX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u3(e,t){if(e){if(typeof e=="string")return km(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return km(e,t)}}function FX(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zX(e){if(Array.isArray(e))return km(e)}function km(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Vd=1e-4,f3=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},d3=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},lw=function(t,r){return function(n){var a=f3(t,r);return d3(a,n)}},GX=function(t,r){return function(n){var a=f3(t,r),o=[].concat(LX(a.map(function(i,s){return i*s}).slice(1)),[0]);return d3(o,n)}},cw=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],o=r[1],i=r[2],s=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,o=0,i=1,s=1;break;case"ease":a=.25,o=.1,i=.25,s=1;break;case"ease-in":a=.42,o=0,i=1,s=1;break;case"ease-out":a=.42,o=0,i=.58,s=1;break;case"ease-in-out":a=0,o=0,i=.58,s=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(w){return parseFloat(w)}),d=$X(u,4);a=d[0],o=d[1],i=d[2],s=d[3]}}}var f=lw(a,i),h=lw(o,s),p=GX(a,i),m=function(v){return v>1?1:v<0?0:v},x=function(v){for(var g=v>1?1:v,y=g,k=0;k<8;++k){var b=f(y)-g,S=p(y);if(Math.abs(b-g)<Vd||S<Vd)return h(y);y=m(y-b/S)}return h(y)};return x.isStepper=!1,x},UX=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,o=a===void 0?8:a,i=t.dt,s=i===void 0?17:i,l=function(d,f,h){var p=-(d-f)*n,m=h*o,x=h+(p-m)*s/1e3,w=h*s/1e3+d;return Math.abs(w-f)<Vd&&Math.abs(x)<Vd?[f,0]:[w,x]};return l.isStepper=!0,l.dt=s,l},WX=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return cw(a);case"spring":return UX();default:if(a.split("(")[0]==="cubic-bezier")return cw(a)}return typeof a=="function"?a:null};function gu(e){"@babel/helpers - typeof";return gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gu(e)}function uw(e){return VX(e)||HX(e)||h3(e)||XX()}function XX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HX(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function VX(e){if(Array.isArray(e))return jm(e)}function fw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fw(Object(r),!0).forEach(function(n){Sm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sm(e,t,r){return t=KX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KX(e){var t=YX(e,"string");return gu(t)==="symbol"?t:String(t)}function YX(e,t){if(gu(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qX(e,t){return JX(e)||QX(e,t)||h3(e,t)||ZX()}function ZX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h3(e,t){if(e){if(typeof e=="string")return jm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jm(e,t)}}function jm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function QX(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return s}}function JX(e){if(Array.isArray(e))return e}var Kd=function(t,r,n){return t+(r-t)*n},Nm=function(t){var r=t.from,n=t.to;return r!==n},eH=function e(t,r,n){var a=Sc(function(o,i){if(Nm(i)){var s=t(i.from,i.to,i.velocity),l=qX(s,2),u=l[0],d=l[1];return Jr(Jr({},i),{},{from:u,velocity:d})}return i},r);return n<1?Sc(function(o,i){return Nm(i)?Jr(Jr({},i),{},{velocity:Kd(i.velocity,a[o].velocity,n),from:Kd(i.from,a[o].from,n)}):i},r):e(t,a,n-1)};const tH=function(e,t,r,n,a){var o=AX(e,t),i=o.reduce(function(w,v){return Jr(Jr({},w),{},Sm({},v,[e[v],t[v]]))},{}),s=o.reduce(function(w,v){return Jr(Jr({},w),{},Sm({},v,{from:e[v],velocity:0,to:t[v]}))},{}),l=-1,u,d,f=function(){return null},h=function(){return Sc(function(v,g){return g.from},s)},p=function(){return!Object.values(s).filter(Nm).length},m=function(v){u||(u=v);var g=v-u,y=g/r.dt;s=eH(r,s,y),a(Jr(Jr(Jr({},e),t),h())),u=v,p()||(l=requestAnimationFrame(f))},x=function(v){d||(d=v);var g=(v-d)/n,y=Sc(function(b,S){return Kd.apply(void 0,uw(S).concat([r(g)]))},i);if(a(Jr(Jr(Jr({},e),t),y)),g<1)l=requestAnimationFrame(f);else{var k=Sc(function(b,S){return Kd.apply(void 0,uw(S).concat([r(1)]))},i);a(Jr(Jr(Jr({},e),t),k))}};return f=r.isStepper?m:x,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function al(e){"@babel/helpers - typeof";return al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},al(e)}var rH=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function nH(e,t){if(e==null)return{};var r=aH(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function aH(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,o;for(o=0;o<n.length;o++)a=n[o],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Sp(e){return lH(e)||sH(e)||iH(e)||oH()}function oH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iH(e,t){if(e){if(typeof e=="string")return _m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _m(e,t)}}function sH(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function lH(e){if(Array.isArray(e))return _m(e)}function _m(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dw(Object(r),!0).forEach(function(n){cc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cc(e,t,r){return t=p3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uH(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p3(n.key),n)}}function fH(e,t,r){return t&&uH(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function p3(e){var t=dH(e,"string");return al(t)==="symbol"?t:String(t)}function dH(e,t){if(al(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(al(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hH(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pm(e,t)}function Pm(e,t){return Pm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Pm(e,t)}function pH(e){var t=gH();return function(){var n=Yd(e),a;if(t){var o=Yd(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return Om(this,a)}}function Om(e,t){if(t&&(al(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cm(e)}function Cm(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gH(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Yd(e){return Yd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yd(e)}var La=function(e){hH(r,e);var t=pH(r);function r(n,a){var o;cH(this,r),o=t.call(this,n,a);var i=o.props,s=i.isActive,l=i.attributeName,u=i.from,d=i.to,f=i.steps,h=i.children,p=i.duration;if(o.handleStyleChange=o.handleStyleChange.bind(Cm(o)),o.changeStyle=o.changeStyle.bind(Cm(o)),!s||p<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:d}),Om(o);if(f&&f.length)o.state={style:f[0].style};else if(u){if(typeof h=="function")return o.state={style:u},Om(o);o.state={style:l?cc({},l,u):u}}else o.state={style:{}};return o}return fH(r,[{key:"componentDidMount",value:function(){var a=this.props,o=a.isActive,i=a.canBegin;this.mounted=!0,!(!o||!i)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var o=this.props,i=o.isActive,s=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,d=o.to,f=o.from,h=this.state.style;if(s){if(!i){var p={style:l?cc({},l,d):d};this.state&&h&&(l&&h[l]!==d||!l&&h!==d)&&this.setState(p);return}if(!(wX(a.to,d)&&a.canBegin&&a.isActive)){var m=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=m||u?f:a.to;if(this.state&&h){var w={style:l?cc({},l,x):x};(l&&h[l]!==x||!l&&h!==x)&&this.setState(w)}this.runAnimation(Pa(Pa({},this.props),{},{from:x,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var o=this,i=a.from,s=a.to,l=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,p=tH(i,s,WX(u),l,this.changeStyle),m=function(){o.stopJSAnimation=p()};this.manager.start([h,d,m,l,f])}},{key:"runStepAnimation",value:function(a){var o=this,i=a.steps,s=a.begin,l=a.onAnimationStart,u=i[0],d=u.style,f=u.duration,h=f===void 0?0:f,p=function(x,w,v){if(v===0)return x;var g=w.duration,y=w.easing,k=y===void 0?"ease":y,b=w.style,S=w.properties,_=w.onAnimationEnd,N=v>0?i[v-1]:w,P=S||Object.keys(b);if(typeof k=="function"||k==="spring")return[].concat(Sp(x),[o.runJSAnimation.bind(o,{from:N.style,to:b,duration:g,easing:k}),g]);var M=sw(P,g,k),E=Pa(Pa(Pa({},N.style),b),{},{transition:M});return[].concat(Sp(x),[E,g,_]).filter(EX)};return this.manager.start([l].concat(Sp(i.reduce(p,[d,Math.max(h,s)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=OX());var o=a.begin,i=a.duration,s=a.attributeName,l=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,p=a.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var x=s?cc({},s,l):l,w=sw(Object.keys(x),i,u);m.start([d,o,Pa(Pa({},x),{},{transition:w}),i,f])}},{key:"render",value:function(){var a=this.props,o=a.children;a.begin;var i=a.duration;a.attributeName,a.easing;var s=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var l=nH(a,rH),u=j.Children.count(o),d=this.state.style;if(typeof o=="function")return o(d);if(!s||u===0||i<=0)return o;var f=function(p){var m=p.props,x=m.style,w=x===void 0?{}:x,v=m.className,g=j.cloneElement(p,Pa(Pa({},l),{},{style:Pa(Pa({},w),d),className:v}));return g};return u===1?f(j.Children.only(o)):F.createElement("div",null,j.Children.map(o,function(h){return f(h)}))}}]),r}(j.PureComponent);La.displayName="Animate";La.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};La.propTypes={from:St.oneOfType([St.object,St.string]),to:St.oneOfType([St.object,St.string]),attributeName:St.string,duration:St.number,begin:St.number,easing:St.oneOfType([St.string,St.func]),steps:St.arrayOf(St.shape({duration:St.number.isRequired,style:St.object.isRequired,easing:St.oneOfType([St.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),St.func]),properties:St.arrayOf("string"),onAnimationEnd:St.func})),children:St.oneOfType([St.node,St.func]),isActive:St.bool,canBegin:St.bool,onAnimationEnd:St.func,shouldReAnimate:St.bool,onAnimationStart:St.func,onAnimationReStart:St.func};function mu(e){"@babel/helpers - typeof";return mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mu(e)}function qd(){return qd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qd.apply(this,arguments)}function mH(e,t){return bH(e)||xH(e,t)||vH(e,t)||yH()}function yH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vH(e,t){if(e){if(typeof e=="string")return hw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hw(e,t)}}function hw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xH(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return s}}function bH(e){if(Array.isArray(e))return e}function pw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pw(Object(r),!0).forEach(function(n){wH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wH(e,t,r){return t=kH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kH(e){var t=SH(e,"string");return mu(t)=="symbol"?t:t+""}function SH(e,t){if(mu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mw=function(t,r,n,a,o){var i=Math.min(Math.abs(n)/2,Math.abs(a)/2),s=a>=0?1:-1,l=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(i>0&&o instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=o[h]>i?i:o[h];d="M".concat(t,",").concat(r+s*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+l*f[0],",").concat(r)),d+="L ".concat(t+n-l*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+s*f[1])),d+="L ".concat(t+n,",").concat(r+a-s*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-l*f[2],",").concat(r+a)),d+="L ".concat(t+l*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-s*f[3])),d+="Z"}else if(i>0&&o===+o&&o>0){var m=Math.min(i,o);d="M ".concat(t,",").concat(r+s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(t+l*m,",").concat(r,`
            L `).concat(t+n-l*m,",").concat(r,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(t+n,",").concat(r+s*m,`
            L `).concat(t+n,",").concat(r+a-s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(t+n-l*m,",").concat(r+a,`
            L `).concat(t+l*m,",").concat(r+a,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(t,",").concat(r+a-s*m," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},jH=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,o=r.x,i=r.y,s=r.width,l=r.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(o,o+s),d=Math.max(o,o+s),f=Math.min(i,i+l),h=Math.max(i,i+l);return n>=u&&n<=d&&a>=f&&a<=h}return!1},NH={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Yv=function(t){var r=gw(gw({},NH),t),n=j.useRef(),a=j.useState(-1),o=mH(a,2),i=o[0],s=o[1];j.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var k=n.current.getTotalLength();k&&s(k)}catch{}},[]);var l=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,p=r.className,m=r.animationEasing,x=r.animationDuration,w=r.animationBegin,v=r.isAnimationActive,g=r.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var y=ot("recharts-rectangle",p);return g?F.createElement(La,{canBegin:i>0,from:{width:d,height:f,x:l,y:u},to:{width:d,height:f,x:l,y:u},duration:x,animationEasing:m,isActive:g},function(k){var b=k.width,S=k.height,_=k.x,N=k.y;return F.createElement(La,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:x,isActive:v,easing:m},F.createElement("path",qd({},He(r,!0),{className:y,d:mw(_,N,b,S,h),ref:n})))}):F.createElement("path",qd({},He(r,!0),{className:y,d:mw(l,u,d,f,h)}))};function Mm(){return Mm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mm.apply(this,arguments)}var dh=function(t){var r=t.cx,n=t.cy,a=t.r,o=t.className,i=ot("recharts-dot",o);return r===+r&&n===+n&&a===+a?j.createElement("circle",Mm({},He(t,!1),pd(t),{className:i,cx:r,cy:n,r:a})):null};function yu(e){"@babel/helpers - typeof";return yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yu(e)}var _H=["x","y","top","left","width","height","className"];function Am(){return Am=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Am.apply(this,arguments)}function yw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function PH(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yw(Object(r),!0).forEach(function(n){OH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OH(e,t,r){return t=CH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CH(e){var t=MH(e,"string");return yu(t)=="symbol"?t:t+""}function MH(e,t){if(yu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AH(e,t){if(e==null)return{};var r=EH(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function EH(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var TH=function(t,r,n,a,o,i){return"M".concat(t,",").concat(o,"v").concat(a,"M").concat(i,",").concat(r,"h").concat(n)},$H=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,o=a===void 0?0:a,i=t.top,s=i===void 0?0:i,l=t.left,u=l===void 0?0:l,d=t.width,f=d===void 0?0:d,h=t.height,p=h===void 0?0:h,m=t.className,x=AH(t,_H),w=PH({x:n,y:o,top:s,left:u,width:f,height:p},x);return!fe(n)||!fe(o)||!fe(f)||!fe(p)||!fe(s)||!fe(u)?null:F.createElement("path",Am({},He(w,!0),{className:ot("recharts-cross",m),d:TH(n,o,f,p,s,u)}))},DH=Mj,RH=DH(Object.getPrototypeOf,Object),IH=RH,LH=Oo,BH=IH,FH=Co,zH="[object Object]",GH=Function.prototype,UH=Object.prototype,g3=GH.toString,WH=UH.hasOwnProperty,XH=g3.call(Object);function HH(e){if(!FH(e)||LH(e)!=zH)return!1;var t=BH(e);if(t===null)return!0;var r=WH.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&g3.call(r)==XH}var VH=HH;const KH=Lt(VH);var YH=Oo,qH=Co,ZH="[object Boolean]";function QH(e){return e===!0||e===!1||qH(e)&&YH(e)==ZH}var JH=QH;const eV=Lt(JH);function vu(e){"@babel/helpers - typeof";return vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vu(e)}function Zd(){return Zd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zd.apply(this,arguments)}function tV(e,t){return oV(e)||aV(e,t)||nV(e,t)||rV()}function rV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nV(e,t){if(e){if(typeof e=="string")return vw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vw(e,t)}}function vw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function aV(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return s}}function oV(e){if(Array.isArray(e))return e}function xw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xw(Object(r),!0).forEach(function(n){iV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iV(e,t,r){return t=sV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sV(e){var t=lV(e,"string");return vu(t)=="symbol"?t:t+""}function lV(e,t){if(vu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ww=function(t,r,n,a,o){var i=n-a,s;return s="M ".concat(t,",").concat(r),s+="L ".concat(t+n,",").concat(r),s+="L ".concat(t+n-i/2,",").concat(r+o),s+="L ".concat(t+n-i/2-a,",").concat(r+o),s+="L ".concat(t,",").concat(r," Z"),s},cV={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},uV=function(t){var r=bw(bw({},cV),t),n=j.useRef(),a=j.useState(-1),o=tV(a,2),i=o[0],s=o[1];j.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var y=n.current.getTotalLength();y&&s(y)}catch{}},[]);var l=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,m=r.animationEasing,x=r.animationDuration,w=r.animationBegin,v=r.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var g=ot("recharts-trapezoid",p);return v?F.createElement(La,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:l,y:u},duration:x,animationEasing:m,isActive:v},function(y){var k=y.upperWidth,b=y.lowerWidth,S=y.height,_=y.x,N=y.y;return F.createElement(La,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:x,easing:m},F.createElement("path",Zd({},He(r,!0),{className:g,d:ww(_,N,k,b,S),ref:n})))}):F.createElement("g",null,F.createElement("path",Zd({},He(r,!0),{className:g,d:ww(l,u,d,f,h)})))},fV=["option","shapeType","propTransformer","activeClassName","isActive"];function xu(e){"@babel/helpers - typeof";return xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xu(e)}function dV(e,t){if(e==null)return{};var r=hV(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function hV(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function kw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kw(Object(r),!0).forEach(function(n){pV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pV(e,t,r){return t=gV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gV(e){var t=mV(e,"string");return xu(t)=="symbol"?t:t+""}function mV(e,t){if(xu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yV(e,t){return Qd(Qd({},t),e)}function vV(e,t){return e==="symbols"}function Sw(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return F.createElement(Yv,r);case"trapezoid":return F.createElement(uV,r);case"sector":return F.createElement(a3,r);case"symbols":if(vV(t))return F.createElement(J0,r);break;default:return null}}function xV(e){return j.isValidElement(e)?e.props:e}function Em(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?yV:n,o=e.activeClassName,i=o===void 0?"recharts-active-shape":o,s=e.isActive,l=dV(e,fV),u;if(j.isValidElement(t))u=j.cloneElement(t,Qd(Qd({},l),xV(t)));else if(Ve(t))u=t(l);else if(KH(t)&&!eV(t)){var d=a(t,l);u=F.createElement(Sw,{shapeType:r,elementProps:d})}else{var f=l;u=F.createElement(Sw,{shapeType:r,elementProps:f})}return s?F.createElement(vt,{className:i},u):u}function hh(e,t){return t!=null&&"trapezoids"in e.props}function ph(e,t){return t!=null&&"sectors"in e.props}function bu(e,t){return t!=null&&"points"in e.props}function bV(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,o=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&o}function wV(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function kV(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function SV(e,t){var r;return hh(e,t)?r=bV:ph(e,t)?r=wV:bu(e,t)&&(r=kV),r}function jV(e,t){var r;return hh(e,t)?r="trapezoids":ph(e,t)?r="sectors":bu(e,t)&&(r="points"),r}function NV(e,t){if(hh(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(ph(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return bu(e,t)?t.payload:{}}function _V(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=jV(r,t),o=NV(r,t),i=n.filter(function(l,u){var d=Ki(o,l),f=r.props[a].filter(function(m){var x=SV(r,t);return x(m,t)}),h=r.props[a].indexOf(f[f.length-1]),p=u===h;return d&&p}),s=n.indexOf(i[i.length-1]);return s}var PV=Math.ceil,OV=Math.max;function CV(e,t,r,n){for(var a=-1,o=OV(PV((t-e)/(r||1)),0),i=Array(o);o--;)i[n?o:++a]=e,e+=r;return i}var MV=CV,AV=Yj,jw=1/0,EV=17976931348623157e292;function TV(e){if(!e)return e===0?e:0;if(e=AV(e),e===jw||e===-jw){var t=e<0?-1:1;return t*EV}return e===e?e:0}var m3=TV,$V=MV,DV=rh,jp=m3;function RV(e){return function(t,r,n){return n&&typeof n!="number"&&DV(t,r,n)&&(r=n=void 0),t=jp(t),r===void 0?(r=t,t=0):r=jp(r),n=n===void 0?t<r?1:-1:jp(n),$V(t,r,n,e)}}var IV=RV,LV=IV,BV=LV(),FV=BV;const Jd=Lt(FV);function wu(e){"@babel/helpers - typeof";return wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wu(e)}function Nw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _w(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nw(Object(r),!0).forEach(function(n){y3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function y3(e,t,r){return t=zV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zV(e){var t=GV(e,"string");return wu(t)=="symbol"?t:t+""}function GV(e,t){if(wu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UV=["Webkit","Moz","O","ms"],WV=function(t,r){var n=t.replace(/(\w)/,function(o){return o.toUpperCase()}),a=UV.reduce(function(o,i){return _w(_w({},o),{},y3({},i+n,r))},{});return a[t]=r,a};function ol(e){"@babel/helpers - typeof";return ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ol(e)}function e0(){return e0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e0.apply(this,arguments)}function Pw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Np(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pw(Object(r),!0).forEach(function(n){Kn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ow(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,x3(n.key),n)}}function HV(e,t,r){return t&&Ow(e.prototype,t),r&&Ow(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function VV(e,t,r){return t=t0(t),KV(e,v3()?Reflect.construct(t,r||[],t0(e).constructor):t.apply(e,r))}function KV(e,t){if(t&&(ol(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YV(e)}function YV(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v3=function(){return!!e})()}function t0(e){return t0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},t0(e)}function qV(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tm(e,t)}function Tm(e,t){return Tm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Tm(e,t)}function Kn(e,t,r){return t=x3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x3(e){var t=ZV(e,"string");return ol(t)=="symbol"?t:t+""}function ZV(e,t){if(ol(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ol(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var QV=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,o=t.x,i=t.width,s=t.travellerWidth;if(!r||!r.length)return{};var l=r.length,u=wc().domain(Jd(0,l)).range([o,o+i-s]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},Cw=function(t){return t.changedTouches&&!!t.changedTouches.length},il=function(e){function t(r){var n;return XV(this,t),n=VV(this,t,[r]),Kn(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Kn(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Kn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,o=a.endIndex,i=a.onDragEnd,s=a.startIndex;i==null||i({endIndex:o,startIndex:s})}),n.detachDragEndListener()}),Kn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Kn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Kn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Kn(n,"handleSlideDragStart",function(a){var o=Cw(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return qV(t,e),HV(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,o=n.endX,i=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,d=u.length-1,f=Math.min(a,o),h=Math.max(a,o),p=t.getIndexInRange(i,f),m=t.getIndexInRange(i,h);return{startIndex:p-p%l,endIndex:m===d?d:m-m%l}}},{key:"getTextOfTick",value:function(n){var a=this.props,o=a.data,i=a.tickFormatter,s=a.dataKey,l=Fr(o[n],s,n);return Ve(i)?i(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,o=a.slideMoveStartX,i=a.startX,s=a.endX,l=this.props,u=l.x,d=l.width,f=l.travellerWidth,h=l.startIndex,p=l.endIndex,m=l.onChange,x=n.pageX-o;x>0?x=Math.min(x,u+d-f-s,u+d-f-i):x<0&&(x=Math.max(x,u-i,u-s));var w=this.getIndex({startX:i+x,endX:s+x});(w.startIndex!==h||w.endIndex!==p)&&m&&m(w),this.setState({startX:i+x,endX:s+x,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var o=Cw(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,o=a.brushMoveStartX,i=a.movingTravellerId,s=a.endX,l=a.startX,u=this.state[i],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,m=d.onChange,x=d.gap,w=d.data,v={startX:this.state.startX,endX:this.state.endX},g=n.pageX-o;g>0?g=Math.min(g,f+h-p-u):g<0&&(g=Math.max(g,f-u)),v[i]=u+g;var y=this.getIndex(v),k=y.startIndex,b=y.endIndex,S=function(){var N=w.length-1;return i==="startX"&&(s>l?k%x===0:b%x===0)||s<l&&b===N||i==="endX"&&(s>l?b%x===0:k%x===0)||s>l&&b===N};this.setState(Kn(Kn({},i,u+g),"brushMoveStartX",n.pageX),function(){m&&S()&&m(y)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var o=this,i=this.state,s=i.scaleValues,l=i.startX,u=i.endX,d=this.state[a],f=s.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=s.length)){var p=s[h];a==="startX"&&p>=u||a==="endX"&&p<=l||this.setState(Kn({},a,p),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,o=n.y,i=n.width,s=n.height,l=n.fill,u=n.stroke;return F.createElement("rect",{stroke:u,fill:l,x:a,y:o,width:i,height:s})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,o=n.y,i=n.width,s=n.height,l=n.data,u=n.children,d=n.padding,f=j.Children.only(u);return f?F.cloneElement(f,{x:a,y:o,width:i,height:s,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,a){var o,i,s=this,l=this.props,u=l.y,d=l.travellerWidth,f=l.height,h=l.traveller,p=l.ariaLabel,m=l.data,x=l.startIndex,w=l.endIndex,v=Math.max(n,this.props.x),g=Np(Np({},He(this.props,!1)),{},{x:v,y:u,width:d,height:f}),y=p||"Min value: ".concat((o=m[x])===null||o===void 0?void 0:o.name,", Max value: ").concat((i=m[w])===null||i===void 0?void 0:i.name);return F.createElement(vt,{tabIndex:0,role:"slider","aria-label":y,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(b){["ArrowLeft","ArrowRight"].includes(b.key)&&(b.preventDefault(),b.stopPropagation(),s.handleTravellerMoveKeyboard(b.key==="ArrowRight"?1:-1,a))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,g))}},{key:"renderSlide",value:function(n,a){var o=this.props,i=o.y,s=o.height,l=o.stroke,u=o.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return F.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:i,width:f,height:s})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,o=n.endIndex,i=n.y,s=n.height,l=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,p=5,m={pointerEvents:"none",fill:u};return F.createElement(vt,{className:"recharts-brush-texts"},F.createElement(Od,e0({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:i+s/2},m),this.getTextOfTick(a)),F.createElement(Od,e0({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+p,y:i+s/2},m),this.getTextOfTick(o)))}},{key:"render",value:function(){var n=this.props,a=n.data,o=n.className,i=n.children,s=n.x,l=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,m=h.endX,x=h.isTextActive,w=h.isSlideMoving,v=h.isTravellerMoving,g=h.isTravellerFocused;if(!a||!a.length||!fe(s)||!fe(l)||!fe(u)||!fe(d)||u<=0||d<=0)return null;var y=ot("recharts-brush",o),k=F.Children.count(i)===1,b=WV("userSelect","none");return F.createElement(vt,{className:y,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:b},this.renderBackground(),k&&this.renderPanorama(),this.renderSlide(p,m),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(m,"endX"),(x||w||v||g||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,o=n.y,i=n.width,s=n.height,l=n.stroke,u=Math.floor(o+s/2)-1;return F.createElement(F.Fragment,null,F.createElement("rect",{x:a,y:o,width:i,height:s,fill:l,stroke:"none"}),F.createElement("line",{x1:a+1,y1:u,x2:a+i-1,y2:u,fill:"none",stroke:"#fff"}),F.createElement("line",{x1:a+1,y1:u+2,x2:a+i-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var o;return F.isValidElement(n)?o=F.cloneElement(n,a):Ve(n)?o=n(a):o=t.renderDefaultTraveller(a),o}},{key:"getDerivedStateFromProps",value:function(n,a){var o=n.data,i=n.width,s=n.x,l=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(o!==a.prevData||u!==a.prevUpdateId)return Np({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:i},o&&o.length?QV({data:o,width:i,x:s,travellerWidth:l,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(i!==a.prevWidth||s!==a.prevX||l!==a.prevTravellerWidth)){a.scale.range([s,s+i-l]);var h=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:i,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var o=n.length,i=0,s=o-1;s-i>1;){var l=Math.floor((i+s)/2);n[l]>a?s=l:i=l}return a>=n[s]?s:i}}])}(j.PureComponent);Kn(il,"displayName","Brush");Kn(il,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var JV=bv;function eK(e,t){var r;return JV(e,function(n,a,o){return r=t(n,a,o),!r}),!!r}var tK=eK,rK=kj,nK=di,aK=tK,oK=Un,iK=rh;function sK(e,t,r){var n=oK(e)?rK:aK;return r&&iK(e,t,r)&&(t=void 0),n(e,nK(t))}var lK=sK;const cK=Lt(lK);var Qa=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},Mw=Wj;function uK(e,t,r){t=="__proto__"&&Mw?Mw(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var fK=uK,dK=fK,hK=Gj,pK=di;function gK(e,t){var r={};return t=pK(t),hK(e,function(n,a,o){dK(r,a,t(n,a,o))}),r}var mK=gK;const yK=Lt(mK);function vK(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var xK=vK,bK=bv;function wK(e,t){var r=!0;return bK(e,function(n,a,o){return r=!!t(n,a,o),r}),r}var kK=wK,SK=xK,jK=kK,NK=di,_K=Un,PK=rh;function OK(e,t,r){var n=_K(e)?SK:jK;return r&&PK(e,t,r)&&(t=void 0),n(e,NK(t))}var CK=OK;const b3=Lt(CK);var MK=["x","y"];function ku(e){"@babel/helpers - typeof";return ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ku(e)}function $m(){return $m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$m.apply(this,arguments)}function Aw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ac(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Aw(Object(r),!0).forEach(function(n){AK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Aw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AK(e,t,r){return t=EK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EK(e){var t=TK(e,"string");return ku(t)=="symbol"?t:t+""}function TK(e,t){if(ku(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ku(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $K(e,t){if(e==null)return{};var r=DK(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function DK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function RK(e,t){var r=e.x,n=e.y,a=$K(e,MK),o="".concat(r),i=parseInt(o,10),s="".concat(n),l=parseInt(s,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return ac(ac(ac(ac(ac({},t),a),i?{x:i}:{}),l?{y:l}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function Ew(e){return F.createElement(Em,$m({shapeType:"rectangle",propTransformer:RK,activeClassName:"recharts-active-bar"},e))}var IK=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var o=fe(n)||ZA(n);return o?t(n,a):(o||qi(),r)}},LK=["value","background"],w3;function sl(e){"@babel/helpers - typeof";return sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sl(e)}function BK(e,t){if(e==null)return{};var r=FK(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function FK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function r0(){return r0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r0.apply(this,arguments)}function Tw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Or(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tw(Object(r),!0).forEach(function(n){Vo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $w(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,S3(n.key),n)}}function GK(e,t,r){return t&&$w(e.prototype,t),r&&$w(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function UK(e,t,r){return t=n0(t),WK(e,k3()?Reflect.construct(t,r||[],n0(e).constructor):t.apply(e,r))}function WK(e,t){if(t&&(sl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XK(e)}function XK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k3=function(){return!!e})()}function n0(e){return n0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},n0(e)}function HK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dm(e,t)}function Dm(e,t){return Dm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Dm(e,t)}function Vo(e,t,r){return t=S3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S3(e){var t=VK(e,"string");return sl(t)=="symbol"?t:t+""}function VK(e,t){if(sl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Bu=function(e){function t(){var r;zK(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=UK(this,t,[].concat(a)),Vo(r,"state",{isAnimationFinished:!1}),Vo(r,"id",rs("recharts-bar-")),Vo(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),i&&i()}),Vo(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),i&&i()}),r}return HK(t,e),GK(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,o=this.props,i=o.shape,s=o.dataKey,l=o.activeIndex,u=o.activeBar,d=He(this.props,!1);return n&&n.map(function(f,h){var p=h===l,m=p?u:i,x=Or(Or(Or({},d),f),{},{isActive:p,option:m,index:h,dataKey:s,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return F.createElement(vt,r0({className:"recharts-bar-rectangle"},Xc(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),F.createElement(Ew,x))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,o=a.data,i=a.layout,s=a.isAnimationActive,l=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,h=this.state.prevData;return F.createElement(La,{begin:l,duration:u,isActive:s,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var m=p.t,x=o.map(function(w,v){var g=h&&h[v];if(g){var y=jr(g.x,w.x),k=jr(g.y,w.y),b=jr(g.width,w.width),S=jr(g.height,w.height);return Or(Or({},w),{},{x:y(m),y:k(m),width:b(m),height:S(m)})}if(i==="horizontal"){var _=jr(0,w.height),N=_(m);return Or(Or({},w),{},{y:w.y+w.height-N,height:N})}var P=jr(0,w.width),M=P(m);return Or(Or({},w),{},{width:M})});return F.createElement(vt,null,n.renderRectanglesStatically(x))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,o=n.isAnimationActive,i=this.state.prevData;return o&&a&&a.length&&(!i||!Ki(i,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,o=a.data,i=a.dataKey,s=a.activeIndex,l=He(this.props.background,!1);return o.map(function(u,d){u.value;var f=u.background,h=BK(u,LK);if(!f)return null;var p=Or(Or(Or(Or(Or({},h),{},{fill:"#eee"},f),l),Xc(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:i,index:d,className:"recharts-bar-background-rectangle"});return F.createElement(Ew,r0({key:"background-bar-".concat(d),option:n.props.background,isActive:d===s},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,i=o.data,s=o.xAxis,l=o.yAxis,u=o.layout,d=o.children,f=Fn(d,Dl);if(!f)return null;var h=u==="vertical"?i[0].height/2:i[0].width/2,p=function(w,v){var g=Array.isArray(w.value)?w.value[1]:w.value;return{x:w.x,y:w.y,value:g,errorVal:Fr(w,v)}},m={clipPath:n?"url(#clipPath-".concat(a,")"):null};return F.createElement(vt,m,f.map(function(x){return F.cloneElement(x,{key:"error-bar-".concat(a,"-").concat(x.props.dataKey),data:i,xAxis:s,yAxis:l,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,o=n.data,i=n.className,s=n.xAxis,l=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,p=n.isAnimationActive,m=n.background,x=n.id;if(a||!o||!o.length)return null;var w=this.state.isAnimationFinished,v=ot("recharts-bar",i),g=s&&s.allowDataOverflow,y=l&&l.allowDataOverflow,k=g||y,b=We(x)?this.id:x;return F.createElement(vt,{className:v},g||y?F.createElement("defs",null,F.createElement("clipPath",{id:"clipPath-".concat(b)},F.createElement("rect",{x:g?u:u-f/2,y:y?d:d-h/2,width:g?f:f*2,height:y?h:h*2}))):null,F.createElement(vt,{className:"recharts-bar-rectangles",clipPath:k?"url(#clipPath-".concat(b,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(k,b),(!p||w)&&Za.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(j.PureComponent);w3=Bu;Vo(Bu,"displayName","Bar");Vo(Bu,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!hi.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Vo(Bu,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,o=e.xAxis,i=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=bU(n,r);if(!p)return null;var m=t.layout,x=r.type.defaultProps,w=x!==void 0?Or(Or({},x),r.props):r.props,v=w.dataKey,g=w.children,y=w.minPointSize,k=m==="horizontal"?i:o,b=u?k.scale.domain():null,S=OU({numericAxis:k}),_=Fn(g,Sv),N=f.map(function(P,M){var E,C,A,L,R,G;u?E=wU(u[d+M],b):(E=Fr(P,v),Array.isArray(E)||(E=[S,E]));var O=IK(y,w3.defaultProps.minPointSize)(E[1],M);if(m==="horizontal"){var T,B=[i.scale(E[0]),i.scale(E[1])],z=B[0],te=B[1];C=R2({axis:o,ticks:s,bandSize:a,offset:p.offset,entry:P,index:M}),A=(T=te??z)!==null&&T!==void 0?T:void 0,L=p.size;var Q=z-te;if(R=Number.isNaN(Q)?0:Q,G={x:C,y:i.y,width:L,height:i.height},Math.abs(O)>0&&Math.abs(R)<Math.abs(O)){var D=$a(R||O)*(Math.abs(O)-Math.abs(R));A-=D,R+=D}}else{var J=[o.scale(E[0]),o.scale(E[1])],q=J[0],$=J[1];if(C=q,A=R2({axis:i,ticks:l,bandSize:a,offset:p.offset,entry:P,index:M}),L=$-q,R=p.size,G={x:o.x,y:A,width:o.width,height:R},Math.abs(O)>0&&Math.abs(L)<Math.abs(O)){var ne=$a(L||O)*(Math.abs(O)-Math.abs(L));L+=ne}}return Or(Or(Or({},P),{},{x:C,y:A,width:L,height:R,value:u?E:E[1],payload:P,background:G},_&&_[M]&&_[M].props),{},{tooltipPayload:[t3(r,P)],tooltipPosition:{x:C+L/2,y:A+R/2}})});return Or({data:N,layout:m},h)});function Su(e){"@babel/helpers - typeof";return Su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Su(e)}function KK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,j3(n.key),n)}}function YK(e,t,r){return t&&Dw(e.prototype,t),r&&Dw(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Rw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ma(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rw(Object(r),!0).forEach(function(n){gh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gh(e,t,r){return t=j3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j3(e){var t=qK(e,"string");return Su(t)=="symbol"?t:t+""}function qK(e,t){if(Su(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Su(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qv=function(t,r,n,a,o){var i=t.width,s=t.height,l=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:i-n.right,rightMirror:i-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},h=!!qn(u,Bu);return d.reduce(function(p,m){var x=r[m],w=x.orientation,v=x.domain,g=x.padding,y=g===void 0?{}:g,k=x.mirror,b=x.reversed,S="".concat(w).concat(k?"Mirror":""),_,N,P,M,E;if(x.type==="number"&&(x.padding==="gap"||x.padding==="no-gap")){var C=v[1]-v[0],A=1/0,L=x.categoricalDomain.sort(t6);if(L.forEach(function(J,q){q>0&&(A=Math.min((J||0)-(L[q-1]||0),A))}),Number.isFinite(A)){var R=A/C,G=x.layout==="vertical"?n.height:n.width;if(x.padding==="gap"&&(_=R*G/2),x.padding==="no-gap"){var O=Vi(t.barCategoryGap,R*G),T=R*G/2;_=T-O-(T-O)/G*O}}}a==="xAxis"?N=[n.left+(y.left||0)+(_||0),n.left+n.width-(y.right||0)-(_||0)]:a==="yAxis"?N=l==="horizontal"?[n.top+n.height-(y.bottom||0),n.top+(y.top||0)]:[n.top+(y.top||0)+(_||0),n.top+n.height-(y.bottom||0)-(_||0)]:N=x.range,b&&(N=[N[1],N[0]]);var B=vU(x,o,h),z=B.scale,te=B.realScaleType;z.domain(v).range(N),xU(z);var Q=PU(z,Ma(Ma({},x),{},{realScaleType:te}));a==="xAxis"?(E=w==="top"&&!k||w==="bottom"&&k,P=n.left,M=f[S]-E*x.height):a==="yAxis"&&(E=w==="left"&&!k||w==="right"&&k,P=f[S]-E*x.width,M=n.top);var D=Ma(Ma(Ma({},x),Q),{},{realScaleType:te,x:P,y:M,scale:z,width:a==="xAxis"?n.width:x.width,height:a==="yAxis"?n.height:x.height});return D.bandSize=Ud(D,Q),!x.hide&&a==="xAxis"?f[S]+=(E?-1:1)*D.height:x.hide||(f[S]+=(E?-1:1)*D.width),Ma(Ma({},p),{},gh({},m,D))},{})},N3=function(t,r){var n=t.x,a=t.y,o=r.x,i=r.y;return{x:Math.min(n,o),y:Math.min(a,i),width:Math.abs(o-n),height:Math.abs(i-a)}},ZK=function(t){var r=t.x1,n=t.y1,a=t.x2,o=t.y2;return N3({x:r,y:n},{x:a,y:o})},_3=function(){function e(t){KK(this,e),this.scale=t}return YK(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,o=n.position;if(r!==void 0){if(o)switch(o){case"start":return this.scale(r);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(r)+s}default:return this.scale(r)}if(a){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],o=n[n.length-1];return a<=o?r>=a&&r<=o:r>=o&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();gh(_3,"EPS",1e-4);var Zv=function(t){var r=Object.keys(t).reduce(function(n,a){return Ma(Ma({},n),{},gh({},a,_3.create(t[a])))},{});return Ma(Ma({},r),{},{apply:function(a){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=o.bandAware,s=o.position;return yK(a,function(l,u){return r[u].apply(l,{bandAware:i,position:s})})},isInRange:function(a){return b3(a,function(o,i){return r[i].isInRange(o)})}})};function QK(e){return(e%180+180)%180}var JK=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=QK(a),i=o*Math.PI/180,s=Math.atan(n/r),l=i>s&&i<Math.PI-s?n/Math.sin(i):r/Math.cos(i);return Math.abs(l)},eY=di,tY=$u,rY=eh;function nY(e){return function(t,r,n){var a=Object(t);if(!tY(t)){var o=eY(r);t=rY(t),r=function(s){return o(a[s],s,a)}}var i=e(t,r,n);return i>-1?a[o?t[i]:i]:void 0}}var aY=nY,oY=m3;function iY(e){var t=oY(e),r=t%1;return t===t?r?t-r:t:0}var sY=iY,lY=Rj,cY=di,uY=sY,fY=Math.max;function dY(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:uY(r);return a<0&&(a=fY(n+a,0)),lY(e,cY(t),a)}var hY=dY,pY=aY,gY=hY,mY=pY(gY),yY=mY;const vY=Lt(yY);var xY=nA(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),Qv=j.createContext(void 0),Jv=j.createContext(void 0),P3=j.createContext(void 0),O3=j.createContext({}),C3=j.createContext(void 0),M3=j.createContext(0),A3=j.createContext(0),Iw=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,o=r.offset,i=t.clipPathId,s=t.children,l=t.width,u=t.height,d=xY(o);return F.createElement(Qv.Provider,{value:n},F.createElement(Jv.Provider,{value:a},F.createElement(O3.Provider,{value:o},F.createElement(P3.Provider,{value:d},F.createElement(C3.Provider,{value:i},F.createElement(M3.Provider,{value:u},F.createElement(A3.Provider,{value:l},s)))))))},bY=function(){return j.useContext(C3)},E3=function(t){var r=j.useContext(Qv);r==null&&qi();var n=r[t];return n==null&&qi(),n},wY=function(){var t=j.useContext(Qv);return Uo(t)},kY=function(){var t=j.useContext(Jv),r=vY(t,function(n){return b3(n.domain,Number.isFinite)});return r||Uo(t)},T3=function(t){var r=j.useContext(Jv);r==null&&qi();var n=r[t];return n==null&&qi(),n},SY=function(){var t=j.useContext(P3);return t},jY=function(){return j.useContext(O3)},ex=function(){return j.useContext(A3)},tx=function(){return j.useContext(M3)};function ll(e){"@babel/helpers - typeof";return ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ll(e)}function NY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _Y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,D3(n.key),n)}}function PY(e,t,r){return t&&_Y(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function OY(e,t,r){return t=a0(t),CY(e,$3()?Reflect.construct(t,r||[],a0(e).constructor):t.apply(e,r))}function CY(e,t){if(t&&(ll(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MY(e)}function MY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($3=function(){return!!e})()}function a0(e){return a0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},a0(e)}function AY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rm(e,t)}function Rm(e,t){return Rm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Rm(e,t)}function Lw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lw(Object(r),!0).forEach(function(n){rx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rx(e,t,r){return t=D3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D3(e){var t=EY(e,"string");return ll(t)=="symbol"?t:t+""}function EY(e,t){if(ll(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ll(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function TY(e,t){return IY(e)||RY(e,t)||DY(e,t)||$Y()}function $Y(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DY(e,t){if(e){if(typeof e=="string")return Fw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Fw(e,t)}}function Fw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function RY(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return s}}function IY(e){if(Array.isArray(e))return e}function Im(){return Im=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Im.apply(this,arguments)}var LY=function(t,r){var n;return F.isValidElement(t)?n=F.cloneElement(t,r):Ve(t)?n=t(r):n=F.createElement("line",Im({},r,{className:"recharts-reference-line-line"})),n},BY=function(t,r,n,a,o,i,s,l,u){var d=o.x,f=o.y,h=o.width,p=o.height;if(n){var m=u.y,x=t.y.apply(m,{position:i});if(Qa(u,"discard")&&!t.y.isInRange(x))return null;var w=[{x:d+h,y:x},{x:d,y:x}];return l==="left"?w.reverse():w}if(r){var v=u.x,g=t.x.apply(v,{position:i});if(Qa(u,"discard")&&!t.x.isInRange(g))return null;var y=[{x:g,y:f+p},{x:g,y:f}];return s==="top"?y.reverse():y}if(a){var k=u.segment,b=k.map(function(S){return t.apply(S,{position:i})});return Qa(u,"discard")&&cK(b,function(S){return!t.isInRange(S)})?null:b}return null};function FY(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,o=e.yAxisId,i=e.shape,s=e.className,l=e.alwaysShow,u=bY(),d=E3(a),f=T3(o),h=SY();if(!u||!h)return null;yo(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=Zv({x:d.scale,y:f.scale}),m=Br(t),x=Br(r),w=n&&n.length===2,v=BY(p,m,x,w,h,e.position,d.orientation,f.orientation,e);if(!v)return null;var g=TY(v,2),y=g[0],k=y.x,b=y.y,S=g[1],_=S.x,N=S.y,P=Qa(e,"hidden")?"url(#".concat(u,")"):void 0,M=Bw(Bw({clipPath:P},He(e,!0)),{},{x1:k,y1:b,x2:_,y2:N});return F.createElement(vt,{className:ot("recharts-reference-line",s)},LY(i,M),tn.renderCallByParent(e,ZK({x1:k,y1:b,x2:_,y2:N})))}var Ko=function(e){function t(){return NY(this,t),OY(this,t,arguments)}return AY(t,e),PY(t,[{key:"render",value:function(){return F.createElement(FY,this.props)}}])}(F.Component);rx(Ko,"displayName","ReferenceLine");rx(Ko,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Lm(){return Lm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lm.apply(this,arguments)}function cl(e){"@babel/helpers - typeof";return cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cl(e)}function zw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zw(Object(r),!0).forEach(function(n){mh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,I3(n.key),n)}}function UY(e,t,r){return t&&GY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function WY(e,t,r){return t=o0(t),XY(e,R3()?Reflect.construct(t,r||[],o0(e).constructor):t.apply(e,r))}function XY(e,t){if(t&&(cl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HY(e)}function HY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R3=function(){return!!e})()}function o0(e){return o0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},o0(e)}function VY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bm(e,t)}function Bm(e,t){return Bm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Bm(e,t)}function mh(e,t,r){return t=I3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I3(e){var t=KY(e,"string");return cl(t)=="symbol"?t:t+""}function KY(e,t){if(cl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var YY=function(t){var r=t.x,n=t.y,a=t.xAxis,o=t.yAxis,i=Zv({x:a.scale,y:o.scale}),s=i.apply({x:r,y:n},{bandAware:!0});return Qa(t,"discard")&&!i.isInRange(s)?null:s},Fu=function(e){function t(){return zY(this,t),WY(this,t,arguments)}return VY(t,e),UY(t,[{key:"render",value:function(){var n=this.props,a=n.x,o=n.y,i=n.r,s=n.alwaysShow,l=n.clipPathId,u=Br(a),d=Br(o);if(yo(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=YY(this.props);if(!f)return null;var h=f.x,p=f.y,m=this.props,x=m.shape,w=m.className,v=Qa(this.props,"hidden")?"url(#".concat(l,")"):void 0,g=Gw(Gw({clipPath:v},He(this.props,!0)),{},{cx:h,cy:p});return F.createElement(vt,{className:ot("recharts-reference-dot",w)},t.renderDot(x,g),tn.renderCallByParent(this.props,{x:h-i,y:p-i,width:2*i,height:2*i}))}}])}(F.Component);mh(Fu,"displayName","ReferenceDot");mh(Fu,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});mh(Fu,"renderDot",function(e,t){var r;return F.isValidElement(e)?r=F.cloneElement(e,t):Ve(e)?r=e(t):r=F.createElement(dh,Lm({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function Fm(){return Fm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fm.apply(this,arguments)}function ul(e){"@babel/helpers - typeof";return ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ul(e)}function Uw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ww(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Uw(Object(r),!0).forEach(function(n){yh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,B3(n.key),n)}}function QY(e,t,r){return t&&ZY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function JY(e,t,r){return t=i0(t),eq(e,L3()?Reflect.construct(t,r||[],i0(e).constructor):t.apply(e,r))}function eq(e,t){if(t&&(ul(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tq(e)}function tq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L3=function(){return!!e})()}function i0(e){return i0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},i0(e)}function rq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zm(e,t)}function zm(e,t){return zm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},zm(e,t)}function yh(e,t,r){return t=B3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B3(e){var t=nq(e,"string");return ul(t)=="symbol"?t:t+""}function nq(e,t){if(ul(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ul(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var aq=function(t,r,n,a,o){var i=o.x1,s=o.x2,l=o.y1,u=o.y2,d=o.xAxis,f=o.yAxis;if(!d||!f)return null;var h=Zv({x:d.scale,y:f.scale}),p={x:t?h.x.apply(i,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},m={x:r?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Qa(o,"discard")&&(!h.isInRange(p)||!h.isInRange(m))?null:N3(p,m)},zu=function(e){function t(){return qY(this,t),JY(this,t,arguments)}return rq(t,e),QY(t,[{key:"render",value:function(){var n=this.props,a=n.x1,o=n.x2,i=n.y1,s=n.y2,l=n.className,u=n.alwaysShow,d=n.clipPathId;yo(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Br(a),h=Br(o),p=Br(i),m=Br(s),x=this.props.shape;if(!f&&!h&&!p&&!m&&!x)return null;var w=aq(f,h,p,m,this.props);if(!w&&!x)return null;var v=Qa(this.props,"hidden")?"url(#".concat(d,")"):void 0;return F.createElement(vt,{className:ot("recharts-reference-area",l)},t.renderRect(x,Ww(Ww({clipPath:v},He(this.props,!0)),w)),tn.renderCallByParent(this.props,w))}}])}(F.Component);yh(zu,"displayName","ReferenceArea");yh(zu,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});yh(zu,"renderRect",function(e,t){var r;return F.isValidElement(e)?r=F.cloneElement(e,t):Ve(e)?r=e(t):r=F.createElement(Yv,Fm({},t,{className:"recharts-reference-area-rect"})),r});function F3(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function oq(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return JK(n,r)}function iq(e,t,r){var n=r==="width",a=e.x,o=e.y,i=e.width,s=e.height;return t===1?{start:n?a:o,end:n?a+i:o+s}:{start:n?a+i:o+s,end:n?a:o}}function s0(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var o=r();return e*(t-e*o/2-n)>=0&&e*(t+e*o/2-a)<=0}function sq(e,t){return F3(e,t+1)}function lq(e,t,r,n,a){for(var o=(n||[]).slice(),i=t.start,s=t.end,l=0,u=1,d=i,f=function(){var m=n==null?void 0:n[l];if(m===void 0)return{v:F3(n,u)};var x=l,w,v=function(){return w===void 0&&(w=r(m,x)),w},g=m.coordinate,y=l===0||s0(e,g,v,d,s);y||(l=0,d=i,u+=1),y&&(d=g+e*(v()/2+a),l+=u)},h;u<=o.length;)if(h=f(),h)return h.v;return[]}function ju(e){"@babel/helpers - typeof";return ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ju(e)}function Xw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xw(Object(r),!0).forEach(function(n){cq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cq(e,t,r){return t=uq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uq(e){var t=fq(e,"string");return ju(t)=="symbol"?t:t+""}function fq(e,t){if(ju(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ju(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dq(e,t,r,n,a){for(var o=(n||[]).slice(),i=o.length,s=t.start,l=t.end,u=function(h){var p=o[h],m,x=function(){return m===void 0&&(m=r(p,h)),m};if(h===i-1){var w=e*(p.coordinate+e*x()/2-l);o[h]=p=fn(fn({},p),{},{tickCoord:w>0?p.coordinate-w*e:p.coordinate})}else o[h]=p=fn(fn({},p),{},{tickCoord:p.coordinate});var v=s0(e,p.tickCoord,x,s,l);v&&(l=p.tickCoord-e*(x()/2+a),o[h]=fn(fn({},p),{},{isShow:!0}))},d=i-1;d>=0;d--)u(d);return o}function hq(e,t,r,n,a,o){var i=(n||[]).slice(),s=i.length,l=t.start,u=t.end;if(o){var d=n[s-1],f=r(d,s-1),h=e*(d.coordinate+e*f/2-u);i[s-1]=d=fn(fn({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var p=s0(e,d.tickCoord,function(){return f},l,u);p&&(u=d.tickCoord-e*(f/2+a),i[s-1]=fn(fn({},d),{},{isShow:!0}))}for(var m=o?s-1:s,x=function(g){var y=i[g],k,b=function(){return k===void 0&&(k=r(y,g)),k};if(g===0){var S=e*(y.coordinate-e*b()/2-l);i[g]=y=fn(fn({},y),{},{tickCoord:S<0?y.coordinate-S*e:y.coordinate})}else i[g]=y=fn(fn({},y),{},{tickCoord:y.coordinate});var _=s0(e,y.tickCoord,b,l,u);_&&(l=y.tickCoord+e*(b()/2+a),i[g]=fn(fn({},y),{},{isShow:!0}))},w=0;w<m;w++)x(w);return i}function nx(e,t,r){var n=e.tick,a=e.ticks,o=e.viewBox,i=e.minTickGap,s=e.orientation,l=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(fe(l)||hi.isSsr)return sq(a,typeof l=="number"&&fe(l)?l:0);var h=[],p=s==="top"||s==="bottom"?"width":"height",m=d&&p==="width"?bc(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},x=function(y,k){var b=Ve(u)?u(y.value,k):y.value;return p==="width"?oq(bc(b,{fontSize:t,letterSpacing:r}),m,f):bc(b,{fontSize:t,letterSpacing:r})[p]},w=a.length>=2?$a(a[1].coordinate-a[0].coordinate):1,v=iq(o,w,p);return l==="equidistantPreserveStart"?lq(w,v,x,a,i):(l==="preserveStart"||l==="preserveStartEnd"?h=hq(w,v,x,a,i,l==="preserveStartEnd"):h=dq(w,v,x,a,i),h.filter(function(g){return g.isShow}))}var pq=["viewBox"],gq=["viewBox"],mq=["ticks"];function fl(e){"@babel/helpers - typeof";return fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fl(e)}function Cs(){return Cs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cs.apply(this,arguments)}function Hw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Dr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hw(Object(r),!0).forEach(function(n){ax(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _p(e,t){if(e==null)return{};var r=yq(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function vq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,G3(n.key),n)}}function xq(e,t,r){return t&&Vw(e.prototype,t),r&&Vw(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function bq(e,t,r){return t=l0(t),wq(e,z3()?Reflect.construct(t,r||[],l0(e).constructor):t.apply(e,r))}function wq(e,t){if(t&&(fl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kq(e)}function kq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(z3=function(){return!!e})()}function l0(e){return l0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},l0(e)}function Sq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gm(e,t)}function Gm(e,t){return Gm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Gm(e,t)}function ax(e,t,r){return t=G3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G3(e){var t=jq(e,"string");return fl(t)=="symbol"?t:t+""}function jq(e,t){if(fl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Rl=function(e){function t(r){var n;return vq(this,t),n=bq(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return Sq(t,e),xq(t,[{key:"shouldComponentUpdate",value:function(n,a){var o=n.viewBox,i=_p(n,pq),s=this.props,l=s.viewBox,u=_p(s,gq);return!Is(o,l)||!Is(i,u)||!Is(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,o=a.x,i=a.y,s=a.width,l=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,h=a.tickMargin,p,m,x,w,v,g,y=f?-1:1,k=n.tickSize||d,b=fe(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=m=n.coordinate,w=i+ +!f*l,x=w-y*k,g=x-y*h,v=b;break;case"left":x=w=n.coordinate,m=o+ +!f*s,p=m-y*k,v=p-y*h,g=b;break;case"right":x=w=n.coordinate,m=o+ +f*s,p=m+y*k,v=p+y*h,g=b;break;default:p=m=n.coordinate,w=i+ +f*l,x=w+y*k,g=x+y*h,v=b;break}return{line:{x1:p,y1:x,x2:m,y2:w},tick:{x:v,y:g}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,o=n.mirror,i;switch(a){case"left":i=o?"start":"end";break;case"right":i=o?"end":"start";break;default:i="middle";break}return i}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,o=n.mirror,i="end";switch(a){case"left":case"right":i="middle";break;case"top":i=o?"start":"end";break;default:i=o?"end":"start";break}return i}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,o=n.y,i=n.width,s=n.height,l=n.orientation,u=n.mirror,d=n.axisLine,f=Dr(Dr(Dr({},He(this.props,!1)),He(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);f=Dr(Dr({},f),{},{x1:a,y1:o+h*s,x2:a+i,y2:o+h*s})}else{var p=+(l==="left"&&!u||l==="right"&&u);f=Dr(Dr({},f),{},{x1:a+p*i,y1:o,x2:a+p*i,y2:o+s})}return F.createElement("line",Cs({},f,{className:ot("recharts-cartesian-axis-line",ya(d,"className"))}))}},{key:"renderTicks",value:function(n,a,o){var i=this,s=this.props,l=s.tickLine,u=s.stroke,d=s.tick,f=s.tickFormatter,h=s.unit,p=nx(Dr(Dr({},this.props),{},{ticks:n}),a,o),m=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),w=He(this.props,!1),v=He(d,!1),g=Dr(Dr({},w),{},{fill:"none"},He(l,!1)),y=p.map(function(k,b){var S=i.getTickLineCoord(k),_=S.line,N=S.tick,P=Dr(Dr(Dr(Dr({textAnchor:m,verticalAnchor:x},w),{},{stroke:"none",fill:u},v),N),{},{index:b,payload:k,visibleTicksCount:p.length,tickFormatter:f});return F.createElement(vt,Cs({className:"recharts-cartesian-axis-tick",key:"tick-".concat(k.value,"-").concat(k.coordinate,"-").concat(k.tickCoord)},Xc(i.props,k,b)),l&&F.createElement("line",Cs({},g,_,{className:ot("recharts-cartesian-axis-tick-line",ya(l,"className"))})),d&&t.renderTickItem(d,P,"".concat(Ve(f)?f(k.value,b):k.value).concat(h||"")))});return F.createElement("g",{className:"recharts-cartesian-axis-ticks"},y)}},{key:"render",value:function(){var n=this,a=this.props,o=a.axisLine,i=a.width,s=a.height,l=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,h=f.ticks,p=_p(f,mq),m=h;return Ve(l)&&(m=h&&h.length>0?l(this.props):l(p)),i<=0||s<=0||!m||!m.length?null:F.createElement(vt,{className:ot("recharts-cartesian-axis",u),ref:function(w){n.layerReference=w}},o&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),tn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,o){var i,s=ot(a.className,"recharts-cartesian-axis-tick-value");return F.isValidElement(n)?i=F.cloneElement(n,Dr(Dr({},a),{},{className:s})):Ve(n)?i=n(Dr(Dr({},a),{},{className:s})):i=F.createElement(Od,Cs({},a,{className:"recharts-cartesian-axis-tick-value"}),o),i}}])}(j.Component);ax(Rl,"displayName","CartesianAxis");ax(Rl,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Nq=["x1","y1","x2","y2","key"],_q=["offset"];function Zi(e){"@babel/helpers - typeof";return Zi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zi(e)}function Kw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kw(Object(r),!0).forEach(function(n){Pq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pq(e,t,r){return t=Oq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oq(e){var t=Cq(e,"string");return Zi(t)=="symbol"?t:t+""}function Cq(e,t){if(Zi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $i(){return $i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$i.apply(this,arguments)}function Yw(e,t){if(e==null)return{};var r=Mq(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Mq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Aq=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,o=t.y,i=t.width,s=t.height,l=t.ry;return F.createElement("rect",{x:a,y:o,ry:l,width:i,height:s,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function U3(e,t){var r;if(F.isValidElement(e))r=F.cloneElement(e,t);else if(Ve(e))r=e(t);else{var n=t.x1,a=t.y1,o=t.x2,i=t.y2,s=t.key,l=Yw(t,Nq),u=He(l,!1);u.offset;var d=Yw(u,_q);r=F.createElement("line",$i({},d,{x1:n,y1:a,x2:o,y2:i,fill:"none",key:s}))}return r}function Eq(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,o=e.horizontalPoints;if(!a||!o||!o.length)return null;var i=o.map(function(s,l){var u=hn(hn({},e),{},{x1:t,y1:s,x2:t+r,y2:s,key:"line-".concat(l),index:l});return U3(a,u)});return F.createElement("g",{className:"recharts-cartesian-grid-horizontal"},i)}function Tq(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,o=e.verticalPoints;if(!a||!o||!o.length)return null;var i=o.map(function(s,l){var u=hn(hn({},e),{},{x1:s,y1:t,x2:s,y2:t+r,key:"line-".concat(l),index:l});return U3(a,u)});return F.createElement("g",{className:"recharts-cartesian-grid-vertical"},i)}function $q(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,o=e.width,i=e.height,s=e.horizontalPoints,l=e.horizontal,u=l===void 0?!0:l;if(!u||!t||!t.length)return null;var d=s.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var m=!d[p+1],x=m?a+i-h:d[p+1]-h;if(x<=0)return null;var w=p%t.length;return F.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:x,width:o,stroke:"none",fill:t[w],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return F.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Dq(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,o=e.x,i=e.y,s=e.width,l=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+o-o)}).sort(function(h,p){return h-p});o!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var m=!d[p+1],x=m?o+s-h:d[p+1]-h;if(x<=0)return null;var w=p%n.length;return F.createElement("rect",{key:"react-".concat(p),x:h,y:i,width:x,height:l,stroke:"none",fill:n[w],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return F.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Rq=function(t,r){var n=t.xAxis,a=t.width,o=t.height,i=t.offset;return J4(nx(hn(hn(hn({},Rl.defaultProps),n),{},{ticks:po(n,!0),viewBox:{x:0,y:0,width:a,height:o}})),i.left,i.left+i.width,r)},Iq=function(t,r){var n=t.yAxis,a=t.width,o=t.height,i=t.offset;return J4(nx(hn(hn(hn({},Rl.defaultProps),n),{},{ticks:po(n,!0),viewBox:{x:0,y:0,width:a,height:o}})),i.top,i.top+i.height,r)},ps={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Ja(e){var t,r,n,a,o,i,s=ex(),l=tx(),u=jY(),d=hn(hn({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:ps.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:ps.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:ps.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:ps.horizontalFill,vertical:(o=e.vertical)!==null&&o!==void 0?o:ps.vertical,verticalFill:(i=e.verticalFill)!==null&&i!==void 0?i:ps.verticalFill,x:fe(e.x)?e.x:u.left,y:fe(e.y)?e.y:u.top,width:fe(e.width)?e.width:u.width,height:fe(e.height)?e.height:u.height}),f=d.x,h=d.y,p=d.width,m=d.height,x=d.syncWithTicks,w=d.horizontalValues,v=d.verticalValues,g=wY(),y=kY();if(!fe(p)||p<=0||!fe(m)||m<=0||!fe(f)||f!==+f||!fe(h)||h!==+h)return null;var k=d.verticalCoordinatesGenerator||Rq,b=d.horizontalCoordinatesGenerator||Iq,S=d.horizontalPoints,_=d.verticalPoints;if((!S||!S.length)&&Ve(b)){var N=w&&w.length,P=b({yAxis:y?hn(hn({},y),{},{ticks:N?w:y.ticks}):void 0,width:s,height:l,offset:u},N?!0:x);yo(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Zi(P),"]")),Array.isArray(P)&&(S=P)}if((!_||!_.length)&&Ve(k)){var M=v&&v.length,E=k({xAxis:g?hn(hn({},g),{},{ticks:M?v:g.ticks}):void 0,width:s,height:l,offset:u},M?!0:x);yo(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Zi(E),"]")),Array.isArray(E)&&(_=E)}return F.createElement("g",{className:"recharts-cartesian-grid"},F.createElement(Aq,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),F.createElement(Eq,$i({},d,{offset:u,horizontalPoints:S,xAxis:g,yAxis:y})),F.createElement(Tq,$i({},d,{offset:u,verticalPoints:_,xAxis:g,yAxis:y})),F.createElement($q,$i({},d,{horizontalPoints:S})),F.createElement(Dq,$i({},d,{verticalPoints:_})))}Ja.displayName="CartesianGrid";var Lq=["type","layout","connectNulls","ref"],Bq=["key"];function dl(e){"@babel/helpers - typeof";return dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dl(e)}function qw(e,t){if(e==null)return{};var r=Fq(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Fq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function jc(){return jc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jc.apply(this,arguments)}function Zw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zw(Object(r),!0).forEach(function(n){Aa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gs(e){return Wq(e)||Uq(e)||Gq(e)||zq()}function zq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gq(e,t){if(e){if(typeof e=="string")return Um(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Um(e,t)}}function Uq(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Wq(e){if(Array.isArray(e))return Um(e)}function Um(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Xq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,X3(n.key),n)}}function Hq(e,t,r){return t&&Qw(e.prototype,t),r&&Qw(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vq(e,t,r){return t=c0(t),Kq(e,W3()?Reflect.construct(t,r||[],c0(e).constructor):t.apply(e,r))}function Kq(e,t){if(t&&(dl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yq(e)}function Yq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function W3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(W3=function(){return!!e})()}function c0(e){return c0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},c0(e)}function qq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wm(e,t)}function Wm(e,t){return Wm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Wm(e,t)}function Aa(e,t,r){return t=X3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X3(e){var t=Zq(e,"string");return dl(t)=="symbol"?t:t+""}function Zq(e,t){if(dl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Mr=function(e){function t(){var r;Xq(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=Vq(this,t,[].concat(a)),Aa(r,"state",{isAnimationFinished:!0,totalLength:0}),Aa(r,"generateSimpleStrokeDasharray",function(i,s){return"".concat(s,"px ").concat(i-s,"px")}),Aa(r,"getStrokeDasharray",function(i,s,l){var u=l.reduce(function(v,g){return v+g});if(!u)return r.generateSimpleStrokeDasharray(s,i);for(var d=Math.floor(i/u),f=i%u,h=s-i,p=[],m=0,x=0;m<l.length;x+=l[m],++m)if(x+l[m]>f){p=[].concat(gs(l.slice(0,m)),[f-x]);break}var w=p.length%2===0?[0,h]:[h];return[].concat(gs(t.repeat(l,d)),gs(p),w).map(function(v){return"".concat(v,"px")}).join(", ")}),Aa(r,"id",rs("recharts-line-")),Aa(r,"pathRef",function(i){r.mainCurve=i}),Aa(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Aa(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return qq(t,e),Hq(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,i=o.points,s=o.xAxis,l=o.yAxis,u=o.layout,d=o.children,f=Fn(d,Dl);if(!f)return null;var h=function(x,w){return{x:x.x,y:x.y,value:x.value,errorVal:Fr(x.payload,w)}},p={clipPath:n?"url(#clipPath-".concat(a,")"):null};return F.createElement(vt,p,f.map(function(m){return F.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:i,xAxis:s,yAxis:l,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,o){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,u=s.points,d=s.dataKey,f=He(this.props,!1),h=He(l,!0),p=u.map(function(x,w){var v=Vn(Vn(Vn({key:"dot-".concat(w),r:3},f),h),{},{index:w,cx:x.x,cy:x.y,value:x.value,dataKey:d,payload:x.payload,points:u});return t.renderDotItem(l,v)}),m={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(o,")"):null};return F.createElement(vt,jc({className:"recharts-line-dots",key:"dots"},m),p)}},{key:"renderCurveStatically",value:function(n,a,o,i){var s=this.props,l=s.type,u=s.layout,d=s.connectNulls;s.ref;var f=qw(s,Lq),h=Vn(Vn(Vn({},He(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(o,")"):null,points:n},i),{},{type:l,layout:u,connectNulls:d});return F.createElement(Fi,jc({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var o=this,i=this.props,s=i.points,l=i.strokeDasharray,u=i.isAnimationActive,d=i.animationBegin,f=i.animationDuration,h=i.animationEasing,p=i.animationId,m=i.animateNewValues,x=i.width,w=i.height,v=this.state,g=v.prevPoints,y=v.totalLength;return F.createElement(La,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(k){var b=k.t;if(g){var S=g.length/s.length,_=s.map(function(C,A){var L=Math.floor(A*S);if(g[L]){var R=g[L],G=jr(R.x,C.x),O=jr(R.y,C.y);return Vn(Vn({},C),{},{x:G(b),y:O(b)})}if(m){var T=jr(x*2,C.x),B=jr(w/2,C.y);return Vn(Vn({},C),{},{x:T(b),y:B(b)})}return Vn(Vn({},C),{},{x:C.x,y:C.y})});return o.renderCurveStatically(_,n,a)}var N=jr(0,y),P=N(b),M;if(l){var E="".concat(l).split(/[,\s]+/gim).map(function(C){return parseFloat(C)});M=o.getStrokeDasharray(P,y,E)}else M=o.generateSimpleStrokeDasharray(y,P);return o.renderCurveStatically(s,n,a,{strokeDasharray:M})})}},{key:"renderCurve",value:function(n,a){var o=this.props,i=o.points,s=o.isAnimationActive,l=this.state,u=l.prevPoints,d=l.totalLength;return s&&i&&i.length&&(!u&&d>0||!Ki(u,i))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(i,n,a)}},{key:"render",value:function(){var n,a=this.props,o=a.hide,i=a.dot,s=a.points,l=a.className,u=a.xAxis,d=a.yAxis,f=a.top,h=a.left,p=a.width,m=a.height,x=a.isAnimationActive,w=a.id;if(o||!s||!s.length)return null;var v=this.state.isAnimationFinished,g=s.length===1,y=ot("recharts-line",l),k=u&&u.allowDataOverflow,b=d&&d.allowDataOverflow,S=k||b,_=We(w)?this.id:w,N=(n=He(i,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},P=N.r,M=P===void 0?3:P,E=N.strokeWidth,C=E===void 0?2:E,A=VS(i)?i:{},L=A.clipDot,R=L===void 0?!0:L,G=M*2+C;return F.createElement(vt,{className:y},k||b?F.createElement("defs",null,F.createElement("clipPath",{id:"clipPath-".concat(_)},F.createElement("rect",{x:k?h:h-p/2,y:b?f:f-m/2,width:k?p:p*2,height:b?m:m*2})),!R&&F.createElement("clipPath",{id:"clipPath-dots-".concat(_)},F.createElement("rect",{x:h-G/2,y:f-G/2,width:p+G,height:m+G}))):null,!g&&this.renderCurve(S,_),this.renderErrorBar(S,_),(g||i)&&this.renderDots(S,R,_),(!x||v)&&Za.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var o=n.length%2!==0?[].concat(gs(n),[0]):n,i=[],s=0;s<a;++s)i=[].concat(gs(i),gs(o));return i}},{key:"renderDotItem",value:function(n,a){var o;if(F.isValidElement(n))o=F.cloneElement(n,a);else if(Ve(n))o=n(a);else{var i=a.key,s=qw(a,Bq),l=ot("recharts-line-dot",typeof n!="boolean"?n.className:"");o=F.createElement(dh,jc({key:i},s,{className:l}))}return o}}])}(j.PureComponent);Aa(Mr,"displayName","Line");Aa(Mr,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!hi.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Aa(Mr,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,o=e.yAxisTicks,i=e.dataKey,s=e.bandSize,l=e.displayedData,u=e.offset,d=t.layout,f=l.map(function(h,p){var m=Fr(h,i);return d==="horizontal"?{x:nl({axis:r,ticks:a,bandSize:s,entry:h,index:p}),y:We(m)?null:n.scale(m),value:m,payload:h}:{x:We(m)?null:r.scale(m),y:nl({axis:n,ticks:o,bandSize:s,entry:h,index:p}),value:m,payload:h}});return Vn({points:f,layout:d},u)});var Qq=["layout","type","stroke","connectNulls","isRange","ref"],Jq=["key"],H3;function hl(e){"@babel/helpers - typeof";return hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hl(e)}function V3(e,t){if(e==null)return{};var r=eZ(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function eZ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Di(){return Di=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Di.apply(this,arguments)}function Jw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Io(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jw(Object(r),!0).forEach(function(n){Ha(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ek(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Y3(n.key),n)}}function rZ(e,t,r){return t&&ek(e.prototype,t),r&&ek(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function nZ(e,t,r){return t=u0(t),aZ(e,K3()?Reflect.construct(t,r||[],u0(e).constructor):t.apply(e,r))}function aZ(e,t){if(t&&(hl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oZ(e)}function oZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(K3=function(){return!!e})()}function u0(e){return u0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},u0(e)}function iZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xm(e,t)}function Xm(e,t){return Xm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Xm(e,t)}function Ha(e,t,r){return t=Y3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y3(e){var t=sZ(e,"string");return hl(t)=="symbol"?t:t+""}function sZ(e,t){if(hl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ga=function(e){function t(){var r;tZ(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=nZ(this,t,[].concat(a)),Ha(r,"state",{isAnimationFinished:!0}),Ha(r,"id",rs("recharts-area-")),Ha(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Ve(i)&&i()}),Ha(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Ve(i)&&i()}),r}return iZ(t,e),rZ(t,[{key:"renderDots",value:function(n,a,o){var i=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(i&&!s)return null;var l=this.props,u=l.dot,d=l.points,f=l.dataKey,h=He(this.props,!1),p=He(u,!0),m=d.map(function(w,v){var g=Io(Io(Io({key:"dot-".concat(v),r:3},h),p),{},{index:v,cx:w.x,cy:w.y,dataKey:f,value:w.value,payload:w.payload,points:d});return t.renderDotItem(u,g)}),x={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(o,")"):null};return F.createElement(vt,Di({className:"recharts-area-dots"},x),m)}},{key:"renderHorizontalRect",value:function(n){var a=this.props,o=a.baseLine,i=a.points,s=a.strokeWidth,l=i[0].x,u=i[i.length-1].x,d=n*Math.abs(l-u),f=Ho(i.map(function(h){return h.y||0}));return fe(o)&&typeof o=="number"?f=Math.max(o,f):o&&Array.isArray(o)&&o.length&&(f=Math.max(Ho(o.map(function(h){return h.y||0})),f)),fe(f)?F.createElement("rect",{x:l<u?l:l-d,y:0,width:d,height:Math.floor(f+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,o=a.baseLine,i=a.points,s=a.strokeWidth,l=i[0].y,u=i[i.length-1].y,d=n*Math.abs(l-u),f=Ho(i.map(function(h){return h.x||0}));return fe(o)&&typeof o=="number"?f=Math.max(o,f):o&&Array.isArray(o)&&o.length&&(f=Math.max(Ho(o.map(function(h){return h.x||0})),f)),fe(f)?F.createElement("rect",{x:0,y:l<u?l:l-d,width:f+(s?parseInt("".concat(s),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,o,i){var s=this.props,l=s.layout,u=s.type,d=s.stroke,f=s.connectNulls,h=s.isRange;s.ref;var p=V3(s,Qq);return F.createElement(vt,{clipPath:o?"url(#clipPath-".concat(i,")"):null},F.createElement(Fi,Di({},He(p,!0),{points:n,connectNulls:f,type:u,baseLine:a,layout:l,stroke:"none",className:"recharts-area-area"})),d!=="none"&&F.createElement(Fi,Di({},He(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:n})),d!=="none"&&h&&F.createElement(Fi,Di({},He(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(n,a){var o=this,i=this.props,s=i.points,l=i.baseLine,u=i.isAnimationActive,d=i.animationBegin,f=i.animationDuration,h=i.animationEasing,p=i.animationId,m=this.state,x=m.prevPoints,w=m.prevBaseLine;return F.createElement(La,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var g=v.t;if(x){var y=x.length/s.length,k=s.map(function(N,P){var M=Math.floor(P*y);if(x[M]){var E=x[M],C=jr(E.x,N.x),A=jr(E.y,N.y);return Io(Io({},N),{},{x:C(g),y:A(g)})}return N}),b;if(fe(l)&&typeof l=="number"){var S=jr(w,l);b=S(g)}else if(We(l)||Ol(l)){var _=jr(w,0);b=_(g)}else b=l.map(function(N,P){var M=Math.floor(P*y);if(w[M]){var E=w[M],C=jr(E.x,N.x),A=jr(E.y,N.y);return Io(Io({},N),{},{x:C(g),y:A(g)})}return N});return o.renderAreaStatically(k,b,n,a)}return F.createElement(vt,null,F.createElement("defs",null,F.createElement("clipPath",{id:"animationClipPath-".concat(a)},o.renderClipRect(g))),F.createElement(vt,{clipPath:"url(#animationClipPath-".concat(a,")")},o.renderAreaStatically(s,l,n,a)))})}},{key:"renderArea",value:function(n,a){var o=this.props,i=o.points,s=o.baseLine,l=o.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return l&&i&&i.length&&(!d&&h>0||!Ki(d,i)||!Ki(f,s))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(i,s,n,a)}},{key:"render",value:function(){var n,a=this.props,o=a.hide,i=a.dot,s=a.points,l=a.className,u=a.top,d=a.left,f=a.xAxis,h=a.yAxis,p=a.width,m=a.height,x=a.isAnimationActive,w=a.id;if(o||!s||!s.length)return null;var v=this.state.isAnimationFinished,g=s.length===1,y=ot("recharts-area",l),k=f&&f.allowDataOverflow,b=h&&h.allowDataOverflow,S=k||b,_=We(w)?this.id:w,N=(n=He(i,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},P=N.r,M=P===void 0?3:P,E=N.strokeWidth,C=E===void 0?2:E,A=VS(i)?i:{},L=A.clipDot,R=L===void 0?!0:L,G=M*2+C;return F.createElement(vt,{className:y},k||b?F.createElement("defs",null,F.createElement("clipPath",{id:"clipPath-".concat(_)},F.createElement("rect",{x:k?d:d-p/2,y:b?u:u-m/2,width:k?p:p*2,height:b?m:m*2})),!R&&F.createElement("clipPath",{id:"clipPath-dots-".concat(_)},F.createElement("rect",{x:d-G/2,y:u-G/2,width:p+G,height:m+G}))):null,g?null:this.renderArea(S,_),(i||g)&&this.renderDots(S,R,_),(!x||v)&&Za.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(j.PureComponent);H3=ga;Ha(ga,"displayName","Area");Ha(ga,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!hi.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Ha(ga,"getBaseValue",function(e,t,r,n){var a=e.layout,o=e.baseValue,i=t.props.baseValue,s=i??o;if(fe(s)&&typeof s=="number")return s;var l=a==="horizontal"?n:r,u=l.scale.domain();if(l.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return s==="dataMin"?f:s==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return s==="dataMin"?u[0]:s==="dataMax"?u[1]:u[0]});Ha(ga,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,a=e.yAxis,o=e.xAxisTicks,i=e.yAxisTicks,s=e.bandSize,l=e.dataKey,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=t.layout,m=u&&u.length,x=H3.getBaseValue(t,r,n,a),w=p==="horizontal",v=!1,g=f.map(function(k,b){var S;m?S=u[d+b]:(S=Fr(k,l),Array.isArray(S)?v=!0:S=[x,S]);var _=S[1]==null||m&&Fr(k,l)==null;return w?{x:nl({axis:n,ticks:o,bandSize:s,entry:k,index:b}),y:_?null:a.scale(S[1]),value:S,payload:k}:{x:_?null:n.scale(S[1]),y:nl({axis:a,ticks:i,bandSize:s,entry:k,index:b}),value:S,payload:k}}),y;return m||v?y=g.map(function(k){var b=Array.isArray(k.value)?k.value[0]:null;return w?{x:k.x,y:b!=null&&k.y!=null?a.scale(b):null}:{x:b!=null?n.scale(b):null,y:k.y}}):y=w?a.scale(x):n.scale(x),Io({points:g,baseLine:y,layout:p,isRange:v},h)});Ha(ga,"renderDotItem",function(e,t){var r;if(F.isValidElement(e))r=F.cloneElement(e,t);else if(Ve(e))r=e(t);else{var n=ot("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,o=V3(t,Jq);r=F.createElement(dh,Di({},o,{key:a,className:n}))}return r});function pl(e){"@babel/helpers - typeof";return pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pl(e)}function lZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cZ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Q3(n.key),n)}}function uZ(e,t,r){return t&&cZ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function fZ(e,t,r){return t=f0(t),dZ(e,q3()?Reflect.construct(t,r||[],f0(e).constructor):t.apply(e,r))}function dZ(e,t){if(t&&(pl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hZ(e)}function hZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q3=function(){return!!e})()}function f0(e){return f0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},f0(e)}function pZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hm(e,t)}function Hm(e,t){return Hm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Hm(e,t)}function Z3(e,t,r){return t=Q3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q3(e){var t=gZ(e,"string");return pl(t)=="symbol"?t:t+""}function gZ(e,t){if(pl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var vh=function(e){function t(){return lZ(this,t),fZ(this,t,arguments)}return pZ(t,e),uZ(t,[{key:"render",value:function(){return null}}])}(j.Component);Z3(vh,"displayName","ZAxis");Z3(vh,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var mZ=["option","isActive"];function Nc(){return Nc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nc.apply(this,arguments)}function yZ(e,t){if(e==null)return{};var r=vZ(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function vZ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function xZ(e){var t=e.option,r=e.isActive,n=yZ(e,mZ);return typeof t=="string"?j.createElement(Em,Nc({option:j.createElement(J0,Nc({type:t},n)),isActive:r,shapeType:"symbols"},n)):j.createElement(Em,Nc({option:t,isActive:r,shapeType:"symbols"},n))}function gl(e){"@babel/helpers - typeof";return gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gl(e)}function _c(){return _c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_c.apply(this,arguments)}function tk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ua(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tk(Object(r),!0).forEach(function(n){Yo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rk(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eN(n.key),n)}}function wZ(e,t,r){return t&&rk(e.prototype,t),r&&rk(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function kZ(e,t,r){return t=d0(t),SZ(e,J3()?Reflect.construct(t,r||[],d0(e).constructor):t.apply(e,r))}function SZ(e,t){if(t&&(gl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jZ(e)}function jZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function J3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J3=function(){return!!e})()}function d0(e){return d0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},d0(e)}function NZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vm(e,t)}function Vm(e,t){return Vm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Vm(e,t)}function Yo(e,t,r){return t=eN(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eN(e){var t=_Z(e,"string");return gl(t)=="symbol"?t:t+""}function _Z(e,t){if(gl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Nn=function(e){function t(){var r;bZ(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=kZ(this,t,[].concat(a)),Yo(r,"state",{isAnimationFinished:!1}),Yo(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0})}),Yo(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1})}),Yo(r,"id",rs("recharts-scatter-")),r}return NZ(t,e),wZ(t,[{key:"renderSymbolsStatically",value:function(n){var a=this,o=this.props,i=o.shape,s=o.activeShape,l=o.activeIndex,u=He(this.props,!1);return n.map(function(d,f){var h=l===f,p=h?s:i,m=ua(ua({},u),d);return F.createElement(vt,_c({className:"recharts-scatter-symbol",key:"symbol-".concat(d==null?void 0:d.cx,"-").concat(d==null?void 0:d.cy,"-").concat(d==null?void 0:d.size,"-").concat(f)},Xc(a.props,d,f),{role:"img"}),F.createElement(xZ,_c({option:p,isActive:h,key:"symbol-".concat(f)},m)))})}},{key:"renderSymbolsWithAnimation",value:function(){var n=this,a=this.props,o=a.points,i=a.isAnimationActive,s=a.animationBegin,l=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state.prevPoints;return F.createElement(La,{begin:s,duration:l,isActive:i,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var p=h.t,m=o.map(function(x,w){var v=f&&f[w];if(v){var g=jr(v.cx,x.cx),y=jr(v.cy,x.cy),k=jr(v.size,x.size);return ua(ua({},x),{},{cx:g(p),cy:y(p),size:k(p)})}var b=jr(0,x.size);return ua(ua({},x),{},{size:b(p)})});return F.createElement(vt,null,n.renderSymbolsStatically(m))})}},{key:"renderSymbols",value:function(){var n=this.props,a=n.points,o=n.isAnimationActive,i=this.state.prevPoints;return o&&a&&a.length&&(!i||!Ki(i,a))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(a)}},{key:"renderErrorBar",value:function(){var n=this.props.isAnimationActive;if(n&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,i=a.xAxis,s=a.yAxis,l=a.children,u=Fn(l,Dl);return u?u.map(function(d,f){var h=d.props,p=h.direction,m=h.dataKey;return F.cloneElement(d,{key:"".concat(p,"-").concat(m,"-").concat(o[f]),data:o,xAxis:i,yAxis:s,layout:p==="x"?"vertical":"horizontal",dataPointFormatter:function(w,v){return{x:w.cx,y:w.cy,value:p==="x"?+w.node.x:+w.node.y,errorVal:Fr(w,v)}}})}):null}},{key:"renderLine",value:function(){var n=this.props,a=n.points,o=n.line,i=n.lineType,s=n.lineJointType,l=He(this.props,!1),u=He(o,!1),d,f;if(i==="joint")d=a.map(function(y){return{x:y.cx,y:y.cy}});else if(i==="fitting"){var h=e6(a),p=h.xmin,m=h.xmax,x=h.a,w=h.b,v=function(k){return x*k+w};d=[{x:p,y:v(p)},{x:m,y:v(m)}]}var g=ua(ua(ua({},l),{},{fill:"none",stroke:l&&l.fill},u),{},{points:d});return F.isValidElement(o)?f=F.cloneElement(o,g):Ve(o)?f=o(g):f=F.createElement(Fi,_c({},g,{type:s})),F.createElement(vt,{className:"recharts-scatter-line",key:"recharts-scatter-line"},f)}},{key:"render",value:function(){var n=this.props,a=n.hide,o=n.points,i=n.line,s=n.className,l=n.xAxis,u=n.yAxis,d=n.left,f=n.top,h=n.width,p=n.height,m=n.id,x=n.isAnimationActive;if(a||!o||!o.length)return null;var w=this.state.isAnimationFinished,v=ot("recharts-scatter",s),g=l&&l.allowDataOverflow,y=u&&u.allowDataOverflow,k=g||y,b=We(m)?this.id:m;return F.createElement(vt,{className:v,clipPath:k?"url(#clipPath-".concat(b,")"):null},g||y?F.createElement("defs",null,F.createElement("clipPath",{id:"clipPath-".concat(b)},F.createElement("rect",{x:g?d:d-h/2,y:y?f:f-p/2,width:g?h:h*2,height:y?p:p*2}))):null,i&&this.renderLine(),this.renderErrorBar(),F.createElement(vt,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!x||w)&&Za.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}}])}(j.PureComponent);Yo(Nn,"displayName","Scatter");Yo(Nn,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!hi.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});Yo(Nn,"getComposedData",function(e){var t=e.xAxis,r=e.yAxis,n=e.zAxis,a=e.item,o=e.displayedData,i=e.xAxisTicks,s=e.yAxisTicks,l=e.offset,u=a.props.tooltipType,d=Fn(a.props.children,Sv),f=We(t.dataKey)?a.props.dataKey:t.dataKey,h=We(r.dataKey)?a.props.dataKey:r.dataKey,p=n&&n.dataKey,m=n?n.range:vh.defaultProps.range,x=m&&m[0],w=t.scale.bandwidth?t.scale.bandwidth():0,v=r.scale.bandwidth?r.scale.bandwidth():0,g=o.map(function(y,k){var b=Fr(y,f),S=Fr(y,h),_=!We(p)&&Fr(y,p)||"-",N=[{name:We(t.dataKey)?a.props.name:t.name||t.dataKey,unit:t.unit||"",value:b,payload:y,dataKey:f,type:u},{name:We(r.dataKey)?a.props.name:r.name||r.dataKey,unit:r.unit||"",value:S,payload:y,dataKey:h,type:u}];_!=="-"&&N.push({name:n.name||n.dataKey,unit:n.unit||"",value:_,payload:y,dataKey:p,type:u});var P=nl({axis:t,ticks:i,bandSize:w,entry:y,index:k,dataKey:f}),M=nl({axis:r,ticks:s,bandSize:v,entry:y,index:k,dataKey:h}),E=_!=="-"?n.scale(_):x,C=Math.sqrt(Math.max(E,0)/Math.PI);return ua(ua({},y),{},{cx:P,cy:M,x:P-C,y:M-C,xAxis:t,yAxis:r,zAxis:n,width:2*C,height:2*C,size:E,node:{x:b,y:S,z:_},tooltipPayload:N,tooltipPosition:{x:P,y:M},payload:y},d&&d[k]&&d[k].props)});return ua({points:g},l)});function ml(e){"@babel/helpers - typeof";return ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ml(e)}function PZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OZ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nN(n.key),n)}}function CZ(e,t,r){return t&&OZ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function MZ(e,t,r){return t=h0(t),AZ(e,tN()?Reflect.construct(t,r||[],h0(e).constructor):t.apply(e,r))}function AZ(e,t){if(t&&(ml(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EZ(e)}function EZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tN=function(){return!!e})()}function h0(e){return h0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},h0(e)}function TZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Km(e,t)}function Km(e,t){return Km=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Km(e,t)}function rN(e,t,r){return t=nN(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nN(e){var t=$Z(e,"string");return ml(t)=="symbol"?t:t+""}function $Z(e,t){if(ml(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ml(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Ym(){return Ym=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ym.apply(this,arguments)}function DZ(e){var t=e.xAxisId,r=ex(),n=tx(),a=E3(t);return a==null?null:j.createElement(Rl,Ym({},a,{className:ot("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(i){return po(i,!0)}}))}var zn=function(e){function t(){return PZ(this,t),MZ(this,t,arguments)}return TZ(t,e),CZ(t,[{key:"render",value:function(){return j.createElement(DZ,this.props)}}])}(j.Component);rN(zn,"displayName","XAxis");rN(zn,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function yl(e){"@babel/helpers - typeof";return yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yl(e)}function RZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function IZ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iN(n.key),n)}}function LZ(e,t,r){return t&&IZ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function BZ(e,t,r){return t=p0(t),FZ(e,aN()?Reflect.construct(t,r||[],p0(e).constructor):t.apply(e,r))}function FZ(e,t){if(t&&(yl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zZ(e)}function zZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aN=function(){return!!e})()}function p0(e){return p0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},p0(e)}function GZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qm(e,t)}function qm(e,t){return qm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},qm(e,t)}function oN(e,t,r){return t=iN(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iN(e){var t=UZ(e,"string");return yl(t)=="symbol"?t:t+""}function UZ(e,t){if(yl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Zm(){return Zm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zm.apply(this,arguments)}var WZ=function(t){var r=t.yAxisId,n=ex(),a=tx(),o=T3(r);return o==null?null:j.createElement(Rl,Zm({},o,{className:ot("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(s){return po(s,!0)}}))},Gn=function(e){function t(){return RZ(this,t),BZ(this,t,arguments)}return GZ(t,e),LZ(t,[{key:"render",value:function(){return j.createElement(WZ,this.props)}}])}(j.Component);oN(Gn,"displayName","YAxis");oN(Gn,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function nk(e){return KZ(e)||VZ(e)||HZ(e)||XZ()}function XZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HZ(e,t){if(e){if(typeof e=="string")return Qm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qm(e,t)}}function VZ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function KZ(e){if(Array.isArray(e))return Qm(e)}function Qm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Jm=function(t,r,n,a,o){var i=Fn(t,Ko),s=Fn(t,Fu),l=[].concat(nk(i),nk(s)),u=Fn(t,zu),d="".concat(a,"Id"),f=a[0],h=r;if(l.length&&(h=l.reduce(function(x,w){if(w.props[d]===n&&Qa(w.props,"extendDomain")&&fe(w.props[f])){var v=w.props[f];return[Math.min(x[0],v),Math.max(x[1],v)]}return x},h)),u.length){var p="".concat(f,"1"),m="".concat(f,"2");h=u.reduce(function(x,w){if(w.props[d]===n&&Qa(w.props,"extendDomain")&&fe(w.props[p])&&fe(w.props[m])){var v=w.props[p],g=w.props[m];return[Math.min(x[0],v,g),Math.max(x[1],v,g)]}return x},h)}return o&&o.length&&(h=o.reduce(function(x,w){return fe(w)?[Math.min(x[0],w),Math.max(x[1],w)]:x},h)),h},sN={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function o(l,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new a(d,f||l,h),m=r?r+u:u;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function i(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},s.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,m=new Array(p);h<p;h++)m[h]=f[h].fn;return m},s.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,d,f,h,p,m){var x=r?r+u:u;if(!this._events[x])return!1;var w=this._events[x],v=arguments.length,g,y;if(w.fn){switch(w.once&&this.removeListener(u,w.fn,void 0,!0),v){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,d),!0;case 3:return w.fn.call(w.context,d,f),!0;case 4:return w.fn.call(w.context,d,f,h),!0;case 5:return w.fn.call(w.context,d,f,h,p),!0;case 6:return w.fn.call(w.context,d,f,h,p,m),!0}for(y=1,g=new Array(v-1);y<v;y++)g[y-1]=arguments[y];w.fn.apply(w.context,g)}else{var k=w.length,b;for(y=0;y<k;y++)switch(w[y].once&&this.removeListener(u,w[y].fn,void 0,!0),v){case 1:w[y].fn.call(w[y].context);break;case 2:w[y].fn.call(w[y].context,d);break;case 3:w[y].fn.call(w[y].context,d,f);break;case 4:w[y].fn.call(w[y].context,d,f,h);break;default:if(!g)for(b=1,g=new Array(v-1);b<v;b++)g[b-1]=arguments[b];w[y].fn.apply(w[y].context,g)}}return!0},s.prototype.on=function(u,d,f){return o(this,u,d,f,!1)},s.prototype.once=function(u,d,f){return o(this,u,d,f,!0)},s.prototype.removeListener=function(u,d,f,h){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return i(this,p),this;var m=this._events[p];if(m.fn)m.fn===d&&(!h||m.once)&&(!f||m.context===f)&&i(this,p);else{for(var x=0,w=[],v=m.length;x<v;x++)(m[x].fn!==d||h&&!m[x].once||f&&m[x].context!==f)&&w.push(m[x]);w.length?this._events[p]=w.length===1?w[0]:w:i(this,p)}return this},s.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&i(this,d)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s})(sN);var YZ=sN.exports;const qZ=Lt(YZ);var Pp=new qZ,Op="recharts.syncMouseEvents";function Nu(e){"@babel/helpers - typeof";return Nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nu(e)}function ZZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QZ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lN(n.key),n)}}function JZ(e,t,r){return t&&QZ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cp(e,t,r){return t=lN(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lN(e){var t=eQ(e,"string");return Nu(t)=="symbol"?t:t+""}function eQ(e,t){if(Nu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var tQ=function(){function e(){ZZ(this,e),Cp(this,"activeIndex",0),Cp(this,"coordinateList",[]),Cp(this,"layout","horizontal")}return JZ(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,o=a===void 0?null:a,i=r.container,s=i===void 0?null:i,l=r.layout,u=l===void 0?null:l,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=o??this.coordinateList)!==null&&n!==void 0?n:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),o=a.x,i=a.y,s=a.height,l=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=o+l+u,h=i+this.offset.top+s/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function rQ(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&fe(n)&&fe(a))return!0}return!1}function nQ(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function cN(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,o=e.endAngle,i=rn(t,r,n,a),s=rn(t,r,n,o);return{points:[i,s],cx:t,cy:r,radius:n,startAngle:a,endAngle:o}}function aQ(e,t,r){var n,a,o,i;if(e==="horizontal")n=t.x,o=n,a=r.top,i=r.top+r.height;else if(e==="vertical")a=t.y,i=a,n=r.left,o=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var s=t.cx,l=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=rn(s,l,u,f),p=rn(s,l,d,f);n=h.x,a=h.y,o=p.x,i=p.y}else return cN(t);return[{x:n,y:a},{x:o,y:i}]}function _u(e){"@babel/helpers - typeof";return _u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_u(e)}function ak(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _f(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ak(Object(r),!0).forEach(function(n){oQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ak(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oQ(e,t,r){return t=iQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iQ(e){var t=sQ(e,"string");return _u(t)=="symbol"?t:t+""}function sQ(e,t){if(_u(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_u(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lQ(e){var t,r,n=e.element,a=e.tooltipEventType,o=e.isActive,i=e.activeCoordinate,s=e.activePayload,l=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!o||!i||h!=="ScatterChart"&&a!=="axis")return null;var m,x=Fi;if(h==="ScatterChart")m=i,x=$H;else if(h==="BarChart")m=nQ(f,i,l,d),x=Yv;else if(f==="radial"){var w=cN(i),v=w.cx,g=w.cy,y=w.radius,k=w.startAngle,b=w.endAngle;m={cx:v,cy:g,startAngle:k,endAngle:b,innerRadius:y,outerRadius:y},x=a3}else m={points:aQ(f,i,l)},x=Fi;var S=_f(_f(_f(_f({stroke:"#ccc",pointerEvents:"none"},l),m),He(p,!1)),{},{payload:s,payloadIndex:u,className:ot("recharts-tooltip-cursor",p.className)});return j.isValidElement(p)?j.cloneElement(p,S):j.createElement(x,S)}var cQ=["item"],uQ=["children","className","width","height","style","compact","title","desc"];function vl(e){"@babel/helpers - typeof";return vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vl(e)}function Ms(){return Ms=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ms.apply(this,arguments)}function ok(e,t){return hQ(e)||dQ(e,t)||fN(e,t)||fQ()}function fQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dQ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return s}}function hQ(e){if(Array.isArray(e))return e}function ik(e,t){if(e==null)return{};var r=pQ(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function pQ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function gQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dN(n.key),n)}}function yQ(e,t,r){return t&&mQ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function vQ(e,t,r){return t=g0(t),xQ(e,uN()?Reflect.construct(t,r||[],g0(e).constructor):t.apply(e,r))}function xQ(e,t){if(t&&(vl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bQ(e)}function bQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uN=function(){return!!e})()}function g0(e){return g0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},g0(e)}function wQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ey(e,t)}function ey(e,t){return ey=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ey(e,t)}function xl(e){return jQ(e)||SQ(e)||fN(e)||kQ()}function kQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fN(e,t){if(e){if(typeof e=="string")return ty(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ty(e,t)}}function SQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function jQ(e){if(Array.isArray(e))return ty(e)}function ty(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ee(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sk(Object(r),!0).forEach(function(n){Ie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ie(e,t,r){return t=dN(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dN(e){var t=NQ(e,"string");return vl(t)=="symbol"?t:t+""}function NQ(e,t){if(vl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _Q={xAxis:["bottom","top"],yAxis:["left","right"]},PQ={width:"100%",height:"100%"},hN={x:0,y:0};function Pf(e){return e}var OQ=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},CQ=function(t,r,n,a){var o=r.find(function(d){return d&&d.index===n});if(o){if(t==="horizontal")return{x:o.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:o.coordinate};if(t==="centric"){var i=o.coordinate,s=a.radius;return ee(ee(ee({},a),rn(a.cx,a.cy,s,i)),{},{angle:i,radius:s})}var l=o.coordinate,u=a.angle;return ee(ee(ee({},a),rn(a.cx,a.cy,l,u)),{},{angle:u,radius:l})}return hN},xh=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,o=r.dataEndIndex,i=(n??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(xl(s),xl(u)):s},[]);return i.length>0?i:t&&t.length&&fe(a)&&fe(o)?t.slice(a,o+1):[]};function pN(e){return e==="number"?[0,"auto"]:void 0}var ry=function(t,r,n,a){var o=t.graphicalItems,i=t.tooltipAxis,s=xh(r,t);return n<0||!o||!o.length||n>=s.length?null:o.reduce(function(l,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(i.dataKey&&!i.allowDuplicatedCategory){var p=f===void 0?s:f;h=hd(p,i.dataKey,a)}else h=f&&f[n]||s[n];return h?[].concat(xl(l),[t3(u,h)]):l},[])},lk=function(t,r,n,a){var o=a||{x:t.chartX,y:t.chartY},i=OQ(o,n),s=t.orderedTooltipTicks,l=t.tooltipAxis,u=t.tooltipTicks,d=dU(i,s,u,l);if(d>=0&&u){var f=u[d]&&u[d].value,h=ry(t,r,d,f),p=CQ(n,s,d,o);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},MQ=function(t,r){var n=r.axes,a=r.graphicalItems,o=r.axisType,i=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,p=Q4(d,o);return n.reduce(function(m,x){var w,v=x.type.defaultProps!==void 0?ee(ee({},x.type.defaultProps),x.props):x.props,g=v.type,y=v.dataKey,k=v.allowDataOverflow,b=v.allowDuplicatedCategory,S=v.scale,_=v.ticks,N=v.includeHidden,P=v[i];if(m[P])return m;var M=xh(t.data,{graphicalItems:a.filter(function(Q){var D,J=i in Q.props?Q.props[i]:(D=Q.type.defaultProps)===null||D===void 0?void 0:D[i];return J===P}),dataStartIndex:l,dataEndIndex:u}),E=M.length,C,A,L;rQ(v.domain,k,g)&&(C=mm(v.domain,null,k),p&&(g==="number"||S!=="auto")&&(L=kc(M,y,"category")));var R=pN(g);if(!C||C.length===0){var G,O=(G=v.domain)!==null&&G!==void 0?G:R;if(y){if(C=kc(M,y,g),g==="category"&&p){var T=JA(C);b&&T?(A=C,C=Jd(0,E)):b||(C=B2(O,C,x).reduce(function(Q,D){return Q.indexOf(D)>=0?Q:[].concat(xl(Q),[D])},[]))}else if(g==="category")b?C=C.filter(function(Q){return Q!==""&&!We(Q)}):C=B2(O,C,x).reduce(function(Q,D){return Q.indexOf(D)>=0||D===""||We(D)?Q:[].concat(xl(Q),[D])},[]);else if(g==="number"){var B=yU(M,a.filter(function(Q){var D,J,q=i in Q.props?Q.props[i]:(D=Q.type.defaultProps)===null||D===void 0?void 0:D[i],$="hide"in Q.props?Q.props.hide:(J=Q.type.defaultProps)===null||J===void 0?void 0:J.hide;return q===P&&(N||!$)}),y,o,d);B&&(C=B)}p&&(g==="number"||S!=="auto")&&(L=kc(M,y,"category"))}else p?C=Jd(0,E):s&&s[P]&&s[P].hasStack&&g==="number"?C=h==="expand"?[0,1]:e3(s[P].stackGroups,l,u):C=Z4(M,a.filter(function(Q){var D=i in Q.props?Q.props[i]:Q.type.defaultProps[i],J="hide"in Q.props?Q.props.hide:Q.type.defaultProps.hide;return D===P&&(N||!J)}),g,d,!0);if(g==="number")C=Jm(f,C,P,o,_),O&&(C=mm(O,C,k));else if(g==="category"&&O){var z=O,te=C.every(function(Q){return z.indexOf(Q)>=0});te&&(C=z)}}return ee(ee({},m),{},Ie({},P,ee(ee({},v),{},{axisType:o,domain:C,categoricalDomain:L,duplicateDomain:A,originalDomain:(w=v.domain)!==null&&w!==void 0?w:R,isCategorical:p,layout:d})))},{})},AQ=function(t,r){var n=r.graphicalItems,a=r.Axis,o=r.axisType,i=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=xh(t.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:u}),p=h.length,m=Q4(d,o),x=-1;return n.reduce(function(w,v){var g=v.type.defaultProps!==void 0?ee(ee({},v.type.defaultProps),v.props):v.props,y=g[i],k=pN("number");if(!w[y]){x++;var b;return m?b=Jd(0,p):s&&s[y]&&s[y].hasStack?(b=e3(s[y].stackGroups,l,u),b=Jm(f,b,y,o)):(b=mm(k,Z4(h,n.filter(function(S){var _,N,P=i in S.props?S.props[i]:(_=S.type.defaultProps)===null||_===void 0?void 0:_[i],M="hide"in S.props?S.props.hide:(N=S.type.defaultProps)===null||N===void 0?void 0:N.hide;return P===y&&!M}),"number",d),a.defaultProps.allowDataOverflow),b=Jm(f,b,y,o)),ee(ee({},w),{},Ie({},y,ee(ee({axisType:o},a.defaultProps),{},{hide:!0,orientation:ya(_Q,"".concat(o,".").concat(x%2),null),domain:b,originalDomain:k,isCategorical:m,layout:d})))}return w},{})},EQ=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,o=r.AxisComp,i=r.graphicalItems,s=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),h=Fn(d,o),p={};return h&&h.length?p=MQ(t,{axes:h,graphicalItems:i,axisType:a,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):i&&i.length&&(p=AQ(t,{Axis:o,graphicalItems:i,axisType:a,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),p},TQ=function(t){var r=Uo(t),n=po(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:wv(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Ud(r,n)}},ck=function(t){var r=t.children,n=t.defaultShowTooltip,a=qn(r,il),o=0,i=0;return t.data&&t.data.length!==0&&(i=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(o=a.props.startIndex),a.props.endIndex>=0&&(i=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:i,activeTooltipIndex:-1,isTooltipActive:!!n}},$Q=function(t){return!t||!t.length?!1:t.some(function(r){var n=mo(r&&r.type);return n&&n.indexOf("Bar")>=0})},uk=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},DQ=function(t,r){var n=t.props,a=t.graphicalItems,o=t.xAxisMap,i=o===void 0?{}:o,s=t.yAxisMap,l=s===void 0?{}:s,u=n.width,d=n.height,f=n.children,h=n.margin||{},p=qn(f,il),m=qn(f,Ya),x=Object.keys(l).reduce(function(b,S){var _=l[S],N=_.orientation;return!_.mirror&&!_.hide?ee(ee({},b),{},Ie({},N,b[N]+_.width)):b},{left:h.left||0,right:h.right||0}),w=Object.keys(i).reduce(function(b,S){var _=i[S],N=_.orientation;return!_.mirror&&!_.hide?ee(ee({},b),{},Ie({},N,ya(b,"".concat(N))+_.height)):b},{top:h.top||0,bottom:h.bottom||0}),v=ee(ee({},w),x),g=v.bottom;p&&(v.bottom+=p.props.height||il.defaultProps.height),m&&r&&(v=gU(v,a,n,r));var y=u-v.left-v.right,k=d-v.top-v.bottom;return ee(ee({brushBottom:g},v),{},{width:Math.max(y,0),height:Math.max(k,0)})},RQ=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},ox=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,o=a===void 0?"axis":a,i=t.validateTooltipEventTypes,s=i===void 0?["axis"]:i,l=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(v,g){var y=g.graphicalItems,k=g.stackGroups,b=g.offset,S=g.updateId,_=g.dataStartIndex,N=g.dataEndIndex,P=v.barSize,M=v.layout,E=v.barGap,C=v.barCategoryGap,A=v.maxBarSize,L=uk(M),R=L.numericAxisName,G=L.cateAxisName,O=$Q(y),T=[];return y.forEach(function(B,z){var te=xh(v.data,{graphicalItems:[B],dataStartIndex:_,dataEndIndex:N}),Q=B.type.defaultProps!==void 0?ee(ee({},B.type.defaultProps),B.props):B.props,D=Q.dataKey,J=Q.maxBarSize,q=Q["".concat(R,"Id")],$=Q["".concat(G,"Id")],ne={},ce=l.reduce(function(Le,it){var xt=g["".concat(it.axisType,"Map")],yr=Q["".concat(it.axisType,"Id")];xt&&xt[yr]||it.axisType==="zAxis"||qi();var st=xt[yr];return ee(ee({},Le),{},Ie(Ie({},it.axisType,st),"".concat(it.axisType,"Ticks"),po(st)))},ne),Y=ce[G],ue=ce["".concat(G,"Ticks")],he=k&&k[q]&&k[q].hasStack&&CU(B,k[q].stackGroups),K=mo(B.type).indexOf("Bar")>=0,Oe=Ud(Y,ue),Se=[],oe=O&&hU({barSize:P,stackGroups:k,totalSize:RQ(ce,G)});if(K){var we,ve,Ke=We(J)?A:J,ge=(we=(ve=Ud(Y,ue,!0))!==null&&ve!==void 0?ve:Ke)!==null&&we!==void 0?we:0;Se=pU({barGap:E,barCategoryGap:C,bandSize:ge!==Oe?ge:Oe,sizeList:oe[$],maxBarSize:Ke}),ge!==Oe&&(Se=Se.map(function(Le){return ee(ee({},Le),{},{position:ee(ee({},Le.position),{},{offset:Le.position.offset-ge/2})})}))}var xe=B&&B.type&&B.type.getComposedData;xe&&T.push({props:ee(ee({},xe(ee(ee({},ce),{},{displayedData:te,props:v,dataKey:D,item:B,bandSize:Oe,barPosition:Se,offset:b,stackedData:he,layout:M,dataStartIndex:_,dataEndIndex:N}))),{},Ie(Ie(Ie({key:B.key||"item-".concat(z)},R,ce[R]),G,ce[G]),"animationId",S)),childIndex:d6(B,v.children),item:B})}),T},p=function(v,g){var y=v.props,k=v.dataStartIndex,b=v.dataEndIndex,S=v.updateId;if(!T1({props:y}))return null;var _=y.children,N=y.layout,P=y.stackOffset,M=y.data,E=y.reverseStackOrder,C=uk(N),A=C.numericAxisName,L=C.cateAxisName,R=Fn(_,n),G=_U(M,R,"".concat(A,"Id"),"".concat(L,"Id"),P,E),O=l.reduce(function(Q,D){var J="".concat(D.axisType,"Map");return ee(ee({},Q),{},Ie({},J,EQ(y,ee(ee({},D),{},{graphicalItems:R,stackGroups:D.axisType===A&&G,dataStartIndex:k,dataEndIndex:b}))))},{}),T=DQ(ee(ee({},O),{},{props:y,graphicalItems:R}),g==null?void 0:g.legendBBox);Object.keys(O).forEach(function(Q){O[Q]=d(y,O[Q],T,Q.replace("Map",""),r)});var B=O["".concat(L,"Map")],z=TQ(B),te=h(y,ee(ee({},O),{},{dataStartIndex:k,dataEndIndex:b,updateId:S,graphicalItems:R,stackGroups:G,offset:T}));return ee(ee({formattedGraphicalItems:te,graphicalItems:R,offset:T,stackGroups:G},z),O)},m=function(w){function v(g){var y,k,b;return gQ(this,v),b=vQ(this,v,[g]),Ie(b,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ie(b,"accessibilityManager",new tQ),Ie(b,"handleLegendBBoxUpdate",function(S){if(S){var _=b.state,N=_.dataStartIndex,P=_.dataEndIndex,M=_.updateId;b.setState(ee({legendBBox:S},p({props:b.props,dataStartIndex:N,dataEndIndex:P,updateId:M},ee(ee({},b.state),{},{legendBBox:S}))))}}),Ie(b,"handleReceiveSyncEvent",function(S,_,N){if(b.props.syncId===S){if(N===b.eventEmitterSymbol&&typeof b.props.syncMethod!="function")return;b.applySyncEvent(_)}}),Ie(b,"handleBrushChange",function(S){var _=S.startIndex,N=S.endIndex;if(_!==b.state.dataStartIndex||N!==b.state.dataEndIndex){var P=b.state.updateId;b.setState(function(){return ee({dataStartIndex:_,dataEndIndex:N},p({props:b.props,dataStartIndex:_,dataEndIndex:N,updateId:P},b.state))}),b.triggerSyncEvent({dataStartIndex:_,dataEndIndex:N})}}),Ie(b,"handleMouseEnter",function(S){var _=b.getMouseInfo(S);if(_){var N=ee(ee({},_),{},{isTooltipActive:!0});b.setState(N),b.triggerSyncEvent(N);var P=b.props.onMouseEnter;Ve(P)&&P(N,S)}}),Ie(b,"triggeredAfterMouseMove",function(S){var _=b.getMouseInfo(S),N=_?ee(ee({},_),{},{isTooltipActive:!0}):{isTooltipActive:!1};b.setState(N),b.triggerSyncEvent(N);var P=b.props.onMouseMove;Ve(P)&&P(N,S)}),Ie(b,"handleItemMouseEnter",function(S){b.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),Ie(b,"handleItemMouseLeave",function(){b.setState(function(){return{isTooltipActive:!1}})}),Ie(b,"handleMouseMove",function(S){S.persist(),b.throttleTriggeredAfterMouseMove(S)}),Ie(b,"handleMouseLeave",function(S){b.throttleTriggeredAfterMouseMove.cancel();var _={isTooltipActive:!1};b.setState(_),b.triggerSyncEvent(_);var N=b.props.onMouseLeave;Ve(N)&&N(_,S)}),Ie(b,"handleOuterEvent",function(S){var _=f6(S),N=ya(b.props,"".concat(_));if(_&&Ve(N)){var P,M;/.*touch.*/i.test(_)?M=b.getMouseInfo(S.changedTouches[0]):M=b.getMouseInfo(S),N((P=M)!==null&&P!==void 0?P:{},S)}}),Ie(b,"handleClick",function(S){var _=b.getMouseInfo(S);if(_){var N=ee(ee({},_),{},{isTooltipActive:!0});b.setState(N),b.triggerSyncEvent(N);var P=b.props.onClick;Ve(P)&&P(N,S)}}),Ie(b,"handleMouseDown",function(S){var _=b.props.onMouseDown;if(Ve(_)){var N=b.getMouseInfo(S);_(N,S)}}),Ie(b,"handleMouseUp",function(S){var _=b.props.onMouseUp;if(Ve(_)){var N=b.getMouseInfo(S);_(N,S)}}),Ie(b,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&b.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),Ie(b,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&b.handleMouseDown(S.changedTouches[0])}),Ie(b,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&b.handleMouseUp(S.changedTouches[0])}),Ie(b,"handleDoubleClick",function(S){var _=b.props.onDoubleClick;if(Ve(_)){var N=b.getMouseInfo(S);_(N,S)}}),Ie(b,"handleContextMenu",function(S){var _=b.props.onContextMenu;if(Ve(_)){var N=b.getMouseInfo(S);_(N,S)}}),Ie(b,"triggerSyncEvent",function(S){b.props.syncId!==void 0&&Pp.emit(Op,b.props.syncId,S,b.eventEmitterSymbol)}),Ie(b,"applySyncEvent",function(S){var _=b.props,N=_.layout,P=_.syncMethod,M=b.state.updateId,E=S.dataStartIndex,C=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)b.setState(ee({dataStartIndex:E,dataEndIndex:C},p({props:b.props,dataStartIndex:E,dataEndIndex:C,updateId:M},b.state)));else if(S.activeTooltipIndex!==void 0){var A=S.chartX,L=S.chartY,R=S.activeTooltipIndex,G=b.state,O=G.offset,T=G.tooltipTicks;if(!O)return;if(typeof P=="function")R=P(T,S);else if(P==="value"){R=-1;for(var B=0;B<T.length;B++)if(T[B].value===S.activeLabel){R=B;break}}var z=ee(ee({},O),{},{x:O.left,y:O.top}),te=Math.min(A,z.x+z.width),Q=Math.min(L,z.y+z.height),D=T[R]&&T[R].value,J=ry(b.state,b.props.data,R),q=T[R]?{x:N==="horizontal"?T[R].coordinate:te,y:N==="horizontal"?Q:T[R].coordinate}:hN;b.setState(ee(ee({},S),{},{activeLabel:D,activeCoordinate:q,activePayload:J,activeTooltipIndex:R}))}else b.setState(S)}),Ie(b,"renderCursor",function(S){var _,N=b.state,P=N.isTooltipActive,M=N.activeCoordinate,E=N.activePayload,C=N.offset,A=N.activeTooltipIndex,L=N.tooltipAxisBandSize,R=b.getTooltipEventType(),G=(_=S.props.active)!==null&&_!==void 0?_:P,O=b.props.layout,T=S.key||"_recharts-cursor";return F.createElement(lQ,{key:T,activeCoordinate:M,activePayload:E,activeTooltipIndex:A,chartName:r,element:S,isActive:G,layout:O,offset:C,tooltipAxisBandSize:L,tooltipEventType:R})}),Ie(b,"renderPolarAxis",function(S,_,N){var P=ya(S,"type.axisType"),M=ya(b.state,"".concat(P,"Map")),E=S.type.defaultProps,C=E!==void 0?ee(ee({},E),S.props):S.props,A=M&&M[C["".concat(P,"Id")]];return j.cloneElement(S,ee(ee({},A),{},{className:ot(P,A.className),key:S.key||"".concat(_,"-").concat(N),ticks:po(A,!0)}))}),Ie(b,"renderPolarGrid",function(S){var _=S.props,N=_.radialLines,P=_.polarAngles,M=_.polarRadius,E=b.state,C=E.radiusAxisMap,A=E.angleAxisMap,L=Uo(C),R=Uo(A),G=R.cx,O=R.cy,T=R.innerRadius,B=R.outerRadius;return j.cloneElement(S,{polarAngles:Array.isArray(P)?P:po(R,!0).map(function(z){return z.coordinate}),polarRadius:Array.isArray(M)?M:po(L,!0).map(function(z){return z.coordinate}),cx:G,cy:O,innerRadius:T,outerRadius:B,key:S.key||"polar-grid",radialLines:N})}),Ie(b,"renderLegend",function(){var S=b.state.formattedGraphicalItems,_=b.props,N=_.children,P=_.width,M=_.height,E=b.props.margin||{},C=P-(E.left||0)-(E.right||0),A=Y4({children:N,formattedGraphicalItems:S,legendWidth:C,legendContent:u});if(!A)return null;var L=A.item,R=ik(A,cQ);return j.cloneElement(L,ee(ee({},R),{},{chartWidth:P,chartHeight:M,margin:E,onBBoxUpdate:b.handleLegendBBoxUpdate}))}),Ie(b,"renderTooltip",function(){var S,_=b.props,N=_.children,P=_.accessibilityLayer,M=qn(N,Kr);if(!M)return null;var E=b.state,C=E.isTooltipActive,A=E.activeCoordinate,L=E.activePayload,R=E.activeLabel,G=E.offset,O=(S=M.props.active)!==null&&S!==void 0?S:C;return j.cloneElement(M,{viewBox:ee(ee({},G),{},{x:G.left,y:G.top}),active:O,label:R,payload:O?L:[],coordinate:A,accessibilityLayer:P})}),Ie(b,"renderBrush",function(S){var _=b.props,N=_.margin,P=_.data,M=b.state,E=M.offset,C=M.dataStartIndex,A=M.dataEndIndex,L=M.updateId;return j.cloneElement(S,{key:S.key||"_recharts-brush",onChange:kf(b.handleBrushChange,S.props.onChange),data:P,x:fe(S.props.x)?S.props.x:E.left,y:fe(S.props.y)?S.props.y:E.top+E.height+E.brushBottom-(N.bottom||0),width:fe(S.props.width)?S.props.width:E.width,startIndex:C,endIndex:A,updateId:"brush-".concat(L)})}),Ie(b,"renderReferenceElement",function(S,_,N){if(!S)return null;var P=b,M=P.clipPathId,E=b.state,C=E.xAxisMap,A=E.yAxisMap,L=E.offset,R=S.type.defaultProps||{},G=S.props,O=G.xAxisId,T=O===void 0?R.xAxisId:O,B=G.yAxisId,z=B===void 0?R.yAxisId:B;return j.cloneElement(S,{key:S.key||"".concat(_,"-").concat(N),xAxis:C[T],yAxis:A[z],viewBox:{x:L.left,y:L.top,width:L.width,height:L.height},clipPathId:M})}),Ie(b,"renderActivePoints",function(S){var _=S.item,N=S.activePoint,P=S.basePoint,M=S.childIndex,E=S.isRange,C=[],A=_.props.key,L=_.item.type.defaultProps!==void 0?ee(ee({},_.item.type.defaultProps),_.item.props):_.item.props,R=L.activeDot,G=L.dataKey,O=ee(ee({index:M,dataKey:G,cx:N.x,cy:N.y,r:4,fill:Kv(_.item),strokeWidth:2,stroke:"#fff",payload:N.payload,value:N.value},He(R,!1)),pd(R));return C.push(v.renderActiveDot(R,O,"".concat(A,"-activePoint-").concat(M))),P?C.push(v.renderActiveDot(R,ee(ee({},O),{},{cx:P.x,cy:P.y}),"".concat(A,"-basePoint-").concat(M))):E&&C.push(null),C}),Ie(b,"renderGraphicChild",function(S,_,N){var P=b.filterFormatItem(S,_,N);if(!P)return null;var M=b.getTooltipEventType(),E=b.state,C=E.isTooltipActive,A=E.tooltipAxis,L=E.activeTooltipIndex,R=E.activeLabel,G=b.props.children,O=qn(G,Kr),T=P.props,B=T.points,z=T.isRange,te=T.baseLine,Q=P.item.type.defaultProps!==void 0?ee(ee({},P.item.type.defaultProps),P.item.props):P.item.props,D=Q.activeDot,J=Q.hide,q=Q.activeBar,$=Q.activeShape,ne=!!(!J&&C&&O&&(D||q||$)),ce={};M!=="axis"&&O&&O.props.trigger==="click"?ce={onClick:kf(b.handleItemMouseEnter,S.props.onClick)}:M!=="axis"&&(ce={onMouseLeave:kf(b.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:kf(b.handleItemMouseEnter,S.props.onMouseEnter)});var Y=j.cloneElement(S,ee(ee({},P.props),ce));function ue(it){return typeof A.dataKey=="function"?A.dataKey(it.payload):null}if(ne)if(L>=0){var he,K;if(A.dataKey&&!A.allowDuplicatedCategory){var Oe=typeof A.dataKey=="function"?ue:"payload.".concat(A.dataKey.toString());he=hd(B,Oe,R),K=z&&te&&hd(te,Oe,R)}else he=B==null?void 0:B[L],K=z&&te&&te[L];if($||q){var Se=S.props.activeIndex!==void 0?S.props.activeIndex:L;return[j.cloneElement(S,ee(ee(ee({},P.props),ce),{},{activeIndex:Se})),null,null]}if(!We(he))return[Y].concat(xl(b.renderActivePoints({item:P,activePoint:he,basePoint:K,childIndex:L,isRange:z})))}else{var oe,we=(oe=b.getItemByXY(b.state.activeCoordinate))!==null&&oe!==void 0?oe:{graphicalItem:Y},ve=we.graphicalItem,Ke=ve.item,ge=Ke===void 0?S:Ke,xe=ve.childIndex,Le=ee(ee(ee({},P.props),ce),{},{activeIndex:xe});return[j.cloneElement(ge,Le),null,null]}return z?[Y,null,null]:[Y,null]}),Ie(b,"renderCustomized",function(S,_,N){return j.cloneElement(S,ee(ee({key:"recharts-customized-".concat(N)},b.props),b.state))}),Ie(b,"renderMap",{CartesianGrid:{handler:Pf,once:!0},ReferenceArea:{handler:b.renderReferenceElement},ReferenceLine:{handler:Pf},ReferenceDot:{handler:b.renderReferenceElement},XAxis:{handler:Pf},YAxis:{handler:Pf},Brush:{handler:b.renderBrush,once:!0},Bar:{handler:b.renderGraphicChild},Line:{handler:b.renderGraphicChild},Area:{handler:b.renderGraphicChild},Radar:{handler:b.renderGraphicChild},RadialBar:{handler:b.renderGraphicChild},Scatter:{handler:b.renderGraphicChild},Pie:{handler:b.renderGraphicChild},Funnel:{handler:b.renderGraphicChild},Tooltip:{handler:b.renderCursor,once:!0},PolarGrid:{handler:b.renderPolarGrid,once:!0},PolarAngleAxis:{handler:b.renderPolarAxis},PolarRadiusAxis:{handler:b.renderPolarAxis},Customized:{handler:b.renderCustomized}}),b.clipPathId="".concat((y=g.id)!==null&&y!==void 0?y:rs("recharts"),"-clip"),b.throttleTriggeredAfterMouseMove=qj(b.triggeredAfterMouseMove,(k=g.throttleDelay)!==null&&k!==void 0?k:1e3/60),b.state={},b}return wQ(v,w),yQ(v,[{key:"componentDidMount",value:function(){var y,k;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(y=this.props.margin.left)!==null&&y!==void 0?y:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var y=this.props,k=y.children,b=y.data,S=y.height,_=y.layout,N=qn(k,Kr);if(N){var P=N.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var M=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,E=ry(this.state,b,P,M),C=this.state.tooltipTicks[P].coordinate,A=(this.state.offset.top+S)/2,L=_==="horizontal",R=L?{x:C,y:A}:{y:C,x:A},G=this.state.formattedGraphicalItems.find(function(T){var B=T.item;return B.type.name==="Scatter"});G&&(R=ee(ee({},R),G.props.points[P].tooltipPosition),E=G.props.points[P].tooltipPayload);var O={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:M,activePayload:E,activeCoordinate:R};this.setState(O),this.renderCursor(N),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(y,k){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==k.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==y.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==y.margin){var b,S;this.accessibilityManager.setDetails({offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(y){Ag([qn(y.children,Kr)],[qn(this.props.children,Kr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var y=qn(this.props.children,Kr);if(y&&typeof y.props.shared=="boolean"){var k=y.props.shared?"axis":"item";return s.indexOf(k)>=0?k:o}return o}},{key:"getMouseInfo",value:function(y){if(!this.container)return null;var k=this.container,b=k.getBoundingClientRect(),S=LL(b),_={chartX:Math.round(y.pageX-S.left),chartY:Math.round(y.pageY-S.top)},N=b.width/k.offsetWidth||1,P=this.inRange(_.chartX,_.chartY,N);if(!P)return null;var M=this.state,E=M.xAxisMap,C=M.yAxisMap,A=this.getTooltipEventType(),L=lk(this.state,this.props.data,this.props.layout,P);if(A!=="axis"&&E&&C){var R=Uo(E).scale,G=Uo(C).scale,O=R&&R.invert?R.invert(_.chartX):null,T=G&&G.invert?G.invert(_.chartY):null;return ee(ee({},_),{},{xValue:O,yValue:T},L)}return L?ee(ee({},_),L):null}},{key:"inRange",value:function(y,k){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,_=y/b,N=k/b;if(S==="horizontal"||S==="vertical"){var P=this.state.offset,M=_>=P.left&&_<=P.left+P.width&&N>=P.top&&N<=P.top+P.height;return M?{x:_,y:N}:null}var E=this.state,C=E.angleAxisMap,A=E.radiusAxisMap;if(C&&A){var L=Uo(C);return G2({x:_,y:N},L)}return null}},{key:"parseEventsOfWrapper",value:function(){var y=this.props.children,k=this.getTooltipEventType(),b=qn(y,Kr),S={};b&&k==="axis"&&(b.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var _=pd(this.props,this.handleOuterEvent);return ee(ee({},_),S)}},{key:"addListener",value:function(){Pp.on(Op,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Pp.removeListener(Op,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(y,k,b){for(var S=this.state.formattedGraphicalItems,_=0,N=S.length;_<N;_++){var P=S[_];if(P.item===y||P.props.key===y.key||k===mo(P.item.type)&&b===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var y=this.clipPathId,k=this.state.offset,b=k.left,S=k.top,_=k.height,N=k.width;return F.createElement("defs",null,F.createElement("clipPath",{id:y},F.createElement("rect",{x:b,y:S,height:_,width:N})))}},{key:"getXScales",value:function(){var y=this.state.xAxisMap;return y?Object.entries(y).reduce(function(k,b){var S=ok(b,2),_=S[0],N=S[1];return ee(ee({},k),{},Ie({},_,N.scale))},{}):null}},{key:"getYScales",value:function(){var y=this.state.yAxisMap;return y?Object.entries(y).reduce(function(k,b){var S=ok(b,2),_=S[0],N=S[1];return ee(ee({},k),{},Ie({},_,N.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(y){var k;return(k=this.state.xAxisMap)===null||k===void 0||(k=k[y])===null||k===void 0?void 0:k.scale}},{key:"getYScaleByAxisId",value:function(y){var k;return(k=this.state.yAxisMap)===null||k===void 0||(k=k[y])===null||k===void 0?void 0:k.scale}},{key:"getItemByXY",value:function(y){var k=this.state,b=k.formattedGraphicalItems,S=k.activeItem;if(b&&b.length)for(var _=0,N=b.length;_<N;_++){var P=b[_],M=P.props,E=P.item,C=E.type.defaultProps!==void 0?ee(ee({},E.type.defaultProps),E.props):E.props,A=mo(E.type);if(A==="Bar"){var L=(M.data||[]).find(function(T){return jH(y,T)});if(L)return{graphicalItem:P,payload:L}}else if(A==="RadialBar"){var R=(M.data||[]).find(function(T){return G2(y,T)});if(R)return{graphicalItem:P,payload:R}}else if(hh(P,S)||ph(P,S)||bu(P,S)){var G=_V({graphicalItem:P,activeTooltipItem:S,itemData:C.data}),O=C.activeIndex===void 0?G:C.activeIndex;return{graphicalItem:ee(ee({},P),{},{childIndex:O}),payload:bu(P,S)?C.data[G]:P.props.data[G]}}}return null}},{key:"render",value:function(){var y=this;if(!T1(this))return null;var k=this.props,b=k.children,S=k.className,_=k.width,N=k.height,P=k.style,M=k.compact,E=k.title,C=k.desc,A=ik(k,uQ),L=He(A,!1);if(M)return F.createElement(Iw,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},F.createElement(Tg,Ms({},L,{width:_,height:N,title:E,desc:C}),this.renderClipPath(),D1(b,this.renderMap)));if(this.props.accessibilityLayer){var R,G;L.tabIndex=(R=this.props.tabIndex)!==null&&R!==void 0?R:0,L.role=(G=this.props.role)!==null&&G!==void 0?G:"application",L.onKeyDown=function(T){y.accessibilityManager.keyboardEvent(T)},L.onFocus=function(){y.accessibilityManager.focus()}}var O=this.parseEventsOfWrapper();return F.createElement(Iw,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},F.createElement("div",Ms({className:ot("recharts-wrapper",S),style:ee({position:"relative",cursor:"default",width:_,height:N},P)},O,{ref:function(B){y.container=B}}),F.createElement(Tg,Ms({},L,{width:_,height:N,title:E,desc:C,style:PQ}),this.renderClipPath(),D1(b,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(j.Component);Ie(m,"displayName",r),Ie(m,"defaultProps",ee({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Ie(m,"getDerivedStateFromProps",function(w,v){var g=w.dataKey,y=w.data,k=w.children,b=w.width,S=w.height,_=w.layout,N=w.stackOffset,P=w.margin,M=v.dataStartIndex,E=v.dataEndIndex;if(v.updateId===void 0){var C=ck(w);return ee(ee(ee({},C),{},{updateId:0},p(ee(ee({props:w},C),{},{updateId:0}),v)),{},{prevDataKey:g,prevData:y,prevWidth:b,prevHeight:S,prevLayout:_,prevStackOffset:N,prevMargin:P,prevChildren:k})}if(g!==v.prevDataKey||y!==v.prevData||b!==v.prevWidth||S!==v.prevHeight||_!==v.prevLayout||N!==v.prevStackOffset||!Is(P,v.prevMargin)){var A=ck(w),L={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},R=ee(ee({},lk(v,y,_)),{},{updateId:v.updateId+1}),G=ee(ee(ee({},A),L),R);return ee(ee(ee({},G),p(ee({props:w},G),v)),{},{prevDataKey:g,prevData:y,prevWidth:b,prevHeight:S,prevLayout:_,prevStackOffset:N,prevMargin:P,prevChildren:k})}if(!Ag(k,v.prevChildren)){var O,T,B,z,te=qn(k,il),Q=te&&(O=(T=te.props)===null||T===void 0?void 0:T.startIndex)!==null&&O!==void 0?O:M,D=te&&(B=(z=te.props)===null||z===void 0?void 0:z.endIndex)!==null&&B!==void 0?B:E,J=Q!==M||D!==E,q=!We(y),$=q&&!J?v.updateId:v.updateId+1;return ee(ee({updateId:$},p(ee(ee({props:w},v),{},{updateId:$,dataStartIndex:Q,dataEndIndex:D}),v)),{},{prevChildren:k,dataStartIndex:Q,dataEndIndex:D})}return null}),Ie(m,"renderActiveDot",function(w,v,g){var y;return j.isValidElement(w)?y=j.cloneElement(w,v):Ve(w)?y=w(v):y=F.createElement(dh,v),F.createElement(vt,{className:"recharts-active-dot",key:g},y)});var x=j.forwardRef(function(v,g){return F.createElement(m,Ms({},v,{ref:g}))});return x.displayName=m.displayName,x},Fs=ox({chartName:"LineChart",GraphicalChild:Mr,axisComponents:[{axisType:"xAxis",AxisComp:zn},{axisType:"yAxis",AxisComp:Gn}],formatAxisMap:qv}),IQ=ox({chartName:"ScatterChart",GraphicalChild:Nn,defaultTooltipEventType:"item",validateTooltipEventTypes:["item"],axisComponents:[{axisType:"xAxis",AxisComp:zn},{axisType:"yAxis",AxisComp:Gn},{axisType:"zAxis",AxisComp:vh}],formatAxisMap:qv}),gN=ox({chartName:"AreaChart",GraphicalChild:ga,axisComponents:[{axisType:"xAxis",AxisComp:zn},{axisType:"yAxis",AxisComp:Gn}],formatAxisMap:qv});const LQ="modulepreload",BQ=function(e){return"/"+e},fk={},FQ=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),s=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));a=Promise.allSettled(r.map(l=>{if(l=BQ(l),l in fk)return;fk[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":LQ,u||(f.as="script"),f.crossOrigin="",f.href=l,s&&f.setAttribute("nonce",s),document.head.appendChild(f),u)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(i){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=i,window.dispatchEvent(s),!s.defaultPrevented)throw i}return a.then(i=>{for(const s of i||[])s.status==="rejected"&&o(s.reason);return t().catch(o)})};function mN(e){const[[t,r,n],[a,o,i],[s,l,u]]=e,d=t*(o*u-i*l)-r*(a*u-i*s)+n*(a*l-o*s);if(Math.abs(d)<1e-10)return null;const f=1/d;return[[(o*u-i*l)*f,(n*l-r*u)*f,(r*i-n*o)*f],[(i*s-a*u)*f,(t*u-n*s)*f,(n*a-t*i)*f],[(a*l-o*s)*f,(r*s-t*l)*f,(t*o-r*a)*f]]}function dk(e,t){const r=[[0,0,0],[0,0,0],[0,0,0]];for(let n=0;n<3;n++)for(let a=0;a<3;a++)for(let o=0;o<3;o++)r[n][a]+=e[n][o]*t[o][a];return r}class Qi{constructor(t){jn(this,"size");jn(this,"isPowerOfTwo");jn(this,"_real");jn(this,"_imag");jn(this,"_scratch",null);jn(this,"_rev",null);jn(this,"_m",0);jn(this,"_internalFFT",null);jn(this,"_chirpReal",null);jn(this,"_chirpImag",null);jn(this,"_bReal",null);jn(this,"_bImag",null);jn(this,"_hanning",null);jn(this,"_windowSumSq",0);this.size=t,this.isPowerOfTwo=(t&t-1)===0&&t>0,this._real=new Float32Array(t),this._imag=new Float32Array(t),this.isPowerOfTwo?this.initRadix2():this.initBluestein()}initRadix2(){const t=this.size,r=Math.log2(t);this._rev=new Uint32Array(t);for(let n=0;n<t;n++){let a=0,o=n;for(let i=0;i<r;i++)a=a<<1|o&1,o>>>=1;this._rev[n]=a}}initBluestein(){const t=this.size;this._m=Math.pow(2,Math.ceil(Math.log2(2*t-1))),this._internalFFT=new Qi(this._m),this._chirpReal=new Float32Array(t),this._chirpImag=new Float32Array(t);for(let a=0;a<t;a++){const o=-Math.PI*(a*a)/t;this._chirpReal[a]=Math.cos(o),this._chirpImag[a]=Math.sin(o)}const r=new Float32Array(this._m),n=new Float32Array(this._m);for(let a=0;a<t;a++)r[a]=this._chirpReal[a],n[a]=-this._chirpImag[a];for(let a=1;a<t;a++)r[this._m-a]=r[a],n[this._m-a]=n[a];this._internalFFT.transform(r,n),this._bReal=new Float32Array(this._internalFFT._real),this._bImag=new Float32Array(this._internalFFT._imag)}initHanning(){if(this._hanning)return;const t=this.size;this._hanning=new Float32Array(t);let r=0;for(let n=0;n<t;n++){const a=.5*(1-Math.cos(2*Math.PI*n/(t-1)));this._hanning[n]=a,r+=a*a}this._windowSumSq=r}transform(t,r){this.isPowerOfTwo?this.transformRadix2(t,r):this.transformBluestein(t,r)}transformRadix2(t,r){const n=this.size,a=this._rev,o=this._real,i=this._imag;if(t===o)for(let s=0;s<n;s++){const l=a[s];if(s<l){const u=o[s],d=i[s];o[s]=o[l],i[s]=i[l],o[l]=u,i[l]=d}}else for(let s=0;s<n;s++){const l=a[s];o[s]=t[l],i[s]=r?r[l]:0}for(let s=2;s<=n;s*=2){const l=s/2,u=-2*Math.PI/s,d=Math.cos(u),f=Math.sin(u);for(let h=0;h<n;h+=s){let p=1,m=0;for(let x=0;x<l;x++){const w=h+x,v=h+x+l,g=p*o[v]-m*i[v],y=p*i[v]+m*o[v],k=o[w],b=i[w];o[w]=k+g,i[w]=b+y,o[v]=k-g,i[v]=b-y;const S=p*d-m*f,_=p*f+m*d;p=S,m=_}}}}transformBluestein(t,r){const n=this.size,a=this._m,o=this._internalFFT,i=o._real,s=o._imag;i.fill(0),s.fill(0);for(let f=0;f<n;f++){const h=t[f],p=r?r[f]:0,m=this._chirpReal[f],x=this._chirpImag[f];i[f]=h*m-p*x,s[f]=h*x+p*m}o.transformRadix2(i,s);for(let f=0;f<a;f++){const h=o._real[f],p=o._imag[f],m=this._bReal[f],x=this._bImag[f];o._real[f]=h*m-p*x,o._imag[f]=h*x+p*m}const l=o._real,u=o._imag;for(let f=0;f<a;f++)u[f]=-u[f];o.transformRadix2(l,u);const d=1/a;for(let f=0;f<n;f++){const h=o._real[f]*d,p=-o._imag[f]*d,m=this._chirpReal[f],x=this._chirpImag[f];this._real[f]=h*m-p*x,this._imag[f]=h*x+p*m}}calculateSpectrum(t,r,n=!1){const a=this.size;let o=0;for(let d=0;d<a;d++)o+=t[d];const i=o/a;this._scratch||(this._scratch=new Float32Array(a));const s=this._scratch;if(n){this.initHanning();const d=this._hanning;for(let f=0;f<a;f++)s[f]=(t[f]-i)*d[f]}else for(let d=0;d<a;d++)s[d]=t[d]-i;this.transform(s);const l=r.length;let u=1/a;n&&this._windowSumSq>0&&(u=1/this._windowSumSq);for(let d=0;d<l;d++){const f=this._real[d],h=this._imag[d];r[d]+=(f*f+h*h)*u}}}function zQ(e,t,r,n=!1){const a=new Qi(t),o=new Qi(r),i=t*r,s=new Float32Array(i),l=new Float32Array(i);let u=null,d=null;if(n){u=new Float32Array(t);for(let x=0;x<t;x++)u[x]=.5*(1-Math.cos(2*Math.PI*x/(t-1)));d=new Float32Array(r);for(let x=0;x<r;x++)d[x]=.5*(1-Math.cos(2*Math.PI*x/(r-1)))}for(let x=0;x<r;x++){const w=x*t,v=a._real;let g=0;for(let k=0;k<t;k++)g+=e[w+k];const y=g/t;if(u)for(let k=0;k<t;k++)v[k]=(e[w+k]-y)*u[k];else for(let k=0;k<t;k++)v[k]=e[w+k]-y;a.transform(v);for(let k=0;k<t;k++)s[w+k]=a._real[k],l[w+k]=a._imag[k]}for(let x=0;x<t;x++){const w=o._real,v=o._imag;for(let g=0;g<r;g++){const y=g*t+x;let k=s[y],b=l[y];d&&(k*=d[g],b*=d[g]),w[g]=k,v[g]=b}o.transform(w,v);for(let g=0;g<r;g++){const y=g*t+x;s[y]=o._real[g],l[y]=o._imag[g]}}const f=new Float32Array(i);let h=1,p=t,m=r;if(n&&u&&d){p=0;for(let x=0;x<t;x++)p+=u[x]*u[x];m=0;for(let x=0;x<r;x++)m+=d[x]*d[x]}h=1/(p*m);for(let x=0;x<i;x++)f[x]=(s[x]*s[x]+l[x]*l[x])*h;return f}function GQ(e,t,r){const n=new Float32Array(e.length),a=Math.floor(t/2),o=Math.floor(r/2);for(let i=0;i<r;i++)for(let s=0;s<t;s++){const l=(s+a)%t,u=(i+o)%r,d=i*t+s,f=u*t+l;n[f]=e[d]}return n}function uc(e,t,r,n=[0,0,0,0],a=65535,o="RGGB"){const s=e*t*2,l=8,u=l+s,d="Fake",f="StretchedNoiseCam",h="StretchedNoiseCam",p=A=>{const L=new Uint8Array(A.length+1);for(let R=0;R<A.length;R++)L[R]=A.charCodeAt(R);return L[A.length]=0,L},m=p(d),x=p(f),w=p(h),v=A=>{const L=[0,0,0,0],R={R:0,G:1,B:2},G=A.toUpperCase();for(let O=0;O<4;O++)L[O]=R[G[O]]??1;return L},g=[{id:254,type:4,count:1,value:0},{id:256,type:4,count:1,value:e},{id:257,type:4,count:1,value:t},{id:258,type:3,count:1,value:16},{id:259,type:3,count:1,value:1},{id:262,type:3,count:1,value:32803},{id:271,type:2,count:m.length,value:m},{id:272,type:2,count:x.length,value:x},{id:273,type:4,count:1,value:l},{id:277,type:3,count:1,value:1},{id:278,type:4,count:1,value:t},{id:279,type:4,count:1,value:s},{id:33421,type:3,count:2,value:[2,2]},{id:33422,type:1,count:4,value:v(o)},{id:50706,type:1,count:4,value:[1,4,0,0]},{id:50714,type:3,count:4,value:n.map(A=>Math.round(A))},{id:50715,type:4,count:1,value:Math.round(a)},{id:50717,type:2,count:w.length,value:w}],y=2+g.length*12+4;let k=0;const b=g.map(A=>{let L=1;A.type===3&&(L=2),A.type===4&&(L=4);const R=A.count*L,G=R<=4;let O=0;return G||(O=k,k+=R,k%2!==0&&k++),{...A,fits:G,totalBytes:R,extraOffset:O}}),S=u+y,_=S+k,N=new ArrayBuffer(_),P=new DataView(N),M=new Uint8Array(N);P.setUint16(0,18761,!0),P.setUint16(2,42,!0),P.setUint32(4,u,!0);const E=new Uint8Array(r.buffer,r.byteOffset,r.byteLength);M.set(E,l);let C=u;return P.setUint16(C,g.length,!0),C+=2,b.forEach(A=>{if(P.setUint16(C,A.id,!0),P.setUint16(C+2,A.type,!0),P.setUint32(C+4,A.count,!0),A.fits){const L=C+8;Array.isArray(A.value)?A.value.forEach((R,G)=>{A.type===1&&P.setUint8(L+G,R),A.type===3&&P.setUint16(L+G*2,R,!0)}):(A.type===3&&P.setUint16(L,A.value,!0),A.type===4&&P.setUint32(L,A.value,!0))}else{const L=S+A.extraOffset;P.setUint32(C+8,L,!0),A.value instanceof Uint8Array?M.set(A.value,L):Array.isArray(A.value)&&A.value.forEach((R,G)=>{A.type===1&&P.setUint8(L+G,R),A.type===3&&P.setUint16(L+G*2,R,!0)})}C+=12}),P.setUint32(C,0,!0),N}let Mp=null;async function Gu(){if(!Mp)try{const n=(await FQ(()=>import("./joraw-BwENJcG-.js"),[])).default;if(typeof n!="function")throw new Error("JoRaw WASM import failed");const a=new URL("/assets/joraw-BUh50ws_.wasm",import.meta.url).href;Mp=n({locateFile:(o,i)=>o.endsWith("joraw.wasm")?a:i+o})}catch(r){throw console.error("Failed to load joraw.js:",r),r}const e=await Mp,t=e.LibRaw||e.JoRaw;if(!t)throw new Error("JoRaw class not found");return t}const UQ=[[3.2404542,-1.5371385,-.4985314],[-.969266,1.8760108,.041556],[.0556434,-.2040259,1.0572252]],Pc=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055;async function Of(e,t=0,r=0){const n=await Gu(),a=new n;try{await a.open(new Uint8Array(e));const o=a.getRawImage(),i=new Uint16Array(o.data),s=o.width,l=o.height,u=Math.floor((s-t)/6)*2,d=Math.floor((l-r)/6)*2;if(u<=0||d<=0)throw new Error("Image too small for X-Trans subsampling with current phase.");const f=new Uint16Array(u*d);for(let p=0;p<d/2;p++){const m=p*6+r;if(m+3>=l)break;const x=m*s,w=(m+3)*s,v=p*2,g=v*u,y=(v+1)*u;for(let k=0;k<u/2;k++){const b=k*6+t;if(b+1>=s)break;const S=k*2;f[g+S]=i[x+b+1],f[g+S+1]=i[x+b+0],f[y+S]=i[w+b+0],f[y+S+1]=i[w+b+1]}}return{dngBuffer:uc(u,d,f),width:u,height:d}}finally{a.delete?a.delete():a.close()}}async function WQ(e){const t=await createImageBitmap(e),r=t.width,n=t.height,a=document.createElement("canvas");a.width=r,a.height=n;const o=a.getContext("2d");if(!o)throw new Error("Failed to create canvas context");o.drawImage(t,0,0);const s=o.getImageData(0,0,r,n).data,l=r*n,u=new Uint16Array(l);for(let f=0;f<n;f++)for(let h=0;h<r;h++){const p=(f*r+h)*4,m=f*r+h,x=f%2===0,w=h%2===0;let v=0;x&&w?v=s[p]:!x&&!w?v=s[p+2]:v=s[p+1],u[m]=v*64}return{previewBlob:await new Promise(f=>a.toBlob(f,"image/png"))||e,analysisData:{data:u,width:r,height:n,bayerPattern:"RGGB",blackLevels:[0,0,0,0],whiteLevel:16320,metadata:{description:"Standard image (non-RAW)"},isThreePlane:!0}}}const XQ=async e=>{const t=await Gu(),r=new t;try{await r.open(e,{useCameraWb:!0,outputBps:8,noAutoBright:!0,userQual:3,outputColor:1});const n=await r.imageData();return new Promise((a,o)=>{const i=document.createElement("canvas");i.width=n.width,i.height=n.height;const s=i.getContext("2d");if(!s){o(new Error("Could not create canvas context"));return}const l=s.createImageData(n.width,n.height),u=n.data,d=n.width*n.height;for(let f=0;f<d;f++){const h=f*3,p=f*4;l.data[p]=u[h],l.data[p+1]=u[h+1],l.data[p+2]=u[h+2],l.data[p+3]=255}s.putImageData(l,0,0),i.toBlob(f=>{f?a(f):o(new Error("Canvas to Blob failed"))},"image/jpeg",.85)})}finally{r.delete?r.delete():r.close()}},m0=async e=>{var n,a,o,i,s,l,u,d,f;const t=await Gu(),r=new t;try{if(await r.open(e,{}),typeof r.getRawImage!="function")throw new Error("WASM mismatch");const h=r.getRawImage();let p=new Uint16Array(h.data);const m=await r.metadata(!0),x=((n=m.idata)==null?void 0:n.filters)||0,w=((a=m.idata)==null?void 0:a.colors)||0,v=x===0&&w===3,g=x===9;let y=[];if((o=m.color_data)!=null&&o.cblack_rawpy_style)y=m.color_data.cblack_rawpy_style;else if((s=(i=m.color_data)==null?void 0:i.dng_levels)!=null&&s.dng_cblack)y=m.color_data.dng_levels.dng_cblack;else if(((l=m.black_level_per_channel)==null?void 0:l.length)>=4)y=m.black_level_per_channel;else if(((u=m.cblack)==null?void 0:u.length)>=4)y=m.cblack;else if(((f=(d=m.color)==null?void 0:d.cblack)==null?void 0:f.length)>=4)y=m.color.cblack;else{const b=m.black_level||m.color_data&&m.color_data.black||0;y=[b,b,b,b]}const k=[Number(y[0])||0,Number(y[1])||0,Number(y[2])||0,Number(y[3])||0];return{data:p,width:h.width,height:h.height,bayerPattern:m.color_desc||"RGGB",blackLevels:k,whiteLevel:m.white_level||16383,metadata:m,isThreePlane:v,isXTrans:g}}finally{r.delete?r.delete():r.close()}};async function wi(e){const t=new Uint8Array(e.slice(0)),r=new Uint8Array(e.slice(0)),[n,a]=await Promise.all([XQ(t),m0(r)]);return{previewBlob:n,analysisData:a}}async function y0(e){const t=new Uint8Array(e);return m0(t)}const hk=e=>(e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,e++,e);async function Ap(e,t,r,n=!0){const a=await m0(new Uint8Array(e)),o=await m0(new Uint8Array(t));if(a.width!==o.width||a.height!==o.height)throw new Error("Dimension Mismatch");const i=a.width,s=a.height,l=r?hk(i):i,u=r?hk(s):s,d=l*u,f=new Uint16Array(d),h=6e4,p=1.41421356;for(let m=0;m<s;m++){const x=m*i,w=m*l;for(let v=0;v<i;v++){const g=a.data[x+v],y=o.data[x+v];let k=g-y;n&&(k/=p);let b=k+h;b=Math.max(0,Math.min(65535,b)),f[w+v]=Math.round(b)}}return{rawData:f,width:l,height:u,metadata:a.metadata}}function ki(e,t,r,n,a,o,i){const s=Math.max(0,Math.floor(n)),l=Math.max(0,Math.floor(a)),u=Math.min(t,Math.ceil(n+o)),d=Math.min(r,Math.ceil(a+i)),f=[0,0,0,0],h=[0,0,0,0],p=[0,0,0,0];for(let w=l;w<d;w++){const v=w*t,g=w%2;for(let y=s;y<u;y++){const k=y%2,b=e[v+y],S=g*2+k;f[S]+=b,h[S]+=b*b,p[S]++}}const m=[0,0,0,0],x=[0,0,0,0];for(let w=0;w<4;w++)if(p[w]>0){const v=f[w]/p[w];m[w]=v;const y=h[w]/p[w]-v*v;x[w]=Math.sqrt(Math.max(0,y))}return{x:s,y:l,width:u-s,height:d-l,means:m,stdDevs:x,pixelCount:p.reduce((w,v)=>w+v,0)}}function pk(e,t,r,n,a,o,i=0,s=0){const l=Math.max(0,Math.floor(n.x)),u=Math.max(0,Math.floor(n.y)),d=Math.min(t,Math.ceil(n.x+n.w)),f=Math.min(r,Math.ceil(n.y+n.h)),h=a>>1,p=a&1,m=(o>>1)+i,x=(o&1)+s;let w=0,v=0,g=0;for(let N=u;N<f-2;N+=2)for(let P=l;P<d-2;P+=2){const M=(N+h)*t+(P+p),E=(N+m)*t+(P+x);N+m>=r||P+x>=t||(w+=e[M],v+=e[E],g++)}if(g<2)return{sumCov:0,sumVar1:0,sumVar2:0,n:0};const y=w/g,k=v/g;let b=0,S=0,_=0;for(let N=u;N<f-2;N+=2)for(let P=l;P<d-2;P+=2){const M=(N+h)*t+(P+p),E=(N+m)*t+(P+x);if(N+m>=r||P+x>=t)continue;const C=e[M],A=e[E],L=C-y,R=A-k;b+=L*R,S+=L*L,_+=R*R}return{sumCov:b,sumVar1:S,sumVar2:_,n:g}}function HQ(e){if(e.n<2)return 0;const t=Math.sqrt(e.sumVar1*e.sumVar2);return t===0?0:e.sumCov/t}function VQ(e,t,r,n,a,o,i,s,l,u,d){if(u<=l)return[];const f=Math.max(0,Math.floor(n)),h=Math.max(0,Math.floor(a)),p=Math.min(t,Math.ceil(n+o)),m=Math.min(r,Math.ceil(a+i)),x=u-l,w=d?Math.floor(x)+1:s,v=x/w,g=[new Uint32Array(w),new Uint32Array(w),new Uint32Array(w),new Uint32Array(w)];for(let k=h;k<m;k++){const b=k*t,S=k%2;for(let _=f;_<p;_++){const N=_%2,P=e[b+_];if(P<l||P>u)continue;const M=S*2+N;let E;d?E=Math.floor(P-l):E=Math.floor((P-l)/v),E<0&&(E=0),E>=w&&(E=w-1),g[M][E]++}}const y=[];for(let k=0;k<w;k++){const b=l+(d?k:k*v);y.push({binStart:b,c0:g[0][k],c1:g[1][k],c2:g[2][k],c3:g[3][k]})}return y}function KQ(e,t,r,n,a,o=!1,i=!1,s={rows:!1,rowGroup:0,cols:!1,colGroup:0},l=!0,u=1){const d=Math.max(0,Math.floor(n.x)),f=Math.max(0,Math.floor(n.y)),h=Math.min(t,Math.ceil(n.x+n.w)),p=Math.min(r,Math.ceil(n.y+n.h)),m=h-d,x=p-f;if(m<=1||x<=1)return null;let w=0;for(let E=d;E<h;E++)E%2===(a&1)&&w++;let v=0;for(let E=f;E<p;E++)E%2===a>>1&&v++;if(w<4||v<4)return null;const g=Math.max(1,u),y=Math.floor(2*w/(g+1)),k=Math.floor(2*v/(g+1));if(y<4||k<4)return null;const b=new Qi(y),S=new Qi(k),_=new Float32Array(Math.floor(y/2)+1),N=new Float32Array(Math.floor(k/2)+1);let P=0,M=0;for(let E=f;E<p;E++){const C=E%2;if(a>>1!==C||s.rows&&(E>>1&1)!==s.rowGroup)continue;const A=E*t,L=new Float32Array(w);let R=0;for(let G=d;G<h;G++)G%2===(a&1)&&R<w&&(L[R++]=e[A+G]);for(let G=0;G<g;G++){const O=Math.floor(G*y/2);if(O+y>w)break;const T=L.slice(O,O+y);b.calculateSpectrum(T,_,i),P++}if(!l)break}for(let E=d;E<h;E++){const C=E%2;if((a&1)!==C||s.cols&&(E>>1&1)!==s.rowGroup)continue;const A=new Float32Array(v);let L=0;for(let R=f;R<p;R++)R%2===a>>1&&L<v&&(A[L++]=e[R*t+E]);for(let R=0;R<g;R++){const G=Math.floor(R*k/2);if(G+k>v)break;const O=A.slice(G,G+k);S.calculateSpectrum(O,N,i),M++}if(!l)break}if(P>0)for(let E=0;E<_.length;E++)_[E]/=P;if(M>0)for(let E=0;E<N.length;E++)N[E]/=M;return{avgHoriz:Array.from(_),avgVert:Array.from(N),sampleCount:{h:P,v:M}}}function YQ(e,t,r,n,a,o=!1){const i=Math.max(0,Math.floor(n.x)),s=Math.max(0,Math.floor(n.y)),l=Math.min(t,Math.ceil(n.x+n.w)),u=Math.min(r,Math.ceil(n.y+n.h));let d=-1;for(let g=s;g<u;g++)if(g%2===a>>1){d=g;break}if(d===-1)return null;let f=-1;for(let g=i;g<l;g++)if(g%2===(a&1)){f=g;break}if(f===-1)return null;const h=[];for(let g=d;g<u;g+=2){const y=g*t,k=[];for(let b=f;b<l;b+=2)k.push(e[y+b]);h.push(k)}const p=h.length;if(p===0)return null;const m=h[0].length;if(m===0)return null;const x=new Float32Array(m*p);for(let g=0;g<p;g++){const y=h[g];for(let k=0;k<m;k++)x[g*m+k]=y[k]}const w=zQ(x,m,p,o),v=GQ(w,m,p);return{width:m,height:p,data:v}}function qQ(e,t,r,n,a,o,i){const{x:s,y:l,w:u,h:d}=n,f=[],h=Math.max(0,Math.floor(s)),p=Math.max(0,Math.floor(l)),m=Math.min(t,Math.ceil(s+u)),x=Math.min(r,Math.ceil(l+d)),w=a>>1,v=a&1;for(let S=p;S<x;S++){if(S%2!==w)continue;const _=S*t;for(let N=h;N<m;N++){if(N%2!==v)continue;const P=e[_+N];P>=o&&P<=i&&f.push(P-o)}}if(f.length===0)return null;f.sort((S,_)=>S-_);const g=[f[0]];for(let S=1;S<f.length;S++)f[S]!==f[S-1]&&g.push(f[S]);const y=[],k=[],b={};for(let S=0;S<g.length-1;S++){const _=g[S],P=g[S+1]-_;y.push(P),k.push({x:_,y:P}),b[P]=(b[P]||0)+1}return{uniqueCount:g.length,diffCount:y.length,stepCounts:b,plotData:k}}function yN(e,t,r){if(!r.advancedZeroDep)throw new Error("Unmixing settings not found in DisplaySettings.");const{bl:n,bg:a,fg:o}=r.advancedZeroDep,{data:i,width:s,whiteLevel:l}=e,u=a.map((y,k)=>Math.max(0,y-n[k])),d=o.map((y,k)=>Math.max(0,y-n[k])),f=(u[1]+u[3])/2,h=(d[1]+d[3])/2,p=Math.floor(t.x),m=Math.floor(t.y),x=Math.floor(t.w),w=Math.floor(t.h),v=Math.pow(2,r.exposure),g=new Uint16Array(x*w);for(let y=0;y<w;y++){const k=m+y;if(k<0||k>=e.height)continue;const b=k%2,S=k*s,_=y*x;for(let N=0;N<x;N++){const P=p+N;if(P<0||P>=s)continue;const M=P%2;let E=0;!b&&!M?E=0:!b&&M?E=1:b&&!M?E=3:E=2;const C=i[S+P],A=n[E],L=u[E],R=d[E],G=Math.max(C-A,0),O=R-L||1e-9,T=(G-L)/O;let B;T<0?B=G*(f/Math.max(L,1e-9)):T>1?B=G*(h/Math.max(R,1e-9)):B=(1-T)*f+T*h,B*=v,g[_+N]=Math.max(0,Math.min(65535,Math.round(B)))}}return{data:g,width:x,height:w}}async function gk(e,t){const r=await Gu(),n=new r;try{const a=new Uint8Array(e.slice(0));let o=!1,i=[];if(t.customMatrix&&t.customMatrix.length===9){const h=[[t.customMatrix[0],t.customMatrix[1],t.customMatrix[2]],[t.customMatrix[3],t.customMatrix[4],t.customMatrix[5]],[t.customMatrix[6],t.customMatrix[7],t.customMatrix[8]]],p=mN(h);if(p){const m=t.wbGains?t.wbGains[0]:1,x=t.wbGains?t.wbGains[1]:1,v=dk(p,[[m,0,0],[0,1,0],[0,0,x]]),g=dk(UQ,v);i=[g[0][0],g[0][1],g[0][2],g[1][0],g[1][1],g[1][2],g[2][0],g[2][1],g[2][2]],o=!0}else throw new Error("Custom Matrix is not invertible.")}const s={outputBps:16,noAutoBright:!0,bright:o?1:Math.pow(2,t.exposure)};t.blackLevel&&t.blackLevel.length===4&&(s.userBlack=0,s.userCblack=t.blackLevel.map(h=>{const p=Math.round(h);return p===0?1:p})),t.demosaicMethod===-1?s.noInterpolation=!0:s.userQual=t.demosaicMethod,o?(s.outputColor=0,s.gamma=[1,1],s.userMul=[1,1,1,1],s.useCameraWb=!1):(s.outputColor=1,s.useCameraWb=!0),await n.open(a,s);const l=await n.imageData(),u=new ImageData(l.width,l.height),d=u.data,f=new Uint16Array(l.data.buffer,l.data.byteOffset,l.data.byteLength/2);if(o&&i.length===9){const h=i,m=Math.pow(2,t.exposure)*.25;for(let x=0;x<f.length;x+=3){const w=f[x]/65535,v=f[x+1]/65535,g=f[x+2]/65535;let y=h[0]*w+h[1]*v+h[2]*g,k=h[3]*w+h[4]*v+h[5]*g,b=h[6]*w+h[7]*v+h[8]*g;y*=m,k*=m,b*=m,y=Math.max(0,Math.min(1,y)),k=Math.max(0,Math.min(1,k)),b=Math.max(0,Math.min(1,b)),y=Pc(y),k=Pc(k),b=Pc(b);const S=x/3*4;d[S]=Math.round(y*255),d[S+1]=Math.round(k*255),d[S+2]=Math.round(b*255),d[S+3]=255}}else for(let h=0;h<f.length;h+=3){const p=h/3*4;d[p]=f[h]>>8,d[p+1]=f[h+1]>>8,d[p+2]=f[h+2]>>8,d[p+3]=255}return u}finally{n.delete?n.delete():n.close()}}async function ZQ(e,t,r=!1,n=!1){const a=await Gu(),o=new a;try{if(t.renderMode==="zero-dependency"||t.renderMode==="advanced-zero-dep"){await o.open(new Uint8Array(e));const i=await o.metadata(!0),s=(i==null?void 0:i.white_level)||16383,l=o.getRawImage(),{width:u,height:d,data:f}=l,h=new Uint16Array(u*d),p=Math.pow(2,t.exposure);if(t.renderMode==="advanced-zero-dep"&&t.advancedZeroDep){const{bl:m,bg:x,fg:w}=t.advancedZeroDep,v=x.map((b,S)=>Math.max(0,b-m[S])),g=w.map((b,S)=>Math.max(0,b-m[S])),y=(v[1]+v[3])/2,k=(g[1]+g[3])/2;for(let b=0;b<d;b++){const S=b%2;for(let _=0;_<u;_++){const N=_%2;let P=0;!S&&!N?P=0:!S&&N?P=1:S&&!N?P=3:P=2;const M=f[b*u+_],E=m[P],C=v[P],A=g[P],L=Math.max(M-E,0),R=A-C||1e-9,G=(L-C)/R;let O;G<0?O=L*(y/Math.max(C,1e-9)):G>1?O=L*(k/Math.max(A,1e-9)):O=(1-G)*y+G*k,O*=p;let T;if(n){const B=Math.max(0,Math.min(1,O/65535));T=Pc(B)*65535}else T=O;h[b*u+_]=Math.round(Math.max(0,Math.min(65535,T)))}}}else{const m=t.blackLevel||[0,0,0,0],x=t.wbGains?t.wbGains[0]:1,w=t.wbGains?t.wbGains[1]:1;for(let v=0;v<d;v++){const g=v%2;for(let y=0;y<u;y++){const k=y%2,b=g*2+k,S=f[v*u+y],_=m[b];let N=S-_;b===0?N*=x:b===3&&(N*=w),N*=p;const P=Math.max(0,Math.min(1,N/(r?s-_:s))),M=n?Pc(P):P;h[v*u+y]=Math.round(M*65535)}}}return{data:h,width:u,height:d,channels:1}}else{const i=new Uint8Array(e.slice(0)),s={outputBps:16,noAutoBright:!r,bright:1,outputColor:n?1:0,useCameraWb:!0};t.blackLevel&&t.blackLevel.length===4&&(s.userBlack=0,s.userCblack=t.blackLevel.map(f=>Math.max(1,Math.round(f)))),t.demosaicMethod===-1?s.noInterpolation=!0:s.userQual=t.demosaicMethod,await o.open(i,s);const l=await o.imageData(),u=new Uint16Array(l.data.buffer,l.data.byteOffset,l.data.byteLength/2),d=Math.pow(2,t.exposure);if(d!==1)for(let f=0;f<u.length;f++)u[f]=Math.max(0,Math.min(65535,Math.round(u[f]*d)));return{data:u,width:l.width,height:l.height,channels:3}}}finally{o.delete?o.delete():o.close()}}const io=(e,t)=>{const r=localStorage.getItem(e);return r===null?t:typeof t=="boolean"?r==="true":typeof t=="number"?Number(r):r},QQ=({isOpen:e,onClose:t,onMinimize:r,rawImageData:n,roi:a,isBGGR:o,zIndex:i,onFocus:s,initialPosition:l,initialInternalState:u,onUpdateState:d,stackFiles:f})=>{const[h,p]=j.useState(()=>(u==null?void 0:u.channelMode)??io("hist_mode","All")),[m,x]=j.useState(()=>(u==null?void 0:u.minVal)??io("hist_min",0)),[w,v]=j.useState(()=>(u==null?void 0:u.maxVal)??io("hist_max",16383)),[g,y]=j.useState(()=>(u==null?void 0:u.binCount)??io("hist_bins",100)),[k,b]=j.useState(()=>(u==null?void 0:u.pointToPoint)??io("hist_ptp",!1)),[S,_]=j.useState(()=>(u==null?void 0:u.showTheo)??io("hist_show_theo",!1)),[N,P]=j.useState(()=>(u==null?void 0:u.theoMean)??io("hist_theo_mean","512")),[M,E]=j.useState(()=>(u==null?void 0:u.theoSigma)??io("hist_theo_sigma","10")),[C,A]=j.useState(()=>(u==null?void 0:u.theoAmp)??io("hist_theo_amp","1000")),[L,R]=j.useState(!1),[G,O]=j.useState(0),[T,B]=j.useState([]),[z,te]=j.useState(null),[Q,D]=j.useState(l||{x:100,y:100}),[J,q]=j.useState(!1),$=j.useRef({x:0,y:0});j.useEffect(()=>{localStorage.setItem("hist_mode",h),localStorage.setItem("hist_min",String(m)),localStorage.setItem("hist_max",String(w)),localStorage.setItem("hist_bins",String(g)),localStorage.setItem("hist_ptp",String(k)),localStorage.setItem("hist_show_theo",String(S)),localStorage.setItem("hist_theo_mean",N),localStorage.setItem("hist_theo_sigma",M),localStorage.setItem("hist_theo_amp",C),d&&d({channelMode:h,minVal:m,maxVal:w,binCount:g,pointToPoint:k,showTheo:S,theoMean:N,theoSigma:M,theoAmp:C})},[h,m,w,g,k,S,N,M,C]),j.useEffect(()=>{if(!e||!a||!n&&(!f||f.length===0))return;if(w<=m){te("Invalid range: Max must be greater than Min");return}te(null),R(!0),O(0);const oe=new AbortController,we=[],Ke=setTimeout(async()=>{try{let ge=[];if(f&&f.length>1){const xe=Math.min(f.length,navigator.hardwareConcurrency||4);for(let st=0;st<xe;st++){const tr=new Worker(new URL("/assets/histogramWorker-By4HuKAV.js",import.meta.url),{type:"module"});we.push(tr)}let Le=0,it=0;const xt=[],yr=async st=>{for(;Le<f.length;){if(oe.signal.aborted)return;const tr=Le++,Ge=f[tr];try{const Ut=await Ge.arrayBuffer();await new Promise(($t,rr)=>{st.onmessage=Nr=>{const{success:mt,hist:Ue,error:lt}=Nr.data;mt?(xt.push(Ue),it++,O(it),$t()):(console.error(`Error processing ${Ge.name}:`,lt),$t())},st.onerror=Nr=>{console.error("Worker Error",Nr),$t()},st.postMessage({buffer:Ut,roi:a,binCount:g,minVal:m,maxVal:w,pointToPoint:k},[Ut])})}catch(Ut){console.error("File Read Error",Ut)}}};if(await Promise.all(we.map(st=>yr(st))),we.forEach(st=>st.terminate()),we.length=0,xt.length>0){ge=xt[0];for(let st=1;st<xt.length;st++){const tr=xt[st];for(let Ge=0;Ge<tr.length;Ge++)ge[Ge]&&(ge[Ge].c0+=tr[Ge].c0,ge[Ge].c1+=tr[Ge].c1,ge[Ge].c2+=tr[Ge].c2,ge[Ge].c3+=tr[Ge].c3)}}}else n&&(ge=VQ(n.data,n.width,n.height,a.x,a.y,a.w,a.h,g,m,w,k));oe.signal.aborted||B(ge)}catch(ge){console.error("Histogram calc error:",ge),te("Error calculating histogram")}finally{oe.signal.aborted||R(!1)}},50);return()=>{clearTimeout(Ke),oe.abort(),we.length>0&&(console.log(`Terminating ${we.length} active histogram workers...`),we.forEach(ge=>ge.terminate()))}},[e,n,a==null?void 0:a.x,a==null?void 0:a.y,a==null?void 0:a.w,a==null?void 0:a.h,g,m,w,k,f]);const ne=j.useMemo(()=>{if(!S)return T;const oe=parseFloat(N),we=parseFloat(M),ve=parseFloat(C);return isNaN(oe)||isNaN(we)||isNaN(ve)||we<=0?T:T.map(Ke=>{const ge=Ke.binStart,xe=-Math.pow(ge-oe,2)/(2*Math.pow(we,2)),Le=ve*Math.exp(xe);return{...Ke,theory:Le}})},[T,S,N,M,C]),ce=()=>{if(T.length===0)return;let oe=0,we=0;if(T.forEach(ve=>{const Ke=Math.max(ve.c0||0,ve.c1||0,ve.c2||0,ve.c3||0);Ke>oe&&(oe=Ke,we=ve.binStart)}),P(we.toFixed(2)),A(oe.toString()),parseFloat(M)===0||isNaN(parseFloat(M))){const ve=w-m;E((ve/20).toFixed(2))}},Y=(oe,we,ve)=>{s&&s(),!(ve.closest("button")||ve.closest("input")||ve.closest("select"))&&(q(!0),$.current={x:oe-Q.x,y:we-Q.y})},ue=oe=>{Y(oe.clientX,oe.clientY,oe.target)},he=oe=>{const we=oe.touches[0];Y(we.clientX,we.clientY,oe.target)};if(j.useEffect(()=>{const oe=ve=>{if(J){const Ke="touches"in ve?ve.touches[0].clientX:ve.clientX,ge="touches"in ve?ve.touches[0].clientY:ve.clientY;D({x:Ke-$.current.x,y:ge-$.current.y})}},we=()=>q(!1);return J&&(window.addEventListener("mousemove",oe),window.addEventListener("mouseup",we),window.addEventListener("touchmove",oe,{passive:!1}),window.addEventListener("touchend",we)),()=>{window.removeEventListener("mousemove",oe),window.removeEventListener("mouseup",we),window.removeEventListener("touchmove",oe),window.removeEventListener("touchend",we)}},[J]),!e)return null;const K=o?{c0:"Blue",c1:"Green 1",c2:"Green 2",c3:"Red"}:{c0:"Red",c1:"Green 1",c2:"Green 2",c3:"Blue"},Oe=o?{c0:"#3b82f6",c1:"#22c55e",c2:"#4ade80",c3:"#ef4444"}:{c0:"#ef4444",c1:"#22c55e",c2:"#4ade80",c3:"#3b82f6"},Se="step";return c.jsxs("div",{className:"fixed flex flex-col bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 shadow-2xl rounded-xl resize-both overflow-hidden min-w-[500px] min-h-[400px] w-[900px] h-[650px]",style:{left:Q.x,top:Q.y,zIndex:i??100},onMouseDownCapture:s,children:[c.jsxs("div",{className:`flex justify-between items-center p-4 border-b border-gray-200 dark:border-slate-700 flex-shrink-0 bg-white dark:bg-slate-900 select-none touch-none ${J?"cursor-grabbing":"cursor-grab"}`,onMouseDown:ue,onTouchStart:he,children:[c.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-slate-100 pointer-events-none flex items-center gap-2",children:["ROI Histogram",f&&f.length>1&&c.jsxs("span",{className:"text-[10px] font-normal bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 px-2 py-0.5 rounded border border-purple-200 dark:border-purple-800 shadow-sm",children:["Stack Count: ",f.length]})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[r&&c.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),c.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 dark:hover:text-red-400 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors",children:c.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),c.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-800/50 flex flex-wrap gap-x-6 gap-y-3 items-center border-b border-gray-200 dark:border-slate-700 text-xs flex-shrink-0 relative z-10",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-gray-500 dark:text-slate-400 font-bold uppercase tracking-tight",children:"Channel:"}),c.jsxs("select",{value:h,onChange:oe=>p(oe.target.value),className:"bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-gray-900 dark:text-slate-100 outline-none focus:ring-1 focus:ring-cyan-500",children:[c.jsx("option",{value:"All",children:"All Colors"}),c.jsx("option",{value:"0",children:K.c0}),c.jsx("option",{value:"1",children:K.c1}),c.jsx("option",{value:"2",children:K.c2}),c.jsx("option",{value:"3",children:K.c3})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-gray-500 dark:text-slate-400 font-bold uppercase tracking-tight",children:"Range:"}),c.jsx("input",{type:"number",value:m,onChange:oe=>x(Number(oe.target.value)),className:"w-16 px-1.5 py-1 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-gray-900 dark:text-slate-100 text-right font-mono"}),c.jsx("span",{className:"text-gray-400",children:"-"}),c.jsx("input",{type:"number",value:w,onChange:oe=>v(Number(oe.target.value)),className:"w-16 px-1.5 py-1 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-gray-900 dark:text-slate-100 text-right font-mono"})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:k,onChange:oe=>b(oe.target.checked),className:"w-3.5 h-3.5 text-cyan-600 rounded border-gray-300 focus:ring-cyan-500"}),c.jsx("span",{className:"text-gray-700 dark:text-slate-300 select-none font-semibold",children:"PTP"})]}),!k&&c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx("span",{className:"text-gray-500 dark:text-slate-400 font-bold",children:"Bins:"}),c.jsx("input",{type:"number",value:g,onChange:oe=>y(Math.max(1,Number(oe.target.value))),className:"w-12 px-1.5 py-1 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-gray-900 dark:text-slate-100 text-right font-mono"})]})]}),c.jsx("div",{className:"h-6 w-px bg-gray-200 dark:bg-slate-700"}),c.jsxs("div",{className:`flex items-center gap-3 p-1.5 rounded-lg border transition-all ${S?"bg-amber-50/30 dark:bg-amber-900/10 border-amber-200/50 dark:border-amber-800/50":"bg-transparent border-transparent"}`,children:[c.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer select-none",children:[c.jsx("input",{type:"checkbox",checked:S,onChange:oe=>_(oe.target.checked),className:"w-3.5 h-3.5 text-amber-500 rounded border-gray-300 focus:ring-amber-500 bg-white dark:bg-slate-700"}),c.jsx("span",{className:`font-bold uppercase tracking-tight ${S?"text-amber-600 dark:text-amber-400":"text-gray-400"}`,children:"Theoretical Bell"})]}),S&&c.jsxs("div",{className:"flex items-center gap-2 animate-in fade-in slide-in-from-left-2 duration-200",children:[c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("span",{className:"text-[8px] text-gray-400 uppercase font-bold",children:"Mean()"}),c.jsx("input",{type:"text",value:N,onChange:oe=>P(oe.target.value),className:"w-14 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center text-[10px] py-0.5 outline-none focus:border-amber-500"})]}),c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("span",{className:"text-[8px] text-gray-400 uppercase font-bold",children:"Sigma()"}),c.jsx("input",{type:"text",value:M,onChange:oe=>E(oe.target.value),className:"w-12 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center text-[10px] py-0.5 outline-none focus:border-amber-500"})]}),c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("span",{className:"text-[8px] text-gray-400 uppercase font-bold",children:"Scale(A)"}),c.jsx("input",{type:"text",value:C,onChange:oe=>A(oe.target.value),className:"w-16 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center text-[10px] py-0.5 outline-none focus:border-amber-500"})]}),c.jsx("button",{onClick:ce,className:"mt-3 px-2 py-0.5 bg-amber-600 hover:bg-amber-500 text-white text-[9px] font-bold rounded shadow-sm active:scale-95 transition-all",title:"Set Mean and Amplitude based on current peak",children:"AUTO FIT"})]})]})]}),c.jsxs("div",{className:"flex-1 p-4 relative bg-white dark:bg-slate-900 overflow-hidden min-h-0",children:[c.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-0 pointer-events-none select-none opacity-10 mix-blend-normal dark:mix-blend-plus-lighter",children:c.jsx("svg",{viewBox:"0 0 500 60",className:"w-96 h-auto",children:c.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"36",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})}),L&&c.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center z-20 bg-white/50 dark:bg-slate-900/50 backdrop-blur-[1px]",children:[c.jsx("div",{className:"w-8 h-8 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mb-2"}),c.jsx("span",{className:"text-sm text-cyan-600 dark:text-cyan-400 font-semibold",children:f&&f.length>1?`Stacking Histogram... ${G}/${f.length}`:"Calculating Histogram..."})]}),z?c.jsx("div",{className:"flex items-center justify-center h-full text-red-500 relative z-10",children:z}):c.jsx("div",{className:"relative z-10 w-full h-full",children:c.jsx(vo,{width:"100%",height:"100%",children:c.jsxs(Fs,{data:ne,children:[c.jsx(Ja,{strokeDasharray:"3 3",stroke:"#374151",opacity:.3}),c.jsx(zn,{dataKey:"binStart",type:"number",domain:[m,w],tickFormatter:oe=>Math.floor(oe).toString(),tick:{fill:"#9ca3af",fontSize:12},allowDataOverflow:!0,label:{value:"DN Value",position:"insideBottom",offset:-5,fill:"#9ca3af",fontSize:12}}),c.jsx(Gn,{tick:{fill:"#9ca3af",fontSize:12},label:{value:"Count",angle:-90,position:"insideLeft",fill:"#9ca3af",fontSize:12}}),c.jsx(Kr,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"0.5rem",color:"#f3f4f6"},itemStyle:{fontSize:"12px"},labelFormatter:oe=>`DN: ${Math.round(Number(oe))}`,formatter:(oe,we)=>[Math.round(oe),we]}),c.jsx(Ya,{wrapperStyle:{paddingTop:"10px"}}),S&&c.jsx(Mr,{type:"monotone",dataKey:"theory",name:"Ideal Bell (Gaussian)",stroke:"#f59e0b",strokeWidth:2.5,strokeDasharray:"5 5",dot:!1,isAnimationActive:!1}),(h==="All"||h==="0")&&c.jsx(Mr,{type:Se,dataKey:"c0",name:K.c0,stroke:Oe.c0,dot:!1,strokeWidth:1.5,activeDot:{r:4},isAnimationActive:!1}),(h==="All"||h==="1")&&c.jsx(Mr,{type:Se,dataKey:"c1",name:K.c1,stroke:Oe.c1,dot:!1,strokeWidth:1.5,activeDot:{r:4},isAnimationActive:!1}),(h==="All"||h==="2")&&c.jsx(Mr,{type:Se,dataKey:"c2",name:K.c2,stroke:Oe.c2,dot:!1,strokeWidth:1.5,activeDot:{r:4},isAnimationActive:!1}),(h==="All"||h==="3")&&c.jsx(Mr,{type:Se,dataKey:"c3",name:K.c3,stroke:Oe.c3,dot:!1,strokeWidth:1.5,activeDot:{r:4},isAnimationActive:!1})]})})})]})]})},Il=({initialPosition:e={x:20,y:80},children:t,className:r="",onClose:n,zIndex:a,onFocus:o})=>{const[i,s]=j.useState(e),[l,u]=j.useState(!1),[d,f]=j.useState({x:0,y:0}),h=j.useRef(null),p=(w,v,g)=>{o&&o(),!(g.closest("button")||g.closest("input"))&&(u(!0),f({x:w-i.x,y:v-i.y}))},m=w=>{p(w.clientX,w.clientY,w.target)},x=w=>{const v=w.touches[0];p(v.clientX,v.clientY,w.target)};return j.useEffect(()=>{const w=g=>{var y,k;if(l){g.cancelable&&g.preventDefault();const b="touches"in g?g.touches[0].clientX:g.clientX,S="touches"in g?g.touches[0].clientY:g.clientY,_=b-d.x,N=S-d.y,P=window.innerWidth-(((y=h.current)==null?void 0:y.offsetWidth)||100),M=window.innerHeight-(((k=h.current)==null?void 0:k.offsetHeight)||100);s({x:Math.max(0,Math.min(_,P)),y:Math.max(0,Math.min(N,M))})}},v=()=>{u(!1)};return l&&(window.addEventListener("mousemove",w),window.addEventListener("mouseup",v),window.addEventListener("touchmove",w,{passive:!1}),window.addEventListener("touchend",v)),()=>{window.removeEventListener("mousemove",w),window.removeEventListener("mouseup",v),window.removeEventListener("touchmove",w),window.removeEventListener("touchend",v)}},[l,d]),c.jsxs("div",{ref:h,style:{left:i.x,top:i.y,zIndex:a??90},onMouseDownCapture:o,className:`fixed border-2 border-black dark:border-gray-500 bg-white dark:bg-black shadow-[8px_8px_0px_rgba(0,0,0,0.5)] dark:shadow-[8px_8px_0px_rgba(255,255,255,0.2)] transition-shadow duration-200 ${l?"cursor-grabbing shadow-[4px_4px_0px_rgba(0,0,0,0.5)]":""} ${r}`,children:[c.jsx("div",{onMouseDown:m,onTouchStart:x,className:"absolute inset-0 w-full h-8 cursor-grab active:cursor-grabbing z-0 touch-none bg-gray-200 dark:bg-gray-800 border-b-2 border-black dark:border-gray-500",title:"Drag to move"}),c.jsx("div",{className:"relative z-10 pointer-events-none",children:c.jsx("div",{className:"pointer-events-auto",children:t})})]})},JQ=({isOpen:e,onClose:t,rawImageData:r,roi:n,selectedChannel:a,channelName:o,zIndex:i,onFocus:s,initialPosition:l})=>{const u=j.useRef(null),[d,f]=j.useState(!1),[h,p]=j.useState(null),[m,x]=j.useState(null),[w,v]=j.useState(!0),[g,y]=j.useState(!0),[k,b]=j.useState("-1"),[S,_]=j.useState("8"),[N,P]=j.useState(64),[M,E]=j.useState(45),[C,A]=j.useState(60),L=j.useRef(!1),R=j.useRef({x:0,y:0});j.useEffect(()=>{!e||!r||!n||(f(!0),x(null),setTimeout(()=>{try{const B=YQ(r.data,r.width,r.height,n,a,g);B?p(B):x("Could not extract valid data from ROI.")}catch(B){console.error("2D FFT Error",B),x("Calculation Error: "+B.message)}finally{f(!1)}},50))},[e,r,n,a,g]),j.useEffect(()=>{if(!h||!u.current)return;const B=u.current,z=B.getContext("2d");if(!z)return;const te=B.width,Q=B.height;z.clearRect(0,0,te,Q),z.fillStyle="#0f172a",z.fillRect(0,0,te,Q);const D=h.width,J=h.height,q=h.data,$=Math.pow(10,parseFloat(k)||-1),ne=Math.pow(10,parseFloat(S)||8);let ce=$,Y=ne;w&&(ce=Math.log10(Math.max(1e-10,$)),Y=Math.log10(Math.max(1e-10,ne)));const ue=Y-ce||1,he=te/2,K=Q/2+50,Oe=Math.min(te,Q)*.4,Se=.6,oe=M*Math.PI/180,we=C*Math.PI/180,ve=Math.cos(oe),Ke=Math.sin(oe),ge=Math.cos(we),xe=Math.sin(we),Le=(Ue,lt,jt)=>{const nr=Ue*ve-lt*Ke,ar=Ue*Ke+lt*ve,Zr=ar*ge-jt*xe,Dt=ar*xe+jt*ge;return{x:he+nr*Oe,y:K-Zr*Oe,depth:Dt}},it=Math.max(16,N),xt=Math.max(1,Math.floor(D/it)),yr=Math.max(1,Math.floor(J/it)),st=(Ue,lt)=>{let jt=q[lt*D+Ue];return w&&(jt=Math.log10(Math.max(1e-10,jt))),jt=Math.max(ce,Math.min(Y,jt)),(jt-ce)/ue},tr=Ue=>`hsl(${(1-Ue)*240}, 80%, 50%)`,Ge=[];for(let Ue=0;Ue<J-yr;Ue+=yr)for(let lt=0;lt<D-xt;lt+=xt){const jt=lt,nr=Ue,ar=lt+xt,Zr=Ue,Dt=lt+xt,gn=Ue+yr,bt=lt,mn=Ue+yr,An=st(jt,nr),yn=st(ar,Zr),dr=st(Dt,gn),vr=st(bt,mn),xr=(An+yn+dr+vr)/4,vn=Le(jt/(D-1)-.5,nr/(J-1)-.5,An*Se),on=Le(ar/(D-1)-.5,Zr/(J-1)-.5,yn*Se),br=Le(Dt/(D-1)-.5,gn/(J-1)-.5,dr*Se),Wn=Le(bt/(D-1)-.5,mn/(J-1)-.5,vr*Se),na=(vn.depth+on.depth+br.depth+Wn.depth)/4;Ge.push({pts:[{x:vn.x,y:vn.y},{x:on.x,y:on.y},{x:br.x,y:br.y},{x:Wn.x,y:Wn.y}],avgDepth:na,avgZ:xr})}Ge.sort((Ue,lt)=>Ue.avgDepth-lt.avgDepth),z.lineWidth=.5,Ge.forEach(Ue=>{z.fillStyle=tr(Ue.avgZ),z.beginPath(),z.moveTo(Ue.pts[0].x,Ue.pts[0].y),z.lineTo(Ue.pts[1].x,Ue.pts[1].y),z.lineTo(Ue.pts[2].x,Ue.pts[2].y),z.lineTo(Ue.pts[3].x,Ue.pts[3].y),z.closePath(),z.fill()}),z.fillStyle="#aaa",z.font="10px monospace";const Ut=Le(-.5,-.5,0),$t=Le(.5,-.5,0),rr=Le(-.5,.5,0),Nr=Le(.5,.5,0);z.strokeStyle="#666",z.beginPath(),z.moveTo(Ut.x,Ut.y),z.lineTo($t.x,$t.y),z.lineTo(Nr.x,Nr.y),z.lineTo(rr.x,rr.y),z.closePath(),z.stroke(),z.fillText("0",Ut.x-10,Ut.y+10),z.fillText("Fx",$t.x+5,$t.y),z.fillText("Fy",rr.x-15,rr.y);const mt=Le(-.5,-.5,Se);z.strokeStyle="#fff",z.beginPath(),z.moveTo(Ut.x,Ut.y),z.lineTo(mt.x,mt.y),z.stroke(),z.fillText(`10^${S}`,mt.x-25,mt.y),z.fillText(`10^${k}`,Ut.x-25,Ut.y)},[h,w,M,C,k,S,N]);const G=B=>{L.current=!0,R.current={x:B.clientX,y:B.clientY}},O=B=>{if(!L.current)return;const z=B.clientX-R.current.x,te=B.clientY-R.current.y;E(Q=>Q-z*.5),A(Q=>Math.max(0,Math.min(90,Q+te*.5))),R.current={x:B.clientX,y:B.clientY}},T=()=>{L.current=!1};return e?c.jsxs(Il,{initialPosition:l||{x:100,y:100},onClose:t,zIndex:i,onFocus:s,className:"w-[700px] h-[600px] bg-slate-900 border border-slate-700 flex flex-col overflow-hidden shadow-2xl",children:[c.jsxs("div",{className:"flex justify-between items-center px-4 py-2 border-b border-slate-700 bg-slate-800",children:[c.jsxs("h3",{className:"text-sm font-bold text-slate-200 flex items-center gap-2",children:["2D FFT Power Spectrum - ",o,h&&c.jsxs("span",{className:"text-[10px] font-normal text-slate-400 bg-slate-700 px-2 py-0.5 rounded",children:[h.width,"x",h.height," (Chirp-Z)"]})]}),c.jsx("div",{className:"flex items-center gap-2",children:c.jsx("button",{onClick:t,className:"text-slate-400 hover:text-red-400 transition-colors",children:c.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})})]}),c.jsxs("div",{className:"p-3 bg-slate-800/80 flex flex-wrap gap-4 text-xs items-center border-b border-slate-700",children:[c.jsxs("div",{className:"flex items-center gap-2 bg-slate-900 px-2 py-1 rounded border border-slate-600",children:[c.jsx("span",{className:"text-slate-400 font-bold",children:"Range (10^x):"}),c.jsx("input",{type:"number",value:k,onChange:B=>b(B.target.value),className:"w-10 bg-transparent text-slate-200 text-center border-b border-slate-600 focus:border-cyan-500 outline-none"}),c.jsx("span",{className:"text-slate-500",children:"to"}),c.jsx("input",{type:"number",value:S,onChange:B=>_(B.target.value),className:"w-10 bg-transparent text-slate-200 text-center border-b border-slate-600 focus:border-cyan-500 outline-none"})]}),c.jsxs("div",{className:"flex items-center gap-2 bg-slate-900 px-2 py-1 rounded border border-slate-600",children:[c.jsx("span",{className:"text-slate-400 font-bold",children:"Density:"}),c.jsx("input",{type:"range",min:"16",max:"128",step:"16",value:N,onChange:B=>P(Number(B.target.value)),className:"w-20 h-1.5 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-cyan-500"}),c.jsx("span",{className:"text-slate-300 w-6 text-right",children:N})]}),c.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none text-slate-300 hover:text-white",children:[c.jsx("input",{type:"checkbox",checked:w,onChange:B=>v(B.target.checked),className:"rounded bg-slate-700 border-slate-600 accent-cyan-500"}),"Log Z"]}),c.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none text-slate-300 hover:text-white",children:[c.jsx("input",{type:"checkbox",checked:g,onChange:B=>y(B.target.checked),className:"rounded bg-slate-700 border-slate-600 accent-fuchsia-500"}),"Hanning"]})]}),c.jsxs("div",{className:"flex-1 relative bg-slate-900 cursor-move",children:[d&&c.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-slate-900/80 z-20 backdrop-blur-sm",children:c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx("div",{className:"w-8 h-8 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin"}),c.jsx("span",{className:"text-cyan-400 font-bold animate-pulse text-sm",children:"Computing full-size 2D FFT..."})]})}),m&&c.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-slate-900/80 z-20 text-red-400 p-4 text-center",children:m}),c.jsx("canvas",{ref:u,width:700,height:500,className:"w-full h-full block",onMouseDown:G,onMouseMove:O,onMouseUp:T,onMouseLeave:T}),c.jsx("div",{className:"absolute bottom-2 right-2 text-[9px] text-slate-600 pointer-events-none",children:"Drag to Rotate"})]})]}):null},eJ=.5,ny=1e-10,mk=(e,t)=>{const r=e.length-1;if(r<0)return ny;const n=t/eJ*r,a=Math.round(n),o=e[Math.min(Math.max(0,a),r)]||0;return Math.max(o,ny)},tJ=(e,t)=>{if(t<=0)return[1];const r=new Array(e);let n=0;for(let a=0;a<e;a++){const o=a-(e-1)/2,i=Math.exp(-(o*o)/(2*t*t));r[a]=i,n+=i}for(let a=0;a<e;a++)r[a]/=n;return r},rJ=({isOpen:e,onClose:t,onMinimize:r,rawImageData:n,roi:a,isBGGR:o,onUpdateROI:i,zIndex:s,onFocus:l,initialPosition:u,initialInternalState:d,onUpdateState:f,stackFiles:h})=>{const[p,m]=j.useState((d==null?void 0:d.selectedChannel)??0),[x,w]=j.useState(()=>(d==null?void 0:d.yMinExp)||localStorage.getItem("fft_y_min")||"1.73"),[v,g]=j.useState(()=>(d==null?void 0:d.yMaxExp)||localStorage.getItem("fft_y_max")||"8.00"),[y,k]=j.useState((d==null?void 0:d.useHanning)??!0),[b,S]=j.useState((d==null?void 0:d.doAverage)??!0),[_,N]=j.useState((d==null?void 0:d.welchSegments)??1),[P,M]=j.useState((d==null?void 0:d.showH)??!0),[E,C]=j.useState((d==null?void 0:d.showV)??!0),[A,L]=j.useState((d==null?void 0:d.interlaceRows)??!1),[R,G]=j.useState((d==null?void 0:d.rowGroup)??0),[O,T]=j.useState((d==null?void 0:d.interlaceCols)??!1),[B,z]=j.useState((d==null?void 0:d.colGroup)??0),[te,Q]=j.useState(()=>(d==null?void 0:d.theoSigma)||localStorage.getItem("fft_theo_sigma")||"0.00"),[D,J]=j.useState(()=>(d==null?void 0:d.theoKernelSize)||localStorage.getItem("fft_theo_ksize")||"3"),[q,$]=j.useState(()=>(d==null?void 0:d.theoNoiseStd)||localStorage.getItem("fft_theo_noise")||"7.5"),[ne,ce]=j.useState(()=>(d==null?void 0:d.theoScale)||localStorage.getItem("fft_theo_scale")||"1.0"),[Y,ue]=j.useState((d==null?void 0:d.intStart)||"0"),[he,K]=j.useState((d==null?void 0:d.intEnd)||"0.5"),[Oe,Se]=j.useState(!1),[oe,we]=j.useState([]),[ve,Ke]=j.useState(!1),[ge,xe]=j.useState(0),[Le,it]=j.useState(null),[xt,yr]=j.useState(!1),[st,tr]=j.useState(!1),[Ge,Ut]=j.useState(null),[$t,rr]=j.useState(!1),[Nr,mt]=j.useState(null),[Ue,lt]=j.useState(u||{x:50,y:50}),[jt,nr]=j.useState(!1),[ar,Zr]=j.useState(null),[Dt,gn]=j.useState({}),bt=j.useRef({x:0,y:0}),mn=o?{c0:"#3b82f6",c1:"#22c55e",c2:"#4ade80",c3:"#ef4444"}:{c0:"#ef4444",c1:"#22c55e",c2:"#4ade80",c3:"#3b82f6"},An=j.useMemo(()=>o?{0:"Blue",1:"Green 1",2:"Green 2",3:"Red"}:{0:"Red",1:"Green 1",2:"Green 2",3:"Blue"},[o]);j.useEffect(()=>{localStorage.setItem("fft_y_min",x),localStorage.setItem("fft_y_max",v),localStorage.setItem("fft_theo_sigma",te),localStorage.setItem("fft_theo_ksize",D),localStorage.setItem("fft_theo_noise",q),localStorage.setItem("fft_theo_scale",ne)},[x,v,te,D,q,ne]),j.useEffect(()=>{if(!e||!n||!a)return;Ke(!0),it(null),xe(0);const ie=setTimeout(async()=>{try{const Ae=p===-1?[0,1,2,3]:[p],ze=h&&h.length>1?h:[null],et=ze.length,Qe={};let Nt={h:0,v:0};for(let Fe=0;Fe<et;Fe++){xe(Fe+1);let ct;if(ze[Fe]){const Mt=await ze[Fe].arrayBuffer();ct=await y0(Mt)}else ct=n;for(const Mt of Ae){const At=KQ(ct.data,ct.width,ct.height,a,Mt,!1,y,{rows:A,rowGroup:R,cols:O,colGroup:B},b,_);At&&(Qe[Mt]||(Qe[Mt]={h:new Array(At.avgHoriz.length).fill(0),v:new Array(At.avgVert.length).fill(0)}),At.avgHoriz.forEach((ir,pe)=>Qe[Mt].h[pe]+=ir/et),At.avgVert.forEach((ir,pe)=>Qe[Mt].v[pe]+=ir/et),Nt=At.sampleCount)}}if(Object.keys(Qe).length===0)throw new Error("ROI too small or no data found.");const hr=1024,or=[];for(let Fe=0;Fe<hr;Fe++){const ct=Fe/(hr-1)*.5,Mt={freq:parseFloat(ct.toFixed(6))};for(const At of Ae)Qe[At]&&(Mt[`c${At}_h`]=mk(Qe[At].h,ct),Mt[`c${At}_v`]=mk(Qe[At].v,ct));or.push(Mt)}Zr(Nt),we(or)}catch(Ae){console.error("FFT Loop Failed:",Ae),it(Ae.message||"Unknown error during FFT processing")}finally{Ke(!1)}},100);return()=>clearTimeout(ie)},[e,n,a==null?void 0:a.x,a==null?void 0:a.y,a==null?void 0:a.w,a==null?void 0:a.h,p,y,b,_,A,R,O,B,h]);const yn=()=>{const ie=parseFloat(Y),Ae=parseFloat(he);if(isNaN(ie)||isNaN(Ae))return;const ze={},et=p===-1?[0,1,2,3]:[p],Qe=oe.filter(Nt=>Nt.freq>=ie&&Nt.freq<=Ae);if(Qe.length===0){gn({});return}et.forEach(Nt=>{let hr=0,or=0;Qe.forEach(Fe=>{const ct=Fe[`c${Nt}_h`],Mt=Fe[`c${Nt}_v`];typeof ct=="number"&&(hr+=ct),typeof Mt=="number"&&(or+=Mt)}),ze[Nt]={h:hr/Qe.length,v:or/Qe.length,count:Qe.length}}),gn(ze)},dr=j.useMemo(()=>{const ie=parseFloat(te),Ae=parseInt(D),ze=parseFloat(q),et=parseFloat(ne);if(isNaN(ie)||isNaN(Ae)||isNaN(ze)||isNaN(et)||oe.length===0)return oe;const Qe=tJ(Ae,ie),Nt=Qe.reduce((Fe,ct)=>Fe+ct*ct,0),hr=(Ae-1)/2,or=ze*ze*et;return oe.map(Fe=>{const ct=Fe.freq,Mt=2*Math.PI*ct;let At=0,ir=0;for(let Er=0;Er<Ae;Er++){const Sa=Er-hr,Qr=Qe[Er],xn=-Mt*Sa;At+=Qr*Math.cos(xn),ir+=Qr*Math.sin(xn)}const pe=At*At+ir*ir;return{...Fe,theory:Math.max(ny,or*Nt*pe)}})},[oe,te,D,q,ne]),vr=ie=>{ie&&ie.activeLabel!==void 0&&(rr(!0),mt(Number(ie.activeLabel)),Ut(null))},xr=ie=>{if($t&&Nr!==null&&ie&&ie.activeLabel!==void 0){const Ae=Number(ie.activeLabel);Ut([Math.min(Nr,Ae),Math.max(Nr,Ae)])}},vn=()=>rr(!1),on=(ie,Ae,ze)=>{l&&l(),!(ze.closest("button")||ze.closest("input"))&&(nr(!0),bt.current={x:ie-Ue.x,y:Ae-Ue.y})},br=ie=>{on(ie.clientX,ie.clientY,ie.target)},Wn=ie=>{const Ae=ie.touches[0];on(Ae.clientX,Ae.clientY,ie.target)};j.useEffect(()=>{const ie=ze=>{if(jt){const et="touches"in ze?ze.touches[0].clientX:ze.clientX,Qe="touches"in ze?ze.touches[0].clientY:ze.clientY;lt({x:et-bt.current.x,y:Qe-bt.current.y})}},Ae=()=>nr(!1);return jt&&(window.addEventListener("mousemove",ie),window.addEventListener("mouseup",Ae),window.addEventListener("touchmove",ie,{passive:!1}),window.addEventListener("touchend",Ae)),()=>{window.removeEventListener("mousemove",ie),window.removeEventListener("mouseup",Ae),window.removeEventListener("touchmove",ie),window.removeEventListener("touchend",Ae)}},[jt]);const na=j.useMemo(()=>{if(!Ge||oe.length===0)return null;const[ie,Ae]=Ge,ze=oe.filter(Nt=>Nt.freq>=ie&&Nt.freq<=Ae);if(ze.length===0)return null;const et=p===-1?[0,1,2,3]:[p],Qe={};return et.forEach(Nt=>{["h","v"].forEach(hr=>{const or=`c${Nt}_${hr}`;let Fe=0,ct=0;for(const Mt of ze){const At=Mt[or];typeof At=="number"&&(Fe+=At,ct++)}ct>0&&(Qe[`${or}_sigma`]=Math.sqrt(Fe/ct))})}),{count:ze.length,stats:Qe}},[Ge,oe,p]),Zt=()=>{if(oe.length===0)return;let ie=1/0,Ae=-1/0;if(oe.forEach(hr=>{hr.freq<.01||hr.freq>.49||Object.keys(hr).forEach(or=>{if(or==="freq"||or==="theory")return;const Fe=hr[or];typeof Fe=="number"&&Fe>0&&(Fe<ie&&(ie=Fe),Fe>Ae&&(Ae=Fe))})}),ie===1/0)return;const ze=Math.log10(ie),et=Math.log10(Ae),Qe=et-ze,Nt=(Qe===0?1:Qe)*.1;w((ze-Nt).toFixed(2)),g((et+Nt).toFixed(2))},Qt=(ie,Ae)=>{a&&i&&i({...a,x:a.x+ie,y:a.y+Ae})},Bt=(ie,Ae)=>{a&&i&&i({...a,w:Math.max(2,a.w+ie),h:Math.max(2,a.h+Ae)})};return e?c.jsxs("div",{className:"fixed flex flex-col bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 shadow-2xl rounded-xl overflow-hidden resize-both min-w-[750px] min-h-[500px]",style:{left:Ue.x,top:Ue.y,width:"1000px",height:"850px",zIndex:s??100},onMouseDownCapture:l,children:[c.jsxs("div",{className:`flex justify-between items-center p-3 border-b border-gray-200 dark:border-slate-700 flex-shrink-0 bg-gray-50 dark:bg-slate-800 z-50 relative select-none touch-none ${jt?"cursor-grabbing":"cursor-grab"}`,onMouseDown:br,onTouchStart:Wn,children:[c.jsxs("h2",{className:"text-lg font-bold text-gray-900 dark:text-slate-100 flex items-center gap-2 pointer-events-none",children:["Power Spectrum Analysis",c.jsx("span",{className:"text-[10px] font-normal bg-white dark:bg-slate-700 px-2 py-1 rounded text-gray-500 border border-gray-200 dark:border-slate-600 shadow-sm",children:h&&h.length>1?`Stack Avg (${h.length} frames)`:"Single Mode"})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[r&&c.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),c.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 dark:hover:text-red-400 p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors",children:c.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),c.jsxs("div",{className:"flex flex-col bg-gray-50 dark:bg-slate-900/80 border-b border-gray-200 dark:border-slate-800 flex-shrink-0 z-40 relative px-4 py-3 gap-3 overflow-x-auto",children:[c.jsxs("div",{className:"flex items-center gap-6",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-[10px] font-bold text-gray-500 dark:text-slate-400 uppercase tracking-widest",children:"Channel"}),c.jsxs("div",{className:"flex bg-gray-100 dark:bg-slate-800 rounded-lg p-0.5 border border-gray-200 dark:border-slate-700 shadow-inner",children:[c.jsx("button",{onClick:()=>m(-1),className:`px-3 py-1 rounded text-[10px] font-bold transition-all ${p===-1?"bg-slate-700 text-white shadow-md":"text-gray-500 dark:text-slate-500 hover:bg-white dark:hover:bg-slate-700"}`,children:"All"}),[0,1,2,3].map(ie=>c.jsx("button",{onClick:()=>m(ie),className:`px-3 py-1 rounded text-[10px] font-bold transition-all ${p===ie?"bg-cyan-600 text-white shadow-md":"text-gray-500 dark:text-slate-500 hover:bg-white dark:hover:bg-slate-700"}`,children:An[ie]},ie))]})]}),c.jsx("div",{className:"h-6 w-px bg-gray-200 dark:bg-slate-700 mx-2"}),c.jsxs("button",{onClick:()=>Se(!0),className:"flex items-center gap-1.5 px-4 py-1.5 bg-indigo-600 hover:bg-indigo-500 text-white text-[10px] font-bold rounded-lg shadow-lg shadow-indigo-500/30 transition-all active:scale-95 group border border-indigo-400/30",children:[c.jsx("svg",{className:"w-3.5 h-3.5 group-hover:animate-pulse",fill:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"2D Diagonal"]}),c.jsx("div",{className:"h-6 w-px bg-gray-200 dark:bg-slate-700 mx-2"}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"text-[10px] font-bold text-indigo-500 dark:text-indigo-400 uppercase tracking-widest",children:"Model"}),c.jsx("div",{className:"flex gap-2",children:[{label:"KSize",val:D,set:J,w:"w-10"},{label:"Sigma",val:te,set:Q,w:"w-12"},{label:"Noise()",val:q,set:$,w:"w-12"},{label:"Scale",val:ne,set:ce,w:"w-12"}].map(ie=>c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("label",{className:"text-[8px] text-gray-400 dark:text-slate-500 uppercase font-bold mb-0.5",children:ie.label}),c.jsx("input",{type:"text",value:ie.val,onChange:Ae=>ie.set(Ae.target.value),className:`${ie.w} text-[11px] bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded px-1.5 py-0.5 text-center text-gray-900 dark:text-slate-100 outline-none focus:border-indigo-500 shadow-sm`})]},ie.label))})]})]}),c.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[c.jsxs("div",{className:"flex items-center gap-3 mr-2",children:[c.jsx("span",{className:"text-[10px] font-bold text-fuchsia-600 dark:text-fuchsia-500 uppercase tracking-widest",children:"Welch"}),c.jsx("input",{type:"range",min:"1",max:"16",step:"1",value:_,onChange:ie=>N(parseInt(ie.target.value)),className:"w-24 h-1.5 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-fuchsia-500"}),c.jsx("span",{className:"text-[10px] font-mono text-fuchsia-600 dark:text-fuchsia-400 w-4 font-bold",children:_})]}),c.jsx("div",{className:"h-6 w-px bg-gray-200 dark:bg-slate-700"}),c.jsxs("div",{className:"flex flex-col gap-1 px-2",children:[c.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer text-[10px] text-gray-500 dark:text-slate-400 hover:text-gray-900 dark:hover:text-slate-200 select-none",children:[c.jsx("input",{type:"checkbox",checked:A,onChange:ie=>L(ie.target.checked),className:"w-3 h-3 rounded text-cyan-600 border-gray-300 dark:border-slate-700 bg-white dark:bg-slate-800"})," Row Int."]}),c.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer text-[10px] text-gray-500 dark:text-slate-400 hover:text-gray-900 dark:hover:text-slate-200 select-none",children:[c.jsx("input",{type:"checkbox",checked:O,onChange:ie=>T(ie.target.checked),className:"w-3 h-3 rounded text-cyan-600 border-gray-300 dark:border-slate-700 bg-white dark:bg-slate-800"})," Col Int."]})]}),c.jsxs("div",{className:"flex flex-col gap-1.5 bg-gray-100 dark:bg-slate-800/60 p-1.5 rounded-lg border border-gray-200 dark:border-slate-700",children:[c.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[c.jsx("div",{className:`w-3.5 h-3.5 rounded-md border flex items-center justify-center transition-colors ${y?"bg-fuchsia-600 border-fuchsia-600":"bg-white dark:bg-slate-900 border-gray-300 dark:border-slate-600"}`,children:y&&c.jsx("svg",{className:"w-2.5 h-2.5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:4,children:c.jsx("path",{d:"M5 13l4 4L19 7"})})}),c.jsx("input",{type:"checkbox",checked:y,onChange:ie=>k(ie.target.checked),className:"hidden"}),c.jsx("span",{className:"text-[10px] font-bold text-gray-700 dark:text-slate-300",children:"Hanning"})]}),c.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[c.jsx("div",{className:`w-3.5 h-3.5 rounded-md border flex items-center justify-center transition-colors ${b?"bg-cyan-600 border-cyan-600":"bg-white dark:bg-slate-900 border-gray-300 dark:border-slate-600"}`,children:b&&c.jsx("svg",{className:"w-2.5 h-2.5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:4,children:c.jsx("path",{d:"M5 13l4 4L19 7"})})}),c.jsx("input",{type:"checkbox",checked:b,onChange:ie=>S(ie.target.checked),className:"hidden"}),c.jsx("span",{className:"text-[10px] font-bold text-gray-700 dark:text-slate-300",children:"Average"})]})]}),c.jsxs("div",{className:"flex gap-2 bg-gray-100 dark:bg-slate-800 p-1 rounded-lg border border-gray-200 dark:border-slate-700",children:[c.jsxs("button",{onClick:()=>M(!P),className:`px-2.5 py-1 rounded-md border text-[11px] font-bold transition-all flex items-center gap-1.5 ${P?"bg-cyan-900/40 text-cyan-400 border-cyan-500 shadow-[0_0_8px_rgba(6,182,212,0.3)]":"bg-white dark:bg-slate-900 text-gray-400 border-gray-300 dark:border-slate-700"}`,children:[c.jsx("div",{className:`w-2 h-2 rounded-full ${P?"bg-cyan-400":"bg-gray-400"}`})," H"]}),c.jsxs("button",{onClick:()=>C(!E),className:`px-2.5 py-1 rounded-md border text-[11px] font-bold transition-all flex items-center gap-1.5 ${E?"bg-cyan-900/40 text-cyan-400 border-cyan-500 shadow-[0_0_8px_rgba(6,182,212,0.3)]":"bg-white dark:bg-slate-900 text-gray-400 border-gray-300 dark:border-slate-700"}`,children:[c.jsx("div",{className:`w-2 h-2 rounded-full ${P?"bg-cyan-400":"bg-gray-400"}`})," V"]})]}),c.jsxs("div",{className:"ml-auto flex gap-2",children:[c.jsx("button",{onClick:()=>tr(!st),className:`px-3 py-1.5 rounded-lg text-[10px] font-bold transition-all border ${st?"bg-emerald-600 text-white border-emerald-600 shadow-md":"bg-white dark:bg-slate-900 text-emerald-600 dark:text-emerald-400 border-emerald-200 dark:border-emerald-800 hover:bg-emerald-50"}`,children:""}),c.jsx("button",{onClick:()=>yr(!xt),className:`px-3 py-1.5 rounded-lg text-[10px] font-bold transition-all border ${xt?"bg-indigo-600 text-white border-indigo-600 shadow-md":"bg-white dark:bg-slate-900 text-indigo-600 dark:text-indigo-400 border-indigo-200 dark:border-indigo-800 hover:bg-indigo-50"}`,children:"ROI"})]})]}),c.jsxs("div",{className:"flex items-center gap-4 justify-end border-t border-gray-200 dark:border-slate-800/50 pt-2.5",children:[c.jsx("button",{onClick:Zt,className:"px-4 py-1 text-[10px] font-bold bg-cyan-600/10 text-cyan-600 dark:text-cyan-400 hover:bg-cyan-600/20 rounded-md border border-cyan-500/30 transition-all uppercase tracking-widest shadow-sm",children:"Auto"}),c.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-bold text-gray-500 dark:text-slate-400 uppercase",children:["Y-AXIS (LOG)",c.jsxs("div",{className:"flex items-center bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-md overflow-hidden shadow-sm",children:[c.jsx("input",{type:"text",value:x,onChange:ie=>w(ie.target.value),className:"w-14 px-2 py-1 bg-transparent text-center outline-none text-gray-900 dark:text-slate-100 border-r border-gray-200 dark:border-slate-700"}),c.jsx("span",{className:"px-2 text-gray-400",children:"to"}),c.jsx("input",{type:"text",value:v,onChange:ie=>g(ie.target.value),className:"w-14 px-2 py-1 bg-transparent text-center outline-none text-gray-900 dark:text-slate-100"})]})]})]})]}),c.jsxs("div",{className:"flex-1 p-4 overflow-hidden flex flex-col gap-2 relative bg-gray-50/30 dark:bg-slate-900/30",children:[c.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none z-[50] select-none opacity-10",children:c.jsx("svg",{viewBox:"0 0 500 100",className:"w-3/4 h-auto drop-shadow-lg",children:c.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"24",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})}),ve&&c.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center z-[55] bg-white/90 dark:bg-slate-900/90 backdrop-blur-[2px]",children:[c.jsx("div",{className:"w-10 h-10 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mb-4"}),c.jsx("span",{className:"text-cyan-600 dark:text-cyan-400 font-bold",children:"Computing FFT Stack..."}),h&&h.length>1&&c.jsxs("span",{className:"text-xs text-gray-500 mt-2 font-mono",children:["Processing frame ",ge," / ",h.length]})]}),Le?c.jsx("div",{className:"flex items-center justify-center h-full text-red-500 font-semibold",children:Le}):c.jsxs("div",{className:"flex-1 bg-white dark:bg-slate-950 border border-gray-200 dark:border-slate-800 rounded-xl p-2 flex flex-col relative z-20 shadow-xl overflow-hidden",children:[c.jsx("div",{className:"flex-1 relative z-10",onMouseDown:vr,onMouseMove:xr,onMouseUp:vn,style:{cursor:$t?"col-resize":"crosshair"},children:c.jsx(vo,{width:"100%",height:"100%",children:c.jsxs(Fs,{data:dr,margin:{top:10,right:10,bottom:20,left:0},children:[c.jsx(Ja,{strokeDasharray:"3 3",stroke:"#374151",opacity:.08}),c.jsx(zn,{dataKey:"freq",type:"number",domain:[0,.5],tickCount:6,tick:{fill:"#6b7280",fontSize:10},label:{value:"Frequency (cy/px)",position:"insideBottom",offset:-10,fill:"#6b7280",fontSize:11}}),c.jsx(Gn,{scale:"log",domain:[Math.pow(10,parseFloat(x)),Math.pow(10,parseFloat(v))],allowDataOverflow:!0,tick:{fill:"#6b7280",fontSize:10},tickFormatter:ie=>Number(ie).toExponential(0),width:45}),c.jsx(Kr,{contentStyle:{backgroundColor:"rgba(15, 23, 42, 0.95)",border:"1px solid #334155",color:"#f3f4f6",fontSize:"11px",borderRadius:"8px"},formatter:ie=>[Number(ie).toExponential(3),""],labelFormatter:ie=>`Freq: ${Number(ie).toFixed(4)}`}),c.jsx(Ya,{wrapperStyle:{fontSize:"10px"}}),c.jsx(Mr,{type:"monotone",dataKey:"theory",name:"Theory Model",stroke:"#6366f1",strokeWidth:2,dot:!1,isAnimationActive:!1}),[0,1,2,3].flatMap(ie=>{if(p!==-1&&p!==ie)return[];const Ae=`c${ie}_h`,ze=`c${ie}_v`,et=mn[`c${ie}`],Qe=[];return P&&Qe.push(c.jsx(Mr,{type:"linear",dataKey:Ae,name:`${An[ie]} (H)`,stroke:et,strokeWidth:1,dot:!1,isAnimationActive:!1},`${ie}_h`)),E&&Qe.push(c.jsx(Mr,{type:"linear",dataKey:ze,name:`${An[ie]} (V)`,stroke:et,strokeWidth:1,strokeDasharray:"3 3",dot:!1,isAnimationActive:!1},`${ie}_v`)),Qe}),Ge&&c.jsx(zu,{x1:Ge[0],x2:Ge[1],fill:"#8884d8",fillOpacity:.15})]})})}),na&&Ge&&c.jsxs("div",{className:"absolute bottom-12 left-12 bg-slate-900/90 backdrop-blur-md p-3 rounded-lg border border-indigo-500/50 shadow-2xl z-30 text-[10px] font-mono text-slate-100",children:[c.jsxs("div",{className:"text-indigo-400 font-bold mb-1 border-b border-indigo-500/30 pb-1",children:["Range: ",Ge[0].toFixed(3),"-",Ge[1].toFixed(3)]}),Object.entries(na.stats).map(([ie,Ae])=>c.jsxs("div",{className:"flex justify-between gap-4",children:[c.jsxs("span",{className:"text-slate-400",children:[ie,":"]}),c.jsx("span",{className:"font-bold text-cyan-400",children:Ae.toFixed(5)})]},ie))]})]})]}),st&&c.jsxs("div",{className:"absolute top-48 right-8 z-[55] w-72 bg-white dark:bg-slate-900 rounded-xl shadow-2xl border border-gray-200 dark:border-slate-700 p-4 animate-in slide-in-from-top-2",children:[c.jsx("h4",{className:"text-[10px] uppercase font-bold text-emerald-600 dark:text-emerald-400 mb-2 border-b border-gray-100 dark:border-slate-800 pb-1",children:"Range Averaging"}),c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx("input",{type:"number",step:"0.01",value:Y,onChange:ie=>ue(ie.target.value),className:"w-16 px-1 py-0.5 text-xs border rounded bg-transparent dark:border-slate-600 dark:text-white"}),c.jsx("span",{className:"text-gray-400",children:"-"}),c.jsx("input",{type:"number",step:"0.01",value:he,onChange:ie=>K(ie.target.value),className:"w-16 px-1 py-0.5 text-xs border rounded bg-transparent dark:border-slate-600 dark:text-white"}),c.jsx("button",{onClick:yn,className:"flex-1 bg-emerald-600 text-white text-[10px] font-bold py-1 rounded",children:"Avg"})]}),c.jsx("div",{className:"flex flex-col gap-2 max-h-48 overflow-y-auto",children:[0,1,2,3].map(ie=>{const Ae=Dt[ie];if(!Ae)return null;const ze=mn[`c${ie}`];return c.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800/50 p-2 rounded text-[10px] border border-gray-100 dark:border-slate-800",children:[c.jsxs("div",{className:"flex items-center gap-2 font-bold mb-1",style:{color:ze},children:[An[ie]," ",c.jsxs("span",{className:"text-gray-400 font-normal",children:["(",Ae.count," pts)"]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-x-2 text-gray-700 dark:text-slate-300 font-mono",children:[c.jsxs("div",{children:["H: ",Ae.h.toExponential(3)]}),c.jsxs("div",{children:["V: ",Ae.v.toExponential(3)]})]})]},ie)})})]}),xt&&c.jsx("div",{className:"absolute top-48 right-8 z-[55] w-56 bg-white dark:bg-slate-900 rounded-xl shadow-2xl border border-gray-200 dark:border-slate-700 p-4 animate-in slide-in-from-top-2",children:c.jsxs("div",{className:"flex flex-col gap-3",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"text-[9px] uppercase font-bold text-gray-400 mb-1",children:"Move"}),c.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[c.jsx("div",{}),c.jsx("button",{onClick:()=>Qt(0,-1),className:"p-1.5 bg-gray-100 dark:bg-slate-800 rounded",children:""}),c.jsx("div",{}),c.jsx("button",{onClick:()=>Qt(-1,0),className:"p-1.5 bg-gray-100 dark:bg-slate-800 rounded",children:""}),c.jsx("div",{}),c.jsx("button",{onClick:()=>Qt(1,0),className:"p-1.5 bg-gray-100 dark:bg-slate-800 rounded",children:""}),c.jsx("div",{}),c.jsx("button",{onClick:()=>Qt(0,1),className:"p-1.5 bg-gray-100 dark:bg-slate-800 rounded",children:""}),c.jsx("div",{})]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-[9px] uppercase font-bold text-gray-400 mb-1",children:"Size"}),c.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[c.jsx("button",{onClick:()=>Bt(2,0),className:"p-1 bg-gray-100 dark:bg-slate-800 rounded",children:"W+"}),c.jsx("button",{onClick:()=>Bt(-2,0),className:"p-1 bg-gray-100 dark:bg-slate-800 rounded",children:"W-"}),c.jsx("button",{onClick:()=>Bt(0,2),className:"p-1 bg-gray-100 dark:bg-slate-800 rounded",children:"H+"}),c.jsx("button",{onClick:()=>Bt(0,-2),className:"p-1 bg-gray-100 dark:bg-slate-800 rounded",children:"H-"})]})]})]})}),c.jsx(JQ,{isOpen:Oe,onClose:()=>Se(!1),rawImageData:n,roi:a,selectedChannel:p===-1?0:p,channelName:p===-1?"Red (Default)":An[p],zIndex:s?s+2:102,onFocus:l})]}):null},nJ=({isOpen:e,onClose:t,onMinimize:r,rawImageData:n,roi:a,isBGGR:o,zIndex:i,onFocus:s,initialPosition:l,initialInternalState:u,onUpdateState:d})=>{const[f,h]=j.useState((u==null?void 0:u.selectedChannelKey)||"G1"),[p,m]=j.useState((u==null?void 0:u.blackLevel)??0),[x,w]=j.useState((u==null?void 0:u.whiteLevel)??16383),[v,g]=j.useState(null),[y,k]=j.useState(!1),[b,S]=j.useState(null),[_,N]=j.useState(l||{x:150,y:150}),[P,M]=j.useState(!1),E=j.useRef({x:0,y:0});j.useEffect(()=>{d&&d({selectedChannelKey:f,blackLevel:p,whiteLevel:x})},[f,p,x]),j.useEffect(()=>{if(e&&n&&!u){const O=n.blackLevels?Math.floor(n.blackLevels[1]):0;m(O),w(n.whiteLevel||16383),g(null)}},[e,n]);const C=()=>{if(!n||!a)return;S(null),k(!0);const T=(o?{B:0,G1:1,G2:2,R:3}:{R:0,G1:1,G2:2,B:3})[f];setTimeout(()=>{try{const B=qQ(n.data,n.width,n.height,a,T,p,x);B?g(B):(S("No data found in selection with current filters."),g(null))}catch(B){console.error("Analysis failed:",B),S(B.message||"Analysis error")}finally{k(!1)}},50)},A=(O,T,B)=>{s&&s(),!(B.closest("button")||B.closest("input")||B.closest("select"))&&(M(!0),E.current={x:O-_.x,y:T-_.y})},L=O=>{A(O.clientX,O.clientY,O.target)},R=O=>{const T=O.touches[0];A(T.clientX,T.clientY,O.target)};if(j.useEffect(()=>{const O=B=>{if(P){const z="touches"in B?B.touches[0].clientX:B.clientX,te="touches"in B?B.touches[0].clientY:B.clientY;N({x:z-E.current.x,y:te-E.current.y})}},T=()=>M(!1);return P&&(window.addEventListener("mousemove",O),window.addEventListener("mouseup",T),window.addEventListener("touchmove",O,{passive:!1}),window.addEventListener("touchend",T)),()=>{window.removeEventListener("mousemove",O),window.removeEventListener("mouseup",T),window.removeEventListener("touchmove",O),window.removeEventListener("touchend",T)}},[P]),!e)return null;const G=o?["B","G1","G2","R"]:["R","G1","G2","B"];return c.jsxs("div",{className:"fixed flex flex-col bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 shadow-2xl rounded-xl resize-both overflow-hidden min-w-[500px] min-h-[400px] w-[900px] h-[700px]",style:{left:_.x,top:_.y,zIndex:i??100},onMouseDownCapture:s,children:[c.jsxs("div",{className:`flex justify-between items-center p-4 border-b border-gray-200 dark:border-slate-700 bg-white dark:bg-slate-900 select-none touch-none ${P?"cursor-grabbing":"cursor-grab"}`,onMouseDown:L,onTouchStart:R,children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-slate-100 flex items-center gap-2 pointer-events-none",children:"Quantization Step Analysis"}),c.jsxs("div",{className:"flex items-center gap-1",children:[r&&c.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),c.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 p-2",children:c.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),c.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-800/50 border-b border-gray-200 dark:border-slate-700 flex flex-wrap gap-4 items-end flex-shrink-0",children:[c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"Channel"}),c.jsx("select",{value:f,onChange:O=>h(O.target.value),className:"bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded px-3 py-1.5 text-sm text-gray-900 dark:text-slate-100 outline-none focus:ring-1 focus:ring-cyan-500 min-w-[80px]",children:G.map(O=>c.jsx("option",{value:O,children:O},O))})]}),c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"Black Level"}),c.jsx("input",{type:"number",value:p,onChange:O=>m(Number(O.target.value)),className:"w-24 px-3 py-1.5 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-sm text-gray-900 dark:text-slate-100"})]}),c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"White Level"}),c.jsx("input",{type:"number",value:x,onChange:O=>w(Number(O.target.value)),className:"w-24 px-3 py-1.5 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-sm text-gray-900 dark:text-slate-100"})]}),c.jsx("button",{onClick:C,disabled:y,className:"mb-0.5 px-5 py-1.5 bg-cyan-600 hover:bg-cyan-500 text-white font-bold rounded shadow-sm hover:shadow transition-colors disabled:opacity-50 text-sm",children:y?"Analyzing...":"Run Analysis"})]}),c.jsxs("div",{className:"flex-1 overflow-y-auto p-4 flex flex-col gap-4 bg-white dark:bg-slate-900 min-h-0",children:[b&&c.jsx("div",{className:"p-3 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 rounded text-sm text-center flex-shrink-0",children:b}),!v&&!y&&!b&&c.jsx("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-400 dark:text-slate-500 h-full",children:c.jsx("p",{children:"Configure parameters and click Run Analysis"})}),v&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 flex-shrink-0",children:[c.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 rounded-lg border border-gray-200 dark:border-slate-700 text-center",children:[c.jsx("div",{className:"text-xs text-gray-500 dark:text-slate-400 uppercase mb-1",children:"Unique Codes"}),c.jsx("div",{className:"text-xl font-bold text-gray-900 dark:text-slate-100",children:v.uniqueCount})]}),c.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 rounded-lg border border-gray-200 dark:border-slate-700 text-center",children:[c.jsx("div",{className:"text-xs text-gray-500 dark:text-slate-400 uppercase mb-1",children:"Total Diffs"}),c.jsx("div",{className:"text-xl font-bold text-gray-900 dark:text-slate-100",children:v.diffCount})]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800/50 rounded-xl border border-gray-200 dark:border-slate-700 overflow-hidden flex-shrink-0",children:[c.jsx("div",{className:"px-4 py-2 bg-gray-50 dark:bg-slate-800 border-b border-gray-200 dark:border-slate-700 text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"Step Distribution"}),c.jsx("div",{className:"p-4 flex flex-wrap gap-x-8 gap-y-2 text-sm font-mono max-h-32 overflow-y-auto",children:Object.entries(v.stepCounts).sort((O,T)=>parseFloat(O[0])-parseFloat(T[0])).map(([O,T])=>c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("span",{className:"text-gray-500 dark:text-slate-400",children:["Step ",O,":"]}),c.jsx("span",{className:"text-cyan-600 dark:text-cyan-400 font-bold",children:String(T)})]},O))})]}),c.jsxs("div",{className:"flex-1 bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 rounded-xl p-2 relative overflow-hidden min-h-[300px]",children:[c.jsx("div",{className:"absolute top-2 left-4 text-xs font-bold text-gray-400 dark:text-slate-500 pointer-events-none z-20 bg-white/80 dark:bg-slate-900/80 px-2 rounded",children:"Step Size vs Code Value"}),c.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-0 pointer-events-none select-none opacity-10 mix-blend-normal dark:mix-blend-plus-lighter",children:c.jsx("svg",{viewBox:"0 0 500 60",className:"w-96 h-auto",children:c.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"36",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})}),c.jsx("div",{className:"relative z-10 w-full h-full",children:c.jsx(vo,{width:"100%",height:"100%",children:c.jsxs(Fs,{data:v.plotData,margin:{top:20,right:20,bottom:20,left:10},children:[c.jsx(Ja,{strokeDasharray:"3 3",stroke:"#374151",opacity:.1}),c.jsx(zn,{dataKey:"x",type:"number",domain:["auto","auto"],tick:{fill:"#9ca3af",fontSize:10},label:{value:"Code Value (Shifted)",position:"insideBottom",offset:-10,fill:"#9ca3af",fontSize:11}}),c.jsx(Gn,{tick:{fill:"#9ca3af",fontSize:10},domain:[0,"auto"],allowDataOverflow:!1,label:{value:"Step Size (Delta)",angle:-90,position:"insideLeft",fill:"#9ca3af",fontSize:11}}),c.jsx(Kr,{contentStyle:{backgroundColor:"rgba(17, 24, 39, 0.95)",border:"1px solid #374151",borderRadius:"0.5rem",color:"#f3f4f6",fontSize:"12px"},labelFormatter:O=>`Val: ${O}`,formatter:O=>[O,"Step Size"]}),c.jsx(Mr,{type:"stepAfter",dataKey:"y",stroke:"#0891b2",strokeWidth:1.5,dot:{r:1.5,fill:"#0891b2",strokeWidth:0},activeDot:{r:4},isAnimationActive:!1})]})})})]})]})]})]})},aJ=({isOpen:e,onClose:t,rawImageData:r,roi:n,isBGGR:a,zIndex:o,onFocus:i,initialPosition:s,stackFiles:l})=>{const[u,d]=j.useState("cross"),[f,h]=j.useState("R"),[p,m]=j.useState("B"),[x,w]=j.useState("H"),[v,g]=j.useState(null),[y,k]=j.useState(!1),[b,S]=j.useState(0),[_,N]=j.useState(0),[P,M]=j.useState("single"),E=a?{B:0,G1:1,G2:2,R:3}:{R:0,G1:1,G2:2,B:3},C=a?["B","G1","G2","R"]:["R","G1","G2","B"],A=async L=>{if(!r||!n)return;k(!0),M(L),S(0),g(null);let R=E[f],G=u==="cross"?E[p]:R,O=0,T=0;u==="self"&&(x==="H"?T=2:O=2),setTimeout(async()=>{try{let B={sumCov:0,sumVar1:0,sumVar2:0,n:0};if(L==="single")B=pk(r.data,r.width,r.height,n,R,G,O,T);else if(l&&l.length>0)for(let z=0;z<l.length;z++){S(z+1);const te=await l[z].arrayBuffer(),Q=await y0(te),D=pk(Q.data,Q.width,Q.height,n,R,G,O,T);B.sumCov+=D.sumCov,B.sumVar1+=D.sumVar1,B.sumVar2+=D.sumVar2,B.n+=D.n}N(B.n),g(HQ(B))}catch(B){console.error("Pearson calculation failed",B),alert("Calculation error: "+B.message)}finally{k(!1)}},50)};return e?c.jsxs(Il,{initialPosition:s||{x:200,y:200},onClose:t,zIndex:o,onFocus:i,className:"w-80 bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 flex flex-col shadow-2xl overflow-hidden",children:[c.jsxs("div",{className:"flex justify-between items-center px-4 py-3 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800",children:[c.jsxs("h3",{className:"text-sm font-bold text-gray-700 dark:text-slate-200 flex items-center gap-2",children:["Pearson Correlation",c.jsx("span",{className:"text-[10px] font-normal bg-white dark:bg-slate-700 px-1.5 py-0.5 rounded border border-gray-200 dark:border-slate-600",children:"r"})]}),c.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 transition-colors",children:c.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsxs("div",{className:"p-4 flex flex-col gap-4",children:[c.jsxs("div",{className:"flex bg-gray-100 dark:bg-slate-800 p-1 rounded-lg border border-gray-200 dark:border-slate-700",children:[c.jsx("button",{onClick:()=>d("cross"),className:`flex-1 py-1 text-[10px] font-bold rounded transition-all ${u==="cross"?"bg-indigo-600 text-white shadow":"text-gray-500 dark:text-slate-400 hover:bg-gray-200 dark:hover:bg-slate-700"}`,children:"Cross-Channel"}),c.jsx("button",{onClick:()=>d("self"),className:`flex-1 py-1 text-[10px] font-bold rounded transition-all ${u==="self"?"bg-indigo-600 text-white shadow":"text-gray-500 dark:text-slate-400 hover:bg-gray-200 dark:hover:bg-slate-700"}`,children:"Self-Adjacent"})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"flex-1 flex flex-col gap-1",children:[c.jsx("label",{className:"text-[9px] uppercase font-bold text-gray-400",children:u==="cross"?"Channel 1":"Channel"}),c.jsx("select",{value:f,onChange:L=>h(L.target.value),className:"bg-gray-100 dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded px-2 py-1.5 text-xs text-gray-700 dark:text-slate-200 outline-none focus:ring-1 focus:ring-indigo-500",children:C.map(L=>c.jsx("option",{value:L,children:L},L))})]}),c.jsx("div",{className:"text-gray-300 dark:text-slate-600 mt-4 font-mono",children:u==="cross"?"":""}),c.jsxs("div",{className:"flex-1 flex flex-col gap-1",children:[c.jsx("label",{className:"text-[9px] uppercase font-bold text-gray-400",children:u==="cross"?"Channel 2":"Direction"}),u==="cross"?c.jsx("select",{value:p,onChange:L=>m(L.target.value),className:"bg-gray-100 dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded px-2 py-1.5 text-xs text-gray-700 dark:text-slate-200 outline-none focus:ring-1 focus:ring-indigo-500",children:C.map(L=>c.jsx("option",{value:L,children:L},L))}):c.jsxs("div",{className:"flex h-[28px] bg-gray-100 dark:bg-slate-800 rounded border border-gray-200 dark:border-slate-700 p-0.5",children:[c.jsx("button",{onClick:()=>w("H"),className:`flex-1 text-[9px] font-bold rounded ${x==="H"?"bg-slate-300 dark:bg-slate-600 text-indigo-600 dark:text-indigo-400":"text-gray-400"}`,children:"Horiz"}),c.jsx("button",{onClick:()=>w("V"),className:`flex-1 text-[9px] font-bold rounded ${x==="V"?"bg-slate-300 dark:bg-slate-600 text-indigo-600 dark:text-indigo-400":"text-gray-400"}`,children:"Vert"})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[c.jsx("button",{onClick:()=>A("single"),disabled:y,className:"w-full py-2 bg-indigo-600 hover:bg-indigo-500 disabled:bg-gray-400 text-white font-bold rounded shadow-md transition-all active:scale-95 text-xs",children:y&&P==="single"?"Calculating...":"Calc Current Frame"}),l&&l.length>0&&c.jsxs("button",{onClick:()=>A("stack"),disabled:y,className:"w-full py-2 bg-emerald-600 hover:bg-emerald-500 disabled:bg-gray-400 text-white font-bold rounded shadow-md transition-all active:scale-95 text-xs flex flex-col items-center justify-center",children:[c.jsx("span",{children:"Calc Stack Concatenated"}),y&&P==="stack"&&c.jsxs("span",{className:"text-[9px] font-normal opacity-80",children:["Progress: ",b," / ",l.length]})]})]}),v!==null&&c.jsxs("div",{className:"mt-2 p-4 bg-gray-50 dark:bg-slate-800/50 rounded-xl border border-gray-200 dark:border-slate-700 text-center animate-in fade-in slide-in-from-top-2",children:[c.jsxs("div",{className:"text-[10px] uppercase font-bold text-gray-400 dark:text-slate-500 mb-1",children:[u==="cross"?"Cross-Channel":`Self-Adj (${x})`," r"]}),c.jsx("div",{className:"text-2xl font-mono font-bold text-indigo-600 dark:text-indigo-400 select-all",style:{fontSize:"24px"},children:v.toFixed(5)}),c.jsxs("div",{className:"text-[9px] text-gray-400 mt-2 font-mono",children:["N = ",_.toLocaleString()," pairs"]}),c.jsx("div",{className:"mt-3 text-[10px] font-bold",children:Math.abs(v)>.5?c.jsx("span",{className:"text-red-500",children:"Significant Correlation"}):Math.abs(v)>.1?c.jsx("span",{className:"text-amber-500",children:"Weak Correlation"}):c.jsx("span",{className:"text-emerald-500",children:"Near-Zero (Uncorrelated)"})})]})]}),c.jsx("div",{className:"p-3 bg-gray-50/50 dark:bg-slate-800/30 text-[9px] text-gray-400 dark:text-slate-600 italic border-t border-gray-100 dark:border-slate-800",children:u==="cross"?"Comparing two color channels in the same Bayer 2x2 cells.":`Comparing pixel (r,c) with (r${x==="V"?"+2":""}, c${x==="H"?"+2":""}) in the same channel.`})]}):null},oJ=[{href:"https://y-g-jiang.github.io/CBLD.html",text:" (Primary Source)",abbr:"CBLD",description:"ISO",highlight:!0},{href:"https://y-G-jiang.github.io/LAC.html",text:"",abbr:"LAC",description:""},{href:"https://y-G-jiang.github.io/CCGV.html",text:"adobeIECMF",abbr:"CCGV",description:"acrRAWxy"},{href:"https://y-G-jiang.github.io/JTJS.html",text:"",abbr:"JTJS",description:"CMF/"},{href:"https://y-G-jiang.github.io/XJZS.html",text:"",abbr:"XJZS",description:""}],iJ=["5","9","0","8","2","1","4","7","3","6"],yk=e=>!e||e==="--"?"--":String(e).split("").map(t=>{const r=parseInt(t);return isNaN(r)?t:iJ[r]}).join(""),sJ=({isOpen:e,onClose:t})=>{const[r,n]=j.useState({pv:"--",uv:"--"});return j.useEffect(()=>{if(e){const a=()=>{const i=document.getElementById("vercount_value_site_pv"),s=document.getElementById("vercount_value_site_uv");i&&s&&n({pv:i.innerText||"--",uv:s.innerText||"--"})};a();const o=setTimeout(a,1e3);return()=>clearTimeout(o)}},[e]),e?c.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",onClick:t,children:c.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-3xl rounded-2xl shadow-2xl border border-gray-200 dark:border-slate-700 overflow-hidden flex flex-col max-h-[90vh]",onClick:a=>a.stopPropagation(),children:[c.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"About / Tools"}),c.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 transition-colors p-1 rounded hover:bg-gray-200 dark:hover:bg-slate-700",children:c.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsxs("div",{className:"p-6 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-slate-700 relative",children:[c.jsx("div",{className:"mb-8 p-4 bg-gray-50 dark:bg-slate-800/50 rounded-xl border border-gray-100 dark:border-slate-700 text-center",children:c.jsxs("p",{className:"text-lg text-gray-700 dark:text-slate-300",children:[c.jsx("span",{className:"font-bold mr-2",children:"about:"}),c.jsx("a",{href:"https://y-g-jiang.github.io/JOindex.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline break-all font-mono",children:"https://y-g-jiang.github.io/JOindex.html"})]})}),c.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[c.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 flex-1"}),c.jsx("span",{className:"text-sm font-bold text-gray-400 dark:text-slate-500 uppercase tracking-wider",children:"Primary Resources"}),c.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 flex-1"})]}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-8",children:oJ.map(a=>c.jsxs("a",{href:a.href,target:"_blank",rel:"noopener noreferrer",className:`group block p-4 rounded-xl border transition-all duration-200 relative overflow-hidden ${a.highlight?"border-cyan-500 dark:border-cyan-400 bg-cyan-50/30 dark:bg-cyan-900/10 shadow-lg scale-[1.02] ring-2 ring-cyan-500/20":"border-gray-200 dark:border-slate-700 bg-white dark:bg-slate-800/30 hover:bg-gray-50 dark:hover:bg-slate-800 hover:border-cyan-500"}`,children:[c.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-gradient-to-bl from-cyan-500/5 to-transparent -mr-8 -mt-8 rounded-full pointer-events-none group-hover:from-cyan-500/10 transition-colors"}),c.jsxs("div",{className:"flex items-center gap-3 mb-2 relative z-10",children:[c.jsx("span",{className:`px-2 py-1 text-xs font-bold rounded transition-colors border ${a.highlight?"bg-cyan-600 text-white border-cyan-500":"bg-gray-100 dark:bg-slate-700 text-gray-600 dark:text-slate-300 border-gray-200 dark:border-slate-600 group-hover:border-cyan-200"}`,children:a.abbr}),c.jsx("h3",{className:`font-bold transition-colors ${a.highlight?"text-cyan-700 dark:text-cyan-300":"text-gray-800 dark:text-slate-200 group-hover:text-cyan-600"}`,children:a.text})]}),c.jsx("p",{className:`text-xs pl-1 transition-colors relative z-10 ${a.highlight?"text-cyan-600/80 dark:text-cyan-400/80":"text-gray-500 dark:text-slate-400"}`,children:a.description})]},a.abbr))}),c.jsx("div",{className:"flex justify-end mt-4",children:c.jsx("div",{className:"bg-gray-50 dark:bg-slate-900/50 rounded border border-gray-200 dark:border-slate-800 p-1.5 opacity-40 hover:opacity-100 transition-opacity cursor-default select-none group",children:c.jsxs("div",{className:"font-mono text-[10px] text-gray-400 dark:text-slate-600 leading-tight text-right flex flex-col",children:[c.jsx("span",{className:"group-hover:text-indigo-400 transition-colors",children:yk(r.pv)}),c.jsx("span",{className:"group-hover:text-emerald-400 transition-colors",children:yk(r.uv)})]})})})]})]})}):null},lJ=({isOpen:e,onClose:t,data:r,fileName:n,warning:a})=>{const[o,i]=j.useState(""),s=d=>{const f=new WeakSet;try{return JSON.stringify(d,(h,p)=>{if(typeof p=="bigint")return p.toString()+"n";if(typeof p=="object"&&p!==null){if(f.has(p))return"[Circular]";if(f.add(p),ArrayBuffer.isView(p))return`[${p.constructor.name}]`}return p})}catch{return"[Unable to serialize object]"}},l=j.useMemo(()=>{if(!r)return[];const d=[],f=(h,p=0)=>{if(p>5)return"...";if(h==null)return String(h);if(h instanceof Date)return h.toLocaleString();if(typeof h=="number")return h.toString();if(typeof h=="string")return h;if(typeof h=="bigint")return h.toString()+"n";if(ArrayBuffer.isView(h))return`<${h.constructor.name} len=${h.length} bytes=${h.byteLength}>`;if(h instanceof ArrayBuffer)return`<ArrayBuffer bytes=${h.byteLength}>`;if(typeof h=="object"){if(Array.isArray(h))return h.length===0?"[]":h.length>20?`[${h.slice(0,10).map(w=>typeof w=="number"?w.toFixed(2):f(w,p+1)).join(", ")}, ... (+${h.length-10} more)]`:`[${h.map(x=>typeof x=="number"?Number.isInteger(x)?x:x.toFixed(4):f(x,p+1)).join(", ")}]`;try{const m=Object.keys(h);return m.length>5?`{Object with ${m.length} keys}`:s(h)}catch{return"<Complex Object>"}}return String(h)};try{if(typeof r!="object")return[{key:"Value",value:String(r)}];Object.keys(r).sort().forEach(p=>{if(p==="MakerNote"||p==="UserComment"||p.includes("Strip")||p.includes("Offset")){d.push({key:p,value:"<Binary/Internal Data>"});return}const m=r[p];d.push({key:p,value:f(m)})})}catch(h){console.error("Error processing EXIF data:",h),d.push({key:"Error",value:"Failed to process metadata structure."})}return d},[r]);if(!e)return null;const u=l.filter(d=>d.key.toLowerCase().includes(o.toLowerCase())||d.value.toLowerCase().includes(o.toLowerCase()));return c.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",onClick:t,children:c.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-3xl max-h-[90vh] rounded-2xl shadow-2xl flex flex-col border border-gray-200 dark:border-slate-700",onClick:d=>d.stopPropagation(),children:[c.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-gray-200 dark:border-slate-700",children:[c.jsxs("div",{className:"overflow-hidden",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-slate-100",children:"EXIF Data"}),c.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mt-1 font-mono truncate",children:n})]}),c.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 transition-colors p-2 rounded-full hover:bg-gray-100 dark:hover:bg-slate-800",children:c.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a&&c.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 px-4 py-2 border-b border-amber-100 dark:border-amber-800/50 text-center",children:c.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400 whitespace-pre-line font-medium leading-relaxed",children:a})}),c.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50",children:c.jsxs("div",{className:"relative",children:[c.jsx("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),c.jsx("input",{type:"text",placeholder:"Search tags...",value:o,onChange:d=>i(d.target.value),className:"w-full pl-9 pr-4 py-2 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded-lg text-sm focus:ring-2 focus:ring-cyan-500 outline-none text-gray-900 dark:text-slate-100 transition-colors placeholder-gray-400"})]})}),c.jsx("div",{className:"overflow-y-auto flex-1 p-0 scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-slate-700",children:u.length>0?c.jsxs("table",{className:"w-full text-left border-collapse table-fixed",children:[c.jsx("thead",{className:"bg-gray-50 dark:bg-slate-800 sticky top-0 shadow-sm z-10",children:c.jsxs("tr",{children:[c.jsx("th",{className:"py-3 px-5 font-semibold text-xs text-gray-500 dark:text-slate-400 uppercase tracking-wider w-1/3 border-b border-gray-200 dark:border-slate-700",children:"Tag Name"}),c.jsx("th",{className:"py-3 px-5 font-semibold text-xs text-gray-500 dark:text-slate-400 uppercase tracking-wider w-2/3 border-b border-gray-200 dark:border-slate-700",children:"Value"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-slate-800",children:u.map(d=>c.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-800/50 transition-colors group",children:[c.jsx("td",{className:"py-2 px-5 text-sm font-medium text-cyan-600 dark:text-cyan-400 font-mono break-words align-top",children:d.key}),c.jsx("td",{className:"py-2 px-5 text-sm text-gray-700 dark:text-slate-300 font-mono break-words align-top group-hover:text-gray-900 dark:group-hover:text-slate-100",children:d.value})]},d.key))})]}):c.jsx("div",{className:"flex flex-col items-center justify-center h-64 text-gray-400 dark:text-slate-500",children:c.jsxs("p",{children:['No tags found matching "',o,'"']})})}),c.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50 flex justify-end rounded-b-2xl",children:c.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-800 dark:text-white rounded-lg text-sm font-semibold transition-colors",children:"Close"})})]})})},cJ=100,Ep=e=>{if(e.length===0)return 0;if(e.length===1)return e[0];if(e.length===2)return .5*(e[0]+e[1]);let t=[...e].sort((r,n)=>r-n);for(;t.length>4;){let r=1/0,n=0;const a=t.length,o=Math.floor(a/2);for(let i=0;i<=a-o;i++){const s=t[i+o-1]-t[i];s<r&&(r=s,n=i)}t=t.slice(n,n+o)}return t.reduce((r,n)=>r+n,0)/t.length},vk=({min:e,max:t,value:r,onChange:n,vertical:a=!1,logScale:o=!1})=>{const i=j.useRef(null),s=j.useRef(null),l=j.useCallback(g=>{const y=o?Math.max(1e-6,e):e,k=o?Math.max(y*1.0001,t):t,b=Math.max(y,Math.min(k,g));if(o){const S=Math.log10(y),_=Math.log10(k);return(Math.log10(b)-S)/(_-S)}return(b-y)/(k-y)},[e,t,o]),u=j.useCallback(g=>{const y=o?Math.max(1e-6,e):e,k=o?Math.max(y*1.0001,t):t;if(o){const b=Math.log10(y),S=Math.log10(k);return Math.pow(10,b+g*(S-b))}return y+g*(k-y)},[e,t,o]),d=(g,y)=>{g.preventDefault(),g.stopPropagation(),s.current=y;const k=S=>{if(!s.current||!i.current)return;const _=i.current.getBoundingClientRect();let N=0;a?N=(_.bottom-S.clientY)/_.height:N=(S.clientX-_.left)/_.width,N=Math.max(0,Math.min(1,N));const P=u(N);if(s.current==="min"){const M=r[1];n([Math.min(P,M),M])}else{const M=r[0];n([M,Math.max(P,M)])}},b=()=>{s.current=null,window.removeEventListener("mousemove",k),window.removeEventListener("mouseup",b)};window.addEventListener("mousemove",k),window.addEventListener("mouseup",b)},f=l(r[0])*100,h=l(r[1])*100,p=a?{left:"50%",top:0,bottom:0,width:"4px",transform:"translateX(-50%)"}:{top:"50%",left:0,right:0,height:"4px",transform:"translateY(-50%)"},m=a?{left:"50%",bottom:`${f}%`,height:`${h-f}%`,width:"4px",transform:"translateX(-50%)"}:{top:"50%",left:`${f}%`,width:`${h-f}%`,height:"4px",transform:"translateY(-50%)"},x="absolute w-3 h-3 bg-white border-2 border-cyan-600 rounded-full shadow-md cursor-pointer hover:scale-125 transition-transform z-10",w=a?{left:"50%",bottom:`${f}%`,transform:"translate(-50%, 50%)"}:{top:"50%",left:`${f}%`,transform:"translate(-50%, -50%)"},v=a?{left:"50%",bottom:`${h}%`,transform:"translate(-50%, 50%)"}:{top:"50%",left:`${h}%`,transform:"translate(-50%, -50%)"};return c.jsxs("div",{ref:i,className:`relative select-none ${a?"h-full w-4 py-2":"w-full h-4 px-2"}`,children:[c.jsx("div",{className:"absolute bg-gray-300 dark:bg-slate-600 rounded-full",style:p}),c.jsx("div",{className:"absolute bg-cyan-500 dark:bg-cyan-400 rounded-full",style:m}),c.jsx("div",{className:x,style:w,onMouseDown:g=>d(g,"min")}),c.jsx("div",{className:x,style:v,onMouseDown:g=>d(g,"max")})]})},uJ=({isOpen:e,onClose:t,data:r,blackLevel:n,imageHeight:a,isBGGR:o,importedMetadata:i,theme:s,initialCameraModel:l,initialISO:u})=>{const[d,f]=j.useState("Noise"),[h,p]=j.useState(!0),[m,x]=j.useState(null),[w,v]=j.useState("default"),[g,y]=j.useState(!1),[k,b]=j.useState(!1),[S,_]=j.useState({R:!0,G1:!0,G2:!0,B:!0}),[N,P]=j.useState(""),[M,E]=j.useState(""),[C,A]=j.useState(""),[L,R]=j.useState(""),[G,O]=j.useState("10"),[T,B]=j.useState(""),[z,te]=j.useState("0 0 0 0"),[Q,D]=j.useState("0 0 0 0"),[J,q]=j.useState(!1),[$,ne]=j.useState(null),[ce,Y]=j.useState(!1),[ue,he]=j.useState(0),[K,Oe]=j.useState([]),[Se,oe]=j.useState(""),[we,ve]=j.useState(""),Ke=()=>{const U=parseFloat(Se),X=parseFloat(we);!isNaN(U)&&!isNaN(X)&&(Oe([...K,{id:Date.now(),x:U,y:X}]),oe(""),ve(""))},[ge,xe]=j.useState(()=>localStorage.getItem("ptc_tester_name")||""),[Le,it]=j.useState(""),[xt,yr]=j.useState("");j.useEffect(()=>{localStorage.setItem("ptc_tester_name",ge)},[ge]);const st=j.useRef(J),tr=j.useRef(ce),Ge=j.useRef(ue);j.useEffect(()=>{st.current=J,tr.current=ce,Ge.current=ue},[J,ce,ue]);const[Ut,$t]=j.useState(null),[rr,Nr]=j.useState({min:.01,max:90}),[mt,Ue]=j.useState({readNoise:0,gain:1,prnu:.5}),[lt,jt]=j.useState(2e6),nr=j.useRef(mt),ar=j.useRef(rr),Zr=j.useRef(lt);j.useEffect(()=>{nr.current=mt,ar.current=rr,Zr.current=lt},[mt,rr,lt]);const[Dt,gn]=j.useState({read:"0",gain:"1.0",prnu:"0.5",rangeMin:"0.01",rangeMax:"90"}),[bt,mn]=j.useState({read:!0,shot:!0,prnu:!0,total:!0,fitRange:!0}),[An,yn]=j.useState(!1),[dr,vr]=j.useState([]),[xr,vn]=j.useState(null),[on,br]=j.useState(""),Wn=j.useMemo(()=>n?n.join(","):"",[n]);j.useEffect(()=>{if(e){let U="0 0 0 0";i&&i.blackLevel?U=i.blackLevel.join(" "):U=n&&n.length===4?n.join(" "):"0 0 0 0",te(U),D(U);let X="";if(i&&i.height?X=i.height.toString():a&&(X=a.toString()),B(X),X){const I=parseFloat(X);!isNaN(I)&&I>0?O((2309.4/I).toFixed(2)):O("10")}else O("10");ne(null),q(!1),Y(!1),he(0),vr([]),vn(null),Nr({min:.01,max:90}),gn({read:"0",gain:"0",prnu:"0",rangeMin:"0.01",rangeMax:"90"});const ae={readNoise:0,gain:0,prnu:0};Ue(ae),nr.current=ae,P(""),E(""),A(""),R(""),f("Noise"),$t(null),jt(2e6),br(""),b(!1),Oe([]),it(I=>I.trim()===""&&l?l:I),yr(I=>I.trim()===""&&u?u:I)}},[e,Wn,i,a,r,l,u]);const na=U=>{if(U.key==="Enter"){const X=parseFloat(T);if(!isNaN(X)&&X>0){const ae=(2309.4/X).toFixed(2);O(ae)}U.target.blur()}},Zt=j.useMemo(()=>{let X=Q.trim().split(/[\s,]+/).filter(Boolean).map(Number);for(X.length===1&&(X=[X[0],X[0],X[0],X[0]]);X.length<4;)X.push(0);const ae=I=>{switch(I){case"R":return X[0];case"G1":return X[1];case"G2":return X[2];case"B":return X[3];default:return 0}};return r.map(I=>{const de=I.mean-ae(I.channel),Me=I.std>0?de/I.std:0;return{...I,x:de,std:I.std,snr:Me}}).filter(I=>I.std>0)},[r,Q]),Qt=j.useMemo(()=>{const U=mt.readNoise,X=U*U;return Zt.map(ae=>{let I=0;if(d==="Noise")I=ae.std;else if(d==="SNR")I=ae.snr;else if(d==="Linear"){const Me=ae.std*ae.std-X;I=ae.x!==0?Me/ae.x:0}return{...ae,y:I}})},[Zt,d,mt.readNoise]),Bt=j.useMemo(()=>{if(Zt.length===0)return"G1";const U={R:0,G1:0,G2:0,B:0},X={R:0,G1:0,G2:0,B:0};for(const de of Zt)U[de.channel]+=de.x,X[de.channel]++;let ae="G1",I=-1/0;return Object.keys(U).forEach(de=>{const Me=X[de],Re=Me>0?U[de]/Me:-1/0;Re>I&&(I=Re,ae=de)}),ae},[Zt]),ie=j.useCallback(()=>{let U=1/0,X=-1/0;if(Zt.length===0)return{min:.1,max:1};for(let ae=0;ae<Zt.length;ae++){const I=Zt[ae].x;h&&I<=0||(I<U&&(U=I),I>X&&(X=I))}return U===1/0?{min:.1,max:1}:{min:U,max:X}},[Zt,h]),Ae=j.useCallback(()=>{let U=1/0,X=-1/0;if(Qt.length===0)return{min:.1,max:1};for(let ae=0;ae<Qt.length;ae++){const I=Qt[ae].y;h&&I<=0||(I<U&&(U=I),I>X&&(X=I))}return U===1/0?{min:.1,max:1}:{min:U*.9,max:X*1.1}},[Qt,h]),{min:ze,max:et}=ie(),{min:Qe,max:Nt}=Ae(),hr=et*(rr.min/100),or=et*(rr.max/100),Fe=j.useMemo(()=>{if(!h&&Qt.length===0)return{shot:[],read:[],prnu:[],total:[]};const U=N?parseFloat(N):ze,X=M?parseFloat(M):et,ae=100,I=Math.max(.1,U),de=Math.max(1,X);if(I>=de)return{shot:[],read:[],prnu:[],total:[]};const Me=Math.log10(I),Je=(Math.log10(de)-Me)/ae,Ye=mt.readNoise,Be=mt.gain>0?mt.gain:1,Rt=mt.prnu/100,yt=[],Ft=[],pr=[],se=[];for(let qe=0;qe<=ae;qe++){const Ee=Math.pow(10,Me+qe*Je);if(d==="Linear"){const ut=1/Be,_t=Rt*Rt,bn=ut+_t*Ee;se.push({x:Ee,y:bn}),yt.push({x:Ee,y:ut}),pr.push({x:Ee,y:_t*Ee})}else{const ut=Ye,_t=Math.sqrt(Ee/Be),bn=Rt*Ee,dt=Math.sqrt(ut*ut+_t*_t+bn*bn);d==="Noise"?(yt.push({x:Ee,y:_t}),Ft.push({x:Ee,y:ut}),pr.push({x:Ee,y:bn}),se.push({x:Ee,y:dt})):(_t>0&&yt.push({x:Ee,y:Ee/_t}),ut>0&&Ft.push({x:Ee,y:Ee/ut}),bn>0&&pr.push({x:Ee,y:Ee/bn}),dt>0&&se.push({x:Ee,y:Ee/dt}))}}return{shot:yt,read:Ft,prnu:pr,total:se}},[Qt,h,N,M,mt,d,ze,et]),ct=j.useMemo(()=>{if(d==="Linear")return[];const U=parseFloat(G);if(isNaN(U)||U<=0)return[];const X=N?parseFloat(N):ze,ae=M?parseFloat(M):et;return d==="SNR"?[{x:X,y:U},{x:ae,y:U}]:[{x:X,y:X/U},{x:ae,y:ae/U}]},[Qt,G,d,N,M,ze,et]),Mt=j.useCallback((U,X)=>{if(!X||X.length===0)return null;const ae=[...X].sort((I,de)=>I.x-de.x);for(let I=0;I<ae.length-1;I++){const de=ae[I],Me=ae[I+1];if(de.snr<=U&&Me.snr>=U||de.snr>=U&&Me.snr<=U){const Re=(U-de.snr)/(Me.snr-de.snr);return de.x+Re*(Me.x-de.x)}}return null},[]),At=j.useMemo(()=>{const U=Zt,X=1e3,ae=de=>{if(de.length===0)return[];if(de.length<=X)return de;const Me=[...de].sort((Ye,Be)=>Ye.x-Be.x),Re=[],Je=Me.length/X;for(let Ye=0;Ye<X;Ye++){const Be=Math.floor(Ye*Je),Rt=Math.floor((Ye+1)*Je),yt=Me.slice(Be,Rt);if(yt.length===0)continue;yt.sort((pr,se)=>pr.std-se.std);const Ft=Math.floor(yt.length/2);Re.push(yt[Ft])}return Re},I={R:[],G1:[],G2:[],B:[]};return U.forEach(de=>{I[de.channel]&&I[de.channel].push(de)}),{R:ae(I.R),G1:ae(I.G1),G2:ae(I.G2),B:ae(I.B)}},[Zt]),ir=j.useMemo(()=>$&&mt.gain?$*mt.gain:null,[$,mt.gain]),pe=j.useMemo(()=>{if($===null||$===0)return null;const U=parseFloat(G);let X=null;if(!isNaN(U)&&U>0){let Re=0,Je=0;if(["R","G1","G2","B"].forEach(Ye=>{const Be=Mt(U,At[Ye]);Be!==null&&(Re+=Be,Je++)}),Je>0){const Ye=Re/Je;X=Math.log2($/Ye)}}const ae=parseFloat(T);let I=null,de=NaN;if(!isNaN(ae)&&ae>0){de=16e3/ae;let Re=0,Je=0;if(["R","G1","G2","B"].forEach(Ye=>{const Be=Mt(de,At[Ye]);Be!==null&&(Re+=Be,Je++)}),Je>0){const Ye=Re/Je;I=Math.log2($/Ye)}}let Me=null;if(!isNaN(ae)&&ae>0){const Re=Mt(de,At[Bt]);Re!==null&&(Me=Math.log2($/Re))}return{manualDR:X,ptpDR:I,d55DR:Me,manualTarget:U,ptpTarget:de,saturationSignal:$,dominantChannel:Bt}},[$,G,T,At,Mt,Bt]),Er=j.useMemo(()=>{if(d==="Linear"||!pe||!pe.ptpTarget||isNaN(pe.ptpTarget))return[];const U=pe.ptpTarget,X=N?parseFloat(N):ze,ae=M?parseFloat(M):et;return d==="SNR"?[{x:X,y:U},{x:ae,y:U}]:[{x:X,y:X/U},{x:ae,y:ae/U}]},[d,pe,N,M,ze,et]),Sa=j.useCallback(()=>{const ae=document.createElement("canvas");ae.width=2048,ae.height=1536;const I=ae.getContext("2d");if(!I)return;const de=s==="dark",Me=de?"#0f172a":"#ffffff",Re=de?"#ffffff":"#000000",Je=de?"#475569":"#cbd5e1",Ye=de?"#1e293b":"#f1f5f9",Be=o?{R:"#ef4444",G1:"#22c55e",G2:"#4ade80",B:"#3b82f6"}:{R:"#ef4444",G1:"#22c55e",G2:"#4ade80",B:"#3b82f6"};I.fillStyle=Me,I.fillRect(0,0,2048,1536);let Rt=N?parseFloat(N):ze,yt=M?parseFloat(M):et,Ft=C?parseFloat(C):Qe,pr=L?parseFloat(L):Nt;isNaN(Rt)&&(Rt=.1),isNaN(yt)&&(yt=1e4),isNaN(Ft)&&(Ft=.1),isNaN(pr)&&(pr=1e3);const se={top:80,right:80,bottom:100,left:120},qe=2048-se.left-se.right,Ee=1536-se.top-se.bottom,ut=_e=>{if(h){const at=Math.log10(Math.max(1e-9,Rt)),tt=Math.log10(Math.max(1e-9,yt)),rt=Math.log10(Math.max(1e-9,_e));return se.left+(rt-at)/(tt-at)*qe}else return se.left+(_e-Rt)/(yt-Rt)*qe},_t=_e=>{if(h){const at=Math.log10(Math.max(1e-9,Ft)),tt=Math.log10(Math.max(1e-9,pr)),rt=Math.log10(Math.max(1e-9,_e));return se.top+Ee-(rt-at)/(tt-at)*Ee}else return se.top+Ee-(_e-Ft)/(pr-Ft)*Ee};if(I.beginPath(),h){const _e=(at,tt,rt)=>{const Ur=Math.log10(Math.max(1e-9,at)),kn=Math.log10(Math.max(1e-9,tt)),Hn=Math.floor(Ur),Fa=Math.ceil(kn);for(let $o=Hn;$o<=Fa;$o++){const za=Math.pow(10,$o);let lr=rt?ut(za):_t(za);(rt?lr>=se.left-1&&lr<=se.left+qe+1:lr>=se.top-1&&lr<=se.top+Ee+1)&&(I.lineWidth=1.5,I.strokeStyle=Je,I.beginPath(),rt?(I.moveTo(lr,se.top),I.lineTo(lr,se.top+Ee)):(I.moveTo(se.left,lr),I.lineTo(se.left+qe,lr)),I.stroke()),I.lineWidth=.5,I.strokeStyle=Ye;for(let Fl=2;Fl<10;Fl++){const Xu=Fl*za;lr=rt?ut(Xu):_t(Xu),(rt?lr>=se.left&&lr<=se.left+qe:lr>=se.top&&lr<=se.top+Ee)&&(I.beginPath(),rt?(I.moveTo(lr,se.top),I.lineTo(lr,se.top+Ee)):(I.moveTo(se.left,lr),I.lineTo(se.left+qe,lr)),I.stroke())}}};_e(Rt,yt,!0),_e(Ft,pr,!1)}else{I.strokeStyle=Je,I.lineWidth=1;for(let _e=0;_e<=5;_e++){const at=se.left+qe*_e/5;I.beginPath(),I.moveTo(at,se.top),I.lineTo(at,se.top+Ee),I.stroke();const tt=se.top+Ee*_e/5;I.beginPath(),I.moveTo(se.left,tt),I.lineTo(se.left+qe,tt),I.stroke()}}I.strokeStyle=Re,I.lineWidth=2,I.strokeRect(se.left,se.top,qe,Ee);const bn=(_e,at,tt)=>{_e<se.left||_e>se.left+qe||at<se.top||at>se.top+Ee||(I.fillStyle=tt,I.fillRect(_e-1.5,at-1.5,3,3))},dt=Qt.filter(_e=>!(h&&(_e.x<=0||_e.y<=0)));dt.forEach(_e=>{S[_e.channel]&&_e.channel!==Bt&&bn(ut(_e.x),_t(_e.y),Be[_e.channel])}),dt.forEach(_e=>{S[_e.channel]&&_e.channel===Bt&&bn(ut(_e.x),_t(_e.y),Be[_e.channel])}),K.forEach(_e=>{const at=ut(_e.x),tt=_t(_e.y);if(at<se.left||at>se.left+qe||tt<se.top||tt>se.top+Ee)return;I.strokeStyle="#d946ef",I.lineWidth=2.5;const rt=6;I.beginPath(),I.moveTo(at-rt,tt-rt),I.lineTo(at+rt,tt+rt),I.moveTo(at+rt,tt-rt),I.lineTo(at-rt,tt+rt),I.stroke()});const wr=(_e,at,tt=[])=>{if(_e.length<2)return;I.beginPath(),I.strokeStyle=at,I.lineWidth=3,I.setLineDash(tt);let rt=!1;for(const Ur of _e){const kn=ut(Ur.x),Hn=_t(Ur.y);if(kn<se.left-100||kn>se.left+qe+100||Hn<se.top-100||Hn>se.top+Ee+100){rt=!1;continue}rt?I.lineTo(kn,Hn):(I.moveTo(kn,Hn),rt=!0)}I.stroke(),I.setLineDash([])},wn=de?"#ffffff":"#000000";if(bt.shot&&wr(Fe.shot,"#94a3b8",[5,5]),bt.read&&wr(Fe.read,"#f43f5e",[3,3]),bt.prnu&&wr(Fe.prnu,"#f59e0b",[3,3]),bt.total&&wr(Fe.total,wn,[]),ct.length===2){const _e="#6366f1";wr(ct,_e,[4,2]);const at=ct[1],tt=_t(at.y);tt>=se.top&&tt<=se.top+Ee&&(I.fillStyle=_e,I.font="bold 20px sans-serif",I.textAlign="right",I.textBaseline="bottom",I.fillText(`M.Tgt=${G}`,se.left+qe-10,tt-8))}if(Er.length===2&&(pe!=null&&pe.ptpTarget)){const _e="#10b981";wr(Er,_e,[4,4]);const at=Er[1],tt=_t(at.y);if(tt>=se.top&&tt<=se.top+Ee){I.fillStyle=_e,I.font="bold 20px sans-serif",I.textAlign="right",I.textBaseline="bottom";const rt=pe.ptpTarget.toFixed(1),Ur=ct.length===2?_t(ct[1].y):-100,kn=Math.abs(tt-Ur)<25?25:0;I.fillText(`PTP=${rt}`,se.left+qe-10,tt-8-kn)}}if(bt.fitRange||ce){const _e=(at,tt)=>{const rt=ut(at);rt>=se.left&&rt<=se.left+qe&&(I.beginPath(),I.strokeStyle=tt,I.lineWidth=2,I.setLineDash([8,8]),I.moveTo(rt,se.top),I.lineTo(rt,se.top+Ee),I.stroke(),I.setLineDash([]))};_e(hr,"#22d3ee"),_e(or,"#22d3ee")}if($){const _e=ut($);_e>=se.left&&_e<=se.left+qe&&(I.strokeStyle="#ef4444",I.lineWidth=3,I.setLineDash([10,10]),I.beginPath(),I.moveTo(_e,se.top),I.lineTo(_e,se.top+Ee),I.stroke(),I.setLineDash([]),I.fillStyle="#ef4444",I.font="bold 24px sans-serif",I.textAlign="center",I.fillText("Sat",_e,se.top-10))}I.fillStyle=Re,I.font="28px monospace",I.textAlign="center",I.fillText(Rt.toExponential(1),se.left,se.top+Ee+40),I.fillText(yt.toExponential(1),se.left+qe,se.top+Ee+40),I.fillText("Signal (DN)",se.left+qe/2,se.top+Ee+80),I.textAlign="right",I.textBaseline="middle",I.fillText(Ft.toExponential(1),se.left-20,se.top+Ee),I.fillText(pr.toExponential(1),se.left-20,se.top),I.save(),I.translate(se.left-80,se.top+Ee/2),I.rotate(-Math.PI/2),I.textAlign="center",I.fillText(d==="Linear"?"(Var - RN) / Mean":d,0,0),I.restore(),I.save(),I.translate(2048/2,1536/2),I.rotate(-Math.PI/6),I.textAlign="center",I.textBaseline="middle",I.fillStyle=de?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)",I.font="bold 150px sans-serif",I.fillText(" y-g-jiang.github.io",0,0),I.restore(),I.fillStyle=Re,I.font="bold 36px sans-serif",I.textAlign="left",I.textBaseline="top",I.fillText(`PTC Export: ${d} Mode`,se.left,20),I.font="24px sans-serif",I.fillStyle=de?"#94a3b8":"#64748b",I.fillText(`Points: ${Qt.length} | Sat Channel: ${Bt}`,se.left,65);const ao=se.left+30,ls=se.top+30,kh=70,cs=_e=>{if(!$||_e<=0)return"--";const at=mt.readNoise,tt=mt.gain,rt=mt.prnu/100;if(tt<=0)return"--";const Ur=_e*_e,kn=at*at,Hn=1-Ur*rt*rt,Fa=-(Ur/tt),$o=-(Ur*kn);let za=0;if(Math.abs(Hn)<1e-8)Math.abs(Fa)>1e-8&&(za=-$o/Fa);else{const lr=Fa*Fa-4*Hn*$o;lr>=0&&(za=(-Fa+Math.sqrt(lr))/(2*Hn))}return za>0?Math.log2($/za).toFixed(2)+" EV":"--"},Sh=pe!=null&&pe.ptpTarget&&!isNaN(pe.ptpTarget)?cs(pe.ptpTarget):"--",yi=G?cs(parseFloat(G)):"--";I.font="bold 48px monospace",I.textAlign="left",I.textBaseline="top",I.shadowColor=de?"rgba(0,0,0,0.8)":"rgba(255,255,255,0.8)",I.shadowBlur=4,I.shadowOffsetX=1,I.shadowOffsetY=1;const Tn=(_e,at,tt,rt)=>{const Ur=ls+tt*kh;I.fillStyle=Re,I.fillText(_e,ao,Ur);const kn=I.measureText(_e).width;I.fillStyle=rt||Re,I.fillText(at,ao+kn,Ur)},jh=Dt.read,Nh=parseFloat(Dt.gain).toFixed(3),_h=parseFloat(Dt.prnu).toFixed(2)+"%";let Uu=`M.DR@SNR${G}: `;const Ll=parseFloat(T);if(!isNaN(Ll)&&Ll>0){const _e=(2309.4/Ll).toFixed(2);Math.abs(parseFloat(G)-parseFloat(_e))<.05&&(Uu="8mpSNR=1 DR: ")}Tn("Tester: ",ge||"N/A",0),Tn("Model : ",Le||"Unknown",1),Tn("ISO   : ",xt||"N/A",2),Tn("RN/FPN: ",jh,3,"#f43f5e"),Tn("KADC  : ",Nh,4,"#06b6d4"),Tn("PRNU  : ",_h,5,"#f59e0b"),Tn("PTP DR: ",pe!=null&&pe.ptpDR?pe.ptpDR.toFixed(2)+" EV":"--",6,"#10b981"),Tn("D55 DR: ",pe!=null&&pe.d55DR?pe.d55DR.toFixed(2)+" EV":"--",7,"#8b5cf6"),Tn("FWC   : ",ir?ir>1e4?(ir/1e3).toFixed(1)+"k":Math.round(ir).toString():"--",8,"#f97316"),Tn(Uu,pe!=null&&pe.manualDR?pe.manualDR.toFixed(2)+" EV":"--",9,"#06b6d4"),Tn("PTCFitDR(PTP): ",Sh,10,"#10b981"),Tn("PTCFitDR(Man): ",yi,11,"#06b6d4"),I.save(),I.textAlign="right",I.textBaseline="bottom",I.fillStyle="#3b82f6",I.font="bold 80px sans-serif",I.shadowColor=de?"rgba(0,0,0,0.8)":"rgba(255,255,255,0.8)",I.shadowBlur=4,I.shadowOffsetX=2,I.shadowOffsetY=2;const Bl=1988,Wu=1476,Ph=90;I.fillText("Online",Bl,Wu),I.fillText("Jiangtherapee",Bl,Wu-Ph),I.restore();const To=document.createElement("a");To.download=`ptc_complete_${d}_${Date.now()}.jpg`,To.href=ae.toDataURL("image/jpeg",.9),To.click()},[Qt,Bt,S,N,M,C,L,ze,et,Qe,Nt,h,s,d,$,o,bt,Fe,hr,or,rr,ce,ge,Le,xt,pe,ir,G,ct,Er,Dt,T,K]),Qr=j.useMemo(()=>{let U=Qt;if(h&&(U=U.filter(de=>de.y>0&&de.x>0)),w==="top3"){const de=[...U].sort((Re,Je)=>Je.x-Re.x),Me=Math.max(50,Math.ceil(de.length*.03));U=de.slice(0,Me)}const X={R:[],G1:[],G2:[],B:[]};if(U.forEach(de=>{X[de.channel]&&X[de.channel].push(de)}),w==="raw")return X;const ae=w==="top3"?500:cJ,I=de=>{if(de.length<=ae)return de;const Me=[...de].sort((Ye,Be)=>Ye.x-Be.x),Re=[],Je=Me.length/ae;for(let Ye=0;Ye<ae;Ye++){const Be=Math.floor(Ye*Je),Rt=Math.floor((Ye+1)*Je),yt=Me.slice(Be,Rt);if(yt.length===0)continue;yt.sort((pr,se)=>pr.y-se.y);const Ft=Math.floor(yt.length/2);Re.push(yt[Ft])}return Re};return{R:I(X.R),G1:I(X.G1),G2:I(X.G2),B:I(X.B)}},[Qt,w,h]),xn=j.useMemo(()=>{if(Zt.length<5)return[];const U=Zt.filter(ae=>ae.channel===Bt);return[...U.length>20?U:Zt].sort((ae,I)=>ae.x-I.x).map(ae=>({mean:ae.x,std:ae.std}))},[Zt,Bt]),Ao=U=>{const X=U.length;if(X===0)return[];const ae=U.reduce((qe,Ee)=>qe+Ee,0)/X,I=U.reduce((qe,Ee)=>qe+Math.pow(Ee-ae,2),0)/(X-1||1),de=Math.sqrt(I);if(de===0)return[{x:ae-.001,density:0},{x:ae,density:1},{x:ae+.001,density:0}];const Me=1.06*de*Math.pow(X,-.2),Re=Math.min(...U),Je=Math.max(...U),Ye=(Je-Re)*.2||Re*.1,Be=Math.max(0,Re-Ye),Rt=Je+Ye,yt=100,Ft=(Rt-Be)/(yt-1),pr=qe=>1/Math.sqrt(2*Math.PI)*Math.exp(-.5*qe*qe),se=[];for(let qe=0;qe<yt;qe++){const Ee=Be+qe*Ft;let ut=0;for(let _t=0;_t<X;_t++)ut+=pr((Ee-U[_t])/Me);ut/=X*Me,se.push({x:Ee,density:ut})}return se},Eo=j.useCallback((U,X,ae,I)=>{if(U.length<5)return{gain:0,prnu:0};const de=U[U.length-1].mean,Me=de*(ae.min/100),Re=de*(ae.max/100),Je=U.filter(dt=>dt.mean>=Me&&dt.mean<=Re);if(Je.length<5)return{gain:0,prnu:0};$t({nPoints:Je.length});const Ye=X*X,Be=[],Rt=[];if(Je.forEach(dt=>{const wn=dt.std*dt.std-Ye;if(dt.mean>1&&wn>0){const ao=dt.mean,ls=wn/dt.mean;Be.push({x:ao,y:ls}),Rt.push(dt.mean/wn)}}),Be.length<5)return{gain:0,prnu:0};const yt=[],Ft=Be.length,pr=I,se=Ft*(Ft-1)/2;if(se<=pr)for(let dt=0;dt<Ft;dt++)for(let wr=dt+1;wr<Ft;wr++){const wn=Be[wr].x-Be[dt].x;Math.abs(wn)>1e-5&&yt.push((Be[wr].y-Be[dt].y)/wn)}else{const dt=Math.max(1,Math.floor(se/pr));for(let wr=0;wr<Ft;wr++)for(let wn=wr+1;wn<Ft;wn+=dt){const ao=Be[wn].x-Be[wr].x;Math.abs(ao)>1e-5&&yt.push((Be[wn].y-Be[wr].y)/ao)}}const qe=Ep(yt),Ee=Be.map(dt=>dt.y-qe*dt.x),ut=Ep(Ee);let _t=0,bn=0;if(ut>1e-6?_t=1/ut:_t=Ep(Rt),qe>0&&(bn=Math.sqrt(qe)*100),Rt.length>0){const dt=Ao(Rt);vr(dt),vn(_t)}else vr([]);return{gain:_t,prnu:bn}},[]),ja=j.useCallback(U=>{let X=U.read??nr.current.readNoise;const ae=U.gRange??ar.current,I=Zr.current;if((U.read!==void 0||U.gRange!==void 0)&&U.gain===void 0&&U.prnu===void 0&&xn.length>0&&X>=0)b(!0),setTimeout(()=>{const Me=Eo(xn,X,ae,I);let Re=nr.current.gain,Je=nr.current.prnu;Me.gain>0&&(Re=Me.gain,Je=Me.prnu),Ue({readNoise:X,gain:Re,prnu:Je}),U.gRange!==void 0&&Nr(U.gRange),gn(Ye=>{var Be,Rt;return{...Ye,read:X.toString(),gain:Re>0?Re.toFixed(3):"0",prnu:Je.toFixed(2),rangeMin:(((Be=U.gRange)==null?void 0:Be.min)??Ye.rangeMin).toString(),rangeMax:(((Rt=U.gRange)==null?void 0:Rt.max)??Ye.rangeMax).toString()}}),b(!1)},50);else{let Me=U.gain!==void 0?U.gain:nr.current.gain,Re=U.prnu!==void 0?U.prnu:nr.current.prnu;Ue({readNoise:X,gain:Me,prnu:Re}),U.gRange!==void 0&&Nr(U.gRange),gn(Je=>{var Ye,Be;return{...Je,read:X.toString(),gain:Me>0?Me.toFixed(3):"0",prnu:Re.toFixed(2),rangeMin:(((Ye=U.gRange)==null?void 0:Ye.min)??Je.rangeMin).toString(),rangeMax:(((Be=U.gRange)==null?void 0:Be.max)??Je.rangeMax).toString()}})}},[xn,Eo]),aa=`${Q}-${r.length}`;j.useEffect(()=>{if(!e||!r||r.length===0)return;const U=Qr[Bt];if(!U||U.length===0||on===aa)return;_({R:Bt==="R",G1:Bt==="G1",G2:Bt==="G2",B:Bt==="B"});const X=[...U].sort((Me,Re)=>Me.x-Re.x);let ae=0;X.length>0&&(ae=X[0].std);const I=Zt.filter(Me=>Me.channel===Bt);let de=-1/0;for(const Me of I)Me.x>de&&(de=Me.x);de!==-1/0&&ne(de),ja({read:ae}),br(aa)},[e,r,on,aa,Qr,Bt,ja,Zt]);const V=(U,X)=>{gn(ae=>({...ae,[U]:X}))},ke=U=>{let X=parseFloat(Dt[U]);isNaN(X)||X<0||ja({[U]:X})},Wt=()=>{D(z),br("")},sr=()=>{const U=parseFloat(Dt.rangeMin),X=parseFloat(Dt.rangeMax);!isNaN(U)&&!isNaN(X)&&U<X&&U>=0&&X<=100&&ja({gRange:{min:U,max:X}})},Gr=(U,X)=>{U.key==="Enter"&&(X==="rangeMin"||X==="rangeMax"?sr():ke(X),U.target.blur())};j.useEffect(()=>{e&&xn.length>0&&ja({})},[e,lt,xn]);const Xt=U=>{_(X=>({...X,[U]:!X[U]}))},Xn=()=>{v(U=>U==="top3"?"default":"top3")},En=()=>{w==="raw"?v("default"):y(!0)},is=()=>{y(!1),v("raw")},oa=(U,X)=>{const ae=parseFloat(U),I=parseFloat(X);let de=isNaN(ae)?"auto":ae,Me=isNaN(I)?"auto":I;return h&&typeof de=="number"&&de<=0&&(de="auto"),[de,Me]},ia=U=>{if(!U||!U.payload)return;const X=U.payload;if(x(X),st.current&&(ne(X.x),q(!1)),tr.current){const ae=ar.current.min,I=ar.current.max,{max:de}=ie();if(de<=0)return;const Me=Math.max(0,Math.min(100,X.x/de*100));if(Ge.current===1){const Re=Math.min(Me,I-.5);ja({gRange:{min:Re,max:I}}),he(2)}else if(Ge.current===2){const Re=Math.max(Me,ae+.5);ja({gRange:{min:ae,max:Re}}),he(0),Y(!1)}}},Na=j.useCallback(U=>{const{cx:X,cy:ae,fill:I}=U;return c.jsx("circle",{cx:X,cy:ae,r:3,fill:I,stroke:"none",style:{cursor:"pointer"}})},[]),_r=({active:U,payload:X})=>{if(U&&X&&X.length){const ae=X[0].payload;return c.jsxs("div",{className:"bg-slate-800 text-white text-xs p-2 rounded border border-slate-600 shadow-xl opacity-90 font-mono z-50",children:[c.jsx("div",{className:"font-bold border-b border-slate-600 pb-1 mb-1",children:ae.channel}),c.jsxs("div",{children:["Signal: ",ae.x.toFixed(2)]}),c.jsxs("div",{children:[d,": ",ae.y.toFixed(4)]}),ae.row!==void 0&&ae.col!==void 0&&!isNaN(ae.row)&&!isNaN(ae.col)&&c.jsxs("div",{className:"text-cyan-400 mt-0.5",children:["Loc: Row ",ae.row,", Col ",ae.col]}),ae.filename&&c.jsx("div",{className:"text-gray-400 mt-1 max-w-[200px] truncate",title:ae.filename,children:ae.filename})]})}return null},no=U=>{f(U),U==="Linear"&&p(!1)};if(!e)return null;const wh=s==="dark"?"#ffffff":"#000000";let ss=d;d==="Linear"&&(ss="(Var - RN) / Mean");const Et=z!==Q;return c.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in",onClick:U=>{U.stopPropagation()},children:c.jsxs("div",{className:"bg-white dark:bg-slate-900 w-[98vw] max-w-[2200px] h-[95vh] rounded-2xl shadow-2xl flex flex-col border border-gray-200 dark:border-slate-700 overflow-hidden relative",onClick:U=>U.stopPropagation(),children:[c.jsx(ai,{isOpen:g,onClose:()=>y(!1),onConfirm:is,title:"Warning: High Performance Cost",message:"Displaying all data points may cause the browser to freeze or become unresponsive, especially with large datasets. Are you sure you want to continue?",confirmText:"Yes, Show All"}),m&&c.jsxs("div",{className:"absolute top-20 right-8 z-30 bg-white/90 dark:bg-slate-800/90 border border-cyan-500 rounded-xl p-4 shadow-xl backdrop-blur-md max-w-xs animate-in fade-in zoom-in-95 duration-200",children:[c.jsxs("div",{className:"flex justify-between items-start mb-2 border-b border-gray-200 dark:border-slate-700 pb-2",children:[c.jsx("h4",{className:"font-bold text-gray-900 dark:text-white text-sm",children:"Selected Point"}),c.jsx("button",{onClick:()=>x(null),className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200",children:c.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsx("div",{className:"space-y-1 text-xs font-mono text-gray-700 dark:text-slate-300",children:c.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1.5",children:[c.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"Channel:"}),c.jsx("span",{className:"font-bold",children:m.channel}),c.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"Signal (DN):"}),c.jsx("span",{children:m.x.toFixed(4)}),c.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"Noise (Std):"}),c.jsx("span",{children:m.std.toFixed(4)}),c.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"SNR:"}),c.jsx("span",{className:"text-purple-600 dark:text-purple-400 font-bold",children:(m.x/m.std).toFixed(2)})]})})]}),An&&c.jsx("div",{className:"absolute inset-0 z-40 bg-white/95 dark:bg-slate-900/95 backdrop-blur-sm flex flex-col items-center justify-center p-8 animate-in fade-in zoom-in-95 duration-200",children:c.jsxs("div",{className:"w-full max-w-2xl h-[60vh] bg-gray-50 dark:bg-slate-800 rounded-xl border border-gray-200 dark:border-slate-700 shadow-2xl p-4 flex flex-col relative",children:[c.jsx("button",{onClick:()=>yn(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-red-500 transition-colors",children:c.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),c.jsxs("div",{className:"mb-4 text-center",children:[c.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-slate-200",children:"Gain Density Estimation"}),c.jsxs("p",{className:"text-xs text-gray-500 dark:text-slate-400",children:["HSM Mode: ",c.jsx("span",{className:"text-cyan-600 dark:text-cyan-400 font-bold",children:xr==null?void 0:xr.toFixed(4)}),c.jsx("span",{className:"mx-2",children:"|"}),"Data Points: ",dr.length>0?"Density Curve Generated":"No Data"]})]}),c.jsx("div",{className:"flex-1 min-h-0",children:dr.length>0?c.jsx(vo,{width:"100%",height:"100%",children:c.jsxs(gN,{data:dr,margin:{top:10,right:30,left:0,bottom:20},children:[c.jsx(Ja,{strokeDasharray:"3 3",stroke:"#374151",opacity:.3,vertical:!1}),c.jsx(zn,{dataKey:"x",tickFormatter:U=>U.toFixed(2),tick:{fill:"#9ca3af",fontSize:10},label:{value:"Gain (e/ADU)",position:"insideBottom",offset:-15,fill:"#9ca3af",fontSize:12}}),c.jsx(Gn,{tick:{fill:"#9ca3af",fontSize:10}}),c.jsx(Kr,{cursor:{stroke:"rgba(255,255,255,0.2)"},contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"0.5rem",color:"#f3f4f6"}}),c.jsx(ga,{type:"monotone",dataKey:"density",stroke:"#0ea5e9",fill:"#0ea5e9",fillOpacity:.3,strokeWidth:2}),xr!==null&&c.jsx(Ko,{x:xr,stroke:"#ef4444",strokeWidth:2,label:{value:"HSM",fill:"#ef4444",fontSize:10,position:"top"}})]})}):c.jsx("div",{className:"flex items-center justify-center h-full text-gray-400",children:"No data in selected range"})})]})}),c.jsxs("div",{className:"flex flex-wrap justify-between items-center p-3 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50 gap-4 flex-shrink-0",children:[c.jsxs("h2",{className:"text-lg font-bold text-gray-900 dark:text-slate-100 flex items-center gap-2",children:["Photon Transfer Curve",c.jsxs("span",{className:"text-xs font-normal bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-300 px-2 py-0.5 rounded border border-purple-200 dark:border-purple-800",children:[r.length," Pts"]})]}),c.jsxs("div",{className:"flex gap-4 items-center flex-wrap",children:[c.jsxs("button",{onClick:Sa,className:"bg-green-600 hover:bg-green-500 text-white font-bold py-1 px-3 rounded text-xs shadow-md transition-all active:scale-95 flex items-center gap-1",title:"Render all points, target lines, and metadata to a high-res JPG",children:[c.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Export Complete Result"]}),c.jsxs("div",{className:"flex bg-white dark:bg-slate-700 rounded-lg p-1 border border-gray-200 dark:border-slate-600",children:[c.jsx("button",{onClick:()=>no("Noise"),className:`px-3 py-1 text-xs font-bold rounded transition-colors ${d==="Noise"?"bg-cyan-600 text-white shadow":"text-gray-600 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-600"}`,children:"Noise ()"}),c.jsx("button",{onClick:()=>no("SNR"),className:`px-3 py-1 text-xs font-bold rounded transition-colors ${d==="SNR"?"bg-purple-600 text-white shadow":"text-gray-600 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-600"}`,children:"SNR"}),c.jsx("button",{onClick:()=>no("Linear"),className:`px-3 py-1 text-xs font-bold rounded transition-colors ${d==="Linear"?"bg-indigo-600 text-white shadow":"text-gray-600 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-600"}`,children:"Linear (PTC)"})]}),c.jsxs("label",{className:"flex items-center gap-2 text-xs text-gray-600 dark:text-slate-300 cursor-pointer select-none",children:[c.jsx("input",{type:"checkbox",checked:h,onChange:U=>p(U.target.checked),className:"rounded border-gray-300 text-cyan-600 focus:ring-cyan-500 bg-gray-100 dark:bg-slate-700 dark:border-slate-600"}),"Log-Log"]}),c.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 transition-colors p-1",children:c.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-0 border-b border-gray-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-sm flex-shrink-0",children:[c.jsxs("div",{className:"lg:col-span-9 p-5 flex flex-col gap-5 border-r border-gray-200 dark:border-slate-700",children:[c.jsxs("div",{className:"flex flex-wrap gap-4 items-center justify-between text-xs",children:[c.jsxs("div",{className:"flex gap-4 items-center",children:[c.jsxs("div",{className:"flex items-center gap-1.5 bg-gray-50 dark:bg-slate-800 rounded-md p-1 border border-gray-200 dark:border-slate-700",children:[c.jsx("span",{className:"font-bold text-gray-500 dark:text-slate-400 pl-1",children:"X:"}),c.jsx("input",{type:"number",placeholder:"Min",value:N,onChange:U=>P(U.target.value),className:"w-12 px-1 py-0.5 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center outline-none"}),c.jsx("span",{className:"text-gray-400",children:"-"}),c.jsx("input",{type:"number",placeholder:"Max",value:M,onChange:U=>E(U.target.value),className:"w-12 px-1 py-0.5 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center outline-none"})]}),c.jsxs("div",{className:"flex items-center gap-1.5 bg-gray-50 dark:bg-slate-800 rounded-md p-1 border border-gray-200 dark:border-slate-700",children:[c.jsx("span",{className:"font-bold text-gray-500 dark:text-slate-400 pl-1",children:"Y:"}),c.jsx("input",{type:"number",placeholder:"Min",value:C,onChange:U=>A(U.target.value),className:"w-12 px-1 py-0.5 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center outline-none"}),c.jsx("span",{className:"text-gray-400",children:"-"}),c.jsx("input",{type:"number",placeholder:"Max",value:L,onChange:U=>R(U.target.value),className:"w-12 px-1 py-0.5 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center outline-none"})]}),c.jsx("button",{onClick:()=>{P(""),E(""),A(""),R("")},className:"text-xs text-cyan-600 dark:text-cyan-400 hover:underline",children:"Auto"})]}),c.jsxs("div",{className:"flex items-center gap-1 bg-white dark:bg-slate-700 p-1 rounded-lg border border-gray-200 dark:border-slate-600",children:[c.jsx("button",{onClick:()=>Xt("R"),className:`w-6 h-6 text-[10px] font-bold rounded flex items-center justify-center transition-colors ${S.R?"bg-red-500 text-white":"bg-gray-100 dark:bg-slate-600 text-gray-400"}`,children:"R"}),c.jsx("button",{onClick:()=>Xt("G1"),className:`w-6 h-6 text-[10px] font-bold rounded flex items-center justify-center transition-colors ${S.G1?"bg-green-500 text-white":"bg-gray-100 dark:bg-slate-600 text-gray-400"}`,children:"G1"}),c.jsx("button",{onClick:()=>Xt("G2"),className:`w-6 h-6 text-[10px] font-bold rounded flex items-center justify-center transition-colors ${S.G2?"bg-green-400 text-white":"bg-gray-100 dark:bg-slate-600 text-gray-400"}`,children:"G2"}),c.jsx("button",{onClick:()=>Xt("B"),className:`w-6 h-6 text-[10px] font-bold rounded flex items-center justify-center transition-colors ${S.B?"bg-blue-500 text-white":"bg-gray-100 dark:bg-slate-600 text-gray-400"}`,children:"B"})]})]}),c.jsxs("div",{className:"flex flex-wrap items-end gap-8",children:[c.jsxs("div",{className:"flex flex-col bg-gray-50 dark:bg-slate-800/50 p-2 rounded border border-gray-100 dark:border-slate-700",children:[c.jsx("span",{className:"text-[9px] uppercase font-bold text-gray-500 dark:text-slate-400 mb-1",children:"Black Level (0,0 0,1 1,0 1,1)"}),c.jsx("input",{type:"text",value:z,onChange:U=>te(U.target.value),className:"w-32 text-xs px-2 py-1 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded outline-none focus:border-cyan-500 font-mono",placeholder:"0 0 0 0"})]}),c.jsxs("div",{className:"flex flex-col justify-between bg-gray-50 dark:bg-slate-800/50 p-2 rounded border border-gray-100 dark:border-slate-700",children:[c.jsxs("div",{className:"flex justify-between items-center mb-1",children:[c.jsx("span",{className:"text-[9px] uppercase font-bold text-gray-500 dark:text-slate-400 mr-2",children:"Fit Range % (Robust)"}),c.jsx("button",{onClick:()=>{Y(!ce),he(ce?0:1)},className:`px-1.5 py-0.5 text-[9px] rounded border transition-colors ${ce?"bg-cyan-100 text-cyan-700 border-cyan-300 animate-pulse":"bg-white dark:bg-slate-700 border-gray-300 dark:border-slate-600 text-gray-600 dark:text-slate-300 hover:bg-gray-50"}`,children:ce?ue===1?"Pick Min":"Pick Max":"Select"})]}),c.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[c.jsx("input",{type:"number",step:"0.1",value:Dt.rangeMin,onChange:U=>V("rangeMin",U.target.value),onBlur:sr,onKeyDown:U=>Gr(U,"rangeMin"),className:"w-10 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-1 py-0.5 text-center font-bold"}),c.jsx("span",{className:"text-gray-400",children:"-"}),c.jsx("input",{type:"number",step:"0.1",value:Dt.rangeMax,onChange:U=>V("rangeMax",U.target.value),onBlur:sr,onKeyDown:U=>Gr(U,"rangeMax"),className:"w-10 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-1 py-0.5 text-center font-bold"})]})]}),c.jsxs("div",{className:"flex flex-col bg-indigo-50 dark:bg-indigo-900/20 p-2 rounded border border-indigo-100 dark:border-indigo-800/50",children:[c.jsx("span",{className:"text-[9px] uppercase font-bold text-indigo-600 dark:text-indigo-400 mb-1",children:"DR Params"}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("span",{className:"text-[10px] font-bold text-indigo-500 dark:text-indigo-300",children:"Img H:"}),c.jsx("input",{type:"number",value:T,onChange:U=>B(U.target.value),onKeyDown:na,placeholder:"Empty",className:"w-14 px-1 py-0.5 bg-white dark:bg-slate-900 border border-indigo-200 dark:border-indigo-800 rounded text-center font-bold text-indigo-700 dark:text-indigo-300 text-xs placeholder:font-normal placeholder:text-gray-300"})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("span",{className:"text-[10px] font-bold text-indigo-500 dark:text-indigo-300",children:"Tgt SNR:"}),c.jsx("input",{type:"number",value:G,onChange:U=>O(U.target.value),className:"w-10 px-1 py-0.5 bg-white dark:bg-slate-900 border border-indigo-200 dark:border-indigo-800 rounded text-center font-bold text-indigo-700 dark:text-indigo-300 text-xs"})]})]})]}),c.jsxs("div",{className:"flex flex-col gap-1 text-[10px] justify-end pb-0.5",children:[c.jsx("button",{onClick:()=>{q(!J),$&&ne(null)},disabled:ce,className:`font-bold rounded border shadow-sm transition-all px-3 py-1.5 ${J?"bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-400 border-amber-500 animate-pulse":"bg-white dark:bg-slate-800 text-gray-600 dark:text-slate-300 border-gray-300 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:J?"Pick Point":"Select Linear Limit"}),c.jsxs("div",{className:"flex gap-1",children:[c.jsx("button",{onClick:Xn,className:`flex-1 font-bold rounded border shadow-sm transition-all px-2 py-1 ${w==="top3"?"bg-indigo-600 text-white border-indigo-700":"bg-white dark:bg-slate-800 text-gray-600 dark:text-slate-300 border-gray-300 dark:border-slate-600 hover:bg-gray-50"}`,children:"Top 3%"}),c.jsx("button",{onClick:En,className:`font-bold rounded border shadow-sm transition-all px-2 py-1 ${w==="raw"?"bg-red-600 text-white border-red-700":"text-red-500 border-red-200 hover:bg-red-50"}`,children:"All"})]})]})]}),c.jsxs("div",{className:"flex flex-wrap gap-4 items-center bg-gray-50/50 dark:bg-slate-800/20 p-2 rounded-lg border border-gray-100 dark:border-slate-800",children:[c.jsx("span",{className:"text-[10px] uppercase font-bold text-gray-400 dark:text-slate-500",children:"Metadata"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{type:"text",value:ge,onChange:U=>xe(U.target.value),placeholder:"Tester Name",className:"w-24 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-gray-700 dark:text-slate-300 outline-none focus:border-cyan-500 transition-colors"}),c.jsx("input",{type:"text",value:Le,onChange:U=>it(U.target.value),placeholder:"Camera Model",className:"w-32 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-gray-700 dark:text-slate-300 outline-none focus:border-cyan-500 transition-colors"}),c.jsx("input",{type:"text",value:xt,onChange:U=>yr(U.target.value),placeholder:"ISO",className:"w-16 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-gray-700 dark:text-slate-300 outline-none focus:border-cyan-500 transition-colors"})]})]}),c.jsxs("div",{className:"flex flex-wrap gap-4 items-center bg-fuchsia-50/50 dark:bg-fuchsia-900/10 p-2 rounded-lg border border-fuchsia-100 dark:border-fuchsia-900/30",children:[c.jsx("span",{className:"text-[10px] uppercase font-bold text-fuchsia-500 dark:text-fuchsia-400",children:"Markers"}),c.jsxs("div",{className:"flex gap-2 items-center",children:[c.jsx("input",{type:"number",value:Se,onChange:U=>oe(U.target.value),placeholder:"X (Signal)",className:"w-20 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 outline-none focus:border-fuchsia-500 transition-colors"}),c.jsx("input",{type:"number",value:we,onChange:U=>ve(U.target.value),placeholder:"Y (Value)",className:"w-20 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 outline-none focus:border-fuchsia-500 transition-colors"}),c.jsx("button",{onClick:Ke,className:"px-3 py-1 bg-fuchsia-600 hover:bg-fuchsia-500 text-white text-xs font-bold rounded shadow-sm transition-colors active:scale-95",children:"+"}),K.length>0&&c.jsx("button",{onClick:()=>Oe([]),className:"px-2 py-1 bg-gray-200 dark:bg-slate-700 hover:bg-red-500 hover:text-white text-gray-600 dark:text-slate-300 text-xs font-bold rounded shadow-sm transition-colors active:scale-95",children:"Clr"})]}),c.jsxs("div",{className:"text-[10px] text-gray-400 dark:text-slate-500 font-mono",children:[K.length," pts"]})]}),c.jsxs("div",{className:"flex gap-4 text-[10px] pt-1 justify-center sm:justify-start flex-wrap",children:[c.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[c.jsx("input",{type:"checkbox",checked:bt.shot,onChange:U=>mn({...bt,shot:U.target.checked}),className:"rounded text-gray-500"})," ",c.jsx("span",{className:"text-gray-500",children:"Shot Noise"})]}),c.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[c.jsx("input",{type:"checkbox",checked:bt.read,onChange:U=>mn({...bt,read:U.target.checked}),className:"rounded text-rose-500"})," ",c.jsx("span",{className:"text-rose-500",children:"Read Noise"})]}),c.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[c.jsx("input",{type:"checkbox",checked:bt.prnu,onChange:U=>mn({...bt,prnu:U.target.checked}),className:"rounded text-amber-500"})," ",c.jsx("span",{className:"text-amber-500",children:"PRNU"})]}),c.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[c.jsx("input",{type:"checkbox",checked:bt.total,onChange:U=>mn({...bt,total:U.target.checked}),className:"rounded text-white"})," ",c.jsx("span",{className:"text-gray-900 dark:text-white font-bold",children:"Model"})]})]})]}),c.jsxs("div",{className:"lg:col-span-3 bg-slate-100 dark:bg-slate-800 p-4 flex flex-col justify-center gap-4",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between items-center mb-1 px-1",children:[c.jsxs("h3",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase flex items-center gap-2",children:["Fit Parameters (D55 SAT Channel:",Bt,")",k&&c.jsx("span",{className:"text-orange-500 animate-pulse text-[10px]",children:"Calculating..."})]}),c.jsxs("div",{className:"flex gap-2 items-center",children:[c.jsx("button",{onClick:Wt,disabled:k,className:`px-3 py-1 text-white text-[10px] font-bold rounded shadow-sm transition-all flex items-center gap-1 active:scale-95 
                                            ${k?"bg-gray-400 cursor-wait":Et?"bg-orange-500 hover:bg-orange-600 animate-pulse ring-2 ring-orange-400/50":"bg-cyan-600 hover:bg-cyan-500"}
                                        `,title:"Apply Black Level, Auto-detect Read Noise, then Recalculate Fit",children:k?c.jsxs(c.Fragment,{children:[c.jsxs("svg",{className:"w-3 h-3 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Fitting..."]}):c.jsxs(c.Fragment,{children:[c.jsxs("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),"Apply & Calc"]})}),c.jsxs("select",{value:lt,onChange:U=>jt(Number(U.target.value)),className:"text-[9px] bg-slate-200 dark:bg-slate-700 text-gray-600 dark:text-slate-300 rounded px-1 py-0.5 border-none outline-none cursor-pointer hover:bg-slate-300 dark:hover:bg-slate-600 transition-colors",title:"Number of point-pairs to sample for robust regression (Theil-Sen)",children:[c.jsx("option",{value:1e5,children:"100k Pairs"}),c.jsx("option",{value:5e5,children:"500k Pairs"}),c.jsx("option",{value:2e6,children:"2M Pairs"}),c.jsx("option",{value:5e6,children:"5M Pairs"}),c.jsx("option",{value:1e7,children:"10M Pairs"})]}),Ut&&c.jsxs("span",{className:"text-[10px] text-gray-400 dark:text-slate-500 font-mono",title:"Number of points used in regression",children:["N=",Ut.nPoints]})]})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("label",{className:"text-[10px] text-gray-500 dark:text-slate-400 uppercase tracking-wide mb-1",children:"rn/fpn"}),c.jsx("input",{type:"text",inputMode:"decimal",value:Dt.read,onChange:U=>V("read",U.target.value),onBlur:()=>ke("read"),onKeyDown:U=>Gr(U,"read"),className:"w-full text-center text-2xl font-light bg-transparent text-rose-500 outline-none border-b border-transparent focus:border-rose-500 transition-colors"})]}),c.jsxs("div",{className:"flex flex-col items-center relative group",children:[c.jsxs("label",{className:"text-[10px] text-gray-500 dark:text-slate-400 uppercase tracking-wide mb-1 flex items-center gap-1",children:["Kadc (HSM)",c.jsx("button",{onClick:()=>yn(!0),className:"text-[9px] text-cyan-600 dark:text-cyan-400 hover:underline",children:"Dist."})]}),c.jsx("input",{type:"text",inputMode:"decimal",value:Dt.gain,onChange:U=>V("gain",U.target.value),onBlur:()=>ke("gain"),onKeyDown:U=>Gr(U,"gain"),className:"w-full text-center text-2xl font-light bg-transparent text-slate-700 dark:text-slate-200 outline-none border-b border-transparent focus:border-cyan-500 transition-colors"})]}),c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("label",{className:"text-[10px] text-gray-500 dark:text-slate-400 uppercase tracking-wide mb-1",children:"PRNU (%)"}),c.jsx("input",{type:"text",inputMode:"decimal",value:Dt.prnu,onChange:U=>V("prnu",U.target.value),onBlur:()=>ke("prnu"),onKeyDown:U=>Gr(U,"prnu"),className:"w-full text-center text-2xl font-light bg-transparent text-amber-500 outline-none border-b border-transparent focus:border-amber-500 transition-colors"})]})]})]}),c.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 w-full"}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 text-center",children:[c.jsxs("div",{className:"flex flex-col justify-center bg-cyan-50 dark:bg-cyan-900/10 p-2 rounded-lg border border-cyan-100 dark:border-cyan-900/30",children:[c.jsxs("h4",{className:"text-[10px] font-bold text-cyan-600 dark:text-cyan-500 uppercase tracking-wide mb-1 truncate",title:`Manual DR at SNR=${(pe==null?void 0:pe.manualTarget)||G}`,children:["M.DR @ SNR=",(pe==null?void 0:pe.manualTarget)||G]}),c.jsx("div",{className:"text-base font-bold text-cyan-700 dark:text-cyan-400 whitespace-nowrap",children:pe!=null&&pe.manualDR?`${pe.manualDR.toFixed(2)} EV`:"--"})]}),c.jsxs("div",{className:"flex flex-col justify-center bg-emerald-50 dark:bg-emerald-900/10 p-2 rounded-lg border border-emerald-100 dark:border-emerald-900/30",title:isNaN((pe==null?void 0:pe.ptpTarget)||NaN)?"Requires Image Height":`Standard Point-to-Point DR (Target SNR = 16000/${T||"H"})`,children:[c.jsx("h4",{className:"text-[10px] font-bold text-emerald-600 dark:text-emerald-500 uppercase tracking-wide mb-1",children:"PTP DR"}),c.jsx("div",{className:"text-base font-bold text-emerald-700 dark:text-emerald-400 whitespace-nowrap",children:pe!=null&&pe.ptpDR?`${pe.ptpDR.toFixed(2)} EV`:"--"})]}),c.jsxs("div",{className:"flex flex-col justify-center bg-purple-50 dark:bg-purple-900/10 p-2 rounded-lg border border-purple-100 dark:border-purple-900/30",title:isNaN((pe==null?void 0:pe.ptpTarget)||NaN)?"Requires Image Height":`D55 Saturation DR (Target SNR = 16000/${T||"H"} on ${pe==null?void 0:pe.dominantChannel} Channel)`,children:[c.jsxs("h4",{className:"text-[10px] font-bold text-purple-600 dark:text-purple-400 uppercase tracking-wide mb-1 truncate",children:["D55 DR (",pe==null?void 0:pe.dominantChannel,")"]}),c.jsx("div",{className:"text-base font-bold text-purple-700 dark:text-purple-400 whitespace-nowrap",children:pe!=null&&pe.d55DR?`${pe.d55DR.toFixed(2)} EV`:"--"})]}),c.jsxs("div",{className:"flex flex-col justify-center bg-orange-50 dark:bg-orange-900/10 p-2 rounded-lg border border-orange-100 dark:border-orange-900/30",children:[c.jsx("h4",{className:"text-[10px] font-bold text-orange-600 dark:text-orange-400 uppercase tracking-wide mb-1",children:"FWC"}),c.jsx("div",{className:"text-base font-bold text-orange-600 dark:text-orange-400 font-mono whitespace-nowrap truncate",title:ir!==null?`${Math.round(ir)}`:"",children:ir!==null?ir>1e4?`${(ir/1e3).toFixed(1)}k`:`${Math.round(ir)}`:"--"})]})]}),$===null&&c.jsx("div",{className:"text-center text-[10px] text-red-500 animate-pulse font-bold mt-[-10px]",children:"Please select Linear Limit on chart to calc DR"})]})]}),c.jsxs("div",{className:`flex-1 p-4 bg-white dark:bg-slate-900 relative grid grid-cols-[auto_1fr] grid-rows-[1fr_auto] gap-2 ${J||ce?"cursor-crosshair":""}`,children:[c.jsx("div",{className:"row-start-1 col-start-1 h-full",children:c.jsx(vk,{vertical:!0,min:Qe,max:Nt,value:[C?parseFloat(C):Qe,L?parseFloat(L):Nt],onChange:([U,X])=>{A(U.toString()),R(X.toString())},logScale:h})}),c.jsxs("div",{className:"row-start-1 col-start-2 relative",children:[Qt.length===0?c.jsx("div",{className:"flex h-full items-center justify-center text-gray-400",children:"No valid data points found."}):c.jsx(vo,{width:"100%",height:"100%",children:c.jsxs(IQ,{margin:{top:20,right:20,bottom:0,left:0},onClick:ia,children:[c.jsx("defs",{children:c.jsxs("filter",{id:"glow",height:"300%",width:"300%",x:"-100%",y:"-100%",children:[c.jsx("feGaussianBlur",{stdDeviation:"2",result:"coloredBlur"}),c.jsxs("feMerge",{children:[c.jsx("feMergeNode",{in:"coloredBlur"}),c.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),c.jsx(Ja,{strokeDasharray:"3 3",stroke:"#374151",opacity:.2}),c.jsx(zn,{type:"number",dataKey:"x",name:"Signal",scale:h?"log":"linear",domain:oa(N,M),allowDataOverflow:!0,hide:!0}),c.jsx(Gn,{type:"number",dataKey:"y",name:d,scale:h?"log":"linear",domain:oa(C,L),label:{value:ss,angle:-90,position:"insideLeft",fill:"#9ca3af",fontSize:12},tick:{fill:"#9ca3af",fontSize:10},allowDataOverflow:!0}),c.jsx(Kr,{content:c.jsx(_r,{}),cursor:{strokeDasharray:"3 3"}}),$&&c.jsx(Ko,{x:$,stroke:"red",strokeDasharray:"3 3",label:{position:"top",value:"Sat",fill:"red",fontSize:10}}),(bt.fitRange||ce)&&c.jsxs(c.Fragment,{children:[c.jsx(Ko,{x:hr,stroke:"#22d3ee",strokeDasharray:"5 5",label:{position:"insideTopLeft",value:`Min: ${rr.min}%`,fill:"#22d3ee",fontSize:9}}),c.jsx(Ko,{x:or,stroke:"#22d3ee",strokeDasharray:"5 5",label:{position:"insideTopLeft",value:`Max: ${rr.max}%`,fill:"#22d3ee",fontSize:9}})]}),S.R&&c.jsx(Nn,{name:"Red",data:Qr.R,fill:"#ef4444",shape:Na,onClick:ia,style:s==="dark"?{filter:"url(#glow)"}:void 0},"scatter-R"),S.G1&&c.jsx(Nn,{name:"Green 1",data:Qr.G1,fill:"#22c55e",shape:Na,onClick:ia,style:s==="dark"?{filter:"url(#glow)"}:void 0},"scatter-G1"),S.G2&&c.jsx(Nn,{name:"Green 2",data:Qr.G2,fill:"#4ade80",shape:Na,onClick:ia,style:s==="dark"?{filter:"url(#glow)"}:void 0},"scatter-G2"),S.B&&c.jsx(Nn,{name:"Blue",data:Qr.B,fill:"#3b82f6",shape:Na,onClick:ia,style:s==="dark"?{filter:"url(#glow)"}:void 0},"scatter-B"),bt.shot&&Fe.shot.length>0&&c.jsx(Nn,{name:"Shot Noise (Ideal)",data:Fe.shot,line:{stroke:"#94a3b8",strokeWidth:1,strokeDasharray:"5 5"},shape:()=>c.jsx(c.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-shot"),bt.read&&Fe.read.length>0&&c.jsx(Nn,{name:"Read Noise Floor",data:Fe.read,line:{stroke:"#f43f5e",strokeWidth:1,strokeDasharray:"3 3"},shape:()=>c.jsx(c.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-read"),bt.prnu&&Fe.prnu.length>0&&c.jsx(Nn,{name:"PRNU (Non-uniformity)",data:Fe.prnu,line:{stroke:"#f59e0b",strokeWidth:1,strokeDasharray:"3 3"},shape:()=>c.jsx(c.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-prnu"),bt.total&&Fe.total.length>0&&c.jsx(Nn,{name:"Total Noise Model",data:Fe.total,line:{stroke:wh,strokeWidth:2},shape:()=>c.jsx(c.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-total"),ct.length>0&&c.jsx(Nn,{name:`Target SNR=${G}`,data:ct,line:{stroke:"#6366f1",strokeWidth:2,strokeDasharray:"4 2"},shape:()=>c.jsx(c.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-target"),Er.length>0&&c.jsx(Nn,{name:`PTP Target SNR=${pe!=null&&pe.ptpTarget?pe.ptpTarget.toFixed(1):"?"}`,data:Er,line:{stroke:"#10b981",strokeWidth:2,strokeDasharray:"4 4"},shape:()=>c.jsx(c.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-ptp"),K.length>0&&c.jsx(Nn,{name:"Manual Markers",data:K,fill:"#d946ef",shape:"star",legendType:"star"},"manual-points")]})}),c.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 pointer-events-none select-none opacity-25 mix-blend-normal dark:mix-blend-plus-lighter",children:c.jsx("svg",{viewBox:"0 0 500 60",className:"w-96 h-auto",children:c.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"36",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})})]}),c.jsx("div",{className:"row-start-2 col-start-2 w-full",children:c.jsx(vk,{min:ze,max:et,value:[N?parseFloat(N):ze,M?parseFloat(M):et],onChange:([U,X])=>{P(U.toString()),E(X.toString())},logScale:h})})]})]})})},fJ=({searchTerm:e,onSearchChange:t,manufacturers:r,selectedManufacturer:n,onManufacturerChange:a,cameras:o,onCameraSelect:i})=>c.jsx("div",{className:"sticky top-4 z-10 bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm p-4 rounded-xl border border-gray-200 dark:border-slate-700 shadow-sm",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[c.jsxs("div",{className:"relative md:col-span-3",children:[c.jsx("input",{type:"text",placeholder:"Search camera model...",value:e,onChange:s=>t(s.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none transition-all duration-300 text-gray-900 dark:text-slate-200 placeholder-gray-500 dark:placeholder-slate-400"}),c.jsx("svg",{className:"w-5 h-5 text-gray-400 dark:text-slate-400 absolute top-1/2 left-3 transform -translate-y-1/2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),c.jsx("select",{value:n,onChange:s=>a(s.target.value),className:"w-full md:col-span-1 bg-gray-50 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg px-4 py-2 focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none transition-all duration-300 appearance-none text-gray-900 dark:text-slate-200",children:r.map(s=>c.jsx("option",{value:s,children:s},s))}),c.jsxs("select",{onChange:s=>i(s.target.value),className:"w-full md:col-span-1 bg-gray-50 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg px-4 py-2 focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none transition-all duration-300 appearance-none text-gray-900 dark:text-slate-200",value:"","aria-label":"Jump to camera model",children:[c.jsx("option",{value:"",disabled:!0,children:"Jump to model..."}),o.map(s=>c.jsx("option",{value:s.id,children:s.name},s.id))]})]})}),dJ=({active:e,payload:t,label:r,theme:n})=>{if(e&&t&&t.length){const a=t[0].payload,o=n==="dark"?"bg-slate-800/80 border-slate-600 text-slate-300":"bg-white/90 border-gray-200 text-gray-700";return c.jsxs("div",{className:`${o} backdrop-blur-sm border p-3 rounded-lg shadow-lg`,children:[c.jsx("p",{className:"label font-bold",children:`ISO ${r}`}),c.jsx("div",{className:"mt-2 space-y-1 text-sm",children:c.jsxs(c.Fragment,{children:[c.jsxs("div",{style:{color:"#f87171"},children:["Red: ",a.R_avg.toFixed(2)," (Range: ",a.R_range[0]," - ",a.R_range[1],")"]}),c.jsxs("div",{style:{color:"#4ade80"},children:["Green 1: ",a.G1_avg.toFixed(2)," (Range: ",a.G1_range[0]," - ",a.G1_range[1],")"]}),c.jsxs("div",{style:{color:"#60a5fa"},children:["Blue: ",a.B_avg.toFixed(2)," (Range: ",a.B_range[0]," - ",a.B_range[1],")"]}),c.jsxs("div",{style:{color:"#86efac"},children:["Green 2: ",a.G2_avg.toFixed(2)," (Range: ",a.G2_range[0]," - ",a.G2_range[1],")"]})]})})]})}return null},hJ=({data:e,theme:t="dark"})=>{const r=j.useMemo(()=>!e||e.length===0?[]:[...new Set(e.map(i=>i.iso))].sort((i,s)=>Number(i)-Number(s)),[e]),n=j.useMemo(()=>{if(!e||e.length===0)return[0,4096];const i=e.flatMap(m=>[...m.R_range,...m.G1_range,...m.G2_range,...m.B_range]);if(i.length===0)return[0,4096];let s=Math.min(...i),l=Math.max(...i);const u=.25,d=l-s;if(d<u){const m=u-d;s-=m/2,l+=m/2}const f=(l-s)*.1,h=s-f,p=l+f;return[h,p]},[e]),a=t==="dark"?"#475569":"#e5e7eb",o=t==="dark"?"#94a3b8":"#6b7280";return!e||e.length===0?c.jsx("div",{className:"flex items-center justify-center h-full text-gray-500 dark:text-slate-500",children:c.jsx("p",{children:"No data available for this mode."})}):c.jsx(vo,{width:"100%",height:"100%",children:c.jsxs(gN,{data:e,margin:{top:5,right:20,left:0,bottom:5},children:[c.jsx(Ja,{strokeDasharray:"3 3",stroke:a}),c.jsx(zn,{dataKey:"iso",type:"number",domain:["dataMin","dataMax"],tick:{fill:o,fontSize:12},scale:"log",allowDuplicatedCategory:!1,ticks:r}),c.jsx(Gn,{tick:{fill:o,fontSize:12},domain:n,allowDecimals:!0,tickFormatter:i=>Number(i).toFixed(3)}),c.jsx(Kr,{content:c.jsx(dJ,{theme:t})}),c.jsx(Ya,{wrapperStyle:{fontSize:"14px",color:o}}),c.jsx(ga,{type:"monotone",dataKey:"R_range",fill:"#f87171",stroke:"none",fillOpacity:.2,name:"Red",legendType:"none"}),c.jsx(Mr,{type:"monotone",dataKey:"R_avg",stroke:"#f87171",strokeWidth:2,dot:!1,activeDot:{r:5},name:"Red"}),c.jsx(ga,{type:"monotone",dataKey:"G1_range",fill:"#4ade80",stroke:"none",fillOpacity:.2,name:"Green 1",legendType:"none"}),c.jsx(Mr,{type:"monotone",dataKey:"G1_avg",stroke:"#4ade80",strokeWidth:2,dot:!1,activeDot:{r:5},name:"Green 1"}),c.jsx(ga,{type:"monotone",dataKey:"B_range",fill:"#60a5fa",stroke:"none",fillOpacity:.2,name:"Blue",legendType:"none"}),c.jsx(Mr,{type:"monotone",dataKey:"B_avg",stroke:"#60a5fa",strokeWidth:2,dot:!1,activeDot:{r:5},name:"Blue"}),c.jsx(ga,{type:"monotone",dataKey:"G2_range",fill:"#86efac",stroke:"none",fillOpacity:.2,name:"Green 2",legendType:"none"}),c.jsx(Mr,{type:"monotone",dataKey:"G2_avg",stroke:"#86efac",strokeWidth:2,dot:!1,activeDot:{r:5},name:"Green 2"})]})})},pJ=F.forwardRef(({camera:e,theme:t="dark"},r)=>{const n=j.useMemo(()=>e.shootingModes.map(f=>f.modeName),[e.shootingModes]),[a,o]=j.useState(n[0]||""),{chartData:i,tableData:s}=j.useMemo(()=>{const f=e.shootingModes.find(m=>m.modeName===a);if(!(f!=null&&f.data))return{chartData:[],tableData:[]};const h=f.data.map(m=>({iso:m.iso,R_range:m.r.range,R_avg:m.r.avg,G1_range:m.g1.range,G1_avg:m.g1.avg,B_range:m.b.range,B_avg:m.b.avg,G2_range:m.g2.range,G2_avg:m.g2.avg})),p=f.data.map(m=>({iso:m.iso,levels:[m.r.avg,m.g1.avg,m.g2.avg,m.b.avg],clipping:m.clipping}));return{chartData:h,tableData:p}},[e.shootingModes,a]),l=`Raw Data (${a})`,u=j.useRef(null),d=j.useRef(null);return j.useEffect(()=>{const f=u.current,h=d.current;if(!f||!h)return;const p=new ResizeObserver(m=>{for(let x of m){const{width:w}=x.contentRect,g=Math.max(8,w/35);h.style.fontSize=`${g}px`}});return p.observe(f),()=>p.disconnect()},[]),c.jsxs("div",{ref:r,className:"bg-white dark:bg-slate-800/50 border border-gray-200 dark:border-slate-700 rounded-xl shadow-lg p-6 flex flex-col gap-6 transform hover:scale-[1.02] hover:border-cyan-500/50 transition-all duration-500 ease-in-out",children:[c.jsxs("div",{className:"border-b border-gray-200 dark:border-slate-700 pb-4",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-slate-100",children:e.name}),c.jsx("p",{className:"text-cyan-600 dark:text-cyan-400",children:e.manufacturer})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-4 mb-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-slate-300",children:"Black Level vs. ISO"}),c.jsx("select",{value:a,onChange:f=>o(f.target.value),className:"w-full sm:w-auto bg-gray-50 dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded-md px-3 py-1 text-sm outline-none focus:ring-2 focus:ring-cyan-500 transition-all duration-300 text-gray-900 dark:text-slate-200","aria-label":`Select shooting mode for ${e.name}`,children:n.map(f=>c.jsx("option",{value:f,children:f},f))})]}),c.jsxs("div",{ref:u,className:"h-64 relative",children:[c.jsx(hJ,{data:i,theme:t},a),c.jsx("div",{className:"absolute top-1/2 left-[52%] transform -translate-x-1/2 -translate-y-1/2 -rotate-30 pointer-events-none",children:c.jsx("p",{ref:d,className:"font-bold text-gray-900/10 dark:text-slate-200/40 whitespace-nowrap",children:" y-g-jiang.github.io"})})]})]}),c.jsxs("div",{className:"overflow-x-auto",children:[c.jsx("div",{className:"flex justify-between items-center mb-4",children:c.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-slate-300",children:l})}),c.jsxs("table",{className:"w-full text-left border-collapse",children:[c.jsx("thead",{className:"bg-gray-100 dark:bg-slate-700/50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"p-3 font-semibold text-sm text-gray-700 dark:text-slate-300",children:"ISO"}),c.jsx("th",{className:"p-3 font-semibold text-sm text-red-500 dark:text-red-400",children:"Red"}),c.jsx("th",{className:"p-3 font-semibold text-sm text-green-600 dark:text-green-400",children:"Green 1"}),c.jsx("th",{className:"p-3 font-semibold text-sm text-blue-500 dark:text-blue-400",children:"Blue"}),c.jsx("th",{className:"p-3 font-semibold text-sm text-green-500 dark:text-green-300",children:"Green 2"})]})}),c.jsx("tbody",{children:s.map(({iso:f,levels:h,clipping:p})=>c.jsxs("tr",{className:"border-b border-gray-200 dark:border-slate-700/50 last:border-b-0",children:[c.jsxs("td",{className:"p-3 font-mono text-gray-700 dark:text-slate-300 whitespace-nowrap",children:[f,p&&c.jsx("span",{className:"ml-3 text-xs font-semibold text-amber-600 dark:text-amber-400 bg-amber-100 dark:bg-amber-900/50 px-2 py-1 rounded-full align-middle",children:"Clipping"})]}),c.jsx("td",{className:"p-3 font-mono text-red-500 dark:text-red-400",children:h[0].toFixed(2)}),c.jsx("td",{className:"p-3 font-mono text-green-600 dark:text-green-400",children:h[1].toFixed(2)}),c.jsx("td",{className:"p-3 font-mono text-blue-500 dark:text-blue-400",children:h[3].toFixed(2)}),c.jsx("td",{className:"p-3 font-mono text-green-500 dark:text-green-300",children:h[2].toFixed(2)})]},f))})]})]})]})}),ye=(e,t,r)=>({avg:e,range:[t,r]}),Tp=[{id:"sony-a7r2",name:"Sony ILCE-7RM2 (A7R II)",manufacturer:"Sony",shootingModes:[{modeName:"Still (Mechanical Shutter)",data:[{iso:100,r:ye(512.1,511.95,512.25),g1:ye(512.05,511.9,512.2),b:ye(512.12,511.98,512.28),g2:ye(512.06,511.92,512.22)},{iso:200,r:ye(512.15,512,512.3),g1:ye(512.1,511.95,512.25),b:ye(512.18,512.05,512.35),g2:ye(512.12,511.98,512.28)},{iso:400,r:ye(512.25,512.1,512.45),g1:ye(512.2,512.05,512.4),b:ye(512.3,512.15,512.5),g2:ye(512.22,512.08,512.42)},{iso:800,r:ye(512.5,512.2,512.8),g1:ye(512.45,512.15,512.75),b:ye(512.55,512.25,512.85),g2:ye(512.48,512.18,512.78)},{iso:1600,r:ye(513.1,512.8,513.4),g1:ye(513.05,512.75,513.35),b:ye(513.15,512.85,513.45),g2:ye(513.08,512.78,513.38)}]}]},{id:"sony-a7c",name:"Sony ILCE-7C",manufacturer:"Sony",shootingModes:[{modeName:"Still (Mechanical)",data:[{iso:100,r:ye(512.02,511.98,512.05),g1:ye(512.01,511.97,512.04),b:ye(512.03,511.99,512.06),g2:ye(512.01,511.97,512.04)},{iso:640,r:ye(512.15,512.05,512.25),g1:ye(512.12,512.02,512.22),b:ye(512.18,512.08,512.28),g2:ye(512.13,512.03,512.23)}]}]},{id:"canon-r5",name:"Canon EOS R5",manufacturer:"Canon",shootingModes:[{modeName:"Mechanical Shutter",data:[{iso:100,r:ye(512,511.8,512.2),g1:ye(512,511.8,512.2),b:ye(512,511.8,512.2),g2:ye(512,511.8,512.2)},{iso:400,r:ye(512,511.7,512.3),g1:ye(512,511.7,512.3),b:ye(512,511.7,512.3),g2:ye(512,511.7,512.3)},{iso:1600,r:ye(512.2,511.5,512.8),g1:ye(512.2,511.5,512.8),b:ye(512.2,511.5,512.8),g2:ye(512.2,511.5,512.8)}]}]},{id:"canon-r6",name:"Canon EOS R6",manufacturer:"Canon",shootingModes:[{modeName:"Mechanical Shutter",data:[{iso:100,r:ye(511.95,511.8,512.1),g1:ye(511.95,511.8,512.1),b:ye(511.95,511.8,512.1),g2:ye(511.95,511.8,512.1)},{iso:800,r:ye(512.1,511.9,512.3),g1:ye(512.1,511.9,512.3),b:ye(512.1,511.9,512.3),g2:ye(512.1,511.9,512.3)}]}]},{id:"nikon-z9",name:"Nikon Z9",manufacturer:"Nikon",shootingModes:[{modeName:"Electronic Shutter",data:[{iso:64,r:ye(400,399.9,400.1),g1:ye(400,399.9,400.1),b:ye(400,399.9,400.1),g2:ye(400,399.9,400.1)},{iso:100,r:ye(400,399.9,400.1),g1:ye(400,399.9,400.1),b:ye(400,399.9,400.1),g2:ye(400,399.9,400.1)}]}]},{id:"nikon-z6-2",name:"Nikon Z 6II",manufacturer:"Nikon",shootingModes:[{modeName:"Still (Lossless)",data:[{iso:100,r:ye(400.1,399.8,400.3),g1:ye(400.1,399.8,400.3),b:ye(400.1,399.8,400.3),g2:ye(400.1,399.8,400.3)},{iso:800,r:ye(400.3,399.5,401.1),g1:ye(400.3,399.5,401.1),b:ye(400.3,399.5,401.1),g2:ye(400.3,399.5,401.1)}]}]},{id:"fujifilm-xt4",name:"Fujifilm X-T4",manufacturer:"Fujifilm",shootingModes:[{modeName:"Still (RAF)",data:[{iso:160,r:ye(1024,1023.8,1024.2),g1:ye(1024,1023.8,1024.2),b:ye(1024,1023.8,1024.2),g2:ye(1024,1023.8,1024.2)},{iso:800,r:ye(1024.2,1023.5,1025),g1:ye(1024.2,1023.5,1025),b:ye(1024.2,1023.5,1025),g2:ye(1024.2,1023.5,1025)}]}]}],gJ=({isOpen:e,onClose:t,theme:r})=>{const[n,a]=j.useState(""),[o,i]=j.useState("All"),s=j.useMemo(()=>["All",...Array.from(new Set(Tp.map(f=>f.manufacturer))).sort()],[]),l=j.useMemo(()=>Tp.filter(d=>{const f=d.name.toLowerCase().includes(n.toLowerCase()),h=o==="All"||d.manufacturer===o;return f&&h}),[n,o]),u=d=>{const f=document.getElementById(`camera-${d}`);f&&f.scrollIntoView({behavior:"smooth"})};return e?c.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",onClick:t,children:c.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-6xl h-[90vh] rounded-2xl shadow-2xl flex flex-col border border-gray-200 dark:border-slate-700 overflow-hidden",onClick:d=>d.stopPropagation(),children:[c.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50",children:[c.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-slate-100 flex items-center gap-2",children:["Camera Black Level Database",c.jsxs("span",{className:"text-xs font-normal bg-cyan-100 dark:bg-cyan-900/30 text-cyan-600 dark:text-cyan-400 px-2 py-0.5 rounded border border-cyan-200 dark:border-cyan-800",children:[Tp.length," Models"]})]}),c.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 transition-colors p-2 rounded-full hover:bg-gray-100 dark:hover:bg-slate-800",children:c.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-slate-700 bg-gray-50/50 dark:bg-slate-800/30",children:c.jsx(fJ,{searchTerm:n,onSearchChange:a,manufacturers:s,selectedManufacturer:o,onManufacturerChange:i,cameras:l,onCameraSelect:u})}),c.jsx("div",{className:"flex-1 overflow-y-auto p-6 scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-slate-700 bg-gray-100 dark:bg-slate-950",children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-2 gap-6",children:[l.map(d=>c.jsx("div",{id:`camera-${d.id}`,children:c.jsx(pJ,{camera:d,theme:r})},d.id)),l.length===0&&c.jsx("div",{className:"col-span-full flex flex-col items-center justify-center py-20 text-gray-400 dark:text-slate-600",children:c.jsx("p",{className:"text-lg",children:"No cameras found matching your criteria."})})]})})]})}):null},mJ=({isOpen:e,onClose:t,zIndex:r=150})=>{const[n,a]=j.useState(""),[o,i]=j.useState(""),[s,l]=j.useState(""),[u,d]=j.useState(""),[f,h]=j.useState(null),p=()=>{const m=parseFloat(n),x=parseFloat(o),w=parseFloat(s),v=parseFloat(u);if(isNaN(m)||isNaN(x)||isNaN(w)||isNaN(v)){h(null);return}const g=m,y=x,k=w*w,b=v*v,S=(g+y)/2;if(S<=1e-9){h(0);return}const _=k*b/S,N=Math.sqrt(_);h(N)};return e?c.jsxs(Il,{initialPosition:{x:window.innerWidth/2-160,y:window.innerHeight/2-200},onClose:t,zIndex:r,className:"w-80 bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 flex flex-col shadow-2xl",children:[c.jsxs("div",{className:"flex justify-between items-center px-4 py-3 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800",children:[c.jsx("h3",{className:"text-sm font-bold text-gray-700 dark:text-slate-200",children:"Cross-Compensation Calc"}),c.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 transition-colors",children:c.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsxs("div",{className:"p-4 flex flex-col gap-3 text-xs",children:[c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("label",{className:"text-gray-500 dark:text-slate-400 font-bold",children:"H Mean (Power/Var)"}),c.jsx("input",{type:"number",step:"any",value:n,onChange:m=>a(m.target.value),className:"p-2 rounded bg-gray-100 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 outline-none focus:border-indigo-500 text-gray-900 dark:text-slate-100 font-mono"})]}),c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("label",{className:"text-gray-500 dark:text-slate-400 font-bold",children:"V Mean (Power/Var)"}),c.jsx("input",{type:"number",step:"any",value:o,onChange:m=>i(m.target.value),className:"p-2 rounded bg-gray-100 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 outline-none focus:border-indigo-500 text-gray-900 dark:text-slate-100 font-mono"})]}),c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("label",{className:"text-gray-500 dark:text-slate-400 font-bold",children:"H RMS 0 (Sigma)"}),c.jsx("input",{type:"number",step:"any",value:s,onChange:m=>l(m.target.value),className:"p-2 rounded bg-gray-100 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 outline-none focus:border-indigo-500 text-gray-900 dark:text-slate-100 font-mono"})]}),c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("label",{className:"text-gray-500 dark:text-slate-400 font-bold",children:"V RMS 0 (Sigma)"}),c.jsx("input",{type:"number",step:"any",value:u,onChange:m=>d(m.target.value),className:"p-2 rounded bg-gray-100 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 outline-none focus:border-indigo-500 text-gray-900 dark:text-slate-100 font-mono"})]}),c.jsx("button",{onClick:p,className:"mt-2 w-full py-2 bg-indigo-600 hover:bg-indigo-500 text-white font-bold rounded shadow transition-colors active:scale-95",children:"Calculate Sigma"}),f!==null&&c.jsxs("div",{className:"mt-2 p-3 bg-indigo-50 dark:bg-indigo-900/30 border border-indigo-200 dark:border-indigo-800 rounded text-center animate-in fade-in slide-in-from-top-1",children:[c.jsx("span",{className:"block text-[10px] uppercase font-bold text-gray-500 dark:text-slate-400 mb-1",children:"Original White Noise Sigma"}),c.jsx("span",{className:"text-lg font-mono font-bold text-indigo-700 dark:text-indigo-300 select-all",children:f.toFixed(5)})]})]})]}):null},ay=[[.1725,.0838,.0576],[.5481,.2985,.217],[.1103,.1968,.3359],[.1038,.1502,.0521],[.2244,.2177,.4302],[.1232,.519,.4044],[.7168,.199,.0271],[.065,.1063,.3924],[.5417,.0884,.1203],[.1042,.0438,.1396],[.3547,.5078,.0482],[.7805,.3541,.0215],[.0234,.0492,.2916],[.0653,.3019,.0645],[.4294,.0319,.0402],[.8568,.5754,.0079],[.5032,.0889,.3055],[0,.249,.383],[.9163,.9155,.8705],[.5819,.5911,.5839],[.3552,.361,.359],[.1876,.1924,.1917],[.0871,.0901,.0908],[.0321,.0319,.0326]],yJ=[[3.2404542,-1.5371385,-.4985314],[-.969266,1.8760108,.041556],[.0556434,-.2040259,1.0572252]];function vJ(e,t,r,n,a,o,i=.5){const u=[],d=Math.max(.1,Math.min(.9,i)),f=Math.hypot(t.x-e.x,t.y-e.y),h=Math.hypot(n.x-r.x,n.y-r.y),p=Math.hypot(r.x-e.x,r.y-e.y),m=Math.hypot(n.x-t.x,n.y-t.y),x=(f+h)/2/5,w=(p+m)/2/3,v=x*d,g=w*d;for(let y=0;y<4;y++)for(let k=0;k<6;k++){const b=k/5,S=y/3,_=(1-b)*(1-S)*e.x+b*(1-S)*t.x+(1-b)*S*r.x+b*S*n.x,N=(1-b)*(1-S)*e.y+b*(1-S)*t.y+(1-b)*S*r.y+b*S*n.y;u.push({x:_-v/2,y:N-g/2,w:v,h:g})}return u}function vN(e){e.length;const t=e[0].length;return Array(t).fill(0).map((r,n)=>e.map(a=>a[n]))}function zf(e,t){const r=e.length,n=e[0].length,a=t.length,o=t[0].length;if(n!==a)throw new Error("Matrix dimensions mismatch");const i=Array(r).fill(0).map(()=>Array(o).fill(0));for(let s=0;s<r;s++)for(let l=0;l<o;l++)for(let u=0;u<n;u++)i[s][l]+=e[s][u]*t[u][l];return i}function xJ(e,t){const r=vN(e),n=zf(r,e);for(let u=0;u<3;u++)n[u][u]+=1e-9;const a=[[n[0][0],n[0][1],n[0][2]],[n[1][0],n[1][1],n[1][2]],[n[2][0],n[2][1],n[2][2]]],o=mN(a);if(!o)throw new Error("Singular Matrix (Check Input Data)");const i=[[o[0][0],o[0][1],o[0][2]],[o[1][0],o[1][1],o[1][2]],[o[2][0],o[2][1],o[2][2]]],s=zf(r,t);return zf(i,s)}function bJ(e){const t=e.length,r=e.map((n,a)=>[...n,...Array(t).fill(0).map((o,i)=>a===i?1:0)]);for(let n=0;n<t;n++){let a=n;for(let s=n+1;s<t;s++)Math.abs(r[s][n])>Math.abs(r[a][n])&&(a=s);const o=r[n];r[n]=r[a],r[a]=o;const i=r[n][n];if(Math.abs(i)<1e-12)throw new Error("Singular Matrix");for(let s=n;s<2*t;s++)r[n][s]/=i;for(let s=0;s<t;s++)if(s!==n){const l=r[s][n];for(let u=n;u<2*t;u++)r[s][u]-=l*r[n][u]}}return r.map(n=>n.slice(t))}function wJ(e,t,r){const n=[...e].sort((x,w)=>x.id-w.id);if(n.length!==24)throw new Error("Requires exactly 24 patches");const a=[];n.forEach(x=>{const w=x.rawMeans,v=[w[0]-t[0],w[1]-t[1],w[2]-t[2],w[3]-t[3]];let g,y,k;r?(k=v[0],y=(v[1]+v[2])/2,g=v[3]):(g=v[0],y=(v[1]+v[2])/2,k=v[3]),g=Math.max(0,g),y=Math.max(0,y),k=Math.max(0,k),a.push([g,y,k])});const i=a[18],s=(i[0]+i[1]+i[2])/3,l=1/Math.max(1e-9,s),u=a.map(x=>[x[0]*l,x[1]*l,x[2]*l]),f=xJ(u,ay),h=vN(f);let p;try{p=bJ(h)}catch{throw new Error("CCM Inversion Failed. Input data might be too dark or clipped.")}return{matrix:zf(p,yJ)}}const kJ=({isOpen:e,onClose:t,patchStats:r,initialIsBGGR:n,zIndex:a=200,sizeRatio:o,onSizeChange:i})=>{const[s,l]=j.useState(n),[u,d]=j.useState(["0","0","0","0"]),[f,h]=j.useState(null),[p,m]=j.useState(null);if(j.useEffect(()=>{if(e&&r&&r.length===24){const S=r[23].rawMeans;u[0]==="0"&&u[1]==="0"&&d([S[0].toFixed(2),S[1].toFixed(2),S[2].toFixed(2),S[3].toFixed(2)])}},[e,r]),j.useEffect(()=>{if(!e||!r||r.length!==24)return;const b=u.map(S=>parseFloat(S));if(!b.some(isNaN))try{const S=wJ(r,b,s);h(S),m(null)}catch(S){m(S.message)}},[e,r,s,u]),!e)return null;const x=(b,S)=>{d(_=>{const N=[..._];return N[b]=S,N})},w=b=>{navigator.clipboard.writeText(b)},v=b=>b?b.map(S=>S.map(_=>_.toFixed(4))):[],g=f?v(f.matrix).flat().join(" "):"",y=s?["B","G1","G2","R"]:["R","G1","G2","B"],k=s?["text-blue-500","text-green-500","text-green-500","text-red-500"]:["text-red-500","text-green-500","text-green-500","text-blue-500"];return c.jsxs(Il,{initialPosition:{x:window.innerWidth/2-200,y:100},onClose:t,zIndex:a,className:"w-[500px] bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 flex flex-col shadow-2xl rounded-xl overflow-hidden",children:[c.jsxs("div",{className:"flex justify-between items-center px-4 py-3 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800",children:[c.jsxs("h3",{className:"text-sm font-bold text-gray-800 dark:text-slate-100 flex items-center gap-2",children:[c.jsx("span",{className:"w-2 h-2 rounded-full bg-yellow-500"}),"Color Lab Result"]}),c.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 transition-colors",children:c.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsxs("div",{className:"p-5 flex flex-col gap-5",children:[c.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 rounded-lg border border-gray-200 dark:border-slate-700",children:[c.jsxs("div",{className:"flex justify-between items-center mb-1",children:[c.jsx("span",{className:"text-[10px] font-bold text-gray-500 dark:text-slate-400 uppercase",children:"Patch Sampling Size"}),c.jsxs("span",{className:"text-xs font-mono font-bold text-cyan-600 dark:text-cyan-400",children:[Math.round(o*100),"%"]})]}),c.jsx("input",{type:"range",min:"0.1",max:"0.9",step:"0.05",value:o,onChange:b=>i(parseFloat(b.target.value)),className:"w-full h-1.5 bg-gray-300 dark:bg-slate-600 rounded-lg appearance-none cursor-pointer accent-cyan-500"})]}),c.jsx("div",{className:"flex justify-center",children:c.jsxs("div",{className:"flex bg-gray-100 dark:bg-slate-800 p-1 rounded-lg border border-gray-200 dark:border-slate-700",children:[c.jsx("button",{onClick:()=>l(!1),className:`px-4 py-1.5 text-xs font-bold rounded transition-all ${s?"text-gray-500 dark:text-slate-400 hover:text-gray-700":"bg-white dark:bg-slate-600 text-indigo-600 dark:text-indigo-300 shadow-sm"}`,children:"RGGB Mode"}),c.jsx("button",{onClick:()=>l(!0),className:`px-4 py-1.5 text-xs font-bold rounded transition-all ${s?"bg-white dark:bg-slate-600 text-indigo-600 dark:text-indigo-300 shadow-sm":"text-gray-500 dark:text-slate-400 hover:text-gray-700"}`,children:"BGGR Mode"})]})}),c.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800/50 p-3 rounded-lg border border-gray-100 dark:border-slate-700",children:[c.jsx("h4",{className:"text-[10px] font-bold text-gray-400 dark:text-slate-500 uppercase mb-2",children:"Input Black Levels ()"}),c.jsx("div",{className:"grid grid-cols-4 gap-2",children:[0,1,2,3].map(b=>c.jsxs("div",{className:"flex flex-col",children:[c.jsx("label",{className:`text-[10px] font-bold mb-1 ${k[b]}`,children:y[b]}),c.jsx("input",{type:"number",step:"0.01",value:u[b],onChange:S=>x(b,S.target.value),className:"w-full px-2 py-1 text-sm font-mono border border-gray-300 dark:border-slate-600 rounded bg-white dark:bg-slate-900 text-gray-900 dark:text-slate-100 outline-none focus:ring-1 focus:ring-yellow-500"})]},b))})]}),p?c.jsx("div",{className:"text-red-500 text-sm text-center bg-red-50 dark:bg-red-900/20 p-2 rounded",children:p}):f?c.jsx(c.Fragment,{children:c.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800/50 p-3 rounded-lg border border-gray-100 dark:border-slate-700",children:[c.jsx("h4",{className:"text-[10px] font-bold text-gray-400 dark:text-slate-500 uppercase mb-2",children:"Calculated Color Matrix (XYZ  Camera RGB)"}),c.jsx("div",{className:"font-mono text-xs text-gray-700 dark:text-slate-300 grid grid-rows-3 gap-1 mb-3",children:v(f.matrix).map((b,S)=>c.jsxs("div",{className:"flex justify-between bg-white dark:bg-slate-900 px-2 py-1 rounded",children:[c.jsx("span",{className:"text-red-500/80 w-1/3 text-right",children:b[0]}),c.jsx("span",{className:"text-green-500/80 w-1/3 text-right",children:b[1]}),c.jsx("span",{className:"text-blue-500/80 w-1/3 text-right",children:b[2]})]},S))}),c.jsx("button",{onClick:()=>w(g),className:"w-full py-1.5 bg-indigo-600 hover:bg-indigo-500 text-white text-xs font-bold rounded shadow transition-transform active:scale-95 flex items-center justify-center gap-2",children:"Copy Matrix String (for customMatrix)"})]})}):c.jsx("div",{className:"text-gray-400 text-sm text-center",children:"Calculating..."})]})]})},Pu=.25;function SJ(e,t){const r=e.length;let n=0,a=0,o=0,i=0;for(let l=0;l<r;l++)n+=e[l],a+=t[l],o+=e[l]*t[l],i+=e[l]*e[l];const s=r*i-n*n;return{slope:(r*o-n*a)/s,intercept:(a*i-n*o)/s}}function jJ(e){const t=e.length,r=new Array(t).fill(0),n=[22,-67,-58,0,58,67,-22],a=252*Pu;for(let o=0;o<t;o++){let i=0;for(let s=0;s<7;s++){let l=o-3+s;l<0&&(l=0),l>=t&&(l=t-1),i+=e[l]*n[s]}r[o]=i/a}return r}function xk(e,t,r,n){const a=Math.floor(n.x),o=Math.floor(n.y),i=Math.floor(n.w),s=Math.floor(n.h);if(i<8||s<8)return null;let l=[];for(let O=0;O<s;O++){const T=[],B=(o+O)*t;for(let z=0;z<i;z++)T.push(e[B+a+z]);l.push(T)}let u=0,d=0;for(let O=1;O<s-1;O+=2)for(let T=1;T<i-1;T+=2)u+=Math.abs(l[O][T+1]-l[O][T-1]),d+=Math.abs(l[O+1][T]-l[O-1][T]);let f=i,h=s,p=l;if(d>u){p=Array(i).fill(0).map(()=>Array(s).fill(0));for(let O=0;O<s;O++)for(let T=0;T<i;T++)p[T][s-1-O]=l[O][T];f=s,h=i}const m=[],x=[];for(let O=0;O<h;O++){const T=p[O],B=T.map((Q,D)=>D===0?0:Math.abs(Q-T[D-1])),z=Math.max(...B),te=B.indexOf(z);if(z>1){const Q=Math.max(0,te-3),D=Math.min(f,te+4);let J=0,q=0;for(let $=Q;$<D;$++)J+=B[$],q+=$*B[$];J>0&&(m.push(q/J),x.push(O))}}if(m.length<h*.4)return null;const{slope:w,intercept:v}=SJ(x,m),g=Math.cos(Math.atan(w)),y=[],k=[];for(let O=0;O<h;O++){const T=w*O+v;for(let B=0;B<f;B++)y.push((B-T)*g),k.push(p[O][B])}const b=Array.from(y.keys()).sort((O,T)=>y[O]-y[T]),S=b.map(O=>y[O]),_=b.map(O=>k[O]),N=S[0],P=S[S.length-1],M=Math.floor((P-N)/Pu),E=new Array(M).fill(0),C=new Array(M).fill(0);for(let O=0;O<S.length;O++){const T=Math.floor((S[O]-N)/Pu);T>=0&&T<M&&(E[T]+=_[O],C[T]++)}let A=_[0];for(let O=0;O<M;O++)C[O]>0?(E[O]/=C[O],A=E[O]):E[O]=A;const L=E.slice(0,10).reduce((O,T)=>O+T,0)/10,R=E.slice(-10).reduce((O,T)=>O+T,0)/10;if(L>R){const O=Math.max(...E),T=Math.min(...E);for(let B=0;B<E.length;B++)E[B]=O-E[B]+T}const G=jJ(E);return{esf:E,lsfFull:G}}function NJ(e,t,r){if(e.length===0)return null;const n=4096,a=new Qi(n),o=Math.round(t/Pu),i=r?1e3/r:1,s=new Float32Array(501);for(let m=0;m<=500;m++)s[m]=m/500*i;const l=new Float32Array(501).fill(0);let u=0,d=[],f=[];for(const m of e){const x=m.lsfFull;let w=0,v=-1/0;for(let P=0;P<x.length;P++)x[P]>v&&(v=x[P],w=P);const g=Math.max(0,w-o),y=Math.min(x.length,w+o),k=x.slice(g,y);if(k.length<8)continue;d.length===0&&(d=k,f=m.esf);const b=new Float32Array(n).fill(0);for(let P=0;P<k.length;P++){const M=.54-.46*Math.cos(2*Math.PI*P/(k.length-1));b[P]=k[P]*M}a.transform(b);const S=[],_=[];for(let P=0;P<=n/2;P++){const M=Math.sqrt(a._real[P]**2+a._imag[P]**2);S.push(M),_.push(P/(n*Pu)*i)}const N=S[0];if(N>0){for(let P=0;P<=500;P++){const M=s[P];l[P]+=_J(M,_,S)/N}u++}}if(u===0)return null;const h=Array.from(l).map(m=>m/u);let p=null;for(let m=0;m<h.length-1;m++)if(h[m]>=.5&&h[m+1]<.5){p=s[m]+(.5-h[m])*(s[m+1]-s[m])/(h[m+1]-h[m]);break}return{esf:f,lsf:[],lsfCropped:d,mtf:h,freqs:Array.from(s),mtf50:p}}function _J(e,t,r){if(e<=t[0])return r[0];if(e>=t[t.length-1])return r[r.length-1];let n=0;for(;e>t[n+1];)n++;const a=(e-t[n])/(t[n+1]-t[n]);return r[n]+a*(r[n+1]-r[n])}const PJ=({isOpen:e,onClose:t,rawImageData:r,roi:n,zIndex:a=110,onFocus:o,displaySettings:i})=>{const[s,l]=j.useState([]),[u,d]=j.useState(""),[f,h]=j.useState(""),[p,m]=j.useState(12),[x,w]=j.useState(1),[v,g]=j.useState(null),[y,k]=j.useState({x:100,y:50}),[b,S]=j.useState({w:1e3,h:800}),[_,N]=j.useState(!1),[P,M]=j.useState(!1),E=j.useRef({x:0,y:0}),C=j.useRef({w:0,h:0}),A=()=>{if(!(!r||!n))try{let D;if((i==null?void 0:i.renderMode)==="advanced-zero-dep"&&i.advancedZeroDep){const J=yN(r,n,i);D=xk(J.data,J.width,J.height,{x:0,y:0,w:J.width,h:J.height})}else D=xk(r.data,r.width,r.height,n);D?l(J=>[...J,D]):alert("Could not detect valid edge in selection. Make sure it contains a transition.")}catch(D){console.error(D),alert("Error processing ROI")}},L=()=>{l([]),g(null),w(1)},R=()=>{if(!v)return;const D=parseFloat(u),$=`data:text/csv;charset=utf-8,Frequency (${!isNaN(D)&&D>0?"lp/mm":"cy/px"}),MTF
`+v.freqs.map((Y,ue)=>`${Y.toFixed(6)},${v.mtf[ue].toFixed(6)}`).join(`
`),ne=encodeURI($),ce=document.createElement("a");ce.setAttribute("href",ne),ce.setAttribute("download",`sfr_data_${Date.now()}.csv`),document.body.appendChild(ce),ce.click(),document.body.removeChild(ce)};j.useEffect(()=>{if(s.length===0){g(null);return}const D=parseFloat(u),J=!isNaN(D)&&D>0?D:null,q=NJ(s,p,J);g(q)},[s,p,u]),j.useEffect(()=>{e&&s.length===0&&n&&r&&A()},[e]);const G=D=>{o&&o(),!(D.target.closest("button")||D.target.closest("input"))&&(N(!0),E.current={x:D.clientX-y.x,y:D.clientY-y.y})},O=D=>{D.stopPropagation(),D.preventDefault(),M(!0),E.current={x:D.clientX,y:D.clientY},C.current={w:b.w,h:b.h}};j.useEffect(()=>{const D=q=>{if(_)k({x:q.clientX-E.current.x,y:q.clientY-E.current.y});else if(P){const $=q.clientX-E.current.x,ne=q.clientY-E.current.y;S({w:Math.max(600,C.current.w+$),h:Math.max(500,C.current.h+ne)})}},J=()=>{N(!1),M(!1)};return(_||P)&&(window.addEventListener("mousemove",D),window.addEventListener("mouseup",J)),()=>{window.removeEventListener("mousemove",D),window.removeEventListener("mouseup",J)}},[_,P]);const T=j.useMemo(()=>{if(!(v!=null&&v.mtf50)||!f)return null;const D=parseFloat(f);if(isNaN(D)||D<=0)return null;let J=v.mtf50;const q=parseFloat(u);return!isNaN(q)&&q>0&&(J=v.mtf50*(q/1e3)),J*2*D},[v,f,u]);if(!e)return null;const B=v?v.lsfCropped.map((D,J)=>({x:J,y:D})):[],z=v?v.esf.map((D,J)=>({x:J,y:D})):[],te=v?v.mtf.map((D,J)=>({freq:v.freqs[J],mtf:D})).filter(D=>D.freq<=(parseFloat(u)?200:1)):[],Q=u?"lp/mm":"cy/px";return c.jsxs("div",{className:"fixed flex flex-col bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 shadow-2xl rounded-xl overflow-hidden",style:{left:y.x,top:y.y,width:b.w,height:b.h,zIndex:a??100},onMouseDownCapture:o,children:[c.jsxs("div",{className:`flex justify-between items-center px-4 py-2 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800 select-none ${_?"cursor-grabbing":"cursor-grab"}`,onMouseDown:G,children:[c.jsxs("h3",{className:"text-sm font-bold text-orange-600 dark:text-orange-400 flex items-center gap-2 pointer-events-none",children:["SFR Expert (Edge Method)",c.jsxs("span",{className:"text-xs bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-300 px-2 py-0.5 rounded border border-orange-200 dark:border-orange-800",children:[s.length," ROI",s.length!==1?"s":""]}),(i==null?void 0:i.renderMode)==="advanced-zero-dep"&&c.jsx("span",{className:"text-xs font-bold bg-indigo-100 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300 px-2 py-0.5 rounded border border-indigo-200 dark:border-indigo-800 animate-pulse",children:"Linear Unmixing Active"})]}),c.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 transition-colors",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsxs("div",{className:"p-3 bg-gray-50/50 dark:bg-slate-800/30 border-b border-gray-200 dark:border-slate-700 flex items-center gap-4 flex-wrap text-xs flex-shrink-0",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"font-bold text-gray-500 dark:text-slate-400",children:"Pixel Pitch (m):"}),c.jsx("input",{type:"number",value:u,onChange:D=>d(D.target.value),placeholder:"Default (cy/px)",className:"w-20 px-2 py-1 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded outline-none focus:border-orange-500"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"font-bold text-gray-500 dark:text-slate-400",children:"Image Height:"}),c.jsx("input",{type:"number",value:f,onChange:D=>h(D.target.value),placeholder:"px",className:"w-16 px-2 py-1 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded outline-none focus:border-orange-500"})]}),c.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-[150px]",children:[c.jsxs("span",{className:"font-bold text-gray-500 dark:text-slate-400 whitespace-nowrap",children:["Radius (px): ",p.toFixed(1)]}),c.jsx("input",{type:"range",min:"2",max:"50",step:"0.5",value:p,onChange:D=>m(parseFloat(D.target.value)),className:"w-full h-1.5 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-orange-500"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:A,className:"px-3 py-1.5 bg-orange-600 hover:bg-orange-500 text-white font-bold rounded shadow-sm transition-transform active:scale-95",children:"Add Current ROI"}),c.jsx("button",{onClick:R,disabled:!v,className:"px-3 py-1.5 bg-indigo-600 hover:bg-indigo-500 disabled:bg-gray-300 disabled:text-gray-500 text-white font-bold rounded shadow-sm transition-transform active:scale-95",children:"Export CSV"}),c.jsx("button",{onClick:L,className:"px-3 py-1.5 bg-gray-200 hover:bg-gray-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-600 dark:text-slate-300 font-bold rounded transition-colors",children:"Clear"})]})]}),c.jsxs("div",{className:"flex-1 p-4 overflow-hidden flex flex-col gap-4 bg-white dark:bg-slate-950",children:[c.jsxs("div",{className:"h-[35%] min-h-[180px] flex gap-4",children:[c.jsxs("div",{className:"flex-1 bg-gray-50 dark:bg-slate-900/50 border border-gray-200 dark:border-slate-800 rounded-xl p-2 relative flex flex-col",children:[c.jsx("h4",{className:"text-[10px] font-bold text-gray-500 dark:text-slate-400 absolute top-2 left-3 z-10 bg-white/80 dark:bg-slate-900/80 px-1 rounded",children:"ESF"}),c.jsx("div",{className:"flex-1 min-h-0 w-full",children:c.jsx(vo,{width:"100%",height:"100%",children:c.jsxs(Fs,{data:z,children:[c.jsx(Ja,{strokeDasharray:"3 3",stroke:"#374151",opacity:.1}),c.jsx(zn,{dataKey:"x",hide:!0}),c.jsx(Gn,{hide:!0,domain:["auto","auto"]}),c.jsx(Kr,{contentStyle:{fontSize:"10px"}}),c.jsx(Mr,{type:"monotone",dataKey:"y",stroke:"#3b82f6",strokeWidth:1,dot:!1,isAnimationActive:!1})]})})})]}),c.jsxs("div",{className:"flex-1 bg-gray-50 dark:bg-slate-900/50 border border-gray-200 dark:border-slate-800 rounded-xl p-2 relative flex flex-col",children:[c.jsxs("div",{className:"absolute top-2 left-3 z-10 flex items-center gap-3",children:[c.jsxs("h4",{className:"text-[10px] font-bold text-gray-500 dark:text-slate-400 bg-white/80 dark:bg-slate-900/80 px-1 rounded",children:["LSF ",x>1?`(x${x.toFixed(0)})`:""]}),c.jsxs("div",{className:"flex items-center gap-1 bg-white/80 dark:bg-slate-900/80 px-1 rounded border border-gray-200 dark:border-slate-700",children:[c.jsx("span",{className:"text-[9px] text-gray-400 font-bold",children:"Zoom"}),c.jsx("input",{type:"range",min:"1",max:"50",step:"1",value:x,onChange:D=>w(parseFloat(D.target.value)),className:"w-16 h-1 bg-gray-300 dark:bg-slate-600 rounded-lg appearance-none cursor-pointer accent-red-500",title:"Vertical Zoom to observe noise floor"})]})]}),c.jsx("div",{className:"flex-1 min-h-0 w-full",children:c.jsx(vo,{width:"100%",height:"100%",children:c.jsxs(Fs,{data:B,children:[c.jsx(Ja,{strokeDasharray:"3 3",stroke:"#374151",opacity:.1}),c.jsx(Ko,{y:0,stroke:"#9ca3af",strokeOpacity:.5,strokeDasharray:"3 3"}),c.jsx(zn,{dataKey:"x",hide:!0}),c.jsx(Gn,{hide:!1,width:30,tick:{fontSize:9,fill:"#888"},domain:[D=>D,D=>D/x],allowDataOverflow:!0,tickFormatter:D=>D.toFixed(3)}),c.jsx(Kr,{contentStyle:{fontSize:"10px"},formatter:D=>[D.toFixed(5),"Amplitude"]}),c.jsx(Mr,{type:"monotone",dataKey:"y",stroke:"#ef4444",strokeWidth:2,dot:!1,isAnimationActive:!1})]})})})]})]}),c.jsxs("div",{className:"flex-1 bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-800 rounded-xl p-2 relative flex flex-col min-h-[250px]",children:[c.jsxs("div",{className:"flex justify-between items-start px-2 mb-1",children:[c.jsx("h4",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"MTF / Spatial Frequency Response"}),c.jsxs("div",{className:"flex gap-4 items-center",children:[(v==null?void 0:v.mtf50)&&c.jsxs("div",{className:"text-sm font-bold text-gray-600 dark:text-slate-300",children:["MTF50 = ",c.jsxs("span",{className:"text-orange-600 dark:text-orange-400",children:[v.mtf50.toFixed(2)," ",Q]})]}),T!==null&&c.jsxs("div",{className:"text-lg font-bold text-white bg-orange-500 px-3 py-0.5 rounded shadow-lg animate-in fade-in",children:[Math.round(T)," LW/PH"]})]})]}),c.jsxs("div",{className:"flex-1 relative min-h-0 w-full",children:[c.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 pointer-events-none select-none opacity-10",children:c.jsx("svg",{viewBox:"0 0 400 60",className:"w-[40rem] h-auto",children:c.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"24",fontWeight:"bold",children:" y-g-jiang.github.io"})})}),c.jsx(vo,{width:"100%",height:"100%",children:c.jsxs(Fs,{data:te,margin:{top:10,right:30,left:10,bottom:20},children:[c.jsx(Ja,{strokeDasharray:"3 3",stroke:"#374151",opacity:.15}),c.jsx(zn,{dataKey:"freq",type:"number",tick:{fontSize:10,fill:"#9ca3af"},label:{value:`Frequency (${Q})`,position:"insideBottom",offset:-10,fontSize:11,fill:"#9ca3af"}}),c.jsx(Gn,{domain:[0,1.1],tick:{fontSize:10,fill:"#9ca3af"},label:{value:"MTF",angle:-90,position:"insideLeft",fontSize:11,fill:"#9ca3af"}}),c.jsx(Kr,{contentStyle:{backgroundColor:"rgba(15, 23, 42, 0.9)",border:"none",color:"#fff",fontSize:"11px",borderRadius:"4px"},labelFormatter:D=>`Freq: ${Number(D).toFixed(3)}`,formatter:D=>[D.toFixed(4),"MTF"]}),c.jsx(Ya,{verticalAlign:"top",height:20}),c.jsx(Mr,{type:"monotone",dataKey:"mtf",name:"SFR",stroke:"#000000",strokeWidth:2,className:"dark:stroke-white",dot:!1,isAnimationActive:!1}),(v==null?void 0:v.mtf50)&&c.jsx(Fu,{x:v.mtf50,y:.5,r:4,fill:"#f97316",stroke:"none",children:c.jsx(tn,{value:"MTF50",position:"top",fill:"#f97316",fontSize:10,fontWeight:"bold"})})]})})]})]})]}),c.jsx("div",{className:"absolute bottom-0 right-0 w-4 h-4 cursor-nwse-resize z-50 bg-gray-300 dark:bg-slate-600 rounded-tl hover:bg-orange-500 transition-colors",onMouseDown:O})]})},OJ=`
import struct
import numpy as np

class Type:
    Short = (3,2); Long = (4,4); Rational = (5,8); Ascii = (2,1); Byte = (1,1)
    Undefined = (7,1); Srational = (10,8); IFD = (13,4)

class Tag:
    NewSubfileType = (254, Type.Long); ImageWidth = (256, Type.Long); ImageLength = (257, Type.Long)
    BitsPerSample = (258, Type.Short); Compression = (259, Type.Short)
    PhotometricInterpretation = (262, Type.Short); Make = (271, Type.Ascii); Model = (272, Type.Ascii)
    StripOffsets = (273, Type.Long); Orientation = (274, Type.Short); SamplesPerPixel = (277, Type.Short)
    RowsPerStrip = (278, Type.Short); StripByteCounts = (279, Type.Long)
    CFARepeatPatternDim = (33421, Type.Short); CFAPattern = (33422, Type.Byte)
    DNGVersion = (50706, Type.Byte); UniqueCameraModel = (50708, Type.Ascii)
    BlackLevel = (50714, Type.Short); WhiteLevel = (50717, Type.Short)
    ColorMatrix1 = (50721, Type.Srational); CalibrationIlluminant1 = (50778, Type.Short)
    BlackLevelRepeatDim = (50713, Type.Short)

class Compression: Uncompressed = 1
class PhotometricInterpretation: Color_Filter_Array = 32803
class CFAPattern: BGGR=[2,1,1,0]; GBRG=[1,2,0,1]; GRBG=[1,0,2,1]; RGGB=[0,1,1,2]

class dngTag(object):
    def __init__(self, tagType, value=[]):
        self.TagId = tagType[0]
        self.DataType = tagType[1]
        self.DataCount = len(value) if not isinstance(value, str) else len(value) + 1
        self.Value = self._pack_value(tagType[1], value)
        self.DataLength = len(self.Value)
        self.selfContained = (self.DataLength <= 4)
        self.DataOffset = 0

    def _pack_value(self, dtype, value):
        tid = dtype[0]
        if tid == 1: return struct.pack('<%sB' % len(value), *value)
        elif tid == 3: return struct.pack('<%sH' % len(value), *value)
        elif tid == 4: return struct.pack('<%sL' % len(value), *value)
        elif tid == 2: return struct.pack('<%ss' % len(value), value.encode("ascii")) + b'\\x00'
        elif tid == 5 or tid == 10: 
            flat = [item for sublist in value for item in sublist]
            fmt = 'L' if tid == 5 else 'l'
            return struct.pack('<%s%s' % (len(flat), fmt), *flat)
        return b''

    def write_directory(self, buf, offset):
        if self.selfContained:
            val = self.Value + b'\\x00' * (4 - len(self.Value))
            struct.pack_into("<HHI4s", buf, offset, self.TagId, self.DataType[0], self.DataCount, val)
        else:
            struct.pack_into("<HHII", buf, offset, self.TagId, self.DataType[0], self.DataCount, self.DataOffset)

    def write_data(self, buf):
        if not self.selfContained:
            struct.pack_into(f"<{len(self.Value)}s", buf, self.DataOffset, self.Value)

def convert_to_dng(raw_bytes, width, height, cfa_str, black_level_list, shift, cm_flat):
    # 1. Pixel Data Processing
    # Ensure raw_bytes is a bytes-like object
    raw_data = np.frombuffer(raw_bytes, dtype=np.uint16).copy()
    if shift > 0:
        raw_data = raw_data.astype(np.uint32) * (1 << shift)
        raw_data = np.clip(raw_data, 0, 65535).astype(np.uint16)

    # 2. Metadata Preparation
    white_level = 65019
    # Format Color Matrix for Srational (Value, Denominator)
    color_matrix = [[int(x * 10000), 10000] for x in cm_flat]

    cfa_map = {"BGGR": CFAPattern.BGGR, "GBRG": CFAPattern.GBRG, "GRBG": CFAPattern.GRBG, "RGGB": CFAPattern.RGGB}
    
    tags = [
        dngTag(Tag.NewSubfileType, [0]),
        dngTag(Tag.ImageWidth, [width]),
        dngTag(Tag.ImageLength, [height]),
        dngTag(Tag.BitsPerSample, [16]), 
        dngTag(Tag.Compression, [Compression.Uncompressed]),
        dngTag(Tag.PhotometricInterpretation, [PhotometricInterpretation.Color_Filter_Array]),
        dngTag(Tag.Make, "JO-Workstation"),
        dngTag(Tag.Model, "Manual-16bit"),
        dngTag(Tag.SamplesPerPixel, [1]),
        dngTag(Tag.RowsPerStrip, [height]), 
        dngTag(Tag.CFARepeatPatternDim, [2, 2]),
        dngTag(Tag.CFAPattern, cfa_map.get(cfa_str.upper(), CFAPattern.RGGB)),
        dngTag(Tag.BlackLevelRepeatDim, [2, 2]),
        dngTag(Tag.BlackLevel, [int(x) for x in black_level_list]),
        dngTag(Tag.WhiteLevel, [white_level]),
        dngTag(Tag.ColorMatrix1, color_matrix),
        dngTag(Tag.CalibrationIlluminant1, [21]),
        dngTag(Tag.DNGVersion, [1, 4, 0, 0]),
        dngTag(Tag.UniqueCameraModel, "Generic 16bit Raw")
    ]
    
    pixel_bytes = raw_data.tobytes()
    tags.append(dngTag(Tag.StripOffsets, [0])) 
    tags.append(dngTag(Tag.StripByteCounts, [len(pixel_bytes)]))
    tags.sort(key=lambda x: x.TagId)
    
    ifd_size = 2 + (len(tags) * 12) + 4
    current_data_offset = 8 + ifd_size
    
    for tag in tags:
        if not tag.selfContained:
            tag.DataOffset = current_data_offset
            current_data_offset = (current_data_offset + tag.DataLength + 3) & 0xFFFFFFFC
            
    img_offset = current_data_offset
    for tag in tags:
        if tag.TagId == Tag.StripOffsets[0]:
            tag.Value = struct.pack('<L', img_offset)
            break
            
    buf = bytearray(img_offset + len(pixel_bytes))
    struct.pack_into("<ccbbI", buf, 0, b'I', b'I', 0x2A, 0x00, 8)
    struct.pack_into("<H", buf, 8, len(tags))
    
    offset = 10
    for tag in tags:
        tag.write_directory(buf, offset)
        offset += 12
        
    struct.pack_into("<I", buf, offset, 0)
    for tag in tags:
        tag.write_data(buf)
        
    buf[img_offset:img_offset+len(pixel_bytes)] = pixel_bytes
    return bytes(buf)
`,CJ=({isOpen:e,onClose:t,rawImageData:r,fileName:n,zIndex:a=200,onFocus:o})=>{const[i,s]=j.useState(!0),[l,u]=j.useState(!1),d=j.useRef(null),[f,h]=j.useState(4),[p,m]=j.useState(""),[x,w]=j.useState(""),v=j.useMemo(()=>Object.keys(dd).sort(),[]);j.useEffect(()=>{e&&!d.current&&(async()=>{try{const k=await window.loadPyodide();await k.loadPackage("numpy"),await k.runPythonAsync(OJ),d.current=k,s(!1)}catch(k){console.error("Pyodide Init Failed",k)}})()},[e]),j.useEffect(()=>{if(e&&r){const y=r.whiteLevel;y>1e4?h(2):y>3e3?h(4):y>6e4&&h(0)}},[e,r]);const g=async()=>{if(!(!r||!d.current)){u(!0);try{const y=d.current,k=p.trim()?p.trim().split(/\s+/).map(Number):[0,0,0,0];if(k.length===1&&!isNaN(k[0])&&k.push(k[0],k[0],k[0]),k.length<4)for(;k.length<4;)k.push(0);const b=x.trim()?x.trim().split(/[\s,\n]+/).map(Number):[1,0,0,0,1,0,0,0,1];if(b.length!==9)throw new Error("Color Matrix must contain exactly 9 numeric values.");const S=r.bayerPattern||"RGGB";y.globals.set("js_raw_bytes",new Uint8Array(r.data.buffer,r.data.byteOffset,r.data.byteLength)),y.globals.set("js_width",r.width),y.globals.set("js_height",r.height),y.globals.set("js_cfa",S),y.globals.set("js_bl_list",k),y.globals.set("js_shift",f),y.globals.set("js_cm_flat",b);const _=await y.runPythonAsync(`
                convert_to_dng(
                    js_raw_bytes.to_py(), 
                    js_width, 
                    js_height, 
                    js_cfa, 
                    js_bl_list.to_py(), 
                    js_shift, 
                    js_cm_flat.to_py()
                )
            `),N=_.toJs();_.destroy();const P=new Blob([N],{type:"image/x-adobe-dng"}),M=URL.createObjectURL(P),E=document.createElement("a");E.href=M;const C=n.substring(0,n.lastIndexOf("."))||"image";E.download=`${C}_16bit_manual.dng`,document.body.appendChild(E),E.click(),document.body.removeChild(E),URL.revokeObjectURL(M)}catch(y){console.error(y),alert("Export Failed: "+y.message)}finally{u(!1)}}};return e?c.jsxs(Il,{initialPosition:{x:window.innerWidth/2-250,y:150},onClose:t,zIndex:a,onFocus:o,className:"w-[500px] bg-white dark:bg-black border-2 border-black dark:border-white shadow-2xl rounded-none flex flex-col font-mono",children:[c.jsxs("div",{className:"flex justify-between items-center px-4 py-2 border-b-2 border-black dark:border-gray-500 bg-gray-200 dark:bg-gray-800",children:[c.jsx("h3",{className:"text-sm font-bold text-black dark:text-white uppercase tracking-widest",children:"16-bit DNG Workstation"}),c.jsx("button",{onClick:t,className:"text-black dark:text-white hover:text-red-600 transition-colors",children:c.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsx("div",{className:"p-6 flex flex-col gap-6",children:i?c.jsxs("div",{className:"flex flex-col items-center justify-center py-10 gap-4",children:[c.jsx("div",{className:"w-8 h-8 border-4 border-black dark:border-white border-t-transparent animate-spin"}),c.jsx("p",{className:"text-xs font-bold text-gray-500 animate-pulse",children:"Initializing Python Kernel (Joraw+NumPy)..."})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("label",{className:"text-[10px] font-bold text-gray-500 dark:text-gray-400 uppercase",children:"Width (Read Only)"}),c.jsx("input",{type:"text",readOnly:!0,value:(r==null?void 0:r.width)||0,className:"w-full bg-gray-100 dark:bg-gray-900 border border-black dark:border-gray-600 px-2 py-1 text-sm text-gray-400"})]}),c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("label",{className:"text-[10px] font-bold text-gray-500 dark:text-gray-400 uppercase",children:"Height (Read Only)"}),c.jsx("input",{type:"text",readOnly:!0,value:(r==null?void 0:r.height)||0,className:"w-full bg-gray-100 dark:bg-gray-900 border border-black dark:border-gray-600 px-2 py-1 text-sm text-gray-400"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("label",{className:"text-[10px] font-bold text-cyan-600 dark:text-cyan-400 uppercase",children:"Bit Shift ()"}),c.jsx("input",{type:"number",value:f,onChange:y=>h(parseInt(y.target.value)||0),className:"w-full bg-white dark:bg-gray-800 border-2 border-black dark:border-gray-500 px-2 py-1 text-sm font-bold"}),c.jsx("span",{className:"text-[8px] text-gray-400 mt-0.5",children:"4 = 12bit (x16) | 2 = 14bit (x4)"})]}),c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("label",{className:"text-[10px] font-bold text-indigo-600 dark:text-indigo-400 uppercase",children:"16bit Black Level"}),c.jsx("input",{type:"text",value:p,onChange:y=>m(y.target.value),placeholder:"R G1 B G2 (Empty = 0)",className:"w-full bg-white dark:bg-gray-800 border-2 border-black dark:border-gray-500 px-2 py-1 text-sm font-bold font-mono placeholder:font-normal placeholder:text-gray-400"})]})]}),c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsxs("div",{className:"flex justify-between items-end",children:[c.jsx("label",{className:"text-[10px] font-bold text-gray-500 dark:text-gray-400 uppercase",children:"Color Matrix (XYZ to Raw - 9 Values)"}),c.jsxs("select",{className:"text-[10px] bg-gray-100 dark:bg-gray-800 border border-black dark:border-gray-500 rounded-none px-1 py-0.5 max-w-[180px] cursor-pointer",onChange:y=>{const k=dd[y.target.value];k&&w(k),y.target.value=""},defaultValue:"",children:[c.jsx("option",{value:"",disabled:!0,children:"Select Camera Preset..."}),v.map(y=>c.jsx("option",{value:y,children:y},y))]})]}),c.jsx("textarea",{value:x,onChange:y=>w(y.target.value),placeholder:"e.g. 0.94 -0.39 -0.07 -0.28 1.09 0.22 -0.01 0.09 0.57",className:"w-full h-20 bg-white dark:bg-gray-800 border-2 border-black dark:border-gray-500 px-2 py-1 text-xs font-mono resize-none placeholder:font-normal placeholder:text-gray-400"}),c.jsx("span",{className:"text-[8px] text-gray-400 mt-0.5",children:"Enter 9 numbers separated by space or comma."})]}),c.jsx("button",{onClick:g,disabled:l,className:`w-full py-4 text-sm font-bold uppercase tracking-widest transition-all shadow-[4px_4px_0px_black] active:shadow-none active:translate-x-1 active:translate-y-1 ${l?"bg-gray-400 cursor-wait":"bg-cyan-600 hover:bg-cyan-500 text-white border-2 border-black"}`,children:l?"Processing Kernel...":"Convert & Download DNG"})]})})]}):null};function MJ(e,t,r,n=3){const o=r.byteLength,i=8,s=i+o,l=[{id:256,type:4,count:1,value:e},{id:257,type:4,count:1,value:t},{id:258,type:3,count:n,value:n===1?16:[16,16,16]},{id:259,type:3,count:1,value:1},{id:262,type:3,count:1,value:n===1?1:2},{id:273,type:4,count:1,value:i},{id:277,type:3,count:1,value:n},{id:278,type:4,count:1,value:t},{id:279,type:4,count:1,value:o}],u=2+l.length*12+4;let d=0;const f=l.map(g=>{let y=g.type===3?2:4;const k=g.count*y,b=k<=4;let S=0;return b||(S=d,d+=k),{...g,fits:b,totalBytes:k,extraOffset:S}}),h=s+u+d,p=new ArrayBuffer(h),m=new DataView(p),x=new Uint8Array(p);m.setUint16(0,18761,!0),m.setUint16(2,42,!0),m.setUint32(4,s,!0),x.set(new Uint8Array(r.buffer,r.byteOffset,r.byteLength),i);let w=s;m.setUint16(w,l.length,!0),w+=2;const v=s+u;return f.forEach(g=>{if(m.setUint16(w,g.id,!0),m.setUint16(w+2,g.type,!0),m.setUint32(w+4,g.count,!0),g.fits)Array.isArray(g.value)||(g.type===3?m.setUint16(w+8,g.value,!0):m.setUint32(w+8,g.value,!0));else{const y=v+g.extraOffset;m.setUint32(w+8,y,!0),Array.isArray(g.value)&&g.value.forEach((k,b)=>{m.setUint16(y+b*2,k,!0)})}w+=12}),m.setUint32(w,0,!0),p}const AJ="http://localhost:5428",EJ=(e=!1)=>{const[t,r]=j.useState({isConnected:!1,message:"Initializing...",hasDngConverter:!1});return j.useEffect(()=>{if(e){r({isConnected:!1,message:"Bridge Paused",hasDngConverter:!1});return}const n=async()=>{try{const o=new AbortController,i=setTimeout(()=>o.abort(),1e3),s=await fetch(`${AJ}/health`,{method:"GET",signal:o.signal});if(clearTimeout(i),s.ok){const l=await s.json(),u=`Connected (${l.exiftool||"Ready"})`;r(d=>d.isConnected===!0&&d.message===u&&d.version===l.exiftool&&d.hasDngConverter===!!l.dng_converter?d:{isConnected:!0,message:u,version:l.exiftool,hasDngConverter:!!l.dng_converter})}else r(l=>l.isConnected===!1&&l.message==="Service Error"?l:{isConnected:!1,message:"Service Error",hasDngConverter:!1})}catch{r(i=>i.isConnected===!1&&i.message==="Not Detected"?i:{isConnected:!1,message:"Not Detected",hasDngConverter:!1})}};n();const a=setInterval(n,2e3);return()=>clearInterval(a)},[e]),t},TJ="JTR_BlobStore",to="raw_files",$J=1,bh=()=>new Promise((e,t)=>{const r=indexedDB.open(TJ,$J);r.onupgradeneeded=n=>{const a=n.target.result;a.objectStoreNames.contains(to)||a.createObjectStore(to)},r.onsuccess=()=>e(r.result),r.onerror=()=>t(r.error)}),bk=async(e,t)=>{const r=await bh();return new Promise((n,a)=>{const o=r.transaction(to,"readwrite");o.objectStore(to).put(t,e),o.oncomplete=()=>n(),o.onerror=()=>a(o.error)})},DJ=async e=>{const t=await bh();return new Promise((r,n)=>{const i=t.transaction(to,"readonly").objectStore(to).get(e);i.onsuccess=()=>r(i.result),i.onerror=()=>n(i.error)})},RJ=async()=>{const e=await bh();return new Promise((t,r)=>{const n=e.transaction(to,"readwrite");n.objectStore(to).clear(),n.oncomplete=()=>t(),n.onerror=()=>r(n.error)})},xN="jtr_workspace_index",IJ=e=>{try{const t=JSON.stringify(e);localStorage.setItem(xN,t)}catch(t){console.error("Failed to save workspace index",t)}},LJ=()=>{try{const e=localStorage.getItem(xN);return e?JSON.parse(e):null}catch(e){return console.error("Failed to load workspace index",e),null}},BJ=async e=>{const n=(await bh()).transaction(to,"readwrite").objectStore(to),a=n.getAllKeys();a.onsuccess=()=>{a.result.forEach(i=>{e.includes(i)||n.delete(i)})}},un=1024,wk=(e,t,r)=>{const n=e.width,a=e.height,o=new ImageData(t,r),i=e.data,s=o.data,l=n/t,u=a/r;for(let d=0;d<r;d++){const f=Math.floor(d*u),h=d*t*4,p=f*n*4;for(let m=0;m<t;m++){const w=Math.floor(m*l)*4,v=h+m*4,g=p+w;s[v]=i[g],s[v+1]=i[g+1],s[v+2]=i[g+2],s[v+3]=i[g+3]}}return o},FJ=({stats:e,onClose:t,onMinimize:r,isBGGR:n,onToggleBGGR:a,onOpenWindow:o,displaySettings:i,zIndex:s,onFocus:l,rawImageData:u})=>{if(!e)return null;const d=!!i.showKadc&&!!i.blackLevel,f=i.blackLevel||[0,0,0,0],h=!!i.subtractBlackLevelFromStats&&!!i.blackLevel,p=j.useMemo(()=>{if(!e||!u||!i.advancedZeroDep||i.renderMode!=="advanced-zero-dep")return null;try{const{x:y,y:k,width:b,height:S}=e,_=yN(u,{x:y,y:k,w:b,h:S},i),N=[0,0,0,0],P=[0,0,0,0],M=Math.floor(k),E=Math.floor(y);for(let C=0;C<_.height;C++){const A=C*_.width;for(let L=0;L<_.width;L++){const R=_.data[A+L],G=M+C,O=E+L,T=G%2,B=O%2,z=T*2+B;N[z]+=R,P[z]++}}return N.map((C,A)=>P[A]>0?C/P[A]:0)}catch(y){return console.error("Unmix calc error",y),null}},[e,u,i]),m=(y,k,b)=>{if(!d)return null;const S=k*k;return S<=1e-4?0:(y-b)/S},x=(y,k)=>h?y-f[k]:y,w=()=>{if(!h){alert(`Sub. BL
Please enable 'Sub. BL' in Tools sidebar first.`);return}let y,k,b,S;n?(S=0,k=1,b=2,y=3):(y=0,k=1,b=2,S=3);const _=P=>e.means[P]-f[P],N=P=>e.stdDevs[P];localStorage.setItem("import_signal_r",_(y).toString()),localStorage.setItem("import_signal_g1",_(k).toString()),localStorage.setItem("import_signal_g2",_(b).toString()),localStorage.setItem("import_signal_b",_(S).toString()),localStorage.setItem("import_sigma_r",N(y).toString()),localStorage.setItem("import_sigma_g1",N(k).toString()),localStorage.setItem("import_sigma_g2",N(b).toString()),localStorage.setItem("import_sigma_b",N(S).toString()),window.open("https://y-g-jiang.github.io/XJZS.html","_blank")},v=n?[{name:"B",desc:"(0,0)",mean:x(e.means[0],0),std:e.stdDevs[0],color:"text-blue-500",k:m(e.means[0],e.stdDevs[0],f[0]),unmixed:p?p[0]:null},{name:"G1",desc:"(0,1)",mean:x(e.means[1],1),std:e.stdDevs[1],color:"text-green-500",k:m(e.means[1],e.stdDevs[1],f[1]),unmixed:p?p[1]:null},{name:"G2",desc:"(1,0)",mean:x(e.means[2],2),std:e.stdDevs[2],color:"text-green-500",k:m(e.means[2],e.stdDevs[2],f[2]),unmixed:p?p[2]:null},{name:"R",desc:"(1,1)",mean:x(e.means[3],3),std:e.stdDevs[3],color:"text-red-500",k:m(e.means[3],e.stdDevs[3],f[3]),unmixed:p?p[3]:null}]:[{name:"R",desc:"(0,0)",mean:x(e.means[0],0),std:e.stdDevs[0],color:"text-red-500",k:m(e.means[0],e.stdDevs[0],f[0]),unmixed:p?p[0]:null},{name:"G1",desc:"(0,1)",mean:x(e.means[1],1),std:e.stdDevs[1],color:"text-green-500",k:m(e.means[1],e.stdDevs[1],f[1]),unmixed:p?p[1]:null},{name:"G2",desc:"(1,0)",mean:x(e.means[2],2),std:e.stdDevs[2],color:"text-green-500",k:m(e.means[2],e.stdDevs[2],f[2]),unmixed:p?p[2]:null},{name:"B",desc:"(1,1)",mean:x(e.means[3],3),std:e.stdDevs[3],color:"text-blue-500",k:m(e.means[3],e.stdDevs[3],f[3]),unmixed:p?p[3]:null}],g=p?"w-96":d?"w-80":"w-60";return c.jsxs(Il,{className:`${g} p-0 overflow-hidden transition-all duration-300 bg-white dark:bg-black border-2 border-black dark:border-white shadow-[4px_4px_0px_rgba(0,0,0,0.5)] dark:shadow-[4px_4px_0px_rgba(255,255,255,0.2)]`,onClose:t,zIndex:s,onFocus:l,initialPosition:{x:20,y:80},children:[c.jsxs("div",{className:"flex justify-between items-center px-3 py-2 border-b border-gray-100 dark:border-slate-800 bg-gray-50/50 dark:bg-slate-800/50 select-none",children:[c.jsxs("h3",{className:"text-xs font-bold text-gray-700 dark:text-slate-300 uppercase tracking-wider flex items-center gap-2",children:["ROI Analysis",c.jsxs("span",{className:"text-[10px] font-normal text-gray-400 bg-gray-200 dark:bg-slate-700 px-1.5 py-0.5 rounded",children:[Math.round(e.width),"",Math.round(e.height)]})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 transition-colors p-1 rounded-md hover:bg-gray-200 dark:hover:bg-slate-700 relative z-20",children:c.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),c.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 dark:hover:text-red-400 transition-colors p-1 rounded-md hover:bg-gray-200 dark:hover:bg-slate-700 relative z-20",children:c.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),c.jsxs("div",{className:"p-3",children:[c.jsxs("div",{className:"flex justify-between items-center mb-3",children:[c.jsxs("div",{className:"text-[10px] text-gray-400 dark:text-slate-500 font-mono leading-tight",children:["X: ",Math.round(e.x),c.jsx("br",{}),"Y: ",Math.round(e.y)]}),c.jsx("button",{onClick:()=>a(!n),className:"text-[10px] font-bold px-2 py-1 rounded bg-gray-100 hover:bg-gray-200 dark:bg-slate-800 dark:hover:bg-slate-700 text-gray-600 dark:text-slate-300 transition-colors border border-gray-200 dark:border-slate-700 relative z-20",title:"Toggle Bayer Pattern Interpretation",children:n?"BGGR":"RGGB"})]}),c.jsxs("table",{className:"w-full mb-3",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"text-[10px] text-gray-400 dark:text-slate-500 border-b border-gray-100 dark:border-slate-800",children:[c.jsx("th",{className:"text-left pb-1 font-medium",children:"Ch"}),c.jsxs("th",{className:"text-right pb-1 font-medium",children:["Mean",h?"*":""]}),c.jsx("th",{className:"text-right pb-1 font-medium",children:"Std()"}),d&&c.jsx("th",{className:"text-right pb-1 font-medium text-cyan-600 dark:text-cyan-400",children:"K"}),p&&c.jsx("th",{className:"text-right pb-1 font-medium text-indigo-600 dark:text-indigo-400",children:"Unmix"})]})}),c.jsx("tbody",{className:"font-mono text-xs",children:v.map((y,k)=>c.jsxs("tr",{className:"group hover:bg-gray-50 dark:hover:bg-slate-800/30 transition-colors",children:[c.jsxs("td",{className:"py-1",children:[c.jsx("span",{className:`font-bold ${y.color}`,children:y.name}),c.jsx("span",{className:"text-[9px] text-gray-300 dark:text-slate-600 ml-1 hidden group-hover:inline",children:y.desc})]}),c.jsx("td",{className:"py-1 text-right text-gray-700 dark:text-slate-200 font-semibold",title:h?"Mean minus Black Level":"Raw Mean",children:y.mean.toFixed(2)}),c.jsx("td",{className:"py-1 text-right text-gray-500 dark:text-slate-400",children:y.std.toFixed(2)}),d&&c.jsx("td",{className:"py-1 text-right text-cyan-600 dark:text-cyan-400 font-bold",children:y.k!==null?y.k.toFixed(3):"-"}),p&&c.jsx("td",{className:"py-1 text-right text-indigo-600 dark:text-indigo-400 font-bold",children:y.unmixed!==null?y.unmixed.toFixed(1):"-"})]},k))})]}),h&&c.jsx("div",{className:"mb-2 text-[9px] text-gray-400 dark:text-slate-500 text-right italic",children:"* Mean adjusted by Black Level"}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsx("button",{onClick:()=>o("histogram"),className:"relative z-20 flex-1 min-w-[50px] py-1.5 bg-cyan-600 hover:bg-cyan-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"View Histogram",children:"Hist"}),c.jsx("button",{onClick:()=>o("quant"),className:"relative z-20 flex-1 min-w-[50px] py-1.5 bg-teal-600 hover:bg-teal-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"View Quantization Steps",children:"Quant"}),c.jsx("button",{onClick:()=>o("fft"),className:"relative z-20 flex-1 min-w-[50px] py-1.5 bg-purple-600 hover:bg-purple-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"View Power Spectrum (FFT)",children:"FFT"}),c.jsx("button",{onClick:()=>o("pearson"),className:"relative z-20 flex-1 min-w-[50px] py-1.5 bg-indigo-600 hover:bg-indigo-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"Pearson Correlation Analysis",children:"PCC"}),c.jsx("button",{onClick:w,className:"relative z-20 flex-1 min-w-[50px] py-1.5 bg-pink-600 hover:bg-pink-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"Color Noise Analysis (External Tool)",children:"ColorN"})]})]})]})},zJ=()=>{var cx;const[e,t]=j.useState(!0),[r,n]=j.useState("Initializing..."),a=j.useRef(!1),[o,i]=j.useState("dark");j.useEffect(()=>{const W=window.document.documentElement;W.classList.remove(o==="dark"?"light":"dark"),W.classList.add(o)},[o]);const[s,l]=j.useState(!1),[u,d]=j.useState(!1),[f,h]=j.useState(!1),[p,m]=j.useState(!1),x=EJ(s||u||f),[w,v]=j.useState(!1),[g,y]=j.useState([]),[k,b]=j.useState(-1),[S,_]=j.useState([]),N=j.useMemo(()=>g[k],[g,k]),P=j.useRef(null);j.useEffect(()=>{P.current=N||null},[N]);const M=(N==null?void 0:N.file)||null,E=(N==null?void 0:N.imageElement)||null,C=(N==null?void 0:N.rawImageData)||null,A=(N==null?void 0:N.rawFileBuffer)||null,L=(N==null?void 0:N.renderedRawImageData)||null,R=(N==null?void 0:N.referenceImageData)||null,G=(N==null?void 0:N.sampledImageData)||null,O=(N==null?void 0:N.exifData)||null,T=(N==null?void 0:N.isThreePlane)||!1,B=(N==null?void 0:N.xtransPhase)||{x:0,y:0},z=(N==null?void 0:N.displaySettings)||{exposure:0,demosaicMethod:3,blackLevel:void 0,wbGains:[1,1],showKadc:!0,subtractBlackLevelFromStats:!0},[te,Q]=j.useState(!1),[D,J]=j.useState(null),[q,$]=j.useState(!1),[ne,ce]=j.useState(!1),[Y,ue]=j.useState(null),[he,K]=j.useState([]),[Oe,Se]=j.useState(100),[oe,we]=j.useState(!0),[ve,Ke]=j.useState(!1),[ge,xe]=j.useState(null),[Le,it]=j.useState(!1),[xt,yr]=j.useState(!1),[st,tr]=j.useState(!1),[Ge,Ut]=j.useState(!1),[$t,rr]=j.useState(!1),[Nr,mt]=j.useState("1.0"),[Ue,lt]=j.useState(!1),[jt,nr]=j.useState(!1),[ar,Zr]=j.useState(!1),[Dt,gn]=j.useState(!1),[bt,mn]=j.useState({x:0,y:0}),[An,yn]=j.useState(!1),[dr,vr]=j.useState(!1),[xr,vn]=j.useState([]),[on,br]=j.useState(0),[Wn,na]=j.useState(null),[Zt,Qt]=j.useState(!1),[Bt,ie]=j.useState([]),[Ae,ze]=j.useState(.5),[et,Qe]=j.useState(!1),[Nt,hr]=j.useState(2),[or,Fe]=j.useState(1),[ct,Mt]=j.useState([]),[At,ir]=j.useState(null),[pe,Er]=j.useState(0),[Sa,Qr]=j.useState([]),[xn,Ao]=j.useState([]),[Eo,ja]=j.useState(64),[aa,V]=j.useState(10),[ke,Wt]=j.useState(10),[sr,Gr]=j.useState(4),[Xt,Xn]=j.useState(1),[En,is]=j.useState(0),[oa,ia]=j.useState("processed"),[Na,_r]=j.useState(!1),no=j.useMemo(()=>z.blackLevel?z.blackLevel:C!=null&&C.blackLevels?[C.blackLevels[0],C.blackLevels[1],C.blackLevels[2],C.blackLevels[3]]:[0,0,0,0],[z.blackLevel,C]),wh=(O==null?void 0:O.ImageHeight)||(O==null?void 0:O.ExifImageHeight)||(C==null?void 0:C.height)||0,[ss,Et]=j.useState(null),[U,X]=j.useState(null),[ae,I]=j.useState({x:0,y:0}),[de,Me]=j.useState(1),[Re,Je]=j.useState("pan"),Ye=j.useRef(null),Be=j.useRef(null),Rt=j.useCallback(async()=>{if(!A||!N)return;tr(!1);const W=Ge,H=$t;X(`Rendering 16-bit TIFF (${W?"Stretched":"Native DN"} | ${H?"sRGB":"Linear"})...`);try{const Z=await ZQ(A.slice(0),z,W,H),re=MJ(Z.width,Z.height,Z.data,Z.channels),be=new Blob([re],{type:"image/tiff"}),me=URL.createObjectURL(be),Te=document.createElement("a"),Ce=N.fileName||"rendered",$e=Ce.substring(0,Ce.lastIndexOf("."))||Ce,Pe=[W?"stretch":"native",H?"srgb":"linear"].join("_");Te.href=me,Te.download=`${$e}_${Pe}.tif`,document.body.appendChild(Te),Te.click(),document.body.removeChild(Te),URL.revokeObjectURL(me)}catch(Z){Et("TIFF Export Failed: "+Z.message)}finally{X(null)}},[A,N,z,Ge,$t]),yt=j.useCallback(()=>{!A||!N||tr(!0)},[A,N]),Ft=j.useCallback(async()=>{if(!C||!N)return;const W=parseFloat(Nr);if(isNaN(W)||W<=0){Et("Invalid multiplier for stretch.");return}X(`Stretching DNG by ${W}x...`);try{await new Promise(wt=>setTimeout(wt,50));const{width:H,height:Z,data:re,blackLevels:be,whiteLevel:me,bayerPattern:Te}=C,Ce=new Uint16Array(re.length);for(let wt=0;wt<re.length;wt++)Ce[wt]=Math.min(65535,Math.round(re[wt]*W));const $e=no.map(wt=>wt*W),Pe=me*W,De=uc(H,Z,Ce,$e,Pe,Te),Ze=new Blob([De],{type:"image/x-adobe-dng"}),ht=URL.createObjectURL(Ze),pt=document.createElement("a");pt.href=ht;const Wr=(N.fileName||"image.dng").replace(/\.[^/.]+$/,"");pt.download=`${Wr}_stretched_${W}x.dng`,document.body.appendChild(pt),pt.click(),document.body.removeChild(pt),URL.revokeObjectURL(ht),pr(`Successfully exported stretched DNG: ${W}x`,"info")}catch(H){Et(`Stretch Export Failed: ${H.message}`)}finally{X(null)}},[C,N,Nr,no]),pr=(W,H="info")=>{console.log(`[App] ${W}`)};j.useEffect(()=>{const W=H=>{(H.ctrlKey||H.metaKey)&&H.key.toLowerCase()==="s"&&(H.preventDefault(),yt())};return window.addEventListener("keydown",W),()=>window.removeEventListener("keydown",W)},[yt]),j.useEffect(()=>{(async()=>{if(a.current)return;const H=LJ();if(H&&(n("Restoring layout..."),i(H.theme),we(H.sidebarOpen),H.sessions.length>0)){n(`Restoring ${H.sessions.length} images...`);const Z=[];for(const re of H.sessions){if(a.current){console.log("Restoration cancelled.");return}await new Promise(be=>setTimeout(be,50));try{const be=await DJ(re.id);if(be){const me={id:re.id,fileName:re.fileName,file:null,imageElement:null,rawImageData:null,rawFileBuffer:be,renderedRawImageData:null,referenceImageData:null,sampledImageData:null,exifData:null,isThreePlane:re.isThreePlane,displaySettings:re.displaySettings,originalRawFileBuffer:null,isXTransOriginal:!1,isXTransConverted:!1,xtransPhase:{x:0,y:0}},{previewBlob:Te,analysisData:Ce}=await wi(be);let $e=null;Ce&&($e=await gk(be,re.displaySettings));const Pe=URL.createObjectURL(Te),De=new Image;De.src=Pe,await new Promise(Ze=>{De.onload=()=>Ze()}),Z.push({...me,rawImageData:Ce,renderedRawImageData:$e,previewUrl:Pe,imageElement:De,exifData:Ce.metadata})}}catch(be){console.error(`Failed to restore session ${re.id}`,be)}}if(a.current)return;if(y(Z),H.activeSessionId){const re=Z.findIndex(be=>be.id===H.activeSessionId);re>=0?b(re):Z.length>0&&b(0)}K(H.windows)}a.current||t(!1)})()},[]);const se=j.useRef(null),qe=j.useCallback(()=>{e||(se.current&&clearTimeout(se.current),se.current=window.setTimeout(async()=>{var Z;const W={version:1,timestamp:Date.now(),activeSessionId:((Z=g[k])==null?void 0:Z.id)||null,theme:o,sidebarOpen:oe,sessions:g.map(re=>({id:re.id,fileName:re.fileName,fileType:re.file?re.file.type:"application/octet-stream",fileSize:re.rawFileBuffer?re.rawFileBuffer.byteLength:0,displaySettings:re.displaySettings,isThreePlane:re.isThreePlane})),windows:he.map(re=>({id:re.id,type:re.type,roi:re.roi,zIndex:re.zIndex,initialPosition:re.initialPosition,sessionId:re.sessionId,isBGGR:re.isBGGR,isMinimized:re.isMinimized||!1,internalState:re.internalState}))};IJ(W);const H=g.map(re=>re.id);BJ(H)},1e3))},[g,he,k,o,oe,e]);j.useEffect(()=>{qe()},[qe]);const Ee=j.useCallback(async()=>{a.current=!0,n("Cleaning up..."),localStorage.removeItem("jtr_workspace_index");try{await RJ()}catch(W){console.error("Failed to clear DB",W)}window.location.reload()},[]),ut=j.useCallback(W=>{y(H=>H.map((Z,re)=>re===k?{...Z,...W}:Z))},[k]),_t=()=>b(W=>Math.min(W+1,g.length-1)),bn=()=>b(W=>Math.max(0,W-1));j.useEffect(()=>{if(C&&D){const W=ki(C.data,C.width,C.height,D.x,D.y,D.width,D.height);J(W)}},[C]);const dt=W=>{if(!D||!N)return;const H=Date.now().toString()+Math.random().toString().slice(2,5),Z=Math.max(Oe,...he.map(me=>me.zIndex),100),re=he.length%10*30,be=W==="fft"?{x:50,y:50}:W==="histogram"?{x:100,y:100}:{x:150,y:150};K(me=>[...me,{id:H,type:W,roi:{x:D.x,y:D.y,w:D.width,h:D.height},zIndex:Z+1,initialPosition:{x:be.x+re,y:be.y+re},sessionId:N.id,isBGGR:q,isMinimized:!1,stackFiles:(W==="fft"||W==="pearson"||W==="histogram")&&S.length>0?S:void 0}])},wr=W=>{K(H=>H.filter(Z=>Z.id!==W))},wn=W=>{K(H=>H.map(Z=>Z.id===W?{...Z,isMinimized:!0}:Z))},ao=W=>{K(H=>H.map(Z=>Z.id===W?{...Z,isMinimized:!1}:Z)),ls(W)},ls=W=>{K(H=>{const Z=Math.max(Oe,...H.map(re=>re.zIndex));return H.map(re=>re.id===W?{...re,zIndex:Z+1}:re)})},kh=(W,H)=>{K(Z=>Z.map(re=>re.id===W?{...re,internalState:{...re.internalState,...H}}:re))},cs=()=>{const W=Math.max(Oe,...he.map(H=>H.zIndex));Se(W+1)},Sh=(W,H)=>{K(Z=>Z.map(re=>re.id===W?{...re,roi:H}:re))};j.useEffect(()=>{if(!O)return;const W=O.CFAPattern2||O.CFAPattern;if(W){let H="";Array.isArray(W)?H=W.join(""):typeof W=="string"?H=W.replace(/[\s,]+/g,""):typeof W=="number"&&(H=String(W)),H==="0112"?$(!1):H==="2110"&&$(!0)}},[O]),j.useEffect(()=>{let W;const H=()=>{if(et&&Dt){const Z=Date.now()/1e3,re=.55+.45*Math.sin(Z*Nt);Fe(re),W=requestAnimationFrame(H)}else Fe(1)};return et&&Dt?H():Fe(1),()=>{W&&cancelAnimationFrame(W)}},[et,Dt,Nt]),j.useEffect(()=>{const W=H=>{H.key==="Escape"&&Dt&&(gn(!1),mn({x:0,y:0}),Qe(!1))};return window.addEventListener("keydown",W),()=>window.removeEventListener("keydown",W)},[Dt]),j.useEffect(()=>()=>{g.forEach(W=>{W.previewUrl&&URL.revokeObjectURL(W.previewUrl)}),Be.current&&Be.current.terminate()},[]);const yi=async(W,H=!0)=>{H&&(I({x:0,y:0}),Me(1),Er(0),Qr([]),Ao([]),Ke(!1),xe(null),Q(!1),vr(!1),vn([]),ie([]),br(0));let Z=null;if(x.isConnected){const Ce=new FormData;Ce.append("file",W);try{const Pe=await(await fetch("http://localhost:5428/read",{method:"POST",body:Ce})).json();if(Pe.success){let De=Pe.data;Array.isArray(De)&&De.length===1&&(De=De[0]),Z=De}}catch($e){console.warn("Auto Exif fetch failed",$e)}}const re=W.name.toLowerCase().match(/\.(arw|cr2|cr3|dng|nef|orf|raf|rw2|pef|srw|sr2|srf|x3f|erf|mef|mos|mrw|kdc|dcr|iiq|3fr|fff|rwl|nrw|raw|tif|tiff)$/);if(!(["image/jpeg","image/png","image/tiff","image/x-adobe-dng"].includes(W.type)||re)){Et("Unsupported file type. Please load a JPG, PNG, or a supported RAW file.");return}let me={file:W,exifData:Z};if(re||W.type==="image/x-adobe-dng")try{H?X("Processing RAW file (this may take a moment)..."):_r(!0);const Ce=await W.arrayBuffer();me.rawFileBuffer=Ce;const{previewBlob:$e,analysisData:Pe}=await wi(Ce);me.rawImageData=Pe,me.isThreePlane=Pe.isThreePlane||!1,Pe.isThreePlane&&H&&Q(!0);let De=!1,Ze=null,ht=!1;if(Pe.isXTrans){ht=!0,Ze=Ce;const Wr=(await Of(Ce,0,0)).dngBuffer,wt=await wi(Wr);me.rawFileBuffer=Wr,me.rawImageData=wt.analysisData,me.previewUrl=URL.createObjectURL(wt.previewBlob),De=!0}else me.previewUrl=URL.createObjectURL($e);me.originalRawFileBuffer=Ze,me.isXTransOriginal=ht,me.isXTransConverted=De,me.xtransPhase={x:0,y:0};const pt=new Image;pt.src=me.previewUrl||"",await new Promise((Tr,Wr)=>{pt.onload=()=>{me.imageElement=pt,Tr()},pt.onerror=()=>{Tr()}})}catch(Ce){Et(`Failed to process RAW file: ${Ce.message}`),X(null),_r(!1);return}else try{X("Processing image...");const{previewBlob:Ce,analysisData:$e}=await WQ(W);me.rawImageData=$e,me.rawFileBuffer=await W.arrayBuffer(),me.isThreePlane=$e.isThreePlane||!1,me.isXTransOriginal=!1,me.isXTransConverted=!1,me.originalRawFileBuffer=null;const Pe=URL.createObjectURL(Ce);me.previewUrl=Pe;const De=new Image;De.src=Pe,await new Promise(Ze=>{De.onload=()=>{me.imageElement=De,Ze()},De.onerror=()=>{Et("Could not load the image file."),Ze()}})}catch(Ce){Et(`Failed to process image: ${Ce.message}`),X(null);return}const Te=Date.now().toString()+Math.random();if(me.rawFileBuffer&&await bk(Te,me.rawFileBuffer),H){const Ce={exposure:0,demosaicMethod:3,blackLevel:void 0,wbGains:[1,1],showKadc:!0,subtractBlackLevelFromStats:!0},$e={id:Te,fileName:W.name,file:W,imageElement:null,rawImageData:null,rawFileBuffer:null,renderedRawImageData:null,referenceImageData:null,sampledImageData:null,exifData:null,isThreePlane:!1,displaySettings:Ce,originalRawFileBuffer:null,isXTransOriginal:!1,isXTransConverted:!1,xtransPhase:{x:0,y:0},...me};y(Pe=>{const De=[...Pe,$e];return b(De.length-1),De})}else ut(me);X(null),_r(!1)},Tn=async W=>{X("Converting to DNG...");try{const H=new FormData;H.append("file",W);const Z=await fetch("http://localhost:5428/convert_dng",{method:"POST",body:H}),re=Z.headers.get("content-type")||"";if(Z.ok)if(re.includes("application/json")){const be=await Z.json();throw new Error(be.error||"Conversion failed")}else{const be=await Z.blob(),me=URL.createObjectURL(be),Te=document.createElement("a");Te.href=me;const Ce=W.name,$e=Ce.substring(0,Ce.lastIndexOf("."))+".dng"||"converted.dng";Te.download=$e,document.body.appendChild(Te),Te.click(),document.body.removeChild(Te),URL.revokeObjectURL(me);const Pe=new File([be],$e,{type:"image/x-adobe-dng"});await yi(Pe,!0)}else{const be=await Z.text();throw new Error(`HTTP ${Z.status}: ${be}`)}}catch(H){X(null),Et(`Conversion Error: ${H.message}`)}},jh=(W,H)=>{W&&(H==="direct"?yi(W,!0):Tn(W))},Nh=async W=>{var Z;const H=(Z=W.target.files)==null?void 0:Z[0];H&&(await yi(H,!0),W.target.value="")},_h=async(W,H,Z,re)=>{!W||!H||(X("Processing Pair Difference (May take a while)..."),Et(null),setTimeout(async()=>{try{const be=await W.arrayBuffer(),me=await H.arrayBuffer(),Te=await Ap(be,me,Z,re),Ce=uc(Te.width,Te.height,Te.rawData),$e=new File([Ce],`Diff_${W.name}_${H.name}.dng`,{type:"image/x-adobe-dng"});await yi($e,!0),dt("fft")}catch(be){console.error("Pair Processing Error",be),Et("Pair Processing Failed: "+be.message)}finally{X(null)}},100))},Uu=async W=>{if(W.length<2){Et("Need at least 2 files for Batch Diff.");return}X(`Batch Processing 0/${Math.floor(W.length/2)} pairs...`);const H=Array.from(W).sort((Z,re)=>Z.name.localeCompare(re.name,void 0,{numeric:!0}));try{for(let Z=0;Z<H.length-1;Z+=2){const re=H[Z],be=H[Z+1];X(`Batch Processing Pair ${Math.floor(Z/2)+1}/${Math.floor(H.length/2)}: ${re.name} & ${be.name}`);const me=await re.arrayBuffer(),Te=await be.arrayBuffer(),Ce=await Ap(me,Te,!1,!1),$e=uc(Ce.width,Ce.height,Ce.rawData),Pe=new Blob([$e],{type:"image/x-adobe-dng"}),De=URL.createObjectURL(Pe),Ze=document.createElement("a");Ze.href=De,Ze.download=`Diff_${re.name}_${be.name}.dng`,document.body.appendChild(Ze),Ze.click(),document.body.removeChild(Ze),URL.revokeObjectURL(De)}}catch(Z){console.error("FFT Batch Error",Z),Et("Batch Processing Failed: "+Z.message)}finally{X(null)}},Ll=async W=>{if(W.length<1)return;const H=Array.from(W).sort((Z,re)=>Z.name.localeCompare(re.name,void 0,{numeric:!0}));_(H),await yi(H[0],!0)},Bl=async()=>{_r(!0);const W=128,H=W,Z=W,re=H*Z,be=new Uint16Array(re),me=Xe=>{const kt=Xe/sr+En;return Math.sin(2*Math.PI*kt)>=0?1:0},Te=32,Ce=Xt*.5,$e=Math.max(1e-4,Xt/Te);for(let Xe=0;Xe<Z;Xe++){let kt=0;const kr=Xe+.5-Ce;for(let Ht=0;Ht<Te;Ht++){const Sn=kr+(Ht+.5)*$e;kt+=me(Sn)}const Xr=kt/Te,Pt=Math.round(Xr*65535);for(let Ht=0;Ht<H;Ht++)be[Xe*H+Ht]=Pt}const Pe=new ImageData(un,un),De=un/H,Ze=Xt/2;for(let Xe=0;Xe<un;Xe++){const kt=Xe/De,Pr=Math.floor(kt),kr=kt-Pr,Xr=kr>=.5-Ze&&kr<.5+Ze;for(let Pt=0;Pt<un;Pt++){const Ht=Pt/De,Sn=Math.floor(Ht),sn=Ht-Sn,vi=sn>=.5-Ze&&sn<.5+Ze,$r=(Xe*un+Pt)*4;if(Sn>=H||Pr>=Z){Pe.data[$r]=30,Pe.data[$r+1]=34,Pe.data[$r+2]=40,Pe.data[$r+3]=255;continue}if(Xr&&vi){const Do=be[Pr*H+Sn],xi=Math.round(Do/257);Pe.data[$r]=xi,Pe.data[$r+1]=xi,Pe.data[$r+2]=xi,Pe.data[$r+3]=255}else Pe.data[$r]=30,Pe.data[$r+1]=34,Pe.data[$r+2]=40,Pe.data[$r+3]=255}}const ht=new ImageData(un,un),pt=Z/un;for(let Xe=0;Xe<un;Xe++){const kt=(Xe+.5)*pt,kr=me(kt)>.5?255:0,Xr=Xe*un*4;for(let Pt=0;Pt<un;Pt++){const Ht=Xr+Pt*4;ht.data[Ht]=kr,ht.data[Ht+1]=kr,ht.data[Ht+2]=kr,ht.data[Ht+3]=255}}const Tr=uc(H,Z,be),Wr=new File([Tr],"pattern_test.dng",{type:"image/x-adobe-dng"}),wt=Date.now().toString();try{const{previewBlob:Xe,analysisData:kt}=await wi(Tr.slice(0)),Pr=await gk(Tr.slice(0),z),kr=wk(Pr,un,un),Xr=URL.createObjectURL(Xe),Pt=new Image;Pt.src=Xr,await new Promise(Sn=>{Pt.onload=()=>Sn()}),await bk(wt,Tr);const Ht={id:wt,fileName:"pattern_test.dng",file:Wr,imageElement:Pt,rawImageData:kt,rawFileBuffer:Tr,renderedRawImageData:kr,referenceImageData:ht,sampledImageData:Pe,exifData:null,isThreePlane:!1,previewUrl:Xr,displaySettings:z,originalRawFileBuffer:null,isXTransOriginal:!1,isXTransConverted:!1,xtransPhase:{x:0,y:0}};(M==null?void 0:M.name)==="pattern_test.dng"?ut(Ht):y(Sn=>{const sn=[...Sn,Ht];return b(sn.length-1),sn})}catch(Xe){console.error("Error generating pattern:",Xe),Et(`Error generating pattern: ${Xe.message}`)}_r(!1),X(null)},Wu=()=>{it(!0)},Ph=()=>{it(!1),ia("sampled"),X("Generating..."),setTimeout(()=>Bl(),50)},To=j.useRef({period:sr,fill:Xt,phase:En});j.useEffect(()=>{(M==null?void 0:M.name)==="pattern_test.dng"&&(To.current.period!==sr||To.current.fill!==Xt||To.current.phase!==En)&&(To.current={period:sr,fill:Xt,phase:En},Bl())},[sr,Xt,En,M]);const _e=j.useCallback(W=>{if(ut({displaySettings:W}),!A)return;_r(!0),Be.current&&Be.current.terminate();const H=new Worker(new URL("/assets/renderWorker-BhikMEl_.js",import.meta.url),{type:"module"});Be.current=H,H.onmessage=Z=>{const{success:re,imageData:be,error:me}=Z.data;if(re){let Te=be;(M==null?void 0:M.name)==="pattern_test.dng"&&(Te=wk(be,un,un)),ut({renderedRawImageData:Te})}else Et(me||"Unknown worker error");_r(!1),H.terminate(),Be.current=null},H.postMessage({buffer:A.slice(0),settings:W})},[A,M,ut]),at=async(W,H)=>{X("Re-sampling X-Trans with new Phase...");try{const re=(await Of(H,W.x,W.y)).dngBuffer,be=await wi(re),me=URL.createObjectURL(be.previewBlob),Te=new Image;Te.src=me,await new Promise(Ce=>{Te.onload=()=>Ce()}),N!=null&&N.previewUrl&&URL.revokeObjectURL(N.previewUrl),ut({rawFileBuffer:re,rawImageData:be.analysisData,previewUrl:me,imageElement:Te,xtransPhase:W}),J(null)}catch(Z){console.error("X-Trans Phase Update Failed",Z),Et("Phase Update Failed: "+Z.message)}finally{X(null)}},tt=W=>{if(!N||!N.originalRawFileBuffer||!N.isXTransConverted)return;const H={...N.xtransPhase,...W};at(H,N.originalRawFileBuffer)},rt=j.useCallback(async W=>{if(N)if(W){if(N.isXTransConverted)return;const H=N.originalRawFileBuffer||N.rawFileBuffer;if(!H)return;X("Converting X-Trans to Pseudo-Bayer DNG...");try{const Z=N.xtransPhase||{x:0,y:0},be=(await Of(H,Z.x,Z.y)).dngBuffer,me=await wi(be),Te=URL.createObjectURL(me.previewBlob),Ce=new Image;Ce.src=Te,await new Promise($e=>{Ce.onload=()=>$e()}),N.previewUrl&&URL.revokeObjectURL(N.previewUrl),ut({rawFileBuffer:be,rawImageData:me.analysisData,previewUrl:Te,imageElement:Ce,isXTransConverted:!0,originalRawFileBuffer:H}),J(null)}catch(Z){console.error("X-Trans Conversion Failed",Z),Et("Failed to convert X-Trans: "+Z.message)}finally{X(null)}}else{if(!N.isXTransConverted)return;const H=N.originalRawFileBuffer;if(!H){Et("Original X-Trans buffer lost. Cannot revert.");return}X("Reverting to Native X-Trans...");try{const Z=await wi(H),re=URL.createObjectURL(Z.previewBlob),be=new Image;be.src=re,await new Promise(me=>{be.onload=()=>me()}),N.previewUrl&&URL.revokeObjectURL(N.previewUrl),ut({rawFileBuffer:H,rawImageData:Z.analysisData,previewUrl:re,imageElement:be,isXTransConverted:!1}),J(null)}catch(Z){console.error("X-Trans Revert Failed",Z),Et("Failed to revert X-Trans: "+Z.message)}finally{X(null)}}},[N,ut]);let Ur=L||E;oa==="reference"&&R?Ur=R:oa==="sampled"&&G&&(Ur=G);const kn=U||Na,Hn=W=>{if(Ye.current){const H=Ye.current,{width:Z,height:re}=H.getBoundingClientRect(),be=Z/2,me=re/2,Te=W/de,Ce=be-(be-ae.x)*Te,$e=me-(me-ae.y)*Te;I({x:Ce,y:$e})}Me(W)},Fa=W=>{if(!W)return;if(!C){J(null);return}ne&&ce(!1);const H=ki(C.data,C.width,C.height,W.x,W.y,W.w,W.h);J(H)},$o=W=>{ue(W),Fa(W)},za=()=>{Je(W=>W==="pan"?"select":"pan")},lr=W=>{if(pe===0||pe>4)return;const H=[...Sa,W];Qr(H),pe===4?(Fl(H),Er(0)):Er(pe+1)},Oh=(W,H,Z,re)=>{const be=W[0],me=W[1],Te=W[2],Ce=W[3],$e=H/2,Pe=[];for(let De=0;De<Z;De++){const Ze=Z>1?De/(Z-1):.5;for(let ht=0;ht<re;ht++){const pt=re>1?ht/(re-1):.5,Tr=be.x*(1-pt)+me.x*pt,Wr=be.y*(1-pt)+me.y*pt,wt=Te.x*(1-pt)+Ce.x*pt,Xe=Te.y*(1-pt)+Ce.y*pt,kt=Tr*(1-Ze)+wt*Ze,Pr=Wr*(1-Ze)+Xe*Ze,kr=kt-$e,Xr=Pr-$e;Pe.push({x:kr,y:Xr,w:H,h:H})}}return Pe},Fl=W=>{!C||!N||(X("Calculating DR Lab Grid..."),setTimeout(()=>{try{const H=Oh(W,Eo,aa,ke);Ao(H);const me=[...[`#BlackLevel: ${(z.blackLevel||[0,0,0,0]).join(",")}`,`#ImageHeight: ${C.height}`],"Filename,Row,Col,R_Mean,G1_Mean,G2_Mean,B_Mean,R_Std,G1_Std,G2_Std,B_Std"],Te=`img${N.fileName||"image"}`;H.forEach((Ze,ht)=>{const pt=Math.floor(ht/ke)+1,Tr=ht%ke+1,Wr=ki(C.data,C.width,C.height,Ze.x,Ze.y,Ze.w,Ze.h),wt=Wr.means,Xe=Wr.stdDevs,kt=`${Te},${pt},${Tr},${wt[0].toFixed(4)},${wt[1].toFixed(4)},${wt[2].toFixed(4)},${wt[3].toFixed(4)},${Xe[0].toFixed(4)},${Xe[1].toFixed(4)},${Xe[2].toFixed(4)},${Xe[3].toFixed(4)}`;me.push(kt)});const Ce=me.join(`
`),$e=new Blob([Ce],{type:"text/csv;charset=utf-8;"}),Pe=URL.createObjectURL($e),De=document.createElement("a");De.setAttribute("href",Pe),De.setAttribute("download","dr_lab_results.csv"),document.body.appendChild(De),De.click(),document.body.removeChild(De),URL.revokeObjectURL(Pe),Qr([])}catch(H){Et("DR Lab Error: "+H.message)}finally{X(null)}},100))},Xu=async(W,H)=>{if(Sa.length<4&&xn.length<1){Et("Please mark the grid on an image first before running batch processing.");return}let Z=xn;if(Z.length===0&&Sa.length===4&&(Z=Oh(Sa,Eo,aa,ke)),Z.length===0){Et("No grid definitions found. Mark corners first.");return}X(H==="pair"?"Batch Pair Difference (Sigma = Diff/sqrt(2))":"Batch Processing...");const be=(z.blackLevel||[0,0,0,0]).join(","),me=C?C.height:0,Ce=[...[`#BlackLevel: ${be}`,`#ImageHeight: ${me}`,H==="pair"?"#Mode: Pair Difference (Sigma = Diff/sqrt(2))":"#Mode: Independent"],"Filename,Row,Col,R_Mean,G1_Mean,G2_Mean,B_Mean,R_Std,G1_Std,G2_Std,B_Std"],$e=Array.from(W).sort((ht,pt)=>ht.name.localeCompare(pt.name,void 0,{numeric:!0}));if(H==="pair"&&$e.length<2){Et("Need at least 2 files for Pair processing."),X(null);return}const Pe=P.current,De=(Pe==null?void 0:Pe.isXTransConverted)||!1,Ze=(Pe==null?void 0:Pe.xtransPhase)||{x:0,y:0};try{const ht=async Xe=>{let kt=await Xe.arrayBuffer();return De&&(kt=(await Of(kt,Ze.x,Ze.y)).dngBuffer),kt};if(H==="single")for(let Xe=0;Xe<$e.length;Xe++){const kt=$e[Xe];X(`Processing ${Xe+1}/${$e.length}: ${kt.name}...`);const Pr=await ht(kt),kr=await y0(Pr),Xr=`img${kt.name}`;Z.forEach((Pt,Ht)=>{const Sn=Math.floor(Ht/aa)+1,sn=Ht%ke+1,vi=ki(kr.data,kr.width,kr.height,Pt.x,Pt.y,Pt.w,Pt.h),$r=vi.means,Do=vi.stdDevs,xi=`${Xr},${Sn},${sn},${$r[0].toFixed(4)},${$r[1].toFixed(4)},${$r[2].toFixed(4)},${$r[3].toFixed(4)},${Do[0].toFixed(4)},${Do[1].toFixed(4)},${Do[2].toFixed(4)},${Do[3].toFixed(4)}`;Ce.push(xi)})}else for(let Xe=0;Xe<$e.length-1;Xe+=2){const kt=$e[Xe],Pr=$e[Xe+1],kr=`img${kt.name} & ${Pr.name}`;X(`Processing Pair ${Math.floor(Xe/2)+1}/${Math.floor($e.length/2)}: ${kt.name} & ${Pr.name}...`);const Xr=await ht(kt),Pt=await y0(Xr),Ht=await ht(Pr),Sn=await Ap(Xr,Ht,!1,!0);Z.forEach((sn,vi)=>{const $r=Math.floor(vi/aa)+1,Do=vi%ke+1,xi=ki(Pt.data,Pt.width,Pt.height,sn.x,sn.y,sn.w,sn.h),CN=ki(Sn.rawData,Sn.width,Sn.height,sn.x,sn.y,sn.w,sn.h),Hu=xi.means,Vu=CN.stdDevs,MN=`${kr},${$r},${Do},${Hu[0].toFixed(4)},${Hu[1].toFixed(4)},${Hu[2].toFixed(4)},${Hu[3].toFixed(4)},${Vu[0].toFixed(4)},${Vu[1].toFixed(4)},${Vu[2].toFixed(4)},${Vu[3].toFixed(4)}`;Ce.push(MN)})}const pt=Ce.join(`
`),Tr=new Blob([pt],{type:"text/csv;charset=utf-8;"}),Wr=URL.createObjectURL(Tr),wt=document.createElement("a");wt.href=Wr,wt.setAttribute("download",`dr_lab_batch_${H}_${new Date().getTime()}.csv`),document.body.appendChild(wt),wt.click(),document.body.removeChild(wt),URL.revokeObjectURL(Wr)}catch(ht){console.error("Batch Error",ht),Et("Batch Processing Failed: "+ht.message)}finally{X(null)}},ix=()=>{vn([]),br(1)},wN=W=>{if(!dr||on===0)return;const H=[...xr,W];vn(H),H.length===4&&C?(sx(H,Ae),br(0)):br(Z=>Z+1)},sx=(W,H)=>{C&&(X("Analyzing Color Chart..."),setTimeout(()=>{try{const Z=vJ(W[0],W[1],W[2],W[3],C.width,C.height,H);ie(Z);const be=Z.map((me,Te)=>{const Ce=ki(C.data,C.width,C.height,me.x,me.y,me.w,me.h);return{id:Te,rawMeans:Ce.means,refRGB:[0,0,0]}}).map((me,Te)=>({...me,refRGB:ay[Te]||[0,0,0]}));na(be),Qt(!0)}catch(Z){Et("Color Lab Error: "+Z.message)}finally{X(null)}},100))},kN=W=>{ze(W),xr.length===4&&sx(xr,W)},SN=()=>{Qt(!1)},jN=()=>{O||xe("No EXIF data found. The file might not contain metadata or it was stripped during processing."),Ke(!0)},NN=async W=>{X("Parsing PTC Data...");const H=[];let Z=null;try{for(let re=0;re<W.length;re++){const me=(await W[re].text()).split(`
`);let Te=!0;for(const Ce of me){const $e=Ce.trim();if(!$e)continue;if($e.startsWith("#")){if($e.includes("BlackLevel:")){const Pt=$e.split(":")[1].trim().split(",");if(Pt.length>=4){const Ht=Pt.map(Number);Z||(Z={}),Z.blackLevel=Ht}}if($e.includes("ImageHeight:")){const Pt=parseInt($e.split(":")[1].trim());isNaN(Pt)||(Z||(Z={}),Z.height=Pt)}continue}if(Te){$e.toLowerCase().includes("mean")&&$e.toLowerCase().includes("std")&&(Te=!1);continue}const Pe=$e.split(",");if(Pe.length<5)continue;let De=0,Ze;isNaN(parseFloat(Pe[0]))&&(Ze=Pe[0],De=1);const ht=parseInt(Pe[De]),pt=parseInt(Pe[De+1]),Tr=parseFloat(Pe[De+2]),Wr=parseFloat(Pe[De+3]),wt=parseFloat(Pe[De+4]),Xe=parseFloat(Pe[De+5]),kt=parseFloat(Pe[De+6]),Pr=parseFloat(Pe[De+7]),kr=parseFloat(Pe[De+8]),Xr=parseFloat(Pe[De+9]);!isNaN(Tr)&&!isNaN(kt)&&H.push({channel:"R",mean:Tr,std:kt,filename:Ze,row:ht,col:pt}),!isNaN(Wr)&&!isNaN(Pr)&&H.push({channel:"G1",mean:Wr,std:Pr,filename:Ze,row:ht,col:pt}),!isNaN(wt)&&!isNaN(kr)&&H.push({channel:"G2",mean:wt,std:kr,filename:Ze,row:ht,col:pt}),!isNaN(Xe)&&!isNaN(Xr)&&H.push({channel:"B",mean:Xe,std:Xr,filename:Ze,row:ht,col:pt})}}Mt(H),ir(Z),l(!0)}catch(re){console.error("PTC Parse Error",re),Et("Failed to parse CSV files: "+re.message)}finally{X(null)}},_N=()=>{if(!A||!N)return;const W=new Blob([A],{type:"image/x-adobe-dng"}),H=URL.createObjectURL(W),Z=document.createElement("a");Z.href=H;const re=N.fileName||"image.dng",be=re.toLowerCase().endsWith(".dng")?re:re.replace(/\.[^/.]+$/,"")+".dng";Z.download=be,document.body.appendChild(Z),Z.click(),document.body.removeChild(Z),URL.revokeObjectURL(H)},PN=()=>{Er(1),Qr([]),Ao([])},lx=()=>{window.open("https://github.com/y-g-jiang/y-g-jiang.github.io/blob/main/drtest.png","_blank")},ON=j.useMemo(()=>Wn?Wn.map((W,H)=>({...W,refRGB:ay[H]||[0,0,0]})):[],[Wn]);return e?c.jsxs("div",{className:"flex flex-col h-screen items-center justify-center bg-gray-300 dark:bg-[#111] text-black dark:text-white font-mono",children:[c.jsx("div",{className:"w-12 h-12 border-4 border-black dark:border-white border-t-transparent animate-spin mb-4"}),c.jsx("h2",{className:"text-xl font-bold",children:r}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2 mb-6",children:"Loading stored buffers from database..."}),c.jsx("button",{onClick:Ee,className:"px-6 py-2 bg-red-600 hover:bg-red-700 text-white font-bold border-2 border-black dark:border-gray-500 shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] active:shadow-none active:translate-x-1 active:translate-y-1 transition-all text-sm",children:"Abandon Saved Session (Start Fresh)"})]}):c.jsxs("div",{className:"flex flex-col h-screen bg-[#d4d4d4] dark:bg-[#111111] text-black dark:text-gray-200 font-mono transition-colors duration-300 overflow-hidden",children:[c.jsx("div",{className:"p-4 pb-0 flex-shrink-0",children:c.jsx(oO,{onLoadImage:Nh,onFileSelected:jh,onGenerateFakeDng:Wu,fileName:M?M.name:null,hasGeneratedData:(M==null?void 0:M.name)==="pattern_test.dng",viewMode:oa,onSetViewMode:ia,patternPeriod:sr,onPatternPeriodChange:Gr,fillFactor:Xt,onFillFactorChange:Xn,patternPhase:En,onPatternPhaseChange:is,showPatternControls:(M==null?void 0:M.name)==="pattern_test.dng",onOpenAbout:()=>yr(!0),onShowExif:jN,bridgeStatus:x,onBridgeClick:()=>v(!0),isDrLabOpen:Ue,onToggleDrLab:()=>{lt(!Ue),Er(0),Qr([]),Ao([]),jt&&nr(!1),dr&&vr(!1),ar&&Zr(!1),br(0),ie([])},isColorLabOpen:dr,onToggleColorLab:()=>{vr(!dr),vn([]),br(0),ie([]),Ue&&lt(!1),jt&&nr(!1),ar&&Zr(!1)},isFftLabOpen:jt,onToggleFftLab:()=>{nr(!jt),Ue&&lt(!1),dr&&vr(!1),ar&&Zr(!1),br(0),ie([])},isSfrLabOpen:ar,onToggleSfrLab:()=>{Zr(!ar),Ue&&lt(!1),dr&&vr(!1),jt&&nr(!1),br(0),ie([])},onGenerateTestPic:lx,onPTCFilesSelected:NN,onDownloadDng:_N,isThreePlane:T,onOpenDatabase:()=>d(!0),isSidebarOpen:oe,onToggleSidebar:()=>we(!oe),stretchMultiplier:Nr,onStretchMultiplierChange:mt,onStretchDngExport:Ft,isRawLoaded:!!C})}),c.jsxs("div",{className:"flex flex-1 overflow-hidden p-4 pt-2 gap-4 relative",children:[c.jsxs("div",{className:"flex-1 relative bg-gray-200 dark:bg-black border-4 border-gray-500 dark:border-gray-700 shadow-[inset_2px_2px_8px_rgba(0,0,0,0.2)] overflow-hidden transition-colors duration-300",ref:Ye,children:[kn&&c.jsxs("div",{className:"absolute bottom-4 right-4 z-50 flex items-center gap-2 bg-white/90 dark:bg-black/90 px-3 py-1.5 border-2 border-black dark:border-white shadow-[4px_4px_0px_black] dark:shadow-[4px_4px_0px_gray]",children:[c.jsx("div",{className:"w-4 h-4 border-2 border-black dark:border-white border-t-transparent animate-spin"}),c.jsx("span",{className:"text-xs font-bold text-black dark:text-white uppercase",children:U||"Processing..."})]}),g.length>1&&c.jsxs("div",{className:"absolute bottom-4 right-20 z-50 flex items-center gap-2 bg-white/90 dark:bg-black/90 px-3 py-1.5 border-2 border-black dark:border-white shadow-[4px_4px_0px_black] dark:shadow-[4px_4px_0px_gray] text-sm font-bold text-black dark:text-white",children:[c.jsx("button",{onClick:bn,disabled:k<=0,className:"hover:text-gray-500 disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"Previous Image",children:"<"}),c.jsxs("span",{className:"min-w-[3rem] text-center select-none font-bold",children:[k+1," / ",g.length]}),c.jsx("button",{onClick:_t,disabled:k>=g.length-1,className:"hover:text-gray-500 disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"Next Image",children:">"})]}),c.jsx("div",{className:"absolute bottom-4 left-4 z-50 flex flex-col-reverse gap-2 items-start pointer-events-none",children:he.filter(W=>W.isMinimized).map(W=>{let H="Window",Z="bg-gray-500";return W.type==="histogram"?(H="Histogram",Z="bg-black dark:bg-white"):W.type==="fft"?(H="FFT Spectrum",Z="bg-black dark:bg-white"):W.type==="quant"?(H="Quantization",Z="bg-black dark:bg-white"):W.type==="pearson"&&(H="Pearson",Z="bg-black dark:bg-white"),c.jsxs("div",{className:"pointer-events-auto flex items-center gap-1 bg-white dark:bg-black border-2 border-black dark:border-white shadow-[4px_4px_0px_black] dark:shadow-[4px_4px_0px_gray]",children:[c.jsxs("button",{onClick:()=>ao(W.id),className:"px-3 py-1.5 text-xs font-bold text-black dark:text-white hover:bg-gray-200 dark:hover:bg-gray-800 transition-colors flex items-center gap-2",children:[c.jsx("span",{className:`w-2 h-2 ${Z}`}),H]}),c.jsx("button",{onClick:()=>wr(W.id),className:"px-2 py-1.5 text-black hover:text-red-600 hover:bg-gray-200 dark:hover:bg-gray-800 border-l-2 border-black dark:border-white transition-colors",children:""})]},W.id)})}),c.jsx(sJ,{isOpen:xt,onClose:()=>yr(!1)}),c.jsx(lJ,{isOpen:ve,onClose:()=>Ke(!1),data:O,fileName:M?M.name:"",warning:ge}),c.jsx(uJ,{isOpen:s,onClose:()=>l(!1),data:ct,blackLevel:no,imageHeight:wh,isBGGR:q,importedMetadata:At||void 0,theme:o,initialCameraModel:(O==null?void 0:O.Model)||"",initialISO:(O==null?void 0:O.ISO)||((cx=O==null?void 0:O.ISOSpeedRatings)==null?void 0:cx.toString())||""}),c.jsx(gJ,{isOpen:u,onClose:()=>d(!1),theme:o}),c.jsx(mJ,{isOpen:f,onClose:()=>h(!1),zIndex:200}),c.jsx(kJ,{isOpen:Zt,onClose:SN,patchStats:ON,initialIsBGGR:q,sizeRatio:Ae,onSizeChange:kN}),c.jsx(PJ,{isOpen:ar,isSfrLabOpen:ar,onClose:()=>{},rawImageData:C,roi:D?{x:D.x,y:D.y,w:D.width,h:D.height}:null,zIndex:200,onFocus:cs,displaySettings:z}),c.jsx(CJ,{isOpen:p,onClose:()=>m(!1),rawImageData:C,fileName:(M==null?void 0:M.name)||"image.dng",zIndex:300,onFocus:cs}),c.jsx(ai,{isOpen:Le,onClose:()=>it(!1),onConfirm:Ph,title:"High Resource Usage Warning",confirmText:"I know the risk and insist to continue",message:c.jsxs("div",{className:"flex flex-col gap-2",children:[c.jsx("p",{children:"Patter DNG mode involves high-frequency refreshing and heavy computation. Due to current memory management limitations, repeated use may lead to browser memory overflow or crashes. Please proceed with caution."}),c.jsx("p",{className:"text-xs text-gray-500"})]})}),c.jsx(ai,{isOpen:w,onClose:()=>v(!1),onConfirm:()=>{window.open("https://y-g-jiang.github.io/jiangbridge.exe","_blank"),v(!1)},title:"JiangBridge Connection / ",confirmText:"Download Bridge App",cancelText:"Cancel",message:c.jsxs("div",{className:"flex flex-col gap-4 text-left",children:[c.jsx("p",{className:"font-bold text-gray-800 dark:text-gray-200",children:"JiangBridge"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:'JiangBridge is optional for this webpage, but recommended for full functionality. Simply double-click and run it once after system startup. If the indicator light does not turn green after double-clicking, please consider checking whether the web page is allowed to "View and connect to any device on the network".'})]})}),c.jsx(ai,{isOpen:st,onClose:()=>tr(!1),onConfirm:Rt,title:"Export 16-bit TIFF Options",confirmText:"Confirm Export",message:c.jsxs("div",{className:"flex flex-col gap-4 text-left",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4 bg-gray-50 dark:bg-slate-800/80 p-4 border border-gray-400 dark:border-600",children:[c.jsxs("div",{className:"flex flex-col items-center gap-3",children:[c.jsxs("div",{className:"flex flex-col items-center text-center",children:[c.jsx("span",{className:"font-bold text-xs text-gray-800 dark:text-slate-200",children:"Stretch ()"}),c.jsx("span",{className:"text-[9px] text-gray-500 dark:text-slate-400 mt-0.5",children:"Map [0, White] to [0, 65535]"})]}),c.jsx("div",{onClick:()=>Ut(!Ge),className:`relative w-12 h-6 border-2 border-black dark:border-white cursor-pointer ${Ge?"bg-black dark:bg-white":"bg-gray-300 dark:bg-slate-600"}`,children:c.jsx("div",{className:`absolute top-0.5 left-0.5 w-4 h-4 bg-white dark:bg-black shadow-sm transition-transform ${Ge?"translate-x-6":""}`})})]}),c.jsxs("div",{className:"flex flex-col items-center gap-3",children:[c.jsxs("div",{className:"flex flex-col items-center text-center",children:[c.jsx("span",{className:"font-bold text-xs text-gray-800 dark:text-slate-200",children:"sRGB Gamma"}),c.jsx("span",{className:"text-[9px] text-gray-500 dark:text-slate-400 mt-0.5",children:"Apply non-linear contrast"})]}),c.jsx("div",{onClick:()=>rr(!$t),className:`relative w-12 h-6 border-2 border-black dark:border-white cursor-pointer ${$t?"bg-black dark:bg-white":"bg-gray-300 dark:bg-slate-600"}`,children:c.jsx("div",{className:`absolute top-0.5 left-0.5 w-4 h-4 bg-white dark:bg-black shadow-sm transition-transform ${$t?"translate-x-6":""}`})})]})]}),c.jsxs("div",{className:"p-3 bg-gray-200 dark:bg-slate-800 text-[11px] text-black dark:text-white italic border border-gray-400 dark:border-gray-600 text-center font-mono",children:[Ge&&!$t&&"Mode: Stretched Linear. Histogram preserved but range expanded.",!Ge&&$t&&"Mode: Native DN + sRGB. Best for analyzing raw distribution contrast.",Ge&&$t&&"Mode: Ready-to-Use. Conventional 16-bit development.",!Ge&&!$t&&"Mode: Native Linear. Pure physical sensor DN values."]})]})}),!ne&&c.jsx(FJ,{stats:D,onClose:()=>{J(null),ue(null)},onMinimize:()=>ce(!0),isBGGR:q,onToggleBGGR:$,onOpenWindow:dt,displaySettings:z,zIndex:Oe,onFocus:cs,rawImageData:C}),he.map(W=>{if(W.isMinimized)return null;const H=g.find(be=>be.id===W.sessionId),Z=H==null?void 0:H.rawImageData;if(!Z)return null;const re={key:W.id,isOpen:!0,onClose:()=>wr(W.id),onMinimize:()=>wn(W.id),rawImageData:Z,roi:W.roi,isBGGR:W.isBGGR,zIndex:W.zIndex,onFocus:()=>ls(W.id),initialPosition:W.initialPosition,initialInternalState:W.internalState,onUpdateState:be=>kh(W.id,be),stackFiles:W.stackFiles};return W.type==="histogram"?c.jsx(QQ,{...re}):W.type==="fft"?c.jsx(rJ,{...re,onUpdateROI:be=>Sh(W.id,be)}):W.type==="quant"?c.jsx(nJ,{...re}):W.type==="pearson"?c.jsx(aJ,{...re}):null}),ss&&c.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-white/90 dark:bg-black/90 p-8",children:c.jsxs("div",{className:"max-w-md text-center p-6 bg-white dark:bg-black rounded-none border-2 border-red-600 shadow-[8px_8px_0px_rgba(200,0,0,0.5)]",children:[c.jsx("h3",{className:"text-xl font-bold text-red-600 uppercase mb-2",children:"Notice"}),c.jsx("p",{className:"text-black dark:text-white mb-6 whitespace-pre-wrap font-mono",children:ss}),c.jsx("button",{onClick:()=>Et(null),className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 dark:bg-gray-800 dark:hover:bg-gray-700 border-2 border-black dark:border-white text-black dark:text-white transition-colors uppercase font-bold",children:"Dismiss"})]})}),!Ur&&!kn&&!ss&&c.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-gray-400 dark:text-gray-600 select-none font-mono",children:c.jsx("p",{className:"text-lg",children:"Load an image or generate a pattern"})}),c.jsx(iO,{image:Ur,zoom:de,pan:ae,onPanChange:I,onZoomChange:Hn,onSelectionChange:Fa,forcedSelection:Y,theme:o,touchAction:Re,isMarking:pe>0||dr&&on>0,onPointClick:W=>{pe>0?lr(W):dr&&on>0&&wN(W)},markers:Sa,gridRects:xn,colorLabPoints:xr,colorLabRects:Bt}),c.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-1/2 z-30 pointer-events-none select-none opacity-20 mix-blend-normal dark:mix-blend-plus-lighter",children:c.jsx("svg",{viewBox:"0 0 500 60",className:"w-full h-auto drop-shadow-none",children:c.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-black dark:fill-white",fontSize:"26",fontWeight:"bold",style:{fontFamily:"Courier New, monospace",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})}),C&&!pe&&!dr&&c.jsxs("div",{className:"absolute bottom-4 left-4 z-30 pointer-events-none opacity-60 text-[10px] text-black dark:text-white font-mono bg-white/50 dark:bg-black/50 px-1",children:["Hold ",c.jsx("b",{children:"Shift"})," + Drag to calculate Raw ROI stats"]}),dr&&on>0&&c.jsxs("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 z-30 pointer-events-none text-sm font-bold text-yellow-500 bg-black/80 px-4 py-2 rounded-full border border-yellow-500 animate-pulse shadow-lg",children:[xr.length===0&&"Click Top-Left Corner of Chart",xr.length===1&&"Click Top-Right Corner",xr.length===2&&"Click Bottom-Left Corner",xr.length===3&&"Click Bottom-Right Corner",xr.length===4&&"Processing..."]}),c.jsx(xO,{zoom:de,onZoomChange:Hn,onResetView:()=>{Me(1),I({x:0,y:0})},touchAction:Re,onToggleTouchAction:za})]}),oe&&c.jsx("div",{className:"w-80 flex-shrink-0 bg-white dark:bg-black border-4 border-gray-500 dark:border-gray-700 shadow-[inset_2px_2px_8px_rgba(0,0,0,0.2)] overflow-hidden transition-all duration-300",children:c.jsx(fO,{rawImageData:C,displaySettings:z,onApplyDisplaySettings:_e,onSetSelection:$o,exifData:O,isBridgeConnected:x.isConnected,isDrLabOpen:Ue,drMarkingStep:pe,onStartMarking:PN,onGenerateTestPic:lx,drRoiSize:Eo,onDrRoiSizeChange:ja,drGridRows:aa,onDrGridRowsChange:V,drGridCols:ke,onDrGridColsChange:Wt,onBatchDrLab:Xu,hasDrMarkers:xn.length>0,isFftLabOpen:jt,onProcessPair:_h,onProcessBatchDiff:Uu,onProcessStackFft:Ll,onOpenCrossCalc:()=>h(!0),isThreePlane:T,onToggleXTrans:rt,xtransPhase:B,onXTransPhaseChange:tt,isXTransConverted:N==null?void 0:N.isXTransConverted,roiStats:D,isBGGR:q,isColorLabOpen:dr,colorLabMarkingStep:on,onStartColorLabMarking:ix,isSfrLabOpen:ar,onOpenDngExport:()=>m(!0)})}),c.jsx(bO,{theme:o,setTheme:i})]})]})},bN=document.getElementById("root");if(!bN)throw new Error("Could not find root element to mount to");const GJ=$p.createRoot(bN);GJ.render(c.jsx(F.StrictMode,{children:c.jsx(zJ,{})}));export{FQ as _};
