var E_=Object.defineProperty;var T_=(e,t,r)=>t in e?E_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var on=(e,t,r)=>T_(e,typeof t!="symbol"?t+"":t,r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();var uu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var $2={exports:{}},Cd={},D2={exports:{}},tt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yc=Symbol.for("react.element"),$_=Symbol.for("react.portal"),D_=Symbol.for("react.fragment"),R_=Symbol.for("react.strict_mode"),L_=Symbol.for("react.profiler"),I_=Symbol.for("react.provider"),B_=Symbol.for("react.context"),F_=Symbol.for("react.forward_ref"),z_=Symbol.for("react.suspense"),W_=Symbol.for("react.memo"),U_=Symbol.for("react.lazy"),jv=Symbol.iterator;function G_(e){return e===null||typeof e!="object"?null:(e=jv&&e[jv]||e["@@iterator"],typeof e=="function"?e:null)}var R2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L2=Object.assign,I2={};function Vs(e,t,r){this.props=e,this.context=t,this.refs=I2,this.updater=r||R2}Vs.prototype.isReactComponent={};Vs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Vs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function B2(){}B2.prototype=Vs.prototype;function wm(e,t,r){this.props=e,this.context=t,this.refs=I2,this.updater=r||R2}var km=wm.prototype=new B2;km.constructor=wm;L2(km,Vs.prototype);km.isPureReactComponent=!0;var Ov=Array.isArray,F2=Object.prototype.hasOwnProperty,Sm={current:null},z2={key:!0,ref:!0,__self:!0,__source:!0};function W2(e,t,r){var n,a={},o=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)F2.call(t,n)&&!z2.hasOwnProperty(n)&&(a[n]=t[n]);var s=arguments.length-2;if(s===1)a.children=r;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(n in s=e.defaultProps,s)a[n]===void 0&&(a[n]=s[n]);return{$$typeof:Yc,type:e,key:o,ref:i,props:a,_owner:Sm.current}}function H_(e,t){return{$$typeof:Yc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function jm(e){return typeof e=="object"&&e!==null&&e.$$typeof===Yc}function V_(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Pv=/\/+/g;function Wh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?V_(""+e.key):t.toString(36)}function Uu(e,t,r,n,a){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Yc:case $_:i=!0}}if(i)return i=e,a=a(i),e=n===""?"."+Wh(i,0):n,Ov(a)?(r="",e!=null&&(r=e.replace(Pv,"$&/")+"/"),Uu(a,t,r,"",function(c){return c})):a!=null&&(jm(a)&&(a=H_(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(Pv,"$&/")+"/")+e)),t.push(a)),1;if(i=0,n=n===""?".":n+":",Ov(e))for(var s=0;s<e.length;s++){o=e[s];var l=n+Wh(o,s);i+=Uu(o,t,r,l,a)}else if(l=G_(e),typeof l=="function")for(e=l.call(e),s=0;!(o=e.next()).done;)o=o.value,l=n+Wh(o,s++),i+=Uu(o,t,r,l,a);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function fu(e,t,r){if(e==null)return e;var n=[],a=0;return Uu(e,n,"","",function(o){return t.call(r,o,a++)}),n}function K_(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var dn={current:null},Gu={transition:null},X_={ReactCurrentDispatcher:dn,ReactCurrentBatchConfig:Gu,ReactCurrentOwner:Sm};function U2(){throw Error("act(...) is not supported in production builds of React.")}tt.Children={map:fu,forEach:function(e,t,r){fu(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return fu(e,function(){t++}),t},toArray:function(e){return fu(e,function(t){return t})||[]},only:function(e){if(!jm(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};tt.Component=Vs;tt.Fragment=D_;tt.Profiler=L_;tt.PureComponent=wm;tt.StrictMode=R_;tt.Suspense=z_;tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X_;tt.act=U2;tt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=L2({},e.props),a=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=Sm.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)F2.call(t,l)&&!z2.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];n.children=s}return{$$typeof:Yc,type:e.type,key:a,ref:o,props:n,_owner:i}};tt.createContext=function(e){return e={$$typeof:B_,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:I_,_context:e},e.Consumer=e};tt.createElement=W2;tt.createFactory=function(e){var t=W2.bind(null,e);return t.type=e,t};tt.createRef=function(){return{current:null}};tt.forwardRef=function(e){return{$$typeof:F_,render:e}};tt.isValidElement=jm;tt.lazy=function(e){return{$$typeof:U_,_payload:{_status:-1,_result:e},_init:K_}};tt.memo=function(e,t){return{$$typeof:W_,type:e,compare:t===void 0?null:t}};tt.startTransition=function(e){var t=Gu.transition;Gu.transition={};try{e()}finally{Gu.transition=t}};tt.unstable_act=U2;tt.useCallback=function(e,t){return dn.current.useCallback(e,t)};tt.useContext=function(e){return dn.current.useContext(e)};tt.useDebugValue=function(){};tt.useDeferredValue=function(e){return dn.current.useDeferredValue(e)};tt.useEffect=function(e,t){return dn.current.useEffect(e,t)};tt.useId=function(){return dn.current.useId()};tt.useImperativeHandle=function(e,t,r){return dn.current.useImperativeHandle(e,t,r)};tt.useInsertionEffect=function(e,t){return dn.current.useInsertionEffect(e,t)};tt.useLayoutEffect=function(e,t){return dn.current.useLayoutEffect(e,t)};tt.useMemo=function(e,t){return dn.current.useMemo(e,t)};tt.useReducer=function(e,t,r){return dn.current.useReducer(e,t,r)};tt.useRef=function(e){return dn.current.useRef(e)};tt.useState=function(e){return dn.current.useState(e)};tt.useSyncExternalStore=function(e,t,r){return dn.current.useSyncExternalStore(e,t,r)};tt.useTransition=function(){return dn.current.useTransition()};tt.version="18.3.1";D2.exports=tt;var O=D2.exports;const M=$t(O);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y_=O,q_=Symbol.for("react.element"),Z_=Symbol.for("react.fragment"),Q_=Object.prototype.hasOwnProperty,J_=Y_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,eN={key:!0,ref:!0,__self:!0,__source:!0};function G2(e,t,r){var n,a={},o=null,i=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)Q_.call(t,n)&&!eN.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:q_,type:e,key:o,ref:i,props:a,_owner:J_.current}}Cd.Fragment=Z_;Cd.jsx=G2;Cd.jsxs=G2;$2.exports=Cd;var f=$2.exports,Zp={},H2={exports:{}},En={},V2={exports:{}},K2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,R){var B=I.length;I.push(R);e:for(;0<B;){var ee=B-1>>>1,X=I[ee];if(0<a(X,R))I[ee]=R,I[B]=X,B=ee;else break e}}function r(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var R=I[0],B=I.pop();if(B!==R){I[0]=B;e:for(var ee=0,X=I.length,G=X>>>1;ee<G;){var U=2*(ee+1)-1,ce=I[U],ue=U+1,be=I[ue];if(0>a(ce,B))ue<X&&0>a(be,ce)?(I[ee]=be,I[ue]=B,ee=ue):(I[ee]=ce,I[U]=B,ee=U);else if(ue<X&&0>a(be,B))I[ee]=be,I[ue]=B,ee=ue;else break e}}return R}function a(I,R){var B=I.sortIndex-R.sortIndex;return B!==0?B:I.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,s=i.now();e.unstable_now=function(){return i.now()-s}}var l=[],c=[],u=1,d=null,h=3,p=!1,m=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(I){for(var R=r(c);R!==null;){if(R.callback===null)n(c);else if(R.startTime<=I)n(c),R.sortIndex=R.expirationTime,t(l,R);else break;R=r(c)}}function S(I){if(v=!1,b(I),!m)if(r(l)!==null)m=!0,L(w);else{var R=r(c);R!==null&&W(S,R.startTime-I)}}function w(I,R){m=!1,v&&(v=!1,y(P),P=-1),p=!0;var B=h;try{for(b(R),d=r(l);d!==null&&(!(d.expirationTime>R)||I&&!N());){var ee=d.callback;if(typeof ee=="function"){d.callback=null,h=d.priorityLevel;var X=ee(d.expirationTime<=R);R=e.unstable_now(),typeof X=="function"?d.callback=X:d===r(l)&&n(l),b(R)}else n(l);d=r(l)}if(d!==null)var G=!0;else{var U=r(c);U!==null&&W(S,U.startTime-R),G=!1}return G}finally{d=null,h=B,p=!1}}var k=!1,j=null,P=-1,_=5,A=-1;function N(){return!(e.unstable_now()-A<_)}function E(){if(j!==null){var I=e.unstable_now();A=I;var R=!0;try{R=j(!0,I)}finally{R?F():(k=!1,j=null)}}else k=!1}var F;if(typeof g=="function")F=function(){g(E)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,T=D.port2;D.port1.onmessage=E,F=function(){T.postMessage(null)}}else F=function(){x(E,0)};function L(I){j=I,k||(k=!0,F())}function W(I,R){P=x(function(){I(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,L(w))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(I){switch(h){case 1:case 2:case 3:var R=3;break;default:R=h}var B=h;h=R;try{return I()}finally{h=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,R){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var B=h;h=I;try{return R()}finally{h=B}},e.unstable_scheduleCallback=function(I,R,B){var ee=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?ee+B:ee):B=ee,I){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=B+X,I={id:u++,callback:R,priorityLevel:I,startTime:B,expirationTime:X,sortIndex:-1},B>ee?(I.sortIndex=B,t(c,I),r(l)===null&&I===r(c)&&(v?(y(P),P=-1):v=!0,W(S,B-ee))):(I.sortIndex=X,t(l,I),m||p||(m=!0,L(w))),I},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(I){var R=h;return function(){var B=h;h=R;try{return I.apply(this,arguments)}finally{h=B}}}})(K2);V2.exports=K2;var tN=V2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rN=O,Cn=tN;function ae(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var X2=new Set,ql={};function Oi(e,t){fs(e,t),fs(e+"Capture",t)}function fs(e,t){for(ql[e]=t,e=0;e<t.length;e++)X2.add(t[e])}var Xa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qp=Object.prototype.hasOwnProperty,nN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_v={},Nv={};function aN(e){return Qp.call(Nv,e)?!0:Qp.call(_v,e)?!1:nN.test(e)?Nv[e]=!0:(_v[e]=!0,!1)}function oN(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function iN(e,t,r,n){if(t===null||typeof t>"u"||oN(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function hn(e,t,r,n,a,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var Br={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Br[e]=new hn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Br[t]=new hn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Br[e]=new hn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Br[e]=new hn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Br[e]=new hn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Br[e]=new hn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Br[e]=new hn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Br[e]=new hn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Br[e]=new hn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Om=/[\-:]([a-z])/g;function Pm(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Om,Pm);Br[t]=new hn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Om,Pm);Br[t]=new hn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Om,Pm);Br[t]=new hn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Br[e]=new hn(e,1,!1,e.toLowerCase(),null,!1,!1)});Br.xlinkHref=new hn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Br[e]=new hn(e,1,!1,e.toLowerCase(),null,!0,!0)});function _m(e,t,r,n){var a=Br.hasOwnProperty(t)?Br[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(iN(t,r,a,n)&&(r=null),n||a===null?aN(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var to=rN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,du=Symbol.for("react.element"),zi=Symbol.for("react.portal"),Wi=Symbol.for("react.fragment"),Nm=Symbol.for("react.strict_mode"),Jp=Symbol.for("react.profiler"),Y2=Symbol.for("react.provider"),q2=Symbol.for("react.context"),Am=Symbol.for("react.forward_ref"),e0=Symbol.for("react.suspense"),t0=Symbol.for("react.suspense_list"),Mm=Symbol.for("react.memo"),co=Symbol.for("react.lazy"),Z2=Symbol.for("react.offscreen"),Av=Symbol.iterator;function fl(e){return e===null||typeof e!="object"?null:(e=Av&&e[Av]||e["@@iterator"],typeof e=="function"?e:null)}var nr=Object.assign,Uh;function Al(e){if(Uh===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Uh=t&&t[1]||""}return`
`+Uh+e}var Gh=!1;function Hh(e,t){if(!e||Gh)return"";Gh=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),o=n.stack.split(`
`),i=a.length-1,s=o.length-1;1<=i&&0<=s&&a[i]!==o[s];)s--;for(;1<=i&&0<=s;i--,s--)if(a[i]!==o[s]){if(i!==1||s!==1)do if(i--,s--,0>s||a[i]!==o[s]){var l=`
`+a[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=i&&0<=s);break}}}finally{Gh=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Al(e):""}function sN(e){switch(e.tag){case 5:return Al(e.type);case 16:return Al("Lazy");case 13:return Al("Suspense");case 19:return Al("SuspenseList");case 0:case 2:case 15:return e=Hh(e.type,!1),e;case 11:return e=Hh(e.type.render,!1),e;case 1:return e=Hh(e.type,!0),e;default:return""}}function r0(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Wi:return"Fragment";case zi:return"Portal";case Jp:return"Profiler";case Nm:return"StrictMode";case e0:return"Suspense";case t0:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case q2:return(e.displayName||"Context")+".Consumer";case Y2:return(e._context.displayName||"Context")+".Provider";case Am:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Mm:return t=e.displayName||null,t!==null?t:r0(e.type)||"Memo";case co:t=e._payload,e=e._init;try{return r0(e(t))}catch{}}return null}function lN(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return r0(t);case 8:return t===Nm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Mo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Q2(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function cN(e){var t=Q2(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function hu(e){e._valueTracker||(e._valueTracker=cN(e))}function J2(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Q2(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function tf(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function n0(e,t){var r=t.checked;return nr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Mv(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Mo(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ek(e,t){t=t.checked,t!=null&&_m(e,"checked",t,!1)}function a0(e,t){ek(e,t);var r=Mo(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?o0(e,t.type,r):t.hasOwnProperty("defaultValue")&&o0(e,t.type,Mo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Cv(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function o0(e,t,r){(t!=="number"||tf(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ml=Array.isArray;function rs(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Mo(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function i0(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ae(91));return nr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ev(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ae(92));if(Ml(r)){if(1<r.length)throw Error(ae(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Mo(r)}}function tk(e,t){var r=Mo(t.value),n=Mo(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Tv(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function rk(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function s0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?rk(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var pu,nk=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(pu=pu||document.createElement("div"),pu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=pu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Zl(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var $l={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},uN=["Webkit","ms","Moz","O"];Object.keys($l).forEach(function(e){uN.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),$l[t]=$l[e]})});function ak(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||$l.hasOwnProperty(e)&&$l[e]?(""+t).trim():t+"px"}function ok(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=ak(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var fN=nr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function l0(e,t){if(t){if(fN[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ae(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ae(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ae(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ae(62))}}function c0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var u0=null;function Cm(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var f0=null,ns=null,as=null;function $v(e){if(e=Qc(e)){if(typeof f0!="function")throw Error(ae(280));var t=e.stateNode;t&&(t=Rd(t),f0(e.stateNode,e.type,t))}}function ik(e){ns?as?as.push(e):as=[e]:ns=e}function sk(){if(ns){var e=ns,t=as;if(as=ns=null,$v(e),t)for(e=0;e<t.length;e++)$v(t[e])}}function lk(e,t){return e(t)}function ck(){}var Vh=!1;function uk(e,t,r){if(Vh)return e(t,r);Vh=!0;try{return lk(e,t,r)}finally{Vh=!1,(ns!==null||as!==null)&&(ck(),sk())}}function Ql(e,t){var r=e.stateNode;if(r===null)return null;var n=Rd(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ae(231,t,typeof r));return r}var d0=!1;if(Xa)try{var dl={};Object.defineProperty(dl,"passive",{get:function(){d0=!0}}),window.addEventListener("test",dl,dl),window.removeEventListener("test",dl,dl)}catch{d0=!1}function dN(e,t,r,n,a,o,i,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(u){this.onError(u)}}var Dl=!1,rf=null,nf=!1,h0=null,hN={onError:function(e){Dl=!0,rf=e}};function pN(e,t,r,n,a,o,i,s,l){Dl=!1,rf=null,dN.apply(hN,arguments)}function gN(e,t,r,n,a,o,i,s,l){if(pN.apply(this,arguments),Dl){if(Dl){var c=rf;Dl=!1,rf=null}else throw Error(ae(198));nf||(nf=!0,h0=c)}}function Pi(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function fk(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Dv(e){if(Pi(e)!==e)throw Error(ae(188))}function mN(e){var t=e.alternate;if(!t){if(t=Pi(e),t===null)throw Error(ae(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var o=a.alternate;if(o===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===r)return Dv(a),e;if(o===n)return Dv(a),t;o=o.sibling}throw Error(ae(188))}if(r.return!==n.return)r=a,n=o;else{for(var i=!1,s=a.child;s;){if(s===r){i=!0,r=a,n=o;break}if(s===n){i=!0,n=a,r=o;break}s=s.sibling}if(!i){for(s=o.child;s;){if(s===r){i=!0,r=o,n=a;break}if(s===n){i=!0,n=o,r=a;break}s=s.sibling}if(!i)throw Error(ae(189))}}if(r.alternate!==n)throw Error(ae(190))}if(r.tag!==3)throw Error(ae(188));return r.stateNode.current===r?e:t}function dk(e){return e=mN(e),e!==null?hk(e):null}function hk(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=hk(e);if(t!==null)return t;e=e.sibling}return null}var pk=Cn.unstable_scheduleCallback,Rv=Cn.unstable_cancelCallback,yN=Cn.unstable_shouldYield,vN=Cn.unstable_requestPaint,dr=Cn.unstable_now,xN=Cn.unstable_getCurrentPriorityLevel,Em=Cn.unstable_ImmediatePriority,gk=Cn.unstable_UserBlockingPriority,af=Cn.unstable_NormalPriority,bN=Cn.unstable_LowPriority,mk=Cn.unstable_IdlePriority,Ed=null,Sa=null;function wN(e){if(Sa&&typeof Sa.onCommitFiberRoot=="function")try{Sa.onCommitFiberRoot(Ed,e,void 0,(e.current.flags&128)===128)}catch{}}var sa=Math.clz32?Math.clz32:jN,kN=Math.log,SN=Math.LN2;function jN(e){return e>>>=0,e===0?32:31-(kN(e)/SN|0)|0}var gu=64,mu=4194304;function Cl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function of(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,o=e.pingedLanes,i=r&268435455;if(i!==0){var s=i&~a;s!==0?n=Cl(s):(o&=i,o!==0&&(n=Cl(o)))}else i=r&~a,i!==0?n=Cl(i):o!==0&&(n=Cl(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,o=t&-t,a>=o||a===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-sa(t),a=1<<r,n|=e[r],t&=~a;return n}function ON(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function PN(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-sa(o),s=1<<i,l=a[i];l===-1?(!(s&r)||s&n)&&(a[i]=ON(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}function p0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function yk(){var e=gu;return gu<<=1,!(gu&4194240)&&(gu=64),e}function Kh(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function qc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-sa(t),e[t]=r}function _N(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-sa(r),o=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~o}}function Tm(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-sa(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var St=0;function vk(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var xk,$m,bk,wk,kk,g0=!1,yu=[],wo=null,ko=null,So=null,Jl=new Map,ec=new Map,ho=[],NN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lv(e,t){switch(e){case"focusin":case"focusout":wo=null;break;case"dragenter":case"dragleave":ko=null;break;case"mouseover":case"mouseout":So=null;break;case"pointerover":case"pointerout":Jl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ec.delete(t.pointerId)}}function hl(e,t,r,n,a,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[a]},t!==null&&(t=Qc(t),t!==null&&$m(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function AN(e,t,r,n,a){switch(t){case"focusin":return wo=hl(wo,e,t,r,n,a),!0;case"dragenter":return ko=hl(ko,e,t,r,n,a),!0;case"mouseover":return So=hl(So,e,t,r,n,a),!0;case"pointerover":var o=a.pointerId;return Jl.set(o,hl(Jl.get(o)||null,e,t,r,n,a)),!0;case"gotpointercapture":return o=a.pointerId,ec.set(o,hl(ec.get(o)||null,e,t,r,n,a)),!0}return!1}function Sk(e){var t=Jo(e.target);if(t!==null){var r=Pi(t);if(r!==null){if(t=r.tag,t===13){if(t=fk(r),t!==null){e.blockedOn=t,kk(e.priority,function(){bk(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Hu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=m0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);u0=n,r.target.dispatchEvent(n),u0=null}else return t=Qc(r),t!==null&&$m(t),e.blockedOn=r,!1;t.shift()}return!0}function Iv(e,t,r){Hu(e)&&r.delete(t)}function MN(){g0=!1,wo!==null&&Hu(wo)&&(wo=null),ko!==null&&Hu(ko)&&(ko=null),So!==null&&Hu(So)&&(So=null),Jl.forEach(Iv),ec.forEach(Iv)}function pl(e,t){e.blockedOn===t&&(e.blockedOn=null,g0||(g0=!0,Cn.unstable_scheduleCallback(Cn.unstable_NormalPriority,MN)))}function tc(e){function t(a){return pl(a,e)}if(0<yu.length){pl(yu[0],e);for(var r=1;r<yu.length;r++){var n=yu[r];n.blockedOn===e&&(n.blockedOn=null)}}for(wo!==null&&pl(wo,e),ko!==null&&pl(ko,e),So!==null&&pl(So,e),Jl.forEach(t),ec.forEach(t),r=0;r<ho.length;r++)n=ho[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ho.length&&(r=ho[0],r.blockedOn===null);)Sk(r),r.blockedOn===null&&ho.shift()}var os=to.ReactCurrentBatchConfig,sf=!0;function CN(e,t,r,n){var a=St,o=os.transition;os.transition=null;try{St=1,Dm(e,t,r,n)}finally{St=a,os.transition=o}}function EN(e,t,r,n){var a=St,o=os.transition;os.transition=null;try{St=4,Dm(e,t,r,n)}finally{St=a,os.transition=o}}function Dm(e,t,r,n){if(sf){var a=m0(e,t,r,n);if(a===null)np(e,t,n,lf,r),Lv(e,n);else if(AN(a,e,t,r,n))n.stopPropagation();else if(Lv(e,n),t&4&&-1<NN.indexOf(e)){for(;a!==null;){var o=Qc(a);if(o!==null&&xk(o),o=m0(e,t,r,n),o===null&&np(e,t,n,lf,r),o===a)break;a=o}a!==null&&n.stopPropagation()}else np(e,t,n,null,r)}}var lf=null;function m0(e,t,r,n){if(lf=null,e=Cm(n),e=Jo(e),e!==null)if(t=Pi(e),t===null)e=null;else if(r=t.tag,r===13){if(e=fk(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return lf=e,null}function jk(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xN()){case Em:return 1;case gk:return 4;case af:case bN:return 16;case mk:return 536870912;default:return 16}default:return 16}}var mo=null,Rm=null,Vu=null;function Ok(){if(Vu)return Vu;var e,t=Rm,r=t.length,n,a="value"in mo?mo.value:mo.textContent,o=a.length;for(e=0;e<r&&t[e]===a[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===a[o-n];n++);return Vu=a.slice(e,1<n?1-n:void 0)}function Ku(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function vu(){return!0}function Bv(){return!1}function Tn(e){function t(r,n,a,o,i){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(r=e[s],this[s]=r?r(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?vu:Bv,this.isPropagationStopped=Bv,this}return nr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=vu)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=vu)},persist:function(){},isPersistent:vu}),t}var Ks={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lm=Tn(Ks),Zc=nr({},Ks,{view:0,detail:0}),TN=Tn(Zc),Xh,Yh,gl,Td=nr({},Zc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Im,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gl&&(gl&&e.type==="mousemove"?(Xh=e.screenX-gl.screenX,Yh=e.screenY-gl.screenY):Yh=Xh=0,gl=e),Xh)},movementY:function(e){return"movementY"in e?e.movementY:Yh}}),Fv=Tn(Td),$N=nr({},Td,{dataTransfer:0}),DN=Tn($N),RN=nr({},Zc,{relatedTarget:0}),qh=Tn(RN),LN=nr({},Ks,{animationName:0,elapsedTime:0,pseudoElement:0}),IN=Tn(LN),BN=nr({},Ks,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),FN=Tn(BN),zN=nr({},Ks,{data:0}),zv=Tn(zN),WN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},UN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},GN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function HN(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=GN[e])?!!t[e]:!1}function Im(){return HN}var VN=nr({},Zc,{key:function(e){if(e.key){var t=WN[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ku(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?UN[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Im,charCode:function(e){return e.type==="keypress"?Ku(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ku(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),KN=Tn(VN),XN=nr({},Td,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wv=Tn(XN),YN=nr({},Zc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Im}),qN=Tn(YN),ZN=nr({},Ks,{propertyName:0,elapsedTime:0,pseudoElement:0}),QN=Tn(ZN),JN=nr({},Td,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),eA=Tn(JN),tA=[9,13,27,32],Bm=Xa&&"CompositionEvent"in window,Rl=null;Xa&&"documentMode"in document&&(Rl=document.documentMode);var rA=Xa&&"TextEvent"in window&&!Rl,Pk=Xa&&(!Bm||Rl&&8<Rl&&11>=Rl),Uv=" ",Gv=!1;function _k(e,t){switch(e){case"keyup":return tA.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nk(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ui=!1;function nA(e,t){switch(e){case"compositionend":return Nk(t);case"keypress":return t.which!==32?null:(Gv=!0,Uv);case"textInput":return e=t.data,e===Uv&&Gv?null:e;default:return null}}function aA(e,t){if(Ui)return e==="compositionend"||!Bm&&_k(e,t)?(e=Ok(),Vu=Rm=mo=null,Ui=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Pk&&t.locale!=="ko"?null:t.data;default:return null}}var oA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!oA[e.type]:t==="textarea"}function Ak(e,t,r,n){ik(n),t=cf(t,"onChange"),0<t.length&&(r=new Lm("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Ll=null,rc=null;function iA(e){Fk(e,0)}function $d(e){var t=Vi(e);if(J2(t))return e}function sA(e,t){if(e==="change")return t}var Mk=!1;if(Xa){var Zh;if(Xa){var Qh="oninput"in document;if(!Qh){var Vv=document.createElement("div");Vv.setAttribute("oninput","return;"),Qh=typeof Vv.oninput=="function"}Zh=Qh}else Zh=!1;Mk=Zh&&(!document.documentMode||9<document.documentMode)}function Kv(){Ll&&(Ll.detachEvent("onpropertychange",Ck),rc=Ll=null)}function Ck(e){if(e.propertyName==="value"&&$d(rc)){var t=[];Ak(t,rc,e,Cm(e)),uk(iA,t)}}function lA(e,t,r){e==="focusin"?(Kv(),Ll=t,rc=r,Ll.attachEvent("onpropertychange",Ck)):e==="focusout"&&Kv()}function cA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return $d(rc)}function uA(e,t){if(e==="click")return $d(t)}function fA(e,t){if(e==="input"||e==="change")return $d(t)}function dA(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ca=typeof Object.is=="function"?Object.is:dA;function nc(e,t){if(ca(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Qp.call(t,a)||!ca(e[a],t[a]))return!1}return!0}function Xv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Yv(e,t){var r=Xv(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Xv(r)}}function Ek(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ek(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Tk(){for(var e=window,t=tf();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=tf(e.document)}return t}function Fm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function hA(e){var t=Tk(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Ek(r.ownerDocument.documentElement,r)){if(n!==null&&Fm(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,o=Math.min(n.start,a);n=n.end===void 0?o:Math.min(n.end,a),!e.extend&&o>n&&(a=n,n=o,o=a),a=Yv(r,o);var i=Yv(r,n);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pA=Xa&&"documentMode"in document&&11>=document.documentMode,Gi=null,y0=null,Il=null,v0=!1;function qv(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;v0||Gi==null||Gi!==tf(n)||(n=Gi,"selectionStart"in n&&Fm(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Il&&nc(Il,n)||(Il=n,n=cf(y0,"onSelect"),0<n.length&&(t=new Lm("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Gi)))}function xu(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Hi={animationend:xu("Animation","AnimationEnd"),animationiteration:xu("Animation","AnimationIteration"),animationstart:xu("Animation","AnimationStart"),transitionend:xu("Transition","TransitionEnd")},Jh={},$k={};Xa&&($k=document.createElement("div").style,"AnimationEvent"in window||(delete Hi.animationend.animation,delete Hi.animationiteration.animation,delete Hi.animationstart.animation),"TransitionEvent"in window||delete Hi.transitionend.transition);function Dd(e){if(Jh[e])return Jh[e];if(!Hi[e])return e;var t=Hi[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in $k)return Jh[e]=t[r];return e}var Dk=Dd("animationend"),Rk=Dd("animationiteration"),Lk=Dd("animationstart"),Ik=Dd("transitionend"),Bk=new Map,Zv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Eo(e,t){Bk.set(e,t),Oi(t,[e])}for(var ep=0;ep<Zv.length;ep++){var tp=Zv[ep],gA=tp.toLowerCase(),mA=tp[0].toUpperCase()+tp.slice(1);Eo(gA,"on"+mA)}Eo(Dk,"onAnimationEnd");Eo(Rk,"onAnimationIteration");Eo(Lk,"onAnimationStart");Eo("dblclick","onDoubleClick");Eo("focusin","onFocus");Eo("focusout","onBlur");Eo(Ik,"onTransitionEnd");fs("onMouseEnter",["mouseout","mouseover"]);fs("onMouseLeave",["mouseout","mouseover"]);fs("onPointerEnter",["pointerout","pointerover"]);fs("onPointerLeave",["pointerout","pointerover"]);Oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Oi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var El="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yA=new Set("cancel close invalid load scroll toggle".split(" ").concat(El));function Qv(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,gN(n,t,void 0,e),e.currentTarget=null}function Fk(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var i=n.length-1;0<=i;i--){var s=n[i],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&a.isPropagationStopped())break e;Qv(a,s,c),o=l}else for(i=0;i<n.length;i++){if(s=n[i],l=s.instance,c=s.currentTarget,s=s.listener,l!==o&&a.isPropagationStopped())break e;Qv(a,s,c),o=l}}}if(nf)throw e=h0,nf=!1,h0=null,e}function Ut(e,t){var r=t[S0];r===void 0&&(r=t[S0]=new Set);var n=e+"__bubble";r.has(n)||(zk(t,e,2,!1),r.add(n))}function rp(e,t,r){var n=0;t&&(n|=4),zk(r,e,n,t)}var bu="_reactListening"+Math.random().toString(36).slice(2);function ac(e){if(!e[bu]){e[bu]=!0,X2.forEach(function(r){r!=="selectionchange"&&(yA.has(r)||rp(r,!1,e),rp(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[bu]||(t[bu]=!0,rp("selectionchange",!1,t))}}function zk(e,t,r,n){switch(jk(t)){case 1:var a=CN;break;case 4:a=EN;break;default:a=Dm}r=a.bind(null,t,r,e),a=void 0,!d0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function np(e,t,r,n,a){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var s=n.stateNode.containerInfo;if(s===a||s.nodeType===8&&s.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;i=i.return}for(;s!==null;){if(i=Jo(s),i===null)return;if(l=i.tag,l===5||l===6){n=o=i;continue e}s=s.parentNode}}n=n.return}uk(function(){var c=o,u=Cm(r),d=[];e:{var h=Bk.get(e);if(h!==void 0){var p=Lm,m=e;switch(e){case"keypress":if(Ku(r)===0)break e;case"keydown":case"keyup":p=KN;break;case"focusin":m="focus",p=qh;break;case"focusout":m="blur",p=qh;break;case"beforeblur":case"afterblur":p=qh;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Fv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=DN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=qN;break;case Dk:case Rk:case Lk:p=IN;break;case Ik:p=QN;break;case"scroll":p=TN;break;case"wheel":p=eA;break;case"copy":case"cut":case"paste":p=FN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Wv}var v=(t&4)!==0,x=!v&&e==="scroll",y=v?h!==null?h+"Capture":null:h;v=[];for(var g=c,b;g!==null;){b=g;var S=b.stateNode;if(b.tag===5&&S!==null&&(b=S,y!==null&&(S=Ql(g,y),S!=null&&v.push(oc(g,S,b)))),x)break;g=g.return}0<v.length&&(h=new p(h,m,null,r,u),d.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==u0&&(m=r.relatedTarget||r.fromElement)&&(Jo(m)||m[Ya]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=c,m=m?Jo(m):null,m!==null&&(x=Pi(m),m!==x||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(v=Fv,S="onMouseLeave",y="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(v=Wv,S="onPointerLeave",y="onPointerEnter",g="pointer"),x=p==null?h:Vi(p),b=m==null?h:Vi(m),h=new v(S,g+"leave",p,r,u),h.target=x,h.relatedTarget=b,S=null,Jo(u)===c&&(v=new v(y,g+"enter",m,r,u),v.target=b,v.relatedTarget=x,S=v),x=S,p&&m)t:{for(v=p,y=m,g=0,b=v;b;b=Di(b))g++;for(b=0,S=y;S;S=Di(S))b++;for(;0<g-b;)v=Di(v),g--;for(;0<b-g;)y=Di(y),b--;for(;g--;){if(v===y||y!==null&&v===y.alternate)break t;v=Di(v),y=Di(y)}v=null}else v=null;p!==null&&Jv(d,h,p,v,!1),m!==null&&x!==null&&Jv(d,x,m,v,!0)}}e:{if(h=c?Vi(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var w=sA;else if(Hv(h))if(Mk)w=fA;else{w=cA;var k=lA}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=uA);if(w&&(w=w(e,c))){Ak(d,w,r,u);break e}k&&k(e,h,c),e==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&o0(h,"number",h.value)}switch(k=c?Vi(c):window,e){case"focusin":(Hv(k)||k.contentEditable==="true")&&(Gi=k,y0=c,Il=null);break;case"focusout":Il=y0=Gi=null;break;case"mousedown":v0=!0;break;case"contextmenu":case"mouseup":case"dragend":v0=!1,qv(d,r,u);break;case"selectionchange":if(pA)break;case"keydown":case"keyup":qv(d,r,u)}var j;if(Bm)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Ui?_k(e,r)&&(P="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(Pk&&r.locale!=="ko"&&(Ui||P!=="onCompositionStart"?P==="onCompositionEnd"&&Ui&&(j=Ok()):(mo=u,Rm="value"in mo?mo.value:mo.textContent,Ui=!0)),k=cf(c,P),0<k.length&&(P=new zv(P,e,null,r,u),d.push({event:P,listeners:k}),j?P.data=j:(j=Nk(r),j!==null&&(P.data=j)))),(j=rA?nA(e,r):aA(e,r))&&(c=cf(c,"onBeforeInput"),0<c.length&&(u=new zv("onBeforeInput","beforeinput",null,r,u),d.push({event:u,listeners:c}),u.data=j))}Fk(d,t)})}function oc(e,t,r){return{instance:e,listener:t,currentTarget:r}}function cf(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,o=a.stateNode;a.tag===5&&o!==null&&(a=o,o=Ql(e,r),o!=null&&n.unshift(oc(e,o,a)),o=Ql(e,t),o!=null&&n.push(oc(e,o,a))),e=e.return}return n}function Di(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Jv(e,t,r,n,a){for(var o=t._reactName,i=[];r!==null&&r!==n;){var s=r,l=s.alternate,c=s.stateNode;if(l!==null&&l===n)break;s.tag===5&&c!==null&&(s=c,a?(l=Ql(r,o),l!=null&&i.unshift(oc(r,l,s))):a||(l=Ql(r,o),l!=null&&i.push(oc(r,l,s)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var vA=/\r\n?/g,xA=/\u0000|\uFFFD/g;function ex(e){return(typeof e=="string"?e:""+e).replace(vA,`
`).replace(xA,"")}function wu(e,t,r){if(t=ex(t),ex(e)!==t&&r)throw Error(ae(425))}function uf(){}var x0=null,b0=null;function w0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var k0=typeof setTimeout=="function"?setTimeout:void 0,bA=typeof clearTimeout=="function"?clearTimeout:void 0,tx=typeof Promise=="function"?Promise:void 0,wA=typeof queueMicrotask=="function"?queueMicrotask:typeof tx<"u"?function(e){return tx.resolve(null).then(e).catch(kA)}:k0;function kA(e){setTimeout(function(){throw e})}function ap(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),tc(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);tc(t)}function jo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function rx(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Xs=Math.random().toString(36).slice(2),ba="__reactFiber$"+Xs,ic="__reactProps$"+Xs,Ya="__reactContainer$"+Xs,S0="__reactEvents$"+Xs,SA="__reactListeners$"+Xs,jA="__reactHandles$"+Xs;function Jo(e){var t=e[ba];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ya]||r[ba]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=rx(e);e!==null;){if(r=e[ba])return r;e=rx(e)}return t}e=r,r=e.parentNode}return null}function Qc(e){return e=e[ba]||e[Ya],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Vi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ae(33))}function Rd(e){return e[ic]||null}var j0=[],Ki=-1;function To(e){return{current:e}}function Vt(e){0>Ki||(e.current=j0[Ki],j0[Ki]=null,Ki--)}function zt(e,t){Ki++,j0[Ki]=e.current,e.current=t}var Co={},qr=To(Co),vn=To(!1),hi=Co;function ds(e,t){var r=e.type.contextTypes;if(!r)return Co;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},o;for(o in r)a[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function xn(e){return e=e.childContextTypes,e!=null}function ff(){Vt(vn),Vt(qr)}function nx(e,t,r){if(qr.current!==Co)throw Error(ae(168));zt(qr,t),zt(vn,r)}function Wk(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(ae(108,lN(e)||"Unknown",a));return nr({},r,n)}function df(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Co,hi=qr.current,zt(qr,e),zt(vn,vn.current),!0}function ax(e,t,r){var n=e.stateNode;if(!n)throw Error(ae(169));r?(e=Wk(e,t,hi),n.__reactInternalMemoizedMergedChildContext=e,Vt(vn),Vt(qr),zt(qr,e)):Vt(vn),zt(vn,r)}var La=null,Ld=!1,op=!1;function Uk(e){La===null?La=[e]:La.push(e)}function OA(e){Ld=!0,Uk(e)}function $o(){if(!op&&La!==null){op=!0;var e=0,t=St;try{var r=La;for(St=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}La=null,Ld=!1}catch(a){throw La!==null&&(La=La.slice(e+1)),pk(Em,$o),a}finally{St=t,op=!1}}return null}var Xi=[],Yi=0,hf=null,pf=0,Fn=[],zn=0,pi=null,Ia=1,Ba="";function Xo(e,t){Xi[Yi++]=pf,Xi[Yi++]=hf,hf=e,pf=t}function Gk(e,t,r){Fn[zn++]=Ia,Fn[zn++]=Ba,Fn[zn++]=pi,pi=e;var n=Ia;e=Ba;var a=32-sa(n)-1;n&=~(1<<a),r+=1;var o=32-sa(t)+a;if(30<o){var i=a-a%5;o=(n&(1<<i)-1).toString(32),n>>=i,a-=i,Ia=1<<32-sa(t)+a|r<<a|n,Ba=o+e}else Ia=1<<o|r<<a|n,Ba=e}function zm(e){e.return!==null&&(Xo(e,1),Gk(e,1,0))}function Wm(e){for(;e===hf;)hf=Xi[--Yi],Xi[Yi]=null,pf=Xi[--Yi],Xi[Yi]=null;for(;e===pi;)pi=Fn[--zn],Fn[zn]=null,Ba=Fn[--zn],Fn[zn]=null,Ia=Fn[--zn],Fn[zn]=null}var Mn=null,An=null,qt=!1,aa=null;function Hk(e,t){var r=Wn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function ox(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Mn=e,An=jo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Mn=e,An=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=pi!==null?{id:Ia,overflow:Ba}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Wn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Mn=e,An=null,!0):!1;default:return!1}}function O0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function P0(e){if(qt){var t=An;if(t){var r=t;if(!ox(e,t)){if(O0(e))throw Error(ae(418));t=jo(r.nextSibling);var n=Mn;t&&ox(e,t)?Hk(n,r):(e.flags=e.flags&-4097|2,qt=!1,Mn=e)}}else{if(O0(e))throw Error(ae(418));e.flags=e.flags&-4097|2,qt=!1,Mn=e}}}function ix(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Mn=e}function ku(e){if(e!==Mn)return!1;if(!qt)return ix(e),qt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!w0(e.type,e.memoizedProps)),t&&(t=An)){if(O0(e))throw Vk(),Error(ae(418));for(;t;)Hk(e,t),t=jo(t.nextSibling)}if(ix(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ae(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){An=jo(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}An=null}}else An=Mn?jo(e.stateNode.nextSibling):null;return!0}function Vk(){for(var e=An;e;)e=jo(e.nextSibling)}function hs(){An=Mn=null,qt=!1}function Um(e){aa===null?aa=[e]:aa.push(e)}var PA=to.ReactCurrentBatchConfig;function ml(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ae(309));var n=r.stateNode}if(!n)throw Error(ae(147,e));var a=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var s=a.refs;i===null?delete s[o]:s[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(ae(284));if(!r._owner)throw Error(ae(290,e))}return e}function Su(e,t){throw e=Object.prototype.toString.call(t),Error(ae(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function sx(e){var t=e._init;return t(e._payload)}function Kk(e){function t(y,g){if(e){var b=y.deletions;b===null?(y.deletions=[g],y.flags|=16):b.push(g)}}function r(y,g){if(!e)return null;for(;g!==null;)t(y,g),g=g.sibling;return null}function n(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function a(y,g){return y=No(y,g),y.index=0,y.sibling=null,y}function o(y,g,b){return y.index=b,e?(b=y.alternate,b!==null?(b=b.index,b<g?(y.flags|=2,g):b):(y.flags|=2,g)):(y.flags|=1048576,g)}function i(y){return e&&y.alternate===null&&(y.flags|=2),y}function s(y,g,b,S){return g===null||g.tag!==6?(g=dp(b,y.mode,S),g.return=y,g):(g=a(g,b),g.return=y,g)}function l(y,g,b,S){var w=b.type;return w===Wi?u(y,g,b.props.children,S,b.key):g!==null&&(g.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===co&&sx(w)===g.type)?(S=a(g,b.props),S.ref=ml(y,g,b),S.return=y,S):(S=ef(b.type,b.key,b.props,null,y.mode,S),S.ref=ml(y,g,b),S.return=y,S)}function c(y,g,b,S){return g===null||g.tag!==4||g.stateNode.containerInfo!==b.containerInfo||g.stateNode.implementation!==b.implementation?(g=hp(b,y.mode,S),g.return=y,g):(g=a(g,b.children||[]),g.return=y,g)}function u(y,g,b,S,w){return g===null||g.tag!==7?(g=ci(b,y.mode,S,w),g.return=y,g):(g=a(g,b),g.return=y,g)}function d(y,g,b){if(typeof g=="string"&&g!==""||typeof g=="number")return g=dp(""+g,y.mode,b),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case du:return b=ef(g.type,g.key,g.props,null,y.mode,b),b.ref=ml(y,null,g),b.return=y,b;case zi:return g=hp(g,y.mode,b),g.return=y,g;case co:var S=g._init;return d(y,S(g._payload),b)}if(Ml(g)||fl(g))return g=ci(g,y.mode,b,null),g.return=y,g;Su(y,g)}return null}function h(y,g,b,S){var w=g!==null?g.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return w!==null?null:s(y,g,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case du:return b.key===w?l(y,g,b,S):null;case zi:return b.key===w?c(y,g,b,S):null;case co:return w=b._init,h(y,g,w(b._payload),S)}if(Ml(b)||fl(b))return w!==null?null:u(y,g,b,S,null);Su(y,b)}return null}function p(y,g,b,S,w){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(b)||null,s(g,y,""+S,w);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case du:return y=y.get(S.key===null?b:S.key)||null,l(g,y,S,w);case zi:return y=y.get(S.key===null?b:S.key)||null,c(g,y,S,w);case co:var k=S._init;return p(y,g,b,k(S._payload),w)}if(Ml(S)||fl(S))return y=y.get(b)||null,u(g,y,S,w,null);Su(g,S)}return null}function m(y,g,b,S){for(var w=null,k=null,j=g,P=g=0,_=null;j!==null&&P<b.length;P++){j.index>P?(_=j,j=null):_=j.sibling;var A=h(y,j,b[P],S);if(A===null){j===null&&(j=_);break}e&&j&&A.alternate===null&&t(y,j),g=o(A,g,P),k===null?w=A:k.sibling=A,k=A,j=_}if(P===b.length)return r(y,j),qt&&Xo(y,P),w;if(j===null){for(;P<b.length;P++)j=d(y,b[P],S),j!==null&&(g=o(j,g,P),k===null?w=j:k.sibling=j,k=j);return qt&&Xo(y,P),w}for(j=n(y,j);P<b.length;P++)_=p(j,y,P,b[P],S),_!==null&&(e&&_.alternate!==null&&j.delete(_.key===null?P:_.key),g=o(_,g,P),k===null?w=_:k.sibling=_,k=_);return e&&j.forEach(function(N){return t(y,N)}),qt&&Xo(y,P),w}function v(y,g,b,S){var w=fl(b);if(typeof w!="function")throw Error(ae(150));if(b=w.call(b),b==null)throw Error(ae(151));for(var k=w=null,j=g,P=g=0,_=null,A=b.next();j!==null&&!A.done;P++,A=b.next()){j.index>P?(_=j,j=null):_=j.sibling;var N=h(y,j,A.value,S);if(N===null){j===null&&(j=_);break}e&&j&&N.alternate===null&&t(y,j),g=o(N,g,P),k===null?w=N:k.sibling=N,k=N,j=_}if(A.done)return r(y,j),qt&&Xo(y,P),w;if(j===null){for(;!A.done;P++,A=b.next())A=d(y,A.value,S),A!==null&&(g=o(A,g,P),k===null?w=A:k.sibling=A,k=A);return qt&&Xo(y,P),w}for(j=n(y,j);!A.done;P++,A=b.next())A=p(j,y,P,A.value,S),A!==null&&(e&&A.alternate!==null&&j.delete(A.key===null?P:A.key),g=o(A,g,P),k===null?w=A:k.sibling=A,k=A);return e&&j.forEach(function(E){return t(y,E)}),qt&&Xo(y,P),w}function x(y,g,b,S){if(typeof b=="object"&&b!==null&&b.type===Wi&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case du:e:{for(var w=b.key,k=g;k!==null;){if(k.key===w){if(w=b.type,w===Wi){if(k.tag===7){r(y,k.sibling),g=a(k,b.props.children),g.return=y,y=g;break e}}else if(k.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===co&&sx(w)===k.type){r(y,k.sibling),g=a(k,b.props),g.ref=ml(y,k,b),g.return=y,y=g;break e}r(y,k);break}else t(y,k);k=k.sibling}b.type===Wi?(g=ci(b.props.children,y.mode,S,b.key),g.return=y,y=g):(S=ef(b.type,b.key,b.props,null,y.mode,S),S.ref=ml(y,g,b),S.return=y,y=S)}return i(y);case zi:e:{for(k=b.key;g!==null;){if(g.key===k)if(g.tag===4&&g.stateNode.containerInfo===b.containerInfo&&g.stateNode.implementation===b.implementation){r(y,g.sibling),g=a(g,b.children||[]),g.return=y,y=g;break e}else{r(y,g);break}else t(y,g);g=g.sibling}g=hp(b,y.mode,S),g.return=y,y=g}return i(y);case co:return k=b._init,x(y,g,k(b._payload),S)}if(Ml(b))return m(y,g,b,S);if(fl(b))return v(y,g,b,S);Su(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,g!==null&&g.tag===6?(r(y,g.sibling),g=a(g,b),g.return=y,y=g):(r(y,g),g=dp(b,y.mode,S),g.return=y,y=g),i(y)):r(y,g)}return x}var ps=Kk(!0),Xk=Kk(!1),gf=To(null),mf=null,qi=null,Gm=null;function Hm(){Gm=qi=mf=null}function Vm(e){var t=gf.current;Vt(gf),e._currentValue=t}function _0(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function is(e,t){mf=e,Gm=qi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(mn=!0),e.firstContext=null)}function Kn(e){var t=e._currentValue;if(Gm!==e)if(e={context:e,memoizedValue:t,next:null},qi===null){if(mf===null)throw Error(ae(308));qi=e,mf.dependencies={lanes:0,firstContext:e}}else qi=qi.next=e;return t}var ei=null;function Km(e){ei===null?ei=[e]:ei.push(e)}function Yk(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,Km(t)):(r.next=a.next,a.next=r),t.interleaved=r,qa(e,n)}function qa(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var uo=!1;function Xm(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qk(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ua(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Oo(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,pt&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,qa(e,r)}return a=n.interleaved,a===null?(t.next=t,Km(n)):(t.next=a.next,a.next=t),n.interleaved=t,qa(e,r)}function Xu(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Tm(e,r)}}function lx(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?a=o=i:o=o.next=i,r=r.next}while(r!==null);o===null?a=o=t:o=o.next=t}else a=o=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function yf(e,t,r,n){var a=e.updateQueue;uo=!1;var o=a.firstBaseUpdate,i=a.lastBaseUpdate,s=a.shared.pending;if(s!==null){a.shared.pending=null;var l=s,c=l.next;l.next=null,i===null?o=c:i.next=c,i=l;var u=e.alternate;u!==null&&(u=u.updateQueue,s=u.lastBaseUpdate,s!==i&&(s===null?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(o!==null){var d=a.baseState;i=0,u=c=l=null,s=o;do{var h=s.lane,p=s.eventTime;if((n&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var m=e,v=s;switch(h=t,p=r,v.tag){case 1:if(m=v.payload,typeof m=="function"){d=m.call(p,d,h);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=v.payload,h=typeof m=="function"?m.call(p,d,h):m,h==null)break e;d=nr({},d,h);break e;case 2:uo=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,i|=h;if(s=s.next,s===null){if(s=a.shared.pending,s===null)break;h=s,s=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(u===null&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else o===null&&(a.shared.lanes=0);mi|=i,e.lanes=i,e.memoizedState=d}}function cx(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(ae(191,a));a.call(n)}}}var Jc={},ja=To(Jc),sc=To(Jc),lc=To(Jc);function ti(e){if(e===Jc)throw Error(ae(174));return e}function Ym(e,t){switch(zt(lc,t),zt(sc,e),zt(ja,Jc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:s0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=s0(t,e)}Vt(ja),zt(ja,t)}function gs(){Vt(ja),Vt(sc),Vt(lc)}function Zk(e){ti(lc.current);var t=ti(ja.current),r=s0(t,e.type);t!==r&&(zt(sc,e),zt(ja,r))}function qm(e){sc.current===e&&(Vt(ja),Vt(sc))}var tr=To(0);function vf(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ip=[];function Zm(){for(var e=0;e<ip.length;e++)ip[e]._workInProgressVersionPrimary=null;ip.length=0}var Yu=to.ReactCurrentDispatcher,sp=to.ReactCurrentBatchConfig,gi=0,rr=null,Sr=null,Cr=null,xf=!1,Bl=!1,cc=0,_A=0;function Wr(){throw Error(ae(321))}function Qm(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ca(e[r],t[r]))return!1;return!0}function Jm(e,t,r,n,a,o){if(gi=o,rr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Yu.current=e===null||e.memoizedState===null?CA:EA,e=r(n,a),Bl){o=0;do{if(Bl=!1,cc=0,25<=o)throw Error(ae(301));o+=1,Cr=Sr=null,t.updateQueue=null,Yu.current=TA,e=r(n,a)}while(Bl)}if(Yu.current=bf,t=Sr!==null&&Sr.next!==null,gi=0,Cr=Sr=rr=null,xf=!1,t)throw Error(ae(300));return e}function ey(){var e=cc!==0;return cc=0,e}function xa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Cr===null?rr.memoizedState=Cr=e:Cr=Cr.next=e,Cr}function Xn(){if(Sr===null){var e=rr.alternate;e=e!==null?e.memoizedState:null}else e=Sr.next;var t=Cr===null?rr.memoizedState:Cr.next;if(t!==null)Cr=t,Sr=e;else{if(e===null)throw Error(ae(310));Sr=e,e={memoizedState:Sr.memoizedState,baseState:Sr.baseState,baseQueue:Sr.baseQueue,queue:Sr.queue,next:null},Cr===null?rr.memoizedState=Cr=e:Cr=Cr.next=e}return Cr}function uc(e,t){return typeof t=="function"?t(e):t}function lp(e){var t=Xn(),r=t.queue;if(r===null)throw Error(ae(311));r.lastRenderedReducer=e;var n=Sr,a=n.baseQueue,o=r.pending;if(o!==null){if(a!==null){var i=a.next;a.next=o.next,o.next=i}n.baseQueue=a=o,r.pending=null}if(a!==null){o=a.next,n=n.baseState;var s=i=null,l=null,c=o;do{var u=c.lane;if((gi&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=d,i=n):l=l.next=d,rr.lanes|=u,mi|=u}c=c.next}while(c!==null&&c!==o);l===null?i=n:l.next=s,ca(n,t.memoizedState)||(mn=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do o=a.lane,rr.lanes|=o,mi|=o,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function cp(e){var t=Xn(),r=t.queue;if(r===null)throw Error(ae(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,o=t.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do o=e(o,i.action),i=i.next;while(i!==a);ca(o,t.memoizedState)||(mn=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function Qk(){}function Jk(e,t){var r=rr,n=Xn(),a=t(),o=!ca(n.memoizedState,a);if(o&&(n.memoizedState=a,mn=!0),n=n.queue,ty(rS.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||Cr!==null&&Cr.memoizedState.tag&1){if(r.flags|=2048,fc(9,tS.bind(null,r,n,a,t),void 0,null),Er===null)throw Error(ae(349));gi&30||eS(r,t,a)}return a}function eS(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=rr.updateQueue,t===null?(t={lastEffect:null,stores:null},rr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function tS(e,t,r,n){t.value=r,t.getSnapshot=n,nS(t)&&aS(e)}function rS(e,t,r){return r(function(){nS(t)&&aS(e)})}function nS(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ca(e,r)}catch{return!0}}function aS(e){var t=qa(e,1);t!==null&&la(t,e,1,-1)}function ux(e){var t=xa();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:uc,lastRenderedState:e},t.queue=e,e=e.dispatch=MA.bind(null,rr,e),[t.memoizedState,e]}function fc(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=rr.updateQueue,t===null?(t={lastEffect:null,stores:null},rr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function oS(){return Xn().memoizedState}function qu(e,t,r,n){var a=xa();rr.flags|=e,a.memoizedState=fc(1|t,r,void 0,n===void 0?null:n)}function Id(e,t,r,n){var a=Xn();n=n===void 0?null:n;var o=void 0;if(Sr!==null){var i=Sr.memoizedState;if(o=i.destroy,n!==null&&Qm(n,i.deps)){a.memoizedState=fc(t,r,o,n);return}}rr.flags|=e,a.memoizedState=fc(1|t,r,o,n)}function fx(e,t){return qu(8390656,8,e,t)}function ty(e,t){return Id(2048,8,e,t)}function iS(e,t){return Id(4,2,e,t)}function sS(e,t){return Id(4,4,e,t)}function lS(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function cS(e,t,r){return r=r!=null?r.concat([e]):null,Id(4,4,lS.bind(null,t,e),r)}function ry(){}function uS(e,t){var r=Xn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Qm(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function fS(e,t){var r=Xn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Qm(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function dS(e,t,r){return gi&21?(ca(r,t)||(r=yk(),rr.lanes|=r,mi|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,mn=!0),e.memoizedState=r)}function NA(e,t){var r=St;St=r!==0&&4>r?r:4,e(!0);var n=sp.transition;sp.transition={};try{e(!1),t()}finally{St=r,sp.transition=n}}function hS(){return Xn().memoizedState}function AA(e,t,r){var n=_o(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},pS(e))gS(t,r);else if(r=Yk(e,t,r,n),r!==null){var a=fn();la(r,e,n,a),mS(r,t,n)}}function MA(e,t,r){var n=_o(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(pS(e))gS(t,a);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,s=o(i,r);if(a.hasEagerState=!0,a.eagerState=s,ca(s,i)){var l=t.interleaved;l===null?(a.next=a,Km(t)):(a.next=l.next,l.next=a),t.interleaved=a;return}}catch{}finally{}r=Yk(e,t,a,n),r!==null&&(a=fn(),la(r,e,n,a),mS(r,t,n))}}function pS(e){var t=e.alternate;return e===rr||t!==null&&t===rr}function gS(e,t){Bl=xf=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function mS(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Tm(e,r)}}var bf={readContext:Kn,useCallback:Wr,useContext:Wr,useEffect:Wr,useImperativeHandle:Wr,useInsertionEffect:Wr,useLayoutEffect:Wr,useMemo:Wr,useReducer:Wr,useRef:Wr,useState:Wr,useDebugValue:Wr,useDeferredValue:Wr,useTransition:Wr,useMutableSource:Wr,useSyncExternalStore:Wr,useId:Wr,unstable_isNewReconciler:!1},CA={readContext:Kn,useCallback:function(e,t){return xa().memoizedState=[e,t===void 0?null:t],e},useContext:Kn,useEffect:fx,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,qu(4194308,4,lS.bind(null,t,e),r)},useLayoutEffect:function(e,t){return qu(4194308,4,e,t)},useInsertionEffect:function(e,t){return qu(4,2,e,t)},useMemo:function(e,t){var r=xa();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=xa();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=AA.bind(null,rr,e),[n.memoizedState,e]},useRef:function(e){var t=xa();return e={current:e},t.memoizedState=e},useState:ux,useDebugValue:ry,useDeferredValue:function(e){return xa().memoizedState=e},useTransition:function(){var e=ux(!1),t=e[0];return e=NA.bind(null,e[1]),xa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=rr,a=xa();if(qt){if(r===void 0)throw Error(ae(407));r=r()}else{if(r=t(),Er===null)throw Error(ae(349));gi&30||eS(n,t,r)}a.memoizedState=r;var o={value:r,getSnapshot:t};return a.queue=o,fx(rS.bind(null,n,o,e),[e]),n.flags|=2048,fc(9,tS.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=xa(),t=Er.identifierPrefix;if(qt){var r=Ba,n=Ia;r=(n&~(1<<32-sa(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=cc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=_A++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},EA={readContext:Kn,useCallback:uS,useContext:Kn,useEffect:ty,useImperativeHandle:cS,useInsertionEffect:iS,useLayoutEffect:sS,useMemo:fS,useReducer:lp,useRef:oS,useState:function(){return lp(uc)},useDebugValue:ry,useDeferredValue:function(e){var t=Xn();return dS(t,Sr.memoizedState,e)},useTransition:function(){var e=lp(uc)[0],t=Xn().memoizedState;return[e,t]},useMutableSource:Qk,useSyncExternalStore:Jk,useId:hS,unstable_isNewReconciler:!1},TA={readContext:Kn,useCallback:uS,useContext:Kn,useEffect:ty,useImperativeHandle:cS,useInsertionEffect:iS,useLayoutEffect:sS,useMemo:fS,useReducer:cp,useRef:oS,useState:function(){return cp(uc)},useDebugValue:ry,useDeferredValue:function(e){var t=Xn();return Sr===null?t.memoizedState=e:dS(t,Sr.memoizedState,e)},useTransition:function(){var e=cp(uc)[0],t=Xn().memoizedState;return[e,t]},useMutableSource:Qk,useSyncExternalStore:Jk,useId:hS,unstable_isNewReconciler:!1};function ea(e,t){if(e&&e.defaultProps){t=nr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function N0(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:nr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Bd={isMounted:function(e){return(e=e._reactInternals)?Pi(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=fn(),a=_o(e),o=Ua(n,a);o.payload=t,r!=null&&(o.callback=r),t=Oo(e,o,a),t!==null&&(la(t,e,a,n),Xu(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=fn(),a=_o(e),o=Ua(n,a);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=Oo(e,o,a),t!==null&&(la(t,e,a,n),Xu(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=fn(),n=_o(e),a=Ua(r,n);a.tag=2,t!=null&&(a.callback=t),t=Oo(e,a,n),t!==null&&(la(t,e,n,r),Xu(t,e,n))}};function dx(e,t,r,n,a,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,i):t.prototype&&t.prototype.isPureReactComponent?!nc(r,n)||!nc(a,o):!0}function yS(e,t,r){var n=!1,a=Co,o=t.contextType;return typeof o=="object"&&o!==null?o=Kn(o):(a=xn(t)?hi:qr.current,n=t.contextTypes,o=(n=n!=null)?ds(e,a):Co),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Bd,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function hx(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Bd.enqueueReplaceState(t,t.state,null)}function A0(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Xm(e);var o=t.contextType;typeof o=="object"&&o!==null?a.context=Kn(o):(o=xn(t)?hi:qr.current,a.context=ds(e,o)),a.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(N0(e,t,o,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Bd.enqueueReplaceState(a,a.state,null),yf(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function ms(e,t){try{var r="",n=t;do r+=sN(n),n=n.return;while(n);var a=r}catch(o){a=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:a,digest:null}}function up(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function M0(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var $A=typeof WeakMap=="function"?WeakMap:Map;function vS(e,t,r){r=Ua(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){kf||(kf=!0,F0=n),M0(e,t)},r}function xS(e,t,r){r=Ua(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){M0(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){M0(e,t),typeof n!="function"&&(Po===null?Po=new Set([this]):Po.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function px(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new $A;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=XA.bind(null,e,t,r),t.then(e,e))}function gx(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function mx(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ua(-1,1),t.tag=2,Oo(r,t,1))),r.lanes|=1),e)}var DA=to.ReactCurrentOwner,mn=!1;function ln(e,t,r,n){t.child=e===null?Xk(t,null,r,n):ps(t,e.child,r,n)}function yx(e,t,r,n,a){r=r.render;var o=t.ref;return is(t,a),n=Jm(e,t,r,n,o,a),r=ey(),e!==null&&!mn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Za(e,t,a)):(qt&&r&&zm(t),t.flags|=1,ln(e,t,n,a),t.child)}function vx(e,t,r,n,a){if(e===null){var o=r.type;return typeof o=="function"&&!uy(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,bS(e,t,o,n,a)):(e=ef(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&a)){var i=o.memoizedProps;if(r=r.compare,r=r!==null?r:nc,r(i,n)&&e.ref===t.ref)return Za(e,t,a)}return t.flags|=1,e=No(o,n),e.ref=t.ref,e.return=t,t.child=e}function bS(e,t,r,n,a){if(e!==null){var o=e.memoizedProps;if(nc(o,n)&&e.ref===t.ref)if(mn=!1,t.pendingProps=n=o,(e.lanes&a)!==0)e.flags&131072&&(mn=!0);else return t.lanes=e.lanes,Za(e,t,a)}return C0(e,t,r,n,a)}function wS(e,t,r){var n=t.pendingProps,a=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},zt(Qi,Pn),Pn|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,zt(Qi,Pn),Pn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,zt(Qi,Pn),Pn|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,zt(Qi,Pn),Pn|=n;return ln(e,t,a,r),t.child}function kS(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function C0(e,t,r,n,a){var o=xn(r)?hi:qr.current;return o=ds(t,o),is(t,a),r=Jm(e,t,r,n,o,a),n=ey(),e!==null&&!mn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Za(e,t,a)):(qt&&n&&zm(t),t.flags|=1,ln(e,t,r,a),t.child)}function xx(e,t,r,n,a){if(xn(r)){var o=!0;df(t)}else o=!1;if(is(t,a),t.stateNode===null)Zu(e,t),yS(t,r,n),A0(t,r,n,a),n=!0;else if(e===null){var i=t.stateNode,s=t.memoizedProps;i.props=s;var l=i.context,c=r.contextType;typeof c=="object"&&c!==null?c=Kn(c):(c=xn(r)?hi:qr.current,c=ds(t,c));var u=r.getDerivedStateFromProps,d=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function";d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(s!==n||l!==c)&&hx(t,i,n,c),uo=!1;var h=t.memoizedState;i.state=h,yf(t,n,i,a),l=t.memoizedState,s!==n||h!==l||vn.current||uo?(typeof u=="function"&&(N0(t,r,u,n),l=t.memoizedState),(s=uo||dx(t,r,s,n,h,l,c))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),i.props=n,i.state=l,i.context=c,n=s):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,qk(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ea(t.type,s),i.props=c,d=t.pendingProps,h=i.context,l=r.contextType,typeof l=="object"&&l!==null?l=Kn(l):(l=xn(r)?hi:qr.current,l=ds(t,l));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(s!==d||h!==l)&&hx(t,i,n,l),uo=!1,h=t.memoizedState,i.state=h,yf(t,n,i,a);var m=t.memoizedState;s!==d||h!==m||vn.current||uo?(typeof p=="function"&&(N0(t,r,p,n),m=t.memoizedState),(c=uo||dx(t,r,c,n,h,m,l)||!1)?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,m,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,m,l)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),i.props=n,i.state=m,i.context=l,n=c):(typeof i.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return E0(e,t,r,n,o,a)}function E0(e,t,r,n,a,o){kS(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return a&&ax(t,r,!1),Za(e,t,o);n=t.stateNode,DA.current=t;var s=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=ps(t,e.child,null,o),t.child=ps(t,null,s,o)):ln(e,t,s,o),t.memoizedState=n.state,a&&ax(t,r,!0),t.child}function SS(e){var t=e.stateNode;t.pendingContext?nx(e,t.pendingContext,t.pendingContext!==t.context):t.context&&nx(e,t.context,!1),Ym(e,t.containerInfo)}function bx(e,t,r,n,a){return hs(),Um(a),t.flags|=256,ln(e,t,r,n),t.child}var T0={dehydrated:null,treeContext:null,retryLane:0};function $0(e){return{baseLanes:e,cachePool:null,transitions:null}}function jS(e,t,r){var n=t.pendingProps,a=tr.current,o=!1,i=(t.flags&128)!==0,s;if((s=i)||(s=e!==null&&e.memoizedState===null?!1:(a&2)!==0),s?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),zt(tr,a&1),e===null)return P0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,o?(n=t.mode,o=t.child,i={mode:"hidden",children:i},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Wd(i,n,0,null),e=ci(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=$0(r),t.memoizedState=T0,e):ny(t,i));if(a=e.memoizedState,a!==null&&(s=a.dehydrated,s!==null))return RA(e,t,i,n,s,a,r);if(o){o=n.fallback,i=t.mode,a=e.child,s=a.sibling;var l={mode:"hidden",children:n.children};return!(i&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=No(a,l),n.subtreeFlags=a.subtreeFlags&14680064),s!==null?o=No(s,o):(o=ci(o,i,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,i=e.child.memoizedState,i=i===null?$0(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~r,t.memoizedState=T0,n}return o=e.child,e=o.sibling,n=No(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function ny(e,t){return t=Wd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ju(e,t,r,n){return n!==null&&Um(n),ps(t,e.child,null,r),e=ny(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function RA(e,t,r,n,a,o,i){if(r)return t.flags&256?(t.flags&=-257,n=up(Error(ae(422))),ju(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,a=t.mode,n=Wd({mode:"visible",children:n.children},a,0,null),o=ci(o,a,i,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&ps(t,e.child,null,i),t.child.memoizedState=$0(i),t.memoizedState=T0,o);if(!(t.mode&1))return ju(e,t,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var s=n.dgst;return n=s,o=Error(ae(419)),n=up(o,n,void 0),ju(e,t,i,n)}if(s=(i&e.childLanes)!==0,mn||s){if(n=Er,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==o.retryLane&&(o.retryLane=a,qa(e,a),la(n,e,a,-1))}return cy(),n=up(Error(ae(421))),ju(e,t,i,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=YA.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,An=jo(a.nextSibling),Mn=t,qt=!0,aa=null,e!==null&&(Fn[zn++]=Ia,Fn[zn++]=Ba,Fn[zn++]=pi,Ia=e.id,Ba=e.overflow,pi=t),t=ny(t,n.children),t.flags|=4096,t)}function wx(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),_0(e.return,t,r)}function fp(e,t,r,n,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=a)}function OS(e,t,r){var n=t.pendingProps,a=n.revealOrder,o=n.tail;if(ln(e,t,n.children,r),n=tr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&wx(e,r,t);else if(e.tag===19)wx(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(zt(tr,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&vf(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),fp(t,!1,a,r,o);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&vf(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}fp(t,!0,r,null,o);break;case"together":fp(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Zu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Za(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),mi|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ae(153));if(t.child!==null){for(e=t.child,r=No(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=No(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function LA(e,t,r){switch(t.tag){case 3:SS(t),hs();break;case 5:Zk(t);break;case 1:xn(t.type)&&df(t);break;case 4:Ym(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;zt(gf,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(zt(tr,tr.current&1),t.flags|=128,null):r&t.child.childLanes?jS(e,t,r):(zt(tr,tr.current&1),e=Za(e,t,r),e!==null?e.sibling:null);zt(tr,tr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return OS(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),zt(tr,tr.current),n)break;return null;case 22:case 23:return t.lanes=0,wS(e,t,r)}return Za(e,t,r)}var PS,D0,_S,NS;PS=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};D0=function(){};_S=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,ti(ja.current);var o=null;switch(r){case"input":a=n0(e,a),n=n0(e,n),o=[];break;case"select":a=nr({},a,{value:void 0}),n=nr({},n,{value:void 0}),o=[];break;case"textarea":a=i0(e,a),n=i0(e,n),o=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=uf)}l0(r,n);var i;r=null;for(c in a)if(!n.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var s=a[c];for(i in s)s.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ql.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in n){var l=n[c];if(s=a!=null?a[c]:void 0,n.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(i in s)!s.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in l)l.hasOwnProperty(i)&&s[i]!==l[i]&&(r||(r={}),r[i]=l[i])}else r||(o||(o=[]),o.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ql.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ut("scroll",e),o||s===l||(o=[])):(o=o||[]).push(c,l))}r&&(o=o||[]).push("style",r);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};NS=function(e,t,r,n){r!==n&&(t.flags|=4)};function yl(e,t){if(!qt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ur(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function IA(e,t,r){var n=t.pendingProps;switch(Wm(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ur(t),null;case 1:return xn(t.type)&&ff(),Ur(t),null;case 3:return n=t.stateNode,gs(),Vt(vn),Vt(qr),Zm(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ku(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,aa!==null&&(U0(aa),aa=null))),D0(e,t),Ur(t),null;case 5:qm(t);var a=ti(lc.current);if(r=t.type,e!==null&&t.stateNode!=null)_S(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ae(166));return Ur(t),null}if(e=ti(ja.current),ku(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[ba]=t,n[ic]=o,e=(t.mode&1)!==0,r){case"dialog":Ut("cancel",n),Ut("close",n);break;case"iframe":case"object":case"embed":Ut("load",n);break;case"video":case"audio":for(a=0;a<El.length;a++)Ut(El[a],n);break;case"source":Ut("error",n);break;case"img":case"image":case"link":Ut("error",n),Ut("load",n);break;case"details":Ut("toggle",n);break;case"input":Mv(n,o),Ut("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Ut("invalid",n);break;case"textarea":Ev(n,o),Ut("invalid",n)}l0(r,o),a=null;for(var i in o)if(o.hasOwnProperty(i)){var s=o[i];i==="children"?typeof s=="string"?n.textContent!==s&&(o.suppressHydrationWarning!==!0&&wu(n.textContent,s,e),a=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&wu(n.textContent,s,e),a=["children",""+s]):ql.hasOwnProperty(i)&&s!=null&&i==="onScroll"&&Ut("scroll",n)}switch(r){case"input":hu(n),Cv(n,o,!0);break;case"textarea":hu(n),Tv(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=uf)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=rk(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[ba]=t,e[ic]=n,PS(e,t,!1,!1),t.stateNode=e;e:{switch(i=c0(r,n),r){case"dialog":Ut("cancel",e),Ut("close",e),a=n;break;case"iframe":case"object":case"embed":Ut("load",e),a=n;break;case"video":case"audio":for(a=0;a<El.length;a++)Ut(El[a],e);a=n;break;case"source":Ut("error",e),a=n;break;case"img":case"image":case"link":Ut("error",e),Ut("load",e),a=n;break;case"details":Ut("toggle",e),a=n;break;case"input":Mv(e,n),a=n0(e,n),Ut("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=nr({},n,{value:void 0}),Ut("invalid",e);break;case"textarea":Ev(e,n),a=i0(e,n),Ut("invalid",e);break;default:a=n}l0(r,a),s=a;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?ok(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&nk(e,l)):o==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Zl(e,l):typeof l=="number"&&Zl(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ql.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Ut("scroll",e):l!=null&&_m(e,o,l,i))}switch(r){case"input":hu(e),Cv(e,n,!1);break;case"textarea":hu(e),Tv(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Mo(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?rs(e,!!n.multiple,o,!1):n.defaultValue!=null&&rs(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=uf)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ur(t),null;case 6:if(e&&t.stateNode!=null)NS(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ae(166));if(r=ti(lc.current),ti(ja.current),ku(t)){if(n=t.stateNode,r=t.memoizedProps,n[ba]=t,(o=n.nodeValue!==r)&&(e=Mn,e!==null))switch(e.tag){case 3:wu(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&wu(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ba]=t,t.stateNode=n}return Ur(t),null;case 13:if(Vt(tr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(qt&&An!==null&&t.mode&1&&!(t.flags&128))Vk(),hs(),t.flags|=98560,o=!1;else if(o=ku(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(ae(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ae(317));o[ba]=t}else hs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ur(t),o=!1}else aa!==null&&(U0(aa),aa=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||tr.current&1?jr===0&&(jr=3):cy())),t.updateQueue!==null&&(t.flags|=4),Ur(t),null);case 4:return gs(),D0(e,t),e===null&&ac(t.stateNode.containerInfo),Ur(t),null;case 10:return Vm(t.type._context),Ur(t),null;case 17:return xn(t.type)&&ff(),Ur(t),null;case 19:if(Vt(tr),o=t.memoizedState,o===null)return Ur(t),null;if(n=(t.flags&128)!==0,i=o.rendering,i===null)if(n)yl(o,!1);else{if(jr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=vf(e),i!==null){for(t.flags|=128,yl(o,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return zt(tr,tr.current&1|2),t.child}e=e.sibling}o.tail!==null&&dr()>ys&&(t.flags|=128,n=!0,yl(o,!1),t.lanes=4194304)}else{if(!n)if(e=vf(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),yl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!qt)return Ur(t),null}else 2*dr()-o.renderingStartTime>ys&&r!==1073741824&&(t.flags|=128,n=!0,yl(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(r=o.last,r!==null?r.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=dr(),t.sibling=null,r=tr.current,zt(tr,n?r&1|2:r&1),t):(Ur(t),null);case 22:case 23:return ly(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Pn&1073741824&&(Ur(t),t.subtreeFlags&6&&(t.flags|=8192)):Ur(t),null;case 24:return null;case 25:return null}throw Error(ae(156,t.tag))}function BA(e,t){switch(Wm(t),t.tag){case 1:return xn(t.type)&&ff(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return gs(),Vt(vn),Vt(qr),Zm(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return qm(t),null;case 13:if(Vt(tr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ae(340));hs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Vt(tr),null;case 4:return gs(),null;case 10:return Vm(t.type._context),null;case 22:case 23:return ly(),null;case 24:return null;default:return null}}var Ou=!1,Vr=!1,FA=typeof WeakSet=="function"?WeakSet:Set,ge=null;function Zi(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){sr(e,t,n)}else r.current=null}function R0(e,t,r){try{r()}catch(n){sr(e,t,n)}}var kx=!1;function zA(e,t){if(x0=sf,e=Tk(),Fm(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var i=0,s=-1,l=-1,c=0,u=0,d=e,h=null;t:for(;;){for(var p;d!==r||a!==0&&d.nodeType!==3||(s=i+a),d!==o||n!==0&&d.nodeType!==3||(l=i+n),d.nodeType===3&&(i+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===e)break t;if(h===r&&++c===a&&(s=i),h===o&&++u===n&&(l=i),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}r=s===-1||l===-1?null:{start:s,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(b0={focusedElem:e,selectionRange:r},sf=!1,ge=t;ge!==null;)if(t=ge,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ge=e;else for(;ge!==null;){t=ge;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var v=m.memoizedProps,x=m.memoizedState,y=t.stateNode,g=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:ea(t.type,v),x);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ae(163))}}catch(S){sr(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,ge=e;break}ge=t.return}return m=kx,kx=!1,m}function Fl(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,o!==void 0&&R0(t,r,o)}a=a.next}while(a!==n)}}function Fd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function L0(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function AS(e){var t=e.alternate;t!==null&&(e.alternate=null,AS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ba],delete t[ic],delete t[S0],delete t[SA],delete t[jA])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function MS(e){return e.tag===5||e.tag===3||e.tag===4}function Sx(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||MS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function I0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=uf));else if(n!==4&&(e=e.child,e!==null))for(I0(e,t,r),e=e.sibling;e!==null;)I0(e,t,r),e=e.sibling}function B0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(B0(e,t,r),e=e.sibling;e!==null;)B0(e,t,r),e=e.sibling}var Rr=null,ta=!1;function so(e,t,r){for(r=r.child;r!==null;)CS(e,t,r),r=r.sibling}function CS(e,t,r){if(Sa&&typeof Sa.onCommitFiberUnmount=="function")try{Sa.onCommitFiberUnmount(Ed,r)}catch{}switch(r.tag){case 5:Vr||Zi(r,t);case 6:var n=Rr,a=ta;Rr=null,so(e,t,r),Rr=n,ta=a,Rr!==null&&(ta?(e=Rr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Rr.removeChild(r.stateNode));break;case 18:Rr!==null&&(ta?(e=Rr,r=r.stateNode,e.nodeType===8?ap(e.parentNode,r):e.nodeType===1&&ap(e,r),tc(e)):ap(Rr,r.stateNode));break;case 4:n=Rr,a=ta,Rr=r.stateNode.containerInfo,ta=!0,so(e,t,r),Rr=n,ta=a;break;case 0:case 11:case 14:case 15:if(!Vr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var o=a,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&R0(r,t,i),a=a.next}while(a!==n)}so(e,t,r);break;case 1:if(!Vr&&(Zi(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){sr(r,t,s)}so(e,t,r);break;case 21:so(e,t,r);break;case 22:r.mode&1?(Vr=(n=Vr)||r.memoizedState!==null,so(e,t,r),Vr=n):so(e,t,r);break;default:so(e,t,r)}}function jx(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new FA),t.forEach(function(n){var a=qA.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Qn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var o=e,i=t,s=i;e:for(;s!==null;){switch(s.tag){case 5:Rr=s.stateNode,ta=!1;break e;case 3:Rr=s.stateNode.containerInfo,ta=!0;break e;case 4:Rr=s.stateNode.containerInfo,ta=!0;break e}s=s.return}if(Rr===null)throw Error(ae(160));CS(o,i,a),Rr=null,ta=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(c){sr(a,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ES(t,e),t=t.sibling}function ES(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Qn(t,e),va(e),n&4){try{Fl(3,e,e.return),Fd(3,e)}catch(v){sr(e,e.return,v)}try{Fl(5,e,e.return)}catch(v){sr(e,e.return,v)}}break;case 1:Qn(t,e),va(e),n&512&&r!==null&&Zi(r,r.return);break;case 5:if(Qn(t,e),va(e),n&512&&r!==null&&Zi(r,r.return),e.flags&32){var a=e.stateNode;try{Zl(a,"")}catch(v){sr(e,e.return,v)}}if(n&4&&(a=e.stateNode,a!=null)){var o=e.memoizedProps,i=r!==null?r.memoizedProps:o,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&ek(a,o),c0(s,i);var c=c0(s,o);for(i=0;i<l.length;i+=2){var u=l[i],d=l[i+1];u==="style"?ok(a,d):u==="dangerouslySetInnerHTML"?nk(a,d):u==="children"?Zl(a,d):_m(a,u,d,c)}switch(s){case"input":a0(a,o);break;case"textarea":tk(a,o);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?rs(a,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?rs(a,!!o.multiple,o.defaultValue,!0):rs(a,!!o.multiple,o.multiple?[]:"",!1))}a[ic]=o}catch(v){sr(e,e.return,v)}}break;case 6:if(Qn(t,e),va(e),n&4){if(e.stateNode===null)throw Error(ae(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(v){sr(e,e.return,v)}}break;case 3:if(Qn(t,e),va(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{tc(t.containerInfo)}catch(v){sr(e,e.return,v)}break;case 4:Qn(t,e),va(e);break;case 13:Qn(t,e),va(e),a=e.child,a.flags&8192&&(o=a.memoizedState!==null,a.stateNode.isHidden=o,!o||a.alternate!==null&&a.alternate.memoizedState!==null||(iy=dr())),n&4&&jx(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(Vr=(c=Vr)||u,Qn(t,e),Vr=c):Qn(t,e),va(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(ge=e,u=e.child;u!==null;){for(d=ge=u;ge!==null;){switch(h=ge,p=h.child,h.tag){case 0:case 11:case 14:case 15:Fl(4,h,h.return);break;case 1:Zi(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(v){sr(n,r,v)}}break;case 5:Zi(h,h.return);break;case 22:if(h.memoizedState!==null){Px(d);continue}}p!==null?(p.return=h,ge=p):Px(d)}u=u.sibling}e:for(u=null,d=e;;){if(d.tag===5){if(u===null){u=d;try{a=d.stateNode,c?(o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=d.stateNode,l=d.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=ak("display",i))}catch(v){sr(e,e.return,v)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(v){sr(e,e.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Qn(t,e),va(e),n&4&&jx(e);break;case 21:break;default:Qn(t,e),va(e)}}function va(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(MS(r)){var n=r;break e}r=r.return}throw Error(ae(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Zl(a,""),n.flags&=-33);var o=Sx(e);B0(e,o,a);break;case 3:case 4:var i=n.stateNode.containerInfo,s=Sx(e);I0(e,s,i);break;default:throw Error(ae(161))}}catch(l){sr(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function WA(e,t,r){ge=e,TS(e)}function TS(e,t,r){for(var n=(e.mode&1)!==0;ge!==null;){var a=ge,o=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||Ou;if(!i){var s=a.alternate,l=s!==null&&s.memoizedState!==null||Vr;s=Ou;var c=Vr;if(Ou=i,(Vr=l)&&!c)for(ge=a;ge!==null;)i=ge,l=i.child,i.tag===22&&i.memoizedState!==null?_x(a):l!==null?(l.return=i,ge=l):_x(a);for(;o!==null;)ge=o,TS(o),o=o.sibling;ge=a,Ou=s,Vr=c}Ox(e)}else a.subtreeFlags&8772&&o!==null?(o.return=a,ge=o):Ox(e)}}function Ox(e){for(;ge!==null;){var t=ge;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Vr||Fd(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Vr)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:ea(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&cx(t,o,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}cx(t,i,r)}break;case 5:var s=t.stateNode;if(r===null&&t.flags&4){r=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&tc(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ae(163))}Vr||t.flags&512&&L0(t)}catch(h){sr(t,t.return,h)}}if(t===e){ge=null;break}if(r=t.sibling,r!==null){r.return=t.return,ge=r;break}ge=t.return}}function Px(e){for(;ge!==null;){var t=ge;if(t===e){ge=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ge=r;break}ge=t.return}}function _x(e){for(;ge!==null;){var t=ge;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Fd(4,t)}catch(l){sr(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(l){sr(t,a,l)}}var o=t.return;try{L0(t)}catch(l){sr(t,o,l)}break;case 5:var i=t.return;try{L0(t)}catch(l){sr(t,i,l)}}}catch(l){sr(t,t.return,l)}if(t===e){ge=null;break}var s=t.sibling;if(s!==null){s.return=t.return,ge=s;break}ge=t.return}}var UA=Math.ceil,wf=to.ReactCurrentDispatcher,ay=to.ReactCurrentOwner,Hn=to.ReactCurrentBatchConfig,pt=0,Er=null,vr=null,Ir=0,Pn=0,Qi=To(0),jr=0,dc=null,mi=0,zd=0,oy=0,zl=null,gn=null,iy=0,ys=1/0,Ra=null,kf=!1,F0=null,Po=null,Pu=!1,yo=null,Sf=0,Wl=0,z0=null,Qu=-1,Ju=0;function fn(){return pt&6?dr():Qu!==-1?Qu:Qu=dr()}function _o(e){return e.mode&1?pt&2&&Ir!==0?Ir&-Ir:PA.transition!==null?(Ju===0&&(Ju=yk()),Ju):(e=St,e!==0||(e=window.event,e=e===void 0?16:jk(e.type)),e):1}function la(e,t,r,n){if(50<Wl)throw Wl=0,z0=null,Error(ae(185));qc(e,r,n),(!(pt&2)||e!==Er)&&(e===Er&&(!(pt&2)&&(zd|=r),jr===4&&po(e,Ir)),bn(e,n),r===1&&pt===0&&!(t.mode&1)&&(ys=dr()+500,Ld&&$o()))}function bn(e,t){var r=e.callbackNode;PN(e,t);var n=of(e,e===Er?Ir:0);if(n===0)r!==null&&Rv(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Rv(r),t===1)e.tag===0?OA(Nx.bind(null,e)):Uk(Nx.bind(null,e)),wA(function(){!(pt&6)&&$o()}),r=null;else{switch(vk(n)){case 1:r=Em;break;case 4:r=gk;break;case 16:r=af;break;case 536870912:r=mk;break;default:r=af}r=zS(r,$S.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function $S(e,t){if(Qu=-1,Ju=0,pt&6)throw Error(ae(327));var r=e.callbackNode;if(ss()&&e.callbackNode!==r)return null;var n=of(e,e===Er?Ir:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=jf(e,n);else{t=n;var a=pt;pt|=2;var o=RS();(Er!==e||Ir!==t)&&(Ra=null,ys=dr()+500,li(e,t));do try{VA();break}catch(s){DS(e,s)}while(!0);Hm(),wf.current=o,pt=a,vr!==null?t=0:(Er=null,Ir=0,t=jr)}if(t!==0){if(t===2&&(a=p0(e),a!==0&&(n=a,t=W0(e,a))),t===1)throw r=dc,li(e,0),po(e,n),bn(e,dr()),r;if(t===6)po(e,n);else{if(a=e.current.alternate,!(n&30)&&!GA(a)&&(t=jf(e,n),t===2&&(o=p0(e),o!==0&&(n=o,t=W0(e,o))),t===1))throw r=dc,li(e,0),po(e,n),bn(e,dr()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(ae(345));case 2:Yo(e,gn,Ra);break;case 3:if(po(e,n),(n&130023424)===n&&(t=iy+500-dr(),10<t)){if(of(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){fn(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=k0(Yo.bind(null,e,gn,Ra),t);break}Yo(e,gn,Ra);break;case 4:if(po(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var i=31-sa(n);o=1<<i,i=t[i],i>a&&(a=i),n&=~o}if(n=a,n=dr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*UA(n/1960))-n,10<n){e.timeoutHandle=k0(Yo.bind(null,e,gn,Ra),n);break}Yo(e,gn,Ra);break;case 5:Yo(e,gn,Ra);break;default:throw Error(ae(329))}}}return bn(e,dr()),e.callbackNode===r?$S.bind(null,e):null}function W0(e,t){var r=zl;return e.current.memoizedState.isDehydrated&&(li(e,t).flags|=256),e=jf(e,t),e!==2&&(t=gn,gn=r,t!==null&&U0(t)),e}function U0(e){gn===null?gn=e:gn.push.apply(gn,e)}function GA(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],o=a.getSnapshot;a=a.value;try{if(!ca(o(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function po(e,t){for(t&=~oy,t&=~zd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-sa(t),n=1<<r;e[r]=-1,t&=~n}}function Nx(e){if(pt&6)throw Error(ae(327));ss();var t=of(e,0);if(!(t&1))return bn(e,dr()),null;var r=jf(e,t);if(e.tag!==0&&r===2){var n=p0(e);n!==0&&(t=n,r=W0(e,n))}if(r===1)throw r=dc,li(e,0),po(e,t),bn(e,dr()),r;if(r===6)throw Error(ae(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Yo(e,gn,Ra),bn(e,dr()),null}function sy(e,t){var r=pt;pt|=1;try{return e(t)}finally{pt=r,pt===0&&(ys=dr()+500,Ld&&$o())}}function yi(e){yo!==null&&yo.tag===0&&!(pt&6)&&ss();var t=pt;pt|=1;var r=Hn.transition,n=St;try{if(Hn.transition=null,St=1,e)return e()}finally{St=n,Hn.transition=r,pt=t,!(pt&6)&&$o()}}function ly(){Pn=Qi.current,Vt(Qi)}function li(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,bA(r)),vr!==null)for(r=vr.return;r!==null;){var n=r;switch(Wm(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ff();break;case 3:gs(),Vt(vn),Vt(qr),Zm();break;case 5:qm(n);break;case 4:gs();break;case 13:Vt(tr);break;case 19:Vt(tr);break;case 10:Vm(n.type._context);break;case 22:case 23:ly()}r=r.return}if(Er=e,vr=e=No(e.current,null),Ir=Pn=t,jr=0,dc=null,oy=zd=mi=0,gn=zl=null,ei!==null){for(t=0;t<ei.length;t++)if(r=ei[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,o=r.pending;if(o!==null){var i=o.next;o.next=a,n.next=i}r.pending=n}ei=null}return e}function DS(e,t){do{var r=vr;try{if(Hm(),Yu.current=bf,xf){for(var n=rr.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}xf=!1}if(gi=0,Cr=Sr=rr=null,Bl=!1,cc=0,ay.current=null,r===null||r.return===null){jr=1,dc=t,vr=null;break}e:{var o=e,i=r.return,s=r,l=t;if(t=Ir,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=s,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=gx(i);if(p!==null){p.flags&=-257,mx(p,i,s,o,t),p.mode&1&&px(o,c,t),t=p,l=c;var m=t.updateQueue;if(m===null){var v=new Set;v.add(l),t.updateQueue=v}else m.add(l);break e}else{if(!(t&1)){px(o,c,t),cy();break e}l=Error(ae(426))}}else if(qt&&s.mode&1){var x=gx(i);if(x!==null){!(x.flags&65536)&&(x.flags|=256),mx(x,i,s,o,t),Um(ms(l,s));break e}}o=l=ms(l,s),jr!==4&&(jr=2),zl===null?zl=[o]:zl.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var y=vS(o,l,t);lx(o,y);break e;case 1:s=l;var g=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Po===null||!Po.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t;var S=xS(o,s,t);lx(o,S);break e}}o=o.return}while(o!==null)}IS(r)}catch(w){t=w,vr===r&&r!==null&&(vr=r=r.return);continue}break}while(!0)}function RS(){var e=wf.current;return wf.current=bf,e===null?bf:e}function cy(){(jr===0||jr===3||jr===2)&&(jr=4),Er===null||!(mi&268435455)&&!(zd&268435455)||po(Er,Ir)}function jf(e,t){var r=pt;pt|=2;var n=RS();(Er!==e||Ir!==t)&&(Ra=null,li(e,t));do try{HA();break}catch(a){DS(e,a)}while(!0);if(Hm(),pt=r,wf.current=n,vr!==null)throw Error(ae(261));return Er=null,Ir=0,jr}function HA(){for(;vr!==null;)LS(vr)}function VA(){for(;vr!==null&&!yN();)LS(vr)}function LS(e){var t=FS(e.alternate,e,Pn);e.memoizedProps=e.pendingProps,t===null?IS(e):vr=t,ay.current=null}function IS(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=BA(r,t),r!==null){r.flags&=32767,vr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{jr=6,vr=null;return}}else if(r=IA(r,t,Pn),r!==null){vr=r;return}if(t=t.sibling,t!==null){vr=t;return}vr=t=e}while(t!==null);jr===0&&(jr=5)}function Yo(e,t,r){var n=St,a=Hn.transition;try{Hn.transition=null,St=1,KA(e,t,r,n)}finally{Hn.transition=a,St=n}return null}function KA(e,t,r,n){do ss();while(yo!==null);if(pt&6)throw Error(ae(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ae(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(_N(e,o),e===Er&&(vr=Er=null,Ir=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Pu||(Pu=!0,zS(af,function(){return ss(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=Hn.transition,Hn.transition=null;var i=St;St=1;var s=pt;pt|=4,ay.current=null,zA(e,r),ES(r,e),hA(b0),sf=!!x0,b0=x0=null,e.current=r,WA(r),vN(),pt=s,St=i,Hn.transition=o}else e.current=r;if(Pu&&(Pu=!1,yo=e,Sf=a),o=e.pendingLanes,o===0&&(Po=null),wN(r.stateNode),bn(e,dr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(kf)throw kf=!1,e=F0,F0=null,e;return Sf&1&&e.tag!==0&&ss(),o=e.pendingLanes,o&1?e===z0?Wl++:(Wl=0,z0=e):Wl=0,$o(),null}function ss(){if(yo!==null){var e=vk(Sf),t=Hn.transition,r=St;try{if(Hn.transition=null,St=16>e?16:e,yo===null)var n=!1;else{if(e=yo,yo=null,Sf=0,pt&6)throw Error(ae(331));var a=pt;for(pt|=4,ge=e.current;ge!==null;){var o=ge,i=o.child;if(ge.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(ge=c;ge!==null;){var u=ge;switch(u.tag){case 0:case 11:case 15:Fl(8,u,o)}var d=u.child;if(d!==null)d.return=u,ge=d;else for(;ge!==null;){u=ge;var h=u.sibling,p=u.return;if(AS(u),u===c){ge=null;break}if(h!==null){h.return=p,ge=h;break}ge=p}}}var m=o.alternate;if(m!==null){var v=m.child;if(v!==null){m.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}ge=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,ge=i;else e:for(;ge!==null;){if(o=ge,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Fl(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,ge=y;break e}ge=o.return}}var g=e.current;for(ge=g;ge!==null;){i=ge;var b=i.child;if(i.subtreeFlags&2064&&b!==null)b.return=i,ge=b;else e:for(i=g;ge!==null;){if(s=ge,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Fd(9,s)}}catch(w){sr(s,s.return,w)}if(s===i){ge=null;break e}var S=s.sibling;if(S!==null){S.return=s.return,ge=S;break e}ge=s.return}}if(pt=a,$o(),Sa&&typeof Sa.onPostCommitFiberRoot=="function")try{Sa.onPostCommitFiberRoot(Ed,e)}catch{}n=!0}return n}finally{St=r,Hn.transition=t}}return!1}function Ax(e,t,r){t=ms(r,t),t=vS(e,t,1),e=Oo(e,t,1),t=fn(),e!==null&&(qc(e,1,t),bn(e,t))}function sr(e,t,r){if(e.tag===3)Ax(e,e,r);else for(;t!==null;){if(t.tag===3){Ax(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Po===null||!Po.has(n))){e=ms(r,e),e=xS(t,e,1),t=Oo(t,e,1),e=fn(),t!==null&&(qc(t,1,e),bn(t,e));break}}t=t.return}}function XA(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=fn(),e.pingedLanes|=e.suspendedLanes&r,Er===e&&(Ir&r)===r&&(jr===4||jr===3&&(Ir&130023424)===Ir&&500>dr()-iy?li(e,0):oy|=r),bn(e,t)}function BS(e,t){t===0&&(e.mode&1?(t=mu,mu<<=1,!(mu&130023424)&&(mu=4194304)):t=1);var r=fn();e=qa(e,t),e!==null&&(qc(e,t,r),bn(e,r))}function YA(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),BS(e,r)}function qA(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ae(314))}n!==null&&n.delete(t),BS(e,r)}var FS;FS=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||vn.current)mn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return mn=!1,LA(e,t,r);mn=!!(e.flags&131072)}else mn=!1,qt&&t.flags&1048576&&Gk(t,pf,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Zu(e,t),e=t.pendingProps;var a=ds(t,qr.current);is(t,r),a=Jm(null,t,n,e,a,r);var o=ey();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,xn(n)?(o=!0,df(t)):o=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Xm(t),a.updater=Bd,t.stateNode=a,a._reactInternals=t,A0(t,n,e,r),t=E0(null,t,n,!0,o,r)):(t.tag=0,qt&&o&&zm(t),ln(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Zu(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=QA(n),e=ea(n,e),a){case 0:t=C0(null,t,n,e,r);break e;case 1:t=xx(null,t,n,e,r);break e;case 11:t=yx(null,t,n,e,r);break e;case 14:t=vx(null,t,n,ea(n.type,e),r);break e}throw Error(ae(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ea(n,a),C0(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ea(n,a),xx(e,t,n,a,r);case 3:e:{if(SS(t),e===null)throw Error(ae(387));n=t.pendingProps,o=t.memoizedState,a=o.element,qk(e,t),yf(t,n,null,r);var i=t.memoizedState;if(n=i.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){a=ms(Error(ae(423)),t),t=bx(e,t,n,r,a);break e}else if(n!==a){a=ms(Error(ae(424)),t),t=bx(e,t,n,r,a);break e}else for(An=jo(t.stateNode.containerInfo.firstChild),Mn=t,qt=!0,aa=null,r=Xk(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(hs(),n===a){t=Za(e,t,r);break e}ln(e,t,n,r)}t=t.child}return t;case 5:return Zk(t),e===null&&P0(t),n=t.type,a=t.pendingProps,o=e!==null?e.memoizedProps:null,i=a.children,w0(n,a)?i=null:o!==null&&w0(n,o)&&(t.flags|=32),kS(e,t),ln(e,t,i,r),t.child;case 6:return e===null&&P0(t),null;case 13:return jS(e,t,r);case 4:return Ym(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ps(t,null,n,r):ln(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ea(n,a),yx(e,t,n,a,r);case 7:return ln(e,t,t.pendingProps,r),t.child;case 8:return ln(e,t,t.pendingProps.children,r),t.child;case 12:return ln(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,o=t.memoizedProps,i=a.value,zt(gf,n._currentValue),n._currentValue=i,o!==null)if(ca(o.value,i)){if(o.children===a.children&&!vn.current){t=Za(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var s=o.dependencies;if(s!==null){i=o.child;for(var l=s.firstContext;l!==null;){if(l.context===n){if(o.tag===1){l=Ua(-1,r&-r),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),_0(o.return,r,t),s.lanes|=r;break}l=l.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(ae(341));i.lanes|=r,s=i.alternate,s!==null&&(s.lanes|=r),_0(i,r,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}ln(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,is(t,r),a=Kn(a),n=n(a),t.flags|=1,ln(e,t,n,r),t.child;case 14:return n=t.type,a=ea(n,t.pendingProps),a=ea(n.type,a),vx(e,t,n,a,r);case 15:return bS(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ea(n,a),Zu(e,t),t.tag=1,xn(n)?(e=!0,df(t)):e=!1,is(t,r),yS(t,n,a),A0(t,n,a,r),E0(null,t,n,!0,e,r);case 19:return OS(e,t,r);case 22:return wS(e,t,r)}throw Error(ae(156,t.tag))};function zS(e,t){return pk(e,t)}function ZA(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wn(e,t,r,n){return new ZA(e,t,r,n)}function uy(e){return e=e.prototype,!(!e||!e.isReactComponent)}function QA(e){if(typeof e=="function")return uy(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Am)return 11;if(e===Mm)return 14}return 2}function No(e,t){var r=e.alternate;return r===null?(r=Wn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ef(e,t,r,n,a,o){var i=2;if(n=e,typeof e=="function")uy(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Wi:return ci(r.children,a,o,t);case Nm:i=8,a|=8;break;case Jp:return e=Wn(12,r,t,a|2),e.elementType=Jp,e.lanes=o,e;case e0:return e=Wn(13,r,t,a),e.elementType=e0,e.lanes=o,e;case t0:return e=Wn(19,r,t,a),e.elementType=t0,e.lanes=o,e;case Z2:return Wd(r,a,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Y2:i=10;break e;case q2:i=9;break e;case Am:i=11;break e;case Mm:i=14;break e;case co:i=16,n=null;break e}throw Error(ae(130,e==null?e:typeof e,""))}return t=Wn(i,r,t,a),t.elementType=e,t.type=n,t.lanes=o,t}function ci(e,t,r,n){return e=Wn(7,e,n,t),e.lanes=r,e}function Wd(e,t,r,n){return e=Wn(22,e,n,t),e.elementType=Z2,e.lanes=r,e.stateNode={isHidden:!1},e}function dp(e,t,r){return e=Wn(6,e,null,t),e.lanes=r,e}function hp(e,t,r){return t=Wn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function JA(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Kh(0),this.expirationTimes=Kh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kh(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function fy(e,t,r,n,a,o,i,s,l){return e=new JA(e,t,r,s,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Wn(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xm(o),e}function eM(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zi,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function WS(e){if(!e)return Co;e=e._reactInternals;e:{if(Pi(e)!==e||e.tag!==1)throw Error(ae(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(xn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ae(171))}if(e.tag===1){var r=e.type;if(xn(r))return Wk(e,r,t)}return t}function US(e,t,r,n,a,o,i,s,l){return e=fy(r,n,!0,e,a,o,i,s,l),e.context=WS(null),r=e.current,n=fn(),a=_o(r),o=Ua(n,a),o.callback=t??null,Oo(r,o,a),e.current.lanes=a,qc(e,a,n),bn(e,n),e}function Ud(e,t,r,n){var a=t.current,o=fn(),i=_o(a);return r=WS(r),t.context===null?t.context=r:t.pendingContext=r,t=Ua(o,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Oo(a,t,i),e!==null&&(la(e,a,i,o),Xu(e,a,i)),i}function Of(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Mx(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function dy(e,t){Mx(e,t),(e=e.alternate)&&Mx(e,t)}function tM(){return null}var GS=typeof reportError=="function"?reportError:function(e){console.error(e)};function hy(e){this._internalRoot=e}Gd.prototype.render=hy.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ae(409));Ud(e,t,null,null)};Gd.prototype.unmount=hy.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;yi(function(){Ud(null,e,null,null)}),t[Ya]=null}};function Gd(e){this._internalRoot=e}Gd.prototype.unstable_scheduleHydration=function(e){if(e){var t=wk();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ho.length&&t!==0&&t<ho[r].priority;r++);ho.splice(r,0,e),r===0&&Sk(e)}};function py(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Hd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Cx(){}function rM(e,t,r,n,a){if(a){if(typeof n=="function"){var o=n;n=function(){var c=Of(i);o.call(c)}}var i=US(t,n,e,0,null,!1,!1,"",Cx);return e._reactRootContainer=i,e[Ya]=i.current,ac(e.nodeType===8?e.parentNode:e),yi(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var s=n;n=function(){var c=Of(l);s.call(c)}}var l=fy(e,0,!1,null,null,!1,!1,"",Cx);return e._reactRootContainer=l,e[Ya]=l.current,ac(e.nodeType===8?e.parentNode:e),yi(function(){Ud(t,l,r,n)}),l}function Vd(e,t,r,n,a){var o=r._reactRootContainer;if(o){var i=o;if(typeof a=="function"){var s=a;a=function(){var l=Of(i);s.call(l)}}Ud(t,i,e,a)}else i=rM(r,t,e,a,n);return Of(i)}xk=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Cl(t.pendingLanes);r!==0&&(Tm(t,r|1),bn(t,dr()),!(pt&6)&&(ys=dr()+500,$o()))}break;case 13:yi(function(){var n=qa(e,1);if(n!==null){var a=fn();la(n,e,1,a)}}),dy(e,1)}};$m=function(e){if(e.tag===13){var t=qa(e,134217728);if(t!==null){var r=fn();la(t,e,134217728,r)}dy(e,134217728)}};bk=function(e){if(e.tag===13){var t=_o(e),r=qa(e,t);if(r!==null){var n=fn();la(r,e,t,n)}dy(e,t)}};wk=function(){return St};kk=function(e,t){var r=St;try{return St=e,t()}finally{St=r}};f0=function(e,t,r){switch(t){case"input":if(a0(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Rd(n);if(!a)throw Error(ae(90));J2(n),a0(n,a)}}}break;case"textarea":tk(e,r);break;case"select":t=r.value,t!=null&&rs(e,!!r.multiple,t,!1)}};lk=sy;ck=yi;var nM={usingClientEntryPoint:!1,Events:[Qc,Vi,Rd,ik,sk,sy]},vl={findFiberByHostInstance:Jo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},aM={bundleType:vl.bundleType,version:vl.version,rendererPackageName:vl.rendererPackageName,rendererConfig:vl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:to.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=dk(e),e===null?null:e.stateNode},findFiberByHostInstance:vl.findFiberByHostInstance||tM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_u.isDisabled&&_u.supportsFiber)try{Ed=_u.inject(aM),Sa=_u}catch{}}En.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nM;En.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!py(t))throw Error(ae(200));return eM(e,t,null,r)};En.createRoot=function(e,t){if(!py(e))throw Error(ae(299));var r=!1,n="",a=GS;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=fy(e,1,!1,null,null,r,!1,n,a),e[Ya]=t.current,ac(e.nodeType===8?e.parentNode:e),new hy(t)};En.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ae(188)):(e=Object.keys(e).join(","),Error(ae(268,e)));return e=dk(t),e=e===null?null:e.stateNode,e};En.flushSync=function(e){return yi(e)};En.hydrate=function(e,t,r){if(!Hd(t))throw Error(ae(200));return Vd(null,e,t,!0,r)};En.hydrateRoot=function(e,t,r){if(!py(e))throw Error(ae(405));var n=r!=null&&r.hydratedSources||null,a=!1,o="",i=GS;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=US(t,null,e,1,r??null,a,!1,o,i),e[Ya]=t.current,ac(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Gd(t)};En.render=function(e,t,r){if(!Hd(t))throw Error(ae(200));return Vd(null,e,t,!1,r)};En.unmountComponentAtNode=function(e){if(!Hd(e))throw Error(ae(40));return e._reactRootContainer?(yi(function(){Vd(null,null,e,!1,function(){e._reactRootContainer=null,e[Ya]=null})}),!0):!1};En.unstable_batchedUpdates=sy;En.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Hd(r))throw Error(ae(200));if(e==null||e._reactInternals===void 0)throw Error(ae(38));return Vd(e,t,r,!1,n)};En.version="18.3.1-next-f1338f8080-20240426";function HS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(HS)}catch(e){console.error(e)}}HS(),H2.exports=En;var oM=H2.exports,Ex=oM;Zp.createRoot=Ex.createRoot,Zp.hydrateRoot=Ex.hydrateRoot;const Pf=({isOpen:e,onClose:t,onConfirm:r,title:n,message:a,confirmText:o="I know the risk and insist to continue",cancelText:i="Cancel"})=>e?f.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:f.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-md rounded-2xl shadow-2xl border border-amber-500/30 overflow-hidden transform transition-all scale-100",children:[f.jsxs("div",{className:"bg-amber-500/10 p-6 flex flex-col items-center justify-center border-b border-amber-500/20",children:[f.jsx("div",{className:"w-16 h-16 bg-amber-100 dark:bg-amber-900/30 rounded-full flex items-center justify-center mb-4",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-amber-600 dark:text-amber-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),f.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white text-center",children:n})]}),f.jsx("div",{className:"p-6",children:f.jsx("div",{className:"text-gray-600 dark:text-slate-300 text-center text-sm leading-relaxed",children:a})}),f.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-800/50 flex gap-3 justify-end border-t border-gray-200 dark:border-slate-800",children:[f.jsx("button",{onClick:t,className:"px-4 py-2 bg-white hover:bg-gray-100 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-700 dark:text-slate-200 font-semibold rounded-lg border border-gray-300 dark:border-slate-600 transition-colors text-sm",children:i}),f.jsx("button",{onClick:r,className:"px-4 py-2 bg-amber-600 hover:bg-amber-700 text-white font-bold rounded-lg shadow-lg shadow-amber-500/20 transition-all active:scale-95 text-sm",children:o})]})]})}):null,iM=({onFileSelected:e,onGenerateFakeDng:t,fileName:r,hasGeneratedData:n,viewMode:a,onSetViewMode:o,patternPeriod:i,onPatternPeriodChange:s,fillFactor:l,onFillFactorChange:c,patternPhase:u,onPatternPhaseChange:d,showPatternControls:h,onOpenAbout:p,onShowExif:m,bridgeStatus:v,onBridgeClick:x,isDrLabOpen:y,onToggleDrLab:g,isFftLabOpen:b,onToggleFftLab:S,onGenerateTestPic:w,onPTCFilesSelected:k,onDownloadDng:j,isThreePlane:P,onOpenDatabase:_})=>{const A=O.useRef(null),N=O.useRef(null),[E,F]=O.useState(!1),[D,T]=O.useState(!1),[L,W]=O.useState(!1),[I,R]=O.useState(!1),[B,ee]=O.useState("direct"),X=O.useRef(null),G=O.useRef(null);O.useEffect(()=>{const V=le=>{X.current&&!X.current.contains(le.target)&&W(!1),G.current&&!G.current.contains(le.target)&&R(!1)};return document.addEventListener("mousedown",V),()=>document.removeEventListener("mousedown",V)},[]);const U=V=>{var le;W(!1),V==="direct"?(ee("direct"),F(!0)):!v.isConnected||!v.hasDngConverter?T(!0):(ee("convert"),(le=A.current)==null||le.click())},ce=()=>{var V;F(!1),(V=A.current)==null||V.click()},ue=V=>{var ye;const le=(ye=V.target.files)==null?void 0:ye[0];le&&e(le,B),V.target.value=""},be=V=>{V.target.files&&V.target.files.length>0&&k(V.target.files),V.target.value=""},xe=r==="pattern_test.dng"||(r==null?void 0:r.startsWith("Diff_"));return f.jsxs("header",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 mb-4 flex-shrink-0 relative z-50",children:[f.jsx(Pf,{isOpen:E,onClose:()=>F(!1),onConfirm:ce,title:"Format Compatibility Warning",confirmText:"Continue",message:f.jsxs("div",{className:"flex flex-col gap-4",children:[f.jsx("p",{className:"font-bold text-gray-800 dark:text-gray-200 text-base",children:"Adobe DNG ConverterDNG"}),f.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Only 4-channel DNG files output by Adobe DNG Converter are fully guaranteed to be supported."}),f.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 rounded-lg border border-gray-200 dark:border-slate-700",children:[f.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-500 mb-1",children:"Download Adobe DNG Converter:"}),f.jsx("a",{href:"https://helpx.adobe.com/camera-raw/using/adobe-dng-converter.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline text-xs break-all",children:"https://helpx.adobe.com/camera-raw/using/adobe-dng-converter.html"})]})]})}),f.jsx(Pf,{isOpen:D,onClose:()=>T(!1),onConfirm:()=>T(!1),title:"DNG Converter Missing",confirmText:"OK",cancelText:"Cancel",message:f.jsxs("div",{className:"flex flex-col gap-4",children:[f.jsx("p",{className:"font-bold text-red-600 dark:text-red-400 text-base",children:"JiangBridge Offline or Adobe DNG Converter not installed (you may have to restart your device after installing ADC to use it here)"}),f.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"To use the conversion feature, you must run JiangBridge locally and have Adobe DNG Converter installed on your system."}),f.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 rounded-lg border border-gray-200 dark:border-slate-700",children:[f.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-500 mb-1",children:"Download Adobe DNG Converter:"}),f.jsx("a",{href:"https://helpx.adobe.com/camera-raw/using/adobe-dng-converter.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline text-xs break-all",children:"https://helpx.adobe.com/camera-raw/using/adobe-dng-converter.html"})]})]})}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-cyan-500 to-blue-600 dark:from-cyan-400 dark:to-blue-500 text-center sm:text-left",children:"Jiangtherapee Online"}),f.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 hidden lg:block max-w-xs truncate",title:r||"No image loaded",children:r||"No image loaded"}),P&&f.jsx("span",{className:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400 border border-red-200 dark:border-red-800 text-[10px] font-bold px-2 py-1 rounded animate-pulse",children:" 3-PLANE / RGB MODE"})]}),f.jsxs("div",{className:"flex items-center gap-4 flex-wrap justify-end",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("button",{onClick:v.isConnected?void 0:x,className:`px-3 py-1.5 rounded-full text-xs font-bold transition-all duration-200 flex items-center gap-1.5 shadow-sm border ${v.isConnected?"bg-emerald-100 text-emerald-700 border-emerald-200 dark:bg-emerald-900/30 dark:text-emerald-400 dark:border-emerald-800 cursor-default":"bg-pink-100 text-pink-600 border-pink-200 dark:bg-pink-900/30 dark:text-pink-400 dark:border-pink-800 hover:bg-pink-200 dark:hover:bg-pink-900/50 cursor-pointer animate-pulse"}`,title:v.isConnected?"Local Bridge Service Connected":"Click to download Jiangbridge",children:[f.jsx("span",{className:`w-2 h-2 rounded-full ${v.isConnected?"bg-emerald-500":"bg-pink-500"}`}),v.isConnected?`JiangBridge Ready ${v.hasDngConverter?"DNG+":""}`:"JiangBridge Offline"]}),y&&f.jsxs("button",{onClick:g,className:"px-3 py-1.5 rounded-full text-xs font-bold transition-all duration-200 flex items-center gap-1.5 shadow-sm border bg-indigo-100 text-indigo-700 border-indigo-200 dark:bg-indigo-900/30 dark:text-indigo-400 dark:border-indigo-800 hover:bg-indigo-200 dark:hover:bg-indigo-900/50 cursor-pointer animate-in fade-in",title:"Click to turn off DR Lab",children:[f.jsx("span",{className:"w-2 h-2 rounded-full bg-indigo-500 animate-pulse"}),"DR Lab On"]}),b&&f.jsxs("button",{onClick:S,className:"px-3 py-1.5 rounded-full text-xs font-bold transition-all duration-200 flex items-center gap-1.5 shadow-sm border bg-fuchsia-100 text-fuchsia-700 border-fuchsia-200 dark:bg-fuchsia-900/30 dark:text-fuchsia-400 dark:border-fuchsia-800 hover:bg-fuchsia-200 dark:hover:bg-fuchsia-900/50 cursor-pointer animate-in fade-in",title:"Click to turn off FFT Lab",children:[f.jsx("span",{className:"w-2 h-2 rounded-full bg-fuchsia-500 animate-pulse"}),"FFT Lab On"]}),n&&f.jsxs("div",{className:"flex bg-gray-100 dark:bg-slate-800 rounded-lg p-1 border border-gray-200 dark:border-slate-600 shadow-inner transition-colors duration-300",children:[f.jsx("button",{onClick:()=>o("reference"),className:`px-3 py-1.5 rounded-md text-xs sm:text-sm font-bold transition-all duration-200 ${a==="reference"?"bg-green-500 dark:bg-green-600 text-white shadow-md":"text-gray-500 dark:text-slate-400 hover:text-gray-900 dark:hover:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700"}`,title:"The perfect uniform input",children:"Perfect"}),f.jsx("button",{onClick:()=>o("sampled"),className:`px-3 py-1.5 rounded-md text-xs sm:text-sm font-bold transition-all duration-200 ${a==="sampled"?"bg-blue-500 dark:bg-blue-600 text-white shadow-md":"text-gray-500 dark:text-slate-400 hover:text-gray-900 dark:hover:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700"}`,title:"Sampled Sensor View with Aperture Visualization",children:"Sampled (Sensor)"}),f.jsx("button",{onClick:()=>o("processed"),className:`px-3 py-1.5 rounded-md text-xs sm:text-sm font-bold transition-all duration-200 ${a==="processed"?"bg-purple-500 dark:bg-purple-600 text-white shadow-md":"text-gray-500 dark:text-slate-400 hover:text-gray-900 dark:hover:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700"}`,title:"Demosaiced Result",children:"Result"})]})]}),xe&&f.jsxs("div",{className:"flex items-center gap-2 animate-in fade-in slide-in-from-right-4 duration-300",children:[h&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex flex-col items-end mr-1 bg-gray-50 dark:bg-slate-800/50 p-1.5 rounded-lg border border-gray-200 dark:border-slate-700 transition-colors duration-300",children:[f.jsx("span",{className:"text-[10px] text-gray-500 dark:text-slate-400 font-mono uppercase tracking-wider mb-1",children:"Density (Period)"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("input",{type:"range",min:"0.1",max:"10",step:"0.1",value:i,onChange:V=>s(parseFloat(V.target.value)),className:"w-20 h-2 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-purple-500",title:"Adjust the period of the line pairs in pixels"}),f.jsx("div",{className:"relative",children:f.jsx("input",{type:"number",min:"0.1",max:"100",step:"0.01",value:i,onChange:V=>{const le=parseFloat(V.target.value);isNaN(le)||s(le)},className:"w-16 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-1 py-0.5 text-xs font-mono text-purple-600 dark:text-purple-300 text-right focus:outline-none focus:border-purple-500 focus:ring-1 focus:ring-purple-500 transition-colors duration-300"})})]})]}),f.jsxs("div",{className:"flex flex-col items-end mr-1 bg-gray-50 dark:bg-slate-800/50 p-1.5 rounded-lg border border-gray-200 dark:border-slate-700 transition-colors duration-300",children:[f.jsx("span",{className:"text-[10px] text-gray-500 dark:text-slate-400 font-mono uppercase tracking-wider mb-1",children:"Phase"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:u,onChange:V=>d(parseFloat(V.target.value)),className:"w-20 h-2 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-pink-500",title:"Shift pattern phase (0-1 cycle)"}),f.jsx("div",{className:"relative",children:f.jsx("input",{type:"number",min:"0",max:"1",step:"0.01",value:u,onChange:V=>{const le=parseFloat(V.target.value);isNaN(le)||d(le)},className:"w-12 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-1 py-0.5 text-xs font-mono text-pink-600 dark:text-pink-300 text-right focus:outline-none focus:border-pink-500 focus:ring-1 focus:ring-pink-500 transition-colors duration-300"})})]})]}),f.jsxs("div",{className:"flex flex-col items-end mr-1 bg-gray-50 dark:bg-slate-800/50 p-1.5 rounded-lg border border-gray-200 dark:border-slate-700 transition-colors duration-300",children:[f.jsx("span",{className:"text-[10px] text-gray-500 dark:text-slate-400 font-mono uppercase tracking-wider mb-1",children:"Fill Factor"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("input",{type:"range",min:"1",max:"100",step:"1",value:l*100,onChange:V=>c(parseInt(V.target.value)/100),className:"w-20 h-2 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-green-500",title:"Adjust pixel aperture fill factor %"}),f.jsxs("div",{className:"relative flex items-center",children:[f.jsx("input",{type:"number",min:"1",max:"100",step:"1",value:Math.round(l*100),onChange:V=>{const le=parseInt(V.target.value);isNaN(le)||c(Math.min(100,Math.max(1,le))/100)},className:"w-12 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-1 py-0.5 text-xs font-mono text-green-600 dark:text-green-300 text-right focus:outline-none focus:border-green-500 focus:ring-1 focus:ring-green-500 transition-colors duration-300"}),f.jsx("span",{className:"ml-1 text-[10px] text-gray-400 dark:text-slate-500 font-mono",children:"%"})]})]})]})]}),f.jsxs("button",{onClick:j,className:`flex flex-col items-center justify-center p-2 rounded-lg transition-colors group ${r!=null&&r.startsWith("Diff_")?"bg-fuchsia-50 hover:bg-fuchsia-100 dark:bg-fuchsia-900/20 dark:hover:bg-fuchsia-900/40 border-fuchsia-200 dark:border-fuchsia-800":"bg-gray-50 hover:bg-gray-100 dark:bg-slate-800 dark:hover:bg-slate-700 border-gray-200 dark:border-slate-600"} border`,title:r!=null&&r.startsWith("Diff_")?"Export Subtracted Frame as DNG":"Download Synthetic DNG",children:[f.jsx("svg",{className:`w-5 h-5 ${r!=null&&r.startsWith("Diff_")?"text-fuchsia-500 group-hover:text-fuchsia-600":"text-gray-500 dark:text-slate-400 group-hover:text-cyan-600 dark:group-hover:text-cyan-400"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),f.jsx("span",{className:"text-[8px] font-bold uppercase mt-0.5 opacity-50",children:"DNG"})]})]}),f.jsx("input",{type:"file",ref:A,onChange:ue,className:"hidden",accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff"}),f.jsx("input",{type:"file",ref:N,onChange:be,className:"hidden",multiple:!0,accept:".csv"}),f.jsxs("div",{className:"relative inline-block text-left",ref:G,children:[f.jsxs("button",{onClick:()=>R(!I),className:"bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-lg transition-colors duration-300 shadow-lg shadow-purple-500/30 text-sm whitespace-nowrap flex items-center gap-2",children:["TEST Tools",f.jsx("svg",{className:`w-4 h-4 transition-transform duration-200 ${I?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),I&&f.jsx("div",{className:"absolute right-0 mt-2 w-56 rounded-xl bg-white dark:bg-slate-800 shadow-xl ring-1 ring-black ring-opacity-5 focus:outline-none z-50 overflow-hidden origin-top-right transition-all animate-in fade-in slide-in-from-top-2 border border-gray-200 dark:border-slate-700",children:f.jsxs("div",{className:"py-1",children:[f.jsxs("button",{onClick:()=>{R(!1),t()},className:"w-full text-left px-4 py-3 text-sm text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors flex items-center gap-2",children:[f.jsx("svg",{className:"w-4 h-4 text-purple-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),f.jsx("span",{children:"Generate Pattern DNG"})]}),f.jsxs("button",{onClick:()=>{R(!1),y||g(),b&&S()},className:`w-full text-left px-4 py-3 text-sm transition-colors flex items-center gap-2 border-t border-gray-100 dark:border-slate-700 ${y?"bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 dark:text-indigo-400 font-bold":"text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700"}`,children:[f.jsx("svg",{className:"w-4 h-4 text-indigo-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.384-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})}),f.jsxs("span",{children:["DR Lab ",y?"(On)":""]})]}),f.jsxs("button",{onClick:()=>{R(!1),b||S(),y&&g()},className:`w-full text-left px-4 py-3 text-sm transition-colors flex items-center gap-2 border-t border-gray-100 dark:border-slate-700 ${b?"bg-fuchsia-50 dark:bg-fuchsia-900/20 text-fuchsia-600 dark:text-fuchsia-400 font-bold":"text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700"}`,children:[f.jsx("svg",{className:"w-4 h-4 text-fuchsia-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),f.jsxs("span",{children:["FFT Lab ",b?"(On)":""]})]}),f.jsxs("button",{onClick:()=>{var V;R(!1),(V=N.current)==null||V.click()},className:"w-full text-left px-4 py-3 text-sm text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors flex items-center gap-2 border-t border-gray-100 dark:border-slate-700",children:[f.jsx("svg",{className:"w-4 h-4 text-emerald-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"})}),f.jsx("span",{children:"Generate PTC & TargetSNR"})]})]})})]}),f.jsxs("div",{className:"relative inline-block text-left",ref:X,children:[f.jsxs("button",{onClick:()=>W(!L),className:"bg-cyan-500 hover:bg-cyan-600 text-white font-bold py-2 px-4 rounded-lg transition-colors duration-300 shadow-lg shadow-cyan-500/30 text-sm whitespace-nowrap flex items-center gap-2",children:["Load Image",f.jsx("svg",{className:`w-4 h-4 transition-transform duration-200 ${L?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),L&&f.jsx("div",{className:"absolute right-0 mt-2 w-56 rounded-xl bg-white dark:bg-slate-800 shadow-xl ring-1 ring-black ring-opacity-5 focus:outline-none z-50 overflow-hidden origin-top-right transition-all animate-in fade-in slide-in-from-top-2 border border-gray-200 dark:border-slate-700",children:f.jsxs("div",{className:"py-1",children:[f.jsxs("button",{onClick:()=>U("direct"),className:"w-full text-left px-4 py-3 text-sm text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors flex items-center gap-2",children:[f.jsx("svg",{className:"w-4 h-4 text-cyan-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),f.jsx("span",{children:"Load Image (Direct)"})]}),f.jsxs("button",{onClick:()=>U("convert"),className:"w-full text-left px-4 py-3 text-sm text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors flex items-center gap-2 border-t border-gray-100 dark:border-slate-700",children:[f.jsx("svg",{className:"w-4 h-4 text-purple-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.384-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})}),f.jsx("span",{children:"Convert to Adobe DNG & Load"})]})]})})]}),r&&m&&f.jsxs("button",{onClick:m,className:"bg-orange-500 hover:bg-orange-600 text-white font-bold py-2 px-4 rounded-lg transition-colors duration-300 shadow-lg shadow-orange-500/30 text-sm whitespace-nowrap flex items-center gap-1",title:"View EXIF Data",children:[f.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"EXIF"]}),f.jsx("button",{onClick:p,className:"bg-teal-600 hover:bg-teal-700 text-white font-bold py-2 px-4 rounded-lg transition-colors duration-300 shadow-lg shadow-teal-500/30 text-sm whitespace-nowrap",children:"About/Tutorial/Tools"}),f.jsx("a",{href:"https://y-g-jiang.github.io/index.html",target:"_blank",rel:"noopener noreferrer",className:"bg-gray-200 hover:bg-gray-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-700 dark:text-slate-100 font-semibold py-2 px-4 rounded-lg transition-colors duration-300 text-sm",children:"Home"})]})]})},sM=({image:e,zoom:t,pan:r,onPanChange:n,onZoomChange:a,onSelectionChange:o,forcedSelection:i,theme:s,touchAction:l="pan",isMarking:c=!1,onPointClick:u,markers:d=[],gridRects:h=[]})=>{var X;const p=O.useRef(null),m=O.useRef(document.createElement("canvas")),[v,x]=O.useState(!1),[y,g]=O.useState({x:0,y:0}),b=O.useRef(null),S=O.useRef(null),w=O.useRef(null),[k,j]=O.useState(!1),[P,_]=O.useState(null),[A,N]=O.useState(null);O.useEffect(()=>{i!==void 0&&N(i)},[i]);const E=O.useCallback(()=>{const G=p.current,U=G==null?void 0:G.getContext("2d");return{canvas:G,ctx:U}},[]);O.useEffect(()=>{const G=m.current,U=G.getContext("2d");if(!e||!U)return;let ce=0,ue=0;e instanceof ImageData?(ce=e.width,ue=e.height):e instanceof HTMLImageElement&&(ce=e.naturalWidth,ue=e.naturalHeight),!(ce===0||ue===0)&&((G.width!==ce||G.height!==ue)&&(G.width=ce,G.height=ue),e instanceof ImageData?U.putImageData(e,0,0):(U.clearRect(0,0,ce,ue),U.drawImage(e,0,0)))},[e]);const F=O.useCallback(()=>{const{canvas:G,ctx:U}=E();if(!(!G||!U||!e)){if(U.setTransform(1,0,0,1,0,0),U.fillStyle=s==="dark"?"rgb(15, 23, 42)":"rgb(243, 244, 246)",U.fillRect(0,0,G.width,G.height),U.setTransform(t,0,0,t,r.x,r.y),m.current.width>0&&(U.imageSmoothingEnabled=!1,U.drawImage(m.current,0,0)),A){U.strokeStyle="#06b6d4",U.lineWidth=1/t,U.fillStyle="rgba(6, 182, 212, 0.2)",U.beginPath(),U.rect(A.x,A.y,A.w,A.h),U.fill(),U.stroke(),U.save(),U.fillStyle="#fff";const ce=Math.max(10,14/t);U.font=`${ce}px monospace`,U.shadowColor="rgba(0,0,0,0.8)",U.shadowBlur=4,U.shadowOffsetX=1,U.shadowOffsetY=1,U.fillText(`${Math.round(A.w)}x${Math.round(A.h)}`,A.x,A.y-5/t),U.restore()}if(h&&h.length>0){U.save(),U.strokeStyle="#f59e0b",U.lineWidth=1/t,U.globalAlpha=.8,U.beginPath(),h.forEach(be=>{U.rect(be.x,be.y,be.w,be.h)}),U.stroke();const ce=h[0];U.fillStyle="#f59e0b";const ue=Math.max(10,12/t);U.font=`${ue}px monospace`,U.fillText(`${ce.w}x${ce.h}`,ce.x,ce.y-4/t),U.restore()}if(d&&d.length>0){U.save();const ce=6/t,ue=Math.max(12,16/t);U.font=`bold ${ue}px sans-serif`,U.textAlign="center",U.textBaseline="middle",d.forEach((be,xe)=>{U.beginPath(),U.arc(be.x,be.y,ce,0,2*Math.PI),U.fillStyle="white",U.fill(),U.strokeStyle="#4338ca",U.lineWidth=2/t,U.stroke(),U.fillStyle="#4338ca",U.fillText((xe+1).toString(),be.x,be.y-12/t)}),U.restore()}}},[E,e,t,r,s,A,d,h]);O.useEffect(()=>{const{canvas:G}=E();if(!G)return;const U=new ResizeObserver(()=>{G.width=G.clientWidth,G.height=G.clientHeight,F()});return U.observe(G),()=>U.disconnect()},[E,F]),O.useEffect(()=>{F()},[F,e,r,t,s,A,d,h]);const D=G=>{const{canvas:U}=E();if(!U)return{x:0,y:0};const ce=U.getBoundingClientRect();return{x:G.clientX-ce.left,y:G.clientY-ce.top}},T=(G,U)=>({x:(G-r.x)/t,y:(U-r.y)/t}),L=G=>{G.preventDefault();const U=D(G);if(c){const ce=T(U.x,U.y);u&&u(ce);return}if(G.shiftKey||l==="select"){j(!0);const ce=T(U.x,U.y),ue={x:Math.floor(ce.x),y:Math.floor(ce.y)};_(ue),N(null),o&&o(null)}else x(!0),g({x:U.x-r.x,y:U.y-r.y})},W=G=>{const U=D(G);if(k&&P){const ce=T(U.x,U.y),ue=Math.floor(ce.x),be=Math.floor(ce.y),xe=Math.min(P.x,ue),V=Math.min(P.y,be),le=Math.max(P.x,ue),ye=Math.max(P.y,be),Z=le-xe+1,Ke=ye-V+1;N({x:xe,y:V,w:Z,h:Ke})}else v&&n({x:U.x-y.x,y:U.y-y.y})},I=()=>{k&&(j(!1),A&&o&&A.w>0&&A.h>0&&o(A)),x(!1)},R=G=>{var U;if(G.touches.length===1){const ce=G.touches[0],ue=(U=p.current)==null?void 0:U.getBoundingClientRect();if(!ue)return;const be=ce.clientX-ue.left,xe=ce.clientY-ue.top;if(c){const V=T(be,xe);u&&u(V);return}if(l==="select"){const V=T(be,xe),le={x:Math.floor(V.x),y:Math.floor(V.y)};_(le),j(!0),N(null),o&&o(null)}else w.current={x:be,y:xe},g({x:be-r.x,y:xe-r.y}),x(!0)}else if(G.touches.length===2){const ce=Math.hypot(G.touches[0].clientX-G.touches[1].clientX,G.touches[0].clientY-G.touches[1].clientY);b.current=ce,S.current=t,x(!1),j(!1)}},B=G=>{var U;if(G.touches.length===1){const ce=G.touches[0],ue=(U=p.current)==null?void 0:U.getBoundingClientRect();if(!ue)return;const be=ce.clientX-ue.left,xe=ce.clientY-ue.top;if(c)return;if(k&&P){const V=T(be,xe),le=Math.floor(V.x),ye=Math.floor(V.y),Z=Math.min(P.x,le),Ke=Math.min(P.y,ye),Pe=Math.max(P.x,le),Be=Math.max(P.y,ye),rt=Pe-Z+1,Ot=Be-Ke+1;N({x:Z,y:Ke,w:rt,h:Ot})}else v&&n({x:be-y.x,y:xe-y.y})}else if(G.touches.length===2&&b.current&&S.current&&a){const ue=Math.hypot(G.touches[0].clientX-G.touches[1].clientX,G.touches[0].clientY-G.touches[1].clientY)/b.current;a(S.current*ue)}},ee=()=>{k&&(j(!1),A&&o&&A.w>0&&A.h>0&&o(A)),x(!1),b.current=null,S.current=null,w.current=null};return f.jsx("canvas",{ref:p,className:`w-full h-full block touch-none ${c||k||(X=window.event)!=null&&X.shiftKey||l==="select"?"cursor-crosshair":"cursor-grab active:cursor-grabbing"}`,onMouseDown:L,onMouseMove:W,onMouseUp:I,onMouseLeave:I,onTouchStart:R,onTouchMove:B,onTouchEnd:ee,onTouchCancel:ee,tabIndex:0})},Nu=({title:e,children:t})=>f.jsxs("div",{className:"border-b border-gray-200 dark:border-slate-700 transition-colors duration-300",children:[f.jsx("div",{className:"p-4 font-semibold text-gray-800 dark:text-slate-200 bg-gray-50 dark:bg-slate-800/30 border-b border-gray-200 dark:border-slate-800 select-none cursor-default transition-colors duration-300",children:f.jsx("span",{children:e})}),f.jsx("div",{className:"p-4 bg-white dark:bg-slate-900/50 transition-colors duration-300",children:t})]}),lM=[{value:-1,label:"Raw Bayer (Grayscale)"},{value:0,label:"Linear interpolation"},{value:1,label:"VNG (Variable Number of Gradients)"},{value:2,label:"PPG (Patterned Pixel Grouping)"},{value:3,label:"AHD (Adaptive Homogeneity-Directed)"},{value:4,label:"DCB (Demosaicing with Color Back-refinement)"},{value:11,label:"DHT (Modified AHD)"},{value:12,label:"AAHD (Adaptive AHD)"}],Tx=({checked:e,onChange:t,label:r})=>f.jsxs("div",{className:"flex items-center justify-between py-2 cursor-pointer group",onClick:()=>t(!e),children:[f.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-slate-300 select-none group-hover:text-gray-900 dark:group-hover:text-slate-200 transition-colors",children:r}),f.jsx("div",{className:`relative w-11 h-6 rounded-full transition-colors duration-200 ease-in-out ${e?"bg-cyan-500 dark:bg-cyan-600":"bg-gray-300 dark:bg-slate-600 group-hover:bg-gray-400 dark:group-hover:bg-slate-500"}`,children:f.jsx("div",{className:`absolute left-1 top-1 bg-white w-4 h-4 rounded-full shadow-md transform transition-transform duration-200 ease-in-out ${e?"translate-x-5":"translate-x-0"}`})})]}),pp=(e,t)=>{if(!e)return null;if(t){const r=e.bayerPattern.toUpperCase(),n=l=>{const c=[];for(let u=0;u<4;u++)r[u]===l&&c.push(u);return c},a=t.BlackLevelRed,o=t.BlackLevelGreen,i=t.BlackLevelBlue;if(a!==void 0&&o!==void 0&&i!==void 0){const l=parseFloat(a),c=parseFloat(o),u=parseFloat(i);if(!isNaN(l)&&!isNaN(c)&&!isNaN(u)){const d=[0,0,0,0];return d.fill(c),n("R").forEach(h=>d[h]=l),n("G").forEach(h=>d[h]=c),n("B").forEach(h=>d[h]=u),d}}let s=t.BlackLevel;if(s===void 0&&(s=t.BlackLevel2),s!==void 0){let l=[];if(Array.isArray(s)?l=s.map(Number):typeof s=="string"?l=s.trim().split(/\s+/).map(Number):typeof s=="number"&&(l=[s,s,s,s]),l.length===1&&!isNaN(l[0])&&(l=[l[0],l[0],l[0],l[0]]),l.length>=4&&!l.slice(0,4).some(isNaN))return[l[0],l[1],l[2],l[3]]}}return e.blackLevels&&e.blackLevels.length===4?[e.blackLevels[0],e.blackLevels[1],e.blackLevels[2],e.blackLevels[3]]:null},cM=e=>{const{rawImageData:t,displaySettings:r,onApplyDisplaySettings:n,onSetSelection:a,exifData:o,isBridgeConnected:i,isDrLabOpen:s,drMarkingStep:l,onStartMarking:c,onGenerateTestPic:u,drRoiSize:d,onDrRoiSizeChange:h,drGridRows:p,onDrGridRowsChange:m,drGridCols:v,onDrGridColsChange:x,onBatchDrLab:y,hasDrMarkers:g,isFftLabOpen:b,onProcessPair:S,onProcessBatchDiff:w,onProcessStackFft:k,onOpenCrossCalc:j,isThreePlane:P}=e,[_,A]=O.useState(r.exposure.toString()),[N,E]=O.useState(""),[F,D]=O.useState("0 0 0 0"),[T,L]=O.useState("1.0"),[W,I]=O.useState("1.0"),[R,B]=O.useState(r.demosaicMethod),[ee,X]=O.useState(!!r.showKadc),[G,U]=O.useState(!!r.subtractBlackLevelFromStats),[ce,ue]=O.useState("64"),[be,xe]=O.useState(!1),[V,le]=O.useState(!1),[ye,Z]=O.useState(!1),[Ke,Pe]=O.useState("single"),Be=O.useRef(null),rt=O.useRef(null),Ot=O.useRef(null),cr=O.useRef(null),[Dt,$r]=O.useState(null),[nt,ur]=O.useState(null),[Qt,Fr]=O.useState(!1),[Kt,$n]=O.useState(!0),Xt=O.useRef(null),pr=O.useRef(null),gr=O.useRef(!1),ar=O.useRef(null);O.useEffect(()=>{t!==ar.current&&(gr.current=!1,ar.current=t)},[t]),O.useEffect(()=>{if(i&&t&&!gr.current){gr.current=!0;const K=pp(t,o),Ee=K&&K.some(Nt=>Nt>0);if(K&&Ee){xe(!0);const Nt={...r,blackLevel:K,showKadc:!0,subtractBlackLevelFromStats:!0,exposure:r.exposure,wbGains:r.wbGains||[1,1],demosaicMethod:r.demosaicMethod,renderMode:"standard"};n(Nt)}}},[i,t,o,r,n]),O.useEffect(()=>{if(A(r.exposure.toString()),r.customMatrix?(E(r.customMatrix.join(" ")),xe(!0)):E(""),r.blackLevel&&r.blackLevel.length===4)D(r.blackLevel.join(" "));else{const K=pp(t,o);D(K?K.join(" "):"0 0 0 0")}L(r.wbGains?r.wbGains[0].toString():"1.0"),I(r.wbGains?r.wbGains[1].toString():"1.0"),B(r.demosaicMethod),X(!!r.showKadc),U(!!r.subtractBlackLevelFromStats)},[r,t,o]);const fr=K=>{A(K)},Pt=K=>L(K),Ge=K=>I(K),Rt=K=>{B(parseInt(K.target.value,10))},Jt=K=>{E(K.target.value)},mr=()=>{A("0"),B(3),L("1.0"),I("1.0"),X(!0),U(!0),E(""),xe(!1);const K=pp(t,o);D(K?K.join(" "):"0 0 0 0")},Zr=()=>{!t||!a||a({x:0,y:0,w:t.width,h:t.height})},Sn=()=>{if(!t||!a)return;const K=parseInt(ce,10);if(isNaN(K)||K<=0)return;const Ee=Math.min(K,t.width),Nt=Math.min(K,t.height),Qe=Math.floor((t.width-Ee)/2),J=Math.floor((t.height-Nt)/2);a({x:Qe,y:J,w:Ee,h:Nt})},Yt=()=>{const Ee=F.split(/[\s,]+/).filter(Nt=>Nt.trim()!=="").map(Number);if(Ee.length===1&&!isNaN(Ee[0]))return[Ee[0],Ee[0],Ee[0],Ee[0]];if(Ee.length>=4&&!Ee.slice(0,4).some(isNaN))return[Ee[0],Ee[1],Ee[2],Ee[3]]},Qr=()=>{const K={...r},Ee=parseFloat(_);isNaN(Ee)||(K.exposure=Ee);const Nt=parseFloat(T),Qe=parseFloat(W);if(!isNaN(Nt)&&!isNaN(Qe)&&(K.wbGains=[Nt,Qe]),K.demosaicMethod=R,K.renderMode="standard",be){const J=Yt();J&&(K.blackLevel=J);const de=N.trim().replace(/[\s,\n]+/g," ");if(de){const ot=de.split(" ").map(Number);ot.length===9&&!ot.some(isNaN)?K.customMatrix=ot:alert("Invalid matrix format. Please ensure exactly 9 numeric values (3x3).")}else delete K.customMatrix;K.showKadc=ee,K.subtractBlackLevelFromStats=G}else delete K.customMatrix,delete K.blackLevel,delete K.showKadc,delete K.subtractBlackLevelFromStats;n(K)},at=()=>{const K={...r},Ee=Yt();Ee&&(K.blackLevel=Ee);const Nt=parseFloat(_);isNaN(Nt)||(K.exposure=Nt),K.renderMode="zero-dependency",n(K)},Nr=K=>{K.target.files&&K.target.files.length>0&&y&&y(K.target.files,Ke),K.target.value="",Z(!1)},br=async K=>{var Nt;const Ee=(Nt=K.target.files)==null?void 0:Nt[0];if(Ee){try{const J=(await Ee.text()).split(`
`),de=[];de.push("#BlackLevel: 0,0,0,0"),de.push("#ImageHeight: 0"),de.push("Row,Col,R_Mean,G1_Mean,G2_Mean,B_Mean,R_Std,G1_Std,G2_Std,B_Std");let ot=1;for(let Wt=0;Wt<J.length;Wt++){const Lt=J[Wt].trim();if(!Lt||Lt.includes("R_mean")||Lt.includes("R_std"))continue;const Ne=Lt.split(/\s+/).map(Number);if(Ne.length<8||Ne.some(isNaN))continue;const wt=Ne[0],it=Ne[1],dt=Ne[2],Je=Ne[3],nn=Ne[4],$e=Ne[5],pe=Ne[6],zr=Ne[7],pa=[ot,1,wt,dt,pe,nn,it,Je,zr,$e].join(",");de.push(pa),ot++}const Et=new Blob([de.join(`
`)],{type:"text/csv"}),Fe=URL.createObjectURL(Et),Ue=document.createElement("a");Ue.href=Fe,Ue.download=Ee.name.replace(/\.[^/.]+$/,"")+"_converted.csv",document.body.appendChild(Ue),Ue.click(),document.body.removeChild(Ue),URL.revokeObjectURL(Fe)}catch(Qe){console.error("Conversion failed",Qe),alert("Failed to convert file. Check format.")}K.target.value=""}},Jr=K=>{K.target.files&&K.target.files[0]&&$r(K.target.files[0])},en=K=>{K.target.files&&K.target.files[0]&&ur(K.target.files[0])},tn=()=>{Dt&&nt&&S&&S(Dt,nt,Qt,Kt)},rn=K=>{K.target.files&&K.target.files.length>0&&w&&w(K.target.files),K.target.value=""},Dn=K=>{K.target.files&&K.target.files.length>0&&k&&k(K.target.files),K.target.value=""},_t=!!t;return f.jsxs("div",{className:"flex flex-col h-full",children:[f.jsxs("div",{className:"flex-grow overflow-y-auto",children:[P&&f.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-3 border-b border-red-100 dark:border-red-800 text-center animate-pulse",children:[f.jsx("p",{className:"text-xs font-bold text-red-600 dark:text-red-400 uppercase tracking-wide",children:" 3-Plane / Full Color"}),f.jsx("p",{className:"text-[10px] text-red-500/80 dark:text-red-300/70 mt-1",children:"Demosaic disabled. Stats analysis treated as pseudo-Bayer."})]}),b&&f.jsx(Nu,{title:"FFT Lab (Noise Profile)",children:f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"space-y-3 bg-gray-50 dark:bg-slate-800/40 p-3 rounded-xl border border-gray-100 dark:border-slate-800",children:[f.jsxs("h4",{className:"text-[10px] font-bold text-fuchsia-600 dark:text-fuchsia-400 uppercase tracking-widest flex items-center gap-2",children:[f.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-fuchsia-500"}),"1. Pair Difference (Sub)"]}),f.jsx("p",{className:"text-[10px] text-gray-500 dark:text-slate-400",children:"Subtraction between two shots to analyze FPN or Temporal Noise."}),f.jsxs("div",{className:"flex flex-col gap-2",children:[f.jsx("input",{type:"file",ref:Be,className:"hidden",onChange:Jr,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff"}),f.jsx("button",{onClick:()=>{var K;return(K=Be.current)==null?void 0:K.click()},className:`w-full py-2 px-3 rounded-lg border text-[10px] font-bold text-left truncate transition-colors ${Dt?"bg-fuchsia-50 dark:bg-fuchsia-900/20 border-fuchsia-300 dark:border-fuchsia-800 text-fuchsia-700 dark:text-fuchsia-300":"bg-white dark:bg-slate-800 border-gray-300 dark:border-slate-600 text-gray-500 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:Dt?`A: ${Dt.name}`:"Load Image A"}),f.jsx("input",{type:"file",ref:rt,className:"hidden",onChange:en,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff"}),f.jsx("button",{onClick:()=>{var K;return(K=rt.current)==null?void 0:K.click()},className:`w-full py-2 px-3 rounded-lg border text-[10px] font-bold text-left truncate transition-colors ${nt?"bg-fuchsia-50 dark:bg-fuchsia-900/20 border-fuchsia-300 dark:border-fuchsia-800 text-fuchsia-700 dark:text-fuchsia-300":"bg-white dark:bg-slate-800 border-gray-300 dark:border-slate-600 text-gray-500 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:nt?`B: ${nt.name}`:"Load Image B"})]}),f.jsx("div",{className:"flex flex-col gap-1.5 pt-1",children:f.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[f.jsx("input",{type:"checkbox",checked:Kt,onChange:K=>$n(K.target.checked),className:"w-3 h-3 text-fuchsia-600 border-gray-300 rounded focus:ring-0"}),f.jsx("span",{className:"text-[10px] text-gray-600 dark:text-slate-300",children:"Normalize (2)"})]})}),f.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[f.jsx("button",{onClick:tn,disabled:!Dt||!nt,className:"w-full bg-fuchsia-600 hover:bg-fuchsia-500 disabled:opacity-30 text-white font-bold py-2 rounded shadow transition-all active:scale-95 text-[10px]",children:"Generate Diff & Load"}),f.jsx("input",{type:"file",ref:Ot,className:"hidden",multiple:!0,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff",onChange:rn}),f.jsxs("button",{onClick:()=>{var K;return(K=Ot.current)==null?void 0:K.click()},className:"w-full bg-slate-700 hover:bg-slate-600 text-white font-bold py-2 rounded shadow transition-all active:scale-95 text-[10px] flex items-center justify-center gap-1",children:[f.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Batch Diffs (Auto Download)"]})]})]}),f.jsxs("div",{className:"space-y-3 bg-gray-50 dark:bg-slate-800/40 p-3 rounded-xl border border-gray-100 dark:border-slate-800",children:[f.jsxs("h4",{className:"text-[10px] font-bold text-cyan-600 dark:text-cyan-400 uppercase tracking-widest flex items-center gap-2",children:[f.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-cyan-500"}),"2. Stack FFT (Avg PSD)"]}),f.jsx("p",{className:"text-[10px] text-gray-500 dark:text-slate-400",children:"Average Power Spectrum across a sequence for precise single-frame noise floor."}),f.jsxs("div",{className:"flex flex-col gap-2",children:[f.jsx("input",{type:"file",ref:cr,className:"hidden",multiple:!0,onChange:Dn,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff"}),f.jsxs("button",{onClick:()=>{var K;return(K=cr.current)==null?void 0:K.click()},className:"w-full py-3 bg-cyan-600 hover:bg-cyan-500 text-white font-bold rounded-lg shadow-md transition-all active:scale-95 text-[10px] flex items-center justify-center gap-2",children:[f.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),"Select Sequence Files"]})]}),f.jsx("p",{className:"text-[9px] text-center text-gray-400 italic",children:"Loads first frame. Average FFT calculated on ROI selection."})]}),f.jsx("div",{className:"flex flex-col gap-2 pt-2",children:f.jsxs("button",{onClick:j,className:"w-full bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-2 px-4 rounded-lg shadow-md transition-all active:scale-95 text-[10px] flex items-center justify-center gap-2",children:[f.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),"Cross-Compensation Calc"]})})]})}),s&&f.jsx(Nu,{title:"DR Lab Tools",children:f.jsxs("div",{className:"space-y-4",children:[f.jsx("button",{onClick:u,className:"w-full bg-amber-500 hover:bg-amber-600 text-white font-bold py-2 px-4 rounded-lg shadow-md transition-colors text-sm",children:"Generate Test Pic"}),f.jsxs("div",{className:"border-t border-gray-200 dark:border-slate-700 pt-3",children:[f.jsx("h4",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide mb-2",children:"Grid Analysis"}),h&&d!==void 0&&f.jsx("div",{className:"flex items-center justify-between mb-3",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-sm text-gray-600 dark:text-slate-300",children:"Box Size:"}),f.jsx("input",{type:"number",min:"8",max:"512",step:"2",value:d,onChange:K=>h(parseInt(K.target.value)||64),className:"w-12 px-1 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-sm text-gray-900 dark:text-slate-100 text-center"}),f.jsx("span",{className:"text-xs text-gray-400",children:"px"})]})}),m&&x&&p!==void 0&&v!==void 0&&f.jsxs("div",{className:"flex items-center justify-between mb-3",children:[f.jsx("span",{className:"text-sm text-gray-600 dark:text-slate-300",children:"Layout:"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("input",{type:"number",min:"1",max:"50",value:p,onChange:K=>m(Math.max(1,parseInt(K.target.value)||1)),className:"w-10 px-1 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-sm text-gray-900 dark:text-slate-100 text-center",title:"Rows"}),f.jsx("span",{className:"text-xs text-gray-400",children:"x"}),f.jsx("input",{type:"number",min:"1",max:"50",value:v,onChange:K=>x(Math.max(1,parseInt(K.target.value)||1)),className:"w-10 px-1 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-sm text-gray-900 dark:text-slate-100 text-center",title:"Columns"})]})]}),f.jsxs("div",{className:"flex flex-col gap-2",children:[f.jsx("button",{onClick:c,disabled:!_t||l!==void 0&&l>0,className:`w-full font-bold py-2 px-4 rounded-lg shadow-md transition-all text-sm ${_t?l&&l>0?"bg-indigo-100 dark:bg-indigo-900 text-indigo-700 dark:text-indigo-300 border-2 border-indigo-500":"bg-indigo-600 hover:bg-indigo-700 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:l&&l>0?"Marking Active...":"Mark Corners"}),y&&f.jsxs(f.Fragment,{children:[f.jsx("input",{type:"file",ref:Xt,className:"hidden",multiple:!0,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff",onChange:Nr}),f.jsxs("div",{className:"relative",children:[f.jsxs("button",{onClick:()=>Z(!ye),disabled:!g,className:"w-full font-bold py-2 px-4 rounded-lg shadow-md transition-all text-sm bg-emerald-600 hover:bg-emerald-700 disabled:bg-gray-300 disabled:text-gray-500 disabled:cursor-not-allowed text-white flex items-center justify-center gap-2",title:"Process multiple RAWs",children:[f.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),"Reuse Last & Batch"]}),ye&&f.jsxs("div",{className:"absolute bottom-full left-0 w-full mb-1 bg-white dark:bg-slate-800 rounded-lg shadow-xl border border-gray-200 dark:border-slate-700 overflow-hidden z-20 flex flex-col animate-in fade-in zoom-in-95 duration-100",children:[f.jsx("button",{className:"px-4 py-2 text-left text-xs hover:bg-gray-100 dark:hover:bg-slate-700 text-gray-700 dark:text-slate-200 border-b border-gray-100 dark:border-slate-700 transition-colors",onClick:()=>{var K;Pe("single"),(K=Xt.current)==null||K.click()},children:"1. Independent Frames"}),f.jsx("button",{className:"px-4 py-2 text-left text-xs hover:bg-gray-100 dark:hover:bg-slate-700 text-indigo-600 dark:text-indigo-400 font-bold transition-colors",onClick:()=>{var K;Pe("pair"),(K=Xt.current)==null||K.click()},children:"2. Pair Difference (A-B)"})]})]})]}),f.jsxs("div",{className:"pt-2 mt-2 border-t border-gray-100 dark:border-slate-800",children:[f.jsx("input",{type:"file",ref:pr,className:"hidden",accept:".txt",onChange:br}),f.jsxs("button",{onClick:()=>{var K;return(K=pr.current)==null?void 0:K.click()},className:"w-full font-bold py-2 px-4 rounded-lg shadow-sm transition-all text-xs bg-slate-100 hover:bg-slate-200 dark:bg-slate-800 dark:hover:bg-slate-700 text-gray-600 dark:text-slate-300 flex items-center justify-center gap-2 border border-gray-300 dark:border-slate-600",title:"Convert legacy TXT format (R_mean R_std ...) to standard CSV",children:[f.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})}),"Convert Format (.txt  .csv)"]})]})]}),l!==void 0&&l>0&&f.jsx("div",{className:"mt-2 text-center",children:f.jsxs("p",{className:"text-xs text-indigo-600 dark:text-indigo-400 font-bold animate-pulse",children:[l===1&&"Click Top-Left Center",l===2&&"Click Top-Right Center",l===3&&"Click Bottom-Left Center",l===4&&"Click Bottom-Right Center"]})})]})]})}),f.jsx(Nu,{title:"Selection Tools",children:f.jsx("div",{className:"space-y-3",children:f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2",children:"Quick Select or Shift+drag"}),f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx("span",{className:"text-sm text-gray-600 dark:text-slate-300",children:"Size (px):"}),f.jsx("input",{type:"number",min:"1",value:ce,onChange:K=>ue(K.target.value),disabled:!_t,className:"flex-1 px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-sm text-gray-900 dark:text-slate-100 transition-colors"})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[f.jsx("button",{onClick:Sn,disabled:!_t,className:"px-3 py-1.5 bg-gray-200 hover:bg-gray-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-800 dark:text-slate-200 text-xs font-semibold rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Center Rect"}),f.jsx("button",{onClick:Zr,disabled:!_t,className:"px-3 py-1.5 bg-gray-200 hover:bg-gray-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-800 dark:text-slate-200 text-xs font-semibold rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Full Image"})]})]})})}),f.jsx(Nu,{title:"Display Controls",children:f.jsxs("div",{className:"space-y-5",children:[f.jsxs("p",{className:"text-gray-500 dark:text-slate-400 text-center text-sm",children:["Adjust parameters and click ",f.jsx("b",{children:"Apply"}),"."]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"exposure",className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2",children:"Exposure (EV)"}),f.jsx("div",{className:"flex items-center gap-2 mb-2",children:f.jsx("input",{type:"range",min:"-5",max:"5",step:"0.1",disabled:!_t,value:parseFloat(_)||0,onChange:K=>fr(K.target.value),className:"w-full h-2 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-cyan-500 disabled:opacity-50"})}),f.jsx("div",{className:"flex items-center gap-2",children:f.jsx("input",{id:"exposure",type:"number",step:"0.1",value:_,onChange:K=>fr(K.target.value),disabled:!_t,className:"w-full px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-sm text-gray-900 dark:text-slate-100 transition-colors duration-300"})})]}),f.jsxs("div",{children:[f.jsxs("label",{htmlFor:"demosaic",className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2 flex justify-between",children:[f.jsx("span",{children:"Demosaic Method"}),P&&f.jsx("span",{className:"text-[9px] text-red-500 font-bold bg-red-100 dark:bg-red-900/30 px-1 rounded",children:"DISABLED"})]}),f.jsx("select",{id:"demosaic",value:R,onChange:Rt,disabled:!_t||P,className:"w-full px-2 py-2 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none transition-colors disabled:bg-gray-100 dark:disabled:bg-slate-800/50 disabled:cursor-not-allowed text-sm text-gray-900 dark:text-slate-100",children:lM.map(K=>f.jsx("option",{value:K.value,children:K.label},K.value))}),P&&f.jsx("p",{className:"text-[9px] text-gray-400 mt-1",children:"Full color data detected. Demosaicing skipped."})]}),f.jsx("div",{className:"border-t border-gray-200 dark:border-slate-700 pt-2",children:f.jsx(Tx,{checked:be,onChange:xe,label:"Advanced Settings"})}),be&&f.jsxs("div",{className:"space-y-5 pl-2 border-l-2 border-gray-200 dark:border-slate-700 animate-in slide-in-from-top-2 duration-200",children:[f.jsxs("div",{children:[f.jsx(Tx,{checked:ee,onChange:X,label:"Show Kadc"}),f.jsx("p",{className:"text-[10px] text-gray-400 dark:text-slate-500 mt-1",children:"Requires manual Black Levellinear PTC zoneabsolutely uniform image ."})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2",children:"White Balance Gains"}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsxs("div",{children:[f.jsx("span",{className:"text-xs text-red-500 dark:text-red-400 block mb-1",children:"Red"}),f.jsx("input",{type:"number",step:"0.01",value:T,onChange:K=>Pt(K.target.value),disabled:!_t,className:"w-full px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-red-500 outline-none text-sm text-gray-900 dark:text-slate-100 transition-colors duration-300"})]}),f.jsxs("div",{children:[f.jsx("span",{className:"text-xs text-blue-500 dark:text-blue-400 block mb-1",children:"Blue"}),f.jsx("input",{type:"number",step:"0.01",value:W,onChange:K=>Ge(K.target.value),disabled:!_t,className:"w-full px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-blue-500 outline-none text-sm text-gray-900 dark:text-slate-100 transition-colors duration-300"})]})]})]}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex justify-between items-end mb-2",children:[f.jsxs("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide flex items-center",children:["Black Level (4-Ch)",f.jsx("span",{className:"ml-1 text-[10px] text-gray-400 dark:text-slate-500 font-normal normal-case",children:"Native"}),f.jsx("button",{onClick:()=>le(!0),className:"ml-2 text-[10px] text-cyan-600 dark:text-cyan-400 hover:text-cyan-700 dark:hover:text-cyan-300 hover:underline cursor-pointer transition-colors",title:"About Black Level Settings",children:"[about]"})]}),f.jsxs("div",{className:"flex items-center gap-1.5",title:"Subtract Black Level from ROI Mean stats (for display)",children:[f.jsx("span",{className:"text-[9px] font-mono text-gray-400 dark:text-slate-500 uppercase tracking-wide",children:"Sub. BL"}),f.jsx("div",{className:`relative w-8 h-4 rounded-full cursor-pointer transition-colors duration-200 ease-in-out ${G?"bg-cyan-500":"bg-gray-300 dark:bg-slate-700"}`,onClick:()=>U(!G),children:f.jsx("div",{className:`absolute top-0.5 left-0.5 bg-white w-3 h-3 rounded-full shadow-sm transform transition-transform duration-200 ${G?"translate-x-4":"translate-x-0"}`})})]})]}),f.jsx("input",{type:"text",value:F,onChange:K=>D(K.target.value),disabled:!_t,placeholder:"0 0 0 0",className:"w-full px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-xs font-mono text-gray-900 dark:text-slate-100 transition-colors duration-300",title:"Enter 4 values separated by space or comma"}),f.jsx("p",{className:"text-[10px] text-gray-400 dark:text-slate-500 mt-1",children:"Order: (0,0) (0,1) (1,0) (1,1). Spatial: TL, TR, BL, BR."})]}),f.jsxs("div",{children:[f.jsxs("label",{htmlFor:"customMatrix",className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2",children:["Custom Color Matrix",f.jsx("span",{className:"block text-[10px] text-gray-400 dark:text-slate-500 font-normal normal-case mt-0.5",children:"XYZ to Camera RGB (3x3, 9 nums)"})]}),f.jsx("textarea",{id:"customMatrix",value:N,onChange:Jt,disabled:!_t,placeholder:"0.66 -0.19 -0.04  -0.46 1.23 0.25  -0.06 0.13 0.65",className:"w-full h-24 px-2 py-2 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none transition-colors disabled:bg-gray-100 dark:disabled:bg-slate-800/50 disabled:cursor-not-allowed text-xs font-mono leading-relaxed text-gray-900 dark:text-slate-100"})]})]}),f.jsxs("div",{className:"pt-4 flex flex-col gap-2",children:[f.jsx("button",{onClick:Qr,disabled:!_t,className:"w-full text-base bg-cyan-500 hover:bg-cyan-600 dark:bg-cyan-600 dark:hover:bg-cyan-500 disabled:bg-gray-300 dark:disabled:bg-slate-800 disabled:text-gray-500 dark:disabled:text-slate-500 disabled:cursor-not-allowed text-white font-bold py-3 px-3 rounded-lg shadow-lg shadow-cyan-500/20 dark:shadow-cyan-900/20 transition-all active:scale-95",children:"APPLY SETTINGS"}),f.jsxs("button",{onClick:at,disabled:!_t,className:"w-full text-xs font-bold bg-slate-700 hover:bg-slate-600 text-white disabled:bg-gray-300 dark:disabled:bg-slate-800 disabled:text-gray-500 transition-colors py-2 rounded-lg flex items-center justify-center gap-1.5 border border-slate-600",title:"Bypass internal pipeline. Manual subtract black level & apply basic sRGB gamma to raw data.",children:[f.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})," (Zero-Dep)"]}),f.jsx("button",{onClick:mr,disabled:!_t,className:"w-full text-xs text-gray-400 hover:text-gray-600 dark:text-slate-400 dark:hover:text-slate-200 disabled:text-gray-300 dark:disabled:text-slate-600 transition-colors mt-1",children:"Reset Defaults (Local)"})]})]})})]}),f.jsx(Pf,{isOpen:V,onClose:()=>le(!1),onConfirm:()=>{window.open("https://y-g-jiang.github.io/CBLD.html","_blank"),le(!1)},title:"Black Level Info / ",confirmText:"Visit Database (CBLD)",cancelText:"Close",message:f.jsxs("div",{className:"flex flex-col gap-4 text-left text-sm text-gray-600 dark:text-slate-300",children:[f.jsxs("p",{className:"leading-relaxed",children:["JiangBridge/JiangBridge",f.jsx("a",{href:"https://y-g-jiang.github.io/CBLD.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline mx-1 font-bold",children:"CBLD.html"}),""]}),f.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 w-full"}),f.jsxs("p",{className:"leading-relaxed",children:["Autofills when JiangBridge is detected. If no result is found or JiangBridge is missing, please check the",f.jsx("a",{href:"https://y-g-jiang.github.io/CBLD.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline mx-1 font-bold",children:"Black Level Database"}),"to find your camera model. However, manually capturing a dark frame with identical settings to calculate and input the values is highly recommended for higher decimal precision, as internal tags often lack accuracy."]})]})})]})},uM=()=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20 12H4"})}),fM=()=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})}),dM=()=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 4v5h5M4 12a8 8 0 0114.24-5.12M20 20v-5h-5M20 12a8 8 0 01-14.24 5.12"})}),hM=()=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 11.5V14m0-2.5v-6a1.5 1.5 0 113 0m-3 6a1.5 1.5 0 00-3 0v2a7.5 7.5 0 0015 0v-5a1.5 1.5 0 00-3 0m-6-3V11m0-5.5v-1a1.5 1.5 0 013 0v1m0 0V11m0-5.5a1.5 1.5 0 013 0v3m0 0V11"})}),pM=()=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 4l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})}),G0=.1,H0=16,gM=Math.log(G0),mM=Math.log(H0),yM=({zoom:e,onZoomChange:t,onResetView:r,touchAction:n,onToggleTouchAction:a})=>{const o=c=>{const u=parseFloat(c.target.value),d=Math.exp(u);t(Math.max(G0,Math.min(H0,d)))},i=()=>{t(Math.min(H0,e*1.25))},s=()=>{t(Math.max(G0,e/1.25))},l=Math.log(e);return f.jsxs("div",{className:"absolute top-4 right-4 flex gap-2",onClick:c=>c.stopPropagation(),children:[f.jsx("div",{className:"bg-white/90 dark:bg-slate-800/70 backdrop-blur-sm p-2 rounded-lg border border-gray-200 dark:border-slate-700 flex items-center shadow-lg transition-colors duration-300",children:f.jsx("button",{onClick:a,className:`p-1.5 rounded-md transition-colors flex items-center justify-center ${n==="select"?"bg-cyan-100 text-cyan-600 dark:bg-cyan-900/50 dark:text-cyan-400 ring-2 ring-cyan-500/50":"text-gray-500 dark:text-slate-400 hover:bg-gray-100 dark:hover:bg-slate-700"}`,title:n==="select"?"Mode: Selection (Drag to Select)":"Mode: Pan (Drag to Move)",children:n==="select"?f.jsx(pM,{}):f.jsx(hM,{})})}),f.jsxs("div",{className:"bg-white/90 dark:bg-slate-800/70 backdrop-blur-sm p-2 rounded-lg border border-gray-200 dark:border-slate-700 flex items-center gap-2 text-gray-700 dark:text-slate-300 shadow-lg transition-colors duration-300",children:[f.jsx("button",{onClick:s,className:"p-1 rounded-md hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",title:"Zoom Out","aria-label":"Zoom Out",children:f.jsx(uM,{})}),f.jsx("input",{type:"range",min:gM,max:mM,step:"0.01",value:l,onChange:o,className:"w-24 sm:w-32 h-2 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-cyan-500","aria-label":"Zoom slider"}),f.jsx("button",{onClick:i,className:"p-1 rounded-md hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",title:"Zoom In","aria-label":"Zoom In",children:f.jsx(fM,{})}),f.jsxs("span",{className:"w-16 text-center font-mono text-sm","aria-live":"polite",children:[(e*100).toFixed(0),"%"]}),f.jsx("button",{onClick:r,className:"p-1 rounded-md hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",title:"Reset View","aria-label":"Reset View",children:f.jsx(dM,{})})]})]})},vM=({theme:e,setTheme:t})=>{const r=()=>{t(e==="light"?"dark":"light")};return f.jsx("button",{onClick:r,className:"fixed bottom-6 right-6 z-50 p-3 rounded-full bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 shadow-lg text-gray-800 dark:text-yellow-400 hover:bg-gray-100 dark:hover:bg-slate-700 transition-all duration-300",title:`Switch to ${e==="light"?"dark":"light"} mode`,children:e==="light"?f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-slate-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}):f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})})})};function VS(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=VS(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function ut(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=VS(e))&&(n&&(n+=" "),n+=t);return n}var xM=Array.isArray,kn=xM,bM=typeof uu=="object"&&uu&&uu.Object===Object&&uu,KS=bM,wM=KS,kM=typeof self=="object"&&self&&self.Object===Object&&self,SM=wM||kM||Function("return this")(),Ma=SM,jM=Ma,OM=jM.Symbol,eu=OM,$x=eu,XS=Object.prototype,PM=XS.hasOwnProperty,_M=XS.toString,xl=$x?$x.toStringTag:void 0;function NM(e){var t=PM.call(e,xl),r=e[xl];try{e[xl]=void 0;var n=!0}catch{}var a=_M.call(e);return n&&(t?e[xl]=r:delete e[xl]),a}var AM=NM,MM=Object.prototype,CM=MM.toString;function EM(e){return CM.call(e)}var TM=EM,Dx=eu,$M=AM,DM=TM,RM="[object Null]",LM="[object Undefined]",Rx=Dx?Dx.toStringTag:void 0;function IM(e){return e==null?e===void 0?LM:RM:Rx&&Rx in Object(e)?$M(e):DM(e)}var ro=IM;function BM(e){return e!=null&&typeof e=="object"}var no=BM,FM=ro,zM=no,WM="[object Symbol]";function UM(e){return typeof e=="symbol"||zM(e)&&FM(e)==WM}var Ys=UM,GM=kn,HM=Ys,VM=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,KM=/^\w*$/;function XM(e,t){if(GM(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||HM(e)?!0:KM.test(e)||!VM.test(e)||t!=null&&e in Object(t)}var gy=XM;function YM(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Do=YM;const qs=$t(Do);var qM=ro,ZM=Do,QM="[object AsyncFunction]",JM="[object Function]",eC="[object GeneratorFunction]",tC="[object Proxy]";function rC(e){if(!ZM(e))return!1;var t=qM(e);return t==JM||t==eC||t==QM||t==tC}var my=rC;const We=$t(my);var nC=Ma,aC=nC["__core-js_shared__"],oC=aC,gp=oC,Lx=function(){var e=/[^.]+$/.exec(gp&&gp.keys&&gp.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function iC(e){return!!Lx&&Lx in e}var sC=iC,lC=Function.prototype,cC=lC.toString;function uC(e){if(e!=null){try{return cC.call(e)}catch{}try{return e+""}catch{}}return""}var YS=uC,fC=my,dC=sC,hC=Do,pC=YS,gC=/[\\^$.*+?()[\]{}|]/g,mC=/^\[object .+?Constructor\]$/,yC=Function.prototype,vC=Object.prototype,xC=yC.toString,bC=vC.hasOwnProperty,wC=RegExp("^"+xC.call(bC).replace(gC,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function kC(e){if(!hC(e)||dC(e))return!1;var t=fC(e)?wC:mC;return t.test(pC(e))}var SC=kC;function jC(e,t){return e==null?void 0:e[t]}var OC=jC,PC=SC,_C=OC;function NC(e,t){var r=_C(e,t);return PC(r)?r:void 0}var _i=NC,AC=_i,MC=AC(Object,"create"),Kd=MC,Ix=Kd;function CC(){this.__data__=Ix?Ix(null):{},this.size=0}var EC=CC;function TC(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var $C=TC,DC=Kd,RC="__lodash_hash_undefined__",LC=Object.prototype,IC=LC.hasOwnProperty;function BC(e){var t=this.__data__;if(DC){var r=t[e];return r===RC?void 0:r}return IC.call(t,e)?t[e]:void 0}var FC=BC,zC=Kd,WC=Object.prototype,UC=WC.hasOwnProperty;function GC(e){var t=this.__data__;return zC?t[e]!==void 0:UC.call(t,e)}var HC=GC,VC=Kd,KC="__lodash_hash_undefined__";function XC(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=VC&&t===void 0?KC:t,this}var YC=XC,qC=EC,ZC=$C,QC=FC,JC=HC,eE=YC;function Zs(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Zs.prototype.clear=qC;Zs.prototype.delete=ZC;Zs.prototype.get=QC;Zs.prototype.has=JC;Zs.prototype.set=eE;var tE=Zs;function rE(){this.__data__=[],this.size=0}var nE=rE;function aE(e,t){return e===t||e!==e&&t!==t}var yy=aE,oE=yy;function iE(e,t){for(var r=e.length;r--;)if(oE(e[r][0],t))return r;return-1}var Xd=iE,sE=Xd,lE=Array.prototype,cE=lE.splice;function uE(e){var t=this.__data__,r=sE(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():cE.call(t,r,1),--this.size,!0}var fE=uE,dE=Xd;function hE(e){var t=this.__data__,r=dE(t,e);return r<0?void 0:t[r][1]}var pE=hE,gE=Xd;function mE(e){return gE(this.__data__,e)>-1}var yE=mE,vE=Xd;function xE(e,t){var r=this.__data__,n=vE(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var bE=xE,wE=nE,kE=fE,SE=pE,jE=yE,OE=bE;function Qs(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Qs.prototype.clear=wE;Qs.prototype.delete=kE;Qs.prototype.get=SE;Qs.prototype.has=jE;Qs.prototype.set=OE;var Yd=Qs,PE=_i,_E=Ma,NE=PE(_E,"Map"),vy=NE,Bx=tE,AE=Yd,ME=vy;function CE(){this.size=0,this.__data__={hash:new Bx,map:new(ME||AE),string:new Bx}}var EE=CE;function TE(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var $E=TE,DE=$E;function RE(e,t){var r=e.__data__;return DE(t)?r[typeof t=="string"?"string":"hash"]:r.map}var qd=RE,LE=qd;function IE(e){var t=LE(this,e).delete(e);return this.size-=t?1:0,t}var BE=IE,FE=qd;function zE(e){return FE(this,e).get(e)}var WE=zE,UE=qd;function GE(e){return UE(this,e).has(e)}var HE=GE,VE=qd;function KE(e,t){var r=VE(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var XE=KE,YE=EE,qE=BE,ZE=WE,QE=HE,JE=XE;function Js(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Js.prototype.clear=YE;Js.prototype.delete=qE;Js.prototype.get=ZE;Js.prototype.has=QE;Js.prototype.set=JE;var xy=Js,qS=xy,e5="Expected a function";function by(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(e5);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],o=r.cache;if(o.has(a))return o.get(a);var i=e.apply(this,n);return r.cache=o.set(a,i)||o,i};return r.cache=new(by.Cache||qS),r}by.Cache=qS;var ZS=by;const t5=$t(ZS);var r5=ZS,n5=500;function a5(e){var t=r5(e,function(n){return r.size===n5&&r.clear(),n}),r=t.cache;return t}var o5=a5,i5=o5,s5=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,l5=/\\(\\)?/g,c5=i5(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(s5,function(r,n,a,o){t.push(a?o.replace(l5,"$1"):n||r)}),t}),u5=c5;function f5(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var wy=f5,Fx=eu,d5=wy,h5=kn,p5=Ys,zx=Fx?Fx.prototype:void 0,Wx=zx?zx.toString:void 0;function QS(e){if(typeof e=="string")return e;if(h5(e))return d5(e,QS)+"";if(p5(e))return Wx?Wx.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var g5=QS,m5=g5;function y5(e){return e==null?"":m5(e)}var JS=y5,v5=kn,x5=gy,b5=u5,w5=JS;function k5(e,t){return v5(e)?e:x5(e,t)?[e]:b5(w5(e))}var ej=k5,S5=Ys;function j5(e){if(typeof e=="string"||S5(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Zd=j5,O5=ej,P5=Zd;function _5(e,t){t=O5(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[P5(t[r++])];return r&&r==n?e:void 0}var ky=_5,N5=ky;function A5(e,t,r){var n=e==null?void 0:N5(e,t);return n===void 0?r:n}var tj=A5;const Vn=$t(tj);function M5(e){return e==null}var C5=M5;const Te=$t(C5);var E5=ro,T5=kn,$5=no,D5="[object String]";function R5(e){return typeof e=="string"||!T5(e)&&$5(e)&&E5(e)==D5}var L5=R5;const vi=$t(L5);var rj={exports:{}},jt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sy=Symbol.for("react.element"),jy=Symbol.for("react.portal"),Qd=Symbol.for("react.fragment"),Jd=Symbol.for("react.strict_mode"),eh=Symbol.for("react.profiler"),th=Symbol.for("react.provider"),rh=Symbol.for("react.context"),I5=Symbol.for("react.server_context"),nh=Symbol.for("react.forward_ref"),ah=Symbol.for("react.suspense"),oh=Symbol.for("react.suspense_list"),ih=Symbol.for("react.memo"),sh=Symbol.for("react.lazy"),B5=Symbol.for("react.offscreen"),nj;nj=Symbol.for("react.module.reference");function qn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Sy:switch(e=e.type,e){case Qd:case eh:case Jd:case ah:case oh:return e;default:switch(e=e&&e.$$typeof,e){case I5:case rh:case nh:case sh:case ih:case th:return e;default:return t}}case jy:return t}}}jt.ContextConsumer=rh;jt.ContextProvider=th;jt.Element=Sy;jt.ForwardRef=nh;jt.Fragment=Qd;jt.Lazy=sh;jt.Memo=ih;jt.Portal=jy;jt.Profiler=eh;jt.StrictMode=Jd;jt.Suspense=ah;jt.SuspenseList=oh;jt.isAsyncMode=function(){return!1};jt.isConcurrentMode=function(){return!1};jt.isContextConsumer=function(e){return qn(e)===rh};jt.isContextProvider=function(e){return qn(e)===th};jt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Sy};jt.isForwardRef=function(e){return qn(e)===nh};jt.isFragment=function(e){return qn(e)===Qd};jt.isLazy=function(e){return qn(e)===sh};jt.isMemo=function(e){return qn(e)===ih};jt.isPortal=function(e){return qn(e)===jy};jt.isProfiler=function(e){return qn(e)===eh};jt.isStrictMode=function(e){return qn(e)===Jd};jt.isSuspense=function(e){return qn(e)===ah};jt.isSuspenseList=function(e){return qn(e)===oh};jt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Qd||e===eh||e===Jd||e===ah||e===oh||e===B5||typeof e=="object"&&e!==null&&(e.$$typeof===sh||e.$$typeof===ih||e.$$typeof===th||e.$$typeof===rh||e.$$typeof===nh||e.$$typeof===nj||e.getModuleId!==void 0)};jt.typeOf=qn;rj.exports=jt;var F5=rj.exports,z5=ro,W5=no,U5="[object Number]";function G5(e){return typeof e=="number"||W5(e)&&z5(e)==U5}var aj=G5;const H5=$t(aj);var V5=aj;function K5(e){return V5(e)&&e!=+e}var X5=K5;const el=$t(X5);var ia=function(t){return t===0?0:t>0?1:-1},ri=function(t){return vi(t)&&t.indexOf("%")===t.length-1},oe=function(t){return H5(t)&&!el(t)},Y5=function(t){return Te(t)},Or=function(t){return oe(t)||vi(t)},q5=0,Ni=function(t){var r=++q5;return"".concat(t||"").concat(r)},xi=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!oe(t)&&!vi(t))return n;var o;if(ri(t)){var i=t.indexOf("%");o=r*parseFloat(t.slice(0,i))/100}else o=+t;return el(o)&&(o=n),a&&o>r&&(o=r),o},go=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},Z5=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},hr=function(t,r){return oe(t)&&oe(r)?function(n){return t+n*(r-t)}:function(){return r}};function _f(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Vn(n,t))===r})}var Q5=function(t){if(!t||!t.length)return null;for(var r=t.length,n=0,a=0,o=0,i=0,s=1/0,l=-1/0,c=0,u=0,d=0;d<r;d++)c=t[d].cx||0,u=t[d].cy||0,n+=c,a+=u,o+=c*u,i+=c*c,s=Math.min(s,c),l=Math.max(l,c);var h=r*i!==n*n?(r*o-n*a)/(r*i-n*n):0;return{xmin:s,xmax:l,a:h,b:(a-h*n)/r}},J5=function(t,r){return oe(t)&&oe(r)?t-r:vi(t)&&vi(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function ls(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function V0(e){"@babel/helpers - typeof";return V0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V0(e)}var eT=["viewBox","children"],tT=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Ux=["points","pathLength"],mp={svg:eT,polygon:Ux,polyline:Ux},Oy=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Nf=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(O.isValidElement(t)&&(n=t.props),!qs(n))return null;var a={};return Object.keys(n).forEach(function(o){Oy.includes(o)&&(a[o]=r||function(i){return n[o](n,i)})}),a},rT=function(t,r,n){return function(a){return t(r,n,a),null}},hc=function(t,r,n){if(!qs(t)||V0(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(o){var i=t[o];Oy.includes(o)&&typeof i=="function"&&(a||(a={}),a[o]=rT(i,r,n))}),a},nT=["children"],aT=["children"];function Gx(e,t){if(e==null)return{};var r=oT(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oT(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function K0(e){"@babel/helpers - typeof";return K0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},K0(e)}var Hx={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ga=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},Vx=null,yp=null,Py=function e(t){if(t===Vx&&Array.isArray(yp))return yp;var r=[];return O.Children.forEach(t,function(n){Te(n)||(F5.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),yp=r,Vx=t,r};function wn(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return Ga(a)}):n=[Ga(t)],Py(e).forEach(function(a){var o=Vn(a,"type.displayName")||Vn(a,"type.name");n.indexOf(o)!==-1&&r.push(a)}),r}function _n(e,t){var r=wn(e,t);return r&&r[0]}var Kx=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!oe(n)||n<=0||!oe(a)||a<=0)},iT=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],sT=function(t){return t&&t.type&&vi(t.type)&&iT.indexOf(t.type)>=0},oj=function(t){return t&&K0(t)==="object"&&"clipDot"in t},lT=function(t,r,n,a){var o,i=(o=mp==null?void 0:mp[a])!==null&&o!==void 0?o:[];return r.startsWith("data-")||!We(t)&&(a&&i.includes(r)||tT.includes(r))||n&&Oy.includes(r)},Ie=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(O.isValidElement(t)&&(a=t.props),!qs(a))return null;var o={};return Object.keys(a).forEach(function(i){var s;lT((s=a)===null||s===void 0?void 0:s[i],i,r,n)&&(o[i]=a[i])}),o},X0=function e(t,r){if(t===r)return!0;var n=O.Children.count(t);if(n!==O.Children.count(r))return!1;if(n===0)return!0;if(n===1)return Xx(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var o=t[a],i=r[a];if(Array.isArray(o)||Array.isArray(i)){if(!e(o,i))return!1}else if(!Xx(o,i))return!1}return!0},Xx=function(t,r){if(Te(t)&&Te(r))return!0;if(!Te(t)&&!Te(r)){var n=t.props||{},a=n.children,o=Gx(n,nT),i=r.props||{},s=i.children,l=Gx(i,aT);return a&&s?ls(o,l)&&X0(a,s):!a&&!s?ls(o,l):!1}return!1},Yx=function(t,r){var n=[],a={};return Py(t).forEach(function(o,i){if(sT(o))n.push(o);else if(o){var s=Ga(o.type),l=r[s]||{},c=l.handler,u=l.once;if(c&&(!u||!a[s])){var d=c(o,s,i);n.push(d),a[s]=!0}}}),n},cT=function(t){var r=t&&t.type;return r&&Hx[r]?Hx[r]:null},uT=function(t,r){return Py(r).indexOf(t)},fT=["children","width","height","viewBox","className","style","title","desc"];function Y0(){return Y0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Y0.apply(this,arguments)}function dT(e,t){if(e==null)return{};var r=hT(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function hT(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function q0(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,o=e.className,i=e.style,s=e.title,l=e.desc,c=dT(e,fT),u=a||{width:r,height:n,x:0,y:0},d=ut("recharts-surface",o);return M.createElement("svg",Y0({},Ie(c,!0,"svg"),{className:d,width:r,height:n,style:i,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),M.createElement("title",null,s),M.createElement("desc",null,l),t)}var pT=["children","className"];function Z0(){return Z0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Z0.apply(this,arguments)}function gT(e,t){if(e==null)return{};var r=mT(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mT(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var vt=M.forwardRef(function(e,t){var r=e.children,n=e.className,a=gT(e,pT),o=ut("recharts-layer",n);return M.createElement("g",Z0({className:o},Ie(a,!0),{ref:t}),r)}),Ha=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o]};function yT(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(a);++n<a;)o[n]=e[n+t];return o}var vT=yT,xT=vT;function bT(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:xT(e,t,r)}var wT=bT,kT="\\ud800-\\udfff",ST="\\u0300-\\u036f",jT="\\ufe20-\\ufe2f",OT="\\u20d0-\\u20ff",PT=ST+jT+OT,_T="\\ufe0e\\ufe0f",NT="\\u200d",AT=RegExp("["+NT+kT+PT+_T+"]");function MT(e){return AT.test(e)}var ij=MT;function CT(e){return e.split("")}var ET=CT,sj="\\ud800-\\udfff",TT="\\u0300-\\u036f",$T="\\ufe20-\\ufe2f",DT="\\u20d0-\\u20ff",RT=TT+$T+DT,LT="\\ufe0e\\ufe0f",IT="["+sj+"]",Q0="["+RT+"]",J0="\\ud83c[\\udffb-\\udfff]",BT="(?:"+Q0+"|"+J0+")",lj="[^"+sj+"]",cj="(?:\\ud83c[\\udde6-\\uddff]){2}",uj="[\\ud800-\\udbff][\\udc00-\\udfff]",FT="\\u200d",fj=BT+"?",dj="["+LT+"]?",zT="(?:"+FT+"(?:"+[lj,cj,uj].join("|")+")"+dj+fj+")*",WT=dj+fj+zT,UT="(?:"+[lj+Q0+"?",Q0,cj,uj,IT].join("|")+")",GT=RegExp(J0+"(?="+J0+")|"+UT+WT,"g");function HT(e){return e.match(GT)||[]}var VT=HT,KT=ET,XT=ij,YT=VT;function qT(e){return XT(e)?YT(e):KT(e)}var ZT=qT,QT=wT,JT=ij,e$=ZT,t$=JS;function r$(e){return function(t){t=t$(t);var r=JT(t)?e$(t):void 0,n=r?r[0]:t.charAt(0),a=r?QT(r,1).join(""):t.slice(1);return n[e]()+a}}var n$=r$,a$=n$,o$=a$("toUpperCase"),i$=o$;const lh=$t(i$);function Ft(e){return function(){return e}}const hj=Math.cos,Af=Math.sin,ha=Math.sqrt,Mf=Math.PI,ch=2*Mf,eg=Math.PI,tg=2*eg,qo=1e-6,s$=tg-qo;function pj(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function l$(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return pj;const r=10**t;return function(n){this._+=n[0];for(let a=1,o=n.length;a<o;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class c${constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?pj:l$(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,o,i){this._append`C${+t},${+r},${+n},${+a},${this._x1=+o},${this._y1=+i}`}arcTo(t,r,n,a,o){if(t=+t,r=+r,n=+n,a=+a,o=+o,o<0)throw new Error(`negative radius: ${o}`);let i=this._x1,s=this._y1,l=n-t,c=a-r,u=i-t,d=s-r,h=u*u+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>qo)if(!(Math.abs(d*l-c*u)>qo)||!o)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-i,m=a-s,v=l*l+c*c,x=p*p+m*m,y=Math.sqrt(v),g=Math.sqrt(h),b=o*Math.tan((eg-Math.acos((v+h-x)/(2*y*g)))/2),S=b/g,w=b/y;Math.abs(S-1)>qo&&this._append`L${t+S*u},${r+S*d}`,this._append`A${o},${o},0,0,${+(d*p>u*m)},${this._x1=t+w*l},${this._y1=r+w*c}`}}arc(t,r,n,a,o,i){if(t=+t,r=+r,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(a),l=n*Math.sin(a),c=t+s,u=r+l,d=1^i,h=i?a-o:o-a;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>qo||Math.abs(this._y1-u)>qo)&&this._append`L${c},${u}`,n&&(h<0&&(h=h%tg+tg),h>s$?this._append`A${n},${n},0,1,${d},${t-s},${r-l}A${n},${n},0,1,${d},${this._x1=c},${this._y1=u}`:h>qo&&this._append`A${n},${n},0,${+(h>=eg)},${d},${this._x1=t+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function _y(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new c$(t)}function Ny(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function gj(e){this._context=e}gj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function uh(e){return new gj(e)}function mj(e){return e[0]}function yj(e){return e[1]}function vj(e,t){var r=Ft(!0),n=null,a=uh,o=null,i=_y(s);e=typeof e=="function"?e:e===void 0?mj:Ft(e),t=typeof t=="function"?t:t===void 0?yj:Ft(t);function s(l){var c,u=(l=Ny(l)).length,d,h=!1,p;for(n==null&&(o=a(p=i())),c=0;c<=u;++c)!(c<u&&r(d=l[c],c,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+e(d,c,l),+t(d,c,l));if(p)return o=null,p+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:Ft(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:Ft(+l),s):t},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Ft(!!l),s):r},s.curve=function(l){return arguments.length?(a=l,n!=null&&(o=a(n)),s):a},s.context=function(l){return arguments.length?(l==null?n=o=null:o=a(n=l),s):n},s}function Au(e,t,r){var n=null,a=Ft(!0),o=null,i=uh,s=null,l=_y(c);e=typeof e=="function"?e:e===void 0?mj:Ft(+e),t=typeof t=="function"?t:Ft(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?yj:Ft(+r);function c(d){var h,p,m,v=(d=Ny(d)).length,x,y=!1,g,b=new Array(v),S=new Array(v);for(o==null&&(s=i(g=l())),h=0;h<=v;++h){if(!(h<v&&a(x=d[h],h,d))===y)if(y=!y)p=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),m=h-1;m>=p;--m)s.point(b[m],S[m]);s.lineEnd(),s.areaEnd()}y&&(b[h]=+e(x,h,d),S[h]=+t(x,h,d),s.point(n?+n(x,h,d):b[h],r?+r(x,h,d):S[h]))}if(g)return s=null,g+""||null}function u(){return vj().defined(a).curve(i).context(o)}return c.x=function(d){return arguments.length?(e=typeof d=="function"?d:Ft(+d),n=null,c):e},c.x0=function(d){return arguments.length?(e=typeof d=="function"?d:Ft(+d),c):e},c.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Ft(+d),c):n},c.y=function(d){return arguments.length?(t=typeof d=="function"?d:Ft(+d),r=null,c):t},c.y0=function(d){return arguments.length?(t=typeof d=="function"?d:Ft(+d),c):t},c.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Ft(+d),c):r},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(r)},c.lineX1=function(){return u().x(n).y(t)},c.defined=function(d){return arguments.length?(a=typeof d=="function"?d:Ft(!!d),c):a},c.curve=function(d){return arguments.length?(i=d,o!=null&&(s=i(o)),c):i},c.context=function(d){return arguments.length?(d==null?o=s=null:s=i(o=d),c):o},c}class xj{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function u$(e){return new xj(e,!0)}function f$(e){return new xj(e,!1)}const Ay={draw(e,t){const r=ha(t/Mf);e.moveTo(r,0),e.arc(0,0,r,0,ch)}},d$={draw(e,t){const r=ha(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},bj=ha(1/3),h$=bj*2,p$={draw(e,t){const r=ha(t/h$),n=r*bj;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},g$={draw(e,t){const r=ha(t),n=-r/2;e.rect(n,n,r,r)}},m$=.8908130915292852,wj=Af(Mf/10)/Af(7*Mf/10),y$=Af(ch/10)*wj,v$=-hj(ch/10)*wj,x$={draw(e,t){const r=ha(t*m$),n=y$*r,a=v$*r;e.moveTo(0,-r),e.lineTo(n,a);for(let o=1;o<5;++o){const i=ch*o/5,s=hj(i),l=Af(i);e.lineTo(l*r,-s*r),e.lineTo(s*n-l*a,l*n+s*a)}e.closePath()}},vp=ha(3),b$={draw(e,t){const r=-ha(t/(vp*3));e.moveTo(0,r*2),e.lineTo(-vp*r,-r),e.lineTo(vp*r,-r),e.closePath()}},Rn=-.5,Ln=ha(3)/2,rg=1/ha(12),w$=(rg/2+1)*3,k$={draw(e,t){const r=ha(t/w$),n=r/2,a=r*rg,o=n,i=r*rg+r,s=-o,l=i;e.moveTo(n,a),e.lineTo(o,i),e.lineTo(s,l),e.lineTo(Rn*n-Ln*a,Ln*n+Rn*a),e.lineTo(Rn*o-Ln*i,Ln*o+Rn*i),e.lineTo(Rn*s-Ln*l,Ln*s+Rn*l),e.lineTo(Rn*n+Ln*a,Rn*a-Ln*n),e.lineTo(Rn*o+Ln*i,Rn*i-Ln*o),e.lineTo(Rn*s+Ln*l,Rn*l-Ln*s),e.closePath()}};function S$(e,t){let r=null,n=_y(a);e=typeof e=="function"?e:Ft(e||Ay),t=typeof t=="function"?t:Ft(t===void 0?64:+t);function a(){let o;if(r||(r=o=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),o)return r=null,o+""||null}return a.type=function(o){return arguments.length?(e=typeof o=="function"?o:Ft(o),a):e},a.size=function(o){return arguments.length?(t=typeof o=="function"?o:Ft(+o),a):t},a.context=function(o){return arguments.length?(r=o??null,a):r},a}function Cf(){}function Ef(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function kj(e){this._context=e}kj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ef(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ef(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function j$(e){return new kj(e)}function Sj(e){this._context=e}Sj.prototype={areaStart:Cf,areaEnd:Cf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Ef(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function O$(e){return new Sj(e)}function jj(e){this._context=e}jj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Ef(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function P$(e){return new jj(e)}function Oj(e){this._context=e}Oj.prototype={areaStart:Cf,areaEnd:Cf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function _$(e){return new Oj(e)}function qx(e){return e<0?-1:1}function Zx(e,t,r){var n=e._x1-e._x0,a=t-e._x1,o=(e._y1-e._y0)/(n||a<0&&-0),i=(r-e._y1)/(a||n<0&&-0),s=(o*a+i*n)/(n+a);return(qx(o)+qx(i))*Math.min(Math.abs(o),Math.abs(i),.5*Math.abs(s))||0}function Qx(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function xp(e,t,r){var n=e._x0,a=e._y0,o=e._x1,i=e._y1,s=(o-n)/3;e._context.bezierCurveTo(n+s,a+s*t,o-s,i-s*r,o,i)}function Tf(e){this._context=e}Tf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:xp(this,this._t0,Qx(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,xp(this,Qx(this,r=Zx(this,e,t)),r);break;default:xp(this,this._t0,r=Zx(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function Pj(e){this._context=new _j(e)}(Pj.prototype=Object.create(Tf.prototype)).point=function(e,t){Tf.prototype.point.call(this,t,e)};function _j(e){this._context=e}_j.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,o){this._context.bezierCurveTo(t,e,n,r,o,a)}};function N$(e){return new Tf(e)}function A$(e){return new Pj(e)}function Nj(e){this._context=e}Nj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Jx(e),a=Jx(t),o=0,i=1;i<r;++o,++i)this._context.bezierCurveTo(n[0][o],a[0][o],n[1][o],a[1][o],e[i],t[i]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Jx(e){var t,r=e.length-1,n,a=new Array(r),o=new Array(r),i=new Array(r);for(a[0]=0,o[0]=2,i[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,o[t]=4,i[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,o[r-1]=7,i[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/o[t-1],o[t]-=n,i[t]-=n*i[t-1];for(a[r-1]=i[r-1]/o[r-1],t=r-2;t>=0;--t)a[t]=(i[t]-a[t+1])/o[t];for(o[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-a[t+1];return[a,o]}function M$(e){return new Nj(e)}function fh(e,t){this._context=e,this._t=t}fh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function C$(e){return new fh(e,.5)}function E$(e){return new fh(e,0)}function T$(e){return new fh(e,1)}function vs(e,t){if((i=e.length)>1)for(var r=1,n,a,o=e[t[0]],i,s=o.length;r<i;++r)for(a=o,o=e[t[r]],n=0;n<s;++n)o[n][1]+=o[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function ng(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function $$(e,t){return e[t]}function D$(e){const t=[];return t.key=e,t}function R$(){var e=Ft([]),t=ng,r=vs,n=$$;function a(o){var i=Array.from(e.apply(this,arguments),D$),s,l=i.length,c=-1,u;for(const d of o)for(s=0,++c;s<l;++s)(i[s][c]=[0,+n(d,i[s].key,c,o)]).data=d;for(s=0,u=Ny(t(i));s<l;++s)i[u[s]].index=s;return r(i,u),i}return a.keys=function(o){return arguments.length?(e=typeof o=="function"?o:Ft(Array.from(o)),a):e},a.value=function(o){return arguments.length?(n=typeof o=="function"?o:Ft(+o),a):n},a.order=function(o){return arguments.length?(t=o==null?ng:typeof o=="function"?o:Ft(Array.from(o)),a):t},a.offset=function(o){return arguments.length?(r=o??vs,a):r},a}function L$(e,t){if((n=e.length)>0){for(var r,n,a=0,o=e[0].length,i;a<o;++a){for(i=r=0;r<n;++r)i+=e[r][a][1]||0;if(i)for(r=0;r<n;++r)e[r][a][1]/=i}vs(e,t)}}function I$(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,o=n.length;r<o;++r){for(var i=0,s=0;i<a;++i)s+=e[i][r][1]||0;n[r][1]+=n[r][0]=-s/2}vs(e,t)}}function B$(e,t){if(!(!((i=e.length)>0)||!((o=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,o,i;n<o;++n){for(var s=0,l=0,c=0;s<i;++s){for(var u=e[t[s]],d=u[n][1]||0,h=u[n-1][1]||0,p=(d-h)/2,m=0;m<s;++m){var v=e[t[m]],x=v[n][1]||0,y=v[n-1][1]||0;p+=x-y}l+=d,c+=p*d}a[n-1][1]+=a[n-1][0]=r,l&&(r-=c/l)}a[n-1][1]+=a[n-1][0]=r,vs(e,t)}}function pc(e){"@babel/helpers - typeof";return pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pc(e)}var F$=["type","size","sizeType"];function ag(){return ag=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ag.apply(this,arguments)}function eb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eb(Object(r),!0).forEach(function(n){z$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function z$(e,t,r){return t=W$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W$(e){var t=U$(e,"string");return pc(t)=="symbol"?t:t+""}function U$(e,t){if(pc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function G$(e,t){if(e==null)return{};var r=H$(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function H$(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Aj={symbolCircle:Ay,symbolCross:d$,symbolDiamond:p$,symbolSquare:g$,symbolStar:x$,symbolTriangle:b$,symbolWye:k$},V$=Math.PI/180,K$=function(t){var r="symbol".concat(lh(t));return Aj[r]||Ay},X$=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*V$;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Y$=function(t,r){Aj["symbol".concat(lh(t))]=r},dh=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,o=a===void 0?64:a,i=t.sizeType,s=i===void 0?"area":i,l=G$(t,F$),c=tb(tb({},l),{},{type:n,size:o,sizeType:s}),u=function(){var x=K$(n),y=S$().type(x).size(X$(o,s,n));return y()},d=c.className,h=c.cx,p=c.cy,m=Ie(c,!0);return h===+h&&p===+p&&o===+o?M.createElement("path",ag({},m,{className:ut("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(p,")"),d:u()})):null};dh.registerSymbol=Y$;function xs(e){"@babel/helpers - typeof";return xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xs(e)}function og(){return og=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},og.apply(this,arguments)}function rb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function q$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rb(Object(r),!0).forEach(function(n){gc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Z$(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Cj(n.key),n)}}function J$(e,t,r){return t&&Q$(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function e4(e,t,r){return t=$f(t),t4(e,Mj()?Reflect.construct(t,r||[],$f(e).constructor):t.apply(e,r))}function t4(e,t){if(t&&(xs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r4(e)}function r4(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mj(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Mj=function(){return!!e})()}function $f(e){return $f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$f(e)}function n4(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ig(e,t)}function ig(e,t){return ig=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ig(e,t)}function gc(e,t,r){return t=Cj(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cj(e){var t=a4(e,"string");return xs(t)=="symbol"?t:t+""}function a4(e,t){if(xs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var In=32,My=function(e){function t(){return Z$(this,t),e4(this,t,arguments)}return n4(t,e),J$(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,o=In/2,i=In/6,s=In/3,l=n.inactive?a:n.color;if(n.type==="plainline")return M.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:o,x2:In,y2:o,className:"recharts-legend-icon"});if(n.type==="line")return M.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(In,"M").concat(2*s,",").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(n.type==="rect")return M.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(In/8,"h").concat(In,"v").concat(In*3/4,"h").concat(-In,"z"),className:"recharts-legend-icon"});if(M.isValidElement(n.legendIcon)){var c=q$({},n);return delete c.legendIcon,M.cloneElement(n.legendIcon,c)}return M.createElement(dh,{fill:l,cx:o,cy:o,size:In,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,o=a.payload,i=a.iconSize,s=a.layout,l=a.formatter,c=a.inactiveColor,u={x:0,y:0,width:In,height:In},d={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(p,m){var v=p.formatter||l,x=ut(gc(gc({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",p.inactive));if(p.type==="none")return null;var y=We(p.value)?null:p.value;Ha(!We(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var g=p.inactive?c:p.color;return M.createElement("li",og({className:x,style:d,key:"legend-item-".concat(m)},hc(n.props,p,m)),M.createElement(q0,{width:i,height:i,viewBox:u,style:h},n.renderIcon(p)),M.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},v?v(y,p,m):y))})}},{key:"render",value:function(){var n=this.props,a=n.payload,o=n.layout,i=n.align;if(!a||!a.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?i:"left"};return M.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(O.PureComponent);gc(My,"displayName","Legend");gc(My,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var o4=Yd;function i4(){this.__data__=new o4,this.size=0}var s4=i4;function l4(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var c4=l4;function u4(e){return this.__data__.get(e)}var f4=u4;function d4(e){return this.__data__.has(e)}var h4=d4,p4=Yd,g4=vy,m4=xy,y4=200;function v4(e,t){var r=this.__data__;if(r instanceof p4){var n=r.__data__;if(!g4||n.length<y4-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new m4(n)}return r.set(e,t),this.size=r.size,this}var x4=v4,b4=Yd,w4=s4,k4=c4,S4=f4,j4=h4,O4=x4;function tl(e){var t=this.__data__=new b4(e);this.size=t.size}tl.prototype.clear=w4;tl.prototype.delete=k4;tl.prototype.get=S4;tl.prototype.has=j4;tl.prototype.set=O4;var Ej=tl,P4="__lodash_hash_undefined__";function _4(e){return this.__data__.set(e,P4),this}var N4=_4;function A4(e){return this.__data__.has(e)}var M4=A4,C4=xy,E4=N4,T4=M4;function Df(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new C4;++t<r;)this.add(e[t])}Df.prototype.add=Df.prototype.push=E4;Df.prototype.has=T4;var Tj=Df;function $4(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var $j=$4;function D4(e,t){return e.has(t)}var Dj=D4,R4=Tj,L4=$j,I4=Dj,B4=1,F4=2;function z4(e,t,r,n,a,o){var i=r&B4,s=e.length,l=t.length;if(s!=l&&!(i&&l>s))return!1;var c=o.get(e),u=o.get(t);if(c&&u)return c==t&&u==e;var d=-1,h=!0,p=r&F4?new R4:void 0;for(o.set(e,t),o.set(t,e);++d<s;){var m=e[d],v=t[d];if(n)var x=i?n(v,m,d,t,e,o):n(m,v,d,e,t,o);if(x!==void 0){if(x)continue;h=!1;break}if(p){if(!L4(t,function(y,g){if(!I4(p,g)&&(m===y||a(m,y,r,n,o)))return p.push(g)})){h=!1;break}}else if(!(m===v||a(m,v,r,n,o))){h=!1;break}}return o.delete(e),o.delete(t),h}var Rj=z4,W4=Ma,U4=W4.Uint8Array,G4=U4;function H4(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var V4=H4;function K4(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var Cy=K4,nb=eu,ab=G4,X4=yy,Y4=Rj,q4=V4,Z4=Cy,Q4=1,J4=2,e3="[object Boolean]",t3="[object Date]",r3="[object Error]",n3="[object Map]",a3="[object Number]",o3="[object RegExp]",i3="[object Set]",s3="[object String]",l3="[object Symbol]",c3="[object ArrayBuffer]",u3="[object DataView]",ob=nb?nb.prototype:void 0,bp=ob?ob.valueOf:void 0;function f3(e,t,r,n,a,o,i){switch(r){case u3:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case c3:return!(e.byteLength!=t.byteLength||!o(new ab(e),new ab(t)));case e3:case t3:case a3:return X4(+e,+t);case r3:return e.name==t.name&&e.message==t.message;case o3:case s3:return e==t+"";case n3:var s=q4;case i3:var l=n&Q4;if(s||(s=Z4),e.size!=t.size&&!l)return!1;var c=i.get(e);if(c)return c==t;n|=J4,i.set(e,t);var u=Y4(s(e),s(t),n,a,o,i);return i.delete(e),u;case l3:if(bp)return bp.call(e)==bp.call(t)}return!1}var d3=f3;function h3(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var Lj=h3,p3=Lj,g3=kn;function m3(e,t,r){var n=t(e);return g3(e)?n:p3(n,r(e))}var y3=m3;function v3(e,t){for(var r=-1,n=e==null?0:e.length,a=0,o=[];++r<n;){var i=e[r];t(i,r,e)&&(o[a++]=i)}return o}var x3=v3;function b3(){return[]}var w3=b3,k3=x3,S3=w3,j3=Object.prototype,O3=j3.propertyIsEnumerable,ib=Object.getOwnPropertySymbols,P3=ib?function(e){return e==null?[]:(e=Object(e),k3(ib(e),function(t){return O3.call(e,t)}))}:S3,_3=P3;function N3(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var A3=N3,M3=ro,C3=no,E3="[object Arguments]";function T3(e){return C3(e)&&M3(e)==E3}var $3=T3,sb=$3,D3=no,Ij=Object.prototype,R3=Ij.hasOwnProperty,L3=Ij.propertyIsEnumerable,I3=sb(function(){return arguments}())?sb:function(e){return D3(e)&&R3.call(e,"callee")&&!L3.call(e,"callee")},Ey=I3,Rf={exports:{}};function B3(){return!1}var F3=B3;Rf.exports;(function(e,t){var r=Ma,n=F3,a=t&&!t.nodeType&&t,o=a&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===a,s=i?r.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||n;e.exports=c})(Rf,Rf.exports);var Bj=Rf.exports,z3=9007199254740991,W3=/^(?:0|[1-9]\d*)$/;function U3(e,t){var r=typeof e;return t=t??z3,!!t&&(r=="number"||r!="symbol"&&W3.test(e))&&e>-1&&e%1==0&&e<t}var Ty=U3,G3=9007199254740991;function H3(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=G3}var $y=H3,V3=ro,K3=$y,X3=no,Y3="[object Arguments]",q3="[object Array]",Z3="[object Boolean]",Q3="[object Date]",J3="[object Error]",eD="[object Function]",tD="[object Map]",rD="[object Number]",nD="[object Object]",aD="[object RegExp]",oD="[object Set]",iD="[object String]",sD="[object WeakMap]",lD="[object ArrayBuffer]",cD="[object DataView]",uD="[object Float32Array]",fD="[object Float64Array]",dD="[object Int8Array]",hD="[object Int16Array]",pD="[object Int32Array]",gD="[object Uint8Array]",mD="[object Uint8ClampedArray]",yD="[object Uint16Array]",vD="[object Uint32Array]",Gt={};Gt[uD]=Gt[fD]=Gt[dD]=Gt[hD]=Gt[pD]=Gt[gD]=Gt[mD]=Gt[yD]=Gt[vD]=!0;Gt[Y3]=Gt[q3]=Gt[lD]=Gt[Z3]=Gt[cD]=Gt[Q3]=Gt[J3]=Gt[eD]=Gt[tD]=Gt[rD]=Gt[nD]=Gt[aD]=Gt[oD]=Gt[iD]=Gt[sD]=!1;function xD(e){return X3(e)&&K3(e.length)&&!!Gt[V3(e)]}var bD=xD;function wD(e){return function(t){return e(t)}}var Fj=wD,Lf={exports:{}};Lf.exports;(function(e,t){var r=KS,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===n,i=o&&r.process,s=function(){try{var l=a&&a.require&&a.require("util").types;return l||i&&i.binding&&i.binding("util")}catch{}}();e.exports=s})(Lf,Lf.exports);var kD=Lf.exports,SD=bD,jD=Fj,lb=kD,cb=lb&&lb.isTypedArray,OD=cb?jD(cb):SD,zj=OD,PD=A3,_D=Ey,ND=kn,AD=Bj,MD=Ty,CD=zj,ED=Object.prototype,TD=ED.hasOwnProperty;function $D(e,t){var r=ND(e),n=!r&&_D(e),a=!r&&!n&&AD(e),o=!r&&!n&&!a&&CD(e),i=r||n||a||o,s=i?PD(e.length,String):[],l=s.length;for(var c in e)(t||TD.call(e,c))&&!(i&&(c=="length"||a&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||MD(c,l)))&&s.push(c);return s}var DD=$D,RD=Object.prototype;function LD(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||RD;return e===r}var ID=LD;function BD(e,t){return function(r){return e(t(r))}}var Wj=BD,FD=Wj,zD=FD(Object.keys,Object),WD=zD,UD=ID,GD=WD,HD=Object.prototype,VD=HD.hasOwnProperty;function KD(e){if(!UD(e))return GD(e);var t=[];for(var r in Object(e))VD.call(e,r)&&r!="constructor"&&t.push(r);return t}var XD=KD,YD=my,qD=$y;function ZD(e){return e!=null&&qD(e.length)&&!YD(e)}var tu=ZD,QD=DD,JD=XD,eR=tu;function tR(e){return eR(e)?QD(e):JD(e)}var hh=tR,rR=y3,nR=_3,aR=hh;function oR(e){return rR(e,aR,nR)}var iR=oR,ub=iR,sR=1,lR=Object.prototype,cR=lR.hasOwnProperty;function uR(e,t,r,n,a,o){var i=r&sR,s=ub(e),l=s.length,c=ub(t),u=c.length;if(l!=u&&!i)return!1;for(var d=l;d--;){var h=s[d];if(!(i?h in t:cR.call(t,h)))return!1}var p=o.get(e),m=o.get(t);if(p&&m)return p==t&&m==e;var v=!0;o.set(e,t),o.set(t,e);for(var x=i;++d<l;){h=s[d];var y=e[h],g=t[h];if(n)var b=i?n(g,y,h,t,e,o):n(y,g,h,e,t,o);if(!(b===void 0?y===g||a(y,g,r,n,o):b)){v=!1;break}x||(x=h=="constructor")}if(v&&!x){var S=e.constructor,w=t.constructor;S!=w&&"constructor"in e&&"constructor"in t&&!(typeof S=="function"&&S instanceof S&&typeof w=="function"&&w instanceof w)&&(v=!1)}return o.delete(e),o.delete(t),v}var fR=uR,dR=_i,hR=Ma,pR=dR(hR,"DataView"),gR=pR,mR=_i,yR=Ma,vR=mR(yR,"Promise"),xR=vR,bR=_i,wR=Ma,kR=bR(wR,"Set"),Uj=kR,SR=_i,jR=Ma,OR=SR(jR,"WeakMap"),PR=OR,sg=gR,lg=vy,cg=xR,ug=Uj,fg=PR,Gj=ro,rl=YS,fb="[object Map]",_R="[object Object]",db="[object Promise]",hb="[object Set]",pb="[object WeakMap]",gb="[object DataView]",NR=rl(sg),AR=rl(lg),MR=rl(cg),CR=rl(ug),ER=rl(fg),Zo=Gj;(sg&&Zo(new sg(new ArrayBuffer(1)))!=gb||lg&&Zo(new lg)!=fb||cg&&Zo(cg.resolve())!=db||ug&&Zo(new ug)!=hb||fg&&Zo(new fg)!=pb)&&(Zo=function(e){var t=Gj(e),r=t==_R?e.constructor:void 0,n=r?rl(r):"";if(n)switch(n){case NR:return gb;case AR:return fb;case MR:return db;case CR:return hb;case ER:return pb}return t});var TR=Zo,wp=Ej,$R=Rj,DR=d3,RR=fR,mb=TR,yb=kn,vb=Bj,LR=zj,IR=1,xb="[object Arguments]",bb="[object Array]",Mu="[object Object]",BR=Object.prototype,wb=BR.hasOwnProperty;function FR(e,t,r,n,a,o){var i=yb(e),s=yb(t),l=i?bb:mb(e),c=s?bb:mb(t);l=l==xb?Mu:l,c=c==xb?Mu:c;var u=l==Mu,d=c==Mu,h=l==c;if(h&&vb(e)){if(!vb(t))return!1;i=!0,u=!1}if(h&&!u)return o||(o=new wp),i||LR(e)?$R(e,t,r,n,a,o):DR(e,t,l,r,n,a,o);if(!(r&IR)){var p=u&&wb.call(e,"__wrapped__"),m=d&&wb.call(t,"__wrapped__");if(p||m){var v=p?e.value():e,x=m?t.value():t;return o||(o=new wp),a(v,x,r,n,o)}}return h?(o||(o=new wp),RR(e,t,r,n,a,o)):!1}var zR=FR,WR=zR,kb=no;function Hj(e,t,r,n,a){return e===t?!0:e==null||t==null||!kb(e)&&!kb(t)?e!==e&&t!==t:WR(e,t,r,n,Hj,a)}var Dy=Hj,UR=Ej,GR=Dy,HR=1,VR=2;function KR(e,t,r,n){var a=r.length,o=a,i=!n;if(e==null)return!o;for(e=Object(e);a--;){var s=r[a];if(i&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<o;){s=r[a];var l=s[0],c=e[l],u=s[1];if(i&&s[2]){if(c===void 0&&!(l in e))return!1}else{var d=new UR;if(n)var h=n(c,u,l,e,t,d);if(!(h===void 0?GR(u,c,HR|VR,n,d):h))return!1}}return!0}var XR=KR,YR=Do;function qR(e){return e===e&&!YR(e)}var Vj=qR,ZR=Vj,QR=hh;function JR(e){for(var t=QR(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,ZR(a)]}return t}var eL=JR;function tL(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var Kj=tL,rL=XR,nL=eL,aL=Kj;function oL(e){var t=nL(e);return t.length==1&&t[0][2]?aL(t[0][0],t[0][1]):function(r){return r===e||rL(r,e,t)}}var iL=oL;function sL(e,t){return e!=null&&t in Object(e)}var lL=sL,cL=ej,uL=Ey,fL=kn,dL=Ty,hL=$y,pL=Zd;function gL(e,t,r){t=cL(t,e);for(var n=-1,a=t.length,o=!1;++n<a;){var i=pL(t[n]);if(!(o=e!=null&&r(e,i)))break;e=e[i]}return o||++n!=a?o:(a=e==null?0:e.length,!!a&&hL(a)&&dL(i,a)&&(fL(e)||uL(e)))}var mL=gL,yL=lL,vL=mL;function xL(e,t){return e!=null&&vL(e,t,yL)}var bL=xL,wL=Dy,kL=tj,SL=bL,jL=gy,OL=Vj,PL=Kj,_L=Zd,NL=1,AL=2;function ML(e,t){return jL(e)&&OL(t)?PL(_L(e),t):function(r){var n=kL(r,e);return n===void 0&&n===t?SL(r,e):wL(t,n,NL|AL)}}var CL=ML;function EL(e){return e}var nl=EL;function TL(e){return function(t){return t==null?void 0:t[e]}}var $L=TL,DL=ky;function RL(e){return function(t){return DL(t,e)}}var LL=RL,IL=$L,BL=LL,FL=gy,zL=Zd;function WL(e){return FL(e)?IL(zL(e)):BL(e)}var UL=WL,GL=iL,HL=CL,VL=nl,KL=kn,XL=UL;function YL(e){return typeof e=="function"?e:e==null?VL:typeof e=="object"?KL(e)?HL(e[0],e[1]):GL(e):XL(e)}var Ro=YL;function qL(e,t,r,n){for(var a=e.length,o=r+(n?1:-1);n?o--:++o<a;)if(t(e[o],o,e))return o;return-1}var Xj=qL;function ZL(e){return e!==e}var QL=ZL;function JL(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var eI=JL,tI=Xj,rI=QL,nI=eI;function aI(e,t,r){return t===t?nI(e,t,r):tI(e,rI,r)}var oI=aI,iI=oI;function sI(e,t){var r=e==null?0:e.length;return!!r&&iI(e,t,0)>-1}var lI=sI;function cI(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var uI=cI;function fI(){}var dI=fI,kp=Uj,hI=dI,pI=Cy,gI=1/0,mI=kp&&1/pI(new kp([,-0]))[1]==gI?function(e){return new kp(e)}:hI,yI=mI,vI=Tj,xI=lI,bI=uI,wI=Dj,kI=yI,SI=Cy,jI=200;function OI(e,t,r){var n=-1,a=xI,o=e.length,i=!0,s=[],l=s;if(r)i=!1,a=bI;else if(o>=jI){var c=t?null:kI(e);if(c)return SI(c);i=!1,a=wI,l=new vI}else l=t?[]:s;e:for(;++n<o;){var u=e[n],d=t?t(u):u;if(u=r||u!==0?u:0,i&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;t&&l.push(d),s.push(u)}else a(l,d,r)||(l!==s&&l.push(d),s.push(u))}return s}var PI=OI,_I=Ro,NI=PI;function AI(e,t){return e&&e.length?NI(e,_I(t)):[]}var MI=AI;const Sb=$t(MI);function Yj(e,t,r){return t===!0?Sb(e,r):We(t)?Sb(e,t):e}function bs(e){"@babel/helpers - typeof";return bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bs(e)}var CI=["ref"];function jb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Da(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jb(Object(r),!0).forEach(function(n){ph(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ob(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Zj(n.key),n)}}function TI(e,t,r){return t&&Ob(e.prototype,t),r&&Ob(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function $I(e,t,r){return t=If(t),DI(e,qj()?Reflect.construct(t,r||[],If(e).constructor):t.apply(e,r))}function DI(e,t){if(t&&(bs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RI(e)}function RI(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qj(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qj=function(){return!!e})()}function If(e){return If=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},If(e)}function LI(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dg(e,t)}function dg(e,t){return dg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},dg(e,t)}function ph(e,t,r){return t=Zj(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zj(e){var t=II(e,"string");return bs(t)=="symbol"?t:t+""}function II(e,t){if(bs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function BI(e,t){if(e==null)return{};var r=FI(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function FI(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function zI(e){return e.value}function WI(e,t){if(M.isValidElement(e))return M.cloneElement(e,t);if(typeof e=="function")return M.createElement(e,t);t.ref;var r=BI(t,CI);return M.createElement(My,r)}var Pb=1,Va=function(e){function t(){var r;EI(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=$I(this,t,[].concat(a)),ph(r,"lastBoundingBox",{width:-1,height:-1}),r}return LI(t,e),TI(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>Pb||Math.abs(a.height-this.lastBoundingBox.height)>Pb)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Da({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,o=a.layout,i=a.align,s=a.verticalAlign,l=a.margin,c=a.chartWidth,u=a.chartHeight,d,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(i==="center"&&o==="vertical"){var p=this.getBBoxSnapshot();d={left:((c||0)-p.width)/2}}else d=i==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(s==="middle"){var m=this.getBBoxSnapshot();h={top:((u||0)-m.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Da(Da({},d),h)}},{key:"render",value:function(){var n=this,a=this.props,o=a.content,i=a.width,s=a.height,l=a.wrapperStyle,c=a.payloadUniqBy,u=a.payload,d=Da(Da({position:"absolute",width:i||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return M.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(p){n.wrapperNode=p}},WI(o,Da(Da({},this.props),{},{payload:Yj(u,c,zI)})))}}],[{key:"getWithHeight",value:function(n,a){var o=Da(Da({},this.defaultProps),n.props),i=o.layout;return i==="vertical"&&oe(n.props.height)?{height:n.props.height}:i==="horizontal"?{width:n.props.width||a}:null}}])}(O.PureComponent);ph(Va,"displayName","Legend");ph(Va,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var _b=eu,UI=Ey,GI=kn,Nb=_b?_b.isConcatSpreadable:void 0;function HI(e){return GI(e)||UI(e)||!!(Nb&&e&&e[Nb])}var VI=HI,KI=Lj,XI=VI;function Qj(e,t,r,n,a){var o=-1,i=e.length;for(r||(r=XI),a||(a=[]);++o<i;){var s=e[o];t>0&&r(s)?t>1?Qj(s,t-1,r,n,a):KI(a,s):n||(a[a.length]=s)}return a}var Jj=Qj;function YI(e){return function(t,r,n){for(var a=-1,o=Object(t),i=n(t),s=i.length;s--;){var l=i[e?s:++a];if(r(o[l],l,o)===!1)break}return t}}var qI=YI,ZI=qI,QI=ZI(),JI=QI,e6=JI,t6=hh;function r6(e,t){return e&&e6(e,t,t6)}var eO=r6,n6=tu;function a6(e,t){return function(r,n){if(r==null)return r;if(!n6(r))return e(r,n);for(var a=r.length,o=t?a:-1,i=Object(r);(t?o--:++o<a)&&n(i[o],o,i)!==!1;);return r}}var o6=a6,i6=eO,s6=o6,l6=s6(i6),Ry=l6,c6=Ry,u6=tu;function f6(e,t){var r=-1,n=u6(e)?Array(e.length):[];return c6(e,function(a,o,i){n[++r]=t(a,o,i)}),n}var tO=f6;function d6(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var h6=d6,Ab=Ys;function p6(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,o=Ab(e),i=t!==void 0,s=t===null,l=t===t,c=Ab(t);if(!s&&!c&&!o&&e>t||o&&i&&l&&!s&&!c||n&&i&&l||!r&&l||!a)return 1;if(!n&&!o&&!c&&e<t||c&&r&&a&&!n&&!o||s&&r&&a||!i&&a||!l)return-1}return 0}var g6=p6,m6=g6;function y6(e,t,r){for(var n=-1,a=e.criteria,o=t.criteria,i=a.length,s=r.length;++n<i;){var l=m6(a[n],o[n]);if(l){if(n>=s)return l;var c=r[n];return l*(c=="desc"?-1:1)}}return e.index-t.index}var v6=y6,Sp=wy,x6=ky,b6=Ro,w6=tO,k6=h6,S6=Fj,j6=v6,O6=nl,P6=kn;function _6(e,t,r){t.length?t=Sp(t,function(o){return P6(o)?function(i){return x6(i,o.length===1?o[0]:o)}:o}):t=[O6];var n=-1;t=Sp(t,S6(b6));var a=w6(e,function(o,i,s){var l=Sp(t,function(c){return c(o)});return{criteria:l,index:++n,value:o}});return k6(a,function(o,i){return j6(o,i,r)})}var N6=_6;function A6(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var M6=A6,C6=M6,Mb=Math.max;function E6(e,t,r){return t=Mb(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,o=Mb(n.length-t,0),i=Array(o);++a<o;)i[a]=n[t+a];a=-1;for(var s=Array(t+1);++a<t;)s[a]=n[a];return s[t]=r(i),C6(e,this,s)}}var T6=E6;function $6(e){return function(){return e}}var D6=$6,R6=_i,L6=function(){try{var e=R6(Object,"defineProperty");return e({},"",{}),e}catch{}}(),rO=L6,I6=D6,Cb=rO,B6=nl,F6=Cb?function(e,t){return Cb(e,"toString",{configurable:!0,enumerable:!1,value:I6(t),writable:!0})}:B6,z6=F6,W6=800,U6=16,G6=Date.now;function H6(e){var t=0,r=0;return function(){var n=G6(),a=U6-(n-r);if(r=n,a>0){if(++t>=W6)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var V6=H6,K6=z6,X6=V6,Y6=X6(K6),q6=Y6,Z6=nl,Q6=T6,J6=q6;function eB(e,t){return J6(Q6(e,t,Z6),e+"")}var tB=eB,rB=yy,nB=tu,aB=Ty,oB=Do;function iB(e,t,r){if(!oB(r))return!1;var n=typeof t;return(n=="number"?nB(r)&&aB(t,r.length):n=="string"&&t in r)?rB(r[t],e):!1}var gh=iB,sB=Jj,lB=N6,cB=tB,Eb=gh,uB=cB(function(e,t){if(e==null)return[];var r=t.length;return r>1&&Eb(e,t[0],t[1])?t=[]:r>2&&Eb(t[0],t[1],t[2])&&(t=[t[0]]),lB(e,sB(t,1),[])}),fB=uB;const Ly=$t(fB);function mc(e){"@babel/helpers - typeof";return mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mc(e)}function hg(){return hg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hg.apply(this,arguments)}function dB(e,t){return mB(e)||gB(e,t)||pB(e,t)||hB()}function hB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pB(e,t){if(e){if(typeof e=="string")return Tb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Tb(e,t)}}function Tb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gB(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function mB(e){if(Array.isArray(e))return e}function $b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$b(Object(r),!0).forEach(function(n){yB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$b(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yB(e,t,r){return t=vB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vB(e){var t=xB(e,"string");return mc(t)=="symbol"?t:t+""}function xB(e,t){if(mc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bB(e){return Array.isArray(e)&&Or(e[0])&&Or(e[1])?e.join(" ~ "):e}var wB=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,o=a===void 0?{}:a,i=t.itemStyle,s=i===void 0?{}:i,l=t.labelStyle,c=l===void 0?{}:l,u=t.payload,d=t.formatter,h=t.itemSorter,p=t.wrapperClassName,m=t.labelClassName,v=t.label,x=t.labelFormatter,y=t.accessibilityLayer,g=y===void 0?!1:y,b=function(){if(u&&u.length){var E={padding:0,margin:0},F=(h?Ly(u,h):u).map(function(D,T){if(D.type==="none")return null;var L=jp({display:"block",paddingTop:4,paddingBottom:4,color:D.color||"#000"},s),W=D.formatter||d||bB,I=D.value,R=D.name,B=I,ee=R;if(W&&B!=null&&ee!=null){var X=W(I,R,D,T,u);if(Array.isArray(X)){var G=dB(X,2);B=G[0],ee=G[1]}else B=X}return M.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(T),style:L},Or(ee)?M.createElement("span",{className:"recharts-tooltip-item-name"},ee):null,Or(ee)?M.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,M.createElement("span",{className:"recharts-tooltip-item-value"},B),M.createElement("span",{className:"recharts-tooltip-item-unit"},D.unit||""))});return M.createElement("ul",{className:"recharts-tooltip-item-list",style:E},F)}return null},S=jp({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),w=jp({margin:0},c),k=!Te(v),j=k?v:"",P=ut("recharts-default-tooltip",p),_=ut("recharts-tooltip-label",m);k&&x&&u!==void 0&&u!==null&&(j=x(v,u));var A=g?{role:"status","aria-live":"assertive"}:{};return M.createElement("div",hg({className:P,style:S},A),M.createElement("p",{className:_,style:w},M.isValidElement(j)?j:"".concat(j)),b())};function yc(e){"@babel/helpers - typeof";return yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yc(e)}function Cu(e,t,r){return t=kB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kB(e){var t=SB(e,"string");return yc(t)=="symbol"?t:t+""}function SB(e,t){if(yc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bl="recharts-tooltip-wrapper",jB={visibility:"hidden"};function OB(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return ut(bl,Cu(Cu(Cu(Cu({},"".concat(bl,"-right"),oe(r)&&t&&oe(t.x)&&r>=t.x),"".concat(bl,"-left"),oe(r)&&t&&oe(t.x)&&r<t.x),"".concat(bl,"-bottom"),oe(n)&&t&&oe(t.y)&&n>=t.y),"".concat(bl,"-top"),oe(n)&&t&&oe(t.y)&&n<t.y))}function Db(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,o=e.position,i=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(o&&oe(o[n]))return o[n];var u=r[n]-s-a,d=r[n]+a;if(t[n])return i[n]?u:d;if(i[n]){var h=u,p=l[n];return h<p?Math.max(d,l[n]):Math.max(u,l[n])}var m=d+s,v=l[n]+c;return m>v?Math.max(u,l[n]):Math.max(d,l[n])}function PB(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function _B(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,o=e.reverseDirection,i=e.tooltipBox,s=e.useTranslate3d,l=e.viewBox,c,u,d;return i.height>0&&i.width>0&&r?(u=Db({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:o,tooltipDimension:i.width,viewBox:l,viewBoxDimension:l.width}),d=Db({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:o,tooltipDimension:i.height,viewBox:l,viewBoxDimension:l.height}),c=PB({translateX:u,translateY:d,useTranslate3d:s})):c=jB,{cssProperties:c,cssClasses:OB({translateX:u,translateY:d,coordinate:r})}}function ws(e){"@babel/helpers - typeof";return ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ws(e)}function Rb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rb(Object(r),!0).forEach(function(n){gg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AB(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,aO(n.key),n)}}function MB(e,t,r){return t&&AB(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function CB(e,t,r){return t=Bf(t),EB(e,nO()?Reflect.construct(t,r||[],Bf(e).constructor):t.apply(e,r))}function EB(e,t){if(t&&(ws(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TB(e)}function TB(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nO=function(){return!!e})()}function Bf(e){return Bf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bf(e)}function $B(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pg(e,t)}function pg(e,t){return pg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},pg(e,t)}function gg(e,t,r){return t=aO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aO(e){var t=DB(e,"string");return ws(t)=="symbol"?t:t+""}function DB(e,t){if(ws(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ws(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ib=1,RB=function(e){function t(){var r;NB(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=CB(this,t,[].concat(a)),gg(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),gg(r,"handleKeyDown",function(i){if(i.key==="Escape"){var s,l,c,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(c=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),r}return $B(t,e),MB(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>Ib||Math.abs(n.height-this.state.lastBoundingBox.height)>Ib)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,o=a.active,i=a.allowEscapeViewBox,s=a.animationDuration,l=a.animationEasing,c=a.children,u=a.coordinate,d=a.hasPayload,h=a.isAnimationActive,p=a.offset,m=a.position,v=a.reverseDirection,x=a.useTranslate3d,y=a.viewBox,g=a.wrapperStyle,b=_B({allowEscapeViewBox:i,coordinate:u,offsetTopLeft:p,position:m,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:y}),S=b.cssClasses,w=b.cssProperties,k=Lb(Lb({transition:h&&o?"transform ".concat(s,"ms ").concat(l):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&d?"visible":"hidden",position:"absolute",top:0,left:0},g);return M.createElement("div",{tabIndex:-1,className:S,style:k,ref:function(P){n.wrapperNode=P}},c)}}])}(O.PureComponent),LB=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Lo={isSsr:LB()};function ks(e){"@babel/helpers - typeof";return ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ks(e)}function Bb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bb(Object(r),!0).forEach(function(n){Iy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BB(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iO(n.key),n)}}function FB(e,t,r){return t&&BB(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zB(e,t,r){return t=Ff(t),WB(e,oO()?Reflect.construct(t,r||[],Ff(e).constructor):t.apply(e,r))}function WB(e,t){if(t&&(ks(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UB(e)}function UB(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oO=function(){return!!e})()}function Ff(e){return Ff=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ff(e)}function GB(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mg(e,t)}function mg(e,t){return mg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},mg(e,t)}function Iy(e,t,r){return t=iO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iO(e){var t=HB(e,"string");return ks(t)=="symbol"?t:t+""}function HB(e,t){if(ks(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ks(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function VB(e){return e.dataKey}function KB(e,t){return M.isValidElement(e)?M.cloneElement(e,t):typeof e=="function"?M.createElement(e,t):M.createElement(wB,t)}var cn=function(e){function t(){return IB(this,t),zB(this,t,arguments)}return GB(t,e),FB(t,[{key:"render",value:function(){var n=this,a=this.props,o=a.active,i=a.allowEscapeViewBox,s=a.animationDuration,l=a.animationEasing,c=a.content,u=a.coordinate,d=a.filterNull,h=a.isAnimationActive,p=a.offset,m=a.payload,v=a.payloadUniqBy,x=a.position,y=a.reverseDirection,g=a.useTranslate3d,b=a.viewBox,S=a.wrapperStyle,w=m??[];d&&w.length&&(w=Yj(m.filter(function(j){return j.value!=null&&(j.hide!==!0||n.props.includeHidden)}),v,VB));var k=w.length>0;return M.createElement(RB,{allowEscapeViewBox:i,animationDuration:s,animationEasing:l,isAnimationActive:h,active:o,coordinate:u,hasPayload:k,offset:p,position:x,reverseDirection:y,useTranslate3d:g,viewBox:b,wrapperStyle:S},KB(c,Fb(Fb({},this.props),{},{payload:w})))}}])}(O.PureComponent);Iy(cn,"displayName","Tooltip");Iy(cn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Lo.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var XB=Ma,YB=function(){return XB.Date.now()},qB=YB,ZB=/\s/;function QB(e){for(var t=e.length;t--&&ZB.test(e.charAt(t)););return t}var JB=QB,e8=JB,t8=/^\s+/;function r8(e){return e&&e.slice(0,e8(e)+1).replace(t8,"")}var n8=r8,a8=n8,zb=Do,o8=Ys,Wb=NaN,i8=/^[-+]0x[0-9a-f]+$/i,s8=/^0b[01]+$/i,l8=/^0o[0-7]+$/i,c8=parseInt;function u8(e){if(typeof e=="number")return e;if(o8(e))return Wb;if(zb(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=zb(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=a8(e);var r=s8.test(e);return r||l8.test(e)?c8(e.slice(2),r?2:8):i8.test(e)?Wb:+e}var sO=u8,f8=Do,Op=qB,Ub=sO,d8="Expected a function",h8=Math.max,p8=Math.min;function g8(e,t,r){var n,a,o,i,s,l,c=0,u=!1,d=!1,h=!0;if(typeof e!="function")throw new TypeError(d8);t=Ub(t)||0,f8(r)&&(u=!!r.leading,d="maxWait"in r,o=d?h8(Ub(r.maxWait)||0,t):o,h="trailing"in r?!!r.trailing:h);function p(k){var j=n,P=a;return n=a=void 0,c=k,i=e.apply(P,j),i}function m(k){return c=k,s=setTimeout(y,t),u?p(k):i}function v(k){var j=k-l,P=k-c,_=t-j;return d?p8(_,o-P):_}function x(k){var j=k-l,P=k-c;return l===void 0||j>=t||j<0||d&&P>=o}function y(){var k=Op();if(x(k))return g(k);s=setTimeout(y,v(k))}function g(k){return s=void 0,h&&n?p(k):(n=a=void 0,i)}function b(){s!==void 0&&clearTimeout(s),c=0,n=l=a=s=void 0}function S(){return s===void 0?i:g(Op())}function w(){var k=Op(),j=x(k);if(n=arguments,a=this,l=k,j){if(s===void 0)return m(l);if(d)return clearTimeout(s),s=setTimeout(y,t),p(l)}return s===void 0&&(s=setTimeout(y,t)),i}return w.cancel=b,w.flush=S,w}var m8=g8,y8=m8,v8=Do,x8="Expected a function";function b8(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(x8);return v8(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),y8(e,t,{leading:n,maxWait:t,trailing:a})}var w8=b8;const lO=$t(w8);function vc(e){"@babel/helpers - typeof";return vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vc(e)}function Gb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Eu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gb(Object(r),!0).forEach(function(n){k8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function k8(e,t,r){return t=S8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S8(e){var t=j8(e,"string");return vc(t)=="symbol"?t:t+""}function j8(e,t){if(vc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function O8(e,t){return A8(e)||N8(e,t)||_8(e,t)||P8()}function P8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _8(e,t){if(e){if(typeof e=="string")return Hb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Hb(e,t)}}function Hb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function N8(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function A8(e){if(Array.isArray(e))return e}var Ss=O.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,o=e.width,i=o===void 0?"100%":o,s=e.height,l=s===void 0?"100%":s,c=e.minWidth,u=c===void 0?0:c,d=e.minHeight,h=e.maxHeight,p=e.children,m=e.debounce,v=m===void 0?0:m,x=e.id,y=e.className,g=e.onResize,b=e.style,S=b===void 0?{}:b,w=O.useRef(null),k=O.useRef();k.current=g,O.useImperativeHandle(t,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var j=O.useState({containerWidth:a.width,containerHeight:a.height}),P=O8(j,2),_=P[0],A=P[1],N=O.useCallback(function(F,D){A(function(T){var L=Math.round(F),W=Math.round(D);return T.containerWidth===L&&T.containerHeight===W?T:{containerWidth:L,containerHeight:W}})},[]);O.useEffect(function(){var F=function(R){var B,ee=R[0].contentRect,X=ee.width,G=ee.height;N(X,G),(B=k.current)===null||B===void 0||B.call(k,X,G)};v>0&&(F=lO(F,v,{trailing:!0,leading:!1}));var D=new ResizeObserver(F),T=w.current.getBoundingClientRect(),L=T.width,W=T.height;return N(L,W),D.observe(w.current),function(){D.disconnect()}},[N,v]);var E=O.useMemo(function(){var F=_.containerWidth,D=_.containerHeight;if(F<0||D<0)return null;Ha(ri(i)||ri(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,l),Ha(!r||r>0,"The aspect(%s) must be greater than zero.",r);var T=ri(i)?F:i,L=ri(l)?D:l;r&&r>0&&(T?L=T/r:L&&(T=L*r),h&&L>h&&(L=h)),Ha(T>0||L>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,T,L,i,l,u,d,r);var W=!Array.isArray(p)&&Ga(p.type).endsWith("Chart");return M.Children.map(p,function(I){return M.isValidElement(I)?O.cloneElement(I,Eu({width:T,height:L},W?{style:Eu({height:"100%",width:"100%",maxHeight:L,maxWidth:T},I.props.style)}:{})):I})},[r,p,l,h,d,u,_,i]);return M.createElement("div",{id:x?"".concat(x):void 0,className:ut("recharts-responsive-container",y),style:Eu(Eu({},S),{},{width:i,height:l,minWidth:u,minHeight:d,maxHeight:h}),ref:w},E)}),By=function(t){return null};By.displayName="Cell";function xc(e){"@babel/helpers - typeof";return xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xc(e)}function Vb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vb(Object(r),!0).forEach(function(n){M8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function M8(e,t,r){return t=C8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C8(e){var t=E8(e,"string");return xc(t)=="symbol"?t:t+""}function E8(e,t){if(xc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ri={widthCache:{},cacheCount:0},T8=2e3,$8={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Kb="recharts_measurement_span";function D8(e){var t=yg({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Ul=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Lo.isSsr)return{width:0,height:0};var n=D8(r),a=JSON.stringify({text:t,copyStyle:n});if(Ri.widthCache[a])return Ri.widthCache[a];try{var o=document.getElementById(Kb);o||(o=document.createElement("span"),o.setAttribute("id",Kb),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var i=yg(yg({},$8),n);Object.assign(o.style,i),o.textContent="".concat(t);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return Ri.widthCache[a]=l,++Ri.cacheCount>T8&&(Ri.cacheCount=0,Ri.widthCache={}),l}catch{return{width:0,height:0}}},R8=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function bc(e){"@babel/helpers - typeof";return bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bc(e)}function zf(e,t){return F8(e)||B8(e,t)||I8(e,t)||L8()}function L8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I8(e,t){if(e){if(typeof e=="string")return Xb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xb(e,t)}}function Xb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function B8(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function F8(e){if(Array.isArray(e))return e}function z8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,U8(n.key),n)}}function W8(e,t,r){return t&&Yb(e.prototype,t),r&&Yb(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function U8(e){var t=G8(e,"string");return bc(t)=="symbol"?t:t+""}function G8(e,t){if(bc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var qb=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Zb=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,H8=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,V8=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,cO={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},K8=Object.keys(cO),Ji="NaN";function X8(e,t){return e*cO[t]}var Tu=function(){function e(t,r){z8(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!H8.test(r)&&(this.num=NaN,this.unit=""),K8.includes(r)&&(this.num=X8(t,r),this.unit="px")}return W8(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=V8.exec(r))!==null&&n!==void 0?n:[],o=zf(a,3),i=o[1],s=o[2];return new e(parseFloat(i),s??"")}}])}();function uO(e){if(e.includes(Ji))return Ji;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=qb.exec(t))!==null&&r!==void 0?r:[],a=zf(n,4),o=a[1],i=a[2],s=a[3],l=Tu.parse(o??""),c=Tu.parse(s??""),u=i==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return Ji;t=t.replace(qb,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,h=(d=Zb.exec(t))!==null&&d!==void 0?d:[],p=zf(h,4),m=p[1],v=p[2],x=p[3],y=Tu.parse(m??""),g=Tu.parse(x??""),b=v==="+"?y.add(g):y.subtract(g);if(b.isNaN())return Ji;t=t.replace(Zb,b.toString())}return t}var Qb=/\(([^()]*)\)/;function Y8(e){for(var t=e;t.includes("(");){var r=Qb.exec(t),n=zf(r,2),a=n[1];t=t.replace(Qb,uO(a))}return t}function q8(e){var t=e.replace(/\s+/g,"");return t=Y8(t),t=uO(t),t}function Z8(e){try{return q8(e)}catch{return Ji}}function Pp(e){var t=Z8(e.slice(5,-1));return t===Ji?"":t}var Q8=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],J8=["dx","dy","angle","className","breakAll"];function vg(){return vg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vg.apply(this,arguments)}function Jb(e,t){if(e==null)return{};var r=eF(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function eF(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function e1(e,t){return aF(e)||nF(e,t)||rF(e,t)||tF()}function tF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rF(e,t){if(e){if(typeof e=="string")return t1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t1(e,t)}}function t1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nF(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function aF(e){if(Array.isArray(e))return e}var fO=/[ \f\n\r\t\v\u2028\u2029]+/,dO=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var o=[];Te(r)||(n?o=r.toString().split(""):o=r.toString().split(fO));var i=o.map(function(l){return{word:l,width:Ul(l,a).width}}),s=n?0:Ul("",a).width;return{wordsWithComputedWidth:i,spaceWidth:s}}catch{return null}},oF=function(t,r,n,a,o){var i=t.maxLines,s=t.children,l=t.style,c=t.breakAll,u=oe(i),d=s,h=function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return T.reduce(function(L,W){var I=W.word,R=W.width,B=L[L.length-1];if(B&&(a==null||o||B.width+R+n<Number(a)))B.words.push(I),B.width+=R+n;else{var ee={words:[I],width:R};L.push(ee)}return L},[])},p=h(r),m=function(T){return T.reduce(function(L,W){return L.width>W.width?L:W})};if(!u)return p;for(var v="",x=function(T){var L=d.slice(0,T),W=dO({breakAll:c,style:l,children:L+v}).wordsWithComputedWidth,I=h(W),R=I.length>i||m(I).width>Number(a);return[R,I]},y=0,g=d.length-1,b=0,S;y<=g&&b<=d.length-1;){var w=Math.floor((y+g)/2),k=w-1,j=x(k),P=e1(j,2),_=P[0],A=P[1],N=x(w),E=e1(N,1),F=E[0];if(!_&&!F&&(y=w+1),_&&F&&(g=w-1),!_&&F){S=A;break}b++}return S||p},r1=function(t){var r=Te(t)?[]:t.toString().split(fO);return[{words:r}]},iF=function(t){var r=t.width,n=t.scaleToFit,a=t.children,o=t.style,i=t.breakAll,s=t.maxLines;if((r||n)&&!Lo.isSsr){var l,c,u=dO({breakAll:i,children:a,style:o});if(u){var d=u.wordsWithComputedWidth,h=u.spaceWidth;l=d,c=h}else return r1(a);return oF({breakAll:i,children:a,maxLines:s,style:o},l,c,r,n)}return r1(a)},n1="#808080",Wf=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,o=a===void 0?0:a,i=t.lineHeight,s=i===void 0?"1em":i,l=t.capHeight,c=l===void 0?"0.71em":l,u=t.scaleToFit,d=u===void 0?!1:u,h=t.textAnchor,p=h===void 0?"start":h,m=t.verticalAnchor,v=m===void 0?"end":m,x=t.fill,y=x===void 0?n1:x,g=Jb(t,Q8),b=O.useMemo(function(){return iF({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:d,style:g.style,width:g.width})},[g.breakAll,g.children,g.maxLines,d,g.style,g.width]),S=g.dx,w=g.dy,k=g.angle,j=g.className,P=g.breakAll,_=Jb(g,J8);if(!Or(n)||!Or(o))return null;var A=n+(oe(S)?S:0),N=o+(oe(w)?w:0),E;switch(v){case"start":E=Pp("calc(".concat(c,")"));break;case"middle":E=Pp("calc(".concat((b.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:E=Pp("calc(".concat(b.length-1," * -").concat(s,")"));break}var F=[];if(d){var D=b[0].width,T=g.width;F.push("scale(".concat((oe(T)?T/D:1)/D,")"))}return k&&F.push("rotate(".concat(k,", ").concat(A,", ").concat(N,")")),F.length&&(_.transform=F.join(" ")),M.createElement("text",vg({},Ie(_,!0),{x:A,y:N,className:ut("recharts-text",j),textAnchor:p,fill:y.includes("url")?n1:y}),b.map(function(L,W){var I=L.words.join(P?"":" ");return M.createElement("tspan",{x:A,dy:W===0?E:s,key:"".concat(I,"-").concat(W)},I)}))};function Ao(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function sF(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Fy(e){let t,r,n;e.length!==2?(t=Ao,r=(s,l)=>Ao(e(s),l),n=(s,l)=>e(s)-l):(t=e===Ao||e===sF?e:lF,r=e,n=e);function a(s,l,c=0,u=s.length){if(c<u){if(t(l,l)!==0)return u;do{const d=c+u>>>1;r(s[d],l)<0?c=d+1:u=d}while(c<u)}return c}function o(s,l,c=0,u=s.length){if(c<u){if(t(l,l)!==0)return u;do{const d=c+u>>>1;r(s[d],l)<=0?c=d+1:u=d}while(c<u)}return c}function i(s,l,c=0,u=s.length){const d=a(s,l,c,u-1);return d>c&&n(s[d-1],l)>-n(s[d],l)?d-1:d}return{left:a,center:i,right:o}}function lF(){return 0}function hO(e){return e===null?NaN:+e}function*cF(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const uF=Fy(Ao),ru=uF.right;Fy(hO).center;class a1 extends Map{constructor(t,r=hF){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(o1(this,t))}has(t){return super.has(o1(this,t))}set(t,r){return super.set(fF(this,t),r)}delete(t){return super.delete(dF(this,t))}}function o1({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function fF({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function dF({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function hF(e){return e!==null&&typeof e=="object"?e.valueOf():e}function pF(e=Ao){if(e===Ao)return pO;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function pO(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const gF=Math.sqrt(50),mF=Math.sqrt(10),yF=Math.sqrt(2);function Uf(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),o=n/Math.pow(10,a),i=o>=gF?10:o>=mF?5:o>=yF?2:1;let s,l,c;return a<0?(c=Math.pow(10,-a)/i,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*i,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=r&&r<2?Uf(e,t,r*2):[s,l,c]}function xg(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,o,i]=n?Uf(t,e,r):Uf(e,t,r);if(!(o>=a))return[];const s=o-a+1,l=new Array(s);if(n)if(i<0)for(let c=0;c<s;++c)l[c]=(o-c)/-i;else for(let c=0;c<s;++c)l[c]=(o-c)*i;else if(i<0)for(let c=0;c<s;++c)l[c]=(a+c)/-i;else for(let c=0;c<s;++c)l[c]=(a+c)*i;return l}function bg(e,t,r){return t=+t,e=+e,r=+r,Uf(e,t,r)[2]}function wg(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?bg(t,e,r):bg(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function i1(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function s1(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function gO(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?pO:pF(a);n>r;){if(n-r>600){const l=n-r+1,c=t-r+1,u=Math.log(l),d=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*d*(l-d)/l)*(c-l/2<0?-1:1),p=Math.max(r,Math.floor(t-c*d/l+h)),m=Math.min(n,Math.floor(t+(l-c)*d/l+h));gO(e,t,p,m,a)}const o=e[t];let i=r,s=n;for(wl(e,r,t),a(e[n],o)>0&&wl(e,r,n);i<s;){for(wl(e,i,s),++i,--s;a(e[i],o)<0;)++i;for(;a(e[s],o)>0;)--s}a(e[r],o)===0?wl(e,r,s):(++s,wl(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function wl(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function vF(e,t,r){if(e=Float64Array.from(cF(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return s1(e);if(t>=1)return i1(e);var n,a=(n-1)*t,o=Math.floor(a),i=i1(gO(e,o).subarray(0,o+1)),s=s1(e.subarray(o+1));return i+(s-i)*(a-o)}}function xF(e,t,r=hO){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,o=Math.floor(a),i=+r(e[o],o,e),s=+r(e[o+1],o+1,e);return i+(s-i)*(a-o)}}function bF(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,o=new Array(a);++n<a;)o[n]=e+n*r;return o}function Zn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ao(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const kg=Symbol("implicit");function zy(){var e=new a1,t=[],r=[],n=kg;function a(o){let i=e.get(o);if(i===void 0){if(n!==kg)return n;e.set(o,i=t.push(o)-1)}return r[i%r.length]}return a.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new a1;for(const i of o)e.has(i)||e.set(i,t.push(i)-1);return a},a.range=function(o){return arguments.length?(r=Array.from(o),a):r.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return zy(t,r).unknown(n)},Zn.apply(a,arguments),a}function wc(){var e=zy().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,o,i,s=!1,l=0,c=0,u=.5;delete e.unknown;function d(){var h=t().length,p=a<n,m=p?a:n,v=p?n:a;o=(v-m)/Math.max(1,h-l+c*2),s&&(o=Math.floor(o)),m+=(v-m-o*(h-l))*u,i=o*(1-l),s&&(m=Math.round(m),i=Math.round(i));var x=bF(h).map(function(y){return m+o*y});return r(p?x.reverse():x)}return e.domain=function(h){return arguments.length?(t(h),d()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,d()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,s=!0,d()},e.bandwidth=function(){return i},e.step=function(){return o},e.round=function(h){return arguments.length?(s=!!h,d()):s},e.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),d()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},e.paddingOuter=function(h){return arguments.length?(c=+h,d()):c},e.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),d()):u},e.copy=function(){return wc(t(),[n,a]).round(s).paddingInner(l).paddingOuter(c).align(u)},Zn.apply(d(),arguments)}function mO(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return mO(t())},e}function Gl(){return mO(wc.apply(null,arguments).paddingInner(1))}function Wy(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function yO(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function nu(){}var kc=.7,Gf=1/kc,cs="\\s*([+-]?\\d+)\\s*",Sc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Oa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",wF=/^#([0-9a-f]{3,8})$/,kF=new RegExp(`^rgb\\(${cs},${cs},${cs}\\)$`),SF=new RegExp(`^rgb\\(${Oa},${Oa},${Oa}\\)$`),jF=new RegExp(`^rgba\\(${cs},${cs},${cs},${Sc}\\)$`),OF=new RegExp(`^rgba\\(${Oa},${Oa},${Oa},${Sc}\\)$`),PF=new RegExp(`^hsl\\(${Sc},${Oa},${Oa}\\)$`),_F=new RegExp(`^hsla\\(${Sc},${Oa},${Oa},${Sc}\\)$`),l1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Wy(nu,jc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:c1,formatHex:c1,formatHex8:NF,formatHsl:AF,formatRgb:u1,toString:u1});function c1(){return this.rgb().formatHex()}function NF(){return this.rgb().formatHex8()}function AF(){return vO(this).formatHsl()}function u1(){return this.rgb().formatRgb()}function jc(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=wF.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?f1(t):r===3?new yn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?$u(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?$u(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=kF.exec(e))?new yn(t[1],t[2],t[3],1):(t=SF.exec(e))?new yn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=jF.exec(e))?$u(t[1],t[2],t[3],t[4]):(t=OF.exec(e))?$u(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=PF.exec(e))?p1(t[1],t[2]/100,t[3]/100,1):(t=_F.exec(e))?p1(t[1],t[2]/100,t[3]/100,t[4]):l1.hasOwnProperty(e)?f1(l1[e]):e==="transparent"?new yn(NaN,NaN,NaN,0):null}function f1(e){return new yn(e>>16&255,e>>8&255,e&255,1)}function $u(e,t,r,n){return n<=0&&(e=t=r=NaN),new yn(e,t,r,n)}function MF(e){return e instanceof nu||(e=jc(e)),e?(e=e.rgb(),new yn(e.r,e.g,e.b,e.opacity)):new yn}function Sg(e,t,r,n){return arguments.length===1?MF(e):new yn(e,t,r,n??1)}function yn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Wy(yn,Sg,yO(nu,{brighter(e){return e=e==null?Gf:Math.pow(Gf,e),new yn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?kc:Math.pow(kc,e),new yn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new yn(ui(this.r),ui(this.g),ui(this.b),Hf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:d1,formatHex:d1,formatHex8:CF,formatRgb:h1,toString:h1}));function d1(){return`#${ni(this.r)}${ni(this.g)}${ni(this.b)}`}function CF(){return`#${ni(this.r)}${ni(this.g)}${ni(this.b)}${ni((isNaN(this.opacity)?1:this.opacity)*255)}`}function h1(){const e=Hf(this.opacity);return`${e===1?"rgb(":"rgba("}${ui(this.r)}, ${ui(this.g)}, ${ui(this.b)}${e===1?")":`, ${e})`}`}function Hf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ui(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ni(e){return e=ui(e),(e<16?"0":"")+e.toString(16)}function p1(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new oa(e,t,r,n)}function vO(e){if(e instanceof oa)return new oa(e.h,e.s,e.l,e.opacity);if(e instanceof nu||(e=jc(e)),!e)return new oa;if(e instanceof oa)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),o=Math.max(t,r,n),i=NaN,s=o-a,l=(o+a)/2;return s?(t===o?i=(r-n)/s+(r<n)*6:r===o?i=(n-t)/s+2:i=(t-r)/s+4,s/=l<.5?o+a:2-o-a,i*=60):s=l>0&&l<1?0:i,new oa(i,s,l,e.opacity)}function EF(e,t,r,n){return arguments.length===1?vO(e):new oa(e,t,r,n??1)}function oa(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Wy(oa,EF,yO(nu,{brighter(e){return e=e==null?Gf:Math.pow(Gf,e),new oa(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?kc:Math.pow(kc,e),new oa(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new yn(_p(e>=240?e-240:e+120,a,n),_p(e,a,n),_p(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new oa(g1(this.h),Du(this.s),Du(this.l),Hf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Hf(this.opacity);return`${e===1?"hsl(":"hsla("}${g1(this.h)}, ${Du(this.s)*100}%, ${Du(this.l)*100}%${e===1?")":`, ${e})`}`}}));function g1(e){return e=(e||0)%360,e<0?e+360:e}function Du(e){return Math.max(0,Math.min(1,e||0))}function _p(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Uy=e=>()=>e;function TF(e,t){return function(r){return e+r*t}}function $F(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function DF(e){return(e=+e)==1?xO:function(t,r){return r-t?$F(t,r,e):Uy(isNaN(t)?r:t)}}function xO(e,t){var r=t-e;return r?TF(e,r):Uy(isNaN(e)?t:e)}const m1=function e(t){var r=DF(t);function n(a,o){var i=r((a=Sg(a)).r,(o=Sg(o)).r),s=r(a.g,o.g),l=r(a.b,o.b),c=xO(a.opacity,o.opacity);return function(u){return a.r=i(u),a.g=s(u),a.b=l(u),a.opacity=c(u),a+""}}return n.gamma=e,n}(1);function RF(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(o){for(a=0;a<r;++a)n[a]=e[a]*(1-o)+t[a]*o;return n}}function LF(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function IF(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),o=new Array(r),i;for(i=0;i<n;++i)a[i]=al(e[i],t[i]);for(;i<r;++i)o[i]=t[i];return function(s){for(i=0;i<n;++i)o[i]=a[i](s);return o}}function BF(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Vf(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function FF(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=al(e[a],t[a]):n[a]=t[a];return function(o){for(a in r)n[a]=r[a](o);return n}}var jg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Np=new RegExp(jg.source,"g");function zF(e){return function(){return e}}function WF(e){return function(t){return e(t)+""}}function UF(e,t){var r=jg.lastIndex=Np.lastIndex=0,n,a,o,i=-1,s=[],l=[];for(e=e+"",t=t+"";(n=jg.exec(e))&&(a=Np.exec(t));)(o=a.index)>r&&(o=t.slice(r,o),s[i]?s[i]+=o:s[++i]=o),(n=n[0])===(a=a[0])?s[i]?s[i]+=a:s[++i]=a:(s[++i]=null,l.push({i,x:Vf(n,a)})),r=Np.lastIndex;return r<t.length&&(o=t.slice(r),s[i]?s[i]+=o:s[++i]=o),s.length<2?l[0]?WF(l[0].x):zF(t):(t=l.length,function(c){for(var u=0,d;u<t;++u)s[(d=l[u]).i]=d.x(c);return s.join("")})}function al(e,t){var r=typeof t,n;return t==null||r==="boolean"?Uy(t):(r==="number"?Vf:r==="string"?(n=jc(t))?(t=n,m1):UF:t instanceof jc?m1:t instanceof Date?BF:LF(t)?RF:Array.isArray(t)?IF:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?FF:Vf)(e,t)}function Gy(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function GF(e,t){t===void 0&&(t=e,e=al);for(var r=0,n=t.length-1,a=t[0],o=new Array(n<0?0:n);r<n;)o[r]=e(a,a=t[++r]);return function(i){var s=Math.max(0,Math.min(n-1,Math.floor(i*=n)));return o[s](i-s)}}function HF(e){return function(){return e}}function Kf(e){return+e}var y1=[0,1];function un(e){return e}function Og(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:HF(isNaN(t)?NaN:.5)}function VF(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function KF(e,t,r){var n=e[0],a=e[1],o=t[0],i=t[1];return a<n?(n=Og(a,n),o=r(i,o)):(n=Og(n,a),o=r(o,i)),function(s){return o(n(s))}}function XF(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),o=new Array(n),i=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<n;)a[i]=Og(e[i],e[i+1]),o[i]=r(t[i],t[i+1]);return function(s){var l=ru(e,s,1,n)-1;return o[l](a[l](s))}}function au(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function mh(){var e=y1,t=y1,r=al,n,a,o,i=un,s,l,c;function u(){var h=Math.min(e.length,t.length);return i!==un&&(i=VF(e[0],e[h-1])),s=h>2?XF:KF,l=c=null,d}function d(h){return h==null||isNaN(h=+h)?o:(l||(l=s(e.map(n),t,r)))(n(i(h)))}return d.invert=function(h){return i(a((c||(c=s(t,e.map(n),Vf)))(h)))},d.domain=function(h){return arguments.length?(e=Array.from(h,Kf),u()):e.slice()},d.range=function(h){return arguments.length?(t=Array.from(h),u()):t.slice()},d.rangeRound=function(h){return t=Array.from(h),r=Gy,u()},d.clamp=function(h){return arguments.length?(i=h?!0:un,u()):i!==un},d.interpolate=function(h){return arguments.length?(r=h,u()):r},d.unknown=function(h){return arguments.length?(o=h,d):o},function(h,p){return n=h,a=p,u()}}function Hy(){return mh()(un,un)}function YF(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Xf(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function js(e){return e=Xf(Math.abs(e)),e?e[1]:NaN}function qF(e,t){return function(r,n){for(var a=r.length,o=[],i=0,s=e[0],l=0;a>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),o.push(r.substring(a-=s,a+s)),!((l+=s+1)>n));)s=e[i=(i+1)%e.length];return o.reverse().join(t)}}function ZF(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var QF=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Oc(e){if(!(t=QF.exec(e)))throw new Error("invalid format: "+e);var t;return new Vy({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Oc.prototype=Vy.prototype;function Vy(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Vy.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function JF(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var bO;function ez(e,t){var r=Xf(e,t);if(!r)return e+"";var n=r[0],a=r[1],o=a-(bO=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=n.length;return o===i?n:o>i?n+new Array(o-i+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+Xf(e,Math.max(0,t+o-1))[0]}function v1(e,t){var r=Xf(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const x1={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:YF,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>v1(e*100,t),r:v1,s:ez,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function b1(e){return e}var w1=Array.prototype.map,k1=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function tz(e){var t=e.grouping===void 0||e.thousands===void 0?b1:qF(w1.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?b1:ZF(w1.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(d){d=Oc(d);var h=d.fill,p=d.align,m=d.sign,v=d.symbol,x=d.zero,y=d.width,g=d.comma,b=d.precision,S=d.trim,w=d.type;w==="n"?(g=!0,w="g"):x1[w]||(b===void 0&&(b=12),S=!0,w="g"),(x||h==="0"&&p==="=")&&(x=!0,h="0",p="=");var k=v==="$"?r:v==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",j=v==="$"?n:/[%p]/.test(w)?i:"",P=x1[w],_=/[defgprs%]/.test(w);b=b===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function A(N){var E=k,F=j,D,T,L;if(w==="c")F=P(N)+F,N="";else{N=+N;var W=N<0||1/N<0;if(N=isNaN(N)?l:P(Math.abs(N),b),S&&(N=JF(N)),W&&+N==0&&m!=="+"&&(W=!1),E=(W?m==="("?m:s:m==="-"||m==="("?"":m)+E,F=(w==="s"?k1[8+bO/3]:"")+F+(W&&m==="("?")":""),_){for(D=-1,T=N.length;++D<T;)if(L=N.charCodeAt(D),48>L||L>57){F=(L===46?a+N.slice(D+1):N.slice(D))+F,N=N.slice(0,D);break}}}g&&!x&&(N=t(N,1/0));var I=E.length+N.length+F.length,R=I<y?new Array(y-I+1).join(h):"";switch(g&&x&&(N=t(R+N,R.length?y-F.length:1/0),R=""),p){case"<":N=E+N+F+R;break;case"=":N=E+R+N+F;break;case"^":N=R.slice(0,I=R.length>>1)+E+N+F+R.slice(I);break;default:N=R+E+N+F;break}return o(N)}return A.toString=function(){return d+""},A}function u(d,h){var p=c((d=Oc(d),d.type="f",d)),m=Math.max(-8,Math.min(8,Math.floor(js(h)/3)))*3,v=Math.pow(10,-m),x=k1[8+m/3];return function(y){return p(v*y)+x}}return{format:c,formatPrefix:u}}var Ru,Ky,wO;rz({thousands:",",grouping:[3],currency:["$",""]});function rz(e){return Ru=tz(e),Ky=Ru.format,wO=Ru.formatPrefix,Ru}function nz(e){return Math.max(0,-js(Math.abs(e)))}function az(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(js(t)/3)))*3-js(Math.abs(e)))}function oz(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,js(t)-js(e))+1}function kO(e,t,r,n){var a=wg(e,t,r),o;switch(n=Oc(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(o=az(a,i))&&(n.precision=o),wO(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=oz(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=nz(a))&&(n.precision=o-(n.type==="%")*2);break}}return Ky(n)}function Io(e){var t=e.domain;return e.ticks=function(r){var n=t();return xg(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return kO(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,o=n.length-1,i=n[a],s=n[o],l,c,u=10;for(s<i&&(c=i,i=s,s=c,c=a,a=o,o=c);u-- >0;){if(c=bg(i,s,r),c===l)return n[a]=i,n[o]=s,t(n);if(c>0)i=Math.floor(i/c)*c,s=Math.ceil(s/c)*c;else if(c<0)i=Math.ceil(i*c)/c,s=Math.floor(s*c)/c;else break;l=c}return e},e}function Yf(){var e=Hy();return e.copy=function(){return au(e,Yf())},Zn.apply(e,arguments),Io(e)}function SO(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Kf),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return SO(e).unknown(t)},e=arguments.length?Array.from(e,Kf):[0,1],Io(r)}function jO(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],o=e[n],i;return o<a&&(i=r,r=n,n=i,i=a,a=o,o=i),e[r]=t.floor(a),e[n]=t.ceil(o),e}function S1(e){return Math.log(e)}function j1(e){return Math.exp(e)}function iz(e){return-Math.log(-e)}function sz(e){return-Math.exp(-e)}function lz(e){return isFinite(e)?+("1e"+e):e<0?0:e}function cz(e){return e===10?lz:e===Math.E?Math.exp:t=>Math.pow(e,t)}function uz(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function O1(e){return(t,r)=>-e(-t,r)}function Xy(e){const t=e(S1,j1),r=t.domain;let n=10,a,o;function i(){return a=uz(n),o=cz(n),r()[0]<0?(a=O1(a),o=O1(o),e(iz,sz)):e(S1,j1),t}return t.base=function(s){return arguments.length?(n=+s,i()):n},t.domain=function(s){return arguments.length?(r(s),i()):r()},t.ticks=s=>{const l=r();let c=l[0],u=l[l.length-1];const d=u<c;d&&([c,u]=[u,c]);let h=a(c),p=a(u),m,v;const x=s==null?10:+s;let y=[];if(!(n%1)&&p-h<x){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(m=1;m<n;++m)if(v=h<0?m/o(-h):m*o(h),!(v<c)){if(v>u)break;y.push(v)}}else for(;h<=p;++h)for(m=n-1;m>=1;--m)if(v=h>0?m/o(-h):m*o(h),!(v<c)){if(v>u)break;y.push(v)}y.length*2<x&&(y=xg(c,u,x))}else y=xg(h,p,Math.min(p-h,x)).map(o);return d?y.reverse():y},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Oc(l)).precision==null&&(l.trim=!0),l=Ky(l)),s===1/0)return l;const c=Math.max(1,n*s/t.ticks().length);return u=>{let d=u/o(Math.round(a(u)));return d*n<n-.5&&(d*=n),d<=c?l(u):""}},t.nice=()=>r(jO(r(),{floor:s=>o(Math.floor(a(s))),ceil:s=>o(Math.ceil(a(s)))})),t}function OO(){const e=Xy(mh()).domain([1,10]);return e.copy=()=>au(e,OO()).base(e.base()),Zn.apply(e,arguments),e}function P1(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function _1(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Yy(e){var t=1,r=e(P1(t),_1(t));return r.constant=function(n){return arguments.length?e(P1(t=+n),_1(t)):t},Io(r)}function PO(){var e=Yy(mh());return e.copy=function(){return au(e,PO()).constant(e.constant())},Zn.apply(e,arguments)}function N1(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function fz(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function dz(e){return e<0?-e*e:e*e}function qy(e){var t=e(un,un),r=1;function n(){return r===1?e(un,un):r===.5?e(fz,dz):e(N1(r),N1(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Io(t)}function Zy(){var e=qy(mh());return e.copy=function(){return au(e,Zy()).exponent(e.exponent())},Zn.apply(e,arguments),e}function hz(){return Zy.apply(null,arguments).exponent(.5)}function A1(e){return Math.sign(e)*e*e}function pz(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function _O(){var e=Hy(),t=[0,1],r=!1,n;function a(o){var i=pz(e(o));return isNaN(i)?n:r?Math.round(i):i}return a.invert=function(o){return e.invert(A1(o))},a.domain=function(o){return arguments.length?(e.domain(o),a):e.domain()},a.range=function(o){return arguments.length?(e.range((t=Array.from(o,Kf)).map(A1)),a):t.slice()},a.rangeRound=function(o){return a.range(o).round(!0)},a.round=function(o){return arguments.length?(r=!!o,a):r},a.clamp=function(o){return arguments.length?(e.clamp(o),a):e.clamp()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return _O(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Zn.apply(a,arguments),Io(a)}function NO(){var e=[],t=[],r=[],n;function a(){var i=0,s=Math.max(1,t.length);for(r=new Array(s-1);++i<s;)r[i-1]=xF(e,i/s);return o}function o(i){return i==null||isNaN(i=+i)?n:t[ru(r,i)]}return o.invertExtent=function(i){var s=t.indexOf(i);return s<0?[NaN,NaN]:[s>0?r[s-1]:e[0],s<r.length?r[s]:e[e.length-1]]},o.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let s of i)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Ao),a()},o.range=function(i){return arguments.length?(t=Array.from(i),a()):t.slice()},o.unknown=function(i){return arguments.length?(n=i,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return NO().domain(e).range(t).unknown(n)},Zn.apply(o,arguments)}function AO(){var e=0,t=1,r=1,n=[.5],a=[0,1],o;function i(l){return l!=null&&l<=l?a[ru(n,l,0,r)]:o}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return i}return i.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},i.range=function(l){return arguments.length?(r=(a=Array.from(l)).length-1,s()):a.slice()},i.invertExtent=function(l){var c=a.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},i.unknown=function(l){return arguments.length&&(o=l),i},i.thresholds=function(){return n.slice()},i.copy=function(){return AO().domain([e,t]).range(a).unknown(o)},Zn.apply(Io(i),arguments)}function MO(){var e=[.5],t=[0,1],r,n=1;function a(o){return o!=null&&o<=o?t[ru(e,o,0,n)]:r}return a.domain=function(o){return arguments.length?(e=Array.from(o),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(o){return arguments.length?(t=Array.from(o),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(o){var i=t.indexOf(o);return[e[i-1],e[i]]},a.unknown=function(o){return arguments.length?(r=o,a):r},a.copy=function(){return MO().domain(e).range(t).unknown(r)},Zn.apply(a,arguments)}const Ap=new Date,Mp=new Date;function _r(e,t,r,n){function a(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return a.floor=o=>(e(o=new Date(+o)),o),a.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),a.round=o=>{const i=a(o),s=a.ceil(o);return o-i<s-o?i:s},a.offset=(o,i)=>(t(o=new Date(+o),i==null?1:Math.floor(i)),o),a.range=(o,i,s)=>{const l=[];if(o=a.ceil(o),s=s==null?1:Math.floor(s),!(o<i)||!(s>0))return l;let c;do l.push(c=new Date(+o)),t(o,s),e(o);while(c<o&&o<i);return l},a.filter=o=>_r(i=>{if(i>=i)for(;e(i),!o(i);)i.setTime(i-1)},(i,s)=>{if(i>=i)if(s<0)for(;++s<=0;)for(;t(i,-1),!o(i););else for(;--s>=0;)for(;t(i,1),!o(i););}),r&&(a.count=(o,i)=>(Ap.setTime(+o),Mp.setTime(+i),e(Ap),e(Mp),Math.floor(r(Ap,Mp))),a.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?a.filter(n?i=>n(i)%o===0:i=>a.count(0,i)%o===0):a)),a}const qf=_r(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);qf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?_r(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):qf);qf.range;const Fa=1e3,Un=Fa*60,za=Un*60,Qa=za*24,Qy=Qa*7,M1=Qa*30,Cp=Qa*365,ai=_r(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Fa)},(e,t)=>(t-e)/Fa,e=>e.getUTCSeconds());ai.range;const Jy=_r(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Fa)},(e,t)=>{e.setTime(+e+t*Un)},(e,t)=>(t-e)/Un,e=>e.getMinutes());Jy.range;const ev=_r(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Un)},(e,t)=>(t-e)/Un,e=>e.getUTCMinutes());ev.range;const tv=_r(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Fa-e.getMinutes()*Un)},(e,t)=>{e.setTime(+e+t*za)},(e,t)=>(t-e)/za,e=>e.getHours());tv.range;const rv=_r(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*za)},(e,t)=>(t-e)/za,e=>e.getUTCHours());rv.range;const ou=_r(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Un)/Qa,e=>e.getDate()-1);ou.range;const yh=_r(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Qa,e=>e.getUTCDate()-1);yh.range;const CO=_r(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Qa,e=>Math.floor(e/Qa));CO.range;function Ai(e){return _r(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Un)/Qy)}const vh=Ai(0),Zf=Ai(1),gz=Ai(2),mz=Ai(3),Os=Ai(4),yz=Ai(5),vz=Ai(6);vh.range;Zf.range;gz.range;mz.range;Os.range;yz.range;vz.range;function Mi(e){return _r(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Qy)}const xh=Mi(0),Qf=Mi(1),xz=Mi(2),bz=Mi(3),Ps=Mi(4),wz=Mi(5),kz=Mi(6);xh.range;Qf.range;xz.range;bz.range;Ps.range;wz.range;kz.range;const nv=_r(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());nv.range;const av=_r(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());av.range;const Ja=_r(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ja.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:_r(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Ja.range;const eo=_r(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());eo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:_r(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});eo.range;function EO(e,t,r,n,a,o){const i=[[ai,1,Fa],[ai,5,5*Fa],[ai,15,15*Fa],[ai,30,30*Fa],[o,1,Un],[o,5,5*Un],[o,15,15*Un],[o,30,30*Un],[a,1,za],[a,3,3*za],[a,6,6*za],[a,12,12*za],[n,1,Qa],[n,2,2*Qa],[r,1,Qy],[t,1,M1],[t,3,3*M1],[e,1,Cp]];function s(c,u,d){const h=u<c;h&&([c,u]=[u,c]);const p=d&&typeof d.range=="function"?d:l(c,u,d),m=p?p.range(c,+u+1):[];return h?m.reverse():m}function l(c,u,d){const h=Math.abs(u-c)/d,p=Fy(([,,x])=>x).right(i,h);if(p===i.length)return e.every(wg(c/Cp,u/Cp,d));if(p===0)return qf.every(Math.max(wg(c,u,d),1));const[m,v]=i[h/i[p-1][2]<i[p][2]/h?p-1:p];return m.every(v)}return[s,l]}const[Sz,jz]=EO(eo,av,xh,CO,rv,ev),[Oz,Pz]=EO(Ja,nv,vh,ou,tv,Jy);function Ep(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Tp(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function kl(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function _z(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,o=e.days,i=e.shortDays,s=e.months,l=e.shortMonths,c=Sl(a),u=jl(a),d=Sl(o),h=jl(o),p=Sl(i),m=jl(i),v=Sl(s),x=jl(s),y=Sl(l),g=jl(l),b={a:W,A:I,b:R,B,c:null,d:R1,e:R1,f:qz,g:i9,G:l9,H:Kz,I:Xz,j:Yz,L:TO,m:Zz,M:Qz,p:ee,q:X,Q:B1,s:F1,S:Jz,u:e9,U:t9,V:r9,w:n9,W:a9,x:null,X:null,y:o9,Y:s9,Z:c9,"%":I1},S={a:G,A:U,b:ce,B:ue,c:null,d:L1,e:L1,f:h9,g:S9,G:O9,H:u9,I:f9,j:d9,L:DO,m:p9,M:g9,p:be,q:xe,Q:B1,s:F1,S:m9,u:y9,U:v9,V:x9,w:b9,W:w9,x:null,X:null,y:k9,Y:j9,Z:P9,"%":I1},w={a:A,A:N,b:E,B:F,c:D,d:$1,e:$1,f:Uz,g:T1,G:E1,H:D1,I:D1,j:Bz,L:Wz,m:Iz,M:Fz,p:_,q:Lz,Q:Hz,s:Vz,S:zz,u:Ez,U:Tz,V:$z,w:Cz,W:Dz,x:T,X:L,y:T1,Y:E1,Z:Rz,"%":Gz};b.x=k(r,b),b.X=k(n,b),b.c=k(t,b),S.x=k(r,S),S.X=k(n,S),S.c=k(t,S);function k(V,le){return function(ye){var Z=[],Ke=-1,Pe=0,Be=V.length,rt,Ot,cr;for(ye instanceof Date||(ye=new Date(+ye));++Ke<Be;)V.charCodeAt(Ke)===37&&(Z.push(V.slice(Pe,Ke)),(Ot=C1[rt=V.charAt(++Ke)])!=null?rt=V.charAt(++Ke):Ot=rt==="e"?" ":"0",(cr=le[rt])&&(rt=cr(ye,Ot)),Z.push(rt),Pe=Ke+1);return Z.push(V.slice(Pe,Ke)),Z.join("")}}function j(V,le){return function(ye){var Z=kl(1900,void 0,1),Ke=P(Z,V,ye+="",0),Pe,Be;if(Ke!=ye.length)return null;if("Q"in Z)return new Date(Z.Q);if("s"in Z)return new Date(Z.s*1e3+("L"in Z?Z.L:0));if(le&&!("Z"in Z)&&(Z.Z=0),"p"in Z&&(Z.H=Z.H%12+Z.p*12),Z.m===void 0&&(Z.m="q"in Z?Z.q:0),"V"in Z){if(Z.V<1||Z.V>53)return null;"w"in Z||(Z.w=1),"Z"in Z?(Pe=Tp(kl(Z.y,0,1)),Be=Pe.getUTCDay(),Pe=Be>4||Be===0?Qf.ceil(Pe):Qf(Pe),Pe=yh.offset(Pe,(Z.V-1)*7),Z.y=Pe.getUTCFullYear(),Z.m=Pe.getUTCMonth(),Z.d=Pe.getUTCDate()+(Z.w+6)%7):(Pe=Ep(kl(Z.y,0,1)),Be=Pe.getDay(),Pe=Be>4||Be===0?Zf.ceil(Pe):Zf(Pe),Pe=ou.offset(Pe,(Z.V-1)*7),Z.y=Pe.getFullYear(),Z.m=Pe.getMonth(),Z.d=Pe.getDate()+(Z.w+6)%7)}else("W"in Z||"U"in Z)&&("w"in Z||(Z.w="u"in Z?Z.u%7:"W"in Z?1:0),Be="Z"in Z?Tp(kl(Z.y,0,1)).getUTCDay():Ep(kl(Z.y,0,1)).getDay(),Z.m=0,Z.d="W"in Z?(Z.w+6)%7+Z.W*7-(Be+5)%7:Z.w+Z.U*7-(Be+6)%7);return"Z"in Z?(Z.H+=Z.Z/100|0,Z.M+=Z.Z%100,Tp(Z)):Ep(Z)}}function P(V,le,ye,Z){for(var Ke=0,Pe=le.length,Be=ye.length,rt,Ot;Ke<Pe;){if(Z>=Be)return-1;if(rt=le.charCodeAt(Ke++),rt===37){if(rt=le.charAt(Ke++),Ot=w[rt in C1?le.charAt(Ke++):rt],!Ot||(Z=Ot(V,ye,Z))<0)return-1}else if(rt!=ye.charCodeAt(Z++))return-1}return Z}function _(V,le,ye){var Z=c.exec(le.slice(ye));return Z?(V.p=u.get(Z[0].toLowerCase()),ye+Z[0].length):-1}function A(V,le,ye){var Z=p.exec(le.slice(ye));return Z?(V.w=m.get(Z[0].toLowerCase()),ye+Z[0].length):-1}function N(V,le,ye){var Z=d.exec(le.slice(ye));return Z?(V.w=h.get(Z[0].toLowerCase()),ye+Z[0].length):-1}function E(V,le,ye){var Z=y.exec(le.slice(ye));return Z?(V.m=g.get(Z[0].toLowerCase()),ye+Z[0].length):-1}function F(V,le,ye){var Z=v.exec(le.slice(ye));return Z?(V.m=x.get(Z[0].toLowerCase()),ye+Z[0].length):-1}function D(V,le,ye){return P(V,t,le,ye)}function T(V,le,ye){return P(V,r,le,ye)}function L(V,le,ye){return P(V,n,le,ye)}function W(V){return i[V.getDay()]}function I(V){return o[V.getDay()]}function R(V){return l[V.getMonth()]}function B(V){return s[V.getMonth()]}function ee(V){return a[+(V.getHours()>=12)]}function X(V){return 1+~~(V.getMonth()/3)}function G(V){return i[V.getUTCDay()]}function U(V){return o[V.getUTCDay()]}function ce(V){return l[V.getUTCMonth()]}function ue(V){return s[V.getUTCMonth()]}function be(V){return a[+(V.getUTCHours()>=12)]}function xe(V){return 1+~~(V.getUTCMonth()/3)}return{format:function(V){var le=k(V+="",b);return le.toString=function(){return V},le},parse:function(V){var le=j(V+="",!1);return le.toString=function(){return V},le},utcFormat:function(V){var le=k(V+="",S);return le.toString=function(){return V},le},utcParse:function(V){var le=j(V+="",!0);return le.toString=function(){return V},le}}}var C1={"-":"",_:" ",0:"0"},Tr=/^\s*\d+/,Nz=/^%/,Az=/[\\^$*+?|[\]().{}]/g;function mt(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",o=a.length;return n+(o<r?new Array(r-o+1).join(t)+a:a)}function Mz(e){return e.replace(Az,"\\$&")}function Sl(e){return new RegExp("^(?:"+e.map(Mz).join("|")+")","i")}function jl(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Cz(e,t,r){var n=Tr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Ez(e,t,r){var n=Tr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Tz(e,t,r){var n=Tr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function $z(e,t,r){var n=Tr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Dz(e,t,r){var n=Tr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function E1(e,t,r){var n=Tr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function T1(e,t,r){var n=Tr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Rz(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Lz(e,t,r){var n=Tr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Iz(e,t,r){var n=Tr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function $1(e,t,r){var n=Tr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Bz(e,t,r){var n=Tr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function D1(e,t,r){var n=Tr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Fz(e,t,r){var n=Tr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function zz(e,t,r){var n=Tr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Wz(e,t,r){var n=Tr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Uz(e,t,r){var n=Tr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Gz(e,t,r){var n=Nz.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Hz(e,t,r){var n=Tr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Vz(e,t,r){var n=Tr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function R1(e,t){return mt(e.getDate(),t,2)}function Kz(e,t){return mt(e.getHours(),t,2)}function Xz(e,t){return mt(e.getHours()%12||12,t,2)}function Yz(e,t){return mt(1+ou.count(Ja(e),e),t,3)}function TO(e,t){return mt(e.getMilliseconds(),t,3)}function qz(e,t){return TO(e,t)+"000"}function Zz(e,t){return mt(e.getMonth()+1,t,2)}function Qz(e,t){return mt(e.getMinutes(),t,2)}function Jz(e,t){return mt(e.getSeconds(),t,2)}function e9(e){var t=e.getDay();return t===0?7:t}function t9(e,t){return mt(vh.count(Ja(e)-1,e),t,2)}function $O(e){var t=e.getDay();return t>=4||t===0?Os(e):Os.ceil(e)}function r9(e,t){return e=$O(e),mt(Os.count(Ja(e),e)+(Ja(e).getDay()===4),t,2)}function n9(e){return e.getDay()}function a9(e,t){return mt(Zf.count(Ja(e)-1,e),t,2)}function o9(e,t){return mt(e.getFullYear()%100,t,2)}function i9(e,t){return e=$O(e),mt(e.getFullYear()%100,t,2)}function s9(e,t){return mt(e.getFullYear()%1e4,t,4)}function l9(e,t){var r=e.getDay();return e=r>=4||r===0?Os(e):Os.ceil(e),mt(e.getFullYear()%1e4,t,4)}function c9(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+mt(t/60|0,"0",2)+mt(t%60,"0",2)}function L1(e,t){return mt(e.getUTCDate(),t,2)}function u9(e,t){return mt(e.getUTCHours(),t,2)}function f9(e,t){return mt(e.getUTCHours()%12||12,t,2)}function d9(e,t){return mt(1+yh.count(eo(e),e),t,3)}function DO(e,t){return mt(e.getUTCMilliseconds(),t,3)}function h9(e,t){return DO(e,t)+"000"}function p9(e,t){return mt(e.getUTCMonth()+1,t,2)}function g9(e,t){return mt(e.getUTCMinutes(),t,2)}function m9(e,t){return mt(e.getUTCSeconds(),t,2)}function y9(e){var t=e.getUTCDay();return t===0?7:t}function v9(e,t){return mt(xh.count(eo(e)-1,e),t,2)}function RO(e){var t=e.getUTCDay();return t>=4||t===0?Ps(e):Ps.ceil(e)}function x9(e,t){return e=RO(e),mt(Ps.count(eo(e),e)+(eo(e).getUTCDay()===4),t,2)}function b9(e){return e.getUTCDay()}function w9(e,t){return mt(Qf.count(eo(e)-1,e),t,2)}function k9(e,t){return mt(e.getUTCFullYear()%100,t,2)}function S9(e,t){return e=RO(e),mt(e.getUTCFullYear()%100,t,2)}function j9(e,t){return mt(e.getUTCFullYear()%1e4,t,4)}function O9(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Ps(e):Ps.ceil(e),mt(e.getUTCFullYear()%1e4,t,4)}function P9(){return"+0000"}function I1(){return"%"}function B1(e){return+e}function F1(e){return Math.floor(+e/1e3)}var Li,LO,IO;_9({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function _9(e){return Li=_z(e),LO=Li.format,Li.parse,IO=Li.utcFormat,Li.utcParse,Li}function N9(e){return new Date(e)}function A9(e){return e instanceof Date?+e:+new Date(+e)}function ov(e,t,r,n,a,o,i,s,l,c){var u=Hy(),d=u.invert,h=u.domain,p=c(".%L"),m=c(":%S"),v=c("%I:%M"),x=c("%I %p"),y=c("%a %d"),g=c("%b %d"),b=c("%B"),S=c("%Y");function w(k){return(l(k)<k?p:s(k)<k?m:i(k)<k?v:o(k)<k?x:n(k)<k?a(k)<k?y:g:r(k)<k?b:S)(k)}return u.invert=function(k){return new Date(d(k))},u.domain=function(k){return arguments.length?h(Array.from(k,A9)):h().map(N9)},u.ticks=function(k){var j=h();return e(j[0],j[j.length-1],k??10)},u.tickFormat=function(k,j){return j==null?w:c(j)},u.nice=function(k){var j=h();return(!k||typeof k.range!="function")&&(k=t(j[0],j[j.length-1],k??10)),k?h(jO(j,k)):u},u.copy=function(){return au(u,ov(e,t,r,n,a,o,i,s,l,c))},u}function M9(){return Zn.apply(ov(Oz,Pz,Ja,nv,vh,ou,tv,Jy,ai,LO).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function C9(){return Zn.apply(ov(Sz,jz,eo,av,xh,yh,rv,ev,ai,IO).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function bh(){var e=0,t=1,r,n,a,o,i=un,s=!1,l;function c(d){return d==null||isNaN(d=+d)?l:i(a===0?.5:(d=(o(d)-r)*a,s?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([e,t]=d,r=o(e=+e),n=o(t=+t),a=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(d){return arguments.length?(s=!!d,c):s},c.interpolator=function(d){return arguments.length?(i=d,c):i};function u(d){return function(h){var p,m;return arguments.length?([p,m]=h,i=d(p,m),c):[i(0),i(1)]}}return c.range=u(al),c.rangeRound=u(Gy),c.unknown=function(d){return arguments.length?(l=d,c):l},function(d){return o=d,r=d(e),n=d(t),a=r===n?0:1/(n-r),c}}function Bo(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function BO(){var e=Io(bh()(un));return e.copy=function(){return Bo(e,BO())},ao.apply(e,arguments)}function FO(){var e=Xy(bh()).domain([1,10]);return e.copy=function(){return Bo(e,FO()).base(e.base())},ao.apply(e,arguments)}function zO(){var e=Yy(bh());return e.copy=function(){return Bo(e,zO()).constant(e.constant())},ao.apply(e,arguments)}function iv(){var e=qy(bh());return e.copy=function(){return Bo(e,iv()).exponent(e.exponent())},ao.apply(e,arguments)}function E9(){return iv.apply(null,arguments).exponent(.5)}function WO(){var e=[],t=un;function r(n){if(n!=null&&!isNaN(n=+n))return t((ru(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Ao),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,o)=>vF(e,o/n))},r.copy=function(){return WO(t).domain(e)},ao.apply(r,arguments)}function wh(){var e=0,t=.5,r=1,n=1,a,o,i,s,l,c=un,u,d=!1,h;function p(v){return isNaN(v=+v)?h:(v=.5+((v=+u(v))-o)*(n*v<n*o?s:l),c(d?Math.max(0,Math.min(1,v)):v))}p.domain=function(v){return arguments.length?([e,t,r]=v,a=u(e=+e),o=u(t=+t),i=u(r=+r),s=a===o?0:.5/(o-a),l=o===i?0:.5/(i-o),n=o<a?-1:1,p):[e,t,r]},p.clamp=function(v){return arguments.length?(d=!!v,p):d},p.interpolator=function(v){return arguments.length?(c=v,p):c};function m(v){return function(x){var y,g,b;return arguments.length?([y,g,b]=x,c=GF(v,[y,g,b]),p):[c(0),c(.5),c(1)]}}return p.range=m(al),p.rangeRound=m(Gy),p.unknown=function(v){return arguments.length?(h=v,p):h},function(v){return u=v,a=v(e),o=v(t),i=v(r),s=a===o?0:.5/(o-a),l=o===i?0:.5/(i-o),n=o<a?-1:1,p}}function UO(){var e=Io(wh()(un));return e.copy=function(){return Bo(e,UO())},ao.apply(e,arguments)}function GO(){var e=Xy(wh()).domain([.1,1,10]);return e.copy=function(){return Bo(e,GO()).base(e.base())},ao.apply(e,arguments)}function HO(){var e=Yy(wh());return e.copy=function(){return Bo(e,HO()).constant(e.constant())},ao.apply(e,arguments)}function sv(){var e=qy(wh());return e.copy=function(){return Bo(e,sv()).exponent(e.exponent())},ao.apply(e,arguments)}function T9(){return sv.apply(null,arguments).exponent(.5)}const z1=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:wc,scaleDiverging:UO,scaleDivergingLog:GO,scaleDivergingPow:sv,scaleDivergingSqrt:T9,scaleDivergingSymlog:HO,scaleIdentity:SO,scaleImplicit:kg,scaleLinear:Yf,scaleLog:OO,scaleOrdinal:zy,scalePoint:Gl,scalePow:Zy,scaleQuantile:NO,scaleQuantize:AO,scaleRadial:_O,scaleSequential:BO,scaleSequentialLog:FO,scaleSequentialPow:iv,scaleSequentialQuantile:WO,scaleSequentialSqrt:E9,scaleSequentialSymlog:zO,scaleSqrt:hz,scaleSymlog:PO,scaleThreshold:MO,scaleTime:M9,scaleUtc:C9,tickFormat:kO},Symbol.toStringTag,{value:"Module"}));var $9=Ys;function D9(e,t,r){for(var n=-1,a=e.length;++n<a;){var o=e[n],i=t(o);if(i!=null&&(s===void 0?i===i&&!$9(i):r(i,s)))var s=i,l=o}return l}var VO=D9;function R9(e,t){return e>t}var L9=R9,I9=VO,B9=L9,F9=nl;function z9(e){return e&&e.length?I9(e,F9,B9):void 0}var W9=z9;const vo=$t(W9);function U9(e,t){return e<t}var G9=U9,H9=VO,V9=G9,K9=nl;function X9(e){return e&&e.length?H9(e,K9,V9):void 0}var Y9=X9;const kh=$t(Y9);var q9=wy,Z9=Ro,Q9=tO,J9=kn;function e7(e,t){var r=J9(e)?q9:Q9;return r(e,Z9(t))}var t7=e7,r7=Jj,n7=t7;function a7(e,t){return r7(n7(e,t),1)}var o7=a7;const i7=$t(o7);var s7=Dy;function l7(e,t){return s7(e,t)}var c7=l7;const bi=$t(c7);var ol=1e9,u7={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},cv,Zt=!0,Yn="[DecimalError] ",fi=Yn+"Invalid argument: ",lv=Yn+"Exponent out of range: ",il=Math.floor,Qo=Math.pow,f7=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Nn,Mr=1e7,Ht=7,KO=9007199254740991,Jf=il(KO/Ht),me={};me.absoluteValue=me.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};me.comparedTo=me.cmp=function(e){var t,r,n,a,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(n=o.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return n===a?0:n>a^o.s<0?1:-1};me.decimalPlaces=me.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Ht;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};me.dividedBy=me.div=function(e){return Ka(this,new this.constructor(e))};me.dividedToIntegerBy=me.idiv=function(e){var t=this,r=t.constructor;return Tt(Ka(t,new r(e),0,1),r.precision)};me.equals=me.eq=function(e){return!this.cmp(e)};me.exponent=function(){return xr(this)};me.greaterThan=me.gt=function(e){return this.cmp(e)>0};me.greaterThanOrEqualTo=me.gte=function(e){return this.cmp(e)>=0};me.isInteger=me.isint=function(){return this.e>this.d.length-2};me.isNegative=me.isneg=function(){return this.s<0};me.isPositive=me.ispos=function(){return this.s>0};me.isZero=function(){return this.s===0};me.lessThan=me.lt=function(e){return this.cmp(e)<0};me.lessThanOrEqualTo=me.lte=function(e){return this.cmp(e)<1};me.logarithm=me.log=function(e){var t,r=this,n=r.constructor,a=n.precision,o=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Nn))throw Error(Yn+"NaN");if(r.s<1)throw Error(Yn+(r.s?"NaN":"-Infinity"));return r.eq(Nn)?new n(0):(Zt=!1,t=Ka(Pc(r,o),Pc(e,o),o),Zt=!0,Tt(t,a))};me.minus=me.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?qO(t,e):XO(t,(e.s=-e.s,e))};me.modulo=me.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Yn+"NaN");return r.s?(Zt=!1,t=Ka(r,e,0,1).times(e),Zt=!0,r.minus(t)):Tt(new n(r),a)};me.naturalExponential=me.exp=function(){return YO(this)};me.naturalLogarithm=me.ln=function(){return Pc(this)};me.negated=me.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};me.plus=me.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?XO(t,e):qO(t,(e.s=-e.s,e))};me.precision=me.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(fi+e);if(t=xr(a)+1,n=a.d.length-1,r=n*Ht+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};me.squareRoot=me.sqrt=function(){var e,t,r,n,a,o,i,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Yn+"NaN")}for(e=xr(s),Zt=!1,a=Math.sqrt(+s),a==0||a==1/0?(t=wa(s.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=il((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(a.toString()),r=l.precision,a=i=r+3;;)if(o=n,n=o.plus(Ka(s,o,i+2)).times(.5),wa(o.d).slice(0,i)===(t=wa(n.d)).slice(0,i)){if(t=t.slice(i-3,i+1),a==i&&t=="4999"){if(Tt(o,r+1,0),o.times(o).eq(s)){n=o;break}}else if(t!="9999")break;i+=4}return Zt=!0,Tt(n,r)};me.times=me.mul=function(e){var t,r,n,a,o,i,s,l,c,u=this,d=u.constructor,h=u.d,p=(e=new d(e)).d;if(!u.s||!e.s)return new d(0);for(e.s*=u.s,r=u.e+e.e,l=h.length,c=p.length,l<c&&(o=h,h=p,p=o,i=l,l=c,c=i),o=[],i=l+c,n=i;n--;)o.push(0);for(n=c;--n>=0;){for(t=0,a=l+n;a>n;)s=o[a]+p[n]*h[a-n-1]+t,o[a--]=s%Mr|0,t=s/Mr|0;o[a]=(o[a]+t)%Mr|0}for(;!o[--i];)o.pop();return t?++r:o.shift(),e.d=o,e.e=r,Zt?Tt(e,d.precision):e};me.toDecimalPlaces=me.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Na(e,0,ol),t===void 0?t=n.rounding:Na(t,0,8),Tt(r,e+xr(r)+1,t))};me.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=wi(n,!0):(Na(e,0,ol),t===void 0?t=a.rounding:Na(t,0,8),n=Tt(new a(n),e+1,t),r=wi(n,!0,e+1)),r};me.toFixed=function(e,t){var r,n,a=this,o=a.constructor;return e===void 0?wi(a):(Na(e,0,ol),t===void 0?t=o.rounding:Na(t,0,8),n=Tt(new o(a),e+xr(a)+1,t),r=wi(n.abs(),!1,e+xr(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};me.toInteger=me.toint=function(){var e=this,t=e.constructor;return Tt(new t(e),xr(e)+1,t.rounding)};me.toNumber=function(){return+this};me.toPower=me.pow=function(e){var t,r,n,a,o,i,s=this,l=s.constructor,c=12,u=+(e=new l(e));if(!e.s)return new l(Nn);if(s=new l(s),!s.s){if(e.s<1)throw Error(Yn+"Infinity");return s}if(s.eq(Nn))return s;if(n=l.precision,e.eq(Nn))return Tt(s,n);if(t=e.e,r=e.d.length-1,i=t>=r,o=s.s,i){if((r=u<0?-u:u)<=KO){for(a=new l(Nn),t=Math.ceil(n/Ht+4),Zt=!1;r%2&&(a=a.times(s),U1(a.d,t)),r=il(r/2),r!==0;)s=s.times(s),U1(s.d,t);return Zt=!0,e.s<0?new l(Nn).div(a):Tt(a,n)}}else if(o<0)throw Error(Yn+"NaN");return o=o<0&&e.d[Math.max(t,r)]&1?-1:1,s.s=1,Zt=!1,a=e.times(Pc(s,n+c)),Zt=!0,a=YO(a),a.s=o,a};me.toPrecision=function(e,t){var r,n,a=this,o=a.constructor;return e===void 0?(r=xr(a),n=wi(a,r<=o.toExpNeg||r>=o.toExpPos)):(Na(e,1,ol),t===void 0?t=o.rounding:Na(t,0,8),a=Tt(new o(a),e,t),r=xr(a),n=wi(a,e<=r||r<=o.toExpNeg,e)),n};me.toSignificantDigits=me.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Na(e,1,ol),t===void 0?t=n.rounding:Na(t,0,8)),Tt(new n(r),e,t)};me.toString=me.valueOf=me.val=me.toJSON=me[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=xr(e),r=e.constructor;return wi(e,t<=r.toExpNeg||t>=r.toExpPos)};function XO(e,t){var r,n,a,o,i,s,l,c,u=e.constructor,d=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),Zt?Tt(t,d):t;if(l=e.d,c=t.d,i=e.e,a=t.e,l=l.slice(),o=i-a,o){for(o<0?(n=l,o=-o,s=c.length):(n=c,a=i,s=l.length),i=Math.ceil(d/Ht),s=i>s?i+1:s+1,o>s&&(o=s,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(s=l.length,o=c.length,s-o<0&&(o=s,n=c,c=l,l=n),r=0;o;)r=(l[--o]=l[o]+c[o]+r)/Mr|0,l[o]%=Mr;for(r&&(l.unshift(r),++a),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=a,Zt?Tt(t,d):t}function Na(e,t,r){if(e!==~~e||e<t||e>r)throw Error(fi+e)}function wa(e){var t,r,n,a=e.length-1,o="",i=e[0];if(a>0){for(o+=i,t=1;t<a;t++)n=e[t]+"",r=Ht-n.length,r&&(o+=fo(r)),o+=n;i=e[t],n=i+"",r=Ht-n.length,r&&(o+=fo(r))}else if(i===0)return"0";for(;i%10===0;)i/=10;return o+i}var Ka=function(){function e(n,a){var o,i=0,s=n.length;for(n=n.slice();s--;)o=n[s]*a+i,n[s]=o%Mr|0,i=o/Mr|0;return i&&n.unshift(i),n}function t(n,a,o,i){var s,l;if(o!=i)l=o>i?1:-1;else for(s=l=0;s<o;s++)if(n[s]!=a[s]){l=n[s]>a[s]?1:-1;break}return l}function r(n,a,o){for(var i=0;o--;)n[o]-=i,i=n[o]<a[o]?1:0,n[o]=i*Mr+n[o]-a[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,o,i){var s,l,c,u,d,h,p,m,v,x,y,g,b,S,w,k,j,P,_=n.constructor,A=n.s==a.s?1:-1,N=n.d,E=a.d;if(!n.s)return new _(n);if(!a.s)throw Error(Yn+"Division by zero");for(l=n.e-a.e,j=E.length,w=N.length,p=new _(A),m=p.d=[],c=0;E[c]==(N[c]||0);)++c;if(E[c]>(N[c]||0)&&--l,o==null?g=o=_.precision:i?g=o+(xr(n)-xr(a))+1:g=o,g<0)return new _(0);if(g=g/Ht+2|0,c=0,j==1)for(u=0,E=E[0],g++;(c<w||u)&&g--;c++)b=u*Mr+(N[c]||0),m[c]=b/E|0,u=b%E|0;else{for(u=Mr/(E[0]+1)|0,u>1&&(E=e(E,u),N=e(N,u),j=E.length,w=N.length),S=j,v=N.slice(0,j),x=v.length;x<j;)v[x++]=0;P=E.slice(),P.unshift(0),k=E[0],E[1]>=Mr/2&&++k;do u=0,s=t(E,v,j,x),s<0?(y=v[0],j!=x&&(y=y*Mr+(v[1]||0)),u=y/k|0,u>1?(u>=Mr&&(u=Mr-1),d=e(E,u),h=d.length,x=v.length,s=t(d,v,h,x),s==1&&(u--,r(d,j<h?P:E,h))):(u==0&&(s=u=1),d=E.slice()),h=d.length,h<x&&d.unshift(0),r(v,d,x),s==-1&&(x=v.length,s=t(E,v,j,x),s<1&&(u++,r(v,j<x?P:E,x))),x=v.length):s===0&&(u++,v=[0]),m[c++]=u,s&&v[0]?v[x++]=N[S]||0:(v=[N[S]],x=1);while((S++<w||v[0]!==void 0)&&g--)}return m[0]||m.shift(),p.e=l,Tt(p,i?o+xr(p)+1:o)}}();function YO(e,t){var r,n,a,o,i,s,l=0,c=0,u=e.constructor,d=u.precision;if(xr(e)>16)throw Error(lv+xr(e));if(!e.s)return new u(Nn);for(Zt=!1,s=d,i=new u(.03125);e.abs().gte(.1);)e=e.times(i),c+=5;for(n=Math.log(Qo(2,c))/Math.LN10*2+5|0,s+=n,r=a=o=new u(Nn),u.precision=s;;){if(a=Tt(a.times(e),s),r=r.times(++l),i=o.plus(Ka(a,r,s)),wa(i.d).slice(0,s)===wa(o.d).slice(0,s)){for(;c--;)o=Tt(o.times(o),s);return u.precision=d,t==null?(Zt=!0,Tt(o,d)):o}o=i}}function xr(e){for(var t=e.e*Ht,r=e.d[0];r>=10;r/=10)t++;return t}function $p(e,t,r){if(t>e.LN10.sd())throw Zt=!0,r&&(e.precision=r),Error(Yn+"LN10 precision limit exceeded");return Tt(new e(e.LN10),t)}function fo(e){for(var t="";e--;)t+="0";return t}function Pc(e,t){var r,n,a,o,i,s,l,c,u,d=1,h=10,p=e,m=p.d,v=p.constructor,x=v.precision;if(p.s<1)throw Error(Yn+(p.s?"NaN":"-Infinity"));if(p.eq(Nn))return new v(0);if(t==null?(Zt=!1,c=x):c=t,p.eq(10))return t==null&&(Zt=!0),$p(v,c);if(c+=h,v.precision=c,r=wa(m),n=r.charAt(0),o=xr(p),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=wa(p.d),n=r.charAt(0),d++;o=xr(p),n>1?(p=new v("0."+r),o++):p=new v(n+"."+r.slice(1))}else return l=$p(v,c+2,x).times(o+""),p=Pc(new v(n+"."+r.slice(1)),c-h).plus(l),v.precision=x,t==null?(Zt=!0,Tt(p,x)):p;for(s=i=p=Ka(p.minus(Nn),p.plus(Nn),c),u=Tt(p.times(p),c),a=3;;){if(i=Tt(i.times(u),c),l=s.plus(Ka(i,new v(a),c)),wa(l.d).slice(0,c)===wa(s.d).slice(0,c))return s=s.times(2),o!==0&&(s=s.plus($p(v,c+2,x).times(o+""))),s=Ka(s,new v(d),c),v.precision=x,t==null?(Zt=!0,Tt(s,x)):s;s=l,a+=2}}function W1(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=il(r/Ht),e.d=[],n=(r+1)%Ht,r<0&&(n+=Ht),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Ht;n<a;)e.d.push(+t.slice(n,n+=Ht));t=t.slice(n),n=Ht-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Zt&&(e.e>Jf||e.e<-Jf))throw Error(lv+r)}else e.s=0,e.e=0,e.d=[0];return e}function Tt(e,t,r){var n,a,o,i,s,l,c,u,d=e.d;for(i=1,o=d[0];o>=10;o/=10)i++;if(n=t-i,n<0)n+=Ht,a=t,c=d[u=0];else{if(u=Math.ceil((n+1)/Ht),o=d.length,u>=o)return e;for(c=o=d[u],i=1;o>=10;o/=10)i++;n%=Ht,a=n-Ht+i}if(r!==void 0&&(o=Qo(10,i-a-1),s=c/o%10|0,l=t<0||d[u+1]!==void 0||c%o,l=r<4?(s||l)&&(r==0||r==(e.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?a>0?c/Qo(10,i-a):0:d[u-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return l?(o=xr(e),d.length=1,t=t-o-1,d[0]=Qo(10,(Ht-t%Ht)%Ht),e.e=il(-t/Ht)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(n==0?(d.length=u,o=1,u--):(d.length=u+1,o=Qo(10,Ht-n),d[u]=a>0?(c/Qo(10,i-a)%Qo(10,a)|0)*o:0),l)for(;;)if(u==0){(d[0]+=o)==Mr&&(d[0]=1,++e.e);break}else{if(d[u]+=o,d[u]!=Mr)break;d[u--]=0,o=1}for(n=d.length;d[--n]===0;)d.pop();if(Zt&&(e.e>Jf||e.e<-Jf))throw Error(lv+xr(e));return e}function qO(e,t){var r,n,a,o,i,s,l,c,u,d,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Zt?Tt(t,p):t;if(l=e.d,d=t.d,n=t.e,c=e.e,l=l.slice(),i=c-n,i){for(u=i<0,u?(r=l,i=-i,s=d.length):(r=d,n=c,s=l.length),a=Math.max(Math.ceil(p/Ht),s)+2,i>a&&(i=a,r.length=1),r.reverse(),a=i;a--;)r.push(0);r.reverse()}else{for(a=l.length,s=d.length,u=a<s,u&&(s=a),a=0;a<s;a++)if(l[a]!=d[a]){u=l[a]<d[a];break}i=0}for(u&&(r=l,l=d,d=r,t.s=-t.s),s=l.length,a=d.length-s;a>0;--a)l[s++]=0;for(a=d.length;a>i;){if(l[--a]<d[a]){for(o=a;o&&l[--o]===0;)l[o]=Mr-1;--l[o],l[a]+=Mr}l[a]-=d[a]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,Zt?Tt(t,p):t):new h(0)}function wi(e,t,r){var n,a=xr(e),o=wa(e.d),i=o.length;return t?(r&&(n=r-i)>0?o=o.charAt(0)+"."+o.slice(1)+fo(n):i>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(a<0?"e":"e+")+a):a<0?(o="0."+fo(-a-1)+o,r&&(n=r-i)>0&&(o+=fo(n))):a>=i?(o+=fo(a+1-i),r&&(n=r-a-1)>0&&(o=o+"."+fo(n))):((n=a+1)<i&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-i)>0&&(a+1===i&&(o+="."),o+=fo(n))),e.s<0?"-"+o:o}function U1(e,t){if(e.length>t)return e.length=t,!0}function ZO(e){var t,r,n;function a(o){var i=this;if(!(i instanceof a))return new a(o);if(i.constructor=a,o instanceof a){i.s=o.s,i.e=o.e,i.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(fi+o);if(o>0)i.s=1;else if(o<0)o=-o,i.s=-1;else{i.s=0,i.e=0,i.d=[0];return}if(o===~~o&&o<1e7){i.e=0,i.d=[o];return}return W1(i,o.toString())}else if(typeof o!="string")throw Error(fi+o);if(o.charCodeAt(0)===45?(o=o.slice(1),i.s=-1):i.s=1,f7.test(o))W1(i,o);else throw Error(fi+o)}if(a.prototype=me,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=ZO,a.config=a.set=d7,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function d7(e){if(!e||typeof e!="object")throw Error(Yn+"Object expected");var t,r,n,a=["precision",1,ol,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(il(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(fi+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(fi+r+": "+n);return this}var cv=ZO(u7);Nn=new cv(1);const Ct=cv;function h7(e){return y7(e)||m7(e)||g7(e)||p7()}function p7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g7(e,t){if(e){if(typeof e=="string")return Pg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pg(e,t)}}function m7(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function y7(e){if(Array.isArray(e))return Pg(e)}function Pg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var v7=function(t){return t},QO={},JO=function(t){return t===QO},G1=function(t){return function r(){return arguments.length===0||arguments.length===1&&JO(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},x7=function e(t,r){return t===1?r:G1(function(){for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];var i=a.filter(function(s){return s!==QO}).length;return i>=t?r.apply(void 0,a):e(t-i,G1(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var u=a.map(function(d){return JO(d)?l.shift():d});return r.apply(void 0,h7(u).concat(l))}))})},Sh=function(t){return x7(t.length,t)},_g=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},b7=Sh(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),w7=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return v7;var a=r.reverse(),o=a[0],i=a.slice(1);return function(){return i.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},Ng=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},eP=function(t){var r=null,n=null;return function(){for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return r&&o.every(function(s,l){return s===r[l]})||(r=o,n=t.apply(void 0,o)),n}};function k7(e){var t;return e===0?t=1:t=Math.floor(new Ct(e).abs().log(10).toNumber())+1,t}function S7(e,t,r){for(var n=new Ct(e),a=0,o=[];n.lt(t)&&a<1e5;)o.push(n.toNumber()),n=n.add(r),a++;return o}var j7=Sh(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),O7=Sh(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),P7=Sh(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const jh={rangeStep:S7,getDigitCount:k7,interpolateNumber:j7,uninterpolateNumber:O7,uninterpolateTruncation:P7};function Ag(e){return A7(e)||N7(e)||tP(e)||_7()}function _7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N7(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function A7(e){if(Array.isArray(e))return Mg(e)}function _c(e,t){return E7(e)||C7(e,t)||tP(e,t)||M7()}function M7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tP(e,t){if(e){if(typeof e=="string")return Mg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mg(e,t)}}function Mg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function C7(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,o=void 0;try{for(var i=e[Symbol.iterator](),s;!(n=(s=i.next()).done)&&(r.push(s.value),!(t&&r.length===t));n=!0);}catch(l){a=!0,o=l}finally{try{!n&&i.return!=null&&i.return()}finally{if(a)throw o}}return r}}function E7(e){if(Array.isArray(e))return e}function rP(e){var t=_c(e,2),r=t[0],n=t[1],a=r,o=n;return r>n&&(a=n,o=r),[a,o]}function nP(e,t,r){if(e.lte(0))return new Ct(0);var n=jh.getDigitCount(e.toNumber()),a=new Ct(10).pow(n),o=e.div(a),i=n!==1?.05:.1,s=new Ct(Math.ceil(o.div(i).toNumber())).add(r).mul(i),l=s.mul(a);return t?l:new Ct(Math.ceil(l))}function T7(e,t,r){var n=1,a=new Ct(e);if(!a.isint()&&r){var o=Math.abs(e);o<1?(n=new Ct(10).pow(jh.getDigitCount(e)-1),a=new Ct(Math.floor(a.div(n).toNumber())).mul(n)):o>1&&(a=new Ct(Math.floor(e)))}else e===0?a=new Ct(Math.floor((t-1)/2)):r||(a=new Ct(Math.floor(e)));var i=Math.floor((t-1)/2),s=w7(b7(function(l){return a.add(new Ct(l-i).mul(n)).toNumber()}),_g);return s(0,t)}function aP(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Ct(0),tickMin:new Ct(0),tickMax:new Ct(0)};var o=nP(new Ct(t).sub(e).div(r-1),n,a),i;e<=0&&t>=0?i=new Ct(0):(i=new Ct(e).add(t).div(2),i=i.sub(new Ct(i).mod(o)));var s=Math.ceil(i.sub(e).div(o).toNumber()),l=Math.ceil(new Ct(t).sub(i).div(o).toNumber()),c=s+l+1;return c>r?aP(e,t,r,n,a+1):(c<r&&(l=t>0?l+(r-c):l,s=t>0?s:s+(r-c)),{step:o,tickMin:i.sub(new Ct(s).mul(o)),tickMax:i.add(new Ct(l).mul(o))})}function $7(e){var t=_c(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(a,2),s=rP([r,n]),l=_c(s,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var d=u===1/0?[c].concat(Ag(_g(0,a-1).map(function(){return 1/0}))):[].concat(Ag(_g(0,a-1).map(function(){return-1/0})),[u]);return r>n?Ng(d):d}if(c===u)return T7(c,a,o);var h=aP(c,u,i,o),p=h.step,m=h.tickMin,v=h.tickMax,x=jh.rangeStep(m,v.add(new Ct(.1).mul(p)),p);return r>n?Ng(x):x}function D7(e,t){var r=_c(e,2),n=r[0],a=r[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=rP([n,a]),s=_c(i,2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[n,a];if(l===c)return[l];var u=Math.max(t,2),d=nP(new Ct(c).sub(l).div(u-1),o,0),h=[].concat(Ag(jh.rangeStep(new Ct(l),new Ct(c).sub(new Ct(.99).mul(d)),d)),[c]);return n>a?Ng(h):h}var R7=eP($7),L7=eP(D7),I7="Invariant failed";function ki(e,t){throw new Error(I7)}var B7=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function _s(e){"@babel/helpers - typeof";return _s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_s(e)}function ed(){return ed=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ed.apply(this,arguments)}function F7(e,t){return G7(e)||U7(e,t)||W7(e,t)||z7()}function z7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W7(e,t){if(e){if(typeof e=="string")return H1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return H1(e,t)}}function H1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function U7(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function G7(e){if(Array.isArray(e))return e}function H7(e,t){if(e==null)return{};var r=V7(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function V7(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function K7(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X7(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sP(n.key),n)}}function Y7(e,t,r){return t&&X7(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function q7(e,t,r){return t=td(t),Z7(e,oP()?Reflect.construct(t,r||[],td(e).constructor):t.apply(e,r))}function Z7(e,t){if(t&&(_s(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Q7(e)}function Q7(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oP=function(){return!!e})()}function td(e){return td=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},td(e)}function J7(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cg(e,t)}function Cg(e,t){return Cg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Cg(e,t)}function iP(e,t,r){return t=sP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sP(e){var t=eW(e,"string");return _s(t)=="symbol"?t:t+""}function eW(e,t){if(_s(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_s(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var sl=function(e){function t(){return K7(this,t),q7(this,t,arguments)}return J7(t,e),Y7(t,[{key:"render",value:function(){var n=this.props,a=n.offset,o=n.layout,i=n.width,s=n.dataKey,l=n.data,c=n.dataPointFormatter,u=n.xAxis,d=n.yAxis,h=H7(n,B7),p=Ie(h,!1);this.props.direction==="x"&&u.type!=="number"&&ki();var m=l.map(function(v){var x=c(v,s),y=x.x,g=x.y,b=x.value,S=x.errorVal;if(!S)return null;var w=[],k,j;if(Array.isArray(S)){var P=F7(S,2);k=P[0],j=P[1]}else k=j=S;if(o==="vertical"){var _=u.scale,A=g+a,N=A+i,E=A-i,F=_(b-k),D=_(b+j);w.push({x1:D,y1:N,x2:D,y2:E}),w.push({x1:F,y1:A,x2:D,y2:A}),w.push({x1:F,y1:N,x2:F,y2:E})}else if(o==="horizontal"){var T=d.scale,L=y+a,W=L-i,I=L+i,R=T(b-k),B=T(b+j);w.push({x1:W,y1:B,x2:I,y2:B}),w.push({x1:L,y1:R,x2:L,y2:B}),w.push({x1:W,y1:R,x2:I,y2:R})}return M.createElement(vt,ed({className:"recharts-errorBar",key:"bar-".concat(w.map(function(ee){return"".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2)}))},p),w.map(function(ee){return M.createElement("line",ed({},ee,{key:"line-".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2)}))}))});return M.createElement(vt,{className:"recharts-errorBars"},m)}}])}(M.Component);iP(sl,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});iP(sl,"displayName","ErrorBar");function Nc(e){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nc(e)}function V1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ko(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V1(Object(r),!0).forEach(function(n){tW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tW(e,t,r){return t=rW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rW(e){var t=nW(e,"string");return Nc(t)=="symbol"?t:t+""}function nW(e,t){if(Nc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lP=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,o=t.legendContent,i=_n(r,Va);if(!i)return null;var s=Va.defaultProps,l=s!==void 0?Ko(Ko({},s),i.props):{},c;return i.props&&i.props.payload?c=i.props&&i.props.payload:o==="children"?c=(n||[]).reduce(function(u,d){var h=d.item,p=d.props,m=p.sectors||p.data||[];return u.concat(m.map(function(v){return{type:i.props.iconType||h.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):c=(n||[]).map(function(u){var d=u.item,h=d.type.defaultProps,p=h!==void 0?Ko(Ko({},h),d.props):{},m=p.dataKey,v=p.name,x=p.legendType,y=p.hide;return{inactive:y,dataKey:m,type:l.iconType||x||"square",color:uv(d),value:v||m,payload:p}}),Ko(Ko(Ko({},l),Va.getWithHeight(i,a)),{},{payload:c,item:i})};function Ac(e){"@babel/helpers - typeof";return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ac(e)}function K1(e){return sW(e)||iW(e)||oW(e)||aW()}function aW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oW(e,t){if(e){if(typeof e=="string")return Eg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Eg(e,t)}}function iW(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function sW(e){if(Array.isArray(e))return Eg(e)}function Eg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function X1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X1(Object(r),!0).forEach(function(n){us(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function us(e,t,r){return t=lW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lW(e){var t=cW(e,"string");return Ac(t)=="symbol"?t:t+""}function cW(e,t){if(Ac(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ac(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pr(e,t,r){return Te(e)||Te(t)?r:Or(t)?Vn(e,t,r):We(t)?t(e):r}function Hl(e,t,r,n){var a=i7(e,function(s){return Pr(s,t)});if(r==="number"){var o=a.filter(function(s){return oe(s)||parseFloat(s)});return o.length?[kh(o),vo(o)]:[1/0,-1/0]}var i=n?a.filter(function(s){return!Te(s)}):a;return i.map(function(s){return Or(s)||s instanceof Date?s:""})}var uW=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,i=-1,s=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,c=0;c<s;c++){var u=c>0?a[c-1].coordinate:a[s-1].coordinate,d=a[c].coordinate,h=c>=s-1?a[0].coordinate:a[c+1].coordinate,p=void 0;if(ia(d-u)!==ia(h-d)){var m=[];if(ia(h-d)===ia(l[1]-l[0])){p=h;var v=d+l[1]-l[0];m[0]=Math.min(v,(v+u)/2),m[1]=Math.max(v,(v+u)/2)}else{p=u;var x=h+l[1]-l[0];m[0]=Math.min(d,(x+d)/2),m[1]=Math.max(d,(x+d)/2)}var y=[Math.min(d,(p+d)/2),Math.max(d,(p+d)/2)];if(t>y[0]&&t<=y[1]||t>=m[0]&&t<=m[1]){i=a[c].index;break}}else{var g=Math.min(u,h),b=Math.max(u,h);if(t>(g+d)/2&&t<=(b+d)/2){i=a[c].index;break}}}else for(var S=0;S<s;S++)if(S===0&&t<=(n[S].coordinate+n[S+1].coordinate)/2||S>0&&S<s-1&&t>(n[S].coordinate+n[S-1].coordinate)/2&&t<=(n[S].coordinate+n[S+1].coordinate)/2||S===s-1&&t>(n[S].coordinate+n[S-1].coordinate)/2){i=n[S].index;break}return i},uv=function(t){var r,n=t,a=n.type.displayName,o=(r=t.type)!==null&&r!==void 0&&r.defaultProps?lr(lr({},t.type.defaultProps),t.props):t.props,i=o.stroke,s=o.fill,l;switch(a){case"Line":l=i;break;case"Area":case"Radar":l=i&&i!=="none"?i:s;break;default:l=s;break}return l},fW=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,o=a===void 0?{}:a;if(!o)return{};for(var i={},s=Object.keys(o),l=0,c=s.length;l<c;l++)for(var u=o[s[l]].stackGroups,d=Object.keys(u),h=0,p=d.length;h<p;h++){var m=u[d[h]],v=m.items,x=m.cateAxisId,y=v.filter(function(j){return Ga(j.type).indexOf("Bar")>=0});if(y&&y.length){var g=y[0].type.defaultProps,b=g!==void 0?lr(lr({},g),y[0].props):y[0].props,S=b.barSize,w=b[x];i[w]||(i[w]=[]);var k=Te(S)?r:S;i[w].push({item:y[0],stackList:y.slice(1),barSize:Te(k)?void 0:xi(k,n,0)})}}return i},dW=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,o=t.sizeList,i=o===void 0?[]:o,s=t.maxBarSize,l=i.length;if(l<1)return null;var c=xi(r,a,0,!0),u,d=[];if(i[0].barSize===+i[0].barSize){var h=!1,p=a/l,m=i.reduce(function(S,w){return S+w.barSize||0},0);m+=(l-1)*c,m>=a&&(m-=(l-1)*c,c=0),m>=a&&p>0&&(h=!0,p*=.9,m=l*p);var v=(a-m)/2>>0,x={offset:v-c,size:0};u=i.reduce(function(S,w){var k={item:w.item,position:{offset:x.offset+x.size+c,size:h?p:w.barSize}},j=[].concat(K1(S),[k]);return x=j[j.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(P){j.push({item:P,position:x})}),j},d)}else{var y=xi(n,a,0,!0);a-2*y-(l-1)*c<=0&&(c=0);var g=(a-2*y-(l-1)*c)/l;g>1&&(g>>=0);var b=s===+s?Math.min(g,s):g;u=i.reduce(function(S,w,k){var j=[].concat(K1(S),[{item:w.item,position:{offset:y+(g+c)*k+(g-b)/2,size:b}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(P){j.push({item:P,position:j[j.length-1].position})}),j},d)}return u},hW=function(t,r,n,a){var o=n.children,i=n.width,s=n.margin,l=i-(s.left||0)-(s.right||0),c=lP({children:o,legendWidth:l});if(c){var u=a||{},d=u.width,h=u.height,p=c.align,m=c.verticalAlign,v=c.layout;if((v==="vertical"||v==="horizontal"&&m==="middle")&&p!=="center"&&oe(t[p]))return lr(lr({},t),{},us({},p,t[p]+(d||0)));if((v==="horizontal"||v==="vertical"&&p==="center")&&m!=="middle"&&oe(t[m]))return lr(lr({},t),{},us({},m,t[m]+(h||0)))}return t},pW=function(t,r,n){return Te(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},cP=function(t,r,n,a,o){var i=r.props.children,s=wn(i,sl).filter(function(c){return pW(a,o,c.props.direction)});if(s&&s.length){var l=s.map(function(c){return c.props.dataKey});return t.reduce(function(c,u){var d=Pr(u,n);if(Te(d))return c;var h=Array.isArray(d)?[kh(d),vo(d)]:[d,d],p=l.reduce(function(m,v){var x=Pr(u,v,0),y=h[0]-Math.abs(Array.isArray(x)?x[0]:x),g=h[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(y,m[0]),Math.max(g,m[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},gW=function(t,r,n,a,o){var i=r.map(function(s){return cP(t,s,n,o,a)}).filter(function(s){return!Te(s)});return i&&i.length?i.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},uP=function(t,r,n,a,o){var i=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&cP(t,l,c,a)||Hl(t,c,n,o)});if(n==="number")return i.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var s={};return i.reduce(function(l,c){for(var u=0,d=c.length;u<d;u++)s[c[u]]||(s[c[u]]=!0,l.push(c[u]));return l},[])},fP=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},dP=function(t,r,n,a){if(a)return t.map(function(l){return l.coordinate});var o,i,s=t.map(function(l){return l.coordinate===r&&(o=!0),l.coordinate===n&&(i=!0),l.coordinate});return o||s.push(r),i||s.push(n),s},Wa=function(t,r,n){if(!t)return null;var a=t.scale,o=t.duplicateDomain,i=t.type,s=t.range,l=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,c=(r||n)&&i==="category"&&a.bandwidth?a.bandwidth()/l:0;if(c=t.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?ia(s[0]-s[1])*2*c:c,r&&(t.ticks||t.niceTicks)){var u=(t.ticks||t.niceTicks).map(function(d){var h=o?o.indexOf(d):d;return{coordinate:a(h)+c,value:d,offset:c}});return u.filter(function(d){return!el(d.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(d,h){return{coordinate:a(d)+c,value:d,index:h,offset:c}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(d){return{coordinate:a(d)+c,value:d,offset:c}}):a.domain().map(function(d,h){return{coordinate:a(d)+c,value:o?o[d]:d,index:h,offset:c}})},Dp=new WeakMap,Lu=function(t,r){if(typeof r!="function")return t;Dp.has(t)||Dp.set(t,new WeakMap);var n=Dp.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},mW=function(t,r,n){var a=t.scale,o=t.type,i=t.layout,s=t.axisType;if(a==="auto")return i==="radial"&&s==="radiusAxis"?{scale:wc(),realScaleType:"band"}:i==="radial"&&s==="angleAxis"?{scale:Yf(),realScaleType:"linear"}:o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Gl(),realScaleType:"point"}:o==="category"?{scale:wc(),realScaleType:"band"}:{scale:Yf(),realScaleType:"linear"};if(vi(a)){var l="scale".concat(lh(a));return{scale:(z1[l]||Gl)(),realScaleType:z1[l]?l:"point"}}return We(a)?{scale:a}:{scale:Gl(),realScaleType:"point"}},Y1=1e-4,yW=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),o=Math.min(a[0],a[1])-Y1,i=Math.max(a[0],a[1])+Y1,s=t(r[0]),l=t(r[n-1]);(s<o||s>i||l<o||l>i)&&t.domain([r[0],r[n-1]])}},vW=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},xW=function(t,r){if(!r||r.length!==2||!oe(r[0])||!oe(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),o=[t[0],t[1]];return(!oe(t[0])||t[0]<n)&&(o[0]=n),(!oe(t[1])||t[1]>a)&&(o[1]=a),o[0]>a&&(o[0]=a),o[1]<n&&(o[1]=n),o},bW=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var o=0,i=0,s=0;s<r;++s){var l=el(t[s][n][1])?t[s][n][0]:t[s][n][1];l>=0?(t[s][n][0]=o,t[s][n][1]=o+l,o=t[s][n][1]):(t[s][n][0]=i,t[s][n][1]=i+l,i=t[s][n][1])}},wW=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var o=0,i=0;i<r;++i){var s=el(t[i][n][1])?t[i][n][0]:t[i][n][1];s>=0?(t[i][n][0]=o,t[i][n][1]=o+s,o=t[i][n][1]):(t[i][n][0]=0,t[i][n][1]=0)}},kW={sign:bW,expand:L$,none:vs,silhouette:I$,wiggle:B$,positive:wW},SW=function(t,r,n){var a=r.map(function(s){return s.props.dataKey}),o=kW[n],i=R$().keys(a).value(function(s,l){return+Pr(s,l,0)}).order(ng).offset(o);return i(t)},jW=function(t,r,n,a,o,i){if(!t)return null;var s=i?r.reverse():r,l={},c=s.reduce(function(d,h){var p,m=(p=h.type)!==null&&p!==void 0&&p.defaultProps?lr(lr({},h.type.defaultProps),h.props):h.props,v=m.stackId,x=m.hide;if(x)return d;var y=m[n],g=d[y]||{hasStack:!1,stackGroups:{}};if(Or(v)){var b=g.stackGroups[v]||{numericAxisId:n,cateAxisId:a,items:[]};b.items.push(h),g.hasStack=!0,g.stackGroups[v]=b}else g.stackGroups[Ni("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return lr(lr({},d),{},us({},y,g))},l),u={};return Object.keys(c).reduce(function(d,h){var p=c[h];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(v,x){var y=p.stackGroups[x];return lr(lr({},v),{},us({},x,{numericAxisId:n,cateAxisId:a,items:y.items,stackedData:SW(t,y.items,o)}))},m)}return lr(lr({},d),{},us({},h,p))},u)},OW=function(t,r){var n=r.realScaleType,a=r.type,o=r.tickCount,i=r.originalDomain,s=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&a==="number"&&i&&(i[0]==="auto"||i[1]==="auto")){var c=t.domain();if(!c.length)return null;var u=R7(c,o,s);return t.domain([kh(u),vo(u)]),{niceTicks:u}}if(o&&a==="number"){var d=t.domain(),h=L7(d,o,s);return{niceTicks:h}}return null};function Ns(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,o=e.index,i=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Te(a[t.dataKey])){var s=_f(r,"value",a[t.dataKey]);if(s)return s.coordinate+n/2}return r[o]?r[o].coordinate+n/2:null}var l=Pr(a,Te(i)?t.dataKey:i);return Te(l)?null:t.scale(l)}var q1=function(t){var r=t.axis,n=t.ticks,a=t.offset,o=t.bandSize,i=t.entry,s=t.index;if(r.type==="category")return n[s]?n[s].coordinate+a:null;var l=Pr(i,r.dataKey,r.domain[s]);return Te(l)?null:r.scale(l)-o/2+a},PW=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]);return a<=0&&o>=0?0:o<0?o:a}return n[0]},_W=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?lr(lr({},t.type.defaultProps),t.props):t.props,o=a.stackId;if(Or(o)){var i=r[o];if(i){var s=i.items.indexOf(t);return s>=0?i.stackedData[s]:null}}return null},NW=function(t){return t.reduce(function(r,n){return[kh(n.concat([r[0]]).filter(oe)),vo(n.concat([r[1]]).filter(oe))]},[1/0,-1/0])},hP=function(t,r,n){return Object.keys(t).reduce(function(a,o){var i=t[o],s=i.stackedData,l=s.reduce(function(c,u){var d=NW(u.slice(r,n+1));return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],a[0]),Math.max(l[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},Z1=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Q1=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Tg=function(t,r,n){if(We(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(oe(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(Z1.test(t[0])){var o=+Z1.exec(t[0])[1];a[0]=r[0]-o}else We(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(oe(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(Q1.test(t[1])){var i=+Q1.exec(t[1])[1];a[1]=r[1]+i}else We(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},rd=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var o=Ly(r,function(d){return d.coordinate}),i=1/0,s=1,l=o.length;s<l;s++){var c=o[s],u=o[s-1];i=Math.min((c.coordinate||0)-(u.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0},J1=function(t,r,n){return!t||!t.length||bi(t,Vn(n,"type.defaultProps.domain"))?r:t},pP=function(t,r){var n=t.type.defaultProps?lr(lr({},t.type.defaultProps),t.props):t.props,a=n.dataKey,o=n.name,i=n.unit,s=n.formatter,l=n.tooltipType,c=n.chartType,u=n.hide;return lr(lr({},Ie(t,!1)),{},{dataKey:a,unit:i,formatter:s,name:o||a,color:uv(t),value:Pr(r,a),type:l,payload:r,chartType:c,hide:u})};function Mc(e){"@babel/helpers - typeof";return Mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mc(e)}function ew(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ew(Object(r),!0).forEach(function(n){AW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ew(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AW(e,t,r){return t=MW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MW(e){var t=CW(e,"string");return Mc(t)=="symbol"?t:t+""}function CW(e,t){if(Mc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nd=Math.PI/180,EW=function(t){return t*180/Math.PI},Lr=function(t,r,n,a){return{x:t+Math.cos(-nd*a)*n,y:r+Math.sin(-nd*a)*n}},TW=function(t,r){var n=t.x,a=t.y,o=r.x,i=r.y;return Math.sqrt(Math.pow(n-o,2)+Math.pow(a-i,2))},$W=function(t,r){var n=t.x,a=t.y,o=r.cx,i=r.cy,s=TW({x:n,y:a},{x:o,y:i});if(s<=0)return{radius:s};var l=(n-o)/s,c=Math.acos(l);return a>i&&(c=2*Math.PI-c),{radius:s,angle:EW(c),angleInRadian:c}},DW=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),o=Math.floor(n/360),i=Math.min(a,o);return{startAngle:r-i*360,endAngle:n-i*360}},RW=function(t,r){var n=r.startAngle,a=r.endAngle,o=Math.floor(n/360),i=Math.floor(a/360),s=Math.min(o,i);return t+s*360},rw=function(t,r){var n=t.x,a=t.y,o=$W({x:n,y:a},r),i=o.radius,s=o.angle,l=r.innerRadius,c=r.outerRadius;if(i<l||i>c)return!1;if(i===0)return!0;var u=DW(r),d=u.startAngle,h=u.endAngle,p=s,m;if(d<=h){for(;p>h;)p-=360;for(;p<d;)p+=360;m=p>=d&&p<=h}else{for(;p>d;)p-=360;for(;p<h;)p+=360;m=p>=h&&p<=d}return m?tw(tw({},r),{},{radius:i,angle:RW(p,r)}):null};function Cc(e){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cc(e)}var LW=["offset"];function IW(e){return WW(e)||zW(e)||FW(e)||BW()}function BW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FW(e,t){if(e){if(typeof e=="string")return $g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $g(e,t)}}function zW(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function WW(e){if(Array.isArray(e))return $g(e)}function $g(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function UW(e,t){if(e==null)return{};var r=GW(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function GW(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function nw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nw(Object(r),!0).forEach(function(n){HW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HW(e,t,r){return t=VW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VW(e){var t=KW(e,"string");return Cc(t)=="symbol"?t:t+""}function KW(e,t){if(Cc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ec(){return Ec=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ec.apply(this,arguments)}var XW=function(t){var r=t.value,n=t.formatter,a=Te(t.children)?r:t.children;return We(n)?n(a):a},YW=function(t,r){var n=ia(r-t),a=Math.min(Math.abs(r-t),360);return n*a},qW=function(t,r,n){var a=t.position,o=t.viewBox,i=t.offset,s=t.className,l=o,c=l.cx,u=l.cy,d=l.innerRadius,h=l.outerRadius,p=l.startAngle,m=l.endAngle,v=l.clockWise,x=(d+h)/2,y=YW(p,m),g=y>=0?1:-1,b,S;a==="insideStart"?(b=p+g*i,S=v):a==="insideEnd"?(b=m-g*i,S=!v):a==="end"&&(b=m+g*i,S=v),S=y<=0?S:!S;var w=Lr(c,u,x,b),k=Lr(c,u,x,b+(S?1:-1)*359),j="M".concat(w.x,",").concat(w.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(S?0:1,`,
    `).concat(k.x,",").concat(k.y),P=Te(t.id)?Ni("recharts-radial-line-"):t.id;return M.createElement("text",Ec({},n,{dominantBaseline:"central",className:ut("recharts-radial-bar-label",s)}),M.createElement("defs",null,M.createElement("path",{id:P,d:j})),M.createElement("textPath",{xlinkHref:"#".concat(P)},r))},ZW=function(t){var r=t.viewBox,n=t.offset,a=t.position,o=r,i=o.cx,s=o.cy,l=o.innerRadius,c=o.outerRadius,u=o.startAngle,d=o.endAngle,h=(u+d)/2;if(a==="outside"){var p=Lr(i,s,c+n,h),m=p.x,v=p.y;return{x:m,y:v,textAnchor:m>=i?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"end"};var x=(l+c)/2,y=Lr(i,s,x,h),g=y.x,b=y.y;return{x:g,y:b,textAnchor:"middle",verticalAnchor:"middle"}},QW=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,o=t.position,i=r,s=i.x,l=i.y,c=i.width,u=i.height,d=u>=0?1:-1,h=d*a,p=d>0?"end":"start",m=d>0?"start":"end",v=c>=0?1:-1,x=v*a,y=v>0?"end":"start",g=v>0?"start":"end";if(o==="top"){var b={x:s+c/2,y:l-d*a,textAnchor:"middle",verticalAnchor:p};return kr(kr({},b),n?{height:Math.max(l-n.y,0),width:c}:{})}if(o==="bottom"){var S={x:s+c/2,y:l+u+h,textAnchor:"middle",verticalAnchor:m};return kr(kr({},S),n?{height:Math.max(n.y+n.height-(l+u),0),width:c}:{})}if(o==="left"){var w={x:s-x,y:l+u/2,textAnchor:y,verticalAnchor:"middle"};return kr(kr({},w),n?{width:Math.max(w.x-n.x,0),height:u}:{})}if(o==="right"){var k={x:s+c+x,y:l+u/2,textAnchor:g,verticalAnchor:"middle"};return kr(kr({},k),n?{width:Math.max(n.x+n.width-k.x,0),height:u}:{})}var j=n?{width:c,height:u}:{};return o==="insideLeft"?kr({x:s+x,y:l+u/2,textAnchor:g,verticalAnchor:"middle"},j):o==="insideRight"?kr({x:s+c-x,y:l+u/2,textAnchor:y,verticalAnchor:"middle"},j):o==="insideTop"?kr({x:s+c/2,y:l+h,textAnchor:"middle",verticalAnchor:m},j):o==="insideBottom"?kr({x:s+c/2,y:l+u-h,textAnchor:"middle",verticalAnchor:p},j):o==="insideTopLeft"?kr({x:s+x,y:l+h,textAnchor:g,verticalAnchor:m},j):o==="insideTopRight"?kr({x:s+c-x,y:l+h,textAnchor:y,verticalAnchor:m},j):o==="insideBottomLeft"?kr({x:s+x,y:l+u-h,textAnchor:g,verticalAnchor:p},j):o==="insideBottomRight"?kr({x:s+c-x,y:l+u-h,textAnchor:y,verticalAnchor:p},j):qs(o)&&(oe(o.x)||ri(o.x))&&(oe(o.y)||ri(o.y))?kr({x:s+xi(o.x,c),y:l+xi(o.y,u),textAnchor:"end",verticalAnchor:"end"},j):kr({x:s+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},j)},JW=function(t){return"cx"in t&&oe(t.cx)};function Kr(e){var t=e.offset,r=t===void 0?5:t,n=UW(e,LW),a=kr({offset:r},n),o=a.viewBox,i=a.position,s=a.value,l=a.children,c=a.content,u=a.className,d=u===void 0?"":u,h=a.textBreakAll;if(!o||Te(s)&&Te(l)&&!O.isValidElement(c)&&!We(c))return null;if(O.isValidElement(c))return O.cloneElement(c,a);var p;if(We(c)){if(p=O.createElement(c,a),O.isValidElement(p))return p}else p=XW(a);var m=JW(o),v=Ie(a,!0);if(m&&(i==="insideStart"||i==="insideEnd"||i==="end"))return qW(a,p,v);var x=m?ZW(a):QW(a);return M.createElement(Wf,Ec({className:ut("recharts-label",d)},v,x,{breakAll:h}),p)}Kr.displayName="Label";var gP=function(t){var r=t.cx,n=t.cy,a=t.angle,o=t.startAngle,i=t.endAngle,s=t.r,l=t.radius,c=t.innerRadius,u=t.outerRadius,d=t.x,h=t.y,p=t.top,m=t.left,v=t.width,x=t.height,y=t.clockWise,g=t.labelViewBox;if(g)return g;if(oe(v)&&oe(x)){if(oe(d)&&oe(h))return{x:d,y:h,width:v,height:x};if(oe(p)&&oe(m))return{x:p,y:m,width:v,height:x}}return oe(d)&&oe(h)?{x:d,y:h,width:0,height:0}:oe(r)&&oe(n)?{cx:r,cy:n,startAngle:o||a||0,endAngle:i||a||0,innerRadius:c||0,outerRadius:u||l||s||0,clockWise:y}:t.viewBox?t.viewBox:{}},eU=function(t,r){return t?t===!0?M.createElement(Kr,{key:"label-implicit",viewBox:r}):Or(t)?M.createElement(Kr,{key:"label-implicit",viewBox:r,value:t}):O.isValidElement(t)?t.type===Kr?O.cloneElement(t,{key:"label-implicit",viewBox:r}):M.createElement(Kr,{key:"label-implicit",content:t,viewBox:r}):We(t)?M.createElement(Kr,{key:"label-implicit",content:t,viewBox:r}):qs(t)?M.createElement(Kr,Ec({viewBox:r},t,{key:"label-implicit"})):null:null},tU=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,o=gP(t),i=wn(a,Kr).map(function(l,c){return O.cloneElement(l,{viewBox:r||o,key:"label-".concat(c)})});if(!n)return i;var s=eU(t.label,r||o);return[s].concat(IW(i))};Kr.parseViewBox=gP;Kr.renderCallByParent=tU;function rU(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var nU=rU;const aU=$t(nU);function Tc(e){"@babel/helpers - typeof";return Tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tc(e)}var oU=["valueAccessor"],iU=["data","dataKey","clockWise","id","textBreakAll"];function sU(e){return fU(e)||uU(e)||cU(e)||lU()}function lU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cU(e,t){if(e){if(typeof e=="string")return Dg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dg(e,t)}}function uU(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function fU(e){if(Array.isArray(e))return Dg(e)}function Dg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ad(){return ad=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ad.apply(this,arguments)}function aw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ow(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aw(Object(r),!0).forEach(function(n){dU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dU(e,t,r){return t=hU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hU(e){var t=pU(e,"string");return Tc(t)=="symbol"?t:t+""}function pU(e,t){if(Tc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iw(e,t){if(e==null)return{};var r=gU(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gU(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var mU=function(t){return Array.isArray(t.value)?aU(t.value):t.value};function Pa(e){var t=e.valueAccessor,r=t===void 0?mU:t,n=iw(e,oU),a=n.data,o=n.dataKey,i=n.clockWise,s=n.id,l=n.textBreakAll,c=iw(n,iU);return!a||!a.length?null:M.createElement(vt,{className:"recharts-label-list"},a.map(function(u,d){var h=Te(o)?r(u,d):Pr(u&&u.payload,o),p=Te(s)?{}:{id:"".concat(s,"-").concat(d)};return M.createElement(Kr,ad({},Ie(u,!0),c,p,{parentViewBox:u.parentViewBox,value:h,textBreakAll:l,viewBox:Kr.parseViewBox(Te(i)?u:ow(ow({},u),{},{clockWise:i})),key:"label-".concat(d),index:d}))}))}Pa.displayName="LabelList";function yU(e,t){return e?e===!0?M.createElement(Pa,{key:"labelList-implicit",data:t}):M.isValidElement(e)||We(e)?M.createElement(Pa,{key:"labelList-implicit",data:t,content:e}):qs(e)?M.createElement(Pa,ad({data:t},e,{key:"labelList-implicit"})):null:null}function vU(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=wn(n,Pa).map(function(i,s){return O.cloneElement(i,{data:t,key:"labelList-".concat(s)})});if(!r)return a;var o=yU(e.label,t);return[o].concat(sU(a))}Pa.renderCallByParent=vU;function $c(e){"@babel/helpers - typeof";return $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$c(e)}function Rg(){return Rg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rg.apply(this,arguments)}function sw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sw(Object(r),!0).forEach(function(n){xU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xU(e,t,r){return t=bU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bU(e){var t=wU(e,"string");return $c(t)=="symbol"?t:t+""}function wU(e,t){if($c(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kU=function(t,r){var n=ia(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},Iu=function(t){var r=t.cx,n=t.cy,a=t.radius,o=t.angle,i=t.sign,s=t.isExternal,l=t.cornerRadius,c=t.cornerIsExternal,u=l*(s?1:-1)+a,d=Math.asin(l/u)/nd,h=c?o:o+i*d,p=Lr(r,n,u,h),m=Lr(r,n,a,h),v=c?o-i*d:o,x=Lr(r,n,u*Math.cos(d*nd),v);return{center:p,circleTangency:m,lineTangency:x,theta:d}},mP=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,o=t.outerRadius,i=t.startAngle,s=t.endAngle,l=kU(i,s),c=i+l,u=Lr(r,n,o,i),d=Lr(r,n,o,c),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(i>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(a>0){var p=Lr(r,n,a,i),m=Lr(r,n,a,c);h+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(i<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},SU=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,o=t.outerRadius,i=t.cornerRadius,s=t.forceCornerRadius,l=t.cornerIsExternal,c=t.startAngle,u=t.endAngle,d=ia(u-c),h=Iu({cx:r,cy:n,radius:o,angle:c,sign:d,cornerRadius:i,cornerIsExternal:l}),p=h.circleTangency,m=h.lineTangency,v=h.theta,x=Iu({cx:r,cy:n,radius:o,angle:u,sign:-d,cornerRadius:i,cornerIsExternal:l}),y=x.circleTangency,g=x.lineTangency,b=x.theta,S=l?Math.abs(c-u):Math.abs(c-u)-v-b;if(S<0)return s?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):mP({cx:r,cy:n,innerRadius:a,outerRadius:o,startAngle:c,endAngle:u});var w="M ".concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(S>180),",").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(g.x,",").concat(g.y,`
  `);if(a>0){var k=Iu({cx:r,cy:n,radius:a,angle:c,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),j=k.circleTangency,P=k.lineTangency,_=k.theta,A=Iu({cx:r,cy:n,radius:a,angle:u,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),N=A.circleTangency,E=A.lineTangency,F=A.theta,D=l?Math.abs(c-u):Math.abs(c-u)-_-F;if(D<0&&i===0)return"".concat(w,"L").concat(r,",").concat(n,"Z");w+="L".concat(E.x,",").concat(E.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(N.x,",").concat(N.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(D>180),",").concat(+(d>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(P.x,",").concat(P.y,"Z")}else w+="L".concat(r,",").concat(n,"Z");return w},jU={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},yP=function(t){var r=lw(lw({},jU),t),n=r.cx,a=r.cy,o=r.innerRadius,i=r.outerRadius,s=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,u=r.startAngle,d=r.endAngle,h=r.className;if(i<o||u===d)return null;var p=ut("recharts-sector",h),m=i-o,v=xi(s,m,0,!0),x;return v>0&&Math.abs(u-d)<360?x=SU({cx:n,cy:a,innerRadius:o,outerRadius:i,cornerRadius:Math.min(v,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):x=mP({cx:n,cy:a,innerRadius:o,outerRadius:i,startAngle:u,endAngle:d}),M.createElement("path",Rg({},Ie(r,!0),{className:p,d:x,role:"img"}))};function Dc(e){"@babel/helpers - typeof";return Dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dc(e)}function Lg(){return Lg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lg.apply(this,arguments)}function cw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cw(Object(r),!0).forEach(function(n){OU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OU(e,t,r){return t=PU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PU(e){var t=_U(e,"string");return Dc(t)=="symbol"?t:t+""}function _U(e,t){if(Dc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fw={curveBasisClosed:O$,curveBasisOpen:P$,curveBasis:j$,curveBumpX:u$,curveBumpY:f$,curveLinearClosed:_$,curveLinear:uh,curveMonotoneX:N$,curveMonotoneY:A$,curveNatural:M$,curveStep:C$,curveStepAfter:T$,curveStepBefore:E$},Bu=function(t){return t.x===+t.x&&t.y===+t.y},Ol=function(t){return t.x},Pl=function(t){return t.y},NU=function(t,r){if(We(t))return t;var n="curve".concat(lh(t));return(n==="curveMonotone"||n==="curveBump")&&r?fw["".concat(n).concat(r==="vertical"?"Y":"X")]:fw[n]||uh},AU=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,o=a===void 0?[]:a,i=t.baseLine,s=t.layout,l=t.connectNulls,c=l===void 0?!1:l,u=NU(n,s),d=c?o.filter(function(v){return Bu(v)}):o,h;if(Array.isArray(i)){var p=c?i.filter(function(v){return Bu(v)}):i,m=d.map(function(v,x){return uw(uw({},v),{},{base:p[x]})});return s==="vertical"?h=Au().y(Pl).x1(Ol).x0(function(v){return v.base.x}):h=Au().x(Ol).y1(Pl).y0(function(v){return v.base.y}),h.defined(Bu).curve(u),h(m)}return s==="vertical"&&oe(i)?h=Au().y(Pl).x1(Ol).x0(i):oe(i)?h=Au().x(Ol).y1(Pl).y0(i):h=vj().x(Ol).y(Pl),h.defined(Bu).curve(u),h(d)},di=function(t){var r=t.className,n=t.points,a=t.path,o=t.pathRef;if((!n||!n.length)&&!a)return null;var i=n&&n.length?AU(t):a;return O.createElement("path",Lg({},Ie(t,!1),Nf(t),{className:ut("recharts-curve",r),d:i,ref:o}))},vP={exports:{}},MU="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",CU=MU,EU=CU;function xP(){}function bP(){}bP.resetWarningCache=xP;var TU=function(){function e(n,a,o,i,s,l){if(l!==EU){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:bP,resetWarningCache:xP};return r.PropTypes=r,r};vP.exports=TU();var $U=vP.exports;const bt=$t($U),{getOwnPropertyNames:DU,getOwnPropertySymbols:RU}=Object,{hasOwnProperty:LU}=Object.prototype;function Rp(e,t){return function(n,a,o){return e(n,a,o)&&t(n,a,o)}}function Fu(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);const{cache:o}=a,i=o.get(r),s=o.get(n);if(i&&s)return i===n&&s===r;o.set(r,n),o.set(n,r);const l=e(r,n,a);return o.delete(r),o.delete(n),l}}function IU(e){return e!=null?e[Symbol.toStringTag]:void 0}function dw(e){return DU(e).concat(RU(e))}const BU=Object.hasOwn||((e,t)=>LU.call(e,t));function Ci(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const FU="__v",zU="__o",WU="_owner",{getOwnPropertyDescriptor:hw,keys:pw}=Object;function UU(e,t){return e.byteLength===t.byteLength&&od(new Uint8Array(e),new Uint8Array(t))}function GU(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function HU(e,t){return e.byteLength===t.byteLength&&od(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function VU(e,t){return Ci(e.getTime(),t.getTime())}function KU(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function XU(e,t){return e===t}function gw(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),o=e.entries();let i,s,l=0;for(;(i=o.next())&&!i.done;){const c=t.entries();let u=!1,d=0;for(;(s=c.next())&&!s.done;){if(a[d]){d++;continue}const h=i.value,p=s.value;if(r.equals(h[0],p[0],l,d,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1;l++}return!0}const YU=Ci;function qU(e,t,r){const n=pw(e);let a=n.length;if(pw(t).length!==a)return!1;for(;a-- >0;)if(!wP(e,t,r,n[a]))return!1;return!0}function _l(e,t,r){const n=dw(e);let a=n.length;if(dw(t).length!==a)return!1;let o,i,s;for(;a-- >0;)if(o=n[a],!wP(e,t,r,o)||(i=hw(e,o),s=hw(t,o),(i||s)&&(!i||!s||i.configurable!==s.configurable||i.enumerable!==s.enumerable||i.writable!==s.writable)))return!1;return!0}function ZU(e,t){return Ci(e.valueOf(),t.valueOf())}function QU(e,t){return e.source===t.source&&e.flags===t.flags}function mw(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),o=e.values();let i,s;for(;(i=o.next())&&!i.done;){const l=t.values();let c=!1,u=0;for(;(s=l.next())&&!s.done;){if(!a[u]&&r.equals(i.value,s.value,i.value,s.value,e,t,r)){c=a[u]=!0;break}u++}if(!c)return!1}return!0}function od(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function JU(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function wP(e,t,r,n){return(n===WU||n===zU||n===FU)&&(e.$$typeof||t.$$typeof)?!0:BU(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const eG="[object ArrayBuffer]",tG="[object Arguments]",rG="[object Boolean]",nG="[object DataView]",aG="[object Date]",oG="[object Error]",iG="[object Map]",sG="[object Number]",lG="[object Object]",cG="[object RegExp]",uG="[object Set]",fG="[object String]",dG={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},hG="[object URL]",pG=Object.prototype.toString;function gG({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:a,areFunctionsEqual:o,areMapsEqual:i,areNumbersEqual:s,areObjectsEqual:l,arePrimitiveWrappersEqual:c,areRegExpsEqual:u,areSetsEqual:d,areTypedArraysEqual:h,areUrlsEqual:p,unknownTagComparators:m}){return function(x,y,g){if(x===y)return!0;if(x==null||y==null)return!1;const b=typeof x;if(b!==typeof y)return!1;if(b!=="object")return b==="number"?s(x,y,g):b==="function"?o(x,y,g):!1;const S=x.constructor;if(S!==y.constructor)return!1;if(S===Object)return l(x,y,g);if(Array.isArray(x))return t(x,y,g);if(S===Date)return n(x,y,g);if(S===RegExp)return u(x,y,g);if(S===Map)return i(x,y,g);if(S===Set)return d(x,y,g);const w=pG.call(x);if(w===aG)return n(x,y,g);if(w===cG)return u(x,y,g);if(w===iG)return i(x,y,g);if(w===uG)return d(x,y,g);if(w===lG)return typeof x.then!="function"&&typeof y.then!="function"&&l(x,y,g);if(w===hG)return p(x,y,g);if(w===oG)return a(x,y,g);if(w===tG)return l(x,y,g);if(dG[w])return h(x,y,g);if(w===eG)return e(x,y,g);if(w===nG)return r(x,y,g);if(w===rG||w===sG||w===fG)return c(x,y,g);if(m){let k=m[w];if(!k){const j=IU(x);j&&(k=m[j])}if(k)return k(x,y,g)}return!1}}function mG({circular:e,createCustomConfig:t,strict:r}){let n={areArrayBuffersEqual:UU,areArraysEqual:r?_l:GU,areDataViewsEqual:HU,areDatesEqual:VU,areErrorsEqual:KU,areFunctionsEqual:XU,areMapsEqual:r?Rp(gw,_l):gw,areNumbersEqual:YU,areObjectsEqual:r?_l:qU,arePrimitiveWrappersEqual:ZU,areRegExpsEqual:QU,areSetsEqual:r?Rp(mw,_l):mw,areTypedArraysEqual:r?Rp(od,_l):od,areUrlsEqual:JU,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const a=Fu(n.areArraysEqual),o=Fu(n.areMapsEqual),i=Fu(n.areObjectsEqual),s=Fu(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:i,areSetsEqual:s})}return n}function yG(e){return function(t,r,n,a,o,i,s){return e(t,r,s)}}function vG({circular:e,comparator:t,createState:r,equals:n,strict:a}){if(r)return function(s,l){const{cache:c=e?new WeakMap:void 0,meta:u}=r();return t(s,l,{cache:c,equals:n,meta:u,strict:a})};if(e)return function(s,l){return t(s,l,{cache:new WeakMap,equals:n,meta:void 0,strict:a})};const o={cache:void 0,equals:n,meta:void 0,strict:a};return function(s,l){return t(s,l,o)}}const xG=Fo();Fo({strict:!0});Fo({circular:!0});Fo({circular:!0,strict:!0});Fo({createInternalComparator:()=>Ci});Fo({strict:!0,createInternalComparator:()=>Ci});Fo({circular:!0,createInternalComparator:()=>Ci});Fo({circular:!0,createInternalComparator:()=>Ci,strict:!0});function Fo(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:a=!1}=e,o=mG(e),i=gG(o),s=r?r(i):yG(i);return vG({circular:t,comparator:i,createState:n,equals:s,strict:a})}function bG(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function yw(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(o){r<0&&(r=o),o-r>t?(e(o),r=-1):bG(a)};requestAnimationFrame(n)}function Ig(e){"@babel/helpers - typeof";return Ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ig(e)}function wG(e){return OG(e)||jG(e)||SG(e)||kG()}function kG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SG(e,t){if(e){if(typeof e=="string")return vw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vw(e,t)}}function vw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function OG(e){if(Array.isArray(e))return e}function PG(){var e={},t=function(){return null},r=!1,n=function a(o){if(!r){if(Array.isArray(o)){if(!o.length)return;var i=o,s=wG(i),l=s[0],c=s.slice(1);if(typeof l=="number"){yw(a.bind(null,c),l);return}a(l),yw(a.bind(null,c));return}Ig(o)==="object"&&(e=o,t(e)),typeof o=="function"&&o()}};return{stop:function(){r=!0},start:function(o){r=!1,n(o)},subscribe:function(o){return t=o,function(){t=function(){return null}}}}}function Rc(e){"@babel/helpers - typeof";return Rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rc(e)}function xw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xw(Object(r),!0).forEach(function(n){kP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kP(e,t,r){return t=_G(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _G(e){var t=NG(e,"string");return Rc(t)==="symbol"?t:String(t)}function NG(e,t){if(Rc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var AG=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(o){return a.includes(o)})})},MG=function(t){return t},CG=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Vl=function(t,r){return Object.keys(r).reduce(function(n,a){return bw(bw({},n),{},kP({},a,t(a,r[a])))},{})},ww=function(t,r,n){return t.map(function(a){return"".concat(CG(a)," ").concat(r,"ms ").concat(n)}).join(",")};function EG(e,t){return DG(e)||$G(e,t)||SP(e,t)||TG()}function TG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $G(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function DG(e){if(Array.isArray(e))return e}function RG(e){return BG(e)||IG(e)||SP(e)||LG()}function LG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SP(e,t){if(e){if(typeof e=="string")return Bg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Bg(e,t)}}function IG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function BG(e){if(Array.isArray(e))return Bg(e)}function Bg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var id=1e-4,jP=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},OP=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},kw=function(t,r){return function(n){var a=jP(t,r);return OP(a,n)}},FG=function(t,r){return function(n){var a=jP(t,r),o=[].concat(RG(a.map(function(i,s){return i*s}).slice(1)),[0]);return OP(o,n)}},Sw=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],o=r[1],i=r[2],s=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,o=0,i=1,s=1;break;case"ease":a=.25,o=.1,i=.25,s=1;break;case"ease-in":a=.42,o=0,i=1,s=1;break;case"ease-out":a=.42,o=0,i=.58,s=1;break;case"ease-in-out":a=0,o=0,i=.58,s=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),u=EG(c,4);a=u[0],o=u[1],i=u[2],s=u[3]}}}var d=kw(a,i),h=kw(o,s),p=FG(a,i),m=function(y){return y>1?1:y<0?0:y},v=function(y){for(var g=y>1?1:y,b=g,S=0;S<8;++S){var w=d(b)-g,k=p(b);if(Math.abs(w-g)<id||k<id)return h(b);b=m(b-w/k)}return h(b)};return v.isStepper=!1,v},zG=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,o=a===void 0?8:a,i=t.dt,s=i===void 0?17:i,l=function(u,d,h){var p=-(u-d)*n,m=h*o,v=h+(p-m)*s/1e3,x=h*s/1e3+u;return Math.abs(x-d)<id&&Math.abs(v)<id?[d,0]:[x,v]};return l.isStepper=!0,l.dt=s,l},WG=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Sw(a);case"spring":return zG();default:if(a.split("(")[0]==="cubic-bezier")return Sw(a)}return typeof a=="function"?a:null};function Lc(e){"@babel/helpers - typeof";return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lc(e)}function jw(e){return HG(e)||GG(e)||PP(e)||UG()}function UG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function HG(e){if(Array.isArray(e))return zg(e)}function Ow(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Dr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ow(Object(r),!0).forEach(function(n){Fg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ow(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fg(e,t,r){return t=VG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VG(e){var t=KG(e,"string");return Lc(t)==="symbol"?t:String(t)}function KG(e,t){if(Lc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XG(e,t){return ZG(e)||qG(e,t)||PP(e,t)||YG()}function YG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PP(e,t){if(e){if(typeof e=="string")return zg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zg(e,t)}}function zg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qG(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function ZG(e){if(Array.isArray(e))return e}var sd=function(t,r,n){return t+(r-t)*n},Wg=function(t){var r=t.from,n=t.to;return r!==n},QG=function e(t,r,n){var a=Vl(function(o,i){if(Wg(i)){var s=t(i.from,i.to,i.velocity),l=XG(s,2),c=l[0],u=l[1];return Dr(Dr({},i),{},{from:c,velocity:u})}return i},r);return n<1?Vl(function(o,i){return Wg(i)?Dr(Dr({},i),{},{velocity:sd(i.velocity,a[o].velocity,n),from:sd(i.from,a[o].from,n)}):i},r):e(t,a,n-1)};const JG=function(e,t,r,n,a){var o=AG(e,t),i=o.reduce(function(x,y){return Dr(Dr({},x),{},Fg({},y,[e[y],t[y]]))},{}),s=o.reduce(function(x,y){return Dr(Dr({},x),{},Fg({},y,{from:e[y],velocity:0,to:t[y]}))},{}),l=-1,c,u,d=function(){return null},h=function(){return Vl(function(y,g){return g.from},s)},p=function(){return!Object.values(s).filter(Wg).length},m=function(y){c||(c=y);var g=y-c,b=g/r.dt;s=QG(r,s,b),a(Dr(Dr(Dr({},e),t),h())),c=y,p()||(l=requestAnimationFrame(d))},v=function(y){u||(u=y);var g=(y-u)/n,b=Vl(function(w,k){return sd.apply(void 0,jw(k).concat([r(g)]))},i);if(a(Dr(Dr(Dr({},e),t),b)),g<1)l=requestAnimationFrame(d);else{var S=Vl(function(w,k){return sd.apply(void 0,jw(k).concat([r(1)]))},i);a(Dr(Dr(Dr({},e),t),S))}};return d=r.isStepper?m:v,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function As(e){"@babel/helpers - typeof";return As=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},As(e)}var eH=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function tH(e,t){if(e==null)return{};var r=rH(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rH(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,o;for(o=0;o<n.length;o++)a=n[o],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Lp(e){return iH(e)||oH(e)||aH(e)||nH()}function nH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aH(e,t){if(e){if(typeof e=="string")return Ug(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ug(e,t)}}function oH(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function iH(e){if(Array.isArray(e))return Ug(e)}function Ug(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Pw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pw(Object(r),!0).forEach(function(n){Tl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tl(e,t,r){return t=_P(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lH(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_P(n.key),n)}}function cH(e,t,r){return t&&lH(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _P(e){var t=uH(e,"string");return As(t)==="symbol"?t:String(t)}function uH(e,t){if(As(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(As(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fH(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gg(e,t)}function Gg(e,t){return Gg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Gg(e,t)}function dH(e){var t=hH();return function(){var n=ld(e),a;if(t){var o=ld(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return Hg(this,a)}}function Hg(e,t){if(t&&(As(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vg(e)}function Vg(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hH(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ld(e){return ld=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ld(e)}var ua=function(e){fH(r,e);var t=dH(r);function r(n,a){var o;sH(this,r),o=t.call(this,n,a);var i=o.props,s=i.isActive,l=i.attributeName,c=i.from,u=i.to,d=i.steps,h=i.children,p=i.duration;if(o.handleStyleChange=o.handleStyleChange.bind(Vg(o)),o.changeStyle=o.changeStyle.bind(Vg(o)),!s||p<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:u}),Hg(o);if(d&&d.length)o.state={style:d[0].style};else if(c){if(typeof h=="function")return o.state={style:c},Hg(o);o.state={style:l?Tl({},l,c):c}}else o.state={style:{}};return o}return cH(r,[{key:"componentDidMount",value:function(){var a=this.props,o=a.isActive,i=a.canBegin;this.mounted=!0,!(!o||!i)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var o=this.props,i=o.isActive,s=o.canBegin,l=o.attributeName,c=o.shouldReAnimate,u=o.to,d=o.from,h=this.state.style;if(s){if(!i){var p={style:l?Tl({},l,u):u};this.state&&h&&(l&&h[l]!==u||!l&&h!==u)&&this.setState(p);return}if(!(xG(a.to,u)&&a.canBegin&&a.isActive)){var m=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=m||c?d:a.to;if(this.state&&h){var x={style:l?Tl({},l,v):v};(l&&h[l]!==v||!l&&h!==v)&&this.setState(x)}this.runAnimation(Jn(Jn({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var o=this,i=a.from,s=a.to,l=a.duration,c=a.easing,u=a.begin,d=a.onAnimationEnd,h=a.onAnimationStart,p=JG(i,s,WG(c),l,this.changeStyle),m=function(){o.stopJSAnimation=p()};this.manager.start([h,u,m,l,d])}},{key:"runStepAnimation",value:function(a){var o=this,i=a.steps,s=a.begin,l=a.onAnimationStart,c=i[0],u=c.style,d=c.duration,h=d===void 0?0:d,p=function(v,x,y){if(y===0)return v;var g=x.duration,b=x.easing,S=b===void 0?"ease":b,w=x.style,k=x.properties,j=x.onAnimationEnd,P=y>0?i[y-1]:x,_=k||Object.keys(w);if(typeof S=="function"||S==="spring")return[].concat(Lp(v),[o.runJSAnimation.bind(o,{from:P.style,to:w,duration:g,easing:S}),g]);var A=ww(_,g,S),N=Jn(Jn(Jn({},P.style),w),{},{transition:A});return[].concat(Lp(v),[N,g,j]).filter(MG)};return this.manager.start([l].concat(Lp(i.reduce(p,[u,Math.max(h,s)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=PG());var o=a.begin,i=a.duration,s=a.attributeName,l=a.to,c=a.easing,u=a.onAnimationStart,d=a.onAnimationEnd,h=a.steps,p=a.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var v=s?Tl({},s,l):l,x=ww(Object.keys(v),i,c);m.start([u,o,Jn(Jn({},v),{},{transition:x}),i,d])}},{key:"render",value:function(){var a=this.props,o=a.children;a.begin;var i=a.duration;a.attributeName,a.easing;var s=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var l=tH(a,eH),c=O.Children.count(o),u=this.state.style;if(typeof o=="function")return o(u);if(!s||c===0||i<=0)return o;var d=function(p){var m=p.props,v=m.style,x=v===void 0?{}:v,y=m.className,g=O.cloneElement(p,Jn(Jn({},l),{},{style:Jn(Jn({},x),u),className:y}));return g};return c===1?d(O.Children.only(o)):M.createElement("div",null,O.Children.map(o,function(h){return d(h)}))}}]),r}(O.PureComponent);ua.displayName="Animate";ua.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ua.propTypes={from:bt.oneOfType([bt.object,bt.string]),to:bt.oneOfType([bt.object,bt.string]),attributeName:bt.string,duration:bt.number,begin:bt.number,easing:bt.oneOfType([bt.string,bt.func]),steps:bt.arrayOf(bt.shape({duration:bt.number.isRequired,style:bt.object.isRequired,easing:bt.oneOfType([bt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),bt.func]),properties:bt.arrayOf("string"),onAnimationEnd:bt.func})),children:bt.oneOfType([bt.node,bt.func]),isActive:bt.bool,canBegin:bt.bool,onAnimationEnd:bt.func,shouldReAnimate:bt.bool,onAnimationStart:bt.func,onAnimationReStart:bt.func};function Ic(e){"@babel/helpers - typeof";return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ic(e)}function cd(){return cd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cd.apply(this,arguments)}function pH(e,t){return vH(e)||yH(e,t)||mH(e,t)||gH()}function gH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mH(e,t){if(e){if(typeof e=="string")return _w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _w(e,t)}}function _w(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yH(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function vH(e){if(Array.isArray(e))return e}function Nw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Aw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nw(Object(r),!0).forEach(function(n){xH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xH(e,t,r){return t=bH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bH(e){var t=wH(e,"string");return Ic(t)=="symbol"?t:t+""}function wH(e,t){if(Ic(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ic(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mw=function(t,r,n,a,o){var i=Math.min(Math.abs(n)/2,Math.abs(a)/2),s=a>=0?1:-1,l=n>=0?1:-1,c=a>=0&&n>=0||a<0&&n<0?1:0,u;if(i>0&&o instanceof Array){for(var d=[0,0,0,0],h=0,p=4;h<p;h++)d[h]=o[h]>i?i:o[h];u="M".concat(t,",").concat(r+s*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(t+l*d[0],",").concat(r)),u+="L ".concat(t+n-l*d[1],",").concat(r),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(t+n,",").concat(r+s*d[1])),u+="L ".concat(t+n,",").concat(r+a-s*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(t+n-l*d[2],",").concat(r+a)),u+="L ".concat(t+l*d[3],",").concat(r+a),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(r+a-s*d[3])),u+="Z"}else if(i>0&&o===+o&&o>0){var m=Math.min(i,o);u="M ".concat(t,",").concat(r+s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+l*m,",").concat(r,`
            L `).concat(t+n-l*m,",").concat(r,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+n,",").concat(r+s*m,`
            L `).concat(t+n,",").concat(r+a-s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+n-l*m,",").concat(r+a,`
            L `).concat(t+l*m,",").concat(r+a,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t,",").concat(r+a-s*m," Z")}else u="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return u},kH=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,o=r.x,i=r.y,s=r.width,l=r.height;if(Math.abs(s)>0&&Math.abs(l)>0){var c=Math.min(o,o+s),u=Math.max(o,o+s),d=Math.min(i,i+l),h=Math.max(i,i+l);return n>=c&&n<=u&&a>=d&&a<=h}return!1},SH={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},fv=function(t){var r=Aw(Aw({},SH),t),n=O.useRef(),a=O.useState(-1),o=pH(a,2),i=o[0],s=o[1];O.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&s(S)}catch{}},[]);var l=r.x,c=r.y,u=r.width,d=r.height,h=r.radius,p=r.className,m=r.animationEasing,v=r.animationDuration,x=r.animationBegin,y=r.isAnimationActive,g=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||d!==+d||u===0||d===0)return null;var b=ut("recharts-rectangle",p);return g?M.createElement(ua,{canBegin:i>0,from:{width:u,height:d,x:l,y:c},to:{width:u,height:d,x:l,y:c},duration:v,animationEasing:m,isActive:g},function(S){var w=S.width,k=S.height,j=S.x,P=S.y;return M.createElement(ua,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:v,isActive:y,easing:m},M.createElement("path",cd({},Ie(r,!0),{className:b,d:Mw(j,P,w,k,h),ref:n})))}):M.createElement("path",cd({},Ie(r,!0),{className:b,d:Mw(l,c,u,d,h)}))};function Kg(){return Kg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kg.apply(this,arguments)}var Oh=function(t){var r=t.cx,n=t.cy,a=t.r,o=t.className,i=ut("recharts-dot",o);return r===+r&&n===+n&&a===+a?O.createElement("circle",Kg({},Ie(t,!1),Nf(t),{className:i,cx:r,cy:n,r:a})):null};function Bc(e){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bc(e)}var jH=["x","y","top","left","width","height","className"];function Xg(){return Xg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xg.apply(this,arguments)}function Cw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function OH(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cw(Object(r),!0).forEach(function(n){PH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PH(e,t,r){return t=_H(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _H(e){var t=NH(e,"string");return Bc(t)=="symbol"?t:t+""}function NH(e,t){if(Bc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AH(e,t){if(e==null)return{};var r=MH(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function MH(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var CH=function(t,r,n,a,o,i){return"M".concat(t,",").concat(o,"v").concat(a,"M").concat(i,",").concat(r,"h").concat(n)},EH=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,o=a===void 0?0:a,i=t.top,s=i===void 0?0:i,l=t.left,c=l===void 0?0:l,u=t.width,d=u===void 0?0:u,h=t.height,p=h===void 0?0:h,m=t.className,v=AH(t,jH),x=OH({x:n,y:o,top:s,left:c,width:d,height:p},v);return!oe(n)||!oe(o)||!oe(d)||!oe(p)||!oe(s)||!oe(c)?null:M.createElement("path",Xg({},Ie(x,!0),{className:ut("recharts-cross",m),d:CH(n,o,d,p,s,c)}))},TH=Wj,$H=TH(Object.getPrototypeOf,Object),DH=$H,RH=ro,LH=DH,IH=no,BH="[object Object]",FH=Function.prototype,zH=Object.prototype,NP=FH.toString,WH=zH.hasOwnProperty,UH=NP.call(Object);function GH(e){if(!IH(e)||RH(e)!=BH)return!1;var t=LH(e);if(t===null)return!0;var r=WH.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&NP.call(r)==UH}var HH=GH;const VH=$t(HH);var KH=ro,XH=no,YH="[object Boolean]";function qH(e){return e===!0||e===!1||XH(e)&&KH(e)==YH}var ZH=qH;const QH=$t(ZH);function Fc(e){"@babel/helpers - typeof";return Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fc(e)}function ud(){return ud=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ud.apply(this,arguments)}function JH(e,t){return nV(e)||rV(e,t)||tV(e,t)||eV()}function eV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tV(e,t){if(e){if(typeof e=="string")return Ew(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ew(e,t)}}function Ew(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rV(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function nV(e){if(Array.isArray(e))return e}function Tw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $w(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tw(Object(r),!0).forEach(function(n){aV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aV(e,t,r){return t=oV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oV(e){var t=iV(e,"string");return Fc(t)=="symbol"?t:t+""}function iV(e,t){if(Fc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dw=function(t,r,n,a,o){var i=n-a,s;return s="M ".concat(t,",").concat(r),s+="L ".concat(t+n,",").concat(r),s+="L ".concat(t+n-i/2,",").concat(r+o),s+="L ".concat(t+n-i/2-a,",").concat(r+o),s+="L ".concat(t,",").concat(r," Z"),s},sV={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},lV=function(t){var r=$w($w({},sV),t),n=O.useRef(),a=O.useState(-1),o=JH(a,2),i=o[0],s=o[1];O.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&s(b)}catch{}},[]);var l=r.x,c=r.y,u=r.upperWidth,d=r.lowerWidth,h=r.height,p=r.className,m=r.animationEasing,v=r.animationDuration,x=r.animationBegin,y=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||d!==+d||h!==+h||u===0&&d===0||h===0)return null;var g=ut("recharts-trapezoid",p);return y?M.createElement(ua,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:u,lowerWidth:d,height:h,x:l,y:c},duration:v,animationEasing:m,isActive:y},function(b){var S=b.upperWidth,w=b.lowerWidth,k=b.height,j=b.x,P=b.y;return M.createElement(ua,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:v,easing:m},M.createElement("path",ud({},Ie(r,!0),{className:g,d:Dw(j,P,S,w,k),ref:n})))}):M.createElement("g",null,M.createElement("path",ud({},Ie(r,!0),{className:g,d:Dw(l,c,u,d,h)})))},cV=["option","shapeType","propTransformer","activeClassName","isActive"];function zc(e){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zc(e)}function uV(e,t){if(e==null)return{};var r=fV(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fV(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Rw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rw(Object(r),!0).forEach(function(n){dV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dV(e,t,r){return t=hV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hV(e){var t=pV(e,"string");return zc(t)=="symbol"?t:t+""}function pV(e,t){if(zc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gV(e,t){return fd(fd({},t),e)}function mV(e,t){return e==="symbols"}function Lw(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return M.createElement(fv,r);case"trapezoid":return M.createElement(lV,r);case"sector":return M.createElement(yP,r);case"symbols":if(mV(t))return M.createElement(dh,r);break;default:return null}}function yV(e){return O.isValidElement(e)?e.props:e}function Yg(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?gV:n,o=e.activeClassName,i=o===void 0?"recharts-active-shape":o,s=e.isActive,l=uV(e,cV),c;if(O.isValidElement(t))c=O.cloneElement(t,fd(fd({},l),yV(t)));else if(We(t))c=t(l);else if(VH(t)&&!QH(t)){var u=a(t,l);c=M.createElement(Lw,{shapeType:r,elementProps:u})}else{var d=l;c=M.createElement(Lw,{shapeType:r,elementProps:d})}return s?M.createElement(vt,{className:i},c):c}function Ph(e,t){return t!=null&&"trapezoids"in e.props}function _h(e,t){return t!=null&&"sectors"in e.props}function Wc(e,t){return t!=null&&"points"in e.props}function vV(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,o=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&o}function xV(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function bV(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function wV(e,t){var r;return Ph(e,t)?r=vV:_h(e,t)?r=xV:Wc(e,t)&&(r=bV),r}function kV(e,t){var r;return Ph(e,t)?r="trapezoids":_h(e,t)?r="sectors":Wc(e,t)&&(r="points"),r}function SV(e,t){if(Ph(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(_h(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Wc(e,t)?t.payload:{}}function jV(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=kV(r,t),o=SV(r,t),i=n.filter(function(l,c){var u=bi(o,l),d=r.props[a].filter(function(m){var v=wV(r,t);return v(m,t)}),h=r.props[a].indexOf(d[d.length-1]),p=c===h;return u&&p}),s=n.indexOf(i[i.length-1]);return s}var OV=Math.ceil,PV=Math.max;function _V(e,t,r,n){for(var a=-1,o=PV(OV((t-e)/(r||1)),0),i=Array(o);o--;)i[n?o:++a]=e,e+=r;return i}var NV=_V,AV=sO,Iw=1/0,MV=17976931348623157e292;function CV(e){if(!e)return e===0?e:0;if(e=AV(e),e===Iw||e===-Iw){var t=e<0?-1:1;return t*MV}return e===e?e:0}var AP=CV,EV=NV,TV=gh,Ip=AP;function $V(e){return function(t,r,n){return n&&typeof n!="number"&&TV(t,r,n)&&(r=n=void 0),t=Ip(t),r===void 0?(r=t,t=0):r=Ip(r),n=n===void 0?t<r?1:-1:Ip(n),EV(t,r,n,e)}}var DV=$V,RV=DV,LV=RV(),IV=LV;const dd=$t(IV);function Uc(e){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uc(e)}function Bw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bw(Object(r),!0).forEach(function(n){MP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MP(e,t,r){return t=BV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BV(e){var t=FV(e,"string");return Uc(t)=="symbol"?t:t+""}function FV(e,t){if(Uc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Uc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zV=["Webkit","Moz","O","ms"],WV=function(t,r){var n=t.replace(/(\w)/,function(o){return o.toUpperCase()}),a=zV.reduce(function(o,i){return Fw(Fw({},o),{},MP({},i+n,r))},{});return a[t]=r,a};function Ms(e){"@babel/helpers - typeof";return Ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ms(e)}function hd(){return hd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hd.apply(this,arguments)}function zw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zw(Object(r),!0).forEach(function(n){On(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ww(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,EP(n.key),n)}}function GV(e,t,r){return t&&Ww(e.prototype,t),r&&Ww(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function HV(e,t,r){return t=pd(t),VV(e,CP()?Reflect.construct(t,r||[],pd(e).constructor):t.apply(e,r))}function VV(e,t){if(t&&(Ms(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KV(e)}function KV(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CP=function(){return!!e})()}function pd(e){return pd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pd(e)}function XV(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qg(e,t)}function qg(e,t){return qg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},qg(e,t)}function On(e,t,r){return t=EP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EP(e){var t=YV(e,"string");return Ms(t)=="symbol"?t:t+""}function YV(e,t){if(Ms(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ms(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var qV=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,o=t.x,i=t.width,s=t.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=Gl().domain(dd(0,l)).range([o,o+i-s]),u=c.domain().map(function(d){return c(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(a),scale:c,scaleValues:u}},Uw=function(t){return t.changedTouches&&!!t.changedTouches.length},Cs=function(e){function t(r){var n;return UV(this,t),n=HV(this,t,[r]),On(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),On(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),On(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,o=a.endIndex,i=a.onDragEnd,s=a.startIndex;i==null||i({endIndex:o,startIndex:s})}),n.detachDragEndListener()}),On(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),On(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),On(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),On(n,"handleSlideDragStart",function(a){var o=Uw(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return XV(t,e),GV(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,o=n.endX,i=this.state.scaleValues,s=this.props,l=s.gap,c=s.data,u=c.length-1,d=Math.min(a,o),h=Math.max(a,o),p=t.getIndexInRange(i,d),m=t.getIndexInRange(i,h);return{startIndex:p-p%l,endIndex:m===u?u:m-m%l}}},{key:"getTextOfTick",value:function(n){var a=this.props,o=a.data,i=a.tickFormatter,s=a.dataKey,l=Pr(o[n],s,n);return We(i)?i(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,o=a.slideMoveStartX,i=a.startX,s=a.endX,l=this.props,c=l.x,u=l.width,d=l.travellerWidth,h=l.startIndex,p=l.endIndex,m=l.onChange,v=n.pageX-o;v>0?v=Math.min(v,c+u-d-s,c+u-d-i):v<0&&(v=Math.max(v,c-i,c-s));var x=this.getIndex({startX:i+v,endX:s+v});(x.startIndex!==h||x.endIndex!==p)&&m&&m(x),this.setState({startX:i+v,endX:s+v,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var o=Uw(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,o=a.brushMoveStartX,i=a.movingTravellerId,s=a.endX,l=a.startX,c=this.state[i],u=this.props,d=u.x,h=u.width,p=u.travellerWidth,m=u.onChange,v=u.gap,x=u.data,y={startX:this.state.startX,endX:this.state.endX},g=n.pageX-o;g>0?g=Math.min(g,d+h-p-c):g<0&&(g=Math.max(g,d-c)),y[i]=c+g;var b=this.getIndex(y),S=b.startIndex,w=b.endIndex,k=function(){var P=x.length-1;return i==="startX"&&(s>l?S%v===0:w%v===0)||s<l&&w===P||i==="endX"&&(s>l?w%v===0:S%v===0)||s>l&&w===P};this.setState(On(On({},i,c+g),"brushMoveStartX",n.pageX),function(){m&&k()&&m(b)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var o=this,i=this.state,s=i.scaleValues,l=i.startX,c=i.endX,u=this.state[a],d=s.indexOf(u);if(d!==-1){var h=d+n;if(!(h===-1||h>=s.length)){var p=s[h];a==="startX"&&p>=c||a==="endX"&&p<=l||this.setState(On({},a,p),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,o=n.y,i=n.width,s=n.height,l=n.fill,c=n.stroke;return M.createElement("rect",{stroke:c,fill:l,x:a,y:o,width:i,height:s})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,o=n.y,i=n.width,s=n.height,l=n.data,c=n.children,u=n.padding,d=O.Children.only(c);return d?M.cloneElement(d,{x:a,y:o,width:i,height:s,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,a){var o,i,s=this,l=this.props,c=l.y,u=l.travellerWidth,d=l.height,h=l.traveller,p=l.ariaLabel,m=l.data,v=l.startIndex,x=l.endIndex,y=Math.max(n,this.props.x),g=Bp(Bp({},Ie(this.props,!1)),{},{x:y,y:c,width:u,height:d}),b=p||"Min value: ".concat((o=m[v])===null||o===void 0?void 0:o.name,", Max value: ").concat((i=m[x])===null||i===void 0?void 0:i.name);return M.createElement(vt,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),s.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,a))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,g))}},{key:"renderSlide",value:function(n,a){var o=this.props,i=o.y,s=o.height,l=o.stroke,c=o.travellerWidth,u=Math.min(n,a)+c,d=Math.max(Math.abs(a-n)-c,0);return M.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:i,width:d,height:s})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,o=n.endIndex,i=n.y,s=n.height,l=n.travellerWidth,c=n.stroke,u=this.state,d=u.startX,h=u.endX,p=5,m={pointerEvents:"none",fill:c};return M.createElement(vt,{className:"recharts-brush-texts"},M.createElement(Wf,hd({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-p,y:i+s/2},m),this.getTextOfTick(a)),M.createElement(Wf,hd({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+l+p,y:i+s/2},m),this.getTextOfTick(o)))}},{key:"render",value:function(){var n=this.props,a=n.data,o=n.className,i=n.children,s=n.x,l=n.y,c=n.width,u=n.height,d=n.alwaysShowText,h=this.state,p=h.startX,m=h.endX,v=h.isTextActive,x=h.isSlideMoving,y=h.isTravellerMoving,g=h.isTravellerFocused;if(!a||!a.length||!oe(s)||!oe(l)||!oe(c)||!oe(u)||c<=0||u<=0)return null;var b=ut("recharts-brush",o),S=M.Children.count(i)===1,w=WV("userSelect","none");return M.createElement(vt,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(p,m),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(m,"endX"),(v||x||y||g||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,o=n.y,i=n.width,s=n.height,l=n.stroke,c=Math.floor(o+s/2)-1;return M.createElement(M.Fragment,null,M.createElement("rect",{x:a,y:o,width:i,height:s,fill:l,stroke:"none"}),M.createElement("line",{x1:a+1,y1:c,x2:a+i-1,y2:c,fill:"none",stroke:"#fff"}),M.createElement("line",{x1:a+1,y1:c+2,x2:a+i-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var o;return M.isValidElement(n)?o=M.cloneElement(n,a):We(n)?o=n(a):o=t.renderDefaultTraveller(a),o}},{key:"getDerivedStateFromProps",value:function(n,a){var o=n.data,i=n.width,s=n.x,l=n.travellerWidth,c=n.updateId,u=n.startIndex,d=n.endIndex;if(o!==a.prevData||c!==a.prevUpdateId)return Bp({prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:i},o&&o.length?qV({data:o,width:i,x:s,travellerWidth:l,startIndex:u,endIndex:d}):{scale:null,scaleValues:null});if(a.scale&&(i!==a.prevWidth||s!==a.prevX||l!==a.prevTravellerWidth)){a.scale.range([s,s+i-l]);var h=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:i,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var o=n.length,i=0,s=o-1;s-i>1;){var l=Math.floor((i+s)/2);n[l]>a?s=l:i=l}return a>=n[s]?s:i}}])}(O.PureComponent);On(Cs,"displayName","Brush");On(Cs,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var ZV=Ry;function QV(e,t){var r;return ZV(e,function(n,a,o){return r=t(n,a,o),!r}),!!r}var JV=QV,eK=$j,tK=Ro,rK=JV,nK=kn,aK=gh;function oK(e,t,r){var n=nK(e)?eK:rK;return r&&aK(e,t,r)&&(t=void 0),n(e,tK(t))}var iK=oK;const sK=$t(iK);var _a=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},Gw=rO;function lK(e,t,r){t=="__proto__"&&Gw?Gw(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var cK=lK,uK=cK,fK=eO,dK=Ro;function hK(e,t){var r={};return t=dK(t),fK(e,function(n,a,o){uK(r,a,t(n,a,o))}),r}var pK=hK;const gK=$t(pK);function mK(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var yK=mK,vK=Ry;function xK(e,t){var r=!0;return vK(e,function(n,a,o){return r=!!t(n,a,o),r}),r}var bK=xK,wK=yK,kK=bK,SK=Ro,jK=kn,OK=gh;function PK(e,t,r){var n=jK(e)?wK:kK;return r&&OK(e,t,r)&&(t=void 0),n(e,SK(t))}var _K=PK;const TP=$t(_K);var NK=["x","y"];function Gc(e){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gc(e)}function Zg(){return Zg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zg.apply(this,arguments)}function Hw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hw(Object(r),!0).forEach(function(n){AK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AK(e,t,r){return t=MK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MK(e){var t=CK(e,"string");return Gc(t)=="symbol"?t:t+""}function CK(e,t){if(Gc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EK(e,t){if(e==null)return{};var r=TK(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function TK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function $K(e,t){var r=e.x,n=e.y,a=EK(e,NK),o="".concat(r),i=parseInt(o,10),s="".concat(n),l=parseInt(s,10),c="".concat(t.height||a.height),u=parseInt(c,10),d="".concat(t.width||a.width),h=parseInt(d,10);return Nl(Nl(Nl(Nl(Nl({},t),a),i?{x:i}:{}),l?{y:l}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function Vw(e){return M.createElement(Yg,Zg({shapeType:"rectangle",propTransformer:$K,activeClassName:"recharts-active-bar"},e))}var DK=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var o=oe(n)||Y5(n);return o?t(n,a):(o||ki(),r)}},RK=["value","background"],$P;function Es(e){"@babel/helpers - typeof";return Es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Es(e)}function LK(e,t){if(e==null)return{};var r=IK(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function IK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function gd(){return gd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gd.apply(this,arguments)}function Kw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kw(Object(r),!0).forEach(function(n){xo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,RP(n.key),n)}}function FK(e,t,r){return t&&Xw(e.prototype,t),r&&Xw(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function zK(e,t,r){return t=md(t),WK(e,DP()?Reflect.construct(t,r||[],md(e).constructor):t.apply(e,r))}function WK(e,t){if(t&&(Es(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UK(e)}function UK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DP=function(){return!!e})()}function md(e){return md=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},md(e)}function GK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qg(e,t)}function Qg(e,t){return Qg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Qg(e,t)}function xo(e,t,r){return t=RP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RP(e){var t=HK(e,"string");return Es(t)=="symbol"?t:t+""}function HK(e,t){if(Es(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Es(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var iu=function(e){function t(){var r;BK(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=zK(this,t,[].concat(a)),xo(r,"state",{isAnimationFinished:!1}),xo(r,"id",Ni("recharts-bar-")),xo(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),i&&i()}),xo(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),i&&i()}),r}return GK(t,e),FK(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,o=this.props,i=o.shape,s=o.dataKey,l=o.activeIndex,c=o.activeBar,u=Ie(this.props,!1);return n&&n.map(function(d,h){var p=h===l,m=p?c:i,v=yr(yr(yr({},u),d),{},{isActive:p,option:m,index:h,dataKey:s,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return M.createElement(vt,gd({className:"recharts-bar-rectangle"},hc(a.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(h)}),M.createElement(Vw,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,o=a.data,i=a.layout,s=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,h=this.state.prevData;return M.createElement(ua,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var m=p.t,v=o.map(function(x,y){var g=h&&h[y];if(g){var b=hr(g.x,x.x),S=hr(g.y,x.y),w=hr(g.width,x.width),k=hr(g.height,x.height);return yr(yr({},x),{},{x:b(m),y:S(m),width:w(m),height:k(m)})}if(i==="horizontal"){var j=hr(0,x.height),P=j(m);return yr(yr({},x),{},{y:x.y+x.height-P,height:P})}var _=hr(0,x.width),A=_(m);return yr(yr({},x),{},{width:A})});return M.createElement(vt,null,n.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,o=n.isAnimationActive,i=this.state.prevData;return o&&a&&a.length&&(!i||!bi(i,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,o=a.data,i=a.dataKey,s=a.activeIndex,l=Ie(this.props.background,!1);return o.map(function(c,u){c.value;var d=c.background,h=LK(c,RK);if(!d)return null;var p=yr(yr(yr(yr(yr({},h),{},{fill:"#eee"},d),l),hc(n.props,c,u)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:i,index:u,className:"recharts-bar-background-rectangle"});return M.createElement(Vw,gd({key:"background-bar-".concat(u),option:n.props.background,isActive:u===s},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,i=o.data,s=o.xAxis,l=o.yAxis,c=o.layout,u=o.children,d=wn(u,sl);if(!d)return null;var h=c==="vertical"?i[0].height/2:i[0].width/2,p=function(x,y){var g=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:g,errorVal:Pr(x,y)}},m={clipPath:n?"url(#clipPath-".concat(a,")"):null};return M.createElement(vt,m,d.map(function(v){return M.cloneElement(v,{key:"error-bar-".concat(a,"-").concat(v.props.dataKey),data:i,xAxis:s,yAxis:l,layout:c,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,o=n.data,i=n.className,s=n.xAxis,l=n.yAxis,c=n.left,u=n.top,d=n.width,h=n.height,p=n.isAnimationActive,m=n.background,v=n.id;if(a||!o||!o.length)return null;var x=this.state.isAnimationFinished,y=ut("recharts-bar",i),g=s&&s.allowDataOverflow,b=l&&l.allowDataOverflow,S=g||b,w=Te(v)?this.id:v;return M.createElement(vt,{className:y},g||b?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(w)},M.createElement("rect",{x:g?c:c-d/2,y:b?u:u-h/2,width:g?d:d*2,height:b?h:h*2}))):null,M.createElement(vt,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(w,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,w),(!p||x)&&Pa.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(O.PureComponent);$P=iu;xo(iu,"displayName","Bar");xo(iu,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Lo.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});xo(iu,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,o=e.xAxis,i=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,u=e.dataStartIndex,d=e.displayedData,h=e.offset,p=vW(n,r);if(!p)return null;var m=t.layout,v=r.type.defaultProps,x=v!==void 0?yr(yr({},v),r.props):r.props,y=x.dataKey,g=x.children,b=x.minPointSize,S=m==="horizontal"?i:o,w=c?S.scale.domain():null,k=PW({numericAxis:S}),j=wn(g,By),P=d.map(function(_,A){var N,E,F,D,T,L;c?N=xW(c[u+A],w):(N=Pr(_,y),Array.isArray(N)||(N=[k,N]));var W=DK(b,$P.defaultProps.minPointSize)(N[1],A);if(m==="horizontal"){var I,R=[i.scale(N[0]),i.scale(N[1])],B=R[0],ee=R[1];E=q1({axis:o,ticks:s,bandSize:a,offset:p.offset,entry:_,index:A}),F=(I=ee??B)!==null&&I!==void 0?I:void 0,D=p.size;var X=B-ee;if(T=Number.isNaN(X)?0:X,L={x:E,y:i.y,width:D,height:i.height},Math.abs(W)>0&&Math.abs(T)<Math.abs(W)){var G=ia(T||W)*(Math.abs(W)-Math.abs(T));F-=G,T+=G}}else{var U=[o.scale(N[0]),o.scale(N[1])],ce=U[0],ue=U[1];if(E=ce,F=q1({axis:i,ticks:l,bandSize:a,offset:p.offset,entry:_,index:A}),D=ue-ce,T=p.size,L={x:o.x,y:F,width:o.width,height:T},Math.abs(W)>0&&Math.abs(D)<Math.abs(W)){var be=ia(D||W)*(Math.abs(W)-Math.abs(D));D+=be}}return yr(yr(yr({},_),{},{x:E,y:F,width:D,height:T,value:c?N:N[1],payload:_,background:L},j&&j[A]&&j[A].props),{},{tooltipPayload:[pP(r,_)],tooltipPosition:{x:E+D/2,y:F+T/2}})});return yr({data:P,layout:m},h)});function Hc(e){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hc(e)}function VK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,LP(n.key),n)}}function KK(e,t,r){return t&&Yw(e.prototype,t),r&&Yw(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function qw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ra(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qw(Object(r),!0).forEach(function(n){Nh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nh(e,t,r){return t=LP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LP(e){var t=XK(e,"string");return Hc(t)=="symbol"?t:t+""}function XK(e,t){if(Hc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dv=function(t,r,n,a,o){var i=t.width,s=t.height,l=t.layout,c=t.children,u=Object.keys(r),d={left:n.left,leftMirror:n.left,right:i-n.right,rightMirror:i-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},h=!!_n(c,iu);return u.reduce(function(p,m){var v=r[m],x=v.orientation,y=v.domain,g=v.padding,b=g===void 0?{}:g,S=v.mirror,w=v.reversed,k="".concat(x).concat(S?"Mirror":""),j,P,_,A,N;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var E=y[1]-y[0],F=1/0,D=v.categoricalDomain.sort(J5);if(D.forEach(function(U,ce){ce>0&&(F=Math.min((U||0)-(D[ce-1]||0),F))}),Number.isFinite(F)){var T=F/E,L=v.layout==="vertical"?n.height:n.width;if(v.padding==="gap"&&(j=T*L/2),v.padding==="no-gap"){var W=xi(t.barCategoryGap,T*L),I=T*L/2;j=I-W-(I-W)/L*W}}}a==="xAxis"?P=[n.left+(b.left||0)+(j||0),n.left+n.width-(b.right||0)-(j||0)]:a==="yAxis"?P=l==="horizontal"?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(j||0),n.top+n.height-(b.bottom||0)-(j||0)]:P=v.range,w&&(P=[P[1],P[0]]);var R=mW(v,o,h),B=R.scale,ee=R.realScaleType;B.domain(y).range(P),yW(B);var X=OW(B,ra(ra({},v),{},{realScaleType:ee}));a==="xAxis"?(N=x==="top"&&!S||x==="bottom"&&S,_=n.left,A=d[k]-N*v.height):a==="yAxis"&&(N=x==="left"&&!S||x==="right"&&S,_=d[k]-N*v.width,A=n.top);var G=ra(ra(ra({},v),X),{},{realScaleType:ee,x:_,y:A,scale:B,width:a==="xAxis"?n.width:v.width,height:a==="yAxis"?n.height:v.height});return G.bandSize=rd(G,X),!v.hide&&a==="xAxis"?d[k]+=(N?-1:1)*G.height:v.hide||(d[k]+=(N?-1:1)*G.width),ra(ra({},p),{},Nh({},m,G))},{})},IP=function(t,r){var n=t.x,a=t.y,o=r.x,i=r.y;return{x:Math.min(n,o),y:Math.min(a,i),width:Math.abs(o-n),height:Math.abs(i-a)}},YK=function(t){var r=t.x1,n=t.y1,a=t.x2,o=t.y2;return IP({x:r,y:n},{x:a,y:o})},BP=function(){function e(t){VK(this,e),this.scale=t}return KK(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,o=n.position;if(r!==void 0){if(o)switch(o){case"start":return this.scale(r);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(r)+s}default:return this.scale(r)}if(a){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],o=n[n.length-1];return a<=o?r>=a&&r<=o:r>=o&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();Nh(BP,"EPS",1e-4);var hv=function(t){var r=Object.keys(t).reduce(function(n,a){return ra(ra({},n),{},Nh({},a,BP.create(t[a])))},{});return ra(ra({},r),{},{apply:function(a){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=o.bandAware,s=o.position;return gK(a,function(l,c){return r[c].apply(l,{bandAware:i,position:s})})},isInRange:function(a){return TP(a,function(o,i){return r[i].isInRange(o)})}})};function qK(e){return(e%180+180)%180}var ZK=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=qK(a),i=o*Math.PI/180,s=Math.atan(n/r),l=i>s&&i<Math.PI-s?n/Math.sin(i):r/Math.cos(i);return Math.abs(l)},QK=Ro,JK=tu,eX=hh;function tX(e){return function(t,r,n){var a=Object(t);if(!JK(t)){var o=QK(r);t=eX(t),r=function(s){return o(a[s],s,a)}}var i=e(t,r,n);return i>-1?a[o?t[i]:i]:void 0}}var rX=tX,nX=AP;function aX(e){var t=nX(e),r=t%1;return t===t?r?t-r:t:0}var oX=aX,iX=Xj,sX=Ro,lX=oX,cX=Math.max;function uX(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:lX(r);return a<0&&(a=cX(n+a,0)),iX(e,sX(t),a)}var fX=uX,dX=rX,hX=fX,pX=dX(hX),gX=pX;const mX=$t(gX);var yX=t5(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),pv=O.createContext(void 0),gv=O.createContext(void 0),FP=O.createContext(void 0),zP=O.createContext({}),WP=O.createContext(void 0),UP=O.createContext(0),GP=O.createContext(0),Zw=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,o=r.offset,i=t.clipPathId,s=t.children,l=t.width,c=t.height,u=yX(o);return M.createElement(pv.Provider,{value:n},M.createElement(gv.Provider,{value:a},M.createElement(zP.Provider,{value:o},M.createElement(FP.Provider,{value:u},M.createElement(WP.Provider,{value:i},M.createElement(UP.Provider,{value:c},M.createElement(GP.Provider,{value:l},s)))))))},vX=function(){return O.useContext(WP)},HP=function(t){var r=O.useContext(pv);r==null&&ki();var n=r[t];return n==null&&ki(),n},xX=function(){var t=O.useContext(pv);return go(t)},bX=function(){var t=O.useContext(gv),r=mX(t,function(n){return TP(n.domain,Number.isFinite)});return r||go(t)},VP=function(t){var r=O.useContext(gv);r==null&&ki();var n=r[t];return n==null&&ki(),n},wX=function(){var t=O.useContext(FP);return t},kX=function(){return O.useContext(zP)},mv=function(){return O.useContext(GP)},yv=function(){return O.useContext(UP)};function Ts(e){"@babel/helpers - typeof";return Ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ts(e)}function SX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,XP(n.key),n)}}function OX(e,t,r){return t&&jX(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function PX(e,t,r){return t=yd(t),_X(e,KP()?Reflect.construct(t,r||[],yd(e).constructor):t.apply(e,r))}function _X(e,t){if(t&&(Ts(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NX(e)}function NX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KP=function(){return!!e})()}function yd(e){return yd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yd(e)}function AX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jg(e,t)}function Jg(e,t){return Jg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Jg(e,t)}function Qw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qw(Object(r),!0).forEach(function(n){vv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vv(e,t,r){return t=XP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XP(e){var t=MX(e,"string");return Ts(t)=="symbol"?t:t+""}function MX(e,t){if(Ts(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ts(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function CX(e,t){return DX(e)||$X(e,t)||TX(e,t)||EX()}function EX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TX(e,t){if(e){if(typeof e=="string")return e2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e2(e,t)}}function e2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $X(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function DX(e){if(Array.isArray(e))return e}function em(){return em=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},em.apply(this,arguments)}var RX=function(t,r){var n;return M.isValidElement(t)?n=M.cloneElement(t,r):We(t)?n=t(r):n=M.createElement("line",em({},r,{className:"recharts-reference-line-line"})),n},LX=function(t,r,n,a,o,i,s,l,c){var u=o.x,d=o.y,h=o.width,p=o.height;if(n){var m=c.y,v=t.y.apply(m,{position:i});if(_a(c,"discard")&&!t.y.isInRange(v))return null;var x=[{x:u+h,y:v},{x:u,y:v}];return l==="left"?x.reverse():x}if(r){var y=c.x,g=t.x.apply(y,{position:i});if(_a(c,"discard")&&!t.x.isInRange(g))return null;var b=[{x:g,y:d+p},{x:g,y:d}];return s==="top"?b.reverse():b}if(a){var S=c.segment,w=S.map(function(k){return t.apply(k,{position:i})});return _a(c,"discard")&&sK(w,function(k){return!t.isInRange(k)})?null:w}return null};function IX(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,o=e.yAxisId,i=e.shape,s=e.className,l=e.alwaysShow,c=vX(),u=HP(a),d=VP(o),h=wX();if(!c||!h)return null;Ha(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=hv({x:u.scale,y:d.scale}),m=Or(t),v=Or(r),x=n&&n.length===2,y=LX(p,m,v,x,h,e.position,u.orientation,d.orientation,e);if(!y)return null;var g=CX(y,2),b=g[0],S=b.x,w=b.y,k=g[1],j=k.x,P=k.y,_=_a(e,"hidden")?"url(#".concat(c,")"):void 0,A=Jw(Jw({clipPath:_},Ie(e,!0)),{},{x1:S,y1:w,x2:j,y2:P});return M.createElement(vt,{className:ut("recharts-reference-line",s)},RX(i,A),Kr.renderCallByParent(e,YK({x1:S,y1:w,x2:j,y2:P})))}var oi=function(e){function t(){return SX(this,t),PX(this,t,arguments)}return AX(t,e),OX(t,[{key:"render",value:function(){return M.createElement(IX,this.props)}}])}(M.Component);vv(oi,"displayName","ReferenceLine");vv(oi,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function tm(){return tm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tm.apply(this,arguments)}function $s(e){"@babel/helpers - typeof";return $s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$s(e)}function t2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function r2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t2(Object(r),!0).forEach(function(n){Ah(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qP(n.key),n)}}function zX(e,t,r){return t&&FX(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function WX(e,t,r){return t=vd(t),UX(e,YP()?Reflect.construct(t,r||[],vd(e).constructor):t.apply(e,r))}function UX(e,t){if(t&&($s(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GX(e)}function GX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YP=function(){return!!e})()}function vd(e){return vd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vd(e)}function HX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rm(e,t)}function rm(e,t){return rm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},rm(e,t)}function Ah(e,t,r){return t=qP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qP(e){var t=VX(e,"string");return $s(t)=="symbol"?t:t+""}function VX(e,t){if($s(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($s(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var KX=function(t){var r=t.x,n=t.y,a=t.xAxis,o=t.yAxis,i=hv({x:a.scale,y:o.scale}),s=i.apply({x:r,y:n},{bandAware:!0});return _a(t,"discard")&&!i.isInRange(s)?null:s},Mh=function(e){function t(){return BX(this,t),WX(this,t,arguments)}return HX(t,e),zX(t,[{key:"render",value:function(){var n=this.props,a=n.x,o=n.y,i=n.r,s=n.alwaysShow,l=n.clipPathId,c=Or(a),u=Or(o);if(Ha(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var d=KX(this.props);if(!d)return null;var h=d.x,p=d.y,m=this.props,v=m.shape,x=m.className,y=_a(this.props,"hidden")?"url(#".concat(l,")"):void 0,g=r2(r2({clipPath:y},Ie(this.props,!0)),{},{cx:h,cy:p});return M.createElement(vt,{className:ut("recharts-reference-dot",x)},t.renderDot(v,g),Kr.renderCallByParent(this.props,{x:h-i,y:p-i,width:2*i,height:2*i}))}}])}(M.Component);Ah(Mh,"displayName","ReferenceDot");Ah(Mh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Ah(Mh,"renderDot",function(e,t){var r;return M.isValidElement(e)?r=M.cloneElement(e,t):We(e)?r=e(t):r=M.createElement(Oh,tm({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function nm(){return nm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nm.apply(this,arguments)}function Ds(e){"@babel/helpers - typeof";return Ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ds(e)}function n2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function a2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n2(Object(r),!0).forEach(function(n){Ch(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,QP(n.key),n)}}function qX(e,t,r){return t&&YX(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZX(e,t,r){return t=xd(t),QX(e,ZP()?Reflect.construct(t,r||[],xd(e).constructor):t.apply(e,r))}function QX(e,t){if(t&&(Ds(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JX(e)}function JX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZP=function(){return!!e})()}function xd(e){return xd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xd(e)}function eY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&am(e,t)}function am(e,t){return am=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},am(e,t)}function Ch(e,t,r){return t=QP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QP(e){var t=tY(e,"string");return Ds(t)=="symbol"?t:t+""}function tY(e,t){if(Ds(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ds(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var rY=function(t,r,n,a,o){var i=o.x1,s=o.x2,l=o.y1,c=o.y2,u=o.xAxis,d=o.yAxis;if(!u||!d)return null;var h=hv({x:u.scale,y:d.scale}),p={x:t?h.x.apply(i,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},m={x:r?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(c,{position:"end"}):h.y.rangeMax};return _a(o,"discard")&&(!h.isInRange(p)||!h.isInRange(m))?null:IP(p,m)},su=function(e){function t(){return XX(this,t),ZX(this,t,arguments)}return eY(t,e),qX(t,[{key:"render",value:function(){var n=this.props,a=n.x1,o=n.x2,i=n.y1,s=n.y2,l=n.className,c=n.alwaysShow,u=n.clipPathId;Ha(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=Or(a),h=Or(o),p=Or(i),m=Or(s),v=this.props.shape;if(!d&&!h&&!p&&!m&&!v)return null;var x=rY(d,h,p,m,this.props);if(!x&&!v)return null;var y=_a(this.props,"hidden")?"url(#".concat(u,")"):void 0;return M.createElement(vt,{className:ut("recharts-reference-area",l)},t.renderRect(v,a2(a2({clipPath:y},Ie(this.props,!0)),x)),Kr.renderCallByParent(this.props,x))}}])}(M.Component);Ch(su,"displayName","ReferenceArea");Ch(su,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Ch(su,"renderRect",function(e,t){var r;return M.isValidElement(e)?r=M.cloneElement(e,t):We(e)?r=e(t):r=M.createElement(fv,nm({},t,{className:"recharts-reference-area-rect"})),r});function JP(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function nY(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return ZK(n,r)}function aY(e,t,r){var n=r==="width",a=e.x,o=e.y,i=e.width,s=e.height;return t===1?{start:n?a:o,end:n?a+i:o+s}:{start:n?a+i:o+s,end:n?a:o}}function bd(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var o=r();return e*(t-e*o/2-n)>=0&&e*(t+e*o/2-a)<=0}function oY(e,t){return JP(e,t+1)}function iY(e,t,r,n,a){for(var o=(n||[]).slice(),i=t.start,s=t.end,l=0,c=1,u=i,d=function(){var m=n==null?void 0:n[l];if(m===void 0)return{v:JP(n,c)};var v=l,x,y=function(){return x===void 0&&(x=r(m,v)),x},g=m.coordinate,b=l===0||bd(e,g,y,u,s);b||(l=0,u=i,c+=1),b&&(u=g+e*(y()/2+a),l+=c)},h;c<=o.length;)if(h=d(),h)return h.v;return[]}function Vc(e){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vc(e)}function o2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o2(Object(r),!0).forEach(function(n){sY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sY(e,t,r){return t=lY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lY(e){var t=cY(e,"string");return Vc(t)=="symbol"?t:t+""}function cY(e,t){if(Vc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uY(e,t,r,n,a){for(var o=(n||[]).slice(),i=o.length,s=t.start,l=t.end,c=function(h){var p=o[h],m,v=function(){return m===void 0&&(m=r(p,h)),m};if(h===i-1){var x=e*(p.coordinate+e*v()/2-l);o[h]=p=Hr(Hr({},p),{},{tickCoord:x>0?p.coordinate-x*e:p.coordinate})}else o[h]=p=Hr(Hr({},p),{},{tickCoord:p.coordinate});var y=bd(e,p.tickCoord,v,s,l);y&&(l=p.tickCoord-e*(v()/2+a),o[h]=Hr(Hr({},p),{},{isShow:!0}))},u=i-1;u>=0;u--)c(u);return o}function fY(e,t,r,n,a,o){var i=(n||[]).slice(),s=i.length,l=t.start,c=t.end;if(o){var u=n[s-1],d=r(u,s-1),h=e*(u.coordinate+e*d/2-c);i[s-1]=u=Hr(Hr({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate});var p=bd(e,u.tickCoord,function(){return d},l,c);p&&(c=u.tickCoord-e*(d/2+a),i[s-1]=Hr(Hr({},u),{},{isShow:!0}))}for(var m=o?s-1:s,v=function(g){var b=i[g],S,w=function(){return S===void 0&&(S=r(b,g)),S};if(g===0){var k=e*(b.coordinate-e*w()/2-l);i[g]=b=Hr(Hr({},b),{},{tickCoord:k<0?b.coordinate-k*e:b.coordinate})}else i[g]=b=Hr(Hr({},b),{},{tickCoord:b.coordinate});var j=bd(e,b.tickCoord,w,l,c);j&&(l=b.tickCoord+e*(w()/2+a),i[g]=Hr(Hr({},b),{},{isShow:!0}))},x=0;x<m;x++)v(x);return i}function xv(e,t,r){var n=e.tick,a=e.ticks,o=e.viewBox,i=e.minTickGap,s=e.orientation,l=e.interval,c=e.tickFormatter,u=e.unit,d=e.angle;if(!a||!a.length||!n)return[];if(oe(l)||Lo.isSsr)return oY(a,typeof l=="number"&&oe(l)?l:0);var h=[],p=s==="top"||s==="bottom"?"width":"height",m=u&&p==="width"?Ul(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},v=function(b,S){var w=We(c)?c(b.value,S):b.value;return p==="width"?nY(Ul(w,{fontSize:t,letterSpacing:r}),m,d):Ul(w,{fontSize:t,letterSpacing:r})[p]},x=a.length>=2?ia(a[1].coordinate-a[0].coordinate):1,y=aY(o,x,p);return l==="equidistantPreserveStart"?iY(x,y,v,a,i):(l==="preserveStart"||l==="preserveStartEnd"?h=fY(x,y,v,a,i,l==="preserveStartEnd"):h=uY(x,y,v,a,i),h.filter(function(g){return g.isShow}))}var dY=["viewBox"],hY=["viewBox"],pY=["ticks"];function Rs(e){"@babel/helpers - typeof";return Rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rs(e)}function es(){return es=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},es.apply(this,arguments)}function i2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i2(Object(r),!0).forEach(function(n){bv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fp(e,t){if(e==null)return{};var r=gY(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function mY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,t_(n.key),n)}}function yY(e,t,r){return t&&s2(e.prototype,t),r&&s2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function vY(e,t,r){return t=wd(t),xY(e,e_()?Reflect.construct(t,r||[],wd(e).constructor):t.apply(e,r))}function xY(e,t){if(t&&(Rs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bY(e)}function bY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function e_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e_=function(){return!!e})()}function wd(e){return wd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wd(e)}function wY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&om(e,t)}function om(e,t){return om=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},om(e,t)}function bv(e,t,r){return t=t_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t_(e){var t=kY(e,"string");return Rs(t)=="symbol"?t:t+""}function kY(e,t){if(Rs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ll=function(e){function t(r){var n;return mY(this,t),n=vY(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return wY(t,e),yY(t,[{key:"shouldComponentUpdate",value:function(n,a){var o=n.viewBox,i=Fp(n,dY),s=this.props,l=s.viewBox,c=Fp(s,hY);return!ls(o,l)||!ls(i,c)||!ls(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,o=a.x,i=a.y,s=a.width,l=a.height,c=a.orientation,u=a.tickSize,d=a.mirror,h=a.tickMargin,p,m,v,x,y,g,b=d?-1:1,S=n.tickSize||u,w=oe(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":p=m=n.coordinate,x=i+ +!d*l,v=x-b*S,g=v-b*h,y=w;break;case"left":v=x=n.coordinate,m=o+ +!d*s,p=m-b*S,y=p-b*h,g=w;break;case"right":v=x=n.coordinate,m=o+ +d*s,p=m+b*S,y=p+b*h,g=w;break;default:p=m=n.coordinate,x=i+ +d*l,v=x+b*S,g=v+b*h,y=w;break}return{line:{x1:p,y1:v,x2:m,y2:x},tick:{x:y,y:g}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,o=n.mirror,i;switch(a){case"left":i=o?"start":"end";break;case"right":i=o?"end":"start";break;default:i="middle";break}return i}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,o=n.mirror,i="end";switch(a){case"left":case"right":i="middle";break;case"top":i=o?"start":"end";break;default:i=o?"end":"start";break}return i}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,o=n.y,i=n.width,s=n.height,l=n.orientation,c=n.mirror,u=n.axisLine,d=wr(wr(wr({},Ie(this.props,!1)),Ie(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);d=wr(wr({},d),{},{x1:a,y1:o+h*s,x2:a+i,y2:o+h*s})}else{var p=+(l==="left"&&!c||l==="right"&&c);d=wr(wr({},d),{},{x1:a+p*i,y1:o,x2:a+p*i,y2:o+s})}return M.createElement("line",es({},d,{className:ut("recharts-cartesian-axis-line",Vn(u,"className"))}))}},{key:"renderTicks",value:function(n,a,o){var i=this,s=this.props,l=s.tickLine,c=s.stroke,u=s.tick,d=s.tickFormatter,h=s.unit,p=xv(wr(wr({},this.props),{},{ticks:n}),a,o),m=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),x=Ie(this.props,!1),y=Ie(u,!1),g=wr(wr({},x),{},{fill:"none"},Ie(l,!1)),b=p.map(function(S,w){var k=i.getTickLineCoord(S),j=k.line,P=k.tick,_=wr(wr(wr(wr({textAnchor:m,verticalAnchor:v},x),{},{stroke:"none",fill:c},y),P),{},{index:w,payload:S,visibleTicksCount:p.length,tickFormatter:d});return M.createElement(vt,es({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},hc(i.props,S,w)),l&&M.createElement("line",es({},g,j,{className:ut("recharts-cartesian-axis-tick-line",Vn(l,"className"))})),u&&t.renderTickItem(u,_,"".concat(We(d)?d(S.value,w):S.value).concat(h||"")))});return M.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var n=this,a=this.props,o=a.axisLine,i=a.width,s=a.height,l=a.ticksGenerator,c=a.className,u=a.hide;if(u)return null;var d=this.props,h=d.ticks,p=Fp(d,pY),m=h;return We(l)&&(m=h&&h.length>0?l(this.props):l(p)),i<=0||s<=0||!m||!m.length?null:M.createElement(vt,{className:ut("recharts-cartesian-axis",c),ref:function(x){n.layerReference=x}},o&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),Kr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,o){var i,s=ut(a.className,"recharts-cartesian-axis-tick-value");return M.isValidElement(n)?i=M.cloneElement(n,wr(wr({},a),{},{className:s})):We(n)?i=n(wr(wr({},a),{},{className:s})):i=M.createElement(Wf,es({},a,{className:"recharts-cartesian-axis-tick-value"}),o),i}}])}(O.Component);bv(ll,"displayName","CartesianAxis");bv(ll,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var SY=["x1","y1","x2","y2","key"],jY=["offset"];function Si(e){"@babel/helpers - typeof";return Si=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Si(e)}function l2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l2(Object(r),!0).forEach(function(n){OY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OY(e,t,r){return t=PY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PY(e){var t=_Y(e,"string");return Si(t)=="symbol"?t:t+""}function _Y(e,t){if(Si(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Si(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ii(){return ii=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ii.apply(this,arguments)}function c2(e,t){if(e==null)return{};var r=NY(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function NY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var AY=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,o=t.y,i=t.width,s=t.height,l=t.ry;return M.createElement("rect",{x:a,y:o,ry:l,width:i,height:s,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function r_(e,t){var r;if(M.isValidElement(e))r=M.cloneElement(e,t);else if(We(e))r=e(t);else{var n=t.x1,a=t.y1,o=t.x2,i=t.y2,s=t.key,l=c2(t,SY),c=Ie(l,!1);c.offset;var u=c2(c,jY);r=M.createElement("line",ii({},u,{x1:n,y1:a,x2:o,y2:i,fill:"none",key:s}))}return r}function MY(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,o=e.horizontalPoints;if(!a||!o||!o.length)return null;var i=o.map(function(s,l){var c=Xr(Xr({},e),{},{x1:t,y1:s,x2:t+r,y2:s,key:"line-".concat(l),index:l});return r_(a,c)});return M.createElement("g",{className:"recharts-cartesian-grid-horizontal"},i)}function CY(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,o=e.verticalPoints;if(!a||!o||!o.length)return null;var i=o.map(function(s,l){var c=Xr(Xr({},e),{},{x1:s,y1:t,x2:s,y2:t+r,key:"line-".concat(l),index:l});return r_(a,c)});return M.createElement("g",{className:"recharts-cartesian-grid-vertical"},i)}function EY(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,o=e.width,i=e.height,s=e.horizontalPoints,l=e.horizontal,c=l===void 0?!0:l;if(!c||!t||!t.length)return null;var u=s.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==u[0]&&u.unshift(0);var d=u.map(function(h,p){var m=!u[p+1],v=m?a+i-h:u[p+1]-h;if(v<=0)return null;var x=p%t.length;return M.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:v,width:o,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function TY(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,o=e.x,i=e.y,s=e.width,l=e.height,c=e.verticalPoints;if(!r||!n||!n.length)return null;var u=c.map(function(h){return Math.round(h+o-o)}).sort(function(h,p){return h-p});o!==u[0]&&u.unshift(0);var d=u.map(function(h,p){var m=!u[p+1],v=m?o+s-h:u[p+1]-h;if(v<=0)return null;var x=p%n.length;return M.createElement("rect",{key:"react-".concat(p),x:h,y:i,width:v,height:l,stroke:"none",fill:n[x],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var $Y=function(t,r){var n=t.xAxis,a=t.width,o=t.height,i=t.offset;return dP(xv(Xr(Xr(Xr({},ll.defaultProps),n),{},{ticks:Wa(n,!0),viewBox:{x:0,y:0,width:a,height:o}})),i.left,i.left+i.width,r)},DY=function(t,r){var n=t.yAxis,a=t.width,o=t.height,i=t.offset;return dP(xv(Xr(Xr(Xr({},ll.defaultProps),n),{},{ticks:Wa(n,!0),viewBox:{x:0,y:0,width:a,height:o}})),i.top,i.top+i.height,r)},Ii={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function ji(e){var t,r,n,a,o,i,s=mv(),l=yv(),c=kX(),u=Xr(Xr({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Ii.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Ii.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Ii.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Ii.horizontalFill,vertical:(o=e.vertical)!==null&&o!==void 0?o:Ii.vertical,verticalFill:(i=e.verticalFill)!==null&&i!==void 0?i:Ii.verticalFill,x:oe(e.x)?e.x:c.left,y:oe(e.y)?e.y:c.top,width:oe(e.width)?e.width:c.width,height:oe(e.height)?e.height:c.height}),d=u.x,h=u.y,p=u.width,m=u.height,v=u.syncWithTicks,x=u.horizontalValues,y=u.verticalValues,g=xX(),b=bX();if(!oe(p)||p<=0||!oe(m)||m<=0||!oe(d)||d!==+d||!oe(h)||h!==+h)return null;var S=u.verticalCoordinatesGenerator||$Y,w=u.horizontalCoordinatesGenerator||DY,k=u.horizontalPoints,j=u.verticalPoints;if((!k||!k.length)&&We(w)){var P=x&&x.length,_=w({yAxis:b?Xr(Xr({},b),{},{ticks:P?x:b.ticks}):void 0,width:s,height:l,offset:c},P?!0:v);Ha(Array.isArray(_),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Si(_),"]")),Array.isArray(_)&&(k=_)}if((!j||!j.length)&&We(S)){var A=y&&y.length,N=S({xAxis:g?Xr(Xr({},g),{},{ticks:A?y:g.ticks}):void 0,width:s,height:l,offset:c},A?!0:v);Ha(Array.isArray(N),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Si(N),"]")),Array.isArray(N)&&(j=N)}return M.createElement("g",{className:"recharts-cartesian-grid"},M.createElement(AY,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),M.createElement(MY,ii({},u,{offset:c,horizontalPoints:k,xAxis:g,yAxis:b})),M.createElement(CY,ii({},u,{offset:c,verticalPoints:j,xAxis:g,yAxis:b})),M.createElement(EY,ii({},u,{horizontalPoints:k})),M.createElement(TY,ii({},u,{verticalPoints:j})))}ji.displayName="CartesianGrid";var RY=["type","layout","connectNulls","ref"],LY=["key"];function Ls(e){"@babel/helpers - typeof";return Ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ls(e)}function u2(e,t){if(e==null)return{};var r=IY(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function IY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Kl(){return Kl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kl.apply(this,arguments)}function f2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f2(Object(r),!0).forEach(function(n){na(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bi(e){return WY(e)||zY(e)||FY(e)||BY()}function BY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FY(e,t){if(e){if(typeof e=="string")return im(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return im(e,t)}}function zY(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function WY(e){if(Array.isArray(e))return im(e)}function im(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function UY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a_(n.key),n)}}function GY(e,t,r){return t&&d2(e.prototype,t),r&&d2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function HY(e,t,r){return t=kd(t),VY(e,n_()?Reflect.construct(t,r||[],kd(e).constructor):t.apply(e,r))}function VY(e,t){if(t&&(Ls(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KY(e)}function KY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function n_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(n_=function(){return!!e})()}function kd(e){return kd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kd(e)}function XY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sm(e,t)}function sm(e,t){return sm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},sm(e,t)}function na(e,t,r){return t=a_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a_(e){var t=YY(e,"string");return Ls(t)=="symbol"?t:t+""}function YY(e,t){if(Ls(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ls(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Yr=function(e){function t(){var r;UY(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=HY(this,t,[].concat(a)),na(r,"state",{isAnimationFinished:!0,totalLength:0}),na(r,"generateSimpleStrokeDasharray",function(i,s){return"".concat(s,"px ").concat(i-s,"px")}),na(r,"getStrokeDasharray",function(i,s,l){var c=l.reduce(function(y,g){return y+g});if(!c)return r.generateSimpleStrokeDasharray(s,i);for(var u=Math.floor(i/c),d=i%c,h=s-i,p=[],m=0,v=0;m<l.length;v+=l[m],++m)if(v+l[m]>d){p=[].concat(Bi(l.slice(0,m)),[d-v]);break}var x=p.length%2===0?[0,h]:[h];return[].concat(Bi(t.repeat(l,u)),Bi(p),x).map(function(y){return"".concat(y,"px")}).join(", ")}),na(r,"id",Ni("recharts-line-")),na(r,"pathRef",function(i){r.mainCurve=i}),na(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),na(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return XY(t,e),GY(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,i=o.points,s=o.xAxis,l=o.yAxis,c=o.layout,u=o.children,d=wn(u,sl);if(!d)return null;var h=function(v,x){return{x:v.x,y:v.y,value:v.value,errorVal:Pr(v.payload,x)}},p={clipPath:n?"url(#clipPath-".concat(a,")"):null};return M.createElement(vt,p,d.map(function(m){return M.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:i,xAxis:s,yAxis:l,layout:c,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,o){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,c=s.points,u=s.dataKey,d=Ie(this.props,!1),h=Ie(l,!0),p=c.map(function(v,x){var y=jn(jn(jn({key:"dot-".concat(x),r:3},d),h),{},{index:x,cx:v.x,cy:v.y,value:v.value,dataKey:u,payload:v.payload,points:c});return t.renderDotItem(l,y)}),m={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(o,")"):null};return M.createElement(vt,Kl({className:"recharts-line-dots",key:"dots"},m),p)}},{key:"renderCurveStatically",value:function(n,a,o,i){var s=this.props,l=s.type,c=s.layout,u=s.connectNulls;s.ref;var d=u2(s,RY),h=jn(jn(jn({},Ie(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(o,")"):null,points:n},i),{},{type:l,layout:c,connectNulls:u});return M.createElement(di,Kl({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var o=this,i=this.props,s=i.points,l=i.strokeDasharray,c=i.isAnimationActive,u=i.animationBegin,d=i.animationDuration,h=i.animationEasing,p=i.animationId,m=i.animateNewValues,v=i.width,x=i.height,y=this.state,g=y.prevPoints,b=y.totalLength;return M.createElement(ua,{begin:u,duration:d,isActive:c,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var w=S.t;if(g){var k=g.length/s.length,j=s.map(function(E,F){var D=Math.floor(F*k);if(g[D]){var T=g[D],L=hr(T.x,E.x),W=hr(T.y,E.y);return jn(jn({},E),{},{x:L(w),y:W(w)})}if(m){var I=hr(v*2,E.x),R=hr(x/2,E.y);return jn(jn({},E),{},{x:I(w),y:R(w)})}return jn(jn({},E),{},{x:E.x,y:E.y})});return o.renderCurveStatically(j,n,a)}var P=hr(0,b),_=P(w),A;if(l){var N="".concat(l).split(/[,\s]+/gim).map(function(E){return parseFloat(E)});A=o.getStrokeDasharray(_,b,N)}else A=o.generateSimpleStrokeDasharray(b,_);return o.renderCurveStatically(s,n,a,{strokeDasharray:A})})}},{key:"renderCurve",value:function(n,a){var o=this.props,i=o.points,s=o.isAnimationActive,l=this.state,c=l.prevPoints,u=l.totalLength;return s&&i&&i.length&&(!c&&u>0||!bi(c,i))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(i,n,a)}},{key:"render",value:function(){var n,a=this.props,o=a.hide,i=a.dot,s=a.points,l=a.className,c=a.xAxis,u=a.yAxis,d=a.top,h=a.left,p=a.width,m=a.height,v=a.isAnimationActive,x=a.id;if(o||!s||!s.length)return null;var y=this.state.isAnimationFinished,g=s.length===1,b=ut("recharts-line",l),S=c&&c.allowDataOverflow,w=u&&u.allowDataOverflow,k=S||w,j=Te(x)?this.id:x,P=(n=Ie(i,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},_=P.r,A=_===void 0?3:_,N=P.strokeWidth,E=N===void 0?2:N,F=oj(i)?i:{},D=F.clipDot,T=D===void 0?!0:D,L=A*2+E;return M.createElement(vt,{className:b},S||w?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(j)},M.createElement("rect",{x:S?h:h-p/2,y:w?d:d-m/2,width:S?p:p*2,height:w?m:m*2})),!T&&M.createElement("clipPath",{id:"clipPath-dots-".concat(j)},M.createElement("rect",{x:h-L/2,y:d-L/2,width:p+L,height:m+L}))):null,!g&&this.renderCurve(k,j),this.renderErrorBar(k,j),(g||i)&&this.renderDots(k,T,j),(!v||y)&&Pa.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var o=n.length%2!==0?[].concat(Bi(n),[0]):n,i=[],s=0;s<a;++s)i=[].concat(Bi(i),Bi(o));return i}},{key:"renderDotItem",value:function(n,a){var o;if(M.isValidElement(n))o=M.cloneElement(n,a);else if(We(n))o=n(a);else{var i=a.key,s=u2(a,LY),l=ut("recharts-line-dot",typeof n!="boolean"?n.className:"");o=M.createElement(Oh,Kl({key:i},s,{className:l}))}return o}}])}(O.PureComponent);na(Yr,"displayName","Line");na(Yr,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Lo.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});na(Yr,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,o=e.yAxisTicks,i=e.dataKey,s=e.bandSize,l=e.displayedData,c=e.offset,u=t.layout,d=l.map(function(h,p){var m=Pr(h,i);return u==="horizontal"?{x:Ns({axis:r,ticks:a,bandSize:s,entry:h,index:p}),y:Te(m)?null:n.scale(m),value:m,payload:h}:{x:Te(m)?null:r.scale(m),y:Ns({axis:n,ticks:o,bandSize:s,entry:h,index:p}),value:m,payload:h}});return jn({points:d,layout:u},c)});var qY=["layout","type","stroke","connectNulls","isRange","ref"],ZY=["key"],o_;function Is(e){"@babel/helpers - typeof";return Is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Is(e)}function i_(e,t){if(e==null)return{};var r=QY(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function QY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function si(){return si=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},si.apply(this,arguments)}function h2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h2(Object(r),!0).forEach(function(n){ka(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l_(n.key),n)}}function eq(e,t,r){return t&&p2(e.prototype,t),r&&p2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function tq(e,t,r){return t=Sd(t),rq(e,s_()?Reflect.construct(t,r||[],Sd(e).constructor):t.apply(e,r))}function rq(e,t){if(t&&(Is(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nq(e)}function nq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s_=function(){return!!e})()}function Sd(e){return Sd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sd(e)}function aq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lm(e,t)}function lm(e,t){return lm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},lm(e,t)}function ka(e,t,r){return t=l_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l_(e){var t=oq(e,"string");return Is(t)=="symbol"?t:t+""}function oq(e,t){if(Is(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Is(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Gn=function(e){function t(){var r;JY(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=tq(this,t,[].concat(a)),ka(r,"state",{isAnimationFinished:!0}),ka(r,"id",Ni("recharts-area-")),ka(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),We(i)&&i()}),ka(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),We(i)&&i()}),r}return aq(t,e),eq(t,[{key:"renderDots",value:function(n,a,o){var i=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(i&&!s)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,h=Ie(this.props,!1),p=Ie(c,!0),m=u.map(function(x,y){var g=lo(lo(lo({key:"dot-".concat(y),r:3},h),p),{},{index:y,cx:x.x,cy:x.y,dataKey:d,value:x.value,payload:x.payload,points:u});return t.renderDotItem(c,g)}),v={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(o,")"):null};return M.createElement(vt,si({className:"recharts-area-dots"},v),m)}},{key:"renderHorizontalRect",value:function(n){var a=this.props,o=a.baseLine,i=a.points,s=a.strokeWidth,l=i[0].x,c=i[i.length-1].x,u=n*Math.abs(l-c),d=vo(i.map(function(h){return h.y||0}));return oe(o)&&typeof o=="number"?d=Math.max(o,d):o&&Array.isArray(o)&&o.length&&(d=Math.max(vo(o.map(function(h){return h.y||0})),d)),oe(d)?M.createElement("rect",{x:l<c?l:l-u,y:0,width:u,height:Math.floor(d+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,o=a.baseLine,i=a.points,s=a.strokeWidth,l=i[0].y,c=i[i.length-1].y,u=n*Math.abs(l-c),d=vo(i.map(function(h){return h.x||0}));return oe(o)&&typeof o=="number"?d=Math.max(o,d):o&&Array.isArray(o)&&o.length&&(d=Math.max(vo(o.map(function(h){return h.x||0})),d)),oe(d)?M.createElement("rect",{x:0,y:l<c?l:l-u,width:d+(s?parseInt("".concat(s),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,o,i){var s=this.props,l=s.layout,c=s.type,u=s.stroke,d=s.connectNulls,h=s.isRange;s.ref;var p=i_(s,qY);return M.createElement(vt,{clipPath:o?"url(#clipPath-".concat(i,")"):null},M.createElement(di,si({},Ie(p,!0),{points:n,connectNulls:d,type:c,baseLine:a,layout:l,stroke:"none",className:"recharts-area-area"})),u!=="none"&&M.createElement(di,si({},Ie(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:n})),u!=="none"&&h&&M.createElement(di,si({},Ie(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(n,a){var o=this,i=this.props,s=i.points,l=i.baseLine,c=i.isAnimationActive,u=i.animationBegin,d=i.animationDuration,h=i.animationEasing,p=i.animationId,m=this.state,v=m.prevPoints,x=m.prevBaseLine;return M.createElement(ua,{begin:u,duration:d,isActive:c,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var g=y.t;if(v){var b=v.length/s.length,S=s.map(function(P,_){var A=Math.floor(_*b);if(v[A]){var N=v[A],E=hr(N.x,P.x),F=hr(N.y,P.y);return lo(lo({},P),{},{x:E(g),y:F(g)})}return P}),w;if(oe(l)&&typeof l=="number"){var k=hr(x,l);w=k(g)}else if(Te(l)||el(l)){var j=hr(x,0);w=j(g)}else w=l.map(function(P,_){var A=Math.floor(_*b);if(x[A]){var N=x[A],E=hr(N.x,P.x),F=hr(N.y,P.y);return lo(lo({},P),{},{x:E(g),y:F(g)})}return P});return o.renderAreaStatically(S,w,n,a)}return M.createElement(vt,null,M.createElement("defs",null,M.createElement("clipPath",{id:"animationClipPath-".concat(a)},o.renderClipRect(g))),M.createElement(vt,{clipPath:"url(#animationClipPath-".concat(a,")")},o.renderAreaStatically(s,l,n,a)))})}},{key:"renderArea",value:function(n,a){var o=this.props,i=o.points,s=o.baseLine,l=o.isAnimationActive,c=this.state,u=c.prevPoints,d=c.prevBaseLine,h=c.totalLength;return l&&i&&i.length&&(!u&&h>0||!bi(u,i)||!bi(d,s))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(i,s,n,a)}},{key:"render",value:function(){var n,a=this.props,o=a.hide,i=a.dot,s=a.points,l=a.className,c=a.top,u=a.left,d=a.xAxis,h=a.yAxis,p=a.width,m=a.height,v=a.isAnimationActive,x=a.id;if(o||!s||!s.length)return null;var y=this.state.isAnimationFinished,g=s.length===1,b=ut("recharts-area",l),S=d&&d.allowDataOverflow,w=h&&h.allowDataOverflow,k=S||w,j=Te(x)?this.id:x,P=(n=Ie(i,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},_=P.r,A=_===void 0?3:_,N=P.strokeWidth,E=N===void 0?2:N,F=oj(i)?i:{},D=F.clipDot,T=D===void 0?!0:D,L=A*2+E;return M.createElement(vt,{className:b},S||w?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(j)},M.createElement("rect",{x:S?u:u-p/2,y:w?c:c-m/2,width:S?p:p*2,height:w?m:m*2})),!T&&M.createElement("clipPath",{id:"clipPath-dots-".concat(j)},M.createElement("rect",{x:u-L/2,y:c-L/2,width:p+L,height:m+L}))):null,g?null:this.renderArea(k,j),(i||g)&&this.renderDots(k,T,j),(!v||y)&&Pa.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(O.PureComponent);o_=Gn;ka(Gn,"displayName","Area");ka(Gn,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Lo.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});ka(Gn,"getBaseValue",function(e,t,r,n){var a=e.layout,o=e.baseValue,i=t.props.baseValue,s=i??o;if(oe(s)&&typeof s=="number")return s;var l=a==="horizontal"?n:r,c=l.scale.domain();if(l.type==="number"){var u=Math.max(c[0],c[1]),d=Math.min(c[0],c[1]);return s==="dataMin"?d:s==="dataMax"||u<0?u:Math.max(Math.min(c[0],c[1]),0)}return s==="dataMin"?c[0]:s==="dataMax"?c[1]:c[0]});ka(Gn,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,a=e.yAxis,o=e.xAxisTicks,i=e.yAxisTicks,s=e.bandSize,l=e.dataKey,c=e.stackedData,u=e.dataStartIndex,d=e.displayedData,h=e.offset,p=t.layout,m=c&&c.length,v=o_.getBaseValue(t,r,n,a),x=p==="horizontal",y=!1,g=d.map(function(S,w){var k;m?k=c[u+w]:(k=Pr(S,l),Array.isArray(k)?y=!0:k=[v,k]);var j=k[1]==null||m&&Pr(S,l)==null;return x?{x:Ns({axis:n,ticks:o,bandSize:s,entry:S,index:w}),y:j?null:a.scale(k[1]),value:k,payload:S}:{x:j?null:n.scale(k[1]),y:Ns({axis:a,ticks:i,bandSize:s,entry:S,index:w}),value:k,payload:S}}),b;return m||y?b=g.map(function(S){var w=Array.isArray(S.value)?S.value[0]:null;return x?{x:S.x,y:w!=null&&S.y!=null?a.scale(w):null}:{x:w!=null?n.scale(w):null,y:S.y}}):b=x?a.scale(v):n.scale(v),lo({points:g,baseLine:b,layout:p,isRange:y},h)});ka(Gn,"renderDotItem",function(e,t){var r;if(M.isValidElement(e))r=M.cloneElement(e,t);else if(We(e))r=e(t);else{var n=ut("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,o=i_(t,ZY);r=M.createElement(Oh,si({},o,{key:a,className:n}))}return r});function Bs(e){"@babel/helpers - typeof";return Bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bs(e)}function iq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f_(n.key),n)}}function lq(e,t,r){return t&&sq(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function cq(e,t,r){return t=jd(t),uq(e,c_()?Reflect.construct(t,r||[],jd(e).constructor):t.apply(e,r))}function uq(e,t){if(t&&(Bs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fq(e)}function fq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c_=function(){return!!e})()}function jd(e){return jd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jd(e)}function dq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cm(e,t)}function cm(e,t){return cm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},cm(e,t)}function u_(e,t,r){return t=f_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f_(e){var t=hq(e,"string");return Bs(t)=="symbol"?t:t+""}function hq(e,t){if(Bs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Eh=function(e){function t(){return iq(this,t),cq(this,t,arguments)}return dq(t,e),lq(t,[{key:"render",value:function(){return null}}])}(O.Component);u_(Eh,"displayName","ZAxis");u_(Eh,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var pq=["option","isActive"];function Xl(){return Xl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xl.apply(this,arguments)}function gq(e,t){if(e==null)return{};var r=mq(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function yq(e){var t=e.option,r=e.isActive,n=gq(e,pq);return typeof t=="string"?O.createElement(Yg,Xl({option:O.createElement(dh,Xl({type:t},n)),isActive:r,shapeType:"symbols"},n)):O.createElement(Yg,Xl({option:t,isActive:r,shapeType:"symbols"},n))}function Fs(e){"@babel/helpers - typeof";return Fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fs(e)}function Yl(){return Yl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yl.apply(this,arguments)}function g2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g2(Object(r),!0).forEach(function(n){bo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,h_(n.key),n)}}function xq(e,t,r){return t&&m2(e.prototype,t),r&&m2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function bq(e,t,r){return t=Od(t),wq(e,d_()?Reflect.construct(t,r||[],Od(e).constructor):t.apply(e,r))}function wq(e,t){if(t&&(Fs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kq(e)}function kq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d_=function(){return!!e})()}function Od(e){return Od=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Od(e)}function Sq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&um(e,t)}function um(e,t){return um=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},um(e,t)}function bo(e,t,r){return t=h_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h_(e){var t=jq(e,"string");return Fs(t)=="symbol"?t:t+""}function jq(e,t){if(Fs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var sn=function(e){function t(){var r;vq(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=bq(this,t,[].concat(a)),bo(r,"state",{isAnimationFinished:!1}),bo(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0})}),bo(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1})}),bo(r,"id",Ni("recharts-scatter-")),r}return Sq(t,e),xq(t,[{key:"renderSymbolsStatically",value:function(n){var a=this,o=this.props,i=o.shape,s=o.activeShape,l=o.activeIndex,c=Ie(this.props,!1);return n.map(function(u,d){var h=l===d,p=h?s:i,m=Bn(Bn({},c),u);return M.createElement(vt,Yl({className:"recharts-scatter-symbol",key:"symbol-".concat(u==null?void 0:u.cx,"-").concat(u==null?void 0:u.cy,"-").concat(u==null?void 0:u.size,"-").concat(d)},hc(a.props,u,d),{role:"img"}),M.createElement(yq,Yl({option:p,isActive:h,key:"symbol-".concat(d)},m)))})}},{key:"renderSymbolsWithAnimation",value:function(){var n=this,a=this.props,o=a.points,i=a.isAnimationActive,s=a.animationBegin,l=a.animationDuration,c=a.animationEasing,u=a.animationId,d=this.state.prevPoints;return M.createElement(ua,{begin:s,duration:l,isActive:i,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var p=h.t,m=o.map(function(v,x){var y=d&&d[x];if(y){var g=hr(y.cx,v.cx),b=hr(y.cy,v.cy),S=hr(y.size,v.size);return Bn(Bn({},v),{},{cx:g(p),cy:b(p),size:S(p)})}var w=hr(0,v.size);return Bn(Bn({},v),{},{size:w(p)})});return M.createElement(vt,null,n.renderSymbolsStatically(m))})}},{key:"renderSymbols",value:function(){var n=this.props,a=n.points,o=n.isAnimationActive,i=this.state.prevPoints;return o&&a&&a.length&&(!i||!bi(i,a))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(a)}},{key:"renderErrorBar",value:function(){var n=this.props.isAnimationActive;if(n&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,i=a.xAxis,s=a.yAxis,l=a.children,c=wn(l,sl);return c?c.map(function(u,d){var h=u.props,p=h.direction,m=h.dataKey;return M.cloneElement(u,{key:"".concat(p,"-").concat(m,"-").concat(o[d]),data:o,xAxis:i,yAxis:s,layout:p==="x"?"vertical":"horizontal",dataPointFormatter:function(x,y){return{x:x.cx,y:x.cy,value:p==="x"?+x.node.x:+x.node.y,errorVal:Pr(x,y)}}})}):null}},{key:"renderLine",value:function(){var n=this.props,a=n.points,o=n.line,i=n.lineType,s=n.lineJointType,l=Ie(this.props,!1),c=Ie(o,!1),u,d;if(i==="joint")u=a.map(function(b){return{x:b.cx,y:b.cy}});else if(i==="fitting"){var h=Q5(a),p=h.xmin,m=h.xmax,v=h.a,x=h.b,y=function(S){return v*S+x};u=[{x:p,y:y(p)},{x:m,y:y(m)}]}var g=Bn(Bn(Bn({},l),{},{fill:"none",stroke:l&&l.fill},c),{},{points:u});return M.isValidElement(o)?d=M.cloneElement(o,g):We(o)?d=o(g):d=M.createElement(di,Yl({},g,{type:s})),M.createElement(vt,{className:"recharts-scatter-line",key:"recharts-scatter-line"},d)}},{key:"render",value:function(){var n=this.props,a=n.hide,o=n.points,i=n.line,s=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,h=n.width,p=n.height,m=n.id,v=n.isAnimationActive;if(a||!o||!o.length)return null;var x=this.state.isAnimationFinished,y=ut("recharts-scatter",s),g=l&&l.allowDataOverflow,b=c&&c.allowDataOverflow,S=g||b,w=Te(m)?this.id:m;return M.createElement(vt,{className:y,clipPath:S?"url(#clipPath-".concat(w,")"):null},g||b?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(w)},M.createElement("rect",{x:g?u:u-h/2,y:b?d:d-p/2,width:g?h:h*2,height:b?p:p*2}))):null,i&&this.renderLine(),this.renderErrorBar(),M.createElement(vt,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!v||x)&&Pa.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}}])}(O.PureComponent);bo(sn,"displayName","Scatter");bo(sn,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!Lo.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});bo(sn,"getComposedData",function(e){var t=e.xAxis,r=e.yAxis,n=e.zAxis,a=e.item,o=e.displayedData,i=e.xAxisTicks,s=e.yAxisTicks,l=e.offset,c=a.props.tooltipType,u=wn(a.props.children,By),d=Te(t.dataKey)?a.props.dataKey:t.dataKey,h=Te(r.dataKey)?a.props.dataKey:r.dataKey,p=n&&n.dataKey,m=n?n.range:Eh.defaultProps.range,v=m&&m[0],x=t.scale.bandwidth?t.scale.bandwidth():0,y=r.scale.bandwidth?r.scale.bandwidth():0,g=o.map(function(b,S){var w=Pr(b,d),k=Pr(b,h),j=!Te(p)&&Pr(b,p)||"-",P=[{name:Te(t.dataKey)?a.props.name:t.name||t.dataKey,unit:t.unit||"",value:w,payload:b,dataKey:d,type:c},{name:Te(r.dataKey)?a.props.name:r.name||r.dataKey,unit:r.unit||"",value:k,payload:b,dataKey:h,type:c}];j!=="-"&&P.push({name:n.name||n.dataKey,unit:n.unit||"",value:j,payload:b,dataKey:p,type:c});var _=Ns({axis:t,ticks:i,bandSize:x,entry:b,index:S,dataKey:d}),A=Ns({axis:r,ticks:s,bandSize:y,entry:b,index:S,dataKey:h}),N=j!=="-"?n.scale(j):v,E=Math.sqrt(Math.max(N,0)/Math.PI);return Bn(Bn({},b),{},{cx:_,cy:A,x:_-E,y:A-E,xAxis:t,yAxis:r,zAxis:n,width:2*E,height:2*E,size:N,node:{x:w,y:k,z:j},tooltipPayload:P,tooltipPosition:{x:_,y:A},payload:b},u&&u[S]&&u[S].props)});return Bn({points:g},l)});function zs(e){"@babel/helpers - typeof";return zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zs(e)}function Oq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m_(n.key),n)}}function _q(e,t,r){return t&&Pq(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nq(e,t,r){return t=Pd(t),Aq(e,p_()?Reflect.construct(t,r||[],Pd(e).constructor):t.apply(e,r))}function Aq(e,t){if(t&&(zs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mq(e)}function Mq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p_=function(){return!!e})()}function Pd(e){return Pd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pd(e)}function Cq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fm(e,t)}function fm(e,t){return fm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},fm(e,t)}function g_(e,t,r){return t=m_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m_(e){var t=Eq(e,"string");return zs(t)=="symbol"?t:t+""}function Eq(e,t){if(zs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function dm(){return dm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dm.apply(this,arguments)}function Tq(e){var t=e.xAxisId,r=mv(),n=yv(),a=HP(t);return a==null?null:O.createElement(ll,dm({},a,{className:ut("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(i){return Wa(i,!0)}}))}var fa=function(e){function t(){return Oq(this,t),Nq(this,t,arguments)}return Cq(t,e),_q(t,[{key:"render",value:function(){return O.createElement(Tq,this.props)}}])}(O.Component);g_(fa,"displayName","XAxis");g_(fa,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Ws(e){"@babel/helpers - typeof";return Ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ws(e)}function $q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,x_(n.key),n)}}function Rq(e,t,r){return t&&Dq(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Lq(e,t,r){return t=_d(t),Iq(e,y_()?Reflect.construct(t,r||[],_d(e).constructor):t.apply(e,r))}function Iq(e,t){if(t&&(Ws(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bq(e)}function Bq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y_=function(){return!!e})()}function _d(e){return _d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_d(e)}function Fq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hm(e,t)}function hm(e,t){return hm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},hm(e,t)}function v_(e,t,r){return t=x_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x_(e){var t=zq(e,"string");return Ws(t)=="symbol"?t:t+""}function zq(e,t){if(Ws(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ws(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function pm(){return pm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pm.apply(this,arguments)}var Wq=function(t){var r=t.yAxisId,n=mv(),a=yv(),o=VP(r);return o==null?null:O.createElement(ll,pm({},o,{className:ut("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(s){return Wa(s,!0)}}))},da=function(e){function t(){return $q(this,t),Lq(this,t,arguments)}return Fq(t,e),Rq(t,[{key:"render",value:function(){return O.createElement(Wq,this.props)}}])}(O.Component);v_(da,"displayName","YAxis");v_(da,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function y2(e){return Vq(e)||Hq(e)||Gq(e)||Uq()}function Uq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gq(e,t){if(e){if(typeof e=="string")return gm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gm(e,t)}}function Hq(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Vq(e){if(Array.isArray(e))return gm(e)}function gm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var mm=function(t,r,n,a,o){var i=wn(t,oi),s=wn(t,Mh),l=[].concat(y2(i),y2(s)),c=wn(t,su),u="".concat(a,"Id"),d=a[0],h=r;if(l.length&&(h=l.reduce(function(v,x){if(x.props[u]===n&&_a(x.props,"extendDomain")&&oe(x.props[d])){var y=x.props[d];return[Math.min(v[0],y),Math.max(v[1],y)]}return v},h)),c.length){var p="".concat(d,"1"),m="".concat(d,"2");h=c.reduce(function(v,x){if(x.props[u]===n&&_a(x.props,"extendDomain")&&oe(x.props[p])&&oe(x.props[m])){var y=x.props[p],g=x.props[m];return[Math.min(v[0],y,g),Math.max(v[1],y,g)]}return v},h)}return o&&o.length&&(h=o.reduce(function(v,x){return oe(x)?[Math.min(v[0],x),Math.max(v[1],x)]:v},h)),h},b_={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function o(l,c,u,d,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new a(u,d||l,h),m=r?r+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function i(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],u,d;if(this._eventsCount===0)return c;for(d in u=this._events)t.call(u,d)&&c.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},s.prototype.listeners=function(c){var u=r?r+c:c,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,p=d.length,m=new Array(p);h<p;h++)m[h]=d[h].fn;return m},s.prototype.listenerCount=function(c){var u=r?r+c:c,d=this._events[u];return d?d.fn?1:d.length:0},s.prototype.emit=function(c,u,d,h,p,m){var v=r?r+c:c;if(!this._events[v])return!1;var x=this._events[v],y=arguments.length,g,b;if(x.fn){switch(x.once&&this.removeListener(c,x.fn,void 0,!0),y){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,u),!0;case 3:return x.fn.call(x.context,u,d),!0;case 4:return x.fn.call(x.context,u,d,h),!0;case 5:return x.fn.call(x.context,u,d,h,p),!0;case 6:return x.fn.call(x.context,u,d,h,p,m),!0}for(b=1,g=new Array(y-1);b<y;b++)g[b-1]=arguments[b];x.fn.apply(x.context,g)}else{var S=x.length,w;for(b=0;b<S;b++)switch(x[b].once&&this.removeListener(c,x[b].fn,void 0,!0),y){case 1:x[b].fn.call(x[b].context);break;case 2:x[b].fn.call(x[b].context,u);break;case 3:x[b].fn.call(x[b].context,u,d);break;case 4:x[b].fn.call(x[b].context,u,d,h);break;default:if(!g)for(w=1,g=new Array(y-1);w<y;w++)g[w-1]=arguments[w];x[b].fn.apply(x[b].context,g)}}return!0},s.prototype.on=function(c,u,d){return o(this,c,u,d,!1)},s.prototype.once=function(c,u,d){return o(this,c,u,d,!0)},s.prototype.removeListener=function(c,u,d,h){var p=r?r+c:c;if(!this._events[p])return this;if(!u)return i(this,p),this;var m=this._events[p];if(m.fn)m.fn===u&&(!h||m.once)&&(!d||m.context===d)&&i(this,p);else{for(var v=0,x=[],y=m.length;v<y;v++)(m[v].fn!==u||h&&!m[v].once||d&&m[v].context!==d)&&x.push(m[v]);x.length?this._events[p]=x.length===1?x[0]:x:i(this,p)}return this},s.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&i(this,u)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s})(b_);var Kq=b_.exports;const Xq=$t(Kq);var zp=new Xq,Wp="recharts.syncMouseEvents";function Kc(e){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kc(e)}function Yq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,w_(n.key),n)}}function Zq(e,t,r){return t&&qq(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Up(e,t,r){return t=w_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w_(e){var t=Qq(e,"string");return Kc(t)=="symbol"?t:t+""}function Qq(e,t){if(Kc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Jq=function(){function e(){Yq(this,e),Up(this,"activeIndex",0),Up(this,"coordinateList",[]),Up(this,"layout","horizontal")}return Zq(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,o=a===void 0?null:a,i=r.container,s=i===void 0?null:i,l=r.layout,c=l===void 0?null:l,u=r.offset,d=u===void 0?null:u,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=o??this.coordinateList)!==null&&n!==void 0?n:[],this.container=s??this.container,this.layout=c??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),o=a.x,i=a.y,s=a.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((n=window)===null||n===void 0?void 0:n.scrollY)||0,d=o+l+c,h=i+this.offset.top+s/2+u;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function eZ(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&oe(n)&&oe(a))return!0}return!1}function tZ(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function k_(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,o=e.endAngle,i=Lr(t,r,n,a),s=Lr(t,r,n,o);return{points:[i,s],cx:t,cy:r,radius:n,startAngle:a,endAngle:o}}function rZ(e,t,r){var n,a,o,i;if(e==="horizontal")n=t.x,o=n,a=r.top,i=r.top+r.height;else if(e==="vertical")a=t.y,i=a,n=r.left,o=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var s=t.cx,l=t.cy,c=t.innerRadius,u=t.outerRadius,d=t.angle,h=Lr(s,l,c,d),p=Lr(s,l,u,d);n=h.x,a=h.y,o=p.x,i=p.y}else return k_(t);return[{x:n,y:a},{x:o,y:i}]}function Xc(e){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xc(e)}function v2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v2(Object(r),!0).forEach(function(n){nZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nZ(e,t,r){return t=aZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aZ(e){var t=oZ(e,"string");return Xc(t)=="symbol"?t:t+""}function oZ(e,t){if(Xc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iZ(e){var t,r,n=e.element,a=e.tooltipEventType,o=e.isActive,i=e.activeCoordinate,s=e.activePayload,l=e.offset,c=e.activeTooltipIndex,u=e.tooltipAxisBandSize,d=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!o||!i||h!=="ScatterChart"&&a!=="axis")return null;var m,v=di;if(h==="ScatterChart")m=i,v=EH;else if(h==="BarChart")m=tZ(d,i,l,u),v=fv;else if(d==="radial"){var x=k_(i),y=x.cx,g=x.cy,b=x.radius,S=x.startAngle,w=x.endAngle;m={cx:y,cy:g,startAngle:S,endAngle:w,innerRadius:b,outerRadius:b},v=yP}else m={points:rZ(d,i,l)},v=di;var k=zu(zu(zu(zu({stroke:"#ccc",pointerEvents:"none"},l),m),Ie(p,!1)),{},{payload:s,payloadIndex:c,className:ut("recharts-tooltip-cursor",p.className)});return O.isValidElement(p)?O.cloneElement(p,k):O.createElement(v,k)}var sZ=["item"],lZ=["children","className","width","height","style","compact","title","desc"];function Us(e){"@babel/helpers - typeof";return Us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Us(e)}function ts(){return ts=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ts.apply(this,arguments)}function x2(e,t){return fZ(e)||uZ(e,t)||j_(e,t)||cZ()}function cZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uZ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function fZ(e){if(Array.isArray(e))return e}function b2(e,t){if(e==null)return{};var r=dZ(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dZ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function hZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pZ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,O_(n.key),n)}}function gZ(e,t,r){return t&&pZ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function mZ(e,t,r){return t=Nd(t),yZ(e,S_()?Reflect.construct(t,r||[],Nd(e).constructor):t.apply(e,r))}function yZ(e,t){if(t&&(Us(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vZ(e)}function vZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S_=function(){return!!e})()}function Nd(e){return Nd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nd(e)}function xZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ym(e,t)}function ym(e,t){return ym=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ym(e,t)}function Gs(e){return kZ(e)||wZ(e)||j_(e)||bZ()}function bZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j_(e,t){if(e){if(typeof e=="string")return vm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vm(e,t)}}function wZ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function kZ(e){if(Array.isArray(e))return vm(e)}function vm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function w2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function q(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w2(Object(r),!0).forEach(function(n){Me(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Me(e,t,r){return t=O_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O_(e){var t=SZ(e,"string");return Us(t)=="symbol"?t:t+""}function SZ(e,t){if(Us(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Us(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jZ={xAxis:["bottom","top"],yAxis:["left","right"]},OZ={width:"100%",height:"100%"},P_={x:0,y:0};function Wu(e){return e}var PZ=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},_Z=function(t,r,n,a){var o=r.find(function(u){return u&&u.index===n});if(o){if(t==="horizontal")return{x:o.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:o.coordinate};if(t==="centric"){var i=o.coordinate,s=a.radius;return q(q(q({},a),Lr(a.cx,a.cy,s,i)),{},{angle:i,radius:s})}var l=o.coordinate,c=a.angle;return q(q(q({},a),Lr(a.cx,a.cy,l,c)),{},{angle:c,radius:l})}return P_},Th=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,o=r.dataEndIndex,i=(n??[]).reduce(function(s,l){var c=l.props.data;return c&&c.length?[].concat(Gs(s),Gs(c)):s},[]);return i.length>0?i:t&&t.length&&oe(a)&&oe(o)?t.slice(a,o+1):[]};function __(e){return e==="number"?[0,"auto"]:void 0}var xm=function(t,r,n,a){var o=t.graphicalItems,i=t.tooltipAxis,s=Th(r,t);return n<0||!o||!o.length||n>=s.length?null:o.reduce(function(l,c){var u,d=(u=c.props.data)!==null&&u!==void 0?u:r;d&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(d=d.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(i.dataKey&&!i.allowDuplicatedCategory){var p=d===void 0?s:d;h=_f(p,i.dataKey,a)}else h=d&&d[n]||s[n];return h?[].concat(Gs(l),[pP(c,h)]):l},[])},k2=function(t,r,n,a){var o=a||{x:t.chartX,y:t.chartY},i=PZ(o,n),s=t.orderedTooltipTicks,l=t.tooltipAxis,c=t.tooltipTicks,u=uW(i,s,c,l);if(u>=0&&c){var d=c[u]&&c[u].value,h=xm(t,r,u,d),p=_Z(n,s,u,o);return{activeTooltipIndex:u,activeLabel:d,activePayload:h,activeCoordinate:p}}return null},NZ=function(t,r){var n=r.axes,a=r.graphicalItems,o=r.axisType,i=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.layout,d=t.children,h=t.stackOffset,p=fP(u,o);return n.reduce(function(m,v){var x,y=v.type.defaultProps!==void 0?q(q({},v.type.defaultProps),v.props):v.props,g=y.type,b=y.dataKey,S=y.allowDataOverflow,w=y.allowDuplicatedCategory,k=y.scale,j=y.ticks,P=y.includeHidden,_=y[i];if(m[_])return m;var A=Th(t.data,{graphicalItems:a.filter(function(X){var G,U=i in X.props?X.props[i]:(G=X.type.defaultProps)===null||G===void 0?void 0:G[i];return U===_}),dataStartIndex:l,dataEndIndex:c}),N=A.length,E,F,D;eZ(y.domain,S,g)&&(E=Tg(y.domain,null,S),p&&(g==="number"||k!=="auto")&&(D=Hl(A,b,"category")));var T=__(g);if(!E||E.length===0){var L,W=(L=y.domain)!==null&&L!==void 0?L:T;if(b){if(E=Hl(A,b,g),g==="category"&&p){var I=Z5(E);w&&I?(F=E,E=dd(0,N)):w||(E=J1(W,E,v).reduce(function(X,G){return X.indexOf(G)>=0?X:[].concat(Gs(X),[G])},[]))}else if(g==="category")w?E=E.filter(function(X){return X!==""&&!Te(X)}):E=J1(W,E,v).reduce(function(X,G){return X.indexOf(G)>=0||G===""||Te(G)?X:[].concat(Gs(X),[G])},[]);else if(g==="number"){var R=gW(A,a.filter(function(X){var G,U,ce=i in X.props?X.props[i]:(G=X.type.defaultProps)===null||G===void 0?void 0:G[i],ue="hide"in X.props?X.props.hide:(U=X.type.defaultProps)===null||U===void 0?void 0:U.hide;return ce===_&&(P||!ue)}),b,o,u);R&&(E=R)}p&&(g==="number"||k!=="auto")&&(D=Hl(A,b,"category"))}else p?E=dd(0,N):s&&s[_]&&s[_].hasStack&&g==="number"?E=h==="expand"?[0,1]:hP(s[_].stackGroups,l,c):E=uP(A,a.filter(function(X){var G=i in X.props?X.props[i]:X.type.defaultProps[i],U="hide"in X.props?X.props.hide:X.type.defaultProps.hide;return G===_&&(P||!U)}),g,u,!0);if(g==="number")E=mm(d,E,_,o,j),W&&(E=Tg(W,E,S));else if(g==="category"&&W){var B=W,ee=E.every(function(X){return B.indexOf(X)>=0});ee&&(E=B)}}return q(q({},m),{},Me({},_,q(q({},y),{},{axisType:o,domain:E,categoricalDomain:D,duplicateDomain:F,originalDomain:(x=y.domain)!==null&&x!==void 0?x:T,isCategorical:p,layout:u})))},{})},AZ=function(t,r){var n=r.graphicalItems,a=r.Axis,o=r.axisType,i=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.layout,d=t.children,h=Th(t.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),p=h.length,m=fP(u,o),v=-1;return n.reduce(function(x,y){var g=y.type.defaultProps!==void 0?q(q({},y.type.defaultProps),y.props):y.props,b=g[i],S=__("number");if(!x[b]){v++;var w;return m?w=dd(0,p):s&&s[b]&&s[b].hasStack?(w=hP(s[b].stackGroups,l,c),w=mm(d,w,b,o)):(w=Tg(S,uP(h,n.filter(function(k){var j,P,_=i in k.props?k.props[i]:(j=k.type.defaultProps)===null||j===void 0?void 0:j[i],A="hide"in k.props?k.props.hide:(P=k.type.defaultProps)===null||P===void 0?void 0:P.hide;return _===b&&!A}),"number",u),a.defaultProps.allowDataOverflow),w=mm(d,w,b,o)),q(q({},x),{},Me({},b,q(q({axisType:o},a.defaultProps),{},{hide:!0,orientation:Vn(jZ,"".concat(o,".").concat(v%2),null),domain:w,originalDomain:S,isCategorical:m,layout:u})))}return x},{})},MZ=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,o=r.AxisComp,i=r.graphicalItems,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.children,d="".concat(a,"Id"),h=wn(u,o),p={};return h&&h.length?p=NZ(t,{axes:h,graphicalItems:i,axisType:a,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:c}):i&&i.length&&(p=AZ(t,{Axis:o,graphicalItems:i,axisType:a,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:c})),p},CZ=function(t){var r=go(t),n=Wa(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Ly(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:rd(r,n)}},S2=function(t){var r=t.children,n=t.defaultShowTooltip,a=_n(r,Cs),o=0,i=0;return t.data&&t.data.length!==0&&(i=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(o=a.props.startIndex),a.props.endIndex>=0&&(i=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:i,activeTooltipIndex:-1,isTooltipActive:!!n}},EZ=function(t){return!t||!t.length?!1:t.some(function(r){var n=Ga(r&&r.type);return n&&n.indexOf("Bar")>=0})},j2=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},TZ=function(t,r){var n=t.props,a=t.graphicalItems,o=t.xAxisMap,i=o===void 0?{}:o,s=t.yAxisMap,l=s===void 0?{}:s,c=n.width,u=n.height,d=n.children,h=n.margin||{},p=_n(d,Cs),m=_n(d,Va),v=Object.keys(l).reduce(function(w,k){var j=l[k],P=j.orientation;return!j.mirror&&!j.hide?q(q({},w),{},Me({},P,w[P]+j.width)):w},{left:h.left||0,right:h.right||0}),x=Object.keys(i).reduce(function(w,k){var j=i[k],P=j.orientation;return!j.mirror&&!j.hide?q(q({},w),{},Me({},P,Vn(w,"".concat(P))+j.height)):w},{top:h.top||0,bottom:h.bottom||0}),y=q(q({},x),v),g=y.bottom;p&&(y.bottom+=p.props.height||Cs.defaultProps.height),m&&r&&(y=hW(y,a,n,r));var b=c-y.left-y.right,S=u-y.top-y.bottom;return q(q({brushBottom:g},y),{},{width:Math.max(b,0),height:Math.max(S,0)})},$Z=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},wv=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,o=a===void 0?"axis":a,i=t.validateTooltipEventTypes,s=i===void 0?["axis"]:i,l=t.axisComponents,c=t.legendContent,u=t.formatAxisMap,d=t.defaultProps,h=function(y,g){var b=g.graphicalItems,S=g.stackGroups,w=g.offset,k=g.updateId,j=g.dataStartIndex,P=g.dataEndIndex,_=y.barSize,A=y.layout,N=y.barGap,E=y.barCategoryGap,F=y.maxBarSize,D=j2(A),T=D.numericAxisName,L=D.cateAxisName,W=EZ(b),I=[];return b.forEach(function(R,B){var ee=Th(y.data,{graphicalItems:[R],dataStartIndex:j,dataEndIndex:P}),X=R.type.defaultProps!==void 0?q(q({},R.type.defaultProps),R.props):R.props,G=X.dataKey,U=X.maxBarSize,ce=X["".concat(T,"Id")],ue=X["".concat(L,"Id")],be={},xe=l.reduce(function(nt,ur){var Qt=g["".concat(ur.axisType,"Map")],Fr=X["".concat(ur.axisType,"Id")];Qt&&Qt[Fr]||ur.axisType==="zAxis"||ki();var Kt=Qt[Fr];return q(q({},nt),{},Me(Me({},ur.axisType,Kt),"".concat(ur.axisType,"Ticks"),Wa(Kt)))},be),V=xe[L],le=xe["".concat(L,"Ticks")],ye=S&&S[ce]&&S[ce].hasStack&&_W(R,S[ce].stackGroups),Z=Ga(R.type).indexOf("Bar")>=0,Ke=rd(V,le),Pe=[],Be=W&&fW({barSize:_,stackGroups:S,totalSize:$Z(xe,L)});if(Z){var rt,Ot,cr=Te(U)?F:U,Dt=(rt=(Ot=rd(V,le,!0))!==null&&Ot!==void 0?Ot:cr)!==null&&rt!==void 0?rt:0;Pe=dW({barGap:N,barCategoryGap:E,bandSize:Dt!==Ke?Dt:Ke,sizeList:Be[ue],maxBarSize:cr}),Dt!==Ke&&(Pe=Pe.map(function(nt){return q(q({},nt),{},{position:q(q({},nt.position),{},{offset:nt.position.offset-Dt/2})})}))}var $r=R&&R.type&&R.type.getComposedData;$r&&I.push({props:q(q({},$r(q(q({},xe),{},{displayedData:ee,props:y,dataKey:G,item:R,bandSize:Ke,barPosition:Pe,offset:w,stackedData:ye,layout:A,dataStartIndex:j,dataEndIndex:P}))),{},Me(Me(Me({key:R.key||"item-".concat(B)},T,xe[T]),L,xe[L]),"animationId",k)),childIndex:uT(R,y.children),item:R})}),I},p=function(y,g){var b=y.props,S=y.dataStartIndex,w=y.dataEndIndex,k=y.updateId;if(!Kx({props:b}))return null;var j=b.children,P=b.layout,_=b.stackOffset,A=b.data,N=b.reverseStackOrder,E=j2(P),F=E.numericAxisName,D=E.cateAxisName,T=wn(j,n),L=jW(A,T,"".concat(F,"Id"),"".concat(D,"Id"),_,N),W=l.reduce(function(X,G){var U="".concat(G.axisType,"Map");return q(q({},X),{},Me({},U,MZ(b,q(q({},G),{},{graphicalItems:T,stackGroups:G.axisType===F&&L,dataStartIndex:S,dataEndIndex:w}))))},{}),I=TZ(q(q({},W),{},{props:b,graphicalItems:T}),g==null?void 0:g.legendBBox);Object.keys(W).forEach(function(X){W[X]=u(b,W[X],I,X.replace("Map",""),r)});var R=W["".concat(D,"Map")],B=CZ(R),ee=h(b,q(q({},W),{},{dataStartIndex:S,dataEndIndex:w,updateId:k,graphicalItems:T,stackGroups:L,offset:I}));return q(q({formattedGraphicalItems:ee,graphicalItems:T,offset:I,stackGroups:L},B),W)},m=function(x){function y(g){var b,S,w;return hZ(this,y),w=mZ(this,y,[g]),Me(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Me(w,"accessibilityManager",new Jq),Me(w,"handleLegendBBoxUpdate",function(k){if(k){var j=w.state,P=j.dataStartIndex,_=j.dataEndIndex,A=j.updateId;w.setState(q({legendBBox:k},p({props:w.props,dataStartIndex:P,dataEndIndex:_,updateId:A},q(q({},w.state),{},{legendBBox:k}))))}}),Me(w,"handleReceiveSyncEvent",function(k,j,P){if(w.props.syncId===k){if(P===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(j)}}),Me(w,"handleBrushChange",function(k){var j=k.startIndex,P=k.endIndex;if(j!==w.state.dataStartIndex||P!==w.state.dataEndIndex){var _=w.state.updateId;w.setState(function(){return q({dataStartIndex:j,dataEndIndex:P},p({props:w.props,dataStartIndex:j,dataEndIndex:P,updateId:_},w.state))}),w.triggerSyncEvent({dataStartIndex:j,dataEndIndex:P})}}),Me(w,"handleMouseEnter",function(k){var j=w.getMouseInfo(k);if(j){var P=q(q({},j),{},{isTooltipActive:!0});w.setState(P),w.triggerSyncEvent(P);var _=w.props.onMouseEnter;We(_)&&_(P,k)}}),Me(w,"triggeredAfterMouseMove",function(k){var j=w.getMouseInfo(k),P=j?q(q({},j),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(P),w.triggerSyncEvent(P);var _=w.props.onMouseMove;We(_)&&_(P,k)}),Me(w,"handleItemMouseEnter",function(k){w.setState(function(){return{isTooltipActive:!0,activeItem:k,activePayload:k.tooltipPayload,activeCoordinate:k.tooltipPosition||{x:k.cx,y:k.cy}}})}),Me(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),Me(w,"handleMouseMove",function(k){k.persist(),w.throttleTriggeredAfterMouseMove(k)}),Me(w,"handleMouseLeave",function(k){w.throttleTriggeredAfterMouseMove.cancel();var j={isTooltipActive:!1};w.setState(j),w.triggerSyncEvent(j);var P=w.props.onMouseLeave;We(P)&&P(j,k)}),Me(w,"handleOuterEvent",function(k){var j=cT(k),P=Vn(w.props,"".concat(j));if(j&&We(P)){var _,A;/.*touch.*/i.test(j)?A=w.getMouseInfo(k.changedTouches[0]):A=w.getMouseInfo(k),P((_=A)!==null&&_!==void 0?_:{},k)}}),Me(w,"handleClick",function(k){var j=w.getMouseInfo(k);if(j){var P=q(q({},j),{},{isTooltipActive:!0});w.setState(P),w.triggerSyncEvent(P);var _=w.props.onClick;We(_)&&_(P,k)}}),Me(w,"handleMouseDown",function(k){var j=w.props.onMouseDown;if(We(j)){var P=w.getMouseInfo(k);j(P,k)}}),Me(w,"handleMouseUp",function(k){var j=w.props.onMouseUp;if(We(j)){var P=w.getMouseInfo(k);j(P,k)}}),Me(w,"handleTouchMove",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(k.changedTouches[0])}),Me(w,"handleTouchStart",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&w.handleMouseDown(k.changedTouches[0])}),Me(w,"handleTouchEnd",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&w.handleMouseUp(k.changedTouches[0])}),Me(w,"handleDoubleClick",function(k){var j=w.props.onDoubleClick;if(We(j)){var P=w.getMouseInfo(k);j(P,k)}}),Me(w,"handleContextMenu",function(k){var j=w.props.onContextMenu;if(We(j)){var P=w.getMouseInfo(k);j(P,k)}}),Me(w,"triggerSyncEvent",function(k){w.props.syncId!==void 0&&zp.emit(Wp,w.props.syncId,k,w.eventEmitterSymbol)}),Me(w,"applySyncEvent",function(k){var j=w.props,P=j.layout,_=j.syncMethod,A=w.state.updateId,N=k.dataStartIndex,E=k.dataEndIndex;if(k.dataStartIndex!==void 0||k.dataEndIndex!==void 0)w.setState(q({dataStartIndex:N,dataEndIndex:E},p({props:w.props,dataStartIndex:N,dataEndIndex:E,updateId:A},w.state)));else if(k.activeTooltipIndex!==void 0){var F=k.chartX,D=k.chartY,T=k.activeTooltipIndex,L=w.state,W=L.offset,I=L.tooltipTicks;if(!W)return;if(typeof _=="function")T=_(I,k);else if(_==="value"){T=-1;for(var R=0;R<I.length;R++)if(I[R].value===k.activeLabel){T=R;break}}var B=q(q({},W),{},{x:W.left,y:W.top}),ee=Math.min(F,B.x+B.width),X=Math.min(D,B.y+B.height),G=I[T]&&I[T].value,U=xm(w.state,w.props.data,T),ce=I[T]?{x:P==="horizontal"?I[T].coordinate:ee,y:P==="horizontal"?X:I[T].coordinate}:P_;w.setState(q(q({},k),{},{activeLabel:G,activeCoordinate:ce,activePayload:U,activeTooltipIndex:T}))}else w.setState(k)}),Me(w,"renderCursor",function(k){var j,P=w.state,_=P.isTooltipActive,A=P.activeCoordinate,N=P.activePayload,E=P.offset,F=P.activeTooltipIndex,D=P.tooltipAxisBandSize,T=w.getTooltipEventType(),L=(j=k.props.active)!==null&&j!==void 0?j:_,W=w.props.layout,I=k.key||"_recharts-cursor";return M.createElement(iZ,{key:I,activeCoordinate:A,activePayload:N,activeTooltipIndex:F,chartName:r,element:k,isActive:L,layout:W,offset:E,tooltipAxisBandSize:D,tooltipEventType:T})}),Me(w,"renderPolarAxis",function(k,j,P){var _=Vn(k,"type.axisType"),A=Vn(w.state,"".concat(_,"Map")),N=k.type.defaultProps,E=N!==void 0?q(q({},N),k.props):k.props,F=A&&A[E["".concat(_,"Id")]];return O.cloneElement(k,q(q({},F),{},{className:ut(_,F.className),key:k.key||"".concat(j,"-").concat(P),ticks:Wa(F,!0)}))}),Me(w,"renderPolarGrid",function(k){var j=k.props,P=j.radialLines,_=j.polarAngles,A=j.polarRadius,N=w.state,E=N.radiusAxisMap,F=N.angleAxisMap,D=go(E),T=go(F),L=T.cx,W=T.cy,I=T.innerRadius,R=T.outerRadius;return O.cloneElement(k,{polarAngles:Array.isArray(_)?_:Wa(T,!0).map(function(B){return B.coordinate}),polarRadius:Array.isArray(A)?A:Wa(D,!0).map(function(B){return B.coordinate}),cx:L,cy:W,innerRadius:I,outerRadius:R,key:k.key||"polar-grid",radialLines:P})}),Me(w,"renderLegend",function(){var k=w.state.formattedGraphicalItems,j=w.props,P=j.children,_=j.width,A=j.height,N=w.props.margin||{},E=_-(N.left||0)-(N.right||0),F=lP({children:P,formattedGraphicalItems:k,legendWidth:E,legendContent:c});if(!F)return null;var D=F.item,T=b2(F,sZ);return O.cloneElement(D,q(q({},T),{},{chartWidth:_,chartHeight:A,margin:N,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),Me(w,"renderTooltip",function(){var k,j=w.props,P=j.children,_=j.accessibilityLayer,A=_n(P,cn);if(!A)return null;var N=w.state,E=N.isTooltipActive,F=N.activeCoordinate,D=N.activePayload,T=N.activeLabel,L=N.offset,W=(k=A.props.active)!==null&&k!==void 0?k:E;return O.cloneElement(A,{viewBox:q(q({},L),{},{x:L.left,y:L.top}),active:W,label:T,payload:W?D:[],coordinate:F,accessibilityLayer:_})}),Me(w,"renderBrush",function(k){var j=w.props,P=j.margin,_=j.data,A=w.state,N=A.offset,E=A.dataStartIndex,F=A.dataEndIndex,D=A.updateId;return O.cloneElement(k,{key:k.key||"_recharts-brush",onChange:Lu(w.handleBrushChange,k.props.onChange),data:_,x:oe(k.props.x)?k.props.x:N.left,y:oe(k.props.y)?k.props.y:N.top+N.height+N.brushBottom-(P.bottom||0),width:oe(k.props.width)?k.props.width:N.width,startIndex:E,endIndex:F,updateId:"brush-".concat(D)})}),Me(w,"renderReferenceElement",function(k,j,P){if(!k)return null;var _=w,A=_.clipPathId,N=w.state,E=N.xAxisMap,F=N.yAxisMap,D=N.offset,T=k.type.defaultProps||{},L=k.props,W=L.xAxisId,I=W===void 0?T.xAxisId:W,R=L.yAxisId,B=R===void 0?T.yAxisId:R;return O.cloneElement(k,{key:k.key||"".concat(j,"-").concat(P),xAxis:E[I],yAxis:F[B],viewBox:{x:D.left,y:D.top,width:D.width,height:D.height},clipPathId:A})}),Me(w,"renderActivePoints",function(k){var j=k.item,P=k.activePoint,_=k.basePoint,A=k.childIndex,N=k.isRange,E=[],F=j.props.key,D=j.item.type.defaultProps!==void 0?q(q({},j.item.type.defaultProps),j.item.props):j.item.props,T=D.activeDot,L=D.dataKey,W=q(q({index:A,dataKey:L,cx:P.x,cy:P.y,r:4,fill:uv(j.item),strokeWidth:2,stroke:"#fff",payload:P.payload,value:P.value},Ie(T,!1)),Nf(T));return E.push(y.renderActiveDot(T,W,"".concat(F,"-activePoint-").concat(A))),_?E.push(y.renderActiveDot(T,q(q({},W),{},{cx:_.x,cy:_.y}),"".concat(F,"-basePoint-").concat(A))):N&&E.push(null),E}),Me(w,"renderGraphicChild",function(k,j,P){var _=w.filterFormatItem(k,j,P);if(!_)return null;var A=w.getTooltipEventType(),N=w.state,E=N.isTooltipActive,F=N.tooltipAxis,D=N.activeTooltipIndex,T=N.activeLabel,L=w.props.children,W=_n(L,cn),I=_.props,R=I.points,B=I.isRange,ee=I.baseLine,X=_.item.type.defaultProps!==void 0?q(q({},_.item.type.defaultProps),_.item.props):_.item.props,G=X.activeDot,U=X.hide,ce=X.activeBar,ue=X.activeShape,be=!!(!U&&E&&W&&(G||ce||ue)),xe={};A!=="axis"&&W&&W.props.trigger==="click"?xe={onClick:Lu(w.handleItemMouseEnter,k.props.onClick)}:A!=="axis"&&(xe={onMouseLeave:Lu(w.handleItemMouseLeave,k.props.onMouseLeave),onMouseEnter:Lu(w.handleItemMouseEnter,k.props.onMouseEnter)});var V=O.cloneElement(k,q(q({},_.props),xe));function le(ur){return typeof F.dataKey=="function"?F.dataKey(ur.payload):null}if(be)if(D>=0){var ye,Z;if(F.dataKey&&!F.allowDuplicatedCategory){var Ke=typeof F.dataKey=="function"?le:"payload.".concat(F.dataKey.toString());ye=_f(R,Ke,T),Z=B&&ee&&_f(ee,Ke,T)}else ye=R==null?void 0:R[D],Z=B&&ee&&ee[D];if(ue||ce){var Pe=k.props.activeIndex!==void 0?k.props.activeIndex:D;return[O.cloneElement(k,q(q(q({},_.props),xe),{},{activeIndex:Pe})),null,null]}if(!Te(ye))return[V].concat(Gs(w.renderActivePoints({item:_,activePoint:ye,basePoint:Z,childIndex:D,isRange:B})))}else{var Be,rt=(Be=w.getItemByXY(w.state.activeCoordinate))!==null&&Be!==void 0?Be:{graphicalItem:V},Ot=rt.graphicalItem,cr=Ot.item,Dt=cr===void 0?k:cr,$r=Ot.childIndex,nt=q(q(q({},_.props),xe),{},{activeIndex:$r});return[O.cloneElement(Dt,nt),null,null]}return B?[V,null,null]:[V,null]}),Me(w,"renderCustomized",function(k,j,P){return O.cloneElement(k,q(q({key:"recharts-customized-".concat(P)},w.props),w.state))}),Me(w,"renderMap",{CartesianGrid:{handler:Wu,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:Wu},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:Wu},YAxis:{handler:Wu},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((b=g.id)!==null&&b!==void 0?b:Ni("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=lO(w.triggeredAfterMouseMove,(S=g.throttleDelay)!==null&&S!==void 0?S:1e3/60),w.state={},w}return xZ(y,x),gZ(y,[{key:"componentDidMount",value:function(){var b,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,S=b.children,w=b.data,k=b.height,j=b.layout,P=_n(S,cn);if(P){var _=P.props.defaultIndex;if(!(typeof _!="number"||_<0||_>this.state.tooltipTicks.length-1)){var A=this.state.tooltipTicks[_]&&this.state.tooltipTicks[_].value,N=xm(this.state,w,_,A),E=this.state.tooltipTicks[_].coordinate,F=(this.state.offset.top+k)/2,D=j==="horizontal",T=D?{x:E,y:F}:{y:E,x:F},L=this.state.formattedGraphicalItems.find(function(I){var R=I.item;return R.type.name==="Scatter"});L&&(T=q(q({},T),L.props.points[_].tooltipPosition),N=L.props.points[_].tooltipPayload);var W={activeTooltipIndex:_,isTooltipActive:!0,activeLabel:A,activePayload:N,activeCoordinate:T};this.setState(W),this.renderCursor(P),this.accessibilityManager.setIndex(_)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var w,k;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0}})}return null}},{key:"componentDidUpdate",value:function(b){X0([_n(b.children,cn)],[_n(this.props.children,cn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=_n(this.props.children,cn);if(b&&typeof b.props.shared=="boolean"){var S=b.props.shared?"axis":"item";return s.indexOf(S)>=0?S:o}return o}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var S=this.container,w=S.getBoundingClientRect(),k=R8(w),j={chartX:Math.round(b.pageX-k.left),chartY:Math.round(b.pageY-k.top)},P=w.width/S.offsetWidth||1,_=this.inRange(j.chartX,j.chartY,P);if(!_)return null;var A=this.state,N=A.xAxisMap,E=A.yAxisMap,F=this.getTooltipEventType(),D=k2(this.state,this.props.data,this.props.layout,_);if(F!=="axis"&&N&&E){var T=go(N).scale,L=go(E).scale,W=T&&T.invert?T.invert(j.chartX):null,I=L&&L.invert?L.invert(j.chartY):null;return q(q({},j),{},{xValue:W,yValue:I},D)}return D?q(q({},j),D):null}},{key:"inRange",value:function(b,S){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,k=this.props.layout,j=b/w,P=S/w;if(k==="horizontal"||k==="vertical"){var _=this.state.offset,A=j>=_.left&&j<=_.left+_.width&&P>=_.top&&P<=_.top+_.height;return A?{x:j,y:P}:null}var N=this.state,E=N.angleAxisMap,F=N.radiusAxisMap;if(E&&F){var D=go(E);return rw({x:j,y:P},D)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,S=this.getTooltipEventType(),w=_n(b,cn),k={};w&&S==="axis"&&(w.props.trigger==="click"?k={onClick:this.handleClick}:k={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var j=Nf(this.props,this.handleOuterEvent);return q(q({},j),k)}},{key:"addListener",value:function(){zp.on(Wp,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){zp.removeListener(Wp,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,S,w){for(var k=this.state.formattedGraphicalItems,j=0,P=k.length;j<P;j++){var _=k[j];if(_.item===b||_.props.key===b.key||S===Ga(_.item.type)&&w===_.childIndex)return _}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,S=this.state.offset,w=S.left,k=S.top,j=S.height,P=S.width;return M.createElement("defs",null,M.createElement("clipPath",{id:b},M.createElement("rect",{x:w,y:k,height:j,width:P})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(S,w){var k=x2(w,2),j=k[0],P=k[1];return q(q({},S),{},Me({},j,P.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(S,w){var k=x2(w,2),j=k[0],P=k[1];return q(q({},S),{},Me({},j,P.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[b])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(b){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[b])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(b){var S=this.state,w=S.formattedGraphicalItems,k=S.activeItem;if(w&&w.length)for(var j=0,P=w.length;j<P;j++){var _=w[j],A=_.props,N=_.item,E=N.type.defaultProps!==void 0?q(q({},N.type.defaultProps),N.props):N.props,F=Ga(N.type);if(F==="Bar"){var D=(A.data||[]).find(function(I){return kH(b,I)});if(D)return{graphicalItem:_,payload:D}}else if(F==="RadialBar"){var T=(A.data||[]).find(function(I){return rw(b,I)});if(T)return{graphicalItem:_,payload:T}}else if(Ph(_,k)||_h(_,k)||Wc(_,k)){var L=jV({graphicalItem:_,activeTooltipItem:k,itemData:E.data}),W=E.activeIndex===void 0?L:E.activeIndex;return{graphicalItem:q(q({},_),{},{childIndex:W}),payload:Wc(_,k)?E.data[L]:_.props.data[L]}}}return null}},{key:"render",value:function(){var b=this;if(!Kx(this))return null;var S=this.props,w=S.children,k=S.className,j=S.width,P=S.height,_=S.style,A=S.compact,N=S.title,E=S.desc,F=b2(S,lZ),D=Ie(F,!1);if(A)return M.createElement(Zw,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement(q0,ts({},D,{width:j,height:P,title:N,desc:E}),this.renderClipPath(),Yx(w,this.renderMap)));if(this.props.accessibilityLayer){var T,L;D.tabIndex=(T=this.props.tabIndex)!==null&&T!==void 0?T:0,D.role=(L=this.props.role)!==null&&L!==void 0?L:"application",D.onKeyDown=function(I){b.accessibilityManager.keyboardEvent(I)},D.onFocus=function(){b.accessibilityManager.focus()}}var W=this.parseEventsOfWrapper();return M.createElement(Zw,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement("div",ts({className:ut("recharts-wrapper",k),style:q({position:"relative",cursor:"default",width:j,height:P},_)},W,{ref:function(R){b.container=R}}),M.createElement(q0,ts({},D,{width:j,height:P,title:N,desc:E,style:OZ}),this.renderClipPath(),Yx(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(O.Component);Me(m,"displayName",r),Me(m,"defaultProps",q({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),Me(m,"getDerivedStateFromProps",function(x,y){var g=x.dataKey,b=x.data,S=x.children,w=x.width,k=x.height,j=x.layout,P=x.stackOffset,_=x.margin,A=y.dataStartIndex,N=y.dataEndIndex;if(y.updateId===void 0){var E=S2(x);return q(q(q({},E),{},{updateId:0},p(q(q({props:x},E),{},{updateId:0}),y)),{},{prevDataKey:g,prevData:b,prevWidth:w,prevHeight:k,prevLayout:j,prevStackOffset:P,prevMargin:_,prevChildren:S})}if(g!==y.prevDataKey||b!==y.prevData||w!==y.prevWidth||k!==y.prevHeight||j!==y.prevLayout||P!==y.prevStackOffset||!ls(_,y.prevMargin)){var F=S2(x),D={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},T=q(q({},k2(y,b,j)),{},{updateId:y.updateId+1}),L=q(q(q({},F),D),T);return q(q(q({},L),p(q({props:x},L),y)),{},{prevDataKey:g,prevData:b,prevWidth:w,prevHeight:k,prevLayout:j,prevStackOffset:P,prevMargin:_,prevChildren:S})}if(!X0(S,y.prevChildren)){var W,I,R,B,ee=_n(S,Cs),X=ee&&(W=(I=ee.props)===null||I===void 0?void 0:I.startIndex)!==null&&W!==void 0?W:A,G=ee&&(R=(B=ee.props)===null||B===void 0?void 0:B.endIndex)!==null&&R!==void 0?R:N,U=X!==A||G!==N,ce=!Te(b),ue=ce&&!U?y.updateId:y.updateId+1;return q(q({updateId:ue},p(q(q({props:x},y),{},{updateId:ue,dataStartIndex:X,dataEndIndex:G}),y)),{},{prevChildren:S,dataStartIndex:X,dataEndIndex:G})}return null}),Me(m,"renderActiveDot",function(x,y,g){var b;return O.isValidElement(x)?b=O.cloneElement(x,y):We(x)?b=x(y):b=M.createElement(Oh,y),M.createElement(vt,{className:"recharts-active-dot",key:g},b)});var v=O.forwardRef(function(y,g){return M.createElement(m,ts({},y,{ref:g}))});return v.displayName=m.displayName,v},kv=wv({chartName:"LineChart",GraphicalChild:Yr,axisComponents:[{axisType:"xAxis",AxisComp:fa},{axisType:"yAxis",AxisComp:da}],formatAxisMap:dv}),DZ=wv({chartName:"ScatterChart",GraphicalChild:sn,defaultTooltipEventType:"item",validateTooltipEventTypes:["item"],axisComponents:[{axisType:"xAxis",AxisComp:fa},{axisType:"yAxis",AxisComp:da},{axisType:"zAxis",AxisComp:Eh}],formatAxisMap:dv}),N_=wv({chartName:"AreaChart",GraphicalChild:Gn,axisComponents:[{axisType:"xAxis",AxisComp:fa},{axisType:"yAxis",AxisComp:da}],formatAxisMap:dv});const RZ="modulepreload",LZ=function(e){return"/"+e},O2={},IZ=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),s=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));a=Promise.allSettled(r.map(l=>{if(l=LZ(l),l in O2)return;O2[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":RZ,c||(d.as="script"),d.crossOrigin="",d.href=l,s&&d.setAttribute("nonce",s),document.head.appendChild(d),c)return new Promise((h,p)=>{d.addEventListener("load",h),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(i){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=i,window.dispatchEvent(s),!s.defaultPrevented)throw i}return a.then(i=>{for(const s of i||[])s.status==="rejected"&&o(s.reason);return t().catch(o)})};function BZ(e){const[[t,r,n],[a,o,i],[s,l,c]]=e,u=t*(o*c-i*l)-r*(a*c-i*s)+n*(a*l-o*s);if(Math.abs(u)<1e-10)return null;const d=1/u;return[[(o*c-i*l)*d,(n*l-r*c)*d,(r*i-n*o)*d],[(i*s-a*c)*d,(t*c-n*s)*d,(n*a-t*i)*d],[(a*l-o*s)*d,(r*s-t*l)*d,(t*o-r*a)*d]]}function P2(e,t){const r=[[0,0,0],[0,0,0],[0,0,0]];for(let n=0;n<3;n++)for(let a=0;a<3;a++)for(let o=0;o<3;o++)r[n][a]+=e[n][o]*t[o][a];return r}class Hs{constructor(t){on(this,"size");on(this,"isPowerOfTwo");on(this,"_real");on(this,"_imag");on(this,"_scratch",null);on(this,"_rev",null);on(this,"_m",0);on(this,"_internalFFT",null);on(this,"_chirpReal",null);on(this,"_chirpImag",null);on(this,"_bReal",null);on(this,"_bImag",null);on(this,"_hanning",null);on(this,"_windowSumSq",0);this.size=t,this.isPowerOfTwo=(t&t-1)===0&&t>0,this._real=new Float32Array(t),this._imag=new Float32Array(t),this.isPowerOfTwo?this.initRadix2():this.initBluestein()}initRadix2(){const t=this.size,r=Math.log2(t);this._rev=new Uint32Array(t);for(let n=0;n<t;n++){let a=0,o=n;for(let i=0;i<r;i++)a=a<<1|o&1,o>>>=1;this._rev[n]=a}}initBluestein(){const t=this.size;this._m=Math.pow(2,Math.ceil(Math.log2(2*t-1))),this._internalFFT=new Hs(this._m),this._chirpReal=new Float32Array(t),this._chirpImag=new Float32Array(t);for(let a=0;a<t;a++){const o=-Math.PI*(a*a)/t;this._chirpReal[a]=Math.cos(o),this._chirpImag[a]=Math.sin(o)}const r=new Float32Array(this._m),n=new Float32Array(this._m);for(let a=0;a<t;a++)r[a]=this._chirpReal[a],n[a]=-this._chirpImag[a];for(let a=1;a<t;a++)r[this._m-a]=r[a],n[this._m-a]=n[a];this._internalFFT.transform(r,n),this._bReal=new Float32Array(this._internalFFT._real),this._bImag=new Float32Array(this._internalFFT._imag)}initHanning(){if(this._hanning)return;const t=this.size;this._hanning=new Float32Array(t);let r=0;for(let n=0;n<t;n++){const a=.5*(1-Math.cos(2*Math.PI*n/(t-1)));this._hanning[n]=a,r+=a*a}this._windowSumSq=r}transform(t,r){this.isPowerOfTwo?this.transformRadix2(t,r):this.transformBluestein(t,r)}transformRadix2(t,r){const n=this.size,a=this._rev,o=this._real,i=this._imag;if(t===o)for(let s=0;s<n;s++){const l=a[s];if(s<l){const c=o[s],u=i[s];o[s]=o[l],i[s]=i[l],o[l]=c,i[l]=u}}else for(let s=0;s<n;s++){const l=a[s];o[s]=t[l],i[s]=r?r[l]:0}for(let s=2;s<=n;s*=2){const l=s/2,c=-2*Math.PI/s,u=Math.cos(c),d=Math.sin(c);for(let h=0;h<n;h+=s){let p=1,m=0;for(let v=0;v<l;v++){const x=h+v,y=h+v+l,g=p*o[y]-m*i[y],b=p*i[y]+m*o[y],S=o[x],w=i[x];o[x]=S+g,i[x]=w+b,o[y]=S-g,i[y]=w-b;const k=p*u-m*d,j=p*d+m*u;p=k,m=j}}}}transformBluestein(t,r){const n=this.size,a=this._m,o=this._internalFFT,i=o._real,s=o._imag;i.fill(0),s.fill(0);for(let d=0;d<n;d++){const h=t[d],p=r?r[d]:0,m=this._chirpReal[d],v=this._chirpImag[d];i[d]=h*m-p*v,s[d]=h*v+p*m}o.transformRadix2(i,s);for(let d=0;d<a;d++){const h=o._real[d],p=o._imag[d],m=this._bReal[d],v=this._bImag[d];o._real[d]=h*m-p*v,o._imag[d]=h*v+p*m}const l=o._real,c=o._imag;for(let d=0;d<a;d++)c[d]=-c[d];o.transformRadix2(l,c);const u=1/a;for(let d=0;d<n;d++){const h=o._real[d]*u,p=-o._imag[d]*u,m=this._chirpReal[d],v=this._chirpImag[d];this._real[d]=h*m-p*v,this._imag[d]=h*v+p*m}}calculateSpectrum(t,r,n=!1){const a=this.size;let o=0;for(let u=0;u<a;u++)o+=t[u];const i=o/a;this._scratch||(this._scratch=new Float32Array(a));const s=this._scratch;if(n){this.initHanning();const u=this._hanning;for(let d=0;d<a;d++)s[d]=(t[d]-i)*u[d]}else for(let u=0;u<a;u++)s[u]=t[u]-i;this.transform(s);const l=r.length;let c=1/a;n&&this._windowSumSq>0&&(c=1/this._windowSumSq);for(let u=0;u<l;u++){const d=this._real[u],h=this._imag[u];r[u]+=(d*d+h*h)*c}}}function FZ(e,t,r,n=!1){const a=new Hs(t),o=new Hs(r),i=t*r,s=new Float32Array(i),l=new Float32Array(i);let c=null,u=null;if(n){c=new Float32Array(t);for(let v=0;v<t;v++)c[v]=.5*(1-Math.cos(2*Math.PI*v/(t-1)));u=new Float32Array(r);for(let v=0;v<r;v++)u[v]=.5*(1-Math.cos(2*Math.PI*v/(r-1)))}for(let v=0;v<r;v++){const x=v*t,y=a._real;let g=0;for(let S=0;S<t;S++)g+=e[x+S];const b=g/t;if(c)for(let S=0;S<t;S++)y[S]=(e[x+S]-b)*c[S];else for(let S=0;S<t;S++)y[S]=e[x+S]-b;a.transform(y);for(let S=0;S<t;S++)s[x+S]=a._real[S],l[x+S]=a._imag[S]}for(let v=0;v<t;v++){const x=o._real,y=o._imag;for(let g=0;g<r;g++){const b=g*t+v;let S=s[b],w=l[b];u&&(S*=u[g],w*=u[g]),x[g]=S,y[g]=w}o.transform(x,y);for(let g=0;g<r;g++){const b=g*t+v;s[b]=o._real[g],l[b]=o._imag[g]}}const d=new Float32Array(i);let h=1,p=t,m=r;if(n&&c&&u){p=0;for(let v=0;v<t;v++)p+=c[v]*c[v];m=0;for(let v=0;v<r;v++)m+=u[v]*u[v]}h=1/(p*m);for(let v=0;v<i;v++)d[v]=(s[v]*s[v]+l[v]*l[v])*h;return d}function zZ(e,t,r){const n=new Float32Array(e.length),a=Math.floor(t/2),o=Math.floor(r/2);for(let i=0;i<r;i++)for(let s=0;s<t;s++){const l=(s+a)%t,c=(i+o)%r,u=i*t+s,d=c*t+l;n[d]=e[u]}return n}let Gp=null;async function Sv(){if(!Gp)try{const n=(await IZ(()=>import("./joraw-B2C-fPcw.js"),[])).default;if(typeof n!="function")throw new Error("JoRaw WASM import failed");const a=new URL("/assets/joraw-BUh50ws_.wasm",import.meta.url).href;Gp=n({locateFile:(o,i)=>o.endsWith("joraw.wasm")?a:i+o})}catch(r){throw console.error("Failed to load joraw.js:",r),r}const e=await Gp,t=e.LibRaw||e.JoRaw;if(!t)throw new Error("JoRaw class not found");return t}const WZ=[[3.2404542,-1.5371385,-.4985314],[-.969266,1.8760108,.041556],[.0556434,-.2040259,1.0572252]],Hp=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055;async function UZ(e){const t=await createImageBitmap(e),r=t.width,n=t.height,a=document.createElement("canvas");a.width=r,a.height=n;const o=a.getContext("2d");if(!o)throw new Error("Failed to create canvas context");o.drawImage(t,0,0);const s=o.getImageData(0,0,r,n).data,l=r*n,c=new Uint16Array(l);for(let d=0;d<n;d++)for(let h=0;h<r;h++){const p=(d*r+h)*4,m=d*r+h,v=d%2===0,x=h%2===0;let y=0;v&&x?y=s[p]:!v&&!x?y=s[p+2]:y=s[p+1],c[m]=y*64}return{previewBlob:await new Promise(d=>a.toBlob(d,"image/png"))||e,analysisData:{data:c,width:r,height:n,bayerPattern:"RGGB",blackLevels:[0,0,0,0],whiteLevel:16320,metadata:{description:"Standard image (non-RAW)"},isThreePlane:!0}}}const GZ=async e=>{const t=await Sv(),r=new t;try{await r.open(e,{useCameraWb:!0,outputBps:8,noAutoBright:!0,userQual:3,outputColor:1});const n=await r.imageData();return new Promise((a,o)=>{const i=document.createElement("canvas");i.width=n.width,i.height=n.height;const s=i.getContext("2d");if(!s){o(new Error("Could not create canvas context"));return}const l=s.createImageData(n.width,n.height),c=n.data,u=n.width*n.height;for(let d=0;d<u;d++){const h=d*3,p=d*4;l.data[p]=c[h],l.data[p+1]=c[h+1],l.data[p+2]=c[h+2],l.data[p+3]=255}s.putImageData(l,0,0),i.toBlob(d=>{d?a(d):o(new Error("Canvas to Blob failed"))},"image/jpeg",.85)})}finally{r.delete?r.delete():r.close()}},Ad=async e=>{var n,a,o,i,s,l,c,u,d;const t=await Sv(),r=new t;try{if(await r.open(e,{}),typeof r.getRawImage!="function")throw new Error("WASM mismatch");const h=r.getRawImage(),p=new Uint16Array(h.data),m=await r.metadata(!0);let v=[];if((n=m.color_data)!=null&&n.cblack_rawpy_style)v=m.color_data.cblack_rawpy_style;else if((o=(a=m.color_data)==null?void 0:a.dng_levels)!=null&&o.dng_cblack)v=m.color_data.dng_levels.dng_cblack;else if(((i=m.black_level_per_channel)==null?void 0:i.length)>=4)v=m.black_level_per_channel;else if(((s=m.cblack)==null?void 0:s.length)>=4)v=m.cblack;else if(((c=(l=m.color)==null?void 0:l.cblack)==null?void 0:c.length)>=4)v=m.color.cblack;else{const S=m.black_level||m.color_data&&m.color_data.black||0;v=[S,S,S,S]}const x=[Number(v[0])||0,Number(v[1])||0,Number(v[2])||0,Number(v[3])||0],y=((u=m.idata)==null?void 0:u.filters)||0,g=((d=m.idata)==null?void 0:d.colors)||0,b=y===0&&g===3;return{data:p,width:h.width,height:h.height,bayerPattern:m.color_desc||"RGGB",blackLevels:x,whiteLevel:m.white_level||16383,metadata:m,isThreePlane:b}}finally{r.delete?r.delete():r.close()}};async function Vp(e){const t=new Uint8Array(e.slice(0)),r=new Uint8Array(e.slice(0)),[n,a]=await Promise.all([GZ(t),Ad(r)]);return{previewBlob:n,analysisData:a}}async function Md(e){const t=new Uint8Array(e.slice(0));return Ad(t)}const _2=e=>(e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,e++,e);async function Kp(e,t,r,n=!0){const a=await Ad(new Uint8Array(e)),o=await Ad(new Uint8Array(t));if(a.width!==o.width||a.height!==o.height)throw new Error("Dimension Mismatch");const i=a.width,s=a.height,l=r?_2(i):i,c=r?_2(s):s,u=l*c,d=new Uint16Array(u),h=6e4,p=1.41421356;for(let m=0;m<s;m++){const v=m*i,x=m*l;for(let y=0;y<i;y++){const g=a.data[v+y],b=o.data[v+y];let S=g-b;n&&(S/=p);let w=S+h;w=Math.max(0,Math.min(65535,w)),d[x+y]=Math.round(w)}}return{rawData:d,width:l,height:c,metadata:a.metadata}}function Fi(e,t,r,n,a,o,i){const s=Math.max(0,Math.floor(n)),l=Math.max(0,Math.floor(a)),c=Math.min(t,Math.ceil(n+o)),u=Math.min(r,Math.ceil(a+i)),d=[0,0,0,0],h=[0,0,0,0],p=[0,0,0,0];for(let x=l;x<u;x++){const y=x*t,g=x%2;for(let b=s;b<c;b++){const S=b%2,w=e[y+b],k=g*2+S;d[k]+=w,h[k]+=w*w,p[k]++}}const m=[0,0,0,0],v=[0,0,0,0];for(let x=0;x<4;x++)if(p[x]>0){const y=d[x]/p[x];m[x]=y;const b=h[x]/p[x]-y*y;v[x]=Math.sqrt(Math.max(0,b))}return{x:s,y:l,width:c-s,height:u-l,means:m,stdDevs:v,pixelCount:p.reduce((x,y)=>x+y,0)}}function N2(e,t,r,n,a,o,i=0,s=0){const l=Math.max(0,Math.floor(n.x)),c=Math.max(0,Math.floor(n.y)),u=Math.min(t,Math.ceil(n.x+n.w)),d=Math.min(r,Math.ceil(n.y+n.h)),h=a>>1,p=a&1,m=(o>>1)+i,v=(o&1)+s;let x=0,y=0,g=0;for(let P=c;P<d-2;P+=2)for(let _=l;_<u-2;_+=2){const A=(P+h)*t+(_+p),N=(P+m)*t+(_+v);P+m>=r||_+v>=t||(x+=e[A],y+=e[N],g++)}if(g<2)return{sumCov:0,sumVar1:0,sumVar2:0,n:0};const b=x/g,S=y/g;let w=0,k=0,j=0;for(let P=c;P<d-2;P+=2)for(let _=l;_<u-2;_+=2){const A=(P+h)*t+(_+p),N=(P+m)*t+(_+v);if(P+m>=r||_+v>=t)continue;const E=e[A],F=e[N],D=E-b,T=F-S;w+=D*T,k+=D*D,j+=T*T}return{sumCov:w,sumVar1:k,sumVar2:j,n:g}}function HZ(e){if(e.n<2)return 0;const t=Math.sqrt(e.sumVar1*e.sumVar2);return t===0?0:e.sumCov/t}function VZ(e,t,r,n,a,o,i,s,l,c,u){if(c<=l)return[];const d=Math.max(0,Math.floor(n)),h=Math.max(0,Math.floor(a)),p=Math.min(t,Math.ceil(n+o)),m=Math.min(r,Math.ceil(a+i)),v=c-l,x=u?Math.floor(v)+1:s,y=v/x,g=[new Uint32Array(x),new Uint32Array(x),new Uint32Array(x),new Uint32Array(x)];for(let S=h;S<m;S++){const w=S*t,k=S%2;for(let j=d;j<p;j++){const P=j%2,_=e[w+j];if(_<l||_>c)continue;const A=k*2+P;let N;u?N=Math.floor(_-l):N=Math.floor((_-l)/y),N<0&&(N=0),N>=x&&(N=x-1),g[A][N]++}}const b=[];for(let S=0;S<x;S++){const w=l+(u?S:S*y);b.push({binStart:w,c0:g[0][S],c1:g[1][S],c2:g[2][S],c3:g[3][S]})}return b}function KZ(e,t,r,n,a,o=!1,i=!1,s={rows:!1,rowGroup:0,cols:!1,colGroup:0},l=!0,c=1){const u=Math.max(0,Math.floor(n.x)),d=Math.max(0,Math.floor(n.y)),h=Math.min(t,Math.ceil(n.x+n.w)),p=Math.min(r,Math.ceil(n.y+n.h)),m=h-u,v=p-d;if(m<=1||v<=1)return null;let x=0;for(let N=u;N<h;N++)N%2===(a&1)&&x++;let y=0;for(let N=d;N<p;N++)N%2===a>>1&&y++;if(x<4||y<4)return null;const g=Math.max(1,c),b=Math.floor(2*x/(g+1)),S=Math.floor(2*y/(g+1));if(b<4||S<4)return null;const w=new Hs(b),k=new Hs(S),j=new Float32Array(Math.floor(b/2)+1),P=new Float32Array(Math.floor(S/2)+1);let _=0,A=0;for(let N=d;N<p;N++){const E=N%2;if(a>>1!==E||s.rows&&(N>>1&1)!==s.rowGroup)continue;const F=N*t,D=new Float32Array(x);let T=0;for(let L=u;L<h;L++)L%2===(a&1)&&T<x&&(D[T++]=e[F+L]);for(let L=0;L<g;L++){const W=Math.floor(L*b/2);if(W+b>x)break;const I=D.slice(W,W+b);w.calculateSpectrum(I,j,i),_++}if(!l)break}for(let N=u;N<h;N++){const E=N%2;if((a&1)!==E||s.cols&&(N>>1&1)!==s.rowGroup)continue;const F=new Float32Array(y);let D=0;for(let T=d;T<p;T++)T%2===a>>1&&D<y&&(F[D++]=e[T*t+N]);for(let T=0;T<g;T++){const L=Math.floor(T*S/2);if(L+S>y)break;const W=F.slice(L,L+S);k.calculateSpectrum(W,P,i),A++}if(!l)break}if(_>0)for(let N=0;N<j.length;N++)j[N]/=_;if(A>0)for(let N=0;N<P.length;N++)P[N]/=A;return{avgHoriz:Array.from(j),avgVert:Array.from(P),sampleCount:{h:_,v:A}}}function XZ(e,t,r,n,a,o=!1){const i=Math.max(0,Math.floor(n.x)),s=Math.max(0,Math.floor(n.y)),l=Math.min(t,Math.ceil(n.x+n.w)),c=Math.min(r,Math.ceil(n.y+n.h));let u=-1;for(let g=s;g<c;g++)if(g%2===a>>1){u=g;break}if(u===-1)return null;let d=-1;for(let g=i;g<l;g++)if(g%2===(a&1)){d=g;break}if(d===-1)return null;const h=[];for(let g=u;g<c;g+=2){const b=g*t,S=[];for(let w=d;w<l;w+=2)S.push(e[b+w]);h.push(S)}const p=h.length;if(p===0)return null;const m=h[0].length;if(m===0)return null;const v=new Float32Array(m*p);for(let g=0;g<p;g++){const b=h[g];for(let S=0;S<m;S++)v[g*m+S]=b[S]}const x=FZ(v,m,p,o),y=zZ(x,m,p);return{width:m,height:p,data:y}}function YZ(e,t,r,n,a,o,i){const s=[],l=Math.max(0,Math.floor(n.x)),c=Math.max(0,Math.floor(n.y)),u=Math.min(t,Math.ceil(n.x+n.w)),d=Math.min(r,Math.ceil(n.y+n.h)),h=a>>1,p=a&1;for(let g=c;g<d;g++){if(g%2!==h)continue;const b=g*t;for(let S=l;S<u;S++){if(S%2!==p)continue;const w=e[b+S];w>=o&&w<=i&&s.push(w-o)}}if(s.length===0)return null;s.sort((g,b)=>g-b);const m=[s[0]];for(let g=1;g<s.length;g++)s[g]!==s[g-1]&&m.push(s[g]);const v=[],x=[],y={};for(let g=0;g<m.length-1;g++){const b=m[g],w=m[g+1]-b;v.push(w),x.push({x:b,y:w}),y[w]=(y[w]||0)+1}return{uniqueCount:m.length,diffCount:v.length,stepCounts:y,plotData:x}}async function A2(e,t){const r=await Sv(),n=new r;try{const a=new Uint8Array(e.slice(0));let o=!1,i=[];if(t.customMatrix&&t.customMatrix.length===9){const h=[[t.customMatrix[0],t.customMatrix[1],t.customMatrix[2]],[t.customMatrix[3],t.customMatrix[4],t.customMatrix[5]],[t.customMatrix[6],t.customMatrix[7],t.customMatrix[8]]],p=BZ(h);if(p){const m=t.wbGains?t.wbGains[0]:1,v=t.wbGains?t.wbGains[1]:1,y=P2(p,[[m,0,0],[0,1,0],[0,0,v]]),g=P2(WZ,y);i=[g[0][0],g[0][1],g[0][2],g[1][0],g[1][1],g[1][2],g[2][0],g[2][1],g[2][2]],o=!0}else throw new Error("Custom Matrix is not invertible.")}const s={outputBps:16,noAutoBright:!0,bright:o?1:Math.pow(2,t.exposure)};t.blackLevel&&t.blackLevel.length===4&&(s.userBlack=0,s.userCblack=t.blackLevel.map(h=>{const p=Math.round(h);return p===0?1:p})),t.demosaicMethod===-1?s.noInterpolation=!0:s.userQual=t.demosaicMethod,o?(s.outputColor=0,s.gamma=[1,1],s.userMul=[1,1,1,1],s.useCameraWb=!1):(s.outputColor=1,s.useCameraWb=!0),await n.open(a,s);const l=await n.imageData(),c=new ImageData(l.width,l.height),u=c.data,d=new Uint16Array(l.data.buffer,l.data.byteOffset,l.data.byteLength/2);if(o&&i.length===9){const h=i,m=Math.pow(2,t.exposure)*.25;for(let v=0;v<d.length;v+=3){const x=d[v]/65535,y=d[v+1]/65535,g=d[v+2]/65535;let b=h[0]*x+h[1]*y+h[2]*g,S=h[3]*x+h[4]*y+h[5]*g,w=h[6]*x+h[7]*y+h[8]*g;b*=m,S*=m,w*=m,b=Math.max(0,Math.min(1,b)),S=Math.max(0,Math.min(1,S)),w=Math.max(0,Math.min(1,w)),b=Hp(b),S=Hp(S),w=Hp(w);const k=v/3*4;u[k]=Math.round(b*255),u[k+1]=Math.round(S*255),u[k+2]=Math.round(w*255),u[k+3]=255}}else for(let h=0;h<d.length;h+=3){const p=h/3*4;u[p]=d[h]>>8,u[p+1]=d[h+1]>>8,u[p+2]=d[h+2]>>8,u[p+3]=255}return c}finally{n.delete?n.delete():n.close()}}const qZ=({isOpen:e,onClose:t,onMinimize:r,rawImageData:n,roi:a,isBGGR:o,zIndex:i,onFocus:s,initialPosition:l,initialInternalState:c,onUpdateState:u})=>{const[d,h]=O.useState((c==null?void 0:c.channelMode)||"All"),[p,m]=O.useState((c==null?void 0:c.minVal)??0),[v,x]=O.useState((c==null?void 0:c.maxVal)??16383),[y,g]=O.useState((c==null?void 0:c.binCount)??100),[b,S]=O.useState((c==null?void 0:c.pointToPoint)??!1),[w,k]=O.useState(!1),[j,P]=O.useState([]),[_,A]=O.useState(null),[N,E]=O.useState(l||{x:100,y:100}),[F,D]=O.useState(!1),T=O.useRef({x:0,y:0});O.useEffect(()=>{u&&u({channelMode:d,minVal:p,maxVal:v,binCount:y,pointToPoint:b})},[d,p,v,y,b]),O.useEffect(()=>{if(!e||!n||!a)return;if(v<=p){A("Invalid range: Max must be greater than Min");return}A(null),k(!0);const B=setTimeout(()=>{try{const ee=VZ(n.data,n.width,n.height,a.x,a.y,a.w,a.h,y,p,v,b);P(ee)}catch(ee){console.error("Histogram calc error:",ee),A("Error calculating histogram")}finally{k(!1)}},50);return()=>clearTimeout(B)},[e,n,a==null?void 0:a.x,a==null?void 0:a.y,a==null?void 0:a.w,a==null?void 0:a.h,y,p,v,b]);const L=B=>{s&&s(),!(B.target.closest("button")||B.target.closest("input")||B.target.closest("select"))&&(D(!0),T.current={x:B.clientX-N.x,y:B.clientY-N.y})};if(O.useEffect(()=>{const B=X=>{F&&E({x:X.clientX-T.current.x,y:X.clientY-T.current.y})},ee=()=>D(!1);return F&&(window.addEventListener("mousemove",B),window.addEventListener("mouseup",ee)),()=>{window.removeEventListener("mousemove",B),window.removeEventListener("mouseup",ee)}},[F]),!e)return null;const W=o?{c0:"Blue",c1:"Green 1",c2:"Green 2",c3:"Red"}:{c0:"Red",c1:"Green 1",c2:"Green 2",c3:"Blue"},I=o?{c0:"#3b82f6",c1:"#22c55e",c2:"#4ade80",c3:"#ef4444"}:{c0:"#ef4444",c1:"#22c55e",c2:"#4ade80",c3:"#3b82f6"},R="step";return f.jsxs("div",{className:"fixed flex flex-col bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 shadow-2xl rounded-xl resize-both overflow-hidden min-w-[500px] min-h-[400px] w-[900px] h-[600px]",style:{left:N.x,top:N.y,zIndex:i??100},onMouseDownCapture:s,children:[f.jsxs("div",{className:`flex justify-between items-center p-4 border-b border-gray-200 dark:border-slate-700 flex-shrink-0 bg-white dark:bg-slate-900 select-none ${F?"cursor-grabbing":"cursor-grab"}`,onMouseDown:L,children:[f.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-slate-100 pointer-events-none",children:"ROI Histogram"}),f.jsxs("div",{className:"flex items-center gap-1",children:[r&&f.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors",children:f.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),f.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 dark:hover:text-red-400 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors",children:f.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),f.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-800/50 flex flex-wrap gap-4 items-center border-b border-gray-200 dark:border-slate-700 text-sm flex-shrink-0 relative z-10",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-gray-500 dark:text-slate-400 font-semibold",children:"Channel:"}),f.jsxs("select",{value:d,onChange:B=>h(B.target.value),className:"bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-gray-900 dark:text-slate-100 outline-none focus:ring-1 focus:ring-cyan-500",children:[f.jsx("option",{value:"All",children:"All Colors"}),f.jsx("option",{value:"0",children:W.c0}),f.jsx("option",{value:"1",children:W.c1}),f.jsx("option",{value:"2",children:W.c2}),f.jsx("option",{value:"3",children:W.c3})]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-gray-500 dark:text-slate-400 font-semibold",children:"Range (DN):"}),f.jsx("input",{type:"number",value:p,onChange:B=>m(Number(B.target.value)),className:"w-20 px-2 py-1 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-gray-900 dark:text-slate-100 text-right"}),f.jsx("span",{className:"text-gray-400",children:"-"}),f.jsx("input",{type:"number",value:v,onChange:B=>x(Number(B.target.value)),className:"w-20 px-2 py-1 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-gray-900 dark:text-slate-100 text-right"})]}),f.jsxs("div",{className:"flex items-center gap-4 border-l border-gray-300 dark:border-slate-600 pl-4",children:[f.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[f.jsx("input",{type:"checkbox",checked:b,onChange:B=>S(B.target.checked),className:"w-4 h-4 text-cyan-600 rounded border-gray-300 focus:ring-cyan-500"}),f.jsx("span",{className:"text-gray-700 dark:text-slate-300 select-none",title:"High compute cost",children:"1:1 Point-to-Point"})]}),!b&&f.jsxs("div",{className:"flex items-center gap-2 animate-in fade-in",children:[f.jsx("span",{className:"text-gray-500 dark:text-slate-400 font-semibold",children:"Bins:"}),f.jsx("input",{type:"number",value:y,onChange:B=>g(Math.max(1,Number(B.target.value))),className:"w-16 px-2 py-1 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-gray-900 dark:text-slate-100 text-right"})]})]})]}),f.jsxs("div",{className:"flex-1 p-4 relative bg-white dark:bg-slate-900 overflow-hidden min-h-0",children:[f.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-0 pointer-events-none select-none opacity-10 mix-blend-normal dark:mix-blend-plus-lighter",children:f.jsx("svg",{viewBox:"0 0 500 60",className:"w-96 h-auto",children:f.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"36",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})}),w&&f.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-10 bg-white/50 dark:bg-slate-900/50 backdrop-blur-[1px]",children:f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("div",{className:"w-8 h-8 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mb-2"}),f.jsx("span",{className:"text-sm text-cyan-600 dark:text-cyan-400 font-semibold",children:"Calculating Histogram..."})]})}),_?f.jsx("div",{className:"flex items-center justify-center h-full text-red-500 relative z-10",children:_}):f.jsx("div",{className:"relative z-10 w-full h-full",children:f.jsx(Ss,{width:"100%",height:"100%",children:f.jsxs(kv,{data:j,children:[f.jsx(ji,{strokeDasharray:"3 3",stroke:"#374151",opacity:.3}),f.jsx(fa,{dataKey:"binStart",type:"number",domain:[p,v],tickFormatter:B=>Math.floor(B).toString(),tick:{fill:"#9ca3af",fontSize:12},allowDataOverflow:!0,label:{value:"DN Value",position:"insideBottom",offset:-5,fill:"#9ca3af",fontSize:12}}),f.jsx(da,{tick:{fill:"#9ca3af",fontSize:12},label:{value:"Count",angle:-90,position:"insideLeft",fill:"#9ca3af",fontSize:12}}),f.jsx(cn,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"0.5rem",color:"#f3f4f6"},itemStyle:{fontSize:"12px"},labelFormatter:B=>`DN: ${Math.round(Number(B))}`,formatter:B=>[B,"Count"]}),f.jsx(Va,{wrapperStyle:{paddingTop:"10px"}}),(d==="All"||d==="0")&&f.jsx(Yr,{type:R,dataKey:"c0",name:W.c0,stroke:I.c0,dot:!1,strokeWidth:1.5,activeDot:{r:4},isAnimationActive:!1}),(d==="All"||d==="1")&&f.jsx(Yr,{type:R,dataKey:"c1",name:W.c1,stroke:I.c1,dot:!1,strokeWidth:1.5,activeDot:{r:4},isAnimationActive:!1}),(d==="All"||d==="2")&&f.jsx(Yr,{type:R,dataKey:"c2",name:W.c2,stroke:I.c2,dot:!1,strokeWidth:1.5,activeDot:{r:4},isAnimationActive:!1}),(d==="All"||d==="3")&&f.jsx(Yr,{type:R,dataKey:"c3",name:W.c3,stroke:I.c3,dot:!1,strokeWidth:1.5,activeDot:{r:4},isAnimationActive:!1})]})})})]})]})},$h=({initialPosition:e={x:20,y:80},children:t,className:r="",onClose:n,zIndex:a,onFocus:o})=>{const[i,s]=O.useState(e),[l,c]=O.useState(!1),[u,d]=O.useState({x:0,y:0}),h=O.useRef(null),p=m=>{o&&o(),!(m.target.closest("button")||m.target.closest("input"))&&(c(!0),d({x:m.clientX-i.x,y:m.clientY-i.y}))};return O.useEffect(()=>{const m=x=>{var y,g;if(l){const b=x.clientX-u.x,S=x.clientY-u.y,w=window.innerWidth-(((y=h.current)==null?void 0:y.offsetWidth)||100),k=window.innerHeight-(((g=h.current)==null?void 0:g.offsetHeight)||100);s({x:Math.max(0,Math.min(b,w)),y:Math.max(0,Math.min(S,k))})}},v=()=>{c(!1)};return l&&(window.addEventListener("mousemove",m),window.addEventListener("mouseup",v)),()=>{window.removeEventListener("mousemove",m),window.removeEventListener("mouseup",v)}},[l,u]),f.jsxs("div",{ref:h,style:{left:i.x,top:i.y,zIndex:a??90},onMouseDownCapture:o,className:`fixed shadow-2xl rounded-xl border border-gray-200 dark:border-slate-700 bg-white/95 dark:bg-slate-900/90 backdrop-blur-md transition-shadow duration-200 ${l?"cursor-grabbing shadow-xl ring-2 ring-cyan-500/30":"shadow-lg"} ${r}`,children:[f.jsx("div",{onMouseDown:p,className:"absolute inset-0 w-full h-8 cursor-grab active:cursor-grabbing z-0",title:"Drag to move"}),f.jsx("div",{className:"relative z-10",children:t})]})},ZZ=({isOpen:e,onClose:t,rawImageData:r,roi:n,selectedChannel:a,channelName:o,zIndex:i,onFocus:s,initialPosition:l})=>{const c=O.useRef(null),[u,d]=O.useState(!1),[h,p]=O.useState(null),[m,v]=O.useState(null),[x,y]=O.useState(!0),[g,b]=O.useState(!0),[S,w]=O.useState("-1"),[k,j]=O.useState("8"),[P,_]=O.useState(64),[A,N]=O.useState(45),[E,F]=O.useState(60),D=O.useRef(!1),T=O.useRef({x:0,y:0});O.useEffect(()=>{!e||!r||!n||(d(!0),v(null),setTimeout(()=>{try{const R=XZ(r.data,r.width,r.height,n,a,g);R?p(R):v("Could not extract valid data from ROI.")}catch(R){console.error("2D FFT Error",R),v("Calculation Error: "+R.message)}finally{d(!1)}},50))},[e,r,n,a,g]),O.useEffect(()=>{if(!h||!c.current)return;const R=c.current,B=R.getContext("2d");if(!B)return;const ee=R.width,X=R.height;B.clearRect(0,0,ee,X),B.fillStyle="#0f172a",B.fillRect(0,0,ee,X);const G=h.width,U=h.height,ce=h.data,ue=Math.pow(10,parseFloat(S)||-1),be=Math.pow(10,parseFloat(k)||8);let xe=ue,V=be;x&&(xe=Math.log10(Math.max(1e-10,ue)),V=Math.log10(Math.max(1e-10,be)));const le=V-xe||1,ye=ee/2,Z=X/2+50,Ke=Math.min(ee,X)*.4,Pe=.6,Be=A*Math.PI/180,rt=E*Math.PI/180,Ot=Math.cos(Be),cr=Math.sin(Be),Dt=Math.cos(rt),$r=Math.sin(rt),nt=(Ge,Rt,Jt)=>{const mr=Ge*Ot-Rt*cr,Zr=Ge*cr+Rt*Ot,Sn=Zr*Dt-Jt*$r,Yt=Zr*$r+Jt*Dt;return{x:ye+mr*Ke,y:Z-Sn*Ke,depth:Yt}},ur=Math.max(16,P),Qt=Math.max(1,Math.floor(G/ur)),Fr=Math.max(1,Math.floor(U/ur)),Kt=(Ge,Rt)=>{let Jt=ce[Rt*G+Ge];return x&&(Jt=Math.log10(Math.max(1e-10,Jt))),Jt=Math.max(xe,Math.min(V,Jt)),(Jt-xe)/le},$n=Ge=>`hsl(${(1-Ge)*240}, 80%, 50%)`,Xt=[];for(let Ge=0;Ge<U-Fr;Ge+=Fr)for(let Rt=0;Rt<G-Qt;Rt+=Qt){const Jt=Rt,mr=Ge,Zr=Rt+Qt,Sn=Ge,Yt=Rt+Qt,Qr=Ge+Fr,at=Rt,Nr=Ge+Fr,br=Kt(Jt,mr),Jr=Kt(Zr,Sn),en=Kt(Yt,Qr),tn=Kt(at,Nr),rn=(br+Jr+en+tn)/4,Dn=nt(Jt/(G-1)-.5,mr/(U-1)-.5,br*Pe),_t=nt(Zr/(G-1)-.5,Sn/(U-1)-.5,Jr*Pe),K=nt(Yt/(G-1)-.5,Qr/(U-1)-.5,en*Pe),Ee=nt(at/(G-1)-.5,Nr/(U-1)-.5,tn*Pe),Nt=(Dn.depth+_t.depth+K.depth+Ee.depth)/4;Xt.push({pts:[{x:Dn.x,y:Dn.y},{x:_t.x,y:_t.y},{x:K.x,y:K.y},{x:Ee.x,y:Ee.y}],avgDepth:Nt,avgZ:rn})}Xt.sort((Ge,Rt)=>Ge.avgDepth-Rt.avgDepth),B.lineWidth=.5,Xt.forEach(Ge=>{B.fillStyle=$n(Ge.avgZ),B.beginPath(),B.moveTo(Ge.pts[0].x,Ge.pts[0].y),B.lineTo(Ge.pts[1].x,Ge.pts[1].y),B.lineTo(Ge.pts[2].x,Ge.pts[2].y),B.lineTo(Ge.pts[3].x,Ge.pts[3].y),B.closePath(),B.fill()}),B.fillStyle="#aaa",B.font="10px monospace";const pr=nt(-.5,-.5,0),gr=nt(.5,-.5,0),ar=nt(-.5,.5,0),fr=nt(.5,.5,0);B.strokeStyle="#666",B.beginPath(),B.moveTo(pr.x,pr.y),B.lineTo(gr.x,gr.y),B.lineTo(fr.x,fr.y),B.lineTo(ar.x,ar.y),B.closePath(),B.stroke(),B.fillText("0",pr.x-10,pr.y+10),B.fillText("Fx",gr.x+5,gr.y),B.fillText("Fy",ar.x-15,ar.y);const Pt=nt(-.5,-.5,Pe);B.strokeStyle="#fff",B.beginPath(),B.moveTo(pr.x,pr.y),B.lineTo(Pt.x,Pt.y),B.stroke(),B.fillText(`10^${k}`,Pt.x-25,Pt.y),B.fillText(`10^${S}`,pr.x-25,pr.y)},[h,x,A,E,S,k,P]);const L=R=>{D.current=!0,T.current={x:R.clientX,y:R.clientY}},W=R=>{if(!D.current)return;const B=R.clientX-T.current.x,ee=R.clientY-T.current.y;N(X=>X-B*.5),F(X=>Math.max(0,Math.min(90,X+ee*.5))),T.current={x:R.clientX,y:R.clientY}},I=()=>{D.current=!1};return e?f.jsxs($h,{initialPosition:l||{x:100,y:100},onClose:t,zIndex:i,onFocus:s,className:"w-[700px] h-[600px] bg-slate-900 border border-slate-700 flex flex-col overflow-hidden shadow-2xl",children:[f.jsxs("div",{className:"flex justify-between items-center px-4 py-2 border-b border-slate-700 bg-slate-800",children:[f.jsxs("h3",{className:"text-sm font-bold text-slate-200 flex items-center gap-2",children:["2D FFT Power Spectrum - ",o,h&&f.jsxs("span",{className:"text-[10px] font-normal text-slate-400 bg-slate-700 px-2 py-0.5 rounded",children:[h.width,"x",h.height," (Chirp-Z)"]})]}),f.jsx("div",{className:"flex items-center gap-2",children:f.jsx("button",{onClick:t,className:"text-slate-400 hover:text-red-400 transition-colors",children:f.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})})]}),f.jsxs("div",{className:"p-3 bg-slate-800/80 flex flex-wrap gap-4 text-xs items-center border-b border-slate-700",children:[f.jsxs("div",{className:"flex items-center gap-2 bg-slate-900 px-2 py-1 rounded border border-slate-600",children:[f.jsx("span",{className:"text-slate-400 font-bold",children:"Range (10^x):"}),f.jsx("input",{type:"number",value:S,onChange:R=>w(R.target.value),className:"w-10 bg-transparent text-slate-200 text-center border-b border-slate-600 focus:border-cyan-500 outline-none"}),f.jsx("span",{className:"text-slate-500",children:"to"}),f.jsx("input",{type:"number",value:k,onChange:R=>j(R.target.value),className:"w-10 bg-transparent text-slate-200 text-center border-b border-slate-600 focus:border-cyan-500 outline-none"})]}),f.jsxs("div",{className:"flex items-center gap-2 bg-slate-900 px-2 py-1 rounded border border-slate-600",children:[f.jsx("span",{className:"text-slate-400 font-bold",children:"Density:"}),f.jsx("input",{type:"range",min:"16",max:"128",step:"16",value:P,onChange:R=>_(Number(R.target.value)),className:"w-20 h-1.5 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-cyan-500"}),f.jsx("span",{className:"text-slate-300 w-6 text-right",children:P})]}),f.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none text-slate-300 hover:text-white",children:[f.jsx("input",{type:"checkbox",checked:x,onChange:R=>y(R.target.checked),className:"rounded bg-slate-700 border-slate-600 accent-cyan-500"}),"Log Z"]}),f.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none text-slate-300 hover:text-white",children:[f.jsx("input",{type:"checkbox",checked:g,onChange:R=>b(R.target.checked),className:"rounded bg-slate-700 border-slate-600 accent-fuchsia-500"}),"Hanning"]})]}),f.jsxs("div",{className:"flex-1 relative bg-slate-900 cursor-move",children:[u&&f.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-slate-900/80 z-20 backdrop-blur-sm",children:f.jsxs("div",{className:"flex flex-col items-center gap-2",children:[f.jsx("div",{className:"w-8 h-8 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin"}),f.jsx("span",{className:"text-cyan-400 font-bold animate-pulse text-sm",children:"Computing full-size 2D FFT..."})]})}),m&&f.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-slate-900/80 z-20 text-red-400 p-4 text-center",children:m}),f.jsx("canvas",{ref:c,width:700,height:500,className:"w-full h-full block",onMouseDown:L,onMouseMove:W,onMouseUp:I,onMouseLeave:I}),f.jsx("div",{className:"absolute bottom-2 right-2 text-[9px] text-slate-600 pointer-events-none",children:"Drag to Rotate"})]})]}):null},QZ=.5,bm=1e-10,M2=(e,t)=>{const r=e.length-1;if(r<0)return bm;const n=t/QZ*r,a=Math.round(n),o=e[Math.min(Math.max(0,a),r)]||0;return Math.max(o,bm)},JZ=(e,t)=>{if(t<=0)return[1];const r=new Array(e);let n=0;for(let a=0;a<e;a++){const o=a-(e-1)/2,i=Math.exp(-(o*o)/(2*t*t));r[a]=i,n+=i}for(let a=0;a<e;a++)r[a]/=n;return r},eQ=({isOpen:e,onClose:t,onMinimize:r,rawImageData:n,roi:a,isBGGR:o,onUpdateROI:i,zIndex:s,onFocus:l,initialPosition:c,initialInternalState:u,onUpdateState:d,stackFiles:h})=>{const[p,m]=O.useState((u==null?void 0:u.selectedChannel)??0),[v,x]=O.useState(()=>(u==null?void 0:u.yMinExp)||localStorage.getItem("fft_y_min")||"1.73"),[y,g]=O.useState(()=>(u==null?void 0:u.yMaxExp)||localStorage.getItem("fft_y_max")||"8.00"),[b,S]=O.useState((u==null?void 0:u.useHanning)??!0),[w,k]=O.useState((u==null?void 0:u.doAverage)??!0),[j,P]=O.useState((u==null?void 0:u.welchSegments)??1),[_,A]=O.useState((u==null?void 0:u.showH)??!0),[N,E]=O.useState((u==null?void 0:u.showV)??!0),[F,D]=O.useState((u==null?void 0:u.interlaceRows)??!1),[T,L]=O.useState((u==null?void 0:u.rowGroup)??0),[W,I]=O.useState((u==null?void 0:u.interlaceCols)??!1),[R,B]=O.useState((u==null?void 0:u.colGroup)??0),[ee,X]=O.useState(()=>(u==null?void 0:u.theoSigma)||localStorage.getItem("fft_theo_sigma")||"0.00"),[G,U]=O.useState(()=>(u==null?void 0:u.theoKernelSize)||localStorage.getItem("fft_theo_ksize")||"3"),[ce,ue]=O.useState(()=>(u==null?void 0:u.theoNoiseStd)||localStorage.getItem("fft_theo_noise")||"7.5"),[be,xe]=O.useState(()=>(u==null?void 0:u.theoScale)||localStorage.getItem("fft_theo_scale")||"1.0"),[V,le]=O.useState((u==null?void 0:u.intStart)||"0"),[ye,Z]=O.useState((u==null?void 0:u.intEnd)||"0.5"),[Ke,Pe]=O.useState(!1),[Be,rt]=O.useState([]),[Ot,cr]=O.useState(!1),[Dt,$r]=O.useState(0),[nt,ur]=O.useState(null),[Qt,Fr]=O.useState(!1),[Kt,$n]=O.useState(!1),[Xt,pr]=O.useState(null),[gr,ar]=O.useState(!1),[fr,Pt]=O.useState(null),[Ge,Rt]=O.useState(c||{x:50,y:50}),[Jt,mr]=O.useState(!1),[Zr,Sn]=O.useState(null),[Yt,Qr]=O.useState({}),at=O.useRef({x:0,y:0}),Nr=o?{c0:"#3b82f6",c1:"#22c55e",c2:"#4ade80",c3:"#ef4444"}:{c0:"#ef4444",c1:"#22c55e",c2:"#4ade80",c3:"#3b82f6"},br=O.useMemo(()=>o?{0:"Blue",1:"Green 1",2:"Green 2",3:"Red"}:{0:"Red",1:"Green 1",2:"Green 2",3:"Blue"},[o]);O.useEffect(()=>{localStorage.setItem("fft_y_min",v),localStorage.setItem("fft_y_max",y),localStorage.setItem("fft_theo_sigma",ee),localStorage.setItem("fft_theo_ksize",G),localStorage.setItem("fft_theo_noise",ce),localStorage.setItem("fft_theo_scale",be)},[v,y,ee,G,ce,be]),O.useEffect(()=>{if(!e||!n||!a)return;cr(!0),ur(null),$r(0);const J=setTimeout(async()=>{try{const de=p===-1?[0,1,2,3]:[p],ot=h&&h.length>1?h:[null],Et=ot.length,Fe={};let Ue={h:0,v:0};for(let Ne=0;Ne<Et;Ne++){$r(Ne+1);let wt;if(ot[Ne]){const it=await ot[Ne].arrayBuffer();wt=await Md(it)}else wt=n;for(const it of de){const dt=KZ(wt.data,wt.width,wt.height,a,it,!1,b,{rows:F,rowGroup:T,cols:W,colGroup:R},w,j);dt&&(Fe[it]||(Fe[it]={h:new Array(dt.avgHoriz.length).fill(0),v:new Array(dt.avgVert.length).fill(0)}),dt.avgHoriz.forEach((Je,nn)=>Fe[it].h[nn]+=Je/Et),dt.avgVert.forEach((Je,nn)=>Fe[it].v[nn]+=Je/Et),Ue=dt.sampleCount)}}if(Object.keys(Fe).length===0)throw new Error("ROI too small or no data found.");const Wt=1024,Lt=[];for(let Ne=0;Ne<Wt;Ne++){const wt=Ne/(Wt-1)*.5,it={freq:parseFloat(wt.toFixed(6))};for(const dt of de)Fe[dt]&&(it[`c${dt}_h`]=M2(Fe[dt].h,wt),it[`c${dt}_v`]=M2(Fe[dt].v,wt));Lt.push(it)}Sn(Ue),rt(Lt)}catch(de){console.error("FFT Loop Failed:",de),ur(de.message||"Unknown error during FFT processing")}finally{cr(!1)}},100);return()=>clearTimeout(J)},[e,n,a==null?void 0:a.x,a==null?void 0:a.y,a==null?void 0:a.w,a==null?void 0:a.h,p,b,w,j,F,T,W,R,h]);const Jr=()=>{const J=parseFloat(V),de=parseFloat(ye);if(isNaN(J)||isNaN(de))return;const ot={},Et=p===-1?[0,1,2,3]:[p],Fe=Be.filter(Ue=>Ue.freq>=J&&Ue.freq<=de);if(Fe.length===0){Qr({});return}Et.forEach(Ue=>{let Wt=0,Lt=0;Fe.forEach(Ne=>{const wt=Ne[`c${Ue}_h`],it=Ne[`c${Ue}_v`];typeof wt=="number"&&(Wt+=wt),typeof it=="number"&&(Lt+=it)}),ot[Ue]={h:Wt/Fe.length,v:Lt/Fe.length,count:Fe.length}}),Qr(ot)},en=O.useMemo(()=>{const J=parseFloat(ee),de=parseInt(G),ot=parseFloat(ce),Et=parseFloat(be);if(isNaN(J)||isNaN(de)||isNaN(ot)||isNaN(Et)||Be.length===0)return Be;const Fe=JZ(de,J),Ue=Fe.reduce((Ne,wt)=>Ne+wt*wt,0),Wt=(de-1)/2,Lt=ot*ot*Et;return Be.map(Ne=>{const wt=Ne.freq,it=2*Math.PI*wt;let dt=0,Je=0;for(let $e=0;$e<de;$e++){const pe=$e-Wt,zr=Fe[$e],pa=-it*pe;dt+=zr*Math.cos(pa),Je+=zr*Math.sin(pa)}const nn=dt*dt+Je*Je;return{...Ne,theory:Math.max(bm,Lt*Ue*nn)}})},[Be,ee,G,ce,be]),tn=J=>{J&&J.activeLabel!==void 0&&(ar(!0),Pt(Number(J.activeLabel)),pr(null))},rn=J=>{if(gr&&fr!==null&&J&&J.activeLabel!==void 0){const de=Number(J.activeLabel);pr([Math.min(fr,de),Math.max(fr,de)])}},Dn=()=>ar(!1),_t=J=>{l&&l(),!(J.target.closest("button")||J.target.closest("input"))&&(mr(!0),at.current={x:J.clientX-Ge.x,y:J.clientY-Ge.y})};O.useEffect(()=>{const J=ot=>{Jt&&Rt({x:ot.clientX-at.current.x,y:ot.clientY-at.current.y})},de=()=>mr(!1);return Jt&&(window.addEventListener("mousemove",J),window.addEventListener("mouseup",de)),()=>{window.removeEventListener("mousemove",J),window.removeEventListener("mouseup",de)}},[Jt]);const K=O.useMemo(()=>{if(!Xt||Be.length===0)return null;const[J,de]=Xt,ot=Be.filter(Ue=>Ue.freq>=J&&Ue.freq<=de);if(ot.length===0)return null;const Et=p===-1?[0,1,2,3]:[p],Fe={};return Et.forEach(Ue=>{["h","v"].forEach(Wt=>{const Lt=`c${Ue}_${Wt}`;let Ne=0,wt=0;for(const it of ot){const dt=it[Lt];typeof dt=="number"&&(Ne+=dt,wt++)}wt>0&&(Fe[`${Lt}_sigma`]=Math.sqrt(Ne/wt))})}),{count:ot.length,stats:Fe}},[Xt,Be,p]),Ee=()=>{if(Be.length===0)return;let J=1/0,de=-1/0;if(Be.forEach(Wt=>{Wt.freq<.01||Wt.freq>.49||Object.keys(Wt).forEach(Lt=>{if(Lt==="freq"||Lt==="theory")return;const Ne=Wt[Lt];typeof Ne=="number"&&Ne>0&&(Ne<J&&(J=Ne),Ne>de&&(de=Ne))})}),J===1/0)return;const ot=Math.log10(J),Et=Math.log10(de),Fe=Et-ot,Ue=(Fe===0?1:Fe)*.1;x((ot-Ue).toFixed(2)),g((Et+Ue).toFixed(2))},Nt=(J,de)=>{a&&i&&i({...a,x:a.x+J,y:a.y+de})},Qe=(J,de)=>{a&&i&&i({...a,w:Math.max(2,a.w+J),h:Math.max(2,a.h+de)})};return e?f.jsxs("div",{className:"fixed flex flex-col bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 shadow-2xl rounded-xl overflow-hidden resize-both min-w-[750px] min-h-[500px]",style:{left:Ge.x,top:Ge.y,width:"1000px",height:"850px",zIndex:s??100},onMouseDownCapture:l,children:[f.jsxs("div",{className:`flex justify-between items-center p-3 border-b border-gray-200 dark:border-slate-700 flex-shrink-0 bg-gray-50 dark:bg-slate-800 z-50 relative select-none ${Jt?"cursor-grabbing":"cursor-grab"}`,onMouseDown:_t,children:[f.jsxs("h2",{className:"text-lg font-bold text-gray-900 dark:text-slate-100 flex items-center gap-2 pointer-events-none",children:["Power Spectrum Analysis",f.jsx("span",{className:"text-[10px] font-normal bg-white dark:bg-slate-700 px-2 py-1 rounded text-gray-500 border border-gray-200 dark:border-slate-600 shadow-sm",children:h&&h.length>1?`Stack Avg (${h.length} frames)`:"Single Mode"})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[r&&f.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors",children:f.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),f.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 dark:hover:text-red-400 p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors",children:f.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),f.jsxs("div",{className:"flex flex-col bg-gray-50 dark:bg-slate-900/80 border-b border-gray-200 dark:border-slate-800 flex-shrink-0 z-40 relative px-4 py-3 gap-3 overflow-x-auto",children:[f.jsxs("div",{className:"flex items-center gap-6",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-[10px] font-bold text-gray-500 dark:text-slate-400 uppercase tracking-widest",children:"Channel"}),f.jsxs("div",{className:"flex bg-gray-100 dark:bg-slate-800 rounded-lg p-0.5 border border-gray-200 dark:border-slate-700 shadow-inner",children:[f.jsx("button",{onClick:()=>m(-1),className:`px-3 py-1 rounded text-[10px] font-bold transition-all ${p===-1?"bg-slate-700 text-white shadow-md":"text-gray-500 dark:text-slate-500 hover:bg-white dark:hover:bg-slate-700"}`,children:"All"}),[0,1,2,3].map(J=>f.jsx("button",{onClick:()=>m(J),className:`px-3 py-1 rounded text-[10px] font-bold transition-all ${p===J?"bg-cyan-600 text-white shadow-md":"text-gray-500 dark:text-slate-500 hover:bg-white dark:hover:bg-slate-700"}`,children:br[J]},J))]})]}),f.jsx("div",{className:"h-6 w-px bg-gray-200 dark:bg-slate-700 mx-2"}),f.jsxs("button",{onClick:()=>Pe(!0),className:"flex items-center gap-1.5 px-4 py-1.5 bg-indigo-600 hover:bg-indigo-500 text-white text-[10px] font-bold rounded-lg shadow-lg shadow-indigo-500/30 transition-all active:scale-95 group border border-indigo-400/30",children:[f.jsx("svg",{className:"w-3.5 h-3.5 group-hover:animate-pulse",fill:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"2D Diagonal"]}),f.jsx("div",{className:"h-6 w-px bg-gray-200 dark:bg-slate-700 mx-2"}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("span",{className:"text-[10px] font-bold text-indigo-500 dark:text-indigo-400 uppercase tracking-widest",children:"Model"}),f.jsx("div",{className:"flex gap-2",children:[{label:"KSize",val:G,set:U,w:"w-10"},{label:"Sigma",val:ee,set:X,w:"w-12"},{label:"Noise()",val:ce,set:ue,w:"w-12"},{label:"Scale",val:be,set:xe,w:"w-12"}].map(J=>f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("label",{className:"text-[8px] text-gray-400 dark:text-slate-500 uppercase font-bold mb-0.5",children:J.label}),f.jsx("input",{type:"text",value:J.val,onChange:de=>J.set(de.target.value),className:`${J.w} text-[11px] bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded px-1.5 py-0.5 text-center text-gray-900 dark:text-slate-100 outline-none focus:border-indigo-500 shadow-sm`})]},J.label))})]})]}),f.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[f.jsxs("div",{className:"flex items-center gap-3 mr-2",children:[f.jsx("span",{className:"text-[10px] font-bold text-fuchsia-600 dark:text-fuchsia-500 uppercase tracking-widest",children:"Welch"}),f.jsx("input",{type:"range",min:"1",max:"16",step:"1",value:j,onChange:J=>P(parseInt(J.target.value)),className:"w-24 h-1.5 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-fuchsia-500"}),f.jsx("span",{className:"text-[10px] font-mono text-fuchsia-600 dark:text-fuchsia-400 w-4 font-bold",children:j})]}),f.jsx("div",{className:"h-6 w-px bg-gray-200 dark:bg-slate-700"}),f.jsxs("div",{className:"flex flex-col gap-1 px-2",children:[f.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer text-[10px] text-gray-500 dark:text-slate-400 hover:text-gray-900 dark:hover:text-slate-200 select-none",children:[f.jsx("input",{type:"checkbox",checked:F,onChange:J=>D(J.target.checked),className:"w-3 h-3 rounded text-cyan-600 border-gray-300 dark:border-slate-700 bg-white dark:bg-slate-800"})," Row Int."]}),f.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer text-[10px] text-gray-500 dark:text-slate-400 hover:text-gray-900 dark:hover:text-slate-200 select-none",children:[f.jsx("input",{type:"checkbox",checked:W,onChange:J=>I(J.target.checked),className:"w-3 h-3 rounded text-cyan-600 border-gray-300 dark:border-slate-700 bg-white dark:bg-slate-800"})," Col Int."]})]}),f.jsxs("div",{className:"flex flex-col gap-1.5 bg-gray-100 dark:bg-slate-800/60 p-1.5 rounded-lg border border-gray-200 dark:border-slate-700",children:[f.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[f.jsx("div",{className:`w-3.5 h-3.5 rounded-md border flex items-center justify-center transition-colors ${b?"bg-fuchsia-600 border-fuchsia-600":"bg-white dark:bg-slate-900 border-gray-300 dark:border-slate-600"}`,children:b&&f.jsx("svg",{className:"w-2.5 h-2.5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:4,children:f.jsx("path",{d:"M5 13l4 4L19 7"})})}),f.jsx("input",{type:"checkbox",checked:b,onChange:J=>S(J.target.checked),className:"hidden"}),f.jsx("span",{className:"text-[10px] font-bold text-gray-700 dark:text-slate-300",children:"Hanning"})]}),f.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[f.jsx("div",{className:`w-3.5 h-3.5 rounded-md border flex items-center justify-center transition-colors ${w?"bg-cyan-600 border-cyan-600":"bg-white dark:bg-slate-900 border-gray-300 dark:border-slate-600"}`,children:w&&f.jsx("svg",{className:"w-2.5 h-2.5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:4,children:f.jsx("path",{d:"M5 13l4 4L19 7"})})}),f.jsx("input",{type:"checkbox",checked:w,onChange:J=>k(J.target.checked),className:"hidden"}),f.jsx("span",{className:"text-[10px] font-bold text-gray-700 dark:text-slate-300",children:"Average"})]})]}),f.jsxs("div",{className:"flex gap-2 bg-gray-100 dark:bg-slate-800 p-1 rounded-lg border border-gray-200 dark:border-slate-700",children:[f.jsxs("button",{onClick:()=>A(!_),className:`px-2.5 py-1 rounded-md border text-[11px] font-bold transition-all flex items-center gap-1.5 ${_?"bg-cyan-900/40 text-cyan-400 border-cyan-500 shadow-[0_0_8px_rgba(6,182,212,0.3)]":"bg-white dark:bg-slate-900 text-gray-400 border-gray-300 dark:border-slate-700"}`,children:[f.jsx("div",{className:`w-2 h-2 rounded-full ${_?"bg-cyan-400":"bg-gray-400"}`})," H"]}),f.jsxs("button",{onClick:()=>E(!N),className:`px-2.5 py-1 rounded-md border text-[11px] font-bold transition-all flex items-center gap-1.5 ${N?"bg-cyan-900/40 text-cyan-400 border-cyan-500 shadow-[0_0_8px_rgba(6,182,212,0.3)]":"bg-white dark:bg-slate-900 text-gray-400 border-gray-300 dark:border-slate-700"}`,children:[f.jsx("div",{className:`w-2 h-2 rounded-full ${N?"bg-cyan-400":"bg-gray-400"}`})," V"]})]}),f.jsxs("div",{className:"ml-auto flex gap-2",children:[f.jsx("button",{onClick:()=>$n(!Kt),className:`px-3 py-1.5 rounded-lg text-[10px] font-bold transition-all border ${Kt?"bg-emerald-600 text-white border-emerald-600 shadow-md":"bg-white dark:bg-slate-900 text-emerald-600 dark:text-emerald-400 border-emerald-200 dark:border-emerald-800 hover:bg-emerald-50"}`,children:""}),f.jsx("button",{onClick:()=>Fr(!Qt),className:`px-3 py-1.5 rounded-lg text-[10px] font-bold transition-all border ${Qt?"bg-indigo-600 text-white border-indigo-600 shadow-md":"bg-white dark:bg-slate-900 text-indigo-600 dark:text-indigo-400 border-indigo-200 dark:border-indigo-800 hover:bg-indigo-50"}`,children:"ROI"})]})]}),f.jsxs("div",{className:"flex items-center gap-4 justify-end border-t border-gray-200 dark:border-slate-800/50 pt-2.5",children:[f.jsx("button",{onClick:Ee,className:"px-4 py-1 text-[10px] font-bold bg-cyan-600/10 text-cyan-600 dark:text-cyan-400 hover:bg-cyan-600/20 rounded-md border border-cyan-500/30 transition-all uppercase tracking-widest shadow-sm",children:"Auto"}),f.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-bold text-gray-500 dark:text-slate-400 uppercase",children:["Y-AXIS (LOG)",f.jsxs("div",{className:"flex items-center bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-md overflow-hidden shadow-sm",children:[f.jsx("input",{type:"text",value:v,onChange:J=>x(J.target.value),className:"w-14 px-2 py-1 bg-transparent text-center outline-none text-gray-900 dark:text-slate-100 border-r border-gray-200 dark:border-slate-700"}),f.jsx("span",{className:"px-2 text-gray-400",children:"to"}),f.jsx("input",{type:"text",value:y,onChange:J=>g(J.target.value),className:"w-14 px-2 py-1 bg-transparent text-center outline-none text-gray-900 dark:text-slate-100"})]})]})]})]}),f.jsxs("div",{className:"flex-1 p-4 overflow-hidden flex flex-col gap-2 relative bg-gray-50/30 dark:bg-slate-900/30",children:[f.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none z-[50] select-none opacity-10",children:f.jsx("svg",{viewBox:"0 0 500 100",className:"w-3/4 h-auto drop-shadow-lg",children:f.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"24",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})}),Ot&&f.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center z-[55] bg-white/90 dark:bg-slate-900/90 backdrop-blur-[2px]",children:[f.jsx("div",{className:"w-10 h-10 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mb-4"}),f.jsx("span",{className:"text-cyan-600 dark:text-cyan-400 font-bold",children:"Computing FFT Stack..."}),h&&h.length>1&&f.jsxs("span",{className:"text-xs text-gray-500 mt-2 font-mono",children:["Processing frame ",Dt," / ",h.length]})]}),nt?f.jsx("div",{className:"flex items-center justify-center h-full text-red-500 font-semibold",children:nt}):f.jsxs("div",{className:"flex-1 bg-white dark:bg-slate-950 border border-gray-200 dark:border-slate-800 rounded-xl p-2 flex flex-col relative z-20 shadow-xl overflow-hidden",children:[f.jsx("div",{className:"flex-1 relative z-10",onMouseDown:tn,onMouseMove:rn,onMouseUp:Dn,style:{cursor:gr?"col-resize":"crosshair"},children:f.jsx(Ss,{width:"100%",height:"100%",children:f.jsxs(kv,{data:en,margin:{top:10,right:10,bottom:20,left:0},children:[f.jsx(ji,{strokeDasharray:"3 3",stroke:"#374151",opacity:.08}),f.jsx(fa,{dataKey:"freq",type:"number",domain:[0,.5],tickCount:6,tick:{fill:"#6b7280",fontSize:10},label:{value:"Frequency (cy/px)",position:"insideBottom",offset:-10,fill:"#6b7280",fontSize:11}}),f.jsx(da,{scale:"log",domain:[Math.pow(10,parseFloat(v)),Math.pow(10,parseFloat(y))],allowDataOverflow:!0,tick:{fill:"#6b7280",fontSize:10},tickFormatter:J=>Number(J).toExponential(0),width:45}),f.jsx(cn,{contentStyle:{backgroundColor:"rgba(15, 23, 42, 0.95)",border:"1px solid #334155",color:"#f3f4f6",fontSize:"11px",borderRadius:"8px"},formatter:J=>[Number(J).toExponential(3),""],labelFormatter:J=>`Freq: ${Number(J).toFixed(4)}`}),f.jsx(Va,{wrapperStyle:{fontSize:"10px"}}),f.jsx(Yr,{type:"monotone",dataKey:"theory",name:"Theory Model",stroke:"#6366f1",strokeWidth:2,dot:!1,isAnimationActive:!1}),[0,1,2,3].flatMap(J=>{if(p!==-1&&p!==J)return[];const de=`c${J}_h`,ot=`c${J}_v`,Et=Nr[`c${J}`],Fe=[];return _&&Fe.push(f.jsx(Yr,{type:"linear",dataKey:de,name:`${br[J]} (H)`,stroke:Et,strokeWidth:1,dot:!1,isAnimationActive:!1},`${J}_h`)),N&&Fe.push(f.jsx(Yr,{type:"linear",dataKey:ot,name:`${br[J]} (V)`,stroke:Et,strokeWidth:1,strokeDasharray:"3 3",dot:!1,isAnimationActive:!1},`${J}_v`)),Fe}),Xt&&f.jsx(su,{x1:Xt[0],x2:Xt[1],fill:"#8884d8",fillOpacity:.15})]})})}),K&&Xt&&f.jsxs("div",{className:"absolute bottom-12 left-12 bg-slate-900/90 backdrop-blur-md p-3 rounded-lg border border-indigo-500/50 shadow-2xl z-30 text-[10px] font-mono text-slate-100",children:[f.jsxs("div",{className:"text-indigo-400 font-bold mb-1 border-b border-indigo-500/30 pb-1",children:["Range: ",Xt[0].toFixed(3),"-",Xt[1].toFixed(3)]}),Object.entries(K.stats).map(([J,de])=>f.jsxs("div",{className:"flex justify-between gap-4",children:[f.jsxs("span",{className:"text-slate-400",children:[J,":"]}),f.jsx("span",{className:"font-bold text-cyan-400",children:de.toFixed(5)})]},J))]})]})]}),Kt&&f.jsxs("div",{className:"absolute top-48 right-8 z-[55] w-72 bg-white dark:bg-slate-900 rounded-xl shadow-2xl border border-gray-200 dark:border-slate-700 p-4 animate-in slide-in-from-top-2",children:[f.jsx("h4",{className:"text-[10px] uppercase font-bold text-emerald-600 dark:text-emerald-400 mb-2 border-b border-gray-100 dark:border-slate-800 pb-1",children:"Range Averaging"}),f.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[f.jsx("input",{type:"number",step:"0.01",value:V,onChange:J=>le(J.target.value),className:"w-16 px-1 py-0.5 text-xs border rounded bg-transparent dark:border-slate-600 dark:text-white"}),f.jsx("span",{className:"text-gray-400",children:"-"}),f.jsx("input",{type:"number",step:"0.01",value:ye,onChange:J=>Z(J.target.value),className:"w-16 px-1 py-0.5 text-xs border rounded bg-transparent dark:border-slate-600 dark:text-white"}),f.jsx("button",{onClick:Jr,className:"flex-1 bg-emerald-600 text-white text-[10px] font-bold py-1 rounded",children:"Avg"})]}),f.jsx("div",{className:"flex flex-col gap-2 max-h-48 overflow-y-auto",children:[0,1,2,3].map(J=>{const de=Yt[J];if(!de)return null;const ot=Nr[`c${J}`];return f.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800/50 p-2 rounded text-[10px] border border-gray-100 dark:border-slate-800",children:[f.jsxs("div",{className:"flex items-center gap-2 font-bold mb-1",style:{color:ot},children:[br[J]," ",f.jsxs("span",{className:"text-gray-400 font-normal",children:["(",de.count," pts)"]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-x-2 text-gray-700 dark:text-slate-300 font-mono",children:[f.jsxs("div",{children:["H: ",de.h.toExponential(3)]}),f.jsxs("div",{children:["V: ",de.v.toExponential(3)]})]})]},J)})})]}),Qt&&f.jsx("div",{className:"absolute top-48 right-8 z-[55] w-56 bg-white dark:bg-slate-900 rounded-xl shadow-2xl border border-gray-200 dark:border-slate-700 p-4 animate-in slide-in-from-top-2",children:f.jsxs("div",{className:"flex flex-col gap-3",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"text-[9px] uppercase font-bold text-gray-400 mb-1",children:"Move"}),f.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[f.jsx("div",{}),f.jsx("button",{onClick:()=>Nt(0,-1),className:"p-1.5 bg-gray-100 dark:bg-slate-800 rounded",children:""}),f.jsx("div",{}),f.jsx("button",{onClick:()=>Nt(-1,0),className:"p-1.5 bg-gray-100 dark:bg-slate-800 rounded",children:""}),f.jsx("div",{}),f.jsx("button",{onClick:()=>Nt(1,0),className:"p-1.5 bg-gray-100 dark:bg-slate-800 rounded",children:""}),f.jsx("div",{}),f.jsx("button",{onClick:()=>Nt(0,1),className:"p-1.5 bg-gray-100 dark:bg-slate-800 rounded",children:""}),f.jsx("div",{})]})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-[9px] uppercase font-bold text-gray-400 mb-1",children:"Size"}),f.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[f.jsx("button",{onClick:()=>Qe(2,0),className:"p-1 bg-gray-100 dark:bg-slate-800 rounded",children:"W+"}),f.jsx("button",{onClick:()=>Qe(-2,0),className:"p-1 bg-gray-100 dark:bg-slate-800 rounded",children:"W-"}),f.jsx("button",{onClick:()=>Qe(0,2),className:"p-1 bg-gray-100 dark:bg-slate-800 rounded",children:"H+"}),f.jsx("button",{onClick:()=>Qe(0,-2),className:"p-1 bg-gray-100 dark:bg-slate-800 rounded",children:"H-"})]})]})]})}),f.jsx(ZZ,{isOpen:Ke,onClose:()=>Pe(!1),rawImageData:n,roi:a,selectedChannel:p===-1?0:p,channelName:p===-1?"Red (Default)":br[p],zIndex:s?s+2:102,onFocus:l})]}):null},tQ=({isOpen:e,onClose:t,onMinimize:r,rawImageData:n,roi:a,isBGGR:o,zIndex:i,onFocus:s,initialPosition:l,initialInternalState:c,onUpdateState:u})=>{const[d,h]=O.useState((c==null?void 0:c.selectedChannelKey)||"G1"),[p,m]=O.useState((c==null?void 0:c.blackLevel)??0),[v,x]=O.useState((c==null?void 0:c.whiteLevel)??16383),[y,g]=O.useState(null),[b,S]=O.useState(!1),[w,k]=O.useState(null),[j,P]=O.useState(l||{x:150,y:150}),[_,A]=O.useState(!1),N=O.useRef({x:0,y:0});O.useEffect(()=>{u&&u({selectedChannelKey:d,blackLevel:p,whiteLevel:v})},[d,p,v]),O.useEffect(()=>{if(e&&n&&!c){const T=n.blackLevels?Math.floor(n.blackLevels[1]):0;m(T),x(n.whiteLevel||16383),g(null)}},[e,n]);const E=()=>{if(!n||!a)return;k(null),S(!0);const L=(o?{B:0,G1:1,G2:2,R:3}:{R:0,G1:1,G2:2,B:3})[d];setTimeout(()=>{try{const W=YZ(n.data,n.width,n.height,a,L,p,v);W?g(W):(k("No data found in selection with current filters."),g(null))}catch(W){console.error("Analysis failed:",W),k(W.message||"Analysis error")}finally{S(!1)}},50)},F=T=>{s&&s(),!(T.target.closest("button")||T.target.closest("input")||T.target.closest("select"))&&(A(!0),N.current={x:T.clientX-j.x,y:T.clientY-j.y})};if(O.useEffect(()=>{const T=W=>{_&&P({x:W.clientX-N.current.x,y:W.clientY-N.current.y})},L=()=>A(!1);return _&&(window.addEventListener("mousemove",T),window.addEventListener("mouseup",L)),()=>{window.removeEventListener("mousemove",T),window.removeEventListener("mouseup",L)}},[_]),!e)return null;const D=o?["B","G1","G2","R"]:["R","G1","G2","B"];return f.jsxs("div",{className:"fixed flex flex-col bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 shadow-2xl rounded-xl resize-both overflow-hidden min-w-[500px] min-h-[400px] w-[900px] h-[700px]",style:{left:j.x,top:j.y,zIndex:i??100},onMouseDownCapture:s,children:[f.jsxs("div",{className:`flex justify-between items-center p-4 border-b border-gray-200 dark:border-slate-700 bg-white dark:bg-slate-900 select-none ${_?"cursor-grabbing":"cursor-grab"}`,onMouseDown:F,children:[f.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-slate-100 flex items-center gap-2 pointer-events-none",children:"Quantization Step Analysis"}),f.jsxs("div",{className:"flex items-center gap-1",children:[r&&f.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors",children:f.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),f.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 p-2",children:f.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),f.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-800/50 border-b border-gray-200 dark:border-slate-700 flex flex-wrap gap-4 items-end flex-shrink-0",children:[f.jsxs("div",{className:"flex flex-col gap-1",children:[f.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"Channel"}),f.jsx("select",{value:d,onChange:T=>h(T.target.value),className:"bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded px-3 py-1.5 text-sm text-gray-900 dark:text-slate-100 outline-none focus:ring-1 focus:ring-cyan-500 min-w-[80px]",children:D.map(T=>f.jsx("option",{value:T,children:T},T))})]}),f.jsxs("div",{className:"flex flex-col gap-1",children:[f.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"Black Level"}),f.jsx("input",{type:"number",value:p,onChange:T=>m(Number(T.target.value)),className:"w-24 px-3 py-1.5 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-sm text-gray-900 dark:text-slate-100"})]}),f.jsxs("div",{className:"flex flex-col gap-1",children:[f.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"White Level"}),f.jsx("input",{type:"number",value:v,onChange:T=>x(Number(T.target.value)),className:"w-24 px-3 py-1.5 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-sm text-gray-900 dark:text-slate-100"})]}),f.jsx("button",{onClick:E,disabled:b,className:"mb-0.5 px-5 py-1.5 bg-cyan-600 hover:bg-cyan-500 text-white font-bold rounded shadow-sm hover:shadow transition-colors disabled:opacity-50 text-sm",children:b?"Analyzing...":"Run Analysis"})]}),f.jsxs("div",{className:"flex-1 overflow-y-auto p-4 flex flex-col gap-4 bg-white dark:bg-slate-900 min-h-0",children:[w&&f.jsx("div",{className:"p-3 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 rounded text-sm text-center flex-shrink-0",children:w}),!y&&!b&&!w&&f.jsx("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-400 dark:text-slate-500 h-full",children:f.jsx("p",{children:"Configure parameters and click Run Analysis"})}),y&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 flex-shrink-0",children:[f.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 rounded-lg border border-gray-200 dark:border-slate-700 text-center",children:[f.jsx("div",{className:"text-xs text-gray-500 dark:text-slate-400 uppercase mb-1",children:"Unique Codes"}),f.jsx("div",{className:"text-xl font-bold text-gray-900 dark:text-slate-100",children:y.uniqueCount})]}),f.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 rounded-lg border border-gray-200 dark:border-slate-700 text-center",children:[f.jsx("div",{className:"text-xs text-gray-500 dark:text-slate-400 uppercase mb-1",children:"Total Diffs"}),f.jsx("div",{className:"text-xl font-bold text-gray-900 dark:text-slate-100",children:y.diffCount})]})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800/50 rounded-xl border border-gray-200 dark:border-slate-700 overflow-hidden flex-shrink-0",children:[f.jsx("div",{className:"px-4 py-2 bg-gray-50 dark:bg-slate-800 border-b border-gray-200 dark:border-slate-700 text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"Step Distribution"}),f.jsx("div",{className:"p-4 flex flex-wrap gap-x-8 gap-y-2 text-sm font-mono max-h-32 overflow-y-auto",children:Object.entries(y.stepCounts).sort((T,L)=>parseFloat(T[0])-parseFloat(L[0])).map(([T,L])=>f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("span",{className:"text-gray-500 dark:text-slate-400",children:["Step ",T,":"]}),f.jsx("span",{className:"text-cyan-600 dark:text-cyan-400 font-bold",children:String(L)})]},T))})]}),f.jsxs("div",{className:"flex-1 bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 rounded-xl p-2 relative overflow-hidden min-h-[300px]",children:[f.jsx("div",{className:"absolute top-2 left-4 text-xs font-bold text-gray-400 dark:text-slate-500 pointer-events-none z-20 bg-white/80 dark:bg-slate-900/80 px-2 rounded",children:"Step Size vs Code Value"}),f.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-0 pointer-events-none select-none opacity-10 mix-blend-normal dark:mix-blend-plus-lighter",children:f.jsx("svg",{viewBox:"0 0 500 60",className:"w-96 h-auto",children:f.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"36",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})}),f.jsx("div",{className:"relative z-10 w-full h-full",children:f.jsx(Ss,{width:"100%",height:"100%",children:f.jsxs(kv,{data:y.plotData,margin:{top:20,right:20,bottom:20,left:10},children:[f.jsx(ji,{strokeDasharray:"3 3",stroke:"#374151",opacity:.1}),f.jsx(fa,{dataKey:"x",type:"number",domain:["auto","auto"],tick:{fill:"#9ca3af",fontSize:10},label:{value:"Code Value (Shifted)",position:"insideBottom",offset:-10,fill:"#9ca3af",fontSize:11}}),f.jsx(da,{tick:{fill:"#9ca3af",fontSize:10},domain:[0,"auto"],allowDataOverflow:!1,label:{value:"Step Size (Delta)",angle:-90,position:"insideLeft",fill:"#9ca3af",fontSize:11}}),f.jsx(cn,{contentStyle:{backgroundColor:"rgba(17, 24, 39, 0.95)",border:"1px solid #374151",borderRadius:"0.5rem",color:"#f3f4f6",fontSize:"12px"},labelFormatter:T=>`Val: ${T}`,formatter:T=>[T,"Step Size"]}),f.jsx(Yr,{type:"stepAfter",dataKey:"y",stroke:"#0891b2",strokeWidth:1.5,dot:{r:1.5,fill:"#0891b2",strokeWidth:0},activeDot:{r:4},isAnimationActive:!1})]})})})]})]})]})]})},rQ=({isOpen:e,onClose:t,rawImageData:r,roi:n,isBGGR:a,zIndex:o,onFocus:i,initialPosition:s,stackFiles:l})=>{const[c,u]=O.useState("cross"),[d,h]=O.useState("R"),[p,m]=O.useState("B"),[v,x]=O.useState("H"),[y,g]=O.useState(null),[b,S]=O.useState(!1),[w,k]=O.useState(0),[j,P]=O.useState(0),[_,A]=O.useState("single"),N=a?{B:0,G1:1,G2:2,R:3}:{R:0,G1:1,G2:2,B:3},E=a?["B","G1","G2","R"]:["R","G1","G2","B"],F=async D=>{if(!r||!n)return;S(!0),A(D),k(0),g(null);let T=N[d],L=c==="cross"?N[p]:T,W=0,I=0;c==="self"&&(v==="H"?I=2:W=2),setTimeout(async()=>{try{let R={sumCov:0,sumVar1:0,sumVar2:0,n:0};if(D==="single")R=N2(r.data,r.width,r.height,n,T,L,W,I);else if(l&&l.length>0)for(let B=0;B<l.length;B++){k(B+1);const ee=await l[B].arrayBuffer(),X=await Md(ee),G=N2(X.data,X.width,X.height,n,T,L,W,I);R.sumCov+=G.sumCov,R.sumVar1+=G.sumVar1,R.sumVar2+=G.sumVar2,R.n+=G.n}P(R.n),g(HZ(R))}catch(R){console.error("Pearson calculation failed",R),alert("Calculation error: "+R.message)}finally{S(!1)}},50)};return e?f.jsxs($h,{initialPosition:s||{x:200,y:200},onClose:t,zIndex:o,onFocus:i,className:"w-80 bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 flex flex-col shadow-2xl overflow-hidden",children:[f.jsxs("div",{className:"flex justify-between items-center px-4 py-3 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800",children:[f.jsxs("h3",{className:"text-sm font-bold text-gray-700 dark:text-slate-200 flex items-center gap-2",children:["Pearson Correlation",f.jsx("span",{className:"text-[10px] font-normal bg-white dark:bg-slate-700 px-1.5 py-0.5 rounded border border-gray-200 dark:border-slate-600",children:"r"})]}),f.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 transition-colors",children:f.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),f.jsxs("div",{className:"p-4 flex flex-col gap-4",children:[f.jsxs("div",{className:"flex bg-gray-100 dark:bg-slate-800 p-1 rounded-lg border border-gray-200 dark:border-slate-700",children:[f.jsx("button",{onClick:()=>u("cross"),className:`flex-1 py-1 text-[10px] font-bold rounded transition-all ${c==="cross"?"bg-indigo-600 text-white shadow":"text-gray-500 dark:text-slate-400 hover:bg-gray-200 dark:hover:bg-slate-700"}`,children:"Cross-Channel"}),f.jsx("button",{onClick:()=>u("self"),className:`flex-1 py-1 text-[10px] font-bold rounded transition-all ${c==="self"?"bg-indigo-600 text-white shadow":"text-gray-500 dark:text-slate-400 hover:bg-gray-200 dark:hover:bg-slate-700"}`,children:"Self-Adjacent"})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("div",{className:"flex-1 flex flex-col gap-1",children:[f.jsx("label",{className:"text-[9px] uppercase font-bold text-gray-400",children:c==="cross"?"Channel 1":"Channel"}),f.jsx("select",{value:d,onChange:D=>h(D.target.value),className:"bg-gray-100 dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded px-2 py-1.5 text-xs text-gray-700 dark:text-slate-200 outline-none focus:ring-1 focus:ring-indigo-500",children:E.map(D=>f.jsx("option",{value:D,children:D},D))})]}),f.jsx("div",{className:"text-gray-300 dark:text-slate-600 mt-4 font-mono",children:c==="cross"?"":""}),f.jsxs("div",{className:"flex-1 flex flex-col gap-1",children:[f.jsx("label",{className:"text-[9px] uppercase font-bold text-gray-400",children:c==="cross"?"Channel 2":"Direction"}),c==="cross"?f.jsx("select",{value:p,onChange:D=>m(D.target.value),className:"bg-gray-100 dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded px-2 py-1.5 text-xs text-gray-700 dark:text-slate-200 outline-none focus:ring-1 focus:ring-indigo-500",children:E.map(D=>f.jsx("option",{value:D,children:D},D))}):f.jsxs("div",{className:"flex h-[28px] bg-gray-100 dark:bg-slate-800 rounded border border-gray-200 dark:border-slate-700 p-0.5",children:[f.jsx("button",{onClick:()=>x("H"),className:`flex-1 text-[9px] font-bold rounded ${v==="H"?"bg-slate-300 dark:bg-slate-600 text-indigo-600 dark:text-indigo-400":"text-gray-400"}`,children:"Horiz"}),f.jsx("button",{onClick:()=>x("V"),className:`flex-1 text-[9px] font-bold rounded ${v==="V"?"bg-slate-300 dark:bg-slate-600 text-indigo-600 dark:text-indigo-400":"text-gray-400"}`,children:"Vert"})]})]})]}),f.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[f.jsx("button",{onClick:()=>F("single"),disabled:b,className:"w-full py-2 bg-indigo-600 hover:bg-indigo-500 disabled:bg-gray-400 text-white font-bold rounded shadow-md transition-all active:scale-95 text-xs",children:b&&_==="single"?"Calculating...":"Calc Current Frame"}),l&&l.length>0&&f.jsxs("button",{onClick:()=>F("stack"),disabled:b,className:"w-full py-2 bg-emerald-600 hover:bg-emerald-500 disabled:bg-gray-400 text-white font-bold rounded shadow-md transition-all active:scale-95 text-xs flex flex-col items-center justify-center",children:[f.jsx("span",{children:"Calc Stack Concatenated"}),b&&_==="stack"&&f.jsxs("span",{className:"text-[9px] font-normal opacity-80",children:["Progress: ",w," / ",l.length]})]})]}),y!==null&&f.jsxs("div",{className:"mt-2 p-4 bg-gray-50 dark:bg-slate-800/50 rounded-xl border border-gray-200 dark:border-slate-700 text-center animate-in fade-in slide-in-from-top-2",children:[f.jsxs("div",{className:"text-[10px] uppercase font-bold text-gray-400 dark:text-slate-500 mb-1",children:[c==="cross"?"Cross-Channel":`Self-Adj (${v})`," r"]}),f.jsx("div",{className:"text-2xl font-mono font-bold text-indigo-600 dark:text-indigo-400 select-all",style:{fontSize:"24px"},children:y.toFixed(5)}),f.jsxs("div",{className:"text-[9px] text-gray-400 mt-2 font-mono",children:["N = ",j.toLocaleString()," pairs"]}),f.jsx("div",{className:"mt-3 text-[10px] font-bold",children:Math.abs(y)>.5?f.jsx("span",{className:"text-red-500",children:"Significant Correlation"}):Math.abs(y)>.1?f.jsx("span",{className:"text-amber-500",children:"Weak Correlation"}):f.jsx("span",{className:"text-emerald-500",children:"Near-Zero (Uncorrelated)"})})]})]}),f.jsx("div",{className:"p-3 bg-gray-50/50 dark:bg-slate-800/30 text-[9px] text-gray-400 dark:text-slate-600 italic border-t border-gray-100 dark:border-slate-800",children:c==="cross"?"Comparing two color channels in the same Bayer 2x2 cells.":`Comparing pixel (r,c) with (r${v==="V"?"+2":""}, c${v==="H"?"+2":""}) in the same channel.`})]}):null},nQ=[{href:"https://y-g-jiang.github.io/LAC.html",text:"",abbr:"LAC",description:""},{href:"https://y-g-jiang.github.io/CCGV.html",text:"adobeIECMF",abbr:"CCGV",description:"acrRAWxy"},{href:"https://y-g-jiang.github.io/JTJS.html",text:"",abbr:"JTJS",description:"CMF/"},{href:"https://y-g-jiang.github.io/CBLD.html",text:"",abbr:"CBLD",description:""},{href:"https://y-g-jiang.github.io/XJZS.html",text:"",abbr:"XJZS",description:""}],aQ=({isOpen:e,onClose:t})=>e?f.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",onClick:t,children:f.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-3xl rounded-2xl shadow-2xl border border-gray-200 dark:border-slate-700 overflow-hidden flex flex-col max-h-[90vh]",onClick:r=>r.stopPropagation(),children:[f.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50",children:[f.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"About / Tools"}),f.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 transition-colors p-1 rounded hover:bg-gray-200 dark:hover:bg-slate-700",children:f.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),f.jsxs("div",{className:"p-6 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-slate-700",children:[f.jsx("div",{className:"mb-8 p-4 bg-gray-50 dark:bg-slate-800/50 rounded-xl border border-gray-100 dark:border-slate-700 text-center",children:f.jsxs("p",{className:"text-lg text-gray-700 dark:text-slate-300",children:[f.jsx("span",{className:"font-bold mr-2",children:"about:"}),f.jsx("a",{href:"https://y-g-jiang.github.io/JOindex.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline break-all font-mono",children:"https://y-g-jiang.github.io/JOindex.html"})]})}),f.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[f.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 flex-1"}),f.jsx("span",{className:"text-sm font-bold text-gray-400 dark:text-slate-500 uppercase tracking-wider",children:"Tools Collection"}),f.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 flex-1"})]}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:nQ.map(r=>f.jsxs("a",{href:r.href,target:"_blank",rel:"noopener noreferrer",className:"group block p-4 rounded-xl border border-gray-200 dark:border-slate-700 bg-white dark:bg-slate-800/30 hover:bg-gray-50 dark:hover:bg-slate-800 hover:border-cyan-500 dark:hover:border-cyan-500 hover:shadow-md transition-all duration-200 relative overflow-hidden",children:[f.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-gradient-to-bl from-cyan-500/5 to-transparent -mr-8 -mt-8 rounded-full pointer-events-none group-hover:from-cyan-500/10 transition-colors"}),f.jsxs("div",{className:"flex items-center gap-3 mb-2 relative z-10",children:[f.jsx("span",{className:"px-2 py-1 text-xs font-bold bg-gray-100 dark:bg-slate-700 text-gray-600 dark:text-slate-300 group-hover:bg-cyan-100 dark:group-hover:bg-cyan-900/50 group-hover:text-cyan-700 dark:group-hover:text-cyan-300 rounded transition-colors border border-gray-200 dark:border-slate-600 group-hover:border-cyan-200 dark:group-hover:border-cyan-800",children:r.abbr}),f.jsx("h3",{className:"font-bold text-gray-800 dark:text-slate-200 group-hover:text-cyan-600 dark:group-hover:text-cyan-400 transition-colors",children:r.text})]}),f.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400 pl-1 group-hover:text-gray-600 dark:group-hover:text-slate-300 transition-colors relative z-10",children:r.description})]},r.abbr))})]})]})}):null,oQ=({isOpen:e,onClose:t,data:r,fileName:n,warning:a})=>{const[o,i]=O.useState(""),s=u=>{const d=new WeakSet;try{return JSON.stringify(u,(h,p)=>{if(typeof p=="bigint")return p.toString()+"n";if(typeof p=="object"&&p!==null){if(d.has(p))return"[Circular]";if(d.add(p),ArrayBuffer.isView(p))return`[${p.constructor.name}]`}return p})}catch{return"[Unable to serialize object]"}},l=O.useMemo(()=>{if(!r)return[];const u=[],d=(h,p=0)=>{if(p>5)return"...";if(h==null)return String(h);if(h instanceof Date)return h.toLocaleString();if(typeof h=="number")return h.toString();if(typeof h=="string")return h;if(typeof h=="bigint")return h.toString()+"n";if(ArrayBuffer.isView(h))return`<${h.constructor.name} len=${h.length} bytes=${h.byteLength}>`;if(h instanceof ArrayBuffer)return`<ArrayBuffer bytes=${h.byteLength}>`;if(typeof h=="object"){if(Array.isArray(h))return h.length===0?"[]":h.length>20?`[${h.slice(0,10).map(x=>typeof x=="number"?x.toFixed(2):d(x,p+1)).join(", ")}, ... (+${h.length-10} more)]`:`[${h.map(v=>typeof v=="number"?Number.isInteger(v)?v:v.toFixed(4):d(v,p+1)).join(", ")}]`;try{const m=Object.keys(h);return m.length>5?`{Object with ${m.length} keys}`:s(h)}catch{return"<Complex Object>"}}return String(h)};try{if(typeof r!="object")return[{key:"Value",value:String(r)}];Object.keys(r).sort().forEach(p=>{if(p==="MakerNote"||p==="UserComment"||p.includes("Strip")||p.includes("Offset")){u.push({key:p,value:"<Binary/Internal Data>"});return}const m=r[p];u.push({key:p,value:d(m)})})}catch(h){console.error("Error processing EXIF data:",h),u.push({key:"Error",value:"Failed to process metadata structure."})}return u},[r]);if(!e)return null;const c=l.filter(u=>u.key.toLowerCase().includes(o.toLowerCase())||u.value.toLowerCase().includes(o.toLowerCase()));return f.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",onClick:t,children:f.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-3xl max-h-[90vh] rounded-2xl shadow-2xl flex flex-col border border-gray-200 dark:border-slate-700",onClick:u=>u.stopPropagation(),children:[f.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-gray-200 dark:border-slate-700",children:[f.jsxs("div",{className:"overflow-hidden",children:[f.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-slate-100",children:"EXIF Data"}),f.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mt-1 font-mono truncate",children:n})]}),f.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 transition-colors p-2 rounded-full hover:bg-gray-100 dark:hover:bg-slate-800",children:f.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a&&f.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 px-4 py-2 border-b border-amber-100 dark:border-amber-800/50 text-center",children:f.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400 whitespace-pre-line font-medium leading-relaxed",children:a})}),f.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50",children:f.jsxs("div",{className:"relative",children:[f.jsx("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),f.jsx("input",{type:"text",placeholder:"Search tags...",value:o,onChange:u=>i(u.target.value),className:"w-full pl-9 pr-4 py-2 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded-lg text-sm focus:ring-2 focus:ring-cyan-500 outline-none text-gray-900 dark:text-slate-100 transition-colors placeholder-gray-400"})]})}),f.jsx("div",{className:"overflow-y-auto flex-1 p-0 scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-slate-700",children:c.length>0?f.jsxs("table",{className:"w-full text-left border-collapse table-fixed",children:[f.jsx("thead",{className:"bg-gray-50 dark:bg-slate-800 sticky top-0 shadow-sm z-10",children:f.jsxs("tr",{children:[f.jsx("th",{className:"py-3 px-5 font-semibold text-xs text-gray-500 dark:text-slate-400 uppercase tracking-wider w-1/3 border-b border-gray-200 dark:border-slate-700",children:"Tag Name"}),f.jsx("th",{className:"py-3 px-5 font-semibold text-xs text-gray-500 dark:text-slate-400 uppercase tracking-wider w-2/3 border-b border-gray-200 dark:border-slate-700",children:"Value"})]})}),f.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-slate-800",children:c.map(u=>f.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-800/50 transition-colors group",children:[f.jsx("td",{className:"py-2 px-5 text-sm font-medium text-cyan-600 dark:text-cyan-400 font-mono break-words align-top",children:u.key}),f.jsx("td",{className:"py-2 px-5 text-sm text-gray-700 dark:text-slate-300 font-mono break-words align-top group-hover:text-gray-900 dark:group-hover:text-slate-100",children:u.value})]},u.key))})]}):f.jsx("div",{className:"flex flex-col items-center justify-center h-64 text-gray-400 dark:text-slate-500",children:f.jsxs("p",{children:['No tags found matching "',o,'"']})})}),f.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50 flex justify-end rounded-b-2xl",children:f.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-800 dark:text-white rounded-lg text-sm font-semibold transition-colors",children:"Close"})})]})})},iQ=100,Xp=e=>{if(e.length===0)return 0;if(e.length===1)return e[0];if(e.length===2)return .5*(e[0]+e[1]);let t=[...e].sort((r,n)=>r-n);for(;t.length>4;){let r=1/0,n=0;const a=t.length,o=Math.floor(a/2);for(let i=0;i<=a-o;i++){const s=t[i+o-1]-t[i];s<r&&(r=s,n=i)}t=t.slice(n,n+o)}return t.reduce((r,n)=>r+n,0)/t.length},C2=({min:e,max:t,value:r,onChange:n,vertical:a=!1,logScale:o=!1})=>{const i=O.useRef(null),s=O.useRef(null),l=O.useCallback(g=>{const b=o?Math.max(1e-6,e):e,S=o?Math.max(b*1.0001,t):t,w=Math.max(b,Math.min(S,g));if(o){const k=Math.log10(b),j=Math.log10(S);return(Math.log10(w)-k)/(j-k)}return(w-b)/(S-b)},[e,t,o]),c=O.useCallback(g=>{const b=o?Math.max(1e-6,e):e,S=o?Math.max(b*1.0001,t):t;if(o){const w=Math.log10(b),k=Math.log10(S);return Math.pow(10,w+g*(k-w))}return b+g*(S-b)},[e,t,o]),u=(g,b)=>{g.preventDefault(),g.stopPropagation(),s.current=b;const S=k=>{if(!s.current||!i.current)return;const j=i.current.getBoundingClientRect();let P=0;a?P=(j.bottom-k.clientY)/j.height:P=(k.clientX-j.left)/j.width,P=Math.max(0,Math.min(1,P));const _=c(P);if(s.current==="min"){const A=r[1];n([Math.min(_,A),A])}else{const A=r[0];n([A,Math.max(_,A)])}},w=()=>{s.current=null,window.removeEventListener("mousemove",S),window.removeEventListener("mouseup",w)};window.addEventListener("mousemove",S),window.addEventListener("mouseup",w)},d=l(r[0])*100,h=l(r[1])*100,p=a?{left:"50%",top:0,bottom:0,width:"4px",transform:"translateX(-50%)"}:{top:"50%",left:0,right:0,height:"4px",transform:"translateY(-50%)"},m=a?{left:"50%",bottom:`${d}%`,height:`${h-d}%`,width:"4px",transform:"translateX(-50%)"}:{top:"50%",left:`${d}%`,width:`${h-d}%`,height:"4px",transform:"translateY(-50%)"},v="absolute w-3 h-3 bg-white border-2 border-cyan-600 rounded-full shadow-md cursor-pointer hover:scale-125 transition-transform z-10",x=a?{left:"50%",bottom:`${d}%`,transform:"translate(-50%, 50%)"}:{top:"50%",left:`${d}%`,transform:"translate(-50%, -50%)"},y=a?{left:"50%",bottom:`${h}%`,transform:"translate(-50%, 50%)"}:{top:"50%",left:`${h}%`,transform:"translate(-50%, -50%)"};return f.jsxs("div",{ref:i,className:`relative select-none ${a?"h-full w-4 py-2":"w-full h-4 px-2"}`,children:[f.jsx("div",{className:"absolute bg-gray-300 dark:bg-slate-600 rounded-full",style:p}),f.jsx("div",{className:"absolute bg-cyan-500 dark:bg-cyan-400 rounded-full",style:m}),f.jsx("div",{className:v,style:x,onMouseDown:g=>u(g,"min")}),f.jsx("div",{className:v,style:y,onMouseDown:g=>u(g,"max")})]})},sQ=({isOpen:e,onClose:t,data:r,blackLevel:n,imageHeight:a,isBGGR:o,importedMetadata:i,theme:s,initialCameraModel:l,initialISO:c})=>{const[u,d]=O.useState("Noise"),[h,p]=O.useState(!0),[m,v]=O.useState(null),[x,y]=O.useState("default"),[g,b]=O.useState(!1),[S,w]=O.useState(!1),[k,j]=O.useState({R:!0,G1:!0,G2:!0,B:!0}),[P,_]=O.useState(""),[A,N]=O.useState(""),[E,F]=O.useState(""),[D,T]=O.useState(""),[L,W]=O.useState("10"),[I,R]=O.useState(""),[B,ee]=O.useState("0 0 0 0"),[X,G]=O.useState("0 0 0 0"),[U,ce]=O.useState(!1),[ue,be]=O.useState(null),[xe,V]=O.useState(!1),[le,ye]=O.useState(0),[Z,Ke]=O.useState([]),[Pe,Be]=O.useState(""),[rt,Ot]=O.useState(""),cr=()=>{const $=parseFloat(Pe),Y=parseFloat(rt);!isNaN($)&&!isNaN(Y)&&(Ke([...Z,{id:Date.now(),x:$,y:Y}]),Be(""),Ot(""))},[Dt,$r]=O.useState(()=>localStorage.getItem("ptc_tester_name")||""),[nt,ur]=O.useState(""),[Qt,Fr]=O.useState("");O.useEffect(()=>{localStorage.setItem("ptc_tester_name",Dt)},[Dt]);const Kt=O.useRef(U),$n=O.useRef(xe),Xt=O.useRef(le);O.useEffect(()=>{Kt.current=U,$n.current=xe,Xt.current=le},[U,xe,le]);const[pr,gr]=O.useState(null),[ar,fr]=O.useState({min:.01,max:90}),[Pt,Ge]=O.useState({readNoise:0,gain:1,prnu:.5}),[Rt,Jt]=O.useState(2e6),mr=O.useRef(Pt),Zr=O.useRef(ar),Sn=O.useRef(Rt);O.useEffect(()=>{mr.current=Pt,Zr.current=ar,Sn.current=Rt},[Pt,ar,Rt]);const[Yt,Qr]=O.useState({read:"0",gain:"1.0",prnu:"0.5",rangeMin:"0.01",rangeMax:"90"}),[at,Nr]=O.useState({read:!0,shot:!0,prnu:!0,total:!0,fitRange:!0}),[br,Jr]=O.useState(!1),[en,tn]=O.useState([]),[rn,Dn]=O.useState(null),[_t,K]=O.useState(""),Ee=O.useMemo(()=>n?n.join(","):"",[n]);O.useEffect(()=>{if(e){let $="0 0 0 0";i&&i.blackLevel?$=i.blackLevel.join(" "):$=n&&n.length===4?n.join(" "):"0 0 0 0",ee($),G($);let Y="";if(i&&i.height?Y=i.height.toString():a&&(Y=a.toString()),R(Y),Y){const Q=parseFloat(Y);!isNaN(Q)&&Q>0?W((2309.4/Q).toFixed(2)):W("10")}else W("10");be(null),ce(!1),V(!1),ye(0),tn([]),Dn(null),fr({min:.01,max:90}),Qr({read:"0",gain:"0",prnu:"0",rangeMin:"0.01",rangeMax:"90"}),Ge({readNoise:0,gain:0,prnu:0}),_(""),N(""),F(""),T(""),d("Noise"),gr(null),Jt(2e6),K(""),w(!1),Ke([]),ur(Q=>Q.trim()===""&&l?l:Q),Fr(Q=>Q.trim()===""&&c?c:Q)}},[e,Ee,i,a,r,l,c]);const Nt=$=>{if($.key==="Enter"){const Y=parseFloat(I);if(!isNaN(Y)&&Y>0){const Q=(2309.4/Y).toFixed(2);W(Q)}$.target.blur()}},Qe=O.useMemo(()=>{let Y=X.trim().split(/[\s,]+/).filter(Boolean).map(Number);for(Y.length===1&&(Y=[Y[0],Y[0],Y[0],Y[0]]);Y.length<4;)Y.push(0);const Q=C=>{switch(C){case"R":return Y[0];case"G1":return Y[1];case"G2":return Y[2];case"B":return Y[3];default:return 0}};return r.map(C=>{const se=C.mean-Q(C.channel),Se=C.std>0?se/C.std:0;return{...C,x:se,std:C.std,snr:Se}}).filter(C=>C.std>0)},[r,X]),J=O.useMemo(()=>{const $=Pt.readNoise,Y=$*$;return Qe.map(Q=>{let C=0;if(u==="Noise")C=Q.std;else if(u==="SNR")C=Q.snr;else if(u==="Linear"){const Se=Q.std*Q.std-Y;C=Q.x!==0?Se/Q.x:0}return{...Q,y:C}})},[Qe,u,Pt.readNoise]),de=O.useMemo(()=>{if(Qe.length===0)return"G1";const $={R:0,G1:0,G2:0,B:0},Y={R:0,G1:0,G2:0,B:0};for(const se of Qe)$[se.channel]+=se.x,Y[se.channel]++;let Q="G1",C=-1/0;return Object.keys($).forEach(se=>{const Se=Y[se],Ae=Se>0?$[se]/Se:-1/0;Ae>C&&(C=Ae,Q=se)}),Q},[Qe]),ot=O.useCallback(()=>{let $=1/0,Y=-1/0;if(Qe.length===0)return{min:.1,max:1};for(let Q=0;Q<Qe.length;Q++){const C=Qe[Q].x;h&&C<=0||(C<$&&($=C),C>Y&&(Y=C))}return $===1/0?{min:.1,max:1}:{min:$,max:Y}},[Qe,h]),Et=O.useCallback(()=>{let $=1/0,Y=-1/0;if(J.length===0)return{min:.1,max:1};for(let Q=0;Q<J.length;Q++){const C=J[Q].y;h&&C<=0||(C<$&&($=C),C>Y&&(Y=C))}return $===1/0?{min:.1,max:1}:{min:$*.9,max:Y*1.1}},[J,h]),{min:Fe,max:Ue}=ot(),{min:Wt,max:Lt}=Et(),Ne=Ue*(ar.min/100),wt=Ue*(ar.max/100),it=O.useMemo(()=>{if(!h&&J.length===0)return{shot:[],read:[],prnu:[],total:[]};const $=P?parseFloat(P):Fe,Y=A?parseFloat(A):Ue,Q=100,C=Math.max(.1,$),se=Math.max(1,Y);if(C>=se)return{shot:[],read:[],prnu:[],total:[]};const Se=Math.log10(C),He=(Math.log10(se)-Se)/Q,Xe=Pt.readNoise,De=Pt.gain>0?Pt.gain:1,At=Pt.prnu/100,xt=[],It=[],or=[],ne=[];for(let qe=0;qe<=Q;qe++){const _e=Math.pow(10,Se+qe*He);if(u==="Linear"){const Bt=1/De,kt=At*At,an=Bt+kt*_e;ne.push({x:_e,y:an}),xt.push({x:_e,y:Bt}),or.push({x:_e,y:kt*_e})}else{const Bt=Xe,kt=Math.sqrt(_e/De),an=At*_e,yt=Math.sqrt(Bt*Bt+kt*kt+an*an);u==="Noise"?(xt.push({x:_e,y:kt}),It.push({x:_e,y:Bt}),or.push({x:_e,y:an}),ne.push({x:_e,y:yt})):(kt>0&&xt.push({x:_e,y:_e/kt}),Bt>0&&It.push({x:_e,y:_e/Bt}),an>0&&or.push({x:_e,y:_e/an}),yt>0&&ne.push({x:_e,y:_e/yt}))}}return{shot:xt,read:It,prnu:or,total:ne}},[J,h,P,A,Pt,u,Fe,Ue]),dt=O.useMemo(()=>{if(u==="Linear")return[];const $=parseFloat(L);if(isNaN($)||$<=0)return[];const Y=P?parseFloat(P):Fe,Q=A?parseFloat(A):Ue;return u==="SNR"?[{x:Y,y:$},{x:Q,y:$}]:[{x:Y,y:Y/$},{x:Q,y:Q/$}]},[J,L,u,P,A,Fe,Ue]),Je=O.useCallback(($,Y)=>{if(!Y||Y.length===0)return null;const Q=[...Y].sort((C,se)=>C.x-se.x);for(let C=0;C<Q.length-1;C++){const se=Q[C],Se=Q[C+1];if(se.snr<=$&&Se.snr>=$||se.snr>=$&&Se.snr<=$){const Ae=($-se.snr)/(Se.snr-se.snr);return se.x+Ae*(Se.x-se.x)}}return null},[]),nn=O.useMemo(()=>{const $=Qe,Y=1e3,Q=se=>{if(se.length===0)return[];if(se.length<=Y)return se;const Se=[...se].sort((Xe,De)=>Xe.x-De.x),Ae=[],He=Se.length/Y;for(let Xe=0;Xe<Y;Xe++){const De=Math.floor(Xe*He),At=Math.floor((Xe+1)*He),xt=Se.slice(De,At);if(xt.length===0)continue;xt.sort((or,ne)=>or.std-ne.std);const It=Math.floor(xt.length/2);Ae.push(xt[It])}return Ae},C={R:[],G1:[],G2:[],B:[]};return $.forEach(se=>{C[se.channel]&&C[se.channel].push(se)}),{R:Q(C.R),G1:Q(C.G1),G2:Q(C.G2),B:Q(C.B)}},[Qe]),$e=O.useMemo(()=>ue&&Pt.gain?ue*Pt.gain:null,[ue,Pt.gain]),pe=O.useMemo(()=>{if(ue===null||ue===0)return null;const $=parseFloat(L);let Y=null;if(!isNaN($)&&$>0){let Ae=0,He=0;if(["R","G1","G2","B"].forEach(Xe=>{const De=Je($,nn[Xe]);De!==null&&(Ae+=De,He++)}),He>0){const Xe=Ae/He;Y=Math.log2(ue/Xe)}}const Q=parseFloat(I);let C=null,se=NaN;if(!isNaN(Q)&&Q>0){se=16e3/Q;let Ae=0,He=0;if(["R","G1","G2","B"].forEach(Xe=>{const De=Je(se,nn[Xe]);De!==null&&(Ae+=De,He++)}),He>0){const Xe=Ae/He;C=Math.log2(ue/Xe)}}let Se=null;if(!isNaN(Q)&&Q>0){const Ae=Je(se,nn[de]);Ae!==null&&(Se=Math.log2(ue/Ae))}return{manualDR:Y,ptpDR:C,d55DR:Se,manualTarget:$,ptpTarget:se,saturationSignal:ue,dominantChannel:de}},[ue,L,I,nn,Je,de]),zr=O.useMemo(()=>{if(u==="Linear"||!pe||!pe.ptpTarget||isNaN(pe.ptpTarget))return[];const $=pe.ptpTarget,Y=P?parseFloat(P):Fe,Q=A?parseFloat(A):Ue;return u==="SNR"?[{x:Y,y:$},{x:Q,y:$}]:[{x:Y,y:Y/$},{x:Q,y:Q/$}]},[u,pe,P,A,Fe,Ue]),pa=O.useCallback(()=>{const Q=document.createElement("canvas");Q.width=2048,Q.height=1536;const C=Q.getContext("2d");if(!C)return;const se=s==="dark",Se=se?"#0f172a":"#ffffff",Ae=se?"#ffffff":"#000000",He=se?"#475569":"#cbd5e1",Xe=se?"#1e293b":"#f1f5f9",De=o?{R:"#ef4444",G1:"#22c55e",G2:"#4ade80",B:"#3b82f6"}:{R:"#ef4444",G1:"#22c55e",G2:"#4ade80",B:"#3b82f6"};C.fillStyle=Se,C.fillRect(0,0,2048,1536);let At=P?parseFloat(P):Fe,xt=A?parseFloat(A):Ue,It=E?parseFloat(E):Wt,or=D?parseFloat(D):Lt;isNaN(At)&&(At=.1),isNaN(xt)&&(xt=1e4),isNaN(It)&&(It=.1),isNaN(or)&&(or=1e3);const ne={top:80,right:80,bottom:100,left:120},qe=2048-ne.left-ne.right,_e=1536-ne.top-ne.bottom,Bt=ie=>{if(h){const ke=Math.log10(Math.max(1e-9,At)),ve=Math.log10(Math.max(1e-9,xt)),fe=Math.log10(Math.max(1e-9,ie));return ne.left+(fe-ke)/(ve-ke)*qe}else return ne.left+(ie-At)/(xt-At)*qe},kt=ie=>{if(h){const ke=Math.log10(Math.max(1e-9,It)),ve=Math.log10(Math.max(1e-9,or)),fe=Math.log10(Math.max(1e-9,ie));return ne.top+_e-(fe-ke)/(ve-ke)*_e}else return ne.top+_e-(ie-It)/(or-It)*_e};if(C.beginPath(),h){const ie=(ke,ve,fe)=>{const we=Math.log10(Math.max(1e-9,ke)),gt=Math.log10(Math.max(1e-9,ve)),Ve=Math.floor(we),lt=Math.ceil(gt);for(let ft=Ve;ft<=lt;ft++){const ct=Math.pow(10,ft);let Ze=fe?Bt(ct):kt(ct);(fe?Ze>=ne.left-1&&Ze<=ne.left+qe+1:Ze>=ne.top-1&&Ze<=ne.top+_e+1)&&(C.lineWidth=1.5,C.strokeStyle=He,C.beginPath(),fe?(C.moveTo(Ze,ne.top),C.lineTo(Ze,ne.top+_e)):(C.moveTo(ne.left,Ze),C.lineTo(ne.left+qe,Ze)),C.stroke()),C.lineWidth=.5,C.strokeStyle=Xe;for(let ya=2;ya<10;ya++){const ir=ya*ct;Ze=fe?Bt(ir):kt(ir),(fe?Ze>=ne.left&&Ze<=ne.left+qe:Ze>=ne.top&&Ze<=ne.top+_e)&&(C.beginPath(),fe?(C.moveTo(Ze,ne.top),C.lineTo(Ze,ne.top+_e)):(C.moveTo(ne.left,Ze),C.lineTo(ne.left+qe,Ze)),C.stroke())}}};ie(At,xt,!0),ie(It,or,!1)}else{C.strokeStyle=He,C.lineWidth=1;for(let ie=0;ie<=5;ie++){const ke=ne.left+qe*ie/5;C.beginPath(),C.moveTo(ke,ne.top),C.lineTo(ke,ne.top+_e),C.stroke();const ve=ne.top+_e*ie/5;C.beginPath(),C.moveTo(ne.left,ve),C.lineTo(ne.left+qe,ve),C.stroke()}}C.strokeStyle=Ae,C.lineWidth=2,C.strokeRect(ne.left,ne.top,qe,_e);const an=(ie,ke,ve)=>{ie<ne.left||ie>ne.left+qe||ke<ne.top||ke>ne.top+_e||(C.fillStyle=ve,C.fillRect(ie-1.5,ke-1.5,3,3))},yt=J.filter(ie=>!(h&&(ie.x<=0||ie.y<=0)));yt.forEach(ie=>{k[ie.channel]&&ie.channel!==de&&an(Bt(ie.x),kt(ie.y),De[ie.channel])}),yt.forEach(ie=>{k[ie.channel]&&ie.channel===de&&an(Bt(ie.x),kt(ie.y),De[ie.channel])}),Z.forEach(ie=>{const ke=Bt(ie.x),ve=kt(ie.y);if(ke<ne.left||ke>ne.left+qe||ve<ne.top||ve>ne.top+_e)return;C.strokeStyle="#d946ef",C.lineWidth=2.5;const fe=6;C.beginPath(),C.moveTo(ke-fe,ve-fe),C.lineTo(ke+fe,ve+fe),C.moveTo(ke+fe,ve-fe),C.lineTo(ke-fe,ve+fe),C.stroke()});const er=(ie,ke,ve=[])=>{if(ie.length<2)return;C.beginPath(),C.strokeStyle=ke,C.lineWidth=3,C.setLineDash(ve);let fe=!1;for(const we of ie){const gt=Bt(we.x),Ve=kt(we.y);if(gt<ne.left-100||gt>ne.left+qe+100||Ve<ne.top-100||Ve>ne.top+_e+100){fe=!1;continue}fe?C.lineTo(gt,Ve):(C.moveTo(gt,Ve),fe=!0)}C.stroke(),C.setLineDash([])},Ar=se?"#ffffff":"#000000";if(at.shot&&er(it.shot,"#94a3b8",[5,5]),at.read&&er(it.read,"#f43f5e",[3,3]),at.prnu&&er(it.prnu,"#f59e0b",[3,3]),at.total&&er(it.total,Ar,[]),dt.length===2){const ie="#6366f1";er(dt,ie,[4,2]);const ke=dt[1],ve=kt(ke.y);ve>=ne.top&&ve<=ne.top+_e&&(C.fillStyle=ie,C.font="bold 20px sans-serif",C.textAlign="right",C.textBaseline="bottom",C.fillText(`M.Tgt=${L}`,ne.left+qe-10,ve-8))}if(zr.length===2&&(pe!=null&&pe.ptpTarget)){const ie="#10b981";er(zr,ie,[4,4]);const ke=zr[1],ve=kt(ke.y);if(ve>=ne.top&&ve<=ne.top+_e){C.fillStyle=ie,C.font="bold 20px sans-serif",C.textAlign="right",C.textBaseline="bottom";const fe=pe.ptpTarget.toFixed(1),we=dt.length===2?kt(dt[1].y):-100,gt=Math.abs(ve-we)<25?25:0;C.fillText(`PTP=${fe}`,ne.left+qe-10,ve-8-gt)}}if(at.fitRange||xe){const ie=(ke,ve)=>{const fe=Bt(ke);fe>=ne.left&&fe<=ne.left+qe&&(C.beginPath(),C.strokeStyle=ve,C.lineWidth=2,C.setLineDash([8,8]),C.moveTo(fe,ne.top),C.lineTo(fe,ne.top+_e),C.stroke(),C.setLineDash([]))};ie(Ne,"#22d3ee"),ie(wt,"#22d3ee")}if(ue){const ie=Bt(ue);ie>=ne.left&&ie<=ne.left+qe&&(C.strokeStyle="#ef4444",C.lineWidth=3,C.setLineDash([10,10]),C.beginPath(),C.moveTo(ie,ne.top),C.lineTo(ie,ne.top+_e),C.stroke(),C.setLineDash([]),C.fillStyle="#ef4444",C.font="bold 24px sans-serif",C.textAlign="center",C.fillText("Sat",ie,ne.top-10))}C.fillStyle=Ae,C.font="28px monospace",C.textAlign="center",C.fillText(At.toExponential(1),ne.left,ne.top+_e+40),C.fillText(xt.toExponential(1),ne.left+qe,ne.top+_e+40),C.fillText("Signal (DN)",ne.left+qe/2,ne.top+_e+80),C.textAlign="right",C.textBaseline="middle",C.fillText(It.toExponential(1),ne.left-20,ne.top+_e),C.fillText(or.toExponential(1),ne.left-20,ne.top),C.save(),C.translate(ne.left-80,ne.top+_e/2),C.rotate(-Math.PI/2),C.textAlign="center",C.fillText(u==="Linear"?"(Var - RN) / Mean":u,0,0),C.restore(),C.save(),C.translate(2048/2,1536/2),C.rotate(-Math.PI/6),C.textAlign="center",C.textBaseline="middle",C.fillStyle=se?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)",C.font="bold 150px sans-serif",C.fillText(" y-g-jiang.github.io",0,0),C.restore(),C.fillStyle=Ae,C.font="bold 36px sans-serif",C.textAlign="left",C.textBaseline="top",C.fillText(`PTC Export: ${u} Mode`,ne.left,20),C.font="24px sans-serif",C.fillStyle=se?"#94a3b8":"#64748b",C.fillText(`Points: ${J.length} | Sat Channel: ${de}`,ne.left,65);const Ta=ne.left+30,$i=ne.top+30,z=70,H=ie=>{if(!ue||ie<=0)return"--";const ke=Pt.readNoise,ve=Pt.gain,fe=Pt.prnu/100;if(ve<=0)return"--";const we=ie*ie,gt=ke*ke,Ve=1-we*fe*fe,lt=-(we/ve),ft=-(we*gt);let ct=0;if(Math.abs(Ve)<1e-8)Math.abs(lt)>1e-8&&(ct=-ft/lt);else{const Ze=lt*lt-4*Ve*ft;Ze>=0&&(ct=(-lt+Math.sqrt(Ze))/(2*Ve))}return ct>0?Math.log2(ue/ct).toFixed(2)+" EV":"--"},te=pe!=null&&pe.ptpTarget&&!isNaN(pe.ptpTarget)?H(pe.ptpTarget):"--",re=L?H(parseFloat(L)):"--";C.font="bold 48px monospace",C.textAlign="left",C.textBaseline="top",C.shadowColor=se?"rgba(0,0,0,0.8)":"rgba(255,255,255,0.8)",C.shadowBlur=4,C.shadowOffsetX=1,C.shadowOffsetY=1;const he=(ie,ke,ve,fe)=>{const we=$i+ve*z;C.fillStyle=Ae,C.fillText(ie,Ta,we);const gt=C.measureText(ie).width;C.fillStyle=fe||Ae,C.fillText(ke,Ta+gt,we)},Ce=Yt.read,st=parseFloat(Yt.gain).toFixed(3),Re=parseFloat(Yt.prnu).toFixed(2)+"%";let ze=`M.DR@SNR${L}: `;const je=parseFloat(I);if(!isNaN(je)&&je>0){const ie=(2309.4/je).toFixed(2);Math.abs(parseFloat(L)-parseFloat(ie))<.05&&(ze="8mpSNR=1 DR: ")}he("Tester: ",Dt||"N/A",0),he("Model : ",nt||"Unknown",1),he("ISO   : ",Qt||"N/A",2),he("RN/FPN: ",Ce,3,"#f43f5e"),he("KADC  : ",st,4,"#06b6d4"),he("PRNU  : ",Re,5,"#f59e0b"),he("PTP DR: ",pe!=null&&pe.ptpDR?pe.ptpDR.toFixed(2)+" EV":"--",6,"#10b981"),he("D55 DR: ",pe!=null&&pe.d55DR?pe.d55DR.toFixed(2)+" EV":"--",7,"#8b5cf6"),he("FWC   : ",$e?$e>1e4?($e/1e3).toFixed(1)+"k":Math.round($e).toString():"--",8,"#f97316"),he(ze,pe!=null&&pe.manualDR?pe.manualDR.toFixed(2)+" EV":"--",9,"#06b6d4"),he("PTCFitDR(PTP): ",te,10,"#10b981"),he("PTCFitDR(Man): ",re,11,"#06b6d4"),C.save(),C.textAlign="right",C.textBaseline="bottom",C.fillStyle="#3b82f6",C.font="bold 80px sans-serif",C.shadowColor=se?"rgba(0,0,0,0.8)":"rgba(255,255,255,0.8)",C.shadowBlur=4,C.shadowOffsetX=2,C.shadowOffsetY=2;const Le=1988,et=1476,Mt=90;C.fillText("Online",Le,et),C.fillText("Jiangtherapee",Le,et-Mt),C.restore();const ht=document.createElement("a");ht.download=`ptc_complete_${u}_${Date.now()}.jpg`,ht.href=Q.toDataURL("image/jpeg",.9),ht.click()},[J,de,k,P,A,E,D,Fe,Ue,Wt,Lt,h,s,u,ue,o,at,it,Ne,wt,ar,xe,Dt,nt,Qt,pe,$e,L,dt,zr,Yt,I,Z]),ga=O.useMemo(()=>{let $=J;if(h&&($=$.filter(se=>se.y>0&&se.x>0)),x==="top3"){const se=[...$].sort((Ae,He)=>He.x-Ae.x),Se=Math.max(50,Math.ceil(se.length*.03));$=se.slice(0,Se)}const Y={R:[],G1:[],G2:[],B:[]};if($.forEach(se=>{Y[se.channel]&&Y[se.channel].push(se)}),x==="raw")return Y;const Q=x==="top3"?500:iQ,C=se=>{if(se.length<=Q)return se;const Se=[...se].sort((Xe,De)=>Xe.x-De.x),Ae=[],He=Se.length/Q;for(let Xe=0;Xe<Q;Xe++){const De=Math.floor(Xe*He),At=Math.floor((Xe+1)*He),xt=Se.slice(De,At);if(xt.length===0)continue;xt.sort((or,ne)=>or.y-ne.y);const It=Math.floor(xt.length/2);Ae.push(xt[It])}return Ae};return{R:C(Y.R),G1:C(Y.G1),G2:C(Y.G2),B:C(Y.B)}},[J,x,h]),oo=O.useMemo(()=>{if(Qe.length<5)return[];const $=Qe.filter(Q=>Q.channel===de);return[...$.length>20?$:Qe].sort((Q,C)=>Q.x-C.x).map(Q=>({mean:Q.x,std:Q.std}))},[Qe,de]),Rh=$=>{const Y=$.length;if(Y===0)return[];const Q=$.reduce((qe,_e)=>qe+_e,0)/Y,C=$.reduce((qe,_e)=>qe+Math.pow(_e-Q,2),0)/(Y-1||1),se=Math.sqrt(C);if(se===0)return[{x:Q-.001,density:0},{x:Q,density:1},{x:Q+.001,density:0}];const Se=1.06*se*Math.pow(Y,-.2),Ae=Math.min(...$),He=Math.max(...$),Xe=(He-Ae)*.2||Ae*.1,De=Math.max(0,Ae-Xe),At=He+Xe,xt=100,It=(At-De)/(xt-1),or=qe=>1/Math.sqrt(2*Math.PI)*Math.exp(-.5*qe*qe),ne=[];for(let qe=0;qe<xt;qe++){const _e=De+qe*It;let Bt=0;for(let kt=0;kt<Y;kt++)Bt+=or((_e-$[kt])/Se);Bt/=Y*Se,ne.push({x:_e,density:Bt})}return ne},Ei=O.useCallback(($,Y,Q,C)=>{if($.length<5)return{gain:0,prnu:0};const se=$[$.length-1].mean,Se=se*(Q.min/100),Ae=se*(Q.max/100),He=$.filter(yt=>yt.mean>=Se&&yt.mean<=Ae);if(He.length<5)return{gain:0,prnu:0};gr({nPoints:He.length});const Xe=Y*Y,De=[],At=[];if(He.forEach(yt=>{const Ar=yt.std*yt.std-Xe;if(yt.mean>1&&Ar>0){const Ta=yt.mean,$i=Ar/yt.mean;De.push({x:Ta,y:$i}),At.push(yt.mean/Ar)}}),De.length<5)return{gain:0,prnu:0};const xt=[],It=De.length,or=C,ne=It*(It-1)/2;if(ne<=or)for(let yt=0;yt<It;yt++)for(let er=yt+1;er<It;er++){const Ar=De[er].x-De[yt].x;Math.abs(Ar)>1e-5&&xt.push((De[er].y-De[yt].y)/Ar)}else{const yt=Math.max(1,Math.floor(ne/or));for(let er=0;er<It;er++)for(let Ar=er+1;Ar<It;Ar+=yt){const Ta=De[Ar].x-De[er].x;Math.abs(Ta)>1e-5&&xt.push((De[Ar].y-De[er].y)/Ta)}}const qe=Xp(xt),_e=De.map(yt=>yt.y-qe*yt.x),Bt=Xp(_e);let kt=0,an=0;if(Bt>1e-6?kt=1/Bt:kt=Xp(At),qe>0&&(an=Math.sqrt(qe)*100),At.length>0){const yt=Rh(At);tn(yt),Dn(kt)}else tn([]);return{gain:kt,prnu:an}},[]),pn=O.useCallback($=>{let Y=$.read??mr.current.readNoise;const Q=$.gRange??Zr.current,C=Sn.current;if(($.read!==void 0||$.gRange!==void 0)&&$.gain===void 0&&$.prnu===void 0&&oo.length>0&&Y>=0)w(!0),setTimeout(()=>{const Se=Ei(oo,Y,Q,C);let Ae=mr.current.gain,He=mr.current.prnu;Se.gain>0&&(Ae=Se.gain,He=Se.prnu),Ge({readNoise:Y,gain:Ae,prnu:He}),$.gRange!==void 0&&fr($.gRange),Qr(Xe=>{var De,At;return{...Xe,read:Y.toString(),gain:Ae>0?Ae.toFixed(3):"0",prnu:He.toFixed(2),rangeMin:(((De=$.gRange)==null?void 0:De.min)??Xe.rangeMin).toString(),rangeMax:(((At=$.gRange)==null?void 0:At.max)??Xe.rangeMax).toString()}}),w(!1)},50);else{let Se=$.gain!==void 0?$.gain:mr.current.gain,Ae=$.prnu!==void 0?$.prnu:mr.current.prnu;Ge({readNoise:Y,gain:Se,prnu:Ae}),$.gRange!==void 0&&fr($.gRange),Qr(He=>{var Xe,De;return{...He,read:Y.toString(),gain:Se>0?Se.toFixed(3):"0",prnu:Ae.toFixed(2),rangeMin:(((Xe=$.gRange)==null?void 0:Xe.min)??He.rangeMin).toString(),rangeMax:(((De=$.gRange)==null?void 0:De.max)??He.rangeMax).toString()}})}},[oo,Ei]),zo=`${X}-${r.length}`;O.useEffect(()=>{if(!e||!r||r.length===0)return;const $=ga[de];if(!$||$.length===0||_t===zo)return;j({R:de==="R",G1:de==="G1",G2:de==="G2",B:de==="B"});const Y=[...$].sort((Se,Ae)=>Se.x-Ae.x);let Q=0;Y.length>0&&(Q=Y[0].std);const C=Qe.filter(Se=>Se.channel===de);let se=-1/0;for(const Se of C)Se.x>se&&(se=Se.x);se!==-1/0&&be(se),pn({read:Q}),K(zo)},[e,r,_t,zo,ga,de,pn,Qe]);const io=($,Y)=>{Qr(Q=>({...Q,[$]:Y}))},Ti=$=>{let Y=parseFloat(Yt[$]);isNaN(Y)||Y<0||pn({[$]:Y})},Ca=()=>{G(B),K("")},cl=()=>{const $=parseFloat(Yt.rangeMin),Y=parseFloat(Yt.rangeMax);!isNaN($)&&!isNaN(Y)&&$<Y&&$>=0&&Y<=100&&pn({gRange:{min:$,max:Y}})},Wo=($,Y)=>{$.key==="Enter"&&(Y==="rangeMin"||Y==="rangeMax"?cl():Ti(Y),$.target.blur())};O.useEffect(()=>{oo.length>0&&pn({})},[Rt,oo]);const Uo=$=>{j(Y=>({...Y,[$]:!Y[$]}))},lu=()=>{y($=>$==="top3"?"default":"top3")},Lh=()=>{x==="raw"?y("default"):b(!0)},Ih=()=>{b(!1),y("raw")},ul=($,Y)=>{const Q=parseFloat($),C=parseFloat(Y);let se=isNaN(Q)?"auto":Q,Se=isNaN(C)?"auto":C;return h&&typeof se=="number"&&se<=0&&(se="auto"),[se,Se]},Go=$=>{if(!$||!$.payload)return;const Y=$.payload;if(v(Y),Kt.current&&(be(Y.x),ce(!1)),$n.current){const Q=Zr.current.min,C=Zr.current.max,{max:se}=ot();if(se<=0)return;const Se=Math.max(0,Math.min(100,Y.x/se*100));if(Xt.current===1){const Ae=Math.min(Se,C-.5);pn({gRange:{min:Ae,max:C}}),ye(2)}else if(Xt.current===2){const Ae=Math.max(Se,Q+.5);pn({gRange:{min:Q,max:Ae}}),ye(0),V(!1)}}},Ho=O.useCallback($=>{const{cx:Y,cy:Q,fill:C}=$;return f.jsx("circle",{cx:Y,cy:Q,r:3,fill:C,stroke:"none",style:{cursor:"pointer"}})},[]),Bh=({active:$,payload:Y})=>{if($&&Y&&Y.length){const Q=Y[0].payload;return f.jsxs("div",{className:"bg-slate-800 text-white text-xs p-2 rounded border border-slate-600 shadow-xl opacity-90 font-mono z-50",children:[f.jsx("div",{className:"font-bold border-b border-slate-600 pb-1 mb-1",children:Q.channel}),f.jsxs("div",{children:["Signal: ",Q.x.toFixed(2)]}),f.jsxs("div",{children:[u,": ",Q.y.toFixed(4)]}),Q.row!==void 0&&Q.col!==void 0&&!isNaN(Q.row)&&!isNaN(Q.col)&&f.jsxs("div",{className:"text-cyan-400 mt-0.5",children:["Loc: Row ",Q.row,", Col ",Q.col]}),Q.filename&&f.jsx("div",{className:"text-gray-400 mt-1 max-w-[200px] truncate",title:Q.filename,children:Q.filename})]})}return null},Ea=$=>{d($),$==="Linear"&&p(!1)};if(!e)return null;const Fh=s==="dark"?"#ffffff":"#000000";let cu=u;u==="Linear"&&(cu="(Var - RN) / Mean");const zh=B!==X;return f.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in",onClick:$=>{$.stopPropagation()},children:f.jsxs("div",{className:"bg-white dark:bg-slate-900 w-[98vw] max-w-[2200px] h-[95vh] rounded-2xl shadow-2xl flex flex-col border border-gray-200 dark:border-slate-700 overflow-hidden relative",onClick:$=>$.stopPropagation(),children:[f.jsx(Pf,{isOpen:g,onClose:()=>b(!1),onConfirm:Ih,title:"Warning: High Performance Cost",message:"Displaying all data points may cause the browser to freeze or become unresponsive, especially with large datasets. Are you sure you want to continue?",confirmText:"Yes, Show All"}),m&&f.jsxs("div",{className:"absolute top-20 right-8 z-30 bg-white/90 dark:bg-slate-800/90 border border-cyan-500 rounded-xl p-4 shadow-xl backdrop-blur-md max-w-xs animate-in fade-in zoom-in-95 duration-200",children:[f.jsxs("div",{className:"flex justify-between items-start mb-2 border-b border-gray-200 dark:border-slate-700 pb-2",children:[f.jsx("h4",{className:"font-bold text-gray-900 dark:text-white text-sm",children:"Selected Point"}),f.jsx("button",{onClick:()=>v(null),className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200",children:f.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),f.jsx("div",{className:"space-y-1 text-xs font-mono text-gray-700 dark:text-slate-300",children:f.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1.5",children:[f.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"Channel:"}),f.jsx("span",{className:"font-bold",children:m.channel}),f.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"Signal (DN):"}),f.jsx("span",{children:m.x.toFixed(4)}),f.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"Noise (Std):"}),f.jsx("span",{children:m.std.toFixed(4)}),f.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"SNR:"}),f.jsx("span",{className:"text-purple-600 dark:text-purple-400 font-bold",children:(m.x/m.std).toFixed(2)})]})})]}),br&&f.jsx("div",{className:"absolute inset-0 z-40 bg-white/95 dark:bg-slate-900/95 backdrop-blur-sm flex flex-col items-center justify-center p-8 animate-in fade-in zoom-in-95 duration-200",children:f.jsxs("div",{className:"w-full max-w-2xl h-[60vh] bg-gray-50 dark:bg-slate-800 rounded-xl border border-gray-200 dark:border-slate-700 shadow-2xl p-4 flex flex-col relative",children:[f.jsx("button",{onClick:()=>Jr(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-red-500 transition-colors",children:f.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),f.jsxs("div",{className:"mb-4 text-center",children:[f.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-slate-200",children:"Gain Density Estimation"}),f.jsxs("p",{className:"text-xs text-gray-500 dark:text-slate-400",children:["HSM Mode: ",f.jsx("span",{className:"text-cyan-600 dark:text-cyan-400 font-bold",children:rn==null?void 0:rn.toFixed(4)}),f.jsx("span",{className:"mx-2",children:"|"}),"Data Points: ",en.length>0?"Density Curve Generated":"No Data"]})]}),f.jsx("div",{className:"flex-1 min-h-0",children:en.length>0?f.jsx(Ss,{width:"100%",height:"100%",children:f.jsxs(N_,{data:en,margin:{top:10,right:30,left:0,bottom:20},children:[f.jsx(ji,{strokeDasharray:"3 3",stroke:"#374151",opacity:.3,vertical:!1}),f.jsx(fa,{dataKey:"x",tickFormatter:$=>$.toFixed(2),tick:{fill:"#9ca3af",fontSize:10},label:{value:"Gain (e/ADU)",position:"insideBottom",offset:-15,fill:"#9ca3af",fontSize:12}}),f.jsx(da,{tick:{fill:"#9ca3af",fontSize:10}}),f.jsx(cn,{cursor:{stroke:"rgba(255,255,255,0.2)"},contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"0.5rem",color:"#f3f4f6"}}),f.jsx(Gn,{type:"monotone",dataKey:"density",stroke:"#0ea5e9",fill:"#0ea5e9",fillOpacity:.3,strokeWidth:2}),rn!==null&&f.jsx(oi,{x:rn,stroke:"#ef4444",strokeWidth:2,label:{value:"HSM",fill:"#ef4444",fontSize:10,position:"top"}})]})}):f.jsx("div",{className:"flex items-center justify-center h-full text-gray-400",children:"No data in selected range"})})]})}),f.jsxs("div",{className:"flex flex-wrap justify-between items-center p-3 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50 gap-4 flex-shrink-0",children:[f.jsxs("h2",{className:"text-lg font-bold text-gray-900 dark:text-slate-100 flex items-center gap-2",children:["Photon Transfer Curve",f.jsxs("span",{className:"text-xs font-normal bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-300 px-2 py-0.5 rounded border border-purple-200 dark:border-purple-800",children:[r.length," Pts"]})]}),f.jsxs("div",{className:"flex gap-4 items-center flex-wrap",children:[f.jsxs("button",{onClick:pa,className:"bg-green-600 hover:bg-green-500 text-white font-bold py-1 px-3 rounded text-xs shadow-md transition-all active:scale-95 flex items-center gap-1",title:"Render all points, target lines, and metadata to a high-res JPG",children:[f.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Export Complete Result"]}),f.jsxs("div",{className:"flex bg-white dark:bg-slate-700 rounded-lg p-1 border border-gray-200 dark:border-slate-600",children:[f.jsx("button",{onClick:()=>Ea("Noise"),className:`px-3 py-1 text-xs font-bold rounded transition-colors ${u==="Noise"?"bg-cyan-600 text-white shadow":"text-gray-600 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-600"}`,children:"Noise ()"}),f.jsx("button",{onClick:()=>Ea("SNR"),className:`px-3 py-1 text-xs font-bold rounded transition-colors ${u==="SNR"?"bg-purple-600 text-white shadow":"text-gray-600 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-600"}`,children:"SNR"}),f.jsx("button",{onClick:()=>Ea("Linear"),className:`px-3 py-1 text-xs font-bold rounded transition-colors ${u==="Linear"?"bg-indigo-600 text-white shadow":"text-gray-600 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-600"}`,children:"Linear (PTC)"})]}),f.jsxs("label",{className:"flex items-center gap-2 text-xs text-gray-600 dark:text-slate-300 cursor-pointer select-none",children:[f.jsx("input",{type:"checkbox",checked:h,onChange:$=>p($.target.checked),className:"rounded border-gray-300 text-cyan-600 focus:ring-cyan-500 bg-gray-100 dark:bg-slate-700 dark:border-slate-600"}),"Log-Log"]}),f.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 transition-colors p-1",children:f.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-0 border-b border-gray-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-sm flex-shrink-0",children:[f.jsxs("div",{className:"lg:col-span-9 p-5 flex flex-col gap-5 border-r border-gray-200 dark:border-slate-700",children:[f.jsxs("div",{className:"flex flex-wrap gap-4 items-center justify-between text-xs",children:[f.jsxs("div",{className:"flex gap-4 items-center",children:[f.jsxs("div",{className:"flex items-center gap-1.5 bg-gray-50 dark:bg-slate-800 rounded-md p-1 border border-gray-200 dark:border-slate-700",children:[f.jsx("span",{className:"font-bold text-gray-500 dark:text-slate-400 pl-1",children:"X:"}),f.jsx("input",{type:"number",placeholder:"Min",value:P,onChange:$=>_($.target.value),className:"w-12 px-1 py-0.5 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center outline-none"}),f.jsx("span",{className:"text-gray-400",children:"-"}),f.jsx("input",{type:"number",placeholder:"Max",value:A,onChange:$=>N($.target.value),className:"w-12 px-1 py-0.5 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center outline-none"})]}),f.jsxs("div",{className:"flex items-center gap-1.5 bg-gray-50 dark:bg-slate-800 rounded-md p-1 border border-gray-200 dark:border-slate-700",children:[f.jsx("span",{className:"font-bold text-gray-500 dark:text-slate-400 pl-1",children:"Y:"}),f.jsx("input",{type:"number",placeholder:"Min",value:E,onChange:$=>F($.target.value),className:"w-12 px-1 py-0.5 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center outline-none"}),f.jsx("span",{className:"text-gray-400",children:"-"}),f.jsx("input",{type:"number",placeholder:"Max",value:D,onChange:$=>T($.target.value),className:"w-12 px-1 py-0.5 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center outline-none"})]}),f.jsx("button",{onClick:()=>{_(""),N(""),F(""),T("")},className:"text-xs text-cyan-600 dark:text-cyan-400 hover:underline",children:"Auto"})]}),f.jsxs("div",{className:"flex items-center gap-1 bg-white dark:bg-slate-700 p-1 rounded-lg border border-gray-200 dark:border-slate-600",children:[f.jsx("button",{onClick:()=>Uo("R"),className:`w-6 h-6 text-[10px] font-bold rounded flex items-center justify-center transition-colors ${k.R?"bg-red-500 text-white":"bg-gray-100 dark:bg-slate-600 text-gray-400"}`,children:"R"}),f.jsx("button",{onClick:()=>Uo("G1"),className:`w-6 h-6 text-[10px] font-bold rounded flex items-center justify-center transition-colors ${k.G1?"bg-green-500 text-white":"bg-gray-100 dark:bg-slate-600 text-gray-400"}`,children:"G1"}),f.jsx("button",{onClick:()=>Uo("G2"),className:`w-6 h-6 text-[10px] font-bold rounded flex items-center justify-center transition-colors ${k.G2?"bg-green-400 text-white":"bg-gray-100 dark:bg-slate-600 text-gray-400"}`,children:"G2"}),f.jsx("button",{onClick:()=>Uo("B"),className:`w-6 h-6 text-[10px] font-bold rounded flex items-center justify-center transition-colors ${k.B?"bg-blue-500 text-white":"bg-gray-100 dark:bg-slate-600 text-gray-400"}`,children:"B"})]})]}),f.jsxs("div",{className:"flex flex-wrap items-end gap-8",children:[f.jsxs("div",{className:"flex flex-col bg-gray-50 dark:bg-slate-800/50 p-2 rounded border border-gray-100 dark:border-slate-700",children:[f.jsx("span",{className:"text-[9px] uppercase font-bold text-gray-500 dark:text-slate-400 mb-1",children:"Black Level (0,0 0,1 1,0 1,1)"}),f.jsx("input",{type:"text",value:B,onChange:$=>ee($.target.value),className:"w-32 text-xs px-2 py-1 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded outline-none focus:border-cyan-500 font-mono",placeholder:"0 0 0 0"})]}),f.jsxs("div",{className:"flex flex-col justify-between bg-gray-50 dark:bg-slate-800/50 p-2 rounded border border-gray-100 dark:border-slate-700",children:[f.jsxs("div",{className:"flex justify-between items-center mb-1",children:[f.jsx("span",{className:"text-[9px] uppercase font-bold text-gray-500 dark:text-slate-400 mr-2",children:"Fit Range % (Robust)"}),f.jsx("button",{onClick:()=>{V(!xe),ye(xe?0:1)},className:`px-1.5 py-0.5 text-[9px] rounded border transition-colors ${xe?"bg-cyan-100 text-cyan-700 border-cyan-300 animate-pulse":"bg-white dark:bg-slate-700 border-gray-300 dark:border-slate-600 text-gray-600 dark:text-slate-300 hover:bg-gray-50"}`,children:xe?le===1?"Pick Min":"Pick Max":"Select"})]}),f.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[f.jsx("input",{type:"number",step:"0.1",value:Yt.rangeMin,onChange:$=>io("rangeMin",$.target.value),onBlur:cl,onKeyDown:$=>Wo($,"rangeMin"),className:"w-10 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-1 py-0.5 text-center font-bold"}),f.jsx("span",{className:"text-gray-400",children:"-"}),f.jsx("input",{type:"number",step:"0.1",value:Yt.rangeMax,onChange:$=>io("rangeMax",$.target.value),onBlur:cl,onKeyDown:$=>Wo($,"rangeMax"),className:"w-10 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-1 py-0.5 text-center font-bold"})]})]}),f.jsxs("div",{className:"flex flex-col bg-indigo-50 dark:bg-indigo-900/20 p-2 rounded border border-indigo-100 dark:border-indigo-800/50",children:[f.jsx("span",{className:"text-[9px] uppercase font-bold text-indigo-600 dark:text-indigo-400 mb-1",children:"DR Params"}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("span",{className:"text-[10px] font-bold text-indigo-500 dark:text-indigo-300",children:"Img H:"}),f.jsx("input",{type:"number",value:I,onChange:$=>R($.target.value),onKeyDown:Nt,placeholder:"Empty",className:"w-14 px-1 py-0.5 bg-white dark:bg-slate-900 border border-indigo-200 dark:border-indigo-800 rounded text-center font-bold text-indigo-700 dark:text-indigo-300 text-xs placeholder:font-normal placeholder:text-gray-300"})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("span",{className:"text-[10px] font-bold text-indigo-500 dark:text-indigo-300",children:"Tgt SNR:"}),f.jsx("input",{type:"number",value:L,onChange:$=>W($.target.value),className:"w-10 px-1 py-0.5 bg-white dark:bg-slate-900 border border-indigo-200 dark:border-indigo-800 rounded text-center font-bold text-indigo-700 dark:text-indigo-300 text-xs"})]})]})]}),f.jsxs("div",{className:"flex flex-col gap-1 text-[10px] justify-end pb-0.5",children:[f.jsx("button",{onClick:()=>{ce(!U),ue&&be(null)},disabled:xe,className:`font-bold rounded border shadow-sm transition-all px-3 py-1.5 ${U?"bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-400 border-amber-500 animate-pulse":"bg-white dark:bg-slate-800 text-gray-600 dark:text-slate-300 border-gray-300 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:U?"Pick Point":"Select Linear Limit"}),f.jsxs("div",{className:"flex gap-1",children:[f.jsx("button",{onClick:lu,className:`flex-1 font-bold rounded border shadow-sm transition-all px-2 py-1 ${x==="top3"?"bg-indigo-600 text-white border-indigo-700":"bg-white dark:bg-slate-800 text-gray-600 dark:text-slate-300 border-gray-300 dark:border-slate-600 hover:bg-gray-50"}`,children:"Top 3%"}),f.jsx("button",{onClick:Lh,className:`font-bold rounded border shadow-sm transition-all px-2 py-1 ${x==="raw"?"bg-red-600 text-white border-red-700":"text-red-500 border-red-200 hover:bg-red-50"}`,children:"All"})]})]})]}),f.jsxs("div",{className:"flex flex-wrap gap-4 items-center bg-gray-50/50 dark:bg-slate-800/20 p-2 rounded-lg border border-gray-100 dark:border-slate-800",children:[f.jsx("span",{className:"text-[10px] uppercase font-bold text-gray-400 dark:text-slate-500",children:"Metadata"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("input",{type:"text",value:Dt,onChange:$=>$r($.target.value),placeholder:"Tester Name",className:"w-24 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-gray-700 dark:text-slate-300 outline-none focus:border-cyan-500 transition-colors"}),f.jsx("input",{type:"text",value:nt,onChange:$=>ur($.target.value),placeholder:"Camera Model",className:"w-32 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-gray-700 dark:text-slate-300 outline-none focus:border-cyan-500 transition-colors"}),f.jsx("input",{type:"text",value:Qt,onChange:$=>Fr($.target.value),placeholder:"ISO",className:"w-16 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-gray-700 dark:text-slate-300 outline-none focus:border-cyan-500 transition-colors"})]})]}),f.jsxs("div",{className:"flex flex-wrap gap-4 items-center bg-fuchsia-50/50 dark:bg-fuchsia-900/10 p-2 rounded-lg border border-fuchsia-100 dark:border-fuchsia-900/30",children:[f.jsx("span",{className:"text-[10px] uppercase font-bold text-fuchsia-500 dark:text-fuchsia-400",children:"Markers"}),f.jsxs("div",{className:"flex gap-2 items-center",children:[f.jsx("input",{type:"number",value:Pe,onChange:$=>Be($.target.value),placeholder:"X (Signal)",className:"w-20 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 outline-none focus:border-fuchsia-500 transition-colors"}),f.jsx("input",{type:"number",value:rt,onChange:$=>Ot($.target.value),placeholder:"Y (Value)",className:"w-20 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 outline-none focus:border-fuchsia-500 transition-colors"}),f.jsx("button",{onClick:cr,className:"px-3 py-1 bg-fuchsia-600 hover:bg-fuchsia-500 text-white text-xs font-bold rounded shadow-sm transition-colors active:scale-95",children:"+"}),Z.length>0&&f.jsx("button",{onClick:()=>Ke([]),className:"px-2 py-1 bg-gray-200 dark:bg-slate-700 hover:bg-red-500 hover:text-white text-gray-600 dark:text-slate-300 text-xs font-bold rounded shadow-sm transition-colors active:scale-95",children:"Clr"})]}),f.jsxs("div",{className:"text-[10px] text-gray-400 dark:text-slate-500 font-mono",children:[Z.length," pts"]})]}),f.jsxs("div",{className:"flex gap-4 text-[10px] pt-1 justify-center sm:justify-start flex-wrap",children:[f.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[f.jsx("input",{type:"checkbox",checked:at.shot,onChange:$=>Nr({...at,shot:$.target.checked}),className:"rounded text-gray-500"})," ",f.jsx("span",{className:"text-gray-500",children:"Shot Noise"})]}),f.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[f.jsx("input",{type:"checkbox",checked:at.read,onChange:$=>Nr({...at,read:$.target.checked}),className:"rounded text-rose-500"})," ",f.jsx("span",{className:"text-rose-500",children:"Read Noise"})]}),f.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[f.jsx("input",{type:"checkbox",checked:at.prnu,onChange:$=>Nr({...at,prnu:$.target.checked}),className:"rounded text-amber-500"})," ",f.jsx("span",{className:"text-amber-500",children:"PRNU"})]}),f.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[f.jsx("input",{type:"checkbox",checked:at.total,onChange:$=>Nr({...at,total:$.target.checked}),className:"rounded text-white"})," ",f.jsx("span",{className:"text-gray-900 dark:text-white font-bold",children:"Model"})]})]})]}),f.jsxs("div",{className:"lg:col-span-3 bg-slate-100 dark:bg-slate-800 p-4 flex flex-col justify-center gap-4",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"flex justify-between items-center mb-1 px-1",children:[f.jsxs("h3",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase flex items-center gap-2",children:["Fit Parameters (D55 SAT Channel:",de,")",S&&f.jsx("span",{className:"text-orange-500 animate-pulse text-[10px]",children:"Calculating..."})]}),f.jsxs("div",{className:"flex gap-2 items-center",children:[f.jsx("button",{onClick:Ca,disabled:S,className:`px-3 py-1 text-white text-[10px] font-bold rounded shadow-sm transition-all flex items-center gap-1 active:scale-95 
                                            ${S?"bg-gray-400 cursor-wait":zh?"bg-orange-500 hover:bg-orange-600 animate-pulse ring-2 ring-orange-400/50":"bg-cyan-600 hover:bg-cyan-500"}
                                        `,title:"Apply Black Level, Auto-detect Read Noise, then Recalculate Fit",children:S?f.jsxs(f.Fragment,{children:[f.jsxs("svg",{className:"w-3 h-3 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Fitting..."]}):f.jsxs(f.Fragment,{children:[f.jsxs("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),"Apply & Calc"]})}),f.jsxs("select",{value:Rt,onChange:$=>Jt(Number($.target.value)),className:"text-[9px] bg-slate-200 dark:bg-slate-700 text-gray-600 dark:text-slate-300 rounded px-1 py-0.5 border-none outline-none cursor-pointer hover:bg-slate-300 dark:hover:bg-slate-600 transition-colors",title:"Number of point-pairs to sample for robust regression (Theil-Sen)",children:[f.jsx("option",{value:1e5,children:"100k Pairs"}),f.jsx("option",{value:5e5,children:"500k Pairs"}),f.jsx("option",{value:2e6,children:"2M Pairs"}),f.jsx("option",{value:5e6,children:"5M Pairs"}),f.jsx("option",{value:1e7,children:"10M Pairs"})]}),pr&&f.jsxs("span",{className:"text-[10px] text-gray-400 dark:text-slate-500 font-mono",title:"Number of points used in regression",children:["N=",pr.nPoints]})]})]}),f.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("label",{className:"text-[10px] text-gray-500 dark:text-slate-400 uppercase tracking-wide mb-1",children:"rn/fpn"}),f.jsx("input",{type:"text",inputMode:"decimal",value:Yt.read,onChange:$=>io("read",$.target.value),onBlur:()=>Ti("read"),onKeyDown:$=>Wo($,"read"),className:"w-full text-center text-2xl font-light bg-transparent text-rose-500 outline-none border-b border-transparent focus:border-rose-500 transition-colors"})]}),f.jsxs("div",{className:"flex flex-col items-center relative group",children:[f.jsxs("label",{className:"text-[10px] text-gray-500 dark:text-slate-400 uppercase tracking-wide mb-1 flex items-center gap-1",children:["Kadc (HSM)",f.jsx("button",{onClick:()=>Jr(!0),className:"text-[9px] text-cyan-600 dark:text-cyan-400 hover:underline",children:"Dist."})]}),f.jsx("input",{type:"text",inputMode:"decimal",value:Yt.gain,onChange:$=>io("gain",$.target.value),onBlur:()=>Ti("gain"),onKeyDown:$=>Wo($,"gain"),className:"w-full text-center text-2xl font-light bg-transparent text-slate-700 dark:text-slate-200 outline-none border-b border-transparent focus:border-cyan-500 transition-colors"})]}),f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("label",{className:"text-[10px] text-gray-500 dark:text-slate-400 uppercase tracking-wide mb-1",children:"PRNU (%)"}),f.jsx("input",{type:"text",inputMode:"decimal",value:Yt.prnu,onChange:$=>io("prnu",$.target.value),onBlur:()=>Ti("prnu"),onKeyDown:$=>Wo($,"prnu"),className:"w-full text-center text-2xl font-light bg-transparent text-amber-500 outline-none border-b border-transparent focus:border-amber-500 transition-colors"})]})]})]}),f.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 w-full"}),f.jsxs("div",{className:"grid grid-cols-2 gap-2 text-center",children:[f.jsxs("div",{className:"flex flex-col justify-center bg-cyan-50 dark:bg-cyan-900/10 p-2 rounded-lg border border-cyan-100 dark:border-cyan-900/30",children:[f.jsxs("h4",{className:"text-[10px] font-bold text-cyan-600 dark:text-cyan-500 uppercase tracking-wide mb-1 truncate",title:`Manual DR at SNR=${(pe==null?void 0:pe.manualTarget)||L}`,children:["M.DR @ SNR=",(pe==null?void 0:pe.manualTarget)||L]}),f.jsx("div",{className:"text-base font-bold text-cyan-700 dark:text-cyan-400 whitespace-nowrap",children:pe!=null&&pe.manualDR?`${pe.manualDR.toFixed(2)} EV`:"--"})]}),f.jsxs("div",{className:"flex flex-col justify-center bg-emerald-50 dark:bg-emerald-900/10 p-2 rounded-lg border border-emerald-100 dark:border-emerald-900/30",title:isNaN((pe==null?void 0:pe.ptpTarget)||NaN)?"Requires Image Height":`Standard Point-to-Point DR (Target SNR = 16000/${I||"H"})`,children:[f.jsx("h4",{className:"text-[10px] font-bold text-emerald-600 dark:text-emerald-500 uppercase tracking-wide mb-1",children:"PTP DR"}),f.jsx("div",{className:"text-base font-bold text-emerald-700 dark:text-emerald-400 whitespace-nowrap",children:pe!=null&&pe.ptpDR?`${pe.ptpDR.toFixed(2)} EV`:"--"})]}),f.jsxs("div",{className:"flex flex-col justify-center bg-purple-50 dark:bg-purple-900/10 p-2 rounded-lg border border-purple-100 dark:border-purple-900/30",title:isNaN((pe==null?void 0:pe.ptpTarget)||NaN)?"Requires Image Height":`D55 Saturation DR (Target SNR = 16000/${I||"H"} on ${pe==null?void 0:pe.dominantChannel} Channel)`,children:[f.jsxs("h4",{className:"text-[10px] font-bold text-purple-600 dark:text-purple-400 uppercase tracking-wide mb-1 truncate",children:["D55 DR (",pe==null?void 0:pe.dominantChannel,")"]}),f.jsx("div",{className:"text-base font-bold text-purple-700 dark:text-purple-400 whitespace-nowrap",children:pe!=null&&pe.d55DR?`${pe.d55DR.toFixed(2)} EV`:"--"})]}),f.jsxs("div",{className:"flex flex-col justify-center bg-orange-50 dark:bg-orange-900/10 p-2 rounded-lg border border-orange-100 dark:border-orange-900/30",children:[f.jsx("h4",{className:"text-[10px] font-bold text-orange-600 dark:text-orange-400 uppercase tracking-wide mb-1",children:"FWC"}),f.jsx("div",{className:"text-base font-bold text-orange-600 dark:text-orange-400 font-mono whitespace-nowrap truncate",title:$e!==null?`${Math.round($e)}`:"",children:$e!==null?$e>1e4?`${($e/1e3).toFixed(1)}k`:`${Math.round($e)}`:"--"})]})]}),ue===null&&f.jsx("div",{className:"text-center text-[10px] text-red-500 animate-pulse font-bold mt-[-10px]",children:"Please select Linear Limit on chart to calc DR"})]})]}),f.jsxs("div",{className:`flex-1 p-4 bg-white dark:bg-slate-900 relative grid grid-cols-[auto_1fr] grid-rows-[1fr_auto] gap-2 ${U||xe?"cursor-crosshair":""}`,children:[f.jsx("div",{className:"row-start-1 col-start-1 h-full",children:f.jsx(C2,{vertical:!0,min:Wt,max:Lt,value:[E?parseFloat(E):Wt,D?parseFloat(D):Lt],onChange:([$,Y])=>{F($.toString()),T(Y.toString())},logScale:h})}),f.jsxs("div",{className:"row-start-1 col-start-2 relative",children:[J.length===0?f.jsx("div",{className:"flex h-full items-center justify-center text-gray-400",children:"No valid data points found."}):f.jsx(Ss,{width:"100%",height:"100%",children:f.jsxs(DZ,{margin:{top:20,right:20,bottom:0,left:0},onClick:Go,children:[f.jsx("defs",{children:f.jsxs("filter",{id:"glow",height:"300%",width:"300%",x:"-100%",y:"-100%",children:[f.jsx("feGaussianBlur",{stdDeviation:"2",result:"coloredBlur"}),f.jsxs("feMerge",{children:[f.jsx("feMergeNode",{in:"coloredBlur"}),f.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),f.jsx(ji,{strokeDasharray:"3 3",stroke:"#374151",opacity:.2}),f.jsx(fa,{type:"number",dataKey:"x",name:"Signal",scale:h?"log":"linear",domain:ul(P,A),allowDataOverflow:!0,hide:!0}),f.jsx(da,{type:"number",dataKey:"y",name:u,scale:h?"log":"linear",domain:ul(E,D),label:{value:cu,angle:-90,position:"insideLeft",fill:"#9ca3af",fontSize:12},tick:{fill:"#9ca3af",fontSize:10},allowDataOverflow:!0}),f.jsx(cn,{content:f.jsx(Bh,{}),cursor:{strokeDasharray:"3 3"}}),ue&&f.jsx(oi,{x:ue,stroke:"red",strokeDasharray:"3 3",label:{position:"top",value:"Sat",fill:"red",fontSize:10}}),(at.fitRange||xe)&&f.jsxs(f.Fragment,{children:[f.jsx(oi,{x:Ne,stroke:"#22d3ee",strokeDasharray:"5 5",label:{position:"insideTopLeft",value:`Min: ${ar.min}%`,fill:"#22d3ee",fontSize:9}}),f.jsx(oi,{x:wt,stroke:"#22d3ee",strokeDasharray:"5 5",label:{position:"insideTopLeft",value:`Max: ${ar.max}%`,fill:"#22d3ee",fontSize:9}})]}),k.R&&f.jsx(sn,{name:"Red",data:ga.R,fill:"#ef4444",shape:Ho,onClick:Go,style:s==="dark"?{filter:"url(#glow)"}:void 0},"scatter-R"),k.G1&&f.jsx(sn,{name:"Green 1",data:ga.G1,fill:"#22c55e",shape:Ho,onClick:Go,style:s==="dark"?{filter:"url(#glow)"}:void 0},"scatter-G1"),k.G2&&f.jsx(sn,{name:"Green 2",data:ga.G2,fill:"#4ade80",shape:Ho,onClick:Go,style:s==="dark"?{filter:"url(#glow)"}:void 0},"scatter-G2"),k.B&&f.jsx(sn,{name:"Blue",data:ga.B,fill:"#3b82f6",shape:Ho,onClick:Go,style:s==="dark"?{filter:"url(#glow)"}:void 0},"scatter-B"),at.shot&&it.shot.length>0&&f.jsx(sn,{name:"Shot Noise (Ideal)",data:it.shot,line:{stroke:"#94a3b8",strokeWidth:1,strokeDasharray:"5 5"},shape:()=>f.jsx(f.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-shot"),at.read&&it.read.length>0&&f.jsx(sn,{name:"Read Noise Floor",data:it.read,line:{stroke:"#f43f5e",strokeWidth:1,strokeDasharray:"3 3"},shape:()=>f.jsx(f.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-read"),at.prnu&&it.prnu.length>0&&f.jsx(sn,{name:"PRNU (Non-uniformity)",data:it.prnu,line:{stroke:"#f59e0b",strokeWidth:1,strokeDasharray:"3 3"},shape:()=>f.jsx(f.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-prnu"),at.total&&it.total.length>0&&f.jsx(sn,{name:"Total Noise Model",data:it.total,line:{stroke:Fh,strokeWidth:2},shape:()=>f.jsx(f.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-total"),dt.length>0&&f.jsx(sn,{name:`Target SNR=${L}`,data:dt,line:{stroke:"#6366f1",strokeWidth:2,strokeDasharray:"4 2"},shape:()=>f.jsx(f.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-target"),zr.length>0&&f.jsx(sn,{name:`PTP Target SNR=${pe!=null&&pe.ptpTarget?pe.ptpTarget.toFixed(1):"?"}`,data:zr,line:{stroke:"#10b981",strokeWidth:2,strokeDasharray:"4 4"},shape:()=>f.jsx(f.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-ptp"),Z.length>0&&f.jsx(sn,{name:"Manual Markers",data:Z,fill:"#d946ef",shape:"star",legendType:"star"},"manual-points")]})}),f.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 pointer-events-none select-none opacity-25 mix-blend-normal dark:mix-blend-plus-lighter",children:f.jsx("svg",{viewBox:"0 0 500 60",className:"w-96 h-auto",children:f.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"36",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})})]}),f.jsx("div",{className:"row-start-2 col-start-2 w-full",children:f.jsx(C2,{min:Fe,max:Ue,value:[P?parseFloat(P):Fe,A?parseFloat(A):Ue],onChange:([$,Y])=>{_($.toString()),N(Y.toString())},logScale:h})})]})]})})},lQ=({searchTerm:e,onSearchChange:t,manufacturers:r,selectedManufacturer:n,onManufacturerChange:a,cameras:o,onCameraSelect:i})=>f.jsx("div",{className:"sticky top-4 z-10 bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm p-4 rounded-xl border border-gray-200 dark:border-slate-700 shadow-sm",children:f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[f.jsxs("div",{className:"relative md:col-span-3",children:[f.jsx("input",{type:"text",placeholder:"Search camera model...",value:e,onChange:s=>t(s.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none transition-all duration-300 text-gray-900 dark:text-slate-200 placeholder-gray-500 dark:placeholder-slate-400"}),f.jsx("svg",{className:"w-5 h-5 text-gray-400 dark:text-slate-400 absolute top-1/2 left-3 transform -translate-y-1/2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),f.jsx("select",{value:n,onChange:s=>a(s.target.value),className:"w-full md:col-span-1 bg-gray-50 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg px-4 py-2 focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none transition-all duration-300 appearance-none text-gray-900 dark:text-slate-200",children:r.map(s=>f.jsx("option",{value:s,children:s},s))}),f.jsxs("select",{onChange:s=>i(s.target.value),className:"w-full md:col-span-1 bg-gray-50 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg px-4 py-2 focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none transition-all duration-300 appearance-none text-gray-900 dark:text-slate-200",value:"","aria-label":"Jump to camera model",children:[f.jsx("option",{value:"",disabled:!0,children:"Jump to model..."}),o.map(s=>f.jsx("option",{value:s.id,children:s.name},s.id))]})]})}),cQ=({active:e,payload:t,label:r,theme:n})=>{if(e&&t&&t.length){const a=t[0].payload,o=n==="dark"?"bg-slate-800/80 border-slate-600 text-slate-300":"bg-white/90 border-gray-200 text-gray-700";return f.jsxs("div",{className:`${o} backdrop-blur-sm border p-3 rounded-lg shadow-lg`,children:[f.jsx("p",{className:"label font-bold",children:`ISO ${r}`}),f.jsx("div",{className:"mt-2 space-y-1 text-sm",children:f.jsxs(f.Fragment,{children:[f.jsxs("div",{style:{color:"#f87171"},children:["Red: ",a.R_avg.toFixed(2)," (Range: ",a.R_range[0]," - ",a.R_range[1],")"]}),f.jsxs("div",{style:{color:"#4ade80"},children:["Green 1: ",a.G1_avg.toFixed(2)," (Range: ",a.G1_range[0]," - ",a.G1_range[1],")"]}),f.jsxs("div",{style:{color:"#60a5fa"},children:["Blue: ",a.B_avg.toFixed(2)," (Range: ",a.B_range[0]," - ",a.B_range[1],")"]}),f.jsxs("div",{style:{color:"#86efac"},children:["Green 2: ",a.G2_avg.toFixed(2)," (Range: ",a.G2_range[0]," - ",a.G2_range[1],")"]})]})})]})}return null},uQ=({data:e,theme:t="dark"})=>{const r=O.useMemo(()=>!e||e.length===0?[]:[...new Set(e.map(i=>i.iso))].sort((i,s)=>Number(i)-Number(s)),[e]),n=O.useMemo(()=>{if(!e||e.length===0)return[0,4096];const i=e.flatMap(m=>[...m.R_range,...m.G1_range,...m.G2_range,...m.B_range]);if(i.length===0)return[0,4096];let s=Math.min(...i),l=Math.max(...i);const c=.25,u=l-s;if(u<c){const m=c-u;s-=m/2,l+=m/2}const d=(l-s)*.1,h=s-d,p=l+d;return[h,p]},[e]),a=t==="dark"?"#475569":"#e5e7eb",o=t==="dark"?"#94a3b8":"#6b7280";return!e||e.length===0?f.jsx("div",{className:"flex items-center justify-center h-full text-gray-500 dark:text-slate-500",children:f.jsx("p",{children:"No data available for this mode."})}):f.jsx(Ss,{width:"100%",height:"100%",children:f.jsxs(N_,{data:e,margin:{top:5,right:20,left:0,bottom:5},children:[f.jsx(ji,{strokeDasharray:"3 3",stroke:a}),f.jsx(fa,{dataKey:"iso",type:"number",domain:["dataMin","dataMax"],tick:{fill:o,fontSize:12},scale:"log",allowDuplicatedCategory:!1,ticks:r}),f.jsx(da,{tick:{fill:o,fontSize:12},domain:n,allowDecimals:!0,tickFormatter:i=>Number(i).toFixed(3)}),f.jsx(cn,{content:f.jsx(cQ,{theme:t})}),f.jsx(Va,{wrapperStyle:{fontSize:"14px",color:o}}),f.jsx(Gn,{type:"monotone",dataKey:"R_range",fill:"#f87171",stroke:"none",fillOpacity:.2,name:"Red",legendType:"none"}),f.jsx(Yr,{type:"monotone",dataKey:"R_avg",stroke:"#f87171",strokeWidth:2,dot:!1,activeDot:{r:5},name:"Red"}),f.jsx(Gn,{type:"monotone",dataKey:"G1_range",fill:"#4ade80",stroke:"none",fillOpacity:.2,name:"Green 1",legendType:"none"}),f.jsx(Yr,{type:"monotone",dataKey:"G1_avg",stroke:"#4ade80",strokeWidth:2,dot:!1,activeDot:{r:5},name:"Green 1"}),f.jsx(Gn,{type:"monotone",dataKey:"B_range",fill:"#60a5fa",stroke:"none",fillOpacity:.2,name:"Blue",legendType:"none"}),f.jsx(Yr,{type:"monotone",dataKey:"B_avg",stroke:"#60a5fa",strokeWidth:2,dot:!1,activeDot:{r:5},name:"Blue"}),f.jsx(Gn,{type:"monotone",dataKey:"G2_range",fill:"#86efac",stroke:"none",fillOpacity:.2,name:"Green 2",legendType:"none"}),f.jsx(Yr,{type:"monotone",dataKey:"G2_avg",stroke:"#86efac",strokeWidth:2,dot:!1,activeDot:{r:5},name:"Green 2"})]})})},fQ=M.forwardRef(({camera:e,theme:t="dark"},r)=>{const n=O.useMemo(()=>e.shootingModes.map(d=>d.modeName),[e.shootingModes]),[a,o]=O.useState(n[0]||""),{chartData:i,tableData:s}=O.useMemo(()=>{const d=e.shootingModes.find(m=>m.modeName===a);if(!(d!=null&&d.data))return{chartData:[],tableData:[]};const h=d.data.map(m=>({iso:m.iso,R_range:m.r.range,R_avg:m.r.avg,G1_range:m.g1.range,G1_avg:m.g1.avg,B_range:m.b.range,B_avg:m.b.avg,G2_range:m.g2.range,G2_avg:m.g2.avg})),p=d.data.map(m=>({iso:m.iso,levels:[m.r.avg,m.g1.avg,m.g2.avg,m.b.avg],clipping:m.clipping}));return{chartData:h,tableData:p}},[e.shootingModes,a]),l=`Raw Data (${a})`,c=O.useRef(null),u=O.useRef(null);return O.useEffect(()=>{const d=c.current,h=u.current;if(!d||!h)return;const p=new ResizeObserver(m=>{for(let v of m){const{width:x}=v.contentRect,g=Math.max(8,x/35);h.style.fontSize=`${g}px`}});return p.observe(d),()=>p.disconnect()},[]),f.jsxs("div",{ref:r,className:"bg-white dark:bg-slate-800/50 border border-gray-200 dark:border-slate-700 rounded-xl shadow-lg p-6 flex flex-col gap-6 transform hover:scale-[1.02] hover:border-cyan-500/50 transition-all duration-500 ease-in-out",children:[f.jsxs("div",{className:"border-b border-gray-200 dark:border-slate-700 pb-4",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-slate-100",children:e.name}),f.jsx("p",{className:"text-cyan-600 dark:text-cyan-400",children:e.manufacturer})]}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-4 mb-4",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-slate-300",children:"Black Level vs. ISO"}),f.jsx("select",{value:a,onChange:d=>o(d.target.value),className:"w-full sm:w-auto bg-gray-50 dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded-md px-3 py-1 text-sm outline-none focus:ring-2 focus:ring-cyan-500 transition-all duration-300 text-gray-900 dark:text-slate-200","aria-label":`Select shooting mode for ${e.name}`,children:n.map(d=>f.jsx("option",{value:d,children:d},d))})]}),f.jsxs("div",{ref:c,className:"h-64 relative",children:[f.jsx(uQ,{data:i,theme:t},a),f.jsx("div",{className:"absolute top-1/2 left-[52%] transform -translate-x-1/2 -translate-y-1/2 -rotate-30 pointer-events-none",children:f.jsx("p",{ref:u,className:"font-bold text-gray-900/10 dark:text-slate-200/40 whitespace-nowrap",children:" y-g-jiang.github.io"})})]})]}),f.jsxs("div",{className:"overflow-x-auto",children:[f.jsx("div",{className:"flex justify-between items-center mb-4",children:f.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-slate-300",children:l})}),f.jsxs("table",{className:"w-full text-left border-collapse",children:[f.jsx("thead",{className:"bg-gray-100 dark:bg-slate-700/50",children:f.jsxs("tr",{children:[f.jsx("th",{className:"p-3 font-semibold text-sm text-gray-700 dark:text-slate-300",children:"ISO"}),f.jsx("th",{className:"p-3 font-semibold text-sm text-red-500 dark:text-red-400",children:"Red"}),f.jsx("th",{className:"p-3 font-semibold text-sm text-green-600 dark:text-green-400",children:"Green 1"}),f.jsx("th",{className:"p-3 font-semibold text-sm text-blue-500 dark:text-blue-400",children:"Blue"}),f.jsx("th",{className:"p-3 font-semibold text-sm text-green-500 dark:text-green-300",children:"Green 2"})]})}),f.jsx("tbody",{children:s.map(({iso:d,levels:h,clipping:p})=>f.jsxs("tr",{className:"border-b border-gray-200 dark:border-slate-700/50 last:border-b-0",children:[f.jsxs("td",{className:"p-3 font-mono text-gray-700 dark:text-slate-300 whitespace-nowrap",children:[d,p&&f.jsx("span",{className:"ml-3 text-xs font-semibold text-amber-600 dark:text-amber-400 bg-amber-100 dark:bg-amber-900/50 px-2 py-1 rounded-full align-middle",children:"Clipping"})]}),f.jsx("td",{className:"p-3 font-mono text-red-500 dark:text-red-400",children:h[0].toFixed(2)}),f.jsx("td",{className:"p-3 font-mono text-green-600 dark:text-green-400",children:h[1].toFixed(2)}),f.jsx("td",{className:"p-3 font-mono text-blue-500 dark:text-blue-400",children:h[3].toFixed(2)}),f.jsx("td",{className:"p-3 font-mono text-green-500 dark:text-green-300",children:h[2].toFixed(2)})]},d))})]})]})]})}),Ye=(e,t,r)=>({avg:e,range:[t,r]}),Oe=(e=255)=>{const t=e+(Math.random()-.5)*2,r=Math.random()*.2+.05;return{avg:t,range:[parseFloat((t-r).toFixed(2)),parseFloat((t+r).toFixed(2))]}},Yp=[{id:"olympus-om1",name:"Olympus OM-1",manufacturer:"Olympus",shootingModes:[{modeName:"Single Shot",data:[{iso:200,r:Ye(254.9,254.89,254.91),g1:Ye(254.87,254.86,254.88),b:Ye(254.9,254.89,254.91),g2:Ye(254.87,254.86,254.88)},{iso:400,r:Ye(254.9,254.89,254.91),g1:Ye(254.87,254.86,254.88),b:Ye(254.9,254.89,254.91),g2:Ye(254.87,254.86,254.88),clipping:!0}]},{modeName:"20fps",data:[{iso:200,r:Ye(254.94,254.83,254.96),g1:Ye(254.92,254.81,254.96),b:Ye(254.94,254.83,254.96),g2:Ye(254.93,254.81,254.95)},{iso:400,r:Ye(254.94,254.83,254.96),g1:Ye(254.92,254.81,254.96),b:Ye(254.94,254.83,254.96),g2:Ye(254.93,254.81,254.95),clipping:!0}]},{modeName:"50fps",data:[{iso:200,r:Ye(254.82,254.75,254.94),g1:Ye(254.74,254.68,254.87),b:Ye(254.82,254.75,254.94),g2:Ye(254.75,254.68,254.87)},{iso:400,r:Ye(254.82,254.75,254.94),g1:Ye(254.74,254.68,254.87),b:Ye(254.82,254.75,254.94),g2:Ye(254.75,254.68,254.87),clipping:!0}]}]},{id:"panasonic-g9",name:"Panasonic G9",manufacturer:"Panasonic",shootingModes:[{modeName:"Single Shot",data:[{iso:200,r:Ye(254.9,254.89,254.91),g1:Ye(254.87,254.86,254.88),b:Ye(254.9,254.89,254.91),g2:Ye(254.87,254.86,254.88)},{iso:400,r:Ye(254.9,254.89,254.91),g1:Ye(254.87,254.86,254.88),b:Ye(254.9,254.89,254.91),g2:Ye(254.87,254.86,254.88),clipping:!0}]},{modeName:"30fps",data:[{iso:200,r:Ye(254.94,254.83,254.96),g1:Ye(254.92,254.81,254.96),b:Ye(254.94,254.83,254.96),g2:Ye(254.93,254.81,254.95)},{iso:400,r:Ye(254.94,254.83,254.96),g1:Ye(254.92,254.81,254.96),b:Ye(254.94,254.83,254.96),g2:Ye(254.93,254.81,254.95),clipping:!0}]}]},{id:"virtual-cam-1",name:"Virtual Camera Pro",manufacturer:"Virtual",shootingModes:[{modeName:"Standard",data:[{iso:100,r:Oe(255),g1:Oe(255),b:Oe(255),g2:Oe(255)},{iso:200,r:Oe(255.2),g1:Oe(255.2),b:Oe(255.2),g2:Oe(255.2)},{iso:400,r:Oe(255.5),g1:Oe(255.5),b:Oe(255.5),g2:Oe(255.5)},{iso:800,r:Oe(256),g1:Oe(256),b:Oe(256),g2:Oe(256)},{iso:1600,r:Oe(257),g1:Oe(257),b:Oe(257),g2:Oe(257),clipping:!0}]},{modeName:"High Speed",data:[{iso:200,r:Oe(256),g1:Oe(256),b:Oe(256),g2:Oe(256)},{iso:400,r:Oe(256.3),g1:Oe(256.3),b:Oe(256.3),g2:Oe(256.3)},{iso:800,r:Oe(256.8),g1:Oe(256.8),b:Oe(256.8),g2:Oe(256.8)},{iso:1600,r:Oe(257.5),g1:Oe(257.5),b:Oe(257.5),g2:Oe(257.5),clipping:!0},{iso:3200,r:Oe(259),g1:Oe(259),b:Oe(259),g2:Oe(259),clipping:!0}]},{modeName:"Low Light",data:[{iso:800,r:Oe(254),g1:Oe(254),b:Oe(254),g2:Oe(254)},{iso:1600,r:Oe(254.5),g1:Oe(254.5),b:Oe(254.5),g2:Oe(254.5)},{iso:3200,r:Oe(255),g1:Oe(255),b:Oe(255),g2:Oe(255),clipping:!0},{iso:6400,r:Oe(256),g1:Oe(256),b:Oe(256),g2:Oe(256),clipping:!0}]}]}],dQ=({isOpen:e,onClose:t,theme:r})=>{const[n,a]=O.useState(""),[o,i]=O.useState("All"),s=O.useMemo(()=>["All",...Array.from(new Set(Yp.map(d=>d.manufacturer))).sort()],[]),l=O.useMemo(()=>Yp.filter(u=>{const d=u.name.toLowerCase().includes(n.toLowerCase()),h=o==="All"||u.manufacturer===o;return d&&h}),[n,o]),c=u=>{const d=document.getElementById(`camera-${u}`);d&&d.scrollIntoView({behavior:"smooth"})};return e?f.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",onClick:t,children:f.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-6xl h-[90vh] rounded-2xl shadow-2xl flex flex-col border border-gray-200 dark:border-slate-700 overflow-hidden",onClick:u=>u.stopPropagation(),children:[f.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50",children:[f.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-slate-100 flex items-center gap-2",children:["Camera Black Level Database",f.jsxs("span",{className:"text-xs font-normal bg-cyan-100 dark:bg-cyan-900/30 text-cyan-600 dark:text-cyan-400 px-2 py-0.5 rounded border border-cyan-200 dark:border-cyan-800",children:[Yp.length," Models"]})]}),f.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 transition-colors p-2 rounded-full hover:bg-gray-100 dark:hover:bg-slate-800",children:f.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),f.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-slate-700 bg-gray-50/50 dark:bg-slate-800/30",children:f.jsx(lQ,{searchTerm:n,onSearchChange:a,manufacturers:s,selectedManufacturer:o,onManufacturerChange:i,cameras:l,onCameraSelect:c})}),f.jsx("div",{className:"flex-1 overflow-y-auto p-6 scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-slate-700 bg-gray-100 dark:bg-slate-950",children:f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-2 gap-6",children:[l.map(u=>f.jsx("div",{id:`camera-${u.id}`,children:f.jsx(fQ,{camera:u,theme:r})},u.id)),l.length===0&&f.jsx("div",{className:"col-span-full flex flex-col items-center justify-center py-20 text-gray-400 dark:text-slate-600",children:f.jsx("p",{className:"text-lg",children:"No cameras found matching your criteria."})})]})})]})}):null},hQ=({isOpen:e,onClose:t,zIndex:r=150})=>{const[n,a]=O.useState(""),[o,i]=O.useState(""),[s,l]=O.useState(""),[c,u]=O.useState(""),[d,h]=O.useState(null),p=()=>{const m=parseFloat(n),v=parseFloat(o),x=parseFloat(s),y=parseFloat(c);if(isNaN(m)||isNaN(v)||isNaN(x)||isNaN(y)){h(null);return}const g=m,b=v,S=x*x,w=y*y,k=(g+b)/2;if(k<=1e-9){h(0);return}const j=S*w/k,P=Math.sqrt(j);h(P)};return e?f.jsxs($h,{initialPosition:{x:window.innerWidth/2-160,y:window.innerHeight/2-200},onClose:t,zIndex:r,className:"w-80 bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 flex flex-col shadow-2xl",children:[f.jsxs("div",{className:"flex justify-between items-center px-4 py-3 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800",children:[f.jsx("h3",{className:"text-sm font-bold text-gray-700 dark:text-slate-200",children:"Cross-Compensation Calc"}),f.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 transition-colors",children:f.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),f.jsxs("div",{className:"p-4 flex flex-col gap-3 text-xs",children:[f.jsxs("div",{className:"flex flex-col gap-1",children:[f.jsx("label",{className:"text-gray-500 dark:text-slate-400 font-bold",children:"H Mean (Power/Var)"}),f.jsx("input",{type:"number",step:"any",value:n,onChange:m=>a(m.target.value),className:"p-2 rounded bg-gray-100 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 outline-none focus:border-indigo-500 text-gray-900 dark:text-slate-100 font-mono"})]}),f.jsxs("div",{className:"flex flex-col gap-1",children:[f.jsx("label",{className:"text-gray-500 dark:text-slate-400 font-bold",children:"V Mean (Power/Var)"}),f.jsx("input",{type:"number",step:"any",value:o,onChange:m=>i(m.target.value),className:"p-2 rounded bg-gray-100 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 outline-none focus:border-indigo-500 text-gray-900 dark:text-slate-100 font-mono"})]}),f.jsxs("div",{className:"flex flex-col gap-1",children:[f.jsx("label",{className:"text-gray-500 dark:text-slate-400 font-bold",children:"H RMS 0 (Sigma)"}),f.jsx("input",{type:"number",step:"any",value:s,onChange:m=>l(m.target.value),className:"p-2 rounded bg-gray-100 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 outline-none focus:border-indigo-500 text-gray-900 dark:text-slate-100 font-mono"})]}),f.jsxs("div",{className:"flex flex-col gap-1",children:[f.jsx("label",{className:"text-gray-500 dark:text-slate-400 font-bold",children:"V RMS 0 (Sigma)"}),f.jsx("input",{type:"number",step:"any",value:c,onChange:m=>u(m.target.value),className:"p-2 rounded bg-gray-100 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 outline-none focus:border-indigo-500 text-gray-900 dark:text-slate-100 font-mono"})]}),f.jsx("button",{onClick:p,className:"mt-2 w-full py-2 bg-indigo-600 hover:bg-indigo-500 text-white font-bold rounded shadow transition-colors active:scale-95",children:"Calculate Sigma"}),d!==null&&f.jsxs("div",{className:"mt-2 p-3 bg-indigo-50 dark:bg-indigo-900/30 border border-indigo-200 dark:border-indigo-800 rounded text-center animate-in fade-in slide-in-from-top-1",children:[f.jsx("span",{className:"block text-[10px] uppercase font-bold text-gray-500 dark:text-slate-400 mb-1",children:"Original White Noise Sigma"}),f.jsx("span",{className:"text-lg font-mono font-bold text-indigo-700 dark:text-indigo-300 select-all",children:d.toFixed(5)})]})]})]}):null};function qp(e,t,r){const a=e*t*2,o=8,i=o+a,s="Fake",l="NoiseCam",c="NoiseCam",u=_=>{const A=new Uint8Array(_.length+1);for(let N=0;N<_.length;N++)A[N]=_.charCodeAt(N);return A[_.length]=0,A},d=u(s),h=u(l),p=u(c),m=[{id:254,type:4,count:1,value:0},{id:256,type:4,count:1,value:e},{id:257,type:4,count:1,value:t},{id:258,type:3,count:1,value:16},{id:259,type:3,count:1,value:1},{id:262,type:3,count:1,value:32803},{id:271,type:2,count:d.length,value:d},{id:272,type:2,count:h.length,value:h},{id:273,type:4,count:1,value:o},{id:277,type:3,count:1,value:1},{id:278,type:4,count:1,value:t},{id:279,type:4,count:1,value:a},{id:33421,type:3,count:2,value:[2,2]},{id:33422,type:1,count:4,value:[0,1,1,2]},{id:50706,type:1,count:4,value:[1,4,0,0]},{id:50717,type:2,count:p.length,value:p}],v=2+m.length*12+4;let x=0;const y=m.map(_=>{let A=1;_.type===3&&(A=2),_.type===4&&(A=4);const N=_.count*A,E=N<=4;let F=0;return E||(F=x,x+=N,x%2!==0&&x++),{..._,fits:E,totalBytes:N,extraOffset:F}}),g=i+v,b=g+x,S=new ArrayBuffer(b),w=new DataView(S),k=new Uint8Array(S);w.setUint16(0,18761,!0),w.setUint16(2,42,!0),w.setUint32(4,i,!0);const j=new Uint8Array(r.buffer,r.byteOffset,r.byteLength);k.set(j,o);let P=i;return w.setUint16(P,m.length,!0),P+=2,y.forEach(_=>{if(w.setUint16(P,_.id,!0),w.setUint16(P+2,_.type,!0),w.setUint32(P+4,_.count,!0),_.fits){const A=P+8;Array.isArray(_.value)?_.value.forEach((N,E)=>{_.type===1&&w.setUint8(A+E,N),_.type===3&&w.setUint16(A+E*2,N,!0)}):_.value instanceof Uint8Array||(_.type===3&&w.setUint16(A,_.value,!0),_.type===4&&w.setUint32(A,_.value,!0))}else{const A=g+_.extraOffset;w.setUint32(P+8,A,!0);const N=A;_.value instanceof Uint8Array?k.set(_.value,N):Array.isArray(_.value)&&_.value.forEach((E,F)=>{_.type===1&&w.setUint8(N+F,E),_.type===3&&w.setUint16(N+F*2,E,!0)})}P+=12}),w.setUint32(P,0,!0),S}const pQ="http://localhost:5428",gQ=(e=!1)=>{const[t,r]=O.useState({isConnected:!1,message:"Initializing...",hasDngConverter:!1});return O.useEffect(()=>{if(e){r({isConnected:!1,message:"Bridge Paused",hasDngConverter:!1});return}const n=async()=>{try{const o=new AbortController,i=setTimeout(()=>o.abort(),1e3),s=await fetch(`${pQ}/health`,{method:"GET",signal:o.signal});if(clearTimeout(i),s.ok){const l=await s.json(),c=`Connected (${l.exiftool||"Ready"})`;r(u=>u.isConnected===!0&&u.message===c&&u.version===l.exiftool&&u.hasDngConverter===!!l.dng_converter?u:{isConnected:!0,message:c,version:l.exiftool,hasDngConverter:!!l.dng_converter})}else r(l=>l.isConnected===!1&&l.message==="Service Error"?l:{isConnected:!1,message:"Service Error",hasDngConverter:!1})}catch{r(i=>i.isConnected===!1&&i.message==="Not Detected"?i:{isConnected:!1,message:"Not Detected",hasDngConverter:!1})}};n();const a=setInterval(n,2e3);return()=>clearInterval(a)},[e]),t},mQ="JTR_BlobStore",Aa="raw_files",yQ=1,Dh=()=>new Promise((e,t)=>{const r=indexedDB.open(mQ,yQ);r.onupgradeneeded=n=>{const a=n.target.result;a.objectStoreNames.contains(Aa)||a.createObjectStore(Aa)},r.onsuccess=()=>e(r.result),r.onerror=()=>t(r.error)}),E2=async(e,t)=>{const r=await Dh();return new Promise((n,a)=>{const o=r.transaction(Aa,"readwrite");o.objectStore(Aa).put(t,e),o.oncomplete=()=>n(),o.onerror=()=>a(o.error)})},vQ=async e=>{const t=await Dh();return new Promise((r,n)=>{const i=t.transaction(Aa,"readonly").objectStore(Aa).get(e);i.onsuccess=()=>r(i.result),i.onerror=()=>n(i.error)})},xQ=async()=>{const e=await Dh();return new Promise((t,r)=>{const n=e.transaction(Aa,"readwrite");n.objectStore(Aa).clear(),n.oncomplete=()=>t(),n.onerror=()=>r(n.error)})},A_="jtr_workspace_index",bQ=e=>{try{const t=JSON.stringify(e);localStorage.setItem(A_,t)}catch(t){console.error("Failed to save workspace index",t)}},wQ=()=>{try{const e=localStorage.getItem(A_);return e?JSON.parse(e):null}catch(e){return console.error("Failed to load workspace index",e),null}},kQ=async e=>{const n=(await Dh()).transaction(Aa,"readwrite").objectStore(Aa),a=n.getAllKeys();a.onsuccess=()=>{a.result.forEach(i=>{e.includes(i)||n.delete(i)})}},Gr=1024,T2=(e,t,r)=>{const n=e.width,a=e.height,o=new ImageData(t,r),i=e.data,s=o.data,l=n/t,c=a/r;for(let u=0;u<r;u++){const d=Math.floor(u*c),h=u*t*4,p=d*n*4;for(let m=0;m<t;m++){const x=Math.floor(m*l)*4,y=h+m*4,g=p+x;s[y]=i[g],s[y+1]=i[g+1],s[y+2]=i[g+2],s[y+3]=i[g+3]}}return o},SQ=({stats:e,onClose:t,onMinimize:r,isBGGR:n,onToggleBGGR:a,onOpenWindow:o,displaySettings:i,zIndex:s,onFocus:l})=>{if(!e)return null;const c=!!i.showKadc&&!!i.blackLevel,u=i.blackLevel||[0,0,0,0],d=!!i.subtractBlackLevelFromStats&&!!i.blackLevel,h=(x,y,g)=>{if(!c)return null;const b=y*y;return b<=1e-4?0:(x-g)/b},p=(x,y)=>d?x-u[y]:x,m=()=>{if(!d){alert(`Sub. BL
Please enable 'Sub. BL' in Tools sidebar first.`);return}let x,y,g,b;n?(b=0,y=1,g=2,x=3):(x=0,y=1,g=2,b=3);const S=k=>e.means[k]-u[k],w=k=>e.stdDevs[k];localStorage.setItem("import_signal_r",S(x).toString()),localStorage.setItem("import_signal_g1",S(y).toString()),localStorage.setItem("import_signal_g2",S(g).toString()),localStorage.setItem("import_signal_b",S(b).toString()),localStorage.setItem("import_sigma_r",w(x).toString()),localStorage.setItem("import_sigma_g1",w(y).toString()),localStorage.setItem("import_sigma_g2",w(g).toString()),localStorage.setItem("import_sigma_b",w(b).toString()),window.open("https://y-g-jiang.github.io/XJZS.html","_blank")},v=n?[{name:"B",desc:"(0,0)",mean:p(e.means[0],0),std:e.stdDevs[0],color:"text-blue-500",k:h(e.means[0],e.stdDevs[0],u[0])},{name:"G1",desc:"(0,1)",mean:p(e.means[1],1),std:e.stdDevs[1],color:"text-green-500",k:h(e.means[1],e.stdDevs[1],u[1])},{name:"G2",desc:"(1,0)",mean:p(e.means[2],2),std:e.stdDevs[2],color:"text-green-500",k:h(e.means[2],e.stdDevs[2],u[2])},{name:"R",desc:"(1,1)",mean:p(e.means[3],3),std:e.stdDevs[3],color:"text-red-500",k:h(e.means[3],e.stdDevs[3],u[3])}]:[{name:"R",desc:"(0,0)",mean:p(e.means[0],0),std:e.stdDevs[0],color:"text-red-500",k:h(e.means[0],e.stdDevs[0],u[0])},{name:"G1",desc:"(0,1)",mean:p(e.means[1],1),std:e.stdDevs[1],color:"text-green-500",k:h(e.means[1],e.stdDevs[1],u[1])},{name:"G2",desc:"(1,0)",mean:p(e.means[2],2),std:e.stdDevs[2],color:"text-green-500",k:h(e.means[2],e.stdDevs[2],u[2])},{name:"B",desc:"(1,1)",mean:p(e.means[3],3),std:e.stdDevs[3],color:"text-blue-500",k:h(e.means[3],e.stdDevs[3],u[3])}];return f.jsxs($h,{className:`${c?"w-80":"w-60"} p-0 overflow-hidden transition-all duration-300`,onClose:t,zIndex:s,onFocus:l,children:[f.jsxs("div",{className:"flex justify-between items-center px-3 py-2 border-b border-gray-100 dark:border-slate-800 bg-gray-50/50 dark:bg-slate-800/50",children:[f.jsxs("h3",{className:"text-xs font-bold text-gray-700 dark:text-slate-300 uppercase tracking-wider flex items-center gap-2",children:["ROI Analysis",f.jsxs("span",{className:"text-[10px] font-normal text-gray-400 bg-gray-200 dark:bg-slate-700 px-1.5 py-0.5 rounded",children:[Math.round(e.width),"",Math.round(e.height)]})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 transition-colors p-1 rounded-md hover:bg-gray-200 dark:hover:bg-slate-700 relative z-20",children:f.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),f.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 dark:hover:text-red-400 transition-colors p-1 rounded-md hover:bg-gray-200 dark:hover:bg-slate-700 relative z-20",children:f.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),f.jsxs("div",{className:"p-3",children:[f.jsxs("div",{className:"flex justify-between items-center mb-3",children:[f.jsxs("div",{className:"text-[10px] text-gray-400 dark:text-slate-500 font-mono leading-tight",children:["X: ",Math.round(e.x),f.jsx("br",{}),"Y: ",Math.round(e.y)]}),f.jsx("button",{onClick:()=>a(!n),className:"text-[10px] font-bold px-2 py-1 rounded bg-gray-100 hover:bg-gray-200 dark:bg-slate-800 dark:hover:bg-slate-700 text-gray-600 dark:text-slate-300 transition-colors border border-gray-200 dark:border-slate-700 relative z-20",title:"Toggle Bayer Pattern Interpretation",children:n?"BGGR":"RGGB"})]}),f.jsxs("table",{className:"w-full mb-3",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"text-[10px] text-gray-400 dark:text-slate-500 border-b border-gray-100 dark:border-slate-800",children:[f.jsx("th",{className:"text-left pb-1 font-medium",children:"Ch"}),f.jsxs("th",{className:"text-right pb-1 font-medium",children:["Mean",d?"*":""]}),f.jsx("th",{className:"text-right pb-1 font-medium",children:"Std()"}),c&&f.jsx("th",{className:"text-right pb-1 font-medium text-cyan-600 dark:text-cyan-400",children:"K(e/ADU)"})]})}),f.jsx("tbody",{className:"font-mono text-xs",children:v.map((x,y)=>f.jsxs("tr",{className:"group hover:bg-gray-50 dark:hover:bg-slate-800/30 transition-colors",children:[f.jsxs("td",{className:"py-1",children:[f.jsx("span",{className:`font-bold ${x.color}`,children:x.name}),f.jsx("span",{className:"text-[9px] text-gray-300 dark:text-slate-600 ml-1 hidden group-hover:inline",children:x.desc})]}),f.jsx("td",{className:"py-1 text-right text-gray-700 dark:text-slate-200 font-semibold",title:d?"Mean minus Black Level":"Raw Mean",children:x.mean.toFixed(2)}),f.jsx("td",{className:"py-1 text-right text-gray-500 dark:text-slate-400",children:x.std.toFixed(2)}),c&&f.jsx("td",{className:"py-1 text-right text-cyan-600 dark:text-cyan-400 font-bold",children:x.k!==null?x.k.toFixed(3):"-"})]},y))})]}),d&&f.jsx("div",{className:"mb-2 text-[9px] text-gray-400 dark:text-slate-500 text-right italic",children:"* Mean adjusted by Black Level"}),f.jsxs("div",{className:"flex flex-wrap gap-2",children:[f.jsx("button",{onClick:()=>o("histogram"),className:"relative z-20 flex-1 min-w-[50px] py-1.5 bg-cyan-600 hover:bg-cyan-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"View Histogram",children:"Hist"}),f.jsx("button",{onClick:()=>o("quant"),className:"relative z-20 flex-1 min-w-[50px] py-1.5 bg-teal-600 hover:bg-teal-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"View Quantization Steps",children:"Quant"}),f.jsx("button",{onClick:()=>o("fft"),className:"relative z-20 flex-1 min-w-[50px] py-1.5 bg-purple-600 hover:bg-purple-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"View Power Spectrum (FFT)",children:"FFT"}),f.jsx("button",{onClick:()=>o("pearson"),className:"relative z-20 flex-1 min-w-[50px] py-1.5 bg-indigo-600 hover:bg-indigo-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"Pearson Correlation Analysis",children:"PCC"}),f.jsx("button",{onClick:m,className:"relative z-20 flex-1 min-w-[50px] py-1.5 bg-pink-600 hover:bg-pink-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"Color Noise Analysis (External Tool)",children:"ColorN"})]})]})]})},jQ=()=>{var $i;const[e,t]=O.useState(!0),[r,n]=O.useState("Initializing..."),a=O.useRef(!1),[o,i]=O.useState("dark");O.useEffect(()=>{const z=window.document.documentElement;z.classList.remove(o==="dark"?"light":"dark"),z.classList.add(o)},[o]);const[s,l]=O.useState(!1),[c,u]=O.useState(!1),[d,h]=O.useState(!1),p=gQ(s||c||d),[m,v]=O.useState(!1),[x,y]=O.useState([]),[g,b]=O.useState(-1),[S,w]=O.useState([]),k=O.useMemo(()=>x[g],[x,g]),j=(k==null?void 0:k.file)||null,P=(k==null?void 0:k.imageElement)||null,_=(k==null?void 0:k.rawImageData)||null,A=(k==null?void 0:k.rawFileBuffer)||null,N=(k==null?void 0:k.renderedRawImageData)||null,E=(k==null?void 0:k.referenceImageData)||null,F=(k==null?void 0:k.sampledImageData)||null,D=(k==null?void 0:k.exifData)||null,T=(k==null?void 0:k.isThreePlane)||!1,L=(k==null?void 0:k.displaySettings)||{exposure:0,demosaicMethod:3,blackLevel:void 0,wbGains:[1,1],showKadc:!0,subtractBlackLevelFromStats:!0},[W,I]=O.useState(!1),[R,B]=O.useState(null),[ee,X]=O.useState(!1),[G,U]=O.useState(!1),[ce,ue]=O.useState(null),[be,xe]=O.useState([]),[V,le]=O.useState(100),[ye,Z]=O.useState(!0),[Ke,Pe]=O.useState(!1),[Be,rt]=O.useState(null),[Ot,cr]=O.useState(!1),[Dt,$r]=O.useState(!1),[nt,ur]=O.useState(!1),[Qt,Fr]=O.useState(!1),[Kt,$n]=O.useState(!1),[Xt,pr]=O.useState({x:0,y:0}),[gr,ar]=O.useState(!1),[fr,Pt]=O.useState(!1),[Ge,Rt]=O.useState(2),[Jt,mr]=O.useState(1),[Zr,Sn]=O.useState([]),[Yt,Qr]=O.useState(null),[at,Nr]=O.useState(0),[br,Jr]=O.useState([]),[en,tn]=O.useState([]),[rn,Dn]=O.useState(64),[_t,K]=O.useState(10),[Ee,Nt]=O.useState(10),[Qe,J]=O.useState(4),[de,ot]=O.useState(1),[Et,Fe]=O.useState(0),[Ue,Wt]=O.useState("processed"),[Lt,Ne]=O.useState(!1),wt=O.useMemo(()=>L.blackLevel?L.blackLevel:_!=null&&_.blackLevels?[_.blackLevels[0],_.blackLevels[1],_.blackLevels[2],_.blackLevels[3]]:[0,0,0,0],[L.blackLevel,_]),it=(D==null?void 0:D.ImageHeight)||(D==null?void 0:D.ExifImageHeight)||(_==null?void 0:_.height)||0,[dt,Je]=O.useState(null),[nn,$e]=O.useState(null),[pe,zr]=O.useState({x:0,y:0}),[pa,ga]=O.useState(1),[oo,Rh]=O.useState("pan"),Ei=O.useRef(null),pn=O.useRef(null);O.useEffect(()=>{(async()=>{if(a.current)return;const H=wQ();if(H&&(n("Restoring layout..."),i(H.theme),Z(H.sidebarOpen),H.sessions.length>0)){n(`Restoring ${H.sessions.length} images...`);const te=[];for(const re of H.sessions){if(a.current){console.log("Restoration cancelled.");return}await new Promise(he=>setTimeout(he,50));try{const he=await vQ(re.id);if(he){const Ce={id:re.id,fileName:re.fileName,file:null,imageElement:null,rawImageData:null,rawFileBuffer:he,renderedRawImageData:null,referenceImageData:null,sampledImageData:null,exifData:null,isThreePlane:re.isThreePlane,displaySettings:re.displaySettings},{previewBlob:st,analysisData:Re}=await Vp(he);let ze=null;Re&&(ze=await A2(he,re.displaySettings));const je=URL.createObjectURL(st),Le=new Image;Le.src=je,await new Promise(et=>{Le.onload=()=>et()}),te.push({...Ce,rawImageData:Re,renderedRawImageData:ze,previewUrl:je,imageElement:Le,exifData:Re.metadata})}}catch(he){console.error(`Failed to restore session ${re.id}`,he)}}if(a.current)return;if(y(te),H.activeSessionId){const re=te.findIndex(he=>he.id===H.activeSessionId);re>=0?b(re):te.length>0&&b(0)}xe(H.windows)}a.current||t(!1)})()},[]);const zo=O.useRef(null),io=O.useCallback(()=>{e||(zo.current&&clearTimeout(zo.current),zo.current=window.setTimeout(async()=>{var te;const z={version:1,timestamp:Date.now(),activeSessionId:((te=x[g])==null?void 0:te.id)||null,theme:o,sidebarOpen:ye,sessions:x.map(re=>({id:re.id,fileName:re.fileName,fileType:re.file?re.file.type:"application/octet-stream",fileSize:re.rawFileBuffer?re.rawFileBuffer.byteLength:0,displaySettings:re.displaySettings,isThreePlane:re.isThreePlane})),windows:be.map(re=>({id:re.id,type:re.type,roi:re.roi,zIndex:re.zIndex,initialPosition:re.initialPosition,sessionId:re.sessionId,isBGGR:re.isBGGR,isMinimized:re.isMinimized||!1,internalState:re.internalState}))};bQ(z);const H=x.map(re=>re.id);kQ(H)},1e3))},[x,be,g,o,ye,e]);O.useEffect(()=>{io()},[io]);const Ti=O.useCallback(async()=>{a.current=!0,n("Cleaning up..."),localStorage.removeItem("jtr_workspace_index");try{await xQ()}catch(z){console.error("Failed to clear DB",z)}window.location.reload()},[]),Ca=O.useCallback(z=>{y(H=>H.map((te,re)=>re===g?{...te,...z}:te))},[g]),cl=()=>b(z=>Math.min(z+1,x.length-1)),Wo=()=>b(z=>Math.max(0,z-1));O.useEffect(()=>{if(_&&R){const z=Fi(_.data,_.width,_.height,R.x,R.y,R.width,R.height);B(z)}},[_]);const Uo=z=>{if(!R||!k)return;const H=Date.now().toString()+Math.random().toString().slice(2,5),te=Math.max(V,...be.map(Ce=>Ce.zIndex),100),re=be.length%10*30,he=z==="fft"?{x:50,y:50}:z==="histogram"?{x:100,y:100}:{x:150,y:150};xe(Ce=>[...Ce,{id:H,type:z,roi:{x:R.x,y:R.y,w:R.width,h:R.height},zIndex:te+1,initialPosition:{x:he.x+re,y:he.y+re},sessionId:k.id,isBGGR:ee,isMinimized:!1,stackFiles:(z==="fft"||z==="pearson")&&S.length>0?S:void 0}])},lu=z=>{xe(H=>H.filter(te=>te.id!==z))},Lh=z=>{xe(H=>H.map(te=>te.id===z?{...te,isMinimized:!0}:te))},Ih=z=>{xe(H=>H.map(te=>te.id===z?{...te,isMinimized:!1}:te)),ul(z)},ul=z=>{xe(H=>{const te=Math.max(V,...H.map(re=>re.zIndex));return H.map(re=>re.id===z?{...re,zIndex:te+1}:re)})},Go=(z,H)=>{xe(te=>te.map(re=>re.id===z?{...re,internalState:{...re.internalState,...H}}:re))},Ho=()=>{const z=Math.max(V,...be.map(H=>H.zIndex));le(z+1)},Bh=(z,H)=>{xe(te=>te.map(re=>re.id===z?{...re,roi:H}:re))};O.useEffect(()=>{if(!D)return;const z=D.CFAPattern2||D.CFAPattern;if(z){let H="";Array.isArray(z)?H=z.join(""):typeof z=="string"?H=z.replace(/[\s,]+/g,""):typeof z=="number"&&(H=String(z)),H==="0112"?X(!1):H==="2110"&&X(!0)}},[D]),O.useEffect(()=>{let z;const H=()=>{if(fr&&Kt){const te=Date.now()/1e3,re=.55+.45*Math.sin(te*Ge);mr(re),z=requestAnimationFrame(H)}else mr(1)};return fr&&Kt?H():mr(1),()=>{z&&cancelAnimationFrame(z)}},[fr,Kt,Ge]),O.useEffect(()=>{const z=H=>{H.key==="Escape"&&Kt&&($n(!1),pr({x:0,y:0}),Pt(!1))};return window.addEventListener("keydown",z),()=>window.removeEventListener("keydown",z)},[Kt]),O.useEffect(()=>()=>{x.forEach(z=>{z.previewUrl&&URL.revokeObjectURL(z.previewUrl)}),pn.current&&pn.current.terminate()},[]);const Ea=async(z,H=!0)=>{H&&(zr({x:0,y:0}),ga(1),Nr(0),Jr([]),tn([]),Pe(!1),rt(null),I(!1));let te=null;if(p.isConnected){const Re=new FormData;Re.append("file",z);try{const je=await(await fetch("http://localhost:5428/read",{method:"POST",body:Re})).json();if(je.success){let Le=je.data;Array.isArray(Le)&&Le.length===1&&(Le=Le[0]),te=Le}}catch(ze){console.warn("Auto Exif fetch failed",ze)}}const re=z.name.toLowerCase().match(/\.(arw|cr2|cr3|dng|nef|orf|raf|rw2|pef|srw|sr2|srf|x3f|erf|mef|mos|mrw|kdc|dcr|iiq|3fr|fff|rwl|nrw|raw|tif|tiff)$/);if(!(["image/jpeg","image/png","image/tiff","image/x-adobe-dng"].includes(z.type)||re)){Je("Unsupported file type. Please load a JPG, PNG, or a supported RAW file.");return}let Ce={file:z,exifData:te};if(re||z.type==="image/x-adobe-dng")try{H?$e("Processing RAW file (this may take a moment)..."):Ne(!0);const Re=await z.arrayBuffer();Ce.rawFileBuffer=Re;const{previewBlob:ze,analysisData:je}=await Vp(Re);Ce.rawImageData=je,Ce.isThreePlane=je.isThreePlane||!1,je.isThreePlane&&H&&I(!0);const Le=URL.createObjectURL(ze);Ce.previewUrl=Le;const et=new Image;et.src=Le,await new Promise((Mt,ht)=>{et.onload=()=>{Ce.imageElement=et,Mt()},et.onerror=()=>{Je("Could not load the RAW file preview."),Mt()}})}catch(Re){Je(`Failed to process RAW file: ${Re.message}`),$e(null),Ne(!1);return}else try{$e("Processing image...");const{previewBlob:Re,analysisData:ze}=await UZ(z);Ce.rawImageData=ze,Ce.rawFileBuffer=await z.arrayBuffer(),Ce.isThreePlane=ze.isThreePlane||!1;const je=URL.createObjectURL(Re);Ce.previewUrl=je;const Le=new Image;Le.src=je,await new Promise(et=>{Le.onload=()=>{Ce.imageElement=Le,et()},Le.onerror=()=>{Je("Could not load the image file."),et()}})}catch(Re){Je(`Failed to process image: ${Re.message}`),$e(null);return}const st=Date.now().toString()+Math.random();if(Ce.rawFileBuffer&&await E2(st,Ce.rawFileBuffer),H){const Re={exposure:0,demosaicMethod:3,blackLevel:void 0,wbGains:[1,1],showKadc:!0,subtractBlackLevelFromStats:!0},ze={id:st,fileName:z.name,file:z,imageElement:null,rawImageData:null,rawFileBuffer:null,renderedRawImageData:null,referenceImageData:null,sampledImageData:null,exifData:null,isThreePlane:!1,displaySettings:Re,...Ce};y(je=>{const Le=[...je,ze];return b(Le.length-1),Le})}else Ca(Ce);$e(null),Ne(!1)},Fh=async z=>{$e("Converting to DNG...");try{const H=new FormData;H.append("file",z);const te=await fetch("http://localhost:5428/convert_dng",{method:"POST",body:H}),re=te.headers.get("content-type")||"";if(te.ok)if(re.includes("application/json")){const he=await te.json();throw new Error(he.error||"Conversion failed")}else{const he=await te.blob(),Ce=URL.createObjectURL(he),st=document.createElement("a");st.href=Ce;const Re=z.name,ze=Re.substring(0,Re.lastIndexOf("."))+".dng"||"converted.dng";st.download=ze,document.body.appendChild(st),st.click(),document.body.removeChild(st),URL.revokeObjectURL(Ce);const je=new File([he],ze,{type:"image/x-adobe-dng"});await Ea(je,!0)}else{const he=await te.text();throw new Error(`HTTP ${te.status}: ${he}`)}}catch(H){$e(null),Je(`Conversion Error: ${H.message}`)}},cu=(z,H)=>{z&&(H==="direct"?Ea(z,!0):Fh(z))},zh=async z=>{var te;const H=(te=z.target.files)==null?void 0:te[0];H&&(await Ea(H,!0),z.target.value="")},$=async(z,H,te,re)=>{!z||!H||($e("Processing Pair Difference (May take a while)..."),Je(null),setTimeout(async()=>{try{const he=await z.arrayBuffer(),Ce=await H.arrayBuffer(),st=await Kp(he,Ce,te,re),Re=qp(st.width,st.height,st.rawData),ze=new File([Re],`Diff_${z.name}_${H.name}.dng`,{type:"image/x-adobe-dng"});await Ea(ze,!0),Uo("fft")}catch(he){console.error("Pair Processing Error",he),Je("Pair Processing Failed: "+he.message)}finally{$e(null)}},100))},Y=async z=>{if(z.length<2){Je("Need at least 2 files for Batch Diff.");return}$e(`Batch Processing 0/${Math.floor(z.length/2)} pairs...`);const H=Array.from(z).sort((te,re)=>te.name.localeCompare(re.name,void 0,{numeric:!0}));try{for(let te=0;te<H.length-1;te+=2){const re=H[te],he=H[te+1];$e(`Batch Processing Pair ${Math.floor(te/2)+1}/${Math.floor(H.length/2)}: ${re.name} & ${he.name}`);const Ce=await re.arrayBuffer(),st=await he.arrayBuffer(),Re=await Kp(Ce,st,!1,!1),ze=qp(Re.width,Re.height,Re.rawData),je=new Blob([ze],{type:"image/x-adobe-dng"}),Le=URL.createObjectURL(je),et=document.createElement("a");et.href=Le,et.download=`Diff_${re.name}_${he.name}.dng`,document.body.appendChild(et),et.click(),document.body.removeChild(et),URL.revokeObjectURL(Le)}}catch(te){console.error("FFT Batch Error",te),Je("Batch Processing Failed: "+te.message)}finally{$e(null)}},Q=async z=>{if(z.length<1)return;const H=Array.from(z).sort((te,re)=>te.name.localeCompare(re.name,void 0,{numeric:!0}));w(H),await Ea(H[0],!0)},C=async()=>{Ne(!0);const z=128,H=z,te=z,re=H*te,he=new Uint16Array(re),Ce=fe=>{const we=fe/Qe+Et;return Math.sin(2*Math.PI*we)>=0?1:0},st=32,Re=de*.5,ze=Math.max(1e-4,de/st);for(let fe=0;fe<te;fe++){let we=0;const Ve=fe+.5-Re;for(let ct=0;ct<st;ct++){const Ze=Ve+(ct+.5)*ze;we+=Ce(Ze)}const lt=we/st,ft=Math.round(lt*65535);for(let ct=0;ct<H;ct++)he[fe*H+ct]=ft}const je=new ImageData(Gr,Gr),Le=Gr/H,et=de/2;for(let fe=0;fe<Gr;fe++){const we=fe/Le,gt=Math.floor(we),Ve=we-gt,lt=Ve>=.5-et&&Ve<.5+et;for(let ft=0;ft<Gr;ft++){const ct=ft/Le,Ze=Math.floor(ct),ma=ct-Ze,ya=ma>=.5-et&&ma<.5+et,ir=(fe*Gr+ft)*4;if(Ze>=H||gt>=te){je.data[ir]=30,je.data[ir+1]=34,je.data[ir+2]=40,je.data[ir+3]=255;continue}if(lt&&ya){const $a=he[gt*H+Ze],Vo=Math.round($a/257);je.data[ir]=Vo,je.data[ir+1]=Vo,je.data[ir+2]=Vo,je.data[ir+3]=255}else je.data[ir]=30,je.data[ir+1]=34,je.data[ir+2]=40,je.data[ir+3]=255}}const Mt=new ImageData(Gr,Gr),ht=te/Gr;for(let fe=0;fe<Gr;fe++){const we=(fe+.5)*ht,Ve=Ce(we)>.5?255:0,lt=fe*Gr*4;for(let ft=0;ft<Gr;ft++){const ct=lt+ft*4;Mt.data[ct]=Ve,Mt.data[ct+1]=Ve,Mt.data[ct+2]=Ve,Mt.data[ct+3]=255}}const ie=qp(H,te,he),ke=new File([ie],"pattern_test.dng",{type:"image/x-adobe-dng"}),ve=Date.now().toString();try{const{previewBlob:fe,analysisData:we}=await Vp(ie.slice(0)),gt=await A2(ie.slice(0),L),Ve=T2(gt,Gr,Gr),lt=URL.createObjectURL(fe),ft=new Image;ft.src=lt,await new Promise(Ze=>{ft.onload=()=>Ze()}),await E2(ve,ie);const ct={file:ke,rawFileBuffer:ie,rawImageData:we,renderedRawImageData:Ve,referenceImageData:Mt,sampledImageData:je,previewUrl:lt,imageElement:ft,isThreePlane:!1,displaySettings:L};(j==null?void 0:j.name)==="pattern_test.dng"?Ca(ct):(y(Ze=>{const ma={id:ve,fileName:"pattern_test.dng",file:ke,imageElement:ft,rawImageData:we,rawFileBuffer:ie,renderedRawImageData:Ve,referenceImageData:Mt,sampledImageData:je,exifData:null,isThreePlane:!1,previewUrl:lt,displaySettings:L};return[...Ze,ma]}),b(Ze=>x.length))}catch(fe){console.error("Error generating pattern:",fe),Je(`Error generating pattern: ${fe.message}`)}Ne(!1),$e(null)},se=()=>{cr(!0)},Se=O.useRef({period:Qe,fill:de,phase:Et});O.useEffect(()=>{(j==null?void 0:j.name)==="pattern_test.dng"&&(Se.current.period!==Qe||Se.current.fill!==de||Se.current.phase!==Et)&&(Se.current={period:Qe,fill:de,phase:Et},C())},[Qe,de,Et,j]);const Ae=O.useCallback(z=>{if(Ca({displaySettings:z}),!A)return;Ne(!0),pn.current&&pn.current.terminate();const H=new Worker(new URL("/assets/renderWorker-BmmCgTEZ.js",import.meta.url),{type:"module"});pn.current=H,H.onmessage=te=>{const{success:re,imageData:he,error:Ce}=te.data;if(re){let st=he;(j==null?void 0:j.name)==="pattern_test.dng"&&(st=T2(he,Gr,Gr)),Ca({renderedRawImageData:st})}else Je(Ce||"Unknown worker error");Ne(!1),H.terminate(),pn.current=null},H.postMessage({buffer:A.slice(0),settings:z})},[A,j,Ca]);let He=N||P;Ue==="reference"&&E?He=E:Ue==="sampled"&&F&&(He=F);const Xe=nn||Lt,De=z=>{if(Ei.current){const H=Ei.current,{width:te,height:re}=H.getBoundingClientRect(),he=te/2,Ce=re/2,st=z/pa,Re=he-(he-pe.x)*st,ze=Ce-(Ce-pe.y)*st;zr({x:Re,y:ze})}ga(z)},At=z=>{if(!z)return;if(!_){B(null);return}G&&U(!1),Ho();const H=Fi(_.data,_.width,_.height,z.x,z.y,z.w,z.h);B(H)},xt=z=>{ue(z),At(z)},It=()=>{Rh(z=>z==="pan"?"select":"pan")},or=z=>{if(at===0||at>4)return;const H=[...br,z];Jr(H),at===4?(qe(H),Nr(0)):Nr(at+1)},ne=(z,H,te,re)=>{const he=z[0],Ce=z[1],st=z[2],Re=z[3],ze=H/2,je=[];for(let Le=0;Le<te;Le++){const et=te>1?Le/(te-1):.5;for(let Mt=0;Mt<re;Mt++){const ht=re>1?Mt/(re-1):.5,ie=he.x*(1-ht)+Ce.x*ht,ke=he.y*(1-ht)+Ce.y*ht,ve=st.x*(1-ht)+Re.x*ht,fe=st.y*(1-ht)+Re.y*ht,we=ie*(1-et)+ve*et,gt=ke*(1-et)+fe*et,Ve=we-ze,lt=gt-ze;je.push({x:Ve,y:lt,w:H,h:H})}}return je},qe=z=>{_&&($e("Calculating DR Lab Grid..."),setTimeout(()=>{try{const H=ne(z,rn,_t,Ee);tn(H);const Ce=[...[`#BlackLevel: ${(L.blackLevel||[0,0,0,0]).join(",")}`,`#ImageHeight: ${_.height}`],"Row,Col,R_Mean,G1_Mean,G2_Mean,B_Mean,R_Std,G1_Std,G2_Std,B_Std"];H.forEach((Le,et)=>{const Mt=Math.floor(et/Ee)+1,ht=et%Ee+1,ie=Fi(_.data,_.width,_.height,Le.x,Le.y,Le.w,Le.h),ke=ie.means,ve=ie.stdDevs,fe=`${Mt},${ht},${ke[0].toFixed(4)},${ke[1].toFixed(4)},${ke[2].toFixed(4)},${ke[3].toFixed(4)},${ve[0].toFixed(4)},${ve[1].toFixed(4)},${ve[2].toFixed(4)},${ve[3].toFixed(4)}`;Ce.push(fe)});const st=Ce.join(`
`),Re=new Blob([st],{type:"text/csv;charset=utf-8;"}),ze=URL.createObjectURL(Re),je=document.createElement("a");je.setAttribute("href",ze),je.setAttribute("download","dr_lab_results.csv"),document.body.appendChild(je),je.click(),document.body.removeChild(je),URL.revokeObjectURL(ze),Jr([])}catch(H){Je("DR Lab Error: "+H.message)}finally{$e(null)}},100))},_e=async(z,H)=>{if(br.length<4&&en.length<1){Je("Please mark the grid on an image first before running batch processing.");return}let te=en;if(te.length===0&&br.length===4&&(te=ne(br,rn,_t,Ee)),te.length===0){Je("No grid definitions found. Mark corners first.");return}$e(H==="pair"?"Batch Pair Processing...":"Batch Processing...");const he=(L.blackLevel||[0,0,0,0]).join(","),Ce=_?_.height:0,Re=[...[`#BlackLevel: ${he}`,`#ImageHeight: ${Ce}`,H==="pair"?"#Mode: Pair Difference (Sigma = Diff/sqrt(2))":"#Mode: Independent"],"Filename,Row,Col,R_Mean,G1_Mean,G2_Mean,B_Mean,R_Std,G1_Std,G2_Std,B_Std"],ze=Array.from(z).sort((je,Le)=>je.name.localeCompare(Le.name,void 0,{numeric:!0}));if(H==="pair"&&ze.length<2){Je("Need at least 2 files for Pair processing."),$e(null);return}try{if(H==="single")for(let ht=0;ht<ze.length;ht++){const ie=ze[ht];$e(`Processing ${ht+1}/${ze.length}: ${ie.name}...`);const ke=await ie.arrayBuffer(),ve=await Md(ke);te.forEach((fe,we)=>{const gt=Math.floor(we/Ee)+1,Ve=we%Ee+1,lt=Fi(ve.data,ve.width,ve.height,fe.x,fe.y,fe.w,fe.h),ft=lt.means,ct=lt.stdDevs,Ze=`${ie.name},${gt},${Ve},${ft[0].toFixed(4)},${ft[1].toFixed(4)},${ft[2].toFixed(4)},${ft[3].toFixed(4)},${ct[0].toFixed(4)},${ct[1].toFixed(4)},${ct[2].toFixed(4)},${ct[3].toFixed(4)}`;Re.push(Ze)})}else for(let ht=0;ht<ze.length-1;ht+=2){const ie=ze[ht],ke=ze[ht+1],ve=`${ie.name} & ${ke.name}`;$e(`Processing Pair ${Math.floor(ht/2)+1}/${Math.floor(ze.length/2)}: ${ie.name} & ${ke.name}...`);const fe=await ie.arrayBuffer(),we=await Md(fe),gt=await ke.arrayBuffer(),Ve=await Kp(fe,gt,!1,!0);te.forEach((lt,ft)=>{const ct=Math.floor(ft/Ee)+1,Ze=ft%Ee+1,ma=Fi(we.data,we.width,we.height,lt.x,lt.y,lt.w,lt.h),ya=Fi(Ve.rawData,Ve.width,Ve.height,lt.x,lt.y,lt.w,lt.h),ir=ma.means,$a=ya.stdDevs,Vo=`${ve},${ct},${Ze},${ir[0].toFixed(4)},${ir[1].toFixed(4)},${ir[2].toFixed(4)},${ir[3].toFixed(4)},${$a[0].toFixed(4)},${$a[1].toFixed(4)},${$a[2].toFixed(4)},${$a[3].toFixed(4)}`;Re.push(Vo)})}const je=Re.join(`
`),Le=new Blob([je],{type:"text/csv;charset=utf-8;"}),et=URL.createObjectURL(Le),Mt=document.createElement("a");Mt.href=et,Mt.setAttribute("download",`dr_lab_batch_${H}_${new Date().getTime()}.csv`),document.body.appendChild(Mt),Mt.click(),document.body.removeChild(Mt),URL.revokeObjectURL(et)}catch(je){console.error("Batch Error",je),Je("Batch Processing Failed: "+je.message)}finally{$e(null)}},Bt=()=>{if(!_){Je("Please load an image first.");return}tn([]),Jr([]),Nr(1)},kt=async()=>{if(!j)return;if(p.isConnected?rt(null):rt(`JiangBridge Offline
JiangBridge Offline, limited content shown only`),p.isConnected){$e("Reading EXIF (JiangBridge)...");try{const H=new FormData;H.append("file",j);const te=await fetch("http://localhost:5428/read",{method:"POST",body:H});if(!te.ok)throw new Error(`Bridge error: ${te.statusText}`);const re=await te.json();if(re.success){let he=re.data;Array.isArray(he)&&he.length===1&&(he=he[0]),Ca({exifData:he}),Pe(!0),$e(null);return}else console.warn("Bridge returned error:",re.error)}catch(H){console.warn("Bridge fetch failed, falling back to LibRaw:",H)}$e(null)}if(!_){Je("No image data available.");return}const z=_.metadata;if(!z){Je("No metadata found for this image.");return}Ca({exifData:z}),Pe(!0)},an=O.useCallback(async z=>{$e("Parsing CSV files...");const H=[];let te,re;try{const he=Array.from(z).map((Ce,st)=>new Promise((Re,ze)=>{const je=new FileReader;je.onload=Le=>{var ie;const et=(ie=Le.target)==null?void 0:ie.result;if(!et)return Re();const Mt=et.split(`
`);let ht=-1;for(let ke=0;ke<Mt.length;ke++){const ve=Mt[ke].trim();if(ve){if(st===0&&ve.startsWith("#")){if(ve.startsWith("#BlackLevel:")){const we=ve.replace("#BlackLevel:","").trim().split(/[\s,]+/).map(Number);we.length>=4&&!we.some(isNaN)&&(te=[we[0],we[1],we[2],we[3]])}else if(ve.startsWith("#ImageHeight:")){const fe=ve.replace("#ImageHeight:","").trim(),we=parseInt(fe);!isNaN(we)&&we>0&&(re=we)}continue}if(ve.startsWith("Row")||ve.startsWith("Filename")){ht=ke+1;break}}}ht===-1&&(ht=1);for(let ke=ht;ke<Mt.length;ke++){const ve=Mt[ke].trim();if(!ve||ve.startsWith("#"))continue;const fe=ve.split(",");let we=0;if(isNaN(Number(fe[0]))&&(we=1),fe.length<10+we)continue;const gt=we===1?fe[0]:Ce.name,Ve=fe.map(Number),lt=Ve[0+we],ft=Ve[1+we],ct=Ve[2+we],Ze=Ve[3+we],ma=Ve[4+we],ya=Ve[5+we],ir=Ve[6+we],$a=Ve[7+we],Vo=Ve[8+we],C_=Ve[9+we];ct>0&&H.push({channel:"R",mean:ct,std:ir,filename:gt,row:lt,col:ft}),Ze>0&&H.push({channel:"G1",mean:Ze,std:$a,filename:gt,row:lt,col:ft}),ma>0&&H.push({channel:"G2",mean:ma,std:Vo,filename:gt,row:lt,col:ft}),ya>0&&H.push({channel:"B",mean:ya,std:C_,filename:gt,row:lt,col:ft})}Re()},je.onerror=ze,je.readAsText(Ce)}));await Promise.all(he),Sn(H),Qr(te||re?{blackLevel:te,height:re}:null),l(!0)}catch(he){Je("Failed to parse CSV files: "+he.message)}finally{$e(null)}},[]),yt=z=>{z.button===0&&ar(!0)},er=O.useCallback(z=>{gr&&pr(H=>({x:H.x+z.movementX,y:H.y+z.movementY}))},[gr]),Ar=O.useCallback(()=>{ar(!1)},[]);O.useEffect(()=>(gr?(window.addEventListener("mousemove",er),window.addEventListener("mouseup",Ar)):(window.removeEventListener("mousemove",er),window.removeEventListener("mouseup",Ar)),()=>{window.removeEventListener("mousemove",er),window.removeEventListener("mouseup",Ar)}),[gr,er,Ar]);const Ta=()=>{if(!A||!j)return;const z=j.name||"pattern_test.dng",H=new Blob([A],{type:"image/x-adobe-dng"}),te=URL.createObjectURL(H),re=document.createElement("a");re.href=te,re.download=z,document.body.appendChild(re),re.click(),document.body.removeChild(re),URL.revokeObjectURL(te)};return e?f.jsxs("div",{className:"flex flex-col h-screen items-center justify-center bg-gray-50 dark:bg-slate-950 text-gray-900 dark:text-slate-200",children:[f.jsx("div",{className:"w-12 h-12 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mb-4"}),f.jsx("h2",{className:"text-xl font-bold animate-pulse",children:r}),f.jsx("p",{className:"text-sm text-gray-500 mt-2 mb-6",children:"Loading stored buffers from database..."}),f.jsx("button",{onClick:Ti,className:"px-6 py-2 bg-red-100 hover:bg-red-200 dark:bg-red-900/30 dark:hover:bg-red-900/50 text-red-700 dark:text-red-300 font-bold rounded-lg transition-colors border border-red-200 dark:border-red-800 text-sm",children:"Abandon Saved Session (Start Fresh)"})]}):f.jsxs("div",{className:"flex flex-col h-screen bg-white dark:bg-slate-950 text-gray-900 dark:text-slate-200 font-sans transition-colors duration-300",children:[f.jsx("div",{className:"p-4 pb-0",children:f.jsx(iM,{onLoadImage:zh,onFileSelected:cu,onGenerateFakeDng:se,fileName:j?j.name:null,hasGeneratedData:(j==null?void 0:j.name)==="pattern_test.dng",viewMode:Ue,onSetViewMode:Wt,patternPeriod:Qe,onPatternPeriodChange:J,fillFactor:de,onFillFactorChange:ot,patternPhase:Et,onPatternPhaseChange:Fe,showPatternControls:(j==null?void 0:j.name)==="pattern_test.dng",onOpenAbout:()=>$r(!0),onShowExif:kt,bridgeStatus:p,onBridgeClick:()=>v(!0),isDrLabOpen:nt,onToggleDrLab:()=>{ur(!nt),Nr(0),Jr([]),tn([]),Qt&&Fr(!1)},isFftLabOpen:Qt,onToggleFftLab:()=>{Fr(!Qt),nt&&ur(!1)},onGenerateTestPic:()=>$n(!0),onPTCFilesSelected:an,onDownloadDng:Ta,isThreePlane:T,onOpenDatabase:()=>u(!0)})}),f.jsxs("div",{className:"flex flex-1 overflow-hidden p-4 pt-2 gap-4 relative",children:[f.jsxs("div",{className:"flex-1 relative bg-gray-100 dark:bg-slate-900 rounded-2xl border border-gray-200 dark:border-slate-800 shadow-inner overflow-hidden transition-colors duration-300",ref:Ei,children:[Xe&&f.jsxs("div",{className:"absolute bottom-4 right-4 z-50 flex items-center gap-2 bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm px-3 py-1.5 rounded-full border border-cyan-500/30 shadow-sm",children:[f.jsx("div",{className:"w-4 h-4 border-2 border-cyan-500 border-t-transparent rounded-full animate-spin"}),f.jsx("span",{className:"text-xs text-cyan-600 dark:text-cyan-400 font-mono",children:nn||"Processing..."})]}),x.length>1&&f.jsxs("div",{className:"absolute bottom-4 right-20 z-50 flex items-center gap-2 bg-white/90 dark:bg-slate-800/90 backdrop-blur-sm px-3 py-1.5 rounded-lg border border-gray-200 dark:border-slate-700 shadow-lg text-sm font-mono text-gray-700 dark:text-slate-200",children:[f.jsx("button",{onClick:Wo,disabled:g<=0,className:"hover:text-cyan-500 disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"Previous Image",children:f.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),f.jsxs("span",{className:"min-w-[3rem] text-center select-none font-bold",children:[g+1," / ",x.length]}),f.jsx("button",{onClick:cl,disabled:g>=x.length-1,className:"hover:text-cyan-500 disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"Next Image",children:f.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),f.jsxs("div",{className:"absolute bottom-4 left-4 z-50 flex flex-col-reverse gap-2 items-start pointer-events-none",children:[G&&R&&f.jsxs("div",{className:"pointer-events-auto flex items-center gap-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg shadow-lg overflow-hidden animate-in slide-in-from-bottom-2 fade-in",children:[f.jsxs("button",{onClick:()=>U(!1),className:"px-3 py-1.5 text-xs font-bold text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors flex items-center gap-2",children:[f.jsx("span",{className:"w-2 h-2 rounded-full bg-cyan-500"}),"ROI Stats"]}),f.jsx("button",{onClick:()=>{U(!1),B(null)},className:"px-2 py-1.5 text-gray-400 hover:text-red-500 hover:bg-gray-100 dark:hover:bg-slate-700 border-l border-gray-200 dark:border-slate-700 transition-colors",children:f.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),be.filter(z=>z.isMinimized).map(z=>{let H="Window",te="bg-gray-500";return z.type==="histogram"?(H="Histogram",te="bg-purple-500"):z.type==="fft"?(H="FFT Spectrum",te="bg-fuchsia-500"):z.type==="quant"?(H="Quantization",te="bg-teal-500"):z.type==="pearson"&&(H="Pearson",te="bg-indigo-500"),f.jsxs("div",{className:"pointer-events-auto flex items-center gap-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg shadow-lg overflow-hidden animate-in slide-in-from-bottom-2 fade-in",children:[f.jsxs("button",{onClick:()=>Ih(z.id),className:"px-3 py-1.5 text-xs font-bold text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors flex items-center gap-2",children:[f.jsx("span",{className:`w-2 h-2 rounded-full ${te}`}),H]}),f.jsx("button",{onClick:()=>lu(z.id),className:"px-2 py-1.5 text-gray-400 hover:text-red-500 hover:bg-gray-100 dark:hover:bg-slate-700 border-l border-gray-200 dark:border-slate-700 transition-colors",children:f.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},z.id)})]}),!G&&f.jsx(SQ,{stats:R,onClose:()=>{B(null),ue(null)},onMinimize:()=>U(!0),isBGGR:ee,onToggleBGGR:X,onOpenWindow:Uo,displaySettings:L,zIndex:V,onFocus:Ho}),f.jsx(aQ,{isOpen:Dt,onClose:()=>$r(!1)}),f.jsx(oQ,{isOpen:Ke,onClose:()=>Pe(!1),data:D,fileName:j?j.name:"",warning:Be}),f.jsx(sQ,{isOpen:s,onClose:()=>l(!1),data:Zr,blackLevel:wt,imageHeight:it,isBGGR:ee,importedMetadata:Yt||void 0,theme:o,initialCameraModel:(D==null?void 0:D.Model)||"",initialISO:(D==null?void 0:D.ISO)||(($i=D==null?void 0:D.ISOSpeedRatings)==null?void 0:$i.toString())||""}),f.jsx(dQ,{isOpen:c,onClose:()=>u(!1),theme:o}),f.jsx(hQ,{isOpen:d,onClose:()=>h(!1),zIndex:200}),be.map(z=>{if(z.isMinimized)return null;const H=x.find(he=>he.id===z.sessionId),te=H==null?void 0:H.rawImageData;if(!te)return null;const re={key:z.id,isOpen:!0,onClose:()=>lu(z.id),onMinimize:()=>Lh(z.id),rawImageData:te,roi:z.roi,isBGGR:z.isBGGR,zIndex:z.zIndex,onFocus:()=>ul(z.id),initialPosition:z.initialPosition,initialInternalState:z.internalState,onUpdateState:he=>Go(z.id,he),stackFiles:z.stackFiles};return z.type==="histogram"?f.jsx(qZ,{...re}):z.type==="fft"?f.jsx(eQ,{...re,onUpdateROI:he=>Bh(z.id,he)}):z.type==="quant"?f.jsx(tQ,{...re}):z.type==="pearson"?f.jsx(rQ,{...re}):null}),dt&&f.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-white/90 dark:bg-slate-900/90 p-8",children:f.jsxs("div",{className:"max-w-md text-center p-6 bg-white dark:bg-slate-800 rounded-xl border border-red-500/50 shadow-xl",children:[f.jsx("h3",{className:"text-xl font-bold text-red-500 dark:text-red-400 mb-2",children:"Notice"}),f.jsx("p",{className:"text-gray-600 dark:text-slate-300 mb-6 whitespace-pre-wrap",children:dt}),f.jsx("button",{onClick:()=>Je(null),className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 dark:bg-slate-700 dark:hover:bg-slate-600 rounded-lg text-gray-900 dark:text-white transition-colors",children:"Dismiss"})]})}),!He&&!Xe&&!dt&&f.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-gray-400 dark:text-slate-600 select-none",children:f.jsx("p",{className:"text-lg",children:"Load an image or generate a pattern"})}),f.jsx(sM,{image:He,zoom:pa,pan:pe,onPanChange:zr,onZoomChange:De,onSelectionChange:At,forcedSelection:ce,theme:o,touchAction:oo,isMarking:at>0,onPointClick:or,markers:br,gridRects:en}),f.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-1/2 z-30 pointer-events-none select-none opacity-20 mix-blend-normal dark:mix-blend-plus-lighter",children:f.jsx("svg",{viewBox:"0 0 500 60",className:"w-full h-auto drop-shadow-xl",children:f.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"36",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})}),_&&!at&&f.jsxs("div",{className:"absolute bottom-4 left-4 z-30 pointer-events-none opacity-50 text-[10px] text-gray-500 dark:text-slate-400",children:["Hold ",f.jsx("b",{children:"Shift"})," + Drag to calculate Raw ROI stats"]}),f.jsx(yM,{zoom:pa,onZoomChange:De,onResetView:()=>{ga(1),zr({x:0,y:0})},touchAction:oo,onToggleTouchAction:It}),!ye&&f.jsx("button",{onClick:()=>Z(!0),className:"absolute right-0 top-1/2 -translate-y-1/2 z-50 bg-white dark:bg-slate-900 border-y border-l border-gray-200 dark:border-slate-800 shadow-md p-1.5 rounded-l-lg hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors animate-in fade-in slide-in-from-right-2",title:"Show Tools",children:f.jsx("svg",{className:"w-4 h-4 text-gray-500 dark:text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})})]}),f.jsxs("div",{className:`flex-shrink-0 flex flex-col bg-white dark:bg-slate-900 rounded-2xl border border-gray-200 dark:border-slate-800 shadow-xl overflow-hidden transition-all duration-300 ease-in-out ${ye?"w-80 translate-x-0 opacity-100 ml-0":"w-0 translate-x-20 opacity-0 p-0 border-0 pointer-events-none ml-0"}`,children:[f.jsxs("div",{className:"flex justify-between items-center px-4 py-3 border-b border-gray-200 dark:border-slate-800 bg-gray-50/50 dark:bg-slate-800/50 flex-shrink-0",children:[f.jsx("h2",{className:"font-bold text-sm text-gray-700 dark:text-slate-300 uppercase tracking-wide flex items-center gap-2",children:f.jsx("span",{children:"Tools"})}),f.jsx("button",{onClick:()=>Z(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 transition-colors p-1 rounded hover:bg-gray-200 dark:hover:bg-slate-700",title:"Hide Tools",children:f.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),f.jsx("div",{className:"flex-1 overflow-hidden relative",children:f.jsx(cM,{rawImageData:_,displaySettings:L,onApplyDisplaySettings:Ae,onSetSelection:xt,exifData:D,isBridgeConnected:p.isConnected,isDrLabOpen:nt,drMarkingStep:at,onStartMarking:Bt,onGenerateTestPic:()=>$n(!0),drRoiSize:rn,onDrRoiSizeChange:Dn,drGridRows:_t,onDrGridRowsChange:K,drGridCols:Ee,onDrGridColsChange:Nt,onBatchDrLab:_e,hasDrMarkers:en.length>0||br.length===4,isFftLabOpen:Qt,onProcessPair:$,onProcessBatchDiff:Y,onProcessStackFft:Q,onOpenCrossCalc:()=>h(!0),isThreePlane:_==null?void 0:_.isThreePlane})})]})]}),Kt&&f.jsxs("div",{className:"fixed inset-0 z-[200] bg-black overflow-hidden",children:[f.jsx("div",{onMouseDown:yt,style:{transform:`translate(${Xt.x}px, ${Xt.y}px)`,cursor:gr?"grabbing":"grab",opacity:Jt,transition:"opacity 0.1s linear"},className:"w-full h-full flex items-center justify-center",children:f.jsx("img",{src:"/drtest.png",alt:"DR Test",className:"max-w-full max-h-full object-contain pointer-events-none select-none",draggable:!1})}),f.jsxs("div",{className:"absolute top-4 right-4 flex flex-col items-end gap-2 pointer-events-none z-[201]",children:[f.jsx("div",{className:"text-white/50 text-sm bg-black/50 px-3 py-1 rounded backdrop-blur-sm",children:"Press ESC to exit | Drag to move"}),f.jsx("div",{className:"text-white/20 text-xs px-2 select-none",children:"F11 full screen"}),f.jsx("div",{className:"text-red-900/80 text-lg px-2 select-none font-bold mt-4",children:""}),f.jsx("div",{className:"text-red-900/60 text-xs px-2 select-none",children:"Shoot slightly out of focus"})]}),f.jsxs("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 bg-black/60 backdrop-blur-md p-4 rounded-xl border border-gray-700 flex flex-col gap-3 items-center z-[202]",children:[f.jsx("button",{onClick:()=>Pt(!fr),className:`px-4 py-2 rounded-lg font-bold text-sm transition-colors ${fr?"bg-amber-500 text-black hover:bg-amber-400":"bg-gray-700 text-white hover:bg-gray-600"}`,children:fr?"Stop Breathing":"Start Breathing"}),fr&&f.jsxs("div",{className:"flex items-center gap-3 w-64 animate-in fade-in",children:[f.jsx("span",{className:"text-xs text-gray-400 font-bold uppercase",children:"Speed"}),f.jsx("input",{type:"range",min:"0.5",max:"10",step:"0.5",value:Ge,onChange:z=>Rt(parseFloat(z.target.value)),className:"flex-1 h-1.5 bg-gray-600 rounded-lg appearance-none cursor-pointer accent-amber-500"}),f.jsx("span",{className:"text-xs text-amber-500 w-8 text-right",children:Ge.toFixed(1)})]})]})]}),f.jsx(vM,{theme:o,setTheme:i})]})},M_=document.getElementById("root");if(!M_)throw new Error("Could not find root element to mount to");const OQ=Zp.createRoot(M_);OQ.render(f.jsx(M.StrictMode,{children:f.jsx(jQ,{})}));export{IZ as _};
