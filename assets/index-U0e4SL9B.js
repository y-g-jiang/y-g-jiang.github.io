var kP=Object.defineProperty;var SP=(e,t,r)=>t in e?kP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Kr=(e,t,r)=>SP(e,typeof t!="symbol"?t+"":t,r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();var su=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Mt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var j2={exports:{}},Pd={},O2={exports:{}},Je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gc=Symbol.for("react.element"),jP=Symbol.for("react.portal"),OP=Symbol.for("react.fragment"),_P=Symbol.for("react.strict_mode"),PP=Symbol.for("react.profiler"),NP=Symbol.for("react.provider"),AP=Symbol.for("react.context"),MP=Symbol.for("react.forward_ref"),CP=Symbol.for("react.suspense"),EP=Symbol.for("react.memo"),TP=Symbol.for("react.lazy"),pv=Symbol.iterator;function $P(e){return e===null||typeof e!="object"?null:(e=pv&&e[pv]||e["@@iterator"],typeof e=="function"?e:null)}var _2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P2=Object.assign,N2={};function Ls(e,t,r){this.props=e,this.context=t,this.refs=N2,this.updater=r||_2}Ls.prototype.isReactComponent={};Ls.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ls.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function A2(){}A2.prototype=Ls.prototype;function fm(e,t,r){this.props=e,this.context=t,this.refs=N2,this.updater=r||_2}var dm=fm.prototype=new A2;dm.constructor=fm;P2(dm,Ls.prototype);dm.isPureReactComponent=!0;var gv=Array.isArray,M2=Object.prototype.hasOwnProperty,hm={current:null},C2={key:!0,ref:!0,__self:!0,__source:!0};function E2(e,t,r){var n,a={},o=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)M2.call(t,n)&&!C2.hasOwnProperty(n)&&(a[n]=t[n]);var s=arguments.length-2;if(s===1)a.children=r;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(n in s=e.defaultProps,s)a[n]===void 0&&(a[n]=s[n]);return{$$typeof:Gc,type:e,key:o,ref:i,props:a,_owner:hm.current}}function DP(e,t){return{$$typeof:Gc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function pm(e){return typeof e=="object"&&e!==null&&e.$$typeof===Gc}function LP(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var mv=/\/+/g;function Dh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?LP(""+e.key):t.toString(36)}function zu(e,t,r,n,a){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Gc:case jP:i=!0}}if(i)return i=e,a=a(i),e=n===""?"."+Dh(i,0):n,gv(a)?(r="",e!=null&&(r=e.replace(mv,"$&/")+"/"),zu(a,t,r,"",function(c){return c})):a!=null&&(pm(a)&&(a=DP(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(mv,"$&/")+"/")+e)),t.push(a)),1;if(i=0,n=n===""?".":n+":",gv(e))for(var s=0;s<e.length;s++){o=e[s];var l=n+Dh(o,s);i+=zu(o,t,r,l,a)}else if(l=$P(e),typeof l=="function")for(e=l.call(e),s=0;!(o=e.next()).done;)o=o.value,l=n+Dh(o,s++),i+=zu(o,t,r,l,a);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function lu(e,t,r){if(e==null)return e;var n=[],a=0;return zu(e,n,"","",function(o){return t.call(r,o,a++)}),n}function RP(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Zr={current:null},Wu={transition:null},IP={ReactCurrentDispatcher:Zr,ReactCurrentBatchConfig:Wu,ReactCurrentOwner:hm};function T2(){throw Error("act(...) is not supported in production builds of React.")}Je.Children={map:lu,forEach:function(e,t,r){lu(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return lu(e,function(){t++}),t},toArray:function(e){return lu(e,function(t){return t})||[]},only:function(e){if(!pm(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Je.Component=Ls;Je.Fragment=OP;Je.Profiler=PP;Je.PureComponent=fm;Je.StrictMode=_P;Je.Suspense=CP;Je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IP;Je.act=T2;Je.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=P2({},e.props),a=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=hm.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)M2.call(t,l)&&!C2.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];n.children=s}return{$$typeof:Gc,type:e.type,key:a,ref:o,props:n,_owner:i}};Je.createContext=function(e){return e={$$typeof:AP,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:NP,_context:e},e.Consumer=e};Je.createElement=E2;Je.createFactory=function(e){var t=E2.bind(null,e);return t.type=e,t};Je.createRef=function(){return{current:null}};Je.forwardRef=function(e){return{$$typeof:MP,render:e}};Je.isValidElement=pm;Je.lazy=function(e){return{$$typeof:TP,_payload:{_status:-1,_result:e},_init:RP}};Je.memo=function(e,t){return{$$typeof:EP,type:e,compare:t===void 0?null:t}};Je.startTransition=function(e){var t=Wu.transition;Wu.transition={};try{e()}finally{Wu.transition=t}};Je.unstable_act=T2;Je.useCallback=function(e,t){return Zr.current.useCallback(e,t)};Je.useContext=function(e){return Zr.current.useContext(e)};Je.useDebugValue=function(){};Je.useDeferredValue=function(e){return Zr.current.useDeferredValue(e)};Je.useEffect=function(e,t){return Zr.current.useEffect(e,t)};Je.useId=function(){return Zr.current.useId()};Je.useImperativeHandle=function(e,t,r){return Zr.current.useImperativeHandle(e,t,r)};Je.useInsertionEffect=function(e,t){return Zr.current.useInsertionEffect(e,t)};Je.useLayoutEffect=function(e,t){return Zr.current.useLayoutEffect(e,t)};Je.useMemo=function(e,t){return Zr.current.useMemo(e,t)};Je.useReducer=function(e,t,r){return Zr.current.useReducer(e,t,r)};Je.useRef=function(e){return Zr.current.useRef(e)};Je.useState=function(e){return Zr.current.useState(e)};Je.useSyncExternalStore=function(e,t,r){return Zr.current.useSyncExternalStore(e,t,r)};Je.useTransition=function(){return Zr.current.useTransition()};Je.version="18.3.1";O2.exports=Je;var O=O2.exports;const M=Mt(O);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BP=O,FP=Symbol.for("react.element"),zP=Symbol.for("react.fragment"),WP=Object.prototype.hasOwnProperty,UP=BP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,GP={key:!0,ref:!0,__self:!0,__source:!0};function $2(e,t,r){var n,a={},o=null,i=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)WP.call(t,n)&&!GP.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:FP,type:e,key:o,ref:i,props:a,_owner:UP.current}}Pd.Fragment=zP;Pd.jsx=$2;Pd.jsxs=$2;j2.exports=Pd;var d=j2.exports,Wp={},D2={exports:{}},Sn={},L2={exports:{}},R2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,z){var W=D.length;D.push(z);e:for(;0<W;){var te=W-1>>>1,Y=D[te];if(0<a(Y,z))D[te]=z,D[W]=Y,W=te;else break e}}function r(D){return D.length===0?null:D[0]}function n(D){if(D.length===0)return null;var z=D[0],W=D.pop();if(W!==z){D[0]=W;e:for(var te=0,Y=D.length,X=Y>>>1;te<X;){var F=2*(te+1)-1,ue=D[F],fe=F+1,Se=D[fe];if(0>a(ue,W))fe<Y&&0>a(Se,ue)?(D[te]=Se,D[fe]=W,te=fe):(D[te]=ue,D[F]=W,te=F);else if(fe<Y&&0>a(Se,W))D[te]=Se,D[fe]=W,te=fe;else break e}}return z}function a(D,z){var W=D.sortIndex-z.sortIndex;return W!==0?W:D.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,s=i.now();e.unstable_now=function(){return i.now()-s}}var l=[],c=[],u=1,f=null,h=3,p=!1,m=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(D){for(var z=r(c);z!==null;){if(z.callback===null)n(c);else if(z.startTime<=D)n(c),z.sortIndex=z.expirationTime,t(l,z);else break;z=r(c)}}function S(D){if(v=!1,x(D),!m)if(r(l)!==null)m=!0,L(b);else{var z=r(c);z!==null&&U(S,z.startTime-D)}}function b(D,z){m=!1,v&&(v=!1,y(_),_=-1),p=!0;var W=h;try{for(x(z),f=r(l);f!==null&&(!(f.expirationTime>z)||D&&!A());){var te=f.callback;if(typeof te=="function"){f.callback=null,h=f.priorityLevel;var Y=te(f.expirationTime<=z);z=e.unstable_now(),typeof Y=="function"?f.callback=Y:f===r(l)&&n(l),x(z)}else n(l);f=r(l)}if(f!==null)var X=!0;else{var F=r(c);F!==null&&U(S,F.startTime-z),X=!1}return X}finally{f=null,h=W,p=!1}}var k=!1,j=null,_=-1,P=5,N=-1;function A(){return!(e.unstable_now()-N<P)}function C(){if(j!==null){var D=e.unstable_now();N=D;var z=!0;try{z=j(!0,D)}finally{z?R():(k=!1,j=null)}}else k=!1}var R;if(typeof g=="function")R=function(){g(C)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,T=I.port2;I.port1.onmessage=C,R=function(){T.postMessage(null)}}else R=function(){w(C,0)};function L(D){j=D,k||(k=!0,R())}function U(D,z){_=w(function(){D(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,L(b))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(D){switch(h){case 1:case 2:case 3:var z=3;break;default:z=h}var W=h;h=z;try{return D()}finally{h=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,z){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var W=h;h=D;try{return z()}finally{h=W}},e.unstable_scheduleCallback=function(D,z,W){var te=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?te+W:te):W=te,D){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=W+Y,D={id:u++,callback:z,priorityLevel:D,startTime:W,expirationTime:Y,sortIndex:-1},W>te?(D.sortIndex=W,t(c,D),r(l)===null&&D===r(c)&&(v?(y(_),_=-1):v=!0,U(S,W-te))):(D.sortIndex=Y,t(l,D),m||p||(m=!0,L(b))),D},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(D){var z=h;return function(){var W=h;h=z;try{return D.apply(this,arguments)}finally{h=W}}}})(R2);L2.exports=R2;var HP=L2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VP=O,kn=HP;function ae(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var I2=new Set,Hl={};function mi(e,t){ts(e,t),ts(e+"Capture",t)}function ts(e,t){for(Hl[e]=t,e=0;e<t.length;e++)I2.add(t[e])}var Wa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Up=Object.prototype.hasOwnProperty,KP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,yv={},vv={};function XP(e){return Up.call(vv,e)?!0:Up.call(yv,e)?!1:KP.test(e)?vv[e]=!0:(yv[e]=!0,!1)}function qP(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function YP(e,t,r,n){if(t===null||typeof t>"u"||qP(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Jr(e,t,r,n,a,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var Tr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Tr[e]=new Jr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Tr[t]=new Jr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Tr[e]=new Jr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Tr[e]=new Jr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Tr[e]=new Jr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Tr[e]=new Jr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Tr[e]=new Jr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Tr[e]=new Jr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Tr[e]=new Jr(e,5,!1,e.toLowerCase(),null,!1,!1)});var gm=/[\-:]([a-z])/g;function mm(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(gm,mm);Tr[t]=new Jr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(gm,mm);Tr[t]=new Jr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(gm,mm);Tr[t]=new Jr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Tr[e]=new Jr(e,1,!1,e.toLowerCase(),null,!1,!1)});Tr.xlinkHref=new Jr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Tr[e]=new Jr(e,1,!1,e.toLowerCase(),null,!0,!0)});function ym(e,t,r,n){var a=Tr.hasOwnProperty(t)?Tr[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(YP(t,r,a,n)&&(r=null),n||a===null?XP(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var qa=VP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,cu=Symbol.for("react.element"),Ci=Symbol.for("react.portal"),Ei=Symbol.for("react.fragment"),vm=Symbol.for("react.strict_mode"),Gp=Symbol.for("react.profiler"),B2=Symbol.for("react.provider"),F2=Symbol.for("react.context"),xm=Symbol.for("react.forward_ref"),Hp=Symbol.for("react.suspense"),Vp=Symbol.for("react.suspense_list"),bm=Symbol.for("react.memo"),no=Symbol.for("react.lazy"),z2=Symbol.for("react.offscreen"),xv=Symbol.iterator;function il(e){return e===null||typeof e!="object"?null:(e=xv&&e[xv]||e["@@iterator"],typeof e=="function"?e:null)}var qt=Object.assign,Lh;function jl(e){if(Lh===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Lh=t&&t[1]||""}return`
`+Lh+e}var Rh=!1;function Ih(e,t){if(!e||Rh)return"";Rh=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),o=n.stack.split(`
`),i=a.length-1,s=o.length-1;1<=i&&0<=s&&a[i]!==o[s];)s--;for(;1<=i&&0<=s;i--,s--)if(a[i]!==o[s]){if(i!==1||s!==1)do if(i--,s--,0>s||a[i]!==o[s]){var l=`
`+a[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=i&&0<=s);break}}}finally{Rh=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?jl(e):""}function QP(e){switch(e.tag){case 5:return jl(e.type);case 16:return jl("Lazy");case 13:return jl("Suspense");case 19:return jl("SuspenseList");case 0:case 2:case 15:return e=Ih(e.type,!1),e;case 11:return e=Ih(e.type.render,!1),e;case 1:return e=Ih(e.type,!0),e;default:return""}}function Kp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ei:return"Fragment";case Ci:return"Portal";case Gp:return"Profiler";case vm:return"StrictMode";case Hp:return"Suspense";case Vp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case F2:return(e.displayName||"Context")+".Consumer";case B2:return(e._context.displayName||"Context")+".Provider";case xm:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case bm:return t=e.displayName||null,t!==null?t:Kp(e.type)||"Memo";case no:t=e._payload,e=e._init;try{return Kp(e(t))}catch{}}return null}function ZP(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Kp(t);case 8:return t===vm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function jo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function W2(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function JP(e){var t=W2(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function uu(e){e._valueTracker||(e._valueTracker=JP(e))}function U2(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=W2(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Ju(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Xp(e,t){var r=t.checked;return qt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function bv(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=jo(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function G2(e,t){t=t.checked,t!=null&&ym(e,"checked",t,!1)}function qp(e,t){G2(e,t);var r=jo(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Yp(e,t.type,r):t.hasOwnProperty("defaultValue")&&Yp(e,t.type,jo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function wv(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Yp(e,t,r){(t!=="number"||Ju(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ol=Array.isArray;function Vi(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+jo(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Qp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ae(91));return qt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function kv(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ae(92));if(Ol(r)){if(1<r.length)throw Error(ae(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:jo(r)}}function H2(e,t){var r=jo(t.value),n=jo(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Sv(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function V2(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?V2(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var fu,K2=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(fu=fu||document.createElement("div"),fu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=fu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Vl(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Al={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eN=["Webkit","ms","Moz","O"];Object.keys(Al).forEach(function(e){eN.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Al[t]=Al[e]})});function X2(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Al.hasOwnProperty(e)&&Al[e]?(""+t).trim():t+"px"}function q2(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=X2(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var tN=qt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jp(e,t){if(t){if(tN[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ae(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ae(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ae(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ae(62))}}function e0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var t0=null;function wm(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var r0=null,Ki=null,Xi=null;function jv(e){if(e=Kc(e)){if(typeof r0!="function")throw Error(ae(280));var t=e.stateNode;t&&(t=Ed(t),r0(e.stateNode,e.type,t))}}function Y2(e){Ki?Xi?Xi.push(e):Xi=[e]:Ki=e}function Q2(){if(Ki){var e=Ki,t=Xi;if(Xi=Ki=null,jv(e),t)for(e=0;e<t.length;e++)jv(t[e])}}function Z2(e,t){return e(t)}function J2(){}var Bh=!1;function ek(e,t,r){if(Bh)return e(t,r);Bh=!0;try{return Z2(e,t,r)}finally{Bh=!1,(Ki!==null||Xi!==null)&&(J2(),Q2())}}function Kl(e,t){var r=e.stateNode;if(r===null)return null;var n=Ed(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ae(231,t,typeof r));return r}var n0=!1;if(Wa)try{var sl={};Object.defineProperty(sl,"passive",{get:function(){n0=!0}}),window.addEventListener("test",sl,sl),window.removeEventListener("test",sl,sl)}catch{n0=!1}function rN(e,t,r,n,a,o,i,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(u){this.onError(u)}}var Ml=!1,ef=null,tf=!1,a0=null,nN={onError:function(e){Ml=!0,ef=e}};function aN(e,t,r,n,a,o,i,s,l){Ml=!1,ef=null,rN.apply(nN,arguments)}function oN(e,t,r,n,a,o,i,s,l){if(aN.apply(this,arguments),Ml){if(Ml){var c=ef;Ml=!1,ef=null}else throw Error(ae(198));tf||(tf=!0,a0=c)}}function yi(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function tk(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ov(e){if(yi(e)!==e)throw Error(ae(188))}function iN(e){var t=e.alternate;if(!t){if(t=yi(e),t===null)throw Error(ae(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var o=a.alternate;if(o===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===r)return Ov(a),e;if(o===n)return Ov(a),t;o=o.sibling}throw Error(ae(188))}if(r.return!==n.return)r=a,n=o;else{for(var i=!1,s=a.child;s;){if(s===r){i=!0,r=a,n=o;break}if(s===n){i=!0,n=a,r=o;break}s=s.sibling}if(!i){for(s=o.child;s;){if(s===r){i=!0,r=o,n=a;break}if(s===n){i=!0,n=o,r=a;break}s=s.sibling}if(!i)throw Error(ae(189))}}if(r.alternate!==n)throw Error(ae(190))}if(r.tag!==3)throw Error(ae(188));return r.stateNode.current===r?e:t}function rk(e){return e=iN(e),e!==null?nk(e):null}function nk(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=nk(e);if(t!==null)return t;e=e.sibling}return null}var ak=kn.unstable_scheduleCallback,_v=kn.unstable_cancelCallback,sN=kn.unstable_shouldYield,lN=kn.unstable_requestPaint,rr=kn.unstable_now,cN=kn.unstable_getCurrentPriorityLevel,km=kn.unstable_ImmediatePriority,ok=kn.unstable_UserBlockingPriority,rf=kn.unstable_NormalPriority,uN=kn.unstable_LowPriority,ik=kn.unstable_IdlePriority,Nd=null,va=null;function fN(e){if(va&&typeof va.onCommitFiberRoot=="function")try{va.onCommitFiberRoot(Nd,e,void 0,(e.current.flags&128)===128)}catch{}}var aa=Math.clz32?Math.clz32:pN,dN=Math.log,hN=Math.LN2;function pN(e){return e>>>=0,e===0?32:31-(dN(e)/hN|0)|0}var du=64,hu=4194304;function _l(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function nf(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,o=e.pingedLanes,i=r&268435455;if(i!==0){var s=i&~a;s!==0?n=_l(s):(o&=i,o!==0&&(n=_l(o)))}else i=r&~a,i!==0?n=_l(i):o!==0&&(n=_l(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,o=t&-t,a>=o||a===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-aa(t),a=1<<r,n|=e[r],t&=~a;return n}function gN(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mN(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-aa(o),s=1<<i,l=a[i];l===-1?(!(s&r)||s&n)&&(a[i]=gN(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}function o0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function sk(){var e=du;return du<<=1,!(du&4194240)&&(du=64),e}function Fh(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Hc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-aa(t),e[t]=r}function yN(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-aa(r),o=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~o}}function Sm(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-aa(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var bt=0;function lk(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ck,jm,uk,fk,dk,i0=!1,pu=[],go=null,mo=null,yo=null,Xl=new Map,ql=new Map,io=[],vN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pv(e,t){switch(e){case"focusin":case"focusout":go=null;break;case"dragenter":case"dragleave":mo=null;break;case"mouseover":case"mouseout":yo=null;break;case"pointerover":case"pointerout":Xl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ql.delete(t.pointerId)}}function ll(e,t,r,n,a,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[a]},t!==null&&(t=Kc(t),t!==null&&jm(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function xN(e,t,r,n,a){switch(t){case"focusin":return go=ll(go,e,t,r,n,a),!0;case"dragenter":return mo=ll(mo,e,t,r,n,a),!0;case"mouseover":return yo=ll(yo,e,t,r,n,a),!0;case"pointerover":var o=a.pointerId;return Xl.set(o,ll(Xl.get(o)||null,e,t,r,n,a)),!0;case"gotpointercapture":return o=a.pointerId,ql.set(o,ll(ql.get(o)||null,e,t,r,n,a)),!0}return!1}function hk(e){var t=Uo(e.target);if(t!==null){var r=yi(t);if(r!==null){if(t=r.tag,t===13){if(t=tk(r),t!==null){e.blockedOn=t,dk(e.priority,function(){uk(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Uu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=s0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);t0=n,r.target.dispatchEvent(n),t0=null}else return t=Kc(r),t!==null&&jm(t),e.blockedOn=r,!1;t.shift()}return!0}function Nv(e,t,r){Uu(e)&&r.delete(t)}function bN(){i0=!1,go!==null&&Uu(go)&&(go=null),mo!==null&&Uu(mo)&&(mo=null),yo!==null&&Uu(yo)&&(yo=null),Xl.forEach(Nv),ql.forEach(Nv)}function cl(e,t){e.blockedOn===t&&(e.blockedOn=null,i0||(i0=!0,kn.unstable_scheduleCallback(kn.unstable_NormalPriority,bN)))}function Yl(e){function t(a){return cl(a,e)}if(0<pu.length){cl(pu[0],e);for(var r=1;r<pu.length;r++){var n=pu[r];n.blockedOn===e&&(n.blockedOn=null)}}for(go!==null&&cl(go,e),mo!==null&&cl(mo,e),yo!==null&&cl(yo,e),Xl.forEach(t),ql.forEach(t),r=0;r<io.length;r++)n=io[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<io.length&&(r=io[0],r.blockedOn===null);)hk(r),r.blockedOn===null&&io.shift()}var qi=qa.ReactCurrentBatchConfig,af=!0;function wN(e,t,r,n){var a=bt,o=qi.transition;qi.transition=null;try{bt=1,Om(e,t,r,n)}finally{bt=a,qi.transition=o}}function kN(e,t,r,n){var a=bt,o=qi.transition;qi.transition=null;try{bt=4,Om(e,t,r,n)}finally{bt=a,qi.transition=o}}function Om(e,t,r,n){if(af){var a=s0(e,t,r,n);if(a===null)Yh(e,t,n,of,r),Pv(e,n);else if(xN(a,e,t,r,n))n.stopPropagation();else if(Pv(e,n),t&4&&-1<vN.indexOf(e)){for(;a!==null;){var o=Kc(a);if(o!==null&&ck(o),o=s0(e,t,r,n),o===null&&Yh(e,t,n,of,r),o===a)break;a=o}a!==null&&n.stopPropagation()}else Yh(e,t,n,null,r)}}var of=null;function s0(e,t,r,n){if(of=null,e=wm(n),e=Uo(e),e!==null)if(t=yi(e),t===null)e=null;else if(r=t.tag,r===13){if(e=tk(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return of=e,null}function pk(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cN()){case km:return 1;case ok:return 4;case rf:case uN:return 16;case ik:return 536870912;default:return 16}default:return 16}}var co=null,_m=null,Gu=null;function gk(){if(Gu)return Gu;var e,t=_m,r=t.length,n,a="value"in co?co.value:co.textContent,o=a.length;for(e=0;e<r&&t[e]===a[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===a[o-n];n++);return Gu=a.slice(e,1<n?1-n:void 0)}function Hu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function gu(){return!0}function Av(){return!1}function jn(e){function t(r,n,a,o,i){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(r=e[s],this[s]=r?r(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?gu:Av,this.isPropagationStopped=Av,this}return qt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=gu)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=gu)},persist:function(){},isPersistent:gu}),t}var Rs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pm=jn(Rs),Vc=qt({},Rs,{view:0,detail:0}),SN=jn(Vc),zh,Wh,ul,Ad=qt({},Vc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nm,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ul&&(ul&&e.type==="mousemove"?(zh=e.screenX-ul.screenX,Wh=e.screenY-ul.screenY):Wh=zh=0,ul=e),zh)},movementY:function(e){return"movementY"in e?e.movementY:Wh}}),Mv=jn(Ad),jN=qt({},Ad,{dataTransfer:0}),ON=jn(jN),_N=qt({},Vc,{relatedTarget:0}),Uh=jn(_N),PN=qt({},Rs,{animationName:0,elapsedTime:0,pseudoElement:0}),NN=jn(PN),AN=qt({},Rs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),MN=jn(AN),CN=qt({},Rs,{data:0}),Cv=jn(CN),EN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},TN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$N={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function DN(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=$N[e])?!!t[e]:!1}function Nm(){return DN}var LN=qt({},Vc,{key:function(e){if(e.key){var t=EN[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Hu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?TN[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nm,charCode:function(e){return e.type==="keypress"?Hu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Hu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),RN=jn(LN),IN=qt({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ev=jn(IN),BN=qt({},Vc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nm}),FN=jn(BN),zN=qt({},Rs,{propertyName:0,elapsedTime:0,pseudoElement:0}),WN=jn(zN),UN=qt({},Ad,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),GN=jn(UN),HN=[9,13,27,32],Am=Wa&&"CompositionEvent"in window,Cl=null;Wa&&"documentMode"in document&&(Cl=document.documentMode);var VN=Wa&&"TextEvent"in window&&!Cl,mk=Wa&&(!Am||Cl&&8<Cl&&11>=Cl),Tv=" ",$v=!1;function yk(e,t){switch(e){case"keyup":return HN.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vk(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ti=!1;function KN(e,t){switch(e){case"compositionend":return vk(t);case"keypress":return t.which!==32?null:($v=!0,Tv);case"textInput":return e=t.data,e===Tv&&$v?null:e;default:return null}}function XN(e,t){if(Ti)return e==="compositionend"||!Am&&yk(e,t)?(e=gk(),Gu=_m=co=null,Ti=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return mk&&t.locale!=="ko"?null:t.data;default:return null}}var qN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!qN[e.type]:t==="textarea"}function xk(e,t,r,n){Y2(n),t=sf(t,"onChange"),0<t.length&&(r=new Pm("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var El=null,Ql=null;function YN(e){Mk(e,0)}function Md(e){var t=Li(e);if(U2(t))return e}function QN(e,t){if(e==="change")return t}var bk=!1;if(Wa){var Gh;if(Wa){var Hh="oninput"in document;if(!Hh){var Lv=document.createElement("div");Lv.setAttribute("oninput","return;"),Hh=typeof Lv.oninput=="function"}Gh=Hh}else Gh=!1;bk=Gh&&(!document.documentMode||9<document.documentMode)}function Rv(){El&&(El.detachEvent("onpropertychange",wk),Ql=El=null)}function wk(e){if(e.propertyName==="value"&&Md(Ql)){var t=[];xk(t,Ql,e,wm(e)),ek(YN,t)}}function ZN(e,t,r){e==="focusin"?(Rv(),El=t,Ql=r,El.attachEvent("onpropertychange",wk)):e==="focusout"&&Rv()}function JN(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Md(Ql)}function eA(e,t){if(e==="click")return Md(t)}function tA(e,t){if(e==="input"||e==="change")return Md(t)}function rA(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ia=typeof Object.is=="function"?Object.is:rA;function Zl(e,t){if(ia(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Up.call(t,a)||!ia(e[a],t[a]))return!1}return!0}function Iv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Bv(e,t){var r=Iv(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Iv(r)}}function kk(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?kk(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Sk(){for(var e=window,t=Ju();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ju(e.document)}return t}function Mm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function nA(e){var t=Sk(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&kk(r.ownerDocument.documentElement,r)){if(n!==null&&Mm(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,o=Math.min(n.start,a);n=n.end===void 0?o:Math.min(n.end,a),!e.extend&&o>n&&(a=n,n=o,o=a),a=Bv(r,o);var i=Bv(r,n);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var aA=Wa&&"documentMode"in document&&11>=document.documentMode,$i=null,l0=null,Tl=null,c0=!1;function Fv(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;c0||$i==null||$i!==Ju(n)||(n=$i,"selectionStart"in n&&Mm(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Tl&&Zl(Tl,n)||(Tl=n,n=sf(l0,"onSelect"),0<n.length&&(t=new Pm("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=$i)))}function mu(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Di={animationend:mu("Animation","AnimationEnd"),animationiteration:mu("Animation","AnimationIteration"),animationstart:mu("Animation","AnimationStart"),transitionend:mu("Transition","TransitionEnd")},Vh={},jk={};Wa&&(jk=document.createElement("div").style,"AnimationEvent"in window||(delete Di.animationend.animation,delete Di.animationiteration.animation,delete Di.animationstart.animation),"TransitionEvent"in window||delete Di.transitionend.transition);function Cd(e){if(Vh[e])return Vh[e];if(!Di[e])return e;var t=Di[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in jk)return Vh[e]=t[r];return e}var Ok=Cd("animationend"),_k=Cd("animationiteration"),Pk=Cd("animationstart"),Nk=Cd("transitionend"),Ak=new Map,zv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _o(e,t){Ak.set(e,t),mi(t,[e])}for(var Kh=0;Kh<zv.length;Kh++){var Xh=zv[Kh],oA=Xh.toLowerCase(),iA=Xh[0].toUpperCase()+Xh.slice(1);_o(oA,"on"+iA)}_o(Ok,"onAnimationEnd");_o(_k,"onAnimationIteration");_o(Pk,"onAnimationStart");_o("dblclick","onDoubleClick");_o("focusin","onFocus");_o("focusout","onBlur");_o(Nk,"onTransitionEnd");ts("onMouseEnter",["mouseout","mouseover"]);ts("onMouseLeave",["mouseout","mouseover"]);ts("onPointerEnter",["pointerout","pointerover"]);ts("onPointerLeave",["pointerout","pointerover"]);mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));mi("onBeforeInput",["compositionend","keypress","textInput","paste"]);mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pl));function Wv(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,oN(n,t,void 0,e),e.currentTarget=null}function Mk(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var i=n.length-1;0<=i;i--){var s=n[i],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&a.isPropagationStopped())break e;Wv(a,s,c),o=l}else for(i=0;i<n.length;i++){if(s=n[i],l=s.instance,c=s.currentTarget,s=s.listener,l!==o&&a.isPropagationStopped())break e;Wv(a,s,c),o=l}}}if(tf)throw e=a0,tf=!1,a0=null,e}function Rt(e,t){var r=t[p0];r===void 0&&(r=t[p0]=new Set);var n=e+"__bubble";r.has(n)||(Ck(t,e,2,!1),r.add(n))}function qh(e,t,r){var n=0;t&&(n|=4),Ck(r,e,n,t)}var yu="_reactListening"+Math.random().toString(36).slice(2);function Jl(e){if(!e[yu]){e[yu]=!0,I2.forEach(function(r){r!=="selectionchange"&&(sA.has(r)||qh(r,!1,e),qh(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[yu]||(t[yu]=!0,qh("selectionchange",!1,t))}}function Ck(e,t,r,n){switch(pk(t)){case 1:var a=wN;break;case 4:a=kN;break;default:a=Om}r=a.bind(null,t,r,e),a=void 0,!n0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Yh(e,t,r,n,a){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var s=n.stateNode.containerInfo;if(s===a||s.nodeType===8&&s.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;i=i.return}for(;s!==null;){if(i=Uo(s),i===null)return;if(l=i.tag,l===5||l===6){n=o=i;continue e}s=s.parentNode}}n=n.return}ek(function(){var c=o,u=wm(r),f=[];e:{var h=Ak.get(e);if(h!==void 0){var p=Pm,m=e;switch(e){case"keypress":if(Hu(r)===0)break e;case"keydown":case"keyup":p=RN;break;case"focusin":m="focus",p=Uh;break;case"focusout":m="blur",p=Uh;break;case"beforeblur":case"afterblur":p=Uh;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Mv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=ON;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=FN;break;case Ok:case _k:case Pk:p=NN;break;case Nk:p=WN;break;case"scroll":p=SN;break;case"wheel":p=GN;break;case"copy":case"cut":case"paste":p=MN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Ev}var v=(t&4)!==0,w=!v&&e==="scroll",y=v?h!==null?h+"Capture":null:h;v=[];for(var g=c,x;g!==null;){x=g;var S=x.stateNode;if(x.tag===5&&S!==null&&(x=S,y!==null&&(S=Kl(g,y),S!=null&&v.push(ec(g,S,x)))),w)break;g=g.return}0<v.length&&(h=new p(h,m,null,r,u),f.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==t0&&(m=r.relatedTarget||r.fromElement)&&(Uo(m)||m[Ua]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=c,m=m?Uo(m):null,m!==null&&(w=yi(m),m!==w||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(v=Mv,S="onMouseLeave",y="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(v=Ev,S="onPointerLeave",y="onPointerEnter",g="pointer"),w=p==null?h:Li(p),x=m==null?h:Li(m),h=new v(S,g+"leave",p,r,u),h.target=w,h.relatedTarget=x,S=null,Uo(u)===c&&(v=new v(y,g+"enter",m,r,u),v.target=x,v.relatedTarget=w,S=v),w=S,p&&m)t:{for(v=p,y=m,g=0,x=v;x;x=_i(x))g++;for(x=0,S=y;S;S=_i(S))x++;for(;0<g-x;)v=_i(v),g--;for(;0<x-g;)y=_i(y),x--;for(;g--;){if(v===y||y!==null&&v===y.alternate)break t;v=_i(v),y=_i(y)}v=null}else v=null;p!==null&&Uv(f,h,p,v,!1),m!==null&&w!==null&&Uv(f,w,m,v,!0)}}e:{if(h=c?Li(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var b=QN;else if(Dv(h))if(bk)b=tA;else{b=JN;var k=ZN}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(b=eA);if(b&&(b=b(e,c))){xk(f,b,r,u);break e}k&&k(e,h,c),e==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&Yp(h,"number",h.value)}switch(k=c?Li(c):window,e){case"focusin":(Dv(k)||k.contentEditable==="true")&&($i=k,l0=c,Tl=null);break;case"focusout":Tl=l0=$i=null;break;case"mousedown":c0=!0;break;case"contextmenu":case"mouseup":case"dragend":c0=!1,Fv(f,r,u);break;case"selectionchange":if(aA)break;case"keydown":case"keyup":Fv(f,r,u)}var j;if(Am)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Ti?yk(e,r)&&(_="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(_="onCompositionStart");_&&(mk&&r.locale!=="ko"&&(Ti||_!=="onCompositionStart"?_==="onCompositionEnd"&&Ti&&(j=gk()):(co=u,_m="value"in co?co.value:co.textContent,Ti=!0)),k=sf(c,_),0<k.length&&(_=new Cv(_,e,null,r,u),f.push({event:_,listeners:k}),j?_.data=j:(j=vk(r),j!==null&&(_.data=j)))),(j=VN?KN(e,r):XN(e,r))&&(c=sf(c,"onBeforeInput"),0<c.length&&(u=new Cv("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:c}),u.data=j))}Mk(f,t)})}function ec(e,t,r){return{instance:e,listener:t,currentTarget:r}}function sf(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,o=a.stateNode;a.tag===5&&o!==null&&(a=o,o=Kl(e,r),o!=null&&n.unshift(ec(e,o,a)),o=Kl(e,t),o!=null&&n.push(ec(e,o,a))),e=e.return}return n}function _i(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Uv(e,t,r,n,a){for(var o=t._reactName,i=[];r!==null&&r!==n;){var s=r,l=s.alternate,c=s.stateNode;if(l!==null&&l===n)break;s.tag===5&&c!==null&&(s=c,a?(l=Kl(r,o),l!=null&&i.unshift(ec(r,l,s))):a||(l=Kl(r,o),l!=null&&i.push(ec(r,l,s)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var lA=/\r\n?/g,cA=/\u0000|\uFFFD/g;function Gv(e){return(typeof e=="string"?e:""+e).replace(lA,`
`).replace(cA,"")}function vu(e,t,r){if(t=Gv(t),Gv(e)!==t&&r)throw Error(ae(425))}function lf(){}var u0=null,f0=null;function d0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var h0=typeof setTimeout=="function"?setTimeout:void 0,uA=typeof clearTimeout=="function"?clearTimeout:void 0,Hv=typeof Promise=="function"?Promise:void 0,fA=typeof queueMicrotask=="function"?queueMicrotask:typeof Hv<"u"?function(e){return Hv.resolve(null).then(e).catch(dA)}:h0;function dA(e){setTimeout(function(){throw e})}function Qh(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Yl(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Yl(t)}function vo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Vv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Is=Math.random().toString(36).slice(2),ga="__reactFiber$"+Is,tc="__reactProps$"+Is,Ua="__reactContainer$"+Is,p0="__reactEvents$"+Is,hA="__reactListeners$"+Is,pA="__reactHandles$"+Is;function Uo(e){var t=e[ga];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ua]||r[ga]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Vv(e);e!==null;){if(r=e[ga])return r;e=Vv(e)}return t}e=r,r=e.parentNode}return null}function Kc(e){return e=e[ga]||e[Ua],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Li(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ae(33))}function Ed(e){return e[tc]||null}var g0=[],Ri=-1;function Po(e){return{current:e}}function Ft(e){0>Ri||(e.current=g0[Ri],g0[Ri]=null,Ri--)}function Tt(e,t){Ri++,g0[Ri]=e.current,e.current=t}var Oo={},Gr=Po(Oo),cn=Po(!1),ai=Oo;function rs(e,t){var r=e.type.contextTypes;if(!r)return Oo;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},o;for(o in r)a[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function un(e){return e=e.childContextTypes,e!=null}function cf(){Ft(cn),Ft(Gr)}function Kv(e,t,r){if(Gr.current!==Oo)throw Error(ae(168));Tt(Gr,t),Tt(cn,r)}function Ek(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(ae(108,ZP(e)||"Unknown",a));return qt({},r,n)}function uf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Oo,ai=Gr.current,Tt(Gr,e),Tt(cn,cn.current),!0}function Xv(e,t,r){var n=e.stateNode;if(!n)throw Error(ae(169));r?(e=Ek(e,t,ai),n.__reactInternalMemoizedMergedChildContext=e,Ft(cn),Ft(Gr),Tt(Gr,e)):Ft(cn),Tt(cn,r)}var Ca=null,Td=!1,Zh=!1;function Tk(e){Ca===null?Ca=[e]:Ca.push(e)}function gA(e){Td=!0,Tk(e)}function No(){if(!Zh&&Ca!==null){Zh=!0;var e=0,t=bt;try{var r=Ca;for(bt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ca=null,Td=!1}catch(a){throw Ca!==null&&(Ca=Ca.slice(e+1)),ak(km,No),a}finally{bt=t,Zh=!1}}return null}var Ii=[],Bi=0,ff=null,df=0,Tn=[],$n=0,oi=null,Ea=1,Ta="";function Io(e,t){Ii[Bi++]=df,Ii[Bi++]=ff,ff=e,df=t}function $k(e,t,r){Tn[$n++]=Ea,Tn[$n++]=Ta,Tn[$n++]=oi,oi=e;var n=Ea;e=Ta;var a=32-aa(n)-1;n&=~(1<<a),r+=1;var o=32-aa(t)+a;if(30<o){var i=a-a%5;o=(n&(1<<i)-1).toString(32),n>>=i,a-=i,Ea=1<<32-aa(t)+a|r<<a|n,Ta=o+e}else Ea=1<<o|r<<a|n,Ta=e}function Cm(e){e.return!==null&&(Io(e,1),$k(e,1,0))}function Em(e){for(;e===ff;)ff=Ii[--Bi],Ii[Bi]=null,df=Ii[--Bi],Ii[Bi]=null;for(;e===oi;)oi=Tn[--$n],Tn[$n]=null,Ta=Tn[--$n],Tn[$n]=null,Ea=Tn[--$n],Tn[$n]=null}var wn=null,bn=null,Wt=!1,ta=null;function Dk(e,t){var r=Dn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function qv(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,wn=e,bn=vo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,wn=e,bn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=oi!==null?{id:Ea,overflow:Ta}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Dn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,wn=e,bn=null,!0):!1;default:return!1}}function m0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function y0(e){if(Wt){var t=bn;if(t){var r=t;if(!qv(e,t)){if(m0(e))throw Error(ae(418));t=vo(r.nextSibling);var n=wn;t&&qv(e,t)?Dk(n,r):(e.flags=e.flags&-4097|2,Wt=!1,wn=e)}}else{if(m0(e))throw Error(ae(418));e.flags=e.flags&-4097|2,Wt=!1,wn=e}}}function Yv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;wn=e}function xu(e){if(e!==wn)return!1;if(!Wt)return Yv(e),Wt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!d0(e.type,e.memoizedProps)),t&&(t=bn)){if(m0(e))throw Lk(),Error(ae(418));for(;t;)Dk(e,t),t=vo(t.nextSibling)}if(Yv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ae(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){bn=vo(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}bn=null}}else bn=wn?vo(e.stateNode.nextSibling):null;return!0}function Lk(){for(var e=bn;e;)e=vo(e.nextSibling)}function ns(){bn=wn=null,Wt=!1}function Tm(e){ta===null?ta=[e]:ta.push(e)}var mA=qa.ReactCurrentBatchConfig;function fl(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ae(309));var n=r.stateNode}if(!n)throw Error(ae(147,e));var a=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var s=a.refs;i===null?delete s[o]:s[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(ae(284));if(!r._owner)throw Error(ae(290,e))}return e}function bu(e,t){throw e=Object.prototype.toString.call(t),Error(ae(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qv(e){var t=e._init;return t(e._payload)}function Rk(e){function t(y,g){if(e){var x=y.deletions;x===null?(y.deletions=[g],y.flags|=16):x.push(g)}}function r(y,g){if(!e)return null;for(;g!==null;)t(y,g),g=g.sibling;return null}function n(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function a(y,g){return y=ko(y,g),y.index=0,y.sibling=null,y}function o(y,g,x){return y.index=x,e?(x=y.alternate,x!==null?(x=x.index,x<g?(y.flags|=2,g):x):(y.flags|=2,g)):(y.flags|=1048576,g)}function i(y){return e&&y.alternate===null&&(y.flags|=2),y}function s(y,g,x,S){return g===null||g.tag!==6?(g=op(x,y.mode,S),g.return=y,g):(g=a(g,x),g.return=y,g)}function l(y,g,x,S){var b=x.type;return b===Ei?u(y,g,x.props.children,S,x.key):g!==null&&(g.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===no&&Qv(b)===g.type)?(S=a(g,x.props),S.ref=fl(y,g,x),S.return=y,S):(S=Zu(x.type,x.key,x.props,null,y.mode,S),S.ref=fl(y,g,x),S.return=y,S)}function c(y,g,x,S){return g===null||g.tag!==4||g.stateNode.containerInfo!==x.containerInfo||g.stateNode.implementation!==x.implementation?(g=ip(x,y.mode,S),g.return=y,g):(g=a(g,x.children||[]),g.return=y,g)}function u(y,g,x,S,b){return g===null||g.tag!==7?(g=Jo(x,y.mode,S,b),g.return=y,g):(g=a(g,x),g.return=y,g)}function f(y,g,x){if(typeof g=="string"&&g!==""||typeof g=="number")return g=op(""+g,y.mode,x),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case cu:return x=Zu(g.type,g.key,g.props,null,y.mode,x),x.ref=fl(y,null,g),x.return=y,x;case Ci:return g=ip(g,y.mode,x),g.return=y,g;case no:var S=g._init;return f(y,S(g._payload),x)}if(Ol(g)||il(g))return g=Jo(g,y.mode,x,null),g.return=y,g;bu(y,g)}return null}function h(y,g,x,S){var b=g!==null?g.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return b!==null?null:s(y,g,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case cu:return x.key===b?l(y,g,x,S):null;case Ci:return x.key===b?c(y,g,x,S):null;case no:return b=x._init,h(y,g,b(x._payload),S)}if(Ol(x)||il(x))return b!==null?null:u(y,g,x,S,null);bu(y,x)}return null}function p(y,g,x,S,b){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(x)||null,s(g,y,""+S,b);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case cu:return y=y.get(S.key===null?x:S.key)||null,l(g,y,S,b);case Ci:return y=y.get(S.key===null?x:S.key)||null,c(g,y,S,b);case no:var k=S._init;return p(y,g,x,k(S._payload),b)}if(Ol(S)||il(S))return y=y.get(x)||null,u(g,y,S,b,null);bu(g,S)}return null}function m(y,g,x,S){for(var b=null,k=null,j=g,_=g=0,P=null;j!==null&&_<x.length;_++){j.index>_?(P=j,j=null):P=j.sibling;var N=h(y,j,x[_],S);if(N===null){j===null&&(j=P);break}e&&j&&N.alternate===null&&t(y,j),g=o(N,g,_),k===null?b=N:k.sibling=N,k=N,j=P}if(_===x.length)return r(y,j),Wt&&Io(y,_),b;if(j===null){for(;_<x.length;_++)j=f(y,x[_],S),j!==null&&(g=o(j,g,_),k===null?b=j:k.sibling=j,k=j);return Wt&&Io(y,_),b}for(j=n(y,j);_<x.length;_++)P=p(j,y,_,x[_],S),P!==null&&(e&&P.alternate!==null&&j.delete(P.key===null?_:P.key),g=o(P,g,_),k===null?b=P:k.sibling=P,k=P);return e&&j.forEach(function(A){return t(y,A)}),Wt&&Io(y,_),b}function v(y,g,x,S){var b=il(x);if(typeof b!="function")throw Error(ae(150));if(x=b.call(x),x==null)throw Error(ae(151));for(var k=b=null,j=g,_=g=0,P=null,N=x.next();j!==null&&!N.done;_++,N=x.next()){j.index>_?(P=j,j=null):P=j.sibling;var A=h(y,j,N.value,S);if(A===null){j===null&&(j=P);break}e&&j&&A.alternate===null&&t(y,j),g=o(A,g,_),k===null?b=A:k.sibling=A,k=A,j=P}if(N.done)return r(y,j),Wt&&Io(y,_),b;if(j===null){for(;!N.done;_++,N=x.next())N=f(y,N.value,S),N!==null&&(g=o(N,g,_),k===null?b=N:k.sibling=N,k=N);return Wt&&Io(y,_),b}for(j=n(y,j);!N.done;_++,N=x.next())N=p(j,y,_,N.value,S),N!==null&&(e&&N.alternate!==null&&j.delete(N.key===null?_:N.key),g=o(N,g,_),k===null?b=N:k.sibling=N,k=N);return e&&j.forEach(function(C){return t(y,C)}),Wt&&Io(y,_),b}function w(y,g,x,S){if(typeof x=="object"&&x!==null&&x.type===Ei&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case cu:e:{for(var b=x.key,k=g;k!==null;){if(k.key===b){if(b=x.type,b===Ei){if(k.tag===7){r(y,k.sibling),g=a(k,x.props.children),g.return=y,y=g;break e}}else if(k.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===no&&Qv(b)===k.type){r(y,k.sibling),g=a(k,x.props),g.ref=fl(y,k,x),g.return=y,y=g;break e}r(y,k);break}else t(y,k);k=k.sibling}x.type===Ei?(g=Jo(x.props.children,y.mode,S,x.key),g.return=y,y=g):(S=Zu(x.type,x.key,x.props,null,y.mode,S),S.ref=fl(y,g,x),S.return=y,y=S)}return i(y);case Ci:e:{for(k=x.key;g!==null;){if(g.key===k)if(g.tag===4&&g.stateNode.containerInfo===x.containerInfo&&g.stateNode.implementation===x.implementation){r(y,g.sibling),g=a(g,x.children||[]),g.return=y,y=g;break e}else{r(y,g);break}else t(y,g);g=g.sibling}g=ip(x,y.mode,S),g.return=y,y=g}return i(y);case no:return k=x._init,w(y,g,k(x._payload),S)}if(Ol(x))return m(y,g,x,S);if(il(x))return v(y,g,x,S);bu(y,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,g!==null&&g.tag===6?(r(y,g.sibling),g=a(g,x),g.return=y,y=g):(r(y,g),g=op(x,y.mode,S),g.return=y,y=g),i(y)):r(y,g)}return w}var as=Rk(!0),Ik=Rk(!1),hf=Po(null),pf=null,Fi=null,$m=null;function Dm(){$m=Fi=pf=null}function Lm(e){var t=hf.current;Ft(hf),e._currentValue=t}function v0(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Yi(e,t){pf=e,$m=Fi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(sn=!0),e.firstContext=null)}function Fn(e){var t=e._currentValue;if($m!==e)if(e={context:e,memoizedValue:t,next:null},Fi===null){if(pf===null)throw Error(ae(308));Fi=e,pf.dependencies={lanes:0,firstContext:e}}else Fi=Fi.next=e;return t}var Go=null;function Rm(e){Go===null?Go=[e]:Go.push(e)}function Bk(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,Rm(t)):(r.next=a.next,a.next=r),t.interleaved=r,Ga(e,n)}function Ga(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var ao=!1;function Im(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fk(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ra(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function xo(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,st&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Ga(e,r)}return a=n.interleaved,a===null?(t.next=t,Rm(n)):(t.next=a.next,a.next=t),n.interleaved=t,Ga(e,r)}function Vu(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Sm(e,r)}}function Zv(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?a=o=i:o=o.next=i,r=r.next}while(r!==null);o===null?a=o=t:o=o.next=t}else a=o=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function gf(e,t,r,n){var a=e.updateQueue;ao=!1;var o=a.firstBaseUpdate,i=a.lastBaseUpdate,s=a.shared.pending;if(s!==null){a.shared.pending=null;var l=s,c=l.next;l.next=null,i===null?o=c:i.next=c,i=l;var u=e.alternate;u!==null&&(u=u.updateQueue,s=u.lastBaseUpdate,s!==i&&(s===null?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(o!==null){var f=a.baseState;i=0,u=c=l=null,s=o;do{var h=s.lane,p=s.eventTime;if((n&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var m=e,v=s;switch(h=t,p=r,v.tag){case 1:if(m=v.payload,typeof m=="function"){f=m.call(p,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=v.payload,h=typeof m=="function"?m.call(p,f,h):m,h==null)break e;f=qt({},f,h);break e;case 2:ao=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},u===null?(c=u=p,l=f):u=u.next=p,i|=h;if(s=s.next,s===null){if(s=a.shared.pending,s===null)break;h=s,s=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(u===null&&(l=f),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else o===null&&(a.shared.lanes=0);si|=i,e.lanes=i,e.memoizedState=f}}function Jv(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(ae(191,a));a.call(n)}}}var Xc={},xa=Po(Xc),rc=Po(Xc),nc=Po(Xc);function Ho(e){if(e===Xc)throw Error(ae(174));return e}function Bm(e,t){switch(Tt(nc,t),Tt(rc,e),Tt(xa,Xc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Zp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Zp(t,e)}Ft(xa),Tt(xa,t)}function os(){Ft(xa),Ft(rc),Ft(nc)}function zk(e){Ho(nc.current);var t=Ho(xa.current),r=Zp(t,e.type);t!==r&&(Tt(rc,e),Tt(xa,r))}function Fm(e){rc.current===e&&(Ft(xa),Ft(rc))}var Kt=Po(0);function mf(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Jh=[];function zm(){for(var e=0;e<Jh.length;e++)Jh[e]._workInProgressVersionPrimary=null;Jh.length=0}var Ku=qa.ReactCurrentDispatcher,ep=qa.ReactCurrentBatchConfig,ii=0,Xt=null,hr=null,kr=null,yf=!1,$l=!1,ac=0,yA=0;function Lr(){throw Error(ae(321))}function Wm(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ia(e[r],t[r]))return!1;return!0}function Um(e,t,r,n,a,o){if(ii=o,Xt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ku.current=e===null||e.memoizedState===null?wA:kA,e=r(n,a),$l){o=0;do{if($l=!1,ac=0,25<=o)throw Error(ae(301));o+=1,kr=hr=null,t.updateQueue=null,Ku.current=SA,e=r(n,a)}while($l)}if(Ku.current=vf,t=hr!==null&&hr.next!==null,ii=0,kr=hr=Xt=null,yf=!1,t)throw Error(ae(300));return e}function Gm(){var e=ac!==0;return ac=0,e}function pa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kr===null?Xt.memoizedState=kr=e:kr=kr.next=e,kr}function zn(){if(hr===null){var e=Xt.alternate;e=e!==null?e.memoizedState:null}else e=hr.next;var t=kr===null?Xt.memoizedState:kr.next;if(t!==null)kr=t,hr=e;else{if(e===null)throw Error(ae(310));hr=e,e={memoizedState:hr.memoizedState,baseState:hr.baseState,baseQueue:hr.baseQueue,queue:hr.queue,next:null},kr===null?Xt.memoizedState=kr=e:kr=kr.next=e}return kr}function oc(e,t){return typeof t=="function"?t(e):t}function tp(e){var t=zn(),r=t.queue;if(r===null)throw Error(ae(311));r.lastRenderedReducer=e;var n=hr,a=n.baseQueue,o=r.pending;if(o!==null){if(a!==null){var i=a.next;a.next=o.next,o.next=i}n.baseQueue=a=o,r.pending=null}if(a!==null){o=a.next,n=n.baseState;var s=i=null,l=null,c=o;do{var u=c.lane;if((ii&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=f,i=n):l=l.next=f,Xt.lanes|=u,si|=u}c=c.next}while(c!==null&&c!==o);l===null?i=n:l.next=s,ia(n,t.memoizedState)||(sn=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do o=a.lane,Xt.lanes|=o,si|=o,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function rp(e){var t=zn(),r=t.queue;if(r===null)throw Error(ae(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,o=t.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do o=e(o,i.action),i=i.next;while(i!==a);ia(o,t.memoizedState)||(sn=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function Wk(){}function Uk(e,t){var r=Xt,n=zn(),a=t(),o=!ia(n.memoizedState,a);if(o&&(n.memoizedState=a,sn=!0),n=n.queue,Hm(Vk.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||kr!==null&&kr.memoizedState.tag&1){if(r.flags|=2048,ic(9,Hk.bind(null,r,n,a,t),void 0,null),Sr===null)throw Error(ae(349));ii&30||Gk(r,t,a)}return a}function Gk(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Xt.updateQueue,t===null?(t={lastEffect:null,stores:null},Xt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Hk(e,t,r,n){t.value=r,t.getSnapshot=n,Kk(t)&&Xk(e)}function Vk(e,t,r){return r(function(){Kk(t)&&Xk(e)})}function Kk(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ia(e,r)}catch{return!0}}function Xk(e){var t=Ga(e,1);t!==null&&oa(t,e,1,-1)}function ex(e){var t=pa();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:oc,lastRenderedState:e},t.queue=e,e=e.dispatch=bA.bind(null,Xt,e),[t.memoizedState,e]}function ic(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Xt.updateQueue,t===null?(t={lastEffect:null,stores:null},Xt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function qk(){return zn().memoizedState}function Xu(e,t,r,n){var a=pa();Xt.flags|=e,a.memoizedState=ic(1|t,r,void 0,n===void 0?null:n)}function $d(e,t,r,n){var a=zn();n=n===void 0?null:n;var o=void 0;if(hr!==null){var i=hr.memoizedState;if(o=i.destroy,n!==null&&Wm(n,i.deps)){a.memoizedState=ic(t,r,o,n);return}}Xt.flags|=e,a.memoizedState=ic(1|t,r,o,n)}function tx(e,t){return Xu(8390656,8,e,t)}function Hm(e,t){return $d(2048,8,e,t)}function Yk(e,t){return $d(4,2,e,t)}function Qk(e,t){return $d(4,4,e,t)}function Zk(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Jk(e,t,r){return r=r!=null?r.concat([e]):null,$d(4,4,Zk.bind(null,t,e),r)}function Vm(){}function eS(e,t){var r=zn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Wm(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function tS(e,t){var r=zn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Wm(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function rS(e,t,r){return ii&21?(ia(r,t)||(r=sk(),Xt.lanes|=r,si|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,sn=!0),e.memoizedState=r)}function vA(e,t){var r=bt;bt=r!==0&&4>r?r:4,e(!0);var n=ep.transition;ep.transition={};try{e(!1),t()}finally{bt=r,ep.transition=n}}function nS(){return zn().memoizedState}function xA(e,t,r){var n=wo(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},aS(e))oS(t,r);else if(r=Bk(e,t,r,n),r!==null){var a=Qr();oa(r,e,n,a),iS(r,t,n)}}function bA(e,t,r){var n=wo(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(aS(e))oS(t,a);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,s=o(i,r);if(a.hasEagerState=!0,a.eagerState=s,ia(s,i)){var l=t.interleaved;l===null?(a.next=a,Rm(t)):(a.next=l.next,l.next=a),t.interleaved=a;return}}catch{}finally{}r=Bk(e,t,a,n),r!==null&&(a=Qr(),oa(r,e,n,a),iS(r,t,n))}}function aS(e){var t=e.alternate;return e===Xt||t!==null&&t===Xt}function oS(e,t){$l=yf=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function iS(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Sm(e,r)}}var vf={readContext:Fn,useCallback:Lr,useContext:Lr,useEffect:Lr,useImperativeHandle:Lr,useInsertionEffect:Lr,useLayoutEffect:Lr,useMemo:Lr,useReducer:Lr,useRef:Lr,useState:Lr,useDebugValue:Lr,useDeferredValue:Lr,useTransition:Lr,useMutableSource:Lr,useSyncExternalStore:Lr,useId:Lr,unstable_isNewReconciler:!1},wA={readContext:Fn,useCallback:function(e,t){return pa().memoizedState=[e,t===void 0?null:t],e},useContext:Fn,useEffect:tx,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Xu(4194308,4,Zk.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Xu(4194308,4,e,t)},useInsertionEffect:function(e,t){return Xu(4,2,e,t)},useMemo:function(e,t){var r=pa();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=pa();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=xA.bind(null,Xt,e),[n.memoizedState,e]},useRef:function(e){var t=pa();return e={current:e},t.memoizedState=e},useState:ex,useDebugValue:Vm,useDeferredValue:function(e){return pa().memoizedState=e},useTransition:function(){var e=ex(!1),t=e[0];return e=vA.bind(null,e[1]),pa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Xt,a=pa();if(Wt){if(r===void 0)throw Error(ae(407));r=r()}else{if(r=t(),Sr===null)throw Error(ae(349));ii&30||Gk(n,t,r)}a.memoizedState=r;var o={value:r,getSnapshot:t};return a.queue=o,tx(Vk.bind(null,n,o,e),[e]),n.flags|=2048,ic(9,Hk.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=pa(),t=Sr.identifierPrefix;if(Wt){var r=Ta,n=Ea;r=(n&~(1<<32-aa(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=ac++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=yA++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},kA={readContext:Fn,useCallback:eS,useContext:Fn,useEffect:Hm,useImperativeHandle:Jk,useInsertionEffect:Yk,useLayoutEffect:Qk,useMemo:tS,useReducer:tp,useRef:qk,useState:function(){return tp(oc)},useDebugValue:Vm,useDeferredValue:function(e){var t=zn();return rS(t,hr.memoizedState,e)},useTransition:function(){var e=tp(oc)[0],t=zn().memoizedState;return[e,t]},useMutableSource:Wk,useSyncExternalStore:Uk,useId:nS,unstable_isNewReconciler:!1},SA={readContext:Fn,useCallback:eS,useContext:Fn,useEffect:Hm,useImperativeHandle:Jk,useInsertionEffect:Yk,useLayoutEffect:Qk,useMemo:tS,useReducer:rp,useRef:qk,useState:function(){return rp(oc)},useDebugValue:Vm,useDeferredValue:function(e){var t=zn();return hr===null?t.memoizedState=e:rS(t,hr.memoizedState,e)},useTransition:function(){var e=rp(oc)[0],t=zn().memoizedState;return[e,t]},useMutableSource:Wk,useSyncExternalStore:Uk,useId:nS,unstable_isNewReconciler:!1};function Qn(e,t){if(e&&e.defaultProps){t=qt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function x0(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:qt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Dd={isMounted:function(e){return(e=e._reactInternals)?yi(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Qr(),a=wo(e),o=Ra(n,a);o.payload=t,r!=null&&(o.callback=r),t=xo(e,o,a),t!==null&&(oa(t,e,a,n),Vu(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Qr(),a=wo(e),o=Ra(n,a);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=xo(e,o,a),t!==null&&(oa(t,e,a,n),Vu(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Qr(),n=wo(e),a=Ra(r,n);a.tag=2,t!=null&&(a.callback=t),t=xo(e,a,n),t!==null&&(oa(t,e,n,r),Vu(t,e,n))}};function rx(e,t,r,n,a,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,i):t.prototype&&t.prototype.isPureReactComponent?!Zl(r,n)||!Zl(a,o):!0}function sS(e,t,r){var n=!1,a=Oo,o=t.contextType;return typeof o=="object"&&o!==null?o=Fn(o):(a=un(t)?ai:Gr.current,n=t.contextTypes,o=(n=n!=null)?rs(e,a):Oo),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Dd,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function nx(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Dd.enqueueReplaceState(t,t.state,null)}function b0(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Im(e);var o=t.contextType;typeof o=="object"&&o!==null?a.context=Fn(o):(o=un(t)?ai:Gr.current,a.context=rs(e,o)),a.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(x0(e,t,o,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Dd.enqueueReplaceState(a,a.state,null),gf(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function is(e,t){try{var r="",n=t;do r+=QP(n),n=n.return;while(n);var a=r}catch(o){a=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:a,digest:null}}function np(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function w0(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var jA=typeof WeakMap=="function"?WeakMap:Map;function lS(e,t,r){r=Ra(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){bf||(bf=!0,C0=n),w0(e,t)},r}function cS(e,t,r){r=Ra(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){w0(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){w0(e,t),typeof n!="function"&&(bo===null?bo=new Set([this]):bo.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function ax(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new jA;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=IA.bind(null,e,t,r),t.then(e,e))}function ox(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ix(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ra(-1,1),t.tag=2,xo(r,t,1))),r.lanes|=1),e)}var OA=qa.ReactCurrentOwner,sn=!1;function Xr(e,t,r,n){t.child=e===null?Ik(t,null,r,n):as(t,e.child,r,n)}function sx(e,t,r,n,a){r=r.render;var o=t.ref;return Yi(t,a),n=Um(e,t,r,n,o,a),r=Gm(),e!==null&&!sn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ha(e,t,a)):(Wt&&r&&Cm(t),t.flags|=1,Xr(e,t,n,a),t.child)}function lx(e,t,r,n,a){if(e===null){var o=r.type;return typeof o=="function"&&!ey(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,uS(e,t,o,n,a)):(e=Zu(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&a)){var i=o.memoizedProps;if(r=r.compare,r=r!==null?r:Zl,r(i,n)&&e.ref===t.ref)return Ha(e,t,a)}return t.flags|=1,e=ko(o,n),e.ref=t.ref,e.return=t,t.child=e}function uS(e,t,r,n,a){if(e!==null){var o=e.memoizedProps;if(Zl(o,n)&&e.ref===t.ref)if(sn=!1,t.pendingProps=n=o,(e.lanes&a)!==0)e.flags&131072&&(sn=!0);else return t.lanes=e.lanes,Ha(e,t,a)}return k0(e,t,r,n,a)}function fS(e,t,r){var n=t.pendingProps,a=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tt(Wi,yn),yn|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Tt(Wi,yn),yn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,Tt(Wi,yn),yn|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,Tt(Wi,yn),yn|=n;return Xr(e,t,a,r),t.child}function dS(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function k0(e,t,r,n,a){var o=un(r)?ai:Gr.current;return o=rs(t,o),Yi(t,a),r=Um(e,t,r,n,o,a),n=Gm(),e!==null&&!sn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ha(e,t,a)):(Wt&&n&&Cm(t),t.flags|=1,Xr(e,t,r,a),t.child)}function cx(e,t,r,n,a){if(un(r)){var o=!0;uf(t)}else o=!1;if(Yi(t,a),t.stateNode===null)qu(e,t),sS(t,r,n),b0(t,r,n,a),n=!0;else if(e===null){var i=t.stateNode,s=t.memoizedProps;i.props=s;var l=i.context,c=r.contextType;typeof c=="object"&&c!==null?c=Fn(c):(c=un(r)?ai:Gr.current,c=rs(t,c));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(s!==n||l!==c)&&nx(t,i,n,c),ao=!1;var h=t.memoizedState;i.state=h,gf(t,n,i,a),l=t.memoizedState,s!==n||h!==l||cn.current||ao?(typeof u=="function"&&(x0(t,r,u,n),l=t.memoizedState),(s=ao||rx(t,r,s,n,h,l,c))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),i.props=n,i.state=l,i.context=c,n=s):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,Fk(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Qn(t.type,s),i.props=c,f=t.pendingProps,h=i.context,l=r.contextType,typeof l=="object"&&l!==null?l=Fn(l):(l=un(r)?ai:Gr.current,l=rs(t,l));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(s!==f||h!==l)&&nx(t,i,n,l),ao=!1,h=t.memoizedState,i.state=h,gf(t,n,i,a);var m=t.memoizedState;s!==f||h!==m||cn.current||ao?(typeof p=="function"&&(x0(t,r,p,n),m=t.memoizedState),(c=ao||rx(t,r,c,n,h,m,l)||!1)?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,m,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,m,l)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),i.props=n,i.state=m,i.context=l,n=c):(typeof i.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return S0(e,t,r,n,o,a)}function S0(e,t,r,n,a,o){dS(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return a&&Xv(t,r,!1),Ha(e,t,o);n=t.stateNode,OA.current=t;var s=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=as(t,e.child,null,o),t.child=as(t,null,s,o)):Xr(e,t,s,o),t.memoizedState=n.state,a&&Xv(t,r,!0),t.child}function hS(e){var t=e.stateNode;t.pendingContext?Kv(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Kv(e,t.context,!1),Bm(e,t.containerInfo)}function ux(e,t,r,n,a){return ns(),Tm(a),t.flags|=256,Xr(e,t,r,n),t.child}var j0={dehydrated:null,treeContext:null,retryLane:0};function O0(e){return{baseLanes:e,cachePool:null,transitions:null}}function pS(e,t,r){var n=t.pendingProps,a=Kt.current,o=!1,i=(t.flags&128)!==0,s;if((s=i)||(s=e!==null&&e.memoizedState===null?!1:(a&2)!==0),s?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Tt(Kt,a&1),e===null)return y0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,o?(n=t.mode,o=t.child,i={mode:"hidden",children:i},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Id(i,n,0,null),e=Jo(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=O0(r),t.memoizedState=j0,e):Km(t,i));if(a=e.memoizedState,a!==null&&(s=a.dehydrated,s!==null))return _A(e,t,i,n,s,a,r);if(o){o=n.fallback,i=t.mode,a=e.child,s=a.sibling;var l={mode:"hidden",children:n.children};return!(i&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=ko(a,l),n.subtreeFlags=a.subtreeFlags&14680064),s!==null?o=ko(s,o):(o=Jo(o,i,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,i=e.child.memoizedState,i=i===null?O0(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~r,t.memoizedState=j0,n}return o=e.child,e=o.sibling,n=ko(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Km(e,t){return t=Id({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function wu(e,t,r,n){return n!==null&&Tm(n),as(t,e.child,null,r),e=Km(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function _A(e,t,r,n,a,o,i){if(r)return t.flags&256?(t.flags&=-257,n=np(Error(ae(422))),wu(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,a=t.mode,n=Id({mode:"visible",children:n.children},a,0,null),o=Jo(o,a,i,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&as(t,e.child,null,i),t.child.memoizedState=O0(i),t.memoizedState=j0,o);if(!(t.mode&1))return wu(e,t,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var s=n.dgst;return n=s,o=Error(ae(419)),n=np(o,n,void 0),wu(e,t,i,n)}if(s=(i&e.childLanes)!==0,sn||s){if(n=Sr,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==o.retryLane&&(o.retryLane=a,Ga(e,a),oa(n,e,a,-1))}return Jm(),n=np(Error(ae(421))),wu(e,t,i,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=BA.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,bn=vo(a.nextSibling),wn=t,Wt=!0,ta=null,e!==null&&(Tn[$n++]=Ea,Tn[$n++]=Ta,Tn[$n++]=oi,Ea=e.id,Ta=e.overflow,oi=t),t=Km(t,n.children),t.flags|=4096,t)}function fx(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),v0(e.return,t,r)}function ap(e,t,r,n,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=a)}function gS(e,t,r){var n=t.pendingProps,a=n.revealOrder,o=n.tail;if(Xr(e,t,n.children,r),n=Kt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&fx(e,r,t);else if(e.tag===19)fx(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Tt(Kt,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&mf(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),ap(t,!1,a,r,o);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&mf(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}ap(t,!0,r,null,o);break;case"together":ap(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ha(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),si|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ae(153));if(t.child!==null){for(e=t.child,r=ko(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ko(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function PA(e,t,r){switch(t.tag){case 3:hS(t),ns();break;case 5:zk(t);break;case 1:un(t.type)&&uf(t);break;case 4:Bm(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Tt(hf,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Tt(Kt,Kt.current&1),t.flags|=128,null):r&t.child.childLanes?pS(e,t,r):(Tt(Kt,Kt.current&1),e=Ha(e,t,r),e!==null?e.sibling:null);Tt(Kt,Kt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return gS(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Tt(Kt,Kt.current),n)break;return null;case 22:case 23:return t.lanes=0,fS(e,t,r)}return Ha(e,t,r)}var mS,_0,yS,vS;mS=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};_0=function(){};yS=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Ho(xa.current);var o=null;switch(r){case"input":a=Xp(e,a),n=Xp(e,n),o=[];break;case"select":a=qt({},a,{value:void 0}),n=qt({},n,{value:void 0}),o=[];break;case"textarea":a=Qp(e,a),n=Qp(e,n),o=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=lf)}Jp(r,n);var i;r=null;for(c in a)if(!n.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var s=a[c];for(i in s)s.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Hl.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in n){var l=n[c];if(s=a!=null?a[c]:void 0,n.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(i in s)!s.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in l)l.hasOwnProperty(i)&&s[i]!==l[i]&&(r||(r={}),r[i]=l[i])}else r||(o||(o=[]),o.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Hl.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Rt("scroll",e),o||s===l||(o=[])):(o=o||[]).push(c,l))}r&&(o=o||[]).push("style",r);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};vS=function(e,t,r,n){r!==n&&(t.flags|=4)};function dl(e,t){if(!Wt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Rr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function NA(e,t,r){var n=t.pendingProps;switch(Em(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rr(t),null;case 1:return un(t.type)&&cf(),Rr(t),null;case 3:return n=t.stateNode,os(),Ft(cn),Ft(Gr),zm(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(xu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ta!==null&&($0(ta),ta=null))),_0(e,t),Rr(t),null;case 5:Fm(t);var a=Ho(nc.current);if(r=t.type,e!==null&&t.stateNode!=null)yS(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ae(166));return Rr(t),null}if(e=Ho(xa.current),xu(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[ga]=t,n[tc]=o,e=(t.mode&1)!==0,r){case"dialog":Rt("cancel",n),Rt("close",n);break;case"iframe":case"object":case"embed":Rt("load",n);break;case"video":case"audio":for(a=0;a<Pl.length;a++)Rt(Pl[a],n);break;case"source":Rt("error",n);break;case"img":case"image":case"link":Rt("error",n),Rt("load",n);break;case"details":Rt("toggle",n);break;case"input":bv(n,o),Rt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Rt("invalid",n);break;case"textarea":kv(n,o),Rt("invalid",n)}Jp(r,o),a=null;for(var i in o)if(o.hasOwnProperty(i)){var s=o[i];i==="children"?typeof s=="string"?n.textContent!==s&&(o.suppressHydrationWarning!==!0&&vu(n.textContent,s,e),a=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&vu(n.textContent,s,e),a=["children",""+s]):Hl.hasOwnProperty(i)&&s!=null&&i==="onScroll"&&Rt("scroll",n)}switch(r){case"input":uu(n),wv(n,o,!0);break;case"textarea":uu(n),Sv(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=lf)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=V2(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[ga]=t,e[tc]=n,mS(e,t,!1,!1),t.stateNode=e;e:{switch(i=e0(r,n),r){case"dialog":Rt("cancel",e),Rt("close",e),a=n;break;case"iframe":case"object":case"embed":Rt("load",e),a=n;break;case"video":case"audio":for(a=0;a<Pl.length;a++)Rt(Pl[a],e);a=n;break;case"source":Rt("error",e),a=n;break;case"img":case"image":case"link":Rt("error",e),Rt("load",e),a=n;break;case"details":Rt("toggle",e),a=n;break;case"input":bv(e,n),a=Xp(e,n),Rt("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=qt({},n,{value:void 0}),Rt("invalid",e);break;case"textarea":kv(e,n),a=Qp(e,n),Rt("invalid",e);break;default:a=n}Jp(r,a),s=a;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?q2(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&K2(e,l)):o==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Vl(e,l):typeof l=="number"&&Vl(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Hl.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Rt("scroll",e):l!=null&&ym(e,o,l,i))}switch(r){case"input":uu(e),wv(e,n,!1);break;case"textarea":uu(e),Sv(e);break;case"option":n.value!=null&&e.setAttribute("value",""+jo(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?Vi(e,!!n.multiple,o,!1):n.defaultValue!=null&&Vi(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=lf)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Rr(t),null;case 6:if(e&&t.stateNode!=null)vS(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ae(166));if(r=Ho(nc.current),Ho(xa.current),xu(t)){if(n=t.stateNode,r=t.memoizedProps,n[ga]=t,(o=n.nodeValue!==r)&&(e=wn,e!==null))switch(e.tag){case 3:vu(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&vu(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ga]=t,t.stateNode=n}return Rr(t),null;case 13:if(Ft(Kt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Wt&&bn!==null&&t.mode&1&&!(t.flags&128))Lk(),ns(),t.flags|=98560,o=!1;else if(o=xu(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(ae(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ae(317));o[ga]=t}else ns(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Rr(t),o=!1}else ta!==null&&($0(ta),ta=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Kt.current&1?pr===0&&(pr=3):Jm())),t.updateQueue!==null&&(t.flags|=4),Rr(t),null);case 4:return os(),_0(e,t),e===null&&Jl(t.stateNode.containerInfo),Rr(t),null;case 10:return Lm(t.type._context),Rr(t),null;case 17:return un(t.type)&&cf(),Rr(t),null;case 19:if(Ft(Kt),o=t.memoizedState,o===null)return Rr(t),null;if(n=(t.flags&128)!==0,i=o.rendering,i===null)if(n)dl(o,!1);else{if(pr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=mf(e),i!==null){for(t.flags|=128,dl(o,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Tt(Kt,Kt.current&1|2),t.child}e=e.sibling}o.tail!==null&&rr()>ss&&(t.flags|=128,n=!0,dl(o,!1),t.lanes=4194304)}else{if(!n)if(e=mf(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),dl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!Wt)return Rr(t),null}else 2*rr()-o.renderingStartTime>ss&&r!==1073741824&&(t.flags|=128,n=!0,dl(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(r=o.last,r!==null?r.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=rr(),t.sibling=null,r=Kt.current,Tt(Kt,n?r&1|2:r&1),t):(Rr(t),null);case 22:case 23:return Zm(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?yn&1073741824&&(Rr(t),t.subtreeFlags&6&&(t.flags|=8192)):Rr(t),null;case 24:return null;case 25:return null}throw Error(ae(156,t.tag))}function AA(e,t){switch(Em(t),t.tag){case 1:return un(t.type)&&cf(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return os(),Ft(cn),Ft(Gr),zm(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Fm(t),null;case 13:if(Ft(Kt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ae(340));ns()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ft(Kt),null;case 4:return os(),null;case 10:return Lm(t.type._context),null;case 22:case 23:return Zm(),null;case 24:return null;default:return null}}var ku=!1,Fr=!1,MA=typeof WeakSet=="function"?WeakSet:Set,pe=null;function zi(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Zt(e,t,n)}else r.current=null}function P0(e,t,r){try{r()}catch(n){Zt(e,t,n)}}var dx=!1;function CA(e,t){if(u0=af,e=Sk(),Mm(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var i=0,s=-1,l=-1,c=0,u=0,f=e,h=null;t:for(;;){for(var p;f!==r||a!==0&&f.nodeType!==3||(s=i+a),f!==o||n!==0&&f.nodeType!==3||(l=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++c===a&&(s=i),h===o&&++u===n&&(l=i),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=s===-1||l===-1?null:{start:s,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(f0={focusedElem:e,selectionRange:r},af=!1,pe=t;pe!==null;)if(t=pe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,pe=e;else for(;pe!==null;){t=pe;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var v=m.memoizedProps,w=m.memoizedState,y=t.stateNode,g=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:Qn(t.type,v),w);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ae(163))}}catch(S){Zt(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,pe=e;break}pe=t.return}return m=dx,dx=!1,m}function Dl(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,o!==void 0&&P0(t,r,o)}a=a.next}while(a!==n)}}function Ld(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function N0(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function xS(e){var t=e.alternate;t!==null&&(e.alternate=null,xS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ga],delete t[tc],delete t[p0],delete t[hA],delete t[pA])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function bS(e){return e.tag===5||e.tag===3||e.tag===4}function hx(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||bS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function A0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=lf));else if(n!==4&&(e=e.child,e!==null))for(A0(e,t,r),e=e.sibling;e!==null;)A0(e,t,r),e=e.sibling}function M0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(M0(e,t,r),e=e.sibling;e!==null;)M0(e,t,r),e=e.sibling}var Mr=null,Zn=!1;function to(e,t,r){for(r=r.child;r!==null;)wS(e,t,r),r=r.sibling}function wS(e,t,r){if(va&&typeof va.onCommitFiberUnmount=="function")try{va.onCommitFiberUnmount(Nd,r)}catch{}switch(r.tag){case 5:Fr||zi(r,t);case 6:var n=Mr,a=Zn;Mr=null,to(e,t,r),Mr=n,Zn=a,Mr!==null&&(Zn?(e=Mr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Mr.removeChild(r.stateNode));break;case 18:Mr!==null&&(Zn?(e=Mr,r=r.stateNode,e.nodeType===8?Qh(e.parentNode,r):e.nodeType===1&&Qh(e,r),Yl(e)):Qh(Mr,r.stateNode));break;case 4:n=Mr,a=Zn,Mr=r.stateNode.containerInfo,Zn=!0,to(e,t,r),Mr=n,Zn=a;break;case 0:case 11:case 14:case 15:if(!Fr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var o=a,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&P0(r,t,i),a=a.next}while(a!==n)}to(e,t,r);break;case 1:if(!Fr&&(zi(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){Zt(r,t,s)}to(e,t,r);break;case 21:to(e,t,r);break;case 22:r.mode&1?(Fr=(n=Fr)||r.memoizedState!==null,to(e,t,r),Fr=n):to(e,t,r);break;default:to(e,t,r)}}function px(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new MA),t.forEach(function(n){var a=FA.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function qn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var o=e,i=t,s=i;e:for(;s!==null;){switch(s.tag){case 5:Mr=s.stateNode,Zn=!1;break e;case 3:Mr=s.stateNode.containerInfo,Zn=!0;break e;case 4:Mr=s.stateNode.containerInfo,Zn=!0;break e}s=s.return}if(Mr===null)throw Error(ae(160));wS(o,i,a),Mr=null,Zn=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(c){Zt(a,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)kS(t,e),t=t.sibling}function kS(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(qn(t,e),ha(e),n&4){try{Dl(3,e,e.return),Ld(3,e)}catch(v){Zt(e,e.return,v)}try{Dl(5,e,e.return)}catch(v){Zt(e,e.return,v)}}break;case 1:qn(t,e),ha(e),n&512&&r!==null&&zi(r,r.return);break;case 5:if(qn(t,e),ha(e),n&512&&r!==null&&zi(r,r.return),e.flags&32){var a=e.stateNode;try{Vl(a,"")}catch(v){Zt(e,e.return,v)}}if(n&4&&(a=e.stateNode,a!=null)){var o=e.memoizedProps,i=r!==null?r.memoizedProps:o,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&G2(a,o),e0(s,i);var c=e0(s,o);for(i=0;i<l.length;i+=2){var u=l[i],f=l[i+1];u==="style"?q2(a,f):u==="dangerouslySetInnerHTML"?K2(a,f):u==="children"?Vl(a,f):ym(a,u,f,c)}switch(s){case"input":qp(a,o);break;case"textarea":H2(a,o);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Vi(a,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?Vi(a,!!o.multiple,o.defaultValue,!0):Vi(a,!!o.multiple,o.multiple?[]:"",!1))}a[tc]=o}catch(v){Zt(e,e.return,v)}}break;case 6:if(qn(t,e),ha(e),n&4){if(e.stateNode===null)throw Error(ae(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(v){Zt(e,e.return,v)}}break;case 3:if(qn(t,e),ha(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Yl(t.containerInfo)}catch(v){Zt(e,e.return,v)}break;case 4:qn(t,e),ha(e);break;case 13:qn(t,e),ha(e),a=e.child,a.flags&8192&&(o=a.memoizedState!==null,a.stateNode.isHidden=o,!o||a.alternate!==null&&a.alternate.memoizedState!==null||(Ym=rr())),n&4&&px(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(Fr=(c=Fr)||u,qn(t,e),Fr=c):qn(t,e),ha(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(pe=e,u=e.child;u!==null;){for(f=pe=u;pe!==null;){switch(h=pe,p=h.child,h.tag){case 0:case 11:case 14:case 15:Dl(4,h,h.return);break;case 1:zi(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(v){Zt(n,r,v)}}break;case 5:zi(h,h.return);break;case 22:if(h.memoizedState!==null){mx(f);continue}}p!==null?(p.return=h,pe=p):mx(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{a=f.stateNode,c?(o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=f.stateNode,l=f.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=X2("display",i))}catch(v){Zt(e,e.return,v)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(v){Zt(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:qn(t,e),ha(e),n&4&&px(e);break;case 21:break;default:qn(t,e),ha(e)}}function ha(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(bS(r)){var n=r;break e}r=r.return}throw Error(ae(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Vl(a,""),n.flags&=-33);var o=hx(e);M0(e,o,a);break;case 3:case 4:var i=n.stateNode.containerInfo,s=hx(e);A0(e,s,i);break;default:throw Error(ae(161))}}catch(l){Zt(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function EA(e,t,r){pe=e,SS(e)}function SS(e,t,r){for(var n=(e.mode&1)!==0;pe!==null;){var a=pe,o=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||ku;if(!i){var s=a.alternate,l=s!==null&&s.memoizedState!==null||Fr;s=ku;var c=Fr;if(ku=i,(Fr=l)&&!c)for(pe=a;pe!==null;)i=pe,l=i.child,i.tag===22&&i.memoizedState!==null?yx(a):l!==null?(l.return=i,pe=l):yx(a);for(;o!==null;)pe=o,SS(o),o=o.sibling;pe=a,ku=s,Fr=c}gx(e)}else a.subtreeFlags&8772&&o!==null?(o.return=a,pe=o):gx(e)}}function gx(e){for(;pe!==null;){var t=pe;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Fr||Ld(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Fr)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Qn(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Jv(t,o,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Jv(t,i,r)}break;case 5:var s=t.stateNode;if(r===null&&t.flags&4){r=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Yl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ae(163))}Fr||t.flags&512&&N0(t)}catch(h){Zt(t,t.return,h)}}if(t===e){pe=null;break}if(r=t.sibling,r!==null){r.return=t.return,pe=r;break}pe=t.return}}function mx(e){for(;pe!==null;){var t=pe;if(t===e){pe=null;break}var r=t.sibling;if(r!==null){r.return=t.return,pe=r;break}pe=t.return}}function yx(e){for(;pe!==null;){var t=pe;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ld(4,t)}catch(l){Zt(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(l){Zt(t,a,l)}}var o=t.return;try{N0(t)}catch(l){Zt(t,o,l)}break;case 5:var i=t.return;try{N0(t)}catch(l){Zt(t,i,l)}}}catch(l){Zt(t,t.return,l)}if(t===e){pe=null;break}var s=t.sibling;if(s!==null){s.return=t.return,pe=s;break}pe=t.return}}var TA=Math.ceil,xf=qa.ReactCurrentDispatcher,Xm=qa.ReactCurrentOwner,In=qa.ReactCurrentBatchConfig,st=0,Sr=null,sr=null,Er=0,yn=0,Wi=Po(0),pr=0,sc=null,si=0,Rd=0,qm=0,Ll=null,on=null,Ym=0,ss=1/0,Ma=null,bf=!1,C0=null,bo=null,Su=!1,uo=null,wf=0,Rl=0,E0=null,Yu=-1,Qu=0;function Qr(){return st&6?rr():Yu!==-1?Yu:Yu=rr()}function wo(e){return e.mode&1?st&2&&Er!==0?Er&-Er:mA.transition!==null?(Qu===0&&(Qu=sk()),Qu):(e=bt,e!==0||(e=window.event,e=e===void 0?16:pk(e.type)),e):1}function oa(e,t,r,n){if(50<Rl)throw Rl=0,E0=null,Error(ae(185));Hc(e,r,n),(!(st&2)||e!==Sr)&&(e===Sr&&(!(st&2)&&(Rd|=r),pr===4&&so(e,Er)),fn(e,n),r===1&&st===0&&!(t.mode&1)&&(ss=rr()+500,Td&&No()))}function fn(e,t){var r=e.callbackNode;mN(e,t);var n=nf(e,e===Sr?Er:0);if(n===0)r!==null&&_v(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&_v(r),t===1)e.tag===0?gA(vx.bind(null,e)):Tk(vx.bind(null,e)),fA(function(){!(st&6)&&No()}),r=null;else{switch(lk(n)){case 1:r=km;break;case 4:r=ok;break;case 16:r=rf;break;case 536870912:r=ik;break;default:r=rf}r=CS(r,jS.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function jS(e,t){if(Yu=-1,Qu=0,st&6)throw Error(ae(327));var r=e.callbackNode;if(Qi()&&e.callbackNode!==r)return null;var n=nf(e,e===Sr?Er:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=kf(e,n);else{t=n;var a=st;st|=2;var o=_S();(Sr!==e||Er!==t)&&(Ma=null,ss=rr()+500,Zo(e,t));do try{LA();break}catch(s){OS(e,s)}while(!0);Dm(),xf.current=o,st=a,sr!==null?t=0:(Sr=null,Er=0,t=pr)}if(t!==0){if(t===2&&(a=o0(e),a!==0&&(n=a,t=T0(e,a))),t===1)throw r=sc,Zo(e,0),so(e,n),fn(e,rr()),r;if(t===6)so(e,n);else{if(a=e.current.alternate,!(n&30)&&!$A(a)&&(t=kf(e,n),t===2&&(o=o0(e),o!==0&&(n=o,t=T0(e,o))),t===1))throw r=sc,Zo(e,0),so(e,n),fn(e,rr()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(ae(345));case 2:Bo(e,on,Ma);break;case 3:if(so(e,n),(n&130023424)===n&&(t=Ym+500-rr(),10<t)){if(nf(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Qr(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=h0(Bo.bind(null,e,on,Ma),t);break}Bo(e,on,Ma);break;case 4:if(so(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var i=31-aa(n);o=1<<i,i=t[i],i>a&&(a=i),n&=~o}if(n=a,n=rr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*TA(n/1960))-n,10<n){e.timeoutHandle=h0(Bo.bind(null,e,on,Ma),n);break}Bo(e,on,Ma);break;case 5:Bo(e,on,Ma);break;default:throw Error(ae(329))}}}return fn(e,rr()),e.callbackNode===r?jS.bind(null,e):null}function T0(e,t){var r=Ll;return e.current.memoizedState.isDehydrated&&(Zo(e,t).flags|=256),e=kf(e,t),e!==2&&(t=on,on=r,t!==null&&$0(t)),e}function $0(e){on===null?on=e:on.push.apply(on,e)}function $A(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],o=a.getSnapshot;a=a.value;try{if(!ia(o(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function so(e,t){for(t&=~qm,t&=~Rd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-aa(t),n=1<<r;e[r]=-1,t&=~n}}function vx(e){if(st&6)throw Error(ae(327));Qi();var t=nf(e,0);if(!(t&1))return fn(e,rr()),null;var r=kf(e,t);if(e.tag!==0&&r===2){var n=o0(e);n!==0&&(t=n,r=T0(e,n))}if(r===1)throw r=sc,Zo(e,0),so(e,t),fn(e,rr()),r;if(r===6)throw Error(ae(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Bo(e,on,Ma),fn(e,rr()),null}function Qm(e,t){var r=st;st|=1;try{return e(t)}finally{st=r,st===0&&(ss=rr()+500,Td&&No())}}function li(e){uo!==null&&uo.tag===0&&!(st&6)&&Qi();var t=st;st|=1;var r=In.transition,n=bt;try{if(In.transition=null,bt=1,e)return e()}finally{bt=n,In.transition=r,st=t,!(st&6)&&No()}}function Zm(){yn=Wi.current,Ft(Wi)}function Zo(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,uA(r)),sr!==null)for(r=sr.return;r!==null;){var n=r;switch(Em(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&cf();break;case 3:os(),Ft(cn),Ft(Gr),zm();break;case 5:Fm(n);break;case 4:os();break;case 13:Ft(Kt);break;case 19:Ft(Kt);break;case 10:Lm(n.type._context);break;case 22:case 23:Zm()}r=r.return}if(Sr=e,sr=e=ko(e.current,null),Er=yn=t,pr=0,sc=null,qm=Rd=si=0,on=Ll=null,Go!==null){for(t=0;t<Go.length;t++)if(r=Go[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,o=r.pending;if(o!==null){var i=o.next;o.next=a,n.next=i}r.pending=n}Go=null}return e}function OS(e,t){do{var r=sr;try{if(Dm(),Ku.current=vf,yf){for(var n=Xt.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}yf=!1}if(ii=0,kr=hr=Xt=null,$l=!1,ac=0,Xm.current=null,r===null||r.return===null){pr=1,sc=t,sr=null;break}e:{var o=e,i=r.return,s=r,l=t;if(t=Er,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=s,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=ox(i);if(p!==null){p.flags&=-257,ix(p,i,s,o,t),p.mode&1&&ax(o,c,t),t=p,l=c;var m=t.updateQueue;if(m===null){var v=new Set;v.add(l),t.updateQueue=v}else m.add(l);break e}else{if(!(t&1)){ax(o,c,t),Jm();break e}l=Error(ae(426))}}else if(Wt&&s.mode&1){var w=ox(i);if(w!==null){!(w.flags&65536)&&(w.flags|=256),ix(w,i,s,o,t),Tm(is(l,s));break e}}o=l=is(l,s),pr!==4&&(pr=2),Ll===null?Ll=[o]:Ll.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var y=lS(o,l,t);Zv(o,y);break e;case 1:s=l;var g=o.type,x=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(bo===null||!bo.has(x)))){o.flags|=65536,t&=-t,o.lanes|=t;var S=cS(o,s,t);Zv(o,S);break e}}o=o.return}while(o!==null)}NS(r)}catch(b){t=b,sr===r&&r!==null&&(sr=r=r.return);continue}break}while(!0)}function _S(){var e=xf.current;return xf.current=vf,e===null?vf:e}function Jm(){(pr===0||pr===3||pr===2)&&(pr=4),Sr===null||!(si&268435455)&&!(Rd&268435455)||so(Sr,Er)}function kf(e,t){var r=st;st|=2;var n=_S();(Sr!==e||Er!==t)&&(Ma=null,Zo(e,t));do try{DA();break}catch(a){OS(e,a)}while(!0);if(Dm(),st=r,xf.current=n,sr!==null)throw Error(ae(261));return Sr=null,Er=0,pr}function DA(){for(;sr!==null;)PS(sr)}function LA(){for(;sr!==null&&!sN();)PS(sr)}function PS(e){var t=MS(e.alternate,e,yn);e.memoizedProps=e.pendingProps,t===null?NS(e):sr=t,Xm.current=null}function NS(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=AA(r,t),r!==null){r.flags&=32767,sr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{pr=6,sr=null;return}}else if(r=NA(r,t,yn),r!==null){sr=r;return}if(t=t.sibling,t!==null){sr=t;return}sr=t=e}while(t!==null);pr===0&&(pr=5)}function Bo(e,t,r){var n=bt,a=In.transition;try{In.transition=null,bt=1,RA(e,t,r,n)}finally{In.transition=a,bt=n}return null}function RA(e,t,r,n){do Qi();while(uo!==null);if(st&6)throw Error(ae(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ae(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(yN(e,o),e===Sr&&(sr=Sr=null,Er=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Su||(Su=!0,CS(rf,function(){return Qi(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=In.transition,In.transition=null;var i=bt;bt=1;var s=st;st|=4,Xm.current=null,CA(e,r),kS(r,e),nA(f0),af=!!u0,f0=u0=null,e.current=r,EA(r),lN(),st=s,bt=i,In.transition=o}else e.current=r;if(Su&&(Su=!1,uo=e,wf=a),o=e.pendingLanes,o===0&&(bo=null),fN(r.stateNode),fn(e,rr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(bf)throw bf=!1,e=C0,C0=null,e;return wf&1&&e.tag!==0&&Qi(),o=e.pendingLanes,o&1?e===E0?Rl++:(Rl=0,E0=e):Rl=0,No(),null}function Qi(){if(uo!==null){var e=lk(wf),t=In.transition,r=bt;try{if(In.transition=null,bt=16>e?16:e,uo===null)var n=!1;else{if(e=uo,uo=null,wf=0,st&6)throw Error(ae(331));var a=st;for(st|=4,pe=e.current;pe!==null;){var o=pe,i=o.child;if(pe.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(pe=c;pe!==null;){var u=pe;switch(u.tag){case 0:case 11:case 15:Dl(8,u,o)}var f=u.child;if(f!==null)f.return=u,pe=f;else for(;pe!==null;){u=pe;var h=u.sibling,p=u.return;if(xS(u),u===c){pe=null;break}if(h!==null){h.return=p,pe=h;break}pe=p}}}var m=o.alternate;if(m!==null){var v=m.child;if(v!==null){m.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}pe=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,pe=i;else e:for(;pe!==null;){if(o=pe,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Dl(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,pe=y;break e}pe=o.return}}var g=e.current;for(pe=g;pe!==null;){i=pe;var x=i.child;if(i.subtreeFlags&2064&&x!==null)x.return=i,pe=x;else e:for(i=g;pe!==null;){if(s=pe,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Ld(9,s)}}catch(b){Zt(s,s.return,b)}if(s===i){pe=null;break e}var S=s.sibling;if(S!==null){S.return=s.return,pe=S;break e}pe=s.return}}if(st=a,No(),va&&typeof va.onPostCommitFiberRoot=="function")try{va.onPostCommitFiberRoot(Nd,e)}catch{}n=!0}return n}finally{bt=r,In.transition=t}}return!1}function xx(e,t,r){t=is(r,t),t=lS(e,t,1),e=xo(e,t,1),t=Qr(),e!==null&&(Hc(e,1,t),fn(e,t))}function Zt(e,t,r){if(e.tag===3)xx(e,e,r);else for(;t!==null;){if(t.tag===3){xx(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(bo===null||!bo.has(n))){e=is(r,e),e=cS(t,e,1),t=xo(t,e,1),e=Qr(),t!==null&&(Hc(t,1,e),fn(t,e));break}}t=t.return}}function IA(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Qr(),e.pingedLanes|=e.suspendedLanes&r,Sr===e&&(Er&r)===r&&(pr===4||pr===3&&(Er&130023424)===Er&&500>rr()-Ym?Zo(e,0):qm|=r),fn(e,t)}function AS(e,t){t===0&&(e.mode&1?(t=hu,hu<<=1,!(hu&130023424)&&(hu=4194304)):t=1);var r=Qr();e=Ga(e,t),e!==null&&(Hc(e,t,r),fn(e,r))}function BA(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),AS(e,r)}function FA(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ae(314))}n!==null&&n.delete(t),AS(e,r)}var MS;MS=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||cn.current)sn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return sn=!1,PA(e,t,r);sn=!!(e.flags&131072)}else sn=!1,Wt&&t.flags&1048576&&$k(t,df,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;qu(e,t),e=t.pendingProps;var a=rs(t,Gr.current);Yi(t,r),a=Um(null,t,n,e,a,r);var o=Gm();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,un(n)?(o=!0,uf(t)):o=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Im(t),a.updater=Dd,t.stateNode=a,a._reactInternals=t,b0(t,n,e,r),t=S0(null,t,n,!0,o,r)):(t.tag=0,Wt&&o&&Cm(t),Xr(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(qu(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=WA(n),e=Qn(n,e),a){case 0:t=k0(null,t,n,e,r);break e;case 1:t=cx(null,t,n,e,r);break e;case 11:t=sx(null,t,n,e,r);break e;case 14:t=lx(null,t,n,Qn(n.type,e),r);break e}throw Error(ae(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Qn(n,a),k0(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Qn(n,a),cx(e,t,n,a,r);case 3:e:{if(hS(t),e===null)throw Error(ae(387));n=t.pendingProps,o=t.memoizedState,a=o.element,Fk(e,t),gf(t,n,null,r);var i=t.memoizedState;if(n=i.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){a=is(Error(ae(423)),t),t=ux(e,t,n,r,a);break e}else if(n!==a){a=is(Error(ae(424)),t),t=ux(e,t,n,r,a);break e}else for(bn=vo(t.stateNode.containerInfo.firstChild),wn=t,Wt=!0,ta=null,r=Ik(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ns(),n===a){t=Ha(e,t,r);break e}Xr(e,t,n,r)}t=t.child}return t;case 5:return zk(t),e===null&&y0(t),n=t.type,a=t.pendingProps,o=e!==null?e.memoizedProps:null,i=a.children,d0(n,a)?i=null:o!==null&&d0(n,o)&&(t.flags|=32),dS(e,t),Xr(e,t,i,r),t.child;case 6:return e===null&&y0(t),null;case 13:return pS(e,t,r);case 4:return Bm(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=as(t,null,n,r):Xr(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Qn(n,a),sx(e,t,n,a,r);case 7:return Xr(e,t,t.pendingProps,r),t.child;case 8:return Xr(e,t,t.pendingProps.children,r),t.child;case 12:return Xr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,o=t.memoizedProps,i=a.value,Tt(hf,n._currentValue),n._currentValue=i,o!==null)if(ia(o.value,i)){if(o.children===a.children&&!cn.current){t=Ha(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var s=o.dependencies;if(s!==null){i=o.child;for(var l=s.firstContext;l!==null;){if(l.context===n){if(o.tag===1){l=Ra(-1,r&-r),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),v0(o.return,r,t),s.lanes|=r;break}l=l.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(ae(341));i.lanes|=r,s=i.alternate,s!==null&&(s.lanes|=r),v0(i,r,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}Xr(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Yi(t,r),a=Fn(a),n=n(a),t.flags|=1,Xr(e,t,n,r),t.child;case 14:return n=t.type,a=Qn(n,t.pendingProps),a=Qn(n.type,a),lx(e,t,n,a,r);case 15:return uS(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Qn(n,a),qu(e,t),t.tag=1,un(n)?(e=!0,uf(t)):e=!1,Yi(t,r),sS(t,n,a),b0(t,n,a,r),S0(null,t,n,!0,e,r);case 19:return gS(e,t,r);case 22:return fS(e,t,r)}throw Error(ae(156,t.tag))};function CS(e,t){return ak(e,t)}function zA(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(e,t,r,n){return new zA(e,t,r,n)}function ey(e){return e=e.prototype,!(!e||!e.isReactComponent)}function WA(e){if(typeof e=="function")return ey(e)?1:0;if(e!=null){if(e=e.$$typeof,e===xm)return 11;if(e===bm)return 14}return 2}function ko(e,t){var r=e.alternate;return r===null?(r=Dn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Zu(e,t,r,n,a,o){var i=2;if(n=e,typeof e=="function")ey(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Ei:return Jo(r.children,a,o,t);case vm:i=8,a|=8;break;case Gp:return e=Dn(12,r,t,a|2),e.elementType=Gp,e.lanes=o,e;case Hp:return e=Dn(13,r,t,a),e.elementType=Hp,e.lanes=o,e;case Vp:return e=Dn(19,r,t,a),e.elementType=Vp,e.lanes=o,e;case z2:return Id(r,a,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case B2:i=10;break e;case F2:i=9;break e;case xm:i=11;break e;case bm:i=14;break e;case no:i=16,n=null;break e}throw Error(ae(130,e==null?e:typeof e,""))}return t=Dn(i,r,t,a),t.elementType=e,t.type=n,t.lanes=o,t}function Jo(e,t,r,n){return e=Dn(7,e,n,t),e.lanes=r,e}function Id(e,t,r,n){return e=Dn(22,e,n,t),e.elementType=z2,e.lanes=r,e.stateNode={isHidden:!1},e}function op(e,t,r){return e=Dn(6,e,null,t),e.lanes=r,e}function ip(e,t,r){return t=Dn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function UA(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fh(0),this.expirationTimes=Fh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fh(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function ty(e,t,r,n,a,o,i,s,l){return e=new UA(e,t,r,s,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Dn(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Im(o),e}function GA(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ci,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function ES(e){if(!e)return Oo;e=e._reactInternals;e:{if(yi(e)!==e||e.tag!==1)throw Error(ae(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(un(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ae(171))}if(e.tag===1){var r=e.type;if(un(r))return Ek(e,r,t)}return t}function TS(e,t,r,n,a,o,i,s,l){return e=ty(r,n,!0,e,a,o,i,s,l),e.context=ES(null),r=e.current,n=Qr(),a=wo(r),o=Ra(n,a),o.callback=t??null,xo(r,o,a),e.current.lanes=a,Hc(e,a,n),fn(e,n),e}function Bd(e,t,r,n){var a=t.current,o=Qr(),i=wo(a);return r=ES(r),t.context===null?t.context=r:t.pendingContext=r,t=Ra(o,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=xo(a,t,i),e!==null&&(oa(e,a,i,o),Vu(e,a,i)),i}function Sf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function bx(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function ry(e,t){bx(e,t),(e=e.alternate)&&bx(e,t)}function HA(){return null}var $S=typeof reportError=="function"?reportError:function(e){console.error(e)};function ny(e){this._internalRoot=e}Fd.prototype.render=ny.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ae(409));Bd(e,t,null,null)};Fd.prototype.unmount=ny.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;li(function(){Bd(null,e,null,null)}),t[Ua]=null}};function Fd(e){this._internalRoot=e}Fd.prototype.unstable_scheduleHydration=function(e){if(e){var t=fk();e={blockedOn:null,target:e,priority:t};for(var r=0;r<io.length&&t!==0&&t<io[r].priority;r++);io.splice(r,0,e),r===0&&hk(e)}};function ay(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function zd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function wx(){}function VA(e,t,r,n,a){if(a){if(typeof n=="function"){var o=n;n=function(){var c=Sf(i);o.call(c)}}var i=TS(t,n,e,0,null,!1,!1,"",wx);return e._reactRootContainer=i,e[Ua]=i.current,Jl(e.nodeType===8?e.parentNode:e),li(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var s=n;n=function(){var c=Sf(l);s.call(c)}}var l=ty(e,0,!1,null,null,!1,!1,"",wx);return e._reactRootContainer=l,e[Ua]=l.current,Jl(e.nodeType===8?e.parentNode:e),li(function(){Bd(t,l,r,n)}),l}function Wd(e,t,r,n,a){var o=r._reactRootContainer;if(o){var i=o;if(typeof a=="function"){var s=a;a=function(){var l=Sf(i);s.call(l)}}Bd(t,i,e,a)}else i=VA(r,t,e,a,n);return Sf(i)}ck=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=_l(t.pendingLanes);r!==0&&(Sm(t,r|1),fn(t,rr()),!(st&6)&&(ss=rr()+500,No()))}break;case 13:li(function(){var n=Ga(e,1);if(n!==null){var a=Qr();oa(n,e,1,a)}}),ry(e,1)}};jm=function(e){if(e.tag===13){var t=Ga(e,134217728);if(t!==null){var r=Qr();oa(t,e,134217728,r)}ry(e,134217728)}};uk=function(e){if(e.tag===13){var t=wo(e),r=Ga(e,t);if(r!==null){var n=Qr();oa(r,e,t,n)}ry(e,t)}};fk=function(){return bt};dk=function(e,t){var r=bt;try{return bt=e,t()}finally{bt=r}};r0=function(e,t,r){switch(t){case"input":if(qp(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Ed(n);if(!a)throw Error(ae(90));U2(n),qp(n,a)}}}break;case"textarea":H2(e,r);break;case"select":t=r.value,t!=null&&Vi(e,!!r.multiple,t,!1)}};Z2=Qm;J2=li;var KA={usingClientEntryPoint:!1,Events:[Kc,Li,Ed,Y2,Q2,Qm]},hl={findFiberByHostInstance:Uo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},XA={bundleType:hl.bundleType,version:hl.version,rendererPackageName:hl.rendererPackageName,rendererConfig:hl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qa.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=rk(e),e===null?null:e.stateNode},findFiberByHostInstance:hl.findFiberByHostInstance||HA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ju=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ju.isDisabled&&ju.supportsFiber)try{Nd=ju.inject(XA),va=ju}catch{}}Sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KA;Sn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ay(t))throw Error(ae(200));return GA(e,t,null,r)};Sn.createRoot=function(e,t){if(!ay(e))throw Error(ae(299));var r=!1,n="",a=$S;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=ty(e,1,!1,null,null,r,!1,n,a),e[Ua]=t.current,Jl(e.nodeType===8?e.parentNode:e),new ny(t)};Sn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ae(188)):(e=Object.keys(e).join(","),Error(ae(268,e)));return e=rk(t),e=e===null?null:e.stateNode,e};Sn.flushSync=function(e){return li(e)};Sn.hydrate=function(e,t,r){if(!zd(t))throw Error(ae(200));return Wd(null,e,t,!0,r)};Sn.hydrateRoot=function(e,t,r){if(!ay(e))throw Error(ae(405));var n=r!=null&&r.hydratedSources||null,a=!1,o="",i=$S;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=TS(t,null,e,1,r??null,a,!1,o,i),e[Ua]=t.current,Jl(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Fd(t)};Sn.render=function(e,t,r){if(!zd(t))throw Error(ae(200));return Wd(null,e,t,!1,r)};Sn.unmountComponentAtNode=function(e){if(!zd(e))throw Error(ae(40));return e._reactRootContainer?(li(function(){Wd(null,null,e,!1,function(){e._reactRootContainer=null,e[Ua]=null})}),!0):!1};Sn.unstable_batchedUpdates=Qm;Sn.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!zd(r))throw Error(ae(200));if(e==null||e._reactInternals===void 0)throw Error(ae(38));return Wd(e,t,r,!1,n)};Sn.version="18.3.1-next-f1338f8080-20240426";function DS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(DS)}catch(e){console.error(e)}}DS(),D2.exports=Sn;var qA=D2.exports,kx=qA;Wp.createRoot=kx.createRoot,Wp.hydrateRoot=kx.hydrateRoot;const ei=({isOpen:e,onClose:t,onConfirm:r,title:n,message:a,confirmText:o="I know the risk and insist to continue",cancelText:i="Cancel"})=>e?d.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:d.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-md rounded-2xl shadow-2xl border border-amber-500/30 overflow-hidden transform transition-all scale-100",children:[d.jsxs("div",{className:"bg-amber-500/10 p-6 flex flex-col items-center justify-center border-b border-amber-500/20",children:[d.jsx("div",{className:"w-16 h-16 bg-amber-100 dark:bg-amber-900/30 rounded-full flex items-center justify-center mb-4",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-amber-600 dark:text-amber-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),d.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white text-center",children:n})]}),d.jsx("div",{className:"p-6",children:d.jsx("div",{className:"text-gray-600 dark:text-slate-300 text-center text-sm leading-relaxed",children:a})}),d.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-800/50 flex gap-3 justify-end border-t border-gray-200 dark:border-slate-800",children:[d.jsx("button",{onClick:t,className:"px-4 py-2 bg-white hover:bg-gray-100 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-700 dark:text-slate-200 font-semibold rounded-lg border border-gray-300 dark:border-slate-600 transition-colors text-sm",children:i}),d.jsx("button",{onClick:r,className:"px-4 py-2 bg-amber-600 hover:bg-amber-700 text-white font-bold rounded-lg shadow-lg shadow-amber-500/20 transition-all active:scale-95 text-sm",children:o})]})]})}):null,YA=({onFileSelected:e,onGenerateFakeDng:t,fileName:r,hasGeneratedData:n,viewMode:a,onSetViewMode:o,patternPeriod:i,onPatternPeriodChange:s,fillFactor:l,onFillFactorChange:c,patternPhase:u,onPatternPhaseChange:f,showPatternControls:h,onOpenAbout:p,onShowExif:m,bridgeStatus:v,onBridgeClick:w,isDrLabOpen:y,onToggleDrLab:g,isFftLabOpen:x,onToggleFftLab:S,onGenerateTestPic:b,onPTCFilesSelected:k,onDownloadDng:j,isThreePlane:_,onOpenDatabase:P})=>{const N=O.useRef(null),A=O.useRef(null),[C,R]=O.useState(!1),[I,T]=O.useState(!1),[L,U]=O.useState(!1),[D,z]=O.useState(!1),[W,te]=O.useState("direct"),Y=O.useRef(null),X=O.useRef(null);O.useEffect(()=>{const ce=J=>{Y.current&&!Y.current.contains(J.target)&&U(!1),X.current&&!X.current.contains(J.target)&&z(!1)};return document.addEventListener("mousedown",ce),()=>document.removeEventListener("mousedown",ce)},[]);const F=ce=>{var J;U(!1),ce==="direct"?(te("direct"),R(!0)):!v.isConnected||!v.hasDngConverter?T(!0):(te("convert"),(J=N.current)==null||J.click())},ue=()=>{var ce;R(!1),(ce=N.current)==null||ce.click()},fe=ce=>{var de;const J=(de=ce.target.files)==null?void 0:de[0];J&&e(J,W),ce.target.value=""},Se=ce=>{ce.target.files&&ce.target.files.length>0&&k(ce.target.files),ce.target.value=""};return d.jsxs("header",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 mb-4 flex-shrink-0 relative z-50",children:[d.jsx(ei,{isOpen:C,onClose:()=>R(!1),onConfirm:ue,title:"Format Compatibility Warning",confirmText:"Continue",message:d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsx("p",{className:"font-bold text-gray-800 dark:text-gray-200 text-base",children:"Adobe DNG ConverterDNG"}),d.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Only 4-channel DNG files output by Adobe DNG Converter are fully guaranteed to be supported."}),d.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 rounded-lg border border-gray-200 dark:border-slate-700",children:[d.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-500 mb-1",children:"Download Adobe DNG Converter:"}),d.jsx("a",{href:"https://helpx.adobe.com/camera-raw/using/adobe-dng-converter.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline text-xs break-all",children:"https://helpx.adobe.com/camera-raw/using/adobe-dng-converter.html"})]})]})}),d.jsx(ei,{isOpen:I,onClose:()=>T(!1),onConfirm:()=>T(!1),title:"DNG Converter Missing",confirmText:"OK",cancelText:"Cancel",message:d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsx("p",{className:"font-bold text-red-600 dark:text-red-400 text-base",children:"JiangBridge Offline or Adobe DNG Converter not installed (you may have to restart your device after installing ADC to use it here)"}),d.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"To use the conversion feature, you must run JiangBridge locally and have Adobe DNG Converter installed on your system."}),d.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 rounded-lg border border-gray-200 dark:border-slate-700",children:[d.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-500 mb-1",children:"Download Adobe DNG Converter:"}),d.jsx("a",{href:"https://helpx.adobe.com/camera-raw/using/adobe-dng-converter.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline text-xs break-all",children:"https://helpx.adobe.com/camera-raw/using/adobe-dng-converter.html"})]})]})}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-cyan-500 to-blue-600 dark:from-cyan-400 dark:to-blue-500 text-center sm:text-left",children:"Jiangtherapee Online"}),d.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 hidden lg:block max-w-xs truncate",title:r||"No image loaded",children:r||"No image loaded"}),_&&d.jsx("span",{className:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400 border border-red-200 dark:border-red-800 text-[10px] font-bold px-2 py-1 rounded animate-pulse",children:" 3-PLANE / RGB MODE"})]}),d.jsxs("div",{className:"flex items-center gap-4 flex-wrap justify-end",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("button",{onClick:v.isConnected?void 0:w,className:`px-3 py-1.5 rounded-full text-xs font-bold transition-all duration-200 flex items-center gap-1.5 shadow-sm border ${v.isConnected?"bg-emerald-100 text-emerald-700 border-emerald-200 dark:bg-emerald-900/30 dark:text-emerald-400 dark:border-emerald-800 cursor-default":"bg-pink-100 text-pink-600 border-pink-200 dark:bg-pink-900/30 dark:text-pink-400 dark:border-pink-800 hover:bg-pink-200 dark:hover:bg-pink-900/50 cursor-pointer animate-pulse"}`,title:v.isConnected?"Local Bridge Service Connected":"Click to download Jiangbridge",children:[d.jsx("span",{className:`w-2 h-2 rounded-full ${v.isConnected?"bg-emerald-500":"bg-pink-500"}`}),v.isConnected?`JiangBridge Ready ${v.hasDngConverter?"DNG+":""}`:"JiangBridge Offline"]}),y&&d.jsxs("button",{onClick:g,className:"px-3 py-1.5 rounded-full text-xs font-bold transition-all duration-200 flex items-center gap-1.5 shadow-sm border bg-indigo-100 text-indigo-700 border-indigo-200 dark:bg-indigo-900/30 dark:text-indigo-400 dark:border-indigo-800 hover:bg-indigo-200 dark:hover:bg-indigo-900/50 cursor-pointer animate-in fade-in",title:"Click to turn off DR Lab",children:[d.jsx("span",{className:"w-2 h-2 rounded-full bg-indigo-500 animate-pulse"}),"DR Lab On"]}),x&&d.jsxs("button",{onClick:S,className:"px-3 py-1.5 rounded-full text-xs font-bold transition-all duration-200 flex items-center gap-1.5 shadow-sm border bg-fuchsia-100 text-fuchsia-700 border-fuchsia-200 dark:bg-fuchsia-900/30 dark:text-fuchsia-400 dark:border-fuchsia-800 hover:bg-fuchsia-200 dark:hover:bg-fuchsia-900/50 cursor-pointer animate-in fade-in",title:"Click to turn off FFT Lab",children:[d.jsx("span",{className:"w-2 h-2 rounded-full bg-fuchsia-500 animate-pulse"}),"FFT Lab On"]}),n&&d.jsxs("div",{className:"flex bg-gray-100 dark:bg-slate-800 rounded-lg p-1 border border-gray-200 dark:border-slate-600 shadow-inner transition-colors duration-300",children:[d.jsx("button",{onClick:()=>o("reference"),className:`px-3 py-1.5 rounded-md text-xs sm:text-sm font-bold transition-all duration-200 ${a==="reference"?"bg-green-500 dark:bg-green-600 text-white shadow-md":"text-gray-500 dark:text-slate-400 hover:text-gray-900 dark:hover:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700"}`,title:"The perfect uniform input",children:"Perfect"}),d.jsx("button",{onClick:()=>o("sampled"),className:`px-3 py-1.5 rounded-md text-xs sm:text-sm font-bold transition-all duration-200 ${a==="sampled"?"bg-blue-500 dark:bg-blue-600 text-white shadow-md":"text-gray-500 dark:text-slate-400 hover:text-gray-900 dark:hover:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700"}`,title:"Sampled Sensor View with Aperture Visualization",children:"Sampled (Sensor)"}),d.jsx("button",{onClick:()=>o("processed"),className:`px-3 py-1.5 rounded-md text-xs sm:text-sm font-bold transition-all duration-200 ${a==="processed"?"bg-purple-500 dark:bg-purple-600 text-white shadow-md":"text-gray-500 dark:text-slate-400 hover:text-gray-900 dark:hover:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700"}`,title:"Demosaiced Result",children:"Result"})]})]}),h&&d.jsxs("div",{className:"flex items-center gap-2 animate-in fade-in slide-in-from-right-4 duration-300",children:[d.jsxs("div",{className:"flex flex-col items-end mr-1 bg-gray-50 dark:bg-slate-800/50 p-1.5 rounded-lg border border-gray-200 dark:border-slate-700 transition-colors duration-300",children:[d.jsx("span",{className:"text-[10px] text-gray-500 dark:text-slate-400 font-mono uppercase tracking-wider mb-1",children:"Density (Period)"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"range",min:"0.1",max:"10",step:"0.1",value:i,onChange:ce=>s(parseFloat(ce.target.value)),className:"w-20 h-2 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-purple-500",title:"Adjust the period of the line pairs in pixels"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"number",min:"0.1",max:"100",step:"0.01",value:i,onChange:ce=>{const J=parseFloat(ce.target.value);isNaN(J)||s(J)},className:"w-16 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-1 py-0.5 text-xs font-mono text-purple-600 dark:text-purple-300 text-right focus:outline-none focus:border-purple-500 focus:ring-1 focus:ring-purple-500 transition-colors duration-300"}),d.jsx("span",{className:"absolute right-6 top-0.5 text-[10px] text-gray-400 dark:text-slate-500 pointer-events-none hidden",children:"px"})]})]})]}),d.jsxs("div",{className:"flex flex-col items-end mr-1 bg-gray-50 dark:bg-slate-800/50 p-1.5 rounded-lg border border-gray-200 dark:border-slate-700 transition-colors duration-300",children:[d.jsx("span",{className:"text-[10px] text-gray-500 dark:text-slate-400 font-mono uppercase tracking-wider mb-1",children:"Phase"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:u,onChange:ce=>f(parseFloat(ce.target.value)),className:"w-20 h-2 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-pink-500",title:"Shift pattern phase (0-1 cycle)"}),d.jsx("div",{className:"relative",children:d.jsx("input",{type:"number",min:"0",max:"1",step:"0.01",value:u,onChange:ce=>{const J=parseFloat(ce.target.value);isNaN(J)||f(J)},className:"w-12 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-1 py-0.5 text-xs font-mono text-pink-600 dark:text-pink-300 text-right focus:outline-none focus:border-pink-500 focus:ring-1 focus:ring-pink-500 transition-colors duration-300"})})]})]}),d.jsxs("div",{className:"flex flex-col items-end mr-1 bg-gray-50 dark:bg-slate-800/50 p-1.5 rounded-lg border border-gray-200 dark:border-slate-700 transition-colors duration-300",children:[d.jsx("span",{className:"text-[10px] text-gray-500 dark:text-slate-400 font-mono uppercase tracking-wider mb-1",children:"Fill Factor"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"range",min:"1",max:"100",step:"1",value:l*100,onChange:ce=>c(parseInt(ce.target.value)/100),className:"w-20 h-2 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-green-500",title:"Adjust pixel aperture fill factor %"}),d.jsxs("div",{className:"relative flex items-center",children:[d.jsx("input",{type:"number",min:"1",max:"100",step:"1",value:Math.round(l*100),onChange:ce=>{const J=parseInt(ce.target.value);isNaN(J)||c(Math.min(100,Math.max(1,J))/100)},className:"w-12 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-1 py-0.5 text-xs font-mono text-green-600 dark:text-green-300 text-right focus:outline-none focus:border-green-500 focus:ring-1 focus:ring-green-500 transition-colors duration-300"}),d.jsx("span",{className:"ml-1 text-[10px] text-gray-400 dark:text-slate-500 font-mono",children:"%"})]})]})]}),d.jsx("button",{onClick:j,className:"flex flex-col items-center justify-center p-2 rounded-lg bg-gray-50 hover:bg-gray-100 dark:bg-slate-800 dark:hover:bg-slate-700 border border-gray-200 dark:border-slate-600 transition-colors group",title:"Download Generated DNG",children:d.jsx("svg",{className:"w-5 h-5 text-gray-500 dark:text-slate-400 group-hover:text-cyan-600 dark:group-hover:text-cyan-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})})})]}),d.jsx("input",{type:"file",ref:N,onChange:fe,className:"hidden",accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff"}),d.jsx("input",{type:"file",ref:A,onChange:Se,className:"hidden",multiple:!0,accept:".csv"}),d.jsxs("div",{className:"relative inline-block text-left",ref:X,children:[d.jsxs("button",{onClick:()=>z(!D),className:"bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-lg transition-colors duration-300 shadow-lg shadow-purple-500/30 text-sm whitespace-nowrap flex items-center gap-2",children:["TEST Tools",d.jsx("svg",{className:`w-4 h-4 transition-transform duration-200 ${D?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),D&&d.jsx("div",{className:"absolute right-0 mt-2 w-56 rounded-xl bg-white dark:bg-slate-800 shadow-xl ring-1 ring-black ring-opacity-5 focus:outline-none z-50 overflow-hidden origin-top-right transition-all animate-in fade-in slide-in-from-top-2 border border-gray-200 dark:border-slate-700",children:d.jsxs("div",{className:"py-1",children:[d.jsxs("button",{onClick:()=>{z(!1),t()},className:"w-full text-left px-4 py-3 text-sm text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors flex items-center gap-2",children:[d.jsx("svg",{className:"w-4 h-4 text-purple-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),d.jsx("span",{children:"Generate Pattern DNG"})]}),d.jsxs("button",{onClick:()=>{z(!1),y||g(),x&&S()},className:`w-full text-left px-4 py-3 text-sm transition-colors flex items-center gap-2 border-t border-gray-100 dark:border-slate-700 ${y?"bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 dark:text-indigo-400 font-bold":"text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700"}`,children:[d.jsx("svg",{className:"w-4 h-4 text-indigo-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.384-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})}),d.jsxs("span",{children:["DR Lab ",y?"(On)":""]})]}),d.jsxs("button",{onClick:()=>{z(!1),x||S(),y&&g()},className:`w-full text-left px-4 py-3 text-sm transition-colors flex items-center gap-2 border-t border-gray-100 dark:border-slate-700 ${x?"bg-fuchsia-50 dark:bg-fuchsia-900/20 text-fuchsia-600 dark:text-fuchsia-400 font-bold":"text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700"}`,children:[d.jsx("svg",{className:"w-4 h-4 text-fuchsia-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),d.jsxs("span",{children:["FFT Lab ",x?"(On)":""]})]}),d.jsxs("button",{onClick:()=>{var ce;z(!1),(ce=A.current)==null||ce.click()},className:"w-full text-left px-4 py-3 text-sm text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors flex items-center gap-2 border-t border-gray-100 dark:border-slate-700",children:[d.jsx("svg",{className:"w-4 h-4 text-emerald-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"})}),d.jsx("span",{children:"Generate PTC & TargetSNR"})]})]})})]}),d.jsxs("div",{className:"relative inline-block text-left",ref:Y,children:[d.jsxs("button",{onClick:()=>U(!L),className:"bg-cyan-500 hover:bg-cyan-600 text-white font-bold py-2 px-4 rounded-lg transition-colors duration-300 shadow-lg shadow-cyan-500/30 text-sm whitespace-nowrap flex items-center gap-2",children:["Load Image",d.jsx("svg",{className:`w-4 h-4 transition-transform duration-200 ${L?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),L&&d.jsx("div",{className:"absolute right-0 mt-2 w-56 rounded-xl bg-white dark:bg-slate-800 shadow-xl ring-1 ring-black ring-opacity-5 focus:outline-none z-50 overflow-hidden origin-top-right transition-all animate-in fade-in slide-in-from-top-2 border border-gray-200 dark:border-slate-700",children:d.jsxs("div",{className:"py-1",children:[d.jsxs("button",{onClick:()=>F("direct"),className:"w-full text-left px-4 py-3 text-sm text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors flex items-center gap-2",children:[d.jsx("svg",{className:"w-4 h-4 text-cyan-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),d.jsx("span",{children:"Load Image (Direct)"})]}),d.jsxs("button",{onClick:()=>F("convert"),className:"w-full text-left px-4 py-3 text-sm text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors flex items-center gap-2 border-t border-gray-100 dark:border-slate-700",children:[d.jsx("svg",{className:"w-4 h-4 text-purple-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.384-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})}),d.jsx("span",{children:"Convert to Adobe DNG & Load"})]})]})})]}),r&&m&&d.jsxs("button",{onClick:m,className:"bg-orange-500 hover:bg-orange-600 text-white font-bold py-2 px-4 rounded-lg transition-colors duration-300 shadow-lg shadow-orange-500/30 text-sm whitespace-nowrap flex items-center gap-1",title:"View EXIF Data",children:[d.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"EXIF"]}),d.jsx("button",{onClick:p,className:"bg-teal-600 hover:bg-teal-700 text-white font-bold py-2 px-4 rounded-lg transition-colors duration-300 shadow-lg shadow-teal-500/30 text-sm whitespace-nowrap",children:"About/Tutorial/Tools"}),d.jsx("a",{href:"https://y-g-jiang.github.io/index.html",target:"_blank",rel:"noopener noreferrer",className:"bg-gray-200 hover:bg-gray-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-700 dark:text-slate-100 font-semibold py-2 px-4 rounded-lg transition-colors duration-300 text-sm",children:"Home"})]})]})},QA=({image:e,zoom:t,pan:r,onPanChange:n,onZoomChange:a,onSelectionChange:o,forcedSelection:i,theme:s,touchAction:l="pan",isMarking:c=!1,onPointClick:u,markers:f=[],gridRects:h=[]})=>{var Y;const p=O.useRef(null),m=O.useRef(document.createElement("canvas")),[v,w]=O.useState(!1),[y,g]=O.useState({x:0,y:0}),x=O.useRef(null),S=O.useRef(null),b=O.useRef(null),[k,j]=O.useState(!1),[_,P]=O.useState(null),[N,A]=O.useState(null);O.useEffect(()=>{i!==void 0&&A(i)},[i]);const C=O.useCallback(()=>{const X=p.current,F=X==null?void 0:X.getContext("2d");return{canvas:X,ctx:F}},[]);O.useEffect(()=>{const X=m.current,F=X.getContext("2d");if(!e||!F)return;let ue=0,fe=0;e instanceof ImageData?(ue=e.width,fe=e.height):e instanceof HTMLImageElement&&(ue=e.naturalWidth,fe=e.naturalHeight),!(ue===0||fe===0)&&((X.width!==ue||X.height!==fe)&&(X.width=ue,X.height=fe),e instanceof ImageData?F.putImageData(e,0,0):(F.clearRect(0,0,ue,fe),F.drawImage(e,0,0)))},[e]);const R=O.useCallback(()=>{const{canvas:X,ctx:F}=C();if(!(!X||!F||!e)){if(F.setTransform(1,0,0,1,0,0),F.fillStyle=s==="dark"?"rgb(15, 23, 42)":"rgb(243, 244, 246)",F.fillRect(0,0,X.width,X.height),F.setTransform(t,0,0,t,r.x,r.y),m.current.width>0&&(F.imageSmoothingEnabled=!1,F.drawImage(m.current,0,0)),N){F.strokeStyle="#06b6d4",F.lineWidth=1/t,F.fillStyle="rgba(6, 182, 212, 0.2)",F.beginPath(),F.rect(N.x,N.y,N.w,N.h),F.fill(),F.stroke(),F.save(),F.fillStyle="#fff";const ue=Math.max(10,14/t);F.font=`${ue}px monospace`,F.shadowColor="rgba(0,0,0,0.8)",F.shadowBlur=4,F.shadowOffsetX=1,F.shadowOffsetY=1,F.fillText(`${Math.round(N.w)}x${Math.round(N.h)}`,N.x,N.y-5/t),F.restore()}if(h&&h.length>0){F.save(),F.strokeStyle="#f59e0b",F.lineWidth=1/t,F.globalAlpha=.8,F.beginPath(),h.forEach(Se=>{F.rect(Se.x,Se.y,Se.w,Se.h)}),F.stroke();const ue=h[0];F.fillStyle="#f59e0b";const fe=Math.max(10,12/t);F.font=`${fe}px monospace`,F.fillText(`${ue.w}x${ue.h}`,ue.x,ue.y-4/t),F.restore()}if(f&&f.length>0){F.save();const ue=6/t,fe=Math.max(12,16/t);F.font=`bold ${fe}px sans-serif`,F.textAlign="center",F.textBaseline="middle",f.forEach((Se,ce)=>{F.beginPath(),F.arc(Se.x,Se.y,ue,0,2*Math.PI),F.fillStyle="white",F.fill(),F.strokeStyle="#4338ca",F.lineWidth=2/t,F.stroke(),F.fillStyle="#4338ca",F.fillText((ce+1).toString(),Se.x,Se.y-12/t)}),F.restore()}}},[C,e,t,r,s,N,f,h]);O.useEffect(()=>{const{canvas:X}=C();if(!X)return;const F=new ResizeObserver(()=>{X.width=X.clientWidth,X.height=X.clientHeight,R()});return F.observe(X),()=>F.disconnect()},[C,R]),O.useEffect(()=>{R()},[R,e,r,t,s,N,f,h]);const I=X=>{const{canvas:F}=C();if(!F)return{x:0,y:0};const ue=F.getBoundingClientRect();return{x:X.clientX-ue.left,y:X.clientY-ue.top}},T=(X,F)=>({x:(X-r.x)/t,y:(F-r.y)/t}),L=X=>{X.preventDefault();const F=I(X);if(c){const ue=T(F.x,F.y);u&&u(ue);return}if(X.shiftKey||l==="select"){j(!0);const ue=T(F.x,F.y),fe={x:Math.floor(ue.x),y:Math.floor(ue.y)};P(fe),A(null),o&&o(null)}else w(!0),g({x:F.x-r.x,y:F.y-r.y})},U=X=>{const F=I(X);if(k&&_){const ue=T(F.x,F.y),fe=Math.floor(ue.x),Se=Math.floor(ue.y),ce=Math.min(_.x,fe),J=Math.min(_.y,Se),de=Math.max(_.x,fe),ve=Math.max(_.y,Se),q=de-ce+1,Ye=ve-J+1;A({x:ce,y:J,w:q,h:Ye})}else v&&n({x:F.x-y.x,y:F.y-y.y})},D=()=>{k&&(j(!1),N&&o&&N.w>0&&N.h>0&&o(N)),w(!1)},z=X=>{var F;if(X.touches.length===1){const ue=X.touches[0],fe=(F=p.current)==null?void 0:F.getBoundingClientRect();if(!fe)return;const Se=ue.clientX-fe.left,ce=ue.clientY-fe.top;if(c){const J=T(Se,ce);u&&u(J);return}if(l==="select"){const J=T(Se,ce),de={x:Math.floor(J.x),y:Math.floor(J.y)};P(de),j(!0),A(null),o&&o(null)}else b.current={x:Se,y:ce},g({x:Se-r.x,y:ce-r.y}),w(!0)}else if(X.touches.length===2){const ue=Math.hypot(X.touches[0].clientX-X.touches[1].clientX,X.touches[0].clientY-X.touches[1].clientY);x.current=ue,S.current=t,w(!1),j(!1)}},W=X=>{var F;if(X.touches.length===1){const ue=X.touches[0],fe=(F=p.current)==null?void 0:F.getBoundingClientRect();if(!fe)return;const Se=ue.clientX-fe.left,ce=ue.clientY-fe.top;if(c)return;if(k&&_){const J=T(Se,ce),de=Math.floor(J.x),ve=Math.floor(J.y),q=Math.min(_.x,de),Ye=Math.min(_.y,ve),we=Math.max(_.x,de),lt=Math.max(_.y,ve),ze=we-q+1,gt=lt-Ye+1;A({x:q,y:Ye,w:ze,h:gt})}else v&&n({x:Se-y.x,y:ce-y.y})}else if(X.touches.length===2&&x.current&&S.current&&a){const fe=Math.hypot(X.touches[0].clientX-X.touches[1].clientX,X.touches[0].clientY-X.touches[1].clientY)/x.current;a(S.current*fe)}},te=()=>{k&&(j(!1),N&&o&&N.w>0&&N.h>0&&o(N)),w(!1),x.current=null,S.current=null,b.current=null};return d.jsx("canvas",{ref:p,className:`w-full h-full block touch-none ${c||k||(Y=window.event)!=null&&Y.shiftKey||l==="select"?"cursor-crosshair":"cursor-grab active:cursor-grabbing"}`,onMouseDown:L,onMouseMove:U,onMouseUp:D,onMouseLeave:D,onTouchStart:z,onTouchMove:W,onTouchEnd:te,onTouchCancel:te,tabIndex:0})},Ou=({title:e,children:t})=>d.jsxs("div",{className:"border-b border-gray-200 dark:border-slate-700 transition-colors duration-300",children:[d.jsx("div",{className:"p-4 font-semibold text-gray-800 dark:text-slate-200 bg-gray-50 dark:bg-slate-800/30 border-b border-gray-200 dark:border-slate-800 select-none cursor-default transition-colors duration-300",children:d.jsx("span",{children:e})}),d.jsx("div",{className:"p-4 bg-white dark:bg-slate-900/50 transition-colors duration-300",children:t})]}),ZA=[{value:-1,label:"Raw Bayer (Grayscale)"},{value:0,label:"Linear interpolation"},{value:1,label:"VNG (Variable Number of Gradients)"},{value:2,label:"PPG (Patterned Pixel Grouping)"},{value:3,label:"AHD (Adaptive Homogeneity-Directed)"},{value:4,label:"DCB (Demosaicing with Color Back-refinement)"},{value:11,label:"DHT (Modified AHD)"},{value:12,label:"AAHD (Adaptive AHD)"}],Sx=({checked:e,onChange:t,label:r})=>d.jsxs("div",{className:"flex items-center justify-between py-2 cursor-pointer group",onClick:()=>t(!e),children:[d.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-slate-300 select-none group-hover:text-gray-900 dark:group-hover:text-slate-200 transition-colors",children:r}),d.jsx("div",{className:`relative w-11 h-6 rounded-full transition-colors duration-200 ease-in-out ${e?"bg-cyan-500 dark:bg-cyan-600":"bg-gray-300 dark:bg-slate-600 group-hover:bg-gray-400 dark:group-hover:bg-slate-500"}`,children:d.jsx("div",{className:`absolute left-1 top-1 bg-white w-4 h-4 rounded-full shadow-md transform transition-transform duration-200 ease-in-out ${e?"translate-x-5":"translate-x-0"}`})})]}),sp=(e,t)=>{if(!e)return null;if(t){const r=e.bayerPattern.toUpperCase(),n=l=>{const c=[];for(let u=0;u<4;u++)r[u]===l&&c.push(u);return c},a=t.BlackLevelRed,o=t.BlackLevelGreen,i=t.BlackLevelBlue;if(a!==void 0&&o!==void 0&&i!==void 0){const l=parseFloat(a),c=parseFloat(o),u=parseFloat(i);if(!isNaN(l)&&!isNaN(c)&&!isNaN(u)){const f=[0,0,0,0];return f.fill(c),n("R").forEach(h=>f[h]=l),n("G").forEach(h=>f[h]=c),n("B").forEach(h=>f[h]=u),f}}let s=t.BlackLevel;if(s===void 0&&(s=t.BlackLevel2),s!==void 0){let l=[];if(Array.isArray(s)?l=s.map(Number):typeof s=="string"?l=s.trim().split(/\s+/).map(Number):typeof s=="number"&&(l=[s,s,s,s]),l.length===1&&!isNaN(l[0])&&(l=[l[0],l[0],l[0],l[0]]),l.length>=4&&!l.slice(0,4).some(isNaN))return[l[0],l[1],l[2],l[3]]}}return e.blackLevels&&e.blackLevels.length===4?[e.blackLevels[0],e.blackLevels[1],e.blackLevels[2],e.blackLevels[3]]:null},JA=e=>{const{rawImageData:t,displaySettings:r,onApplyDisplaySettings:n,onSetSelection:a,exifData:o,isBridgeConnected:i,isDrLabOpen:s,drMarkingStep:l,onStartMarking:c,onGenerateTestPic:u,drRoiSize:f,onDrRoiSizeChange:h,drGridRows:p,onDrGridRowsChange:m,drGridCols:v,onDrGridColsChange:w,onBatchDrLab:y,hasDrMarkers:g,isFftLabOpen:x,onProcessPair:S,isThreePlane:b}=e,[k,j]=O.useState(r.exposure.toString()),[_,P]=O.useState(""),[N,A]=O.useState("0 0 0 0"),[C,R]=O.useState("1.0"),[I,T]=O.useState("1.0"),[L,U]=O.useState(r.demosaicMethod),[D,z]=O.useState(!!r.showKadc),[W,te]=O.useState(!!r.subtractBlackLevelFromStats),[Y,X]=O.useState("64"),[F,ue]=O.useState(!1),[fe,Se]=O.useState(!1),ce=O.useRef(null),J=O.useRef(null),[de,ve]=O.useState(null),[q,Ye]=O.useState(null),[we,lt]=O.useState(!1),[ze,gt]=O.useState(!0),cr=O.useRef(null),Yt=O.useRef(null),vr=O.useRef(!1),$t=O.useRef(null);O.useEffect(()=>{t!==$t.current&&(vr.current=!1,$t.current=t)},[t]),O.useEffect(()=>{if(i&&t&&!vr.current){vr.current=!0;const Q=sp(t,o),We=Q&&Q.some(Pt=>Pt>0);if(Q&&We){ue(!0);const Pt={...r,blackLevel:Q,showKadc:!0,subtractBlackLevelFromStats:!0,exposure:r.exposure,wbGains:r.wbGains||[1,1],demosaicMethod:r.demosaicMethod,renderMode:"standard"};n(Pt)}}},[i,t,o,r,n]),O.useEffect(()=>{if(j(r.exposure.toString()),r.customMatrix?(P(r.customMatrix.join(" ")),ue(!0)):P(""),r.blackLevel&&r.blackLevel.length===4)A(r.blackLevel.join(" "));else{const Q=sp(t,o);A(Q?Q.join(" "):"0 0 0 0")}R(r.wbGains?r.wbGains[0].toString():"1.0"),T(r.wbGains?r.wbGains[1].toString():"1.0"),U(r.demosaicMethod),z(!!r.showKadc),te(!!r.subtractBlackLevelFromStats)},[r,t,o]);const er=Q=>{j(Q)},ur=Q=>R(Q),tr=Q=>T(Q),ct=Q=>{U(parseInt(Q.target.value,10))},Hn=Q=>{P(Q.target.value)},xr=()=>{j("0"),U(3),R("1.0"),T("1.0"),z(!0),te(!0),P(""),ue(!1);const Q=sp(t,o);A(Q?Q.join(" "):"0 0 0 0")},Vn=()=>{!t||!a||a({x:0,y:0,w:t.width,h:t.height})},$r=()=>{if(!t||!a)return;const Q=parseInt(Y,10);if(isNaN(Q)||Q<=0)return;const We=Math.min(Q,t.width),Pt=Math.min(Q,t.height),Or=Math.floor((t.width-We)/2),_r=Math.floor((t.height-Pt)/2);a({x:Or,y:_r,w:We,h:Pt})},en=()=>{const We=N.split(/[\s,]+/).filter(Pt=>Pt.trim()!=="").map(Number);if(We.length===1&&!isNaN(We[0]))return[We[0],We[0],We[0],We[0]];if(We.length>=4&&!We.slice(0,4).some(isNaN))return[We[0],We[1],We[2],We[3]]},Ja=()=>{const Q={...r},We=parseFloat(k);isNaN(We)||(Q.exposure=We);const Pt=parseFloat(C),Or=parseFloat(I);if(!isNaN(Pt)&&!isNaN(Or)&&(Q.wbGains=[Pt,Or]),Q.demosaicMethod=L,Q.renderMode="standard",F){const _r=en();_r&&(Q.blackLevel=_r);const rn=_.trim().replace(/[\s,\n]+/g," ");if(rn){const Dr=rn.split(" ").map(Number);Dr.length===9&&!Dr.some(isNaN)?Q.customMatrix=Dr:alert("Invalid matrix format. Please ensure exactly 9 numeric values (3x3).")}else delete Q.customMatrix;Q.showKadc=D,Q.subtractBlackLevelFromStats=W}else delete Q.customMatrix,delete Q.blackLevel,delete Q.showKadc,delete Q.subtractBlackLevelFromStats;n(Q)},Gt=()=>{const Q={...r},We=en();We&&(Q.blackLevel=We);const Pt=parseFloat(k);isNaN(Pt)||(Q.exposure=Pt),Q.renderMode="zero-dependency",n(Q)},Kn=Q=>{Q.target.files&&Q.target.files.length>0&&y&&y(Q.target.files),Q.target.value=""},Ot=async Q=>{var Pt;const We=(Pt=Q.target.files)==null?void 0:Pt[0];if(We){try{const _r=(await We.text()).split(`
`),rn=[];rn.push("#BlackLevel: 0,0,0,0"),rn.push("#ImageHeight: 0"),rn.push("Row,Col,R_Mean,G1_Mean,G2_Mean,B_Mean,R_Std,G1_Std,G2_Std,B_Std");let Dr=1;for(let br=0;br<_r.length;br++){const fa=_r[br].trim();if(!fa||fa.includes("R_mean")||fa.includes("R_std"))continue;const G=fa.split(/\s+/).map(Number);if(G.length<8||G.some(isNaN))continue;const he=G[0],Me=G[1],ot=G[2],nt=G[3],it=G[4],Be=G[5],Ve=G[6],ft=G[7],Le=[Dr,1,he,ot,Ve,it,Me,nt,ft,Be].join(",");rn.push(Le),Dr++}const Ht=new Blob([rn.join(`
`)],{type:"text/csv"}),Ct=URL.createObjectURL(Ht),mt=document.createElement("a");mt.href=Ct,mt.download=We.name.replace(/\.[^/.]+$/,"")+"_converted.csv",document.body.appendChild(mt),mt.click(),document.body.removeChild(mt),URL.revokeObjectURL(Ct)}catch(Or){console.error("Conversion failed",Or),alert("Failed to convert file. Check format.")}Q.target.value=""}},On=Q=>{Q.target.files&&Q.target.files[0]&&ve(Q.target.files[0])},_n=Q=>{Q.target.files&&Q.target.files[0]&&Ye(Q.target.files[0])},tn=()=>{de&&q&&S&&S(de,q,we,ze)},_t=!!t;return d.jsxs("div",{className:"flex flex-col h-full",children:[d.jsxs("div",{className:"flex-grow overflow-y-auto",children:[b&&d.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-3 border-b border-red-100 dark:border-red-800 text-center animate-pulse",children:[d.jsx("p",{className:"text-xs font-bold text-red-600 dark:text-red-400 uppercase tracking-wide",children:" 3-Plane / Full Color"}),d.jsx("p",{className:"text-[10px] text-red-500/80 dark:text-red-300/70 mt-1",children:"Demosaic disabled. Stats analysis treated as pseudo-Bayer."})]}),x&&d.jsx(Ou,{title:"FFT Lab (Pair Difference)",children:d.jsxs("div",{className:"space-y-4",children:[d.jsx("p",{className:"text-[10px] text-gray-500 dark:text-slate-400",children:"Load two identical shots (same ISO/Exp) to remove Fixed Pattern Noise via subtraction."}),d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsx("input",{type:"file",ref:ce,className:"hidden",onChange:On,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff"}),d.jsx("button",{onClick:()=>{var Q;return(Q=ce.current)==null?void 0:Q.click()},className:`w-full py-2 px-3 rounded-lg border text-xs font-bold text-left truncate transition-colors ${de?"bg-fuchsia-50 dark:bg-fuchsia-900/20 border-fuchsia-300 dark:border-fuchsia-800 text-fuchsia-700 dark:text-fuchsia-300":"bg-white dark:bg-slate-800 border-gray-300 dark:border-slate-600 text-gray-500 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:de?`1: ${de.name}`:"1. Load Image A"}),d.jsx("input",{type:"file",ref:J,className:"hidden",onChange:_n,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff"}),d.jsx("button",{onClick:()=>{var Q;return(Q=J.current)==null?void 0:Q.click()},className:`w-full py-2 px-3 rounded-lg border text-xs font-bold text-left truncate transition-colors ${q?"bg-fuchsia-50 dark:bg-fuchsia-900/20 border-fuchsia-300 dark:border-fuchsia-800 text-fuchsia-700 dark:text-fuchsia-300":"bg-white dark:bg-slate-800 border-gray-300 dark:border-slate-600 text-gray-500 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:q?`2: ${q.name}`:"2. Load Image B"})]}),d.jsxs("div",{className:"flex flex-col gap-2 border-t border-gray-200 dark:border-slate-700 pt-3",children:[d.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[d.jsxs("div",{className:`w-4 h-4 border rounded flex items-center justify-center transition-colors ${we?"bg-fuchsia-600 border-fuchsia-600":"bg-white dark:bg-slate-800 border-gray-300 dark:border-slate-600"}`,children:[d.jsx("input",{type:"checkbox",checked:we,onChange:Q=>lt(Q.target.checked),className:"hidden"}),we&&d.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})]}),d.jsx("span",{className:"text-xs text-gray-600 dark:text-slate-300",children:"Pad to Power of 2 (2)"})]}),d.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[d.jsxs("div",{className:`w-4 h-4 border rounded flex items-center justify-center transition-colors ${ze?"bg-fuchsia-600 border-fuchsia-600":"bg-white dark:bg-slate-800 border-gray-300 dark:border-slate-600"}`,children:[d.jsx("input",{type:"checkbox",checked:ze,onChange:Q=>gt(Q.target.checked),className:"hidden"}),ze&&d.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})]}),d.jsx("span",{className:"text-xs text-gray-600 dark:text-slate-300",children:"Normalize (2) / "})]})]}),d.jsxs("button",{onClick:tn,disabled:!de||!q,className:"w-full bg-fuchsia-600 hover:bg-fuchsia-500 disabled:bg-gray-300 dark:disabled:bg-slate-800 disabled:text-gray-500 disabled:cursor-not-allowed text-white font-bold py-2.5 px-4 rounded-lg shadow-md transition-all active:scale-95 text-sm flex items-center justify-center gap-2",children:[d.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.384-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})}),"Generate Diff & Load"]})]})}),s&&d.jsx(Ou,{title:"DR Lab Tools",children:d.jsxs("div",{className:"space-y-4",children:[d.jsx("button",{onClick:u,className:"w-full bg-amber-500 hover:bg-amber-600 text-white font-bold py-2 px-4 rounded-lg shadow-md transition-colors text-sm",children:"Generate Test Pic"}),d.jsxs("div",{className:"border-t border-gray-200 dark:border-slate-700 pt-3",children:[d.jsx("h4",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide mb-2",children:"Grid Analysis"}),h&&f!==void 0&&d.jsx("div",{className:"flex items-center justify-between mb-3",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-sm text-gray-600 dark:text-slate-300",children:"Box Size:"}),d.jsx("input",{type:"number",min:"8",max:"512",step:"2",value:f,onChange:Q=>h(parseInt(Q.target.value)||64),className:"w-12 px-1 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-sm text-gray-900 dark:text-slate-100 text-center"}),d.jsx("span",{className:"text-xs text-gray-400",children:"px"})]})}),m&&w&&p!==void 0&&v!==void 0&&d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsx("span",{className:"text-sm text-gray-600 dark:text-slate-300",children:"Layout:"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"number",min:"1",max:"50",value:p,onChange:Q=>m(Math.max(1,parseInt(Q.target.value)||1)),className:"w-10 px-1 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-sm text-gray-900 dark:text-slate-100 text-center",title:"Rows"}),d.jsx("span",{className:"text-xs text-gray-400",children:"x"}),d.jsx("input",{type:"number",min:"1",max:"50",value:v,onChange:Q=>w(Math.max(1,parseInt(Q.target.value)||1)),className:"w-10 px-1 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-sm text-gray-900 dark:text-slate-100 text-center",title:"Columns"})]})]}),d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsx("button",{onClick:c,disabled:!_t||l!==void 0&&l>0,className:`w-full font-bold py-2 px-4 rounded-lg shadow-md transition-all text-sm ${_t?l&&l>0?"bg-indigo-100 dark:bg-indigo-900 text-indigo-700 dark:text-indigo-300 border-2 border-indigo-500":"bg-indigo-600 hover:bg-indigo-700 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:l&&l>0?"Marking Active...":"Mark Corners"}),y&&d.jsxs(d.Fragment,{children:[d.jsx("input",{type:"file",ref:cr,className:"hidden",multiple:!0,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff",onChange:Kn}),d.jsxs("button",{onClick:()=>{var Q;return(Q=cr.current)==null?void 0:Q.click()},disabled:!g,className:"w-full font-bold py-2 px-4 rounded-lg shadow-md transition-all text-sm bg-emerald-600 hover:bg-emerald-700 disabled:bg-gray-300 disabled:text-gray-500 disabled:cursor-not-allowed text-white flex items-center justify-center gap-2",title:"Process multiple RAWs using the currently defined grid and Black Level",children:[d.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),"Reuse Last & Batch"]})]}),d.jsxs("div",{className:"pt-2 mt-2 border-t border-gray-100 dark:border-slate-800",children:[d.jsx("input",{type:"file",ref:Yt,className:"hidden",accept:".txt",onChange:Ot}),d.jsxs("button",{onClick:()=>{var Q;return(Q=Yt.current)==null?void 0:Q.click()},className:"w-full font-bold py-2 px-4 rounded-lg shadow-sm transition-all text-xs bg-slate-100 hover:bg-slate-200 dark:bg-slate-800 dark:hover:bg-slate-700 text-gray-600 dark:text-slate-300 flex items-center justify-center gap-2 border border-gray-300 dark:border-slate-600",title:"Convert legacy TXT format (R_mean R_std ...) to standard CSV",children:[d.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})}),"Convert Format (.txt  .csv)"]})]})]}),l!==void 0&&l>0&&d.jsx("div",{className:"mt-2 text-center",children:d.jsxs("p",{className:"text-xs text-indigo-600 dark:text-indigo-400 font-bold animate-pulse",children:[l===1&&"Click Top-Left Center",l===2&&"Click Top-Right Center",l===3&&"Click Bottom-Left Center",l===4&&"Click Bottom-Right Center"]})})]})]})}),d.jsx(Ou,{title:"Selection Tools",children:d.jsx("div",{className:"space-y-3",children:d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2",children:"Quick Select or Shift+drag"}),d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx("span",{className:"text-sm text-gray-600 dark:text-slate-300",children:"Size (px):"}),d.jsx("input",{type:"number",min:"1",value:Y,onChange:Q=>X(Q.target.value),disabled:!_t,className:"flex-1 px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-sm text-gray-900 dark:text-slate-100 transition-colors"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[d.jsx("button",{onClick:$r,disabled:!_t,className:"px-3 py-1.5 bg-gray-200 hover:bg-gray-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-800 dark:text-slate-200 text-xs font-semibold rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Center Rect"}),d.jsx("button",{onClick:Vn,disabled:!_t,className:"px-3 py-1.5 bg-gray-200 hover:bg-gray-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-800 dark:text-slate-200 text-xs font-semibold rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Full Image"})]})]})})}),d.jsx(Ou,{title:"Display Controls",children:d.jsxs("div",{className:"space-y-5",children:[d.jsxs("p",{className:"text-gray-500 dark:text-slate-400 text-center text-sm",children:["Adjust parameters and click ",d.jsx("b",{children:"Apply"}),"."]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"exposure",className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2",children:"Exposure (EV)"}),d.jsx("div",{className:"flex items-center gap-2 mb-2",children:d.jsx("input",{type:"range",min:"-5",max:"5",step:"0.1",disabled:!_t,value:parseFloat(k)||0,onChange:Q=>er(Q.target.value),className:"w-full h-2 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-cyan-500 disabled:opacity-50"})}),d.jsx("div",{className:"flex items-center gap-2",children:d.jsx("input",{id:"exposure",type:"number",step:"0.1",value:k,onChange:Q=>er(Q.target.value),disabled:!_t,className:"w-full px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-sm text-gray-900 dark:text-slate-100 transition-colors duration-300"})})]}),d.jsxs("div",{children:[d.jsxs("label",{htmlFor:"demosaic",className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2 flex justify-between",children:[d.jsx("span",{children:"Demosaic Method"}),b&&d.jsx("span",{className:"text-[9px] text-red-500 font-bold bg-red-100 dark:bg-red-900/30 px-1 rounded",children:"DISABLED"})]}),d.jsx("select",{id:"demosaic",value:L,onChange:ct,disabled:!_t||b,className:"w-full px-2 py-2 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none transition-colors disabled:bg-gray-100 dark:disabled:bg-slate-800/50 disabled:cursor-not-allowed text-sm text-gray-900 dark:text-slate-100",children:ZA.map(Q=>d.jsx("option",{value:Q.value,children:Q.label},Q.value))}),b&&d.jsx("p",{className:"text-[9px] text-gray-400 mt-1",children:"Full color data detected. Demosaicing skipped."})]}),d.jsx("div",{className:"border-t border-gray-200 dark:border-slate-700 pt-2",children:d.jsx(Sx,{checked:F,onChange:ue,label:"Advanced Settings"})}),F&&d.jsxs("div",{className:"space-y-5 pl-2 border-l-2 border-gray-200 dark:border-slate-700 animate-in slide-in-from-top-2 duration-200",children:[d.jsxs("div",{children:[d.jsx(Sx,{checked:D,onChange:z,label:"Show Kadc"}),d.jsx("p",{className:"text-[10px] text-gray-400 dark:text-slate-500 mt-1",children:"Requires manual Black Levellinear PTC zoneabsolutely uniform image ."})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2",children:"White Balance Gains"}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("div",{children:[d.jsx("span",{className:"text-xs text-red-500 dark:text-red-400 block mb-1",children:"Red"}),d.jsx("input",{type:"number",step:"0.01",value:C,onChange:Q=>ur(Q.target.value),disabled:!_t,className:"w-full px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-red-500 outline-none text-sm text-gray-900 dark:text-slate-100 transition-colors duration-300"})]}),d.jsxs("div",{children:[d.jsx("span",{className:"text-xs text-blue-500 dark:text-blue-400 block mb-1",children:"Blue"}),d.jsx("input",{type:"number",step:"0.01",value:I,onChange:Q=>tr(Q.target.value),disabled:!_t,className:"w-full px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-blue-500 outline-none text-sm text-gray-900 dark:text-slate-100 transition-colors duration-300"})]})]})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-end mb-2",children:[d.jsxs("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide flex items-center",children:["Black Level (4-Ch)",d.jsx("span",{className:"ml-1 text-[10px] text-gray-400 dark:text-slate-500 font-normal normal-case",children:"Native"}),d.jsx("button",{onClick:()=>Se(!0),className:"ml-2 text-[10px] text-cyan-600 dark:text-cyan-400 hover:text-cyan-700 dark:hover:text-cyan-300 hover:underline cursor-pointer transition-colors",title:"About Black Level Settings",children:"[about]"})]}),d.jsxs("div",{className:"flex items-center gap-1.5",title:"Subtract Black Level from ROI Mean stats (for display)",children:[d.jsx("span",{className:"text-[9px] font-mono text-gray-400 dark:text-slate-500 uppercase tracking-wide",children:"Sub. BL"}),d.jsx("div",{className:`relative w-8 h-4 rounded-full cursor-pointer transition-colors duration-200 ease-in-out ${W?"bg-cyan-500":"bg-gray-300 dark:bg-slate-700"}`,onClick:()=>te(!W),children:d.jsx("div",{className:`absolute top-0.5 left-0.5 bg-white w-3 h-3 rounded-full shadow-sm transform transition-transform duration-200 ${W?"translate-x-4":"translate-x-0"}`})})]})]}),d.jsx("input",{type:"text",value:N,onChange:Q=>A(Q.target.value),disabled:!_t,placeholder:"0 0 0 0",className:"w-full px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-xs font-mono text-gray-900 dark:text-slate-100 transition-colors duration-300",title:"Enter 4 values separated by space or comma"}),d.jsx("p",{className:"text-[10px] text-gray-400 dark:text-slate-500 mt-1",children:"Order: (0,0) (0,1) (1,0) (1,1). Spatial: TL, TR, BL, BR."})]}),d.jsxs("div",{children:[d.jsxs("label",{htmlFor:"customMatrix",className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2",children:["Custom Color Matrix",d.jsx("span",{className:"block text-[10px] text-gray-400 dark:text-slate-500 font-normal normal-case mt-0.5",children:"XYZ to Camera RGB (3x3, 9 nums)"})]}),d.jsx("textarea",{id:"customMatrix",value:_,onChange:Hn,disabled:!_t,placeholder:"0.66 -0.19 -0.04  -0.46 1.23 0.25  -0.06 0.13 0.65",className:"w-full h-24 px-2 py-2 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none transition-colors disabled:bg-gray-100 dark:disabled:bg-slate-800/50 disabled:cursor-not-allowed text-xs font-mono leading-relaxed text-gray-900 dark:text-slate-100"})]})]}),d.jsxs("div",{className:"pt-4 flex flex-col gap-2",children:[d.jsx("button",{onClick:Ja,disabled:!_t,className:"w-full text-base bg-cyan-500 hover:bg-cyan-600 dark:bg-cyan-600 dark:hover:bg-cyan-500 disabled:bg-gray-300 dark:disabled:bg-slate-800 disabled:text-gray-500 dark:disabled:text-slate-500 disabled:cursor-not-allowed text-white font-bold py-3 px-3 rounded-lg shadow-lg shadow-cyan-500/20 dark:shadow-cyan-900/20 transition-all active:scale-95",children:"APPLY SETTINGS"}),d.jsxs("button",{onClick:Gt,disabled:!_t,className:"w-full text-xs font-bold bg-slate-700 hover:bg-slate-600 text-white disabled:bg-gray-300 dark:disabled:bg-slate-800 disabled:text-gray-500 transition-colors py-2 rounded-lg flex items-center justify-center gap-1.5 border border-slate-600",title:"Bypass internal pipeline. Manual subtract black level & apply basic sRGB gamma to raw data.",children:[d.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})," (Zero-Dep)"]}),d.jsx("button",{onClick:xr,disabled:!_t,className:"w-full text-xs text-gray-400 hover:text-gray-600 dark:text-slate-400 dark:hover:text-slate-200 disabled:text-gray-300 dark:disabled:text-slate-600 transition-colors mt-1",children:"Reset Defaults (Local)"})]})]})})]}),d.jsx(ei,{isOpen:fe,onClose:()=>Se(!1),onConfirm:()=>{window.open("https://y-g-jiang.github.io/CBLD.html","_blank"),Se(!1)},title:"Black Level Info / ",confirmText:"Visit Database (CBLD)",cancelText:"Close",message:d.jsxs("div",{className:"flex flex-col gap-4 text-left text-sm text-gray-600 dark:text-slate-300",children:[d.jsxs("p",{className:"leading-relaxed",children:["JiangBridge/JiangBridge",d.jsx("a",{href:"https://y-g-jiang.github.io/CBLD.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline mx-1 font-bold",children:"CBLD.html"}),""]}),d.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 w-full"}),d.jsxs("p",{className:"leading-relaxed",children:["Autofills when JiangBridge is detected. If no result is found or JiangBridge is missing, please check the",d.jsx("a",{href:"https://y-g-jiang.github.io/CBLD.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline mx-1 font-bold",children:"Black Level Database"}),"to find your camera model. However, manually capturing a dark frame with identical settings to calculate and input the values is highly recommended for higher decimal precision, as internal tags often lack accuracy."]})]})})]})},eM=()=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20 12H4"})}),tM=()=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})}),rM=()=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 4v5h5M4 12a8 8 0 0114.24-5.12M20 20v-5h-5M20 12a8 8 0 01-14.24 5.12"})}),nM=()=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 11.5V14m0-2.5v-6a1.5 1.5 0 113 0m-3 6a1.5 1.5 0 00-3 0v2a7.5 7.5 0 0015 0v-5a1.5 1.5 0 00-3 0m-6-3V11m0-5.5v-1a1.5 1.5 0 013 0v1m0 0V11m0-5.5a1.5 1.5 0 013 0v3m0 0V11"})}),aM=()=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 4l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})}),D0=.1,L0=16,oM=Math.log(D0),iM=Math.log(L0),sM=({zoom:e,onZoomChange:t,onResetView:r,touchAction:n,onToggleTouchAction:a})=>{const o=c=>{const u=parseFloat(c.target.value),f=Math.exp(u);t(Math.max(D0,Math.min(L0,f)))},i=()=>{t(Math.min(L0,e*1.25))},s=()=>{t(Math.max(D0,e/1.25))},l=Math.log(e);return d.jsxs("div",{className:"absolute top-4 right-4 flex gap-2",onClick:c=>c.stopPropagation(),children:[d.jsx("div",{className:"bg-white/90 dark:bg-slate-800/70 backdrop-blur-sm p-2 rounded-lg border border-gray-200 dark:border-slate-700 flex items-center shadow-lg transition-colors duration-300",children:d.jsx("button",{onClick:a,className:`p-1.5 rounded-md transition-colors flex items-center justify-center ${n==="select"?"bg-cyan-100 text-cyan-600 dark:bg-cyan-900/50 dark:text-cyan-400 ring-2 ring-cyan-500/50":"text-gray-500 dark:text-slate-400 hover:bg-gray-100 dark:hover:bg-slate-700"}`,title:n==="select"?"Mode: Selection (Drag to Select)":"Mode: Pan (Drag to Move)",children:n==="select"?d.jsx(aM,{}):d.jsx(nM,{})})}),d.jsxs("div",{className:"bg-white/90 dark:bg-slate-800/70 backdrop-blur-sm p-2 rounded-lg border border-gray-200 dark:border-slate-700 flex items-center gap-2 text-gray-700 dark:text-slate-300 shadow-lg transition-colors duration-300",children:[d.jsx("button",{onClick:s,className:"p-1 rounded-md hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",title:"Zoom Out","aria-label":"Zoom Out",children:d.jsx(eM,{})}),d.jsx("input",{type:"range",min:oM,max:iM,step:"0.01",value:l,onChange:o,className:"w-24 sm:w-32 h-2 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-cyan-500","aria-label":"Zoom slider"}),d.jsx("button",{onClick:i,className:"p-1 rounded-md hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",title:"Zoom In","aria-label":"Zoom In",children:d.jsx(tM,{})}),d.jsxs("span",{className:"w-16 text-center font-mono text-sm","aria-live":"polite",children:[(e*100).toFixed(0),"%"]}),d.jsx("button",{onClick:r,className:"p-1 rounded-md hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",title:"Reset View","aria-label":"Reset View",children:d.jsx(rM,{})})]})]})},lM=({theme:e,setTheme:t})=>{const r=()=>{t(e==="light"?"dark":"light")};return d.jsx("button",{onClick:r,className:"fixed bottom-6 right-6 z-50 p-3 rounded-full bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 shadow-lg text-gray-800 dark:text-yellow-400 hover:bg-gray-100 dark:hover:bg-slate-700 transition-all duration-300",title:`Switch to ${e==="light"?"dark":"light"} mode`,children:e==="light"?d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-slate-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}):d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})})})};function LS(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=LS(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function tt(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=LS(e))&&(n&&(n+=" "),n+=t);return n}var cM=Array.isArray,hn=cM,uM=typeof su=="object"&&su&&su.Object===Object&&su,RS=uM,fM=RS,dM=typeof self=="object"&&self&&self.Object===Object&&self,hM=fM||dM||Function("return this")(),Oa=hM,pM=Oa,gM=pM.Symbol,qc=gM,jx=qc,IS=Object.prototype,mM=IS.hasOwnProperty,yM=IS.toString,pl=jx?jx.toStringTag:void 0;function vM(e){var t=mM.call(e,pl),r=e[pl];try{e[pl]=void 0;var n=!0}catch{}var a=yM.call(e);return n&&(t?e[pl]=r:delete e[pl]),a}var xM=vM,bM=Object.prototype,wM=bM.toString;function kM(e){return wM.call(e)}var SM=kM,Ox=qc,jM=xM,OM=SM,_M="[object Null]",PM="[object Undefined]",_x=Ox?Ox.toStringTag:void 0;function NM(e){return e==null?e===void 0?PM:_M:_x&&_x in Object(e)?jM(e):OM(e)}var Ya=NM;function AM(e){return e!=null&&typeof e=="object"}var Qa=AM,MM=Ya,CM=Qa,EM="[object Symbol]";function TM(e){return typeof e=="symbol"||CM(e)&&MM(e)==EM}var Bs=TM,$M=hn,DM=Bs,LM=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,RM=/^\w*$/;function IM(e,t){if($M(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||DM(e)?!0:RM.test(e)||!LM.test(e)||t!=null&&e in Object(t)}var oy=IM;function BM(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Ao=BM;const Fs=Mt(Ao);var FM=Ya,zM=Ao,WM="[object AsyncFunction]",UM="[object Function]",GM="[object GeneratorFunction]",HM="[object Proxy]";function VM(e){if(!zM(e))return!1;var t=FM(e);return t==UM||t==GM||t==WM||t==HM}var iy=VM;const Ie=Mt(iy);var KM=Oa,XM=KM["__core-js_shared__"],qM=XM,lp=qM,Px=function(){var e=/[^.]+$/.exec(lp&&lp.keys&&lp.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function YM(e){return!!Px&&Px in e}var QM=YM,ZM=Function.prototype,JM=ZM.toString;function eC(e){if(e!=null){try{return JM.call(e)}catch{}try{return e+""}catch{}}return""}var BS=eC,tC=iy,rC=QM,nC=Ao,aC=BS,oC=/[\\^$.*+?()[\]{}|]/g,iC=/^\[object .+?Constructor\]$/,sC=Function.prototype,lC=Object.prototype,cC=sC.toString,uC=lC.hasOwnProperty,fC=RegExp("^"+cC.call(uC).replace(oC,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function dC(e){if(!nC(e)||rC(e))return!1;var t=tC(e)?fC:iC;return t.test(aC(e))}var hC=dC;function pC(e,t){return e==null?void 0:e[t]}var gC=pC,mC=hC,yC=gC;function vC(e,t){var r=yC(e,t);return mC(r)?r:void 0}var vi=vC,xC=vi,bC=xC(Object,"create"),Ud=bC,Nx=Ud;function wC(){this.__data__=Nx?Nx(null):{},this.size=0}var kC=wC;function SC(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var jC=SC,OC=Ud,_C="__lodash_hash_undefined__",PC=Object.prototype,NC=PC.hasOwnProperty;function AC(e){var t=this.__data__;if(OC){var r=t[e];return r===_C?void 0:r}return NC.call(t,e)?t[e]:void 0}var MC=AC,CC=Ud,EC=Object.prototype,TC=EC.hasOwnProperty;function $C(e){var t=this.__data__;return CC?t[e]!==void 0:TC.call(t,e)}var DC=$C,LC=Ud,RC="__lodash_hash_undefined__";function IC(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=LC&&t===void 0?RC:t,this}var BC=IC,FC=kC,zC=jC,WC=MC,UC=DC,GC=BC;function zs(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}zs.prototype.clear=FC;zs.prototype.delete=zC;zs.prototype.get=WC;zs.prototype.has=UC;zs.prototype.set=GC;var HC=zs;function VC(){this.__data__=[],this.size=0}var KC=VC;function XC(e,t){return e===t||e!==e&&t!==t}var sy=XC,qC=sy;function YC(e,t){for(var r=e.length;r--;)if(qC(e[r][0],t))return r;return-1}var Gd=YC,QC=Gd,ZC=Array.prototype,JC=ZC.splice;function eE(e){var t=this.__data__,r=QC(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():JC.call(t,r,1),--this.size,!0}var tE=eE,rE=Gd;function nE(e){var t=this.__data__,r=rE(t,e);return r<0?void 0:t[r][1]}var aE=nE,oE=Gd;function iE(e){return oE(this.__data__,e)>-1}var sE=iE,lE=Gd;function cE(e,t){var r=this.__data__,n=lE(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var uE=cE,fE=KC,dE=tE,hE=aE,pE=sE,gE=uE;function Ws(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ws.prototype.clear=fE;Ws.prototype.delete=dE;Ws.prototype.get=hE;Ws.prototype.has=pE;Ws.prototype.set=gE;var Hd=Ws,mE=vi,yE=Oa,vE=mE(yE,"Map"),ly=vE,Ax=HC,xE=Hd,bE=ly;function wE(){this.size=0,this.__data__={hash:new Ax,map:new(bE||xE),string:new Ax}}var kE=wE;function SE(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var jE=SE,OE=jE;function _E(e,t){var r=e.__data__;return OE(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Vd=_E,PE=Vd;function NE(e){var t=PE(this,e).delete(e);return this.size-=t?1:0,t}var AE=NE,ME=Vd;function CE(e){return ME(this,e).get(e)}var EE=CE,TE=Vd;function $E(e){return TE(this,e).has(e)}var DE=$E,LE=Vd;function RE(e,t){var r=LE(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var IE=RE,BE=kE,FE=AE,zE=EE,WE=DE,UE=IE;function Us(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Us.prototype.clear=BE;Us.prototype.delete=FE;Us.prototype.get=zE;Us.prototype.has=WE;Us.prototype.set=UE;var cy=Us,FS=cy,GE="Expected a function";function uy(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(GE);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],o=r.cache;if(o.has(a))return o.get(a);var i=e.apply(this,n);return r.cache=o.set(a,i)||o,i};return r.cache=new(uy.Cache||FS),r}uy.Cache=FS;var zS=uy;const HE=Mt(zS);var VE=zS,KE=500;function XE(e){var t=VE(e,function(n){return r.size===KE&&r.clear(),n}),r=t.cache;return t}var qE=XE,YE=qE,QE=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ZE=/\\(\\)?/g,JE=YE(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(QE,function(r,n,a,o){t.push(a?o.replace(ZE,"$1"):n||r)}),t}),eT=JE;function tT(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var fy=tT,Mx=qc,rT=fy,nT=hn,aT=Bs,Cx=Mx?Mx.prototype:void 0,Ex=Cx?Cx.toString:void 0;function WS(e){if(typeof e=="string")return e;if(nT(e))return rT(e,WS)+"";if(aT(e))return Ex?Ex.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var oT=WS,iT=oT;function sT(e){return e==null?"":iT(e)}var US=sT,lT=hn,cT=oy,uT=eT,fT=US;function dT(e,t){return lT(e)?e:cT(e,t)?[e]:uT(fT(e))}var GS=dT,hT=Bs;function pT(e){if(typeof e=="string"||hT(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Kd=pT,gT=GS,mT=Kd;function yT(e,t){t=gT(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[mT(t[r++])];return r&&r==n?e:void 0}var dy=yT,vT=dy;function xT(e,t,r){var n=e==null?void 0:vT(e,t);return n===void 0?r:n}var HS=xT;const Bn=Mt(HS);function bT(e){return e==null}var wT=bT;const De=Mt(wT);var kT=Ya,ST=hn,jT=Qa,OT="[object String]";function _T(e){return typeof e=="string"||!ST(e)&&jT(e)&&kT(e)==OT}var PT=_T;const ci=Mt(PT);var VS={exports:{}},wt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hy=Symbol.for("react.element"),py=Symbol.for("react.portal"),Xd=Symbol.for("react.fragment"),qd=Symbol.for("react.strict_mode"),Yd=Symbol.for("react.profiler"),Qd=Symbol.for("react.provider"),Zd=Symbol.for("react.context"),NT=Symbol.for("react.server_context"),Jd=Symbol.for("react.forward_ref"),eh=Symbol.for("react.suspense"),th=Symbol.for("react.suspense_list"),rh=Symbol.for("react.memo"),nh=Symbol.for("react.lazy"),AT=Symbol.for("react.offscreen"),KS;KS=Symbol.for("react.module.reference");function Un(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case hy:switch(e=e.type,e){case Xd:case Yd:case qd:case eh:case th:return e;default:switch(e=e&&e.$$typeof,e){case NT:case Zd:case Jd:case nh:case rh:case Qd:return e;default:return t}}case py:return t}}}wt.ContextConsumer=Zd;wt.ContextProvider=Qd;wt.Element=hy;wt.ForwardRef=Jd;wt.Fragment=Xd;wt.Lazy=nh;wt.Memo=rh;wt.Portal=py;wt.Profiler=Yd;wt.StrictMode=qd;wt.Suspense=eh;wt.SuspenseList=th;wt.isAsyncMode=function(){return!1};wt.isConcurrentMode=function(){return!1};wt.isContextConsumer=function(e){return Un(e)===Zd};wt.isContextProvider=function(e){return Un(e)===Qd};wt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===hy};wt.isForwardRef=function(e){return Un(e)===Jd};wt.isFragment=function(e){return Un(e)===Xd};wt.isLazy=function(e){return Un(e)===nh};wt.isMemo=function(e){return Un(e)===rh};wt.isPortal=function(e){return Un(e)===py};wt.isProfiler=function(e){return Un(e)===Yd};wt.isStrictMode=function(e){return Un(e)===qd};wt.isSuspense=function(e){return Un(e)===eh};wt.isSuspenseList=function(e){return Un(e)===th};wt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Xd||e===Yd||e===qd||e===eh||e===th||e===AT||typeof e=="object"&&e!==null&&(e.$$typeof===nh||e.$$typeof===rh||e.$$typeof===Qd||e.$$typeof===Zd||e.$$typeof===Jd||e.$$typeof===KS||e.getModuleId!==void 0)};wt.typeOf=Un;VS.exports=wt;var MT=VS.exports,CT=Ya,ET=Qa,TT="[object Number]";function $T(e){return typeof e=="number"||ET(e)&&CT(e)==TT}var XS=$T;const DT=Mt(XS);var LT=XS;function RT(e){return LT(e)&&e!=+e}var IT=RT;const Gs=Mt(IT);var na=function(t){return t===0?0:t>0?1:-1},Vo=function(t){return ci(t)&&t.indexOf("%")===t.length-1},ie=function(t){return DT(t)&&!Gs(t)},BT=function(t){return De(t)},gr=function(t){return ie(t)||ci(t)},FT=0,xi=function(t){var r=++FT;return"".concat(t||"").concat(r)},ui=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ie(t)&&!ci(t))return n;var o;if(Vo(t)){var i=t.indexOf("%");o=r*parseFloat(t.slice(0,i))/100}else o=+t;return Gs(o)&&(o=n),a&&o>r&&(o=r),o},lo=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},zT=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},nr=function(t,r){return ie(t)&&ie(r)?function(n){return t+n*(r-t)}:function(){return r}};function jf(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Bn(n,t))===r})}var WT=function(t){if(!t||!t.length)return null;for(var r=t.length,n=0,a=0,o=0,i=0,s=1/0,l=-1/0,c=0,u=0,f=0;f<r;f++)c=t[f].cx||0,u=t[f].cy||0,n+=c,a+=u,o+=c*u,i+=c*c,s=Math.min(s,c),l=Math.max(l,c);var h=r*i!==n*n?(r*o-n*a)/(r*i-n*n):0;return{xmin:s,xmax:l,a:h,b:(a-h*n)/r}},UT=function(t,r){return ie(t)&&ie(r)?t-r:ci(t)&&ci(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Zi(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function R0(e){"@babel/helpers - typeof";return R0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R0(e)}var GT=["viewBox","children"],HT=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Tx=["points","pathLength"],cp={svg:GT,polygon:Tx,polyline:Tx},gy=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Of=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(O.isValidElement(t)&&(n=t.props),!Fs(n))return null;var a={};return Object.keys(n).forEach(function(o){gy.includes(o)&&(a[o]=r||function(i){return n[o](n,i)})}),a},VT=function(t,r,n){return function(a){return t(r,n,a),null}},lc=function(t,r,n){if(!Fs(t)||R0(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(o){var i=t[o];gy.includes(o)&&typeof i=="function"&&(a||(a={}),a[o]=VT(i,r,n))}),a},KT=["children"],XT=["children"];function $x(e,t){if(e==null)return{};var r=qT(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qT(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function I0(e){"@babel/helpers - typeof";return I0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I0(e)}var Dx={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ia=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},Lx=null,up=null,my=function e(t){if(t===Lx&&Array.isArray(up))return up;var r=[];return O.Children.forEach(t,function(n){De(n)||(MT.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),up=r,Lx=t,r};function dn(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return Ia(a)}):n=[Ia(t)],my(e).forEach(function(a){var o=Bn(a,"type.displayName")||Bn(a,"type.name");n.indexOf(o)!==-1&&r.push(a)}),r}function vn(e,t){var r=dn(e,t);return r&&r[0]}var Rx=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!ie(n)||n<=0||!ie(a)||a<=0)},YT=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],QT=function(t){return t&&t.type&&ci(t.type)&&YT.indexOf(t.type)>=0},qS=function(t){return t&&I0(t)==="object"&&"clipDot"in t},ZT=function(t,r,n,a){var o,i=(o=cp==null?void 0:cp[a])!==null&&o!==void 0?o:[];return r.startsWith("data-")||!Ie(t)&&(a&&i.includes(r)||HT.includes(r))||n&&gy.includes(r)},Re=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(O.isValidElement(t)&&(a=t.props),!Fs(a))return null;var o={};return Object.keys(a).forEach(function(i){var s;ZT((s=a)===null||s===void 0?void 0:s[i],i,r,n)&&(o[i]=a[i])}),o},B0=function e(t,r){if(t===r)return!0;var n=O.Children.count(t);if(n!==O.Children.count(r))return!1;if(n===0)return!0;if(n===1)return Ix(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var o=t[a],i=r[a];if(Array.isArray(o)||Array.isArray(i)){if(!e(o,i))return!1}else if(!Ix(o,i))return!1}return!0},Ix=function(t,r){if(De(t)&&De(r))return!0;if(!De(t)&&!De(r)){var n=t.props||{},a=n.children,o=$x(n,KT),i=r.props||{},s=i.children,l=$x(i,XT);return a&&s?Zi(o,l)&&B0(a,s):!a&&!s?Zi(o,l):!1}return!1},Bx=function(t,r){var n=[],a={};return my(t).forEach(function(o,i){if(QT(o))n.push(o);else if(o){var s=Ia(o.type),l=r[s]||{},c=l.handler,u=l.once;if(c&&(!u||!a[s])){var f=c(o,s,i);n.push(f),a[s]=!0}}}),n},JT=function(t){var r=t&&t.type;return r&&Dx[r]?Dx[r]:null},e$=function(t,r){return my(r).indexOf(t)},t$=["children","width","height","viewBox","className","style","title","desc"];function F0(){return F0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},F0.apply(this,arguments)}function r$(e,t){if(e==null)return{};var r=n$(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function n$(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function z0(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,o=e.className,i=e.style,s=e.title,l=e.desc,c=r$(e,t$),u=a||{width:r,height:n,x:0,y:0},f=tt("recharts-surface",o);return M.createElement("svg",F0({},Re(c,!0,"svg"),{className:f,width:r,height:n,style:i,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),M.createElement("title",null,s),M.createElement("desc",null,l),t)}var a$=["children","className"];function W0(){return W0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},W0.apply(this,arguments)}function o$(e,t){if(e==null)return{};var r=i$(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function i$(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var pt=M.forwardRef(function(e,t){var r=e.children,n=e.className,a=o$(e,a$),o=tt("recharts-layer",n);return M.createElement("g",W0({className:o},Re(a,!0),{ref:t}),r)}),Ba=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o]};function s$(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(a);++n<a;)o[n]=e[n+t];return o}var l$=s$,c$=l$;function u$(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:c$(e,t,r)}var f$=u$,d$="\\ud800-\\udfff",h$="\\u0300-\\u036f",p$="\\ufe20-\\ufe2f",g$="\\u20d0-\\u20ff",m$=h$+p$+g$,y$="\\ufe0e\\ufe0f",v$="\\u200d",x$=RegExp("["+v$+d$+m$+y$+"]");function b$(e){return x$.test(e)}var YS=b$;function w$(e){return e.split("")}var k$=w$,QS="\\ud800-\\udfff",S$="\\u0300-\\u036f",j$="\\ufe20-\\ufe2f",O$="\\u20d0-\\u20ff",_$=S$+j$+O$,P$="\\ufe0e\\ufe0f",N$="["+QS+"]",U0="["+_$+"]",G0="\\ud83c[\\udffb-\\udfff]",A$="(?:"+U0+"|"+G0+")",ZS="[^"+QS+"]",JS="(?:\\ud83c[\\udde6-\\uddff]){2}",ej="[\\ud800-\\udbff][\\udc00-\\udfff]",M$="\\u200d",tj=A$+"?",rj="["+P$+"]?",C$="(?:"+M$+"(?:"+[ZS,JS,ej].join("|")+")"+rj+tj+")*",E$=rj+tj+C$,T$="(?:"+[ZS+U0+"?",U0,JS,ej,N$].join("|")+")",$$=RegExp(G0+"(?="+G0+")|"+T$+E$,"g");function D$(e){return e.match($$)||[]}var L$=D$,R$=k$,I$=YS,B$=L$;function F$(e){return I$(e)?B$(e):R$(e)}var z$=F$,W$=f$,U$=YS,G$=z$,H$=US;function V$(e){return function(t){t=H$(t);var r=U$(t)?G$(t):void 0,n=r?r[0]:t.charAt(0),a=r?W$(r,1).join(""):t.slice(1);return n[e]()+a}}var K$=V$,X$=K$,q$=X$("toUpperCase"),Y$=q$;const ah=Mt(Y$);function Et(e){return function(){return e}}const nj=Math.cos,_f=Math.sin,ua=Math.sqrt,Pf=Math.PI,oh=2*Pf,H0=Math.PI,V0=2*H0,Fo=1e-6,Q$=V0-Fo;function aj(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Z$(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return aj;const r=10**t;return function(n){this._+=n[0];for(let a=1,o=n.length;a<o;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class J${constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?aj:Z$(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,o,i){this._append`C${+t},${+r},${+n},${+a},${this._x1=+o},${this._y1=+i}`}arcTo(t,r,n,a,o){if(t=+t,r=+r,n=+n,a=+a,o=+o,o<0)throw new Error(`negative radius: ${o}`);let i=this._x1,s=this._y1,l=n-t,c=a-r,u=i-t,f=s-r,h=u*u+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Fo)if(!(Math.abs(f*l-c*u)>Fo)||!o)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-i,m=a-s,v=l*l+c*c,w=p*p+m*m,y=Math.sqrt(v),g=Math.sqrt(h),x=o*Math.tan((H0-Math.acos((v+h-w)/(2*y*g)))/2),S=x/g,b=x/y;Math.abs(S-1)>Fo&&this._append`L${t+S*u},${r+S*f}`,this._append`A${o},${o},0,0,${+(f*p>u*m)},${this._x1=t+b*l},${this._y1=r+b*c}`}}arc(t,r,n,a,o,i){if(t=+t,r=+r,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(a),l=n*Math.sin(a),c=t+s,u=r+l,f=1^i,h=i?a-o:o-a;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>Fo||Math.abs(this._y1-u)>Fo)&&this._append`L${c},${u}`,n&&(h<0&&(h=h%V0+V0),h>Q$?this._append`A${n},${n},0,1,${f},${t-s},${r-l}A${n},${n},0,1,${f},${this._x1=c},${this._y1=u}`:h>Fo&&this._append`A${n},${n},0,${+(h>=H0)},${f},${this._x1=t+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function yy(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new J$(t)}function vy(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function oj(e){this._context=e}oj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function ih(e){return new oj(e)}function ij(e){return e[0]}function sj(e){return e[1]}function lj(e,t){var r=Et(!0),n=null,a=ih,o=null,i=yy(s);e=typeof e=="function"?e:e===void 0?ij:Et(e),t=typeof t=="function"?t:t===void 0?sj:Et(t);function s(l){var c,u=(l=vy(l)).length,f,h=!1,p;for(n==null&&(o=a(p=i())),c=0;c<=u;++c)!(c<u&&r(f=l[c],c,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+e(f,c,l),+t(f,c,l));if(p)return o=null,p+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:Et(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:Et(+l),s):t},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Et(!!l),s):r},s.curve=function(l){return arguments.length?(a=l,n!=null&&(o=a(n)),s):a},s.context=function(l){return arguments.length?(l==null?n=o=null:o=a(n=l),s):n},s}function _u(e,t,r){var n=null,a=Et(!0),o=null,i=ih,s=null,l=yy(c);e=typeof e=="function"?e:e===void 0?ij:Et(+e),t=typeof t=="function"?t:Et(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?sj:Et(+r);function c(f){var h,p,m,v=(f=vy(f)).length,w,y=!1,g,x=new Array(v),S=new Array(v);for(o==null&&(s=i(g=l())),h=0;h<=v;++h){if(!(h<v&&a(w=f[h],h,f))===y)if(y=!y)p=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),m=h-1;m>=p;--m)s.point(x[m],S[m]);s.lineEnd(),s.areaEnd()}y&&(x[h]=+e(w,h,f),S[h]=+t(w,h,f),s.point(n?+n(w,h,f):x[h],r?+r(w,h,f):S[h]))}if(g)return s=null,g+""||null}function u(){return lj().defined(a).curve(i).context(o)}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:Et(+f),n=null,c):e},c.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Et(+f),c):e},c.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Et(+f),c):n},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:Et(+f),r=null,c):t},c.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Et(+f),c):t},c.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Et(+f),c):r},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(r)},c.lineX1=function(){return u().x(n).y(t)},c.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Et(!!f),c):a},c.curve=function(f){return arguments.length?(i=f,o!=null&&(s=i(o)),c):i},c.context=function(f){return arguments.length?(f==null?o=s=null:s=i(o=f),c):o},c}class cj{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function e5(e){return new cj(e,!0)}function t5(e){return new cj(e,!1)}const xy={draw(e,t){const r=ua(t/Pf);e.moveTo(r,0),e.arc(0,0,r,0,oh)}},r5={draw(e,t){const r=ua(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},uj=ua(1/3),n5=uj*2,a5={draw(e,t){const r=ua(t/n5),n=r*uj;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},o5={draw(e,t){const r=ua(t),n=-r/2;e.rect(n,n,r,r)}},i5=.8908130915292852,fj=_f(Pf/10)/_f(7*Pf/10),s5=_f(oh/10)*fj,l5=-nj(oh/10)*fj,c5={draw(e,t){const r=ua(t*i5),n=s5*r,a=l5*r;e.moveTo(0,-r),e.lineTo(n,a);for(let o=1;o<5;++o){const i=oh*o/5,s=nj(i),l=_f(i);e.lineTo(l*r,-s*r),e.lineTo(s*n-l*a,l*n+s*a)}e.closePath()}},fp=ua(3),u5={draw(e,t){const r=-ua(t/(fp*3));e.moveTo(0,r*2),e.lineTo(-fp*r,-r),e.lineTo(fp*r,-r),e.closePath()}},An=-.5,Mn=ua(3)/2,K0=1/ua(12),f5=(K0/2+1)*3,d5={draw(e,t){const r=ua(t/f5),n=r/2,a=r*K0,o=n,i=r*K0+r,s=-o,l=i;e.moveTo(n,a),e.lineTo(o,i),e.lineTo(s,l),e.lineTo(An*n-Mn*a,Mn*n+An*a),e.lineTo(An*o-Mn*i,Mn*o+An*i),e.lineTo(An*s-Mn*l,Mn*s+An*l),e.lineTo(An*n+Mn*a,An*a-Mn*n),e.lineTo(An*o+Mn*i,An*i-Mn*o),e.lineTo(An*s+Mn*l,An*l-Mn*s),e.closePath()}};function h5(e,t){let r=null,n=yy(a);e=typeof e=="function"?e:Et(e||xy),t=typeof t=="function"?t:Et(t===void 0?64:+t);function a(){let o;if(r||(r=o=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),o)return r=null,o+""||null}return a.type=function(o){return arguments.length?(e=typeof o=="function"?o:Et(o),a):e},a.size=function(o){return arguments.length?(t=typeof o=="function"?o:Et(+o),a):t},a.context=function(o){return arguments.length?(r=o??null,a):r},a}function Nf(){}function Af(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function dj(e){this._context=e}dj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Af(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Af(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function p5(e){return new dj(e)}function hj(e){this._context=e}hj.prototype={areaStart:Nf,areaEnd:Nf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Af(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function g5(e){return new hj(e)}function pj(e){this._context=e}pj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Af(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function m5(e){return new pj(e)}function gj(e){this._context=e}gj.prototype={areaStart:Nf,areaEnd:Nf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function y5(e){return new gj(e)}function Fx(e){return e<0?-1:1}function zx(e,t,r){var n=e._x1-e._x0,a=t-e._x1,o=(e._y1-e._y0)/(n||a<0&&-0),i=(r-e._y1)/(a||n<0&&-0),s=(o*a+i*n)/(n+a);return(Fx(o)+Fx(i))*Math.min(Math.abs(o),Math.abs(i),.5*Math.abs(s))||0}function Wx(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function dp(e,t,r){var n=e._x0,a=e._y0,o=e._x1,i=e._y1,s=(o-n)/3;e._context.bezierCurveTo(n+s,a+s*t,o-s,i-s*r,o,i)}function Mf(e){this._context=e}Mf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:dp(this,this._t0,Wx(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,dp(this,Wx(this,r=zx(this,e,t)),r);break;default:dp(this,this._t0,r=zx(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function mj(e){this._context=new yj(e)}(mj.prototype=Object.create(Mf.prototype)).point=function(e,t){Mf.prototype.point.call(this,t,e)};function yj(e){this._context=e}yj.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,o){this._context.bezierCurveTo(t,e,n,r,o,a)}};function v5(e){return new Mf(e)}function x5(e){return new mj(e)}function vj(e){this._context=e}vj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Ux(e),a=Ux(t),o=0,i=1;i<r;++o,++i)this._context.bezierCurveTo(n[0][o],a[0][o],n[1][o],a[1][o],e[i],t[i]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Ux(e){var t,r=e.length-1,n,a=new Array(r),o=new Array(r),i=new Array(r);for(a[0]=0,o[0]=2,i[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,o[t]=4,i[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,o[r-1]=7,i[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/o[t-1],o[t]-=n,i[t]-=n*i[t-1];for(a[r-1]=i[r-1]/o[r-1],t=r-2;t>=0;--t)a[t]=(i[t]-a[t+1])/o[t];for(o[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-a[t+1];return[a,o]}function b5(e){return new vj(e)}function sh(e,t){this._context=e,this._t=t}sh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function w5(e){return new sh(e,.5)}function k5(e){return new sh(e,0)}function S5(e){return new sh(e,1)}function ls(e,t){if((i=e.length)>1)for(var r=1,n,a,o=e[t[0]],i,s=o.length;r<i;++r)for(a=o,o=e[t[r]],n=0;n<s;++n)o[n][1]+=o[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function X0(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function j5(e,t){return e[t]}function O5(e){const t=[];return t.key=e,t}function _5(){var e=Et([]),t=X0,r=ls,n=j5;function a(o){var i=Array.from(e.apply(this,arguments),O5),s,l=i.length,c=-1,u;for(const f of o)for(s=0,++c;s<l;++s)(i[s][c]=[0,+n(f,i[s].key,c,o)]).data=f;for(s=0,u=vy(t(i));s<l;++s)i[u[s]].index=s;return r(i,u),i}return a.keys=function(o){return arguments.length?(e=typeof o=="function"?o:Et(Array.from(o)),a):e},a.value=function(o){return arguments.length?(n=typeof o=="function"?o:Et(+o),a):n},a.order=function(o){return arguments.length?(t=o==null?X0:typeof o=="function"?o:Et(Array.from(o)),a):t},a.offset=function(o){return arguments.length?(r=o??ls,a):r},a}function P5(e,t){if((n=e.length)>0){for(var r,n,a=0,o=e[0].length,i;a<o;++a){for(i=r=0;r<n;++r)i+=e[r][a][1]||0;if(i)for(r=0;r<n;++r)e[r][a][1]/=i}ls(e,t)}}function N5(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,o=n.length;r<o;++r){for(var i=0,s=0;i<a;++i)s+=e[i][r][1]||0;n[r][1]+=n[r][0]=-s/2}ls(e,t)}}function A5(e,t){if(!(!((i=e.length)>0)||!((o=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,o,i;n<o;++n){for(var s=0,l=0,c=0;s<i;++s){for(var u=e[t[s]],f=u[n][1]||0,h=u[n-1][1]||0,p=(f-h)/2,m=0;m<s;++m){var v=e[t[m]],w=v[n][1]||0,y=v[n-1][1]||0;p+=w-y}l+=f,c+=p*f}a[n-1][1]+=a[n-1][0]=r,l&&(r-=c/l)}a[n-1][1]+=a[n-1][0]=r,ls(e,t)}}function cc(e){"@babel/helpers - typeof";return cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cc(e)}var M5=["type","size","sizeType"];function q0(){return q0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},q0.apply(this,arguments)}function Gx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gx(Object(r),!0).forEach(function(n){C5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function C5(e,t,r){return t=E5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E5(e){var t=T5(e,"string");return cc(t)=="symbol"?t:t+""}function T5(e,t){if(cc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $5(e,t){if(e==null)return{};var r=D5(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function D5(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var xj={symbolCircle:xy,symbolCross:r5,symbolDiamond:a5,symbolSquare:o5,symbolStar:c5,symbolTriangle:u5,symbolWye:d5},L5=Math.PI/180,R5=function(t){var r="symbol".concat(ah(t));return xj[r]||xy},I5=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*L5;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},B5=function(t,r){xj["symbol".concat(ah(t))]=r},lh=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,o=a===void 0?64:a,i=t.sizeType,s=i===void 0?"area":i,l=$5(t,M5),c=Hx(Hx({},l),{},{type:n,size:o,sizeType:s}),u=function(){var w=R5(n),y=h5().type(w).size(I5(o,s,n));return y()},f=c.className,h=c.cx,p=c.cy,m=Re(c,!0);return h===+h&&p===+p&&o===+o?M.createElement("path",q0({},m,{className:tt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:u()})):null};lh.registerSymbol=B5;function cs(e){"@babel/helpers - typeof";return cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cs(e)}function Y0(){return Y0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Y0.apply(this,arguments)}function Vx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function F5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vx(Object(r),!0).forEach(function(n){uc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function z5(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wj(n.key),n)}}function U5(e,t,r){return t&&W5(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function G5(e,t,r){return t=Cf(t),H5(e,bj()?Reflect.construct(t,r||[],Cf(e).constructor):t.apply(e,r))}function H5(e,t){if(t&&(cs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return V5(e)}function V5(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bj(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bj=function(){return!!e})()}function Cf(e){return Cf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cf(e)}function K5(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Q0(e,t)}function Q0(e,t){return Q0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Q0(e,t)}function uc(e,t,r){return t=wj(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wj(e){var t=X5(e,"string");return cs(t)=="symbol"?t:t+""}function X5(e,t){if(cs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Cn=32,by=function(e){function t(){return z5(this,t),G5(this,t,arguments)}return K5(t,e),U5(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,o=Cn/2,i=Cn/6,s=Cn/3,l=n.inactive?a:n.color;if(n.type==="plainline")return M.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:o,x2:Cn,y2:o,className:"recharts-legend-icon"});if(n.type==="line")return M.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(Cn,"M").concat(2*s,",").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(n.type==="rect")return M.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Cn/8,"h").concat(Cn,"v").concat(Cn*3/4,"h").concat(-Cn,"z"),className:"recharts-legend-icon"});if(M.isValidElement(n.legendIcon)){var c=F5({},n);return delete c.legendIcon,M.cloneElement(n.legendIcon,c)}return M.createElement(lh,{fill:l,cx:o,cy:o,size:Cn,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,o=a.payload,i=a.iconSize,s=a.layout,l=a.formatter,c=a.inactiveColor,u={x:0,y:0,width:Cn,height:Cn},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(p,m){var v=p.formatter||l,w=tt(uc(uc({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",p.inactive));if(p.type==="none")return null;var y=Ie(p.value)?null:p.value;Ba(!Ie(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var g=p.inactive?c:p.color;return M.createElement("li",Y0({className:w,style:f,key:"legend-item-".concat(m)},lc(n.props,p,m)),M.createElement(z0,{width:i,height:i,viewBox:u,style:h},n.renderIcon(p)),M.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},v?v(y,p,m):y))})}},{key:"render",value:function(){var n=this.props,a=n.payload,o=n.layout,i=n.align;if(!a||!a.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?i:"left"};return M.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(O.PureComponent);uc(by,"displayName","Legend");uc(by,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var q5=Hd;function Y5(){this.__data__=new q5,this.size=0}var Q5=Y5;function Z5(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var J5=Z5;function e4(e){return this.__data__.get(e)}var t4=e4;function r4(e){return this.__data__.has(e)}var n4=r4,a4=Hd,o4=ly,i4=cy,s4=200;function l4(e,t){var r=this.__data__;if(r instanceof a4){var n=r.__data__;if(!o4||n.length<s4-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new i4(n)}return r.set(e,t),this.size=r.size,this}var c4=l4,u4=Hd,f4=Q5,d4=J5,h4=t4,p4=n4,g4=c4;function Hs(e){var t=this.__data__=new u4(e);this.size=t.size}Hs.prototype.clear=f4;Hs.prototype.delete=d4;Hs.prototype.get=h4;Hs.prototype.has=p4;Hs.prototype.set=g4;var kj=Hs,m4="__lodash_hash_undefined__";function y4(e){return this.__data__.set(e,m4),this}var v4=y4;function x4(e){return this.__data__.has(e)}var b4=x4,w4=cy,k4=v4,S4=b4;function Ef(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new w4;++t<r;)this.add(e[t])}Ef.prototype.add=Ef.prototype.push=k4;Ef.prototype.has=S4;var Sj=Ef;function j4(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var jj=j4;function O4(e,t){return e.has(t)}var Oj=O4,_4=Sj,P4=jj,N4=Oj,A4=1,M4=2;function C4(e,t,r,n,a,o){var i=r&A4,s=e.length,l=t.length;if(s!=l&&!(i&&l>s))return!1;var c=o.get(e),u=o.get(t);if(c&&u)return c==t&&u==e;var f=-1,h=!0,p=r&M4?new _4:void 0;for(o.set(e,t),o.set(t,e);++f<s;){var m=e[f],v=t[f];if(n)var w=i?n(v,m,f,t,e,o):n(m,v,f,e,t,o);if(w!==void 0){if(w)continue;h=!1;break}if(p){if(!P4(t,function(y,g){if(!N4(p,g)&&(m===y||a(m,y,r,n,o)))return p.push(g)})){h=!1;break}}else if(!(m===v||a(m,v,r,n,o))){h=!1;break}}return o.delete(e),o.delete(t),h}var _j=C4,E4=Oa,T4=E4.Uint8Array,$4=T4;function D4(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var L4=D4;function R4(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var wy=R4,Kx=qc,Xx=$4,I4=sy,B4=_j,F4=L4,z4=wy,W4=1,U4=2,G4="[object Boolean]",H4="[object Date]",V4="[object Error]",K4="[object Map]",X4="[object Number]",q4="[object RegExp]",Y4="[object Set]",Q4="[object String]",Z4="[object Symbol]",J4="[object ArrayBuffer]",e3="[object DataView]",qx=Kx?Kx.prototype:void 0,hp=qx?qx.valueOf:void 0;function t3(e,t,r,n,a,o,i){switch(r){case e3:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case J4:return!(e.byteLength!=t.byteLength||!o(new Xx(e),new Xx(t)));case G4:case H4:case X4:return I4(+e,+t);case V4:return e.name==t.name&&e.message==t.message;case q4:case Q4:return e==t+"";case K4:var s=F4;case Y4:var l=n&W4;if(s||(s=z4),e.size!=t.size&&!l)return!1;var c=i.get(e);if(c)return c==t;n|=U4,i.set(e,t);var u=B4(s(e),s(t),n,a,o,i);return i.delete(e),u;case Z4:if(hp)return hp.call(e)==hp.call(t)}return!1}var r3=t3;function n3(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var Pj=n3,a3=Pj,o3=hn;function i3(e,t,r){var n=t(e);return o3(e)?n:a3(n,r(e))}var s3=i3;function l3(e,t){for(var r=-1,n=e==null?0:e.length,a=0,o=[];++r<n;){var i=e[r];t(i,r,e)&&(o[a++]=i)}return o}var c3=l3;function u3(){return[]}var f3=u3,d3=c3,h3=f3,p3=Object.prototype,g3=p3.propertyIsEnumerable,Yx=Object.getOwnPropertySymbols,m3=Yx?function(e){return e==null?[]:(e=Object(e),d3(Yx(e),function(t){return g3.call(e,t)}))}:h3,y3=m3;function v3(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var x3=v3,b3=Ya,w3=Qa,k3="[object Arguments]";function S3(e){return w3(e)&&b3(e)==k3}var j3=S3,Qx=j3,O3=Qa,Nj=Object.prototype,_3=Nj.hasOwnProperty,P3=Nj.propertyIsEnumerable,N3=Qx(function(){return arguments}())?Qx:function(e){return O3(e)&&_3.call(e,"callee")&&!P3.call(e,"callee")},ky=N3,Tf={exports:{}};function A3(){return!1}var M3=A3;Tf.exports;(function(e,t){var r=Oa,n=M3,a=t&&!t.nodeType&&t,o=a&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===a,s=i?r.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||n;e.exports=c})(Tf,Tf.exports);var Aj=Tf.exports,C3=9007199254740991,E3=/^(?:0|[1-9]\d*)$/;function T3(e,t){var r=typeof e;return t=t??C3,!!t&&(r=="number"||r!="symbol"&&E3.test(e))&&e>-1&&e%1==0&&e<t}var Sy=T3,$3=9007199254740991;function D3(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=$3}var jy=D3,L3=Ya,R3=jy,I3=Qa,B3="[object Arguments]",F3="[object Array]",z3="[object Boolean]",W3="[object Date]",U3="[object Error]",G3="[object Function]",H3="[object Map]",V3="[object Number]",K3="[object Object]",X3="[object RegExp]",q3="[object Set]",Y3="[object String]",Q3="[object WeakMap]",Z3="[object ArrayBuffer]",J3="[object DataView]",eD="[object Float32Array]",tD="[object Float64Array]",rD="[object Int8Array]",nD="[object Int16Array]",aD="[object Int32Array]",oD="[object Uint8Array]",iD="[object Uint8ClampedArray]",sD="[object Uint16Array]",lD="[object Uint32Array]",It={};It[eD]=It[tD]=It[rD]=It[nD]=It[aD]=It[oD]=It[iD]=It[sD]=It[lD]=!0;It[B3]=It[F3]=It[Z3]=It[z3]=It[J3]=It[W3]=It[U3]=It[G3]=It[H3]=It[V3]=It[K3]=It[X3]=It[q3]=It[Y3]=It[Q3]=!1;function cD(e){return I3(e)&&R3(e.length)&&!!It[L3(e)]}var uD=cD;function fD(e){return function(t){return e(t)}}var Mj=fD,$f={exports:{}};$f.exports;(function(e,t){var r=RS,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===n,i=o&&r.process,s=function(){try{var l=a&&a.require&&a.require("util").types;return l||i&&i.binding&&i.binding("util")}catch{}}();e.exports=s})($f,$f.exports);var dD=$f.exports,hD=uD,pD=Mj,Zx=dD,Jx=Zx&&Zx.isTypedArray,gD=Jx?pD(Jx):hD,Cj=gD,mD=x3,yD=ky,vD=hn,xD=Aj,bD=Sy,wD=Cj,kD=Object.prototype,SD=kD.hasOwnProperty;function jD(e,t){var r=vD(e),n=!r&&yD(e),a=!r&&!n&&xD(e),o=!r&&!n&&!a&&wD(e),i=r||n||a||o,s=i?mD(e.length,String):[],l=s.length;for(var c in e)(t||SD.call(e,c))&&!(i&&(c=="length"||a&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||bD(c,l)))&&s.push(c);return s}var OD=jD,_D=Object.prototype;function PD(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||_D;return e===r}var ND=PD;function AD(e,t){return function(r){return e(t(r))}}var Ej=AD,MD=Ej,CD=MD(Object.keys,Object),ED=CD,TD=ND,$D=ED,DD=Object.prototype,LD=DD.hasOwnProperty;function RD(e){if(!TD(e))return $D(e);var t=[];for(var r in Object(e))LD.call(e,r)&&r!="constructor"&&t.push(r);return t}var ID=RD,BD=iy,FD=jy;function zD(e){return e!=null&&FD(e.length)&&!BD(e)}var Yc=zD,WD=OD,UD=ID,GD=Yc;function HD(e){return GD(e)?WD(e):UD(e)}var ch=HD,VD=s3,KD=y3,XD=ch;function qD(e){return VD(e,XD,KD)}var YD=qD,eb=YD,QD=1,ZD=Object.prototype,JD=ZD.hasOwnProperty;function eL(e,t,r,n,a,o){var i=r&QD,s=eb(e),l=s.length,c=eb(t),u=c.length;if(l!=u&&!i)return!1;for(var f=l;f--;){var h=s[f];if(!(i?h in t:JD.call(t,h)))return!1}var p=o.get(e),m=o.get(t);if(p&&m)return p==t&&m==e;var v=!0;o.set(e,t),o.set(t,e);for(var w=i;++f<l;){h=s[f];var y=e[h],g=t[h];if(n)var x=i?n(g,y,h,t,e,o):n(y,g,h,e,t,o);if(!(x===void 0?y===g||a(y,g,r,n,o):x)){v=!1;break}w||(w=h=="constructor")}if(v&&!w){var S=e.constructor,b=t.constructor;S!=b&&"constructor"in e&&"constructor"in t&&!(typeof S=="function"&&S instanceof S&&typeof b=="function"&&b instanceof b)&&(v=!1)}return o.delete(e),o.delete(t),v}var tL=eL,rL=vi,nL=Oa,aL=rL(nL,"DataView"),oL=aL,iL=vi,sL=Oa,lL=iL(sL,"Promise"),cL=lL,uL=vi,fL=Oa,dL=uL(fL,"Set"),Tj=dL,hL=vi,pL=Oa,gL=hL(pL,"WeakMap"),mL=gL,Z0=oL,J0=ly,eg=cL,tg=Tj,rg=mL,$j=Ya,Vs=BS,tb="[object Map]",yL="[object Object]",rb="[object Promise]",nb="[object Set]",ab="[object WeakMap]",ob="[object DataView]",vL=Vs(Z0),xL=Vs(J0),bL=Vs(eg),wL=Vs(tg),kL=Vs(rg),zo=$j;(Z0&&zo(new Z0(new ArrayBuffer(1)))!=ob||J0&&zo(new J0)!=tb||eg&&zo(eg.resolve())!=rb||tg&&zo(new tg)!=nb||rg&&zo(new rg)!=ab)&&(zo=function(e){var t=$j(e),r=t==yL?e.constructor:void 0,n=r?Vs(r):"";if(n)switch(n){case vL:return ob;case xL:return tb;case bL:return rb;case wL:return nb;case kL:return ab}return t});var SL=zo,pp=kj,jL=_j,OL=r3,_L=tL,ib=SL,sb=hn,lb=Aj,PL=Cj,NL=1,cb="[object Arguments]",ub="[object Array]",Pu="[object Object]",AL=Object.prototype,fb=AL.hasOwnProperty;function ML(e,t,r,n,a,o){var i=sb(e),s=sb(t),l=i?ub:ib(e),c=s?ub:ib(t);l=l==cb?Pu:l,c=c==cb?Pu:c;var u=l==Pu,f=c==Pu,h=l==c;if(h&&lb(e)){if(!lb(t))return!1;i=!0,u=!1}if(h&&!u)return o||(o=new pp),i||PL(e)?jL(e,t,r,n,a,o):OL(e,t,l,r,n,a,o);if(!(r&NL)){var p=u&&fb.call(e,"__wrapped__"),m=f&&fb.call(t,"__wrapped__");if(p||m){var v=p?e.value():e,w=m?t.value():t;return o||(o=new pp),a(v,w,r,n,o)}}return h?(o||(o=new pp),_L(e,t,r,n,a,o)):!1}var CL=ML,EL=CL,db=Qa;function Dj(e,t,r,n,a){return e===t?!0:e==null||t==null||!db(e)&&!db(t)?e!==e&&t!==t:EL(e,t,r,n,Dj,a)}var Oy=Dj,TL=kj,$L=Oy,DL=1,LL=2;function RL(e,t,r,n){var a=r.length,o=a,i=!n;if(e==null)return!o;for(e=Object(e);a--;){var s=r[a];if(i&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<o;){s=r[a];var l=s[0],c=e[l],u=s[1];if(i&&s[2]){if(c===void 0&&!(l in e))return!1}else{var f=new TL;if(n)var h=n(c,u,l,e,t,f);if(!(h===void 0?$L(u,c,DL|LL,n,f):h))return!1}}return!0}var IL=RL,BL=Ao;function FL(e){return e===e&&!BL(e)}var Lj=FL,zL=Lj,WL=ch;function UL(e){for(var t=WL(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,zL(a)]}return t}var GL=UL;function HL(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var Rj=HL,VL=IL,KL=GL,XL=Rj;function qL(e){var t=KL(e);return t.length==1&&t[0][2]?XL(t[0][0],t[0][1]):function(r){return r===e||VL(r,e,t)}}var YL=qL;function QL(e,t){return e!=null&&t in Object(e)}var ZL=QL,JL=GS,eR=ky,tR=hn,rR=Sy,nR=jy,aR=Kd;function oR(e,t,r){t=JL(t,e);for(var n=-1,a=t.length,o=!1;++n<a;){var i=aR(t[n]);if(!(o=e!=null&&r(e,i)))break;e=e[i]}return o||++n!=a?o:(a=e==null?0:e.length,!!a&&nR(a)&&rR(i,a)&&(tR(e)||eR(e)))}var iR=oR,sR=ZL,lR=iR;function cR(e,t){return e!=null&&lR(e,t,sR)}var uR=cR,fR=Oy,dR=HS,hR=uR,pR=oy,gR=Lj,mR=Rj,yR=Kd,vR=1,xR=2;function bR(e,t){return pR(e)&&gR(t)?mR(yR(e),t):function(r){var n=dR(r,e);return n===void 0&&n===t?hR(r,e):fR(t,n,vR|xR)}}var wR=bR;function kR(e){return e}var Ks=kR;function SR(e){return function(t){return t==null?void 0:t[e]}}var jR=SR,OR=dy;function _R(e){return function(t){return OR(t,e)}}var PR=_R,NR=jR,AR=PR,MR=oy,CR=Kd;function ER(e){return MR(e)?NR(CR(e)):AR(e)}var TR=ER,$R=YL,DR=wR,LR=Ks,RR=hn,IR=TR;function BR(e){return typeof e=="function"?e:e==null?LR:typeof e=="object"?RR(e)?DR(e[0],e[1]):$R(e):IR(e)}var Mo=BR;function FR(e,t,r,n){for(var a=e.length,o=r+(n?1:-1);n?o--:++o<a;)if(t(e[o],o,e))return o;return-1}var Ij=FR;function zR(e){return e!==e}var WR=zR;function UR(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var GR=UR,HR=Ij,VR=WR,KR=GR;function XR(e,t,r){return t===t?KR(e,t,r):HR(e,VR,r)}var qR=XR,YR=qR;function QR(e,t){var r=e==null?0:e.length;return!!r&&YR(e,t,0)>-1}var ZR=QR;function JR(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var eI=JR;function tI(){}var rI=tI,gp=Tj,nI=rI,aI=wy,oI=1/0,iI=gp&&1/aI(new gp([,-0]))[1]==oI?function(e){return new gp(e)}:nI,sI=iI,lI=Sj,cI=ZR,uI=eI,fI=Oj,dI=sI,hI=wy,pI=200;function gI(e,t,r){var n=-1,a=cI,o=e.length,i=!0,s=[],l=s;if(r)i=!1,a=uI;else if(o>=pI){var c=t?null:dI(e);if(c)return hI(c);i=!1,a=fI,l=new lI}else l=t?[]:s;e:for(;++n<o;){var u=e[n],f=t?t(u):u;if(u=r||u!==0?u:0,i&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;t&&l.push(f),s.push(u)}else a(l,f,r)||(l!==s&&l.push(f),s.push(u))}return s}var mI=gI,yI=Mo,vI=mI;function xI(e,t){return e&&e.length?vI(e,yI(t)):[]}var bI=xI;const hb=Mt(bI);function Bj(e,t,r){return t===!0?hb(e,r):Ie(t)?hb(e,t):e}function us(e){"@babel/helpers - typeof";return us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},us(e)}var wI=["ref"];function pb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Aa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pb(Object(r),!0).forEach(function(n){uh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zj(n.key),n)}}function SI(e,t,r){return t&&gb(e.prototype,t),r&&gb(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function jI(e,t,r){return t=Df(t),OI(e,Fj()?Reflect.construct(t,r||[],Df(e).constructor):t.apply(e,r))}function OI(e,t){if(t&&(us(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _I(e)}function _I(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fj(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Fj=function(){return!!e})()}function Df(e){return Df=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Df(e)}function PI(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ng(e,t)}function ng(e,t){return ng=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ng(e,t)}function uh(e,t,r){return t=zj(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zj(e){var t=NI(e,"string");return us(t)=="symbol"?t:t+""}function NI(e,t){if(us(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(us(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function AI(e,t){if(e==null)return{};var r=MI(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function MI(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function CI(e){return e.value}function EI(e,t){if(M.isValidElement(e))return M.cloneElement(e,t);if(typeof e=="function")return M.createElement(e,t);t.ref;var r=AI(t,wI);return M.createElement(by,r)}var mb=1,Fa=function(e){function t(){var r;kI(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=jI(this,t,[].concat(a)),uh(r,"lastBoundingBox",{width:-1,height:-1}),r}return PI(t,e),SI(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>mb||Math.abs(a.height-this.lastBoundingBox.height)>mb)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Aa({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,o=a.layout,i=a.align,s=a.verticalAlign,l=a.margin,c=a.chartWidth,u=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(i==="center"&&o==="vertical"){var p=this.getBBoxSnapshot();f={left:((c||0)-p.width)/2}}else f=i==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(s==="middle"){var m=this.getBBoxSnapshot();h={top:((u||0)-m.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Aa(Aa({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,o=a.content,i=a.width,s=a.height,l=a.wrapperStyle,c=a.payloadUniqBy,u=a.payload,f=Aa(Aa({position:"absolute",width:i||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return M.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},EI(o,Aa(Aa({},this.props),{},{payload:Bj(u,c,CI)})))}}],[{key:"getWithHeight",value:function(n,a){var o=Aa(Aa({},this.defaultProps),n.props),i=o.layout;return i==="vertical"&&ie(n.props.height)?{height:n.props.height}:i==="horizontal"?{width:n.props.width||a}:null}}])}(O.PureComponent);uh(Fa,"displayName","Legend");uh(Fa,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var yb=qc,TI=ky,$I=hn,vb=yb?yb.isConcatSpreadable:void 0;function DI(e){return $I(e)||TI(e)||!!(vb&&e&&e[vb])}var LI=DI,RI=Pj,II=LI;function Wj(e,t,r,n,a){var o=-1,i=e.length;for(r||(r=II),a||(a=[]);++o<i;){var s=e[o];t>0&&r(s)?t>1?Wj(s,t-1,r,n,a):RI(a,s):n||(a[a.length]=s)}return a}var Uj=Wj;function BI(e){return function(t,r,n){for(var a=-1,o=Object(t),i=n(t),s=i.length;s--;){var l=i[e?s:++a];if(r(o[l],l,o)===!1)break}return t}}var FI=BI,zI=FI,WI=zI(),UI=WI,GI=UI,HI=ch;function VI(e,t){return e&&GI(e,t,HI)}var Gj=VI,KI=Yc;function XI(e,t){return function(r,n){if(r==null)return r;if(!KI(r))return e(r,n);for(var a=r.length,o=t?a:-1,i=Object(r);(t?o--:++o<a)&&n(i[o],o,i)!==!1;);return r}}var qI=XI,YI=Gj,QI=qI,ZI=QI(YI),_y=ZI,JI=_y,e6=Yc;function t6(e,t){var r=-1,n=e6(e)?Array(e.length):[];return JI(e,function(a,o,i){n[++r]=t(a,o,i)}),n}var Hj=t6;function r6(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var n6=r6,xb=Bs;function a6(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,o=xb(e),i=t!==void 0,s=t===null,l=t===t,c=xb(t);if(!s&&!c&&!o&&e>t||o&&i&&l&&!s&&!c||n&&i&&l||!r&&l||!a)return 1;if(!n&&!o&&!c&&e<t||c&&r&&a&&!n&&!o||s&&r&&a||!i&&a||!l)return-1}return 0}var o6=a6,i6=o6;function s6(e,t,r){for(var n=-1,a=e.criteria,o=t.criteria,i=a.length,s=r.length;++n<i;){var l=i6(a[n],o[n]);if(l){if(n>=s)return l;var c=r[n];return l*(c=="desc"?-1:1)}}return e.index-t.index}var l6=s6,mp=fy,c6=dy,u6=Mo,f6=Hj,d6=n6,h6=Mj,p6=l6,g6=Ks,m6=hn;function y6(e,t,r){t.length?t=mp(t,function(o){return m6(o)?function(i){return c6(i,o.length===1?o[0]:o)}:o}):t=[g6];var n=-1;t=mp(t,h6(u6));var a=f6(e,function(o,i,s){var l=mp(t,function(c){return c(o)});return{criteria:l,index:++n,value:o}});return d6(a,function(o,i){return p6(o,i,r)})}var v6=y6;function x6(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var b6=x6,w6=b6,bb=Math.max;function k6(e,t,r){return t=bb(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,o=bb(n.length-t,0),i=Array(o);++a<o;)i[a]=n[t+a];a=-1;for(var s=Array(t+1);++a<t;)s[a]=n[a];return s[t]=r(i),w6(e,this,s)}}var S6=k6;function j6(e){return function(){return e}}var O6=j6,_6=vi,P6=function(){try{var e=_6(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Vj=P6,N6=O6,wb=Vj,A6=Ks,M6=wb?function(e,t){return wb(e,"toString",{configurable:!0,enumerable:!1,value:N6(t),writable:!0})}:A6,C6=M6,E6=800,T6=16,$6=Date.now;function D6(e){var t=0,r=0;return function(){var n=$6(),a=T6-(n-r);if(r=n,a>0){if(++t>=E6)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var L6=D6,R6=C6,I6=L6,B6=I6(R6),F6=B6,z6=Ks,W6=S6,U6=F6;function G6(e,t){return U6(W6(e,t,z6),e+"")}var H6=G6,V6=sy,K6=Yc,X6=Sy,q6=Ao;function Y6(e,t,r){if(!q6(r))return!1;var n=typeof t;return(n=="number"?K6(r)&&X6(t,r.length):n=="string"&&t in r)?V6(r[t],e):!1}var fh=Y6,Q6=Uj,Z6=v6,J6=H6,kb=fh,eB=J6(function(e,t){if(e==null)return[];var r=t.length;return r>1&&kb(e,t[0],t[1])?t=[]:r>2&&kb(t[0],t[1],t[2])&&(t=[t[0]]),Z6(e,Q6(t,1),[])}),tB=eB;const Py=Mt(tB);function fc(e){"@babel/helpers - typeof";return fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fc(e)}function ag(){return ag=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ag.apply(this,arguments)}function rB(e,t){return iB(e)||oB(e,t)||aB(e,t)||nB()}function nB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aB(e,t){if(e){if(typeof e=="string")return Sb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Sb(e,t)}}function Sb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function oB(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function iB(e){if(Array.isArray(e))return e}function jb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jb(Object(r),!0).forEach(function(n){sB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sB(e,t,r){return t=lB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lB(e){var t=cB(e,"string");return fc(t)=="symbol"?t:t+""}function cB(e,t){if(fc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uB(e){return Array.isArray(e)&&gr(e[0])&&gr(e[1])?e.join(" ~ "):e}var fB=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,o=a===void 0?{}:a,i=t.itemStyle,s=i===void 0?{}:i,l=t.labelStyle,c=l===void 0?{}:l,u=t.payload,f=t.formatter,h=t.itemSorter,p=t.wrapperClassName,m=t.labelClassName,v=t.label,w=t.labelFormatter,y=t.accessibilityLayer,g=y===void 0?!1:y,x=function(){if(u&&u.length){var C={padding:0,margin:0},R=(h?Py(u,h):u).map(function(I,T){if(I.type==="none")return null;var L=yp({display:"block",paddingTop:4,paddingBottom:4,color:I.color||"#000"},s),U=I.formatter||f||uB,D=I.value,z=I.name,W=D,te=z;if(U&&W!=null&&te!=null){var Y=U(D,z,I,T,u);if(Array.isArray(Y)){var X=rB(Y,2);W=X[0],te=X[1]}else W=Y}return M.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(T),style:L},gr(te)?M.createElement("span",{className:"recharts-tooltip-item-name"},te):null,gr(te)?M.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,M.createElement("span",{className:"recharts-tooltip-item-value"},W),M.createElement("span",{className:"recharts-tooltip-item-unit"},I.unit||""))});return M.createElement("ul",{className:"recharts-tooltip-item-list",style:C},R)}return null},S=yp({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),b=yp({margin:0},c),k=!De(v),j=k?v:"",_=tt("recharts-default-tooltip",p),P=tt("recharts-tooltip-label",m);k&&w&&u!==void 0&&u!==null&&(j=w(v,u));var N=g?{role:"status","aria-live":"assertive"}:{};return M.createElement("div",ag({className:_,style:S},N),M.createElement("p",{className:P,style:b},M.isValidElement(j)?j:"".concat(j)),x())};function dc(e){"@babel/helpers - typeof";return dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dc(e)}function Nu(e,t,r){return t=dB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dB(e){var t=hB(e,"string");return dc(t)=="symbol"?t:t+""}function hB(e,t){if(dc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gl="recharts-tooltip-wrapper",pB={visibility:"hidden"};function gB(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return tt(gl,Nu(Nu(Nu(Nu({},"".concat(gl,"-right"),ie(r)&&t&&ie(t.x)&&r>=t.x),"".concat(gl,"-left"),ie(r)&&t&&ie(t.x)&&r<t.x),"".concat(gl,"-bottom"),ie(n)&&t&&ie(t.y)&&n>=t.y),"".concat(gl,"-top"),ie(n)&&t&&ie(t.y)&&n<t.y))}function Ob(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,o=e.position,i=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(o&&ie(o[n]))return o[n];var u=r[n]-s-a,f=r[n]+a;if(t[n])return i[n]?u:f;if(i[n]){var h=u,p=l[n];return h<p?Math.max(f,l[n]):Math.max(u,l[n])}var m=f+s,v=l[n]+c;return m>v?Math.max(u,l[n]):Math.max(f,l[n])}function mB(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function yB(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,o=e.reverseDirection,i=e.tooltipBox,s=e.useTranslate3d,l=e.viewBox,c,u,f;return i.height>0&&i.width>0&&r?(u=Ob({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:o,tooltipDimension:i.width,viewBox:l,viewBoxDimension:l.width}),f=Ob({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:o,tooltipDimension:i.height,viewBox:l,viewBoxDimension:l.height}),c=mB({translateX:u,translateY:f,useTranslate3d:s})):c=pB,{cssProperties:c,cssClasses:gB({translateX:u,translateY:f,coordinate:r})}}function fs(e){"@babel/helpers - typeof";return fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fs(e)}function _b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_b(Object(r),!0).forEach(function(n){ig(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_b(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xB(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Xj(n.key),n)}}function bB(e,t,r){return t&&xB(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function wB(e,t,r){return t=Lf(t),kB(e,Kj()?Reflect.construct(t,r||[],Lf(e).constructor):t.apply(e,r))}function kB(e,t){if(t&&(fs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SB(e)}function SB(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kj(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Kj=function(){return!!e})()}function Lf(e){return Lf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lf(e)}function jB(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&og(e,t)}function og(e,t){return og=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},og(e,t)}function ig(e,t,r){return t=Xj(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xj(e){var t=OB(e,"string");return fs(t)=="symbol"?t:t+""}function OB(e,t){if(fs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Nb=1,_B=function(e){function t(){var r;vB(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=wB(this,t,[].concat(a)),ig(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),ig(r,"handleKeyDown",function(i){if(i.key==="Escape"){var s,l,c,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(c=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),r}return jB(t,e),bB(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>Nb||Math.abs(n.height-this.state.lastBoundingBox.height)>Nb)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,o=a.active,i=a.allowEscapeViewBox,s=a.animationDuration,l=a.animationEasing,c=a.children,u=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,p=a.offset,m=a.position,v=a.reverseDirection,w=a.useTranslate3d,y=a.viewBox,g=a.wrapperStyle,x=yB({allowEscapeViewBox:i,coordinate:u,offsetTopLeft:p,position:m,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:w,viewBox:y}),S=x.cssClasses,b=x.cssProperties,k=Pb(Pb({transition:h&&o?"transform ".concat(s,"ms ").concat(l):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},g);return M.createElement("div",{tabIndex:-1,className:S,style:k,ref:function(_){n.wrapperNode=_}},c)}}])}(O.PureComponent),PB=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Co={isSsr:PB()};function ds(e){"@babel/helpers - typeof";return ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ds(e)}function Ab(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ab(Object(r),!0).forEach(function(n){Ny(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ab(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AB(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Yj(n.key),n)}}function MB(e,t,r){return t&&AB(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function CB(e,t,r){return t=Rf(t),EB(e,qj()?Reflect.construct(t,r||[],Rf(e).constructor):t.apply(e,r))}function EB(e,t){if(t&&(ds(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TB(e)}function TB(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qj(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qj=function(){return!!e})()}function Rf(e){return Rf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rf(e)}function $B(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sg(e,t)}function sg(e,t){return sg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},sg(e,t)}function Ny(e,t,r){return t=Yj(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yj(e){var t=DB(e,"string");return ds(t)=="symbol"?t:t+""}function DB(e,t){if(ds(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ds(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function LB(e){return e.dataKey}function RB(e,t){return M.isValidElement(e)?M.cloneElement(e,t):typeof e=="function"?M.createElement(e,t):M.createElement(fB,t)}var qr=function(e){function t(){return NB(this,t),CB(this,t,arguments)}return $B(t,e),MB(t,[{key:"render",value:function(){var n=this,a=this.props,o=a.active,i=a.allowEscapeViewBox,s=a.animationDuration,l=a.animationEasing,c=a.content,u=a.coordinate,f=a.filterNull,h=a.isAnimationActive,p=a.offset,m=a.payload,v=a.payloadUniqBy,w=a.position,y=a.reverseDirection,g=a.useTranslate3d,x=a.viewBox,S=a.wrapperStyle,b=m??[];f&&b.length&&(b=Bj(m.filter(function(j){return j.value!=null&&(j.hide!==!0||n.props.includeHidden)}),v,LB));var k=b.length>0;return M.createElement(_B,{allowEscapeViewBox:i,animationDuration:s,animationEasing:l,isAnimationActive:h,active:o,coordinate:u,hasPayload:k,offset:p,position:w,reverseDirection:y,useTranslate3d:g,viewBox:x,wrapperStyle:S},RB(c,Mb(Mb({},this.props),{},{payload:b})))}}])}(O.PureComponent);Ny(qr,"displayName","Tooltip");Ny(qr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Co.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var IB=Oa,BB=function(){return IB.Date.now()},FB=BB,zB=/\s/;function WB(e){for(var t=e.length;t--&&zB.test(e.charAt(t)););return t}var UB=WB,GB=UB,HB=/^\s+/;function VB(e){return e&&e.slice(0,GB(e)+1).replace(HB,"")}var KB=VB,XB=KB,Cb=Ao,qB=Bs,Eb=NaN,YB=/^[-+]0x[0-9a-f]+$/i,QB=/^0b[01]+$/i,ZB=/^0o[0-7]+$/i,JB=parseInt;function e8(e){if(typeof e=="number")return e;if(qB(e))return Eb;if(Cb(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Cb(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=XB(e);var r=QB.test(e);return r||ZB.test(e)?JB(e.slice(2),r?2:8):YB.test(e)?Eb:+e}var Qj=e8,t8=Ao,vp=FB,Tb=Qj,r8="Expected a function",n8=Math.max,a8=Math.min;function o8(e,t,r){var n,a,o,i,s,l,c=0,u=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(r8);t=Tb(t)||0,t8(r)&&(u=!!r.leading,f="maxWait"in r,o=f?n8(Tb(r.maxWait)||0,t):o,h="trailing"in r?!!r.trailing:h);function p(k){var j=n,_=a;return n=a=void 0,c=k,i=e.apply(_,j),i}function m(k){return c=k,s=setTimeout(y,t),u?p(k):i}function v(k){var j=k-l,_=k-c,P=t-j;return f?a8(P,o-_):P}function w(k){var j=k-l,_=k-c;return l===void 0||j>=t||j<0||f&&_>=o}function y(){var k=vp();if(w(k))return g(k);s=setTimeout(y,v(k))}function g(k){return s=void 0,h&&n?p(k):(n=a=void 0,i)}function x(){s!==void 0&&clearTimeout(s),c=0,n=l=a=s=void 0}function S(){return s===void 0?i:g(vp())}function b(){var k=vp(),j=w(k);if(n=arguments,a=this,l=k,j){if(s===void 0)return m(l);if(f)return clearTimeout(s),s=setTimeout(y,t),p(l)}return s===void 0&&(s=setTimeout(y,t)),i}return b.cancel=x,b.flush=S,b}var i8=o8,s8=i8,l8=Ao,c8="Expected a function";function u8(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(c8);return l8(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),s8(e,t,{leading:n,maxWait:t,trailing:a})}var f8=u8;const Zj=Mt(f8);function hc(e){"@babel/helpers - typeof";return hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hc(e)}function $b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Au(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$b(Object(r),!0).forEach(function(n){d8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$b(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function d8(e,t,r){return t=h8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h8(e){var t=p8(e,"string");return hc(t)=="symbol"?t:t+""}function p8(e,t){if(hc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function g8(e,t){return x8(e)||v8(e,t)||y8(e,t)||m8()}function m8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y8(e,t){if(e){if(typeof e=="string")return Db(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Db(e,t)}}function Db(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function v8(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function x8(e){if(Array.isArray(e))return e}var hs=O.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,o=e.width,i=o===void 0?"100%":o,s=e.height,l=s===void 0?"100%":s,c=e.minWidth,u=c===void 0?0:c,f=e.minHeight,h=e.maxHeight,p=e.children,m=e.debounce,v=m===void 0?0:m,w=e.id,y=e.className,g=e.onResize,x=e.style,S=x===void 0?{}:x,b=O.useRef(null),k=O.useRef();k.current=g,O.useImperativeHandle(t,function(){return Object.defineProperty(b.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),b.current},configurable:!0})});var j=O.useState({containerWidth:a.width,containerHeight:a.height}),_=g8(j,2),P=_[0],N=_[1],A=O.useCallback(function(R,I){N(function(T){var L=Math.round(R),U=Math.round(I);return T.containerWidth===L&&T.containerHeight===U?T:{containerWidth:L,containerHeight:U}})},[]);O.useEffect(function(){var R=function(z){var W,te=z[0].contentRect,Y=te.width,X=te.height;A(Y,X),(W=k.current)===null||W===void 0||W.call(k,Y,X)};v>0&&(R=Zj(R,v,{trailing:!0,leading:!1}));var I=new ResizeObserver(R),T=b.current.getBoundingClientRect(),L=T.width,U=T.height;return A(L,U),I.observe(b.current),function(){I.disconnect()}},[A,v]);var C=O.useMemo(function(){var R=P.containerWidth,I=P.containerHeight;if(R<0||I<0)return null;Ba(Vo(i)||Vo(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,l),Ba(!r||r>0,"The aspect(%s) must be greater than zero.",r);var T=Vo(i)?R:i,L=Vo(l)?I:l;r&&r>0&&(T?L=T/r:L&&(T=L*r),h&&L>h&&(L=h)),Ba(T>0||L>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,T,L,i,l,u,f,r);var U=!Array.isArray(p)&&Ia(p.type).endsWith("Chart");return M.Children.map(p,function(D){return M.isValidElement(D)?O.cloneElement(D,Au({width:T,height:L},U?{style:Au({height:"100%",width:"100%",maxHeight:L,maxWidth:T},D.props.style)}:{})):D})},[r,p,l,h,f,u,P,i]);return M.createElement("div",{id:w?"".concat(w):void 0,className:tt("recharts-responsive-container",y),style:Au(Au({},S),{},{width:i,height:l,minWidth:u,minHeight:f,maxHeight:h}),ref:b},C)}),Ay=function(t){return null};Ay.displayName="Cell";function pc(e){"@babel/helpers - typeof";return pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pc(e)}function Lb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lb(Object(r),!0).forEach(function(n){b8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function b8(e,t,r){return t=w8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w8(e){var t=k8(e,"string");return pc(t)=="symbol"?t:t+""}function k8(e,t){if(pc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pi={widthCache:{},cacheCount:0},S8=2e3,j8={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Rb="recharts_measurement_span";function O8(e){var t=lg({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Il=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Co.isSsr)return{width:0,height:0};var n=O8(r),a=JSON.stringify({text:t,copyStyle:n});if(Pi.widthCache[a])return Pi.widthCache[a];try{var o=document.getElementById(Rb);o||(o=document.createElement("span"),o.setAttribute("id",Rb),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var i=lg(lg({},j8),n);Object.assign(o.style,i),o.textContent="".concat(t);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return Pi.widthCache[a]=l,++Pi.cacheCount>S8&&(Pi.cacheCount=0,Pi.widthCache={}),l}catch{return{width:0,height:0}}},_8=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function gc(e){"@babel/helpers - typeof";return gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gc(e)}function If(e,t){return M8(e)||A8(e,t)||N8(e,t)||P8()}function P8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N8(e,t){if(e){if(typeof e=="string")return Ib(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ib(e,t)}}function Ib(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function A8(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function M8(e){if(Array.isArray(e))return e}function C8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,T8(n.key),n)}}function E8(e,t,r){return t&&Bb(e.prototype,t),r&&Bb(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function T8(e){var t=$8(e,"string");return gc(t)=="symbol"?t:t+""}function $8(e,t){if(gc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Fb=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,zb=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,D8=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,L8=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Jj={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},R8=Object.keys(Jj),Ui="NaN";function I8(e,t){return e*Jj[t]}var Mu=function(){function e(t,r){C8(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!D8.test(r)&&(this.num=NaN,this.unit=""),R8.includes(r)&&(this.num=I8(t,r),this.unit="px")}return E8(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=L8.exec(r))!==null&&n!==void 0?n:[],o=If(a,3),i=o[1],s=o[2];return new e(parseFloat(i),s??"")}}])}();function eO(e){if(e.includes(Ui))return Ui;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=Fb.exec(t))!==null&&r!==void 0?r:[],a=If(n,4),o=a[1],i=a[2],s=a[3],l=Mu.parse(o??""),c=Mu.parse(s??""),u=i==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return Ui;t=t.replace(Fb,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=zb.exec(t))!==null&&f!==void 0?f:[],p=If(h,4),m=p[1],v=p[2],w=p[3],y=Mu.parse(m??""),g=Mu.parse(w??""),x=v==="+"?y.add(g):y.subtract(g);if(x.isNaN())return Ui;t=t.replace(zb,x.toString())}return t}var Wb=/\(([^()]*)\)/;function B8(e){for(var t=e;t.includes("(");){var r=Wb.exec(t),n=If(r,2),a=n[1];t=t.replace(Wb,eO(a))}return t}function F8(e){var t=e.replace(/\s+/g,"");return t=B8(t),t=eO(t),t}function z8(e){try{return F8(e)}catch{return Ui}}function xp(e){var t=z8(e.slice(5,-1));return t===Ui?"":t}var W8=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],U8=["dx","dy","angle","className","breakAll"];function cg(){return cg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cg.apply(this,arguments)}function Ub(e,t){if(e==null)return{};var r=G8(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function G8(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Gb(e,t){return X8(e)||K8(e,t)||V8(e,t)||H8()}function H8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V8(e,t){if(e){if(typeof e=="string")return Hb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Hb(e,t)}}function Hb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function K8(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function X8(e){if(Array.isArray(e))return e}var tO=/[ \f\n\r\t\v\u2028\u2029]+/,rO=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var o=[];De(r)||(n?o=r.toString().split(""):o=r.toString().split(tO));var i=o.map(function(l){return{word:l,width:Il(l,a).width}}),s=n?0:Il("",a).width;return{wordsWithComputedWidth:i,spaceWidth:s}}catch{return null}},q8=function(t,r,n,a,o){var i=t.maxLines,s=t.children,l=t.style,c=t.breakAll,u=ie(i),f=s,h=function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return T.reduce(function(L,U){var D=U.word,z=U.width,W=L[L.length-1];if(W&&(a==null||o||W.width+z+n<Number(a)))W.words.push(D),W.width+=z+n;else{var te={words:[D],width:z};L.push(te)}return L},[])},p=h(r),m=function(T){return T.reduce(function(L,U){return L.width>U.width?L:U})};if(!u)return p;for(var v="",w=function(T){var L=f.slice(0,T),U=rO({breakAll:c,style:l,children:L+v}).wordsWithComputedWidth,D=h(U),z=D.length>i||m(D).width>Number(a);return[z,D]},y=0,g=f.length-1,x=0,S;y<=g&&x<=f.length-1;){var b=Math.floor((y+g)/2),k=b-1,j=w(k),_=Gb(j,2),P=_[0],N=_[1],A=w(b),C=Gb(A,1),R=C[0];if(!P&&!R&&(y=b+1),P&&R&&(g=b-1),!P&&R){S=N;break}x++}return S||p},Vb=function(t){var r=De(t)?[]:t.toString().split(tO);return[{words:r}]},Y8=function(t){var r=t.width,n=t.scaleToFit,a=t.children,o=t.style,i=t.breakAll,s=t.maxLines;if((r||n)&&!Co.isSsr){var l,c,u=rO({breakAll:i,children:a,style:o});if(u){var f=u.wordsWithComputedWidth,h=u.spaceWidth;l=f,c=h}else return Vb(a);return q8({breakAll:i,children:a,maxLines:s,style:o},l,c,r,n)}return Vb(a)},Kb="#808080",Bf=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,o=a===void 0?0:a,i=t.lineHeight,s=i===void 0?"1em":i,l=t.capHeight,c=l===void 0?"0.71em":l,u=t.scaleToFit,f=u===void 0?!1:u,h=t.textAnchor,p=h===void 0?"start":h,m=t.verticalAnchor,v=m===void 0?"end":m,w=t.fill,y=w===void 0?Kb:w,g=Ub(t,W8),x=O.useMemo(function(){return Y8({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:f,style:g.style,width:g.width})},[g.breakAll,g.children,g.maxLines,f,g.style,g.width]),S=g.dx,b=g.dy,k=g.angle,j=g.className,_=g.breakAll,P=Ub(g,U8);if(!gr(n)||!gr(o))return null;var N=n+(ie(S)?S:0),A=o+(ie(b)?b:0),C;switch(v){case"start":C=xp("calc(".concat(c,")"));break;case"middle":C=xp("calc(".concat((x.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:C=xp("calc(".concat(x.length-1," * -").concat(s,")"));break}var R=[];if(f){var I=x[0].width,T=g.width;R.push("scale(".concat((ie(T)?T/I:1)/I,")"))}return k&&R.push("rotate(".concat(k,", ").concat(N,", ").concat(A,")")),R.length&&(P.transform=R.join(" ")),M.createElement("text",cg({},Re(P,!0),{x:N,y:A,className:tt("recharts-text",j),textAnchor:p,fill:y.includes("url")?Kb:y}),x.map(function(L,U){var D=L.words.join(_?"":" ");return M.createElement("tspan",{x:N,dy:U===0?C:s,key:"".concat(D,"-").concat(U)},D)}))};function So(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Q8(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function My(e){let t,r,n;e.length!==2?(t=So,r=(s,l)=>So(e(s),l),n=(s,l)=>e(s)-l):(t=e===So||e===Q8?e:Z8,r=e,n=e);function a(s,l,c=0,u=s.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;r(s[f],l)<0?c=f+1:u=f}while(c<u)}return c}function o(s,l,c=0,u=s.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;r(s[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function i(s,l,c=0,u=s.length){const f=a(s,l,c,u-1);return f>c&&n(s[f-1],l)>-n(s[f],l)?f-1:f}return{left:a,center:i,right:o}}function Z8(){return 0}function nO(e){return e===null?NaN:+e}function*J8(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const eF=My(So),Qc=eF.right;My(nO).center;class Xb extends Map{constructor(t,r=nF){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(qb(this,t))}has(t){return super.has(qb(this,t))}set(t,r){return super.set(tF(this,t),r)}delete(t){return super.delete(rF(this,t))}}function qb({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function tF({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function rF({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function nF(e){return e!==null&&typeof e=="object"?e.valueOf():e}function aF(e=So){if(e===So)return aO;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function aO(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const oF=Math.sqrt(50),iF=Math.sqrt(10),sF=Math.sqrt(2);function Ff(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),o=n/Math.pow(10,a),i=o>=oF?10:o>=iF?5:o>=sF?2:1;let s,l,c;return a<0?(c=Math.pow(10,-a)/i,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*i,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=r&&r<2?Ff(e,t,r*2):[s,l,c]}function ug(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,o,i]=n?Ff(t,e,r):Ff(e,t,r);if(!(o>=a))return[];const s=o-a+1,l=new Array(s);if(n)if(i<0)for(let c=0;c<s;++c)l[c]=(o-c)/-i;else for(let c=0;c<s;++c)l[c]=(o-c)*i;else if(i<0)for(let c=0;c<s;++c)l[c]=(a+c)/-i;else for(let c=0;c<s;++c)l[c]=(a+c)*i;return l}function fg(e,t,r){return t=+t,e=+e,r=+r,Ff(e,t,r)[2]}function dg(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?fg(t,e,r):fg(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function Yb(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function Qb(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function oO(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?aO:aF(a);n>r;){if(n-r>600){const l=n-r+1,c=t-r+1,u=Math.log(l),f=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),p=Math.max(r,Math.floor(t-c*f/l+h)),m=Math.min(n,Math.floor(t+(l-c)*f/l+h));oO(e,t,p,m,a)}const o=e[t];let i=r,s=n;for(ml(e,r,t),a(e[n],o)>0&&ml(e,r,n);i<s;){for(ml(e,i,s),++i,--s;a(e[i],o)<0;)++i;for(;a(e[s],o)>0;)--s}a(e[r],o)===0?ml(e,r,s):(++s,ml(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function ml(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function lF(e,t,r){if(e=Float64Array.from(J8(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return Qb(e);if(t>=1)return Yb(e);var n,a=(n-1)*t,o=Math.floor(a),i=Yb(oO(e,o).subarray(0,o+1)),s=Qb(e.subarray(o+1));return i+(s-i)*(a-o)}}function cF(e,t,r=nO){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,o=Math.floor(a),i=+r(e[o],o,e),s=+r(e[o+1],o+1,e);return i+(s-i)*(a-o)}}function uF(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,o=new Array(a);++n<a;)o[n]=e+n*r;return o}function Gn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Za(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const hg=Symbol("implicit");function Cy(){var e=new Xb,t=[],r=[],n=hg;function a(o){let i=e.get(o);if(i===void 0){if(n!==hg)return n;e.set(o,i=t.push(o)-1)}return r[i%r.length]}return a.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new Xb;for(const i of o)e.has(i)||e.set(i,t.push(i)-1);return a},a.range=function(o){return arguments.length?(r=Array.from(o),a):r.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return Cy(t,r).unknown(n)},Gn.apply(a,arguments),a}function mc(){var e=Cy().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,o,i,s=!1,l=0,c=0,u=.5;delete e.unknown;function f(){var h=t().length,p=a<n,m=p?a:n,v=p?n:a;o=(v-m)/Math.max(1,h-l+c*2),s&&(o=Math.floor(o)),m+=(v-m-o*(h-l))*u,i=o*(1-l),s&&(m=Math.round(m),i=Math.round(i));var w=uF(h).map(function(y){return m+o*y});return r(p?w.reverse():w)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,s=!0,f()},e.bandwidth=function(){return i},e.step=function(){return o},e.round=function(h){return arguments.length?(s=!!h,f()):s},e.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},e.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),f()):u},e.copy=function(){return mc(t(),[n,a]).round(s).paddingInner(l).paddingOuter(c).align(u)},Gn.apply(f(),arguments)}function iO(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return iO(t())},e}function Bl(){return iO(mc.apply(null,arguments).paddingInner(1))}function Ey(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function sO(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Zc(){}var yc=.7,zf=1/yc,Ji="\\s*([+-]?\\d+)\\s*",vc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ba="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",fF=/^#([0-9a-f]{3,8})$/,dF=new RegExp(`^rgb\\(${Ji},${Ji},${Ji}\\)$`),hF=new RegExp(`^rgb\\(${ba},${ba},${ba}\\)$`),pF=new RegExp(`^rgba\\(${Ji},${Ji},${Ji},${vc}\\)$`),gF=new RegExp(`^rgba\\(${ba},${ba},${ba},${vc}\\)$`),mF=new RegExp(`^hsl\\(${vc},${ba},${ba}\\)$`),yF=new RegExp(`^hsla\\(${vc},${ba},${ba},${vc}\\)$`),Zb={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ey(Zc,xc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Jb,formatHex:Jb,formatHex8:vF,formatHsl:xF,formatRgb:e1,toString:e1});function Jb(){return this.rgb().formatHex()}function vF(){return this.rgb().formatHex8()}function xF(){return lO(this).formatHsl()}function e1(){return this.rgb().formatRgb()}function xc(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=fF.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?t1(t):r===3?new ln(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Cu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Cu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=dF.exec(e))?new ln(t[1],t[2],t[3],1):(t=hF.exec(e))?new ln(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=pF.exec(e))?Cu(t[1],t[2],t[3],t[4]):(t=gF.exec(e))?Cu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=mF.exec(e))?a1(t[1],t[2]/100,t[3]/100,1):(t=yF.exec(e))?a1(t[1],t[2]/100,t[3]/100,t[4]):Zb.hasOwnProperty(e)?t1(Zb[e]):e==="transparent"?new ln(NaN,NaN,NaN,0):null}function t1(e){return new ln(e>>16&255,e>>8&255,e&255,1)}function Cu(e,t,r,n){return n<=0&&(e=t=r=NaN),new ln(e,t,r,n)}function bF(e){return e instanceof Zc||(e=xc(e)),e?(e=e.rgb(),new ln(e.r,e.g,e.b,e.opacity)):new ln}function pg(e,t,r,n){return arguments.length===1?bF(e):new ln(e,t,r,n??1)}function ln(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Ey(ln,pg,sO(Zc,{brighter(e){return e=e==null?zf:Math.pow(zf,e),new ln(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?yc:Math.pow(yc,e),new ln(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ln(ti(this.r),ti(this.g),ti(this.b),Wf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:r1,formatHex:r1,formatHex8:wF,formatRgb:n1,toString:n1}));function r1(){return`#${Ko(this.r)}${Ko(this.g)}${Ko(this.b)}`}function wF(){return`#${Ko(this.r)}${Ko(this.g)}${Ko(this.b)}${Ko((isNaN(this.opacity)?1:this.opacity)*255)}`}function n1(){const e=Wf(this.opacity);return`${e===1?"rgb(":"rgba("}${ti(this.r)}, ${ti(this.g)}, ${ti(this.b)}${e===1?")":`, ${e})`}`}function Wf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ti(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ko(e){return e=ti(e),(e<16?"0":"")+e.toString(16)}function a1(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ra(e,t,r,n)}function lO(e){if(e instanceof ra)return new ra(e.h,e.s,e.l,e.opacity);if(e instanceof Zc||(e=xc(e)),!e)return new ra;if(e instanceof ra)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),o=Math.max(t,r,n),i=NaN,s=o-a,l=(o+a)/2;return s?(t===o?i=(r-n)/s+(r<n)*6:r===o?i=(n-t)/s+2:i=(t-r)/s+4,s/=l<.5?o+a:2-o-a,i*=60):s=l>0&&l<1?0:i,new ra(i,s,l,e.opacity)}function kF(e,t,r,n){return arguments.length===1?lO(e):new ra(e,t,r,n??1)}function ra(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Ey(ra,kF,sO(Zc,{brighter(e){return e=e==null?zf:Math.pow(zf,e),new ra(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?yc:Math.pow(yc,e),new ra(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new ln(bp(e>=240?e-240:e+120,a,n),bp(e,a,n),bp(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new ra(o1(this.h),Eu(this.s),Eu(this.l),Wf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Wf(this.opacity);return`${e===1?"hsl(":"hsla("}${o1(this.h)}, ${Eu(this.s)*100}%, ${Eu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function o1(e){return e=(e||0)%360,e<0?e+360:e}function Eu(e){return Math.max(0,Math.min(1,e||0))}function bp(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Ty=e=>()=>e;function SF(e,t){return function(r){return e+r*t}}function jF(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function OF(e){return(e=+e)==1?cO:function(t,r){return r-t?jF(t,r,e):Ty(isNaN(t)?r:t)}}function cO(e,t){var r=t-e;return r?SF(e,r):Ty(isNaN(e)?t:e)}const i1=function e(t){var r=OF(t);function n(a,o){var i=r((a=pg(a)).r,(o=pg(o)).r),s=r(a.g,o.g),l=r(a.b,o.b),c=cO(a.opacity,o.opacity);return function(u){return a.r=i(u),a.g=s(u),a.b=l(u),a.opacity=c(u),a+""}}return n.gamma=e,n}(1);function _F(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(o){for(a=0;a<r;++a)n[a]=e[a]*(1-o)+t[a]*o;return n}}function PF(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function NF(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),o=new Array(r),i;for(i=0;i<n;++i)a[i]=Xs(e[i],t[i]);for(;i<r;++i)o[i]=t[i];return function(s){for(i=0;i<n;++i)o[i]=a[i](s);return o}}function AF(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Uf(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function MF(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Xs(e[a],t[a]):n[a]=t[a];return function(o){for(a in r)n[a]=r[a](o);return n}}var gg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,wp=new RegExp(gg.source,"g");function CF(e){return function(){return e}}function EF(e){return function(t){return e(t)+""}}function TF(e,t){var r=gg.lastIndex=wp.lastIndex=0,n,a,o,i=-1,s=[],l=[];for(e=e+"",t=t+"";(n=gg.exec(e))&&(a=wp.exec(t));)(o=a.index)>r&&(o=t.slice(r,o),s[i]?s[i]+=o:s[++i]=o),(n=n[0])===(a=a[0])?s[i]?s[i]+=a:s[++i]=a:(s[++i]=null,l.push({i,x:Uf(n,a)})),r=wp.lastIndex;return r<t.length&&(o=t.slice(r),s[i]?s[i]+=o:s[++i]=o),s.length<2?l[0]?EF(l[0].x):CF(t):(t=l.length,function(c){for(var u=0,f;u<t;++u)s[(f=l[u]).i]=f.x(c);return s.join("")})}function Xs(e,t){var r=typeof t,n;return t==null||r==="boolean"?Ty(t):(r==="number"?Uf:r==="string"?(n=xc(t))?(t=n,i1):TF:t instanceof xc?i1:t instanceof Date?AF:PF(t)?_F:Array.isArray(t)?NF:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?MF:Uf)(e,t)}function $y(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function $F(e,t){t===void 0&&(t=e,e=Xs);for(var r=0,n=t.length-1,a=t[0],o=new Array(n<0?0:n);r<n;)o[r]=e(a,a=t[++r]);return function(i){var s=Math.max(0,Math.min(n-1,Math.floor(i*=n)));return o[s](i-s)}}function DF(e){return function(){return e}}function Gf(e){return+e}var s1=[0,1];function Yr(e){return e}function mg(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:DF(isNaN(t)?NaN:.5)}function LF(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function RF(e,t,r){var n=e[0],a=e[1],o=t[0],i=t[1];return a<n?(n=mg(a,n),o=r(i,o)):(n=mg(n,a),o=r(o,i)),function(s){return o(n(s))}}function IF(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),o=new Array(n),i=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<n;)a[i]=mg(e[i],e[i+1]),o[i]=r(t[i],t[i+1]);return function(s){var l=Qc(e,s,1,n)-1;return o[l](a[l](s))}}function Jc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function dh(){var e=s1,t=s1,r=Xs,n,a,o,i=Yr,s,l,c;function u(){var h=Math.min(e.length,t.length);return i!==Yr&&(i=LF(e[0],e[h-1])),s=h>2?IF:RF,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?o:(l||(l=s(e.map(n),t,r)))(n(i(h)))}return f.invert=function(h){return i(a((c||(c=s(t,e.map(n),Uf)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Gf),u()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),u()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=$y,u()},f.clamp=function(h){return arguments.length?(i=h?!0:Yr,u()):i!==Yr},f.interpolate=function(h){return arguments.length?(r=h,u()):r},f.unknown=function(h){return arguments.length?(o=h,f):o},function(h,p){return n=h,a=p,u()}}function Dy(){return dh()(Yr,Yr)}function BF(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Hf(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function ps(e){return e=Hf(Math.abs(e)),e?e[1]:NaN}function FF(e,t){return function(r,n){for(var a=r.length,o=[],i=0,s=e[0],l=0;a>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),o.push(r.substring(a-=s,a+s)),!((l+=s+1)>n));)s=e[i=(i+1)%e.length];return o.reverse().join(t)}}function zF(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var WF=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function bc(e){if(!(t=WF.exec(e)))throw new Error("invalid format: "+e);var t;return new Ly({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}bc.prototype=Ly.prototype;function Ly(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Ly.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function UF(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var uO;function GF(e,t){var r=Hf(e,t);if(!r)return e+"";var n=r[0],a=r[1],o=a-(uO=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=n.length;return o===i?n:o>i?n+new Array(o-i+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+Hf(e,Math.max(0,t+o-1))[0]}function l1(e,t){var r=Hf(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const c1={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:BF,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>l1(e*100,t),r:l1,s:GF,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function u1(e){return e}var f1=Array.prototype.map,d1=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function HF(e){var t=e.grouping===void 0||e.thousands===void 0?u1:FF(f1.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?u1:zF(f1.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f){f=bc(f);var h=f.fill,p=f.align,m=f.sign,v=f.symbol,w=f.zero,y=f.width,g=f.comma,x=f.precision,S=f.trim,b=f.type;b==="n"?(g=!0,b="g"):c1[b]||(x===void 0&&(x=12),S=!0,b="g"),(w||h==="0"&&p==="=")&&(w=!0,h="0",p="=");var k=v==="$"?r:v==="#"&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",j=v==="$"?n:/[%p]/.test(b)?i:"",_=c1[b],P=/[defgprs%]/.test(b);x=x===void 0?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function N(A){var C=k,R=j,I,T,L;if(b==="c")R=_(A)+R,A="";else{A=+A;var U=A<0||1/A<0;if(A=isNaN(A)?l:_(Math.abs(A),x),S&&(A=UF(A)),U&&+A==0&&m!=="+"&&(U=!1),C=(U?m==="("?m:s:m==="-"||m==="("?"":m)+C,R=(b==="s"?d1[8+uO/3]:"")+R+(U&&m==="("?")":""),P){for(I=-1,T=A.length;++I<T;)if(L=A.charCodeAt(I),48>L||L>57){R=(L===46?a+A.slice(I+1):A.slice(I))+R,A=A.slice(0,I);break}}}g&&!w&&(A=t(A,1/0));var D=C.length+A.length+R.length,z=D<y?new Array(y-D+1).join(h):"";switch(g&&w&&(A=t(z+A,z.length?y-R.length:1/0),z=""),p){case"<":A=C+A+R+z;break;case"=":A=C+z+A+R;break;case"^":A=z.slice(0,D=z.length>>1)+C+A+R+z.slice(D);break;default:A=z+C+A+R;break}return o(A)}return N.toString=function(){return f+""},N}function u(f,h){var p=c((f=bc(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(ps(h)/3)))*3,v=Math.pow(10,-m),w=d1[8+m/3];return function(y){return p(v*y)+w}}return{format:c,formatPrefix:u}}var Tu,Ry,fO;VF({thousands:",",grouping:[3],currency:["$",""]});function VF(e){return Tu=HF(e),Ry=Tu.format,fO=Tu.formatPrefix,Tu}function KF(e){return Math.max(0,-ps(Math.abs(e)))}function XF(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ps(t)/3)))*3-ps(Math.abs(e)))}function qF(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ps(t)-ps(e))+1}function dO(e,t,r,n){var a=dg(e,t,r),o;switch(n=bc(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(o=XF(a,i))&&(n.precision=o),fO(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=qF(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=KF(a))&&(n.precision=o-(n.type==="%")*2);break}}return Ry(n)}function Eo(e){var t=e.domain;return e.ticks=function(r){var n=t();return ug(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return dO(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,o=n.length-1,i=n[a],s=n[o],l,c,u=10;for(s<i&&(c=i,i=s,s=c,c=a,a=o,o=c);u-- >0;){if(c=fg(i,s,r),c===l)return n[a]=i,n[o]=s,t(n);if(c>0)i=Math.floor(i/c)*c,s=Math.ceil(s/c)*c;else if(c<0)i=Math.ceil(i*c)/c,s=Math.floor(s*c)/c;else break;l=c}return e},e}function Vf(){var e=Dy();return e.copy=function(){return Jc(e,Vf())},Gn.apply(e,arguments),Eo(e)}function hO(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Gf),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return hO(e).unknown(t)},e=arguments.length?Array.from(e,Gf):[0,1],Eo(r)}function pO(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],o=e[n],i;return o<a&&(i=r,r=n,n=i,i=a,a=o,o=i),e[r]=t.floor(a),e[n]=t.ceil(o),e}function h1(e){return Math.log(e)}function p1(e){return Math.exp(e)}function YF(e){return-Math.log(-e)}function QF(e){return-Math.exp(-e)}function ZF(e){return isFinite(e)?+("1e"+e):e<0?0:e}function JF(e){return e===10?ZF:e===Math.E?Math.exp:t=>Math.pow(e,t)}function ez(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function g1(e){return(t,r)=>-e(-t,r)}function Iy(e){const t=e(h1,p1),r=t.domain;let n=10,a,o;function i(){return a=ez(n),o=JF(n),r()[0]<0?(a=g1(a),o=g1(o),e(YF,QF)):e(h1,p1),t}return t.base=function(s){return arguments.length?(n=+s,i()):n},t.domain=function(s){return arguments.length?(r(s),i()):r()},t.ticks=s=>{const l=r();let c=l[0],u=l[l.length-1];const f=u<c;f&&([c,u]=[u,c]);let h=a(c),p=a(u),m,v;const w=s==null?10:+s;let y=[];if(!(n%1)&&p-h<w){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(m=1;m<n;++m)if(v=h<0?m/o(-h):m*o(h),!(v<c)){if(v>u)break;y.push(v)}}else for(;h<=p;++h)for(m=n-1;m>=1;--m)if(v=h>0?m/o(-h):m*o(h),!(v<c)){if(v>u)break;y.push(v)}y.length*2<w&&(y=ug(c,u,w))}else y=ug(h,p,Math.min(p-h,w)).map(o);return f?y.reverse():y},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=bc(l)).precision==null&&(l.trim=!0),l=Ry(l)),s===1/0)return l;const c=Math.max(1,n*s/t.ticks().length);return u=>{let f=u/o(Math.round(a(u)));return f*n<n-.5&&(f*=n),f<=c?l(u):""}},t.nice=()=>r(pO(r(),{floor:s=>o(Math.floor(a(s))),ceil:s=>o(Math.ceil(a(s)))})),t}function gO(){const e=Iy(dh()).domain([1,10]);return e.copy=()=>Jc(e,gO()).base(e.base()),Gn.apply(e,arguments),e}function m1(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function y1(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function By(e){var t=1,r=e(m1(t),y1(t));return r.constant=function(n){return arguments.length?e(m1(t=+n),y1(t)):t},Eo(r)}function mO(){var e=By(dh());return e.copy=function(){return Jc(e,mO()).constant(e.constant())},Gn.apply(e,arguments)}function v1(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function tz(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function rz(e){return e<0?-e*e:e*e}function Fy(e){var t=e(Yr,Yr),r=1;function n(){return r===1?e(Yr,Yr):r===.5?e(tz,rz):e(v1(r),v1(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Eo(t)}function zy(){var e=Fy(dh());return e.copy=function(){return Jc(e,zy()).exponent(e.exponent())},Gn.apply(e,arguments),e}function nz(){return zy.apply(null,arguments).exponent(.5)}function x1(e){return Math.sign(e)*e*e}function az(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function yO(){var e=Dy(),t=[0,1],r=!1,n;function a(o){var i=az(e(o));return isNaN(i)?n:r?Math.round(i):i}return a.invert=function(o){return e.invert(x1(o))},a.domain=function(o){return arguments.length?(e.domain(o),a):e.domain()},a.range=function(o){return arguments.length?(e.range((t=Array.from(o,Gf)).map(x1)),a):t.slice()},a.rangeRound=function(o){return a.range(o).round(!0)},a.round=function(o){return arguments.length?(r=!!o,a):r},a.clamp=function(o){return arguments.length?(e.clamp(o),a):e.clamp()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return yO(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Gn.apply(a,arguments),Eo(a)}function vO(){var e=[],t=[],r=[],n;function a(){var i=0,s=Math.max(1,t.length);for(r=new Array(s-1);++i<s;)r[i-1]=cF(e,i/s);return o}function o(i){return i==null||isNaN(i=+i)?n:t[Qc(r,i)]}return o.invertExtent=function(i){var s=t.indexOf(i);return s<0?[NaN,NaN]:[s>0?r[s-1]:e[0],s<r.length?r[s]:e[e.length-1]]},o.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let s of i)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(So),a()},o.range=function(i){return arguments.length?(t=Array.from(i),a()):t.slice()},o.unknown=function(i){return arguments.length?(n=i,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return vO().domain(e).range(t).unknown(n)},Gn.apply(o,arguments)}function xO(){var e=0,t=1,r=1,n=[.5],a=[0,1],o;function i(l){return l!=null&&l<=l?a[Qc(n,l,0,r)]:o}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return i}return i.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},i.range=function(l){return arguments.length?(r=(a=Array.from(l)).length-1,s()):a.slice()},i.invertExtent=function(l){var c=a.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},i.unknown=function(l){return arguments.length&&(o=l),i},i.thresholds=function(){return n.slice()},i.copy=function(){return xO().domain([e,t]).range(a).unknown(o)},Gn.apply(Eo(i),arguments)}function bO(){var e=[.5],t=[0,1],r,n=1;function a(o){return o!=null&&o<=o?t[Qc(e,o,0,n)]:r}return a.domain=function(o){return arguments.length?(e=Array.from(o),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(o){return arguments.length?(t=Array.from(o),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(o){var i=t.indexOf(o);return[e[i-1],e[i]]},a.unknown=function(o){return arguments.length?(r=o,a):r},a.copy=function(){return bO().domain(e).range(t).unknown(r)},Gn.apply(a,arguments)}const kp=new Date,Sp=new Date;function yr(e,t,r,n){function a(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return a.floor=o=>(e(o=new Date(+o)),o),a.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),a.round=o=>{const i=a(o),s=a.ceil(o);return o-i<s-o?i:s},a.offset=(o,i)=>(t(o=new Date(+o),i==null?1:Math.floor(i)),o),a.range=(o,i,s)=>{const l=[];if(o=a.ceil(o),s=s==null?1:Math.floor(s),!(o<i)||!(s>0))return l;let c;do l.push(c=new Date(+o)),t(o,s),e(o);while(c<o&&o<i);return l},a.filter=o=>yr(i=>{if(i>=i)for(;e(i),!o(i);)i.setTime(i-1)},(i,s)=>{if(i>=i)if(s<0)for(;++s<=0;)for(;t(i,-1),!o(i););else for(;--s>=0;)for(;t(i,1),!o(i););}),r&&(a.count=(o,i)=>(kp.setTime(+o),Sp.setTime(+i),e(kp),e(Sp),Math.floor(r(kp,Sp))),a.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?a.filter(n?i=>n(i)%o===0:i=>a.count(0,i)%o===0):a)),a}const Kf=yr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Kf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?yr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Kf);Kf.range;const $a=1e3,Ln=$a*60,Da=Ln*60,Va=Da*24,Wy=Va*7,b1=Va*30,jp=Va*365,Xo=yr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*$a)},(e,t)=>(t-e)/$a,e=>e.getUTCSeconds());Xo.range;const Uy=yr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*$a)},(e,t)=>{e.setTime(+e+t*Ln)},(e,t)=>(t-e)/Ln,e=>e.getMinutes());Uy.range;const Gy=yr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ln)},(e,t)=>(t-e)/Ln,e=>e.getUTCMinutes());Gy.range;const Hy=yr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*$a-e.getMinutes()*Ln)},(e,t)=>{e.setTime(+e+t*Da)},(e,t)=>(t-e)/Da,e=>e.getHours());Hy.range;const Vy=yr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Da)},(e,t)=>(t-e)/Da,e=>e.getUTCHours());Vy.range;const eu=yr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ln)/Va,e=>e.getDate()-1);eu.range;const hh=yr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Va,e=>e.getUTCDate()-1);hh.range;const wO=yr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Va,e=>Math.floor(e/Va));wO.range;function bi(e){return yr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Ln)/Wy)}const ph=bi(0),Xf=bi(1),oz=bi(2),iz=bi(3),gs=bi(4),sz=bi(5),lz=bi(6);ph.range;Xf.range;oz.range;iz.range;gs.range;sz.range;lz.range;function wi(e){return yr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Wy)}const gh=wi(0),qf=wi(1),cz=wi(2),uz=wi(3),ms=wi(4),fz=wi(5),dz=wi(6);gh.range;qf.range;cz.range;uz.range;ms.range;fz.range;dz.range;const Ky=yr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Ky.range;const Xy=yr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Xy.range;const Ka=yr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ka.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:yr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Ka.range;const Xa=yr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Xa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:yr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Xa.range;function kO(e,t,r,n,a,o){const i=[[Xo,1,$a],[Xo,5,5*$a],[Xo,15,15*$a],[Xo,30,30*$a],[o,1,Ln],[o,5,5*Ln],[o,15,15*Ln],[o,30,30*Ln],[a,1,Da],[a,3,3*Da],[a,6,6*Da],[a,12,12*Da],[n,1,Va],[n,2,2*Va],[r,1,Wy],[t,1,b1],[t,3,3*b1],[e,1,jp]];function s(c,u,f){const h=u<c;h&&([c,u]=[u,c]);const p=f&&typeof f.range=="function"?f:l(c,u,f),m=p?p.range(c,+u+1):[];return h?m.reverse():m}function l(c,u,f){const h=Math.abs(u-c)/f,p=My(([,,w])=>w).right(i,h);if(p===i.length)return e.every(dg(c/jp,u/jp,f));if(p===0)return Kf.every(Math.max(dg(c,u,f),1));const[m,v]=i[h/i[p-1][2]<i[p][2]/h?p-1:p];return m.every(v)}return[s,l]}const[hz,pz]=kO(Xa,Xy,gh,wO,Vy,Gy),[gz,mz]=kO(Ka,Ky,ph,eu,Hy,Uy);function Op(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function _p(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function yl(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function yz(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,o=e.days,i=e.shortDays,s=e.months,l=e.shortMonths,c=vl(a),u=xl(a),f=vl(o),h=xl(o),p=vl(i),m=xl(i),v=vl(s),w=xl(s),y=vl(l),g=xl(l),x={a:U,A:D,b:z,B:W,c:null,d:_1,e:_1,f:Fz,g:Yz,G:Zz,H:Rz,I:Iz,j:Bz,L:SO,m:zz,M:Wz,p:te,q:Y,Q:A1,s:M1,S:Uz,u:Gz,U:Hz,V:Vz,w:Kz,W:Xz,x:null,X:null,y:qz,Y:Qz,Z:Jz,"%":N1},S={a:X,A:F,b:ue,B:fe,c:null,d:P1,e:P1,f:n9,g:h9,G:g9,H:e9,I:t9,j:r9,L:OO,m:a9,M:o9,p:Se,q:ce,Q:A1,s:M1,S:i9,u:s9,U:l9,V:c9,w:u9,W:f9,x:null,X:null,y:d9,Y:p9,Z:m9,"%":N1},b={a:N,A,b:C,B:R,c:I,d:j1,e:j1,f:Tz,g:S1,G:k1,H:O1,I:O1,j:Az,L:Ez,m:Nz,M:Mz,p:P,q:Pz,Q:Dz,s:Lz,S:Cz,u:kz,U:Sz,V:jz,w:wz,W:Oz,x:T,X:L,y:S1,Y:k1,Z:_z,"%":$z};x.x=k(r,x),x.X=k(n,x),x.c=k(t,x),S.x=k(r,S),S.X=k(n,S),S.c=k(t,S);function k(J,de){return function(ve){var q=[],Ye=-1,we=0,lt=J.length,ze,gt,cr;for(ve instanceof Date||(ve=new Date(+ve));++Ye<lt;)J.charCodeAt(Ye)===37&&(q.push(J.slice(we,Ye)),(gt=w1[ze=J.charAt(++Ye)])!=null?ze=J.charAt(++Ye):gt=ze==="e"?" ":"0",(cr=de[ze])&&(ze=cr(ve,gt)),q.push(ze),we=Ye+1);return q.push(J.slice(we,Ye)),q.join("")}}function j(J,de){return function(ve){var q=yl(1900,void 0,1),Ye=_(q,J,ve+="",0),we,lt;if(Ye!=ve.length)return null;if("Q"in q)return new Date(q.Q);if("s"in q)return new Date(q.s*1e3+("L"in q?q.L:0));if(de&&!("Z"in q)&&(q.Z=0),"p"in q&&(q.H=q.H%12+q.p*12),q.m===void 0&&(q.m="q"in q?q.q:0),"V"in q){if(q.V<1||q.V>53)return null;"w"in q||(q.w=1),"Z"in q?(we=_p(yl(q.y,0,1)),lt=we.getUTCDay(),we=lt>4||lt===0?qf.ceil(we):qf(we),we=hh.offset(we,(q.V-1)*7),q.y=we.getUTCFullYear(),q.m=we.getUTCMonth(),q.d=we.getUTCDate()+(q.w+6)%7):(we=Op(yl(q.y,0,1)),lt=we.getDay(),we=lt>4||lt===0?Xf.ceil(we):Xf(we),we=eu.offset(we,(q.V-1)*7),q.y=we.getFullYear(),q.m=we.getMonth(),q.d=we.getDate()+(q.w+6)%7)}else("W"in q||"U"in q)&&("w"in q||(q.w="u"in q?q.u%7:"W"in q?1:0),lt="Z"in q?_p(yl(q.y,0,1)).getUTCDay():Op(yl(q.y,0,1)).getDay(),q.m=0,q.d="W"in q?(q.w+6)%7+q.W*7-(lt+5)%7:q.w+q.U*7-(lt+6)%7);return"Z"in q?(q.H+=q.Z/100|0,q.M+=q.Z%100,_p(q)):Op(q)}}function _(J,de,ve,q){for(var Ye=0,we=de.length,lt=ve.length,ze,gt;Ye<we;){if(q>=lt)return-1;if(ze=de.charCodeAt(Ye++),ze===37){if(ze=de.charAt(Ye++),gt=b[ze in w1?de.charAt(Ye++):ze],!gt||(q=gt(J,ve,q))<0)return-1}else if(ze!=ve.charCodeAt(q++))return-1}return q}function P(J,de,ve){var q=c.exec(de.slice(ve));return q?(J.p=u.get(q[0].toLowerCase()),ve+q[0].length):-1}function N(J,de,ve){var q=p.exec(de.slice(ve));return q?(J.w=m.get(q[0].toLowerCase()),ve+q[0].length):-1}function A(J,de,ve){var q=f.exec(de.slice(ve));return q?(J.w=h.get(q[0].toLowerCase()),ve+q[0].length):-1}function C(J,de,ve){var q=y.exec(de.slice(ve));return q?(J.m=g.get(q[0].toLowerCase()),ve+q[0].length):-1}function R(J,de,ve){var q=v.exec(de.slice(ve));return q?(J.m=w.get(q[0].toLowerCase()),ve+q[0].length):-1}function I(J,de,ve){return _(J,t,de,ve)}function T(J,de,ve){return _(J,r,de,ve)}function L(J,de,ve){return _(J,n,de,ve)}function U(J){return i[J.getDay()]}function D(J){return o[J.getDay()]}function z(J){return l[J.getMonth()]}function W(J){return s[J.getMonth()]}function te(J){return a[+(J.getHours()>=12)]}function Y(J){return 1+~~(J.getMonth()/3)}function X(J){return i[J.getUTCDay()]}function F(J){return o[J.getUTCDay()]}function ue(J){return l[J.getUTCMonth()]}function fe(J){return s[J.getUTCMonth()]}function Se(J){return a[+(J.getUTCHours()>=12)]}function ce(J){return 1+~~(J.getUTCMonth()/3)}return{format:function(J){var de=k(J+="",x);return de.toString=function(){return J},de},parse:function(J){var de=j(J+="",!1);return de.toString=function(){return J},de},utcFormat:function(J){var de=k(J+="",S);return de.toString=function(){return J},de},utcParse:function(J){var de=j(J+="",!0);return de.toString=function(){return J},de}}}var w1={"-":"",_:" ",0:"0"},jr=/^\s*\d+/,vz=/^%/,xz=/[\\^$*+?|[\]().{}]/g;function ut(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",o=a.length;return n+(o<r?new Array(r-o+1).join(t)+a:a)}function bz(e){return e.replace(xz,"\\$&")}function vl(e){return new RegExp("^(?:"+e.map(bz).join("|")+")","i")}function xl(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function wz(e,t,r){var n=jr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function kz(e,t,r){var n=jr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Sz(e,t,r){var n=jr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function jz(e,t,r){var n=jr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Oz(e,t,r){var n=jr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function k1(e,t,r){var n=jr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function S1(e,t,r){var n=jr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function _z(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Pz(e,t,r){var n=jr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Nz(e,t,r){var n=jr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function j1(e,t,r){var n=jr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Az(e,t,r){var n=jr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function O1(e,t,r){var n=jr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Mz(e,t,r){var n=jr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Cz(e,t,r){var n=jr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Ez(e,t,r){var n=jr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Tz(e,t,r){var n=jr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function $z(e,t,r){var n=vz.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Dz(e,t,r){var n=jr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Lz(e,t,r){var n=jr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function _1(e,t){return ut(e.getDate(),t,2)}function Rz(e,t){return ut(e.getHours(),t,2)}function Iz(e,t){return ut(e.getHours()%12||12,t,2)}function Bz(e,t){return ut(1+eu.count(Ka(e),e),t,3)}function SO(e,t){return ut(e.getMilliseconds(),t,3)}function Fz(e,t){return SO(e,t)+"000"}function zz(e,t){return ut(e.getMonth()+1,t,2)}function Wz(e,t){return ut(e.getMinutes(),t,2)}function Uz(e,t){return ut(e.getSeconds(),t,2)}function Gz(e){var t=e.getDay();return t===0?7:t}function Hz(e,t){return ut(ph.count(Ka(e)-1,e),t,2)}function jO(e){var t=e.getDay();return t>=4||t===0?gs(e):gs.ceil(e)}function Vz(e,t){return e=jO(e),ut(gs.count(Ka(e),e)+(Ka(e).getDay()===4),t,2)}function Kz(e){return e.getDay()}function Xz(e,t){return ut(Xf.count(Ka(e)-1,e),t,2)}function qz(e,t){return ut(e.getFullYear()%100,t,2)}function Yz(e,t){return e=jO(e),ut(e.getFullYear()%100,t,2)}function Qz(e,t){return ut(e.getFullYear()%1e4,t,4)}function Zz(e,t){var r=e.getDay();return e=r>=4||r===0?gs(e):gs.ceil(e),ut(e.getFullYear()%1e4,t,4)}function Jz(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ut(t/60|0,"0",2)+ut(t%60,"0",2)}function P1(e,t){return ut(e.getUTCDate(),t,2)}function e9(e,t){return ut(e.getUTCHours(),t,2)}function t9(e,t){return ut(e.getUTCHours()%12||12,t,2)}function r9(e,t){return ut(1+hh.count(Xa(e),e),t,3)}function OO(e,t){return ut(e.getUTCMilliseconds(),t,3)}function n9(e,t){return OO(e,t)+"000"}function a9(e,t){return ut(e.getUTCMonth()+1,t,2)}function o9(e,t){return ut(e.getUTCMinutes(),t,2)}function i9(e,t){return ut(e.getUTCSeconds(),t,2)}function s9(e){var t=e.getUTCDay();return t===0?7:t}function l9(e,t){return ut(gh.count(Xa(e)-1,e),t,2)}function _O(e){var t=e.getUTCDay();return t>=4||t===0?ms(e):ms.ceil(e)}function c9(e,t){return e=_O(e),ut(ms.count(Xa(e),e)+(Xa(e).getUTCDay()===4),t,2)}function u9(e){return e.getUTCDay()}function f9(e,t){return ut(qf.count(Xa(e)-1,e),t,2)}function d9(e,t){return ut(e.getUTCFullYear()%100,t,2)}function h9(e,t){return e=_O(e),ut(e.getUTCFullYear()%100,t,2)}function p9(e,t){return ut(e.getUTCFullYear()%1e4,t,4)}function g9(e,t){var r=e.getUTCDay();return e=r>=4||r===0?ms(e):ms.ceil(e),ut(e.getUTCFullYear()%1e4,t,4)}function m9(){return"+0000"}function N1(){return"%"}function A1(e){return+e}function M1(e){return Math.floor(+e/1e3)}var Ni,PO,NO;y9({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function y9(e){return Ni=yz(e),PO=Ni.format,Ni.parse,NO=Ni.utcFormat,Ni.utcParse,Ni}function v9(e){return new Date(e)}function x9(e){return e instanceof Date?+e:+new Date(+e)}function qy(e,t,r,n,a,o,i,s,l,c){var u=Dy(),f=u.invert,h=u.domain,p=c(".%L"),m=c(":%S"),v=c("%I:%M"),w=c("%I %p"),y=c("%a %d"),g=c("%b %d"),x=c("%B"),S=c("%Y");function b(k){return(l(k)<k?p:s(k)<k?m:i(k)<k?v:o(k)<k?w:n(k)<k?a(k)<k?y:g:r(k)<k?x:S)(k)}return u.invert=function(k){return new Date(f(k))},u.domain=function(k){return arguments.length?h(Array.from(k,x9)):h().map(v9)},u.ticks=function(k){var j=h();return e(j[0],j[j.length-1],k??10)},u.tickFormat=function(k,j){return j==null?b:c(j)},u.nice=function(k){var j=h();return(!k||typeof k.range!="function")&&(k=t(j[0],j[j.length-1],k??10)),k?h(pO(j,k)):u},u.copy=function(){return Jc(u,qy(e,t,r,n,a,o,i,s,l,c))},u}function b9(){return Gn.apply(qy(gz,mz,Ka,Ky,ph,eu,Hy,Uy,Xo,PO).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function w9(){return Gn.apply(qy(hz,pz,Xa,Xy,gh,hh,Vy,Gy,Xo,NO).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function mh(){var e=0,t=1,r,n,a,o,i=Yr,s=!1,l;function c(f){return f==null||isNaN(f=+f)?l:i(a===0?.5:(f=(o(f)-r)*a,s?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([e,t]=f,r=o(e=+e),n=o(t=+t),a=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(f){return arguments.length?(s=!!f,c):s},c.interpolator=function(f){return arguments.length?(i=f,c):i};function u(f){return function(h){var p,m;return arguments.length?([p,m]=h,i=f(p,m),c):[i(0),i(1)]}}return c.range=u(Xs),c.rangeRound=u($y),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return o=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),c}}function To(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function AO(){var e=Eo(mh()(Yr));return e.copy=function(){return To(e,AO())},Za.apply(e,arguments)}function MO(){var e=Iy(mh()).domain([1,10]);return e.copy=function(){return To(e,MO()).base(e.base())},Za.apply(e,arguments)}function CO(){var e=By(mh());return e.copy=function(){return To(e,CO()).constant(e.constant())},Za.apply(e,arguments)}function Yy(){var e=Fy(mh());return e.copy=function(){return To(e,Yy()).exponent(e.exponent())},Za.apply(e,arguments)}function k9(){return Yy.apply(null,arguments).exponent(.5)}function EO(){var e=[],t=Yr;function r(n){if(n!=null&&!isNaN(n=+n))return t((Qc(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(So),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,o)=>lF(e,o/n))},r.copy=function(){return EO(t).domain(e)},Za.apply(r,arguments)}function yh(){var e=0,t=.5,r=1,n=1,a,o,i,s,l,c=Yr,u,f=!1,h;function p(v){return isNaN(v=+v)?h:(v=.5+((v=+u(v))-o)*(n*v<n*o?s:l),c(f?Math.max(0,Math.min(1,v)):v))}p.domain=function(v){return arguments.length?([e,t,r]=v,a=u(e=+e),o=u(t=+t),i=u(r=+r),s=a===o?0:.5/(o-a),l=o===i?0:.5/(i-o),n=o<a?-1:1,p):[e,t,r]},p.clamp=function(v){return arguments.length?(f=!!v,p):f},p.interpolator=function(v){return arguments.length?(c=v,p):c};function m(v){return function(w){var y,g,x;return arguments.length?([y,g,x]=w,c=$F(v,[y,g,x]),p):[c(0),c(.5),c(1)]}}return p.range=m(Xs),p.rangeRound=m($y),p.unknown=function(v){return arguments.length?(h=v,p):h},function(v){return u=v,a=v(e),o=v(t),i=v(r),s=a===o?0:.5/(o-a),l=o===i?0:.5/(i-o),n=o<a?-1:1,p}}function TO(){var e=Eo(yh()(Yr));return e.copy=function(){return To(e,TO())},Za.apply(e,arguments)}function $O(){var e=Iy(yh()).domain([.1,1,10]);return e.copy=function(){return To(e,$O()).base(e.base())},Za.apply(e,arguments)}function DO(){var e=By(yh());return e.copy=function(){return To(e,DO()).constant(e.constant())},Za.apply(e,arguments)}function Qy(){var e=Fy(yh());return e.copy=function(){return To(e,Qy()).exponent(e.exponent())},Za.apply(e,arguments)}function S9(){return Qy.apply(null,arguments).exponent(.5)}const C1=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:mc,scaleDiverging:TO,scaleDivergingLog:$O,scaleDivergingPow:Qy,scaleDivergingSqrt:S9,scaleDivergingSymlog:DO,scaleIdentity:hO,scaleImplicit:hg,scaleLinear:Vf,scaleLog:gO,scaleOrdinal:Cy,scalePoint:Bl,scalePow:zy,scaleQuantile:vO,scaleQuantize:xO,scaleRadial:yO,scaleSequential:AO,scaleSequentialLog:MO,scaleSequentialPow:Yy,scaleSequentialQuantile:EO,scaleSequentialSqrt:k9,scaleSequentialSymlog:CO,scaleSqrt:nz,scaleSymlog:mO,scaleThreshold:bO,scaleTime:b9,scaleUtc:w9,tickFormat:dO},Symbol.toStringTag,{value:"Module"}));var j9=Bs;function O9(e,t,r){for(var n=-1,a=e.length;++n<a;){var o=e[n],i=t(o);if(i!=null&&(s===void 0?i===i&&!j9(i):r(i,s)))var s=i,l=o}return l}var LO=O9;function _9(e,t){return e>t}var P9=_9,N9=LO,A9=P9,M9=Ks;function C9(e){return e&&e.length?N9(e,M9,A9):void 0}var E9=C9;const fo=Mt(E9);function T9(e,t){return e<t}var $9=T9,D9=LO,L9=$9,R9=Ks;function I9(e){return e&&e.length?D9(e,R9,L9):void 0}var B9=I9;const vh=Mt(B9);var F9=fy,z9=Mo,W9=Hj,U9=hn;function G9(e,t){var r=U9(e)?F9:W9;return r(e,z9(t))}var H9=G9,V9=Uj,K9=H9;function X9(e,t){return V9(K9(e,t),1)}var q9=X9;const Y9=Mt(q9);var Q9=Oy;function Z9(e,t){return Q9(e,t)}var J9=Z9;const fi=Mt(J9);var qs=1e9,e7={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Jy,Ut=!0,Wn="[DecimalError] ",ri=Wn+"Invalid argument: ",Zy=Wn+"Exponent out of range: ",Ys=Math.floor,Wo=Math.pow,t7=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,xn,wr=1e7,Bt=7,RO=9007199254740991,Yf=Ys(RO/Bt),ge={};ge.absoluteValue=ge.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ge.comparedTo=ge.cmp=function(e){var t,r,n,a,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(n=o.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return n===a?0:n>a^o.s<0?1:-1};ge.decimalPlaces=ge.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Bt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ge.dividedBy=ge.div=function(e){return za(this,new this.constructor(e))};ge.dividedToIntegerBy=ge.idiv=function(e){var t=this,r=t.constructor;return At(za(t,new r(e),0,1),r.precision)};ge.equals=ge.eq=function(e){return!this.cmp(e)};ge.exponent=function(){return lr(this)};ge.greaterThan=ge.gt=function(e){return this.cmp(e)>0};ge.greaterThanOrEqualTo=ge.gte=function(e){return this.cmp(e)>=0};ge.isInteger=ge.isint=function(){return this.e>this.d.length-2};ge.isNegative=ge.isneg=function(){return this.s<0};ge.isPositive=ge.ispos=function(){return this.s>0};ge.isZero=function(){return this.s===0};ge.lessThan=ge.lt=function(e){return this.cmp(e)<0};ge.lessThanOrEqualTo=ge.lte=function(e){return this.cmp(e)<1};ge.logarithm=ge.log=function(e){var t,r=this,n=r.constructor,a=n.precision,o=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(xn))throw Error(Wn+"NaN");if(r.s<1)throw Error(Wn+(r.s?"NaN":"-Infinity"));return r.eq(xn)?new n(0):(Ut=!1,t=za(wc(r,o),wc(e,o),o),Ut=!0,At(t,a))};ge.minus=ge.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?FO(t,e):IO(t,(e.s=-e.s,e))};ge.modulo=ge.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Wn+"NaN");return r.s?(Ut=!1,t=za(r,e,0,1).times(e),Ut=!0,r.minus(t)):At(new n(r),a)};ge.naturalExponential=ge.exp=function(){return BO(this)};ge.naturalLogarithm=ge.ln=function(){return wc(this)};ge.negated=ge.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ge.plus=ge.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?IO(t,e):FO(t,(e.s=-e.s,e))};ge.precision=ge.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ri+e);if(t=lr(a)+1,n=a.d.length-1,r=n*Bt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ge.squareRoot=ge.sqrt=function(){var e,t,r,n,a,o,i,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Wn+"NaN")}for(e=lr(s),Ut=!1,a=Math.sqrt(+s),a==0||a==1/0?(t=ma(s.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Ys((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(a.toString()),r=l.precision,a=i=r+3;;)if(o=n,n=o.plus(za(s,o,i+2)).times(.5),ma(o.d).slice(0,i)===(t=ma(n.d)).slice(0,i)){if(t=t.slice(i-3,i+1),a==i&&t=="4999"){if(At(o,r+1,0),o.times(o).eq(s)){n=o;break}}else if(t!="9999")break;i+=4}return Ut=!0,At(n,r)};ge.times=ge.mul=function(e){var t,r,n,a,o,i,s,l,c,u=this,f=u.constructor,h=u.d,p=(e=new f(e)).d;if(!u.s||!e.s)return new f(0);for(e.s*=u.s,r=u.e+e.e,l=h.length,c=p.length,l<c&&(o=h,h=p,p=o,i=l,l=c,c=i),o=[],i=l+c,n=i;n--;)o.push(0);for(n=c;--n>=0;){for(t=0,a=l+n;a>n;)s=o[a]+p[n]*h[a-n-1]+t,o[a--]=s%wr|0,t=s/wr|0;o[a]=(o[a]+t)%wr|0}for(;!o[--i];)o.pop();return t?++r:o.shift(),e.d=o,e.e=r,Ut?At(e,f.precision):e};ge.toDecimalPlaces=ge.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Sa(e,0,qs),t===void 0?t=n.rounding:Sa(t,0,8),At(r,e+lr(r)+1,t))};ge.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=di(n,!0):(Sa(e,0,qs),t===void 0?t=a.rounding:Sa(t,0,8),n=At(new a(n),e+1,t),r=di(n,!0,e+1)),r};ge.toFixed=function(e,t){var r,n,a=this,o=a.constructor;return e===void 0?di(a):(Sa(e,0,qs),t===void 0?t=o.rounding:Sa(t,0,8),n=At(new o(a),e+lr(a)+1,t),r=di(n.abs(),!1,e+lr(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};ge.toInteger=ge.toint=function(){var e=this,t=e.constructor;return At(new t(e),lr(e)+1,t.rounding)};ge.toNumber=function(){return+this};ge.toPower=ge.pow=function(e){var t,r,n,a,o,i,s=this,l=s.constructor,c=12,u=+(e=new l(e));if(!e.s)return new l(xn);if(s=new l(s),!s.s){if(e.s<1)throw Error(Wn+"Infinity");return s}if(s.eq(xn))return s;if(n=l.precision,e.eq(xn))return At(s,n);if(t=e.e,r=e.d.length-1,i=t>=r,o=s.s,i){if((r=u<0?-u:u)<=RO){for(a=new l(xn),t=Math.ceil(n/Bt+4),Ut=!1;r%2&&(a=a.times(s),T1(a.d,t)),r=Ys(r/2),r!==0;)s=s.times(s),T1(s.d,t);return Ut=!0,e.s<0?new l(xn).div(a):At(a,n)}}else if(o<0)throw Error(Wn+"NaN");return o=o<0&&e.d[Math.max(t,r)]&1?-1:1,s.s=1,Ut=!1,a=e.times(wc(s,n+c)),Ut=!0,a=BO(a),a.s=o,a};ge.toPrecision=function(e,t){var r,n,a=this,o=a.constructor;return e===void 0?(r=lr(a),n=di(a,r<=o.toExpNeg||r>=o.toExpPos)):(Sa(e,1,qs),t===void 0?t=o.rounding:Sa(t,0,8),a=At(new o(a),e,t),r=lr(a),n=di(a,e<=r||r<=o.toExpNeg,e)),n};ge.toSignificantDigits=ge.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Sa(e,1,qs),t===void 0?t=n.rounding:Sa(t,0,8)),At(new n(r),e,t)};ge.toString=ge.valueOf=ge.val=ge.toJSON=ge[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=lr(e),r=e.constructor;return di(e,t<=r.toExpNeg||t>=r.toExpPos)};function IO(e,t){var r,n,a,o,i,s,l,c,u=e.constructor,f=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),Ut?At(t,f):t;if(l=e.d,c=t.d,i=e.e,a=t.e,l=l.slice(),o=i-a,o){for(o<0?(n=l,o=-o,s=c.length):(n=c,a=i,s=l.length),i=Math.ceil(f/Bt),s=i>s?i+1:s+1,o>s&&(o=s,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(s=l.length,o=c.length,s-o<0&&(o=s,n=c,c=l,l=n),r=0;o;)r=(l[--o]=l[o]+c[o]+r)/wr|0,l[o]%=wr;for(r&&(l.unshift(r),++a),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=a,Ut?At(t,f):t}function Sa(e,t,r){if(e!==~~e||e<t||e>r)throw Error(ri+e)}function ma(e){var t,r,n,a=e.length-1,o="",i=e[0];if(a>0){for(o+=i,t=1;t<a;t++)n=e[t]+"",r=Bt-n.length,r&&(o+=oo(r)),o+=n;i=e[t],n=i+"",r=Bt-n.length,r&&(o+=oo(r))}else if(i===0)return"0";for(;i%10===0;)i/=10;return o+i}var za=function(){function e(n,a){var o,i=0,s=n.length;for(n=n.slice();s--;)o=n[s]*a+i,n[s]=o%wr|0,i=o/wr|0;return i&&n.unshift(i),n}function t(n,a,o,i){var s,l;if(o!=i)l=o>i?1:-1;else for(s=l=0;s<o;s++)if(n[s]!=a[s]){l=n[s]>a[s]?1:-1;break}return l}function r(n,a,o){for(var i=0;o--;)n[o]-=i,i=n[o]<a[o]?1:0,n[o]=i*wr+n[o]-a[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,o,i){var s,l,c,u,f,h,p,m,v,w,y,g,x,S,b,k,j,_,P=n.constructor,N=n.s==a.s?1:-1,A=n.d,C=a.d;if(!n.s)return new P(n);if(!a.s)throw Error(Wn+"Division by zero");for(l=n.e-a.e,j=C.length,b=A.length,p=new P(N),m=p.d=[],c=0;C[c]==(A[c]||0);)++c;if(C[c]>(A[c]||0)&&--l,o==null?g=o=P.precision:i?g=o+(lr(n)-lr(a))+1:g=o,g<0)return new P(0);if(g=g/Bt+2|0,c=0,j==1)for(u=0,C=C[0],g++;(c<b||u)&&g--;c++)x=u*wr+(A[c]||0),m[c]=x/C|0,u=x%C|0;else{for(u=wr/(C[0]+1)|0,u>1&&(C=e(C,u),A=e(A,u),j=C.length,b=A.length),S=j,v=A.slice(0,j),w=v.length;w<j;)v[w++]=0;_=C.slice(),_.unshift(0),k=C[0],C[1]>=wr/2&&++k;do u=0,s=t(C,v,j,w),s<0?(y=v[0],j!=w&&(y=y*wr+(v[1]||0)),u=y/k|0,u>1?(u>=wr&&(u=wr-1),f=e(C,u),h=f.length,w=v.length,s=t(f,v,h,w),s==1&&(u--,r(f,j<h?_:C,h))):(u==0&&(s=u=1),f=C.slice()),h=f.length,h<w&&f.unshift(0),r(v,f,w),s==-1&&(w=v.length,s=t(C,v,j,w),s<1&&(u++,r(v,j<w?_:C,w))),w=v.length):s===0&&(u++,v=[0]),m[c++]=u,s&&v[0]?v[w++]=A[S]||0:(v=[A[S]],w=1);while((S++<b||v[0]!==void 0)&&g--)}return m[0]||m.shift(),p.e=l,At(p,i?o+lr(p)+1:o)}}();function BO(e,t){var r,n,a,o,i,s,l=0,c=0,u=e.constructor,f=u.precision;if(lr(e)>16)throw Error(Zy+lr(e));if(!e.s)return new u(xn);for(Ut=!1,s=f,i=new u(.03125);e.abs().gte(.1);)e=e.times(i),c+=5;for(n=Math.log(Wo(2,c))/Math.LN10*2+5|0,s+=n,r=a=o=new u(xn),u.precision=s;;){if(a=At(a.times(e),s),r=r.times(++l),i=o.plus(za(a,r,s)),ma(i.d).slice(0,s)===ma(o.d).slice(0,s)){for(;c--;)o=At(o.times(o),s);return u.precision=f,t==null?(Ut=!0,At(o,f)):o}o=i}}function lr(e){for(var t=e.e*Bt,r=e.d[0];r>=10;r/=10)t++;return t}function Pp(e,t,r){if(t>e.LN10.sd())throw Ut=!0,r&&(e.precision=r),Error(Wn+"LN10 precision limit exceeded");return At(new e(e.LN10),t)}function oo(e){for(var t="";e--;)t+="0";return t}function wc(e,t){var r,n,a,o,i,s,l,c,u,f=1,h=10,p=e,m=p.d,v=p.constructor,w=v.precision;if(p.s<1)throw Error(Wn+(p.s?"NaN":"-Infinity"));if(p.eq(xn))return new v(0);if(t==null?(Ut=!1,c=w):c=t,p.eq(10))return t==null&&(Ut=!0),Pp(v,c);if(c+=h,v.precision=c,r=ma(m),n=r.charAt(0),o=lr(p),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=ma(p.d),n=r.charAt(0),f++;o=lr(p),n>1?(p=new v("0."+r),o++):p=new v(n+"."+r.slice(1))}else return l=Pp(v,c+2,w).times(o+""),p=wc(new v(n+"."+r.slice(1)),c-h).plus(l),v.precision=w,t==null?(Ut=!0,At(p,w)):p;for(s=i=p=za(p.minus(xn),p.plus(xn),c),u=At(p.times(p),c),a=3;;){if(i=At(i.times(u),c),l=s.plus(za(i,new v(a),c)),ma(l.d).slice(0,c)===ma(s.d).slice(0,c))return s=s.times(2),o!==0&&(s=s.plus(Pp(v,c+2,w).times(o+""))),s=za(s,new v(f),c),v.precision=w,t==null?(Ut=!0,At(s,w)):s;s=l,a+=2}}function E1(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Ys(r/Bt),e.d=[],n=(r+1)%Bt,r<0&&(n+=Bt),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Bt;n<a;)e.d.push(+t.slice(n,n+=Bt));t=t.slice(n),n=Bt-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Ut&&(e.e>Yf||e.e<-Yf))throw Error(Zy+r)}else e.s=0,e.e=0,e.d=[0];return e}function At(e,t,r){var n,a,o,i,s,l,c,u,f=e.d;for(i=1,o=f[0];o>=10;o/=10)i++;if(n=t-i,n<0)n+=Bt,a=t,c=f[u=0];else{if(u=Math.ceil((n+1)/Bt),o=f.length,u>=o)return e;for(c=o=f[u],i=1;o>=10;o/=10)i++;n%=Bt,a=n-Bt+i}if(r!==void 0&&(o=Wo(10,i-a-1),s=c/o%10|0,l=t<0||f[u+1]!==void 0||c%o,l=r<4?(s||l)&&(r==0||r==(e.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?a>0?c/Wo(10,i-a):0:f[u-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return l?(o=lr(e),f.length=1,t=t-o-1,f[0]=Wo(10,(Bt-t%Bt)%Bt),e.e=Ys(-t/Bt)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=u,o=1,u--):(f.length=u+1,o=Wo(10,Bt-n),f[u]=a>0?(c/Wo(10,i-a)%Wo(10,a)|0)*o:0),l)for(;;)if(u==0){(f[0]+=o)==wr&&(f[0]=1,++e.e);break}else{if(f[u]+=o,f[u]!=wr)break;f[u--]=0,o=1}for(n=f.length;f[--n]===0;)f.pop();if(Ut&&(e.e>Yf||e.e<-Yf))throw Error(Zy+lr(e));return e}function FO(e,t){var r,n,a,o,i,s,l,c,u,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Ut?At(t,p):t;if(l=e.d,f=t.d,n=t.e,c=e.e,l=l.slice(),i=c-n,i){for(u=i<0,u?(r=l,i=-i,s=f.length):(r=f,n=c,s=l.length),a=Math.max(Math.ceil(p/Bt),s)+2,i>a&&(i=a,r.length=1),r.reverse(),a=i;a--;)r.push(0);r.reverse()}else{for(a=l.length,s=f.length,u=a<s,u&&(s=a),a=0;a<s;a++)if(l[a]!=f[a]){u=l[a]<f[a];break}i=0}for(u&&(r=l,l=f,f=r,t.s=-t.s),s=l.length,a=f.length-s;a>0;--a)l[s++]=0;for(a=f.length;a>i;){if(l[--a]<f[a]){for(o=a;o&&l[--o]===0;)l[o]=wr-1;--l[o],l[a]+=wr}l[a]-=f[a]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,Ut?At(t,p):t):new h(0)}function di(e,t,r){var n,a=lr(e),o=ma(e.d),i=o.length;return t?(r&&(n=r-i)>0?o=o.charAt(0)+"."+o.slice(1)+oo(n):i>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(a<0?"e":"e+")+a):a<0?(o="0."+oo(-a-1)+o,r&&(n=r-i)>0&&(o+=oo(n))):a>=i?(o+=oo(a+1-i),r&&(n=r-a-1)>0&&(o=o+"."+oo(n))):((n=a+1)<i&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-i)>0&&(a+1===i&&(o+="."),o+=oo(n))),e.s<0?"-"+o:o}function T1(e,t){if(e.length>t)return e.length=t,!0}function zO(e){var t,r,n;function a(o){var i=this;if(!(i instanceof a))return new a(o);if(i.constructor=a,o instanceof a){i.s=o.s,i.e=o.e,i.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(ri+o);if(o>0)i.s=1;else if(o<0)o=-o,i.s=-1;else{i.s=0,i.e=0,i.d=[0];return}if(o===~~o&&o<1e7){i.e=0,i.d=[o];return}return E1(i,o.toString())}else if(typeof o!="string")throw Error(ri+o);if(o.charCodeAt(0)===45?(o=o.slice(1),i.s=-1):i.s=1,t7.test(o))E1(i,o);else throw Error(ri+o)}if(a.prototype=ge,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=zO,a.config=a.set=r7,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function r7(e){if(!e||typeof e!="object")throw Error(Wn+"Object expected");var t,r,n,a=["precision",1,qs,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Ys(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(ri+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(ri+r+": "+n);return this}var Jy=zO(e7);xn=new Jy(1);const jt=Jy;function n7(e){return s7(e)||i7(e)||o7(e)||a7()}function a7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o7(e,t){if(e){if(typeof e=="string")return yg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yg(e,t)}}function i7(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function s7(e){if(Array.isArray(e))return yg(e)}function yg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var l7=function(t){return t},WO={},UO=function(t){return t===WO},$1=function(t){return function r(){return arguments.length===0||arguments.length===1&&UO(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},c7=function e(t,r){return t===1?r:$1(function(){for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];var i=a.filter(function(s){return s!==WO}).length;return i>=t?r.apply(void 0,a):e(t-i,$1(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var u=a.map(function(f){return UO(f)?l.shift():f});return r.apply(void 0,n7(u).concat(l))}))})},xh=function(t){return c7(t.length,t)},vg=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},u7=xh(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),f7=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return l7;var a=r.reverse(),o=a[0],i=a.slice(1);return function(){return i.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},xg=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},GO=function(t){var r=null,n=null;return function(){for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return r&&o.every(function(s,l){return s===r[l]})||(r=o,n=t.apply(void 0,o)),n}};function d7(e){var t;return e===0?t=1:t=Math.floor(new jt(e).abs().log(10).toNumber())+1,t}function h7(e,t,r){for(var n=new jt(e),a=0,o=[];n.lt(t)&&a<1e5;)o.push(n.toNumber()),n=n.add(r),a++;return o}var p7=xh(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),g7=xh(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),m7=xh(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const bh={rangeStep:h7,getDigitCount:d7,interpolateNumber:p7,uninterpolateNumber:g7,uninterpolateTruncation:m7};function bg(e){return x7(e)||v7(e)||HO(e)||y7()}function y7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v7(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function x7(e){if(Array.isArray(e))return wg(e)}function kc(e,t){return k7(e)||w7(e,t)||HO(e,t)||b7()}function b7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HO(e,t){if(e){if(typeof e=="string")return wg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wg(e,t)}}function wg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function w7(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,o=void 0;try{for(var i=e[Symbol.iterator](),s;!(n=(s=i.next()).done)&&(r.push(s.value),!(t&&r.length===t));n=!0);}catch(l){a=!0,o=l}finally{try{!n&&i.return!=null&&i.return()}finally{if(a)throw o}}return r}}function k7(e){if(Array.isArray(e))return e}function VO(e){var t=kc(e,2),r=t[0],n=t[1],a=r,o=n;return r>n&&(a=n,o=r),[a,o]}function KO(e,t,r){if(e.lte(0))return new jt(0);var n=bh.getDigitCount(e.toNumber()),a=new jt(10).pow(n),o=e.div(a),i=n!==1?.05:.1,s=new jt(Math.ceil(o.div(i).toNumber())).add(r).mul(i),l=s.mul(a);return t?l:new jt(Math.ceil(l))}function S7(e,t,r){var n=1,a=new jt(e);if(!a.isint()&&r){var o=Math.abs(e);o<1?(n=new jt(10).pow(bh.getDigitCount(e)-1),a=new jt(Math.floor(a.div(n).toNumber())).mul(n)):o>1&&(a=new jt(Math.floor(e)))}else e===0?a=new jt(Math.floor((t-1)/2)):r||(a=new jt(Math.floor(e)));var i=Math.floor((t-1)/2),s=f7(u7(function(l){return a.add(new jt(l-i).mul(n)).toNumber()}),vg);return s(0,t)}function XO(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new jt(0),tickMin:new jt(0),tickMax:new jt(0)};var o=KO(new jt(t).sub(e).div(r-1),n,a),i;e<=0&&t>=0?i=new jt(0):(i=new jt(e).add(t).div(2),i=i.sub(new jt(i).mod(o)));var s=Math.ceil(i.sub(e).div(o).toNumber()),l=Math.ceil(new jt(t).sub(i).div(o).toNumber()),c=s+l+1;return c>r?XO(e,t,r,n,a+1):(c<r&&(l=t>0?l+(r-c):l,s=t>0?s:s+(r-c)),{step:o,tickMin:i.sub(new jt(s).mul(o)),tickMax:i.add(new jt(l).mul(o))})}function j7(e){var t=kc(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(a,2),s=VO([r,n]),l=kc(s,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var f=u===1/0?[c].concat(bg(vg(0,a-1).map(function(){return 1/0}))):[].concat(bg(vg(0,a-1).map(function(){return-1/0})),[u]);return r>n?xg(f):f}if(c===u)return S7(c,a,o);var h=XO(c,u,i,o),p=h.step,m=h.tickMin,v=h.tickMax,w=bh.rangeStep(m,v.add(new jt(.1).mul(p)),p);return r>n?xg(w):w}function O7(e,t){var r=kc(e,2),n=r[0],a=r[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=VO([n,a]),s=kc(i,2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[n,a];if(l===c)return[l];var u=Math.max(t,2),f=KO(new jt(c).sub(l).div(u-1),o,0),h=[].concat(bg(bh.rangeStep(new jt(l),new jt(c).sub(new jt(.99).mul(f)),f)),[c]);return n>a?xg(h):h}var _7=GO(j7),P7=GO(O7),N7="Invariant failed";function hi(e,t){throw new Error(N7)}var A7=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function ys(e){"@babel/helpers - typeof";return ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ys(e)}function Qf(){return Qf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qf.apply(this,arguments)}function M7(e,t){return $7(e)||T7(e,t)||E7(e,t)||C7()}function C7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E7(e,t){if(e){if(typeof e=="string")return D1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D1(e,t)}}function D1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function T7(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function $7(e){if(Array.isArray(e))return e}function D7(e,t){if(e==null)return{};var r=L7(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function L7(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function R7(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I7(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,QO(n.key),n)}}function B7(e,t,r){return t&&I7(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function F7(e,t,r){return t=Zf(t),z7(e,qO()?Reflect.construct(t,r||[],Zf(e).constructor):t.apply(e,r))}function z7(e,t){if(t&&(ys(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return W7(e)}function W7(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qO=function(){return!!e})()}function Zf(e){return Zf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zf(e)}function U7(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kg(e,t)}function kg(e,t){return kg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},kg(e,t)}function YO(e,t,r){return t=QO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QO(e){var t=G7(e,"string");return ys(t)=="symbol"?t:t+""}function G7(e,t){if(ys(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ys(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Qs=function(e){function t(){return R7(this,t),F7(this,t,arguments)}return U7(t,e),B7(t,[{key:"render",value:function(){var n=this.props,a=n.offset,o=n.layout,i=n.width,s=n.dataKey,l=n.data,c=n.dataPointFormatter,u=n.xAxis,f=n.yAxis,h=D7(n,A7),p=Re(h,!1);this.props.direction==="x"&&u.type!=="number"&&hi();var m=l.map(function(v){var w=c(v,s),y=w.x,g=w.y,x=w.value,S=w.errorVal;if(!S)return null;var b=[],k,j;if(Array.isArray(S)){var _=M7(S,2);k=_[0],j=_[1]}else k=j=S;if(o==="vertical"){var P=u.scale,N=g+a,A=N+i,C=N-i,R=P(x-k),I=P(x+j);b.push({x1:I,y1:A,x2:I,y2:C}),b.push({x1:R,y1:N,x2:I,y2:N}),b.push({x1:R,y1:A,x2:R,y2:C})}else if(o==="horizontal"){var T=f.scale,L=y+a,U=L-i,D=L+i,z=T(x-k),W=T(x+j);b.push({x1:U,y1:W,x2:D,y2:W}),b.push({x1:L,y1:z,x2:L,y2:W}),b.push({x1:U,y1:z,x2:D,y2:z})}return M.createElement(pt,Qf({className:"recharts-errorBar",key:"bar-".concat(b.map(function(te){return"".concat(te.x1,"-").concat(te.x2,"-").concat(te.y1,"-").concat(te.y2)}))},p),b.map(function(te){return M.createElement("line",Qf({},te,{key:"line-".concat(te.x1,"-").concat(te.x2,"-").concat(te.y1,"-").concat(te.y2)}))}))});return M.createElement(pt,{className:"recharts-errorBars"},m)}}])}(M.Component);YO(Qs,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});YO(Qs,"displayName","ErrorBar");function Sc(e){"@babel/helpers - typeof";return Sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sc(e)}function L1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ro(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L1(Object(r),!0).forEach(function(n){H7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function H7(e,t,r){return t=V7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V7(e){var t=K7(e,"string");return Sc(t)=="symbol"?t:t+""}function K7(e,t){if(Sc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZO=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,o=t.legendContent,i=vn(r,Fa);if(!i)return null;var s=Fa.defaultProps,l=s!==void 0?Ro(Ro({},s),i.props):{},c;return i.props&&i.props.payload?c=i.props&&i.props.payload:o==="children"?c=(n||[]).reduce(function(u,f){var h=f.item,p=f.props,m=p.sectors||p.data||[];return u.concat(m.map(function(v){return{type:i.props.iconType||h.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):c=(n||[]).map(function(u){var f=u.item,h=f.type.defaultProps,p=h!==void 0?Ro(Ro({},h),f.props):{},m=p.dataKey,v=p.name,w=p.legendType,y=p.hide;return{inactive:y,dataKey:m,type:l.iconType||w||"square",color:ev(f),value:v||m,payload:p}}),Ro(Ro(Ro({},l),Fa.getWithHeight(i,a)),{},{payload:c,item:i})};function jc(e){"@babel/helpers - typeof";return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jc(e)}function R1(e){return Q7(e)||Y7(e)||q7(e)||X7()}function X7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q7(e,t){if(e){if(typeof e=="string")return Sg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Sg(e,t)}}function Y7(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Q7(e){if(Array.isArray(e))return Sg(e)}function Sg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function I1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I1(Object(r),!0).forEach(function(n){es(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function es(e,t,r){return t=Z7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z7(e){var t=J7(e,"string");return jc(t)=="symbol"?t:t+""}function J7(e,t){if(jc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mr(e,t,r){return De(e)||De(t)?r:gr(t)?Bn(e,t,r):Ie(t)?t(e):r}function Fl(e,t,r,n){var a=Y9(e,function(s){return mr(s,t)});if(r==="number"){var o=a.filter(function(s){return ie(s)||parseFloat(s)});return o.length?[vh(o),fo(o)]:[1/0,-1/0]}var i=n?a.filter(function(s){return!De(s)}):a;return i.map(function(s){return gr(s)||s instanceof Date?s:""})}var eW=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,i=-1,s=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,c=0;c<s;c++){var u=c>0?a[c-1].coordinate:a[s-1].coordinate,f=a[c].coordinate,h=c>=s-1?a[0].coordinate:a[c+1].coordinate,p=void 0;if(na(f-u)!==na(h-f)){var m=[];if(na(h-f)===na(l[1]-l[0])){p=h;var v=f+l[1]-l[0];m[0]=Math.min(v,(v+u)/2),m[1]=Math.max(v,(v+u)/2)}else{p=u;var w=h+l[1]-l[0];m[0]=Math.min(f,(w+f)/2),m[1]=Math.max(f,(w+f)/2)}var y=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>y[0]&&t<=y[1]||t>=m[0]&&t<=m[1]){i=a[c].index;break}}else{var g=Math.min(u,h),x=Math.max(u,h);if(t>(g+f)/2&&t<=(x+f)/2){i=a[c].index;break}}}else for(var S=0;S<s;S++)if(S===0&&t<=(n[S].coordinate+n[S+1].coordinate)/2||S>0&&S<s-1&&t>(n[S].coordinate+n[S-1].coordinate)/2&&t<=(n[S].coordinate+n[S+1].coordinate)/2||S===s-1&&t>(n[S].coordinate+n[S-1].coordinate)/2){i=n[S].index;break}return i},ev=function(t){var r,n=t,a=n.type.displayName,o=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Jt(Jt({},t.type.defaultProps),t.props):t.props,i=o.stroke,s=o.fill,l;switch(a){case"Line":l=i;break;case"Area":case"Radar":l=i&&i!=="none"?i:s;break;default:l=s;break}return l},tW=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,o=a===void 0?{}:a;if(!o)return{};for(var i={},s=Object.keys(o),l=0,c=s.length;l<c;l++)for(var u=o[s[l]].stackGroups,f=Object.keys(u),h=0,p=f.length;h<p;h++){var m=u[f[h]],v=m.items,w=m.cateAxisId,y=v.filter(function(j){return Ia(j.type).indexOf("Bar")>=0});if(y&&y.length){var g=y[0].type.defaultProps,x=g!==void 0?Jt(Jt({},g),y[0].props):y[0].props,S=x.barSize,b=x[w];i[b]||(i[b]=[]);var k=De(S)?r:S;i[b].push({item:y[0],stackList:y.slice(1),barSize:De(k)?void 0:ui(k,n,0)})}}return i},rW=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,o=t.sizeList,i=o===void 0?[]:o,s=t.maxBarSize,l=i.length;if(l<1)return null;var c=ui(r,a,0,!0),u,f=[];if(i[0].barSize===+i[0].barSize){var h=!1,p=a/l,m=i.reduce(function(S,b){return S+b.barSize||0},0);m+=(l-1)*c,m>=a&&(m-=(l-1)*c,c=0),m>=a&&p>0&&(h=!0,p*=.9,m=l*p);var v=(a-m)/2>>0,w={offset:v-c,size:0};u=i.reduce(function(S,b){var k={item:b.item,position:{offset:w.offset+w.size+c,size:h?p:b.barSize}},j=[].concat(R1(S),[k]);return w=j[j.length-1].position,b.stackList&&b.stackList.length&&b.stackList.forEach(function(_){j.push({item:_,position:w})}),j},f)}else{var y=ui(n,a,0,!0);a-2*y-(l-1)*c<=0&&(c=0);var g=(a-2*y-(l-1)*c)/l;g>1&&(g>>=0);var x=s===+s?Math.min(g,s):g;u=i.reduce(function(S,b,k){var j=[].concat(R1(S),[{item:b.item,position:{offset:y+(g+c)*k+(g-x)/2,size:x}}]);return b.stackList&&b.stackList.length&&b.stackList.forEach(function(_){j.push({item:_,position:j[j.length-1].position})}),j},f)}return u},nW=function(t,r,n,a){var o=n.children,i=n.width,s=n.margin,l=i-(s.left||0)-(s.right||0),c=ZO({children:o,legendWidth:l});if(c){var u=a||{},f=u.width,h=u.height,p=c.align,m=c.verticalAlign,v=c.layout;if((v==="vertical"||v==="horizontal"&&m==="middle")&&p!=="center"&&ie(t[p]))return Jt(Jt({},t),{},es({},p,t[p]+(f||0)));if((v==="horizontal"||v==="vertical"&&p==="center")&&m!=="middle"&&ie(t[m]))return Jt(Jt({},t),{},es({},m,t[m]+(h||0)))}return t},aW=function(t,r,n){return De(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},JO=function(t,r,n,a,o){var i=r.props.children,s=dn(i,Qs).filter(function(c){return aW(a,o,c.props.direction)});if(s&&s.length){var l=s.map(function(c){return c.props.dataKey});return t.reduce(function(c,u){var f=mr(u,n);if(De(f))return c;var h=Array.isArray(f)?[vh(f),fo(f)]:[f,f],p=l.reduce(function(m,v){var w=mr(u,v,0),y=h[0]-Math.abs(Array.isArray(w)?w[0]:w),g=h[1]+Math.abs(Array.isArray(w)?w[1]:w);return[Math.min(y,m[0]),Math.max(g,m[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},oW=function(t,r,n,a,o){var i=r.map(function(s){return JO(t,s,n,o,a)}).filter(function(s){return!De(s)});return i&&i.length?i.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},e_=function(t,r,n,a,o){var i=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&JO(t,l,c,a)||Fl(t,c,n,o)});if(n==="number")return i.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var s={};return i.reduce(function(l,c){for(var u=0,f=c.length;u<f;u++)s[c[u]]||(s[c[u]]=!0,l.push(c[u]));return l},[])},t_=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},r_=function(t,r,n,a){if(a)return t.map(function(l){return l.coordinate});var o,i,s=t.map(function(l){return l.coordinate===r&&(o=!0),l.coordinate===n&&(i=!0),l.coordinate});return o||s.push(r),i||s.push(n),s},La=function(t,r,n){if(!t)return null;var a=t.scale,o=t.duplicateDomain,i=t.type,s=t.range,l=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,c=(r||n)&&i==="category"&&a.bandwidth?a.bandwidth()/l:0;if(c=t.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?na(s[0]-s[1])*2*c:c,r&&(t.ticks||t.niceTicks)){var u=(t.ticks||t.niceTicks).map(function(f){var h=o?o.indexOf(f):f;return{coordinate:a(h)+c,value:f,offset:c}});return u.filter(function(f){return!Gs(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+c,value:f,index:h,offset:c}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+c,value:f,offset:c}}):a.domain().map(function(f,h){return{coordinate:a(f)+c,value:o?o[f]:f,index:h,offset:c}})},Np=new WeakMap,$u=function(t,r){if(typeof r!="function")return t;Np.has(t)||Np.set(t,new WeakMap);var n=Np.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},iW=function(t,r,n){var a=t.scale,o=t.type,i=t.layout,s=t.axisType;if(a==="auto")return i==="radial"&&s==="radiusAxis"?{scale:mc(),realScaleType:"band"}:i==="radial"&&s==="angleAxis"?{scale:Vf(),realScaleType:"linear"}:o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Bl(),realScaleType:"point"}:o==="category"?{scale:mc(),realScaleType:"band"}:{scale:Vf(),realScaleType:"linear"};if(ci(a)){var l="scale".concat(ah(a));return{scale:(C1[l]||Bl)(),realScaleType:C1[l]?l:"point"}}return Ie(a)?{scale:a}:{scale:Bl(),realScaleType:"point"}},B1=1e-4,sW=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),o=Math.min(a[0],a[1])-B1,i=Math.max(a[0],a[1])+B1,s=t(r[0]),l=t(r[n-1]);(s<o||s>i||l<o||l>i)&&t.domain([r[0],r[n-1]])}},lW=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},cW=function(t,r){if(!r||r.length!==2||!ie(r[0])||!ie(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),o=[t[0],t[1]];return(!ie(t[0])||t[0]<n)&&(o[0]=n),(!ie(t[1])||t[1]>a)&&(o[1]=a),o[0]>a&&(o[0]=a),o[1]<n&&(o[1]=n),o},uW=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var o=0,i=0,s=0;s<r;++s){var l=Gs(t[s][n][1])?t[s][n][0]:t[s][n][1];l>=0?(t[s][n][0]=o,t[s][n][1]=o+l,o=t[s][n][1]):(t[s][n][0]=i,t[s][n][1]=i+l,i=t[s][n][1])}},fW=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var o=0,i=0;i<r;++i){var s=Gs(t[i][n][1])?t[i][n][0]:t[i][n][1];s>=0?(t[i][n][0]=o,t[i][n][1]=o+s,o=t[i][n][1]):(t[i][n][0]=0,t[i][n][1]=0)}},dW={sign:uW,expand:P5,none:ls,silhouette:N5,wiggle:A5,positive:fW},hW=function(t,r,n){var a=r.map(function(s){return s.props.dataKey}),o=dW[n],i=_5().keys(a).value(function(s,l){return+mr(s,l,0)}).order(X0).offset(o);return i(t)},pW=function(t,r,n,a,o,i){if(!t)return null;var s=i?r.reverse():r,l={},c=s.reduce(function(f,h){var p,m=(p=h.type)!==null&&p!==void 0&&p.defaultProps?Jt(Jt({},h.type.defaultProps),h.props):h.props,v=m.stackId,w=m.hide;if(w)return f;var y=m[n],g=f[y]||{hasStack:!1,stackGroups:{}};if(gr(v)){var x=g.stackGroups[v]||{numericAxisId:n,cateAxisId:a,items:[]};x.items.push(h),g.hasStack=!0,g.stackGroups[v]=x}else g.stackGroups[xi("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return Jt(Jt({},f),{},es({},y,g))},l),u={};return Object.keys(c).reduce(function(f,h){var p=c[h];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(v,w){var y=p.stackGroups[w];return Jt(Jt({},v),{},es({},w,{numericAxisId:n,cateAxisId:a,items:y.items,stackedData:hW(t,y.items,o)}))},m)}return Jt(Jt({},f),{},es({},h,p))},u)},gW=function(t,r){var n=r.realScaleType,a=r.type,o=r.tickCount,i=r.originalDomain,s=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&a==="number"&&i&&(i[0]==="auto"||i[1]==="auto")){var c=t.domain();if(!c.length)return null;var u=_7(c,o,s);return t.domain([vh(u),fo(u)]),{niceTicks:u}}if(o&&a==="number"){var f=t.domain(),h=P7(f,o,s);return{niceTicks:h}}return null};function vs(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,o=e.index,i=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!De(a[t.dataKey])){var s=jf(r,"value",a[t.dataKey]);if(s)return s.coordinate+n/2}return r[o]?r[o].coordinate+n/2:null}var l=mr(a,De(i)?t.dataKey:i);return De(l)?null:t.scale(l)}var F1=function(t){var r=t.axis,n=t.ticks,a=t.offset,o=t.bandSize,i=t.entry,s=t.index;if(r.type==="category")return n[s]?n[s].coordinate+a:null;var l=mr(i,r.dataKey,r.domain[s]);return De(l)?null:r.scale(l)-o/2+a},mW=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]);return a<=0&&o>=0?0:o<0?o:a}return n[0]},yW=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Jt(Jt({},t.type.defaultProps),t.props):t.props,o=a.stackId;if(gr(o)){var i=r[o];if(i){var s=i.items.indexOf(t);return s>=0?i.stackedData[s]:null}}return null},vW=function(t){return t.reduce(function(r,n){return[vh(n.concat([r[0]]).filter(ie)),fo(n.concat([r[1]]).filter(ie))]},[1/0,-1/0])},n_=function(t,r,n){return Object.keys(t).reduce(function(a,o){var i=t[o],s=i.stackedData,l=s.reduce(function(c,u){var f=vW(u.slice(r,n+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],a[0]),Math.max(l[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},z1=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,W1=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,jg=function(t,r,n){if(Ie(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(ie(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(z1.test(t[0])){var o=+z1.exec(t[0])[1];a[0]=r[0]-o}else Ie(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(ie(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(W1.test(t[1])){var i=+W1.exec(t[1])[1];a[1]=r[1]+i}else Ie(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},Jf=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var o=Py(r,function(f){return f.coordinate}),i=1/0,s=1,l=o.length;s<l;s++){var c=o[s],u=o[s-1];i=Math.min((c.coordinate||0)-(u.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0},U1=function(t,r,n){return!t||!t.length||fi(t,Bn(n,"type.defaultProps.domain"))?r:t},a_=function(t,r){var n=t.type.defaultProps?Jt(Jt({},t.type.defaultProps),t.props):t.props,a=n.dataKey,o=n.name,i=n.unit,s=n.formatter,l=n.tooltipType,c=n.chartType,u=n.hide;return Jt(Jt({},Re(t,!1)),{},{dataKey:a,unit:i,formatter:s,name:o||a,color:ev(t),value:mr(r,a),type:l,payload:r,chartType:c,hide:u})};function Oc(e){"@babel/helpers - typeof";return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oc(e)}function G1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function H1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G1(Object(r),!0).forEach(function(n){xW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xW(e,t,r){return t=bW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bW(e){var t=wW(e,"string");return Oc(t)=="symbol"?t:t+""}function wW(e,t){if(Oc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Oc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ed=Math.PI/180,kW=function(t){return t*180/Math.PI},Cr=function(t,r,n,a){return{x:t+Math.cos(-ed*a)*n,y:r+Math.sin(-ed*a)*n}},SW=function(t,r){var n=t.x,a=t.y,o=r.x,i=r.y;return Math.sqrt(Math.pow(n-o,2)+Math.pow(a-i,2))},jW=function(t,r){var n=t.x,a=t.y,o=r.cx,i=r.cy,s=SW({x:n,y:a},{x:o,y:i});if(s<=0)return{radius:s};var l=(n-o)/s,c=Math.acos(l);return a>i&&(c=2*Math.PI-c),{radius:s,angle:kW(c),angleInRadian:c}},OW=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),o=Math.floor(n/360),i=Math.min(a,o);return{startAngle:r-i*360,endAngle:n-i*360}},_W=function(t,r){var n=r.startAngle,a=r.endAngle,o=Math.floor(n/360),i=Math.floor(a/360),s=Math.min(o,i);return t+s*360},V1=function(t,r){var n=t.x,a=t.y,o=jW({x:n,y:a},r),i=o.radius,s=o.angle,l=r.innerRadius,c=r.outerRadius;if(i<l||i>c)return!1;if(i===0)return!0;var u=OW(r),f=u.startAngle,h=u.endAngle,p=s,m;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;m=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;m=p>=h&&p<=f}return m?H1(H1({},r),{},{radius:i,angle:_W(p,r)}):null};function _c(e){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_c(e)}var PW=["offset"];function NW(e){return EW(e)||CW(e)||MW(e)||AW()}function AW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MW(e,t){if(e){if(typeof e=="string")return Og(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Og(e,t)}}function CW(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function EW(e){if(Array.isArray(e))return Og(e)}function Og(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function TW(e,t){if(e==null)return{};var r=$W(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $W(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function K1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K1(Object(r),!0).forEach(function(n){DW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DW(e,t,r){return t=LW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LW(e){var t=RW(e,"string");return _c(t)=="symbol"?t:t+""}function RW(e,t){if(_c(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pc(){return Pc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pc.apply(this,arguments)}var IW=function(t){var r=t.value,n=t.formatter,a=De(t.children)?r:t.children;return Ie(n)?n(a):a},BW=function(t,r){var n=na(r-t),a=Math.min(Math.abs(r-t),360);return n*a},FW=function(t,r,n){var a=t.position,o=t.viewBox,i=t.offset,s=t.className,l=o,c=l.cx,u=l.cy,f=l.innerRadius,h=l.outerRadius,p=l.startAngle,m=l.endAngle,v=l.clockWise,w=(f+h)/2,y=BW(p,m),g=y>=0?1:-1,x,S;a==="insideStart"?(x=p+g*i,S=v):a==="insideEnd"?(x=m-g*i,S=!v):a==="end"&&(x=m+g*i,S=v),S=y<=0?S:!S;var b=Cr(c,u,w,x),k=Cr(c,u,w,x+(S?1:-1)*359),j="M".concat(b.x,",").concat(b.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(S?0:1,`,
    `).concat(k.x,",").concat(k.y),_=De(t.id)?xi("recharts-radial-line-"):t.id;return M.createElement("text",Pc({},n,{dominantBaseline:"central",className:tt("recharts-radial-bar-label",s)}),M.createElement("defs",null,M.createElement("path",{id:_,d:j})),M.createElement("textPath",{xlinkHref:"#".concat(_)},r))},zW=function(t){var r=t.viewBox,n=t.offset,a=t.position,o=r,i=o.cx,s=o.cy,l=o.innerRadius,c=o.outerRadius,u=o.startAngle,f=o.endAngle,h=(u+f)/2;if(a==="outside"){var p=Cr(i,s,c+n,h),m=p.x,v=p.y;return{x:m,y:v,textAnchor:m>=i?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"end"};var w=(l+c)/2,y=Cr(i,s,w,h),g=y.x,x=y.y;return{x:g,y:x,textAnchor:"middle",verticalAnchor:"middle"}},WW=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,o=t.position,i=r,s=i.x,l=i.y,c=i.width,u=i.height,f=u>=0?1:-1,h=f*a,p=f>0?"end":"start",m=f>0?"start":"end",v=c>=0?1:-1,w=v*a,y=v>0?"end":"start",g=v>0?"start":"end";if(o==="top"){var x={x:s+c/2,y:l-f*a,textAnchor:"middle",verticalAnchor:p};return dr(dr({},x),n?{height:Math.max(l-n.y,0),width:c}:{})}if(o==="bottom"){var S={x:s+c/2,y:l+u+h,textAnchor:"middle",verticalAnchor:m};return dr(dr({},S),n?{height:Math.max(n.y+n.height-(l+u),0),width:c}:{})}if(o==="left"){var b={x:s-w,y:l+u/2,textAnchor:y,verticalAnchor:"middle"};return dr(dr({},b),n?{width:Math.max(b.x-n.x,0),height:u}:{})}if(o==="right"){var k={x:s+c+w,y:l+u/2,textAnchor:g,verticalAnchor:"middle"};return dr(dr({},k),n?{width:Math.max(n.x+n.width-k.x,0),height:u}:{})}var j=n?{width:c,height:u}:{};return o==="insideLeft"?dr({x:s+w,y:l+u/2,textAnchor:g,verticalAnchor:"middle"},j):o==="insideRight"?dr({x:s+c-w,y:l+u/2,textAnchor:y,verticalAnchor:"middle"},j):o==="insideTop"?dr({x:s+c/2,y:l+h,textAnchor:"middle",verticalAnchor:m},j):o==="insideBottom"?dr({x:s+c/2,y:l+u-h,textAnchor:"middle",verticalAnchor:p},j):o==="insideTopLeft"?dr({x:s+w,y:l+h,textAnchor:g,verticalAnchor:m},j):o==="insideTopRight"?dr({x:s+c-w,y:l+h,textAnchor:y,verticalAnchor:m},j):o==="insideBottomLeft"?dr({x:s+w,y:l+u-h,textAnchor:g,verticalAnchor:p},j):o==="insideBottomRight"?dr({x:s+c-w,y:l+u-h,textAnchor:y,verticalAnchor:p},j):Fs(o)&&(ie(o.x)||Vo(o.x))&&(ie(o.y)||Vo(o.y))?dr({x:s+ui(o.x,c),y:l+ui(o.y,u),textAnchor:"end",verticalAnchor:"end"},j):dr({x:s+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},j)},UW=function(t){return"cx"in t&&ie(t.cx)};function zr(e){var t=e.offset,r=t===void 0?5:t,n=TW(e,PW),a=dr({offset:r},n),o=a.viewBox,i=a.position,s=a.value,l=a.children,c=a.content,u=a.className,f=u===void 0?"":u,h=a.textBreakAll;if(!o||De(s)&&De(l)&&!O.isValidElement(c)&&!Ie(c))return null;if(O.isValidElement(c))return O.cloneElement(c,a);var p;if(Ie(c)){if(p=O.createElement(c,a),O.isValidElement(p))return p}else p=IW(a);var m=UW(o),v=Re(a,!0);if(m&&(i==="insideStart"||i==="insideEnd"||i==="end"))return FW(a,p,v);var w=m?zW(a):WW(a);return M.createElement(Bf,Pc({className:tt("recharts-label",f)},v,w,{breakAll:h}),p)}zr.displayName="Label";var o_=function(t){var r=t.cx,n=t.cy,a=t.angle,o=t.startAngle,i=t.endAngle,s=t.r,l=t.radius,c=t.innerRadius,u=t.outerRadius,f=t.x,h=t.y,p=t.top,m=t.left,v=t.width,w=t.height,y=t.clockWise,g=t.labelViewBox;if(g)return g;if(ie(v)&&ie(w)){if(ie(f)&&ie(h))return{x:f,y:h,width:v,height:w};if(ie(p)&&ie(m))return{x:p,y:m,width:v,height:w}}return ie(f)&&ie(h)?{x:f,y:h,width:0,height:0}:ie(r)&&ie(n)?{cx:r,cy:n,startAngle:o||a||0,endAngle:i||a||0,innerRadius:c||0,outerRadius:u||l||s||0,clockWise:y}:t.viewBox?t.viewBox:{}},GW=function(t,r){return t?t===!0?M.createElement(zr,{key:"label-implicit",viewBox:r}):gr(t)?M.createElement(zr,{key:"label-implicit",viewBox:r,value:t}):O.isValidElement(t)?t.type===zr?O.cloneElement(t,{key:"label-implicit",viewBox:r}):M.createElement(zr,{key:"label-implicit",content:t,viewBox:r}):Ie(t)?M.createElement(zr,{key:"label-implicit",content:t,viewBox:r}):Fs(t)?M.createElement(zr,Pc({viewBox:r},t,{key:"label-implicit"})):null:null},HW=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,o=o_(t),i=dn(a,zr).map(function(l,c){return O.cloneElement(l,{viewBox:r||o,key:"label-".concat(c)})});if(!n)return i;var s=GW(t.label,r||o);return[s].concat(NW(i))};zr.parseViewBox=o_;zr.renderCallByParent=HW;function VW(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var KW=VW;const XW=Mt(KW);function Nc(e){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nc(e)}var qW=["valueAccessor"],YW=["data","dataKey","clockWise","id","textBreakAll"];function QW(e){return tU(e)||eU(e)||JW(e)||ZW()}function ZW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JW(e,t){if(e){if(typeof e=="string")return _g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _g(e,t)}}function eU(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tU(e){if(Array.isArray(e))return _g(e)}function _g(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function td(){return td=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},td.apply(this,arguments)}function X1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function q1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X1(Object(r),!0).forEach(function(n){rU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rU(e,t,r){return t=nU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nU(e){var t=aU(e,"string");return Nc(t)=="symbol"?t:t+""}function aU(e,t){if(Nc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Y1(e,t){if(e==null)return{};var r=oU(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oU(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var iU=function(t){return Array.isArray(t.value)?XW(t.value):t.value};function wa(e){var t=e.valueAccessor,r=t===void 0?iU:t,n=Y1(e,qW),a=n.data,o=n.dataKey,i=n.clockWise,s=n.id,l=n.textBreakAll,c=Y1(n,YW);return!a||!a.length?null:M.createElement(pt,{className:"recharts-label-list"},a.map(function(u,f){var h=De(o)?r(u,f):mr(u&&u.payload,o),p=De(s)?{}:{id:"".concat(s,"-").concat(f)};return M.createElement(zr,td({},Re(u,!0),c,p,{parentViewBox:u.parentViewBox,value:h,textBreakAll:l,viewBox:zr.parseViewBox(De(i)?u:q1(q1({},u),{},{clockWise:i})),key:"label-".concat(f),index:f}))}))}wa.displayName="LabelList";function sU(e,t){return e?e===!0?M.createElement(wa,{key:"labelList-implicit",data:t}):M.isValidElement(e)||Ie(e)?M.createElement(wa,{key:"labelList-implicit",data:t,content:e}):Fs(e)?M.createElement(wa,td({data:t},e,{key:"labelList-implicit"})):null:null}function lU(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=dn(n,wa).map(function(i,s){return O.cloneElement(i,{data:t,key:"labelList-".concat(s)})});if(!r)return a;var o=sU(e.label,t);return[o].concat(QW(a))}wa.renderCallByParent=lU;function Ac(e){"@babel/helpers - typeof";return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ac(e)}function Pg(){return Pg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pg.apply(this,arguments)}function Q1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Z1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q1(Object(r),!0).forEach(function(n){cU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cU(e,t,r){return t=uU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uU(e){var t=fU(e,"string");return Ac(t)=="symbol"?t:t+""}function fU(e,t){if(Ac(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ac(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dU=function(t,r){var n=na(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},Du=function(t){var r=t.cx,n=t.cy,a=t.radius,o=t.angle,i=t.sign,s=t.isExternal,l=t.cornerRadius,c=t.cornerIsExternal,u=l*(s?1:-1)+a,f=Math.asin(l/u)/ed,h=c?o:o+i*f,p=Cr(r,n,u,h),m=Cr(r,n,a,h),v=c?o-i*f:o,w=Cr(r,n,u*Math.cos(f*ed),v);return{center:p,circleTangency:m,lineTangency:w,theta:f}},i_=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,o=t.outerRadius,i=t.startAngle,s=t.endAngle,l=dU(i,s),c=i+l,u=Cr(r,n,o,i),f=Cr(r,n,o,c),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(i>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var p=Cr(r,n,a,i),m=Cr(r,n,a,c);h+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(i<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},hU=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,o=t.outerRadius,i=t.cornerRadius,s=t.forceCornerRadius,l=t.cornerIsExternal,c=t.startAngle,u=t.endAngle,f=na(u-c),h=Du({cx:r,cy:n,radius:o,angle:c,sign:f,cornerRadius:i,cornerIsExternal:l}),p=h.circleTangency,m=h.lineTangency,v=h.theta,w=Du({cx:r,cy:n,radius:o,angle:u,sign:-f,cornerRadius:i,cornerIsExternal:l}),y=w.circleTangency,g=w.lineTangency,x=w.theta,S=l?Math.abs(c-u):Math.abs(c-u)-v-x;if(S<0)return s?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):i_({cx:r,cy:n,innerRadius:a,outerRadius:o,startAngle:c,endAngle:u});var b="M ".concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(S>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
  `);if(a>0){var k=Du({cx:r,cy:n,radius:a,angle:c,sign:f,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),j=k.circleTangency,_=k.lineTangency,P=k.theta,N=Du({cx:r,cy:n,radius:a,angle:u,sign:-f,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),A=N.circleTangency,C=N.lineTangency,R=N.theta,I=l?Math.abs(c-u):Math.abs(c-u)-P-R;if(I<0&&i===0)return"".concat(b,"L").concat(r,",").concat(n,"Z");b+="L".concat(C.x,",").concat(C.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(I>180),",").concat(+(f>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(_.x,",").concat(_.y,"Z")}else b+="L".concat(r,",").concat(n,"Z");return b},pU={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},s_=function(t){var r=Z1(Z1({},pU),t),n=r.cx,a=r.cy,o=r.innerRadius,i=r.outerRadius,s=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,u=r.startAngle,f=r.endAngle,h=r.className;if(i<o||u===f)return null;var p=tt("recharts-sector",h),m=i-o,v=ui(s,m,0,!0),w;return v>0&&Math.abs(u-f)<360?w=hU({cx:n,cy:a,innerRadius:o,outerRadius:i,cornerRadius:Math.min(v,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:f}):w=i_({cx:n,cy:a,innerRadius:o,outerRadius:i,startAngle:u,endAngle:f}),M.createElement("path",Pg({},Re(r,!0),{className:p,d:w,role:"img"}))};function Mc(e){"@babel/helpers - typeof";return Mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mc(e)}function Ng(){return Ng=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ng.apply(this,arguments)}function J1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ew(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J1(Object(r),!0).forEach(function(n){gU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gU(e,t,r){return t=mU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mU(e){var t=yU(e,"string");return Mc(t)=="symbol"?t:t+""}function yU(e,t){if(Mc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tw={curveBasisClosed:g5,curveBasisOpen:m5,curveBasis:p5,curveBumpX:e5,curveBumpY:t5,curveLinearClosed:y5,curveLinear:ih,curveMonotoneX:v5,curveMonotoneY:x5,curveNatural:b5,curveStep:w5,curveStepAfter:S5,curveStepBefore:k5},Lu=function(t){return t.x===+t.x&&t.y===+t.y},bl=function(t){return t.x},wl=function(t){return t.y},vU=function(t,r){if(Ie(t))return t;var n="curve".concat(ah(t));return(n==="curveMonotone"||n==="curveBump")&&r?tw["".concat(n).concat(r==="vertical"?"Y":"X")]:tw[n]||ih},xU=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,o=a===void 0?[]:a,i=t.baseLine,s=t.layout,l=t.connectNulls,c=l===void 0?!1:l,u=vU(n,s),f=c?o.filter(function(v){return Lu(v)}):o,h;if(Array.isArray(i)){var p=c?i.filter(function(v){return Lu(v)}):i,m=f.map(function(v,w){return ew(ew({},v),{},{base:p[w]})});return s==="vertical"?h=_u().y(wl).x1(bl).x0(function(v){return v.base.x}):h=_u().x(bl).y1(wl).y0(function(v){return v.base.y}),h.defined(Lu).curve(u),h(m)}return s==="vertical"&&ie(i)?h=_u().y(wl).x1(bl).x0(i):ie(i)?h=_u().x(bl).y1(wl).y0(i):h=lj().x(bl).y(wl),h.defined(Lu).curve(u),h(f)},ni=function(t){var r=t.className,n=t.points,a=t.path,o=t.pathRef;if((!n||!n.length)&&!a)return null;var i=n&&n.length?xU(t):a;return O.createElement("path",Ng({},Re(t,!1),Of(t),{className:tt("recharts-curve",r),d:i,ref:o}))},l_={exports:{}},bU="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",wU=bU,kU=wU;function c_(){}function u_(){}u_.resetWarningCache=c_;var SU=function(){function e(n,a,o,i,s,l){if(l!==kU){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:u_,resetWarningCache:c_};return r.PropTypes=r,r};l_.exports=SU();var jU=l_.exports;const xt=Mt(jU),{getOwnPropertyNames:OU,getOwnPropertySymbols:_U}=Object,{hasOwnProperty:PU}=Object.prototype;function Ap(e,t){return function(n,a,o){return e(n,a,o)&&t(n,a,o)}}function Ru(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);const{cache:o}=a,i=o.get(r),s=o.get(n);if(i&&s)return i===n&&s===r;o.set(r,n),o.set(n,r);const l=e(r,n,a);return o.delete(r),o.delete(n),l}}function NU(e){return e!=null?e[Symbol.toStringTag]:void 0}function rw(e){return OU(e).concat(_U(e))}const AU=Object.hasOwn||((e,t)=>PU.call(e,t));function ki(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const MU="__v",CU="__o",EU="_owner",{getOwnPropertyDescriptor:nw,keys:aw}=Object;function TU(e,t){return e.byteLength===t.byteLength&&rd(new Uint8Array(e),new Uint8Array(t))}function $U(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function DU(e,t){return e.byteLength===t.byteLength&&rd(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function LU(e,t){return ki(e.getTime(),t.getTime())}function RU(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function IU(e,t){return e===t}function ow(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),o=e.entries();let i,s,l=0;for(;(i=o.next())&&!i.done;){const c=t.entries();let u=!1,f=0;for(;(s=c.next())&&!s.done;){if(a[f]){f++;continue}const h=i.value,p=s.value;if(r.equals(h[0],p[0],l,f,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){u=a[f]=!0;break}f++}if(!u)return!1;l++}return!0}const BU=ki;function FU(e,t,r){const n=aw(e);let a=n.length;if(aw(t).length!==a)return!1;for(;a-- >0;)if(!f_(e,t,r,n[a]))return!1;return!0}function kl(e,t,r){const n=rw(e);let a=n.length;if(rw(t).length!==a)return!1;let o,i,s;for(;a-- >0;)if(o=n[a],!f_(e,t,r,o)||(i=nw(e,o),s=nw(t,o),(i||s)&&(!i||!s||i.configurable!==s.configurable||i.enumerable!==s.enumerable||i.writable!==s.writable)))return!1;return!0}function zU(e,t){return ki(e.valueOf(),t.valueOf())}function WU(e,t){return e.source===t.source&&e.flags===t.flags}function iw(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),o=e.values();let i,s;for(;(i=o.next())&&!i.done;){const l=t.values();let c=!1,u=0;for(;(s=l.next())&&!s.done;){if(!a[u]&&r.equals(i.value,s.value,i.value,s.value,e,t,r)){c=a[u]=!0;break}u++}if(!c)return!1}return!0}function rd(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function UU(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function f_(e,t,r,n){return(n===EU||n===CU||n===MU)&&(e.$$typeof||t.$$typeof)?!0:AU(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const GU="[object ArrayBuffer]",HU="[object Arguments]",VU="[object Boolean]",KU="[object DataView]",XU="[object Date]",qU="[object Error]",YU="[object Map]",QU="[object Number]",ZU="[object Object]",JU="[object RegExp]",eG="[object Set]",tG="[object String]",rG={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},nG="[object URL]",aG=Object.prototype.toString;function oG({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:a,areFunctionsEqual:o,areMapsEqual:i,areNumbersEqual:s,areObjectsEqual:l,arePrimitiveWrappersEqual:c,areRegExpsEqual:u,areSetsEqual:f,areTypedArraysEqual:h,areUrlsEqual:p,unknownTagComparators:m}){return function(w,y,g){if(w===y)return!0;if(w==null||y==null)return!1;const x=typeof w;if(x!==typeof y)return!1;if(x!=="object")return x==="number"?s(w,y,g):x==="function"?o(w,y,g):!1;const S=w.constructor;if(S!==y.constructor)return!1;if(S===Object)return l(w,y,g);if(Array.isArray(w))return t(w,y,g);if(S===Date)return n(w,y,g);if(S===RegExp)return u(w,y,g);if(S===Map)return i(w,y,g);if(S===Set)return f(w,y,g);const b=aG.call(w);if(b===XU)return n(w,y,g);if(b===JU)return u(w,y,g);if(b===YU)return i(w,y,g);if(b===eG)return f(w,y,g);if(b===ZU)return typeof w.then!="function"&&typeof y.then!="function"&&l(w,y,g);if(b===nG)return p(w,y,g);if(b===qU)return a(w,y,g);if(b===HU)return l(w,y,g);if(rG[b])return h(w,y,g);if(b===GU)return e(w,y,g);if(b===KU)return r(w,y,g);if(b===VU||b===QU||b===tG)return c(w,y,g);if(m){let k=m[b];if(!k){const j=NU(w);j&&(k=m[j])}if(k)return k(w,y,g)}return!1}}function iG({circular:e,createCustomConfig:t,strict:r}){let n={areArrayBuffersEqual:TU,areArraysEqual:r?kl:$U,areDataViewsEqual:DU,areDatesEqual:LU,areErrorsEqual:RU,areFunctionsEqual:IU,areMapsEqual:r?Ap(ow,kl):ow,areNumbersEqual:BU,areObjectsEqual:r?kl:FU,arePrimitiveWrappersEqual:zU,areRegExpsEqual:WU,areSetsEqual:r?Ap(iw,kl):iw,areTypedArraysEqual:r?Ap(rd,kl):rd,areUrlsEqual:UU,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const a=Ru(n.areArraysEqual),o=Ru(n.areMapsEqual),i=Ru(n.areObjectsEqual),s=Ru(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:i,areSetsEqual:s})}return n}function sG(e){return function(t,r,n,a,o,i,s){return e(t,r,s)}}function lG({circular:e,comparator:t,createState:r,equals:n,strict:a}){if(r)return function(s,l){const{cache:c=e?new WeakMap:void 0,meta:u}=r();return t(s,l,{cache:c,equals:n,meta:u,strict:a})};if(e)return function(s,l){return t(s,l,{cache:new WeakMap,equals:n,meta:void 0,strict:a})};const o={cache:void 0,equals:n,meta:void 0,strict:a};return function(s,l){return t(s,l,o)}}const cG=$o();$o({strict:!0});$o({circular:!0});$o({circular:!0,strict:!0});$o({createInternalComparator:()=>ki});$o({strict:!0,createInternalComparator:()=>ki});$o({circular:!0,createInternalComparator:()=>ki});$o({circular:!0,createInternalComparator:()=>ki,strict:!0});function $o(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:a=!1}=e,o=iG(e),i=oG(o),s=r?r(i):sG(i);return lG({circular:t,comparator:i,createState:n,equals:s,strict:a})}function uG(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function sw(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(o){r<0&&(r=o),o-r>t?(e(o),r=-1):uG(a)};requestAnimationFrame(n)}function Ag(e){"@babel/helpers - typeof";return Ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ag(e)}function fG(e){return gG(e)||pG(e)||hG(e)||dG()}function dG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hG(e,t){if(e){if(typeof e=="string")return lw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lw(e,t)}}function lw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function pG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gG(e){if(Array.isArray(e))return e}function mG(){var e={},t=function(){return null},r=!1,n=function a(o){if(!r){if(Array.isArray(o)){if(!o.length)return;var i=o,s=fG(i),l=s[0],c=s.slice(1);if(typeof l=="number"){sw(a.bind(null,c),l);return}a(l),sw(a.bind(null,c));return}Ag(o)==="object"&&(e=o,t(e)),typeof o=="function"&&o()}};return{stop:function(){r=!0},start:function(o){r=!1,n(o)},subscribe:function(o){return t=o,function(){t=function(){return null}}}}}function Cc(e){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cc(e)}function cw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cw(Object(r),!0).forEach(function(n){d_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function d_(e,t,r){return t=yG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yG(e){var t=vG(e,"string");return Cc(t)==="symbol"?t:String(t)}function vG(e,t){if(Cc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xG=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(o){return a.includes(o)})})},bG=function(t){return t},wG=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},zl=function(t,r){return Object.keys(r).reduce(function(n,a){return uw(uw({},n),{},d_({},a,t(a,r[a])))},{})},fw=function(t,r,n){return t.map(function(a){return"".concat(wG(a)," ").concat(r,"ms ").concat(n)}).join(",")};function kG(e,t){return OG(e)||jG(e,t)||h_(e,t)||SG()}function SG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jG(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function OG(e){if(Array.isArray(e))return e}function _G(e){return AG(e)||NG(e)||h_(e)||PG()}function PG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h_(e,t){if(e){if(typeof e=="string")return Mg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mg(e,t)}}function NG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function AG(e){if(Array.isArray(e))return Mg(e)}function Mg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var nd=1e-4,p_=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},g_=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},dw=function(t,r){return function(n){var a=p_(t,r);return g_(a,n)}},MG=function(t,r){return function(n){var a=p_(t,r),o=[].concat(_G(a.map(function(i,s){return i*s}).slice(1)),[0]);return g_(o,n)}},hw=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],o=r[1],i=r[2],s=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,o=0,i=1,s=1;break;case"ease":a=.25,o=.1,i=.25,s=1;break;case"ease-in":a=.42,o=0,i=1,s=1;break;case"ease-out":a=.42,o=0,i=.58,s=1;break;case"ease-in-out":a=0,o=0,i=.58,s=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(w){return parseFloat(w)}),u=kG(c,4);a=u[0],o=u[1],i=u[2],s=u[3]}}}var f=dw(a,i),h=dw(o,s),p=MG(a,i),m=function(y){return y>1?1:y<0?0:y},v=function(y){for(var g=y>1?1:y,x=g,S=0;S<8;++S){var b=f(x)-g,k=p(x);if(Math.abs(b-g)<nd||k<nd)return h(x);x=m(x-b/k)}return h(x)};return v.isStepper=!1,v},CG=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,o=a===void 0?8:a,i=t.dt,s=i===void 0?17:i,l=function(u,f,h){var p=-(u-f)*n,m=h*o,v=h+(p-m)*s/1e3,w=h*s/1e3+u;return Math.abs(w-f)<nd&&Math.abs(v)<nd?[f,0]:[w,v]};return l.isStepper=!0,l.dt=s,l},EG=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return hw(a);case"spring":return CG();default:if(a.split("(")[0]==="cubic-bezier")return hw(a)}return typeof a=="function"?a:null};function Ec(e){"@babel/helpers - typeof";return Ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ec(e)}function pw(e){return DG(e)||$G(e)||m_(e)||TG()}function TG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $G(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function DG(e){if(Array.isArray(e))return Eg(e)}function gw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ar(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gw(Object(r),!0).forEach(function(n){Cg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cg(e,t,r){return t=LG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LG(e){var t=RG(e,"string");return Ec(t)==="symbol"?t:String(t)}function RG(e,t){if(Ec(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ec(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IG(e,t){return zG(e)||FG(e,t)||m_(e,t)||BG()}function BG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m_(e,t){if(e){if(typeof e=="string")return Eg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Eg(e,t)}}function Eg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function FG(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function zG(e){if(Array.isArray(e))return e}var ad=function(t,r,n){return t+(r-t)*n},Tg=function(t){var r=t.from,n=t.to;return r!==n},WG=function e(t,r,n){var a=zl(function(o,i){if(Tg(i)){var s=t(i.from,i.to,i.velocity),l=IG(s,2),c=l[0],u=l[1];return Ar(Ar({},i),{},{from:c,velocity:u})}return i},r);return n<1?zl(function(o,i){return Tg(i)?Ar(Ar({},i),{},{velocity:ad(i.velocity,a[o].velocity,n),from:ad(i.from,a[o].from,n)}):i},r):e(t,a,n-1)};const UG=function(e,t,r,n,a){var o=xG(e,t),i=o.reduce(function(w,y){return Ar(Ar({},w),{},Cg({},y,[e[y],t[y]]))},{}),s=o.reduce(function(w,y){return Ar(Ar({},w),{},Cg({},y,{from:e[y],velocity:0,to:t[y]}))},{}),l=-1,c,u,f=function(){return null},h=function(){return zl(function(y,g){return g.from},s)},p=function(){return!Object.values(s).filter(Tg).length},m=function(y){c||(c=y);var g=y-c,x=g/r.dt;s=WG(r,s,x),a(Ar(Ar(Ar({},e),t),h())),c=y,p()||(l=requestAnimationFrame(f))},v=function(y){u||(u=y);var g=(y-u)/n,x=zl(function(b,k){return ad.apply(void 0,pw(k).concat([r(g)]))},i);if(a(Ar(Ar(Ar({},e),t),x)),g<1)l=requestAnimationFrame(f);else{var S=zl(function(b,k){return ad.apply(void 0,pw(k).concat([r(1)]))},i);a(Ar(Ar(Ar({},e),t),S))}};return f=r.isStepper?m:v,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function xs(e){"@babel/helpers - typeof";return xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xs(e)}var GG=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function HG(e,t){if(e==null)return{};var r=VG(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function VG(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,o;for(o=0;o<n.length;o++)a=n[o],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Mp(e){return YG(e)||qG(e)||XG(e)||KG()}function KG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XG(e,t){if(e){if(typeof e=="string")return $g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $g(e,t)}}function qG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function YG(e){if(Array.isArray(e))return $g(e)}function $g(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mw(Object(r),!0).forEach(function(n){Nl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nl(e,t,r){return t=y_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZG(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,y_(n.key),n)}}function JG(e,t,r){return t&&ZG(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function y_(e){var t=eH(e,"string");return xs(t)==="symbol"?t:String(t)}function eH(e,t){if(xs(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xs(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tH(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dg(e,t)}function Dg(e,t){return Dg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Dg(e,t)}function rH(e){var t=nH();return function(){var n=od(e),a;if(t){var o=od(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return Lg(this,a)}}function Lg(e,t){if(t&&(xs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rg(e)}function Rg(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nH(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function od(e){return od=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},od(e)}var sa=function(e){tH(r,e);var t=rH(r);function r(n,a){var o;QG(this,r),o=t.call(this,n,a);var i=o.props,s=i.isActive,l=i.attributeName,c=i.from,u=i.to,f=i.steps,h=i.children,p=i.duration;if(o.handleStyleChange=o.handleStyleChange.bind(Rg(o)),o.changeStyle=o.changeStyle.bind(Rg(o)),!s||p<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:u}),Lg(o);if(f&&f.length)o.state={style:f[0].style};else if(c){if(typeof h=="function")return o.state={style:c},Lg(o);o.state={style:l?Nl({},l,c):c}}else o.state={style:{}};return o}return JG(r,[{key:"componentDidMount",value:function(){var a=this.props,o=a.isActive,i=a.canBegin;this.mounted=!0,!(!o||!i)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var o=this.props,i=o.isActive,s=o.canBegin,l=o.attributeName,c=o.shouldReAnimate,u=o.to,f=o.from,h=this.state.style;if(s){if(!i){var p={style:l?Nl({},l,u):u};this.state&&h&&(l&&h[l]!==u||!l&&h!==u)&&this.setState(p);return}if(!(cG(a.to,u)&&a.canBegin&&a.isActive)){var m=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=m||c?f:a.to;if(this.state&&h){var w={style:l?Nl({},l,v):v};(l&&h[l]!==v||!l&&h!==v)&&this.setState(w)}this.runAnimation(Yn(Yn({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var o=this,i=a.from,s=a.to,l=a.duration,c=a.easing,u=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,p=UG(i,s,EG(c),l,this.changeStyle),m=function(){o.stopJSAnimation=p()};this.manager.start([h,u,m,l,f])}},{key:"runStepAnimation",value:function(a){var o=this,i=a.steps,s=a.begin,l=a.onAnimationStart,c=i[0],u=c.style,f=c.duration,h=f===void 0?0:f,p=function(v,w,y){if(y===0)return v;var g=w.duration,x=w.easing,S=x===void 0?"ease":x,b=w.style,k=w.properties,j=w.onAnimationEnd,_=y>0?i[y-1]:w,P=k||Object.keys(b);if(typeof S=="function"||S==="spring")return[].concat(Mp(v),[o.runJSAnimation.bind(o,{from:_.style,to:b,duration:g,easing:S}),g]);var N=fw(P,g,S),A=Yn(Yn(Yn({},_.style),b),{},{transition:N});return[].concat(Mp(v),[A,g,j]).filter(bG)};return this.manager.start([l].concat(Mp(i.reduce(p,[u,Math.max(h,s)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=mG());var o=a.begin,i=a.duration,s=a.attributeName,l=a.to,c=a.easing,u=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,p=a.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var v=s?Nl({},s,l):l,w=fw(Object.keys(v),i,c);m.start([u,o,Yn(Yn({},v),{},{transition:w}),i,f])}},{key:"render",value:function(){var a=this.props,o=a.children;a.begin;var i=a.duration;a.attributeName,a.easing;var s=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var l=HG(a,GG),c=O.Children.count(o),u=this.state.style;if(typeof o=="function")return o(u);if(!s||c===0||i<=0)return o;var f=function(p){var m=p.props,v=m.style,w=v===void 0?{}:v,y=m.className,g=O.cloneElement(p,Yn(Yn({},l),{},{style:Yn(Yn({},w),u),className:y}));return g};return c===1?f(O.Children.only(o)):M.createElement("div",null,O.Children.map(o,function(h){return f(h)}))}}]),r}(O.PureComponent);sa.displayName="Animate";sa.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};sa.propTypes={from:xt.oneOfType([xt.object,xt.string]),to:xt.oneOfType([xt.object,xt.string]),attributeName:xt.string,duration:xt.number,begin:xt.number,easing:xt.oneOfType([xt.string,xt.func]),steps:xt.arrayOf(xt.shape({duration:xt.number.isRequired,style:xt.object.isRequired,easing:xt.oneOfType([xt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),xt.func]),properties:xt.arrayOf("string"),onAnimationEnd:xt.func})),children:xt.oneOfType([xt.node,xt.func]),isActive:xt.bool,canBegin:xt.bool,onAnimationEnd:xt.func,shouldReAnimate:xt.bool,onAnimationStart:xt.func,onAnimationReStart:xt.func};function Tc(e){"@babel/helpers - typeof";return Tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tc(e)}function id(){return id=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},id.apply(this,arguments)}function aH(e,t){return lH(e)||sH(e,t)||iH(e,t)||oH()}function oH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iH(e,t){if(e){if(typeof e=="string")return yw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yw(e,t)}}function yw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sH(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function lH(e){if(Array.isArray(e))return e}function vw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vw(Object(r),!0).forEach(function(n){cH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cH(e,t,r){return t=uH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uH(e){var t=fH(e,"string");return Tc(t)=="symbol"?t:t+""}function fH(e,t){if(Tc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bw=function(t,r,n,a,o){var i=Math.min(Math.abs(n)/2,Math.abs(a)/2),s=a>=0?1:-1,l=n>=0?1:-1,c=a>=0&&n>=0||a<0&&n<0?1:0,u;if(i>0&&o instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=o[h]>i?i:o[h];u="M".concat(t,",").concat(r+s*f[0]),f[0]>0&&(u+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(t+l*f[0],",").concat(r)),u+="L ".concat(t+n-l*f[1],",").concat(r),f[1]>0&&(u+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(t+n,",").concat(r+s*f[1])),u+="L ".concat(t+n,",").concat(r+a-s*f[2]),f[2]>0&&(u+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(t+n-l*f[2],",").concat(r+a)),u+="L ".concat(t+l*f[3],",").concat(r+a),f[3]>0&&(u+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(r+a-s*f[3])),u+="Z"}else if(i>0&&o===+o&&o>0){var m=Math.min(i,o);u="M ".concat(t,",").concat(r+s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+l*m,",").concat(r,`
            L `).concat(t+n-l*m,",").concat(r,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+n,",").concat(r+s*m,`
            L `).concat(t+n,",").concat(r+a-s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+n-l*m,",").concat(r+a,`
            L `).concat(t+l*m,",").concat(r+a,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t,",").concat(r+a-s*m," Z")}else u="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return u},dH=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,o=r.x,i=r.y,s=r.width,l=r.height;if(Math.abs(s)>0&&Math.abs(l)>0){var c=Math.min(o,o+s),u=Math.max(o,o+s),f=Math.min(i,i+l),h=Math.max(i,i+l);return n>=c&&n<=u&&a>=f&&a<=h}return!1},hH={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},tv=function(t){var r=xw(xw({},hH),t),n=O.useRef(),a=O.useState(-1),o=aH(a,2),i=o[0],s=o[1];O.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&s(S)}catch{}},[]);var l=r.x,c=r.y,u=r.width,f=r.height,h=r.radius,p=r.className,m=r.animationEasing,v=r.animationDuration,w=r.animationBegin,y=r.isAnimationActive,g=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||u===0||f===0)return null;var x=tt("recharts-rectangle",p);return g?M.createElement(sa,{canBegin:i>0,from:{width:u,height:f,x:l,y:c},to:{width:u,height:f,x:l,y:c},duration:v,animationEasing:m,isActive:g},function(S){var b=S.width,k=S.height,j=S.x,_=S.y;return M.createElement(sa,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:v,isActive:y,easing:m},M.createElement("path",id({},Re(r,!0),{className:x,d:bw(j,_,b,k,h),ref:n})))}):M.createElement("path",id({},Re(r,!0),{className:x,d:bw(l,c,u,f,h)}))};function Ig(){return Ig=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ig.apply(this,arguments)}var wh=function(t){var r=t.cx,n=t.cy,a=t.r,o=t.className,i=tt("recharts-dot",o);return r===+r&&n===+n&&a===+a?O.createElement("circle",Ig({},Re(t,!1),Of(t),{className:i,cx:r,cy:n,r:a})):null};function $c(e){"@babel/helpers - typeof";return $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$c(e)}var pH=["x","y","top","left","width","height","className"];function Bg(){return Bg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bg.apply(this,arguments)}function ww(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gH(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ww(Object(r),!0).forEach(function(n){mH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ww(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mH(e,t,r){return t=yH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yH(e){var t=vH(e,"string");return $c(t)=="symbol"?t:t+""}function vH(e,t){if($c(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xH(e,t){if(e==null)return{};var r=bH(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function bH(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var wH=function(t,r,n,a,o,i){return"M".concat(t,",").concat(o,"v").concat(a,"M").concat(i,",").concat(r,"h").concat(n)},kH=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,o=a===void 0?0:a,i=t.top,s=i===void 0?0:i,l=t.left,c=l===void 0?0:l,u=t.width,f=u===void 0?0:u,h=t.height,p=h===void 0?0:h,m=t.className,v=xH(t,pH),w=gH({x:n,y:o,top:s,left:c,width:f,height:p},v);return!ie(n)||!ie(o)||!ie(f)||!ie(p)||!ie(s)||!ie(c)?null:M.createElement("path",Bg({},Re(w,!0),{className:tt("recharts-cross",m),d:wH(n,o,f,p,s,c)}))},SH=Ej,jH=SH(Object.getPrototypeOf,Object),OH=jH,_H=Ya,PH=OH,NH=Qa,AH="[object Object]",MH=Function.prototype,CH=Object.prototype,v_=MH.toString,EH=CH.hasOwnProperty,TH=v_.call(Object);function $H(e){if(!NH(e)||_H(e)!=AH)return!1;var t=PH(e);if(t===null)return!0;var r=EH.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&v_.call(r)==TH}var DH=$H;const LH=Mt(DH);var RH=Ya,IH=Qa,BH="[object Boolean]";function FH(e){return e===!0||e===!1||IH(e)&&RH(e)==BH}var zH=FH;const WH=Mt(zH);function Dc(e){"@babel/helpers - typeof";return Dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dc(e)}function sd(){return sd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sd.apply(this,arguments)}function UH(e,t){return KH(e)||VH(e,t)||HH(e,t)||GH()}function GH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HH(e,t){if(e){if(typeof e=="string")return kw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kw(e,t)}}function kw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function VH(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function KH(e){if(Array.isArray(e))return e}function Sw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sw(Object(r),!0).forEach(function(n){XH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XH(e,t,r){return t=qH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qH(e){var t=YH(e,"string");return Dc(t)=="symbol"?t:t+""}function YH(e,t){if(Dc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ow=function(t,r,n,a,o){var i=n-a,s;return s="M ".concat(t,",").concat(r),s+="L ".concat(t+n,",").concat(r),s+="L ".concat(t+n-i/2,",").concat(r+o),s+="L ".concat(t+n-i/2-a,",").concat(r+o),s+="L ".concat(t,",").concat(r," Z"),s},QH={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ZH=function(t){var r=jw(jw({},QH),t),n=O.useRef(),a=O.useState(-1),o=UH(a,2),i=o[0],s=o[1];O.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var x=n.current.getTotalLength();x&&s(x)}catch{}},[]);var l=r.x,c=r.y,u=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,m=r.animationEasing,v=r.animationDuration,w=r.animationBegin,y=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||h!==+h||u===0&&f===0||h===0)return null;var g=tt("recharts-trapezoid",p);return y?M.createElement(sa,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:u,lowerWidth:f,height:h,x:l,y:c},duration:v,animationEasing:m,isActive:y},function(x){var S=x.upperWidth,b=x.lowerWidth,k=x.height,j=x.x,_=x.y;return M.createElement(sa,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:v,easing:m},M.createElement("path",sd({},Re(r,!0),{className:g,d:Ow(j,_,S,b,k),ref:n})))}):M.createElement("g",null,M.createElement("path",sd({},Re(r,!0),{className:g,d:Ow(l,c,u,f,h)})))},JH=["option","shapeType","propTransformer","activeClassName","isActive"];function Lc(e){"@babel/helpers - typeof";return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lc(e)}function eV(e,t){if(e==null)return{};var r=tV(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function tV(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function _w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ld(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_w(Object(r),!0).forEach(function(n){rV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_w(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rV(e,t,r){return t=nV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nV(e){var t=aV(e,"string");return Lc(t)=="symbol"?t:t+""}function aV(e,t){if(Lc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oV(e,t){return ld(ld({},t),e)}function iV(e,t){return e==="symbols"}function Pw(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return M.createElement(tv,r);case"trapezoid":return M.createElement(ZH,r);case"sector":return M.createElement(s_,r);case"symbols":if(iV(t))return M.createElement(lh,r);break;default:return null}}function sV(e){return O.isValidElement(e)?e.props:e}function Fg(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?oV:n,o=e.activeClassName,i=o===void 0?"recharts-active-shape":o,s=e.isActive,l=eV(e,JH),c;if(O.isValidElement(t))c=O.cloneElement(t,ld(ld({},l),sV(t)));else if(Ie(t))c=t(l);else if(LH(t)&&!WH(t)){var u=a(t,l);c=M.createElement(Pw,{shapeType:r,elementProps:u})}else{var f=l;c=M.createElement(Pw,{shapeType:r,elementProps:f})}return s?M.createElement(pt,{className:i},c):c}function kh(e,t){return t!=null&&"trapezoids"in e.props}function Sh(e,t){return t!=null&&"sectors"in e.props}function Rc(e,t){return t!=null&&"points"in e.props}function lV(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,o=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&o}function cV(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function uV(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function fV(e,t){var r;return kh(e,t)?r=lV:Sh(e,t)?r=cV:Rc(e,t)&&(r=uV),r}function dV(e,t){var r;return kh(e,t)?r="trapezoids":Sh(e,t)?r="sectors":Rc(e,t)&&(r="points"),r}function hV(e,t){if(kh(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Sh(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Rc(e,t)?t.payload:{}}function pV(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=dV(r,t),o=hV(r,t),i=n.filter(function(l,c){var u=fi(o,l),f=r.props[a].filter(function(m){var v=fV(r,t);return v(m,t)}),h=r.props[a].indexOf(f[f.length-1]),p=c===h;return u&&p}),s=n.indexOf(i[i.length-1]);return s}var gV=Math.ceil,mV=Math.max;function yV(e,t,r,n){for(var a=-1,o=mV(gV((t-e)/(r||1)),0),i=Array(o);o--;)i[n?o:++a]=e,e+=r;return i}var vV=yV,xV=Qj,Nw=1/0,bV=17976931348623157e292;function wV(e){if(!e)return e===0?e:0;if(e=xV(e),e===Nw||e===-Nw){var t=e<0?-1:1;return t*bV}return e===e?e:0}var x_=wV,kV=vV,SV=fh,Cp=x_;function jV(e){return function(t,r,n){return n&&typeof n!="number"&&SV(t,r,n)&&(r=n=void 0),t=Cp(t),r===void 0?(r=t,t=0):r=Cp(r),n=n===void 0?t<r?1:-1:Cp(n),kV(t,r,n,e)}}var OV=jV,_V=OV,PV=_V(),NV=PV;const cd=Mt(NV);function Ic(e){"@babel/helpers - typeof";return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ic(e)}function Aw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Aw(Object(r),!0).forEach(function(n){b_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Aw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function b_(e,t,r){return t=AV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AV(e){var t=MV(e,"string");return Ic(t)=="symbol"?t:t+""}function MV(e,t){if(Ic(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ic(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CV=["Webkit","Moz","O","ms"],EV=function(t,r){var n=t.replace(/(\w)/,function(o){return o.toUpperCase()}),a=CV.reduce(function(o,i){return Mw(Mw({},o),{},b_({},i+n,r))},{});return a[t]=r,a};function bs(e){"@babel/helpers - typeof";return bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bs(e)}function ud(){return ud=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ud.apply(this,arguments)}function Cw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ep(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cw(Object(r),!0).forEach(function(n){mn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ew(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,k_(n.key),n)}}function $V(e,t,r){return t&&Ew(e.prototype,t),r&&Ew(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function DV(e,t,r){return t=fd(t),LV(e,w_()?Reflect.construct(t,r||[],fd(e).constructor):t.apply(e,r))}function LV(e,t){if(t&&(bs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RV(e)}function RV(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w_=function(){return!!e})()}function fd(e){return fd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fd(e)}function IV(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zg(e,t)}function zg(e,t){return zg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},zg(e,t)}function mn(e,t,r){return t=k_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k_(e){var t=BV(e,"string");return bs(t)=="symbol"?t:t+""}function BV(e,t){if(bs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var FV=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,o=t.x,i=t.width,s=t.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=Bl().domain(cd(0,l)).range([o,o+i-s]),u=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(a),scale:c,scaleValues:u}},Tw=function(t){return t.changedTouches&&!!t.changedTouches.length},ws=function(e){function t(r){var n;return TV(this,t),n=DV(this,t,[r]),mn(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),mn(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),mn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,o=a.endIndex,i=a.onDragEnd,s=a.startIndex;i==null||i({endIndex:o,startIndex:s})}),n.detachDragEndListener()}),mn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),mn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),mn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),mn(n,"handleSlideDragStart",function(a){var o=Tw(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return IV(t,e),$V(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,o=n.endX,i=this.state.scaleValues,s=this.props,l=s.gap,c=s.data,u=c.length-1,f=Math.min(a,o),h=Math.max(a,o),p=t.getIndexInRange(i,f),m=t.getIndexInRange(i,h);return{startIndex:p-p%l,endIndex:m===u?u:m-m%l}}},{key:"getTextOfTick",value:function(n){var a=this.props,o=a.data,i=a.tickFormatter,s=a.dataKey,l=mr(o[n],s,n);return Ie(i)?i(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,o=a.slideMoveStartX,i=a.startX,s=a.endX,l=this.props,c=l.x,u=l.width,f=l.travellerWidth,h=l.startIndex,p=l.endIndex,m=l.onChange,v=n.pageX-o;v>0?v=Math.min(v,c+u-f-s,c+u-f-i):v<0&&(v=Math.max(v,c-i,c-s));var w=this.getIndex({startX:i+v,endX:s+v});(w.startIndex!==h||w.endIndex!==p)&&m&&m(w),this.setState({startX:i+v,endX:s+v,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var o=Tw(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,o=a.brushMoveStartX,i=a.movingTravellerId,s=a.endX,l=a.startX,c=this.state[i],u=this.props,f=u.x,h=u.width,p=u.travellerWidth,m=u.onChange,v=u.gap,w=u.data,y={startX:this.state.startX,endX:this.state.endX},g=n.pageX-o;g>0?g=Math.min(g,f+h-p-c):g<0&&(g=Math.max(g,f-c)),y[i]=c+g;var x=this.getIndex(y),S=x.startIndex,b=x.endIndex,k=function(){var _=w.length-1;return i==="startX"&&(s>l?S%v===0:b%v===0)||s<l&&b===_||i==="endX"&&(s>l?b%v===0:S%v===0)||s>l&&b===_};this.setState(mn(mn({},i,c+g),"brushMoveStartX",n.pageX),function(){m&&k()&&m(x)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var o=this,i=this.state,s=i.scaleValues,l=i.startX,c=i.endX,u=this.state[a],f=s.indexOf(u);if(f!==-1){var h=f+n;if(!(h===-1||h>=s.length)){var p=s[h];a==="startX"&&p>=c||a==="endX"&&p<=l||this.setState(mn({},a,p),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,o=n.y,i=n.width,s=n.height,l=n.fill,c=n.stroke;return M.createElement("rect",{stroke:c,fill:l,x:a,y:o,width:i,height:s})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,o=n.y,i=n.width,s=n.height,l=n.data,c=n.children,u=n.padding,f=O.Children.only(c);return f?M.cloneElement(f,{x:a,y:o,width:i,height:s,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,a){var o,i,s=this,l=this.props,c=l.y,u=l.travellerWidth,f=l.height,h=l.traveller,p=l.ariaLabel,m=l.data,v=l.startIndex,w=l.endIndex,y=Math.max(n,this.props.x),g=Ep(Ep({},Re(this.props,!1)),{},{x:y,y:c,width:u,height:f}),x=p||"Min value: ".concat((o=m[v])===null||o===void 0?void 0:o.name,", Max value: ").concat((i=m[w])===null||i===void 0?void 0:i.name);return M.createElement(pt,{tabIndex:0,role:"slider","aria-label":x,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(b){["ArrowLeft","ArrowRight"].includes(b.key)&&(b.preventDefault(),b.stopPropagation(),s.handleTravellerMoveKeyboard(b.key==="ArrowRight"?1:-1,a))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,g))}},{key:"renderSlide",value:function(n,a){var o=this.props,i=o.y,s=o.height,l=o.stroke,c=o.travellerWidth,u=Math.min(n,a)+c,f=Math.max(Math.abs(a-n)-c,0);return M.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:i,width:f,height:s})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,o=n.endIndex,i=n.y,s=n.height,l=n.travellerWidth,c=n.stroke,u=this.state,f=u.startX,h=u.endX,p=5,m={pointerEvents:"none",fill:c};return M.createElement(pt,{className:"recharts-brush-texts"},M.createElement(Bf,ud({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:i+s/2},m),this.getTextOfTick(a)),M.createElement(Bf,ud({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+p,y:i+s/2},m),this.getTextOfTick(o)))}},{key:"render",value:function(){var n=this.props,a=n.data,o=n.className,i=n.children,s=n.x,l=n.y,c=n.width,u=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,m=h.endX,v=h.isTextActive,w=h.isSlideMoving,y=h.isTravellerMoving,g=h.isTravellerFocused;if(!a||!a.length||!ie(s)||!ie(l)||!ie(c)||!ie(u)||c<=0||u<=0)return null;var x=tt("recharts-brush",o),S=M.Children.count(i)===1,b=EV("userSelect","none");return M.createElement(pt,{className:x,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:b},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(p,m),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(m,"endX"),(v||w||y||g||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,o=n.y,i=n.width,s=n.height,l=n.stroke,c=Math.floor(o+s/2)-1;return M.createElement(M.Fragment,null,M.createElement("rect",{x:a,y:o,width:i,height:s,fill:l,stroke:"none"}),M.createElement("line",{x1:a+1,y1:c,x2:a+i-1,y2:c,fill:"none",stroke:"#fff"}),M.createElement("line",{x1:a+1,y1:c+2,x2:a+i-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var o;return M.isValidElement(n)?o=M.cloneElement(n,a):Ie(n)?o=n(a):o=t.renderDefaultTraveller(a),o}},{key:"getDerivedStateFromProps",value:function(n,a){var o=n.data,i=n.width,s=n.x,l=n.travellerWidth,c=n.updateId,u=n.startIndex,f=n.endIndex;if(o!==a.prevData||c!==a.prevUpdateId)return Ep({prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:i},o&&o.length?FV({data:o,width:i,x:s,travellerWidth:l,startIndex:u,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(i!==a.prevWidth||s!==a.prevX||l!==a.prevTravellerWidth)){a.scale.range([s,s+i-l]);var h=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:i,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var o=n.length,i=0,s=o-1;s-i>1;){var l=Math.floor((i+s)/2);n[l]>a?s=l:i=l}return a>=n[s]?s:i}}])}(O.PureComponent);mn(ws,"displayName","Brush");mn(ws,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var zV=_y;function WV(e,t){var r;return zV(e,function(n,a,o){return r=t(n,a,o),!r}),!!r}var UV=WV,GV=jj,HV=Mo,VV=UV,KV=hn,XV=fh;function qV(e,t,r){var n=KV(e)?GV:VV;return r&&XV(e,t,r)&&(t=void 0),n(e,HV(t))}var YV=qV;const QV=Mt(YV);var ka=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},$w=Vj;function ZV(e,t,r){t=="__proto__"&&$w?$w(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var JV=ZV,eK=JV,tK=Gj,rK=Mo;function nK(e,t){var r={};return t=rK(t),tK(e,function(n,a,o){eK(r,a,t(n,a,o))}),r}var aK=nK;const oK=Mt(aK);function iK(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var sK=iK,lK=_y;function cK(e,t){var r=!0;return lK(e,function(n,a,o){return r=!!t(n,a,o),r}),r}var uK=cK,fK=sK,dK=uK,hK=Mo,pK=hn,gK=fh;function mK(e,t,r){var n=pK(e)?fK:dK;return r&&gK(e,t,r)&&(t=void 0),n(e,hK(t))}var yK=mK;const S_=Mt(yK);var vK=["x","y"];function Bc(e){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bc(e)}function Wg(){return Wg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wg.apply(this,arguments)}function Dw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dw(Object(r),!0).forEach(function(n){xK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xK(e,t,r){return t=bK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bK(e){var t=wK(e,"string");return Bc(t)=="symbol"?t:t+""}function wK(e,t){if(Bc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kK(e,t){if(e==null)return{};var r=SK(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function SK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function jK(e,t){var r=e.x,n=e.y,a=kK(e,vK),o="".concat(r),i=parseInt(o,10),s="".concat(n),l=parseInt(s,10),c="".concat(t.height||a.height),u=parseInt(c,10),f="".concat(t.width||a.width),h=parseInt(f,10);return Sl(Sl(Sl(Sl(Sl({},t),a),i?{x:i}:{}),l?{y:l}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function Lw(e){return M.createElement(Fg,Wg({shapeType:"rectangle",propTransformer:jK,activeClassName:"recharts-active-bar"},e))}var OK=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var o=ie(n)||BT(n);return o?t(n,a):(o||hi(),r)}},_K=["value","background"],j_;function ks(e){"@babel/helpers - typeof";return ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ks(e)}function PK(e,t){if(e==null)return{};var r=NK(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function NK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function dd(){return dd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dd.apply(this,arguments)}function Rw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ir(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rw(Object(r),!0).forEach(function(n){ho(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Iw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,__(n.key),n)}}function MK(e,t,r){return t&&Iw(e.prototype,t),r&&Iw(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function CK(e,t,r){return t=hd(t),EK(e,O_()?Reflect.construct(t,r||[],hd(e).constructor):t.apply(e,r))}function EK(e,t){if(t&&(ks(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TK(e)}function TK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O_=function(){return!!e})()}function hd(e){return hd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hd(e)}function $K(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ug(e,t)}function Ug(e,t){return Ug=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ug(e,t)}function ho(e,t,r){return t=__(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function __(e){var t=DK(e,"string");return ks(t)=="symbol"?t:t+""}function DK(e,t){if(ks(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ks(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var tu=function(e){function t(){var r;AK(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=CK(this,t,[].concat(a)),ho(r,"state",{isAnimationFinished:!1}),ho(r,"id",xi("recharts-bar-")),ho(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),i&&i()}),ho(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),i&&i()}),r}return $K(t,e),MK(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,o=this.props,i=o.shape,s=o.dataKey,l=o.activeIndex,c=o.activeBar,u=Re(this.props,!1);return n&&n.map(function(f,h){var p=h===l,m=p?c:i,v=ir(ir(ir({},u),f),{},{isActive:p,option:m,index:h,dataKey:s,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return M.createElement(pt,dd({className:"recharts-bar-rectangle"},lc(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),M.createElement(Lw,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,o=a.data,i=a.layout,s=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,f=a.animationId,h=this.state.prevData;return M.createElement(sa,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var m=p.t,v=o.map(function(w,y){var g=h&&h[y];if(g){var x=nr(g.x,w.x),S=nr(g.y,w.y),b=nr(g.width,w.width),k=nr(g.height,w.height);return ir(ir({},w),{},{x:x(m),y:S(m),width:b(m),height:k(m)})}if(i==="horizontal"){var j=nr(0,w.height),_=j(m);return ir(ir({},w),{},{y:w.y+w.height-_,height:_})}var P=nr(0,w.width),N=P(m);return ir(ir({},w),{},{width:N})});return M.createElement(pt,null,n.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,o=n.isAnimationActive,i=this.state.prevData;return o&&a&&a.length&&(!i||!fi(i,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,o=a.data,i=a.dataKey,s=a.activeIndex,l=Re(this.props.background,!1);return o.map(function(c,u){c.value;var f=c.background,h=PK(c,_K);if(!f)return null;var p=ir(ir(ir(ir(ir({},h),{},{fill:"#eee"},f),l),lc(n.props,c,u)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:i,index:u,className:"recharts-bar-background-rectangle"});return M.createElement(Lw,dd({key:"background-bar-".concat(u),option:n.props.background,isActive:u===s},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,i=o.data,s=o.xAxis,l=o.yAxis,c=o.layout,u=o.children,f=dn(u,Qs);if(!f)return null;var h=c==="vertical"?i[0].height/2:i[0].width/2,p=function(w,y){var g=Array.isArray(w.value)?w.value[1]:w.value;return{x:w.x,y:w.y,value:g,errorVal:mr(w,y)}},m={clipPath:n?"url(#clipPath-".concat(a,")"):null};return M.createElement(pt,m,f.map(function(v){return M.cloneElement(v,{key:"error-bar-".concat(a,"-").concat(v.props.dataKey),data:i,xAxis:s,yAxis:l,layout:c,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,o=n.data,i=n.className,s=n.xAxis,l=n.yAxis,c=n.left,u=n.top,f=n.width,h=n.height,p=n.isAnimationActive,m=n.background,v=n.id;if(a||!o||!o.length)return null;var w=this.state.isAnimationFinished,y=tt("recharts-bar",i),g=s&&s.allowDataOverflow,x=l&&l.allowDataOverflow,S=g||x,b=De(v)?this.id:v;return M.createElement(pt,{className:y},g||x?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(b)},M.createElement("rect",{x:g?c:c-f/2,y:x?u:u-h/2,width:g?f:f*2,height:x?h:h*2}))):null,M.createElement(pt,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(b,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,b),(!p||w)&&wa.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(O.PureComponent);j_=tu;ho(tu,"displayName","Bar");ho(tu,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Co.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ho(tu,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,o=e.xAxis,i=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,u=e.dataStartIndex,f=e.displayedData,h=e.offset,p=lW(n,r);if(!p)return null;var m=t.layout,v=r.type.defaultProps,w=v!==void 0?ir(ir({},v),r.props):r.props,y=w.dataKey,g=w.children,x=w.minPointSize,S=m==="horizontal"?i:o,b=c?S.scale.domain():null,k=mW({numericAxis:S}),j=dn(g,Ay),_=f.map(function(P,N){var A,C,R,I,T,L;c?A=cW(c[u+N],b):(A=mr(P,y),Array.isArray(A)||(A=[k,A]));var U=OK(x,j_.defaultProps.minPointSize)(A[1],N);if(m==="horizontal"){var D,z=[i.scale(A[0]),i.scale(A[1])],W=z[0],te=z[1];C=F1({axis:o,ticks:s,bandSize:a,offset:p.offset,entry:P,index:N}),R=(D=te??W)!==null&&D!==void 0?D:void 0,I=p.size;var Y=W-te;if(T=Number.isNaN(Y)?0:Y,L={x:C,y:i.y,width:I,height:i.height},Math.abs(U)>0&&Math.abs(T)<Math.abs(U)){var X=na(T||U)*(Math.abs(U)-Math.abs(T));R-=X,T+=X}}else{var F=[o.scale(A[0]),o.scale(A[1])],ue=F[0],fe=F[1];if(C=ue,R=F1({axis:i,ticks:l,bandSize:a,offset:p.offset,entry:P,index:N}),I=fe-ue,T=p.size,L={x:o.x,y:R,width:o.width,height:T},Math.abs(U)>0&&Math.abs(I)<Math.abs(U)){var Se=na(I||U)*(Math.abs(U)-Math.abs(I));I+=Se}}return ir(ir(ir({},P),{},{x:C,y:R,width:I,height:T,value:c?A:A[1],payload:P,background:L},j&&j[N]&&j[N].props),{},{tooltipPayload:[a_(r,P)],tooltipPosition:{x:C+I/2,y:R+T/2}})});return ir({data:_,layout:m},h)});function Fc(e){"@babel/helpers - typeof";return Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fc(e)}function LK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,P_(n.key),n)}}function RK(e,t,r){return t&&Bw(e.prototype,t),r&&Bw(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fw(Object(r),!0).forEach(function(n){jh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jh(e,t,r){return t=P_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P_(e){var t=IK(e,"string");return Fc(t)=="symbol"?t:t+""}function IK(e,t){if(Fc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rv=function(t,r,n,a,o){var i=t.width,s=t.height,l=t.layout,c=t.children,u=Object.keys(r),f={left:n.left,leftMirror:n.left,right:i-n.right,rightMirror:i-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},h=!!vn(c,tu);return u.reduce(function(p,m){var v=r[m],w=v.orientation,y=v.domain,g=v.padding,x=g===void 0?{}:g,S=v.mirror,b=v.reversed,k="".concat(w).concat(S?"Mirror":""),j,_,P,N,A;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var C=y[1]-y[0],R=1/0,I=v.categoricalDomain.sort(UT);if(I.forEach(function(F,ue){ue>0&&(R=Math.min((F||0)-(I[ue-1]||0),R))}),Number.isFinite(R)){var T=R/C,L=v.layout==="vertical"?n.height:n.width;if(v.padding==="gap"&&(j=T*L/2),v.padding==="no-gap"){var U=ui(t.barCategoryGap,T*L),D=T*L/2;j=D-U-(D-U)/L*U}}}a==="xAxis"?_=[n.left+(x.left||0)+(j||0),n.left+n.width-(x.right||0)-(j||0)]:a==="yAxis"?_=l==="horizontal"?[n.top+n.height-(x.bottom||0),n.top+(x.top||0)]:[n.top+(x.top||0)+(j||0),n.top+n.height-(x.bottom||0)-(j||0)]:_=v.range,b&&(_=[_[1],_[0]]);var z=iW(v,o,h),W=z.scale,te=z.realScaleType;W.domain(y).range(_),sW(W);var Y=gW(W,Jn(Jn({},v),{},{realScaleType:te}));a==="xAxis"?(A=w==="top"&&!S||w==="bottom"&&S,P=n.left,N=f[k]-A*v.height):a==="yAxis"&&(A=w==="left"&&!S||w==="right"&&S,P=f[k]-A*v.width,N=n.top);var X=Jn(Jn(Jn({},v),Y),{},{realScaleType:te,x:P,y:N,scale:W,width:a==="xAxis"?n.width:v.width,height:a==="yAxis"?n.height:v.height});return X.bandSize=Jf(X,Y),!v.hide&&a==="xAxis"?f[k]+=(A?-1:1)*X.height:v.hide||(f[k]+=(A?-1:1)*X.width),Jn(Jn({},p),{},jh({},m,X))},{})},N_=function(t,r){var n=t.x,a=t.y,o=r.x,i=r.y;return{x:Math.min(n,o),y:Math.min(a,i),width:Math.abs(o-n),height:Math.abs(i-a)}},BK=function(t){var r=t.x1,n=t.y1,a=t.x2,o=t.y2;return N_({x:r,y:n},{x:a,y:o})},A_=function(){function e(t){LK(this,e),this.scale=t}return RK(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,o=n.position;if(r!==void 0){if(o)switch(o){case"start":return this.scale(r);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(r)+s}default:return this.scale(r)}if(a){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],o=n[n.length-1];return a<=o?r>=a&&r<=o:r>=o&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();jh(A_,"EPS",1e-4);var nv=function(t){var r=Object.keys(t).reduce(function(n,a){return Jn(Jn({},n),{},jh({},a,A_.create(t[a])))},{});return Jn(Jn({},r),{},{apply:function(a){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=o.bandAware,s=o.position;return oK(a,function(l,c){return r[c].apply(l,{bandAware:i,position:s})})},isInRange:function(a){return S_(a,function(o,i){return r[i].isInRange(o)})}})};function FK(e){return(e%180+180)%180}var zK=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=FK(a),i=o*Math.PI/180,s=Math.atan(n/r),l=i>s&&i<Math.PI-s?n/Math.sin(i):r/Math.cos(i);return Math.abs(l)},WK=Mo,UK=Yc,GK=ch;function HK(e){return function(t,r,n){var a=Object(t);if(!UK(t)){var o=WK(r);t=GK(t),r=function(s){return o(a[s],s,a)}}var i=e(t,r,n);return i>-1?a[o?t[i]:i]:void 0}}var VK=HK,KK=x_;function XK(e){var t=KK(e),r=t%1;return t===t?r?t-r:t:0}var qK=XK,YK=Ij,QK=Mo,ZK=qK,JK=Math.max;function eX(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:ZK(r);return a<0&&(a=JK(n+a,0)),YK(e,QK(t),a)}var tX=eX,rX=VK,nX=tX,aX=rX(nX),oX=aX;const iX=Mt(oX);var sX=HE(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),av=O.createContext(void 0),ov=O.createContext(void 0),M_=O.createContext(void 0),C_=O.createContext({}),E_=O.createContext(void 0),T_=O.createContext(0),$_=O.createContext(0),zw=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,o=r.offset,i=t.clipPathId,s=t.children,l=t.width,c=t.height,u=sX(o);return M.createElement(av.Provider,{value:n},M.createElement(ov.Provider,{value:a},M.createElement(C_.Provider,{value:o},M.createElement(M_.Provider,{value:u},M.createElement(E_.Provider,{value:i},M.createElement(T_.Provider,{value:c},M.createElement($_.Provider,{value:l},s)))))))},lX=function(){return O.useContext(E_)},D_=function(t){var r=O.useContext(av);r==null&&hi();var n=r[t];return n==null&&hi(),n},cX=function(){var t=O.useContext(av);return lo(t)},uX=function(){var t=O.useContext(ov),r=iX(t,function(n){return S_(n.domain,Number.isFinite)});return r||lo(t)},L_=function(t){var r=O.useContext(ov);r==null&&hi();var n=r[t];return n==null&&hi(),n},fX=function(){var t=O.useContext(M_);return t},dX=function(){return O.useContext(C_)},iv=function(){return O.useContext($_)},sv=function(){return O.useContext(T_)};function Ss(e){"@babel/helpers - typeof";return Ss=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ss(e)}function hX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,I_(n.key),n)}}function gX(e,t,r){return t&&pX(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function mX(e,t,r){return t=pd(t),yX(e,R_()?Reflect.construct(t,r||[],pd(e).constructor):t.apply(e,r))}function yX(e,t){if(t&&(Ss(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vX(e)}function vX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R_=function(){return!!e})()}function pd(e){return pd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pd(e)}function xX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gg(e,t)}function Gg(e,t){return Gg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Gg(e,t)}function Ww(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Uw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ww(Object(r),!0).forEach(function(n){lv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ww(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lv(e,t,r){return t=I_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I_(e){var t=bX(e,"string");return Ss(t)=="symbol"?t:t+""}function bX(e,t){if(Ss(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ss(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function wX(e,t){return OX(e)||jX(e,t)||SX(e,t)||kX()}function kX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SX(e,t){if(e){if(typeof e=="string")return Gw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gw(e,t)}}function Gw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jX(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function OX(e){if(Array.isArray(e))return e}function Hg(){return Hg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hg.apply(this,arguments)}var _X=function(t,r){var n;return M.isValidElement(t)?n=M.cloneElement(t,r):Ie(t)?n=t(r):n=M.createElement("line",Hg({},r,{className:"recharts-reference-line-line"})),n},PX=function(t,r,n,a,o,i,s,l,c){var u=o.x,f=o.y,h=o.width,p=o.height;if(n){var m=c.y,v=t.y.apply(m,{position:i});if(ka(c,"discard")&&!t.y.isInRange(v))return null;var w=[{x:u+h,y:v},{x:u,y:v}];return l==="left"?w.reverse():w}if(r){var y=c.x,g=t.x.apply(y,{position:i});if(ka(c,"discard")&&!t.x.isInRange(g))return null;var x=[{x:g,y:f+p},{x:g,y:f}];return s==="top"?x.reverse():x}if(a){var S=c.segment,b=S.map(function(k){return t.apply(k,{position:i})});return ka(c,"discard")&&QV(b,function(k){return!t.isInRange(k)})?null:b}return null};function NX(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,o=e.yAxisId,i=e.shape,s=e.className,l=e.alwaysShow,c=lX(),u=D_(a),f=L_(o),h=fX();if(!c||!h)return null;Ba(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=nv({x:u.scale,y:f.scale}),m=gr(t),v=gr(r),w=n&&n.length===2,y=PX(p,m,v,w,h,e.position,u.orientation,f.orientation,e);if(!y)return null;var g=wX(y,2),x=g[0],S=x.x,b=x.y,k=g[1],j=k.x,_=k.y,P=ka(e,"hidden")?"url(#".concat(c,")"):void 0,N=Uw(Uw({clipPath:P},Re(e,!0)),{},{x1:S,y1:b,x2:j,y2:_});return M.createElement(pt,{className:tt("recharts-reference-line",s)},_X(i,N),zr.renderCallByParent(e,BK({x1:S,y1:b,x2:j,y2:_})))}var qo=function(e){function t(){return hX(this,t),mX(this,t,arguments)}return xX(t,e),gX(t,[{key:"render",value:function(){return M.createElement(NX,this.props)}}])}(M.Component);lv(qo,"displayName","ReferenceLine");lv(qo,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Vg(){return Vg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vg.apply(this,arguments)}function js(e){"@babel/helpers - typeof";return js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},js(e)}function Hw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hw(Object(r),!0).forEach(function(n){Oh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,F_(n.key),n)}}function CX(e,t,r){return t&&MX(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function EX(e,t,r){return t=gd(t),TX(e,B_()?Reflect.construct(t,r||[],gd(e).constructor):t.apply(e,r))}function TX(e,t){if(t&&(js(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $X(e)}function $X(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B_=function(){return!!e})()}function gd(e){return gd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gd(e)}function DX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kg(e,t)}function Kg(e,t){return Kg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Kg(e,t)}function Oh(e,t,r){return t=F_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F_(e){var t=LX(e,"string");return js(t)=="symbol"?t:t+""}function LX(e,t){if(js(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(js(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var RX=function(t){var r=t.x,n=t.y,a=t.xAxis,o=t.yAxis,i=nv({x:a.scale,y:o.scale}),s=i.apply({x:r,y:n},{bandAware:!0});return ka(t,"discard")&&!i.isInRange(s)?null:s},_h=function(e){function t(){return AX(this,t),EX(this,t,arguments)}return DX(t,e),CX(t,[{key:"render",value:function(){var n=this.props,a=n.x,o=n.y,i=n.r,s=n.alwaysShow,l=n.clipPathId,c=gr(a),u=gr(o);if(Ba(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var f=RX(this.props);if(!f)return null;var h=f.x,p=f.y,m=this.props,v=m.shape,w=m.className,y=ka(this.props,"hidden")?"url(#".concat(l,")"):void 0,g=Vw(Vw({clipPath:y},Re(this.props,!0)),{},{cx:h,cy:p});return M.createElement(pt,{className:tt("recharts-reference-dot",w)},t.renderDot(v,g),zr.renderCallByParent(this.props,{x:h-i,y:p-i,width:2*i,height:2*i}))}}])}(M.Component);Oh(_h,"displayName","ReferenceDot");Oh(_h,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Oh(_h,"renderDot",function(e,t){var r;return M.isValidElement(e)?r=M.cloneElement(e,t):Ie(e)?r=e(t):r=M.createElement(wh,Vg({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function Xg(){return Xg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xg.apply(this,arguments)}function Os(e){"@babel/helpers - typeof";return Os=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Os(e)}function Kw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kw(Object(r),!0).forEach(function(n){Ph(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,W_(n.key),n)}}function FX(e,t,r){return t&&BX(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zX(e,t,r){return t=md(t),WX(e,z_()?Reflect.construct(t,r||[],md(e).constructor):t.apply(e,r))}function WX(e,t){if(t&&(Os(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UX(e)}function UX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(z_=function(){return!!e})()}function md(e){return md=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},md(e)}function GX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qg(e,t)}function qg(e,t){return qg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},qg(e,t)}function Ph(e,t,r){return t=W_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W_(e){var t=HX(e,"string");return Os(t)=="symbol"?t:t+""}function HX(e,t){if(Os(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Os(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var VX=function(t,r,n,a,o){var i=o.x1,s=o.x2,l=o.y1,c=o.y2,u=o.xAxis,f=o.yAxis;if(!u||!f)return null;var h=nv({x:u.scale,y:f.scale}),p={x:t?h.x.apply(i,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},m={x:r?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(c,{position:"end"}):h.y.rangeMax};return ka(o,"discard")&&(!h.isInRange(p)||!h.isInRange(m))?null:N_(p,m)},ru=function(e){function t(){return IX(this,t),zX(this,t,arguments)}return GX(t,e),FX(t,[{key:"render",value:function(){var n=this.props,a=n.x1,o=n.x2,i=n.y1,s=n.y2,l=n.className,c=n.alwaysShow,u=n.clipPathId;Ba(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=gr(a),h=gr(o),p=gr(i),m=gr(s),v=this.props.shape;if(!f&&!h&&!p&&!m&&!v)return null;var w=VX(f,h,p,m,this.props);if(!w&&!v)return null;var y=ka(this.props,"hidden")?"url(#".concat(u,")"):void 0;return M.createElement(pt,{className:tt("recharts-reference-area",l)},t.renderRect(v,Xw(Xw({clipPath:y},Re(this.props,!0)),w)),zr.renderCallByParent(this.props,w))}}])}(M.Component);Ph(ru,"displayName","ReferenceArea");Ph(ru,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Ph(ru,"renderRect",function(e,t){var r;return M.isValidElement(e)?r=M.cloneElement(e,t):Ie(e)?r=e(t):r=M.createElement(tv,Xg({},t,{className:"recharts-reference-area-rect"})),r});function U_(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function KX(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return zK(n,r)}function XX(e,t,r){var n=r==="width",a=e.x,o=e.y,i=e.width,s=e.height;return t===1?{start:n?a:o,end:n?a+i:o+s}:{start:n?a+i:o+s,end:n?a:o}}function yd(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var o=r();return e*(t-e*o/2-n)>=0&&e*(t+e*o/2-a)<=0}function qX(e,t){return U_(e,t+1)}function YX(e,t,r,n,a){for(var o=(n||[]).slice(),i=t.start,s=t.end,l=0,c=1,u=i,f=function(){var m=n==null?void 0:n[l];if(m===void 0)return{v:U_(n,c)};var v=l,w,y=function(){return w===void 0&&(w=r(m,v)),w},g=m.coordinate,x=l===0||yd(e,g,y,u,s);x||(l=0,u=i,c+=1),x&&(u=g+e*(y()/2+a),l+=c)},h;c<=o.length;)if(h=f(),h)return h.v;return[]}function zc(e){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zc(e)}function qw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Br(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qw(Object(r),!0).forEach(function(n){QX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QX(e,t,r){return t=ZX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZX(e){var t=JX(e,"string");return zc(t)=="symbol"?t:t+""}function JX(e,t){if(zc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eq(e,t,r,n,a){for(var o=(n||[]).slice(),i=o.length,s=t.start,l=t.end,c=function(h){var p=o[h],m,v=function(){return m===void 0&&(m=r(p,h)),m};if(h===i-1){var w=e*(p.coordinate+e*v()/2-l);o[h]=p=Br(Br({},p),{},{tickCoord:w>0?p.coordinate-w*e:p.coordinate})}else o[h]=p=Br(Br({},p),{},{tickCoord:p.coordinate});var y=yd(e,p.tickCoord,v,s,l);y&&(l=p.tickCoord-e*(v()/2+a),o[h]=Br(Br({},p),{},{isShow:!0}))},u=i-1;u>=0;u--)c(u);return o}function tq(e,t,r,n,a,o){var i=(n||[]).slice(),s=i.length,l=t.start,c=t.end;if(o){var u=n[s-1],f=r(u,s-1),h=e*(u.coordinate+e*f/2-c);i[s-1]=u=Br(Br({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate});var p=yd(e,u.tickCoord,function(){return f},l,c);p&&(c=u.tickCoord-e*(f/2+a),i[s-1]=Br(Br({},u),{},{isShow:!0}))}for(var m=o?s-1:s,v=function(g){var x=i[g],S,b=function(){return S===void 0&&(S=r(x,g)),S};if(g===0){var k=e*(x.coordinate-e*b()/2-l);i[g]=x=Br(Br({},x),{},{tickCoord:k<0?x.coordinate-k*e:x.coordinate})}else i[g]=x=Br(Br({},x),{},{tickCoord:x.coordinate});var j=yd(e,x.tickCoord,b,l,c);j&&(l=x.tickCoord+e*(b()/2+a),i[g]=Br(Br({},x),{},{isShow:!0}))},w=0;w<m;w++)v(w);return i}function cv(e,t,r){var n=e.tick,a=e.ticks,o=e.viewBox,i=e.minTickGap,s=e.orientation,l=e.interval,c=e.tickFormatter,u=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(ie(l)||Co.isSsr)return qX(a,typeof l=="number"&&ie(l)?l:0);var h=[],p=s==="top"||s==="bottom"?"width":"height",m=u&&p==="width"?Il(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},v=function(x,S){var b=Ie(c)?c(x.value,S):x.value;return p==="width"?KX(Il(b,{fontSize:t,letterSpacing:r}),m,f):Il(b,{fontSize:t,letterSpacing:r})[p]},w=a.length>=2?na(a[1].coordinate-a[0].coordinate):1,y=XX(o,w,p);return l==="equidistantPreserveStart"?YX(w,y,v,a,i):(l==="preserveStart"||l==="preserveStartEnd"?h=tq(w,y,v,a,i,l==="preserveStartEnd"):h=eq(w,y,v,a,i),h.filter(function(g){return g.isShow}))}var rq=["viewBox"],nq=["viewBox"],aq=["ticks"];function _s(e){"@babel/helpers - typeof";return _s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_s(e)}function Gi(){return Gi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gi.apply(this,arguments)}function Yw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yw(Object(r),!0).forEach(function(n){uv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tp(e,t){if(e==null)return{};var r=oq(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function iq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,H_(n.key),n)}}function sq(e,t,r){return t&&Qw(e.prototype,t),r&&Qw(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function lq(e,t,r){return t=vd(t),cq(e,G_()?Reflect.construct(t,r||[],vd(e).constructor):t.apply(e,r))}function cq(e,t){if(t&&(_s(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uq(e)}function uq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(G_=function(){return!!e})()}function vd(e){return vd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vd(e)}function fq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yg(e,t)}function Yg(e,t){return Yg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Yg(e,t)}function uv(e,t,r){return t=H_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H_(e){var t=dq(e,"string");return _s(t)=="symbol"?t:t+""}function dq(e,t){if(_s(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_s(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Zs=function(e){function t(r){var n;return iq(this,t),n=lq(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return fq(t,e),sq(t,[{key:"shouldComponentUpdate",value:function(n,a){var o=n.viewBox,i=Tp(n,rq),s=this.props,l=s.viewBox,c=Tp(s,nq);return!Zi(o,l)||!Zi(i,c)||!Zi(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,o=a.x,i=a.y,s=a.width,l=a.height,c=a.orientation,u=a.tickSize,f=a.mirror,h=a.tickMargin,p,m,v,w,y,g,x=f?-1:1,S=n.tickSize||u,b=ie(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":p=m=n.coordinate,w=i+ +!f*l,v=w-x*S,g=v-x*h,y=b;break;case"left":v=w=n.coordinate,m=o+ +!f*s,p=m-x*S,y=p-x*h,g=b;break;case"right":v=w=n.coordinate,m=o+ +f*s,p=m+x*S,y=p+x*h,g=b;break;default:p=m=n.coordinate,w=i+ +f*l,v=w+x*S,g=v+x*h,y=b;break}return{line:{x1:p,y1:v,x2:m,y2:w},tick:{x:y,y:g}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,o=n.mirror,i;switch(a){case"left":i=o?"start":"end";break;case"right":i=o?"end":"start";break;default:i="middle";break}return i}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,o=n.mirror,i="end";switch(a){case"left":case"right":i="middle";break;case"top":i=o?"start":"end";break;default:i=o?"end":"start";break}return i}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,o=n.y,i=n.width,s=n.height,l=n.orientation,c=n.mirror,u=n.axisLine,f=fr(fr(fr({},Re(this.props,!1)),Re(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);f=fr(fr({},f),{},{x1:a,y1:o+h*s,x2:a+i,y2:o+h*s})}else{var p=+(l==="left"&&!c||l==="right"&&c);f=fr(fr({},f),{},{x1:a+p*i,y1:o,x2:a+p*i,y2:o+s})}return M.createElement("line",Gi({},f,{className:tt("recharts-cartesian-axis-line",Bn(u,"className"))}))}},{key:"renderTicks",value:function(n,a,o){var i=this,s=this.props,l=s.tickLine,c=s.stroke,u=s.tick,f=s.tickFormatter,h=s.unit,p=cv(fr(fr({},this.props),{},{ticks:n}),a,o),m=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),w=Re(this.props,!1),y=Re(u,!1),g=fr(fr({},w),{},{fill:"none"},Re(l,!1)),x=p.map(function(S,b){var k=i.getTickLineCoord(S),j=k.line,_=k.tick,P=fr(fr(fr(fr({textAnchor:m,verticalAnchor:v},w),{},{stroke:"none",fill:c},y),_),{},{index:b,payload:S,visibleTicksCount:p.length,tickFormatter:f});return M.createElement(pt,Gi({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},lc(i.props,S,b)),l&&M.createElement("line",Gi({},g,j,{className:tt("recharts-cartesian-axis-tick-line",Bn(l,"className"))})),u&&t.renderTickItem(u,P,"".concat(Ie(f)?f(S.value,b):S.value).concat(h||"")))});return M.createElement("g",{className:"recharts-cartesian-axis-ticks"},x)}},{key:"render",value:function(){var n=this,a=this.props,o=a.axisLine,i=a.width,s=a.height,l=a.ticksGenerator,c=a.className,u=a.hide;if(u)return null;var f=this.props,h=f.ticks,p=Tp(f,aq),m=h;return Ie(l)&&(m=h&&h.length>0?l(this.props):l(p)),i<=0||s<=0||!m||!m.length?null:M.createElement(pt,{className:tt("recharts-cartesian-axis",c),ref:function(w){n.layerReference=w}},o&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),zr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,o){var i,s=tt(a.className,"recharts-cartesian-axis-tick-value");return M.isValidElement(n)?i=M.cloneElement(n,fr(fr({},a),{},{className:s})):Ie(n)?i=n(fr(fr({},a),{},{className:s})):i=M.createElement(Bf,Gi({},a,{className:"recharts-cartesian-axis-tick-value"}),o),i}}])}(O.Component);uv(Zs,"displayName","CartesianAxis");uv(Zs,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var hq=["x1","y1","x2","y2","key"],pq=["offset"];function pi(e){"@babel/helpers - typeof";return pi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pi(e)}function Zw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zw(Object(r),!0).forEach(function(n){gq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gq(e,t,r){return t=mq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mq(e){var t=yq(e,"string");return pi(t)=="symbol"?t:t+""}function yq(e,t){if(pi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yo(){return Yo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yo.apply(this,arguments)}function Jw(e,t){if(e==null)return{};var r=vq(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function vq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var xq=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,o=t.y,i=t.width,s=t.height,l=t.ry;return M.createElement("rect",{x:a,y:o,ry:l,width:i,height:s,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function V_(e,t){var r;if(M.isValidElement(e))r=M.cloneElement(e,t);else if(Ie(e))r=e(t);else{var n=t.x1,a=t.y1,o=t.x2,i=t.y2,s=t.key,l=Jw(t,hq),c=Re(l,!1);c.offset;var u=Jw(c,pq);r=M.createElement("line",Yo({},u,{x1:n,y1:a,x2:o,y2:i,fill:"none",key:s}))}return r}function bq(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,o=e.horizontalPoints;if(!a||!o||!o.length)return null;var i=o.map(function(s,l){var c=Wr(Wr({},e),{},{x1:t,y1:s,x2:t+r,y2:s,key:"line-".concat(l),index:l});return V_(a,c)});return M.createElement("g",{className:"recharts-cartesian-grid-horizontal"},i)}function wq(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,o=e.verticalPoints;if(!a||!o||!o.length)return null;var i=o.map(function(s,l){var c=Wr(Wr({},e),{},{x1:s,y1:t,x2:s,y2:t+r,key:"line-".concat(l),index:l});return V_(a,c)});return M.createElement("g",{className:"recharts-cartesian-grid-vertical"},i)}function kq(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,o=e.width,i=e.height,s=e.horizontalPoints,l=e.horizontal,c=l===void 0?!0:l;if(!c||!t||!t.length)return null;var u=s.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==u[0]&&u.unshift(0);var f=u.map(function(h,p){var m=!u[p+1],v=m?a+i-h:u[p+1]-h;if(v<=0)return null;var w=p%t.length;return M.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:v,width:o,stroke:"none",fill:t[w],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Sq(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,o=e.x,i=e.y,s=e.width,l=e.height,c=e.verticalPoints;if(!r||!n||!n.length)return null;var u=c.map(function(h){return Math.round(h+o-o)}).sort(function(h,p){return h-p});o!==u[0]&&u.unshift(0);var f=u.map(function(h,p){var m=!u[p+1],v=m?o+s-h:u[p+1]-h;if(v<=0)return null;var w=p%n.length;return M.createElement("rect",{key:"react-".concat(p),x:h,y:i,width:v,height:l,stroke:"none",fill:n[w],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var jq=function(t,r){var n=t.xAxis,a=t.width,o=t.height,i=t.offset;return r_(cv(Wr(Wr(Wr({},Zs.defaultProps),n),{},{ticks:La(n,!0),viewBox:{x:0,y:0,width:a,height:o}})),i.left,i.left+i.width,r)},Oq=function(t,r){var n=t.yAxis,a=t.width,o=t.height,i=t.offset;return r_(cv(Wr(Wr(Wr({},Zs.defaultProps),n),{},{ticks:La(n,!0),viewBox:{x:0,y:0,width:a,height:o}})),i.top,i.top+i.height,r)},Ai={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function gi(e){var t,r,n,a,o,i,s=iv(),l=sv(),c=dX(),u=Wr(Wr({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Ai.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Ai.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Ai.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Ai.horizontalFill,vertical:(o=e.vertical)!==null&&o!==void 0?o:Ai.vertical,verticalFill:(i=e.verticalFill)!==null&&i!==void 0?i:Ai.verticalFill,x:ie(e.x)?e.x:c.left,y:ie(e.y)?e.y:c.top,width:ie(e.width)?e.width:c.width,height:ie(e.height)?e.height:c.height}),f=u.x,h=u.y,p=u.width,m=u.height,v=u.syncWithTicks,w=u.horizontalValues,y=u.verticalValues,g=cX(),x=uX();if(!ie(p)||p<=0||!ie(m)||m<=0||!ie(f)||f!==+f||!ie(h)||h!==+h)return null;var S=u.verticalCoordinatesGenerator||jq,b=u.horizontalCoordinatesGenerator||Oq,k=u.horizontalPoints,j=u.verticalPoints;if((!k||!k.length)&&Ie(b)){var _=w&&w.length,P=b({yAxis:x?Wr(Wr({},x),{},{ticks:_?w:x.ticks}):void 0,width:s,height:l,offset:c},_?!0:v);Ba(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(pi(P),"]")),Array.isArray(P)&&(k=P)}if((!j||!j.length)&&Ie(S)){var N=y&&y.length,A=S({xAxis:g?Wr(Wr({},g),{},{ticks:N?y:g.ticks}):void 0,width:s,height:l,offset:c},N?!0:v);Ba(Array.isArray(A),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(pi(A),"]")),Array.isArray(A)&&(j=A)}return M.createElement("g",{className:"recharts-cartesian-grid"},M.createElement(xq,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),M.createElement(bq,Yo({},u,{offset:c,horizontalPoints:k,xAxis:g,yAxis:x})),M.createElement(wq,Yo({},u,{offset:c,verticalPoints:j,xAxis:g,yAxis:x})),M.createElement(kq,Yo({},u,{horizontalPoints:k})),M.createElement(Sq,Yo({},u,{verticalPoints:j})))}gi.displayName="CartesianGrid";var _q=["type","layout","connectNulls","ref"],Pq=["key"];function Ps(e){"@babel/helpers - typeof";return Ps=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ps(e)}function e2(e,t){if(e==null)return{};var r=Nq(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Nq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Wl(){return Wl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wl.apply(this,arguments)}function t2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t2(Object(r),!0).forEach(function(n){ea(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mi(e){return Eq(e)||Cq(e)||Mq(e)||Aq()}function Aq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mq(e,t){if(e){if(typeof e=="string")return Qg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qg(e,t)}}function Cq(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Eq(e){if(Array.isArray(e))return Qg(e)}function Qg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Tq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,X_(n.key),n)}}function $q(e,t,r){return t&&r2(e.prototype,t),r&&r2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dq(e,t,r){return t=xd(t),Lq(e,K_()?Reflect.construct(t,r||[],xd(e).constructor):t.apply(e,r))}function Lq(e,t){if(t&&(Ps(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rq(e)}function Rq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(K_=function(){return!!e})()}function xd(e){return xd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xd(e)}function Iq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zg(e,t)}function Zg(e,t){return Zg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Zg(e,t)}function ea(e,t,r){return t=X_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X_(e){var t=Bq(e,"string");return Ps(t)=="symbol"?t:t+""}function Bq(e,t){if(Ps(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ps(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ur=function(e){function t(){var r;Tq(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=Dq(this,t,[].concat(a)),ea(r,"state",{isAnimationFinished:!0,totalLength:0}),ea(r,"generateSimpleStrokeDasharray",function(i,s){return"".concat(s,"px ").concat(i-s,"px")}),ea(r,"getStrokeDasharray",function(i,s,l){var c=l.reduce(function(y,g){return y+g});if(!c)return r.generateSimpleStrokeDasharray(s,i);for(var u=Math.floor(i/c),f=i%c,h=s-i,p=[],m=0,v=0;m<l.length;v+=l[m],++m)if(v+l[m]>f){p=[].concat(Mi(l.slice(0,m)),[f-v]);break}var w=p.length%2===0?[0,h]:[h];return[].concat(Mi(t.repeat(l,u)),Mi(p),w).map(function(y){return"".concat(y,"px")}).join(", ")}),ea(r,"id",xi("recharts-line-")),ea(r,"pathRef",function(i){r.mainCurve=i}),ea(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),ea(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return Iq(t,e),$q(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,i=o.points,s=o.xAxis,l=o.yAxis,c=o.layout,u=o.children,f=dn(u,Qs);if(!f)return null;var h=function(v,w){return{x:v.x,y:v.y,value:v.value,errorVal:mr(v.payload,w)}},p={clipPath:n?"url(#clipPath-".concat(a,")"):null};return M.createElement(pt,p,f.map(function(m){return M.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:i,xAxis:s,yAxis:l,layout:c,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,o){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,c=s.points,u=s.dataKey,f=Re(this.props,!1),h=Re(l,!0),p=c.map(function(v,w){var y=gn(gn(gn({key:"dot-".concat(w),r:3},f),h),{},{index:w,cx:v.x,cy:v.y,value:v.value,dataKey:u,payload:v.payload,points:c});return t.renderDotItem(l,y)}),m={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(o,")"):null};return M.createElement(pt,Wl({className:"recharts-line-dots",key:"dots"},m),p)}},{key:"renderCurveStatically",value:function(n,a,o,i){var s=this.props,l=s.type,c=s.layout,u=s.connectNulls;s.ref;var f=e2(s,_q),h=gn(gn(gn({},Re(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(o,")"):null,points:n},i),{},{type:l,layout:c,connectNulls:u});return M.createElement(ni,Wl({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var o=this,i=this.props,s=i.points,l=i.strokeDasharray,c=i.isAnimationActive,u=i.animationBegin,f=i.animationDuration,h=i.animationEasing,p=i.animationId,m=i.animateNewValues,v=i.width,w=i.height,y=this.state,g=y.prevPoints,x=y.totalLength;return M.createElement(sa,{begin:u,duration:f,isActive:c,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var b=S.t;if(g){var k=g.length/s.length,j=s.map(function(C,R){var I=Math.floor(R*k);if(g[I]){var T=g[I],L=nr(T.x,C.x),U=nr(T.y,C.y);return gn(gn({},C),{},{x:L(b),y:U(b)})}if(m){var D=nr(v*2,C.x),z=nr(w/2,C.y);return gn(gn({},C),{},{x:D(b),y:z(b)})}return gn(gn({},C),{},{x:C.x,y:C.y})});return o.renderCurveStatically(j,n,a)}var _=nr(0,x),P=_(b),N;if(l){var A="".concat(l).split(/[,\s]+/gim).map(function(C){return parseFloat(C)});N=o.getStrokeDasharray(P,x,A)}else N=o.generateSimpleStrokeDasharray(x,P);return o.renderCurveStatically(s,n,a,{strokeDasharray:N})})}},{key:"renderCurve",value:function(n,a){var o=this.props,i=o.points,s=o.isAnimationActive,l=this.state,c=l.prevPoints,u=l.totalLength;return s&&i&&i.length&&(!c&&u>0||!fi(c,i))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(i,n,a)}},{key:"render",value:function(){var n,a=this.props,o=a.hide,i=a.dot,s=a.points,l=a.className,c=a.xAxis,u=a.yAxis,f=a.top,h=a.left,p=a.width,m=a.height,v=a.isAnimationActive,w=a.id;if(o||!s||!s.length)return null;var y=this.state.isAnimationFinished,g=s.length===1,x=tt("recharts-line",l),S=c&&c.allowDataOverflow,b=u&&u.allowDataOverflow,k=S||b,j=De(w)?this.id:w,_=(n=Re(i,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},P=_.r,N=P===void 0?3:P,A=_.strokeWidth,C=A===void 0?2:A,R=qS(i)?i:{},I=R.clipDot,T=I===void 0?!0:I,L=N*2+C;return M.createElement(pt,{className:x},S||b?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(j)},M.createElement("rect",{x:S?h:h-p/2,y:b?f:f-m/2,width:S?p:p*2,height:b?m:m*2})),!T&&M.createElement("clipPath",{id:"clipPath-dots-".concat(j)},M.createElement("rect",{x:h-L/2,y:f-L/2,width:p+L,height:m+L}))):null,!g&&this.renderCurve(k,j),this.renderErrorBar(k,j),(g||i)&&this.renderDots(k,T,j),(!v||y)&&wa.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var o=n.length%2!==0?[].concat(Mi(n),[0]):n,i=[],s=0;s<a;++s)i=[].concat(Mi(i),Mi(o));return i}},{key:"renderDotItem",value:function(n,a){var o;if(M.isValidElement(n))o=M.cloneElement(n,a);else if(Ie(n))o=n(a);else{var i=a.key,s=e2(a,Pq),l=tt("recharts-line-dot",typeof n!="boolean"?n.className:"");o=M.createElement(wh,Wl({key:i},s,{className:l}))}return o}}])}(O.PureComponent);ea(Ur,"displayName","Line");ea(Ur,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Co.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ea(Ur,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,o=e.yAxisTicks,i=e.dataKey,s=e.bandSize,l=e.displayedData,c=e.offset,u=t.layout,f=l.map(function(h,p){var m=mr(h,i);return u==="horizontal"?{x:vs({axis:r,ticks:a,bandSize:s,entry:h,index:p}),y:De(m)?null:n.scale(m),value:m,payload:h}:{x:De(m)?null:r.scale(m),y:vs({axis:n,ticks:o,bandSize:s,entry:h,index:p}),value:m,payload:h}});return gn({points:f,layout:u},c)});var Fq=["layout","type","stroke","connectNulls","isRange","ref"],zq=["key"],q_;function Ns(e){"@babel/helpers - typeof";return Ns=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ns(e)}function Y_(e,t){if(e==null)return{};var r=Wq(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Wq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Qo(){return Qo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qo.apply(this,arguments)}function n2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ro(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n2(Object(r),!0).forEach(function(n){ya(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Uq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Z_(n.key),n)}}function Gq(e,t,r){return t&&a2(e.prototype,t),r&&a2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Hq(e,t,r){return t=bd(t),Vq(e,Q_()?Reflect.construct(t,r||[],bd(e).constructor):t.apply(e,r))}function Vq(e,t){if(t&&(Ns(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kq(e)}function Kq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Q_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Q_=function(){return!!e})()}function bd(e){return bd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bd(e)}function Xq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jg(e,t)}function Jg(e,t){return Jg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Jg(e,t)}function ya(e,t,r){return t=Z_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z_(e){var t=qq(e,"string");return Ns(t)=="symbol"?t:t+""}function qq(e,t){if(Ns(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ns(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Rn=function(e){function t(){var r;Uq(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=Hq(this,t,[].concat(a)),ya(r,"state",{isAnimationFinished:!0}),ya(r,"id",xi("recharts-area-")),ya(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Ie(i)&&i()}),ya(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Ie(i)&&i()}),r}return Xq(t,e),Gq(t,[{key:"renderDots",value:function(n,a,o){var i=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(i&&!s)return null;var l=this.props,c=l.dot,u=l.points,f=l.dataKey,h=Re(this.props,!1),p=Re(c,!0),m=u.map(function(w,y){var g=ro(ro(ro({key:"dot-".concat(y),r:3},h),p),{},{index:y,cx:w.x,cy:w.y,dataKey:f,value:w.value,payload:w.payload,points:u});return t.renderDotItem(c,g)}),v={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(o,")"):null};return M.createElement(pt,Qo({className:"recharts-area-dots"},v),m)}},{key:"renderHorizontalRect",value:function(n){var a=this.props,o=a.baseLine,i=a.points,s=a.strokeWidth,l=i[0].x,c=i[i.length-1].x,u=n*Math.abs(l-c),f=fo(i.map(function(h){return h.y||0}));return ie(o)&&typeof o=="number"?f=Math.max(o,f):o&&Array.isArray(o)&&o.length&&(f=Math.max(fo(o.map(function(h){return h.y||0})),f)),ie(f)?M.createElement("rect",{x:l<c?l:l-u,y:0,width:u,height:Math.floor(f+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,o=a.baseLine,i=a.points,s=a.strokeWidth,l=i[0].y,c=i[i.length-1].y,u=n*Math.abs(l-c),f=fo(i.map(function(h){return h.x||0}));return ie(o)&&typeof o=="number"?f=Math.max(o,f):o&&Array.isArray(o)&&o.length&&(f=Math.max(fo(o.map(function(h){return h.x||0})),f)),ie(f)?M.createElement("rect",{x:0,y:l<c?l:l-u,width:f+(s?parseInt("".concat(s),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,o,i){var s=this.props,l=s.layout,c=s.type,u=s.stroke,f=s.connectNulls,h=s.isRange;s.ref;var p=Y_(s,Fq);return M.createElement(pt,{clipPath:o?"url(#clipPath-".concat(i,")"):null},M.createElement(ni,Qo({},Re(p,!0),{points:n,connectNulls:f,type:c,baseLine:a,layout:l,stroke:"none",className:"recharts-area-area"})),u!=="none"&&M.createElement(ni,Qo({},Re(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:f,fill:"none",points:n})),u!=="none"&&h&&M.createElement(ni,Qo({},Re(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:f,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(n,a){var o=this,i=this.props,s=i.points,l=i.baseLine,c=i.isAnimationActive,u=i.animationBegin,f=i.animationDuration,h=i.animationEasing,p=i.animationId,m=this.state,v=m.prevPoints,w=m.prevBaseLine;return M.createElement(sa,{begin:u,duration:f,isActive:c,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var g=y.t;if(v){var x=v.length/s.length,S=s.map(function(_,P){var N=Math.floor(P*x);if(v[N]){var A=v[N],C=nr(A.x,_.x),R=nr(A.y,_.y);return ro(ro({},_),{},{x:C(g),y:R(g)})}return _}),b;if(ie(l)&&typeof l=="number"){var k=nr(w,l);b=k(g)}else if(De(l)||Gs(l)){var j=nr(w,0);b=j(g)}else b=l.map(function(_,P){var N=Math.floor(P*x);if(w[N]){var A=w[N],C=nr(A.x,_.x),R=nr(A.y,_.y);return ro(ro({},_),{},{x:C(g),y:R(g)})}return _});return o.renderAreaStatically(S,b,n,a)}return M.createElement(pt,null,M.createElement("defs",null,M.createElement("clipPath",{id:"animationClipPath-".concat(a)},o.renderClipRect(g))),M.createElement(pt,{clipPath:"url(#animationClipPath-".concat(a,")")},o.renderAreaStatically(s,l,n,a)))})}},{key:"renderArea",value:function(n,a){var o=this.props,i=o.points,s=o.baseLine,l=o.isAnimationActive,c=this.state,u=c.prevPoints,f=c.prevBaseLine,h=c.totalLength;return l&&i&&i.length&&(!u&&h>0||!fi(u,i)||!fi(f,s))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(i,s,n,a)}},{key:"render",value:function(){var n,a=this.props,o=a.hide,i=a.dot,s=a.points,l=a.className,c=a.top,u=a.left,f=a.xAxis,h=a.yAxis,p=a.width,m=a.height,v=a.isAnimationActive,w=a.id;if(o||!s||!s.length)return null;var y=this.state.isAnimationFinished,g=s.length===1,x=tt("recharts-area",l),S=f&&f.allowDataOverflow,b=h&&h.allowDataOverflow,k=S||b,j=De(w)?this.id:w,_=(n=Re(i,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},P=_.r,N=P===void 0?3:P,A=_.strokeWidth,C=A===void 0?2:A,R=qS(i)?i:{},I=R.clipDot,T=I===void 0?!0:I,L=N*2+C;return M.createElement(pt,{className:x},S||b?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(j)},M.createElement("rect",{x:S?u:u-p/2,y:b?c:c-m/2,width:S?p:p*2,height:b?m:m*2})),!T&&M.createElement("clipPath",{id:"clipPath-dots-".concat(j)},M.createElement("rect",{x:u-L/2,y:c-L/2,width:p+L,height:m+L}))):null,g?null:this.renderArea(k,j),(i||g)&&this.renderDots(k,T,j),(!v||y)&&wa.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(O.PureComponent);q_=Rn;ya(Rn,"displayName","Area");ya(Rn,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Co.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});ya(Rn,"getBaseValue",function(e,t,r,n){var a=e.layout,o=e.baseValue,i=t.props.baseValue,s=i??o;if(ie(s)&&typeof s=="number")return s;var l=a==="horizontal"?n:r,c=l.scale.domain();if(l.type==="number"){var u=Math.max(c[0],c[1]),f=Math.min(c[0],c[1]);return s==="dataMin"?f:s==="dataMax"||u<0?u:Math.max(Math.min(c[0],c[1]),0)}return s==="dataMin"?c[0]:s==="dataMax"?c[1]:c[0]});ya(Rn,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,a=e.yAxis,o=e.xAxisTicks,i=e.yAxisTicks,s=e.bandSize,l=e.dataKey,c=e.stackedData,u=e.dataStartIndex,f=e.displayedData,h=e.offset,p=t.layout,m=c&&c.length,v=q_.getBaseValue(t,r,n,a),w=p==="horizontal",y=!1,g=f.map(function(S,b){var k;m?k=c[u+b]:(k=mr(S,l),Array.isArray(k)?y=!0:k=[v,k]);var j=k[1]==null||m&&mr(S,l)==null;return w?{x:vs({axis:n,ticks:o,bandSize:s,entry:S,index:b}),y:j?null:a.scale(k[1]),value:k,payload:S}:{x:j?null:n.scale(k[1]),y:vs({axis:a,ticks:i,bandSize:s,entry:S,index:b}),value:k,payload:S}}),x;return m||y?x=g.map(function(S){var b=Array.isArray(S.value)?S.value[0]:null;return w?{x:S.x,y:b!=null&&S.y!=null?a.scale(b):null}:{x:b!=null?n.scale(b):null,y:S.y}}):x=w?a.scale(v):n.scale(v),ro({points:g,baseLine:x,layout:p,isRange:y},h)});ya(Rn,"renderDotItem",function(e,t){var r;if(M.isValidElement(e))r=M.cloneElement(e,t);else if(Ie(e))r=e(t);else{var n=tt("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,o=Y_(t,zq);r=M.createElement(wh,Qo({},o,{key:a,className:n}))}return r});function As(e){"@babel/helpers - typeof";return As=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},As(e)}function Yq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tP(n.key),n)}}function Zq(e,t,r){return t&&Qq(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Jq(e,t,r){return t=wd(t),eY(e,J_()?Reflect.construct(t,r||[],wd(e).constructor):t.apply(e,r))}function eY(e,t){if(t&&(As(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tY(e)}function tY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function J_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J_=function(){return!!e})()}function wd(e){return wd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wd(e)}function rY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&em(e,t)}function em(e,t){return em=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},em(e,t)}function eP(e,t,r){return t=tP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tP(e){var t=nY(e,"string");return As(t)=="symbol"?t:t+""}function nY(e,t){if(As(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(As(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Nh=function(e){function t(){return Yq(this,t),Jq(this,t,arguments)}return rY(t,e),Zq(t,[{key:"render",value:function(){return null}}])}(O.Component);eP(Nh,"displayName","ZAxis");eP(Nh,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var aY=["option","isActive"];function Ul(){return Ul=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ul.apply(this,arguments)}function oY(e,t){if(e==null)return{};var r=iY(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function iY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function sY(e){var t=e.option,r=e.isActive,n=oY(e,aY);return typeof t=="string"?O.createElement(Fg,Ul({option:O.createElement(lh,Ul({type:t},n)),isActive:r,shapeType:"symbols"},n)):O.createElement(Fg,Ul({option:t,isActive:r,shapeType:"symbols"},n))}function Ms(e){"@babel/helpers - typeof";return Ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ms(e)}function Gl(){return Gl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gl.apply(this,arguments)}function o2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function En(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o2(Object(r),!0).forEach(function(n){po(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nP(n.key),n)}}function cY(e,t,r){return t&&i2(e.prototype,t),r&&i2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function uY(e,t,r){return t=kd(t),fY(e,rP()?Reflect.construct(t,r||[],kd(e).constructor):t.apply(e,r))}function fY(e,t){if(t&&(Ms(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dY(e)}function dY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rP=function(){return!!e})()}function kd(e){return kd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kd(e)}function hY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tm(e,t)}function tm(e,t){return tm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},tm(e,t)}function po(e,t,r){return t=nP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nP(e){var t=pY(e,"string");return Ms(t)=="symbol"?t:t+""}function pY(e,t){if(Ms(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ms(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var an=function(e){function t(){var r;lY(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=uY(this,t,[].concat(a)),po(r,"state",{isAnimationFinished:!1}),po(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0})}),po(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1})}),po(r,"id",xi("recharts-scatter-")),r}return hY(t,e),cY(t,[{key:"renderSymbolsStatically",value:function(n){var a=this,o=this.props,i=o.shape,s=o.activeShape,l=o.activeIndex,c=Re(this.props,!1);return n.map(function(u,f){var h=l===f,p=h?s:i,m=En(En({},c),u);return M.createElement(pt,Gl({className:"recharts-scatter-symbol",key:"symbol-".concat(u==null?void 0:u.cx,"-").concat(u==null?void 0:u.cy,"-").concat(u==null?void 0:u.size,"-").concat(f)},lc(a.props,u,f),{role:"img"}),M.createElement(sY,Gl({option:p,isActive:h,key:"symbol-".concat(f)},m)))})}},{key:"renderSymbolsWithAnimation",value:function(){var n=this,a=this.props,o=a.points,i=a.isAnimationActive,s=a.animationBegin,l=a.animationDuration,c=a.animationEasing,u=a.animationId,f=this.state.prevPoints;return M.createElement(sa,{begin:s,duration:l,isActive:i,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var p=h.t,m=o.map(function(v,w){var y=f&&f[w];if(y){var g=nr(y.cx,v.cx),x=nr(y.cy,v.cy),S=nr(y.size,v.size);return En(En({},v),{},{cx:g(p),cy:x(p),size:S(p)})}var b=nr(0,v.size);return En(En({},v),{},{size:b(p)})});return M.createElement(pt,null,n.renderSymbolsStatically(m))})}},{key:"renderSymbols",value:function(){var n=this.props,a=n.points,o=n.isAnimationActive,i=this.state.prevPoints;return o&&a&&a.length&&(!i||!fi(i,a))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(a)}},{key:"renderErrorBar",value:function(){var n=this.props.isAnimationActive;if(n&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,i=a.xAxis,s=a.yAxis,l=a.children,c=dn(l,Qs);return c?c.map(function(u,f){var h=u.props,p=h.direction,m=h.dataKey;return M.cloneElement(u,{key:"".concat(p,"-").concat(m,"-").concat(o[f]),data:o,xAxis:i,yAxis:s,layout:p==="x"?"vertical":"horizontal",dataPointFormatter:function(w,y){return{x:w.cx,y:w.cy,value:p==="x"?+w.node.x:+w.node.y,errorVal:mr(w,y)}}})}):null}},{key:"renderLine",value:function(){var n=this.props,a=n.points,o=n.line,i=n.lineType,s=n.lineJointType,l=Re(this.props,!1),c=Re(o,!1),u,f;if(i==="joint")u=a.map(function(x){return{x:x.cx,y:x.cy}});else if(i==="fitting"){var h=WT(a),p=h.xmin,m=h.xmax,v=h.a,w=h.b,y=function(S){return v*S+w};u=[{x:p,y:y(p)},{x:m,y:y(m)}]}var g=En(En(En({},l),{},{fill:"none",stroke:l&&l.fill},c),{},{points:u});return M.isValidElement(o)?f=M.cloneElement(o,g):Ie(o)?f=o(g):f=M.createElement(ni,Gl({},g,{type:s})),M.createElement(pt,{className:"recharts-scatter-line",key:"recharts-scatter-line"},f)}},{key:"render",value:function(){var n=this.props,a=n.hide,o=n.points,i=n.line,s=n.className,l=n.xAxis,c=n.yAxis,u=n.left,f=n.top,h=n.width,p=n.height,m=n.id,v=n.isAnimationActive;if(a||!o||!o.length)return null;var w=this.state.isAnimationFinished,y=tt("recharts-scatter",s),g=l&&l.allowDataOverflow,x=c&&c.allowDataOverflow,S=g||x,b=De(m)?this.id:m;return M.createElement(pt,{className:y,clipPath:S?"url(#clipPath-".concat(b,")"):null},g||x?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(b)},M.createElement("rect",{x:g?u:u-h/2,y:x?f:f-p/2,width:g?h:h*2,height:x?p:p*2}))):null,i&&this.renderLine(),this.renderErrorBar(),M.createElement(pt,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!v||w)&&wa.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}}])}(O.PureComponent);po(an,"displayName","Scatter");po(an,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!Co.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});po(an,"getComposedData",function(e){var t=e.xAxis,r=e.yAxis,n=e.zAxis,a=e.item,o=e.displayedData,i=e.xAxisTicks,s=e.yAxisTicks,l=e.offset,c=a.props.tooltipType,u=dn(a.props.children,Ay),f=De(t.dataKey)?a.props.dataKey:t.dataKey,h=De(r.dataKey)?a.props.dataKey:r.dataKey,p=n&&n.dataKey,m=n?n.range:Nh.defaultProps.range,v=m&&m[0],w=t.scale.bandwidth?t.scale.bandwidth():0,y=r.scale.bandwidth?r.scale.bandwidth():0,g=o.map(function(x,S){var b=mr(x,f),k=mr(x,h),j=!De(p)&&mr(x,p)||"-",_=[{name:De(t.dataKey)?a.props.name:t.name||t.dataKey,unit:t.unit||"",value:b,payload:x,dataKey:f,type:c},{name:De(r.dataKey)?a.props.name:r.name||r.dataKey,unit:r.unit||"",value:k,payload:x,dataKey:h,type:c}];j!=="-"&&_.push({name:n.name||n.dataKey,unit:n.unit||"",value:j,payload:x,dataKey:p,type:c});var P=vs({axis:t,ticks:i,bandSize:w,entry:x,index:S,dataKey:f}),N=vs({axis:r,ticks:s,bandSize:y,entry:x,index:S,dataKey:h}),A=j!=="-"?n.scale(j):v,C=Math.sqrt(Math.max(A,0)/Math.PI);return En(En({},x),{},{cx:P,cy:N,x:P-C,y:N-C,xAxis:t,yAxis:r,zAxis:n,width:2*C,height:2*C,size:A,node:{x:b,y:k,z:j},tooltipPayload:_,tooltipPosition:{x:P,y:N},payload:x},u&&u[S]&&u[S].props)});return En({points:g},l)});function Cs(e){"@babel/helpers - typeof";return Cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cs(e)}function gY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iP(n.key),n)}}function yY(e,t,r){return t&&mY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function vY(e,t,r){return t=Sd(t),xY(e,aP()?Reflect.construct(t,r||[],Sd(e).constructor):t.apply(e,r))}function xY(e,t){if(t&&(Cs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bY(e)}function bY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aP=function(){return!!e})()}function Sd(e){return Sd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sd(e)}function wY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rm(e,t)}function rm(e,t){return rm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},rm(e,t)}function oP(e,t,r){return t=iP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iP(e){var t=kY(e,"string");return Cs(t)=="symbol"?t:t+""}function kY(e,t){if(Cs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function nm(){return nm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nm.apply(this,arguments)}function SY(e){var t=e.xAxisId,r=iv(),n=sv(),a=D_(t);return a==null?null:O.createElement(Zs,nm({},a,{className:tt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(i){return La(i,!0)}}))}var la=function(e){function t(){return gY(this,t),vY(this,t,arguments)}return wY(t,e),yY(t,[{key:"render",value:function(){return O.createElement(SY,this.props)}}])}(O.Component);oP(la,"displayName","XAxis");oP(la,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Es(e){"@babel/helpers - typeof";return Es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Es(e)}function jY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cP(n.key),n)}}function _Y(e,t,r){return t&&OY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function PY(e,t,r){return t=jd(t),NY(e,sP()?Reflect.construct(t,r||[],jd(e).constructor):t.apply(e,r))}function NY(e,t){if(t&&(Es(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AY(e)}function AY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sP=function(){return!!e})()}function jd(e){return jd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jd(e)}function MY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&am(e,t)}function am(e,t){return am=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},am(e,t)}function lP(e,t,r){return t=cP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cP(e){var t=CY(e,"string");return Es(t)=="symbol"?t:t+""}function CY(e,t){if(Es(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Es(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function om(){return om=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},om.apply(this,arguments)}var EY=function(t){var r=t.yAxisId,n=iv(),a=sv(),o=L_(r);return o==null?null:O.createElement(Zs,om({},o,{className:tt("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(s){return La(s,!0)}}))},ca=function(e){function t(){return jY(this,t),PY(this,t,arguments)}return MY(t,e),_Y(t,[{key:"render",value:function(){return O.createElement(EY,this.props)}}])}(O.Component);lP(ca,"displayName","YAxis");lP(ca,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function s2(e){return LY(e)||DY(e)||$Y(e)||TY()}function TY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Y(e,t){if(e){if(typeof e=="string")return im(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return im(e,t)}}function DY(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function LY(e){if(Array.isArray(e))return im(e)}function im(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var sm=function(t,r,n,a,o){var i=dn(t,qo),s=dn(t,_h),l=[].concat(s2(i),s2(s)),c=dn(t,ru),u="".concat(a,"Id"),f=a[0],h=r;if(l.length&&(h=l.reduce(function(v,w){if(w.props[u]===n&&ka(w.props,"extendDomain")&&ie(w.props[f])){var y=w.props[f];return[Math.min(v[0],y),Math.max(v[1],y)]}return v},h)),c.length){var p="".concat(f,"1"),m="".concat(f,"2");h=c.reduce(function(v,w){if(w.props[u]===n&&ka(w.props,"extendDomain")&&ie(w.props[p])&&ie(w.props[m])){var y=w.props[p],g=w.props[m];return[Math.min(v[0],y,g),Math.max(v[1],y,g)]}return v},h)}return o&&o.length&&(h=o.reduce(function(v,w){return ie(w)?[Math.min(v[0],w),Math.max(v[1],w)]:v},h)),h},uP={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function o(l,c,u,f,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new a(u,f||l,h),m=r?r+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function i(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)t.call(u,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},s.prototype.listeners=function(c){var u=r?r+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,m=new Array(p);h<p;h++)m[h]=f[h].fn;return m},s.prototype.listenerCount=function(c){var u=r?r+c:c,f=this._events[u];return f?f.fn?1:f.length:0},s.prototype.emit=function(c,u,f,h,p,m){var v=r?r+c:c;if(!this._events[v])return!1;var w=this._events[v],y=arguments.length,g,x;if(w.fn){switch(w.once&&this.removeListener(c,w.fn,void 0,!0),y){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,u),!0;case 3:return w.fn.call(w.context,u,f),!0;case 4:return w.fn.call(w.context,u,f,h),!0;case 5:return w.fn.call(w.context,u,f,h,p),!0;case 6:return w.fn.call(w.context,u,f,h,p,m),!0}for(x=1,g=new Array(y-1);x<y;x++)g[x-1]=arguments[x];w.fn.apply(w.context,g)}else{var S=w.length,b;for(x=0;x<S;x++)switch(w[x].once&&this.removeListener(c,w[x].fn,void 0,!0),y){case 1:w[x].fn.call(w[x].context);break;case 2:w[x].fn.call(w[x].context,u);break;case 3:w[x].fn.call(w[x].context,u,f);break;case 4:w[x].fn.call(w[x].context,u,f,h);break;default:if(!g)for(b=1,g=new Array(y-1);b<y;b++)g[b-1]=arguments[b];w[x].fn.apply(w[x].context,g)}}return!0},s.prototype.on=function(c,u,f){return o(this,c,u,f,!1)},s.prototype.once=function(c,u,f){return o(this,c,u,f,!0)},s.prototype.removeListener=function(c,u,f,h){var p=r?r+c:c;if(!this._events[p])return this;if(!u)return i(this,p),this;var m=this._events[p];if(m.fn)m.fn===u&&(!h||m.once)&&(!f||m.context===f)&&i(this,p);else{for(var v=0,w=[],y=m.length;v<y;v++)(m[v].fn!==u||h&&!m[v].once||f&&m[v].context!==f)&&w.push(m[v]);w.length?this._events[p]=w.length===1?w[0]:w:i(this,p)}return this},s.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&i(this,u)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s})(uP);var RY=uP.exports;const IY=Mt(RY);var $p=new IY,Dp="recharts.syncMouseEvents";function Wc(e){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wc(e)}function BY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fP(n.key),n)}}function zY(e,t,r){return t&&FY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Lp(e,t,r){return t=fP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fP(e){var t=WY(e,"string");return Wc(t)=="symbol"?t:t+""}function WY(e,t){if(Wc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var UY=function(){function e(){BY(this,e),Lp(this,"activeIndex",0),Lp(this,"coordinateList",[]),Lp(this,"layout","horizontal")}return zY(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,o=a===void 0?null:a,i=r.container,s=i===void 0?null:i,l=r.layout,c=l===void 0?null:l,u=r.offset,f=u===void 0?null:u,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=o??this.coordinateList)!==null&&n!==void 0?n:[],this.container=s??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),o=a.x,i=a.y,s=a.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=o+l+c,h=i+this.offset.top+s/2+u;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function GY(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&ie(n)&&ie(a))return!0}return!1}function HY(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function dP(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,o=e.endAngle,i=Cr(t,r,n,a),s=Cr(t,r,n,o);return{points:[i,s],cx:t,cy:r,radius:n,startAngle:a,endAngle:o}}function VY(e,t,r){var n,a,o,i;if(e==="horizontal")n=t.x,o=n,a=r.top,i=r.top+r.height;else if(e==="vertical")a=t.y,i=a,n=r.left,o=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var s=t.cx,l=t.cy,c=t.innerRadius,u=t.outerRadius,f=t.angle,h=Cr(s,l,c,f),p=Cr(s,l,u,f);n=h.x,a=h.y,o=p.x,i=p.y}else return dP(t);return[{x:n,y:a},{x:o,y:i}]}function Uc(e){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uc(e)}function l2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Iu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l2(Object(r),!0).forEach(function(n){KY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KY(e,t,r){return t=XY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XY(e){var t=qY(e,"string");return Uc(t)=="symbol"?t:t+""}function qY(e,t){if(Uc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Uc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YY(e){var t,r,n=e.element,a=e.tooltipEventType,o=e.isActive,i=e.activeCoordinate,s=e.activePayload,l=e.offset,c=e.activeTooltipIndex,u=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!o||!i||h!=="ScatterChart"&&a!=="axis")return null;var m,v=ni;if(h==="ScatterChart")m=i,v=kH;else if(h==="BarChart")m=HY(f,i,l,u),v=tv;else if(f==="radial"){var w=dP(i),y=w.cx,g=w.cy,x=w.radius,S=w.startAngle,b=w.endAngle;m={cx:y,cy:g,startAngle:S,endAngle:b,innerRadius:x,outerRadius:x},v=s_}else m={points:VY(f,i,l)},v=ni;var k=Iu(Iu(Iu(Iu({stroke:"#ccc",pointerEvents:"none"},l),m),Re(p,!1)),{},{payload:s,payloadIndex:c,className:tt("recharts-tooltip-cursor",p.className)});return O.isValidElement(p)?O.cloneElement(p,k):O.createElement(v,k)}var QY=["item"],ZY=["children","className","width","height","style","compact","title","desc"];function Ts(e){"@babel/helpers - typeof";return Ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ts(e)}function Hi(){return Hi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hi.apply(this,arguments)}function c2(e,t){return tQ(e)||eQ(e,t)||pP(e,t)||JY()}function JY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eQ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function tQ(e){if(Array.isArray(e))return e}function u2(e,t){if(e==null)return{};var r=rQ(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rQ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function nQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gP(n.key),n)}}function oQ(e,t,r){return t&&aQ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function iQ(e,t,r){return t=Od(t),sQ(e,hP()?Reflect.construct(t,r||[],Od(e).constructor):t.apply(e,r))}function sQ(e,t){if(t&&(Ts(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lQ(e)}function lQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hP=function(){return!!e})()}function Od(e){return Od=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Od(e)}function cQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lm(e,t)}function lm(e,t){return lm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},lm(e,t)}function $s(e){return dQ(e)||fQ(e)||pP(e)||uQ()}function uQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pP(e,t){if(e){if(typeof e=="string")return cm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cm(e,t)}}function fQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function dQ(e){if(Array.isArray(e))return cm(e)}function cm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function f2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function H(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f2(Object(r),!0).forEach(function(n){_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _e(e,t,r){return t=gP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gP(e){var t=hQ(e,"string");return Ts(t)=="symbol"?t:t+""}function hQ(e,t){if(Ts(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ts(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pQ={xAxis:["bottom","top"],yAxis:["left","right"]},gQ={width:"100%",height:"100%"},mP={x:0,y:0};function Bu(e){return e}var mQ=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},yQ=function(t,r,n,a){var o=r.find(function(u){return u&&u.index===n});if(o){if(t==="horizontal")return{x:o.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:o.coordinate};if(t==="centric"){var i=o.coordinate,s=a.radius;return H(H(H({},a),Cr(a.cx,a.cy,s,i)),{},{angle:i,radius:s})}var l=o.coordinate,c=a.angle;return H(H(H({},a),Cr(a.cx,a.cy,l,c)),{},{angle:c,radius:l})}return mP},Ah=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,o=r.dataEndIndex,i=(n??[]).reduce(function(s,l){var c=l.props.data;return c&&c.length?[].concat($s(s),$s(c)):s},[]);return i.length>0?i:t&&t.length&&ie(a)&&ie(o)?t.slice(a,o+1):[]};function yP(e){return e==="number"?[0,"auto"]:void 0}var um=function(t,r,n,a){var o=t.graphicalItems,i=t.tooltipAxis,s=Ah(r,t);return n<0||!o||!o.length||n>=s.length?null:o.reduce(function(l,c){var u,f=(u=c.props.data)!==null&&u!==void 0?u:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(i.dataKey&&!i.allowDuplicatedCategory){var p=f===void 0?s:f;h=jf(p,i.dataKey,a)}else h=f&&f[n]||s[n];return h?[].concat($s(l),[a_(c,h)]):l},[])},d2=function(t,r,n,a){var o=a||{x:t.chartX,y:t.chartY},i=mQ(o,n),s=t.orderedTooltipTicks,l=t.tooltipAxis,c=t.tooltipTicks,u=eW(i,s,c,l);if(u>=0&&c){var f=c[u]&&c[u].value,h=um(t,r,u,f),p=yQ(n,s,u,o);return{activeTooltipIndex:u,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},vQ=function(t,r){var n=r.axes,a=r.graphicalItems,o=r.axisType,i=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.layout,f=t.children,h=t.stackOffset,p=t_(u,o);return n.reduce(function(m,v){var w,y=v.type.defaultProps!==void 0?H(H({},v.type.defaultProps),v.props):v.props,g=y.type,x=y.dataKey,S=y.allowDataOverflow,b=y.allowDuplicatedCategory,k=y.scale,j=y.ticks,_=y.includeHidden,P=y[i];if(m[P])return m;var N=Ah(t.data,{graphicalItems:a.filter(function(Y){var X,F=i in Y.props?Y.props[i]:(X=Y.type.defaultProps)===null||X===void 0?void 0:X[i];return F===P}),dataStartIndex:l,dataEndIndex:c}),A=N.length,C,R,I;GY(y.domain,S,g)&&(C=jg(y.domain,null,S),p&&(g==="number"||k!=="auto")&&(I=Fl(N,x,"category")));var T=yP(g);if(!C||C.length===0){var L,U=(L=y.domain)!==null&&L!==void 0?L:T;if(x){if(C=Fl(N,x,g),g==="category"&&p){var D=zT(C);b&&D?(R=C,C=cd(0,A)):b||(C=U1(U,C,v).reduce(function(Y,X){return Y.indexOf(X)>=0?Y:[].concat($s(Y),[X])},[]))}else if(g==="category")b?C=C.filter(function(Y){return Y!==""&&!De(Y)}):C=U1(U,C,v).reduce(function(Y,X){return Y.indexOf(X)>=0||X===""||De(X)?Y:[].concat($s(Y),[X])},[]);else if(g==="number"){var z=oW(N,a.filter(function(Y){var X,F,ue=i in Y.props?Y.props[i]:(X=Y.type.defaultProps)===null||X===void 0?void 0:X[i],fe="hide"in Y.props?Y.props.hide:(F=Y.type.defaultProps)===null||F===void 0?void 0:F.hide;return ue===P&&(_||!fe)}),x,o,u);z&&(C=z)}p&&(g==="number"||k!=="auto")&&(I=Fl(N,x,"category"))}else p?C=cd(0,A):s&&s[P]&&s[P].hasStack&&g==="number"?C=h==="expand"?[0,1]:n_(s[P].stackGroups,l,c):C=e_(N,a.filter(function(Y){var X=i in Y.props?Y.props[i]:Y.type.defaultProps[i],F="hide"in Y.props?Y.props.hide:Y.type.defaultProps.hide;return X===P&&(_||!F)}),g,u,!0);if(g==="number")C=sm(f,C,P,o,j),U&&(C=jg(U,C,S));else if(g==="category"&&U){var W=U,te=C.every(function(Y){return W.indexOf(Y)>=0});te&&(C=W)}}return H(H({},m),{},_e({},P,H(H({},y),{},{axisType:o,domain:C,categoricalDomain:I,duplicateDomain:R,originalDomain:(w=y.domain)!==null&&w!==void 0?w:T,isCategorical:p,layout:u})))},{})},xQ=function(t,r){var n=r.graphicalItems,a=r.Axis,o=r.axisType,i=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.layout,f=t.children,h=Ah(t.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),p=h.length,m=t_(u,o),v=-1;return n.reduce(function(w,y){var g=y.type.defaultProps!==void 0?H(H({},y.type.defaultProps),y.props):y.props,x=g[i],S=yP("number");if(!w[x]){v++;var b;return m?b=cd(0,p):s&&s[x]&&s[x].hasStack?(b=n_(s[x].stackGroups,l,c),b=sm(f,b,x,o)):(b=jg(S,e_(h,n.filter(function(k){var j,_,P=i in k.props?k.props[i]:(j=k.type.defaultProps)===null||j===void 0?void 0:j[i],N="hide"in k.props?k.props.hide:(_=k.type.defaultProps)===null||_===void 0?void 0:_.hide;return P===x&&!N}),"number",u),a.defaultProps.allowDataOverflow),b=sm(f,b,x,o)),H(H({},w),{},_e({},x,H(H({axisType:o},a.defaultProps),{},{hide:!0,orientation:Bn(pQ,"".concat(o,".").concat(v%2),null),domain:b,originalDomain:S,isCategorical:m,layout:u})))}return w},{})},bQ=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,o=r.AxisComp,i=r.graphicalItems,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.children,f="".concat(a,"Id"),h=dn(u,o),p={};return h&&h.length?p=vQ(t,{axes:h,graphicalItems:i,axisType:a,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:c}):i&&i.length&&(p=xQ(t,{Axis:o,graphicalItems:i,axisType:a,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:c})),p},wQ=function(t){var r=lo(t),n=La(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Py(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Jf(r,n)}},h2=function(t){var r=t.children,n=t.defaultShowTooltip,a=vn(r,ws),o=0,i=0;return t.data&&t.data.length!==0&&(i=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(o=a.props.startIndex),a.props.endIndex>=0&&(i=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:i,activeTooltipIndex:-1,isTooltipActive:!!n}},kQ=function(t){return!t||!t.length?!1:t.some(function(r){var n=Ia(r&&r.type);return n&&n.indexOf("Bar")>=0})},p2=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},SQ=function(t,r){var n=t.props,a=t.graphicalItems,o=t.xAxisMap,i=o===void 0?{}:o,s=t.yAxisMap,l=s===void 0?{}:s,c=n.width,u=n.height,f=n.children,h=n.margin||{},p=vn(f,ws),m=vn(f,Fa),v=Object.keys(l).reduce(function(b,k){var j=l[k],_=j.orientation;return!j.mirror&&!j.hide?H(H({},b),{},_e({},_,b[_]+j.width)):b},{left:h.left||0,right:h.right||0}),w=Object.keys(i).reduce(function(b,k){var j=i[k],_=j.orientation;return!j.mirror&&!j.hide?H(H({},b),{},_e({},_,Bn(b,"".concat(_))+j.height)):b},{top:h.top||0,bottom:h.bottom||0}),y=H(H({},w),v),g=y.bottom;p&&(y.bottom+=p.props.height||ws.defaultProps.height),m&&r&&(y=nW(y,a,n,r));var x=c-y.left-y.right,S=u-y.top-y.bottom;return H(H({brushBottom:g},y),{},{width:Math.max(x,0),height:Math.max(S,0)})},jQ=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},fv=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,o=a===void 0?"axis":a,i=t.validateTooltipEventTypes,s=i===void 0?["axis"]:i,l=t.axisComponents,c=t.legendContent,u=t.formatAxisMap,f=t.defaultProps,h=function(y,g){var x=g.graphicalItems,S=g.stackGroups,b=g.offset,k=g.updateId,j=g.dataStartIndex,_=g.dataEndIndex,P=y.barSize,N=y.layout,A=y.barGap,C=y.barCategoryGap,R=y.maxBarSize,I=p2(N),T=I.numericAxisName,L=I.cateAxisName,U=kQ(x),D=[];return x.forEach(function(z,W){var te=Ah(y.data,{graphicalItems:[z],dataStartIndex:j,dataEndIndex:_}),Y=z.type.defaultProps!==void 0?H(H({},z.type.defaultProps),z.props):z.props,X=Y.dataKey,F=Y.maxBarSize,ue=Y["".concat(T,"Id")],fe=Y["".concat(L,"Id")],Se={},ce=l.reduce(function($t,er){var ur=g["".concat(er.axisType,"Map")],tr=Y["".concat(er.axisType,"Id")];ur&&ur[tr]||er.axisType==="zAxis"||hi();var ct=ur[tr];return H(H({},$t),{},_e(_e({},er.axisType,ct),"".concat(er.axisType,"Ticks"),La(ct)))},Se),J=ce[L],de=ce["".concat(L,"Ticks")],ve=S&&S[ue]&&S[ue].hasStack&&yW(z,S[ue].stackGroups),q=Ia(z.type).indexOf("Bar")>=0,Ye=Jf(J,de),we=[],lt=U&&tW({barSize:P,stackGroups:S,totalSize:jQ(ce,L)});if(q){var ze,gt,cr=De(F)?R:F,Yt=(ze=(gt=Jf(J,de,!0))!==null&&gt!==void 0?gt:cr)!==null&&ze!==void 0?ze:0;we=rW({barGap:A,barCategoryGap:C,bandSize:Yt!==Ye?Yt:Ye,sizeList:lt[fe],maxBarSize:cr}),Yt!==Ye&&(we=we.map(function($t){return H(H({},$t),{},{position:H(H({},$t.position),{},{offset:$t.position.offset-Yt/2})})}))}var vr=z&&z.type&&z.type.getComposedData;vr&&D.push({props:H(H({},vr(H(H({},ce),{},{displayedData:te,props:y,dataKey:X,item:z,bandSize:Ye,barPosition:we,offset:b,stackedData:ve,layout:N,dataStartIndex:j,dataEndIndex:_}))),{},_e(_e(_e({key:z.key||"item-".concat(W)},T,ce[T]),L,ce[L]),"animationId",k)),childIndex:e$(z,y.children),item:z})}),D},p=function(y,g){var x=y.props,S=y.dataStartIndex,b=y.dataEndIndex,k=y.updateId;if(!Rx({props:x}))return null;var j=x.children,_=x.layout,P=x.stackOffset,N=x.data,A=x.reverseStackOrder,C=p2(_),R=C.numericAxisName,I=C.cateAxisName,T=dn(j,n),L=pW(N,T,"".concat(R,"Id"),"".concat(I,"Id"),P,A),U=l.reduce(function(Y,X){var F="".concat(X.axisType,"Map");return H(H({},Y),{},_e({},F,bQ(x,H(H({},X),{},{graphicalItems:T,stackGroups:X.axisType===R&&L,dataStartIndex:S,dataEndIndex:b}))))},{}),D=SQ(H(H({},U),{},{props:x,graphicalItems:T}),g==null?void 0:g.legendBBox);Object.keys(U).forEach(function(Y){U[Y]=u(x,U[Y],D,Y.replace("Map",""),r)});var z=U["".concat(I,"Map")],W=wQ(z),te=h(x,H(H({},U),{},{dataStartIndex:S,dataEndIndex:b,updateId:k,graphicalItems:T,stackGroups:L,offset:D}));return H(H({formattedGraphicalItems:te,graphicalItems:T,offset:D,stackGroups:L},W),U)},m=function(w){function y(g){var x,S,b;return nQ(this,y),b=iQ(this,y,[g]),_e(b,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),_e(b,"accessibilityManager",new UY),_e(b,"handleLegendBBoxUpdate",function(k){if(k){var j=b.state,_=j.dataStartIndex,P=j.dataEndIndex,N=j.updateId;b.setState(H({legendBBox:k},p({props:b.props,dataStartIndex:_,dataEndIndex:P,updateId:N},H(H({},b.state),{},{legendBBox:k}))))}}),_e(b,"handleReceiveSyncEvent",function(k,j,_){if(b.props.syncId===k){if(_===b.eventEmitterSymbol&&typeof b.props.syncMethod!="function")return;b.applySyncEvent(j)}}),_e(b,"handleBrushChange",function(k){var j=k.startIndex,_=k.endIndex;if(j!==b.state.dataStartIndex||_!==b.state.dataEndIndex){var P=b.state.updateId;b.setState(function(){return H({dataStartIndex:j,dataEndIndex:_},p({props:b.props,dataStartIndex:j,dataEndIndex:_,updateId:P},b.state))}),b.triggerSyncEvent({dataStartIndex:j,dataEndIndex:_})}}),_e(b,"handleMouseEnter",function(k){var j=b.getMouseInfo(k);if(j){var _=H(H({},j),{},{isTooltipActive:!0});b.setState(_),b.triggerSyncEvent(_);var P=b.props.onMouseEnter;Ie(P)&&P(_,k)}}),_e(b,"triggeredAfterMouseMove",function(k){var j=b.getMouseInfo(k),_=j?H(H({},j),{},{isTooltipActive:!0}):{isTooltipActive:!1};b.setState(_),b.triggerSyncEvent(_);var P=b.props.onMouseMove;Ie(P)&&P(_,k)}),_e(b,"handleItemMouseEnter",function(k){b.setState(function(){return{isTooltipActive:!0,activeItem:k,activePayload:k.tooltipPayload,activeCoordinate:k.tooltipPosition||{x:k.cx,y:k.cy}}})}),_e(b,"handleItemMouseLeave",function(){b.setState(function(){return{isTooltipActive:!1}})}),_e(b,"handleMouseMove",function(k){k.persist(),b.throttleTriggeredAfterMouseMove(k)}),_e(b,"handleMouseLeave",function(k){b.throttleTriggeredAfterMouseMove.cancel();var j={isTooltipActive:!1};b.setState(j),b.triggerSyncEvent(j);var _=b.props.onMouseLeave;Ie(_)&&_(j,k)}),_e(b,"handleOuterEvent",function(k){var j=JT(k),_=Bn(b.props,"".concat(j));if(j&&Ie(_)){var P,N;/.*touch.*/i.test(j)?N=b.getMouseInfo(k.changedTouches[0]):N=b.getMouseInfo(k),_((P=N)!==null&&P!==void 0?P:{},k)}}),_e(b,"handleClick",function(k){var j=b.getMouseInfo(k);if(j){var _=H(H({},j),{},{isTooltipActive:!0});b.setState(_),b.triggerSyncEvent(_);var P=b.props.onClick;Ie(P)&&P(_,k)}}),_e(b,"handleMouseDown",function(k){var j=b.props.onMouseDown;if(Ie(j)){var _=b.getMouseInfo(k);j(_,k)}}),_e(b,"handleMouseUp",function(k){var j=b.props.onMouseUp;if(Ie(j)){var _=b.getMouseInfo(k);j(_,k)}}),_e(b,"handleTouchMove",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&b.throttleTriggeredAfterMouseMove(k.changedTouches[0])}),_e(b,"handleTouchStart",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&b.handleMouseDown(k.changedTouches[0])}),_e(b,"handleTouchEnd",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&b.handleMouseUp(k.changedTouches[0])}),_e(b,"handleDoubleClick",function(k){var j=b.props.onDoubleClick;if(Ie(j)){var _=b.getMouseInfo(k);j(_,k)}}),_e(b,"handleContextMenu",function(k){var j=b.props.onContextMenu;if(Ie(j)){var _=b.getMouseInfo(k);j(_,k)}}),_e(b,"triggerSyncEvent",function(k){b.props.syncId!==void 0&&$p.emit(Dp,b.props.syncId,k,b.eventEmitterSymbol)}),_e(b,"applySyncEvent",function(k){var j=b.props,_=j.layout,P=j.syncMethod,N=b.state.updateId,A=k.dataStartIndex,C=k.dataEndIndex;if(k.dataStartIndex!==void 0||k.dataEndIndex!==void 0)b.setState(H({dataStartIndex:A,dataEndIndex:C},p({props:b.props,dataStartIndex:A,dataEndIndex:C,updateId:N},b.state)));else if(k.activeTooltipIndex!==void 0){var R=k.chartX,I=k.chartY,T=k.activeTooltipIndex,L=b.state,U=L.offset,D=L.tooltipTicks;if(!U)return;if(typeof P=="function")T=P(D,k);else if(P==="value"){T=-1;for(var z=0;z<D.length;z++)if(D[z].value===k.activeLabel){T=z;break}}var W=H(H({},U),{},{x:U.left,y:U.top}),te=Math.min(R,W.x+W.width),Y=Math.min(I,W.y+W.height),X=D[T]&&D[T].value,F=um(b.state,b.props.data,T),ue=D[T]?{x:_==="horizontal"?D[T].coordinate:te,y:_==="horizontal"?Y:D[T].coordinate}:mP;b.setState(H(H({},k),{},{activeLabel:X,activeCoordinate:ue,activePayload:F,activeTooltipIndex:T}))}else b.setState(k)}),_e(b,"renderCursor",function(k){var j,_=b.state,P=_.isTooltipActive,N=_.activeCoordinate,A=_.activePayload,C=_.offset,R=_.activeTooltipIndex,I=_.tooltipAxisBandSize,T=b.getTooltipEventType(),L=(j=k.props.active)!==null&&j!==void 0?j:P,U=b.props.layout,D=k.key||"_recharts-cursor";return M.createElement(YY,{key:D,activeCoordinate:N,activePayload:A,activeTooltipIndex:R,chartName:r,element:k,isActive:L,layout:U,offset:C,tooltipAxisBandSize:I,tooltipEventType:T})}),_e(b,"renderPolarAxis",function(k,j,_){var P=Bn(k,"type.axisType"),N=Bn(b.state,"".concat(P,"Map")),A=k.type.defaultProps,C=A!==void 0?H(H({},A),k.props):k.props,R=N&&N[C["".concat(P,"Id")]];return O.cloneElement(k,H(H({},R),{},{className:tt(P,R.className),key:k.key||"".concat(j,"-").concat(_),ticks:La(R,!0)}))}),_e(b,"renderPolarGrid",function(k){var j=k.props,_=j.radialLines,P=j.polarAngles,N=j.polarRadius,A=b.state,C=A.radiusAxisMap,R=A.angleAxisMap,I=lo(C),T=lo(R),L=T.cx,U=T.cy,D=T.innerRadius,z=T.outerRadius;return O.cloneElement(k,{polarAngles:Array.isArray(P)?P:La(T,!0).map(function(W){return W.coordinate}),polarRadius:Array.isArray(N)?N:La(I,!0).map(function(W){return W.coordinate}),cx:L,cy:U,innerRadius:D,outerRadius:z,key:k.key||"polar-grid",radialLines:_})}),_e(b,"renderLegend",function(){var k=b.state.formattedGraphicalItems,j=b.props,_=j.children,P=j.width,N=j.height,A=b.props.margin||{},C=P-(A.left||0)-(A.right||0),R=ZO({children:_,formattedGraphicalItems:k,legendWidth:C,legendContent:c});if(!R)return null;var I=R.item,T=u2(R,QY);return O.cloneElement(I,H(H({},T),{},{chartWidth:P,chartHeight:N,margin:A,onBBoxUpdate:b.handleLegendBBoxUpdate}))}),_e(b,"renderTooltip",function(){var k,j=b.props,_=j.children,P=j.accessibilityLayer,N=vn(_,qr);if(!N)return null;var A=b.state,C=A.isTooltipActive,R=A.activeCoordinate,I=A.activePayload,T=A.activeLabel,L=A.offset,U=(k=N.props.active)!==null&&k!==void 0?k:C;return O.cloneElement(N,{viewBox:H(H({},L),{},{x:L.left,y:L.top}),active:U,label:T,payload:U?I:[],coordinate:R,accessibilityLayer:P})}),_e(b,"renderBrush",function(k){var j=b.props,_=j.margin,P=j.data,N=b.state,A=N.offset,C=N.dataStartIndex,R=N.dataEndIndex,I=N.updateId;return O.cloneElement(k,{key:k.key||"_recharts-brush",onChange:$u(b.handleBrushChange,k.props.onChange),data:P,x:ie(k.props.x)?k.props.x:A.left,y:ie(k.props.y)?k.props.y:A.top+A.height+A.brushBottom-(_.bottom||0),width:ie(k.props.width)?k.props.width:A.width,startIndex:C,endIndex:R,updateId:"brush-".concat(I)})}),_e(b,"renderReferenceElement",function(k,j,_){if(!k)return null;var P=b,N=P.clipPathId,A=b.state,C=A.xAxisMap,R=A.yAxisMap,I=A.offset,T=k.type.defaultProps||{},L=k.props,U=L.xAxisId,D=U===void 0?T.xAxisId:U,z=L.yAxisId,W=z===void 0?T.yAxisId:z;return O.cloneElement(k,{key:k.key||"".concat(j,"-").concat(_),xAxis:C[D],yAxis:R[W],viewBox:{x:I.left,y:I.top,width:I.width,height:I.height},clipPathId:N})}),_e(b,"renderActivePoints",function(k){var j=k.item,_=k.activePoint,P=k.basePoint,N=k.childIndex,A=k.isRange,C=[],R=j.props.key,I=j.item.type.defaultProps!==void 0?H(H({},j.item.type.defaultProps),j.item.props):j.item.props,T=I.activeDot,L=I.dataKey,U=H(H({index:N,dataKey:L,cx:_.x,cy:_.y,r:4,fill:ev(j.item),strokeWidth:2,stroke:"#fff",payload:_.payload,value:_.value},Re(T,!1)),Of(T));return C.push(y.renderActiveDot(T,U,"".concat(R,"-activePoint-").concat(N))),P?C.push(y.renderActiveDot(T,H(H({},U),{},{cx:P.x,cy:P.y}),"".concat(R,"-basePoint-").concat(N))):A&&C.push(null),C}),_e(b,"renderGraphicChild",function(k,j,_){var P=b.filterFormatItem(k,j,_);if(!P)return null;var N=b.getTooltipEventType(),A=b.state,C=A.isTooltipActive,R=A.tooltipAxis,I=A.activeTooltipIndex,T=A.activeLabel,L=b.props.children,U=vn(L,qr),D=P.props,z=D.points,W=D.isRange,te=D.baseLine,Y=P.item.type.defaultProps!==void 0?H(H({},P.item.type.defaultProps),P.item.props):P.item.props,X=Y.activeDot,F=Y.hide,ue=Y.activeBar,fe=Y.activeShape,Se=!!(!F&&C&&U&&(X||ue||fe)),ce={};N!=="axis"&&U&&U.props.trigger==="click"?ce={onClick:$u(b.handleItemMouseEnter,k.props.onClick)}:N!=="axis"&&(ce={onMouseLeave:$u(b.handleItemMouseLeave,k.props.onMouseLeave),onMouseEnter:$u(b.handleItemMouseEnter,k.props.onMouseEnter)});var J=O.cloneElement(k,H(H({},P.props),ce));function de(er){return typeof R.dataKey=="function"?R.dataKey(er.payload):null}if(Se)if(I>=0){var ve,q;if(R.dataKey&&!R.allowDuplicatedCategory){var Ye=typeof R.dataKey=="function"?de:"payload.".concat(R.dataKey.toString());ve=jf(z,Ye,T),q=W&&te&&jf(te,Ye,T)}else ve=z==null?void 0:z[I],q=W&&te&&te[I];if(fe||ue){var we=k.props.activeIndex!==void 0?k.props.activeIndex:I;return[O.cloneElement(k,H(H(H({},P.props),ce),{},{activeIndex:we})),null,null]}if(!De(ve))return[J].concat($s(b.renderActivePoints({item:P,activePoint:ve,basePoint:q,childIndex:I,isRange:W})))}else{var lt,ze=(lt=b.getItemByXY(b.state.activeCoordinate))!==null&&lt!==void 0?lt:{graphicalItem:J},gt=ze.graphicalItem,cr=gt.item,Yt=cr===void 0?k:cr,vr=gt.childIndex,$t=H(H(H({},P.props),ce),{},{activeIndex:vr});return[O.cloneElement(Yt,$t),null,null]}return W?[J,null,null]:[J,null]}),_e(b,"renderCustomized",function(k,j,_){return O.cloneElement(k,H(H({key:"recharts-customized-".concat(_)},b.props),b.state))}),_e(b,"renderMap",{CartesianGrid:{handler:Bu,once:!0},ReferenceArea:{handler:b.renderReferenceElement},ReferenceLine:{handler:Bu},ReferenceDot:{handler:b.renderReferenceElement},XAxis:{handler:Bu},YAxis:{handler:Bu},Brush:{handler:b.renderBrush,once:!0},Bar:{handler:b.renderGraphicChild},Line:{handler:b.renderGraphicChild},Area:{handler:b.renderGraphicChild},Radar:{handler:b.renderGraphicChild},RadialBar:{handler:b.renderGraphicChild},Scatter:{handler:b.renderGraphicChild},Pie:{handler:b.renderGraphicChild},Funnel:{handler:b.renderGraphicChild},Tooltip:{handler:b.renderCursor,once:!0},PolarGrid:{handler:b.renderPolarGrid,once:!0},PolarAngleAxis:{handler:b.renderPolarAxis},PolarRadiusAxis:{handler:b.renderPolarAxis},Customized:{handler:b.renderCustomized}}),b.clipPathId="".concat((x=g.id)!==null&&x!==void 0?x:xi("recharts"),"-clip"),b.throttleTriggeredAfterMouseMove=Zj(b.triggeredAfterMouseMove,(S=g.throttleDelay)!==null&&S!==void 0?S:1e3/60),b.state={},b}return cQ(y,w),oQ(y,[{key:"componentDidMount",value:function(){var x,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var x=this.props,S=x.children,b=x.data,k=x.height,j=x.layout,_=vn(S,qr);if(_){var P=_.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var N=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,A=um(this.state,b,P,N),C=this.state.tooltipTicks[P].coordinate,R=(this.state.offset.top+k)/2,I=j==="horizontal",T=I?{x:C,y:R}:{y:C,x:R},L=this.state.formattedGraphicalItems.find(function(D){var z=D.item;return z.type.name==="Scatter"});L&&(T=H(H({},T),L.props.points[P].tooltipPosition),A=L.props.points[P].tooltipPayload);var U={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:N,activePayload:A,activeCoordinate:T};this.setState(U),this.renderCursor(_),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(x,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==x.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==x.margin){var b,k;this.accessibilityManager.setDetails({offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0}})}return null}},{key:"componentDidUpdate",value:function(x){B0([vn(x.children,qr)],[vn(this.props.children,qr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var x=vn(this.props.children,qr);if(x&&typeof x.props.shared=="boolean"){var S=x.props.shared?"axis":"item";return s.indexOf(S)>=0?S:o}return o}},{key:"getMouseInfo",value:function(x){if(!this.container)return null;var S=this.container,b=S.getBoundingClientRect(),k=_8(b),j={chartX:Math.round(x.pageX-k.left),chartY:Math.round(x.pageY-k.top)},_=b.width/S.offsetWidth||1,P=this.inRange(j.chartX,j.chartY,_);if(!P)return null;var N=this.state,A=N.xAxisMap,C=N.yAxisMap,R=this.getTooltipEventType(),I=d2(this.state,this.props.data,this.props.layout,P);if(R!=="axis"&&A&&C){var T=lo(A).scale,L=lo(C).scale,U=T&&T.invert?T.invert(j.chartX):null,D=L&&L.invert?L.invert(j.chartY):null;return H(H({},j),{},{xValue:U,yValue:D},I)}return I?H(H({},j),I):null}},{key:"inRange",value:function(x,S){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,k=this.props.layout,j=x/b,_=S/b;if(k==="horizontal"||k==="vertical"){var P=this.state.offset,N=j>=P.left&&j<=P.left+P.width&&_>=P.top&&_<=P.top+P.height;return N?{x:j,y:_}:null}var A=this.state,C=A.angleAxisMap,R=A.radiusAxisMap;if(C&&R){var I=lo(C);return V1({x:j,y:_},I)}return null}},{key:"parseEventsOfWrapper",value:function(){var x=this.props.children,S=this.getTooltipEventType(),b=vn(x,qr),k={};b&&S==="axis"&&(b.props.trigger==="click"?k={onClick:this.handleClick}:k={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var j=Of(this.props,this.handleOuterEvent);return H(H({},j),k)}},{key:"addListener",value:function(){$p.on(Dp,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){$p.removeListener(Dp,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(x,S,b){for(var k=this.state.formattedGraphicalItems,j=0,_=k.length;j<_;j++){var P=k[j];if(P.item===x||P.props.key===x.key||S===Ia(P.item.type)&&b===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var x=this.clipPathId,S=this.state.offset,b=S.left,k=S.top,j=S.height,_=S.width;return M.createElement("defs",null,M.createElement("clipPath",{id:x},M.createElement("rect",{x:b,y:k,height:j,width:_})))}},{key:"getXScales",value:function(){var x=this.state.xAxisMap;return x?Object.entries(x).reduce(function(S,b){var k=c2(b,2),j=k[0],_=k[1];return H(H({},S),{},_e({},j,_.scale))},{}):null}},{key:"getYScales",value:function(){var x=this.state.yAxisMap;return x?Object.entries(x).reduce(function(S,b){var k=c2(b,2),j=k[0],_=k[1];return H(H({},S),{},_e({},j,_.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(x){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[x])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(x){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[x])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(x){var S=this.state,b=S.formattedGraphicalItems,k=S.activeItem;if(b&&b.length)for(var j=0,_=b.length;j<_;j++){var P=b[j],N=P.props,A=P.item,C=A.type.defaultProps!==void 0?H(H({},A.type.defaultProps),A.props):A.props,R=Ia(A.type);if(R==="Bar"){var I=(N.data||[]).find(function(D){return dH(x,D)});if(I)return{graphicalItem:P,payload:I}}else if(R==="RadialBar"){var T=(N.data||[]).find(function(D){return V1(x,D)});if(T)return{graphicalItem:P,payload:T}}else if(kh(P,k)||Sh(P,k)||Rc(P,k)){var L=pV({graphicalItem:P,activeTooltipItem:k,itemData:C.data}),U=C.activeIndex===void 0?L:C.activeIndex;return{graphicalItem:H(H({},P),{},{childIndex:U}),payload:Rc(P,k)?C.data[L]:P.props.data[L]}}}return null}},{key:"render",value:function(){var x=this;if(!Rx(this))return null;var S=this.props,b=S.children,k=S.className,j=S.width,_=S.height,P=S.style,N=S.compact,A=S.title,C=S.desc,R=u2(S,ZY),I=Re(R,!1);if(N)return M.createElement(zw,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement(z0,Hi({},I,{width:j,height:_,title:A,desc:C}),this.renderClipPath(),Bx(b,this.renderMap)));if(this.props.accessibilityLayer){var T,L;I.tabIndex=(T=this.props.tabIndex)!==null&&T!==void 0?T:0,I.role=(L=this.props.role)!==null&&L!==void 0?L:"application",I.onKeyDown=function(D){x.accessibilityManager.keyboardEvent(D)},I.onFocus=function(){x.accessibilityManager.focus()}}var U=this.parseEventsOfWrapper();return M.createElement(zw,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement("div",Hi({className:tt("recharts-wrapper",k),style:H({position:"relative",cursor:"default",width:j,height:_},P)},U,{ref:function(z){x.container=z}}),M.createElement(z0,Hi({},I,{width:j,height:_,title:A,desc:C,style:gQ}),this.renderClipPath(),Bx(b,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(O.Component);_e(m,"displayName",r),_e(m,"defaultProps",H({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),_e(m,"getDerivedStateFromProps",function(w,y){var g=w.dataKey,x=w.data,S=w.children,b=w.width,k=w.height,j=w.layout,_=w.stackOffset,P=w.margin,N=y.dataStartIndex,A=y.dataEndIndex;if(y.updateId===void 0){var C=h2(w);return H(H(H({},C),{},{updateId:0},p(H(H({props:w},C),{},{updateId:0}),y)),{},{prevDataKey:g,prevData:x,prevWidth:b,prevHeight:k,prevLayout:j,prevStackOffset:_,prevMargin:P,prevChildren:S})}if(g!==y.prevDataKey||x!==y.prevData||b!==y.prevWidth||k!==y.prevHeight||j!==y.prevLayout||_!==y.prevStackOffset||!Zi(P,y.prevMargin)){var R=h2(w),I={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},T=H(H({},d2(y,x,j)),{},{updateId:y.updateId+1}),L=H(H(H({},R),I),T);return H(H(H({},L),p(H({props:w},L),y)),{},{prevDataKey:g,prevData:x,prevWidth:b,prevHeight:k,prevLayout:j,prevStackOffset:_,prevMargin:P,prevChildren:S})}if(!B0(S,y.prevChildren)){var U,D,z,W,te=vn(S,ws),Y=te&&(U=(D=te.props)===null||D===void 0?void 0:D.startIndex)!==null&&U!==void 0?U:N,X=te&&(z=(W=te.props)===null||W===void 0?void 0:W.endIndex)!==null&&z!==void 0?z:A,F=Y!==N||X!==A,ue=!De(x),fe=ue&&!F?y.updateId:y.updateId+1;return H(H({updateId:fe},p(H(H({props:w},y),{},{updateId:fe,dataStartIndex:Y,dataEndIndex:X}),y)),{},{prevChildren:S,dataStartIndex:Y,dataEndIndex:X})}return null}),_e(m,"renderActiveDot",function(w,y,g){var x;return O.isValidElement(w)?x=O.cloneElement(w,y):Ie(w)?x=w(y):x=M.createElement(wh,y),M.createElement(pt,{className:"recharts-active-dot",key:g},x)});var v=O.forwardRef(function(y,g){return M.createElement(m,Hi({},y,{ref:g}))});return v.displayName=m.displayName,v},dv=fv({chartName:"LineChart",GraphicalChild:Ur,axisComponents:[{axisType:"xAxis",AxisComp:la},{axisType:"yAxis",AxisComp:ca}],formatAxisMap:rv}),OQ=fv({chartName:"ScatterChart",GraphicalChild:an,defaultTooltipEventType:"item",validateTooltipEventTypes:["item"],axisComponents:[{axisType:"xAxis",AxisComp:la},{axisType:"yAxis",AxisComp:ca},{axisType:"zAxis",AxisComp:Nh}],formatAxisMap:rv}),vP=fv({chartName:"AreaChart",GraphicalChild:Rn,axisComponents:[{axisType:"xAxis",AxisComp:la},{axisType:"yAxis",AxisComp:ca}],formatAxisMap:rv});const _Q="modulepreload",PQ=function(e){return"/"+e},g2={},NQ=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),s=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));a=Promise.allSettled(r.map(l=>{if(l=PQ(l),l in g2)return;g2[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":_Q,c||(f.as="script"),f.crossOrigin="",f.href=l,s&&f.setAttribute("nonce",s),document.head.appendChild(f),c)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(i){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=i,window.dispatchEvent(s),!s.defaultPrevented)throw i}return a.then(i=>{for(const s of i||[])s.status==="rejected"&&o(s.reason);return t().catch(o)})};function AQ(e){const[[t,r,n],[a,o,i],[s,l,c]]=e,u=t*(o*c-i*l)-r*(a*c-i*s)+n*(a*l-o*s);if(Math.abs(u)<1e-10)return null;const f=1/u;return[[(o*c-i*l)*f,(n*l-r*c)*f,(r*i-n*o)*f],[(i*s-a*c)*f,(t*c-n*s)*f,(n*a-t*i)*f],[(a*l-o*s)*f,(r*s-t*l)*f,(t*o-r*a)*f]]}function m2(e,t){const r=[[0,0,0],[0,0,0],[0,0,0]];for(let n=0;n<3;n++)for(let a=0;a<3;a++)for(let o=0;o<3;o++)r[n][a]+=e[n][o]*t[o][a];return r}class Ds{constructor(t){Kr(this,"size");Kr(this,"isPowerOfTwo");Kr(this,"_real");Kr(this,"_imag");Kr(this,"_scratch",null);Kr(this,"_rev",null);Kr(this,"_m",0);Kr(this,"_internalFFT",null);Kr(this,"_chirpReal",null);Kr(this,"_chirpImag",null);Kr(this,"_bReal",null);Kr(this,"_bImag",null);Kr(this,"_hanning",null);Kr(this,"_windowSumSq",0);this.size=t,this.isPowerOfTwo=(t&t-1)===0&&t>0,this._real=new Float32Array(t),this._imag=new Float32Array(t),this.isPowerOfTwo?this.initRadix2():this.initBluestein()}initRadix2(){const t=this.size,r=Math.log2(t);this._rev=new Uint32Array(t);for(let n=0;n<t;n++){let a=0,o=n;for(let i=0;i<r;i++)a=a<<1|o&1,o>>>=1;this._rev[n]=a}}initBluestein(){const t=this.size;this._m=Math.pow(2,Math.ceil(Math.log2(2*t-1))),this._internalFFT=new Ds(this._m),this._chirpReal=new Float32Array(t),this._chirpImag=new Float32Array(t);for(let a=0;a<t;a++){const o=-Math.PI*(a*a)/t;this._chirpReal[a]=Math.cos(o),this._chirpImag[a]=Math.sin(o)}const r=new Float32Array(this._m),n=new Float32Array(this._m);for(let a=0;a<t;a++)r[a]=this._chirpReal[a],n[a]=-this._chirpImag[a];for(let a=1;a<t;a++)r[this._m-a]=r[a],n[this._m-a]=n[a];this._internalFFT.transform(r,n),this._bReal=new Float32Array(this._internalFFT._real),this._bImag=new Float32Array(this._internalFFT._imag)}initHanning(){if(this._hanning)return;const t=this.size;this._hanning=new Float32Array(t);let r=0;for(let n=0;n<t;n++){const a=.5*(1-Math.cos(2*Math.PI*n/(t-1)));this._hanning[n]=a,r+=a*a}this._windowSumSq=r}transform(t,r){this.isPowerOfTwo?this.transformRadix2(t,r):this.transformBluestein(t,r)}transformRadix2(t,r){const n=this.size,a=this._rev,o=this._real,i=this._imag;if(t===o)for(let s=0;s<n;s++){const l=a[s];if(s<l){const c=o[s],u=i[s];o[s]=o[l],i[s]=i[l],o[l]=c,i[l]=u}}else for(let s=0;s<n;s++){const l=a[s];o[s]=t[l],i[s]=r?r[l]:0}for(let s=2;s<=n;s*=2){const l=s/2,c=-2*Math.PI/s,u=Math.cos(c),f=Math.sin(c);for(let h=0;h<n;h+=s){let p=1,m=0;for(let v=0;v<l;v++){const w=h+v,y=h+v+l,g=p*o[y]-m*i[y],x=p*i[y]+m*o[y],S=o[w],b=i[w];o[w]=S+g,i[w]=b+x,o[y]=S-g,i[y]=b-x;const k=p*u-m*f,j=p*f+m*u;p=k,m=j}}}}transformBluestein(t,r){const n=this.size,a=this._m,o=this._internalFFT,i=o._real,s=o._imag;i.fill(0),s.fill(0);for(let f=0;f<n;f++){const h=t[f],p=r?r[f]:0,m=this._chirpReal[f],v=this._chirpImag[f];i[f]=h*m-p*v,s[f]=h*v+p*m}o.transformRadix2(i,s);for(let f=0;f<a;f++){const h=o._real[f],p=o._imag[f],m=this._bReal[f],v=this._bImag[f];o._real[f]=h*m-p*v,o._imag[f]=h*v+p*m}const l=o._real,c=o._imag;for(let f=0;f<a;f++)c[f]=-c[f];o.transformRadix2(l,c);const u=1/a;for(let f=0;f<n;f++){const h=o._real[f]*u,p=-o._imag[f]*u,m=this._chirpReal[f],v=this._chirpImag[f];this._real[f]=h*m-p*v,this._imag[f]=h*v+p*m}}calculateSpectrum(t,r,n=!1){const a=this.size;let o=0;for(let u=0;u<a;u++)o+=t[u];const i=o/a;this._scratch||(this._scratch=new Float32Array(a));const s=this._scratch;if(n){this.initHanning();const u=this._hanning;for(let f=0;f<a;f++)s[f]=(t[f]-i)*u[f]}else for(let u=0;u<a;u++)s[u]=t[u]-i;this.transform(s);const l=r.length;let c=1/a;n&&this._windowSumSq>0&&(c=1/this._windowSumSq);for(let u=0;u<l;u++){const f=this._real[u],h=this._imag[u];r[u]+=(f*f+h*h)*c}}}function MQ(e,t,r,n=!1){const a=new Ds(t),o=new Ds(r),i=t*r,s=new Float32Array(i),l=new Float32Array(i);let c=null,u=null;if(n){c=new Float32Array(t);for(let v=0;v<t;v++)c[v]=.5*(1-Math.cos(2*Math.PI*v/(t-1)));u=new Float32Array(r);for(let v=0;v<r;v++)u[v]=.5*(1-Math.cos(2*Math.PI*v/(r-1)))}for(let v=0;v<r;v++){const w=v*t,y=a._real;let g=0;for(let S=0;S<t;S++)g+=e[w+S];const x=g/t;if(c)for(let S=0;S<t;S++)y[S]=(e[w+S]-x)*c[S];else for(let S=0;S<t;S++)y[S]=e[w+S]-x;a.transform(y);for(let S=0;S<t;S++)s[w+S]=a._real[S],l[w+S]=a._imag[S]}for(let v=0;v<t;v++){const w=o._real,y=o._imag;for(let g=0;g<r;g++){const x=g*t+v;let S=s[x],b=l[x];u&&(S*=u[g],b*=u[g]),w[g]=S,y[g]=b}o.transform(w,y);for(let g=0;g<r;g++){const x=g*t+v;s[x]=o._real[g],l[x]=o._imag[g]}}const f=new Float32Array(i);let h=1,p=t,m=r;if(n&&c&&u){p=0;for(let v=0;v<t;v++)p+=c[v]*c[v];m=0;for(let v=0;v<r;v++)m+=u[v]*u[v]}h=1/(p*m);for(let v=0;v<i;v++)f[v]=(s[v]*s[v]+l[v]*l[v])*h;return f}function CQ(e,t,r){const n=new Float32Array(e.length),a=Math.floor(t/2),o=Math.floor(r/2);for(let i=0;i<r;i++)for(let s=0;s<t;s++){const l=(s+a)%t,c=(i+o)%r,u=i*t+s,f=c*t+l;n[f]=e[u]}return n}let Rp=null;async function hv(){if(!Rp)try{const n=(await NQ(()=>import("./joraw-je86-VOt.js"),[])).default;if(typeof n!="function")throw new Error("JoRaw WASM import failed");const a=new URL("/assets/joraw-BUh50ws_.wasm",import.meta.url).href;Rp=n({locateFile:(o,i)=>o.endsWith("joraw.wasm")?a:i+o})}catch(r){throw console.error("Failed to load joraw.js:",r),r}const e=await Rp,t=e.LibRaw||e.JoRaw;if(!t)throw new Error("JoRaw class not found");return t}const EQ=[[3.2404542,-1.5371385,-.4985314],[-.969266,1.8760108,.041556],[.0556434,-.2040259,1.0572252]],Ip=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055;async function TQ(e){const t=await createImageBitmap(e),r=t.width,n=t.height,a=document.createElement("canvas");a.width=r,a.height=n;const o=a.getContext("2d");if(!o)throw new Error("Failed to create canvas context");o.drawImage(t,0,0);const s=o.getImageData(0,0,r,n).data,l=r*n,c=new Uint16Array(l);for(let f=0;f<n;f++)for(let h=0;h<r;h++){const p=(f*r+h)*4,m=f*r+h,v=f%2===0,w=h%2===0;let y=0;v&&w?y=s[p]:!v&&!w?y=s[p+2]:y=s[p+1],c[m]=y*64}return{previewBlob:await new Promise(f=>a.toBlob(f,"image/png"))||e,analysisData:{data:c,width:r,height:n,bayerPattern:"RGGB",blackLevels:[0,0,0,0],whiteLevel:16320,metadata:{description:"Standard image (non-RAW)"},isThreePlane:!0}}}const $Q=async e=>{const t=await hv(),r=new t;try{await r.open(e,{useCameraWb:!0,outputBps:8,noAutoBright:!0,userQual:3,outputColor:1});const n=await r.imageData();return new Promise((a,o)=>{const i=document.createElement("canvas");i.width=n.width,i.height=n.height;const s=i.getContext("2d");if(!s){o(new Error("Could not create canvas context"));return}const l=s.createImageData(n.width,n.height),c=n.data,u=n.width*n.height;for(let f=0;f<u;f++){const h=f*3,p=f*4;l.data[p]=c[h],l.data[p+1]=c[h+1],l.data[p+2]=c[h+2],l.data[p+3]=255}s.putImageData(l,0,0),i.toBlob(f=>{f?a(f):o(new Error("Canvas to Blob failed"))},"image/jpeg",.85)})}finally{r.delete?r.delete():r.close()}},_d=async e=>{var n,a,o,i,s,l,c,u,f;const t=await hv(),r=new t;try{if(await r.open(e,{}),typeof r.getRawImage!="function")throw new Error("WASM mismatch");const h=r.getRawImage(),p=await r.metadata(!0);let m=[];if((n=p.color_data)!=null&&n.cblack_rawpy_style)m=p.color_data.cblack_rawpy_style;else if((o=(a=p.color_data)==null?void 0:a.dng_levels)!=null&&o.dng_cblack)m=p.color_data.dng_levels.dng_cblack;else if(((i=p.black_level_per_channel)==null?void 0:i.length)>=4)m=p.black_level_per_channel;else if(((s=p.cblack)==null?void 0:s.length)>=4)m=p.cblack;else if(((c=(l=p.color)==null?void 0:l.cblack)==null?void 0:c.length)>=4)m=p.color.cblack;else{const x=p.black_level||p.color_data&&p.color_data.black||0;m=[x,x,x,x]}const v=[Number(m[0])||0,Number(m[1])||0,Number(m[2])||0,Number(m[3])||0],w=((u=p.idata)==null?void 0:u.filters)||0,y=((f=p.idata)==null?void 0:f.colors)||0,g=w===0&&y===3;return{data:h.data,width:h.width,height:h.height,bayerPattern:p.color_desc||"RGGB",blackLevels:v,whiteLevel:p.white_level||16383,metadata:p,isThreePlane:g}}finally{r.delete?r.delete():r.close()}};async function Bp(e){const t=new Uint8Array(e.slice(0)),r=new Uint8Array(e.slice(0)),[n,a]=await Promise.all([$Q(t),_d(r)]);return{previewBlob:n,analysisData:a}}async function DQ(e){const t=new Uint8Array(e.slice(0));return _d(t)}const y2=e=>(e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,e++,e);async function LQ(e,t,r,n=!0){const a=await _d(new Uint8Array(e)),o=await _d(new Uint8Array(t));if(a.width!==o.width||a.height!==o.height)throw new Error("Dimension Mismatch");const i=a.width,s=a.height,l=r?y2(i):i,c=r?y2(s):s,u=l*c,f=new Uint16Array(u),h=6e4,p=1.41421356;for(let m=0;m<s;m++){const v=m*i,w=m*l;for(let y=0;y<i;y++){const g=a.data[v+y],x=o.data[v+y];let S=g-x;n&&(S/=p);let b=S+h;b=Math.max(0,Math.min(65535,b)),f[w+y]=Math.round(b)}}return{rawData:f,width:l,height:c,metadata:a.metadata}}function Fu(e,t,r,n,a,o,i){const s=Math.max(0,Math.floor(n)),l=Math.max(0,Math.floor(a)),c=Math.min(t,Math.ceil(n+o)),u=Math.min(r,Math.ceil(a+i)),f=[0,0,0,0],h=[0,0,0,0],p=[0,0,0,0];for(let w=l;w<u;w++){const y=w*t,g=w%2;for(let x=s;x<c;x++){const S=x%2,b=e[y+x],k=g*2+S;f[k]+=b,h[k]+=b*b,p[k]++}}const m=[0,0,0,0],v=[0,0,0,0];for(let w=0;w<4;w++)if(p[w]>0){const y=f[w]/p[w];m[w]=y;const x=h[w]/p[w]-y*y;v[w]=Math.sqrt(Math.max(0,x))}return{x:s,y:l,width:c-s,height:u-l,means:m,stdDevs:v,pixelCount:p.reduce((w,y)=>w+y,0)}}function RQ(e,t,r,n,a,o,i,s,l,c,u){if(c<=l)return[];const f=Math.max(0,Math.floor(n)),h=Math.max(0,Math.floor(a)),p=Math.min(t,Math.ceil(n+o)),m=Math.min(r,Math.ceil(a+i)),v=c-l,w=u?Math.floor(v)+1:s,y=v/w,g=[new Uint32Array(w),new Uint32Array(w),new Uint32Array(w),new Uint32Array(w)];for(let S=h;S<m;S++){const b=S*t,k=S%2;for(let j=f;j<p;j++){const _=j%2,P=e[b+j];if(P<l||P>c)continue;const N=k*2+_;let A;u?A=Math.floor(P-l):A=Math.floor((P-l)/y),A<0&&(A=0),A>=w&&(A=w-1),g[N][A]++}}const x=[];for(let S=0;S<w;S++){const b=l+(u?S:S*y);x.push({binStart:b,c0:g[0][S],c1:g[1][S],c2:g[2][S],c3:g[3][S]})}return x}function IQ(e,t,r,n,a,o=!1,i=!1,s={rows:!1,rowGroup:0,cols:!1,colGroup:0}){const l=Math.max(0,Math.floor(n.x)),c=Math.max(0,Math.floor(n.y)),u=Math.min(t,Math.ceil(n.x+n.w)),f=Math.min(r,Math.ceil(n.y+n.h)),h=u-l,p=f-c;if(h<=1||p<=1)return null;let m=0;for(let k=l;k<u;k++)k%2===(a&1)&&m++;let v=0;for(let k=c;k<f;k++)k%2===a>>1&&v++;if(m<4||v<4)return null;const w=new Ds(m),y=new Ds(v),g=new Float32Array(Math.floor(m/2)+1),x=new Float32Array(Math.floor(v/2)+1);let S=0,b=0;for(let k=c;k<f;k++){const j=k%2;if(a>>1!==j||s.rows&&(k>>1&1)!==s.rowGroup)continue;const _=new Float32Array(m);let P=0;const N=k*t;for(let A=l;A<u;A++)A%2===(a&1)&&P<m&&(_[P++]=e[N+A]);w.calculateSpectrum(_,g,i),S++}for(let k=l;k<u;k++){const j=k%2;if((a&1)!==j||s.cols&&(k>>1&1)!==s.colGroup)continue;const _=new Float32Array(v);let P=0;for(let N=c;N<f;N++)N%2===a>>1&&P<v&&(_[P++]=e[N*t+k]);y.calculateSpectrum(_,x,i),b++}if(S>0)for(let k=0;k<g.length;k++)g[k]/=S;if(b>0)for(let k=0;k<x.length;k++)x[k]/=b;return{avgHoriz:Array.from(g),avgVert:Array.from(x)}}function BQ(e,t,r,n,a,o=!1){const i=Math.max(0,Math.floor(n.x)),s=Math.max(0,Math.floor(n.y)),l=Math.min(t,Math.ceil(n.x+n.w)),c=Math.min(r,Math.ceil(n.y+n.h));let u=-1;for(let g=s;g<c;g++)if(g%2===a>>1){u=g;break}if(u===-1)return null;let f=-1;for(let g=i;g<l;g++)if(g%2===(a&1)){f=g;break}if(f===-1)return null;const h=[];for(let g=u;g<c;g+=2){const x=g*t,S=[];for(let b=f;b<l;b+=2)S.push(e[x+b]);h.push(S)}const p=h.length;if(p===0)return null;const m=h[0].length;if(m===0)return null;const v=new Float32Array(m*p);for(let g=0;g<p;g++){const x=h[g];for(let S=0;S<m;S++)v[g*m+S]=x[S]}const w=MQ(v,m,p,o),y=CQ(w,m,p);return{width:m,height:p,data:y}}function FQ(e,t,r,n,a,o,i){const s=[],l=Math.max(0,Math.floor(n.x)),c=Math.max(0,Math.floor(n.y)),u=Math.min(t,Math.ceil(n.x+n.w)),f=Math.min(r,Math.ceil(n.y+n.h)),h=a>>1,p=a&1;for(let g=c;g<f;g++){if(g%2!==h)continue;const x=g*t;for(let S=l;S<u;S++){if(S%2!==p)continue;const b=e[x+S];b>=o&&b<=i&&s.push(b-o)}}if(s.length===0)return null;s.sort((g,x)=>g-x);const m=[s[0]];for(let g=1;g<s.length;g++)s[g]!==s[g-1]&&m.push(s[g]);const v=[],w=[],y={};for(let g=0;g<m.length-1;g++){const x=m[g],b=m[g+1]-x;v.push(b),w.push({x,y:b}),y[b]=(y[b]||0)+1}return{uniqueCount:m.length,diffCount:v.length,stepCounts:y,plotData:w}}async function v2(e,t){const r=await hv(),n=new r;try{const a=new Uint8Array(e.slice(0));let o=!1,i=[];if(t.customMatrix&&t.customMatrix.length===9){const h=[[t.customMatrix[0],t.customMatrix[1],t.customMatrix[2]],[t.customMatrix[3],t.customMatrix[4],t.customMatrix[5]],[t.customMatrix[6],t.customMatrix[7],t.customMatrix[8]]],p=AQ(h);if(p){const m=t.wbGains?t.wbGains[0]:1,v=t.wbGains?t.wbGains[1]:1,y=m2(p,[[m,0,0],[0,1,0],[0,0,v]]),g=m2(EQ,y);i=[g[0][0],g[0][1],g[0][2],g[1][0],g[1][1],g[1][2],g[2][0],g[2][1],g[2][2]],o=!0}else throw new Error("Custom Matrix is not invertible.")}const s={outputBps:16,noAutoBright:!0,bright:o?1:Math.pow(2,t.exposure)};t.blackLevel&&t.blackLevel.length===4&&(s.userBlack=0,s.userCblack=t.blackLevel.map(h=>{const p=Math.round(h);return p===0?1:p})),t.demosaicMethod===-1?s.noInterpolation=!0:s.userQual=t.demosaicMethod,o?(s.outputColor=0,s.gamma=[1,1],s.userMul=[1,1,1,1],s.useCameraWb=!1):(s.outputColor=1,s.useCameraWb=!0),await n.open(a,s);const l=await n.imageData(),c=new ImageData(l.width,l.height),u=c.data,f=new Uint16Array(l.data.buffer,l.data.byteOffset,l.data.byteLength/2);if(o&&i.length===9){const h=i,m=Math.pow(2,t.exposure)*.25;for(let v=0;v<f.length;v+=3){const w=f[v]/65535,y=f[v+1]/65535,g=f[v+2]/65535;let x=h[0]*w+h[1]*y+h[2]*g,S=h[3]*w+h[4]*y+h[5]*g,b=h[6]*w+h[7]*y+h[8]*g;x*=m,S*=m,b*=m,x=Math.max(0,Math.min(1,x)),S=Math.max(0,Math.min(1,S)),b=Math.max(0,Math.min(1,b)),x=Ip(x),S=Ip(S),b=Ip(b);const k=v/3*4;u[k]=Math.round(x*255),u[k+1]=Math.round(S*255),u[k+2]=Math.round(b*255),u[k+3]=255}}else for(let h=0;h<f.length;h+=3){const p=h/3*4;u[p]=f[h]>>8,u[p+1]=f[h+1]>>8,u[p+2]=f[h+2]>>8,u[p+3]=255}return c}finally{n.delete?n.delete():n.close()}}const zQ=({isOpen:e,onClose:t,onMinimize:r,rawImageData:n,roi:a,isBGGR:o,zIndex:i,onFocus:s,initialPosition:l,initialInternalState:c,onUpdateState:u})=>{const[f,h]=O.useState((c==null?void 0:c.channelMode)||"All"),[p,m]=O.useState((c==null?void 0:c.minVal)??0),[v,w]=O.useState((c==null?void 0:c.maxVal)??16383),[y,g]=O.useState((c==null?void 0:c.binCount)??100),[x,S]=O.useState((c==null?void 0:c.pointToPoint)??!1),[b,k]=O.useState(!1),[j,_]=O.useState([]),[P,N]=O.useState(null),[A,C]=O.useState(l||{x:100,y:100}),[R,I]=O.useState(!1),T=O.useRef({x:0,y:0});O.useEffect(()=>{u&&u({channelMode:f,minVal:p,maxVal:v,binCount:y,pointToPoint:x})},[f,p,v,y,x]),O.useEffect(()=>{if(!e||!n||!a)return;if(v<=p){N("Invalid range: Max must be greater than Min");return}N(null),k(!0);const W=setTimeout(()=>{try{const te=RQ(n.data,n.width,n.height,a.x,a.y,a.w,a.h,y,p,v,x);_(te)}catch(te){console.error("Histogram calc error:",te),N("Error calculating histogram")}finally{k(!1)}},50);return()=>clearTimeout(W)},[e,n,a==null?void 0:a.x,a==null?void 0:a.y,a==null?void 0:a.w,a==null?void 0:a.h,y,p,v,x]);const L=W=>{s&&s(),!(W.target.closest("button")||W.target.closest("input")||W.target.closest("select"))&&(I(!0),T.current={x:W.clientX-A.x,y:W.clientY-A.y})};if(O.useEffect(()=>{const W=Y=>{R&&C({x:Y.clientX-T.current.x,y:Y.clientY-T.current.y})},te=()=>I(!1);return R&&(window.addEventListener("mousemove",W),window.addEventListener("mouseup",te)),()=>{window.removeEventListener("mousemove",W),window.removeEventListener("mouseup",te)}},[R]),!e)return null;const U=o?{c0:"Blue",c1:"Green 1",c2:"Green 2",c3:"Red"}:{c0:"Red",c1:"Green 1",c2:"Green 2",c3:"Blue"},D=o?{c0:"#3b82f6",c1:"#22c55e",c2:"#4ade80",c3:"#ef4444"}:{c0:"#ef4444",c1:"#22c55e",c2:"#4ade80",c3:"#3b82f6"},z="step";return d.jsxs("div",{className:"fixed flex flex-col bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 shadow-2xl rounded-xl resize-both overflow-hidden min-w-[500px] min-h-[400px] w-[900px] h-[600px]",style:{left:A.x,top:A.y,zIndex:i??100},onMouseDownCapture:s,children:[d.jsxs("div",{className:`flex justify-between items-center p-4 border-b border-gray-200 dark:border-slate-700 flex-shrink-0 bg-white dark:bg-slate-900 select-none ${R?"cursor-grabbing":"cursor-grab"}`,onMouseDown:L,children:[d.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-slate-100 pointer-events-none",children:"ROI Histogram"}),d.jsxs("div",{className:"flex items-center gap-1",children:[r&&d.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors",children:d.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),d.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 dark:hover:text-red-400 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors",children:d.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),d.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-800/50 flex flex-wrap gap-4 items-center border-b border-gray-200 dark:border-slate-700 text-sm flex-shrink-0 relative z-10",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-gray-500 dark:text-slate-400 font-semibold",children:"Channel:"}),d.jsxs("select",{value:f,onChange:W=>h(W.target.value),className:"bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-gray-900 dark:text-slate-100 outline-none focus:ring-1 focus:ring-cyan-500",children:[d.jsx("option",{value:"All",children:"All Colors"}),d.jsx("option",{value:"0",children:U.c0}),d.jsx("option",{value:"1",children:U.c1}),d.jsx("option",{value:"2",children:U.c2}),d.jsx("option",{value:"3",children:U.c3})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-gray-500 dark:text-slate-400 font-semibold",children:"Range (DN):"}),d.jsx("input",{type:"number",value:p,onChange:W=>m(Number(W.target.value)),className:"w-20 px-2 py-1 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-gray-900 dark:text-slate-100 text-right"}),d.jsx("span",{className:"text-gray-400",children:"-"}),d.jsx("input",{type:"number",value:v,onChange:W=>w(Number(W.target.value)),className:"w-20 px-2 py-1 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-gray-900 dark:text-slate-100 text-right"})]}),d.jsxs("div",{className:"flex items-center gap-4 border-l border-gray-300 dark:border-slate-600 pl-4",children:[d.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:x,onChange:W=>S(W.target.checked),className:"w-4 h-4 text-cyan-600 rounded border-gray-300 focus:ring-cyan-500"}),d.jsx("span",{className:"text-gray-700 dark:text-slate-300 select-none",title:"High compute cost",children:"1:1 Point-to-Point"})]}),!x&&d.jsxs("div",{className:"flex items-center gap-2 animate-in fade-in",children:[d.jsx("span",{className:"text-gray-500 dark:text-slate-400 font-semibold",children:"Bins:"}),d.jsx("input",{type:"number",value:y,onChange:W=>g(Math.max(1,Number(W.target.value))),className:"w-16 px-2 py-1 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-gray-900 dark:text-slate-100 text-right"})]})]})]}),d.jsxs("div",{className:"flex-1 p-4 relative bg-white dark:bg-slate-900 overflow-hidden min-h-0",children:[d.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-0 pointer-events-none select-none opacity-10 mix-blend-normal dark:mix-blend-plus-lighter",children:d.jsx("svg",{viewBox:"0 0 500 60",className:"w-96 h-auto",children:d.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"36",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})}),b&&d.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-10 bg-white/50 dark:bg-slate-900/50 backdrop-blur-[1px]",children:d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx("div",{className:"w-8 h-8 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mb-2"}),d.jsx("span",{className:"text-sm text-cyan-600 dark:text-cyan-400 font-semibold",children:"Calculating Histogram..."})]})}),P?d.jsx("div",{className:"flex items-center justify-center h-full text-red-500 relative z-10",children:P}):d.jsx("div",{className:"relative z-10 w-full h-full",children:d.jsx(hs,{width:"100%",height:"100%",children:d.jsxs(dv,{data:j,children:[d.jsx(gi,{strokeDasharray:"3 3",stroke:"#374151",opacity:.3}),d.jsx(la,{dataKey:"binStart",type:"number",domain:[p,v],tickFormatter:W=>Math.floor(W).toString(),tick:{fill:"#9ca3af",fontSize:12},allowDataOverflow:!0,label:{value:"DN Value",position:"insideBottom",offset:-5,fill:"#9ca3af",fontSize:12}}),d.jsx(ca,{tick:{fill:"#9ca3af",fontSize:12},label:{value:"Count",angle:-90,position:"insideLeft",fill:"#9ca3af",fontSize:12}}),d.jsx(qr,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"0.5rem",color:"#f3f4f6"},itemStyle:{fontSize:"12px"},labelFormatter:W=>`DN: ${Math.round(Number(W))}`,formatter:W=>[W,"Count"]}),d.jsx(Fa,{wrapperStyle:{paddingTop:"10px"}}),(f==="All"||f==="0")&&d.jsx(Ur,{type:z,dataKey:"c0",name:U.c0,stroke:D.c0,dot:!1,strokeWidth:1.5,activeDot:{r:4},isAnimationActive:!1}),(f==="All"||f==="1")&&d.jsx(Ur,{type:z,dataKey:"c1",name:U.c1,stroke:D.c1,dot:!1,strokeWidth:1.5,activeDot:{r:4},isAnimationActive:!1}),(f==="All"||f==="2")&&d.jsx(Ur,{type:z,dataKey:"c2",name:U.c2,stroke:D.c2,dot:!1,strokeWidth:1.5,activeDot:{r:4},isAnimationActive:!1}),(f==="All"||f==="3")&&d.jsx(Ur,{type:z,dataKey:"c3",name:U.c3,stroke:D.c3,dot:!1,strokeWidth:1.5,activeDot:{r:4},isAnimationActive:!1})]})})})]})]})},x2=(e,t,r)=>{const n=e.length,a=["c0_h","c0_v","c1_h","c1_v","c2_h","c2_v","c3_h","c3_v"];if(t>=n||t===0)return r==="extremum"?e.map(s=>{const l={...s};return a.forEach(c=>{l[c]!==void 0&&(l[`${c}_max`]=l[c],l[`${c}_min`]=l[c])}),l}):e;const o=[],i=Math.floor(n/t);for(let s=0;s<n;s+=i){const l=Math.min(s+i,n),c=e.slice(s,l);if(c.length===0)continue;const u={...c[Math.floor(c.length/2)]};a.forEach(f=>{const h=c.map(p=>p[f]).filter(p=>p!==void 0);if(h.length>0)if(r==="extremum"){const p=h.reduce((m,v)=>m+v,0);u[f]=p/h.length,u[`${f}_max`]=Math.max(...h),u[`${f}_min`]=Math.min(...h)}else{let p=h[0];r==="min"?p=Math.min(...h):r==="average"?p=h.reduce((v,w)=>v+w,0)/h.length:p=Math.max(...h),u[f]=p}}),o.push(u)}return o},WQ=(e,t)=>{if(t<=0)return[1];const r=new Array(e);let n=0;for(let a=0;a<e;a++){const o=a-(e-1)/2,i=Math.exp(-(o*o)/(2*t*t));r[a]=i,n+=i}for(let a=0;a<e;a++)r[a]/=n;return r},UQ=({isOpen:e,onClose:t,onMinimize:r,rawImageData:n,roi:a,isBGGR:o,onUpdateROI:i,zIndex:s,onFocus:l,initialPosition:c,initialInternalState:u,onUpdateState:f})=>{const[h,p]=O.useState((u==null?void 0:u.selectedChannel)??0),[m,v]=O.useState(()=>(u==null?void 0:u.yMinExp)||localStorage.getItem("fft_y_min")||"-1"),[w,y]=O.useState(()=>(u==null?void 0:u.yMaxExp)||localStorage.getItem("fft_y_max")||"8"),[g,x]=O.useState(()=>(u==null?void 0:u.poolingMethod)||localStorage.getItem("fft_pooling_method")||"max"),[S,b]=O.useState((u==null?void 0:u.useHanning)??!0),[k,j]=O.useState((u==null?void 0:u.showH)??!0),[_,P]=O.useState((u==null?void 0:u.showV)??!0),[N,A]=O.useState((u==null?void 0:u.interlaceRows)??!1),[C,R]=O.useState((u==null?void 0:u.rowGroup)??0),[I,T]=O.useState((u==null?void 0:u.interlaceCols)??!1),[L,U]=O.useState((u==null?void 0:u.colGroup)??0),[D,z]=O.useState(()=>(u==null?void 0:u.theoSigma)||localStorage.getItem("fft_theo_sigma")||"1.35"),[W,te]=O.useState(()=>(u==null?void 0:u.theoKernelSize)||localStorage.getItem("fft_theo_ksize")||"3"),[Y,X]=O.useState(()=>(u==null?void 0:u.theoNoiseStd)||localStorage.getItem("fft_theo_noise")||"1.0"),[F,ue]=O.useState(()=>(u==null?void 0:u.theoScale)||localStorage.getItem("fft_theo_scale")||"1.0"),[fe,Se]=O.useState(!1),[ce,J]=O.useState((u==null?void 0:u.intStart)||"0"),[de,ve]=O.useState((u==null?void 0:u.intEnd)||"0.5"),[q,Ye]=O.useState({}),[we,lt]=O.useState([]),[ze,gt]=O.useState([]),[cr,Yt]=O.useState(!1),[vr,$t]=O.useState(null),[er,ur]=O.useState(!1),[tr,ct]=O.useState(null),[Hn,xr]=O.useState(!1),[Vn,$r]=O.useState(null),[en,Ja]=O.useState(c||{x:50,y:50}),[Gt,Kn]=O.useState(!1),Ot=O.useRef({x:0,y:0}),On=o?{c0:"#3b82f6",c1:"#22c55e",c2:"#4ade80",c3:"#ef4444"}:{c0:"#ef4444",c1:"#22c55e",c2:"#4ade80",c3:"#3b82f6"},_n=O.useMemo(()=>o?{0:"Blue",1:"Green 1",2:"Green 2",3:"Red"}:{0:"Red",1:"Green 1",2:"Green 2",3:"Blue"},[o]),tn=G=>{const he=G.target.value;x(he),localStorage.setItem("fft_pooling_method",he)};O.useEffect(()=>{localStorage.setItem("fft_y_min",m)},[m]),O.useEffect(()=>{localStorage.setItem("fft_y_max",w)},[w]),O.useEffect(()=>{localStorage.setItem("fft_theo_sigma",D)},[D]),O.useEffect(()=>{localStorage.setItem("fft_theo_ksize",W)},[W]),O.useEffect(()=>{localStorage.setItem("fft_theo_noise",Y)},[Y]),O.useEffect(()=>{localStorage.setItem("fft_theo_scale",F)},[F]),O.useEffect(()=>{f&&f({selectedChannel:h,yMinExp:m,yMaxExp:w,poolingMethod:g,useHanning:S,showH:k,showV:_,interlaceRows:N,rowGroup:C,interlaceCols:I,colGroup:L,theoSigma:D,theoKernelSize:W,theoNoiseStd:Y,theoScale:F,intStart:ce,intEnd:de})},[h,m,w,g,S,k,_,N,C,I,L,D,W,Y,F,ce,de]),O.useEffect(()=>{if(!e||!n||!a)return;Yt(!0),$t(null),gt([]),lt([]),ct(null),Ye({});const G=setTimeout(()=>{try{const he=h===-1?[0,1,2,3]:[h],Me={};let ot=0;for(const Le of he){const et=IQ(n.data,n.width,n.height,a,Le,!1,S,{rows:N,rowGroup:C,cols:I,colGroup:L});et&&et.avgHoriz.length>0&&(Me[Le]=et,ot=Math.max(ot,et.avgHoriz.length,et.avgVert.length))}if(ot===0)throw new Error("Data is empty or ROI is too small.");const nt=[],it=.5,Be=1e-10,Ve=(Le,et)=>{const ee=Le.length-1,zt=et/it*ee,yt=Math.round(zt),Pr=Le[Math.min(yt,ee)]||0;return Math.max(Pr,Be)};for(let Le=0;Le<ot;Le++){const et=Le/(ot-1)*it,ee={freq:parseFloat(et.toFixed(5))};for(const zt of he)Me[zt]&&(ee[`c${zt}_h`]=Ve(Me[zt].avgHoriz,et),ee[`c${zt}_v`]=Ve(Me[zt].avgVert,et));nt.push(ee)}lt(nt);const ft=x2(nt,2e3,g);gt(ft)}catch(he){console.error("FFT Calculation Failed:",he),$t(he.message||"Unknown error during FFT")}finally{Yt(!1)}},50);return()=>clearTimeout(G)},[e,n,a==null?void 0:a.x,a==null?void 0:a.y,a==null?void 0:a.w,a==null?void 0:a.h,h,g,S,N,C,I,L]);const _t=()=>{!n||!a||(Yt(!0),$t(null),setTimeout(()=>{try{const G=h===-1?[0,1,2,3]:[h],he={};let Me=0,ot=0;for(const Be of G){const Ve=BQ(n.data,n.width,n.height,a,Be,S);if(Ve){const{width:ft,height:Le,data:et}=Ve,ee=Math.floor(ft/2),zt=Math.floor(Le/2),yt=Math.min(ee,zt),Pr=[];for(let ar=0;ar<yt;ar++){const _a=et[(zt+ar)*ft+(ee+ar)];Pr.push(Math.max(_a,1e-10))}he[Be]=Pr,Me=Math.max(Me,yt)}}if(Me===0)throw new Error("2D Extraction failed");const nt=[];for(let Be=0;Be<Me;Be++){const Ve=Be/Me*.5*Math.sqrt(2),ft={freq:parseFloat(Ve.toFixed(5))};for(const Le of G)he[Le]&&he[Le][Be]!==void 0&&(ft[`c${Le}_h`]=he[Le][Be]);nt.push(ft)}lt(nt);const it=x2(nt,2e3,g);gt(it)}catch(G){console.error("2D Diag Calc Error:",G),$t(G.message)}finally{Yt(!1)}},50))},Q=()=>{const G=parseFloat(ce),he=parseFloat(de);if(isNaN(G)||isNaN(he))return;const Me={},ot=h===-1?[0,1,2,3]:[h],nt=ze.filter(Be=>Be.freq>=G&&Be.freq<=he),it=nt.length;if(it===0){Ye({});return}ot.forEach(Be=>{let Ve=0,ft=0;nt.forEach(Le=>{const et=Le[`c${Be}_h`],ee=Le[`c${Be}_v`];typeof et=="number"&&(Ve+=et),typeof ee=="number"&&(ft+=ee)}),Me[Be]={h:Ve/it,v:ft/it,count:it}}),Ye(Me)},We=O.useMemo(()=>{const G=parseFloat(D),he=parseInt(W),Me=parseFloat(Y),ot=parseFloat(F);if(isNaN(G)||isNaN(he)||isNaN(Me)||isNaN(ot)||ze.length===0)return ze;const nt=WQ(he,G),it=nt.reduce((ft,Le)=>ft+Le*Le,0),Be=(he-1)/2,Ve=Me*Me*ot;return ze.map(ft=>{const Le=ft.freq,et=2*Math.PI*Le;let ee=0,zt=0;for(let ar=0;ar<he;ar++){const _a=ar-Be,Pa=nt[ar],pn=-et*_a;ee+=Pa*Math.cos(pn),zt+=Pa*Math.sin(pn)}const yt=ee*ee+zt*zt,Pr=Ve*it*yt;return{...ft,theory:Math.max(1e-10,Pr)}})},[ze,D,W,Y,F]),Pt=G=>{G&&G.activeLabel!==void 0&&(xr(!0),$r(Number(G.activeLabel)),ct(null))},Or=G=>{if(Hn&&Vn!==null&&G&&G.activeLabel!==void 0){const he=Number(G.activeLabel);ct([Math.min(Vn,he),Math.max(Vn,he)])}},_r=()=>{xr(!1),$r(null)},rn=G=>{l&&l(),!(G.target.closest("button")||G.target.closest("input"))&&(Kn(!0),Ot.current={x:G.clientX-en.x,y:G.clientY-en.y})};O.useEffect(()=>{const G=Me=>{Gt&&Ja({x:Me.clientX-Ot.current.x,y:Me.clientY-Ot.current.y})},he=()=>Kn(!1);return Gt&&(window.addEventListener("mousemove",G),window.addEventListener("mouseup",he)),()=>{window.removeEventListener("mousemove",G),window.removeEventListener("mouseup",he)}},[Gt]);const Dr=O.useMemo(()=>{if(!tr||we.length===0)return null;const[G,he]=tr,Me=we.filter(it=>it.freq>=G&&it.freq<=he);if(Me.length===0)return null;const ot=h===-1?[0,1,2,3]:[h],nt={};return ot.forEach(it=>{["h","v"].forEach(Be=>{const Ve=`c${it}_${Be}`;let ft=0,Le=0;for(const et of Me){const ee=et[Ve];typeof ee=="number"&&(ft+=ee,Le++)}Le>0&&(nt[`${Ve}_sigma`]=Math.sqrt(ft/Le))})}),{count:Me.length,stats:nt}},[tr,we,h]),Ht=()=>{let G=Math.pow(10,parseFloat(m)||-1);const he=Math.pow(10,parseFloat(w)||8);return G<=0&&(G=1e-4),[G,he]},Ct=()=>{if(ze.length===0)return;let G=1/0,he=-1/0;if(ze.forEach(Ve=>{Ve.freq<.01||Ve.freq>.49||Object.keys(Ve).forEach(ft=>{if(ft==="freq"||ft==="theory")return;const Le=Ve[ft];typeof Le=="number"&&Le>0&&(Le<G&&(G=Le),Le>he&&(he=Le))})}),G===1/0)return;const Me=Math.log10(G),ot=Math.log10(he),nt=ot-Me,Be=(nt===0?1:nt)*.1;v((Me-Be).toFixed(2)),y((ot+Be).toFixed(2))},mt=(G,he)=>{!a||!i||i({...a,x:a.x+G,y:a.y+he})},br=(G,he)=>{!a||!i||i({...a,w:Math.max(2,a.w+G),h:Math.max(2,a.h+he)})},fa=()=>(h===-1?[0,1,2,3]:[h]).flatMap(he=>{const Me=`c${he}_h`,ot=`c${he}_v`,nt=On[`c${he}`],it=[];return k&&it.push(d.jsx(Ur,{type:"linear",dataKey:Me,name:`${_n[he]} (H/Diag)`,stroke:nt,strokeWidth:1,dot:!1,activeDot:{r:4},isAnimationActive:!1,style:{shapeRendering:"crispEdges"}},`${he}_h`)),_&&it.push(d.jsx(Ur,{type:"linear",dataKey:ot,name:`${_n[he]} (V)`,stroke:nt,strokeWidth:1,strokeDasharray:"3 3",dot:!1,activeDot:{r:4},isAnimationActive:!1,style:{shapeRendering:"crispEdges"}},`${he}_v`)),it});return e?d.jsx(d.Fragment,{children:d.jsxs("div",{className:"fixed flex flex-col bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 shadow-2xl rounded-xl overflow-hidden resize-both min-w-[600px] min-h-[500px]",style:{left:en.x,top:en.y,width:"900px",height:"800px",zIndex:s??100},onMouseDownCapture:l,children:[d.jsxs("div",{className:`flex justify-between items-center p-3 border-b border-gray-200 dark:border-slate-700 flex-shrink-0 bg-gray-50 dark:bg-slate-800 z-50 relative select-none ${Gt?"cursor-grabbing":"cursor-grab"}`,onMouseDown:rn,children:[d.jsxs("h2",{className:"text-lg font-bold text-gray-900 dark:text-slate-100 flex items-center gap-2 pointer-events-none",children:["Power Spectrum Analysis",d.jsxs("span",{className:"text-xs font-normal bg-white dark:bg-slate-700 px-2 py-1 rounded text-gray-500 border border-gray-200 dark:border-slate-600 shadow-sm",children:["Raw Linear Data ",S?"(Hanning)":"(No Window)"]})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[r&&d.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors",children:d.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),d.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 dark:hover:text-red-400 p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors",children:d.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),d.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-800/50 border-b border-gray-200 dark:border-slate-700 flex-shrink-0 flex flex-wrap gap-4 items-center z-40 relative",children:[d.jsxs("div",{className:"flex gap-2 items-center",children:[d.jsx("span",{className:"text-[10px] font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide",children:"Channel"}),d.jsxs("div",{className:"flex bg-white dark:bg-slate-900 rounded-lg p-0.5 border border-gray-200 dark:border-slate-600 shadow-sm",children:[d.jsx("button",{onClick:()=>p(-1),className:`px-2 py-1 rounded text-[10px] font-bold transition-all ${h===-1?"bg-slate-800 text-white shadow-sm":"text-gray-600 dark:text-slate-400 hover:bg-gray-100 dark:hover:bg-slate-800"}`,children:"All"}),[0,1,2,3].map(G=>d.jsx("button",{onClick:()=>p(G),className:`px-2 py-1 rounded text-[10px] font-bold transition-all ${h===G?"bg-cyan-600 text-white shadow-sm":"text-gray-600 dark:text-slate-400 hover:bg-gray-100 dark:hover:bg-slate-800"}`,children:_n[G]},G))]})]}),d.jsx("div",{className:"flex gap-2 items-center px-3 border-l border-gray-200 dark:border-slate-700",children:d.jsxs("button",{onClick:_t,className:"bg-indigo-600 hover:bg-indigo-500 text-white text-[10px] font-bold py-1.5 px-3 rounded shadow-md transition-all flex items-center gap-1 active:scale-95 border border-indigo-700",title:"Perform 2D FFT and extract y=x diagonal profile",children:[d.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"2D Diagonal (y=x)"]})}),d.jsxs("div",{className:"flex items-center gap-2 px-3 border-l border-r border-gray-200 dark:border-slate-700",children:[d.jsx("span",{className:"text-[10px] font-bold text-indigo-600 dark:text-indigo-400 uppercase tracking-wide",children:"Model"}),d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx("label",{className:"text-[9px] text-gray-400 dark:text-slate-500",children:"KSize"}),d.jsx("input",{type:"number",step:"2",min:"1",value:W,onChange:G=>te(G.target.value),className:"w-10 text-xs bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-600 rounded px-1 text-center outline-none focus:border-indigo-500"})]}),d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx("label",{className:"text-[9px] text-gray-400 dark:text-slate-500",children:"Sigma"}),d.jsx("input",{type:"number",step:"0.05",value:D,onChange:G=>z(G.target.value),className:"w-12 text-xs bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-600 rounded px-1 text-center outline-none focus:border-indigo-500"})]}),d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx("label",{className:"text-[9px] text-gray-400 dark:text-slate-500",children:"Noise()"}),d.jsx("input",{type:"number",step:"0.1",value:Y,onChange:G=>X(G.target.value),className:"w-10 text-xs bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-600 rounded px-1 text-center outline-none focus:border-indigo-500"})]}),d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx("label",{className:"text-[9px] text-gray-400 dark:text-slate-500",children:"Scale"}),d.jsx("input",{type:"number",step:"0.1",value:F,onChange:G=>ue(G.target.value),className:"w-10 text-xs bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-600 rounded px-1 text-center outline-none focus:border-indigo-500"})]})]}),d.jsxs("div",{className:"flex gap-1 items-center",children:[d.jsx("span",{className:"text-[10px] font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide",children:"Pool"}),d.jsxs("select",{value:g,onChange:tn,className:"text-[10px] font-bold bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-600 rounded py-1 px-1 text-gray-700 dark:text-slate-300 outline-none focus:ring-1 focus:ring-cyan-500",children:[d.jsx("option",{value:"max",children:"Max"}),d.jsx("option",{value:"min",children:"Min"}),d.jsx("option",{value:"average",children:"Avg"})]})]}),d.jsxs("div",{className:"flex flex-col gap-1 border-l border-gray-200 dark:border-slate-700 pl-2 ml-2",children:[d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsxs("label",{className:"text-[9px] text-gray-500 dark:text-slate-400 flex items-center gap-1 cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:N,onChange:G=>A(G.target.checked),className:"rounded-sm w-3 h-3 text-cyan-600 focus:ring-0"}),"Row Int."]}),N&&d.jsx("button",{onClick:()=>R(G=>G===0?1:0),className:"text-[9px] px-1 bg-gray-200 dark:bg-slate-700 text-gray-700 dark:text-slate-300 rounded font-bold w-6 text-center hover:bg-gray-300 dark:hover:bg-slate-600",children:C===0?"G1":"G2"})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsxs("label",{className:"text-[9px] text-gray-500 dark:text-slate-400 flex items-center gap-1 cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:I,onChange:G=>T(G.target.checked),className:"rounded-sm w-3 h-3 text-cyan-600 focus:ring-0"}),"Col Int."]}),I&&d.jsx("button",{onClick:()=>U(G=>G===0?1:0),className:"text-[9px] px-1 bg-gray-200 dark:bg-slate-700 text-gray-700 dark:text-slate-300 rounded font-bold w-6 text-center hover:bg-gray-300 dark:hover:bg-slate-600",children:L===0?"G1":"G2"})]})]}),d.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer select-none bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-600 px-2 py-1 rounded shadow-sm",children:[d.jsx("div",{className:`w-3 h-3 rounded border flex items-center justify-center transition-colors ${S?"bg-fuchsia-600 border-fuchsia-600":"bg-gray-100 dark:bg-slate-800 border-gray-300 dark:border-slate-600"}`,children:S&&d.jsx("svg",{className:"w-2 h-2 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),d.jsx("input",{type:"checkbox",checked:S,onChange:G=>b(G.target.checked),className:"hidden"}),d.jsx("span",{className:"text-[10px] font-bold text-gray-700 dark:text-slate-300",children:"Hanning"})]}),d.jsxs("div",{className:"flex gap-2 items-center border-l border-gray-200 dark:border-slate-700 pl-3 ml-2",children:[d.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-600 px-2 py-1 rounded shadow-sm",children:[d.jsx("div",{className:`w-3 h-3 rounded border flex items-center justify-center transition-colors ${k?"bg-cyan-600 border-cyan-600":"bg-gray-100 dark:bg-slate-800 border-gray-300 dark:border-slate-600"}`,children:k&&d.jsx("svg",{className:"w-2 h-2 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),d.jsx("input",{type:"checkbox",checked:k,onChange:G=>j(G.target.checked),className:"hidden"}),d.jsx("span",{className:"text-[10px] font-bold text-gray-700 dark:text-slate-300",children:"H"})]}),d.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-600 px-2 py-1 rounded shadow-sm",children:[d.jsx("div",{className:`w-3 h-3 rounded border flex items-center justify-center transition-colors ${_?"bg-cyan-600 border-cyan-600":"bg-gray-100 dark:bg-slate-800 border-gray-300 dark:border-slate-600"}`,children:_&&d.jsx("svg",{className:"w-2 h-2 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),d.jsx("input",{type:"checkbox",checked:_,onChange:G=>P(G.target.checked),className:"hidden"}),d.jsx("span",{className:"text-[10px] font-bold text-gray-700 dark:text-slate-300",children:"V"})]})]}),d.jsxs("div",{className:"relative ml-auto",children:[d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>Se(!fe),className:`px-2 py-1 rounded text-[10px] font-bold transition-all border ${fe?"bg-emerald-600 text-white border-emerald-600 shadow-md ring-2 ring-emerald-500/30":"bg-white dark:bg-slate-900 text-emerald-600 dark:text-emerald-400 border-emerald-200 dark:border-emerald-800 hover:bg-emerald-50 dark:hover:bg-slate-800"}`,children:" (Integration)"}),i&&d.jsx("button",{onClick:()=>ur(!er),className:`px-2 py-1 rounded text-[10px] font-bold transition-all border ${er?"bg-indigo-600 text-white border-indigo-600 shadow-md ring-2 ring-indigo-500/30":"bg-white dark:bg-slate-900 text-indigo-600 dark:text-indigo-400 border-indigo-200 dark:border-indigo-800 hover:bg-indigo-50 dark:hover:bg-slate-800"}`,children:"ROI"})]}),fe&&d.jsxs("div",{className:"absolute top-8 right-0 z-50 w-80 bg-white dark:bg-slate-900 rounded-xl shadow-2xl border border-gray-200 dark:border-slate-700 p-4 animate-in slide-in-from-top-2",children:[d.jsx("h4",{className:"text-[10px] uppercase font-bold text-emerald-600 dark:text-emerald-400 mb-2 border-b border-gray-100 dark:border-slate-800 pb-1",children:"Discrete Mean (Pooled)"}),d.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[d.jsx("span",{className:"text-[10px] text-gray-500",children:"Range:"}),d.jsx("input",{type:"number",step:"0.01",value:ce,onChange:G=>J(G.target.value),className:"w-16 px-1 py-0.5 text-xs border rounded bg-transparent dark:border-slate-600 dark:text-white"}),d.jsx("span",{className:"text-gray-400",children:"-"}),d.jsx("input",{type:"number",step:"0.01",value:de,onChange:G=>ve(G.target.value),className:"w-16 px-1 py-0.5 text-xs border rounded bg-transparent dark:border-slate-600 dark:text-white"}),d.jsx("button",{onClick:Q,className:"flex-1 bg-emerald-600 hover:bg-emerald-500 text-white text-[10px] font-bold py-1 rounded",children:"Calculate Avg"})]}),d.jsxs("div",{className:"flex flex-col gap-2 max-h-48 overflow-y-auto",children:[[0,1,2,3].map(G=>{if(h!==-1&&h!==G)return null;const he=q[G];if(!he)return null;const Me=On[`c${G}`],ot=_n[G];return d.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800/50 p-2 rounded text-[10px] border border-gray-100 dark:border-slate-800",children:[d.jsxs("div",{className:"flex items-center gap-2 font-bold mb-1",style:{color:Me},children:[d.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:Me}}),ot," ",d.jsxs("span",{className:"text-gray-400 font-normal",children:["(",he.count," pts)"]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-x-2 gap-y-1 text-gray-700 dark:text-slate-300 font-mono",children:[d.jsxs("div",{children:["H Mean: ",d.jsx("span",{className:"font-bold",children:he.h.toExponential(3)})]}),d.jsxs("div",{children:["V Mean: ",d.jsx("span",{className:"font-bold",children:he.v.toExponential(3)})]}),d.jsxs("div",{className:"opacity-70",children:["H RMS",Math.sqrt(he.h).toFixed(3)]}),d.jsxs("div",{className:"opacity-70",children:["V RMS",Math.sqrt(he.v).toFixed(3)]})]})]},G)}),Object.keys(q).length===0&&d.jsx("div",{className:"text-center text-gray-400 text-[10px] italic",children:"Click Calculate"})]})]}),er&&d.jsx("div",{className:"absolute top-8 right-0 z-50 w-64 bg-white dark:bg-slate-900 rounded-xl shadow-2xl border border-gray-200 dark:border-slate-700 p-4 animate-in slide-in-from-top-2",children:d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"text-[10px] uppercase font-bold text-gray-400 dark:text-slate-500 mb-2",children:"Move (Position)"}),d.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[d.jsx("div",{}),d.jsx("button",{onClick:()=>mt(0,-1),className:"p-2 bg-gray-100 hover:bg-gray-200 dark:bg-slate-800 dark:hover:bg-slate-700 rounded-md text-gray-700 dark:text-slate-200 transition-colors",children:d.jsx("svg",{className:"w-3 h-3 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 15l7-7 7 7"})})}),d.jsx("div",{}),d.jsx("button",{onClick:()=>mt(-1,0),className:"p-2 bg-gray-100 hover:bg-gray-200 dark:bg-slate-800 dark:hover:bg-slate-700 rounded-md text-gray-700 dark:text-slate-200 transition-colors",children:d.jsx("svg",{className:"w-3 h-3 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M15 19l-7-7 7-7"})})}),d.jsx("div",{className:"flex items-center justify-center",children:d.jsx("div",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full"})}),d.jsx("button",{onClick:()=>mt(1,0),className:"p-2 bg-gray-100 hover:bg-gray-200 dark:bg-slate-800 dark:hover:bg-slate-700 rounded-md text-gray-700 dark:text-slate-200 transition-colors",children:d.jsx("svg",{className:"w-3 h-3 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M9 5l7 7-7 7"})})}),d.jsx("div",{}),d.jsx("button",{onClick:()=>mt(0,1),className:"p-2 bg-gray-100 hover:bg-gray-200 dark:bg-slate-800 dark:hover:bg-slate-700 rounded-md text-gray-700 dark:text-slate-200 transition-colors",children:d.jsx("svg",{className:"w-3 h-3 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M19 9l-7 7-7-7"})})}),d.jsx("div",{})]})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-[10px] uppercase font-bold text-gray-400 dark:text-slate-500 mb-2",children:"Resize (Dimensions)"}),d.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("span",{className:"text-[9px] text-center text-gray-500",children:"Width"}),d.jsxs("div",{className:"flex gap-1",children:[d.jsx("button",{onClick:()=>br(-1,0),className:"flex-1 py-1 bg-gray-100 hover:bg-gray-200 dark:bg-slate-800 dark:hover:bg-slate-700 rounded text-xs font-mono text-gray-700 dark:text-slate-300",children:"-"}),d.jsx("button",{onClick:()=>br(1,0),className:"flex-1 py-1 bg-gray-100 hover:bg-gray-200 dark:bg-slate-800 dark:hover:bg-slate-700 rounded text-xs font-mono text-gray-700 dark:text-slate-300",children:"+"})]})]}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("span",{className:"text-[9px] text-center text-gray-500",children:"Height"}),d.jsxs("div",{className:"flex gap-1",children:[d.jsx("button",{onClick:()=>br(0,-1),className:"flex-1 py-1 bg-gray-100 hover:bg-gray-200 dark:bg-slate-800 dark:hover:bg-slate-700 rounded text-xs font-mono text-gray-700 dark:text-slate-300",children:"-"}),d.jsx("button",{onClick:()=>br(0,1),className:"flex-1 py-1 bg-gray-100 hover:bg-gray-200 dark:bg-slate-800 dark:hover:bg-slate-700 rounded text-xs font-mono text-gray-700 dark:text-slate-300",children:"+"})]})]})]})]}),a&&d.jsxs("div",{className:"pt-2 border-t border-gray-100 dark:border-slate-800 text-[10px] font-mono text-gray-500 text-center",children:["X:",Math.round(a.x)," Y:",Math.round(a.y)," W:",Math.round(a.w)," H:",Math.round(a.h)]})]})})]}),d.jsxs("div",{className:"flex gap-2 items-center ml-auto",children:[d.jsx("button",{onClick:Ct,className:"px-2 py-1 text-[10px] font-bold bg-cyan-100 text-cyan-700 hover:bg-cyan-200 dark:bg-cyan-900/30 dark:text-cyan-300 dark:hover:bg-cyan-900/50 rounded border border-cyan-200 dark:border-cyan-800/50 transition-colors",title:"Auto-scale Y-Axis",children:"Auto"}),d.jsx("span",{className:"text-[10px] font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide",children:"Y-Axis (Log)"}),d.jsxs("div",{className:"flex items-center bg-white dark:bg-slate-900 rounded-lg border border-gray-200 dark:border-slate-600 shadow-sm overflow-hidden",children:[d.jsx("input",{type:"number",value:m,onChange:G=>v(G.target.value),className:"w-10 py-1 text-xs text-center bg-transparent outline-none text-gray-700 dark:text-slate-200 border-r border-gray-200 dark:border-slate-700",placeholder:"Min"}),d.jsx("span",{className:"px-1 text-gray-400 text-[9px] bg-gray-50 dark:bg-slate-800/50 py-1",children:"to"}),d.jsx("input",{type:"number",value:w,onChange:G=>y(G.target.value),className:"w-10 py-1 text-xs text-center bg-transparent outline-none text-gray-700 dark:text-slate-200",placeholder:"Max"})]})]})]}),d.jsxs("div",{className:"flex-1 p-4 overflow-hidden flex flex-col gap-2 relative bg-gray-50/30 dark:bg-slate-900/30",children:[Dr&&tr&&d.jsxs("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 z-50 bg-white/95 dark:bg-slate-800/95 backdrop-blur-md shadow-xl border border-indigo-200 dark:border-indigo-800 rounded-xl p-4 flex flex-col items-center animate-in fade-in slide-in-from-top-4",children:[d.jsxs("div",{className:"flex justify-between items-center w-full border-b border-gray-100 dark:border-slate-700 pb-2 mb-2",children:[d.jsx("h4",{className:"text-xs font-bold uppercase text-indigo-600 dark:text-indigo-400 tracking-wider",children:"Frequency Range Integration"}),d.jsx("button",{onClick:()=>ct(null),className:"text-gray-400 hover:text-red-500 transition-colors ml-4",children:d.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),d.jsx("div",{className:"text-center mb-3",children:d.jsxs("span",{className:"text-[10px] text-gray-500 dark:text-slate-400 font-mono",children:["[",tr[0].toFixed(4)," - ",tr[1].toFixed(4),"] cy/px (",Dr.count," pts)"]})}),d.jsx("div",{className:"grid grid-cols-2 gap-x-8 gap-y-2 text-sm",children:Object.entries(Dr.stats).map(([G,he])=>{const Me=G.includes("_v"),ot=parseInt(G.charAt(1)),nt=_n[ot]||`Ch${ot}`,it=On[`c${ot}`];return d.jsxs("div",{className:"flex items-center justify-between gap-4",children:[d.jsxs("span",{className:"font-bold flex items-center gap-1.5",children:[d.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:it}}),d.jsxs("span",{style:{color:it},children:[nt," ",Me?"(V)":"(H)"]})]}),d.jsxs("span",{className:"font-mono font-bold text-gray-700 dark:text-slate-200",children:[" = ",Number(he).toFixed(4)]})]},G)})}),d.jsx("div",{className:"mt-2 text-[9px] text-gray-400 dark:text-slate-500 italic",children:"* Assumes white noise within band ( = MeanPower)"})]}),cr&&d.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center z-50 bg-white/90 dark:bg-slate-900/90 backdrop-blur-[2px]",children:[d.jsx("div",{className:"w-10 h-10 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mb-4"}),d.jsx("span",{className:"text-cyan-600 dark:text-cyan-400 font-bold animate-pulse",children:"Computing FFT..."})]}),vr?d.jsx("div",{className:"flex items-center justify-center h-full text-red-500 font-semibold bg-red-50 dark:bg-red-900/10 rounded-xl border border-red-100 dark:border-red-900/20",children:vr}):d.jsxs("div",{className:"flex-1 bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 rounded-xl p-2 flex flex-col relative z-20 shadow-sm overflow-hidden min-h-0",children:[d.jsx("div",{className:"absolute top-2 left-2 z-20 bg-white/80 dark:bg-slate-900/80 px-2 py-1 rounded border border-gray-200 dark:border-slate-700",children:d.jsx("h3",{className:"text-[10px] font-bold uppercase tracking-wider text-gray-500 dark:text-slate-400",children:"Power Spectrum (Overlay: Real vs Theory)"})}),d.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none select-none opacity-20 z-0 mix-blend-normal dark:mix-blend-plus-lighter",children:d.jsx("svg",{viewBox:"0 0 500 60",className:"w-[512px] h-auto",children:d.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"36",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})}),d.jsx("div",{className:"flex-1 relative z-10",onMouseDown:Pt,onMouseMove:Or,onMouseUp:_r,style:{cursor:Hn?"col-resize":"crosshair"},children:d.jsx(hs,{width:"100%",height:"100%",children:d.jsxs(dv,{data:We,margin:{top:25,right:10,bottom:20,left:0},children:[d.jsx(gi,{strokeDasharray:"3 3",stroke:"#374151",opacity:.1}),d.jsx(la,{dataKey:"freq",type:"number",domain:[0,.5],tickCount:6,tick:{fill:"#6b7280",fontSize:10},label:{value:"Frequency (cycles/sample)",position:"insideBottom",offset:-10,fill:"#6b7280",fontSize:11}}),d.jsx(ca,{scale:"log",domain:Ht(),allowDataOverflow:!0,tick:{fill:"#6b7280",fontSize:10},tickFormatter:G=>Number(G).toExponential(0),label:{value:"Power",angle:-90,position:"insideLeft",fill:"#6b7280",fontSize:10},width:45}),d.jsx(qr,{contentStyle:{backgroundColor:"rgba(17, 24, 39, 0.95)",border:"1px solid #374151",borderRadius:"0.5rem",color:"#f3f4f6",fontSize:"12px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},itemStyle:{padding:0},formatter:G=>[Number(G).toExponential(4),""],labelFormatter:G=>`Freq: ${Number(G).toFixed(5)}`}),d.jsx(Fa,{wrapperStyle:{fontSize:"10px"}}),d.jsx(Ur,{type:"monotone",dataKey:"theory",name:`Theory (=${D}, N=${Y})`,stroke:"#6366f1",strokeWidth:2,dot:!1,isAnimationActive:!1,style:{shapeRendering:"geometricPrecision"}}),fa(),tr&&d.jsx(ru,{x1:tr[0],x2:tr[1],strokeOpacity:.3,fill:"#8884d8",fillOpacity:.15})]})})})]})]})]})}):null},GQ=({isOpen:e,onClose:t,onMinimize:r,rawImageData:n,roi:a,isBGGR:o,zIndex:i,onFocus:s,initialPosition:l,initialInternalState:c,onUpdateState:u})=>{const[f,h]=O.useState((c==null?void 0:c.selectedChannelKey)||"G1"),[p,m]=O.useState((c==null?void 0:c.blackLevel)??0),[v,w]=O.useState((c==null?void 0:c.whiteLevel)??16383),[y,g]=O.useState(null),[x,S]=O.useState(!1),[b,k]=O.useState(null),[j,_]=O.useState(l||{x:150,y:150}),[P,N]=O.useState(!1),A=O.useRef({x:0,y:0});O.useEffect(()=>{u&&u({selectedChannelKey:f,blackLevel:p,whiteLevel:v})},[f,p,v]),O.useEffect(()=>{if(e&&n&&!c){const T=n.blackLevels?Math.floor(n.blackLevels[1]):0;m(T),w(n.whiteLevel||16383),g(null)}},[e,n]);const C=()=>{if(!n||!a)return;k(null),S(!0);const L=(o?{B:0,G1:1,G2:2,R:3}:{R:0,G1:1,G2:2,B:3})[f];setTimeout(()=>{try{const U=FQ(n.data,n.width,n.height,a,L,p,v);U?g(U):(k("No data found in selection with current filters."),g(null))}catch(U){console.error("Analysis failed:",U),k(U.message||"Analysis error")}finally{S(!1)}},50)},R=T=>{s&&s(),!(T.target.closest("button")||T.target.closest("input")||T.target.closest("select"))&&(N(!0),A.current={x:T.clientX-j.x,y:T.clientY-j.y})};if(O.useEffect(()=>{const T=U=>{P&&_({x:U.clientX-A.current.x,y:U.clientY-A.current.y})},L=()=>N(!1);return P&&(window.addEventListener("mousemove",T),window.addEventListener("mouseup",L)),()=>{window.removeEventListener("mousemove",T),window.removeEventListener("mouseup",L)}},[P]),!e)return null;const I=o?["B","G1","G2","R"]:["R","G1","G2","B"];return d.jsxs("div",{className:"fixed flex flex-col bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 shadow-2xl rounded-xl resize-both overflow-hidden min-w-[500px] min-h-[400px] w-[900px] h-[700px]",style:{left:j.x,top:j.y,zIndex:i??100},onMouseDownCapture:s,children:[d.jsxs("div",{className:`flex justify-between items-center p-4 border-b border-gray-200 dark:border-slate-700 bg-white dark:bg-slate-900 select-none ${P?"cursor-grabbing":"cursor-grab"}`,onMouseDown:R,children:[d.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-slate-100 flex items-center gap-2 pointer-events-none",children:"Quantization Step Analysis"}),d.jsxs("div",{className:"flex items-center gap-1",children:[r&&d.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors",children:d.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),d.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 p-2",children:d.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),d.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-800/50 border-b border-gray-200 dark:border-slate-700 flex flex-wrap gap-4 items-end flex-shrink-0",children:[d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"Channel"}),d.jsx("select",{value:f,onChange:T=>h(T.target.value),className:"bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded px-3 py-1.5 text-sm text-gray-900 dark:text-slate-100 outline-none focus:ring-1 focus:ring-cyan-500 min-w-[80px]",children:I.map(T=>d.jsx("option",{value:T,children:T},T))})]}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"Black Level"}),d.jsx("input",{type:"number",value:p,onChange:T=>m(Number(T.target.value)),className:"w-24 px-3 py-1.5 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-sm text-gray-900 dark:text-slate-100"})]}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"White Level"}),d.jsx("input",{type:"number",value:v,onChange:T=>w(Number(T.target.value)),className:"w-24 px-3 py-1.5 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-sm text-gray-900 dark:text-slate-100"})]}),d.jsx("button",{onClick:C,disabled:x,className:"mb-0.5 px-5 py-1.5 bg-cyan-600 hover:bg-cyan-500 text-white font-bold rounded shadow-sm hover:shadow transition-colors disabled:opacity-50 text-sm",children:x?"Analyzing...":"Run Analysis"})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-4 flex flex-col gap-4 bg-white dark:bg-slate-900 min-h-0",children:[b&&d.jsx("div",{className:"p-3 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 rounded text-sm text-center flex-shrink-0",children:b}),!y&&!x&&!b&&d.jsx("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-400 dark:text-slate-500 h-full",children:d.jsx("p",{children:"Configure parameters and click Run Analysis"})}),y&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 flex-shrink-0",children:[d.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 rounded-lg border border-gray-200 dark:border-slate-700 text-center",children:[d.jsx("div",{className:"text-xs text-gray-500 dark:text-slate-400 uppercase mb-1",children:"Unique Codes"}),d.jsx("div",{className:"text-xl font-bold text-gray-900 dark:text-slate-100",children:y.uniqueCount})]}),d.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 rounded-lg border border-gray-200 dark:border-slate-700 text-center",children:[d.jsx("div",{className:"text-xs text-gray-500 dark:text-slate-400 uppercase mb-1",children:"Total Diffs"}),d.jsx("div",{className:"text-xl font-bold text-gray-900 dark:text-slate-100",children:y.diffCount})]})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800/50 rounded-xl border border-gray-200 dark:border-slate-700 overflow-hidden flex-shrink-0",children:[d.jsx("div",{className:"px-4 py-2 bg-gray-50 dark:bg-slate-800 border-b border-gray-200 dark:border-slate-700 text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"Step Distribution"}),d.jsx("div",{className:"p-4 flex flex-wrap gap-x-8 gap-y-2 text-sm font-mono max-h-32 overflow-y-auto",children:Object.entries(y.stepCounts).sort((T,L)=>parseFloat(T[0])-parseFloat(L[0])).map(([T,L])=>d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("span",{className:"text-gray-500 dark:text-slate-400",children:["Step ",T,":"]}),d.jsx("span",{className:"text-cyan-600 dark:text-cyan-400 font-bold",children:String(L)})]},T))})]}),d.jsxs("div",{className:"flex-1 bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 rounded-xl p-2 relative overflow-hidden min-h-[300px]",children:[d.jsx("div",{className:"absolute top-2 left-4 text-xs font-bold text-gray-400 dark:text-slate-500 pointer-events-none z-20 bg-white/80 dark:bg-slate-900/80 px-2 rounded",children:"Step Size vs Code Value"}),d.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-0 pointer-events-none select-none opacity-10 mix-blend-normal dark:mix-blend-plus-lighter",children:d.jsx("svg",{viewBox:"0 0 500 60",className:"w-96 h-auto",children:d.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"36",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})}),d.jsx("div",{className:"relative z-10 w-full h-full",children:d.jsx(hs,{width:"100%",height:"100%",children:d.jsxs(dv,{data:y.plotData,margin:{top:20,right:20,bottom:20,left:10},children:[d.jsx(gi,{strokeDasharray:"3 3",stroke:"#374151",opacity:.1}),d.jsx(la,{dataKey:"x",type:"number",domain:["auto","auto"],tick:{fill:"#9ca3af",fontSize:10},label:{value:"Code Value (Shifted)",position:"insideBottom",offset:-10,fill:"#9ca3af",fontSize:11}}),d.jsx(ca,{tick:{fill:"#9ca3af",fontSize:10},domain:[0,"auto"],allowDataOverflow:!1,label:{value:"Step Size (Delta)",angle:-90,position:"insideLeft",fill:"#9ca3af",fontSize:11}}),d.jsx(qr,{contentStyle:{backgroundColor:"rgba(17, 24, 39, 0.95)",border:"1px solid #374151",borderRadius:"0.5rem",color:"#f3f4f6",fontSize:"12px"},labelFormatter:T=>`Val: ${T}`,formatter:T=>[T,"Step Size"]}),d.jsx(Ur,{type:"stepAfter",dataKey:"y",stroke:"#0891b2",strokeWidth:1.5,dot:{r:1.5,fill:"#0891b2",strokeWidth:0},activeDot:{r:4},isAnimationActive:!1})]})})})]})]})]})]})},HQ=({initialPosition:e={x:20,y:80},children:t,className:r="",onClose:n,zIndex:a,onFocus:o})=>{const[i,s]=O.useState(e),[l,c]=O.useState(!1),[u,f]=O.useState({x:0,y:0}),h=O.useRef(null),p=m=>{o&&o(),!(m.target.closest("button")||m.target.closest("input"))&&(c(!0),f({x:m.clientX-i.x,y:m.clientY-i.y}))};return O.useEffect(()=>{const m=w=>{var y,g;if(l){const x=w.clientX-u.x,S=w.clientY-u.y,b=window.innerWidth-(((y=h.current)==null?void 0:y.offsetWidth)||100),k=window.innerHeight-(((g=h.current)==null?void 0:g.offsetHeight)||100);s({x:Math.max(0,Math.min(x,b)),y:Math.max(0,Math.min(S,k))})}},v=()=>{c(!1)};return l&&(window.addEventListener("mousemove",m),window.addEventListener("mouseup",v)),()=>{window.removeEventListener("mousemove",m),window.removeEventListener("mouseup",v)}},[l,u]),d.jsxs("div",{ref:h,style:{left:i.x,top:i.y,zIndex:a??90},onMouseDownCapture:o,className:`fixed shadow-2xl rounded-xl border border-gray-200 dark:border-slate-700 bg-white/95 dark:bg-slate-900/90 backdrop-blur-md transition-shadow duration-200 ${l?"cursor-grabbing shadow-xl ring-2 ring-cyan-500/30":"shadow-lg"} ${r}`,children:[d.jsx("div",{onMouseDown:p,className:"absolute inset-0 w-full h-8 cursor-grab active:cursor-grabbing z-0",title:"Drag to move"}),d.jsx("div",{className:"relative z-10",children:t})]})},VQ=[{href:"https://y-g-jiang.github.io/LAC.html",text:"",abbr:"LAC",description:""},{href:"https://y-g-jiang.github.io/CCGV.html",text:"adobeIECMF",abbr:"CCGV",description:"acrRAWxy"},{href:"https://y-g-jiang.github.io/JTJS.html",text:"",abbr:"JTJS",description:"CMF/"},{href:"https://y-g-jiang.github.io/CBLD.html",text:"",abbr:"CBLD",description:""},{href:"https://y-g-jiang.github.io/XJZS.html",text:"",abbr:"XJZS",description:""}],KQ=({isOpen:e,onClose:t})=>e?d.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",onClick:t,children:d.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-3xl rounded-2xl shadow-2xl border border-gray-200 dark:border-slate-700 overflow-hidden flex flex-col max-h-[90vh]",onClick:r=>r.stopPropagation(),children:[d.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"About / Tools"}),d.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 transition-colors p-1 rounded hover:bg-gray-200 dark:hover:bg-slate-700",children:d.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),d.jsxs("div",{className:"p-6 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-slate-700",children:[d.jsx("div",{className:"mb-8 p-4 bg-gray-50 dark:bg-slate-800/50 rounded-xl border border-gray-100 dark:border-slate-700 text-center",children:d.jsxs("p",{className:"text-lg text-gray-700 dark:text-slate-300",children:[d.jsx("span",{className:"font-bold mr-2",children:"about:"}),d.jsx("a",{href:"https://y-g-jiang.github.io/JOindex.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline break-all font-mono",children:"https://y-g-jiang.github.io/JOindex.html"})]})}),d.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[d.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 flex-1"}),d.jsx("span",{className:"text-sm font-bold text-gray-400 dark:text-slate-500 uppercase tracking-wider",children:"Tools Collection"}),d.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 flex-1"})]}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:VQ.map(r=>d.jsxs("a",{href:r.href,target:"_blank",rel:"noopener noreferrer",className:"group block p-4 rounded-xl border border-gray-200 dark:border-slate-700 bg-white dark:bg-slate-800/30 hover:bg-gray-50 dark:hover:bg-slate-800 hover:border-cyan-500 dark:hover:border-cyan-500 hover:shadow-md transition-all duration-200 relative overflow-hidden",children:[d.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-gradient-to-bl from-cyan-500/5 to-transparent -mr-8 -mt-8 rounded-full pointer-events-none group-hover:from-cyan-500/10 transition-colors"}),d.jsxs("div",{className:"flex items-center gap-3 mb-2 relative z-10",children:[d.jsx("span",{className:"px-2 py-1 text-xs font-bold bg-gray-100 dark:bg-slate-700 text-gray-600 dark:text-slate-300 group-hover:bg-cyan-100 dark:group-hover:bg-cyan-900/50 group-hover:text-cyan-700 dark:group-hover:text-cyan-300 rounded transition-colors border border-gray-200 dark:border-slate-600 group-hover:border-cyan-200 dark:group-hover:border-cyan-800",children:r.abbr}),d.jsx("h3",{className:"font-bold text-gray-800 dark:text-slate-200 group-hover:text-cyan-600 dark:group-hover:text-cyan-400 transition-colors",children:r.text})]}),d.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400 pl-1 group-hover:text-gray-600 dark:group-hover:text-slate-300 transition-colors relative z-10",children:r.description})]},r.abbr))})]})]})}):null,XQ=({isOpen:e,onClose:t,data:r,fileName:n,warning:a})=>{const[o,i]=O.useState(""),s=u=>{const f=new WeakSet;try{return JSON.stringify(u,(h,p)=>{if(typeof p=="bigint")return p.toString()+"n";if(typeof p=="object"&&p!==null){if(f.has(p))return"[Circular]";if(f.add(p),ArrayBuffer.isView(p))return`[${p.constructor.name}]`}return p})}catch{return"[Unable to serialize object]"}},l=O.useMemo(()=>{if(!r)return[];const u=[],f=(h,p=0)=>{if(p>5)return"...";if(h==null)return String(h);if(h instanceof Date)return h.toLocaleString();if(typeof h=="number")return h.toString();if(typeof h=="string")return h;if(typeof h=="bigint")return h.toString()+"n";if(ArrayBuffer.isView(h))return`<${h.constructor.name} len=${h.length} bytes=${h.byteLength}>`;if(h instanceof ArrayBuffer)return`<ArrayBuffer bytes=${h.byteLength}>`;if(typeof h=="object"){if(Array.isArray(h))return h.length===0?"[]":h.length>20?`[${h.slice(0,10).map(w=>typeof w=="number"?w.toFixed(2):f(w,p+1)).join(", ")}, ... (+${h.length-10} more)]`:`[${h.map(v=>typeof v=="number"?Number.isInteger(v)?v:v.toFixed(4):f(v,p+1)).join(", ")}]`;try{const m=Object.keys(h);return m.length>5?`{Object with ${m.length} keys}`:s(h)}catch{return"<Complex Object>"}}return String(h)};try{if(typeof r!="object")return[{key:"Value",value:String(r)}];Object.keys(r).sort().forEach(p=>{if(p==="MakerNote"||p==="UserComment"||p.includes("Strip")||p.includes("Offset")){u.push({key:p,value:"<Binary/Internal Data>"});return}const m=r[p];u.push({key:p,value:f(m)})})}catch(h){console.error("Error processing EXIF data:",h),u.push({key:"Error",value:"Failed to process metadata structure."})}return u},[r]);if(!e)return null;const c=l.filter(u=>u.key.toLowerCase().includes(o.toLowerCase())||u.value.toLowerCase().includes(o.toLowerCase()));return d.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",onClick:t,children:d.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-3xl max-h-[90vh] rounded-2xl shadow-2xl flex flex-col border border-gray-200 dark:border-slate-700",onClick:u=>u.stopPropagation(),children:[d.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-gray-200 dark:border-slate-700",children:[d.jsxs("div",{className:"overflow-hidden",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-slate-100",children:"EXIF Data"}),d.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mt-1 font-mono truncate",children:n})]}),d.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 transition-colors p-2 rounded-full hover:bg-gray-100 dark:hover:bg-slate-800",children:d.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a&&d.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 px-4 py-2 border-b border-amber-100 dark:border-amber-800/50 text-center",children:d.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400 whitespace-pre-line font-medium leading-relaxed",children:a})}),d.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50",children:d.jsxs("div",{className:"relative",children:[d.jsx("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),d.jsx("input",{type:"text",placeholder:"Search tags...",value:o,onChange:u=>i(u.target.value),className:"w-full pl-9 pr-4 py-2 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded-lg text-sm focus:ring-2 focus:ring-cyan-500 outline-none text-gray-900 dark:text-slate-100 transition-colors placeholder-gray-400"})]})}),d.jsx("div",{className:"overflow-y-auto flex-1 p-0 scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-slate-700",children:c.length>0?d.jsxs("table",{className:"w-full text-left border-collapse table-fixed",children:[d.jsx("thead",{className:"bg-gray-50 dark:bg-slate-800 sticky top-0 shadow-sm z-10",children:d.jsxs("tr",{children:[d.jsx("th",{className:"py-3 px-5 font-semibold text-xs text-gray-500 dark:text-slate-400 uppercase tracking-wider w-1/3 border-b border-gray-200 dark:border-slate-700",children:"Tag Name"}),d.jsx("th",{className:"py-3 px-5 font-semibold text-xs text-gray-500 dark:text-slate-400 uppercase tracking-wider w-2/3 border-b border-gray-200 dark:border-slate-700",children:"Value"})]})}),d.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-slate-800",children:c.map(u=>d.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-800/50 transition-colors group",children:[d.jsx("td",{className:"py-2 px-5 text-sm font-medium text-cyan-600 dark:text-cyan-400 font-mono break-words align-top",children:u.key}),d.jsx("td",{className:"py-2 px-5 text-sm text-gray-700 dark:text-slate-300 font-mono break-words align-top group-hover:text-gray-900 dark:group-hover:text-slate-100",children:u.value})]},u.key))})]}):d.jsx("div",{className:"flex flex-col items-center justify-center h-64 text-gray-400 dark:text-slate-500",children:d.jsxs("p",{children:['No tags found matching "',o,'"']})})}),d.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50 flex justify-end rounded-b-2xl",children:d.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-800 dark:text-white rounded-lg text-sm font-semibold transition-colors",children:"Close"})})]})})},qQ=100,Fp=e=>{if(e.length===0)return 0;if(e.length===1)return e[0];if(e.length===2)return .5*(e[0]+e[1]);let t=[...e].sort((r,n)=>r-n);for(;t.length>4;){let r=1/0,n=0;const a=t.length,o=Math.floor(a/2);for(let i=0;i<=a-o;i++){const s=t[i+o-1]-t[i];s<r&&(r=s,n=i)}t=t.slice(n,n+o)}return t.reduce((r,n)=>r+n,0)/t.length},b2=({min:e,max:t,value:r,onChange:n,vertical:a=!1,logScale:o=!1})=>{const i=O.useRef(null),s=O.useRef(null),l=O.useCallback(g=>{const x=o?Math.max(1e-6,e):e,S=o?Math.max(x*1.0001,t):t,b=Math.max(x,Math.min(S,g));if(o){const k=Math.log10(x),j=Math.log10(S);return(Math.log10(b)-k)/(j-k)}return(b-x)/(S-x)},[e,t,o]),c=O.useCallback(g=>{const x=o?Math.max(1e-6,e):e,S=o?Math.max(x*1.0001,t):t;if(o){const b=Math.log10(x),k=Math.log10(S);return Math.pow(10,b+g*(k-b))}return x+g*(S-x)},[e,t,o]),u=(g,x)=>{g.preventDefault(),g.stopPropagation(),s.current=x;const S=k=>{if(!s.current||!i.current)return;const j=i.current.getBoundingClientRect();let _=0;a?_=(j.bottom-k.clientY)/j.height:_=(k.clientX-j.left)/j.width,_=Math.max(0,Math.min(1,_));const P=c(_);if(s.current==="min"){const N=r[1];n([Math.min(P,N),N])}else{const N=r[0];n([N,Math.max(P,N)])}},b=()=>{s.current=null,window.removeEventListener("mousemove",S),window.removeEventListener("mouseup",b)};window.addEventListener("mousemove",S),window.addEventListener("mouseup",b)},f=l(r[0])*100,h=l(r[1])*100,p=a?{left:"50%",top:0,bottom:0,width:"4px",transform:"translateX(-50%)"}:{top:"50%",left:0,right:0,height:"4px",transform:"translateY(-50%)"},m=a?{left:"50%",bottom:`${f}%`,height:`${h-f}%`,width:"4px",transform:"translateX(-50%)"}:{top:"50%",left:`${f}%`,width:`${h-f}%`,height:"4px",transform:"translateY(-50%)"},v="absolute w-3 h-3 bg-white border-2 border-cyan-600 rounded-full shadow-md cursor-pointer hover:scale-125 transition-transform z-10",w=a?{left:"50%",bottom:`${f}%`,transform:"translate(-50%, 50%)"}:{top:"50%",left:`${f}%`,transform:"translate(-50%, -50%)"},y=a?{left:"50%",bottom:`${h}%`,transform:"translate(-50%, 50%)"}:{top:"50%",left:`${h}%`,transform:"translate(-50%, -50%)"};return d.jsxs("div",{ref:i,className:`relative select-none ${a?"h-full w-4 py-2":"w-full h-4 px-2"}`,children:[d.jsx("div",{className:"absolute bg-gray-300 dark:bg-slate-600 rounded-full",style:p}),d.jsx("div",{className:"absolute bg-cyan-500 dark:bg-cyan-400 rounded-full",style:m}),d.jsx("div",{className:v,style:w,onMouseDown:g=>u(g,"min")}),d.jsx("div",{className:v,style:y,onMouseDown:g=>u(g,"max")})]})},YQ=({isOpen:e,onClose:t,data:r,blackLevel:n,imageHeight:a,isBGGR:o,importedMetadata:i,theme:s,initialCameraModel:l,initialISO:c})=>{const[u,f]=O.useState("Noise"),[h,p]=O.useState(!0),[m,v]=O.useState(null),[w,y]=O.useState("default"),[g,x]=O.useState(!1),[S,b]=O.useState(!1),[k,j]=O.useState({R:!0,G1:!0,G2:!0,B:!0}),[_,P]=O.useState(""),[N,A]=O.useState(""),[C,R]=O.useState(""),[I,T]=O.useState(""),[L,U]=O.useState("10"),[D,z]=O.useState(""),[W,te]=O.useState("0 0 0 0"),[Y,X]=O.useState("0 0 0 0"),[F,ue]=O.useState(!1),[fe,Se]=O.useState(null),[ce,J]=O.useState(!1),[de,ve]=O.useState(0),[q,Ye]=O.useState(()=>localStorage.getItem("ptc_tester_name")||""),[we,lt]=O.useState(""),[ze,gt]=O.useState("");O.useEffect(()=>{localStorage.setItem("ptc_tester_name",q)},[q]);const cr=O.useRef(F),Yt=O.useRef(ce),vr=O.useRef(de);O.useEffect(()=>{cr.current=F,Yt.current=ce,vr.current=de},[F,ce,de]);const[$t,er]=O.useState(null),[ur,tr]=O.useState({min:.01,max:90}),[ct,Hn]=O.useState({readNoise:0,gain:1,prnu:.5}),[xr,Vn]=O.useState(2e6),$r=O.useRef(ct),en=O.useRef(ur),Ja=O.useRef(xr);O.useEffect(()=>{$r.current=ct,en.current=ur,Ja.current=xr},[ct,ur,xr]);const[Gt,Kn]=O.useState({read:"0",gain:"1.0",prnu:"0.5",rangeMin:"0.01",rangeMax:"90"}),[Ot,On]=O.useState({read:!0,shot:!0,prnu:!0,total:!0,fitRange:!0}),[_n,tn]=O.useState(!1),[_t,Q]=O.useState([]),[We,Pt]=O.useState(null),[Or,_r]=O.useState(""),rn=O.useMemo(()=>n?n.join(","):"",[n]);O.useEffect(()=>{if(e){let $="0 0 0 0";i&&i.blackLevel?$=i.blackLevel.join(" "):$=n&&n.length===4?n.join(" "):"0 0 0 0",te($),X($);let V="";if(i&&i.height?V=i.height.toString():a&&(V=a.toString()),z(V),V){const Z=parseFloat(V);!isNaN(Z)&&Z>0?U((2309.4/Z).toFixed(2)):U("10")}else U("10");Se(null),ue(!1),J(!1),ve(0),Q([]),Pt(null),tr({min:.01,max:90}),Kn({read:"0",gain:"0",prnu:"0",rangeMin:"0.01",rangeMax:"90"}),Hn({readNoise:0,gain:0,prnu:0}),P(""),A(""),R(""),T(""),f("Noise"),er(null),Vn(2e6),_r(""),b(!1),lt(Z=>Z.trim()===""&&l?l:Z),gt(Z=>Z.trim()===""&&c?c:Z)}},[e,rn,i,a,r,l,c]);const Dr=$=>{if($.key==="Enter"){const V=parseFloat(D);if(!isNaN(V)&&V>0){const Z=(2309.4/V).toFixed(2);U(Z)}$.target.blur()}},Ht=O.useMemo(()=>{let V=Y.trim().split(/[\s,]+/).filter(Boolean).map(Number);for(V.length===1&&(V=[V[0],V[0],V[0],V[0]]);V.length<4;)V.push(0);const Z=E=>{switch(E){case"R":return V[0];case"G1":return V[1];case"G2":return V[2];case"B":return V[3];default:return 0}};return r.map(E=>{const le=E.mean-Z(E.channel),xe=E.std>0?le/E.std:0;return{...E,x:le,std:E.std,snr:xe}}).filter(E=>E.std>0)},[r,Y]),Ct=O.useMemo(()=>{const $=ct.readNoise,V=$*$;return Ht.map(Z=>{let E=0;if(u==="Noise")E=Z.std;else if(u==="SNR")E=Z.snr;else if(u==="Linear"){const xe=Z.std*Z.std-V;E=Z.x!==0?xe/Z.x:0}return{...Z,y:E}})},[Ht,u,ct.readNoise]),mt=O.useMemo(()=>{if(Ht.length===0)return"G1";const $={R:0,G1:0,G2:0,B:0},V={R:0,G1:0,G2:0,B:0};for(const le of Ht)$[le.channel]+=le.x,V[le.channel]++;let Z="G1",E=-1/0;return Object.keys($).forEach(le=>{const xe=V[le],je=xe>0?$[le]/xe:-1/0;je>E&&(E=je,Z=le)}),Z},[Ht]),br=O.useCallback(()=>{let $=1/0,V=-1/0;if(Ht.length===0)return{min:.1,max:1};for(let Z=0;Z<Ht.length;Z++){const E=Ht[Z].x;h&&E<=0||(E<$&&($=E),E>V&&(V=E))}return $===1/0?{min:.1,max:1}:{min:$,max:V}},[Ht,h]),fa=O.useCallback(()=>{let $=1/0,V=-1/0;if(Ct.length===0)return{min:.1,max:1};for(let Z=0;Z<Ct.length;Z++){const E=Ct[Z].y;h&&E<=0||(E<$&&($=E),E>V&&(V=E))}return $===1/0?{min:.1,max:1}:{min:$*.9,max:V*1.1}},[Ct,h]),{min:G,max:he}=br(),{min:Me,max:ot}=fa(),nt=he*(ur.min/100),it=he*(ur.max/100),Be=O.useMemo(()=>{if(!h&&Ct.length===0)return{shot:[],read:[],prnu:[],total:[]};const $=_?parseFloat(_):G,V=N?parseFloat(N):he,Z=100,E=Math.max(.1,$),le=Math.max(1,V);if(E>=le)return{shot:[],read:[],prnu:[],total:[]};const xe=Math.log10(E),Ue=(Math.log10(le)-xe)/Z,Ke=ct.readNoise,Ee=ct.gain>0?ct.gain:1,kt=ct.prnu/100,dt=[],Nt=[],Qt=[],oe=[];for(let qe=0;qe<=Z;qe++){const be=Math.pow(10,xe+qe*Ue);if(u==="Linear"){const Dt=1/Ee,St=kt*kt,Hr=Dt+St*be;oe.push({x:be,y:Hr}),dt.push({x:be,y:Dt}),Qt.push({x:be,y:St*be})}else{const Dt=Ke,St=Math.sqrt(be/Ee),Hr=kt*be,ht=Math.sqrt(Dt*Dt+St*St+Hr*Hr);u==="Noise"?(dt.push({x:be,y:St}),Nt.push({x:be,y:Dt}),Qt.push({x:be,y:Hr}),oe.push({x:be,y:ht})):(St>0&&dt.push({x:be,y:be/St}),Dt>0&&Nt.push({x:be,y:be/Dt}),Hr>0&&Qt.push({x:be,y:be/Hr}),ht>0&&oe.push({x:be,y:be/ht}))}}return{shot:dt,read:Nt,prnu:Qt,total:oe}},[Ct,h,_,N,ct,u,G,he]),Ve=O.useMemo(()=>{if(u==="Linear")return[];const $=parseFloat(L);if(isNaN($)||$<=0)return[];const V=_?parseFloat(_):G,Z=N?parseFloat(N):he;return u==="SNR"?[{x:V,y:$},{x:Z,y:$}]:[{x:V,y:V/$},{x:Z,y:Z/$}]},[Ct,L,u,_,N,G,he]),ft=O.useCallback(($,V)=>{if(!V||V.length===0)return null;const Z=[...V].sort((E,le)=>E.x-le.x);for(let E=0;E<Z.length-1;E++){const le=Z[E],xe=Z[E+1];if(le.snr<=$&&xe.snr>=$||le.snr>=$&&xe.snr<=$){const je=($-le.snr)/(xe.snr-le.snr);return le.x+je*(xe.x-le.x)}}return null},[]),Le=O.useMemo(()=>{const $=Ht,V=1e3,Z=le=>{if(le.length===0)return[];if(le.length<=V)return le;const xe=[...le].sort((Ke,Ee)=>Ke.x-Ee.x),je=[],Ue=xe.length/V;for(let Ke=0;Ke<V;Ke++){const Ee=Math.floor(Ke*Ue),kt=Math.floor((Ke+1)*Ue),dt=xe.slice(Ee,kt);if(dt.length===0)continue;dt.sort((Qt,oe)=>Qt.std-oe.std);const Nt=Math.floor(dt.length/2);je.push(dt[Nt])}return je},E={R:[],G1:[],G2:[],B:[]};return $.forEach(le=>{E[le.channel]&&E[le.channel].push(le)}),{R:Z(E.R),G1:Z(E.G1),G2:Z(E.G2),B:Z(E.B)}},[Ht]),et=O.useMemo(()=>fe&&ct.gain?fe*ct.gain:null,[fe,ct.gain]),ee=O.useMemo(()=>{if(fe===null||fe===0)return null;const $=parseFloat(L);let V=null;if(!isNaN($)&&$>0){let je=0,Ue=0;if(["R","G1","G2","B"].forEach(Ke=>{const Ee=ft($,Le[Ke]);Ee!==null&&(je+=Ee,Ue++)}),Ue>0){const Ke=je/Ue;V=Math.log2(fe/Ke)}}const Z=parseFloat(D);let E=null,le=NaN;if(!isNaN(Z)&&Z>0){le=16e3/Z;let je=0,Ue=0;if(["R","G1","G2","B"].forEach(Ke=>{const Ee=ft(le,Le[Ke]);Ee!==null&&(je+=Ee,Ue++)}),Ue>0){const Ke=je/Ue;E=Math.log2(fe/Ke)}}let xe=null;if(!isNaN(Z)&&Z>0){const je=ft(le,Le[mt]);je!==null&&(xe=Math.log2(fe/je))}return{manualDR:V,ptpDR:E,d55DR:xe,manualTarget:$,ptpTarget:le,saturationSignal:fe,dominantChannel:mt}},[fe,L,D,Le,ft,mt]),zt=O.useMemo(()=>{if(u==="Linear"||!ee||!ee.ptpTarget||isNaN(ee.ptpTarget))return[];const $=ee.ptpTarget,V=_?parseFloat(_):G,Z=N?parseFloat(N):he;return u==="SNR"?[{x:V,y:$},{x:Z,y:$}]:[{x:V,y:V/$},{x:Z,y:Z/$}]},[u,ee,_,N,G,he]),yt=O.useCallback(()=>{const Z=document.createElement("canvas");Z.width=2048,Z.height=1536;const E=Z.getContext("2d");if(!E)return;const le=s==="dark",xe=le?"#0f172a":"#ffffff",je=le?"#ffffff":"#000000",Ue=le?"#475569":"#cbd5e1",Ke=le?"#1e293b":"#f1f5f9",Ee=o?{R:"#ef4444",G1:"#22c55e",G2:"#4ade80",B:"#3b82f6"}:{R:"#ef4444",G1:"#22c55e",G2:"#4ade80",B:"#3b82f6"};E.fillStyle=xe,E.fillRect(0,0,2048,1536);let kt=_?parseFloat(_):G,dt=N?parseFloat(N):he,Nt=C?parseFloat(C):Me,Qt=I?parseFloat(I):ot;isNaN(kt)&&(kt=.1),isNaN(dt)&&(dt=1e4),isNaN(Nt)&&(Nt=.1),isNaN(Qt)&&(Qt=1e3);const oe={top:80,right:80,bottom:100,left:120},qe=2048-oe.left-oe.right,be=1536-oe.top-oe.bottom,Dt=se=>{if(h){const Oe=Math.log10(Math.max(1e-9,kt)),$e=Math.log10(Math.max(1e-9,dt)),Ne=Math.log10(Math.max(1e-9,se));return oe.left+(Ne-Oe)/($e-Oe)*qe}else return oe.left+(se-kt)/(dt-kt)*qe},St=se=>{if(h){const Oe=Math.log10(Math.max(1e-9,Nt)),$e=Math.log10(Math.max(1e-9,Qt)),Ne=Math.log10(Math.max(1e-9,se));return oe.top+be-(Ne-Oe)/($e-Oe)*be}else return oe.top+be-(se-Nt)/(Qt-Nt)*be};if(E.beginPath(),h){const se=(Oe,$e,Ne)=>{const Ge=Math.log10(Math.max(1e-9,Oe)),Ae=Math.log10(Math.max(1e-9,$e)),ke=Math.floor(Ge),Lt=Math.ceil(Ae);for(let at=ke;at<=Lt;at++){const vt=Math.pow(10,at);let Ce=Ne?Dt(vt):St(vt);(Ne?Ce>=oe.left-1&&Ce<=oe.left+qe+1:Ce>=oe.top-1&&Ce<=oe.top+be+1)&&(E.lineWidth=1.5,E.strokeStyle=Ue,E.beginPath(),Ne?(E.moveTo(Ce,oe.top),E.lineTo(Ce,oe.top+be)):(E.moveTo(oe.left,Ce),E.lineTo(oe.left+qe,Ce)),E.stroke()),E.lineWidth=.5,E.strokeStyle=Ke;for(let Nr=2;Nr<10;Nr++){const da=Nr*vt;Ce=Ne?Dt(da):St(da),(Ne?Ce>=oe.left&&Ce<=oe.left+qe:Ce>=oe.top&&Ce<=oe.top+be)&&(E.beginPath(),Ne?(E.moveTo(Ce,oe.top),E.lineTo(Ce,oe.top+be)):(E.moveTo(oe.left,Ce),E.lineTo(oe.left+qe,Ce)),E.stroke())}}};se(kt,dt,!0),se(Nt,Qt,!1)}else{E.strokeStyle=Ue,E.lineWidth=1;for(let se=0;se<=5;se++){const Oe=oe.left+qe*se/5;E.beginPath(),E.moveTo(Oe,oe.top),E.lineTo(Oe,oe.top+be),E.stroke();const $e=oe.top+be*se/5;E.beginPath(),E.moveTo(oe.left,$e),E.lineTo(oe.left+qe,$e),E.stroke()}}E.strokeStyle=je,E.lineWidth=2,E.strokeRect(oe.left,oe.top,qe,be);const Hr=(se,Oe,$e)=>{se<oe.left||se>oe.left+qe||Oe<oe.top||Oe>oe.top+be||(E.fillStyle=$e,E.fillRect(se-1.5,Oe-1.5,3,3))},ht=Ct.filter(se=>!(h&&(se.x<=0||se.y<=0)));ht.forEach(se=>{k[se.channel]&&se.channel!==mt&&Hr(Dt(se.x),St(se.y),Ee[se.channel])}),ht.forEach(se=>{k[se.channel]&&se.channel===mt&&Hr(Dt(se.x),St(se.y),Ee[se.channel])});const or=(se,Oe,$e=[])=>{if(se.length<2)return;E.beginPath(),E.strokeStyle=Oe,E.lineWidth=3,E.setLineDash($e);let Ne=!1;for(const Ge of se){const Ae=Dt(Ge.x),ke=St(Ge.y);if(Ae<oe.left-100||Ae>oe.left+qe+100||ke<oe.top-100||ke>oe.top+be+100){Ne=!1;continue}Ne?E.lineTo(Ae,ke):(E.moveTo(Ae,ke),Ne=!0)}E.stroke(),E.setLineDash([])},Vr=le?"#ffffff":"#000000";if(Ot.shot&&or(Be.shot,"#94a3b8",[5,5]),Ot.read&&or(Be.read,"#f43f5e",[3,3]),Ot.prnu&&or(Be.prnu,"#f59e0b",[3,3]),Ot.total&&or(Be.total,Vr,[]),Ve.length===2){const se="#6366f1";or(Ve,se,[4,2]);const Oe=Ve[1],$e=St(Oe.y);$e>=oe.top&&$e<=oe.top+be&&(E.fillStyle=se,E.font="bold 20px sans-serif",E.textAlign="right",E.textBaseline="bottom",E.fillText(`M.Tgt=${L}`,oe.left+qe-10,$e-8))}if(zt.length===2&&(ee!=null&&ee.ptpTarget)){const se="#10b981";or(zt,se,[4,4]);const Oe=zt[1],$e=St(Oe.y);if($e>=oe.top&&$e<=oe.top+be){E.fillStyle=se,E.font="bold 20px sans-serif",E.textAlign="right",E.textBaseline="bottom";const Ne=ee.ptpTarget.toFixed(1),Ge=Ve.length===2?St(Ve[1].y):-100,Ae=Math.abs($e-Ge)<25?25:0;E.fillText(`PTP=${Ne}`,oe.left+qe-10,$e-8-Ae)}}if(Ot.fitRange||ce){const se=(Oe,$e)=>{const Ne=Dt(Oe);Ne>=oe.left&&Ne<=oe.left+qe&&(E.beginPath(),E.strokeStyle=$e,E.lineWidth=2,E.setLineDash([8,8]),E.moveTo(Ne,oe.top),E.lineTo(Ne,oe.top+be),E.stroke(),E.setLineDash([]))};se(nt,"#22d3ee"),se(it,"#22d3ee")}if(fe){const se=Dt(fe);se>=oe.left&&se<=oe.left+qe&&(E.strokeStyle="#ef4444",E.lineWidth=3,E.setLineDash([10,10]),E.beginPath(),E.moveTo(se,oe.top),E.lineTo(se,oe.top+be),E.stroke(),E.setLineDash([]),E.fillStyle="#ef4444",E.font="bold 24px sans-serif",E.textAlign="center",E.fillText("Sat",se,oe.top-10))}E.fillStyle=je,E.font="28px monospace",E.textAlign="center",E.fillText(kt.toExponential(1),oe.left,oe.top+be+40),E.fillText(dt.toExponential(1),oe.left+qe,oe.top+be+40),E.fillText("Signal (DN)",oe.left+qe/2,oe.top+be+80),E.textAlign="right",E.textBaseline="middle",E.fillText(Nt.toExponential(1),oe.left-20,oe.top+be),E.fillText(Qt.toExponential(1),oe.left-20,oe.top),E.save(),E.translate(oe.left-80,oe.top+be/2),E.rotate(-Math.PI/2),E.textAlign="center",E.fillText(u==="Linear"?"(Var - RN) / Mean":u,0,0),E.restore(),E.save(),E.translate(2048/2,1536/2),E.rotate(-Math.PI/6),E.textAlign="center",E.textBaseline="middle",E.fillStyle=le?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)",E.font="bold 150px sans-serif",E.fillText(" y-g-jiang.github.io",0,0),E.restore(),E.fillStyle=je,E.font="bold 36px sans-serif",E.textAlign="left",E.textBaseline="top",E.fillText(`PTC Export: ${u} Mode`,oe.left,20),E.font="24px sans-serif",E.fillStyle=le?"#94a3b8":"#64748b",E.fillText(`Points: ${Ct.length} | Sat Channel: ${mt}`,oe.left,65);const Nn=oe.left+30,eo=oe.top+30,Th=70,nl=se=>{if(!fe||se<=0)return"--";const Oe=ct.readNoise,$e=ct.gain,Ne=ct.prnu/100;if($e<=0)return"--";const Ge=se*se,Ae=Oe*Oe,ke=1-Ge*Ne*Ne,Lt=-(Ge/$e),at=-(Ge*Ae);let vt=0;if(Math.abs(ke)<1e-8)Math.abs(Lt)>1e-8&&(vt=-at/Lt);else{const Ce=Lt*Lt-4*ke*at;Ce>=0&&(vt=(-Lt+Math.sqrt(Ce))/(2*ke))}return vt>0?Math.log2(fe/vt).toFixed(2)+" EV":"--"},B=ee!=null&&ee.ptpTarget&&!isNaN(ee.ptpTarget)?nl(ee.ptpTarget):"--",K=L?nl(parseFloat(L)):"--";E.font="bold 48px monospace",E.textAlign="left",E.textBaseline="top",E.shadowColor=le?"rgba(0,0,0,0.8)":"rgba(255,255,255,0.8)",E.shadowBlur=4,E.shadowOffsetX=1,E.shadowOffsetY=1;const re=(se,Oe,$e,Ne)=>{const Ge=eo+$e*Th;E.fillStyle=je,E.fillText(se,Nn,Ge);const Ae=E.measureText(se).width;E.fillStyle=Ne||je,E.fillText(Oe,Nn+Ae,Ge)},ne=Gt.read,me=parseFloat(Gt.gain).toFixed(3),Te=parseFloat(Gt.prnu).toFixed(2)+"%";let Qe=`M.DR@SNR${L}: `;const Fe=parseFloat(D);if(!isNaN(Fe)&&Fe>0){const se=(2309.4/Fe).toFixed(2);Math.abs(parseFloat(L)-parseFloat(se))<.05&&(Qe="8mpSNR=1 DR: ")}re("Tester: ",q||"N/A",0),re("Model : ",we||"Unknown",1),re("ISO   : ",ze||"N/A",2),re("RN/FPN: ",ne,3,"#f43f5e"),re("KADC  : ",me,4,"#06b6d4"),re("PRNU  : ",Te,5,"#f59e0b"),re("PTP DR: ",ee!=null&&ee.ptpDR?ee.ptpDR.toFixed(2)+" EV":"--",6,"#10b981"),re("D55 DR: ",ee!=null&&ee.d55DR?ee.d55DR.toFixed(2)+" EV":"--",7,"#8b5cf6"),re("FWC   : ",et?et>1e4?(et/1e3).toFixed(1)+"k":Math.round(et).toString():"--",8,"#f97316"),re(Qe,ee!=null&&ee.manualDR?ee.manualDR.toFixed(2)+" EV":"--",9,"#06b6d4"),re("PTCFitDR(PTP): ",B,10,"#10b981"),re("PTCFitDR(Man): ",K,11,"#06b6d4"),E.save(),E.textAlign="right",E.textBaseline="bottom",E.fillStyle="#3b82f6",E.font="bold 80px sans-serif",E.shadowColor=le?"rgba(0,0,0,0.8)":"rgba(255,255,255,0.8)",E.shadowBlur=4,E.shadowOffsetX=2,E.shadowOffsetY=2;const Ze=1988,Pe=1476,Xe=90;E.fillText("Online",Ze,Pe),E.fillText("Jiangtherapee",Ze,Pe-Xe),E.restore();const rt=document.createElement("a");rt.download=`ptc_complete_${u}_${Date.now()}.jpg`,rt.href=Z.toDataURL("image/jpeg",.9),rt.click()},[Ct,mt,k,_,N,C,I,G,he,Me,ot,h,s,u,fe,o,Ot,Be,nt,it,ur,ce,q,we,ze,ee,et,L,Ve,zt,Gt,D]),Pr=O.useMemo(()=>{let $=Ct;if(h&&($=$.filter(le=>le.y>0&&le.x>0)),w==="top3"){const le=[...$].sort((je,Ue)=>Ue.x-je.x),xe=Math.max(50,Math.ceil(le.length*.03));$=le.slice(0,xe)}const V={R:[],G1:[],G2:[],B:[]};if($.forEach(le=>{V[le.channel]&&V[le.channel].push(le)}),w==="raw")return V;const Z=w==="top3"?500:qQ,E=le=>{if(le.length<=Z)return le;const xe=[...le].sort((Ke,Ee)=>Ke.x-Ee.x),je=[],Ue=xe.length/Z;for(let Ke=0;Ke<Z;Ke++){const Ee=Math.floor(Ke*Ue),kt=Math.floor((Ke+1)*Ue),dt=xe.slice(Ee,kt);if(dt.length===0)continue;dt.sort((Qt,oe)=>Qt.y-oe.y);const Nt=Math.floor(dt.length/2);je.push(dt[Nt])}return je};return{R:E(V.R),G1:E(V.G1),G2:E(V.G2),B:E(V.B)}},[Ct,w,h]),ar=O.useMemo(()=>{if(Ht.length<5)return[];const $=Ht.filter(Z=>Z.channel===mt);return[...$.length>20?$:Ht].sort((Z,E)=>Z.x-E.x).map(Z=>({mean:Z.x,std:Z.std}))},[Ht,mt]),_a=$=>{const V=$.length;if(V===0)return[];const Z=$.reduce((qe,be)=>qe+be,0)/V,E=$.reduce((qe,be)=>qe+Math.pow(be-Z,2),0)/(V-1||1),le=Math.sqrt(E);if(le===0)return[{x:Z-.001,density:0},{x:Z,density:1},{x:Z+.001,density:0}];const xe=1.06*le*Math.pow(V,-.2),je=Math.min(...$),Ue=Math.max(...$),Ke=(Ue-je)*.2||je*.1,Ee=Math.max(0,je-Ke),kt=Ue+Ke,dt=100,Nt=(kt-Ee)/(dt-1),Qt=qe=>1/Math.sqrt(2*Math.PI)*Math.exp(-.5*qe*qe),oe=[];for(let qe=0;qe<dt;qe++){const be=Ee+qe*Nt;let Dt=0;for(let St=0;St<V;St++)Dt+=Qt((be-$[St])/xe);Dt/=V*xe,oe.push({x:be,density:Dt})}return oe},Pa=O.useCallback(($,V,Z,E)=>{if($.length<5)return{gain:0,prnu:0};const le=$[$.length-1].mean,xe=le*(Z.min/100),je=le*(Z.max/100),Ue=$.filter(ht=>ht.mean>=xe&&ht.mean<=je);if(Ue.length<5)return{gain:0,prnu:0};er({nPoints:Ue.length});const Ke=V*V,Ee=[],kt=[];if(Ue.forEach(ht=>{const Vr=ht.std*ht.std-Ke;if(ht.mean>1&&Vr>0){const Nn=ht.mean,eo=Vr/ht.mean;Ee.push({x:Nn,y:eo}),kt.push(ht.mean/Vr)}}),Ee.length<5)return{gain:0,prnu:0};const dt=[],Nt=Ee.length,Qt=E,oe=Nt*(Nt-1)/2;if(oe<=Qt)for(let ht=0;ht<Nt;ht++)for(let or=ht+1;or<Nt;or++){const Vr=Ee[or].x-Ee[ht].x;Math.abs(Vr)>1e-5&&dt.push((Ee[or].y-Ee[ht].y)/Vr)}else{const ht=Math.max(1,Math.floor(oe/Qt));for(let or=0;or<Nt;or++)for(let Vr=or+1;Vr<Nt;Vr+=ht){const Nn=Ee[Vr].x-Ee[or].x;Math.abs(Nn)>1e-5&&dt.push((Ee[Vr].y-Ee[or].y)/Nn)}}const qe=Fp(dt),be=Ee.map(ht=>ht.y-qe*ht.x),Dt=Fp(be);let St=0,Hr=0;if(Dt>1e-6?St=1/Dt:St=Fp(kt),qe>0&&(Hr=Math.sqrt(qe)*100),kt.length>0){const ht=_a(kt);Q(ht),Pt(St)}else Q([]);return{gain:St,prnu:Hr}},[]),pn=O.useCallback($=>{let V=$.read??$r.current.readNoise;const Z=$.gRange??en.current,E=Ja.current;if(($.read!==void 0||$.gRange!==void 0)&&$.gain===void 0&&$.prnu===void 0&&ar.length>0&&V>=0)b(!0),setTimeout(()=>{const xe=Pa(ar,V,Z,E);let je=$r.current.gain,Ue=$r.current.prnu;xe.gain>0&&(je=xe.gain,Ue=xe.prnu),Hn({readNoise:V,gain:je,prnu:Ue}),$.gRange!==void 0&&tr($.gRange),Kn(Ke=>{var Ee,kt;return{...Ke,read:V.toString(),gain:je>0?je.toFixed(3):"0",prnu:Ue.toFixed(2),rangeMin:(((Ee=$.gRange)==null?void 0:Ee.min)??Ke.rangeMin).toString(),rangeMax:(((kt=$.gRange)==null?void 0:kt.max)??Ke.rangeMax).toString()}}),b(!1)},50);else{let xe=$.gain!==void 0?$.gain:$r.current.gain,je=$.prnu!==void 0?$.prnu:$r.current.prnu;Hn({readNoise:V,gain:xe,prnu:je}),$.gRange!==void 0&&tr($.gRange),Kn(Ue=>{var Ke,Ee;return{...Ue,read:V.toString(),gain:xe>0?xe.toFixed(3):"0",prnu:je.toFixed(2),rangeMin:(((Ke=$.gRange)==null?void 0:Ke.min)??Ue.rangeMin).toString(),rangeMax:(((Ee=$.gRange)==null?void 0:Ee.max)??Ue.rangeMax).toString()}})}},[ar,Pa]),Js=`${Y}-${r.length}`;O.useEffect(()=>{if(!e||!r||r.length===0)return;const $=Pr[mt];if(!$||$.length===0||Or===Js)return;j({R:mt==="R",G1:mt==="G1",G2:mt==="G2",B:mt==="B"});const V=[...$].sort((xe,je)=>xe.x-je.x);let Z=0;V.length>0&&(Z=V[0].std);const E=Ht.filter(xe=>xe.channel===mt);let le=-1/0;for(const xe of E)xe.x>le&&(le=xe.x);le!==-1/0&&Se(le),pn({read:Z}),_r(Js)},[e,r,Or,Js,Pr,mt,pn,Ht]);const Na=($,V)=>{Kn(Z=>({...Z,[$]:V}))},Xn=$=>{let V=parseFloat(Gt[$]);isNaN(V)||V<0||pn({[$]:V})},el=()=>{X(W),_r("")},Si=()=>{const $=parseFloat(Gt.rangeMin),V=parseFloat(Gt.rangeMax);!isNaN($)&&!isNaN(V)&&$<V&&$>=0&&V<=100&&pn({gRange:{min:$,max:V}})},Do=($,V)=>{$.key==="Enter"&&(V==="rangeMin"||V==="rangeMax"?Si():Xn(V),$.target.blur())};O.useEffect(()=>{ar.length>0&&pn({})},[xr,ar]);const Pn=$=>{j(V=>({...V,[$]:!V[$]}))},Ch=()=>{y($=>$==="top3"?"default":"top3")},Eh=()=>{w==="raw"?y("default"):x(!0)},nu=()=>{x(!1),y("raw")},tl=($,V)=>{const Z=parseFloat($),E=parseFloat(V);let le=isNaN(Z)?"auto":Z,xe=isNaN(E)?"auto":E;return h&&typeof le=="number"&&le<=0&&(le="auto"),[le,xe]},Lo=$=>{if(!$||!$.payload)return;const V=$.payload;if(v(V),cr.current&&(Se(V.x),ue(!1)),Yt.current){const Z=en.current.min,E=en.current.max,{max:le}=br();if(le<=0)return;const xe=Math.max(0,Math.min(100,V.x/le*100));if(vr.current===1){const je=Math.min(xe,E-.5);pn({gRange:{min:je,max:E}}),ve(2)}else if(vr.current===2){const je=Math.max(xe,Z+.5);pn({gRange:{min:Z,max:je}}),ve(0),J(!1)}}},ji=O.useCallback($=>{const{cx:V,cy:Z,fill:E}=$;return d.jsx("circle",{cx:V,cy:Z,r:3,fill:E,stroke:"none",style:{cursor:"pointer"}})},[]),au=({active:$,payload:V})=>{if($&&V&&V.length){const Z=V[0].payload;return d.jsxs("div",{className:"bg-slate-800 text-white text-xs p-2 rounded border border-slate-600 shadow-xl opacity-90 font-mono z-50",children:[d.jsx("div",{className:"font-bold border-b border-slate-600 pb-1 mb-1",children:Z.channel}),d.jsxs("div",{children:["Signal: ",Z.x.toFixed(2)]}),d.jsxs("div",{children:[u,": ",Z.y.toFixed(4)]}),Z.row!==void 0&&Z.col!==void 0&&!isNaN(Z.row)&&!isNaN(Z.col)&&d.jsxs("div",{className:"text-cyan-400 mt-0.5",children:["Loc: Row ",Z.row,", Col ",Z.col]}),Z.filename&&d.jsx("div",{className:"text-gray-400 mt-1 max-w-[200px] truncate",title:Z.filename,children:Z.filename})]})}return null},rl=$=>{f($),$==="Linear"&&p(!1)};if(!e)return null;const ou=s==="dark"?"#ffffff":"#000000";let iu=u;u==="Linear"&&(iu="(Var - RN) / Mean");const Oi=W!==Y;return d.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in",onClick:$=>{$.stopPropagation()},children:d.jsxs("div",{className:"bg-white dark:bg-slate-900 w-[98vw] max-w-[2200px] h-[95vh] rounded-2xl shadow-2xl flex flex-col border border-gray-200 dark:border-slate-700 overflow-hidden relative",onClick:$=>$.stopPropagation(),children:[d.jsx(ei,{isOpen:g,onClose:()=>x(!1),onConfirm:nu,title:"Warning: High Performance Cost",message:"Displaying all data points may cause the browser to freeze or become unresponsive, especially with large datasets. Are you sure you want to continue?",confirmText:"Yes, Show All"}),m&&d.jsxs("div",{className:"absolute top-20 right-8 z-30 bg-white/90 dark:bg-slate-800/90 border border-cyan-500 rounded-xl p-4 shadow-xl backdrop-blur-md max-w-xs animate-in fade-in zoom-in-95 duration-200",children:[d.jsxs("div",{className:"flex justify-between items-start mb-2 border-b border-gray-200 dark:border-slate-700 pb-2",children:[d.jsx("h4",{className:"font-bold text-gray-900 dark:text-white text-sm",children:"Selected Point"}),d.jsx("button",{onClick:()=>v(null),className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200",children:d.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),d.jsx("div",{className:"space-y-1 text-xs font-mono text-gray-700 dark:text-slate-300",children:d.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1.5",children:[d.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"Channel:"}),d.jsx("span",{className:"font-bold",children:m.channel}),d.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"Signal (DN):"}),d.jsx("span",{children:m.x.toFixed(4)}),d.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"Noise (Std):"}),d.jsx("span",{children:m.std.toFixed(4)}),d.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"SNR:"}),d.jsx("span",{className:"text-purple-600 dark:text-purple-400 font-bold",children:(m.x/m.std).toFixed(2)})]})})]}),_n&&d.jsx("div",{className:"absolute inset-0 z-40 bg-white/95 dark:bg-slate-900/95 backdrop-blur-sm flex flex-col items-center justify-center p-8 animate-in fade-in zoom-in-95 duration-200",children:d.jsxs("div",{className:"w-full max-w-2xl h-[60vh] bg-gray-50 dark:bg-slate-800 rounded-xl border border-gray-200 dark:border-slate-700 shadow-2xl p-4 flex flex-col relative",children:[d.jsx("button",{onClick:()=>tn(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-red-500 transition-colors",children:d.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),d.jsxs("div",{className:"mb-4 text-center",children:[d.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-slate-200",children:"Gain Density Estimation"}),d.jsxs("p",{className:"text-xs text-gray-500 dark:text-slate-400",children:["HSM Mode: ",d.jsx("span",{className:"text-cyan-600 dark:text-cyan-400 font-bold",children:We==null?void 0:We.toFixed(4)}),d.jsx("span",{className:"mx-2",children:"|"}),"Data Points: ",_t.length>0?"Density Curve Generated":"No Data"]})]}),d.jsx("div",{className:"flex-1 min-h-0",children:_t.length>0?d.jsx(hs,{width:"100%",height:"100%",children:d.jsxs(vP,{data:_t,margin:{top:10,right:30,left:0,bottom:20},children:[d.jsx(gi,{strokeDasharray:"3 3",stroke:"#374151",opacity:.3,vertical:!1}),d.jsx(la,{dataKey:"x",tickFormatter:$=>$.toFixed(2),tick:{fill:"#9ca3af",fontSize:10},label:{value:"Gain (e/ADU)",position:"insideBottom",offset:-15,fill:"#9ca3af",fontSize:12}}),d.jsx(ca,{tick:{fill:"#9ca3af",fontSize:10}}),d.jsx(qr,{cursor:{stroke:"rgba(255,255,255,0.2)"},contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"0.5rem",color:"#f3f4f6"}}),d.jsx(Rn,{type:"monotone",dataKey:"density",stroke:"#0ea5e9",fill:"#0ea5e9",fillOpacity:.3,strokeWidth:2}),We!==null&&d.jsx(qo,{x:We,stroke:"#ef4444",strokeWidth:2,label:{value:"HSM",fill:"#ef4444",fontSize:10,position:"top"}})]})}):d.jsx("div",{className:"flex items-center justify-center h-full text-gray-400",children:"No data in selected range"})})]})}),d.jsxs("div",{className:"flex flex-wrap justify-between items-center p-3 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50 gap-4 flex-shrink-0",children:[d.jsxs("h2",{className:"text-lg font-bold text-gray-900 dark:text-slate-100 flex items-center gap-2",children:["Photon Transfer Curve",d.jsxs("span",{className:"text-xs font-normal bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-300 px-2 py-0.5 rounded border border-purple-200 dark:border-purple-800",children:[r.length," Pts"]})]}),d.jsxs("div",{className:"flex gap-4 items-center flex-wrap",children:[d.jsxs("button",{onClick:yt,className:"bg-green-600 hover:bg-green-500 text-white font-bold py-1 px-3 rounded text-xs shadow-md transition-all active:scale-95 flex items-center gap-1",title:"Render all points, target lines, and metadata to a high-res JPG",children:[d.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Export Complete Result"]}),d.jsxs("div",{className:"flex bg-white dark:bg-slate-700 rounded-lg p-1 border border-gray-200 dark:border-slate-600",children:[d.jsx("button",{onClick:()=>rl("Noise"),className:`px-3 py-1 text-xs font-bold rounded transition-colors ${u==="Noise"?"bg-cyan-600 text-white shadow":"text-gray-600 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-600"}`,children:"Noise ()"}),d.jsx("button",{onClick:()=>rl("SNR"),className:`px-3 py-1 text-xs font-bold rounded transition-colors ${u==="SNR"?"bg-purple-600 text-white shadow":"text-gray-600 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-600"}`,children:"SNR"}),d.jsx("button",{onClick:()=>rl("Linear"),className:`px-3 py-1 text-xs font-bold rounded transition-colors ${u==="Linear"?"bg-indigo-600 text-white shadow":"text-gray-600 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-600"}`,children:"Linear (PTC)"})]}),d.jsxs("label",{className:"flex items-center gap-2 text-xs text-gray-600 dark:text-slate-300 cursor-pointer select-none",children:[d.jsx("input",{type:"checkbox",checked:h,onChange:$=>p($.target.checked),className:"rounded border-gray-300 text-cyan-600 focus:ring-cyan-500 bg-gray-100 dark:bg-slate-700 dark:border-slate-600"}),"Log-Log"]}),d.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 transition-colors p-1",children:d.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-0 border-b border-gray-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-sm flex-shrink-0",children:[d.jsxs("div",{className:"lg:col-span-9 p-5 flex flex-col gap-5 border-r border-gray-200 dark:border-slate-700",children:[d.jsxs("div",{className:"flex flex-wrap gap-4 items-center justify-between text-xs",children:[d.jsxs("div",{className:"flex gap-4 items-center",children:[d.jsxs("div",{className:"flex items-center gap-1.5 bg-gray-50 dark:bg-slate-800 rounded-md p-1 border border-gray-200 dark:border-slate-700",children:[d.jsx("span",{className:"font-bold text-gray-500 dark:text-slate-400 pl-1",children:"X:"}),d.jsx("input",{type:"number",placeholder:"Min",value:_,onChange:$=>P($.target.value),className:"w-12 px-1 py-0.5 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center outline-none"}),d.jsx("span",{className:"text-gray-400",children:"-"}),d.jsx("input",{type:"number",placeholder:"Max",value:N,onChange:$=>A($.target.value),className:"w-12 px-1 py-0.5 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center outline-none"})]}),d.jsxs("div",{className:"flex items-center gap-1.5 bg-gray-50 dark:bg-slate-800 rounded-md p-1 border border-gray-200 dark:border-slate-700",children:[d.jsx("span",{className:"font-bold text-gray-500 dark:text-slate-400 pl-1",children:"Y:"}),d.jsx("input",{type:"number",placeholder:"Min",value:C,onChange:$=>R($.target.value),className:"w-12 px-1 py-0.5 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center outline-none"}),d.jsx("span",{className:"text-gray-400",children:"-"}),d.jsx("input",{type:"number",placeholder:"Max",value:I,onChange:$=>T($.target.value),className:"w-12 px-1 py-0.5 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center outline-none"})]}),d.jsx("button",{onClick:()=>{P(""),A(""),R(""),T("")},className:"text-xs text-cyan-600 dark:text-cyan-400 hover:underline",children:"Auto"})]}),d.jsxs("div",{className:"flex items-center gap-1 bg-white dark:bg-slate-700 p-1 rounded-lg border border-gray-200 dark:border-slate-600",children:[d.jsx("button",{onClick:()=>Pn("R"),className:`w-6 h-6 text-[10px] font-bold rounded flex items-center justify-center transition-colors ${k.R?"bg-red-500 text-white":"bg-gray-100 dark:bg-slate-600 text-gray-400"}`,children:"R"}),d.jsx("button",{onClick:()=>Pn("G1"),className:`w-6 h-6 text-[10px] font-bold rounded flex items-center justify-center transition-colors ${k.G1?"bg-green-500 text-white":"bg-gray-100 dark:bg-slate-600 text-gray-400"}`,children:"G1"}),d.jsx("button",{onClick:()=>Pn("G2"),className:`w-6 h-6 text-[10px] font-bold rounded flex items-center justify-center transition-colors ${k.G2?"bg-green-400 text-white":"bg-gray-100 dark:bg-slate-600 text-gray-400"}`,children:"G2"}),d.jsx("button",{onClick:()=>Pn("B"),className:`w-6 h-6 text-[10px] font-bold rounded flex items-center justify-center transition-colors ${k.B?"bg-blue-500 text-white":"bg-gray-100 dark:bg-slate-600 text-gray-400"}`,children:"B"})]})]}),d.jsxs("div",{className:"flex flex-wrap items-end gap-8",children:[d.jsxs("div",{className:"flex flex-col bg-gray-50 dark:bg-slate-800/50 p-2 rounded border border-gray-100 dark:border-slate-700",children:[d.jsx("span",{className:"text-[9px] uppercase font-bold text-gray-500 dark:text-slate-400 mb-1",children:"Black Level (0,0 0,1 1,0 1,1)"}),d.jsx("input",{type:"text",value:W,onChange:$=>te($.target.value),className:"w-32 text-xs px-2 py-1 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded outline-none focus:border-cyan-500 font-mono",placeholder:"0 0 0 0"})]}),d.jsxs("div",{className:"flex flex-col justify-between bg-gray-50 dark:bg-slate-800/50 p-2 rounded border border-gray-100 dark:border-slate-700",children:[d.jsxs("div",{className:"flex justify-between items-center mb-1",children:[d.jsx("span",{className:"text-[9px] uppercase font-bold text-gray-500 dark:text-slate-400 mr-2",children:"Fit Range % (Robust)"}),d.jsx("button",{onClick:()=>{J(!ce),ve(ce?0:1)},className:`px-1.5 py-0.5 text-[9px] rounded border transition-colors ${ce?"bg-cyan-100 text-cyan-700 border-cyan-300 animate-pulse":"bg-white dark:bg-slate-700 border-gray-300 dark:border-slate-600 text-gray-600 dark:text-slate-300 hover:bg-gray-50"}`,children:ce?de===1?"Pick Min":"Pick Max":"Select"})]}),d.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[d.jsx("input",{type:"number",step:"0.1",value:Gt.rangeMin,onChange:$=>Na("rangeMin",$.target.value),onBlur:Si,onKeyDown:$=>Do($,"rangeMin"),className:"w-10 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-1 py-0.5 text-center font-bold"}),d.jsx("span",{className:"text-gray-400",children:"-"}),d.jsx("input",{type:"number",step:"0.1",value:Gt.rangeMax,onChange:$=>Na("rangeMax",$.target.value),onBlur:Si,onKeyDown:$=>Do($,"rangeMax"),className:"w-10 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-1 py-0.5 text-center font-bold"})]})]}),d.jsxs("div",{className:"flex flex-col bg-indigo-50 dark:bg-indigo-900/20 p-2 rounded border border-indigo-100 dark:border-indigo-800/50",children:[d.jsx("span",{className:"text-[9px] uppercase font-bold text-indigo-600 dark:text-indigo-400 mb-1",children:"DR Params"}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("span",{className:"text-[10px] font-bold text-indigo-500 dark:text-indigo-300",children:"Img H:"}),d.jsx("input",{type:"number",value:D,onChange:$=>z($.target.value),onKeyDown:Dr,placeholder:"Empty",className:"w-14 px-1 py-0.5 bg-white dark:bg-slate-900 border border-indigo-200 dark:border-indigo-800 rounded text-center font-bold text-indigo-700 dark:text-indigo-300 text-xs placeholder:font-normal placeholder:text-gray-300"})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("span",{className:"text-[10px] font-bold text-indigo-500 dark:text-indigo-300",children:"Tgt SNR:"}),d.jsx("input",{type:"number",value:L,onChange:$=>U($.target.value),className:"w-10 px-1 py-0.5 bg-white dark:bg-slate-900 border border-indigo-200 dark:border-indigo-800 rounded text-center font-bold text-indigo-700 dark:text-indigo-300 text-xs"})]})]})]}),d.jsxs("div",{className:"flex flex-col gap-1 text-[10px] justify-end pb-0.5",children:[d.jsx("button",{onClick:()=>{ue(!F),fe&&Se(null)},disabled:ce,className:`font-bold rounded border shadow-sm transition-all px-3 py-1.5 ${F?"bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-400 border-amber-500 animate-pulse":"bg-white dark:bg-slate-800 text-gray-600 dark:text-slate-300 border-gray-300 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:F?"Pick Point":"Select Linear Limit"}),d.jsxs("div",{className:"flex gap-1",children:[d.jsx("button",{onClick:Ch,className:`flex-1 font-bold rounded border shadow-sm transition-all px-2 py-1 ${w==="top3"?"bg-indigo-600 text-white border-indigo-700":"bg-white dark:bg-slate-800 text-gray-600 dark:text-slate-300 border-gray-300 dark:border-slate-600 hover:bg-gray-50"}`,children:"Top 3%"}),d.jsx("button",{onClick:Eh,className:`font-bold rounded border shadow-sm transition-all px-2 py-1 ${w==="raw"?"bg-red-600 text-white border-red-700":"text-red-500 border-red-200 hover:bg-red-50"}`,children:"All"})]})]})]}),d.jsxs("div",{className:"flex flex-wrap gap-4 items-center bg-gray-50/50 dark:bg-slate-800/20 p-2 rounded-lg border border-gray-100 dark:border-slate-800",children:[d.jsx("span",{className:"text-[10px] uppercase font-bold text-gray-400 dark:text-slate-500",children:"Metadata"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"text",value:q,onChange:$=>Ye($.target.value),placeholder:"Tester Name",className:"w-24 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-gray-700 dark:text-slate-300 outline-none focus:border-cyan-500 transition-colors"}),d.jsx("input",{type:"text",value:we,onChange:$=>lt($.target.value),placeholder:"Camera Model",className:"w-32 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-gray-700 dark:text-slate-300 outline-none focus:border-cyan-500 transition-colors"}),d.jsx("input",{type:"text",value:ze,onChange:$=>gt($.target.value),placeholder:"ISO",className:"w-16 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-gray-700 dark:text-slate-300 outline-none focus:border-cyan-500 transition-colors"})]})]}),d.jsxs("div",{className:"flex gap-4 text-[10px] pt-1 justify-center sm:justify-start flex-wrap",children:[d.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[d.jsx("input",{type:"checkbox",checked:Ot.shot,onChange:$=>On({...Ot,shot:$.target.checked}),className:"rounded text-gray-500"})," ",d.jsx("span",{className:"text-gray-500",children:"Shot Noise"})]}),d.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[d.jsx("input",{type:"checkbox",checked:Ot.read,onChange:$=>On({...Ot,read:$.target.checked}),className:"rounded text-rose-500"})," ",d.jsx("span",{className:"text-rose-500",children:"Read Noise"})]}),d.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[d.jsx("input",{type:"checkbox",checked:Ot.prnu,onChange:$=>On({...Ot,prnu:$.target.checked}),className:"rounded text-amber-500"})," ",d.jsx("span",{className:"text-amber-500",children:"PRNU"})]}),d.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[d.jsx("input",{type:"checkbox",checked:Ot.total,onChange:$=>On({...Ot,total:$.target.checked}),className:"rounded text-white"})," ",d.jsx("span",{className:"text-gray-900 dark:text-white font-bold",children:"Model"})]})]})]}),d.jsxs("div",{className:"lg:col-span-3 bg-slate-100 dark:bg-slate-800 p-4 flex flex-col justify-center gap-4",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-1 px-1",children:[d.jsxs("h3",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase flex items-center gap-2",children:["Fit Parameters (D55 SAT Channel:",mt,")",S&&d.jsx("span",{className:"text-orange-500 animate-pulse text-[10px]",children:"Calculating..."})]}),d.jsxs("div",{className:"flex gap-2 items-center",children:[d.jsx("button",{onClick:el,disabled:S,className:`px-3 py-1 text-white text-[10px] font-bold rounded shadow-sm transition-all flex items-center gap-1 active:scale-95 
                                            ${S?"bg-gray-400 cursor-wait":Oi?"bg-orange-500 hover:bg-orange-600 animate-pulse ring-2 ring-orange-400/50":"bg-cyan-600 hover:bg-cyan-500"}
                                        `,title:"Apply Black Level, Auto-detect Read Noise, then Recalculate Fit",children:S?d.jsxs(d.Fragment,{children:[d.jsxs("svg",{className:"w-3 h-3 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Fitting..."]}):d.jsxs(d.Fragment,{children:[d.jsxs("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),"Apply & Calc"]})}),d.jsxs("select",{value:xr,onChange:$=>Vn(Number($.target.value)),className:"text-[9px] bg-slate-200 dark:bg-slate-700 text-gray-600 dark:text-slate-300 rounded px-1 py-0.5 border-none outline-none cursor-pointer hover:bg-slate-300 dark:hover:bg-slate-600 transition-colors",title:"Number of point-pairs to sample for robust regression (Theil-Sen)",children:[d.jsx("option",{value:1e5,children:"100k Pairs"}),d.jsx("option",{value:5e5,children:"500k Pairs"}),d.jsx("option",{value:2e6,children:"2M Pairs"}),d.jsx("option",{value:5e6,children:"5M Pairs"}),d.jsx("option",{value:1e7,children:"10M Pairs"})]}),$t&&d.jsxs("span",{className:"text-[10px] text-gray-400 dark:text-slate-500 font-mono",title:"Number of points used in regression",children:["N=",$t.nPoints]})]})]}),d.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx("label",{className:"text-[10px] text-gray-500 dark:text-slate-400 uppercase tracking-wide mb-1",children:"rn/fpn"}),d.jsx("input",{type:"text",inputMode:"decimal",value:Gt.read,onChange:$=>Na("read",$.target.value),onBlur:()=>Xn("read"),onKeyDown:$=>Do($,"read"),className:"w-full text-center text-2xl font-light bg-transparent text-rose-500 outline-none border-b border-transparent focus:border-rose-500 transition-colors"})]}),d.jsxs("div",{className:"flex flex-col items-center relative group",children:[d.jsxs("label",{className:"text-[10px] text-gray-500 dark:text-slate-400 uppercase tracking-wide mb-1 flex items-center gap-1",children:["Kadc (HSM)",d.jsx("button",{onClick:()=>tn(!0),className:"text-[9px] text-cyan-600 dark:text-cyan-400 hover:underline",children:"Dist."})]}),d.jsx("input",{type:"text",inputMode:"decimal",value:Gt.gain,onChange:$=>Na("gain",$.target.value),onBlur:()=>Xn("gain"),onKeyDown:$=>Do($,"gain"),className:"w-full text-center text-2xl font-light bg-transparent text-slate-700 dark:text-slate-200 outline-none border-b border-transparent focus:border-cyan-500 transition-colors"})]}),d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx("label",{className:"text-[10px] text-gray-500 dark:text-slate-400 uppercase tracking-wide mb-1",children:"PRNU (%)"}),d.jsx("input",{type:"text",inputMode:"decimal",value:Gt.prnu,onChange:$=>Na("prnu",$.target.value),onBlur:()=>Xn("prnu"),onKeyDown:$=>Do($,"prnu"),className:"w-full text-center text-2xl font-light bg-transparent text-amber-500 outline-none border-b border-transparent focus:border-amber-500 transition-colors"})]})]})]}),d.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 w-full"}),d.jsxs("div",{className:"grid grid-cols-2 gap-2 text-center",children:[d.jsxs("div",{className:"flex flex-col justify-center bg-cyan-50 dark:bg-cyan-900/10 p-2 rounded-lg border border-cyan-100 dark:border-cyan-900/30",children:[d.jsxs("h4",{className:"text-[10px] font-bold text-cyan-600 dark:text-cyan-500 uppercase tracking-wide mb-1 truncate",title:`Manual DR at SNR=${(ee==null?void 0:ee.manualTarget)||L}`,children:["M.DR @ SNR=",(ee==null?void 0:ee.manualTarget)||L]}),d.jsx("div",{className:"text-base font-bold text-cyan-700 dark:text-cyan-400 whitespace-nowrap",children:ee!=null&&ee.manualDR?`${ee.manualDR.toFixed(2)} EV`:"--"})]}),d.jsxs("div",{className:"flex flex-col justify-center bg-emerald-50 dark:bg-emerald-900/10 p-2 rounded-lg border border-emerald-100 dark:border-emerald-900/30",title:isNaN((ee==null?void 0:ee.ptpTarget)||NaN)?"Requires Image Height":`Standard Point-to-Point DR (Target SNR = 16000/${D||"H"})`,children:[d.jsx("h4",{className:"text-[10px] font-bold text-emerald-600 dark:text-emerald-500 uppercase tracking-wide mb-1",children:"PTP DR"}),d.jsx("div",{className:"text-base font-bold text-emerald-700 dark:text-emerald-400 whitespace-nowrap",children:ee!=null&&ee.ptpDR?`${ee.ptpDR.toFixed(2)} EV`:"--"})]}),d.jsxs("div",{className:"flex flex-col justify-center bg-purple-50 dark:bg-purple-900/10 p-2 rounded-lg border border-purple-100 dark:border-purple-900/30",title:isNaN((ee==null?void 0:ee.ptpTarget)||NaN)?"Requires Image Height":`D55 Saturation DR (Target SNR = 16000/${D||"H"} on ${ee==null?void 0:ee.dominantChannel} Channel)`,children:[d.jsxs("h4",{className:"text-[10px] font-bold text-purple-600 dark:text-purple-400 uppercase tracking-wide mb-1 truncate",children:["D55 DR (",ee==null?void 0:ee.dominantChannel,")"]}),d.jsx("div",{className:"text-base font-bold text-purple-700 dark:text-purple-400 whitespace-nowrap",children:ee!=null&&ee.d55DR?`${ee.d55DR.toFixed(2)} EV`:"--"})]}),d.jsxs("div",{className:"flex flex-col justify-center bg-orange-50 dark:bg-orange-900/10 p-2 rounded-lg border border-orange-100 dark:border-orange-900/30",children:[d.jsx("h4",{className:"text-[10px] font-bold text-orange-600 dark:text-orange-400 uppercase tracking-wide mb-1",children:"FWC"}),d.jsx("div",{className:"text-base font-bold text-orange-600 dark:text-orange-400 font-mono whitespace-nowrap truncate",title:et!==null?`${Math.round(et)}`:"",children:et!==null?et>1e4?`${(et/1e3).toFixed(1)}k`:`${Math.round(et)}`:"--"})]})]}),fe===null&&d.jsx("div",{className:"text-center text-[10px] text-red-500 animate-pulse font-bold mt-[-10px]",children:"Please select Linear Limit on chart to calc DR"})]})]}),d.jsxs("div",{className:`flex-1 p-4 bg-white dark:bg-slate-900 relative grid grid-cols-[auto_1fr] grid-rows-[1fr_auto] gap-2 ${F||ce?"cursor-crosshair":""}`,children:[d.jsx("div",{className:"row-start-1 col-start-1 h-full",children:d.jsx(b2,{vertical:!0,min:Me,max:ot,value:[C?parseFloat(C):Me,I?parseFloat(I):ot],onChange:([$,V])=>{R($.toString()),T(V.toString())},logScale:h})}),d.jsxs("div",{className:"row-start-1 col-start-2 relative",children:[Ct.length===0?d.jsx("div",{className:"flex h-full items-center justify-center text-gray-400",children:"No valid data points found."}):d.jsx(hs,{width:"100%",height:"100%",children:d.jsxs(OQ,{margin:{top:20,right:20,bottom:0,left:0},onClick:Lo,children:[d.jsx("defs",{children:d.jsxs("filter",{id:"glow",height:"300%",width:"300%",x:"-100%",y:"-100%",children:[d.jsx("feGaussianBlur",{stdDeviation:"2",result:"coloredBlur"}),d.jsxs("feMerge",{children:[d.jsx("feMergeNode",{in:"coloredBlur"}),d.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),d.jsx(gi,{strokeDasharray:"3 3",stroke:"#374151",opacity:.2}),d.jsx(la,{type:"number",dataKey:"x",name:"Signal",scale:h?"log":"linear",domain:tl(_,N),allowDataOverflow:!0,hide:!0}),d.jsx(ca,{type:"number",dataKey:"y",name:u,scale:h?"log":"linear",domain:tl(C,I),label:{value:iu,angle:-90,position:"insideLeft",fill:"#9ca3af",fontSize:12},tick:{fill:"#9ca3af",fontSize:10},allowDataOverflow:!0}),d.jsx(qr,{content:d.jsx(au,{}),cursor:{strokeDasharray:"3 3"}}),fe&&d.jsx(qo,{x:fe,stroke:"red",strokeDasharray:"3 3",label:{position:"top",value:"Sat",fill:"red",fontSize:10}}),(Ot.fitRange||ce)&&d.jsxs(d.Fragment,{children:[d.jsx(qo,{x:nt,stroke:"#22d3ee",strokeDasharray:"5 5",label:{position:"insideTopLeft",value:`Min: ${ur.min}%`,fill:"#22d3ee",fontSize:9}}),d.jsx(qo,{x:it,stroke:"#22d3ee",strokeDasharray:"5 5",label:{position:"insideTopLeft",value:`Max: ${ur.max}%`,fill:"#22d3ee",fontSize:9}})]}),k.R&&d.jsx(an,{name:"Red",data:Pr.R,fill:"#ef4444",shape:ji,onClick:Lo,style:s==="dark"?{filter:"url(#glow)"}:void 0},"scatter-R"),k.G1&&d.jsx(an,{name:"Green 1",data:Pr.G1,fill:"#22c55e",shape:ji,onClick:Lo,style:s==="dark"?{filter:"url(#glow)"}:void 0},"scatter-G1"),k.G2&&d.jsx(an,{name:"Green 2",data:Pr.G2,fill:"#4ade80",shape:ji,onClick:Lo,style:s==="dark"?{filter:"url(#glow)"}:void 0},"scatter-G2"),k.B&&d.jsx(an,{name:"Blue",data:Pr.B,fill:"#3b82f6",shape:ji,onClick:Lo,style:s==="dark"?{filter:"url(#glow)"}:void 0},"scatter-B"),Ot.shot&&Be.shot.length>0&&d.jsx(an,{name:"Shot Noise (Ideal)",data:Be.shot,line:{stroke:"#94a3b8",strokeWidth:1,strokeDasharray:"5 5"},shape:()=>d.jsx(d.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-shot"),Ot.read&&Be.read.length>0&&d.jsx(an,{name:"Read Noise Floor",data:Be.read,line:{stroke:"#f43f5e",strokeWidth:1,strokeDasharray:"3 3"},shape:()=>d.jsx(d.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-read"),Ot.prnu&&Be.prnu.length>0&&d.jsx(an,{name:"PRNU (Non-uniformity)",data:Be.prnu,line:{stroke:"#f59e0b",strokeWidth:1,strokeDasharray:"3 3"},shape:()=>d.jsx(d.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-prnu"),Ot.total&&Be.total.length>0&&d.jsx(an,{name:"Total Noise Model",data:Be.total,line:{stroke:ou,strokeWidth:2},shape:()=>d.jsx(d.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-total"),Ve.length>0&&d.jsx(an,{name:`Target SNR=${L}`,data:Ve,line:{stroke:"#6366f1",strokeWidth:2,strokeDasharray:"4 2"},shape:()=>d.jsx(d.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-target"),zt.length>0&&d.jsx(an,{name:`PTP Target SNR=${ee!=null&&ee.ptpTarget?ee.ptpTarget.toFixed(1):"?"}`,data:zt,line:{stroke:"#10b981",strokeWidth:2,strokeDasharray:"4 4"},shape:()=>d.jsx(d.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-ptp")]})}),d.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 pointer-events-none select-none opacity-25 mix-blend-normal dark:mix-blend-plus-lighter",children:d.jsx("svg",{viewBox:"0 0 500 60",className:"w-96 h-auto",children:d.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"36",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})})]}),d.jsx("div",{className:"row-start-2 col-start-2 w-full",children:d.jsx(b2,{min:G,max:he,value:[_?parseFloat(_):G,N?parseFloat(N):he],onChange:([$,V])=>{P($.toString()),A(V.toString())},logScale:h})})]})]})})},QQ=({searchTerm:e,onSearchChange:t,manufacturers:r,selectedManufacturer:n,onManufacturerChange:a,cameras:o,onCameraSelect:i})=>d.jsx("div",{className:"sticky top-4 z-10 bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm p-4 rounded-xl border border-gray-200 dark:border-slate-700 shadow-sm",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[d.jsxs("div",{className:"relative md:col-span-3",children:[d.jsx("input",{type:"text",placeholder:"Search camera model...",value:e,onChange:s=>t(s.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none transition-all duration-300 text-gray-900 dark:text-slate-200 placeholder-gray-500 dark:placeholder-slate-400"}),d.jsx("svg",{className:"w-5 h-5 text-gray-400 dark:text-slate-400 absolute top-1/2 left-3 transform -translate-y-1/2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),d.jsx("select",{value:n,onChange:s=>a(s.target.value),className:"w-full md:col-span-1 bg-gray-50 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg px-4 py-2 focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none transition-all duration-300 appearance-none text-gray-900 dark:text-slate-200",children:r.map(s=>d.jsx("option",{value:s,children:s},s))}),d.jsxs("select",{onChange:s=>i(s.target.value),className:"w-full md:col-span-1 bg-gray-50 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg px-4 py-2 focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none transition-all duration-300 appearance-none text-gray-900 dark:text-slate-200",value:"","aria-label":"Jump to camera model",children:[d.jsx("option",{value:"",disabled:!0,children:"Jump to model..."}),o.map(s=>d.jsx("option",{value:s.id,children:s.name},s.id))]})]})}),ZQ=({active:e,payload:t,label:r,theme:n})=>{if(e&&t&&t.length){const a=t[0].payload,o=n==="dark"?"bg-slate-800/80 border-slate-600 text-slate-300":"bg-white/90 border-gray-200 text-gray-700";return d.jsxs("div",{className:`${o} backdrop-blur-sm border p-3 rounded-lg shadow-lg`,children:[d.jsx("p",{className:"label font-bold",children:`ISO ${r}`}),d.jsx("div",{className:"mt-2 space-y-1 text-sm",children:d.jsxs(d.Fragment,{children:[d.jsxs("div",{style:{color:"#f87171"},children:["Red: ",a.R_avg.toFixed(2)," (Range: ",a.R_range[0]," - ",a.R_range[1],")"]}),d.jsxs("div",{style:{color:"#4ade80"},children:["Green 1: ",a.G1_avg.toFixed(2)," (Range: ",a.G1_range[0]," - ",a.G1_range[1],")"]}),d.jsxs("div",{style:{color:"#60a5fa"},children:["Blue: ",a.B_avg.toFixed(2)," (Range: ",a.B_range[0]," - ",a.B_range[1],")"]}),d.jsxs("div",{style:{color:"#86efac"},children:["Green 2: ",a.G2_avg.toFixed(2)," (Range: ",a.G2_range[0]," - ",a.G2_range[1],")"]})]})})]})}return null},JQ=({data:e,theme:t="dark"})=>{const r=O.useMemo(()=>!e||e.length===0?[]:[...new Set(e.map(i=>i.iso))].sort((i,s)=>Number(i)-Number(s)),[e]),n=O.useMemo(()=>{if(!e||e.length===0)return[0,4096];const i=e.flatMap(m=>[...m.R_range,...m.G1_range,...m.G2_range,...m.B_range]);if(i.length===0)return[0,4096];let s=Math.min(...i),l=Math.max(...i);const c=.25,u=l-s;if(u<c){const m=c-u;s-=m/2,l+=m/2}const f=(l-s)*.1,h=s-f,p=l+f;return[h,p]},[e]),a=t==="dark"?"#475569":"#e5e7eb",o=t==="dark"?"#94a3b8":"#6b7280";return!e||e.length===0?d.jsx("div",{className:"flex items-center justify-center h-full text-gray-500 dark:text-slate-500",children:d.jsx("p",{children:"No data available for this mode."})}):d.jsx(hs,{width:"100%",height:"100%",children:d.jsxs(vP,{data:e,margin:{top:5,right:20,left:0,bottom:5},children:[d.jsx(gi,{strokeDasharray:"3 3",stroke:a}),d.jsx(la,{dataKey:"iso",type:"number",domain:["dataMin","dataMax"],tick:{fill:o,fontSize:12},scale:"log",allowDuplicatedCategory:!1,ticks:r}),d.jsx(ca,{tick:{fill:o,fontSize:12},domain:n,allowDecimals:!0,tickFormatter:i=>Number(i).toFixed(3)}),d.jsx(qr,{content:d.jsx(ZQ,{theme:t})}),d.jsx(Fa,{wrapperStyle:{fontSize:"14px",color:o}}),d.jsx(Rn,{type:"monotone",dataKey:"R_range",fill:"#f87171",stroke:"none",fillOpacity:.2,name:"Red",legendType:"none"}),d.jsx(Ur,{type:"monotone",dataKey:"R_avg",stroke:"#f87171",strokeWidth:2,dot:!1,activeDot:{r:5},name:"Red"}),d.jsx(Rn,{type:"monotone",dataKey:"G1_range",fill:"#4ade80",stroke:"none",fillOpacity:.2,name:"Green 1",legendType:"none"}),d.jsx(Ur,{type:"monotone",dataKey:"G1_avg",stroke:"#4ade80",strokeWidth:2,dot:!1,activeDot:{r:5},name:"Green 1"}),d.jsx(Rn,{type:"monotone",dataKey:"B_range",fill:"#60a5fa",stroke:"none",fillOpacity:.2,name:"Blue",legendType:"none"}),d.jsx(Ur,{type:"monotone",dataKey:"B_avg",stroke:"#60a5fa",strokeWidth:2,dot:!1,activeDot:{r:5},name:"Blue"}),d.jsx(Rn,{type:"monotone",dataKey:"G2_range",fill:"#86efac",stroke:"none",fillOpacity:.2,name:"Green 2",legendType:"none"}),d.jsx(Ur,{type:"monotone",dataKey:"G2_avg",stroke:"#86efac",strokeWidth:2,dot:!1,activeDot:{r:5},name:"Green 2"})]})})},eZ=M.forwardRef(({camera:e,theme:t="dark"},r)=>{const n=O.useMemo(()=>e.shootingModes.map(f=>f.modeName),[e.shootingModes]),[a,o]=O.useState(n[0]||""),{chartData:i,tableData:s}=O.useMemo(()=>{const f=e.shootingModes.find(m=>m.modeName===a);if(!(f!=null&&f.data))return{chartData:[],tableData:[]};const h=f.data.map(m=>({iso:m.iso,R_range:m.r.range,R_avg:m.r.avg,G1_range:m.g1.range,G1_avg:m.g1.avg,B_range:m.b.range,B_avg:m.b.avg,G2_range:m.g2.range,G2_avg:m.g2.avg})),p=f.data.map(m=>({iso:m.iso,levels:[m.r.avg,m.g1.avg,m.g2.avg,m.b.avg],clipping:m.clipping}));return{chartData:h,tableData:p}},[e.shootingModes,a]),l=`Raw Data (${a})`,c=O.useRef(null),u=O.useRef(null);return O.useEffect(()=>{const f=c.current,h=u.current;if(!f||!h)return;const p=new ResizeObserver(m=>{for(let v of m){const{width:w}=v.contentRect,g=Math.max(8,w/35);h.style.fontSize=`${g}px`}});return p.observe(f),()=>p.disconnect()},[]),d.jsxs("div",{ref:r,className:"bg-white dark:bg-slate-800/50 border border-gray-200 dark:border-slate-700 rounded-xl shadow-lg p-6 flex flex-col gap-6 transform hover:scale-[1.02] hover:border-cyan-500/50 transition-all duration-500 ease-in-out",children:[d.jsxs("div",{className:"border-b border-gray-200 dark:border-slate-700 pb-4",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-slate-100",children:e.name}),d.jsx("p",{className:"text-cyan-600 dark:text-cyan-400",children:e.manufacturer})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-4 mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-slate-300",children:"Black Level vs. ISO"}),d.jsx("select",{value:a,onChange:f=>o(f.target.value),className:"w-full sm:w-auto bg-gray-50 dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded-md px-3 py-1 text-sm outline-none focus:ring-2 focus:ring-cyan-500 transition-all duration-300 text-gray-900 dark:text-slate-200","aria-label":`Select shooting mode for ${e.name}`,children:n.map(f=>d.jsx("option",{value:f,children:f},f))})]}),d.jsxs("div",{ref:c,className:"h-64 relative",children:[d.jsx(JQ,{data:i,theme:t},a),d.jsx("div",{className:"absolute top-1/2 left-[52%] transform -translate-x-1/2 -translate-y-1/2 -rotate-30 pointer-events-none",children:d.jsx("p",{ref:u,className:"font-bold text-gray-900/10 dark:text-slate-200/40 whitespace-nowrap",children:" y-g-jiang.github.io"})})]})]}),d.jsxs("div",{className:"overflow-x-auto",children:[d.jsx("div",{className:"flex justify-between items-center mb-4",children:d.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-slate-300",children:l})}),d.jsxs("table",{className:"w-full text-left border-collapse",children:[d.jsx("thead",{className:"bg-gray-100 dark:bg-slate-700/50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 font-semibold text-sm text-gray-700 dark:text-slate-300",children:"ISO"}),d.jsx("th",{className:"p-3 font-semibold text-sm text-red-500 dark:text-red-400",children:"Red"}),d.jsx("th",{className:"p-3 font-semibold text-sm text-green-600 dark:text-green-400",children:"Green 1"}),d.jsx("th",{className:"p-3 font-semibold text-sm text-blue-500 dark:text-blue-400",children:"Blue"}),d.jsx("th",{className:"p-3 font-semibold text-sm text-green-500 dark:text-green-300",children:"Green 2"})]})}),d.jsx("tbody",{children:s.map(({iso:f,levels:h,clipping:p})=>d.jsxs("tr",{className:"border-b border-gray-200 dark:border-slate-700/50 last:border-b-0",children:[d.jsxs("td",{className:"p-3 font-mono text-gray-700 dark:text-slate-300 whitespace-nowrap",children:[f,p&&d.jsx("span",{className:"ml-3 text-xs font-semibold text-amber-600 dark:text-amber-400 bg-amber-100 dark:bg-amber-900/50 px-2 py-1 rounded-full align-middle",children:"Clipping"})]}),d.jsx("td",{className:"p-3 font-mono text-red-500 dark:text-red-400",children:h[0].toFixed(2)}),d.jsx("td",{className:"p-3 font-mono text-green-600 dark:text-green-400",children:h[1].toFixed(2)}),d.jsx("td",{className:"p-3 font-mono text-blue-500 dark:text-blue-400",children:h[3].toFixed(2)}),d.jsx("td",{className:"p-3 font-mono text-green-500 dark:text-green-300",children:h[2].toFixed(2)})]},f))})]})]})]})}),He=(e,t,r)=>({avg:e,range:[t,r]}),ye=(e=255)=>{const t=e+(Math.random()-.5)*2,r=Math.random()*.2+.05;return{avg:t,range:[parseFloat((t-r).toFixed(2)),parseFloat((t+r).toFixed(2))]}},zp=[{id:"olympus-om1",name:"Olympus OM-1",manufacturer:"Olympus",shootingModes:[{modeName:"Single Shot",data:[{iso:200,r:He(254.9,254.89,254.91),g1:He(254.87,254.86,254.88),b:He(254.9,254.89,254.91),g2:He(254.87,254.86,254.88)},{iso:400,r:He(254.9,254.89,254.91),g1:He(254.87,254.86,254.88),b:He(254.9,254.89,254.91),g2:He(254.87,254.86,254.88),clipping:!0}]},{modeName:"20fps",data:[{iso:200,r:He(254.94,254.83,254.96),g1:He(254.92,254.81,254.96),b:He(254.94,254.83,254.96),g2:He(254.93,254.81,254.95)},{iso:400,r:He(254.94,254.83,254.96),g1:He(254.92,254.81,254.96),b:He(254.94,254.83,254.96),g2:He(254.93,254.81,254.95),clipping:!0}]},{modeName:"50fps",data:[{iso:200,r:He(254.82,254.75,254.94),g1:He(254.74,254.68,254.87),b:He(254.82,254.75,254.94),g2:He(254.75,254.68,254.87)},{iso:400,r:He(254.82,254.75,254.94),g1:He(254.74,254.68,254.87),b:He(254.82,254.75,254.94),g2:He(254.75,254.68,254.87),clipping:!0}]}]},{id:"panasonic-g9",name:"Panasonic G9",manufacturer:"Panasonic",shootingModes:[{modeName:"Single Shot",data:[{iso:200,r:He(254.9,254.89,254.91),g1:He(254.87,254.86,254.88),b:He(254.9,254.89,254.91),g2:He(254.87,254.86,254.88)},{iso:400,r:He(254.9,254.89,254.91),g1:He(254.87,254.86,254.88),b:He(254.9,254.89,254.91),g2:He(254.87,254.86,254.88),clipping:!0}]},{modeName:"30fps",data:[{iso:200,r:He(254.94,254.83,254.96),g1:He(254.92,254.81,254.96),b:He(254.94,254.83,254.96),g2:He(254.93,254.81,254.95)},{iso:400,r:He(254.94,254.83,254.96),g1:He(254.92,254.81,254.96),b:He(254.94,254.83,254.96),g2:He(254.93,254.81,254.95),clipping:!0}]}]},{id:"virtual-cam-1",name:"Virtual Camera Pro",manufacturer:"Virtual",shootingModes:[{modeName:"Standard",data:[{iso:100,r:ye(255),g1:ye(255),b:ye(255),g2:ye(255)},{iso:200,r:ye(255.2),g1:ye(255.2),b:ye(255.2),g2:ye(255.2)},{iso:400,r:ye(255.5),g1:ye(255.5),b:ye(255.5),g2:ye(255.5)},{iso:800,r:ye(256),g1:ye(256),b:ye(256),g2:ye(256)},{iso:1600,r:ye(257),g1:ye(257),b:ye(257),g2:ye(257),clipping:!0}]},{modeName:"High Speed",data:[{iso:200,r:ye(256),g1:ye(256),b:ye(256),g2:ye(256)},{iso:400,r:ye(256.3),g1:ye(256.3),b:ye(256.3),g2:ye(256.3)},{iso:800,r:ye(256.8),g1:ye(256.8),b:ye(256.8),g2:ye(256.8)},{iso:1600,r:ye(257.5),g1:ye(257.5),b:ye(257.5),g2:ye(257.5),clipping:!0},{iso:3200,r:ye(259),g1:ye(259),b:ye(259),g2:ye(259),clipping:!0}]},{modeName:"Low Light",data:[{iso:800,r:ye(254),g1:ye(254),b:ye(254),g2:ye(254)},{iso:1600,r:ye(254.5),g1:ye(254.5),b:ye(254.5),g2:ye(254.5)},{iso:3200,r:ye(255),g1:ye(255),b:ye(255),g2:ye(255),clipping:!0},{iso:6400,r:ye(256),g1:ye(256),b:ye(256),g2:ye(256),clipping:!0}]}]}],tZ=({isOpen:e,onClose:t,theme:r})=>{const[n,a]=O.useState(""),[o,i]=O.useState("All"),s=O.useMemo(()=>["All",...Array.from(new Set(zp.map(f=>f.manufacturer))).sort()],[]),l=O.useMemo(()=>zp.filter(u=>{const f=u.name.toLowerCase().includes(n.toLowerCase()),h=o==="All"||u.manufacturer===o;return f&&h}),[n,o]),c=u=>{const f=document.getElementById(`camera-${u}`);f&&f.scrollIntoView({behavior:"smooth"})};return e?d.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",onClick:t,children:d.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-6xl h-[90vh] rounded-2xl shadow-2xl flex flex-col border border-gray-200 dark:border-slate-700 overflow-hidden",onClick:u=>u.stopPropagation(),children:[d.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50",children:[d.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-slate-100 flex items-center gap-2",children:["Camera Black Level Database",d.jsxs("span",{className:"text-xs font-normal bg-cyan-100 dark:bg-cyan-900/30 text-cyan-600 dark:text-cyan-400 px-2 py-0.5 rounded border border-cyan-200 dark:border-cyan-800",children:[zp.length," Models"]})]}),d.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 transition-colors p-2 rounded-full hover:bg-gray-100 dark:hover:bg-slate-800",children:d.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),d.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-slate-700 bg-gray-50/50 dark:bg-slate-800/30",children:d.jsx(QQ,{searchTerm:n,onSearchChange:a,manufacturers:s,selectedManufacturer:o,onManufacturerChange:i,cameras:l,onCameraSelect:c})}),d.jsx("div",{className:"flex-1 overflow-y-auto p-6 scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-slate-700 bg-gray-100 dark:bg-slate-950",children:d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-2 gap-6",children:[l.map(u=>d.jsx("div",{id:`camera-${u.id}`,children:d.jsx(eZ,{camera:u,theme:r})},u.id)),l.length===0&&d.jsx("div",{className:"col-span-full flex flex-col items-center justify-center py-20 text-gray-400 dark:text-slate-600",children:d.jsx("p",{className:"text-lg",children:"No cameras found matching your criteria."})})]})})]})}):null};function w2(e,t,r){const a=e*t*2,o=8,i=o+a,s="Fake",l="NoiseCam",c="NoiseCam",u=P=>{const N=new Uint8Array(P.length+1);for(let A=0;A<P.length;A++)N[A]=P.charCodeAt(A);return N[P.length]=0,N},f=u(s),h=u(l),p=u(c),m=[{id:254,type:4,count:1,value:0},{id:256,type:4,count:1,value:e},{id:257,type:4,count:1,value:t},{id:258,type:3,count:1,value:16},{id:259,type:3,count:1,value:1},{id:262,type:3,count:1,value:32803},{id:271,type:2,count:f.length,value:f},{id:272,type:2,count:h.length,value:h},{id:273,type:4,count:1,value:o},{id:277,type:3,count:1,value:1},{id:278,type:4,count:1,value:t},{id:279,type:4,count:1,value:a},{id:33421,type:3,count:2,value:[2,2]},{id:33422,type:1,count:4,value:[0,1,1,2]},{id:50706,type:1,count:4,value:[1,4,0,0]},{id:50717,type:2,count:p.length,value:p}],v=2+m.length*12+4;let w=0;const y=m.map(P=>{let N=1;P.type===3&&(N=2),P.type===4&&(N=4);const A=P.count*N,C=A<=4;let R=0;return C||(R=w,w+=A,w%2!==0&&w++),{...P,fits:C,totalBytes:A,extraOffset:R}}),g=i+v,x=g+w,S=new ArrayBuffer(x),b=new DataView(S),k=new Uint8Array(S);b.setUint16(0,18761,!0),b.setUint16(2,42,!0),b.setUint32(4,i,!0);const j=new Uint8Array(r.buffer,r.byteOffset,r.byteLength);k.set(j,o);let _=i;return b.setUint16(_,m.length,!0),_+=2,y.forEach(P=>{if(b.setUint16(_,P.id,!0),b.setUint16(_+2,P.type,!0),b.setUint32(_+4,P.count,!0),P.fits){const N=_+8;Array.isArray(P.value)?P.value.forEach((A,C)=>{P.type===1&&b.setUint8(N+C,A),P.type===3&&b.setUint16(N+C*2,A,!0)}):P.value instanceof Uint8Array||(P.type===3&&b.setUint16(N,P.value,!0),P.type===4&&b.setUint32(N,P.value,!0))}else{const N=g+P.extraOffset;b.setUint32(_+8,N,!0);const A=N;P.value instanceof Uint8Array?k.set(P.value,A):Array.isArray(P.value)&&P.value.forEach((C,R)=>{P.type===1&&b.setUint8(A+R,C),P.type===3&&b.setUint16(A+R*2,C,!0)})}_+=12}),b.setUint32(_,0,!0),S}const rZ="http://localhost:5428",nZ=(e=!1)=>{const[t,r]=O.useState({isConnected:!1,message:"Initializing...",hasDngConverter:!1});return O.useEffect(()=>{if(e){r({isConnected:!1,message:"Bridge Paused",hasDngConverter:!1});return}const n=async()=>{try{const o=new AbortController,i=setTimeout(()=>o.abort(),1e3),s=await fetch(`${rZ}/health`,{method:"GET",signal:o.signal});if(clearTimeout(i),s.ok){const l=await s.json(),c=`Connected (${l.exiftool||"Ready"})`;r(u=>u.isConnected===!0&&u.message===c&&u.version===l.exiftool&&u.hasDngConverter===!!l.dng_converter?u:{isConnected:!0,message:c,version:l.exiftool,hasDngConverter:!!l.dng_converter})}else r(l=>l.isConnected===!1&&l.message==="Service Error"?l:{isConnected:!1,message:"Service Error",hasDngConverter:!1})}catch{r(i=>i.isConnected===!1&&i.message==="Not Detected"?i:{isConnected:!1,message:"Not Detected",hasDngConverter:!1})}};n();const a=setInterval(n,2e3);return()=>clearInterval(a)},[e]),t},aZ="JTR_BlobStore",ja="raw_files",oZ=1,Mh=()=>new Promise((e,t)=>{const r=indexedDB.open(aZ,oZ);r.onupgradeneeded=n=>{const a=n.target.result;a.objectStoreNames.contains(ja)||a.createObjectStore(ja)},r.onsuccess=()=>e(r.result),r.onerror=()=>t(r.error)}),k2=async(e,t)=>{const r=await Mh();return new Promise((n,a)=>{const o=r.transaction(ja,"readwrite");o.objectStore(ja).put(t,e),o.oncomplete=()=>n(),o.onerror=()=>a(o.error)})},iZ=async e=>{const t=await Mh();return new Promise((r,n)=>{const i=t.transaction(ja,"readonly").objectStore(ja).get(e);i.onsuccess=()=>r(i.result),i.onerror=()=>n(i.error)})},sZ=async()=>{const e=await Mh();return new Promise((t,r)=>{const n=e.transaction(ja,"readwrite");n.objectStore(ja).clear(),n.oncomplete=()=>t(),n.onerror=()=>r(n.error)})},xP="jtr_workspace_index",lZ=e=>{try{const t=JSON.stringify(e);localStorage.setItem(xP,t)}catch(t){console.error("Failed to save workspace index",t)}},cZ=()=>{try{const e=localStorage.getItem(xP);return e?JSON.parse(e):null}catch(e){return console.error("Failed to load workspace index",e),null}},uZ=async e=>{const n=(await Mh()).transaction(ja,"readwrite").objectStore(ja),a=n.getAllKeys();a.onsuccess=()=>{a.result.forEach(i=>{e.includes(i)||n.delete(i)})}},Ir=1024,S2=(e,t,r)=>{const n=e.width,a=e.height,o=new ImageData(t,r),i=e.data,s=o.data,l=n/t,c=a/r;for(let u=0;u<r;u++){const f=Math.floor(u*c),h=u*t*4,p=f*n*4;for(let m=0;m<t;m++){const w=Math.floor(m*l)*4,y=h+m*4,g=p+w;s[y]=i[g],s[y+1]=i[g+1],s[y+2]=i[g+2],s[y+3]=i[g+3]}}return o},fZ=({stats:e,onClose:t,onMinimize:r,isBGGR:n,onToggleBGGR:a,onOpenWindow:o,displaySettings:i,zIndex:s,onFocus:l})=>{if(!e)return null;const c=!!i.showKadc&&!!i.blackLevel,u=i.blackLevel||[0,0,0,0],f=!!i.subtractBlackLevelFromStats&&!!i.blackLevel,h=(w,y,g)=>{if(!c)return null;const x=y*y;return x<=1e-4?0:(w-g)/x},p=(w,y)=>f?w-u[y]:w,m=()=>{if(!f){alert(`Sub. BL
Please enable 'Sub. BL' in Tools sidebar first.`);return}let w,y,g,x;n?(x=0,y=1,g=2,w=3):(w=0,y=1,g=2,x=3);const S=k=>e.means[k]-u[k],b=k=>e.stdDevs[k];localStorage.setItem("import_signal_r",S(w).toString()),localStorage.setItem("import_signal_g1",S(y).toString()),localStorage.setItem("import_signal_g2",S(g).toString()),localStorage.setItem("import_signal_b",S(x).toString()),localStorage.setItem("import_sigma_r",b(w).toString()),localStorage.setItem("import_sigma_g1",b(y).toString()),localStorage.setItem("import_sigma_g2",b(g).toString()),localStorage.setItem("import_sigma_b",b(x).toString()),window.open("https://y-g-jiang.github.io/XJZS.html","_blank")},v=n?[{name:"B",desc:"(0,0)",mean:p(e.means[0],0),std:e.stdDevs[0],color:"text-blue-500",k:h(e.means[0],e.stdDevs[0],u[0])},{name:"G1",desc:"(0,1)",mean:p(e.means[1],1),std:e.stdDevs[1],color:"text-green-500",k:h(e.means[1],e.stdDevs[1],u[1])},{name:"G2",desc:"(1,0)",mean:p(e.means[2],2),std:e.stdDevs[2],color:"text-green-500",k:h(e.means[2],e.stdDevs[2],u[2])},{name:"R",desc:"(1,1)",mean:p(e.means[3],3),std:e.stdDevs[3],color:"text-red-500",k:h(e.means[3],e.stdDevs[3],u[3])}]:[{name:"R",desc:"(0,0)",mean:p(e.means[0],0),std:e.stdDevs[0],color:"text-red-500",k:h(e.means[0],e.stdDevs[0],u[0])},{name:"G1",desc:"(0,1)",mean:p(e.means[1],1),std:e.stdDevs[1],color:"text-green-500",k:h(e.means[1],e.stdDevs[1],u[1])},{name:"G2",desc:"(1,0)",mean:p(e.means[2],2),std:e.stdDevs[2],color:"text-green-500",k:h(e.means[2],e.stdDevs[2],u[2])},{name:"B",desc:"(1,1)",mean:p(e.means[3],3),std:e.stdDevs[3],color:"text-blue-500",k:h(e.means[3],e.stdDevs[3],u[3])}];return d.jsxs(HQ,{className:`${c?"w-80":"w-60"} p-0 overflow-hidden transition-all duration-300`,onClose:t,zIndex:s,onFocus:l,children:[d.jsxs("div",{className:"flex justify-between items-center px-3 py-2 border-b border-gray-100 dark:border-slate-800 bg-gray-50/50 dark:bg-slate-800/50",children:[d.jsxs("h3",{className:"text-xs font-bold text-gray-700 dark:text-slate-300 uppercase tracking-wider flex items-center gap-2",children:["ROI Analysis",d.jsxs("span",{className:"text-[10px] font-normal text-gray-400 bg-gray-200 dark:bg-slate-700 px-1.5 py-0.5 rounded",children:[Math.round(e.width),"",Math.round(e.height)]})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 transition-colors p-1 rounded-md hover:bg-gray-200 dark:hover:bg-slate-700 relative z-20",children:d.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),d.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 dark:hover:text-red-400 transition-colors p-1 rounded-md hover:bg-gray-200 dark:hover:bg-slate-700 relative z-20",children:d.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),d.jsxs("div",{className:"p-3",children:[d.jsxs("div",{className:"flex justify-between items-center mb-3",children:[d.jsxs("div",{className:"text-[10px] text-gray-400 dark:text-slate-500 font-mono leading-tight",children:["X: ",Math.round(e.x),d.jsx("br",{}),"Y: ",Math.round(e.y)]}),d.jsx("button",{onClick:()=>a(!n),className:"text-[10px] font-bold px-2 py-1 rounded bg-gray-100 hover:bg-gray-200 dark:bg-slate-800 dark:hover:bg-slate-700 text-gray-600 dark:text-slate-300 transition-colors border border-gray-200 dark:border-slate-700 relative z-20",title:"Toggle Bayer Pattern Interpretation",children:n?"BGGR":"RGGB"})]}),d.jsxs("table",{className:"w-full mb-3",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"text-[10px] text-gray-400 dark:text-slate-500 border-b border-gray-100 dark:border-slate-800",children:[d.jsx("th",{className:"text-left pb-1 font-medium",children:"Ch"}),d.jsxs("th",{className:"text-right pb-1 font-medium",children:["Mean",f?"*":""]}),d.jsx("th",{className:"text-right pb-1 font-medium",children:"Std()"}),c&&d.jsx("th",{className:"text-right pb-1 font-medium text-cyan-600 dark:text-cyan-400",children:"K(e/ADU)"})]})}),d.jsx("tbody",{className:"font-mono text-xs",children:v.map((w,y)=>d.jsxs("tr",{className:"group hover:bg-gray-50 dark:hover:bg-slate-800/30 transition-colors",children:[d.jsxs("td",{className:"py-1",children:[d.jsx("span",{className:`font-bold ${w.color}`,children:w.name}),d.jsx("span",{className:"text-[9px] text-gray-300 dark:text-slate-600 ml-1 hidden group-hover:inline",children:w.desc})]}),d.jsx("td",{className:"py-1 text-right text-gray-700 dark:text-slate-200 font-semibold",title:f?"Mean minus Black Level":"Raw Mean",children:w.mean.toFixed(2)}),d.jsx("td",{className:"py-1 text-right text-gray-500 dark:text-slate-400",children:w.std.toFixed(2)}),c&&d.jsx("td",{className:"py-1 text-right text-cyan-600 dark:text-cyan-400 font-bold",children:w.k!==null?w.k.toFixed(3):"-"})]},y))})]}),f&&d.jsx("div",{className:"mb-2 text-[9px] text-gray-400 dark:text-slate-500 text-right italic",children:"* Mean adjusted by Black Level"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:()=>o("histogram"),className:"relative z-20 flex-1 py-1.5 bg-cyan-600 hover:bg-cyan-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"View Histogram",children:[d.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Hist"]}),d.jsxs("button",{onClick:()=>o("quant"),className:"relative z-20 flex-1 py-1.5 bg-teal-600 hover:bg-teal-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"View Quantization Steps",children:[d.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),"Quant"]}),d.jsxs("button",{onClick:()=>o("fft"),className:"relative z-20 flex-1 py-1.5 bg-purple-600 hover:bg-purple-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"View Power Spectrum (FFT)",children:[d.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"FFT"]}),d.jsx("button",{onClick:m,className:"relative z-20 flex-1 py-1.5 bg-pink-600 hover:bg-pink-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"Color Noise Analysis (External Tool)",children:"ColorN"})]})]})]})},dZ=()=>{var nl;const[e,t]=O.useState(!0),[r,n]=O.useState("Initializing..."),a=O.useRef(!1),[o,i]=O.useState("dark");O.useEffect(()=>{const B=window.document.documentElement;B.classList.remove(o==="dark"?"light":"dark"),B.classList.add(o)},[o]);const[s,l]=O.useState(!1),[c,u]=O.useState(!1),f=nZ(s||c),[h,p]=O.useState(!1),[m,v]=O.useState([]),[w,y]=O.useState(-1),g=O.useMemo(()=>m[w],[m,w]),x=(g==null?void 0:g.file)||null,S=(g==null?void 0:g.imageElement)||null,b=(g==null?void 0:g.rawImageData)||null,k=(g==null?void 0:g.rawFileBuffer)||null,j=(g==null?void 0:g.renderedRawImageData)||null,_=(g==null?void 0:g.referenceImageData)||null,P=(g==null?void 0:g.sampledImageData)||null,N=(g==null?void 0:g.exifData)||null,A=(g==null?void 0:g.isThreePlane)||!1,C=(g==null?void 0:g.displaySettings)||{exposure:0,demosaicMethod:3,blackLevel:void 0,wbGains:[1,1],showKadc:!0,subtractBlackLevelFromStats:!0},[R,I]=O.useState(!1),[T,L]=O.useState(null),[U,D]=O.useState(!1),[z,W]=O.useState(!1),[te,Y]=O.useState(null),[X,F]=O.useState([]),[ue,fe]=O.useState(100),[Se,ce]=O.useState(!0),[J,de]=O.useState(!1),[ve,q]=O.useState(null),[Ye,we]=O.useState(!1),[lt,ze]=O.useState(!1),[gt,cr]=O.useState(!1),[Yt,vr]=O.useState(!1),[$t,er]=O.useState(!1),[ur,tr]=O.useState({x:0,y:0}),[ct,Hn]=O.useState(!1),[xr,Vn]=O.useState(!1),[$r,en]=O.useState(2),[Ja,Gt]=O.useState(1),[Kn,Ot]=O.useState([]),[On,_n]=O.useState(null),[tn,_t]=O.useState(0),[Q,We]=O.useState([]),[Pt,Or]=O.useState([]),[_r,rn]=O.useState(64),[Dr,Ht]=O.useState(10),[Ct,mt]=O.useState(10),[br,fa]=O.useState(4),[G,he]=O.useState(1),[Me,ot]=O.useState(0),[nt,it]=O.useState("processed"),[Be,Ve]=O.useState(!1),ft=O.useMemo(()=>C.blackLevel?C.blackLevel:b!=null&&b.blackLevels?[b.blackLevels[0],b.blackLevels[1],b.blackLevels[2],b.blackLevels[3]]:[0,0,0,0],[C.blackLevel,b]),Le=(N==null?void 0:N.ImageHeight)||(N==null?void 0:N.ExifImageHeight)||(b==null?void 0:b.height)||0,[et,ee]=O.useState(null),[zt,yt]=O.useState(null),[Pr,ar]=O.useState({x:0,y:0}),[_a,Pa]=O.useState(1),[pn,Js]=O.useState("pan"),Na=O.useRef(null),Xn=O.useRef(null);O.useEffect(()=>{(async()=>{if(a.current)return;const K=cZ();if(K&&(n("Restoring layout..."),i(K.theme),ce(K.sidebarOpen),K.sessions.length>0)){n(`Restoring ${K.sessions.length} images...`);const re=[];for(const ne of K.sessions){if(a.current){console.log("Restoration cancelled.");return}await new Promise(me=>setTimeout(me,50));try{const me=await iZ(ne.id);if(me){const Te={id:ne.id,fileName:ne.fileName,file:null,imageElement:null,rawImageData:null,rawFileBuffer:me,renderedRawImageData:null,referenceImageData:null,sampledImageData:null,exifData:null,isThreePlane:ne.isThreePlane,displaySettings:ne.displaySettings},{previewBlob:Qe,analysisData:Fe}=await Bp(me);let Ze=null;Fe&&(Ze=await v2(me,ne.displaySettings));const Pe=URL.createObjectURL(Qe),Xe=new Image;Xe.src=Pe,await new Promise(rt=>{Xe.onload=()=>rt()}),re.push({...Te,rawImageData:Fe,renderedRawImageData:Ze,previewUrl:Pe,imageElement:Xe,exifData:Fe.metadata})}}catch(me){console.error(`Failed to restore session ${ne.id}`,me)}}if(a.current)return;if(v(re),K.activeSessionId){const ne=re.findIndex(me=>me.id===K.activeSessionId);ne>=0?y(ne):re.length>0&&y(0)}F(K.windows)}a.current||t(!1)})()},[]);const el=O.useRef(null),Si=O.useCallback(()=>{e||(el.current&&clearTimeout(el.current),el.current=window.setTimeout(async()=>{var re;const B={version:1,timestamp:Date.now(),activeSessionId:((re=m[w])==null?void 0:re.id)||null,theme:o,sidebarOpen:Se,sessions:m.map(ne=>({id:ne.id,fileName:ne.fileName,fileType:ne.file?ne.file.type:"application/octet-stream",fileSize:ne.rawFileBuffer?ne.rawFileBuffer.byteLength:0,displaySettings:ne.displaySettings,isThreePlane:ne.isThreePlane})),windows:X.map(ne=>({id:ne.id,type:ne.type,roi:ne.roi,zIndex:ne.zIndex,initialPosition:ne.initialPosition,sessionId:ne.sessionId,isBGGR:ne.isBGGR,isMinimized:ne.isMinimized||!1,internalState:ne.internalState}))};lZ(B);const K=m.map(ne=>ne.id);uZ(K)},1e3))},[m,X,w,o,Se,e]);O.useEffect(()=>{Si()},[Si]);const Do=O.useCallback(async()=>{a.current=!0,n("Cleaning up..."),localStorage.removeItem("jtr_workspace_index");try{await sZ()}catch(B){console.error("Failed to clear DB",B)}window.location.reload()},[]),Pn=O.useCallback(B=>{v(K=>K.map((re,ne)=>ne===w?{...re,...B}:re))},[w]),Ch=()=>y(B=>Math.min(B+1,m.length-1)),Eh=()=>y(B=>Math.max(0,B-1));O.useEffect(()=>{if(b&&T){const B=Fu(b.data,b.width,b.height,T.x,T.y,T.width,T.height);L(B)}},[b]);const nu=B=>{if(!T||!g)return;const K=Date.now().toString()+Math.random().toString().slice(2,5),re=Math.max(ue,...X.map(Te=>Te.zIndex),100),ne=X.length%10*30,me=B==="fft"?{x:50,y:50}:B==="histogram"?{x:100,y:100}:{x:150,y:150};F(Te=>[...Te,{id:K,type:B,roi:{x:T.x,y:T.y,w:T.width,h:T.height},zIndex:re+1,initialPosition:{x:me.x+ne,y:me.y+ne},sessionId:g.id,isBGGR:U,isMinimized:!1}])},tl=B=>{F(K=>K.filter(re=>re.id!==B))},Lo=B=>{F(K=>K.map(re=>re.id===B?{...re,isMinimized:!0}:re))},ji=B=>{F(K=>K.map(re=>re.id===B?{...re,isMinimized:!1}:re)),au(B)},au=B=>{F(K=>{const re=Math.max(ue,...K.map(ne=>ne.zIndex));return K.map(ne=>ne.id===B?{...ne,zIndex:re+1}:ne)})},rl=(B,K)=>{F(re=>re.map(ne=>ne.id===B?{...ne,internalState:{...ne.internalState,...K}}:ne))},ou=()=>{const B=Math.max(ue,...X.map(K=>K.zIndex));fe(B+1)},iu=(B,K)=>{F(re=>re.map(ne=>ne.id===B?{...ne,roi:K}:ne))};O.useEffect(()=>{if(!N)return;const B=N.CFAPattern2||N.CFAPattern;if(B){let K="";Array.isArray(B)?K=B.join(""):typeof B=="string"?K=B.replace(/[\s,]+/g,""):typeof B=="number"&&(K=String(B)),K==="0112"?D(!1):K==="2110"&&D(!0)}},[N]),O.useEffect(()=>{let B;const K=()=>{if(xr&&$t){const re=Date.now()/1e3,ne=.55+.45*Math.sin(re*$r);Gt(ne),B=requestAnimationFrame(K)}else Gt(1)};return xr&&$t?K():Gt(1),()=>{B&&cancelAnimationFrame(B)}},[xr,$t,$r]),O.useEffect(()=>{const B=K=>{K.key==="Escape"&&$t&&(er(!1),tr({x:0,y:0}),Vn(!1))};return window.addEventListener("keydown",B),()=>window.removeEventListener("keydown",B)},[$t]),O.useEffect(()=>()=>{m.forEach(B=>{B.previewUrl&&URL.revokeObjectURL(B.previewUrl)}),Xn.current&&Xn.current.terminate()},[]);const Oi=async(B,K=!0)=>{K&&(ar({x:0,y:0}),Pa(1),_t(0),We([]),Or([]),de(!1),q(null),I(!1));let re=null;if(f.isConnected){const Fe=new FormData;Fe.append("file",B);try{const Pe=await(await fetch("http://localhost:5428/read",{method:"POST",body:Fe})).json();if(Pe.success){let Xe=Pe.data;Array.isArray(Xe)&&Xe.length===1&&(Xe=Xe[0]),re=Xe}}catch(Ze){console.warn("Auto Exif fetch failed",Ze)}}const ne=B.name.toLowerCase().match(/\.(arw|cr2|cr3|dng|nef|orf|raf|rw2|pef|srw|sr2|srf|x3f|erf|mef|mos|mrw|kdc|dcr|iiq|3fr|fff|rwl|nrw|raw|tif|tiff)$/);if(!(["image/jpeg","image/png","image/tiff","image/x-adobe-dng"].includes(B.type)||ne)){ee("Unsupported file type. Please load a JPG, PNG, or a supported RAW file.");return}let Te={file:B,exifData:re};if(ne||B.type==="image/x-adobe-dng")try{K?yt("Processing RAW file (this may take a moment)..."):Ve(!0);const Fe=await B.arrayBuffer();Te.rawFileBuffer=Fe;const{previewBlob:Ze,analysisData:Pe}=await Bp(Fe);Te.rawImageData=Pe,Te.isThreePlane=Pe.isThreePlane||!1,Pe.isThreePlane&&K&&I(!0);const Xe=URL.createObjectURL(Ze);Te.previewUrl=Xe;const rt=new Image;rt.src=Xe,await new Promise((se,Oe)=>{rt.onload=()=>{Te.imageElement=rt,se()},rt.onerror=()=>{ee("Could not load the RAW file preview."),se()}})}catch(Fe){ee(`Failed to process RAW file: ${Fe.message}`),yt(null),Ve(!1);return}else try{yt("Processing image...");const{previewBlob:Fe,analysisData:Ze}=await TQ(B);Te.rawImageData=Ze,Te.rawFileBuffer=await B.arrayBuffer(),Te.isThreePlane=Ze.isThreePlane||!1;const Pe=URL.createObjectURL(Fe);Te.previewUrl=Pe;const Xe=new Image;Xe.src=Pe,await new Promise(rt=>{Xe.onload=()=>{Te.imageElement=Xe,rt()},Xe.onerror=()=>{ee("Could not load the image file."),rt()}})}catch(Fe){ee(`Failed to process image: ${Fe.message}`),yt(null);return}const Qe=Date.now().toString()+Math.random();if(Te.rawFileBuffer&&await k2(Qe,Te.rawFileBuffer),K){const Fe={exposure:0,demosaicMethod:3,blackLevel:void 0,wbGains:[1,1],showKadc:!0,subtractBlackLevelFromStats:!0},Ze={id:Qe,fileName:B.name,file:B,imageElement:null,rawImageData:null,rawFileBuffer:null,renderedRawImageData:null,referenceImageData:null,sampledImageData:null,exifData:null,isThreePlane:!1,displaySettings:Fe,...Te};v(Pe=>{const Xe=[...Pe,Ze];return y(Xe.length-1),Xe})}else Pn(Te);yt(null),Ve(!1)},$=async B=>{yt("Converting to DNG...");try{const K=new FormData;K.append("file",B);const re=await fetch("http://localhost:5428/convert_dng",{method:"POST",body:K}),ne=re.headers.get("content-type")||"";if(re.ok)if(ne.includes("application/json")){const me=await re.json();throw new Error(me.error||"Conversion failed")}else{const me=await re.blob(),Te=URL.createObjectURL(me),Qe=document.createElement("a");Qe.href=Te;const Fe=B.name,Ze=Fe.substring(0,Fe.lastIndexOf("."))+".dng"||"converted.dng";Qe.download=Ze,document.body.appendChild(Qe),Qe.click(),document.body.removeChild(Qe),URL.revokeObjectURL(Te);const Pe=new File([me],Ze,{type:"image/x-adobe-dng"});await Oi(Pe,!0)}else{const me=await re.text();throw new Error(`HTTP ${re.status}: ${me}`)}}catch(K){yt(null),ee(`Conversion Error: ${K.message}`)}},V=(B,K)=>{B&&(K==="direct"?Oi(B,!0):$(B))},Z=async B=>{var re;const K=(re=B.target.files)==null?void 0:re[0];K&&(await Oi(K,!0),B.target.value="")},E=async(B,K,re,ne)=>{!B||!K||(yt("Processing Pair Difference (May take a while)..."),ee(null),setTimeout(async()=>{try{const me=await B.arrayBuffer(),Te=await K.arrayBuffer(),Qe=await LQ(me,Te,re,ne),Fe=w2(Qe.width,Qe.height,Qe.rawData),Ze=new File([Fe],`Diff_${B.name}_${K.name}.dng`,{type:"image/x-adobe-dng"});await Oi(Ze,!0),nu("fft")}catch(me){console.error("Pair Processing Error",me),ee("Pair Processing Failed: "+me.message)}finally{yt(null)}},100))},le=async()=>{Ve(!0);const B=128,K=B,re=B,ne=K*re,me=new Uint16Array(ne),Te=Ae=>{const ke=Ae/br+Me;return Math.sin(2*Math.PI*ke)>=0?1:0},Qe=32,Fe=G*.5,Ze=Math.max(1e-4,G/Qe);for(let Ae=0;Ae<re;Ae++){let ke=0;const at=Ae+.5-Fe;for(let Vt=0;Vt<Qe;Vt++){const Nr=at+(Vt+.5)*Ze;ke+=Te(Nr)}const vt=ke/Qe,Ce=Math.round(vt*65535);for(let Vt=0;Vt<K;Vt++)me[Ae*K+Vt]=Ce}const Pe=new ImageData(Ir,Ir),Xe=Ir/K,rt=G/2;for(let Ae=0;Ae<Ir;Ae++){const ke=Ae/Xe,Lt=Math.floor(ke),at=ke-Lt,vt=at>=.5-rt&&at<.5+rt;for(let Ce=0;Ce<Ir;Ce++){const Vt=Ce/Xe,Nr=Math.floor(Vt),da=Vt-Nr,al=da>=.5-rt&&da<.5+rt,nn=(Ae*Ir+Ce)*4;if(Nr>=K||Lt>=re){Pe.data[nn]=30,Pe.data[nn+1]=34,Pe.data[nn+2]=40,Pe.data[nn+3]=255;continue}if(vt&&al){const $h=me[Lt*K+Nr],ol=Math.round($h/257);Pe.data[nn]=ol,Pe.data[nn+1]=ol,Pe.data[nn+2]=ol,Pe.data[nn+3]=255}else Pe.data[nn]=30,Pe.data[nn+1]=34,Pe.data[nn+2]=40,Pe.data[nn+3]=255}}const se=new ImageData(Ir,Ir),Oe=re/Ir;for(let Ae=0;Ae<Ir;Ae++){const ke=(Ae+.5)*Oe,at=Te(ke)>.5?255:0,vt=Ae*Ir*4;for(let Ce=0;Ce<Ir;Ce++){const Vt=vt+Ce*4;se.data[Vt]=at,se.data[Vt+1]=at,se.data[Vt+2]=at,se.data[Vt+3]=255}}const $e=w2(K,re,me),Ne=new File([$e],"pattern_test.dng",{type:"image/x-adobe-dng"}),Ge=Date.now().toString();try{const{previewBlob:Ae,analysisData:ke}=await Bp($e.slice(0)),Lt=await v2($e.slice(0),C),at=S2(Lt,Ir,Ir),vt=URL.createObjectURL(Ae),Ce=new Image;Ce.src=vt,await new Promise(Nr=>{Ce.onload=()=>Nr()}),await k2(Ge,$e);const Vt={file:Ne,rawFileBuffer:$e,rawImageData:ke,renderedRawImageData:at,referenceImageData:se,sampledImageData:Pe,previewUrl:vt,imageElement:Ce,isThreePlane:!1,displaySettings:C};(x==null?void 0:x.name)==="pattern_test.dng"?Pn(Vt):(v(Nr=>{const da={id:Ge,fileName:"pattern_test.dng",file:Ne,imageElement:Ce,rawImageData:ke,rawFileBuffer:$e,renderedRawImageData:at,referenceImageData:se,sampledImageData:Pe,exifData:null,isThreePlane:!1,previewUrl:vt,displaySettings:C};return[...Nr,da]}),y(Nr=>m.length))}catch(Ae){console.error("Error generating pattern:",Ae),ee(`Error generating pattern: ${Ae.message}`)}Ve(!1),yt(null)},xe=()=>{we(!0)},je=()=>{we(!1),it("sampled"),yt("Generating..."),setTimeout(()=>le(),50)},Ue=O.useRef({period:br,fill:G,phase:Me});O.useEffect(()=>{(x==null?void 0:x.name)==="pattern_test.dng"&&(Ue.current.period!==br||Ue.current.fill!==G||Ue.current.phase!==Me)&&(Ue.current={period:br,fill:G,phase:Me},le())},[br,G,Me,x]);const Ke=O.useCallback(B=>{if(Pn({displaySettings:B}),!k)return;Ve(!0),Xn.current&&Xn.current.terminate();const K=new Worker(new URL("/assets/renderWorker-BmmCgTEZ.js",import.meta.url),{type:"module"});Xn.current=K,K.onmessage=re=>{const{success:ne,imageData:me,error:Te}=re.data;if(ne){let Qe=me;(x==null?void 0:x.name)==="pattern_test.dng"&&(Qe=S2(me,Ir,Ir)),Pn({renderedRawImageData:Qe})}else ee(Te||"Unknown worker error");Ve(!1),K.terminate(),Xn.current=null},K.postMessage({buffer:k.slice(0),settings:B})},[k,x,Pn]);let Ee=j||S;nt==="reference"&&_?Ee=_:nt==="sampled"&&P&&(Ee=P);const kt=zt||Be,dt=B=>{if(Na.current){const K=Na.current,{width:re,height:ne}=K.getBoundingClientRect(),me=re/2,Te=ne/2,Qe=B/_a,Fe=me-(me-Pr.x)*Qe,Ze=Te-(Te-Pr.y)*Qe;ar({x:Fe,y:Ze})}Pa(B)},Nt=B=>{if(!B)return;if(!b){L(null);return}z&&W(!1),ou();const K=Fu(b.data,b.width,b.height,B.x,B.y,B.w,B.h);L(K)},Qt=B=>{Y(B),Nt(B)},oe=()=>{Js(B=>B==="pan"?"select":"pan")},qe=B=>{if(tn===0||tn>4)return;const K=[...Q,B];We(K),tn===4?(Dt(K),_t(0)):_t(tn+1)},be=(B,K,re,ne)=>{const me=B[0],Te=B[1],Qe=B[2],Fe=B[3],Ze=K/2,Pe=[];for(let Xe=0;Xe<re;Xe++){const rt=re>1?Xe/(re-1):.5;for(let se=0;se<ne;se++){const Oe=ne>1?se/(ne-1):.5,$e=me.x*(1-Oe)+Te.x*Oe,Ne=me.y*(1-Oe)+Te.y*Oe,Ge=Qe.x*(1-Oe)+Fe.x*Oe,Ae=Qe.y*(1-Oe)+Fe.y*Oe,ke=$e*(1-rt)+Ge*rt,Lt=Ne*(1-rt)+Ae*rt,at=ke-Ze,vt=Lt-Ze;Pe.push({x:at,y:vt,w:K,h:K})}}return Pe},Dt=B=>{b&&(yt("Calculating DR Lab Grid..."),setTimeout(()=>{try{const K=be(B,_r,Dr,Ct);Or(K);const Te=[...[`#BlackLevel: ${(C.blackLevel||[0,0,0,0]).join(",")}`,`#ImageHeight: ${b.height}`],"Row,Col,R_Mean,G1_Mean,G2_Mean,B_Mean,R_Std,G1_Std,G2_Std,B_Std"];K.forEach((Xe,rt)=>{const se=Math.floor(rt/Ct)+1,Oe=rt%Ct+1,$e=Fu(b.data,b.width,b.height,Xe.x,Xe.y,Xe.w,Xe.h),Ne=$e.means,Ge=$e.stdDevs,Ae=`${se},${Oe},${Ne[0].toFixed(4)},${Ne[1].toFixed(4)},${Ne[2].toFixed(4)},${Ne[3].toFixed(4)},${Ge[0].toFixed(4)},${Ge[1].toFixed(4)},${Ge[2].toFixed(4)},${Ge[3].toFixed(4)}`;Te.push(Ae)});const Qe=Te.join(`
`),Fe=new Blob([Qe],{type:"text/csv;charset=utf-8;"}),Ze=URL.createObjectURL(Fe),Pe=document.createElement("a");Pe.setAttribute("href",Ze),Pe.setAttribute("download","dr_lab_results.csv"),document.body.appendChild(Pe),Pe.click(),document.body.removeChild(Pe),URL.revokeObjectURL(Ze),We([])}catch(K){ee("DR Lab Error: "+K.message)}finally{yt(null)}},100))},St=async B=>{if(Q.length<4&&Pt.length<1){ee("Please mark the grid on an image first before running batch processing.");return}let K=Pt;if(K.length===0&&Q.length===4&&(K=be(Q,_r,Dr,Ct)),K.length===0){ee("No grid definitions found. Mark corners first.");return}yt("Batch Processing...");const ne=(C.blackLevel||[0,0,0,0]).join(","),me=b?b.height:0,Qe=[...[`#BlackLevel: ${ne}`,`#ImageHeight: ${me}`],"Filename,Row,Col,R_Mean,G1_Mean,G2_Mean,B_Mean,R_Std,G1_Std,G2_Std,B_Std"],Fe=Array.from(B);try{for(let se=0;se<Fe.length;se++){const Oe=Fe[se];yt(`Processing ${se+1}/${Fe.length}: ${Oe.name}...`);const $e=await Oe.arrayBuffer(),Ne=await DQ($e);K.forEach((Ge,Ae)=>{const ke=Math.floor(Ae/Ct)+1,Lt=Ae%Ct+1,at=Fu(Ne.data,Ne.width,Ne.height,Ge.x,Ge.y,Ge.w,Ge.h),vt=at.means,Ce=at.stdDevs,Vt=`${Oe.name},${ke},${Lt},${vt[0].toFixed(4)},${vt[1].toFixed(4)},${vt[2].toFixed(4)},${vt[3].toFixed(4)},${Ce[0].toFixed(4)},${Ce[1].toFixed(4)},${Ce[2].toFixed(4)},${Ce[3].toFixed(4)}`;Qe.push(Vt)})}const Ze=Qe.join(`
`),Pe=new Blob([Ze],{type:"text/csv;charset=utf-8;"}),Xe=URL.createObjectURL(Pe),rt=document.createElement("a");rt.href=Xe,rt.setAttribute("download",`dr_lab_batch_${new Date().getTime()}.csv`),document.body.appendChild(rt),rt.click(),document.body.removeChild(rt),URL.revokeObjectURL(Xe)}catch(Ze){console.error("Batch Error",Ze),ee("Batch Processing Failed: "+Ze.message)}finally{yt(null)}},Hr=()=>{if(!b){ee("Please load an image first.");return}Or([]),We([]),_t(1)},ht=async()=>{if(!x)return;if(f.isConnected?q(null):q(`JiangBridge Offline
JiangBridge Offline, limited content shown only`),f.isConnected){yt("Reading EXIF (JiangBridge)...");try{const K=new FormData;K.append("file",x);const re=await fetch("http://localhost:5428/read",{method:"POST",body:K});if(!re.ok)throw new Error(`Bridge error: ${re.statusText}`);const ne=await re.json();if(ne.success){let me=ne.data;Array.isArray(me)&&me.length===1&&(me=me[0]),Pn({exifData:me}),de(!0),yt(null);return}else console.warn("Bridge returned error:",ne.error)}catch(K){console.warn("Bridge fetch failed, falling back to LibRaw:",K)}yt(null)}if(!b){ee("No image data available.");return}const B=b.metadata;if(!B){ee("No metadata found for this image.");return}Pn({exifData:B}),de(!0)},or=O.useCallback(async B=>{yt("Parsing CSV files...");const K=[];let re,ne;try{const me=Array.from(B).map((Te,Qe)=>new Promise((Fe,Ze)=>{const Pe=new FileReader;Pe.onload=Xe=>{var $e;const rt=($e=Xe.target)==null?void 0:$e.result;if(!rt)return Fe();const se=rt.split(`
`);let Oe=-1;for(let Ne=0;Ne<se.length;Ne++){const Ge=se[Ne].trim();if(Ge){if(Qe===0&&Ge.startsWith("#")){if(Ge.startsWith("#BlackLevel:")){const ke=Ge.replace("#BlackLevel:","").trim().split(/[\s,]+/).map(Number);ke.length>=4&&!ke.some(isNaN)&&(re=[ke[0],ke[1],ke[2],ke[3]])}else if(Ge.startsWith("#ImageHeight:")){const Ae=Ge.replace("#ImageHeight:","").trim(),ke=parseInt(Ae);!isNaN(ke)&&ke>0&&(ne=ke)}continue}if(Ge.startsWith("Row")||Ge.startsWith("Filename")){Oe=Ne+1;break}}}Oe===-1&&(Oe=1);for(let Ne=Oe;Ne<se.length;Ne++){const Ge=se[Ne].trim();if(!Ge||Ge.startsWith("#"))continue;const Ae=Ge.split(",");let ke=0;if(isNaN(Number(Ae[0]))&&(ke=1),Ae.length<10+ke)continue;const Lt=ke===1?Ae[0]:Te.name,at=Ae.map(Number),vt=at[0+ke],Ce=at[1+ke],Vt=at[2+ke],Nr=at[3+ke],da=at[4+ke],al=at[5+ke],nn=at[6+ke],$h=at[7+ke],ol=at[8+ke],wP=at[9+ke];Vt>0&&K.push({channel:"R",mean:Vt,std:nn,filename:Lt,row:vt,col:Ce}),Nr>0&&K.push({channel:"G1",mean:Nr,std:$h,filename:Lt,row:vt,col:Ce}),da>0&&K.push({channel:"G2",mean:da,std:ol,filename:Lt,row:vt,col:Ce}),al>0&&K.push({channel:"B",mean:al,std:wP,filename:Lt,row:vt,col:Ce})}Fe()},Pe.onerror=Ze,Pe.readAsText(Te)}));await Promise.all(me),Ot(K),_n(re||ne?{blackLevel:re,height:ne}:null),l(!0)}catch(me){ee("Failed to parse CSV files: "+me.message)}finally{yt(null)}},[]),Vr=B=>{B.button===0&&Hn(!0)},Nn=O.useCallback(B=>{ct&&tr(K=>({x:K.x+B.movementX,y:K.y+B.movementY}))},[ct]),eo=O.useCallback(()=>{Hn(!1)},[]);O.useEffect(()=>(ct?(window.addEventListener("mousemove",Nn),window.addEventListener("mouseup",eo)):(window.removeEventListener("mousemove",Nn),window.removeEventListener("mouseup",eo)),()=>{window.removeEventListener("mousemove",Nn),window.removeEventListener("mouseup",eo)}),[ct,Nn,eo]);const Th=()=>{if(!k||!x)return;const B=x.name||"pattern_test.dng",K=new Blob([k],{type:"image/x-adobe-dng"}),re=URL.createObjectURL(K),ne=document.createElement("a");ne.href=re,ne.download=B,document.body.appendChild(ne),ne.click(),document.body.removeChild(ne),URL.revokeObjectURL(re)};return e?d.jsxs("div",{className:"flex flex-col h-screen items-center justify-center bg-gray-50 dark:bg-slate-950 text-gray-900 dark:text-slate-200",children:[d.jsx("div",{className:"w-12 h-12 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mb-4"}),d.jsx("h2",{className:"text-xl font-bold animate-pulse",children:r}),d.jsx("p",{className:"text-sm text-gray-500 mt-2 mb-6",children:"Loading stored buffers from database..."}),d.jsx("button",{onClick:Do,className:"px-6 py-2 bg-red-100 hover:bg-red-200 dark:bg-red-900/30 dark:hover:bg-red-900/50 text-red-700 dark:text-red-300 font-bold rounded-lg transition-colors border border-red-200 dark:border-red-800 text-sm",children:"Abandon Saved Session (Start Fresh)"})]}):d.jsxs("div",{className:"flex flex-col h-screen bg-white dark:bg-slate-950 text-gray-900 dark:text-slate-200 font-sans transition-colors duration-300",children:[d.jsx("div",{className:"p-4 pb-0",children:d.jsx(YA,{onLoadImage:Z,onFileSelected:V,onGenerateFakeDng:xe,fileName:x?x.name:null,hasGeneratedData:!!((x==null?void 0:x.name)==="pattern_test.dng"||_),viewMode:nt,onSetViewMode:it,patternPeriod:br,onPatternPeriodChange:fa,fillFactor:G,onFillFactorChange:he,patternPhase:Me,onPatternPhaseChange:ot,showPatternControls:(x==null?void 0:x.name)==="pattern_test.dng",onOpenAbout:()=>ze(!0),onShowExif:ht,bridgeStatus:f,onBridgeClick:()=>p(!0),isDrLabOpen:gt,onToggleDrLab:()=>{cr(!gt),_t(0),We([]),Or([]),Yt&&vr(!1)},isFftLabOpen:Yt,onToggleFftLab:()=>{vr(!Yt),gt&&cr(!1)},onGenerateTestPic:()=>er(!0),onPTCFilesSelected:or,onDownloadDng:Th,isThreePlane:A,onOpenDatabase:()=>u(!0)})}),d.jsxs("div",{className:"flex flex-1 overflow-hidden p-4 pt-2 gap-4 relative",children:[d.jsxs("div",{className:"flex-1 relative bg-gray-100 dark:bg-slate-900 rounded-2xl border border-gray-200 dark:border-slate-800 shadow-inner overflow-hidden transition-colors duration-300",ref:Na,children:[kt&&d.jsxs("div",{className:"absolute bottom-4 right-4 z-50 flex items-center gap-2 bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm px-3 py-1.5 rounded-full border border-cyan-500/30 shadow-sm",children:[d.jsx("div",{className:"w-4 h-4 border-2 border-cyan-500 border-t-transparent rounded-full animate-spin"}),d.jsx("span",{className:"text-xs text-cyan-600 dark:text-cyan-400 font-mono",children:zt||"Processing..."})]}),m.length>1&&d.jsxs("div",{className:"absolute bottom-4 right-20 z-50 flex items-center gap-2 bg-white/90 dark:bg-slate-800/90 backdrop-blur-sm px-3 py-1.5 rounded-lg border border-gray-200 dark:border-slate-700 shadow-lg text-sm font-mono text-gray-700 dark:text-slate-200",children:[d.jsx("button",{onClick:Eh,disabled:w<=0,className:"hover:text-cyan-500 disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"Previous Image",children:d.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),d.jsxs("span",{className:"min-w-[3rem] text-center select-none font-bold",children:[w+1," / ",m.length]}),d.jsx("button",{onClick:Ch,disabled:w>=m.length-1,className:"hover:text-cyan-500 disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"Next Image",children:d.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),d.jsxs("div",{className:"absolute bottom-4 left-4 z-50 flex flex-col-reverse gap-2 items-start pointer-events-none",children:[z&&T&&d.jsxs("div",{className:"pointer-events-auto flex items-center gap-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg shadow-lg overflow-hidden animate-in slide-in-from-bottom-2 fade-in",children:[d.jsxs("button",{onClick:()=>W(!1),className:"px-3 py-1.5 text-xs font-bold text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors flex items-center gap-2",children:[d.jsx("span",{className:"w-2 h-2 rounded-full bg-cyan-500"}),"ROI Stats"]}),d.jsx("button",{onClick:()=>{W(!1),L(null)},className:"px-2 py-1.5 text-gray-400 hover:text-red-500 hover:bg-gray-100 dark:hover:bg-slate-700 border-l border-gray-200 dark:border-slate-700 transition-colors",children:d.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),X.filter(B=>B.isMinimized).map(B=>{let K="Window",re="bg-gray-500";return B.type==="histogram"?(K="Histogram",re="bg-purple-500"):B.type==="fft"?(K="FFT Spectrum",re="bg-fuchsia-500"):B.type==="quant"&&(K="Quantization",re="bg-teal-500"),d.jsxs("div",{className:"pointer-events-auto flex items-center gap-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg shadow-lg overflow-hidden animate-in slide-in-from-bottom-2 fade-in",children:[d.jsxs("button",{onClick:()=>ji(B.id),className:"px-3 py-1.5 text-xs font-bold text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors flex items-center gap-2",children:[d.jsx("span",{className:`w-2 h-2 rounded-full ${re}`}),K]}),d.jsx("button",{onClick:()=>tl(B.id),className:"px-2 py-1.5 text-gray-400 hover:text-red-500 hover:bg-gray-100 dark:hover:bg-slate-700 border-l border-gray-200 dark:border-slate-700 transition-colors",children:d.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},B.id)})]}),!z&&d.jsx(fZ,{stats:T,onClose:()=>{L(null),Y(null)},onMinimize:()=>W(!0),isBGGR:U,onToggleBGGR:D,onOpenWindow:nu,displaySettings:C,zIndex:ue,onFocus:ou}),d.jsx(ei,{isOpen:Ye,onClose:()=>we(!1),onConfirm:je,title:"High Resource Usage Warning",message:"Pattern DNG mode involves high-frequency refreshing and heavy computation. Due to current memory management limitations, repeated use may lead to browser memory overflow or crashes. Please proceed with caution."}),d.jsx(ei,{isOpen:h,onClose:()=>p(!1),onConfirm:()=>{window.open("https://y-g-jiang.github.io/jiangbridge.exe","_blank"),p(!1)},title:"Connect to JiangBridge",confirmText:"Download Bridge App",cancelText:"Cancel",message:d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsx("p",{className:"font-bold",children:"JiangBridge"}),d.jsx("p",{className:"text-sm opacity-80",children:'JiangBridge is optional for this webpage, but recommended for full functionality. Simply double-click and run it once after system startup.If the indicator light does not turn green after double-clicking, please consider checking whether the web page is allowed to "View and connect to any device on the network".'})]})}),d.jsx(ei,{isOpen:R,onClose:()=>I(!1),onConfirm:()=>I(!1),title:" 3-Plane / Full Color Detected (/)",confirmText:"I Understand",cancelText:"Dismiss",message:d.jsxs("div",{className:"flex flex-col gap-2 text-left",children:[d.jsx("p",{className:"font-bold text-base",children:"/ (Non-Bayer/3-Plane detected)"}),d.jsx("p",{children:"This image contains 3 fully formed color channels (RGB/YUV), not a single-plane Bayer mosaic."}),d.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm opacity-90 mt-2",children:[d.jsx("li",{children:"Bayer RAW (Optimized for Bayer RAW)."}),d.jsx("li",{children:" (Entering compatibility mode)."}),d.jsx("li",{children:" (Some features like Demosaic selection are disabled)."}),d.jsx("li",{children:"Bayer (Data will be treated as pseudo-Bayer for analysis)."})]})]})}),d.jsx(KQ,{isOpen:lt,onClose:()=>ze(!1)}),d.jsx(XQ,{isOpen:J,onClose:()=>de(!1),data:N,fileName:x?x.name:"",warning:ve}),d.jsx(YQ,{isOpen:s,onClose:()=>l(!1),data:Kn,blackLevel:ft,imageHeight:Le,isBGGR:U,importedMetadata:On||void 0,theme:o,initialCameraModel:(N==null?void 0:N.Model)||"",initialISO:(N==null?void 0:N.ISO)||((nl=N==null?void 0:N.ISOSpeedRatings)==null?void 0:nl.toString())||""}),d.jsx(tZ,{isOpen:c,onClose:()=>u(!1),theme:o}),X.map(B=>{if(B.isMinimized)return null;const K=m.find(me=>me.id===B.sessionId),re=K==null?void 0:K.rawImageData;if(!re)return null;const ne={key:B.id,isOpen:!0,onClose:()=>tl(B.id),onMinimize:()=>Lo(B.id),rawImageData:re,roi:B.roi,isBGGR:B.isBGGR,zIndex:B.zIndex,onFocus:()=>au(B.id),initialPosition:B.initialPosition,initialInternalState:B.internalState,onUpdateState:me=>rl(B.id,me)};return B.type==="histogram"?d.jsx(zQ,{...ne}):B.type==="fft"?d.jsx(UQ,{...ne,onUpdateROI:me=>iu(B.id,me)}):B.type==="quant"?d.jsx(GQ,{...ne}):null}),et&&d.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-white/90 dark:bg-slate-900/90 p-8",children:d.jsxs("div",{className:"max-w-md text-center p-6 bg-white dark:bg-slate-800 rounded-xl border border-red-500/50 shadow-xl",children:[d.jsx("h3",{className:"text-xl font-bold text-red-500 dark:text-red-400 mb-2",children:"Notice"}),d.jsx("p",{className:"text-gray-600 dark:text-slate-300 mb-6 whitespace-pre-wrap",children:et}),d.jsx("button",{onClick:()=>ee(null),className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 dark:bg-slate-700 dark:hover:bg-slate-600 rounded-lg text-gray-900 dark:text-white transition-colors",children:"Dismiss"})]})}),!Ee&&!kt&&!et&&d.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-gray-400 dark:text-slate-600 select-none",children:d.jsx("p",{className:"text-lg",children:"Load an image or generate a pattern"})}),d.jsx(QA,{image:Ee,zoom:_a,pan:Pr,onPanChange:ar,onZoomChange:dt,onSelectionChange:Nt,forcedSelection:te,theme:o,touchAction:pn,isMarking:tn>0,onPointClick:qe,markers:Q,gridRects:Pt}),d.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-1/2 z-30 pointer-events-none select-none opacity-20 mix-blend-normal dark:mix-blend-plus-lighter",children:d.jsx("svg",{viewBox:"0 0 500 60",className:"w-full h-auto drop-shadow-xl",children:d.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"36",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})}),b&&!tn&&d.jsxs("div",{className:"absolute bottom-4 left-4 z-30 pointer-events-none opacity-50 text-[10px] text-gray-500 dark:text-slate-400",children:["Hold ",d.jsx("b",{children:"Shift"})," + Drag to calculate Raw ROI stats"]}),d.jsx(sM,{zoom:_a,onZoomChange:dt,onResetView:()=>{Pa(1),ar({x:0,y:0})},touchAction:pn,onToggleTouchAction:oe}),!Se&&d.jsx("button",{onClick:()=>ce(!0),className:"absolute right-0 top-1/2 -translate-y-1/2 z-50 bg-white dark:bg-slate-900 border-y border-l border-gray-200 dark:border-slate-800 shadow-md p-1.5 rounded-l-lg hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors animate-in fade-in slide-in-from-right-2",title:"Show Tools",children:d.jsx("svg",{className:"w-4 h-4 text-gray-500 dark:text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})})]}),d.jsxs("div",{className:`flex-shrink-0 flex flex-col bg-white dark:bg-slate-900 rounded-2xl border border-gray-200 dark:border-slate-800 shadow-xl overflow-hidden transition-all duration-300 ease-in-out ${Se?"w-80 translate-x-0 opacity-100 ml-0":"w-0 translate-x-20 opacity-0 p-0 border-0 pointer-events-none ml-0"}`,children:[d.jsxs("div",{className:"flex justify-between items-center px-4 py-3 border-b border-gray-200 dark:border-slate-800 bg-gray-50/50 dark:bg-slate-800/50 flex-shrink-0",children:[d.jsx("h2",{className:"font-bold text-sm text-gray-700 dark:text-slate-300 uppercase tracking-wide flex items-center gap-2",children:d.jsx("span",{children:"Tools"})}),d.jsx("button",{onClick:()=>ce(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 transition-colors p-1 rounded hover:bg-gray-200 dark:hover:bg-slate-700",title:"Hide Tools",children:d.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),d.jsx("div",{className:"flex-1 overflow-hidden relative",children:d.jsx(JA,{rawImageData:b,displaySettings:C,onApplyDisplaySettings:Ke,onSetSelection:Qt,exifData:N,isBridgeConnected:f.isConnected,isDrLabOpen:gt,drMarkingStep:tn,onStartMarking:Hr,onGenerateTestPic:()=>er(!0),drRoiSize:_r,onDrRoiSizeChange:rn,drGridRows:Dr,onDrGridRowsChange:Ht,drGridCols:Ct,onDrGridColsChange:mt,onBatchDrLab:St,hasDrMarkers:Pt.length>0||Q.length===4,isFftLabOpen:Yt,onProcessPair:E,isThreePlane:b==null?void 0:b.isThreePlane})})]})]}),$t&&d.jsxs("div",{className:"fixed inset-0 z-[200] bg-black overflow-hidden",children:[d.jsx("div",{onMouseDown:Vr,style:{transform:`translate(${ur.x}px, ${ur.y}px)`,cursor:ct?"grabbing":"grab",opacity:Ja,transition:"opacity 0.1s linear"},className:"w-full h-full flex items-center justify-center",children:d.jsx("img",{src:"/drtest.png",alt:"DR Test",className:"max-w-full max-h-full object-contain pointer-events-none select-none",draggable:!1})}),d.jsxs("div",{className:"absolute top-4 right-4 flex flex-col items-end gap-2 pointer-events-none z-[201]",children:[d.jsx("div",{className:"text-white/50 text-sm bg-black/50 px-3 py-1 rounded backdrop-blur-sm",children:"Press ESC to exit | Drag to move"}),d.jsx("div",{className:"text-white/20 text-xs px-2 select-none",children:"F11 full screen"}),d.jsx("div",{className:"text-red-900/80 text-lg px-2 select-none font-bold mt-4",children:""}),d.jsx("div",{className:"text-red-900/60 text-xs px-2 select-none",children:"Shoot slightly out of focus"})]}),d.jsxs("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 bg-black/60 backdrop-blur-md p-4 rounded-xl border border-gray-700 flex flex-col gap-3 items-center z-[202]",children:[d.jsx("button",{onClick:()=>Vn(!xr),className:`px-4 py-2 rounded-lg font-bold text-sm transition-colors ${xr?"bg-amber-500 text-black hover:bg-amber-400":"bg-gray-700 text-white hover:bg-gray-600"}`,children:xr?"Stop Breathing":"Start Breathing"}),xr&&d.jsxs("div",{className:"flex items-center gap-3 w-64 animate-in fade-in",children:[d.jsx("span",{className:"text-xs text-gray-400 font-bold uppercase",children:"Speed"}),d.jsx("input",{type:"range",min:"0.5",max:"10",step:"0.5",value:$r,onChange:B=>en(parseFloat(B.target.value)),className:"flex-1 h-1.5 bg-gray-600 rounded-lg appearance-none cursor-pointer accent-amber-500"}),d.jsx("span",{className:"text-xs text-amber-500 w-8 text-right",children:$r.toFixed(1)})]})]})]}),d.jsx(lM,{theme:o,setTheme:i})]})},bP=document.getElementById("root");if(!bP)throw new Error("Could not find root element to mount to");const hZ=Wp.createRoot(bP);hZ.render(d.jsx(M.StrictMode,{children:d.jsx(dZ,{})}));export{NQ as _};
