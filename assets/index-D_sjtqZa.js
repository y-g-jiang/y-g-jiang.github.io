var SP=Object.defineProperty;var jP=(e,t,r)=>t in e?SP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var kn=(e,t,r)=>jP(e,typeof t!="symbol"?t+"":t,r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();var Yu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var xk={exports:{}},xh={},bk={exports:{}},it={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nu=Symbol.for("react.element"),_P=Symbol.for("react.portal"),NP=Symbol.for("react.fragment"),OP=Symbol.for("react.strict_mode"),PP=Symbol.for("react.profiler"),MP=Symbol.for("react.provider"),AP=Symbol.for("react.context"),CP=Symbol.for("react.forward_ref"),EP=Symbol.for("react.suspense"),TP=Symbol.for("react.memo"),$P=Symbol.for("react.lazy"),sx=Symbol.iterator;function DP(e){return e===null||typeof e!="object"?null:(e=sx&&e[sx]||e["@@iterator"],typeof e=="function"?e:null)}var wk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},kk=Object.assign,Sk={};function xl(e,t,r){this.props=e,this.context=t,this.refs=Sk,this.updater=r||wk}xl.prototype.isReactComponent={};xl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};xl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function jk(){}jk.prototype=xl.prototype;function ny(e,t,r){this.props=e,this.context=t,this.refs=Sk,this.updater=r||wk}var ay=ny.prototype=new jk;ay.constructor=ny;kk(ay,xl.prototype);ay.isPureReactComponent=!0;var lx=Array.isArray,_k=Object.prototype.hasOwnProperty,oy={current:null},Nk={key:!0,ref:!0,__self:!0,__source:!0};function Ok(e,t,r){var n,a={},o=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)_k.call(t,n)&&!Nk.hasOwnProperty(n)&&(a[n]=t[n]);var s=arguments.length-2;if(s===1)a.children=r;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(n in s=e.defaultProps,s)a[n]===void 0&&(a[n]=s[n]);return{$$typeof:Nu,type:e,key:o,ref:i,props:a,_owner:oy.current}}function RP(e,t){return{$$typeof:Nu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function iy(e){return typeof e=="object"&&e!==null&&e.$$typeof===Nu}function LP(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var cx=/\/+/g;function O0(e,t){return typeof e=="object"&&e!==null&&e.key!=null?LP(""+e.key):t.toString(36)}function Af(e,t,r,n,a){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Nu:case _P:i=!0}}if(i)return i=e,a=a(i),e=n===""?"."+O0(i,0):n,lx(a)?(r="",e!=null&&(r=e.replace(cx,"$&/")+"/"),Af(a,t,r,"",function(c){return c})):a!=null&&(iy(a)&&(a=RP(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(cx,"$&/")+"/")+e)),t.push(a)),1;if(i=0,n=n===""?".":n+":",lx(e))for(var s=0;s<e.length;s++){o=e[s];var l=n+O0(o,s);i+=Af(o,t,r,l,a)}else if(l=DP(e),typeof l=="function")for(e=l.call(e),s=0;!(o=e.next()).done;)o=o.value,l=n+O0(o,s++),i+=Af(o,t,r,l,a);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function qu(e,t,r){if(e==null)return e;var n=[],a=0;return Af(e,n,"","",function(o){return t.call(r,o,a++)}),n}function IP(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var On={current:null},Cf={transition:null},BP={ReactCurrentDispatcher:On,ReactCurrentBatchConfig:Cf,ReactCurrentOwner:oy};function Pk(){throw Error("act(...) is not supported in production builds of React.")}it.Children={map:qu,forEach:function(e,t,r){qu(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return qu(e,function(){t++}),t},toArray:function(e){return qu(e,function(t){return t})||[]},only:function(e){if(!iy(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};it.Component=xl;it.Fragment=NP;it.Profiler=PP;it.PureComponent=ny;it.StrictMode=OP;it.Suspense=EP;it.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BP;it.act=Pk;it.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=kk({},e.props),a=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=oy.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)_k.call(t,l)&&!Nk.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];n.children=s}return{$$typeof:Nu,type:e.type,key:a,ref:o,props:n,_owner:i}};it.createContext=function(e){return e={$$typeof:AP,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:MP,_context:e},e.Consumer=e};it.createElement=Ok;it.createFactory=function(e){var t=Ok.bind(null,e);return t.type=e,t};it.createRef=function(){return{current:null}};it.forwardRef=function(e){return{$$typeof:CP,render:e}};it.isValidElement=iy;it.lazy=function(e){return{$$typeof:$P,_payload:{_status:-1,_result:e},_init:IP}};it.memo=function(e,t){return{$$typeof:TP,type:e,compare:t===void 0?null:t}};it.startTransition=function(e){var t=Cf.transition;Cf.transition={};try{e()}finally{Cf.transition=t}};it.unstable_act=Pk;it.useCallback=function(e,t){return On.current.useCallback(e,t)};it.useContext=function(e){return On.current.useContext(e)};it.useDebugValue=function(){};it.useDeferredValue=function(e){return On.current.useDeferredValue(e)};it.useEffect=function(e,t){return On.current.useEffect(e,t)};it.useId=function(){return On.current.useId()};it.useImperativeHandle=function(e,t,r){return On.current.useImperativeHandle(e,t,r)};it.useInsertionEffect=function(e,t){return On.current.useInsertionEffect(e,t)};it.useLayoutEffect=function(e,t){return On.current.useLayoutEffect(e,t)};it.useMemo=function(e,t){return On.current.useMemo(e,t)};it.useReducer=function(e,t,r){return On.current.useReducer(e,t,r)};it.useRef=function(e){return On.current.useRef(e)};it.useState=function(e){return On.current.useState(e)};it.useSyncExternalStore=function(e,t,r){return On.current.useSyncExternalStore(e,t,r)};it.useTransition=function(){return On.current.useTransition()};it.version="18.3.1";bk.exports=it;var j=bk.exports;const I=Rt(j);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FP=j,zP=Symbol.for("react.element"),UP=Symbol.for("react.fragment"),WP=Object.prototype.hasOwnProperty,GP=FP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,HP={key:!0,ref:!0,__self:!0,__source:!0};function Mk(e,t,r){var n,a={},o=null,i=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)WP.call(t,n)&&!HP.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:zP,type:e,key:o,ref:i,props:a,_owner:GP.current}}xh.Fragment=UP;xh.jsx=Mk;xh.jsxs=Mk;xk.exports=xh;var u=xk.exports,Ep={},Ak={exports:{}},na={},Ck={exports:{}},Ek={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(E,R){var G=E.length;E.push(R);e:for(;0<G;){var Q=G-1>>>1,X=E[Q];if(0<a(X,R))E[Q]=R,E[G]=X,G=Q;else break e}}function r(E){return E.length===0?null:E[0]}function n(E){if(E.length===0)return null;var R=E[0],G=E.pop();if(G!==R){E[0]=G;e:for(var Q=0,X=E.length,L=X>>>1;Q<L;){var ee=2*(Q+1)-1,Z=E[ee],$=ee+1,ae=E[$];if(0>a(Z,G))$<X&&0>a(ae,Z)?(E[Q]=ae,E[$]=G,Q=$):(E[Q]=Z,E[ee]=G,Q=ee);else if($<X&&0>a(ae,G))E[Q]=ae,E[$]=G,Q=$;else break e}}return R}function a(E,R){var G=E.sortIndex-R.sortIndex;return G!==0?G:E.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,s=i.now();e.unstable_now=function(){return i.now()-s}}var l=[],c=[],d=1,f=null,h=3,p=!1,m=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(E){for(var R=r(c);R!==null;){if(R.callback===null)n(c);else if(R.startTime<=E)n(c),R.sortIndex=R.expirationTime,t(l,R);else break;R=r(c)}}function S(E){if(v=!1,x(E),!m)if(r(l)!==null)m=!0,U(k);else{var R=r(c);R!==null&&M(S,R.startTime-E)}}function k(E,R){m=!1,v&&(v=!1,y(N),N=-1),p=!0;var G=h;try{for(x(R),f=r(l);f!==null&&(!(f.expirationTime>R)||E&&!A());){var Q=f.callback;if(typeof Q=="function"){f.callback=null,h=f.priorityLevel;var X=Q(f.expirationTime<=R);R=e.unstable_now(),typeof X=="function"?f.callback=X:f===r(l)&&n(l),x(R)}else n(l);f=r(l)}if(f!==null)var L=!0;else{var ee=r(c);ee!==null&&M(S,ee.startTime-R),L=!1}return L}finally{f=null,h=G,p=!1}}var b=!1,_=null,N=-1,O=5,P=-1;function A(){return!(e.unstable_now()-P<O)}function C(){if(_!==null){var E=e.unstable_now();P=E;var R=!0;try{R=_(!0,E)}finally{R?T():(b=!1,_=null)}}else b=!1}var T;if(typeof g=="function")T=function(){g(C)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,D=F.port2;F.port1.onmessage=C,T=function(){D.postMessage(null)}}else T=function(){w(C,0)};function U(E){_=E,b||(b=!0,T())}function M(E,R){N=w(function(){E(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(E){E.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,U(k))},e.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<E?Math.floor(1e3/E):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(E){switch(h){case 1:case 2:case 3:var R=3;break;default:R=h}var G=h;h=R;try{return E()}finally{h=G}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(E,R){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var G=h;h=E;try{return R()}finally{h=G}},e.unstable_scheduleCallback=function(E,R,G){var Q=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?Q+G:Q):G=Q,E){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=G+X,E={id:d++,callback:R,priorityLevel:E,startTime:G,expirationTime:X,sortIndex:-1},G>Q?(E.sortIndex=G,t(c,E),r(l)===null&&E===r(c)&&(v?(y(N),N=-1):v=!0,M(S,G-Q))):(E.sortIndex=X,t(l,E),m||p||(m=!0,U(k))),E},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(E){var R=h;return function(){var G=h;h=R;try{return E.apply(this,arguments)}finally{h=G}}}})(Ek);Ck.exports=Ek;var VP=Ck.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XP=j,ra=VP;function ce(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Tk=new Set,Nc={};function qi(e,t){Fs(e,t),Fs(e+"Capture",t)}function Fs(e,t){for(Nc[e]=t,e=0;e<t.length;e++)Tk.add(t[e])}var bo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tp=Object.prototype.hasOwnProperty,KP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ux={},fx={};function YP(e){return Tp.call(fx,e)?!0:Tp.call(ux,e)?!1:KP.test(e)?fx[e]=!0:(ux[e]=!0,!1)}function qP(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ZP(e,t,r,n){if(t===null||typeof t>"u"||qP(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Pn(e,t,r,n,a,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var tn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){tn[e]=new Pn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];tn[t]=new Pn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){tn[e]=new Pn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){tn[e]=new Pn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){tn[e]=new Pn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){tn[e]=new Pn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){tn[e]=new Pn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){tn[e]=new Pn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){tn[e]=new Pn(e,5,!1,e.toLowerCase(),null,!1,!1)});var sy=/[\-:]([a-z])/g;function ly(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(sy,ly);tn[t]=new Pn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(sy,ly);tn[t]=new Pn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(sy,ly);tn[t]=new Pn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){tn[e]=new Pn(e,1,!1,e.toLowerCase(),null,!1,!1)});tn.xlinkHref=new Pn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){tn[e]=new Pn(e,1,!1,e.toLowerCase(),null,!0,!0)});function cy(e,t,r,n){var a=tn.hasOwnProperty(t)?tn[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ZP(t,r,a,n)&&(r=null),n||a===null?YP(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Oo=XP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zu=Symbol.for("react.element"),gs=Symbol.for("react.portal"),ms=Symbol.for("react.fragment"),uy=Symbol.for("react.strict_mode"),$p=Symbol.for("react.profiler"),$k=Symbol.for("react.provider"),Dk=Symbol.for("react.context"),fy=Symbol.for("react.forward_ref"),Dp=Symbol.for("react.suspense"),Rp=Symbol.for("react.suspense_list"),dy=Symbol.for("react.memo"),Do=Symbol.for("react.lazy"),Rk=Symbol.for("react.offscreen"),dx=Symbol.iterator;function Fl(e){return e===null||typeof e!="object"?null:(e=dx&&e[dx]||e["@@iterator"],typeof e=="function"?e:null)}var sr=Object.assign,P0;function ac(e){if(P0===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);P0=t&&t[1]||""}return`
`+P0+e}var M0=!1;function A0(e,t){if(!e||M0)return"";M0=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),o=n.stack.split(`
`),i=a.length-1,s=o.length-1;1<=i&&0<=s&&a[i]!==o[s];)s--;for(;1<=i&&0<=s;i--,s--)if(a[i]!==o[s]){if(i!==1||s!==1)do if(i--,s--,0>s||a[i]!==o[s]){var l=`
`+a[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=i&&0<=s);break}}}finally{M0=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ac(e):""}function QP(e){switch(e.tag){case 5:return ac(e.type);case 16:return ac("Lazy");case 13:return ac("Suspense");case 19:return ac("SuspenseList");case 0:case 2:case 15:return e=A0(e.type,!1),e;case 11:return e=A0(e.type.render,!1),e;case 1:return e=A0(e.type,!0),e;default:return""}}function Lp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ms:return"Fragment";case gs:return"Portal";case $p:return"Profiler";case uy:return"StrictMode";case Dp:return"Suspense";case Rp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Dk:return(e.displayName||"Context")+".Consumer";case $k:return(e._context.displayName||"Context")+".Provider";case fy:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case dy:return t=e.displayName||null,t!==null?t:Lp(e.type)||"Memo";case Do:t=e._payload,e=e._init;try{return Lp(e(t))}catch{}}return null}function JP(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Lp(t);case 8:return t===uy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ni(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Lk(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function eM(e){var t=Lk(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Qu(e){e._valueTracker||(e._valueTracker=eM(e))}function Ik(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Lk(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Gf(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ip(e,t){var r=t.checked;return sr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function hx(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ni(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Bk(e,t){t=t.checked,t!=null&&cy(e,"checked",t,!1)}function Bp(e,t){Bk(e,t);var r=ni(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Fp(e,t.type,r):t.hasOwnProperty("defaultValue")&&Fp(e,t.type,ni(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function px(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Fp(e,t,r){(t!=="number"||Gf(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var oc=Array.isArray;function As(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ni(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function zp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ce(91));return sr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function gx(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ce(92));if(oc(r)){if(1<r.length)throw Error(ce(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ni(r)}}function Fk(e,t){var r=ni(t.value),n=ni(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function mx(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function zk(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Up(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?zk(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ju,Uk=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ju=Ju||document.createElement("div"),Ju.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ju.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Oc(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var cc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tM=["Webkit","ms","Moz","O"];Object.keys(cc).forEach(function(e){tM.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),cc[t]=cc[e]})});function Wk(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||cc.hasOwnProperty(e)&&cc[e]?(""+t).trim():t+"px"}function Gk(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=Wk(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var rM=sr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wp(e,t){if(t){if(rM[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ce(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ce(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ce(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ce(62))}}function Gp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hp=null;function hy(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Vp=null,Cs=null,Es=null;function yx(e){if(e=Mu(e)){if(typeof Vp!="function")throw Error(ce(280));var t=e.stateNode;t&&(t=jh(t),Vp(e.stateNode,e.type,t))}}function Hk(e){Cs?Es?Es.push(e):Es=[e]:Cs=e}function Vk(){if(Cs){var e=Cs,t=Es;if(Es=Cs=null,yx(e),t)for(e=0;e<t.length;e++)yx(t[e])}}function Xk(e,t){return e(t)}function Kk(){}var C0=!1;function Yk(e,t,r){if(C0)return e(t,r);C0=!0;try{return Xk(e,t,r)}finally{C0=!1,(Cs!==null||Es!==null)&&(Kk(),Vk())}}function Pc(e,t){var r=e.stateNode;if(r===null)return null;var n=jh(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ce(231,t,typeof r));return r}var Xp=!1;if(bo)try{var zl={};Object.defineProperty(zl,"passive",{get:function(){Xp=!0}}),window.addEventListener("test",zl,zl),window.removeEventListener("test",zl,zl)}catch{Xp=!1}function nM(e,t,r,n,a,o,i,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var uc=!1,Hf=null,Vf=!1,Kp=null,aM={onError:function(e){uc=!0,Hf=e}};function oM(e,t,r,n,a,o,i,s,l){uc=!1,Hf=null,nM.apply(aM,arguments)}function iM(e,t,r,n,a,o,i,s,l){if(oM.apply(this,arguments),uc){if(uc){var c=Hf;uc=!1,Hf=null}else throw Error(ce(198));Vf||(Vf=!0,Kp=c)}}function Zi(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function qk(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function vx(e){if(Zi(e)!==e)throw Error(ce(188))}function sM(e){var t=e.alternate;if(!t){if(t=Zi(e),t===null)throw Error(ce(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var o=a.alternate;if(o===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===r)return vx(a),e;if(o===n)return vx(a),t;o=o.sibling}throw Error(ce(188))}if(r.return!==n.return)r=a,n=o;else{for(var i=!1,s=a.child;s;){if(s===r){i=!0,r=a,n=o;break}if(s===n){i=!0,n=a,r=o;break}s=s.sibling}if(!i){for(s=o.child;s;){if(s===r){i=!0,r=o,n=a;break}if(s===n){i=!0,n=o,r=a;break}s=s.sibling}if(!i)throw Error(ce(189))}}if(r.alternate!==n)throw Error(ce(190))}if(r.tag!==3)throw Error(ce(188));return r.stateNode.current===r?e:t}function Zk(e){return e=sM(e),e!==null?Qk(e):null}function Qk(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Qk(e);if(t!==null)return t;e=e.sibling}return null}var Jk=ra.unstable_scheduleCallback,xx=ra.unstable_cancelCallback,lM=ra.unstable_shouldYield,cM=ra.unstable_requestPaint,wr=ra.unstable_now,uM=ra.unstable_getCurrentPriorityLevel,py=ra.unstable_ImmediatePriority,eS=ra.unstable_UserBlockingPriority,Xf=ra.unstable_NormalPriority,fM=ra.unstable_LowPriority,tS=ra.unstable_IdlePriority,bh=null,Ga=null;function dM(e){if(Ga&&typeof Ga.onCommitFiberRoot=="function")try{Ga.onCommitFiberRoot(bh,e,void 0,(e.current.flags&128)===128)}catch{}}var Ea=Math.clz32?Math.clz32:gM,hM=Math.log,pM=Math.LN2;function gM(e){return e>>>=0,e===0?32:31-(hM(e)/pM|0)|0}var ef=64,tf=4194304;function ic(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Kf(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,o=e.pingedLanes,i=r&268435455;if(i!==0){var s=i&~a;s!==0?n=ic(s):(o&=i,o!==0&&(n=ic(o)))}else i=r&~a,i!==0?n=ic(i):o!==0&&(n=ic(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,o=t&-t,a>=o||a===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ea(t),a=1<<r,n|=e[r],t&=~a;return n}function mM(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yM(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-Ea(o),s=1<<i,l=a[i];l===-1?(!(s&r)||s&n)&&(a[i]=mM(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}function Yp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function rS(){var e=ef;return ef<<=1,!(ef&4194240)&&(ef=64),e}function E0(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ou(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ea(t),e[t]=r}function vM(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Ea(r),o=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~o}}function gy(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ea(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Pt=0;function nS(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var aS,my,oS,iS,sS,qp=!1,rf=[],Xo=null,Ko=null,Yo=null,Mc=new Map,Ac=new Map,Io=[],xM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bx(e,t){switch(e){case"focusin":case"focusout":Xo=null;break;case"dragenter":case"dragleave":Ko=null;break;case"mouseover":case"mouseout":Yo=null;break;case"pointerover":case"pointerout":Mc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ac.delete(t.pointerId)}}function Ul(e,t,r,n,a,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[a]},t!==null&&(t=Mu(t),t!==null&&my(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function bM(e,t,r,n,a){switch(t){case"focusin":return Xo=Ul(Xo,e,t,r,n,a),!0;case"dragenter":return Ko=Ul(Ko,e,t,r,n,a),!0;case"mouseover":return Yo=Ul(Yo,e,t,r,n,a),!0;case"pointerover":var o=a.pointerId;return Mc.set(o,Ul(Mc.get(o)||null,e,t,r,n,a)),!0;case"gotpointercapture":return o=a.pointerId,Ac.set(o,Ul(Ac.get(o)||null,e,t,r,n,a)),!0}return!1}function lS(e){var t=_i(e.target);if(t!==null){var r=Zi(t);if(r!==null){if(t=r.tag,t===13){if(t=qk(r),t!==null){e.blockedOn=t,sS(e.priority,function(){oS(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ef(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Zp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Hp=n,r.target.dispatchEvent(n),Hp=null}else return t=Mu(r),t!==null&&my(t),e.blockedOn=r,!1;t.shift()}return!0}function wx(e,t,r){Ef(e)&&r.delete(t)}function wM(){qp=!1,Xo!==null&&Ef(Xo)&&(Xo=null),Ko!==null&&Ef(Ko)&&(Ko=null),Yo!==null&&Ef(Yo)&&(Yo=null),Mc.forEach(wx),Ac.forEach(wx)}function Wl(e,t){e.blockedOn===t&&(e.blockedOn=null,qp||(qp=!0,ra.unstable_scheduleCallback(ra.unstable_NormalPriority,wM)))}function Cc(e){function t(a){return Wl(a,e)}if(0<rf.length){Wl(rf[0],e);for(var r=1;r<rf.length;r++){var n=rf[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Xo!==null&&Wl(Xo,e),Ko!==null&&Wl(Ko,e),Yo!==null&&Wl(Yo,e),Mc.forEach(t),Ac.forEach(t),r=0;r<Io.length;r++)n=Io[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Io.length&&(r=Io[0],r.blockedOn===null);)lS(r),r.blockedOn===null&&Io.shift()}var Ts=Oo.ReactCurrentBatchConfig,Yf=!0;function kM(e,t,r,n){var a=Pt,o=Ts.transition;Ts.transition=null;try{Pt=1,yy(e,t,r,n)}finally{Pt=a,Ts.transition=o}}function SM(e,t,r,n){var a=Pt,o=Ts.transition;Ts.transition=null;try{Pt=4,yy(e,t,r,n)}finally{Pt=a,Ts.transition=o}}function yy(e,t,r,n){if(Yf){var a=Zp(e,t,r,n);if(a===null)U0(e,t,n,qf,r),bx(e,n);else if(bM(a,e,t,r,n))n.stopPropagation();else if(bx(e,n),t&4&&-1<xM.indexOf(e)){for(;a!==null;){var o=Mu(a);if(o!==null&&aS(o),o=Zp(e,t,r,n),o===null&&U0(e,t,n,qf,r),o===a)break;a=o}a!==null&&n.stopPropagation()}else U0(e,t,n,null,r)}}var qf=null;function Zp(e,t,r,n){if(qf=null,e=hy(n),e=_i(e),e!==null)if(t=Zi(e),t===null)e=null;else if(r=t.tag,r===13){if(e=qk(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qf=e,null}function cS(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uM()){case py:return 1;case eS:return 4;case Xf:case fM:return 16;case tS:return 536870912;default:return 16}default:return 16}}var zo=null,vy=null,Tf=null;function uS(){if(Tf)return Tf;var e,t=vy,r=t.length,n,a="value"in zo?zo.value:zo.textContent,o=a.length;for(e=0;e<r&&t[e]===a[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===a[o-n];n++);return Tf=a.slice(e,1<n?1-n:void 0)}function $f(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function nf(){return!0}function kx(){return!1}function aa(e){function t(r,n,a,o,i){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(r=e[s],this[s]=r?r(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?nf:kx,this.isPropagationStopped=kx,this}return sr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=nf)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=nf)},persist:function(){},isPersistent:nf}),t}var bl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xy=aa(bl),Pu=sr({},bl,{view:0,detail:0}),jM=aa(Pu),T0,$0,Gl,wh=sr({},Pu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:by,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Gl&&(Gl&&e.type==="mousemove"?(T0=e.screenX-Gl.screenX,$0=e.screenY-Gl.screenY):$0=T0=0,Gl=e),T0)},movementY:function(e){return"movementY"in e?e.movementY:$0}}),Sx=aa(wh),_M=sr({},wh,{dataTransfer:0}),NM=aa(_M),OM=sr({},Pu,{relatedTarget:0}),D0=aa(OM),PM=sr({},bl,{animationName:0,elapsedTime:0,pseudoElement:0}),MM=aa(PM),AM=sr({},bl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),CM=aa(AM),EM=sr({},bl,{data:0}),jx=aa(EM),TM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$M={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},DM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function RM(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=DM[e])?!!t[e]:!1}function by(){return RM}var LM=sr({},Pu,{key:function(e){if(e.key){var t=TM[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=$f(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?$M[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:by,charCode:function(e){return e.type==="keypress"?$f(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$f(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),IM=aa(LM),BM=sr({},wh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_x=aa(BM),FM=sr({},Pu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:by}),zM=aa(FM),UM=sr({},bl,{propertyName:0,elapsedTime:0,pseudoElement:0}),WM=aa(UM),GM=sr({},wh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),HM=aa(GM),VM=[9,13,27,32],wy=bo&&"CompositionEvent"in window,fc=null;bo&&"documentMode"in document&&(fc=document.documentMode);var XM=bo&&"TextEvent"in window&&!fc,fS=bo&&(!wy||fc&&8<fc&&11>=fc),Nx=" ",Ox=!1;function dS(e,t){switch(e){case"keyup":return VM.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hS(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ys=!1;function KM(e,t){switch(e){case"compositionend":return hS(t);case"keypress":return t.which!==32?null:(Ox=!0,Nx);case"textInput":return e=t.data,e===Nx&&Ox?null:e;default:return null}}function YM(e,t){if(ys)return e==="compositionend"||!wy&&dS(e,t)?(e=uS(),Tf=vy=zo=null,ys=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return fS&&t.locale!=="ko"?null:t.data;default:return null}}var qM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Px(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!qM[e.type]:t==="textarea"}function pS(e,t,r,n){Hk(n),t=Zf(t,"onChange"),0<t.length&&(r=new xy("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var dc=null,Ec=null;function ZM(e){_S(e,0)}function kh(e){var t=bs(e);if(Ik(t))return e}function QM(e,t){if(e==="change")return t}var gS=!1;if(bo){var R0;if(bo){var L0="oninput"in document;if(!L0){var Mx=document.createElement("div");Mx.setAttribute("oninput","return;"),L0=typeof Mx.oninput=="function"}R0=L0}else R0=!1;gS=R0&&(!document.documentMode||9<document.documentMode)}function Ax(){dc&&(dc.detachEvent("onpropertychange",mS),Ec=dc=null)}function mS(e){if(e.propertyName==="value"&&kh(Ec)){var t=[];pS(t,Ec,e,hy(e)),Yk(ZM,t)}}function JM(e,t,r){e==="focusin"?(Ax(),dc=t,Ec=r,dc.attachEvent("onpropertychange",mS)):e==="focusout"&&Ax()}function eA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return kh(Ec)}function tA(e,t){if(e==="click")return kh(t)}function rA(e,t){if(e==="input"||e==="change")return kh(t)}function nA(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $a=typeof Object.is=="function"?Object.is:nA;function Tc(e,t){if($a(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Tp.call(t,a)||!$a(e[a],t[a]))return!1}return!0}function Cx(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ex(e,t){var r=Cx(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Cx(r)}}function yS(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?yS(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function vS(){for(var e=window,t=Gf();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Gf(e.document)}return t}function ky(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function aA(e){var t=vS(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&yS(r.ownerDocument.documentElement,r)){if(n!==null&&ky(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,o=Math.min(n.start,a);n=n.end===void 0?o:Math.min(n.end,a),!e.extend&&o>n&&(a=n,n=o,o=a),a=Ex(r,o);var i=Ex(r,n);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var oA=bo&&"documentMode"in document&&11>=document.documentMode,vs=null,Qp=null,hc=null,Jp=!1;function Tx(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Jp||vs==null||vs!==Gf(n)||(n=vs,"selectionStart"in n&&ky(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),hc&&Tc(hc,n)||(hc=n,n=Zf(Qp,"onSelect"),0<n.length&&(t=new xy("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=vs)))}function af(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var xs={animationend:af("Animation","AnimationEnd"),animationiteration:af("Animation","AnimationIteration"),animationstart:af("Animation","AnimationStart"),transitionend:af("Transition","TransitionEnd")},I0={},xS={};bo&&(xS=document.createElement("div").style,"AnimationEvent"in window||(delete xs.animationend.animation,delete xs.animationiteration.animation,delete xs.animationstart.animation),"TransitionEvent"in window||delete xs.transitionend.transition);function Sh(e){if(I0[e])return I0[e];if(!xs[e])return e;var t=xs[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in xS)return I0[e]=t[r];return e}var bS=Sh("animationend"),wS=Sh("animationiteration"),kS=Sh("animationstart"),SS=Sh("transitionend"),jS=new Map,$x="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function oi(e,t){jS.set(e,t),qi(t,[e])}for(var B0=0;B0<$x.length;B0++){var F0=$x[B0],iA=F0.toLowerCase(),sA=F0[0].toUpperCase()+F0.slice(1);oi(iA,"on"+sA)}oi(bS,"onAnimationEnd");oi(wS,"onAnimationIteration");oi(kS,"onAnimationStart");oi("dblclick","onDoubleClick");oi("focusin","onFocus");oi("focusout","onBlur");oi(SS,"onTransitionEnd");Fs("onMouseEnter",["mouseout","mouseover"]);Fs("onMouseLeave",["mouseout","mouseover"]);Fs("onPointerEnter",["pointerout","pointerover"]);Fs("onPointerLeave",["pointerout","pointerover"]);qi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qi("onBeforeInput",["compositionend","keypress","textInput","paste"]);qi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lA=new Set("cancel close invalid load scroll toggle".split(" ").concat(sc));function Dx(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,iM(n,t,void 0,e),e.currentTarget=null}function _S(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var i=n.length-1;0<=i;i--){var s=n[i],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&a.isPropagationStopped())break e;Dx(a,s,c),o=l}else for(i=0;i<n.length;i++){if(s=n[i],l=s.instance,c=s.currentTarget,s=s.listener,l!==o&&a.isPropagationStopped())break e;Dx(a,s,c),o=l}}}if(Vf)throw e=Kp,Vf=!1,Kp=null,e}function Xt(e,t){var r=t[ag];r===void 0&&(r=t[ag]=new Set);var n=e+"__bubble";r.has(n)||(NS(t,e,2,!1),r.add(n))}function z0(e,t,r){var n=0;t&&(n|=4),NS(r,e,n,t)}var of="_reactListening"+Math.random().toString(36).slice(2);function $c(e){if(!e[of]){e[of]=!0,Tk.forEach(function(r){r!=="selectionchange"&&(lA.has(r)||z0(r,!1,e),z0(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[of]||(t[of]=!0,z0("selectionchange",!1,t))}}function NS(e,t,r,n){switch(cS(t)){case 1:var a=kM;break;case 4:a=SM;break;default:a=yy}r=a.bind(null,t,r,e),a=void 0,!Xp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function U0(e,t,r,n,a){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var s=n.stateNode.containerInfo;if(s===a||s.nodeType===8&&s.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;i=i.return}for(;s!==null;){if(i=_i(s),i===null)return;if(l=i.tag,l===5||l===6){n=o=i;continue e}s=s.parentNode}}n=n.return}Yk(function(){var c=o,d=hy(r),f=[];e:{var h=jS.get(e);if(h!==void 0){var p=xy,m=e;switch(e){case"keypress":if($f(r)===0)break e;case"keydown":case"keyup":p=IM;break;case"focusin":m="focus",p=D0;break;case"focusout":m="blur",p=D0;break;case"beforeblur":case"afterblur":p=D0;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Sx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=NM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=zM;break;case bS:case wS:case kS:p=MM;break;case SS:p=WM;break;case"scroll":p=jM;break;case"wheel":p=HM;break;case"copy":case"cut":case"paste":p=CM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=_x}var v=(t&4)!==0,w=!v&&e==="scroll",y=v?h!==null?h+"Capture":null:h;v=[];for(var g=c,x;g!==null;){x=g;var S=x.stateNode;if(x.tag===5&&S!==null&&(x=S,y!==null&&(S=Pc(g,y),S!=null&&v.push(Dc(g,S,x)))),w)break;g=g.return}0<v.length&&(h=new p(h,m,null,r,d),f.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==Hp&&(m=r.relatedTarget||r.fromElement)&&(_i(m)||m[wo]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=c,m=m?_i(m):null,m!==null&&(w=Zi(m),m!==w||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(v=Sx,S="onMouseLeave",y="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(v=_x,S="onPointerLeave",y="onPointerEnter",g="pointer"),w=p==null?h:bs(p),x=m==null?h:bs(m),h=new v(S,g+"leave",p,r,d),h.target=w,h.relatedTarget=x,S=null,_i(d)===c&&(v=new v(y,g+"enter",m,r,d),v.target=x,v.relatedTarget=w,S=v),w=S,p&&m)t:{for(v=p,y=m,g=0,x=v;x;x=cs(x))g++;for(x=0,S=y;S;S=cs(S))x++;for(;0<g-x;)v=cs(v),g--;for(;0<x-g;)y=cs(y),x--;for(;g--;){if(v===y||y!==null&&v===y.alternate)break t;v=cs(v),y=cs(y)}v=null}else v=null;p!==null&&Rx(f,h,p,v,!1),m!==null&&w!==null&&Rx(f,w,m,v,!0)}}e:{if(h=c?bs(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var k=QM;else if(Px(h))if(gS)k=rA;else{k=eA;var b=JM}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=tA);if(k&&(k=k(e,c))){pS(f,k,r,d);break e}b&&b(e,h,c),e==="focusout"&&(b=h._wrapperState)&&b.controlled&&h.type==="number"&&Fp(h,"number",h.value)}switch(b=c?bs(c):window,e){case"focusin":(Px(b)||b.contentEditable==="true")&&(vs=b,Qp=c,hc=null);break;case"focusout":hc=Qp=vs=null;break;case"mousedown":Jp=!0;break;case"contextmenu":case"mouseup":case"dragend":Jp=!1,Tx(f,r,d);break;case"selectionchange":if(oA)break;case"keydown":case"keyup":Tx(f,r,d)}var _;if(wy)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else ys?dS(e,r)&&(N="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(N="onCompositionStart");N&&(fS&&r.locale!=="ko"&&(ys||N!=="onCompositionStart"?N==="onCompositionEnd"&&ys&&(_=uS()):(zo=d,vy="value"in zo?zo.value:zo.textContent,ys=!0)),b=Zf(c,N),0<b.length&&(N=new jx(N,e,null,r,d),f.push({event:N,listeners:b}),_?N.data=_:(_=hS(r),_!==null&&(N.data=_)))),(_=XM?KM(e,r):YM(e,r))&&(c=Zf(c,"onBeforeInput"),0<c.length&&(d=new jx("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:c}),d.data=_))}_S(f,t)})}function Dc(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Zf(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,o=a.stateNode;a.tag===5&&o!==null&&(a=o,o=Pc(e,r),o!=null&&n.unshift(Dc(e,o,a)),o=Pc(e,t),o!=null&&n.push(Dc(e,o,a))),e=e.return}return n}function cs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Rx(e,t,r,n,a){for(var o=t._reactName,i=[];r!==null&&r!==n;){var s=r,l=s.alternate,c=s.stateNode;if(l!==null&&l===n)break;s.tag===5&&c!==null&&(s=c,a?(l=Pc(r,o),l!=null&&i.unshift(Dc(r,l,s))):a||(l=Pc(r,o),l!=null&&i.push(Dc(r,l,s)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var cA=/\r\n?/g,uA=/\u0000|\uFFFD/g;function Lx(e){return(typeof e=="string"?e:""+e).replace(cA,`
`).replace(uA,"")}function sf(e,t,r){if(t=Lx(t),Lx(e)!==t&&r)throw Error(ce(425))}function Qf(){}var eg=null,tg=null;function rg(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ng=typeof setTimeout=="function"?setTimeout:void 0,fA=typeof clearTimeout=="function"?clearTimeout:void 0,Ix=typeof Promise=="function"?Promise:void 0,dA=typeof queueMicrotask=="function"?queueMicrotask:typeof Ix<"u"?function(e){return Ix.resolve(null).then(e).catch(hA)}:ng;function hA(e){setTimeout(function(){throw e})}function W0(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Cc(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Cc(t)}function qo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Bx(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var wl=Math.random().toString(36).slice(2),za="__reactFiber$"+wl,Rc="__reactProps$"+wl,wo="__reactContainer$"+wl,ag="__reactEvents$"+wl,pA="__reactListeners$"+wl,gA="__reactHandles$"+wl;function _i(e){var t=e[za];if(t)return t;for(var r=e.parentNode;r;){if(t=r[wo]||r[za]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Bx(e);e!==null;){if(r=e[za])return r;e=Bx(e)}return t}e=r,r=e.parentNode}return null}function Mu(e){return e=e[za]||e[wo],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function bs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ce(33))}function jh(e){return e[Rc]||null}var og=[],ws=-1;function ii(e){return{current:e}}function qt(e){0>ws||(e.current=og[ws],og[ws]=null,ws--)}function Wt(e,t){ws++,og[ws]=e.current,e.current=t}var ai={},pn=ii(ai),In=ii(!1),Ii=ai;function zs(e,t){var r=e.type.contextTypes;if(!r)return ai;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},o;for(o in r)a[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Bn(e){return e=e.childContextTypes,e!=null}function Jf(){qt(In),qt(pn)}function Fx(e,t,r){if(pn.current!==ai)throw Error(ce(168));Wt(pn,t),Wt(In,r)}function OS(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(ce(108,JP(e)||"Unknown",a));return sr({},r,n)}function ed(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ai,Ii=pn.current,Wt(pn,e),Wt(In,In.current),!0}function zx(e,t,r){var n=e.stateNode;if(!n)throw Error(ce(169));r?(e=OS(e,t,Ii),n.__reactInternalMemoizedMergedChildContext=e,qt(In),qt(pn),Wt(pn,e)):qt(In),Wt(In,r)}var lo=null,_h=!1,G0=!1;function PS(e){lo===null?lo=[e]:lo.push(e)}function mA(e){_h=!0,PS(e)}function si(){if(!G0&&lo!==null){G0=!0;var e=0,t=Pt;try{var r=lo;for(Pt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}lo=null,_h=!1}catch(a){throw lo!==null&&(lo=lo.slice(e+1)),Jk(py,si),a}finally{Pt=t,G0=!1}}return null}var ks=[],Ss=0,td=null,rd=0,fa=[],da=0,Bi=null,co=1,uo="";function bi(e,t){ks[Ss++]=rd,ks[Ss++]=td,td=e,rd=t}function MS(e,t,r){fa[da++]=co,fa[da++]=uo,fa[da++]=Bi,Bi=e;var n=co;e=uo;var a=32-Ea(n)-1;n&=~(1<<a),r+=1;var o=32-Ea(t)+a;if(30<o){var i=a-a%5;o=(n&(1<<i)-1).toString(32),n>>=i,a-=i,co=1<<32-Ea(t)+a|r<<a|n,uo=o+e}else co=1<<o|r<<a|n,uo=e}function Sy(e){e.return!==null&&(bi(e,1),MS(e,1,0))}function jy(e){for(;e===td;)td=ks[--Ss],ks[Ss]=null,rd=ks[--Ss],ks[Ss]=null;for(;e===Bi;)Bi=fa[--da],fa[da]=null,uo=fa[--da],fa[da]=null,co=fa[--da],fa[da]=null}var ta=null,ea=null,tr=!1,Ma=null;function AS(e,t){var r=ha(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Ux(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ta=e,ea=qo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ta=e,ea=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Bi!==null?{id:co,overflow:uo}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ha(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ta=e,ea=null,!0):!1;default:return!1}}function ig(e){return(e.mode&1)!==0&&(e.flags&128)===0}function sg(e){if(tr){var t=ea;if(t){var r=t;if(!Ux(e,t)){if(ig(e))throw Error(ce(418));t=qo(r.nextSibling);var n=ta;t&&Ux(e,t)?AS(n,r):(e.flags=e.flags&-4097|2,tr=!1,ta=e)}}else{if(ig(e))throw Error(ce(418));e.flags=e.flags&-4097|2,tr=!1,ta=e}}}function Wx(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ta=e}function lf(e){if(e!==ta)return!1;if(!tr)return Wx(e),tr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!rg(e.type,e.memoizedProps)),t&&(t=ea)){if(ig(e))throw CS(),Error(ce(418));for(;t;)AS(e,t),t=qo(t.nextSibling)}if(Wx(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ce(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ea=qo(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ea=null}}else ea=ta?qo(e.stateNode.nextSibling):null;return!0}function CS(){for(var e=ea;e;)e=qo(e.nextSibling)}function Us(){ea=ta=null,tr=!1}function _y(e){Ma===null?Ma=[e]:Ma.push(e)}var yA=Oo.ReactCurrentBatchConfig;function Hl(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ce(309));var n=r.stateNode}if(!n)throw Error(ce(147,e));var a=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var s=a.refs;i===null?delete s[o]:s[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(ce(284));if(!r._owner)throw Error(ce(290,e))}return e}function cf(e,t){throw e=Object.prototype.toString.call(t),Error(ce(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Gx(e){var t=e._init;return t(e._payload)}function ES(e){function t(y,g){if(e){var x=y.deletions;x===null?(y.deletions=[g],y.flags|=16):x.push(g)}}function r(y,g){if(!e)return null;for(;g!==null;)t(y,g),g=g.sibling;return null}function n(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function a(y,g){return y=ei(y,g),y.index=0,y.sibling=null,y}function o(y,g,x){return y.index=x,e?(x=y.alternate,x!==null?(x=x.index,x<g?(y.flags|=2,g):x):(y.flags|=2,g)):(y.flags|=1048576,g)}function i(y){return e&&y.alternate===null&&(y.flags|=2),y}function s(y,g,x,S){return g===null||g.tag!==6?(g=Z0(x,y.mode,S),g.return=y,g):(g=a(g,x),g.return=y,g)}function l(y,g,x,S){var k=x.type;return k===ms?d(y,g,x.props.children,S,x.key):g!==null&&(g.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Do&&Gx(k)===g.type)?(S=a(g,x.props),S.ref=Hl(y,g,x),S.return=y,S):(S=zf(x.type,x.key,x.props,null,y.mode,S),S.ref=Hl(y,g,x),S.return=y,S)}function c(y,g,x,S){return g===null||g.tag!==4||g.stateNode.containerInfo!==x.containerInfo||g.stateNode.implementation!==x.implementation?(g=Q0(x,y.mode,S),g.return=y,g):(g=a(g,x.children||[]),g.return=y,g)}function d(y,g,x,S,k){return g===null||g.tag!==7?(g=$i(x,y.mode,S,k),g.return=y,g):(g=a(g,x),g.return=y,g)}function f(y,g,x){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Z0(""+g,y.mode,x),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Zu:return x=zf(g.type,g.key,g.props,null,y.mode,x),x.ref=Hl(y,null,g),x.return=y,x;case gs:return g=Q0(g,y.mode,x),g.return=y,g;case Do:var S=g._init;return f(y,S(g._payload),x)}if(oc(g)||Fl(g))return g=$i(g,y.mode,x,null),g.return=y,g;cf(y,g)}return null}function h(y,g,x,S){var k=g!==null?g.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return k!==null?null:s(y,g,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Zu:return x.key===k?l(y,g,x,S):null;case gs:return x.key===k?c(y,g,x,S):null;case Do:return k=x._init,h(y,g,k(x._payload),S)}if(oc(x)||Fl(x))return k!==null?null:d(y,g,x,S,null);cf(y,x)}return null}function p(y,g,x,S,k){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(x)||null,s(g,y,""+S,k);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Zu:return y=y.get(S.key===null?x:S.key)||null,l(g,y,S,k);case gs:return y=y.get(S.key===null?x:S.key)||null,c(g,y,S,k);case Do:var b=S._init;return p(y,g,x,b(S._payload),k)}if(oc(S)||Fl(S))return y=y.get(x)||null,d(g,y,S,k,null);cf(g,S)}return null}function m(y,g,x,S){for(var k=null,b=null,_=g,N=g=0,O=null;_!==null&&N<x.length;N++){_.index>N?(O=_,_=null):O=_.sibling;var P=h(y,_,x[N],S);if(P===null){_===null&&(_=O);break}e&&_&&P.alternate===null&&t(y,_),g=o(P,g,N),b===null?k=P:b.sibling=P,b=P,_=O}if(N===x.length)return r(y,_),tr&&bi(y,N),k;if(_===null){for(;N<x.length;N++)_=f(y,x[N],S),_!==null&&(g=o(_,g,N),b===null?k=_:b.sibling=_,b=_);return tr&&bi(y,N),k}for(_=n(y,_);N<x.length;N++)O=p(_,y,N,x[N],S),O!==null&&(e&&O.alternate!==null&&_.delete(O.key===null?N:O.key),g=o(O,g,N),b===null?k=O:b.sibling=O,b=O);return e&&_.forEach(function(A){return t(y,A)}),tr&&bi(y,N),k}function v(y,g,x,S){var k=Fl(x);if(typeof k!="function")throw Error(ce(150));if(x=k.call(x),x==null)throw Error(ce(151));for(var b=k=null,_=g,N=g=0,O=null,P=x.next();_!==null&&!P.done;N++,P=x.next()){_.index>N?(O=_,_=null):O=_.sibling;var A=h(y,_,P.value,S);if(A===null){_===null&&(_=O);break}e&&_&&A.alternate===null&&t(y,_),g=o(A,g,N),b===null?k=A:b.sibling=A,b=A,_=O}if(P.done)return r(y,_),tr&&bi(y,N),k;if(_===null){for(;!P.done;N++,P=x.next())P=f(y,P.value,S),P!==null&&(g=o(P,g,N),b===null?k=P:b.sibling=P,b=P);return tr&&bi(y,N),k}for(_=n(y,_);!P.done;N++,P=x.next())P=p(_,y,N,P.value,S),P!==null&&(e&&P.alternate!==null&&_.delete(P.key===null?N:P.key),g=o(P,g,N),b===null?k=P:b.sibling=P,b=P);return e&&_.forEach(function(C){return t(y,C)}),tr&&bi(y,N),k}function w(y,g,x,S){if(typeof x=="object"&&x!==null&&x.type===ms&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Zu:e:{for(var k=x.key,b=g;b!==null;){if(b.key===k){if(k=x.type,k===ms){if(b.tag===7){r(y,b.sibling),g=a(b,x.props.children),g.return=y,y=g;break e}}else if(b.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Do&&Gx(k)===b.type){r(y,b.sibling),g=a(b,x.props),g.ref=Hl(y,b,x),g.return=y,y=g;break e}r(y,b);break}else t(y,b);b=b.sibling}x.type===ms?(g=$i(x.props.children,y.mode,S,x.key),g.return=y,y=g):(S=zf(x.type,x.key,x.props,null,y.mode,S),S.ref=Hl(y,g,x),S.return=y,y=S)}return i(y);case gs:e:{for(b=x.key;g!==null;){if(g.key===b)if(g.tag===4&&g.stateNode.containerInfo===x.containerInfo&&g.stateNode.implementation===x.implementation){r(y,g.sibling),g=a(g,x.children||[]),g.return=y,y=g;break e}else{r(y,g);break}else t(y,g);g=g.sibling}g=Q0(x,y.mode,S),g.return=y,y=g}return i(y);case Do:return b=x._init,w(y,g,b(x._payload),S)}if(oc(x))return m(y,g,x,S);if(Fl(x))return v(y,g,x,S);cf(y,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,g!==null&&g.tag===6?(r(y,g.sibling),g=a(g,x),g.return=y,y=g):(r(y,g),g=Z0(x,y.mode,S),g.return=y,y=g),i(y)):r(y,g)}return w}var Ws=ES(!0),TS=ES(!1),nd=ii(null),ad=null,js=null,Ny=null;function Oy(){Ny=js=ad=null}function Py(e){var t=nd.current;qt(nd),e._currentValue=t}function lg(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function $s(e,t){ad=e,Ny=js=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Rn=!0),e.firstContext=null)}function va(e){var t=e._currentValue;if(Ny!==e)if(e={context:e,memoizedValue:t,next:null},js===null){if(ad===null)throw Error(ce(308));js=e,ad.dependencies={lanes:0,firstContext:e}}else js=js.next=e;return t}var Ni=null;function My(e){Ni===null?Ni=[e]:Ni.push(e)}function $S(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,My(t)):(r.next=a.next,a.next=r),t.interleaved=r,ko(e,n)}function ko(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ro=!1;function Ay(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function DS(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function go(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Zo(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ft&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,ko(e,r)}return a=n.interleaved,a===null?(t.next=t,My(n)):(t.next=a.next,a.next=t),n.interleaved=t,ko(e,r)}function Df(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,gy(e,r)}}function Hx(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?a=o=i:o=o.next=i,r=r.next}while(r!==null);o===null?a=o=t:o=o.next=t}else a=o=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function od(e,t,r,n){var a=e.updateQueue;Ro=!1;var o=a.firstBaseUpdate,i=a.lastBaseUpdate,s=a.shared.pending;if(s!==null){a.shared.pending=null;var l=s,c=l.next;l.next=null,i===null?o=c:i.next=c,i=l;var d=e.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==i&&(s===null?d.firstBaseUpdate=c:s.next=c,d.lastBaseUpdate=l))}if(o!==null){var f=a.baseState;i=0,d=c=l=null,s=o;do{var h=s.lane,p=s.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var m=e,v=s;switch(h=t,p=r,v.tag){case 1:if(m=v.payload,typeof m=="function"){f=m.call(p,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=v.payload,h=typeof m=="function"?m.call(p,f,h):m,h==null)break e;f=sr({},f,h);break e;case 2:Ro=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(c=d=p,l=f):d=d.next=p,i|=h;if(s=s.next,s===null){if(s=a.shared.pending,s===null)break;h=s,s=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(l=f),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else o===null&&(a.shared.lanes=0);zi|=i,e.lanes=i,e.memoizedState=f}}function Vx(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(ce(191,a));a.call(n)}}}var Au={},Ha=ii(Au),Lc=ii(Au),Ic=ii(Au);function Oi(e){if(e===Au)throw Error(ce(174));return e}function Cy(e,t){switch(Wt(Ic,t),Wt(Lc,e),Wt(Ha,Au),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Up(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Up(t,e)}qt(Ha),Wt(Ha,t)}function Gs(){qt(Ha),qt(Lc),qt(Ic)}function RS(e){Oi(Ic.current);var t=Oi(Ha.current),r=Up(t,e.type);t!==r&&(Wt(Lc,e),Wt(Ha,r))}function Ey(e){Lc.current===e&&(qt(Ha),qt(Lc))}var or=ii(0);function id(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var H0=[];function Ty(){for(var e=0;e<H0.length;e++)H0[e]._workInProgressVersionPrimary=null;H0.length=0}var Rf=Oo.ReactCurrentDispatcher,V0=Oo.ReactCurrentBatchConfig,Fi=0,ir=null,Dr=null,Hr=null,sd=!1,pc=!1,Bc=0,vA=0;function ln(){throw Error(ce(321))}function $y(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!$a(e[r],t[r]))return!1;return!0}function Dy(e,t,r,n,a,o){if(Fi=o,ir=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Rf.current=e===null||e.memoizedState===null?kA:SA,e=r(n,a),pc){o=0;do{if(pc=!1,Bc=0,25<=o)throw Error(ce(301));o+=1,Hr=Dr=null,t.updateQueue=null,Rf.current=jA,e=r(n,a)}while(pc)}if(Rf.current=ld,t=Dr!==null&&Dr.next!==null,Fi=0,Hr=Dr=ir=null,sd=!1,t)throw Error(ce(300));return e}function Ry(){var e=Bc!==0;return Bc=0,e}function Fa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Hr===null?ir.memoizedState=Hr=e:Hr=Hr.next=e,Hr}function xa(){if(Dr===null){var e=ir.alternate;e=e!==null?e.memoizedState:null}else e=Dr.next;var t=Hr===null?ir.memoizedState:Hr.next;if(t!==null)Hr=t,Dr=e;else{if(e===null)throw Error(ce(310));Dr=e,e={memoizedState:Dr.memoizedState,baseState:Dr.baseState,baseQueue:Dr.baseQueue,queue:Dr.queue,next:null},Hr===null?ir.memoizedState=Hr=e:Hr=Hr.next=e}return Hr}function Fc(e,t){return typeof t=="function"?t(e):t}function X0(e){var t=xa(),r=t.queue;if(r===null)throw Error(ce(311));r.lastRenderedReducer=e;var n=Dr,a=n.baseQueue,o=r.pending;if(o!==null){if(a!==null){var i=a.next;a.next=o.next,o.next=i}n.baseQueue=a=o,r.pending=null}if(a!==null){o=a.next,n=n.baseState;var s=i=null,l=null,c=o;do{var d=c.lane;if((Fi&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=f,i=n):l=l.next=f,ir.lanes|=d,zi|=d}c=c.next}while(c!==null&&c!==o);l===null?i=n:l.next=s,$a(n,t.memoizedState)||(Rn=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do o=a.lane,ir.lanes|=o,zi|=o,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function K0(e){var t=xa(),r=t.queue;if(r===null)throw Error(ce(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,o=t.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do o=e(o,i.action),i=i.next;while(i!==a);$a(o,t.memoizedState)||(Rn=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function LS(){}function IS(e,t){var r=ir,n=xa(),a=t(),o=!$a(n.memoizedState,a);if(o&&(n.memoizedState=a,Rn=!0),n=n.queue,Ly(zS.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||Hr!==null&&Hr.memoizedState.tag&1){if(r.flags|=2048,zc(9,FS.bind(null,r,n,a,t),void 0,null),Xr===null)throw Error(ce(349));Fi&30||BS(r,t,a)}return a}function BS(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ir.updateQueue,t===null?(t={lastEffect:null,stores:null},ir.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function FS(e,t,r,n){t.value=r,t.getSnapshot=n,US(t)&&WS(e)}function zS(e,t,r){return r(function(){US(t)&&WS(e)})}function US(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!$a(e,r)}catch{return!0}}function WS(e){var t=ko(e,1);t!==null&&Ta(t,e,1,-1)}function Xx(e){var t=Fa();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fc,lastRenderedState:e},t.queue=e,e=e.dispatch=wA.bind(null,ir,e),[t.memoizedState,e]}function zc(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ir.updateQueue,t===null?(t={lastEffect:null,stores:null},ir.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function GS(){return xa().memoizedState}function Lf(e,t,r,n){var a=Fa();ir.flags|=e,a.memoizedState=zc(1|t,r,void 0,n===void 0?null:n)}function Nh(e,t,r,n){var a=xa();n=n===void 0?null:n;var o=void 0;if(Dr!==null){var i=Dr.memoizedState;if(o=i.destroy,n!==null&&$y(n,i.deps)){a.memoizedState=zc(t,r,o,n);return}}ir.flags|=e,a.memoizedState=zc(1|t,r,o,n)}function Kx(e,t){return Lf(8390656,8,e,t)}function Ly(e,t){return Nh(2048,8,e,t)}function HS(e,t){return Nh(4,2,e,t)}function VS(e,t){return Nh(4,4,e,t)}function XS(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function KS(e,t,r){return r=r!=null?r.concat([e]):null,Nh(4,4,XS.bind(null,t,e),r)}function Iy(){}function YS(e,t){var r=xa();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&$y(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function qS(e,t){var r=xa();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&$y(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function ZS(e,t,r){return Fi&21?($a(r,t)||(r=rS(),ir.lanes|=r,zi|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Rn=!0),e.memoizedState=r)}function xA(e,t){var r=Pt;Pt=r!==0&&4>r?r:4,e(!0);var n=V0.transition;V0.transition={};try{e(!1),t()}finally{Pt=r,V0.transition=n}}function QS(){return xa().memoizedState}function bA(e,t,r){var n=Jo(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},JS(e))ej(t,r);else if(r=$S(e,t,r,n),r!==null){var a=Nn();Ta(r,e,n,a),tj(r,t,n)}}function wA(e,t,r){var n=Jo(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(JS(e))ej(t,a);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,s=o(i,r);if(a.hasEagerState=!0,a.eagerState=s,$a(s,i)){var l=t.interleaved;l===null?(a.next=a,My(t)):(a.next=l.next,l.next=a),t.interleaved=a;return}}catch{}finally{}r=$S(e,t,a,n),r!==null&&(a=Nn(),Ta(r,e,n,a),tj(r,t,n))}}function JS(e){var t=e.alternate;return e===ir||t!==null&&t===ir}function ej(e,t){pc=sd=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function tj(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,gy(e,r)}}var ld={readContext:va,useCallback:ln,useContext:ln,useEffect:ln,useImperativeHandle:ln,useInsertionEffect:ln,useLayoutEffect:ln,useMemo:ln,useReducer:ln,useRef:ln,useState:ln,useDebugValue:ln,useDeferredValue:ln,useTransition:ln,useMutableSource:ln,useSyncExternalStore:ln,useId:ln,unstable_isNewReconciler:!1},kA={readContext:va,useCallback:function(e,t){return Fa().memoizedState=[e,t===void 0?null:t],e},useContext:va,useEffect:Kx,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Lf(4194308,4,XS.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Lf(4194308,4,e,t)},useInsertionEffect:function(e,t){return Lf(4,2,e,t)},useMemo:function(e,t){var r=Fa();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Fa();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=bA.bind(null,ir,e),[n.memoizedState,e]},useRef:function(e){var t=Fa();return e={current:e},t.memoizedState=e},useState:Xx,useDebugValue:Iy,useDeferredValue:function(e){return Fa().memoizedState=e},useTransition:function(){var e=Xx(!1),t=e[0];return e=xA.bind(null,e[1]),Fa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ir,a=Fa();if(tr){if(r===void 0)throw Error(ce(407));r=r()}else{if(r=t(),Xr===null)throw Error(ce(349));Fi&30||BS(n,t,r)}a.memoizedState=r;var o={value:r,getSnapshot:t};return a.queue=o,Kx(zS.bind(null,n,o,e),[e]),n.flags|=2048,zc(9,FS.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=Fa(),t=Xr.identifierPrefix;if(tr){var r=uo,n=co;r=(n&~(1<<32-Ea(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Bc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=vA++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},SA={readContext:va,useCallback:YS,useContext:va,useEffect:Ly,useImperativeHandle:KS,useInsertionEffect:HS,useLayoutEffect:VS,useMemo:qS,useReducer:X0,useRef:GS,useState:function(){return X0(Fc)},useDebugValue:Iy,useDeferredValue:function(e){var t=xa();return ZS(t,Dr.memoizedState,e)},useTransition:function(){var e=X0(Fc)[0],t=xa().memoizedState;return[e,t]},useMutableSource:LS,useSyncExternalStore:IS,useId:QS,unstable_isNewReconciler:!1},jA={readContext:va,useCallback:YS,useContext:va,useEffect:Ly,useImperativeHandle:KS,useInsertionEffect:HS,useLayoutEffect:VS,useMemo:qS,useReducer:K0,useRef:GS,useState:function(){return K0(Fc)},useDebugValue:Iy,useDeferredValue:function(e){var t=xa();return Dr===null?t.memoizedState=e:ZS(t,Dr.memoizedState,e)},useTransition:function(){var e=K0(Fc)[0],t=xa().memoizedState;return[e,t]},useMutableSource:LS,useSyncExternalStore:IS,useId:QS,unstable_isNewReconciler:!1};function _a(e,t){if(e&&e.defaultProps){t=sr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function cg(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:sr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Oh={isMounted:function(e){return(e=e._reactInternals)?Zi(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Nn(),a=Jo(e),o=go(n,a);o.payload=t,r!=null&&(o.callback=r),t=Zo(e,o,a),t!==null&&(Ta(t,e,a,n),Df(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Nn(),a=Jo(e),o=go(n,a);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=Zo(e,o,a),t!==null&&(Ta(t,e,a,n),Df(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Nn(),n=Jo(e),a=go(r,n);a.tag=2,t!=null&&(a.callback=t),t=Zo(e,a,n),t!==null&&(Ta(t,e,n,r),Df(t,e,n))}};function Yx(e,t,r,n,a,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,i):t.prototype&&t.prototype.isPureReactComponent?!Tc(r,n)||!Tc(a,o):!0}function rj(e,t,r){var n=!1,a=ai,o=t.contextType;return typeof o=="object"&&o!==null?o=va(o):(a=Bn(t)?Ii:pn.current,n=t.contextTypes,o=(n=n!=null)?zs(e,a):ai),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Oh,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function qx(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Oh.enqueueReplaceState(t,t.state,null)}function ug(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Ay(e);var o=t.contextType;typeof o=="object"&&o!==null?a.context=va(o):(o=Bn(t)?Ii:pn.current,a.context=zs(e,o)),a.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(cg(e,t,o,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Oh.enqueueReplaceState(a,a.state,null),od(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Hs(e,t){try{var r="",n=t;do r+=QP(n),n=n.return;while(n);var a=r}catch(o){a=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:a,digest:null}}function Y0(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function fg(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var _A=typeof WeakMap=="function"?WeakMap:Map;function nj(e,t,r){r=go(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){ud||(ud=!0,wg=n),fg(e,t)},r}function aj(e,t,r){r=go(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){fg(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){fg(e,t),typeof n!="function"&&(Qo===null?Qo=new Set([this]):Qo.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function Zx(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new _A;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=BA.bind(null,e,t,r),t.then(e,e))}function Qx(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Jx(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=go(-1,1),t.tag=2,Zo(r,t,1))),r.lanes|=1),e)}var NA=Oo.ReactCurrentOwner,Rn=!1;function jn(e,t,r,n){t.child=e===null?TS(t,null,r,n):Ws(t,e.child,r,n)}function eb(e,t,r,n,a){r=r.render;var o=t.ref;return $s(t,a),n=Dy(e,t,r,n,o,a),r=Ry(),e!==null&&!Rn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,So(e,t,a)):(tr&&r&&Sy(t),t.flags|=1,jn(e,t,n,a),t.child)}function tb(e,t,r,n,a){if(e===null){var o=r.type;return typeof o=="function"&&!Vy(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,oj(e,t,o,n,a)):(e=zf(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&a)){var i=o.memoizedProps;if(r=r.compare,r=r!==null?r:Tc,r(i,n)&&e.ref===t.ref)return So(e,t,a)}return t.flags|=1,e=ei(o,n),e.ref=t.ref,e.return=t,t.child=e}function oj(e,t,r,n,a){if(e!==null){var o=e.memoizedProps;if(Tc(o,n)&&e.ref===t.ref)if(Rn=!1,t.pendingProps=n=o,(e.lanes&a)!==0)e.flags&131072&&(Rn=!0);else return t.lanes=e.lanes,So(e,t,a)}return dg(e,t,r,n,a)}function ij(e,t,r){var n=t.pendingProps,a=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Wt(Ns,Zn),Zn|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Wt(Ns,Zn),Zn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,Wt(Ns,Zn),Zn|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,Wt(Ns,Zn),Zn|=n;return jn(e,t,a,r),t.child}function sj(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function dg(e,t,r,n,a){var o=Bn(r)?Ii:pn.current;return o=zs(t,o),$s(t,a),r=Dy(e,t,r,n,o,a),n=Ry(),e!==null&&!Rn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,So(e,t,a)):(tr&&n&&Sy(t),t.flags|=1,jn(e,t,r,a),t.child)}function rb(e,t,r,n,a){if(Bn(r)){var o=!0;ed(t)}else o=!1;if($s(t,a),t.stateNode===null)If(e,t),rj(t,r,n),ug(t,r,n,a),n=!0;else if(e===null){var i=t.stateNode,s=t.memoizedProps;i.props=s;var l=i.context,c=r.contextType;typeof c=="object"&&c!==null?c=va(c):(c=Bn(r)?Ii:pn.current,c=zs(t,c));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(s!==n||l!==c)&&qx(t,i,n,c),Ro=!1;var h=t.memoizedState;i.state=h,od(t,n,i,a),l=t.memoizedState,s!==n||h!==l||In.current||Ro?(typeof d=="function"&&(cg(t,r,d,n),l=t.memoizedState),(s=Ro||Yx(t,r,s,n,h,l,c))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),i.props=n,i.state=l,i.context=c,n=s):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,DS(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:_a(t.type,s),i.props=c,f=t.pendingProps,h=i.context,l=r.contextType,typeof l=="object"&&l!==null?l=va(l):(l=Bn(r)?Ii:pn.current,l=zs(t,l));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(s!==f||h!==l)&&qx(t,i,n,l),Ro=!1,h=t.memoizedState,i.state=h,od(t,n,i,a);var m=t.memoizedState;s!==f||h!==m||In.current||Ro?(typeof p=="function"&&(cg(t,r,p,n),m=t.memoizedState),(c=Ro||Yx(t,r,c,n,h,m,l)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,m,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,m,l)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),i.props=n,i.state=m,i.context=l,n=c):(typeof i.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return hg(e,t,r,n,o,a)}function hg(e,t,r,n,a,o){sj(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return a&&zx(t,r,!1),So(e,t,o);n=t.stateNode,NA.current=t;var s=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=Ws(t,e.child,null,o),t.child=Ws(t,null,s,o)):jn(e,t,s,o),t.memoizedState=n.state,a&&zx(t,r,!0),t.child}function lj(e){var t=e.stateNode;t.pendingContext?Fx(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Fx(e,t.context,!1),Cy(e,t.containerInfo)}function nb(e,t,r,n,a){return Us(),_y(a),t.flags|=256,jn(e,t,r,n),t.child}var pg={dehydrated:null,treeContext:null,retryLane:0};function gg(e){return{baseLanes:e,cachePool:null,transitions:null}}function cj(e,t,r){var n=t.pendingProps,a=or.current,o=!1,i=(t.flags&128)!==0,s;if((s=i)||(s=e!==null&&e.memoizedState===null?!1:(a&2)!==0),s?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Wt(or,a&1),e===null)return sg(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,o?(n=t.mode,o=t.child,i={mode:"hidden",children:i},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Ah(i,n,0,null),e=$i(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=gg(r),t.memoizedState=pg,e):By(t,i));if(a=e.memoizedState,a!==null&&(s=a.dehydrated,s!==null))return OA(e,t,i,n,s,a,r);if(o){o=n.fallback,i=t.mode,a=e.child,s=a.sibling;var l={mode:"hidden",children:n.children};return!(i&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=ei(a,l),n.subtreeFlags=a.subtreeFlags&14680064),s!==null?o=ei(s,o):(o=$i(o,i,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,i=e.child.memoizedState,i=i===null?gg(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~r,t.memoizedState=pg,n}return o=e.child,e=o.sibling,n=ei(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function By(e,t){return t=Ah({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function uf(e,t,r,n){return n!==null&&_y(n),Ws(t,e.child,null,r),e=By(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function OA(e,t,r,n,a,o,i){if(r)return t.flags&256?(t.flags&=-257,n=Y0(Error(ce(422))),uf(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,a=t.mode,n=Ah({mode:"visible",children:n.children},a,0,null),o=$i(o,a,i,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&Ws(t,e.child,null,i),t.child.memoizedState=gg(i),t.memoizedState=pg,o);if(!(t.mode&1))return uf(e,t,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var s=n.dgst;return n=s,o=Error(ce(419)),n=Y0(o,n,void 0),uf(e,t,i,n)}if(s=(i&e.childLanes)!==0,Rn||s){if(n=Xr,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==o.retryLane&&(o.retryLane=a,ko(e,a),Ta(n,e,a,-1))}return Hy(),n=Y0(Error(ce(421))),uf(e,t,i,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=FA.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,ea=qo(a.nextSibling),ta=t,tr=!0,Ma=null,e!==null&&(fa[da++]=co,fa[da++]=uo,fa[da++]=Bi,co=e.id,uo=e.overflow,Bi=t),t=By(t,n.children),t.flags|=4096,t)}function ab(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),lg(e.return,t,r)}function q0(e,t,r,n,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=a)}function uj(e,t,r){var n=t.pendingProps,a=n.revealOrder,o=n.tail;if(jn(e,t,n.children,r),n=or.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ab(e,r,t);else if(e.tag===19)ab(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Wt(or,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&id(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),q0(t,!1,a,r,o);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&id(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}q0(t,!0,r,null,o);break;case"together":q0(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function If(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function So(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),zi|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ce(153));if(t.child!==null){for(e=t.child,r=ei(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ei(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function PA(e,t,r){switch(t.tag){case 3:lj(t),Us();break;case 5:RS(t);break;case 1:Bn(t.type)&&ed(t);break;case 4:Cy(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Wt(nd,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Wt(or,or.current&1),t.flags|=128,null):r&t.child.childLanes?cj(e,t,r):(Wt(or,or.current&1),e=So(e,t,r),e!==null?e.sibling:null);Wt(or,or.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return uj(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Wt(or,or.current),n)break;return null;case 22:case 23:return t.lanes=0,ij(e,t,r)}return So(e,t,r)}var fj,mg,dj,hj;fj=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};mg=function(){};dj=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Oi(Ha.current);var o=null;switch(r){case"input":a=Ip(e,a),n=Ip(e,n),o=[];break;case"select":a=sr({},a,{value:void 0}),n=sr({},n,{value:void 0}),o=[];break;case"textarea":a=zp(e,a),n=zp(e,n),o=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Qf)}Wp(r,n);var i;r=null;for(c in a)if(!n.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var s=a[c];for(i in s)s.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Nc.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in n){var l=n[c];if(s=a!=null?a[c]:void 0,n.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(i in s)!s.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in l)l.hasOwnProperty(i)&&s[i]!==l[i]&&(r||(r={}),r[i]=l[i])}else r||(o||(o=[]),o.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Nc.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Xt("scroll",e),o||s===l||(o=[])):(o=o||[]).push(c,l))}r&&(o=o||[]).push("style",r);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};hj=function(e,t,r,n){r!==n&&(t.flags|=4)};function Vl(e,t){if(!tr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function cn(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function MA(e,t,r){var n=t.pendingProps;switch(jy(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return cn(t),null;case 1:return Bn(t.type)&&Jf(),cn(t),null;case 3:return n=t.stateNode,Gs(),qt(In),qt(pn),Ty(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(lf(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ma!==null&&(jg(Ma),Ma=null))),mg(e,t),cn(t),null;case 5:Ey(t);var a=Oi(Ic.current);if(r=t.type,e!==null&&t.stateNode!=null)dj(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ce(166));return cn(t),null}if(e=Oi(Ha.current),lf(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[za]=t,n[Rc]=o,e=(t.mode&1)!==0,r){case"dialog":Xt("cancel",n),Xt("close",n);break;case"iframe":case"object":case"embed":Xt("load",n);break;case"video":case"audio":for(a=0;a<sc.length;a++)Xt(sc[a],n);break;case"source":Xt("error",n);break;case"img":case"image":case"link":Xt("error",n),Xt("load",n);break;case"details":Xt("toggle",n);break;case"input":hx(n,o),Xt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Xt("invalid",n);break;case"textarea":gx(n,o),Xt("invalid",n)}Wp(r,o),a=null;for(var i in o)if(o.hasOwnProperty(i)){var s=o[i];i==="children"?typeof s=="string"?n.textContent!==s&&(o.suppressHydrationWarning!==!0&&sf(n.textContent,s,e),a=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&sf(n.textContent,s,e),a=["children",""+s]):Nc.hasOwnProperty(i)&&s!=null&&i==="onScroll"&&Xt("scroll",n)}switch(r){case"input":Qu(n),px(n,o,!0);break;case"textarea":Qu(n),mx(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=Qf)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=zk(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[za]=t,e[Rc]=n,fj(e,t,!1,!1),t.stateNode=e;e:{switch(i=Gp(r,n),r){case"dialog":Xt("cancel",e),Xt("close",e),a=n;break;case"iframe":case"object":case"embed":Xt("load",e),a=n;break;case"video":case"audio":for(a=0;a<sc.length;a++)Xt(sc[a],e);a=n;break;case"source":Xt("error",e),a=n;break;case"img":case"image":case"link":Xt("error",e),Xt("load",e),a=n;break;case"details":Xt("toggle",e),a=n;break;case"input":hx(e,n),a=Ip(e,n),Xt("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=sr({},n,{value:void 0}),Xt("invalid",e);break;case"textarea":gx(e,n),a=zp(e,n),Xt("invalid",e);break;default:a=n}Wp(r,a),s=a;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?Gk(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Uk(e,l)):o==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Oc(e,l):typeof l=="number"&&Oc(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Nc.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Xt("scroll",e):l!=null&&cy(e,o,l,i))}switch(r){case"input":Qu(e),px(e,n,!1);break;case"textarea":Qu(e),mx(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ni(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?As(e,!!n.multiple,o,!1):n.defaultValue!=null&&As(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Qf)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return cn(t),null;case 6:if(e&&t.stateNode!=null)hj(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ce(166));if(r=Oi(Ic.current),Oi(Ha.current),lf(t)){if(n=t.stateNode,r=t.memoizedProps,n[za]=t,(o=n.nodeValue!==r)&&(e=ta,e!==null))switch(e.tag){case 3:sf(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&sf(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[za]=t,t.stateNode=n}return cn(t),null;case 13:if(qt(or),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(tr&&ea!==null&&t.mode&1&&!(t.flags&128))CS(),Us(),t.flags|=98560,o=!1;else if(o=lf(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(ce(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ce(317));o[za]=t}else Us(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;cn(t),o=!1}else Ma!==null&&(jg(Ma),Ma=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||or.current&1?Rr===0&&(Rr=3):Hy())),t.updateQueue!==null&&(t.flags|=4),cn(t),null);case 4:return Gs(),mg(e,t),e===null&&$c(t.stateNode.containerInfo),cn(t),null;case 10:return Py(t.type._context),cn(t),null;case 17:return Bn(t.type)&&Jf(),cn(t),null;case 19:if(qt(or),o=t.memoizedState,o===null)return cn(t),null;if(n=(t.flags&128)!==0,i=o.rendering,i===null)if(n)Vl(o,!1);else{if(Rr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=id(e),i!==null){for(t.flags|=128,Vl(o,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Wt(or,or.current&1|2),t.child}e=e.sibling}o.tail!==null&&wr()>Vs&&(t.flags|=128,n=!0,Vl(o,!1),t.lanes=4194304)}else{if(!n)if(e=id(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Vl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!tr)return cn(t),null}else 2*wr()-o.renderingStartTime>Vs&&r!==1073741824&&(t.flags|=128,n=!0,Vl(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(r=o.last,r!==null?r.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=wr(),t.sibling=null,r=or.current,Wt(or,n?r&1|2:r&1),t):(cn(t),null);case 22:case 23:return Gy(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Zn&1073741824&&(cn(t),t.subtreeFlags&6&&(t.flags|=8192)):cn(t),null;case 24:return null;case 25:return null}throw Error(ce(156,t.tag))}function AA(e,t){switch(jy(t),t.tag){case 1:return Bn(t.type)&&Jf(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Gs(),qt(In),qt(pn),Ty(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ey(t),null;case 13:if(qt(or),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ce(340));Us()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return qt(or),null;case 4:return Gs(),null;case 10:return Py(t.type._context),null;case 22:case 23:return Gy(),null;case 24:return null;default:return null}}var ff=!1,dn=!1,CA=typeof WeakSet=="function"?WeakSet:Set,we=null;function _s(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){pr(e,t,n)}else r.current=null}function yg(e,t,r){try{r()}catch(n){pr(e,t,n)}}var ob=!1;function EA(e,t){if(eg=Yf,e=vS(),ky(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var i=0,s=-1,l=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||a!==0&&f.nodeType!==3||(s=i+a),f!==o||n!==0&&f.nodeType!==3||(l=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++c===a&&(s=i),h===o&&++d===n&&(l=i),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=s===-1||l===-1?null:{start:s,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(tg={focusedElem:e,selectionRange:r},Yf=!1,we=t;we!==null;)if(t=we,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,we=e;else for(;we!==null;){t=we;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var v=m.memoizedProps,w=m.memoizedState,y=t.stateNode,g=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:_a(t.type,v),w);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ce(163))}}catch(S){pr(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,we=e;break}we=t.return}return m=ob,ob=!1,m}function gc(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,o!==void 0&&yg(t,r,o)}a=a.next}while(a!==n)}}function Ph(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function vg(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function pj(e){var t=e.alternate;t!==null&&(e.alternate=null,pj(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[za],delete t[Rc],delete t[ag],delete t[pA],delete t[gA])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function gj(e){return e.tag===5||e.tag===3||e.tag===4}function ib(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||gj(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function xg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Qf));else if(n!==4&&(e=e.child,e!==null))for(xg(e,t,r),e=e.sibling;e!==null;)xg(e,t,r),e=e.sibling}function bg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(bg(e,t,r),e=e.sibling;e!==null;)bg(e,t,r),e=e.sibling}var Zr=null,Na=!1;function To(e,t,r){for(r=r.child;r!==null;)mj(e,t,r),r=r.sibling}function mj(e,t,r){if(Ga&&typeof Ga.onCommitFiberUnmount=="function")try{Ga.onCommitFiberUnmount(bh,r)}catch{}switch(r.tag){case 5:dn||_s(r,t);case 6:var n=Zr,a=Na;Zr=null,To(e,t,r),Zr=n,Na=a,Zr!==null&&(Na?(e=Zr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Zr.removeChild(r.stateNode));break;case 18:Zr!==null&&(Na?(e=Zr,r=r.stateNode,e.nodeType===8?W0(e.parentNode,r):e.nodeType===1&&W0(e,r),Cc(e)):W0(Zr,r.stateNode));break;case 4:n=Zr,a=Na,Zr=r.stateNode.containerInfo,Na=!0,To(e,t,r),Zr=n,Na=a;break;case 0:case 11:case 14:case 15:if(!dn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var o=a,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&yg(r,t,i),a=a.next}while(a!==n)}To(e,t,r);break;case 1:if(!dn&&(_s(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){pr(r,t,s)}To(e,t,r);break;case 21:To(e,t,r);break;case 22:r.mode&1?(dn=(n=dn)||r.memoizedState!==null,To(e,t,r),dn=n):To(e,t,r);break;default:To(e,t,r)}}function sb(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new CA),t.forEach(function(n){var a=zA.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Sa(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var o=e,i=t,s=i;e:for(;s!==null;){switch(s.tag){case 5:Zr=s.stateNode,Na=!1;break e;case 3:Zr=s.stateNode.containerInfo,Na=!0;break e;case 4:Zr=s.stateNode.containerInfo,Na=!0;break e}s=s.return}if(Zr===null)throw Error(ce(160));mj(o,i,a),Zr=null,Na=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(c){pr(a,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)yj(t,e),t=t.sibling}function yj(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Sa(t,e),Ba(e),n&4){try{gc(3,e,e.return),Ph(3,e)}catch(v){pr(e,e.return,v)}try{gc(5,e,e.return)}catch(v){pr(e,e.return,v)}}break;case 1:Sa(t,e),Ba(e),n&512&&r!==null&&_s(r,r.return);break;case 5:if(Sa(t,e),Ba(e),n&512&&r!==null&&_s(r,r.return),e.flags&32){var a=e.stateNode;try{Oc(a,"")}catch(v){pr(e,e.return,v)}}if(n&4&&(a=e.stateNode,a!=null)){var o=e.memoizedProps,i=r!==null?r.memoizedProps:o,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&Bk(a,o),Gp(s,i);var c=Gp(s,o);for(i=0;i<l.length;i+=2){var d=l[i],f=l[i+1];d==="style"?Gk(a,f):d==="dangerouslySetInnerHTML"?Uk(a,f):d==="children"?Oc(a,f):cy(a,d,f,c)}switch(s){case"input":Bp(a,o);break;case"textarea":Fk(a,o);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?As(a,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?As(a,!!o.multiple,o.defaultValue,!0):As(a,!!o.multiple,o.multiple?[]:"",!1))}a[Rc]=o}catch(v){pr(e,e.return,v)}}break;case 6:if(Sa(t,e),Ba(e),n&4){if(e.stateNode===null)throw Error(ce(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(v){pr(e,e.return,v)}}break;case 3:if(Sa(t,e),Ba(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Cc(t.containerInfo)}catch(v){pr(e,e.return,v)}break;case 4:Sa(t,e),Ba(e);break;case 13:Sa(t,e),Ba(e),a=e.child,a.flags&8192&&(o=a.memoizedState!==null,a.stateNode.isHidden=o,!o||a.alternate!==null&&a.alternate.memoizedState!==null||(Uy=wr())),n&4&&sb(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(dn=(c=dn)||d,Sa(t,e),dn=c):Sa(t,e),Ba(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(we=e,d=e.child;d!==null;){for(f=we=d;we!==null;){switch(h=we,p=h.child,h.tag){case 0:case 11:case 14:case 15:gc(4,h,h.return);break;case 1:_s(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(v){pr(n,r,v)}}break;case 5:_s(h,h.return);break;case 22:if(h.memoizedState!==null){cb(f);continue}}p!==null?(p.return=h,we=p):cb(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,c?(o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=f.stateNode,l=f.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=Wk("display",i))}catch(v){pr(e,e.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(v){pr(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Sa(t,e),Ba(e),n&4&&sb(e);break;case 21:break;default:Sa(t,e),Ba(e)}}function Ba(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(gj(r)){var n=r;break e}r=r.return}throw Error(ce(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Oc(a,""),n.flags&=-33);var o=ib(e);bg(e,o,a);break;case 3:case 4:var i=n.stateNode.containerInfo,s=ib(e);xg(e,s,i);break;default:throw Error(ce(161))}}catch(l){pr(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function TA(e,t,r){we=e,vj(e)}function vj(e,t,r){for(var n=(e.mode&1)!==0;we!==null;){var a=we,o=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||ff;if(!i){var s=a.alternate,l=s!==null&&s.memoizedState!==null||dn;s=ff;var c=dn;if(ff=i,(dn=l)&&!c)for(we=a;we!==null;)i=we,l=i.child,i.tag===22&&i.memoizedState!==null?ub(a):l!==null?(l.return=i,we=l):ub(a);for(;o!==null;)we=o,vj(o),o=o.sibling;we=a,ff=s,dn=c}lb(e)}else a.subtreeFlags&8772&&o!==null?(o.return=a,we=o):lb(e)}}function lb(e){for(;we!==null;){var t=we;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:dn||Ph(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!dn)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:_a(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Vx(t,o,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Vx(t,i,r)}break;case 5:var s=t.stateNode;if(r===null&&t.flags&4){r=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Cc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ce(163))}dn||t.flags&512&&vg(t)}catch(h){pr(t,t.return,h)}}if(t===e){we=null;break}if(r=t.sibling,r!==null){r.return=t.return,we=r;break}we=t.return}}function cb(e){for(;we!==null;){var t=we;if(t===e){we=null;break}var r=t.sibling;if(r!==null){r.return=t.return,we=r;break}we=t.return}}function ub(e){for(;we!==null;){var t=we;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ph(4,t)}catch(l){pr(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(l){pr(t,a,l)}}var o=t.return;try{vg(t)}catch(l){pr(t,o,l)}break;case 5:var i=t.return;try{vg(t)}catch(l){pr(t,i,l)}}}catch(l){pr(t,t.return,l)}if(t===e){we=null;break}var s=t.sibling;if(s!==null){s.return=t.return,we=s;break}we=t.return}}var $A=Math.ceil,cd=Oo.ReactCurrentDispatcher,Fy=Oo.ReactCurrentOwner,ma=Oo.ReactCurrentBatchConfig,ft=0,Xr=null,Nr=null,en=0,Zn=0,Ns=ii(0),Rr=0,Uc=null,zi=0,Mh=0,zy=0,mc=null,Dn=null,Uy=0,Vs=1/0,so=null,ud=!1,wg=null,Qo=null,df=!1,Uo=null,fd=0,yc=0,kg=null,Bf=-1,Ff=0;function Nn(){return ft&6?wr():Bf!==-1?Bf:Bf=wr()}function Jo(e){return e.mode&1?ft&2&&en!==0?en&-en:yA.transition!==null?(Ff===0&&(Ff=rS()),Ff):(e=Pt,e!==0||(e=window.event,e=e===void 0?16:cS(e.type)),e):1}function Ta(e,t,r,n){if(50<yc)throw yc=0,kg=null,Error(ce(185));Ou(e,r,n),(!(ft&2)||e!==Xr)&&(e===Xr&&(!(ft&2)&&(Mh|=r),Rr===4&&Bo(e,en)),Fn(e,n),r===1&&ft===0&&!(t.mode&1)&&(Vs=wr()+500,_h&&si()))}function Fn(e,t){var r=e.callbackNode;yM(e,t);var n=Kf(e,e===Xr?en:0);if(n===0)r!==null&&xx(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&xx(r),t===1)e.tag===0?mA(fb.bind(null,e)):PS(fb.bind(null,e)),dA(function(){!(ft&6)&&si()}),r=null;else{switch(nS(n)){case 1:r=py;break;case 4:r=eS;break;case 16:r=Xf;break;case 536870912:r=tS;break;default:r=Xf}r=Nj(r,xj.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function xj(e,t){if(Bf=-1,Ff=0,ft&6)throw Error(ce(327));var r=e.callbackNode;if(Ds()&&e.callbackNode!==r)return null;var n=Kf(e,e===Xr?en:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=dd(e,n);else{t=n;var a=ft;ft|=2;var o=wj();(Xr!==e||en!==t)&&(so=null,Vs=wr()+500,Ti(e,t));do try{LA();break}catch(s){bj(e,s)}while(!0);Oy(),cd.current=o,ft=a,Nr!==null?t=0:(Xr=null,en=0,t=Rr)}if(t!==0){if(t===2&&(a=Yp(e),a!==0&&(n=a,t=Sg(e,a))),t===1)throw r=Uc,Ti(e,0),Bo(e,n),Fn(e,wr()),r;if(t===6)Bo(e,n);else{if(a=e.current.alternate,!(n&30)&&!DA(a)&&(t=dd(e,n),t===2&&(o=Yp(e),o!==0&&(n=o,t=Sg(e,o))),t===1))throw r=Uc,Ti(e,0),Bo(e,n),Fn(e,wr()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(ce(345));case 2:wi(e,Dn,so);break;case 3:if(Bo(e,n),(n&130023424)===n&&(t=Uy+500-wr(),10<t)){if(Kf(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Nn(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ng(wi.bind(null,e,Dn,so),t);break}wi(e,Dn,so);break;case 4:if(Bo(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var i=31-Ea(n);o=1<<i,i=t[i],i>a&&(a=i),n&=~o}if(n=a,n=wr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*$A(n/1960))-n,10<n){e.timeoutHandle=ng(wi.bind(null,e,Dn,so),n);break}wi(e,Dn,so);break;case 5:wi(e,Dn,so);break;default:throw Error(ce(329))}}}return Fn(e,wr()),e.callbackNode===r?xj.bind(null,e):null}function Sg(e,t){var r=mc;return e.current.memoizedState.isDehydrated&&(Ti(e,t).flags|=256),e=dd(e,t),e!==2&&(t=Dn,Dn=r,t!==null&&jg(t)),e}function jg(e){Dn===null?Dn=e:Dn.push.apply(Dn,e)}function DA(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],o=a.getSnapshot;a=a.value;try{if(!$a(o(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Bo(e,t){for(t&=~zy,t&=~Mh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ea(t),n=1<<r;e[r]=-1,t&=~n}}function fb(e){if(ft&6)throw Error(ce(327));Ds();var t=Kf(e,0);if(!(t&1))return Fn(e,wr()),null;var r=dd(e,t);if(e.tag!==0&&r===2){var n=Yp(e);n!==0&&(t=n,r=Sg(e,n))}if(r===1)throw r=Uc,Ti(e,0),Bo(e,t),Fn(e,wr()),r;if(r===6)throw Error(ce(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wi(e,Dn,so),Fn(e,wr()),null}function Wy(e,t){var r=ft;ft|=1;try{return e(t)}finally{ft=r,ft===0&&(Vs=wr()+500,_h&&si())}}function Ui(e){Uo!==null&&Uo.tag===0&&!(ft&6)&&Ds();var t=ft;ft|=1;var r=ma.transition,n=Pt;try{if(ma.transition=null,Pt=1,e)return e()}finally{Pt=n,ma.transition=r,ft=t,!(ft&6)&&si()}}function Gy(){Zn=Ns.current,qt(Ns)}function Ti(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,fA(r)),Nr!==null)for(r=Nr.return;r!==null;){var n=r;switch(jy(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Jf();break;case 3:Gs(),qt(In),qt(pn),Ty();break;case 5:Ey(n);break;case 4:Gs();break;case 13:qt(or);break;case 19:qt(or);break;case 10:Py(n.type._context);break;case 22:case 23:Gy()}r=r.return}if(Xr=e,Nr=e=ei(e.current,null),en=Zn=t,Rr=0,Uc=null,zy=Mh=zi=0,Dn=mc=null,Ni!==null){for(t=0;t<Ni.length;t++)if(r=Ni[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,o=r.pending;if(o!==null){var i=o.next;o.next=a,n.next=i}r.pending=n}Ni=null}return e}function bj(e,t){do{var r=Nr;try{if(Oy(),Rf.current=ld,sd){for(var n=ir.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}sd=!1}if(Fi=0,Hr=Dr=ir=null,pc=!1,Bc=0,Fy.current=null,r===null||r.return===null){Rr=1,Uc=t,Nr=null;break}e:{var o=e,i=r.return,s=r,l=t;if(t=en,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=s,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Qx(i);if(p!==null){p.flags&=-257,Jx(p,i,s,o,t),p.mode&1&&Zx(o,c,t),t=p,l=c;var m=t.updateQueue;if(m===null){var v=new Set;v.add(l),t.updateQueue=v}else m.add(l);break e}else{if(!(t&1)){Zx(o,c,t),Hy();break e}l=Error(ce(426))}}else if(tr&&s.mode&1){var w=Qx(i);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Jx(w,i,s,o,t),_y(Hs(l,s));break e}}o=l=Hs(l,s),Rr!==4&&(Rr=2),mc===null?mc=[o]:mc.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var y=nj(o,l,t);Hx(o,y);break e;case 1:s=l;var g=o.type,x=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Qo===null||!Qo.has(x)))){o.flags|=65536,t&=-t,o.lanes|=t;var S=aj(o,s,t);Hx(o,S);break e}}o=o.return}while(o!==null)}Sj(r)}catch(k){t=k,Nr===r&&r!==null&&(Nr=r=r.return);continue}break}while(!0)}function wj(){var e=cd.current;return cd.current=ld,e===null?ld:e}function Hy(){(Rr===0||Rr===3||Rr===2)&&(Rr=4),Xr===null||!(zi&268435455)&&!(Mh&268435455)||Bo(Xr,en)}function dd(e,t){var r=ft;ft|=2;var n=wj();(Xr!==e||en!==t)&&(so=null,Ti(e,t));do try{RA();break}catch(a){bj(e,a)}while(!0);if(Oy(),ft=r,cd.current=n,Nr!==null)throw Error(ce(261));return Xr=null,en=0,Rr}function RA(){for(;Nr!==null;)kj(Nr)}function LA(){for(;Nr!==null&&!lM();)kj(Nr)}function kj(e){var t=_j(e.alternate,e,Zn);e.memoizedProps=e.pendingProps,t===null?Sj(e):Nr=t,Fy.current=null}function Sj(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=AA(r,t),r!==null){r.flags&=32767,Nr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Rr=6,Nr=null;return}}else if(r=MA(r,t,Zn),r!==null){Nr=r;return}if(t=t.sibling,t!==null){Nr=t;return}Nr=t=e}while(t!==null);Rr===0&&(Rr=5)}function wi(e,t,r){var n=Pt,a=ma.transition;try{ma.transition=null,Pt=1,IA(e,t,r,n)}finally{ma.transition=a,Pt=n}return null}function IA(e,t,r,n){do Ds();while(Uo!==null);if(ft&6)throw Error(ce(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ce(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(vM(e,o),e===Xr&&(Nr=Xr=null,en=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||df||(df=!0,Nj(Xf,function(){return Ds(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=ma.transition,ma.transition=null;var i=Pt;Pt=1;var s=ft;ft|=4,Fy.current=null,EA(e,r),yj(r,e),aA(tg),Yf=!!eg,tg=eg=null,e.current=r,TA(r),cM(),ft=s,Pt=i,ma.transition=o}else e.current=r;if(df&&(df=!1,Uo=e,fd=a),o=e.pendingLanes,o===0&&(Qo=null),dM(r.stateNode),Fn(e,wr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(ud)throw ud=!1,e=wg,wg=null,e;return fd&1&&e.tag!==0&&Ds(),o=e.pendingLanes,o&1?e===kg?yc++:(yc=0,kg=e):yc=0,si(),null}function Ds(){if(Uo!==null){var e=nS(fd),t=ma.transition,r=Pt;try{if(ma.transition=null,Pt=16>e?16:e,Uo===null)var n=!1;else{if(e=Uo,Uo=null,fd=0,ft&6)throw Error(ce(331));var a=ft;for(ft|=4,we=e.current;we!==null;){var o=we,i=o.child;if(we.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(we=c;we!==null;){var d=we;switch(d.tag){case 0:case 11:case 15:gc(8,d,o)}var f=d.child;if(f!==null)f.return=d,we=f;else for(;we!==null;){d=we;var h=d.sibling,p=d.return;if(pj(d),d===c){we=null;break}if(h!==null){h.return=p,we=h;break}we=p}}}var m=o.alternate;if(m!==null){var v=m.child;if(v!==null){m.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}we=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,we=i;else e:for(;we!==null;){if(o=we,o.flags&2048)switch(o.tag){case 0:case 11:case 15:gc(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,we=y;break e}we=o.return}}var g=e.current;for(we=g;we!==null;){i=we;var x=i.child;if(i.subtreeFlags&2064&&x!==null)x.return=i,we=x;else e:for(i=g;we!==null;){if(s=we,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Ph(9,s)}}catch(k){pr(s,s.return,k)}if(s===i){we=null;break e}var S=s.sibling;if(S!==null){S.return=s.return,we=S;break e}we=s.return}}if(ft=a,si(),Ga&&typeof Ga.onPostCommitFiberRoot=="function")try{Ga.onPostCommitFiberRoot(bh,e)}catch{}n=!0}return n}finally{Pt=r,ma.transition=t}}return!1}function db(e,t,r){t=Hs(r,t),t=nj(e,t,1),e=Zo(e,t,1),t=Nn(),e!==null&&(Ou(e,1,t),Fn(e,t))}function pr(e,t,r){if(e.tag===3)db(e,e,r);else for(;t!==null;){if(t.tag===3){db(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Qo===null||!Qo.has(n))){e=Hs(r,e),e=aj(t,e,1),t=Zo(t,e,1),e=Nn(),t!==null&&(Ou(t,1,e),Fn(t,e));break}}t=t.return}}function BA(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Nn(),e.pingedLanes|=e.suspendedLanes&r,Xr===e&&(en&r)===r&&(Rr===4||Rr===3&&(en&130023424)===en&&500>wr()-Uy?Ti(e,0):zy|=r),Fn(e,t)}function jj(e,t){t===0&&(e.mode&1?(t=tf,tf<<=1,!(tf&130023424)&&(tf=4194304)):t=1);var r=Nn();e=ko(e,t),e!==null&&(Ou(e,t,r),Fn(e,r))}function FA(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),jj(e,r)}function zA(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ce(314))}n!==null&&n.delete(t),jj(e,r)}var _j;_j=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||In.current)Rn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Rn=!1,PA(e,t,r);Rn=!!(e.flags&131072)}else Rn=!1,tr&&t.flags&1048576&&MS(t,rd,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;If(e,t),e=t.pendingProps;var a=zs(t,pn.current);$s(t,r),a=Dy(null,t,n,e,a,r);var o=Ry();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Bn(n)?(o=!0,ed(t)):o=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Ay(t),a.updater=Oh,t.stateNode=a,a._reactInternals=t,ug(t,n,e,r),t=hg(null,t,n,!0,o,r)):(t.tag=0,tr&&o&&Sy(t),jn(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(If(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=WA(n),e=_a(n,e),a){case 0:t=dg(null,t,n,e,r);break e;case 1:t=rb(null,t,n,e,r);break e;case 11:t=eb(null,t,n,e,r);break e;case 14:t=tb(null,t,n,_a(n.type,e),r);break e}throw Error(ce(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:_a(n,a),dg(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:_a(n,a),rb(e,t,n,a,r);case 3:e:{if(lj(t),e===null)throw Error(ce(387));n=t.pendingProps,o=t.memoizedState,a=o.element,DS(e,t),od(t,n,null,r);var i=t.memoizedState;if(n=i.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){a=Hs(Error(ce(423)),t),t=nb(e,t,n,r,a);break e}else if(n!==a){a=Hs(Error(ce(424)),t),t=nb(e,t,n,r,a);break e}else for(ea=qo(t.stateNode.containerInfo.firstChild),ta=t,tr=!0,Ma=null,r=TS(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Us(),n===a){t=So(e,t,r);break e}jn(e,t,n,r)}t=t.child}return t;case 5:return RS(t),e===null&&sg(t),n=t.type,a=t.pendingProps,o=e!==null?e.memoizedProps:null,i=a.children,rg(n,a)?i=null:o!==null&&rg(n,o)&&(t.flags|=32),sj(e,t),jn(e,t,i,r),t.child;case 6:return e===null&&sg(t),null;case 13:return cj(e,t,r);case 4:return Cy(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ws(t,null,n,r):jn(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:_a(n,a),eb(e,t,n,a,r);case 7:return jn(e,t,t.pendingProps,r),t.child;case 8:return jn(e,t,t.pendingProps.children,r),t.child;case 12:return jn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,o=t.memoizedProps,i=a.value,Wt(nd,n._currentValue),n._currentValue=i,o!==null)if($a(o.value,i)){if(o.children===a.children&&!In.current){t=So(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var s=o.dependencies;if(s!==null){i=o.child;for(var l=s.firstContext;l!==null;){if(l.context===n){if(o.tag===1){l=go(-1,r&-r),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),lg(o.return,r,t),s.lanes|=r;break}l=l.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(ce(341));i.lanes|=r,s=i.alternate,s!==null&&(s.lanes|=r),lg(i,r,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}jn(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,$s(t,r),a=va(a),n=n(a),t.flags|=1,jn(e,t,n,r),t.child;case 14:return n=t.type,a=_a(n,t.pendingProps),a=_a(n.type,a),tb(e,t,n,a,r);case 15:return oj(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:_a(n,a),If(e,t),t.tag=1,Bn(n)?(e=!0,ed(t)):e=!1,$s(t,r),rj(t,n,a),ug(t,n,a,r),hg(null,t,n,!0,e,r);case 19:return uj(e,t,r);case 22:return ij(e,t,r)}throw Error(ce(156,t.tag))};function Nj(e,t){return Jk(e,t)}function UA(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ha(e,t,r,n){return new UA(e,t,r,n)}function Vy(e){return e=e.prototype,!(!e||!e.isReactComponent)}function WA(e){if(typeof e=="function")return Vy(e)?1:0;if(e!=null){if(e=e.$$typeof,e===fy)return 11;if(e===dy)return 14}return 2}function ei(e,t){var r=e.alternate;return r===null?(r=ha(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function zf(e,t,r,n,a,o){var i=2;if(n=e,typeof e=="function")Vy(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case ms:return $i(r.children,a,o,t);case uy:i=8,a|=8;break;case $p:return e=ha(12,r,t,a|2),e.elementType=$p,e.lanes=o,e;case Dp:return e=ha(13,r,t,a),e.elementType=Dp,e.lanes=o,e;case Rp:return e=ha(19,r,t,a),e.elementType=Rp,e.lanes=o,e;case Rk:return Ah(r,a,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $k:i=10;break e;case Dk:i=9;break e;case fy:i=11;break e;case dy:i=14;break e;case Do:i=16,n=null;break e}throw Error(ce(130,e==null?e:typeof e,""))}return t=ha(i,r,t,a),t.elementType=e,t.type=n,t.lanes=o,t}function $i(e,t,r,n){return e=ha(7,e,n,t),e.lanes=r,e}function Ah(e,t,r,n){return e=ha(22,e,n,t),e.elementType=Rk,e.lanes=r,e.stateNode={isHidden:!1},e}function Z0(e,t,r){return e=ha(6,e,null,t),e.lanes=r,e}function Q0(e,t,r){return t=ha(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function GA(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=E0(0),this.expirationTimes=E0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=E0(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Xy(e,t,r,n,a,o,i,s,l){return e=new GA(e,t,r,s,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=ha(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ay(o),e}function HA(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:gs,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Oj(e){if(!e)return ai;e=e._reactInternals;e:{if(Zi(e)!==e||e.tag!==1)throw Error(ce(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Bn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ce(171))}if(e.tag===1){var r=e.type;if(Bn(r))return OS(e,r,t)}return t}function Pj(e,t,r,n,a,o,i,s,l){return e=Xy(r,n,!0,e,a,o,i,s,l),e.context=Oj(null),r=e.current,n=Nn(),a=Jo(r),o=go(n,a),o.callback=t??null,Zo(r,o,a),e.current.lanes=a,Ou(e,a,n),Fn(e,n),e}function Ch(e,t,r,n){var a=t.current,o=Nn(),i=Jo(a);return r=Oj(r),t.context===null?t.context=r:t.pendingContext=r,t=go(o,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Zo(a,t,i),e!==null&&(Ta(e,a,i,o),Df(e,a,i)),i}function hd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function hb(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Ky(e,t){hb(e,t),(e=e.alternate)&&hb(e,t)}function VA(){return null}var Mj=typeof reportError=="function"?reportError:function(e){console.error(e)};function Yy(e){this._internalRoot=e}Eh.prototype.render=Yy.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ce(409));Ch(e,t,null,null)};Eh.prototype.unmount=Yy.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ui(function(){Ch(null,e,null,null)}),t[wo]=null}};function Eh(e){this._internalRoot=e}Eh.prototype.unstable_scheduleHydration=function(e){if(e){var t=iS();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Io.length&&t!==0&&t<Io[r].priority;r++);Io.splice(r,0,e),r===0&&lS(e)}};function qy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Th(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function pb(){}function XA(e,t,r,n,a){if(a){if(typeof n=="function"){var o=n;n=function(){var c=hd(i);o.call(c)}}var i=Pj(t,n,e,0,null,!1,!1,"",pb);return e._reactRootContainer=i,e[wo]=i.current,$c(e.nodeType===8?e.parentNode:e),Ui(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var s=n;n=function(){var c=hd(l);s.call(c)}}var l=Xy(e,0,!1,null,null,!1,!1,"",pb);return e._reactRootContainer=l,e[wo]=l.current,$c(e.nodeType===8?e.parentNode:e),Ui(function(){Ch(t,l,r,n)}),l}function $h(e,t,r,n,a){var o=r._reactRootContainer;if(o){var i=o;if(typeof a=="function"){var s=a;a=function(){var l=hd(i);s.call(l)}}Ch(t,i,e,a)}else i=XA(r,t,e,a,n);return hd(i)}aS=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ic(t.pendingLanes);r!==0&&(gy(t,r|1),Fn(t,wr()),!(ft&6)&&(Vs=wr()+500,si()))}break;case 13:Ui(function(){var n=ko(e,1);if(n!==null){var a=Nn();Ta(n,e,1,a)}}),Ky(e,1)}};my=function(e){if(e.tag===13){var t=ko(e,134217728);if(t!==null){var r=Nn();Ta(t,e,134217728,r)}Ky(e,134217728)}};oS=function(e){if(e.tag===13){var t=Jo(e),r=ko(e,t);if(r!==null){var n=Nn();Ta(r,e,t,n)}Ky(e,t)}};iS=function(){return Pt};sS=function(e,t){var r=Pt;try{return Pt=e,t()}finally{Pt=r}};Vp=function(e,t,r){switch(t){case"input":if(Bp(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=jh(n);if(!a)throw Error(ce(90));Ik(n),Bp(n,a)}}}break;case"textarea":Fk(e,r);break;case"select":t=r.value,t!=null&&As(e,!!r.multiple,t,!1)}};Xk=Wy;Kk=Ui;var KA={usingClientEntryPoint:!1,Events:[Mu,bs,jh,Hk,Vk,Wy]},Xl={findFiberByHostInstance:_i,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},YA={bundleType:Xl.bundleType,version:Xl.version,rendererPackageName:Xl.rendererPackageName,rendererConfig:Xl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Oo.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Zk(e),e===null?null:e.stateNode},findFiberByHostInstance:Xl.findFiberByHostInstance||VA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hf.isDisabled&&hf.supportsFiber)try{bh=hf.inject(YA),Ga=hf}catch{}}na.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KA;na.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qy(t))throw Error(ce(200));return HA(e,t,null,r)};na.createRoot=function(e,t){if(!qy(e))throw Error(ce(299));var r=!1,n="",a=Mj;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Xy(e,1,!1,null,null,r,!1,n,a),e[wo]=t.current,$c(e.nodeType===8?e.parentNode:e),new Yy(t)};na.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ce(188)):(e=Object.keys(e).join(","),Error(ce(268,e)));return e=Zk(t),e=e===null?null:e.stateNode,e};na.flushSync=function(e){return Ui(e)};na.hydrate=function(e,t,r){if(!Th(t))throw Error(ce(200));return $h(null,e,t,!0,r)};na.hydrateRoot=function(e,t,r){if(!qy(e))throw Error(ce(405));var n=r!=null&&r.hydratedSources||null,a=!1,o="",i=Mj;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=Pj(t,null,e,1,r??null,a,!1,o,i),e[wo]=t.current,$c(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Eh(t)};na.render=function(e,t,r){if(!Th(t))throw Error(ce(200));return $h(null,e,t,!1,r)};na.unmountComponentAtNode=function(e){if(!Th(e))throw Error(ce(40));return e._reactRootContainer?(Ui(function(){$h(null,null,e,!1,function(){e._reactRootContainer=null,e[wo]=null})}),!0):!1};na.unstable_batchedUpdates=Wy;na.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Th(r))throw Error(ce(200));if(e==null||e._reactInternals===void 0)throw Error(ce(38));return $h(e,t,r,!1,n)};na.version="18.3.1-next-f1338f8080-20240426";function Aj(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Aj)}catch(e){console.error(e)}}Aj(),Ak.exports=na;var qA=Ak.exports,gb=qA;Ep.createRoot=gb.createRoot,Ep.hydrateRoot=gb.hydrateRoot;const ti=({isOpen:e,onClose:t,onConfirm:r,title:n,message:a,confirmText:o="I know the risk and insist to continue",cancelText:i="Cancel"})=>e?u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:u.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-md rounded-2xl shadow-2xl border border-amber-500/30 overflow-hidden transform transition-all scale-100",children:[u.jsxs("div",{className:"bg-amber-500/10 p-6 flex flex-col items-center justify-center border-b border-amber-500/20",children:[u.jsx("div",{className:"w-16 h-16 bg-amber-100 dark:bg-amber-900/30 rounded-full flex items-center justify-center mb-4",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-amber-600 dark:text-amber-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),u.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white text-center",children:n})]}),u.jsx("div",{className:"p-6",children:u.jsx("div",{className:"text-gray-600 dark:text-slate-300 text-center text-sm leading-relaxed",children:a})}),u.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-800/50 flex gap-3 justify-end border-t border-gray-200 dark:border-slate-800",children:[u.jsx("button",{onClick:t,className:"px-4 py-2 bg-white hover:bg-gray-100 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-700 dark:text-slate-200 font-semibold rounded-lg border border-gray-300 dark:border-slate-600 transition-colors text-sm",children:i}),u.jsx("button",{onClick:r,className:"px-4 py-2 bg-amber-600 hover:bg-amber-700 text-white font-bold rounded-lg shadow-lg shadow-amber-500/20 transition-all active:scale-95 text-sm",children:o})]})]})}):null,ZA=({onFileSelected:e,onGenerateFakeDng:t,fileName:r,hasGeneratedData:n,viewMode:a,onSetViewMode:o,patternPeriod:i,onPatternPeriodChange:s,fillFactor:l,onFillFactorChange:c,patternPhase:d,onPatternPhaseChange:f,showPatternControls:h,onOpenAbout:p,onShowExif:m,bridgeStatus:v,onBridgeClick:w,isDrLabOpen:y,onToggleDrLab:g,isColorLabOpen:x,onToggleColorLab:S,isFftLabOpen:k,onToggleFftLab:b,isSfrLabOpen:_,onToggleSfrLab:N,onGenerateTestPic:O,onPTCFilesSelected:P,onDownloadDng:A,isThreePlane:C,onOpenDatabase:T})=>{const F=j.useRef(null),D=j.useRef(null),[U,M]=j.useState(!1),[E,R]=j.useState(!1),[G,Q]=j.useState(!1),[X,L]=j.useState(!1),[ee,Z]=j.useState("direct"),$=j.useRef(null),ae=j.useRef(null);j.useEffect(()=>{const he=pe=>{$.current&&!$.current.contains(pe.target)&&Q(!1),ae.current&&!ae.current.contains(pe.target)&&L(!1)};return document.addEventListener("mousedown",he),()=>document.removeEventListener("mousedown",he)},[]);const ue=he=>{var pe;Q(!1),he==="direct"?(Z("direct"),M(!0)):!v.isConnected||!v.hasDngConverter?R(!0):(Z("convert"),(pe=F.current)==null||pe.click())},Y=()=>{var he;M(!1),(he=F.current)==null||he.click()},se=he=>{var oe;const pe=(oe=he.target.files)==null?void 0:oe[0];pe&&e(pe,ee),he.target.value=""},ge=he=>{he.target.files&&he.target.files.length>0&&P(he.target.files),he.target.value=""},K=r==="pattern_test.dng"||(r==null?void 0:r.startsWith("Diff_"));return u.jsxs("header",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 mb-4 flex-shrink-0 relative z-50 font-mono",children:[u.jsx(ti,{isOpen:U,onClose:()=>M(!1),onConfirm:Y,title:"Format Compatibility Warning",confirmText:"Continue",message:u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsx("p",{className:"font-bold text-gray-800 dark:text-gray-200 text-base",children:"Adobe DNG ConverterDNG"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Only 4-channel DNG files output by Adobe DNG Converter are fully guaranteed to be supported."}),u.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 border border-gray-400 dark:border-slate-600",children:[u.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-500 mb-1",children:"Download Adobe DNG Converter:"}),u.jsx("a",{href:"https://helpx.adobe.com/camera-raw/using/adobe-dng-converter.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline text-xs break-all",children:"https://helpx.adobe.com/camera-raw/using/adobe-dng-converter.html"})]})]})}),u.jsx(ti,{isOpen:E,onClose:()=>R(!1),onConfirm:()=>R(!1),title:"DNG Converter Missing",confirmText:"OK",cancelText:"Cancel",message:u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsx("p",{className:"font-bold text-red-600 dark:text-red-400 text-base",children:"JiangBridge Offline or Adobe DNG Converter not installed (you may have to restart your device after installing ADC to use it here)"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"To use the conversion feature, you must run JiangBridge locally and have Adobe DNG Converter installed on your system."}),u.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 border border-gray-400 dark:border-slate-600",children:[u.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-500 mb-1",children:"Download Adobe DNG Converter:"}),u.jsx("a",{href:"https://helpx.adobe.com/camera-raw/using/adobe-dng-converter.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline text-xs break-all",children:"https://helpx.adobe.com/camera-raw/using/adobe-dng-converter.html"})]})]})}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-black dark:text-white text-center sm:text-left tracking-tight border-2 border-black dark:border-white px-2 py-1 bg-white dark:bg-black",children:"Jiangtherapee_Online"}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400 hidden lg:block max-w-xs truncate font-bold",title:r||"No image loaded",children:r||"No_Image_Loaded"}),C&&u.jsx("span",{className:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400 border-2 border-red-500 dark:border-red-800 text-[10px] font-bold px-2 py-1 animate-pulse",children:" 3-PLANE / RGB MODE"})]}),u.jsxs("div",{className:"flex items-center gap-4 flex-wrap justify-end",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("button",{onClick:v.isConnected?void 0:w,className:`px-3 py-1.5 text-xs font-bold transition-all duration-200 flex items-center gap-1.5 shadow-[2px_2px_0px_black] border-2 border-black dark:border-gray-500 ${v.isConnected?"bg-emerald-100 text-emerald-900 border-emerald-800 dark:bg-emerald-900/30 dark:text-emerald-400 dark:border-emerald-600 cursor-default":"bg-pink-100 text-pink-900 border-pink-800 dark:bg-pink-900/30 dark:text-pink-400 dark:border-pink-600 hover:bg-pink-200 dark:hover:bg-pink-900/50 cursor-pointer animate-pulse"}`,title:v.isConnected?"Local Bridge Service Connected":"Click to download Jiangbridge",children:[u.jsx("span",{className:`w-2 h-2 ${v.isConnected?"bg-emerald-600":"bg-pink-600"}`}),v.isConnected?`JiangBridge Ready ${v.hasDngConverter?"DNG+":""}`:"JiangBridge Offline"]}),y&&u.jsxs("button",{onClick:g,className:"px-3 py-1.5 text-xs font-bold transition-all duration-200 flex items-center gap-1.5 shadow-[2px_2px_0px_black] border-2 border-indigo-800 bg-indigo-100 text-indigo-900 dark:bg-indigo-900/30 dark:text-indigo-400 dark:border-indigo-600 hover:bg-indigo-200 dark:hover:bg-indigo-900/50 cursor-pointer animate-in fade-in",title:"Click to turn off DR Lab",children:[u.jsx("span",{className:"w-2 h-2 bg-indigo-600 animate-pulse"}),"DR Lab On"]}),x&&u.jsxs("button",{onClick:S,className:"px-3 py-1.5 text-xs font-bold transition-all duration-200 flex items-center gap-1.5 shadow-[2px_2px_0px_black] border-2 border-yellow-800 bg-yellow-100 text-yellow-900 dark:bg-yellow-900/30 dark:text-yellow-400 dark:border-yellow-600 hover:bg-yellow-200 dark:hover:bg-yellow-900/50 cursor-pointer animate-in fade-in",title:"Click to turn off Color Lab",children:[u.jsx("span",{className:"w-2 h-2 bg-yellow-500 animate-pulse"}),"Color Lab On"]}),k&&u.jsxs("button",{onClick:b,className:"px-3 py-1.5 text-xs font-bold transition-all duration-200 flex items-center gap-1.5 shadow-[2px_2px_0px_black] border-2 border-fuchsia-800 bg-fuchsia-100 text-fuchsia-900 dark:bg-fuchsia-900/30 dark:text-fuchsia-400 dark:border-fuchsia-600 hover:bg-fuchsia-200 dark:hover:bg-fuchsia-900/50 cursor-pointer animate-in fade-in",title:"Click to turn off FFT Lab",children:[u.jsx("span",{className:"w-2 h-2 bg-fuchsia-600 animate-pulse"}),"FFT Lab On"]}),_&&u.jsxs("button",{onClick:N,className:"px-3 py-1.5 text-xs font-bold transition-all duration-200 flex items-center gap-1.5 shadow-[2px_2px_0px_black] border-2 border-orange-800 bg-orange-100 text-orange-900 dark:bg-orange-900/30 dark:text-orange-400 dark:border-orange-600 hover:bg-orange-200 dark:hover:bg-orange-900/50 cursor-pointer animate-in fade-in",title:"Click to turn off SFR Lab",children:[u.jsx("span",{className:"w-2 h-2 bg-orange-600 animate-pulse"}),"SFR Lab On"]}),n&&u.jsxs("div",{className:"flex bg-gray-200 dark:bg-slate-800 p-1 border-2 border-black dark:border-gray-500 shadow-inner transition-colors duration-300 gap-1",children:[u.jsx("button",{onClick:()=>o("reference"),className:`px-3 py-1.5 text-xs sm:text-sm font-bold transition-all duration-200 border-2 ${a==="reference"?"bg-green-600 text-white border-black":"bg-gray-100 text-black border-transparent hover:bg-gray-300"}`,title:"The perfect uniform input",children:"Perfect"}),u.jsx("button",{onClick:()=>o("sampled"),className:`px-3 py-1.5 text-xs sm:text-sm font-bold transition-all duration-200 border-2 ${a==="sampled"?"bg-blue-600 text-white border-black":"bg-gray-100 text-black border-transparent hover:bg-gray-300"}`,title:"Sampled Sensor View with Aperture Visualization",children:"Sampled (Sensor)"}),u.jsx("button",{onClick:()=>o("processed"),className:`px-3 py-1.5 text-xs sm:text-sm font-bold transition-all duration-200 border-2 ${a==="processed"?"bg-purple-600 text-white border-black":"bg-gray-100 text-black border-transparent hover:bg-gray-300"}`,title:"Demosaiced Result",children:"Result"})]})]}),K&&u.jsxs("div",{className:"flex items-center gap-2 animate-in fade-in slide-in-from-right-4 duration-300",children:[h&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex flex-col items-end mr-1 bg-gray-100 dark:bg-slate-800/50 p-1.5 border border-gray-400 dark:border-slate-600 transition-colors duration-300",children:[u.jsx("span",{className:"text-[10px] text-gray-600 dark:text-slate-400 font-mono uppercase tracking-wider mb-1",children:"Density (Period)"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"range",min:"0.1",max:"10",step:"0.1",value:i,onChange:he=>s(parseFloat(he.target.value)),className:"w-20 h-2 bg-gray-300 dark:bg-slate-700 appearance-none cursor-pointer accent-purple-500 border border-black",title:"Adjust the period of the line pairs in pixels"}),u.jsx("div",{className:"relative",children:u.jsx("input",{type:"number",min:"0.1",max:"100",step:"0.01",value:i,onChange:he=>{const pe=parseFloat(he.target.value);isNaN(pe)||s(pe)},className:"w-16 bg-white dark:bg-slate-900 border border-gray-400 dark:border-slate-600 px-1 py-0.5 text-xs font-mono text-purple-700 dark:text-purple-300 text-right focus:outline-none focus:border-purple-500 focus:ring-1 focus:ring-purple-500 transition-colors duration-300"})})]})]}),u.jsxs("div",{className:"flex flex-col items-end mr-1 bg-gray-100 dark:bg-slate-800/50 p-1.5 border border-gray-400 dark:border-slate-600 transition-colors duration-300",children:[u.jsx("span",{className:"text-[10px] text-gray-600 dark:text-slate-400 font-mono uppercase tracking-wider mb-1",children:"Phase"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:d,onChange:he=>f(parseFloat(he.target.value)),className:"w-20 h-2 bg-gray-300 dark:bg-slate-700 appearance-none cursor-pointer accent-pink-500 border border-black",title:"Shift pattern phase (0-1 cycle)"}),u.jsx("div",{className:"relative",children:u.jsx("input",{type:"number",min:"0",max:"1",step:"0.01",value:d,onChange:he=>{const pe=parseFloat(he.target.value);isNaN(pe)||f(pe)},className:"w-12 bg-white dark:bg-slate-900 border border-gray-400 dark:border-slate-600 px-1 py-0.5 text-xs font-mono text-pink-700 dark:text-pink-300 text-right focus:outline-none focus:border-pink-500 focus:ring-1 focus:ring-pink-500 transition-colors duration-300"})})]})]}),u.jsxs("div",{className:"flex flex-col items-end mr-1 bg-gray-100 dark:bg-slate-800/50 p-1.5 border border-gray-400 dark:border-slate-600 transition-colors duration-300",children:[u.jsx("span",{className:"text-[10px] text-gray-600 dark:text-slate-400 font-mono uppercase tracking-wider mb-1",children:"Fill Factor"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"range",min:"1",max:"100",step:"1",value:l*100,onChange:he=>c(parseInt(he.target.value)/100),className:"w-20 h-2 bg-gray-300 dark:bg-slate-700 appearance-none cursor-pointer accent-green-500 border border-black",title:"Adjust pixel aperture fill factor %"}),u.jsxs("div",{className:"relative flex items-center",children:[u.jsx("input",{type:"number",min:"1",max:"100",step:"1",value:Math.round(l*100),onChange:he=>{const pe=parseInt(he.target.value);isNaN(pe)||c(Math.min(100,Math.max(1,pe))/100)},className:"w-12 bg-white dark:bg-slate-900 border border-gray-400 dark:border-slate-600 px-1 py-0.5 text-xs font-mono text-green-700 dark:text-green-300 text-right focus:outline-none focus:border-green-500 focus:ring-1 focus:ring-green-500 transition-colors duration-300"}),u.jsx("span",{className:"ml-1 text-[10px] text-gray-500 dark:text-slate-500 font-mono",children:"%"})]})]})]})]}),u.jsxs("button",{onClick:A,className:`flex flex-col items-center justify-center p-2 transition-colors group border-2 border-black dark:border-gray-500 shadow-[2px_2px_0px_black] active:translate-x-[2px] active:translate-y-[2px] active:shadow-none ${r!=null&&r.startsWith("Diff_")?"bg-fuchsia-100 hover:bg-fuchsia-200 dark:bg-fuchsia-900/40 dark:hover:bg-fuchsia-900/60":"bg-gray-100 hover:bg-gray-200 dark:bg-slate-800 dark:hover:bg-slate-700"}`,title:r!=null&&r.startsWith("Diff_")?"Export Subtracted Frame as DNG":"Download Synthetic DNG",children:[u.jsx("svg",{className:`w-5 h-5 ${r!=null&&r.startsWith("Diff_")?"text-fuchsia-600 group-hover:text-fuchsia-800":"text-gray-600 dark:text-slate-400 group-hover:text-black dark:group-hover:text-white"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),u.jsx("span",{className:"text-[8px] font-bold uppercase mt-0.5 opacity-70",children:"DNG"})]})]}),u.jsx("input",{type:"file",ref:F,onChange:se,className:"hidden",accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff"}),u.jsx("input",{type:"file",ref:D,onChange:ge,className:"hidden",multiple:!0,accept:".csv"}),u.jsxs("div",{className:"relative inline-block text-left",ref:ae,children:[u.jsxs("button",{onClick:()=>L(!X),className:"bg-purple-700 hover:bg-purple-600 text-white font-bold py-2 px-4 border-2 border-black dark:border-white shadow-[4px_4px_0px_black] dark:shadow-[4px_4px_0px_gray] active:translate-x-[2px] active:translate-y-[2px] active:shadow-[2px_2px_0px_black] transition-all duration-100 text-sm whitespace-nowrap flex items-center gap-2",children:["TEST Tools",u.jsx("svg",{className:`w-4 h-4 transition-transform duration-200 ${X?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),X&&u.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white dark:bg-slate-800 shadow-[8px_8px_0px_rgba(0,0,0,0.5)] ring-1 ring-black ring-opacity-5 focus:outline-none z-50 overflow-hidden origin-top-right transition-all animate-in fade-in slide-in-from-top-2 border-2 border-black dark:border-gray-500",children:u.jsxs("div",{className:"py-1",children:[u.jsxs("button",{onClick:()=>{L(!1),t()},className:"w-full text-left px-4 py-3 text-sm text-gray-800 dark:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors flex items-center gap-2 border-b border-gray-300 dark:border-gray-600",children:[u.jsx("svg",{className:"w-4 h-4 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),u.jsx("span",{children:"Generate Pattern DNG"})]}),u.jsxs("button",{onClick:()=>{L(!1),y||g(),k&&b(),x&&S&&S(),_&&N&&N()},className:`w-full text-left px-4 py-3 text-sm transition-colors flex items-center gap-2 border-b border-gray-300 dark:border-gray-600 ${y?"bg-indigo-100 dark:bg-indigo-900/40 text-indigo-800 dark:text-indigo-300 font-bold":"text-gray-800 dark:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700"}`,children:[u.jsx("svg",{className:"w-4 h-4 text-indigo-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.384-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})}),u.jsxs("span",{children:["DR Lab ",y?"(On)":""]})]}),u.jsxs("button",{onClick:()=>{L(!1),S&&!x&&S(),y&&g(),k&&b(),_&&N&&N()},className:`w-full text-left px-4 py-3 text-sm transition-colors flex items-center gap-2 border-b border-gray-300 dark:border-gray-600 ${x?"bg-yellow-100 dark:bg-yellow-900/40 text-yellow-800 dark:text-yellow-300 font-bold":"text-gray-800 dark:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700"}`,children:[u.jsx("svg",{className:"w-4 h-4 text-yellow-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"})}),u.jsxs("span",{children:["Color Lab ",x?"(On)":""]})]}),u.jsxs("button",{onClick:()=>{L(!1),N&&!_&&N(),y&&g(),k&&b(),x&&S&&S()},className:`w-full text-left px-4 py-3 text-sm transition-colors flex items-center gap-2 border-b border-gray-300 dark:border-gray-600 ${_?"bg-orange-100 dark:bg-orange-900/40 text-orange-800 dark:text-orange-300 font-bold":"text-gray-800 dark:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700"}`,children:[u.jsx("svg",{className:"w-4 h-4 text-orange-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),u.jsxs("span",{children:["SFR Lab ",_?"(On)":""]})]}),u.jsxs("button",{onClick:()=>{L(!1),k||b(),y&&g(),x&&S&&S(),_&&N&&N()},className:`w-full text-left px-4 py-3 text-sm transition-colors flex items-center gap-2 border-b border-gray-300 dark:border-gray-600 ${k?"bg-fuchsia-100 dark:bg-fuchsia-900/40 text-fuchsia-800 dark:text-fuchsia-300 font-bold":"text-gray-800 dark:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700"}`,children:[u.jsx("svg",{className:"w-4 h-4 text-fuchsia-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),u.jsxs("span",{children:["FFT Lab ",k?"(On)":""]})]}),u.jsxs("button",{onClick:()=>{var he;L(!1),(he=D.current)==null||he.click()},className:"w-full text-left px-4 py-3 text-sm text-gray-800 dark:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors flex items-center gap-2",children:[u.jsx("svg",{className:"w-4 h-4 text-emerald-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"})}),u.jsx("span",{children:"Generate PTC & TargetSNR"})]})]})})]}),u.jsxs("div",{className:"relative inline-block text-left",ref:$,children:[u.jsxs("button",{onClick:()=>Q(!G),className:"bg-cyan-700 hover:bg-cyan-600 text-white font-bold py-2 px-4 border-2 border-black dark:border-white shadow-[4px_4px_0px_black] dark:shadow-[4px_4px_0px_gray] active:translate-x-[2px] active:translate-y-[2px] active:shadow-[2px_2px_0px_black] transition-all duration-100 text-sm whitespace-nowrap flex items-center gap-2",children:["Load Image",u.jsx("svg",{className:`w-4 h-4 transition-transform duration-200 ${G?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),G&&u.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white dark:bg-slate-800 shadow-[8px_8px_0px_rgba(0,0,0,0.5)] ring-1 ring-black ring-opacity-5 focus:outline-none z-50 overflow-hidden origin-top-right transition-all animate-in fade-in slide-in-from-top-2 border-2 border-black dark:border-gray-500",children:u.jsxs("div",{className:"py-1",children:[u.jsxs("button",{onClick:()=>ue("direct"),className:"w-full text-left px-4 py-3 text-sm text-gray-800 dark:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors flex items-center gap-2 border-b border-gray-300 dark:border-gray-600",children:[u.jsx("svg",{className:"w-4 h-4 text-cyan-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),u.jsx("span",{children:"Load Image (Direct)"})]}),u.jsxs("button",{onClick:()=>ue("convert"),className:"w-full text-left px-4 py-3 text-sm text-gray-800 dark:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors flex items-center gap-2",children:[u.jsx("svg",{className:"w-4 h-4 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.384-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})}),u.jsx("span",{children:"Convert to Adobe DNG & Load"})]})]})})]}),r&&m&&u.jsxs("button",{onClick:m,className:"bg-orange-600 hover:bg-orange-500 text-white font-bold py-2 px-4 border-2 border-black dark:border-white shadow-[4px_4px_0px_black] dark:shadow-[4px_4px_0px_gray] active:translate-x-[2px] active:translate-y-[2px] active:shadow-[2px_2px_0px_black] transition-all duration-100 text-sm whitespace-nowrap flex items-center gap-1",title:"View EXIF Data",children:[u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"EXIF"]}),u.jsx("button",{onClick:p,className:"bg-teal-700 hover:bg-teal-600 text-white font-bold py-2 px-4 border-2 border-black dark:border-white shadow-[4px_4px_0px_black] dark:shadow-[4px_4px_0px_gray] active:translate-x-[2px] active:translate-y-[2px] active:shadow-[2px_2px_0px_black] transition-all duration-100 text-sm whitespace-nowrap",children:"About/Tutorial/Tools"}),u.jsx("a",{href:"https://y-g-jiang.github.io/index.html",target:"_blank",rel:"noopener noreferrer",className:"bg-gray-300 hover:bg-gray-200 dark:bg-slate-700 dark:hover:bg-slate-600 text-black dark:text-white font-bold py-2 px-4 border-2 border-black dark:border-white shadow-[4px_4px_0px_black] dark:shadow-[4px_4px_0px_gray] active:translate-x-[2px] active:translate-y-[2px] active:shadow-[2px_2px_0px_black] transition-all duration-100 text-sm no-underline",children:"Home"})]})]})},QA=({image:e,zoom:t,pan:r,onPanChange:n,onZoomChange:a,onSelectionChange:o,forcedSelection:i,theme:s,touchAction:l="pan",isMarking:c=!1,onPointClick:d,markers:f=[],gridRects:h=[],colorLabPoints:p=[],colorLabRects:m=[]})=>{var ee;const v=j.useRef(null),w=j.useRef(document.createElement("canvas")),[y,g]=j.useState(!1),[x,S]=j.useState({x:0,y:0}),k=j.useRef(null),b=j.useRef(null),_=j.useRef(null),[N,O]=j.useState(!1),[P,A]=j.useState(null),[C,T]=j.useState(null);j.useEffect(()=>{i!==void 0&&T(i)},[i]);const F=j.useCallback(()=>{const Z=v.current,$=Z==null?void 0:Z.getContext("2d");return{canvas:Z,ctx:$}},[]);j.useEffect(()=>{const Z=w.current,$=Z.getContext("2d");if(!e||!$)return;let ae=0,ue=0;e instanceof ImageData?(ae=e.width,ue=e.height):e instanceof HTMLImageElement&&(ae=e.naturalWidth,ue=e.naturalHeight),!(ae===0||ue===0)&&((Z.width!==ae||Z.height!==ue)&&(Z.width=ae,Z.height=ue),e instanceof ImageData?$.putImageData(e,0,0):($.clearRect(0,0,ae,ue),$.drawImage(e,0,0)))},[e]);const D=j.useCallback(()=>{const{canvas:Z,ctx:$}=F();if(!(!Z||!$||!e)){if($.setTransform(1,0,0,1,0,0),$.fillStyle=s==="dark"?"rgb(15, 23, 42)":"rgb(243, 244, 246)",$.fillRect(0,0,Z.width,Z.height),$.setTransform(t,0,0,t,r.x,r.y),w.current.width>0&&($.imageSmoothingEnabled=!1,$.drawImage(w.current,0,0)),C){$.strokeStyle="#06b6d4",$.lineWidth=1/t,$.fillStyle="rgba(6, 182, 212, 0.2)",$.beginPath(),$.rect(C.x,C.y,C.w,C.h),$.fill(),$.stroke(),$.save(),$.fillStyle="#fff";const ae=Math.max(10,14/t);$.font=`${ae}px monospace`,$.shadowColor="rgba(0,0,0,0.8)",$.shadowBlur=4,$.shadowOffsetX=1,$.shadowOffsetY=1,$.fillText(`${Math.round(C.w)}x${Math.round(C.h)}`,C.x,C.y-5/t),$.restore()}if(h&&h.length>0){$.save(),$.strokeStyle="#f59e0b",$.lineWidth=1/t,$.globalAlpha=.8,$.beginPath(),h.forEach(Y=>{$.rect(Y.x,Y.y,Y.w,Y.h)}),$.stroke();const ae=h[0];$.fillStyle="#f59e0b";const ue=Math.max(10,12/t);$.font=`${ue}px monospace`,$.fillText(`${ae.w}x${ae.h}`,ae.x,ae.y-4/t),$.restore()}if(f&&f.length>0){$.save();const ae=6/t,ue=Math.max(12,16/t);$.font=`bold ${ue}px sans-serif`,$.textAlign="center",$.textBaseline="middle",f.forEach((Y,se)=>{$.beginPath(),$.arc(Y.x,Y.y,ae,0,2*Math.PI),$.fillStyle="white",$.fill(),$.strokeStyle="#4338ca",$.lineWidth=2/t,$.stroke(),$.fillStyle="#4338ca",$.fillText((se+1).toString(),Y.x,Y.y-12/t)}),$.restore()}if(p&&p.length>0){$.save();const ae=5/t,ue=Math.max(10,14/t);$.font=`bold ${ue}px sans-serif`,$.textAlign="center",$.textBaseline="middle",p.forEach((Y,se)=>{$.fillStyle="yellow",$.fillRect(Y.x-ae,Y.y-ae,ae*2,ae*2),$.strokeStyle="black",$.lineWidth=1/t,$.strokeRect(Y.x-ae,Y.y-ae,ae*2,ae*2),$.fillStyle="yellow",$.shadowColor="black",$.shadowBlur=2,$.fillText((se+1).toString(),Y.x,Y.y-10/t)}),$.restore()}if(m&&m.length>0){if($.save(),$.strokeStyle="yellow",$.lineWidth=1/t,$.globalAlpha=.9,$.beginPath(),m.forEach(ae=>{$.rect(ae.x,ae.y,ae.w,ae.h)}),$.stroke(),m[0]){const ae=m[0];$.fillStyle="yellow",$.shadowColor="black",$.shadowBlur=3;const ue=Math.max(10,12/t);$.font=`${ue}px monospace`,$.fillText(`${Math.round(ae.w)}x${Math.round(ae.h)}`,ae.x,ae.y-4/t)}$.restore()}}},[F,e,t,r,s,C,f,h,p,m]);j.useEffect(()=>{const{canvas:Z}=F();if(!Z)return;const $=new ResizeObserver(()=>{Z.width=Z.clientWidth,Z.height=Z.clientHeight,D()});return $.observe(Z),()=>$.disconnect()},[F,D]),j.useEffect(()=>{D()},[D,e,r,t,s,C,f,h,p,m]);const U=Z=>{const{canvas:$}=F();if(!$)return{x:0,y:0};const ae=$.getBoundingClientRect();return{x:Z.clientX-ae.left,y:Z.clientY-ae.top}},M=(Z,$)=>({x:(Z-r.x)/t,y:($-r.y)/t}),E=Z=>{Z.preventDefault();const $=U(Z);if(c){const ae=M($.x,$.y);d&&d(ae);return}if(Z.shiftKey||l==="select"){O(!0);const ae=M($.x,$.y),ue={x:Math.floor(ae.x),y:Math.floor(ae.y)};A(ue),T(null),o&&o(null)}else g(!0),S({x:$.x-r.x,y:$.y-r.y})},R=Z=>{const $=U(Z);if(N&&P){const ae=M($.x,$.y),ue=Math.floor(ae.x),Y=Math.floor(ae.y),se=Math.min(P.x,ue),ge=Math.min(P.y,Y),K=Math.max(P.x,ue),he=Math.max(P.y,Y),pe=K-se+1,oe=he-ge+1;T({x:se,y:ge,w:pe,h:oe})}else y&&n({x:$.x-x.x,y:$.y-x.y})},G=()=>{N&&(O(!1),C&&o&&C.w>0&&C.h>0&&o(C)),g(!1)},Q=Z=>{var $;if(Z.touches.length===1){const ae=Z.touches[0],ue=($=v.current)==null?void 0:$.getBoundingClientRect();if(!ue)return;const Y=ae.clientX-ue.left,se=ae.clientY-ue.top;if(c){const ge=M(Y,se);d&&d(ge);return}if(l==="select"){const ge=M(Y,se),K={x:Math.floor(ge.x),y:Math.floor(ge.y)};A(K),O(!0),T(null),o&&o(null)}else _.current={x:Y,y:se},S({x:Y-r.x,y:se-r.y}),g(!0)}else if(Z.touches.length===2){const ae=Math.hypot(Z.touches[0].clientX-Z.touches[1].clientX,Z.touches[0].clientY-Z.touches[1].clientY);k.current=ae,b.current=t,g(!1),O(!1)}},X=Z=>{var $;if(Z.touches.length===1){const ae=Z.touches[0],ue=($=v.current)==null?void 0:$.getBoundingClientRect();if(!ue)return;const Y=ae.clientX-ue.left,se=ae.clientY-ue.top;if(c)return;if(N&&P){const ge=M(Y,se),K=Math.floor(ge.x),he=Math.floor(ge.y),pe=Math.min(P.x,K),oe=Math.min(P.y,he),_e=Math.max(P.x,K),be=Math.max(P.y,he),Ie=_e-pe+1,dt=be-oe+1;T({x:pe,y:oe,w:Ie,h:dt})}else y&&n({x:Y-x.x,y:se-x.y})}else if(Z.touches.length===2&&k.current&&b.current&&a){const ue=Math.hypot(Z.touches[0].clientX-Z.touches[1].clientX,Z.touches[0].clientY-Z.touches[1].clientY)/k.current;a(b.current*ue)}},L=()=>{N&&(O(!1),C&&o&&C.w>0&&C.h>0&&o(C)),g(!1),k.current=null,b.current=null,_.current=null};return u.jsx("canvas",{ref:v,className:`w-full h-full block touch-none ${c||N||(ee=window.event)!=null&&ee.shiftKey||l==="select"?"cursor-crosshair":"cursor-grab active:cursor-grabbing"}`,onMouseDown:E,onMouseMove:R,onMouseUp:G,onMouseLeave:G,onTouchStart:Q,onTouchMove:X,onTouchEnd:L,onTouchCancel:L,tabIndex:0})},us=({title:e,children:t})=>u.jsxs("div",{className:"border-b border-gray-200 dark:border-slate-700 transition-colors duration-300",children:[u.jsx("div",{className:"p-4 font-semibold text-gray-800 dark:text-slate-200 bg-gray-50 dark:bg-slate-800/30 border-b border-gray-200 dark:border-slate-800 select-none cursor-default transition-colors duration-300",children:u.jsx("span",{children:e})}),u.jsx("div",{className:"p-4 bg-white dark:bg-slate-900/50 transition-colors duration-300",children:t})]}),JA=[{value:-1,label:"Raw Bayer (Grayscale)"},{value:0,label:"Linear interpolation"},{value:1,label:"VNG (Variable Number of Gradients)"},{value:2,label:"PPG (Patterned Pixel Grouping)"},{value:3,label:"AHD (Adaptive Homogeneity-Directed)"},{value:4,label:"DCB (Demosaicing with Color Back-refinement)"},{value:11,label:"DHT (Modified AHD)"},{value:12,label:"AAHD (Adaptive AHD)"}],pf=({checked:e,onChange:t,label:r})=>u.jsxs("div",{className:"flex items-center justify-between py-2 cursor-pointer group",onClick:()=>t(!e),children:[u.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-slate-300 select-none group-hover:text-gray-900 dark:group-hover:text-slate-200 transition-colors",children:r}),u.jsx("div",{className:`relative w-11 h-6 rounded-full transition-colors duration-200 ease-in-out ${e?"bg-cyan-500 dark:bg-cyan-600":"bg-gray-300 dark:bg-slate-600 group-hover:bg-gray-400 dark:group-hover:bg-slate-500"}`,children:u.jsx("div",{className:`absolute left-1 top-1 bg-white w-4 h-4 rounded-full shadow-md transform transition-transform duration-200 ease-in-out ${e?"translate-x-5":"translate-x-0"}`})})]}),mb=(e,t)=>{if(!e)return null;if(t){const r=e.bayerPattern.toUpperCase(),n=l=>{const c=[];for(let d=0;d<4;d++)r[d]===l&&c.push(d);return c},a=t.BlackLevelRed,o=t.BlackLevelGreen,i=t.BlackLevelBlue;if(a!==void 0&&o!==void 0&&i!==void 0){const l=parseFloat(a),c=parseFloat(o),d=parseFloat(i);if(!isNaN(l)&&!isNaN(c)&&!isNaN(d)){const f=[0,0,0,0];return f.fill(c),n("R").forEach(h=>f[h]=l),n("G").forEach(h=>f[h]=c),n("B").forEach(h=>d),f}}let s=t.BlackLevel;if(s===void 0&&(s=t.BlackLevel2),s!==void 0){let l=[];if(Array.isArray(s)?l=s.map(Number):typeof s=="string"?l=s.trim().split(/\s+/).map(Number):typeof s=="number"&&(l=[s,s,s,s]),l.length===1&&!isNaN(l[0])&&(l=[l[0],l[0],l[0],l[0]]),l.length>=4&&!l.slice(0,4).some(isNaN))return[l[0],l[1],l[2],l[3]]}}return e.blackLevels&&e.blackLevels.length===4?[e.blackLevels[0],e.blackLevels[1],e.blackLevels[2],e.blackLevels[3]]:null},eC=e=>{const{rawImageData:t,displaySettings:r,onApplyDisplaySettings:n,onSetSelection:a,exifData:o,isBridgeConnected:i,isDrLabOpen:s,drMarkingStep:l,onStartMarking:c,onGenerateTestPic:d,drRoiSize:f,onDrRoiSizeChange:h,drGridRows:p,onDrGridRowsChange:m,drGridCols:v,onDrGridColsChange:w,onBatchDrLab:y,hasDrMarkers:g,isFftLabOpen:x,onProcessPair:S,onProcessBatchDiff:k,onProcessStackFft:b,onOpenCrossCalc:_,isThreePlane:N,onToggleXTrans:O,xtransPhase:P,onXTransPhaseChange:A,isXTransConverted:C,onCommand:T,isColorLabOpen:F,colorLabMarkingStep:D,onStartColorLabMarking:U,isSfrLabOpen:M,roiStats:E}=e,R=!!t,G=!!(t!=null&&t.isXTrans),Q=!!O,[X,L]=j.useState(r.exposure.toString()),[ee,Z]=j.useState(""),[$,ae]=j.useState("0 0 0 0"),[ue,Y]=j.useState("1.0"),[se,ge]=j.useState("1.0"),[K,he]=j.useState(r.demosaicMethod),[pe,oe]=j.useState(!!r.showKadc),[_e,be]=j.useState(!!r.subtractBlackLevelFromStats),[Ie,dt]=j.useState("64"),[Pe,Be]=j.useState(!1),[ut,vt]=j.useState(!1),[mr,Ke]=j.useState("0 0 0 0"),[yr,Fe]=j.useState("2840 6303 3935 6303"),[Zt,Gt]=j.useState("780 1720 1101 1720"),[Qt,Ht]=j.useState(!1),[ht,$e]=j.useState(!1),[pt,At]=j.useState(!1),[vr,gn]=j.useState("single"),Mn=j.useRef(null),nr=j.useRef(null),An=j.useRef(null),Ye=j.useRef(null),[ar,lr]=j.useState(null),[Mr,rn]=j.useState(null),[Ar,Cn]=j.useState(!1),[Hn,Vn]=j.useState(!0),nn=j.useRef(null),oa=j.useRef(null);j.useEffect(()=>{if(L(r.exposure.toString()),r.customMatrix?(Z(r.customMatrix.join(" ")),Be(!0)):Z(""),r.blackLevel&&r.blackLevel.length===4)ae(r.blackLevel.join(" "));else{const V=mb(t,o);ae(V?V.join(" "):"0 0 0 0")}Y(r.wbGains?r.wbGains[0].toString():"1.0"),ge(r.wbGains?r.wbGains[1].toString():"1.0"),he(r.demosaicMethod),oe(!!r.showKadc),be(!!r.subtractBlackLevelFromStats),r.advancedZeroDep&&(Ke(r.advancedZeroDep.bl.join(" ")),Fe(r.advancedZeroDep.bg.join(" ")),Gt(r.advancedZeroDep.fg.join(" ")),vt(!0))},[r,t,o]);const an=V=>L(V),Jt=V=>Y(V),cr=V=>ge(V),Ct=V=>he(parseInt(V.target.value,10)),ie=V=>Z(V.target.value),Ae=()=>{L("0"),he(3),Y("1.0"),ge("1.0"),oe(!0),be(!0),Z(""),Be(!1),vt(!1);const V=mb(t,o);ae(V?V.join(" "):"0 0 0 0")},Ue=()=>{!t||!a||(a({x:0,y:0,w:t.width,h:t.height}),T==null||T("sel full"))},ct=()=>{if(!t||!a)return;const V=parseInt(Ie,10);if(isNaN(V)||V<=0)return;const je=Math.min(V,t.width),_t=Math.min(V,t.height),Lt=Math.floor((t.width-je)/2),Tn=Math.floor((t.height-_t)/2);a({x:Lt,y:Tn,w:je,h:_t}),T==null||T(`sel center ${V}`)},qe=()=>{const je=$.split(/[\s,]+/).filter(_t=>_t.trim()!=="").map(Number);if(je.length===1&&!isNaN(je[0]))return[je[0],je[0],je[0],je[0]];if(je.length>=4&&!je.slice(0,4).some(isNaN))return[je[0],je[1],je[2],je[3]]},wt=V=>{const je=V.trim().split(/[\s,]+/).map(Number);return je.length===4&&!je.some(isNaN)?je:je.length===1&&!isNaN(je[0])?[je[0],je[0],je[0],je[0]]:null},ur=()=>{T&&(X!=="0"&&T(`ev ${X}`),(ue!=="1.0"||se!=="1.0")&&T(`wb ${ue} ${se}`),$!=="0 0 0 0"&&T(`bl ${$}`),K!==3&&T(`demo ${K}`),ee.trim().length>0&&T(`matrix ${ee.replace(/\s+/g," ")}`),T("render"));const V={...r},je=parseFloat(X);isNaN(je)||(V.exposure=je);const _t=parseFloat(ue),Lt=parseFloat(se);if(!isNaN(_t)&&!isNaN(Lt)&&(V.wbGains=[_t,Lt]),V.demosaicMethod=K,V.renderMode="standard",Pe){const Tn=qe();Tn&&(V.blackLevel=Tn);const dr=ee.trim().replace(/[\s,\n]+/g," ");if(dr){const Yr=dr.split(" ").map(Number);Yr.length===9&&!Yr.some(isNaN)?V.customMatrix=Yr:alert("Invalid matrix format. Please ensure exactly 9 numeric values (3x3).")}else delete V.customMatrix;V.showKadc=pe,V.subtractBlackLevelFromStats=_e}else delete V.customMatrix,delete V.blackLevel,delete V.showKadc,delete V.subtractBlackLevelFromStats;n(V)},fr=()=>{$e(!0)},ze=V=>{T&&(X!=="0"&&T(`ev ${X}`),(ue!=="1.0"||se!=="1.0")&&T(`wb ${ue} ${se}`),$!=="0 0 0 0"&&T(`bl ${$}`),T(V==="bilinear"?"render zero color":"render zero"));const je={...r},_t=qe();_t&&(je.blackLevel=_t);const Lt=parseFloat(ue),Tn=parseFloat(se);!isNaN(Lt)&&!isNaN(Tn)&&(je.wbGains=[Lt,Tn]);const dr=parseFloat(X);if(isNaN(dr)||(je.exposure=dr),V==="bilinear"){const Yr=ee.trim().replace(/[\s,\n]+/g," ");if(Yr){const $n=Yr.split(" ").map(Number);$n.length===9&&!$n.some(isNaN)&&(je.customMatrix=$n)}}je.renderMode=V==="mosaic"?"zero-dependency":"zero-dep-color",$e(!1),n(je)},Ze=()=>{const V=wt(mr),je=wt(yr),_t=wt(Zt);if(!V||!je||!_t){alert("Please enter valid 4-channel numbers for BL, BG, and FG.");return}T&&(X!=="0"&&T(`ev ${X}`),T(`render unmix ${V.join(" ")} ${je.join(" ")} ${_t.join(" ")}`));const Lt={...r,renderMode:"advanced-zero-dep",advancedZeroDep:{bl:V,bg:je,fg:_t}};n(Lt)},xt=()=>{if(E){const V=E.means,je=[V[0],V[1],V[3],V[2]].map(_t=>_t.toFixed(1));Fe(je.join(" "))}else alert("Please select an ROI on the image first.")},gt=()=>{if(E){const V=E.means,je=[V[0],V[1],V[3],V[2]].map(_t=>_t.toFixed(1));Gt(je.join(" "))}else alert("Please select an ROI on the image first.")},Tt=V=>{V.target.files&&V.target.files.length>0&&y&&(y(V.target.files,vr),T==null||T(`drlab batch ${vr}`)),V.target.value="",At(!1)},me=async V=>{var _t;const je=(_t=V.target.files)==null?void 0:_t[0];if(je){try{const Tn=(await je.text()).split(`
`),dr=[];dr.push("#BlackLevel: 0,0,0,0"),dr.push("#ImageHeight: 0"),dr.push("Row,Col,R_Mean,G1_Mean,G2_Mean,B_Mean,R_Std,G1_Std,G2_Std,B_Std");let Yr=1;for(let Kn=0;Kn<Tn.length;Kn++){const ro=Tn[Kn].trim();if(!ro||ro.includes("R_mean")||ro.includes("R_std"))continue;const zr=ro.split(/\s+/).map(Number);if(zr.length<8||zr.some(isNaN))continue;const La=[Yr,1,zr[0],zr[2],zr[6],zr[4],zr[1],zr[3],zr[7],zr[5]].join(",");dr.push(La),Yr++}const $n=new Blob([dr.join(`
`)],{type:"text/csv"}),pi=URL.createObjectURL($n),to=document.createElement("a");to.href=pi,to.download=je.name.replace(/\.[^/.]+$/,"")+"_converted.csv",document.body.appendChild(to),to.click(),document.body.removeChild(to),URL.revokeObjectURL(pi)}catch(Lt){console.error("Conversion failed",Lt),alert("Failed to convert file.")}V.target.value=""}},Fr=V=>{V.target.files&&V.target.files[0]&&(lr(V.target.files[0]),T==null||T("fft load a"))},eo=V=>{V.target.files&&V.target.files[0]&&(rn(V.target.files[0]),T==null||T("fft load b"))},Xn=()=>{ar&&Mr&&S&&(S(ar,Mr,Ar,Hn),T==null||T("fft run"))},En=V=>{V.target.files&&V.target.files.length>0&&k&&(k(V.target.files),T==null||T("fft batch")),V.target.value=""},Rl=V=>{V.target.files&&V.target.files.length>0&&b&&(b(V.target.files),T==null||T("fft stack")),V.target.value=""},mn=!!C;return u.jsxs("div",{className:"flex flex-col h-full bg-white dark:bg-black",children:[u.jsxs("div",{className:"flex-grow overflow-y-auto",children:[N&&u.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-3 border-b border-red-100 dark:border-red-800 text-center animate-pulse",children:[u.jsx("p",{className:"text-xs font-bold text-red-600 dark:text-red-400 uppercase tracking-wide",children:" 3-Plane / Full Color"}),u.jsx("p",{className:"text-[10px] text-red-500/80 dark:text-red-300/70 mt-1",children:"Demosaic disabled. Stats analysis treated as pseudo-Bayer."})]}),G&&!C&&u.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 p-3 border-b border-amber-100 dark:border-amber-800 text-center",children:[u.jsx("p",{className:"text-xs font-bold text-amber-600 dark:text-amber-400 uppercase tracking-wide",children:" X-Trans Native (Unsupported)"}),u.jsx("p",{className:"text-[10px] text-amber-600/80 dark:text-amber-300/70 mt-1 text-left leading-tight px-1",children:"Currently reading raw 6x6 pattern as Bayer. Stats will be incorrect. Please enable Pseudo-Bayer conversion below."})]}),C&&u.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 p-3 border-b border-emerald-100 dark:border-emerald-800 text-center",children:[u.jsx("p",{className:"text-xs font-bold text-emerald-600 dark:text-emerald-400 uppercase tracking-wide",children:" X-Trans Pseudo-Bayer"}),u.jsx("p",{className:"text-[10px] text-emerald-600/80 dark:text-emerald-300/70 mt-1 text-left leading-tight px-1",children:"Converted 6x6  2x2 RGGB (Subsampled). Demosaic & Analysis fully supported."})]}),M&&u.jsx(us,{title:"SFR Lab Tools (Scalar Unmixing)",children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 p-3 rounded border border-orange-200 dark:border-orange-800",children:[u.jsx("h4",{className:"text-[10px] font-bold text-orange-600 dark:text-orange-400 uppercase mb-2",children:"Analyze ROI"}),u.jsx("p",{className:"text-[10px] text-gray-500 dark:text-slate-400 mb-2",children:"Select an edge on the main canvas and click analyze. Use the pop-up modal to view ESF/LSF/MTF."}),u.jsx("div",{className:"text-center text-xs font-bold text-orange-500",children:"(ROI Analysis Window is Active)"})]}),u.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 w-full"}),u.jsx(pf,{checked:ut,onChange:vt,label:" (Scalar Unmixing)"}),ut&&u.jsxs("div",{className:"space-y-4 pl-2 border-l-2 border-indigo-200 dark:border-indigo-900 animate-in slide-in-from-top-2 duration-200",children:[u.jsxs("div",{className:"grid grid-cols-5 gap-1 items-center text-[9px] uppercase font-bold text-gray-400 mb-[-8px]",children:[u.jsx("div",{className:"col-span-1",children:"Param"}),u.jsx("div",{className:"text-center",children:"Ch0(R)"}),u.jsx("div",{className:"text-center",children:"Ch1(G1)"}),u.jsx("div",{className:"text-center",children:"Ch2(B)"}),u.jsx("div",{className:"text-center",children:"Ch3(G2)"})]}),u.jsxs("div",{className:"grid grid-cols-5 gap-2 items-center",children:[u.jsx("span",{className:"text-[10px] font-bold text-red-500",children:"BL:"}),u.jsx("input",{type:"text",value:mr,onChange:V=>Ke(V.target.value),className:"col-span-4 px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded text-xs font-mono text-gray-900 dark:text-slate-100"})]}),u.jsxs("div",{className:"grid grid-cols-5 gap-2 items-center",children:[u.jsx("span",{className:"text-[10px] font-bold text-indigo-500",children:"B ():"}),u.jsxs("div",{className:"col-span-4 flex gap-1",children:[u.jsx("input",{type:"text",value:yr,onChange:V=>Fe(V.target.value),className:"flex-1 px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded text-xs font-mono text-gray-900 dark:text-slate-100"}),u.jsx("button",{onClick:xt,className:"px-2 bg-gray-200 dark:bg-slate-700 hover:bg-gray-300 dark:hover:bg-slate-600 text-[9px] rounded font-bold transition-colors",title:"Fill with current ROI mean stats (Raw DN)",children:"Pick"})]})]}),u.jsxs("div",{className:"grid grid-cols-5 gap-2 items-center",children:[u.jsx("span",{className:"text-[10px] font-bold text-emerald-500",children:"F ():"}),u.jsxs("div",{className:"col-span-4 flex gap-1",children:[u.jsx("input",{type:"text",value:Zt,onChange:V=>Gt(V.target.value),className:"flex-1 px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded text-xs font-mono text-gray-900 dark:text-slate-100"}),u.jsx("button",{onClick:gt,className:"px-2 bg-gray-200 dark:bg-slate-700 hover:bg-gray-300 dark:hover:bg-slate-600 text-[9px] rounded font-bold transition-colors",title:"Fill with current ROI mean stats (Raw DN)",children:"Pick"})]})]}),u.jsx("button",{onClick:Ze,disabled:!R,className:"w-full bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-2 rounded text-[10px] shadow transition-transform active:scale-95",children:"RUN UNMIXING (ADV ZERO-DEP)"}),u.jsx("p",{className:"text-[9px] text-gray-400 italic text-center",children:" + sRGB Gamma "})]})]})}),x&&u.jsx(us,{title:"FFT Lab (Noise Profile)",children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"space-y-3 bg-gray-50 dark:bg-slate-800/40 p-3 rounded-xl border border-gray-100 dark:border-slate-800",children:[u.jsxs("h4",{className:"text-[10px] font-bold text-fuchsia-600 dark:text-fuchsia-400 uppercase tracking-widest flex items-center gap-2",children:[u.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-fuchsia-500"})," 1. Pair Difference (Sub)"]}),u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx("input",{type:"file",ref:Mn,className:"hidden",onChange:Fr,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff"}),u.jsx("button",{onClick:()=>{var V;return(V=Mn.current)==null?void 0:V.click()},className:`w-full py-2 px-3 rounded-lg border text-[10px] font-bold text-left truncate transition-colors ${ar?"bg-fuchsia-55 dark:bg-fuchsia-900/20 border-fuchsia-300 dark:border-fuchsia-800 text-fuchsia-700 dark:text-fuchsia-300":"bg-white dark:bg-slate-800 border-gray-300 dark:border-slate-600 text-gray-500 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:ar?`A: ${ar.name}`:"Load Image A"}),u.jsx("input",{type:"file",ref:nr,className:"hidden",onChange:eo,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff"}),u.jsx("button",{onClick:()=>{var V;return(V=nr.current)==null?void 0:V.click()},className:`w-full py-2 px-3 rounded-lg border text-[10px] font-bold text-left truncate transition-colors ${Mr?"bg-fuchsia-55 dark:bg-fuchsia-900/20 border-fuchsia-300 dark:border-fuchsia-800 text-fuchsia-700 dark:text-fuchsia-300":"bg-white dark:bg-slate-800 border-gray-300 dark:border-slate-600 text-gray-500 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:Mr?`B: ${Mr.name}`:"Load Image B"})]}),u.jsx("div",{className:"flex flex-col gap-1.5 pt-1",children:u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:Hn,onChange:V=>Vn(V.target.checked),className:"w-3 h-3 text-fuchsia-600 border-gray-300 rounded focus:ring-0"}),u.jsx("span",{className:"text-[10px] text-gray-600 dark:text-slate-300",children:"Normalize (2)"})]})}),u.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[u.jsx("button",{onClick:Xn,disabled:!ar||!Mr,className:"w-full bg-fuchsia-600 hover:bg-fuchsia-500 disabled:opacity-30 text-white font-bold py-2 rounded shadow transition-all active:scale-95 text-[10px]",children:"Generate Diff & Load"}),u.jsx("input",{type:"file",ref:An,className:"hidden",multiple:!0,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff",onChange:En}),u.jsx("button",{onClick:()=>{var V;return(V=An.current)==null?void 0:V.click()},className:"w-full bg-slate-700 hover:bg-slate-600 text-white font-bold py-2 rounded shadow transition-all active:scale-95 text-[10px] flex items-center justify-center gap-1",children:"Batch Diffs (Auto Download)"})]})]}),u.jsxs("div",{className:"space-y-3 bg-gray-50 dark:bg-slate-800/40 p-3 rounded-xl border border-gray-100 dark:border-slate-800",children:[u.jsxs("h4",{className:"text-[10px] font-bold text-cyan-600 dark:text-cyan-400 uppercase tracking-widest flex items-center gap-2",children:[u.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-cyan-500"})," 2. Stack FFT (Avg PSD)"]}),u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx("input",{type:"file",ref:Ye,className:"hidden",multiple:!0,onChange:Rl,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff"}),u.jsx("button",{onClick:()=>{var V;return(V=Ye.current)==null?void 0:V.click()},className:"w-full py-3 bg-cyan-600 hover:bg-cyan-500 text-white font-bold rounded-lg shadow-md transition-all active:scale-95 text-[10px] flex items-center justify-center gap-2",children:"Select Sequence Files"})]})]}),u.jsx("div",{className:"flex flex-col gap-2 pt-2",children:u.jsx("button",{onClick:()=>{_==null||_(),T==null||T("crosscalc")},className:"w-full bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-2 px-4 rounded-lg shadow-md transition-all active:scale-95 text-[10px] flex items-center justify-center gap-2",children:"Cross-Compensation Calc"})})]})}),s&&u.jsx(us,{title:"DR Lab Tools",children:u.jsxs("div",{className:"space-y-4",children:[u.jsx("button",{onClick:()=>{d==null||d(),T==null||T("gen test")},className:"w-full bg-amber-500 hover:bg-amber-600 text-white font-bold py-2 px-4 rounded-lg shadow-md transition-colors text-sm",children:"Generate Test Pic"}),u.jsxs("div",{className:"border-t border-gray-200 dark:border-slate-700 pt-3",children:[u.jsx("h4",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide mb-2",children:"Grid Analysis"}),h&&f!==void 0&&u.jsx("div",{className:"flex items-center justify-between mb-3",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-sm text-gray-600 dark:text-slate-300",children:"Box Size:"}),u.jsx("input",{type:"number",min:"8",max:"512",step:"2",value:f,onChange:V=>h(parseInt(V.target.value)||64),className:"w-12 px-1 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-sm text-gray-900 dark:text-slate-100 text-center"}),u.jsx("span",{className:"text-xs text-gray-400",children:"px"})]})}),m&&w&&p!==void 0&&v!==void 0&&u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("span",{className:"text-sm text-gray-600 dark:text-slate-300",children:"Layout:"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"number",min:"1",max:"50",value:p,onChange:V=>m(Math.max(1,parseInt(V.target.value)||1)),className:"w-10 px-1 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md outline-none text-sm text-center",title:"Rows"}),u.jsx("span",{className:"text-xs text-gray-400",children:"x"}),u.jsx("input",{type:"number",min:"1",max:"50",value:v,onChange:V=>w(Math.max(1,parseInt(V.target.value)||1)),className:"w-10 px-1 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md outline-none text-sm text-center",title:"Columns"})]})]}),u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx("button",{onClick:()=>{c==null||c(),T==null||T("mark")},disabled:!R||l!==void 0&&l>0,className:`w-full font-bold py-2 px-4 rounded-lg shadow-md transition-all text-sm ${R?l&&l>0?"bg-indigo-100 dark:bg-indigo-900 text-indigo-700 dark:text-indigo-300 border-2 border-indigo-500":"bg-indigo-600 hover:bg-indigo-700 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:l&&l>0?"Marking Active...":"Mark Corners"}),y&&u.jsxs(u.Fragment,{children:[u.jsx("input",{type:"file",ref:nn,className:"hidden",multiple:!0,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff",onChange:Tt}),u.jsxs("div",{className:"relative",children:[u.jsx("button",{onClick:()=>At(!pt),disabled:!g,className:"w-full font-bold py-2 px-4 rounded-lg shadow-md transition-all text-sm bg-emerald-600 hover:bg-emerald-700 disabled:bg-gray-300 disabled:text-gray-500 disabled:cursor-not-allowed text-white flex items-center justify-center gap-2",children:"Reuse Last & Batch"}),pt&&u.jsxs("div",{className:"absolute bottom-full left-0 w-full mb-1 bg-white dark:bg-slate-800 rounded-lg shadow-xl border border-gray-200 dark:border-slate-700 overflow-hidden z-20 flex flex-col animate-in fade-in zoom-in-95 duration-100",children:[u.jsx("button",{className:"px-4 py-2 text-left text-xs hover:bg-gray-100 dark:hover:bg-slate-700 text-gray-700 dark:text-slate-200 border-b border-gray-100 dark:border-slate-700",onClick:()=>{var V;gn("single"),(V=nn.current)==null||V.click()},children:"1. Independent Frames"}),u.jsx("button",{className:"px-4 py-2 text-left text-xs hover:bg-gray-100 dark:hover:bg-slate-700 text-indigo-600 dark:text-indigo-400 font-bold",onClick:()=>{var V;gn("pair"),(V=nn.current)==null||V.click()},children:"2. Pair Difference (A-B)"})]})]})]}),u.jsxs("div",{className:"pt-2 mt-2 border-t border-gray-100 dark:border-slate-800",children:[u.jsx("input",{type:"file",ref:oa,className:"hidden",accept:".txt",onChange:me}),u.jsx("button",{onClick:()=>{var V;return(V=oa.current)==null?void 0:V.click()},className:"w-full font-bold py-2 px-4 rounded-lg shadow-sm transition-all text-xs bg-slate-100 hover:bg-slate-200 dark:bg-slate-800 dark:hover:bg-slate-700 text-gray-600 dark:text-slate-300 flex items-center justify-center gap-2 border border-gray-300 dark:border-slate-600",children:"Convert Format (.txt  .csv)"})]})]}),l!==void 0&&l>0&&u.jsx("div",{className:"mt-2 text-center",children:u.jsxs("p",{className:"text-xs text-indigo-600 dark:text-indigo-400 font-bold animate-pulse",children:[l===1&&"Click Top-Left Center",l===2&&"Click Top-Right Center",l===3&&"Click Bottom-Left Center",l===4&&"Click Bottom-Right Center"]})})]})]})}),F&&u.jsx(us,{title:"Color Lab Tools",children:u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"text-sm text-gray-600 dark:text-slate-300 mb-2",children:"Calibrate colors using a standard ColorChecker 24 chart."}),u.jsx("button",{onClick:()=>{U==null||U(),T==null||T("cl mark")},disabled:!R||D!==void 0&&D>0,className:`w-full font-bold py-2 px-4 rounded-lg shadow-md transition-all text-sm ${R?D&&D>0?"bg-yellow-100 dark:bg-yellow-900 text-yellow-700 dark:text-yellow-300 border-2 border-yellow-500":"bg-yellow-600 hover:bg-yellow-700 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:D&&D>0?"Marking Active...":"Mark 24-Patch Chart"}),D!==void 0&&D>0&&u.jsx("div",{className:"mt-2 text-center",children:u.jsxs("p",{className:"text-xs text-yellow-600 dark:text-yellow-400 font-bold animate-pulse",children:[D===1&&"Click Top-Left (Brown)",D===2&&"Click Top-Right (Cyanish)",D===3&&"Click Bottom-Left (White)",D===4&&"Click Bottom-Right (Black)"]})})]})}),u.jsx(us,{title:"Selection Tools",children:u.jsx("div",{className:"space-y-3",children:u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2",children:"Quick Select or Shift+drag"}),u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx("span",{className:"text-sm text-gray-600 dark:text-slate-300",children:"Size (px):"}),u.jsx("input",{type:"number",min:"1",value:Ie,onChange:V=>dt(V.target.value),disabled:!R,className:"flex-1 px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-sm text-gray-900 dark:text-slate-100 transition-colors"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsx("button",{onClick:ct,disabled:!R,className:"px-3 py-1.5 bg-gray-200 hover:bg-gray-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-800 dark:text-slate-200 text-xs font-semibold rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Center Rect"}),u.jsx("button",{onClick:Ue,disabled:!R,className:"px-3 py-1.5 bg-gray-200 hover:bg-gray-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-800 dark:text-slate-200 text-xs font-semibold rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Full Image"})]})]})})}),u.jsx(us,{title:"Display Controls",children:u.jsxs("div",{className:"space-y-5",children:[u.jsxs("p",{className:"text-gray-500 dark:text-slate-400 text-center text-sm",children:["Adjust parameters and click ",u.jsx("b",{children:"Apply"}),"."]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"exposure",className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2",children:"Exposure (EV)"}),u.jsx("div",{className:"flex items-center gap-2 mb-2",children:u.jsx("input",{type:"range",min:"-5",max:"5",step:"0.1",disabled:!R,value:parseFloat(X)||0,onChange:V=>an(V.target.value),className:"w-full h-2 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-cyan-500 disabled:opacity-50"})}),u.jsx("div",{className:"flex items-center gap-2",children:u.jsx("input",{id:"exposure",type:"number",step:"0.1",value:X,onChange:V=>an(V.target.value),disabled:!R,className:"w-full px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-sm text-gray-900 dark:text-slate-100 transition-colors duration-300"})})]}),u.jsxs("div",{children:[u.jsxs("label",{htmlFor:"demosaic",className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2 flex justify-between",children:[u.jsx("span",{children:"Demosaic Method"}),(N||(t==null?void 0:t.isXTrans))&&u.jsx("span",{className:"text-[9px] text-red-500 font-bold bg-red-100 dark:bg-red-900/30 px-1 rounded",children:"DISABLED"})]}),u.jsx("select",{id:"demosaic",value:K,onChange:Ct,disabled:!R||N||(t==null?void 0:t.isXTrans),className:"w-full px-2 py-2 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none transition-colors disabled:bg-gray-100 dark:disabled:bg-slate-800/50 disabled:cursor-not-allowed text-sm text-gray-900 dark:text-slate-100",children:JA.map(V=>u.jsx("option",{value:V.value,children:V.label},V.value))}),N&&u.jsx("p",{className:"text-[9px] text-gray-400 mt-1",children:"Full color data detected. Demosaicing skipped."}),(t==null?void 0:t.isXTrans)&&u.jsx("p",{className:"text-[9px] text-amber-500 mt-1",children:"X-Trans detected. Please enable Pseudo-Bayer below."})]}),Q&&u.jsxs("div",{className:"border-t border-gray-100 dark:border-slate-800 pt-2",children:[u.jsx(pf,{checked:!!mn,onChange:V=>{O&&O(V),T==null||T(`xtrans ${V?"on":"off"}`)},label:"Force X-Trans (6x6 -> 2x2)"}),mn&&P&&A&&u.jsxs("div",{className:"mt-2 pl-2 border-l-2 border-emerald-500/50 bg-emerald-50/20 dark:bg-emerald-900/10 p-2 rounded",children:[u.jsx("label",{className:"text-[9px] font-bold text-gray-500 dark:text-slate-400 uppercase block mb-1",children:"Phase Offset (Fine Tune)"}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-[9px] text-gray-400",children:"X (0-5)"}),u.jsx("input",{type:"number",min:"0",max:"5",value:P.x,onChange:V=>{const je=Math.min(5,Math.max(0,parseInt(V.target.value)||0));A({x:je}),T==null||T(`xtrans phase ${je} ${P.y}`)},className:"w-full text-xs px-1 py-0.5 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded text-center outline-none focus:border-cyan-500"})]}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-[9px] text-gray-400",children:"Y (0-5)"}),u.jsx("input",{type:"number",min:"0",max:"5",value:P.y,onChange:V=>{const je=Math.min(5,Math.max(0,parseInt(V.target.value)||0));A({y:je}),T==null||T(`xtrans phase ${P.x} ${je}`)},className:"w-full text-xs px-1 py-0.5 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded text-center outline-none focus:border-cyan-500"})]})]})]})]}),u.jsx("div",{className:"border-t border-gray-200 dark:border-slate-700 pt-2",children:u.jsx(pf,{checked:Pe,onChange:Be,label:"Advanced Settings"})}),Pe&&u.jsxs("div",{className:"space-y-5 pl-2 border-l-2 border-gray-200 dark:border-slate-700 animate-in slide-in-from-top-2 duration-200",children:[u.jsxs("div",{children:[u.jsx(pf,{checked:pe,onChange:oe,label:"Show Kadc"}),u.jsx("p",{className:"text-[10px] text-gray-400 dark:text-slate-500 mt-1",children:"Requires manual Black Levellinear PTC zoneabsolutely uniform image ."})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2",children:"White Balance Gains"}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-xs text-red-500 dark:text-red-400 block mb-1",children:"Red"}),u.jsx("input",{type:"number",step:"0.01",value:ue,onChange:V=>Jt(V.target.value),disabled:!R,className:"w-full px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-red-500 outline-none text-sm text-gray-900 dark:text-slate-100 transition-colors duration-300"})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-xs text-blue-500 dark:text-blue-400 block mb-1",children:"Blue"}),u.jsx("input",{type:"number",step:"0.01",value:se,onChange:V=>cr(V.target.value),disabled:!R,className:"w-full px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-blue-500 outline-none text-sm text-gray-900 dark:text-slate-100 transition-colors duration-300"})]})]})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between items-end mb-2",children:[u.jsxs("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide flex items-center",children:["Black Level (4-Ch)",u.jsx("span",{className:"ml-1 text-[10px] text-gray-400 dark:text-slate-500 font-normal normal-case",children:"Native"}),u.jsx("button",{onClick:()=>Ht(!0),className:"ml-2 text-[10px] text-cyan-600 dark:text-cyan-400 hover:text-cyan-700 dark:hover:text-cyan-300 hover:underline cursor-pointer transition-colors",title:"About Black Level Settings",children:"[about]"})]}),u.jsxs("div",{className:"flex items-center gap-1.5",title:"Subtract Black Level from ROI Mean stats (for display)",children:[u.jsx("span",{className:"text-[9px] font-mono text-gray-400 dark:text-slate-500 uppercase tracking-wide",children:"Sub. BL"}),u.jsx("div",{className:`relative w-8 h-4 rounded-full cursor-pointer transition-colors duration-200 ease-in-out ${_e?"bg-cyan-500":"bg-gray-300 dark:bg-slate-700"}`,onClick:()=>be(!_e),children:u.jsx("div",{className:`absolute top-0.5 left-0.5 bg-white w-3 h-3 rounded-full shadow-sm transform transition-transform duration-200 ${_e?"translate-x-4":"translate-x-0"}`})})]})]}),u.jsx("input",{type:"text",value:$,onChange:V=>ae(V.target.value),disabled:!R,placeholder:"0 0 0 0",className:"w-full px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-xs font-mono text-gray-900 dark:text-slate-100 transition-colors duration-300",title:"Enter 4 values separated by space or comma"}),u.jsx("p",{className:"text-[10px] text-gray-400 dark:text-slate-500 mt-1",children:"Order: (0,0) (0,1) (1,0) (1,1). Spatial: TL, TR, BL, BR."})]}),u.jsxs("div",{children:[u.jsxs("label",{htmlFor:"customMatrix",className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2",children:["Custom Color Matrix",u.jsx("span",{className:"block text-[10px] text-gray-400 dark:text-slate-500 font-normal normal-case mt-0.5",children:"XYZ to Camera RGB (3x3, 9 nums)"})]}),u.jsx("textarea",{id:"customMatrix",value:ee,onChange:ie,disabled:!R,placeholder:"0.66 -0.19 -0.04  -0.46 1.23 0.25  -0.06 0.13 0.65",className:"w-full h-24 px-2 py-2 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none transition-colors disabled:bg-gray-100 dark:disabled:bg-slate-800/50 disabled:cursor-not-allowed text-xs font-mono leading-relaxed text-gray-900 dark:text-slate-100"})]})]}),u.jsxs("div",{className:"pt-4 flex flex-col gap-2",children:[u.jsx("button",{onClick:ur,disabled:!R,className:"w-full text-base bg-cyan-500 hover:bg-cyan-600 dark:bg-cyan-600 dark:hover:bg-cyan-500 disabled:bg-gray-300 dark:disabled:bg-slate-800 disabled:text-gray-500 dark:disabled:text-slate-500 disabled:cursor-not-allowed text-white font-bold py-3 px-3 rounded-lg shadow-lg shadow-cyan-500/20 dark:shadow-cyan-900/20 transition-all active:scale-95",children:""}),u.jsxs("button",{onClick:fr,disabled:!R,className:"w-full text-xs font-bold bg-slate-700 hover:bg-slate-600 text-white disabled:bg-gray-300 dark:disabled:bg-slate-800 disabled:text-gray-500 transition-colors py-2 rounded-lg flex items-center justify-center gap-1.5 border border-slate-600",title:"Diagnostic Mode. Direct RAW-to-Grayscale mapping using manual Black Level & WB Gains (R/B calibration).",children:[u.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"",u.jsx("br",{}),"(CM)"]}),u.jsx("button",{onClick:Ae,disabled:!R,className:"w-full text-xs text-gray-400 hover:text-gray-600 dark:text-slate-400 dark:hover:text-slate-200 disabled:text-gray-300 dark:disabled:text-slate-600 transition-colors mt-1",children:"Reset Defaults (Local)"})]})]})})]}),u.jsx(ti,{isOpen:Qt,onClose:()=>Ht(!1),onConfirm:()=>{window.open("https://y-g-jiang.github.io/CBLD.html","_blank"),Ht(!1)},title:"Black Level Info / ",confirmText:"Visit Database (CBLD)",cancelText:"Close",message:u.jsxs("div",{className:"flex flex-col gap-4 text-left text-sm text-gray-600 dark:text-slate-300",children:[u.jsxs("p",{className:"leading-relaxed",children:["JiangBridge/JiangBridge",u.jsx("a",{href:"https://y-g-jiang.github.io/CBLD.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline mx-1 font-bold",children:"CBLD.html"}),""]}),u.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 w-full"}),u.jsxs("p",{className:"leading-relaxed",children:["Autofills when JiangBridge is detected. If no result is found or JiangBridge is missing, please check the ",u.jsx("a",{href:"https://y-g-jiang.github.io/CBLD.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline mx-1 font-bold",children:"Black Level Database"}),"to find your camera model. However, manually capturing a dark frame with identical settings to calculate and input the values is highly recommended for higher decimal precision, as internal tags often lack accuracy."]})]})}),u.jsx(ti,{isOpen:ht,onClose:()=>$e(!1),onConfirm:()=>{},title:"Select Zero-Dependency Mode",confirmText:"",cancelText:"",message:u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsx("div",{className:"text-gray-600 dark:text-slate-300 text-left text-sm leading-relaxed mb-2",children:"Select how you want to visualize the raw data without full JOraw processing."}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[u.jsxs("button",{onClick:()=>ze("mosaic"),className:"flex flex-col items-center justify-center p-4 bg-gray-100 hover:bg-gray-200 dark:bg-slate-800 dark:hover:bg-slate-700 border-2 border-transparent hover:border-gray-400 dark:hover:border-slate-500 rounded-xl transition-all group",children:[u.jsx("div",{className:"w-12 h-12 bg-gray-300 dark:bg-slate-600 rounded-full flex items-center justify-center mb-3 group-hover:scale-110 transition-transform",children:u.jsx("svg",{className:"w-6 h-6 text-gray-600 dark:text-slate-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}),u.jsx("h4",{className:"font-bold text-gray-800 dark:text-slate-200 mb-1",children:"Mosaic (Gray)"}),u.jsx("p",{className:"text-[10px] text-gray-500 dark:text-slate-400 text-center",children:"Original Bayer pattern. No demosaic. 1:1 pixel mapping. Pure DN visualization."})]}),u.jsxs("button",{onClick:()=>ze("bilinear"),className:"flex flex-col items-center justify-center p-4 bg-indigo-50 hover:bg-indigo-100 dark:bg-indigo-900/20 dark:hover:bg-indigo-900/40 border-2 border-transparent hover:border-indigo-400 rounded-xl transition-all group",children:[u.jsx("div",{className:"w-12 h-12 bg-indigo-200 dark:bg-indigo-800 rounded-full flex items-center justify-center mb-3 group-hover:scale-110 transition-transform",children:u.jsx("svg",{className:"w-6 h-6 text-indigo-700 dark:text-indigo-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"})})}),u.jsx("h4",{className:"font-bold text-indigo-800 dark:text-indigo-300 mb-1",children:"Bilinear (Color)"}),u.jsx("p",{className:"text-[10px] text-indigo-600/80 dark:text-indigo-400/80 text-center",children:"Basic JS Demosaic + Matrix + Gamma. Bypass JOraw pipeline."})]})]}),u.jsx("button",{onClick:()=>$e(!1),className:"mt-2 w-full py-2 text-xs font-bold text-gray-500 hover:text-gray-700 dark:text-slate-400 dark:hover:text-slate-200 transition-colors",children:"Cancel"})]})})]})},tC=j.forwardRef((e,t)=>{const{rawImageData:r,displaySettings:n,onApplyDisplaySettings:a,onSetSelection:o,onStartMarking:i,onGenerateTestPic:s,onBatchDrLab:l,onProcessPair:c,onProcessBatchDiff:d,onProcessStackFft:f,onOpenCrossCalc:h,onToggleXTrans:p,onXTransPhaseChange:m}=e,[v,w]=j.useState([{id:"init",type:"info",text:'Jiangtherapee CLI v1.0. Type "help" for commands.'}]),[y,g]=j.useState(""),[x,S]=j.useState([]),[k,b]=j.useState(-1),_=j.useRef(null),N=j.useRef(null),O=j.useRef(null),P=j.useRef(null),A=j.useRef(null),C=j.useRef(null),T=j.useRef(null),F=j.useRef(null);j.useRef(null);const D=j.useRef({...n});j.useEffect(()=>{D.current={...n}},[n.exposure,n.demosaicMethod]);const U=j.useRef({fileA:null,fileB:null});j.useLayoutEffect(()=>{_.current&&(_.current.scrollTop=_.current.scrollHeight)},[v]);const M=(L,ee="out")=>{w(Z=>[...Z,{id:Date.now().toString()+Math.random(),type:ee,text:L}])};j.useImperativeHandle(t,()=>({log:(L,ee="in")=>{const Z=ee;let $=L;ee==="in"&&!L.startsWith(">")&&($=`> ${L}`),M($,Z)}}));const E=j.useRef(null);j.useEffect(()=>{if(e.roiStats&&e.roiStats!==E.current){const L=e.roiStats,ee=Math.round(L.x),Z=Math.round(L.y),$=Math.round(L.width),ae=Math.round(L.height);M(`> sel ${ee} ${Z} ${$} ${ae}`,"in");const ue=e.isBGGR?[{name:"B",idx:0},{name:"G1",idx:1},{name:"G2",idx:2},{name:"R",idx:3}]:[{name:"R",idx:0},{name:"G1",idx:1},{name:"G2",idx:2},{name:"B",idx:3}],Y=u.jsxs("div",{className:"font-mono text-xs mt-1 mb-2",children:[u.jsxs("div",{className:"text-gray-400 mb-1",children:["Region Stats [",ee,", ",Z,", ",$,"x",ae,"]:"]}),u.jsxs("div",{className:"grid grid-cols-[30px_1fr_1fr] gap-x-2 border-b border-gray-700 pb-1 mb-1 text-gray-500 font-bold",children:[u.jsx("div",{children:"Ch"}),u.jsx("div",{className:"text-right",children:"Mean"}),u.jsx("div",{className:"text-right",children:"StdDev"})]}),ue.map(se=>u.jsxs("div",{className:"grid grid-cols-[30px_1fr_1fr] gap-x-2 hover:bg-gray-900",children:[u.jsx("div",{className:se.name==="R"?"text-red-500":se.name==="B"?"text-blue-500":"text-green-500",children:se.name}),u.jsx("div",{className:"text-right text-gray-300",children:L.means[se.idx].toFixed(2)}),u.jsx("div",{className:"text-right text-gray-400",children:L.stdDevs[se.idx].toFixed(2)})]},se.name))]});M(Y,"out"),E.current=L}},[e.roiStats,e.isBGGR]);const R=L=>{var ae,ue,Y,se,ge,K,he;const ee=L.trim().split(/\s+/),Z=ee[0].toLowerCase(),$=ee.slice(1);switch(Z){case"help":M("Available Commands:","info"),M("  ev <val>          Set Exposure (e.g. ev 1.5)","info"),M("  wb <r> <b>        Set WB Gains","info"),M("  bl <r> <g>...     Set Black Level (1 or 4 vals)","info"),M("  demo <id>         Demosaic (0=Lin, 3=AHD, -1=Raw)","info"),M("  matrix <n1..n9>   Set Custom Color Matrix","info"),M("  xtrans <on|off>   Force X-Trans Mode","info"),M("  xtrans phase <x> <y>  Set X-Trans Phase","info"),M("  render            Apply settings & Render","info"),M("  render zero       Zero-Dependency Render","info"),M("  render unmix      Advanced Unmixing Render","info"),M("  sel <full|center> Select ROI","info"),M("  sel <x> <y> <w> <h> Select ROI manually","info"),M("  mark              Start DR Lab Corner Marking","info"),M("  gen test          Generate Test Pattern","info"),M("  fft load <a>      Load FFT Pair Image A","info"),M("  fft load <b>      Load FFT Pair Image B","info"),M("  fft run           Run FFT Pair Diff","info"),M("  cls               Clear Screen","info");break;case"cls":case"clear":w([]);break;case"ev":case"exposure":if($.length<1){M(`Current EV: ${D.current.exposure}`,"info");return}const pe=parseFloat($[0]);if(isNaN(pe)){M("Invalid EV value","err");return}D.current.exposure=pe,M(`EV set to ${pe} (run 'render' to apply)`);break;case"wb":if($.length<2){M("Usage: wb <red_gain> <blue_gain>","err");return}const oe=parseFloat($[0]),_e=parseFloat($[1]);if(isNaN(oe)||isNaN(_e)){M("Invalid gains","err");return}D.current.wbGains=[oe,_e],M(`WB set to R:${oe} B:${_e}`);break;case"bl":case"black":if($.length===0){M(`Current BL: ${((ae=D.current.blackLevel)==null?void 0:ae.join(" "))||"Auto"}`,"info");return}let be=$.map(Number);if(be.some(isNaN)){M("Invalid numbers","err");return}if(be.length===1&&(be=[be[0],be[0],be[0],be[0]]),be.length<4){M("Need 1 or 4 values","err");return}D.current.blackLevel=[be[0],be[1],be[2],be[3]],D.current.subtractBlackLevelFromStats=!0,D.current.showKadc=!0,M(`Black Level set: ${be.slice(0,4).join(" ")}`);break;case"demo":case"demosaic":if($.length===0){M("Usage: demo <id> (0=Lin, 1=VNG, 2=PPG, 3=AHD, 4=DCB, 11=DHT, 12=AAHD, -1=Raw)","info");return}const Ie=parseInt($[0]);if(isNaN(Ie)){M("Invalid method ID","err");return}D.current.demosaicMethod=Ie,M(`Demosaic set to ID ${Ie}`);break;case"matrix":if($.length!==9){M("Usage: matrix m1 m2 m3 m4 m5 m6 m7 m8 m9 (3x3)","err");return}const dt=$.map(Number);if(dt.some(isNaN)){M("Invalid matrix values","err");return}D.current.customMatrix=dt,M("Custom Color Matrix set.");break;case"xtrans":if($[0]==="on"||$[0]==="true")p?(p(!0),M("X-Trans conversion ON")):M("Feature not available","err");else if($[0]==="off"||$[0]==="false")p?(p(!1),M("X-Trans conversion OFF")):M("Feature not available","err");else if($[0]==="phase"){if($.length<3){M("Usage: xtrans phase <x> <y>","err");return}const Pe=parseInt($[1]),Be=parseInt($[2]);m&&(m({x:Pe,y:Be}),M(`X-Trans Phase set to (${Pe}, ${Be})`))}else M("Usage: xtrans <on|off> OR xtrans phase <x> <y>","err");break;case"render":case"apply":if($[0]==="zero"){const Pe=$[1]==="color"?"zero-dep-color":"zero-dependency";D.current.renderMode=Pe,M(`Rendering Zero-Dependency (${Pe})...`)}else if($[0]==="unmix"){if($.length<13){M("Usage: render unmix <4xBL> <4xBG> <4xFG>","err");return}const Pe=$.slice(1).map(Number);if(Pe.some(isNaN)){M("Invalid params","err");return}D.current.renderMode="advanced-zero-dep",D.current.advancedZeroDep={bl:[Pe[0],Pe[1],Pe[2],Pe[3]],bg:[Pe[4],Pe[5],Pe[6],Pe[7]],fg:[Pe[8],Pe[9],Pe[10],Pe[11]]},M("Rendering Advanced Unmix...")}else D.current.renderMode="standard",M("Rendering Standard Pipeline...");a({...D.current});break;case"sel":case"select":if(!r||!o){M("No image loaded","err");return}if($[0]==="full")o({x:0,y:0,w:r.width,h:r.height});else if($[0]==="center"){const Pe=parseInt($[1])||64,Be=Math.floor((r.width-Pe)/2),ut=Math.floor((r.height-Pe)/2);o({x:Be,y:ut,w:Pe,h:Pe})}else if($.length===4){const[Pe,Be,ut,vt]=$.map(Number);if([Pe,Be,ut,vt].some(isNaN)){M("Invalid coordinates","err");return}o({x:Pe,y:Be,w:ut,h:vt})}else M("Usage: sel full | sel center <size> | sel <x> <y> <w> <h>","err");break;case"mark":i&&(i(),M("Interactive marking started. Click 4 corners on canvas."));break;case"gen":($[0]==="test"||$[0]==="pattern")&&s&&(s(),M("Generated Test Pattern"));break;case"drlab":if($[0]==="config"){const[Pe,Be,ut]=$.slice(1).map(Number);e.onDrRoiSizeChange&&e.onDrRoiSizeChange(Pe||64),e.onDrGridRowsChange&&e.onDrGridRowsChange(Be||10),e.onDrGridColsChange&&e.onDrGridColsChange(ut||10),M(`DR Grid Configured: Size=${Pe}, Grid=${Be}x${ut}`)}else $[0]==="batch"&&($[1]==="pair"?(M("Select file pairs for DR Lab..."),(ue=P.current)==null||ue.click()):(M("Select single files for DR Lab..."),(Y=O.current)==null||Y.click()));break;case"fft":$[0]==="load"?$[1]==="a"?(se=A.current)==null||se.click():$[1]==="b"?(ge=C.current)==null||ge.click():M("Usage: fft load <a|b>","err"):$[0]==="run"?U.current.fileA&&U.current.fileB&&c?(M(`Processing Pair: ${U.current.fileA.name} - ${U.current.fileB.name}`),c(U.current.fileA,U.current.fileB,!1,!0)):M("Load both A and B first","err"):$[0]==="stack"?(M("Select files for Stack FFT..."),(K=T.current)==null||K.click()):$[0]==="batch"&&(M("Select files for Batch Diff...","info"),(he=F.current)==null||he.click());break;case"crosscalc":h&&(h(),M("Opened Cross-Calculator"));break;default:M(`Unknown command: ${Z}`,"err")}},G=L=>{if(L.key==="Enter"){const ee=y.trim();if(!ee)return;M(`> ${ee}`,"in"),ee.split(";").forEach($=>{$.trim()&&R($.trim())}),S($=>[...$,ee]),b(-1),g("")}else if(L.key==="ArrowUp"){if(L.preventDefault(),x.length>0){const ee=k===-1?x.length-1:Math.max(0,k-1);b(ee),g(x[ee])}}else if(L.key==="ArrowDown")if(L.preventDefault(),k!==-1){const ee=Math.min(x.length-1,k+1);b(ee),g(x[ee])}else g("")},Q=(L,ee)=>{L.target.files&&L.target.files.length>0&&l&&(M(`Batch processing ${L.target.files.length} files in ${ee} mode...`),l(L.target.files,ee)),L.target.value=""},X=(L,ee)=>{var $;const Z=($=L.target.files)==null?void 0:$[0];Z&&(ee==="A"?U.current.fileA=Z:U.current.fileB=Z,M(`Loaded ${ee}: ${Z.name}`)),L.target.value=""};return u.jsxs("div",{className:"flex flex-col h-full bg-black text-green-500 font-mono text-sm border-l-4 border-gray-700 p-2 shadow-2xl",children:[u.jsxs("div",{className:"border-b border-green-800 pb-2 mb-2 flex justify-between items-end select-none",children:[u.jsx("h2",{className:"text-xl font-bold tracking-widest",children:"TERMINAL"}),u.jsx("div",{className:"text-[10px] text-green-700",children:"JIANGTHERAPEE_CLI_V1"})]}),u.jsx("div",{ref:_,className:"flex-grow overflow-y-auto overflow-x-hidden break-words mb-2 pr-1 scrollbar-thin scrollbar-thumb-green-900 scrollbar-track-black",children:v.map(L=>u.jsxs("div",{className:`mb-1 ${L.type==="in"?"opacity-50":""} ${L.type==="err"?"text-red-500":""} ${L.type==="info"?"text-cyan-400":""}`,children:[L.type!=="in"&&typeof L.text=="string"&&!L.text.startsWith(">")&&u.jsx("span",{className:"mr-2 opacity-50",children:">"}),L.text]},L.id))}),u.jsxs("div",{className:"relative flex items-center border-t border-green-800 pt-2",children:[u.jsx("span",{className:"text-green-500 mr-2 animate-pulse font-bold",children:">"}),u.jsx("input",{ref:N,type:"text",value:y,onChange:L=>g(L.target.value),onKeyDown:G,autoFocus:!0,className:"w-full bg-transparent border-none outline-none text-green-400 placeholder-green-900",placeholder:"Enter command (e.g. 'help')",spellCheck:!1,autoComplete:"off"})]}),u.jsx("input",{type:"file",ref:O,className:"hidden",multiple:!0,onChange:L=>Q(L,"single")}),u.jsx("input",{type:"file",ref:P,className:"hidden",multiple:!0,onChange:L=>Q(L,"pair")}),u.jsx("input",{type:"file",ref:A,className:"hidden",onChange:L=>X(L,"A")}),u.jsx("input",{type:"file",ref:C,className:"hidden",onChange:L=>X(L,"B")}),u.jsx("input",{type:"file",ref:T,className:"hidden",multiple:!0,onChange:L=>{e.onProcessStackFft&&L.target.files&&(M(`Loading ${L.target.files.length} frames for Stack FFT...`),e.onProcessStackFft(L.target.files)),L.target.value=""}}),u.jsx("input",{type:"file",ref:F,className:"hidden",multiple:!0,onChange:L=>{e.onProcessBatchDiff&&L.target.files&&(M("Starting Batch Diff..."),e.onProcessBatchDiff(L.target.files)),L.target.value=""}})]})}),rC=(e,t)=>{if(!e)return null;if(t){const r=e.bayerPattern.toUpperCase(),n=l=>{const c=[];for(let d=0;d<4;d++)r[d]===l&&c.push(d);return c},a=t.BlackLevelRed,o=t.BlackLevelGreen,i=t.BlackLevelBlue;if(a!==void 0&&o!==void 0&&i!==void 0){const l=parseFloat(a),c=parseFloat(o),d=parseFloat(i);if(!isNaN(l)&&!isNaN(c)&&!isNaN(d)){const f=[0,0,0,0];return f.fill(c),n("R").forEach(h=>f[h]=l),n("G").forEach(h=>f[h]=c),n("B").forEach(h=>d),f}}let s=t.BlackLevel;if(s===void 0&&(s=t.BlackLevel2),s!==void 0){let l=[];if(Array.isArray(s)?l=s.map(Number):typeof s=="string"?l=s.trim().split(/\s+/).map(Number):typeof s=="number"&&(l=[s,s,s,s]),l.length===1&&!isNaN(l[0])&&(l=[l[0],l[0],l[0],l[0]]),l.length>=4&&!l.slice(0,4).some(isNaN))return[l[0],l[1],l[2],l[3]]}}return e.blackLevels&&e.blackLevels.length===4?[e.blackLevels[0],e.blackLevels[1],e.blackLevels[2],e.blackLevels[3]]:null},nC=e=>{const[t,r]=j.useState("gui"),{rawImageData:n,exifData:a,isBridgeConnected:o,displaySettings:i,onApplyDisplaySettings:s}=e,l=j.useRef(null),c=j.useRef(!1),d=j.useRef(null);j.useEffect(()=>{n!==d.current&&(c.current=!1,d.current=n)},[n]),j.useEffect(()=>{var h;if(o&&n&&!c.current){c.current=!0;const p=rC(n,a),m=p&&p.some(v=>v>0);if(p&&m){console.log("[AutoApply] Detected Black Levels via Bridge:",p),(h=l.current)==null||h.log(`Auto-detected BL: ${p.join(" ")}`,"info");const v={...i,blackLevel:p,showKadc:!0,subtractBlackLevelFromStats:!0,exposure:i.exposure,wbGains:i.wbGains||[1,1],demosaicMethod:i.demosaicMethod,renderMode:"standard"};s(v)}}},[o,n,a,i,s]);const f=h=>{l.current&&l.current.log(h,"in")};return u.jsxs("div",{className:"flex flex-col h-full",children:[u.jsxs("div",{className:"flex bg-gray-200 dark:bg-gray-800 p-1 border-b border-gray-300 dark:border-gray-700 flex-shrink-0",children:[u.jsx("button",{onClick:()=>r("gui"),className:`flex-1 py-1 text-xs font-bold uppercase tracking-wider transition-colors border-r border-gray-300 dark:border-gray-700 ${t==="gui"?"bg-white dark:bg-black shadow-inner text-cyan-600 dark:text-cyan-400":"bg-gray-200 dark:bg-gray-900 text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}`,children:"GUI"}),u.jsx("button",{onClick:()=>r("terminal"),className:`flex-1 py-1 text-xs font-bold uppercase tracking-wider transition-colors ${t==="terminal"?"bg-black text-green-500 shadow-inner":"bg-gray-200 dark:bg-gray-900 text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}`,children:"Terminal"})]}),u.jsxs("div",{className:"flex-grow overflow-hidden relative",children:[u.jsx("div",{className:`h-full w-full ${t==="gui"?"block":"hidden"}`,children:u.jsx(eC,{...e,onCommand:f})}),u.jsx("div",{className:`h-full w-full ${t==="terminal"?"block":"hidden"}`,children:u.jsx(tC,{...e,ref:l})})]})]})},aC=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20 12H4"})}),oC=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})}),iC=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 4v5h5M4 12a8 8 0 0114.24-5.12M20 20v-5h-5M20 12a8 8 0 01-14.24 5.12"})}),sC=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 11.5V14m0-2.5v-6a1.5 1.5 0 113 0m-3 6a1.5 1.5 0 00-3 0v2a7.5 7.5 0 0015 0v-5a1.5 1.5 0 00-3 0m-6-3V11m0-5.5v-1a1.5 1.5 0 013 0v1m0 0V11m0-5.5a1.5 1.5 0 013 0v3m0 0V11"})}),lC=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 4l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})}),_g=.1,Ng=16,cC=Math.log(_g),uC=Math.log(Ng),fC=({zoom:e,onZoomChange:t,onResetView:r,touchAction:n,onToggleTouchAction:a})=>{const o=c=>{const d=parseFloat(c.target.value),f=Math.exp(d);t(Math.max(_g,Math.min(Ng,f)))},i=()=>{t(Math.min(Ng,e*1.25))},s=()=>{t(Math.max(_g,e/1.25))},l=Math.log(e);return u.jsxs("div",{className:"absolute top-4 right-4 flex gap-2",onClick:c=>c.stopPropagation(),children:[u.jsx("div",{className:"bg-white/90 dark:bg-slate-800/70 backdrop-blur-sm p-2 rounded-lg border border-gray-200 dark:border-slate-700 flex items-center shadow-lg transition-colors duration-300",children:u.jsx("button",{onClick:a,className:`p-1.5 rounded-md transition-colors flex items-center justify-center ${n==="select"?"bg-cyan-100 text-cyan-600 dark:bg-cyan-900/50 dark:text-cyan-400 ring-2 ring-cyan-500/50":"text-gray-500 dark:text-slate-400 hover:bg-gray-100 dark:hover:bg-slate-700"}`,title:n==="select"?"Mode: Selection (Drag to Select)":"Mode: Pan (Drag to Move)",children:n==="select"?u.jsx(lC,{}):u.jsx(sC,{})})}),u.jsxs("div",{className:"bg-white/90 dark:bg-slate-800/70 backdrop-blur-sm p-2 rounded-lg border border-gray-200 dark:border-slate-700 flex items-center gap-2 text-gray-700 dark:text-slate-300 shadow-lg transition-colors duration-300",children:[u.jsx("button",{onClick:s,className:"p-1 rounded-md hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",title:"Zoom Out","aria-label":"Zoom Out",children:u.jsx(aC,{})}),u.jsx("input",{type:"range",min:cC,max:uC,step:"0.01",value:l,onChange:o,className:"w-24 sm:w-32 h-2 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-cyan-500","aria-label":"Zoom slider"}),u.jsx("button",{onClick:i,className:"p-1 rounded-md hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",title:"Zoom In","aria-label":"Zoom In",children:u.jsx(oC,{})}),u.jsxs("span",{className:"w-16 text-center font-mono text-sm","aria-live":"polite",children:[(e*100).toFixed(0),"%"]}),u.jsx("button",{onClick:r,className:"p-1 rounded-md hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",title:"Reset View","aria-label":"Reset View",children:u.jsx(iC,{})})]})]})},dC=({theme:e,setTheme:t})=>{const r=()=>{t(e==="light"?"dark":"light")};return u.jsx("button",{onClick:r,className:"fixed bottom-6 right-6 z-50 p-3 rounded-full bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 shadow-lg text-gray-800 dark:text-yellow-400 hover:bg-gray-100 dark:hover:bg-slate-700 transition-all duration-300",title:`Switch to ${e==="light"?"dark":"light"} mode`,children:e==="light"?u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-slate-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}):u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})})})};function Cj(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=Cj(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function st(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=Cj(e))&&(n&&(n+=" "),n+=t);return n}var hC=Array.isArray,Gn=hC,pC=typeof Yu=="object"&&Yu&&Yu.Object===Object&&Yu,Ej=pC,gC=Ej,mC=typeof self=="object"&&self&&self.Object===Object&&self,yC=gC||mC||Function("return this")(),Ja=yC,vC=Ja,xC=vC.Symbol,Cu=xC,yb=Cu,Tj=Object.prototype,bC=Tj.hasOwnProperty,wC=Tj.toString,Kl=yb?yb.toStringTag:void 0;function kC(e){var t=bC.call(e,Kl),r=e[Kl];try{e[Kl]=void 0;var n=!0}catch{}var a=wC.call(e);return n&&(t?e[Kl]=r:delete e[Kl]),a}var SC=kC,jC=Object.prototype,_C=jC.toString;function NC(e){return _C.call(e)}var OC=NC,vb=Cu,PC=SC,MC=OC,AC="[object Null]",CC="[object Undefined]",xb=vb?vb.toStringTag:void 0;function EC(e){return e==null?e===void 0?CC:AC:xb&&xb in Object(e)?PC(e):MC(e)}var Po=EC;function TC(e){return e!=null&&typeof e=="object"}var Mo=TC,$C=Po,DC=Mo,RC="[object Symbol]";function LC(e){return typeof e=="symbol"||DC(e)&&$C(e)==RC}var kl=LC,IC=Gn,BC=kl,FC=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,zC=/^\w*$/;function UC(e,t){if(IC(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||BC(e)?!0:zC.test(e)||!FC.test(e)||t!=null&&e in Object(t)}var Zy=UC;function WC(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var li=WC;const Sl=Rt(li);var GC=Po,HC=li,VC="[object AsyncFunction]",XC="[object Function]",KC="[object GeneratorFunction]",YC="[object Proxy]";function qC(e){if(!HC(e))return!1;var t=GC(e);return t==XC||t==KC||t==VC||t==YC}var Qy=qC;const Xe=Rt(Qy);var ZC=Ja,QC=ZC["__core-js_shared__"],JC=QC,J0=JC,bb=function(){var e=/[^.]+$/.exec(J0&&J0.keys&&J0.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function e5(e){return!!bb&&bb in e}var t5=e5,r5=Function.prototype,n5=r5.toString;function a5(e){if(e!=null){try{return n5.call(e)}catch{}try{return e+""}catch{}}return""}var $j=a5,o5=Qy,i5=t5,s5=li,l5=$j,c5=/[\\^$.*+?()[\]{}|]/g,u5=/^\[object .+?Constructor\]$/,f5=Function.prototype,d5=Object.prototype,h5=f5.toString,p5=d5.hasOwnProperty,g5=RegExp("^"+h5.call(p5).replace(c5,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m5(e){if(!s5(e)||i5(e))return!1;var t=o5(e)?g5:u5;return t.test(l5(e))}var y5=m5;function v5(e,t){return e==null?void 0:e[t]}var x5=v5,b5=y5,w5=x5;function k5(e,t){var r=w5(e,t);return b5(r)?r:void 0}var Qi=k5,S5=Qi,j5=S5(Object,"create"),Dh=j5,wb=Dh;function _5(){this.__data__=wb?wb(null):{},this.size=0}var N5=_5;function O5(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var P5=O5,M5=Dh,A5="__lodash_hash_undefined__",C5=Object.prototype,E5=C5.hasOwnProperty;function T5(e){var t=this.__data__;if(M5){var r=t[e];return r===A5?void 0:r}return E5.call(t,e)?t[e]:void 0}var $5=T5,D5=Dh,R5=Object.prototype,L5=R5.hasOwnProperty;function I5(e){var t=this.__data__;return D5?t[e]!==void 0:L5.call(t,e)}var B5=I5,F5=Dh,z5="__lodash_hash_undefined__";function U5(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=F5&&t===void 0?z5:t,this}var W5=U5,G5=N5,H5=P5,V5=$5,X5=B5,K5=W5;function jl(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}jl.prototype.clear=G5;jl.prototype.delete=H5;jl.prototype.get=V5;jl.prototype.has=X5;jl.prototype.set=K5;var Y5=jl;function q5(){this.__data__=[],this.size=0}var Z5=q5;function Q5(e,t){return e===t||e!==e&&t!==t}var Jy=Q5,J5=Jy;function eE(e,t){for(var r=e.length;r--;)if(J5(e[r][0],t))return r;return-1}var Rh=eE,tE=Rh,rE=Array.prototype,nE=rE.splice;function aE(e){var t=this.__data__,r=tE(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():nE.call(t,r,1),--this.size,!0}var oE=aE,iE=Rh;function sE(e){var t=this.__data__,r=iE(t,e);return r<0?void 0:t[r][1]}var lE=sE,cE=Rh;function uE(e){return cE(this.__data__,e)>-1}var fE=uE,dE=Rh;function hE(e,t){var r=this.__data__,n=dE(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var pE=hE,gE=Z5,mE=oE,yE=lE,vE=fE,xE=pE;function _l(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}_l.prototype.clear=gE;_l.prototype.delete=mE;_l.prototype.get=yE;_l.prototype.has=vE;_l.prototype.set=xE;var Lh=_l,bE=Qi,wE=Ja,kE=bE(wE,"Map"),ev=kE,kb=Y5,SE=Lh,jE=ev;function _E(){this.size=0,this.__data__={hash:new kb,map:new(jE||SE),string:new kb}}var NE=_E;function OE(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var PE=OE,ME=PE;function AE(e,t){var r=e.__data__;return ME(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Ih=AE,CE=Ih;function EE(e){var t=CE(this,e).delete(e);return this.size-=t?1:0,t}var TE=EE,$E=Ih;function DE(e){return $E(this,e).get(e)}var RE=DE,LE=Ih;function IE(e){return LE(this,e).has(e)}var BE=IE,FE=Ih;function zE(e,t){var r=FE(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var UE=zE,WE=NE,GE=TE,HE=RE,VE=BE,XE=UE;function Nl(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Nl.prototype.clear=WE;Nl.prototype.delete=GE;Nl.prototype.get=HE;Nl.prototype.has=VE;Nl.prototype.set=XE;var tv=Nl,Dj=tv,KE="Expected a function";function rv(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(KE);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],o=r.cache;if(o.has(a))return o.get(a);var i=e.apply(this,n);return r.cache=o.set(a,i)||o,i};return r.cache=new(rv.Cache||Dj),r}rv.Cache=Dj;var Rj=rv;const YE=Rt(Rj);var qE=Rj,ZE=500;function QE(e){var t=qE(e,function(n){return r.size===ZE&&r.clear(),n}),r=t.cache;return t}var JE=QE,eT=JE,tT=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,rT=/\\(\\)?/g,nT=eT(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(tT,function(r,n,a,o){t.push(a?o.replace(rT,"$1"):n||r)}),t}),aT=nT;function oT(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var nv=oT,Sb=Cu,iT=nv,sT=Gn,lT=kl,jb=Sb?Sb.prototype:void 0,_b=jb?jb.toString:void 0;function Lj(e){if(typeof e=="string")return e;if(sT(e))return iT(e,Lj)+"";if(lT(e))return _b?_b.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var cT=Lj,uT=cT;function fT(e){return e==null?"":uT(e)}var Ij=fT,dT=Gn,hT=Zy,pT=aT,gT=Ij;function mT(e,t){return dT(e)?e:hT(e,t)?[e]:pT(gT(e))}var Bj=mT,yT=kl;function vT(e){if(typeof e=="string"||yT(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Bh=vT,xT=Bj,bT=Bh;function wT(e,t){t=xT(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[bT(t[r++])];return r&&r==n?e:void 0}var av=wT,kT=av;function ST(e,t,r){var n=e==null?void 0:kT(e,t);return n===void 0?r:n}var Fj=ST;const ya=Rt(Fj);function jT(e){return e==null}var _T=jT;const We=Rt(_T);var NT=Po,OT=Gn,PT=Mo,MT="[object String]";function AT(e){return typeof e=="string"||!OT(e)&&PT(e)&&NT(e)==MT}var CT=AT;const Wi=Rt(CT);var zj={exports:{}},Mt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ov=Symbol.for("react.element"),iv=Symbol.for("react.portal"),Fh=Symbol.for("react.fragment"),zh=Symbol.for("react.strict_mode"),Uh=Symbol.for("react.profiler"),Wh=Symbol.for("react.provider"),Gh=Symbol.for("react.context"),ET=Symbol.for("react.server_context"),Hh=Symbol.for("react.forward_ref"),Vh=Symbol.for("react.suspense"),Xh=Symbol.for("react.suspense_list"),Kh=Symbol.for("react.memo"),Yh=Symbol.for("react.lazy"),TT=Symbol.for("react.offscreen"),Uj;Uj=Symbol.for("react.module.reference");function wa(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case ov:switch(e=e.type,e){case Fh:case Uh:case zh:case Vh:case Xh:return e;default:switch(e=e&&e.$$typeof,e){case ET:case Gh:case Hh:case Yh:case Kh:case Wh:return e;default:return t}}case iv:return t}}}Mt.ContextConsumer=Gh;Mt.ContextProvider=Wh;Mt.Element=ov;Mt.ForwardRef=Hh;Mt.Fragment=Fh;Mt.Lazy=Yh;Mt.Memo=Kh;Mt.Portal=iv;Mt.Profiler=Uh;Mt.StrictMode=zh;Mt.Suspense=Vh;Mt.SuspenseList=Xh;Mt.isAsyncMode=function(){return!1};Mt.isConcurrentMode=function(){return!1};Mt.isContextConsumer=function(e){return wa(e)===Gh};Mt.isContextProvider=function(e){return wa(e)===Wh};Mt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===ov};Mt.isForwardRef=function(e){return wa(e)===Hh};Mt.isFragment=function(e){return wa(e)===Fh};Mt.isLazy=function(e){return wa(e)===Yh};Mt.isMemo=function(e){return wa(e)===Kh};Mt.isPortal=function(e){return wa(e)===iv};Mt.isProfiler=function(e){return wa(e)===Uh};Mt.isStrictMode=function(e){return wa(e)===zh};Mt.isSuspense=function(e){return wa(e)===Vh};Mt.isSuspenseList=function(e){return wa(e)===Xh};Mt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Fh||e===Uh||e===zh||e===Vh||e===Xh||e===TT||typeof e=="object"&&e!==null&&(e.$$typeof===Yh||e.$$typeof===Kh||e.$$typeof===Wh||e.$$typeof===Gh||e.$$typeof===Hh||e.$$typeof===Uj||e.getModuleId!==void 0)};Mt.typeOf=wa;zj.exports=Mt;var $T=zj.exports,DT=Po,RT=Mo,LT="[object Number]";function IT(e){return typeof e=="number"||RT(e)&&DT(e)==LT}var Wj=IT;const BT=Rt(Wj);var FT=Wj;function zT(e){return FT(e)&&e!=+e}var UT=zT;const Ol=Rt(UT);var Ca=function(t){return t===0?0:t>0?1:-1},Pi=function(t){return Wi(t)&&t.indexOf("%")===t.length-1},fe=function(t){return BT(t)&&!Ol(t)},WT=function(t){return We(t)},Lr=function(t){return fe(t)||Wi(t)},GT=0,Ji=function(t){var r=++GT;return"".concat(t||"").concat(r)},Gi=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!fe(t)&&!Wi(t))return n;var o;if(Pi(t)){var i=t.indexOf("%");o=r*parseFloat(t.slice(0,i))/100}else o=+t;return Ol(o)&&(o=n),a&&o>r&&(o=r),o},Fo=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},HT=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},kr=function(t,r){return fe(t)&&fe(r)?function(n){return t+n*(r-t)}:function(){return r}};function pd(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):ya(n,t))===r})}var VT=function(t){if(!t||!t.length)return null;for(var r=t.length,n=0,a=0,o=0,i=0,s=1/0,l=-1/0,c=0,d=0,f=0;f<r;f++)c=t[f].cx||0,d=t[f].cy||0,n+=c,a+=d,o+=c*d,i+=c*c,s=Math.min(s,c),l=Math.max(l,c);var h=r*i!==n*n?(r*o-n*a)/(r*i-n*n):0;return{xmin:s,xmax:l,a:h,b:(a-h*n)/r}},XT=function(t,r){return fe(t)&&fe(r)?t-r:Wi(t)&&Wi(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Rs(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function Og(e){"@babel/helpers - typeof";return Og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Og(e)}var KT=["viewBox","children"],YT=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Nb=["points","pathLength"],ep={svg:KT,polygon:Nb,polyline:Nb},sv=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],gd=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(j.isValidElement(t)&&(n=t.props),!Sl(n))return null;var a={};return Object.keys(n).forEach(function(o){sv.includes(o)&&(a[o]=r||function(i){return n[o](n,i)})}),a},qT=function(t,r,n){return function(a){return t(r,n,a),null}},Wc=function(t,r,n){if(!Sl(t)||Og(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(o){var i=t[o];sv.includes(o)&&typeof i=="function"&&(a||(a={}),a[o]=qT(i,r,n))}),a},ZT=["children"],QT=["children"];function Ob(e,t){if(e==null)return{};var r=JT(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function JT(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Pg(e){"@babel/helpers - typeof";return Pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pg(e)}var Pb={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},mo=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},Mb=null,tp=null,lv=function e(t){if(t===Mb&&Array.isArray(tp))return tp;var r=[];return j.Children.forEach(t,function(n){We(n)||($T.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),tp=r,Mb=t,r};function zn(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return mo(a)}):n=[mo(t)],lv(e).forEach(function(a){var o=ya(a,"type.displayName")||ya(a,"type.name");n.indexOf(o)!==-1&&r.push(a)}),r}function Qn(e,t){var r=zn(e,t);return r&&r[0]}var Ab=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!fe(n)||n<=0||!fe(a)||a<=0)},e$=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],t$=function(t){return t&&t.type&&Wi(t.type)&&e$.indexOf(t.type)>=0},Gj=function(t){return t&&Pg(t)==="object"&&"clipDot"in t},r$=function(t,r,n,a){var o,i=(o=ep==null?void 0:ep[a])!==null&&o!==void 0?o:[];return r.startsWith("data-")||!Xe(t)&&(a&&i.includes(r)||YT.includes(r))||n&&sv.includes(r)},Ve=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(j.isValidElement(t)&&(a=t.props),!Sl(a))return null;var o={};return Object.keys(a).forEach(function(i){var s;r$((s=a)===null||s===void 0?void 0:s[i],i,r,n)&&(o[i]=a[i])}),o},Mg=function e(t,r){if(t===r)return!0;var n=j.Children.count(t);if(n!==j.Children.count(r))return!1;if(n===0)return!0;if(n===1)return Cb(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var o=t[a],i=r[a];if(Array.isArray(o)||Array.isArray(i)){if(!e(o,i))return!1}else if(!Cb(o,i))return!1}return!0},Cb=function(t,r){if(We(t)&&We(r))return!0;if(!We(t)&&!We(r)){var n=t.props||{},a=n.children,o=Ob(n,ZT),i=r.props||{},s=i.children,l=Ob(i,QT);return a&&s?Rs(o,l)&&Mg(a,s):!a&&!s?Rs(o,l):!1}return!1},Eb=function(t,r){var n=[],a={};return lv(t).forEach(function(o,i){if(t$(o))n.push(o);else if(o){var s=mo(o.type),l=r[s]||{},c=l.handler,d=l.once;if(c&&(!d||!a[s])){var f=c(o,s,i);n.push(f),a[s]=!0}}}),n},n$=function(t){var r=t&&t.type;return r&&Pb[r]?Pb[r]:null},a$=function(t,r){return lv(r).indexOf(t)},o$=["children","width","height","viewBox","className","style","title","desc"];function Ag(){return Ag=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ag.apply(this,arguments)}function i$(e,t){if(e==null)return{};var r=s$(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function s$(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Cg(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,o=e.className,i=e.style,s=e.title,l=e.desc,c=i$(e,o$),d=a||{width:r,height:n,x:0,y:0},f=st("recharts-surface",o);return I.createElement("svg",Ag({},Ve(c,!0,"svg"),{className:f,width:r,height:n,style:i,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),I.createElement("title",null,s),I.createElement("desc",null,l),t)}var l$=["children","className"];function Eg(){return Eg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Eg.apply(this,arguments)}function c$(e,t){if(e==null)return{};var r=u$(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function u$(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var bt=I.forwardRef(function(e,t){var r=e.children,n=e.className,a=c$(e,l$),o=st("recharts-layer",n);return I.createElement("g",Eg({className:o},Ve(a,!0),{ref:t}),r)}),yo=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o]};function f$(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(a);++n<a;)o[n]=e[n+t];return o}var d$=f$,h$=d$;function p$(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:h$(e,t,r)}var g$=p$,m$="\\ud800-\\udfff",y$="\\u0300-\\u036f",v$="\\ufe20-\\ufe2f",x$="\\u20d0-\\u20ff",b$=y$+v$+x$,w$="\\ufe0e\\ufe0f",k$="\\u200d",S$=RegExp("["+k$+m$+b$+w$+"]");function j$(e){return S$.test(e)}var Hj=j$;function _$(e){return e.split("")}var N$=_$,Vj="\\ud800-\\udfff",O$="\\u0300-\\u036f",P$="\\ufe20-\\ufe2f",M$="\\u20d0-\\u20ff",A$=O$+P$+M$,C$="\\ufe0e\\ufe0f",E$="["+Vj+"]",Tg="["+A$+"]",$g="\\ud83c[\\udffb-\\udfff]",T$="(?:"+Tg+"|"+$g+")",Xj="[^"+Vj+"]",Kj="(?:\\ud83c[\\udde6-\\uddff]){2}",Yj="[\\ud800-\\udbff][\\udc00-\\udfff]",$$="\\u200d",qj=T$+"?",Zj="["+C$+"]?",D$="(?:"+$$+"(?:"+[Xj,Kj,Yj].join("|")+")"+Zj+qj+")*",R$=Zj+qj+D$,L$="(?:"+[Xj+Tg+"?",Tg,Kj,Yj,E$].join("|")+")",I$=RegExp($g+"(?="+$g+")|"+L$+R$,"g");function B$(e){return e.match(I$)||[]}var F$=B$,z$=N$,U$=Hj,W$=F$;function G$(e){return U$(e)?W$(e):z$(e)}var H$=G$,V$=g$,X$=Hj,K$=H$,Y$=Ij;function q$(e){return function(t){t=Y$(t);var r=X$(t)?K$(t):void 0,n=r?r[0]:t.charAt(0),a=r?V$(r,1).join(""):t.slice(1);return n[e]()+a}}var Z$=q$,Q$=Z$,J$=Q$("toUpperCase"),e4=J$;const qh=Rt(e4);function Ut(e){return function(){return e}}const Qj=Math.cos,md=Math.sin,Ra=Math.sqrt,yd=Math.PI,Zh=2*yd,Dg=Math.PI,Rg=2*Dg,ki=1e-6,t4=Rg-ki;function Jj(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function r4(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Jj;const r=10**t;return function(n){this._+=n[0];for(let a=1,o=n.length;a<o;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class n4{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Jj:r4(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,o,i){this._append`C${+t},${+r},${+n},${+a},${this._x1=+o},${this._y1=+i}`}arcTo(t,r,n,a,o){if(t=+t,r=+r,n=+n,a=+a,o=+o,o<0)throw new Error(`negative radius: ${o}`);let i=this._x1,s=this._y1,l=n-t,c=a-r,d=i-t,f=s-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>ki)if(!(Math.abs(f*l-c*d)>ki)||!o)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-i,m=a-s,v=l*l+c*c,w=p*p+m*m,y=Math.sqrt(v),g=Math.sqrt(h),x=o*Math.tan((Dg-Math.acos((v+h-w)/(2*y*g)))/2),S=x/g,k=x/y;Math.abs(S-1)>ki&&this._append`L${t+S*d},${r+S*f}`,this._append`A${o},${o},0,0,${+(f*p>d*m)},${this._x1=t+k*l},${this._y1=r+k*c}`}}arc(t,r,n,a,o,i){if(t=+t,r=+r,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(a),l=n*Math.sin(a),c=t+s,d=r+l,f=1^i,h=i?a-o:o-a;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>ki||Math.abs(this._y1-d)>ki)&&this._append`L${c},${d}`,n&&(h<0&&(h=h%Rg+Rg),h>t4?this._append`A${n},${n},0,1,${f},${t-s},${r-l}A${n},${n},0,1,${f},${this._x1=c},${this._y1=d}`:h>ki&&this._append`A${n},${n},0,${+(h>=Dg)},${f},${this._x1=t+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function cv(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new n4(t)}function uv(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function e_(e){this._context=e}e_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Qh(e){return new e_(e)}function t_(e){return e[0]}function r_(e){return e[1]}function n_(e,t){var r=Ut(!0),n=null,a=Qh,o=null,i=cv(s);e=typeof e=="function"?e:e===void 0?t_:Ut(e),t=typeof t=="function"?t:t===void 0?r_:Ut(t);function s(l){var c,d=(l=uv(l)).length,f,h=!1,p;for(n==null&&(o=a(p=i())),c=0;c<=d;++c)!(c<d&&r(f=l[c],c,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+e(f,c,l),+t(f,c,l));if(p)return o=null,p+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:Ut(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:Ut(+l),s):t},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Ut(!!l),s):r},s.curve=function(l){return arguments.length?(a=l,n!=null&&(o=a(n)),s):a},s.context=function(l){return arguments.length?(l==null?n=o=null:o=a(n=l),s):n},s}function gf(e,t,r){var n=null,a=Ut(!0),o=null,i=Qh,s=null,l=cv(c);e=typeof e=="function"?e:e===void 0?t_:Ut(+e),t=typeof t=="function"?t:Ut(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?r_:Ut(+r);function c(f){var h,p,m,v=(f=uv(f)).length,w,y=!1,g,x=new Array(v),S=new Array(v);for(o==null&&(s=i(g=l())),h=0;h<=v;++h){if(!(h<v&&a(w=f[h],h,f))===y)if(y=!y)p=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),m=h-1;m>=p;--m)s.point(x[m],S[m]);s.lineEnd(),s.areaEnd()}y&&(x[h]=+e(w,h,f),S[h]=+t(w,h,f),s.point(n?+n(w,h,f):x[h],r?+r(w,h,f):S[h]))}if(g)return s=null,g+""||null}function d(){return n_().defined(a).curve(i).context(o)}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:Ut(+f),n=null,c):e},c.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Ut(+f),c):e},c.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ut(+f),c):n},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:Ut(+f),r=null,c):t},c.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Ut(+f),c):t},c.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ut(+f),c):r},c.lineX0=c.lineY0=function(){return d().x(e).y(t)},c.lineY1=function(){return d().x(e).y(r)},c.lineX1=function(){return d().x(n).y(t)},c.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Ut(!!f),c):a},c.curve=function(f){return arguments.length?(i=f,o!=null&&(s=i(o)),c):i},c.context=function(f){return arguments.length?(f==null?o=s=null:s=i(o=f),c):o},c}class a_{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function a4(e){return new a_(e,!0)}function o4(e){return new a_(e,!1)}const fv={draw(e,t){const r=Ra(t/yd);e.moveTo(r,0),e.arc(0,0,r,0,Zh)}},i4={draw(e,t){const r=Ra(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},o_=Ra(1/3),s4=o_*2,l4={draw(e,t){const r=Ra(t/s4),n=r*o_;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},c4={draw(e,t){const r=Ra(t),n=-r/2;e.rect(n,n,r,r)}},u4=.8908130915292852,i_=md(yd/10)/md(7*yd/10),f4=md(Zh/10)*i_,d4=-Qj(Zh/10)*i_,h4={draw(e,t){const r=Ra(t*u4),n=f4*r,a=d4*r;e.moveTo(0,-r),e.lineTo(n,a);for(let o=1;o<5;++o){const i=Zh*o/5,s=Qj(i),l=md(i);e.lineTo(l*r,-s*r),e.lineTo(s*n-l*a,l*n+s*a)}e.closePath()}},rp=Ra(3),p4={draw(e,t){const r=-Ra(t/(rp*3));e.moveTo(0,r*2),e.lineTo(-rp*r,-r),e.lineTo(rp*r,-r),e.closePath()}},sa=-.5,la=Ra(3)/2,Lg=1/Ra(12),g4=(Lg/2+1)*3,m4={draw(e,t){const r=Ra(t/g4),n=r/2,a=r*Lg,o=n,i=r*Lg+r,s=-o,l=i;e.moveTo(n,a),e.lineTo(o,i),e.lineTo(s,l),e.lineTo(sa*n-la*a,la*n+sa*a),e.lineTo(sa*o-la*i,la*o+sa*i),e.lineTo(sa*s-la*l,la*s+sa*l),e.lineTo(sa*n+la*a,sa*a-la*n),e.lineTo(sa*o+la*i,sa*i-la*o),e.lineTo(sa*s+la*l,sa*l-la*s),e.closePath()}};function y4(e,t){let r=null,n=cv(a);e=typeof e=="function"?e:Ut(e||fv),t=typeof t=="function"?t:Ut(t===void 0?64:+t);function a(){let o;if(r||(r=o=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),o)return r=null,o+""||null}return a.type=function(o){return arguments.length?(e=typeof o=="function"?o:Ut(o),a):e},a.size=function(o){return arguments.length?(t=typeof o=="function"?o:Ut(+o),a):t},a.context=function(o){return arguments.length?(r=o??null,a):r},a}function vd(){}function xd(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function s_(e){this._context=e}s_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:xd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:xd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function v4(e){return new s_(e)}function l_(e){this._context=e}l_.prototype={areaStart:vd,areaEnd:vd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:xd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function x4(e){return new l_(e)}function c_(e){this._context=e}c_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:xd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function b4(e){return new c_(e)}function u_(e){this._context=e}u_.prototype={areaStart:vd,areaEnd:vd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function w4(e){return new u_(e)}function Tb(e){return e<0?-1:1}function $b(e,t,r){var n=e._x1-e._x0,a=t-e._x1,o=(e._y1-e._y0)/(n||a<0&&-0),i=(r-e._y1)/(a||n<0&&-0),s=(o*a+i*n)/(n+a);return(Tb(o)+Tb(i))*Math.min(Math.abs(o),Math.abs(i),.5*Math.abs(s))||0}function Db(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function np(e,t,r){var n=e._x0,a=e._y0,o=e._x1,i=e._y1,s=(o-n)/3;e._context.bezierCurveTo(n+s,a+s*t,o-s,i-s*r,o,i)}function bd(e){this._context=e}bd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:np(this,this._t0,Db(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,np(this,Db(this,r=$b(this,e,t)),r);break;default:np(this,this._t0,r=$b(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function f_(e){this._context=new d_(e)}(f_.prototype=Object.create(bd.prototype)).point=function(e,t){bd.prototype.point.call(this,t,e)};function d_(e){this._context=e}d_.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,o){this._context.bezierCurveTo(t,e,n,r,o,a)}};function k4(e){return new bd(e)}function S4(e){return new f_(e)}function h_(e){this._context=e}h_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Rb(e),a=Rb(t),o=0,i=1;i<r;++o,++i)this._context.bezierCurveTo(n[0][o],a[0][o],n[1][o],a[1][o],e[i],t[i]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Rb(e){var t,r=e.length-1,n,a=new Array(r),o=new Array(r),i=new Array(r);for(a[0]=0,o[0]=2,i[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,o[t]=4,i[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,o[r-1]=7,i[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/o[t-1],o[t]-=n,i[t]-=n*i[t-1];for(a[r-1]=i[r-1]/o[r-1],t=r-2;t>=0;--t)a[t]=(i[t]-a[t+1])/o[t];for(o[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-a[t+1];return[a,o]}function j4(e){return new h_(e)}function Jh(e,t){this._context=e,this._t=t}Jh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function _4(e){return new Jh(e,.5)}function N4(e){return new Jh(e,0)}function O4(e){return new Jh(e,1)}function Xs(e,t){if((i=e.length)>1)for(var r=1,n,a,o=e[t[0]],i,s=o.length;r<i;++r)for(a=o,o=e[t[r]],n=0;n<s;++n)o[n][1]+=o[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function Ig(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function P4(e,t){return e[t]}function M4(e){const t=[];return t.key=e,t}function A4(){var e=Ut([]),t=Ig,r=Xs,n=P4;function a(o){var i=Array.from(e.apply(this,arguments),M4),s,l=i.length,c=-1,d;for(const f of o)for(s=0,++c;s<l;++s)(i[s][c]=[0,+n(f,i[s].key,c,o)]).data=f;for(s=0,d=uv(t(i));s<l;++s)i[d[s]].index=s;return r(i,d),i}return a.keys=function(o){return arguments.length?(e=typeof o=="function"?o:Ut(Array.from(o)),a):e},a.value=function(o){return arguments.length?(n=typeof o=="function"?o:Ut(+o),a):n},a.order=function(o){return arguments.length?(t=o==null?Ig:typeof o=="function"?o:Ut(Array.from(o)),a):t},a.offset=function(o){return arguments.length?(r=o??Xs,a):r},a}function C4(e,t){if((n=e.length)>0){for(var r,n,a=0,o=e[0].length,i;a<o;++a){for(i=r=0;r<n;++r)i+=e[r][a][1]||0;if(i)for(r=0;r<n;++r)e[r][a][1]/=i}Xs(e,t)}}function E4(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,o=n.length;r<o;++r){for(var i=0,s=0;i<a;++i)s+=e[i][r][1]||0;n[r][1]+=n[r][0]=-s/2}Xs(e,t)}}function T4(e,t){if(!(!((i=e.length)>0)||!((o=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,o,i;n<o;++n){for(var s=0,l=0,c=0;s<i;++s){for(var d=e[t[s]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,m=0;m<s;++m){var v=e[t[m]],w=v[n][1]||0,y=v[n-1][1]||0;p+=w-y}l+=f,c+=p*f}a[n-1][1]+=a[n-1][0]=r,l&&(r-=c/l)}a[n-1][1]+=a[n-1][0]=r,Xs(e,t)}}function Gc(e){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gc(e)}var $4=["type","size","sizeType"];function Bg(){return Bg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bg.apply(this,arguments)}function Lb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ib(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lb(Object(r),!0).forEach(function(n){D4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function D4(e,t,r){return t=R4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R4(e){var t=L4(e,"string");return Gc(t)=="symbol"?t:t+""}function L4(e,t){if(Gc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function I4(e,t){if(e==null)return{};var r=B4(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function B4(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var p_={symbolCircle:fv,symbolCross:i4,symbolDiamond:l4,symbolSquare:c4,symbolStar:h4,symbolTriangle:p4,symbolWye:m4},F4=Math.PI/180,z4=function(t){var r="symbol".concat(qh(t));return p_[r]||fv},U4=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*F4;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},W4=function(t,r){p_["symbol".concat(qh(t))]=r},e0=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,o=a===void 0?64:a,i=t.sizeType,s=i===void 0?"area":i,l=I4(t,$4),c=Ib(Ib({},l),{},{type:n,size:o,sizeType:s}),d=function(){var w=z4(n),y=y4().type(w).size(U4(o,s,n));return y()},f=c.className,h=c.cx,p=c.cy,m=Ve(c,!0);return h===+h&&p===+p&&o===+o?I.createElement("path",Bg({},m,{className:st("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};e0.registerSymbol=W4;function Ks(e){"@babel/helpers - typeof";return Ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ks(e)}function Fg(){return Fg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fg.apply(this,arguments)}function Bb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function G4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bb(Object(r),!0).forEach(function(n){Hc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function H4(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m_(n.key),n)}}function X4(e,t,r){return t&&V4(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function K4(e,t,r){return t=wd(t),Y4(e,g_()?Reflect.construct(t,r||[],wd(e).constructor):t.apply(e,r))}function Y4(e,t){if(t&&(Ks(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q4(e)}function q4(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g_=function(){return!!e})()}function wd(e){return wd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wd(e)}function Z4(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zg(e,t)}function zg(e,t){return zg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},zg(e,t)}function Hc(e,t,r){return t=m_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m_(e){var t=Q4(e,"string");return Ks(t)=="symbol"?t:t+""}function Q4(e,t){if(Ks(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ks(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ca=32,dv=function(e){function t(){return H4(this,t),K4(this,t,arguments)}return Z4(t,e),X4(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,o=ca/2,i=ca/6,s=ca/3,l=n.inactive?a:n.color;if(n.type==="plainline")return I.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:o,x2:ca,y2:o,className:"recharts-legend-icon"});if(n.type==="line")return I.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(ca,"M").concat(2*s,",").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(n.type==="rect")return I.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(ca/8,"h").concat(ca,"v").concat(ca*3/4,"h").concat(-ca,"z"),className:"recharts-legend-icon"});if(I.isValidElement(n.legendIcon)){var c=G4({},n);return delete c.legendIcon,I.cloneElement(n.legendIcon,c)}return I.createElement(e0,{fill:l,cx:o,cy:o,size:ca,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,o=a.payload,i=a.iconSize,s=a.layout,l=a.formatter,c=a.inactiveColor,d={x:0,y:0,width:ca,height:ca},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(p,m){var v=p.formatter||l,w=st(Hc(Hc({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",p.inactive));if(p.type==="none")return null;var y=Xe(p.value)?null:p.value;yo(!Xe(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var g=p.inactive?c:p.color;return I.createElement("li",Fg({className:w,style:f,key:"legend-item-".concat(m)},Wc(n.props,p,m)),I.createElement(Cg,{width:i,height:i,viewBox:d,style:h},n.renderIcon(p)),I.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},v?v(y,p,m):y))})}},{key:"render",value:function(){var n=this.props,a=n.payload,o=n.layout,i=n.align;if(!a||!a.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?i:"left"};return I.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(j.PureComponent);Hc(dv,"displayName","Legend");Hc(dv,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var J4=Lh;function e3(){this.__data__=new J4,this.size=0}var t3=e3;function r3(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var n3=r3;function a3(e){return this.__data__.get(e)}var o3=a3;function i3(e){return this.__data__.has(e)}var s3=i3,l3=Lh,c3=ev,u3=tv,f3=200;function d3(e,t){var r=this.__data__;if(r instanceof l3){var n=r.__data__;if(!c3||n.length<f3-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new u3(n)}return r.set(e,t),this.size=r.size,this}var h3=d3,p3=Lh,g3=t3,m3=n3,y3=o3,v3=s3,x3=h3;function Pl(e){var t=this.__data__=new p3(e);this.size=t.size}Pl.prototype.clear=g3;Pl.prototype.delete=m3;Pl.prototype.get=y3;Pl.prototype.has=v3;Pl.prototype.set=x3;var y_=Pl,b3="__lodash_hash_undefined__";function w3(e){return this.__data__.set(e,b3),this}var k3=w3;function S3(e){return this.__data__.has(e)}var j3=S3,_3=tv,N3=k3,O3=j3;function kd(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new _3;++t<r;)this.add(e[t])}kd.prototype.add=kd.prototype.push=N3;kd.prototype.has=O3;var v_=kd;function P3(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var x_=P3;function M3(e,t){return e.has(t)}var b_=M3,A3=v_,C3=x_,E3=b_,T3=1,$3=2;function D3(e,t,r,n,a,o){var i=r&T3,s=e.length,l=t.length;if(s!=l&&!(i&&l>s))return!1;var c=o.get(e),d=o.get(t);if(c&&d)return c==t&&d==e;var f=-1,h=!0,p=r&$3?new A3:void 0;for(o.set(e,t),o.set(t,e);++f<s;){var m=e[f],v=t[f];if(n)var w=i?n(v,m,f,t,e,o):n(m,v,f,e,t,o);if(w!==void 0){if(w)continue;h=!1;break}if(p){if(!C3(t,function(y,g){if(!E3(p,g)&&(m===y||a(m,y,r,n,o)))return p.push(g)})){h=!1;break}}else if(!(m===v||a(m,v,r,n,o))){h=!1;break}}return o.delete(e),o.delete(t),h}var w_=D3,R3=Ja,L3=R3.Uint8Array,I3=L3;function B3(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var F3=B3;function z3(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var hv=z3,Fb=Cu,zb=I3,U3=Jy,W3=w_,G3=F3,H3=hv,V3=1,X3=2,K3="[object Boolean]",Y3="[object Date]",q3="[object Error]",Z3="[object Map]",Q3="[object Number]",J3="[object RegExp]",eD="[object Set]",tD="[object String]",rD="[object Symbol]",nD="[object ArrayBuffer]",aD="[object DataView]",Ub=Fb?Fb.prototype:void 0,ap=Ub?Ub.valueOf:void 0;function oD(e,t,r,n,a,o,i){switch(r){case aD:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case nD:return!(e.byteLength!=t.byteLength||!o(new zb(e),new zb(t)));case K3:case Y3:case Q3:return U3(+e,+t);case q3:return e.name==t.name&&e.message==t.message;case J3:case tD:return e==t+"";case Z3:var s=G3;case eD:var l=n&V3;if(s||(s=H3),e.size!=t.size&&!l)return!1;var c=i.get(e);if(c)return c==t;n|=X3,i.set(e,t);var d=W3(s(e),s(t),n,a,o,i);return i.delete(e),d;case rD:if(ap)return ap.call(e)==ap.call(t)}return!1}var iD=oD;function sD(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var k_=sD,lD=k_,cD=Gn;function uD(e,t,r){var n=t(e);return cD(e)?n:lD(n,r(e))}var fD=uD;function dD(e,t){for(var r=-1,n=e==null?0:e.length,a=0,o=[];++r<n;){var i=e[r];t(i,r,e)&&(o[a++]=i)}return o}var hD=dD;function pD(){return[]}var gD=pD,mD=hD,yD=gD,vD=Object.prototype,xD=vD.propertyIsEnumerable,Wb=Object.getOwnPropertySymbols,bD=Wb?function(e){return e==null?[]:(e=Object(e),mD(Wb(e),function(t){return xD.call(e,t)}))}:yD,wD=bD;function kD(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var SD=kD,jD=Po,_D=Mo,ND="[object Arguments]";function OD(e){return _D(e)&&jD(e)==ND}var PD=OD,Gb=PD,MD=Mo,S_=Object.prototype,AD=S_.hasOwnProperty,CD=S_.propertyIsEnumerable,ED=Gb(function(){return arguments}())?Gb:function(e){return MD(e)&&AD.call(e,"callee")&&!CD.call(e,"callee")},pv=ED,Sd={exports:{}};function TD(){return!1}var $D=TD;Sd.exports;(function(e,t){var r=Ja,n=$D,a=t&&!t.nodeType&&t,o=a&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===a,s=i?r.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||n;e.exports=c})(Sd,Sd.exports);var j_=Sd.exports,DD=9007199254740991,RD=/^(?:0|[1-9]\d*)$/;function LD(e,t){var r=typeof e;return t=t??DD,!!t&&(r=="number"||r!="symbol"&&RD.test(e))&&e>-1&&e%1==0&&e<t}var gv=LD,ID=9007199254740991;function BD(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=ID}var mv=BD,FD=Po,zD=mv,UD=Mo,WD="[object Arguments]",GD="[object Array]",HD="[object Boolean]",VD="[object Date]",XD="[object Error]",KD="[object Function]",YD="[object Map]",qD="[object Number]",ZD="[object Object]",QD="[object RegExp]",JD="[object Set]",eR="[object String]",tR="[object WeakMap]",rR="[object ArrayBuffer]",nR="[object DataView]",aR="[object Float32Array]",oR="[object Float64Array]",iR="[object Int8Array]",sR="[object Int16Array]",lR="[object Int32Array]",cR="[object Uint8Array]",uR="[object Uint8ClampedArray]",fR="[object Uint16Array]",dR="[object Uint32Array]",Kt={};Kt[aR]=Kt[oR]=Kt[iR]=Kt[sR]=Kt[lR]=Kt[cR]=Kt[uR]=Kt[fR]=Kt[dR]=!0;Kt[WD]=Kt[GD]=Kt[rR]=Kt[HD]=Kt[nR]=Kt[VD]=Kt[XD]=Kt[KD]=Kt[YD]=Kt[qD]=Kt[ZD]=Kt[QD]=Kt[JD]=Kt[eR]=Kt[tR]=!1;function hR(e){return UD(e)&&zD(e.length)&&!!Kt[FD(e)]}var pR=hR;function gR(e){return function(t){return e(t)}}var __=gR,jd={exports:{}};jd.exports;(function(e,t){var r=Ej,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===n,i=o&&r.process,s=function(){try{var l=a&&a.require&&a.require("util").types;return l||i&&i.binding&&i.binding("util")}catch{}}();e.exports=s})(jd,jd.exports);var mR=jd.exports,yR=pR,vR=__,Hb=mR,Vb=Hb&&Hb.isTypedArray,xR=Vb?vR(Vb):yR,N_=xR,bR=SD,wR=pv,kR=Gn,SR=j_,jR=gv,_R=N_,NR=Object.prototype,OR=NR.hasOwnProperty;function PR(e,t){var r=kR(e),n=!r&&wR(e),a=!r&&!n&&SR(e),o=!r&&!n&&!a&&_R(e),i=r||n||a||o,s=i?bR(e.length,String):[],l=s.length;for(var c in e)(t||OR.call(e,c))&&!(i&&(c=="length"||a&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||jR(c,l)))&&s.push(c);return s}var MR=PR,AR=Object.prototype;function CR(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||AR;return e===r}var ER=CR;function TR(e,t){return function(r){return e(t(r))}}var O_=TR,$R=O_,DR=$R(Object.keys,Object),RR=DR,LR=ER,IR=RR,BR=Object.prototype,FR=BR.hasOwnProperty;function zR(e){if(!LR(e))return IR(e);var t=[];for(var r in Object(e))FR.call(e,r)&&r!="constructor"&&t.push(r);return t}var UR=zR,WR=Qy,GR=mv;function HR(e){return e!=null&&GR(e.length)&&!WR(e)}var Eu=HR,VR=MR,XR=UR,KR=Eu;function YR(e){return KR(e)?VR(e):XR(e)}var t0=YR,qR=fD,ZR=wD,QR=t0;function JR(e){return qR(e,QR,ZR)}var eL=JR,Xb=eL,tL=1,rL=Object.prototype,nL=rL.hasOwnProperty;function aL(e,t,r,n,a,o){var i=r&tL,s=Xb(e),l=s.length,c=Xb(t),d=c.length;if(l!=d&&!i)return!1;for(var f=l;f--;){var h=s[f];if(!(i?h in t:nL.call(t,h)))return!1}var p=o.get(e),m=o.get(t);if(p&&m)return p==t&&m==e;var v=!0;o.set(e,t),o.set(t,e);for(var w=i;++f<l;){h=s[f];var y=e[h],g=t[h];if(n)var x=i?n(g,y,h,t,e,o):n(y,g,h,e,t,o);if(!(x===void 0?y===g||a(y,g,r,n,o):x)){v=!1;break}w||(w=h=="constructor")}if(v&&!w){var S=e.constructor,k=t.constructor;S!=k&&"constructor"in e&&"constructor"in t&&!(typeof S=="function"&&S instanceof S&&typeof k=="function"&&k instanceof k)&&(v=!1)}return o.delete(e),o.delete(t),v}var oL=aL,iL=Qi,sL=Ja,lL=iL(sL,"DataView"),cL=lL,uL=Qi,fL=Ja,dL=uL(fL,"Promise"),hL=dL,pL=Qi,gL=Ja,mL=pL(gL,"Set"),P_=mL,yL=Qi,vL=Ja,xL=yL(vL,"WeakMap"),bL=xL,Ug=cL,Wg=ev,Gg=hL,Hg=P_,Vg=bL,M_=Po,Ml=$j,Kb="[object Map]",wL="[object Object]",Yb="[object Promise]",qb="[object Set]",Zb="[object WeakMap]",Qb="[object DataView]",kL=Ml(Ug),SL=Ml(Wg),jL=Ml(Gg),_L=Ml(Hg),NL=Ml(Vg),Si=M_;(Ug&&Si(new Ug(new ArrayBuffer(1)))!=Qb||Wg&&Si(new Wg)!=Kb||Gg&&Si(Gg.resolve())!=Yb||Hg&&Si(new Hg)!=qb||Vg&&Si(new Vg)!=Zb)&&(Si=function(e){var t=M_(e),r=t==wL?e.constructor:void 0,n=r?Ml(r):"";if(n)switch(n){case kL:return Qb;case SL:return Kb;case jL:return Yb;case _L:return qb;case NL:return Zb}return t});var OL=Si,op=y_,PL=w_,ML=iD,AL=oL,Jb=OL,e1=Gn,t1=j_,CL=N_,EL=1,r1="[object Arguments]",n1="[object Array]",mf="[object Object]",TL=Object.prototype,a1=TL.hasOwnProperty;function $L(e,t,r,n,a,o){var i=e1(e),s=e1(t),l=i?n1:Jb(e),c=s?n1:Jb(t);l=l==r1?mf:l,c=c==r1?mf:c;var d=l==mf,f=c==mf,h=l==c;if(h&&t1(e)){if(!t1(t))return!1;i=!0,d=!1}if(h&&!d)return o||(o=new op),i||CL(e)?PL(e,t,r,n,a,o):ML(e,t,l,r,n,a,o);if(!(r&EL)){var p=d&&a1.call(e,"__wrapped__"),m=f&&a1.call(t,"__wrapped__");if(p||m){var v=p?e.value():e,w=m?t.value():t;return o||(o=new op),a(v,w,r,n,o)}}return h?(o||(o=new op),AL(e,t,r,n,a,o)):!1}var DL=$L,RL=DL,o1=Mo;function A_(e,t,r,n,a){return e===t?!0:e==null||t==null||!o1(e)&&!o1(t)?e!==e&&t!==t:RL(e,t,r,n,A_,a)}var yv=A_,LL=y_,IL=yv,BL=1,FL=2;function zL(e,t,r,n){var a=r.length,o=a,i=!n;if(e==null)return!o;for(e=Object(e);a--;){var s=r[a];if(i&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<o;){s=r[a];var l=s[0],c=e[l],d=s[1];if(i&&s[2]){if(c===void 0&&!(l in e))return!1}else{var f=new LL;if(n)var h=n(c,d,l,e,t,f);if(!(h===void 0?IL(d,c,BL|FL,n,f):h))return!1}}return!0}var UL=zL,WL=li;function GL(e){return e===e&&!WL(e)}var C_=GL,HL=C_,VL=t0;function XL(e){for(var t=VL(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,HL(a)]}return t}var KL=XL;function YL(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var E_=YL,qL=UL,ZL=KL,QL=E_;function JL(e){var t=ZL(e);return t.length==1&&t[0][2]?QL(t[0][0],t[0][1]):function(r){return r===e||qL(r,e,t)}}var eI=JL;function tI(e,t){return e!=null&&t in Object(e)}var rI=tI,nI=Bj,aI=pv,oI=Gn,iI=gv,sI=mv,lI=Bh;function cI(e,t,r){t=nI(t,e);for(var n=-1,a=t.length,o=!1;++n<a;){var i=lI(t[n]);if(!(o=e!=null&&r(e,i)))break;e=e[i]}return o||++n!=a?o:(a=e==null?0:e.length,!!a&&sI(a)&&iI(i,a)&&(oI(e)||aI(e)))}var uI=cI,fI=rI,dI=uI;function hI(e,t){return e!=null&&dI(e,t,fI)}var pI=hI,gI=yv,mI=Fj,yI=pI,vI=Zy,xI=C_,bI=E_,wI=Bh,kI=1,SI=2;function jI(e,t){return vI(e)&&xI(t)?bI(wI(e),t):function(r){var n=mI(r,e);return n===void 0&&n===t?yI(r,e):gI(t,n,kI|SI)}}var _I=jI;function NI(e){return e}var Al=NI;function OI(e){return function(t){return t==null?void 0:t[e]}}var PI=OI,MI=av;function AI(e){return function(t){return MI(t,e)}}var CI=AI,EI=PI,TI=CI,$I=Zy,DI=Bh;function RI(e){return $I(e)?EI(DI(e)):TI(e)}var LI=RI,II=eI,BI=_I,FI=Al,zI=Gn,UI=LI;function WI(e){return typeof e=="function"?e:e==null?FI:typeof e=="object"?zI(e)?BI(e[0],e[1]):II(e):UI(e)}var ci=WI;function GI(e,t,r,n){for(var a=e.length,o=r+(n?1:-1);n?o--:++o<a;)if(t(e[o],o,e))return o;return-1}var T_=GI;function HI(e){return e!==e}var VI=HI;function XI(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var KI=XI,YI=T_,qI=VI,ZI=KI;function QI(e,t,r){return t===t?ZI(e,t,r):YI(e,qI,r)}var JI=QI,e6=JI;function t6(e,t){var r=e==null?0:e.length;return!!r&&e6(e,t,0)>-1}var r6=t6;function n6(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var a6=n6;function o6(){}var i6=o6,ip=P_,s6=i6,l6=hv,c6=1/0,u6=ip&&1/l6(new ip([,-0]))[1]==c6?function(e){return new ip(e)}:s6,f6=u6,d6=v_,h6=r6,p6=a6,g6=b_,m6=f6,y6=hv,v6=200;function x6(e,t,r){var n=-1,a=h6,o=e.length,i=!0,s=[],l=s;if(r)i=!1,a=p6;else if(o>=v6){var c=t?null:m6(e);if(c)return y6(c);i=!1,a=g6,l=new d6}else l=t?[]:s;e:for(;++n<o;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,i&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;t&&l.push(f),s.push(d)}else a(l,f,r)||(l!==s&&l.push(f),s.push(d))}return s}var b6=x6,w6=ci,k6=b6;function S6(e,t){return e&&e.length?k6(e,w6(t)):[]}var j6=S6;const i1=Rt(j6);function $_(e,t,r){return t===!0?i1(e,r):Xe(t)?i1(e,t):e}function Ys(e){"@babel/helpers - typeof";return Ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ys(e)}var _6=["ref"];function s1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s1(Object(r),!0).forEach(function(n){r0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function N6(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l1(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,R_(n.key),n)}}function O6(e,t,r){return t&&l1(e.prototype,t),r&&l1(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function P6(e,t,r){return t=_d(t),M6(e,D_()?Reflect.construct(t,r||[],_d(e).constructor):t.apply(e,r))}function M6(e,t){if(t&&(Ys(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A6(e)}function A6(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(D_=function(){return!!e})()}function _d(e){return _d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_d(e)}function C6(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xg(e,t)}function Xg(e,t){return Xg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Xg(e,t)}function r0(e,t,r){return t=R_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R_(e){var t=E6(e,"string");return Ys(t)=="symbol"?t:t+""}function E6(e,t){if(Ys(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ys(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function T6(e,t){if(e==null)return{};var r=$6(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $6(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function D6(e){return e.value}function R6(e,t){if(I.isValidElement(e))return I.cloneElement(e,t);if(typeof e=="function")return I.createElement(e,t);t.ref;var r=T6(t,_6);return I.createElement(dv,r)}var c1=1,Va=function(e){function t(){var r;N6(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=P6(this,t,[].concat(a)),r0(r,"lastBoundingBox",{width:-1,height:-1}),r}return C6(t,e),O6(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>c1||Math.abs(a.height-this.lastBoundingBox.height)>c1)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?oo({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,o=a.layout,i=a.align,s=a.verticalAlign,l=a.margin,c=a.chartWidth,d=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(i==="center"&&o==="vertical"){var p=this.getBBoxSnapshot();f={left:((c||0)-p.width)/2}}else f=i==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(s==="middle"){var m=this.getBBoxSnapshot();h={top:((d||0)-m.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return oo(oo({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,o=a.content,i=a.width,s=a.height,l=a.wrapperStyle,c=a.payloadUniqBy,d=a.payload,f=oo(oo({position:"absolute",width:i||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return I.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},R6(o,oo(oo({},this.props),{},{payload:$_(d,c,D6)})))}}],[{key:"getWithHeight",value:function(n,a){var o=oo(oo({},this.defaultProps),n.props),i=o.layout;return i==="vertical"&&fe(n.props.height)?{height:n.props.height}:i==="horizontal"?{width:n.props.width||a}:null}}])}(j.PureComponent);r0(Va,"displayName","Legend");r0(Va,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var u1=Cu,L6=pv,I6=Gn,f1=u1?u1.isConcatSpreadable:void 0;function B6(e){return I6(e)||L6(e)||!!(f1&&e&&e[f1])}var F6=B6,z6=k_,U6=F6;function L_(e,t,r,n,a){var o=-1,i=e.length;for(r||(r=U6),a||(a=[]);++o<i;){var s=e[o];t>0&&r(s)?t>1?L_(s,t-1,r,n,a):z6(a,s):n||(a[a.length]=s)}return a}var I_=L_;function W6(e){return function(t,r,n){for(var a=-1,o=Object(t),i=n(t),s=i.length;s--;){var l=i[e?s:++a];if(r(o[l],l,o)===!1)break}return t}}var G6=W6,H6=G6,V6=H6(),X6=V6,K6=X6,Y6=t0;function q6(e,t){return e&&K6(e,t,Y6)}var B_=q6,Z6=Eu;function Q6(e,t){return function(r,n){if(r==null)return r;if(!Z6(r))return e(r,n);for(var a=r.length,o=t?a:-1,i=Object(r);(t?o--:++o<a)&&n(i[o],o,i)!==!1;);return r}}var J6=Q6,eB=B_,tB=J6,rB=tB(eB),vv=rB,nB=vv,aB=Eu;function oB(e,t){var r=-1,n=aB(e)?Array(e.length):[];return nB(e,function(a,o,i){n[++r]=t(a,o,i)}),n}var F_=oB;function iB(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var sB=iB,d1=kl;function lB(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,o=d1(e),i=t!==void 0,s=t===null,l=t===t,c=d1(t);if(!s&&!c&&!o&&e>t||o&&i&&l&&!s&&!c||n&&i&&l||!r&&l||!a)return 1;if(!n&&!o&&!c&&e<t||c&&r&&a&&!n&&!o||s&&r&&a||!i&&a||!l)return-1}return 0}var cB=lB,uB=cB;function fB(e,t,r){for(var n=-1,a=e.criteria,o=t.criteria,i=a.length,s=r.length;++n<i;){var l=uB(a[n],o[n]);if(l){if(n>=s)return l;var c=r[n];return l*(c=="desc"?-1:1)}}return e.index-t.index}var dB=fB,sp=nv,hB=av,pB=ci,gB=F_,mB=sB,yB=__,vB=dB,xB=Al,bB=Gn;function wB(e,t,r){t.length?t=sp(t,function(o){return bB(o)?function(i){return hB(i,o.length===1?o[0]:o)}:o}):t=[xB];var n=-1;t=sp(t,yB(pB));var a=gB(e,function(o,i,s){var l=sp(t,function(c){return c(o)});return{criteria:l,index:++n,value:o}});return mB(a,function(o,i){return vB(o,i,r)})}var kB=wB;function SB(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var jB=SB,_B=jB,h1=Math.max;function NB(e,t,r){return t=h1(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,o=h1(n.length-t,0),i=Array(o);++a<o;)i[a]=n[t+a];a=-1;for(var s=Array(t+1);++a<t;)s[a]=n[a];return s[t]=r(i),_B(e,this,s)}}var OB=NB;function PB(e){return function(){return e}}var MB=PB,AB=Qi,CB=function(){try{var e=AB(Object,"defineProperty");return e({},"",{}),e}catch{}}(),z_=CB,EB=MB,p1=z_,TB=Al,$B=p1?function(e,t){return p1(e,"toString",{configurable:!0,enumerable:!1,value:EB(t),writable:!0})}:TB,DB=$B,RB=800,LB=16,IB=Date.now;function BB(e){var t=0,r=0;return function(){var n=IB(),a=LB-(n-r);if(r=n,a>0){if(++t>=RB)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var FB=BB,zB=DB,UB=FB,WB=UB(zB),GB=WB,HB=Al,VB=OB,XB=GB;function KB(e,t){return XB(VB(e,t,HB),e+"")}var YB=KB,qB=Jy,ZB=Eu,QB=gv,JB=li;function e8(e,t,r){if(!JB(r))return!1;var n=typeof t;return(n=="number"?ZB(r)&&QB(t,r.length):n=="string"&&t in r)?qB(r[t],e):!1}var n0=e8,t8=I_,r8=kB,n8=YB,g1=n0,a8=n8(function(e,t){if(e==null)return[];var r=t.length;return r>1&&g1(e,t[0],t[1])?t=[]:r>2&&g1(t[0],t[1],t[2])&&(t=[t[0]]),r8(e,t8(t,1),[])}),o8=a8;const xv=Rt(o8);function Vc(e){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vc(e)}function Kg(){return Kg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kg.apply(this,arguments)}function i8(e,t){return u8(e)||c8(e,t)||l8(e,t)||s8()}function s8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l8(e,t){if(e){if(typeof e=="string")return m1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m1(e,t)}}function m1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c8(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function u8(e){if(Array.isArray(e))return e}function y1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y1(Object(r),!0).forEach(function(n){f8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function f8(e,t,r){return t=d8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d8(e){var t=h8(e,"string");return Vc(t)=="symbol"?t:t+""}function h8(e,t){if(Vc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function p8(e){return Array.isArray(e)&&Lr(e[0])&&Lr(e[1])?e.join(" ~ "):e}var g8=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,o=a===void 0?{}:a,i=t.itemStyle,s=i===void 0?{}:i,l=t.labelStyle,c=l===void 0?{}:l,d=t.payload,f=t.formatter,h=t.itemSorter,p=t.wrapperClassName,m=t.labelClassName,v=t.label,w=t.labelFormatter,y=t.accessibilityLayer,g=y===void 0?!1:y,x=function(){if(d&&d.length){var C={padding:0,margin:0},T=(h?xv(d,h):d).map(function(F,D){if(F.type==="none")return null;var U=lp({display:"block",paddingTop:4,paddingBottom:4,color:F.color||"#000"},s),M=F.formatter||f||p8,E=F.value,R=F.name,G=E,Q=R;if(M&&G!=null&&Q!=null){var X=M(E,R,F,D,d);if(Array.isArray(X)){var L=i8(X,2);G=L[0],Q=L[1]}else G=X}return I.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(D),style:U},Lr(Q)?I.createElement("span",{className:"recharts-tooltip-item-name"},Q):null,Lr(Q)?I.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,I.createElement("span",{className:"recharts-tooltip-item-value"},G),I.createElement("span",{className:"recharts-tooltip-item-unit"},F.unit||""))});return I.createElement("ul",{className:"recharts-tooltip-item-list",style:C},T)}return null},S=lp({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),k=lp({margin:0},c),b=!We(v),_=b?v:"",N=st("recharts-default-tooltip",p),O=st("recharts-tooltip-label",m);b&&w&&d!==void 0&&d!==null&&(_=w(v,d));var P=g?{role:"status","aria-live":"assertive"}:{};return I.createElement("div",Kg({className:N,style:S},P),I.createElement("p",{className:O,style:k},I.isValidElement(_)?_:"".concat(_)),x())};function Xc(e){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xc(e)}function yf(e,t,r){return t=m8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m8(e){var t=y8(e,"string");return Xc(t)=="symbol"?t:t+""}function y8(e,t){if(Xc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yl="recharts-tooltip-wrapper",v8={visibility:"hidden"};function x8(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return st(Yl,yf(yf(yf(yf({},"".concat(Yl,"-right"),fe(r)&&t&&fe(t.x)&&r>=t.x),"".concat(Yl,"-left"),fe(r)&&t&&fe(t.x)&&r<t.x),"".concat(Yl,"-bottom"),fe(n)&&t&&fe(t.y)&&n>=t.y),"".concat(Yl,"-top"),fe(n)&&t&&fe(t.y)&&n<t.y))}function v1(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,o=e.position,i=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(o&&fe(o[n]))return o[n];var d=r[n]-s-a,f=r[n]+a;if(t[n])return i[n]?d:f;if(i[n]){var h=d,p=l[n];return h<p?Math.max(f,l[n]):Math.max(d,l[n])}var m=f+s,v=l[n]+c;return m>v?Math.max(d,l[n]):Math.max(f,l[n])}function b8(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function w8(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,o=e.reverseDirection,i=e.tooltipBox,s=e.useTranslate3d,l=e.viewBox,c,d,f;return i.height>0&&i.width>0&&r?(d=v1({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:o,tooltipDimension:i.width,viewBox:l,viewBoxDimension:l.width}),f=v1({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:o,tooltipDimension:i.height,viewBox:l,viewBoxDimension:l.height}),c=b8({translateX:d,translateY:f,useTranslate3d:s})):c=v8,{cssProperties:c,cssClasses:x8({translateX:d,translateY:f,coordinate:r})}}function qs(e){"@babel/helpers - typeof";return qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qs(e)}function x1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function b1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x1(Object(r),!0).forEach(function(n){qg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function k8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S8(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,W_(n.key),n)}}function j8(e,t,r){return t&&S8(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _8(e,t,r){return t=Nd(t),N8(e,U_()?Reflect.construct(t,r||[],Nd(e).constructor):t.apply(e,r))}function N8(e,t){if(t&&(qs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O8(e)}function O8(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(U_=function(){return!!e})()}function Nd(e){return Nd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nd(e)}function P8(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yg(e,t)}function Yg(e,t){return Yg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Yg(e,t)}function qg(e,t,r){return t=W_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W_(e){var t=M8(e,"string");return qs(t)=="symbol"?t:t+""}function M8(e,t){if(qs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var w1=1,A8=function(e){function t(){var r;k8(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=_8(this,t,[].concat(a)),qg(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),qg(r,"handleKeyDown",function(i){if(i.key==="Escape"){var s,l,c,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(c=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&c!==void 0?c:0}})}}),r}return P8(t,e),j8(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>w1||Math.abs(n.height-this.state.lastBoundingBox.height)>w1)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,o=a.active,i=a.allowEscapeViewBox,s=a.animationDuration,l=a.animationEasing,c=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,p=a.offset,m=a.position,v=a.reverseDirection,w=a.useTranslate3d,y=a.viewBox,g=a.wrapperStyle,x=w8({allowEscapeViewBox:i,coordinate:d,offsetTopLeft:p,position:m,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:w,viewBox:y}),S=x.cssClasses,k=x.cssProperties,b=b1(b1({transition:h&&o?"transform ".concat(s,"ms ").concat(l):void 0},k),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},g);return I.createElement("div",{tabIndex:-1,className:S,style:b,ref:function(N){n.wrapperNode=N}},c)}}])}(j.PureComponent),C8=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ui={isSsr:C8()};function Zs(e){"@babel/helpers - typeof";return Zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zs(e)}function k1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function S1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k1(Object(r),!0).forEach(function(n){bv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function E8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T8(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,H_(n.key),n)}}function $8(e,t,r){return t&&T8(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function D8(e,t,r){return t=Od(t),R8(e,G_()?Reflect.construct(t,r||[],Od(e).constructor):t.apply(e,r))}function R8(e,t){if(t&&(Zs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return L8(e)}function L8(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(G_=function(){return!!e})()}function Od(e){return Od=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Od(e)}function I8(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zg(e,t)}function Zg(e,t){return Zg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Zg(e,t)}function bv(e,t,r){return t=H_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H_(e){var t=B8(e,"string");return Zs(t)=="symbol"?t:t+""}function B8(e,t){if(Zs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function F8(e){return e.dataKey}function z8(e,t){return I.isValidElement(e)?I.cloneElement(e,t):typeof e=="function"?I.createElement(e,t):I.createElement(g8,t)}var Vr=function(e){function t(){return E8(this,t),D8(this,t,arguments)}return I8(t,e),$8(t,[{key:"render",value:function(){var n=this,a=this.props,o=a.active,i=a.allowEscapeViewBox,s=a.animationDuration,l=a.animationEasing,c=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,p=a.offset,m=a.payload,v=a.payloadUniqBy,w=a.position,y=a.reverseDirection,g=a.useTranslate3d,x=a.viewBox,S=a.wrapperStyle,k=m??[];f&&k.length&&(k=$_(m.filter(function(_){return _.value!=null&&(_.hide!==!0||n.props.includeHidden)}),v,F8));var b=k.length>0;return I.createElement(A8,{allowEscapeViewBox:i,animationDuration:s,animationEasing:l,isAnimationActive:h,active:o,coordinate:d,hasPayload:b,offset:p,position:w,reverseDirection:y,useTranslate3d:g,viewBox:x,wrapperStyle:S},z8(c,S1(S1({},this.props),{},{payload:k})))}}])}(j.PureComponent);bv(Vr,"displayName","Tooltip");bv(Vr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ui.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var U8=Ja,W8=function(){return U8.Date.now()},G8=W8,H8=/\s/;function V8(e){for(var t=e.length;t--&&H8.test(e.charAt(t)););return t}var X8=V8,K8=X8,Y8=/^\s+/;function q8(e){return e&&e.slice(0,K8(e)+1).replace(Y8,"")}var Z8=q8,Q8=Z8,j1=li,J8=kl,_1=NaN,eF=/^[-+]0x[0-9a-f]+$/i,tF=/^0b[01]+$/i,rF=/^0o[0-7]+$/i,nF=parseInt;function aF(e){if(typeof e=="number")return e;if(J8(e))return _1;if(j1(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=j1(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Q8(e);var r=tF.test(e);return r||rF.test(e)?nF(e.slice(2),r?2:8):eF.test(e)?_1:+e}var V_=aF,oF=li,cp=G8,N1=V_,iF="Expected a function",sF=Math.max,lF=Math.min;function cF(e,t,r){var n,a,o,i,s,l,c=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(iF);t=N1(t)||0,oF(r)&&(d=!!r.leading,f="maxWait"in r,o=f?sF(N1(r.maxWait)||0,t):o,h="trailing"in r?!!r.trailing:h);function p(b){var _=n,N=a;return n=a=void 0,c=b,i=e.apply(N,_),i}function m(b){return c=b,s=setTimeout(y,t),d?p(b):i}function v(b){var _=b-l,N=b-c,O=t-_;return f?lF(O,o-N):O}function w(b){var _=b-l,N=b-c;return l===void 0||_>=t||_<0||f&&N>=o}function y(){var b=cp();if(w(b))return g(b);s=setTimeout(y,v(b))}function g(b){return s=void 0,h&&n?p(b):(n=a=void 0,i)}function x(){s!==void 0&&clearTimeout(s),c=0,n=l=a=s=void 0}function S(){return s===void 0?i:g(cp())}function k(){var b=cp(),_=w(b);if(n=arguments,a=this,l=b,_){if(s===void 0)return m(l);if(f)return clearTimeout(s),s=setTimeout(y,t),p(l)}return s===void 0&&(s=setTimeout(y,t)),i}return k.cancel=x,k.flush=S,k}var uF=cF,fF=uF,dF=li,hF="Expected a function";function pF(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(hF);return dF(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),fF(e,t,{leading:n,maxWait:t,trailing:a})}var gF=pF;const X_=Rt(gF);function Kc(e){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kc(e)}function O1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O1(Object(r),!0).forEach(function(n){mF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mF(e,t,r){return t=yF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yF(e){var t=vF(e,"string");return Kc(t)=="symbol"?t:t+""}function vF(e,t){if(Kc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xF(e,t){return SF(e)||kF(e,t)||wF(e,t)||bF()}function bF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wF(e,t){if(e){if(typeof e=="string")return P1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P1(e,t)}}function P1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kF(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function SF(e){if(Array.isArray(e))return e}var vo=j.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,o=e.width,i=o===void 0?"100%":o,s=e.height,l=s===void 0?"100%":s,c=e.minWidth,d=c===void 0?0:c,f=e.minHeight,h=e.maxHeight,p=e.children,m=e.debounce,v=m===void 0?0:m,w=e.id,y=e.className,g=e.onResize,x=e.style,S=x===void 0?{}:x,k=j.useRef(null),b=j.useRef();b.current=g,j.useImperativeHandle(t,function(){return Object.defineProperty(k.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),k.current},configurable:!0})});var _=j.useState({containerWidth:a.width,containerHeight:a.height}),N=xF(_,2),O=N[0],P=N[1],A=j.useCallback(function(T,F){P(function(D){var U=Math.round(T),M=Math.round(F);return D.containerWidth===U&&D.containerHeight===M?D:{containerWidth:U,containerHeight:M}})},[]);j.useEffect(function(){var T=function(R){var G,Q=R[0].contentRect,X=Q.width,L=Q.height;A(X,L),(G=b.current)===null||G===void 0||G.call(b,X,L)};v>0&&(T=X_(T,v,{trailing:!0,leading:!1}));var F=new ResizeObserver(T),D=k.current.getBoundingClientRect(),U=D.width,M=D.height;return A(U,M),F.observe(k.current),function(){F.disconnect()}},[A,v]);var C=j.useMemo(function(){var T=O.containerWidth,F=O.containerHeight;if(T<0||F<0)return null;yo(Pi(i)||Pi(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,l),yo(!r||r>0,"The aspect(%s) must be greater than zero.",r);var D=Pi(i)?T:i,U=Pi(l)?F:l;r&&r>0&&(D?U=D/r:U&&(D=U*r),h&&U>h&&(U=h)),yo(D>0||U>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,U,i,l,d,f,r);var M=!Array.isArray(p)&&mo(p.type).endsWith("Chart");return I.Children.map(p,function(E){return I.isValidElement(E)?j.cloneElement(E,vf({width:D,height:U},M?{style:vf({height:"100%",width:"100%",maxHeight:U,maxWidth:D},E.props.style)}:{})):E})},[r,p,l,h,f,d,O,i]);return I.createElement("div",{id:w?"".concat(w):void 0,className:st("recharts-responsive-container",y),style:vf(vf({},S),{},{width:i,height:l,minWidth:d,minHeight:f,maxHeight:h}),ref:k},C)}),wv=function(t){return null};wv.displayName="Cell";function Yc(e){"@babel/helpers - typeof";return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yc(e)}function M1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M1(Object(r),!0).forEach(function(n){jF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jF(e,t,r){return t=_F(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _F(e){var t=NF(e,"string");return Yc(t)=="symbol"?t:t+""}function NF(e,t){if(Yc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fs={widthCache:{},cacheCount:0},OF=2e3,PF={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},A1="recharts_measurement_span";function MF(e){var t=Qg({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var vc=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ui.isSsr)return{width:0,height:0};var n=MF(r),a=JSON.stringify({text:t,copyStyle:n});if(fs.widthCache[a])return fs.widthCache[a];try{var o=document.getElementById(A1);o||(o=document.createElement("span"),o.setAttribute("id",A1),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var i=Qg(Qg({},PF),n);Object.assign(o.style,i),o.textContent="".concat(t);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return fs.widthCache[a]=l,++fs.cacheCount>OF&&(fs.cacheCount=0,fs.widthCache={}),l}catch{return{width:0,height:0}}},AF=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function qc(e){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qc(e)}function Pd(e,t){return $F(e)||TF(e,t)||EF(e,t)||CF()}function CF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EF(e,t){if(e){if(typeof e=="string")return C1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C1(e,t)}}function C1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function TF(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function $F(e){if(Array.isArray(e))return e}function DF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E1(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,LF(n.key),n)}}function RF(e,t,r){return t&&E1(e.prototype,t),r&&E1(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function LF(e){var t=IF(e,"string");return qc(t)=="symbol"?t:t+""}function IF(e,t){if(qc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var T1=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,$1=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,BF=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,FF=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,K_={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},zF=Object.keys(K_),Os="NaN";function UF(e,t){return e*K_[t]}var xf=function(){function e(t,r){DF(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!BF.test(r)&&(this.num=NaN,this.unit=""),zF.includes(r)&&(this.num=UF(t,r),this.unit="px")}return RF(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=FF.exec(r))!==null&&n!==void 0?n:[],o=Pd(a,3),i=o[1],s=o[2];return new e(parseFloat(i),s??"")}}])}();function Y_(e){if(e.includes(Os))return Os;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=T1.exec(t))!==null&&r!==void 0?r:[],a=Pd(n,4),o=a[1],i=a[2],s=a[3],l=xf.parse(o??""),c=xf.parse(s??""),d=i==="*"?l.multiply(c):l.divide(c);if(d.isNaN())return Os;t=t.replace(T1,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=$1.exec(t))!==null&&f!==void 0?f:[],p=Pd(h,4),m=p[1],v=p[2],w=p[3],y=xf.parse(m??""),g=xf.parse(w??""),x=v==="+"?y.add(g):y.subtract(g);if(x.isNaN())return Os;t=t.replace($1,x.toString())}return t}var D1=/\(([^()]*)\)/;function WF(e){for(var t=e;t.includes("(");){var r=D1.exec(t),n=Pd(r,2),a=n[1];t=t.replace(D1,Y_(a))}return t}function GF(e){var t=e.replace(/\s+/g,"");return t=WF(t),t=Y_(t),t}function HF(e){try{return GF(e)}catch{return Os}}function up(e){var t=HF(e.slice(5,-1));return t===Os?"":t}var VF=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],XF=["dx","dy","angle","className","breakAll"];function Jg(){return Jg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jg.apply(this,arguments)}function R1(e,t){if(e==null)return{};var r=KF(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function KF(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function L1(e,t){return QF(e)||ZF(e,t)||qF(e,t)||YF()}function YF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qF(e,t){if(e){if(typeof e=="string")return I1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I1(e,t)}}function I1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ZF(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function QF(e){if(Array.isArray(e))return e}var q_=/[ \f\n\r\t\v\u2028\u2029]+/,Z_=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var o=[];We(r)||(n?o=r.toString().split(""):o=r.toString().split(q_));var i=o.map(function(l){return{word:l,width:vc(l,a).width}}),s=n?0:vc("",a).width;return{wordsWithComputedWidth:i,spaceWidth:s}}catch{return null}},JF=function(t,r,n,a,o){var i=t.maxLines,s=t.children,l=t.style,c=t.breakAll,d=fe(i),f=s,h=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return D.reduce(function(U,M){var E=M.word,R=M.width,G=U[U.length-1];if(G&&(a==null||o||G.width+R+n<Number(a)))G.words.push(E),G.width+=R+n;else{var Q={words:[E],width:R};U.push(Q)}return U},[])},p=h(r),m=function(D){return D.reduce(function(U,M){return U.width>M.width?U:M})};if(!d)return p;for(var v="",w=function(D){var U=f.slice(0,D),M=Z_({breakAll:c,style:l,children:U+v}).wordsWithComputedWidth,E=h(M),R=E.length>i||m(E).width>Number(a);return[R,E]},y=0,g=f.length-1,x=0,S;y<=g&&x<=f.length-1;){var k=Math.floor((y+g)/2),b=k-1,_=w(b),N=L1(_,2),O=N[0],P=N[1],A=w(k),C=L1(A,1),T=C[0];if(!O&&!T&&(y=k+1),O&&T&&(g=k-1),!O&&T){S=P;break}x++}return S||p},B1=function(t){var r=We(t)?[]:t.toString().split(q_);return[{words:r}]},e9=function(t){var r=t.width,n=t.scaleToFit,a=t.children,o=t.style,i=t.breakAll,s=t.maxLines;if((r||n)&&!ui.isSsr){var l,c,d=Z_({breakAll:i,children:a,style:o});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;l=f,c=h}else return B1(a);return JF({breakAll:i,children:a,maxLines:s,style:o},l,c,r,n)}return B1(a)},F1="#808080",Md=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,o=a===void 0?0:a,i=t.lineHeight,s=i===void 0?"1em":i,l=t.capHeight,c=l===void 0?"0.71em":l,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,p=h===void 0?"start":h,m=t.verticalAnchor,v=m===void 0?"end":m,w=t.fill,y=w===void 0?F1:w,g=R1(t,VF),x=j.useMemo(function(){return e9({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:f,style:g.style,width:g.width})},[g.breakAll,g.children,g.maxLines,f,g.style,g.width]),S=g.dx,k=g.dy,b=g.angle,_=g.className,N=g.breakAll,O=R1(g,XF);if(!Lr(n)||!Lr(o))return null;var P=n+(fe(S)?S:0),A=o+(fe(k)?k:0),C;switch(v){case"start":C=up("calc(".concat(c,")"));break;case"middle":C=up("calc(".concat((x.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:C=up("calc(".concat(x.length-1," * -").concat(s,")"));break}var T=[];if(f){var F=x[0].width,D=g.width;T.push("scale(".concat((fe(D)?D/F:1)/F,")"))}return b&&T.push("rotate(".concat(b,", ").concat(P,", ").concat(A,")")),T.length&&(O.transform=T.join(" ")),I.createElement("text",Jg({},Ve(O,!0),{x:P,y:A,className:st("recharts-text",_),textAnchor:p,fill:y.includes("url")?F1:y}),x.map(function(U,M){var E=U.words.join(N?"":" ");return I.createElement("tspan",{x:P,dy:M===0?C:s,key:"".concat(E,"-").concat(M)},E)}))};function ri(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function t9(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function kv(e){let t,r,n;e.length!==2?(t=ri,r=(s,l)=>ri(e(s),l),n=(s,l)=>e(s)-l):(t=e===ri||e===t9?e:r9,r=e,n=e);function a(s,l,c=0,d=s.length){if(c<d){if(t(l,l)!==0)return d;do{const f=c+d>>>1;r(s[f],l)<0?c=f+1:d=f}while(c<d)}return c}function o(s,l,c=0,d=s.length){if(c<d){if(t(l,l)!==0)return d;do{const f=c+d>>>1;r(s[f],l)<=0?c=f+1:d=f}while(c<d)}return c}function i(s,l,c=0,d=s.length){const f=a(s,l,c,d-1);return f>c&&n(s[f-1],l)>-n(s[f],l)?f-1:f}return{left:a,center:i,right:o}}function r9(){return 0}function Q_(e){return e===null?NaN:+e}function*n9(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const a9=kv(ri),Tu=a9.right;kv(Q_).center;class z1 extends Map{constructor(t,r=s9){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(U1(this,t))}has(t){return super.has(U1(this,t))}set(t,r){return super.set(o9(this,t),r)}delete(t){return super.delete(i9(this,t))}}function U1({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function o9({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function i9({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function s9(e){return e!==null&&typeof e=="object"?e.valueOf():e}function l9(e=ri){if(e===ri)return J_;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function J_(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const c9=Math.sqrt(50),u9=Math.sqrt(10),f9=Math.sqrt(2);function Ad(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),o=n/Math.pow(10,a),i=o>=c9?10:o>=u9?5:o>=f9?2:1;let s,l,c;return a<0?(c=Math.pow(10,-a)/i,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*i,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=r&&r<2?Ad(e,t,r*2):[s,l,c]}function em(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,o,i]=n?Ad(t,e,r):Ad(e,t,r);if(!(o>=a))return[];const s=o-a+1,l=new Array(s);if(n)if(i<0)for(let c=0;c<s;++c)l[c]=(o-c)/-i;else for(let c=0;c<s;++c)l[c]=(o-c)*i;else if(i<0)for(let c=0;c<s;++c)l[c]=(a+c)/-i;else for(let c=0;c<s;++c)l[c]=(a+c)*i;return l}function tm(e,t,r){return t=+t,e=+e,r=+r,Ad(e,t,r)[2]}function rm(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?tm(t,e,r):tm(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function W1(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function G1(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function eN(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?J_:l9(a);n>r;){if(n-r>600){const l=n-r+1,c=t-r+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(c-l/2<0?-1:1),p=Math.max(r,Math.floor(t-c*f/l+h)),m=Math.min(n,Math.floor(t+(l-c)*f/l+h));eN(e,t,p,m,a)}const o=e[t];let i=r,s=n;for(ql(e,r,t),a(e[n],o)>0&&ql(e,r,n);i<s;){for(ql(e,i,s),++i,--s;a(e[i],o)<0;)++i;for(;a(e[s],o)>0;)--s}a(e[r],o)===0?ql(e,r,s):(++s,ql(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function ql(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function d9(e,t,r){if(e=Float64Array.from(n9(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return G1(e);if(t>=1)return W1(e);var n,a=(n-1)*t,o=Math.floor(a),i=W1(eN(e,o).subarray(0,o+1)),s=G1(e.subarray(o+1));return i+(s-i)*(a-o)}}function h9(e,t,r=Q_){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,o=Math.floor(a),i=+r(e[o],o,e),s=+r(e[o+1],o+1,e);return i+(s-i)*(a-o)}}function p9(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,o=new Array(a);++n<a;)o[n]=e+n*r;return o}function ka(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ao(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const nm=Symbol("implicit");function Sv(){var e=new z1,t=[],r=[],n=nm;function a(o){let i=e.get(o);if(i===void 0){if(n!==nm)return n;e.set(o,i=t.push(o)-1)}return r[i%r.length]}return a.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new z1;for(const i of o)e.has(i)||e.set(i,t.push(i)-1);return a},a.range=function(o){return arguments.length?(r=Array.from(o),a):r.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return Sv(t,r).unknown(n)},ka.apply(a,arguments),a}function Zc(){var e=Sv().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,o,i,s=!1,l=0,c=0,d=.5;delete e.unknown;function f(){var h=t().length,p=a<n,m=p?a:n,v=p?n:a;o=(v-m)/Math.max(1,h-l+c*2),s&&(o=Math.floor(o)),m+=(v-m-o*(h-l))*d,i=o*(1-l),s&&(m=Math.round(m),i=Math.round(i));var w=p9(h).map(function(y){return m+o*y});return r(p?w.reverse():w)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,s=!0,f()},e.bandwidth=function(){return i},e.step=function(){return o},e.round=function(h){return arguments.length?(s=!!h,f()):s},e.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return Zc(t(),[n,a]).round(s).paddingInner(l).paddingOuter(c).align(d)},ka.apply(f(),arguments)}function tN(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return tN(t())},e}function xc(){return tN(Zc.apply(null,arguments).paddingInner(1))}function jv(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function rN(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function $u(){}var Qc=.7,Cd=1/Qc,Ls="\\s*([+-]?\\d+)\\s*",Jc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Xa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",g9=/^#([0-9a-f]{3,8})$/,m9=new RegExp(`^rgb\\(${Ls},${Ls},${Ls}\\)$`),y9=new RegExp(`^rgb\\(${Xa},${Xa},${Xa}\\)$`),v9=new RegExp(`^rgba\\(${Ls},${Ls},${Ls},${Jc}\\)$`),x9=new RegExp(`^rgba\\(${Xa},${Xa},${Xa},${Jc}\\)$`),b9=new RegExp(`^hsl\\(${Jc},${Xa},${Xa}\\)$`),w9=new RegExp(`^hsla\\(${Jc},${Xa},${Xa},${Jc}\\)$`),H1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};jv($u,eu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:V1,formatHex:V1,formatHex8:k9,formatHsl:S9,formatRgb:X1,toString:X1});function V1(){return this.rgb().formatHex()}function k9(){return this.rgb().formatHex8()}function S9(){return nN(this).formatHsl()}function X1(){return this.rgb().formatRgb()}function eu(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=g9.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?K1(t):r===3?new Ln(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?bf(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?bf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=m9.exec(e))?new Ln(t[1],t[2],t[3],1):(t=y9.exec(e))?new Ln(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=v9.exec(e))?bf(t[1],t[2],t[3],t[4]):(t=x9.exec(e))?bf(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=b9.exec(e))?Z1(t[1],t[2]/100,t[3]/100,1):(t=w9.exec(e))?Z1(t[1],t[2]/100,t[3]/100,t[4]):H1.hasOwnProperty(e)?K1(H1[e]):e==="transparent"?new Ln(NaN,NaN,NaN,0):null}function K1(e){return new Ln(e>>16&255,e>>8&255,e&255,1)}function bf(e,t,r,n){return n<=0&&(e=t=r=NaN),new Ln(e,t,r,n)}function j9(e){return e instanceof $u||(e=eu(e)),e?(e=e.rgb(),new Ln(e.r,e.g,e.b,e.opacity)):new Ln}function am(e,t,r,n){return arguments.length===1?j9(e):new Ln(e,t,r,n??1)}function Ln(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}jv(Ln,am,rN($u,{brighter(e){return e=e==null?Cd:Math.pow(Cd,e),new Ln(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Qc:Math.pow(Qc,e),new Ln(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ln(Di(this.r),Di(this.g),Di(this.b),Ed(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Y1,formatHex:Y1,formatHex8:_9,formatRgb:q1,toString:q1}));function Y1(){return`#${Mi(this.r)}${Mi(this.g)}${Mi(this.b)}`}function _9(){return`#${Mi(this.r)}${Mi(this.g)}${Mi(this.b)}${Mi((isNaN(this.opacity)?1:this.opacity)*255)}`}function q1(){const e=Ed(this.opacity);return`${e===1?"rgb(":"rgba("}${Di(this.r)}, ${Di(this.g)}, ${Di(this.b)}${e===1?")":`, ${e})`}`}function Ed(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Di(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Mi(e){return e=Di(e),(e<16?"0":"")+e.toString(16)}function Z1(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Aa(e,t,r,n)}function nN(e){if(e instanceof Aa)return new Aa(e.h,e.s,e.l,e.opacity);if(e instanceof $u||(e=eu(e)),!e)return new Aa;if(e instanceof Aa)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),o=Math.max(t,r,n),i=NaN,s=o-a,l=(o+a)/2;return s?(t===o?i=(r-n)/s+(r<n)*6:r===o?i=(n-t)/s+2:i=(t-r)/s+4,s/=l<.5?o+a:2-o-a,i*=60):s=l>0&&l<1?0:i,new Aa(i,s,l,e.opacity)}function N9(e,t,r,n){return arguments.length===1?nN(e):new Aa(e,t,r,n??1)}function Aa(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}jv(Aa,N9,rN($u,{brighter(e){return e=e==null?Cd:Math.pow(Cd,e),new Aa(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Qc:Math.pow(Qc,e),new Aa(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Ln(fp(e>=240?e-240:e+120,a,n),fp(e,a,n),fp(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Aa(Q1(this.h),wf(this.s),wf(this.l),Ed(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ed(this.opacity);return`${e===1?"hsl(":"hsla("}${Q1(this.h)}, ${wf(this.s)*100}%, ${wf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Q1(e){return e=(e||0)%360,e<0?e+360:e}function wf(e){return Math.max(0,Math.min(1,e||0))}function fp(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const _v=e=>()=>e;function O9(e,t){return function(r){return e+r*t}}function P9(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function M9(e){return(e=+e)==1?aN:function(t,r){return r-t?P9(t,r,e):_v(isNaN(t)?r:t)}}function aN(e,t){var r=t-e;return r?O9(e,r):_v(isNaN(e)?t:e)}const J1=function e(t){var r=M9(t);function n(a,o){var i=r((a=am(a)).r,(o=am(o)).r),s=r(a.g,o.g),l=r(a.b,o.b),c=aN(a.opacity,o.opacity);return function(d){return a.r=i(d),a.g=s(d),a.b=l(d),a.opacity=c(d),a+""}}return n.gamma=e,n}(1);function A9(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(o){for(a=0;a<r;++a)n[a]=e[a]*(1-o)+t[a]*o;return n}}function C9(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function E9(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),o=new Array(r),i;for(i=0;i<n;++i)a[i]=Cl(e[i],t[i]);for(;i<r;++i)o[i]=t[i];return function(s){for(i=0;i<n;++i)o[i]=a[i](s);return o}}function T9(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Td(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function $9(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Cl(e[a],t[a]):n[a]=t[a];return function(o){for(a in r)n[a]=r[a](o);return n}}var om=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,dp=new RegExp(om.source,"g");function D9(e){return function(){return e}}function R9(e){return function(t){return e(t)+""}}function L9(e,t){var r=om.lastIndex=dp.lastIndex=0,n,a,o,i=-1,s=[],l=[];for(e=e+"",t=t+"";(n=om.exec(e))&&(a=dp.exec(t));)(o=a.index)>r&&(o=t.slice(r,o),s[i]?s[i]+=o:s[++i]=o),(n=n[0])===(a=a[0])?s[i]?s[i]+=a:s[++i]=a:(s[++i]=null,l.push({i,x:Td(n,a)})),r=dp.lastIndex;return r<t.length&&(o=t.slice(r),s[i]?s[i]+=o:s[++i]=o),s.length<2?l[0]?R9(l[0].x):D9(t):(t=l.length,function(c){for(var d=0,f;d<t;++d)s[(f=l[d]).i]=f.x(c);return s.join("")})}function Cl(e,t){var r=typeof t,n;return t==null||r==="boolean"?_v(t):(r==="number"?Td:r==="string"?(n=eu(t))?(t=n,J1):L9:t instanceof eu?J1:t instanceof Date?T9:C9(t)?A9:Array.isArray(t)?E9:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?$9:Td)(e,t)}function Nv(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function I9(e,t){t===void 0&&(t=e,e=Cl);for(var r=0,n=t.length-1,a=t[0],o=new Array(n<0?0:n);r<n;)o[r]=e(a,a=t[++r]);return function(i){var s=Math.max(0,Math.min(n-1,Math.floor(i*=n)));return o[s](i-s)}}function B9(e){return function(){return e}}function $d(e){return+e}var ew=[0,1];function _n(e){return e}function im(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:B9(isNaN(t)?NaN:.5)}function F9(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function z9(e,t,r){var n=e[0],a=e[1],o=t[0],i=t[1];return a<n?(n=im(a,n),o=r(i,o)):(n=im(n,a),o=r(o,i)),function(s){return o(n(s))}}function U9(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),o=new Array(n),i=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<n;)a[i]=im(e[i],e[i+1]),o[i]=r(t[i],t[i+1]);return function(s){var l=Tu(e,s,1,n)-1;return o[l](a[l](s))}}function Du(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function a0(){var e=ew,t=ew,r=Cl,n,a,o,i=_n,s,l,c;function d(){var h=Math.min(e.length,t.length);return i!==_n&&(i=F9(e[0],e[h-1])),s=h>2?U9:z9,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?o:(l||(l=s(e.map(n),t,r)))(n(i(h)))}return f.invert=function(h){return i(a((c||(c=s(t,e.map(n),Td)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,$d),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=Nv,d()},f.clamp=function(h){return arguments.length?(i=h?!0:_n,d()):i!==_n},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(o=h,f):o},function(h,p){return n=h,a=p,d()}}function Ov(){return a0()(_n,_n)}function W9(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Dd(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Qs(e){return e=Dd(Math.abs(e)),e?e[1]:NaN}function G9(e,t){return function(r,n){for(var a=r.length,o=[],i=0,s=e[0],l=0;a>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),o.push(r.substring(a-=s,a+s)),!((l+=s+1)>n));)s=e[i=(i+1)%e.length];return o.reverse().join(t)}}function H9(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var V9=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function tu(e){if(!(t=V9.exec(e)))throw new Error("invalid format: "+e);var t;return new Pv({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}tu.prototype=Pv.prototype;function Pv(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Pv.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function X9(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var Rd;function K9(e,t){var r=Dd(e,t);if(!r)return Rd=void 0,e.toPrecision(t);var n=r[0],a=r[1],o=a-(Rd=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=n.length;return o===i?n:o>i?n+new Array(o-i+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+Dd(e,Math.max(0,t+o-1))[0]}function tw(e,t){var r=Dd(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const rw={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:W9,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>tw(e*100,t),r:tw,s:K9,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function nw(e){return e}var aw=Array.prototype.map,ow=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Y9(e){var t=e.grouping===void 0||e.thousands===void 0?nw:G9(aw.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?nw:H9(aw.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f,h){f=tu(f);var p=f.fill,m=f.align,v=f.sign,w=f.symbol,y=f.zero,g=f.width,x=f.comma,S=f.precision,k=f.trim,b=f.type;b==="n"?(x=!0,b="g"):rw[b]||(S===void 0&&(S=12),k=!0,b="g"),(y||p==="0"&&m==="=")&&(y=!0,p="0",m="=");var _=(h&&h.prefix!==void 0?h.prefix:"")+(w==="$"?r:w==="#"&&/[boxX]/.test(b)?"0"+b.toLowerCase():""),N=(w==="$"?n:/[%p]/.test(b)?i:"")+(h&&h.suffix!==void 0?h.suffix:""),O=rw[b],P=/[defgprs%]/.test(b);S=S===void 0?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function A(C){var T=_,F=N,D,U,M;if(b==="c")F=O(C)+F,C="";else{C=+C;var E=C<0||1/C<0;if(C=isNaN(C)?l:O(Math.abs(C),S),k&&(C=X9(C)),E&&+C==0&&v!=="+"&&(E=!1),T=(E?v==="("?v:s:v==="-"||v==="("?"":v)+T,F=(b==="s"&&!isNaN(C)&&Rd!==void 0?ow[8+Rd/3]:"")+F+(E&&v==="("?")":""),P){for(D=-1,U=C.length;++D<U;)if(M=C.charCodeAt(D),48>M||M>57){F=(M===46?a+C.slice(D+1):C.slice(D))+F,C=C.slice(0,D);break}}}x&&!y&&(C=t(C,1/0));var R=T.length+C.length+F.length,G=R<g?new Array(g-R+1).join(p):"";switch(x&&y&&(C=t(G+C,G.length?g-F.length:1/0),G=""),m){case"<":C=T+C+F+G;break;case"=":C=T+G+C+F;break;case"^":C=G.slice(0,R=G.length>>1)+T+C+F+G.slice(R);break;default:C=G+T+C+F;break}return o(C)}return A.toString=function(){return f+""},A}function d(f,h){var p=Math.max(-8,Math.min(8,Math.floor(Qs(h)/3)))*3,m=Math.pow(10,-p),v=c((f=tu(f),f.type="f",f),{suffix:ow[8+p/3]});return function(w){return v(m*w)}}return{format:c,formatPrefix:d}}var kf,Mv,oN;q9({thousands:",",grouping:[3],currency:["$",""]});function q9(e){return kf=Y9(e),Mv=kf.format,oN=kf.formatPrefix,kf}function Z9(e){return Math.max(0,-Qs(Math.abs(e)))}function Q9(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Qs(t)/3)))*3-Qs(Math.abs(e)))}function J9(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Qs(t)-Qs(e))+1}function iN(e,t,r,n){var a=rm(e,t,r),o;switch(n=tu(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(o=Q9(a,i))&&(n.precision=o),oN(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=J9(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=Z9(a))&&(n.precision=o-(n.type==="%")*2);break}}return Mv(n)}function fi(e){var t=e.domain;return e.ticks=function(r){var n=t();return em(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return iN(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,o=n.length-1,i=n[a],s=n[o],l,c,d=10;for(s<i&&(c=i,i=s,s=c,c=a,a=o,o=c);d-- >0;){if(c=tm(i,s,r),c===l)return n[a]=i,n[o]=s,t(n);if(c>0)i=Math.floor(i/c)*c,s=Math.ceil(s/c)*c;else if(c<0)i=Math.ceil(i*c)/c,s=Math.floor(s*c)/c;else break;l=c}return e},e}function Ld(){var e=Ov();return e.copy=function(){return Du(e,Ld())},ka.apply(e,arguments),fi(e)}function sN(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,$d),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return sN(e).unknown(t)},e=arguments.length?Array.from(e,$d):[0,1],fi(r)}function lN(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],o=e[n],i;return o<a&&(i=r,r=n,n=i,i=a,a=o,o=i),e[r]=t.floor(a),e[n]=t.ceil(o),e}function iw(e){return Math.log(e)}function sw(e){return Math.exp(e)}function ez(e){return-Math.log(-e)}function tz(e){return-Math.exp(-e)}function rz(e){return isFinite(e)?+("1e"+e):e<0?0:e}function nz(e){return e===10?rz:e===Math.E?Math.exp:t=>Math.pow(e,t)}function az(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function lw(e){return(t,r)=>-e(-t,r)}function Av(e){const t=e(iw,sw),r=t.domain;let n=10,a,o;function i(){return a=az(n),o=nz(n),r()[0]<0?(a=lw(a),o=lw(o),e(ez,tz)):e(iw,sw),t}return t.base=function(s){return arguments.length?(n=+s,i()):n},t.domain=function(s){return arguments.length?(r(s),i()):r()},t.ticks=s=>{const l=r();let c=l[0],d=l[l.length-1];const f=d<c;f&&([c,d]=[d,c]);let h=a(c),p=a(d),m,v;const w=s==null?10:+s;let y=[];if(!(n%1)&&p-h<w){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(m=1;m<n;++m)if(v=h<0?m/o(-h):m*o(h),!(v<c)){if(v>d)break;y.push(v)}}else for(;h<=p;++h)for(m=n-1;m>=1;--m)if(v=h>0?m/o(-h):m*o(h),!(v<c)){if(v>d)break;y.push(v)}y.length*2<w&&(y=em(c,d,w))}else y=em(h,p,Math.min(p-h,w)).map(o);return f?y.reverse():y},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=tu(l)).precision==null&&(l.trim=!0),l=Mv(l)),s===1/0)return l;const c=Math.max(1,n*s/t.ticks().length);return d=>{let f=d/o(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=c?l(d):""}},t.nice=()=>r(lN(r(),{floor:s=>o(Math.floor(a(s))),ceil:s=>o(Math.ceil(a(s)))})),t}function cN(){const e=Av(a0()).domain([1,10]);return e.copy=()=>Du(e,cN()).base(e.base()),ka.apply(e,arguments),e}function cw(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function uw(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Cv(e){var t=1,r=e(cw(t),uw(t));return r.constant=function(n){return arguments.length?e(cw(t=+n),uw(t)):t},fi(r)}function uN(){var e=Cv(a0());return e.copy=function(){return Du(e,uN()).constant(e.constant())},ka.apply(e,arguments)}function fw(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function oz(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function iz(e){return e<0?-e*e:e*e}function Ev(e){var t=e(_n,_n),r=1;function n(){return r===1?e(_n,_n):r===.5?e(oz,iz):e(fw(r),fw(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},fi(t)}function Tv(){var e=Ev(a0());return e.copy=function(){return Du(e,Tv()).exponent(e.exponent())},ka.apply(e,arguments),e}function sz(){return Tv.apply(null,arguments).exponent(.5)}function dw(e){return Math.sign(e)*e*e}function lz(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function fN(){var e=Ov(),t=[0,1],r=!1,n;function a(o){var i=lz(e(o));return isNaN(i)?n:r?Math.round(i):i}return a.invert=function(o){return e.invert(dw(o))},a.domain=function(o){return arguments.length?(e.domain(o),a):e.domain()},a.range=function(o){return arguments.length?(e.range((t=Array.from(o,$d)).map(dw)),a):t.slice()},a.rangeRound=function(o){return a.range(o).round(!0)},a.round=function(o){return arguments.length?(r=!!o,a):r},a.clamp=function(o){return arguments.length?(e.clamp(o),a):e.clamp()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return fN(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},ka.apply(a,arguments),fi(a)}function dN(){var e=[],t=[],r=[],n;function a(){var i=0,s=Math.max(1,t.length);for(r=new Array(s-1);++i<s;)r[i-1]=h9(e,i/s);return o}function o(i){return i==null||isNaN(i=+i)?n:t[Tu(r,i)]}return o.invertExtent=function(i){var s=t.indexOf(i);return s<0?[NaN,NaN]:[s>0?r[s-1]:e[0],s<r.length?r[s]:e[e.length-1]]},o.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let s of i)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(ri),a()},o.range=function(i){return arguments.length?(t=Array.from(i),a()):t.slice()},o.unknown=function(i){return arguments.length?(n=i,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return dN().domain(e).range(t).unknown(n)},ka.apply(o,arguments)}function hN(){var e=0,t=1,r=1,n=[.5],a=[0,1],o;function i(l){return l!=null&&l<=l?a[Tu(n,l,0,r)]:o}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return i}return i.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},i.range=function(l){return arguments.length?(r=(a=Array.from(l)).length-1,s()):a.slice()},i.invertExtent=function(l){var c=a.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},i.unknown=function(l){return arguments.length&&(o=l),i},i.thresholds=function(){return n.slice()},i.copy=function(){return hN().domain([e,t]).range(a).unknown(o)},ka.apply(fi(i),arguments)}function pN(){var e=[.5],t=[0,1],r,n=1;function a(o){return o!=null&&o<=o?t[Tu(e,o,0,n)]:r}return a.domain=function(o){return arguments.length?(e=Array.from(o),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(o){return arguments.length?(t=Array.from(o),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(o){var i=t.indexOf(o);return[e[i-1],e[i]]},a.unknown=function(o){return arguments.length?(r=o,a):r},a.copy=function(){return pN().domain(e).range(t).unknown(r)},ka.apply(a,arguments)}const hp=new Date,pp=new Date;function Br(e,t,r,n){function a(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return a.floor=o=>(e(o=new Date(+o)),o),a.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),a.round=o=>{const i=a(o),s=a.ceil(o);return o-i<s-o?i:s},a.offset=(o,i)=>(t(o=new Date(+o),i==null?1:Math.floor(i)),o),a.range=(o,i,s)=>{const l=[];if(o=a.ceil(o),s=s==null?1:Math.floor(s),!(o<i)||!(s>0))return l;let c;do l.push(c=new Date(+o)),t(o,s),e(o);while(c<o&&o<i);return l},a.filter=o=>Br(i=>{if(i>=i)for(;e(i),!o(i);)i.setTime(i-1)},(i,s)=>{if(i>=i)if(s<0)for(;++s<=0;)for(;t(i,-1),!o(i););else for(;--s>=0;)for(;t(i,1),!o(i););}),r&&(a.count=(o,i)=>(hp.setTime(+o),pp.setTime(+i),e(hp),e(pp),Math.floor(r(hp,pp))),a.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?a.filter(n?i=>n(i)%o===0:i=>a.count(0,i)%o===0):a)),a}const Id=Br(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Id.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Br(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Id);Id.range;const fo=1e3,pa=fo*60,ho=pa*60,jo=ho*24,$v=jo*7,hw=jo*30,gp=jo*365,Ai=Br(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*fo)},(e,t)=>(t-e)/fo,e=>e.getUTCSeconds());Ai.range;const Dv=Br(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*fo)},(e,t)=>{e.setTime(+e+t*pa)},(e,t)=>(t-e)/pa,e=>e.getMinutes());Dv.range;const Rv=Br(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*pa)},(e,t)=>(t-e)/pa,e=>e.getUTCMinutes());Rv.range;const Lv=Br(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*fo-e.getMinutes()*pa)},(e,t)=>{e.setTime(+e+t*ho)},(e,t)=>(t-e)/ho,e=>e.getHours());Lv.range;const Iv=Br(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ho)},(e,t)=>(t-e)/ho,e=>e.getUTCHours());Iv.range;const Ru=Br(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*pa)/jo,e=>e.getDate()-1);Ru.range;const o0=Br(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/jo,e=>e.getUTCDate()-1);o0.range;const gN=Br(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/jo,e=>Math.floor(e/jo));gN.range;function es(e){return Br(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*pa)/$v)}const i0=es(0),Bd=es(1),cz=es(2),uz=es(3),Js=es(4),fz=es(5),dz=es(6);i0.range;Bd.range;cz.range;uz.range;Js.range;fz.range;dz.range;function ts(e){return Br(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/$v)}const s0=ts(0),Fd=ts(1),hz=ts(2),pz=ts(3),el=ts(4),gz=ts(5),mz=ts(6);s0.range;Fd.range;hz.range;pz.range;el.range;gz.range;mz.range;const Bv=Br(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Bv.range;const Fv=Br(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Fv.range;const _o=Br(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());_o.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Br(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});_o.range;const No=Br(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());No.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Br(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});No.range;function mN(e,t,r,n,a,o){const i=[[Ai,1,fo],[Ai,5,5*fo],[Ai,15,15*fo],[Ai,30,30*fo],[o,1,pa],[o,5,5*pa],[o,15,15*pa],[o,30,30*pa],[a,1,ho],[a,3,3*ho],[a,6,6*ho],[a,12,12*ho],[n,1,jo],[n,2,2*jo],[r,1,$v],[t,1,hw],[t,3,3*hw],[e,1,gp]];function s(c,d,f){const h=d<c;h&&([c,d]=[d,c]);const p=f&&typeof f.range=="function"?f:l(c,d,f),m=p?p.range(c,+d+1):[];return h?m.reverse():m}function l(c,d,f){const h=Math.abs(d-c)/f,p=kv(([,,w])=>w).right(i,h);if(p===i.length)return e.every(rm(c/gp,d/gp,f));if(p===0)return Id.every(Math.max(rm(c,d,f),1));const[m,v]=i[h/i[p-1][2]<i[p][2]/h?p-1:p];return m.every(v)}return[s,l]}const[yz,vz]=mN(No,Fv,s0,gN,Iv,Rv),[xz,bz]=mN(_o,Bv,i0,Ru,Lv,Dv);function mp(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function yp(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Zl(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function wz(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,o=e.days,i=e.shortDays,s=e.months,l=e.shortMonths,c=Ql(a),d=Jl(a),f=Ql(o),h=Jl(o),p=Ql(i),m=Jl(i),v=Ql(s),w=Jl(s),y=Ql(l),g=Jl(l),x={a:M,A:E,b:R,B:G,c:null,d:xw,e:xw,f:Gz,g:e7,G:r7,H:zz,I:Uz,j:Wz,L:yN,m:Hz,M:Vz,p:Q,q:X,Q:kw,s:Sw,S:Xz,u:Kz,U:Yz,V:qz,w:Zz,W:Qz,x:null,X:null,y:Jz,Y:t7,Z:n7,"%":ww},S={a:L,A:ee,b:Z,B:$,c:null,d:bw,e:bw,f:s7,g:y7,G:x7,H:a7,I:o7,j:i7,L:xN,m:l7,M:c7,p:ae,q:ue,Q:kw,s:Sw,S:u7,u:f7,U:d7,V:h7,w:p7,W:g7,x:null,X:null,y:m7,Y:v7,Z:b7,"%":ww},k={a:P,A,b:C,B:T,c:F,d:yw,e:yw,f:Lz,g:mw,G:gw,H:vw,I:vw,j:Tz,L:Rz,m:Ez,M:$z,p:O,q:Cz,Q:Bz,s:Fz,S:Dz,u:Nz,U:Oz,V:Pz,w:_z,W:Mz,x:D,X:U,y:mw,Y:gw,Z:Az,"%":Iz};x.x=b(r,x),x.X=b(n,x),x.c=b(t,x),S.x=b(r,S),S.X=b(n,S),S.c=b(t,S);function b(Y,se){return function(ge){var K=[],he=-1,pe=0,oe=Y.length,_e,be,Ie;for(ge instanceof Date||(ge=new Date(+ge));++he<oe;)Y.charCodeAt(he)===37&&(K.push(Y.slice(pe,he)),(be=pw[_e=Y.charAt(++he)])!=null?_e=Y.charAt(++he):be=_e==="e"?" ":"0",(Ie=se[_e])&&(_e=Ie(ge,be)),K.push(_e),pe=he+1);return K.push(Y.slice(pe,he)),K.join("")}}function _(Y,se){return function(ge){var K=Zl(1900,void 0,1),he=N(K,Y,ge+="",0),pe,oe;if(he!=ge.length)return null;if("Q"in K)return new Date(K.Q);if("s"in K)return new Date(K.s*1e3+("L"in K?K.L:0));if(se&&!("Z"in K)&&(K.Z=0),"p"in K&&(K.H=K.H%12+K.p*12),K.m===void 0&&(K.m="q"in K?K.q:0),"V"in K){if(K.V<1||K.V>53)return null;"w"in K||(K.w=1),"Z"in K?(pe=yp(Zl(K.y,0,1)),oe=pe.getUTCDay(),pe=oe>4||oe===0?Fd.ceil(pe):Fd(pe),pe=o0.offset(pe,(K.V-1)*7),K.y=pe.getUTCFullYear(),K.m=pe.getUTCMonth(),K.d=pe.getUTCDate()+(K.w+6)%7):(pe=mp(Zl(K.y,0,1)),oe=pe.getDay(),pe=oe>4||oe===0?Bd.ceil(pe):Bd(pe),pe=Ru.offset(pe,(K.V-1)*7),K.y=pe.getFullYear(),K.m=pe.getMonth(),K.d=pe.getDate()+(K.w+6)%7)}else("W"in K||"U"in K)&&("w"in K||(K.w="u"in K?K.u%7:"W"in K?1:0),oe="Z"in K?yp(Zl(K.y,0,1)).getUTCDay():mp(Zl(K.y,0,1)).getDay(),K.m=0,K.d="W"in K?(K.w+6)%7+K.W*7-(oe+5)%7:K.w+K.U*7-(oe+6)%7);return"Z"in K?(K.H+=K.Z/100|0,K.M+=K.Z%100,yp(K)):mp(K)}}function N(Y,se,ge,K){for(var he=0,pe=se.length,oe=ge.length,_e,be;he<pe;){if(K>=oe)return-1;if(_e=se.charCodeAt(he++),_e===37){if(_e=se.charAt(he++),be=k[_e in pw?se.charAt(he++):_e],!be||(K=be(Y,ge,K))<0)return-1}else if(_e!=ge.charCodeAt(K++))return-1}return K}function O(Y,se,ge){var K=c.exec(se.slice(ge));return K?(Y.p=d.get(K[0].toLowerCase()),ge+K[0].length):-1}function P(Y,se,ge){var K=p.exec(se.slice(ge));return K?(Y.w=m.get(K[0].toLowerCase()),ge+K[0].length):-1}function A(Y,se,ge){var K=f.exec(se.slice(ge));return K?(Y.w=h.get(K[0].toLowerCase()),ge+K[0].length):-1}function C(Y,se,ge){var K=y.exec(se.slice(ge));return K?(Y.m=g.get(K[0].toLowerCase()),ge+K[0].length):-1}function T(Y,se,ge){var K=v.exec(se.slice(ge));return K?(Y.m=w.get(K[0].toLowerCase()),ge+K[0].length):-1}function F(Y,se,ge){return N(Y,t,se,ge)}function D(Y,se,ge){return N(Y,r,se,ge)}function U(Y,se,ge){return N(Y,n,se,ge)}function M(Y){return i[Y.getDay()]}function E(Y){return o[Y.getDay()]}function R(Y){return l[Y.getMonth()]}function G(Y){return s[Y.getMonth()]}function Q(Y){return a[+(Y.getHours()>=12)]}function X(Y){return 1+~~(Y.getMonth()/3)}function L(Y){return i[Y.getUTCDay()]}function ee(Y){return o[Y.getUTCDay()]}function Z(Y){return l[Y.getUTCMonth()]}function $(Y){return s[Y.getUTCMonth()]}function ae(Y){return a[+(Y.getUTCHours()>=12)]}function ue(Y){return 1+~~(Y.getUTCMonth()/3)}return{format:function(Y){var se=b(Y+="",x);return se.toString=function(){return Y},se},parse:function(Y){var se=_(Y+="",!1);return se.toString=function(){return Y},se},utcFormat:function(Y){var se=b(Y+="",S);return se.toString=function(){return Y},se},utcParse:function(Y){var se=_(Y+="",!0);return se.toString=function(){return Y},se}}}var pw={"-":"",_:" ",0:"0"},Kr=/^\s*\d+/,kz=/^%/,Sz=/[\\^$*+?|[\]().{}]/g;function yt(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",o=a.length;return n+(o<r?new Array(r-o+1).join(t)+a:a)}function jz(e){return e.replace(Sz,"\\$&")}function Ql(e){return new RegExp("^(?:"+e.map(jz).join("|")+")","i")}function Jl(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function _z(e,t,r){var n=Kr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Nz(e,t,r){var n=Kr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Oz(e,t,r){var n=Kr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Pz(e,t,r){var n=Kr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Mz(e,t,r){var n=Kr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function gw(e,t,r){var n=Kr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function mw(e,t,r){var n=Kr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Az(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Cz(e,t,r){var n=Kr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Ez(e,t,r){var n=Kr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function yw(e,t,r){var n=Kr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Tz(e,t,r){var n=Kr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function vw(e,t,r){var n=Kr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function $z(e,t,r){var n=Kr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Dz(e,t,r){var n=Kr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Rz(e,t,r){var n=Kr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Lz(e,t,r){var n=Kr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Iz(e,t,r){var n=kz.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Bz(e,t,r){var n=Kr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Fz(e,t,r){var n=Kr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function xw(e,t){return yt(e.getDate(),t,2)}function zz(e,t){return yt(e.getHours(),t,2)}function Uz(e,t){return yt(e.getHours()%12||12,t,2)}function Wz(e,t){return yt(1+Ru.count(_o(e),e),t,3)}function yN(e,t){return yt(e.getMilliseconds(),t,3)}function Gz(e,t){return yN(e,t)+"000"}function Hz(e,t){return yt(e.getMonth()+1,t,2)}function Vz(e,t){return yt(e.getMinutes(),t,2)}function Xz(e,t){return yt(e.getSeconds(),t,2)}function Kz(e){var t=e.getDay();return t===0?7:t}function Yz(e,t){return yt(i0.count(_o(e)-1,e),t,2)}function vN(e){var t=e.getDay();return t>=4||t===0?Js(e):Js.ceil(e)}function qz(e,t){return e=vN(e),yt(Js.count(_o(e),e)+(_o(e).getDay()===4),t,2)}function Zz(e){return e.getDay()}function Qz(e,t){return yt(Bd.count(_o(e)-1,e),t,2)}function Jz(e,t){return yt(e.getFullYear()%100,t,2)}function e7(e,t){return e=vN(e),yt(e.getFullYear()%100,t,2)}function t7(e,t){return yt(e.getFullYear()%1e4,t,4)}function r7(e,t){var r=e.getDay();return e=r>=4||r===0?Js(e):Js.ceil(e),yt(e.getFullYear()%1e4,t,4)}function n7(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+yt(t/60|0,"0",2)+yt(t%60,"0",2)}function bw(e,t){return yt(e.getUTCDate(),t,2)}function a7(e,t){return yt(e.getUTCHours(),t,2)}function o7(e,t){return yt(e.getUTCHours()%12||12,t,2)}function i7(e,t){return yt(1+o0.count(No(e),e),t,3)}function xN(e,t){return yt(e.getUTCMilliseconds(),t,3)}function s7(e,t){return xN(e,t)+"000"}function l7(e,t){return yt(e.getUTCMonth()+1,t,2)}function c7(e,t){return yt(e.getUTCMinutes(),t,2)}function u7(e,t){return yt(e.getUTCSeconds(),t,2)}function f7(e){var t=e.getUTCDay();return t===0?7:t}function d7(e,t){return yt(s0.count(No(e)-1,e),t,2)}function bN(e){var t=e.getUTCDay();return t>=4||t===0?el(e):el.ceil(e)}function h7(e,t){return e=bN(e),yt(el.count(No(e),e)+(No(e).getUTCDay()===4),t,2)}function p7(e){return e.getUTCDay()}function g7(e,t){return yt(Fd.count(No(e)-1,e),t,2)}function m7(e,t){return yt(e.getUTCFullYear()%100,t,2)}function y7(e,t){return e=bN(e),yt(e.getUTCFullYear()%100,t,2)}function v7(e,t){return yt(e.getUTCFullYear()%1e4,t,4)}function x7(e,t){var r=e.getUTCDay();return e=r>=4||r===0?el(e):el.ceil(e),yt(e.getUTCFullYear()%1e4,t,4)}function b7(){return"+0000"}function ww(){return"%"}function kw(e){return+e}function Sw(e){return Math.floor(+e/1e3)}var ds,wN,kN;w7({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function w7(e){return ds=wz(e),wN=ds.format,ds.parse,kN=ds.utcFormat,ds.utcParse,ds}function k7(e){return new Date(e)}function S7(e){return e instanceof Date?+e:+new Date(+e)}function zv(e,t,r,n,a,o,i,s,l,c){var d=Ov(),f=d.invert,h=d.domain,p=c(".%L"),m=c(":%S"),v=c("%I:%M"),w=c("%I %p"),y=c("%a %d"),g=c("%b %d"),x=c("%B"),S=c("%Y");function k(b){return(l(b)<b?p:s(b)<b?m:i(b)<b?v:o(b)<b?w:n(b)<b?a(b)<b?y:g:r(b)<b?x:S)(b)}return d.invert=function(b){return new Date(f(b))},d.domain=function(b){return arguments.length?h(Array.from(b,S7)):h().map(k7)},d.ticks=function(b){var _=h();return e(_[0],_[_.length-1],b??10)},d.tickFormat=function(b,_){return _==null?k:c(_)},d.nice=function(b){var _=h();return(!b||typeof b.range!="function")&&(b=t(_[0],_[_.length-1],b??10)),b?h(lN(_,b)):d},d.copy=function(){return Du(d,zv(e,t,r,n,a,o,i,s,l,c))},d}function j7(){return ka.apply(zv(xz,bz,_o,Bv,i0,Ru,Lv,Dv,Ai,wN).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function _7(){return ka.apply(zv(yz,vz,No,Fv,s0,o0,Iv,Rv,Ai,kN).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function l0(){var e=0,t=1,r,n,a,o,i=_n,s=!1,l;function c(f){return f==null||isNaN(f=+f)?l:i(a===0?.5:(f=(o(f)-r)*a,s?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([e,t]=f,r=o(e=+e),n=o(t=+t),a=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(f){return arguments.length?(s=!!f,c):s},c.interpolator=function(f){return arguments.length?(i=f,c):i};function d(f){return function(h){var p,m;return arguments.length?([p,m]=h,i=f(p,m),c):[i(0),i(1)]}}return c.range=d(Cl),c.rangeRound=d(Nv),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return o=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),c}}function di(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function SN(){var e=fi(l0()(_n));return e.copy=function(){return di(e,SN())},Ao.apply(e,arguments)}function jN(){var e=Av(l0()).domain([1,10]);return e.copy=function(){return di(e,jN()).base(e.base())},Ao.apply(e,arguments)}function _N(){var e=Cv(l0());return e.copy=function(){return di(e,_N()).constant(e.constant())},Ao.apply(e,arguments)}function Uv(){var e=Ev(l0());return e.copy=function(){return di(e,Uv()).exponent(e.exponent())},Ao.apply(e,arguments)}function N7(){return Uv.apply(null,arguments).exponent(.5)}function NN(){var e=[],t=_n;function r(n){if(n!=null&&!isNaN(n=+n))return t((Tu(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(ri),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,o)=>d9(e,o/n))},r.copy=function(){return NN(t).domain(e)},Ao.apply(r,arguments)}function c0(){var e=0,t=.5,r=1,n=1,a,o,i,s,l,c=_n,d,f=!1,h;function p(v){return isNaN(v=+v)?h:(v=.5+((v=+d(v))-o)*(n*v<n*o?s:l),c(f?Math.max(0,Math.min(1,v)):v))}p.domain=function(v){return arguments.length?([e,t,r]=v,a=d(e=+e),o=d(t=+t),i=d(r=+r),s=a===o?0:.5/(o-a),l=o===i?0:.5/(i-o),n=o<a?-1:1,p):[e,t,r]},p.clamp=function(v){return arguments.length?(f=!!v,p):f},p.interpolator=function(v){return arguments.length?(c=v,p):c};function m(v){return function(w){var y,g,x;return arguments.length?([y,g,x]=w,c=I9(v,[y,g,x]),p):[c(0),c(.5),c(1)]}}return p.range=m(Cl),p.rangeRound=m(Nv),p.unknown=function(v){return arguments.length?(h=v,p):h},function(v){return d=v,a=v(e),o=v(t),i=v(r),s=a===o?0:.5/(o-a),l=o===i?0:.5/(i-o),n=o<a?-1:1,p}}function ON(){var e=fi(c0()(_n));return e.copy=function(){return di(e,ON())},Ao.apply(e,arguments)}function PN(){var e=Av(c0()).domain([.1,1,10]);return e.copy=function(){return di(e,PN()).base(e.base())},Ao.apply(e,arguments)}function MN(){var e=Cv(c0());return e.copy=function(){return di(e,MN()).constant(e.constant())},Ao.apply(e,arguments)}function Wv(){var e=Ev(c0());return e.copy=function(){return di(e,Wv()).exponent(e.exponent())},Ao.apply(e,arguments)}function O7(){return Wv.apply(null,arguments).exponent(.5)}const jw=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Zc,scaleDiverging:ON,scaleDivergingLog:PN,scaleDivergingPow:Wv,scaleDivergingSqrt:O7,scaleDivergingSymlog:MN,scaleIdentity:sN,scaleImplicit:nm,scaleLinear:Ld,scaleLog:cN,scaleOrdinal:Sv,scalePoint:xc,scalePow:Tv,scaleQuantile:dN,scaleQuantize:hN,scaleRadial:fN,scaleSequential:SN,scaleSequentialLog:jN,scaleSequentialPow:Uv,scaleSequentialQuantile:NN,scaleSequentialSqrt:N7,scaleSequentialSymlog:_N,scaleSqrt:sz,scaleSymlog:uN,scaleThreshold:pN,scaleTime:j7,scaleUtc:_7,tickFormat:iN},Symbol.toStringTag,{value:"Module"}));var P7=kl;function M7(e,t,r){for(var n=-1,a=e.length;++n<a;){var o=e[n],i=t(o);if(i!=null&&(s===void 0?i===i&&!P7(i):r(i,s)))var s=i,l=o}return l}var AN=M7;function A7(e,t){return e>t}var C7=A7,E7=AN,T7=C7,$7=Al;function D7(e){return e&&e.length?E7(e,$7,T7):void 0}var R7=D7;const Wo=Rt(R7);function L7(e,t){return e<t}var I7=L7,B7=AN,F7=I7,z7=Al;function U7(e){return e&&e.length?B7(e,z7,F7):void 0}var W7=U7;const u0=Rt(W7);var G7=nv,H7=ci,V7=F_,X7=Gn;function K7(e,t){var r=X7(e)?G7:V7;return r(e,H7(t))}var Y7=K7,q7=I_,Z7=Y7;function Q7(e,t){return q7(Z7(e,t),1)}var J7=Q7;const eU=Rt(J7);var tU=yv;function rU(e,t){return tU(e,t)}var nU=rU;const Hi=Rt(nU);var El=1e9,aU={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Hv,rr=!0,ba="[DecimalError] ",Ri=ba+"Invalid argument: ",Gv=ba+"Exponent out of range: ",Tl=Math.floor,ji=Math.pow,oU=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Jn,Gr=1e7,Yt=7,CN=9007199254740991,zd=Tl(CN/Yt),ke={};ke.absoluteValue=ke.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ke.comparedTo=ke.cmp=function(e){var t,r,n,a,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(n=o.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return n===a?0:n>a^o.s<0?1:-1};ke.decimalPlaces=ke.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Yt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ke.dividedBy=ke.div=function(e){return xo(this,new this.constructor(e))};ke.dividedToIntegerBy=ke.idiv=function(e){var t=this,r=t.constructor;return Dt(xo(t,new r(e),0,1),r.precision)};ke.equals=ke.eq=function(e){return!this.cmp(e)};ke.exponent=function(){return Pr(this)};ke.greaterThan=ke.gt=function(e){return this.cmp(e)>0};ke.greaterThanOrEqualTo=ke.gte=function(e){return this.cmp(e)>=0};ke.isInteger=ke.isint=function(){return this.e>this.d.length-2};ke.isNegative=ke.isneg=function(){return this.s<0};ke.isPositive=ke.ispos=function(){return this.s>0};ke.isZero=function(){return this.s===0};ke.lessThan=ke.lt=function(e){return this.cmp(e)<0};ke.lessThanOrEqualTo=ke.lte=function(e){return this.cmp(e)<1};ke.logarithm=ke.log=function(e){var t,r=this,n=r.constructor,a=n.precision,o=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Jn))throw Error(ba+"NaN");if(r.s<1)throw Error(ba+(r.s?"NaN":"-Infinity"));return r.eq(Jn)?new n(0):(rr=!1,t=xo(ru(r,o),ru(e,o),o),rr=!0,Dt(t,a))};ke.minus=ke.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?$N(t,e):EN(t,(e.s=-e.s,e))};ke.modulo=ke.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(ba+"NaN");return r.s?(rr=!1,t=xo(r,e,0,1).times(e),rr=!0,r.minus(t)):Dt(new n(r),a)};ke.naturalExponential=ke.exp=function(){return TN(this)};ke.naturalLogarithm=ke.ln=function(){return ru(this)};ke.negated=ke.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ke.plus=ke.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?EN(t,e):$N(t,(e.s=-e.s,e))};ke.precision=ke.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ri+e);if(t=Pr(a)+1,n=a.d.length-1,r=n*Yt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ke.squareRoot=ke.sqrt=function(){var e,t,r,n,a,o,i,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(ba+"NaN")}for(e=Pr(s),rr=!1,a=Math.sqrt(+s),a==0||a==1/0?(t=Ua(s.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Tl((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(a.toString()),r=l.precision,a=i=r+3;;)if(o=n,n=o.plus(xo(s,o,i+2)).times(.5),Ua(o.d).slice(0,i)===(t=Ua(n.d)).slice(0,i)){if(t=t.slice(i-3,i+1),a==i&&t=="4999"){if(Dt(o,r+1,0),o.times(o).eq(s)){n=o;break}}else if(t!="9999")break;i+=4}return rr=!0,Dt(n,r)};ke.times=ke.mul=function(e){var t,r,n,a,o,i,s,l,c,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,l=h.length,c=p.length,l<c&&(o=h,h=p,p=o,i=l,l=c,c=i),o=[],i=l+c,n=i;n--;)o.push(0);for(n=c;--n>=0;){for(t=0,a=l+n;a>n;)s=o[a]+p[n]*h[a-n-1]+t,o[a--]=s%Gr|0,t=s/Gr|0;o[a]=(o[a]+t)%Gr|0}for(;!o[--i];)o.pop();return t?++r:o.shift(),e.d=o,e.e=r,rr?Dt(e,f.precision):e};ke.toDecimalPlaces=ke.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Za(e,0,El),t===void 0?t=n.rounding:Za(t,0,8),Dt(r,e+Pr(r)+1,t))};ke.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Vi(n,!0):(Za(e,0,El),t===void 0?t=a.rounding:Za(t,0,8),n=Dt(new a(n),e+1,t),r=Vi(n,!0,e+1)),r};ke.toFixed=function(e,t){var r,n,a=this,o=a.constructor;return e===void 0?Vi(a):(Za(e,0,El),t===void 0?t=o.rounding:Za(t,0,8),n=Dt(new o(a),e+Pr(a)+1,t),r=Vi(n.abs(),!1,e+Pr(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};ke.toInteger=ke.toint=function(){var e=this,t=e.constructor;return Dt(new t(e),Pr(e)+1,t.rounding)};ke.toNumber=function(){return+this};ke.toPower=ke.pow=function(e){var t,r,n,a,o,i,s=this,l=s.constructor,c=12,d=+(e=new l(e));if(!e.s)return new l(Jn);if(s=new l(s),!s.s){if(e.s<1)throw Error(ba+"Infinity");return s}if(s.eq(Jn))return s;if(n=l.precision,e.eq(Jn))return Dt(s,n);if(t=e.e,r=e.d.length-1,i=t>=r,o=s.s,i){if((r=d<0?-d:d)<=CN){for(a=new l(Jn),t=Math.ceil(n/Yt+4),rr=!1;r%2&&(a=a.times(s),Nw(a.d,t)),r=Tl(r/2),r!==0;)s=s.times(s),Nw(s.d,t);return rr=!0,e.s<0?new l(Jn).div(a):Dt(a,n)}}else if(o<0)throw Error(ba+"NaN");return o=o<0&&e.d[Math.max(t,r)]&1?-1:1,s.s=1,rr=!1,a=e.times(ru(s,n+c)),rr=!0,a=TN(a),a.s=o,a};ke.toPrecision=function(e,t){var r,n,a=this,o=a.constructor;return e===void 0?(r=Pr(a),n=Vi(a,r<=o.toExpNeg||r>=o.toExpPos)):(Za(e,1,El),t===void 0?t=o.rounding:Za(t,0,8),a=Dt(new o(a),e,t),r=Pr(a),n=Vi(a,e<=r||r<=o.toExpNeg,e)),n};ke.toSignificantDigits=ke.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Za(e,1,El),t===void 0?t=n.rounding:Za(t,0,8)),Dt(new n(r),e,t)};ke.toString=ke.valueOf=ke.val=ke.toJSON=ke[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Pr(e),r=e.constructor;return Vi(e,t<=r.toExpNeg||t>=r.toExpPos)};function EN(e,t){var r,n,a,o,i,s,l,c,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),rr?Dt(t,f):t;if(l=e.d,c=t.d,i=e.e,a=t.e,l=l.slice(),o=i-a,o){for(o<0?(n=l,o=-o,s=c.length):(n=c,a=i,s=l.length),i=Math.ceil(f/Yt),s=i>s?i+1:s+1,o>s&&(o=s,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(s=l.length,o=c.length,s-o<0&&(o=s,n=c,c=l,l=n),r=0;o;)r=(l[--o]=l[o]+c[o]+r)/Gr|0,l[o]%=Gr;for(r&&(l.unshift(r),++a),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=a,rr?Dt(t,f):t}function Za(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Ri+e)}function Ua(e){var t,r,n,a=e.length-1,o="",i=e[0];if(a>0){for(o+=i,t=1;t<a;t++)n=e[t]+"",r=Yt-n.length,r&&(o+=Lo(r)),o+=n;i=e[t],n=i+"",r=Yt-n.length,r&&(o+=Lo(r))}else if(i===0)return"0";for(;i%10===0;)i/=10;return o+i}var xo=function(){function e(n,a){var o,i=0,s=n.length;for(n=n.slice();s--;)o=n[s]*a+i,n[s]=o%Gr|0,i=o/Gr|0;return i&&n.unshift(i),n}function t(n,a,o,i){var s,l;if(o!=i)l=o>i?1:-1;else for(s=l=0;s<o;s++)if(n[s]!=a[s]){l=n[s]>a[s]?1:-1;break}return l}function r(n,a,o){for(var i=0;o--;)n[o]-=i,i=n[o]<a[o]?1:0,n[o]=i*Gr+n[o]-a[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,o,i){var s,l,c,d,f,h,p,m,v,w,y,g,x,S,k,b,_,N,O=n.constructor,P=n.s==a.s?1:-1,A=n.d,C=a.d;if(!n.s)return new O(n);if(!a.s)throw Error(ba+"Division by zero");for(l=n.e-a.e,_=C.length,k=A.length,p=new O(P),m=p.d=[],c=0;C[c]==(A[c]||0);)++c;if(C[c]>(A[c]||0)&&--l,o==null?g=o=O.precision:i?g=o+(Pr(n)-Pr(a))+1:g=o,g<0)return new O(0);if(g=g/Yt+2|0,c=0,_==1)for(d=0,C=C[0],g++;(c<k||d)&&g--;c++)x=d*Gr+(A[c]||0),m[c]=x/C|0,d=x%C|0;else{for(d=Gr/(C[0]+1)|0,d>1&&(C=e(C,d),A=e(A,d),_=C.length,k=A.length),S=_,v=A.slice(0,_),w=v.length;w<_;)v[w++]=0;N=C.slice(),N.unshift(0),b=C[0],C[1]>=Gr/2&&++b;do d=0,s=t(C,v,_,w),s<0?(y=v[0],_!=w&&(y=y*Gr+(v[1]||0)),d=y/b|0,d>1?(d>=Gr&&(d=Gr-1),f=e(C,d),h=f.length,w=v.length,s=t(f,v,h,w),s==1&&(d--,r(f,_<h?N:C,h))):(d==0&&(s=d=1),f=C.slice()),h=f.length,h<w&&f.unshift(0),r(v,f,w),s==-1&&(w=v.length,s=t(C,v,_,w),s<1&&(d++,r(v,_<w?N:C,w))),w=v.length):s===0&&(d++,v=[0]),m[c++]=d,s&&v[0]?v[w++]=A[S]||0:(v=[A[S]],w=1);while((S++<k||v[0]!==void 0)&&g--)}return m[0]||m.shift(),p.e=l,Dt(p,i?o+Pr(p)+1:o)}}();function TN(e,t){var r,n,a,o,i,s,l=0,c=0,d=e.constructor,f=d.precision;if(Pr(e)>16)throw Error(Gv+Pr(e));if(!e.s)return new d(Jn);for(rr=!1,s=f,i=new d(.03125);e.abs().gte(.1);)e=e.times(i),c+=5;for(n=Math.log(ji(2,c))/Math.LN10*2+5|0,s+=n,r=a=o=new d(Jn),d.precision=s;;){if(a=Dt(a.times(e),s),r=r.times(++l),i=o.plus(xo(a,r,s)),Ua(i.d).slice(0,s)===Ua(o.d).slice(0,s)){for(;c--;)o=Dt(o.times(o),s);return d.precision=f,t==null?(rr=!0,Dt(o,f)):o}o=i}}function Pr(e){for(var t=e.e*Yt,r=e.d[0];r>=10;r/=10)t++;return t}function vp(e,t,r){if(t>e.LN10.sd())throw rr=!0,r&&(e.precision=r),Error(ba+"LN10 precision limit exceeded");return Dt(new e(e.LN10),t)}function Lo(e){for(var t="";e--;)t+="0";return t}function ru(e,t){var r,n,a,o,i,s,l,c,d,f=1,h=10,p=e,m=p.d,v=p.constructor,w=v.precision;if(p.s<1)throw Error(ba+(p.s?"NaN":"-Infinity"));if(p.eq(Jn))return new v(0);if(t==null?(rr=!1,c=w):c=t,p.eq(10))return t==null&&(rr=!0),vp(v,c);if(c+=h,v.precision=c,r=Ua(m),n=r.charAt(0),o=Pr(p),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=Ua(p.d),n=r.charAt(0),f++;o=Pr(p),n>1?(p=new v("0."+r),o++):p=new v(n+"."+r.slice(1))}else return l=vp(v,c+2,w).times(o+""),p=ru(new v(n+"."+r.slice(1)),c-h).plus(l),v.precision=w,t==null?(rr=!0,Dt(p,w)):p;for(s=i=p=xo(p.minus(Jn),p.plus(Jn),c),d=Dt(p.times(p),c),a=3;;){if(i=Dt(i.times(d),c),l=s.plus(xo(i,new v(a),c)),Ua(l.d).slice(0,c)===Ua(s.d).slice(0,c))return s=s.times(2),o!==0&&(s=s.plus(vp(v,c+2,w).times(o+""))),s=xo(s,new v(f),c),v.precision=w,t==null?(rr=!0,Dt(s,w)):s;s=l,a+=2}}function _w(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Tl(r/Yt),e.d=[],n=(r+1)%Yt,r<0&&(n+=Yt),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Yt;n<a;)e.d.push(+t.slice(n,n+=Yt));t=t.slice(n),n=Yt-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),rr&&(e.e>zd||e.e<-zd))throw Error(Gv+r)}else e.s=0,e.e=0,e.d=[0];return e}function Dt(e,t,r){var n,a,o,i,s,l,c,d,f=e.d;for(i=1,o=f[0];o>=10;o/=10)i++;if(n=t-i,n<0)n+=Yt,a=t,c=f[d=0];else{if(d=Math.ceil((n+1)/Yt),o=f.length,d>=o)return e;for(c=o=f[d],i=1;o>=10;o/=10)i++;n%=Yt,a=n-Yt+i}if(r!==void 0&&(o=ji(10,i-a-1),s=c/o%10|0,l=t<0||f[d+1]!==void 0||c%o,l=r<4?(s||l)&&(r==0||r==(e.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?a>0?c/ji(10,i-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return l?(o=Pr(e),f.length=1,t=t-o-1,f[0]=ji(10,(Yt-t%Yt)%Yt),e.e=Tl(-t/Yt)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,o=1,d--):(f.length=d+1,o=ji(10,Yt-n),f[d]=a>0?(c/ji(10,i-a)%ji(10,a)|0)*o:0),l)for(;;)if(d==0){(f[0]+=o)==Gr&&(f[0]=1,++e.e);break}else{if(f[d]+=o,f[d]!=Gr)break;f[d--]=0,o=1}for(n=f.length;f[--n]===0;)f.pop();if(rr&&(e.e>zd||e.e<-zd))throw Error(Gv+Pr(e));return e}function $N(e,t){var r,n,a,o,i,s,l,c,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),rr?Dt(t,p):t;if(l=e.d,f=t.d,n=t.e,c=e.e,l=l.slice(),i=c-n,i){for(d=i<0,d?(r=l,i=-i,s=f.length):(r=f,n=c,s=l.length),a=Math.max(Math.ceil(p/Yt),s)+2,i>a&&(i=a,r.length=1),r.reverse(),a=i;a--;)r.push(0);r.reverse()}else{for(a=l.length,s=f.length,d=a<s,d&&(s=a),a=0;a<s;a++)if(l[a]!=f[a]){d=l[a]<f[a];break}i=0}for(d&&(r=l,l=f,f=r,t.s=-t.s),s=l.length,a=f.length-s;a>0;--a)l[s++]=0;for(a=f.length;a>i;){if(l[--a]<f[a]){for(o=a;o&&l[--o]===0;)l[o]=Gr-1;--l[o],l[a]+=Gr}l[a]-=f[a]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,rr?Dt(t,p):t):new h(0)}function Vi(e,t,r){var n,a=Pr(e),o=Ua(e.d),i=o.length;return t?(r&&(n=r-i)>0?o=o.charAt(0)+"."+o.slice(1)+Lo(n):i>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(a<0?"e":"e+")+a):a<0?(o="0."+Lo(-a-1)+o,r&&(n=r-i)>0&&(o+=Lo(n))):a>=i?(o+=Lo(a+1-i),r&&(n=r-a-1)>0&&(o=o+"."+Lo(n))):((n=a+1)<i&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-i)>0&&(a+1===i&&(o+="."),o+=Lo(n))),e.s<0?"-"+o:o}function Nw(e,t){if(e.length>t)return e.length=t,!0}function DN(e){var t,r,n;function a(o){var i=this;if(!(i instanceof a))return new a(o);if(i.constructor=a,o instanceof a){i.s=o.s,i.e=o.e,i.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Ri+o);if(o>0)i.s=1;else if(o<0)o=-o,i.s=-1;else{i.s=0,i.e=0,i.d=[0];return}if(o===~~o&&o<1e7){i.e=0,i.d=[o];return}return _w(i,o.toString())}else if(typeof o!="string")throw Error(Ri+o);if(o.charCodeAt(0)===45?(o=o.slice(1),i.s=-1):i.s=1,oU.test(o))_w(i,o);else throw Error(Ri+o)}if(a.prototype=ke,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=DN,a.config=a.set=iU,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function iU(e){if(!e||typeof e!="object")throw Error(ba+"Object expected");var t,r,n,a=["precision",1,El,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Tl(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Ri+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ri+r+": "+n);return this}var Hv=DN(aU);Jn=new Hv(1);const Et=Hv;function sU(e){return fU(e)||uU(e)||cU(e)||lU()}function lU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cU(e,t){if(e){if(typeof e=="string")return sm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sm(e,t)}}function uU(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function fU(e){if(Array.isArray(e))return sm(e)}function sm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var dU=function(t){return t},RN={},LN=function(t){return t===RN},Ow=function(t){return function r(){return arguments.length===0||arguments.length===1&&LN(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},hU=function e(t,r){return t===1?r:Ow(function(){for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];var i=a.filter(function(s){return s!==RN}).length;return i>=t?r.apply(void 0,a):e(t-i,Ow(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var d=a.map(function(f){return LN(f)?l.shift():f});return r.apply(void 0,sU(d).concat(l))}))})},f0=function(t){return hU(t.length,t)},lm=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},pU=f0(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),gU=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return dU;var a=r.reverse(),o=a[0],i=a.slice(1);return function(){return i.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},cm=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},IN=function(t){var r=null,n=null;return function(){for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return r&&o.every(function(s,l){return s===r[l]})||(r=o,n=t.apply(void 0,o)),n}};function mU(e){var t;return e===0?t=1:t=Math.floor(new Et(e).abs().log(10).toNumber())+1,t}function yU(e,t,r){for(var n=new Et(e),a=0,o=[];n.lt(t)&&a<1e5;)o.push(n.toNumber()),n=n.add(r),a++;return o}var vU=f0(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),xU=f0(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),bU=f0(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const d0={rangeStep:yU,getDigitCount:mU,interpolateNumber:vU,uninterpolateNumber:xU,uninterpolateTruncation:bU};function um(e){return SU(e)||kU(e)||BN(e)||wU()}function wU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kU(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function SU(e){if(Array.isArray(e))return fm(e)}function nu(e,t){return NU(e)||_U(e,t)||BN(e,t)||jU()}function jU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BN(e,t){if(e){if(typeof e=="string")return fm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fm(e,t)}}function fm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _U(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,o=void 0;try{for(var i=e[Symbol.iterator](),s;!(n=(s=i.next()).done)&&(r.push(s.value),!(t&&r.length===t));n=!0);}catch(l){a=!0,o=l}finally{try{!n&&i.return!=null&&i.return()}finally{if(a)throw o}}return r}}function NU(e){if(Array.isArray(e))return e}function FN(e){var t=nu(e,2),r=t[0],n=t[1],a=r,o=n;return r>n&&(a=n,o=r),[a,o]}function zN(e,t,r){if(e.lte(0))return new Et(0);var n=d0.getDigitCount(e.toNumber()),a=new Et(10).pow(n),o=e.div(a),i=n!==1?.05:.1,s=new Et(Math.ceil(o.div(i).toNumber())).add(r).mul(i),l=s.mul(a);return t?l:new Et(Math.ceil(l))}function OU(e,t,r){var n=1,a=new Et(e);if(!a.isint()&&r){var o=Math.abs(e);o<1?(n=new Et(10).pow(d0.getDigitCount(e)-1),a=new Et(Math.floor(a.div(n).toNumber())).mul(n)):o>1&&(a=new Et(Math.floor(e)))}else e===0?a=new Et(Math.floor((t-1)/2)):r||(a=new Et(Math.floor(e)));var i=Math.floor((t-1)/2),s=gU(pU(function(l){return a.add(new Et(l-i).mul(n)).toNumber()}),lm);return s(0,t)}function UN(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Et(0),tickMin:new Et(0),tickMax:new Et(0)};var o=zN(new Et(t).sub(e).div(r-1),n,a),i;e<=0&&t>=0?i=new Et(0):(i=new Et(e).add(t).div(2),i=i.sub(new Et(i).mod(o)));var s=Math.ceil(i.sub(e).div(o).toNumber()),l=Math.ceil(new Et(t).sub(i).div(o).toNumber()),c=s+l+1;return c>r?UN(e,t,r,n,a+1):(c<r&&(l=t>0?l+(r-c):l,s=t>0?s:s+(r-c)),{step:o,tickMin:i.sub(new Et(s).mul(o)),tickMax:i.add(new Et(l).mul(o))})}function PU(e){var t=nu(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(a,2),s=FN([r,n]),l=nu(s,2),c=l[0],d=l[1];if(c===-1/0||d===1/0){var f=d===1/0?[c].concat(um(lm(0,a-1).map(function(){return 1/0}))):[].concat(um(lm(0,a-1).map(function(){return-1/0})),[d]);return r>n?cm(f):f}if(c===d)return OU(c,a,o);var h=UN(c,d,i,o),p=h.step,m=h.tickMin,v=h.tickMax,w=d0.rangeStep(m,v.add(new Et(.1).mul(p)),p);return r>n?cm(w):w}function MU(e,t){var r=nu(e,2),n=r[0],a=r[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=FN([n,a]),s=nu(i,2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[n,a];if(l===c)return[l];var d=Math.max(t,2),f=zN(new Et(c).sub(l).div(d-1),o,0),h=[].concat(um(d0.rangeStep(new Et(l),new Et(c).sub(new Et(.99).mul(f)),f)),[c]);return n>a?cm(h):h}var AU=IN(PU),CU=IN(MU),EU="Invariant failed";function Xi(e,t){throw new Error(EU)}var TU=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function tl(e){"@babel/helpers - typeof";return tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tl(e)}function Ud(){return Ud=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ud.apply(this,arguments)}function $U(e,t){return IU(e)||LU(e,t)||RU(e,t)||DU()}function DU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RU(e,t){if(e){if(typeof e=="string")return Pw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pw(e,t)}}function Pw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function LU(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function IU(e){if(Array.isArray(e))return e}function BU(e,t){if(e==null)return{};var r=FU(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function FU(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function zU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UU(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,HN(n.key),n)}}function WU(e,t,r){return t&&UU(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function GU(e,t,r){return t=Wd(t),HU(e,WN()?Reflect.construct(t,r||[],Wd(e).constructor):t.apply(e,r))}function HU(e,t){if(t&&(tl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VU(e)}function VU(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WN=function(){return!!e})()}function Wd(e){return Wd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wd(e)}function XU(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dm(e,t)}function dm(e,t){return dm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},dm(e,t)}function GN(e,t,r){return t=HN(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HN(e){var t=KU(e,"string");return tl(t)=="symbol"?t:t+""}function KU(e,t){if(tl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var $l=function(e){function t(){return zU(this,t),GU(this,t,arguments)}return XU(t,e),WU(t,[{key:"render",value:function(){var n=this.props,a=n.offset,o=n.layout,i=n.width,s=n.dataKey,l=n.data,c=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=BU(n,TU),p=Ve(h,!1);this.props.direction==="x"&&d.type!=="number"&&Xi();var m=l.map(function(v){var w=c(v,s),y=w.x,g=w.y,x=w.value,S=w.errorVal;if(!S)return null;var k=[],b,_;if(Array.isArray(S)){var N=$U(S,2);b=N[0],_=N[1]}else b=_=S;if(o==="vertical"){var O=d.scale,P=g+a,A=P+i,C=P-i,T=O(x-b),F=O(x+_);k.push({x1:F,y1:A,x2:F,y2:C}),k.push({x1:T,y1:P,x2:F,y2:P}),k.push({x1:T,y1:A,x2:T,y2:C})}else if(o==="horizontal"){var D=f.scale,U=y+a,M=U-i,E=U+i,R=D(x-b),G=D(x+_);k.push({x1:M,y1:G,x2:E,y2:G}),k.push({x1:U,y1:R,x2:U,y2:G}),k.push({x1:M,y1:R,x2:E,y2:R})}return I.createElement(bt,Ud({className:"recharts-errorBar",key:"bar-".concat(k.map(function(Q){return"".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2)}))},p),k.map(function(Q){return I.createElement("line",Ud({},Q,{key:"line-".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2)}))}))});return I.createElement(bt,{className:"recharts-errorBars"},m)}}])}(I.Component);GN($l,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});GN($l,"displayName","ErrorBar");function au(e){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},au(e)}function Mw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mw(Object(r),!0).forEach(function(n){YU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YU(e,t,r){return t=qU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qU(e){var t=ZU(e,"string");return au(t)=="symbol"?t:t+""}function ZU(e,t){if(au(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(au(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VN=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,o=t.legendContent,i=Qn(r,Va);if(!i)return null;var s=Va.defaultProps,l=s!==void 0?yi(yi({},s),i.props):{},c;return i.props&&i.props.payload?c=i.props&&i.props.payload:o==="children"?c=(n||[]).reduce(function(d,f){var h=f.item,p=f.props,m=p.sectors||p.data||[];return d.concat(m.map(function(v){return{type:i.props.iconType||h.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):c=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?yi(yi({},h),f.props):{},m=p.dataKey,v=p.name,w=p.legendType,y=p.hide;return{inactive:y,dataKey:m,type:l.iconType||w||"square",color:Vv(f),value:v||m,payload:p}}),yi(yi(yi({},l),Va.getWithHeight(i,a)),{},{payload:c,item:i})};function ou(e){"@babel/helpers - typeof";return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ou(e)}function Aw(e){return tW(e)||eW(e)||JU(e)||QU()}function QU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JU(e,t){if(e){if(typeof e=="string")return hm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hm(e,t)}}function eW(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tW(e){if(Array.isArray(e))return hm(e)}function hm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Cw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cw(Object(r),!0).forEach(function(n){Is(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Is(e,t,r){return t=rW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rW(e){var t=nW(e,"string");return ou(t)=="symbol"?t:t+""}function nW(e,t){if(ou(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ou(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ir(e,t,r){return We(e)||We(t)?r:Lr(t)?ya(e,t,r):Xe(t)?t(e):r}function bc(e,t,r,n){var a=eU(e,function(s){return Ir(s,t)});if(r==="number"){var o=a.filter(function(s){return fe(s)||parseFloat(s)});return o.length?[u0(o),Wo(o)]:[1/0,-1/0]}var i=n?a.filter(function(s){return!We(s)}):a;return i.map(function(s){return Lr(s)||s instanceof Date?s:""})}var aW=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,i=-1,s=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,c=0;c<s;c++){var d=c>0?a[c-1].coordinate:a[s-1].coordinate,f=a[c].coordinate,h=c>=s-1?a[0].coordinate:a[c+1].coordinate,p=void 0;if(Ca(f-d)!==Ca(h-f)){var m=[];if(Ca(h-f)===Ca(l[1]-l[0])){p=h;var v=f+l[1]-l[0];m[0]=Math.min(v,(v+d)/2),m[1]=Math.max(v,(v+d)/2)}else{p=d;var w=h+l[1]-l[0];m[0]=Math.min(f,(w+f)/2),m[1]=Math.max(f,(w+f)/2)}var y=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>y[0]&&t<=y[1]||t>=m[0]&&t<=m[1]){i=a[c].index;break}}else{var g=Math.min(d,h),x=Math.max(d,h);if(t>(g+f)/2&&t<=(x+f)/2){i=a[c].index;break}}}else for(var S=0;S<s;S++)if(S===0&&t<=(n[S].coordinate+n[S+1].coordinate)/2||S>0&&S<s-1&&t>(n[S].coordinate+n[S-1].coordinate)/2&&t<=(n[S].coordinate+n[S+1].coordinate)/2||S===s-1&&t>(n[S].coordinate+n[S-1].coordinate)/2){i=n[S].index;break}return i},Vv=function(t){var r,n=t,a=n.type.displayName,o=(r=t.type)!==null&&r!==void 0&&r.defaultProps?gr(gr({},t.type.defaultProps),t.props):t.props,i=o.stroke,s=o.fill,l;switch(a){case"Line":l=i;break;case"Area":case"Radar":l=i&&i!=="none"?i:s;break;default:l=s;break}return l},oW=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,o=a===void 0?{}:a;if(!o)return{};for(var i={},s=Object.keys(o),l=0,c=s.length;l<c;l++)for(var d=o[s[l]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var m=d[f[h]],v=m.items,w=m.cateAxisId,y=v.filter(function(_){return mo(_.type).indexOf("Bar")>=0});if(y&&y.length){var g=y[0].type.defaultProps,x=g!==void 0?gr(gr({},g),y[0].props):y[0].props,S=x.barSize,k=x[w];i[k]||(i[k]=[]);var b=We(S)?r:S;i[k].push({item:y[0],stackList:y.slice(1),barSize:We(b)?void 0:Gi(b,n,0)})}}return i},iW=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,o=t.sizeList,i=o===void 0?[]:o,s=t.maxBarSize,l=i.length;if(l<1)return null;var c=Gi(r,a,0,!0),d,f=[];if(i[0].barSize===+i[0].barSize){var h=!1,p=a/l,m=i.reduce(function(S,k){return S+k.barSize||0},0);m+=(l-1)*c,m>=a&&(m-=(l-1)*c,c=0),m>=a&&p>0&&(h=!0,p*=.9,m=l*p);var v=(a-m)/2>>0,w={offset:v-c,size:0};d=i.reduce(function(S,k){var b={item:k.item,position:{offset:w.offset+w.size+c,size:h?p:k.barSize}},_=[].concat(Aw(S),[b]);return w=_[_.length-1].position,k.stackList&&k.stackList.length&&k.stackList.forEach(function(N){_.push({item:N,position:w})}),_},f)}else{var y=Gi(n,a,0,!0);a-2*y-(l-1)*c<=0&&(c=0);var g=(a-2*y-(l-1)*c)/l;g>1&&(g>>=0);var x=s===+s?Math.min(g,s):g;d=i.reduce(function(S,k,b){var _=[].concat(Aw(S),[{item:k.item,position:{offset:y+(g+c)*b+(g-x)/2,size:x}}]);return k.stackList&&k.stackList.length&&k.stackList.forEach(function(N){_.push({item:N,position:_[_.length-1].position})}),_},f)}return d},sW=function(t,r,n,a){var o=n.children,i=n.width,s=n.margin,l=i-(s.left||0)-(s.right||0),c=VN({children:o,legendWidth:l});if(c){var d=a||{},f=d.width,h=d.height,p=c.align,m=c.verticalAlign,v=c.layout;if((v==="vertical"||v==="horizontal"&&m==="middle")&&p!=="center"&&fe(t[p]))return gr(gr({},t),{},Is({},p,t[p]+(f||0)));if((v==="horizontal"||v==="vertical"&&p==="center")&&m!=="middle"&&fe(t[m]))return gr(gr({},t),{},Is({},m,t[m]+(h||0)))}return t},lW=function(t,r,n){return We(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},XN=function(t,r,n,a,o){var i=r.props.children,s=zn(i,$l).filter(function(c){return lW(a,o,c.props.direction)});if(s&&s.length){var l=s.map(function(c){return c.props.dataKey});return t.reduce(function(c,d){var f=Ir(d,n);if(We(f))return c;var h=Array.isArray(f)?[u0(f),Wo(f)]:[f,f],p=l.reduce(function(m,v){var w=Ir(d,v,0),y=h[0]-Math.abs(Array.isArray(w)?w[0]:w),g=h[1]+Math.abs(Array.isArray(w)?w[1]:w);return[Math.min(y,m[0]),Math.max(g,m[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},cW=function(t,r,n,a,o){var i=r.map(function(s){return XN(t,s,n,o,a)}).filter(function(s){return!We(s)});return i&&i.length?i.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},KN=function(t,r,n,a,o){var i=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&XN(t,l,c,a)||bc(t,c,n,o)});if(n==="number")return i.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var s={};return i.reduce(function(l,c){for(var d=0,f=c.length;d<f;d++)s[c[d]]||(s[c[d]]=!0,l.push(c[d]));return l},[])},YN=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},qN=function(t,r,n,a){if(a)return t.map(function(l){return l.coordinate});var o,i,s=t.map(function(l){return l.coordinate===r&&(o=!0),l.coordinate===n&&(i=!0),l.coordinate});return o||s.push(r),i||s.push(n),s},po=function(t,r,n){if(!t)return null;var a=t.scale,o=t.duplicateDomain,i=t.type,s=t.range,l=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,c=(r||n)&&i==="category"&&a.bandwidth?a.bandwidth()/l:0;if(c=t.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?Ca(s[0]-s[1])*2*c:c,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=o?o.indexOf(f):f;return{coordinate:a(h)+c,value:f,offset:c}});return d.filter(function(f){return!Ol(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+c,value:f,index:h,offset:c}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+c,value:f,offset:c}}):a.domain().map(function(f,h){return{coordinate:a(f)+c,value:o?o[f]:f,index:h,offset:c}})},xp=new WeakMap,Sf=function(t,r){if(typeof r!="function")return t;xp.has(t)||xp.set(t,new WeakMap);var n=xp.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},uW=function(t,r,n){var a=t.scale,o=t.type,i=t.layout,s=t.axisType;if(a==="auto")return i==="radial"&&s==="radiusAxis"?{scale:Zc(),realScaleType:"band"}:i==="radial"&&s==="angleAxis"?{scale:Ld(),realScaleType:"linear"}:o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:xc(),realScaleType:"point"}:o==="category"?{scale:Zc(),realScaleType:"band"}:{scale:Ld(),realScaleType:"linear"};if(Wi(a)){var l="scale".concat(qh(a));return{scale:(jw[l]||xc)(),realScaleType:jw[l]?l:"point"}}return Xe(a)?{scale:a}:{scale:xc(),realScaleType:"point"}},Ew=1e-4,fW=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),o=Math.min(a[0],a[1])-Ew,i=Math.max(a[0],a[1])+Ew,s=t(r[0]),l=t(r[n-1]);(s<o||s>i||l<o||l>i)&&t.domain([r[0],r[n-1]])}},dW=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},hW=function(t,r){if(!r||r.length!==2||!fe(r[0])||!fe(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),o=[t[0],t[1]];return(!fe(t[0])||t[0]<n)&&(o[0]=n),(!fe(t[1])||t[1]>a)&&(o[1]=a),o[0]>a&&(o[0]=a),o[1]<n&&(o[1]=n),o},pW=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var o=0,i=0,s=0;s<r;++s){var l=Ol(t[s][n][1])?t[s][n][0]:t[s][n][1];l>=0?(t[s][n][0]=o,t[s][n][1]=o+l,o=t[s][n][1]):(t[s][n][0]=i,t[s][n][1]=i+l,i=t[s][n][1])}},gW=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var o=0,i=0;i<r;++i){var s=Ol(t[i][n][1])?t[i][n][0]:t[i][n][1];s>=0?(t[i][n][0]=o,t[i][n][1]=o+s,o=t[i][n][1]):(t[i][n][0]=0,t[i][n][1]=0)}},mW={sign:pW,expand:C4,none:Xs,silhouette:E4,wiggle:T4,positive:gW},yW=function(t,r,n){var a=r.map(function(s){return s.props.dataKey}),o=mW[n],i=A4().keys(a).value(function(s,l){return+Ir(s,l,0)}).order(Ig).offset(o);return i(t)},vW=function(t,r,n,a,o,i){if(!t)return null;var s=i?r.reverse():r,l={},c=s.reduce(function(f,h){var p,m=(p=h.type)!==null&&p!==void 0&&p.defaultProps?gr(gr({},h.type.defaultProps),h.props):h.props,v=m.stackId,w=m.hide;if(w)return f;var y=m[n],g=f[y]||{hasStack:!1,stackGroups:{}};if(Lr(v)){var x=g.stackGroups[v]||{numericAxisId:n,cateAxisId:a,items:[]};x.items.push(h),g.hasStack=!0,g.stackGroups[v]=x}else g.stackGroups[Ji("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return gr(gr({},f),{},Is({},y,g))},l),d={};return Object.keys(c).reduce(function(f,h){var p=c[h];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(v,w){var y=p.stackGroups[w];return gr(gr({},v),{},Is({},w,{numericAxisId:n,cateAxisId:a,items:y.items,stackedData:yW(t,y.items,o)}))},m)}return gr(gr({},f),{},Is({},h,p))},d)},xW=function(t,r){var n=r.realScaleType,a=r.type,o=r.tickCount,i=r.originalDomain,s=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&a==="number"&&i&&(i[0]==="auto"||i[1]==="auto")){var c=t.domain();if(!c.length)return null;var d=AU(c,o,s);return t.domain([u0(d),Wo(d)]),{niceTicks:d}}if(o&&a==="number"){var f=t.domain(),h=CU(f,o,s);return{niceTicks:h}}return null};function rl(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,o=e.index,i=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!We(a[t.dataKey])){var s=pd(r,"value",a[t.dataKey]);if(s)return s.coordinate+n/2}return r[o]?r[o].coordinate+n/2:null}var l=Ir(a,We(i)?t.dataKey:i);return We(l)?null:t.scale(l)}var Tw=function(t){var r=t.axis,n=t.ticks,a=t.offset,o=t.bandSize,i=t.entry,s=t.index;if(r.type==="category")return n[s]?n[s].coordinate+a:null;var l=Ir(i,r.dataKey,r.domain[s]);return We(l)?null:r.scale(l)-o/2+a},bW=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]);return a<=0&&o>=0?0:o<0?o:a}return n[0]},wW=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?gr(gr({},t.type.defaultProps),t.props):t.props,o=a.stackId;if(Lr(o)){var i=r[o];if(i){var s=i.items.indexOf(t);return s>=0?i.stackedData[s]:null}}return null},kW=function(t){return t.reduce(function(r,n){return[u0(n.concat([r[0]]).filter(fe)),Wo(n.concat([r[1]]).filter(fe))]},[1/0,-1/0])},ZN=function(t,r,n){return Object.keys(t).reduce(function(a,o){var i=t[o],s=i.stackedData,l=s.reduce(function(c,d){var f=kW(d.slice(r,n+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],a[0]),Math.max(l[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},$w=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Dw=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,pm=function(t,r,n){if(Xe(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(fe(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if($w.test(t[0])){var o=+$w.exec(t[0])[1];a[0]=r[0]-o}else Xe(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(fe(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(Dw.test(t[1])){var i=+Dw.exec(t[1])[1];a[1]=r[1]+i}else Xe(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},Gd=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var o=xv(r,function(f){return f.coordinate}),i=1/0,s=1,l=o.length;s<l;s++){var c=o[s],d=o[s-1];i=Math.min((c.coordinate||0)-(d.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0},Rw=function(t,r,n){return!t||!t.length||Hi(t,ya(n,"type.defaultProps.domain"))?r:t},QN=function(t,r){var n=t.type.defaultProps?gr(gr({},t.type.defaultProps),t.props):t.props,a=n.dataKey,o=n.name,i=n.unit,s=n.formatter,l=n.tooltipType,c=n.chartType,d=n.hide;return gr(gr({},Ve(t,!1)),{},{dataKey:a,unit:i,formatter:s,name:o||a,color:Vv(t),value:Ir(r,a),type:l,payload:r,chartType:c,hide:d})};function iu(e){"@babel/helpers - typeof";return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iu(e)}function Lw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Iw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lw(Object(r),!0).forEach(function(n){SW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SW(e,t,r){return t=jW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jW(e){var t=_W(e,"string");return iu(t)=="symbol"?t:t+""}function _W(e,t){if(iu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(iu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hd=Math.PI/180,NW=function(t){return t*180/Math.PI},Jr=function(t,r,n,a){return{x:t+Math.cos(-Hd*a)*n,y:r+Math.sin(-Hd*a)*n}},OW=function(t,r){var n=t.x,a=t.y,o=r.x,i=r.y;return Math.sqrt(Math.pow(n-o,2)+Math.pow(a-i,2))},PW=function(t,r){var n=t.x,a=t.y,o=r.cx,i=r.cy,s=OW({x:n,y:a},{x:o,y:i});if(s<=0)return{radius:s};var l=(n-o)/s,c=Math.acos(l);return a>i&&(c=2*Math.PI-c),{radius:s,angle:NW(c),angleInRadian:c}},MW=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),o=Math.floor(n/360),i=Math.min(a,o);return{startAngle:r-i*360,endAngle:n-i*360}},AW=function(t,r){var n=r.startAngle,a=r.endAngle,o=Math.floor(n/360),i=Math.floor(a/360),s=Math.min(o,i);return t+s*360},Bw=function(t,r){var n=t.x,a=t.y,o=PW({x:n,y:a},r),i=o.radius,s=o.angle,l=r.innerRadius,c=r.outerRadius;if(i<l||i>c)return!1;if(i===0)return!0;var d=MW(r),f=d.startAngle,h=d.endAngle,p=s,m;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;m=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;m=p>=h&&p<=f}return m?Iw(Iw({},r),{},{radius:i,angle:AW(p,r)}):null};function su(e){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},su(e)}var CW=["offset"];function EW(e){return RW(e)||DW(e)||$W(e)||TW()}function TW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $W(e,t){if(e){if(typeof e=="string")return gm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gm(e,t)}}function DW(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function RW(e){if(Array.isArray(e))return gm(e)}function gm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function LW(e,t){if(e==null)return{};var r=IW(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function IW(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Fw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $r(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fw(Object(r),!0).forEach(function(n){BW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BW(e,t,r){return t=FW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FW(e){var t=zW(e,"string");return su(t)=="symbol"?t:t+""}function zW(e,t){if(su(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(su(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lu(){return lu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lu.apply(this,arguments)}var UW=function(t){var r=t.value,n=t.formatter,a=We(t.children)?r:t.children;return Xe(n)?n(a):a},WW=function(t,r){var n=Ca(r-t),a=Math.min(Math.abs(r-t),360);return n*a},GW=function(t,r,n){var a=t.position,o=t.viewBox,i=t.offset,s=t.className,l=o,c=l.cx,d=l.cy,f=l.innerRadius,h=l.outerRadius,p=l.startAngle,m=l.endAngle,v=l.clockWise,w=(f+h)/2,y=WW(p,m),g=y>=0?1:-1,x,S;a==="insideStart"?(x=p+g*i,S=v):a==="insideEnd"?(x=m-g*i,S=!v):a==="end"&&(x=m+g*i,S=v),S=y<=0?S:!S;var k=Jr(c,d,w,x),b=Jr(c,d,w,x+(S?1:-1)*359),_="M".concat(k.x,",").concat(k.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(S?0:1,`,
    `).concat(b.x,",").concat(b.y),N=We(t.id)?Ji("recharts-radial-line-"):t.id;return I.createElement("text",lu({},n,{dominantBaseline:"central",className:st("recharts-radial-bar-label",s)}),I.createElement("defs",null,I.createElement("path",{id:N,d:_})),I.createElement("textPath",{xlinkHref:"#".concat(N)},r))},HW=function(t){var r=t.viewBox,n=t.offset,a=t.position,o=r,i=o.cx,s=o.cy,l=o.innerRadius,c=o.outerRadius,d=o.startAngle,f=o.endAngle,h=(d+f)/2;if(a==="outside"){var p=Jr(i,s,c+n,h),m=p.x,v=p.y;return{x:m,y:v,textAnchor:m>=i?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"end"};var w=(l+c)/2,y=Jr(i,s,w,h),g=y.x,x=y.y;return{x:g,y:x,textAnchor:"middle",verticalAnchor:"middle"}},VW=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,o=t.position,i=r,s=i.x,l=i.y,c=i.width,d=i.height,f=d>=0?1:-1,h=f*a,p=f>0?"end":"start",m=f>0?"start":"end",v=c>=0?1:-1,w=v*a,y=v>0?"end":"start",g=v>0?"start":"end";if(o==="top"){var x={x:s+c/2,y:l-f*a,textAnchor:"middle",verticalAnchor:p};return $r($r({},x),n?{height:Math.max(l-n.y,0),width:c}:{})}if(o==="bottom"){var S={x:s+c/2,y:l+d+h,textAnchor:"middle",verticalAnchor:m};return $r($r({},S),n?{height:Math.max(n.y+n.height-(l+d),0),width:c}:{})}if(o==="left"){var k={x:s-w,y:l+d/2,textAnchor:y,verticalAnchor:"middle"};return $r($r({},k),n?{width:Math.max(k.x-n.x,0),height:d}:{})}if(o==="right"){var b={x:s+c+w,y:l+d/2,textAnchor:g,verticalAnchor:"middle"};return $r($r({},b),n?{width:Math.max(n.x+n.width-b.x,0),height:d}:{})}var _=n?{width:c,height:d}:{};return o==="insideLeft"?$r({x:s+w,y:l+d/2,textAnchor:g,verticalAnchor:"middle"},_):o==="insideRight"?$r({x:s+c-w,y:l+d/2,textAnchor:y,verticalAnchor:"middle"},_):o==="insideTop"?$r({x:s+c/2,y:l+h,textAnchor:"middle",verticalAnchor:m},_):o==="insideBottom"?$r({x:s+c/2,y:l+d-h,textAnchor:"middle",verticalAnchor:p},_):o==="insideTopLeft"?$r({x:s+w,y:l+h,textAnchor:g,verticalAnchor:m},_):o==="insideTopRight"?$r({x:s+c-w,y:l+h,textAnchor:y,verticalAnchor:m},_):o==="insideBottomLeft"?$r({x:s+w,y:l+d-h,textAnchor:g,verticalAnchor:p},_):o==="insideBottomRight"?$r({x:s+c-w,y:l+d-h,textAnchor:y,verticalAnchor:p},_):Sl(o)&&(fe(o.x)||Pi(o.x))&&(fe(o.y)||Pi(o.y))?$r({x:s+Gi(o.x,c),y:l+Gi(o.y,d),textAnchor:"end",verticalAnchor:"end"},_):$r({x:s+c/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},_)},XW=function(t){return"cx"in t&&fe(t.cx)};function Qr(e){var t=e.offset,r=t===void 0?5:t,n=LW(e,CW),a=$r({offset:r},n),o=a.viewBox,i=a.position,s=a.value,l=a.children,c=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!o||We(s)&&We(l)&&!j.isValidElement(c)&&!Xe(c))return null;if(j.isValidElement(c))return j.cloneElement(c,a);var p;if(Xe(c)){if(p=j.createElement(c,a),j.isValidElement(p))return p}else p=UW(a);var m=XW(o),v=Ve(a,!0);if(m&&(i==="insideStart"||i==="insideEnd"||i==="end"))return GW(a,p,v);var w=m?HW(a):VW(a);return I.createElement(Md,lu({className:st("recharts-label",f)},v,w,{breakAll:h}),p)}Qr.displayName="Label";var JN=function(t){var r=t.cx,n=t.cy,a=t.angle,o=t.startAngle,i=t.endAngle,s=t.r,l=t.radius,c=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,p=t.top,m=t.left,v=t.width,w=t.height,y=t.clockWise,g=t.labelViewBox;if(g)return g;if(fe(v)&&fe(w)){if(fe(f)&&fe(h))return{x:f,y:h,width:v,height:w};if(fe(p)&&fe(m))return{x:p,y:m,width:v,height:w}}return fe(f)&&fe(h)?{x:f,y:h,width:0,height:0}:fe(r)&&fe(n)?{cx:r,cy:n,startAngle:o||a||0,endAngle:i||a||0,innerRadius:c||0,outerRadius:d||l||s||0,clockWise:y}:t.viewBox?t.viewBox:{}},KW=function(t,r){return t?t===!0?I.createElement(Qr,{key:"label-implicit",viewBox:r}):Lr(t)?I.createElement(Qr,{key:"label-implicit",viewBox:r,value:t}):j.isValidElement(t)?t.type===Qr?j.cloneElement(t,{key:"label-implicit",viewBox:r}):I.createElement(Qr,{key:"label-implicit",content:t,viewBox:r}):Xe(t)?I.createElement(Qr,{key:"label-implicit",content:t,viewBox:r}):Sl(t)?I.createElement(Qr,lu({viewBox:r},t,{key:"label-implicit"})):null:null},YW=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,o=JN(t),i=zn(a,Qr).map(function(l,c){return j.cloneElement(l,{viewBox:r||o,key:"label-".concat(c)})});if(!n)return i;var s=KW(t.label,r||o);return[s].concat(EW(i))};Qr.parseViewBox=JN;Qr.renderCallByParent=YW;function qW(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var ZW=qW;const QW=Rt(ZW);function cu(e){"@babel/helpers - typeof";return cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cu(e)}var JW=["valueAccessor"],eG=["data","dataKey","clockWise","id","textBreakAll"];function tG(e){return oG(e)||aG(e)||nG(e)||rG()}function rG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nG(e,t){if(e){if(typeof e=="string")return mm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mm(e,t)}}function aG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function oG(e){if(Array.isArray(e))return mm(e)}function mm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Vd(){return Vd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vd.apply(this,arguments)}function zw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Uw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zw(Object(r),!0).forEach(function(n){iG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iG(e,t,r){return t=sG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sG(e){var t=lG(e,"string");return cu(t)=="symbol"?t:t+""}function lG(e,t){if(cu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ww(e,t){if(e==null)return{};var r=cG(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cG(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var uG=function(t){return Array.isArray(t.value)?QW(t.value):t.value};function Ka(e){var t=e.valueAccessor,r=t===void 0?uG:t,n=Ww(e,JW),a=n.data,o=n.dataKey,i=n.clockWise,s=n.id,l=n.textBreakAll,c=Ww(n,eG);return!a||!a.length?null:I.createElement(bt,{className:"recharts-label-list"},a.map(function(d,f){var h=We(o)?r(d,f):Ir(d&&d.payload,o),p=We(s)?{}:{id:"".concat(s,"-").concat(f)};return I.createElement(Qr,Vd({},Ve(d,!0),c,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:l,viewBox:Qr.parseViewBox(We(i)?d:Uw(Uw({},d),{},{clockWise:i})),key:"label-".concat(f),index:f}))}))}Ka.displayName="LabelList";function fG(e,t){return e?e===!0?I.createElement(Ka,{key:"labelList-implicit",data:t}):I.isValidElement(e)||Xe(e)?I.createElement(Ka,{key:"labelList-implicit",data:t,content:e}):Sl(e)?I.createElement(Ka,Vd({data:t},e,{key:"labelList-implicit"})):null:null}function dG(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=zn(n,Ka).map(function(i,s){return j.cloneElement(i,{data:t,key:"labelList-".concat(s)})});if(!r)return a;var o=fG(e.label,t);return[o].concat(tG(a))}Ka.renderCallByParent=dG;function uu(e){"@babel/helpers - typeof";return uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uu(e)}function ym(){return ym=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ym.apply(this,arguments)}function Gw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gw(Object(r),!0).forEach(function(n){hG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hG(e,t,r){return t=pG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pG(e){var t=gG(e,"string");return uu(t)=="symbol"?t:t+""}function gG(e,t){if(uu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(uu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mG=function(t,r){var n=Ca(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},jf=function(t){var r=t.cx,n=t.cy,a=t.radius,o=t.angle,i=t.sign,s=t.isExternal,l=t.cornerRadius,c=t.cornerIsExternal,d=l*(s?1:-1)+a,f=Math.asin(l/d)/Hd,h=c?o:o+i*f,p=Jr(r,n,d,h),m=Jr(r,n,a,h),v=c?o-i*f:o,w=Jr(r,n,d*Math.cos(f*Hd),v);return{center:p,circleTangency:m,lineTangency:w,theta:f}},eO=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,o=t.outerRadius,i=t.startAngle,s=t.endAngle,l=mG(i,s),c=i+l,d=Jr(r,n,o,i),f=Jr(r,n,o,c),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(i>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var p=Jr(r,n,a,i),m=Jr(r,n,a,c);h+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(i<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},yG=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,o=t.outerRadius,i=t.cornerRadius,s=t.forceCornerRadius,l=t.cornerIsExternal,c=t.startAngle,d=t.endAngle,f=Ca(d-c),h=jf({cx:r,cy:n,radius:o,angle:c,sign:f,cornerRadius:i,cornerIsExternal:l}),p=h.circleTangency,m=h.lineTangency,v=h.theta,w=jf({cx:r,cy:n,radius:o,angle:d,sign:-f,cornerRadius:i,cornerIsExternal:l}),y=w.circleTangency,g=w.lineTangency,x=w.theta,S=l?Math.abs(c-d):Math.abs(c-d)-v-x;if(S<0)return s?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):eO({cx:r,cy:n,innerRadius:a,outerRadius:o,startAngle:c,endAngle:d});var k="M ".concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(S>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
  `);if(a>0){var b=jf({cx:r,cy:n,radius:a,angle:c,sign:f,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),_=b.circleTangency,N=b.lineTangency,O=b.theta,P=jf({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),A=P.circleTangency,C=P.lineTangency,T=P.theta,F=l?Math.abs(c-d):Math.abs(c-d)-O-T;if(F<0&&i===0)return"".concat(k,"L").concat(r,",").concat(n,"Z");k+="L".concat(C.x,",").concat(C.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(F>180),",").concat(+(f>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(N.x,",").concat(N.y,"Z")}else k+="L".concat(r,",").concat(n,"Z");return k},vG={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},tO=function(t){var r=Hw(Hw({},vG),t),n=r.cx,a=r.cy,o=r.innerRadius,i=r.outerRadius,s=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(i<o||d===f)return null;var p=st("recharts-sector",h),m=i-o,v=Gi(s,m,0,!0),w;return v>0&&Math.abs(d-f)<360?w=yG({cx:n,cy:a,innerRadius:o,outerRadius:i,cornerRadius:Math.min(v,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:f}):w=eO({cx:n,cy:a,innerRadius:o,outerRadius:i,startAngle:d,endAngle:f}),I.createElement("path",ym({},Ve(r,!0),{className:p,d:w,role:"img"}))};function fu(e){"@babel/helpers - typeof";return fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fu(e)}function vm(){return vm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vm.apply(this,arguments)}function Vw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vw(Object(r),!0).forEach(function(n){xG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xG(e,t,r){return t=bG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bG(e){var t=wG(e,"string");return fu(t)=="symbol"?t:t+""}function wG(e,t){if(fu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kw={curveBasisClosed:x4,curveBasisOpen:b4,curveBasis:v4,curveBumpX:a4,curveBumpY:o4,curveLinearClosed:w4,curveLinear:Qh,curveMonotoneX:k4,curveMonotoneY:S4,curveNatural:j4,curveStep:_4,curveStepAfter:O4,curveStepBefore:N4},_f=function(t){return t.x===+t.x&&t.y===+t.y},ec=function(t){return t.x},tc=function(t){return t.y},kG=function(t,r){if(Xe(t))return t;var n="curve".concat(qh(t));return(n==="curveMonotone"||n==="curveBump")&&r?Kw["".concat(n).concat(r==="vertical"?"Y":"X")]:Kw[n]||Qh},SG=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,o=a===void 0?[]:a,i=t.baseLine,s=t.layout,l=t.connectNulls,c=l===void 0?!1:l,d=kG(n,s),f=c?o.filter(function(v){return _f(v)}):o,h;if(Array.isArray(i)){var p=c?i.filter(function(v){return _f(v)}):i,m=f.map(function(v,w){return Xw(Xw({},v),{},{base:p[w]})});return s==="vertical"?h=gf().y(tc).x1(ec).x0(function(v){return v.base.x}):h=gf().x(ec).y1(tc).y0(function(v){return v.base.y}),h.defined(_f).curve(d),h(m)}return s==="vertical"&&fe(i)?h=gf().y(tc).x1(ec).x0(i):fe(i)?h=gf().x(ec).y1(tc).y0(i):h=n_().x(ec).y(tc),h.defined(_f).curve(d),h(f)},Li=function(t){var r=t.className,n=t.points,a=t.path,o=t.pathRef;if((!n||!n.length)&&!a)return null;var i=n&&n.length?SG(t):a;return j.createElement("path",vm({},Ve(t,!1),gd(t),{className:st("recharts-curve",r),d:i,ref:o}))},rO={exports:{}},jG="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",_G=jG,NG=_G;function nO(){}function aO(){}aO.resetWarningCache=nO;var OG=function(){function e(n,a,o,i,s,l){if(l!==NG){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:aO,resetWarningCache:nO};return r.PropTypes=r,r};rO.exports=OG();var PG=rO.exports;const jt=Rt(PG),{getOwnPropertyNames:MG,getOwnPropertySymbols:AG}=Object,{hasOwnProperty:CG}=Object.prototype;function bp(e,t){return function(n,a,o){return e(n,a,o)&&t(n,a,o)}}function Nf(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);const{cache:o}=a,i=o.get(r),s=o.get(n);if(i&&s)return i===n&&s===r;o.set(r,n),o.set(n,r);const l=e(r,n,a);return o.delete(r),o.delete(n),l}}function EG(e){return e!=null?e[Symbol.toStringTag]:void 0}function Yw(e){return MG(e).concat(AG(e))}const TG=Object.hasOwn||((e,t)=>CG.call(e,t));function rs(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const $G="__v",DG="__o",RG="_owner",{getOwnPropertyDescriptor:qw,keys:Zw}=Object;function LG(e,t){return e.byteLength===t.byteLength&&Xd(new Uint8Array(e),new Uint8Array(t))}function IG(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function BG(e,t){return e.byteLength===t.byteLength&&Xd(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function FG(e,t){return rs(e.getTime(),t.getTime())}function zG(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function UG(e,t){return e===t}function Qw(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),o=e.entries();let i,s,l=0;for(;(i=o.next())&&!i.done;){const c=t.entries();let d=!1,f=0;for(;(s=c.next())&&!s.done;){if(a[f]){f++;continue}const h=i.value,p=s.value;if(r.equals(h[0],p[0],l,f,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;l++}return!0}const WG=rs;function GG(e,t,r){const n=Zw(e);let a=n.length;if(Zw(t).length!==a)return!1;for(;a-- >0;)if(!oO(e,t,r,n[a]))return!1;return!0}function rc(e,t,r){const n=Yw(e);let a=n.length;if(Yw(t).length!==a)return!1;let o,i,s;for(;a-- >0;)if(o=n[a],!oO(e,t,r,o)||(i=qw(e,o),s=qw(t,o),(i||s)&&(!i||!s||i.configurable!==s.configurable||i.enumerable!==s.enumerable||i.writable!==s.writable)))return!1;return!0}function HG(e,t){return rs(e.valueOf(),t.valueOf())}function VG(e,t){return e.source===t.source&&e.flags===t.flags}function Jw(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),o=e.values();let i,s;for(;(i=o.next())&&!i.done;){const l=t.values();let c=!1,d=0;for(;(s=l.next())&&!s.done;){if(!a[d]&&r.equals(i.value,s.value,i.value,s.value,e,t,r)){c=a[d]=!0;break}d++}if(!c)return!1}return!0}function Xd(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function XG(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function oO(e,t,r,n){return(n===RG||n===DG||n===$G)&&(e.$$typeof||t.$$typeof)?!0:TG(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const KG="[object ArrayBuffer]",YG="[object Arguments]",qG="[object Boolean]",ZG="[object DataView]",QG="[object Date]",JG="[object Error]",eH="[object Map]",tH="[object Number]",rH="[object Object]",nH="[object RegExp]",aH="[object Set]",oH="[object String]",iH={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},sH="[object URL]",lH=Object.prototype.toString;function cH({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:a,areFunctionsEqual:o,areMapsEqual:i,areNumbersEqual:s,areObjectsEqual:l,arePrimitiveWrappersEqual:c,areRegExpsEqual:d,areSetsEqual:f,areTypedArraysEqual:h,areUrlsEqual:p,unknownTagComparators:m}){return function(w,y,g){if(w===y)return!0;if(w==null||y==null)return!1;const x=typeof w;if(x!==typeof y)return!1;if(x!=="object")return x==="number"?s(w,y,g):x==="function"?o(w,y,g):!1;const S=w.constructor;if(S!==y.constructor)return!1;if(S===Object)return l(w,y,g);if(Array.isArray(w))return t(w,y,g);if(S===Date)return n(w,y,g);if(S===RegExp)return d(w,y,g);if(S===Map)return i(w,y,g);if(S===Set)return f(w,y,g);const k=lH.call(w);if(k===QG)return n(w,y,g);if(k===nH)return d(w,y,g);if(k===eH)return i(w,y,g);if(k===aH)return f(w,y,g);if(k===rH)return typeof w.then!="function"&&typeof y.then!="function"&&l(w,y,g);if(k===sH)return p(w,y,g);if(k===JG)return a(w,y,g);if(k===YG)return l(w,y,g);if(iH[k])return h(w,y,g);if(k===KG)return e(w,y,g);if(k===ZG)return r(w,y,g);if(k===qG||k===tH||k===oH)return c(w,y,g);if(m){let b=m[k];if(!b){const _=EG(w);_&&(b=m[_])}if(b)return b(w,y,g)}return!1}}function uH({circular:e,createCustomConfig:t,strict:r}){let n={areArrayBuffersEqual:LG,areArraysEqual:r?rc:IG,areDataViewsEqual:BG,areDatesEqual:FG,areErrorsEqual:zG,areFunctionsEqual:UG,areMapsEqual:r?bp(Qw,rc):Qw,areNumbersEqual:WG,areObjectsEqual:r?rc:GG,arePrimitiveWrappersEqual:HG,areRegExpsEqual:VG,areSetsEqual:r?bp(Jw,rc):Jw,areTypedArraysEqual:r?bp(Xd,rc):Xd,areUrlsEqual:XG,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const a=Nf(n.areArraysEqual),o=Nf(n.areMapsEqual),i=Nf(n.areObjectsEqual),s=Nf(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:i,areSetsEqual:s})}return n}function fH(e){return function(t,r,n,a,o,i,s){return e(t,r,s)}}function dH({circular:e,comparator:t,createState:r,equals:n,strict:a}){if(r)return function(s,l){const{cache:c=e?new WeakMap:void 0,meta:d}=r();return t(s,l,{cache:c,equals:n,meta:d,strict:a})};if(e)return function(s,l){return t(s,l,{cache:new WeakMap,equals:n,meta:void 0,strict:a})};const o={cache:void 0,equals:n,meta:void 0,strict:a};return function(s,l){return t(s,l,o)}}const hH=hi();hi({strict:!0});hi({circular:!0});hi({circular:!0,strict:!0});hi({createInternalComparator:()=>rs});hi({strict:!0,createInternalComparator:()=>rs});hi({circular:!0,createInternalComparator:()=>rs});hi({circular:!0,createInternalComparator:()=>rs,strict:!0});function hi(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:a=!1}=e,o=uH(e),i=cH(o),s=r?r(i):fH(i);return dH({circular:t,comparator:i,createState:n,equals:s,strict:a})}function pH(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function e2(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(o){r<0&&(r=o),o-r>t?(e(o),r=-1):pH(a)};requestAnimationFrame(n)}function xm(e){"@babel/helpers - typeof";return xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xm(e)}function gH(e){return xH(e)||vH(e)||yH(e)||mH()}function mH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yH(e,t){if(e){if(typeof e=="string")return t2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t2(e,t)}}function t2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vH(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xH(e){if(Array.isArray(e))return e}function bH(){var e={},t=function(){return null},r=!1,n=function a(o){if(!r){if(Array.isArray(o)){if(!o.length)return;var i=o,s=gH(i),l=s[0],c=s.slice(1);if(typeof l=="number"){e2(a.bind(null,c),l);return}a(l),e2(a.bind(null,c));return}xm(o)==="object"&&(e=o,t(e)),typeof o=="function"&&o()}};return{stop:function(){r=!0},start:function(o){r=!1,n(o)},subscribe:function(o){return t=o,function(){t=function(){return null}}}}}function du(e){"@babel/helpers - typeof";return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},du(e)}function r2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function n2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r2(Object(r),!0).forEach(function(n){iO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iO(e,t,r){return t=wH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wH(e){var t=kH(e,"string");return du(t)==="symbol"?t:String(t)}function kH(e,t){if(du(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(du(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SH=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(o){return a.includes(o)})})},jH=function(t){return t},_H=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},wc=function(t,r){return Object.keys(r).reduce(function(n,a){return n2(n2({},n),{},iO({},a,t(a,r[a])))},{})},a2=function(t,r,n){return t.map(function(a){return"".concat(_H(a)," ").concat(r,"ms ").concat(n)}).join(",")};function NH(e,t){return MH(e)||PH(e,t)||sO(e,t)||OH()}function OH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PH(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function MH(e){if(Array.isArray(e))return e}function AH(e){return TH(e)||EH(e)||sO(e)||CH()}function CH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sO(e,t){if(e){if(typeof e=="string")return bm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bm(e,t)}}function EH(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function TH(e){if(Array.isArray(e))return bm(e)}function bm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Kd=1e-4,lO=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},cO=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},o2=function(t,r){return function(n){var a=lO(t,r);return cO(a,n)}},$H=function(t,r){return function(n){var a=lO(t,r),o=[].concat(AH(a.map(function(i,s){return i*s}).slice(1)),[0]);return cO(o,n)}},i2=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],o=r[1],i=r[2],s=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,o=0,i=1,s=1;break;case"ease":a=.25,o=.1,i=.25,s=1;break;case"ease-in":a=.42,o=0,i=1,s=1;break;case"ease-out":a=.42,o=0,i=.58,s=1;break;case"ease-in-out":a=0,o=0,i=.58,s=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(w){return parseFloat(w)}),d=NH(c,4);a=d[0],o=d[1],i=d[2],s=d[3]}}}var f=o2(a,i),h=o2(o,s),p=$H(a,i),m=function(y){return y>1?1:y<0?0:y},v=function(y){for(var g=y>1?1:y,x=g,S=0;S<8;++S){var k=f(x)-g,b=p(x);if(Math.abs(k-g)<Kd||b<Kd)return h(x);x=m(x-k/b)}return h(x)};return v.isStepper=!1,v},DH=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,o=a===void 0?8:a,i=t.dt,s=i===void 0?17:i,l=function(d,f,h){var p=-(d-f)*n,m=h*o,v=h+(p-m)*s/1e3,w=h*s/1e3+d;return Math.abs(w-f)<Kd&&Math.abs(v)<Kd?[f,0]:[w,v]};return l.isStepper=!0,l.dt=s,l},RH=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return i2(a);case"spring":return DH();default:if(a.split("(")[0]==="cubic-bezier")return i2(a)}return typeof a=="function"?a:null};function hu(e){"@babel/helpers - typeof";return hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hu(e)}function s2(e){return BH(e)||IH(e)||uO(e)||LH()}function LH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IH(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function BH(e){if(Array.isArray(e))return km(e)}function l2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l2(Object(r),!0).forEach(function(n){wm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wm(e,t,r){return t=FH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FH(e){var t=zH(e,"string");return hu(t)==="symbol"?t:String(t)}function zH(e,t){if(hu(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UH(e,t){return HH(e)||GH(e,t)||uO(e,t)||WH()}function WH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uO(e,t){if(e){if(typeof e=="string")return km(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return km(e,t)}}function km(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function GH(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function HH(e){if(Array.isArray(e))return e}var Yd=function(t,r,n){return t+(r-t)*n},Sm=function(t){var r=t.from,n=t.to;return r!==n},VH=function e(t,r,n){var a=wc(function(o,i){if(Sm(i)){var s=t(i.from,i.to,i.velocity),l=UH(s,2),c=l[0],d=l[1];return qr(qr({},i),{},{from:c,velocity:d})}return i},r);return n<1?wc(function(o,i){return Sm(i)?qr(qr({},i),{},{velocity:Yd(i.velocity,a[o].velocity,n),from:Yd(i.from,a[o].from,n)}):i},r):e(t,a,n-1)};const XH=function(e,t,r,n,a){var o=SH(e,t),i=o.reduce(function(w,y){return qr(qr({},w),{},wm({},y,[e[y],t[y]]))},{}),s=o.reduce(function(w,y){return qr(qr({},w),{},wm({},y,{from:e[y],velocity:0,to:t[y]}))},{}),l=-1,c,d,f=function(){return null},h=function(){return wc(function(y,g){return g.from},s)},p=function(){return!Object.values(s).filter(Sm).length},m=function(y){c||(c=y);var g=y-c,x=g/r.dt;s=VH(r,s,x),a(qr(qr(qr({},e),t),h())),c=y,p()||(l=requestAnimationFrame(f))},v=function(y){d||(d=y);var g=(y-d)/n,x=wc(function(k,b){return Yd.apply(void 0,s2(b).concat([r(g)]))},i);if(a(qr(qr(qr({},e),t),x)),g<1)l=requestAnimationFrame(f);else{var S=wc(function(k,b){return Yd.apply(void 0,s2(b).concat([r(1)]))},i);a(qr(qr(qr({},e),t),S))}};return f=r.isStepper?m:v,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function nl(e){"@babel/helpers - typeof";return nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nl(e)}var KH=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function YH(e,t){if(e==null)return{};var r=qH(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qH(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,o;for(o=0;o<n.length;o++)a=n[o],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function wp(e){return eV(e)||JH(e)||QH(e)||ZH()}function ZH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QH(e,t){if(e){if(typeof e=="string")return jm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jm(e,t)}}function JH(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function eV(e){if(Array.isArray(e))return jm(e)}function jm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ja(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c2(Object(r),!0).forEach(function(n){lc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lc(e,t,r){return t=fO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rV(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fO(n.key),n)}}function nV(e,t,r){return t&&rV(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function fO(e){var t=aV(e,"string");return nl(t)==="symbol"?t:String(t)}function aV(e,t){if(nl(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nl(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oV(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_m(e,t)}function _m(e,t){return _m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},_m(e,t)}function iV(e){var t=sV();return function(){var n=qd(e),a;if(t){var o=qd(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return Nm(this,a)}}function Nm(e,t){if(t&&(nl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Om(e)}function Om(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sV(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function qd(e){return qd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qd(e)}var Da=function(e){oV(r,e);var t=iV(r);function r(n,a){var o;tV(this,r),o=t.call(this,n,a);var i=o.props,s=i.isActive,l=i.attributeName,c=i.from,d=i.to,f=i.steps,h=i.children,p=i.duration;if(o.handleStyleChange=o.handleStyleChange.bind(Om(o)),o.changeStyle=o.changeStyle.bind(Om(o)),!s||p<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:d}),Nm(o);if(f&&f.length)o.state={style:f[0].style};else if(c){if(typeof h=="function")return o.state={style:c},Nm(o);o.state={style:l?lc({},l,c):c}}else o.state={style:{}};return o}return nV(r,[{key:"componentDidMount",value:function(){var a=this.props,o=a.isActive,i=a.canBegin;this.mounted=!0,!(!o||!i)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var o=this.props,i=o.isActive,s=o.canBegin,l=o.attributeName,c=o.shouldReAnimate,d=o.to,f=o.from,h=this.state.style;if(s){if(!i){var p={style:l?lc({},l,d):d};this.state&&h&&(l&&h[l]!==d||!l&&h!==d)&&this.setState(p);return}if(!(hH(a.to,d)&&a.canBegin&&a.isActive)){var m=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=m||c?f:a.to;if(this.state&&h){var w={style:l?lc({},l,v):v};(l&&h[l]!==v||!l&&h!==v)&&this.setState(w)}this.runAnimation(ja(ja({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var o=this,i=a.from,s=a.to,l=a.duration,c=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,p=XH(i,s,RH(c),l,this.changeStyle),m=function(){o.stopJSAnimation=p()};this.manager.start([h,d,m,l,f])}},{key:"runStepAnimation",value:function(a){var o=this,i=a.steps,s=a.begin,l=a.onAnimationStart,c=i[0],d=c.style,f=c.duration,h=f===void 0?0:f,p=function(v,w,y){if(y===0)return v;var g=w.duration,x=w.easing,S=x===void 0?"ease":x,k=w.style,b=w.properties,_=w.onAnimationEnd,N=y>0?i[y-1]:w,O=b||Object.keys(k);if(typeof S=="function"||S==="spring")return[].concat(wp(v),[o.runJSAnimation.bind(o,{from:N.style,to:k,duration:g,easing:S}),g]);var P=a2(O,g,S),A=ja(ja(ja({},N.style),k),{},{transition:P});return[].concat(wp(v),[A,g,_]).filter(jH)};return this.manager.start([l].concat(wp(i.reduce(p,[d,Math.max(h,s)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=bH());var o=a.begin,i=a.duration,s=a.attributeName,l=a.to,c=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,p=a.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var v=s?lc({},s,l):l,w=a2(Object.keys(v),i,c);m.start([d,o,ja(ja({},v),{},{transition:w}),i,f])}},{key:"render",value:function(){var a=this.props,o=a.children;a.begin;var i=a.duration;a.attributeName,a.easing;var s=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var l=YH(a,KH),c=j.Children.count(o),d=this.state.style;if(typeof o=="function")return o(d);if(!s||c===0||i<=0)return o;var f=function(p){var m=p.props,v=m.style,w=v===void 0?{}:v,y=m.className,g=j.cloneElement(p,ja(ja({},l),{},{style:ja(ja({},w),d),className:y}));return g};return c===1?f(j.Children.only(o)):I.createElement("div",null,j.Children.map(o,function(h){return f(h)}))}}]),r}(j.PureComponent);Da.displayName="Animate";Da.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Da.propTypes={from:jt.oneOfType([jt.object,jt.string]),to:jt.oneOfType([jt.object,jt.string]),attributeName:jt.string,duration:jt.number,begin:jt.number,easing:jt.oneOfType([jt.string,jt.func]),steps:jt.arrayOf(jt.shape({duration:jt.number.isRequired,style:jt.object.isRequired,easing:jt.oneOfType([jt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),jt.func]),properties:jt.arrayOf("string"),onAnimationEnd:jt.func})),children:jt.oneOfType([jt.node,jt.func]),isActive:jt.bool,canBegin:jt.bool,onAnimationEnd:jt.func,shouldReAnimate:jt.bool,onAnimationStart:jt.func,onAnimationReStart:jt.func};function pu(e){"@babel/helpers - typeof";return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pu(e)}function Zd(){return Zd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zd.apply(this,arguments)}function lV(e,t){return dV(e)||fV(e,t)||uV(e,t)||cV()}function cV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uV(e,t){if(e){if(typeof e=="string")return u2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u2(e,t)}}function u2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fV(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function dV(e){if(Array.isArray(e))return e}function f2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function d2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f2(Object(r),!0).forEach(function(n){hV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hV(e,t,r){return t=pV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pV(e){var t=gV(e,"string");return pu(t)=="symbol"?t:t+""}function gV(e,t){if(pu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var h2=function(t,r,n,a,o){var i=Math.min(Math.abs(n)/2,Math.abs(a)/2),s=a>=0?1:-1,l=n>=0?1:-1,c=a>=0&&n>=0||a<0&&n<0?1:0,d;if(i>0&&o instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=o[h]>i?i:o[h];d="M".concat(t,",").concat(r+s*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(t+l*f[0],",").concat(r)),d+="L ".concat(t+n-l*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(t+n,",").concat(r+s*f[1])),d+="L ".concat(t+n,",").concat(r+a-s*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(t+n-l*f[2],",").concat(r+a)),d+="L ".concat(t+l*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(r+a-s*f[3])),d+="Z"}else if(i>0&&o===+o&&o>0){var m=Math.min(i,o);d="M ".concat(t,",").concat(r+s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+l*m,",").concat(r,`
            L `).concat(t+n-l*m,",").concat(r,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+n,",").concat(r+s*m,`
            L `).concat(t+n,",").concat(r+a-s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+n-l*m,",").concat(r+a,`
            L `).concat(t+l*m,",").concat(r+a,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t,",").concat(r+a-s*m," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},mV=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,o=r.x,i=r.y,s=r.width,l=r.height;if(Math.abs(s)>0&&Math.abs(l)>0){var c=Math.min(o,o+s),d=Math.max(o,o+s),f=Math.min(i,i+l),h=Math.max(i,i+l);return n>=c&&n<=d&&a>=f&&a<=h}return!1},yV={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Xv=function(t){var r=d2(d2({},yV),t),n=j.useRef(),a=j.useState(-1),o=lV(a,2),i=o[0],s=o[1];j.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&s(S)}catch{}},[]);var l=r.x,c=r.y,d=r.width,f=r.height,h=r.radius,p=r.className,m=r.animationEasing,v=r.animationDuration,w=r.animationBegin,y=r.isAnimationActive,g=r.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||f!==+f||d===0||f===0)return null;var x=st("recharts-rectangle",p);return g?I.createElement(Da,{canBegin:i>0,from:{width:d,height:f,x:l,y:c},to:{width:d,height:f,x:l,y:c},duration:v,animationEasing:m,isActive:g},function(S){var k=S.width,b=S.height,_=S.x,N=S.y;return I.createElement(Da,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:v,isActive:y,easing:m},I.createElement("path",Zd({},Ve(r,!0),{className:x,d:h2(_,N,k,b,h),ref:n})))}):I.createElement("path",Zd({},Ve(r,!0),{className:x,d:h2(l,c,d,f,h)}))};function Pm(){return Pm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pm.apply(this,arguments)}var h0=function(t){var r=t.cx,n=t.cy,a=t.r,o=t.className,i=st("recharts-dot",o);return r===+r&&n===+n&&a===+a?j.createElement("circle",Pm({},Ve(t,!1),gd(t),{className:i,cx:r,cy:n,r:a})):null};function gu(e){"@babel/helpers - typeof";return gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gu(e)}var vV=["x","y","top","left","width","height","className"];function Mm(){return Mm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mm.apply(this,arguments)}function p2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xV(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p2(Object(r),!0).forEach(function(n){bV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bV(e,t,r){return t=wV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wV(e){var t=kV(e,"string");return gu(t)=="symbol"?t:t+""}function kV(e,t){if(gu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SV(e,t){if(e==null)return{};var r=jV(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jV(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var _V=function(t,r,n,a,o,i){return"M".concat(t,",").concat(o,"v").concat(a,"M").concat(i,",").concat(r,"h").concat(n)},NV=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,o=a===void 0?0:a,i=t.top,s=i===void 0?0:i,l=t.left,c=l===void 0?0:l,d=t.width,f=d===void 0?0:d,h=t.height,p=h===void 0?0:h,m=t.className,v=SV(t,vV),w=xV({x:n,y:o,top:s,left:c,width:f,height:p},v);return!fe(n)||!fe(o)||!fe(f)||!fe(p)||!fe(s)||!fe(c)?null:I.createElement("path",Mm({},Ve(w,!0),{className:st("recharts-cross",m),d:_V(n,o,f,p,s,c)}))},OV=O_,PV=OV(Object.getPrototypeOf,Object),MV=PV,AV=Po,CV=MV,EV=Mo,TV="[object Object]",$V=Function.prototype,DV=Object.prototype,dO=$V.toString,RV=DV.hasOwnProperty,LV=dO.call(Object);function IV(e){if(!EV(e)||AV(e)!=TV)return!1;var t=CV(e);if(t===null)return!0;var r=RV.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&dO.call(r)==LV}var BV=IV;const FV=Rt(BV);var zV=Po,UV=Mo,WV="[object Boolean]";function GV(e){return e===!0||e===!1||UV(e)&&zV(e)==WV}var HV=GV;const VV=Rt(HV);function mu(e){"@babel/helpers - typeof";return mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mu(e)}function Qd(){return Qd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qd.apply(this,arguments)}function XV(e,t){return ZV(e)||qV(e,t)||YV(e,t)||KV()}function KV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YV(e,t){if(e){if(typeof e=="string")return g2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g2(e,t)}}function g2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qV(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function ZV(e){if(Array.isArray(e))return e}function m2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function y2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m2(Object(r),!0).forEach(function(n){QV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QV(e,t,r){return t=JV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JV(e){var t=eX(e,"string");return mu(t)=="symbol"?t:t+""}function eX(e,t){if(mu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var v2=function(t,r,n,a,o){var i=n-a,s;return s="M ".concat(t,",").concat(r),s+="L ".concat(t+n,",").concat(r),s+="L ".concat(t+n-i/2,",").concat(r+o),s+="L ".concat(t+n-i/2-a,",").concat(r+o),s+="L ".concat(t,",").concat(r," Z"),s},tX={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},rX=function(t){var r=y2(y2({},tX),t),n=j.useRef(),a=j.useState(-1),o=XV(a,2),i=o[0],s=o[1];j.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var x=n.current.getTotalLength();x&&s(x)}catch{}},[]);var l=r.x,c=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,m=r.animationEasing,v=r.animationDuration,w=r.animationBegin,y=r.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var g=st("recharts-trapezoid",p);return y?I.createElement(Da,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:d,lowerWidth:f,height:h,x:l,y:c},duration:v,animationEasing:m,isActive:y},function(x){var S=x.upperWidth,k=x.lowerWidth,b=x.height,_=x.x,N=x.y;return I.createElement(Da,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:v,easing:m},I.createElement("path",Qd({},Ve(r,!0),{className:g,d:v2(_,N,S,k,b),ref:n})))}):I.createElement("g",null,I.createElement("path",Qd({},Ve(r,!0),{className:g,d:v2(l,c,d,f,h)})))},nX=["option","shapeType","propTransformer","activeClassName","isActive"];function yu(e){"@babel/helpers - typeof";return yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yu(e)}function aX(e,t){if(e==null)return{};var r=oX(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oX(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function x2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x2(Object(r),!0).forEach(function(n){iX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iX(e,t,r){return t=sX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sX(e){var t=lX(e,"string");return yu(t)=="symbol"?t:t+""}function lX(e,t){if(yu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cX(e,t){return Jd(Jd({},t),e)}function uX(e,t){return e==="symbols"}function b2(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return I.createElement(Xv,r);case"trapezoid":return I.createElement(rX,r);case"sector":return I.createElement(tO,r);case"symbols":if(uX(t))return I.createElement(e0,r);break;default:return null}}function fX(e){return j.isValidElement(e)?e.props:e}function Am(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?cX:n,o=e.activeClassName,i=o===void 0?"recharts-active-shape":o,s=e.isActive,l=aX(e,nX),c;if(j.isValidElement(t))c=j.cloneElement(t,Jd(Jd({},l),fX(t)));else if(Xe(t))c=t(l);else if(FV(t)&&!VV(t)){var d=a(t,l);c=I.createElement(b2,{shapeType:r,elementProps:d})}else{var f=l;c=I.createElement(b2,{shapeType:r,elementProps:f})}return s?I.createElement(bt,{className:i},c):c}function p0(e,t){return t!=null&&"trapezoids"in e.props}function g0(e,t){return t!=null&&"sectors"in e.props}function vu(e,t){return t!=null&&"points"in e.props}function dX(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,o=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&o}function hX(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function pX(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function gX(e,t){var r;return p0(e,t)?r=dX:g0(e,t)?r=hX:vu(e,t)&&(r=pX),r}function mX(e,t){var r;return p0(e,t)?r="trapezoids":g0(e,t)?r="sectors":vu(e,t)&&(r="points"),r}function yX(e,t){if(p0(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(g0(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return vu(e,t)?t.payload:{}}function vX(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=mX(r,t),o=yX(r,t),i=n.filter(function(l,c){var d=Hi(o,l),f=r.props[a].filter(function(m){var v=gX(r,t);return v(m,t)}),h=r.props[a].indexOf(f[f.length-1]),p=c===h;return d&&p}),s=n.indexOf(i[i.length-1]);return s}var xX=Math.ceil,bX=Math.max;function wX(e,t,r,n){for(var a=-1,o=bX(xX((t-e)/(r||1)),0),i=Array(o);o--;)i[n?o:++a]=e,e+=r;return i}var kX=wX,SX=V_,w2=1/0,jX=17976931348623157e292;function _X(e){if(!e)return e===0?e:0;if(e=SX(e),e===w2||e===-w2){var t=e<0?-1:1;return t*jX}return e===e?e:0}var hO=_X,NX=kX,OX=n0,kp=hO;function PX(e){return function(t,r,n){return n&&typeof n!="number"&&OX(t,r,n)&&(r=n=void 0),t=kp(t),r===void 0?(r=t,t=0):r=kp(r),n=n===void 0?t<r?1:-1:kp(n),NX(t,r,n,e)}}var MX=PX,AX=MX,CX=AX(),EX=CX;const eh=Rt(EX);function xu(e){"@babel/helpers - typeof";return xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xu(e)}function k2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function S2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k2(Object(r),!0).forEach(function(n){pO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pO(e,t,r){return t=TX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TX(e){var t=$X(e,"string");return xu(t)=="symbol"?t:t+""}function $X(e,t){if(xu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DX=["Webkit","Moz","O","ms"],RX=function(t,r){var n=t.replace(/(\w)/,function(o){return o.toUpperCase()}),a=DX.reduce(function(o,i){return S2(S2({},o),{},pO({},i+n,r))},{});return a[t]=r,a};function al(e){"@babel/helpers - typeof";return al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},al(e)}function th(){return th=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},th.apply(this,arguments)}function j2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j2(Object(r),!0).forEach(function(n){qn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mO(n.key),n)}}function IX(e,t,r){return t&&_2(e.prototype,t),r&&_2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function BX(e,t,r){return t=rh(t),FX(e,gO()?Reflect.construct(t,r||[],rh(e).constructor):t.apply(e,r))}function FX(e,t){if(t&&(al(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zX(e)}function zX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gO=function(){return!!e})()}function rh(e){return rh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rh(e)}function UX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cm(e,t)}function Cm(e,t){return Cm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Cm(e,t)}function qn(e,t,r){return t=mO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mO(e){var t=WX(e,"string");return al(t)=="symbol"?t:t+""}function WX(e,t){if(al(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(al(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var GX=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,o=t.x,i=t.width,s=t.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=xc().domain(eh(0,l)).range([o,o+i-s]),d=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(a),scale:c,scaleValues:d}},N2=function(t){return t.changedTouches&&!!t.changedTouches.length},ol=function(e){function t(r){var n;return LX(this,t),n=BX(this,t,[r]),qn(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),qn(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),qn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,o=a.endIndex,i=a.onDragEnd,s=a.startIndex;i==null||i({endIndex:o,startIndex:s})}),n.detachDragEndListener()}),qn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),qn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),qn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),qn(n,"handleSlideDragStart",function(a){var o=N2(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return UX(t,e),IX(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,o=n.endX,i=this.state.scaleValues,s=this.props,l=s.gap,c=s.data,d=c.length-1,f=Math.min(a,o),h=Math.max(a,o),p=t.getIndexInRange(i,f),m=t.getIndexInRange(i,h);return{startIndex:p-p%l,endIndex:m===d?d:m-m%l}}},{key:"getTextOfTick",value:function(n){var a=this.props,o=a.data,i=a.tickFormatter,s=a.dataKey,l=Ir(o[n],s,n);return Xe(i)?i(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,o=a.slideMoveStartX,i=a.startX,s=a.endX,l=this.props,c=l.x,d=l.width,f=l.travellerWidth,h=l.startIndex,p=l.endIndex,m=l.onChange,v=n.pageX-o;v>0?v=Math.min(v,c+d-f-s,c+d-f-i):v<0&&(v=Math.max(v,c-i,c-s));var w=this.getIndex({startX:i+v,endX:s+v});(w.startIndex!==h||w.endIndex!==p)&&m&&m(w),this.setState({startX:i+v,endX:s+v,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var o=N2(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,o=a.brushMoveStartX,i=a.movingTravellerId,s=a.endX,l=a.startX,c=this.state[i],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,m=d.onChange,v=d.gap,w=d.data,y={startX:this.state.startX,endX:this.state.endX},g=n.pageX-o;g>0?g=Math.min(g,f+h-p-c):g<0&&(g=Math.max(g,f-c)),y[i]=c+g;var x=this.getIndex(y),S=x.startIndex,k=x.endIndex,b=function(){var N=w.length-1;return i==="startX"&&(s>l?S%v===0:k%v===0)||s<l&&k===N||i==="endX"&&(s>l?k%v===0:S%v===0)||s>l&&k===N};this.setState(qn(qn({},i,c+g),"brushMoveStartX",n.pageX),function(){m&&b()&&m(x)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var o=this,i=this.state,s=i.scaleValues,l=i.startX,c=i.endX,d=this.state[a],f=s.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=s.length)){var p=s[h];a==="startX"&&p>=c||a==="endX"&&p<=l||this.setState(qn({},a,p),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,o=n.y,i=n.width,s=n.height,l=n.fill,c=n.stroke;return I.createElement("rect",{stroke:c,fill:l,x:a,y:o,width:i,height:s})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,o=n.y,i=n.width,s=n.height,l=n.data,c=n.children,d=n.padding,f=j.Children.only(c);return f?I.cloneElement(f,{x:a,y:o,width:i,height:s,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,a){var o,i,s=this,l=this.props,c=l.y,d=l.travellerWidth,f=l.height,h=l.traveller,p=l.ariaLabel,m=l.data,v=l.startIndex,w=l.endIndex,y=Math.max(n,this.props.x),g=Sp(Sp({},Ve(this.props,!1)),{},{x:y,y:c,width:d,height:f}),x=p||"Min value: ".concat((o=m[v])===null||o===void 0?void 0:o.name,", Max value: ").concat((i=m[w])===null||i===void 0?void 0:i.name);return I.createElement(bt,{tabIndex:0,role:"slider","aria-label":x,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(k){["ArrowLeft","ArrowRight"].includes(k.key)&&(k.preventDefault(),k.stopPropagation(),s.handleTravellerMoveKeyboard(k.key==="ArrowRight"?1:-1,a))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,g))}},{key:"renderSlide",value:function(n,a){var o=this.props,i=o.y,s=o.height,l=o.stroke,c=o.travellerWidth,d=Math.min(n,a)+c,f=Math.max(Math.abs(a-n)-c,0);return I.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:i,width:f,height:s})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,o=n.endIndex,i=n.y,s=n.height,l=n.travellerWidth,c=n.stroke,d=this.state,f=d.startX,h=d.endX,p=5,m={pointerEvents:"none",fill:c};return I.createElement(bt,{className:"recharts-brush-texts"},I.createElement(Md,th({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:i+s/2},m),this.getTextOfTick(a)),I.createElement(Md,th({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+p,y:i+s/2},m),this.getTextOfTick(o)))}},{key:"render",value:function(){var n=this.props,a=n.data,o=n.className,i=n.children,s=n.x,l=n.y,c=n.width,d=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,m=h.endX,v=h.isTextActive,w=h.isSlideMoving,y=h.isTravellerMoving,g=h.isTravellerFocused;if(!a||!a.length||!fe(s)||!fe(l)||!fe(c)||!fe(d)||c<=0||d<=0)return null;var x=st("recharts-brush",o),S=I.Children.count(i)===1,k=RX("userSelect","none");return I.createElement(bt,{className:x,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:k},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(p,m),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(m,"endX"),(v||w||y||g||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,o=n.y,i=n.width,s=n.height,l=n.stroke,c=Math.floor(o+s/2)-1;return I.createElement(I.Fragment,null,I.createElement("rect",{x:a,y:o,width:i,height:s,fill:l,stroke:"none"}),I.createElement("line",{x1:a+1,y1:c,x2:a+i-1,y2:c,fill:"none",stroke:"#fff"}),I.createElement("line",{x1:a+1,y1:c+2,x2:a+i-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var o;return I.isValidElement(n)?o=I.cloneElement(n,a):Xe(n)?o=n(a):o=t.renderDefaultTraveller(a),o}},{key:"getDerivedStateFromProps",value:function(n,a){var o=n.data,i=n.width,s=n.x,l=n.travellerWidth,c=n.updateId,d=n.startIndex,f=n.endIndex;if(o!==a.prevData||c!==a.prevUpdateId)return Sp({prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:i},o&&o.length?GX({data:o,width:i,x:s,travellerWidth:l,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(i!==a.prevWidth||s!==a.prevX||l!==a.prevTravellerWidth)){a.scale.range([s,s+i-l]);var h=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:i,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var o=n.length,i=0,s=o-1;s-i>1;){var l=Math.floor((i+s)/2);n[l]>a?s=l:i=l}return a>=n[s]?s:i}}])}(j.PureComponent);qn(ol,"displayName","Brush");qn(ol,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var HX=vv;function VX(e,t){var r;return HX(e,function(n,a,o){return r=t(n,a,o),!r}),!!r}var XX=VX,KX=x_,YX=ci,qX=XX,ZX=Gn,QX=n0;function JX(e,t,r){var n=ZX(e)?KX:qX;return r&&QX(e,t,r)&&(t=void 0),n(e,YX(t))}var eK=JX;const tK=Rt(eK);var Ya=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},O2=z_;function rK(e,t,r){t=="__proto__"&&O2?O2(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var nK=rK,aK=nK,oK=B_,iK=ci;function sK(e,t){var r={};return t=iK(t),oK(e,function(n,a,o){aK(r,a,t(n,a,o))}),r}var lK=sK;const cK=Rt(lK);function uK(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var fK=uK,dK=vv;function hK(e,t){var r=!0;return dK(e,function(n,a,o){return r=!!t(n,a,o),r}),r}var pK=hK,gK=fK,mK=pK,yK=ci,vK=Gn,xK=n0;function bK(e,t,r){var n=vK(e)?gK:mK;return r&&xK(e,t,r)&&(t=void 0),n(e,yK(t))}var wK=bK;const yO=Rt(wK);var kK=["x","y"];function bu(e){"@babel/helpers - typeof";return bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bu(e)}function Em(){return Em=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Em.apply(this,arguments)}function P2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P2(Object(r),!0).forEach(function(n){SK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SK(e,t,r){return t=jK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jK(e){var t=_K(e,"string");return bu(t)=="symbol"?t:t+""}function _K(e,t){if(bu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NK(e,t){if(e==null)return{};var r=OK(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function OK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function PK(e,t){var r=e.x,n=e.y,a=NK(e,kK),o="".concat(r),i=parseInt(o,10),s="".concat(n),l=parseInt(s,10),c="".concat(t.height||a.height),d=parseInt(c,10),f="".concat(t.width||a.width),h=parseInt(f,10);return nc(nc(nc(nc(nc({},t),a),i?{x:i}:{}),l?{y:l}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function M2(e){return I.createElement(Am,Em({shapeType:"rectangle",propTransformer:PK,activeClassName:"recharts-active-bar"},e))}var MK=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var o=fe(n)||WT(n);return o?t(n,a):(o||Xi(),r)}},AK=["value","background"],vO;function il(e){"@babel/helpers - typeof";return il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},il(e)}function CK(e,t){if(e==null)return{};var r=EK(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function EK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function nh(){return nh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nh.apply(this,arguments)}function A2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _r(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A2(Object(r),!0).forEach(function(n){Go(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bO(n.key),n)}}function $K(e,t,r){return t&&C2(e.prototype,t),r&&C2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function DK(e,t,r){return t=ah(t),RK(e,xO()?Reflect.construct(t,r||[],ah(e).constructor):t.apply(e,r))}function RK(e,t){if(t&&(il(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LK(e)}function LK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xO=function(){return!!e})()}function ah(e){return ah=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ah(e)}function IK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tm(e,t)}function Tm(e,t){return Tm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Tm(e,t)}function Go(e,t,r){return t=bO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bO(e){var t=BK(e,"string");return il(t)=="symbol"?t:t+""}function BK(e,t){if(il(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(il(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Lu=function(e){function t(){var r;TK(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=DK(this,t,[].concat(a)),Go(r,"state",{isAnimationFinished:!1}),Go(r,"id",Ji("recharts-bar-")),Go(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),i&&i()}),Go(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),i&&i()}),r}return IK(t,e),$K(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,o=this.props,i=o.shape,s=o.dataKey,l=o.activeIndex,c=o.activeBar,d=Ve(this.props,!1);return n&&n.map(function(f,h){var p=h===l,m=p?c:i,v=_r(_r(_r({},d),f),{},{isActive:p,option:m,index:h,dataKey:s,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return I.createElement(bt,nh({className:"recharts-bar-rectangle"},Wc(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),I.createElement(M2,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,o=a.data,i=a.layout,s=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,d=a.animationEasing,f=a.animationId,h=this.state.prevData;return I.createElement(Da,{begin:l,duration:c,isActive:s,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var m=p.t,v=o.map(function(w,y){var g=h&&h[y];if(g){var x=kr(g.x,w.x),S=kr(g.y,w.y),k=kr(g.width,w.width),b=kr(g.height,w.height);return _r(_r({},w),{},{x:x(m),y:S(m),width:k(m),height:b(m)})}if(i==="horizontal"){var _=kr(0,w.height),N=_(m);return _r(_r({},w),{},{y:w.y+w.height-N,height:N})}var O=kr(0,w.width),P=O(m);return _r(_r({},w),{},{width:P})});return I.createElement(bt,null,n.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,o=n.isAnimationActive,i=this.state.prevData;return o&&a&&a.length&&(!i||!Hi(i,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,o=a.data,i=a.dataKey,s=a.activeIndex,l=Ve(this.props.background,!1);return o.map(function(c,d){c.value;var f=c.background,h=CK(c,AK);if(!f)return null;var p=_r(_r(_r(_r(_r({},h),{},{fill:"#eee"},f),l),Wc(n.props,c,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:i,index:d,className:"recharts-bar-background-rectangle"});return I.createElement(M2,nh({key:"background-bar-".concat(d),option:n.props.background,isActive:d===s},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,i=o.data,s=o.xAxis,l=o.yAxis,c=o.layout,d=o.children,f=zn(d,$l);if(!f)return null;var h=c==="vertical"?i[0].height/2:i[0].width/2,p=function(w,y){var g=Array.isArray(w.value)?w.value[1]:w.value;return{x:w.x,y:w.y,value:g,errorVal:Ir(w,y)}},m={clipPath:n?"url(#clipPath-".concat(a,")"):null};return I.createElement(bt,m,f.map(function(v){return I.cloneElement(v,{key:"error-bar-".concat(a,"-").concat(v.props.dataKey),data:i,xAxis:s,yAxis:l,layout:c,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,o=n.data,i=n.className,s=n.xAxis,l=n.yAxis,c=n.left,d=n.top,f=n.width,h=n.height,p=n.isAnimationActive,m=n.background,v=n.id;if(a||!o||!o.length)return null;var w=this.state.isAnimationFinished,y=st("recharts-bar",i),g=s&&s.allowDataOverflow,x=l&&l.allowDataOverflow,S=g||x,k=We(v)?this.id:v;return I.createElement(bt,{className:y},g||x?I.createElement("defs",null,I.createElement("clipPath",{id:"clipPath-".concat(k)},I.createElement("rect",{x:g?c:c-f/2,y:x?d:d-h/2,width:g?f:f*2,height:x?h:h*2}))):null,I.createElement(bt,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(k,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,k),(!p||w)&&Ka.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(j.PureComponent);vO=Lu;Go(Lu,"displayName","Bar");Go(Lu,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ui.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Go(Lu,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,o=e.xAxis,i=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=dW(n,r);if(!p)return null;var m=t.layout,v=r.type.defaultProps,w=v!==void 0?_r(_r({},v),r.props):r.props,y=w.dataKey,g=w.children,x=w.minPointSize,S=m==="horizontal"?i:o,k=c?S.scale.domain():null,b=bW({numericAxis:S}),_=zn(g,wv),N=f.map(function(O,P){var A,C,T,F,D,U;c?A=hW(c[d+P],k):(A=Ir(O,y),Array.isArray(A)||(A=[b,A]));var M=MK(x,vO.defaultProps.minPointSize)(A[1],P);if(m==="horizontal"){var E,R=[i.scale(A[0]),i.scale(A[1])],G=R[0],Q=R[1];C=Tw({axis:o,ticks:s,bandSize:a,offset:p.offset,entry:O,index:P}),T=(E=Q??G)!==null&&E!==void 0?E:void 0,F=p.size;var X=G-Q;if(D=Number.isNaN(X)?0:X,U={x:C,y:i.y,width:F,height:i.height},Math.abs(M)>0&&Math.abs(D)<Math.abs(M)){var L=Ca(D||M)*(Math.abs(M)-Math.abs(D));T-=L,D+=L}}else{var ee=[o.scale(A[0]),o.scale(A[1])],Z=ee[0],$=ee[1];if(C=Z,T=Tw({axis:i,ticks:l,bandSize:a,offset:p.offset,entry:O,index:P}),F=$-Z,D=p.size,U={x:o.x,y:T,width:o.width,height:D},Math.abs(M)>0&&Math.abs(F)<Math.abs(M)){var ae=Ca(F||M)*(Math.abs(M)-Math.abs(F));F+=ae}}return _r(_r(_r({},O),{},{x:C,y:T,width:F,height:D,value:c?A:A[1],payload:O,background:U},_&&_[P]&&_[P].props),{},{tooltipPayload:[QN(r,O)],tooltipPosition:{x:C+F/2,y:T+D/2}})});return _r({data:N,layout:m},h)});function wu(e){"@babel/helpers - typeof";return wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wu(e)}function FK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wO(n.key),n)}}function zK(e,t,r){return t&&E2(e.prototype,t),r&&E2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function T2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Oa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T2(Object(r),!0).forEach(function(n){m0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function m0(e,t,r){return t=wO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wO(e){var t=UK(e,"string");return wu(t)=="symbol"?t:t+""}function UK(e,t){if(wu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kv=function(t,r,n,a,o){var i=t.width,s=t.height,l=t.layout,c=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:i-n.right,rightMirror:i-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},h=!!Qn(c,Lu);return d.reduce(function(p,m){var v=r[m],w=v.orientation,y=v.domain,g=v.padding,x=g===void 0?{}:g,S=v.mirror,k=v.reversed,b="".concat(w).concat(S?"Mirror":""),_,N,O,P,A;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var C=y[1]-y[0],T=1/0,F=v.categoricalDomain.sort(XT);if(F.forEach(function(ee,Z){Z>0&&(T=Math.min((ee||0)-(F[Z-1]||0),T))}),Number.isFinite(T)){var D=T/C,U=v.layout==="vertical"?n.height:n.width;if(v.padding==="gap"&&(_=D*U/2),v.padding==="no-gap"){var M=Gi(t.barCategoryGap,D*U),E=D*U/2;_=E-M-(E-M)/U*M}}}a==="xAxis"?N=[n.left+(x.left||0)+(_||0),n.left+n.width-(x.right||0)-(_||0)]:a==="yAxis"?N=l==="horizontal"?[n.top+n.height-(x.bottom||0),n.top+(x.top||0)]:[n.top+(x.top||0)+(_||0),n.top+n.height-(x.bottom||0)-(_||0)]:N=v.range,k&&(N=[N[1],N[0]]);var R=uW(v,o,h),G=R.scale,Q=R.realScaleType;G.domain(y).range(N),fW(G);var X=xW(G,Oa(Oa({},v),{},{realScaleType:Q}));a==="xAxis"?(A=w==="top"&&!S||w==="bottom"&&S,O=n.left,P=f[b]-A*v.height):a==="yAxis"&&(A=w==="left"&&!S||w==="right"&&S,O=f[b]-A*v.width,P=n.top);var L=Oa(Oa(Oa({},v),X),{},{realScaleType:Q,x:O,y:P,scale:G,width:a==="xAxis"?n.width:v.width,height:a==="yAxis"?n.height:v.height});return L.bandSize=Gd(L,X),!v.hide&&a==="xAxis"?f[b]+=(A?-1:1)*L.height:v.hide||(f[b]+=(A?-1:1)*L.width),Oa(Oa({},p),{},m0({},m,L))},{})},kO=function(t,r){var n=t.x,a=t.y,o=r.x,i=r.y;return{x:Math.min(n,o),y:Math.min(a,i),width:Math.abs(o-n),height:Math.abs(i-a)}},WK=function(t){var r=t.x1,n=t.y1,a=t.x2,o=t.y2;return kO({x:r,y:n},{x:a,y:o})},SO=function(){function e(t){FK(this,e),this.scale=t}return zK(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,o=n.position;if(r!==void 0){if(o)switch(o){case"start":return this.scale(r);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(r)+s}default:return this.scale(r)}if(a){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],o=n[n.length-1];return a<=o?r>=a&&r<=o:r>=o&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();m0(SO,"EPS",1e-4);var Yv=function(t){var r=Object.keys(t).reduce(function(n,a){return Oa(Oa({},n),{},m0({},a,SO.create(t[a])))},{});return Oa(Oa({},r),{},{apply:function(a){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=o.bandAware,s=o.position;return cK(a,function(l,c){return r[c].apply(l,{bandAware:i,position:s})})},isInRange:function(a){return yO(a,function(o,i){return r[i].isInRange(o)})}})};function GK(e){return(e%180+180)%180}var HK=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=GK(a),i=o*Math.PI/180,s=Math.atan(n/r),l=i>s&&i<Math.PI-s?n/Math.sin(i):r/Math.cos(i);return Math.abs(l)},VK=ci,XK=Eu,KK=t0;function YK(e){return function(t,r,n){var a=Object(t);if(!XK(t)){var o=VK(r);t=KK(t),r=function(s){return o(a[s],s,a)}}var i=e(t,r,n);return i>-1?a[o?t[i]:i]:void 0}}var qK=YK,ZK=hO;function QK(e){var t=ZK(e),r=t%1;return t===t?r?t-r:t:0}var JK=QK,eY=T_,tY=ci,rY=JK,nY=Math.max;function aY(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:rY(r);return a<0&&(a=nY(n+a,0)),eY(e,tY(t),a)}var oY=aY,iY=qK,sY=oY,lY=iY(sY),cY=lY;const uY=Rt(cY);var fY=YE(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),qv=j.createContext(void 0),Zv=j.createContext(void 0),jO=j.createContext(void 0),_O=j.createContext({}),NO=j.createContext(void 0),OO=j.createContext(0),PO=j.createContext(0),$2=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,o=r.offset,i=t.clipPathId,s=t.children,l=t.width,c=t.height,d=fY(o);return I.createElement(qv.Provider,{value:n},I.createElement(Zv.Provider,{value:a},I.createElement(_O.Provider,{value:o},I.createElement(jO.Provider,{value:d},I.createElement(NO.Provider,{value:i},I.createElement(OO.Provider,{value:c},I.createElement(PO.Provider,{value:l},s)))))))},dY=function(){return j.useContext(NO)},MO=function(t){var r=j.useContext(qv);r==null&&Xi();var n=r[t];return n==null&&Xi(),n},hY=function(){var t=j.useContext(qv);return Fo(t)},pY=function(){var t=j.useContext(Zv),r=uY(t,function(n){return yO(n.domain,Number.isFinite)});return r||Fo(t)},AO=function(t){var r=j.useContext(Zv);r==null&&Xi();var n=r[t];return n==null&&Xi(),n},gY=function(){var t=j.useContext(jO);return t},mY=function(){return j.useContext(_O)},Qv=function(){return j.useContext(PO)},Jv=function(){return j.useContext(OO)};function sl(e){"@babel/helpers - typeof";return sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sl(e)}function yY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,EO(n.key),n)}}function xY(e,t,r){return t&&vY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function bY(e,t,r){return t=oh(t),wY(e,CO()?Reflect.construct(t,r||[],oh(e).constructor):t.apply(e,r))}function wY(e,t){if(t&&(sl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kY(e)}function kY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CO=function(){return!!e})()}function oh(e){return oh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},oh(e)}function SY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$m(e,t)}function $m(e,t){return $m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},$m(e,t)}function D2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function R2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D2(Object(r),!0).forEach(function(n){ex(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ex(e,t,r){return t=EO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EO(e){var t=jY(e,"string");return sl(t)=="symbol"?t:t+""}function jY(e,t){if(sl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function _Y(e,t){return MY(e)||PY(e,t)||OY(e,t)||NY()}function NY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OY(e,t){if(e){if(typeof e=="string")return L2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return L2(e,t)}}function L2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function PY(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function MY(e){if(Array.isArray(e))return e}function Dm(){return Dm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dm.apply(this,arguments)}var AY=function(t,r){var n;return I.isValidElement(t)?n=I.cloneElement(t,r):Xe(t)?n=t(r):n=I.createElement("line",Dm({},r,{className:"recharts-reference-line-line"})),n},CY=function(t,r,n,a,o,i,s,l,c){var d=o.x,f=o.y,h=o.width,p=o.height;if(n){var m=c.y,v=t.y.apply(m,{position:i});if(Ya(c,"discard")&&!t.y.isInRange(v))return null;var w=[{x:d+h,y:v},{x:d,y:v}];return l==="left"?w.reverse():w}if(r){var y=c.x,g=t.x.apply(y,{position:i});if(Ya(c,"discard")&&!t.x.isInRange(g))return null;var x=[{x:g,y:f+p},{x:g,y:f}];return s==="top"?x.reverse():x}if(a){var S=c.segment,k=S.map(function(b){return t.apply(b,{position:i})});return Ya(c,"discard")&&tK(k,function(b){return!t.isInRange(b)})?null:k}return null};function EY(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,o=e.yAxisId,i=e.shape,s=e.className,l=e.alwaysShow,c=dY(),d=MO(a),f=AO(o),h=gY();if(!c||!h)return null;yo(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=Yv({x:d.scale,y:f.scale}),m=Lr(t),v=Lr(r),w=n&&n.length===2,y=CY(p,m,v,w,h,e.position,d.orientation,f.orientation,e);if(!y)return null;var g=_Y(y,2),x=g[0],S=x.x,k=x.y,b=g[1],_=b.x,N=b.y,O=Ya(e,"hidden")?"url(#".concat(c,")"):void 0,P=R2(R2({clipPath:O},Ve(e,!0)),{},{x1:S,y1:k,x2:_,y2:N});return I.createElement(bt,{className:st("recharts-reference-line",s)},AY(i,P),Qr.renderCallByParent(e,WK({x1:S,y1:k,x2:_,y2:N})))}var Ho=function(e){function t(){return yY(this,t),bY(this,t,arguments)}return SY(t,e),xY(t,[{key:"render",value:function(){return I.createElement(EY,this.props)}}])}(I.Component);ex(Ho,"displayName","ReferenceLine");ex(Ho,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Rm(){return Rm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rm.apply(this,arguments)}function ll(e){"@babel/helpers - typeof";return ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ll(e)}function I2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function B2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I2(Object(r),!0).forEach(function(n){y0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $Y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$O(n.key),n)}}function DY(e,t,r){return t&&$Y(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function RY(e,t,r){return t=ih(t),LY(e,TO()?Reflect.construct(t,r||[],ih(e).constructor):t.apply(e,r))}function LY(e,t){if(t&&(ll(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IY(e)}function IY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TO=function(){return!!e})()}function ih(e){return ih=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ih(e)}function BY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lm(e,t)}function Lm(e,t){return Lm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Lm(e,t)}function y0(e,t,r){return t=$O(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $O(e){var t=FY(e,"string");return ll(t)=="symbol"?t:t+""}function FY(e,t){if(ll(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ll(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var zY=function(t){var r=t.x,n=t.y,a=t.xAxis,o=t.yAxis,i=Yv({x:a.scale,y:o.scale}),s=i.apply({x:r,y:n},{bandAware:!0});return Ya(t,"discard")&&!i.isInRange(s)?null:s},Iu=function(e){function t(){return TY(this,t),RY(this,t,arguments)}return BY(t,e),DY(t,[{key:"render",value:function(){var n=this.props,a=n.x,o=n.y,i=n.r,s=n.alwaysShow,l=n.clipPathId,c=Lr(a),d=Lr(o);if(yo(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!d)return null;var f=zY(this.props);if(!f)return null;var h=f.x,p=f.y,m=this.props,v=m.shape,w=m.className,y=Ya(this.props,"hidden")?"url(#".concat(l,")"):void 0,g=B2(B2({clipPath:y},Ve(this.props,!0)),{},{cx:h,cy:p});return I.createElement(bt,{className:st("recharts-reference-dot",w)},t.renderDot(v,g),Qr.renderCallByParent(this.props,{x:h-i,y:p-i,width:2*i,height:2*i}))}}])}(I.Component);y0(Iu,"displayName","ReferenceDot");y0(Iu,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});y0(Iu,"renderDot",function(e,t){var r;return I.isValidElement(e)?r=I.cloneElement(e,t):Xe(e)?r=e(t):r=I.createElement(h0,Rm({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function Im(){return Im=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Im.apply(this,arguments)}function cl(e){"@babel/helpers - typeof";return cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cl(e)}function F2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function z2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F2(Object(r),!0).forEach(function(n){v0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,RO(n.key),n)}}function GY(e,t,r){return t&&WY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function HY(e,t,r){return t=sh(t),VY(e,DO()?Reflect.construct(t,r||[],sh(e).constructor):t.apply(e,r))}function VY(e,t){if(t&&(cl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XY(e)}function XY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DO=function(){return!!e})()}function sh(e){return sh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sh(e)}function KY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bm(e,t)}function Bm(e,t){return Bm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Bm(e,t)}function v0(e,t,r){return t=RO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RO(e){var t=YY(e,"string");return cl(t)=="symbol"?t:t+""}function YY(e,t){if(cl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var qY=function(t,r,n,a,o){var i=o.x1,s=o.x2,l=o.y1,c=o.y2,d=o.xAxis,f=o.yAxis;if(!d||!f)return null;var h=Yv({x:d.scale,y:f.scale}),p={x:t?h.x.apply(i,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},m={x:r?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(c,{position:"end"}):h.y.rangeMax};return Ya(o,"discard")&&(!h.isInRange(p)||!h.isInRange(m))?null:kO(p,m)},Bu=function(e){function t(){return UY(this,t),HY(this,t,arguments)}return KY(t,e),GY(t,[{key:"render",value:function(){var n=this.props,a=n.x1,o=n.x2,i=n.y1,s=n.y2,l=n.className,c=n.alwaysShow,d=n.clipPathId;yo(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Lr(a),h=Lr(o),p=Lr(i),m=Lr(s),v=this.props.shape;if(!f&&!h&&!p&&!m&&!v)return null;var w=qY(f,h,p,m,this.props);if(!w&&!v)return null;var y=Ya(this.props,"hidden")?"url(#".concat(d,")"):void 0;return I.createElement(bt,{className:st("recharts-reference-area",l)},t.renderRect(v,z2(z2({clipPath:y},Ve(this.props,!0)),w)),Qr.renderCallByParent(this.props,w))}}])}(I.Component);v0(Bu,"displayName","ReferenceArea");v0(Bu,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});v0(Bu,"renderRect",function(e,t){var r;return I.isValidElement(e)?r=I.cloneElement(e,t):Xe(e)?r=e(t):r=I.createElement(Xv,Im({},t,{className:"recharts-reference-area-rect"})),r});function LO(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function ZY(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return HK(n,r)}function QY(e,t,r){var n=r==="width",a=e.x,o=e.y,i=e.width,s=e.height;return t===1?{start:n?a:o,end:n?a+i:o+s}:{start:n?a+i:o+s,end:n?a:o}}function lh(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var o=r();return e*(t-e*o/2-n)>=0&&e*(t+e*o/2-a)<=0}function JY(e,t){return LO(e,t+1)}function eq(e,t,r,n,a){for(var o=(n||[]).slice(),i=t.start,s=t.end,l=0,c=1,d=i,f=function(){var m=n==null?void 0:n[l];if(m===void 0)return{v:LO(n,c)};var v=l,w,y=function(){return w===void 0&&(w=r(m,v)),w},g=m.coordinate,x=l===0||lh(e,g,y,d,s);x||(l=0,d=i,c+=1),x&&(d=g+e*(y()/2+a),l+=c)},h;c<=o.length;)if(h=f(),h)return h.v;return[]}function ku(e){"@babel/helpers - typeof";return ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ku(e)}function U2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U2(Object(r),!0).forEach(function(n){tq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tq(e,t,r){return t=rq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rq(e){var t=nq(e,"string");return ku(t)=="symbol"?t:t+""}function nq(e,t){if(ku(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ku(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aq(e,t,r,n,a){for(var o=(n||[]).slice(),i=o.length,s=t.start,l=t.end,c=function(h){var p=o[h],m,v=function(){return m===void 0&&(m=r(p,h)),m};if(h===i-1){var w=e*(p.coordinate+e*v()/2-l);o[h]=p=fn(fn({},p),{},{tickCoord:w>0?p.coordinate-w*e:p.coordinate})}else o[h]=p=fn(fn({},p),{},{tickCoord:p.coordinate});var y=lh(e,p.tickCoord,v,s,l);y&&(l=p.tickCoord-e*(v()/2+a),o[h]=fn(fn({},p),{},{isShow:!0}))},d=i-1;d>=0;d--)c(d);return o}function oq(e,t,r,n,a,o){var i=(n||[]).slice(),s=i.length,l=t.start,c=t.end;if(o){var d=n[s-1],f=r(d,s-1),h=e*(d.coordinate+e*f/2-c);i[s-1]=d=fn(fn({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var p=lh(e,d.tickCoord,function(){return f},l,c);p&&(c=d.tickCoord-e*(f/2+a),i[s-1]=fn(fn({},d),{},{isShow:!0}))}for(var m=o?s-1:s,v=function(g){var x=i[g],S,k=function(){return S===void 0&&(S=r(x,g)),S};if(g===0){var b=e*(x.coordinate-e*k()/2-l);i[g]=x=fn(fn({},x),{},{tickCoord:b<0?x.coordinate-b*e:x.coordinate})}else i[g]=x=fn(fn({},x),{},{tickCoord:x.coordinate});var _=lh(e,x.tickCoord,k,l,c);_&&(l=x.tickCoord+e*(k()/2+a),i[g]=fn(fn({},x),{},{isShow:!0}))},w=0;w<m;w++)v(w);return i}function tx(e,t,r){var n=e.tick,a=e.ticks,o=e.viewBox,i=e.minTickGap,s=e.orientation,l=e.interval,c=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(fe(l)||ui.isSsr)return JY(a,typeof l=="number"&&fe(l)?l:0);var h=[],p=s==="top"||s==="bottom"?"width":"height",m=d&&p==="width"?vc(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},v=function(x,S){var k=Xe(c)?c(x.value,S):x.value;return p==="width"?ZY(vc(k,{fontSize:t,letterSpacing:r}),m,f):vc(k,{fontSize:t,letterSpacing:r})[p]},w=a.length>=2?Ca(a[1].coordinate-a[0].coordinate):1,y=QY(o,w,p);return l==="equidistantPreserveStart"?eq(w,y,v,a,i):(l==="preserveStart"||l==="preserveStartEnd"?h=oq(w,y,v,a,i,l==="preserveStartEnd"):h=aq(w,y,v,a,i),h.filter(function(g){return g.isShow}))}var iq=["viewBox"],sq=["viewBox"],lq=["ticks"];function ul(e){"@babel/helpers - typeof";return ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ul(e)}function Ps(){return Ps=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ps.apply(this,arguments)}function W2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W2(Object(r),!0).forEach(function(n){rx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jp(e,t){if(e==null)return{};var r=cq(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function uq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,BO(n.key),n)}}function fq(e,t,r){return t&&G2(e.prototype,t),r&&G2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function dq(e,t,r){return t=ch(t),hq(e,IO()?Reflect.construct(t,r||[],ch(e).constructor):t.apply(e,r))}function hq(e,t){if(t&&(ul(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pq(e)}function pq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IO=function(){return!!e})()}function ch(e){return ch=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ch(e)}function gq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fm(e,t)}function Fm(e,t){return Fm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Fm(e,t)}function rx(e,t,r){return t=BO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BO(e){var t=mq(e,"string");return ul(t)=="symbol"?t:t+""}function mq(e,t){if(ul(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ul(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Dl=function(e){function t(r){var n;return uq(this,t),n=dq(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return gq(t,e),fq(t,[{key:"shouldComponentUpdate",value:function(n,a){var o=n.viewBox,i=jp(n,iq),s=this.props,l=s.viewBox,c=jp(s,sq);return!Rs(o,l)||!Rs(i,c)||!Rs(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,o=a.x,i=a.y,s=a.width,l=a.height,c=a.orientation,d=a.tickSize,f=a.mirror,h=a.tickMargin,p,m,v,w,y,g,x=f?-1:1,S=n.tickSize||d,k=fe(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":p=m=n.coordinate,w=i+ +!f*l,v=w-x*S,g=v-x*h,y=k;break;case"left":v=w=n.coordinate,m=o+ +!f*s,p=m-x*S,y=p-x*h,g=k;break;case"right":v=w=n.coordinate,m=o+ +f*s,p=m+x*S,y=p+x*h,g=k;break;default:p=m=n.coordinate,w=i+ +f*l,v=w+x*S,g=v+x*h,y=k;break}return{line:{x1:p,y1:v,x2:m,y2:w},tick:{x:y,y:g}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,o=n.mirror,i;switch(a){case"left":i=o?"start":"end";break;case"right":i=o?"end":"start";break;default:i="middle";break}return i}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,o=n.mirror,i="end";switch(a){case"left":case"right":i="middle";break;case"top":i=o?"start":"end";break;default:i=o?"end":"start";break}return i}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,o=n.y,i=n.width,s=n.height,l=n.orientation,c=n.mirror,d=n.axisLine,f=Tr(Tr(Tr({},Ve(this.props,!1)),Ve(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);f=Tr(Tr({},f),{},{x1:a,y1:o+h*s,x2:a+i,y2:o+h*s})}else{var p=+(l==="left"&&!c||l==="right"&&c);f=Tr(Tr({},f),{},{x1:a+p*i,y1:o,x2:a+p*i,y2:o+s})}return I.createElement("line",Ps({},f,{className:st("recharts-cartesian-axis-line",ya(d,"className"))}))}},{key:"renderTicks",value:function(n,a,o){var i=this,s=this.props,l=s.tickLine,c=s.stroke,d=s.tick,f=s.tickFormatter,h=s.unit,p=tx(Tr(Tr({},this.props),{},{ticks:n}),a,o),m=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),w=Ve(this.props,!1),y=Ve(d,!1),g=Tr(Tr({},w),{},{fill:"none"},Ve(l,!1)),x=p.map(function(S,k){var b=i.getTickLineCoord(S),_=b.line,N=b.tick,O=Tr(Tr(Tr(Tr({textAnchor:m,verticalAnchor:v},w),{},{stroke:"none",fill:c},y),N),{},{index:k,payload:S,visibleTicksCount:p.length,tickFormatter:f});return I.createElement(bt,Ps({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},Wc(i.props,S,k)),l&&I.createElement("line",Ps({},g,_,{className:st("recharts-cartesian-axis-tick-line",ya(l,"className"))})),d&&t.renderTickItem(d,O,"".concat(Xe(f)?f(S.value,k):S.value).concat(h||"")))});return I.createElement("g",{className:"recharts-cartesian-axis-ticks"},x)}},{key:"render",value:function(){var n=this,a=this.props,o=a.axisLine,i=a.width,s=a.height,l=a.ticksGenerator,c=a.className,d=a.hide;if(d)return null;var f=this.props,h=f.ticks,p=jp(f,lq),m=h;return Xe(l)&&(m=h&&h.length>0?l(this.props):l(p)),i<=0||s<=0||!m||!m.length?null:I.createElement(bt,{className:st("recharts-cartesian-axis",c),ref:function(w){n.layerReference=w}},o&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),Qr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,o){var i,s=st(a.className,"recharts-cartesian-axis-tick-value");return I.isValidElement(n)?i=I.cloneElement(n,Tr(Tr({},a),{},{className:s})):Xe(n)?i=n(Tr(Tr({},a),{},{className:s})):i=I.createElement(Md,Ps({},a,{className:"recharts-cartesian-axis-tick-value"}),o),i}}])}(j.Component);rx(Dl,"displayName","CartesianAxis");rx(Dl,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var yq=["x1","y1","x2","y2","key"],vq=["offset"];function Ki(e){"@babel/helpers - typeof";return Ki=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ki(e)}function H2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H2(Object(r),!0).forEach(function(n){xq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xq(e,t,r){return t=bq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bq(e){var t=wq(e,"string");return Ki(t)=="symbol"?t:t+""}function wq(e,t){if(Ki(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ki(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ci(){return Ci=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ci.apply(this,arguments)}function V2(e,t){if(e==null)return{};var r=kq(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Sq=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,o=t.y,i=t.width,s=t.height,l=t.ry;return I.createElement("rect",{x:a,y:o,ry:l,width:i,height:s,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function FO(e,t){var r;if(I.isValidElement(e))r=I.cloneElement(e,t);else if(Xe(e))r=e(t);else{var n=t.x1,a=t.y1,o=t.x2,i=t.y2,s=t.key,l=V2(t,yq),c=Ve(l,!1);c.offset;var d=V2(c,vq);r=I.createElement("line",Ci({},d,{x1:n,y1:a,x2:o,y2:i,fill:"none",key:s}))}return r}function jq(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,o=e.horizontalPoints;if(!a||!o||!o.length)return null;var i=o.map(function(s,l){var c=hn(hn({},e),{},{x1:t,y1:s,x2:t+r,y2:s,key:"line-".concat(l),index:l});return FO(a,c)});return I.createElement("g",{className:"recharts-cartesian-grid-horizontal"},i)}function _q(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,o=e.verticalPoints;if(!a||!o||!o.length)return null;var i=o.map(function(s,l){var c=hn(hn({},e),{},{x1:s,y1:t,x2:s,y2:t+r,key:"line-".concat(l),index:l});return FO(a,c)});return I.createElement("g",{className:"recharts-cartesian-grid-vertical"},i)}function Nq(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,o=e.width,i=e.height,s=e.horizontalPoints,l=e.horizontal,c=l===void 0?!0:l;if(!c||!t||!t.length)return null;var d=s.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var m=!d[p+1],v=m?a+i-h:d[p+1]-h;if(v<=0)return null;var w=p%t.length;return I.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:v,width:o,stroke:"none",fill:t[w],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return I.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Oq(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,o=e.x,i=e.y,s=e.width,l=e.height,c=e.verticalPoints;if(!r||!n||!n.length)return null;var d=c.map(function(h){return Math.round(h+o-o)}).sort(function(h,p){return h-p});o!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var m=!d[p+1],v=m?o+s-h:d[p+1]-h;if(v<=0)return null;var w=p%n.length;return I.createElement("rect",{key:"react-".concat(p),x:h,y:i,width:v,height:l,stroke:"none",fill:n[w],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return I.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Pq=function(t,r){var n=t.xAxis,a=t.width,o=t.height,i=t.offset;return qN(tx(hn(hn(hn({},Dl.defaultProps),n),{},{ticks:po(n,!0),viewBox:{x:0,y:0,width:a,height:o}})),i.left,i.left+i.width,r)},Mq=function(t,r){var n=t.yAxis,a=t.width,o=t.height,i=t.offset;return qN(tx(hn(hn(hn({},Dl.defaultProps),n),{},{ticks:po(n,!0),viewBox:{x:0,y:0,width:a,height:o}})),i.top,i.top+i.height,r)},hs={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function qa(e){var t,r,n,a,o,i,s=Qv(),l=Jv(),c=mY(),d=hn(hn({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:hs.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:hs.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:hs.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:hs.horizontalFill,vertical:(o=e.vertical)!==null&&o!==void 0?o:hs.vertical,verticalFill:(i=e.verticalFill)!==null&&i!==void 0?i:hs.verticalFill,x:fe(e.x)?e.x:c.left,y:fe(e.y)?e.y:c.top,width:fe(e.width)?e.width:c.width,height:fe(e.height)?e.height:c.height}),f=d.x,h=d.y,p=d.width,m=d.height,v=d.syncWithTicks,w=d.horizontalValues,y=d.verticalValues,g=hY(),x=pY();if(!fe(p)||p<=0||!fe(m)||m<=0||!fe(f)||f!==+f||!fe(h)||h!==+h)return null;var S=d.verticalCoordinatesGenerator||Pq,k=d.horizontalCoordinatesGenerator||Mq,b=d.horizontalPoints,_=d.verticalPoints;if((!b||!b.length)&&Xe(k)){var N=w&&w.length,O=k({yAxis:x?hn(hn({},x),{},{ticks:N?w:x.ticks}):void 0,width:s,height:l,offset:c},N?!0:v);yo(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ki(O),"]")),Array.isArray(O)&&(b=O)}if((!_||!_.length)&&Xe(S)){var P=y&&y.length,A=S({xAxis:g?hn(hn({},g),{},{ticks:P?y:g.ticks}):void 0,width:s,height:l,offset:c},P?!0:v);yo(Array.isArray(A),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ki(A),"]")),Array.isArray(A)&&(_=A)}return I.createElement("g",{className:"recharts-cartesian-grid"},I.createElement(Sq,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),I.createElement(jq,Ci({},d,{offset:c,horizontalPoints:b,xAxis:g,yAxis:x})),I.createElement(_q,Ci({},d,{offset:c,verticalPoints:_,xAxis:g,yAxis:x})),I.createElement(Nq,Ci({},d,{horizontalPoints:b})),I.createElement(Oq,Ci({},d,{verticalPoints:_})))}qa.displayName="CartesianGrid";var Aq=["type","layout","connectNulls","ref"],Cq=["key"];function fl(e){"@babel/helpers - typeof";return fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fl(e)}function X2(e,t){if(e==null)return{};var r=Eq(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Eq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function kc(){return kc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kc.apply(this,arguments)}function K2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K2(Object(r),!0).forEach(function(n){Pa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ps(e){return Rq(e)||Dq(e)||$q(e)||Tq()}function Tq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $q(e,t){if(e){if(typeof e=="string")return zm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zm(e,t)}}function Dq(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Rq(e){if(Array.isArray(e))return zm(e)}function zm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Lq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Y2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,UO(n.key),n)}}function Iq(e,t,r){return t&&Y2(e.prototype,t),r&&Y2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Bq(e,t,r){return t=uh(t),Fq(e,zO()?Reflect.construct(t,r||[],uh(e).constructor):t.apply(e,r))}function Fq(e,t){if(t&&(fl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zq(e)}function zq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zO=function(){return!!e})()}function uh(e){return uh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},uh(e)}function Uq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Um(e,t)}function Um(e,t){return Um=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Um(e,t)}function Pa(e,t,r){return t=UO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UO(e){var t=Wq(e,"string");return fl(t)=="symbol"?t:t+""}function Wq(e,t){if(fl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Or=function(e){function t(){var r;Lq(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=Bq(this,t,[].concat(a)),Pa(r,"state",{isAnimationFinished:!0,totalLength:0}),Pa(r,"generateSimpleStrokeDasharray",function(i,s){return"".concat(s,"px ").concat(i-s,"px")}),Pa(r,"getStrokeDasharray",function(i,s,l){var c=l.reduce(function(y,g){return y+g});if(!c)return r.generateSimpleStrokeDasharray(s,i);for(var d=Math.floor(i/c),f=i%c,h=s-i,p=[],m=0,v=0;m<l.length;v+=l[m],++m)if(v+l[m]>f){p=[].concat(ps(l.slice(0,m)),[f-v]);break}var w=p.length%2===0?[0,h]:[h];return[].concat(ps(t.repeat(l,d)),ps(p),w).map(function(y){return"".concat(y,"px")}).join(", ")}),Pa(r,"id",Ji("recharts-line-")),Pa(r,"pathRef",function(i){r.mainCurve=i}),Pa(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Pa(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return Uq(t,e),Iq(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,i=o.points,s=o.xAxis,l=o.yAxis,c=o.layout,d=o.children,f=zn(d,$l);if(!f)return null;var h=function(v,w){return{x:v.x,y:v.y,value:v.value,errorVal:Ir(v.payload,w)}},p={clipPath:n?"url(#clipPath-".concat(a,")"):null};return I.createElement(bt,p,f.map(function(m){return I.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:i,xAxis:s,yAxis:l,layout:c,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,o){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,c=s.points,d=s.dataKey,f=Ve(this.props,!1),h=Ve(l,!0),p=c.map(function(v,w){var y=Yn(Yn(Yn({key:"dot-".concat(w),r:3},f),h),{},{index:w,cx:v.x,cy:v.y,value:v.value,dataKey:d,payload:v.payload,points:c});return t.renderDotItem(l,y)}),m={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(o,")"):null};return I.createElement(bt,kc({className:"recharts-line-dots",key:"dots"},m),p)}},{key:"renderCurveStatically",value:function(n,a,o,i){var s=this.props,l=s.type,c=s.layout,d=s.connectNulls;s.ref;var f=X2(s,Aq),h=Yn(Yn(Yn({},Ve(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(o,")"):null,points:n},i),{},{type:l,layout:c,connectNulls:d});return I.createElement(Li,kc({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var o=this,i=this.props,s=i.points,l=i.strokeDasharray,c=i.isAnimationActive,d=i.animationBegin,f=i.animationDuration,h=i.animationEasing,p=i.animationId,m=i.animateNewValues,v=i.width,w=i.height,y=this.state,g=y.prevPoints,x=y.totalLength;return I.createElement(Da,{begin:d,duration:f,isActive:c,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var k=S.t;if(g){var b=g.length/s.length,_=s.map(function(C,T){var F=Math.floor(T*b);if(g[F]){var D=g[F],U=kr(D.x,C.x),M=kr(D.y,C.y);return Yn(Yn({},C),{},{x:U(k),y:M(k)})}if(m){var E=kr(v*2,C.x),R=kr(w/2,C.y);return Yn(Yn({},C),{},{x:E(k),y:R(k)})}return Yn(Yn({},C),{},{x:C.x,y:C.y})});return o.renderCurveStatically(_,n,a)}var N=kr(0,x),O=N(k),P;if(l){var A="".concat(l).split(/[,\s]+/gim).map(function(C){return parseFloat(C)});P=o.getStrokeDasharray(O,x,A)}else P=o.generateSimpleStrokeDasharray(x,O);return o.renderCurveStatically(s,n,a,{strokeDasharray:P})})}},{key:"renderCurve",value:function(n,a){var o=this.props,i=o.points,s=o.isAnimationActive,l=this.state,c=l.prevPoints,d=l.totalLength;return s&&i&&i.length&&(!c&&d>0||!Hi(c,i))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(i,n,a)}},{key:"render",value:function(){var n,a=this.props,o=a.hide,i=a.dot,s=a.points,l=a.className,c=a.xAxis,d=a.yAxis,f=a.top,h=a.left,p=a.width,m=a.height,v=a.isAnimationActive,w=a.id;if(o||!s||!s.length)return null;var y=this.state.isAnimationFinished,g=s.length===1,x=st("recharts-line",l),S=c&&c.allowDataOverflow,k=d&&d.allowDataOverflow,b=S||k,_=We(w)?this.id:w,N=(n=Ve(i,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},O=N.r,P=O===void 0?3:O,A=N.strokeWidth,C=A===void 0?2:A,T=Gj(i)?i:{},F=T.clipDot,D=F===void 0?!0:F,U=P*2+C;return I.createElement(bt,{className:x},S||k?I.createElement("defs",null,I.createElement("clipPath",{id:"clipPath-".concat(_)},I.createElement("rect",{x:S?h:h-p/2,y:k?f:f-m/2,width:S?p:p*2,height:k?m:m*2})),!D&&I.createElement("clipPath",{id:"clipPath-dots-".concat(_)},I.createElement("rect",{x:h-U/2,y:f-U/2,width:p+U,height:m+U}))):null,!g&&this.renderCurve(b,_),this.renderErrorBar(b,_),(g||i)&&this.renderDots(b,D,_),(!v||y)&&Ka.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var o=n.length%2!==0?[].concat(ps(n),[0]):n,i=[],s=0;s<a;++s)i=[].concat(ps(i),ps(o));return i}},{key:"renderDotItem",value:function(n,a){var o;if(I.isValidElement(n))o=I.cloneElement(n,a);else if(Xe(n))o=n(a);else{var i=a.key,s=X2(a,Cq),l=st("recharts-line-dot",typeof n!="boolean"?n.className:"");o=I.createElement(h0,kc({key:i},s,{className:l}))}return o}}])}(j.PureComponent);Pa(Or,"displayName","Line");Pa(Or,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!ui.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Pa(Or,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,o=e.yAxisTicks,i=e.dataKey,s=e.bandSize,l=e.displayedData,c=e.offset,d=t.layout,f=l.map(function(h,p){var m=Ir(h,i);return d==="horizontal"?{x:rl({axis:r,ticks:a,bandSize:s,entry:h,index:p}),y:We(m)?null:n.scale(m),value:m,payload:h}:{x:We(m)?null:r.scale(m),y:rl({axis:n,ticks:o,bandSize:s,entry:h,index:p}),value:m,payload:h}});return Yn({points:f,layout:d},c)});var Gq=["layout","type","stroke","connectNulls","isRange","ref"],Hq=["key"],WO;function dl(e){"@babel/helpers - typeof";return dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dl(e)}function GO(e,t){if(e==null)return{};var r=Vq(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Vq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ei(){return Ei=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ei.apply(this,arguments)}function q2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $o(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q2(Object(r),!0).forEach(function(n){Wa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,VO(n.key),n)}}function Kq(e,t,r){return t&&Z2(e.prototype,t),r&&Z2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yq(e,t,r){return t=fh(t),qq(e,HO()?Reflect.construct(t,r||[],fh(e).constructor):t.apply(e,r))}function qq(e,t){if(t&&(dl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zq(e)}function Zq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HO=function(){return!!e})()}function fh(e){return fh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fh(e)}function Qq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wm(e,t)}function Wm(e,t){return Wm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Wm(e,t)}function Wa(e,t,r){return t=VO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VO(e){var t=Jq(e,"string");return dl(t)=="symbol"?t:t+""}function Jq(e,t){if(dl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ga=function(e){function t(){var r;Xq(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=Yq(this,t,[].concat(a)),Wa(r,"state",{isAnimationFinished:!0}),Wa(r,"id",Ji("recharts-area-")),Wa(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Xe(i)&&i()}),Wa(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Xe(i)&&i()}),r}return Qq(t,e),Kq(t,[{key:"renderDots",value:function(n,a,o){var i=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(i&&!s)return null;var l=this.props,c=l.dot,d=l.points,f=l.dataKey,h=Ve(this.props,!1),p=Ve(c,!0),m=d.map(function(w,y){var g=$o($o($o({key:"dot-".concat(y),r:3},h),p),{},{index:y,cx:w.x,cy:w.y,dataKey:f,value:w.value,payload:w.payload,points:d});return t.renderDotItem(c,g)}),v={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(o,")"):null};return I.createElement(bt,Ei({className:"recharts-area-dots"},v),m)}},{key:"renderHorizontalRect",value:function(n){var a=this.props,o=a.baseLine,i=a.points,s=a.strokeWidth,l=i[0].x,c=i[i.length-1].x,d=n*Math.abs(l-c),f=Wo(i.map(function(h){return h.y||0}));return fe(o)&&typeof o=="number"?f=Math.max(o,f):o&&Array.isArray(o)&&o.length&&(f=Math.max(Wo(o.map(function(h){return h.y||0})),f)),fe(f)?I.createElement("rect",{x:l<c?l:l-d,y:0,width:d,height:Math.floor(f+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,o=a.baseLine,i=a.points,s=a.strokeWidth,l=i[0].y,c=i[i.length-1].y,d=n*Math.abs(l-c),f=Wo(i.map(function(h){return h.x||0}));return fe(o)&&typeof o=="number"?f=Math.max(o,f):o&&Array.isArray(o)&&o.length&&(f=Math.max(Wo(o.map(function(h){return h.x||0})),f)),fe(f)?I.createElement("rect",{x:0,y:l<c?l:l-d,width:f+(s?parseInt("".concat(s),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,o,i){var s=this.props,l=s.layout,c=s.type,d=s.stroke,f=s.connectNulls,h=s.isRange;s.ref;var p=GO(s,Gq);return I.createElement(bt,{clipPath:o?"url(#clipPath-".concat(i,")"):null},I.createElement(Li,Ei({},Ve(p,!0),{points:n,connectNulls:f,type:c,baseLine:a,layout:l,stroke:"none",className:"recharts-area-area"})),d!=="none"&&I.createElement(Li,Ei({},Ve(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:f,fill:"none",points:n})),d!=="none"&&h&&I.createElement(Li,Ei({},Ve(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:f,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(n,a){var o=this,i=this.props,s=i.points,l=i.baseLine,c=i.isAnimationActive,d=i.animationBegin,f=i.animationDuration,h=i.animationEasing,p=i.animationId,m=this.state,v=m.prevPoints,w=m.prevBaseLine;return I.createElement(Da,{begin:d,duration:f,isActive:c,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var g=y.t;if(v){var x=v.length/s.length,S=s.map(function(N,O){var P=Math.floor(O*x);if(v[P]){var A=v[P],C=kr(A.x,N.x),T=kr(A.y,N.y);return $o($o({},N),{},{x:C(g),y:T(g)})}return N}),k;if(fe(l)&&typeof l=="number"){var b=kr(w,l);k=b(g)}else if(We(l)||Ol(l)){var _=kr(w,0);k=_(g)}else k=l.map(function(N,O){var P=Math.floor(O*x);if(w[P]){var A=w[P],C=kr(A.x,N.x),T=kr(A.y,N.y);return $o($o({},N),{},{x:C(g),y:T(g)})}return N});return o.renderAreaStatically(S,k,n,a)}return I.createElement(bt,null,I.createElement("defs",null,I.createElement("clipPath",{id:"animationClipPath-".concat(a)},o.renderClipRect(g))),I.createElement(bt,{clipPath:"url(#animationClipPath-".concat(a,")")},o.renderAreaStatically(s,l,n,a)))})}},{key:"renderArea",value:function(n,a){var o=this.props,i=o.points,s=o.baseLine,l=o.isAnimationActive,c=this.state,d=c.prevPoints,f=c.prevBaseLine,h=c.totalLength;return l&&i&&i.length&&(!d&&h>0||!Hi(d,i)||!Hi(f,s))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(i,s,n,a)}},{key:"render",value:function(){var n,a=this.props,o=a.hide,i=a.dot,s=a.points,l=a.className,c=a.top,d=a.left,f=a.xAxis,h=a.yAxis,p=a.width,m=a.height,v=a.isAnimationActive,w=a.id;if(o||!s||!s.length)return null;var y=this.state.isAnimationFinished,g=s.length===1,x=st("recharts-area",l),S=f&&f.allowDataOverflow,k=h&&h.allowDataOverflow,b=S||k,_=We(w)?this.id:w,N=(n=Ve(i,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},O=N.r,P=O===void 0?3:O,A=N.strokeWidth,C=A===void 0?2:A,T=Gj(i)?i:{},F=T.clipDot,D=F===void 0?!0:F,U=P*2+C;return I.createElement(bt,{className:x},S||k?I.createElement("defs",null,I.createElement("clipPath",{id:"clipPath-".concat(_)},I.createElement("rect",{x:S?d:d-p/2,y:k?c:c-m/2,width:S?p:p*2,height:k?m:m*2})),!D&&I.createElement("clipPath",{id:"clipPath-dots-".concat(_)},I.createElement("rect",{x:d-U/2,y:c-U/2,width:p+U,height:m+U}))):null,g?null:this.renderArea(b,_),(i||g)&&this.renderDots(b,D,_),(!v||y)&&Ka.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(j.PureComponent);WO=ga;Wa(ga,"displayName","Area");Wa(ga,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!ui.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Wa(ga,"getBaseValue",function(e,t,r,n){var a=e.layout,o=e.baseValue,i=t.props.baseValue,s=i??o;if(fe(s)&&typeof s=="number")return s;var l=a==="horizontal"?n:r,c=l.scale.domain();if(l.type==="number"){var d=Math.max(c[0],c[1]),f=Math.min(c[0],c[1]);return s==="dataMin"?f:s==="dataMax"||d<0?d:Math.max(Math.min(c[0],c[1]),0)}return s==="dataMin"?c[0]:s==="dataMax"?c[1]:c[0]});Wa(ga,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,a=e.yAxis,o=e.xAxisTicks,i=e.yAxisTicks,s=e.bandSize,l=e.dataKey,c=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=t.layout,m=c&&c.length,v=WO.getBaseValue(t,r,n,a),w=p==="horizontal",y=!1,g=f.map(function(S,k){var b;m?b=c[d+k]:(b=Ir(S,l),Array.isArray(b)?y=!0:b=[v,b]);var _=b[1]==null||m&&Ir(S,l)==null;return w?{x:rl({axis:n,ticks:o,bandSize:s,entry:S,index:k}),y:_?null:a.scale(b[1]),value:b,payload:S}:{x:_?null:n.scale(b[1]),y:rl({axis:a,ticks:i,bandSize:s,entry:S,index:k}),value:b,payload:S}}),x;return m||y?x=g.map(function(S){var k=Array.isArray(S.value)?S.value[0]:null;return w?{x:S.x,y:k!=null&&S.y!=null?a.scale(k):null}:{x:k!=null?n.scale(k):null,y:S.y}}):x=w?a.scale(v):n.scale(v),$o({points:g,baseLine:x,layout:p,isRange:y},h)});Wa(ga,"renderDotItem",function(e,t){var r;if(I.isValidElement(e))r=I.cloneElement(e,t);else if(Xe(e))r=e(t);else{var n=st("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,o=GO(t,Hq);r=I.createElement(h0,Ei({},o,{key:a,className:n}))}return r});function hl(e){"@babel/helpers - typeof";return hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hl(e)}function eZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tZ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,YO(n.key),n)}}function rZ(e,t,r){return t&&tZ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function nZ(e,t,r){return t=dh(t),aZ(e,XO()?Reflect.construct(t,r||[],dh(e).constructor):t.apply(e,r))}function aZ(e,t){if(t&&(hl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oZ(e)}function oZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XO=function(){return!!e})()}function dh(e){return dh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dh(e)}function iZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gm(e,t)}function Gm(e,t){return Gm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Gm(e,t)}function KO(e,t,r){return t=YO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YO(e){var t=sZ(e,"string");return hl(t)=="symbol"?t:t+""}function sZ(e,t){if(hl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var x0=function(e){function t(){return eZ(this,t),nZ(this,t,arguments)}return iZ(t,e),rZ(t,[{key:"render",value:function(){return null}}])}(j.Component);KO(x0,"displayName","ZAxis");KO(x0,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var lZ=["option","isActive"];function Sc(){return Sc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sc.apply(this,arguments)}function cZ(e,t){if(e==null)return{};var r=uZ(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function uZ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function fZ(e){var t=e.option,r=e.isActive,n=cZ(e,lZ);return typeof t=="string"?j.createElement(Am,Sc({option:j.createElement(e0,Sc({type:t},n)),isActive:r,shapeType:"symbols"},n)):j.createElement(Am,Sc({option:t,isActive:r,shapeType:"symbols"},n))}function pl(e){"@babel/helpers - typeof";return pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pl(e)}function jc(){return jc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jc.apply(this,arguments)}function Q2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ua(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q2(Object(r),!0).forEach(function(n){Vo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ZO(n.key),n)}}function hZ(e,t,r){return t&&J2(e.prototype,t),r&&J2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function pZ(e,t,r){return t=hh(t),gZ(e,qO()?Reflect.construct(t,r||[],hh(e).constructor):t.apply(e,r))}function gZ(e,t){if(t&&(pl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mZ(e)}function mZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qO=function(){return!!e})()}function hh(e){return hh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hh(e)}function yZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hm(e,t)}function Hm(e,t){return Hm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Hm(e,t)}function Vo(e,t,r){return t=ZO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZO(e){var t=vZ(e,"string");return pl(t)=="symbol"?t:t+""}function vZ(e,t){if(pl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Sn=function(e){function t(){var r;dZ(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=pZ(this,t,[].concat(a)),Vo(r,"state",{isAnimationFinished:!1}),Vo(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0})}),Vo(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1})}),Vo(r,"id",Ji("recharts-scatter-")),r}return yZ(t,e),hZ(t,[{key:"renderSymbolsStatically",value:function(n){var a=this,o=this.props,i=o.shape,s=o.activeShape,l=o.activeIndex,c=Ve(this.props,!1);return n.map(function(d,f){var h=l===f,p=h?s:i,m=ua(ua({},c),d);return I.createElement(bt,jc({className:"recharts-scatter-symbol",key:"symbol-".concat(d==null?void 0:d.cx,"-").concat(d==null?void 0:d.cy,"-").concat(d==null?void 0:d.size,"-").concat(f)},Wc(a.props,d,f),{role:"img"}),I.createElement(fZ,jc({option:p,isActive:h,key:"symbol-".concat(f)},m)))})}},{key:"renderSymbolsWithAnimation",value:function(){var n=this,a=this.props,o=a.points,i=a.isAnimationActive,s=a.animationBegin,l=a.animationDuration,c=a.animationEasing,d=a.animationId,f=this.state.prevPoints;return I.createElement(Da,{begin:s,duration:l,isActive:i,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var p=h.t,m=o.map(function(v,w){var y=f&&f[w];if(y){var g=kr(y.cx,v.cx),x=kr(y.cy,v.cy),S=kr(y.size,v.size);return ua(ua({},v),{},{cx:g(p),cy:x(p),size:S(p)})}var k=kr(0,v.size);return ua(ua({},v),{},{size:k(p)})});return I.createElement(bt,null,n.renderSymbolsStatically(m))})}},{key:"renderSymbols",value:function(){var n=this.props,a=n.points,o=n.isAnimationActive,i=this.state.prevPoints;return o&&a&&a.length&&(!i||!Hi(i,a))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(a)}},{key:"renderErrorBar",value:function(){var n=this.props.isAnimationActive;if(n&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,i=a.xAxis,s=a.yAxis,l=a.children,c=zn(l,$l);return c?c.map(function(d,f){var h=d.props,p=h.direction,m=h.dataKey;return I.cloneElement(d,{key:"".concat(p,"-").concat(m,"-").concat(o[f]),data:o,xAxis:i,yAxis:s,layout:p==="x"?"vertical":"horizontal",dataPointFormatter:function(w,y){return{x:w.cx,y:w.cy,value:p==="x"?+w.node.x:+w.node.y,errorVal:Ir(w,y)}}})}):null}},{key:"renderLine",value:function(){var n=this.props,a=n.points,o=n.line,i=n.lineType,s=n.lineJointType,l=Ve(this.props,!1),c=Ve(o,!1),d,f;if(i==="joint")d=a.map(function(x){return{x:x.cx,y:x.cy}});else if(i==="fitting"){var h=VT(a),p=h.xmin,m=h.xmax,v=h.a,w=h.b,y=function(S){return v*S+w};d=[{x:p,y:y(p)},{x:m,y:y(m)}]}var g=ua(ua(ua({},l),{},{fill:"none",stroke:l&&l.fill},c),{},{points:d});return I.isValidElement(o)?f=I.cloneElement(o,g):Xe(o)?f=o(g):f=I.createElement(Li,jc({},g,{type:s})),I.createElement(bt,{className:"recharts-scatter-line",key:"recharts-scatter-line"},f)}},{key:"render",value:function(){var n=this.props,a=n.hide,o=n.points,i=n.line,s=n.className,l=n.xAxis,c=n.yAxis,d=n.left,f=n.top,h=n.width,p=n.height,m=n.id,v=n.isAnimationActive;if(a||!o||!o.length)return null;var w=this.state.isAnimationFinished,y=st("recharts-scatter",s),g=l&&l.allowDataOverflow,x=c&&c.allowDataOverflow,S=g||x,k=We(m)?this.id:m;return I.createElement(bt,{className:y,clipPath:S?"url(#clipPath-".concat(k,")"):null},g||x?I.createElement("defs",null,I.createElement("clipPath",{id:"clipPath-".concat(k)},I.createElement("rect",{x:g?d:d-h/2,y:x?f:f-p/2,width:g?h:h*2,height:x?p:p*2}))):null,i&&this.renderLine(),this.renderErrorBar(),I.createElement(bt,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!v||w)&&Ka.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}}])}(j.PureComponent);Vo(Sn,"displayName","Scatter");Vo(Sn,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!ui.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});Vo(Sn,"getComposedData",function(e){var t=e.xAxis,r=e.yAxis,n=e.zAxis,a=e.item,o=e.displayedData,i=e.xAxisTicks,s=e.yAxisTicks,l=e.offset,c=a.props.tooltipType,d=zn(a.props.children,wv),f=We(t.dataKey)?a.props.dataKey:t.dataKey,h=We(r.dataKey)?a.props.dataKey:r.dataKey,p=n&&n.dataKey,m=n?n.range:x0.defaultProps.range,v=m&&m[0],w=t.scale.bandwidth?t.scale.bandwidth():0,y=r.scale.bandwidth?r.scale.bandwidth():0,g=o.map(function(x,S){var k=Ir(x,f),b=Ir(x,h),_=!We(p)&&Ir(x,p)||"-",N=[{name:We(t.dataKey)?a.props.name:t.name||t.dataKey,unit:t.unit||"",value:k,payload:x,dataKey:f,type:c},{name:We(r.dataKey)?a.props.name:r.name||r.dataKey,unit:r.unit||"",value:b,payload:x,dataKey:h,type:c}];_!=="-"&&N.push({name:n.name||n.dataKey,unit:n.unit||"",value:_,payload:x,dataKey:p,type:c});var O=rl({axis:t,ticks:i,bandSize:w,entry:x,index:S,dataKey:f}),P=rl({axis:r,ticks:s,bandSize:y,entry:x,index:S,dataKey:h}),A=_!=="-"?n.scale(_):v,C=Math.sqrt(Math.max(A,0)/Math.PI);return ua(ua({},x),{},{cx:O,cy:P,x:O-C,y:P-C,xAxis:t,yAxis:r,zAxis:n,width:2*C,height:2*C,size:A,node:{x:k,y:b,z:_},tooltipPayload:N,tooltipPosition:{x:O,y:P},payload:x},d&&d[S]&&d[S].props)});return ua({points:g},l)});function gl(e){"@babel/helpers - typeof";return gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gl(e)}function xZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bZ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eP(n.key),n)}}function wZ(e,t,r){return t&&bZ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function kZ(e,t,r){return t=ph(t),SZ(e,QO()?Reflect.construct(t,r||[],ph(e).constructor):t.apply(e,r))}function SZ(e,t){if(t&&(gl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jZ(e)}function jZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QO=function(){return!!e})()}function ph(e){return ph=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ph(e)}function _Z(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vm(e,t)}function Vm(e,t){return Vm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Vm(e,t)}function JO(e,t,r){return t=eP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eP(e){var t=NZ(e,"string");return gl(t)=="symbol"?t:t+""}function NZ(e,t){if(gl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Xm(){return Xm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xm.apply(this,arguments)}function OZ(e){var t=e.xAxisId,r=Qv(),n=Jv(),a=MO(t);return a==null?null:j.createElement(Dl,Xm({},a,{className:st("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(i){return po(i,!0)}}))}var Un=function(e){function t(){return xZ(this,t),kZ(this,t,arguments)}return _Z(t,e),wZ(t,[{key:"render",value:function(){return j.createElement(OZ,this.props)}}])}(j.Component);JO(Un,"displayName","XAxis");JO(Un,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function ml(e){"@babel/helpers - typeof";return ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ml(e)}function PZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MZ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nP(n.key),n)}}function AZ(e,t,r){return t&&MZ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function CZ(e,t,r){return t=gh(t),EZ(e,tP()?Reflect.construct(t,r||[],gh(e).constructor):t.apply(e,r))}function EZ(e,t){if(t&&(ml(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TZ(e)}function TZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tP=function(){return!!e})()}function gh(e){return gh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gh(e)}function $Z(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Km(e,t)}function Km(e,t){return Km=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Km(e,t)}function rP(e,t,r){return t=nP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nP(e){var t=DZ(e,"string");return ml(t)=="symbol"?t:t+""}function DZ(e,t){if(ml(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ml(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Ym(){return Ym=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ym.apply(this,arguments)}var RZ=function(t){var r=t.yAxisId,n=Qv(),a=Jv(),o=AO(r);return o==null?null:j.createElement(Dl,Ym({},o,{className:st("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(s){return po(s,!0)}}))},Wn=function(e){function t(){return PZ(this,t),CZ(this,t,arguments)}return $Z(t,e),AZ(t,[{key:"render",value:function(){return j.createElement(RZ,this.props)}}])}(j.Component);rP(Wn,"displayName","YAxis");rP(Wn,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function ek(e){return FZ(e)||BZ(e)||IZ(e)||LZ()}function LZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IZ(e,t){if(e){if(typeof e=="string")return qm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qm(e,t)}}function BZ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function FZ(e){if(Array.isArray(e))return qm(e)}function qm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Zm=function(t,r,n,a,o){var i=zn(t,Ho),s=zn(t,Iu),l=[].concat(ek(i),ek(s)),c=zn(t,Bu),d="".concat(a,"Id"),f=a[0],h=r;if(l.length&&(h=l.reduce(function(v,w){if(w.props[d]===n&&Ya(w.props,"extendDomain")&&fe(w.props[f])){var y=w.props[f];return[Math.min(v[0],y),Math.max(v[1],y)]}return v},h)),c.length){var p="".concat(f,"1"),m="".concat(f,"2");h=c.reduce(function(v,w){if(w.props[d]===n&&Ya(w.props,"extendDomain")&&fe(w.props[p])&&fe(w.props[m])){var y=w.props[p],g=w.props[m];return[Math.min(v[0],y,g),Math.max(v[1],y,g)]}return v},h)}return o&&o.length&&(h=o.reduce(function(v,w){return fe(w)?[Math.min(v[0],w),Math.max(v[1],w)]:v},h)),h},aP={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function o(l,c,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new a(d,f||l,h),m=r?r+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function i(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],d,f;if(this._eventsCount===0)return c;for(f in d=this._events)t.call(d,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},s.prototype.listeners=function(c){var d=r?r+c:c,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,m=new Array(p);h<p;h++)m[h]=f[h].fn;return m},s.prototype.listenerCount=function(c){var d=r?r+c:c,f=this._events[d];return f?f.fn?1:f.length:0},s.prototype.emit=function(c,d,f,h,p,m){var v=r?r+c:c;if(!this._events[v])return!1;var w=this._events[v],y=arguments.length,g,x;if(w.fn){switch(w.once&&this.removeListener(c,w.fn,void 0,!0),y){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,d),!0;case 3:return w.fn.call(w.context,d,f),!0;case 4:return w.fn.call(w.context,d,f,h),!0;case 5:return w.fn.call(w.context,d,f,h,p),!0;case 6:return w.fn.call(w.context,d,f,h,p,m),!0}for(x=1,g=new Array(y-1);x<y;x++)g[x-1]=arguments[x];w.fn.apply(w.context,g)}else{var S=w.length,k;for(x=0;x<S;x++)switch(w[x].once&&this.removeListener(c,w[x].fn,void 0,!0),y){case 1:w[x].fn.call(w[x].context);break;case 2:w[x].fn.call(w[x].context,d);break;case 3:w[x].fn.call(w[x].context,d,f);break;case 4:w[x].fn.call(w[x].context,d,f,h);break;default:if(!g)for(k=1,g=new Array(y-1);k<y;k++)g[k-1]=arguments[k];w[x].fn.apply(w[x].context,g)}}return!0},s.prototype.on=function(c,d,f){return o(this,c,d,f,!1)},s.prototype.once=function(c,d,f){return o(this,c,d,f,!0)},s.prototype.removeListener=function(c,d,f,h){var p=r?r+c:c;if(!this._events[p])return this;if(!d)return i(this,p),this;var m=this._events[p];if(m.fn)m.fn===d&&(!h||m.once)&&(!f||m.context===f)&&i(this,p);else{for(var v=0,w=[],y=m.length;v<y;v++)(m[v].fn!==d||h&&!m[v].once||f&&m[v].context!==f)&&w.push(m[v]);w.length?this._events[p]=w.length===1?w[0]:w:i(this,p)}return this},s.prototype.removeAllListeners=function(c){var d;return c?(d=r?r+c:c,this._events[d]&&i(this,d)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s})(aP);var zZ=aP.exports;const UZ=Rt(zZ);var _p=new UZ,Np="recharts.syncMouseEvents";function Su(e){"@babel/helpers - typeof";return Su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Su(e)}function WZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GZ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oP(n.key),n)}}function HZ(e,t,r){return t&&GZ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Op(e,t,r){return t=oP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oP(e){var t=VZ(e,"string");return Su(t)=="symbol"?t:t+""}function VZ(e,t){if(Su(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Su(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var XZ=function(){function e(){WZ(this,e),Op(this,"activeIndex",0),Op(this,"coordinateList",[]),Op(this,"layout","horizontal")}return HZ(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,o=a===void 0?null:a,i=r.container,s=i===void 0?null:i,l=r.layout,c=l===void 0?null:l,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=o??this.coordinateList)!==null&&n!==void 0?n:[],this.container=s??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),o=a.x,i=a.y,s=a.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=o+l+c,h=i+this.offset.top+s/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function KZ(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&fe(n)&&fe(a))return!0}return!1}function YZ(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function iP(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,o=e.endAngle,i=Jr(t,r,n,a),s=Jr(t,r,n,o);return{points:[i,s],cx:t,cy:r,radius:n,startAngle:a,endAngle:o}}function qZ(e,t,r){var n,a,o,i;if(e==="horizontal")n=t.x,o=n,a=r.top,i=r.top+r.height;else if(e==="vertical")a=t.y,i=a,n=r.left,o=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var s=t.cx,l=t.cy,c=t.innerRadius,d=t.outerRadius,f=t.angle,h=Jr(s,l,c,f),p=Jr(s,l,d,f);n=h.x,a=h.y,o=p.x,i=p.y}else return iP(t);return[{x:n,y:a},{x:o,y:i}]}function ju(e){"@babel/helpers - typeof";return ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ju(e)}function tk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Of(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tk(Object(r),!0).forEach(function(n){ZZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZZ(e,t,r){return t=QZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QZ(e){var t=JZ(e,"string");return ju(t)=="symbol"?t:t+""}function JZ(e,t){if(ju(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ju(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eQ(e){var t,r,n=e.element,a=e.tooltipEventType,o=e.isActive,i=e.activeCoordinate,s=e.activePayload,l=e.offset,c=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!o||!i||h!=="ScatterChart"&&a!=="axis")return null;var m,v=Li;if(h==="ScatterChart")m=i,v=NV;else if(h==="BarChart")m=YZ(f,i,l,d),v=Xv;else if(f==="radial"){var w=iP(i),y=w.cx,g=w.cy,x=w.radius,S=w.startAngle,k=w.endAngle;m={cx:y,cy:g,startAngle:S,endAngle:k,innerRadius:x,outerRadius:x},v=tO}else m={points:qZ(f,i,l)},v=Li;var b=Of(Of(Of(Of({stroke:"#ccc",pointerEvents:"none"},l),m),Ve(p,!1)),{},{payload:s,payloadIndex:c,className:st("recharts-tooltip-cursor",p.className)});return j.isValidElement(p)?j.cloneElement(p,b):j.createElement(v,b)}var tQ=["item"],rQ=["children","className","width","height","style","compact","title","desc"];function yl(e){"@babel/helpers - typeof";return yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yl(e)}function Ms(){return Ms=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ms.apply(this,arguments)}function rk(e,t){return oQ(e)||aQ(e,t)||lP(e,t)||nQ()}function nQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aQ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function oQ(e){if(Array.isArray(e))return e}function nk(e,t){if(e==null)return{};var r=iQ(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function iQ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function sQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cP(n.key),n)}}function cQ(e,t,r){return t&&lQ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function uQ(e,t,r){return t=mh(t),fQ(e,sP()?Reflect.construct(t,r||[],mh(e).constructor):t.apply(e,r))}function fQ(e,t){if(t&&(yl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dQ(e)}function dQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sP=function(){return!!e})()}function mh(e){return mh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mh(e)}function hQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qm(e,t)}function Qm(e,t){return Qm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Qm(e,t)}function vl(e){return mQ(e)||gQ(e)||lP(e)||pQ()}function pQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lP(e,t){if(e){if(typeof e=="string")return Jm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jm(e,t)}}function gQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function mQ(e){if(Array.isArray(e))return Jm(e)}function Jm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ak(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function te(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ak(Object(r),!0).forEach(function(n){Le(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ak(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Le(e,t,r){return t=cP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cP(e){var t=yQ(e,"string");return yl(t)=="symbol"?t:t+""}function yQ(e,t){if(yl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vQ={xAxis:["bottom","top"],yAxis:["left","right"]},xQ={width:"100%",height:"100%"},uP={x:0,y:0};function Pf(e){return e}var bQ=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},wQ=function(t,r,n,a){var o=r.find(function(d){return d&&d.index===n});if(o){if(t==="horizontal")return{x:o.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:o.coordinate};if(t==="centric"){var i=o.coordinate,s=a.radius;return te(te(te({},a),Jr(a.cx,a.cy,s,i)),{},{angle:i,radius:s})}var l=o.coordinate,c=a.angle;return te(te(te({},a),Jr(a.cx,a.cy,l,c)),{},{angle:c,radius:l})}return uP},b0=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,o=r.dataEndIndex,i=(n??[]).reduce(function(s,l){var c=l.props.data;return c&&c.length?[].concat(vl(s),vl(c)):s},[]);return i.length>0?i:t&&t.length&&fe(a)&&fe(o)?t.slice(a,o+1):[]};function fP(e){return e==="number"?[0,"auto"]:void 0}var ey=function(t,r,n,a){var o=t.graphicalItems,i=t.tooltipAxis,s=b0(r,t);return n<0||!o||!o.length||n>=s.length?null:o.reduce(function(l,c){var d,f=(d=c.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(i.dataKey&&!i.allowDuplicatedCategory){var p=f===void 0?s:f;h=pd(p,i.dataKey,a)}else h=f&&f[n]||s[n];return h?[].concat(vl(l),[QN(c,h)]):l},[])},ok=function(t,r,n,a){var o=a||{x:t.chartX,y:t.chartY},i=bQ(o,n),s=t.orderedTooltipTicks,l=t.tooltipAxis,c=t.tooltipTicks,d=aW(i,s,c,l);if(d>=0&&c){var f=c[d]&&c[d].value,h=ey(t,r,d,f),p=wQ(n,s,d,o);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},kQ=function(t,r){var n=r.axes,a=r.graphicalItems,o=r.axisType,i=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,p=YN(d,o);return n.reduce(function(m,v){var w,y=v.type.defaultProps!==void 0?te(te({},v.type.defaultProps),v.props):v.props,g=y.type,x=y.dataKey,S=y.allowDataOverflow,k=y.allowDuplicatedCategory,b=y.scale,_=y.ticks,N=y.includeHidden,O=y[i];if(m[O])return m;var P=b0(t.data,{graphicalItems:a.filter(function(X){var L,ee=i in X.props?X.props[i]:(L=X.type.defaultProps)===null||L===void 0?void 0:L[i];return ee===O}),dataStartIndex:l,dataEndIndex:c}),A=P.length,C,T,F;KZ(y.domain,S,g)&&(C=pm(y.domain,null,S),p&&(g==="number"||b!=="auto")&&(F=bc(P,x,"category")));var D=fP(g);if(!C||C.length===0){var U,M=(U=y.domain)!==null&&U!==void 0?U:D;if(x){if(C=bc(P,x,g),g==="category"&&p){var E=HT(C);k&&E?(T=C,C=eh(0,A)):k||(C=Rw(M,C,v).reduce(function(X,L){return X.indexOf(L)>=0?X:[].concat(vl(X),[L])},[]))}else if(g==="category")k?C=C.filter(function(X){return X!==""&&!We(X)}):C=Rw(M,C,v).reduce(function(X,L){return X.indexOf(L)>=0||L===""||We(L)?X:[].concat(vl(X),[L])},[]);else if(g==="number"){var R=cW(P,a.filter(function(X){var L,ee,Z=i in X.props?X.props[i]:(L=X.type.defaultProps)===null||L===void 0?void 0:L[i],$="hide"in X.props?X.props.hide:(ee=X.type.defaultProps)===null||ee===void 0?void 0:ee.hide;return Z===O&&(N||!$)}),x,o,d);R&&(C=R)}p&&(g==="number"||b!=="auto")&&(F=bc(P,x,"category"))}else p?C=eh(0,A):s&&s[O]&&s[O].hasStack&&g==="number"?C=h==="expand"?[0,1]:ZN(s[O].stackGroups,l,c):C=KN(P,a.filter(function(X){var L=i in X.props?X.props[i]:X.type.defaultProps[i],ee="hide"in X.props?X.props.hide:X.type.defaultProps.hide;return L===O&&(N||!ee)}),g,d,!0);if(g==="number")C=Zm(f,C,O,o,_),M&&(C=pm(M,C,S));else if(g==="category"&&M){var G=M,Q=C.every(function(X){return G.indexOf(X)>=0});Q&&(C=G)}}return te(te({},m),{},Le({},O,te(te({},y),{},{axisType:o,domain:C,categoricalDomain:F,duplicateDomain:T,originalDomain:(w=y.domain)!==null&&w!==void 0?w:D,isCategorical:p,layout:d})))},{})},SQ=function(t,r){var n=r.graphicalItems,a=r.Axis,o=r.axisType,i=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,d=t.layout,f=t.children,h=b0(t.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),p=h.length,m=YN(d,o),v=-1;return n.reduce(function(w,y){var g=y.type.defaultProps!==void 0?te(te({},y.type.defaultProps),y.props):y.props,x=g[i],S=fP("number");if(!w[x]){v++;var k;return m?k=eh(0,p):s&&s[x]&&s[x].hasStack?(k=ZN(s[x].stackGroups,l,c),k=Zm(f,k,x,o)):(k=pm(S,KN(h,n.filter(function(b){var _,N,O=i in b.props?b.props[i]:(_=b.type.defaultProps)===null||_===void 0?void 0:_[i],P="hide"in b.props?b.props.hide:(N=b.type.defaultProps)===null||N===void 0?void 0:N.hide;return O===x&&!P}),"number",d),a.defaultProps.allowDataOverflow),k=Zm(f,k,x,o)),te(te({},w),{},Le({},x,te(te({axisType:o},a.defaultProps),{},{hide:!0,orientation:ya(vQ,"".concat(o,".").concat(v%2),null),domain:k,originalDomain:S,isCategorical:m,layout:d})))}return w},{})},jQ=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,o=r.AxisComp,i=r.graphicalItems,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),h=zn(d,o),p={};return h&&h.length?p=kQ(t,{axes:h,graphicalItems:i,axisType:a,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:c}):i&&i.length&&(p=SQ(t,{Axis:o,graphicalItems:i,axisType:a,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:c})),p},_Q=function(t){var r=Fo(t),n=po(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:xv(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Gd(r,n)}},ik=function(t){var r=t.children,n=t.defaultShowTooltip,a=Qn(r,ol),o=0,i=0;return t.data&&t.data.length!==0&&(i=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(o=a.props.startIndex),a.props.endIndex>=0&&(i=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:i,activeTooltipIndex:-1,isTooltipActive:!!n}},NQ=function(t){return!t||!t.length?!1:t.some(function(r){var n=mo(r&&r.type);return n&&n.indexOf("Bar")>=0})},sk=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},OQ=function(t,r){var n=t.props,a=t.graphicalItems,o=t.xAxisMap,i=o===void 0?{}:o,s=t.yAxisMap,l=s===void 0?{}:s,c=n.width,d=n.height,f=n.children,h=n.margin||{},p=Qn(f,ol),m=Qn(f,Va),v=Object.keys(l).reduce(function(k,b){var _=l[b],N=_.orientation;return!_.mirror&&!_.hide?te(te({},k),{},Le({},N,k[N]+_.width)):k},{left:h.left||0,right:h.right||0}),w=Object.keys(i).reduce(function(k,b){var _=i[b],N=_.orientation;return!_.mirror&&!_.hide?te(te({},k),{},Le({},N,ya(k,"".concat(N))+_.height)):k},{top:h.top||0,bottom:h.bottom||0}),y=te(te({},w),v),g=y.bottom;p&&(y.bottom+=p.props.height||ol.defaultProps.height),m&&r&&(y=sW(y,a,n,r));var x=c-y.left-y.right,S=d-y.top-y.bottom;return te(te({brushBottom:g},y),{},{width:Math.max(x,0),height:Math.max(S,0)})},PQ=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},nx=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,o=a===void 0?"axis":a,i=t.validateTooltipEventTypes,s=i===void 0?["axis"]:i,l=t.axisComponents,c=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(y,g){var x=g.graphicalItems,S=g.stackGroups,k=g.offset,b=g.updateId,_=g.dataStartIndex,N=g.dataEndIndex,O=y.barSize,P=y.layout,A=y.barGap,C=y.barCategoryGap,T=y.maxBarSize,F=sk(P),D=F.numericAxisName,U=F.cateAxisName,M=NQ(x),E=[];return x.forEach(function(R,G){var Q=b0(y.data,{graphicalItems:[R],dataStartIndex:_,dataEndIndex:N}),X=R.type.defaultProps!==void 0?te(te({},R.type.defaultProps),R.props):R.props,L=X.dataKey,ee=X.maxBarSize,Z=X["".concat(D,"Id")],$=X["".concat(U,"Id")],ae={},ue=l.reduce(function(Be,ut){var vt=g["".concat(ut.axisType,"Map")],mr=X["".concat(ut.axisType,"Id")];vt&&vt[mr]||ut.axisType==="zAxis"||Xi();var Ke=vt[mr];return te(te({},Be),{},Le(Le({},ut.axisType,Ke),"".concat(ut.axisType,"Ticks"),po(Ke)))},ae),Y=ue[U],se=ue["".concat(U,"Ticks")],ge=S&&S[Z]&&S[Z].hasStack&&wW(R,S[Z].stackGroups),K=mo(R.type).indexOf("Bar")>=0,he=Gd(Y,se),pe=[],oe=M&&oW({barSize:O,stackGroups:S,totalSize:PQ(ue,U)});if(K){var _e,be,Ie=We(ee)?T:ee,dt=(_e=(be=Gd(Y,se,!0))!==null&&be!==void 0?be:Ie)!==null&&_e!==void 0?_e:0;pe=iW({barGap:A,barCategoryGap:C,bandSize:dt!==he?dt:he,sizeList:oe[$],maxBarSize:Ie}),dt!==he&&(pe=pe.map(function(Be){return te(te({},Be),{},{position:te(te({},Be.position),{},{offset:Be.position.offset-dt/2})})}))}var Pe=R&&R.type&&R.type.getComposedData;Pe&&E.push({props:te(te({},Pe(te(te({},ue),{},{displayedData:Q,props:y,dataKey:L,item:R,bandSize:he,barPosition:pe,offset:k,stackedData:ge,layout:P,dataStartIndex:_,dataEndIndex:N}))),{},Le(Le(Le({key:R.key||"item-".concat(G)},D,ue[D]),U,ue[U]),"animationId",b)),childIndex:a$(R,y.children),item:R})}),E},p=function(y,g){var x=y.props,S=y.dataStartIndex,k=y.dataEndIndex,b=y.updateId;if(!Ab({props:x}))return null;var _=x.children,N=x.layout,O=x.stackOffset,P=x.data,A=x.reverseStackOrder,C=sk(N),T=C.numericAxisName,F=C.cateAxisName,D=zn(_,n),U=vW(P,D,"".concat(T,"Id"),"".concat(F,"Id"),O,A),M=l.reduce(function(X,L){var ee="".concat(L.axisType,"Map");return te(te({},X),{},Le({},ee,jQ(x,te(te({},L),{},{graphicalItems:D,stackGroups:L.axisType===T&&U,dataStartIndex:S,dataEndIndex:k}))))},{}),E=OQ(te(te({},M),{},{props:x,graphicalItems:D}),g==null?void 0:g.legendBBox);Object.keys(M).forEach(function(X){M[X]=d(x,M[X],E,X.replace("Map",""),r)});var R=M["".concat(F,"Map")],G=_Q(R),Q=h(x,te(te({},M),{},{dataStartIndex:S,dataEndIndex:k,updateId:b,graphicalItems:D,stackGroups:U,offset:E}));return te(te({formattedGraphicalItems:Q,graphicalItems:D,offset:E,stackGroups:U},G),M)},m=function(w){function y(g){var x,S,k;return sQ(this,y),k=uQ(this,y,[g]),Le(k,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Le(k,"accessibilityManager",new XZ),Le(k,"handleLegendBBoxUpdate",function(b){if(b){var _=k.state,N=_.dataStartIndex,O=_.dataEndIndex,P=_.updateId;k.setState(te({legendBBox:b},p({props:k.props,dataStartIndex:N,dataEndIndex:O,updateId:P},te(te({},k.state),{},{legendBBox:b}))))}}),Le(k,"handleReceiveSyncEvent",function(b,_,N){if(k.props.syncId===b){if(N===k.eventEmitterSymbol&&typeof k.props.syncMethod!="function")return;k.applySyncEvent(_)}}),Le(k,"handleBrushChange",function(b){var _=b.startIndex,N=b.endIndex;if(_!==k.state.dataStartIndex||N!==k.state.dataEndIndex){var O=k.state.updateId;k.setState(function(){return te({dataStartIndex:_,dataEndIndex:N},p({props:k.props,dataStartIndex:_,dataEndIndex:N,updateId:O},k.state))}),k.triggerSyncEvent({dataStartIndex:_,dataEndIndex:N})}}),Le(k,"handleMouseEnter",function(b){var _=k.getMouseInfo(b);if(_){var N=te(te({},_),{},{isTooltipActive:!0});k.setState(N),k.triggerSyncEvent(N);var O=k.props.onMouseEnter;Xe(O)&&O(N,b)}}),Le(k,"triggeredAfterMouseMove",function(b){var _=k.getMouseInfo(b),N=_?te(te({},_),{},{isTooltipActive:!0}):{isTooltipActive:!1};k.setState(N),k.triggerSyncEvent(N);var O=k.props.onMouseMove;Xe(O)&&O(N,b)}),Le(k,"handleItemMouseEnter",function(b){k.setState(function(){return{isTooltipActive:!0,activeItem:b,activePayload:b.tooltipPayload,activeCoordinate:b.tooltipPosition||{x:b.cx,y:b.cy}}})}),Le(k,"handleItemMouseLeave",function(){k.setState(function(){return{isTooltipActive:!1}})}),Le(k,"handleMouseMove",function(b){b.persist(),k.throttleTriggeredAfterMouseMove(b)}),Le(k,"handleMouseLeave",function(b){k.throttleTriggeredAfterMouseMove.cancel();var _={isTooltipActive:!1};k.setState(_),k.triggerSyncEvent(_);var N=k.props.onMouseLeave;Xe(N)&&N(_,b)}),Le(k,"handleOuterEvent",function(b){var _=n$(b),N=ya(k.props,"".concat(_));if(_&&Xe(N)){var O,P;/.*touch.*/i.test(_)?P=k.getMouseInfo(b.changedTouches[0]):P=k.getMouseInfo(b),N((O=P)!==null&&O!==void 0?O:{},b)}}),Le(k,"handleClick",function(b){var _=k.getMouseInfo(b);if(_){var N=te(te({},_),{},{isTooltipActive:!0});k.setState(N),k.triggerSyncEvent(N);var O=k.props.onClick;Xe(O)&&O(N,b)}}),Le(k,"handleMouseDown",function(b){var _=k.props.onMouseDown;if(Xe(_)){var N=k.getMouseInfo(b);_(N,b)}}),Le(k,"handleMouseUp",function(b){var _=k.props.onMouseUp;if(Xe(_)){var N=k.getMouseInfo(b);_(N,b)}}),Le(k,"handleTouchMove",function(b){b.changedTouches!=null&&b.changedTouches.length>0&&k.throttleTriggeredAfterMouseMove(b.changedTouches[0])}),Le(k,"handleTouchStart",function(b){b.changedTouches!=null&&b.changedTouches.length>0&&k.handleMouseDown(b.changedTouches[0])}),Le(k,"handleTouchEnd",function(b){b.changedTouches!=null&&b.changedTouches.length>0&&k.handleMouseUp(b.changedTouches[0])}),Le(k,"handleDoubleClick",function(b){var _=k.props.onDoubleClick;if(Xe(_)){var N=k.getMouseInfo(b);_(N,b)}}),Le(k,"handleContextMenu",function(b){var _=k.props.onContextMenu;if(Xe(_)){var N=k.getMouseInfo(b);_(N,b)}}),Le(k,"triggerSyncEvent",function(b){k.props.syncId!==void 0&&_p.emit(Np,k.props.syncId,b,k.eventEmitterSymbol)}),Le(k,"applySyncEvent",function(b){var _=k.props,N=_.layout,O=_.syncMethod,P=k.state.updateId,A=b.dataStartIndex,C=b.dataEndIndex;if(b.dataStartIndex!==void 0||b.dataEndIndex!==void 0)k.setState(te({dataStartIndex:A,dataEndIndex:C},p({props:k.props,dataStartIndex:A,dataEndIndex:C,updateId:P},k.state)));else if(b.activeTooltipIndex!==void 0){var T=b.chartX,F=b.chartY,D=b.activeTooltipIndex,U=k.state,M=U.offset,E=U.tooltipTicks;if(!M)return;if(typeof O=="function")D=O(E,b);else if(O==="value"){D=-1;for(var R=0;R<E.length;R++)if(E[R].value===b.activeLabel){D=R;break}}var G=te(te({},M),{},{x:M.left,y:M.top}),Q=Math.min(T,G.x+G.width),X=Math.min(F,G.y+G.height),L=E[D]&&E[D].value,ee=ey(k.state,k.props.data,D),Z=E[D]?{x:N==="horizontal"?E[D].coordinate:Q,y:N==="horizontal"?X:E[D].coordinate}:uP;k.setState(te(te({},b),{},{activeLabel:L,activeCoordinate:Z,activePayload:ee,activeTooltipIndex:D}))}else k.setState(b)}),Le(k,"renderCursor",function(b){var _,N=k.state,O=N.isTooltipActive,P=N.activeCoordinate,A=N.activePayload,C=N.offset,T=N.activeTooltipIndex,F=N.tooltipAxisBandSize,D=k.getTooltipEventType(),U=(_=b.props.active)!==null&&_!==void 0?_:O,M=k.props.layout,E=b.key||"_recharts-cursor";return I.createElement(eQ,{key:E,activeCoordinate:P,activePayload:A,activeTooltipIndex:T,chartName:r,element:b,isActive:U,layout:M,offset:C,tooltipAxisBandSize:F,tooltipEventType:D})}),Le(k,"renderPolarAxis",function(b,_,N){var O=ya(b,"type.axisType"),P=ya(k.state,"".concat(O,"Map")),A=b.type.defaultProps,C=A!==void 0?te(te({},A),b.props):b.props,T=P&&P[C["".concat(O,"Id")]];return j.cloneElement(b,te(te({},T),{},{className:st(O,T.className),key:b.key||"".concat(_,"-").concat(N),ticks:po(T,!0)}))}),Le(k,"renderPolarGrid",function(b){var _=b.props,N=_.radialLines,O=_.polarAngles,P=_.polarRadius,A=k.state,C=A.radiusAxisMap,T=A.angleAxisMap,F=Fo(C),D=Fo(T),U=D.cx,M=D.cy,E=D.innerRadius,R=D.outerRadius;return j.cloneElement(b,{polarAngles:Array.isArray(O)?O:po(D,!0).map(function(G){return G.coordinate}),polarRadius:Array.isArray(P)?P:po(F,!0).map(function(G){return G.coordinate}),cx:U,cy:M,innerRadius:E,outerRadius:R,key:b.key||"polar-grid",radialLines:N})}),Le(k,"renderLegend",function(){var b=k.state.formattedGraphicalItems,_=k.props,N=_.children,O=_.width,P=_.height,A=k.props.margin||{},C=O-(A.left||0)-(A.right||0),T=VN({children:N,formattedGraphicalItems:b,legendWidth:C,legendContent:c});if(!T)return null;var F=T.item,D=nk(T,tQ);return j.cloneElement(F,te(te({},D),{},{chartWidth:O,chartHeight:P,margin:A,onBBoxUpdate:k.handleLegendBBoxUpdate}))}),Le(k,"renderTooltip",function(){var b,_=k.props,N=_.children,O=_.accessibilityLayer,P=Qn(N,Vr);if(!P)return null;var A=k.state,C=A.isTooltipActive,T=A.activeCoordinate,F=A.activePayload,D=A.activeLabel,U=A.offset,M=(b=P.props.active)!==null&&b!==void 0?b:C;return j.cloneElement(P,{viewBox:te(te({},U),{},{x:U.left,y:U.top}),active:M,label:D,payload:M?F:[],coordinate:T,accessibilityLayer:O})}),Le(k,"renderBrush",function(b){var _=k.props,N=_.margin,O=_.data,P=k.state,A=P.offset,C=P.dataStartIndex,T=P.dataEndIndex,F=P.updateId;return j.cloneElement(b,{key:b.key||"_recharts-brush",onChange:Sf(k.handleBrushChange,b.props.onChange),data:O,x:fe(b.props.x)?b.props.x:A.left,y:fe(b.props.y)?b.props.y:A.top+A.height+A.brushBottom-(N.bottom||0),width:fe(b.props.width)?b.props.width:A.width,startIndex:C,endIndex:T,updateId:"brush-".concat(F)})}),Le(k,"renderReferenceElement",function(b,_,N){if(!b)return null;var O=k,P=O.clipPathId,A=k.state,C=A.xAxisMap,T=A.yAxisMap,F=A.offset,D=b.type.defaultProps||{},U=b.props,M=U.xAxisId,E=M===void 0?D.xAxisId:M,R=U.yAxisId,G=R===void 0?D.yAxisId:R;return j.cloneElement(b,{key:b.key||"".concat(_,"-").concat(N),xAxis:C[E],yAxis:T[G],viewBox:{x:F.left,y:F.top,width:F.width,height:F.height},clipPathId:P})}),Le(k,"renderActivePoints",function(b){var _=b.item,N=b.activePoint,O=b.basePoint,P=b.childIndex,A=b.isRange,C=[],T=_.props.key,F=_.item.type.defaultProps!==void 0?te(te({},_.item.type.defaultProps),_.item.props):_.item.props,D=F.activeDot,U=F.dataKey,M=te(te({index:P,dataKey:U,cx:N.x,cy:N.y,r:4,fill:Vv(_.item),strokeWidth:2,stroke:"#fff",payload:N.payload,value:N.value},Ve(D,!1)),gd(D));return C.push(y.renderActiveDot(D,M,"".concat(T,"-activePoint-").concat(P))),O?C.push(y.renderActiveDot(D,te(te({},M),{},{cx:O.x,cy:O.y}),"".concat(T,"-basePoint-").concat(P))):A&&C.push(null),C}),Le(k,"renderGraphicChild",function(b,_,N){var O=k.filterFormatItem(b,_,N);if(!O)return null;var P=k.getTooltipEventType(),A=k.state,C=A.isTooltipActive,T=A.tooltipAxis,F=A.activeTooltipIndex,D=A.activeLabel,U=k.props.children,M=Qn(U,Vr),E=O.props,R=E.points,G=E.isRange,Q=E.baseLine,X=O.item.type.defaultProps!==void 0?te(te({},O.item.type.defaultProps),O.item.props):O.item.props,L=X.activeDot,ee=X.hide,Z=X.activeBar,$=X.activeShape,ae=!!(!ee&&C&&M&&(L||Z||$)),ue={};P!=="axis"&&M&&M.props.trigger==="click"?ue={onClick:Sf(k.handleItemMouseEnter,b.props.onClick)}:P!=="axis"&&(ue={onMouseLeave:Sf(k.handleItemMouseLeave,b.props.onMouseLeave),onMouseEnter:Sf(k.handleItemMouseEnter,b.props.onMouseEnter)});var Y=j.cloneElement(b,te(te({},O.props),ue));function se(ut){return typeof T.dataKey=="function"?T.dataKey(ut.payload):null}if(ae)if(F>=0){var ge,K;if(T.dataKey&&!T.allowDuplicatedCategory){var he=typeof T.dataKey=="function"?se:"payload.".concat(T.dataKey.toString());ge=pd(R,he,D),K=G&&Q&&pd(Q,he,D)}else ge=R==null?void 0:R[F],K=G&&Q&&Q[F];if($||Z){var pe=b.props.activeIndex!==void 0?b.props.activeIndex:F;return[j.cloneElement(b,te(te(te({},O.props),ue),{},{activeIndex:pe})),null,null]}if(!We(ge))return[Y].concat(vl(k.renderActivePoints({item:O,activePoint:ge,basePoint:K,childIndex:F,isRange:G})))}else{var oe,_e=(oe=k.getItemByXY(k.state.activeCoordinate))!==null&&oe!==void 0?oe:{graphicalItem:Y},be=_e.graphicalItem,Ie=be.item,dt=Ie===void 0?b:Ie,Pe=be.childIndex,Be=te(te(te({},O.props),ue),{},{activeIndex:Pe});return[j.cloneElement(dt,Be),null,null]}return G?[Y,null,null]:[Y,null]}),Le(k,"renderCustomized",function(b,_,N){return j.cloneElement(b,te(te({key:"recharts-customized-".concat(N)},k.props),k.state))}),Le(k,"renderMap",{CartesianGrid:{handler:Pf,once:!0},ReferenceArea:{handler:k.renderReferenceElement},ReferenceLine:{handler:Pf},ReferenceDot:{handler:k.renderReferenceElement},XAxis:{handler:Pf},YAxis:{handler:Pf},Brush:{handler:k.renderBrush,once:!0},Bar:{handler:k.renderGraphicChild},Line:{handler:k.renderGraphicChild},Area:{handler:k.renderGraphicChild},Radar:{handler:k.renderGraphicChild},RadialBar:{handler:k.renderGraphicChild},Scatter:{handler:k.renderGraphicChild},Pie:{handler:k.renderGraphicChild},Funnel:{handler:k.renderGraphicChild},Tooltip:{handler:k.renderCursor,once:!0},PolarGrid:{handler:k.renderPolarGrid,once:!0},PolarAngleAxis:{handler:k.renderPolarAxis},PolarRadiusAxis:{handler:k.renderPolarAxis},Customized:{handler:k.renderCustomized}}),k.clipPathId="".concat((x=g.id)!==null&&x!==void 0?x:Ji("recharts"),"-clip"),k.throttleTriggeredAfterMouseMove=X_(k.triggeredAfterMouseMove,(S=g.throttleDelay)!==null&&S!==void 0?S:1e3/60),k.state={},k}return hQ(y,w),cQ(y,[{key:"componentDidMount",value:function(){var x,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var x=this.props,S=x.children,k=x.data,b=x.height,_=x.layout,N=Qn(S,Vr);if(N){var O=N.props.defaultIndex;if(!(typeof O!="number"||O<0||O>this.state.tooltipTicks.length-1)){var P=this.state.tooltipTicks[O]&&this.state.tooltipTicks[O].value,A=ey(this.state,k,O,P),C=this.state.tooltipTicks[O].coordinate,T=(this.state.offset.top+b)/2,F=_==="horizontal",D=F?{x:C,y:T}:{y:C,x:T},U=this.state.formattedGraphicalItems.find(function(E){var R=E.item;return R.type.name==="Scatter"});U&&(D=te(te({},D),U.props.points[O].tooltipPosition),A=U.props.points[O].tooltipPayload);var M={activeTooltipIndex:O,isTooltipActive:!0,activeLabel:P,activePayload:A,activeCoordinate:D};this.setState(M),this.renderCursor(N),this.accessibilityManager.setIndex(O)}}}},{key:"getSnapshotBeforeUpdate",value:function(x,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==x.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==x.margin){var k,b;this.accessibilityManager.setDetails({offset:{left:(k=this.props.margin.left)!==null&&k!==void 0?k:0,top:(b=this.props.margin.top)!==null&&b!==void 0?b:0}})}return null}},{key:"componentDidUpdate",value:function(x){Mg([Qn(x.children,Vr)],[Qn(this.props.children,Vr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var x=Qn(this.props.children,Vr);if(x&&typeof x.props.shared=="boolean"){var S=x.props.shared?"axis":"item";return s.indexOf(S)>=0?S:o}return o}},{key:"getMouseInfo",value:function(x){if(!this.container)return null;var S=this.container,k=S.getBoundingClientRect(),b=AF(k),_={chartX:Math.round(x.pageX-b.left),chartY:Math.round(x.pageY-b.top)},N=k.width/S.offsetWidth||1,O=this.inRange(_.chartX,_.chartY,N);if(!O)return null;var P=this.state,A=P.xAxisMap,C=P.yAxisMap,T=this.getTooltipEventType(),F=ok(this.state,this.props.data,this.props.layout,O);if(T!=="axis"&&A&&C){var D=Fo(A).scale,U=Fo(C).scale,M=D&&D.invert?D.invert(_.chartX):null,E=U&&U.invert?U.invert(_.chartY):null;return te(te({},_),{},{xValue:M,yValue:E},F)}return F?te(te({},_),F):null}},{key:"inRange",value:function(x,S){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,b=this.props.layout,_=x/k,N=S/k;if(b==="horizontal"||b==="vertical"){var O=this.state.offset,P=_>=O.left&&_<=O.left+O.width&&N>=O.top&&N<=O.top+O.height;return P?{x:_,y:N}:null}var A=this.state,C=A.angleAxisMap,T=A.radiusAxisMap;if(C&&T){var F=Fo(C);return Bw({x:_,y:N},F)}return null}},{key:"parseEventsOfWrapper",value:function(){var x=this.props.children,S=this.getTooltipEventType(),k=Qn(x,Vr),b={};k&&S==="axis"&&(k.props.trigger==="click"?b={onClick:this.handleClick}:b={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var _=gd(this.props,this.handleOuterEvent);return te(te({},_),b)}},{key:"addListener",value:function(){_p.on(Np,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){_p.removeListener(Np,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(x,S,k){for(var b=this.state.formattedGraphicalItems,_=0,N=b.length;_<N;_++){var O=b[_];if(O.item===x||O.props.key===x.key||S===mo(O.item.type)&&k===O.childIndex)return O}return null}},{key:"renderClipPath",value:function(){var x=this.clipPathId,S=this.state.offset,k=S.left,b=S.top,_=S.height,N=S.width;return I.createElement("defs",null,I.createElement("clipPath",{id:x},I.createElement("rect",{x:k,y:b,height:_,width:N})))}},{key:"getXScales",value:function(){var x=this.state.xAxisMap;return x?Object.entries(x).reduce(function(S,k){var b=rk(k,2),_=b[0],N=b[1];return te(te({},S),{},Le({},_,N.scale))},{}):null}},{key:"getYScales",value:function(){var x=this.state.yAxisMap;return x?Object.entries(x).reduce(function(S,k){var b=rk(k,2),_=b[0],N=b[1];return te(te({},S),{},Le({},_,N.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(x){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[x])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(x){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[x])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(x){var S=this.state,k=S.formattedGraphicalItems,b=S.activeItem;if(k&&k.length)for(var _=0,N=k.length;_<N;_++){var O=k[_],P=O.props,A=O.item,C=A.type.defaultProps!==void 0?te(te({},A.type.defaultProps),A.props):A.props,T=mo(A.type);if(T==="Bar"){var F=(P.data||[]).find(function(E){return mV(x,E)});if(F)return{graphicalItem:O,payload:F}}else if(T==="RadialBar"){var D=(P.data||[]).find(function(E){return Bw(x,E)});if(D)return{graphicalItem:O,payload:D}}else if(p0(O,b)||g0(O,b)||vu(O,b)){var U=vX({graphicalItem:O,activeTooltipItem:b,itemData:C.data}),M=C.activeIndex===void 0?U:C.activeIndex;return{graphicalItem:te(te({},O),{},{childIndex:M}),payload:vu(O,b)?C.data[U]:O.props.data[U]}}}return null}},{key:"render",value:function(){var x=this;if(!Ab(this))return null;var S=this.props,k=S.children,b=S.className,_=S.width,N=S.height,O=S.style,P=S.compact,A=S.title,C=S.desc,T=nk(S,rQ),F=Ve(T,!1);if(P)return I.createElement($2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},I.createElement(Cg,Ms({},F,{width:_,height:N,title:A,desc:C}),this.renderClipPath(),Eb(k,this.renderMap)));if(this.props.accessibilityLayer){var D,U;F.tabIndex=(D=this.props.tabIndex)!==null&&D!==void 0?D:0,F.role=(U=this.props.role)!==null&&U!==void 0?U:"application",F.onKeyDown=function(E){x.accessibilityManager.keyboardEvent(E)},F.onFocus=function(){x.accessibilityManager.focus()}}var M=this.parseEventsOfWrapper();return I.createElement($2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},I.createElement("div",Ms({className:st("recharts-wrapper",b),style:te({position:"relative",cursor:"default",width:_,height:N},O)},M,{ref:function(R){x.container=R}}),I.createElement(Cg,Ms({},F,{width:_,height:N,title:A,desc:C,style:xQ}),this.renderClipPath(),Eb(k,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(j.Component);Le(m,"displayName",r),Le(m,"defaultProps",te({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Le(m,"getDerivedStateFromProps",function(w,y){var g=w.dataKey,x=w.data,S=w.children,k=w.width,b=w.height,_=w.layout,N=w.stackOffset,O=w.margin,P=y.dataStartIndex,A=y.dataEndIndex;if(y.updateId===void 0){var C=ik(w);return te(te(te({},C),{},{updateId:0},p(te(te({props:w},C),{},{updateId:0}),y)),{},{prevDataKey:g,prevData:x,prevWidth:k,prevHeight:b,prevLayout:_,prevStackOffset:N,prevMargin:O,prevChildren:S})}if(g!==y.prevDataKey||x!==y.prevData||k!==y.prevWidth||b!==y.prevHeight||_!==y.prevLayout||N!==y.prevStackOffset||!Rs(O,y.prevMargin)){var T=ik(w),F={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},D=te(te({},ok(y,x,_)),{},{updateId:y.updateId+1}),U=te(te(te({},T),F),D);return te(te(te({},U),p(te({props:w},U),y)),{},{prevDataKey:g,prevData:x,prevWidth:k,prevHeight:b,prevLayout:_,prevStackOffset:N,prevMargin:O,prevChildren:S})}if(!Mg(S,y.prevChildren)){var M,E,R,G,Q=Qn(S,ol),X=Q&&(M=(E=Q.props)===null||E===void 0?void 0:E.startIndex)!==null&&M!==void 0?M:P,L=Q&&(R=(G=Q.props)===null||G===void 0?void 0:G.endIndex)!==null&&R!==void 0?R:A,ee=X!==P||L!==A,Z=!We(x),$=Z&&!ee?y.updateId:y.updateId+1;return te(te({updateId:$},p(te(te({props:w},y),{},{updateId:$,dataStartIndex:X,dataEndIndex:L}),y)),{},{prevChildren:S,dataStartIndex:X,dataEndIndex:L})}return null}),Le(m,"renderActiveDot",function(w,y,g){var x;return j.isValidElement(w)?x=j.cloneElement(w,y):Xe(w)?x=w(y):x=I.createElement(h0,y),I.createElement(bt,{className:"recharts-active-dot",key:g},x)});var v=j.forwardRef(function(y,g){return I.createElement(m,Ms({},y,{ref:g}))});return v.displayName=m.displayName,v},Bs=nx({chartName:"LineChart",GraphicalChild:Or,axisComponents:[{axisType:"xAxis",AxisComp:Un},{axisType:"yAxis",AxisComp:Wn}],formatAxisMap:Kv}),MQ=nx({chartName:"ScatterChart",GraphicalChild:Sn,defaultTooltipEventType:"item",validateTooltipEventTypes:["item"],axisComponents:[{axisType:"xAxis",AxisComp:Un},{axisType:"yAxis",AxisComp:Wn},{axisType:"zAxis",AxisComp:x0}],formatAxisMap:Kv}),dP=nx({chartName:"AreaChart",GraphicalChild:ga,axisComponents:[{axisType:"xAxis",AxisComp:Un},{axisType:"yAxis",AxisComp:Wn}],formatAxisMap:Kv});const AQ="modulepreload",CQ=function(e){return"/"+e},lk={},EQ=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),s=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));a=Promise.allSettled(r.map(l=>{if(l=CQ(l),l in lk)return;lk[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":AQ,c||(f.as="script"),f.crossOrigin="",f.href=l,s&&f.setAttribute("nonce",s),document.head.appendChild(f),c)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(i){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=i,window.dispatchEvent(s),!s.defaultPrevented)throw i}return a.then(i=>{for(const s of i||[])s.status==="rejected"&&o(s.reason);return t().catch(o)})};function hP(e){const[[t,r,n],[a,o,i],[s,l,c]]=e,d=t*(o*c-i*l)-r*(a*c-i*s)+n*(a*l-o*s);if(Math.abs(d)<1e-10)return null;const f=1/d;return[[(o*c-i*l)*f,(n*l-r*c)*f,(r*i-n*o)*f],[(i*s-a*c)*f,(t*c-n*s)*f,(n*a-t*i)*f],[(a*l-o*s)*f,(r*s-t*l)*f,(t*o-r*a)*f]]}function ck(e,t){const r=[[0,0,0],[0,0,0],[0,0,0]];for(let n=0;n<3;n++)for(let a=0;a<3;a++)for(let o=0;o<3;o++)r[n][a]+=e[n][o]*t[o][a];return r}class Yi{constructor(t){kn(this,"size");kn(this,"isPowerOfTwo");kn(this,"_real");kn(this,"_imag");kn(this,"_scratch",null);kn(this,"_rev",null);kn(this,"_m",0);kn(this,"_internalFFT",null);kn(this,"_chirpReal",null);kn(this,"_chirpImag",null);kn(this,"_bReal",null);kn(this,"_bImag",null);kn(this,"_hanning",null);kn(this,"_windowSumSq",0);this.size=t,this.isPowerOfTwo=(t&t-1)===0&&t>0,this._real=new Float32Array(t),this._imag=new Float32Array(t),this.isPowerOfTwo?this.initRadix2():this.initBluestein()}initRadix2(){const t=this.size,r=Math.log2(t);this._rev=new Uint32Array(t);for(let n=0;n<t;n++){let a=0,o=n;for(let i=0;i<r;i++)a=a<<1|o&1,o>>>=1;this._rev[n]=a}}initBluestein(){const t=this.size;this._m=Math.pow(2,Math.ceil(Math.log2(2*t-1))),this._internalFFT=new Yi(this._m),this._chirpReal=new Float32Array(t),this._chirpImag=new Float32Array(t);for(let a=0;a<t;a++){const o=-Math.PI*(a*a)/t;this._chirpReal[a]=Math.cos(o),this._chirpImag[a]=Math.sin(o)}const r=new Float32Array(this._m),n=new Float32Array(this._m);for(let a=0;a<t;a++)r[a]=this._chirpReal[a],n[a]=-this._chirpImag[a];for(let a=1;a<t;a++)r[this._m-a]=r[a],n[this._m-a]=n[a];this._internalFFT.transform(r,n),this._bReal=new Float32Array(this._internalFFT._real),this._bImag=new Float32Array(this._internalFFT._imag)}initHanning(){if(this._hanning)return;const t=this.size;this._hanning=new Float32Array(t);let r=0;for(let n=0;n<t;n++){const a=.5*(1-Math.cos(2*Math.PI*n/(t-1)));this._hanning[n]=a,r+=a*a}this._windowSumSq=r}transform(t,r){this.isPowerOfTwo?this.transformRadix2(t,r):this.transformBluestein(t,r)}transformRadix2(t,r){const n=this.size,a=this._rev,o=this._real,i=this._imag;if(t===o)for(let s=0;s<n;s++){const l=a[s];if(s<l){const c=o[s],d=i[s];o[s]=o[l],i[s]=i[l],o[l]=c,i[l]=d}}else for(let s=0;s<n;s++){const l=a[s];o[s]=t[l],i[s]=r?r[l]:0}for(let s=2;s<=n;s*=2){const l=s/2,c=-2*Math.PI/s,d=Math.cos(c),f=Math.sin(c);for(let h=0;h<n;h+=s){let p=1,m=0;for(let v=0;v<l;v++){const w=h+v,y=h+v+l,g=p*o[y]-m*i[y],x=p*i[y]+m*o[y],S=o[w],k=i[w];o[w]=S+g,i[w]=k+x,o[y]=S-g,i[y]=k-x;const b=p*d-m*f,_=p*f+m*d;p=b,m=_}}}}transformBluestein(t,r){const n=this.size,a=this._m,o=this._internalFFT,i=o._real,s=o._imag;i.fill(0),s.fill(0);for(let f=0;f<n;f++){const h=t[f],p=r?r[f]:0,m=this._chirpReal[f],v=this._chirpImag[f];i[f]=h*m-p*v,s[f]=h*v+p*m}o.transformRadix2(i,s);for(let f=0;f<a;f++){const h=o._real[f],p=o._imag[f],m=this._bReal[f],v=this._bImag[f];o._real[f]=h*m-p*v,o._imag[f]=h*v+p*m}const l=o._real,c=o._imag;for(let f=0;f<a;f++)c[f]=-c[f];o.transformRadix2(l,c);const d=1/a;for(let f=0;f<n;f++){const h=o._real[f]*d,p=-o._imag[f]*d,m=this._chirpReal[f],v=this._chirpImag[f];this._real[f]=h*m-p*v,this._imag[f]=h*v+p*m}}calculateSpectrum(t,r,n=!1){const a=this.size;let o=0;for(let d=0;d<a;d++)o+=t[d];const i=o/a;this._scratch||(this._scratch=new Float32Array(a));const s=this._scratch;if(n){this.initHanning();const d=this._hanning;for(let f=0;f<a;f++)s[f]=(t[f]-i)*d[f]}else for(let d=0;d<a;d++)s[d]=t[d]-i;this.transform(s);const l=r.length;let c=1/a;n&&this._windowSumSq>0&&(c=1/this._windowSumSq);for(let d=0;d<l;d++){const f=this._real[d],h=this._imag[d];r[d]+=(f*f+h*h)*c}}}function TQ(e,t,r,n=!1){const a=new Yi(t),o=new Yi(r),i=t*r,s=new Float32Array(i),l=new Float32Array(i);let c=null,d=null;if(n){c=new Float32Array(t);for(let v=0;v<t;v++)c[v]=.5*(1-Math.cos(2*Math.PI*v/(t-1)));d=new Float32Array(r);for(let v=0;v<r;v++)d[v]=.5*(1-Math.cos(2*Math.PI*v/(r-1)))}for(let v=0;v<r;v++){const w=v*t,y=a._real;let g=0;for(let S=0;S<t;S++)g+=e[w+S];const x=g/t;if(c)for(let S=0;S<t;S++)y[S]=(e[w+S]-x)*c[S];else for(let S=0;S<t;S++)y[S]=e[w+S]-x;a.transform(y);for(let S=0;S<t;S++)s[w+S]=a._real[S],l[w+S]=a._imag[S]}for(let v=0;v<t;v++){const w=o._real,y=o._imag;for(let g=0;g<r;g++){const x=g*t+v;let S=s[x],k=l[x];d&&(S*=d[g],k*=d[g]),w[g]=S,y[g]=k}o.transform(w,y);for(let g=0;g<r;g++){const x=g*t+v;s[x]=o._real[g],l[x]=o._imag[g]}}const f=new Float32Array(i);let h=1,p=t,m=r;if(n&&c&&d){p=0;for(let v=0;v<t;v++)p+=c[v]*c[v];m=0;for(let v=0;v<r;v++)m+=d[v]*d[v]}h=1/(p*m);for(let v=0;v<i;v++)f[v]=(s[v]*s[v]+l[v]*l[v])*h;return f}function $Q(e,t,r){const n=new Float32Array(e.length),a=Math.floor(t/2),o=Math.floor(r/2);for(let i=0;i<r;i++)for(let s=0;s<t;s++){const l=(s+a)%t,c=(i+o)%r,d=i*t+s,f=c*t+l;n[f]=e[d]}return n}function Uf(e,t,r){const a=e*t*2,o=8,i=o+a,s="Fake",l="NoiseCam",c="NoiseCam",d=O=>{const P=new Uint8Array(O.length+1);for(let A=0;A<O.length;A++)P[A]=O.charCodeAt(A);return P[O.length]=0,P},f=d(s),h=d(l),p=d(c),m=[{id:254,type:4,count:1,value:0},{id:256,type:4,count:1,value:e},{id:257,type:4,count:1,value:t},{id:258,type:3,count:1,value:16},{id:259,type:3,count:1,value:1},{id:262,type:3,count:1,value:32803},{id:271,type:2,count:f.length,value:f},{id:272,type:2,count:h.length,value:h},{id:273,type:4,count:1,value:o},{id:277,type:3,count:1,value:1},{id:278,type:4,count:1,value:t},{id:279,type:4,count:1,value:a},{id:33421,type:3,count:2,value:[2,2]},{id:33422,type:1,count:4,value:[0,1,1,2]},{id:50706,type:1,count:4,value:[1,4,0,0]},{id:50717,type:2,count:p.length,value:p}],v=2+m.length*12+4;let w=0;const y=m.map(O=>{let P=1;O.type===3&&(P=2),O.type===4&&(P=4);const A=O.count*P,C=A<=4;let T=0;return C||(T=w,w+=A,w%2!==0&&w++),{...O,fits:C,totalBytes:A,extraOffset:T}}),g=i+v,x=g+w,S=new ArrayBuffer(x),k=new DataView(S),b=new Uint8Array(S);k.setUint16(0,18761,!0),k.setUint16(2,42,!0),k.setUint32(4,i,!0);const _=new Uint8Array(r.buffer,r.byteOffset,r.byteLength);b.set(_,o);let N=i;return k.setUint16(N,m.length,!0),N+=2,y.forEach(O=>{if(k.setUint16(N,O.id,!0),k.setUint16(N+2,O.type,!0),k.setUint32(N+4,O.count,!0),O.fits){const P=N+8;Array.isArray(O.value)?O.value.forEach((A,C)=>{O.type===1&&k.setUint8(P+C,A),O.type===3&&k.setUint16(P+C*2,A,!0)}):O.value instanceof Uint8Array||(O.type===3&&k.setUint16(P,O.value,!0),O.type===4&&k.setUint32(P,O.value,!0))}else{const P=g+O.extraOffset;k.setUint32(N+8,P,!0);const A=P;O.value instanceof Uint8Array?b.set(O.value,A):Array.isArray(O.value)&&O.value.forEach((C,T)=>{O.type===1&&k.setUint8(A+T,C),O.type===3&&k.setUint16(A+T*2,C,!0)})}N+=12}),k.setUint32(N,0,!0),S}let Pp=null;async function Fu(){if(!Pp)try{const n=(await EQ(()=>import("./joraw-BCIqDOjc.js"),[])).default;if(typeof n!="function")throw new Error("JoRaw WASM import failed");const a=new URL("/assets/joraw-BUh50ws_.wasm",import.meta.url).href;Pp=n({locateFile:(o,i)=>o.endsWith("joraw.wasm")?a:i+o})}catch(r){throw console.error("Failed to load joraw.js:",r),r}const e=await Pp,t=e.LibRaw||e.JoRaw;if(!t)throw new Error("JoRaw class not found");return t}const DQ=[[3.2404542,-1.5371385,-.4985314],[-.969266,1.8760108,.041556],[.0556434,-.2040259,1.0572252]],_c=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055;async function Mf(e,t=0,r=0){const n=await Fu(),a=new n;try{await a.open(new Uint8Array(e));const o=a.getRawImage(),i=new Uint16Array(o.data),s=o.width,l=o.height,c=Math.floor((s-t)/6)*2,d=Math.floor((l-r)/6)*2;if(c<=0||d<=0)throw new Error("Image too small for X-Trans subsampling with current phase.");const f=new Uint16Array(c*d);for(let p=0;p<d/2;p++){const m=p*6+r;if(m+3>=l)break;const v=m*s,w=(m+3)*s,y=p*2,g=y*c,x=(y+1)*c;for(let S=0;S<c/2;S++){const k=S*6+t;if(k+1>=s)break;const b=S*2;f[g+b]=i[v+k+1],f[g+b+1]=i[v+k+0],f[x+b]=i[w+k+0],f[x+b+1]=i[w+k+1]}}return{dngBuffer:Uf(c,d,f),width:c,height:d}}finally{a.delete?a.delete():a.close()}}async function RQ(e){const t=await createImageBitmap(e),r=t.width,n=t.height,a=document.createElement("canvas");a.width=r,a.height=n;const o=a.getContext("2d");if(!o)throw new Error("Failed to create canvas context");o.drawImage(t,0,0);const s=o.getImageData(0,0,r,n).data,l=r*n,c=new Uint16Array(l);for(let f=0;f<n;f++)for(let h=0;h<r;h++){const p=(f*r+h)*4,m=f*r+h,v=f%2===0,w=h%2===0;let y=0;v&&w?y=s[p]:!v&&!w?y=s[p+2]:y=s[p+1],c[m]=y*64}return{previewBlob:await new Promise(f=>a.toBlob(f,"image/png"))||e,analysisData:{data:c,width:r,height:n,bayerPattern:"RGGB",blackLevels:[0,0,0,0],whiteLevel:16320,metadata:{description:"Standard image (non-RAW)"},isThreePlane:!0}}}const LQ=async e=>{const t=await Fu(),r=new t;try{await r.open(e,{useCameraWb:!0,outputBps:8,noAutoBright:!0,userQual:3,outputColor:1});const n=await r.imageData();return new Promise((a,o)=>{const i=document.createElement("canvas");i.width=n.width,i.height=n.height;const s=i.getContext("2d");if(!s){o(new Error("Could not create canvas context"));return}const l=s.createImageData(n.width,n.height),c=n.data,d=n.width*n.height;for(let f=0;f<d;f++){const h=f*3,p=f*4;l.data[p]=c[h],l.data[p+1]=c[h+1],l.data[p+2]=c[h+2],l.data[p+3]=255}s.putImageData(l,0,0),i.toBlob(f=>{f?a(f):o(new Error("Canvas to Blob failed"))},"image/jpeg",.85)})}finally{r.delete?r.delete():r.close()}},yh=async e=>{var n,a,o,i,s,l,c,d,f;const t=await Fu(),r=new t;try{if(await r.open(e,{}),typeof r.getRawImage!="function")throw new Error("WASM mismatch");const h=r.getRawImage();let p=new Uint16Array(h.data);const m=await r.metadata(!0),v=((n=m.idata)==null?void 0:n.filters)||0,w=((a=m.idata)==null?void 0:a.colors)||0,y=v===0&&w===3,g=v===9;let x=[];if((o=m.color_data)!=null&&o.cblack_rawpy_style)x=m.color_data.cblack_rawpy_style;else if((s=(i=m.color_data)==null?void 0:i.dng_levels)!=null&&s.dng_cblack)x=m.color_data.dng_levels.dng_cblack;else if(((l=m.black_level_per_channel)==null?void 0:l.length)>=4)x=m.black_level_per_channel;else if(((c=m.cblack)==null?void 0:c.length)>=4)x=m.cblack;else if(((f=(d=m.color)==null?void 0:d.cblack)==null?void 0:f.length)>=4)x=m.color.cblack;else{const k=m.black_level||m.color_data&&m.color_data.black||0;x=[k,k,k,k]}const S=[Number(x[0])||0,Number(x[1])||0,Number(x[2])||0,Number(x[3])||0];return{data:p,width:h.width,height:h.height,bayerPattern:m.color_desc||"RGGB",blackLevels:S,whiteLevel:m.white_level||16383,metadata:m,isThreePlane:y,isXTrans:g}}finally{r.delete?r.delete():r.close()}};async function vi(e){const t=new Uint8Array(e.slice(0)),r=new Uint8Array(e.slice(0)),[n,a]=await Promise.all([LQ(t),yh(r)]);return{previewBlob:n,analysisData:a}}async function vh(e){const t=new Uint8Array(e);return yh(t)}const uk=e=>(e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,e++,e);async function Mp(e,t,r,n=!0){const a=await yh(new Uint8Array(e)),o=await yh(new Uint8Array(t));if(a.width!==o.width||a.height!==o.height)throw new Error("Dimension Mismatch");const i=a.width,s=a.height,l=r?uk(i):i,c=r?uk(s):s,d=l*c,f=new Uint16Array(d),h=6e4,p=1.41421356;for(let m=0;m<s;m++){const v=m*i,w=m*l;for(let y=0;y<i;y++){const g=a.data[v+y],x=o.data[v+y];let S=g-x;n&&(S/=p);let k=S+h;k=Math.max(0,Math.min(65535,k)),f[w+y]=Math.round(k)}}return{rawData:f,width:l,height:c,metadata:a.metadata}}function xi(e,t,r,n,a,o,i){const s=Math.max(0,Math.floor(n)),l=Math.max(0,Math.floor(a)),c=Math.min(t,Math.ceil(n+o)),d=Math.min(r,Math.ceil(a+i)),f=[0,0,0,0],h=[0,0,0,0],p=[0,0,0,0];for(let w=l;w<d;w++){const y=w*t,g=w%2;for(let x=s;x<c;x++){const S=x%2,k=e[y+x],b=g*2+S;f[b]+=k,h[b]+=k*k,p[b]++}}const m=[0,0,0,0],v=[0,0,0,0];for(let w=0;w<4;w++)if(p[w]>0){const y=f[w]/p[w];m[w]=y;const x=h[w]/p[w]-y*y;v[w]=Math.sqrt(Math.max(0,x))}return{x:s,y:l,width:c-s,height:d-l,means:m,stdDevs:v,pixelCount:p.reduce((w,y)=>w+y,0)}}function fk(e,t,r,n,a,o,i=0,s=0){const l=Math.max(0,Math.floor(n.x)),c=Math.max(0,Math.floor(n.y)),d=Math.min(t,Math.ceil(n.x+n.w)),f=Math.min(r,Math.ceil(n.y+n.h)),h=a>>1,p=a&1,m=(o>>1)+i,v=(o&1)+s;let w=0,y=0,g=0;for(let N=c;N<f-2;N+=2)for(let O=l;O<d-2;O+=2){const P=(N+h)*t+(O+p),A=(N+m)*t+(O+v);N+m>=r||O+v>=t||(w+=e[P],y+=e[A],g++)}if(g<2)return{sumCov:0,sumVar1:0,sumVar2:0,n:0};const x=w/g,S=y/g;let k=0,b=0,_=0;for(let N=c;N<f-2;N+=2)for(let O=l;O<d-2;O+=2){const P=(N+h)*t+(O+p),A=(N+m)*t+(O+v);if(N+m>=r||O+v>=t)continue;const C=e[P],T=e[A],F=C-x,D=T-S;k+=F*D,b+=F*F,_+=D*D}return{sumCov:k,sumVar1:b,sumVar2:_,n:g}}function IQ(e){if(e.n<2)return 0;const t=Math.sqrt(e.sumVar1*e.sumVar2);return t===0?0:e.sumCov/t}function BQ(e,t,r,n,a,o,i,s,l,c,d){if(c<=l)return[];const f=Math.max(0,Math.floor(n)),h=Math.max(0,Math.floor(a)),p=Math.min(t,Math.ceil(n+o)),m=Math.min(r,Math.ceil(a+i)),v=c-l,w=d?Math.floor(v)+1:s,y=v/w,g=[new Uint32Array(w),new Uint32Array(w),new Uint32Array(w),new Uint32Array(w)];for(let S=h;S<m;S++){const k=S*t,b=S%2;for(let _=f;_<p;_++){const N=_%2,O=e[k+_];if(O<l||O>c)continue;const P=b*2+N;let A;d?A=Math.floor(O-l):A=Math.floor((O-l)/y),A<0&&(A=0),A>=w&&(A=w-1),g[P][A]++}}const x=[];for(let S=0;S<w;S++){const k=l+(d?S:S*y);x.push({binStart:k,c0:g[0][S],c1:g[1][S],c2:g[2][S],c3:g[3][S]})}return x}function FQ(e,t,r,n,a,o=!1,i=!1,s={rows:!1,rowGroup:0,cols:!1,colGroup:0},l=!0,c=1){const d=Math.max(0,Math.floor(n.x)),f=Math.max(0,Math.floor(n.y)),h=Math.min(t,Math.ceil(n.x+n.w)),p=Math.min(r,Math.ceil(n.y+n.h)),m=h-d,v=p-f;if(m<=1||v<=1)return null;let w=0;for(let A=d;A<h;A++)A%2===(a&1)&&w++;let y=0;for(let A=f;A<p;A++)A%2===a>>1&&y++;if(w<4||y<4)return null;const g=Math.max(1,c),x=Math.floor(2*w/(g+1)),S=Math.floor(2*y/(g+1));if(x<4||S<4)return null;const k=new Yi(x),b=new Yi(S),_=new Float32Array(Math.floor(x/2)+1),N=new Float32Array(Math.floor(S/2)+1);let O=0,P=0;for(let A=f;A<p;A++){const C=A%2;if(a>>1!==C||s.rows&&(A>>1&1)!==s.rowGroup)continue;const T=A*t,F=new Float32Array(w);let D=0;for(let U=d;U<h;U++)U%2===(a&1)&&D<w&&(F[D++]=e[T+U]);for(let U=0;U<g;U++){const M=Math.floor(U*x/2);if(M+x>w)break;const E=F.slice(M,M+x);k.calculateSpectrum(E,_,i),O++}if(!l)break}for(let A=d;A<h;A++){const C=A%2;if((a&1)!==C||s.cols&&(A>>1&1)!==s.rowGroup)continue;const T=new Float32Array(y);let F=0;for(let D=f;D<p;D++)D%2===a>>1&&F<y&&(T[F++]=e[D*t+A]);for(let D=0;D<g;D++){const U=Math.floor(D*S/2);if(U+S>y)break;const M=T.slice(U,U+S);b.calculateSpectrum(M,N,i),P++}if(!l)break}if(O>0)for(let A=0;A<_.length;A++)_[A]/=O;if(P>0)for(let A=0;A<N.length;A++)N[A]/=P;return{avgHoriz:Array.from(_),avgVert:Array.from(N),sampleCount:{h:O,v:P}}}function zQ(e,t,r,n,a,o=!1){const i=Math.max(0,Math.floor(n.x)),s=Math.max(0,Math.floor(n.y)),l=Math.min(t,Math.ceil(n.x+n.w)),c=Math.min(r,Math.ceil(n.y+n.h));let d=-1;for(let g=s;g<c;g++)if(g%2===a>>1){d=g;break}if(d===-1)return null;let f=-1;for(let g=i;g<l;g++)if(g%2===(a&1)){f=g;break}if(f===-1)return null;const h=[];for(let g=d;g<c;g+=2){const x=g*t,S=[];for(let k=f;k<l;k+=2)S.push(e[x+k]);h.push(S)}const p=h.length;if(p===0)return null;const m=h[0].length;if(m===0)return null;const v=new Float32Array(m*p);for(let g=0;g<p;g++){const x=h[g];for(let S=0;S<m;S++)v[g*m+S]=x[S]}const w=TQ(v,m,p,o),y=$Q(w,m,p);return{width:m,height:p,data:y}}function UQ(e,t,r,n,a,o,i){const{x:s,y:l,w:c,h:d}=n,f=[],h=Math.max(0,Math.floor(s)),p=Math.max(0,Math.floor(l)),m=Math.min(t,Math.ceil(s+c)),v=Math.min(r,Math.ceil(l+d)),w=a>>1,y=a&1;for(let b=p;b<v;b++){if(b%2!==w)continue;const _=b*t;for(let N=h;N<m;N++){if(N%2!==y)continue;const O=e[_+N];O>=o&&O<=i&&f.push(O-o)}}if(f.length===0)return null;f.sort((b,_)=>b-_);const g=[f[0]];for(let b=1;b<f.length;b++)f[b]!==f[b-1]&&g.push(f[b]);const x=[],S=[],k={};for(let b=0;b<g.length-1;b++){const _=g[b],O=g[b+1]-_;x.push(O),S.push({x:_,y:O}),k[O]=(k[O]||0)+1}return{uniqueCount:g.length,diffCount:x.length,stepCounts:k,plotData:S}}function pP(e,t,r){if(!r.advancedZeroDep)throw new Error("Unmixing settings not found in DisplaySettings.");const{bl:n,bg:a,fg:o}=r.advancedZeroDep,{data:i,width:s,whiteLevel:l}=e,c=a.map((x,S)=>Math.max(0,x-n[S])),d=o.map((x,S)=>Math.max(0,x-n[S])),f=(c[1]+c[3])/2,h=(d[1]+d[3])/2,p=Math.floor(t.x),m=Math.floor(t.y),v=Math.floor(t.w),w=Math.floor(t.h),y=Math.pow(2,r.exposure),g=new Uint16Array(v*w);for(let x=0;x<w;x++){const S=m+x;if(S<0||S>=e.height)continue;const k=S%2,b=S*s,_=x*v;for(let N=0;N<v;N++){const O=p+N;if(O<0||O>=s)continue;const P=O%2;let A=0;!k&&!P?A=0:!k&&P?A=1:k&&!P?A=3:A=2;const C=i[b+O],T=n[A],F=c[A],D=d[A],U=Math.max(C-T,0),M=D-F||1e-9,E=(U-F)/M;let R;E<0?R=U*(f/Math.max(F,1e-9)):E>1?R=U*(h/Math.max(D,1e-9)):R=(1-E)*f+E*h,R*=y,g[_+N]=Math.max(0,Math.min(65535,Math.round(R)))}}return{data:g,width:v,height:w}}async function dk(e,t){const r=await Fu(),n=new r;try{const a=new Uint8Array(e.slice(0));let o=!1,i=[];if(t.customMatrix&&t.customMatrix.length===9){const h=[[t.customMatrix[0],t.customMatrix[1],t.customMatrix[2]],[t.customMatrix[3],t.customMatrix[4],t.customMatrix[5]],[t.customMatrix[6],t.customMatrix[7],t.customMatrix[8]]],p=hP(h);if(p){const m=t.wbGains?t.wbGains[0]:1,v=t.wbGains?t.wbGains[1]:1,y=ck(p,[[m,0,0],[0,1,0],[0,0,v]]),g=ck(DQ,y);i=[g[0][0],g[0][1],g[0][2],g[1][0],g[1][1],g[1][2],g[2][0],g[2][1],g[2][2]],o=!0}else throw new Error("Custom Matrix is not invertible.")}const s={outputBps:16,noAutoBright:!0,bright:o?1:Math.pow(2,t.exposure)};t.blackLevel&&t.blackLevel.length===4&&(s.userBlack=0,s.userCblack=t.blackLevel.map(h=>{const p=Math.round(h);return p===0?1:p})),t.demosaicMethod===-1?s.noInterpolation=!0:s.userQual=t.demosaicMethod,o?(s.outputColor=0,s.gamma=[1,1],s.userMul=[1,1,1,1],s.useCameraWb=!1):(s.outputColor=1,s.useCameraWb=!0),await n.open(a,s);const l=await n.imageData(),c=new ImageData(l.width,l.height),d=c.data,f=new Uint16Array(l.data.buffer,l.data.byteOffset,l.data.byteLength/2);if(o&&i.length===9){const h=i,m=Math.pow(2,t.exposure)*.25;for(let v=0;v<f.length;v+=3){const w=f[v]/65535,y=f[v+1]/65535,g=f[v+2]/65535;let x=h[0]*w+h[1]*y+h[2]*g,S=h[3]*w+h[4]*y+h[5]*g,k=h[6]*w+h[7]*y+h[8]*g;x*=m,S*=m,k*=m,x=Math.max(0,Math.min(1,x)),S=Math.max(0,Math.min(1,S)),k=Math.max(0,Math.min(1,k)),x=_c(x),S=_c(S),k=_c(k);const b=v/3*4;d[b]=Math.round(x*255),d[b+1]=Math.round(S*255),d[b+2]=Math.round(k*255),d[b+3]=255}}else for(let h=0;h<f.length;h+=3){const p=h/3*4;d[p]=f[h]>>8,d[p+1]=f[h+1]>>8,d[p+2]=f[h+2]>>8,d[p+3]=255}return c}finally{n.delete?n.delete():n.close()}}async function WQ(e,t,r=!1,n=!1){const a=await Fu(),o=new a;try{if(t.renderMode==="zero-dependency"||t.renderMode==="advanced-zero-dep"){await o.open(new Uint8Array(e));const i=await o.metadata(!0),s=(i==null?void 0:i.white_level)||16383,l=o.getRawImage(),{width:c,height:d,data:f}=l,h=new Uint16Array(c*d),p=Math.pow(2,t.exposure);if(t.renderMode==="advanced-zero-dep"&&t.advancedZeroDep){const{bl:m,bg:v,fg:w}=t.advancedZeroDep,y=v.map((k,b)=>Math.max(0,k-m[b])),g=w.map((k,b)=>Math.max(0,k-m[b])),x=(y[1]+y[3])/2,S=(g[1]+g[3])/2;for(let k=0;k<d;k++){const b=k%2;for(let _=0;_<c;_++){const N=_%2;let O=0;!b&&!N?O=0:!b&&N?O=1:b&&!N?O=3:O=2;const P=f[k*c+_],A=m[O],C=y[O],T=g[O],F=Math.max(P-A,0),D=T-C||1e-9,U=(F-C)/D;let M;U<0?M=F*(x/Math.max(C,1e-9)):U>1?M=F*(S/Math.max(T,1e-9)):M=(1-U)*x+U*S,M*=p;let E;if(n){const R=Math.max(0,Math.min(1,M/65535));E=_c(R)*65535}else E=M;h[k*c+_]=Math.round(Math.max(0,Math.min(65535,E)))}}}else{const m=t.blackLevel||[0,0,0,0],v=t.wbGains?t.wbGains[0]:1,w=t.wbGains?t.wbGains[1]:1;for(let y=0;y<d;y++){const g=y%2;for(let x=0;x<c;x++){const S=x%2,k=g*2+S,b=f[y*c+x],_=m[k];let N=b-_;k===0?N*=v:k===3&&(N*=w),N*=p;const O=Math.max(0,Math.min(1,N/(r?s-_:s))),P=n?_c(O):O;h[y*c+x]=Math.round(P*65535)}}}return{data:h,width:c,height:d,channels:1}}else{const i=new Uint8Array(e.slice(0)),s={outputBps:16,noAutoBright:!r,bright:1,outputColor:n?1:0,useCameraWb:!0};t.blackLevel&&t.blackLevel.length===4&&(s.userBlack=0,s.userCblack=t.blackLevel.map(f=>Math.max(1,Math.round(f)))),t.demosaicMethod===-1?s.noInterpolation=!0:s.userQual=t.demosaicMethod,await o.open(i,s);const l=await o.imageData(),c=new Uint16Array(l.data.buffer,l.data.byteOffset,l.data.byteLength/2),d=Math.pow(2,t.exposure);if(d!==1)for(let f=0;f<c.length;f++)c[f]=Math.max(0,Math.min(65535,Math.round(c[f]*d)));return{data:c,width:l.width,height:l.height,channels:3}}}finally{o.delete?o.delete():o.close()}}const io=(e,t)=>{const r=localStorage.getItem(e);return r===null?t:typeof t=="boolean"?r==="true":typeof t=="number"?Number(r):r},GQ=({isOpen:e,onClose:t,onMinimize:r,rawImageData:n,roi:a,isBGGR:o,zIndex:i,onFocus:s,initialPosition:l,initialInternalState:c,onUpdateState:d,stackFiles:f})=>{const[h,p]=j.useState(()=>(c==null?void 0:c.channelMode)??io("hist_mode","All")),[m,v]=j.useState(()=>(c==null?void 0:c.minVal)??io("hist_min",0)),[w,y]=j.useState(()=>(c==null?void 0:c.maxVal)??io("hist_max",16383)),[g,x]=j.useState(()=>(c==null?void 0:c.binCount)??io("hist_bins",100)),[S,k]=j.useState(()=>(c==null?void 0:c.pointToPoint)??io("hist_ptp",!1)),[b,_]=j.useState(()=>(c==null?void 0:c.showTheo)??io("hist_show_theo",!1)),[N,O]=j.useState(()=>(c==null?void 0:c.theoMean)??io("hist_theo_mean","512")),[P,A]=j.useState(()=>(c==null?void 0:c.theoSigma)??io("hist_theo_sigma","10")),[C,T]=j.useState(()=>(c==null?void 0:c.theoAmp)??io("hist_theo_amp","1000")),[F,D]=j.useState(!1),[U,M]=j.useState(0),[E,R]=j.useState([]),[G,Q]=j.useState(null),[X,L]=j.useState(l||{x:100,y:100}),[ee,Z]=j.useState(!1),$=j.useRef({x:0,y:0});j.useEffect(()=>{localStorage.setItem("hist_mode",h),localStorage.setItem("hist_min",String(m)),localStorage.setItem("hist_max",String(w)),localStorage.setItem("hist_bins",String(g)),localStorage.setItem("hist_ptp",String(S)),localStorage.setItem("hist_show_theo",String(b)),localStorage.setItem("hist_theo_mean",N),localStorage.setItem("hist_theo_sigma",P),localStorage.setItem("hist_theo_amp",C),d&&d({channelMode:h,minVal:m,maxVal:w,binCount:g,pointToPoint:S,showTheo:b,theoMean:N,theoSigma:P,theoAmp:C})},[h,m,w,g,S,b,N,P,C]),j.useEffect(()=>{if(!e||!a||!n&&(!f||f.length===0))return;if(w<=m){Q("Invalid range: Max must be greater than Min");return}Q(null),D(!0),M(0);const oe=new AbortController,be=setTimeout(async()=>{try{let Ie=[];if(f&&f.length>1){const dt=Math.min(f.length,navigator.hardwareConcurrency||4),Pe=[];for(let Ke=0;Ke<dt;Ke++){const yr=new Worker(new URL("/assets/histogramWorker-By4HuKAV.js",import.meta.url),{type:"module"});Pe.push(yr)}let Be=0,ut=0;const vt=[],mr=async Ke=>{for(;Be<f.length;){if(oe.signal.aborted)return;const yr=Be++,Fe=f[yr];try{const Zt=await Fe.arrayBuffer();await new Promise((Gt,Qt)=>{Ke.onmessage=Ht=>{const{success:ht,hist:$e,error:pt}=Ht.data;ht?(vt.push($e),ut++,M(ut),Gt()):(console.error(`Error processing ${Fe.name}:`,pt),Gt())},Ke.onerror=Ht=>{console.error("Worker Error",Ht),Gt()},Ke.postMessage({buffer:Zt,roi:a,binCount:g,minVal:m,maxVal:w,pointToPoint:S},[Zt])})}catch(Zt){console.error("File Read Error",Zt)}}};if(await Promise.all(Pe.map(Ke=>mr(Ke))),Pe.forEach(Ke=>Ke.terminate()),vt.length>0){Ie=vt[0];for(let Ke=1;Ke<vt.length;Ke++){const yr=vt[Ke];for(let Fe=0;Fe<yr.length;Fe++)Ie[Fe]&&(Ie[Fe].c0+=yr[Fe].c0,Ie[Fe].c1+=yr[Fe].c1,Ie[Fe].c2+=yr[Fe].c2,Ie[Fe].c3+=yr[Fe].c3)}}}else n&&(Ie=BQ(n.data,n.width,n.height,a.x,a.y,a.w,a.h,g,m,w,S));oe.signal.aborted||R(Ie)}catch(Ie){console.error("Histogram calc error:",Ie),Q("Error calculating histogram")}finally{oe.signal.aborted||D(!1)}},50);return()=>{clearTimeout(be),oe.abort()}},[e,n,a==null?void 0:a.x,a==null?void 0:a.y,a==null?void 0:a.w,a==null?void 0:a.h,g,m,w,S,f]);const ae=j.useMemo(()=>{if(!b)return E;const oe=parseFloat(N),_e=parseFloat(P),be=parseFloat(C);return isNaN(oe)||isNaN(_e)||isNaN(be)||_e<=0?E:E.map(Ie=>{const dt=Ie.binStart,Pe=-Math.pow(dt-oe,2)/(2*Math.pow(_e,2)),Be=be*Math.exp(Pe);return{...Ie,theory:Be}})},[E,b,N,P,C]),ue=()=>{if(E.length===0)return;let oe=0,_e=0;if(E.forEach(be=>{const Ie=Math.max(be.c0||0,be.c1||0,be.c2||0,be.c3||0);Ie>oe&&(oe=Ie,_e=be.binStart)}),O(_e.toFixed(2)),T(oe.toString()),parseFloat(P)===0||isNaN(parseFloat(P))){const be=w-m;A((be/20).toFixed(2))}},Y=(oe,_e,be)=>{s&&s(),!(be.closest("button")||be.closest("input")||be.closest("select"))&&(Z(!0),$.current={x:oe-X.x,y:_e-X.y})},se=oe=>{Y(oe.clientX,oe.clientY,oe.target)},ge=oe=>{const _e=oe.touches[0];Y(_e.clientX,_e.clientY,oe.target)};if(j.useEffect(()=>{const oe=be=>{if(ee){const Ie="touches"in be?be.touches[0].clientX:be.clientX,dt="touches"in be?be.touches[0].clientY:be.clientY;L({x:Ie-$.current.x,y:dt-$.current.y})}},_e=()=>Z(!1);return ee&&(window.addEventListener("mousemove",oe),window.addEventListener("mouseup",_e),window.addEventListener("touchmove",oe,{passive:!1}),window.addEventListener("touchend",_e)),()=>{window.removeEventListener("mousemove",oe),window.removeEventListener("mouseup",_e),window.removeEventListener("touchmove",oe),window.removeEventListener("touchend",_e)}},[ee]),!e)return null;const K=o?{c0:"Blue",c1:"Green 1",c2:"Green 2",c3:"Red"}:{c0:"Red",c1:"Green 1",c2:"Green 2",c3:"Blue"},he=o?{c0:"#3b82f6",c1:"#22c55e",c2:"#4ade80",c3:"#ef4444"}:{c0:"#ef4444",c1:"#22c55e",c2:"#4ade80",c3:"#3b82f6"},pe="step";return u.jsxs("div",{className:"fixed flex flex-col bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 shadow-2xl rounded-xl resize-both overflow-hidden min-w-[500px] min-h-[400px] w-[900px] h-[650px]",style:{left:X.x,top:X.y,zIndex:i??100},onMouseDownCapture:s,children:[u.jsxs("div",{className:`flex justify-between items-center p-4 border-b border-gray-200 dark:border-slate-700 flex-shrink-0 bg-white dark:bg-slate-900 select-none touch-none ${ee?"cursor-grabbing":"cursor-grab"}`,onMouseDown:se,onTouchStart:ge,children:[u.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-slate-100 pointer-events-none flex items-center gap-2",children:["ROI Histogram",f&&f.length>1&&u.jsxs("span",{className:"text-[10px] font-normal bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 px-2 py-0.5 rounded border border-purple-200 dark:border-purple-800 shadow-sm",children:["Stack Count: ",f.length]})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[r&&u.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 dark:hover:text-red-400 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),u.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-800/50 flex flex-wrap gap-x-6 gap-y-3 items-center border-b border-gray-200 dark:border-slate-700 text-xs flex-shrink-0 relative z-10",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-gray-500 dark:text-slate-400 font-bold uppercase tracking-tight",children:"Channel:"}),u.jsxs("select",{value:h,onChange:oe=>p(oe.target.value),className:"bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-gray-900 dark:text-slate-100 outline-none focus:ring-1 focus:ring-cyan-500",children:[u.jsx("option",{value:"All",children:"All Colors"}),u.jsx("option",{value:"0",children:K.c0}),u.jsx("option",{value:"1",children:K.c1}),u.jsx("option",{value:"2",children:K.c2}),u.jsx("option",{value:"3",children:K.c3})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-gray-500 dark:text-slate-400 font-bold uppercase tracking-tight",children:"Range:"}),u.jsx("input",{type:"number",value:m,onChange:oe=>v(Number(oe.target.value)),className:"w-16 px-1.5 py-1 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-gray-900 dark:text-slate-100 text-right font-mono"}),u.jsx("span",{className:"text-gray-400",children:"-"}),u.jsx("input",{type:"number",value:w,onChange:oe=>y(Number(oe.target.value)),className:"w-16 px-1.5 py-1 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-gray-900 dark:text-slate-100 text-right font-mono"})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:S,onChange:oe=>k(oe.target.checked),className:"w-3.5 h-3.5 text-cyan-600 rounded border-gray-300 focus:ring-cyan-500"}),u.jsx("span",{className:"text-gray-700 dark:text-slate-300 select-none font-semibold",children:"PTP"})]}),!S&&u.jsxs("div",{className:"flex items-center gap-1.5",children:[u.jsx("span",{className:"text-gray-500 dark:text-slate-400 font-bold",children:"Bins:"}),u.jsx("input",{type:"number",value:g,onChange:oe=>x(Math.max(1,Number(oe.target.value))),className:"w-12 px-1.5 py-1 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-gray-900 dark:text-slate-100 text-right font-mono"})]})]}),u.jsx("div",{className:"h-6 w-px bg-gray-200 dark:bg-slate-700"}),u.jsxs("div",{className:`flex items-center gap-3 p-1.5 rounded-lg border transition-all ${b?"bg-amber-50/30 dark:bg-amber-900/10 border-amber-200/50 dark:border-amber-800/50":"bg-transparent border-transparent"}`,children:[u.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer select-none",children:[u.jsx("input",{type:"checkbox",checked:b,onChange:oe=>_(oe.target.checked),className:"w-3.5 h-3.5 text-amber-500 rounded border-gray-300 focus:ring-amber-500 bg-white dark:bg-slate-700"}),u.jsx("span",{className:`font-bold uppercase tracking-tight ${b?"text-amber-600 dark:text-amber-400":"text-gray-400"}`,children:"Theoretical Bell"})]}),b&&u.jsxs("div",{className:"flex items-center gap-2 animate-in fade-in slide-in-from-left-2 duration-200",children:[u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("span",{className:"text-[8px] text-gray-400 uppercase font-bold",children:"Mean()"}),u.jsx("input",{type:"text",value:N,onChange:oe=>O(oe.target.value),className:"w-14 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center text-[10px] py-0.5 outline-none focus:border-amber-500"})]}),u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("span",{className:"text-[8px] text-gray-400 uppercase font-bold",children:"Sigma()"}),u.jsx("input",{type:"text",value:P,onChange:oe=>A(oe.target.value),className:"w-12 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center text-[10px] py-0.5 outline-none focus:border-amber-500"})]}),u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("span",{className:"text-[8px] text-gray-400 uppercase font-bold",children:"Scale(A)"}),u.jsx("input",{type:"text",value:C,onChange:oe=>T(oe.target.value),className:"w-16 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center text-[10px] py-0.5 outline-none focus:border-amber-500"})]}),u.jsx("button",{onClick:ue,className:"mt-3 px-2 py-0.5 bg-amber-600 hover:bg-amber-500 text-white text-[9px] font-bold rounded shadow-sm active:scale-95 transition-all",title:"Set Mean and Amplitude based on current peak",children:"AUTO FIT"})]})]})]}),u.jsxs("div",{className:"flex-1 p-4 relative bg-white dark:bg-slate-900 overflow-hidden min-h-0",children:[u.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-0 pointer-events-none select-none opacity-10 mix-blend-normal dark:mix-blend-plus-lighter",children:u.jsx("svg",{viewBox:"0 0 500 60",className:"w-96 h-auto",children:u.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"36",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})}),F&&u.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center z-20 bg-white/50 dark:bg-slate-900/50 backdrop-blur-[1px]",children:[u.jsx("div",{className:"w-8 h-8 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mb-2"}),u.jsx("span",{className:"text-sm text-cyan-600 dark:text-cyan-400 font-semibold",children:f&&f.length>1?`Multi-threaded Stacking... ${U}/${f.length}`:"Calculating Histogram..."})]}),G?u.jsx("div",{className:"flex items-center justify-center h-full text-red-500 relative z-10",children:G}):u.jsx("div",{className:"relative z-10 w-full h-full",children:u.jsx(vo,{width:"100%",height:"100%",children:u.jsxs(Bs,{data:ae,children:[u.jsx(qa,{strokeDasharray:"3 3",stroke:"#374151",opacity:.3}),u.jsx(Un,{dataKey:"binStart",type:"number",domain:[m,w],tickFormatter:oe=>Math.floor(oe).toString(),tick:{fill:"#9ca3af",fontSize:12},allowDataOverflow:!0,label:{value:"DN Value",position:"insideBottom",offset:-5,fill:"#9ca3af",fontSize:12}}),u.jsx(Wn,{tick:{fill:"#9ca3af",fontSize:12},label:{value:"Count",angle:-90,position:"insideLeft",fill:"#9ca3af",fontSize:12}}),u.jsx(Vr,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"0.5rem",color:"#f3f4f6"},itemStyle:{fontSize:"12px"},labelFormatter:oe=>`DN: ${Math.round(Number(oe))}`,formatter:(oe,_e)=>[Math.round(oe),_e]}),u.jsx(Va,{wrapperStyle:{paddingTop:"10px"}}),b&&u.jsx(Or,{type:"monotone",dataKey:"theory",name:"Ideal Bell (Gaussian)",stroke:"#f59e0b",strokeWidth:2.5,strokeDasharray:"5 5",dot:!1,isAnimationActive:!1}),(h==="All"||h==="0")&&u.jsx(Or,{type:pe,dataKey:"c0",name:K.c0,stroke:he.c0,dot:!1,strokeWidth:1.5,activeDot:{r:4},isAnimationActive:!1}),(h==="All"||h==="1")&&u.jsx(Or,{type:pe,dataKey:"c1",name:K.c1,stroke:he.c1,dot:!1,strokeWidth:1.5,activeDot:{r:4},isAnimationActive:!1}),(h==="All"||h==="2")&&u.jsx(Or,{type:pe,dataKey:"c2",name:K.c2,stroke:he.c2,dot:!1,strokeWidth:1.5,activeDot:{r:4},isAnimationActive:!1}),(h==="All"||h==="3")&&u.jsx(Or,{type:pe,dataKey:"c3",name:K.c3,stroke:he.c3,dot:!1,strokeWidth:1.5,activeDot:{r:4},isAnimationActive:!1})]})})})]})]})},zu=({initialPosition:e={x:20,y:80},children:t,className:r="",onClose:n,zIndex:a,onFocus:o})=>{const[i,s]=j.useState(e),[l,c]=j.useState(!1),[d,f]=j.useState({x:0,y:0}),h=j.useRef(null),p=(w,y,g)=>{o&&o(),!(g.closest("button")||g.closest("input"))&&(c(!0),f({x:w-i.x,y:y-i.y}))},m=w=>{p(w.clientX,w.clientY,w.target)},v=w=>{const y=w.touches[0];p(y.clientX,y.clientY,w.target)};return j.useEffect(()=>{const w=g=>{var x,S;if(l){g.cancelable&&g.preventDefault();const k="touches"in g?g.touches[0].clientX:g.clientX,b="touches"in g?g.touches[0].clientY:g.clientY,_=k-d.x,N=b-d.y,O=window.innerWidth-(((x=h.current)==null?void 0:x.offsetWidth)||100),P=window.innerHeight-(((S=h.current)==null?void 0:S.offsetHeight)||100);s({x:Math.max(0,Math.min(_,O)),y:Math.max(0,Math.min(N,P))})}},y=()=>{c(!1)};return l&&(window.addEventListener("mousemove",w),window.addEventListener("mouseup",y),window.addEventListener("touchmove",w,{passive:!1}),window.addEventListener("touchend",y)),()=>{window.removeEventListener("mousemove",w),window.removeEventListener("mouseup",y),window.removeEventListener("touchmove",w),window.removeEventListener("touchend",y)}},[l,d]),u.jsxs("div",{ref:h,style:{left:i.x,top:i.y,zIndex:a??90},onMouseDownCapture:o,className:`fixed border-2 border-black dark:border-gray-500 bg-white dark:bg-black shadow-[8px_8px_0px_rgba(0,0,0,0.5)] dark:shadow-[8px_8px_0px_rgba(255,255,255,0.2)] transition-shadow duration-200 ${l?"cursor-grabbing shadow-[4px_4px_0px_rgba(0,0,0,0.5)]":""} ${r}`,children:[u.jsx("div",{onMouseDown:m,onTouchStart:v,className:"absolute inset-0 w-full h-8 cursor-grab active:cursor-grabbing z-0 touch-none bg-gray-200 dark:bg-gray-800 border-b-2 border-black dark:border-gray-500",title:"Drag to move"}),u.jsx("div",{className:"relative z-10 pointer-events-none",children:u.jsx("div",{className:"pointer-events-auto",children:t})})]})},HQ=({isOpen:e,onClose:t,rawImageData:r,roi:n,selectedChannel:a,channelName:o,zIndex:i,onFocus:s,initialPosition:l})=>{const c=j.useRef(null),[d,f]=j.useState(!1),[h,p]=j.useState(null),[m,v]=j.useState(null),[w,y]=j.useState(!0),[g,x]=j.useState(!0),[S,k]=j.useState("-1"),[b,_]=j.useState("8"),[N,O]=j.useState(64),[P,A]=j.useState(45),[C,T]=j.useState(60),F=j.useRef(!1),D=j.useRef({x:0,y:0});j.useEffect(()=>{!e||!r||!n||(f(!0),v(null),setTimeout(()=>{try{const R=zQ(r.data,r.width,r.height,n,a,g);R?p(R):v("Could not extract valid data from ROI.")}catch(R){console.error("2D FFT Error",R),v("Calculation Error: "+R.message)}finally{f(!1)}},50))},[e,r,n,a,g]),j.useEffect(()=>{if(!h||!c.current)return;const R=c.current,G=R.getContext("2d");if(!G)return;const Q=R.width,X=R.height;G.clearRect(0,0,Q,X),G.fillStyle="#0f172a",G.fillRect(0,0,Q,X);const L=h.width,ee=h.height,Z=h.data,$=Math.pow(10,parseFloat(S)||-1),ae=Math.pow(10,parseFloat(b)||8);let ue=$,Y=ae;w&&(ue=Math.log10(Math.max(1e-10,$)),Y=Math.log10(Math.max(1e-10,ae)));const se=Y-ue||1,ge=Q/2,K=X/2+50,he=Math.min(Q,X)*.4,pe=.6,oe=P*Math.PI/180,_e=C*Math.PI/180,be=Math.cos(oe),Ie=Math.sin(oe),dt=Math.cos(_e),Pe=Math.sin(_e),Be=($e,pt,At)=>{const vr=$e*be-pt*Ie,gn=$e*Ie+pt*be,Mn=gn*dt-At*Pe,nr=gn*Pe+At*dt;return{x:ge+vr*he,y:K-Mn*he,depth:nr}},ut=Math.max(16,N),vt=Math.max(1,Math.floor(L/ut)),mr=Math.max(1,Math.floor(ee/ut)),Ke=($e,pt)=>{let At=Z[pt*L+$e];return w&&(At=Math.log10(Math.max(1e-10,At))),At=Math.max(ue,Math.min(Y,At)),(At-ue)/se},yr=$e=>`hsl(${(1-$e)*240}, 80%, 50%)`,Fe=[];for(let $e=0;$e<ee-mr;$e+=mr)for(let pt=0;pt<L-vt;pt+=vt){const At=pt,vr=$e,gn=pt+vt,Mn=$e,nr=pt+vt,An=$e+mr,Ye=pt,ar=$e+mr,lr=Ke(At,vr),Mr=Ke(gn,Mn),rn=Ke(nr,An),Ar=Ke(Ye,ar),Cn=(lr+Mr+rn+Ar)/4,Hn=Be(At/(L-1)-.5,vr/(ee-1)-.5,lr*pe),Vn=Be(gn/(L-1)-.5,Mn/(ee-1)-.5,Mr*pe),nn=Be(nr/(L-1)-.5,An/(ee-1)-.5,rn*pe),oa=Be(Ye/(L-1)-.5,ar/(ee-1)-.5,Ar*pe),an=(Hn.depth+Vn.depth+nn.depth+oa.depth)/4;Fe.push({pts:[{x:Hn.x,y:Hn.y},{x:Vn.x,y:Vn.y},{x:nn.x,y:nn.y},{x:oa.x,y:oa.y}],avgDepth:an,avgZ:Cn})}Fe.sort(($e,pt)=>$e.avgDepth-pt.avgDepth),G.lineWidth=.5,Fe.forEach($e=>{G.fillStyle=yr($e.avgZ),G.beginPath(),G.moveTo($e.pts[0].x,$e.pts[0].y),G.lineTo($e.pts[1].x,$e.pts[1].y),G.lineTo($e.pts[2].x,$e.pts[2].y),G.lineTo($e.pts[3].x,$e.pts[3].y),G.closePath(),G.fill()}),G.fillStyle="#aaa",G.font="10px monospace";const Zt=Be(-.5,-.5,0),Gt=Be(.5,-.5,0),Qt=Be(-.5,.5,0),Ht=Be(.5,.5,0);G.strokeStyle="#666",G.beginPath(),G.moveTo(Zt.x,Zt.y),G.lineTo(Gt.x,Gt.y),G.lineTo(Ht.x,Ht.y),G.lineTo(Qt.x,Qt.y),G.closePath(),G.stroke(),G.fillText("0",Zt.x-10,Zt.y+10),G.fillText("Fx",Gt.x+5,Gt.y),G.fillText("Fy",Qt.x-15,Qt.y);const ht=Be(-.5,-.5,pe);G.strokeStyle="#fff",G.beginPath(),G.moveTo(Zt.x,Zt.y),G.lineTo(ht.x,ht.y),G.stroke(),G.fillText(`10^${b}`,ht.x-25,ht.y),G.fillText(`10^${S}`,Zt.x-25,Zt.y)},[h,w,P,C,S,b,N]);const U=R=>{F.current=!0,D.current={x:R.clientX,y:R.clientY}},M=R=>{if(!F.current)return;const G=R.clientX-D.current.x,Q=R.clientY-D.current.y;A(X=>X-G*.5),T(X=>Math.max(0,Math.min(90,X+Q*.5))),D.current={x:R.clientX,y:R.clientY}},E=()=>{F.current=!1};return e?u.jsxs(zu,{initialPosition:l||{x:100,y:100},onClose:t,zIndex:i,onFocus:s,className:"w-[700px] h-[600px] bg-slate-900 border border-slate-700 flex flex-col overflow-hidden shadow-2xl",children:[u.jsxs("div",{className:"flex justify-between items-center px-4 py-2 border-b border-slate-700 bg-slate-800",children:[u.jsxs("h3",{className:"text-sm font-bold text-slate-200 flex items-center gap-2",children:["2D FFT Power Spectrum - ",o,h&&u.jsxs("span",{className:"text-[10px] font-normal text-slate-400 bg-slate-700 px-2 py-0.5 rounded",children:[h.width,"x",h.height," (Chirp-Z)"]})]}),u.jsx("div",{className:"flex items-center gap-2",children:u.jsx("button",{onClick:t,className:"text-slate-400 hover:text-red-400 transition-colors",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})})]}),u.jsxs("div",{className:"p-3 bg-slate-800/80 flex flex-wrap gap-4 text-xs items-center border-b border-slate-700",children:[u.jsxs("div",{className:"flex items-center gap-2 bg-slate-900 px-2 py-1 rounded border border-slate-600",children:[u.jsx("span",{className:"text-slate-400 font-bold",children:"Range (10^x):"}),u.jsx("input",{type:"number",value:S,onChange:R=>k(R.target.value),className:"w-10 bg-transparent text-slate-200 text-center border-b border-slate-600 focus:border-cyan-500 outline-none"}),u.jsx("span",{className:"text-slate-500",children:"to"}),u.jsx("input",{type:"number",value:b,onChange:R=>_(R.target.value),className:"w-10 bg-transparent text-slate-200 text-center border-b border-slate-600 focus:border-cyan-500 outline-none"})]}),u.jsxs("div",{className:"flex items-center gap-2 bg-slate-900 px-2 py-1 rounded border border-slate-600",children:[u.jsx("span",{className:"text-slate-400 font-bold",children:"Density:"}),u.jsx("input",{type:"range",min:"16",max:"128",step:"16",value:N,onChange:R=>O(Number(R.target.value)),className:"w-20 h-1.5 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-cyan-500"}),u.jsx("span",{className:"text-slate-300 w-6 text-right",children:N})]}),u.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none text-slate-300 hover:text-white",children:[u.jsx("input",{type:"checkbox",checked:w,onChange:R=>y(R.target.checked),className:"rounded bg-slate-700 border-slate-600 accent-cyan-500"}),"Log Z"]}),u.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none text-slate-300 hover:text-white",children:[u.jsx("input",{type:"checkbox",checked:g,onChange:R=>x(R.target.checked),className:"rounded bg-slate-700 border-slate-600 accent-fuchsia-500"}),"Hanning"]})]}),u.jsxs("div",{className:"flex-1 relative bg-slate-900 cursor-move",children:[d&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-slate-900/80 z-20 backdrop-blur-sm",children:u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx("div",{className:"w-8 h-8 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin"}),u.jsx("span",{className:"text-cyan-400 font-bold animate-pulse text-sm",children:"Computing full-size 2D FFT..."})]})}),m&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-slate-900/80 z-20 text-red-400 p-4 text-center",children:m}),u.jsx("canvas",{ref:c,width:700,height:500,className:"w-full h-full block",onMouseDown:U,onMouseMove:M,onMouseUp:E,onMouseLeave:E}),u.jsx("div",{className:"absolute bottom-2 right-2 text-[9px] text-slate-600 pointer-events-none",children:"Drag to Rotate"})]})]}):null},VQ=.5,ty=1e-10,hk=(e,t)=>{const r=e.length-1;if(r<0)return ty;const n=t/VQ*r,a=Math.round(n),o=e[Math.min(Math.max(0,a),r)]||0;return Math.max(o,ty)},XQ=(e,t)=>{if(t<=0)return[1];const r=new Array(e);let n=0;for(let a=0;a<e;a++){const o=a-(e-1)/2,i=Math.exp(-(o*o)/(2*t*t));r[a]=i,n+=i}for(let a=0;a<e;a++)r[a]/=n;return r},KQ=({isOpen:e,onClose:t,onMinimize:r,rawImageData:n,roi:a,isBGGR:o,onUpdateROI:i,zIndex:s,onFocus:l,initialPosition:c,initialInternalState:d,onUpdateState:f,stackFiles:h})=>{const[p,m]=j.useState((d==null?void 0:d.selectedChannel)??0),[v,w]=j.useState(()=>(d==null?void 0:d.yMinExp)||localStorage.getItem("fft_y_min")||"1.73"),[y,g]=j.useState(()=>(d==null?void 0:d.yMaxExp)||localStorage.getItem("fft_y_max")||"8.00"),[x,S]=j.useState((d==null?void 0:d.useHanning)??!0),[k,b]=j.useState((d==null?void 0:d.doAverage)??!0),[_,N]=j.useState((d==null?void 0:d.welchSegments)??1),[O,P]=j.useState((d==null?void 0:d.showH)??!0),[A,C]=j.useState((d==null?void 0:d.showV)??!0),[T,F]=j.useState((d==null?void 0:d.interlaceRows)??!1),[D,U]=j.useState((d==null?void 0:d.rowGroup)??0),[M,E]=j.useState((d==null?void 0:d.interlaceCols)??!1),[R,G]=j.useState((d==null?void 0:d.colGroup)??0),[Q,X]=j.useState(()=>(d==null?void 0:d.theoSigma)||localStorage.getItem("fft_theo_sigma")||"0.00"),[L,ee]=j.useState(()=>(d==null?void 0:d.theoKernelSize)||localStorage.getItem("fft_theo_ksize")||"3"),[Z,$]=j.useState(()=>(d==null?void 0:d.theoNoiseStd)||localStorage.getItem("fft_theo_noise")||"7.5"),[ae,ue]=j.useState(()=>(d==null?void 0:d.theoScale)||localStorage.getItem("fft_theo_scale")||"1.0"),[Y,se]=j.useState((d==null?void 0:d.intStart)||"0"),[ge,K]=j.useState((d==null?void 0:d.intEnd)||"0.5"),[he,pe]=j.useState(!1),[oe,_e]=j.useState([]),[be,Ie]=j.useState(!1),[dt,Pe]=j.useState(0),[Be,ut]=j.useState(null),[vt,mr]=j.useState(!1),[Ke,yr]=j.useState(!1),[Fe,Zt]=j.useState(null),[Gt,Qt]=j.useState(!1),[Ht,ht]=j.useState(null),[$e,pt]=j.useState(c||{x:50,y:50}),[At,vr]=j.useState(!1),[gn,Mn]=j.useState(null),[nr,An]=j.useState({}),Ye=j.useRef({x:0,y:0}),ar=o?{c0:"#3b82f6",c1:"#22c55e",c2:"#4ade80",c3:"#ef4444"}:{c0:"#ef4444",c1:"#22c55e",c2:"#4ade80",c3:"#3b82f6"},lr=j.useMemo(()=>o?{0:"Blue",1:"Green 1",2:"Green 2",3:"Red"}:{0:"Red",1:"Green 1",2:"Green 2",3:"Blue"},[o]);j.useEffect(()=>{localStorage.setItem("fft_y_min",v),localStorage.setItem("fft_y_max",y),localStorage.setItem("fft_theo_sigma",Q),localStorage.setItem("fft_theo_ksize",L),localStorage.setItem("fft_theo_noise",Z),localStorage.setItem("fft_theo_scale",ae)},[v,y,Q,L,Z,ae]),j.useEffect(()=>{if(!e||!n||!a)return;Ie(!0),ut(null),Pe(0);const ie=setTimeout(async()=>{try{const Ae=p===-1?[0,1,2,3]:[p],Ue=h&&h.length>1?h:[null],ct=Ue.length,qe={};let wt={h:0,v:0};for(let ze=0;ze<ct;ze++){Pe(ze+1);let Ze;if(Ue[ze]){const xt=await Ue[ze].arrayBuffer();Ze=await vh(xt)}else Ze=n;for(const xt of Ae){const gt=FQ(Ze.data,Ze.width,Ze.height,a,xt,!1,x,{rows:T,rowGroup:D,cols:M,colGroup:R},k,_);gt&&(qe[xt]||(qe[xt]={h:new Array(gt.avgHoriz.length).fill(0),v:new Array(gt.avgVert.length).fill(0)}),gt.avgHoriz.forEach((Tt,me)=>qe[xt].h[me]+=Tt/ct),gt.avgVert.forEach((Tt,me)=>qe[xt].v[me]+=Tt/ct),wt=gt.sampleCount)}}if(Object.keys(qe).length===0)throw new Error("ROI too small or no data found.");const ur=1024,fr=[];for(let ze=0;ze<ur;ze++){const Ze=ze/(ur-1)*.5,xt={freq:parseFloat(Ze.toFixed(6))};for(const gt of Ae)qe[gt]&&(xt[`c${gt}_h`]=hk(qe[gt].h,Ze),xt[`c${gt}_v`]=hk(qe[gt].v,Ze));fr.push(xt)}Mn(wt),_e(fr)}catch(Ae){console.error("FFT Loop Failed:",Ae),ut(Ae.message||"Unknown error during FFT processing")}finally{Ie(!1)}},100);return()=>clearTimeout(ie)},[e,n,a==null?void 0:a.x,a==null?void 0:a.y,a==null?void 0:a.w,a==null?void 0:a.h,p,x,k,_,T,D,M,R,h]);const Mr=()=>{const ie=parseFloat(Y),Ae=parseFloat(ge);if(isNaN(ie)||isNaN(Ae))return;const Ue={},ct=p===-1?[0,1,2,3]:[p],qe=oe.filter(wt=>wt.freq>=ie&&wt.freq<=Ae);if(qe.length===0){An({});return}ct.forEach(wt=>{let ur=0,fr=0;qe.forEach(ze=>{const Ze=ze[`c${wt}_h`],xt=ze[`c${wt}_v`];typeof Ze=="number"&&(ur+=Ze),typeof xt=="number"&&(fr+=xt)}),Ue[wt]={h:ur/qe.length,v:fr/qe.length,count:qe.length}}),An(Ue)},rn=j.useMemo(()=>{const ie=parseFloat(Q),Ae=parseInt(L),Ue=parseFloat(Z),ct=parseFloat(ae);if(isNaN(ie)||isNaN(Ae)||isNaN(Ue)||isNaN(ct)||oe.length===0)return oe;const qe=XQ(Ae,ie),wt=qe.reduce((ze,Ze)=>ze+Ze*Ze,0),ur=(Ae-1)/2,fr=Ue*Ue*ct;return oe.map(ze=>{const Ze=ze.freq,xt=2*Math.PI*Ze;let gt=0,Tt=0;for(let Fr=0;Fr<Ae;Fr++){const eo=Fr-ur,Xn=qe[Fr],En=-xt*eo;gt+=Xn*Math.cos(En),Tt+=Xn*Math.sin(En)}const me=gt*gt+Tt*Tt;return{...ze,theory:Math.max(ty,fr*wt*me)}})},[oe,Q,L,Z,ae]),Ar=ie=>{ie&&ie.activeLabel!==void 0&&(Qt(!0),ht(Number(ie.activeLabel)),Zt(null))},Cn=ie=>{if(Gt&&Ht!==null&&ie&&ie.activeLabel!==void 0){const Ae=Number(ie.activeLabel);Zt([Math.min(Ht,Ae),Math.max(Ht,Ae)])}},Hn=()=>Qt(!1),Vn=(ie,Ae,Ue)=>{l&&l(),!(Ue.closest("button")||Ue.closest("input"))&&(vr(!0),Ye.current={x:ie-$e.x,y:Ae-$e.y})},nn=ie=>{Vn(ie.clientX,ie.clientY,ie.target)},oa=ie=>{const Ae=ie.touches[0];Vn(Ae.clientX,Ae.clientY,ie.target)};j.useEffect(()=>{const ie=Ue=>{if(At){const ct="touches"in Ue?Ue.touches[0].clientX:Ue.clientX,qe="touches"in Ue?Ue.touches[0].clientY:Ue.clientY;pt({x:ct-Ye.current.x,y:qe-Ye.current.y})}},Ae=()=>vr(!1);return At&&(window.addEventListener("mousemove",ie),window.addEventListener("mouseup",Ae),window.addEventListener("touchmove",ie,{passive:!1}),window.addEventListener("touchend",Ae)),()=>{window.removeEventListener("mousemove",ie),window.removeEventListener("mouseup",Ae),window.removeEventListener("touchmove",ie),window.removeEventListener("touchend",Ae)}},[At]);const an=j.useMemo(()=>{if(!Fe||oe.length===0)return null;const[ie,Ae]=Fe,Ue=oe.filter(wt=>wt.freq>=ie&&wt.freq<=Ae);if(Ue.length===0)return null;const ct=p===-1?[0,1,2,3]:[p],qe={};return ct.forEach(wt=>{["h","v"].forEach(ur=>{const fr=`c${wt}_${ur}`;let ze=0,Ze=0;for(const xt of Ue){const gt=xt[fr];typeof gt=="number"&&(ze+=gt,Ze++)}Ze>0&&(qe[`${fr}_sigma`]=Math.sqrt(ze/Ze))})}),{count:Ue.length,stats:qe}},[Fe,oe,p]),Jt=()=>{if(oe.length===0)return;let ie=1/0,Ae=-1/0;if(oe.forEach(ur=>{ur.freq<.01||ur.freq>.49||Object.keys(ur).forEach(fr=>{if(fr==="freq"||fr==="theory")return;const ze=ur[fr];typeof ze=="number"&&ze>0&&(ze<ie&&(ie=ze),ze>Ae&&(Ae=ze))})}),ie===1/0)return;const Ue=Math.log10(ie),ct=Math.log10(Ae),qe=ct-Ue,wt=(qe===0?1:qe)*.1;w((Ue-wt).toFixed(2)),g((ct+wt).toFixed(2))},cr=(ie,Ae)=>{a&&i&&i({...a,x:a.x+ie,y:a.y+Ae})},Ct=(ie,Ae)=>{a&&i&&i({...a,w:Math.max(2,a.w+ie),h:Math.max(2,a.h+Ae)})};return e?u.jsxs("div",{className:"fixed flex flex-col bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 shadow-2xl rounded-xl overflow-hidden resize-both min-w-[750px] min-h-[500px]",style:{left:$e.x,top:$e.y,width:"1000px",height:"850px",zIndex:s??100},onMouseDownCapture:l,children:[u.jsxs("div",{className:`flex justify-between items-center p-3 border-b border-gray-200 dark:border-slate-700 flex-shrink-0 bg-gray-50 dark:bg-slate-800 z-50 relative select-none touch-none ${At?"cursor-grabbing":"cursor-grab"}`,onMouseDown:nn,onTouchStart:oa,children:[u.jsxs("h2",{className:"text-lg font-bold text-gray-900 dark:text-slate-100 flex items-center gap-2 pointer-events-none",children:["Power Spectrum Analysis",u.jsx("span",{className:"text-[10px] font-normal bg-white dark:bg-slate-700 px-2 py-1 rounded text-gray-500 border border-gray-200 dark:border-slate-600 shadow-sm",children:h&&h.length>1?`Stack Avg (${h.length} frames)`:"Single Mode"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[r&&u.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 dark:hover:text-red-400 p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),u.jsxs("div",{className:"flex flex-col bg-gray-50 dark:bg-slate-900/80 border-b border-gray-200 dark:border-slate-800 flex-shrink-0 z-40 relative px-4 py-3 gap-3 overflow-x-auto",children:[u.jsxs("div",{className:"flex items-center gap-6",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-[10px] font-bold text-gray-500 dark:text-slate-400 uppercase tracking-widest",children:"Channel"}),u.jsxs("div",{className:"flex bg-gray-100 dark:bg-slate-800 rounded-lg p-0.5 border border-gray-200 dark:border-slate-700 shadow-inner",children:[u.jsx("button",{onClick:()=>m(-1),className:`px-3 py-1 rounded text-[10px] font-bold transition-all ${p===-1?"bg-slate-700 text-white shadow-md":"text-gray-500 dark:text-slate-500 hover:bg-white dark:hover:bg-slate-700"}`,children:"All"}),[0,1,2,3].map(ie=>u.jsx("button",{onClick:()=>m(ie),className:`px-3 py-1 rounded text-[10px] font-bold transition-all ${p===ie?"bg-cyan-600 text-white shadow-md":"text-gray-500 dark:text-slate-500 hover:bg-white dark:hover:bg-slate-700"}`,children:lr[ie]},ie))]})]}),u.jsx("div",{className:"h-6 w-px bg-gray-200 dark:bg-slate-700 mx-2"}),u.jsxs("button",{onClick:()=>pe(!0),className:"flex items-center gap-1.5 px-4 py-1.5 bg-indigo-600 hover:bg-indigo-500 text-white text-[10px] font-bold rounded-lg shadow-lg shadow-indigo-500/30 transition-all active:scale-95 group border border-indigo-400/30",children:[u.jsx("svg",{className:"w-3.5 h-3.5 group-hover:animate-pulse",fill:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"2D Diagonal"]}),u.jsx("div",{className:"h-6 w-px bg-gray-200 dark:bg-slate-700 mx-2"}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-[10px] font-bold text-indigo-500 dark:text-indigo-400 uppercase tracking-widest",children:"Model"}),u.jsx("div",{className:"flex gap-2",children:[{label:"KSize",val:L,set:ee,w:"w-10"},{label:"Sigma",val:Q,set:X,w:"w-12"},{label:"Noise()",val:Z,set:$,w:"w-12"},{label:"Scale",val:ae,set:ue,w:"w-12"}].map(ie=>u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("label",{className:"text-[8px] text-gray-400 dark:text-slate-500 uppercase font-bold mb-0.5",children:ie.label}),u.jsx("input",{type:"text",value:ie.val,onChange:Ae=>ie.set(Ae.target.value),className:`${ie.w} text-[11px] bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded px-1.5 py-0.5 text-center text-gray-900 dark:text-slate-100 outline-none focus:border-indigo-500 shadow-sm`})]},ie.label))})]})]}),u.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[u.jsxs("div",{className:"flex items-center gap-3 mr-2",children:[u.jsx("span",{className:"text-[10px] font-bold text-fuchsia-600 dark:text-fuchsia-500 uppercase tracking-widest",children:"Welch"}),u.jsx("input",{type:"range",min:"1",max:"16",step:"1",value:_,onChange:ie=>N(parseInt(ie.target.value)),className:"w-24 h-1.5 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-fuchsia-500"}),u.jsx("span",{className:"text-[10px] font-mono text-fuchsia-600 dark:text-fuchsia-400 w-4 font-bold",children:_})]}),u.jsx("div",{className:"h-6 w-px bg-gray-200 dark:bg-slate-700"}),u.jsxs("div",{className:"flex flex-col gap-1 px-2",children:[u.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer text-[10px] text-gray-500 dark:text-slate-400 hover:text-gray-900 dark:hover:text-slate-200 select-none",children:[u.jsx("input",{type:"checkbox",checked:T,onChange:ie=>F(ie.target.checked),className:"w-3 h-3 rounded text-cyan-600 border-gray-300 dark:border-slate-700 bg-white dark:bg-slate-800"})," Row Int."]}),u.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer text-[10px] text-gray-500 dark:text-slate-400 hover:text-gray-900 dark:hover:text-slate-200 select-none",children:[u.jsx("input",{type:"checkbox",checked:M,onChange:ie=>E(ie.target.checked),className:"w-3 h-3 rounded text-cyan-600 border-gray-300 dark:border-slate-700 bg-white dark:bg-slate-800"})," Col Int."]})]}),u.jsxs("div",{className:"flex flex-col gap-1.5 bg-gray-100 dark:bg-slate-800/60 p-1.5 rounded-lg border border-gray-200 dark:border-slate-700",children:[u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[u.jsx("div",{className:`w-3.5 h-3.5 rounded-md border flex items-center justify-center transition-colors ${x?"bg-fuchsia-600 border-fuchsia-600":"bg-white dark:bg-slate-900 border-gray-300 dark:border-slate-600"}`,children:x&&u.jsx("svg",{className:"w-2.5 h-2.5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:4,children:u.jsx("path",{d:"M5 13l4 4L19 7"})})}),u.jsx("input",{type:"checkbox",checked:x,onChange:ie=>S(ie.target.checked),className:"hidden"}),u.jsx("span",{className:"text-[10px] font-bold text-gray-700 dark:text-slate-300",children:"Hanning"})]}),u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[u.jsx("div",{className:`w-3.5 h-3.5 rounded-md border flex items-center justify-center transition-colors ${k?"bg-cyan-600 border-cyan-600":"bg-white dark:bg-slate-900 border-gray-300 dark:border-slate-600"}`,children:k&&u.jsx("svg",{className:"w-2.5 h-2.5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:4,children:u.jsx("path",{d:"M5 13l4 4L19 7"})})}),u.jsx("input",{type:"checkbox",checked:k,onChange:ie=>b(ie.target.checked),className:"hidden"}),u.jsx("span",{className:"text-[10px] font-bold text-gray-700 dark:text-slate-300",children:"Average"})]})]}),u.jsxs("div",{className:"flex gap-2 bg-gray-100 dark:bg-slate-800 p-1 rounded-lg border border-gray-200 dark:border-slate-700",children:[u.jsxs("button",{onClick:()=>P(!O),className:`px-2.5 py-1 rounded-md border text-[11px] font-bold transition-all flex items-center gap-1.5 ${O?"bg-cyan-900/40 text-cyan-400 border-cyan-500 shadow-[0_0_8px_rgba(6,182,212,0.3)]":"bg-white dark:bg-slate-900 text-gray-400 border-gray-300 dark:border-slate-700"}`,children:[u.jsx("div",{className:`w-2 h-2 rounded-full ${O?"bg-cyan-400":"bg-gray-400"}`})," H"]}),u.jsxs("button",{onClick:()=>C(!A),className:`px-2.5 py-1 rounded-md border text-[11px] font-bold transition-all flex items-center gap-1.5 ${A?"bg-cyan-900/40 text-cyan-400 border-cyan-500 shadow-[0_0_8px_rgba(6,182,212,0.3)]":"bg-white dark:bg-slate-900 text-gray-400 border-gray-300 dark:border-slate-700"}`,children:[u.jsx("div",{className:`w-2 h-2 rounded-full ${O?"bg-cyan-400":"bg-gray-400"}`})," V"]})]}),u.jsxs("div",{className:"ml-auto flex gap-2",children:[u.jsx("button",{onClick:()=>yr(!Ke),className:`px-3 py-1.5 rounded-lg text-[10px] font-bold transition-all border ${Ke?"bg-emerald-600 text-white border-emerald-600 shadow-md":"bg-white dark:bg-slate-900 text-emerald-600 dark:text-emerald-400 border-emerald-200 dark:border-emerald-800 hover:bg-emerald-50"}`,children:""}),u.jsx("button",{onClick:()=>mr(!vt),className:`px-3 py-1.5 rounded-lg text-[10px] font-bold transition-all border ${vt?"bg-indigo-600 text-white border-indigo-600 shadow-md":"bg-white dark:bg-slate-900 text-indigo-600 dark:text-indigo-400 border-indigo-200 dark:border-indigo-800 hover:bg-indigo-50"}`,children:"ROI"})]})]}),u.jsxs("div",{className:"flex items-center gap-4 justify-end border-t border-gray-200 dark:border-slate-800/50 pt-2.5",children:[u.jsx("button",{onClick:Jt,className:"px-4 py-1 text-[10px] font-bold bg-cyan-600/10 text-cyan-600 dark:text-cyan-400 hover:bg-cyan-600/20 rounded-md border border-cyan-500/30 transition-all uppercase tracking-widest shadow-sm",children:"Auto"}),u.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-bold text-gray-500 dark:text-slate-400 uppercase",children:["Y-AXIS (LOG)",u.jsxs("div",{className:"flex items-center bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-md overflow-hidden shadow-sm",children:[u.jsx("input",{type:"text",value:v,onChange:ie=>w(ie.target.value),className:"w-14 px-2 py-1 bg-transparent text-center outline-none text-gray-900 dark:text-slate-100 border-r border-gray-200 dark:border-slate-700"}),u.jsx("span",{className:"px-2 text-gray-400",children:"to"}),u.jsx("input",{type:"text",value:y,onChange:ie=>g(ie.target.value),className:"w-14 px-2 py-1 bg-transparent text-center outline-none text-gray-900 dark:text-slate-100"})]})]})]})]}),u.jsxs("div",{className:"flex-1 p-4 overflow-hidden flex flex-col gap-2 relative bg-gray-50/30 dark:bg-slate-900/30",children:[u.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none z-[50] select-none opacity-10",children:u.jsx("svg",{viewBox:"0 0 500 100",className:"w-3/4 h-auto drop-shadow-lg",children:u.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"24",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})}),be&&u.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center z-[55] bg-white/90 dark:bg-slate-900/90 backdrop-blur-[2px]",children:[u.jsx("div",{className:"w-10 h-10 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mb-4"}),u.jsx("span",{className:"text-cyan-600 dark:text-cyan-400 font-bold",children:"Computing FFT Stack..."}),h&&h.length>1&&u.jsxs("span",{className:"text-xs text-gray-500 mt-2 font-mono",children:["Processing frame ",dt," / ",h.length]})]}),Be?u.jsx("div",{className:"flex items-center justify-center h-full text-red-500 font-semibold",children:Be}):u.jsxs("div",{className:"flex-1 bg-white dark:bg-slate-950 border border-gray-200 dark:border-slate-800 rounded-xl p-2 flex flex-col relative z-20 shadow-xl overflow-hidden",children:[u.jsx("div",{className:"flex-1 relative z-10",onMouseDown:Ar,onMouseMove:Cn,onMouseUp:Hn,style:{cursor:Gt?"col-resize":"crosshair"},children:u.jsx(vo,{width:"100%",height:"100%",children:u.jsxs(Bs,{data:rn,margin:{top:10,right:10,bottom:20,left:0},children:[u.jsx(qa,{strokeDasharray:"3 3",stroke:"#374151",opacity:.08}),u.jsx(Un,{dataKey:"freq",type:"number",domain:[0,.5],tickCount:6,tick:{fill:"#6b7280",fontSize:10},label:{value:"Frequency (cy/px)",position:"insideBottom",offset:-10,fill:"#6b7280",fontSize:11}}),u.jsx(Wn,{scale:"log",domain:[Math.pow(10,parseFloat(v)),Math.pow(10,parseFloat(y))],allowDataOverflow:!0,tick:{fill:"#6b7280",fontSize:10},tickFormatter:ie=>Number(ie).toExponential(0),width:45}),u.jsx(Vr,{contentStyle:{backgroundColor:"rgba(15, 23, 42, 0.95)",border:"1px solid #334155",color:"#f3f4f6",fontSize:"11px",borderRadius:"8px"},formatter:ie=>[Number(ie).toExponential(3),""],labelFormatter:ie=>`Freq: ${Number(ie).toFixed(4)}`}),u.jsx(Va,{wrapperStyle:{fontSize:"10px"}}),u.jsx(Or,{type:"monotone",dataKey:"theory",name:"Theory Model",stroke:"#6366f1",strokeWidth:2,dot:!1,isAnimationActive:!1}),[0,1,2,3].flatMap(ie=>{if(p!==-1&&p!==ie)return[];const Ae=`c${ie}_h`,Ue=`c${ie}_v`,ct=ar[`c${ie}`],qe=[];return O&&qe.push(u.jsx(Or,{type:"linear",dataKey:Ae,name:`${lr[ie]} (H)`,stroke:ct,strokeWidth:1,dot:!1,isAnimationActive:!1},`${ie}_h`)),A&&qe.push(u.jsx(Or,{type:"linear",dataKey:Ue,name:`${lr[ie]} (V)`,stroke:ct,strokeWidth:1,strokeDasharray:"3 3",dot:!1,isAnimationActive:!1},`${ie}_v`)),qe}),Fe&&u.jsx(Bu,{x1:Fe[0],x2:Fe[1],fill:"#8884d8",fillOpacity:.15})]})})}),an&&Fe&&u.jsxs("div",{className:"absolute bottom-12 left-12 bg-slate-900/90 backdrop-blur-md p-3 rounded-lg border border-indigo-500/50 shadow-2xl z-30 text-[10px] font-mono text-slate-100",children:[u.jsxs("div",{className:"text-indigo-400 font-bold mb-1 border-b border-indigo-500/30 pb-1",children:["Range: ",Fe[0].toFixed(3),"-",Fe[1].toFixed(3)]}),Object.entries(an.stats).map(([ie,Ae])=>u.jsxs("div",{className:"flex justify-between gap-4",children:[u.jsxs("span",{className:"text-slate-400",children:[ie,":"]}),u.jsx("span",{className:"font-bold text-cyan-400",children:Ae.toFixed(5)})]},ie))]})]})]}),Ke&&u.jsxs("div",{className:"absolute top-48 right-8 z-[55] w-72 bg-white dark:bg-slate-900 rounded-xl shadow-2xl border border-gray-200 dark:border-slate-700 p-4 animate-in slide-in-from-top-2",children:[u.jsx("h4",{className:"text-[10px] uppercase font-bold text-emerald-600 dark:text-emerald-400 mb-2 border-b border-gray-100 dark:border-slate-800 pb-1",children:"Range Averaging"}),u.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[u.jsx("input",{type:"number",step:"0.01",value:Y,onChange:ie=>se(ie.target.value),className:"w-16 px-1 py-0.5 text-xs border rounded bg-transparent dark:border-slate-600 dark:text-white"}),u.jsx("span",{className:"text-gray-400",children:"-"}),u.jsx("input",{type:"number",step:"0.01",value:ge,onChange:ie=>K(ie.target.value),className:"w-16 px-1 py-0.5 text-xs border rounded bg-transparent dark:border-slate-600 dark:text-white"}),u.jsx("button",{onClick:Mr,className:"flex-1 bg-emerald-600 text-white text-[10px] font-bold py-1 rounded",children:"Avg"})]}),u.jsx("div",{className:"flex flex-col gap-2 max-h-48 overflow-y-auto",children:[0,1,2,3].map(ie=>{const Ae=nr[ie];if(!Ae)return null;const Ue=ar[`c${ie}`];return u.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800/50 p-2 rounded text-[10px] border border-gray-100 dark:border-slate-800",children:[u.jsxs("div",{className:"flex items-center gap-2 font-bold mb-1",style:{color:Ue},children:[lr[ie]," ",u.jsxs("span",{className:"text-gray-400 font-normal",children:["(",Ae.count," pts)"]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-x-2 text-gray-700 dark:text-slate-300 font-mono",children:[u.jsxs("div",{children:["H: ",Ae.h.toExponential(3)]}),u.jsxs("div",{children:["V: ",Ae.v.toExponential(3)]})]})]},ie)})})]}),vt&&u.jsx("div",{className:"absolute top-48 right-8 z-[55] w-56 bg-white dark:bg-slate-900 rounded-xl shadow-2xl border border-gray-200 dark:border-slate-700 p-4 animate-in slide-in-from-top-2",children:u.jsxs("div",{className:"flex flex-col gap-3",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"text-[9px] uppercase font-bold text-gray-400 mb-1",children:"Move"}),u.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[u.jsx("div",{}),u.jsx("button",{onClick:()=>cr(0,-1),className:"p-1.5 bg-gray-100 dark:bg-slate-800 rounded",children:""}),u.jsx("div",{}),u.jsx("button",{onClick:()=>cr(-1,0),className:"p-1.5 bg-gray-100 dark:bg-slate-800 rounded",children:""}),u.jsx("div",{}),u.jsx("button",{onClick:()=>cr(1,0),className:"p-1.5 bg-gray-100 dark:bg-slate-800 rounded",children:""}),u.jsx("div",{}),u.jsx("button",{onClick:()=>cr(0,1),className:"p-1.5 bg-gray-100 dark:bg-slate-800 rounded",children:""}),u.jsx("div",{})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-[9px] uppercase font-bold text-gray-400 mb-1",children:"Size"}),u.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[u.jsx("button",{onClick:()=>Ct(2,0),className:"p-1 bg-gray-100 dark:bg-slate-800 rounded",children:"W+"}),u.jsx("button",{onClick:()=>Ct(-2,0),className:"p-1 bg-gray-100 dark:bg-slate-800 rounded",children:"W-"}),u.jsx("button",{onClick:()=>Ct(0,2),className:"p-1 bg-gray-100 dark:bg-slate-800 rounded",children:"H+"}),u.jsx("button",{onClick:()=>Ct(0,-2),className:"p-1 bg-gray-100 dark:bg-slate-800 rounded",children:"H-"})]})]})]})}),u.jsx(HQ,{isOpen:he,onClose:()=>pe(!1),rawImageData:n,roi:a,selectedChannel:p===-1?0:p,channelName:p===-1?"Red (Default)":lr[p],zIndex:s?s+2:102,onFocus:l})]}):null},YQ=({isOpen:e,onClose:t,onMinimize:r,rawImageData:n,roi:a,isBGGR:o,zIndex:i,onFocus:s,initialPosition:l,initialInternalState:c,onUpdateState:d})=>{const[f,h]=j.useState((c==null?void 0:c.selectedChannelKey)||"G1"),[p,m]=j.useState((c==null?void 0:c.blackLevel)??0),[v,w]=j.useState((c==null?void 0:c.whiteLevel)??16383),[y,g]=j.useState(null),[x,S]=j.useState(!1),[k,b]=j.useState(null),[_,N]=j.useState(l||{x:150,y:150}),[O,P]=j.useState(!1),A=j.useRef({x:0,y:0});j.useEffect(()=>{d&&d({selectedChannelKey:f,blackLevel:p,whiteLevel:v})},[f,p,v]),j.useEffect(()=>{if(e&&n&&!c){const M=n.blackLevels?Math.floor(n.blackLevels[1]):0;m(M),w(n.whiteLevel||16383),g(null)}},[e,n]);const C=()=>{if(!n||!a)return;b(null),S(!0);const E=(o?{B:0,G1:1,G2:2,R:3}:{R:0,G1:1,G2:2,B:3})[f];setTimeout(()=>{try{const R=UQ(n.data,n.width,n.height,a,E,p,v);R?g(R):(b("No data found in selection with current filters."),g(null))}catch(R){console.error("Analysis failed:",R),b(R.message||"Analysis error")}finally{S(!1)}},50)},T=(M,E,R)=>{s&&s(),!(R.closest("button")||R.closest("input")||R.closest("select"))&&(P(!0),A.current={x:M-_.x,y:E-_.y})},F=M=>{T(M.clientX,M.clientY,M.target)},D=M=>{const E=M.touches[0];T(E.clientX,E.clientY,M.target)};if(j.useEffect(()=>{const M=R=>{if(O){const G="touches"in R?R.touches[0].clientX:R.clientX,Q="touches"in R?R.touches[0].clientY:R.clientY;N({x:G-A.current.x,y:Q-A.current.y})}},E=()=>P(!1);return O&&(window.addEventListener("mousemove",M),window.addEventListener("mouseup",E),window.addEventListener("touchmove",M,{passive:!1}),window.addEventListener("touchend",E)),()=>{window.removeEventListener("mousemove",M),window.removeEventListener("mouseup",E),window.removeEventListener("touchmove",M),window.removeEventListener("touchend",E)}},[O]),!e)return null;const U=o?["B","G1","G2","R"]:["R","G1","G2","B"];return u.jsxs("div",{className:"fixed flex flex-col bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 shadow-2xl rounded-xl resize-both overflow-hidden min-w-[500px] min-h-[400px] w-[900px] h-[700px]",style:{left:_.x,top:_.y,zIndex:i??100},onMouseDownCapture:s,children:[u.jsxs("div",{className:`flex justify-between items-center p-4 border-b border-gray-200 dark:border-slate-700 bg-white dark:bg-slate-900 select-none touch-none ${O?"cursor-grabbing":"cursor-grab"}`,onMouseDown:F,onTouchStart:D,children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-slate-100 flex items-center gap-2 pointer-events-none",children:"Quantization Step Analysis"}),u.jsxs("div",{className:"flex items-center gap-1",children:[r&&u.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 p-2",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),u.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-800/50 border-b border-gray-200 dark:border-slate-700 flex flex-wrap gap-4 items-end flex-shrink-0",children:[u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"Channel"}),u.jsx("select",{value:f,onChange:M=>h(M.target.value),className:"bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded px-3 py-1.5 text-sm text-gray-900 dark:text-slate-100 outline-none focus:ring-1 focus:ring-cyan-500 min-w-[80px]",children:U.map(M=>u.jsx("option",{value:M,children:M},M))})]}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"Black Level"}),u.jsx("input",{type:"number",value:p,onChange:M=>m(Number(M.target.value)),className:"w-24 px-3 py-1.5 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-sm text-gray-900 dark:text-slate-100"})]}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"White Level"}),u.jsx("input",{type:"number",value:v,onChange:M=>w(Number(M.target.value)),className:"w-24 px-3 py-1.5 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-sm text-gray-900 dark:text-slate-100"})]}),u.jsx("button",{onClick:C,disabled:x,className:"mb-0.5 px-5 py-1.5 bg-cyan-600 hover:bg-cyan-500 text-white font-bold rounded shadow-sm hover:shadow transition-colors disabled:opacity-50 text-sm",children:x?"Analyzing...":"Run Analysis"})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-4 flex flex-col gap-4 bg-white dark:bg-slate-900 min-h-0",children:[k&&u.jsx("div",{className:"p-3 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 rounded text-sm text-center flex-shrink-0",children:k}),!y&&!x&&!k&&u.jsx("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-400 dark:text-slate-500 h-full",children:u.jsx("p",{children:"Configure parameters and click Run Analysis"})}),y&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 flex-shrink-0",children:[u.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 rounded-lg border border-gray-200 dark:border-slate-700 text-center",children:[u.jsx("div",{className:"text-xs text-gray-500 dark:text-slate-400 uppercase mb-1",children:"Unique Codes"}),u.jsx("div",{className:"text-xl font-bold text-gray-900 dark:text-slate-100",children:y.uniqueCount})]}),u.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 rounded-lg border border-gray-200 dark:border-slate-700 text-center",children:[u.jsx("div",{className:"text-xs text-gray-500 dark:text-slate-400 uppercase mb-1",children:"Total Diffs"}),u.jsx("div",{className:"text-xl font-bold text-gray-900 dark:text-slate-100",children:y.diffCount})]})]}),u.jsxs("div",{className:"bg-white dark:bg-slate-800/50 rounded-xl border border-gray-200 dark:border-slate-700 overflow-hidden flex-shrink-0",children:[u.jsx("div",{className:"px-4 py-2 bg-gray-50 dark:bg-slate-800 border-b border-gray-200 dark:border-slate-700 text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"Step Distribution"}),u.jsx("div",{className:"p-4 flex flex-wrap gap-x-8 gap-y-2 text-sm font-mono max-h-32 overflow-y-auto",children:Object.entries(y.stepCounts).sort((M,E)=>parseFloat(M[0])-parseFloat(E[0])).map(([M,E])=>u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("span",{className:"text-gray-500 dark:text-slate-400",children:["Step ",M,":"]}),u.jsx("span",{className:"text-cyan-600 dark:text-cyan-400 font-bold",children:String(E)})]},M))})]}),u.jsxs("div",{className:"flex-1 bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 rounded-xl p-2 relative overflow-hidden min-h-[300px]",children:[u.jsx("div",{className:"absolute top-2 left-4 text-xs font-bold text-gray-400 dark:text-slate-500 pointer-events-none z-20 bg-white/80 dark:bg-slate-900/80 px-2 rounded",children:"Step Size vs Code Value"}),u.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-0 pointer-events-none select-none opacity-10 mix-blend-normal dark:mix-blend-plus-lighter",children:u.jsx("svg",{viewBox:"0 0 500 60",className:"w-96 h-auto",children:u.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"36",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})}),u.jsx("div",{className:"relative z-10 w-full h-full",children:u.jsx(vo,{width:"100%",height:"100%",children:u.jsxs(Bs,{data:y.plotData,margin:{top:20,right:20,bottom:20,left:10},children:[u.jsx(qa,{strokeDasharray:"3 3",stroke:"#374151",opacity:.1}),u.jsx(Un,{dataKey:"x",type:"number",domain:["auto","auto"],tick:{fill:"#9ca3af",fontSize:10},label:{value:"Code Value (Shifted)",position:"insideBottom",offset:-10,fill:"#9ca3af",fontSize:11}}),u.jsx(Wn,{tick:{fill:"#9ca3af",fontSize:10},domain:[0,"auto"],allowDataOverflow:!1,label:{value:"Step Size (Delta)",angle:-90,position:"insideLeft",fill:"#9ca3af",fontSize:11}}),u.jsx(Vr,{contentStyle:{backgroundColor:"rgba(17, 24, 39, 0.95)",border:"1px solid #374151",borderRadius:"0.5rem",color:"#f3f4f6",fontSize:"12px"},labelFormatter:M=>`Val: ${M}`,formatter:M=>[M,"Step Size"]}),u.jsx(Or,{type:"stepAfter",dataKey:"y",stroke:"#0891b2",strokeWidth:1.5,dot:{r:1.5,fill:"#0891b2",strokeWidth:0},activeDot:{r:4},isAnimationActive:!1})]})})})]})]})]})]})},qQ=({isOpen:e,onClose:t,rawImageData:r,roi:n,isBGGR:a,zIndex:o,onFocus:i,initialPosition:s,stackFiles:l})=>{const[c,d]=j.useState("cross"),[f,h]=j.useState("R"),[p,m]=j.useState("B"),[v,w]=j.useState("H"),[y,g]=j.useState(null),[x,S]=j.useState(!1),[k,b]=j.useState(0),[_,N]=j.useState(0),[O,P]=j.useState("single"),A=a?{B:0,G1:1,G2:2,R:3}:{R:0,G1:1,G2:2,B:3},C=a?["B","G1","G2","R"]:["R","G1","G2","B"],T=async F=>{if(!r||!n)return;S(!0),P(F),b(0),g(null);let D=A[f],U=c==="cross"?A[p]:D,M=0,E=0;c==="self"&&(v==="H"?E=2:M=2),setTimeout(async()=>{try{let R={sumCov:0,sumVar1:0,sumVar2:0,n:0};if(F==="single")R=fk(r.data,r.width,r.height,n,D,U,M,E);else if(l&&l.length>0)for(let G=0;G<l.length;G++){b(G+1);const Q=await l[G].arrayBuffer(),X=await vh(Q),L=fk(X.data,X.width,X.height,n,D,U,M,E);R.sumCov+=L.sumCov,R.sumVar1+=L.sumVar1,R.sumVar2+=L.sumVar2,R.n+=L.n}N(R.n),g(IQ(R))}catch(R){console.error("Pearson calculation failed",R),alert("Calculation error: "+R.message)}finally{S(!1)}},50)};return e?u.jsxs(zu,{initialPosition:s||{x:200,y:200},onClose:t,zIndex:o,onFocus:i,className:"w-80 bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 flex flex-col shadow-2xl overflow-hidden",children:[u.jsxs("div",{className:"flex justify-between items-center px-4 py-3 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800",children:[u.jsxs("h3",{className:"text-sm font-bold text-gray-700 dark:text-slate-200 flex items-center gap-2",children:["Pearson Correlation",u.jsx("span",{className:"text-[10px] font-normal bg-white dark:bg-slate-700 px-1.5 py-0.5 rounded border border-gray-200 dark:border-slate-600",children:"r"})]}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 transition-colors",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("div",{className:"p-4 flex flex-col gap-4",children:[u.jsxs("div",{className:"flex bg-gray-100 dark:bg-slate-800 p-1 rounded-lg border border-gray-200 dark:border-slate-700",children:[u.jsx("button",{onClick:()=>d("cross"),className:`flex-1 py-1 text-[10px] font-bold rounded transition-all ${c==="cross"?"bg-indigo-600 text-white shadow":"text-gray-500 dark:text-slate-400 hover:bg-gray-200 dark:hover:bg-slate-700"}`,children:"Cross-Channel"}),u.jsx("button",{onClick:()=>d("self"),className:`flex-1 py-1 text-[10px] font-bold rounded transition-all ${c==="self"?"bg-indigo-600 text-white shadow":"text-gray-500 dark:text-slate-400 hover:bg-gray-200 dark:hover:bg-slate-700"}`,children:"Self-Adjacent"})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:"flex-1 flex flex-col gap-1",children:[u.jsx("label",{className:"text-[9px] uppercase font-bold text-gray-400",children:c==="cross"?"Channel 1":"Channel"}),u.jsx("select",{value:f,onChange:F=>h(F.target.value),className:"bg-gray-100 dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded px-2 py-1.5 text-xs text-gray-700 dark:text-slate-200 outline-none focus:ring-1 focus:ring-indigo-500",children:C.map(F=>u.jsx("option",{value:F,children:F},F))})]}),u.jsx("div",{className:"text-gray-300 dark:text-slate-600 mt-4 font-mono",children:c==="cross"?"":""}),u.jsxs("div",{className:"flex-1 flex flex-col gap-1",children:[u.jsx("label",{className:"text-[9px] uppercase font-bold text-gray-400",children:c==="cross"?"Channel 2":"Direction"}),c==="cross"?u.jsx("select",{value:p,onChange:F=>m(F.target.value),className:"bg-gray-100 dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded px-2 py-1.5 text-xs text-gray-700 dark:text-slate-200 outline-none focus:ring-1 focus:ring-indigo-500",children:C.map(F=>u.jsx("option",{value:F,children:F},F))}):u.jsxs("div",{className:"flex h-[28px] bg-gray-100 dark:bg-slate-800 rounded border border-gray-200 dark:border-slate-700 p-0.5",children:[u.jsx("button",{onClick:()=>w("H"),className:`flex-1 text-[9px] font-bold rounded ${v==="H"?"bg-slate-300 dark:bg-slate-600 text-indigo-600 dark:text-indigo-400":"text-gray-400"}`,children:"Horiz"}),u.jsx("button",{onClick:()=>w("V"),className:`flex-1 text-[9px] font-bold rounded ${v==="V"?"bg-slate-300 dark:bg-slate-600 text-indigo-600 dark:text-indigo-400":"text-gray-400"}`,children:"Vert"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[u.jsx("button",{onClick:()=>T("single"),disabled:x,className:"w-full py-2 bg-indigo-600 hover:bg-indigo-500 disabled:bg-gray-400 text-white font-bold rounded shadow-md transition-all active:scale-95 text-xs",children:x&&O==="single"?"Calculating...":"Calc Current Frame"}),l&&l.length>0&&u.jsxs("button",{onClick:()=>T("stack"),disabled:x,className:"w-full py-2 bg-emerald-600 hover:bg-emerald-500 disabled:bg-gray-400 text-white font-bold rounded shadow-md transition-all active:scale-95 text-xs flex flex-col items-center justify-center",children:[u.jsx("span",{children:"Calc Stack Concatenated"}),x&&O==="stack"&&u.jsxs("span",{className:"text-[9px] font-normal opacity-80",children:["Progress: ",k," / ",l.length]})]})]}),y!==null&&u.jsxs("div",{className:"mt-2 p-4 bg-gray-50 dark:bg-slate-800/50 rounded-xl border border-gray-200 dark:border-slate-700 text-center animate-in fade-in slide-in-from-top-2",children:[u.jsxs("div",{className:"text-[10px] uppercase font-bold text-gray-400 dark:text-slate-500 mb-1",children:[c==="cross"?"Cross-Channel":`Self-Adj (${v})`," r"]}),u.jsx("div",{className:"text-2xl font-mono font-bold text-indigo-600 dark:text-indigo-400 select-all",style:{fontSize:"24px"},children:y.toFixed(5)}),u.jsxs("div",{className:"text-[9px] text-gray-400 mt-2 font-mono",children:["N = ",_.toLocaleString()," pairs"]}),u.jsx("div",{className:"mt-3 text-[10px] font-bold",children:Math.abs(y)>.5?u.jsx("span",{className:"text-red-500",children:"Significant Correlation"}):Math.abs(y)>.1?u.jsx("span",{className:"text-amber-500",children:"Weak Correlation"}):u.jsx("span",{className:"text-emerald-500",children:"Near-Zero (Uncorrelated)"})})]})]}),u.jsx("div",{className:"p-3 bg-gray-50/50 dark:bg-slate-800/30 text-[9px] text-gray-400 dark:text-slate-600 italic border-t border-gray-100 dark:border-slate-800",children:c==="cross"?"Comparing two color channels in the same Bayer 2x2 cells.":`Comparing pixel (r,c) with (r${v==="V"?"+2":""}, c${v==="H"?"+2":""}) in the same channel.`})]}):null},ZQ=[{href:"https://y-g-jiang.github.io/CBLD.html",text:" (Primary Source)",abbr:"CBLD",description:"ISO",highlight:!0},{href:"https://y-G-jiang.github.io/LAC.html",text:"",abbr:"LAC",description:""},{href:"https://y-G-jiang.github.io/CCGV.html",text:"adobeIECMF",abbr:"CCGV",description:"acrRAWxy"},{href:"https://y-G-jiang.github.io/JTJS.html",text:"",abbr:"JTJS",description:"CMF/"},{href:"https://y-G-jiang.github.io/XJZS.html",text:"",abbr:"XJZS",description:""}],QQ=["5","9","0","8","2","1","4","7","3","6"],pk=e=>!e||e==="--"?"--":String(e).split("").map(t=>{const r=parseInt(t);return isNaN(r)?t:QQ[r]}).join(""),JQ=({isOpen:e,onClose:t})=>{const[r,n]=j.useState({pv:"--",uv:"--"});return j.useEffect(()=>{if(e){const a=()=>{const i=document.getElementById("vercount_value_site_pv"),s=document.getElementById("vercount_value_site_uv");i&&s&&n({pv:i.innerText||"--",uv:s.innerText||"--"})};a();const o=setTimeout(a,1e3);return()=>clearTimeout(o)}},[e]),e?u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",onClick:t,children:u.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-3xl rounded-2xl shadow-2xl border border-gray-200 dark:border-slate-700 overflow-hidden flex flex-col max-h-[90vh]",onClick:a=>a.stopPropagation(),children:[u.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"About / Tools"}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 transition-colors p-1 rounded hover:bg-gray-200 dark:hover:bg-slate-700",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("div",{className:"p-6 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-slate-700 relative",children:[u.jsx("div",{className:"mb-8 p-4 bg-gray-50 dark:bg-slate-800/50 rounded-xl border border-gray-100 dark:border-slate-700 text-center",children:u.jsxs("p",{className:"text-lg text-gray-700 dark:text-slate-300",children:[u.jsx("span",{className:"font-bold mr-2",children:"about:"}),u.jsx("a",{href:"https://y-g-jiang.github.io/JOindex.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline break-all font-mono",children:"https://y-g-jiang.github.io/JOindex.html"})]})}),u.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[u.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 flex-1"}),u.jsx("span",{className:"text-sm font-bold text-gray-400 dark:text-slate-500 uppercase tracking-wider",children:"Primary Resources"}),u.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 flex-1"})]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-8",children:ZQ.map(a=>u.jsxs("a",{href:a.href,target:"_blank",rel:"noopener noreferrer",className:`group block p-4 rounded-xl border transition-all duration-200 relative overflow-hidden ${a.highlight?"border-cyan-500 dark:border-cyan-400 bg-cyan-50/30 dark:bg-cyan-900/10 shadow-lg scale-[1.02] ring-2 ring-cyan-500/20":"border-gray-200 dark:border-slate-700 bg-white dark:bg-slate-800/30 hover:bg-gray-50 dark:hover:bg-slate-800 hover:border-cyan-500"}`,children:[u.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-gradient-to-bl from-cyan-500/5 to-transparent -mr-8 -mt-8 rounded-full pointer-events-none group-hover:from-cyan-500/10 transition-colors"}),u.jsxs("div",{className:"flex items-center gap-3 mb-2 relative z-10",children:[u.jsx("span",{className:`px-2 py-1 text-xs font-bold rounded transition-colors border ${a.highlight?"bg-cyan-600 text-white border-cyan-500":"bg-gray-100 dark:bg-slate-700 text-gray-600 dark:text-slate-300 border-gray-200 dark:border-slate-600 group-hover:border-cyan-200"}`,children:a.abbr}),u.jsx("h3",{className:`font-bold transition-colors ${a.highlight?"text-cyan-700 dark:text-cyan-300":"text-gray-800 dark:text-slate-200 group-hover:text-cyan-600"}`,children:a.text})]}),u.jsx("p",{className:`text-xs pl-1 transition-colors relative z-10 ${a.highlight?"text-cyan-600/80 dark:text-cyan-400/80":"text-gray-500 dark:text-slate-400"}`,children:a.description})]},a.abbr))}),u.jsx("div",{className:"flex justify-end mt-4",children:u.jsx("div",{className:"bg-gray-50 dark:bg-slate-900/50 rounded border border-gray-200 dark:border-slate-800 p-1.5 opacity-40 hover:opacity-100 transition-opacity cursor-default select-none group",children:u.jsxs("div",{className:"font-mono text-[10px] text-gray-400 dark:text-slate-600 leading-tight text-right flex flex-col",children:[u.jsx("span",{className:"group-hover:text-indigo-400 transition-colors",children:pk(r.pv)}),u.jsx("span",{className:"group-hover:text-emerald-400 transition-colors",children:pk(r.uv)})]})})})]})]})}):null},eJ=({isOpen:e,onClose:t,data:r,fileName:n,warning:a})=>{const[o,i]=j.useState(""),s=d=>{const f=new WeakSet;try{return JSON.stringify(d,(h,p)=>{if(typeof p=="bigint")return p.toString()+"n";if(typeof p=="object"&&p!==null){if(f.has(p))return"[Circular]";if(f.add(p),ArrayBuffer.isView(p))return`[${p.constructor.name}]`}return p})}catch{return"[Unable to serialize object]"}},l=j.useMemo(()=>{if(!r)return[];const d=[],f=(h,p=0)=>{if(p>5)return"...";if(h==null)return String(h);if(h instanceof Date)return h.toLocaleString();if(typeof h=="number")return h.toString();if(typeof h=="string")return h;if(typeof h=="bigint")return h.toString()+"n";if(ArrayBuffer.isView(h))return`<${h.constructor.name} len=${h.length} bytes=${h.byteLength}>`;if(h instanceof ArrayBuffer)return`<ArrayBuffer bytes=${h.byteLength}>`;if(typeof h=="object"){if(Array.isArray(h))return h.length===0?"[]":h.length>20?`[${h.slice(0,10).map(w=>typeof w=="number"?w.toFixed(2):f(w,p+1)).join(", ")}, ... (+${h.length-10} more)]`:`[${h.map(v=>typeof v=="number"?Number.isInteger(v)?v:v.toFixed(4):f(v,p+1)).join(", ")}]`;try{const m=Object.keys(h);return m.length>5?`{Object with ${m.length} keys}`:s(h)}catch{return"<Complex Object>"}}return String(h)};try{if(typeof r!="object")return[{key:"Value",value:String(r)}];Object.keys(r).sort().forEach(p=>{if(p==="MakerNote"||p==="UserComment"||p.includes("Strip")||p.includes("Offset")){d.push({key:p,value:"<Binary/Internal Data>"});return}const m=r[p];d.push({key:p,value:f(m)})})}catch(h){console.error("Error processing EXIF data:",h),d.push({key:"Error",value:"Failed to process metadata structure."})}return d},[r]);if(!e)return null;const c=l.filter(d=>d.key.toLowerCase().includes(o.toLowerCase())||d.value.toLowerCase().includes(o.toLowerCase()));return u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",onClick:t,children:u.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-3xl max-h-[90vh] rounded-2xl shadow-2xl flex flex-col border border-gray-200 dark:border-slate-700",onClick:d=>d.stopPropagation(),children:[u.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-gray-200 dark:border-slate-700",children:[u.jsxs("div",{className:"overflow-hidden",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-slate-100",children:"EXIF Data"}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mt-1 font-mono truncate",children:n})]}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 transition-colors p-2 rounded-full hover:bg-gray-100 dark:hover:bg-slate-800",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a&&u.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 px-4 py-2 border-b border-amber-100 dark:border-amber-800/50 text-center",children:u.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400 whitespace-pre-line font-medium leading-relaxed",children:a})}),u.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50",children:u.jsxs("div",{className:"relative",children:[u.jsx("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),u.jsx("input",{type:"text",placeholder:"Search tags...",value:o,onChange:d=>i(d.target.value),className:"w-full pl-9 pr-4 py-2 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded-lg text-sm focus:ring-2 focus:ring-cyan-500 outline-none text-gray-900 dark:text-slate-100 transition-colors placeholder-gray-400"})]})}),u.jsx("div",{className:"overflow-y-auto flex-1 p-0 scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-slate-700",children:c.length>0?u.jsxs("table",{className:"w-full text-left border-collapse table-fixed",children:[u.jsx("thead",{className:"bg-gray-50 dark:bg-slate-800 sticky top-0 shadow-sm z-10",children:u.jsxs("tr",{children:[u.jsx("th",{className:"py-3 px-5 font-semibold text-xs text-gray-500 dark:text-slate-400 uppercase tracking-wider w-1/3 border-b border-gray-200 dark:border-slate-700",children:"Tag Name"}),u.jsx("th",{className:"py-3 px-5 font-semibold text-xs text-gray-500 dark:text-slate-400 uppercase tracking-wider w-2/3 border-b border-gray-200 dark:border-slate-700",children:"Value"})]})}),u.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-slate-800",children:c.map(d=>u.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-800/50 transition-colors group",children:[u.jsx("td",{className:"py-2 px-5 text-sm font-medium text-cyan-600 dark:text-cyan-400 font-mono break-words align-top",children:d.key}),u.jsx("td",{className:"py-2 px-5 text-sm text-gray-700 dark:text-slate-300 font-mono break-words align-top group-hover:text-gray-900 dark:group-hover:text-slate-100",children:d.value})]},d.key))})]}):u.jsx("div",{className:"flex flex-col items-center justify-center h-64 text-gray-400 dark:text-slate-500",children:u.jsxs("p",{children:['No tags found matching "',o,'"']})})}),u.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50 flex justify-end rounded-b-2xl",children:u.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-800 dark:text-white rounded-lg text-sm font-semibold transition-colors",children:"Close"})})]})})},tJ=100,Ap=e=>{if(e.length===0)return 0;if(e.length===1)return e[0];if(e.length===2)return .5*(e[0]+e[1]);let t=[...e].sort((r,n)=>r-n);for(;t.length>4;){let r=1/0,n=0;const a=t.length,o=Math.floor(a/2);for(let i=0;i<=a-o;i++){const s=t[i+o-1]-t[i];s<r&&(r=s,n=i)}t=t.slice(n,n+o)}return t.reduce((r,n)=>r+n,0)/t.length},gk=({min:e,max:t,value:r,onChange:n,vertical:a=!1,logScale:o=!1})=>{const i=j.useRef(null),s=j.useRef(null),l=j.useCallback(g=>{const x=o?Math.max(1e-6,e):e,S=o?Math.max(x*1.0001,t):t,k=Math.max(x,Math.min(S,g));if(o){const b=Math.log10(x),_=Math.log10(S);return(Math.log10(k)-b)/(_-b)}return(k-x)/(S-x)},[e,t,o]),c=j.useCallback(g=>{const x=o?Math.max(1e-6,e):e,S=o?Math.max(x*1.0001,t):t;if(o){const k=Math.log10(x),b=Math.log10(S);return Math.pow(10,k+g*(b-k))}return x+g*(S-x)},[e,t,o]),d=(g,x)=>{g.preventDefault(),g.stopPropagation(),s.current=x;const S=b=>{if(!s.current||!i.current)return;const _=i.current.getBoundingClientRect();let N=0;a?N=(_.bottom-b.clientY)/_.height:N=(b.clientX-_.left)/_.width,N=Math.max(0,Math.min(1,N));const O=c(N);if(s.current==="min"){const P=r[1];n([Math.min(O,P),P])}else{const P=r[0];n([P,Math.max(O,P)])}},k=()=>{s.current=null,window.removeEventListener("mousemove",S),window.removeEventListener("mouseup",k)};window.addEventListener("mousemove",S),window.addEventListener("mouseup",k)},f=l(r[0])*100,h=l(r[1])*100,p=a?{left:"50%",top:0,bottom:0,width:"4px",transform:"translateX(-50%)"}:{top:"50%",left:0,right:0,height:"4px",transform:"translateY(-50%)"},m=a?{left:"50%",bottom:`${f}%`,height:`${h-f}%`,width:"4px",transform:"translateX(-50%)"}:{top:"50%",left:`${f}%`,width:`${h-f}%`,height:"4px",transform:"translateY(-50%)"},v="absolute w-3 h-3 bg-white border-2 border-cyan-600 rounded-full shadow-md cursor-pointer hover:scale-125 transition-transform z-10",w=a?{left:"50%",bottom:`${f}%`,transform:"translate(-50%, 50%)"}:{top:"50%",left:`${f}%`,transform:"translate(-50%, -50%)"},y=a?{left:"50%",bottom:`${h}%`,transform:"translate(-50%, 50%)"}:{top:"50%",left:`${h}%`,transform:"translate(-50%, -50%)"};return u.jsxs("div",{ref:i,className:`relative select-none ${a?"h-full w-4 py-2":"w-full h-4 px-2"}`,children:[u.jsx("div",{className:"absolute bg-gray-300 dark:bg-slate-600 rounded-full",style:p}),u.jsx("div",{className:"absolute bg-cyan-500 dark:bg-cyan-400 rounded-full",style:m}),u.jsx("div",{className:v,style:w,onMouseDown:g=>d(g,"min")}),u.jsx("div",{className:v,style:y,onMouseDown:g=>d(g,"max")})]})},rJ=({isOpen:e,onClose:t,data:r,blackLevel:n,imageHeight:a,isBGGR:o,importedMetadata:i,theme:s,initialCameraModel:l,initialISO:c})=>{const[d,f]=j.useState("Noise"),[h,p]=j.useState(!0),[m,v]=j.useState(null),[w,y]=j.useState("default"),[g,x]=j.useState(!1),[S,k]=j.useState(!1),[b,_]=j.useState({R:!0,G1:!0,G2:!0,B:!0}),[N,O]=j.useState(""),[P,A]=j.useState(""),[C,T]=j.useState(""),[F,D]=j.useState(""),[U,M]=j.useState("10"),[E,R]=j.useState(""),[G,Q]=j.useState("0 0 0 0"),[X,L]=j.useState("0 0 0 0"),[ee,Z]=j.useState(!1),[$,ae]=j.useState(null),[ue,Y]=j.useState(!1),[se,ge]=j.useState(0),[K,he]=j.useState([]),[pe,oe]=j.useState(""),[_e,be]=j.useState(""),Ie=()=>{const z=parseFloat(pe),J=parseFloat(_e);!isNaN(z)&&!isNaN(J)&&(he([...K,{id:Date.now(),x:z,y:J}]),oe(""),be(""))},[dt,Pe]=j.useState(()=>localStorage.getItem("ptc_tester_name")||""),[Be,ut]=j.useState(""),[vt,mr]=j.useState("");j.useEffect(()=>{localStorage.setItem("ptc_tester_name",dt)},[dt]);const Ke=j.useRef(ee),yr=j.useRef(ue),Fe=j.useRef(se);j.useEffect(()=>{Ke.current=ee,yr.current=ue,Fe.current=se},[ee,ue,se]);const[Zt,Gt]=j.useState(null),[Qt,Ht]=j.useState({min:.01,max:90}),[ht,$e]=j.useState({readNoise:0,gain:1,prnu:.5}),[pt,At]=j.useState(2e6),vr=j.useRef(ht),gn=j.useRef(Qt),Mn=j.useRef(pt);j.useEffect(()=>{vr.current=ht,gn.current=Qt,Mn.current=pt},[ht,Qt,pt]);const[nr,An]=j.useState({read:"0",gain:"1.0",prnu:"0.5",rangeMin:"0.01",rangeMax:"90"}),[Ye,ar]=j.useState({read:!0,shot:!0,prnu:!0,total:!0,fitRange:!0}),[lr,Mr]=j.useState(!1),[rn,Ar]=j.useState([]),[Cn,Hn]=j.useState(null),[Vn,nn]=j.useState(""),oa=j.useMemo(()=>n?n.join(","):"",[n]);j.useEffect(()=>{if(e){let z="0 0 0 0";i&&i.blackLevel?z=i.blackLevel.join(" "):z=n&&n.length===4?n.join(" "):"0 0 0 0",Q(z),L(z);let J="";if(i&&i.height?J=i.height.toString():a&&(J=a.toString()),R(J),J){const re=parseFloat(J);!isNaN(re)&&re>0?M((2309.4/re).toFixed(2)):M("10")}else M("10");ae(null),Z(!1),Y(!1),ge(0),Ar([]),Hn(null),Ht({min:.01,max:90}),An({read:"0",gain:"0",prnu:"0",rangeMin:"0.01",rangeMax:"90"}),$e({readNoise:0,gain:0,prnu:0}),O(""),A(""),T(""),D(""),f("Noise"),Gt(null),At(2e6),nn(""),k(!1),he([]),ut(re=>re.trim()===""&&l?l:re),mr(re=>re.trim()===""&&c?c:re)}},[e,oa,i,a,r,l,c]);const an=z=>{if(z.key==="Enter"){const J=parseFloat(E);if(!isNaN(J)&&J>0){const re=(2309.4/J).toFixed(2);M(re)}z.target.blur()}},Jt=j.useMemo(()=>{let J=X.trim().split(/[\s,]+/).filter(Boolean).map(Number);for(J.length===1&&(J=[J[0],J[0],J[0],J[0]]);J.length<4;)J.push(0);const re=B=>{switch(B){case"R":return J[0];case"G1":return J[1];case"G2":return J[2];case"B":return J[3];default:return 0}};return r.map(B=>{const de=B.mean-re(B.channel),Oe=B.std>0?de/B.std:0;return{...B,x:de,std:B.std,snr:Oe}}).filter(B=>B.std>0)},[r,X]),cr=j.useMemo(()=>{const z=ht.readNoise,J=z*z;return Jt.map(re=>{let B=0;if(d==="Noise")B=re.std;else if(d==="SNR")B=re.snr;else if(d==="Linear"){const Oe=re.std*re.std-J;B=re.x!==0?Oe/re.x:0}return{...re,y:B}})},[Jt,d,ht.readNoise]),Ct=j.useMemo(()=>{if(Jt.length===0)return"G1";const z={R:0,G1:0,G2:0,B:0},J={R:0,G1:0,G2:0,B:0};for(const de of Jt)z[de.channel]+=de.x,J[de.channel]++;let re="G1",B=-1/0;return Object.keys(z).forEach(de=>{const Oe=J[de],De=Oe>0?z[de]/Oe:-1/0;De>B&&(B=De,re=de)}),re},[Jt]),ie=j.useCallback(()=>{let z=1/0,J=-1/0;if(Jt.length===0)return{min:.1,max:1};for(let re=0;re<Jt.length;re++){const B=Jt[re].x;h&&B<=0||(B<z&&(z=B),B>J&&(J=B))}return z===1/0?{min:.1,max:1}:{min:z,max:J}},[Jt,h]),Ae=j.useCallback(()=>{let z=1/0,J=-1/0;if(cr.length===0)return{min:.1,max:1};for(let re=0;re<cr.length;re++){const B=cr[re].y;h&&B<=0||(B<z&&(z=B),B>J&&(J=B))}return z===1/0?{min:.1,max:1}:{min:z*.9,max:J*1.1}},[cr,h]),{min:Ue,max:ct}=ie(),{min:qe,max:wt}=Ae(),ur=ct*(Qt.min/100),fr=ct*(Qt.max/100),ze=j.useMemo(()=>{if(!h&&cr.length===0)return{shot:[],read:[],prnu:[],total:[]};const z=N?parseFloat(N):Ue,J=P?parseFloat(P):ct,re=100,B=Math.max(.1,z),de=Math.max(1,J);if(B>=de)return{shot:[],read:[],prnu:[],total:[]};const Oe=Math.log10(B),et=(Math.log10(de)-Oe)/re,Qe=ht.readNoise,Ge=ht.gain>0?ht.gain:1,$t=ht.prnu/100,tt=[],Bt=[],hr=[],le=[];for(let Je=0;Je<=re;Je++){const Ce=Math.pow(10,Oe+Je*et);if(d==="Linear"){const Ft=1/Ge,kt=$t*$t,yn=Ft+kt*Ce;le.push({x:Ce,y:yn}),tt.push({x:Ce,y:Ft}),hr.push({x:Ce,y:kt*Ce})}else{const Ft=Qe,kt=Math.sqrt(Ce/Ge),yn=$t*Ce,mt=Math.sqrt(Ft*Ft+kt*kt+yn*yn);d==="Noise"?(tt.push({x:Ce,y:kt}),Bt.push({x:Ce,y:Ft}),hr.push({x:Ce,y:yn}),le.push({x:Ce,y:mt})):(kt>0&&tt.push({x:Ce,y:Ce/kt}),Ft>0&&Bt.push({x:Ce,y:Ce/Ft}),yn>0&&hr.push({x:Ce,y:Ce/yn}),mt>0&&le.push({x:Ce,y:Ce/mt}))}}return{shot:tt,read:Bt,prnu:hr,total:le}},[cr,h,N,P,ht,d,Ue,ct]),Ze=j.useMemo(()=>{if(d==="Linear")return[];const z=parseFloat(U);if(isNaN(z)||z<=0)return[];const J=N?parseFloat(N):Ue,re=P?parseFloat(P):ct;return d==="SNR"?[{x:J,y:z},{x:re,y:z}]:[{x:J,y:J/z},{x:re,y:re/z}]},[cr,U,d,N,P,Ue,ct]),xt=j.useCallback((z,J)=>{if(!J||J.length===0)return null;const re=[...J].sort((B,de)=>B.x-de.x);for(let B=0;B<re.length-1;B++){const de=re[B],Oe=re[B+1];if(de.snr<=z&&Oe.snr>=z||de.snr>=z&&Oe.snr<=z){const De=(z-de.snr)/(Oe.snr-de.snr);return de.x+De*(Oe.x-de.x)}}return null},[]),gt=j.useMemo(()=>{const z=Jt,J=1e3,re=de=>{if(de.length===0)return[];if(de.length<=J)return de;const Oe=[...de].sort((Qe,Ge)=>Qe.x-Ge.x),De=[],et=Oe.length/J;for(let Qe=0;Qe<J;Qe++){const Ge=Math.floor(Qe*et),$t=Math.floor((Qe+1)*et),tt=Oe.slice(Ge,$t);if(tt.length===0)continue;tt.sort((hr,le)=>hr.std-le.std);const Bt=Math.floor(tt.length/2);De.push(tt[Bt])}return De},B={R:[],G1:[],G2:[],B:[]};return z.forEach(de=>{B[de.channel]&&B[de.channel].push(de)}),{R:re(B.R),G1:re(B.G1),G2:re(B.G2),B:re(B.B)}},[Jt]),Tt=j.useMemo(()=>$&&ht.gain?$*ht.gain:null,[$,ht.gain]),me=j.useMemo(()=>{if($===null||$===0)return null;const z=parseFloat(U);let J=null;if(!isNaN(z)&&z>0){let De=0,et=0;if(["R","G1","G2","B"].forEach(Qe=>{const Ge=xt(z,gt[Qe]);Ge!==null&&(De+=Ge,et++)}),et>0){const Qe=De/et;J=Math.log2($/Qe)}}const re=parseFloat(E);let B=null,de=NaN;if(!isNaN(re)&&re>0){de=16e3/re;let De=0,et=0;if(["R","G1","G2","B"].forEach(Qe=>{const Ge=xt(de,gt[Qe]);Ge!==null&&(De+=Ge,et++)}),et>0){const Qe=De/et;B=Math.log2($/Qe)}}let Oe=null;if(!isNaN(re)&&re>0){const De=xt(de,gt[Ct]);De!==null&&(Oe=Math.log2($/De))}return{manualDR:J,ptpDR:B,d55DR:Oe,manualTarget:z,ptpTarget:de,saturationSignal:$,dominantChannel:Ct}},[$,U,E,gt,xt,Ct]),Fr=j.useMemo(()=>{if(d==="Linear"||!me||!me.ptpTarget||isNaN(me.ptpTarget))return[];const z=me.ptpTarget,J=N?parseFloat(N):Ue,re=P?parseFloat(P):ct;return d==="SNR"?[{x:J,y:z},{x:re,y:z}]:[{x:J,y:J/z},{x:re,y:re/z}]},[d,me,N,P,Ue,ct]),eo=j.useCallback(()=>{const re=document.createElement("canvas");re.width=2048,re.height=1536;const B=re.getContext("2d");if(!B)return;const de=s==="dark",Oe=de?"#0f172a":"#ffffff",De=de?"#ffffff":"#000000",et=de?"#475569":"#cbd5e1",Qe=de?"#1e293b":"#f1f5f9",Ge=o?{R:"#ef4444",G1:"#22c55e",G2:"#4ade80",B:"#3b82f6"}:{R:"#ef4444",G1:"#22c55e",G2:"#4ade80",B:"#3b82f6"};B.fillStyle=Oe,B.fillRect(0,0,2048,1536);let $t=N?parseFloat(N):Ue,tt=P?parseFloat(P):ct,Bt=C?parseFloat(C):qe,hr=F?parseFloat(F):wt;isNaN($t)&&($t=.1),isNaN(tt)&&(tt=1e4),isNaN(Bt)&&(Bt=.1),isNaN(hr)&&(hr=1e3);const le={top:80,right:80,bottom:100,left:120},Je=2048-le.left-le.right,Ce=1536-le.top-le.bottom,Ft=Se=>{if(h){const rt=Math.log10(Math.max(1e-9,$t)),nt=Math.log10(Math.max(1e-9,tt)),at=Math.log10(Math.max(1e-9,Se));return le.left+(at-rt)/(nt-rt)*Je}else return le.left+(Se-$t)/(tt-$t)*Je},kt=Se=>{if(h){const rt=Math.log10(Math.max(1e-9,Bt)),nt=Math.log10(Math.max(1e-9,hr)),at=Math.log10(Math.max(1e-9,Se));return le.top+Ce-(at-rt)/(nt-rt)*Ce}else return le.top+Ce-(Se-Bt)/(hr-Bt)*Ce};if(B.beginPath(),h){const Se=(rt,nt,at)=>{const xn=Math.log10(Math.max(1e-9,rt)),bn=Math.log10(Math.max(1e-9,nt)),ia=Math.floor(xn),ao=Math.ceil(bn);for(let Co=ia;Co<=ao;Co++){const Ia=Math.pow(10,Co);let er=at?Ft(Ia):kt(Ia);(at?er>=le.left-1&&er<=le.left+Je+1:er>=le.top-1&&er<=le.top+Ce+1)&&(B.lineWidth=1.5,B.strokeStyle=et,B.beginPath(),at?(B.moveTo(er,le.top),B.lineTo(er,le.top+Ce)):(B.moveTo(le.left,er),B.lineTo(le.left+Je,er)),B.stroke()),B.lineWidth=.5,B.strokeStyle=Qe;for(let Bl=2;Bl<10;Bl++){const Vu=Bl*Ia;er=at?Ft(Vu):kt(Vu),(at?er>=le.left&&er<=le.left+Je:er>=le.top&&er<=le.top+Ce)&&(B.beginPath(),at?(B.moveTo(er,le.top),B.lineTo(er,le.top+Ce)):(B.moveTo(le.left,er),B.lineTo(le.left+Je,er)),B.stroke())}}};Se($t,tt,!0),Se(Bt,hr,!1)}else{B.strokeStyle=et,B.lineWidth=1;for(let Se=0;Se<=5;Se++){const rt=le.left+Je*Se/5;B.beginPath(),B.moveTo(rt,le.top),B.lineTo(rt,le.top+Ce),B.stroke();const nt=le.top+Ce*Se/5;B.beginPath(),B.moveTo(le.left,nt),B.lineTo(le.left+Je,nt),B.stroke()}}B.strokeStyle=De,B.lineWidth=2,B.strokeRect(le.left,le.top,Je,Ce);const yn=(Se,rt,nt)=>{Se<le.left||Se>le.left+Je||rt<le.top||rt>le.top+Ce||(B.fillStyle=nt,B.fillRect(Se-1.5,rt-1.5,3,3))},mt=cr.filter(Se=>!(h&&(Se.x<=0||Se.y<=0)));mt.forEach(Se=>{b[Se.channel]&&Se.channel!==Ct&&yn(Ft(Se.x),kt(Se.y),Ge[Se.channel])}),mt.forEach(Se=>{b[Se.channel]&&Se.channel===Ct&&yn(Ft(Se.x),kt(Se.y),Ge[Se.channel])}),K.forEach(Se=>{const rt=Ft(Se.x),nt=kt(Se.y);if(rt<le.left||rt>le.left+Je||nt<le.top||nt>le.top+Ce)return;B.strokeStyle="#d946ef",B.lineWidth=2.5;const at=6;B.beginPath(),B.moveTo(rt-at,nt-at),B.lineTo(rt+at,nt+at),B.moveTo(rt+at,nt-at),B.lineTo(rt-at,nt+at),B.stroke()});const Sr=(Se,rt,nt=[])=>{if(Se.length<2)return;B.beginPath(),B.strokeStyle=rt,B.lineWidth=3,B.setLineDash(nt);let at=!1;for(const xn of Se){const bn=Ft(xn.x),ia=kt(xn.y);if(bn<le.left-100||bn>le.left+Je+100||ia<le.top-100||ia>le.top+Ce+100){at=!1;continue}at?B.lineTo(bn,ia):(B.moveTo(bn,ia),at=!0)}B.stroke(),B.setLineDash([])},Cr=de?"#ffffff":"#000000";if(Ye.shot&&Sr(ze.shot,"#94a3b8",[5,5]),Ye.read&&Sr(ze.read,"#f43f5e",[3,3]),Ye.prnu&&Sr(ze.prnu,"#f59e0b",[3,3]),Ye.total&&Sr(ze.total,Cr,[]),Ze.length===2){const Se="#6366f1";Sr(Ze,Se,[4,2]);const rt=Ze[1],nt=kt(rt.y);nt>=le.top&&nt<=le.top+Ce&&(B.fillStyle=Se,B.font="bold 20px sans-serif",B.textAlign="right",B.textBaseline="bottom",B.fillText(`M.Tgt=${U}`,le.left+Je-10,nt-8))}if(Fr.length===2&&(me!=null&&me.ptpTarget)){const Se="#10b981";Sr(Fr,Se,[4,4]);const rt=Fr[1],nt=kt(rt.y);if(nt>=le.top&&nt<=le.top+Ce){B.fillStyle=Se,B.font="bold 20px sans-serif",B.textAlign="right",B.textBaseline="bottom";const at=me.ptpTarget.toFixed(1),xn=Ze.length===2?kt(Ze[1].y):-100,bn=Math.abs(nt-xn)<25?25:0;B.fillText(`PTP=${at}`,le.left+Je-10,nt-8-bn)}}if(Ye.fitRange||ue){const Se=(rt,nt)=>{const at=Ft(rt);at>=le.left&&at<=le.left+Je&&(B.beginPath(),B.strokeStyle=nt,B.lineWidth=2,B.setLineDash([8,8]),B.moveTo(at,le.top),B.lineTo(at,le.top+Ce),B.stroke(),B.setLineDash([]))};Se(ur,"#22d3ee"),Se(fr,"#22d3ee")}if($){const Se=Ft($);Se>=le.left&&Se<=le.left+Je&&(B.strokeStyle="#ef4444",B.lineWidth=3,B.setLineDash([10,10]),B.beginPath(),B.moveTo(Se,le.top),B.lineTo(Se,le.top+Ce),B.stroke(),B.setLineDash([]),B.fillStyle="#ef4444",B.font="bold 24px sans-serif",B.textAlign="center",B.fillText("Sat",Se,le.top-10))}B.fillStyle=De,B.font="28px monospace",B.textAlign="center",B.fillText($t.toExponential(1),le.left,le.top+Ce+40),B.fillText(tt.toExponential(1),le.left+Je,le.top+Ce+40),B.fillText("Signal (DN)",le.left+Je/2,le.top+Ce+80),B.textAlign="right",B.textBaseline="middle",B.fillText(Bt.toExponential(1),le.left-20,le.top+Ce),B.fillText(hr.toExponential(1),le.left-20,le.top),B.save(),B.translate(le.left-80,le.top+Ce/2),B.rotate(-Math.PI/2),B.textAlign="center",B.fillText(d==="Linear"?"(Var - RN) / Mean":d,0,0),B.restore(),B.save(),B.translate(2048/2,1536/2),B.rotate(-Math.PI/6),B.textAlign="center",B.textBaseline="middle",B.fillStyle=de?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)",B.font="bold 150px sans-serif",B.fillText(" y-g-jiang.github.io",0,0),B.restore(),B.fillStyle=De,B.font="bold 36px sans-serif",B.textAlign="left",B.textBaseline="top",B.fillText(`PTC Export: ${d} Mode`,le.left,20),B.font="24px sans-serif",B.fillStyle=de?"#94a3b8":"#64748b",B.fillText(`Points: ${cr.length} | Sat Channel: ${Ct}`,le.left,65);const no=le.left+30,Ll=le.top+30,k0=70,Uu=Se=>{if(!$||Se<=0)return"--";const rt=ht.readNoise,nt=ht.gain,at=ht.prnu/100;if(nt<=0)return"--";const xn=Se*Se,bn=rt*rt,ia=1-xn*at*at,ao=-(xn/nt),Co=-(xn*bn);let Ia=0;if(Math.abs(ia)<1e-8)Math.abs(ao)>1e-8&&(Ia=-Co/ao);else{const er=ao*ao-4*ia*Co;er>=0&&(Ia=(-ao+Math.sqrt(er))/(2*ia))}return Ia>0?Math.log2($/Ia).toFixed(2)+" EV":"--"},S0=me!=null&&me.ptpTarget&&!isNaN(me.ptpTarget)?Uu(me.ptpTarget):"--",j0=U?Uu(parseFloat(U)):"--";B.font="bold 48px monospace",B.textAlign="left",B.textBaseline="top",B.shadowColor=de?"rgba(0,0,0,0.8)":"rgba(255,255,255,0.8)",B.shadowBlur=4,B.shadowOffsetX=1,B.shadowOffsetY=1;const vn=(Se,rt,nt,at)=>{const xn=Ll+nt*k0;B.fillStyle=De,B.fillText(Se,no,xn);const bn=B.measureText(Se).width;B.fillStyle=at||De,B.fillText(rt,no+bn,xn)},_0=nr.read,N0=parseFloat(nr.gain).toFixed(3),is=parseFloat(nr.prnu).toFixed(2)+"%";let Wu=`M.DR@SNR${U}: `;const Il=parseFloat(E);if(!isNaN(Il)&&Il>0){const Se=(2309.4/Il).toFixed(2);Math.abs(parseFloat(U)-parseFloat(Se))<.05&&(Wu="8mpSNR=1 DR: ")}vn("Tester: ",dt||"N/A",0),vn("Model : ",Be||"Unknown",1),vn("ISO   : ",vt||"N/A",2),vn("RN/FPN: ",_0,3,"#f43f5e"),vn("KADC  : ",N0,4,"#06b6d4"),vn("PRNU  : ",is,5,"#f59e0b"),vn("PTP DR: ",me!=null&&me.ptpDR?me.ptpDR.toFixed(2)+" EV":"--",6,"#10b981"),vn("D55 DR: ",me!=null&&me.d55DR?me.d55DR.toFixed(2)+" EV":"--",7,"#8b5cf6"),vn("FWC   : ",Tt?Tt>1e4?(Tt/1e3).toFixed(1)+"k":Math.round(Tt).toString():"--",8,"#f97316"),vn(Wu,me!=null&&me.manualDR?me.manualDR.toFixed(2)+" EV":"--",9,"#06b6d4"),vn("PTCFitDR(PTP): ",S0,10,"#10b981"),vn("PTCFitDR(Man): ",j0,11,"#06b6d4"),B.save(),B.textAlign="right",B.textBaseline="bottom",B.fillStyle="#3b82f6",B.font="bold 80px sans-serif",B.shadowColor=de?"rgba(0,0,0,0.8)":"rgba(255,255,255,0.8)",B.shadowBlur=4,B.shadowOffsetX=2,B.shadowOffsetY=2;const Gu=1988,Hu=1476,ss=90;B.fillText("Online",Gu,Hu),B.fillText("Jiangtherapee",Gu,Hu-ss),B.restore();const ls=document.createElement("a");ls.download=`ptc_complete_${d}_${Date.now()}.jpg`,ls.href=re.toDataURL("image/jpeg",.9),ls.click()},[cr,Ct,b,N,P,C,F,Ue,ct,qe,wt,h,s,d,$,o,Ye,ze,ur,fr,Qt,ue,dt,Be,vt,me,Tt,U,Ze,Fr,nr,E,K]),Xn=j.useMemo(()=>{let z=cr;if(h&&(z=z.filter(de=>de.y>0&&de.x>0)),w==="top3"){const de=[...z].sort((De,et)=>et.x-De.x),Oe=Math.max(50,Math.ceil(de.length*.03));z=de.slice(0,Oe)}const J={R:[],G1:[],G2:[],B:[]};if(z.forEach(de=>{J[de.channel]&&J[de.channel].push(de)}),w==="raw")return J;const re=w==="top3"?500:tJ,B=de=>{if(de.length<=re)return de;const Oe=[...de].sort((Qe,Ge)=>Qe.x-Ge.x),De=[],et=Oe.length/re;for(let Qe=0;Qe<re;Qe++){const Ge=Math.floor(Qe*et),$t=Math.floor((Qe+1)*et),tt=Oe.slice(Ge,$t);if(tt.length===0)continue;tt.sort((hr,le)=>hr.y-le.y);const Bt=Math.floor(tt.length/2);De.push(tt[Bt])}return De};return{R:B(J.R),G1:B(J.G1),G2:B(J.G2),B:B(J.B)}},[cr,w,h]),En=j.useMemo(()=>{if(Jt.length<5)return[];const z=Jt.filter(re=>re.channel===Ct);return[...z.length>20?z:Jt].sort((re,B)=>re.x-B.x).map(re=>({mean:re.x,std:re.std}))},[Jt,Ct]),Rl=z=>{const J=z.length;if(J===0)return[];const re=z.reduce((Je,Ce)=>Je+Ce,0)/J,B=z.reduce((Je,Ce)=>Je+Math.pow(Ce-re,2),0)/(J-1||1),de=Math.sqrt(B);if(de===0)return[{x:re-.001,density:0},{x:re,density:1},{x:re+.001,density:0}];const Oe=1.06*de*Math.pow(J,-.2),De=Math.min(...z),et=Math.max(...z),Qe=(et-De)*.2||De*.1,Ge=Math.max(0,De-Qe),$t=et+Qe,tt=100,Bt=($t-Ge)/(tt-1),hr=Je=>1/Math.sqrt(2*Math.PI)*Math.exp(-.5*Je*Je),le=[];for(let Je=0;Je<tt;Je++){const Ce=Ge+Je*Bt;let Ft=0;for(let kt=0;kt<J;kt++)Ft+=hr((Ce-z[kt])/Oe);Ft/=J*Oe,le.push({x:Ce,density:Ft})}return le},mn=j.useCallback((z,J,re,B)=>{if(z.length<5)return{gain:0,prnu:0};const de=z[z.length-1].mean,Oe=de*(re.min/100),De=de*(re.max/100),et=z.filter(mt=>mt.mean>=Oe&&mt.mean<=De);if(et.length<5)return{gain:0,prnu:0};Gt({nPoints:et.length});const Qe=J*J,Ge=[],$t=[];if(et.forEach(mt=>{const Cr=mt.std*mt.std-Qe;if(mt.mean>1&&Cr>0){const no=mt.mean,Ll=Cr/mt.mean;Ge.push({x:no,y:Ll}),$t.push(mt.mean/Cr)}}),Ge.length<5)return{gain:0,prnu:0};const tt=[],Bt=Ge.length,hr=B,le=Bt*(Bt-1)/2;if(le<=hr)for(let mt=0;mt<Bt;mt++)for(let Sr=mt+1;Sr<Bt;Sr++){const Cr=Ge[Sr].x-Ge[mt].x;Math.abs(Cr)>1e-5&&tt.push((Ge[Sr].y-Ge[mt].y)/Cr)}else{const mt=Math.max(1,Math.floor(le/hr));for(let Sr=0;Sr<Bt;Sr++)for(let Cr=Sr+1;Cr<Bt;Cr+=mt){const no=Ge[Cr].x-Ge[Sr].x;Math.abs(no)>1e-5&&tt.push((Ge[Cr].y-Ge[Sr].y)/no)}}const Je=Ap(tt),Ce=Ge.map(mt=>mt.y-Je*mt.x),Ft=Ap(Ce);let kt=0,yn=0;if(Ft>1e-6?kt=1/Ft:kt=Ap($t),Je>0&&(yn=Math.sqrt(Je)*100),$t.length>0){const mt=Rl($t);Ar(mt),Hn(kt)}else Ar([]);return{gain:kt,prnu:yn}},[]),V=j.useCallback(z=>{let J=z.read??vr.current.readNoise;const re=z.gRange??gn.current,B=Mn.current;if((z.read!==void 0||z.gRange!==void 0)&&z.gain===void 0&&z.prnu===void 0&&En.length>0&&J>=0)k(!0),setTimeout(()=>{const Oe=mn(En,J,re,B);let De=vr.current.gain,et=vr.current.prnu;Oe.gain>0&&(De=Oe.gain,et=Oe.prnu),$e({readNoise:J,gain:De,prnu:et}),z.gRange!==void 0&&Ht(z.gRange),An(Qe=>{var Ge,$t;return{...Qe,read:J.toString(),gain:De>0?De.toFixed(3):"0",prnu:et.toFixed(2),rangeMin:(((Ge=z.gRange)==null?void 0:Ge.min)??Qe.rangeMin).toString(),rangeMax:((($t=z.gRange)==null?void 0:$t.max)??Qe.rangeMax).toString()}}),k(!1)},50);else{let Oe=z.gain!==void 0?z.gain:vr.current.gain,De=z.prnu!==void 0?z.prnu:vr.current.prnu;$e({readNoise:J,gain:Oe,prnu:De}),z.gRange!==void 0&&Ht(z.gRange),An(et=>{var Qe,Ge;return{...et,read:J.toString(),gain:Oe>0?Oe.toFixed(3):"0",prnu:De.toFixed(2),rangeMin:(((Qe=z.gRange)==null?void 0:Qe.min)??et.rangeMin).toString(),rangeMax:(((Ge=z.gRange)==null?void 0:Ge.max)??et.rangeMax).toString()}})}},[En,mn]),je=`${X}-${r.length}`;j.useEffect(()=>{if(!e||!r||r.length===0)return;const z=Xn[Ct];if(!z||z.length===0||Vn===je)return;_({R:Ct==="R",G1:Ct==="G1",G2:Ct==="G2",B:Ct==="B"});const J=[...z].sort((Oe,De)=>Oe.x-De.x);let re=0;J.length>0&&(re=J[0].std);const B=Jt.filter(Oe=>Oe.channel===Ct);let de=-1/0;for(const Oe of B)Oe.x>de&&(de=Oe.x);de!==-1/0&&ae(de),V({read:re}),nn(je)},[e,r,Vn,je,Xn,Ct,V,Jt]);const _t=(z,J)=>{An(re=>({...re,[z]:J}))},Lt=z=>{let J=parseFloat(nr[z]);isNaN(J)||J<0||V({[z]:J})},Tn=()=>{L(G),nn("")},dr=()=>{const z=parseFloat(nr.rangeMin),J=parseFloat(nr.rangeMax);!isNaN(z)&&!isNaN(J)&&z<J&&z>=0&&J<=100&&V({gRange:{min:z,max:J}})},Yr=(z,J)=>{z.key==="Enter"&&(J==="rangeMin"||J==="rangeMax"?dr():Lt(J),z.target.blur())};j.useEffect(()=>{En.length>0&&V({})},[pt,En]);const $n=z=>{_(J=>({...J,[z]:!J[z]}))},pi=()=>{y(z=>z==="top3"?"default":"top3")},to=()=>{w==="raw"?y("default"):x(!0)},Kn=()=>{x(!1),y("raw")},ro=(z,J)=>{const re=parseFloat(z),B=parseFloat(J);let de=isNaN(re)?"auto":re,Oe=isNaN(B)?"auto":B;return h&&typeof de=="number"&&de<=0&&(de="auto"),[de,Oe]},zr=z=>{if(!z||!z.payload)return;const J=z.payload;if(v(J),Ke.current&&(ae(J.x),Z(!1)),yr.current){const re=gn.current.min,B=gn.current.max,{max:de}=ie();if(de<=0)return;const Oe=Math.max(0,Math.min(100,J.x/de*100));if(Fe.current===1){const De=Math.min(Oe,B-.5);V({gRange:{min:De,max:B}}),ge(2)}else if(Fe.current===2){const De=Math.max(Oe,re+.5);V({gRange:{min:re,max:De}}),ge(0),Y(!1)}}},La=j.useCallback(z=>{const{cx:J,cy:re,fill:B}=z;return u.jsx("circle",{cx:J,cy:re,r:3,fill:B,stroke:"none",style:{cursor:"pointer"}})},[]),It=({active:z,payload:J})=>{if(z&&J&&J.length){const re=J[0].payload;return u.jsxs("div",{className:"bg-slate-800 text-white text-xs p-2 rounded border border-slate-600 shadow-xl opacity-90 font-mono z-50",children:[u.jsx("div",{className:"font-bold border-b border-slate-600 pb-1 mb-1",children:re.channel}),u.jsxs("div",{children:["Signal: ",re.x.toFixed(2)]}),u.jsxs("div",{children:[d,": ",re.y.toFixed(4)]}),re.row!==void 0&&re.col!==void 0&&!isNaN(re.row)&&!isNaN(re.col)&&u.jsxs("div",{className:"text-cyan-400 mt-0.5",children:["Loc: Row ",re.row,", Col ",re.col]}),re.filename&&u.jsx("div",{className:"text-gray-400 mt-1 max-w-[200px] truncate",title:re.filename,children:re.filename})]})}return null},ns=z=>{f(z),z==="Linear"&&p(!1)};if(!e)return null;const lt=s==="dark"?"#ffffff":"#000000";let as=d;d==="Linear"&&(as="(Var - RN) / Mean");const os=G!==X;return u.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in",onClick:z=>{z.stopPropagation()},children:u.jsxs("div",{className:"bg-white dark:bg-slate-900 w-[98vw] max-w-[2200px] h-[95vh] rounded-2xl shadow-2xl flex flex-col border border-gray-200 dark:border-slate-700 overflow-hidden relative",onClick:z=>z.stopPropagation(),children:[u.jsx(ti,{isOpen:g,onClose:()=>x(!1),onConfirm:Kn,title:"Warning: High Performance Cost",message:"Displaying all data points may cause the browser to freeze or become unresponsive, especially with large datasets. Are you sure you want to continue?",confirmText:"Yes, Show All"}),m&&u.jsxs("div",{className:"absolute top-20 right-8 z-30 bg-white/90 dark:bg-slate-800/90 border border-cyan-500 rounded-xl p-4 shadow-xl backdrop-blur-md max-w-xs animate-in fade-in zoom-in-95 duration-200",children:[u.jsxs("div",{className:"flex justify-between items-start mb-2 border-b border-gray-200 dark:border-slate-700 pb-2",children:[u.jsx("h4",{className:"font-bold text-gray-900 dark:text-white text-sm",children:"Selected Point"}),u.jsx("button",{onClick:()=>v(null),className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsx("div",{className:"space-y-1 text-xs font-mono text-gray-700 dark:text-slate-300",children:u.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1.5",children:[u.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"Channel:"}),u.jsx("span",{className:"font-bold",children:m.channel}),u.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"Signal (DN):"}),u.jsx("span",{children:m.x.toFixed(4)}),u.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"Noise (Std):"}),u.jsx("span",{children:m.std.toFixed(4)}),u.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"SNR:"}),u.jsx("span",{className:"text-purple-600 dark:text-purple-400 font-bold",children:(m.x/m.std).toFixed(2)})]})})]}),lr&&u.jsx("div",{className:"absolute inset-0 z-40 bg-white/95 dark:bg-slate-900/95 backdrop-blur-sm flex flex-col items-center justify-center p-8 animate-in fade-in zoom-in-95 duration-200",children:u.jsxs("div",{className:"w-full max-w-2xl h-[60vh] bg-gray-50 dark:bg-slate-800 rounded-xl border border-gray-200 dark:border-slate-700 shadow-2xl p-4 flex flex-col relative",children:[u.jsx("button",{onClick:()=>Mr(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-red-500 transition-colors",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),u.jsxs("div",{className:"mb-4 text-center",children:[u.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-slate-200",children:"Gain Density Estimation"}),u.jsxs("p",{className:"text-xs text-gray-500 dark:text-slate-400",children:["HSM Mode: ",u.jsx("span",{className:"text-cyan-600 dark:text-cyan-400 font-bold",children:Cn==null?void 0:Cn.toFixed(4)}),u.jsx("span",{className:"mx-2",children:"|"}),"Data Points: ",rn.length>0?"Density Curve Generated":"No Data"]})]}),u.jsx("div",{className:"flex-1 min-h-0",children:rn.length>0?u.jsx(vo,{width:"100%",height:"100%",children:u.jsxs(dP,{data:rn,margin:{top:10,right:30,left:0,bottom:20},children:[u.jsx(qa,{strokeDasharray:"3 3",stroke:"#374151",opacity:.3,vertical:!1}),u.jsx(Un,{dataKey:"x",tickFormatter:z=>z.toFixed(2),tick:{fill:"#9ca3af",fontSize:10},label:{value:"Gain (e/ADU)",position:"insideBottom",offset:-15,fill:"#9ca3af",fontSize:12}}),u.jsx(Wn,{tick:{fill:"#9ca3af",fontSize:10}}),u.jsx(Vr,{cursor:{stroke:"rgba(255,255,255,0.2)"},contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"0.5rem",color:"#f3f4f6"}}),u.jsx(ga,{type:"monotone",dataKey:"density",stroke:"#0ea5e9",fill:"#0ea5e9",fillOpacity:.3,strokeWidth:2}),Cn!==null&&u.jsx(Ho,{x:Cn,stroke:"#ef4444",strokeWidth:2,label:{value:"HSM",fill:"#ef4444",fontSize:10,position:"top"}})]})}):u.jsx("div",{className:"flex items-center justify-center h-full text-gray-400",children:"No data in selected range"})})]})}),u.jsxs("div",{className:"flex flex-wrap justify-between items-center p-3 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50 gap-4 flex-shrink-0",children:[u.jsxs("h2",{className:"text-lg font-bold text-gray-900 dark:text-slate-100 flex items-center gap-2",children:["Photon Transfer Curve",u.jsxs("span",{className:"text-xs font-normal bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-300 px-2 py-0.5 rounded border border-purple-200 dark:border-purple-800",children:[r.length," Pts"]})]}),u.jsxs("div",{className:"flex gap-4 items-center flex-wrap",children:[u.jsxs("button",{onClick:eo,className:"bg-green-600 hover:bg-green-500 text-white font-bold py-1 px-3 rounded text-xs shadow-md transition-all active:scale-95 flex items-center gap-1",title:"Render all points, target lines, and metadata to a high-res JPG",children:[u.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Export Complete Result"]}),u.jsxs("div",{className:"flex bg-white dark:bg-slate-700 rounded-lg p-1 border border-gray-200 dark:border-slate-600",children:[u.jsx("button",{onClick:()=>ns("Noise"),className:`px-3 py-1 text-xs font-bold rounded transition-colors ${d==="Noise"?"bg-cyan-600 text-white shadow":"text-gray-600 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-600"}`,children:"Noise ()"}),u.jsx("button",{onClick:()=>ns("SNR"),className:`px-3 py-1 text-xs font-bold rounded transition-colors ${d==="SNR"?"bg-purple-600 text-white shadow":"text-gray-600 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-600"}`,children:"SNR"}),u.jsx("button",{onClick:()=>ns("Linear"),className:`px-3 py-1 text-xs font-bold rounded transition-colors ${d==="Linear"?"bg-indigo-600 text-white shadow":"text-gray-600 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-600"}`,children:"Linear (PTC)"})]}),u.jsxs("label",{className:"flex items-center gap-2 text-xs text-gray-600 dark:text-slate-300 cursor-pointer select-none",children:[u.jsx("input",{type:"checkbox",checked:h,onChange:z=>p(z.target.checked),className:"rounded border-gray-300 text-cyan-600 focus:ring-cyan-500 bg-gray-100 dark:bg-slate-700 dark:border-slate-600"}),"Log-Log"]}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 transition-colors p-1",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-0 border-b border-gray-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-sm flex-shrink-0",children:[u.jsxs("div",{className:"lg:col-span-9 p-5 flex flex-col gap-5 border-r border-gray-200 dark:border-slate-700",children:[u.jsxs("div",{className:"flex flex-wrap gap-4 items-center justify-between text-xs",children:[u.jsxs("div",{className:"flex gap-4 items-center",children:[u.jsxs("div",{className:"flex items-center gap-1.5 bg-gray-50 dark:bg-slate-800 rounded-md p-1 border border-gray-200 dark:border-slate-700",children:[u.jsx("span",{className:"font-bold text-gray-500 dark:text-slate-400 pl-1",children:"X:"}),u.jsx("input",{type:"number",placeholder:"Min",value:N,onChange:z=>O(z.target.value),className:"w-12 px-1 py-0.5 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center outline-none"}),u.jsx("span",{className:"text-gray-400",children:"-"}),u.jsx("input",{type:"number",placeholder:"Max",value:P,onChange:z=>A(z.target.value),className:"w-12 px-1 py-0.5 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center outline-none"})]}),u.jsxs("div",{className:"flex items-center gap-1.5 bg-gray-50 dark:bg-slate-800 rounded-md p-1 border border-gray-200 dark:border-slate-700",children:[u.jsx("span",{className:"font-bold text-gray-500 dark:text-slate-400 pl-1",children:"Y:"}),u.jsx("input",{type:"number",placeholder:"Min",value:C,onChange:z=>T(z.target.value),className:"w-12 px-1 py-0.5 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center outline-none"}),u.jsx("span",{className:"text-gray-400",children:"-"}),u.jsx("input",{type:"number",placeholder:"Max",value:F,onChange:z=>D(z.target.value),className:"w-12 px-1 py-0.5 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center outline-none"})]}),u.jsx("button",{onClick:()=>{O(""),A(""),T(""),D("")},className:"text-xs text-cyan-600 dark:text-cyan-400 hover:underline",children:"Auto"})]}),u.jsxs("div",{className:"flex items-center gap-1 bg-white dark:bg-slate-700 p-1 rounded-lg border border-gray-200 dark:border-slate-600",children:[u.jsx("button",{onClick:()=>$n("R"),className:`w-6 h-6 text-[10px] font-bold rounded flex items-center justify-center transition-colors ${b.R?"bg-red-500 text-white":"bg-gray-100 dark:bg-slate-600 text-gray-400"}`,children:"R"}),u.jsx("button",{onClick:()=>$n("G1"),className:`w-6 h-6 text-[10px] font-bold rounded flex items-center justify-center transition-colors ${b.G1?"bg-green-500 text-white":"bg-gray-100 dark:bg-slate-600 text-gray-400"}`,children:"G1"}),u.jsx("button",{onClick:()=>$n("G2"),className:`w-6 h-6 text-[10px] font-bold rounded flex items-center justify-center transition-colors ${b.G2?"bg-green-400 text-white":"bg-gray-100 dark:bg-slate-600 text-gray-400"}`,children:"G2"}),u.jsx("button",{onClick:()=>$n("B"),className:`w-6 h-6 text-[10px] font-bold rounded flex items-center justify-center transition-colors ${b.B?"bg-blue-500 text-white":"bg-gray-100 dark:bg-slate-600 text-gray-400"}`,children:"B"})]})]}),u.jsxs("div",{className:"flex flex-wrap items-end gap-8",children:[u.jsxs("div",{className:"flex flex-col bg-gray-50 dark:bg-slate-800/50 p-2 rounded border border-gray-100 dark:border-slate-700",children:[u.jsx("span",{className:"text-[9px] uppercase font-bold text-gray-500 dark:text-slate-400 mb-1",children:"Black Level (0,0 0,1 1,0 1,1)"}),u.jsx("input",{type:"text",value:G,onChange:z=>Q(z.target.value),className:"w-32 text-xs px-2 py-1 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded outline-none focus:border-cyan-500 font-mono",placeholder:"0 0 0 0"})]}),u.jsxs("div",{className:"flex flex-col justify-between bg-gray-50 dark:bg-slate-800/50 p-2 rounded border border-gray-100 dark:border-slate-700",children:[u.jsxs("div",{className:"flex justify-between items-center mb-1",children:[u.jsx("span",{className:"text-[9px] uppercase font-bold text-gray-500 dark:text-slate-400 mr-2",children:"Fit Range % (Robust)"}),u.jsx("button",{onClick:()=>{Y(!ue),ge(ue?0:1)},className:`px-1.5 py-0.5 text-[9px] rounded border transition-colors ${ue?"bg-cyan-100 text-cyan-700 border-cyan-300 animate-pulse":"bg-white dark:bg-slate-700 border-gray-300 dark:border-slate-600 text-gray-600 dark:text-slate-300 hover:bg-gray-50"}`,children:ue?se===1?"Pick Min":"Pick Max":"Select"})]}),u.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[u.jsx("input",{type:"number",step:"0.1",value:nr.rangeMin,onChange:z=>_t("rangeMin",z.target.value),onBlur:dr,onKeyDown:z=>Yr(z,"rangeMin"),className:"w-10 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-1 py-0.5 text-center font-bold"}),u.jsx("span",{className:"text-gray-400",children:"-"}),u.jsx("input",{type:"number",step:"0.1",value:nr.rangeMax,onChange:z=>_t("rangeMax",z.target.value),onBlur:dr,onKeyDown:z=>Yr(z,"rangeMax"),className:"w-10 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-1 py-0.5 text-center font-bold"})]})]}),u.jsxs("div",{className:"flex flex-col bg-indigo-50 dark:bg-indigo-900/20 p-2 rounded border border-indigo-100 dark:border-indigo-800/50",children:[u.jsx("span",{className:"text-[9px] uppercase font-bold text-indigo-600 dark:text-indigo-400 mb-1",children:"DR Params"}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("span",{className:"text-[10px] font-bold text-indigo-500 dark:text-indigo-300",children:"Img H:"}),u.jsx("input",{type:"number",value:E,onChange:z=>R(z.target.value),onKeyDown:an,placeholder:"Empty",className:"w-14 px-1 py-0.5 bg-white dark:bg-slate-900 border border-indigo-200 dark:border-indigo-800 rounded text-center font-bold text-indigo-700 dark:text-indigo-300 text-xs placeholder:font-normal placeholder:text-gray-300"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("span",{className:"text-[10px] font-bold text-indigo-500 dark:text-indigo-300",children:"Tgt SNR:"}),u.jsx("input",{type:"number",value:U,onChange:z=>M(z.target.value),className:"w-10 px-1 py-0.5 bg-white dark:bg-slate-900 border border-indigo-200 dark:border-indigo-800 rounded text-center font-bold text-indigo-700 dark:text-indigo-300 text-xs"})]})]})]}),u.jsxs("div",{className:"flex flex-col gap-1 text-[10px] justify-end pb-0.5",children:[u.jsx("button",{onClick:()=>{Z(!ee),$&&ae(null)},disabled:ue,className:`font-bold rounded border shadow-sm transition-all px-3 py-1.5 ${ee?"bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-400 border-amber-500 animate-pulse":"bg-white dark:bg-slate-800 text-gray-600 dark:text-slate-300 border-gray-300 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:ee?"Pick Point":"Select Linear Limit"}),u.jsxs("div",{className:"flex gap-1",children:[u.jsx("button",{onClick:pi,className:`flex-1 font-bold rounded border shadow-sm transition-all px-2 py-1 ${w==="top3"?"bg-indigo-600 text-white border-indigo-700":"bg-white dark:bg-slate-800 text-gray-600 dark:text-slate-300 border-gray-300 dark:border-slate-600 hover:bg-gray-50"}`,children:"Top 3%"}),u.jsx("button",{onClick:to,className:`font-bold rounded border shadow-sm transition-all px-2 py-1 ${w==="raw"?"bg-red-600 text-white border-red-700":"text-red-500 border-red-200 hover:bg-red-50"}`,children:"All"})]})]})]}),u.jsxs("div",{className:"flex flex-wrap gap-4 items-center bg-gray-50/50 dark:bg-slate-800/20 p-2 rounded-lg border border-gray-100 dark:border-slate-800",children:[u.jsx("span",{className:"text-[10px] uppercase font-bold text-gray-400 dark:text-slate-500",children:"Metadata"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"text",value:dt,onChange:z=>Pe(z.target.value),placeholder:"Tester Name",className:"w-24 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-gray-700 dark:text-slate-300 outline-none focus:border-cyan-500 transition-colors"}),u.jsx("input",{type:"text",value:Be,onChange:z=>ut(z.target.value),placeholder:"Camera Model",className:"w-32 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-gray-700 dark:text-slate-300 outline-none focus:border-cyan-500 transition-colors"}),u.jsx("input",{type:"text",value:vt,onChange:z=>mr(z.target.value),placeholder:"ISO",className:"w-16 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-gray-700 dark:text-slate-300 outline-none focus:border-cyan-500 transition-colors"})]})]}),u.jsxs("div",{className:"flex flex-wrap gap-4 items-center bg-fuchsia-50/50 dark:bg-fuchsia-900/10 p-2 rounded-lg border border-fuchsia-100 dark:border-fuchsia-900/30",children:[u.jsx("span",{className:"text-[10px] uppercase font-bold text-fuchsia-500 dark:text-fuchsia-400",children:"Markers"}),u.jsxs("div",{className:"flex gap-2 items-center",children:[u.jsx("input",{type:"number",value:pe,onChange:z=>oe(z.target.value),placeholder:"X (Signal)",className:"w-20 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 outline-none focus:border-fuchsia-500 transition-colors"}),u.jsx("input",{type:"number",value:_e,onChange:z=>be(z.target.value),placeholder:"Y (Value)",className:"w-20 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 outline-none focus:border-fuchsia-500 transition-colors"}),u.jsx("button",{onClick:Ie,className:"px-3 py-1 bg-fuchsia-600 hover:bg-fuchsia-500 text-white text-xs font-bold rounded shadow-sm transition-colors active:scale-95",children:"+"}),K.length>0&&u.jsx("button",{onClick:()=>he([]),className:"px-2 py-1 bg-gray-200 dark:bg-slate-700 hover:bg-red-500 hover:text-white text-gray-600 dark:text-slate-300 text-xs font-bold rounded shadow-sm transition-colors active:scale-95",children:"Clr"})]}),u.jsxs("div",{className:"text-[10px] text-gray-400 dark:text-slate-500 font-mono",children:[K.length," pts"]})]}),u.jsxs("div",{className:"flex gap-4 text-[10px] pt-1 justify-center sm:justify-start flex-wrap",children:[u.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[u.jsx("input",{type:"checkbox",checked:Ye.shot,onChange:z=>ar({...Ye,shot:z.target.checked}),className:"rounded text-gray-500"})," ",u.jsx("span",{className:"text-gray-500",children:"Shot Noise"})]}),u.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[u.jsx("input",{type:"checkbox",checked:Ye.read,onChange:z=>ar({...Ye,read:z.target.checked}),className:"rounded text-rose-500"})," ",u.jsx("span",{className:"text-rose-500",children:"Read Noise"})]}),u.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[u.jsx("input",{type:"checkbox",checked:Ye.prnu,onChange:z=>ar({...Ye,prnu:z.target.checked}),className:"rounded text-amber-500"})," ",u.jsx("span",{className:"text-amber-500",children:"PRNU"})]}),u.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[u.jsx("input",{type:"checkbox",checked:Ye.total,onChange:z=>ar({...Ye,total:z.target.checked}),className:"rounded text-white"})," ",u.jsx("span",{className:"text-gray-900 dark:text-white font-bold",children:"Model"})]})]})]}),u.jsxs("div",{className:"lg:col-span-3 bg-slate-100 dark:bg-slate-800 p-4 flex flex-col justify-center gap-4",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between items-center mb-1 px-1",children:[u.jsxs("h3",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase flex items-center gap-2",children:["Fit Parameters (D55 SAT Channel:",Ct,")",S&&u.jsx("span",{className:"text-orange-500 animate-pulse text-[10px]",children:"Calculating..."})]}),u.jsxs("div",{className:"flex gap-2 items-center",children:[u.jsx("button",{onClick:Tn,disabled:S,className:`px-3 py-1 text-white text-[10px] font-bold rounded shadow-sm transition-all flex items-center gap-1 active:scale-95 
                                            ${S?"bg-gray-400 cursor-wait":os?"bg-orange-500 hover:bg-orange-600 animate-pulse ring-2 ring-orange-400/50":"bg-cyan-600 hover:bg-cyan-500"}
                                        `,title:"Apply Black Level, Auto-detect Read Noise, then Recalculate Fit",children:S?u.jsxs(u.Fragment,{children:[u.jsxs("svg",{className:"w-3 h-3 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Fitting..."]}):u.jsxs(u.Fragment,{children:[u.jsxs("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),"Apply & Calc"]})}),u.jsxs("select",{value:pt,onChange:z=>At(Number(z.target.value)),className:"text-[9px] bg-slate-200 dark:bg-slate-700 text-gray-600 dark:text-slate-300 rounded px-1 py-0.5 border-none outline-none cursor-pointer hover:bg-slate-300 dark:hover:bg-slate-600 transition-colors",title:"Number of point-pairs to sample for robust regression (Theil-Sen)",children:[u.jsx("option",{value:1e5,children:"100k Pairs"}),u.jsx("option",{value:5e5,children:"500k Pairs"}),u.jsx("option",{value:2e6,children:"2M Pairs"}),u.jsx("option",{value:5e6,children:"5M Pairs"}),u.jsx("option",{value:1e7,children:"10M Pairs"})]}),Zt&&u.jsxs("span",{className:"text-[10px] text-gray-400 dark:text-slate-500 font-mono",title:"Number of points used in regression",children:["N=",Zt.nPoints]})]})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("label",{className:"text-[10px] text-gray-500 dark:text-slate-400 uppercase tracking-wide mb-1",children:"rn/fpn"}),u.jsx("input",{type:"text",inputMode:"decimal",value:nr.read,onChange:z=>_t("read",z.target.value),onBlur:()=>Lt("read"),onKeyDown:z=>Yr(z,"read"),className:"w-full text-center text-2xl font-light bg-transparent text-rose-500 outline-none border-b border-transparent focus:border-rose-500 transition-colors"})]}),u.jsxs("div",{className:"flex flex-col items-center relative group",children:[u.jsxs("label",{className:"text-[10px] text-gray-500 dark:text-slate-400 uppercase tracking-wide mb-1 flex items-center gap-1",children:["Kadc (HSM)",u.jsx("button",{onClick:()=>Mr(!0),className:"text-[9px] text-cyan-600 dark:text-cyan-400 hover:underline",children:"Dist."})]}),u.jsx("input",{type:"text",inputMode:"decimal",value:nr.gain,onChange:z=>_t("gain",z.target.value),onBlur:()=>Lt("gain"),onKeyDown:z=>Yr(z,"gain"),className:"w-full text-center text-2xl font-light bg-transparent text-slate-700 dark:text-slate-200 outline-none border-b border-transparent focus:border-cyan-500 transition-colors"})]}),u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("label",{className:"text-[10px] text-gray-500 dark:text-slate-400 uppercase tracking-wide mb-1",children:"PRNU (%)"}),u.jsx("input",{type:"text",inputMode:"decimal",value:nr.prnu,onChange:z=>_t("prnu",z.target.value),onBlur:()=>Lt("prnu"),onKeyDown:z=>Yr(z,"prnu"),className:"w-full text-center text-2xl font-light bg-transparent text-amber-500 outline-none border-b border-transparent focus:border-amber-500 transition-colors"})]})]})]}),u.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 w-full"}),u.jsxs("div",{className:"grid grid-cols-2 gap-2 text-center",children:[u.jsxs("div",{className:"flex flex-col justify-center bg-cyan-50 dark:bg-cyan-900/10 p-2 rounded-lg border border-cyan-100 dark:border-cyan-900/30",children:[u.jsxs("h4",{className:"text-[10px] font-bold text-cyan-600 dark:text-cyan-500 uppercase tracking-wide mb-1 truncate",title:`Manual DR at SNR=${(me==null?void 0:me.manualTarget)||U}`,children:["M.DR @ SNR=",(me==null?void 0:me.manualTarget)||U]}),u.jsx("div",{className:"text-base font-bold text-cyan-700 dark:text-cyan-400 whitespace-nowrap",children:me!=null&&me.manualDR?`${me.manualDR.toFixed(2)} EV`:"--"})]}),u.jsxs("div",{className:"flex flex-col justify-center bg-emerald-50 dark:bg-emerald-900/10 p-2 rounded-lg border border-emerald-100 dark:border-emerald-900/30",title:isNaN((me==null?void 0:me.ptpTarget)||NaN)?"Requires Image Height":`Standard Point-to-Point DR (Target SNR = 16000/${E||"H"})`,children:[u.jsx("h4",{className:"text-[10px] font-bold text-emerald-600 dark:text-emerald-500 uppercase tracking-wide mb-1",children:"PTP DR"}),u.jsx("div",{className:"text-base font-bold text-emerald-700 dark:text-emerald-400 whitespace-nowrap",children:me!=null&&me.ptpDR?`${me.ptpDR.toFixed(2)} EV`:"--"})]}),u.jsxs("div",{className:"flex flex-col justify-center bg-purple-50 dark:bg-purple-900/10 p-2 rounded-lg border border-purple-100 dark:border-purple-900/30",title:isNaN((me==null?void 0:me.ptpTarget)||NaN)?"Requires Image Height":`D55 Saturation DR (Target SNR = 16000/${E||"H"} on ${me==null?void 0:me.dominantChannel} Channel)`,children:[u.jsxs("h4",{className:"text-[10px] font-bold text-purple-600 dark:text-purple-400 uppercase tracking-wide mb-1 truncate",children:["D55 DR (",me==null?void 0:me.dominantChannel,")"]}),u.jsx("div",{className:"text-base font-bold text-purple-700 dark:text-purple-400 whitespace-nowrap",children:me!=null&&me.d55DR?`${me.d55DR.toFixed(2)} EV`:"--"})]}),u.jsxs("div",{className:"flex flex-col justify-center bg-orange-50 dark:bg-orange-900/10 p-2 rounded-lg border border-orange-100 dark:border-orange-900/30",children:[u.jsx("h4",{className:"text-[10px] font-bold text-orange-600 dark:text-orange-400 uppercase tracking-wide mb-1",children:"FWC"}),u.jsx("div",{className:"text-base font-bold text-orange-600 dark:text-orange-400 font-mono whitespace-nowrap truncate",title:Tt!==null?`${Math.round(Tt)}`:"",children:Tt!==null?Tt>1e4?`${(Tt/1e3).toFixed(1)}k`:`${Math.round(Tt)}`:"--"})]})]}),$===null&&u.jsx("div",{className:"text-center text-[10px] text-red-500 animate-pulse font-bold mt-[-10px]",children:"Please select Linear Limit on chart to calc DR"})]})]}),u.jsxs("div",{className:`flex-1 p-4 bg-white dark:bg-slate-900 relative grid grid-cols-[auto_1fr] grid-rows-[1fr_auto] gap-2 ${ee||ue?"cursor-crosshair":""}`,children:[u.jsx("div",{className:"row-start-1 col-start-1 h-full",children:u.jsx(gk,{vertical:!0,min:qe,max:wt,value:[C?parseFloat(C):qe,F?parseFloat(F):wt],onChange:([z,J])=>{T(z.toString()),D(J.toString())},logScale:h})}),u.jsxs("div",{className:"row-start-1 col-start-2 relative",children:[cr.length===0?u.jsx("div",{className:"flex h-full items-center justify-center text-gray-400",children:"No valid data points found."}):u.jsx(vo,{width:"100%",height:"100%",children:u.jsxs(MQ,{margin:{top:20,right:20,bottom:0,left:0},onClick:zr,children:[u.jsx("defs",{children:u.jsxs("filter",{id:"glow",height:"300%",width:"300%",x:"-100%",y:"-100%",children:[u.jsx("feGaussianBlur",{stdDeviation:"2",result:"coloredBlur"}),u.jsxs("feMerge",{children:[u.jsx("feMergeNode",{in:"coloredBlur"}),u.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),u.jsx(qa,{strokeDasharray:"3 3",stroke:"#374151",opacity:.2}),u.jsx(Un,{type:"number",dataKey:"x",name:"Signal",scale:h?"log":"linear",domain:ro(N,P),allowDataOverflow:!0,hide:!0}),u.jsx(Wn,{type:"number",dataKey:"y",name:d,scale:h?"log":"linear",domain:ro(C,F),label:{value:as,angle:-90,position:"insideLeft",fill:"#9ca3af",fontSize:12},tick:{fill:"#9ca3af",fontSize:10},allowDataOverflow:!0}),u.jsx(Vr,{content:u.jsx(It,{}),cursor:{strokeDasharray:"3 3"}}),$&&u.jsx(Ho,{x:$,stroke:"red",strokeDasharray:"3 3",label:{position:"top",value:"Sat",fill:"red",fontSize:10}}),(Ye.fitRange||ue)&&u.jsxs(u.Fragment,{children:[u.jsx(Ho,{x:ur,stroke:"#22d3ee",strokeDasharray:"5 5",label:{position:"insideTopLeft",value:`Min: ${Qt.min}%`,fill:"#22d3ee",fontSize:9}}),u.jsx(Ho,{x:fr,stroke:"#22d3ee",strokeDasharray:"5 5",label:{position:"insideTopLeft",value:`Max: ${Qt.max}%`,fill:"#22d3ee",fontSize:9}})]}),b.R&&u.jsx(Sn,{name:"Red",data:Xn.R,fill:"#ef4444",shape:La,onClick:zr,style:s==="dark"?{filter:"url(#glow)"}:void 0},"scatter-R"),b.G1&&u.jsx(Sn,{name:"Green 1",data:Xn.G1,fill:"#22c55e",shape:La,onClick:zr,style:s==="dark"?{filter:"url(#glow)"}:void 0},"scatter-G1"),b.G2&&u.jsx(Sn,{name:"Green 2",data:Xn.G2,fill:"#4ade80",shape:La,onClick:zr,style:s==="dark"?{filter:"url(#glow)"}:void 0},"scatter-G2"),b.B&&u.jsx(Sn,{name:"Blue",data:Xn.B,fill:"#3b82f6",shape:La,onClick:zr,style:s==="dark"?{filter:"url(#glow)"}:void 0},"scatter-B"),Ye.shot&&ze.shot.length>0&&u.jsx(Sn,{name:"Shot Noise (Ideal)",data:ze.shot,line:{stroke:"#94a3b8",strokeWidth:1,strokeDasharray:"5 5"},shape:()=>u.jsx(u.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-shot"),Ye.read&&ze.read.length>0&&u.jsx(Sn,{name:"Read Noise Floor",data:ze.read,line:{stroke:"#f43f5e",strokeWidth:1,strokeDasharray:"3 3"},shape:()=>u.jsx(u.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-read"),Ye.prnu&&ze.prnu.length>0&&u.jsx(Sn,{name:"PRNU (Non-uniformity)",data:ze.prnu,line:{stroke:"#f59e0b",strokeWidth:1,strokeDasharray:"3 3"},shape:()=>u.jsx(u.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-prnu"),Ye.total&&ze.total.length>0&&u.jsx(Sn,{name:"Total Noise Model",data:ze.total,line:{stroke:lt,strokeWidth:2},shape:()=>u.jsx(u.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-total"),Ze.length>0&&u.jsx(Sn,{name:`Target SNR=${U}`,data:Ze,line:{stroke:"#6366f1",strokeWidth:2,strokeDasharray:"4 2"},shape:()=>u.jsx(u.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-target"),Fr.length>0&&u.jsx(Sn,{name:`PTP Target SNR=${me!=null&&me.ptpTarget?me.ptpTarget.toFixed(1):"?"}`,data:Fr,line:{stroke:"#10b981",strokeWidth:2,strokeDasharray:"4 4"},shape:()=>u.jsx(u.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-ptp"),K.length>0&&u.jsx(Sn,{name:"Manual Markers",data:K,fill:"#d946ef",shape:"star",legendType:"star"},"manual-points")]})}),u.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 pointer-events-none select-none opacity-25 mix-blend-normal dark:mix-blend-plus-lighter",children:u.jsx("svg",{viewBox:"0 0 500 60",className:"w-96 h-auto",children:u.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"36",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})})]}),u.jsx("div",{className:"row-start-2 col-start-2 w-full",children:u.jsx(gk,{min:Ue,max:ct,value:[N?parseFloat(N):Ue,P?parseFloat(P):ct],onChange:([z,J])=>{O(z.toString()),A(J.toString())},logScale:h})})]})]})})},nJ=({searchTerm:e,onSearchChange:t,manufacturers:r,selectedManufacturer:n,onManufacturerChange:a,cameras:o,onCameraSelect:i})=>u.jsx("div",{className:"sticky top-4 z-10 bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm p-4 rounded-xl border border-gray-200 dark:border-slate-700 shadow-sm",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[u.jsxs("div",{className:"relative md:col-span-3",children:[u.jsx("input",{type:"text",placeholder:"Search camera model...",value:e,onChange:s=>t(s.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none transition-all duration-300 text-gray-900 dark:text-slate-200 placeholder-gray-500 dark:placeholder-slate-400"}),u.jsx("svg",{className:"w-5 h-5 text-gray-400 dark:text-slate-400 absolute top-1/2 left-3 transform -translate-y-1/2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),u.jsx("select",{value:n,onChange:s=>a(s.target.value),className:"w-full md:col-span-1 bg-gray-50 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg px-4 py-2 focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none transition-all duration-300 appearance-none text-gray-900 dark:text-slate-200",children:r.map(s=>u.jsx("option",{value:s,children:s},s))}),u.jsxs("select",{onChange:s=>i(s.target.value),className:"w-full md:col-span-1 bg-gray-50 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg px-4 py-2 focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none transition-all duration-300 appearance-none text-gray-900 dark:text-slate-200",value:"","aria-label":"Jump to camera model",children:[u.jsx("option",{value:"",disabled:!0,children:"Jump to model..."}),o.map(s=>u.jsx("option",{value:s.id,children:s.name},s.id))]})]})}),aJ=({active:e,payload:t,label:r,theme:n})=>{if(e&&t&&t.length){const a=t[0].payload,o=n==="dark"?"bg-slate-800/80 border-slate-600 text-slate-300":"bg-white/90 border-gray-200 text-gray-700";return u.jsxs("div",{className:`${o} backdrop-blur-sm border p-3 rounded-lg shadow-lg`,children:[u.jsx("p",{className:"label font-bold",children:`ISO ${r}`}),u.jsx("div",{className:"mt-2 space-y-1 text-sm",children:u.jsxs(u.Fragment,{children:[u.jsxs("div",{style:{color:"#f87171"},children:["Red: ",a.R_avg.toFixed(2)," (Range: ",a.R_range[0]," - ",a.R_range[1],")"]}),u.jsxs("div",{style:{color:"#4ade80"},children:["Green 1: ",a.G1_avg.toFixed(2)," (Range: ",a.G1_range[0]," - ",a.G1_range[1],")"]}),u.jsxs("div",{style:{color:"#60a5fa"},children:["Blue: ",a.B_avg.toFixed(2)," (Range: ",a.B_range[0]," - ",a.B_range[1],")"]}),u.jsxs("div",{style:{color:"#86efac"},children:["Green 2: ",a.G2_avg.toFixed(2)," (Range: ",a.G2_range[0]," - ",a.G2_range[1],")"]})]})})]})}return null},oJ=({data:e,theme:t="dark"})=>{const r=j.useMemo(()=>!e||e.length===0?[]:[...new Set(e.map(i=>i.iso))].sort((i,s)=>Number(i)-Number(s)),[e]),n=j.useMemo(()=>{if(!e||e.length===0)return[0,4096];const i=e.flatMap(m=>[...m.R_range,...m.G1_range,...m.G2_range,...m.B_range]);if(i.length===0)return[0,4096];let s=Math.min(...i),l=Math.max(...i);const c=.25,d=l-s;if(d<c){const m=c-d;s-=m/2,l+=m/2}const f=(l-s)*.1,h=s-f,p=l+f;return[h,p]},[e]),a=t==="dark"?"#475569":"#e5e7eb",o=t==="dark"?"#94a3b8":"#6b7280";return!e||e.length===0?u.jsx("div",{className:"flex items-center justify-center h-full text-gray-500 dark:text-slate-500",children:u.jsx("p",{children:"No data available for this mode."})}):u.jsx(vo,{width:"100%",height:"100%",children:u.jsxs(dP,{data:e,margin:{top:5,right:20,left:0,bottom:5},children:[u.jsx(qa,{strokeDasharray:"3 3",stroke:a}),u.jsx(Un,{dataKey:"iso",type:"number",domain:["dataMin","dataMax"],tick:{fill:o,fontSize:12},scale:"log",allowDuplicatedCategory:!1,ticks:r}),u.jsx(Wn,{tick:{fill:o,fontSize:12},domain:n,allowDecimals:!0,tickFormatter:i=>Number(i).toFixed(3)}),u.jsx(Vr,{content:u.jsx(aJ,{theme:t})}),u.jsx(Va,{wrapperStyle:{fontSize:"14px",color:o}}),u.jsx(ga,{type:"monotone",dataKey:"R_range",fill:"#f87171",stroke:"none",fillOpacity:.2,name:"Red",legendType:"none"}),u.jsx(Or,{type:"monotone",dataKey:"R_avg",stroke:"#f87171",strokeWidth:2,dot:!1,activeDot:{r:5},name:"Red"}),u.jsx(ga,{type:"monotone",dataKey:"G1_range",fill:"#4ade80",stroke:"none",fillOpacity:.2,name:"Green 1",legendType:"none"}),u.jsx(Or,{type:"monotone",dataKey:"G1_avg",stroke:"#4ade80",strokeWidth:2,dot:!1,activeDot:{r:5},name:"Green 1"}),u.jsx(ga,{type:"monotone",dataKey:"B_range",fill:"#60a5fa",stroke:"none",fillOpacity:.2,name:"Blue",legendType:"none"}),u.jsx(Or,{type:"monotone",dataKey:"B_avg",stroke:"#60a5fa",strokeWidth:2,dot:!1,activeDot:{r:5},name:"Blue"}),u.jsx(ga,{type:"monotone",dataKey:"G2_range",fill:"#86efac",stroke:"none",fillOpacity:.2,name:"Green 2",legendType:"none"}),u.jsx(Or,{type:"monotone",dataKey:"G2_avg",stroke:"#86efac",strokeWidth:2,dot:!1,activeDot:{r:5},name:"Green 2"})]})})},iJ=I.forwardRef(({camera:e,theme:t="dark"},r)=>{const n=j.useMemo(()=>e.shootingModes.map(f=>f.modeName),[e.shootingModes]),[a,o]=j.useState(n[0]||""),{chartData:i,tableData:s}=j.useMemo(()=>{const f=e.shootingModes.find(m=>m.modeName===a);if(!(f!=null&&f.data))return{chartData:[],tableData:[]};const h=f.data.map(m=>({iso:m.iso,R_range:m.r.range,R_avg:m.r.avg,G1_range:m.g1.range,G1_avg:m.g1.avg,B_range:m.b.range,B_avg:m.b.avg,G2_range:m.g2.range,G2_avg:m.g2.avg})),p=f.data.map(m=>({iso:m.iso,levels:[m.r.avg,m.g1.avg,m.g2.avg,m.b.avg],clipping:m.clipping}));return{chartData:h,tableData:p}},[e.shootingModes,a]),l=`Raw Data (${a})`,c=j.useRef(null),d=j.useRef(null);return j.useEffect(()=>{const f=c.current,h=d.current;if(!f||!h)return;const p=new ResizeObserver(m=>{for(let v of m){const{width:w}=v.contentRect,g=Math.max(8,w/35);h.style.fontSize=`${g}px`}});return p.observe(f),()=>p.disconnect()},[]),u.jsxs("div",{ref:r,className:"bg-white dark:bg-slate-800/50 border border-gray-200 dark:border-slate-700 rounded-xl shadow-lg p-6 flex flex-col gap-6 transform hover:scale-[1.02] hover:border-cyan-500/50 transition-all duration-500 ease-in-out",children:[u.jsxs("div",{className:"border-b border-gray-200 dark:border-slate-700 pb-4",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-slate-100",children:e.name}),u.jsx("p",{className:"text-cyan-600 dark:text-cyan-400",children:e.manufacturer})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-4 mb-4",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-slate-300",children:"Black Level vs. ISO"}),u.jsx("select",{value:a,onChange:f=>o(f.target.value),className:"w-full sm:w-auto bg-gray-50 dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded-md px-3 py-1 text-sm outline-none focus:ring-2 focus:ring-cyan-500 transition-all duration-300 text-gray-900 dark:text-slate-200","aria-label":`Select shooting mode for ${e.name}`,children:n.map(f=>u.jsx("option",{value:f,children:f},f))})]}),u.jsxs("div",{ref:c,className:"h-64 relative",children:[u.jsx(oJ,{data:i,theme:t},a),u.jsx("div",{className:"absolute top-1/2 left-[52%] transform -translate-x-1/2 -translate-y-1/2 -rotate-30 pointer-events-none",children:u.jsx("p",{ref:d,className:"font-bold text-gray-900/10 dark:text-slate-200/40 whitespace-nowrap",children:" y-g-jiang.github.io"})})]})]}),u.jsxs("div",{className:"overflow-x-auto",children:[u.jsx("div",{className:"flex justify-between items-center mb-4",children:u.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-slate-300",children:l})}),u.jsxs("table",{className:"w-full text-left border-collapse",children:[u.jsx("thead",{className:"bg-gray-100 dark:bg-slate-700/50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"p-3 font-semibold text-sm text-gray-700 dark:text-slate-300",children:"ISO"}),u.jsx("th",{className:"p-3 font-semibold text-sm text-red-500 dark:text-red-400",children:"Red"}),u.jsx("th",{className:"p-3 font-semibold text-sm text-green-600 dark:text-green-400",children:"Green 1"}),u.jsx("th",{className:"p-3 font-semibold text-sm text-blue-500 dark:text-blue-400",children:"Blue"}),u.jsx("th",{className:"p-3 font-semibold text-sm text-green-500 dark:text-green-300",children:"Green 2"})]})}),u.jsx("tbody",{children:s.map(({iso:f,levels:h,clipping:p})=>u.jsxs("tr",{className:"border-b border-gray-200 dark:border-slate-700/50 last:border-b-0",children:[u.jsxs("td",{className:"p-3 font-mono text-gray-700 dark:text-slate-300 whitespace-nowrap",children:[f,p&&u.jsx("span",{className:"ml-3 text-xs font-semibold text-amber-600 dark:text-amber-400 bg-amber-100 dark:bg-amber-900/50 px-2 py-1 rounded-full align-middle",children:"Clipping"})]}),u.jsx("td",{className:"p-3 font-mono text-red-500 dark:text-red-400",children:h[0].toFixed(2)}),u.jsx("td",{className:"p-3 font-mono text-green-600 dark:text-green-400",children:h[1].toFixed(2)}),u.jsx("td",{className:"p-3 font-mono text-blue-500 dark:text-blue-400",children:h[3].toFixed(2)}),u.jsx("td",{className:"p-3 font-mono text-green-500 dark:text-green-300",children:h[2].toFixed(2)})]},f))})]})]})]})}),ve=(e,t,r)=>({avg:e,range:[t,r]}),Cp=[{id:"sony-a7r2",name:"Sony ILCE-7RM2 (A7R II)",manufacturer:"Sony",shootingModes:[{modeName:"Still (Mechanical Shutter)",data:[{iso:100,r:ve(512.1,511.95,512.25),g1:ve(512.05,511.9,512.2),b:ve(512.12,511.98,512.28),g2:ve(512.06,511.92,512.22)},{iso:200,r:ve(512.15,512,512.3),g1:ve(512.1,511.95,512.25),b:ve(512.18,512.05,512.35),g2:ve(512.12,511.98,512.28)},{iso:400,r:ve(512.25,512.1,512.45),g1:ve(512.2,512.05,512.4),b:ve(512.3,512.15,512.5),g2:ve(512.22,512.08,512.42)},{iso:800,r:ve(512.5,512.2,512.8),g1:ve(512.45,512.15,512.75),b:ve(512.55,512.25,512.85),g2:ve(512.48,512.18,512.78)},{iso:1600,r:ve(513.1,512.8,513.4),g1:ve(513.05,512.75,513.35),b:ve(513.15,512.85,513.45),g2:ve(513.08,512.78,513.38)}]}]},{id:"sony-a7c",name:"Sony ILCE-7C",manufacturer:"Sony",shootingModes:[{modeName:"Still (Mechanical)",data:[{iso:100,r:ve(512.02,511.98,512.05),g1:ve(512.01,511.97,512.04),b:ve(512.03,511.99,512.06),g2:ve(512.01,511.97,512.04)},{iso:640,r:ve(512.15,512.05,512.25),g1:ve(512.12,512.02,512.22),b:ve(512.18,512.08,512.28),g2:ve(512.13,512.03,512.23)}]}]},{id:"canon-r5",name:"Canon EOS R5",manufacturer:"Canon",shootingModes:[{modeName:"Mechanical Shutter",data:[{iso:100,r:ve(512,511.8,512.2),g1:ve(512,511.8,512.2),b:ve(512,511.8,512.2),g2:ve(512,511.8,512.2)},{iso:400,r:ve(512,511.7,512.3),g1:ve(512,511.7,512.3),b:ve(512,511.7,512.3),g2:ve(512,511.7,512.3)},{iso:1600,r:ve(512.2,511.5,512.8),g1:ve(512.2,511.5,512.8),b:ve(512.2,511.5,512.8),g2:ve(512.2,511.5,512.8)}]}]},{id:"canon-r6",name:"Canon EOS R6",manufacturer:"Canon",shootingModes:[{modeName:"Mechanical Shutter",data:[{iso:100,r:ve(511.95,511.8,512.1),g1:ve(511.95,511.8,512.1),b:ve(511.95,511.8,512.1),g2:ve(511.95,511.8,512.1)},{iso:800,r:ve(512.1,511.9,512.3),g1:ve(512.1,511.9,512.3),b:ve(512.1,511.9,512.3),g2:ve(512.1,511.9,512.3)}]}]},{id:"nikon-z9",name:"Nikon Z9",manufacturer:"Nikon",shootingModes:[{modeName:"Electronic Shutter",data:[{iso:64,r:ve(400,399.9,400.1),g1:ve(400,399.9,400.1),b:ve(400,399.9,400.1),g2:ve(400,399.9,400.1)},{iso:100,r:ve(400,399.9,400.1),g1:ve(400,399.9,400.1),b:ve(400,399.9,400.1),g2:ve(400,399.9,400.1)}]}]},{id:"nikon-z6-2",name:"Nikon Z 6II",manufacturer:"Nikon",shootingModes:[{modeName:"Still (Lossless)",data:[{iso:100,r:ve(400.1,399.8,400.3),g1:ve(400.1,399.8,400.3),b:ve(400.1,399.8,400.3),g2:ve(400.1,399.8,400.3)},{iso:800,r:ve(400.3,399.5,401.1),g1:ve(400.3,399.5,401.1),b:ve(400.3,399.5,401.1),g2:ve(400.3,399.5,401.1)}]}]},{id:"fujifilm-xt4",name:"Fujifilm X-T4",manufacturer:"Fujifilm",shootingModes:[{modeName:"Still (RAF)",data:[{iso:160,r:ve(1024,1023.8,1024.2),g1:ve(1024,1023.8,1024.2),b:ve(1024,1023.8,1024.2),g2:ve(1024,1023.8,1024.2)},{iso:800,r:ve(1024.2,1023.5,1025),g1:ve(1024.2,1023.5,1025),b:ve(1024.2,1023.5,1025),g2:ve(1024.2,1023.5,1025)}]}]}],sJ=({isOpen:e,onClose:t,theme:r})=>{const[n,a]=j.useState(""),[o,i]=j.useState("All"),s=j.useMemo(()=>["All",...Array.from(new Set(Cp.map(f=>f.manufacturer))).sort()],[]),l=j.useMemo(()=>Cp.filter(d=>{const f=d.name.toLowerCase().includes(n.toLowerCase()),h=o==="All"||d.manufacturer===o;return f&&h}),[n,o]),c=d=>{const f=document.getElementById(`camera-${d}`);f&&f.scrollIntoView({behavior:"smooth"})};return e?u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",onClick:t,children:u.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-6xl h-[90vh] rounded-2xl shadow-2xl flex flex-col border border-gray-200 dark:border-slate-700 overflow-hidden",onClick:d=>d.stopPropagation(),children:[u.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50",children:[u.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-slate-100 flex items-center gap-2",children:["Camera Black Level Database",u.jsxs("span",{className:"text-xs font-normal bg-cyan-100 dark:bg-cyan-900/30 text-cyan-600 dark:text-cyan-400 px-2 py-0.5 rounded border border-cyan-200 dark:border-cyan-800",children:[Cp.length," Models"]})]}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 transition-colors p-2 rounded-full hover:bg-gray-100 dark:hover:bg-slate-800",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-slate-700 bg-gray-50/50 dark:bg-slate-800/30",children:u.jsx(nJ,{searchTerm:n,onSearchChange:a,manufacturers:s,selectedManufacturer:o,onManufacturerChange:i,cameras:l,onCameraSelect:c})}),u.jsx("div",{className:"flex-1 overflow-y-auto p-6 scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-slate-700 bg-gray-100 dark:bg-slate-950",children:u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-2 gap-6",children:[l.map(d=>u.jsx("div",{id:`camera-${d.id}`,children:u.jsx(iJ,{camera:d,theme:r})},d.id)),l.length===0&&u.jsx("div",{className:"col-span-full flex flex-col items-center justify-center py-20 text-gray-400 dark:text-slate-600",children:u.jsx("p",{className:"text-lg",children:"No cameras found matching your criteria."})})]})})]})}):null},lJ=({isOpen:e,onClose:t,zIndex:r=150})=>{const[n,a]=j.useState(""),[o,i]=j.useState(""),[s,l]=j.useState(""),[c,d]=j.useState(""),[f,h]=j.useState(null),p=()=>{const m=parseFloat(n),v=parseFloat(o),w=parseFloat(s),y=parseFloat(c);if(isNaN(m)||isNaN(v)||isNaN(w)||isNaN(y)){h(null);return}const g=m,x=v,S=w*w,k=y*y,b=(g+x)/2;if(b<=1e-9){h(0);return}const _=S*k/b,N=Math.sqrt(_);h(N)};return e?u.jsxs(zu,{initialPosition:{x:window.innerWidth/2-160,y:window.innerHeight/2-200},onClose:t,zIndex:r,className:"w-80 bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 flex flex-col shadow-2xl",children:[u.jsxs("div",{className:"flex justify-between items-center px-4 py-3 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800",children:[u.jsx("h3",{className:"text-sm font-bold text-gray-700 dark:text-slate-200",children:"Cross-Compensation Calc"}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 transition-colors",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("div",{className:"p-4 flex flex-col gap-3 text-xs",children:[u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-gray-500 dark:text-slate-400 font-bold",children:"H Mean (Power/Var)"}),u.jsx("input",{type:"number",step:"any",value:n,onChange:m=>a(m.target.value),className:"p-2 rounded bg-gray-100 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 outline-none focus:border-indigo-500 text-gray-900 dark:text-slate-100 font-mono"})]}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-gray-500 dark:text-slate-400 font-bold",children:"V Mean (Power/Var)"}),u.jsx("input",{type:"number",step:"any",value:o,onChange:m=>i(m.target.value),className:"p-2 rounded bg-gray-100 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 outline-none focus:border-indigo-500 text-gray-900 dark:text-slate-100 font-mono"})]}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-gray-500 dark:text-slate-400 font-bold",children:"H RMS 0 (Sigma)"}),u.jsx("input",{type:"number",step:"any",value:s,onChange:m=>l(m.target.value),className:"p-2 rounded bg-gray-100 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 outline-none focus:border-indigo-500 text-gray-900 dark:text-slate-100 font-mono"})]}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-gray-500 dark:text-slate-400 font-bold",children:"V RMS 0 (Sigma)"}),u.jsx("input",{type:"number",step:"any",value:c,onChange:m=>d(m.target.value),className:"p-2 rounded bg-gray-100 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 outline-none focus:border-indigo-500 text-gray-900 dark:text-slate-100 font-mono"})]}),u.jsx("button",{onClick:p,className:"mt-2 w-full py-2 bg-indigo-600 hover:bg-indigo-500 text-white font-bold rounded shadow transition-colors active:scale-95",children:"Calculate Sigma"}),f!==null&&u.jsxs("div",{className:"mt-2 p-3 bg-indigo-50 dark:bg-indigo-900/30 border border-indigo-200 dark:border-indigo-800 rounded text-center animate-in fade-in slide-in-from-top-1",children:[u.jsx("span",{className:"block text-[10px] uppercase font-bold text-gray-500 dark:text-slate-400 mb-1",children:"Original White Noise Sigma"}),u.jsx("span",{className:"text-lg font-mono font-bold text-indigo-700 dark:text-indigo-300 select-all",children:f.toFixed(5)})]})]})]}):null},ry=[[.1725,.0838,.0576],[.5481,.2985,.217],[.1103,.1968,.3359],[.1038,.1502,.0521],[.2244,.2177,.4302],[.1232,.519,.4044],[.7168,.199,.0271],[.065,.1063,.3924],[.5417,.0884,.1203],[.1042,.0438,.1396],[.3547,.5078,.0482],[.7805,.3541,.0215],[.0234,.0492,.2916],[.0653,.3019,.0645],[.4294,.0319,.0402],[.8568,.5754,.0079],[.5032,.0889,.3055],[0,.249,.383],[.9163,.9155,.8705],[.5819,.5911,.5839],[.3552,.361,.359],[.1876,.1924,.1917],[.0871,.0901,.0908],[.0321,.0319,.0326]],cJ=[[3.2404542,-1.5371385,-.4985314],[-.969266,1.8760108,.041556],[.0556434,-.2040259,1.0572252]];function uJ(e,t,r,n,a,o,i=.5){const c=[],d=Math.max(.1,Math.min(.9,i)),f=Math.hypot(t.x-e.x,t.y-e.y),h=Math.hypot(n.x-r.x,n.y-r.y),p=Math.hypot(r.x-e.x,r.y-e.y),m=Math.hypot(n.x-t.x,n.y-t.y),v=(f+h)/2/5,w=(p+m)/2/3,y=v*d,g=w*d;for(let x=0;x<4;x++)for(let S=0;S<6;S++){const k=S/5,b=x/3,_=(1-k)*(1-b)*e.x+k*(1-b)*t.x+(1-k)*b*r.x+k*b*n.x,N=(1-k)*(1-b)*e.y+k*(1-b)*t.y+(1-k)*b*r.y+k*b*n.y;c.push({x:_-y/2,y:N-g/2,w:y,h:g})}return c}function gP(e){e.length;const t=e[0].length;return Array(t).fill(0).map((r,n)=>e.map(a=>a[n]))}function Wf(e,t){const r=e.length,n=e[0].length,a=t.length,o=t[0].length;if(n!==a)throw new Error("Matrix dimensions mismatch");const i=Array(r).fill(0).map(()=>Array(o).fill(0));for(let s=0;s<r;s++)for(let l=0;l<o;l++)for(let c=0;c<n;c++)i[s][l]+=e[s][c]*t[c][l];return i}function fJ(e,t){const r=gP(e),n=Wf(r,e);for(let c=0;c<3;c++)n[c][c]+=1e-9;const a=[[n[0][0],n[0][1],n[0][2]],[n[1][0],n[1][1],n[1][2]],[n[2][0],n[2][1],n[2][2]]],o=hP(a);if(!o)throw new Error("Singular Matrix (Check Input Data)");const i=[[o[0][0],o[0][1],o[0][2]],[o[1][0],o[1][1],o[1][2]],[o[2][0],o[2][1],o[2][2]]],s=Wf(r,t);return Wf(i,s)}function dJ(e){const t=e.length,r=e.map((n,a)=>[...n,...Array(t).fill(0).map((o,i)=>a===i?1:0)]);for(let n=0;n<t;n++){let a=n;for(let s=n+1;s<t;s++)Math.abs(r[s][n])>Math.abs(r[a][n])&&(a=s);const o=r[n];r[n]=r[a],r[a]=o;const i=r[n][n];if(Math.abs(i)<1e-12)throw new Error("Singular Matrix");for(let s=n;s<2*t;s++)r[n][s]/=i;for(let s=0;s<t;s++)if(s!==n){const l=r[s][n];for(let c=n;c<2*t;c++)r[s][c]-=l*r[n][c]}}return r.map(n=>n.slice(t))}function hJ(e,t,r){const n=[...e].sort((v,w)=>v.id-w.id);if(n.length!==24)throw new Error("Requires exactly 24 patches");const a=[];n.forEach(v=>{const w=v.rawMeans,y=[w[0]-t[0],w[1]-t[1],w[2]-t[2],w[3]-t[3]];let g,x,S;r?(S=y[0],x=(y[1]+y[2])/2,g=y[3]):(g=y[0],x=(y[1]+y[2])/2,S=y[3]),g=Math.max(0,g),x=Math.max(0,x),S=Math.max(0,S),a.push([g,x,S])});const i=a[18],s=(i[0]+i[1]+i[2])/3,l=1/Math.max(1e-9,s),c=a.map(v=>[v[0]*l,v[1]*l,v[2]*l]),f=fJ(c,ry),h=gP(f);let p;try{p=dJ(h)}catch{throw new Error("CCM Inversion Failed. Input data might be too dark or clipped.")}return{matrix:Wf(p,cJ)}}const pJ=({isOpen:e,onClose:t,patchStats:r,initialIsBGGR:n,zIndex:a=200,sizeRatio:o,onSizeChange:i})=>{const[s,l]=j.useState(n),[c,d]=j.useState(["0","0","0","0"]),[f,h]=j.useState(null),[p,m]=j.useState(null);if(j.useEffect(()=>{if(e&&r&&r.length===24){const b=r[23].rawMeans;c[0]==="0"&&c[1]==="0"&&d([b[0].toFixed(2),b[1].toFixed(2),b[2].toFixed(2),b[3].toFixed(2)])}},[e,r]),j.useEffect(()=>{if(!e||!r||r.length!==24)return;const k=c.map(b=>parseFloat(b));if(!k.some(isNaN))try{const b=hJ(r,k,s);h(b),m(null)}catch(b){m(b.message)}},[e,r,s,c]),!e)return null;const v=(k,b)=>{d(_=>{const N=[..._];return N[k]=b,N})},w=k=>{navigator.clipboard.writeText(k)},y=k=>k?k.map(b=>b.map(_=>_.toFixed(4))):[],g=f?y(f.matrix).flat().join(" "):"",x=s?["B","G1","G2","R"]:["R","G1","G2","B"],S=s?["text-blue-500","text-green-500","text-green-500","text-red-500"]:["text-red-500","text-green-500","text-green-500","text-blue-500"];return u.jsxs(zu,{initialPosition:{x:window.innerWidth/2-200,y:100},onClose:t,zIndex:a,className:"w-[500px] bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 flex flex-col shadow-2xl rounded-xl overflow-hidden",children:[u.jsxs("div",{className:"flex justify-between items-center px-4 py-3 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800",children:[u.jsxs("h3",{className:"text-sm font-bold text-gray-800 dark:text-slate-100 flex items-center gap-2",children:[u.jsx("span",{className:"w-2 h-2 rounded-full bg-yellow-500"}),"Color Lab Result"]}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 transition-colors",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("div",{className:"p-5 flex flex-col gap-5",children:[u.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 rounded-lg border border-gray-200 dark:border-slate-700",children:[u.jsxs("div",{className:"flex justify-between items-center mb-1",children:[u.jsx("span",{className:"text-[10px] font-bold text-gray-500 dark:text-slate-400 uppercase",children:"Patch Sampling Size"}),u.jsxs("span",{className:"text-xs font-mono font-bold text-cyan-600 dark:text-cyan-400",children:[Math.round(o*100),"%"]})]}),u.jsx("input",{type:"range",min:"0.1",max:"0.9",step:"0.05",value:o,onChange:k=>i(parseFloat(k.target.value)),className:"w-full h-1.5 bg-gray-300 dark:bg-slate-600 rounded-lg appearance-none cursor-pointer accent-cyan-500"})]}),u.jsx("div",{className:"flex justify-center",children:u.jsxs("div",{className:"flex bg-gray-100 dark:bg-slate-800 p-1 rounded-lg border border-gray-200 dark:border-slate-700",children:[u.jsx("button",{onClick:()=>l(!1),className:`px-4 py-1.5 text-xs font-bold rounded transition-all ${s?"text-gray-500 dark:text-slate-400 hover:text-gray-700":"bg-white dark:bg-slate-600 text-indigo-600 dark:text-indigo-300 shadow-sm"}`,children:"RGGB Mode"}),u.jsx("button",{onClick:()=>l(!0),className:`px-4 py-1.5 text-xs font-bold rounded transition-all ${s?"bg-white dark:bg-slate-600 text-indigo-600 dark:text-indigo-300 shadow-sm":"text-gray-500 dark:text-slate-400 hover:text-gray-700"}`,children:"BGGR Mode"})]})}),u.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800/50 p-3 rounded-lg border border-gray-100 dark:border-slate-700",children:[u.jsx("h4",{className:"text-[10px] font-bold text-gray-400 dark:text-slate-500 uppercase mb-2",children:"Input Black Levels ()"}),u.jsx("div",{className:"grid grid-cols-4 gap-2",children:[0,1,2,3].map(k=>u.jsxs("div",{className:"flex flex-col",children:[u.jsx("label",{className:`text-[10px] font-bold mb-1 ${S[k]}`,children:x[k]}),u.jsx("input",{type:"number",step:"0.01",value:c[k],onChange:b=>v(k,b.target.value),className:"w-full px-2 py-1 text-sm font-mono border border-gray-300 dark:border-slate-600 rounded bg-white dark:bg-slate-900 text-gray-900 dark:text-slate-100 outline-none focus:ring-1 focus:ring-yellow-500"})]},k))})]}),p?u.jsx("div",{className:"text-red-500 text-sm text-center bg-red-50 dark:bg-red-900/20 p-2 rounded",children:p}):f?u.jsx(u.Fragment,{children:u.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800/50 p-3 rounded-lg border border-gray-100 dark:border-slate-700",children:[u.jsx("h4",{className:"text-[10px] font-bold text-gray-400 dark:text-slate-500 uppercase mb-2",children:"Calculated Color Matrix (XYZ  Camera RGB)"}),u.jsx("div",{className:"font-mono text-xs text-gray-700 dark:text-slate-300 grid grid-rows-3 gap-1 mb-3",children:y(f.matrix).map((k,b)=>u.jsxs("div",{className:"flex justify-between bg-white dark:bg-slate-900 px-2 py-1 rounded",children:[u.jsx("span",{className:"text-red-500/80 w-1/3 text-right",children:k[0]}),u.jsx("span",{className:"text-green-500/80 w-1/3 text-right",children:k[1]}),u.jsx("span",{className:"text-blue-500/80 w-1/3 text-right",children:k[2]})]},b))}),u.jsx("button",{onClick:()=>w(g),className:"w-full py-1.5 bg-indigo-600 hover:bg-indigo-500 text-white text-xs font-bold rounded shadow transition-transform active:scale-95 flex items-center justify-center gap-2",children:"Copy Matrix String (for customMatrix)"})]})}):u.jsx("div",{className:"text-gray-400 text-sm text-center",children:"Calculating..."})]})]})},_u=.25;function gJ(e,t){const r=e.length;let n=0,a=0,o=0,i=0;for(let l=0;l<r;l++)n+=e[l],a+=t[l],o+=e[l]*t[l],i+=e[l]*e[l];const s=r*i-n*n;return{slope:(r*o-n*a)/s,intercept:(a*i-n*o)/s}}function mJ(e){const t=e.length,r=new Array(t).fill(0),n=[22,-67,-58,0,58,67,-22],a=252*_u;for(let o=0;o<t;o++){let i=0;for(let s=0;s<7;s++){let l=o-3+s;l<0&&(l=0),l>=t&&(l=t-1),i+=e[l]*n[s]}r[o]=i/a}return r}function mk(e,t,r,n){const a=Math.floor(n.x),o=Math.floor(n.y),i=Math.floor(n.w),s=Math.floor(n.h);if(i<8||s<8)return null;let l=[];for(let M=0;M<s;M++){const E=[],R=(o+M)*t;for(let G=0;G<i;G++)E.push(e[R+a+G]);l.push(E)}let c=0,d=0;for(let M=1;M<s-1;M+=2)for(let E=1;E<i-1;E+=2)c+=Math.abs(l[M][E+1]-l[M][E-1]),d+=Math.abs(l[M+1][E]-l[M-1][E]);let f=i,h=s,p=l;if(d>c){p=Array(i).fill(0).map(()=>Array(s).fill(0));for(let M=0;M<s;M++)for(let E=0;E<i;E++)p[E][s-1-M]=l[M][E];f=s,h=i}const m=[],v=[];for(let M=0;M<h;M++){const E=p[M],R=E.map((X,L)=>L===0?0:Math.abs(X-E[L-1])),G=Math.max(...R),Q=R.indexOf(G);if(G>1){const X=Math.max(0,Q-3),L=Math.min(f,Q+4);let ee=0,Z=0;for(let $=X;$<L;$++)ee+=R[$],Z+=$*R[$];ee>0&&(m.push(Z/ee),v.push(M))}}if(m.length<h*.4)return null;const{slope:w,intercept:y}=gJ(v,m),g=Math.cos(Math.atan(w)),x=[],S=[];for(let M=0;M<h;M++){const E=w*M+y;for(let R=0;R<f;R++)x.push((R-E)*g),S.push(p[M][R])}const k=Array.from(x.keys()).sort((M,E)=>x[M]-x[E]),b=k.map(M=>x[M]),_=k.map(M=>S[M]),N=b[0],O=b[b.length-1],P=Math.floor((O-N)/_u),A=new Array(P).fill(0),C=new Array(P).fill(0);for(let M=0;M<b.length;M++){const E=Math.floor((b[M]-N)/_u);E>=0&&E<P&&(A[E]+=_[M],C[E]++)}let T=_[0];for(let M=0;M<P;M++)C[M]>0?(A[M]/=C[M],T=A[M]):A[M]=T;const F=A.slice(0,10).reduce((M,E)=>M+E,0)/10,D=A.slice(-10).reduce((M,E)=>M+E,0)/10;if(F>D){const M=Math.max(...A),E=Math.min(...A);for(let R=0;R<A.length;R++)A[R]=M-A[R]+E}const U=mJ(A);return{esf:A,lsfFull:U}}function yJ(e,t,r){if(e.length===0)return null;const n=4096,a=new Yi(n),o=Math.round(t/_u),i=r?1e3/r:1,s=new Float32Array(501);for(let m=0;m<=500;m++)s[m]=m/500*i;const l=new Float32Array(501).fill(0);let c=0,d=[],f=[];for(const m of e){const v=m.lsfFull;let w=0,y=-1/0;for(let O=0;O<v.length;O++)v[O]>y&&(y=v[O],w=O);const g=Math.max(0,w-o),x=Math.min(v.length,w+o),S=v.slice(g,x);if(S.length<8)continue;d.length===0&&(d=S,f=m.esf);const k=new Float32Array(n).fill(0);for(let O=0;O<S.length;O++){const P=.54-.46*Math.cos(2*Math.PI*O/(S.length-1));k[O]=S[O]*P}a.transform(k);const b=[],_=[];for(let O=0;O<=n/2;O++){const P=Math.sqrt(a._real[O]**2+a._imag[O]**2);b.push(P),_.push(O/(n*_u)*i)}const N=b[0];if(N>0){for(let O=0;O<=500;O++){const P=s[O];l[O]+=vJ(P,_,b)/N}c++}}if(c===0)return null;const h=Array.from(l).map(m=>m/c);let p=null;for(let m=0;m<h.length-1;m++)if(h[m]>=.5&&h[m+1]<.5){p=s[m]+(.5-h[m])*(s[m+1]-s[m])/(h[m+1]-h[m]);break}return{esf:f,lsf:[],lsfCropped:d,mtf:h,freqs:Array.from(s),mtf50:p}}function vJ(e,t,r){if(e<=t[0])return r[0];if(e>=t[t.length-1])return r[r.length-1];let n=0;for(;e>t[n+1];)n++;const a=(e-t[n])/(t[n+1]-t[n]);return r[n]+a*(r[n+1]-r[n])}const xJ=({isOpen:e,onClose:t,rawImageData:r,roi:n,zIndex:a=110,onFocus:o,displaySettings:i})=>{const[s,l]=j.useState([]),[c,d]=j.useState(""),[f,h]=j.useState(""),[p,m]=j.useState(12),[v,w]=j.useState(1),[y,g]=j.useState(null),[x,S]=j.useState({x:100,y:50}),[k,b]=j.useState({w:1e3,h:800}),[_,N]=j.useState(!1),[O,P]=j.useState(!1),A=j.useRef({x:0,y:0}),C=j.useRef({w:0,h:0}),T=()=>{if(!(!r||!n))try{let L;if((i==null?void 0:i.renderMode)==="advanced-zero-dep"&&i.advancedZeroDep){const ee=pP(r,n,i);L=mk(ee.data,ee.width,ee.height,{x:0,y:0,w:ee.width,h:ee.height})}else L=mk(r.data,r.width,r.height,n);L?l(ee=>[...ee,L]):alert("Could not detect valid edge in selection. Make sure it contains a transition.")}catch(L){console.error(L),alert("Error processing ROI")}},F=()=>{l([]),g(null),w(1)},D=()=>{if(!y)return;const L=parseFloat(c),$=`data:text/csv;charset=utf-8,Frequency (${!isNaN(L)&&L>0?"lp/mm":"cy/px"}),MTF
`+y.freqs.map((Y,se)=>`${Y.toFixed(6)},${y.mtf[se].toFixed(6)}`).join(`
`),ae=encodeURI($),ue=document.createElement("a");ue.setAttribute("href",ae),ue.setAttribute("download",`sfr_data_${Date.now()}.csv`),document.body.appendChild(ue),ue.click(),document.body.removeChild(ue)};j.useEffect(()=>{if(s.length===0){g(null);return}const L=parseFloat(c),ee=!isNaN(L)&&L>0?L:null,Z=yJ(s,p,ee);g(Z)},[s,p,c]),j.useEffect(()=>{e&&s.length===0&&n&&r&&T()},[e]);const U=L=>{o&&o(),!(L.target.closest("button")||L.target.closest("input"))&&(N(!0),A.current={x:L.clientX-x.x,y:L.clientY-x.y})},M=L=>{L.stopPropagation(),L.preventDefault(),P(!0),A.current={x:L.clientX,y:L.clientY},C.current={w:k.w,h:k.h}};j.useEffect(()=>{const L=Z=>{if(_)S({x:Z.clientX-A.current.x,y:Z.clientY-A.current.y});else if(O){const $=Z.clientX-A.current.x,ae=Z.clientY-A.current.y;b({w:Math.max(600,C.current.w+$),h:Math.max(500,C.current.h+ae)})}},ee=()=>{N(!1),P(!1)};return(_||O)&&(window.addEventListener("mousemove",L),window.addEventListener("mouseup",ee)),()=>{window.removeEventListener("mousemove",L),window.removeEventListener("mouseup",ee)}},[_,O]);const E=j.useMemo(()=>{if(!(y!=null&&y.mtf50)||!f)return null;const L=parseFloat(f);if(isNaN(L)||L<=0)return null;let ee=y.mtf50;const Z=parseFloat(c);return!isNaN(Z)&&Z>0&&(ee=y.mtf50*(Z/1e3)),ee*2*L},[y,f,c]);if(!e)return null;const R=y?y.lsfCropped.map((L,ee)=>({x:ee,y:L})):[],G=y?y.esf.map((L,ee)=>({x:ee,y:L})):[],Q=y?y.mtf.map((L,ee)=>({freq:y.freqs[ee],mtf:L})).filter(L=>L.freq<=(parseFloat(c)?200:1)):[],X=c?"lp/mm":"cy/px";return u.jsxs("div",{className:"fixed flex flex-col bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 shadow-2xl rounded-xl overflow-hidden",style:{left:x.x,top:x.y,width:k.w,height:k.h,zIndex:a??100},onMouseDownCapture:o,children:[u.jsxs("div",{className:`flex justify-between items-center px-4 py-2 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800 select-none ${_?"cursor-grabbing":"cursor-grab"}`,onMouseDown:U,children:[u.jsxs("h3",{className:"text-sm font-bold text-orange-600 dark:text-orange-400 flex items-center gap-2 pointer-events-none",children:["SFR Expert (Edge Method)",u.jsxs("span",{className:"text-xs bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-300 px-2 py-0.5 rounded border border-orange-200 dark:border-orange-800",children:[s.length," ROI",s.length!==1?"s":""]}),(i==null?void 0:i.renderMode)==="advanced-zero-dep"&&u.jsx("span",{className:"text-xs font-bold bg-indigo-100 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300 px-2 py-0.5 rounded border border-indigo-200 dark:border-indigo-800 animate-pulse",children:"Linear Unmixing Active"})]}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 transition-colors",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("div",{className:"p-3 bg-gray-50/50 dark:bg-slate-800/30 border-b border-gray-200 dark:border-slate-700 flex items-center gap-4 flex-wrap text-xs flex-shrink-0",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"font-bold text-gray-500 dark:text-slate-400",children:"Pixel Pitch (m):"}),u.jsx("input",{type:"number",value:c,onChange:L=>d(L.target.value),placeholder:"Default (cy/px)",className:"w-20 px-2 py-1 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded outline-none focus:border-orange-500"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"font-bold text-gray-500 dark:text-slate-400",children:"Image Height:"}),u.jsx("input",{type:"number",value:f,onChange:L=>h(L.target.value),placeholder:"px",className:"w-16 px-2 py-1 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded outline-none focus:border-orange-500"})]}),u.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-[150px]",children:[u.jsxs("span",{className:"font-bold text-gray-500 dark:text-slate-400 whitespace-nowrap",children:["Radius (px): ",p.toFixed(1)]}),u.jsx("input",{type:"range",min:"2",max:"50",step:"0.5",value:p,onChange:L=>m(parseFloat(L.target.value)),className:"w-full h-1.5 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-orange-500"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:T,className:"px-3 py-1.5 bg-orange-600 hover:bg-orange-500 text-white font-bold rounded shadow-sm transition-transform active:scale-95",children:"Add Current ROI"}),u.jsx("button",{onClick:D,disabled:!y,className:"px-3 py-1.5 bg-indigo-600 hover:bg-indigo-500 disabled:bg-gray-300 disabled:text-gray-500 text-white font-bold rounded shadow-sm transition-transform active:scale-95",children:"Export CSV"}),u.jsx("button",{onClick:F,className:"px-3 py-1.5 bg-gray-200 hover:bg-gray-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-600 dark:text-slate-300 font-bold rounded transition-colors",children:"Clear"})]})]}),u.jsxs("div",{className:"flex-1 p-4 overflow-hidden flex flex-col gap-4 bg-white dark:bg-slate-950",children:[u.jsxs("div",{className:"h-[35%] min-h-[180px] flex gap-4",children:[u.jsxs("div",{className:"flex-1 bg-gray-50 dark:bg-slate-900/50 border border-gray-200 dark:border-slate-800 rounded-xl p-2 relative flex flex-col",children:[u.jsx("h4",{className:"text-[10px] font-bold text-gray-500 dark:text-slate-400 absolute top-2 left-3 z-10 bg-white/80 dark:bg-slate-900/80 px-1 rounded",children:"ESF"}),u.jsx("div",{className:"flex-1 min-h-0 w-full",children:u.jsx(vo,{width:"100%",height:"100%",children:u.jsxs(Bs,{data:G,children:[u.jsx(qa,{strokeDasharray:"3 3",stroke:"#374151",opacity:.1}),u.jsx(Un,{dataKey:"x",hide:!0}),u.jsx(Wn,{hide:!0,domain:["auto","auto"]}),u.jsx(Vr,{contentStyle:{fontSize:"10px"}}),u.jsx(Or,{type:"monotone",dataKey:"y",stroke:"#3b82f6",strokeWidth:1,dot:!1,isAnimationActive:!1})]})})})]}),u.jsxs("div",{className:"flex-1 bg-gray-50 dark:bg-slate-900/50 border border-gray-200 dark:border-slate-800 rounded-xl p-2 relative flex flex-col",children:[u.jsxs("div",{className:"absolute top-2 left-3 z-10 flex items-center gap-3",children:[u.jsxs("h4",{className:"text-[10px] font-bold text-gray-500 dark:text-slate-400 bg-white/80 dark:bg-slate-900/80 px-1 rounded",children:["LSF ",v>1?`(x${v.toFixed(0)})`:""]}),u.jsxs("div",{className:"flex items-center gap-1 bg-white/80 dark:bg-slate-900/80 px-1 rounded border border-gray-200 dark:border-slate-700",children:[u.jsx("span",{className:"text-[9px] text-gray-400 font-bold",children:"Zoom"}),u.jsx("input",{type:"range",min:"1",max:"50",step:"1",value:v,onChange:L=>w(parseFloat(L.target.value)),className:"w-16 h-1 bg-gray-300 dark:bg-slate-600 rounded-lg appearance-none cursor-pointer accent-red-500",title:"Vertical Zoom to observe noise floor"})]})]}),u.jsx("div",{className:"flex-1 min-h-0 w-full",children:u.jsx(vo,{width:"100%",height:"100%",children:u.jsxs(Bs,{data:R,children:[u.jsx(qa,{strokeDasharray:"3 3",stroke:"#374151",opacity:.1}),u.jsx(Ho,{y:0,stroke:"#9ca3af",strokeOpacity:.5,strokeDasharray:"3 3"}),u.jsx(Un,{dataKey:"x",hide:!0}),u.jsx(Wn,{hide:!1,width:30,tick:{fontSize:9,fill:"#888"},domain:[L=>L,L=>L/v],allowDataOverflow:!0,tickFormatter:L=>L.toFixed(3)}),u.jsx(Vr,{contentStyle:{fontSize:"10px"},formatter:L=>[L.toFixed(5),"Amplitude"]}),u.jsx(Or,{type:"monotone",dataKey:"y",stroke:"#ef4444",strokeWidth:2,dot:!1,isAnimationActive:!1})]})})})]})]}),u.jsxs("div",{className:"flex-1 bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-800 rounded-xl p-2 relative flex flex-col min-h-[250px]",children:[u.jsxs("div",{className:"flex justify-between items-start px-2 mb-1",children:[u.jsx("h4",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"MTF / Spatial Frequency Response"}),u.jsxs("div",{className:"flex gap-4 items-center",children:[(y==null?void 0:y.mtf50)&&u.jsxs("div",{className:"text-sm font-bold text-gray-600 dark:text-slate-300",children:["MTF50 = ",u.jsxs("span",{className:"text-orange-600 dark:text-orange-400",children:[y.mtf50.toFixed(2)," ",X]})]}),E!==null&&u.jsxs("div",{className:"text-lg font-bold text-white bg-orange-500 px-3 py-0.5 rounded shadow-lg animate-in fade-in",children:[Math.round(E)," LW/PH"]})]})]}),u.jsxs("div",{className:"flex-1 relative min-h-0 w-full",children:[u.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 pointer-events-none select-none opacity-10",children:u.jsx("svg",{viewBox:"0 0 400 60",className:"w-[40rem] h-auto",children:u.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"24",fontWeight:"bold",children:" y-g-jiang.github.io"})})}),u.jsx(vo,{width:"100%",height:"100%",children:u.jsxs(Bs,{data:Q,margin:{top:10,right:30,left:10,bottom:20},children:[u.jsx(qa,{strokeDasharray:"3 3",stroke:"#374151",opacity:.15}),u.jsx(Un,{dataKey:"freq",type:"number",tick:{fontSize:10,fill:"#9ca3af"},label:{value:`Frequency (${X})`,position:"insideBottom",offset:-10,fontSize:11,fill:"#9ca3af"}}),u.jsx(Wn,{domain:[0,1.1],tick:{fontSize:10,fill:"#9ca3af"},label:{value:"MTF",angle:-90,position:"insideLeft",fontSize:11,fill:"#9ca3af"}}),u.jsx(Vr,{contentStyle:{backgroundColor:"rgba(15, 23, 42, 0.9)",border:"none",color:"#fff",fontSize:"11px",borderRadius:"4px"},labelFormatter:L=>`Freq: ${Number(L).toFixed(3)}`,formatter:L=>[L.toFixed(4),"MTF"]}),u.jsx(Va,{verticalAlign:"top",height:20}),u.jsx(Or,{type:"monotone",dataKey:"mtf",name:"SFR",stroke:"#000000",strokeWidth:2,className:"dark:stroke-white",dot:!1,isAnimationActive:!1}),(y==null?void 0:y.mtf50)&&u.jsx(Iu,{x:y.mtf50,y:.5,r:4,fill:"#f97316",stroke:"none",children:u.jsx(Qr,{value:"MTF50",position:"top",fill:"#f97316",fontSize:10,fontWeight:"bold"})})]})})]})]})]}),u.jsx("div",{className:"absolute bottom-0 right-0 w-4 h-4 cursor-nwse-resize z-50 bg-gray-300 dark:bg-slate-600 rounded-tl hover:bg-orange-500 transition-colors",onMouseDown:M})]})};function bJ(e,t,r,n=3){const o=r.byteLength,i=8,s=i+o,l=[{id:256,type:4,count:1,value:e},{id:257,type:4,count:1,value:t},{id:258,type:3,count:n,value:n===1?16:[16,16,16]},{id:259,type:3,count:1,value:1},{id:262,type:3,count:1,value:n===1?1:2},{id:273,type:4,count:1,value:i},{id:277,type:3,count:1,value:n},{id:278,type:4,count:1,value:t},{id:279,type:4,count:1,value:o}],c=2+l.length*12+4;let d=0;const f=l.map(g=>{let x=g.type===3?2:4;const S=g.count*x,k=S<=4;let b=0;return k||(b=d,d+=S),{...g,fits:k,totalBytes:S,extraOffset:b}}),h=s+c+d,p=new ArrayBuffer(h),m=new DataView(p),v=new Uint8Array(p);m.setUint16(0,18761,!0),m.setUint16(2,42,!0),m.setUint32(4,s,!0),v.set(new Uint8Array(r.buffer,r.byteOffset,r.byteLength),i);let w=s;m.setUint16(w,l.length,!0),w+=2;const y=s+c;return f.forEach(g=>{if(m.setUint16(w,g.id,!0),m.setUint16(w+2,g.type,!0),m.setUint32(w+4,g.count,!0),g.fits)Array.isArray(g.value)||(g.type===3?m.setUint16(w+8,g.value,!0):m.setUint32(w+8,g.value,!0));else{const x=y+g.extraOffset;m.setUint32(w+8,x,!0),Array.isArray(g.value)&&g.value.forEach((S,k)=>{m.setUint16(x+k*2,S,!0)})}w+=12}),m.setUint32(w,0,!0),p}const wJ="http://localhost:5428",kJ=(e=!1)=>{const[t,r]=j.useState({isConnected:!1,message:"Initializing...",hasDngConverter:!1});return j.useEffect(()=>{if(e){r({isConnected:!1,message:"Bridge Paused",hasDngConverter:!1});return}const n=async()=>{try{const o=new AbortController,i=setTimeout(()=>o.abort(),1e3),s=await fetch(`${wJ}/health`,{method:"GET",signal:o.signal});if(clearTimeout(i),s.ok){const l=await s.json(),c=`Connected (${l.exiftool||"Ready"})`;r(d=>d.isConnected===!0&&d.message===c&&d.version===l.exiftool&&d.hasDngConverter===!!l.dng_converter?d:{isConnected:!0,message:c,version:l.exiftool,hasDngConverter:!!l.dng_converter})}else r(l=>l.isConnected===!1&&l.message==="Service Error"?l:{isConnected:!1,message:"Service Error",hasDngConverter:!1})}catch{r(i=>i.isConnected===!1&&i.message==="Not Detected"?i:{isConnected:!1,message:"Not Detected",hasDngConverter:!1})}};n();const a=setInterval(n,2e3);return()=>clearInterval(a)},[e]),t},SJ="JTR_BlobStore",Qa="raw_files",jJ=1,w0=()=>new Promise((e,t)=>{const r=indexedDB.open(SJ,jJ);r.onupgradeneeded=n=>{const a=n.target.result;a.objectStoreNames.contains(Qa)||a.createObjectStore(Qa)},r.onsuccess=()=>e(r.result),r.onerror=()=>t(r.error)}),yk=async(e,t)=>{const r=await w0();return new Promise((n,a)=>{const o=r.transaction(Qa,"readwrite");o.objectStore(Qa).put(t,e),o.oncomplete=()=>n(),o.onerror=()=>a(o.error)})},_J=async e=>{const t=await w0();return new Promise((r,n)=>{const i=t.transaction(Qa,"readonly").objectStore(Qa).get(e);i.onsuccess=()=>r(i.result),i.onerror=()=>n(i.error)})},NJ=async()=>{const e=await w0();return new Promise((t,r)=>{const n=e.transaction(Qa,"readwrite");n.objectStore(Qa).clear(),n.oncomplete=()=>t(),n.onerror=()=>r(n.error)})},mP="jtr_workspace_index",OJ=e=>{try{const t=JSON.stringify(e);localStorage.setItem(mP,t)}catch(t){console.error("Failed to save workspace index",t)}},PJ=()=>{try{const e=localStorage.getItem(mP);return e?JSON.parse(e):null}catch(e){return console.error("Failed to load workspace index",e),null}},MJ=async e=>{const n=(await w0()).transaction(Qa,"readwrite").objectStore(Qa),a=n.getAllKeys();a.onsuccess=()=>{a.result.forEach(i=>{e.includes(i)||n.delete(i)})}},un=1024,vk=(e,t,r)=>{const n=e.width,a=e.height,o=new ImageData(t,r),i=e.data,s=o.data,l=n/t,c=a/r;for(let d=0;d<r;d++){const f=Math.floor(d*c),h=d*t*4,p=f*n*4;for(let m=0;m<t;m++){const w=Math.floor(m*l)*4,y=h+m*4,g=p+w;s[y]=i[g],s[y+1]=i[g+1],s[y+2]=i[g+2],s[y+3]=i[g+3]}}return o},AJ=({stats:e,onClose:t,onMinimize:r,isBGGR:n,onToggleBGGR:a,onOpenWindow:o,displaySettings:i,zIndex:s,onFocus:l,rawImageData:c})=>{if(!e)return null;const d=!!i.showKadc&&!!i.blackLevel,f=i.blackLevel||[0,0,0,0],h=!!i.subtractBlackLevelFromStats&&!!i.blackLevel,p=j.useMemo(()=>{if(!e||!c||!i.advancedZeroDep||i.renderMode!=="advanced-zero-dep")return null;try{const{x,y:S,width:k,height:b}=e,_=pP(c,{x,y:S,w:k,h:b},i),N=[0,0,0,0],O=[0,0,0,0],P=Math.floor(S),A=Math.floor(x);for(let C=0;C<_.height;C++){const T=C*_.width;for(let F=0;F<_.width;F++){const D=_.data[T+F],U=P+C,M=A+F,E=U%2,R=M%2,G=E*2+R;N[G]+=D,O[G]++}}return N.map((C,T)=>O[T]>0?C/O[T]:0)}catch(x){return console.error("Unmix calc error",x),null}},[e,c,i]),m=(x,S,k)=>{if(!d)return null;const b=S*S;return b<=1e-4?0:(x-k)/b},v=(x,S)=>h?x-f[S]:x,w=()=>{if(!h){alert(`Sub. BL
Please enable 'Sub. BL' in Tools sidebar first.`);return}let x,S,k,b;n?(b=0,S=1,k=2,x=3):(x=0,S=1,k=2,b=3);const _=O=>e.means[O]-f[O],N=O=>e.stdDevs[O];localStorage.setItem("import_signal_r",_(x).toString()),localStorage.setItem("import_signal_g1",_(S).toString()),localStorage.setItem("import_signal_g2",_(k).toString()),localStorage.setItem("import_signal_b",_(b).toString()),localStorage.setItem("import_sigma_r",N(x).toString()),localStorage.setItem("import_sigma_g1",N(S).toString()),localStorage.setItem("import_sigma_g2",N(k).toString()),localStorage.setItem("import_sigma_b",N(b).toString()),window.open("https://y-g-jiang.github.io/XJZS.html","_blank")},y=n?[{name:"B",desc:"(0,0)",mean:v(e.means[0],0),std:e.stdDevs[0],color:"text-blue-500",k:m(e.means[0],e.stdDevs[0],f[0]),unmixed:p?p[0]:null},{name:"G1",desc:"(0,1)",mean:v(e.means[1],1),std:e.stdDevs[1],color:"text-green-500",k:m(e.means[1],e.stdDevs[1],f[1]),unmixed:p?p[1]:null},{name:"G2",desc:"(1,0)",mean:v(e.means[2],2),std:e.stdDevs[2],color:"text-green-500",k:m(e.means[2],e.stdDevs[2],f[2]),unmixed:p?p[2]:null},{name:"R",desc:"(1,1)",mean:v(e.means[3],3),std:e.stdDevs[3],color:"text-red-500",k:m(e.means[3],e.stdDevs[3],f[3]),unmixed:p?p[3]:null}]:[{name:"R",desc:"(0,0)",mean:v(e.means[0],0),std:e.stdDevs[0],color:"text-red-500",k:m(e.means[0],e.stdDevs[0],f[0]),unmixed:p?p[0]:null},{name:"G1",desc:"(0,1)",mean:v(e.means[1],1),std:e.stdDevs[1],color:"text-green-500",k:m(e.means[1],e.stdDevs[1],f[1]),unmixed:p?p[1]:null},{name:"G2",desc:"(1,0)",mean:v(e.means[2],2),std:e.stdDevs[2],color:"text-green-500",k:m(e.means[2],e.stdDevs[2],f[2]),unmixed:p?p[2]:null},{name:"B",desc:"(1,1)",mean:v(e.means[3],3),std:e.stdDevs[3],color:"text-blue-500",k:m(e.means[3],e.stdDevs[3],f[3]),unmixed:p?p[3]:null}],g=p?"w-96":d?"w-80":"w-60";return u.jsxs(zu,{className:`${g} p-0 overflow-hidden transition-all duration-300 bg-white dark:bg-black border-2 border-black dark:border-white shadow-[4px_4px_0px_rgba(0,0,0,0.5)] dark:shadow-[4px_4px_0px_rgba(255,255,255,0.2)]`,onClose:t,zIndex:s,onFocus:l,initialPosition:{x:20,y:80},children:[u.jsxs("div",{className:"flex justify-between items-center px-3 py-2 border-b border-gray-100 dark:border-slate-800 bg-gray-50/50 dark:bg-slate-800/50 select-none",children:[u.jsxs("h3",{className:"text-xs font-bold text-gray-700 dark:text-slate-300 uppercase tracking-wider flex items-center gap-2",children:["ROI Analysis",u.jsxs("span",{className:"text-[10px] font-normal text-gray-400 bg-gray-200 dark:bg-slate-700 px-1.5 py-0.5 rounded",children:[Math.round(e.width),"",Math.round(e.height)]})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 transition-colors p-1 rounded-md hover:bg-gray-200 dark:hover:bg-slate-700 relative z-20",children:u.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 dark:hover:text-red-400 transition-colors p-1 rounded-md hover:bg-gray-200 dark:hover:bg-slate-700 relative z-20",children:u.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),u.jsxs("div",{className:"p-3",children:[u.jsxs("div",{className:"flex justify-between items-center mb-3",children:[u.jsxs("div",{className:"text-[10px] text-gray-400 dark:text-slate-500 font-mono leading-tight",children:["X: ",Math.round(e.x),u.jsx("br",{}),"Y: ",Math.round(e.y)]}),u.jsx("button",{onClick:()=>a(!n),className:"text-[10px] font-bold px-2 py-1 rounded bg-gray-100 hover:bg-gray-200 dark:bg-slate-800 dark:hover:bg-slate-700 text-gray-600 dark:text-slate-300 transition-colors border border-gray-200 dark:border-slate-700 relative z-20",title:"Toggle Bayer Pattern Interpretation",children:n?"BGGR":"RGGB"})]}),u.jsxs("table",{className:"w-full mb-3",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-[10px] text-gray-400 dark:text-slate-500 border-b border-gray-100 dark:border-slate-800",children:[u.jsx("th",{className:"text-left pb-1 font-medium",children:"Ch"}),u.jsxs("th",{className:"text-right pb-1 font-medium",children:["Mean",h?"*":""]}),u.jsx("th",{className:"text-right pb-1 font-medium",children:"Std()"}),d&&u.jsx("th",{className:"text-right pb-1 font-medium text-cyan-600 dark:text-cyan-400",children:"K"}),p&&u.jsx("th",{className:"text-right pb-1 font-medium text-indigo-600 dark:text-indigo-400",children:"Unmix"})]})}),u.jsx("tbody",{className:"font-mono text-xs",children:y.map((x,S)=>u.jsxs("tr",{className:"group hover:bg-gray-50 dark:hover:bg-slate-800/30 transition-colors",children:[u.jsxs("td",{className:"py-1",children:[u.jsx("span",{className:`font-bold ${x.color}`,children:x.name}),u.jsx("span",{className:"text-[9px] text-gray-300 dark:text-slate-600 ml-1 hidden group-hover:inline",children:x.desc})]}),u.jsx("td",{className:"py-1 text-right text-gray-700 dark:text-slate-200 font-semibold",title:h?"Mean minus Black Level":"Raw Mean",children:x.mean.toFixed(2)}),u.jsx("td",{className:"py-1 text-right text-gray-500 dark:text-slate-400",children:x.std.toFixed(2)}),d&&u.jsx("td",{className:"py-1 text-right text-cyan-600 dark:text-cyan-400 font-bold",children:x.k!==null?x.k.toFixed(3):"-"}),p&&u.jsx("td",{className:"py-1 text-right text-indigo-600 dark:text-indigo-400 font-bold",children:x.unmixed!==null?x.unmixed.toFixed(1):"-"})]},S))})]}),h&&u.jsx("div",{className:"mb-2 text-[9px] text-gray-400 dark:text-slate-500 text-right italic",children:"* Mean adjusted by Black Level"}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsx("button",{onClick:()=>o("histogram"),className:"relative z-20 flex-1 min-w-[50px] py-1.5 bg-cyan-600 hover:bg-cyan-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"View Histogram",children:"Hist"}),u.jsx("button",{onClick:()=>o("quant"),className:"relative z-20 flex-1 min-w-[50px] py-1.5 bg-teal-600 hover:bg-teal-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"View Quantization Steps",children:"Quant"}),u.jsx("button",{onClick:()=>o("fft"),className:"relative z-20 flex-1 min-w-[50px] py-1.5 bg-purple-600 hover:bg-purple-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"View Power Spectrum (FFT)",children:"FFT"}),u.jsx("button",{onClick:()=>o("pearson"),className:"relative z-20 flex-1 min-w-[50px] py-1.5 bg-indigo-600 hover:bg-indigo-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"Pearson Correlation Analysis",children:"PCC"}),u.jsx("button",{onClick:w,className:"relative z-20 flex-1 min-w-[50px] py-1.5 bg-pink-600 hover:bg-pink-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"Color Noise Analysis (External Tool)",children:"ColorN"})]})]})]})},CJ=()=>{var ix;const[e,t]=j.useState(!0),[r,n]=j.useState("Initializing..."),a=j.useRef(!1),[o,i]=j.useState("dark");j.useEffect(()=>{const W=window.document.documentElement;W.classList.remove(o==="dark"?"light":"dark"),W.classList.add(o)},[o]);const[s,l]=j.useState(!1),[c,d]=j.useState(!1),[f,h]=j.useState(!1),p=kJ(s||c||f),[m,v]=j.useState(!1),[w,y]=j.useState([]),[g,x]=j.useState(-1),[S,k]=j.useState([]),b=j.useMemo(()=>w[g],[w,g]),_=j.useRef(null);j.useEffect(()=>{_.current=b||null},[b]);const N=(b==null?void 0:b.file)||null,O=(b==null?void 0:b.imageElement)||null,P=(b==null?void 0:b.rawImageData)||null,A=(b==null?void 0:b.rawFileBuffer)||null,C=(b==null?void 0:b.renderedRawImageData)||null,T=(b==null?void 0:b.referenceImageData)||null,F=(b==null?void 0:b.sampledImageData)||null,D=(b==null?void 0:b.exifData)||null,U=(b==null?void 0:b.isThreePlane)||!1,M=(b==null?void 0:b.xtransPhase)||{x:0,y:0},E=(b==null?void 0:b.displaySettings)||{exposure:0,demosaicMethod:3,blackLevel:void 0,wbGains:[1,1],showKadc:!0,subtractBlackLevelFromStats:!0},[R,G]=j.useState(!1),[Q,X]=j.useState(null),[L,ee]=j.useState(!1),[Z,$]=j.useState(!1),[ae,ue]=j.useState(null),[Y,se]=j.useState([]),[ge,K]=j.useState(100),[he,pe]=j.useState(!0),[oe,_e]=j.useState(!1),[be,Ie]=j.useState(null),[dt,Pe]=j.useState(!1),[Be,ut]=j.useState(!1),[vt,mr]=j.useState(!1),[Ke,yr]=j.useState(!1),[Fe,Zt]=j.useState(!1),[Gt,Qt]=j.useState(!1),[Ht,ht]=j.useState(!1),[$e,pt]=j.useState(!1),[At,vr]=j.useState(!1),[gn,Mn]=j.useState({x:0,y:0}),[nr,An]=j.useState(!1),[Ye,ar]=j.useState(!1),[lr,Mr]=j.useState([]),[rn,Ar]=j.useState(0),[Cn,Hn]=j.useState(null),[Vn,nn]=j.useState(!1),[oa,an]=j.useState([]),[Jt,cr]=j.useState(.5),[Ct,ie]=j.useState(!1),[Ae,Ue]=j.useState(2),[ct,qe]=j.useState(1),[wt,ur]=j.useState([]),[fr,ze]=j.useState(null),[Ze,xt]=j.useState(0),[gt,Tt]=j.useState([]),[me,Fr]=j.useState([]),[eo,Xn]=j.useState(64),[En,Rl]=j.useState(10),[mn,V]=j.useState(10),[je,_t]=j.useState(4),[Lt,Tn]=j.useState(1),[dr,Yr]=j.useState(0),[$n,pi]=j.useState("processed"),[to,Kn]=j.useState(!1),ro=j.useMemo(()=>E.blackLevel?E.blackLevel:P!=null&&P.blackLevels?[P.blackLevels[0],P.blackLevels[1],P.blackLevels[2],P.blackLevels[3]]:[0,0,0,0],[E.blackLevel,P]),zr=(D==null?void 0:D.ImageHeight)||(D==null?void 0:D.ExifImageHeight)||(P==null?void 0:P.height)||0,[La,It]=j.useState(null),[ns,lt]=j.useState(null),[as,os]=j.useState({x:0,y:0}),[z,J]=j.useState(1),[re,B]=j.useState("pan"),de=j.useRef(null),Oe=j.useRef(null),De=j.useCallback(async()=>{if(!A||!b)return;mr(!1);const W=Ke,H=Fe;lt(`Rendering 16-bit TIFF (${W?"Stretched":"Native DN"} | ${H?"sRGB":"Linear"})...`);try{const q=await WQ(A.slice(0),E,W,H),ne=bJ(q.width,q.height,q.data,q.channels),xe=new Blob([ne],{type:"image/tiff"}),ye=URL.createObjectURL(xe),Ee=document.createElement("a"),Me=b.fileName||"rendered",Te=Me.substring(0,Me.lastIndexOf("."))||Me,Ne=[W?"stretch":"native",H?"srgb":"linear"].join("_");Ee.href=ye,Ee.download=`${Te}_${Ne}.tif`,document.body.appendChild(Ee),Ee.click(),document.body.removeChild(Ee),URL.revokeObjectURL(ye)}catch(q){It("TIFF Export Failed: "+q.message)}finally{lt(null)}},[A,b,E,Ke,Fe]),et=j.useCallback(()=>{!A||!b||mr(!0)},[A,b]);j.useEffect(()=>{const W=H=>{(H.ctrlKey||H.metaKey)&&H.key.toLowerCase()==="s"&&(H.preventDefault(),et())};return window.addEventListener("keydown",W),()=>window.removeEventListener("keydown",W)},[et]),j.useEffect(()=>{(async()=>{if(a.current)return;const H=PJ();if(H&&(n("Restoring layout..."),i(H.theme),pe(H.sidebarOpen),H.sessions.length>0)){n(`Restoring ${H.sessions.length} images...`);const q=[];for(const ne of H.sessions){if(a.current){console.log("Restoration cancelled.");return}await new Promise(xe=>setTimeout(xe,50));try{const xe=await _J(ne.id);if(xe){const ye={id:ne.id,fileName:ne.fileName,file:null,imageElement:null,rawImageData:null,rawFileBuffer:xe,renderedRawImageData:null,referenceImageData:null,sampledImageData:null,exifData:null,isThreePlane:ne.isThreePlane,displaySettings:ne.displaySettings,originalRawFileBuffer:null,isXTransOriginal:!1,isXTransConverted:!1,xtransPhase:{x:0,y:0}},{previewBlob:Ee,analysisData:Me}=await vi(xe);let Te=null;Me&&(Te=await dk(xe,ne.displaySettings));const Ne=URL.createObjectURL(Ee),Re=new Image;Re.src=Ne,await new Promise(ot=>{Re.onload=()=>ot()}),q.push({...ye,rawImageData:Me,renderedRawImageData:Te,previewUrl:Ne,imageElement:Re,exifData:Me.metadata})}}catch(xe){console.error(`Failed to restore session ${ne.id}`,xe)}}if(a.current)return;if(y(q),H.activeSessionId){const ne=q.findIndex(xe=>xe.id===H.activeSessionId);ne>=0?x(ne):q.length>0&&x(0)}se(H.windows)}a.current||t(!1)})()},[]);const Qe=j.useRef(null),Ge=j.useCallback(()=>{e||(Qe.current&&clearTimeout(Qe.current),Qe.current=window.setTimeout(async()=>{var q;const W={version:1,timestamp:Date.now(),activeSessionId:((q=w[g])==null?void 0:q.id)||null,theme:o,sidebarOpen:he,sessions:w.map(ne=>({id:ne.id,fileName:ne.fileName,fileType:ne.file?ne.file.type:"application/octet-stream",fileSize:ne.rawFileBuffer?ne.rawFileBuffer.byteLength:0,displaySettings:ne.displaySettings,isThreePlane:ne.isThreePlane})),windows:Y.map(ne=>({id:ne.id,type:ne.type,roi:ne.roi,zIndex:ne.zIndex,initialPosition:ne.initialPosition,sessionId:ne.sessionId,isBGGR:ne.isBGGR,isMinimized:ne.isMinimized||!1,internalState:ne.internalState}))};OJ(W);const H=w.map(ne=>ne.id);MJ(H)},1e3))},[w,Y,g,o,he,e]);j.useEffect(()=>{Ge()},[Ge]);const $t=j.useCallback(async()=>{a.current=!0,n("Cleaning up..."),localStorage.removeItem("jtr_workspace_index");try{await NJ()}catch(W){console.error("Failed to clear DB",W)}window.location.reload()},[]),tt=j.useCallback(W=>{y(H=>H.map((q,ne)=>ne===g?{...q,...W}:q))},[g]),Bt=()=>x(W=>Math.min(W+1,w.length-1)),hr=()=>x(W=>Math.max(0,W-1));j.useEffect(()=>{if(P&&Q){const W=xi(P.data,P.width,P.height,Q.x,Q.y,Q.width,Q.height);X(W)}},[P]);const le=W=>{if(!Q||!b)return;const H=Date.now().toString()+Math.random().toString().slice(2,5),q=Math.max(ge,...Y.map(ye=>ye.zIndex),100),ne=Y.length%10*30,xe=W==="fft"?{x:50,y:50}:W==="histogram"?{x:100,y:100}:{x:150,y:150};se(ye=>[...ye,{id:H,type:W,roi:{x:Q.x,y:Q.y,w:Q.width,h:Q.height},zIndex:q+1,initialPosition:{x:xe.x+ne,y:xe.y+ne},sessionId:b.id,isBGGR:L,isMinimized:!1,stackFiles:(W==="fft"||W==="pearson"||W==="histogram")&&S.length>0?S:void 0}])},Je=W=>{se(H=>H.filter(q=>q.id!==W))},Ce=W=>{se(H=>H.map(q=>q.id===W?{...q,isMinimized:!0}:q))},Ft=W=>{se(H=>H.map(q=>q.id===W?{...q,isMinimized:!1}:q)),kt(W)},kt=W=>{se(H=>{const q=Math.max(ge,...H.map(ne=>ne.zIndex));return H.map(ne=>ne.id===W?{...ne,zIndex:q+1}:ne)})},yn=(W,H)=>{se(q=>q.map(ne=>ne.id===W?{...ne,internalState:{...ne.internalState,...H}}:ne))},mt=()=>{const W=Math.max(ge,...Y.map(H=>H.zIndex));K(W+1)},Sr=(W,H)=>{se(q=>q.map(ne=>ne.id===W?{...ne,roi:H}:ne))};j.useEffect(()=>{if(!D)return;const W=D.CFAPattern2||D.CFAPattern;if(W){let H="";Array.isArray(W)?H=W.join(""):typeof W=="string"?H=W.replace(/[\s,]+/g,""):typeof W=="number"&&(H=String(W)),H==="0112"?ee(!1):H==="2110"&&ee(!0)}},[D]),j.useEffect(()=>{let W;const H=()=>{if(Ct&&At){const q=Date.now()/1e3,ne=.55+.45*Math.sin(q*Ae);qe(ne),W=requestAnimationFrame(H)}else qe(1)};return Ct&&At?H():qe(1),()=>{W&&cancelAnimationFrame(W)}},[Ct,At,Ae]),j.useEffect(()=>{const W=H=>{H.key==="Escape"&&At&&(vr(!1),Mn({x:0,y:0}),ie(!1))};return window.addEventListener("keydown",W),()=>window.removeEventListener("keydown",W)},[At]),j.useEffect(()=>()=>{w.forEach(W=>{W.previewUrl&&URL.revokeObjectURL(W.previewUrl)}),Oe.current&&Oe.current.terminate()},[]);const Cr=async(W,H=!0)=>{H&&(os({x:0,y:0}),J(1),xt(0),Tt([]),Fr([]),_e(!1),Ie(null),G(!1),ar(!1),Mr([]),an([]),Ar(0));let q=null;if(p.isConnected){const Me=new FormData;Me.append("file",W);try{const Ne=await(await fetch("http://localhost:5428/read",{method:"POST",body:Me})).json();if(Ne.success){let Re=Ne.data;Array.isArray(Re)&&Re.length===1&&(Re=Re[0]),q=Re}}catch(Te){console.warn("Auto Exif fetch failed",Te)}}const ne=W.name.toLowerCase().match(/\.(arw|cr2|cr3|dng|nef|orf|raf|rw2|pef|srw|sr2|srf|x3f|erf|mef|mos|mrw|kdc|dcr|iiq|3fr|fff|rwl|nrw|raw|tif|tiff)$/);if(!(["image/jpeg","image/png","image/tiff","image/x-adobe-dng"].includes(W.type)||ne)){It("Unsupported file type. Please load a JPG, PNG, or a supported RAW file.");return}let ye={file:W,exifData:q};if(ne||W.type==="image/x-adobe-dng")try{H?lt("Processing RAW file (this may take a moment)..."):Kn(!0);const Me=await W.arrayBuffer();ye.rawFileBuffer=Me;const{previewBlob:Te,analysisData:Ne}=await vi(Me);ye.rawImageData=Ne,ye.isThreePlane=Ne.isThreePlane||!1,Ne.isThreePlane&&H&&G(!0);let Re=!1,ot=null,Nt=!1;if(Ne.isXTrans){Nt=!0,ot=Me;const on=(await Mf(Me,0,0)).dngBuffer,xr=await vi(on);ye.rawFileBuffer=on,ye.rawImageData=xr.analysisData,ye.previewUrl=URL.createObjectURL(xr.previewBlob),Re=!0}else ye.previewUrl=URL.createObjectURL(Te);ye.originalRawFileBuffer=ot,ye.isXTransOriginal=Nt,ye.isXTransConverted=Re,ye.xtransPhase={x:0,y:0};const zt=new Image;zt.src=ye.previewUrl||"",await new Promise((Ur,on)=>{zt.onload=()=>{ye.imageElement=zt,Ur()},zt.onerror=()=>{Ur()}})}catch(Me){It(`Failed to process RAW file: ${Me.message}`),lt(null),Kn(!1);return}else try{lt("Processing image...");const{previewBlob:Me,analysisData:Te}=await RQ(W);ye.rawImageData=Te,ye.rawFileBuffer=await W.arrayBuffer(),ye.isThreePlane=Te.isThreePlane||!1,ye.isXTransOriginal=!1,ye.isXTransConverted=!1,ye.originalRawFileBuffer=null;const Ne=URL.createObjectURL(Me);ye.previewUrl=Ne;const Re=new Image;Re.src=Ne,await new Promise(ot=>{Re.onload=()=>{ye.imageElement=Re,ot()},Re.onerror=()=>{It("Could not load the image file."),ot()}})}catch(Me){It(`Failed to process image: ${Me.message}`),lt(null);return}const Ee=Date.now().toString()+Math.random();if(ye.rawFileBuffer&&await yk(Ee,ye.rawFileBuffer),H){const Me={exposure:0,demosaicMethod:3,blackLevel:void 0,wbGains:[1,1],showKadc:!0,subtractBlackLevelFromStats:!0},Te={id:Ee,fileName:W.name,file:W,imageElement:null,rawImageData:null,rawFileBuffer:null,renderedRawImageData:null,referenceImageData:null,sampledImageData:null,exifData:null,isThreePlane:!1,displaySettings:Me,originalRawFileBuffer:null,isXTransOriginal:!1,isXTransConverted:!1,xtransPhase:{x:0,y:0},...ye};y(Ne=>{const Re=[...Ne,Te];return x(Re.length-1),Re})}else tt(ye);lt(null),Kn(!1)},no=async W=>{lt("Converting to DNG...");try{const H=new FormData;H.append("file",W);const q=await fetch("http://localhost:5428/convert_dng",{method:"POST",body:H}),ne=q.headers.get("content-type")||"";if(q.ok)if(ne.includes("application/json")){const xe=await q.json();throw new Error(xe.error||"Conversion failed")}else{const xe=await q.blob(),ye=URL.createObjectURL(xe),Ee=document.createElement("a");Ee.href=ye;const Me=W.name,Te=Me.substring(0,Me.lastIndexOf("."))+".dng"||"converted.dng";Ee.download=Te,document.body.appendChild(Ee),Ee.click(),document.body.removeChild(Ee),URL.revokeObjectURL(ye);const Ne=new File([xe],Te,{type:"image/x-adobe-dng"});await Cr(Ne,!0)}else{const xe=await q.text();throw new Error(`HTTP ${q.status}: ${xe}`)}}catch(H){lt(null),It(`Conversion Error: ${H.message}`)}},Ll=(W,H)=>{W&&(H==="direct"?Cr(W,!0):no(W))},k0=async W=>{var q;const H=(q=W.target.files)==null?void 0:q[0];H&&(await Cr(H,!0),W.target.value="")},Uu=async(W,H,q,ne)=>{!W||!H||(lt("Processing Pair Difference (May take a while)..."),It(null),setTimeout(async()=>{try{const xe=await W.arrayBuffer(),ye=await H.arrayBuffer(),Ee=await Mp(xe,ye,q,ne),Me=Uf(Ee.width,Ee.height,Ee.rawData),Te=new File([Me],`Diff_${W.name}_${H.name}.dng`,{type:"image/x-adobe-dng"});await Cr(Te,!0),le("fft")}catch(xe){console.error("Pair Processing Error",xe),It("Pair Processing Failed: "+xe.message)}finally{lt(null)}},100))},S0=async W=>{if(W.length<2){It("Need at least 2 files for Batch Diff.");return}lt(`Batch Processing 0/${Math.floor(W.length/2)} pairs...`);const H=Array.from(W).sort((q,ne)=>q.name.localeCompare(ne.name,void 0,{numeric:!0}));try{for(let q=0;q<H.length-1;q+=2){const ne=H[q],xe=H[q+1];lt(`Batch Processing Pair ${Math.floor(q/2)+1}/${Math.floor(H.length/2)}: ${ne.name} & ${xe.name}`);const ye=await ne.arrayBuffer(),Ee=await xe.arrayBuffer(),Me=await Mp(ye,Ee,!1,!1),Te=Uf(Me.width,Me.height,Me.rawData),Ne=new Blob([Te],{type:"image/x-adobe-dng"}),Re=URL.createObjectURL(Ne),ot=document.createElement("a");ot.href=Re,ot.download=`Diff_${ne.name}_${xe.name}.dng`,document.body.appendChild(ot),ot.click(),document.body.removeChild(ot),URL.revokeObjectURL(Re)}}catch(q){console.error("FFT Batch Error",q),It("Batch Processing Failed: "+q.message)}finally{lt(null)}},j0=async W=>{if(W.length<1)return;const H=Array.from(W).sort((q,ne)=>q.name.localeCompare(ne.name,void 0,{numeric:!0}));k(H),await Cr(H[0],!0)},vn=async()=>{Kn(!0);const W=128,H=W,q=W,ne=H*q,xe=new Uint16Array(ne),ye=He=>{const St=He/je+dr;return Math.sin(2*Math.PI*St)>=0?1:0},Ee=32,Me=Lt*.5,Te=Math.max(1e-4,Lt/Ee);for(let He=0;He<q;He++){let St=0;const br=He+.5-Me;for(let Vt=0;Vt<Ee;Vt++){const wn=br+(Vt+.5)*Te;St+=ye(wn)}const Wr=St/Ee,Ot=Math.round(Wr*65535);for(let Vt=0;Vt<H;Vt++)xe[He*H+Vt]=Ot}const Ne=new ImageData(un,un),Re=un/H,ot=Lt/2;for(let He=0;He<un;He++){const St=He/Re,jr=Math.floor(St),br=St-jr,Wr=br>=.5-ot&&br<.5+ot;for(let Ot=0;Ot<un;Ot++){const Vt=Ot/Re,wn=Math.floor(Vt),sn=Vt-wn,gi=sn>=.5-ot&&sn<.5+ot,Er=(He*un+Ot)*4;if(wn>=H||jr>=q){Ne.data[Er]=30,Ne.data[Er+1]=34,Ne.data[Er+2]=40,Ne.data[Er+3]=255;continue}if(Wr&&gi){const Eo=xe[jr*H+wn],mi=Math.round(Eo/257);Ne.data[Er]=mi,Ne.data[Er+1]=mi,Ne.data[Er+2]=mi,Ne.data[Er+3]=255}else Ne.data[Er]=30,Ne.data[Er+1]=34,Ne.data[Er+2]=40,Ne.data[Er+3]=255}}const Nt=new ImageData(un,un),zt=q/un;for(let He=0;He<un;He++){const St=(He+.5)*zt,br=ye(St)>.5?255:0,Wr=He*un*4;for(let Ot=0;Ot<un;Ot++){const Vt=Wr+Ot*4;Nt.data[Vt]=br,Nt.data[Vt+1]=br,Nt.data[Vt+2]=br,Nt.data[Vt+3]=255}}const Ur=Uf(H,q,xe),on=new File([Ur],"pattern_test.dng",{type:"image/x-adobe-dng"}),xr=Date.now().toString();try{const{previewBlob:He,analysisData:St}=await vi(Ur.slice(0)),jr=await dk(Ur.slice(0),E),br=vk(jr,un,un),Wr=URL.createObjectURL(He),Ot=new Image;Ot.src=Wr,await new Promise(wn=>{Ot.onload=()=>wn()}),await yk(xr,Ur);const Vt={id:xr,fileName:"pattern_test.dng",file:on,imageElement:Ot,rawImageData:St,rawFileBuffer:Ur,renderedRawImageData:br,referenceImageData:Nt,sampledImageData:Ne,exifData:null,isThreePlane:!1,previewUrl:Wr,displaySettings:E,originalRawFileBuffer:null,isXTransOriginal:!1,isXTransConverted:!1,xtransPhase:{x:0,y:0}};(N==null?void 0:N.name)==="pattern_test.dng"?tt(Vt):y(wn=>{const sn=[...wn,Vt];return x(sn.length-1),sn})}catch(He){console.error("Error generating pattern:",He),It(`Error generating pattern: ${He.message}`)}Kn(!1),lt(null)},_0=()=>{Pe(!0)},N0=()=>{Pe(!1),pi("sampled"),lt("Generating..."),setTimeout(()=>vn(),50)},is=j.useRef({period:je,fill:Lt,phase:dr});j.useEffect(()=>{(N==null?void 0:N.name)==="pattern_test.dng"&&(is.current.period!==je||is.current.fill!==Lt||is.current.phase!==dr)&&(is.current={period:je,fill:Lt,phase:dr},vn())},[je,Lt,dr,N]);const Wu=j.useCallback(W=>{if(tt({displaySettings:W}),!A)return;Kn(!0),Oe.current&&Oe.current.terminate();const H=new Worker(new URL("/assets/renderWorker-BhikMEl_.js",import.meta.url),{type:"module"});Oe.current=H,H.onmessage=q=>{const{success:ne,imageData:xe,error:ye}=q.data;if(ne){let Ee=xe;(N==null?void 0:N.name)==="pattern_test.dng"&&(Ee=vk(xe,un,un)),tt({renderedRawImageData:Ee})}else It(ye||"Unknown worker error");Kn(!1),H.terminate(),Oe.current=null},H.postMessage({buffer:A.slice(0),settings:W})},[A,N,tt]),Il=async(W,H)=>{lt("Re-sampling X-Trans with new Phase...");try{const ne=(await Mf(H,W.x,W.y)).dngBuffer,xe=await vi(ne),ye=URL.createObjectURL(xe.previewBlob),Ee=new Image;Ee.src=ye,await new Promise(Me=>{Ee.onload=()=>Me()}),b!=null&&b.previewUrl&&URL.revokeObjectURL(b.previewUrl),tt({rawFileBuffer:ne,rawImageData:xe.analysisData,previewUrl:ye,imageElement:Ee,xtransPhase:W}),X(null)}catch(q){console.error("X-Trans Phase Update Failed",q),It("Phase Update Failed: "+q.message)}finally{lt(null)}},Gu=W=>{if(!b||!b.originalRawFileBuffer||!b.isXTransConverted)return;const H={...b.xtransPhase,...W};Il(H,b.originalRawFileBuffer)},Hu=j.useCallback(async W=>{if(b)if(W){if(b.isXTransConverted)return;const H=b.originalRawFileBuffer||b.rawFileBuffer;if(!H)return;lt("Converting X-Trans to Pseudo-Bayer DNG...");try{const q=b.xtransPhase||{x:0,y:0},xe=(await Mf(H,q.x,q.y)).dngBuffer,ye=await vi(xe),Ee=URL.createObjectURL(ye.previewBlob),Me=new Image;Me.src=Ee,await new Promise(Te=>{Me.onload=()=>Te()}),b.previewUrl&&URL.revokeObjectURL(b.previewUrl),tt({rawFileBuffer:xe,rawImageData:ye.analysisData,previewUrl:Ee,imageElement:Me,isXTransConverted:!0,originalRawFileBuffer:H}),X(null)}catch(q){console.error("X-Trans Conversion Failed",q),It("Failed to convert X-Trans: "+q.message)}finally{lt(null)}}else{if(!b.isXTransConverted)return;const H=b.originalRawFileBuffer;if(!H){It("Original X-Trans buffer lost. Cannot revert.");return}lt("Reverting to Native X-Trans...");try{const q=await vi(H),ne=URL.createObjectURL(q.previewBlob),xe=new Image;xe.src=ne,await new Promise(ye=>{xe.onload=()=>ye()}),b.previewUrl&&URL.revokeObjectURL(b.previewUrl),tt({rawFileBuffer:H,rawImageData:q.analysisData,previewUrl:ne,imageElement:xe,isXTransConverted:!1}),X(null)}catch(q){console.error("X-Trans Revert Failed",q),It("Failed to revert X-Trans: "+q.message)}finally{lt(null)}}},[b,tt]);let ss=C||O;$n==="reference"&&T?ss=T:$n==="sampled"&&F&&(ss=F);const ls=ns||to,Se=W=>{if(de.current){const H=de.current,{width:q,height:ne}=H.getBoundingClientRect(),xe=q/2,ye=ne/2,Ee=W/z,Me=xe-(xe-as.x)*Ee,Te=ye-(ye-as.y)*Ee;os({x:Me,y:Te})}J(W)},rt=W=>{if(!W)return;if(!P){X(null);return}Z&&$(!1);const H=xi(P.data,P.width,P.height,W.x,W.y,W.w,W.h);X(H)},nt=W=>{ue(W),rt(W)},at=()=>{B(W=>W==="pan"?"select":"pan")},xn=W=>{if(Ze===0||Ze>4)return;const H=[...gt,W];Tt(H),Ze===4?(ia(H),xt(0)):xt(Ze+1)},bn=(W,H,q,ne)=>{const xe=W[0],ye=W[1],Ee=W[2],Me=W[3],Te=H/2,Ne=[];for(let Re=0;Re<q;Re++){const ot=q>1?Re/(q-1):.5;for(let Nt=0;Nt<ne;Nt++){const zt=ne>1?Nt/(ne-1):.5,Ur=xe.x*(1-zt)+ye.x*zt,on=xe.y*(1-zt)+ye.y*zt,xr=Ee.x*(1-zt)+Me.x*zt,He=Ee.y*(1-zt)+Me.y*zt,St=Ur*(1-ot)+xr*ot,jr=on*(1-ot)+He*ot,br=St-Te,Wr=jr-Te;Ne.push({x:br,y:Wr,w:H,h:H})}}return Ne},ia=W=>{!P||!b||(lt("Calculating DR Lab Grid..."),setTimeout(()=>{try{const H=bn(W,eo,En,mn);Fr(H);const ye=[...[`#BlackLevel: ${(E.blackLevel||[0,0,0,0]).join(",")}`,`#ImageHeight: ${P.height}`],"Filename,Row,Col,R_Mean,G1_Mean,G2_Mean,B_Mean,R_Std,G1_Std,G2_Std,B_Std"],Ee=`img${b.fileName||"image"}`;H.forEach((ot,Nt)=>{const zt=Math.floor(Nt/mn)+1,Ur=Nt%mn+1,on=xi(P.data,P.width,P.height,ot.x,ot.y,ot.w,ot.h),xr=on.means,He=on.stdDevs,St=`${Ee},${zt},${Ur},${xr[0].toFixed(4)},${xr[1].toFixed(4)},${xr[2].toFixed(4)},${xr[3].toFixed(4)},${He[0].toFixed(4)},${He[1].toFixed(4)},${He[2].toFixed(4)},${He[3].toFixed(4)}`;ye.push(St)});const Me=ye.join(`
`),Te=new Blob([Me],{type:"text/csv;charset=utf-8;"}),Ne=URL.createObjectURL(Te),Re=document.createElement("a");Re.setAttribute("href",Ne),Re.setAttribute("download","dr_lab_results.csv"),document.body.appendChild(Re),Re.click(),document.body.removeChild(Re),URL.revokeObjectURL(Ne),Tt([])}catch(H){It("DR Lab Error: "+H.message)}finally{lt(null)}},100))},ao=async(W,H)=>{if(gt.length<4&&me.length<1){It("Please mark the grid on an image first before running batch processing.");return}let q=me;if(q.length===0&&gt.length===4&&(q=bn(gt,eo,En,mn)),q.length===0){It("No grid definitions found. Mark corners first.");return}lt(H==="pair"?"Batch Pair Difference (Sigma = Diff/sqrt(2))":"Batch Processing...");const xe=(E.blackLevel||[0,0,0,0]).join(","),ye=P?P.height:0,Me=[...[`#BlackLevel: ${xe}`,`#ImageHeight: ${ye}`,H==="pair"?"#Mode: Pair Difference (Sigma = Diff/sqrt(2))":"#Mode: Independent"],"Filename,Row,Col,R_Mean,G1_Mean,G2_Mean,B_Mean,R_Std,G1_Std,G2_Std,B_Std"],Te=Array.from(W).sort((Nt,zt)=>Nt.name.localeCompare(zt.name,void 0,{numeric:!0}));if(H==="pair"&&Te.length<2){It("Need at least 2 files for Pair processing."),lt(null);return}const Ne=_.current,Re=(Ne==null?void 0:Ne.isXTransConverted)||!1,ot=(Ne==null?void 0:Ne.xtransPhase)||{x:0,y:0};try{const Nt=async He=>{let St=await He.arrayBuffer();return Re&&(St=(await Mf(St,ot.x,ot.y)).dngBuffer),St};if(H==="single")for(let He=0;He<Te.length;He++){const St=Te[He];lt(`Processing ${He+1}/${Te.length}: ${St.name}...`);const jr=await Nt(St),br=await vh(jr),Wr=`img${St.name}`;q.forEach((Ot,Vt)=>{const wn=Math.floor(Vt/mn)+1,sn=Vt%mn+1,gi=xi(br.data,br.width,br.height,Ot.x,Ot.y,Ot.w,Ot.h),Er=gi.means,Eo=gi.stdDevs,mi=`${Wr},${wn},${sn},${Er[0].toFixed(4)},${Er[1].toFixed(4)},${Er[2].toFixed(4)},${Er[3].toFixed(4)},${Eo[0].toFixed(4)},${Eo[1].toFixed(4)},${Eo[2].toFixed(4)},${Eo[3].toFixed(4)}`;Me.push(mi)})}else for(let He=0;He<Te.length-1;He+=2){const St=Te[He],jr=Te[He+1],br=`img${St.name} & ${jr.name}`;lt(`Processing Pair ${Math.floor(He/2)+1}/${Math.floor(Te.length/2)}: ${St.name} & ${jr.name}...`);const Wr=await Nt(St),Ot=await vh(Wr),Vt=await Nt(jr),wn=await Mp(Wr,Vt,!1,!0);q.forEach((sn,gi)=>{const Er=Math.floor(gi/mn)+1,Eo=gi%mn+1,mi=xi(Ot.data,Ot.width,Ot.height,sn.x,sn.y,sn.w,sn.h),wP=xi(wn.rawData,wn.width,wn.height,sn.x,sn.y,sn.w,sn.h),Xu=mi.means,Ku=wP.stdDevs,kP=`${br},${Er},${Eo},${Xu[0].toFixed(4)},${Xu[1].toFixed(4)},${Xu[2].toFixed(4)},${Xu[3].toFixed(4)},${Ku[0].toFixed(4)},${Ku[1].toFixed(4)},${Ku[2].toFixed(4)},${Ku[3].toFixed(4)}`;Me.push(kP)})}const zt=Me.join(`
`),Ur=new Blob([zt],{type:"text/csv;charset=utf-8;"}),on=URL.createObjectURL(Ur),xr=document.createElement("a");xr.href=on,xr.setAttribute("download",`dr_lab_batch_${H}_${new Date().getTime()}.csv`),document.body.appendChild(xr),xr.click(),document.body.removeChild(xr),URL.revokeObjectURL(on)}catch(Nt){console.error("Batch Error",Nt),It("Batch Processing Failed: "+Nt.message)}finally{lt(null)}},Co=()=>{Mr([]),Ar(1)},Ia=W=>{if(!Ye||rn===0)return;const H=[...lr,W];Mr(H),H.length===4&&P?(er(H,Jt),Ar(0)):Ar(q=>q+1)},er=(W,H)=>{P&&(lt("Analyzing Color Chart..."),setTimeout(()=>{try{const q=uJ(W[0],W[1],W[2],W[3],P.width,P.height,H);an(q);const xe=q.map((ye,Ee)=>{const Me=xi(P.data,P.width,P.height,ye.x,ye.y,ye.w,ye.h);return{id:Ee,rawMeans:Me.means,refRGB:[0,0,0]}}).map((ye,Ee)=>({...ye,refRGB:ry[Ee]||[0,0,0]}));Hn(xe),nn(!0)}catch(q){It("Color Lab Error: "+q.message)}finally{lt(null)}},100))},ax=W=>{cr(W),lr.length===4&&er(lr,W)},Bl=()=>{nn(!1)},Vu=()=>{D||Ie("No EXIF data found. The file might not contain metadata or it was stripped during processing."),_e(!0)},ox=async W=>{lt("Parsing PTC Data...");const H=[];let q=null;try{for(let ne=0;ne<W.length;ne++){const ye=(await W[ne].text()).split(`
`);let Ee=!0;for(const Me of ye){const Te=Me.trim();if(!Te)continue;if(Te.startsWith("#")){if(Te.includes("BlackLevel:")){const Ot=Te.split(":")[1].trim().split(",");if(Ot.length>=4){const Vt=Ot.map(Number);q||(q={}),q.blackLevel=Vt}}if(Te.includes("ImageHeight:")){const Ot=parseInt(Te.split(":")[1].trim());isNaN(Ot)||(q||(q={}),q.height=Ot)}continue}if(Ee){Te.toLowerCase().includes("mean")&&Te.toLowerCase().includes("std")&&(Ee=!1);continue}const Ne=Te.split(",");if(Ne.length<5)continue;let Re=0,ot;isNaN(parseFloat(Ne[0]))&&(ot=Ne[0],Re=1);const Nt=parseInt(Ne[Re]),zt=parseInt(Ne[Re+1]),Ur=parseFloat(Ne[Re+2]),on=parseFloat(Ne[Re+3]),xr=parseFloat(Ne[Re+4]),He=parseFloat(Ne[Re+5]),St=parseFloat(Ne[Re+6]),jr=parseFloat(Ne[Re+7]),br=parseFloat(Ne[Re+8]),Wr=parseFloat(Ne[Re+9]);!isNaN(Ur)&&!isNaN(St)&&H.push({channel:"R",mean:Ur,std:St,filename:ot,row:Nt,col:zt}),!isNaN(on)&&!isNaN(jr)&&H.push({channel:"G1",mean:on,std:jr,filename:ot,row:Nt,col:zt}),!isNaN(xr)&&!isNaN(br)&&H.push({channel:"G2",mean:xr,std:br,filename:ot,row:Nt,col:zt}),!isNaN(He)&&!isNaN(Wr)&&H.push({channel:"B",mean:He,std:Wr,filename:ot,row:Nt,col:zt})}}ur(H),ze(q),l(!0)}catch(ne){console.error("PTC Parse Error",ne),It("Failed to parse CSV files: "+ne.message)}finally{lt(null)}},vP=()=>{if(!A||!b)return;const W=new Blob([A],{type:"image/x-adobe-dng"}),H=URL.createObjectURL(W),q=document.createElement("a");q.href=H;const ne=b.fileName||"image.dng",xe=ne.toLowerCase().endsWith(".dng")?ne:ne.replace(/\.[^/.]+$/,"")+".dng";q.download=xe,document.body.appendChild(q),q.click(),document.body.removeChild(q),URL.revokeObjectURL(H)},xP=()=>{xt(1),Tt([]),Fr([])},bP=j.useMemo(()=>Cn?Cn.map((W,H)=>({...W,refRGB:ry[H]||[0,0,0]})):[],[Cn]);return e?u.jsxs("div",{className:"flex flex-col h-screen items-center justify-center bg-gray-300 dark:bg-[#111] text-black dark:text-white font-mono",children:[u.jsx("div",{className:"w-12 h-12 border-4 border-black dark:border-white border-t-transparent animate-spin mb-4"}),u.jsx("h2",{className:"text-xl font-bold",children:r}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2 mb-6",children:"Loading stored buffers from database..."}),u.jsx("button",{onClick:$t,className:"px-6 py-2 bg-red-600 hover:bg-red-700 text-white font-bold border-2 border-black dark:border-gray-500 shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] active:shadow-none active:translate-x-1 active:translate-y-1 transition-all text-sm",children:"Abandon Saved Session (Start Fresh)"})]}):u.jsxs("div",{className:"flex flex-col h-screen bg-[#d4d4d4] dark:bg-[#111111] text-black dark:text-gray-200 font-mono transition-colors duration-300 overflow-hidden",children:[u.jsx("div",{className:"p-4 pb-0 flex-shrink-0",children:u.jsx(ZA,{onLoadImage:k0,onFileSelected:Ll,onGenerateFakeDng:_0,fileName:N?N.name:null,hasGeneratedData:(N==null?void 0:N.name)==="pattern_test.dng",viewMode:$n,onSetViewMode:pi,patternPeriod:je,onPatternPeriodChange:_t,fillFactor:Lt,onFillFactorChange:Tn,patternPhase:dr,onPatternPhaseChange:Yr,showPatternControls:(N==null?void 0:N.name)==="pattern_test.dng",onOpenAbout:()=>ut(!0),onShowExif:Vu,bridgeStatus:p,onBridgeClick:()=>v(!0),isDrLabOpen:Gt,onToggleDrLab:()=>{Qt(!Gt),xt(0),Tt([]),Fr([]),Ht&&ht(!1),Ye&&ar(!1),$e&&pt(!1),Ar(0),an([])},isColorLabOpen:Ye,onToggleColorLab:()=>{ar(!Ye),Mr([]),Ar(0),an([]),Gt&&Qt(!1),Ht&&ht(!1),$e&&pt(!1)},isFftLabOpen:Ht,onToggleFftLab:()=>{ht(!Ht),Gt&&Qt(!1),Ye&&ar(!1),$e&&pt(!1),Ar(0),an([])},isSfrLabOpen:$e,onToggleSfrLab:()=>{pt(!$e),Gt&&Qt(!1),Ye&&ar(!1),Ht&&ht(!1),Ar(0),an([])},onGenerateTestPic:()=>vr(!0),onPTCFilesSelected:ox,onDownloadDng:vP,isThreePlane:U,onOpenDatabase:()=>d(!0)})}),u.jsxs("div",{className:"flex flex-1 overflow-hidden p-4 pt-2 gap-4 relative",children:[u.jsxs("div",{className:"flex-1 relative bg-gray-200 dark:bg-black border-4 border-gray-500 dark:border-gray-700 shadow-[inset_2px_2px_8px_rgba(0,0,0,0.2)] overflow-hidden transition-colors duration-300",ref:de,children:[ls&&u.jsxs("div",{className:"absolute bottom-4 right-4 z-50 flex items-center gap-2 bg-white/90 dark:bg-black/90 px-3 py-1.5 border-2 border-black dark:border-white shadow-[4px_4px_0px_black] dark:shadow-[4px_4px_0px_gray]",children:[u.jsx("div",{className:"w-4 h-4 border-2 border-black dark:border-white border-t-transparent animate-spin"}),u.jsx("span",{className:"text-xs font-bold text-black dark:text-white uppercase",children:ns||"Processing..."})]}),w.length>1&&u.jsxs("div",{className:"absolute bottom-4 right-20 z-50 flex items-center gap-2 bg-white/90 dark:bg-black/90 px-3 py-1.5 border-2 border-black dark:border-white shadow-[4px_4px_0px_black] dark:shadow-[4px_4px_0px_gray] text-sm font-bold text-black dark:text-white",children:[u.jsx("button",{onClick:hr,disabled:g<=0,className:"hover:text-gray-500 disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"Previous Image",children:"<"}),u.jsxs("span",{className:"min-w-[3rem] text-center select-none font-bold",children:[g+1," / ",w.length]}),u.jsx("button",{onClick:Bt,disabled:g>=w.length-1,className:"hover:text-gray-500 disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"Next Image",children:">"})]}),u.jsx("div",{className:"absolute bottom-4 left-4 z-50 flex flex-col-reverse gap-2 items-start pointer-events-none",children:Y.filter(W=>W.isMinimized).map(W=>{let H="Window",q="bg-gray-500";return W.type==="histogram"?(H="Histogram",q="bg-black dark:bg-white"):W.type==="fft"?(H="FFT Spectrum",q="bg-black dark:bg-white"):W.type==="quant"?(H="Quantization",q="bg-black dark:bg-white"):W.type==="pearson"&&(H="Pearson",q="bg-black dark:bg-white"),u.jsxs("div",{className:"pointer-events-auto flex items-center gap-1 bg-white dark:bg-black border-2 border-black dark:border-white shadow-[4px_4px_0px_black] dark:shadow-[4px_4px_0px_gray]",children:[u.jsxs("button",{onClick:()=>Ft(W.id),className:"px-3 py-1.5 text-xs font-bold text-black dark:text-white hover:bg-gray-200 dark:hover:bg-gray-800 transition-colors flex items-center gap-2",children:[u.jsx("span",{className:`w-2 h-2 ${q}`}),H]}),u.jsx("button",{onClick:()=>Je(W.id),className:"px-2 py-1.5 text-black hover:text-red-600 hover:bg-gray-200 dark:hover:bg-gray-800 border-l-2 border-black dark:border-white transition-colors",children:""})]},W.id)})}),u.jsx(JQ,{isOpen:Be,onClose:()=>ut(!1)}),u.jsx(eJ,{isOpen:oe,onClose:()=>_e(!1),data:D,fileName:N?N.name:"",warning:be}),u.jsx(rJ,{isOpen:s,onClose:()=>l(!1),data:wt,blackLevel:ro,imageHeight:zr,isBGGR:L,importedMetadata:fr||void 0,theme:o,initialCameraModel:(D==null?void 0:D.Model)||"",initialISO:(D==null?void 0:D.ISO)||((ix=D==null?void 0:D.ISOSpeedRatings)==null?void 0:ix.toString())||""}),u.jsx(sJ,{isOpen:c,onClose:()=>d(!1),theme:o}),u.jsx(lJ,{isOpen:f,onClose:()=>h(!1),zIndex:200}),u.jsx(pJ,{isOpen:Vn,onClose:Bl,patchStats:bP,initialIsBGGR:L,sizeRatio:Jt,onSizeChange:ax}),u.jsx(xJ,{isOpen:$e,isSfrLabOpen:$e,onClose:()=>{},rawImageData:P,roi:Q?{x:Q.x,y:Q.y,w:Q.width,h:Q.height}:null,zIndex:200,onFocus:mt,displaySettings:E}),u.jsx(ti,{isOpen:dt,onClose:()=>Pe(!1),onConfirm:N0,title:"High Resource Usage Warning",confirmText:"I know the risk and insist to continue",message:u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx("p",{children:"Patter DNG mode involves high-frequency refreshing and heavy computation. Due to current memory management limitations, repeated use may lead to browser memory overflow or crashes. Please proceed with caution."}),u.jsx("p",{className:"text-xs text-gray-500"})]})}),u.jsx(ti,{isOpen:m,onClose:()=>v(!1),onConfirm:()=>{window.open("https://y-g-jiang.github.io/jiangbridge.exe","_blank"),v(!1)},title:"JiangBridge Connection / ",confirmText:"Download Bridge App",cancelText:"Cancel",message:u.jsxs("div",{className:"flex flex-col gap-4 text-left",children:[u.jsx("p",{className:"font-bold text-gray-800 dark:text-gray-200",children:"JiangBridge"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:'JiangBridge is optional for this webpage, but recommended for full functionality. Simply double-click and run it once after system startup. If the indicator light does not turn green after double-clicking, please consider checking whether the web page is allowed to "View and connect to any device on the network".'})]})}),u.jsx(ti,{isOpen:vt,onClose:()=>mr(!1),onConfirm:De,title:"Export 16-bit TIFF Options",confirmText:"Confirm Export",message:u.jsxs("div",{className:"flex flex-col gap-4 text-left",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4 bg-gray-50 dark:bg-slate-800/80 p-4 border border-gray-400 dark:border-gray-600",children:[u.jsxs("div",{className:"flex flex-col items-center gap-3",children:[u.jsxs("div",{className:"flex flex-col items-center text-center",children:[u.jsx("span",{className:"font-bold text-xs text-gray-800 dark:text-slate-200",children:"Stretch ()"}),u.jsx("span",{className:"text-[9px] text-gray-500 dark:text-slate-400 mt-0.5",children:"Map [0, White] to [0, 65535]"})]}),u.jsx("div",{onClick:()=>yr(!Ke),className:`relative w-12 h-6 border-2 border-black dark:border-white cursor-pointer ${Ke?"bg-black dark:bg-white":"bg-gray-300 dark:bg-slate-600"}`,children:u.jsx("div",{className:`absolute top-0.5 left-0.5 w-4 h-4 bg-white dark:bg-black shadow-sm transition-transform ${Ke?"translate-x-6":""}`})})]}),u.jsxs("div",{className:"flex flex-col items-center gap-3",children:[u.jsxs("div",{className:"flex flex-col items-center text-center",children:[u.jsx("span",{className:"font-bold text-xs text-gray-800 dark:text-slate-200",children:"sRGB Gamma"}),u.jsx("span",{className:"text-[9px] text-gray-500 dark:text-slate-400 mt-0.5",children:"Apply non-linear contrast"})]}),u.jsx("div",{onClick:()=>Zt(!Fe),className:`relative w-12 h-6 border-2 border-black dark:border-white cursor-pointer ${Fe?"bg-black dark:bg-white":"bg-gray-300 dark:bg-slate-600"}`,children:u.jsx("div",{className:`absolute top-0.5 left-0.5 w-4 h-4 bg-white dark:bg-black shadow-sm transition-transform ${Fe?"translate-x-6":""}`})})]})]}),u.jsxs("div",{className:"p-3 bg-gray-200 dark:bg-slate-800 text-[11px] text-black dark:text-white italic border border-gray-400 dark:border-gray-600 text-center font-mono",children:[Ke&&!Fe&&"Mode: Stretched Linear. Histogram preserved but range expanded.",!Ke&&Fe&&"Mode: Native DN + sRGB. Best for analyzing raw distribution contrast.",Ke&&Fe&&"Mode: Ready-to-Use. Conventional 16-bit development.",!Ke&&!Fe&&"Mode: Native Linear. Pure physical sensor DN values."]})]})}),!Z&&u.jsx(AJ,{stats:Q,onClose:()=>{X(null),ue(null)},onMinimize:()=>$(!0),isBGGR:L,onToggleBGGR:ee,onOpenWindow:le,displaySettings:E,zIndex:ge,onFocus:mt,rawImageData:P}),Y.map(W=>{if(W.isMinimized)return null;const H=w.find(xe=>xe.id===W.sessionId),q=H==null?void 0:H.rawImageData;if(!q)return null;const ne={key:W.id,isOpen:!0,onClose:()=>Je(W.id),onMinimize:()=>Ce(W.id),rawImageData:q,roi:W.roi,isBGGR:W.isBGGR,zIndex:W.zIndex,onFocus:()=>kt(W.id),initialPosition:W.initialPosition,initialInternalState:W.internalState,onUpdateState:xe=>yn(W.id,xe),stackFiles:W.stackFiles};return W.type==="histogram"?u.jsx(GQ,{...ne}):W.type==="fft"?u.jsx(KQ,{...ne,onUpdateROI:xe=>Sr(W.id,xe)}):W.type==="quant"?u.jsx(YQ,{...ne}):W.type==="pearson"?u.jsx(qQ,{...ne}):null}),La&&u.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-white/90 dark:bg-black/90 p-8",children:u.jsxs("div",{className:"max-w-md text-center p-6 bg-white dark:bg-black rounded-none border-2 border-red-600 shadow-[8px_8px_0px_rgba(200,0,0,0.5)]",children:[u.jsx("h3",{className:"text-xl font-bold text-red-600 uppercase mb-2",children:"Notice"}),u.jsx("p",{className:"text-black dark:text-white mb-6 whitespace-pre-wrap font-mono",children:La}),u.jsx("button",{onClick:()=>It(null),className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 dark:bg-gray-800 dark:hover:bg-gray-700 border-2 border-black dark:border-white text-black dark:text-white transition-colors uppercase font-bold",children:"Dismiss"})]})}),!ss&&!ls&&!La&&u.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-gray-400 dark:text-gray-600 select-none font-mono",children:u.jsx("p",{className:"text-lg",children:"Load an image or generate a pattern"})}),u.jsx(QA,{image:ss,zoom:z,pan:as,onPanChange:os,onZoomChange:Se,onSelectionChange:rt,forcedSelection:ae,theme:o,touchAction:re,isMarking:Ze>0||Ye&&rn>0,onPointClick:W=>{Ze>0?xn(W):Ye&&rn>0&&Ia(W)},markers:gt,gridRects:me,colorLabPoints:lr,colorLabRects:oa}),u.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-1/2 z-30 pointer-events-none select-none opacity-20 mix-blend-normal dark:mix-blend-plus-lighter",children:u.jsx("svg",{viewBox:"0 0 500 60",className:"w-full h-auto drop-shadow-none",children:u.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-black dark:fill-white",fontSize:"26",fontWeight:"bold",style:{fontFamily:"Courier New, monospace",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})}),P&&!Ze&&!Ye&&u.jsxs("div",{className:"absolute bottom-4 left-4 z-30 pointer-events-none opacity-60 text-[10px] text-black dark:text-white font-mono bg-white/50 dark:bg-black/50 px-1",children:["Hold ",u.jsx("b",{children:"Shift"})," + Drag to calculate Raw ROI stats"]}),Ye&&rn>0&&u.jsxs("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 z-30 pointer-events-none text-sm font-bold text-yellow-500 bg-black/80 px-4 py-2 rounded-full border border-yellow-500 animate-pulse shadow-lg",children:[lr.length===0&&"Click Top-Left Corner of Chart",lr.length===1&&"Click Top-Right Corner",lr.length===2&&"Click Bottom-Left Corner",lr.length===3&&"Click Bottom-Right Corner",lr.length===4&&"Processing..."]}),u.jsx(fC,{zoom:z,onZoomChange:Se,onResetView:()=>{J(1),os({x:0,y:0})},touchAction:re,onToggleTouchAction:at})]}),he&&u.jsx("div",{className:"w-80 flex-shrink-0 bg-white dark:bg-black border-4 border-gray-500 dark:border-gray-700 shadow-[inset_2px_2px_8px_rgba(0,0,0,0.2)] overflow-hidden transition-all duration-300",children:u.jsx(nC,{rawImageData:P,displaySettings:E,onApplyDisplaySettings:Wu,onSetSelection:nt,exifData:D,isBridgeConnected:p.isConnected,isDrLabOpen:Gt,drMarkingStep:Ze,onStartMarking:xP,onGenerateTestPic:()=>vr(!0),drRoiSize:eo,onDrRoiSizeChange:Xn,drGridRows:En,onDrGridRowsChange:Rl,drGridCols:mn,onDrGridColsChange:V,onBatchDrLab:ao,hasDrMarkers:me.length>0,isFftLabOpen:Ht,onProcessPair:Uu,onProcessBatchDiff:S0,onProcessStackFft:j0,onOpenCrossCalc:()=>h(!0),isThreePlane:U,onToggleXTrans:Hu,xtransPhase:M,onXTransPhaseChange:Gu,isXTransConverted:b==null?void 0:b.isXTransConverted,roiStats:Q,isBGGR:L,isColorLabOpen:Ye,colorLabMarkingStep:rn,onStartColorLabMarking:Co,isSfrLabOpen:$e})}),u.jsx(dC,{theme:o,setTheme:i})]})]})},yP=document.getElementById("root");if(!yP)throw new Error("Could not find root element to mount to");const EJ=Ep.createRoot(yP);EJ.render(u.jsx(I.StrictMode,{children:u.jsx(CJ,{})}));export{EQ as _};
