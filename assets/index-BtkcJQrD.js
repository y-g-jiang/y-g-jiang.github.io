var F_=Object.defineProperty;var z_=(e,t,r)=>t in e?F_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var en=(e,t,r)=>z_(e,typeof t!="symbol"?t+"":t,r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();var vu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function It(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var W2={exports:{}},Bd={},U2={exports:{}},Ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jc=Symbol.for("react.element"),W_=Symbol.for("react.portal"),U_=Symbol.for("react.fragment"),G_=Symbol.for("react.strict_mode"),H_=Symbol.for("react.profiler"),V_=Symbol.for("react.provider"),K_=Symbol.for("react.context"),X_=Symbol.for("react.forward_ref"),Y_=Symbol.for("react.suspense"),q_=Symbol.for("react.memo"),Q_=Symbol.for("react.lazy"),Ev=Symbol.iterator;function Z_(e){return e===null||typeof e!="object"?null:(e=Ev&&e[Ev]||e["@@iterator"],typeof e=="function"?e:null)}var G2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H2=Object.assign,V2={};function Ys(e,t,r){this.props=e,this.context=t,this.refs=V2,this.updater=r||G2}Ys.prototype.isReactComponent={};Ys.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ys.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function K2(){}K2.prototype=Ys.prototype;function Mm(e,t,r){this.props=e,this.context=t,this.refs=V2,this.updater=r||G2}var Cm=Mm.prototype=new K2;Cm.constructor=Mm;H2(Cm,Ys.prototype);Cm.isPureReactComponent=!0;var Tv=Array.isArray,X2=Object.prototype.hasOwnProperty,Em={current:null},Y2={key:!0,ref:!0,__self:!0,__source:!0};function q2(e,t,r){var n,a={},o=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)X2.call(t,n)&&!Y2.hasOwnProperty(n)&&(a[n]=t[n]);var s=arguments.length-2;if(s===1)a.children=r;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(n in s=e.defaultProps,s)a[n]===void 0&&(a[n]=s[n]);return{$$typeof:Jc,type:e,key:o,ref:i,props:a,_owner:Em.current}}function J_(e,t){return{$$typeof:Jc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Tm(e){return typeof e=="object"&&e!==null&&e.$$typeof===Jc}function eN(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var $v=/\/+/g;function Zh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?eN(""+e.key):t.toString(36)}function Qu(e,t,r,n,a){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Jc:case W_:i=!0}}if(i)return i=e,a=a(i),e=n===""?"."+Zh(i,0):n,Tv(a)?(r="",e!=null&&(r=e.replace($v,"$&/")+"/"),Qu(a,t,r,"",function(c){return c})):a!=null&&(Tm(a)&&(a=J_(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace($v,"$&/")+"/")+e)),t.push(a)),1;if(i=0,n=n===""?".":n+":",Tv(e))for(var s=0;s<e.length;s++){o=e[s];var l=n+Zh(o,s);i+=Qu(o,t,r,l,a)}else if(l=Z_(e),typeof l=="function")for(e=l.call(e),s=0;!(o=e.next()).done;)o=o.value,l=n+Zh(o,s++),i+=Qu(o,t,r,l,a);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function xu(e,t,r){if(e==null)return e;var n=[],a=0;return Qu(e,n,"","",function(o){return t.call(r,o,a++)}),n}function tN(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var sn={current:null},Zu={transition:null},rN={ReactCurrentDispatcher:sn,ReactCurrentBatchConfig:Zu,ReactCurrentOwner:Em};function Q2(){throw Error("act(...) is not supported in production builds of React.")}Ye.Children={map:xu,forEach:function(e,t,r){xu(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return xu(e,function(){t++}),t},toArray:function(e){return xu(e,function(t){return t})||[]},only:function(e){if(!Tm(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ye.Component=Ys;Ye.Fragment=U_;Ye.Profiler=H_;Ye.PureComponent=Mm;Ye.StrictMode=G_;Ye.Suspense=Y_;Ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rN;Ye.act=Q2;Ye.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=H2({},e.props),a=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=Em.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)X2.call(t,l)&&!Y2.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];n.children=s}return{$$typeof:Jc,type:e.type,key:a,ref:o,props:n,_owner:i}};Ye.createContext=function(e){return e={$$typeof:K_,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:V_,_context:e},e.Consumer=e};Ye.createElement=q2;Ye.createFactory=function(e){var t=q2.bind(null,e);return t.type=e,t};Ye.createRef=function(){return{current:null}};Ye.forwardRef=function(e){return{$$typeof:X_,render:e}};Ye.isValidElement=Tm;Ye.lazy=function(e){return{$$typeof:Q_,_payload:{_status:-1,_result:e},_init:tN}};Ye.memo=function(e,t){return{$$typeof:q_,type:e,compare:t===void 0?null:t}};Ye.startTransition=function(e){var t=Zu.transition;Zu.transition={};try{e()}finally{Zu.transition=t}};Ye.unstable_act=Q2;Ye.useCallback=function(e,t){return sn.current.useCallback(e,t)};Ye.useContext=function(e){return sn.current.useContext(e)};Ye.useDebugValue=function(){};Ye.useDeferredValue=function(e){return sn.current.useDeferredValue(e)};Ye.useEffect=function(e,t){return sn.current.useEffect(e,t)};Ye.useId=function(){return sn.current.useId()};Ye.useImperativeHandle=function(e,t,r){return sn.current.useImperativeHandle(e,t,r)};Ye.useInsertionEffect=function(e,t){return sn.current.useInsertionEffect(e,t)};Ye.useLayoutEffect=function(e,t){return sn.current.useLayoutEffect(e,t)};Ye.useMemo=function(e,t){return sn.current.useMemo(e,t)};Ye.useReducer=function(e,t,r){return sn.current.useReducer(e,t,r)};Ye.useRef=function(e){return sn.current.useRef(e)};Ye.useState=function(e){return sn.current.useState(e)};Ye.useSyncExternalStore=function(e,t,r){return sn.current.useSyncExternalStore(e,t,r)};Ye.useTransition=function(){return sn.current.useTransition()};Ye.version="18.3.1";U2.exports=Ye;var O=U2.exports;const M=It(O);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nN=O,aN=Symbol.for("react.element"),oN=Symbol.for("react.fragment"),iN=Object.prototype.hasOwnProperty,sN=nN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,lN={key:!0,ref:!0,__self:!0,__source:!0};function Z2(e,t,r){var n,a={},o=null,i=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)iN.call(t,n)&&!lN.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:aN,type:e,key:o,ref:i,props:a,_owner:sN.current}}Bd.Fragment=oN;Bd.jsx=Z2;Bd.jsxs=Z2;W2.exports=Bd;var u=W2.exports,i0={},J2={exports:{}},Tn={},ek={exports:{}},tk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,R){var B=I.length;I.push(R);e:for(;0<B;){var te=B-1>>>1,X=I[te];if(0<a(X,R))I[te]=R,I[B]=X,B=te;else break e}}function r(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var R=I[0],B=I.pop();if(B!==R){I[0]=B;e:for(var te=0,X=I.length,H=X>>>1;te<H;){var U=2*(te+1)-1,ue=I[U],fe=U+1,ke=I[fe];if(0>a(ue,B))fe<X&&0>a(ke,ue)?(I[te]=ke,I[fe]=B,te=fe):(I[te]=ue,I[U]=B,te=U);else if(fe<X&&0>a(ke,B))I[te]=ke,I[fe]=B,te=fe;else break e}}return R}function a(I,R){var B=I.sortIndex-R.sortIndex;return B!==0?B:I.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,s=i.now();e.unstable_now=function(){return i.now()-s}}var l=[],c=[],f=1,d=null,h=3,p=!1,m=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(I){for(var R=r(c);R!==null;){if(R.callback===null)n(c);else if(R.startTime<=I)n(c),R.sortIndex=R.expirationTime,t(l,R);else break;R=r(c)}}function S(I){if(v=!1,b(I),!m)if(r(l)!==null)m=!0,L(w);else{var R=r(c);R!==null&&W(S,R.startTime-I)}}function w(I,R){m=!1,v&&(v=!1,y(P),P=-1),p=!0;var B=h;try{for(b(R),d=r(l);d!==null&&(!(d.expirationTime>R)||I&&!N());){var te=d.callback;if(typeof te=="function"){d.callback=null,h=d.priorityLevel;var X=te(d.expirationTime<=R);R=e.unstable_now(),typeof X=="function"?d.callback=X:d===r(l)&&n(l),b(R)}else n(l);d=r(l)}if(d!==null)var H=!0;else{var U=r(c);U!==null&&W(S,U.startTime-R),H=!1}return H}finally{d=null,h=B,p=!1}}var k=!1,j=null,P=-1,_=5,A=-1;function N(){return!(e.unstable_now()-A<_)}function E(){if(j!==null){var I=e.unstable_now();A=I;var R=!0;try{R=j(!0,I)}finally{R?z():(k=!1,j=null)}}else k=!1}var z;if(typeof g=="function")z=function(){g(E)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,T=D.port2;D.port1.onmessage=E,z=function(){T.postMessage(null)}}else z=function(){x(E,0)};function L(I){j=I,k||(k=!0,z())}function W(I,R){P=x(function(){I(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,L(w))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(I){switch(h){case 1:case 2:case 3:var R=3;break;default:R=h}var B=h;h=R;try{return I()}finally{h=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,R){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var B=h;h=I;try{return R()}finally{h=B}},e.unstable_scheduleCallback=function(I,R,B){var te=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?te+B:te):B=te,I){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=B+X,I={id:f++,callback:R,priorityLevel:I,startTime:B,expirationTime:X,sortIndex:-1},B>te?(I.sortIndex=B,t(c,I),r(l)===null&&I===r(c)&&(v?(y(P),P=-1):v=!0,W(S,B-te))):(I.sortIndex=X,t(l,I),m||p||(m=!0,L(w))),I},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(I){var R=h;return function(){var B=h;h=R;try{return I.apply(this,arguments)}finally{h=B}}}})(tk);ek.exports=tk;var cN=ek.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uN=O,En=cN;function oe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var rk=new Set,ec={};function Si(e,t){hs(e,t),hs(e+"Capture",t)}function hs(e,t){for(ec[e]=t,e=0;e<t.length;e++)rk.add(t[e])}var Xa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),s0=Object.prototype.hasOwnProperty,fN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Dv={},Rv={};function dN(e){return s0.call(Rv,e)?!0:s0.call(Dv,e)?!1:fN.test(e)?Rv[e]=!0:(Dv[e]=!0,!1)}function hN(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function pN(e,t,r,n){if(t===null||typeof t>"u"||hN(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ln(e,t,r,n,a,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var Ir={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ir[e]=new ln(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ir[t]=new ln(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ir[e]=new ln(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ir[e]=new ln(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ir[e]=new ln(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ir[e]=new ln(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ir[e]=new ln(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ir[e]=new ln(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ir[e]=new ln(e,5,!1,e.toLowerCase(),null,!1,!1)});var $m=/[\-:]([a-z])/g;function Dm(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace($m,Dm);Ir[t]=new ln(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace($m,Dm);Ir[t]=new ln(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace($m,Dm);Ir[t]=new ln(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ir[e]=new ln(e,1,!1,e.toLowerCase(),null,!1,!1)});Ir.xlinkHref=new ln("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ir[e]=new ln(e,1,!1,e.toLowerCase(),null,!0,!0)});function Rm(e,t,r,n){var a=Ir.hasOwnProperty(t)?Ir[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(pN(t,r,a,n)&&(r=null),n||a===null?dN(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var to=uN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,bu=Symbol.for("react.element"),Ui=Symbol.for("react.portal"),Gi=Symbol.for("react.fragment"),Lm=Symbol.for("react.strict_mode"),l0=Symbol.for("react.profiler"),nk=Symbol.for("react.provider"),ak=Symbol.for("react.context"),Im=Symbol.for("react.forward_ref"),c0=Symbol.for("react.suspense"),u0=Symbol.for("react.suspense_list"),Bm=Symbol.for("react.memo"),co=Symbol.for("react.lazy"),ok=Symbol.for("react.offscreen"),Lv=Symbol.iterator;function gl(e){return e===null||typeof e!="object"?null:(e=Lv&&e[Lv]||e["@@iterator"],typeof e=="function"?e:null)}var tr=Object.assign,Jh;function Tl(e){if(Jh===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Jh=t&&t[1]||""}return`
`+Jh+e}var ep=!1;function tp(e,t){if(!e||ep)return"";ep=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),o=n.stack.split(`
`),i=a.length-1,s=o.length-1;1<=i&&0<=s&&a[i]!==o[s];)s--;for(;1<=i&&0<=s;i--,s--)if(a[i]!==o[s]){if(i!==1||s!==1)do if(i--,s--,0>s||a[i]!==o[s]){var l=`
`+a[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=i&&0<=s);break}}}finally{ep=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Tl(e):""}function gN(e){switch(e.tag){case 5:return Tl(e.type);case 16:return Tl("Lazy");case 13:return Tl("Suspense");case 19:return Tl("SuspenseList");case 0:case 2:case 15:return e=tp(e.type,!1),e;case 11:return e=tp(e.type.render,!1),e;case 1:return e=tp(e.type,!0),e;default:return""}}function f0(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Gi:return"Fragment";case Ui:return"Portal";case l0:return"Profiler";case Lm:return"StrictMode";case c0:return"Suspense";case u0:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ak:return(e.displayName||"Context")+".Consumer";case nk:return(e._context.displayName||"Context")+".Provider";case Im:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Bm:return t=e.displayName||null,t!==null?t:f0(e.type)||"Memo";case co:t=e._payload,e=e._init;try{return f0(e(t))}catch{}}return null}function mN(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return f0(t);case 8:return t===Lm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Mo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ik(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function yN(e){var t=ik(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function wu(e){e._valueTracker||(e._valueTracker=yN(e))}function sk(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=ik(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function ff(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function d0(e,t){var r=t.checked;return tr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Iv(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Mo(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function lk(e,t){t=t.checked,t!=null&&Rm(e,"checked",t,!1)}function h0(e,t){lk(e,t);var r=Mo(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?p0(e,t.type,r):t.hasOwnProperty("defaultValue")&&p0(e,t.type,Mo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Bv(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function p0(e,t,r){(t!=="number"||ff(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var $l=Array.isArray;function as(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Mo(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function g0(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(oe(91));return tr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Fv(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(oe(92));if($l(r)){if(1<r.length)throw Error(oe(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Mo(r)}}function ck(e,t){var r=Mo(t.value),n=Mo(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function zv(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function uk(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function m0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?uk(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ku,fk=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ku=ku||document.createElement("div"),ku.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ku.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function tc(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Il={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vN=["Webkit","ms","Moz","O"];Object.keys(Il).forEach(function(e){vN.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Il[t]=Il[e]})});function dk(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Il.hasOwnProperty(e)&&Il[e]?(""+t).trim():t+"px"}function hk(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=dk(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var xN=tr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function y0(e,t){if(t){if(xN[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(oe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(oe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(oe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(oe(62))}}function v0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var x0=null;function Fm(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var b0=null,os=null,is=null;function Wv(e){if(e=ru(e)){if(typeof b0!="function")throw Error(oe(280));var t=e.stateNode;t&&(t=Gd(t),b0(e.stateNode,e.type,t))}}function pk(e){os?is?is.push(e):is=[e]:os=e}function gk(){if(os){var e=os,t=is;if(is=os=null,Wv(e),t)for(e=0;e<t.length;e++)Wv(t[e])}}function mk(e,t){return e(t)}function yk(){}var rp=!1;function vk(e,t,r){if(rp)return e(t,r);rp=!0;try{return mk(e,t,r)}finally{rp=!1,(os!==null||is!==null)&&(yk(),gk())}}function rc(e,t){var r=e.stateNode;if(r===null)return null;var n=Gd(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(oe(231,t,typeof r));return r}var w0=!1;if(Xa)try{var ml={};Object.defineProperty(ml,"passive",{get:function(){w0=!0}}),window.addEventListener("test",ml,ml),window.removeEventListener("test",ml,ml)}catch{w0=!1}function bN(e,t,r,n,a,o,i,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(f){this.onError(f)}}var Bl=!1,df=null,hf=!1,k0=null,wN={onError:function(e){Bl=!0,df=e}};function kN(e,t,r,n,a,o,i,s,l){Bl=!1,df=null,bN.apply(wN,arguments)}function SN(e,t,r,n,a,o,i,s,l){if(kN.apply(this,arguments),Bl){if(Bl){var c=df;Bl=!1,df=null}else throw Error(oe(198));hf||(hf=!0,k0=c)}}function ji(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function xk(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Uv(e){if(ji(e)!==e)throw Error(oe(188))}function jN(e){var t=e.alternate;if(!t){if(t=ji(e),t===null)throw Error(oe(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var o=a.alternate;if(o===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===r)return Uv(a),e;if(o===n)return Uv(a),t;o=o.sibling}throw Error(oe(188))}if(r.return!==n.return)r=a,n=o;else{for(var i=!1,s=a.child;s;){if(s===r){i=!0,r=a,n=o;break}if(s===n){i=!0,n=a,r=o;break}s=s.sibling}if(!i){for(s=o.child;s;){if(s===r){i=!0,r=o,n=a;break}if(s===n){i=!0,n=o,r=a;break}s=s.sibling}if(!i)throw Error(oe(189))}}if(r.alternate!==n)throw Error(oe(190))}if(r.tag!==3)throw Error(oe(188));return r.stateNode.current===r?e:t}function bk(e){return e=jN(e),e!==null?wk(e):null}function wk(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=wk(e);if(t!==null)return t;e=e.sibling}return null}var kk=En.unstable_scheduleCallback,Gv=En.unstable_cancelCallback,ON=En.unstable_shouldYield,PN=En.unstable_requestPaint,lr=En.unstable_now,_N=En.unstable_getCurrentPriorityLevel,zm=En.unstable_ImmediatePriority,Sk=En.unstable_UserBlockingPriority,pf=En.unstable_NormalPriority,NN=En.unstable_LowPriority,jk=En.unstable_IdlePriority,Fd=null,Pa=null;function AN(e){if(Pa&&typeof Pa.onCommitFiberRoot=="function")try{Pa.onCommitFiberRoot(Fd,e,void 0,(e.current.flags&128)===128)}catch{}}var ua=Math.clz32?Math.clz32:EN,MN=Math.log,CN=Math.LN2;function EN(e){return e>>>=0,e===0?32:31-(MN(e)/CN|0)|0}var Su=64,ju=4194304;function Dl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function gf(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,o=e.pingedLanes,i=r&268435455;if(i!==0){var s=i&~a;s!==0?n=Dl(s):(o&=i,o!==0&&(n=Dl(o)))}else i=r&~a,i!==0?n=Dl(i):o!==0&&(n=Dl(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,o=t&-t,a>=o||a===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ua(t),a=1<<r,n|=e[r],t&=~a;return n}function TN(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $N(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-ua(o),s=1<<i,l=a[i];l===-1?(!(s&r)||s&n)&&(a[i]=TN(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}function S0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ok(){var e=Su;return Su<<=1,!(Su&4194240)&&(Su=64),e}function np(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function eu(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ua(t),e[t]=r}function DN(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-ua(r),o=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~o}}function Wm(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ua(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var jt=0;function Pk(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var _k,Um,Nk,Ak,Mk,j0=!1,Ou=[],wo=null,ko=null,So=null,nc=new Map,ac=new Map,ho=[],RN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hv(e,t){switch(e){case"focusin":case"focusout":wo=null;break;case"dragenter":case"dragleave":ko=null;break;case"mouseover":case"mouseout":So=null;break;case"pointerover":case"pointerout":nc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ac.delete(t.pointerId)}}function yl(e,t,r,n,a,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[a]},t!==null&&(t=ru(t),t!==null&&Um(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function LN(e,t,r,n,a){switch(t){case"focusin":return wo=yl(wo,e,t,r,n,a),!0;case"dragenter":return ko=yl(ko,e,t,r,n,a),!0;case"mouseover":return So=yl(So,e,t,r,n,a),!0;case"pointerover":var o=a.pointerId;return nc.set(o,yl(nc.get(o)||null,e,t,r,n,a)),!0;case"gotpointercapture":return o=a.pointerId,ac.set(o,yl(ac.get(o)||null,e,t,r,n,a)),!0}return!1}function Ck(e){var t=Qo(e.target);if(t!==null){var r=ji(t);if(r!==null){if(t=r.tag,t===13){if(t=xk(r),t!==null){e.blockedOn=t,Mk(e.priority,function(){Nk(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ju(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=O0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);x0=n,r.target.dispatchEvent(n),x0=null}else return t=ru(r),t!==null&&Um(t),e.blockedOn=r,!1;t.shift()}return!0}function Vv(e,t,r){Ju(e)&&r.delete(t)}function IN(){j0=!1,wo!==null&&Ju(wo)&&(wo=null),ko!==null&&Ju(ko)&&(ko=null),So!==null&&Ju(So)&&(So=null),nc.forEach(Vv),ac.forEach(Vv)}function vl(e,t){e.blockedOn===t&&(e.blockedOn=null,j0||(j0=!0,En.unstable_scheduleCallback(En.unstable_NormalPriority,IN)))}function oc(e){function t(a){return vl(a,e)}if(0<Ou.length){vl(Ou[0],e);for(var r=1;r<Ou.length;r++){var n=Ou[r];n.blockedOn===e&&(n.blockedOn=null)}}for(wo!==null&&vl(wo,e),ko!==null&&vl(ko,e),So!==null&&vl(So,e),nc.forEach(t),ac.forEach(t),r=0;r<ho.length;r++)n=ho[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ho.length&&(r=ho[0],r.blockedOn===null);)Ck(r),r.blockedOn===null&&ho.shift()}var ss=to.ReactCurrentBatchConfig,mf=!0;function BN(e,t,r,n){var a=jt,o=ss.transition;ss.transition=null;try{jt=1,Gm(e,t,r,n)}finally{jt=a,ss.transition=o}}function FN(e,t,r,n){var a=jt,o=ss.transition;ss.transition=null;try{jt=4,Gm(e,t,r,n)}finally{jt=a,ss.transition=o}}function Gm(e,t,r,n){if(mf){var a=O0(e,t,r,n);if(a===null)hp(e,t,n,yf,r),Hv(e,n);else if(LN(a,e,t,r,n))n.stopPropagation();else if(Hv(e,n),t&4&&-1<RN.indexOf(e)){for(;a!==null;){var o=ru(a);if(o!==null&&_k(o),o=O0(e,t,r,n),o===null&&hp(e,t,n,yf,r),o===a)break;a=o}a!==null&&n.stopPropagation()}else hp(e,t,n,null,r)}}var yf=null;function O0(e,t,r,n){if(yf=null,e=Fm(n),e=Qo(e),e!==null)if(t=ji(e),t===null)e=null;else if(r=t.tag,r===13){if(e=xk(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return yf=e,null}function Ek(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_N()){case zm:return 1;case Sk:return 4;case pf:case NN:return 16;case jk:return 536870912;default:return 16}default:return 16}}var mo=null,Hm=null,ef=null;function Tk(){if(ef)return ef;var e,t=Hm,r=t.length,n,a="value"in mo?mo.value:mo.textContent,o=a.length;for(e=0;e<r&&t[e]===a[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===a[o-n];n++);return ef=a.slice(e,1<n?1-n:void 0)}function tf(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Pu(){return!0}function Kv(){return!1}function $n(e){function t(r,n,a,o,i){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(r=e[s],this[s]=r?r(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Pu:Kv,this.isPropagationStopped=Kv,this}return tr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Pu)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Pu)},persist:function(){},isPersistent:Pu}),t}var qs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vm=$n(qs),tu=tr({},qs,{view:0,detail:0}),zN=$n(tu),ap,op,xl,zd=tr({},tu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Km,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xl&&(xl&&e.type==="mousemove"?(ap=e.screenX-xl.screenX,op=e.screenY-xl.screenY):op=ap=0,xl=e),ap)},movementY:function(e){return"movementY"in e?e.movementY:op}}),Xv=$n(zd),WN=tr({},zd,{dataTransfer:0}),UN=$n(WN),GN=tr({},tu,{relatedTarget:0}),ip=$n(GN),HN=tr({},qs,{animationName:0,elapsedTime:0,pseudoElement:0}),VN=$n(HN),KN=tr({},qs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),XN=$n(KN),YN=tr({},qs,{data:0}),Yv=$n(YN),qN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},QN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ZN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function JN(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ZN[e])?!!t[e]:!1}function Km(){return JN}var eA=tr({},tu,{key:function(e){if(e.key){var t=qN[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=tf(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?QN[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Km,charCode:function(e){return e.type==="keypress"?tf(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?tf(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),tA=$n(eA),rA=tr({},zd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qv=$n(rA),nA=tr({},tu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Km}),aA=$n(nA),oA=tr({},qs,{propertyName:0,elapsedTime:0,pseudoElement:0}),iA=$n(oA),sA=tr({},zd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),lA=$n(sA),cA=[9,13,27,32],Xm=Xa&&"CompositionEvent"in window,Fl=null;Xa&&"documentMode"in document&&(Fl=document.documentMode);var uA=Xa&&"TextEvent"in window&&!Fl,$k=Xa&&(!Xm||Fl&&8<Fl&&11>=Fl),Qv=" ",Zv=!1;function Dk(e,t){switch(e){case"keyup":return cA.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rk(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Hi=!1;function fA(e,t){switch(e){case"compositionend":return Rk(t);case"keypress":return t.which!==32?null:(Zv=!0,Qv);case"textInput":return e=t.data,e===Qv&&Zv?null:e;default:return null}}function dA(e,t){if(Hi)return e==="compositionend"||!Xm&&Dk(e,t)?(e=Tk(),ef=Hm=mo=null,Hi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return $k&&t.locale!=="ko"?null:t.data;default:return null}}var hA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!hA[e.type]:t==="textarea"}function Lk(e,t,r,n){pk(n),t=vf(t,"onChange"),0<t.length&&(r=new Vm("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var zl=null,ic=null;function pA(e){Xk(e,0)}function Wd(e){var t=Xi(e);if(sk(t))return e}function gA(e,t){if(e==="change")return t}var Ik=!1;if(Xa){var sp;if(Xa){var lp="oninput"in document;if(!lp){var ex=document.createElement("div");ex.setAttribute("oninput","return;"),lp=typeof ex.oninput=="function"}sp=lp}else sp=!1;Ik=sp&&(!document.documentMode||9<document.documentMode)}function tx(){zl&&(zl.detachEvent("onpropertychange",Bk),ic=zl=null)}function Bk(e){if(e.propertyName==="value"&&Wd(ic)){var t=[];Lk(t,ic,e,Fm(e)),vk(pA,t)}}function mA(e,t,r){e==="focusin"?(tx(),zl=t,ic=r,zl.attachEvent("onpropertychange",Bk)):e==="focusout"&&tx()}function yA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Wd(ic)}function vA(e,t){if(e==="click")return Wd(t)}function xA(e,t){if(e==="input"||e==="change")return Wd(t)}function bA(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var da=typeof Object.is=="function"?Object.is:bA;function sc(e,t){if(da(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!s0.call(t,a)||!da(e[a],t[a]))return!1}return!0}function rx(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nx(e,t){var r=rx(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=rx(r)}}function Fk(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Fk(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function zk(){for(var e=window,t=ff();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=ff(e.document)}return t}function Ym(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function wA(e){var t=zk(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Fk(r.ownerDocument.documentElement,r)){if(n!==null&&Ym(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,o=Math.min(n.start,a);n=n.end===void 0?o:Math.min(n.end,a),!e.extend&&o>n&&(a=n,n=o,o=a),a=nx(r,o);var i=nx(r,n);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var kA=Xa&&"documentMode"in document&&11>=document.documentMode,Vi=null,P0=null,Wl=null,_0=!1;function ax(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;_0||Vi==null||Vi!==ff(n)||(n=Vi,"selectionStart"in n&&Ym(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Wl&&sc(Wl,n)||(Wl=n,n=vf(P0,"onSelect"),0<n.length&&(t=new Vm("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Vi)))}function _u(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ki={animationend:_u("Animation","AnimationEnd"),animationiteration:_u("Animation","AnimationIteration"),animationstart:_u("Animation","AnimationStart"),transitionend:_u("Transition","TransitionEnd")},cp={},Wk={};Xa&&(Wk=document.createElement("div").style,"AnimationEvent"in window||(delete Ki.animationend.animation,delete Ki.animationiteration.animation,delete Ki.animationstart.animation),"TransitionEvent"in window||delete Ki.transitionend.transition);function Ud(e){if(cp[e])return cp[e];if(!Ki[e])return e;var t=Ki[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Wk)return cp[e]=t[r];return e}var Uk=Ud("animationend"),Gk=Ud("animationiteration"),Hk=Ud("animationstart"),Vk=Ud("transitionend"),Kk=new Map,ox="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Eo(e,t){Kk.set(e,t),Si(t,[e])}for(var up=0;up<ox.length;up++){var fp=ox[up],SA=fp.toLowerCase(),jA=fp[0].toUpperCase()+fp.slice(1);Eo(SA,"on"+jA)}Eo(Uk,"onAnimationEnd");Eo(Gk,"onAnimationIteration");Eo(Hk,"onAnimationStart");Eo("dblclick","onDoubleClick");Eo("focusin","onFocus");Eo("focusout","onBlur");Eo(Vk,"onTransitionEnd");hs("onMouseEnter",["mouseout","mouseover"]);hs("onMouseLeave",["mouseout","mouseover"]);hs("onPointerEnter",["pointerout","pointerover"]);hs("onPointerLeave",["pointerout","pointerover"]);Si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Si("onBeforeInput",["compositionend","keypress","textInput","paste"]);Si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rl));function ix(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,SN(n,t,void 0,e),e.currentTarget=null}function Xk(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var i=n.length-1;0<=i;i--){var s=n[i],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&a.isPropagationStopped())break e;ix(a,s,c),o=l}else for(i=0;i<n.length;i++){if(s=n[i],l=s.instance,c=s.currentTarget,s=s.listener,l!==o&&a.isPropagationStopped())break e;ix(a,s,c),o=l}}}if(hf)throw e=k0,hf=!1,k0=null,e}function Vt(e,t){var r=t[E0];r===void 0&&(r=t[E0]=new Set);var n=e+"__bubble";r.has(n)||(Yk(t,e,2,!1),r.add(n))}function dp(e,t,r){var n=0;t&&(n|=4),Yk(r,e,n,t)}var Nu="_reactListening"+Math.random().toString(36).slice(2);function lc(e){if(!e[Nu]){e[Nu]=!0,rk.forEach(function(r){r!=="selectionchange"&&(OA.has(r)||dp(r,!1,e),dp(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Nu]||(t[Nu]=!0,dp("selectionchange",!1,t))}}function Yk(e,t,r,n){switch(Ek(t)){case 1:var a=BN;break;case 4:a=FN;break;default:a=Gm}r=a.bind(null,t,r,e),a=void 0,!w0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function hp(e,t,r,n,a){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var s=n.stateNode.containerInfo;if(s===a||s.nodeType===8&&s.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;i=i.return}for(;s!==null;){if(i=Qo(s),i===null)return;if(l=i.tag,l===5||l===6){n=o=i;continue e}s=s.parentNode}}n=n.return}vk(function(){var c=o,f=Fm(r),d=[];e:{var h=Kk.get(e);if(h!==void 0){var p=Vm,m=e;switch(e){case"keypress":if(tf(r)===0)break e;case"keydown":case"keyup":p=tA;break;case"focusin":m="focus",p=ip;break;case"focusout":m="blur",p=ip;break;case"beforeblur":case"afterblur":p=ip;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Xv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=UN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=aA;break;case Uk:case Gk:case Hk:p=VN;break;case Vk:p=iA;break;case"scroll":p=zN;break;case"wheel":p=lA;break;case"copy":case"cut":case"paste":p=XN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=qv}var v=(t&4)!==0,x=!v&&e==="scroll",y=v?h!==null?h+"Capture":null:h;v=[];for(var g=c,b;g!==null;){b=g;var S=b.stateNode;if(b.tag===5&&S!==null&&(b=S,y!==null&&(S=rc(g,y),S!=null&&v.push(cc(g,S,b)))),x)break;g=g.return}0<v.length&&(h=new p(h,m,null,r,f),d.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==x0&&(m=r.relatedTarget||r.fromElement)&&(Qo(m)||m[Ya]))break e;if((p||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=c,m=m?Qo(m):null,m!==null&&(x=ji(m),m!==x||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(v=Xv,S="onMouseLeave",y="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(v=qv,S="onPointerLeave",y="onPointerEnter",g="pointer"),x=p==null?h:Xi(p),b=m==null?h:Xi(m),h=new v(S,g+"leave",p,r,f),h.target=x,h.relatedTarget=b,S=null,Qo(f)===c&&(v=new v(y,g+"enter",m,r,f),v.target=b,v.relatedTarget=x,S=v),x=S,p&&m)t:{for(v=p,y=m,g=0,b=v;b;b=Li(b))g++;for(b=0,S=y;S;S=Li(S))b++;for(;0<g-b;)v=Li(v),g--;for(;0<b-g;)y=Li(y),b--;for(;g--;){if(v===y||y!==null&&v===y.alternate)break t;v=Li(v),y=Li(y)}v=null}else v=null;p!==null&&sx(d,h,p,v,!1),m!==null&&x!==null&&sx(d,x,m,v,!0)}}e:{if(h=c?Xi(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var w=gA;else if(Jv(h))if(Ik)w=xA;else{w=yA;var k=mA}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=vA);if(w&&(w=w(e,c))){Lk(d,w,r,f);break e}k&&k(e,h,c),e==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&p0(h,"number",h.value)}switch(k=c?Xi(c):window,e){case"focusin":(Jv(k)||k.contentEditable==="true")&&(Vi=k,P0=c,Wl=null);break;case"focusout":Wl=P0=Vi=null;break;case"mousedown":_0=!0;break;case"contextmenu":case"mouseup":case"dragend":_0=!1,ax(d,r,f);break;case"selectionchange":if(kA)break;case"keydown":case"keyup":ax(d,r,f)}var j;if(Xm)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Hi?Dk(e,r)&&(P="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&($k&&r.locale!=="ko"&&(Hi||P!=="onCompositionStart"?P==="onCompositionEnd"&&Hi&&(j=Tk()):(mo=f,Hm="value"in mo?mo.value:mo.textContent,Hi=!0)),k=vf(c,P),0<k.length&&(P=new Yv(P,e,null,r,f),d.push({event:P,listeners:k}),j?P.data=j:(j=Rk(r),j!==null&&(P.data=j)))),(j=uA?fA(e,r):dA(e,r))&&(c=vf(c,"onBeforeInput"),0<c.length&&(f=new Yv("onBeforeInput","beforeinput",null,r,f),d.push({event:f,listeners:c}),f.data=j))}Xk(d,t)})}function cc(e,t,r){return{instance:e,listener:t,currentTarget:r}}function vf(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,o=a.stateNode;a.tag===5&&o!==null&&(a=o,o=rc(e,r),o!=null&&n.unshift(cc(e,o,a)),o=rc(e,t),o!=null&&n.push(cc(e,o,a))),e=e.return}return n}function Li(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function sx(e,t,r,n,a){for(var o=t._reactName,i=[];r!==null&&r!==n;){var s=r,l=s.alternate,c=s.stateNode;if(l!==null&&l===n)break;s.tag===5&&c!==null&&(s=c,a?(l=rc(r,o),l!=null&&i.unshift(cc(r,l,s))):a||(l=rc(r,o),l!=null&&i.push(cc(r,l,s)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var PA=/\r\n?/g,_A=/\u0000|\uFFFD/g;function lx(e){return(typeof e=="string"?e:""+e).replace(PA,`
`).replace(_A,"")}function Au(e,t,r){if(t=lx(t),lx(e)!==t&&r)throw Error(oe(425))}function xf(){}var N0=null,A0=null;function M0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var C0=typeof setTimeout=="function"?setTimeout:void 0,NA=typeof clearTimeout=="function"?clearTimeout:void 0,cx=typeof Promise=="function"?Promise:void 0,AA=typeof queueMicrotask=="function"?queueMicrotask:typeof cx<"u"?function(e){return cx.resolve(null).then(e).catch(MA)}:C0;function MA(e){setTimeout(function(){throw e})}function pp(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),oc(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);oc(t)}function jo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ux(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Qs=Math.random().toString(36).slice(2),Sa="__reactFiber$"+Qs,uc="__reactProps$"+Qs,Ya="__reactContainer$"+Qs,E0="__reactEvents$"+Qs,CA="__reactListeners$"+Qs,EA="__reactHandles$"+Qs;function Qo(e){var t=e[Sa];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ya]||r[Sa]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=ux(e);e!==null;){if(r=e[Sa])return r;e=ux(e)}return t}e=r,r=e.parentNode}return null}function ru(e){return e=e[Sa]||e[Ya],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Xi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(oe(33))}function Gd(e){return e[uc]||null}var T0=[],Yi=-1;function To(e){return{current:e}}function Yt(e){0>Yi||(e.current=T0[Yi],T0[Yi]=null,Yi--)}function Gt(e,t){Yi++,T0[Yi]=e.current,e.current=t}var Co={},Qr=To(Co),yn=To(!1),fi=Co;function ps(e,t){var r=e.type.contextTypes;if(!r)return Co;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},o;for(o in r)a[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function vn(e){return e=e.childContextTypes,e!=null}function bf(){Yt(yn),Yt(Qr)}function fx(e,t,r){if(Qr.current!==Co)throw Error(oe(168));Gt(Qr,t),Gt(yn,r)}function qk(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(oe(108,mN(e)||"Unknown",a));return tr({},r,n)}function wf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Co,fi=Qr.current,Gt(Qr,e),Gt(yn,yn.current),!0}function dx(e,t,r){var n=e.stateNode;if(!n)throw Error(oe(169));r?(e=qk(e,t,fi),n.__reactInternalMemoizedMergedChildContext=e,Yt(yn),Yt(Qr),Gt(Qr,e)):Yt(yn),Gt(yn,r)}var La=null,Hd=!1,gp=!1;function Qk(e){La===null?La=[e]:La.push(e)}function TA(e){Hd=!0,Qk(e)}function $o(){if(!gp&&La!==null){gp=!0;var e=0,t=jt;try{var r=La;for(jt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}La=null,Hd=!1}catch(a){throw La!==null&&(La=La.slice(e+1)),kk(zm,$o),a}finally{jt=t,gp=!1}}return null}var qi=[],Qi=0,kf=null,Sf=0,Wn=[],Un=0,di=null,Ia=1,Ba="";function Vo(e,t){qi[Qi++]=Sf,qi[Qi++]=kf,kf=e,Sf=t}function Zk(e,t,r){Wn[Un++]=Ia,Wn[Un++]=Ba,Wn[Un++]=di,di=e;var n=Ia;e=Ba;var a=32-ua(n)-1;n&=~(1<<a),r+=1;var o=32-ua(t)+a;if(30<o){var i=a-a%5;o=(n&(1<<i)-1).toString(32),n>>=i,a-=i,Ia=1<<32-ua(t)+a|r<<a|n,Ba=o+e}else Ia=1<<o|r<<a|n,Ba=e}function qm(e){e.return!==null&&(Vo(e,1),Zk(e,1,0))}function Qm(e){for(;e===kf;)kf=qi[--Qi],qi[Qi]=null,Sf=qi[--Qi],qi[Qi]=null;for(;e===di;)di=Wn[--Un],Wn[Un]=null,Ba=Wn[--Un],Wn[Un]=null,Ia=Wn[--Un],Wn[Un]=null}var Cn=null,Mn=null,qt=!1,sa=null;function Jk(e,t){var r=Gn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function hx(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Cn=e,Mn=jo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Cn=e,Mn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=di!==null?{id:Ia,overflow:Ba}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Gn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Cn=e,Mn=null,!0):!1;default:return!1}}function $0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function D0(e){if(qt){var t=Mn;if(t){var r=t;if(!hx(e,t)){if($0(e))throw Error(oe(418));t=jo(r.nextSibling);var n=Cn;t&&hx(e,t)?Jk(n,r):(e.flags=e.flags&-4097|2,qt=!1,Cn=e)}}else{if($0(e))throw Error(oe(418));e.flags=e.flags&-4097|2,qt=!1,Cn=e}}}function px(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Cn=e}function Mu(e){if(e!==Cn)return!1;if(!qt)return px(e),qt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!M0(e.type,e.memoizedProps)),t&&(t=Mn)){if($0(e))throw eS(),Error(oe(418));for(;t;)Jk(e,t),t=jo(t.nextSibling)}if(px(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(oe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Mn=jo(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Mn=null}}else Mn=Cn?jo(e.stateNode.nextSibling):null;return!0}function eS(){for(var e=Mn;e;)e=jo(e.nextSibling)}function gs(){Mn=Cn=null,qt=!1}function Zm(e){sa===null?sa=[e]:sa.push(e)}var $A=to.ReactCurrentBatchConfig;function bl(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(oe(309));var n=r.stateNode}if(!n)throw Error(oe(147,e));var a=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var s=a.refs;i===null?delete s[o]:s[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(oe(284));if(!r._owner)throw Error(oe(290,e))}return e}function Cu(e,t){throw e=Object.prototype.toString.call(t),Error(oe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function gx(e){var t=e._init;return t(e._payload)}function tS(e){function t(y,g){if(e){var b=y.deletions;b===null?(y.deletions=[g],y.flags|=16):b.push(g)}}function r(y,g){if(!e)return null;for(;g!==null;)t(y,g),g=g.sibling;return null}function n(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function a(y,g){return y=No(y,g),y.index=0,y.sibling=null,y}function o(y,g,b){return y.index=b,e?(b=y.alternate,b!==null?(b=b.index,b<g?(y.flags|=2,g):b):(y.flags|=2,g)):(y.flags|=1048576,g)}function i(y){return e&&y.alternate===null&&(y.flags|=2),y}function s(y,g,b,S){return g===null||g.tag!==6?(g=kp(b,y.mode,S),g.return=y,g):(g=a(g,b),g.return=y,g)}function l(y,g,b,S){var w=b.type;return w===Gi?f(y,g,b.props.children,S,b.key):g!==null&&(g.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===co&&gx(w)===g.type)?(S=a(g,b.props),S.ref=bl(y,g,b),S.return=y,S):(S=cf(b.type,b.key,b.props,null,y.mode,S),S.ref=bl(y,g,b),S.return=y,S)}function c(y,g,b,S){return g===null||g.tag!==4||g.stateNode.containerInfo!==b.containerInfo||g.stateNode.implementation!==b.implementation?(g=Sp(b,y.mode,S),g.return=y,g):(g=a(g,b.children||[]),g.return=y,g)}function f(y,g,b,S,w){return g===null||g.tag!==7?(g=si(b,y.mode,S,w),g.return=y,g):(g=a(g,b),g.return=y,g)}function d(y,g,b){if(typeof g=="string"&&g!==""||typeof g=="number")return g=kp(""+g,y.mode,b),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case bu:return b=cf(g.type,g.key,g.props,null,y.mode,b),b.ref=bl(y,null,g),b.return=y,b;case Ui:return g=Sp(g,y.mode,b),g.return=y,g;case co:var S=g._init;return d(y,S(g._payload),b)}if($l(g)||gl(g))return g=si(g,y.mode,b,null),g.return=y,g;Cu(y,g)}return null}function h(y,g,b,S){var w=g!==null?g.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return w!==null?null:s(y,g,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case bu:return b.key===w?l(y,g,b,S):null;case Ui:return b.key===w?c(y,g,b,S):null;case co:return w=b._init,h(y,g,w(b._payload),S)}if($l(b)||gl(b))return w!==null?null:f(y,g,b,S,null);Cu(y,b)}return null}function p(y,g,b,S,w){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(b)||null,s(g,y,""+S,w);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case bu:return y=y.get(S.key===null?b:S.key)||null,l(g,y,S,w);case Ui:return y=y.get(S.key===null?b:S.key)||null,c(g,y,S,w);case co:var k=S._init;return p(y,g,b,k(S._payload),w)}if($l(S)||gl(S))return y=y.get(b)||null,f(g,y,S,w,null);Cu(g,S)}return null}function m(y,g,b,S){for(var w=null,k=null,j=g,P=g=0,_=null;j!==null&&P<b.length;P++){j.index>P?(_=j,j=null):_=j.sibling;var A=h(y,j,b[P],S);if(A===null){j===null&&(j=_);break}e&&j&&A.alternate===null&&t(y,j),g=o(A,g,P),k===null?w=A:k.sibling=A,k=A,j=_}if(P===b.length)return r(y,j),qt&&Vo(y,P),w;if(j===null){for(;P<b.length;P++)j=d(y,b[P],S),j!==null&&(g=o(j,g,P),k===null?w=j:k.sibling=j,k=j);return qt&&Vo(y,P),w}for(j=n(y,j);P<b.length;P++)_=p(j,y,P,b[P],S),_!==null&&(e&&_.alternate!==null&&j.delete(_.key===null?P:_.key),g=o(_,g,P),k===null?w=_:k.sibling=_,k=_);return e&&j.forEach(function(N){return t(y,N)}),qt&&Vo(y,P),w}function v(y,g,b,S){var w=gl(b);if(typeof w!="function")throw Error(oe(150));if(b=w.call(b),b==null)throw Error(oe(151));for(var k=w=null,j=g,P=g=0,_=null,A=b.next();j!==null&&!A.done;P++,A=b.next()){j.index>P?(_=j,j=null):_=j.sibling;var N=h(y,j,A.value,S);if(N===null){j===null&&(j=_);break}e&&j&&N.alternate===null&&t(y,j),g=o(N,g,P),k===null?w=N:k.sibling=N,k=N,j=_}if(A.done)return r(y,j),qt&&Vo(y,P),w;if(j===null){for(;!A.done;P++,A=b.next())A=d(y,A.value,S),A!==null&&(g=o(A,g,P),k===null?w=A:k.sibling=A,k=A);return qt&&Vo(y,P),w}for(j=n(y,j);!A.done;P++,A=b.next())A=p(j,y,P,A.value,S),A!==null&&(e&&A.alternate!==null&&j.delete(A.key===null?P:A.key),g=o(A,g,P),k===null?w=A:k.sibling=A,k=A);return e&&j.forEach(function(E){return t(y,E)}),qt&&Vo(y,P),w}function x(y,g,b,S){if(typeof b=="object"&&b!==null&&b.type===Gi&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case bu:e:{for(var w=b.key,k=g;k!==null;){if(k.key===w){if(w=b.type,w===Gi){if(k.tag===7){r(y,k.sibling),g=a(k,b.props.children),g.return=y,y=g;break e}}else if(k.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===co&&gx(w)===k.type){r(y,k.sibling),g=a(k,b.props),g.ref=bl(y,k,b),g.return=y,y=g;break e}r(y,k);break}else t(y,k);k=k.sibling}b.type===Gi?(g=si(b.props.children,y.mode,S,b.key),g.return=y,y=g):(S=cf(b.type,b.key,b.props,null,y.mode,S),S.ref=bl(y,g,b),S.return=y,y=S)}return i(y);case Ui:e:{for(k=b.key;g!==null;){if(g.key===k)if(g.tag===4&&g.stateNode.containerInfo===b.containerInfo&&g.stateNode.implementation===b.implementation){r(y,g.sibling),g=a(g,b.children||[]),g.return=y,y=g;break e}else{r(y,g);break}else t(y,g);g=g.sibling}g=Sp(b,y.mode,S),g.return=y,y=g}return i(y);case co:return k=b._init,x(y,g,k(b._payload),S)}if($l(b))return m(y,g,b,S);if(gl(b))return v(y,g,b,S);Cu(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,g!==null&&g.tag===6?(r(y,g.sibling),g=a(g,b),g.return=y,y=g):(r(y,g),g=kp(b,y.mode,S),g.return=y,y=g),i(y)):r(y,g)}return x}var ms=tS(!0),rS=tS(!1),jf=To(null),Of=null,Zi=null,Jm=null;function ey(){Jm=Zi=Of=null}function ty(e){var t=jf.current;Yt(jf),e._currentValue=t}function R0(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function ls(e,t){Of=e,Jm=Zi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(gn=!0),e.firstContext=null)}function Yn(e){var t=e._currentValue;if(Jm!==e)if(e={context:e,memoizedValue:t,next:null},Zi===null){if(Of===null)throw Error(oe(308));Zi=e,Of.dependencies={lanes:0,firstContext:e}}else Zi=Zi.next=e;return t}var Zo=null;function ry(e){Zo===null?Zo=[e]:Zo.push(e)}function nS(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,ry(t)):(r.next=a.next,a.next=r),t.interleaved=r,qa(e,n)}function qa(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var uo=!1;function ny(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function aS(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ua(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Oo(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,it&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,qa(e,r)}return a=n.interleaved,a===null?(t.next=t,ry(n)):(t.next=a.next,a.next=t),n.interleaved=t,qa(e,r)}function rf(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Wm(e,r)}}function mx(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?a=o=i:o=o.next=i,r=r.next}while(r!==null);o===null?a=o=t:o=o.next=t}else a=o=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Pf(e,t,r,n){var a=e.updateQueue;uo=!1;var o=a.firstBaseUpdate,i=a.lastBaseUpdate,s=a.shared.pending;if(s!==null){a.shared.pending=null;var l=s,c=l.next;l.next=null,i===null?o=c:i.next=c,i=l;var f=e.alternate;f!==null&&(f=f.updateQueue,s=f.lastBaseUpdate,s!==i&&(s===null?f.firstBaseUpdate=c:s.next=c,f.lastBaseUpdate=l))}if(o!==null){var d=a.baseState;i=0,f=c=l=null,s=o;do{var h=s.lane,p=s.eventTime;if((n&h)===h){f!==null&&(f=f.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var m=e,v=s;switch(h=t,p=r,v.tag){case 1:if(m=v.payload,typeof m=="function"){d=m.call(p,d,h);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=v.payload,h=typeof m=="function"?m.call(p,d,h):m,h==null)break e;d=tr({},d,h);break e;case 2:uo=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},f===null?(c=f=p,l=d):f=f.next=p,i|=h;if(s=s.next,s===null){if(s=a.shared.pending,s===null)break;h=s,s=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(f===null&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=f,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else o===null&&(a.shared.lanes=0);pi|=i,e.lanes=i,e.memoizedState=d}}function yx(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(oe(191,a));a.call(n)}}}var nu={},_a=To(nu),fc=To(nu),dc=To(nu);function Jo(e){if(e===nu)throw Error(oe(174));return e}function ay(e,t){switch(Gt(dc,t),Gt(fc,e),Gt(_a,nu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:m0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=m0(t,e)}Yt(_a),Gt(_a,t)}function ys(){Yt(_a),Yt(fc),Yt(dc)}function oS(e){Jo(dc.current);var t=Jo(_a.current),r=m0(t,e.type);t!==r&&(Gt(fc,e),Gt(_a,r))}function oy(e){fc.current===e&&(Yt(_a),Yt(fc))}var Jt=To(0);function _f(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var mp=[];function iy(){for(var e=0;e<mp.length;e++)mp[e]._workInProgressVersionPrimary=null;mp.length=0}var nf=to.ReactCurrentDispatcher,yp=to.ReactCurrentBatchConfig,hi=0,er=null,Sr=null,Ar=null,Nf=!1,Ul=!1,hc=0,DA=0;function Ur(){throw Error(oe(321))}function sy(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!da(e[r],t[r]))return!1;return!0}function ly(e,t,r,n,a,o){if(hi=o,er=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,nf.current=e===null||e.memoizedState===null?BA:FA,e=r(n,a),Ul){o=0;do{if(Ul=!1,hc=0,25<=o)throw Error(oe(301));o+=1,Ar=Sr=null,t.updateQueue=null,nf.current=zA,e=r(n,a)}while(Ul)}if(nf.current=Af,t=Sr!==null&&Sr.next!==null,hi=0,Ar=Sr=er=null,Nf=!1,t)throw Error(oe(300));return e}function cy(){var e=hc!==0;return hc=0,e}function ka(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ar===null?er.memoizedState=Ar=e:Ar=Ar.next=e,Ar}function qn(){if(Sr===null){var e=er.alternate;e=e!==null?e.memoizedState:null}else e=Sr.next;var t=Ar===null?er.memoizedState:Ar.next;if(t!==null)Ar=t,Sr=e;else{if(e===null)throw Error(oe(310));Sr=e,e={memoizedState:Sr.memoizedState,baseState:Sr.baseState,baseQueue:Sr.baseQueue,queue:Sr.queue,next:null},Ar===null?er.memoizedState=Ar=e:Ar=Ar.next=e}return Ar}function pc(e,t){return typeof t=="function"?t(e):t}function vp(e){var t=qn(),r=t.queue;if(r===null)throw Error(oe(311));r.lastRenderedReducer=e;var n=Sr,a=n.baseQueue,o=r.pending;if(o!==null){if(a!==null){var i=a.next;a.next=o.next,o.next=i}n.baseQueue=a=o,r.pending=null}if(a!==null){o=a.next,n=n.baseState;var s=i=null,l=null,c=o;do{var f=c.lane;if((hi&f)===f)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var d={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=d,i=n):l=l.next=d,er.lanes|=f,pi|=f}c=c.next}while(c!==null&&c!==o);l===null?i=n:l.next=s,da(n,t.memoizedState)||(gn=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do o=a.lane,er.lanes|=o,pi|=o,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function xp(e){var t=qn(),r=t.queue;if(r===null)throw Error(oe(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,o=t.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do o=e(o,i.action),i=i.next;while(i!==a);da(o,t.memoizedState)||(gn=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function iS(){}function sS(e,t){var r=er,n=qn(),a=t(),o=!da(n.memoizedState,a);if(o&&(n.memoizedState=a,gn=!0),n=n.queue,uy(uS.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||Ar!==null&&Ar.memoizedState.tag&1){if(r.flags|=2048,gc(9,cS.bind(null,r,n,a,t),void 0,null),Mr===null)throw Error(oe(349));hi&30||lS(r,t,a)}return a}function lS(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=er.updateQueue,t===null?(t={lastEffect:null,stores:null},er.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function cS(e,t,r,n){t.value=r,t.getSnapshot=n,fS(t)&&dS(e)}function uS(e,t,r){return r(function(){fS(t)&&dS(e)})}function fS(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!da(e,r)}catch{return!0}}function dS(e){var t=qa(e,1);t!==null&&fa(t,e,1,-1)}function vx(e){var t=ka();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pc,lastRenderedState:e},t.queue=e,e=e.dispatch=IA.bind(null,er,e),[t.memoizedState,e]}function gc(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=er.updateQueue,t===null?(t={lastEffect:null,stores:null},er.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function hS(){return qn().memoizedState}function af(e,t,r,n){var a=ka();er.flags|=e,a.memoizedState=gc(1|t,r,void 0,n===void 0?null:n)}function Vd(e,t,r,n){var a=qn();n=n===void 0?null:n;var o=void 0;if(Sr!==null){var i=Sr.memoizedState;if(o=i.destroy,n!==null&&sy(n,i.deps)){a.memoizedState=gc(t,r,o,n);return}}er.flags|=e,a.memoizedState=gc(1|t,r,o,n)}function xx(e,t){return af(8390656,8,e,t)}function uy(e,t){return Vd(2048,8,e,t)}function pS(e,t){return Vd(4,2,e,t)}function gS(e,t){return Vd(4,4,e,t)}function mS(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function yS(e,t,r){return r=r!=null?r.concat([e]):null,Vd(4,4,mS.bind(null,t,e),r)}function fy(){}function vS(e,t){var r=qn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&sy(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function xS(e,t){var r=qn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&sy(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function bS(e,t,r){return hi&21?(da(r,t)||(r=Ok(),er.lanes|=r,pi|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,gn=!0),e.memoizedState=r)}function RA(e,t){var r=jt;jt=r!==0&&4>r?r:4,e(!0);var n=yp.transition;yp.transition={};try{e(!1),t()}finally{jt=r,yp.transition=n}}function wS(){return qn().memoizedState}function LA(e,t,r){var n=_o(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},kS(e))SS(t,r);else if(r=nS(e,t,r,n),r!==null){var a=on();fa(r,e,n,a),jS(r,t,n)}}function IA(e,t,r){var n=_o(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(kS(e))SS(t,a);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,s=o(i,r);if(a.hasEagerState=!0,a.eagerState=s,da(s,i)){var l=t.interleaved;l===null?(a.next=a,ry(t)):(a.next=l.next,l.next=a),t.interleaved=a;return}}catch{}finally{}r=nS(e,t,a,n),r!==null&&(a=on(),fa(r,e,n,a),jS(r,t,n))}}function kS(e){var t=e.alternate;return e===er||t!==null&&t===er}function SS(e,t){Ul=Nf=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function jS(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Wm(e,r)}}var Af={readContext:Yn,useCallback:Ur,useContext:Ur,useEffect:Ur,useImperativeHandle:Ur,useInsertionEffect:Ur,useLayoutEffect:Ur,useMemo:Ur,useReducer:Ur,useRef:Ur,useState:Ur,useDebugValue:Ur,useDeferredValue:Ur,useTransition:Ur,useMutableSource:Ur,useSyncExternalStore:Ur,useId:Ur,unstable_isNewReconciler:!1},BA={readContext:Yn,useCallback:function(e,t){return ka().memoizedState=[e,t===void 0?null:t],e},useContext:Yn,useEffect:xx,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,af(4194308,4,mS.bind(null,t,e),r)},useLayoutEffect:function(e,t){return af(4194308,4,e,t)},useInsertionEffect:function(e,t){return af(4,2,e,t)},useMemo:function(e,t){var r=ka();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ka();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=LA.bind(null,er,e),[n.memoizedState,e]},useRef:function(e){var t=ka();return e={current:e},t.memoizedState=e},useState:vx,useDebugValue:fy,useDeferredValue:function(e){return ka().memoizedState=e},useTransition:function(){var e=vx(!1),t=e[0];return e=RA.bind(null,e[1]),ka().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=er,a=ka();if(qt){if(r===void 0)throw Error(oe(407));r=r()}else{if(r=t(),Mr===null)throw Error(oe(349));hi&30||lS(n,t,r)}a.memoizedState=r;var o={value:r,getSnapshot:t};return a.queue=o,xx(uS.bind(null,n,o,e),[e]),n.flags|=2048,gc(9,cS.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=ka(),t=Mr.identifierPrefix;if(qt){var r=Ba,n=Ia;r=(n&~(1<<32-ua(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=hc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=DA++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},FA={readContext:Yn,useCallback:vS,useContext:Yn,useEffect:uy,useImperativeHandle:yS,useInsertionEffect:pS,useLayoutEffect:gS,useMemo:xS,useReducer:vp,useRef:hS,useState:function(){return vp(pc)},useDebugValue:fy,useDeferredValue:function(e){var t=qn();return bS(t,Sr.memoizedState,e)},useTransition:function(){var e=vp(pc)[0],t=qn().memoizedState;return[e,t]},useMutableSource:iS,useSyncExternalStore:sS,useId:wS,unstable_isNewReconciler:!1},zA={readContext:Yn,useCallback:vS,useContext:Yn,useEffect:uy,useImperativeHandle:yS,useInsertionEffect:pS,useLayoutEffect:gS,useMemo:xS,useReducer:xp,useRef:hS,useState:function(){return xp(pc)},useDebugValue:fy,useDeferredValue:function(e){var t=qn();return Sr===null?t.memoizedState=e:bS(t,Sr.memoizedState,e)},useTransition:function(){var e=xp(pc)[0],t=qn().memoizedState;return[e,t]},useMutableSource:iS,useSyncExternalStore:sS,useId:wS,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){t=tr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function L0(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:tr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Kd={isMounted:function(e){return(e=e._reactInternals)?ji(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=on(),a=_o(e),o=Ua(n,a);o.payload=t,r!=null&&(o.callback=r),t=Oo(e,o,a),t!==null&&(fa(t,e,a,n),rf(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=on(),a=_o(e),o=Ua(n,a);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=Oo(e,o,a),t!==null&&(fa(t,e,a,n),rf(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=on(),n=_o(e),a=Ua(r,n);a.tag=2,t!=null&&(a.callback=t),t=Oo(e,a,n),t!==null&&(fa(t,e,n,r),rf(t,e,n))}};function bx(e,t,r,n,a,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,i):t.prototype&&t.prototype.isPureReactComponent?!sc(r,n)||!sc(a,o):!0}function OS(e,t,r){var n=!1,a=Co,o=t.contextType;return typeof o=="object"&&o!==null?o=Yn(o):(a=vn(t)?fi:Qr.current,n=t.contextTypes,o=(n=n!=null)?ps(e,a):Co),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Kd,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function wx(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Kd.enqueueReplaceState(t,t.state,null)}function I0(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},ny(e);var o=t.contextType;typeof o=="object"&&o!==null?a.context=Yn(o):(o=vn(t)?fi:Qr.current,a.context=ps(e,o)),a.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(L0(e,t,o,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Kd.enqueueReplaceState(a,a.state,null),Pf(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function vs(e,t){try{var r="",n=t;do r+=gN(n),n=n.return;while(n);var a=r}catch(o){a=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:a,digest:null}}function bp(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function B0(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var WA=typeof WeakMap=="function"?WeakMap:Map;function PS(e,t,r){r=Ua(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Cf||(Cf=!0,Y0=n),B0(e,t)},r}function _S(e,t,r){r=Ua(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){B0(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){B0(e,t),typeof n!="function"&&(Po===null?Po=new Set([this]):Po.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function kx(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new WA;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=rM.bind(null,e,t,r),t.then(e,e))}function Sx(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function jx(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ua(-1,1),t.tag=2,Oo(r,t,1))),r.lanes|=1),e)}var UA=to.ReactCurrentOwner,gn=!1;function rn(e,t,r,n){t.child=e===null?rS(t,null,r,n):ms(t,e.child,r,n)}function Ox(e,t,r,n,a){r=r.render;var o=t.ref;return ls(t,a),n=ly(e,t,r,n,o,a),r=cy(),e!==null&&!gn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Qa(e,t,a)):(qt&&r&&qm(t),t.flags|=1,rn(e,t,n,a),t.child)}function Px(e,t,r,n,a){if(e===null){var o=r.type;return typeof o=="function"&&!xy(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,NS(e,t,o,n,a)):(e=cf(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&a)){var i=o.memoizedProps;if(r=r.compare,r=r!==null?r:sc,r(i,n)&&e.ref===t.ref)return Qa(e,t,a)}return t.flags|=1,e=No(o,n),e.ref=t.ref,e.return=t,t.child=e}function NS(e,t,r,n,a){if(e!==null){var o=e.memoizedProps;if(sc(o,n)&&e.ref===t.ref)if(gn=!1,t.pendingProps=n=o,(e.lanes&a)!==0)e.flags&131072&&(gn=!0);else return t.lanes=e.lanes,Qa(e,t,a)}return F0(e,t,r,n,a)}function AS(e,t,r){var n=t.pendingProps,a=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Gt(es,_n),_n|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Gt(es,_n),_n|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,Gt(es,_n),_n|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,Gt(es,_n),_n|=n;return rn(e,t,a,r),t.child}function MS(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function F0(e,t,r,n,a){var o=vn(r)?fi:Qr.current;return o=ps(t,o),ls(t,a),r=ly(e,t,r,n,o,a),n=cy(),e!==null&&!gn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Qa(e,t,a)):(qt&&n&&qm(t),t.flags|=1,rn(e,t,r,a),t.child)}function _x(e,t,r,n,a){if(vn(r)){var o=!0;wf(t)}else o=!1;if(ls(t,a),t.stateNode===null)of(e,t),OS(t,r,n),I0(t,r,n,a),n=!0;else if(e===null){var i=t.stateNode,s=t.memoizedProps;i.props=s;var l=i.context,c=r.contextType;typeof c=="object"&&c!==null?c=Yn(c):(c=vn(r)?fi:Qr.current,c=ps(t,c));var f=r.getDerivedStateFromProps,d=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function";d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(s!==n||l!==c)&&wx(t,i,n,c),uo=!1;var h=t.memoizedState;i.state=h,Pf(t,n,i,a),l=t.memoizedState,s!==n||h!==l||yn.current||uo?(typeof f=="function"&&(L0(t,r,f,n),l=t.memoizedState),(s=uo||bx(t,r,s,n,h,l,c))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),i.props=n,i.state=l,i.context=c,n=s):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,aS(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:na(t.type,s),i.props=c,d=t.pendingProps,h=i.context,l=r.contextType,typeof l=="object"&&l!==null?l=Yn(l):(l=vn(r)?fi:Qr.current,l=ps(t,l));var p=r.getDerivedStateFromProps;(f=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(s!==d||h!==l)&&wx(t,i,n,l),uo=!1,h=t.memoizedState,i.state=h,Pf(t,n,i,a);var m=t.memoizedState;s!==d||h!==m||yn.current||uo?(typeof p=="function"&&(L0(t,r,p,n),m=t.memoizedState),(c=uo||bx(t,r,c,n,h,m,l)||!1)?(f||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,m,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,m,l)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),i.props=n,i.state=m,i.context=l,n=c):(typeof i.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return z0(e,t,r,n,o,a)}function z0(e,t,r,n,a,o){MS(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return a&&dx(t,r,!1),Qa(e,t,o);n=t.stateNode,UA.current=t;var s=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=ms(t,e.child,null,o),t.child=ms(t,null,s,o)):rn(e,t,s,o),t.memoizedState=n.state,a&&dx(t,r,!0),t.child}function CS(e){var t=e.stateNode;t.pendingContext?fx(e,t.pendingContext,t.pendingContext!==t.context):t.context&&fx(e,t.context,!1),ay(e,t.containerInfo)}function Nx(e,t,r,n,a){return gs(),Zm(a),t.flags|=256,rn(e,t,r,n),t.child}var W0={dehydrated:null,treeContext:null,retryLane:0};function U0(e){return{baseLanes:e,cachePool:null,transitions:null}}function ES(e,t,r){var n=t.pendingProps,a=Jt.current,o=!1,i=(t.flags&128)!==0,s;if((s=i)||(s=e!==null&&e.memoizedState===null?!1:(a&2)!==0),s?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Gt(Jt,a&1),e===null)return D0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,o?(n=t.mode,o=t.child,i={mode:"hidden",children:i},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=qd(i,n,0,null),e=si(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=U0(r),t.memoizedState=W0,e):dy(t,i));if(a=e.memoizedState,a!==null&&(s=a.dehydrated,s!==null))return GA(e,t,i,n,s,a,r);if(o){o=n.fallback,i=t.mode,a=e.child,s=a.sibling;var l={mode:"hidden",children:n.children};return!(i&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=No(a,l),n.subtreeFlags=a.subtreeFlags&14680064),s!==null?o=No(s,o):(o=si(o,i,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,i=e.child.memoizedState,i=i===null?U0(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~r,t.memoizedState=W0,n}return o=e.child,e=o.sibling,n=No(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function dy(e,t){return t=qd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Eu(e,t,r,n){return n!==null&&Zm(n),ms(t,e.child,null,r),e=dy(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function GA(e,t,r,n,a,o,i){if(r)return t.flags&256?(t.flags&=-257,n=bp(Error(oe(422))),Eu(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,a=t.mode,n=qd({mode:"visible",children:n.children},a,0,null),o=si(o,a,i,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&ms(t,e.child,null,i),t.child.memoizedState=U0(i),t.memoizedState=W0,o);if(!(t.mode&1))return Eu(e,t,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var s=n.dgst;return n=s,o=Error(oe(419)),n=bp(o,n,void 0),Eu(e,t,i,n)}if(s=(i&e.childLanes)!==0,gn||s){if(n=Mr,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==o.retryLane&&(o.retryLane=a,qa(e,a),fa(n,e,a,-1))}return vy(),n=bp(Error(oe(421))),Eu(e,t,i,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=nM.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,Mn=jo(a.nextSibling),Cn=t,qt=!0,sa=null,e!==null&&(Wn[Un++]=Ia,Wn[Un++]=Ba,Wn[Un++]=di,Ia=e.id,Ba=e.overflow,di=t),t=dy(t,n.children),t.flags|=4096,t)}function Ax(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),R0(e.return,t,r)}function wp(e,t,r,n,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=a)}function TS(e,t,r){var n=t.pendingProps,a=n.revealOrder,o=n.tail;if(rn(e,t,n.children,r),n=Jt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ax(e,r,t);else if(e.tag===19)Ax(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Gt(Jt,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&_f(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),wp(t,!1,a,r,o);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&_f(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}wp(t,!0,r,null,o);break;case"together":wp(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function of(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Qa(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),pi|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(oe(153));if(t.child!==null){for(e=t.child,r=No(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=No(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function HA(e,t,r){switch(t.tag){case 3:CS(t),gs();break;case 5:oS(t);break;case 1:vn(t.type)&&wf(t);break;case 4:ay(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Gt(jf,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Gt(Jt,Jt.current&1),t.flags|=128,null):r&t.child.childLanes?ES(e,t,r):(Gt(Jt,Jt.current&1),e=Qa(e,t,r),e!==null?e.sibling:null);Gt(Jt,Jt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return TS(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Gt(Jt,Jt.current),n)break;return null;case 22:case 23:return t.lanes=0,AS(e,t,r)}return Qa(e,t,r)}var $S,G0,DS,RS;$S=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};G0=function(){};DS=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Jo(_a.current);var o=null;switch(r){case"input":a=d0(e,a),n=d0(e,n),o=[];break;case"select":a=tr({},a,{value:void 0}),n=tr({},n,{value:void 0}),o=[];break;case"textarea":a=g0(e,a),n=g0(e,n),o=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=xf)}y0(r,n);var i;r=null;for(c in a)if(!n.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var s=a[c];for(i in s)s.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ec.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in n){var l=n[c];if(s=a!=null?a[c]:void 0,n.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(i in s)!s.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in l)l.hasOwnProperty(i)&&s[i]!==l[i]&&(r||(r={}),r[i]=l[i])}else r||(o||(o=[]),o.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ec.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Vt("scroll",e),o||s===l||(o=[])):(o=o||[]).push(c,l))}r&&(o=o||[]).push("style",r);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};RS=function(e,t,r,n){r!==n&&(t.flags|=4)};function wl(e,t){if(!qt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Gr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function VA(e,t,r){var n=t.pendingProps;switch(Qm(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gr(t),null;case 1:return vn(t.type)&&bf(),Gr(t),null;case 3:return n=t.stateNode,ys(),Yt(yn),Yt(Qr),iy(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Mu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,sa!==null&&(Z0(sa),sa=null))),G0(e,t),Gr(t),null;case 5:oy(t);var a=Jo(dc.current);if(r=t.type,e!==null&&t.stateNode!=null)DS(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(oe(166));return Gr(t),null}if(e=Jo(_a.current),Mu(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[Sa]=t,n[uc]=o,e=(t.mode&1)!==0,r){case"dialog":Vt("cancel",n),Vt("close",n);break;case"iframe":case"object":case"embed":Vt("load",n);break;case"video":case"audio":for(a=0;a<Rl.length;a++)Vt(Rl[a],n);break;case"source":Vt("error",n);break;case"img":case"image":case"link":Vt("error",n),Vt("load",n);break;case"details":Vt("toggle",n);break;case"input":Iv(n,o),Vt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Vt("invalid",n);break;case"textarea":Fv(n,o),Vt("invalid",n)}y0(r,o),a=null;for(var i in o)if(o.hasOwnProperty(i)){var s=o[i];i==="children"?typeof s=="string"?n.textContent!==s&&(o.suppressHydrationWarning!==!0&&Au(n.textContent,s,e),a=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&Au(n.textContent,s,e),a=["children",""+s]):ec.hasOwnProperty(i)&&s!=null&&i==="onScroll"&&Vt("scroll",n)}switch(r){case"input":wu(n),Bv(n,o,!0);break;case"textarea":wu(n),zv(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=xf)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=uk(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[Sa]=t,e[uc]=n,$S(e,t,!1,!1),t.stateNode=e;e:{switch(i=v0(r,n),r){case"dialog":Vt("cancel",e),Vt("close",e),a=n;break;case"iframe":case"object":case"embed":Vt("load",e),a=n;break;case"video":case"audio":for(a=0;a<Rl.length;a++)Vt(Rl[a],e);a=n;break;case"source":Vt("error",e),a=n;break;case"img":case"image":case"link":Vt("error",e),Vt("load",e),a=n;break;case"details":Vt("toggle",e),a=n;break;case"input":Iv(e,n),a=d0(e,n),Vt("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=tr({},n,{value:void 0}),Vt("invalid",e);break;case"textarea":Fv(e,n),a=g0(e,n),Vt("invalid",e);break;default:a=n}y0(r,a),s=a;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?hk(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&fk(e,l)):o==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&tc(e,l):typeof l=="number"&&tc(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ec.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Vt("scroll",e):l!=null&&Rm(e,o,l,i))}switch(r){case"input":wu(e),Bv(e,n,!1);break;case"textarea":wu(e),zv(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Mo(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?as(e,!!n.multiple,o,!1):n.defaultValue!=null&&as(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=xf)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Gr(t),null;case 6:if(e&&t.stateNode!=null)RS(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(oe(166));if(r=Jo(dc.current),Jo(_a.current),Mu(t)){if(n=t.stateNode,r=t.memoizedProps,n[Sa]=t,(o=n.nodeValue!==r)&&(e=Cn,e!==null))switch(e.tag){case 3:Au(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Au(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Sa]=t,t.stateNode=n}return Gr(t),null;case 13:if(Yt(Jt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(qt&&Mn!==null&&t.mode&1&&!(t.flags&128))eS(),gs(),t.flags|=98560,o=!1;else if(o=Mu(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(oe(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(oe(317));o[Sa]=t}else gs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Gr(t),o=!1}else sa!==null&&(Z0(sa),sa=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Jt.current&1?jr===0&&(jr=3):vy())),t.updateQueue!==null&&(t.flags|=4),Gr(t),null);case 4:return ys(),G0(e,t),e===null&&lc(t.stateNode.containerInfo),Gr(t),null;case 10:return ty(t.type._context),Gr(t),null;case 17:return vn(t.type)&&bf(),Gr(t),null;case 19:if(Yt(Jt),o=t.memoizedState,o===null)return Gr(t),null;if(n=(t.flags&128)!==0,i=o.rendering,i===null)if(n)wl(o,!1);else{if(jr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=_f(e),i!==null){for(t.flags|=128,wl(o,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Gt(Jt,Jt.current&1|2),t.child}e=e.sibling}o.tail!==null&&lr()>xs&&(t.flags|=128,n=!0,wl(o,!1),t.lanes=4194304)}else{if(!n)if(e=_f(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),wl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!qt)return Gr(t),null}else 2*lr()-o.renderingStartTime>xs&&r!==1073741824&&(t.flags|=128,n=!0,wl(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(r=o.last,r!==null?r.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=lr(),t.sibling=null,r=Jt.current,Gt(Jt,n?r&1|2:r&1),t):(Gr(t),null);case 22:case 23:return yy(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?_n&1073741824&&(Gr(t),t.subtreeFlags&6&&(t.flags|=8192)):Gr(t),null;case 24:return null;case 25:return null}throw Error(oe(156,t.tag))}function KA(e,t){switch(Qm(t),t.tag){case 1:return vn(t.type)&&bf(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ys(),Yt(yn),Yt(Qr),iy(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return oy(t),null;case 13:if(Yt(Jt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(oe(340));gs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Yt(Jt),null;case 4:return ys(),null;case 10:return ty(t.type._context),null;case 22:case 23:return yy(),null;case 24:return null;default:return null}}var Tu=!1,Kr=!1,XA=typeof WeakSet=="function"?WeakSet:Set,ve=null;function Ji(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){or(e,t,n)}else r.current=null}function H0(e,t,r){try{r()}catch(n){or(e,t,n)}}var Mx=!1;function YA(e,t){if(N0=mf,e=zk(),Ym(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var i=0,s=-1,l=-1,c=0,f=0,d=e,h=null;t:for(;;){for(var p;d!==r||a!==0&&d.nodeType!==3||(s=i+a),d!==o||n!==0&&d.nodeType!==3||(l=i+n),d.nodeType===3&&(i+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===e)break t;if(h===r&&++c===a&&(s=i),h===o&&++f===n&&(l=i),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}r=s===-1||l===-1?null:{start:s,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(A0={focusedElem:e,selectionRange:r},mf=!1,ve=t;ve!==null;)if(t=ve,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ve=e;else for(;ve!==null;){t=ve;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var v=m.memoizedProps,x=m.memoizedState,y=t.stateNode,g=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:na(t.type,v),x);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(oe(163))}}catch(S){or(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,ve=e;break}ve=t.return}return m=Mx,Mx=!1,m}function Gl(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,o!==void 0&&H0(t,r,o)}a=a.next}while(a!==n)}}function Xd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function V0(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function LS(e){var t=e.alternate;t!==null&&(e.alternate=null,LS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Sa],delete t[uc],delete t[E0],delete t[CA],delete t[EA])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function IS(e){return e.tag===5||e.tag===3||e.tag===4}function Cx(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||IS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function K0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=xf));else if(n!==4&&(e=e.child,e!==null))for(K0(e,t,r),e=e.sibling;e!==null;)K0(e,t,r),e=e.sibling}function X0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(X0(e,t,r),e=e.sibling;e!==null;)X0(e,t,r),e=e.sibling}var Dr=null,aa=!1;function so(e,t,r){for(r=r.child;r!==null;)BS(e,t,r),r=r.sibling}function BS(e,t,r){if(Pa&&typeof Pa.onCommitFiberUnmount=="function")try{Pa.onCommitFiberUnmount(Fd,r)}catch{}switch(r.tag){case 5:Kr||Ji(r,t);case 6:var n=Dr,a=aa;Dr=null,so(e,t,r),Dr=n,aa=a,Dr!==null&&(aa?(e=Dr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Dr.removeChild(r.stateNode));break;case 18:Dr!==null&&(aa?(e=Dr,r=r.stateNode,e.nodeType===8?pp(e.parentNode,r):e.nodeType===1&&pp(e,r),oc(e)):pp(Dr,r.stateNode));break;case 4:n=Dr,a=aa,Dr=r.stateNode.containerInfo,aa=!0,so(e,t,r),Dr=n,aa=a;break;case 0:case 11:case 14:case 15:if(!Kr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var o=a,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&H0(r,t,i),a=a.next}while(a!==n)}so(e,t,r);break;case 1:if(!Kr&&(Ji(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){or(r,t,s)}so(e,t,r);break;case 21:so(e,t,r);break;case 22:r.mode&1?(Kr=(n=Kr)||r.memoizedState!==null,so(e,t,r),Kr=n):so(e,t,r);break;default:so(e,t,r)}}function Ex(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new XA),t.forEach(function(n){var a=aM.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function ta(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var o=e,i=t,s=i;e:for(;s!==null;){switch(s.tag){case 5:Dr=s.stateNode,aa=!1;break e;case 3:Dr=s.stateNode.containerInfo,aa=!0;break e;case 4:Dr=s.stateNode.containerInfo,aa=!0;break e}s=s.return}if(Dr===null)throw Error(oe(160));BS(o,i,a),Dr=null,aa=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(c){or(a,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)FS(t,e),t=t.sibling}function FS(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ta(t,e),wa(e),n&4){try{Gl(3,e,e.return),Xd(3,e)}catch(v){or(e,e.return,v)}try{Gl(5,e,e.return)}catch(v){or(e,e.return,v)}}break;case 1:ta(t,e),wa(e),n&512&&r!==null&&Ji(r,r.return);break;case 5:if(ta(t,e),wa(e),n&512&&r!==null&&Ji(r,r.return),e.flags&32){var a=e.stateNode;try{tc(a,"")}catch(v){or(e,e.return,v)}}if(n&4&&(a=e.stateNode,a!=null)){var o=e.memoizedProps,i=r!==null?r.memoizedProps:o,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&lk(a,o),v0(s,i);var c=v0(s,o);for(i=0;i<l.length;i+=2){var f=l[i],d=l[i+1];f==="style"?hk(a,d):f==="dangerouslySetInnerHTML"?fk(a,d):f==="children"?tc(a,d):Rm(a,f,d,c)}switch(s){case"input":h0(a,o);break;case"textarea":ck(a,o);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?as(a,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?as(a,!!o.multiple,o.defaultValue,!0):as(a,!!o.multiple,o.multiple?[]:"",!1))}a[uc]=o}catch(v){or(e,e.return,v)}}break;case 6:if(ta(t,e),wa(e),n&4){if(e.stateNode===null)throw Error(oe(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(v){or(e,e.return,v)}}break;case 3:if(ta(t,e),wa(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{oc(t.containerInfo)}catch(v){or(e,e.return,v)}break;case 4:ta(t,e),wa(e);break;case 13:ta(t,e),wa(e),a=e.child,a.flags&8192&&(o=a.memoizedState!==null,a.stateNode.isHidden=o,!o||a.alternate!==null&&a.alternate.memoizedState!==null||(gy=lr())),n&4&&Ex(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?(Kr=(c=Kr)||f,ta(t,e),Kr=c):ta(t,e),wa(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!f&&e.mode&1)for(ve=e,f=e.child;f!==null;){for(d=ve=f;ve!==null;){switch(h=ve,p=h.child,h.tag){case 0:case 11:case 14:case 15:Gl(4,h,h.return);break;case 1:Ji(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(v){or(n,r,v)}}break;case 5:Ji(h,h.return);break;case 22:if(h.memoizedState!==null){$x(d);continue}}p!==null?(p.return=h,ve=p):$x(d)}f=f.sibling}e:for(f=null,d=e;;){if(d.tag===5){if(f===null){f=d;try{a=d.stateNode,c?(o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=d.stateNode,l=d.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=dk("display",i))}catch(v){or(e,e.return,v)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(v){or(e,e.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ta(t,e),wa(e),n&4&&Ex(e);break;case 21:break;default:ta(t,e),wa(e)}}function wa(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(IS(r)){var n=r;break e}r=r.return}throw Error(oe(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(tc(a,""),n.flags&=-33);var o=Cx(e);X0(e,o,a);break;case 3:case 4:var i=n.stateNode.containerInfo,s=Cx(e);K0(e,s,i);break;default:throw Error(oe(161))}}catch(l){or(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function qA(e,t,r){ve=e,zS(e)}function zS(e,t,r){for(var n=(e.mode&1)!==0;ve!==null;){var a=ve,o=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||Tu;if(!i){var s=a.alternate,l=s!==null&&s.memoizedState!==null||Kr;s=Tu;var c=Kr;if(Tu=i,(Kr=l)&&!c)for(ve=a;ve!==null;)i=ve,l=i.child,i.tag===22&&i.memoizedState!==null?Dx(a):l!==null?(l.return=i,ve=l):Dx(a);for(;o!==null;)ve=o,zS(o),o=o.sibling;ve=a,Tu=s,Kr=c}Tx(e)}else a.subtreeFlags&8772&&o!==null?(o.return=a,ve=o):Tx(e)}}function Tx(e){for(;ve!==null;){var t=ve;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Kr||Xd(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Kr)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:na(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&yx(t,o,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}yx(t,i,r)}break;case 5:var s=t.stateNode;if(r===null&&t.flags&4){r=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&oc(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(oe(163))}Kr||t.flags&512&&V0(t)}catch(h){or(t,t.return,h)}}if(t===e){ve=null;break}if(r=t.sibling,r!==null){r.return=t.return,ve=r;break}ve=t.return}}function $x(e){for(;ve!==null;){var t=ve;if(t===e){ve=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ve=r;break}ve=t.return}}function Dx(e){for(;ve!==null;){var t=ve;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Xd(4,t)}catch(l){or(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(l){or(t,a,l)}}var o=t.return;try{V0(t)}catch(l){or(t,o,l)}break;case 5:var i=t.return;try{V0(t)}catch(l){or(t,i,l)}}}catch(l){or(t,t.return,l)}if(t===e){ve=null;break}var s=t.sibling;if(s!==null){s.return=t.return,ve=s;break}ve=t.return}}var QA=Math.ceil,Mf=to.ReactCurrentDispatcher,hy=to.ReactCurrentOwner,Kn=to.ReactCurrentBatchConfig,it=0,Mr=null,gr=null,Lr=0,_n=0,es=To(0),jr=0,mc=null,pi=0,Yd=0,py=0,Hl=null,pn=null,gy=0,xs=1/0,Ra=null,Cf=!1,Y0=null,Po=null,$u=!1,yo=null,Ef=0,Vl=0,q0=null,sf=-1,lf=0;function on(){return it&6?lr():sf!==-1?sf:sf=lr()}function _o(e){return e.mode&1?it&2&&Lr!==0?Lr&-Lr:$A.transition!==null?(lf===0&&(lf=Ok()),lf):(e=jt,e!==0||(e=window.event,e=e===void 0?16:Ek(e.type)),e):1}function fa(e,t,r,n){if(50<Vl)throw Vl=0,q0=null,Error(oe(185));eu(e,r,n),(!(it&2)||e!==Mr)&&(e===Mr&&(!(it&2)&&(Yd|=r),jr===4&&po(e,Lr)),xn(e,n),r===1&&it===0&&!(t.mode&1)&&(xs=lr()+500,Hd&&$o()))}function xn(e,t){var r=e.callbackNode;$N(e,t);var n=gf(e,e===Mr?Lr:0);if(n===0)r!==null&&Gv(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Gv(r),t===1)e.tag===0?TA(Rx.bind(null,e)):Qk(Rx.bind(null,e)),AA(function(){!(it&6)&&$o()}),r=null;else{switch(Pk(n)){case 1:r=zm;break;case 4:r=Sk;break;case 16:r=pf;break;case 536870912:r=jk;break;default:r=pf}r=YS(r,WS.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function WS(e,t){if(sf=-1,lf=0,it&6)throw Error(oe(327));var r=e.callbackNode;if(cs()&&e.callbackNode!==r)return null;var n=gf(e,e===Mr?Lr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Tf(e,n);else{t=n;var a=it;it|=2;var o=GS();(Mr!==e||Lr!==t)&&(Ra=null,xs=lr()+500,ii(e,t));do try{eM();break}catch(s){US(e,s)}while(!0);ey(),Mf.current=o,it=a,gr!==null?t=0:(Mr=null,Lr=0,t=jr)}if(t!==0){if(t===2&&(a=S0(e),a!==0&&(n=a,t=Q0(e,a))),t===1)throw r=mc,ii(e,0),po(e,n),xn(e,lr()),r;if(t===6)po(e,n);else{if(a=e.current.alternate,!(n&30)&&!ZA(a)&&(t=Tf(e,n),t===2&&(o=S0(e),o!==0&&(n=o,t=Q0(e,o))),t===1))throw r=mc,ii(e,0),po(e,n),xn(e,lr()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(oe(345));case 2:Ko(e,pn,Ra);break;case 3:if(po(e,n),(n&130023424)===n&&(t=gy+500-lr(),10<t)){if(gf(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){on(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=C0(Ko.bind(null,e,pn,Ra),t);break}Ko(e,pn,Ra);break;case 4:if(po(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var i=31-ua(n);o=1<<i,i=t[i],i>a&&(a=i),n&=~o}if(n=a,n=lr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*QA(n/1960))-n,10<n){e.timeoutHandle=C0(Ko.bind(null,e,pn,Ra),n);break}Ko(e,pn,Ra);break;case 5:Ko(e,pn,Ra);break;default:throw Error(oe(329))}}}return xn(e,lr()),e.callbackNode===r?WS.bind(null,e):null}function Q0(e,t){var r=Hl;return e.current.memoizedState.isDehydrated&&(ii(e,t).flags|=256),e=Tf(e,t),e!==2&&(t=pn,pn=r,t!==null&&Z0(t)),e}function Z0(e){pn===null?pn=e:pn.push.apply(pn,e)}function ZA(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],o=a.getSnapshot;a=a.value;try{if(!da(o(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function po(e,t){for(t&=~py,t&=~Yd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ua(t),n=1<<r;e[r]=-1,t&=~n}}function Rx(e){if(it&6)throw Error(oe(327));cs();var t=gf(e,0);if(!(t&1))return xn(e,lr()),null;var r=Tf(e,t);if(e.tag!==0&&r===2){var n=S0(e);n!==0&&(t=n,r=Q0(e,n))}if(r===1)throw r=mc,ii(e,0),po(e,t),xn(e,lr()),r;if(r===6)throw Error(oe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ko(e,pn,Ra),xn(e,lr()),null}function my(e,t){var r=it;it|=1;try{return e(t)}finally{it=r,it===0&&(xs=lr()+500,Hd&&$o())}}function gi(e){yo!==null&&yo.tag===0&&!(it&6)&&cs();var t=it;it|=1;var r=Kn.transition,n=jt;try{if(Kn.transition=null,jt=1,e)return e()}finally{jt=n,Kn.transition=r,it=t,!(it&6)&&$o()}}function yy(){_n=es.current,Yt(es)}function ii(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,NA(r)),gr!==null)for(r=gr.return;r!==null;){var n=r;switch(Qm(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&bf();break;case 3:ys(),Yt(yn),Yt(Qr),iy();break;case 5:oy(n);break;case 4:ys();break;case 13:Yt(Jt);break;case 19:Yt(Jt);break;case 10:ty(n.type._context);break;case 22:case 23:yy()}r=r.return}if(Mr=e,gr=e=No(e.current,null),Lr=_n=t,jr=0,mc=null,py=Yd=pi=0,pn=Hl=null,Zo!==null){for(t=0;t<Zo.length;t++)if(r=Zo[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,o=r.pending;if(o!==null){var i=o.next;o.next=a,n.next=i}r.pending=n}Zo=null}return e}function US(e,t){do{var r=gr;try{if(ey(),nf.current=Af,Nf){for(var n=er.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Nf=!1}if(hi=0,Ar=Sr=er=null,Ul=!1,hc=0,hy.current=null,r===null||r.return===null){jr=1,mc=t,gr=null;break}e:{var o=e,i=r.return,s=r,l=t;if(t=Lr,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,f=s,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=Sx(i);if(p!==null){p.flags&=-257,jx(p,i,s,o,t),p.mode&1&&kx(o,c,t),t=p,l=c;var m=t.updateQueue;if(m===null){var v=new Set;v.add(l),t.updateQueue=v}else m.add(l);break e}else{if(!(t&1)){kx(o,c,t),vy();break e}l=Error(oe(426))}}else if(qt&&s.mode&1){var x=Sx(i);if(x!==null){!(x.flags&65536)&&(x.flags|=256),jx(x,i,s,o,t),Zm(vs(l,s));break e}}o=l=vs(l,s),jr!==4&&(jr=2),Hl===null?Hl=[o]:Hl.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var y=PS(o,l,t);mx(o,y);break e;case 1:s=l;var g=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Po===null||!Po.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t;var S=_S(o,s,t);mx(o,S);break e}}o=o.return}while(o!==null)}VS(r)}catch(w){t=w,gr===r&&r!==null&&(gr=r=r.return);continue}break}while(!0)}function GS(){var e=Mf.current;return Mf.current=Af,e===null?Af:e}function vy(){(jr===0||jr===3||jr===2)&&(jr=4),Mr===null||!(pi&268435455)&&!(Yd&268435455)||po(Mr,Lr)}function Tf(e,t){var r=it;it|=2;var n=GS();(Mr!==e||Lr!==t)&&(Ra=null,ii(e,t));do try{JA();break}catch(a){US(e,a)}while(!0);if(ey(),it=r,Mf.current=n,gr!==null)throw Error(oe(261));return Mr=null,Lr=0,jr}function JA(){for(;gr!==null;)HS(gr)}function eM(){for(;gr!==null&&!ON();)HS(gr)}function HS(e){var t=XS(e.alternate,e,_n);e.memoizedProps=e.pendingProps,t===null?VS(e):gr=t,hy.current=null}function VS(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=KA(r,t),r!==null){r.flags&=32767,gr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{jr=6,gr=null;return}}else if(r=VA(r,t,_n),r!==null){gr=r;return}if(t=t.sibling,t!==null){gr=t;return}gr=t=e}while(t!==null);jr===0&&(jr=5)}function Ko(e,t,r){var n=jt,a=Kn.transition;try{Kn.transition=null,jt=1,tM(e,t,r,n)}finally{Kn.transition=a,jt=n}return null}function tM(e,t,r,n){do cs();while(yo!==null);if(it&6)throw Error(oe(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(oe(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(DN(e,o),e===Mr&&(gr=Mr=null,Lr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||$u||($u=!0,YS(pf,function(){return cs(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=Kn.transition,Kn.transition=null;var i=jt;jt=1;var s=it;it|=4,hy.current=null,YA(e,r),FS(r,e),wA(A0),mf=!!N0,A0=N0=null,e.current=r,qA(r),PN(),it=s,jt=i,Kn.transition=o}else e.current=r;if($u&&($u=!1,yo=e,Ef=a),o=e.pendingLanes,o===0&&(Po=null),AN(r.stateNode),xn(e,lr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Cf)throw Cf=!1,e=Y0,Y0=null,e;return Ef&1&&e.tag!==0&&cs(),o=e.pendingLanes,o&1?e===q0?Vl++:(Vl=0,q0=e):Vl=0,$o(),null}function cs(){if(yo!==null){var e=Pk(Ef),t=Kn.transition,r=jt;try{if(Kn.transition=null,jt=16>e?16:e,yo===null)var n=!1;else{if(e=yo,yo=null,Ef=0,it&6)throw Error(oe(331));var a=it;for(it|=4,ve=e.current;ve!==null;){var o=ve,i=o.child;if(ve.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(ve=c;ve!==null;){var f=ve;switch(f.tag){case 0:case 11:case 15:Gl(8,f,o)}var d=f.child;if(d!==null)d.return=f,ve=d;else for(;ve!==null;){f=ve;var h=f.sibling,p=f.return;if(LS(f),f===c){ve=null;break}if(h!==null){h.return=p,ve=h;break}ve=p}}}var m=o.alternate;if(m!==null){var v=m.child;if(v!==null){m.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}ve=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,ve=i;else e:for(;ve!==null;){if(o=ve,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Gl(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,ve=y;break e}ve=o.return}}var g=e.current;for(ve=g;ve!==null;){i=ve;var b=i.child;if(i.subtreeFlags&2064&&b!==null)b.return=i,ve=b;else e:for(i=g;ve!==null;){if(s=ve,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Xd(9,s)}}catch(w){or(s,s.return,w)}if(s===i){ve=null;break e}var S=s.sibling;if(S!==null){S.return=s.return,ve=S;break e}ve=s.return}}if(it=a,$o(),Pa&&typeof Pa.onPostCommitFiberRoot=="function")try{Pa.onPostCommitFiberRoot(Fd,e)}catch{}n=!0}return n}finally{jt=r,Kn.transition=t}}return!1}function Lx(e,t,r){t=vs(r,t),t=PS(e,t,1),e=Oo(e,t,1),t=on(),e!==null&&(eu(e,1,t),xn(e,t))}function or(e,t,r){if(e.tag===3)Lx(e,e,r);else for(;t!==null;){if(t.tag===3){Lx(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Po===null||!Po.has(n))){e=vs(r,e),e=_S(t,e,1),t=Oo(t,e,1),e=on(),t!==null&&(eu(t,1,e),xn(t,e));break}}t=t.return}}function rM(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=on(),e.pingedLanes|=e.suspendedLanes&r,Mr===e&&(Lr&r)===r&&(jr===4||jr===3&&(Lr&130023424)===Lr&&500>lr()-gy?ii(e,0):py|=r),xn(e,t)}function KS(e,t){t===0&&(e.mode&1?(t=ju,ju<<=1,!(ju&130023424)&&(ju=4194304)):t=1);var r=on();e=qa(e,t),e!==null&&(eu(e,t,r),xn(e,r))}function nM(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),KS(e,r)}function aM(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(oe(314))}n!==null&&n.delete(t),KS(e,r)}var XS;XS=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||yn.current)gn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return gn=!1,HA(e,t,r);gn=!!(e.flags&131072)}else gn=!1,qt&&t.flags&1048576&&Zk(t,Sf,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;of(e,t),e=t.pendingProps;var a=ps(t,Qr.current);ls(t,r),a=ly(null,t,n,e,a,r);var o=cy();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,vn(n)?(o=!0,wf(t)):o=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,ny(t),a.updater=Kd,t.stateNode=a,a._reactInternals=t,I0(t,n,e,r),t=z0(null,t,n,!0,o,r)):(t.tag=0,qt&&o&&qm(t),rn(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(of(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=iM(n),e=na(n,e),a){case 0:t=F0(null,t,n,e,r);break e;case 1:t=_x(null,t,n,e,r);break e;case 11:t=Ox(null,t,n,e,r);break e;case 14:t=Px(null,t,n,na(n.type,e),r);break e}throw Error(oe(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:na(n,a),F0(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:na(n,a),_x(e,t,n,a,r);case 3:e:{if(CS(t),e===null)throw Error(oe(387));n=t.pendingProps,o=t.memoizedState,a=o.element,aS(e,t),Pf(t,n,null,r);var i=t.memoizedState;if(n=i.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){a=vs(Error(oe(423)),t),t=Nx(e,t,n,r,a);break e}else if(n!==a){a=vs(Error(oe(424)),t),t=Nx(e,t,n,r,a);break e}else for(Mn=jo(t.stateNode.containerInfo.firstChild),Cn=t,qt=!0,sa=null,r=rS(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(gs(),n===a){t=Qa(e,t,r);break e}rn(e,t,n,r)}t=t.child}return t;case 5:return oS(t),e===null&&D0(t),n=t.type,a=t.pendingProps,o=e!==null?e.memoizedProps:null,i=a.children,M0(n,a)?i=null:o!==null&&M0(n,o)&&(t.flags|=32),MS(e,t),rn(e,t,i,r),t.child;case 6:return e===null&&D0(t),null;case 13:return ES(e,t,r);case 4:return ay(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ms(t,null,n,r):rn(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:na(n,a),Ox(e,t,n,a,r);case 7:return rn(e,t,t.pendingProps,r),t.child;case 8:return rn(e,t,t.pendingProps.children,r),t.child;case 12:return rn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,o=t.memoizedProps,i=a.value,Gt(jf,n._currentValue),n._currentValue=i,o!==null)if(da(o.value,i)){if(o.children===a.children&&!yn.current){t=Qa(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var s=o.dependencies;if(s!==null){i=o.child;for(var l=s.firstContext;l!==null;){if(l.context===n){if(o.tag===1){l=Ua(-1,r&-r),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),R0(o.return,r,t),s.lanes|=r;break}l=l.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(oe(341));i.lanes|=r,s=i.alternate,s!==null&&(s.lanes|=r),R0(i,r,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}rn(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,ls(t,r),a=Yn(a),n=n(a),t.flags|=1,rn(e,t,n,r),t.child;case 14:return n=t.type,a=na(n,t.pendingProps),a=na(n.type,a),Px(e,t,n,a,r);case 15:return NS(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:na(n,a),of(e,t),t.tag=1,vn(n)?(e=!0,wf(t)):e=!1,ls(t,r),OS(t,n,a),I0(t,n,a,r),z0(null,t,n,!0,e,r);case 19:return TS(e,t,r);case 22:return AS(e,t,r)}throw Error(oe(156,t.tag))};function YS(e,t){return kk(e,t)}function oM(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gn(e,t,r,n){return new oM(e,t,r,n)}function xy(e){return e=e.prototype,!(!e||!e.isReactComponent)}function iM(e){if(typeof e=="function")return xy(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Im)return 11;if(e===Bm)return 14}return 2}function No(e,t){var r=e.alternate;return r===null?(r=Gn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function cf(e,t,r,n,a,o){var i=2;if(n=e,typeof e=="function")xy(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Gi:return si(r.children,a,o,t);case Lm:i=8,a|=8;break;case l0:return e=Gn(12,r,t,a|2),e.elementType=l0,e.lanes=o,e;case c0:return e=Gn(13,r,t,a),e.elementType=c0,e.lanes=o,e;case u0:return e=Gn(19,r,t,a),e.elementType=u0,e.lanes=o,e;case ok:return qd(r,a,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case nk:i=10;break e;case ak:i=9;break e;case Im:i=11;break e;case Bm:i=14;break e;case co:i=16,n=null;break e}throw Error(oe(130,e==null?e:typeof e,""))}return t=Gn(i,r,t,a),t.elementType=e,t.type=n,t.lanes=o,t}function si(e,t,r,n){return e=Gn(7,e,n,t),e.lanes=r,e}function qd(e,t,r,n){return e=Gn(22,e,n,t),e.elementType=ok,e.lanes=r,e.stateNode={isHidden:!1},e}function kp(e,t,r){return e=Gn(6,e,null,t),e.lanes=r,e}function Sp(e,t,r){return t=Gn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function sM(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=np(0),this.expirationTimes=np(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=np(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function by(e,t,r,n,a,o,i,s,l){return e=new sM(e,t,r,s,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Gn(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},ny(o),e}function lM(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ui,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function qS(e){if(!e)return Co;e=e._reactInternals;e:{if(ji(e)!==e||e.tag!==1)throw Error(oe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(vn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(oe(171))}if(e.tag===1){var r=e.type;if(vn(r))return qk(e,r,t)}return t}function QS(e,t,r,n,a,o,i,s,l){return e=by(r,n,!0,e,a,o,i,s,l),e.context=qS(null),r=e.current,n=on(),a=_o(r),o=Ua(n,a),o.callback=t??null,Oo(r,o,a),e.current.lanes=a,eu(e,a,n),xn(e,n),e}function Qd(e,t,r,n){var a=t.current,o=on(),i=_o(a);return r=qS(r),t.context===null?t.context=r:t.pendingContext=r,t=Ua(o,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Oo(a,t,i),e!==null&&(fa(e,a,i,o),rf(e,a,i)),i}function $f(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ix(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function wy(e,t){Ix(e,t),(e=e.alternate)&&Ix(e,t)}function cM(){return null}var ZS=typeof reportError=="function"?reportError:function(e){console.error(e)};function ky(e){this._internalRoot=e}Zd.prototype.render=ky.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(oe(409));Qd(e,t,null,null)};Zd.prototype.unmount=ky.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;gi(function(){Qd(null,e,null,null)}),t[Ya]=null}};function Zd(e){this._internalRoot=e}Zd.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ak();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ho.length&&t!==0&&t<ho[r].priority;r++);ho.splice(r,0,e),r===0&&Ck(e)}};function Sy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Jd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Bx(){}function uM(e,t,r,n,a){if(a){if(typeof n=="function"){var o=n;n=function(){var c=$f(i);o.call(c)}}var i=QS(t,n,e,0,null,!1,!1,"",Bx);return e._reactRootContainer=i,e[Ya]=i.current,lc(e.nodeType===8?e.parentNode:e),gi(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var s=n;n=function(){var c=$f(l);s.call(c)}}var l=by(e,0,!1,null,null,!1,!1,"",Bx);return e._reactRootContainer=l,e[Ya]=l.current,lc(e.nodeType===8?e.parentNode:e),gi(function(){Qd(t,l,r,n)}),l}function eh(e,t,r,n,a){var o=r._reactRootContainer;if(o){var i=o;if(typeof a=="function"){var s=a;a=function(){var l=$f(i);s.call(l)}}Qd(t,i,e,a)}else i=uM(r,t,e,a,n);return $f(i)}_k=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Dl(t.pendingLanes);r!==0&&(Wm(t,r|1),xn(t,lr()),!(it&6)&&(xs=lr()+500,$o()))}break;case 13:gi(function(){var n=qa(e,1);if(n!==null){var a=on();fa(n,e,1,a)}}),wy(e,1)}};Um=function(e){if(e.tag===13){var t=qa(e,134217728);if(t!==null){var r=on();fa(t,e,134217728,r)}wy(e,134217728)}};Nk=function(e){if(e.tag===13){var t=_o(e),r=qa(e,t);if(r!==null){var n=on();fa(r,e,t,n)}wy(e,t)}};Ak=function(){return jt};Mk=function(e,t){var r=jt;try{return jt=e,t()}finally{jt=r}};b0=function(e,t,r){switch(t){case"input":if(h0(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Gd(n);if(!a)throw Error(oe(90));sk(n),h0(n,a)}}}break;case"textarea":ck(e,r);break;case"select":t=r.value,t!=null&&as(e,!!r.multiple,t,!1)}};mk=my;yk=gi;var fM={usingClientEntryPoint:!1,Events:[ru,Xi,Gd,pk,gk,my]},kl={findFiberByHostInstance:Qo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dM={bundleType:kl.bundleType,version:kl.version,rendererPackageName:kl.rendererPackageName,rendererConfig:kl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:to.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=bk(e),e===null?null:e.stateNode},findFiberByHostInstance:kl.findFiberByHostInstance||cM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Du=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Du.isDisabled&&Du.supportsFiber)try{Fd=Du.inject(dM),Pa=Du}catch{}}Tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fM;Tn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Sy(t))throw Error(oe(200));return lM(e,t,null,r)};Tn.createRoot=function(e,t){if(!Sy(e))throw Error(oe(299));var r=!1,n="",a=ZS;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=by(e,1,!1,null,null,r,!1,n,a),e[Ya]=t.current,lc(e.nodeType===8?e.parentNode:e),new ky(t)};Tn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(oe(188)):(e=Object.keys(e).join(","),Error(oe(268,e)));return e=bk(t),e=e===null?null:e.stateNode,e};Tn.flushSync=function(e){return gi(e)};Tn.hydrate=function(e,t,r){if(!Jd(t))throw Error(oe(200));return eh(null,e,t,!0,r)};Tn.hydrateRoot=function(e,t,r){if(!Sy(e))throw Error(oe(405));var n=r!=null&&r.hydratedSources||null,a=!1,o="",i=ZS;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=QS(t,null,e,1,r??null,a,!1,o,i),e[Ya]=t.current,lc(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Zd(t)};Tn.render=function(e,t,r){if(!Jd(t))throw Error(oe(200));return eh(null,e,t,!1,r)};Tn.unmountComponentAtNode=function(e){if(!Jd(e))throw Error(oe(40));return e._reactRootContainer?(gi(function(){eh(null,null,e,!1,function(){e._reactRootContainer=null,e[Ya]=null})}),!0):!1};Tn.unstable_batchedUpdates=my;Tn.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Jd(r))throw Error(oe(200));if(e==null||e._reactInternals===void 0)throw Error(oe(38));return eh(e,t,r,!1,n)};Tn.version="18.3.1-next-f1338f8080-20240426";function JS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(JS)}catch(e){console.error(e)}}JS(),J2.exports=Tn;var hM=J2.exports,Fx=hM;i0.createRoot=Fx.createRoot,i0.hydrateRoot=Fx.hydrateRoot;const bs=({isOpen:e,onClose:t,onConfirm:r,title:n,message:a,confirmText:o="I know the risk and insist to continue",cancelText:i="Cancel"})=>e?u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:u.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-md rounded-2xl shadow-2xl border border-amber-500/30 overflow-hidden transform transition-all scale-100",children:[u.jsxs("div",{className:"bg-amber-500/10 p-6 flex flex-col items-center justify-center border-b border-amber-500/20",children:[u.jsx("div",{className:"w-16 h-16 bg-amber-100 dark:bg-amber-900/30 rounded-full flex items-center justify-center mb-4",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-amber-600 dark:text-amber-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),u.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white text-center",children:n})]}),u.jsx("div",{className:"p-6",children:u.jsx("div",{className:"text-gray-600 dark:text-slate-300 text-center text-sm leading-relaxed",children:a})}),u.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-800/50 flex gap-3 justify-end border-t border-gray-200 dark:border-slate-800",children:[u.jsx("button",{onClick:t,className:"px-4 py-2 bg-white hover:bg-gray-100 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-700 dark:text-slate-200 font-semibold rounded-lg border border-gray-300 dark:border-slate-600 transition-colors text-sm",children:i}),u.jsx("button",{onClick:r,className:"px-4 py-2 bg-amber-600 hover:bg-amber-700 text-white font-bold rounded-lg shadow-lg shadow-amber-500/20 transition-all active:scale-95 text-sm",children:o})]})]})}):null,pM=({onFileSelected:e,onGenerateFakeDng:t,fileName:r,hasGeneratedData:n,viewMode:a,onSetViewMode:o,patternPeriod:i,onPatternPeriodChange:s,fillFactor:l,onFillFactorChange:c,patternPhase:f,onPatternPhaseChange:d,showPatternControls:h,onOpenAbout:p,onShowExif:m,bridgeStatus:v,onBridgeClick:x,isDrLabOpen:y,onToggleDrLab:g,isFftLabOpen:b,onToggleFftLab:S,onGenerateTestPic:w,onPTCFilesSelected:k,onDownloadDng:j,isThreePlane:P,onOpenDatabase:_})=>{const A=O.useRef(null),N=O.useRef(null),[E,z]=O.useState(!1),[D,T]=O.useState(!1),[L,W]=O.useState(!1),[I,R]=O.useState(!1),[B,te]=O.useState("direct"),X=O.useRef(null),H=O.useRef(null);O.useEffect(()=>{const K=ce=>{X.current&&!X.current.contains(ce.target)&&W(!1),H.current&&!H.current.contains(ce.target)&&R(!1)};return document.addEventListener("mousedown",K),()=>document.removeEventListener("mousedown",K)},[]);const U=K=>{var ce;W(!1),K==="direct"?(te("direct"),z(!0)):!v.isConnected||!v.hasDngConverter?T(!0):(te("convert"),(ce=A.current)==null||ce.click())},ue=()=>{var K;z(!1),(K=A.current)==null||K.click()},fe=K=>{var be;const ce=(be=K.target.files)==null?void 0:be[0];ce&&e(ce,B),K.target.value=""},ke=K=>{K.target.files&&K.target.files.length>0&&k(K.target.files),K.target.value=""},we=r==="pattern_test.dng"||(r==null?void 0:r.startsWith("Diff_"));return u.jsxs("header",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 mb-4 flex-shrink-0 relative z-50",children:[u.jsx(bs,{isOpen:E,onClose:()=>z(!1),onConfirm:ue,title:"Format Compatibility Warning",confirmText:"Continue",message:u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsx("p",{className:"font-bold text-gray-800 dark:text-gray-200 text-base",children:"Adobe DNG ConverterDNG"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Only 4-channel DNG files output by Adobe DNG Converter are fully guaranteed to be supported."}),u.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 rounded-lg border border-gray-200 dark:border-slate-700",children:[u.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-500 mb-1",children:"Download Adobe DNG Converter:"}),u.jsx("a",{href:"https://helpx.adobe.com/camera-raw/using/adobe-dng-converter.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline text-xs break-all",children:"https://helpx.adobe.com/camera-raw/using/adobe-dng-converter.html"})]})]})}),u.jsx(bs,{isOpen:D,onClose:()=>T(!1),onConfirm:()=>T(!1),title:"DNG Converter Missing",confirmText:"OK",cancelText:"Cancel",message:u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsx("p",{className:"font-bold text-red-600 dark:text-red-400 text-base",children:"JiangBridge Offline or Adobe DNG Converter not installed (you may have to restart your device after installing ADC to use it here)"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"To use the conversion feature, you must run JiangBridge locally and have Adobe DNG Converter installed on your system."}),u.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 rounded-lg border border-gray-200 dark:border-slate-700",children:[u.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-500 mb-1",children:"Download Adobe DNG Converter:"}),u.jsx("a",{href:"https://helpx.adobe.com/camera-raw/using/adobe-dng-converter.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline text-xs break-all",children:"https://helpx.adobe.com/camera-raw/using/adobe-dng-converter.html"})]})]})}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-cyan-500 to-blue-600 dark:from-cyan-400 dark:to-blue-500 text-center sm:text-left",children:"Jiangtherapee Online"}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 hidden lg:block max-w-xs truncate",title:r||"No image loaded",children:r||"No image loaded"}),P&&u.jsx("span",{className:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400 border border-red-200 dark:border-red-800 text-[10px] font-bold px-2 py-1 rounded animate-pulse",children:" 3-PLANE / RGB MODE"})]}),u.jsxs("div",{className:"flex items-center gap-4 flex-wrap justify-end",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("button",{onClick:v.isConnected?void 0:x,className:`px-3 py-1.5 rounded-full text-xs font-bold transition-all duration-200 flex items-center gap-1.5 shadow-sm border ${v.isConnected?"bg-emerald-100 text-emerald-700 border-emerald-200 dark:bg-emerald-900/30 dark:text-emerald-400 dark:border-emerald-800 cursor-default":"bg-pink-100 text-pink-600 border-pink-200 dark:bg-pink-900/30 dark:text-pink-400 dark:border-pink-800 hover:bg-pink-200 dark:hover:bg-pink-900/50 cursor-pointer animate-pulse"}`,title:v.isConnected?"Local Bridge Service Connected":"Click to download Jiangbridge",children:[u.jsx("span",{className:`w-2 h-2 rounded-full ${v.isConnected?"bg-emerald-500":"bg-pink-500"}`}),v.isConnected?`JiangBridge Ready ${v.hasDngConverter?"DNG+":""}`:"JiangBridge Offline"]}),y&&u.jsxs("button",{onClick:g,className:"px-3 py-1.5 rounded-full text-xs font-bold transition-all duration-200 flex items-center gap-1.5 shadow-sm border bg-indigo-100 text-indigo-700 border-indigo-200 dark:bg-indigo-900/30 dark:text-indigo-400 dark:border-indigo-800 hover:bg-indigo-200 dark:hover:bg-indigo-900/50 cursor-pointer animate-in fade-in",title:"Click to turn off DR Lab",children:[u.jsx("span",{className:"w-2 h-2 rounded-full bg-indigo-500 animate-pulse"}),"DR Lab On"]}),b&&u.jsxs("button",{onClick:S,className:"px-3 py-1.5 rounded-full text-xs font-bold transition-all duration-200 flex items-center gap-1.5 shadow-sm border bg-fuchsia-100 text-fuchsia-700 border-fuchsia-200 dark:bg-fuchsia-900/30 dark:text-fuchsia-400 dark:border-fuchsia-800 hover:bg-fuchsia-200 dark:hover:bg-fuchsia-900/50 cursor-pointer animate-in fade-in",title:"Click to turn off FFT Lab",children:[u.jsx("span",{className:"w-2 h-2 rounded-full bg-fuchsia-500 animate-pulse"}),"FFT Lab On"]}),n&&u.jsxs("div",{className:"flex bg-gray-100 dark:bg-slate-800 rounded-lg p-1 border border-gray-200 dark:border-slate-600 shadow-inner transition-colors duration-300",children:[u.jsx("button",{onClick:()=>o("reference"),className:`px-3 py-1.5 rounded-md text-xs sm:text-sm font-bold transition-all duration-200 ${a==="reference"?"bg-green-500 dark:bg-green-600 text-white shadow-md":"text-gray-500 dark:text-slate-400 hover:text-gray-900 dark:hover:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700"}`,title:"The perfect uniform input",children:"Perfect"}),u.jsx("button",{onClick:()=>o("sampled"),className:`px-3 py-1.5 rounded-md text-xs sm:text-sm font-bold transition-all duration-200 ${a==="sampled"?"bg-blue-500 dark:bg-blue-600 text-white shadow-md":"text-gray-500 dark:text-slate-400 hover:text-gray-900 dark:hover:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700"}`,title:"Sampled Sensor View with Aperture Visualization",children:"Sampled (Sensor)"}),u.jsx("button",{onClick:()=>o("processed"),className:`px-3 py-1.5 rounded-md text-xs sm:text-sm font-bold transition-all duration-200 ${a==="processed"?"bg-purple-500 dark:bg-purple-600 text-white shadow-md":"text-gray-500 dark:text-slate-400 hover:text-gray-900 dark:hover:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700"}`,title:"Demosaiced Result",children:"Result"})]})]}),we&&u.jsxs("div",{className:"flex items-center gap-2 animate-in fade-in slide-in-from-right-4 duration-300",children:[h&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex flex-col items-end mr-1 bg-gray-50 dark:bg-slate-800/50 p-1.5 rounded-lg border border-gray-200 dark:border-slate-700 transition-colors duration-300",children:[u.jsx("span",{className:"text-[10px] text-gray-500 dark:text-slate-400 font-mono uppercase tracking-wider mb-1",children:"Density (Period)"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"range",min:"0.1",max:"10",step:"0.1",value:i,onChange:K=>s(parseFloat(K.target.value)),className:"w-20 h-2 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-purple-500",title:"Adjust the period of the line pairs in pixels"}),u.jsx("div",{className:"relative",children:u.jsx("input",{type:"number",min:"0.1",max:"100",step:"0.01",value:i,onChange:K=>{const ce=parseFloat(K.target.value);isNaN(ce)||s(ce)},className:"w-16 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-1 py-0.5 text-xs font-mono text-purple-600 dark:text-purple-300 text-right focus:outline-none focus:border-purple-500 focus:ring-1 focus:ring-purple-500 transition-colors duration-300"})})]})]}),u.jsxs("div",{className:"flex flex-col items-end mr-1 bg-gray-50 dark:bg-slate-800/50 p-1.5 rounded-lg border border-gray-200 dark:border-slate-700 transition-colors duration-300",children:[u.jsx("span",{className:"text-[10px] text-gray-500 dark:text-slate-400 font-mono uppercase tracking-wider mb-1",children:"Phase"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:f,onChange:K=>d(parseFloat(K.target.value)),className:"w-20 h-2 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-pink-500",title:"Shift pattern phase (0-1 cycle)"}),u.jsx("div",{className:"relative",children:u.jsx("input",{type:"number",min:"0",max:"1",step:"0.01",value:f,onChange:K=>{const ce=parseFloat(K.target.value);isNaN(ce)||d(ce)},className:"w-12 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-1 py-0.5 text-xs font-mono text-pink-600 dark:text-pink-300 text-right focus:outline-none focus:border-pink-500 focus:ring-1 focus:ring-pink-500 transition-colors duration-300"})})]})]}),u.jsxs("div",{className:"flex flex-col items-end mr-1 bg-gray-50 dark:bg-slate-800/50 p-1.5 rounded-lg border border-gray-200 dark:border-slate-700 transition-colors duration-300",children:[u.jsx("span",{className:"text-[10px] text-gray-500 dark:text-slate-400 font-mono uppercase tracking-wider mb-1",children:"Fill Factor"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"range",min:"1",max:"100",step:"1",value:l*100,onChange:K=>c(parseInt(K.target.value)/100),className:"w-20 h-2 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-green-500",title:"Adjust pixel aperture fill factor %"}),u.jsxs("div",{className:"relative flex items-center",children:[u.jsx("input",{type:"number",min:"1",max:"100",step:"1",value:Math.round(l*100),onChange:K=>{const ce=parseInt(K.target.value);isNaN(ce)||c(Math.min(100,Math.max(1,ce))/100)},className:"w-12 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-1 py-0.5 text-xs font-mono text-green-600 dark:text-green-300 text-right focus:outline-none focus:border-green-500 focus:ring-1 focus:ring-green-500 transition-colors duration-300"}),u.jsx("span",{className:"ml-1 text-[10px] text-gray-400 dark:text-slate-500 font-mono",children:"%"})]})]})]})]}),u.jsxs("button",{onClick:j,className:`flex flex-col items-center justify-center p-2 rounded-lg transition-colors group ${r!=null&&r.startsWith("Diff_")?"bg-fuchsia-50 hover:bg-fuchsia-100 dark:bg-fuchsia-900/20 dark:hover:bg-fuchsia-900/40 border-fuchsia-200 dark:border-fuchsia-800":"bg-gray-50 hover:bg-gray-100 dark:bg-slate-800 dark:hover:bg-slate-700 border-gray-200 dark:border-slate-600"} border`,title:r!=null&&r.startsWith("Diff_")?"Export Subtracted Frame as DNG":"Download Synthetic DNG",children:[u.jsx("svg",{className:`w-5 h-5 ${r!=null&&r.startsWith("Diff_")?"text-fuchsia-500 group-hover:text-fuchsia-600":"text-gray-500 dark:text-slate-400 group-hover:text-cyan-600 dark:group-hover:text-cyan-400"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),u.jsx("span",{className:"text-[8px] font-bold uppercase mt-0.5 opacity-50",children:"DNG"})]})]}),u.jsx("input",{type:"file",ref:A,onChange:fe,className:"hidden",accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff"}),u.jsx("input",{type:"file",ref:N,onChange:ke,className:"hidden",multiple:!0,accept:".csv"}),u.jsxs("div",{className:"relative inline-block text-left",ref:H,children:[u.jsxs("button",{onClick:()=>R(!I),className:"bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-lg transition-colors duration-300 shadow-lg shadow-purple-500/30 text-sm whitespace-nowrap flex items-center gap-2",children:["TEST Tools",u.jsx("svg",{className:`w-4 h-4 transition-transform duration-200 ${I?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),I&&u.jsx("div",{className:"absolute right-0 mt-2 w-56 rounded-xl bg-white dark:bg-slate-800 shadow-xl ring-1 ring-black ring-opacity-5 focus:outline-none z-50 overflow-hidden origin-top-right transition-all animate-in fade-in slide-in-from-top-2 border border-gray-200 dark:border-slate-700",children:u.jsxs("div",{className:"py-1",children:[u.jsxs("button",{onClick:()=>{R(!1),t()},className:"w-full text-left px-4 py-3 text-sm text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors flex items-center gap-2",children:[u.jsx("svg",{className:"w-4 h-4 text-purple-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),u.jsx("span",{children:"Generate Pattern DNG"})]}),u.jsxs("button",{onClick:()=>{R(!1),y||g(),b&&S()},className:`w-full text-left px-4 py-3 text-sm transition-colors flex items-center gap-2 border-t border-gray-100 dark:border-slate-700 ${y?"bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 dark:text-indigo-400 font-bold":"text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700"}`,children:[u.jsx("svg",{className:"w-4 h-4 text-indigo-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.384-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})}),u.jsxs("span",{children:["DR Lab ",y?"(On)":""]})]}),u.jsxs("button",{onClick:()=>{R(!1),b||S(),y&&g()},className:`w-full text-left px-4 py-3 text-sm transition-colors flex items-center gap-2 border-t border-gray-100 dark:border-slate-700 ${b?"bg-fuchsia-50 dark:bg-fuchsia-900/20 text-fuchsia-600 dark:text-fuchsia-400 font-bold":"text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700"}`,children:[u.jsx("svg",{className:"w-4 h-4 text-fuchsia-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),u.jsxs("span",{children:["FFT Lab ",b?"(On)":""]})]}),u.jsxs("button",{onClick:()=>{var K;R(!1),(K=N.current)==null||K.click()},className:"w-full text-left px-4 py-3 text-sm text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors flex items-center gap-2 border-t border-gray-100 dark:border-slate-700",children:[u.jsx("svg",{className:"w-4 h-4 text-emerald-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"})}),u.jsx("span",{children:"Generate PTC & TargetSNR"})]})]})})]}),u.jsxs("div",{className:"relative inline-block text-left",ref:X,children:[u.jsxs("button",{onClick:()=>W(!L),className:"bg-cyan-500 hover:bg-cyan-600 text-white font-bold py-2 px-4 rounded-lg transition-colors duration-300 shadow-lg shadow-cyan-500/30 text-sm whitespace-nowrap flex items-center gap-2",children:["Load Image",u.jsx("svg",{className:`w-4 h-4 transition-transform duration-200 ${L?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),L&&u.jsx("div",{className:"absolute right-0 mt-2 w-56 rounded-xl bg-white dark:bg-slate-800 shadow-xl ring-1 ring-black ring-opacity-5 focus:outline-none z-50 overflow-hidden origin-top-right transition-all animate-in fade-in slide-in-from-top-2 border border-gray-200 dark:border-slate-700",children:u.jsxs("div",{className:"py-1",children:[u.jsxs("button",{onClick:()=>U("direct"),className:"w-full text-left px-4 py-3 text-sm text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors flex items-center gap-2",children:[u.jsx("svg",{className:"w-4 h-4 text-cyan-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),u.jsx("span",{children:"Load Image (Direct)"})]}),u.jsxs("button",{onClick:()=>U("convert"),className:"w-full text-left px-4 py-3 text-sm text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors flex items-center gap-2 border-t border-gray-100 dark:border-slate-700",children:[u.jsx("svg",{className:"w-4 h-4 text-purple-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.384-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})}),u.jsx("span",{children:"Convert to Adobe DNG & Load"})]})]})})]}),r&&m&&u.jsxs("button",{onClick:m,className:"bg-orange-500 hover:bg-orange-600 text-white font-bold py-2 px-4 rounded-lg transition-colors duration-300 shadow-lg shadow-orange-500/30 text-sm whitespace-nowrap flex items-center gap-1",title:"View EXIF Data",children:[u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"EXIF"]}),u.jsx("button",{onClick:p,className:"bg-teal-600 hover:bg-teal-700 text-white font-bold py-2 px-4 rounded-lg transition-colors duration-300 shadow-lg shadow-teal-500/30 text-sm whitespace-nowrap",children:"About/Tutorial/Tools"}),u.jsx("a",{href:"https://y-g-jiang.github.io/index.html",target:"_blank",rel:"noopener noreferrer",className:"bg-gray-200 hover:bg-gray-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-700 dark:text-slate-100 font-semibold py-2 px-4 rounded-lg transition-colors duration-300 text-sm",children:"Home"})]})]})},gM=({image:e,zoom:t,pan:r,onPanChange:n,onZoomChange:a,onSelectionChange:o,forcedSelection:i,theme:s,touchAction:l="pan",isMarking:c=!1,onPointClick:f,markers:d=[],gridRects:h=[]})=>{var X;const p=O.useRef(null),m=O.useRef(document.createElement("canvas")),[v,x]=O.useState(!1),[y,g]=O.useState({x:0,y:0}),b=O.useRef(null),S=O.useRef(null),w=O.useRef(null),[k,j]=O.useState(!1),[P,_]=O.useState(null),[A,N]=O.useState(null);O.useEffect(()=>{i!==void 0&&N(i)},[i]);const E=O.useCallback(()=>{const H=p.current,U=H==null?void 0:H.getContext("2d");return{canvas:H,ctx:U}},[]);O.useEffect(()=>{const H=m.current,U=H.getContext("2d");if(!e||!U)return;let ue=0,fe=0;e instanceof ImageData?(ue=e.width,fe=e.height):e instanceof HTMLImageElement&&(ue=e.naturalWidth,fe=e.naturalHeight),!(ue===0||fe===0)&&((H.width!==ue||H.height!==fe)&&(H.width=ue,H.height=fe),e instanceof ImageData?U.putImageData(e,0,0):(U.clearRect(0,0,ue,fe),U.drawImage(e,0,0)))},[e]);const z=O.useCallback(()=>{const{canvas:H,ctx:U}=E();if(!(!H||!U||!e)){if(U.setTransform(1,0,0,1,0,0),U.fillStyle=s==="dark"?"rgb(15, 23, 42)":"rgb(243, 244, 246)",U.fillRect(0,0,H.width,H.height),U.setTransform(t,0,0,t,r.x,r.y),m.current.width>0&&(U.imageSmoothingEnabled=!1,U.drawImage(m.current,0,0)),A){U.strokeStyle="#06b6d4",U.lineWidth=1/t,U.fillStyle="rgba(6, 182, 212, 0.2)",U.beginPath(),U.rect(A.x,A.y,A.w,A.h),U.fill(),U.stroke(),U.save(),U.fillStyle="#fff";const ue=Math.max(10,14/t);U.font=`${ue}px monospace`,U.shadowColor="rgba(0,0,0,0.8)",U.shadowBlur=4,U.shadowOffsetX=1,U.shadowOffsetY=1,U.fillText(`${Math.round(A.w)}x${Math.round(A.h)}`,A.x,A.y-5/t),U.restore()}if(h&&h.length>0){U.save(),U.strokeStyle="#f59e0b",U.lineWidth=1/t,U.globalAlpha=.8,U.beginPath(),h.forEach(ke=>{U.rect(ke.x,ke.y,ke.w,ke.h)}),U.stroke();const ue=h[0];U.fillStyle="#f59e0b";const fe=Math.max(10,12/t);U.font=`${fe}px monospace`,U.fillText(`${ue.w}x${ue.h}`,ue.x,ue.y-4/t),U.restore()}if(d&&d.length>0){U.save();const ue=6/t,fe=Math.max(12,16/t);U.font=`bold ${fe}px sans-serif`,U.textAlign="center",U.textBaseline="middle",d.forEach((ke,we)=>{U.beginPath(),U.arc(ke.x,ke.y,ue,0,2*Math.PI),U.fillStyle="white",U.fill(),U.strokeStyle="#4338ca",U.lineWidth=2/t,U.stroke(),U.fillStyle="#4338ca",U.fillText((we+1).toString(),ke.x,ke.y-12/t)}),U.restore()}}},[E,e,t,r,s,A,d,h]);O.useEffect(()=>{const{canvas:H}=E();if(!H)return;const U=new ResizeObserver(()=>{H.width=H.clientWidth,H.height=H.clientHeight,z()});return U.observe(H),()=>U.disconnect()},[E,z]),O.useEffect(()=>{z()},[z,e,r,t,s,A,d,h]);const D=H=>{const{canvas:U}=E();if(!U)return{x:0,y:0};const ue=U.getBoundingClientRect();return{x:H.clientX-ue.left,y:H.clientY-ue.top}},T=(H,U)=>({x:(H-r.x)/t,y:(U-r.y)/t}),L=H=>{H.preventDefault();const U=D(H);if(c){const ue=T(U.x,U.y);f&&f(ue);return}if(H.shiftKey||l==="select"){j(!0);const ue=T(U.x,U.y),fe={x:Math.floor(ue.x),y:Math.floor(ue.y)};_(fe),N(null),o&&o(null)}else x(!0),g({x:U.x-r.x,y:U.y-r.y})},W=H=>{const U=D(H);if(k&&P){const ue=T(U.x,U.y),fe=Math.floor(ue.x),ke=Math.floor(ue.y),we=Math.min(P.x,fe),K=Math.min(P.y,ke),ce=Math.max(P.x,fe),be=Math.max(P.y,ke),Q=ce-we+1,We=be-K+1;N({x:we,y:K,w:Q,h:We})}else v&&n({x:U.x-y.x,y:U.y-y.y})},I=()=>{k&&(j(!1),A&&o&&A.w>0&&A.h>0&&o(A)),x(!1)},R=H=>{var U;if(H.touches.length===1){const ue=H.touches[0],fe=(U=p.current)==null?void 0:U.getBoundingClientRect();if(!fe)return;const ke=ue.clientX-fe.left,we=ue.clientY-fe.top;if(c){const K=T(ke,we);f&&f(K);return}if(l==="select"){const K=T(ke,we),ce={x:Math.floor(K.x),y:Math.floor(K.y)};_(ce),j(!0),N(null),o&&o(null)}else w.current={x:ke,y:we},g({x:ke-r.x,y:we-r.y}),x(!0)}else if(H.touches.length===2){const ue=Math.hypot(H.touches[0].clientX-H.touches[1].clientX,H.touches[0].clientY-H.touches[1].clientY);b.current=ue,S.current=t,x(!1),j(!1)}},B=H=>{var U;if(H.touches.length===1){const ue=H.touches[0],fe=(U=p.current)==null?void 0:U.getBoundingClientRect();if(!fe)return;const ke=ue.clientX-fe.left,we=ue.clientY-fe.top;if(c)return;if(k&&P){const K=T(ke,we),ce=Math.floor(K.x),be=Math.floor(K.y),Q=Math.min(P.x,ce),We=Math.min(P.y,be),Oe=Math.max(P.x,ce),Ie=Math.max(P.y,be),qe=Oe-Q+1,bt=Ie-We+1;N({x:Q,y:We,w:qe,h:bt})}else v&&n({x:ke-y.x,y:we-y.y})}else if(H.touches.length===2&&b.current&&S.current&&a){const fe=Math.hypot(H.touches[0].clientX-H.touches[1].clientX,H.touches[0].clientY-H.touches[1].clientY)/b.current;a(S.current*fe)}},te=()=>{k&&(j(!1),A&&o&&A.w>0&&A.h>0&&o(A)),x(!1),b.current=null,S.current=null,w.current=null};return u.jsx("canvas",{ref:p,className:`w-full h-full block touch-none ${c||k||(X=window.event)!=null&&X.shiftKey||l==="select"?"cursor-crosshair":"cursor-grab active:cursor-grabbing"}`,onMouseDown:L,onMouseMove:W,onMouseUp:I,onMouseLeave:I,onTouchStart:R,onTouchMove:B,onTouchEnd:te,onTouchCancel:te,tabIndex:0})},Ru=({title:e,children:t})=>u.jsxs("div",{className:"border-b border-gray-200 dark:border-slate-700 transition-colors duration-300",children:[u.jsx("div",{className:"p-4 font-semibold text-gray-800 dark:text-slate-200 bg-gray-50 dark:bg-slate-800/30 border-b border-gray-200 dark:border-slate-800 select-none cursor-default transition-colors duration-300",children:u.jsx("span",{children:e})}),u.jsx("div",{className:"p-4 bg-white dark:bg-slate-900/50 transition-colors duration-300",children:t})]}),mM=[{value:-1,label:"Raw Bayer (Grayscale)"},{value:0,label:"Linear interpolation"},{value:1,label:"VNG (Variable Number of Gradients)"},{value:2,label:"PPG (Patterned Pixel Grouping)"},{value:3,label:"AHD (Adaptive Homogeneity-Directed)"},{value:4,label:"DCB (Demosaicing with Color Back-refinement)"},{value:11,label:"DHT (Modified AHD)"},{value:12,label:"AAHD (Adaptive AHD)"}],zx=({checked:e,onChange:t,label:r})=>u.jsxs("div",{className:"flex items-center justify-between py-2 cursor-pointer group",onClick:()=>t(!e),children:[u.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-slate-300 select-none group-hover:text-gray-900 dark:group-hover:text-slate-200 transition-colors",children:r}),u.jsx("div",{className:`relative w-11 h-6 rounded-full transition-colors duration-200 ease-in-out ${e?"bg-cyan-500 dark:bg-cyan-600":"bg-gray-300 dark:bg-slate-600 group-hover:bg-gray-400 dark:group-hover:bg-slate-500"}`,children:u.jsx("div",{className:`absolute left-1 top-1 bg-white w-4 h-4 rounded-full shadow-md transform transition-transform duration-200 ease-in-out ${e?"translate-x-5":"translate-x-0"}`})})]}),jp=(e,t)=>{if(!e)return null;if(t){const r=e.bayerPattern.toUpperCase(),n=l=>{const c=[];for(let f=0;f<4;f++)r[f]===l&&c.push(f);return c},a=t.BlackLevelRed,o=t.BlackLevelGreen,i=t.BlackLevelBlue;if(a!==void 0&&o!==void 0&&i!==void 0){const l=parseFloat(a),c=parseFloat(o),f=parseFloat(i);if(!isNaN(l)&&!isNaN(c)&&!isNaN(f)){const d=[0,0,0,0];return d.fill(c),n("R").forEach(h=>d[h]=l),n("G").forEach(h=>d[h]=c),n("B").forEach(h=>d[h]=f),d}}let s=t.BlackLevel;if(s===void 0&&(s=t.BlackLevel2),s!==void 0){let l=[];if(Array.isArray(s)?l=s.map(Number):typeof s=="string"?l=s.trim().split(/\s+/).map(Number):typeof s=="number"&&(l=[s,s,s,s]),l.length===1&&!isNaN(l[0])&&(l=[l[0],l[0],l[0],l[0]]),l.length>=4&&!l.slice(0,4).some(isNaN))return[l[0],l[1],l[2],l[3]]}}return e.blackLevels&&e.blackLevels.length===4?[e.blackLevels[0],e.blackLevels[1],e.blackLevels[2],e.blackLevels[3]]:null},yM=e=>{const{rawImageData:t,displaySettings:r,onApplyDisplaySettings:n,onSetSelection:a,exifData:o,isBridgeConnected:i,isDrLabOpen:s,drMarkingStep:l,onStartMarking:c,onGenerateTestPic:f,drRoiSize:d,onDrRoiSizeChange:h,drGridRows:p,onDrGridRowsChange:m,drGridCols:v,onDrGridColsChange:x,onBatchDrLab:y,hasDrMarkers:g,isFftLabOpen:b,onProcessPair:S,onProcessBatchDiff:w,onProcessStackFft:k,onOpenCrossCalc:j,isThreePlane:P}=e,[_,A]=O.useState(r.exposure.toString()),[N,E]=O.useState(""),[z,D]=O.useState("0 0 0 0"),[T,L]=O.useState("1.0"),[W,I]=O.useState("1.0"),[R,B]=O.useState(r.demosaicMethod),[te,X]=O.useState(!!r.showKadc),[H,U]=O.useState(!!r.subtractBlackLevelFromStats),[ue,fe]=O.useState("64"),[ke,we]=O.useState(!1),[K,ce]=O.useState(!1),[be,Q]=O.useState(!1),[We,Oe]=O.useState("single"),Ie=O.useRef(null),qe=O.useRef(null),bt=O.useRef(null),Zt=O.useRef(null),[Bt,Er]=O.useState(null),[nt,rr]=O.useState(null),[Pt,Zr]=O.useState(!1),[At,ya]=O.useState(!0),Ft=O.useRef(null),ur=O.useRef(null),yr=O.useRef(!1),nr=O.useRef(null);O.useEffect(()=>{t!==nr.current&&(yr.current=!1,nr.current=t)},[t]),O.useEffect(()=>{if(i&&t&&!yr.current){yr.current=!0;const V=jp(t,o),Ue=V&&V.some(ct=>ct>0);if(V&&Ue){we(!0);const ct={...r,blackLevel:V,showKadc:!0,subtractBlackLevelFromStats:!0,exposure:r.exposure,wbGains:r.wbGains||[1,1],demosaicMethod:r.demosaicMethod,renderMode:"standard"};n(ct)}}},[i,t,o,r,n]),O.useEffect(()=>{if(A(r.exposure.toString()),r.customMatrix?(E(r.customMatrix.join(" ")),we(!0)):E(""),r.blackLevel&&r.blackLevel.length===4)D(r.blackLevel.join(" "));else{const V=jp(t,o);D(V?V.join(" "):"0 0 0 0")}L(r.wbGains?r.wbGains[0].toString():"1.0"),I(r.wbGains?r.wbGains[1].toString():"1.0"),B(r.demosaicMethod),X(!!r.showKadc),U(!!r.subtractBlackLevelFromStats)},[r,t,o]);const fr=V=>{A(V)},wt=V=>L(V),Ge=V=>I(V),Mt=V=>{B(parseInt(V.target.value,10))},Ct=V=>{E(V.target.value)},vr=()=>{A("0"),B(3),L("1.0"),I("1.0"),X(!0),U(!0),E(""),we(!1);const V=jp(t,o);D(V?V.join(" "):"0 0 0 0")},sr=()=>{!t||!a||a({x:0,y:0,w:t.width,h:t.height})},cn=()=>{if(!t||!a)return;const V=parseInt(ue,10);if(isNaN(V)||V<=0)return;const Ue=Math.min(V,t.width),ct=Math.min(V,t.height),Xe=Math.floor((t.width-Ue)/2),Z=Math.floor((t.height-ct)/2);a({x:Xe,y:Z,w:Ue,h:ct})},Et=()=>{const Ue=z.split(/[\s,]+/).filter(ct=>ct.trim()!=="").map(Number);if(Ue.length===1&&!isNaN(Ue[0]))return[Ue[0],Ue[0],Ue[0],Ue[0]];if(Ue.length>=4&&!Ue.slice(0,4).some(isNaN))return[Ue[0],Ue[1],Ue[2],Ue[3]]},un=()=>{const V={...r},Ue=parseFloat(_);isNaN(Ue)||(V.exposure=Ue);const ct=parseFloat(T),Xe=parseFloat(W);if(!isNaN(ct)&&!isNaN(Xe)&&(V.wbGains=[ct,Xe]),V.demosaicMethod=R,V.renderMode="standard",ke){const Z=Et();Z&&(V.blackLevel=Z);const pe=N.trim().replace(/[\s,\n]+/g," ");if(pe){const Qe=pe.split(" ").map(Number);Qe.length===9&&!Qe.some(isNaN)?V.customMatrix=Qe:alert("Invalid matrix format. Please ensure exactly 9 numeric values (3x3).")}else delete V.customMatrix;V.showKadc=te,V.subtractBlackLevelFromStats=H}else delete V.customMatrix,delete V.blackLevel,delete V.showKadc,delete V.subtractBlackLevelFromStats;n(V)},ht=()=>{const V={...r},Ue=Et();Ue&&(V.blackLevel=Ue);const ct=parseFloat(T),Xe=parseFloat(W);!isNaN(ct)&&!isNaN(Xe)&&(V.wbGains=[ct,Xe]);const Z=parseFloat(_);isNaN(Z)||(V.exposure=Z),V.renderMode="zero-dependency",n(V)},Br=V=>{V.target.files&&V.target.files.length>0&&y&&y(V.target.files,We),V.target.value="",Q(!1)},fn=async V=>{var ct;const Ue=(ct=V.target.files)==null?void 0:ct[0];if(Ue){try{const Z=(await Ue.text()).split(`
`),pe=[];pe.push("#BlackLevel: 0,0,0,0"),pe.push("#ImageHeight: 0"),pe.push("Row,Col,R_Mean,G1_Mean,G2_Mean,B_Mean,R_Std,G1_Std,G2_Std,B_Std");let Qe=1;for(let Ht=0;Ht<Z.length;Ht++){const at=Z[Ht].trim();if(!at||at.includes("R_mean")||at.includes("R_std"))continue;const Re=at.split(/\s+/).map(Number);if(Re.length<8||Re.some(isNaN))continue;const tt=Re[0],Ze=Re[1],rt=Re[2],Tr=Re[3],dn=Re[4],zt=Re[5],ye=Re[6],Sn=Re[7],va=[Qe,1,tt,rt,ye,dn,Ze,Tr,Sn,zt].join(",");pe.push(va),Qe++}const pt=new Blob([pe.join(`
`)],{type:"text/csv"}),Be=URL.createObjectURL(pt),Ce=document.createElement("a");Ce.href=Be,Ce.download=Ue.name.replace(/\.[^/.]+$/,"")+"_converted.csv",document.body.appendChild(Ce),Ce.click(),document.body.removeChild(Ce),URL.revokeObjectURL(Be)}catch(Xe){console.error("Conversion failed",Xe),alert("Failed to convert file. Check format.")}V.target.value=""}},ea=V=>{V.target.files&&V.target.files[0]&&Er(V.target.files[0])},Dn=V=>{V.target.files&&V.target.files[0]&&rr(V.target.files[0])},kn=()=>{Bt&&nt&&S&&S(Bt,nt,Pt,At)},xr=V=>{V.target.files&&V.target.files.length>0&&w&&w(V.target.files),V.target.value=""},Fr=V=>{V.target.files&&V.target.files.length>0&&k&&k(V.target.files),V.target.value=""},lt=!!t;return u.jsxs("div",{className:"flex flex-col h-full",children:[u.jsxs("div",{className:"flex-grow overflow-y-auto",children:[P&&u.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-3 border-b border-red-100 dark:border-red-800 text-center animate-pulse",children:[u.jsx("p",{className:"text-xs font-bold text-red-600 dark:text-red-400 uppercase tracking-wide",children:" 3-Plane / Full Color"}),u.jsx("p",{className:"text-[10px] text-red-500/80 dark:text-red-300/70 mt-1",children:"Demosaic disabled. Stats analysis treated as pseudo-Bayer."})]}),b&&u.jsx(Ru,{title:"FFT Lab (Noise Profile)",children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"space-y-3 bg-gray-50 dark:bg-slate-800/40 p-3 rounded-xl border border-gray-100 dark:border-slate-800",children:[u.jsxs("h4",{className:"text-[10px] font-bold text-fuchsia-600 dark:text-fuchsia-400 uppercase tracking-widest flex items-center gap-2",children:[u.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-fuchsia-500"}),"1. Pair Difference (Sub)"]}),u.jsx("p",{className:"text-[10px] text-gray-500 dark:text-slate-400",children:"Subtraction between two shots to analyze FPN or Temporal Noise."}),u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx("input",{type:"file",ref:Ie,className:"hidden",onChange:ea,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff"}),u.jsx("button",{onClick:()=>{var V;return(V=Ie.current)==null?void 0:V.click()},className:`w-full py-2 px-3 rounded-lg border text-[10px] font-bold text-left truncate transition-colors ${Bt?"bg-fuchsia-50 dark:bg-fuchsia-900/20 border-fuchsia-300 dark:border-fuchsia-800 text-fuchsia-700 dark:text-fuchsia-300":"bg-white dark:bg-slate-800 border-gray-300 dark:border-slate-600 text-gray-500 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:Bt?`A: ${Bt.name}`:"Load Image A"}),u.jsx("input",{type:"file",ref:qe,className:"hidden",onChange:Dn,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff"}),u.jsx("button",{onClick:()=>{var V;return(V=qe.current)==null?void 0:V.click()},className:`w-full py-2 px-3 rounded-lg border text-[10px] font-bold text-left truncate transition-colors ${nt?"bg-fuchsia-50 dark:bg-fuchsia-900/20 border-fuchsia-300 dark:border-fuchsia-800 text-fuchsia-700 dark:text-fuchsia-300":"bg-white dark:bg-slate-800 border-gray-300 dark:border-slate-600 text-gray-500 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:nt?`B: ${nt.name}`:"Load Image B"})]}),u.jsx("div",{className:"flex flex-col gap-1.5 pt-1",children:u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:At,onChange:V=>ya(V.target.checked),className:"w-3 h-3 text-fuchsia-600 border-gray-300 rounded focus:ring-0"}),u.jsx("span",{className:"text-[10px] text-gray-600 dark:text-slate-300",children:"Normalize (2)"})]})}),u.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[u.jsx("button",{onClick:kn,disabled:!Bt||!nt,className:"w-full bg-fuchsia-600 hover:bg-fuchsia-500 disabled:opacity-30 text-white font-bold py-2 rounded shadow transition-all active:scale-95 text-[10px]",children:"Generate Diff & Load"}),u.jsx("input",{type:"file",ref:bt,className:"hidden",multiple:!0,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff",onChange:xr}),u.jsxs("button",{onClick:()=>{var V;return(V=bt.current)==null?void 0:V.click()},className:"w-full bg-slate-700 hover:bg-slate-600 text-white font-bold py-2 rounded shadow transition-all active:scale-95 text-[10px] flex items-center justify-center gap-1",children:[u.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Batch Diffs (Auto Download)"]})]})]}),u.jsxs("div",{className:"space-y-3 bg-gray-50 dark:bg-slate-800/40 p-3 rounded-xl border border-gray-100 dark:border-slate-800",children:[u.jsxs("h4",{className:"text-[10px] font-bold text-cyan-600 dark:text-cyan-400 uppercase tracking-widest flex items-center gap-2",children:[u.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-cyan-500"}),"2. Stack FFT (Avg PSD)"]}),u.jsx("p",{className:"text-[10px] text-gray-500 dark:text-slate-400",children:"Average Power Spectrum across a sequence for precise single-frame noise floor."}),u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx("input",{type:"file",ref:Zt,className:"hidden",multiple:!0,onChange:Fr,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff"}),u.jsxs("button",{onClick:()=>{var V;return(V=Zt.current)==null?void 0:V.click()},className:"w-full py-3 bg-cyan-600 hover:bg-cyan-500 text-white font-bold rounded-lg shadow-md transition-all active:scale-95 text-[10px] flex items-center justify-center gap-2",children:[u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),"Select Sequence Files"]})]}),u.jsx("p",{className:"text-[9px] text-center text-gray-400 italic",children:"Loads first frame. Average FFT calculated on ROI selection."})]}),u.jsx("div",{className:"flex flex-col gap-2 pt-2",children:u.jsxs("button",{onClick:j,className:"w-full bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-2 px-4 rounded-lg shadow-md transition-all active:scale-95 text-[10px] flex items-center justify-center gap-2",children:[u.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),"Cross-Compensation Calc"]})})]})}),s&&u.jsx(Ru,{title:"DR Lab Tools",children:u.jsxs("div",{className:"space-y-4",children:[u.jsx("button",{onClick:f,className:"w-full bg-amber-500 hover:bg-amber-600 text-white font-bold py-2 px-4 rounded-lg shadow-md transition-colors text-sm",children:"Generate Test Pic"}),u.jsxs("div",{className:"border-t border-gray-200 dark:border-slate-700 pt-3",children:[u.jsx("h4",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide mb-2",children:"Grid Analysis"}),h&&d!==void 0&&u.jsx("div",{className:"flex items-center justify-between mb-3",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-sm text-gray-600 dark:text-slate-300",children:"Box Size:"}),u.jsx("input",{type:"number",min:"8",max:"512",step:"2",value:d,onChange:V=>h(parseInt(V.target.value)||64),className:"w-12 px-1 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-sm text-gray-900 dark:text-slate-100 text-center"}),u.jsx("span",{className:"text-xs text-gray-400",children:"px"})]})}),m&&x&&p!==void 0&&v!==void 0&&u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("span",{className:"text-sm text-gray-600 dark:text-slate-300",children:"Layout:"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"number",min:"1",max:"50",value:p,onChange:V=>m(Math.max(1,parseInt(V.target.value)||1)),className:"w-10 px-1 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-sm text-gray-900 dark:text-slate-100 text-center",title:"Rows"}),u.jsx("span",{className:"text-xs text-gray-400",children:"x"}),u.jsx("input",{type:"number",min:"1",max:"50",value:v,onChange:V=>x(Math.max(1,parseInt(V.target.value)||1)),className:"w-10 px-1 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-sm text-gray-900 dark:text-slate-100 text-center",title:"Columns"})]})]}),u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx("button",{onClick:c,disabled:!lt||l!==void 0&&l>0,className:`w-full font-bold py-2 px-4 rounded-lg shadow-md transition-all text-sm ${lt?l&&l>0?"bg-indigo-100 dark:bg-indigo-900 text-indigo-700 dark:text-indigo-300 border-2 border-indigo-500":"bg-indigo-600 hover:bg-indigo-700 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:l&&l>0?"Marking Active...":"Mark Corners"}),y&&u.jsxs(u.Fragment,{children:[u.jsx("input",{type:"file",ref:Ft,className:"hidden",multiple:!0,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff",onChange:Br}),u.jsxs("div",{className:"relative",children:[u.jsxs("button",{onClick:()=>Q(!be),disabled:!g,className:"w-full font-bold py-2 px-4 rounded-lg shadow-md transition-all text-sm bg-emerald-600 hover:bg-emerald-700 disabled:bg-gray-300 disabled:text-gray-500 disabled:cursor-not-allowed text-white flex items-center justify-center gap-2",title:"Process multiple RAWs",children:[u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),"Reuse Last & Batch"]}),be&&u.jsxs("div",{className:"absolute bottom-full left-0 w-full mb-1 bg-white dark:bg-slate-800 rounded-lg shadow-xl border border-gray-200 dark:border-slate-700 overflow-hidden z-20 flex flex-col animate-in fade-in zoom-in-95 duration-100",children:[u.jsx("button",{className:"px-4 py-2 text-left text-xs hover:bg-gray-100 dark:hover:bg-slate-700 text-gray-700 dark:text-slate-200 border-b border-gray-100 dark:border-slate-700 transition-colors",onClick:()=>{var V;Oe("single"),(V=Ft.current)==null||V.click()},children:"1. Independent Frames"}),u.jsx("button",{className:"px-4 py-2 text-left text-xs hover:bg-gray-100 dark:hover:bg-slate-700 text-indigo-600 dark:text-indigo-400 font-bold transition-colors",onClick:()=>{var V;Oe("pair"),(V=Ft.current)==null||V.click()},children:"2. Pair Difference (A-B)"})]})]})]}),u.jsxs("div",{className:"pt-2 mt-2 border-t border-gray-100 dark:border-slate-800",children:[u.jsx("input",{type:"file",ref:ur,className:"hidden",accept:".txt",onChange:fn}),u.jsxs("button",{onClick:()=>{var V;return(V=ur.current)==null?void 0:V.click()},className:"w-full font-bold py-2 px-4 rounded-lg shadow-sm transition-all text-xs bg-slate-100 hover:bg-slate-200 dark:bg-slate-800 dark:hover:bg-slate-700 text-gray-600 dark:text-slate-300 flex items-center justify-center gap-2 border border-gray-300 dark:border-slate-600",title:"Convert legacy TXT format (R_mean R_std ...) to standard CSV",children:[u.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})}),"Convert Format (.txt  .csv)"]})]})]}),l!==void 0&&l>0&&u.jsx("div",{className:"mt-2 text-center",children:u.jsxs("p",{className:"text-xs text-indigo-600 dark:text-indigo-400 font-bold animate-pulse",children:[l===1&&"Click Top-Left Center",l===2&&"Click Top-Right Center",l===3&&"Click Bottom-Left Center",l===4&&"Click Bottom-Right Center"]})})]})]})}),u.jsx(Ru,{title:"Selection Tools",children:u.jsx("div",{className:"space-y-3",children:u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2",children:"Quick Select or Shift+drag"}),u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx("span",{className:"text-sm text-gray-600 dark:text-slate-300",children:"Size (px):"}),u.jsx("input",{type:"number",min:"1",value:ue,onChange:V=>fe(V.target.value),disabled:!lt,className:"flex-1 px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-sm text-gray-900 dark:text-slate-100 transition-colors"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsx("button",{onClick:cn,disabled:!lt,className:"px-3 py-1.5 bg-gray-200 hover:bg-gray-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-800 dark:text-slate-200 text-xs font-semibold rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Center Rect"}),u.jsx("button",{onClick:sr,disabled:!lt,className:"px-3 py-1.5 bg-gray-200 hover:bg-gray-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-800 dark:text-slate-200 text-xs font-semibold rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Full Image"})]})]})})}),u.jsx(Ru,{title:"Display Controls",children:u.jsxs("div",{className:"space-y-5",children:[u.jsxs("p",{className:"text-gray-500 dark:text-slate-400 text-center text-sm",children:["Adjust parameters and click ",u.jsx("b",{children:"Apply"}),"."]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"exposure",className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2",children:"Exposure (EV)"}),u.jsx("div",{className:"flex items-center gap-2 mb-2",children:u.jsx("input",{type:"range",min:"-5",max:"5",step:"0.1",disabled:!lt,value:parseFloat(_)||0,onChange:V=>fr(V.target.value),className:"w-full h-2 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-cyan-500 disabled:opacity-50"})}),u.jsx("div",{className:"flex items-center gap-2",children:u.jsx("input",{id:"exposure",type:"number",step:"0.1",value:_,onChange:V=>fr(V.target.value),disabled:!lt,className:"w-full px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-sm text-gray-900 dark:text-slate-100 transition-colors duration-300"})})]}),u.jsxs("div",{children:[u.jsxs("label",{htmlFor:"demosaic",className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2 flex justify-between",children:[u.jsx("span",{children:"Demosaic Method"}),P&&u.jsx("span",{className:"text-[9px] text-red-500 font-bold bg-red-100 dark:bg-red-900/30 px-1 rounded",children:"DISABLED"})]}),u.jsx("select",{id:"demosaic",value:R,onChange:Mt,disabled:!lt||P,className:"w-full px-2 py-2 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none transition-colors disabled:bg-gray-100 dark:disabled:bg-slate-800/50 disabled:cursor-not-allowed text-sm text-gray-900 dark:text-slate-100",children:mM.map(V=>u.jsx("option",{value:V.value,children:V.label},V.value))}),P&&u.jsx("p",{className:"text-[9px] text-gray-400 mt-1",children:"Full color data detected. Demosaicing skipped."})]}),u.jsx("div",{className:"border-t border-gray-200 dark:border-slate-700 pt-2",children:u.jsx(zx,{checked:ke,onChange:we,label:"Advanced Settings"})}),ke&&u.jsxs("div",{className:"space-y-5 pl-2 border-l-2 border-gray-200 dark:border-slate-700 animate-in slide-in-from-top-2 duration-200",children:[u.jsxs("div",{children:[u.jsx(zx,{checked:te,onChange:X,label:"Show Kadc"}),u.jsx("p",{className:"text-[10px] text-gray-400 dark:text-slate-500 mt-1",children:"Requires manual Black Levellinear PTC zoneabsolutely uniform image ."})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2",children:"White Balance Gains"}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-xs text-red-500 dark:text-red-400 block mb-1",children:"Red"}),u.jsx("input",{type:"number",step:"0.01",value:T,onChange:V=>wt(V.target.value),disabled:!lt,className:"w-full px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-red-500 outline-none text-sm text-gray-900 dark:text-slate-100 transition-colors duration-300"})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-xs text-blue-500 dark:text-blue-400 block mb-1",children:"Blue"}),u.jsx("input",{type:"number",step:"0.01",value:W,onChange:V=>Ge(V.target.value),disabled:!lt,className:"w-full px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-blue-500 outline-none text-sm text-gray-900 dark:text-slate-100 transition-colors duration-300"})]})]})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between items-end mb-2",children:[u.jsxs("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide flex items-center",children:["Black Level (4-Ch)",u.jsx("span",{className:"ml-1 text-[10px] text-gray-400 dark:text-slate-500 font-normal normal-case",children:"Native"}),u.jsx("button",{onClick:()=>ce(!0),className:"ml-2 text-[10px] text-cyan-600 dark:text-cyan-400 hover:text-cyan-700 dark:hover:text-cyan-300 hover:underline cursor-pointer transition-colors",title:"About Black Level Settings",children:"[about]"})]}),u.jsxs("div",{className:"flex items-center gap-1.5",title:"Subtract Black Level from ROI Mean stats (for display)",children:[u.jsx("span",{className:"text-[9px] font-mono text-gray-400 dark:text-slate-500 uppercase tracking-wide",children:"Sub. BL"}),u.jsx("div",{className:`relative w-8 h-4 rounded-full cursor-pointer transition-colors duration-200 ease-in-out ${H?"bg-cyan-500":"bg-gray-300 dark:bg-slate-700"}`,onClick:()=>U(!H),children:u.jsx("div",{className:`absolute top-0.5 left-0.5 bg-white w-3 h-3 rounded-full shadow-sm transform transition-transform duration-200 ${H?"translate-x-4":"translate-x-0"}`})})]})]}),u.jsx("input",{type:"text",value:z,onChange:V=>D(V.target.value),disabled:!lt,placeholder:"0 0 0 0",className:"w-full px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-xs font-mono text-gray-900 dark:text-slate-100 transition-colors duration-300",title:"Enter 4 values separated by space or comma"}),u.jsx("p",{className:"text-[10px] text-gray-400 dark:text-slate-500 mt-1",children:"Order: (0,0) (0,1) (1,0) (1,1). Spatial: TL, TR, BL, BR."})]}),u.jsxs("div",{children:[u.jsxs("label",{htmlFor:"customMatrix",className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2",children:["Custom Color Matrix",u.jsx("span",{className:"block text-[10px] text-gray-400 dark:text-slate-500 font-normal normal-case mt-0.5",children:"XYZ to Camera RGB (3x3, 9 nums)"})]}),u.jsx("textarea",{id:"customMatrix",value:N,onChange:Ct,disabled:!lt,placeholder:"0.66 -0.19 -0.04  -0.46 1.23 0.25  -0.06 0.13 0.65",className:"w-full h-24 px-2 py-2 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none transition-colors disabled:bg-gray-100 dark:disabled:bg-slate-800/50 disabled:cursor-not-allowed text-xs font-mono leading-relaxed text-gray-900 dark:text-slate-100"})]})]}),u.jsxs("div",{className:"pt-4 flex flex-col gap-2",children:[u.jsx("button",{onClick:un,disabled:!lt,className:"w-full text-base bg-cyan-500 hover:bg-cyan-600 dark:bg-cyan-600 dark:hover:bg-cyan-500 disabled:bg-gray-300 dark:disabled:bg-slate-800 disabled:text-gray-500 dark:disabled:text-slate-500 disabled:cursor-not-allowed text-white font-bold py-3 px-3 rounded-lg shadow-lg shadow-cyan-500/20 dark:shadow-cyan-900/20 transition-all active:scale-95",children:"APPLY SETTINGS"}),u.jsxs("button",{onClick:ht,disabled:!lt,className:"w-full text-xs font-bold bg-slate-700 hover:bg-slate-600 text-white disabled:bg-gray-300 dark:disabled:bg-slate-800 disabled:text-gray-500 transition-colors py-2 rounded-lg flex items-center justify-center gap-1.5 border border-slate-600",title:"Diagnostic Mode. Direct RAW-to-Grayscale mapping using manual Black Level & WB Gains (R/B calibration).",children:[u.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})," (Zero-Dep Grayscale)"]}),u.jsx("button",{onClick:vr,disabled:!lt,className:"w-full text-xs text-gray-400 hover:text-gray-600 dark:text-slate-400 dark:hover:text-slate-200 disabled:text-gray-300 dark:disabled:text-slate-600 transition-colors mt-1",children:"Reset Defaults (Local)"})]})]})})]}),u.jsx(bs,{isOpen:K,onClose:()=>ce(!1),onConfirm:()=>{window.open("https://y-g-jiang.github.io/CBLD.html","_blank"),ce(!1)},title:"Black Level Info / ",confirmText:"Visit Database (CBLD)",cancelText:"Close",message:u.jsxs("div",{className:"flex flex-col gap-4 text-left text-sm text-gray-600 dark:text-slate-300",children:[u.jsxs("p",{className:"leading-relaxed",children:["JiangBridge/JiangBridge",u.jsx("a",{href:"https://y-g-jiang.github.io/CBLD.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline mx-1 font-bold",children:"CBLD.html"}),""]}),u.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 w-full"}),u.jsxs("p",{className:"leading-relaxed",children:["Autofills when JiangBridge is detected. If no result is found or JiangBridge is missing, please check the",u.jsx("a",{href:"https://y-g-jiang.github.io/CBLD.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline mx-1 font-bold",children:"Black Level Database"}),"to find your camera model. However, manually capturing a dark frame with identical settings to calculate and input the values is highly recommended for higher decimal precision, as internal tags often lack accuracy."]})]})})]})},vM=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20 12H4"})}),xM=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})}),bM=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 4v5h5M4 12a8 8 0 0114.24-5.12M20 20v-5h-5M20 12a8 8 0 01-14.24 5.12"})}),wM=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 11.5V14m0-2.5v-6a1.5 1.5 0 113 0m-3 6a1.5 1.5 0 00-3 0v2a7.5 7.5 0 0015 0v-5a1.5 1.5 0 00-3 0m-6-3V11m0-5.5v-1a1.5 1.5 0 013 0v1m0 0V11m0-5.5a1.5 1.5 0 013 0v3m0 0V11"})}),kM=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 4l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})}),J0=.1,eg=16,SM=Math.log(J0),jM=Math.log(eg),OM=({zoom:e,onZoomChange:t,onResetView:r,touchAction:n,onToggleTouchAction:a})=>{const o=c=>{const f=parseFloat(c.target.value),d=Math.exp(f);t(Math.max(J0,Math.min(eg,d)))},i=()=>{t(Math.min(eg,e*1.25))},s=()=>{t(Math.max(J0,e/1.25))},l=Math.log(e);return u.jsxs("div",{className:"absolute top-4 right-4 flex gap-2",onClick:c=>c.stopPropagation(),children:[u.jsx("div",{className:"bg-white/90 dark:bg-slate-800/70 backdrop-blur-sm p-2 rounded-lg border border-gray-200 dark:border-slate-700 flex items-center shadow-lg transition-colors duration-300",children:u.jsx("button",{onClick:a,className:`p-1.5 rounded-md transition-colors flex items-center justify-center ${n==="select"?"bg-cyan-100 text-cyan-600 dark:bg-cyan-900/50 dark:text-cyan-400 ring-2 ring-cyan-500/50":"text-gray-500 dark:text-slate-400 hover:bg-gray-100 dark:hover:bg-slate-700"}`,title:n==="select"?"Mode: Selection (Drag to Select)":"Mode: Pan (Drag to Move)",children:n==="select"?u.jsx(kM,{}):u.jsx(wM,{})})}),u.jsxs("div",{className:"bg-white/90 dark:bg-slate-800/70 backdrop-blur-sm p-2 rounded-lg border border-gray-200 dark:border-slate-700 flex items-center gap-2 text-gray-700 dark:text-slate-300 shadow-lg transition-colors duration-300",children:[u.jsx("button",{onClick:s,className:"p-1 rounded-md hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",title:"Zoom Out","aria-label":"Zoom Out",children:u.jsx(vM,{})}),u.jsx("input",{type:"range",min:SM,max:jM,step:"0.01",value:l,onChange:o,className:"w-24 sm:w-32 h-2 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-cyan-500","aria-label":"Zoom slider"}),u.jsx("button",{onClick:i,className:"p-1 rounded-md hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",title:"Zoom In","aria-label":"Zoom In",children:u.jsx(xM,{})}),u.jsxs("span",{className:"w-16 text-center font-mono text-sm","aria-live":"polite",children:[(e*100).toFixed(0),"%"]}),u.jsx("button",{onClick:r,className:"p-1 rounded-md hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",title:"Reset View","aria-label":"Reset View",children:u.jsx(bM,{})})]})]})},PM=({theme:e,setTheme:t})=>{const r=()=>{t(e==="light"?"dark":"light")};return u.jsx("button",{onClick:r,className:"fixed bottom-6 right-6 z-50 p-3 rounded-full bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 shadow-lg text-gray-800 dark:text-yellow-400 hover:bg-gray-100 dark:hover:bg-slate-700 transition-all duration-300",title:`Switch to ${e==="light"?"dark":"light"} mode`,children:e==="light"?u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-slate-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}):u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})})})};function ej(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=ej(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function et(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=ej(e))&&(n&&(n+=" "),n+=t);return n}var _M=Array.isArray,wn=_M,NM=typeof vu=="object"&&vu&&vu.Object===Object&&vu,tj=NM,AM=tj,MM=typeof self=="object"&&self&&self.Object===Object&&self,CM=AM||MM||Function("return this")(),Ta=CM,EM=Ta,TM=EM.Symbol,au=TM,Wx=au,rj=Object.prototype,$M=rj.hasOwnProperty,DM=rj.toString,Sl=Wx?Wx.toStringTag:void 0;function RM(e){var t=$M.call(e,Sl),r=e[Sl];try{e[Sl]=void 0;var n=!0}catch{}var a=DM.call(e);return n&&(t?e[Sl]=r:delete e[Sl]),a}var LM=RM,IM=Object.prototype,BM=IM.toString;function FM(e){return BM.call(e)}var zM=FM,Ux=au,WM=LM,UM=zM,GM="[object Null]",HM="[object Undefined]",Gx=Ux?Ux.toStringTag:void 0;function VM(e){return e==null?e===void 0?HM:GM:Gx&&Gx in Object(e)?WM(e):UM(e)}var ro=VM;function KM(e){return e!=null&&typeof e=="object"}var no=KM,XM=ro,YM=no,qM="[object Symbol]";function QM(e){return typeof e=="symbol"||YM(e)&&XM(e)==qM}var Zs=QM,ZM=wn,JM=Zs,eC=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,tC=/^\w*$/;function rC(e,t){if(ZM(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||JM(e)?!0:tC.test(e)||!eC.test(e)||t!=null&&e in Object(t)}var jy=rC;function nC(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Do=nC;const Js=It(Do);var aC=ro,oC=Do,iC="[object AsyncFunction]",sC="[object Function]",lC="[object GeneratorFunction]",cC="[object Proxy]";function uC(e){if(!oC(e))return!1;var t=aC(e);return t==sC||t==lC||t==iC||t==cC}var Oy=uC;const ze=It(Oy);var fC=Ta,dC=fC["__core-js_shared__"],hC=dC,Op=hC,Hx=function(){var e=/[^.]+$/.exec(Op&&Op.keys&&Op.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function pC(e){return!!Hx&&Hx in e}var gC=pC,mC=Function.prototype,yC=mC.toString;function vC(e){if(e!=null){try{return yC.call(e)}catch{}try{return e+""}catch{}}return""}var nj=vC,xC=Oy,bC=gC,wC=Do,kC=nj,SC=/[\\^$.*+?()[\]{}|]/g,jC=/^\[object .+?Constructor\]$/,OC=Function.prototype,PC=Object.prototype,_C=OC.toString,NC=PC.hasOwnProperty,AC=RegExp("^"+_C.call(NC).replace(SC,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function MC(e){if(!wC(e)||bC(e))return!1;var t=xC(e)?AC:jC;return t.test(kC(e))}var CC=MC;function EC(e,t){return e==null?void 0:e[t]}var TC=EC,$C=CC,DC=TC;function RC(e,t){var r=DC(e,t);return $C(r)?r:void 0}var Oi=RC,LC=Oi,IC=LC(Object,"create"),th=IC,Vx=th;function BC(){this.__data__=Vx?Vx(null):{},this.size=0}var FC=BC;function zC(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var WC=zC,UC=th,GC="__lodash_hash_undefined__",HC=Object.prototype,VC=HC.hasOwnProperty;function KC(e){var t=this.__data__;if(UC){var r=t[e];return r===GC?void 0:r}return VC.call(t,e)?t[e]:void 0}var XC=KC,YC=th,qC=Object.prototype,QC=qC.hasOwnProperty;function ZC(e){var t=this.__data__;return YC?t[e]!==void 0:QC.call(t,e)}var JC=ZC,eE=th,tE="__lodash_hash_undefined__";function rE(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=eE&&t===void 0?tE:t,this}var nE=rE,aE=FC,oE=WC,iE=XC,sE=JC,lE=nE;function el(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}el.prototype.clear=aE;el.prototype.delete=oE;el.prototype.get=iE;el.prototype.has=sE;el.prototype.set=lE;var cE=el;function uE(){this.__data__=[],this.size=0}var fE=uE;function dE(e,t){return e===t||e!==e&&t!==t}var Py=dE,hE=Py;function pE(e,t){for(var r=e.length;r--;)if(hE(e[r][0],t))return r;return-1}var rh=pE,gE=rh,mE=Array.prototype,yE=mE.splice;function vE(e){var t=this.__data__,r=gE(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():yE.call(t,r,1),--this.size,!0}var xE=vE,bE=rh;function wE(e){var t=this.__data__,r=bE(t,e);return r<0?void 0:t[r][1]}var kE=wE,SE=rh;function jE(e){return SE(this.__data__,e)>-1}var OE=jE,PE=rh;function _E(e,t){var r=this.__data__,n=PE(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var NE=_E,AE=fE,ME=xE,CE=kE,EE=OE,TE=NE;function tl(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}tl.prototype.clear=AE;tl.prototype.delete=ME;tl.prototype.get=CE;tl.prototype.has=EE;tl.prototype.set=TE;var nh=tl,$E=Oi,DE=Ta,RE=$E(DE,"Map"),_y=RE,Kx=cE,LE=nh,IE=_y;function BE(){this.size=0,this.__data__={hash:new Kx,map:new(IE||LE),string:new Kx}}var FE=BE;function zE(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var WE=zE,UE=WE;function GE(e,t){var r=e.__data__;return UE(t)?r[typeof t=="string"?"string":"hash"]:r.map}var ah=GE,HE=ah;function VE(e){var t=HE(this,e).delete(e);return this.size-=t?1:0,t}var KE=VE,XE=ah;function YE(e){return XE(this,e).get(e)}var qE=YE,QE=ah;function ZE(e){return QE(this,e).has(e)}var JE=ZE,eT=ah;function tT(e,t){var r=eT(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var rT=tT,nT=FE,aT=KE,oT=qE,iT=JE,sT=rT;function rl(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}rl.prototype.clear=nT;rl.prototype.delete=aT;rl.prototype.get=oT;rl.prototype.has=iT;rl.prototype.set=sT;var Ny=rl,aj=Ny,lT="Expected a function";function Ay(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(lT);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],o=r.cache;if(o.has(a))return o.get(a);var i=e.apply(this,n);return r.cache=o.set(a,i)||o,i};return r.cache=new(Ay.Cache||aj),r}Ay.Cache=aj;var oj=Ay;const cT=It(oj);var uT=oj,fT=500;function dT(e){var t=uT(e,function(n){return r.size===fT&&r.clear(),n}),r=t.cache;return t}var hT=dT,pT=hT,gT=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,mT=/\\(\\)?/g,yT=pT(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(gT,function(r,n,a,o){t.push(a?o.replace(mT,"$1"):n||r)}),t}),vT=yT;function xT(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var My=xT,Xx=au,bT=My,wT=wn,kT=Zs,Yx=Xx?Xx.prototype:void 0,qx=Yx?Yx.toString:void 0;function ij(e){if(typeof e=="string")return e;if(wT(e))return bT(e,ij)+"";if(kT(e))return qx?qx.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var ST=ij,jT=ST;function OT(e){return e==null?"":jT(e)}var sj=OT,PT=wn,_T=jy,NT=vT,AT=sj;function MT(e,t){return PT(e)?e:_T(e,t)?[e]:NT(AT(e))}var lj=MT,CT=Zs;function ET(e){if(typeof e=="string"||CT(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var oh=ET,TT=lj,$T=oh;function DT(e,t){t=TT(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[$T(t[r++])];return r&&r==n?e:void 0}var Cy=DT,RT=Cy;function LT(e,t,r){var n=e==null?void 0:RT(e,t);return n===void 0?r:n}var cj=LT;const Xn=It(cj);function IT(e){return e==null}var BT=IT;const De=It(BT);var FT=ro,zT=wn,WT=no,UT="[object String]";function GT(e){return typeof e=="string"||!zT(e)&&WT(e)&&FT(e)==UT}var HT=GT;const mi=It(HT);var uj={exports:{}},Ot={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ey=Symbol.for("react.element"),Ty=Symbol.for("react.portal"),ih=Symbol.for("react.fragment"),sh=Symbol.for("react.strict_mode"),lh=Symbol.for("react.profiler"),ch=Symbol.for("react.provider"),uh=Symbol.for("react.context"),VT=Symbol.for("react.server_context"),fh=Symbol.for("react.forward_ref"),dh=Symbol.for("react.suspense"),hh=Symbol.for("react.suspense_list"),ph=Symbol.for("react.memo"),gh=Symbol.for("react.lazy"),KT=Symbol.for("react.offscreen"),fj;fj=Symbol.for("react.module.reference");function Zn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Ey:switch(e=e.type,e){case ih:case lh:case sh:case dh:case hh:return e;default:switch(e=e&&e.$$typeof,e){case VT:case uh:case fh:case gh:case ph:case ch:return e;default:return t}}case Ty:return t}}}Ot.ContextConsumer=uh;Ot.ContextProvider=ch;Ot.Element=Ey;Ot.ForwardRef=fh;Ot.Fragment=ih;Ot.Lazy=gh;Ot.Memo=ph;Ot.Portal=Ty;Ot.Profiler=lh;Ot.StrictMode=sh;Ot.Suspense=dh;Ot.SuspenseList=hh;Ot.isAsyncMode=function(){return!1};Ot.isConcurrentMode=function(){return!1};Ot.isContextConsumer=function(e){return Zn(e)===uh};Ot.isContextProvider=function(e){return Zn(e)===ch};Ot.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ey};Ot.isForwardRef=function(e){return Zn(e)===fh};Ot.isFragment=function(e){return Zn(e)===ih};Ot.isLazy=function(e){return Zn(e)===gh};Ot.isMemo=function(e){return Zn(e)===ph};Ot.isPortal=function(e){return Zn(e)===Ty};Ot.isProfiler=function(e){return Zn(e)===lh};Ot.isStrictMode=function(e){return Zn(e)===sh};Ot.isSuspense=function(e){return Zn(e)===dh};Ot.isSuspenseList=function(e){return Zn(e)===hh};Ot.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===ih||e===lh||e===sh||e===dh||e===hh||e===KT||typeof e=="object"&&e!==null&&(e.$$typeof===gh||e.$$typeof===ph||e.$$typeof===ch||e.$$typeof===uh||e.$$typeof===fh||e.$$typeof===fj||e.getModuleId!==void 0)};Ot.typeOf=Zn;uj.exports=Ot;var XT=uj.exports,YT=ro,qT=no,QT="[object Number]";function ZT(e){return typeof e=="number"||qT(e)&&YT(e)==QT}var dj=ZT;const JT=It(dj);var e5=dj;function t5(e){return e5(e)&&e!=+e}var r5=t5;const nl=It(r5);var ca=function(t){return t===0?0:t>0?1:-1},ei=function(t){return mi(t)&&t.indexOf("%")===t.length-1},se=function(t){return JT(t)&&!nl(t)},n5=function(t){return De(t)},Or=function(t){return se(t)||mi(t)},a5=0,Pi=function(t){var r=++a5;return"".concat(t||"").concat(r)},yi=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!se(t)&&!mi(t))return n;var o;if(ei(t)){var i=t.indexOf("%");o=r*parseFloat(t.slice(0,i))/100}else o=+t;return nl(o)&&(o=n),a&&o>r&&(o=r),o},go=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},o5=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},cr=function(t,r){return se(t)&&se(r)?function(n){return t+n*(r-t)}:function(){return r}};function Df(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Xn(n,t))===r})}var i5=function(t){if(!t||!t.length)return null;for(var r=t.length,n=0,a=0,o=0,i=0,s=1/0,l=-1/0,c=0,f=0,d=0;d<r;d++)c=t[d].cx||0,f=t[d].cy||0,n+=c,a+=f,o+=c*f,i+=c*c,s=Math.min(s,c),l=Math.max(l,c);var h=r*i!==n*n?(r*o-n*a)/(r*i-n*n):0;return{xmin:s,xmax:l,a:h,b:(a-h*n)/r}},s5=function(t,r){return se(t)&&se(r)?t-r:mi(t)&&mi(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function us(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function tg(e){"@babel/helpers - typeof";return tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tg(e)}var l5=["viewBox","children"],c5=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Qx=["points","pathLength"],Pp={svg:l5,polygon:Qx,polyline:Qx},$y=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Rf=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(O.isValidElement(t)&&(n=t.props),!Js(n))return null;var a={};return Object.keys(n).forEach(function(o){$y.includes(o)&&(a[o]=r||function(i){return n[o](n,i)})}),a},u5=function(t,r,n){return function(a){return t(r,n,a),null}},yc=function(t,r,n){if(!Js(t)||tg(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(o){var i=t[o];$y.includes(o)&&typeof i=="function"&&(a||(a={}),a[o]=u5(i,r,n))}),a},f5=["children"],d5=["children"];function Zx(e,t){if(e==null)return{};var r=h5(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function h5(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function rg(e){"@babel/helpers - typeof";return rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rg(e)}var Jx={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ga=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},eb=null,_p=null,Dy=function e(t){if(t===eb&&Array.isArray(_p))return _p;var r=[];return O.Children.forEach(t,function(n){De(n)||(XT.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),_p=r,eb=t,r};function bn(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return Ga(a)}):n=[Ga(t)],Dy(e).forEach(function(a){var o=Xn(a,"type.displayName")||Xn(a,"type.name");n.indexOf(o)!==-1&&r.push(a)}),r}function Nn(e,t){var r=bn(e,t);return r&&r[0]}var tb=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!se(n)||n<=0||!se(a)||a<=0)},p5=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],g5=function(t){return t&&t.type&&mi(t.type)&&p5.indexOf(t.type)>=0},hj=function(t){return t&&rg(t)==="object"&&"clipDot"in t},m5=function(t,r,n,a){var o,i=(o=Pp==null?void 0:Pp[a])!==null&&o!==void 0?o:[];return r.startsWith("data-")||!ze(t)&&(a&&i.includes(r)||c5.includes(r))||n&&$y.includes(r)},Le=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(O.isValidElement(t)&&(a=t.props),!Js(a))return null;var o={};return Object.keys(a).forEach(function(i){var s;m5((s=a)===null||s===void 0?void 0:s[i],i,r,n)&&(o[i]=a[i])}),o},ng=function e(t,r){if(t===r)return!0;var n=O.Children.count(t);if(n!==O.Children.count(r))return!1;if(n===0)return!0;if(n===1)return rb(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var o=t[a],i=r[a];if(Array.isArray(o)||Array.isArray(i)){if(!e(o,i))return!1}else if(!rb(o,i))return!1}return!0},rb=function(t,r){if(De(t)&&De(r))return!0;if(!De(t)&&!De(r)){var n=t.props||{},a=n.children,o=Zx(n,f5),i=r.props||{},s=i.children,l=Zx(i,d5);return a&&s?us(o,l)&&ng(a,s):!a&&!s?us(o,l):!1}return!1},nb=function(t,r){var n=[],a={};return Dy(t).forEach(function(o,i){if(g5(o))n.push(o);else if(o){var s=Ga(o.type),l=r[s]||{},c=l.handler,f=l.once;if(c&&(!f||!a[s])){var d=c(o,s,i);n.push(d),a[s]=!0}}}),n},y5=function(t){var r=t&&t.type;return r&&Jx[r]?Jx[r]:null},v5=function(t,r){return Dy(r).indexOf(t)},x5=["children","width","height","viewBox","className","style","title","desc"];function ag(){return ag=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ag.apply(this,arguments)}function b5(e,t){if(e==null)return{};var r=w5(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function w5(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function og(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,o=e.className,i=e.style,s=e.title,l=e.desc,c=b5(e,x5),f=a||{width:r,height:n,x:0,y:0},d=et("recharts-surface",o);return M.createElement("svg",ag({},Le(c,!0,"svg"),{className:d,width:r,height:n,style:i,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),M.createElement("title",null,s),M.createElement("desc",null,l),t)}var k5=["children","className"];function ig(){return ig=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ig.apply(this,arguments)}function S5(e,t){if(e==null)return{};var r=j5(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function j5(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var dt=M.forwardRef(function(e,t){var r=e.children,n=e.className,a=S5(e,k5),o=et("recharts-layer",n);return M.createElement("g",ig({className:o},Le(a,!0),{ref:t}),r)}),Ha=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o]};function O5(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(a);++n<a;)o[n]=e[n+t];return o}var P5=O5,_5=P5;function N5(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:_5(e,t,r)}var A5=N5,M5="\\ud800-\\udfff",C5="\\u0300-\\u036f",E5="\\ufe20-\\ufe2f",T5="\\u20d0-\\u20ff",$5=C5+E5+T5,D5="\\ufe0e\\ufe0f",R5="\\u200d",L5=RegExp("["+R5+M5+$5+D5+"]");function I5(e){return L5.test(e)}var pj=I5;function B5(e){return e.split("")}var F5=B5,gj="\\ud800-\\udfff",z5="\\u0300-\\u036f",W5="\\ufe20-\\ufe2f",U5="\\u20d0-\\u20ff",G5=z5+W5+U5,H5="\\ufe0e\\ufe0f",V5="["+gj+"]",sg="["+G5+"]",lg="\\ud83c[\\udffb-\\udfff]",K5="(?:"+sg+"|"+lg+")",mj="[^"+gj+"]",yj="(?:\\ud83c[\\udde6-\\uddff]){2}",vj="[\\ud800-\\udbff][\\udc00-\\udfff]",X5="\\u200d",xj=K5+"?",bj="["+H5+"]?",Y5="(?:"+X5+"(?:"+[mj,yj,vj].join("|")+")"+bj+xj+")*",q5=bj+xj+Y5,Q5="(?:"+[mj+sg+"?",sg,yj,vj,V5].join("|")+")",Z5=RegExp(lg+"(?="+lg+")|"+Q5+q5,"g");function J5(e){return e.match(Z5)||[]}var e$=J5,t$=F5,r$=pj,n$=e$;function a$(e){return r$(e)?n$(e):t$(e)}var o$=a$,i$=A5,s$=pj,l$=o$,c$=sj;function u$(e){return function(t){t=c$(t);var r=s$(t)?l$(t):void 0,n=r?r[0]:t.charAt(0),a=r?i$(r,1).join(""):t.slice(1);return n[e]()+a}}var f$=u$,d$=f$,h$=d$("toUpperCase"),p$=h$;const mh=It(p$);function Ut(e){return function(){return e}}const wj=Math.cos,Lf=Math.sin,ma=Math.sqrt,If=Math.PI,yh=2*If,cg=Math.PI,ug=2*cg,Xo=1e-6,g$=ug-Xo;function kj(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function m$(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return kj;const r=10**t;return function(n){this._+=n[0];for(let a=1,o=n.length;a<o;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class y${constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?kj:m$(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,o,i){this._append`C${+t},${+r},${+n},${+a},${this._x1=+o},${this._y1=+i}`}arcTo(t,r,n,a,o){if(t=+t,r=+r,n=+n,a=+a,o=+o,o<0)throw new Error(`negative radius: ${o}`);let i=this._x1,s=this._y1,l=n-t,c=a-r,f=i-t,d=s-r,h=f*f+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Xo)if(!(Math.abs(d*l-c*f)>Xo)||!o)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-i,m=a-s,v=l*l+c*c,x=p*p+m*m,y=Math.sqrt(v),g=Math.sqrt(h),b=o*Math.tan((cg-Math.acos((v+h-x)/(2*y*g)))/2),S=b/g,w=b/y;Math.abs(S-1)>Xo&&this._append`L${t+S*f},${r+S*d}`,this._append`A${o},${o},0,0,${+(d*p>f*m)},${this._x1=t+w*l},${this._y1=r+w*c}`}}arc(t,r,n,a,o,i){if(t=+t,r=+r,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(a),l=n*Math.sin(a),c=t+s,f=r+l,d=1^i,h=i?a-o:o-a;this._x1===null?this._append`M${c},${f}`:(Math.abs(this._x1-c)>Xo||Math.abs(this._y1-f)>Xo)&&this._append`L${c},${f}`,n&&(h<0&&(h=h%ug+ug),h>g$?this._append`A${n},${n},0,1,${d},${t-s},${r-l}A${n},${n},0,1,${d},${this._x1=c},${this._y1=f}`:h>Xo&&this._append`A${n},${n},0,${+(h>=cg)},${d},${this._x1=t+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function Ry(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new y$(t)}function Ly(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Sj(e){this._context=e}Sj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function vh(e){return new Sj(e)}function jj(e){return e[0]}function Oj(e){return e[1]}function Pj(e,t){var r=Ut(!0),n=null,a=vh,o=null,i=Ry(s);e=typeof e=="function"?e:e===void 0?jj:Ut(e),t=typeof t=="function"?t:t===void 0?Oj:Ut(t);function s(l){var c,f=(l=Ly(l)).length,d,h=!1,p;for(n==null&&(o=a(p=i())),c=0;c<=f;++c)!(c<f&&r(d=l[c],c,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+e(d,c,l),+t(d,c,l));if(p)return o=null,p+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:Ut(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:Ut(+l),s):t},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Ut(!!l),s):r},s.curve=function(l){return arguments.length?(a=l,n!=null&&(o=a(n)),s):a},s.context=function(l){return arguments.length?(l==null?n=o=null:o=a(n=l),s):n},s}function Lu(e,t,r){var n=null,a=Ut(!0),o=null,i=vh,s=null,l=Ry(c);e=typeof e=="function"?e:e===void 0?jj:Ut(+e),t=typeof t=="function"?t:Ut(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?Oj:Ut(+r);function c(d){var h,p,m,v=(d=Ly(d)).length,x,y=!1,g,b=new Array(v),S=new Array(v);for(o==null&&(s=i(g=l())),h=0;h<=v;++h){if(!(h<v&&a(x=d[h],h,d))===y)if(y=!y)p=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),m=h-1;m>=p;--m)s.point(b[m],S[m]);s.lineEnd(),s.areaEnd()}y&&(b[h]=+e(x,h,d),S[h]=+t(x,h,d),s.point(n?+n(x,h,d):b[h],r?+r(x,h,d):S[h]))}if(g)return s=null,g+""||null}function f(){return Pj().defined(a).curve(i).context(o)}return c.x=function(d){return arguments.length?(e=typeof d=="function"?d:Ut(+d),n=null,c):e},c.x0=function(d){return arguments.length?(e=typeof d=="function"?d:Ut(+d),c):e},c.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Ut(+d),c):n},c.y=function(d){return arguments.length?(t=typeof d=="function"?d:Ut(+d),r=null,c):t},c.y0=function(d){return arguments.length?(t=typeof d=="function"?d:Ut(+d),c):t},c.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Ut(+d),c):r},c.lineX0=c.lineY0=function(){return f().x(e).y(t)},c.lineY1=function(){return f().x(e).y(r)},c.lineX1=function(){return f().x(n).y(t)},c.defined=function(d){return arguments.length?(a=typeof d=="function"?d:Ut(!!d),c):a},c.curve=function(d){return arguments.length?(i=d,o!=null&&(s=i(o)),c):i},c.context=function(d){return arguments.length?(d==null?o=s=null:s=i(o=d),c):o},c}class _j{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function v$(e){return new _j(e,!0)}function x$(e){return new _j(e,!1)}const Iy={draw(e,t){const r=ma(t/If);e.moveTo(r,0),e.arc(0,0,r,0,yh)}},b$={draw(e,t){const r=ma(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},Nj=ma(1/3),w$=Nj*2,k$={draw(e,t){const r=ma(t/w$),n=r*Nj;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},S$={draw(e,t){const r=ma(t),n=-r/2;e.rect(n,n,r,r)}},j$=.8908130915292852,Aj=Lf(If/10)/Lf(7*If/10),O$=Lf(yh/10)*Aj,P$=-wj(yh/10)*Aj,_$={draw(e,t){const r=ma(t*j$),n=O$*r,a=P$*r;e.moveTo(0,-r),e.lineTo(n,a);for(let o=1;o<5;++o){const i=yh*o/5,s=wj(i),l=Lf(i);e.lineTo(l*r,-s*r),e.lineTo(s*n-l*a,l*n+s*a)}e.closePath()}},Np=ma(3),N$={draw(e,t){const r=-ma(t/(Np*3));e.moveTo(0,r*2),e.lineTo(-Np*r,-r),e.lineTo(Np*r,-r),e.closePath()}},In=-.5,Bn=ma(3)/2,fg=1/ma(12),A$=(fg/2+1)*3,M$={draw(e,t){const r=ma(t/A$),n=r/2,a=r*fg,o=n,i=r*fg+r,s=-o,l=i;e.moveTo(n,a),e.lineTo(o,i),e.lineTo(s,l),e.lineTo(In*n-Bn*a,Bn*n+In*a),e.lineTo(In*o-Bn*i,Bn*o+In*i),e.lineTo(In*s-Bn*l,Bn*s+In*l),e.lineTo(In*n+Bn*a,In*a-Bn*n),e.lineTo(In*o+Bn*i,In*i-Bn*o),e.lineTo(In*s+Bn*l,In*l-Bn*s),e.closePath()}};function C$(e,t){let r=null,n=Ry(a);e=typeof e=="function"?e:Ut(e||Iy),t=typeof t=="function"?t:Ut(t===void 0?64:+t);function a(){let o;if(r||(r=o=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),o)return r=null,o+""||null}return a.type=function(o){return arguments.length?(e=typeof o=="function"?o:Ut(o),a):e},a.size=function(o){return arguments.length?(t=typeof o=="function"?o:Ut(+o),a):t},a.context=function(o){return arguments.length?(r=o??null,a):r},a}function Bf(){}function Ff(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Mj(e){this._context=e}Mj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ff(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ff(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function E$(e){return new Mj(e)}function Cj(e){this._context=e}Cj.prototype={areaStart:Bf,areaEnd:Bf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Ff(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function T$(e){return new Cj(e)}function Ej(e){this._context=e}Ej.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Ff(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function $$(e){return new Ej(e)}function Tj(e){this._context=e}Tj.prototype={areaStart:Bf,areaEnd:Bf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function D$(e){return new Tj(e)}function ab(e){return e<0?-1:1}function ob(e,t,r){var n=e._x1-e._x0,a=t-e._x1,o=(e._y1-e._y0)/(n||a<0&&-0),i=(r-e._y1)/(a||n<0&&-0),s=(o*a+i*n)/(n+a);return(ab(o)+ab(i))*Math.min(Math.abs(o),Math.abs(i),.5*Math.abs(s))||0}function ib(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Ap(e,t,r){var n=e._x0,a=e._y0,o=e._x1,i=e._y1,s=(o-n)/3;e._context.bezierCurveTo(n+s,a+s*t,o-s,i-s*r,o,i)}function zf(e){this._context=e}zf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ap(this,this._t0,ib(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Ap(this,ib(this,r=ob(this,e,t)),r);break;default:Ap(this,this._t0,r=ob(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function $j(e){this._context=new Dj(e)}($j.prototype=Object.create(zf.prototype)).point=function(e,t){zf.prototype.point.call(this,t,e)};function Dj(e){this._context=e}Dj.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,o){this._context.bezierCurveTo(t,e,n,r,o,a)}};function R$(e){return new zf(e)}function L$(e){return new $j(e)}function Rj(e){this._context=e}Rj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=sb(e),a=sb(t),o=0,i=1;i<r;++o,++i)this._context.bezierCurveTo(n[0][o],a[0][o],n[1][o],a[1][o],e[i],t[i]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function sb(e){var t,r=e.length-1,n,a=new Array(r),o=new Array(r),i=new Array(r);for(a[0]=0,o[0]=2,i[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,o[t]=4,i[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,o[r-1]=7,i[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/o[t-1],o[t]-=n,i[t]-=n*i[t-1];for(a[r-1]=i[r-1]/o[r-1],t=r-2;t>=0;--t)a[t]=(i[t]-a[t+1])/o[t];for(o[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-a[t+1];return[a,o]}function I$(e){return new Rj(e)}function xh(e,t){this._context=e,this._t=t}xh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function B$(e){return new xh(e,.5)}function F$(e){return new xh(e,0)}function z$(e){return new xh(e,1)}function ws(e,t){if((i=e.length)>1)for(var r=1,n,a,o=e[t[0]],i,s=o.length;r<i;++r)for(a=o,o=e[t[r]],n=0;n<s;++n)o[n][1]+=o[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function dg(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function W$(e,t){return e[t]}function U$(e){const t=[];return t.key=e,t}function G$(){var e=Ut([]),t=dg,r=ws,n=W$;function a(o){var i=Array.from(e.apply(this,arguments),U$),s,l=i.length,c=-1,f;for(const d of o)for(s=0,++c;s<l;++s)(i[s][c]=[0,+n(d,i[s].key,c,o)]).data=d;for(s=0,f=Ly(t(i));s<l;++s)i[f[s]].index=s;return r(i,f),i}return a.keys=function(o){return arguments.length?(e=typeof o=="function"?o:Ut(Array.from(o)),a):e},a.value=function(o){return arguments.length?(n=typeof o=="function"?o:Ut(+o),a):n},a.order=function(o){return arguments.length?(t=o==null?dg:typeof o=="function"?o:Ut(Array.from(o)),a):t},a.offset=function(o){return arguments.length?(r=o??ws,a):r},a}function H$(e,t){if((n=e.length)>0){for(var r,n,a=0,o=e[0].length,i;a<o;++a){for(i=r=0;r<n;++r)i+=e[r][a][1]||0;if(i)for(r=0;r<n;++r)e[r][a][1]/=i}ws(e,t)}}function V$(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,o=n.length;r<o;++r){for(var i=0,s=0;i<a;++i)s+=e[i][r][1]||0;n[r][1]+=n[r][0]=-s/2}ws(e,t)}}function K$(e,t){if(!(!((i=e.length)>0)||!((o=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,o,i;n<o;++n){for(var s=0,l=0,c=0;s<i;++s){for(var f=e[t[s]],d=f[n][1]||0,h=f[n-1][1]||0,p=(d-h)/2,m=0;m<s;++m){var v=e[t[m]],x=v[n][1]||0,y=v[n-1][1]||0;p+=x-y}l+=d,c+=p*d}a[n-1][1]+=a[n-1][0]=r,l&&(r-=c/l)}a[n-1][1]+=a[n-1][0]=r,ws(e,t)}}function vc(e){"@babel/helpers - typeof";return vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vc(e)}var X$=["type","size","sizeType"];function hg(){return hg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hg.apply(this,arguments)}function lb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lb(Object(r),!0).forEach(function(n){Y$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Y$(e,t,r){return t=q$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q$(e){var t=Q$(e,"string");return vc(t)=="symbol"?t:t+""}function Q$(e,t){if(vc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Z$(e,t){if(e==null)return{};var r=J$(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function J$(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Lj={symbolCircle:Iy,symbolCross:b$,symbolDiamond:k$,symbolSquare:S$,symbolStar:_$,symbolTriangle:N$,symbolWye:M$},e4=Math.PI/180,t4=function(t){var r="symbol".concat(mh(t));return Lj[r]||Iy},r4=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*e4;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},n4=function(t,r){Lj["symbol".concat(mh(t))]=r},bh=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,o=a===void 0?64:a,i=t.sizeType,s=i===void 0?"area":i,l=Z$(t,X$),c=cb(cb({},l),{},{type:n,size:o,sizeType:s}),f=function(){var x=t4(n),y=C$().type(x).size(r4(o,s,n));return y()},d=c.className,h=c.cx,p=c.cy,m=Le(c,!0);return h===+h&&p===+p&&o===+o?M.createElement("path",hg({},m,{className:et("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(p,")"),d:f()})):null};bh.registerSymbol=n4;function ks(e){"@babel/helpers - typeof";return ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ks(e)}function pg(){return pg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pg.apply(this,arguments)}function ub(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function a4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ub(Object(r),!0).forEach(function(n){xc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ub(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function o4(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Bj(n.key),n)}}function s4(e,t,r){return t&&i4(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function l4(e,t,r){return t=Wf(t),c4(e,Ij()?Reflect.construct(t,r||[],Wf(e).constructor):t.apply(e,r))}function c4(e,t){if(t&&(ks(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return u4(e)}function u4(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ij(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ij=function(){return!!e})()}function Wf(e){return Wf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wf(e)}function f4(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gg(e,t)}function gg(e,t){return gg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},gg(e,t)}function xc(e,t,r){return t=Bj(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bj(e){var t=d4(e,"string");return ks(t)=="symbol"?t:t+""}function d4(e,t){if(ks(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ks(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Fn=32,By=function(e){function t(){return o4(this,t),l4(this,t,arguments)}return f4(t,e),s4(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,o=Fn/2,i=Fn/6,s=Fn/3,l=n.inactive?a:n.color;if(n.type==="plainline")return M.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:o,x2:Fn,y2:o,className:"recharts-legend-icon"});if(n.type==="line")return M.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(Fn,"M").concat(2*s,",").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(n.type==="rect")return M.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Fn/8,"h").concat(Fn,"v").concat(Fn*3/4,"h").concat(-Fn,"z"),className:"recharts-legend-icon"});if(M.isValidElement(n.legendIcon)){var c=a4({},n);return delete c.legendIcon,M.cloneElement(n.legendIcon,c)}return M.createElement(bh,{fill:l,cx:o,cy:o,size:Fn,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,o=a.payload,i=a.iconSize,s=a.layout,l=a.formatter,c=a.inactiveColor,f={x:0,y:0,width:Fn,height:Fn},d={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(p,m){var v=p.formatter||l,x=et(xc(xc({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",p.inactive));if(p.type==="none")return null;var y=ze(p.value)?null:p.value;Ha(!ze(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var g=p.inactive?c:p.color;return M.createElement("li",pg({className:x,style:d,key:"legend-item-".concat(m)},yc(n.props,p,m)),M.createElement(og,{width:i,height:i,viewBox:f,style:h},n.renderIcon(p)),M.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},v?v(y,p,m):y))})}},{key:"render",value:function(){var n=this.props,a=n.payload,o=n.layout,i=n.align;if(!a||!a.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?i:"left"};return M.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(O.PureComponent);xc(By,"displayName","Legend");xc(By,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var h4=nh;function p4(){this.__data__=new h4,this.size=0}var g4=p4;function m4(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var y4=m4;function v4(e){return this.__data__.get(e)}var x4=v4;function b4(e){return this.__data__.has(e)}var w4=b4,k4=nh,S4=_y,j4=Ny,O4=200;function P4(e,t){var r=this.__data__;if(r instanceof k4){var n=r.__data__;if(!S4||n.length<O4-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new j4(n)}return r.set(e,t),this.size=r.size,this}var _4=P4,N4=nh,A4=g4,M4=y4,C4=x4,E4=w4,T4=_4;function al(e){var t=this.__data__=new N4(e);this.size=t.size}al.prototype.clear=A4;al.prototype.delete=M4;al.prototype.get=C4;al.prototype.has=E4;al.prototype.set=T4;var Fj=al,$4="__lodash_hash_undefined__";function D4(e){return this.__data__.set(e,$4),this}var R4=D4;function L4(e){return this.__data__.has(e)}var I4=L4,B4=Ny,F4=R4,z4=I4;function Uf(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new B4;++t<r;)this.add(e[t])}Uf.prototype.add=Uf.prototype.push=F4;Uf.prototype.has=z4;var zj=Uf;function W4(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var Wj=W4;function U4(e,t){return e.has(t)}var Uj=U4,G4=zj,H4=Wj,V4=Uj,K4=1,X4=2;function Y4(e,t,r,n,a,o){var i=r&K4,s=e.length,l=t.length;if(s!=l&&!(i&&l>s))return!1;var c=o.get(e),f=o.get(t);if(c&&f)return c==t&&f==e;var d=-1,h=!0,p=r&X4?new G4:void 0;for(o.set(e,t),o.set(t,e);++d<s;){var m=e[d],v=t[d];if(n)var x=i?n(v,m,d,t,e,o):n(m,v,d,e,t,o);if(x!==void 0){if(x)continue;h=!1;break}if(p){if(!H4(t,function(y,g){if(!V4(p,g)&&(m===y||a(m,y,r,n,o)))return p.push(g)})){h=!1;break}}else if(!(m===v||a(m,v,r,n,o))){h=!1;break}}return o.delete(e),o.delete(t),h}var Gj=Y4,q4=Ta,Q4=q4.Uint8Array,Z4=Q4;function J4(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var e3=J4;function t3(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var Fy=t3,fb=au,db=Z4,r3=Py,n3=Gj,a3=e3,o3=Fy,i3=1,s3=2,l3="[object Boolean]",c3="[object Date]",u3="[object Error]",f3="[object Map]",d3="[object Number]",h3="[object RegExp]",p3="[object Set]",g3="[object String]",m3="[object Symbol]",y3="[object ArrayBuffer]",v3="[object DataView]",hb=fb?fb.prototype:void 0,Mp=hb?hb.valueOf:void 0;function x3(e,t,r,n,a,o,i){switch(r){case v3:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case y3:return!(e.byteLength!=t.byteLength||!o(new db(e),new db(t)));case l3:case c3:case d3:return r3(+e,+t);case u3:return e.name==t.name&&e.message==t.message;case h3:case g3:return e==t+"";case f3:var s=a3;case p3:var l=n&i3;if(s||(s=o3),e.size!=t.size&&!l)return!1;var c=i.get(e);if(c)return c==t;n|=s3,i.set(e,t);var f=n3(s(e),s(t),n,a,o,i);return i.delete(e),f;case m3:if(Mp)return Mp.call(e)==Mp.call(t)}return!1}var b3=x3;function w3(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var Hj=w3,k3=Hj,S3=wn;function j3(e,t,r){var n=t(e);return S3(e)?n:k3(n,r(e))}var O3=j3;function P3(e,t){for(var r=-1,n=e==null?0:e.length,a=0,o=[];++r<n;){var i=e[r];t(i,r,e)&&(o[a++]=i)}return o}var _3=P3;function N3(){return[]}var A3=N3,M3=_3,C3=A3,E3=Object.prototype,T3=E3.propertyIsEnumerable,pb=Object.getOwnPropertySymbols,$3=pb?function(e){return e==null?[]:(e=Object(e),M3(pb(e),function(t){return T3.call(e,t)}))}:C3,D3=$3;function R3(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var L3=R3,I3=ro,B3=no,F3="[object Arguments]";function z3(e){return B3(e)&&I3(e)==F3}var W3=z3,gb=W3,U3=no,Vj=Object.prototype,G3=Vj.hasOwnProperty,H3=Vj.propertyIsEnumerable,V3=gb(function(){return arguments}())?gb:function(e){return U3(e)&&G3.call(e,"callee")&&!H3.call(e,"callee")},zy=V3,Gf={exports:{}};function K3(){return!1}var X3=K3;Gf.exports;(function(e,t){var r=Ta,n=X3,a=t&&!t.nodeType&&t,o=a&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===a,s=i?r.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||n;e.exports=c})(Gf,Gf.exports);var Kj=Gf.exports,Y3=9007199254740991,q3=/^(?:0|[1-9]\d*)$/;function Q3(e,t){var r=typeof e;return t=t??Y3,!!t&&(r=="number"||r!="symbol"&&q3.test(e))&&e>-1&&e%1==0&&e<t}var Wy=Q3,Z3=9007199254740991;function J3(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Z3}var Uy=J3,eD=ro,tD=Uy,rD=no,nD="[object Arguments]",aD="[object Array]",oD="[object Boolean]",iD="[object Date]",sD="[object Error]",lD="[object Function]",cD="[object Map]",uD="[object Number]",fD="[object Object]",dD="[object RegExp]",hD="[object Set]",pD="[object String]",gD="[object WeakMap]",mD="[object ArrayBuffer]",yD="[object DataView]",vD="[object Float32Array]",xD="[object Float64Array]",bD="[object Int8Array]",wD="[object Int16Array]",kD="[object Int32Array]",SD="[object Uint8Array]",jD="[object Uint8ClampedArray]",OD="[object Uint16Array]",PD="[object Uint32Array]",Kt={};Kt[vD]=Kt[xD]=Kt[bD]=Kt[wD]=Kt[kD]=Kt[SD]=Kt[jD]=Kt[OD]=Kt[PD]=!0;Kt[nD]=Kt[aD]=Kt[mD]=Kt[oD]=Kt[yD]=Kt[iD]=Kt[sD]=Kt[lD]=Kt[cD]=Kt[uD]=Kt[fD]=Kt[dD]=Kt[hD]=Kt[pD]=Kt[gD]=!1;function _D(e){return rD(e)&&tD(e.length)&&!!Kt[eD(e)]}var ND=_D;function AD(e){return function(t){return e(t)}}var Xj=AD,Hf={exports:{}};Hf.exports;(function(e,t){var r=tj,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===n,i=o&&r.process,s=function(){try{var l=a&&a.require&&a.require("util").types;return l||i&&i.binding&&i.binding("util")}catch{}}();e.exports=s})(Hf,Hf.exports);var MD=Hf.exports,CD=ND,ED=Xj,mb=MD,yb=mb&&mb.isTypedArray,TD=yb?ED(yb):CD,Yj=TD,$D=L3,DD=zy,RD=wn,LD=Kj,ID=Wy,BD=Yj,FD=Object.prototype,zD=FD.hasOwnProperty;function WD(e,t){var r=RD(e),n=!r&&DD(e),a=!r&&!n&&LD(e),o=!r&&!n&&!a&&BD(e),i=r||n||a||o,s=i?$D(e.length,String):[],l=s.length;for(var c in e)(t||zD.call(e,c))&&!(i&&(c=="length"||a&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||ID(c,l)))&&s.push(c);return s}var UD=WD,GD=Object.prototype;function HD(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||GD;return e===r}var VD=HD;function KD(e,t){return function(r){return e(t(r))}}var qj=KD,XD=qj,YD=XD(Object.keys,Object),qD=YD,QD=VD,ZD=qD,JD=Object.prototype,eR=JD.hasOwnProperty;function tR(e){if(!QD(e))return ZD(e);var t=[];for(var r in Object(e))eR.call(e,r)&&r!="constructor"&&t.push(r);return t}var rR=tR,nR=Oy,aR=Uy;function oR(e){return e!=null&&aR(e.length)&&!nR(e)}var ou=oR,iR=UD,sR=rR,lR=ou;function cR(e){return lR(e)?iR(e):sR(e)}var wh=cR,uR=O3,fR=D3,dR=wh;function hR(e){return uR(e,dR,fR)}var pR=hR,vb=pR,gR=1,mR=Object.prototype,yR=mR.hasOwnProperty;function vR(e,t,r,n,a,o){var i=r&gR,s=vb(e),l=s.length,c=vb(t),f=c.length;if(l!=f&&!i)return!1;for(var d=l;d--;){var h=s[d];if(!(i?h in t:yR.call(t,h)))return!1}var p=o.get(e),m=o.get(t);if(p&&m)return p==t&&m==e;var v=!0;o.set(e,t),o.set(t,e);for(var x=i;++d<l;){h=s[d];var y=e[h],g=t[h];if(n)var b=i?n(g,y,h,t,e,o):n(y,g,h,e,t,o);if(!(b===void 0?y===g||a(y,g,r,n,o):b)){v=!1;break}x||(x=h=="constructor")}if(v&&!x){var S=e.constructor,w=t.constructor;S!=w&&"constructor"in e&&"constructor"in t&&!(typeof S=="function"&&S instanceof S&&typeof w=="function"&&w instanceof w)&&(v=!1)}return o.delete(e),o.delete(t),v}var xR=vR,bR=Oi,wR=Ta,kR=bR(wR,"DataView"),SR=kR,jR=Oi,OR=Ta,PR=jR(OR,"Promise"),_R=PR,NR=Oi,AR=Ta,MR=NR(AR,"Set"),Qj=MR,CR=Oi,ER=Ta,TR=CR(ER,"WeakMap"),$R=TR,mg=SR,yg=_y,vg=_R,xg=Qj,bg=$R,Zj=ro,ol=nj,xb="[object Map]",DR="[object Object]",bb="[object Promise]",wb="[object Set]",kb="[object WeakMap]",Sb="[object DataView]",RR=ol(mg),LR=ol(yg),IR=ol(vg),BR=ol(xg),FR=ol(bg),Yo=Zj;(mg&&Yo(new mg(new ArrayBuffer(1)))!=Sb||yg&&Yo(new yg)!=xb||vg&&Yo(vg.resolve())!=bb||xg&&Yo(new xg)!=wb||bg&&Yo(new bg)!=kb)&&(Yo=function(e){var t=Zj(e),r=t==DR?e.constructor:void 0,n=r?ol(r):"";if(n)switch(n){case RR:return Sb;case LR:return xb;case IR:return bb;case BR:return wb;case FR:return kb}return t});var zR=Yo,Cp=Fj,WR=Gj,UR=b3,GR=xR,jb=zR,Ob=wn,Pb=Kj,HR=Yj,VR=1,_b="[object Arguments]",Nb="[object Array]",Iu="[object Object]",KR=Object.prototype,Ab=KR.hasOwnProperty;function XR(e,t,r,n,a,o){var i=Ob(e),s=Ob(t),l=i?Nb:jb(e),c=s?Nb:jb(t);l=l==_b?Iu:l,c=c==_b?Iu:c;var f=l==Iu,d=c==Iu,h=l==c;if(h&&Pb(e)){if(!Pb(t))return!1;i=!0,f=!1}if(h&&!f)return o||(o=new Cp),i||HR(e)?WR(e,t,r,n,a,o):UR(e,t,l,r,n,a,o);if(!(r&VR)){var p=f&&Ab.call(e,"__wrapped__"),m=d&&Ab.call(t,"__wrapped__");if(p||m){var v=p?e.value():e,x=m?t.value():t;return o||(o=new Cp),a(v,x,r,n,o)}}return h?(o||(o=new Cp),GR(e,t,r,n,a,o)):!1}var YR=XR,qR=YR,Mb=no;function Jj(e,t,r,n,a){return e===t?!0:e==null||t==null||!Mb(e)&&!Mb(t)?e!==e&&t!==t:qR(e,t,r,n,Jj,a)}var Gy=Jj,QR=Fj,ZR=Gy,JR=1,eL=2;function tL(e,t,r,n){var a=r.length,o=a,i=!n;if(e==null)return!o;for(e=Object(e);a--;){var s=r[a];if(i&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<o;){s=r[a];var l=s[0],c=e[l],f=s[1];if(i&&s[2]){if(c===void 0&&!(l in e))return!1}else{var d=new QR;if(n)var h=n(c,f,l,e,t,d);if(!(h===void 0?ZR(f,c,JR|eL,n,d):h))return!1}}return!0}var rL=tL,nL=Do;function aL(e){return e===e&&!nL(e)}var eO=aL,oL=eO,iL=wh;function sL(e){for(var t=iL(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,oL(a)]}return t}var lL=sL;function cL(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var tO=cL,uL=rL,fL=lL,dL=tO;function hL(e){var t=fL(e);return t.length==1&&t[0][2]?dL(t[0][0],t[0][1]):function(r){return r===e||uL(r,e,t)}}var pL=hL;function gL(e,t){return e!=null&&t in Object(e)}var mL=gL,yL=lj,vL=zy,xL=wn,bL=Wy,wL=Uy,kL=oh;function SL(e,t,r){t=yL(t,e);for(var n=-1,a=t.length,o=!1;++n<a;){var i=kL(t[n]);if(!(o=e!=null&&r(e,i)))break;e=e[i]}return o||++n!=a?o:(a=e==null?0:e.length,!!a&&wL(a)&&bL(i,a)&&(xL(e)||vL(e)))}var jL=SL,OL=mL,PL=jL;function _L(e,t){return e!=null&&PL(e,t,OL)}var NL=_L,AL=Gy,ML=cj,CL=NL,EL=jy,TL=eO,$L=tO,DL=oh,RL=1,LL=2;function IL(e,t){return EL(e)&&TL(t)?$L(DL(e),t):function(r){var n=ML(r,e);return n===void 0&&n===t?CL(r,e):AL(t,n,RL|LL)}}var BL=IL;function FL(e){return e}var il=FL;function zL(e){return function(t){return t==null?void 0:t[e]}}var WL=zL,UL=Cy;function GL(e){return function(t){return UL(t,e)}}var HL=GL,VL=WL,KL=HL,XL=jy,YL=oh;function qL(e){return XL(e)?VL(YL(e)):KL(e)}var QL=qL,ZL=pL,JL=BL,eI=il,tI=wn,rI=QL;function nI(e){return typeof e=="function"?e:e==null?eI:typeof e=="object"?tI(e)?JL(e[0],e[1]):ZL(e):rI(e)}var Ro=nI;function aI(e,t,r,n){for(var a=e.length,o=r+(n?1:-1);n?o--:++o<a;)if(t(e[o],o,e))return o;return-1}var rO=aI;function oI(e){return e!==e}var iI=oI;function sI(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var lI=sI,cI=rO,uI=iI,fI=lI;function dI(e,t,r){return t===t?fI(e,t,r):cI(e,uI,r)}var hI=dI,pI=hI;function gI(e,t){var r=e==null?0:e.length;return!!r&&pI(e,t,0)>-1}var mI=gI;function yI(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var vI=yI;function xI(){}var bI=xI,Ep=Qj,wI=bI,kI=Fy,SI=1/0,jI=Ep&&1/kI(new Ep([,-0]))[1]==SI?function(e){return new Ep(e)}:wI,OI=jI,PI=zj,_I=mI,NI=vI,AI=Uj,MI=OI,CI=Fy,EI=200;function TI(e,t,r){var n=-1,a=_I,o=e.length,i=!0,s=[],l=s;if(r)i=!1,a=NI;else if(o>=EI){var c=t?null:MI(e);if(c)return CI(c);i=!1,a=AI,l=new PI}else l=t?[]:s;e:for(;++n<o;){var f=e[n],d=t?t(f):f;if(f=r||f!==0?f:0,i&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;t&&l.push(d),s.push(f)}else a(l,d,r)||(l!==s&&l.push(d),s.push(f))}return s}var $I=TI,DI=Ro,RI=$I;function LI(e,t){return e&&e.length?RI(e,DI(t)):[]}var II=LI;const Cb=It(II);function nO(e,t,r){return t===!0?Cb(e,r):ze(t)?Cb(e,t):e}function Ss(e){"@babel/helpers - typeof";return Ss=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ss(e)}var BI=["ref"];function Eb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Da(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Eb(Object(r),!0).forEach(function(n){kh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Eb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oO(n.key),n)}}function zI(e,t,r){return t&&Tb(e.prototype,t),r&&Tb(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function WI(e,t,r){return t=Vf(t),UI(e,aO()?Reflect.construct(t,r||[],Vf(e).constructor):t.apply(e,r))}function UI(e,t){if(t&&(Ss(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GI(e)}function GI(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aO=function(){return!!e})()}function Vf(e){return Vf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vf(e)}function HI(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wg(e,t)}function wg(e,t){return wg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},wg(e,t)}function kh(e,t,r){return t=oO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oO(e){var t=VI(e,"string");return Ss(t)=="symbol"?t:t+""}function VI(e,t){if(Ss(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ss(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function KI(e,t){if(e==null)return{};var r=XI(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function XI(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function YI(e){return e.value}function qI(e,t){if(M.isValidElement(e))return M.cloneElement(e,t);if(typeof e=="function")return M.createElement(e,t);t.ref;var r=KI(t,BI);return M.createElement(By,r)}var $b=1,Va=function(e){function t(){var r;FI(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=WI(this,t,[].concat(a)),kh(r,"lastBoundingBox",{width:-1,height:-1}),r}return HI(t,e),zI(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>$b||Math.abs(a.height-this.lastBoundingBox.height)>$b)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Da({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,o=a.layout,i=a.align,s=a.verticalAlign,l=a.margin,c=a.chartWidth,f=a.chartHeight,d,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(i==="center"&&o==="vertical"){var p=this.getBBoxSnapshot();d={left:((c||0)-p.width)/2}}else d=i==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(s==="middle"){var m=this.getBBoxSnapshot();h={top:((f||0)-m.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Da(Da({},d),h)}},{key:"render",value:function(){var n=this,a=this.props,o=a.content,i=a.width,s=a.height,l=a.wrapperStyle,c=a.payloadUniqBy,f=a.payload,d=Da(Da({position:"absolute",width:i||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return M.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(p){n.wrapperNode=p}},qI(o,Da(Da({},this.props),{},{payload:nO(f,c,YI)})))}}],[{key:"getWithHeight",value:function(n,a){var o=Da(Da({},this.defaultProps),n.props),i=o.layout;return i==="vertical"&&se(n.props.height)?{height:n.props.height}:i==="horizontal"?{width:n.props.width||a}:null}}])}(O.PureComponent);kh(Va,"displayName","Legend");kh(Va,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Db=au,QI=zy,ZI=wn,Rb=Db?Db.isConcatSpreadable:void 0;function JI(e){return ZI(e)||QI(e)||!!(Rb&&e&&e[Rb])}var e6=JI,t6=Hj,r6=e6;function iO(e,t,r,n,a){var o=-1,i=e.length;for(r||(r=r6),a||(a=[]);++o<i;){var s=e[o];t>0&&r(s)?t>1?iO(s,t-1,r,n,a):t6(a,s):n||(a[a.length]=s)}return a}var sO=iO;function n6(e){return function(t,r,n){for(var a=-1,o=Object(t),i=n(t),s=i.length;s--;){var l=i[e?s:++a];if(r(o[l],l,o)===!1)break}return t}}var a6=n6,o6=a6,i6=o6(),s6=i6,l6=s6,c6=wh;function u6(e,t){return e&&l6(e,t,c6)}var lO=u6,f6=ou;function d6(e,t){return function(r,n){if(r==null)return r;if(!f6(r))return e(r,n);for(var a=r.length,o=t?a:-1,i=Object(r);(t?o--:++o<a)&&n(i[o],o,i)!==!1;);return r}}var h6=d6,p6=lO,g6=h6,m6=g6(p6),Hy=m6,y6=Hy,v6=ou;function x6(e,t){var r=-1,n=v6(e)?Array(e.length):[];return y6(e,function(a,o,i){n[++r]=t(a,o,i)}),n}var cO=x6;function b6(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var w6=b6,Lb=Zs;function k6(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,o=Lb(e),i=t!==void 0,s=t===null,l=t===t,c=Lb(t);if(!s&&!c&&!o&&e>t||o&&i&&l&&!s&&!c||n&&i&&l||!r&&l||!a)return 1;if(!n&&!o&&!c&&e<t||c&&r&&a&&!n&&!o||s&&r&&a||!i&&a||!l)return-1}return 0}var S6=k6,j6=S6;function O6(e,t,r){for(var n=-1,a=e.criteria,o=t.criteria,i=a.length,s=r.length;++n<i;){var l=j6(a[n],o[n]);if(l){if(n>=s)return l;var c=r[n];return l*(c=="desc"?-1:1)}}return e.index-t.index}var P6=O6,Tp=My,_6=Cy,N6=Ro,A6=cO,M6=w6,C6=Xj,E6=P6,T6=il,$6=wn;function D6(e,t,r){t.length?t=Tp(t,function(o){return $6(o)?function(i){return _6(i,o.length===1?o[0]:o)}:o}):t=[T6];var n=-1;t=Tp(t,C6(N6));var a=A6(e,function(o,i,s){var l=Tp(t,function(c){return c(o)});return{criteria:l,index:++n,value:o}});return M6(a,function(o,i){return E6(o,i,r)})}var R6=D6;function L6(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var I6=L6,B6=I6,Ib=Math.max;function F6(e,t,r){return t=Ib(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,o=Ib(n.length-t,0),i=Array(o);++a<o;)i[a]=n[t+a];a=-1;for(var s=Array(t+1);++a<t;)s[a]=n[a];return s[t]=r(i),B6(e,this,s)}}var z6=F6;function W6(e){return function(){return e}}var U6=W6,G6=Oi,H6=function(){try{var e=G6(Object,"defineProperty");return e({},"",{}),e}catch{}}(),uO=H6,V6=U6,Bb=uO,K6=il,X6=Bb?function(e,t){return Bb(e,"toString",{configurable:!0,enumerable:!1,value:V6(t),writable:!0})}:K6,Y6=X6,q6=800,Q6=16,Z6=Date.now;function J6(e){var t=0,r=0;return function(){var n=Z6(),a=Q6-(n-r);if(r=n,a>0){if(++t>=q6)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var eB=J6,tB=Y6,rB=eB,nB=rB(tB),aB=nB,oB=il,iB=z6,sB=aB;function lB(e,t){return sB(iB(e,t,oB),e+"")}var cB=lB,uB=Py,fB=ou,dB=Wy,hB=Do;function pB(e,t,r){if(!hB(r))return!1;var n=typeof t;return(n=="number"?fB(r)&&dB(t,r.length):n=="string"&&t in r)?uB(r[t],e):!1}var Sh=pB,gB=sO,mB=R6,yB=cB,Fb=Sh,vB=yB(function(e,t){if(e==null)return[];var r=t.length;return r>1&&Fb(e,t[0],t[1])?t=[]:r>2&&Fb(t[0],t[1],t[2])&&(t=[t[0]]),mB(e,gB(t,1),[])}),xB=vB;const Vy=It(xB);function bc(e){"@babel/helpers - typeof";return bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bc(e)}function kg(){return kg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kg.apply(this,arguments)}function bB(e,t){return jB(e)||SB(e,t)||kB(e,t)||wB()}function wB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kB(e,t){if(e){if(typeof e=="string")return zb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zb(e,t)}}function zb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function SB(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function jB(e){if(Array.isArray(e))return e}function Wb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $p(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Wb(Object(r),!0).forEach(function(n){OB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OB(e,t,r){return t=PB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PB(e){var t=_B(e,"string");return bc(t)=="symbol"?t:t+""}function _B(e,t){if(bc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NB(e){return Array.isArray(e)&&Or(e[0])&&Or(e[1])?e.join(" ~ "):e}var AB=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,o=a===void 0?{}:a,i=t.itemStyle,s=i===void 0?{}:i,l=t.labelStyle,c=l===void 0?{}:l,f=t.payload,d=t.formatter,h=t.itemSorter,p=t.wrapperClassName,m=t.labelClassName,v=t.label,x=t.labelFormatter,y=t.accessibilityLayer,g=y===void 0?!1:y,b=function(){if(f&&f.length){var E={padding:0,margin:0},z=(h?Vy(f,h):f).map(function(D,T){if(D.type==="none")return null;var L=$p({display:"block",paddingTop:4,paddingBottom:4,color:D.color||"#000"},s),W=D.formatter||d||NB,I=D.value,R=D.name,B=I,te=R;if(W&&B!=null&&te!=null){var X=W(I,R,D,T,f);if(Array.isArray(X)){var H=bB(X,2);B=H[0],te=H[1]}else B=X}return M.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(T),style:L},Or(te)?M.createElement("span",{className:"recharts-tooltip-item-name"},te):null,Or(te)?M.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,M.createElement("span",{className:"recharts-tooltip-item-value"},B),M.createElement("span",{className:"recharts-tooltip-item-unit"},D.unit||""))});return M.createElement("ul",{className:"recharts-tooltip-item-list",style:E},z)}return null},S=$p({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),w=$p({margin:0},c),k=!De(v),j=k?v:"",P=et("recharts-default-tooltip",p),_=et("recharts-tooltip-label",m);k&&x&&f!==void 0&&f!==null&&(j=x(v,f));var A=g?{role:"status","aria-live":"assertive"}:{};return M.createElement("div",kg({className:P,style:S},A),M.createElement("p",{className:_,style:w},M.isValidElement(j)?j:"".concat(j)),b())};function wc(e){"@babel/helpers - typeof";return wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wc(e)}function Bu(e,t,r){return t=MB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MB(e){var t=CB(e,"string");return wc(t)=="symbol"?t:t+""}function CB(e,t){if(wc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jl="recharts-tooltip-wrapper",EB={visibility:"hidden"};function TB(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return et(jl,Bu(Bu(Bu(Bu({},"".concat(jl,"-right"),se(r)&&t&&se(t.x)&&r>=t.x),"".concat(jl,"-left"),se(r)&&t&&se(t.x)&&r<t.x),"".concat(jl,"-bottom"),se(n)&&t&&se(t.y)&&n>=t.y),"".concat(jl,"-top"),se(n)&&t&&se(t.y)&&n<t.y))}function Ub(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,o=e.position,i=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(o&&se(o[n]))return o[n];var f=r[n]-s-a,d=r[n]+a;if(t[n])return i[n]?f:d;if(i[n]){var h=f,p=l[n];return h<p?Math.max(d,l[n]):Math.max(f,l[n])}var m=d+s,v=l[n]+c;return m>v?Math.max(f,l[n]):Math.max(d,l[n])}function $B(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function DB(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,o=e.reverseDirection,i=e.tooltipBox,s=e.useTranslate3d,l=e.viewBox,c,f,d;return i.height>0&&i.width>0&&r?(f=Ub({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:o,tooltipDimension:i.width,viewBox:l,viewBoxDimension:l.width}),d=Ub({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:o,tooltipDimension:i.height,viewBox:l,viewBoxDimension:l.height}),c=$B({translateX:f,translateY:d,useTranslate3d:s})):c=EB,{cssProperties:c,cssClasses:TB({translateX:f,translateY:d,coordinate:r})}}function js(e){"@babel/helpers - typeof";return js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},js(e)}function Gb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gb(Object(r),!0).forEach(function(n){jg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LB(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dO(n.key),n)}}function IB(e,t,r){return t&&LB(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function BB(e,t,r){return t=Kf(t),FB(e,fO()?Reflect.construct(t,r||[],Kf(e).constructor):t.apply(e,r))}function FB(e,t){if(t&&(js(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zB(e)}function zB(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fO=function(){return!!e})()}function Kf(e){return Kf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kf(e)}function WB(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sg(e,t)}function Sg(e,t){return Sg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Sg(e,t)}function jg(e,t,r){return t=dO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dO(e){var t=UB(e,"string");return js(t)=="symbol"?t:t+""}function UB(e,t){if(js(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(js(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Vb=1,GB=function(e){function t(){var r;RB(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=BB(this,t,[].concat(a)),jg(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),jg(r,"handleKeyDown",function(i){if(i.key==="Escape"){var s,l,c,f;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(c=(f=r.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&c!==void 0?c:0}})}}),r}return WB(t,e),IB(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>Vb||Math.abs(n.height-this.state.lastBoundingBox.height)>Vb)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,o=a.active,i=a.allowEscapeViewBox,s=a.animationDuration,l=a.animationEasing,c=a.children,f=a.coordinate,d=a.hasPayload,h=a.isAnimationActive,p=a.offset,m=a.position,v=a.reverseDirection,x=a.useTranslate3d,y=a.viewBox,g=a.wrapperStyle,b=DB({allowEscapeViewBox:i,coordinate:f,offsetTopLeft:p,position:m,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:y}),S=b.cssClasses,w=b.cssProperties,k=Hb(Hb({transition:h&&o?"transform ".concat(s,"ms ").concat(l):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&d?"visible":"hidden",position:"absolute",top:0,left:0},g);return M.createElement("div",{tabIndex:-1,className:S,style:k,ref:function(P){n.wrapperNode=P}},c)}}])}(O.PureComponent),HB=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Lo={isSsr:HB()};function Os(e){"@babel/helpers - typeof";return Os=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Os(e)}function Kb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kb(Object(r),!0).forEach(function(n){Ky(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KB(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pO(n.key),n)}}function XB(e,t,r){return t&&KB(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function YB(e,t,r){return t=Xf(t),qB(e,hO()?Reflect.construct(t,r||[],Xf(e).constructor):t.apply(e,r))}function qB(e,t){if(t&&(Os(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QB(e)}function QB(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hO=function(){return!!e})()}function Xf(e){return Xf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xf(e)}function ZB(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Og(e,t)}function Og(e,t){return Og=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Og(e,t)}function Ky(e,t,r){return t=pO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pO(e){var t=JB(e,"string");return Os(t)=="symbol"?t:t+""}function JB(e,t){if(Os(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Os(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function e8(e){return e.dataKey}function t8(e,t){return M.isValidElement(e)?M.cloneElement(e,t):typeof e=="function"?M.createElement(e,t):M.createElement(AB,t)}var nn=function(e){function t(){return VB(this,t),YB(this,t,arguments)}return ZB(t,e),XB(t,[{key:"render",value:function(){var n=this,a=this.props,o=a.active,i=a.allowEscapeViewBox,s=a.animationDuration,l=a.animationEasing,c=a.content,f=a.coordinate,d=a.filterNull,h=a.isAnimationActive,p=a.offset,m=a.payload,v=a.payloadUniqBy,x=a.position,y=a.reverseDirection,g=a.useTranslate3d,b=a.viewBox,S=a.wrapperStyle,w=m??[];d&&w.length&&(w=nO(m.filter(function(j){return j.value!=null&&(j.hide!==!0||n.props.includeHidden)}),v,e8));var k=w.length>0;return M.createElement(GB,{allowEscapeViewBox:i,animationDuration:s,animationEasing:l,isAnimationActive:h,active:o,coordinate:f,hasPayload:k,offset:p,position:x,reverseDirection:y,useTranslate3d:g,viewBox:b,wrapperStyle:S},t8(c,Xb(Xb({},this.props),{},{payload:w})))}}])}(O.PureComponent);Ky(nn,"displayName","Tooltip");Ky(nn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Lo.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var r8=Ta,n8=function(){return r8.Date.now()},a8=n8,o8=/\s/;function i8(e){for(var t=e.length;t--&&o8.test(e.charAt(t)););return t}var s8=i8,l8=s8,c8=/^\s+/;function u8(e){return e&&e.slice(0,l8(e)+1).replace(c8,"")}var f8=u8,d8=f8,Yb=Do,h8=Zs,qb=NaN,p8=/^[-+]0x[0-9a-f]+$/i,g8=/^0b[01]+$/i,m8=/^0o[0-7]+$/i,y8=parseInt;function v8(e){if(typeof e=="number")return e;if(h8(e))return qb;if(Yb(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Yb(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=d8(e);var r=g8.test(e);return r||m8.test(e)?y8(e.slice(2),r?2:8):p8.test(e)?qb:+e}var gO=v8,x8=Do,Dp=a8,Qb=gO,b8="Expected a function",w8=Math.max,k8=Math.min;function S8(e,t,r){var n,a,o,i,s,l,c=0,f=!1,d=!1,h=!0;if(typeof e!="function")throw new TypeError(b8);t=Qb(t)||0,x8(r)&&(f=!!r.leading,d="maxWait"in r,o=d?w8(Qb(r.maxWait)||0,t):o,h="trailing"in r?!!r.trailing:h);function p(k){var j=n,P=a;return n=a=void 0,c=k,i=e.apply(P,j),i}function m(k){return c=k,s=setTimeout(y,t),f?p(k):i}function v(k){var j=k-l,P=k-c,_=t-j;return d?k8(_,o-P):_}function x(k){var j=k-l,P=k-c;return l===void 0||j>=t||j<0||d&&P>=o}function y(){var k=Dp();if(x(k))return g(k);s=setTimeout(y,v(k))}function g(k){return s=void 0,h&&n?p(k):(n=a=void 0,i)}function b(){s!==void 0&&clearTimeout(s),c=0,n=l=a=s=void 0}function S(){return s===void 0?i:g(Dp())}function w(){var k=Dp(),j=x(k);if(n=arguments,a=this,l=k,j){if(s===void 0)return m(l);if(d)return clearTimeout(s),s=setTimeout(y,t),p(l)}return s===void 0&&(s=setTimeout(y,t)),i}return w.cancel=b,w.flush=S,w}var j8=S8,O8=j8,P8=Do,_8="Expected a function";function N8(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(_8);return P8(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),O8(e,t,{leading:n,maxWait:t,trailing:a})}var A8=N8;const mO=It(A8);function kc(e){"@babel/helpers - typeof";return kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kc(e)}function Zb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zb(Object(r),!0).forEach(function(n){M8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function M8(e,t,r){return t=C8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C8(e){var t=E8(e,"string");return kc(t)=="symbol"?t:t+""}function E8(e,t){if(kc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function T8(e,t){return L8(e)||R8(e,t)||D8(e,t)||$8()}function $8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D8(e,t){if(e){if(typeof e=="string")return Jb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jb(e,t)}}function Jb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function R8(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function L8(e){if(Array.isArray(e))return e}var Ps=O.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,o=e.width,i=o===void 0?"100%":o,s=e.height,l=s===void 0?"100%":s,c=e.minWidth,f=c===void 0?0:c,d=e.minHeight,h=e.maxHeight,p=e.children,m=e.debounce,v=m===void 0?0:m,x=e.id,y=e.className,g=e.onResize,b=e.style,S=b===void 0?{}:b,w=O.useRef(null),k=O.useRef();k.current=g,O.useImperativeHandle(t,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var j=O.useState({containerWidth:a.width,containerHeight:a.height}),P=T8(j,2),_=P[0],A=P[1],N=O.useCallback(function(z,D){A(function(T){var L=Math.round(z),W=Math.round(D);return T.containerWidth===L&&T.containerHeight===W?T:{containerWidth:L,containerHeight:W}})},[]);O.useEffect(function(){var z=function(R){var B,te=R[0].contentRect,X=te.width,H=te.height;N(X,H),(B=k.current)===null||B===void 0||B.call(k,X,H)};v>0&&(z=mO(z,v,{trailing:!0,leading:!1}));var D=new ResizeObserver(z),T=w.current.getBoundingClientRect(),L=T.width,W=T.height;return N(L,W),D.observe(w.current),function(){D.disconnect()}},[N,v]);var E=O.useMemo(function(){var z=_.containerWidth,D=_.containerHeight;if(z<0||D<0)return null;Ha(ei(i)||ei(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,l),Ha(!r||r>0,"The aspect(%s) must be greater than zero.",r);var T=ei(i)?z:i,L=ei(l)?D:l;r&&r>0&&(T?L=T/r:L&&(T=L*r),h&&L>h&&(L=h)),Ha(T>0||L>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,T,L,i,l,f,d,r);var W=!Array.isArray(p)&&Ga(p.type).endsWith("Chart");return M.Children.map(p,function(I){return M.isValidElement(I)?O.cloneElement(I,Fu({width:T,height:L},W?{style:Fu({height:"100%",width:"100%",maxHeight:L,maxWidth:T},I.props.style)}:{})):I})},[r,p,l,h,d,f,_,i]);return M.createElement("div",{id:x?"".concat(x):void 0,className:et("recharts-responsive-container",y),style:Fu(Fu({},S),{},{width:i,height:l,minWidth:f,minHeight:d,maxHeight:h}),ref:w},E)}),Xy=function(t){return null};Xy.displayName="Cell";function Sc(e){"@babel/helpers - typeof";return Sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sc(e)}function e1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e1(Object(r),!0).forEach(function(n){I8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function I8(e,t,r){return t=B8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B8(e){var t=F8(e,"string");return Sc(t)=="symbol"?t:t+""}function F8(e,t){if(Sc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ii={widthCache:{},cacheCount:0},z8=2e3,W8={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},t1="recharts_measurement_span";function U8(e){var t=Pg({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Kl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Lo.isSsr)return{width:0,height:0};var n=U8(r),a=JSON.stringify({text:t,copyStyle:n});if(Ii.widthCache[a])return Ii.widthCache[a];try{var o=document.getElementById(t1);o||(o=document.createElement("span"),o.setAttribute("id",t1),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var i=Pg(Pg({},W8),n);Object.assign(o.style,i),o.textContent="".concat(t);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return Ii.widthCache[a]=l,++Ii.cacheCount>z8&&(Ii.cacheCount=0,Ii.widthCache={}),l}catch{return{width:0,height:0}}},G8=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function jc(e){"@babel/helpers - typeof";return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jc(e)}function Yf(e,t){return X8(e)||K8(e,t)||V8(e,t)||H8()}function H8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V8(e,t){if(e){if(typeof e=="string")return r1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return r1(e,t)}}function r1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function K8(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function X8(e){if(Array.isArray(e))return e}function Y8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n1(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Q8(n.key),n)}}function q8(e,t,r){return t&&n1(e.prototype,t),r&&n1(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Q8(e){var t=Z8(e,"string");return jc(t)=="symbol"?t:t+""}function Z8(e,t){if(jc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var a1=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,o1=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,J8=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,eF=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,yO={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},tF=Object.keys(yO),ts="NaN";function rF(e,t){return e*yO[t]}var zu=function(){function e(t,r){Y8(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!J8.test(r)&&(this.num=NaN,this.unit=""),tF.includes(r)&&(this.num=rF(t,r),this.unit="px")}return q8(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=eF.exec(r))!==null&&n!==void 0?n:[],o=Yf(a,3),i=o[1],s=o[2];return new e(parseFloat(i),s??"")}}])}();function vO(e){if(e.includes(ts))return ts;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=a1.exec(t))!==null&&r!==void 0?r:[],a=Yf(n,4),o=a[1],i=a[2],s=a[3],l=zu.parse(o??""),c=zu.parse(s??""),f=i==="*"?l.multiply(c):l.divide(c);if(f.isNaN())return ts;t=t.replace(a1,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,h=(d=o1.exec(t))!==null&&d!==void 0?d:[],p=Yf(h,4),m=p[1],v=p[2],x=p[3],y=zu.parse(m??""),g=zu.parse(x??""),b=v==="+"?y.add(g):y.subtract(g);if(b.isNaN())return ts;t=t.replace(o1,b.toString())}return t}var i1=/\(([^()]*)\)/;function nF(e){for(var t=e;t.includes("(");){var r=i1.exec(t),n=Yf(r,2),a=n[1];t=t.replace(i1,vO(a))}return t}function aF(e){var t=e.replace(/\s+/g,"");return t=nF(t),t=vO(t),t}function oF(e){try{return aF(e)}catch{return ts}}function Rp(e){var t=oF(e.slice(5,-1));return t===ts?"":t}var iF=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],sF=["dx","dy","angle","className","breakAll"];function _g(){return _g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_g.apply(this,arguments)}function s1(e,t){if(e==null)return{};var r=lF(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function lF(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function l1(e,t){return dF(e)||fF(e,t)||uF(e,t)||cF()}function cF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uF(e,t){if(e){if(typeof e=="string")return c1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c1(e,t)}}function c1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fF(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function dF(e){if(Array.isArray(e))return e}var xO=/[ \f\n\r\t\v\u2028\u2029]+/,bO=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var o=[];De(r)||(n?o=r.toString().split(""):o=r.toString().split(xO));var i=o.map(function(l){return{word:l,width:Kl(l,a).width}}),s=n?0:Kl("",a).width;return{wordsWithComputedWidth:i,spaceWidth:s}}catch{return null}},hF=function(t,r,n,a,o){var i=t.maxLines,s=t.children,l=t.style,c=t.breakAll,f=se(i),d=s,h=function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return T.reduce(function(L,W){var I=W.word,R=W.width,B=L[L.length-1];if(B&&(a==null||o||B.width+R+n<Number(a)))B.words.push(I),B.width+=R+n;else{var te={words:[I],width:R};L.push(te)}return L},[])},p=h(r),m=function(T){return T.reduce(function(L,W){return L.width>W.width?L:W})};if(!f)return p;for(var v="",x=function(T){var L=d.slice(0,T),W=bO({breakAll:c,style:l,children:L+v}).wordsWithComputedWidth,I=h(W),R=I.length>i||m(I).width>Number(a);return[R,I]},y=0,g=d.length-1,b=0,S;y<=g&&b<=d.length-1;){var w=Math.floor((y+g)/2),k=w-1,j=x(k),P=l1(j,2),_=P[0],A=P[1],N=x(w),E=l1(N,1),z=E[0];if(!_&&!z&&(y=w+1),_&&z&&(g=w-1),!_&&z){S=A;break}b++}return S||p},u1=function(t){var r=De(t)?[]:t.toString().split(xO);return[{words:r}]},pF=function(t){var r=t.width,n=t.scaleToFit,a=t.children,o=t.style,i=t.breakAll,s=t.maxLines;if((r||n)&&!Lo.isSsr){var l,c,f=bO({breakAll:i,children:a,style:o});if(f){var d=f.wordsWithComputedWidth,h=f.spaceWidth;l=d,c=h}else return u1(a);return hF({breakAll:i,children:a,maxLines:s,style:o},l,c,r,n)}return u1(a)},f1="#808080",qf=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,o=a===void 0?0:a,i=t.lineHeight,s=i===void 0?"1em":i,l=t.capHeight,c=l===void 0?"0.71em":l,f=t.scaleToFit,d=f===void 0?!1:f,h=t.textAnchor,p=h===void 0?"start":h,m=t.verticalAnchor,v=m===void 0?"end":m,x=t.fill,y=x===void 0?f1:x,g=s1(t,iF),b=O.useMemo(function(){return pF({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:d,style:g.style,width:g.width})},[g.breakAll,g.children,g.maxLines,d,g.style,g.width]),S=g.dx,w=g.dy,k=g.angle,j=g.className,P=g.breakAll,_=s1(g,sF);if(!Or(n)||!Or(o))return null;var A=n+(se(S)?S:0),N=o+(se(w)?w:0),E;switch(v){case"start":E=Rp("calc(".concat(c,")"));break;case"middle":E=Rp("calc(".concat((b.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:E=Rp("calc(".concat(b.length-1," * -").concat(s,")"));break}var z=[];if(d){var D=b[0].width,T=g.width;z.push("scale(".concat((se(T)?T/D:1)/D,")"))}return k&&z.push("rotate(".concat(k,", ").concat(A,", ").concat(N,")")),z.length&&(_.transform=z.join(" ")),M.createElement("text",_g({},Le(_,!0),{x:A,y:N,className:et("recharts-text",j),textAnchor:p,fill:y.includes("url")?f1:y}),b.map(function(L,W){var I=L.words.join(P?"":" ");return M.createElement("tspan",{x:A,dy:W===0?E:s,key:"".concat(I,"-").concat(W)},I)}))};function Ao(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function gF(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Yy(e){let t,r,n;e.length!==2?(t=Ao,r=(s,l)=>Ao(e(s),l),n=(s,l)=>e(s)-l):(t=e===Ao||e===gF?e:mF,r=e,n=e);function a(s,l,c=0,f=s.length){if(c<f){if(t(l,l)!==0)return f;do{const d=c+f>>>1;r(s[d],l)<0?c=d+1:f=d}while(c<f)}return c}function o(s,l,c=0,f=s.length){if(c<f){if(t(l,l)!==0)return f;do{const d=c+f>>>1;r(s[d],l)<=0?c=d+1:f=d}while(c<f)}return c}function i(s,l,c=0,f=s.length){const d=a(s,l,c,f-1);return d>c&&n(s[d-1],l)>-n(s[d],l)?d-1:d}return{left:a,center:i,right:o}}function mF(){return 0}function wO(e){return e===null?NaN:+e}function*yF(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const vF=Yy(Ao),iu=vF.right;Yy(wO).center;class d1 extends Map{constructor(t,r=wF){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(h1(this,t))}has(t){return super.has(h1(this,t))}set(t,r){return super.set(xF(this,t),r)}delete(t){return super.delete(bF(this,t))}}function h1({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function xF({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function bF({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function wF(e){return e!==null&&typeof e=="object"?e.valueOf():e}function kF(e=Ao){if(e===Ao)return kO;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function kO(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const SF=Math.sqrt(50),jF=Math.sqrt(10),OF=Math.sqrt(2);function Qf(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),o=n/Math.pow(10,a),i=o>=SF?10:o>=jF?5:o>=OF?2:1;let s,l,c;return a<0?(c=Math.pow(10,-a)/i,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*i,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=r&&r<2?Qf(e,t,r*2):[s,l,c]}function Ng(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,o,i]=n?Qf(t,e,r):Qf(e,t,r);if(!(o>=a))return[];const s=o-a+1,l=new Array(s);if(n)if(i<0)for(let c=0;c<s;++c)l[c]=(o-c)/-i;else for(let c=0;c<s;++c)l[c]=(o-c)*i;else if(i<0)for(let c=0;c<s;++c)l[c]=(a+c)/-i;else for(let c=0;c<s;++c)l[c]=(a+c)*i;return l}function Ag(e,t,r){return t=+t,e=+e,r=+r,Qf(e,t,r)[2]}function Mg(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Ag(t,e,r):Ag(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function p1(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function g1(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function SO(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?kO:kF(a);n>r;){if(n-r>600){const l=n-r+1,c=t-r+1,f=Math.log(l),d=.5*Math.exp(2*f/3),h=.5*Math.sqrt(f*d*(l-d)/l)*(c-l/2<0?-1:1),p=Math.max(r,Math.floor(t-c*d/l+h)),m=Math.min(n,Math.floor(t+(l-c)*d/l+h));SO(e,t,p,m,a)}const o=e[t];let i=r,s=n;for(Ol(e,r,t),a(e[n],o)>0&&Ol(e,r,n);i<s;){for(Ol(e,i,s),++i,--s;a(e[i],o)<0;)++i;for(;a(e[s],o)>0;)--s}a(e[r],o)===0?Ol(e,r,s):(++s,Ol(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function Ol(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function PF(e,t,r){if(e=Float64Array.from(yF(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return g1(e);if(t>=1)return p1(e);var n,a=(n-1)*t,o=Math.floor(a),i=p1(SO(e,o).subarray(0,o+1)),s=g1(e.subarray(o+1));return i+(s-i)*(a-o)}}function _F(e,t,r=wO){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,o=Math.floor(a),i=+r(e[o],o,e),s=+r(e[o+1],o+1,e);return i+(s-i)*(a-o)}}function NF(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,o=new Array(a);++n<a;)o[n]=e+n*r;return o}function Jn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ao(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Cg=Symbol("implicit");function qy(){var e=new d1,t=[],r=[],n=Cg;function a(o){let i=e.get(o);if(i===void 0){if(n!==Cg)return n;e.set(o,i=t.push(o)-1)}return r[i%r.length]}return a.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new d1;for(const i of o)e.has(i)||e.set(i,t.push(i)-1);return a},a.range=function(o){return arguments.length?(r=Array.from(o),a):r.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return qy(t,r).unknown(n)},Jn.apply(a,arguments),a}function Oc(){var e=qy().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,o,i,s=!1,l=0,c=0,f=.5;delete e.unknown;function d(){var h=t().length,p=a<n,m=p?a:n,v=p?n:a;o=(v-m)/Math.max(1,h-l+c*2),s&&(o=Math.floor(o)),m+=(v-m-o*(h-l))*f,i=o*(1-l),s&&(m=Math.round(m),i=Math.round(i));var x=NF(h).map(function(y){return m+o*y});return r(p?x.reverse():x)}return e.domain=function(h){return arguments.length?(t(h),d()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,d()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,s=!0,d()},e.bandwidth=function(){return i},e.step=function(){return o},e.round=function(h){return arguments.length?(s=!!h,d()):s},e.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),d()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},e.paddingOuter=function(h){return arguments.length?(c=+h,d()):c},e.align=function(h){return arguments.length?(f=Math.max(0,Math.min(1,h)),d()):f},e.copy=function(){return Oc(t(),[n,a]).round(s).paddingInner(l).paddingOuter(c).align(f)},Jn.apply(d(),arguments)}function jO(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return jO(t())},e}function Xl(){return jO(Oc.apply(null,arguments).paddingInner(1))}function Qy(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function OO(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function su(){}var Pc=.7,Zf=1/Pc,fs="\\s*([+-]?\\d+)\\s*",_c="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Na="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",AF=/^#([0-9a-f]{3,8})$/,MF=new RegExp(`^rgb\\(${fs},${fs},${fs}\\)$`),CF=new RegExp(`^rgb\\(${Na},${Na},${Na}\\)$`),EF=new RegExp(`^rgba\\(${fs},${fs},${fs},${_c}\\)$`),TF=new RegExp(`^rgba\\(${Na},${Na},${Na},${_c}\\)$`),$F=new RegExp(`^hsl\\(${_c},${Na},${Na}\\)$`),DF=new RegExp(`^hsla\\(${_c},${Na},${Na},${_c}\\)$`),m1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Qy(su,Nc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:y1,formatHex:y1,formatHex8:RF,formatHsl:LF,formatRgb:v1,toString:v1});function y1(){return this.rgb().formatHex()}function RF(){return this.rgb().formatHex8()}function LF(){return PO(this).formatHsl()}function v1(){return this.rgb().formatRgb()}function Nc(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=AF.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?x1(t):r===3?new mn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Wu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Wu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=MF.exec(e))?new mn(t[1],t[2],t[3],1):(t=CF.exec(e))?new mn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=EF.exec(e))?Wu(t[1],t[2],t[3],t[4]):(t=TF.exec(e))?Wu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=$F.exec(e))?k1(t[1],t[2]/100,t[3]/100,1):(t=DF.exec(e))?k1(t[1],t[2]/100,t[3]/100,t[4]):m1.hasOwnProperty(e)?x1(m1[e]):e==="transparent"?new mn(NaN,NaN,NaN,0):null}function x1(e){return new mn(e>>16&255,e>>8&255,e&255,1)}function Wu(e,t,r,n){return n<=0&&(e=t=r=NaN),new mn(e,t,r,n)}function IF(e){return e instanceof su||(e=Nc(e)),e?(e=e.rgb(),new mn(e.r,e.g,e.b,e.opacity)):new mn}function Eg(e,t,r,n){return arguments.length===1?IF(e):new mn(e,t,r,n??1)}function mn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Qy(mn,Eg,OO(su,{brighter(e){return e=e==null?Zf:Math.pow(Zf,e),new mn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Pc:Math.pow(Pc,e),new mn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new mn(li(this.r),li(this.g),li(this.b),Jf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:b1,formatHex:b1,formatHex8:BF,formatRgb:w1,toString:w1}));function b1(){return`#${ti(this.r)}${ti(this.g)}${ti(this.b)}`}function BF(){return`#${ti(this.r)}${ti(this.g)}${ti(this.b)}${ti((isNaN(this.opacity)?1:this.opacity)*255)}`}function w1(){const e=Jf(this.opacity);return`${e===1?"rgb(":"rgba("}${li(this.r)}, ${li(this.g)}, ${li(this.b)}${e===1?")":`, ${e})`}`}function Jf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function li(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ti(e){return e=li(e),(e<16?"0":"")+e.toString(16)}function k1(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new la(e,t,r,n)}function PO(e){if(e instanceof la)return new la(e.h,e.s,e.l,e.opacity);if(e instanceof su||(e=Nc(e)),!e)return new la;if(e instanceof la)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),o=Math.max(t,r,n),i=NaN,s=o-a,l=(o+a)/2;return s?(t===o?i=(r-n)/s+(r<n)*6:r===o?i=(n-t)/s+2:i=(t-r)/s+4,s/=l<.5?o+a:2-o-a,i*=60):s=l>0&&l<1?0:i,new la(i,s,l,e.opacity)}function FF(e,t,r,n){return arguments.length===1?PO(e):new la(e,t,r,n??1)}function la(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Qy(la,FF,OO(su,{brighter(e){return e=e==null?Zf:Math.pow(Zf,e),new la(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Pc:Math.pow(Pc,e),new la(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new mn(Lp(e>=240?e-240:e+120,a,n),Lp(e,a,n),Lp(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new la(S1(this.h),Uu(this.s),Uu(this.l),Jf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Jf(this.opacity);return`${e===1?"hsl(":"hsla("}${S1(this.h)}, ${Uu(this.s)*100}%, ${Uu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function S1(e){return e=(e||0)%360,e<0?e+360:e}function Uu(e){return Math.max(0,Math.min(1,e||0))}function Lp(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Zy=e=>()=>e;function zF(e,t){return function(r){return e+r*t}}function WF(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function UF(e){return(e=+e)==1?_O:function(t,r){return r-t?WF(t,r,e):Zy(isNaN(t)?r:t)}}function _O(e,t){var r=t-e;return r?zF(e,r):Zy(isNaN(e)?t:e)}const j1=function e(t){var r=UF(t);function n(a,o){var i=r((a=Eg(a)).r,(o=Eg(o)).r),s=r(a.g,o.g),l=r(a.b,o.b),c=_O(a.opacity,o.opacity);return function(f){return a.r=i(f),a.g=s(f),a.b=l(f),a.opacity=c(f),a+""}}return n.gamma=e,n}(1);function GF(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(o){for(a=0;a<r;++a)n[a]=e[a]*(1-o)+t[a]*o;return n}}function HF(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function VF(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),o=new Array(r),i;for(i=0;i<n;++i)a[i]=sl(e[i],t[i]);for(;i<r;++i)o[i]=t[i];return function(s){for(i=0;i<n;++i)o[i]=a[i](s);return o}}function KF(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function ed(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function XF(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=sl(e[a],t[a]):n[a]=t[a];return function(o){for(a in r)n[a]=r[a](o);return n}}var Tg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ip=new RegExp(Tg.source,"g");function YF(e){return function(){return e}}function qF(e){return function(t){return e(t)+""}}function QF(e,t){var r=Tg.lastIndex=Ip.lastIndex=0,n,a,o,i=-1,s=[],l=[];for(e=e+"",t=t+"";(n=Tg.exec(e))&&(a=Ip.exec(t));)(o=a.index)>r&&(o=t.slice(r,o),s[i]?s[i]+=o:s[++i]=o),(n=n[0])===(a=a[0])?s[i]?s[i]+=a:s[++i]=a:(s[++i]=null,l.push({i,x:ed(n,a)})),r=Ip.lastIndex;return r<t.length&&(o=t.slice(r),s[i]?s[i]+=o:s[++i]=o),s.length<2?l[0]?qF(l[0].x):YF(t):(t=l.length,function(c){for(var f=0,d;f<t;++f)s[(d=l[f]).i]=d.x(c);return s.join("")})}function sl(e,t){var r=typeof t,n;return t==null||r==="boolean"?Zy(t):(r==="number"?ed:r==="string"?(n=Nc(t))?(t=n,j1):QF:t instanceof Nc?j1:t instanceof Date?KF:HF(t)?GF:Array.isArray(t)?VF:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?XF:ed)(e,t)}function Jy(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function ZF(e,t){t===void 0&&(t=e,e=sl);for(var r=0,n=t.length-1,a=t[0],o=new Array(n<0?0:n);r<n;)o[r]=e(a,a=t[++r]);return function(i){var s=Math.max(0,Math.min(n-1,Math.floor(i*=n)));return o[s](i-s)}}function JF(e){return function(){return e}}function td(e){return+e}var O1=[0,1];function an(e){return e}function $g(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:JF(isNaN(t)?NaN:.5)}function ez(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function tz(e,t,r){var n=e[0],a=e[1],o=t[0],i=t[1];return a<n?(n=$g(a,n),o=r(i,o)):(n=$g(n,a),o=r(o,i)),function(s){return o(n(s))}}function rz(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),o=new Array(n),i=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<n;)a[i]=$g(e[i],e[i+1]),o[i]=r(t[i],t[i+1]);return function(s){var l=iu(e,s,1,n)-1;return o[l](a[l](s))}}function lu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function jh(){var e=O1,t=O1,r=sl,n,a,o,i=an,s,l,c;function f(){var h=Math.min(e.length,t.length);return i!==an&&(i=ez(e[0],e[h-1])),s=h>2?rz:tz,l=c=null,d}function d(h){return h==null||isNaN(h=+h)?o:(l||(l=s(e.map(n),t,r)))(n(i(h)))}return d.invert=function(h){return i(a((c||(c=s(t,e.map(n),ed)))(h)))},d.domain=function(h){return arguments.length?(e=Array.from(h,td),f()):e.slice()},d.range=function(h){return arguments.length?(t=Array.from(h),f()):t.slice()},d.rangeRound=function(h){return t=Array.from(h),r=Jy,f()},d.clamp=function(h){return arguments.length?(i=h?!0:an,f()):i!==an},d.interpolate=function(h){return arguments.length?(r=h,f()):r},d.unknown=function(h){return arguments.length?(o=h,d):o},function(h,p){return n=h,a=p,f()}}function ev(){return jh()(an,an)}function nz(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function rd(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function _s(e){return e=rd(Math.abs(e)),e?e[1]:NaN}function az(e,t){return function(r,n){for(var a=r.length,o=[],i=0,s=e[0],l=0;a>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),o.push(r.substring(a-=s,a+s)),!((l+=s+1)>n));)s=e[i=(i+1)%e.length];return o.reverse().join(t)}}function oz(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var iz=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ac(e){if(!(t=iz.exec(e)))throw new Error("invalid format: "+e);var t;return new tv({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ac.prototype=tv.prototype;function tv(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}tv.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function sz(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var NO;function lz(e,t){var r=rd(e,t);if(!r)return e+"";var n=r[0],a=r[1],o=a-(NO=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=n.length;return o===i?n:o>i?n+new Array(o-i+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+rd(e,Math.max(0,t+o-1))[0]}function P1(e,t){var r=rd(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const _1={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:nz,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>P1(e*100,t),r:P1,s:lz,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function N1(e){return e}var A1=Array.prototype.map,M1=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function cz(e){var t=e.grouping===void 0||e.thousands===void 0?N1:az(A1.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?N1:oz(A1.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(d){d=Ac(d);var h=d.fill,p=d.align,m=d.sign,v=d.symbol,x=d.zero,y=d.width,g=d.comma,b=d.precision,S=d.trim,w=d.type;w==="n"?(g=!0,w="g"):_1[w]||(b===void 0&&(b=12),S=!0,w="g"),(x||h==="0"&&p==="=")&&(x=!0,h="0",p="=");var k=v==="$"?r:v==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",j=v==="$"?n:/[%p]/.test(w)?i:"",P=_1[w],_=/[defgprs%]/.test(w);b=b===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function A(N){var E=k,z=j,D,T,L;if(w==="c")z=P(N)+z,N="";else{N=+N;var W=N<0||1/N<0;if(N=isNaN(N)?l:P(Math.abs(N),b),S&&(N=sz(N)),W&&+N==0&&m!=="+"&&(W=!1),E=(W?m==="("?m:s:m==="-"||m==="("?"":m)+E,z=(w==="s"?M1[8+NO/3]:"")+z+(W&&m==="("?")":""),_){for(D=-1,T=N.length;++D<T;)if(L=N.charCodeAt(D),48>L||L>57){z=(L===46?a+N.slice(D+1):N.slice(D))+z,N=N.slice(0,D);break}}}g&&!x&&(N=t(N,1/0));var I=E.length+N.length+z.length,R=I<y?new Array(y-I+1).join(h):"";switch(g&&x&&(N=t(R+N,R.length?y-z.length:1/0),R=""),p){case"<":N=E+N+z+R;break;case"=":N=E+R+N+z;break;case"^":N=R.slice(0,I=R.length>>1)+E+N+z+R.slice(I);break;default:N=R+E+N+z;break}return o(N)}return A.toString=function(){return d+""},A}function f(d,h){var p=c((d=Ac(d),d.type="f",d)),m=Math.max(-8,Math.min(8,Math.floor(_s(h)/3)))*3,v=Math.pow(10,-m),x=M1[8+m/3];return function(y){return p(v*y)+x}}return{format:c,formatPrefix:f}}var Gu,rv,AO;uz({thousands:",",grouping:[3],currency:["$",""]});function uz(e){return Gu=cz(e),rv=Gu.format,AO=Gu.formatPrefix,Gu}function fz(e){return Math.max(0,-_s(Math.abs(e)))}function dz(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(_s(t)/3)))*3-_s(Math.abs(e)))}function hz(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,_s(t)-_s(e))+1}function MO(e,t,r,n){var a=Mg(e,t,r),o;switch(n=Ac(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(o=dz(a,i))&&(n.precision=o),AO(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=hz(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=fz(a))&&(n.precision=o-(n.type==="%")*2);break}}return rv(n)}function Io(e){var t=e.domain;return e.ticks=function(r){var n=t();return Ng(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return MO(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,o=n.length-1,i=n[a],s=n[o],l,c,f=10;for(s<i&&(c=i,i=s,s=c,c=a,a=o,o=c);f-- >0;){if(c=Ag(i,s,r),c===l)return n[a]=i,n[o]=s,t(n);if(c>0)i=Math.floor(i/c)*c,s=Math.ceil(s/c)*c;else if(c<0)i=Math.ceil(i*c)/c,s=Math.floor(s*c)/c;else break;l=c}return e},e}function nd(){var e=ev();return e.copy=function(){return lu(e,nd())},Jn.apply(e,arguments),Io(e)}function CO(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,td),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return CO(e).unknown(t)},e=arguments.length?Array.from(e,td):[0,1],Io(r)}function EO(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],o=e[n],i;return o<a&&(i=r,r=n,n=i,i=a,a=o,o=i),e[r]=t.floor(a),e[n]=t.ceil(o),e}function C1(e){return Math.log(e)}function E1(e){return Math.exp(e)}function pz(e){return-Math.log(-e)}function gz(e){return-Math.exp(-e)}function mz(e){return isFinite(e)?+("1e"+e):e<0?0:e}function yz(e){return e===10?mz:e===Math.E?Math.exp:t=>Math.pow(e,t)}function vz(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function T1(e){return(t,r)=>-e(-t,r)}function nv(e){const t=e(C1,E1),r=t.domain;let n=10,a,o;function i(){return a=vz(n),o=yz(n),r()[0]<0?(a=T1(a),o=T1(o),e(pz,gz)):e(C1,E1),t}return t.base=function(s){return arguments.length?(n=+s,i()):n},t.domain=function(s){return arguments.length?(r(s),i()):r()},t.ticks=s=>{const l=r();let c=l[0],f=l[l.length-1];const d=f<c;d&&([c,f]=[f,c]);let h=a(c),p=a(f),m,v;const x=s==null?10:+s;let y=[];if(!(n%1)&&p-h<x){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(m=1;m<n;++m)if(v=h<0?m/o(-h):m*o(h),!(v<c)){if(v>f)break;y.push(v)}}else for(;h<=p;++h)for(m=n-1;m>=1;--m)if(v=h>0?m/o(-h):m*o(h),!(v<c)){if(v>f)break;y.push(v)}y.length*2<x&&(y=Ng(c,f,x))}else y=Ng(h,p,Math.min(p-h,x)).map(o);return d?y.reverse():y},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Ac(l)).precision==null&&(l.trim=!0),l=rv(l)),s===1/0)return l;const c=Math.max(1,n*s/t.ticks().length);return f=>{let d=f/o(Math.round(a(f)));return d*n<n-.5&&(d*=n),d<=c?l(f):""}},t.nice=()=>r(EO(r(),{floor:s=>o(Math.floor(a(s))),ceil:s=>o(Math.ceil(a(s)))})),t}function TO(){const e=nv(jh()).domain([1,10]);return e.copy=()=>lu(e,TO()).base(e.base()),Jn.apply(e,arguments),e}function $1(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function D1(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function av(e){var t=1,r=e($1(t),D1(t));return r.constant=function(n){return arguments.length?e($1(t=+n),D1(t)):t},Io(r)}function $O(){var e=av(jh());return e.copy=function(){return lu(e,$O()).constant(e.constant())},Jn.apply(e,arguments)}function R1(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function xz(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function bz(e){return e<0?-e*e:e*e}function ov(e){var t=e(an,an),r=1;function n(){return r===1?e(an,an):r===.5?e(xz,bz):e(R1(r),R1(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Io(t)}function iv(){var e=ov(jh());return e.copy=function(){return lu(e,iv()).exponent(e.exponent())},Jn.apply(e,arguments),e}function wz(){return iv.apply(null,arguments).exponent(.5)}function L1(e){return Math.sign(e)*e*e}function kz(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function DO(){var e=ev(),t=[0,1],r=!1,n;function a(o){var i=kz(e(o));return isNaN(i)?n:r?Math.round(i):i}return a.invert=function(o){return e.invert(L1(o))},a.domain=function(o){return arguments.length?(e.domain(o),a):e.domain()},a.range=function(o){return arguments.length?(e.range((t=Array.from(o,td)).map(L1)),a):t.slice()},a.rangeRound=function(o){return a.range(o).round(!0)},a.round=function(o){return arguments.length?(r=!!o,a):r},a.clamp=function(o){return arguments.length?(e.clamp(o),a):e.clamp()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return DO(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Jn.apply(a,arguments),Io(a)}function RO(){var e=[],t=[],r=[],n;function a(){var i=0,s=Math.max(1,t.length);for(r=new Array(s-1);++i<s;)r[i-1]=_F(e,i/s);return o}function o(i){return i==null||isNaN(i=+i)?n:t[iu(r,i)]}return o.invertExtent=function(i){var s=t.indexOf(i);return s<0?[NaN,NaN]:[s>0?r[s-1]:e[0],s<r.length?r[s]:e[e.length-1]]},o.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let s of i)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Ao),a()},o.range=function(i){return arguments.length?(t=Array.from(i),a()):t.slice()},o.unknown=function(i){return arguments.length?(n=i,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return RO().domain(e).range(t).unknown(n)},Jn.apply(o,arguments)}function LO(){var e=0,t=1,r=1,n=[.5],a=[0,1],o;function i(l){return l!=null&&l<=l?a[iu(n,l,0,r)]:o}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return i}return i.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},i.range=function(l){return arguments.length?(r=(a=Array.from(l)).length-1,s()):a.slice()},i.invertExtent=function(l){var c=a.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},i.unknown=function(l){return arguments.length&&(o=l),i},i.thresholds=function(){return n.slice()},i.copy=function(){return LO().domain([e,t]).range(a).unknown(o)},Jn.apply(Io(i),arguments)}function IO(){var e=[.5],t=[0,1],r,n=1;function a(o){return o!=null&&o<=o?t[iu(e,o,0,n)]:r}return a.domain=function(o){return arguments.length?(e=Array.from(o),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(o){return arguments.length?(t=Array.from(o),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(o){var i=t.indexOf(o);return[e[i-1],e[i]]},a.unknown=function(o){return arguments.length?(r=o,a):r},a.copy=function(){return IO().domain(e).range(t).unknown(r)},Jn.apply(a,arguments)}const Bp=new Date,Fp=new Date;function _r(e,t,r,n){function a(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return a.floor=o=>(e(o=new Date(+o)),o),a.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),a.round=o=>{const i=a(o),s=a.ceil(o);return o-i<s-o?i:s},a.offset=(o,i)=>(t(o=new Date(+o),i==null?1:Math.floor(i)),o),a.range=(o,i,s)=>{const l=[];if(o=a.ceil(o),s=s==null?1:Math.floor(s),!(o<i)||!(s>0))return l;let c;do l.push(c=new Date(+o)),t(o,s),e(o);while(c<o&&o<i);return l},a.filter=o=>_r(i=>{if(i>=i)for(;e(i),!o(i);)i.setTime(i-1)},(i,s)=>{if(i>=i)if(s<0)for(;++s<=0;)for(;t(i,-1),!o(i););else for(;--s>=0;)for(;t(i,1),!o(i););}),r&&(a.count=(o,i)=>(Bp.setTime(+o),Fp.setTime(+i),e(Bp),e(Fp),Math.floor(r(Bp,Fp))),a.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?a.filter(n?i=>n(i)%o===0:i=>a.count(0,i)%o===0):a)),a}const ad=_r(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);ad.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?_r(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):ad);ad.range;const Fa=1e3,Hn=Fa*60,za=Hn*60,Za=za*24,sv=Za*7,I1=Za*30,zp=Za*365,ri=_r(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Fa)},(e,t)=>(t-e)/Fa,e=>e.getUTCSeconds());ri.range;const lv=_r(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Fa)},(e,t)=>{e.setTime(+e+t*Hn)},(e,t)=>(t-e)/Hn,e=>e.getMinutes());lv.range;const cv=_r(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Hn)},(e,t)=>(t-e)/Hn,e=>e.getUTCMinutes());cv.range;const uv=_r(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Fa-e.getMinutes()*Hn)},(e,t)=>{e.setTime(+e+t*za)},(e,t)=>(t-e)/za,e=>e.getHours());uv.range;const fv=_r(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*za)},(e,t)=>(t-e)/za,e=>e.getUTCHours());fv.range;const cu=_r(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Hn)/Za,e=>e.getDate()-1);cu.range;const Oh=_r(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Za,e=>e.getUTCDate()-1);Oh.range;const BO=_r(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Za,e=>Math.floor(e/Za));BO.range;function _i(e){return _r(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Hn)/sv)}const Ph=_i(0),od=_i(1),Sz=_i(2),jz=_i(3),Ns=_i(4),Oz=_i(5),Pz=_i(6);Ph.range;od.range;Sz.range;jz.range;Ns.range;Oz.range;Pz.range;function Ni(e){return _r(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/sv)}const _h=Ni(0),id=Ni(1),_z=Ni(2),Nz=Ni(3),As=Ni(4),Az=Ni(5),Mz=Ni(6);_h.range;id.range;_z.range;Nz.range;As.range;Az.range;Mz.range;const dv=_r(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());dv.range;const hv=_r(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());hv.range;const Ja=_r(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ja.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:_r(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Ja.range;const eo=_r(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());eo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:_r(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});eo.range;function FO(e,t,r,n,a,o){const i=[[ri,1,Fa],[ri,5,5*Fa],[ri,15,15*Fa],[ri,30,30*Fa],[o,1,Hn],[o,5,5*Hn],[o,15,15*Hn],[o,30,30*Hn],[a,1,za],[a,3,3*za],[a,6,6*za],[a,12,12*za],[n,1,Za],[n,2,2*Za],[r,1,sv],[t,1,I1],[t,3,3*I1],[e,1,zp]];function s(c,f,d){const h=f<c;h&&([c,f]=[f,c]);const p=d&&typeof d.range=="function"?d:l(c,f,d),m=p?p.range(c,+f+1):[];return h?m.reverse():m}function l(c,f,d){const h=Math.abs(f-c)/d,p=Yy(([,,x])=>x).right(i,h);if(p===i.length)return e.every(Mg(c/zp,f/zp,d));if(p===0)return ad.every(Math.max(Mg(c,f,d),1));const[m,v]=i[h/i[p-1][2]<i[p][2]/h?p-1:p];return m.every(v)}return[s,l]}const[Cz,Ez]=FO(eo,hv,_h,BO,fv,cv),[Tz,$z]=FO(Ja,dv,Ph,cu,uv,lv);function Wp(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Up(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Pl(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Dz(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,o=e.days,i=e.shortDays,s=e.months,l=e.shortMonths,c=_l(a),f=Nl(a),d=_l(o),h=Nl(o),p=_l(i),m=Nl(i),v=_l(s),x=Nl(s),y=_l(l),g=Nl(l),b={a:W,A:I,b:R,B,c:null,d:G1,e:G1,f:a9,g:p9,G:m9,H:t9,I:r9,j:n9,L:zO,m:o9,M:i9,p:te,q:X,Q:K1,s:X1,S:s9,u:l9,U:c9,V:u9,w:f9,W:d9,x:null,X:null,y:h9,Y:g9,Z:y9,"%":V1},S={a:H,A:U,b:ue,B:fe,c:null,d:H1,e:H1,f:w9,g:C9,G:T9,H:v9,I:x9,j:b9,L:UO,m:k9,M:S9,p:ke,q:we,Q:K1,s:X1,S:j9,u:O9,U:P9,V:_9,w:N9,W:A9,x:null,X:null,y:M9,Y:E9,Z:$9,"%":V1},w={a:A,A:N,b:E,B:z,c:D,d:W1,e:W1,f:Qz,g:z1,G:F1,H:U1,I:U1,j:Kz,L:qz,m:Vz,M:Xz,p:_,q:Hz,Q:Jz,s:e9,S:Yz,u:Fz,U:zz,V:Wz,w:Bz,W:Uz,x:T,X:L,y:z1,Y:F1,Z:Gz,"%":Zz};b.x=k(r,b),b.X=k(n,b),b.c=k(t,b),S.x=k(r,S),S.X=k(n,S),S.c=k(t,S);function k(K,ce){return function(be){var Q=[],We=-1,Oe=0,Ie=K.length,qe,bt,Zt;for(be instanceof Date||(be=new Date(+be));++We<Ie;)K.charCodeAt(We)===37&&(Q.push(K.slice(Oe,We)),(bt=B1[qe=K.charAt(++We)])!=null?qe=K.charAt(++We):bt=qe==="e"?" ":"0",(Zt=ce[qe])&&(qe=Zt(be,bt)),Q.push(qe),Oe=We+1);return Q.push(K.slice(Oe,We)),Q.join("")}}function j(K,ce){return function(be){var Q=Pl(1900,void 0,1),We=P(Q,K,be+="",0),Oe,Ie;if(We!=be.length)return null;if("Q"in Q)return new Date(Q.Q);if("s"in Q)return new Date(Q.s*1e3+("L"in Q?Q.L:0));if(ce&&!("Z"in Q)&&(Q.Z=0),"p"in Q&&(Q.H=Q.H%12+Q.p*12),Q.m===void 0&&(Q.m="q"in Q?Q.q:0),"V"in Q){if(Q.V<1||Q.V>53)return null;"w"in Q||(Q.w=1),"Z"in Q?(Oe=Up(Pl(Q.y,0,1)),Ie=Oe.getUTCDay(),Oe=Ie>4||Ie===0?id.ceil(Oe):id(Oe),Oe=Oh.offset(Oe,(Q.V-1)*7),Q.y=Oe.getUTCFullYear(),Q.m=Oe.getUTCMonth(),Q.d=Oe.getUTCDate()+(Q.w+6)%7):(Oe=Wp(Pl(Q.y,0,1)),Ie=Oe.getDay(),Oe=Ie>4||Ie===0?od.ceil(Oe):od(Oe),Oe=cu.offset(Oe,(Q.V-1)*7),Q.y=Oe.getFullYear(),Q.m=Oe.getMonth(),Q.d=Oe.getDate()+(Q.w+6)%7)}else("W"in Q||"U"in Q)&&("w"in Q||(Q.w="u"in Q?Q.u%7:"W"in Q?1:0),Ie="Z"in Q?Up(Pl(Q.y,0,1)).getUTCDay():Wp(Pl(Q.y,0,1)).getDay(),Q.m=0,Q.d="W"in Q?(Q.w+6)%7+Q.W*7-(Ie+5)%7:Q.w+Q.U*7-(Ie+6)%7);return"Z"in Q?(Q.H+=Q.Z/100|0,Q.M+=Q.Z%100,Up(Q)):Wp(Q)}}function P(K,ce,be,Q){for(var We=0,Oe=ce.length,Ie=be.length,qe,bt;We<Oe;){if(Q>=Ie)return-1;if(qe=ce.charCodeAt(We++),qe===37){if(qe=ce.charAt(We++),bt=w[qe in B1?ce.charAt(We++):qe],!bt||(Q=bt(K,be,Q))<0)return-1}else if(qe!=be.charCodeAt(Q++))return-1}return Q}function _(K,ce,be){var Q=c.exec(ce.slice(be));return Q?(K.p=f.get(Q[0].toLowerCase()),be+Q[0].length):-1}function A(K,ce,be){var Q=p.exec(ce.slice(be));return Q?(K.w=m.get(Q[0].toLowerCase()),be+Q[0].length):-1}function N(K,ce,be){var Q=d.exec(ce.slice(be));return Q?(K.w=h.get(Q[0].toLowerCase()),be+Q[0].length):-1}function E(K,ce,be){var Q=y.exec(ce.slice(be));return Q?(K.m=g.get(Q[0].toLowerCase()),be+Q[0].length):-1}function z(K,ce,be){var Q=v.exec(ce.slice(be));return Q?(K.m=x.get(Q[0].toLowerCase()),be+Q[0].length):-1}function D(K,ce,be){return P(K,t,ce,be)}function T(K,ce,be){return P(K,r,ce,be)}function L(K,ce,be){return P(K,n,ce,be)}function W(K){return i[K.getDay()]}function I(K){return o[K.getDay()]}function R(K){return l[K.getMonth()]}function B(K){return s[K.getMonth()]}function te(K){return a[+(K.getHours()>=12)]}function X(K){return 1+~~(K.getMonth()/3)}function H(K){return i[K.getUTCDay()]}function U(K){return o[K.getUTCDay()]}function ue(K){return l[K.getUTCMonth()]}function fe(K){return s[K.getUTCMonth()]}function ke(K){return a[+(K.getUTCHours()>=12)]}function we(K){return 1+~~(K.getUTCMonth()/3)}return{format:function(K){var ce=k(K+="",b);return ce.toString=function(){return K},ce},parse:function(K){var ce=j(K+="",!1);return ce.toString=function(){return K},ce},utcFormat:function(K){var ce=k(K+="",S);return ce.toString=function(){return K},ce},utcParse:function(K){var ce=j(K+="",!0);return ce.toString=function(){return K},ce}}}var B1={"-":"",_:" ",0:"0"},Cr=/^\s*\d+/,Rz=/^%/,Lz=/[\\^$*+?|[\]().{}]/g;function st(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",o=a.length;return n+(o<r?new Array(r-o+1).join(t)+a:a)}function Iz(e){return e.replace(Lz,"\\$&")}function _l(e){return new RegExp("^(?:"+e.map(Iz).join("|")+")","i")}function Nl(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Bz(e,t,r){var n=Cr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Fz(e,t,r){var n=Cr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function zz(e,t,r){var n=Cr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Wz(e,t,r){var n=Cr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Uz(e,t,r){var n=Cr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function F1(e,t,r){var n=Cr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function z1(e,t,r){var n=Cr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Gz(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Hz(e,t,r){var n=Cr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Vz(e,t,r){var n=Cr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function W1(e,t,r){var n=Cr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Kz(e,t,r){var n=Cr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function U1(e,t,r){var n=Cr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Xz(e,t,r){var n=Cr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Yz(e,t,r){var n=Cr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function qz(e,t,r){var n=Cr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Qz(e,t,r){var n=Cr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Zz(e,t,r){var n=Rz.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Jz(e,t,r){var n=Cr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function e9(e,t,r){var n=Cr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function G1(e,t){return st(e.getDate(),t,2)}function t9(e,t){return st(e.getHours(),t,2)}function r9(e,t){return st(e.getHours()%12||12,t,2)}function n9(e,t){return st(1+cu.count(Ja(e),e),t,3)}function zO(e,t){return st(e.getMilliseconds(),t,3)}function a9(e,t){return zO(e,t)+"000"}function o9(e,t){return st(e.getMonth()+1,t,2)}function i9(e,t){return st(e.getMinutes(),t,2)}function s9(e,t){return st(e.getSeconds(),t,2)}function l9(e){var t=e.getDay();return t===0?7:t}function c9(e,t){return st(Ph.count(Ja(e)-1,e),t,2)}function WO(e){var t=e.getDay();return t>=4||t===0?Ns(e):Ns.ceil(e)}function u9(e,t){return e=WO(e),st(Ns.count(Ja(e),e)+(Ja(e).getDay()===4),t,2)}function f9(e){return e.getDay()}function d9(e,t){return st(od.count(Ja(e)-1,e),t,2)}function h9(e,t){return st(e.getFullYear()%100,t,2)}function p9(e,t){return e=WO(e),st(e.getFullYear()%100,t,2)}function g9(e,t){return st(e.getFullYear()%1e4,t,4)}function m9(e,t){var r=e.getDay();return e=r>=4||r===0?Ns(e):Ns.ceil(e),st(e.getFullYear()%1e4,t,4)}function y9(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+st(t/60|0,"0",2)+st(t%60,"0",2)}function H1(e,t){return st(e.getUTCDate(),t,2)}function v9(e,t){return st(e.getUTCHours(),t,2)}function x9(e,t){return st(e.getUTCHours()%12||12,t,2)}function b9(e,t){return st(1+Oh.count(eo(e),e),t,3)}function UO(e,t){return st(e.getUTCMilliseconds(),t,3)}function w9(e,t){return UO(e,t)+"000"}function k9(e,t){return st(e.getUTCMonth()+1,t,2)}function S9(e,t){return st(e.getUTCMinutes(),t,2)}function j9(e,t){return st(e.getUTCSeconds(),t,2)}function O9(e){var t=e.getUTCDay();return t===0?7:t}function P9(e,t){return st(_h.count(eo(e)-1,e),t,2)}function GO(e){var t=e.getUTCDay();return t>=4||t===0?As(e):As.ceil(e)}function _9(e,t){return e=GO(e),st(As.count(eo(e),e)+(eo(e).getUTCDay()===4),t,2)}function N9(e){return e.getUTCDay()}function A9(e,t){return st(id.count(eo(e)-1,e),t,2)}function M9(e,t){return st(e.getUTCFullYear()%100,t,2)}function C9(e,t){return e=GO(e),st(e.getUTCFullYear()%100,t,2)}function E9(e,t){return st(e.getUTCFullYear()%1e4,t,4)}function T9(e,t){var r=e.getUTCDay();return e=r>=4||r===0?As(e):As.ceil(e),st(e.getUTCFullYear()%1e4,t,4)}function $9(){return"+0000"}function V1(){return"%"}function K1(e){return+e}function X1(e){return Math.floor(+e/1e3)}var Bi,HO,VO;D9({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function D9(e){return Bi=Dz(e),HO=Bi.format,Bi.parse,VO=Bi.utcFormat,Bi.utcParse,Bi}function R9(e){return new Date(e)}function L9(e){return e instanceof Date?+e:+new Date(+e)}function pv(e,t,r,n,a,o,i,s,l,c){var f=ev(),d=f.invert,h=f.domain,p=c(".%L"),m=c(":%S"),v=c("%I:%M"),x=c("%I %p"),y=c("%a %d"),g=c("%b %d"),b=c("%B"),S=c("%Y");function w(k){return(l(k)<k?p:s(k)<k?m:i(k)<k?v:o(k)<k?x:n(k)<k?a(k)<k?y:g:r(k)<k?b:S)(k)}return f.invert=function(k){return new Date(d(k))},f.domain=function(k){return arguments.length?h(Array.from(k,L9)):h().map(R9)},f.ticks=function(k){var j=h();return e(j[0],j[j.length-1],k??10)},f.tickFormat=function(k,j){return j==null?w:c(j)},f.nice=function(k){var j=h();return(!k||typeof k.range!="function")&&(k=t(j[0],j[j.length-1],k??10)),k?h(EO(j,k)):f},f.copy=function(){return lu(f,pv(e,t,r,n,a,o,i,s,l,c))},f}function I9(){return Jn.apply(pv(Tz,$z,Ja,dv,Ph,cu,uv,lv,ri,HO).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function B9(){return Jn.apply(pv(Cz,Ez,eo,hv,_h,Oh,fv,cv,ri,VO).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Nh(){var e=0,t=1,r,n,a,o,i=an,s=!1,l;function c(d){return d==null||isNaN(d=+d)?l:i(a===0?.5:(d=(o(d)-r)*a,s?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([e,t]=d,r=o(e=+e),n=o(t=+t),a=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(d){return arguments.length?(s=!!d,c):s},c.interpolator=function(d){return arguments.length?(i=d,c):i};function f(d){return function(h){var p,m;return arguments.length?([p,m]=h,i=d(p,m),c):[i(0),i(1)]}}return c.range=f(sl),c.rangeRound=f(Jy),c.unknown=function(d){return arguments.length?(l=d,c):l},function(d){return o=d,r=d(e),n=d(t),a=r===n?0:1/(n-r),c}}function Bo(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function KO(){var e=Io(Nh()(an));return e.copy=function(){return Bo(e,KO())},ao.apply(e,arguments)}function XO(){var e=nv(Nh()).domain([1,10]);return e.copy=function(){return Bo(e,XO()).base(e.base())},ao.apply(e,arguments)}function YO(){var e=av(Nh());return e.copy=function(){return Bo(e,YO()).constant(e.constant())},ao.apply(e,arguments)}function gv(){var e=ov(Nh());return e.copy=function(){return Bo(e,gv()).exponent(e.exponent())},ao.apply(e,arguments)}function F9(){return gv.apply(null,arguments).exponent(.5)}function qO(){var e=[],t=an;function r(n){if(n!=null&&!isNaN(n=+n))return t((iu(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Ao),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,o)=>PF(e,o/n))},r.copy=function(){return qO(t).domain(e)},ao.apply(r,arguments)}function Ah(){var e=0,t=.5,r=1,n=1,a,o,i,s,l,c=an,f,d=!1,h;function p(v){return isNaN(v=+v)?h:(v=.5+((v=+f(v))-o)*(n*v<n*o?s:l),c(d?Math.max(0,Math.min(1,v)):v))}p.domain=function(v){return arguments.length?([e,t,r]=v,a=f(e=+e),o=f(t=+t),i=f(r=+r),s=a===o?0:.5/(o-a),l=o===i?0:.5/(i-o),n=o<a?-1:1,p):[e,t,r]},p.clamp=function(v){return arguments.length?(d=!!v,p):d},p.interpolator=function(v){return arguments.length?(c=v,p):c};function m(v){return function(x){var y,g,b;return arguments.length?([y,g,b]=x,c=ZF(v,[y,g,b]),p):[c(0),c(.5),c(1)]}}return p.range=m(sl),p.rangeRound=m(Jy),p.unknown=function(v){return arguments.length?(h=v,p):h},function(v){return f=v,a=v(e),o=v(t),i=v(r),s=a===o?0:.5/(o-a),l=o===i?0:.5/(i-o),n=o<a?-1:1,p}}function QO(){var e=Io(Ah()(an));return e.copy=function(){return Bo(e,QO())},ao.apply(e,arguments)}function ZO(){var e=nv(Ah()).domain([.1,1,10]);return e.copy=function(){return Bo(e,ZO()).base(e.base())},ao.apply(e,arguments)}function JO(){var e=av(Ah());return e.copy=function(){return Bo(e,JO()).constant(e.constant())},ao.apply(e,arguments)}function mv(){var e=ov(Ah());return e.copy=function(){return Bo(e,mv()).exponent(e.exponent())},ao.apply(e,arguments)}function z9(){return mv.apply(null,arguments).exponent(.5)}const Y1=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Oc,scaleDiverging:QO,scaleDivergingLog:ZO,scaleDivergingPow:mv,scaleDivergingSqrt:z9,scaleDivergingSymlog:JO,scaleIdentity:CO,scaleImplicit:Cg,scaleLinear:nd,scaleLog:TO,scaleOrdinal:qy,scalePoint:Xl,scalePow:iv,scaleQuantile:RO,scaleQuantize:LO,scaleRadial:DO,scaleSequential:KO,scaleSequentialLog:XO,scaleSequentialPow:gv,scaleSequentialQuantile:qO,scaleSequentialSqrt:F9,scaleSequentialSymlog:YO,scaleSqrt:wz,scaleSymlog:$O,scaleThreshold:IO,scaleTime:I9,scaleUtc:B9,tickFormat:MO},Symbol.toStringTag,{value:"Module"}));var W9=Zs;function U9(e,t,r){for(var n=-1,a=e.length;++n<a;){var o=e[n],i=t(o);if(i!=null&&(s===void 0?i===i&&!W9(i):r(i,s)))var s=i,l=o}return l}var eP=U9;function G9(e,t){return e>t}var H9=G9,V9=eP,K9=H9,X9=il;function Y9(e){return e&&e.length?V9(e,X9,K9):void 0}var q9=Y9;const vo=It(q9);function Q9(e,t){return e<t}var Z9=Q9,J9=eP,e7=Z9,t7=il;function r7(e){return e&&e.length?J9(e,t7,e7):void 0}var n7=r7;const Mh=It(n7);var a7=My,o7=Ro,i7=cO,s7=wn;function l7(e,t){var r=s7(e)?a7:i7;return r(e,o7(t))}var c7=l7,u7=sO,f7=c7;function d7(e,t){return u7(f7(e,t),1)}var h7=d7;const p7=It(h7);var g7=Gy;function m7(e,t){return g7(e,t)}var y7=m7;const vi=It(y7);var ll=1e9,v7={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},vv,Qt=!0,Qn="[DecimalError] ",ci=Qn+"Invalid argument: ",yv=Qn+"Exponent out of range: ",cl=Math.floor,qo=Math.pow,x7=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,An,Nr=1e7,Xt=7,tP=9007199254740991,sd=cl(tP/Xt),xe={};xe.absoluteValue=xe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};xe.comparedTo=xe.cmp=function(e){var t,r,n,a,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(n=o.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return n===a?0:n>a^o.s<0?1:-1};xe.decimalPlaces=xe.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Xt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};xe.dividedBy=xe.div=function(e){return Ka(this,new this.constructor(e))};xe.dividedToIntegerBy=xe.idiv=function(e){var t=this,r=t.constructor;return Lt(Ka(t,new r(e),0,1),r.precision)};xe.equals=xe.eq=function(e){return!this.cmp(e)};xe.exponent=function(){return mr(this)};xe.greaterThan=xe.gt=function(e){return this.cmp(e)>0};xe.greaterThanOrEqualTo=xe.gte=function(e){return this.cmp(e)>=0};xe.isInteger=xe.isint=function(){return this.e>this.d.length-2};xe.isNegative=xe.isneg=function(){return this.s<0};xe.isPositive=xe.ispos=function(){return this.s>0};xe.isZero=function(){return this.s===0};xe.lessThan=xe.lt=function(e){return this.cmp(e)<0};xe.lessThanOrEqualTo=xe.lte=function(e){return this.cmp(e)<1};xe.logarithm=xe.log=function(e){var t,r=this,n=r.constructor,a=n.precision,o=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(An))throw Error(Qn+"NaN");if(r.s<1)throw Error(Qn+(r.s?"NaN":"-Infinity"));return r.eq(An)?new n(0):(Qt=!1,t=Ka(Mc(r,o),Mc(e,o),o),Qt=!0,Lt(t,a))};xe.minus=xe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?aP(t,e):rP(t,(e.s=-e.s,e))};xe.modulo=xe.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Qn+"NaN");return r.s?(Qt=!1,t=Ka(r,e,0,1).times(e),Qt=!0,r.minus(t)):Lt(new n(r),a)};xe.naturalExponential=xe.exp=function(){return nP(this)};xe.naturalLogarithm=xe.ln=function(){return Mc(this)};xe.negated=xe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};xe.plus=xe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?rP(t,e):aP(t,(e.s=-e.s,e))};xe.precision=xe.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ci+e);if(t=mr(a)+1,n=a.d.length-1,r=n*Xt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};xe.squareRoot=xe.sqrt=function(){var e,t,r,n,a,o,i,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Qn+"NaN")}for(e=mr(s),Qt=!1,a=Math.sqrt(+s),a==0||a==1/0?(t=ja(s.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=cl((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(a.toString()),r=l.precision,a=i=r+3;;)if(o=n,n=o.plus(Ka(s,o,i+2)).times(.5),ja(o.d).slice(0,i)===(t=ja(n.d)).slice(0,i)){if(t=t.slice(i-3,i+1),a==i&&t=="4999"){if(Lt(o,r+1,0),o.times(o).eq(s)){n=o;break}}else if(t!="9999")break;i+=4}return Qt=!0,Lt(n,r)};xe.times=xe.mul=function(e){var t,r,n,a,o,i,s,l,c,f=this,d=f.constructor,h=f.d,p=(e=new d(e)).d;if(!f.s||!e.s)return new d(0);for(e.s*=f.s,r=f.e+e.e,l=h.length,c=p.length,l<c&&(o=h,h=p,p=o,i=l,l=c,c=i),o=[],i=l+c,n=i;n--;)o.push(0);for(n=c;--n>=0;){for(t=0,a=l+n;a>n;)s=o[a]+p[n]*h[a-n-1]+t,o[a--]=s%Nr|0,t=s/Nr|0;o[a]=(o[a]+t)%Nr|0}for(;!o[--i];)o.pop();return t?++r:o.shift(),e.d=o,e.e=r,Qt?Lt(e,d.precision):e};xe.toDecimalPlaces=xe.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Ca(e,0,ll),t===void 0?t=n.rounding:Ca(t,0,8),Lt(r,e+mr(r)+1,t))};xe.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=xi(n,!0):(Ca(e,0,ll),t===void 0?t=a.rounding:Ca(t,0,8),n=Lt(new a(n),e+1,t),r=xi(n,!0,e+1)),r};xe.toFixed=function(e,t){var r,n,a=this,o=a.constructor;return e===void 0?xi(a):(Ca(e,0,ll),t===void 0?t=o.rounding:Ca(t,0,8),n=Lt(new o(a),e+mr(a)+1,t),r=xi(n.abs(),!1,e+mr(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};xe.toInteger=xe.toint=function(){var e=this,t=e.constructor;return Lt(new t(e),mr(e)+1,t.rounding)};xe.toNumber=function(){return+this};xe.toPower=xe.pow=function(e){var t,r,n,a,o,i,s=this,l=s.constructor,c=12,f=+(e=new l(e));if(!e.s)return new l(An);if(s=new l(s),!s.s){if(e.s<1)throw Error(Qn+"Infinity");return s}if(s.eq(An))return s;if(n=l.precision,e.eq(An))return Lt(s,n);if(t=e.e,r=e.d.length-1,i=t>=r,o=s.s,i){if((r=f<0?-f:f)<=tP){for(a=new l(An),t=Math.ceil(n/Xt+4),Qt=!1;r%2&&(a=a.times(s),Q1(a.d,t)),r=cl(r/2),r!==0;)s=s.times(s),Q1(s.d,t);return Qt=!0,e.s<0?new l(An).div(a):Lt(a,n)}}else if(o<0)throw Error(Qn+"NaN");return o=o<0&&e.d[Math.max(t,r)]&1?-1:1,s.s=1,Qt=!1,a=e.times(Mc(s,n+c)),Qt=!0,a=nP(a),a.s=o,a};xe.toPrecision=function(e,t){var r,n,a=this,o=a.constructor;return e===void 0?(r=mr(a),n=xi(a,r<=o.toExpNeg||r>=o.toExpPos)):(Ca(e,1,ll),t===void 0?t=o.rounding:Ca(t,0,8),a=Lt(new o(a),e,t),r=mr(a),n=xi(a,e<=r||r<=o.toExpNeg,e)),n};xe.toSignificantDigits=xe.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Ca(e,1,ll),t===void 0?t=n.rounding:Ca(t,0,8)),Lt(new n(r),e,t)};xe.toString=xe.valueOf=xe.val=xe.toJSON=xe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=mr(e),r=e.constructor;return xi(e,t<=r.toExpNeg||t>=r.toExpPos)};function rP(e,t){var r,n,a,o,i,s,l,c,f=e.constructor,d=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),Qt?Lt(t,d):t;if(l=e.d,c=t.d,i=e.e,a=t.e,l=l.slice(),o=i-a,o){for(o<0?(n=l,o=-o,s=c.length):(n=c,a=i,s=l.length),i=Math.ceil(d/Xt),s=i>s?i+1:s+1,o>s&&(o=s,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(s=l.length,o=c.length,s-o<0&&(o=s,n=c,c=l,l=n),r=0;o;)r=(l[--o]=l[o]+c[o]+r)/Nr|0,l[o]%=Nr;for(r&&(l.unshift(r),++a),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=a,Qt?Lt(t,d):t}function Ca(e,t,r){if(e!==~~e||e<t||e>r)throw Error(ci+e)}function ja(e){var t,r,n,a=e.length-1,o="",i=e[0];if(a>0){for(o+=i,t=1;t<a;t++)n=e[t]+"",r=Xt-n.length,r&&(o+=fo(r)),o+=n;i=e[t],n=i+"",r=Xt-n.length,r&&(o+=fo(r))}else if(i===0)return"0";for(;i%10===0;)i/=10;return o+i}var Ka=function(){function e(n,a){var o,i=0,s=n.length;for(n=n.slice();s--;)o=n[s]*a+i,n[s]=o%Nr|0,i=o/Nr|0;return i&&n.unshift(i),n}function t(n,a,o,i){var s,l;if(o!=i)l=o>i?1:-1;else for(s=l=0;s<o;s++)if(n[s]!=a[s]){l=n[s]>a[s]?1:-1;break}return l}function r(n,a,o){for(var i=0;o--;)n[o]-=i,i=n[o]<a[o]?1:0,n[o]=i*Nr+n[o]-a[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,o,i){var s,l,c,f,d,h,p,m,v,x,y,g,b,S,w,k,j,P,_=n.constructor,A=n.s==a.s?1:-1,N=n.d,E=a.d;if(!n.s)return new _(n);if(!a.s)throw Error(Qn+"Division by zero");for(l=n.e-a.e,j=E.length,w=N.length,p=new _(A),m=p.d=[],c=0;E[c]==(N[c]||0);)++c;if(E[c]>(N[c]||0)&&--l,o==null?g=o=_.precision:i?g=o+(mr(n)-mr(a))+1:g=o,g<0)return new _(0);if(g=g/Xt+2|0,c=0,j==1)for(f=0,E=E[0],g++;(c<w||f)&&g--;c++)b=f*Nr+(N[c]||0),m[c]=b/E|0,f=b%E|0;else{for(f=Nr/(E[0]+1)|0,f>1&&(E=e(E,f),N=e(N,f),j=E.length,w=N.length),S=j,v=N.slice(0,j),x=v.length;x<j;)v[x++]=0;P=E.slice(),P.unshift(0),k=E[0],E[1]>=Nr/2&&++k;do f=0,s=t(E,v,j,x),s<0?(y=v[0],j!=x&&(y=y*Nr+(v[1]||0)),f=y/k|0,f>1?(f>=Nr&&(f=Nr-1),d=e(E,f),h=d.length,x=v.length,s=t(d,v,h,x),s==1&&(f--,r(d,j<h?P:E,h))):(f==0&&(s=f=1),d=E.slice()),h=d.length,h<x&&d.unshift(0),r(v,d,x),s==-1&&(x=v.length,s=t(E,v,j,x),s<1&&(f++,r(v,j<x?P:E,x))),x=v.length):s===0&&(f++,v=[0]),m[c++]=f,s&&v[0]?v[x++]=N[S]||0:(v=[N[S]],x=1);while((S++<w||v[0]!==void 0)&&g--)}return m[0]||m.shift(),p.e=l,Lt(p,i?o+mr(p)+1:o)}}();function nP(e,t){var r,n,a,o,i,s,l=0,c=0,f=e.constructor,d=f.precision;if(mr(e)>16)throw Error(yv+mr(e));if(!e.s)return new f(An);for(Qt=!1,s=d,i=new f(.03125);e.abs().gte(.1);)e=e.times(i),c+=5;for(n=Math.log(qo(2,c))/Math.LN10*2+5|0,s+=n,r=a=o=new f(An),f.precision=s;;){if(a=Lt(a.times(e),s),r=r.times(++l),i=o.plus(Ka(a,r,s)),ja(i.d).slice(0,s)===ja(o.d).slice(0,s)){for(;c--;)o=Lt(o.times(o),s);return f.precision=d,t==null?(Qt=!0,Lt(o,d)):o}o=i}}function mr(e){for(var t=e.e*Xt,r=e.d[0];r>=10;r/=10)t++;return t}function Gp(e,t,r){if(t>e.LN10.sd())throw Qt=!0,r&&(e.precision=r),Error(Qn+"LN10 precision limit exceeded");return Lt(new e(e.LN10),t)}function fo(e){for(var t="";e--;)t+="0";return t}function Mc(e,t){var r,n,a,o,i,s,l,c,f,d=1,h=10,p=e,m=p.d,v=p.constructor,x=v.precision;if(p.s<1)throw Error(Qn+(p.s?"NaN":"-Infinity"));if(p.eq(An))return new v(0);if(t==null?(Qt=!1,c=x):c=t,p.eq(10))return t==null&&(Qt=!0),Gp(v,c);if(c+=h,v.precision=c,r=ja(m),n=r.charAt(0),o=mr(p),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=ja(p.d),n=r.charAt(0),d++;o=mr(p),n>1?(p=new v("0."+r),o++):p=new v(n+"."+r.slice(1))}else return l=Gp(v,c+2,x).times(o+""),p=Mc(new v(n+"."+r.slice(1)),c-h).plus(l),v.precision=x,t==null?(Qt=!0,Lt(p,x)):p;for(s=i=p=Ka(p.minus(An),p.plus(An),c),f=Lt(p.times(p),c),a=3;;){if(i=Lt(i.times(f),c),l=s.plus(Ka(i,new v(a),c)),ja(l.d).slice(0,c)===ja(s.d).slice(0,c))return s=s.times(2),o!==0&&(s=s.plus(Gp(v,c+2,x).times(o+""))),s=Ka(s,new v(d),c),v.precision=x,t==null?(Qt=!0,Lt(s,x)):s;s=l,a+=2}}function q1(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=cl(r/Xt),e.d=[],n=(r+1)%Xt,r<0&&(n+=Xt),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Xt;n<a;)e.d.push(+t.slice(n,n+=Xt));t=t.slice(n),n=Xt-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Qt&&(e.e>sd||e.e<-sd))throw Error(yv+r)}else e.s=0,e.e=0,e.d=[0];return e}function Lt(e,t,r){var n,a,o,i,s,l,c,f,d=e.d;for(i=1,o=d[0];o>=10;o/=10)i++;if(n=t-i,n<0)n+=Xt,a=t,c=d[f=0];else{if(f=Math.ceil((n+1)/Xt),o=d.length,f>=o)return e;for(c=o=d[f],i=1;o>=10;o/=10)i++;n%=Xt,a=n-Xt+i}if(r!==void 0&&(o=qo(10,i-a-1),s=c/o%10|0,l=t<0||d[f+1]!==void 0||c%o,l=r<4?(s||l)&&(r==0||r==(e.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?a>0?c/qo(10,i-a):0:d[f-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return l?(o=mr(e),d.length=1,t=t-o-1,d[0]=qo(10,(Xt-t%Xt)%Xt),e.e=cl(-t/Xt)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(n==0?(d.length=f,o=1,f--):(d.length=f+1,o=qo(10,Xt-n),d[f]=a>0?(c/qo(10,i-a)%qo(10,a)|0)*o:0),l)for(;;)if(f==0){(d[0]+=o)==Nr&&(d[0]=1,++e.e);break}else{if(d[f]+=o,d[f]!=Nr)break;d[f--]=0,o=1}for(n=d.length;d[--n]===0;)d.pop();if(Qt&&(e.e>sd||e.e<-sd))throw Error(yv+mr(e));return e}function aP(e,t){var r,n,a,o,i,s,l,c,f,d,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Qt?Lt(t,p):t;if(l=e.d,d=t.d,n=t.e,c=e.e,l=l.slice(),i=c-n,i){for(f=i<0,f?(r=l,i=-i,s=d.length):(r=d,n=c,s=l.length),a=Math.max(Math.ceil(p/Xt),s)+2,i>a&&(i=a,r.length=1),r.reverse(),a=i;a--;)r.push(0);r.reverse()}else{for(a=l.length,s=d.length,f=a<s,f&&(s=a),a=0;a<s;a++)if(l[a]!=d[a]){f=l[a]<d[a];break}i=0}for(f&&(r=l,l=d,d=r,t.s=-t.s),s=l.length,a=d.length-s;a>0;--a)l[s++]=0;for(a=d.length;a>i;){if(l[--a]<d[a]){for(o=a;o&&l[--o]===0;)l[o]=Nr-1;--l[o],l[a]+=Nr}l[a]-=d[a]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,Qt?Lt(t,p):t):new h(0)}function xi(e,t,r){var n,a=mr(e),o=ja(e.d),i=o.length;return t?(r&&(n=r-i)>0?o=o.charAt(0)+"."+o.slice(1)+fo(n):i>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(a<0?"e":"e+")+a):a<0?(o="0."+fo(-a-1)+o,r&&(n=r-i)>0&&(o+=fo(n))):a>=i?(o+=fo(a+1-i),r&&(n=r-a-1)>0&&(o=o+"."+fo(n))):((n=a+1)<i&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-i)>0&&(a+1===i&&(o+="."),o+=fo(n))),e.s<0?"-"+o:o}function Q1(e,t){if(e.length>t)return e.length=t,!0}function oP(e){var t,r,n;function a(o){var i=this;if(!(i instanceof a))return new a(o);if(i.constructor=a,o instanceof a){i.s=o.s,i.e=o.e,i.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(ci+o);if(o>0)i.s=1;else if(o<0)o=-o,i.s=-1;else{i.s=0,i.e=0,i.d=[0];return}if(o===~~o&&o<1e7){i.e=0,i.d=[o];return}return q1(i,o.toString())}else if(typeof o!="string")throw Error(ci+o);if(o.charCodeAt(0)===45?(o=o.slice(1),i.s=-1):i.s=1,x7.test(o))q1(i,o);else throw Error(ci+o)}if(a.prototype=xe,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=oP,a.config=a.set=b7,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function b7(e){if(!e||typeof e!="object")throw Error(Qn+"Object expected");var t,r,n,a=["precision",1,ll,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(cl(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(ci+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(ci+r+": "+n);return this}var vv=oP(v7);An=new vv(1);const Nt=vv;function w7(e){return O7(e)||j7(e)||S7(e)||k7()}function k7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S7(e,t){if(e){if(typeof e=="string")return Dg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dg(e,t)}}function j7(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function O7(e){if(Array.isArray(e))return Dg(e)}function Dg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var P7=function(t){return t},iP={},sP=function(t){return t===iP},Z1=function(t){return function r(){return arguments.length===0||arguments.length===1&&sP(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},_7=function e(t,r){return t===1?r:Z1(function(){for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];var i=a.filter(function(s){return s!==iP}).length;return i>=t?r.apply(void 0,a):e(t-i,Z1(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var f=a.map(function(d){return sP(d)?l.shift():d});return r.apply(void 0,w7(f).concat(l))}))})},Ch=function(t){return _7(t.length,t)},Rg=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},N7=Ch(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),A7=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return P7;var a=r.reverse(),o=a[0],i=a.slice(1);return function(){return i.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},Lg=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},lP=function(t){var r=null,n=null;return function(){for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return r&&o.every(function(s,l){return s===r[l]})||(r=o,n=t.apply(void 0,o)),n}};function M7(e){var t;return e===0?t=1:t=Math.floor(new Nt(e).abs().log(10).toNumber())+1,t}function C7(e,t,r){for(var n=new Nt(e),a=0,o=[];n.lt(t)&&a<1e5;)o.push(n.toNumber()),n=n.add(r),a++;return o}var E7=Ch(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),T7=Ch(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),$7=Ch(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Eh={rangeStep:C7,getDigitCount:M7,interpolateNumber:E7,uninterpolateNumber:T7,uninterpolateTruncation:$7};function Ig(e){return L7(e)||R7(e)||cP(e)||D7()}function D7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R7(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function L7(e){if(Array.isArray(e))return Bg(e)}function Cc(e,t){return F7(e)||B7(e,t)||cP(e,t)||I7()}function I7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cP(e,t){if(e){if(typeof e=="string")return Bg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Bg(e,t)}}function Bg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function B7(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,o=void 0;try{for(var i=e[Symbol.iterator](),s;!(n=(s=i.next()).done)&&(r.push(s.value),!(t&&r.length===t));n=!0);}catch(l){a=!0,o=l}finally{try{!n&&i.return!=null&&i.return()}finally{if(a)throw o}}return r}}function F7(e){if(Array.isArray(e))return e}function uP(e){var t=Cc(e,2),r=t[0],n=t[1],a=r,o=n;return r>n&&(a=n,o=r),[a,o]}function fP(e,t,r){if(e.lte(0))return new Nt(0);var n=Eh.getDigitCount(e.toNumber()),a=new Nt(10).pow(n),o=e.div(a),i=n!==1?.05:.1,s=new Nt(Math.ceil(o.div(i).toNumber())).add(r).mul(i),l=s.mul(a);return t?l:new Nt(Math.ceil(l))}function z7(e,t,r){var n=1,a=new Nt(e);if(!a.isint()&&r){var o=Math.abs(e);o<1?(n=new Nt(10).pow(Eh.getDigitCount(e)-1),a=new Nt(Math.floor(a.div(n).toNumber())).mul(n)):o>1&&(a=new Nt(Math.floor(e)))}else e===0?a=new Nt(Math.floor((t-1)/2)):r||(a=new Nt(Math.floor(e)));var i=Math.floor((t-1)/2),s=A7(N7(function(l){return a.add(new Nt(l-i).mul(n)).toNumber()}),Rg);return s(0,t)}function dP(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Nt(0),tickMin:new Nt(0),tickMax:new Nt(0)};var o=fP(new Nt(t).sub(e).div(r-1),n,a),i;e<=0&&t>=0?i=new Nt(0):(i=new Nt(e).add(t).div(2),i=i.sub(new Nt(i).mod(o)));var s=Math.ceil(i.sub(e).div(o).toNumber()),l=Math.ceil(new Nt(t).sub(i).div(o).toNumber()),c=s+l+1;return c>r?dP(e,t,r,n,a+1):(c<r&&(l=t>0?l+(r-c):l,s=t>0?s:s+(r-c)),{step:o,tickMin:i.sub(new Nt(s).mul(o)),tickMax:i.add(new Nt(l).mul(o))})}function W7(e){var t=Cc(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(a,2),s=uP([r,n]),l=Cc(s,2),c=l[0],f=l[1];if(c===-1/0||f===1/0){var d=f===1/0?[c].concat(Ig(Rg(0,a-1).map(function(){return 1/0}))):[].concat(Ig(Rg(0,a-1).map(function(){return-1/0})),[f]);return r>n?Lg(d):d}if(c===f)return z7(c,a,o);var h=dP(c,f,i,o),p=h.step,m=h.tickMin,v=h.tickMax,x=Eh.rangeStep(m,v.add(new Nt(.1).mul(p)),p);return r>n?Lg(x):x}function U7(e,t){var r=Cc(e,2),n=r[0],a=r[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=uP([n,a]),s=Cc(i,2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[n,a];if(l===c)return[l];var f=Math.max(t,2),d=fP(new Nt(c).sub(l).div(f-1),o,0),h=[].concat(Ig(Eh.rangeStep(new Nt(l),new Nt(c).sub(new Nt(.99).mul(d)),d)),[c]);return n>a?Lg(h):h}var G7=lP(W7),H7=lP(U7),V7="Invariant failed";function bi(e,t){throw new Error(V7)}var K7=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Ms(e){"@babel/helpers - typeof";return Ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ms(e)}function ld(){return ld=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ld.apply(this,arguments)}function X7(e,t){return Z7(e)||Q7(e,t)||q7(e,t)||Y7()}function Y7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q7(e,t){if(e){if(typeof e=="string")return J1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return J1(e,t)}}function J1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Q7(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function Z7(e){if(Array.isArray(e))return e}function J7(e,t){if(e==null)return{};var r=eW(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function eW(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function tW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rW(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gP(n.key),n)}}function nW(e,t,r){return t&&rW(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function aW(e,t,r){return t=cd(t),oW(e,hP()?Reflect.construct(t,r||[],cd(e).constructor):t.apply(e,r))}function oW(e,t){if(t&&(Ms(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iW(e)}function iW(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hP=function(){return!!e})()}function cd(e){return cd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cd(e)}function sW(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fg(e,t)}function Fg(e,t){return Fg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Fg(e,t)}function pP(e,t,r){return t=gP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gP(e){var t=lW(e,"string");return Ms(t)=="symbol"?t:t+""}function lW(e,t){if(Ms(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ms(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ul=function(e){function t(){return tW(this,t),aW(this,t,arguments)}return sW(t,e),nW(t,[{key:"render",value:function(){var n=this.props,a=n.offset,o=n.layout,i=n.width,s=n.dataKey,l=n.data,c=n.dataPointFormatter,f=n.xAxis,d=n.yAxis,h=J7(n,K7),p=Le(h,!1);this.props.direction==="x"&&f.type!=="number"&&bi();var m=l.map(function(v){var x=c(v,s),y=x.x,g=x.y,b=x.value,S=x.errorVal;if(!S)return null;var w=[],k,j;if(Array.isArray(S)){var P=X7(S,2);k=P[0],j=P[1]}else k=j=S;if(o==="vertical"){var _=f.scale,A=g+a,N=A+i,E=A-i,z=_(b-k),D=_(b+j);w.push({x1:D,y1:N,x2:D,y2:E}),w.push({x1:z,y1:A,x2:D,y2:A}),w.push({x1:z,y1:N,x2:z,y2:E})}else if(o==="horizontal"){var T=d.scale,L=y+a,W=L-i,I=L+i,R=T(b-k),B=T(b+j);w.push({x1:W,y1:B,x2:I,y2:B}),w.push({x1:L,y1:R,x2:L,y2:B}),w.push({x1:W,y1:R,x2:I,y2:R})}return M.createElement(dt,ld({className:"recharts-errorBar",key:"bar-".concat(w.map(function(te){return"".concat(te.x1,"-").concat(te.x2,"-").concat(te.y1,"-").concat(te.y2)}))},p),w.map(function(te){return M.createElement("line",ld({},te,{key:"line-".concat(te.x1,"-").concat(te.x2,"-").concat(te.y1,"-").concat(te.y2)}))}))});return M.createElement(dt,{className:"recharts-errorBars"},m)}}])}(M.Component);pP(ul,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});pP(ul,"displayName","ErrorBar");function Ec(e){"@babel/helpers - typeof";return Ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ec(e)}function ew(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ho(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ew(Object(r),!0).forEach(function(n){cW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ew(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cW(e,t,r){return t=uW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uW(e){var t=fW(e,"string");return Ec(t)=="symbol"?t:t+""}function fW(e,t){if(Ec(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ec(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mP=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,o=t.legendContent,i=Nn(r,Va);if(!i)return null;var s=Va.defaultProps,l=s!==void 0?Ho(Ho({},s),i.props):{},c;return i.props&&i.props.payload?c=i.props&&i.props.payload:o==="children"?c=(n||[]).reduce(function(f,d){var h=d.item,p=d.props,m=p.sectors||p.data||[];return f.concat(m.map(function(v){return{type:i.props.iconType||h.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):c=(n||[]).map(function(f){var d=f.item,h=d.type.defaultProps,p=h!==void 0?Ho(Ho({},h),d.props):{},m=p.dataKey,v=p.name,x=p.legendType,y=p.hide;return{inactive:y,dataKey:m,type:l.iconType||x||"square",color:xv(d),value:v||m,payload:p}}),Ho(Ho(Ho({},l),Va.getWithHeight(i,a)),{},{payload:c,item:i})};function Tc(e){"@babel/helpers - typeof";return Tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tc(e)}function tw(e){return gW(e)||pW(e)||hW(e)||dW()}function dW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hW(e,t){if(e){if(typeof e=="string")return zg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zg(e,t)}}function pW(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gW(e){if(Array.isArray(e))return zg(e)}function zg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ir(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rw(Object(r),!0).forEach(function(n){ds(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ds(e,t,r){return t=mW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mW(e){var t=yW(e,"string");return Tc(t)=="symbol"?t:t+""}function yW(e,t){if(Tc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pr(e,t,r){return De(e)||De(t)?r:Or(t)?Xn(e,t,r):ze(t)?t(e):r}function Yl(e,t,r,n){var a=p7(e,function(s){return Pr(s,t)});if(r==="number"){var o=a.filter(function(s){return se(s)||parseFloat(s)});return o.length?[Mh(o),vo(o)]:[1/0,-1/0]}var i=n?a.filter(function(s){return!De(s)}):a;return i.map(function(s){return Or(s)||s instanceof Date?s:""})}var vW=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,i=-1,s=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,c=0;c<s;c++){var f=c>0?a[c-1].coordinate:a[s-1].coordinate,d=a[c].coordinate,h=c>=s-1?a[0].coordinate:a[c+1].coordinate,p=void 0;if(ca(d-f)!==ca(h-d)){var m=[];if(ca(h-d)===ca(l[1]-l[0])){p=h;var v=d+l[1]-l[0];m[0]=Math.min(v,(v+f)/2),m[1]=Math.max(v,(v+f)/2)}else{p=f;var x=h+l[1]-l[0];m[0]=Math.min(d,(x+d)/2),m[1]=Math.max(d,(x+d)/2)}var y=[Math.min(d,(p+d)/2),Math.max(d,(p+d)/2)];if(t>y[0]&&t<=y[1]||t>=m[0]&&t<=m[1]){i=a[c].index;break}}else{var g=Math.min(f,h),b=Math.max(f,h);if(t>(g+d)/2&&t<=(b+d)/2){i=a[c].index;break}}}else for(var S=0;S<s;S++)if(S===0&&t<=(n[S].coordinate+n[S+1].coordinate)/2||S>0&&S<s-1&&t>(n[S].coordinate+n[S-1].coordinate)/2&&t<=(n[S].coordinate+n[S+1].coordinate)/2||S===s-1&&t>(n[S].coordinate+n[S-1].coordinate)/2){i=n[S].index;break}return i},xv=function(t){var r,n=t,a=n.type.displayName,o=(r=t.type)!==null&&r!==void 0&&r.defaultProps?ir(ir({},t.type.defaultProps),t.props):t.props,i=o.stroke,s=o.fill,l;switch(a){case"Line":l=i;break;case"Area":case"Radar":l=i&&i!=="none"?i:s;break;default:l=s;break}return l},xW=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,o=a===void 0?{}:a;if(!o)return{};for(var i={},s=Object.keys(o),l=0,c=s.length;l<c;l++)for(var f=o[s[l]].stackGroups,d=Object.keys(f),h=0,p=d.length;h<p;h++){var m=f[d[h]],v=m.items,x=m.cateAxisId,y=v.filter(function(j){return Ga(j.type).indexOf("Bar")>=0});if(y&&y.length){var g=y[0].type.defaultProps,b=g!==void 0?ir(ir({},g),y[0].props):y[0].props,S=b.barSize,w=b[x];i[w]||(i[w]=[]);var k=De(S)?r:S;i[w].push({item:y[0],stackList:y.slice(1),barSize:De(k)?void 0:yi(k,n,0)})}}return i},bW=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,o=t.sizeList,i=o===void 0?[]:o,s=t.maxBarSize,l=i.length;if(l<1)return null;var c=yi(r,a,0,!0),f,d=[];if(i[0].barSize===+i[0].barSize){var h=!1,p=a/l,m=i.reduce(function(S,w){return S+w.barSize||0},0);m+=(l-1)*c,m>=a&&(m-=(l-1)*c,c=0),m>=a&&p>0&&(h=!0,p*=.9,m=l*p);var v=(a-m)/2>>0,x={offset:v-c,size:0};f=i.reduce(function(S,w){var k={item:w.item,position:{offset:x.offset+x.size+c,size:h?p:w.barSize}},j=[].concat(tw(S),[k]);return x=j[j.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(P){j.push({item:P,position:x})}),j},d)}else{var y=yi(n,a,0,!0);a-2*y-(l-1)*c<=0&&(c=0);var g=(a-2*y-(l-1)*c)/l;g>1&&(g>>=0);var b=s===+s?Math.min(g,s):g;f=i.reduce(function(S,w,k){var j=[].concat(tw(S),[{item:w.item,position:{offset:y+(g+c)*k+(g-b)/2,size:b}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(P){j.push({item:P,position:j[j.length-1].position})}),j},d)}return f},wW=function(t,r,n,a){var o=n.children,i=n.width,s=n.margin,l=i-(s.left||0)-(s.right||0),c=mP({children:o,legendWidth:l});if(c){var f=a||{},d=f.width,h=f.height,p=c.align,m=c.verticalAlign,v=c.layout;if((v==="vertical"||v==="horizontal"&&m==="middle")&&p!=="center"&&se(t[p]))return ir(ir({},t),{},ds({},p,t[p]+(d||0)));if((v==="horizontal"||v==="vertical"&&p==="center")&&m!=="middle"&&se(t[m]))return ir(ir({},t),{},ds({},m,t[m]+(h||0)))}return t},kW=function(t,r,n){return De(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},yP=function(t,r,n,a,o){var i=r.props.children,s=bn(i,ul).filter(function(c){return kW(a,o,c.props.direction)});if(s&&s.length){var l=s.map(function(c){return c.props.dataKey});return t.reduce(function(c,f){var d=Pr(f,n);if(De(d))return c;var h=Array.isArray(d)?[Mh(d),vo(d)]:[d,d],p=l.reduce(function(m,v){var x=Pr(f,v,0),y=h[0]-Math.abs(Array.isArray(x)?x[0]:x),g=h[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(y,m[0]),Math.max(g,m[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},SW=function(t,r,n,a,o){var i=r.map(function(s){return yP(t,s,n,o,a)}).filter(function(s){return!De(s)});return i&&i.length?i.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},vP=function(t,r,n,a,o){var i=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&yP(t,l,c,a)||Yl(t,c,n,o)});if(n==="number")return i.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var s={};return i.reduce(function(l,c){for(var f=0,d=c.length;f<d;f++)s[c[f]]||(s[c[f]]=!0,l.push(c[f]));return l},[])},xP=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},bP=function(t,r,n,a){if(a)return t.map(function(l){return l.coordinate});var o,i,s=t.map(function(l){return l.coordinate===r&&(o=!0),l.coordinate===n&&(i=!0),l.coordinate});return o||s.push(r),i||s.push(n),s},Wa=function(t,r,n){if(!t)return null;var a=t.scale,o=t.duplicateDomain,i=t.type,s=t.range,l=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,c=(r||n)&&i==="category"&&a.bandwidth?a.bandwidth()/l:0;if(c=t.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?ca(s[0]-s[1])*2*c:c,r&&(t.ticks||t.niceTicks)){var f=(t.ticks||t.niceTicks).map(function(d){var h=o?o.indexOf(d):d;return{coordinate:a(h)+c,value:d,offset:c}});return f.filter(function(d){return!nl(d.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(d,h){return{coordinate:a(d)+c,value:d,index:h,offset:c}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(d){return{coordinate:a(d)+c,value:d,offset:c}}):a.domain().map(function(d,h){return{coordinate:a(d)+c,value:o?o[d]:d,index:h,offset:c}})},Hp=new WeakMap,Hu=function(t,r){if(typeof r!="function")return t;Hp.has(t)||Hp.set(t,new WeakMap);var n=Hp.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},jW=function(t,r,n){var a=t.scale,o=t.type,i=t.layout,s=t.axisType;if(a==="auto")return i==="radial"&&s==="radiusAxis"?{scale:Oc(),realScaleType:"band"}:i==="radial"&&s==="angleAxis"?{scale:nd(),realScaleType:"linear"}:o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Xl(),realScaleType:"point"}:o==="category"?{scale:Oc(),realScaleType:"band"}:{scale:nd(),realScaleType:"linear"};if(mi(a)){var l="scale".concat(mh(a));return{scale:(Y1[l]||Xl)(),realScaleType:Y1[l]?l:"point"}}return ze(a)?{scale:a}:{scale:Xl(),realScaleType:"point"}},nw=1e-4,OW=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),o=Math.min(a[0],a[1])-nw,i=Math.max(a[0],a[1])+nw,s=t(r[0]),l=t(r[n-1]);(s<o||s>i||l<o||l>i)&&t.domain([r[0],r[n-1]])}},PW=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},_W=function(t,r){if(!r||r.length!==2||!se(r[0])||!se(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),o=[t[0],t[1]];return(!se(t[0])||t[0]<n)&&(o[0]=n),(!se(t[1])||t[1]>a)&&(o[1]=a),o[0]>a&&(o[0]=a),o[1]<n&&(o[1]=n),o},NW=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var o=0,i=0,s=0;s<r;++s){var l=nl(t[s][n][1])?t[s][n][0]:t[s][n][1];l>=0?(t[s][n][0]=o,t[s][n][1]=o+l,o=t[s][n][1]):(t[s][n][0]=i,t[s][n][1]=i+l,i=t[s][n][1])}},AW=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var o=0,i=0;i<r;++i){var s=nl(t[i][n][1])?t[i][n][0]:t[i][n][1];s>=0?(t[i][n][0]=o,t[i][n][1]=o+s,o=t[i][n][1]):(t[i][n][0]=0,t[i][n][1]=0)}},MW={sign:NW,expand:H$,none:ws,silhouette:V$,wiggle:K$,positive:AW},CW=function(t,r,n){var a=r.map(function(s){return s.props.dataKey}),o=MW[n],i=G$().keys(a).value(function(s,l){return+Pr(s,l,0)}).order(dg).offset(o);return i(t)},EW=function(t,r,n,a,o,i){if(!t)return null;var s=i?r.reverse():r,l={},c=s.reduce(function(d,h){var p,m=(p=h.type)!==null&&p!==void 0&&p.defaultProps?ir(ir({},h.type.defaultProps),h.props):h.props,v=m.stackId,x=m.hide;if(x)return d;var y=m[n],g=d[y]||{hasStack:!1,stackGroups:{}};if(Or(v)){var b=g.stackGroups[v]||{numericAxisId:n,cateAxisId:a,items:[]};b.items.push(h),g.hasStack=!0,g.stackGroups[v]=b}else g.stackGroups[Pi("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return ir(ir({},d),{},ds({},y,g))},l),f={};return Object.keys(c).reduce(function(d,h){var p=c[h];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(v,x){var y=p.stackGroups[x];return ir(ir({},v),{},ds({},x,{numericAxisId:n,cateAxisId:a,items:y.items,stackedData:CW(t,y.items,o)}))},m)}return ir(ir({},d),{},ds({},h,p))},f)},TW=function(t,r){var n=r.realScaleType,a=r.type,o=r.tickCount,i=r.originalDomain,s=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&a==="number"&&i&&(i[0]==="auto"||i[1]==="auto")){var c=t.domain();if(!c.length)return null;var f=G7(c,o,s);return t.domain([Mh(f),vo(f)]),{niceTicks:f}}if(o&&a==="number"){var d=t.domain(),h=H7(d,o,s);return{niceTicks:h}}return null};function Cs(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,o=e.index,i=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!De(a[t.dataKey])){var s=Df(r,"value",a[t.dataKey]);if(s)return s.coordinate+n/2}return r[o]?r[o].coordinate+n/2:null}var l=Pr(a,De(i)?t.dataKey:i);return De(l)?null:t.scale(l)}var aw=function(t){var r=t.axis,n=t.ticks,a=t.offset,o=t.bandSize,i=t.entry,s=t.index;if(r.type==="category")return n[s]?n[s].coordinate+a:null;var l=Pr(i,r.dataKey,r.domain[s]);return De(l)?null:r.scale(l)-o/2+a},$W=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]);return a<=0&&o>=0?0:o<0?o:a}return n[0]},DW=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?ir(ir({},t.type.defaultProps),t.props):t.props,o=a.stackId;if(Or(o)){var i=r[o];if(i){var s=i.items.indexOf(t);return s>=0?i.stackedData[s]:null}}return null},RW=function(t){return t.reduce(function(r,n){return[Mh(n.concat([r[0]]).filter(se)),vo(n.concat([r[1]]).filter(se))]},[1/0,-1/0])},wP=function(t,r,n){return Object.keys(t).reduce(function(a,o){var i=t[o],s=i.stackedData,l=s.reduce(function(c,f){var d=RW(f.slice(r,n+1));return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],a[0]),Math.max(l[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},ow=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,iw=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Wg=function(t,r,n){if(ze(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(se(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(ow.test(t[0])){var o=+ow.exec(t[0])[1];a[0]=r[0]-o}else ze(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(se(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(iw.test(t[1])){var i=+iw.exec(t[1])[1];a[1]=r[1]+i}else ze(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},ud=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var o=Vy(r,function(d){return d.coordinate}),i=1/0,s=1,l=o.length;s<l;s++){var c=o[s],f=o[s-1];i=Math.min((c.coordinate||0)-(f.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0},sw=function(t,r,n){return!t||!t.length||vi(t,Xn(n,"type.defaultProps.domain"))?r:t},kP=function(t,r){var n=t.type.defaultProps?ir(ir({},t.type.defaultProps),t.props):t.props,a=n.dataKey,o=n.name,i=n.unit,s=n.formatter,l=n.tooltipType,c=n.chartType,f=n.hide;return ir(ir({},Le(t,!1)),{},{dataKey:a,unit:i,formatter:s,name:o||a,color:xv(t),value:Pr(r,a),type:l,payload:r,chartType:c,hide:f})};function $c(e){"@babel/helpers - typeof";return $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$c(e)}function lw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lw(Object(r),!0).forEach(function(n){LW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LW(e,t,r){return t=IW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IW(e){var t=BW(e,"string");return $c(t)=="symbol"?t:t+""}function BW(e,t){if($c(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fd=Math.PI/180,FW=function(t){return t*180/Math.PI},Rr=function(t,r,n,a){return{x:t+Math.cos(-fd*a)*n,y:r+Math.sin(-fd*a)*n}},zW=function(t,r){var n=t.x,a=t.y,o=r.x,i=r.y;return Math.sqrt(Math.pow(n-o,2)+Math.pow(a-i,2))},WW=function(t,r){var n=t.x,a=t.y,o=r.cx,i=r.cy,s=zW({x:n,y:a},{x:o,y:i});if(s<=0)return{radius:s};var l=(n-o)/s,c=Math.acos(l);return a>i&&(c=2*Math.PI-c),{radius:s,angle:FW(c),angleInRadian:c}},UW=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),o=Math.floor(n/360),i=Math.min(a,o);return{startAngle:r-i*360,endAngle:n-i*360}},GW=function(t,r){var n=r.startAngle,a=r.endAngle,o=Math.floor(n/360),i=Math.floor(a/360),s=Math.min(o,i);return t+s*360},uw=function(t,r){var n=t.x,a=t.y,o=WW({x:n,y:a},r),i=o.radius,s=o.angle,l=r.innerRadius,c=r.outerRadius;if(i<l||i>c)return!1;if(i===0)return!0;var f=UW(r),d=f.startAngle,h=f.endAngle,p=s,m;if(d<=h){for(;p>h;)p-=360;for(;p<d;)p+=360;m=p>=d&&p<=h}else{for(;p>d;)p-=360;for(;p<h;)p+=360;m=p>=h&&p<=d}return m?cw(cw({},r),{},{radius:i,angle:GW(p,r)}):null};function Dc(e){"@babel/helpers - typeof";return Dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dc(e)}var HW=["offset"];function VW(e){return qW(e)||YW(e)||XW(e)||KW()}function KW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XW(e,t){if(e){if(typeof e=="string")return Ug(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ug(e,t)}}function YW(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function qW(e){if(Array.isArray(e))return Ug(e)}function Ug(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function QW(e,t){if(e==null)return{};var r=ZW(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ZW(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function fw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fw(Object(r),!0).forEach(function(n){JW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JW(e,t,r){return t=eU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eU(e){var t=tU(e,"string");return Dc(t)=="symbol"?t:t+""}function tU(e,t){if(Dc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rc(){return Rc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rc.apply(this,arguments)}var rU=function(t){var r=t.value,n=t.formatter,a=De(t.children)?r:t.children;return ze(n)?n(a):a},nU=function(t,r){var n=ca(r-t),a=Math.min(Math.abs(r-t),360);return n*a},aU=function(t,r,n){var a=t.position,o=t.viewBox,i=t.offset,s=t.className,l=o,c=l.cx,f=l.cy,d=l.innerRadius,h=l.outerRadius,p=l.startAngle,m=l.endAngle,v=l.clockWise,x=(d+h)/2,y=nU(p,m),g=y>=0?1:-1,b,S;a==="insideStart"?(b=p+g*i,S=v):a==="insideEnd"?(b=m-g*i,S=!v):a==="end"&&(b=m+g*i,S=v),S=y<=0?S:!S;var w=Rr(c,f,x,b),k=Rr(c,f,x,b+(S?1:-1)*359),j="M".concat(w.x,",").concat(w.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(S?0:1,`,
    `).concat(k.x,",").concat(k.y),P=De(t.id)?Pi("recharts-radial-line-"):t.id;return M.createElement("text",Rc({},n,{dominantBaseline:"central",className:et("recharts-radial-bar-label",s)}),M.createElement("defs",null,M.createElement("path",{id:P,d:j})),M.createElement("textPath",{xlinkHref:"#".concat(P)},r))},oU=function(t){var r=t.viewBox,n=t.offset,a=t.position,o=r,i=o.cx,s=o.cy,l=o.innerRadius,c=o.outerRadius,f=o.startAngle,d=o.endAngle,h=(f+d)/2;if(a==="outside"){var p=Rr(i,s,c+n,h),m=p.x,v=p.y;return{x:m,y:v,textAnchor:m>=i?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"end"};var x=(l+c)/2,y=Rr(i,s,x,h),g=y.x,b=y.y;return{x:g,y:b,textAnchor:"middle",verticalAnchor:"middle"}},iU=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,o=t.position,i=r,s=i.x,l=i.y,c=i.width,f=i.height,d=f>=0?1:-1,h=d*a,p=d>0?"end":"start",m=d>0?"start":"end",v=c>=0?1:-1,x=v*a,y=v>0?"end":"start",g=v>0?"start":"end";if(o==="top"){var b={x:s+c/2,y:l-d*a,textAnchor:"middle",verticalAnchor:p};return kr(kr({},b),n?{height:Math.max(l-n.y,0),width:c}:{})}if(o==="bottom"){var S={x:s+c/2,y:l+f+h,textAnchor:"middle",verticalAnchor:m};return kr(kr({},S),n?{height:Math.max(n.y+n.height-(l+f),0),width:c}:{})}if(o==="left"){var w={x:s-x,y:l+f/2,textAnchor:y,verticalAnchor:"middle"};return kr(kr({},w),n?{width:Math.max(w.x-n.x,0),height:f}:{})}if(o==="right"){var k={x:s+c+x,y:l+f/2,textAnchor:g,verticalAnchor:"middle"};return kr(kr({},k),n?{width:Math.max(n.x+n.width-k.x,0),height:f}:{})}var j=n?{width:c,height:f}:{};return o==="insideLeft"?kr({x:s+x,y:l+f/2,textAnchor:g,verticalAnchor:"middle"},j):o==="insideRight"?kr({x:s+c-x,y:l+f/2,textAnchor:y,verticalAnchor:"middle"},j):o==="insideTop"?kr({x:s+c/2,y:l+h,textAnchor:"middle",verticalAnchor:m},j):o==="insideBottom"?kr({x:s+c/2,y:l+f-h,textAnchor:"middle",verticalAnchor:p},j):o==="insideTopLeft"?kr({x:s+x,y:l+h,textAnchor:g,verticalAnchor:m},j):o==="insideTopRight"?kr({x:s+c-x,y:l+h,textAnchor:y,verticalAnchor:m},j):o==="insideBottomLeft"?kr({x:s+x,y:l+f-h,textAnchor:g,verticalAnchor:p},j):o==="insideBottomRight"?kr({x:s+c-x,y:l+f-h,textAnchor:y,verticalAnchor:p},j):Js(o)&&(se(o.x)||ei(o.x))&&(se(o.y)||ei(o.y))?kr({x:s+yi(o.x,c),y:l+yi(o.y,f),textAnchor:"end",verticalAnchor:"end"},j):kr({x:s+c/2,y:l+f/2,textAnchor:"middle",verticalAnchor:"middle"},j)},sU=function(t){return"cx"in t&&se(t.cx)};function Xr(e){var t=e.offset,r=t===void 0?5:t,n=QW(e,HW),a=kr({offset:r},n),o=a.viewBox,i=a.position,s=a.value,l=a.children,c=a.content,f=a.className,d=f===void 0?"":f,h=a.textBreakAll;if(!o||De(s)&&De(l)&&!O.isValidElement(c)&&!ze(c))return null;if(O.isValidElement(c))return O.cloneElement(c,a);var p;if(ze(c)){if(p=O.createElement(c,a),O.isValidElement(p))return p}else p=rU(a);var m=sU(o),v=Le(a,!0);if(m&&(i==="insideStart"||i==="insideEnd"||i==="end"))return aU(a,p,v);var x=m?oU(a):iU(a);return M.createElement(qf,Rc({className:et("recharts-label",d)},v,x,{breakAll:h}),p)}Xr.displayName="Label";var SP=function(t){var r=t.cx,n=t.cy,a=t.angle,o=t.startAngle,i=t.endAngle,s=t.r,l=t.radius,c=t.innerRadius,f=t.outerRadius,d=t.x,h=t.y,p=t.top,m=t.left,v=t.width,x=t.height,y=t.clockWise,g=t.labelViewBox;if(g)return g;if(se(v)&&se(x)){if(se(d)&&se(h))return{x:d,y:h,width:v,height:x};if(se(p)&&se(m))return{x:p,y:m,width:v,height:x}}return se(d)&&se(h)?{x:d,y:h,width:0,height:0}:se(r)&&se(n)?{cx:r,cy:n,startAngle:o||a||0,endAngle:i||a||0,innerRadius:c||0,outerRadius:f||l||s||0,clockWise:y}:t.viewBox?t.viewBox:{}},lU=function(t,r){return t?t===!0?M.createElement(Xr,{key:"label-implicit",viewBox:r}):Or(t)?M.createElement(Xr,{key:"label-implicit",viewBox:r,value:t}):O.isValidElement(t)?t.type===Xr?O.cloneElement(t,{key:"label-implicit",viewBox:r}):M.createElement(Xr,{key:"label-implicit",content:t,viewBox:r}):ze(t)?M.createElement(Xr,{key:"label-implicit",content:t,viewBox:r}):Js(t)?M.createElement(Xr,Rc({viewBox:r},t,{key:"label-implicit"})):null:null},cU=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,o=SP(t),i=bn(a,Xr).map(function(l,c){return O.cloneElement(l,{viewBox:r||o,key:"label-".concat(c)})});if(!n)return i;var s=lU(t.label,r||o);return[s].concat(VW(i))};Xr.parseViewBox=SP;Xr.renderCallByParent=cU;function uU(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var fU=uU;const dU=It(fU);function Lc(e){"@babel/helpers - typeof";return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lc(e)}var hU=["valueAccessor"],pU=["data","dataKey","clockWise","id","textBreakAll"];function gU(e){return xU(e)||vU(e)||yU(e)||mU()}function mU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yU(e,t){if(e){if(typeof e=="string")return Gg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gg(e,t)}}function vU(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xU(e){if(Array.isArray(e))return Gg(e)}function Gg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dd(){return dd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dd.apply(this,arguments)}function dw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dw(Object(r),!0).forEach(function(n){bU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bU(e,t,r){return t=wU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wU(e){var t=kU(e,"string");return Lc(t)=="symbol"?t:t+""}function kU(e,t){if(Lc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pw(e,t){if(e==null)return{};var r=SU(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function SU(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var jU=function(t){return Array.isArray(t.value)?dU(t.value):t.value};function Aa(e){var t=e.valueAccessor,r=t===void 0?jU:t,n=pw(e,hU),a=n.data,o=n.dataKey,i=n.clockWise,s=n.id,l=n.textBreakAll,c=pw(n,pU);return!a||!a.length?null:M.createElement(dt,{className:"recharts-label-list"},a.map(function(f,d){var h=De(o)?r(f,d):Pr(f&&f.payload,o),p=De(s)?{}:{id:"".concat(s,"-").concat(d)};return M.createElement(Xr,dd({},Le(f,!0),c,p,{parentViewBox:f.parentViewBox,value:h,textBreakAll:l,viewBox:Xr.parseViewBox(De(i)?f:hw(hw({},f),{},{clockWise:i})),key:"label-".concat(d),index:d}))}))}Aa.displayName="LabelList";function OU(e,t){return e?e===!0?M.createElement(Aa,{key:"labelList-implicit",data:t}):M.isValidElement(e)||ze(e)?M.createElement(Aa,{key:"labelList-implicit",data:t,content:e}):Js(e)?M.createElement(Aa,dd({data:t},e,{key:"labelList-implicit"})):null:null}function PU(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=bn(n,Aa).map(function(i,s){return O.cloneElement(i,{data:t,key:"labelList-".concat(s)})});if(!r)return a;var o=OU(e.label,t);return[o].concat(gU(a))}Aa.renderCallByParent=PU;function Ic(e){"@babel/helpers - typeof";return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ic(e)}function Hg(){return Hg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hg.apply(this,arguments)}function gw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gw(Object(r),!0).forEach(function(n){_U(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _U(e,t,r){return t=NU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NU(e){var t=AU(e,"string");return Ic(t)=="symbol"?t:t+""}function AU(e,t){if(Ic(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ic(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MU=function(t,r){var n=ca(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},Vu=function(t){var r=t.cx,n=t.cy,a=t.radius,o=t.angle,i=t.sign,s=t.isExternal,l=t.cornerRadius,c=t.cornerIsExternal,f=l*(s?1:-1)+a,d=Math.asin(l/f)/fd,h=c?o:o+i*d,p=Rr(r,n,f,h),m=Rr(r,n,a,h),v=c?o-i*d:o,x=Rr(r,n,f*Math.cos(d*fd),v);return{center:p,circleTangency:m,lineTangency:x,theta:d}},jP=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,o=t.outerRadius,i=t.startAngle,s=t.endAngle,l=MU(i,s),c=i+l,f=Rr(r,n,o,i),d=Rr(r,n,o,c),h="M ".concat(f.x,",").concat(f.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(i>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(a>0){var p=Rr(r,n,a,i),m=Rr(r,n,a,c);h+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(i<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},CU=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,o=t.outerRadius,i=t.cornerRadius,s=t.forceCornerRadius,l=t.cornerIsExternal,c=t.startAngle,f=t.endAngle,d=ca(f-c),h=Vu({cx:r,cy:n,radius:o,angle:c,sign:d,cornerRadius:i,cornerIsExternal:l}),p=h.circleTangency,m=h.lineTangency,v=h.theta,x=Vu({cx:r,cy:n,radius:o,angle:f,sign:-d,cornerRadius:i,cornerIsExternal:l}),y=x.circleTangency,g=x.lineTangency,b=x.theta,S=l?Math.abs(c-f):Math.abs(c-f)-v-b;if(S<0)return s?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):jP({cx:r,cy:n,innerRadius:a,outerRadius:o,startAngle:c,endAngle:f});var w="M ".concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(S>180),",").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(g.x,",").concat(g.y,`
  `);if(a>0){var k=Vu({cx:r,cy:n,radius:a,angle:c,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),j=k.circleTangency,P=k.lineTangency,_=k.theta,A=Vu({cx:r,cy:n,radius:a,angle:f,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),N=A.circleTangency,E=A.lineTangency,z=A.theta,D=l?Math.abs(c-f):Math.abs(c-f)-_-z;if(D<0&&i===0)return"".concat(w,"L").concat(r,",").concat(n,"Z");w+="L".concat(E.x,",").concat(E.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(N.x,",").concat(N.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(D>180),",").concat(+(d>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(P.x,",").concat(P.y,"Z")}else w+="L".concat(r,",").concat(n,"Z");return w},EU={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},OP=function(t){var r=mw(mw({},EU),t),n=r.cx,a=r.cy,o=r.innerRadius,i=r.outerRadius,s=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,f=r.startAngle,d=r.endAngle,h=r.className;if(i<o||f===d)return null;var p=et("recharts-sector",h),m=i-o,v=yi(s,m,0,!0),x;return v>0&&Math.abs(f-d)<360?x=CU({cx:n,cy:a,innerRadius:o,outerRadius:i,cornerRadius:Math.min(v,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:f,endAngle:d}):x=jP({cx:n,cy:a,innerRadius:o,outerRadius:i,startAngle:f,endAngle:d}),M.createElement("path",Hg({},Le(r,!0),{className:p,d:x,role:"img"}))};function Bc(e){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bc(e)}function Vg(){return Vg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vg.apply(this,arguments)}function yw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yw(Object(r),!0).forEach(function(n){TU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TU(e,t,r){return t=$U(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $U(e){var t=DU(e,"string");return Bc(t)=="symbol"?t:t+""}function DU(e,t){if(Bc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xw={curveBasisClosed:T$,curveBasisOpen:$$,curveBasis:E$,curveBumpX:v$,curveBumpY:x$,curveLinearClosed:D$,curveLinear:vh,curveMonotoneX:R$,curveMonotoneY:L$,curveNatural:I$,curveStep:B$,curveStepAfter:z$,curveStepBefore:F$},Ku=function(t){return t.x===+t.x&&t.y===+t.y},Al=function(t){return t.x},Ml=function(t){return t.y},RU=function(t,r){if(ze(t))return t;var n="curve".concat(mh(t));return(n==="curveMonotone"||n==="curveBump")&&r?xw["".concat(n).concat(r==="vertical"?"Y":"X")]:xw[n]||vh},LU=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,o=a===void 0?[]:a,i=t.baseLine,s=t.layout,l=t.connectNulls,c=l===void 0?!1:l,f=RU(n,s),d=c?o.filter(function(v){return Ku(v)}):o,h;if(Array.isArray(i)){var p=c?i.filter(function(v){return Ku(v)}):i,m=d.map(function(v,x){return vw(vw({},v),{},{base:p[x]})});return s==="vertical"?h=Lu().y(Ml).x1(Al).x0(function(v){return v.base.x}):h=Lu().x(Al).y1(Ml).y0(function(v){return v.base.y}),h.defined(Ku).curve(f),h(m)}return s==="vertical"&&se(i)?h=Lu().y(Ml).x1(Al).x0(i):se(i)?h=Lu().x(Al).y1(Ml).y0(i):h=Pj().x(Al).y(Ml),h.defined(Ku).curve(f),h(d)},ui=function(t){var r=t.className,n=t.points,a=t.path,o=t.pathRef;if((!n||!n.length)&&!a)return null;var i=n&&n.length?LU(t):a;return O.createElement("path",Vg({},Le(t,!1),Rf(t),{className:et("recharts-curve",r),d:i,ref:o}))},PP={exports:{}},IU="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",BU=IU,FU=BU;function _P(){}function NP(){}NP.resetWarningCache=_P;var zU=function(){function e(n,a,o,i,s,l){if(l!==FU){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:NP,resetWarningCache:_P};return r.PropTypes=r,r};PP.exports=zU();var WU=PP.exports;const xt=It(WU),{getOwnPropertyNames:UU,getOwnPropertySymbols:GU}=Object,{hasOwnProperty:HU}=Object.prototype;function Vp(e,t){return function(n,a,o){return e(n,a,o)&&t(n,a,o)}}function Xu(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);const{cache:o}=a,i=o.get(r),s=o.get(n);if(i&&s)return i===n&&s===r;o.set(r,n),o.set(n,r);const l=e(r,n,a);return o.delete(r),o.delete(n),l}}function VU(e){return e!=null?e[Symbol.toStringTag]:void 0}function bw(e){return UU(e).concat(GU(e))}const KU=Object.hasOwn||((e,t)=>HU.call(e,t));function Ai(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const XU="__v",YU="__o",qU="_owner",{getOwnPropertyDescriptor:ww,keys:kw}=Object;function QU(e,t){return e.byteLength===t.byteLength&&hd(new Uint8Array(e),new Uint8Array(t))}function ZU(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function JU(e,t){return e.byteLength===t.byteLength&&hd(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function eG(e,t){return Ai(e.getTime(),t.getTime())}function tG(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function rG(e,t){return e===t}function Sw(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),o=e.entries();let i,s,l=0;for(;(i=o.next())&&!i.done;){const c=t.entries();let f=!1,d=0;for(;(s=c.next())&&!s.done;){if(a[d]){d++;continue}const h=i.value,p=s.value;if(r.equals(h[0],p[0],l,d,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){f=a[d]=!0;break}d++}if(!f)return!1;l++}return!0}const nG=Ai;function aG(e,t,r){const n=kw(e);let a=n.length;if(kw(t).length!==a)return!1;for(;a-- >0;)if(!AP(e,t,r,n[a]))return!1;return!0}function Cl(e,t,r){const n=bw(e);let a=n.length;if(bw(t).length!==a)return!1;let o,i,s;for(;a-- >0;)if(o=n[a],!AP(e,t,r,o)||(i=ww(e,o),s=ww(t,o),(i||s)&&(!i||!s||i.configurable!==s.configurable||i.enumerable!==s.enumerable||i.writable!==s.writable)))return!1;return!0}function oG(e,t){return Ai(e.valueOf(),t.valueOf())}function iG(e,t){return e.source===t.source&&e.flags===t.flags}function jw(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),o=e.values();let i,s;for(;(i=o.next())&&!i.done;){const l=t.values();let c=!1,f=0;for(;(s=l.next())&&!s.done;){if(!a[f]&&r.equals(i.value,s.value,i.value,s.value,e,t,r)){c=a[f]=!0;break}f++}if(!c)return!1}return!0}function hd(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function sG(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function AP(e,t,r,n){return(n===qU||n===YU||n===XU)&&(e.$$typeof||t.$$typeof)?!0:KU(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const lG="[object ArrayBuffer]",cG="[object Arguments]",uG="[object Boolean]",fG="[object DataView]",dG="[object Date]",hG="[object Error]",pG="[object Map]",gG="[object Number]",mG="[object Object]",yG="[object RegExp]",vG="[object Set]",xG="[object String]",bG={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},wG="[object URL]",kG=Object.prototype.toString;function SG({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:a,areFunctionsEqual:o,areMapsEqual:i,areNumbersEqual:s,areObjectsEqual:l,arePrimitiveWrappersEqual:c,areRegExpsEqual:f,areSetsEqual:d,areTypedArraysEqual:h,areUrlsEqual:p,unknownTagComparators:m}){return function(x,y,g){if(x===y)return!0;if(x==null||y==null)return!1;const b=typeof x;if(b!==typeof y)return!1;if(b!=="object")return b==="number"?s(x,y,g):b==="function"?o(x,y,g):!1;const S=x.constructor;if(S!==y.constructor)return!1;if(S===Object)return l(x,y,g);if(Array.isArray(x))return t(x,y,g);if(S===Date)return n(x,y,g);if(S===RegExp)return f(x,y,g);if(S===Map)return i(x,y,g);if(S===Set)return d(x,y,g);const w=kG.call(x);if(w===dG)return n(x,y,g);if(w===yG)return f(x,y,g);if(w===pG)return i(x,y,g);if(w===vG)return d(x,y,g);if(w===mG)return typeof x.then!="function"&&typeof y.then!="function"&&l(x,y,g);if(w===wG)return p(x,y,g);if(w===hG)return a(x,y,g);if(w===cG)return l(x,y,g);if(bG[w])return h(x,y,g);if(w===lG)return e(x,y,g);if(w===fG)return r(x,y,g);if(w===uG||w===gG||w===xG)return c(x,y,g);if(m){let k=m[w];if(!k){const j=VU(x);j&&(k=m[j])}if(k)return k(x,y,g)}return!1}}function jG({circular:e,createCustomConfig:t,strict:r}){let n={areArrayBuffersEqual:QU,areArraysEqual:r?Cl:ZU,areDataViewsEqual:JU,areDatesEqual:eG,areErrorsEqual:tG,areFunctionsEqual:rG,areMapsEqual:r?Vp(Sw,Cl):Sw,areNumbersEqual:nG,areObjectsEqual:r?Cl:aG,arePrimitiveWrappersEqual:oG,areRegExpsEqual:iG,areSetsEqual:r?Vp(jw,Cl):jw,areTypedArraysEqual:r?Vp(hd,Cl):hd,areUrlsEqual:sG,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const a=Xu(n.areArraysEqual),o=Xu(n.areMapsEqual),i=Xu(n.areObjectsEqual),s=Xu(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:i,areSetsEqual:s})}return n}function OG(e){return function(t,r,n,a,o,i,s){return e(t,r,s)}}function PG({circular:e,comparator:t,createState:r,equals:n,strict:a}){if(r)return function(s,l){const{cache:c=e?new WeakMap:void 0,meta:f}=r();return t(s,l,{cache:c,equals:n,meta:f,strict:a})};if(e)return function(s,l){return t(s,l,{cache:new WeakMap,equals:n,meta:void 0,strict:a})};const o={cache:void 0,equals:n,meta:void 0,strict:a};return function(s,l){return t(s,l,o)}}const _G=Fo();Fo({strict:!0});Fo({circular:!0});Fo({circular:!0,strict:!0});Fo({createInternalComparator:()=>Ai});Fo({strict:!0,createInternalComparator:()=>Ai});Fo({circular:!0,createInternalComparator:()=>Ai});Fo({circular:!0,createInternalComparator:()=>Ai,strict:!0});function Fo(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:a=!1}=e,o=jG(e),i=SG(o),s=r?r(i):OG(i);return PG({circular:t,comparator:i,createState:n,equals:s,strict:a})}function NG(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function Ow(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(o){r<0&&(r=o),o-r>t?(e(o),r=-1):NG(a)};requestAnimationFrame(n)}function Kg(e){"@babel/helpers - typeof";return Kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kg(e)}function AG(e){return TG(e)||EG(e)||CG(e)||MG()}function MG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CG(e,t){if(e){if(typeof e=="string")return Pw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pw(e,t)}}function Pw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function EG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function TG(e){if(Array.isArray(e))return e}function $G(){var e={},t=function(){return null},r=!1,n=function a(o){if(!r){if(Array.isArray(o)){if(!o.length)return;var i=o,s=AG(i),l=s[0],c=s.slice(1);if(typeof l=="number"){Ow(a.bind(null,c),l);return}a(l),Ow(a.bind(null,c));return}Kg(o)==="object"&&(e=o,t(e)),typeof o=="function"&&o()}};return{stop:function(){r=!0},start:function(o){r=!1,n(o)},subscribe:function(o){return t=o,function(){t=function(){return null}}}}}function Fc(e){"@babel/helpers - typeof";return Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fc(e)}function _w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_w(Object(r),!0).forEach(function(n){MP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_w(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MP(e,t,r){return t=DG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DG(e){var t=RG(e,"string");return Fc(t)==="symbol"?t:String(t)}function RG(e,t){if(Fc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LG=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(o){return a.includes(o)})})},IG=function(t){return t},BG=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},ql=function(t,r){return Object.keys(r).reduce(function(n,a){return Nw(Nw({},n),{},MP({},a,t(a,r[a])))},{})},Aw=function(t,r,n){return t.map(function(a){return"".concat(BG(a)," ").concat(r,"ms ").concat(n)}).join(",")};function FG(e,t){return UG(e)||WG(e,t)||CP(e,t)||zG()}function zG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WG(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function UG(e){if(Array.isArray(e))return e}function GG(e){return KG(e)||VG(e)||CP(e)||HG()}function HG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CP(e,t){if(e){if(typeof e=="string")return Xg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xg(e,t)}}function VG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function KG(e){if(Array.isArray(e))return Xg(e)}function Xg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var pd=1e-4,EP=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},TP=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},Mw=function(t,r){return function(n){var a=EP(t,r);return TP(a,n)}},XG=function(t,r){return function(n){var a=EP(t,r),o=[].concat(GG(a.map(function(i,s){return i*s}).slice(1)),[0]);return TP(o,n)}},Cw=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],o=r[1],i=r[2],s=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,o=0,i=1,s=1;break;case"ease":a=.25,o=.1,i=.25,s=1;break;case"ease-in":a=.42,o=0,i=1,s=1;break;case"ease-out":a=.42,o=0,i=.58,s=1;break;case"ease-in-out":a=0,o=0,i=.58,s=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),f=FG(c,4);a=f[0],o=f[1],i=f[2],s=f[3]}}}var d=Mw(a,i),h=Mw(o,s),p=XG(a,i),m=function(y){return y>1?1:y<0?0:y},v=function(y){for(var g=y>1?1:y,b=g,S=0;S<8;++S){var w=d(b)-g,k=p(b);if(Math.abs(w-g)<pd||k<pd)return h(b);b=m(b-w/k)}return h(b)};return v.isStepper=!1,v},YG=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,o=a===void 0?8:a,i=t.dt,s=i===void 0?17:i,l=function(f,d,h){var p=-(f-d)*n,m=h*o,v=h+(p-m)*s/1e3,x=h*s/1e3+f;return Math.abs(x-d)<pd&&Math.abs(v)<pd?[d,0]:[x,v]};return l.isStepper=!0,l.dt=s,l},qG=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Cw(a);case"spring":return YG();default:if(a.split("(")[0]==="cubic-bezier")return Cw(a)}return typeof a=="function"?a:null};function zc(e){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zc(e)}function Ew(e){return JG(e)||ZG(e)||$P(e)||QG()}function QG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function JG(e){if(Array.isArray(e))return qg(e)}function Tw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $r(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tw(Object(r),!0).forEach(function(n){Yg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yg(e,t,r){return t=eH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eH(e){var t=tH(e,"string");return zc(t)==="symbol"?t:String(t)}function tH(e,t){if(zc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rH(e,t){return oH(e)||aH(e,t)||$P(e,t)||nH()}function nH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $P(e,t){if(e){if(typeof e=="string")return qg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qg(e,t)}}function qg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function aH(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function oH(e){if(Array.isArray(e))return e}var gd=function(t,r,n){return t+(r-t)*n},Qg=function(t){var r=t.from,n=t.to;return r!==n},iH=function e(t,r,n){var a=ql(function(o,i){if(Qg(i)){var s=t(i.from,i.to,i.velocity),l=rH(s,2),c=l[0],f=l[1];return $r($r({},i),{},{from:c,velocity:f})}return i},r);return n<1?ql(function(o,i){return Qg(i)?$r($r({},i),{},{velocity:gd(i.velocity,a[o].velocity,n),from:gd(i.from,a[o].from,n)}):i},r):e(t,a,n-1)};const sH=function(e,t,r,n,a){var o=LG(e,t),i=o.reduce(function(x,y){return $r($r({},x),{},Yg({},y,[e[y],t[y]]))},{}),s=o.reduce(function(x,y){return $r($r({},x),{},Yg({},y,{from:e[y],velocity:0,to:t[y]}))},{}),l=-1,c,f,d=function(){return null},h=function(){return ql(function(y,g){return g.from},s)},p=function(){return!Object.values(s).filter(Qg).length},m=function(y){c||(c=y);var g=y-c,b=g/r.dt;s=iH(r,s,b),a($r($r($r({},e),t),h())),c=y,p()||(l=requestAnimationFrame(d))},v=function(y){f||(f=y);var g=(y-f)/n,b=ql(function(w,k){return gd.apply(void 0,Ew(k).concat([r(g)]))},i);if(a($r($r($r({},e),t),b)),g<1)l=requestAnimationFrame(d);else{var S=ql(function(w,k){return gd.apply(void 0,Ew(k).concat([r(1)]))},i);a($r($r($r({},e),t),S))}};return d=r.isStepper?m:v,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function Es(e){"@babel/helpers - typeof";return Es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Es(e)}var lH=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function cH(e,t){if(e==null)return{};var r=uH(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function uH(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,o;for(o=0;o<n.length;o++)a=n[o],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Kp(e){return pH(e)||hH(e)||dH(e)||fH()}function fH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dH(e,t){if(e){if(typeof e=="string")return Zg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Zg(e,t)}}function hH(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function pH(e){if(Array.isArray(e))return Zg(e)}function Zg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ra(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$w(Object(r),!0).forEach(function(n){Ll(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$w(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ll(e,t,r){return t=DP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mH(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,DP(n.key),n)}}function yH(e,t,r){return t&&mH(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function DP(e){var t=vH(e,"string");return Es(t)==="symbol"?t:String(t)}function vH(e,t){if(Es(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Es(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xH(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jg(e,t)}function Jg(e,t){return Jg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Jg(e,t)}function bH(e){var t=wH();return function(){var n=md(e),a;if(t){var o=md(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return em(this,a)}}function em(e,t){if(t&&(Es(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tm(e)}function tm(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wH(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function md(e){return md=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},md(e)}var ha=function(e){xH(r,e);var t=bH(r);function r(n,a){var o;gH(this,r),o=t.call(this,n,a);var i=o.props,s=i.isActive,l=i.attributeName,c=i.from,f=i.to,d=i.steps,h=i.children,p=i.duration;if(o.handleStyleChange=o.handleStyleChange.bind(tm(o)),o.changeStyle=o.changeStyle.bind(tm(o)),!s||p<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:f}),em(o);if(d&&d.length)o.state={style:d[0].style};else if(c){if(typeof h=="function")return o.state={style:c},em(o);o.state={style:l?Ll({},l,c):c}}else o.state={style:{}};return o}return yH(r,[{key:"componentDidMount",value:function(){var a=this.props,o=a.isActive,i=a.canBegin;this.mounted=!0,!(!o||!i)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var o=this.props,i=o.isActive,s=o.canBegin,l=o.attributeName,c=o.shouldReAnimate,f=o.to,d=o.from,h=this.state.style;if(s){if(!i){var p={style:l?Ll({},l,f):f};this.state&&h&&(l&&h[l]!==f||!l&&h!==f)&&this.setState(p);return}if(!(_G(a.to,f)&&a.canBegin&&a.isActive)){var m=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=m||c?d:a.to;if(this.state&&h){var x={style:l?Ll({},l,v):v};(l&&h[l]!==v||!l&&h!==v)&&this.setState(x)}this.runAnimation(ra(ra({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var o=this,i=a.from,s=a.to,l=a.duration,c=a.easing,f=a.begin,d=a.onAnimationEnd,h=a.onAnimationStart,p=sH(i,s,qG(c),l,this.changeStyle),m=function(){o.stopJSAnimation=p()};this.manager.start([h,f,m,l,d])}},{key:"runStepAnimation",value:function(a){var o=this,i=a.steps,s=a.begin,l=a.onAnimationStart,c=i[0],f=c.style,d=c.duration,h=d===void 0?0:d,p=function(v,x,y){if(y===0)return v;var g=x.duration,b=x.easing,S=b===void 0?"ease":b,w=x.style,k=x.properties,j=x.onAnimationEnd,P=y>0?i[y-1]:x,_=k||Object.keys(w);if(typeof S=="function"||S==="spring")return[].concat(Kp(v),[o.runJSAnimation.bind(o,{from:P.style,to:w,duration:g,easing:S}),g]);var A=Aw(_,g,S),N=ra(ra(ra({},P.style),w),{},{transition:A});return[].concat(Kp(v),[N,g,j]).filter(IG)};return this.manager.start([l].concat(Kp(i.reduce(p,[f,Math.max(h,s)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=$G());var o=a.begin,i=a.duration,s=a.attributeName,l=a.to,c=a.easing,f=a.onAnimationStart,d=a.onAnimationEnd,h=a.steps,p=a.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var v=s?Ll({},s,l):l,x=Aw(Object.keys(v),i,c);m.start([f,o,ra(ra({},v),{},{transition:x}),i,d])}},{key:"render",value:function(){var a=this.props,o=a.children;a.begin;var i=a.duration;a.attributeName,a.easing;var s=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var l=cH(a,lH),c=O.Children.count(o),f=this.state.style;if(typeof o=="function")return o(f);if(!s||c===0||i<=0)return o;var d=function(p){var m=p.props,v=m.style,x=v===void 0?{}:v,y=m.className,g=O.cloneElement(p,ra(ra({},l),{},{style:ra(ra({},x),f),className:y}));return g};return c===1?d(O.Children.only(o)):M.createElement("div",null,O.Children.map(o,function(h){return d(h)}))}}]),r}(O.PureComponent);ha.displayName="Animate";ha.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ha.propTypes={from:xt.oneOfType([xt.object,xt.string]),to:xt.oneOfType([xt.object,xt.string]),attributeName:xt.string,duration:xt.number,begin:xt.number,easing:xt.oneOfType([xt.string,xt.func]),steps:xt.arrayOf(xt.shape({duration:xt.number.isRequired,style:xt.object.isRequired,easing:xt.oneOfType([xt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),xt.func]),properties:xt.arrayOf("string"),onAnimationEnd:xt.func})),children:xt.oneOfType([xt.node,xt.func]),isActive:xt.bool,canBegin:xt.bool,onAnimationEnd:xt.func,shouldReAnimate:xt.bool,onAnimationStart:xt.func,onAnimationReStart:xt.func};function Wc(e){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wc(e)}function yd(){return yd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yd.apply(this,arguments)}function kH(e,t){return PH(e)||OH(e,t)||jH(e,t)||SH()}function SH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jH(e,t){if(e){if(typeof e=="string")return Dw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dw(e,t)}}function Dw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function OH(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function PH(e){if(Array.isArray(e))return e}function Rw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rw(Object(r),!0).forEach(function(n){_H(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _H(e,t,r){return t=NH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NH(e){var t=AH(e,"string");return Wc(t)=="symbol"?t:t+""}function AH(e,t){if(Wc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Iw=function(t,r,n,a,o){var i=Math.min(Math.abs(n)/2,Math.abs(a)/2),s=a>=0?1:-1,l=n>=0?1:-1,c=a>=0&&n>=0||a<0&&n<0?1:0,f;if(i>0&&o instanceof Array){for(var d=[0,0,0,0],h=0,p=4;h<p;h++)d[h]=o[h]>i?i:o[h];f="M".concat(t,",").concat(r+s*d[0]),d[0]>0&&(f+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(t+l*d[0],",").concat(r)),f+="L ".concat(t+n-l*d[1],",").concat(r),d[1]>0&&(f+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(t+n,",").concat(r+s*d[1])),f+="L ".concat(t+n,",").concat(r+a-s*d[2]),d[2]>0&&(f+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(t+n-l*d[2],",").concat(r+a)),f+="L ".concat(t+l*d[3],",").concat(r+a),d[3]>0&&(f+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(r+a-s*d[3])),f+="Z"}else if(i>0&&o===+o&&o>0){var m=Math.min(i,o);f="M ".concat(t,",").concat(r+s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+l*m,",").concat(r,`
            L `).concat(t+n-l*m,",").concat(r,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+n,",").concat(r+s*m,`
            L `).concat(t+n,",").concat(r+a-s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+n-l*m,",").concat(r+a,`
            L `).concat(t+l*m,",").concat(r+a,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t,",").concat(r+a-s*m," Z")}else f="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return f},MH=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,o=r.x,i=r.y,s=r.width,l=r.height;if(Math.abs(s)>0&&Math.abs(l)>0){var c=Math.min(o,o+s),f=Math.max(o,o+s),d=Math.min(i,i+l),h=Math.max(i,i+l);return n>=c&&n<=f&&a>=d&&a<=h}return!1},CH={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},bv=function(t){var r=Lw(Lw({},CH),t),n=O.useRef(),a=O.useState(-1),o=kH(a,2),i=o[0],s=o[1];O.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&s(S)}catch{}},[]);var l=r.x,c=r.y,f=r.width,d=r.height,h=r.radius,p=r.className,m=r.animationEasing,v=r.animationDuration,x=r.animationBegin,y=r.isAnimationActive,g=r.isUpdateAnimationActive;if(l!==+l||c!==+c||f!==+f||d!==+d||f===0||d===0)return null;var b=et("recharts-rectangle",p);return g?M.createElement(ha,{canBegin:i>0,from:{width:f,height:d,x:l,y:c},to:{width:f,height:d,x:l,y:c},duration:v,animationEasing:m,isActive:g},function(S){var w=S.width,k=S.height,j=S.x,P=S.y;return M.createElement(ha,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:v,isActive:y,easing:m},M.createElement("path",yd({},Le(r,!0),{className:b,d:Iw(j,P,w,k,h),ref:n})))}):M.createElement("path",yd({},Le(r,!0),{className:b,d:Iw(l,c,f,d,h)}))};function rm(){return rm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rm.apply(this,arguments)}var Th=function(t){var r=t.cx,n=t.cy,a=t.r,o=t.className,i=et("recharts-dot",o);return r===+r&&n===+n&&a===+a?O.createElement("circle",rm({},Le(t,!1),Rf(t),{className:i,cx:r,cy:n,r:a})):null};function Uc(e){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uc(e)}var EH=["x","y","top","left","width","height","className"];function nm(){return nm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nm.apply(this,arguments)}function Bw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function TH(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bw(Object(r),!0).forEach(function(n){$H(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $H(e,t,r){return t=DH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DH(e){var t=RH(e,"string");return Uc(t)=="symbol"?t:t+""}function RH(e,t){if(Uc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Uc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LH(e,t){if(e==null)return{};var r=IH(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function IH(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var BH=function(t,r,n,a,o,i){return"M".concat(t,",").concat(o,"v").concat(a,"M").concat(i,",").concat(r,"h").concat(n)},FH=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,o=a===void 0?0:a,i=t.top,s=i===void 0?0:i,l=t.left,c=l===void 0?0:l,f=t.width,d=f===void 0?0:f,h=t.height,p=h===void 0?0:h,m=t.className,v=LH(t,EH),x=TH({x:n,y:o,top:s,left:c,width:d,height:p},v);return!se(n)||!se(o)||!se(d)||!se(p)||!se(s)||!se(c)?null:M.createElement("path",nm({},Le(x,!0),{className:et("recharts-cross",m),d:BH(n,o,d,p,s,c)}))},zH=qj,WH=zH(Object.getPrototypeOf,Object),UH=WH,GH=ro,HH=UH,VH=no,KH="[object Object]",XH=Function.prototype,YH=Object.prototype,RP=XH.toString,qH=YH.hasOwnProperty,QH=RP.call(Object);function ZH(e){if(!VH(e)||GH(e)!=KH)return!1;var t=HH(e);if(t===null)return!0;var r=qH.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&RP.call(r)==QH}var JH=ZH;const eV=It(JH);var tV=ro,rV=no,nV="[object Boolean]";function aV(e){return e===!0||e===!1||rV(e)&&tV(e)==nV}var oV=aV;const iV=It(oV);function Gc(e){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gc(e)}function vd(){return vd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vd.apply(this,arguments)}function sV(e,t){return fV(e)||uV(e,t)||cV(e,t)||lV()}function lV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cV(e,t){if(e){if(typeof e=="string")return Fw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Fw(e,t)}}function Fw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function uV(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function fV(e){if(Array.isArray(e))return e}function zw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ww(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zw(Object(r),!0).forEach(function(n){dV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dV(e,t,r){return t=hV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hV(e){var t=pV(e,"string");return Gc(t)=="symbol"?t:t+""}function pV(e,t){if(Gc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Uw=function(t,r,n,a,o){var i=n-a,s;return s="M ".concat(t,",").concat(r),s+="L ".concat(t+n,",").concat(r),s+="L ".concat(t+n-i/2,",").concat(r+o),s+="L ".concat(t+n-i/2-a,",").concat(r+o),s+="L ".concat(t,",").concat(r," Z"),s},gV={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},mV=function(t){var r=Ww(Ww({},gV),t),n=O.useRef(),a=O.useState(-1),o=sV(a,2),i=o[0],s=o[1];O.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&s(b)}catch{}},[]);var l=r.x,c=r.y,f=r.upperWidth,d=r.lowerWidth,h=r.height,p=r.className,m=r.animationEasing,v=r.animationDuration,x=r.animationBegin,y=r.isUpdateAnimationActive;if(l!==+l||c!==+c||f!==+f||d!==+d||h!==+h||f===0&&d===0||h===0)return null;var g=et("recharts-trapezoid",p);return y?M.createElement(ha,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:f,lowerWidth:d,height:h,x:l,y:c},duration:v,animationEasing:m,isActive:y},function(b){var S=b.upperWidth,w=b.lowerWidth,k=b.height,j=b.x,P=b.y;return M.createElement(ha,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:v,easing:m},M.createElement("path",vd({},Le(r,!0),{className:g,d:Uw(j,P,S,w,k),ref:n})))}):M.createElement("g",null,M.createElement("path",vd({},Le(r,!0),{className:g,d:Uw(l,c,f,d,h)})))},yV=["option","shapeType","propTransformer","activeClassName","isActive"];function Hc(e){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hc(e)}function vV(e,t){if(e==null)return{};var r=xV(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xV(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Gw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gw(Object(r),!0).forEach(function(n){bV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bV(e,t,r){return t=wV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wV(e){var t=kV(e,"string");return Hc(t)=="symbol"?t:t+""}function kV(e,t){if(Hc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SV(e,t){return xd(xd({},t),e)}function jV(e,t){return e==="symbols"}function Hw(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return M.createElement(bv,r);case"trapezoid":return M.createElement(mV,r);case"sector":return M.createElement(OP,r);case"symbols":if(jV(t))return M.createElement(bh,r);break;default:return null}}function OV(e){return O.isValidElement(e)?e.props:e}function am(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?SV:n,o=e.activeClassName,i=o===void 0?"recharts-active-shape":o,s=e.isActive,l=vV(e,yV),c;if(O.isValidElement(t))c=O.cloneElement(t,xd(xd({},l),OV(t)));else if(ze(t))c=t(l);else if(eV(t)&&!iV(t)){var f=a(t,l);c=M.createElement(Hw,{shapeType:r,elementProps:f})}else{var d=l;c=M.createElement(Hw,{shapeType:r,elementProps:d})}return s?M.createElement(dt,{className:i},c):c}function $h(e,t){return t!=null&&"trapezoids"in e.props}function Dh(e,t){return t!=null&&"sectors"in e.props}function Vc(e,t){return t!=null&&"points"in e.props}function PV(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,o=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&o}function _V(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function NV(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function AV(e,t){var r;return $h(e,t)?r=PV:Dh(e,t)?r=_V:Vc(e,t)&&(r=NV),r}function MV(e,t){var r;return $h(e,t)?r="trapezoids":Dh(e,t)?r="sectors":Vc(e,t)&&(r="points"),r}function CV(e,t){if($h(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Dh(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Vc(e,t)?t.payload:{}}function EV(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=MV(r,t),o=CV(r,t),i=n.filter(function(l,c){var f=vi(o,l),d=r.props[a].filter(function(m){var v=AV(r,t);return v(m,t)}),h=r.props[a].indexOf(d[d.length-1]),p=c===h;return f&&p}),s=n.indexOf(i[i.length-1]);return s}var TV=Math.ceil,$V=Math.max;function DV(e,t,r,n){for(var a=-1,o=$V(TV((t-e)/(r||1)),0),i=Array(o);o--;)i[n?o:++a]=e,e+=r;return i}var RV=DV,LV=gO,Vw=1/0,IV=17976931348623157e292;function BV(e){if(!e)return e===0?e:0;if(e=LV(e),e===Vw||e===-Vw){var t=e<0?-1:1;return t*IV}return e===e?e:0}var LP=BV,FV=RV,zV=Sh,Xp=LP;function WV(e){return function(t,r,n){return n&&typeof n!="number"&&zV(t,r,n)&&(r=n=void 0),t=Xp(t),r===void 0?(r=t,t=0):r=Xp(r),n=n===void 0?t<r?1:-1:Xp(n),FV(t,r,n,e)}}var UV=WV,GV=UV,HV=GV(),VV=HV;const bd=It(VV);function Kc(e){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kc(e)}function Kw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kw(Object(r),!0).forEach(function(n){IP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IP(e,t,r){return t=KV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KV(e){var t=XV(e,"string");return Kc(t)=="symbol"?t:t+""}function XV(e,t){if(Kc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YV=["Webkit","Moz","O","ms"],qV=function(t,r){var n=t.replace(/(\w)/,function(o){return o.toUpperCase()}),a=YV.reduce(function(o,i){return Xw(Xw({},o),{},IP({},i+n,r))},{});return a[t]=r,a};function Ts(e){"@babel/helpers - typeof";return Ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ts(e)}function wd(){return wd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wd.apply(this,arguments)}function Yw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yw(Object(r),!0).forEach(function(n){Pn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,FP(n.key),n)}}function ZV(e,t,r){return t&&qw(e.prototype,t),r&&qw(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function JV(e,t,r){return t=kd(t),eK(e,BP()?Reflect.construct(t,r||[],kd(e).constructor):t.apply(e,r))}function eK(e,t){if(t&&(Ts(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tK(e)}function tK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BP=function(){return!!e})()}function kd(e){return kd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kd(e)}function rK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&om(e,t)}function om(e,t){return om=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},om(e,t)}function Pn(e,t,r){return t=FP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FP(e){var t=nK(e,"string");return Ts(t)=="symbol"?t:t+""}function nK(e,t){if(Ts(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ts(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var aK=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,o=t.x,i=t.width,s=t.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=Xl().domain(bd(0,l)).range([o,o+i-s]),f=c.domain().map(function(d){return c(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(a),scale:c,scaleValues:f}},Qw=function(t){return t.changedTouches&&!!t.changedTouches.length},$s=function(e){function t(r){var n;return QV(this,t),n=JV(this,t,[r]),Pn(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Pn(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Pn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,o=a.endIndex,i=a.onDragEnd,s=a.startIndex;i==null||i({endIndex:o,startIndex:s})}),n.detachDragEndListener()}),Pn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Pn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Pn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Pn(n,"handleSlideDragStart",function(a){var o=Qw(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return rK(t,e),ZV(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,o=n.endX,i=this.state.scaleValues,s=this.props,l=s.gap,c=s.data,f=c.length-1,d=Math.min(a,o),h=Math.max(a,o),p=t.getIndexInRange(i,d),m=t.getIndexInRange(i,h);return{startIndex:p-p%l,endIndex:m===f?f:m-m%l}}},{key:"getTextOfTick",value:function(n){var a=this.props,o=a.data,i=a.tickFormatter,s=a.dataKey,l=Pr(o[n],s,n);return ze(i)?i(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,o=a.slideMoveStartX,i=a.startX,s=a.endX,l=this.props,c=l.x,f=l.width,d=l.travellerWidth,h=l.startIndex,p=l.endIndex,m=l.onChange,v=n.pageX-o;v>0?v=Math.min(v,c+f-d-s,c+f-d-i):v<0&&(v=Math.max(v,c-i,c-s));var x=this.getIndex({startX:i+v,endX:s+v});(x.startIndex!==h||x.endIndex!==p)&&m&&m(x),this.setState({startX:i+v,endX:s+v,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var o=Qw(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,o=a.brushMoveStartX,i=a.movingTravellerId,s=a.endX,l=a.startX,c=this.state[i],f=this.props,d=f.x,h=f.width,p=f.travellerWidth,m=f.onChange,v=f.gap,x=f.data,y={startX:this.state.startX,endX:this.state.endX},g=n.pageX-o;g>0?g=Math.min(g,d+h-p-c):g<0&&(g=Math.max(g,d-c)),y[i]=c+g;var b=this.getIndex(y),S=b.startIndex,w=b.endIndex,k=function(){var P=x.length-1;return i==="startX"&&(s>l?S%v===0:w%v===0)||s<l&&w===P||i==="endX"&&(s>l?w%v===0:S%v===0)||s>l&&w===P};this.setState(Pn(Pn({},i,c+g),"brushMoveStartX",n.pageX),function(){m&&k()&&m(b)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var o=this,i=this.state,s=i.scaleValues,l=i.startX,c=i.endX,f=this.state[a],d=s.indexOf(f);if(d!==-1){var h=d+n;if(!(h===-1||h>=s.length)){var p=s[h];a==="startX"&&p>=c||a==="endX"&&p<=l||this.setState(Pn({},a,p),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,o=n.y,i=n.width,s=n.height,l=n.fill,c=n.stroke;return M.createElement("rect",{stroke:c,fill:l,x:a,y:o,width:i,height:s})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,o=n.y,i=n.width,s=n.height,l=n.data,c=n.children,f=n.padding,d=O.Children.only(c);return d?M.cloneElement(d,{x:a,y:o,width:i,height:s,margin:f,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,a){var o,i,s=this,l=this.props,c=l.y,f=l.travellerWidth,d=l.height,h=l.traveller,p=l.ariaLabel,m=l.data,v=l.startIndex,x=l.endIndex,y=Math.max(n,this.props.x),g=Yp(Yp({},Le(this.props,!1)),{},{x:y,y:c,width:f,height:d}),b=p||"Min value: ".concat((o=m[v])===null||o===void 0?void 0:o.name,", Max value: ").concat((i=m[x])===null||i===void 0?void 0:i.name);return M.createElement(dt,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),s.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,a))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,g))}},{key:"renderSlide",value:function(n,a){var o=this.props,i=o.y,s=o.height,l=o.stroke,c=o.travellerWidth,f=Math.min(n,a)+c,d=Math.max(Math.abs(a-n)-c,0);return M.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:f,y:i,width:d,height:s})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,o=n.endIndex,i=n.y,s=n.height,l=n.travellerWidth,c=n.stroke,f=this.state,d=f.startX,h=f.endX,p=5,m={pointerEvents:"none",fill:c};return M.createElement(dt,{className:"recharts-brush-texts"},M.createElement(qf,wd({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-p,y:i+s/2},m),this.getTextOfTick(a)),M.createElement(qf,wd({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+l+p,y:i+s/2},m),this.getTextOfTick(o)))}},{key:"render",value:function(){var n=this.props,a=n.data,o=n.className,i=n.children,s=n.x,l=n.y,c=n.width,f=n.height,d=n.alwaysShowText,h=this.state,p=h.startX,m=h.endX,v=h.isTextActive,x=h.isSlideMoving,y=h.isTravellerMoving,g=h.isTravellerFocused;if(!a||!a.length||!se(s)||!se(l)||!se(c)||!se(f)||c<=0||f<=0)return null;var b=et("recharts-brush",o),S=M.Children.count(i)===1,w=qV("userSelect","none");return M.createElement(dt,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(p,m),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(m,"endX"),(v||x||y||g||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,o=n.y,i=n.width,s=n.height,l=n.stroke,c=Math.floor(o+s/2)-1;return M.createElement(M.Fragment,null,M.createElement("rect",{x:a,y:o,width:i,height:s,fill:l,stroke:"none"}),M.createElement("line",{x1:a+1,y1:c,x2:a+i-1,y2:c,fill:"none",stroke:"#fff"}),M.createElement("line",{x1:a+1,y1:c+2,x2:a+i-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var o;return M.isValidElement(n)?o=M.cloneElement(n,a):ze(n)?o=n(a):o=t.renderDefaultTraveller(a),o}},{key:"getDerivedStateFromProps",value:function(n,a){var o=n.data,i=n.width,s=n.x,l=n.travellerWidth,c=n.updateId,f=n.startIndex,d=n.endIndex;if(o!==a.prevData||c!==a.prevUpdateId)return Yp({prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:i},o&&o.length?aK({data:o,width:i,x:s,travellerWidth:l,startIndex:f,endIndex:d}):{scale:null,scaleValues:null});if(a.scale&&(i!==a.prevWidth||s!==a.prevX||l!==a.prevTravellerWidth)){a.scale.range([s,s+i-l]);var h=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:i,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var o=n.length,i=0,s=o-1;s-i>1;){var l=Math.floor((i+s)/2);n[l]>a?s=l:i=l}return a>=n[s]?s:i}}])}(O.PureComponent);Pn($s,"displayName","Brush");Pn($s,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var oK=Hy;function iK(e,t){var r;return oK(e,function(n,a,o){return r=t(n,a,o),!r}),!!r}var sK=iK,lK=Wj,cK=Ro,uK=sK,fK=wn,dK=Sh;function hK(e,t,r){var n=fK(e)?lK:uK;return r&&dK(e,t,r)&&(t=void 0),n(e,cK(t))}var pK=hK;const gK=It(pK);var Ma=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},Zw=uO;function mK(e,t,r){t=="__proto__"&&Zw?Zw(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var yK=mK,vK=yK,xK=lO,bK=Ro;function wK(e,t){var r={};return t=bK(t),xK(e,function(n,a,o){vK(r,a,t(n,a,o))}),r}var kK=wK;const SK=It(kK);function jK(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var OK=jK,PK=Hy;function _K(e,t){var r=!0;return PK(e,function(n,a,o){return r=!!t(n,a,o),r}),r}var NK=_K,AK=OK,MK=NK,CK=Ro,EK=wn,TK=Sh;function $K(e,t,r){var n=EK(e)?AK:MK;return r&&TK(e,t,r)&&(t=void 0),n(e,CK(t))}var DK=$K;const zP=It(DK);var RK=["x","y"];function Xc(e){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xc(e)}function im(){return im=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},im.apply(this,arguments)}function Jw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function El(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jw(Object(r),!0).forEach(function(n){LK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LK(e,t,r){return t=IK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IK(e){var t=BK(e,"string");return Xc(t)=="symbol"?t:t+""}function BK(e,t){if(Xc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FK(e,t){if(e==null)return{};var r=zK(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function WK(e,t){var r=e.x,n=e.y,a=FK(e,RK),o="".concat(r),i=parseInt(o,10),s="".concat(n),l=parseInt(s,10),c="".concat(t.height||a.height),f=parseInt(c,10),d="".concat(t.width||a.width),h=parseInt(d,10);return El(El(El(El(El({},t),a),i?{x:i}:{}),l?{y:l}:{}),{},{height:f,width:h,name:t.name,radius:t.radius})}function e2(e){return M.createElement(am,im({shapeType:"rectangle",propTransformer:WK,activeClassName:"recharts-active-bar"},e))}var UK=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var o=se(n)||n5(n);return o?t(n,a):(o||bi(),r)}},GK=["value","background"],WP;function Ds(e){"@babel/helpers - typeof";return Ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ds(e)}function HK(e,t){if(e==null)return{};var r=VK(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function VK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Sd(){return Sd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sd.apply(this,arguments)}function t2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t2(Object(r),!0).forEach(function(n){xo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,GP(n.key),n)}}function XK(e,t,r){return t&&r2(e.prototype,t),r&&r2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function YK(e,t,r){return t=jd(t),qK(e,UP()?Reflect.construct(t,r||[],jd(e).constructor):t.apply(e,r))}function qK(e,t){if(t&&(Ds(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QK(e)}function QK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UP=function(){return!!e})()}function jd(e){return jd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jd(e)}function ZK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sm(e,t)}function sm(e,t){return sm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},sm(e,t)}function xo(e,t,r){return t=GP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GP(e){var t=JK(e,"string");return Ds(t)=="symbol"?t:t+""}function JK(e,t){if(Ds(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ds(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var uu=function(e){function t(){var r;KK(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=YK(this,t,[].concat(a)),xo(r,"state",{isAnimationFinished:!1}),xo(r,"id",Pi("recharts-bar-")),xo(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),i&&i()}),xo(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),i&&i()}),r}return ZK(t,e),XK(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,o=this.props,i=o.shape,s=o.dataKey,l=o.activeIndex,c=o.activeBar,f=Le(this.props,!1);return n&&n.map(function(d,h){var p=h===l,m=p?c:i,v=pr(pr(pr({},f),d),{},{isActive:p,option:m,index:h,dataKey:s,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return M.createElement(dt,Sd({className:"recharts-bar-rectangle"},yc(a.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(h)}),M.createElement(e2,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,o=a.data,i=a.layout,s=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,f=a.animationEasing,d=a.animationId,h=this.state.prevData;return M.createElement(ha,{begin:l,duration:c,isActive:s,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var m=p.t,v=o.map(function(x,y){var g=h&&h[y];if(g){var b=cr(g.x,x.x),S=cr(g.y,x.y),w=cr(g.width,x.width),k=cr(g.height,x.height);return pr(pr({},x),{},{x:b(m),y:S(m),width:w(m),height:k(m)})}if(i==="horizontal"){var j=cr(0,x.height),P=j(m);return pr(pr({},x),{},{y:x.y+x.height-P,height:P})}var _=cr(0,x.width),A=_(m);return pr(pr({},x),{},{width:A})});return M.createElement(dt,null,n.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,o=n.isAnimationActive,i=this.state.prevData;return o&&a&&a.length&&(!i||!vi(i,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,o=a.data,i=a.dataKey,s=a.activeIndex,l=Le(this.props.background,!1);return o.map(function(c,f){c.value;var d=c.background,h=HK(c,GK);if(!d)return null;var p=pr(pr(pr(pr(pr({},h),{},{fill:"#eee"},d),l),yc(n.props,c,f)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:i,index:f,className:"recharts-bar-background-rectangle"});return M.createElement(e2,Sd({key:"background-bar-".concat(f),option:n.props.background,isActive:f===s},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,i=o.data,s=o.xAxis,l=o.yAxis,c=o.layout,f=o.children,d=bn(f,ul);if(!d)return null;var h=c==="vertical"?i[0].height/2:i[0].width/2,p=function(x,y){var g=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:g,errorVal:Pr(x,y)}},m={clipPath:n?"url(#clipPath-".concat(a,")"):null};return M.createElement(dt,m,d.map(function(v){return M.cloneElement(v,{key:"error-bar-".concat(a,"-").concat(v.props.dataKey),data:i,xAxis:s,yAxis:l,layout:c,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,o=n.data,i=n.className,s=n.xAxis,l=n.yAxis,c=n.left,f=n.top,d=n.width,h=n.height,p=n.isAnimationActive,m=n.background,v=n.id;if(a||!o||!o.length)return null;var x=this.state.isAnimationFinished,y=et("recharts-bar",i),g=s&&s.allowDataOverflow,b=l&&l.allowDataOverflow,S=g||b,w=De(v)?this.id:v;return M.createElement(dt,{className:y},g||b?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(w)},M.createElement("rect",{x:g?c:c-d/2,y:b?f:f-h/2,width:g?d:d*2,height:b?h:h*2}))):null,M.createElement(dt,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(w,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,w),(!p||x)&&Aa.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(O.PureComponent);WP=uu;xo(uu,"displayName","Bar");xo(uu,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Lo.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});xo(uu,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,o=e.xAxis,i=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,f=e.dataStartIndex,d=e.displayedData,h=e.offset,p=PW(n,r);if(!p)return null;var m=t.layout,v=r.type.defaultProps,x=v!==void 0?pr(pr({},v),r.props):r.props,y=x.dataKey,g=x.children,b=x.minPointSize,S=m==="horizontal"?i:o,w=c?S.scale.domain():null,k=$W({numericAxis:S}),j=bn(g,Xy),P=d.map(function(_,A){var N,E,z,D,T,L;c?N=_W(c[f+A],w):(N=Pr(_,y),Array.isArray(N)||(N=[k,N]));var W=UK(b,WP.defaultProps.minPointSize)(N[1],A);if(m==="horizontal"){var I,R=[i.scale(N[0]),i.scale(N[1])],B=R[0],te=R[1];E=aw({axis:o,ticks:s,bandSize:a,offset:p.offset,entry:_,index:A}),z=(I=te??B)!==null&&I!==void 0?I:void 0,D=p.size;var X=B-te;if(T=Number.isNaN(X)?0:X,L={x:E,y:i.y,width:D,height:i.height},Math.abs(W)>0&&Math.abs(T)<Math.abs(W)){var H=ca(T||W)*(Math.abs(W)-Math.abs(T));z-=H,T+=H}}else{var U=[o.scale(N[0]),o.scale(N[1])],ue=U[0],fe=U[1];if(E=ue,z=aw({axis:i,ticks:l,bandSize:a,offset:p.offset,entry:_,index:A}),D=fe-ue,T=p.size,L={x:o.x,y:z,width:o.width,height:T},Math.abs(W)>0&&Math.abs(D)<Math.abs(W)){var ke=ca(D||W)*(Math.abs(W)-Math.abs(D));D+=ke}}return pr(pr(pr({},_),{},{x:E,y:z,width:D,height:T,value:c?N:N[1],payload:_,background:L},j&&j[A]&&j[A].props),{},{tooltipPayload:[kP(r,_)],tooltipPosition:{x:E+D/2,y:z+T/2}})});return pr({data:P,layout:m},h)});function Yc(e){"@babel/helpers - typeof";return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yc(e)}function eX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,HP(n.key),n)}}function tX(e,t,r){return t&&n2(e.prototype,t),r&&n2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a2(Object(r),!0).forEach(function(n){Rh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rh(e,t,r){return t=HP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HP(e){var t=rX(e,"string");return Yc(t)=="symbol"?t:t+""}function rX(e,t){if(Yc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wv=function(t,r,n,a,o){var i=t.width,s=t.height,l=t.layout,c=t.children,f=Object.keys(r),d={left:n.left,leftMirror:n.left,right:i-n.right,rightMirror:i-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},h=!!Nn(c,uu);return f.reduce(function(p,m){var v=r[m],x=v.orientation,y=v.domain,g=v.padding,b=g===void 0?{}:g,S=v.mirror,w=v.reversed,k="".concat(x).concat(S?"Mirror":""),j,P,_,A,N;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var E=y[1]-y[0],z=1/0,D=v.categoricalDomain.sort(s5);if(D.forEach(function(U,ue){ue>0&&(z=Math.min((U||0)-(D[ue-1]||0),z))}),Number.isFinite(z)){var T=z/E,L=v.layout==="vertical"?n.height:n.width;if(v.padding==="gap"&&(j=T*L/2),v.padding==="no-gap"){var W=yi(t.barCategoryGap,T*L),I=T*L/2;j=I-W-(I-W)/L*W}}}a==="xAxis"?P=[n.left+(b.left||0)+(j||0),n.left+n.width-(b.right||0)-(j||0)]:a==="yAxis"?P=l==="horizontal"?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(j||0),n.top+n.height-(b.bottom||0)-(j||0)]:P=v.range,w&&(P=[P[1],P[0]]);var R=jW(v,o,h),B=R.scale,te=R.realScaleType;B.domain(y).range(P),OW(B);var X=TW(B,oa(oa({},v),{},{realScaleType:te}));a==="xAxis"?(N=x==="top"&&!S||x==="bottom"&&S,_=n.left,A=d[k]-N*v.height):a==="yAxis"&&(N=x==="left"&&!S||x==="right"&&S,_=d[k]-N*v.width,A=n.top);var H=oa(oa(oa({},v),X),{},{realScaleType:te,x:_,y:A,scale:B,width:a==="xAxis"?n.width:v.width,height:a==="yAxis"?n.height:v.height});return H.bandSize=ud(H,X),!v.hide&&a==="xAxis"?d[k]+=(N?-1:1)*H.height:v.hide||(d[k]+=(N?-1:1)*H.width),oa(oa({},p),{},Rh({},m,H))},{})},VP=function(t,r){var n=t.x,a=t.y,o=r.x,i=r.y;return{x:Math.min(n,o),y:Math.min(a,i),width:Math.abs(o-n),height:Math.abs(i-a)}},nX=function(t){var r=t.x1,n=t.y1,a=t.x2,o=t.y2;return VP({x:r,y:n},{x:a,y:o})},KP=function(){function e(t){eX(this,e),this.scale=t}return tX(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,o=n.position;if(r!==void 0){if(o)switch(o){case"start":return this.scale(r);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(r)+s}default:return this.scale(r)}if(a){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],o=n[n.length-1];return a<=o?r>=a&&r<=o:r>=o&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();Rh(KP,"EPS",1e-4);var kv=function(t){var r=Object.keys(t).reduce(function(n,a){return oa(oa({},n),{},Rh({},a,KP.create(t[a])))},{});return oa(oa({},r),{},{apply:function(a){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=o.bandAware,s=o.position;return SK(a,function(l,c){return r[c].apply(l,{bandAware:i,position:s})})},isInRange:function(a){return zP(a,function(o,i){return r[i].isInRange(o)})}})};function aX(e){return(e%180+180)%180}var oX=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=aX(a),i=o*Math.PI/180,s=Math.atan(n/r),l=i>s&&i<Math.PI-s?n/Math.sin(i):r/Math.cos(i);return Math.abs(l)},iX=Ro,sX=ou,lX=wh;function cX(e){return function(t,r,n){var a=Object(t);if(!sX(t)){var o=iX(r);t=lX(t),r=function(s){return o(a[s],s,a)}}var i=e(t,r,n);return i>-1?a[o?t[i]:i]:void 0}}var uX=cX,fX=LP;function dX(e){var t=fX(e),r=t%1;return t===t?r?t-r:t:0}var hX=dX,pX=rO,gX=Ro,mX=hX,yX=Math.max;function vX(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:mX(r);return a<0&&(a=yX(n+a,0)),pX(e,gX(t),a)}var xX=vX,bX=uX,wX=xX,kX=bX(wX),SX=kX;const jX=It(SX);var OX=cT(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),Sv=O.createContext(void 0),jv=O.createContext(void 0),XP=O.createContext(void 0),YP=O.createContext({}),qP=O.createContext(void 0),QP=O.createContext(0),ZP=O.createContext(0),o2=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,o=r.offset,i=t.clipPathId,s=t.children,l=t.width,c=t.height,f=OX(o);return M.createElement(Sv.Provider,{value:n},M.createElement(jv.Provider,{value:a},M.createElement(YP.Provider,{value:o},M.createElement(XP.Provider,{value:f},M.createElement(qP.Provider,{value:i},M.createElement(QP.Provider,{value:c},M.createElement(ZP.Provider,{value:l},s)))))))},PX=function(){return O.useContext(qP)},JP=function(t){var r=O.useContext(Sv);r==null&&bi();var n=r[t];return n==null&&bi(),n},_X=function(){var t=O.useContext(Sv);return go(t)},NX=function(){var t=O.useContext(jv),r=jX(t,function(n){return zP(n.domain,Number.isFinite)});return r||go(t)},e_=function(t){var r=O.useContext(jv);r==null&&bi();var n=r[t];return n==null&&bi(),n},AX=function(){var t=O.useContext(XP);return t},MX=function(){return O.useContext(YP)},Ov=function(){return O.useContext(ZP)},Pv=function(){return O.useContext(QP)};function Rs(e){"@babel/helpers - typeof";return Rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rs(e)}function CX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function EX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,r_(n.key),n)}}function TX(e,t,r){return t&&EX(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $X(e,t,r){return t=Od(t),DX(e,t_()?Reflect.construct(t,r||[],Od(e).constructor):t.apply(e,r))}function DX(e,t){if(t&&(Rs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RX(e)}function RX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function t_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t_=function(){return!!e})()}function Od(e){return Od=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Od(e)}function LX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lm(e,t)}function lm(e,t){return lm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},lm(e,t)}function i2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function s2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i2(Object(r),!0).forEach(function(n){_v(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _v(e,t,r){return t=r_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r_(e){var t=IX(e,"string");return Rs(t)=="symbol"?t:t+""}function IX(e,t){if(Rs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function BX(e,t){return UX(e)||WX(e,t)||zX(e,t)||FX()}function FX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zX(e,t){if(e){if(typeof e=="string")return l2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l2(e,t)}}function l2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function WX(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function UX(e){if(Array.isArray(e))return e}function cm(){return cm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cm.apply(this,arguments)}var GX=function(t,r){var n;return M.isValidElement(t)?n=M.cloneElement(t,r):ze(t)?n=t(r):n=M.createElement("line",cm({},r,{className:"recharts-reference-line-line"})),n},HX=function(t,r,n,a,o,i,s,l,c){var f=o.x,d=o.y,h=o.width,p=o.height;if(n){var m=c.y,v=t.y.apply(m,{position:i});if(Ma(c,"discard")&&!t.y.isInRange(v))return null;var x=[{x:f+h,y:v},{x:f,y:v}];return l==="left"?x.reverse():x}if(r){var y=c.x,g=t.x.apply(y,{position:i});if(Ma(c,"discard")&&!t.x.isInRange(g))return null;var b=[{x:g,y:d+p},{x:g,y:d}];return s==="top"?b.reverse():b}if(a){var S=c.segment,w=S.map(function(k){return t.apply(k,{position:i})});return Ma(c,"discard")&&gK(w,function(k){return!t.isInRange(k)})?null:w}return null};function VX(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,o=e.yAxisId,i=e.shape,s=e.className,l=e.alwaysShow,c=PX(),f=JP(a),d=e_(o),h=AX();if(!c||!h)return null;Ha(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=kv({x:f.scale,y:d.scale}),m=Or(t),v=Or(r),x=n&&n.length===2,y=HX(p,m,v,x,h,e.position,f.orientation,d.orientation,e);if(!y)return null;var g=BX(y,2),b=g[0],S=b.x,w=b.y,k=g[1],j=k.x,P=k.y,_=Ma(e,"hidden")?"url(#".concat(c,")"):void 0,A=s2(s2({clipPath:_},Le(e,!0)),{},{x1:S,y1:w,x2:j,y2:P});return M.createElement(dt,{className:et("recharts-reference-line",s)},GX(i,A),Xr.renderCallByParent(e,nX({x1:S,y1:w,x2:j,y2:P})))}var ni=function(e){function t(){return CX(this,t),$X(this,t,arguments)}return LX(t,e),TX(t,[{key:"render",value:function(){return M.createElement(VX,this.props)}}])}(M.Component);_v(ni,"displayName","ReferenceLine");_v(ni,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function um(){return um=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},um.apply(this,arguments)}function Ls(e){"@babel/helpers - typeof";return Ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ls(e)}function c2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function u2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c2(Object(r),!0).forEach(function(n){Lh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a_(n.key),n)}}function YX(e,t,r){return t&&XX(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function qX(e,t,r){return t=Pd(t),QX(e,n_()?Reflect.construct(t,r||[],Pd(e).constructor):t.apply(e,r))}function QX(e,t){if(t&&(Ls(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZX(e)}function ZX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function n_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(n_=function(){return!!e})()}function Pd(e){return Pd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pd(e)}function JX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fm(e,t)}function fm(e,t){return fm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},fm(e,t)}function Lh(e,t,r){return t=a_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a_(e){var t=eY(e,"string");return Ls(t)=="symbol"?t:t+""}function eY(e,t){if(Ls(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ls(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var tY=function(t){var r=t.x,n=t.y,a=t.xAxis,o=t.yAxis,i=kv({x:a.scale,y:o.scale}),s=i.apply({x:r,y:n},{bandAware:!0});return Ma(t,"discard")&&!i.isInRange(s)?null:s},Ih=function(e){function t(){return KX(this,t),qX(this,t,arguments)}return JX(t,e),YX(t,[{key:"render",value:function(){var n=this.props,a=n.x,o=n.y,i=n.r,s=n.alwaysShow,l=n.clipPathId,c=Or(a),f=Or(o);if(Ha(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!f)return null;var d=tY(this.props);if(!d)return null;var h=d.x,p=d.y,m=this.props,v=m.shape,x=m.className,y=Ma(this.props,"hidden")?"url(#".concat(l,")"):void 0,g=u2(u2({clipPath:y},Le(this.props,!0)),{},{cx:h,cy:p});return M.createElement(dt,{className:et("recharts-reference-dot",x)},t.renderDot(v,g),Xr.renderCallByParent(this.props,{x:h-i,y:p-i,width:2*i,height:2*i}))}}])}(M.Component);Lh(Ih,"displayName","ReferenceDot");Lh(Ih,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Lh(Ih,"renderDot",function(e,t){var r;return M.isValidElement(e)?r=M.cloneElement(e,t):ze(e)?r=e(t):r=M.createElement(Th,um({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function dm(){return dm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dm.apply(this,arguments)}function Is(e){"@babel/helpers - typeof";return Is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Is(e)}function f2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function d2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f2(Object(r),!0).forEach(function(n){Bh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i_(n.key),n)}}function aY(e,t,r){return t&&nY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function oY(e,t,r){return t=_d(t),iY(e,o_()?Reflect.construct(t,r||[],_d(e).constructor):t.apply(e,r))}function iY(e,t){if(t&&(Is(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sY(e)}function sY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(o_=function(){return!!e})()}function _d(e){return _d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_d(e)}function lY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hm(e,t)}function hm(e,t){return hm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},hm(e,t)}function Bh(e,t,r){return t=i_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i_(e){var t=cY(e,"string");return Is(t)=="symbol"?t:t+""}function cY(e,t){if(Is(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Is(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var uY=function(t,r,n,a,o){var i=o.x1,s=o.x2,l=o.y1,c=o.y2,f=o.xAxis,d=o.yAxis;if(!f||!d)return null;var h=kv({x:f.scale,y:d.scale}),p={x:t?h.x.apply(i,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},m={x:r?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(c,{position:"end"}):h.y.rangeMax};return Ma(o,"discard")&&(!h.isInRange(p)||!h.isInRange(m))?null:VP(p,m)},fu=function(e){function t(){return rY(this,t),oY(this,t,arguments)}return lY(t,e),aY(t,[{key:"render",value:function(){var n=this.props,a=n.x1,o=n.x2,i=n.y1,s=n.y2,l=n.className,c=n.alwaysShow,f=n.clipPathId;Ha(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=Or(a),h=Or(o),p=Or(i),m=Or(s),v=this.props.shape;if(!d&&!h&&!p&&!m&&!v)return null;var x=uY(d,h,p,m,this.props);if(!x&&!v)return null;var y=Ma(this.props,"hidden")?"url(#".concat(f,")"):void 0;return M.createElement(dt,{className:et("recharts-reference-area",l)},t.renderRect(v,d2(d2({clipPath:y},Le(this.props,!0)),x)),Xr.renderCallByParent(this.props,x))}}])}(M.Component);Bh(fu,"displayName","ReferenceArea");Bh(fu,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Bh(fu,"renderRect",function(e,t){var r;return M.isValidElement(e)?r=M.cloneElement(e,t):ze(e)?r=e(t):r=M.createElement(bv,dm({},t,{className:"recharts-reference-area-rect"})),r});function s_(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function fY(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return oX(n,r)}function dY(e,t,r){var n=r==="width",a=e.x,o=e.y,i=e.width,s=e.height;return t===1?{start:n?a:o,end:n?a+i:o+s}:{start:n?a+i:o+s,end:n?a:o}}function Nd(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var o=r();return e*(t-e*o/2-n)>=0&&e*(t+e*o/2-a)<=0}function hY(e,t){return s_(e,t+1)}function pY(e,t,r,n,a){for(var o=(n||[]).slice(),i=t.start,s=t.end,l=0,c=1,f=i,d=function(){var m=n==null?void 0:n[l];if(m===void 0)return{v:s_(n,c)};var v=l,x,y=function(){return x===void 0&&(x=r(m,v)),x},g=m.coordinate,b=l===0||Nd(e,g,y,f,s);b||(l=0,f=i,c+=1),b&&(f=g+e*(y()/2+a),l+=c)},h;c<=o.length;)if(h=d(),h)return h.v;return[]}function qc(e){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qc(e)}function h2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h2(Object(r),!0).forEach(function(n){gY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gY(e,t,r){return t=mY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mY(e){var t=yY(e,"string");return qc(t)=="symbol"?t:t+""}function yY(e,t){if(qc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vY(e,t,r,n,a){for(var o=(n||[]).slice(),i=o.length,s=t.start,l=t.end,c=function(h){var p=o[h],m,v=function(){return m===void 0&&(m=r(p,h)),m};if(h===i-1){var x=e*(p.coordinate+e*v()/2-l);o[h]=p=Vr(Vr({},p),{},{tickCoord:x>0?p.coordinate-x*e:p.coordinate})}else o[h]=p=Vr(Vr({},p),{},{tickCoord:p.coordinate});var y=Nd(e,p.tickCoord,v,s,l);y&&(l=p.tickCoord-e*(v()/2+a),o[h]=Vr(Vr({},p),{},{isShow:!0}))},f=i-1;f>=0;f--)c(f);return o}function xY(e,t,r,n,a,o){var i=(n||[]).slice(),s=i.length,l=t.start,c=t.end;if(o){var f=n[s-1],d=r(f,s-1),h=e*(f.coordinate+e*d/2-c);i[s-1]=f=Vr(Vr({},f),{},{tickCoord:h>0?f.coordinate-h*e:f.coordinate});var p=Nd(e,f.tickCoord,function(){return d},l,c);p&&(c=f.tickCoord-e*(d/2+a),i[s-1]=Vr(Vr({},f),{},{isShow:!0}))}for(var m=o?s-1:s,v=function(g){var b=i[g],S,w=function(){return S===void 0&&(S=r(b,g)),S};if(g===0){var k=e*(b.coordinate-e*w()/2-l);i[g]=b=Vr(Vr({},b),{},{tickCoord:k<0?b.coordinate-k*e:b.coordinate})}else i[g]=b=Vr(Vr({},b),{},{tickCoord:b.coordinate});var j=Nd(e,b.tickCoord,w,l,c);j&&(l=b.tickCoord+e*(w()/2+a),i[g]=Vr(Vr({},b),{},{isShow:!0}))},x=0;x<m;x++)v(x);return i}function Nv(e,t,r){var n=e.tick,a=e.ticks,o=e.viewBox,i=e.minTickGap,s=e.orientation,l=e.interval,c=e.tickFormatter,f=e.unit,d=e.angle;if(!a||!a.length||!n)return[];if(se(l)||Lo.isSsr)return hY(a,typeof l=="number"&&se(l)?l:0);var h=[],p=s==="top"||s==="bottom"?"width":"height",m=f&&p==="width"?Kl(f,{fontSize:t,letterSpacing:r}):{width:0,height:0},v=function(b,S){var w=ze(c)?c(b.value,S):b.value;return p==="width"?fY(Kl(w,{fontSize:t,letterSpacing:r}),m,d):Kl(w,{fontSize:t,letterSpacing:r})[p]},x=a.length>=2?ca(a[1].coordinate-a[0].coordinate):1,y=dY(o,x,p);return l==="equidistantPreserveStart"?pY(x,y,v,a,i):(l==="preserveStart"||l==="preserveStartEnd"?h=xY(x,y,v,a,i,l==="preserveStartEnd"):h=vY(x,y,v,a,i),h.filter(function(g){return g.isShow}))}var bY=["viewBox"],wY=["viewBox"],kY=["ticks"];function Bs(e){"@babel/helpers - typeof";return Bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bs(e)}function rs(){return rs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rs.apply(this,arguments)}function p2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p2(Object(r),!0).forEach(function(n){Av(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qp(e,t){if(e==null)return{};var r=SY(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function SY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function jY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c_(n.key),n)}}function OY(e,t,r){return t&&g2(e.prototype,t),r&&g2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function PY(e,t,r){return t=Ad(t),_Y(e,l_()?Reflect.construct(t,r||[],Ad(e).constructor):t.apply(e,r))}function _Y(e,t){if(t&&(Bs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NY(e)}function NY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l_=function(){return!!e})()}function Ad(e){return Ad=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ad(e)}function AY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pm(e,t)}function pm(e,t){return pm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},pm(e,t)}function Av(e,t,r){return t=c_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c_(e){var t=MY(e,"string");return Bs(t)=="symbol"?t:t+""}function MY(e,t){if(Bs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var fl=function(e){function t(r){var n;return jY(this,t),n=PY(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return AY(t,e),OY(t,[{key:"shouldComponentUpdate",value:function(n,a){var o=n.viewBox,i=qp(n,bY),s=this.props,l=s.viewBox,c=qp(s,wY);return!us(o,l)||!us(i,c)||!us(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,o=a.x,i=a.y,s=a.width,l=a.height,c=a.orientation,f=a.tickSize,d=a.mirror,h=a.tickMargin,p,m,v,x,y,g,b=d?-1:1,S=n.tickSize||f,w=se(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":p=m=n.coordinate,x=i+ +!d*l,v=x-b*S,g=v-b*h,y=w;break;case"left":v=x=n.coordinate,m=o+ +!d*s,p=m-b*S,y=p-b*h,g=w;break;case"right":v=x=n.coordinate,m=o+ +d*s,p=m+b*S,y=p+b*h,g=w;break;default:p=m=n.coordinate,x=i+ +d*l,v=x+b*S,g=v+b*h,y=w;break}return{line:{x1:p,y1:v,x2:m,y2:x},tick:{x:y,y:g}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,o=n.mirror,i;switch(a){case"left":i=o?"start":"end";break;case"right":i=o?"end":"start";break;default:i="middle";break}return i}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,o=n.mirror,i="end";switch(a){case"left":case"right":i="middle";break;case"top":i=o?"start":"end";break;default:i=o?"end":"start";break}return i}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,o=n.y,i=n.width,s=n.height,l=n.orientation,c=n.mirror,f=n.axisLine,d=wr(wr(wr({},Le(this.props,!1)),Le(f,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);d=wr(wr({},d),{},{x1:a,y1:o+h*s,x2:a+i,y2:o+h*s})}else{var p=+(l==="left"&&!c||l==="right"&&c);d=wr(wr({},d),{},{x1:a+p*i,y1:o,x2:a+p*i,y2:o+s})}return M.createElement("line",rs({},d,{className:et("recharts-cartesian-axis-line",Xn(f,"className"))}))}},{key:"renderTicks",value:function(n,a,o){var i=this,s=this.props,l=s.tickLine,c=s.stroke,f=s.tick,d=s.tickFormatter,h=s.unit,p=Nv(wr(wr({},this.props),{},{ticks:n}),a,o),m=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),x=Le(this.props,!1),y=Le(f,!1),g=wr(wr({},x),{},{fill:"none"},Le(l,!1)),b=p.map(function(S,w){var k=i.getTickLineCoord(S),j=k.line,P=k.tick,_=wr(wr(wr(wr({textAnchor:m,verticalAnchor:v},x),{},{stroke:"none",fill:c},y),P),{},{index:w,payload:S,visibleTicksCount:p.length,tickFormatter:d});return M.createElement(dt,rs({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},yc(i.props,S,w)),l&&M.createElement("line",rs({},g,j,{className:et("recharts-cartesian-axis-tick-line",Xn(l,"className"))})),f&&t.renderTickItem(f,_,"".concat(ze(d)?d(S.value,w):S.value).concat(h||"")))});return M.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var n=this,a=this.props,o=a.axisLine,i=a.width,s=a.height,l=a.ticksGenerator,c=a.className,f=a.hide;if(f)return null;var d=this.props,h=d.ticks,p=qp(d,kY),m=h;return ze(l)&&(m=h&&h.length>0?l(this.props):l(p)),i<=0||s<=0||!m||!m.length?null:M.createElement(dt,{className:et("recharts-cartesian-axis",c),ref:function(x){n.layerReference=x}},o&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),Xr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,o){var i,s=et(a.className,"recharts-cartesian-axis-tick-value");return M.isValidElement(n)?i=M.cloneElement(n,wr(wr({},a),{},{className:s})):ze(n)?i=n(wr(wr({},a),{},{className:s})):i=M.createElement(qf,rs({},a,{className:"recharts-cartesian-axis-tick-value"}),o),i}}])}(O.Component);Av(fl,"displayName","CartesianAxis");Av(fl,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var CY=["x1","y1","x2","y2","key"],EY=["offset"];function wi(e){"@babel/helpers - typeof";return wi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wi(e)}function m2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m2(Object(r),!0).forEach(function(n){TY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TY(e,t,r){return t=$Y(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $Y(e){var t=DY(e,"string");return wi(t)=="symbol"?t:t+""}function DY(e,t){if(wi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ai(){return ai=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ai.apply(this,arguments)}function y2(e,t){if(e==null)return{};var r=RY(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function RY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var LY=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,o=t.y,i=t.width,s=t.height,l=t.ry;return M.createElement("rect",{x:a,y:o,ry:l,width:i,height:s,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function u_(e,t){var r;if(M.isValidElement(e))r=M.cloneElement(e,t);else if(ze(e))r=e(t);else{var n=t.x1,a=t.y1,o=t.x2,i=t.y2,s=t.key,l=y2(t,CY),c=Le(l,!1);c.offset;var f=y2(c,EY);r=M.createElement("line",ai({},f,{x1:n,y1:a,x2:o,y2:i,fill:"none",key:s}))}return r}function IY(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,o=e.horizontalPoints;if(!a||!o||!o.length)return null;var i=o.map(function(s,l){var c=Yr(Yr({},e),{},{x1:t,y1:s,x2:t+r,y2:s,key:"line-".concat(l),index:l});return u_(a,c)});return M.createElement("g",{className:"recharts-cartesian-grid-horizontal"},i)}function BY(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,o=e.verticalPoints;if(!a||!o||!o.length)return null;var i=o.map(function(s,l){var c=Yr(Yr({},e),{},{x1:s,y1:t,x2:s,y2:t+r,key:"line-".concat(l),index:l});return u_(a,c)});return M.createElement("g",{className:"recharts-cartesian-grid-vertical"},i)}function FY(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,o=e.width,i=e.height,s=e.horizontalPoints,l=e.horizontal,c=l===void 0?!0:l;if(!c||!t||!t.length)return null;var f=s.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==f[0]&&f.unshift(0);var d=f.map(function(h,p){var m=!f[p+1],v=m?a+i-h:f[p+1]-h;if(v<=0)return null;var x=p%t.length;return M.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:v,width:o,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function zY(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,o=e.x,i=e.y,s=e.width,l=e.height,c=e.verticalPoints;if(!r||!n||!n.length)return null;var f=c.map(function(h){return Math.round(h+o-o)}).sort(function(h,p){return h-p});o!==f[0]&&f.unshift(0);var d=f.map(function(h,p){var m=!f[p+1],v=m?o+s-h:f[p+1]-h;if(v<=0)return null;var x=p%n.length;return M.createElement("rect",{key:"react-".concat(p),x:h,y:i,width:v,height:l,stroke:"none",fill:n[x],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var WY=function(t,r){var n=t.xAxis,a=t.width,o=t.height,i=t.offset;return bP(Nv(Yr(Yr(Yr({},fl.defaultProps),n),{},{ticks:Wa(n,!0),viewBox:{x:0,y:0,width:a,height:o}})),i.left,i.left+i.width,r)},UY=function(t,r){var n=t.yAxis,a=t.width,o=t.height,i=t.offset;return bP(Nv(Yr(Yr(Yr({},fl.defaultProps),n),{},{ticks:Wa(n,!0),viewBox:{x:0,y:0,width:a,height:o}})),i.top,i.top+i.height,r)},Fi={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function ki(e){var t,r,n,a,o,i,s=Ov(),l=Pv(),c=MX(),f=Yr(Yr({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Fi.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Fi.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Fi.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Fi.horizontalFill,vertical:(o=e.vertical)!==null&&o!==void 0?o:Fi.vertical,verticalFill:(i=e.verticalFill)!==null&&i!==void 0?i:Fi.verticalFill,x:se(e.x)?e.x:c.left,y:se(e.y)?e.y:c.top,width:se(e.width)?e.width:c.width,height:se(e.height)?e.height:c.height}),d=f.x,h=f.y,p=f.width,m=f.height,v=f.syncWithTicks,x=f.horizontalValues,y=f.verticalValues,g=_X(),b=NX();if(!se(p)||p<=0||!se(m)||m<=0||!se(d)||d!==+d||!se(h)||h!==+h)return null;var S=f.verticalCoordinatesGenerator||WY,w=f.horizontalCoordinatesGenerator||UY,k=f.horizontalPoints,j=f.verticalPoints;if((!k||!k.length)&&ze(w)){var P=x&&x.length,_=w({yAxis:b?Yr(Yr({},b),{},{ticks:P?x:b.ticks}):void 0,width:s,height:l,offset:c},P?!0:v);Ha(Array.isArray(_),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(wi(_),"]")),Array.isArray(_)&&(k=_)}if((!j||!j.length)&&ze(S)){var A=y&&y.length,N=S({xAxis:g?Yr(Yr({},g),{},{ticks:A?y:g.ticks}):void 0,width:s,height:l,offset:c},A?!0:v);Ha(Array.isArray(N),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(wi(N),"]")),Array.isArray(N)&&(j=N)}return M.createElement("g",{className:"recharts-cartesian-grid"},M.createElement(LY,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),M.createElement(IY,ai({},f,{offset:c,horizontalPoints:k,xAxis:g,yAxis:b})),M.createElement(BY,ai({},f,{offset:c,verticalPoints:j,xAxis:g,yAxis:b})),M.createElement(FY,ai({},f,{horizontalPoints:k})),M.createElement(zY,ai({},f,{verticalPoints:j})))}ki.displayName="CartesianGrid";var GY=["type","layout","connectNulls","ref"],HY=["key"];function Fs(e){"@babel/helpers - typeof";return Fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fs(e)}function v2(e,t){if(e==null)return{};var r=VY(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function VY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ql(){return Ql=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ql.apply(this,arguments)}function x2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function On(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x2(Object(r),!0).forEach(function(n){ia(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zi(e){return qY(e)||YY(e)||XY(e)||KY()}function KY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XY(e,t){if(e){if(typeof e=="string")return gm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gm(e,t)}}function YY(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function qY(e){if(Array.isArray(e))return gm(e)}function gm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function QY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d_(n.key),n)}}function ZY(e,t,r){return t&&b2(e.prototype,t),r&&b2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function JY(e,t,r){return t=Md(t),eq(e,f_()?Reflect.construct(t,r||[],Md(e).constructor):t.apply(e,r))}function eq(e,t){if(t&&(Fs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tq(e)}function tq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f_=function(){return!!e})()}function Md(e){return Md=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Md(e)}function rq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mm(e,t)}function mm(e,t){return mm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},mm(e,t)}function ia(e,t,r){return t=d_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d_(e){var t=nq(e,"string");return Fs(t)=="symbol"?t:t+""}function nq(e,t){if(Fs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var qr=function(e){function t(){var r;QY(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=JY(this,t,[].concat(a)),ia(r,"state",{isAnimationFinished:!0,totalLength:0}),ia(r,"generateSimpleStrokeDasharray",function(i,s){return"".concat(s,"px ").concat(i-s,"px")}),ia(r,"getStrokeDasharray",function(i,s,l){var c=l.reduce(function(y,g){return y+g});if(!c)return r.generateSimpleStrokeDasharray(s,i);for(var f=Math.floor(i/c),d=i%c,h=s-i,p=[],m=0,v=0;m<l.length;v+=l[m],++m)if(v+l[m]>d){p=[].concat(zi(l.slice(0,m)),[d-v]);break}var x=p.length%2===0?[0,h]:[h];return[].concat(zi(t.repeat(l,f)),zi(p),x).map(function(y){return"".concat(y,"px")}).join(", ")}),ia(r,"id",Pi("recharts-line-")),ia(r,"pathRef",function(i){r.mainCurve=i}),ia(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),ia(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return rq(t,e),ZY(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,i=o.points,s=o.xAxis,l=o.yAxis,c=o.layout,f=o.children,d=bn(f,ul);if(!d)return null;var h=function(v,x){return{x:v.x,y:v.y,value:v.value,errorVal:Pr(v.payload,x)}},p={clipPath:n?"url(#clipPath-".concat(a,")"):null};return M.createElement(dt,p,d.map(function(m){return M.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:i,xAxis:s,yAxis:l,layout:c,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,o){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,c=s.points,f=s.dataKey,d=Le(this.props,!1),h=Le(l,!0),p=c.map(function(v,x){var y=On(On(On({key:"dot-".concat(x),r:3},d),h),{},{index:x,cx:v.x,cy:v.y,value:v.value,dataKey:f,payload:v.payload,points:c});return t.renderDotItem(l,y)}),m={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(o,")"):null};return M.createElement(dt,Ql({className:"recharts-line-dots",key:"dots"},m),p)}},{key:"renderCurveStatically",value:function(n,a,o,i){var s=this.props,l=s.type,c=s.layout,f=s.connectNulls;s.ref;var d=v2(s,GY),h=On(On(On({},Le(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(o,")"):null,points:n},i),{},{type:l,layout:c,connectNulls:f});return M.createElement(ui,Ql({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var o=this,i=this.props,s=i.points,l=i.strokeDasharray,c=i.isAnimationActive,f=i.animationBegin,d=i.animationDuration,h=i.animationEasing,p=i.animationId,m=i.animateNewValues,v=i.width,x=i.height,y=this.state,g=y.prevPoints,b=y.totalLength;return M.createElement(ha,{begin:f,duration:d,isActive:c,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var w=S.t;if(g){var k=g.length/s.length,j=s.map(function(E,z){var D=Math.floor(z*k);if(g[D]){var T=g[D],L=cr(T.x,E.x),W=cr(T.y,E.y);return On(On({},E),{},{x:L(w),y:W(w)})}if(m){var I=cr(v*2,E.x),R=cr(x/2,E.y);return On(On({},E),{},{x:I(w),y:R(w)})}return On(On({},E),{},{x:E.x,y:E.y})});return o.renderCurveStatically(j,n,a)}var P=cr(0,b),_=P(w),A;if(l){var N="".concat(l).split(/[,\s]+/gim).map(function(E){return parseFloat(E)});A=o.getStrokeDasharray(_,b,N)}else A=o.generateSimpleStrokeDasharray(b,_);return o.renderCurveStatically(s,n,a,{strokeDasharray:A})})}},{key:"renderCurve",value:function(n,a){var o=this.props,i=o.points,s=o.isAnimationActive,l=this.state,c=l.prevPoints,f=l.totalLength;return s&&i&&i.length&&(!c&&f>0||!vi(c,i))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(i,n,a)}},{key:"render",value:function(){var n,a=this.props,o=a.hide,i=a.dot,s=a.points,l=a.className,c=a.xAxis,f=a.yAxis,d=a.top,h=a.left,p=a.width,m=a.height,v=a.isAnimationActive,x=a.id;if(o||!s||!s.length)return null;var y=this.state.isAnimationFinished,g=s.length===1,b=et("recharts-line",l),S=c&&c.allowDataOverflow,w=f&&f.allowDataOverflow,k=S||w,j=De(x)?this.id:x,P=(n=Le(i,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},_=P.r,A=_===void 0?3:_,N=P.strokeWidth,E=N===void 0?2:N,z=hj(i)?i:{},D=z.clipDot,T=D===void 0?!0:D,L=A*2+E;return M.createElement(dt,{className:b},S||w?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(j)},M.createElement("rect",{x:S?h:h-p/2,y:w?d:d-m/2,width:S?p:p*2,height:w?m:m*2})),!T&&M.createElement("clipPath",{id:"clipPath-dots-".concat(j)},M.createElement("rect",{x:h-L/2,y:d-L/2,width:p+L,height:m+L}))):null,!g&&this.renderCurve(k,j),this.renderErrorBar(k,j),(g||i)&&this.renderDots(k,T,j),(!v||y)&&Aa.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var o=n.length%2!==0?[].concat(zi(n),[0]):n,i=[],s=0;s<a;++s)i=[].concat(zi(i),zi(o));return i}},{key:"renderDotItem",value:function(n,a){var o;if(M.isValidElement(n))o=M.cloneElement(n,a);else if(ze(n))o=n(a);else{var i=a.key,s=v2(a,HY),l=et("recharts-line-dot",typeof n!="boolean"?n.className:"");o=M.createElement(Th,Ql({key:i},s,{className:l}))}return o}}])}(O.PureComponent);ia(qr,"displayName","Line");ia(qr,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Lo.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ia(qr,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,o=e.yAxisTicks,i=e.dataKey,s=e.bandSize,l=e.displayedData,c=e.offset,f=t.layout,d=l.map(function(h,p){var m=Pr(h,i);return f==="horizontal"?{x:Cs({axis:r,ticks:a,bandSize:s,entry:h,index:p}),y:De(m)?null:n.scale(m),value:m,payload:h}:{x:De(m)?null:r.scale(m),y:Cs({axis:n,ticks:o,bandSize:s,entry:h,index:p}),value:m,payload:h}});return On({points:d,layout:f},c)});var aq=["layout","type","stroke","connectNulls","isRange","ref"],oq=["key"],h_;function zs(e){"@babel/helpers - typeof";return zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zs(e)}function p_(e,t){if(e==null)return{};var r=iq(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function iq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function oi(){return oi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oi.apply(this,arguments)}function w2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w2(Object(r),!0).forEach(function(n){Oa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m_(n.key),n)}}function lq(e,t,r){return t&&k2(e.prototype,t),r&&k2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function cq(e,t,r){return t=Cd(t),uq(e,g_()?Reflect.construct(t,r||[],Cd(e).constructor):t.apply(e,r))}function uq(e,t){if(t&&(zs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fq(e)}function fq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g_=function(){return!!e})()}function Cd(e){return Cd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cd(e)}function dq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ym(e,t)}function ym(e,t){return ym=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ym(e,t)}function Oa(e,t,r){return t=m_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m_(e){var t=hq(e,"string");return zs(t)=="symbol"?t:t+""}function hq(e,t){if(zs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Vn=function(e){function t(){var r;sq(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=cq(this,t,[].concat(a)),Oa(r,"state",{isAnimationFinished:!0}),Oa(r,"id",Pi("recharts-area-")),Oa(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),ze(i)&&i()}),Oa(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),ze(i)&&i()}),r}return dq(t,e),lq(t,[{key:"renderDots",value:function(n,a,o){var i=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(i&&!s)return null;var l=this.props,c=l.dot,f=l.points,d=l.dataKey,h=Le(this.props,!1),p=Le(c,!0),m=f.map(function(x,y){var g=lo(lo(lo({key:"dot-".concat(y),r:3},h),p),{},{index:y,cx:x.x,cy:x.y,dataKey:d,value:x.value,payload:x.payload,points:f});return t.renderDotItem(c,g)}),v={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(o,")"):null};return M.createElement(dt,oi({className:"recharts-area-dots"},v),m)}},{key:"renderHorizontalRect",value:function(n){var a=this.props,o=a.baseLine,i=a.points,s=a.strokeWidth,l=i[0].x,c=i[i.length-1].x,f=n*Math.abs(l-c),d=vo(i.map(function(h){return h.y||0}));return se(o)&&typeof o=="number"?d=Math.max(o,d):o&&Array.isArray(o)&&o.length&&(d=Math.max(vo(o.map(function(h){return h.y||0})),d)),se(d)?M.createElement("rect",{x:l<c?l:l-f,y:0,width:f,height:Math.floor(d+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,o=a.baseLine,i=a.points,s=a.strokeWidth,l=i[0].y,c=i[i.length-1].y,f=n*Math.abs(l-c),d=vo(i.map(function(h){return h.x||0}));return se(o)&&typeof o=="number"?d=Math.max(o,d):o&&Array.isArray(o)&&o.length&&(d=Math.max(vo(o.map(function(h){return h.x||0})),d)),se(d)?M.createElement("rect",{x:0,y:l<c?l:l-f,width:d+(s?parseInt("".concat(s),10):1),height:Math.floor(f)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,o,i){var s=this.props,l=s.layout,c=s.type,f=s.stroke,d=s.connectNulls,h=s.isRange;s.ref;var p=p_(s,aq);return M.createElement(dt,{clipPath:o?"url(#clipPath-".concat(i,")"):null},M.createElement(ui,oi({},Le(p,!0),{points:n,connectNulls:d,type:c,baseLine:a,layout:l,stroke:"none",className:"recharts-area-area"})),f!=="none"&&M.createElement(ui,oi({},Le(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:n})),f!=="none"&&h&&M.createElement(ui,oi({},Le(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(n,a){var o=this,i=this.props,s=i.points,l=i.baseLine,c=i.isAnimationActive,f=i.animationBegin,d=i.animationDuration,h=i.animationEasing,p=i.animationId,m=this.state,v=m.prevPoints,x=m.prevBaseLine;return M.createElement(ha,{begin:f,duration:d,isActive:c,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var g=y.t;if(v){var b=v.length/s.length,S=s.map(function(P,_){var A=Math.floor(_*b);if(v[A]){var N=v[A],E=cr(N.x,P.x),z=cr(N.y,P.y);return lo(lo({},P),{},{x:E(g),y:z(g)})}return P}),w;if(se(l)&&typeof l=="number"){var k=cr(x,l);w=k(g)}else if(De(l)||nl(l)){var j=cr(x,0);w=j(g)}else w=l.map(function(P,_){var A=Math.floor(_*b);if(x[A]){var N=x[A],E=cr(N.x,P.x),z=cr(N.y,P.y);return lo(lo({},P),{},{x:E(g),y:z(g)})}return P});return o.renderAreaStatically(S,w,n,a)}return M.createElement(dt,null,M.createElement("defs",null,M.createElement("clipPath",{id:"animationClipPath-".concat(a)},o.renderClipRect(g))),M.createElement(dt,{clipPath:"url(#animationClipPath-".concat(a,")")},o.renderAreaStatically(s,l,n,a)))})}},{key:"renderArea",value:function(n,a){var o=this.props,i=o.points,s=o.baseLine,l=o.isAnimationActive,c=this.state,f=c.prevPoints,d=c.prevBaseLine,h=c.totalLength;return l&&i&&i.length&&(!f&&h>0||!vi(f,i)||!vi(d,s))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(i,s,n,a)}},{key:"render",value:function(){var n,a=this.props,o=a.hide,i=a.dot,s=a.points,l=a.className,c=a.top,f=a.left,d=a.xAxis,h=a.yAxis,p=a.width,m=a.height,v=a.isAnimationActive,x=a.id;if(o||!s||!s.length)return null;var y=this.state.isAnimationFinished,g=s.length===1,b=et("recharts-area",l),S=d&&d.allowDataOverflow,w=h&&h.allowDataOverflow,k=S||w,j=De(x)?this.id:x,P=(n=Le(i,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},_=P.r,A=_===void 0?3:_,N=P.strokeWidth,E=N===void 0?2:N,z=hj(i)?i:{},D=z.clipDot,T=D===void 0?!0:D,L=A*2+E;return M.createElement(dt,{className:b},S||w?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(j)},M.createElement("rect",{x:S?f:f-p/2,y:w?c:c-m/2,width:S?p:p*2,height:w?m:m*2})),!T&&M.createElement("clipPath",{id:"clipPath-dots-".concat(j)},M.createElement("rect",{x:f-L/2,y:c-L/2,width:p+L,height:m+L}))):null,g?null:this.renderArea(k,j),(i||g)&&this.renderDots(k,T,j),(!v||y)&&Aa.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(O.PureComponent);h_=Vn;Oa(Vn,"displayName","Area");Oa(Vn,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Lo.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Oa(Vn,"getBaseValue",function(e,t,r,n){var a=e.layout,o=e.baseValue,i=t.props.baseValue,s=i??o;if(se(s)&&typeof s=="number")return s;var l=a==="horizontal"?n:r,c=l.scale.domain();if(l.type==="number"){var f=Math.max(c[0],c[1]),d=Math.min(c[0],c[1]);return s==="dataMin"?d:s==="dataMax"||f<0?f:Math.max(Math.min(c[0],c[1]),0)}return s==="dataMin"?c[0]:s==="dataMax"?c[1]:c[0]});Oa(Vn,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,a=e.yAxis,o=e.xAxisTicks,i=e.yAxisTicks,s=e.bandSize,l=e.dataKey,c=e.stackedData,f=e.dataStartIndex,d=e.displayedData,h=e.offset,p=t.layout,m=c&&c.length,v=h_.getBaseValue(t,r,n,a),x=p==="horizontal",y=!1,g=d.map(function(S,w){var k;m?k=c[f+w]:(k=Pr(S,l),Array.isArray(k)?y=!0:k=[v,k]);var j=k[1]==null||m&&Pr(S,l)==null;return x?{x:Cs({axis:n,ticks:o,bandSize:s,entry:S,index:w}),y:j?null:a.scale(k[1]),value:k,payload:S}:{x:j?null:n.scale(k[1]),y:Cs({axis:a,ticks:i,bandSize:s,entry:S,index:w}),value:k,payload:S}}),b;return m||y?b=g.map(function(S){var w=Array.isArray(S.value)?S.value[0]:null;return x?{x:S.x,y:w!=null&&S.y!=null?a.scale(w):null}:{x:w!=null?n.scale(w):null,y:S.y}}):b=x?a.scale(v):n.scale(v),lo({points:g,baseLine:b,layout:p,isRange:y},h)});Oa(Vn,"renderDotItem",function(e,t){var r;if(M.isValidElement(e))r=M.cloneElement(e,t);else if(ze(e))r=e(t);else{var n=et("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,o=p_(t,oq);r=M.createElement(Th,oi({},o,{key:a,className:n}))}return r});function Ws(e){"@babel/helpers - typeof";return Ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ws(e)}function pq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,x_(n.key),n)}}function mq(e,t,r){return t&&gq(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function yq(e,t,r){return t=Ed(t),vq(e,y_()?Reflect.construct(t,r||[],Ed(e).constructor):t.apply(e,r))}function vq(e,t){if(t&&(Ws(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xq(e)}function xq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y_=function(){return!!e})()}function Ed(e){return Ed=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ed(e)}function bq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vm(e,t)}function vm(e,t){return vm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},vm(e,t)}function v_(e,t,r){return t=x_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x_(e){var t=wq(e,"string");return Ws(t)=="symbol"?t:t+""}function wq(e,t){if(Ws(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ws(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Fh=function(e){function t(){return pq(this,t),yq(this,t,arguments)}return bq(t,e),mq(t,[{key:"render",value:function(){return null}}])}(O.Component);v_(Fh,"displayName","ZAxis");v_(Fh,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var kq=["option","isActive"];function Zl(){return Zl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zl.apply(this,arguments)}function Sq(e,t){if(e==null)return{};var r=jq(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Oq(e){var t=e.option,r=e.isActive,n=Sq(e,kq);return typeof t=="string"?O.createElement(am,Zl({option:O.createElement(bh,Zl({type:t},n)),isActive:r,shapeType:"symbols"},n)):O.createElement(am,Zl({option:t,isActive:r,shapeType:"symbols"},n))}function Us(e){"@babel/helpers - typeof";return Us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Us(e)}function Jl(){return Jl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jl.apply(this,arguments)}function S2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S2(Object(r),!0).forEach(function(n){bo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,w_(n.key),n)}}function _q(e,t,r){return t&&j2(e.prototype,t),r&&j2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nq(e,t,r){return t=Td(t),Aq(e,b_()?Reflect.construct(t,r||[],Td(e).constructor):t.apply(e,r))}function Aq(e,t){if(t&&(Us(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mq(e)}function Mq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b_=function(){return!!e})()}function Td(e){return Td=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Td(e)}function Cq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xm(e,t)}function xm(e,t){return xm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},xm(e,t)}function bo(e,t,r){return t=w_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w_(e){var t=Eq(e,"string");return Us(t)=="symbol"?t:t+""}function Eq(e,t){if(Us(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Us(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var tn=function(e){function t(){var r;Pq(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=Nq(this,t,[].concat(a)),bo(r,"state",{isAnimationFinished:!1}),bo(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0})}),bo(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1})}),bo(r,"id",Pi("recharts-scatter-")),r}return Cq(t,e),_q(t,[{key:"renderSymbolsStatically",value:function(n){var a=this,o=this.props,i=o.shape,s=o.activeShape,l=o.activeIndex,c=Le(this.props,!1);return n.map(function(f,d){var h=l===d,p=h?s:i,m=zn(zn({},c),f);return M.createElement(dt,Jl({className:"recharts-scatter-symbol",key:"symbol-".concat(f==null?void 0:f.cx,"-").concat(f==null?void 0:f.cy,"-").concat(f==null?void 0:f.size,"-").concat(d)},yc(a.props,f,d),{role:"img"}),M.createElement(Oq,Jl({option:p,isActive:h,key:"symbol-".concat(d)},m)))})}},{key:"renderSymbolsWithAnimation",value:function(){var n=this,a=this.props,o=a.points,i=a.isAnimationActive,s=a.animationBegin,l=a.animationDuration,c=a.animationEasing,f=a.animationId,d=this.state.prevPoints;return M.createElement(ha,{begin:s,duration:l,isActive:i,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var p=h.t,m=o.map(function(v,x){var y=d&&d[x];if(y){var g=cr(y.cx,v.cx),b=cr(y.cy,v.cy),S=cr(y.size,v.size);return zn(zn({},v),{},{cx:g(p),cy:b(p),size:S(p)})}var w=cr(0,v.size);return zn(zn({},v),{},{size:w(p)})});return M.createElement(dt,null,n.renderSymbolsStatically(m))})}},{key:"renderSymbols",value:function(){var n=this.props,a=n.points,o=n.isAnimationActive,i=this.state.prevPoints;return o&&a&&a.length&&(!i||!vi(i,a))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(a)}},{key:"renderErrorBar",value:function(){var n=this.props.isAnimationActive;if(n&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,i=a.xAxis,s=a.yAxis,l=a.children,c=bn(l,ul);return c?c.map(function(f,d){var h=f.props,p=h.direction,m=h.dataKey;return M.cloneElement(f,{key:"".concat(p,"-").concat(m,"-").concat(o[d]),data:o,xAxis:i,yAxis:s,layout:p==="x"?"vertical":"horizontal",dataPointFormatter:function(x,y){return{x:x.cx,y:x.cy,value:p==="x"?+x.node.x:+x.node.y,errorVal:Pr(x,y)}}})}):null}},{key:"renderLine",value:function(){var n=this.props,a=n.points,o=n.line,i=n.lineType,s=n.lineJointType,l=Le(this.props,!1),c=Le(o,!1),f,d;if(i==="joint")f=a.map(function(b){return{x:b.cx,y:b.cy}});else if(i==="fitting"){var h=i5(a),p=h.xmin,m=h.xmax,v=h.a,x=h.b,y=function(S){return v*S+x};f=[{x:p,y:y(p)},{x:m,y:y(m)}]}var g=zn(zn(zn({},l),{},{fill:"none",stroke:l&&l.fill},c),{},{points:f});return M.isValidElement(o)?d=M.cloneElement(o,g):ze(o)?d=o(g):d=M.createElement(ui,Jl({},g,{type:s})),M.createElement(dt,{className:"recharts-scatter-line",key:"recharts-scatter-line"},d)}},{key:"render",value:function(){var n=this.props,a=n.hide,o=n.points,i=n.line,s=n.className,l=n.xAxis,c=n.yAxis,f=n.left,d=n.top,h=n.width,p=n.height,m=n.id,v=n.isAnimationActive;if(a||!o||!o.length)return null;var x=this.state.isAnimationFinished,y=et("recharts-scatter",s),g=l&&l.allowDataOverflow,b=c&&c.allowDataOverflow,S=g||b,w=De(m)?this.id:m;return M.createElement(dt,{className:y,clipPath:S?"url(#clipPath-".concat(w,")"):null},g||b?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(w)},M.createElement("rect",{x:g?f:f-h/2,y:b?d:d-p/2,width:g?h:h*2,height:b?p:p*2}))):null,i&&this.renderLine(),this.renderErrorBar(),M.createElement(dt,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!v||x)&&Aa.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}}])}(O.PureComponent);bo(tn,"displayName","Scatter");bo(tn,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!Lo.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});bo(tn,"getComposedData",function(e){var t=e.xAxis,r=e.yAxis,n=e.zAxis,a=e.item,o=e.displayedData,i=e.xAxisTicks,s=e.yAxisTicks,l=e.offset,c=a.props.tooltipType,f=bn(a.props.children,Xy),d=De(t.dataKey)?a.props.dataKey:t.dataKey,h=De(r.dataKey)?a.props.dataKey:r.dataKey,p=n&&n.dataKey,m=n?n.range:Fh.defaultProps.range,v=m&&m[0],x=t.scale.bandwidth?t.scale.bandwidth():0,y=r.scale.bandwidth?r.scale.bandwidth():0,g=o.map(function(b,S){var w=Pr(b,d),k=Pr(b,h),j=!De(p)&&Pr(b,p)||"-",P=[{name:De(t.dataKey)?a.props.name:t.name||t.dataKey,unit:t.unit||"",value:w,payload:b,dataKey:d,type:c},{name:De(r.dataKey)?a.props.name:r.name||r.dataKey,unit:r.unit||"",value:k,payload:b,dataKey:h,type:c}];j!=="-"&&P.push({name:n.name||n.dataKey,unit:n.unit||"",value:j,payload:b,dataKey:p,type:c});var _=Cs({axis:t,ticks:i,bandSize:x,entry:b,index:S,dataKey:d}),A=Cs({axis:r,ticks:s,bandSize:y,entry:b,index:S,dataKey:h}),N=j!=="-"?n.scale(j):v,E=Math.sqrt(Math.max(N,0)/Math.PI);return zn(zn({},b),{},{cx:_,cy:A,x:_-E,y:A-E,xAxis:t,yAxis:r,zAxis:n,width:2*E,height:2*E,size:N,node:{x:w,y:k,z:j},tooltipPayload:P,tooltipPosition:{x:_,y:A},payload:b},f&&f[S]&&f[S].props)});return zn({points:g},l)});function Gs(e){"@babel/helpers - typeof";return Gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gs(e)}function Tq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $q(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,j_(n.key),n)}}function Dq(e,t,r){return t&&$q(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Rq(e,t,r){return t=$d(t),Lq(e,k_()?Reflect.construct(t,r||[],$d(e).constructor):t.apply(e,r))}function Lq(e,t){if(t&&(Gs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Iq(e)}function Iq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k_=function(){return!!e})()}function $d(e){return $d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$d(e)}function Bq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bm(e,t)}function bm(e,t){return bm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},bm(e,t)}function S_(e,t,r){return t=j_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j_(e){var t=Fq(e,"string");return Gs(t)=="symbol"?t:t+""}function Fq(e,t){if(Gs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function wm(){return wm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wm.apply(this,arguments)}function zq(e){var t=e.xAxisId,r=Ov(),n=Pv(),a=JP(t);return a==null?null:O.createElement(fl,wm({},a,{className:et("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(i){return Wa(i,!0)}}))}var pa=function(e){function t(){return Tq(this,t),Rq(this,t,arguments)}return Bq(t,e),Dq(t,[{key:"render",value:function(){return O.createElement(zq,this.props)}}])}(O.Component);S_(pa,"displayName","XAxis");S_(pa,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Hs(e){"@babel/helpers - typeof";return Hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hs(e)}function Wq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Uq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,__(n.key),n)}}function Gq(e,t,r){return t&&Uq(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Hq(e,t,r){return t=Dd(t),Vq(e,O_()?Reflect.construct(t,r||[],Dd(e).constructor):t.apply(e,r))}function Vq(e,t){if(t&&(Hs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kq(e)}function Kq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O_=function(){return!!e})()}function Dd(e){return Dd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dd(e)}function Xq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&km(e,t)}function km(e,t){return km=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},km(e,t)}function P_(e,t,r){return t=__(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function __(e){var t=Yq(e,"string");return Hs(t)=="symbol"?t:t+""}function Yq(e,t){if(Hs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Sm(){return Sm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sm.apply(this,arguments)}var qq=function(t){var r=t.yAxisId,n=Ov(),a=Pv(),o=e_(r);return o==null?null:O.createElement(fl,Sm({},o,{className:et("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(s){return Wa(s,!0)}}))},ga=function(e){function t(){return Wq(this,t),Hq(this,t,arguments)}return Xq(t,e),Gq(t,[{key:"render",value:function(){return O.createElement(qq,this.props)}}])}(O.Component);P_(ga,"displayName","YAxis");P_(ga,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function O2(e){return eQ(e)||Jq(e)||Zq(e)||Qq()}function Qq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zq(e,t){if(e){if(typeof e=="string")return jm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jm(e,t)}}function Jq(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function eQ(e){if(Array.isArray(e))return jm(e)}function jm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Om=function(t,r,n,a,o){var i=bn(t,ni),s=bn(t,Ih),l=[].concat(O2(i),O2(s)),c=bn(t,fu),f="".concat(a,"Id"),d=a[0],h=r;if(l.length&&(h=l.reduce(function(v,x){if(x.props[f]===n&&Ma(x.props,"extendDomain")&&se(x.props[d])){var y=x.props[d];return[Math.min(v[0],y),Math.max(v[1],y)]}return v},h)),c.length){var p="".concat(d,"1"),m="".concat(d,"2");h=c.reduce(function(v,x){if(x.props[f]===n&&Ma(x.props,"extendDomain")&&se(x.props[p])&&se(x.props[m])){var y=x.props[p],g=x.props[m];return[Math.min(v[0],y,g),Math.max(v[1],y,g)]}return v},h)}return o&&o.length&&(h=o.reduce(function(v,x){return se(x)?[Math.min(v[0],x),Math.max(v[1],x)]:v},h)),h},N_={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(l,c,f){this.fn=l,this.context=c,this.once=f||!1}function o(l,c,f,d,h){if(typeof f!="function")throw new TypeError("The listener must be a function");var p=new a(f,d||l,h),m=r?r+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function i(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],f,d;if(this._eventsCount===0)return c;for(d in f=this._events)t.call(f,d)&&c.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(f)):c},s.prototype.listeners=function(c){var f=r?r+c:c,d=this._events[f];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,p=d.length,m=new Array(p);h<p;h++)m[h]=d[h].fn;return m},s.prototype.listenerCount=function(c){var f=r?r+c:c,d=this._events[f];return d?d.fn?1:d.length:0},s.prototype.emit=function(c,f,d,h,p,m){var v=r?r+c:c;if(!this._events[v])return!1;var x=this._events[v],y=arguments.length,g,b;if(x.fn){switch(x.once&&this.removeListener(c,x.fn,void 0,!0),y){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,f),!0;case 3:return x.fn.call(x.context,f,d),!0;case 4:return x.fn.call(x.context,f,d,h),!0;case 5:return x.fn.call(x.context,f,d,h,p),!0;case 6:return x.fn.call(x.context,f,d,h,p,m),!0}for(b=1,g=new Array(y-1);b<y;b++)g[b-1]=arguments[b];x.fn.apply(x.context,g)}else{var S=x.length,w;for(b=0;b<S;b++)switch(x[b].once&&this.removeListener(c,x[b].fn,void 0,!0),y){case 1:x[b].fn.call(x[b].context);break;case 2:x[b].fn.call(x[b].context,f);break;case 3:x[b].fn.call(x[b].context,f,d);break;case 4:x[b].fn.call(x[b].context,f,d,h);break;default:if(!g)for(w=1,g=new Array(y-1);w<y;w++)g[w-1]=arguments[w];x[b].fn.apply(x[b].context,g)}}return!0},s.prototype.on=function(c,f,d){return o(this,c,f,d,!1)},s.prototype.once=function(c,f,d){return o(this,c,f,d,!0)},s.prototype.removeListener=function(c,f,d,h){var p=r?r+c:c;if(!this._events[p])return this;if(!f)return i(this,p),this;var m=this._events[p];if(m.fn)m.fn===f&&(!h||m.once)&&(!d||m.context===d)&&i(this,p);else{for(var v=0,x=[],y=m.length;v<y;v++)(m[v].fn!==f||h&&!m[v].once||d&&m[v].context!==d)&&x.push(m[v]);x.length?this._events[p]=x.length===1?x[0]:x:i(this,p)}return this},s.prototype.removeAllListeners=function(c){var f;return c?(f=r?r+c:c,this._events[f]&&i(this,f)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s})(N_);var tQ=N_.exports;const rQ=It(tQ);var Qp=new rQ,Zp="recharts.syncMouseEvents";function Qc(e){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qc(e)}function nQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,A_(n.key),n)}}function oQ(e,t,r){return t&&aQ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Jp(e,t,r){return t=A_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A_(e){var t=iQ(e,"string");return Qc(t)=="symbol"?t:t+""}function iQ(e,t){if(Qc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var sQ=function(){function e(){nQ(this,e),Jp(this,"activeIndex",0),Jp(this,"coordinateList",[]),Jp(this,"layout","horizontal")}return oQ(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,o=a===void 0?null:a,i=r.container,s=i===void 0?null:i,l=r.layout,c=l===void 0?null:l,f=r.offset,d=f===void 0?null:f,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=o??this.coordinateList)!==null&&n!==void 0?n:[],this.container=s??this.container,this.layout=c??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),o=a.x,i=a.y,s=a.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,f=((n=window)===null||n===void 0?void 0:n.scrollY)||0,d=o+l+c,h=i+this.offset.top+s/2+f;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function lQ(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&se(n)&&se(a))return!0}return!1}function cQ(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function M_(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,o=e.endAngle,i=Rr(t,r,n,a),s=Rr(t,r,n,o);return{points:[i,s],cx:t,cy:r,radius:n,startAngle:a,endAngle:o}}function uQ(e,t,r){var n,a,o,i;if(e==="horizontal")n=t.x,o=n,a=r.top,i=r.top+r.height;else if(e==="vertical")a=t.y,i=a,n=r.left,o=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var s=t.cx,l=t.cy,c=t.innerRadius,f=t.outerRadius,d=t.angle,h=Rr(s,l,c,d),p=Rr(s,l,f,d);n=h.x,a=h.y,o=p.x,i=p.y}else return M_(t);return[{x:n,y:a},{x:o,y:i}]}function Zc(e){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zc(e)}function P2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P2(Object(r),!0).forEach(function(n){fQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fQ(e,t,r){return t=dQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dQ(e){var t=hQ(e,"string");return Zc(t)=="symbol"?t:t+""}function hQ(e,t){if(Zc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pQ(e){var t,r,n=e.element,a=e.tooltipEventType,o=e.isActive,i=e.activeCoordinate,s=e.activePayload,l=e.offset,c=e.activeTooltipIndex,f=e.tooltipAxisBandSize,d=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!o||!i||h!=="ScatterChart"&&a!=="axis")return null;var m,v=ui;if(h==="ScatterChart")m=i,v=FH;else if(h==="BarChart")m=cQ(d,i,l,f),v=bv;else if(d==="radial"){var x=M_(i),y=x.cx,g=x.cy,b=x.radius,S=x.startAngle,w=x.endAngle;m={cx:y,cy:g,startAngle:S,endAngle:w,innerRadius:b,outerRadius:b},v=OP}else m={points:uQ(d,i,l)},v=ui;var k=Yu(Yu(Yu(Yu({stroke:"#ccc",pointerEvents:"none"},l),m),Le(p,!1)),{},{payload:s,payloadIndex:c,className:et("recharts-tooltip-cursor",p.className)});return O.isValidElement(p)?O.cloneElement(p,k):O.createElement(v,k)}var gQ=["item"],mQ=["children","className","width","height","style","compact","title","desc"];function Vs(e){"@babel/helpers - typeof";return Vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vs(e)}function ns(){return ns=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ns.apply(this,arguments)}function _2(e,t){return xQ(e)||vQ(e,t)||E_(e,t)||yQ()}function yQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vQ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function xQ(e){if(Array.isArray(e))return e}function N2(e,t){if(e==null)return{};var r=bQ(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function bQ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function wQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,T_(n.key),n)}}function SQ(e,t,r){return t&&kQ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function jQ(e,t,r){return t=Rd(t),OQ(e,C_()?Reflect.construct(t,r||[],Rd(e).constructor):t.apply(e,r))}function OQ(e,t){if(t&&(Vs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PQ(e)}function PQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C_=function(){return!!e})()}function Rd(e){return Rd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rd(e)}function _Q(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pm(e,t)}function Pm(e,t){return Pm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Pm(e,t)}function Ks(e){return MQ(e)||AQ(e)||E_(e)||NQ()}function NQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E_(e,t){if(e){if(typeof e=="string")return _m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _m(e,t)}}function AQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function MQ(e){if(Array.isArray(e))return _m(e)}function _m(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function A2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function q(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A2(Object(r),!0).forEach(function(n){Ae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ae(e,t,r){return t=T_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T_(e){var t=CQ(e,"string");return Vs(t)=="symbol"?t:t+""}function CQ(e,t){if(Vs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EQ={xAxis:["bottom","top"],yAxis:["left","right"]},TQ={width:"100%",height:"100%"},$_={x:0,y:0};function qu(e){return e}var $Q=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},DQ=function(t,r,n,a){var o=r.find(function(f){return f&&f.index===n});if(o){if(t==="horizontal")return{x:o.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:o.coordinate};if(t==="centric"){var i=o.coordinate,s=a.radius;return q(q(q({},a),Rr(a.cx,a.cy,s,i)),{},{angle:i,radius:s})}var l=o.coordinate,c=a.angle;return q(q(q({},a),Rr(a.cx,a.cy,l,c)),{},{angle:c,radius:l})}return $_},zh=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,o=r.dataEndIndex,i=(n??[]).reduce(function(s,l){var c=l.props.data;return c&&c.length?[].concat(Ks(s),Ks(c)):s},[]);return i.length>0?i:t&&t.length&&se(a)&&se(o)?t.slice(a,o+1):[]};function D_(e){return e==="number"?[0,"auto"]:void 0}var Nm=function(t,r,n,a){var o=t.graphicalItems,i=t.tooltipAxis,s=zh(r,t);return n<0||!o||!o.length||n>=s.length?null:o.reduce(function(l,c){var f,d=(f=c.props.data)!==null&&f!==void 0?f:r;d&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(d=d.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(i.dataKey&&!i.allowDuplicatedCategory){var p=d===void 0?s:d;h=Df(p,i.dataKey,a)}else h=d&&d[n]||s[n];return h?[].concat(Ks(l),[kP(c,h)]):l},[])},M2=function(t,r,n,a){var o=a||{x:t.chartX,y:t.chartY},i=$Q(o,n),s=t.orderedTooltipTicks,l=t.tooltipAxis,c=t.tooltipTicks,f=vW(i,s,c,l);if(f>=0&&c){var d=c[f]&&c[f].value,h=Nm(t,r,f,d),p=DQ(n,s,f,o);return{activeTooltipIndex:f,activeLabel:d,activePayload:h,activeCoordinate:p}}return null},RQ=function(t,r){var n=r.axes,a=r.graphicalItems,o=r.axisType,i=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,f=t.layout,d=t.children,h=t.stackOffset,p=xP(f,o);return n.reduce(function(m,v){var x,y=v.type.defaultProps!==void 0?q(q({},v.type.defaultProps),v.props):v.props,g=y.type,b=y.dataKey,S=y.allowDataOverflow,w=y.allowDuplicatedCategory,k=y.scale,j=y.ticks,P=y.includeHidden,_=y[i];if(m[_])return m;var A=zh(t.data,{graphicalItems:a.filter(function(X){var H,U=i in X.props?X.props[i]:(H=X.type.defaultProps)===null||H===void 0?void 0:H[i];return U===_}),dataStartIndex:l,dataEndIndex:c}),N=A.length,E,z,D;lQ(y.domain,S,g)&&(E=Wg(y.domain,null,S),p&&(g==="number"||k!=="auto")&&(D=Yl(A,b,"category")));var T=D_(g);if(!E||E.length===0){var L,W=(L=y.domain)!==null&&L!==void 0?L:T;if(b){if(E=Yl(A,b,g),g==="category"&&p){var I=o5(E);w&&I?(z=E,E=bd(0,N)):w||(E=sw(W,E,v).reduce(function(X,H){return X.indexOf(H)>=0?X:[].concat(Ks(X),[H])},[]))}else if(g==="category")w?E=E.filter(function(X){return X!==""&&!De(X)}):E=sw(W,E,v).reduce(function(X,H){return X.indexOf(H)>=0||H===""||De(H)?X:[].concat(Ks(X),[H])},[]);else if(g==="number"){var R=SW(A,a.filter(function(X){var H,U,ue=i in X.props?X.props[i]:(H=X.type.defaultProps)===null||H===void 0?void 0:H[i],fe="hide"in X.props?X.props.hide:(U=X.type.defaultProps)===null||U===void 0?void 0:U.hide;return ue===_&&(P||!fe)}),b,o,f);R&&(E=R)}p&&(g==="number"||k!=="auto")&&(D=Yl(A,b,"category"))}else p?E=bd(0,N):s&&s[_]&&s[_].hasStack&&g==="number"?E=h==="expand"?[0,1]:wP(s[_].stackGroups,l,c):E=vP(A,a.filter(function(X){var H=i in X.props?X.props[i]:X.type.defaultProps[i],U="hide"in X.props?X.props.hide:X.type.defaultProps.hide;return H===_&&(P||!U)}),g,f,!0);if(g==="number")E=Om(d,E,_,o,j),W&&(E=Wg(W,E,S));else if(g==="category"&&W){var B=W,te=E.every(function(X){return B.indexOf(X)>=0});te&&(E=B)}}return q(q({},m),{},Ae({},_,q(q({},y),{},{axisType:o,domain:E,categoricalDomain:D,duplicateDomain:z,originalDomain:(x=y.domain)!==null&&x!==void 0?x:T,isCategorical:p,layout:f})))},{})},LQ=function(t,r){var n=r.graphicalItems,a=r.Axis,o=r.axisType,i=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,f=t.layout,d=t.children,h=zh(t.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),p=h.length,m=xP(f,o),v=-1;return n.reduce(function(x,y){var g=y.type.defaultProps!==void 0?q(q({},y.type.defaultProps),y.props):y.props,b=g[i],S=D_("number");if(!x[b]){v++;var w;return m?w=bd(0,p):s&&s[b]&&s[b].hasStack?(w=wP(s[b].stackGroups,l,c),w=Om(d,w,b,o)):(w=Wg(S,vP(h,n.filter(function(k){var j,P,_=i in k.props?k.props[i]:(j=k.type.defaultProps)===null||j===void 0?void 0:j[i],A="hide"in k.props?k.props.hide:(P=k.type.defaultProps)===null||P===void 0?void 0:P.hide;return _===b&&!A}),"number",f),a.defaultProps.allowDataOverflow),w=Om(d,w,b,o)),q(q({},x),{},Ae({},b,q(q({axisType:o},a.defaultProps),{},{hide:!0,orientation:Xn(EQ,"".concat(o,".").concat(v%2),null),domain:w,originalDomain:S,isCategorical:m,layout:f})))}return x},{})},IQ=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,o=r.AxisComp,i=r.graphicalItems,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,f=t.children,d="".concat(a,"Id"),h=bn(f,o),p={};return h&&h.length?p=RQ(t,{axes:h,graphicalItems:i,axisType:a,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:c}):i&&i.length&&(p=LQ(t,{Axis:o,graphicalItems:i,axisType:a,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:c})),p},BQ=function(t){var r=go(t),n=Wa(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Vy(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:ud(r,n)}},C2=function(t){var r=t.children,n=t.defaultShowTooltip,a=Nn(r,$s),o=0,i=0;return t.data&&t.data.length!==0&&(i=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(o=a.props.startIndex),a.props.endIndex>=0&&(i=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:i,activeTooltipIndex:-1,isTooltipActive:!!n}},FQ=function(t){return!t||!t.length?!1:t.some(function(r){var n=Ga(r&&r.type);return n&&n.indexOf("Bar")>=0})},E2=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},zQ=function(t,r){var n=t.props,a=t.graphicalItems,o=t.xAxisMap,i=o===void 0?{}:o,s=t.yAxisMap,l=s===void 0?{}:s,c=n.width,f=n.height,d=n.children,h=n.margin||{},p=Nn(d,$s),m=Nn(d,Va),v=Object.keys(l).reduce(function(w,k){var j=l[k],P=j.orientation;return!j.mirror&&!j.hide?q(q({},w),{},Ae({},P,w[P]+j.width)):w},{left:h.left||0,right:h.right||0}),x=Object.keys(i).reduce(function(w,k){var j=i[k],P=j.orientation;return!j.mirror&&!j.hide?q(q({},w),{},Ae({},P,Xn(w,"".concat(P))+j.height)):w},{top:h.top||0,bottom:h.bottom||0}),y=q(q({},x),v),g=y.bottom;p&&(y.bottom+=p.props.height||$s.defaultProps.height),m&&r&&(y=wW(y,a,n,r));var b=c-y.left-y.right,S=f-y.top-y.bottom;return q(q({brushBottom:g},y),{},{width:Math.max(b,0),height:Math.max(S,0)})},WQ=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},Mv=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,o=a===void 0?"axis":a,i=t.validateTooltipEventTypes,s=i===void 0?["axis"]:i,l=t.axisComponents,c=t.legendContent,f=t.formatAxisMap,d=t.defaultProps,h=function(y,g){var b=g.graphicalItems,S=g.stackGroups,w=g.offset,k=g.updateId,j=g.dataStartIndex,P=g.dataEndIndex,_=y.barSize,A=y.layout,N=y.barGap,E=y.barCategoryGap,z=y.maxBarSize,D=E2(A),T=D.numericAxisName,L=D.cateAxisName,W=FQ(b),I=[];return b.forEach(function(R,B){var te=zh(y.data,{graphicalItems:[R],dataStartIndex:j,dataEndIndex:P}),X=R.type.defaultProps!==void 0?q(q({},R.type.defaultProps),R.props):R.props,H=X.dataKey,U=X.maxBarSize,ue=X["".concat(T,"Id")],fe=X["".concat(L,"Id")],ke={},we=l.reduce(function(nt,rr){var Pt=g["".concat(rr.axisType,"Map")],Zr=X["".concat(rr.axisType,"Id")];Pt&&Pt[Zr]||rr.axisType==="zAxis"||bi();var At=Pt[Zr];return q(q({},nt),{},Ae(Ae({},rr.axisType,At),"".concat(rr.axisType,"Ticks"),Wa(At)))},ke),K=we[L],ce=we["".concat(L,"Ticks")],be=S&&S[ue]&&S[ue].hasStack&&DW(R,S[ue].stackGroups),Q=Ga(R.type).indexOf("Bar")>=0,We=ud(K,ce),Oe=[],Ie=W&&xW({barSize:_,stackGroups:S,totalSize:WQ(we,L)});if(Q){var qe,bt,Zt=De(U)?z:U,Bt=(qe=(bt=ud(K,ce,!0))!==null&&bt!==void 0?bt:Zt)!==null&&qe!==void 0?qe:0;Oe=bW({barGap:N,barCategoryGap:E,bandSize:Bt!==We?Bt:We,sizeList:Ie[fe],maxBarSize:Zt}),Bt!==We&&(Oe=Oe.map(function(nt){return q(q({},nt),{},{position:q(q({},nt.position),{},{offset:nt.position.offset-Bt/2})})}))}var Er=R&&R.type&&R.type.getComposedData;Er&&I.push({props:q(q({},Er(q(q({},we),{},{displayedData:te,props:y,dataKey:H,item:R,bandSize:We,barPosition:Oe,offset:w,stackedData:be,layout:A,dataStartIndex:j,dataEndIndex:P}))),{},Ae(Ae(Ae({key:R.key||"item-".concat(B)},T,we[T]),L,we[L]),"animationId",k)),childIndex:v5(R,y.children),item:R})}),I},p=function(y,g){var b=y.props,S=y.dataStartIndex,w=y.dataEndIndex,k=y.updateId;if(!tb({props:b}))return null;var j=b.children,P=b.layout,_=b.stackOffset,A=b.data,N=b.reverseStackOrder,E=E2(P),z=E.numericAxisName,D=E.cateAxisName,T=bn(j,n),L=EW(A,T,"".concat(z,"Id"),"".concat(D,"Id"),_,N),W=l.reduce(function(X,H){var U="".concat(H.axisType,"Map");return q(q({},X),{},Ae({},U,IQ(b,q(q({},H),{},{graphicalItems:T,stackGroups:H.axisType===z&&L,dataStartIndex:S,dataEndIndex:w}))))},{}),I=zQ(q(q({},W),{},{props:b,graphicalItems:T}),g==null?void 0:g.legendBBox);Object.keys(W).forEach(function(X){W[X]=f(b,W[X],I,X.replace("Map",""),r)});var R=W["".concat(D,"Map")],B=BQ(R),te=h(b,q(q({},W),{},{dataStartIndex:S,dataEndIndex:w,updateId:k,graphicalItems:T,stackGroups:L,offset:I}));return q(q({formattedGraphicalItems:te,graphicalItems:T,offset:I,stackGroups:L},B),W)},m=function(x){function y(g){var b,S,w;return wQ(this,y),w=jQ(this,y,[g]),Ae(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ae(w,"accessibilityManager",new sQ),Ae(w,"handleLegendBBoxUpdate",function(k){if(k){var j=w.state,P=j.dataStartIndex,_=j.dataEndIndex,A=j.updateId;w.setState(q({legendBBox:k},p({props:w.props,dataStartIndex:P,dataEndIndex:_,updateId:A},q(q({},w.state),{},{legendBBox:k}))))}}),Ae(w,"handleReceiveSyncEvent",function(k,j,P){if(w.props.syncId===k){if(P===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(j)}}),Ae(w,"handleBrushChange",function(k){var j=k.startIndex,P=k.endIndex;if(j!==w.state.dataStartIndex||P!==w.state.dataEndIndex){var _=w.state.updateId;w.setState(function(){return q({dataStartIndex:j,dataEndIndex:P},p({props:w.props,dataStartIndex:j,dataEndIndex:P,updateId:_},w.state))}),w.triggerSyncEvent({dataStartIndex:j,dataEndIndex:P})}}),Ae(w,"handleMouseEnter",function(k){var j=w.getMouseInfo(k);if(j){var P=q(q({},j),{},{isTooltipActive:!0});w.setState(P),w.triggerSyncEvent(P);var _=w.props.onMouseEnter;ze(_)&&_(P,k)}}),Ae(w,"triggeredAfterMouseMove",function(k){var j=w.getMouseInfo(k),P=j?q(q({},j),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(P),w.triggerSyncEvent(P);var _=w.props.onMouseMove;ze(_)&&_(P,k)}),Ae(w,"handleItemMouseEnter",function(k){w.setState(function(){return{isTooltipActive:!0,activeItem:k,activePayload:k.tooltipPayload,activeCoordinate:k.tooltipPosition||{x:k.cx,y:k.cy}}})}),Ae(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),Ae(w,"handleMouseMove",function(k){k.persist(),w.throttleTriggeredAfterMouseMove(k)}),Ae(w,"handleMouseLeave",function(k){w.throttleTriggeredAfterMouseMove.cancel();var j={isTooltipActive:!1};w.setState(j),w.triggerSyncEvent(j);var P=w.props.onMouseLeave;ze(P)&&P(j,k)}),Ae(w,"handleOuterEvent",function(k){var j=y5(k),P=Xn(w.props,"".concat(j));if(j&&ze(P)){var _,A;/.*touch.*/i.test(j)?A=w.getMouseInfo(k.changedTouches[0]):A=w.getMouseInfo(k),P((_=A)!==null&&_!==void 0?_:{},k)}}),Ae(w,"handleClick",function(k){var j=w.getMouseInfo(k);if(j){var P=q(q({},j),{},{isTooltipActive:!0});w.setState(P),w.triggerSyncEvent(P);var _=w.props.onClick;ze(_)&&_(P,k)}}),Ae(w,"handleMouseDown",function(k){var j=w.props.onMouseDown;if(ze(j)){var P=w.getMouseInfo(k);j(P,k)}}),Ae(w,"handleMouseUp",function(k){var j=w.props.onMouseUp;if(ze(j)){var P=w.getMouseInfo(k);j(P,k)}}),Ae(w,"handleTouchMove",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(k.changedTouches[0])}),Ae(w,"handleTouchStart",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&w.handleMouseDown(k.changedTouches[0])}),Ae(w,"handleTouchEnd",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&w.handleMouseUp(k.changedTouches[0])}),Ae(w,"handleDoubleClick",function(k){var j=w.props.onDoubleClick;if(ze(j)){var P=w.getMouseInfo(k);j(P,k)}}),Ae(w,"handleContextMenu",function(k){var j=w.props.onContextMenu;if(ze(j)){var P=w.getMouseInfo(k);j(P,k)}}),Ae(w,"triggerSyncEvent",function(k){w.props.syncId!==void 0&&Qp.emit(Zp,w.props.syncId,k,w.eventEmitterSymbol)}),Ae(w,"applySyncEvent",function(k){var j=w.props,P=j.layout,_=j.syncMethod,A=w.state.updateId,N=k.dataStartIndex,E=k.dataEndIndex;if(k.dataStartIndex!==void 0||k.dataEndIndex!==void 0)w.setState(q({dataStartIndex:N,dataEndIndex:E},p({props:w.props,dataStartIndex:N,dataEndIndex:E,updateId:A},w.state)));else if(k.activeTooltipIndex!==void 0){var z=k.chartX,D=k.chartY,T=k.activeTooltipIndex,L=w.state,W=L.offset,I=L.tooltipTicks;if(!W)return;if(typeof _=="function")T=_(I,k);else if(_==="value"){T=-1;for(var R=0;R<I.length;R++)if(I[R].value===k.activeLabel){T=R;break}}var B=q(q({},W),{},{x:W.left,y:W.top}),te=Math.min(z,B.x+B.width),X=Math.min(D,B.y+B.height),H=I[T]&&I[T].value,U=Nm(w.state,w.props.data,T),ue=I[T]?{x:P==="horizontal"?I[T].coordinate:te,y:P==="horizontal"?X:I[T].coordinate}:$_;w.setState(q(q({},k),{},{activeLabel:H,activeCoordinate:ue,activePayload:U,activeTooltipIndex:T}))}else w.setState(k)}),Ae(w,"renderCursor",function(k){var j,P=w.state,_=P.isTooltipActive,A=P.activeCoordinate,N=P.activePayload,E=P.offset,z=P.activeTooltipIndex,D=P.tooltipAxisBandSize,T=w.getTooltipEventType(),L=(j=k.props.active)!==null&&j!==void 0?j:_,W=w.props.layout,I=k.key||"_recharts-cursor";return M.createElement(pQ,{key:I,activeCoordinate:A,activePayload:N,activeTooltipIndex:z,chartName:r,element:k,isActive:L,layout:W,offset:E,tooltipAxisBandSize:D,tooltipEventType:T})}),Ae(w,"renderPolarAxis",function(k,j,P){var _=Xn(k,"type.axisType"),A=Xn(w.state,"".concat(_,"Map")),N=k.type.defaultProps,E=N!==void 0?q(q({},N),k.props):k.props,z=A&&A[E["".concat(_,"Id")]];return O.cloneElement(k,q(q({},z),{},{className:et(_,z.className),key:k.key||"".concat(j,"-").concat(P),ticks:Wa(z,!0)}))}),Ae(w,"renderPolarGrid",function(k){var j=k.props,P=j.radialLines,_=j.polarAngles,A=j.polarRadius,N=w.state,E=N.radiusAxisMap,z=N.angleAxisMap,D=go(E),T=go(z),L=T.cx,W=T.cy,I=T.innerRadius,R=T.outerRadius;return O.cloneElement(k,{polarAngles:Array.isArray(_)?_:Wa(T,!0).map(function(B){return B.coordinate}),polarRadius:Array.isArray(A)?A:Wa(D,!0).map(function(B){return B.coordinate}),cx:L,cy:W,innerRadius:I,outerRadius:R,key:k.key||"polar-grid",radialLines:P})}),Ae(w,"renderLegend",function(){var k=w.state.formattedGraphicalItems,j=w.props,P=j.children,_=j.width,A=j.height,N=w.props.margin||{},E=_-(N.left||0)-(N.right||0),z=mP({children:P,formattedGraphicalItems:k,legendWidth:E,legendContent:c});if(!z)return null;var D=z.item,T=N2(z,gQ);return O.cloneElement(D,q(q({},T),{},{chartWidth:_,chartHeight:A,margin:N,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),Ae(w,"renderTooltip",function(){var k,j=w.props,P=j.children,_=j.accessibilityLayer,A=Nn(P,nn);if(!A)return null;var N=w.state,E=N.isTooltipActive,z=N.activeCoordinate,D=N.activePayload,T=N.activeLabel,L=N.offset,W=(k=A.props.active)!==null&&k!==void 0?k:E;return O.cloneElement(A,{viewBox:q(q({},L),{},{x:L.left,y:L.top}),active:W,label:T,payload:W?D:[],coordinate:z,accessibilityLayer:_})}),Ae(w,"renderBrush",function(k){var j=w.props,P=j.margin,_=j.data,A=w.state,N=A.offset,E=A.dataStartIndex,z=A.dataEndIndex,D=A.updateId;return O.cloneElement(k,{key:k.key||"_recharts-brush",onChange:Hu(w.handleBrushChange,k.props.onChange),data:_,x:se(k.props.x)?k.props.x:N.left,y:se(k.props.y)?k.props.y:N.top+N.height+N.brushBottom-(P.bottom||0),width:se(k.props.width)?k.props.width:N.width,startIndex:E,endIndex:z,updateId:"brush-".concat(D)})}),Ae(w,"renderReferenceElement",function(k,j,P){if(!k)return null;var _=w,A=_.clipPathId,N=w.state,E=N.xAxisMap,z=N.yAxisMap,D=N.offset,T=k.type.defaultProps||{},L=k.props,W=L.xAxisId,I=W===void 0?T.xAxisId:W,R=L.yAxisId,B=R===void 0?T.yAxisId:R;return O.cloneElement(k,{key:k.key||"".concat(j,"-").concat(P),xAxis:E[I],yAxis:z[B],viewBox:{x:D.left,y:D.top,width:D.width,height:D.height},clipPathId:A})}),Ae(w,"renderActivePoints",function(k){var j=k.item,P=k.activePoint,_=k.basePoint,A=k.childIndex,N=k.isRange,E=[],z=j.props.key,D=j.item.type.defaultProps!==void 0?q(q({},j.item.type.defaultProps),j.item.props):j.item.props,T=D.activeDot,L=D.dataKey,W=q(q({index:A,dataKey:L,cx:P.x,cy:P.y,r:4,fill:xv(j.item),strokeWidth:2,stroke:"#fff",payload:P.payload,value:P.value},Le(T,!1)),Rf(T));return E.push(y.renderActiveDot(T,W,"".concat(z,"-activePoint-").concat(A))),_?E.push(y.renderActiveDot(T,q(q({},W),{},{cx:_.x,cy:_.y}),"".concat(z,"-basePoint-").concat(A))):N&&E.push(null),E}),Ae(w,"renderGraphicChild",function(k,j,P){var _=w.filterFormatItem(k,j,P);if(!_)return null;var A=w.getTooltipEventType(),N=w.state,E=N.isTooltipActive,z=N.tooltipAxis,D=N.activeTooltipIndex,T=N.activeLabel,L=w.props.children,W=Nn(L,nn),I=_.props,R=I.points,B=I.isRange,te=I.baseLine,X=_.item.type.defaultProps!==void 0?q(q({},_.item.type.defaultProps),_.item.props):_.item.props,H=X.activeDot,U=X.hide,ue=X.activeBar,fe=X.activeShape,ke=!!(!U&&E&&W&&(H||ue||fe)),we={};A!=="axis"&&W&&W.props.trigger==="click"?we={onClick:Hu(w.handleItemMouseEnter,k.props.onClick)}:A!=="axis"&&(we={onMouseLeave:Hu(w.handleItemMouseLeave,k.props.onMouseLeave),onMouseEnter:Hu(w.handleItemMouseEnter,k.props.onMouseEnter)});var K=O.cloneElement(k,q(q({},_.props),we));function ce(rr){return typeof z.dataKey=="function"?z.dataKey(rr.payload):null}if(ke)if(D>=0){var be,Q;if(z.dataKey&&!z.allowDuplicatedCategory){var We=typeof z.dataKey=="function"?ce:"payload.".concat(z.dataKey.toString());be=Df(R,We,T),Q=B&&te&&Df(te,We,T)}else be=R==null?void 0:R[D],Q=B&&te&&te[D];if(fe||ue){var Oe=k.props.activeIndex!==void 0?k.props.activeIndex:D;return[O.cloneElement(k,q(q(q({},_.props),we),{},{activeIndex:Oe})),null,null]}if(!De(be))return[K].concat(Ks(w.renderActivePoints({item:_,activePoint:be,basePoint:Q,childIndex:D,isRange:B})))}else{var Ie,qe=(Ie=w.getItemByXY(w.state.activeCoordinate))!==null&&Ie!==void 0?Ie:{graphicalItem:K},bt=qe.graphicalItem,Zt=bt.item,Bt=Zt===void 0?k:Zt,Er=bt.childIndex,nt=q(q(q({},_.props),we),{},{activeIndex:Er});return[O.cloneElement(Bt,nt),null,null]}return B?[K,null,null]:[K,null]}),Ae(w,"renderCustomized",function(k,j,P){return O.cloneElement(k,q(q({key:"recharts-customized-".concat(P)},w.props),w.state))}),Ae(w,"renderMap",{CartesianGrid:{handler:qu,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:qu},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:qu},YAxis:{handler:qu},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((b=g.id)!==null&&b!==void 0?b:Pi("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=mO(w.triggeredAfterMouseMove,(S=g.throttleDelay)!==null&&S!==void 0?S:1e3/60),w.state={},w}return _Q(y,x),SQ(y,[{key:"componentDidMount",value:function(){var b,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,S=b.children,w=b.data,k=b.height,j=b.layout,P=Nn(S,nn);if(P){var _=P.props.defaultIndex;if(!(typeof _!="number"||_<0||_>this.state.tooltipTicks.length-1)){var A=this.state.tooltipTicks[_]&&this.state.tooltipTicks[_].value,N=Nm(this.state,w,_,A),E=this.state.tooltipTicks[_].coordinate,z=(this.state.offset.top+k)/2,D=j==="horizontal",T=D?{x:E,y:z}:{y:E,x:z},L=this.state.formattedGraphicalItems.find(function(I){var R=I.item;return R.type.name==="Scatter"});L&&(T=q(q({},T),L.props.points[_].tooltipPosition),N=L.props.points[_].tooltipPayload);var W={activeTooltipIndex:_,isTooltipActive:!0,activeLabel:A,activePayload:N,activeCoordinate:T};this.setState(W),this.renderCursor(P),this.accessibilityManager.setIndex(_)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var w,k;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0}})}return null}},{key:"componentDidUpdate",value:function(b){ng([Nn(b.children,nn)],[Nn(this.props.children,nn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=Nn(this.props.children,nn);if(b&&typeof b.props.shared=="boolean"){var S=b.props.shared?"axis":"item";return s.indexOf(S)>=0?S:o}return o}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var S=this.container,w=S.getBoundingClientRect(),k=G8(w),j={chartX:Math.round(b.pageX-k.left),chartY:Math.round(b.pageY-k.top)},P=w.width/S.offsetWidth||1,_=this.inRange(j.chartX,j.chartY,P);if(!_)return null;var A=this.state,N=A.xAxisMap,E=A.yAxisMap,z=this.getTooltipEventType(),D=M2(this.state,this.props.data,this.props.layout,_);if(z!=="axis"&&N&&E){var T=go(N).scale,L=go(E).scale,W=T&&T.invert?T.invert(j.chartX):null,I=L&&L.invert?L.invert(j.chartY):null;return q(q({},j),{},{xValue:W,yValue:I},D)}return D?q(q({},j),D):null}},{key:"inRange",value:function(b,S){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,k=this.props.layout,j=b/w,P=S/w;if(k==="horizontal"||k==="vertical"){var _=this.state.offset,A=j>=_.left&&j<=_.left+_.width&&P>=_.top&&P<=_.top+_.height;return A?{x:j,y:P}:null}var N=this.state,E=N.angleAxisMap,z=N.radiusAxisMap;if(E&&z){var D=go(E);return uw({x:j,y:P},D)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,S=this.getTooltipEventType(),w=Nn(b,nn),k={};w&&S==="axis"&&(w.props.trigger==="click"?k={onClick:this.handleClick}:k={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var j=Rf(this.props,this.handleOuterEvent);return q(q({},j),k)}},{key:"addListener",value:function(){Qp.on(Zp,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Qp.removeListener(Zp,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,S,w){for(var k=this.state.formattedGraphicalItems,j=0,P=k.length;j<P;j++){var _=k[j];if(_.item===b||_.props.key===b.key||S===Ga(_.item.type)&&w===_.childIndex)return _}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,S=this.state.offset,w=S.left,k=S.top,j=S.height,P=S.width;return M.createElement("defs",null,M.createElement("clipPath",{id:b},M.createElement("rect",{x:w,y:k,height:j,width:P})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(S,w){var k=_2(w,2),j=k[0],P=k[1];return q(q({},S),{},Ae({},j,P.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(S,w){var k=_2(w,2),j=k[0],P=k[1];return q(q({},S),{},Ae({},j,P.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[b])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(b){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[b])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(b){var S=this.state,w=S.formattedGraphicalItems,k=S.activeItem;if(w&&w.length)for(var j=0,P=w.length;j<P;j++){var _=w[j],A=_.props,N=_.item,E=N.type.defaultProps!==void 0?q(q({},N.type.defaultProps),N.props):N.props,z=Ga(N.type);if(z==="Bar"){var D=(A.data||[]).find(function(I){return MH(b,I)});if(D)return{graphicalItem:_,payload:D}}else if(z==="RadialBar"){var T=(A.data||[]).find(function(I){return uw(b,I)});if(T)return{graphicalItem:_,payload:T}}else if($h(_,k)||Dh(_,k)||Vc(_,k)){var L=EV({graphicalItem:_,activeTooltipItem:k,itemData:E.data}),W=E.activeIndex===void 0?L:E.activeIndex;return{graphicalItem:q(q({},_),{},{childIndex:W}),payload:Vc(_,k)?E.data[L]:_.props.data[L]}}}return null}},{key:"render",value:function(){var b=this;if(!tb(this))return null;var S=this.props,w=S.children,k=S.className,j=S.width,P=S.height,_=S.style,A=S.compact,N=S.title,E=S.desc,z=N2(S,mQ),D=Le(z,!1);if(A)return M.createElement(o2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement(og,ns({},D,{width:j,height:P,title:N,desc:E}),this.renderClipPath(),nb(w,this.renderMap)));if(this.props.accessibilityLayer){var T,L;D.tabIndex=(T=this.props.tabIndex)!==null&&T!==void 0?T:0,D.role=(L=this.props.role)!==null&&L!==void 0?L:"application",D.onKeyDown=function(I){b.accessibilityManager.keyboardEvent(I)},D.onFocus=function(){b.accessibilityManager.focus()}}var W=this.parseEventsOfWrapper();return M.createElement(o2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement("div",ns({className:et("recharts-wrapper",k),style:q({position:"relative",cursor:"default",width:j,height:P},_)},W,{ref:function(R){b.container=R}}),M.createElement(og,ns({},D,{width:j,height:P,title:N,desc:E,style:TQ}),this.renderClipPath(),nb(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(O.Component);Ae(m,"displayName",r),Ae(m,"defaultProps",q({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),Ae(m,"getDerivedStateFromProps",function(x,y){var g=x.dataKey,b=x.data,S=x.children,w=x.width,k=x.height,j=x.layout,P=x.stackOffset,_=x.margin,A=y.dataStartIndex,N=y.dataEndIndex;if(y.updateId===void 0){var E=C2(x);return q(q(q({},E),{},{updateId:0},p(q(q({props:x},E),{},{updateId:0}),y)),{},{prevDataKey:g,prevData:b,prevWidth:w,prevHeight:k,prevLayout:j,prevStackOffset:P,prevMargin:_,prevChildren:S})}if(g!==y.prevDataKey||b!==y.prevData||w!==y.prevWidth||k!==y.prevHeight||j!==y.prevLayout||P!==y.prevStackOffset||!us(_,y.prevMargin)){var z=C2(x),D={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},T=q(q({},M2(y,b,j)),{},{updateId:y.updateId+1}),L=q(q(q({},z),D),T);return q(q(q({},L),p(q({props:x},L),y)),{},{prevDataKey:g,prevData:b,prevWidth:w,prevHeight:k,prevLayout:j,prevStackOffset:P,prevMargin:_,prevChildren:S})}if(!ng(S,y.prevChildren)){var W,I,R,B,te=Nn(S,$s),X=te&&(W=(I=te.props)===null||I===void 0?void 0:I.startIndex)!==null&&W!==void 0?W:A,H=te&&(R=(B=te.props)===null||B===void 0?void 0:B.endIndex)!==null&&R!==void 0?R:N,U=X!==A||H!==N,ue=!De(b),fe=ue&&!U?y.updateId:y.updateId+1;return q(q({updateId:fe},p(q(q({props:x},y),{},{updateId:fe,dataStartIndex:X,dataEndIndex:H}),y)),{},{prevChildren:S,dataStartIndex:X,dataEndIndex:H})}return null}),Ae(m,"renderActiveDot",function(x,y,g){var b;return O.isValidElement(x)?b=O.cloneElement(x,y):ze(x)?b=x(y):b=M.createElement(Th,y),M.createElement(dt,{className:"recharts-active-dot",key:g},b)});var v=O.forwardRef(function(y,g){return M.createElement(m,ns({},y,{ref:g}))});return v.displayName=m.displayName,v},Cv=Mv({chartName:"LineChart",GraphicalChild:qr,axisComponents:[{axisType:"xAxis",AxisComp:pa},{axisType:"yAxis",AxisComp:ga}],formatAxisMap:wv}),UQ=Mv({chartName:"ScatterChart",GraphicalChild:tn,defaultTooltipEventType:"item",validateTooltipEventTypes:["item"],axisComponents:[{axisType:"xAxis",AxisComp:pa},{axisType:"yAxis",AxisComp:ga},{axisType:"zAxis",AxisComp:Fh}],formatAxisMap:wv}),R_=Mv({chartName:"AreaChart",GraphicalChild:Vn,axisComponents:[{axisType:"xAxis",AxisComp:pa},{axisType:"yAxis",AxisComp:ga}],formatAxisMap:wv});const GQ="modulepreload",HQ=function(e){return"/"+e},T2={},VQ=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),s=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));a=Promise.allSettled(r.map(l=>{if(l=HQ(l),l in T2)return;T2[l]=!0;const c=l.endsWith(".css"),f=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${f}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":GQ,c||(d.as="script"),d.crossOrigin="",d.href=l,s&&d.setAttribute("nonce",s),document.head.appendChild(d),c)return new Promise((h,p)=>{d.addEventListener("load",h),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(i){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=i,window.dispatchEvent(s),!s.defaultPrevented)throw i}return a.then(i=>{for(const s of i||[])s.status==="rejected"&&o(s.reason);return t().catch(o)})};function KQ(e){const[[t,r,n],[a,o,i],[s,l,c]]=e,f=t*(o*c-i*l)-r*(a*c-i*s)+n*(a*l-o*s);if(Math.abs(f)<1e-10)return null;const d=1/f;return[[(o*c-i*l)*d,(n*l-r*c)*d,(r*i-n*o)*d],[(i*s-a*c)*d,(t*c-n*s)*d,(n*a-t*i)*d],[(a*l-o*s)*d,(r*s-t*l)*d,(t*o-r*a)*d]]}function $2(e,t){const r=[[0,0,0],[0,0,0],[0,0,0]];for(let n=0;n<3;n++)for(let a=0;a<3;a++)for(let o=0;o<3;o++)r[n][a]+=e[n][o]*t[o][a];return r}class Xs{constructor(t){en(this,"size");en(this,"isPowerOfTwo");en(this,"_real");en(this,"_imag");en(this,"_scratch",null);en(this,"_rev",null);en(this,"_m",0);en(this,"_internalFFT",null);en(this,"_chirpReal",null);en(this,"_chirpImag",null);en(this,"_bReal",null);en(this,"_bImag",null);en(this,"_hanning",null);en(this,"_windowSumSq",0);this.size=t,this.isPowerOfTwo=(t&t-1)===0&&t>0,this._real=new Float32Array(t),this._imag=new Float32Array(t),this.isPowerOfTwo?this.initRadix2():this.initBluestein()}initRadix2(){const t=this.size,r=Math.log2(t);this._rev=new Uint32Array(t);for(let n=0;n<t;n++){let a=0,o=n;for(let i=0;i<r;i++)a=a<<1|o&1,o>>>=1;this._rev[n]=a}}initBluestein(){const t=this.size;this._m=Math.pow(2,Math.ceil(Math.log2(2*t-1))),this._internalFFT=new Xs(this._m),this._chirpReal=new Float32Array(t),this._chirpImag=new Float32Array(t);for(let a=0;a<t;a++){const o=-Math.PI*(a*a)/t;this._chirpReal[a]=Math.cos(o),this._chirpImag[a]=Math.sin(o)}const r=new Float32Array(this._m),n=new Float32Array(this._m);for(let a=0;a<t;a++)r[a]=this._chirpReal[a],n[a]=-this._chirpImag[a];for(let a=1;a<t;a++)r[this._m-a]=r[a],n[this._m-a]=n[a];this._internalFFT.transform(r,n),this._bReal=new Float32Array(this._internalFFT._real),this._bImag=new Float32Array(this._internalFFT._imag)}initHanning(){if(this._hanning)return;const t=this.size;this._hanning=new Float32Array(t);let r=0;for(let n=0;n<t;n++){const a=.5*(1-Math.cos(2*Math.PI*n/(t-1)));this._hanning[n]=a,r+=a*a}this._windowSumSq=r}transform(t,r){this.isPowerOfTwo?this.transformRadix2(t,r):this.transformBluestein(t,r)}transformRadix2(t,r){const n=this.size,a=this._rev,o=this._real,i=this._imag;if(t===o)for(let s=0;s<n;s++){const l=a[s];if(s<l){const c=o[s],f=i[s];o[s]=o[l],i[s]=i[l],o[l]=c,i[l]=f}}else for(let s=0;s<n;s++){const l=a[s];o[s]=t[l],i[s]=r?r[l]:0}for(let s=2;s<=n;s*=2){const l=s/2,c=-2*Math.PI/s,f=Math.cos(c),d=Math.sin(c);for(let h=0;h<n;h+=s){let p=1,m=0;for(let v=0;v<l;v++){const x=h+v,y=h+v+l,g=p*o[y]-m*i[y],b=p*i[y]+m*o[y],S=o[x],w=i[x];o[x]=S+g,i[x]=w+b,o[y]=S-g,i[y]=w-b;const k=p*f-m*d,j=p*d+m*f;p=k,m=j}}}}transformBluestein(t,r){const n=this.size,a=this._m,o=this._internalFFT,i=o._real,s=o._imag;i.fill(0),s.fill(0);for(let d=0;d<n;d++){const h=t[d],p=r?r[d]:0,m=this._chirpReal[d],v=this._chirpImag[d];i[d]=h*m-p*v,s[d]=h*v+p*m}o.transformRadix2(i,s);for(let d=0;d<a;d++){const h=o._real[d],p=o._imag[d],m=this._bReal[d],v=this._bImag[d];o._real[d]=h*m-p*v,o._imag[d]=h*v+p*m}const l=o._real,c=o._imag;for(let d=0;d<a;d++)c[d]=-c[d];o.transformRadix2(l,c);const f=1/a;for(let d=0;d<n;d++){const h=o._real[d]*f,p=-o._imag[d]*f,m=this._chirpReal[d],v=this._chirpImag[d];this._real[d]=h*m-p*v,this._imag[d]=h*v+p*m}}calculateSpectrum(t,r,n=!1){const a=this.size;let o=0;for(let f=0;f<a;f++)o+=t[f];const i=o/a;this._scratch||(this._scratch=new Float32Array(a));const s=this._scratch;if(n){this.initHanning();const f=this._hanning;for(let d=0;d<a;d++)s[d]=(t[d]-i)*f[d]}else for(let f=0;f<a;f++)s[f]=t[f]-i;this.transform(s);const l=r.length;let c=1/a;n&&this._windowSumSq>0&&(c=1/this._windowSumSq);for(let f=0;f<l;f++){const d=this._real[f],h=this._imag[f];r[f]+=(d*d+h*h)*c}}}function XQ(e,t,r,n=!1){const a=new Xs(t),o=new Xs(r),i=t*r,s=new Float32Array(i),l=new Float32Array(i);let c=null,f=null;if(n){c=new Float32Array(t);for(let v=0;v<t;v++)c[v]=.5*(1-Math.cos(2*Math.PI*v/(t-1)));f=new Float32Array(r);for(let v=0;v<r;v++)f[v]=.5*(1-Math.cos(2*Math.PI*v/(r-1)))}for(let v=0;v<r;v++){const x=v*t,y=a._real;let g=0;for(let S=0;S<t;S++)g+=e[x+S];const b=g/t;if(c)for(let S=0;S<t;S++)y[S]=(e[x+S]-b)*c[S];else for(let S=0;S<t;S++)y[S]=e[x+S]-b;a.transform(y);for(let S=0;S<t;S++)s[x+S]=a._real[S],l[x+S]=a._imag[S]}for(let v=0;v<t;v++){const x=o._real,y=o._imag;for(let g=0;g<r;g++){const b=g*t+v;let S=s[b],w=l[b];f&&(S*=f[g],w*=f[g]),x[g]=S,y[g]=w}o.transform(x,y);for(let g=0;g<r;g++){const b=g*t+v;s[b]=o._real[g],l[b]=o._imag[g]}}const d=new Float32Array(i);let h=1,p=t,m=r;if(n&&c&&f){p=0;for(let v=0;v<t;v++)p+=c[v]*c[v];m=0;for(let v=0;v<r;v++)m+=f[v]*f[v]}h=1/(p*m);for(let v=0;v<i;v++)d[v]=(s[v]*s[v]+l[v]*l[v])*h;return d}function YQ(e,t,r){const n=new Float32Array(e.length),a=Math.floor(t/2),o=Math.floor(r/2);for(let i=0;i<r;i++)for(let s=0;s<t;s++){const l=(s+a)%t,c=(i+o)%r,f=i*t+s,d=c*t+l;n[d]=e[f]}return n}let e0=null;async function Wh(){if(!e0)try{const n=(await VQ(()=>import("./joraw-BbbXRM02.js"),[])).default;if(typeof n!="function")throw new Error("JoRaw WASM import failed");const a=new URL("/assets/joraw-BUh50ws_.wasm",import.meta.url).href;e0=n({locateFile:(o,i)=>o.endsWith("joraw.wasm")?a:i+o})}catch(r){throw console.error("Failed to load joraw.js:",r),r}const e=await e0,t=e.LibRaw||e.JoRaw;if(!t)throw new Error("JoRaw class not found");return t}const qQ=[[3.2404542,-1.5371385,-.4985314],[-.969266,1.8760108,.041556],[.0556434,-.2040259,1.0572252]],uf=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055;async function QQ(e){const t=await createImageBitmap(e),r=t.width,n=t.height,a=document.createElement("canvas");a.width=r,a.height=n;const o=a.getContext("2d");if(!o)throw new Error("Failed to create canvas context");o.drawImage(t,0,0);const s=o.getImageData(0,0,r,n).data,l=r*n,c=new Uint16Array(l);for(let d=0;d<n;d++)for(let h=0;h<r;h++){const p=(d*r+h)*4,m=d*r+h,v=d%2===0,x=h%2===0;let y=0;v&&x?y=s[p]:!v&&!x?y=s[p+2]:y=s[p+1],c[m]=y*64}return{previewBlob:await new Promise(d=>a.toBlob(d,"image/png"))||e,analysisData:{data:c,width:r,height:n,bayerPattern:"RGGB",blackLevels:[0,0,0,0],whiteLevel:16320,metadata:{description:"Standard image (non-RAW)"},isThreePlane:!0}}}const ZQ=async e=>{const t=await Wh(),r=new t;try{await r.open(e,{useCameraWb:!0,outputBps:8,noAutoBright:!0,userQual:3,outputColor:1});const n=await r.imageData();return new Promise((a,o)=>{const i=document.createElement("canvas");i.width=n.width,i.height=n.height;const s=i.getContext("2d");if(!s){o(new Error("Could not create canvas context"));return}const l=s.createImageData(n.width,n.height),c=n.data,f=n.width*n.height;for(let d=0;d<f;d++){const h=d*3,p=d*4;l.data[p]=c[h],l.data[p+1]=c[h+1],l.data[p+2]=c[h+2],l.data[p+3]=255}s.putImageData(l,0,0),i.toBlob(d=>{d?a(d):o(new Error("Canvas to Blob failed"))},"image/jpeg",.85)})}finally{r.delete?r.delete():r.close()}},Ld=async e=>{var n,a,o,i,s,l,c,f,d;const t=await Wh(),r=new t;try{if(await r.open(e,{}),typeof r.getRawImage!="function")throw new Error("WASM mismatch");const h=r.getRawImage(),p=new Uint16Array(h.data),m=await r.metadata(!0);let v=[];if((n=m.color_data)!=null&&n.cblack_rawpy_style)v=m.color_data.cblack_rawpy_style;else if((o=(a=m.color_data)==null?void 0:a.dng_levels)!=null&&o.dng_cblack)v=m.color_data.dng_levels.dng_cblack;else if(((i=m.black_level_per_channel)==null?void 0:i.length)>=4)v=m.black_level_per_channel;else if(((s=m.cblack)==null?void 0:s.length)>=4)v=m.cblack;else if(((c=(l=m.color)==null?void 0:l.cblack)==null?void 0:c.length)>=4)v=m.color.cblack;else{const S=m.black_level||m.color_data&&m.color_data.black||0;v=[S,S,S,S]}const x=[Number(v[0])||0,Number(v[1])||0,Number(v[2])||0,Number(v[3])||0],y=((f=m.idata)==null?void 0:f.filters)||0,g=((d=m.idata)==null?void 0:d.colors)||0,b=y===0&&g===3;return{data:p,width:h.width,height:h.height,bayerPattern:m.color_desc||"RGGB",blackLevels:x,whiteLevel:m.white_level||16383,metadata:m,isThreePlane:b}}finally{r.delete?r.delete():r.close()}};async function t0(e){const t=new Uint8Array(e.slice(0)),r=new Uint8Array(e.slice(0)),[n,a]=await Promise.all([ZQ(t),Ld(r)]);return{previewBlob:n,analysisData:a}}async function Id(e){const t=new Uint8Array(e.slice(0));return Ld(t)}const D2=e=>(e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,e++,e);async function r0(e,t,r,n=!0){const a=await Ld(new Uint8Array(e)),o=await Ld(new Uint8Array(t));if(a.width!==o.width||a.height!==o.height)throw new Error("Dimension Mismatch");const i=a.width,s=a.height,l=r?D2(i):i,c=r?D2(s):s,f=l*c,d=new Uint16Array(f),h=6e4,p=1.41421356;for(let m=0;m<s;m++){const v=m*i,x=m*l;for(let y=0;y<i;y++){const g=a.data[v+y],b=o.data[v+y];let S=g-b;n&&(S/=p);let w=S+h;w=Math.max(0,Math.min(65535,w)),d[x+y]=Math.round(w)}}return{rawData:d,width:l,height:c,metadata:a.metadata}}function Wi(e,t,r,n,a,o,i){const s=Math.max(0,Math.floor(n)),l=Math.max(0,Math.floor(a)),c=Math.min(t,Math.ceil(n+o)),f=Math.min(r,Math.ceil(a+i)),d=[0,0,0,0],h=[0,0,0,0],p=[0,0,0,0];for(let x=l;x<f;x++){const y=x*t,g=x%2;for(let b=s;b<c;b++){const S=b%2,w=e[y+b],k=g*2+S;d[k]+=w,h[k]+=w*w,p[k]++}}const m=[0,0,0,0],v=[0,0,0,0];for(let x=0;x<4;x++)if(p[x]>0){const y=d[x]/p[x];m[x]=y;const b=h[x]/p[x]-y*y;v[x]=Math.sqrt(Math.max(0,b))}return{x:s,y:l,width:c-s,height:f-l,means:m,stdDevs:v,pixelCount:p.reduce((x,y)=>x+y,0)}}function R2(e,t,r,n,a,o,i=0,s=0){const l=Math.max(0,Math.floor(n.x)),c=Math.max(0,Math.floor(n.y)),f=Math.min(t,Math.ceil(n.x+n.w)),d=Math.min(r,Math.ceil(n.y+n.h)),h=a>>1,p=a&1,m=(o>>1)+i,v=(o&1)+s;let x=0,y=0,g=0;for(let P=c;P<d-2;P+=2)for(let _=l;_<f-2;_+=2){const A=(P+h)*t+(_+p),N=(P+m)*t+(_+v);P+m>=r||_+v>=t||(x+=e[A],y+=e[N],g++)}if(g<2)return{sumCov:0,sumVar1:0,sumVar2:0,n:0};const b=x/g,S=y/g;let w=0,k=0,j=0;for(let P=c;P<d-2;P+=2)for(let _=l;_<f-2;_+=2){const A=(P+h)*t+(_+p),N=(P+m)*t+(_+v);if(P+m>=r||_+v>=t)continue;const E=e[A],z=e[N],D=E-b,T=z-S;w+=D*T,k+=D*D,j+=T*T}return{sumCov:w,sumVar1:k,sumVar2:j,n:g}}function JQ(e){if(e.n<2)return 0;const t=Math.sqrt(e.sumVar1*e.sumVar2);return t===0?0:e.sumCov/t}function eZ(e,t,r,n,a,o,i,s,l,c,f){if(c<=l)return[];const d=Math.max(0,Math.floor(n)),h=Math.max(0,Math.floor(a)),p=Math.min(t,Math.ceil(n+o)),m=Math.min(r,Math.ceil(a+i)),v=c-l,x=f?Math.floor(v)+1:s,y=v/x,g=[new Uint32Array(x),new Uint32Array(x),new Uint32Array(x),new Uint32Array(x)];for(let S=h;S<m;S++){const w=S*t,k=S%2;for(let j=d;j<p;j++){const P=j%2,_=e[w+j];if(_<l||_>c)continue;const A=k*2+P;let N;f?N=Math.floor(_-l):N=Math.floor((_-l)/y),N<0&&(N=0),N>=x&&(N=x-1),g[A][N]++}}const b=[];for(let S=0;S<x;S++){const w=l+(f?S:S*y);b.push({binStart:w,c0:g[0][S],c1:g[1][S],c2:g[2][S],c3:g[3][S]})}return b}function tZ(e,t,r,n,a,o=!1,i=!1,s={rows:!1,rowGroup:0,cols:!1,colGroup:0},l=!0,c=1){const f=Math.max(0,Math.floor(n.x)),d=Math.max(0,Math.floor(n.y)),h=Math.min(t,Math.ceil(n.x+n.w)),p=Math.min(r,Math.ceil(n.y+n.h)),m=h-f,v=p-d;if(m<=1||v<=1)return null;let x=0;for(let N=f;N<h;N++)N%2===(a&1)&&x++;let y=0;for(let N=d;N<p;N++)N%2===a>>1&&y++;if(x<4||y<4)return null;const g=Math.max(1,c),b=Math.floor(2*x/(g+1)),S=Math.floor(2*y/(g+1));if(b<4||S<4)return null;const w=new Xs(b),k=new Xs(S),j=new Float32Array(Math.floor(b/2)+1),P=new Float32Array(Math.floor(S/2)+1);let _=0,A=0;for(let N=d;N<p;N++){const E=N%2;if(a>>1!==E||s.rows&&(N>>1&1)!==s.rowGroup)continue;const z=N*t,D=new Float32Array(x);let T=0;for(let L=f;L<h;L++)L%2===(a&1)&&T<x&&(D[T++]=e[z+L]);for(let L=0;L<g;L++){const W=Math.floor(L*b/2);if(W+b>x)break;const I=D.slice(W,W+b);w.calculateSpectrum(I,j,i),_++}if(!l)break}for(let N=f;N<h;N++){const E=N%2;if((a&1)!==E||s.cols&&(N>>1&1)!==s.rowGroup)continue;const z=new Float32Array(y);let D=0;for(let T=d;T<p;T++)T%2===a>>1&&D<y&&(z[D++]=e[T*t+N]);for(let T=0;T<g;T++){const L=Math.floor(T*S/2);if(L+S>y)break;const W=z.slice(L,L+S);k.calculateSpectrum(W,P,i),A++}if(!l)break}if(_>0)for(let N=0;N<j.length;N++)j[N]/=_;if(A>0)for(let N=0;N<P.length;N++)P[N]/=A;return{avgHoriz:Array.from(j),avgVert:Array.from(P),sampleCount:{h:_,v:A}}}function rZ(e,t,r,n,a,o=!1){const i=Math.max(0,Math.floor(n.x)),s=Math.max(0,Math.floor(n.y)),l=Math.min(t,Math.ceil(n.x+n.w)),c=Math.min(r,Math.ceil(n.y+n.h));let f=-1;for(let g=s;g<c;g++)if(g%2===a>>1){f=g;break}if(f===-1)return null;let d=-1;for(let g=i;g<l;g++)if(g%2===(a&1)){d=g;break}if(d===-1)return null;const h=[];for(let g=f;g<c;g+=2){const b=g*t,S=[];for(let w=d;w<l;w+=2)S.push(e[b+w]);h.push(S)}const p=h.length;if(p===0)return null;const m=h[0].length;if(m===0)return null;const v=new Float32Array(m*p);for(let g=0;g<p;g++){const b=h[g];for(let S=0;S<m;S++)v[g*m+S]=b[S]}const x=XQ(v,m,p,o),y=YQ(x,m,p);return{width:m,height:p,data:y}}function nZ(e,t,r,n,a,o,i){const{x:s,y:l,w:c,h:f}=n,d=[],h=Math.max(0,Math.floor(s)),p=Math.max(0,Math.floor(l)),m=Math.min(t,Math.ceil(s+c)),v=Math.min(r,Math.ceil(l+f)),x=a>>1,y=a&1;for(let k=p;k<v;k++){if(k%2!==x)continue;const j=k*t;for(let P=h;P<m;P++){if(P%2!==y)continue;const _=e[j+P];_>=o&&_<=i&&d.push(_-o)}}if(d.length===0)return null;d.sort((k,j)=>k-j);const g=[d[0]];for(let k=1;k<d.length;k++)d[k]!==d[k-1]&&g.push(d[k]);const b=[],S=[],w={};for(let k=0;k<g.length-1;k++){const j=g[k],_=g[k+1]-j;b.push(_),S.push({x:j,y:_}),w[_]=(w[_]||0)+1}return{uniqueCount:g.length,diffCount:b.length,stepCounts:w,plotData:S}}async function L2(e,t){const r=await Wh(),n=new r;try{const a=new Uint8Array(e.slice(0));let o=!1,i=[];if(t.customMatrix&&t.customMatrix.length===9){const h=[[t.customMatrix[0],t.customMatrix[1],t.customMatrix[2]],[t.customMatrix[3],t.customMatrix[4],t.customMatrix[5]],[t.customMatrix[6],t.customMatrix[7],t.customMatrix[8]]],p=KQ(h);if(p){const m=t.wbGains?t.wbGains[0]:1,v=t.wbGains?t.wbGains[1]:1,y=$2(p,[[m,0,0],[0,1,0],[0,0,v]]),g=$2(qQ,y);i=[g[0][0],g[0][1],g[0][2],g[1][0],g[1][1],g[1][2],g[2][0],g[2][1],g[2][2]],o=!0}else throw new Error("Custom Matrix is not invertible.")}const s={outputBps:16,noAutoBright:!0,bright:o?1:Math.pow(2,t.exposure)};t.blackLevel&&t.blackLevel.length===4&&(s.userBlack=0,s.userCblack=t.blackLevel.map(h=>{const p=Math.round(h);return p===0?1:p})),t.demosaicMethod===-1?s.noInterpolation=!0:s.userQual=t.demosaicMethod,o?(s.outputColor=0,s.gamma=[1,1],s.userMul=[1,1,1,1],s.useCameraWb=!1):(s.outputColor=1,s.useCameraWb=!0),await n.open(a,s);const l=await n.imageData(),c=new ImageData(l.width,l.height),f=c.data,d=new Uint16Array(l.data.buffer,l.data.byteOffset,l.data.byteLength/2);if(o&&i.length===9){const h=i,m=Math.pow(2,t.exposure)*.25;for(let v=0;v<d.length;v+=3){const x=d[v]/65535,y=d[v+1]/65535,g=d[v+2]/65535;let b=h[0]*x+h[1]*y+h[2]*g,S=h[3]*x+h[4]*y+h[5]*g,w=h[6]*x+h[7]*y+h[8]*g;b*=m,S*=m,w*=m,b=Math.max(0,Math.min(1,b)),S=Math.max(0,Math.min(1,S)),w=Math.max(0,Math.min(1,w)),b=uf(b),S=uf(S),w=uf(w);const k=v/3*4;f[k]=Math.round(b*255),f[k+1]=Math.round(S*255),f[k+2]=Math.round(w*255),f[k+3]=255}}else for(let h=0;h<d.length;h+=3){const p=h/3*4;f[p]=d[h]>>8,f[p+1]=d[h+1]>>8,f[p+2]=d[h+2]>>8,f[p+3]=255}return c}finally{n.delete?n.delete():n.close()}}async function aZ(e,t,r=!1,n=!1){const a=await Wh(),o=new a;try{if(t.renderMode==="zero-dependency"){await o.open(new Uint8Array(e));const i=await o.metadata(!0),s=(i==null?void 0:i.white_level)||16383,l=o.getRawImage(),{width:c,height:f,data:d}=l,h=new Uint16Array(c*f),p=t.blackLevel||[0,0,0,0],m=t.wbGains?t.wbGains[0]:1,v=t.wbGains?t.wbGains[1]:1,x=Math.pow(2,t.exposure);for(let y=0;y<f;y++){const g=y%2;for(let b=0;b<c;b++){const S=b%2,w=g*2+S,k=d[y*c+b],j=p[w];let P=k-j;w===0?P*=m:w===3&&(P*=v),P*=x;let _=0;if(r){const A=s-j;_=A>0?P/A:0}else{const A=s;_=A>0?P/A:0}_=Math.max(0,Math.min(1,_)),n&&(_=uf(_)),h[y*c+b]=Math.max(0,Math.min(65535,Math.round(_*65535)))}}return{data:h,width:c,height:f,channels:1}}else{const i=new Uint8Array(e.slice(0)),s={outputBps:16,noAutoBright:!r,bright:1,outputColor:n?1:0,useCameraWb:!0};t.blackLevel&&t.blackLevel.length===4&&(s.userBlack=0,s.userCblack=t.blackLevel.map(d=>Math.max(1,Math.round(d)))),t.demosaicMethod===-1?s.noInterpolation=!0:s.userQual=t.demosaicMethod,await o.open(i,s);const l=await o.imageData(),c=new Uint16Array(l.data.buffer,l.data.byteOffset,l.data.byteLength/2),f=Math.pow(2,t.exposure);if(f!==1)for(let d=0;d<c.length;d++)c[d]=Math.max(0,Math.min(65535,Math.round(c[d]*f)));return{data:c,width:l.width,height:l.height,channels:3}}}finally{o.delete?o.delete():o.close()}}const oZ=({isOpen:e,onClose:t,onMinimize:r,rawImageData:n,roi:a,isBGGR:o,zIndex:i,onFocus:s,initialPosition:l,initialInternalState:c,onUpdateState:f})=>{const[d,h]=O.useState((c==null?void 0:c.channelMode)||"All"),[p,m]=O.useState((c==null?void 0:c.minVal)??0),[v,x]=O.useState((c==null?void 0:c.maxVal)??16383),[y,g]=O.useState((c==null?void 0:c.binCount)??100),[b,S]=O.useState((c==null?void 0:c.pointToPoint)??!1),[w,k]=O.useState(!1),[j,P]=O.useState([]),[_,A]=O.useState(null),[N,E]=O.useState(l||{x:100,y:100}),[z,D]=O.useState(!1),T=O.useRef({x:0,y:0});O.useEffect(()=>{f&&f({channelMode:d,minVal:p,maxVal:v,binCount:y,pointToPoint:b})},[d,p,v,y,b]),O.useEffect(()=>{if(!e||!n||!a)return;if(v<=p){A("Invalid range: Max must be greater than Min");return}A(null),k(!0);const B=setTimeout(()=>{try{const te=eZ(n.data,n.width,n.height,a.x,a.y,a.w,a.h,y,p,v,b);P(te)}catch(te){console.error("Histogram calc error:",te),A("Error calculating histogram")}finally{k(!1)}},50);return()=>clearTimeout(B)},[e,n,a==null?void 0:a.x,a==null?void 0:a.y,a==null?void 0:a.w,a==null?void 0:a.h,y,p,v,b]);const L=B=>{s&&s(),!(B.target.closest("button")||B.target.closest("input")||B.target.closest("select"))&&(D(!0),T.current={x:B.clientX-N.x,y:B.clientY-N.y})};if(O.useEffect(()=>{const B=X=>{z&&E({x:X.clientX-T.current.x,y:X.clientY-T.current.y})},te=()=>D(!1);return z&&(window.addEventListener("mousemove",B),window.addEventListener("mouseup",te)),()=>{window.removeEventListener("mousemove",B),window.removeEventListener("mouseup",te)}},[z]),!e)return null;const W=o?{c0:"Blue",c1:"Green 1",c2:"Green 2",c3:"Red"}:{c0:"Red",c1:"Green 1",c2:"Green 2",c3:"Blue"},I=o?{c0:"#3b82f6",c1:"#22c55e",c2:"#4ade80",c3:"#ef4444"}:{c0:"#ef4444",c1:"#22c55e",c2:"#4ade80",c3:"#3b82f6"},R="step";return u.jsxs("div",{className:"fixed flex flex-col bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 shadow-2xl rounded-xl resize-both overflow-hidden min-w-[500px] min-h-[400px] w-[900px] h-[600px]",style:{left:N.x,top:N.y,zIndex:i??100},onMouseDownCapture:s,children:[u.jsxs("div",{className:`flex justify-between items-center p-4 border-b border-gray-200 dark:border-slate-700 flex-shrink-0 bg-white dark:bg-slate-900 select-none ${z?"cursor-grabbing":"cursor-grab"}`,onMouseDown:L,children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-slate-100 pointer-events-none",children:"ROI Histogram"}),u.jsxs("div",{className:"flex items-center gap-1",children:[r&&u.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 dark:hover:text-red-400 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),u.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-800/50 flex flex-wrap gap-4 items-center border-b border-gray-200 dark:border-slate-700 text-sm flex-shrink-0 relative z-10",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-gray-500 dark:text-slate-400 font-semibold",children:"Channel:"}),u.jsxs("select",{value:d,onChange:B=>h(B.target.value),className:"bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-gray-900 dark:text-slate-100 outline-none focus:ring-1 focus:ring-cyan-500",children:[u.jsx("option",{value:"All",children:"All Colors"}),u.jsx("option",{value:"0",children:W.c0}),u.jsx("option",{value:"1",children:W.c1}),u.jsx("option",{value:"2",children:W.c2}),u.jsx("option",{value:"3",children:W.c3})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-gray-500 dark:text-slate-400 font-semibold",children:"Range (DN):"}),u.jsx("input",{type:"number",value:p,onChange:B=>m(Number(B.target.value)),className:"w-20 px-2 py-1 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-gray-900 dark:text-slate-100 text-right"}),u.jsx("span",{className:"text-gray-400",children:"-"}),u.jsx("input",{type:"number",value:v,onChange:B=>x(Number(B.target.value)),className:"w-20 px-2 py-1 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-gray-900 dark:text-slate-100 text-right"})]}),u.jsxs("div",{className:"flex items-center gap-4 border-l border-gray-300 dark:border-slate-600 pl-4",children:[u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:b,onChange:B=>S(B.target.checked),className:"w-4 h-4 text-cyan-600 rounded border-gray-300 focus:ring-cyan-500"}),u.jsx("span",{className:"text-gray-700 dark:text-slate-300 select-none",title:"High compute cost",children:"1:1 Point-to-Point"})]}),!b&&u.jsxs("div",{className:"flex items-center gap-2 animate-in fade-in",children:[u.jsx("span",{className:"text-gray-500 dark:text-slate-400 font-semibold",children:"Bins:"}),u.jsx("input",{type:"number",value:y,onChange:B=>g(Math.max(1,Number(B.target.value))),className:"w-16 px-2 py-1 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-gray-900 dark:text-slate-100 text-right"})]})]})]}),u.jsxs("div",{className:"flex-1 p-4 relative bg-white dark:bg-slate-900 overflow-hidden min-h-0",children:[u.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-0 pointer-events-none select-none opacity-10 mix-blend-normal dark:mix-blend-plus-lighter",children:u.jsx("svg",{viewBox:"0 0 500 60",className:"w-96 h-auto",children:u.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"36",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})}),w&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-10 bg-white/50 dark:bg-slate-900/50 backdrop-blur-[1px]",children:u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("div",{className:"w-8 h-8 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mb-2"}),u.jsx("span",{className:"text-sm text-cyan-600 dark:text-cyan-400 font-semibold",children:"Calculating Histogram..."})]})}),_?u.jsx("div",{className:"flex items-center justify-center h-full text-red-500 relative z-10",children:_}):u.jsx("div",{className:"relative z-10 w-full h-full",children:u.jsx(Ps,{width:"100%",height:"100%",children:u.jsxs(Cv,{data:j,children:[u.jsx(ki,{strokeDasharray:"3 3",stroke:"#374151",opacity:.3}),u.jsx(pa,{dataKey:"binStart",type:"number",domain:[p,v],tickFormatter:B=>Math.floor(B).toString(),tick:{fill:"#9ca3af",fontSize:12},allowDataOverflow:!0,label:{value:"DN Value",position:"insideBottom",offset:-5,fill:"#9ca3af",fontSize:12}}),u.jsx(ga,{tick:{fill:"#9ca3af",fontSize:12},label:{value:"Count",angle:-90,position:"insideLeft",fill:"#9ca3af",fontSize:12}}),u.jsx(nn,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"0.5rem",color:"#f3f4f6"},itemStyle:{fontSize:"12px"},labelFormatter:B=>`DN: ${Math.round(Number(B))}`,formatter:B=>[B,"Count"]}),u.jsx(Va,{wrapperStyle:{paddingTop:"10px"}}),(d==="All"||d==="0")&&u.jsx(qr,{type:R,dataKey:"c0",name:W.c0,stroke:I.c0,dot:!1,strokeWidth:1.5,activeDot:{r:4},isAnimationActive:!1}),(d==="All"||d==="1")&&u.jsx(qr,{type:R,dataKey:"c1",name:W.c1,stroke:I.c1,dot:!1,strokeWidth:1.5,activeDot:{r:4},isAnimationActive:!1}),(d==="All"||d==="2")&&u.jsx(qr,{type:R,dataKey:"c2",name:W.c2,stroke:I.c2,dot:!1,strokeWidth:1.5,activeDot:{r:4},isAnimationActive:!1}),(d==="All"||d==="3")&&u.jsx(qr,{type:R,dataKey:"c3",name:W.c3,stroke:I.c3,dot:!1,strokeWidth:1.5,activeDot:{r:4},isAnimationActive:!1})]})})})]})]})},Uh=({initialPosition:e={x:20,y:80},children:t,className:r="",onClose:n,zIndex:a,onFocus:o})=>{const[i,s]=O.useState(e),[l,c]=O.useState(!1),[f,d]=O.useState({x:0,y:0}),h=O.useRef(null),p=m=>{o&&o(),!(m.target.closest("button")||m.target.closest("input"))&&(c(!0),d({x:m.clientX-i.x,y:m.clientY-i.y}))};return O.useEffect(()=>{const m=x=>{var y,g;if(l){const b=x.clientX-f.x,S=x.clientY-f.y,w=window.innerWidth-(((y=h.current)==null?void 0:y.offsetWidth)||100),k=window.innerHeight-(((g=h.current)==null?void 0:g.offsetHeight)||100);s({x:Math.max(0,Math.min(b,w)),y:Math.max(0,Math.min(S,k))})}},v=()=>{c(!1)};return l&&(window.addEventListener("mousemove",m),window.addEventListener("mouseup",v)),()=>{window.removeEventListener("mousemove",m),window.removeEventListener("mouseup",v)}},[l,f]),u.jsxs("div",{ref:h,style:{left:i.x,top:i.y,zIndex:a??90},onMouseDownCapture:o,className:`fixed shadow-2xl rounded-xl border border-gray-200 dark:border-slate-700 bg-white/95 dark:bg-slate-900/90 backdrop-blur-md transition-shadow duration-200 ${l?"cursor-grabbing shadow-xl ring-2 ring-cyan-500/30":"shadow-lg"} ${r}`,children:[u.jsx("div",{onMouseDown:p,className:"absolute inset-0 w-full h-8 cursor-grab active:cursor-grabbing z-0",title:"Drag to move"}),u.jsx("div",{className:"relative z-10",children:t})]})},iZ=({isOpen:e,onClose:t,rawImageData:r,roi:n,selectedChannel:a,channelName:o,zIndex:i,onFocus:s,initialPosition:l})=>{const c=O.useRef(null),[f,d]=O.useState(!1),[h,p]=O.useState(null),[m,v]=O.useState(null),[x,y]=O.useState(!0),[g,b]=O.useState(!0),[S,w]=O.useState("-1"),[k,j]=O.useState("8"),[P,_]=O.useState(64),[A,N]=O.useState(45),[E,z]=O.useState(60),D=O.useRef(!1),T=O.useRef({x:0,y:0});O.useEffect(()=>{!e||!r||!n||(d(!0),v(null),setTimeout(()=>{try{const R=rZ(r.data,r.width,r.height,n,a,g);R?p(R):v("Could not extract valid data from ROI.")}catch(R){console.error("2D FFT Error",R),v("Calculation Error: "+R.message)}finally{d(!1)}},50))},[e,r,n,a,g]),O.useEffect(()=>{if(!h||!c.current)return;const R=c.current,B=R.getContext("2d");if(!B)return;const te=R.width,X=R.height;B.clearRect(0,0,te,X),B.fillStyle="#0f172a",B.fillRect(0,0,te,X);const H=h.width,U=h.height,ue=h.data,fe=Math.pow(10,parseFloat(S)||-1),ke=Math.pow(10,parseFloat(k)||8);let we=fe,K=ke;x&&(we=Math.log10(Math.max(1e-10,fe)),K=Math.log10(Math.max(1e-10,ke)));const ce=K-we||1,be=te/2,Q=X/2+50,We=Math.min(te,X)*.4,Oe=.6,Ie=A*Math.PI/180,qe=E*Math.PI/180,bt=Math.cos(Ie),Zt=Math.sin(Ie),Bt=Math.cos(qe),Er=Math.sin(qe),nt=(Ge,Mt,Ct)=>{const vr=Ge*bt-Mt*Zt,sr=Ge*Zt+Mt*bt,cn=sr*Bt-Ct*Er,Et=sr*Er+Ct*Bt;return{x:be+vr*We,y:Q-cn*We,depth:Et}},rr=Math.max(16,P),Pt=Math.max(1,Math.floor(H/rr)),Zr=Math.max(1,Math.floor(U/rr)),At=(Ge,Mt)=>{let Ct=ue[Mt*H+Ge];return x&&(Ct=Math.log10(Math.max(1e-10,Ct))),Ct=Math.max(we,Math.min(K,Ct)),(Ct-we)/ce},ya=Ge=>`hsl(${(1-Ge)*240}, 80%, 50%)`,Ft=[];for(let Ge=0;Ge<U-Zr;Ge+=Zr)for(let Mt=0;Mt<H-Pt;Mt+=Pt){const Ct=Mt,vr=Ge,sr=Mt+Pt,cn=Ge,Et=Mt+Pt,un=Ge+Zr,ht=Mt,Br=Ge+Zr,fn=At(Ct,vr),ea=At(sr,cn),Dn=At(Et,un),kn=At(ht,Br),xr=(fn+ea+Dn+kn)/4,Fr=nt(Ct/(H-1)-.5,vr/(U-1)-.5,fn*Oe),lt=nt(sr/(H-1)-.5,cn/(U-1)-.5,ea*Oe),V=nt(Et/(H-1)-.5,un/(U-1)-.5,Dn*Oe),Ue=nt(ht/(H-1)-.5,Br/(U-1)-.5,kn*Oe),ct=(Fr.depth+lt.depth+V.depth+Ue.depth)/4;Ft.push({pts:[{x:Fr.x,y:Fr.y},{x:lt.x,y:lt.y},{x:V.x,y:V.y},{x:Ue.x,y:Ue.y}],avgDepth:ct,avgZ:xr})}Ft.sort((Ge,Mt)=>Ge.avgDepth-Mt.avgDepth),B.lineWidth=.5,Ft.forEach(Ge=>{B.fillStyle=ya(Ge.avgZ),B.beginPath(),B.moveTo(Ge.pts[0].x,Ge.pts[0].y),B.lineTo(Ge.pts[1].x,Ge.pts[1].y),B.lineTo(Ge.pts[2].x,Ge.pts[2].y),B.lineTo(Ge.pts[3].x,Ge.pts[3].y),B.closePath(),B.fill()}),B.fillStyle="#aaa",B.font="10px monospace";const ur=nt(-.5,-.5,0),yr=nt(.5,-.5,0),nr=nt(-.5,.5,0),fr=nt(.5,.5,0);B.strokeStyle="#666",B.beginPath(),B.moveTo(ur.x,ur.y),B.lineTo(yr.x,yr.y),B.lineTo(fr.x,fr.y),B.lineTo(nr.x,nr.y),B.closePath(),B.stroke(),B.fillText("0",ur.x-10,ur.y+10),B.fillText("Fx",yr.x+5,yr.y),B.fillText("Fy",nr.x-15,nr.y);const wt=nt(-.5,-.5,Oe);B.strokeStyle="#fff",B.beginPath(),B.moveTo(ur.x,ur.y),B.lineTo(wt.x,wt.y),B.stroke(),B.fillText(`10^${k}`,wt.x-25,wt.y),B.fillText(`10^${S}`,ur.x-25,ur.y)},[h,x,A,E,S,k,P]);const L=R=>{D.current=!0,T.current={x:R.clientX,y:R.clientY}},W=R=>{if(!D.current)return;const B=R.clientX-T.current.x,te=R.clientY-T.current.y;N(X=>X-B*.5),z(X=>Math.max(0,Math.min(90,X+te*.5))),T.current={x:R.clientX,y:R.clientY}},I=()=>{D.current=!1};return e?u.jsxs(Uh,{initialPosition:l||{x:100,y:100},onClose:t,zIndex:i,onFocus:s,className:"w-[700px] h-[600px] bg-slate-900 border border-slate-700 flex flex-col overflow-hidden shadow-2xl",children:[u.jsxs("div",{className:"flex justify-between items-center px-4 py-2 border-b border-slate-700 bg-slate-800",children:[u.jsxs("h3",{className:"text-sm font-bold text-slate-200 flex items-center gap-2",children:["2D FFT Power Spectrum - ",o,h&&u.jsxs("span",{className:"text-[10px] font-normal text-slate-400 bg-slate-700 px-2 py-0.5 rounded",children:[h.width,"x",h.height," (Chirp-Z)"]})]}),u.jsx("div",{className:"flex items-center gap-2",children:u.jsx("button",{onClick:t,className:"text-slate-400 hover:text-red-400 transition-colors",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})})]}),u.jsxs("div",{className:"p-3 bg-slate-800/80 flex flex-wrap gap-4 text-xs items-center border-b border-slate-700",children:[u.jsxs("div",{className:"flex items-center gap-2 bg-slate-900 px-2 py-1 rounded border border-slate-600",children:[u.jsx("span",{className:"text-slate-400 font-bold",children:"Range (10^x):"}),u.jsx("input",{type:"number",value:S,onChange:R=>w(R.target.value),className:"w-10 bg-transparent text-slate-200 text-center border-b border-slate-600 focus:border-cyan-500 outline-none"}),u.jsx("span",{className:"text-slate-500",children:"to"}),u.jsx("input",{type:"number",value:k,onChange:R=>j(R.target.value),className:"w-10 bg-transparent text-slate-200 text-center border-b border-slate-600 focus:border-cyan-500 outline-none"})]}),u.jsxs("div",{className:"flex items-center gap-2 bg-slate-900 px-2 py-1 rounded border border-slate-600",children:[u.jsx("span",{className:"text-slate-400 font-bold",children:"Density:"}),u.jsx("input",{type:"range",min:"16",max:"128",step:"16",value:P,onChange:R=>_(Number(R.target.value)),className:"w-20 h-1.5 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-cyan-500"}),u.jsx("span",{className:"text-slate-300 w-6 text-right",children:P})]}),u.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none text-slate-300 hover:text-white",children:[u.jsx("input",{type:"checkbox",checked:x,onChange:R=>y(R.target.checked),className:"rounded bg-slate-700 border-slate-600 accent-cyan-500"}),"Log Z"]}),u.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none text-slate-300 hover:text-white",children:[u.jsx("input",{type:"checkbox",checked:g,onChange:R=>b(R.target.checked),className:"rounded bg-slate-700 border-slate-600 accent-fuchsia-500"}),"Hanning"]})]}),u.jsxs("div",{className:"flex-1 relative bg-slate-900 cursor-move",children:[f&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-slate-900/80 z-20 backdrop-blur-sm",children:u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx("div",{className:"w-8 h-8 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin"}),u.jsx("span",{className:"text-cyan-400 font-bold animate-pulse text-sm",children:"Computing full-size 2D FFT..."})]})}),m&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-slate-900/80 z-20 text-red-400 p-4 text-center",children:m}),u.jsx("canvas",{ref:c,width:700,height:500,className:"w-full h-full block",onMouseDown:L,onMouseMove:W,onMouseUp:I,onMouseLeave:I}),u.jsx("div",{className:"absolute bottom-2 right-2 text-[9px] text-slate-600 pointer-events-none",children:"Drag to Rotate"})]})]}):null},sZ=.5,Am=1e-10,I2=(e,t)=>{const r=e.length-1;if(r<0)return Am;const n=t/sZ*r,a=Math.round(n),o=e[Math.min(Math.max(0,a),r)]||0;return Math.max(o,Am)},lZ=(e,t)=>{if(t<=0)return[1];const r=new Array(e);let n=0;for(let a=0;a<e;a++){const o=a-(e-1)/2,i=Math.exp(-(o*o)/(2*t*t));r[a]=i,n+=i}for(let a=0;a<e;a++)r[a]/=n;return r},cZ=({isOpen:e,onClose:t,onMinimize:r,rawImageData:n,roi:a,isBGGR:o,onUpdateROI:i,zIndex:s,onFocus:l,initialPosition:c,initialInternalState:f,onUpdateState:d,stackFiles:h})=>{const[p,m]=O.useState((f==null?void 0:f.selectedChannel)??0),[v,x]=O.useState(()=>(f==null?void 0:f.yMinExp)||localStorage.getItem("fft_y_min")||"1.73"),[y,g]=O.useState(()=>(f==null?void 0:f.yMaxExp)||localStorage.getItem("fft_y_max")||"8.00"),[b,S]=O.useState((f==null?void 0:f.useHanning)??!0),[w,k]=O.useState((f==null?void 0:f.doAverage)??!0),[j,P]=O.useState((f==null?void 0:f.welchSegments)??1),[_,A]=O.useState((f==null?void 0:f.showH)??!0),[N,E]=O.useState((f==null?void 0:f.showV)??!0),[z,D]=O.useState((f==null?void 0:f.interlaceRows)??!1),[T,L]=O.useState((f==null?void 0:f.rowGroup)??0),[W,I]=O.useState((f==null?void 0:f.interlaceCols)??!1),[R,B]=O.useState((f==null?void 0:f.colGroup)??0),[te,X]=O.useState(()=>(f==null?void 0:f.theoSigma)||localStorage.getItem("fft_theo_sigma")||"0.00"),[H,U]=O.useState(()=>(f==null?void 0:f.theoKernelSize)||localStorage.getItem("fft_theo_ksize")||"3"),[ue,fe]=O.useState(()=>(f==null?void 0:f.theoNoiseStd)||localStorage.getItem("fft_theo_noise")||"7.5"),[ke,we]=O.useState(()=>(f==null?void 0:f.theoScale)||localStorage.getItem("fft_theo_scale")||"1.0"),[K,ce]=O.useState((f==null?void 0:f.intStart)||"0"),[be,Q]=O.useState((f==null?void 0:f.intEnd)||"0.5"),[We,Oe]=O.useState(!1),[Ie,qe]=O.useState([]),[bt,Zt]=O.useState(!1),[Bt,Er]=O.useState(0),[nt,rr]=O.useState(null),[Pt,Zr]=O.useState(!1),[At,ya]=O.useState(!1),[Ft,ur]=O.useState(null),[yr,nr]=O.useState(!1),[fr,wt]=O.useState(null),[Ge,Mt]=O.useState(c||{x:50,y:50}),[Ct,vr]=O.useState(!1),[sr,cn]=O.useState(null),[Et,un]=O.useState({}),ht=O.useRef({x:0,y:0}),Br=o?{c0:"#3b82f6",c1:"#22c55e",c2:"#4ade80",c3:"#ef4444"}:{c0:"#ef4444",c1:"#22c55e",c2:"#4ade80",c3:"#3b82f6"},fn=O.useMemo(()=>o?{0:"Blue",1:"Green 1",2:"Green 2",3:"Red"}:{0:"Red",1:"Green 1",2:"Green 2",3:"Blue"},[o]);O.useEffect(()=>{localStorage.setItem("fft_y_min",v),localStorage.setItem("fft_y_max",y),localStorage.setItem("fft_theo_sigma",te),localStorage.setItem("fft_theo_ksize",H),localStorage.setItem("fft_theo_noise",ue),localStorage.setItem("fft_theo_scale",ke)},[v,y,te,H,ue,ke]),O.useEffect(()=>{if(!e||!n||!a)return;Zt(!0),rr(null),Er(0);const Z=setTimeout(async()=>{try{const pe=p===-1?[0,1,2,3]:[p],Qe=h&&h.length>1?h:[null],pt=Qe.length,Be={};let Ce={h:0,v:0};for(let Re=0;Re<pt;Re++){Er(Re+1);let tt;if(Qe[Re]){const Ze=await Qe[Re].arrayBuffer();tt=await Id(Ze)}else tt=n;for(const Ze of pe){const rt=tZ(tt.data,tt.width,tt.height,a,Ze,!1,b,{rows:z,rowGroup:T,cols:W,colGroup:R},w,j);rt&&(Be[Ze]||(Be[Ze]={h:new Array(rt.avgHoriz.length).fill(0),v:new Array(rt.avgVert.length).fill(0)}),rt.avgHoriz.forEach((Tr,dn)=>Be[Ze].h[dn]+=Tr/pt),rt.avgVert.forEach((Tr,dn)=>Be[Ze].v[dn]+=Tr/pt),Ce=rt.sampleCount)}}if(Object.keys(Be).length===0)throw new Error("ROI too small or no data found.");const Ht=1024,at=[];for(let Re=0;Re<Ht;Re++){const tt=Re/(Ht-1)*.5,Ze={freq:parseFloat(tt.toFixed(6))};for(const rt of pe)Be[rt]&&(Ze[`c${rt}_h`]=I2(Be[rt].h,tt),Ze[`c${rt}_v`]=I2(Be[rt].v,tt));at.push(Ze)}cn(Ce),qe(at)}catch(pe){console.error("FFT Loop Failed:",pe),rr(pe.message||"Unknown error during FFT processing")}finally{Zt(!1)}},100);return()=>clearTimeout(Z)},[e,n,a==null?void 0:a.x,a==null?void 0:a.y,a==null?void 0:a.w,a==null?void 0:a.h,p,b,w,j,z,T,W,R,h]);const ea=()=>{const Z=parseFloat(K),pe=parseFloat(be);if(isNaN(Z)||isNaN(pe))return;const Qe={},pt=p===-1?[0,1,2,3]:[p],Be=Ie.filter(Ce=>Ce.freq>=Z&&Ce.freq<=pe);if(Be.length===0){un({});return}pt.forEach(Ce=>{let Ht=0,at=0;Be.forEach(Re=>{const tt=Re[`c${Ce}_h`],Ze=Re[`c${Ce}_v`];typeof tt=="number"&&(Ht+=tt),typeof Ze=="number"&&(at+=Ze)}),Qe[Ce]={h:Ht/Be.length,v:at/Be.length,count:Be.length}}),un(Qe)},Dn=O.useMemo(()=>{const Z=parseFloat(te),pe=parseInt(H),Qe=parseFloat(ue),pt=parseFloat(ke);if(isNaN(Z)||isNaN(pe)||isNaN(Qe)||isNaN(pt)||Ie.length===0)return Ie;const Be=lZ(pe,Z),Ce=Be.reduce((Re,tt)=>Re+tt*tt,0),Ht=(pe-1)/2,at=Qe*Qe*pt;return Ie.map(Re=>{const tt=Re.freq,Ze=2*Math.PI*tt;let rt=0,Tr=0;for(let zt=0;zt<pe;zt++){const ye=zt-Ht,Sn=Be[zt],va=-Ze*ye;rt+=Sn*Math.cos(va),Tr+=Sn*Math.sin(va)}const dn=rt*rt+Tr*Tr;return{...Re,theory:Math.max(Am,at*Ce*dn)}})},[Ie,te,H,ue,ke]),kn=Z=>{Z&&Z.activeLabel!==void 0&&(nr(!0),wt(Number(Z.activeLabel)),ur(null))},xr=Z=>{if(yr&&fr!==null&&Z&&Z.activeLabel!==void 0){const pe=Number(Z.activeLabel);ur([Math.min(fr,pe),Math.max(fr,pe)])}},Fr=()=>nr(!1),lt=Z=>{l&&l(),!(Z.target.closest("button")||Z.target.closest("input"))&&(vr(!0),ht.current={x:Z.clientX-Ge.x,y:Z.clientY-Ge.y})};O.useEffect(()=>{const Z=Qe=>{Ct&&Mt({x:Qe.clientX-ht.current.x,y:Qe.clientY-ht.current.y})},pe=()=>vr(!1);return Ct&&(window.addEventListener("mousemove",Z),window.addEventListener("mouseup",pe)),()=>{window.removeEventListener("mousemove",Z),window.removeEventListener("mouseup",pe)}},[Ct]);const V=O.useMemo(()=>{if(!Ft||Ie.length===0)return null;const[Z,pe]=Ft,Qe=Ie.filter(Ce=>Ce.freq>=Z&&Ce.freq<=pe);if(Qe.length===0)return null;const pt=p===-1?[0,1,2,3]:[p],Be={};return pt.forEach(Ce=>{["h","v"].forEach(Ht=>{const at=`c${Ce}_${Ht}`;let Re=0,tt=0;for(const Ze of Qe){const rt=Ze[at];typeof rt=="number"&&(Re+=rt,tt++)}tt>0&&(Be[`${at}_sigma`]=Math.sqrt(Re/tt))})}),{count:Qe.length,stats:Be}},[Ft,Ie,p]),Ue=()=>{if(Ie.length===0)return;let Z=1/0,pe=-1/0;if(Ie.forEach(Ht=>{Ht.freq<.01||Ht.freq>.49||Object.keys(Ht).forEach(at=>{if(at==="freq"||at==="theory")return;const Re=Ht[at];typeof Re=="number"&&Re>0&&(Re<Z&&(Z=Re),Re>pe&&(pe=Re))})}),Z===1/0)return;const Qe=Math.log10(Z),pt=Math.log10(pe),Be=pt-Qe,Ce=(Be===0?1:Be)*.1;x((Qe-Ce).toFixed(2)),g((pt+Ce).toFixed(2))},ct=(Z,pe)=>{a&&i&&i({...a,x:a.x+Z,y:a.y+pe})},Xe=(Z,pe)=>{a&&i&&i({...a,w:Math.max(2,a.w+Z),h:Math.max(2,a.h+pe)})};return e?u.jsxs("div",{className:"fixed flex flex-col bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 shadow-2xl rounded-xl overflow-hidden resize-both min-w-[750px] min-h-[500px]",style:{left:Ge.x,top:Ge.y,width:"1000px",height:"850px",zIndex:s??100},onMouseDownCapture:l,children:[u.jsxs("div",{className:`flex justify-between items-center p-3 border-b border-gray-200 dark:border-slate-700 flex-shrink-0 bg-gray-50 dark:bg-slate-800 z-50 relative select-none ${Ct?"cursor-grabbing":"cursor-grab"}`,onMouseDown:lt,children:[u.jsxs("h2",{className:"text-lg font-bold text-gray-900 dark:text-slate-100 flex items-center gap-2 pointer-events-none",children:["Power Spectrum Analysis",u.jsx("span",{className:"text-[10px] font-normal bg-white dark:bg-slate-700 px-2 py-1 rounded text-gray-500 border border-gray-200 dark:border-slate-600 shadow-sm",children:h&&h.length>1?`Stack Avg (${h.length} frames)`:"Single Mode"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[r&&u.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 dark:hover:text-red-400 p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),u.jsxs("div",{className:"flex flex-col bg-gray-50 dark:bg-slate-900/80 border-b border-gray-200 dark:border-slate-800 flex-shrink-0 z-40 relative px-4 py-3 gap-3 overflow-x-auto",children:[u.jsxs("div",{className:"flex items-center gap-6",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-[10px] font-bold text-gray-500 dark:text-slate-400 uppercase tracking-widest",children:"Channel"}),u.jsxs("div",{className:"flex bg-gray-100 dark:bg-slate-800 rounded-lg p-0.5 border border-gray-200 dark:border-slate-700 shadow-inner",children:[u.jsx("button",{onClick:()=>m(-1),className:`px-3 py-1 rounded text-[10px] font-bold transition-all ${p===-1?"bg-slate-700 text-white shadow-md":"text-gray-500 dark:text-slate-500 hover:bg-white dark:hover:bg-slate-700"}`,children:"All"}),[0,1,2,3].map(Z=>u.jsx("button",{onClick:()=>m(Z),className:`px-3 py-1 rounded text-[10px] font-bold transition-all ${p===Z?"bg-cyan-600 text-white shadow-md":"text-gray-500 dark:text-slate-500 hover:bg-white dark:hover:bg-slate-700"}`,children:fn[Z]},Z))]})]}),u.jsx("div",{className:"h-6 w-px bg-gray-200 dark:bg-slate-700 mx-2"}),u.jsxs("button",{onClick:()=>Oe(!0),className:"flex items-center gap-1.5 px-4 py-1.5 bg-indigo-600 hover:bg-indigo-500 text-white text-[10px] font-bold rounded-lg shadow-lg shadow-indigo-500/30 transition-all active:scale-95 group border border-indigo-400/30",children:[u.jsx("svg",{className:"w-3.5 h-3.5 group-hover:animate-pulse",fill:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"2D Diagonal"]}),u.jsx("div",{className:"h-6 w-px bg-gray-200 dark:bg-slate-700 mx-2"}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-[10px] font-bold text-indigo-500 dark:text-indigo-400 uppercase tracking-widest",children:"Model"}),u.jsx("div",{className:"flex gap-2",children:[{label:"KSize",val:H,set:U,w:"w-10"},{label:"Sigma",val:te,set:X,w:"w-12"},{label:"Noise()",val:ue,set:fe,w:"w-12"},{label:"Scale",val:ke,set:we,w:"w-12"}].map(Z=>u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("label",{className:"text-[8px] text-gray-400 dark:text-slate-500 uppercase font-bold mb-0.5",children:Z.label}),u.jsx("input",{type:"text",value:Z.val,onChange:pe=>Z.set(pe.target.value),className:`${Z.w} text-[11px] bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded px-1.5 py-0.5 text-center text-gray-900 dark:text-slate-100 outline-none focus:border-indigo-500 shadow-sm`})]},Z.label))})]})]}),u.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[u.jsxs("div",{className:"flex items-center gap-3 mr-2",children:[u.jsx("span",{className:"text-[10px] font-bold text-fuchsia-600 dark:text-fuchsia-500 uppercase tracking-widest",children:"Welch"}),u.jsx("input",{type:"range",min:"1",max:"16",step:"1",value:j,onChange:Z=>P(parseInt(Z.target.value)),className:"w-24 h-1.5 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-fuchsia-500"}),u.jsx("span",{className:"text-[10px] font-mono text-fuchsia-600 dark:text-fuchsia-400 w-4 font-bold",children:j})]}),u.jsx("div",{className:"h-6 w-px bg-gray-200 dark:bg-slate-700"}),u.jsxs("div",{className:"flex flex-col gap-1 px-2",children:[u.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer text-[10px] text-gray-500 dark:text-slate-400 hover:text-gray-900 dark:hover:text-slate-200 select-none",children:[u.jsx("input",{type:"checkbox",checked:z,onChange:Z=>D(Z.target.checked),className:"w-3 h-3 rounded text-cyan-600 border-gray-300 dark:border-slate-700 bg-white dark:bg-slate-800"})," Row Int."]}),u.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer text-[10px] text-gray-500 dark:text-slate-400 hover:text-gray-900 dark:hover:text-slate-200 select-none",children:[u.jsx("input",{type:"checkbox",checked:W,onChange:Z=>I(Z.target.checked),className:"w-3 h-3 rounded text-cyan-600 border-gray-300 dark:border-slate-700 bg-white dark:bg-slate-800"})," Col Int."]})]}),u.jsxs("div",{className:"flex flex-col gap-1.5 bg-gray-100 dark:bg-slate-800/60 p-1.5 rounded-lg border border-gray-200 dark:border-slate-700",children:[u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[u.jsx("div",{className:`w-3.5 h-3.5 rounded-md border flex items-center justify-center transition-colors ${b?"bg-fuchsia-600 border-fuchsia-600":"bg-white dark:bg-slate-900 border-gray-300 dark:border-slate-600"}`,children:b&&u.jsx("svg",{className:"w-2.5 h-2.5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:4,children:u.jsx("path",{d:"M5 13l4 4L19 7"})})}),u.jsx("input",{type:"checkbox",checked:b,onChange:Z=>S(Z.target.checked),className:"hidden"}),u.jsx("span",{className:"text-[10px] font-bold text-gray-700 dark:text-slate-300",children:"Hanning"})]}),u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[u.jsx("div",{className:`w-3.5 h-3.5 rounded-md border flex items-center justify-center transition-colors ${w?"bg-cyan-600 border-cyan-600":"bg-white dark:bg-slate-900 border-gray-300 dark:border-slate-600"}`,children:w&&u.jsx("svg",{className:"w-2.5 h-2.5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:4,children:u.jsx("path",{d:"M5 13l4 4L19 7"})})}),u.jsx("input",{type:"checkbox",checked:w,onChange:Z=>k(Z.target.checked),className:"hidden"}),u.jsx("span",{className:"text-[10px] font-bold text-gray-700 dark:text-slate-300",children:"Average"})]})]}),u.jsxs("div",{className:"flex gap-2 bg-gray-100 dark:bg-slate-800 p-1 rounded-lg border border-gray-200 dark:border-slate-700",children:[u.jsxs("button",{onClick:()=>A(!_),className:`px-2.5 py-1 rounded-md border text-[11px] font-bold transition-all flex items-center gap-1.5 ${_?"bg-cyan-900/40 text-cyan-400 border-cyan-500 shadow-[0_0_8px_rgba(6,182,212,0.3)]":"bg-white dark:bg-slate-900 text-gray-400 border-gray-300 dark:border-slate-700"}`,children:[u.jsx("div",{className:`w-2 h-2 rounded-full ${_?"bg-cyan-400":"bg-gray-400"}`})," H"]}),u.jsxs("button",{onClick:()=>E(!N),className:`px-2.5 py-1 rounded-md border text-[11px] font-bold transition-all flex items-center gap-1.5 ${N?"bg-cyan-900/40 text-cyan-400 border-cyan-500 shadow-[0_0_8px_rgba(6,182,212,0.3)]":"bg-white dark:bg-slate-900 text-gray-400 border-gray-300 dark:border-slate-700"}`,children:[u.jsx("div",{className:`w-2 h-2 rounded-full ${N?"bg-cyan-400":"bg-gray-400"}`})," V"]})]}),u.jsxs("div",{className:"ml-auto flex gap-2",children:[u.jsx("button",{onClick:()=>ya(!At),className:`px-3 py-1.5 rounded-lg text-[10px] font-bold transition-all border ${At?"bg-emerald-600 text-white border-emerald-600 shadow-md":"bg-white dark:bg-slate-900 text-emerald-600 dark:text-emerald-400 border-emerald-200 dark:border-emerald-800 hover:bg-emerald-50"}`,children:""}),u.jsx("button",{onClick:()=>Zr(!Pt),className:`px-3 py-1.5 rounded-lg text-[10px] font-bold transition-all border ${Pt?"bg-indigo-600 text-white border-indigo-600 shadow-md":"bg-white dark:bg-slate-900 text-indigo-600 dark:text-indigo-400 border-indigo-200 dark:border-indigo-800 hover:bg-indigo-50"}`,children:"ROI"})]})]}),u.jsxs("div",{className:"flex items-center gap-4 justify-end border-t border-gray-200 dark:border-slate-800/50 pt-2.5",children:[u.jsx("button",{onClick:Ue,className:"px-4 py-1 text-[10px] font-bold bg-cyan-600/10 text-cyan-600 dark:text-cyan-400 hover:bg-cyan-600/20 rounded-md border border-cyan-500/30 transition-all uppercase tracking-widest shadow-sm",children:"Auto"}),u.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-bold text-gray-500 dark:text-slate-400 uppercase",children:["Y-AXIS (LOG)",u.jsxs("div",{className:"flex items-center bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-md overflow-hidden shadow-sm",children:[u.jsx("input",{type:"text",value:v,onChange:Z=>x(Z.target.value),className:"w-14 px-2 py-1 bg-transparent text-center outline-none text-gray-900 dark:text-slate-100 border-r border-gray-200 dark:border-slate-700"}),u.jsx("span",{className:"px-2 text-gray-400",children:"to"}),u.jsx("input",{type:"text",value:y,onChange:Z=>g(Z.target.value),className:"w-14 px-2 py-1 bg-transparent text-center outline-none text-gray-900 dark:text-slate-100"})]})]})]})]}),u.jsxs("div",{className:"flex-1 p-4 overflow-hidden flex flex-col gap-2 relative bg-gray-50/30 dark:bg-slate-900/30",children:[u.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none z-[50] select-none opacity-10",children:u.jsx("svg",{viewBox:"0 0 500 100",className:"w-3/4 h-auto drop-shadow-lg",children:u.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"24",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})}),bt&&u.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center z-[55] bg-white/90 dark:bg-slate-900/90 backdrop-blur-[2px]",children:[u.jsx("div",{className:"w-10 h-10 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mb-4"}),u.jsx("span",{className:"text-cyan-600 dark:text-cyan-400 font-bold",children:"Computing FFT Stack..."}),h&&h.length>1&&u.jsxs("span",{className:"text-xs text-gray-500 mt-2 font-mono",children:["Processing frame ",Bt," / ",h.length]})]}),nt?u.jsx("div",{className:"flex items-center justify-center h-full text-red-500 font-semibold",children:nt}):u.jsxs("div",{className:"flex-1 bg-white dark:bg-slate-950 border border-gray-200 dark:border-slate-800 rounded-xl p-2 flex flex-col relative z-20 shadow-xl overflow-hidden",children:[u.jsx("div",{className:"flex-1 relative z-10",onMouseDown:kn,onMouseMove:xr,onMouseUp:Fr,style:{cursor:yr?"col-resize":"crosshair"},children:u.jsx(Ps,{width:"100%",height:"100%",children:u.jsxs(Cv,{data:Dn,margin:{top:10,right:10,bottom:20,left:0},children:[u.jsx(ki,{strokeDasharray:"3 3",stroke:"#374151",opacity:.08}),u.jsx(pa,{dataKey:"freq",type:"number",domain:[0,.5],tickCount:6,tick:{fill:"#6b7280",fontSize:10},label:{value:"Frequency (cy/px)",position:"insideBottom",offset:-10,fill:"#6b7280",fontSize:11}}),u.jsx(ga,{scale:"log",domain:[Math.pow(10,parseFloat(v)),Math.pow(10,parseFloat(y))],allowDataOverflow:!0,tick:{fill:"#6b7280",fontSize:10},tickFormatter:Z=>Number(Z).toExponential(0),width:45}),u.jsx(nn,{contentStyle:{backgroundColor:"rgba(15, 23, 42, 0.95)",border:"1px solid #334155",color:"#f3f4f6",fontSize:"11px",borderRadius:"8px"},formatter:Z=>[Number(Z).toExponential(3),""],labelFormatter:Z=>`Freq: ${Number(Z).toFixed(4)}`}),u.jsx(Va,{wrapperStyle:{fontSize:"10px"}}),u.jsx(qr,{type:"monotone",dataKey:"theory",name:"Theory Model",stroke:"#6366f1",strokeWidth:2,dot:!1,isAnimationActive:!1}),[0,1,2,3].flatMap(Z=>{if(p!==-1&&p!==Z)return[];const pe=`c${Z}_h`,Qe=`c${Z}_v`,pt=Br[`c${Z}`],Be=[];return _&&Be.push(u.jsx(qr,{type:"linear",dataKey:pe,name:`${fn[Z]} (H)`,stroke:pt,strokeWidth:1,dot:!1,isAnimationActive:!1},`${Z}_h`)),N&&Be.push(u.jsx(qr,{type:"linear",dataKey:Qe,name:`${fn[Z]} (V)`,stroke:pt,strokeWidth:1,strokeDasharray:"3 3",dot:!1,isAnimationActive:!1},`${Z}_v`)),Be}),Ft&&u.jsx(fu,{x1:Ft[0],x2:Ft[1],fill:"#8884d8",fillOpacity:.15})]})})}),V&&Ft&&u.jsxs("div",{className:"absolute bottom-12 left-12 bg-slate-900/90 backdrop-blur-md p-3 rounded-lg border border-indigo-500/50 shadow-2xl z-30 text-[10px] font-mono text-slate-100",children:[u.jsxs("div",{className:"text-indigo-400 font-bold mb-1 border-b border-indigo-500/30 pb-1",children:["Range: ",Ft[0].toFixed(3),"-",Ft[1].toFixed(3)]}),Object.entries(V.stats).map(([Z,pe])=>u.jsxs("div",{className:"flex justify-between gap-4",children:[u.jsxs("span",{className:"text-slate-400",children:[Z,":"]}),u.jsx("span",{className:"font-bold text-cyan-400",children:pe.toFixed(5)})]},Z))]})]})]}),At&&u.jsxs("div",{className:"absolute top-48 right-8 z-[55] w-72 bg-white dark:bg-slate-900 rounded-xl shadow-2xl border border-gray-200 dark:border-slate-700 p-4 animate-in slide-in-from-top-2",children:[u.jsx("h4",{className:"text-[10px] uppercase font-bold text-emerald-600 dark:text-emerald-400 mb-2 border-b border-gray-100 dark:border-slate-800 pb-1",children:"Range Averaging"}),u.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[u.jsx("input",{type:"number",step:"0.01",value:K,onChange:Z=>ce(Z.target.value),className:"w-16 px-1 py-0.5 text-xs border rounded bg-transparent dark:border-slate-600 dark:text-white"}),u.jsx("span",{className:"text-gray-400",children:"-"}),u.jsx("input",{type:"number",step:"0.01",value:be,onChange:Z=>Q(Z.target.value),className:"w-16 px-1 py-0.5 text-xs border rounded bg-transparent dark:border-slate-600 dark:text-white"}),u.jsx("button",{onClick:ea,className:"flex-1 bg-emerald-600 text-white text-[10px] font-bold py-1 rounded",children:"Avg"})]}),u.jsx("div",{className:"flex flex-col gap-2 max-h-48 overflow-y-auto",children:[0,1,2,3].map(Z=>{const pe=Et[Z];if(!pe)return null;const Qe=Br[`c${Z}`];return u.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800/50 p-2 rounded text-[10px] border border-gray-100 dark:border-slate-800",children:[u.jsxs("div",{className:"flex items-center gap-2 font-bold mb-1",style:{color:Qe},children:[fn[Z]," ",u.jsxs("span",{className:"text-gray-400 font-normal",children:["(",pe.count," pts)"]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-x-2 text-gray-700 dark:text-slate-300 font-mono",children:[u.jsxs("div",{children:["H: ",pe.h.toExponential(3)]}),u.jsxs("div",{children:["V: ",pe.v.toExponential(3)]})]})]},Z)})})]}),Pt&&u.jsx("div",{className:"absolute top-48 right-8 z-[55] w-56 bg-white dark:bg-slate-900 rounded-xl shadow-2xl border border-gray-200 dark:border-slate-700 p-4 animate-in slide-in-from-top-2",children:u.jsxs("div",{className:"flex flex-col gap-3",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"text-[9px] uppercase font-bold text-gray-400 mb-1",children:"Move"}),u.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[u.jsx("div",{}),u.jsx("button",{onClick:()=>ct(0,-1),className:"p-1.5 bg-gray-100 dark:bg-slate-800 rounded",children:""}),u.jsx("div",{}),u.jsx("button",{onClick:()=>ct(-1,0),className:"p-1.5 bg-gray-100 dark:bg-slate-800 rounded",children:""}),u.jsx("div",{}),u.jsx("button",{onClick:()=>ct(1,0),className:"p-1.5 bg-gray-100 dark:bg-slate-800 rounded",children:""}),u.jsx("div",{}),u.jsx("button",{onClick:()=>ct(0,1),className:"p-1.5 bg-gray-100 dark:bg-slate-800 rounded",children:""}),u.jsx("div",{})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-[9px] uppercase font-bold text-gray-400 mb-1",children:"Size"}),u.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[u.jsx("button",{onClick:()=>Xe(2,0),className:"p-1 bg-gray-100 dark:bg-slate-800 rounded",children:"W+"}),u.jsx("button",{onClick:()=>Xe(-2,0),className:"p-1 bg-gray-100 dark:bg-slate-800 rounded",children:"W-"}),u.jsx("button",{onClick:()=>Xe(0,2),className:"p-1 bg-gray-100 dark:bg-slate-800 rounded",children:"H+"}),u.jsx("button",{onClick:()=>Xe(0,-2),className:"p-1 bg-gray-100 dark:bg-slate-800 rounded",children:"H-"})]})]})]})}),u.jsx(iZ,{isOpen:We,onClose:()=>Oe(!1),rawImageData:n,roi:a,selectedChannel:p===-1?0:p,channelName:p===-1?"Red (Default)":fn[p],zIndex:s?s+2:102,onFocus:l})]}):null},uZ=({isOpen:e,onClose:t,onMinimize:r,rawImageData:n,roi:a,isBGGR:o,zIndex:i,onFocus:s,initialPosition:l,initialInternalState:c,onUpdateState:f})=>{const[d,h]=O.useState((c==null?void 0:c.selectedChannelKey)||"G1"),[p,m]=O.useState((c==null?void 0:c.blackLevel)??0),[v,x]=O.useState((c==null?void 0:c.whiteLevel)??16383),[y,g]=O.useState(null),[b,S]=O.useState(!1),[w,k]=O.useState(null),[j,P]=O.useState(l||{x:150,y:150}),[_,A]=O.useState(!1),N=O.useRef({x:0,y:0});O.useEffect(()=>{f&&f({selectedChannelKey:d,blackLevel:p,whiteLevel:v})},[d,p,v]),O.useEffect(()=>{if(e&&n&&!c){const T=n.blackLevels?Math.floor(n.blackLevels[1]):0;m(T),x(n.whiteLevel||16383),g(null)}},[e,n]);const E=()=>{if(!n||!a)return;k(null),S(!0);const L=(o?{B:0,G1:1,G2:2,R:3}:{R:0,G1:1,G2:2,B:3})[d];setTimeout(()=>{try{const W=nZ(n.data,n.width,n.height,a,L,p,v);W?g(W):(k("No data found in selection with current filters."),g(null))}catch(W){console.error("Analysis failed:",W),k(W.message||"Analysis error")}finally{S(!1)}},50)},z=T=>{s&&s(),!(T.target.closest("button")||T.target.closest("input")||T.target.closest("select"))&&(A(!0),N.current={x:T.clientX-j.x,y:T.clientY-j.y})};if(O.useEffect(()=>{const T=W=>{_&&P({x:W.clientX-N.current.x,y:W.clientY-N.current.y})},L=()=>A(!1);return _&&(window.addEventListener("mousemove",T),window.addEventListener("mouseup",L)),()=>{window.removeEventListener("mousemove",T),window.removeEventListener("mouseup",L)}},[_]),!e)return null;const D=o?["B","G1","G2","R"]:["R","G1","G2","B"];return u.jsxs("div",{className:"fixed flex flex-col bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 shadow-2xl rounded-xl resize-both overflow-hidden min-w-[500px] min-h-[400px] w-[900px] h-[700px]",style:{left:j.x,top:j.y,zIndex:i??100},onMouseDownCapture:s,children:[u.jsxs("div",{className:`flex justify-between items-center p-4 border-b border-gray-200 dark:border-slate-700 bg-white dark:bg-slate-900 select-none ${_?"cursor-grabbing":"cursor-grab"}`,onMouseDown:z,children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-slate-100 flex items-center gap-2 pointer-events-none",children:"Quantization Step Analysis"}),u.jsxs("div",{className:"flex items-center gap-1",children:[r&&u.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 p-2",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),u.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-800/50 border-b border-gray-200 dark:border-slate-700 flex flex-wrap gap-4 items-end flex-shrink-0",children:[u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"Channel"}),u.jsx("select",{value:d,onChange:T=>h(T.target.value),className:"bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded px-3 py-1.5 text-sm text-gray-900 dark:text-slate-100 outline-none focus:ring-1 focus:ring-cyan-500 min-w-[80px]",children:D.map(T=>u.jsx("option",{value:T,children:T},T))})]}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"Black Level"}),u.jsx("input",{type:"number",value:p,onChange:T=>m(Number(T.target.value)),className:"w-24 px-3 py-1.5 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-sm text-gray-900 dark:text-slate-100"})]}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"White Level"}),u.jsx("input",{type:"number",value:v,onChange:T=>x(Number(T.target.value)),className:"w-24 px-3 py-1.5 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-sm text-gray-900 dark:text-slate-100"})]}),u.jsx("button",{onClick:E,disabled:b,className:"mb-0.5 px-5 py-1.5 bg-cyan-600 hover:bg-cyan-500 text-white font-bold rounded shadow-sm hover:shadow transition-colors disabled:opacity-50 text-sm",children:b?"Analyzing...":"Run Analysis"})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-4 flex flex-col gap-4 bg-white dark:bg-slate-900 min-h-0",children:[w&&u.jsx("div",{className:"p-3 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 rounded text-sm text-center flex-shrink-0",children:w}),!y&&!b&&!w&&u.jsx("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-400 dark:text-slate-500 h-full",children:u.jsx("p",{children:"Configure parameters and click Run Analysis"})}),y&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 flex-shrink-0",children:[u.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 rounded-lg border border-gray-200 dark:border-slate-700 text-center",children:[u.jsx("div",{className:"text-xs text-gray-500 dark:text-slate-400 uppercase mb-1",children:"Unique Codes"}),u.jsx("div",{className:"text-xl font-bold text-gray-900 dark:text-slate-100",children:y.uniqueCount})]}),u.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 rounded-lg border border-gray-200 dark:border-slate-700 text-center",children:[u.jsx("div",{className:"text-xs text-gray-500 dark:text-slate-400 uppercase mb-1",children:"Total Diffs"}),u.jsx("div",{className:"text-xl font-bold text-gray-900 dark:text-slate-100",children:y.diffCount})]})]}),u.jsxs("div",{className:"bg-white dark:bg-slate-800/50 rounded-xl border border-gray-200 dark:border-slate-700 overflow-hidden flex-shrink-0",children:[u.jsx("div",{className:"px-4 py-2 bg-gray-50 dark:bg-slate-800 border-b border-gray-200 dark:border-slate-700 text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"Step Distribution"}),u.jsx("div",{className:"p-4 flex flex-wrap gap-x-8 gap-y-2 text-sm font-mono max-h-32 overflow-y-auto",children:Object.entries(y.stepCounts).sort((T,L)=>parseFloat(T[0])-parseFloat(L[0])).map(([T,L])=>u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("span",{className:"text-gray-500 dark:text-slate-400",children:["Step ",T,":"]}),u.jsx("span",{className:"text-cyan-600 dark:text-cyan-400 font-bold",children:String(L)})]},T))})]}),u.jsxs("div",{className:"flex-1 bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 rounded-xl p-2 relative overflow-hidden min-h-[300px]",children:[u.jsx("div",{className:"absolute top-2 left-4 text-xs font-bold text-gray-400 dark:text-slate-500 pointer-events-none z-20 bg-white/80 dark:bg-slate-900/80 px-2 rounded",children:"Step Size vs Code Value"}),u.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-0 pointer-events-none select-none opacity-10 mix-blend-normal dark:mix-blend-plus-lighter",children:u.jsx("svg",{viewBox:"0 0 500 60",className:"w-96 h-auto",children:u.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"36",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})}),u.jsx("div",{className:"relative z-10 w-full h-full",children:u.jsx(Ps,{width:"100%",height:"100%",children:u.jsxs(Cv,{data:y.plotData,margin:{top:20,right:20,bottom:20,left:10},children:[u.jsx(ki,{strokeDasharray:"3 3",stroke:"#374151",opacity:.1}),u.jsx(pa,{dataKey:"x",type:"number",domain:["auto","auto"],tick:{fill:"#9ca3af",fontSize:10},label:{value:"Code Value (Shifted)",position:"insideBottom",offset:-10,fill:"#9ca3af",fontSize:11}}),u.jsx(ga,{tick:{fill:"#9ca3af",fontSize:10},domain:[0,"auto"],allowDataOverflow:!1,label:{value:"Step Size (Delta)",angle:-90,position:"insideLeft",fill:"#9ca3af",fontSize:11}}),u.jsx(nn,{contentStyle:{backgroundColor:"rgba(17, 24, 39, 0.95)",border:"1px solid #374151",borderRadius:"0.5rem",color:"#f3f4f6",fontSize:"12px"},labelFormatter:T=>`Val: ${T}`,formatter:T=>[T,"Step Size"]}),u.jsx(qr,{type:"stepAfter",dataKey:"y",stroke:"#0891b2",strokeWidth:1.5,dot:{r:1.5,fill:"#0891b2",strokeWidth:0},activeDot:{r:4},isAnimationActive:!1})]})})})]})]})]})]})},fZ=({isOpen:e,onClose:t,rawImageData:r,roi:n,isBGGR:a,zIndex:o,onFocus:i,initialPosition:s,stackFiles:l})=>{const[c,f]=O.useState("cross"),[d,h]=O.useState("R"),[p,m]=O.useState("B"),[v,x]=O.useState("H"),[y,g]=O.useState(null),[b,S]=O.useState(!1),[w,k]=O.useState(0),[j,P]=O.useState(0),[_,A]=O.useState("single"),N=a?{B:0,G1:1,G2:2,R:3}:{R:0,G1:1,G2:2,B:3},E=a?["B","G1","G2","R"]:["R","G1","G2","B"],z=async D=>{if(!r||!n)return;S(!0),A(D),k(0),g(null);let T=N[d],L=c==="cross"?N[p]:T,W=0,I=0;c==="self"&&(v==="H"?I=2:W=2),setTimeout(async()=>{try{let R={sumCov:0,sumVar1:0,sumVar2:0,n:0};if(D==="single")R=R2(r.data,r.width,r.height,n,T,L,W,I);else if(l&&l.length>0)for(let B=0;B<l.length;B++){k(B+1);const te=await l[B].arrayBuffer(),X=await Id(te),H=R2(X.data,X.width,X.height,n,T,L,W,I);R.sumCov+=H.sumCov,R.sumVar1+=H.sumVar1,R.sumVar2+=H.sumVar2,R.n+=H.n}P(R.n),g(JQ(R))}catch(R){console.error("Pearson calculation failed",R),alert("Calculation error: "+R.message)}finally{S(!1)}},50)};return e?u.jsxs(Uh,{initialPosition:s||{x:200,y:200},onClose:t,zIndex:o,onFocus:i,className:"w-80 bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 flex flex-col shadow-2xl overflow-hidden",children:[u.jsxs("div",{className:"flex justify-between items-center px-4 py-3 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800",children:[u.jsxs("h3",{className:"text-sm font-bold text-gray-700 dark:text-slate-200 flex items-center gap-2",children:["Pearson Correlation",u.jsx("span",{className:"text-[10px] font-normal bg-white dark:bg-slate-700 px-1.5 py-0.5 rounded border border-gray-200 dark:border-slate-600",children:"r"})]}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 transition-colors",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("div",{className:"p-4 flex flex-col gap-4",children:[u.jsxs("div",{className:"flex bg-gray-100 dark:bg-slate-800 p-1 rounded-lg border border-gray-200 dark:border-slate-700",children:[u.jsx("button",{onClick:()=>f("cross"),className:`flex-1 py-1 text-[10px] font-bold rounded transition-all ${c==="cross"?"bg-indigo-600 text-white shadow":"text-gray-500 dark:text-slate-400 hover:bg-gray-200 dark:hover:bg-slate-700"}`,children:"Cross-Channel"}),u.jsx("button",{onClick:()=>f("self"),className:`flex-1 py-1 text-[10px] font-bold rounded transition-all ${c==="self"?"bg-indigo-600 text-white shadow":"text-gray-500 dark:text-slate-400 hover:bg-gray-200 dark:hover:bg-slate-700"}`,children:"Self-Adjacent"})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:"flex-1 flex flex-col gap-1",children:[u.jsx("label",{className:"text-[9px] uppercase font-bold text-gray-400",children:c==="cross"?"Channel 1":"Channel"}),u.jsx("select",{value:d,onChange:D=>h(D.target.value),className:"bg-gray-100 dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded px-2 py-1.5 text-xs text-gray-700 dark:text-slate-200 outline-none focus:ring-1 focus:ring-indigo-500",children:E.map(D=>u.jsx("option",{value:D,children:D},D))})]}),u.jsx("div",{className:"text-gray-300 dark:text-slate-600 mt-4 font-mono",children:c==="cross"?"":""}),u.jsxs("div",{className:"flex-1 flex flex-col gap-1",children:[u.jsx("label",{className:"text-[9px] uppercase font-bold text-gray-400",children:c==="cross"?"Channel 2":"Direction"}),c==="cross"?u.jsx("select",{value:p,onChange:D=>m(D.target.value),className:"bg-gray-100 dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded px-2 py-1.5 text-xs text-gray-700 dark:text-slate-200 outline-none focus:ring-1 focus:ring-indigo-500",children:E.map(D=>u.jsx("option",{value:D,children:D},D))}):u.jsxs("div",{className:"flex h-[28px] bg-gray-100 dark:bg-slate-800 rounded border border-gray-200 dark:border-slate-700 p-0.5",children:[u.jsx("button",{onClick:()=>x("H"),className:`flex-1 text-[9px] font-bold rounded ${v==="H"?"bg-slate-300 dark:bg-slate-600 text-indigo-600 dark:text-indigo-400":"text-gray-400"}`,children:"Horiz"}),u.jsx("button",{onClick:()=>x("V"),className:`flex-1 text-[9px] font-bold rounded ${v==="V"?"bg-slate-300 dark:bg-slate-600 text-indigo-600 dark:text-indigo-400":"text-gray-400"}`,children:"Vert"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[u.jsx("button",{onClick:()=>z("single"),disabled:b,className:"w-full py-2 bg-indigo-600 hover:bg-indigo-500 disabled:bg-gray-400 text-white font-bold rounded shadow-md transition-all active:scale-95 text-xs",children:b&&_==="single"?"Calculating...":"Calc Current Frame"}),l&&l.length>0&&u.jsxs("button",{onClick:()=>z("stack"),disabled:b,className:"w-full py-2 bg-emerald-600 hover:bg-emerald-500 disabled:bg-gray-400 text-white font-bold rounded shadow-md transition-all active:scale-95 text-xs flex flex-col items-center justify-center",children:[u.jsx("span",{children:"Calc Stack Concatenated"}),b&&_==="stack"&&u.jsxs("span",{className:"text-[9px] font-normal opacity-80",children:["Progress: ",w," / ",l.length]})]})]}),y!==null&&u.jsxs("div",{className:"mt-2 p-4 bg-gray-50 dark:bg-slate-800/50 rounded-xl border border-gray-200 dark:border-slate-700 text-center animate-in fade-in slide-in-from-top-2",children:[u.jsxs("div",{className:"text-[10px] uppercase font-bold text-gray-400 dark:text-slate-500 mb-1",children:[c==="cross"?"Cross-Channel":`Self-Adj (${v})`," r"]}),u.jsx("div",{className:"text-2xl font-mono font-bold text-indigo-600 dark:text-indigo-400 select-all",style:{fontSize:"24px"},children:y.toFixed(5)}),u.jsxs("div",{className:"text-[9px] text-gray-400 mt-2 font-mono",children:["N = ",j.toLocaleString()," pairs"]}),u.jsx("div",{className:"mt-3 text-[10px] font-bold",children:Math.abs(y)>.5?u.jsx("span",{className:"text-red-500",children:"Significant Correlation"}):Math.abs(y)>.1?u.jsx("span",{className:"text-amber-500",children:"Weak Correlation"}):u.jsx("span",{className:"text-emerald-500",children:"Near-Zero (Uncorrelated)"})})]})]}),u.jsx("div",{className:"p-3 bg-gray-50/50 dark:bg-slate-800/30 text-[9px] text-gray-400 dark:text-slate-600 italic border-t border-gray-100 dark:border-slate-800",children:c==="cross"?"Comparing two color channels in the same Bayer 2x2 cells.":`Comparing pixel (r,c) with (r${v==="V"?"+2":""}, c${v==="H"?"+2":""}) in the same channel.`})]}):null},dZ=[{href:"https://y-g-jiang.github.io/CBLD.html",text:" (Primary Source)",abbr:"CBLD",description:"ISO",highlight:!0},{href:"https://y-G-jiang.github.io/LAC.html",text:"",abbr:"LAC",description:""},{href:"https://y-G-jiang.github.io/CCGV.html",text:"adobeIECMF",abbr:"CCGV",description:"acrRAWxy"},{href:"https://y-G-jiang.github.io/JTJS.html",text:"",abbr:"JTJS",description:"CMF/"},{href:"https://y-G-jiang.github.io/XJZS.html",text:"",abbr:"XJZS",description:""}],hZ=({isOpen:e,onClose:t})=>e?u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",onClick:t,children:u.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-3xl rounded-2xl shadow-2xl border border-gray-200 dark:border-slate-700 overflow-hidden flex flex-col max-h-[90vh]",onClick:r=>r.stopPropagation(),children:[u.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"About / Tools"}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 transition-colors p-1 rounded hover:bg-gray-200 dark:hover:bg-slate-700",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("div",{className:"p-6 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-slate-700",children:[u.jsx("div",{className:"mb-8 p-4 bg-gray-50 dark:bg-slate-800/50 rounded-xl border border-gray-100 dark:border-slate-700 text-center",children:u.jsxs("p",{className:"text-lg text-gray-700 dark:text-slate-300",children:[u.jsx("span",{className:"font-bold mr-2",children:"about:"}),u.jsx("a",{href:"https://y-g-jiang.github.io/JOindex.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline break-all font-mono",children:"https://y-g-jiang.github.io/JOindex.html"})]})}),u.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[u.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 flex-1"}),u.jsx("span",{className:"text-sm font-bold text-gray-400 dark:text-slate-500 uppercase tracking-wider",children:"Primary Resources"}),u.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 flex-1"})]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:dZ.map(r=>u.jsxs("a",{href:r.href,target:"_blank",rel:"noopener noreferrer",className:`group block p-4 rounded-xl border transition-all duration-200 relative overflow-hidden ${r.highlight?"border-cyan-500 dark:border-cyan-400 bg-cyan-50/30 dark:bg-cyan-900/10 shadow-lg scale-[1.02] ring-2 ring-cyan-500/20":"border-gray-200 dark:border-slate-700 bg-white dark:bg-slate-800/30 hover:bg-gray-50 dark:hover:bg-slate-800 hover:border-cyan-500"}`,children:[u.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-gradient-to-bl from-cyan-500/5 to-transparent -mr-8 -mt-8 rounded-full pointer-events-none group-hover:from-cyan-500/10 transition-colors"}),u.jsxs("div",{className:"flex items-center gap-3 mb-2 relative z-10",children:[u.jsx("span",{className:`px-2 py-1 text-xs font-bold rounded transition-colors border ${r.highlight?"bg-cyan-600 text-white border-cyan-500":"bg-gray-100 dark:bg-slate-700 text-gray-600 dark:text-slate-300 border-gray-200 dark:border-slate-600 group-hover:border-cyan-200"}`,children:r.abbr}),u.jsx("h3",{className:`font-bold transition-colors ${r.highlight?"text-cyan-700 dark:text-cyan-300":"text-gray-800 dark:text-slate-200 group-hover:text-cyan-600"}`,children:r.text})]}),u.jsx("p",{className:`text-xs pl-1 transition-colors relative z-10 ${r.highlight?"text-cyan-600/80 dark:text-cyan-400/80":"text-gray-500 dark:text-slate-400"}`,children:r.description})]},r.abbr))})]})]})}):null,pZ=({isOpen:e,onClose:t,data:r,fileName:n,warning:a})=>{const[o,i]=O.useState(""),s=f=>{const d=new WeakSet;try{return JSON.stringify(f,(h,p)=>{if(typeof p=="bigint")return p.toString()+"n";if(typeof p=="object"&&p!==null){if(d.has(p))return"[Circular]";if(d.add(p),ArrayBuffer.isView(p))return`[${p.constructor.name}]`}return p})}catch{return"[Unable to serialize object]"}},l=O.useMemo(()=>{if(!r)return[];const f=[],d=(h,p=0)=>{if(p>5)return"...";if(h==null)return String(h);if(h instanceof Date)return h.toLocaleString();if(typeof h=="number")return h.toString();if(typeof h=="string")return h;if(typeof h=="bigint")return h.toString()+"n";if(ArrayBuffer.isView(h))return`<${h.constructor.name} len=${h.length} bytes=${h.byteLength}>`;if(h instanceof ArrayBuffer)return`<ArrayBuffer bytes=${h.byteLength}>`;if(typeof h=="object"){if(Array.isArray(h))return h.length===0?"[]":h.length>20?`[${h.slice(0,10).map(x=>typeof x=="number"?x.toFixed(2):d(x,p+1)).join(", ")}, ... (+${h.length-10} more)]`:`[${h.map(v=>typeof v=="number"?Number.isInteger(v)?v:v.toFixed(4):d(v,p+1)).join(", ")}]`;try{const m=Object.keys(h);return m.length>5?`{Object with ${m.length} keys}`:s(h)}catch{return"<Complex Object>"}}return String(h)};try{if(typeof r!="object")return[{key:"Value",value:String(r)}];Object.keys(r).sort().forEach(p=>{if(p==="MakerNote"||p==="UserComment"||p.includes("Strip")||p.includes("Offset")){f.push({key:p,value:"<Binary/Internal Data>"});return}const m=r[p];f.push({key:p,value:d(m)})})}catch(h){console.error("Error processing EXIF data:",h),f.push({key:"Error",value:"Failed to process metadata structure."})}return f},[r]);if(!e)return null;const c=l.filter(f=>f.key.toLowerCase().includes(o.toLowerCase())||f.value.toLowerCase().includes(o.toLowerCase()));return u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",onClick:t,children:u.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-3xl max-h-[90vh] rounded-2xl shadow-2xl flex flex-col border border-gray-200 dark:border-slate-700",onClick:f=>f.stopPropagation(),children:[u.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-gray-200 dark:border-slate-700",children:[u.jsxs("div",{className:"overflow-hidden",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-slate-100",children:"EXIF Data"}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mt-1 font-mono truncate",children:n})]}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 transition-colors p-2 rounded-full hover:bg-gray-100 dark:hover:bg-slate-800",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a&&u.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 px-4 py-2 border-b border-amber-100 dark:border-amber-800/50 text-center",children:u.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400 whitespace-pre-line font-medium leading-relaxed",children:a})}),u.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50",children:u.jsxs("div",{className:"relative",children:[u.jsx("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),u.jsx("input",{type:"text",placeholder:"Search tags...",value:o,onChange:f=>i(f.target.value),className:"w-full pl-9 pr-4 py-2 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded-lg text-sm focus:ring-2 focus:ring-cyan-500 outline-none text-gray-900 dark:text-slate-100 transition-colors placeholder-gray-400"})]})}),u.jsx("div",{className:"overflow-y-auto flex-1 p-0 scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-slate-700",children:c.length>0?u.jsxs("table",{className:"w-full text-left border-collapse table-fixed",children:[u.jsx("thead",{className:"bg-gray-50 dark:bg-slate-800 sticky top-0 shadow-sm z-10",children:u.jsxs("tr",{children:[u.jsx("th",{className:"py-3 px-5 font-semibold text-xs text-gray-500 dark:text-slate-400 uppercase tracking-wider w-1/3 border-b border-gray-200 dark:border-slate-700",children:"Tag Name"}),u.jsx("th",{className:"py-3 px-5 font-semibold text-xs text-gray-500 dark:text-slate-400 uppercase tracking-wider w-2/3 border-b border-gray-200 dark:border-slate-700",children:"Value"})]})}),u.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-slate-800",children:c.map(f=>u.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-800/50 transition-colors group",children:[u.jsx("td",{className:"py-2 px-5 text-sm font-medium text-cyan-600 dark:text-cyan-400 font-mono break-words align-top",children:f.key}),u.jsx("td",{className:"py-2 px-5 text-sm text-gray-700 dark:text-slate-300 font-mono break-words align-top group-hover:text-gray-900 dark:group-hover:text-slate-100",children:f.value})]},f.key))})]}):u.jsx("div",{className:"flex flex-col items-center justify-center h-64 text-gray-400 dark:text-slate-500",children:u.jsxs("p",{children:['No tags found matching "',o,'"']})})}),u.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50 flex justify-end rounded-b-2xl",children:u.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-800 dark:text-white rounded-lg text-sm font-semibold transition-colors",children:"Close"})})]})})},gZ=100,n0=e=>{if(e.length===0)return 0;if(e.length===1)return e[0];if(e.length===2)return .5*(e[0]+e[1]);let t=[...e].sort((r,n)=>r-n);for(;t.length>4;){let r=1/0,n=0;const a=t.length,o=Math.floor(a/2);for(let i=0;i<=a-o;i++){const s=t[i+o-1]-t[i];s<r&&(r=s,n=i)}t=t.slice(n,n+o)}return t.reduce((r,n)=>r+n,0)/t.length},B2=({min:e,max:t,value:r,onChange:n,vertical:a=!1,logScale:o=!1})=>{const i=O.useRef(null),s=O.useRef(null),l=O.useCallback(g=>{const b=o?Math.max(1e-6,e):e,S=o?Math.max(b*1.0001,t):t,w=Math.max(b,Math.min(S,g));if(o){const k=Math.log10(b),j=Math.log10(S);return(Math.log10(w)-k)/(j-k)}return(w-b)/(S-b)},[e,t,o]),c=O.useCallback(g=>{const b=o?Math.max(1e-6,e):e,S=o?Math.max(b*1.0001,t):t;if(o){const w=Math.log10(b),k=Math.log10(S);return Math.pow(10,w+g*(k-w))}return b+g*(S-b)},[e,t,o]),f=(g,b)=>{g.preventDefault(),g.stopPropagation(),s.current=b;const S=k=>{if(!s.current||!i.current)return;const j=i.current.getBoundingClientRect();let P=0;a?P=(j.bottom-k.clientY)/j.height:P=(k.clientX-j.left)/j.width,P=Math.max(0,Math.min(1,P));const _=c(P);if(s.current==="min"){const A=r[1];n([Math.min(_,A),A])}else{const A=r[0];n([A,Math.max(_,A)])}},w=()=>{s.current=null,window.removeEventListener("mousemove",S),window.removeEventListener("mouseup",w)};window.addEventListener("mousemove",S),window.addEventListener("mouseup",w)},d=l(r[0])*100,h=l(r[1])*100,p=a?{left:"50%",top:0,bottom:0,width:"4px",transform:"translateX(-50%)"}:{top:"50%",left:0,right:0,height:"4px",transform:"translateY(-50%)"},m=a?{left:"50%",bottom:`${d}%`,height:`${h-d}%`,width:"4px",transform:"translateX(-50%)"}:{top:"50%",left:`${d}%`,width:`${h-d}%`,height:"4px",transform:"translateY(-50%)"},v="absolute w-3 h-3 bg-white border-2 border-cyan-600 rounded-full shadow-md cursor-pointer hover:scale-125 transition-transform z-10",x=a?{left:"50%",bottom:`${d}%`,transform:"translate(-50%, 50%)"}:{top:"50%",left:`${d}%`,transform:"translate(-50%, -50%)"},y=a?{left:"50%",bottom:`${h}%`,transform:"translate(-50%, 50%)"}:{top:"50%",left:`${h}%`,transform:"translate(-50%, -50%)"};return u.jsxs("div",{ref:i,className:`relative select-none ${a?"h-full w-4 py-2":"w-full h-4 px-2"}`,children:[u.jsx("div",{className:"absolute bg-gray-300 dark:bg-slate-600 rounded-full",style:p}),u.jsx("div",{className:"absolute bg-cyan-500 dark:bg-cyan-400 rounded-full",style:m}),u.jsx("div",{className:v,style:x,onMouseDown:g=>f(g,"min")}),u.jsx("div",{className:v,style:y,onMouseDown:g=>f(g,"max")})]})},mZ=({isOpen:e,onClose:t,data:r,blackLevel:n,imageHeight:a,isBGGR:o,importedMetadata:i,theme:s,initialCameraModel:l,initialISO:c})=>{const[f,d]=O.useState("Noise"),[h,p]=O.useState(!0),[m,v]=O.useState(null),[x,y]=O.useState("default"),[g,b]=O.useState(!1),[S,w]=O.useState(!1),[k,j]=O.useState({R:!0,G1:!0,G2:!0,B:!0}),[P,_]=O.useState(""),[A,N]=O.useState(""),[E,z]=O.useState(""),[D,T]=O.useState(""),[L,W]=O.useState("10"),[I,R]=O.useState(""),[B,te]=O.useState("0 0 0 0"),[X,H]=O.useState("0 0 0 0"),[U,ue]=O.useState(!1),[fe,ke]=O.useState(null),[we,K]=O.useState(!1),[ce,be]=O.useState(0),[Q,We]=O.useState([]),[Oe,Ie]=O.useState(""),[qe,bt]=O.useState(""),Zt=()=>{const $=parseFloat(Oe),Y=parseFloat(qe);!isNaN($)&&!isNaN(Y)&&(We([...Q,{id:Date.now(),x:$,y:Y}]),Ie(""),bt(""))},[Bt,Er]=O.useState(()=>localStorage.getItem("ptc_tester_name")||""),[nt,rr]=O.useState(""),[Pt,Zr]=O.useState("");O.useEffect(()=>{localStorage.setItem("ptc_tester_name",Bt)},[Bt]);const At=O.useRef(U),ya=O.useRef(we),Ft=O.useRef(ce);O.useEffect(()=>{At.current=U,ya.current=we,Ft.current=ce},[U,we,ce]);const[ur,yr]=O.useState(null),[nr,fr]=O.useState({min:.01,max:90}),[wt,Ge]=O.useState({readNoise:0,gain:1,prnu:.5}),[Mt,Ct]=O.useState(2e6),vr=O.useRef(wt),sr=O.useRef(nr),cn=O.useRef(Mt);O.useEffect(()=>{vr.current=wt,sr.current=nr,cn.current=Mt},[wt,nr,Mt]);const[Et,un]=O.useState({read:"0",gain:"1.0",prnu:"0.5",rangeMin:"0.01",rangeMax:"90"}),[ht,Br]=O.useState({read:!0,shot:!0,prnu:!0,total:!0,fitRange:!0}),[fn,ea]=O.useState(!1),[Dn,kn]=O.useState([]),[xr,Fr]=O.useState(null),[lt,V]=O.useState(""),Ue=O.useMemo(()=>n?n.join(","):"",[n]);O.useEffect(()=>{if(e){let $="0 0 0 0";i&&i.blackLevel?$=i.blackLevel.join(" "):$=n&&n.length===4?n.join(" "):"0 0 0 0",te($),H($);let Y="";if(i&&i.height?Y=i.height.toString():a&&(Y=a.toString()),R(Y),Y){const J=parseFloat(Y);!isNaN(J)&&J>0?W((2309.4/J).toFixed(2)):W("10")}else W("10");ke(null),ue(!1),K(!1),be(0),kn([]),Fr(null),fr({min:.01,max:90}),un({read:"0",gain:"0",prnu:"0",rangeMin:"0.01",rangeMax:"90"}),Ge({readNoise:0,gain:0,prnu:0}),_(""),N(""),z(""),T(""),d("Noise"),yr(null),Ct(2e6),V(""),w(!1),We([]),rr(J=>J.trim()===""&&l?l:J),Zr(J=>J.trim()===""&&c?c:J)}},[e,Ue,i,a,r,l,c]);const ct=$=>{if($.key==="Enter"){const Y=parseFloat(I);if(!isNaN(Y)&&Y>0){const J=(2309.4/Y).toFixed(2);W(J)}$.target.blur()}},Xe=O.useMemo(()=>{let Y=X.trim().split(/[\s,]+/).filter(Boolean).map(Number);for(Y.length===1&&(Y=[Y[0],Y[0],Y[0],Y[0]]);Y.length<4;)Y.push(0);const J=C=>{switch(C){case"R":return Y[0];case"G1":return Y[1];case"G2":return Y[2];case"B":return Y[3];default:return 0}};return r.map(C=>{const ie=C.mean-J(C.channel),Pe=C.std>0?ie/C.std:0;return{...C,x:ie,std:C.std,snr:Pe}}).filter(C=>C.std>0)},[r,X]),Z=O.useMemo(()=>{const $=wt.readNoise,Y=$*$;return Xe.map(J=>{let C=0;if(f==="Noise")C=J.std;else if(f==="SNR")C=J.snr;else if(f==="Linear"){const Pe=J.std*J.std-Y;C=J.x!==0?Pe/J.x:0}return{...J,y:C}})},[Xe,f,wt.readNoise]),pe=O.useMemo(()=>{if(Xe.length===0)return"G1";const $={R:0,G1:0,G2:0,B:0},Y={R:0,G1:0,G2:0,B:0};for(const ie of Xe)$[ie.channel]+=ie.x,Y[ie.channel]++;let J="G1",C=-1/0;return Object.keys($).forEach(ie=>{const Pe=Y[ie],Ne=Pe>0?$[ie]/Pe:-1/0;Ne>C&&(C=Ne,J=ie)}),J},[Xe]),Qe=O.useCallback(()=>{let $=1/0,Y=-1/0;if(Xe.length===0)return{min:.1,max:1};for(let J=0;J<Xe.length;J++){const C=Xe[J].x;h&&C<=0||(C<$&&($=C),C>Y&&(Y=C))}return $===1/0?{min:.1,max:1}:{min:$,max:Y}},[Xe,h]),pt=O.useCallback(()=>{let $=1/0,Y=-1/0;if(Z.length===0)return{min:.1,max:1};for(let J=0;J<Z.length;J++){const C=Z[J].y;h&&C<=0||(C<$&&($=C),C>Y&&(Y=C))}return $===1/0?{min:.1,max:1}:{min:$*.9,max:Y*1.1}},[Z,h]),{min:Be,max:Ce}=Qe(),{min:Ht,max:at}=pt(),Re=Ce*(nr.min/100),tt=Ce*(nr.max/100),Ze=O.useMemo(()=>{if(!h&&Z.length===0)return{shot:[],read:[],prnu:[],total:[]};const $=P?parseFloat(P):Be,Y=A?parseFloat(A):Ce,J=100,C=Math.max(.1,$),ie=Math.max(1,Y);if(C>=ie)return{shot:[],read:[],prnu:[],total:[]};const Pe=Math.log10(C),Ke=(Math.log10(ie)-Pe)/J,He=wt.readNoise,Fe=wt.gain>0?wt.gain:1,Tt=wt.prnu/100,ut=[],Wt=[],ar=[],ae=[];for(let Ve=0;Ve<=J;Ve++){const je=Math.pow(10,Pe+Ve*Ke);if(f==="Linear"){const $t=1/Fe,yt=Tt*Tt,zr=$t+yt*je;ae.push({x:je,y:zr}),ut.push({x:je,y:$t}),ar.push({x:je,y:yt*je})}else{const $t=He,yt=Math.sqrt(je/Fe),zr=Tt*je,ft=Math.sqrt($t*$t+yt*yt+zr*zr);f==="Noise"?(ut.push({x:je,y:yt}),Wt.push({x:je,y:$t}),ar.push({x:je,y:zr}),ae.push({x:je,y:ft})):(yt>0&&ut.push({x:je,y:je/yt}),$t>0&&Wt.push({x:je,y:je/$t}),zr>0&&ar.push({x:je,y:je/zr}),ft>0&&ae.push({x:je,y:je/ft}))}}return{shot:ut,read:Wt,prnu:ar,total:ae}},[Z,h,P,A,wt,f,Be,Ce]),rt=O.useMemo(()=>{if(f==="Linear")return[];const $=parseFloat(L);if(isNaN($)||$<=0)return[];const Y=P?parseFloat(P):Be,J=A?parseFloat(A):Ce;return f==="SNR"?[{x:Y,y:$},{x:J,y:$}]:[{x:Y,y:Y/$},{x:J,y:J/$}]},[Z,L,f,P,A,Be,Ce]),Tr=O.useCallback(($,Y)=>{if(!Y||Y.length===0)return null;const J=[...Y].sort((C,ie)=>C.x-ie.x);for(let C=0;C<J.length-1;C++){const ie=J[C],Pe=J[C+1];if(ie.snr<=$&&Pe.snr>=$||ie.snr>=$&&Pe.snr<=$){const Ne=($-ie.snr)/(Pe.snr-ie.snr);return ie.x+Ne*(Pe.x-ie.x)}}return null},[]),dn=O.useMemo(()=>{const $=Xe,Y=1e3,J=ie=>{if(ie.length===0)return[];if(ie.length<=Y)return ie;const Pe=[...ie].sort((He,Fe)=>He.x-Fe.x),Ne=[],Ke=Pe.length/Y;for(let He=0;He<Y;He++){const Fe=Math.floor(He*Ke),Tt=Math.floor((He+1)*Ke),ut=Pe.slice(Fe,Tt);if(ut.length===0)continue;ut.sort((ar,ae)=>ar.std-ae.std);const Wt=Math.floor(ut.length/2);Ne.push(ut[Wt])}return Ne},C={R:[],G1:[],G2:[],B:[]};return $.forEach(ie=>{C[ie.channel]&&C[ie.channel].push(ie)}),{R:J(C.R),G1:J(C.G1),G2:J(C.G2),B:J(C.B)}},[Xe]),zt=O.useMemo(()=>fe&&wt.gain?fe*wt.gain:null,[fe,wt.gain]),ye=O.useMemo(()=>{if(fe===null||fe===0)return null;const $=parseFloat(L);let Y=null;if(!isNaN($)&&$>0){let Ne=0,Ke=0;if(["R","G1","G2","B"].forEach(He=>{const Fe=Tr($,dn[He]);Fe!==null&&(Ne+=Fe,Ke++)}),Ke>0){const He=Ne/Ke;Y=Math.log2(fe/He)}}const J=parseFloat(I);let C=null,ie=NaN;if(!isNaN(J)&&J>0){ie=16e3/J;let Ne=0,Ke=0;if(["R","G1","G2","B"].forEach(He=>{const Fe=Tr(ie,dn[He]);Fe!==null&&(Ne+=Fe,Ke++)}),Ke>0){const He=Ne/Ke;C=Math.log2(fe/He)}}let Pe=null;if(!isNaN(J)&&J>0){const Ne=Tr(ie,dn[pe]);Ne!==null&&(Pe=Math.log2(fe/Ne))}return{manualDR:Y,ptpDR:C,d55DR:Pe,manualTarget:$,ptpTarget:ie,saturationSignal:fe,dominantChannel:pe}},[fe,L,I,dn,Tr,pe]),Sn=O.useMemo(()=>{if(f==="Linear"||!ye||!ye.ptpTarget||isNaN(ye.ptpTarget))return[];const $=ye.ptpTarget,Y=P?parseFloat(P):Be,J=A?parseFloat(A):Ce;return f==="SNR"?[{x:Y,y:$},{x:J,y:$}]:[{x:Y,y:Y/$},{x:J,y:J/$}]},[f,ye,P,A,Be,Ce]),va=O.useCallback(()=>{const J=document.createElement("canvas");J.width=2048,J.height=1536;const C=J.getContext("2d");if(!C)return;const ie=s==="dark",Pe=ie?"#0f172a":"#ffffff",Ne=ie?"#ffffff":"#000000",Ke=ie?"#475569":"#cbd5e1",He=ie?"#1e293b":"#f1f5f9",Fe=o?{R:"#ef4444",G1:"#22c55e",G2:"#4ade80",B:"#3b82f6"}:{R:"#ef4444",G1:"#22c55e",G2:"#4ade80",B:"#3b82f6"};C.fillStyle=Pe,C.fillRect(0,0,2048,1536);let Tt=P?parseFloat(P):Be,ut=A?parseFloat(A):Ce,Wt=E?parseFloat(E):Ht,ar=D?parseFloat(D):at;isNaN(Tt)&&(Tt=.1),isNaN(ut)&&(ut=1e4),isNaN(Wt)&&(Wt=.1),isNaN(ar)&&(ar=1e3);const ae={top:80,right:80,bottom:100,left:120},Ve=2048-ae.left-ae.right,je=1536-ae.top-ae.bottom,$t=ee=>{if(h){const he=Math.log10(Math.max(1e-9,Tt)),le=Math.log10(Math.max(1e-9,ut)),de=Math.log10(Math.max(1e-9,ee));return ae.left+(de-he)/(le-he)*Ve}else return ae.left+(ee-Tt)/(ut-Tt)*Ve},yt=ee=>{if(h){const he=Math.log10(Math.max(1e-9,Wt)),le=Math.log10(Math.max(1e-9,ar)),de=Math.log10(Math.max(1e-9,ee));return ae.top+je-(de-he)/(le-he)*je}else return ae.top+je-(ee-Wt)/(ar-Wt)*je};if(C.beginPath(),h){const ee=(he,le,de)=>{const me=Math.log10(Math.max(1e-9,he)),_e=Math.log10(Math.max(1e-9,le)),Ee=Math.floor(me),ot=Math.ceil(_e);for(let Je=Ee;Je<=ot;Je++){const vt=Math.pow(10,Je);let Te=de?$t(vt):yt(vt);(de?Te>=ae.left-1&&Te<=ae.left+Ve+1:Te>=ae.top-1&&Te<=ae.top+je+1)&&(C.lineWidth=1.5,C.strokeStyle=Ke,C.beginPath(),de?(C.moveTo(Te,ae.top),C.lineTo(Te,ae.top+je)):(C.moveTo(ae.left,Te),C.lineTo(ae.left+Ve,Te)),C.stroke()),C.lineWidth=.5,C.strokeStyle=He;for(let $e=2;$e<10;$e++){const Me=$e*vt;Te=de?$t(Me):yt(Me),(de?Te>=ae.left&&Te<=ae.left+Ve:Te>=ae.top&&Te<=ae.top+je)&&(C.beginPath(),de?(C.moveTo(Te,ae.top),C.lineTo(Te,ae.top+je)):(C.moveTo(ae.left,Te),C.lineTo(ae.left+Ve,Te)),C.stroke())}}};ee(Tt,ut,!0),ee(Wt,ar,!1)}else{C.strokeStyle=Ke,C.lineWidth=1;for(let ee=0;ee<=5;ee++){const he=ae.left+Ve*ee/5;C.beginPath(),C.moveTo(he,ae.top),C.lineTo(he,ae.top+je),C.stroke();const le=ae.top+je*ee/5;C.beginPath(),C.moveTo(ae.left,le),C.lineTo(ae.left+Ve,le),C.stroke()}}C.strokeStyle=Ne,C.lineWidth=2,C.strokeRect(ae.left,ae.top,Ve,je);const zr=(ee,he,le)=>{ee<ae.left||ee>ae.left+Ve||he<ae.top||he>ae.top+je||(C.fillStyle=le,C.fillRect(ee-1.5,he-1.5,3,3))},ft=Z.filter(ee=>!(h&&(ee.x<=0||ee.y<=0)));ft.forEach(ee=>{k[ee.channel]&&ee.channel!==pe&&zr($t(ee.x),yt(ee.y),Fe[ee.channel])}),ft.forEach(ee=>{k[ee.channel]&&ee.channel===pe&&zr($t(ee.x),yt(ee.y),Fe[ee.channel])}),Q.forEach(ee=>{const he=$t(ee.x),le=yt(ee.y);if(he<ae.left||he>ae.left+Ve||le<ae.top||le>ae.top+je)return;C.strokeStyle="#d946ef",C.lineWidth=2.5;const de=6;C.beginPath(),C.moveTo(he-de,le-de),C.lineTo(he+de,le+de),C.moveTo(he+de,le-de),C.lineTo(he-de,le+de),C.stroke()});const dr=(ee,he,le=[])=>{if(ee.length<2)return;C.beginPath(),C.strokeStyle=he,C.lineWidth=3,C.setLineDash(le);let de=!1;for(const me of ee){const _e=$t(me.x),Ee=yt(me.y);if(_e<ae.left-100||_e>ae.left+Ve+100||Ee<ae.top-100||Ee>ae.top+je+100){de=!1;continue}de?C.lineTo(_e,Ee):(C.moveTo(_e,Ee),de=!0)}C.stroke(),C.setLineDash([])},Jr=ie?"#ffffff":"#000000";if(ht.shot&&dr(Ze.shot,"#94a3b8",[5,5]),ht.read&&dr(Ze.read,"#f43f5e",[3,3]),ht.prnu&&dr(Ze.prnu,"#f59e0b",[3,3]),ht.total&&dr(Ze.total,Jr,[]),rt.length===2){const ee="#6366f1";dr(rt,ee,[4,2]);const he=rt[1],le=yt(he.y);le>=ae.top&&le<=ae.top+je&&(C.fillStyle=ee,C.font="bold 20px sans-serif",C.textAlign="right",C.textBaseline="bottom",C.fillText(`M.Tgt=${L}`,ae.left+Ve-10,le-8))}if(Sn.length===2&&(ye!=null&&ye.ptpTarget)){const ee="#10b981";dr(Sn,ee,[4,4]);const he=Sn[1],le=yt(he.y);if(le>=ae.top&&le<=ae.top+je){C.fillStyle=ee,C.font="bold 20px sans-serif",C.textAlign="right",C.textBaseline="bottom";const de=ye.ptpTarget.toFixed(1),me=rt.length===2?yt(rt[1].y):-100,_e=Math.abs(le-me)<25?25:0;C.fillText(`PTP=${de}`,ae.left+Ve-10,le-8-_e)}}if(ht.fitRange||we){const ee=(he,le)=>{const de=$t(he);de>=ae.left&&de<=ae.left+Ve&&(C.beginPath(),C.strokeStyle=le,C.lineWidth=2,C.setLineDash([8,8]),C.moveTo(de,ae.top),C.lineTo(de,ae.top+je),C.stroke(),C.setLineDash([]))};ee(Re,"#22d3ee"),ee(tt,"#22d3ee")}if(fe){const ee=$t(fe);ee>=ae.left&&ee<=ae.left+Ve&&(C.strokeStyle="#ef4444",C.lineWidth=3,C.setLineDash([10,10]),C.beginPath(),C.moveTo(ee,ae.top),C.lineTo(ee,ae.top+je),C.stroke(),C.setLineDash([]),C.fillStyle="#ef4444",C.font="bold 24px sans-serif",C.textAlign="center",C.fillText("Sat",ee,ae.top-10))}C.fillStyle=Ne,C.font="28px monospace",C.textAlign="center",C.fillText(Tt.toExponential(1),ae.left,ae.top+je+40),C.fillText(ut.toExponential(1),ae.left+Ve,ae.top+je+40),C.fillText("Signal (DN)",ae.left+Ve/2,ae.top+je+80),C.textAlign="right",C.textBaseline="middle",C.fillText(Wt.toExponential(1),ae.left-20,ae.top+je),C.fillText(ar.toExponential(1),ae.left-20,ae.top),C.save(),C.translate(ae.left-80,ae.top+je/2),C.rotate(-Math.PI/2),C.textAlign="center",C.fillText(f==="Linear"?"(Var - RN) / Mean":f,0,0),C.restore(),C.save(),C.translate(2048/2,1536/2),C.rotate(-Math.PI/6),C.textAlign="center",C.textBaseline="middle",C.fillStyle=ie?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)",C.font="bold 150px sans-serif",C.fillText(" y-g-jiang.github.io",0,0),C.restore(),C.fillStyle=Ne,C.font="bold 36px sans-serif",C.textAlign="left",C.textBaseline="top",C.fillText(`PTC Export: ${f} Mode`,ae.left,20),C.font="24px sans-serif",C.fillStyle=ie?"#94a3b8":"#64748b",C.fillText(`Points: ${Z.length} | Sat Channel: ${pe}`,ae.left,65);const xa=ae.left+30,hl=ae.top+30,Xh=70,yu=ee=>{if(!fe||ee<=0)return"--";const he=wt.readNoise,le=wt.gain,de=wt.prnu/100;if(le<=0)return"--";const me=ee*ee,_e=he*he,Ee=1-me*de*de,ot=-(me/le),Je=-(me*_e);let vt=0;if(Math.abs(Ee)<1e-8)Math.abs(ot)>1e-8&&(vt=-Je/ot);else{const Te=ot*ot-4*Ee*Je;Te>=0&&(vt=(-ot+Math.sqrt(Te))/(2*Ee))}return vt>0?Math.log2(fe/vt).toFixed(2)+" EV":"--"},Yh=ye!=null&&ye.ptpTarget&&!isNaN(ye.ptpTarget)?yu(ye.ptpTarget):"--",qh=L?yu(parseFloat(L)):"--";C.font="bold 48px monospace",C.textAlign="left",C.textBaseline="top",C.shadowColor=ie?"rgba(0,0,0,0.8)":"rgba(255,255,255,0.8)",C.shadowBlur=4,C.shadowOffsetX=1,C.shadowOffsetY=1;const hn=(ee,he,le,de)=>{const me=hl+le*Xh;C.fillStyle=Ne,C.fillText(ee,xa,me);const _e=C.measureText(ee).width;C.fillStyle=de||Ne,C.fillText(he,xa+_e,me)},$i=Et.read,Di=parseFloat(Et.gain).toFixed(3),Qh=parseFloat(Et.prnu).toFixed(2)+"%";let pl=`M.DR@SNR${L}: `;const F=parseFloat(I);if(!isNaN(F)&&F>0){const ee=(2309.4/F).toFixed(2);Math.abs(parseFloat(L)-parseFloat(ee))<.05&&(pl="8mpSNR=1 DR: ")}hn("Tester: ",Bt||"N/A",0),hn("Model : ",nt||"Unknown",1),hn("ISO   : ",Pt||"N/A",2),hn("RN/FPN: ",$i,3,"#f43f5e"),hn("KADC  : ",Di,4,"#06b6d4"),hn("PRNU  : ",Qh,5,"#f59e0b"),hn("PTP DR: ",ye!=null&&ye.ptpDR?ye.ptpDR.toFixed(2)+" EV":"--",6,"#10b981"),hn("D55 DR: ",ye!=null&&ye.d55DR?ye.d55DR.toFixed(2)+" EV":"--",7,"#8b5cf6"),hn("FWC   : ",zt?zt>1e4?(zt/1e3).toFixed(1)+"k":Math.round(zt).toString():"--",8,"#f97316"),hn(pl,ye!=null&&ye.manualDR?ye.manualDR.toFixed(2)+" EV":"--",9,"#06b6d4"),hn("PTCFitDR(PTP): ",Yh,10,"#10b981"),hn("PTCFitDR(Man): ",qh,11,"#06b6d4"),C.save(),C.textAlign="right",C.textBaseline="bottom",C.fillStyle="#3b82f6",C.font="bold 80px sans-serif",C.shadowColor=ie?"rgba(0,0,0,0.8)":"rgba(255,255,255,0.8)",C.shadowBlur=4,C.shadowOffsetX=2,C.shadowOffsetY=2;const G=1988,re=1476,ne=90;C.fillText("Online",G,re),C.fillText("Jiangtherapee",G,re-ne),C.restore();const ge=document.createElement("a");ge.download=`ptc_complete_${f}_${Date.now()}.jpg`,ge.href=J.toDataURL("image/jpeg",.9),ge.click()},[Z,pe,k,P,A,E,D,Be,Ce,Ht,at,h,s,f,fe,o,ht,Ze,Re,tt,nr,we,Bt,nt,Pt,ye,zt,L,rt,Sn,Et,I,Q]),gt=O.useMemo(()=>{let $=Z;if(h&&($=$.filter(ie=>ie.y>0&&ie.x>0)),x==="top3"){const ie=[...$].sort((Ne,Ke)=>Ke.x-Ne.x),Pe=Math.max(50,Math.ceil(ie.length*.03));$=ie.slice(0,Pe)}const Y={R:[],G1:[],G2:[],B:[]};if($.forEach(ie=>{Y[ie.channel]&&Y[ie.channel].push(ie)}),x==="raw")return Y;const J=x==="top3"?500:gZ,C=ie=>{if(ie.length<=J)return ie;const Pe=[...ie].sort((He,Fe)=>He.x-Fe.x),Ne=[],Ke=Pe.length/J;for(let He=0;He<J;He++){const Fe=Math.floor(He*Ke),Tt=Math.floor((He+1)*Ke),ut=Pe.slice(Fe,Tt);if(ut.length===0)continue;ut.sort((ar,ae)=>ar.y-ae.y);const Wt=Math.floor(ut.length/2);Ne.push(ut[Wt])}return Ne};return{R:C(Y.R),G1:C(Y.G1),G2:C(Y.G2),B:C(Y.B)}},[Z,x,h]),oo=O.useMemo(()=>{if(Xe.length<5)return[];const $=Xe.filter(J=>J.channel===pe);return[...$.length>20?$:Xe].sort((J,C)=>J.x-C.x).map(J=>({mean:J.x,std:J.std}))},[Xe,pe]),mt=$=>{const Y=$.length;if(Y===0)return[];const J=$.reduce((Ve,je)=>Ve+je,0)/Y,C=$.reduce((Ve,je)=>Ve+Math.pow(je-J,2),0)/(Y-1||1),ie=Math.sqrt(C);if(ie===0)return[{x:J-.001,density:0},{x:J,density:1},{x:J+.001,density:0}];const Pe=1.06*ie*Math.pow(Y,-.2),Ne=Math.min(...$),Ke=Math.max(...$),He=(Ke-Ne)*.2||Ne*.1,Fe=Math.max(0,Ne-He),Tt=Ke+He,ut=100,Wt=(Tt-Fe)/(ut-1),ar=Ve=>1/Math.sqrt(2*Math.PI)*Math.exp(-.5*Ve*Ve),ae=[];for(let Ve=0;Ve<ut;Ve++){const je=Fe+Ve*Wt;let $t=0;for(let yt=0;yt<Y;yt++)$t+=ar((je-$[yt])/Pe);$t/=Y*Pe,ae.push({x:je,density:$t})}return ae},Mi=O.useCallback(($,Y,J,C)=>{if($.length<5)return{gain:0,prnu:0};const ie=$[$.length-1].mean,Pe=ie*(J.min/100),Ne=ie*(J.max/100),Ke=$.filter(ft=>ft.mean>=Pe&&ft.mean<=Ne);if(Ke.length<5)return{gain:0,prnu:0};yr({nPoints:Ke.length});const He=Y*Y,Fe=[],Tt=[];if(Ke.forEach(ft=>{const Jr=ft.std*ft.std-He;if(ft.mean>1&&Jr>0){const xa=ft.mean,hl=Jr/ft.mean;Fe.push({x:xa,y:hl}),Tt.push(ft.mean/Jr)}}),Fe.length<5)return{gain:0,prnu:0};const ut=[],Wt=Fe.length,ar=C,ae=Wt*(Wt-1)/2;if(ae<=ar)for(let ft=0;ft<Wt;ft++)for(let dr=ft+1;dr<Wt;dr++){const Jr=Fe[dr].x-Fe[ft].x;Math.abs(Jr)>1e-5&&ut.push((Fe[dr].y-Fe[ft].y)/Jr)}else{const ft=Math.max(1,Math.floor(ae/ar));for(let dr=0;dr<Wt;dr++)for(let Jr=dr+1;Jr<Wt;Jr+=ft){const xa=Fe[Jr].x-Fe[dr].x;Math.abs(xa)>1e-5&&ut.push((Fe[Jr].y-Fe[dr].y)/xa)}}const Ve=n0(ut),je=Fe.map(ft=>ft.y-Ve*ft.x),$t=n0(je);let yt=0,zr=0;if($t>1e-6?yt=1/$t:yt=n0(Tt),Ve>0&&(zr=Math.sqrt(Ve)*100),Tt.length>0){const ft=mt(Tt);kn(ft),Fr(yt)}else kn([]);return{gain:yt,prnu:zr}},[]),Rn=O.useCallback($=>{let Y=$.read??vr.current.readNoise;const J=$.gRange??sr.current,C=cn.current;if(($.read!==void 0||$.gRange!==void 0)&&$.gain===void 0&&$.prnu===void 0&&oo.length>0&&Y>=0)w(!0),setTimeout(()=>{const Pe=Mi(oo,Y,J,C);let Ne=vr.current.gain,Ke=vr.current.prnu;Pe.gain>0&&(Ne=Pe.gain,Ke=Pe.prnu),Ge({readNoise:Y,gain:Ne,prnu:Ke}),$.gRange!==void 0&&fr($.gRange),un(He=>{var Fe,Tt;return{...He,read:Y.toString(),gain:Ne>0?Ne.toFixed(3):"0",prnu:Ke.toFixed(2),rangeMin:(((Fe=$.gRange)==null?void 0:Fe.min)??He.rangeMin).toString(),rangeMax:(((Tt=$.gRange)==null?void 0:Tt.max)??He.rangeMax).toString()}}),w(!1)},50);else{let Pe=$.gain!==void 0?$.gain:vr.current.gain,Ne=$.prnu!==void 0?$.prnu:vr.current.prnu;Ge({readNoise:Y,gain:Pe,prnu:Ne}),$.gRange!==void 0&&fr($.gRange),un(Ke=>{var He,Fe;return{...Ke,read:Y.toString(),gain:Pe>0?Pe.toFixed(3):"0",prnu:Ne.toFixed(2),rangeMin:(((He=$.gRange)==null?void 0:He.min)??Ke.rangeMin).toString(),rangeMax:(((Fe=$.gRange)==null?void 0:Fe.max)??Ke.rangeMax).toString()}})}},[oo,Mi]),zo=`${X}-${r.length}`;O.useEffect(()=>{if(!e||!r||r.length===0)return;const $=gt[pe];if(!$||$.length===0||lt===zo)return;j({R:pe==="R",G1:pe==="G1",G2:pe==="G2",B:pe==="B"});const Y=[...$].sort((Pe,Ne)=>Pe.x-Ne.x);let J=0;Y.length>0&&(J=Y[0].std);const C=Xe.filter(Pe=>Pe.channel===pe);let ie=-1/0;for(const Pe of C)Pe.x>ie&&(ie=Pe.x);ie!==-1/0&&ke(ie),Rn({read:J}),V(zo)},[e,r,lt,zo,gt,pe,Rn,Xe]);const $a=($,Y)=>{un(J=>({...J,[$]:Y}))},Wo=$=>{let Y=parseFloat(Et[$]);isNaN(Y)||Y<0||Rn({[$]:Y})},Hh=()=>{H(B),V("")},Uo=()=>{const $=parseFloat(Et.rangeMin),Y=parseFloat(Et.rangeMax);!isNaN($)&&!isNaN(Y)&&$<Y&&$>=0&&Y<=100&&Rn({gRange:{min:$,max:Y}})},Ln=($,Y)=>{$.key==="Enter"&&(Y==="rangeMin"||Y==="rangeMax"?Uo():Wo(Y),$.target.blur())};O.useEffect(()=>{oo.length>0&&Rn({})},[Mt,oo]);const Ci=$=>{j(Y=>({...Y,[$]:!Y[$]}))},du=()=>{y($=>$==="top3"?"default":"top3")},dl=()=>{x==="raw"?y("default"):b(!0)},hu=()=>{b(!1),y("raw")},pu=($,Y)=>{const J=parseFloat($),C=parseFloat(Y);let ie=isNaN(J)?"auto":J,Pe=isNaN(C)?"auto":C;return h&&typeof ie=="number"&&ie<=0&&(ie="auto"),[ie,Pe]},jn=$=>{if(!$||!$.payload)return;const Y=$.payload;if(v(Y),At.current&&(ke(Y.x),ue(!1)),ya.current){const J=sr.current.min,C=sr.current.max,{max:ie}=Qe();if(ie<=0)return;const Pe=Math.max(0,Math.min(100,Y.x/ie*100));if(Ft.current===1){const Ne=Math.min(Pe,C-.5);Rn({gRange:{min:Ne,max:C}}),be(2)}else if(Ft.current===2){const Ne=Math.max(Pe,J+.5);Rn({gRange:{min:J,max:Ne}}),be(0),K(!1)}}},Ei=O.useCallback($=>{const{cx:Y,cy:J,fill:C}=$;return u.jsx("circle",{cx:Y,cy:J,r:3,fill:C,stroke:"none",style:{cursor:"pointer"}})},[]),Vh=({active:$,payload:Y})=>{if($&&Y&&Y.length){const J=Y[0].payload;return u.jsxs("div",{className:"bg-slate-800 text-white text-xs p-2 rounded border border-slate-600 shadow-xl opacity-90 font-mono z-50",children:[u.jsx("div",{className:"font-bold border-b border-slate-600 pb-1 mb-1",children:J.channel}),u.jsxs("div",{children:["Signal: ",J.x.toFixed(2)]}),u.jsxs("div",{children:[f,": ",J.y.toFixed(4)]}),J.row!==void 0&&J.col!==void 0&&!isNaN(J.row)&&!isNaN(J.col)&&u.jsxs("div",{className:"text-cyan-400 mt-0.5",children:["Loc: Row ",J.row,", Col ",J.col]}),J.filename&&u.jsx("div",{className:"text-gray-400 mt-1 max-w-[200px] truncate",title:J.filename,children:J.filename})]})}return null},Ti=$=>{d($),$==="Linear"&&p(!1)};if(!e)return null;const gu=s==="dark"?"#ffffff":"#000000";let mu=f;f==="Linear"&&(mu="(Var - RN) / Mean");const Kh=B!==X;return u.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in",onClick:$=>{$.stopPropagation()},children:u.jsxs("div",{className:"bg-white dark:bg-slate-900 w-[98vw] max-w-[2200px] h-[95vh] rounded-2xl shadow-2xl flex flex-col border border-gray-200 dark:border-slate-700 overflow-hidden relative",onClick:$=>$.stopPropagation(),children:[u.jsx(bs,{isOpen:g,onClose:()=>b(!1),onConfirm:hu,title:"Warning: High Performance Cost",message:"Displaying all data points may cause the browser to freeze or become unresponsive, especially with large datasets. Are you sure you want to continue?",confirmText:"Yes, Show All"}),m&&u.jsxs("div",{className:"absolute top-20 right-8 z-30 bg-white/90 dark:bg-slate-800/90 border border-cyan-500 rounded-xl p-4 shadow-xl backdrop-blur-md max-w-xs animate-in fade-in zoom-in-95 duration-200",children:[u.jsxs("div",{className:"flex justify-between items-start mb-2 border-b border-gray-200 dark:border-slate-700 pb-2",children:[u.jsx("h4",{className:"font-bold text-gray-900 dark:text-white text-sm",children:"Selected Point"}),u.jsx("button",{onClick:()=>v(null),className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsx("div",{className:"space-y-1 text-xs font-mono text-gray-700 dark:text-slate-300",children:u.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1.5",children:[u.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"Channel:"}),u.jsx("span",{className:"font-bold",children:m.channel}),u.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"Signal (DN):"}),u.jsx("span",{children:m.x.toFixed(4)}),u.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"Noise (Std):"}),u.jsx("span",{children:m.std.toFixed(4)}),u.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"SNR:"}),u.jsx("span",{className:"text-purple-600 dark:text-purple-400 font-bold",children:(m.x/m.std).toFixed(2)})]})})]}),fn&&u.jsx("div",{className:"absolute inset-0 z-40 bg-white/95 dark:bg-slate-900/95 backdrop-blur-sm flex flex-col items-center justify-center p-8 animate-in fade-in zoom-in-95 duration-200",children:u.jsxs("div",{className:"w-full max-w-2xl h-[60vh] bg-gray-50 dark:bg-slate-800 rounded-xl border border-gray-200 dark:border-slate-700 shadow-2xl p-4 flex flex-col relative",children:[u.jsx("button",{onClick:()=>ea(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-red-500 transition-colors",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),u.jsxs("div",{className:"mb-4 text-center",children:[u.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-slate-200",children:"Gain Density Estimation"}),u.jsxs("p",{className:"text-xs text-gray-500 dark:text-slate-400",children:["HSM Mode: ",u.jsx("span",{className:"text-cyan-600 dark:text-cyan-400 font-bold",children:xr==null?void 0:xr.toFixed(4)}),u.jsx("span",{className:"mx-2",children:"|"}),"Data Points: ",Dn.length>0?"Density Curve Generated":"No Data"]})]}),u.jsx("div",{className:"flex-1 min-h-0",children:Dn.length>0?u.jsx(Ps,{width:"100%",height:"100%",children:u.jsxs(R_,{data:Dn,margin:{top:10,right:30,left:0,bottom:20},children:[u.jsx(ki,{strokeDasharray:"3 3",stroke:"#374151",opacity:.3,vertical:!1}),u.jsx(pa,{dataKey:"x",tickFormatter:$=>$.toFixed(2),tick:{fill:"#9ca3af",fontSize:10},label:{value:"Gain (e/ADU)",position:"insideBottom",offset:-15,fill:"#9ca3af",fontSize:12}}),u.jsx(ga,{tick:{fill:"#9ca3af",fontSize:10}}),u.jsx(nn,{cursor:{stroke:"rgba(255,255,255,0.2)"},contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"0.5rem",color:"#f3f4f6"}}),u.jsx(Vn,{type:"monotone",dataKey:"density",stroke:"#0ea5e9",fill:"#0ea5e9",fillOpacity:.3,strokeWidth:2}),xr!==null&&u.jsx(ni,{x:xr,stroke:"#ef4444",strokeWidth:2,label:{value:"HSM",fill:"#ef4444",fontSize:10,position:"top"}})]})}):u.jsx("div",{className:"flex items-center justify-center h-full text-gray-400",children:"No data in selected range"})})]})}),u.jsxs("div",{className:"flex flex-wrap justify-between items-center p-3 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50 gap-4 flex-shrink-0",children:[u.jsxs("h2",{className:"text-lg font-bold text-gray-900 dark:text-slate-100 flex items-center gap-2",children:["Photon Transfer Curve",u.jsxs("span",{className:"text-xs font-normal bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-300 px-2 py-0.5 rounded border border-purple-200 dark:border-purple-800",children:[r.length," Pts"]})]}),u.jsxs("div",{className:"flex gap-4 items-center flex-wrap",children:[u.jsxs("button",{onClick:va,className:"bg-green-600 hover:bg-green-500 text-white font-bold py-1 px-3 rounded text-xs shadow-md transition-all active:scale-95 flex items-center gap-1",title:"Render all points, target lines, and metadata to a high-res JPG",children:[u.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Export Complete Result"]}),u.jsxs("div",{className:"flex bg-white dark:bg-slate-700 rounded-lg p-1 border border-gray-200 dark:border-slate-600",children:[u.jsx("button",{onClick:()=>Ti("Noise"),className:`px-3 py-1 text-xs font-bold rounded transition-colors ${f==="Noise"?"bg-cyan-600 text-white shadow":"text-gray-600 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-600"}`,children:"Noise ()"}),u.jsx("button",{onClick:()=>Ti("SNR"),className:`px-3 py-1 text-xs font-bold rounded transition-colors ${f==="SNR"?"bg-purple-600 text-white shadow":"text-gray-600 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-600"}`,children:"SNR"}),u.jsx("button",{onClick:()=>Ti("Linear"),className:`px-3 py-1 text-xs font-bold rounded transition-colors ${f==="Linear"?"bg-indigo-600 text-white shadow":"text-gray-600 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-600"}`,children:"Linear (PTC)"})]}),u.jsxs("label",{className:"flex items-center gap-2 text-xs text-gray-600 dark:text-slate-300 cursor-pointer select-none",children:[u.jsx("input",{type:"checkbox",checked:h,onChange:$=>p($.target.checked),className:"rounded border-gray-300 text-cyan-600 focus:ring-cyan-500 bg-gray-100 dark:bg-slate-700 dark:border-slate-600"}),"Log-Log"]}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 transition-colors p-1",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-0 border-b border-gray-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-sm flex-shrink-0",children:[u.jsxs("div",{className:"lg:col-span-9 p-5 flex flex-col gap-5 border-r border-gray-200 dark:border-slate-700",children:[u.jsxs("div",{className:"flex flex-wrap gap-4 items-center justify-between text-xs",children:[u.jsxs("div",{className:"flex gap-4 items-center",children:[u.jsxs("div",{className:"flex items-center gap-1.5 bg-gray-50 dark:bg-slate-800 rounded-md p-1 border border-gray-200 dark:border-slate-700",children:[u.jsx("span",{className:"font-bold text-gray-500 dark:text-slate-400 pl-1",children:"X:"}),u.jsx("input",{type:"number",placeholder:"Min",value:P,onChange:$=>_($.target.value),className:"w-12 px-1 py-0.5 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center outline-none"}),u.jsx("span",{className:"text-gray-400",children:"-"}),u.jsx("input",{type:"number",placeholder:"Max",value:A,onChange:$=>N($.target.value),className:"w-12 px-1 py-0.5 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center outline-none"})]}),u.jsxs("div",{className:"flex items-center gap-1.5 bg-gray-50 dark:bg-slate-800 rounded-md p-1 border border-gray-200 dark:border-slate-700",children:[u.jsx("span",{className:"font-bold text-gray-500 dark:text-slate-400 pl-1",children:"Y:"}),u.jsx("input",{type:"number",placeholder:"Min",value:E,onChange:$=>z($.target.value),className:"w-12 px-1 py-0.5 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center outline-none"}),u.jsx("span",{className:"text-gray-400",children:"-"}),u.jsx("input",{type:"number",placeholder:"Max",value:D,onChange:$=>T($.target.value),className:"w-12 px-1 py-0.5 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center outline-none"})]}),u.jsx("button",{onClick:()=>{_(""),N(""),z(""),T("")},className:"text-xs text-cyan-600 dark:text-cyan-400 hover:underline",children:"Auto"})]}),u.jsxs("div",{className:"flex items-center gap-1 bg-white dark:bg-slate-700 p-1 rounded-lg border border-gray-200 dark:border-slate-600",children:[u.jsx("button",{onClick:()=>Ci("R"),className:`w-6 h-6 text-[10px] font-bold rounded flex items-center justify-center transition-colors ${k.R?"bg-red-500 text-white":"bg-gray-100 dark:bg-slate-600 text-gray-400"}`,children:"R"}),u.jsx("button",{onClick:()=>Ci("G1"),className:`w-6 h-6 text-[10px] font-bold rounded flex items-center justify-center transition-colors ${k.G1?"bg-green-500 text-white":"bg-gray-100 dark:bg-slate-600 text-gray-400"}`,children:"G1"}),u.jsx("button",{onClick:()=>Ci("G2"),className:`w-6 h-6 text-[10px] font-bold rounded flex items-center justify-center transition-colors ${k.G2?"bg-green-400 text-white":"bg-gray-100 dark:bg-slate-600 text-gray-400"}`,children:"G2"}),u.jsx("button",{onClick:()=>Ci("B"),className:`w-6 h-6 text-[10px] font-bold rounded flex items-center justify-center transition-colors ${k.B?"bg-blue-500 text-white":"bg-gray-100 dark:bg-slate-600 text-gray-400"}`,children:"B"})]})]}),u.jsxs("div",{className:"flex flex-wrap items-end gap-8",children:[u.jsxs("div",{className:"flex flex-col bg-gray-50 dark:bg-slate-800/50 p-2 rounded border border-gray-100 dark:border-slate-700",children:[u.jsx("span",{className:"text-[9px] uppercase font-bold text-gray-500 dark:text-slate-400 mb-1",children:"Black Level (0,0 0,1 1,0 1,1)"}),u.jsx("input",{type:"text",value:B,onChange:$=>te($.target.value),className:"w-32 text-xs px-2 py-1 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded outline-none focus:border-cyan-500 font-mono",placeholder:"0 0 0 0"})]}),u.jsxs("div",{className:"flex flex-col justify-between bg-gray-50 dark:bg-slate-800/50 p-2 rounded border border-gray-100 dark:border-slate-700",children:[u.jsxs("div",{className:"flex justify-between items-center mb-1",children:[u.jsx("span",{className:"text-[9px] uppercase font-bold text-gray-500 dark:text-slate-400 mr-2",children:"Fit Range % (Robust)"}),u.jsx("button",{onClick:()=>{K(!we),be(we?0:1)},className:`px-1.5 py-0.5 text-[9px] rounded border transition-colors ${we?"bg-cyan-100 text-cyan-700 border-cyan-300 animate-pulse":"bg-white dark:bg-slate-700 border-gray-300 dark:border-slate-600 text-gray-600 dark:text-slate-300 hover:bg-gray-50"}`,children:we?ce===1?"Pick Min":"Pick Max":"Select"})]}),u.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[u.jsx("input",{type:"number",step:"0.1",value:Et.rangeMin,onChange:$=>$a("rangeMin",$.target.value),onBlur:Uo,onKeyDown:$=>Ln($,"rangeMin"),className:"w-10 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-1 py-0.5 text-center font-bold"}),u.jsx("span",{className:"text-gray-400",children:"-"}),u.jsx("input",{type:"number",step:"0.1",value:Et.rangeMax,onChange:$=>$a("rangeMax",$.target.value),onBlur:Uo,onKeyDown:$=>Ln($,"rangeMax"),className:"w-10 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-1 py-0.5 text-center font-bold"})]})]}),u.jsxs("div",{className:"flex flex-col bg-indigo-50 dark:bg-indigo-900/20 p-2 rounded border border-indigo-100 dark:border-indigo-800/50",children:[u.jsx("span",{className:"text-[9px] uppercase font-bold text-indigo-600 dark:text-indigo-400 mb-1",children:"DR Params"}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("span",{className:"text-[10px] font-bold text-indigo-500 dark:text-indigo-300",children:"Img H:"}),u.jsx("input",{type:"number",value:I,onChange:$=>R($.target.value),onKeyDown:ct,placeholder:"Empty",className:"w-14 px-1 py-0.5 bg-white dark:bg-slate-900 border border-indigo-200 dark:border-indigo-800 rounded text-center font-bold text-indigo-700 dark:text-indigo-300 text-xs placeholder:font-normal placeholder:text-gray-300"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("span",{className:"text-[10px] font-bold text-indigo-500 dark:text-indigo-300",children:"Tgt SNR:"}),u.jsx("input",{type:"number",value:L,onChange:$=>W($.target.value),className:"w-10 px-1 py-0.5 bg-white dark:bg-slate-900 border border-indigo-200 dark:border-indigo-800 rounded text-center font-bold text-indigo-700 dark:text-indigo-300 text-xs"})]})]})]}),u.jsxs("div",{className:"flex flex-col gap-1 text-[10px] justify-end pb-0.5",children:[u.jsx("button",{onClick:()=>{ue(!U),fe&&ke(null)},disabled:we,className:`font-bold rounded border shadow-sm transition-all px-3 py-1.5 ${U?"bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-400 border-amber-500 animate-pulse":"bg-white dark:bg-slate-800 text-gray-600 dark:text-slate-300 border-gray-300 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:U?"Pick Point":"Select Linear Limit"}),u.jsxs("div",{className:"flex gap-1",children:[u.jsx("button",{onClick:du,className:`flex-1 font-bold rounded border shadow-sm transition-all px-2 py-1 ${x==="top3"?"bg-indigo-600 text-white border-indigo-700":"bg-white dark:bg-slate-800 text-gray-600 dark:text-slate-300 border-gray-300 dark:border-slate-600 hover:bg-gray-50"}`,children:"Top 3%"}),u.jsx("button",{onClick:dl,className:`font-bold rounded border shadow-sm transition-all px-2 py-1 ${x==="raw"?"bg-red-600 text-white border-red-700":"text-red-500 border-red-200 hover:bg-red-50"}`,children:"All"})]})]})]}),u.jsxs("div",{className:"flex flex-wrap gap-4 items-center bg-gray-50/50 dark:bg-slate-800/20 p-2 rounded-lg border border-gray-100 dark:border-slate-800",children:[u.jsx("span",{className:"text-[10px] uppercase font-bold text-gray-400 dark:text-slate-500",children:"Metadata"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"text",value:Bt,onChange:$=>Er($.target.value),placeholder:"Tester Name",className:"w-24 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-gray-700 dark:text-slate-300 outline-none focus:border-cyan-500 transition-colors"}),u.jsx("input",{type:"text",value:nt,onChange:$=>rr($.target.value),placeholder:"Camera Model",className:"w-32 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-gray-700 dark:text-slate-300 outline-none focus:border-cyan-500 transition-colors"}),u.jsx("input",{type:"text",value:Pt,onChange:$=>Zr($.target.value),placeholder:"ISO",className:"w-16 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-gray-700 dark:text-slate-300 outline-none focus:border-cyan-500 transition-colors"})]})]}),u.jsxs("div",{className:"flex flex-wrap gap-4 items-center bg-fuchsia-50/50 dark:bg-fuchsia-900/10 p-2 rounded-lg border border-fuchsia-100 dark:border-fuchsia-900/30",children:[u.jsx("span",{className:"text-[10px] uppercase font-bold text-fuchsia-500 dark:text-fuchsia-400",children:"Markers"}),u.jsxs("div",{className:"flex gap-2 items-center",children:[u.jsx("input",{type:"number",value:Oe,onChange:$=>Ie($.target.value),placeholder:"X (Signal)",className:"w-20 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 outline-none focus:border-fuchsia-500 transition-colors"}),u.jsx("input",{type:"number",value:qe,onChange:$=>bt($.target.value),placeholder:"Y (Value)",className:"w-20 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 outline-none focus:border-fuchsia-500 transition-colors"}),u.jsx("button",{onClick:Zt,className:"px-3 py-1 bg-fuchsia-600 hover:bg-fuchsia-500 text-white text-xs font-bold rounded shadow-sm transition-colors active:scale-95",children:"+"}),Q.length>0&&u.jsx("button",{onClick:()=>We([]),className:"px-2 py-1 bg-gray-200 dark:bg-slate-700 hover:bg-red-500 hover:text-white text-gray-600 dark:text-slate-300 text-xs font-bold rounded shadow-sm transition-colors active:scale-95",children:"Clr"})]}),u.jsxs("div",{className:"text-[10px] text-gray-400 dark:text-slate-500 font-mono",children:[Q.length," pts"]})]}),u.jsxs("div",{className:"flex gap-4 text-[10px] pt-1 justify-center sm:justify-start flex-wrap",children:[u.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[u.jsx("input",{type:"checkbox",checked:ht.shot,onChange:$=>Br({...ht,shot:$.target.checked}),className:"rounded text-gray-500"})," ",u.jsx("span",{className:"text-gray-500",children:"Shot Noise"})]}),u.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[u.jsx("input",{type:"checkbox",checked:ht.read,onChange:$=>Br({...ht,read:$.target.checked}),className:"rounded text-rose-500"})," ",u.jsx("span",{className:"text-rose-500",children:"Read Noise"})]}),u.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[u.jsx("input",{type:"checkbox",checked:ht.prnu,onChange:$=>Br({...ht,prnu:$.target.checked}),className:"rounded text-amber-500"})," ",u.jsx("span",{className:"text-amber-500",children:"PRNU"})]}),u.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[u.jsx("input",{type:"checkbox",checked:ht.total,onChange:$=>Br({...ht,total:$.target.checked}),className:"rounded text-white"})," ",u.jsx("span",{className:"text-gray-900 dark:text-white font-bold",children:"Model"})]})]})]}),u.jsxs("div",{className:"lg:col-span-3 bg-slate-100 dark:bg-slate-800 p-4 flex flex-col justify-center gap-4",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between items-center mb-1 px-1",children:[u.jsxs("h3",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase flex items-center gap-2",children:["Fit Parameters (D55 SAT Channel:",pe,")",S&&u.jsx("span",{className:"text-orange-500 animate-pulse text-[10px]",children:"Calculating..."})]}),u.jsxs("div",{className:"flex gap-2 items-center",children:[u.jsx("button",{onClick:Hh,disabled:S,className:`px-3 py-1 text-white text-[10px] font-bold rounded shadow-sm transition-all flex items-center gap-1 active:scale-95 
                                            ${S?"bg-gray-400 cursor-wait":Kh?"bg-orange-500 hover:bg-orange-600 animate-pulse ring-2 ring-orange-400/50":"bg-cyan-600 hover:bg-cyan-500"}
                                        `,title:"Apply Black Level, Auto-detect Read Noise, then Recalculate Fit",children:S?u.jsxs(u.Fragment,{children:[u.jsxs("svg",{className:"w-3 h-3 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Fitting..."]}):u.jsxs(u.Fragment,{children:[u.jsxs("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),"Apply & Calc"]})}),u.jsxs("select",{value:Mt,onChange:$=>Ct(Number($.target.value)),className:"text-[9px] bg-slate-200 dark:bg-slate-700 text-gray-600 dark:text-slate-300 rounded px-1 py-0.5 border-none outline-none cursor-pointer hover:bg-slate-300 dark:hover:bg-slate-600 transition-colors",title:"Number of point-pairs to sample for robust regression (Theil-Sen)",children:[u.jsx("option",{value:1e5,children:"100k Pairs"}),u.jsx("option",{value:5e5,children:"500k Pairs"}),u.jsx("option",{value:2e6,children:"2M Pairs"}),u.jsx("option",{value:5e6,children:"5M Pairs"}),u.jsx("option",{value:1e7,children:"10M Pairs"})]}),ur&&u.jsxs("span",{className:"text-[10px] text-gray-400 dark:text-slate-500 font-mono",title:"Number of points used in regression",children:["N=",ur.nPoints]})]})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("label",{className:"text-[10px] text-gray-500 dark:text-slate-400 uppercase tracking-wide mb-1",children:"rn/fpn"}),u.jsx("input",{type:"text",inputMode:"decimal",value:Et.read,onChange:$=>$a("read",$.target.value),onBlur:()=>Wo("read"),onKeyDown:$=>Ln($,"read"),className:"w-full text-center text-2xl font-light bg-transparent text-rose-500 outline-none border-b border-transparent focus:border-rose-500 transition-colors"})]}),u.jsxs("div",{className:"flex flex-col items-center relative group",children:[u.jsxs("label",{className:"text-[10px] text-gray-500 dark:text-slate-400 uppercase tracking-wide mb-1 flex items-center gap-1",children:["Kadc (HSM)",u.jsx("button",{onClick:()=>ea(!0),className:"text-[9px] text-cyan-600 dark:text-cyan-400 hover:underline",children:"Dist."})]}),u.jsx("input",{type:"text",inputMode:"decimal",value:Et.gain,onChange:$=>$a("gain",$.target.value),onBlur:()=>Wo("gain"),onKeyDown:$=>Ln($,"gain"),className:"w-full text-center text-2xl font-light bg-transparent text-slate-700 dark:text-slate-200 outline-none border-b border-transparent focus:border-cyan-500 transition-colors"})]}),u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("label",{className:"text-[10px] text-gray-500 dark:text-slate-400 uppercase tracking-wide mb-1",children:"PRNU (%)"}),u.jsx("input",{type:"text",inputMode:"decimal",value:Et.prnu,onChange:$=>$a("prnu",$.target.value),onBlur:()=>Wo("prnu"),onKeyDown:$=>Ln($,"prnu"),className:"w-full text-center text-2xl font-light bg-transparent text-amber-500 outline-none border-b border-transparent focus:border-amber-500 transition-colors"})]})]})]}),u.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 w-full"}),u.jsxs("div",{className:"grid grid-cols-2 gap-2 text-center",children:[u.jsxs("div",{className:"flex flex-col justify-center bg-cyan-50 dark:bg-cyan-900/10 p-2 rounded-lg border border-cyan-100 dark:border-cyan-900/30",children:[u.jsxs("h4",{className:"text-[10px] font-bold text-cyan-600 dark:text-cyan-500 uppercase tracking-wide mb-1 truncate",title:`Manual DR at SNR=${(ye==null?void 0:ye.manualTarget)||L}`,children:["M.DR @ SNR=",(ye==null?void 0:ye.manualTarget)||L]}),u.jsx("div",{className:"text-base font-bold text-cyan-700 dark:text-cyan-400 whitespace-nowrap",children:ye!=null&&ye.manualDR?`${ye.manualDR.toFixed(2)} EV`:"--"})]}),u.jsxs("div",{className:"flex flex-col justify-center bg-emerald-50 dark:bg-emerald-900/10 p-2 rounded-lg border border-emerald-100 dark:border-emerald-900/30",title:isNaN((ye==null?void 0:ye.ptpTarget)||NaN)?"Requires Image Height":`Standard Point-to-Point DR (Target SNR = 16000/${I||"H"})`,children:[u.jsx("h4",{className:"text-[10px] font-bold text-emerald-600 dark:text-emerald-500 uppercase tracking-wide mb-1",children:"PTP DR"}),u.jsx("div",{className:"text-base font-bold text-emerald-700 dark:text-emerald-400 whitespace-nowrap",children:ye!=null&&ye.ptpDR?`${ye.ptpDR.toFixed(2)} EV`:"--"})]}),u.jsxs("div",{className:"flex flex-col justify-center bg-purple-50 dark:bg-purple-900/10 p-2 rounded-lg border border-purple-100 dark:border-purple-900/30",title:isNaN((ye==null?void 0:ye.ptpTarget)||NaN)?"Requires Image Height":`D55 Saturation DR (Target SNR = 16000/${I||"H"} on ${ye==null?void 0:ye.dominantChannel} Channel)`,children:[u.jsxs("h4",{className:"text-[10px] font-bold text-purple-600 dark:text-purple-400 uppercase tracking-wide mb-1 truncate",children:["D55 DR (",ye==null?void 0:ye.dominantChannel,")"]}),u.jsx("div",{className:"text-base font-bold text-purple-700 dark:text-purple-400 whitespace-nowrap",children:ye!=null&&ye.d55DR?`${ye.d55DR.toFixed(2)} EV`:"--"})]}),u.jsxs("div",{className:"flex flex-col justify-center bg-orange-50 dark:bg-orange-900/10 p-2 rounded-lg border border-orange-100 dark:border-orange-900/30",children:[u.jsx("h4",{className:"text-[10px] font-bold text-orange-600 dark:text-orange-400 uppercase tracking-wide mb-1",children:"FWC"}),u.jsx("div",{className:"text-base font-bold text-orange-600 dark:text-orange-400 font-mono whitespace-nowrap truncate",title:zt!==null?`${Math.round(zt)}`:"",children:zt!==null?zt>1e4?`${(zt/1e3).toFixed(1)}k`:`${Math.round(zt)}`:"--"})]})]}),fe===null&&u.jsx("div",{className:"text-center text-[10px] text-red-500 animate-pulse font-bold mt-[-10px]",children:"Please select Linear Limit on chart to calc DR"})]})]}),u.jsxs("div",{className:`flex-1 p-4 bg-white dark:bg-slate-900 relative grid grid-cols-[auto_1fr] grid-rows-[1fr_auto] gap-2 ${U||we?"cursor-crosshair":""}`,children:[u.jsx("div",{className:"row-start-1 col-start-1 h-full",children:u.jsx(B2,{vertical:!0,min:Ht,max:at,value:[E?parseFloat(E):Ht,D?parseFloat(D):at],onChange:([$,Y])=>{z($.toString()),T(Y.toString())},logScale:h})}),u.jsxs("div",{className:"row-start-1 col-start-2 relative",children:[Z.length===0?u.jsx("div",{className:"flex h-full items-center justify-center text-gray-400",children:"No valid data points found."}):u.jsx(Ps,{width:"100%",height:"100%",children:u.jsxs(UQ,{margin:{top:20,right:20,bottom:0,left:0},onClick:jn,children:[u.jsx("defs",{children:u.jsxs("filter",{id:"glow",height:"300%",width:"300%",x:"-100%",y:"-100%",children:[u.jsx("feGaussianBlur",{stdDeviation:"2",result:"coloredBlur"}),u.jsxs("feMerge",{children:[u.jsx("feMergeNode",{in:"coloredBlur"}),u.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),u.jsx(ki,{strokeDasharray:"3 3",stroke:"#374151",opacity:.2}),u.jsx(pa,{type:"number",dataKey:"x",name:"Signal",scale:h?"log":"linear",domain:pu(P,A),allowDataOverflow:!0,hide:!0}),u.jsx(ga,{type:"number",dataKey:"y",name:f,scale:h?"log":"linear",domain:pu(E,D),label:{value:mu,angle:-90,position:"insideLeft",fill:"#9ca3af",fontSize:12},tick:{fill:"#9ca3af",fontSize:10},allowDataOverflow:!0}),u.jsx(nn,{content:u.jsx(Vh,{}),cursor:{strokeDasharray:"3 3"}}),fe&&u.jsx(ni,{x:fe,stroke:"red",strokeDasharray:"3 3",label:{position:"top",value:"Sat",fill:"red",fontSize:10}}),(ht.fitRange||we)&&u.jsxs(u.Fragment,{children:[u.jsx(ni,{x:Re,stroke:"#22d3ee",strokeDasharray:"5 5",label:{position:"insideTopLeft",value:`Min: ${nr.min}%`,fill:"#22d3ee",fontSize:9}}),u.jsx(ni,{x:tt,stroke:"#22d3ee",strokeDasharray:"5 5",label:{position:"insideTopLeft",value:`Max: ${nr.max}%`,fill:"#22d3ee",fontSize:9}})]}),k.R&&u.jsx(tn,{name:"Red",data:gt.R,fill:"#ef4444",shape:Ei,onClick:jn,style:s==="dark"?{filter:"url(#glow)"}:void 0},"scatter-R"),k.G1&&u.jsx(tn,{name:"Green 1",data:gt.G1,fill:"#22c55e",shape:Ei,onClick:jn,style:s==="dark"?{filter:"url(#glow)"}:void 0},"scatter-G1"),k.G2&&u.jsx(tn,{name:"Green 2",data:gt.G2,fill:"#4ade80",shape:Ei,onClick:jn,style:s==="dark"?{filter:"url(#glow)"}:void 0},"scatter-G2"),k.B&&u.jsx(tn,{name:"Blue",data:gt.B,fill:"#3b82f6",shape:Ei,onClick:jn,style:s==="dark"?{filter:"url(#glow)"}:void 0},"scatter-B"),ht.shot&&Ze.shot.length>0&&u.jsx(tn,{name:"Shot Noise (Ideal)",data:Ze.shot,line:{stroke:"#94a3b8",strokeWidth:1,strokeDasharray:"5 5"},shape:()=>u.jsx(u.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-shot"),ht.read&&Ze.read.length>0&&u.jsx(tn,{name:"Read Noise Floor",data:Ze.read,line:{stroke:"#f43f5e",strokeWidth:1,strokeDasharray:"3 3"},shape:()=>u.jsx(u.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-read"),ht.prnu&&Ze.prnu.length>0&&u.jsx(tn,{name:"PRNU (Non-uniformity)",data:Ze.prnu,line:{stroke:"#f59e0b",strokeWidth:1,strokeDasharray:"3 3"},shape:()=>u.jsx(u.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-prnu"),ht.total&&Ze.total.length>0&&u.jsx(tn,{name:"Total Noise Model",data:Ze.total,line:{stroke:gu,strokeWidth:2},shape:()=>u.jsx(u.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-total"),rt.length>0&&u.jsx(tn,{name:`Target SNR=${L}`,data:rt,line:{stroke:"#6366f1",strokeWidth:2,strokeDasharray:"4 2"},shape:()=>u.jsx(u.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-target"),Sn.length>0&&u.jsx(tn,{name:`PTP Target SNR=${ye!=null&&ye.ptpTarget?ye.ptpTarget.toFixed(1):"?"}`,data:Sn,line:{stroke:"#10b981",strokeWidth:2,strokeDasharray:"4 4"},shape:()=>u.jsx(u.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-ptp"),Q.length>0&&u.jsx(tn,{name:"Manual Markers",data:Q,fill:"#d946ef",shape:"star",legendType:"star"},"manual-points")]})}),u.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 pointer-events-none select-none opacity-25 mix-blend-normal dark:mix-blend-plus-lighter",children:u.jsx("svg",{viewBox:"0 0 500 60",className:"w-96 h-auto",children:u.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"36",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})})]}),u.jsx("div",{className:"row-start-2 col-start-2 w-full",children:u.jsx(B2,{min:Be,max:Ce,value:[P?parseFloat(P):Be,A?parseFloat(A):Ce],onChange:([$,Y])=>{_($.toString()),N(Y.toString())},logScale:h})})]})]})})},yZ=({searchTerm:e,onSearchChange:t,manufacturers:r,selectedManufacturer:n,onManufacturerChange:a,cameras:o,onCameraSelect:i})=>u.jsx("div",{className:"sticky top-4 z-10 bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm p-4 rounded-xl border border-gray-200 dark:border-slate-700 shadow-sm",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[u.jsxs("div",{className:"relative md:col-span-3",children:[u.jsx("input",{type:"text",placeholder:"Search camera model...",value:e,onChange:s=>t(s.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none transition-all duration-300 text-gray-900 dark:text-slate-200 placeholder-gray-500 dark:placeholder-slate-400"}),u.jsx("svg",{className:"w-5 h-5 text-gray-400 dark:text-slate-400 absolute top-1/2 left-3 transform -translate-y-1/2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),u.jsx("select",{value:n,onChange:s=>a(s.target.value),className:"w-full md:col-span-1 bg-gray-50 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg px-4 py-2 focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none transition-all duration-300 appearance-none text-gray-900 dark:text-slate-200",children:r.map(s=>u.jsx("option",{value:s,children:s},s))}),u.jsxs("select",{onChange:s=>i(s.target.value),className:"w-full md:col-span-1 bg-gray-50 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg px-4 py-2 focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none transition-all duration-300 appearance-none text-gray-900 dark:text-slate-200",value:"","aria-label":"Jump to camera model",children:[u.jsx("option",{value:"",disabled:!0,children:"Jump to model..."}),o.map(s=>u.jsx("option",{value:s.id,children:s.name},s.id))]})]})}),vZ=({active:e,payload:t,label:r,theme:n})=>{if(e&&t&&t.length){const a=t[0].payload,o=n==="dark"?"bg-slate-800/80 border-slate-600 text-slate-300":"bg-white/90 border-gray-200 text-gray-700";return u.jsxs("div",{className:`${o} backdrop-blur-sm border p-3 rounded-lg shadow-lg`,children:[u.jsx("p",{className:"label font-bold",children:`ISO ${r}`}),u.jsx("div",{className:"mt-2 space-y-1 text-sm",children:u.jsxs(u.Fragment,{children:[u.jsxs("div",{style:{color:"#f87171"},children:["Red: ",a.R_avg.toFixed(2)," (Range: ",a.R_range[0]," - ",a.R_range[1],")"]}),u.jsxs("div",{style:{color:"#4ade80"},children:["Green 1: ",a.G1_avg.toFixed(2)," (Range: ",a.G1_range[0]," - ",a.G1_range[1],")"]}),u.jsxs("div",{style:{color:"#60a5fa"},children:["Blue: ",a.B_avg.toFixed(2)," (Range: ",a.B_range[0]," - ",a.B_range[1],")"]}),u.jsxs("div",{style:{color:"#86efac"},children:["Green 2: ",a.G2_avg.toFixed(2)," (Range: ",a.G2_range[0]," - ",a.G2_range[1],")"]})]})})]})}return null},xZ=({data:e,theme:t="dark"})=>{const r=O.useMemo(()=>!e||e.length===0?[]:[...new Set(e.map(i=>i.iso))].sort((i,s)=>Number(i)-Number(s)),[e]),n=O.useMemo(()=>{if(!e||e.length===0)return[0,4096];const i=e.flatMap(m=>[...m.R_range,...m.G1_range,...m.G2_range,...m.B_range]);if(i.length===0)return[0,4096];let s=Math.min(...i),l=Math.max(...i);const c=.25,f=l-s;if(f<c){const m=c-f;s-=m/2,l+=m/2}const d=(l-s)*.1,h=s-d,p=l+d;return[h,p]},[e]),a=t==="dark"?"#475569":"#e5e7eb",o=t==="dark"?"#94a3b8":"#6b7280";return!e||e.length===0?u.jsx("div",{className:"flex items-center justify-center h-full text-gray-500 dark:text-slate-500",children:u.jsx("p",{children:"No data available for this mode."})}):u.jsx(Ps,{width:"100%",height:"100%",children:u.jsxs(R_,{data:e,margin:{top:5,right:20,left:0,bottom:5},children:[u.jsx(ki,{strokeDasharray:"3 3",stroke:a}),u.jsx(pa,{dataKey:"iso",type:"number",domain:["dataMin","dataMax"],tick:{fill:o,fontSize:12},scale:"log",allowDuplicatedCategory:!1,ticks:r}),u.jsx(ga,{tick:{fill:o,fontSize:12},domain:n,allowDecimals:!0,tickFormatter:i=>Number(i).toFixed(3)}),u.jsx(nn,{content:u.jsx(vZ,{theme:t})}),u.jsx(Va,{wrapperStyle:{fontSize:"14px",color:o}}),u.jsx(Vn,{type:"monotone",dataKey:"R_range",fill:"#f87171",stroke:"none",fillOpacity:.2,name:"Red",legendType:"none"}),u.jsx(qr,{type:"monotone",dataKey:"R_avg",stroke:"#f87171",strokeWidth:2,dot:!1,activeDot:{r:5},name:"Red"}),u.jsx(Vn,{type:"monotone",dataKey:"G1_range",fill:"#4ade80",stroke:"none",fillOpacity:.2,name:"Green 1",legendType:"none"}),u.jsx(qr,{type:"monotone",dataKey:"G1_avg",stroke:"#4ade80",strokeWidth:2,dot:!1,activeDot:{r:5},name:"Green 1"}),u.jsx(Vn,{type:"monotone",dataKey:"B_range",fill:"#60a5fa",stroke:"none",fillOpacity:.2,name:"Blue",legendType:"none"}),u.jsx(qr,{type:"monotone",dataKey:"B_avg",stroke:"#60a5fa",strokeWidth:2,dot:!1,activeDot:{r:5},name:"Blue"}),u.jsx(Vn,{type:"monotone",dataKey:"G2_range",fill:"#86efac",stroke:"none",fillOpacity:.2,name:"Green 2",legendType:"none"}),u.jsx(qr,{type:"monotone",dataKey:"G2_avg",stroke:"#86efac",strokeWidth:2,dot:!1,activeDot:{r:5},name:"Green 2"})]})})},bZ=M.forwardRef(({camera:e,theme:t="dark"},r)=>{const n=O.useMemo(()=>e.shootingModes.map(d=>d.modeName),[e.shootingModes]),[a,o]=O.useState(n[0]||""),{chartData:i,tableData:s}=O.useMemo(()=>{const d=e.shootingModes.find(m=>m.modeName===a);if(!(d!=null&&d.data))return{chartData:[],tableData:[]};const h=d.data.map(m=>({iso:m.iso,R_range:m.r.range,R_avg:m.r.avg,G1_range:m.g1.range,G1_avg:m.g1.avg,B_range:m.b.range,B_avg:m.b.avg,G2_range:m.g2.range,G2_avg:m.g2.avg})),p=d.data.map(m=>({iso:m.iso,levels:[m.r.avg,m.g1.avg,m.g2.avg,m.b.avg],clipping:m.clipping}));return{chartData:h,tableData:p}},[e.shootingModes,a]),l=`Raw Data (${a})`,c=O.useRef(null),f=O.useRef(null);return O.useEffect(()=>{const d=c.current,h=f.current;if(!d||!h)return;const p=new ResizeObserver(m=>{for(let v of m){const{width:x}=v.contentRect,g=Math.max(8,x/35);h.style.fontSize=`${g}px`}});return p.observe(d),()=>p.disconnect()},[]),u.jsxs("div",{ref:r,className:"bg-white dark:bg-slate-800/50 border border-gray-200 dark:border-slate-700 rounded-xl shadow-lg p-6 flex flex-col gap-6 transform hover:scale-[1.02] hover:border-cyan-500/50 transition-all duration-500 ease-in-out",children:[u.jsxs("div",{className:"border-b border-gray-200 dark:border-slate-700 pb-4",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-slate-100",children:e.name}),u.jsx("p",{className:"text-cyan-600 dark:text-cyan-400",children:e.manufacturer})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-4 mb-4",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-slate-300",children:"Black Level vs. ISO"}),u.jsx("select",{value:a,onChange:d=>o(d.target.value),className:"w-full sm:w-auto bg-gray-50 dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded-md px-3 py-1 text-sm outline-none focus:ring-2 focus:ring-cyan-500 transition-all duration-300 text-gray-900 dark:text-slate-200","aria-label":`Select shooting mode for ${e.name}`,children:n.map(d=>u.jsx("option",{value:d,children:d},d))})]}),u.jsxs("div",{ref:c,className:"h-64 relative",children:[u.jsx(xZ,{data:i,theme:t},a),u.jsx("div",{className:"absolute top-1/2 left-[52%] transform -translate-x-1/2 -translate-y-1/2 -rotate-30 pointer-events-none",children:u.jsx("p",{ref:f,className:"font-bold text-gray-900/10 dark:text-slate-200/40 whitespace-nowrap",children:" y-g-jiang.github.io"})})]})]}),u.jsxs("div",{className:"overflow-x-auto",children:[u.jsx("div",{className:"flex justify-between items-center mb-4",children:u.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-slate-300",children:l})}),u.jsxs("table",{className:"w-full text-left border-collapse",children:[u.jsx("thead",{className:"bg-gray-100 dark:bg-slate-700/50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"p-3 font-semibold text-sm text-gray-700 dark:text-slate-300",children:"ISO"}),u.jsx("th",{className:"p-3 font-semibold text-sm text-red-500 dark:text-red-400",children:"Red"}),u.jsx("th",{className:"p-3 font-semibold text-sm text-green-600 dark:text-green-400",children:"Green 1"}),u.jsx("th",{className:"p-3 font-semibold text-sm text-blue-500 dark:text-blue-400",children:"Blue"}),u.jsx("th",{className:"p-3 font-semibold text-sm text-green-500 dark:text-green-300",children:"Green 2"})]})}),u.jsx("tbody",{children:s.map(({iso:d,levels:h,clipping:p})=>u.jsxs("tr",{className:"border-b border-gray-200 dark:border-slate-700/50 last:border-b-0",children:[u.jsxs("td",{className:"p-3 font-mono text-gray-700 dark:text-slate-300 whitespace-nowrap",children:[d,p&&u.jsx("span",{className:"ml-3 text-xs font-semibold text-amber-600 dark:text-amber-400 bg-amber-100 dark:bg-amber-900/50 px-2 py-1 rounded-full align-middle",children:"Clipping"})]}),u.jsx("td",{className:"p-3 font-mono text-red-500 dark:text-red-400",children:h[0].toFixed(2)}),u.jsx("td",{className:"p-3 font-mono text-green-600 dark:text-green-400",children:h[1].toFixed(2)}),u.jsx("td",{className:"p-3 font-mono text-blue-500 dark:text-blue-400",children:h[3].toFixed(2)}),u.jsx("td",{className:"p-3 font-mono text-green-500 dark:text-green-300",children:h[2].toFixed(2)})]},d))})]})]})]})}),Se=(e,t,r)=>({avg:e,range:[t,r]}),a0=[{id:"sony-a7r2",name:"Sony ILCE-7RM2 (A7R II)",manufacturer:"Sony",shootingModes:[{modeName:"Still (Mechanical Shutter)",data:[{iso:100,r:Se(512.1,511.95,512.25),g1:Se(512.05,511.9,512.2),b:Se(512.12,511.98,512.28),g2:Se(512.06,511.92,512.22)},{iso:200,r:Se(512.15,512,512.3),g1:Se(512.1,511.95,512.25),b:Se(512.18,512.05,512.35),g2:Se(512.12,511.98,512.28)},{iso:400,r:Se(512.25,512.1,512.45),g1:Se(512.2,512.05,512.4),b:Se(512.3,512.15,512.5),g2:Se(512.22,512.08,512.42)},{iso:800,r:Se(512.5,512.2,512.8),g1:Se(512.45,512.15,512.75),b:Se(512.55,512.25,512.85),g2:Se(512.48,512.18,512.78)},{iso:1600,r:Se(513.1,512.8,513.4),g1:Se(513.05,512.75,513.35),b:Se(513.15,512.85,513.45),g2:Se(513.08,512.78,513.38)},{iso:3200,r:Se(514.2,513.8,514.6),g1:Se(514.15,513.75,514.55),b:Se(514.25,513.85,514.65),g2:Se(514.18,513.78,514.58)}]}]},{id:"canon-r5",name:"Canon EOS R5",manufacturer:"Canon",shootingModes:[{modeName:"Mechanical Shutter",data:[{iso:100,r:Se(512,511.8,512.2),g1:Se(512,511.8,512.2),b:Se(512,511.8,512.2),g2:Se(512,511.8,512.2)},{iso:400,r:Se(512,511.7,512.3),g1:Se(512,511.7,512.3),b:Se(512,511.7,512.3),g2:Se(512,511.7,512.3)},{iso:1600,r:Se(512.2,511.5,512.8),g1:Se(512.2,511.5,512.8),b:Se(512.2,511.5,512.8),g2:Se(512.2,511.5,512.8)},{iso:6400,r:Se(513.5,512.5,514.5),g1:Se(513.5,512.5,514.5),b:Se(513.5,512.5,514.5),g2:Se(513.5,512.5,514.5),clipping:!0}]}]},{id:"nikon-z9",name:"Nikon Z9",manufacturer:"Nikon",shootingModes:[{modeName:"Electronic Shutter",data:[{iso:64,r:Se(400,399.9,400.1),g1:Se(400,399.9,400.1),b:Se(400,399.9,400.1),g2:Se(400,399.9,400.1)},{iso:100,r:Se(400,399.9,400.1),g1:Se(400,399.9,400.1),b:Se(400,399.9,400.1),g2:Se(400,399.9,400.1)},{iso:800,r:Se(400.5,400.2,400.8),g1:Se(400.5,400.2,400.8),b:Se(400.5,400.2,400.8),g2:Se(400.5,400.2,400.8)}]}]},{id:"fujifilm-xt4",name:"Fujifilm X-T4",manufacturer:"Fujifilm",shootingModes:[{modeName:"Still (RAF)",data:[{iso:160,r:Se(1024,1023.8,1024.2),g1:Se(1024,1023.8,1024.2),b:Se(1024,1023.8,1024.2),g2:Se(1024,1023.8,1024.2)},{iso:800,r:Se(1024.2,1023.5,1025),g1:Se(1024.2,1023.5,1025),b:Se(1024.2,1023.5,1025),g2:Se(1024.2,1023.5,1025)}]}]}],wZ=({isOpen:e,onClose:t,theme:r})=>{const[n,a]=O.useState(""),[o,i]=O.useState("All"),s=O.useMemo(()=>["All",...Array.from(new Set(a0.map(d=>d.manufacturer))).sort()],[]),l=O.useMemo(()=>a0.filter(f=>{const d=f.name.toLowerCase().includes(n.toLowerCase()),h=o==="All"||f.manufacturer===o;return d&&h}),[n,o]),c=f=>{const d=document.getElementById(`camera-${f}`);d&&d.scrollIntoView({behavior:"smooth"})};return e?u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",onClick:t,children:u.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-6xl h-[90vh] rounded-2xl shadow-2xl flex flex-col border border-gray-200 dark:border-slate-700 overflow-hidden",onClick:f=>f.stopPropagation(),children:[u.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50",children:[u.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-slate-100 flex items-center gap-2",children:["Camera Black Level Database",u.jsxs("span",{className:"text-xs font-normal bg-cyan-100 dark:bg-cyan-900/30 text-cyan-600 dark:text-cyan-400 px-2 py-0.5 rounded border border-cyan-200 dark:border-cyan-800",children:[a0.length," Models"]})]}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 transition-colors p-2 rounded-full hover:bg-gray-100 dark:hover:bg-slate-800",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-slate-700 bg-gray-50/50 dark:bg-slate-800/30",children:u.jsx(yZ,{searchTerm:n,onSearchChange:a,manufacturers:s,selectedManufacturer:o,onManufacturerChange:i,cameras:l,onCameraSelect:c})}),u.jsx("div",{className:"flex-1 overflow-y-auto p-6 scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-slate-700 bg-gray-100 dark:bg-slate-950",children:u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-2 gap-6",children:[l.map(f=>u.jsx("div",{id:`camera-${f.id}`,children:u.jsx(bZ,{camera:f,theme:r})},f.id)),l.length===0&&u.jsx("div",{className:"col-span-full flex flex-col items-center justify-center py-20 text-gray-400 dark:text-slate-600",children:u.jsx("p",{className:"text-lg",children:"No cameras found matching your criteria."})})]})})]})}):null},kZ=({isOpen:e,onClose:t,zIndex:r=150})=>{const[n,a]=O.useState(""),[o,i]=O.useState(""),[s,l]=O.useState(""),[c,f]=O.useState(""),[d,h]=O.useState(null),p=()=>{const m=parseFloat(n),v=parseFloat(o),x=parseFloat(s),y=parseFloat(c);if(isNaN(m)||isNaN(v)||isNaN(x)||isNaN(y)){h(null);return}const g=m,b=v,S=x*x,w=y*y,k=(g+b)/2;if(k<=1e-9){h(0);return}const j=S*w/k,P=Math.sqrt(j);h(P)};return e?u.jsxs(Uh,{initialPosition:{x:window.innerWidth/2-160,y:window.innerHeight/2-200},onClose:t,zIndex:r,className:"w-80 bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 flex flex-col shadow-2xl",children:[u.jsxs("div",{className:"flex justify-between items-center px-4 py-3 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800",children:[u.jsx("h3",{className:"text-sm font-bold text-gray-700 dark:text-slate-200",children:"Cross-Compensation Calc"}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 transition-colors",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("div",{className:"p-4 flex flex-col gap-3 text-xs",children:[u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-gray-500 dark:text-slate-400 font-bold",children:"H Mean (Power/Var)"}),u.jsx("input",{type:"number",step:"any",value:n,onChange:m=>a(m.target.value),className:"p-2 rounded bg-gray-100 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 outline-none focus:border-indigo-500 text-gray-900 dark:text-slate-100 font-mono"})]}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-gray-500 dark:text-slate-400 font-bold",children:"V Mean (Power/Var)"}),u.jsx("input",{type:"number",step:"any",value:o,onChange:m=>i(m.target.value),className:"p-2 rounded bg-gray-100 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 outline-none focus:border-indigo-500 text-gray-900 dark:text-slate-100 font-mono"})]}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-gray-500 dark:text-slate-400 font-bold",children:"H RMS 0 (Sigma)"}),u.jsx("input",{type:"number",step:"any",value:s,onChange:m=>l(m.target.value),className:"p-2 rounded bg-gray-100 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 outline-none focus:border-indigo-500 text-gray-900 dark:text-slate-100 font-mono"})]}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-gray-500 dark:text-slate-400 font-bold",children:"V RMS 0 (Sigma)"}),u.jsx("input",{type:"number",step:"any",value:c,onChange:m=>f(m.target.value),className:"p-2 rounded bg-gray-100 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 outline-none focus:border-indigo-500 text-gray-900 dark:text-slate-100 font-mono"})]}),u.jsx("button",{onClick:p,className:"mt-2 w-full py-2 bg-indigo-600 hover:bg-indigo-500 text-white font-bold rounded shadow transition-colors active:scale-95",children:"Calculate Sigma"}),d!==null&&u.jsxs("div",{className:"mt-2 p-3 bg-indigo-50 dark:bg-indigo-900/30 border border-indigo-200 dark:border-indigo-800 rounded text-center animate-in fade-in slide-in-from-top-1",children:[u.jsx("span",{className:"block text-[10px] uppercase font-bold text-gray-500 dark:text-slate-400 mb-1",children:"Original White Noise Sigma"}),u.jsx("span",{className:"text-lg font-mono font-bold text-indigo-700 dark:text-indigo-300 select-all",children:d.toFixed(5)})]})]})]}):null};function o0(e,t,r){const a=e*t*2,o=8,i=o+a,s="Fake",l="NoiseCam",c="NoiseCam",f=_=>{const A=new Uint8Array(_.length+1);for(let N=0;N<_.length;N++)A[N]=_.charCodeAt(N);return A[_.length]=0,A},d=f(s),h=f(l),p=f(c),m=[{id:254,type:4,count:1,value:0},{id:256,type:4,count:1,value:e},{id:257,type:4,count:1,value:t},{id:258,type:3,count:1,value:16},{id:259,type:3,count:1,value:1},{id:262,type:3,count:1,value:32803},{id:271,type:2,count:d.length,value:d},{id:272,type:2,count:h.length,value:h},{id:273,type:4,count:1,value:o},{id:277,type:3,count:1,value:1},{id:278,type:4,count:1,value:t},{id:279,type:4,count:1,value:a},{id:33421,type:3,count:2,value:[2,2]},{id:33422,type:1,count:4,value:[0,1,1,2]},{id:50706,type:1,count:4,value:[1,4,0,0]},{id:50717,type:2,count:p.length,value:p}],v=2+m.length*12+4;let x=0;const y=m.map(_=>{let A=1;_.type===3&&(A=2),_.type===4&&(A=4);const N=_.count*A,E=N<=4;let z=0;return E||(z=x,x+=N,x%2!==0&&x++),{..._,fits:E,totalBytes:N,extraOffset:z}}),g=i+v,b=g+x,S=new ArrayBuffer(b),w=new DataView(S),k=new Uint8Array(S);w.setUint16(0,18761,!0),w.setUint16(2,42,!0),w.setUint32(4,i,!0);const j=new Uint8Array(r.buffer,r.byteOffset,r.byteLength);k.set(j,o);let P=i;return w.setUint16(P,m.length,!0),P+=2,y.forEach(_=>{if(w.setUint16(P,_.id,!0),w.setUint16(P+2,_.type,!0),w.setUint32(P+4,_.count,!0),_.fits){const A=P+8;Array.isArray(_.value)?_.value.forEach((N,E)=>{_.type===1&&w.setUint8(A+E,N),_.type===3&&w.setUint16(A+E*2,N,!0)}):_.value instanceof Uint8Array||(_.type===3&&w.setUint16(A,_.value,!0),_.type===4&&w.setUint32(A,_.value,!0))}else{const A=g+_.extraOffset;w.setUint32(P+8,A,!0);const N=A;_.value instanceof Uint8Array?k.set(_.value,N):Array.isArray(_.value)&&_.value.forEach((E,z)=>{_.type===1&&w.setUint8(N+z,E),_.type===3&&w.setUint16(N+z*2,E,!0)})}P+=12}),w.setUint32(P,0,!0),S}function SZ(e,t,r,n=3){const o=r.byteLength,i=8,s=i+o,l=[{id:256,type:4,count:1,value:e},{id:257,type:4,count:1,value:t},{id:258,type:3,count:n,value:n===1?16:[16,16,16]},{id:259,type:3,count:1,value:1},{id:262,type:3,count:1,value:n===1?1:2},{id:273,type:4,count:1,value:i},{id:277,type:3,count:1,value:n},{id:278,type:4,count:1,value:t},{id:279,type:4,count:1,value:o}],c=2+l.length*12+4;let f=0;const d=l.map(g=>{let b=g.type===3?2:4;const S=g.count*b,w=S<=4;let k=0;return w||(k=f,f+=S),{...g,fits:w,totalBytes:S,extraOffset:k}}),h=s+c+f,p=new ArrayBuffer(h),m=new DataView(p),v=new Uint8Array(p);m.setUint16(0,18761,!0),m.setUint16(2,42,!0),m.setUint32(4,s,!0),v.set(new Uint8Array(r.buffer,r.byteOffset,r.byteLength),i);let x=s;m.setUint16(x,l.length,!0),x+=2;const y=s+c;return d.forEach(g=>{if(m.setUint16(x,g.id,!0),m.setUint16(x+2,g.type,!0),m.setUint32(x+4,g.count,!0),g.fits)Array.isArray(g.value)||(g.type===3?m.setUint16(x+8,g.value,!0):m.setUint32(x+8,g.value,!0));else{const b=y+g.extraOffset;m.setUint32(x+8,b,!0),Array.isArray(g.value)&&g.value.forEach((S,w)=>{m.setUint16(b+w*2,S,!0)})}x+=12}),m.setUint32(x,0,!0),p}const jZ="http://localhost:5428",OZ=(e=!1)=>{const[t,r]=O.useState({isConnected:!1,message:"Initializing...",hasDngConverter:!1});return O.useEffect(()=>{if(e){r({isConnected:!1,message:"Bridge Paused",hasDngConverter:!1});return}const n=async()=>{try{const o=new AbortController,i=setTimeout(()=>o.abort(),1e3),s=await fetch(`${jZ}/health`,{method:"GET",signal:o.signal});if(clearTimeout(i),s.ok){const l=await s.json(),c=`Connected (${l.exiftool||"Ready"})`;r(f=>f.isConnected===!0&&f.message===c&&f.version===l.exiftool&&f.hasDngConverter===!!l.dng_converter?f:{isConnected:!0,message:c,version:l.exiftool,hasDngConverter:!!l.dng_converter})}else r(l=>l.isConnected===!1&&l.message==="Service Error"?l:{isConnected:!1,message:"Service Error",hasDngConverter:!1})}catch{r(i=>i.isConnected===!1&&i.message==="Not Detected"?i:{isConnected:!1,message:"Not Detected",hasDngConverter:!1})}};n();const a=setInterval(n,2e3);return()=>clearInterval(a)},[e]),t},PZ="JTR_BlobStore",Ea="raw_files",_Z=1,Gh=()=>new Promise((e,t)=>{const r=indexedDB.open(PZ,_Z);r.onupgradeneeded=n=>{const a=n.target.result;a.objectStoreNames.contains(Ea)||a.createObjectStore(Ea)},r.onsuccess=()=>e(r.result),r.onerror=()=>t(r.error)}),F2=async(e,t)=>{const r=await Gh();return new Promise((n,a)=>{const o=r.transaction(Ea,"readwrite");o.objectStore(Ea).put(t,e),o.oncomplete=()=>n(),o.onerror=()=>a(o.error)})},NZ=async e=>{const t=await Gh();return new Promise((r,n)=>{const i=t.transaction(Ea,"readonly").objectStore(Ea).get(e);i.onsuccess=()=>r(i.result),i.onerror=()=>n(i.error)})},AZ=async()=>{const e=await Gh();return new Promise((t,r)=>{const n=e.transaction(Ea,"readwrite");n.objectStore(Ea).clear(),n.oncomplete=()=>t(),n.onerror=()=>r(n.error)})},L_="jtr_workspace_index",MZ=e=>{try{const t=JSON.stringify(e);localStorage.setItem(L_,t)}catch(t){console.error("Failed to save workspace index",t)}},CZ=()=>{try{const e=localStorage.getItem(L_);return e?JSON.parse(e):null}catch(e){return console.error("Failed to load workspace index",e),null}},EZ=async e=>{const n=(await Gh()).transaction(Ea,"readwrite").objectStore(Ea),a=n.getAllKeys();a.onsuccess=()=>{a.result.forEach(i=>{e.includes(i)||n.delete(i)})}},Hr=1024,z2=(e,t,r)=>{const n=e.width,a=e.height,o=new ImageData(t,r),i=e.data,s=o.data,l=n/t,c=a/r;for(let f=0;f<r;f++){const d=Math.floor(f*c),h=f*t*4,p=d*n*4;for(let m=0;m<t;m++){const x=Math.floor(m*l)*4,y=h+m*4,g=p+x;s[y]=i[g],s[y+1]=i[g+1],s[y+2]=i[g+2],s[y+3]=i[g+3]}}return o},TZ=({stats:e,onClose:t,onMinimize:r,isBGGR:n,onToggleBGGR:a,onOpenWindow:o,displaySettings:i,zIndex:s,onFocus:l})=>{if(!e)return null;const c=!!i.showKadc&&!!i.blackLevel,f=i.blackLevel||[0,0,0,0],d=!!i.subtractBlackLevelFromStats&&!!i.blackLevel,h=(x,y,g)=>{if(!c)return null;const b=y*y;return b<=1e-4?0:(x-g)/b},p=(x,y)=>d?x-f[y]:x,m=()=>{if(!d){alert(`Sub. BL
Please enable 'Sub. BL' in Tools sidebar first.`);return}let x,y,g,b;n?(b=0,y=1,g=2,x=3):(x=0,y=1,g=2,b=3);const S=k=>e.means[k]-f[k],w=k=>e.stdDevs[k];localStorage.setItem("import_signal_r",S(x).toString()),localStorage.setItem("import_signal_g1",S(y).toString()),localStorage.setItem("import_signal_g2",S(g).toString()),localStorage.setItem("import_signal_b",S(b).toString()),localStorage.setItem("import_sigma_r",w(x).toString()),localStorage.setItem("import_sigma_g1",w(y).toString()),localStorage.setItem("import_sigma_g2",w(g).toString()),localStorage.setItem("import_sigma_b",w(b).toString()),window.open("https://y-g-jiang.github.io/XJZS.html","_blank")},v=n?[{name:"B",desc:"(0,0)",mean:p(e.means[0],0),std:e.stdDevs[0],color:"text-blue-500",k:h(e.means[0],e.stdDevs[0],f[0])},{name:"G1",desc:"(0,1)",mean:p(e.means[1],1),std:e.stdDevs[1],color:"text-green-500",k:h(e.means[1],e.stdDevs[1],f[1])},{name:"G2",desc:"(1,0)",mean:p(e.means[2],2),std:e.stdDevs[2],color:"text-green-500",k:h(e.means[2],e.stdDevs[2],f[2])},{name:"R",desc:"(1,1)",mean:p(e.means[3],3),std:e.stdDevs[3],color:"text-red-500",k:h(e.means[3],e.stdDevs[3],f[3])}]:[{name:"R",desc:"(0,0)",mean:p(e.means[0],0),std:e.stdDevs[0],color:"text-red-500",k:h(e.means[0],e.stdDevs[0],f[0])},{name:"G1",desc:"(0,1)",mean:p(e.means[1],1),std:e.stdDevs[1],color:"text-green-500",k:h(e.means[1],e.stdDevs[1],f[1])},{name:"G2",desc:"(1,0)",mean:p(e.means[2],2),std:e.stdDevs[2],color:"text-green-500",k:h(e.means[2],e.stdDevs[2],f[2])},{name:"B",desc:"(1,1)",mean:p(e.means[3],3),std:e.stdDevs[3],color:"text-blue-500",k:h(e.means[3],e.stdDevs[3],f[3])}];return u.jsxs(Uh,{className:`${c?"w-80":"w-60"} p-0 overflow-hidden transition-all duration-300`,onClose:t,zIndex:s,onFocus:l,children:[u.jsxs("div",{className:"flex justify-between items-center px-3 py-2 border-b border-gray-100 dark:border-slate-800 bg-gray-50/50 dark:bg-slate-800/50",children:[u.jsxs("h3",{className:"text-xs font-bold text-gray-700 dark:text-slate-300 uppercase tracking-wider flex items-center gap-2",children:["ROI Analysis",u.jsxs("span",{className:"text-[10px] font-normal text-gray-400 bg-gray-200 dark:bg-slate-700 px-1.5 py-0.5 rounded",children:[Math.round(e.width),"",Math.round(e.height)]})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 transition-colors p-1 rounded-md hover:bg-gray-200 dark:hover:bg-slate-700 relative z-20",children:u.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 dark:hover:text-red-400 transition-colors p-1 rounded-md hover:bg-gray-200 dark:hover:bg-slate-700 relative z-20",children:u.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),u.jsxs("div",{className:"p-3",children:[u.jsxs("div",{className:"flex justify-between items-center mb-3",children:[u.jsxs("div",{className:"text-[10px] text-gray-400 dark:text-slate-500 font-mono leading-tight",children:["X: ",Math.round(e.x),u.jsx("br",{}),"Y: ",Math.round(e.y)]}),u.jsx("button",{onClick:()=>a(!n),className:"text-[10px] font-bold px-2 py-1 rounded bg-gray-100 hover:bg-gray-200 dark:bg-slate-800 dark:hover:bg-slate-700 text-gray-600 dark:text-slate-300 transition-colors border border-gray-200 dark:border-slate-700 relative z-20",title:"Toggle Bayer Pattern Interpretation",children:n?"BGGR":"RGGB"})]}),u.jsxs("table",{className:"w-full mb-3",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-[10px] text-gray-400 dark:text-slate-500 border-b border-gray-100 dark:border-slate-800",children:[u.jsx("th",{className:"text-left pb-1 font-medium",children:"Ch"}),u.jsxs("th",{className:"text-right pb-1 font-medium",children:["Mean",d?"*":""]}),u.jsx("th",{className:"text-right pb-1 font-medium",children:"Std()"}),c&&u.jsx("th",{className:"text-right pb-1 font-medium text-cyan-600 dark:text-cyan-400",children:"K(e/ADU)"})]})}),u.jsx("tbody",{className:"font-mono text-xs",children:v.map((x,y)=>u.jsxs("tr",{className:"group hover:bg-gray-50 dark:hover:bg-slate-800/30 transition-colors",children:[u.jsxs("td",{className:"py-1",children:[u.jsx("span",{className:`font-bold ${x.color}`,children:x.name}),u.jsx("span",{className:"text-[9px] text-gray-300 dark:text-slate-600 ml-1 hidden group-hover:inline",children:x.desc})]}),u.jsx("td",{className:"py-1 text-right text-gray-700 dark:text-slate-200 font-semibold",title:d?"Mean minus Black Level":"Raw Mean",children:x.mean.toFixed(2)}),u.jsx("td",{className:"py-1 text-right text-gray-500 dark:text-slate-400",children:x.std.toFixed(2)}),c&&u.jsx("td",{className:"py-1 text-right text-cyan-600 dark:text-cyan-400 font-bold",children:x.k!==null?x.k.toFixed(3):"-"})]},y))})]}),d&&u.jsx("div",{className:"mb-2 text-[9px] text-gray-400 dark:text-slate-500 text-right italic",children:"* Mean adjusted by Black Level"}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsx("button",{onClick:()=>o("histogram"),className:"relative z-20 flex-1 min-w-[50px] py-1.5 bg-cyan-600 hover:bg-cyan-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"View Histogram",children:"Hist"}),u.jsx("button",{onClick:()=>o("quant"),className:"relative z-20 flex-1 min-w-[50px] py-1.5 bg-teal-600 hover:bg-teal-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"View Quantization Steps",children:"Quant"}),u.jsx("button",{onClick:()=>o("fft"),className:"relative z-20 flex-1 min-w-[50px] py-1.5 bg-purple-600 hover:bg-purple-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"View Power Spectrum (FFT)",children:"FFT"}),u.jsx("button",{onClick:()=>o("pearson"),className:"relative z-20 flex-1 min-w-[50px] py-1.5 bg-indigo-600 hover:bg-indigo-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"Pearson Correlation Analysis",children:"PCC"}),u.jsx("button",{onClick:m,className:"relative z-20 flex-1 min-w-[50px] py-1.5 bg-pink-600 hover:bg-pink-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"Color Noise Analysis (External Tool)",children:"ColorN"})]})]})]})},$Z=()=>{var pl;const[e,t]=O.useState(!0),[r,n]=O.useState("Initializing..."),a=O.useRef(!1),[o,i]=O.useState("dark");O.useEffect(()=>{const F=window.document.documentElement;F.classList.remove(o==="dark"?"light":"dark"),F.classList.add(o)},[o]);const[s,l]=O.useState(!1),[c,f]=O.useState(!1),[d,h]=O.useState(!1),p=OZ(s||c||d),[m,v]=O.useState(!1),[x,y]=O.useState([]),[g,b]=O.useState(-1),[S,w]=O.useState([]),k=O.useMemo(()=>x[g],[x,g]),j=(k==null?void 0:k.file)||null,P=(k==null?void 0:k.imageElement)||null,_=(k==null?void 0:k.rawImageData)||null,A=(k==null?void 0:k.rawFileBuffer)||null,N=(k==null?void 0:k.renderedRawImageData)||null,E=(k==null?void 0:k.referenceImageData)||null,z=(k==null?void 0:k.sampledImageData)||null,D=(k==null?void 0:k.exifData)||null,T=(k==null?void 0:k.isThreePlane)||!1,L=(k==null?void 0:k.displaySettings)||{exposure:0,demosaicMethod:3,blackLevel:void 0,wbGains:[1,1],showKadc:!0,subtractBlackLevelFromStats:!0},[W,I]=O.useState(!1),[R,B]=O.useState(null),[te,X]=O.useState(!1),[H,U]=O.useState(!1),[ue,fe]=O.useState(null),[ke,we]=O.useState([]),[K,ce]=O.useState(100),[be,Q]=O.useState(!0),[We,Oe]=O.useState(!1),[Ie,qe]=O.useState(null),[bt,Zt]=O.useState(!1),[Bt,Er]=O.useState(!1),[nt,rr]=O.useState(!1),[Pt,Zr]=O.useState(!1),[At,ya]=O.useState(!1),[Ft,ur]=O.useState(!1),[yr,nr]=O.useState(!1),[fr,wt]=O.useState(!1),[Ge,Mt]=O.useState({x:0,y:0}),[Ct,vr]=O.useState(!1),[sr,cn]=O.useState(!1),[Et,un]=O.useState(2),[ht,Br]=O.useState(1),[fn,ea]=O.useState([]),[Dn,kn]=O.useState(null),[xr,Fr]=O.useState(0),[lt,V]=O.useState([]),[Ue,ct]=O.useState([]),[Xe,Z]=O.useState(64),[pe,Qe]=O.useState(10),[pt,Be]=O.useState(10),[Ce,Ht]=O.useState(4),[at,Re]=O.useState(1),[tt,Ze]=O.useState(0),[rt,Tr]=O.useState("processed"),[dn,zt]=O.useState(!1),ye=O.useMemo(()=>L.blackLevel?L.blackLevel:_!=null&&_.blackLevels?[_.blackLevels[0],_.blackLevels[1],_.blackLevels[2],_.blackLevels[3]]:[0,0,0,0],[L.blackLevel,_]),Sn=(D==null?void 0:D.ImageHeight)||(D==null?void 0:D.ExifImageHeight)||(_==null?void 0:_.height)||0,[va,gt]=O.useState(null),[oo,mt]=O.useState(null),[Mi,Rn]=O.useState({x:0,y:0}),[zo,$a]=O.useState(1),[Wo,Hh]=O.useState("pan"),Uo=O.useRef(null),Ln=O.useRef(null),Ci=O.useCallback(async()=>{if(!A||!k)return;rr(!1);const F=Pt,G=At;mt(`Rendering 16-bit TIFF (${F?"Stretched":"Native DN"} | ${G?"sRGB":"Linear"})...`);try{const re=await aZ(A.slice(0),L,F,G),ne=SZ(re.width,re.height,re.data,re.channels),ge=new Blob([ne],{type:"image/tiff"}),ee=URL.createObjectURL(ge),he=document.createElement("a"),le=k.fileName||"rendered",de=le.substring(0,le.lastIndexOf("."))||le,me=[F?"stretch":"native",G?"srgb":"linear"].join("_");he.href=ee,he.download=`${de}_${me}.tif`,document.body.appendChild(he),he.click(),document.body.removeChild(he),URL.revokeObjectURL(ee)}catch(re){gt("TIFF Export Failed: "+re.message)}finally{mt(null)}},[A,k,L,Pt,At]),du=O.useCallback(()=>{!A||!k||rr(!0)},[A,k]);O.useEffect(()=>{const F=G=>{(G.ctrlKey||G.metaKey)&&G.key.toLowerCase()==="s"&&(G.preventDefault(),du())};return window.addEventListener("keydown",F),()=>window.removeEventListener("keydown",F)},[du]),O.useEffect(()=>{(async()=>{if(a.current)return;const G=CZ();if(G&&(n("Restoring layout..."),i(G.theme),Q(G.sidebarOpen),G.sessions.length>0)){n(`Restoring ${G.sessions.length} images...`);const re=[];for(const ne of G.sessions){if(a.current){console.log("Restoration cancelled.");return}await new Promise(ge=>setTimeout(ge,50));try{const ge=await NZ(ne.id);if(ge){const ee={id:ne.id,fileName:ne.fileName,file:null,imageElement:null,rawImageData:null,rawFileBuffer:ge,renderedRawImageData:null,referenceImageData:null,sampledImageData:null,exifData:null,isThreePlane:ne.isThreePlane,displaySettings:ne.displaySettings},{previewBlob:he,analysisData:le}=await t0(ge);let de=null;le&&(de=await L2(ge,ne.displaySettings));const me=URL.createObjectURL(he),_e=new Image;_e.src=me,await new Promise(Ee=>{_e.onload=()=>Ee()}),re.push({...ee,rawImageData:le,renderedRawImageData:de,previewUrl:me,imageElement:_e,exifData:le.metadata})}}catch(ge){console.error(`Failed to restore session ${ne.id}`,ge)}}if(a.current)return;if(y(re),G.activeSessionId){const ne=re.findIndex(ge=>ge.id===G.activeSessionId);ne>=0?b(ne):re.length>0&&b(0)}we(G.windows)}a.current||t(!1)})()},[]);const dl=O.useRef(null),hu=O.useCallback(()=>{e||(dl.current&&clearTimeout(dl.current),dl.current=window.setTimeout(async()=>{var re;const F={version:1,timestamp:Date.now(),activeSessionId:((re=x[g])==null?void 0:re.id)||null,theme:o,sidebarOpen:be,sessions:x.map(ne=>({id:ne.id,fileName:ne.fileName,fileType:ne.file?ne.file.type:"application/octet-stream",fileSize:ne.rawFileBuffer?ne.rawFileBuffer.byteLength:0,displaySettings:ne.displaySettings,isThreePlane:ne.isThreePlane})),windows:ke.map(ne=>({id:ne.id,type:ne.type,roi:ne.roi,zIndex:ne.zIndex,initialPosition:ne.initialPosition,sessionId:ne.sessionId,isBGGR:ne.isBGGR,isMinimized:ne.isMinimized||!1,internalState:ne.internalState}))};MZ(F);const G=x.map(ne=>ne.id);EZ(G)},1e3))},[x,ke,g,o,be,e]);O.useEffect(()=>{hu()},[hu]);const pu=O.useCallback(async()=>{a.current=!0,n("Cleaning up..."),localStorage.removeItem("jtr_workspace_index");try{await AZ()}catch(F){console.error("Failed to clear DB",F)}window.location.reload()},[]),jn=O.useCallback(F=>{y(G=>G.map((re,ne)=>ne===g?{...re,...F}:re))},[g]),Ei=()=>b(F=>Math.min(F+1,x.length-1)),Vh=()=>b(F=>Math.max(0,F-1));O.useEffect(()=>{if(_&&R){const F=Wi(_.data,_.width,_.height,R.x,R.y,R.width,R.height);B(F)}},[_]);const Ti=F=>{if(!R||!k)return;const G=Date.now().toString()+Math.random().toString().slice(2,5),re=Math.max(K,...ke.map(ee=>ee.zIndex),100),ne=ke.length%10*30,ge=F==="fft"?{x:50,y:50}:F==="histogram"?{x:100,y:100}:{x:150,y:150};we(ee=>[...ee,{id:G,type:F,roi:{x:R.x,y:R.y,w:R.width,h:R.height},zIndex:re+1,initialPosition:{x:ge.x+ne,y:ge.y+ne},sessionId:k.id,isBGGR:te,isMinimized:!1,stackFiles:(F==="fft"||F==="pearson")&&S.length>0?S:void 0}])},gu=F=>{we(G=>G.filter(re=>re.id!==F))},mu=F=>{we(G=>G.map(re=>re.id===F?{...re,isMinimized:!0}:re))},Kh=F=>{we(G=>G.map(re=>re.id===F?{...re,isMinimized:!1}:re)),$(F)},$=F=>{we(G=>{const re=Math.max(K,...G.map(ne=>ne.zIndex));return G.map(ne=>ne.id===F?{...ne,zIndex:re+1}:ne)})},Y=(F,G)=>{we(re=>re.map(ne=>ne.id===F?{...ne,internalState:{...ne.internalState,...G}}:ne))},J=()=>{const F=Math.max(K,...ke.map(G=>G.zIndex));ce(F+1)},C=(F,G)=>{we(re=>re.map(ne=>ne.id===F?{...ne,roi:G}:ne))};O.useEffect(()=>{if(!D)return;const F=D.CFAPattern2||D.CFAPattern;if(F){let G="";Array.isArray(F)?G=F.join(""):typeof F=="string"?G=F.replace(/[\s,]+/g,""):typeof F=="number"&&(G=String(F)),G==="0112"?X(!1):G==="2110"&&X(!0)}},[D]),O.useEffect(()=>{let F;const G=()=>{if(sr&&fr){const re=Date.now()/1e3,ne=.55+.45*Math.sin(re*Et);Br(ne),F=requestAnimationFrame(G)}else Br(1)};return sr&&fr?G():Br(1),()=>{F&&cancelAnimationFrame(F)}},[sr,fr,Et]),O.useEffect(()=>{const F=G=>{G.key==="Escape"&&fr&&(wt(!1),Mt({x:0,y:0}),cn(!1))};return window.addEventListener("keydown",F),()=>window.removeEventListener("keydown",F)},[fr]),O.useEffect(()=>()=>{x.forEach(F=>{F.previewUrl&&URL.revokeObjectURL(F.previewUrl)}),Ln.current&&Ln.current.terminate()},[]);const ie=async(F,G=!0)=>{G&&(Rn({x:0,y:0}),$a(1),Fr(0),V([]),ct([]),Oe(!1),qe(null),I(!1));let re=null;if(p.isConnected){const le=new FormData;le.append("file",F);try{const me=await(await fetch("http://localhost:5428/read",{method:"POST",body:le})).json();if(me.success){let _e=me.data;Array.isArray(_e)&&_e.length===1&&(_e=_e[0]),re=_e}}catch(de){console.warn("Auto Exif fetch failed",de)}}const ne=F.name.toLowerCase().match(/\.(arw|cr2|cr3|dng|nef|orf|raf|rw2|pef|srw|sr2|srf|x3f|erf|mef|mos|mrw|kdc|dcr|iiq|3fr|fff|rwl|nrw|raw|tif|tiff)$/);if(!(["image/jpeg","image/png","image/tiff","image/x-adobe-dng"].includes(F.type)||ne)){gt("Unsupported file type. Please load a JPG, PNG, or a supported RAW file.");return}let ee={file:F,exifData:re};if(ne||F.type==="image/x-adobe-dng")try{G?mt("Processing RAW file (this may take a moment)..."):zt(!0);const le=await F.arrayBuffer();ee.rawFileBuffer=le;const{previewBlob:de,analysisData:me}=await t0(le);ee.rawImageData=me,ee.isThreePlane=me.isThreePlane||!1,me.isThreePlane&&G&&I(!0);const _e=URL.createObjectURL(de);ee.previewUrl=_e;const Ee=new Image;Ee.src=_e,await new Promise((ot,Je)=>{Ee.onload=()=>{ee.imageElement=Ee,ot()},Ee.onerror=()=>{gt("Could not load the RAW file preview."),ot()}})}catch(le){gt(`Failed to process RAW file: ${le.message}`),mt(null),zt(!1);return}else try{mt("Processing image...");const{previewBlob:le,analysisData:de}=await QQ(F);ee.rawImageData=de,ee.rawFileBuffer=await F.arrayBuffer(),ee.isThreePlane=de.isThreePlane||!1;const me=URL.createObjectURL(le);ee.previewUrl=me;const _e=new Image;_e.src=me,await new Promise(Ee=>{_e.onload=()=>{ee.imageElement=_e,Ee()},_e.onerror=()=>{gt("Could not load the image file."),Ee()}})}catch(le){gt(`Failed to process image: ${le.message}`),mt(null);return}const he=Date.now().toString()+Math.random();if(ee.rawFileBuffer&&await F2(he,ee.rawFileBuffer),G){const le={exposure:0,demosaicMethod:3,blackLevel:void 0,wbGains:[1,1],showKadc:!0,subtractBlackLevelFromStats:!0},de={id:he,fileName:F.name,file:F,imageElement:null,rawImageData:null,rawFileBuffer:null,renderedRawImageData:null,referenceImageData:null,sampledImageData:null,exifData:null,isThreePlane:!1,displaySettings:le,...ee};y(me=>{const _e=[...me,de];return b(_e.length-1),_e})}else jn(ee);mt(null),zt(!1)},Pe=async F=>{mt("Converting to DNG...");try{const G=new FormData;G.append("file",F);const re=await fetch("http://localhost:5428/convert_dng",{method:"POST",body:G}),ne=re.headers.get("content-type")||"";if(re.ok)if(ne.includes("application/json")){const ge=await re.json();throw new Error(ge.error||"Conversion failed")}else{const ge=await re.blob(),ee=URL.createObjectURL(ge),he=document.createElement("a");he.href=ee;const le=F.name,de=le.substring(0,le.lastIndexOf("."))+".dng"||"converted.dng";he.download=de,document.body.appendChild(he),he.click(),document.body.removeChild(he),URL.revokeObjectURL(ee);const me=new File([ge],de,{type:"image/x-adobe-dng"});await ie(me,!0)}else{const ge=await re.text();throw new Error(`HTTP ${re.status}: ${ge}`)}}catch(G){mt(null),gt(`Conversion Error: ${G.message}`)}},Ne=(F,G)=>{F&&(G==="direct"?ie(F,!0):Pe(F))},Ke=async F=>{var re;const G=(re=F.target.files)==null?void 0:re[0];G&&(await ie(G,!0),F.target.value="")},He=async(F,G,re,ne)=>{!F||!G||(mt("Processing Pair Difference (May take a while)..."),gt(null),setTimeout(async()=>{try{const ge=await F.arrayBuffer(),ee=await G.arrayBuffer(),he=await r0(ge,ee,re,ne),le=o0(he.width,he.height,he.rawData),de=new File([le],`Diff_${F.name}_${G.name}.dng`,{type:"image/x-adobe-dng"});await ie(de,!0),Ti("fft")}catch(ge){console.error("Pair Processing Error",ge),gt("Pair Processing Failed: "+ge.message)}finally{mt(null)}},100))},Fe=async F=>{if(F.length<2){gt("Need at least 2 files for Batch Diff.");return}mt(`Batch Processing 0/${Math.floor(F.length/2)} pairs...`);const G=Array.from(F).sort((re,ne)=>re.name.localeCompare(ne.name,void 0,{numeric:!0}));try{for(let re=0;re<G.length-1;re+=2){const ne=G[re],ge=G[re+1];mt(`Batch Processing Pair ${Math.floor(re/2)+1}/${Math.floor(G.length/2)}: ${ne.name} & ${ge.name}`);const ee=await ne.arrayBuffer(),he=await ge.arrayBuffer(),le=await r0(ee,he,!1,!1),de=o0(le.width,le.height,le.rawData),me=new Blob([de],{type:"image/x-adobe-dng"}),_e=URL.createObjectURL(me),Ee=document.createElement("a");Ee.href=_e,Ee.download=`Diff_${ne.name}_${ge.name}.dng`,document.body.appendChild(Ee),Ee.click(),document.body.removeChild(Ee),URL.revokeObjectURL(_e)}}catch(re){console.error("FFT Batch Error",re),gt("Batch Processing Failed: "+re.message)}finally{mt(null)}},Tt=async F=>{if(F.length<1)return;const G=Array.from(F).sort((re,ne)=>re.name.localeCompare(ne.name,void 0,{numeric:!0}));w(G),await ie(G[0],!0)},ut=async()=>{zt(!0);const F=128,G=F,re=F,ne=G*re,ge=new Uint16Array(ne),ee=$e=>{const Me=$e/Ce+tt;return Math.sin(2*Math.PI*Me)>=0?1:0},he=32,le=at*.5,de=Math.max(1e-4,at/he);for(let $e=0;$e<re;$e++){let Me=0;const St=$e+.5-le;for(let _t=0;_t<he;_t++){const Wr=St+(_t+.5)*de;Me+=ee(Wr)}const Dt=Me/he,Rt=Math.round(Dt*65535);for(let _t=0;_t<G;_t++)ge[$e*G+_t]=Rt}const me=new ImageData(Hr,Hr),_e=Hr/G,Ee=at/2;for(let $e=0;$e<Hr;$e++){const Me=$e/_e,hr=Math.floor(Me),St=Me-hr,Dt=St>=.5-Ee&&St<.5+Ee;for(let Rt=0;Rt<Hr;Rt++){const _t=Rt/_e,Wr=Math.floor(_t),ba=_t-Wr,Ri=ba>=.5-Ee&&ba<.5+Ee,br=($e*Hr+Rt)*4;if(Wr>=G||hr>=re){me.data[br]=30,me.data[br+1]=34,me.data[br+2]=40,me.data[br+3]=255;continue}if(Dt&&Ri){const io=ge[hr*G+Wr],Go=Math.round(io/257);me.data[br]=Go,me.data[br+1]=Go,me.data[br+2]=Go,me.data[br+3]=255}else me.data[br]=30,me.data[br+1]=34,me.data[br+2]=40,me.data[br+3]=255}}const ot=new ImageData(Hr,Hr),Je=re/Hr;for(let $e=0;$e<Hr;$e++){const Me=($e+.5)*Je,St=ee(Me)>.5?255:0,Dt=$e*Hr*4;for(let Rt=0;Rt<Hr;Rt++){const _t=Dt+Rt*4;ot.data[_t]=St,ot.data[_t+1]=St,ot.data[_t+2]=St,ot.data[_t+3]=255}}const vt=o0(G,re,ge),Te=new File([vt],"pattern_test.dng",{type:"image/x-adobe-dng"}),kt=Date.now().toString();try{const{previewBlob:$e,analysisData:Me}=await t0(vt.slice(0)),hr=await L2(vt.slice(0),L),St=z2(hr,Hr,Hr),Dt=URL.createObjectURL($e),Rt=new Image;Rt.src=Dt,await new Promise(Wr=>{Rt.onload=()=>Wr()}),await F2(kt,vt);const _t={id:kt,fileName:"pattern_test.dng",file:Te,imageElement:Rt,rawImageData:Me,rawFileBuffer:vt,renderedRawImageData:St,referenceImageData:ot,sampledImageData:me,exifData:null,isThreePlane:!1,previewUrl:Dt,displaySettings:L};(j==null?void 0:j.name)==="pattern_test.dng"?jn(_t):y(Wr=>{const ba=[...Wr,_t];return b(ba.length-1),ba})}catch($e){console.error("Error generating pattern:",$e),gt(`Error generating pattern: ${$e.message}`)}zt(!1),mt(null)},Wt=()=>{Zt(!0)},ar=()=>{Zt(!1),Tr("sampled"),mt("Generating..."),setTimeout(()=>ut(),50)},ae=O.useRef({period:Ce,fill:at,phase:tt});O.useEffect(()=>{(j==null?void 0:j.name)==="pattern_test.dng"&&(ae.current.period!==Ce||ae.current.fill!==at||ae.current.phase!==tt)&&(ae.current={period:Ce,fill:at,phase:tt},ut())},[Ce,at,tt,j]);const Ve=O.useCallback(F=>{if(jn({displaySettings:F}),!A)return;zt(!0),Ln.current&&Ln.current.terminate();const G=new Worker(new URL("/assets/renderWorker-C9aBbQNb.js",import.meta.url),{type:"module"});Ln.current=G,G.onmessage=re=>{const{success:ne,imageData:ge,error:ee}=re.data;if(ne){let he=ge;(j==null?void 0:j.name)==="pattern_test.dng"&&(he=z2(ge,Hr,Hr)),jn({renderedRawImageData:he})}else gt(ee||"Unknown worker error");zt(!1),G.terminate(),Ln.current=null},G.postMessage({buffer:A.slice(0),settings:F})},[A,j,jn]);let je=N||P;rt==="reference"&&E?je=E:rt==="sampled"&&z&&(je=z);const $t=oo||dn,yt=F=>{if(Uo.current){const G=Uo.current,{width:re,height:ne}=G.getBoundingClientRect(),ge=re/2,ee=ne/2,he=F/zo,le=ge-(ge-Mi.x)*he,de=ee-(ee-Mi.y)*he;Rn({x:le,y:de})}$a(F)},zr=F=>{if(!F)return;if(!_){B(null);return}H&&U(!1),J();const G=Wi(_.data,_.width,_.height,F.x,F.y,F.w,F.h);B(G)},ft=F=>{fe(F),zr(F)},dr=()=>{Hh(F=>F==="pan"?"select":"pan")},Jr=F=>{if(xr===0||xr>4)return;const G=[...lt,F];V(G),xr===4?(hl(G),Fr(0)):Fr(xr+1)},xa=(F,G,re,ne)=>{const ge=F[0],ee=F[1],he=F[2],le=F[3],de=G/2,me=[];for(let _e=0;_e<re;_e++){const Ee=re>1?_e/(re-1):.5;for(let ot=0;ot<ne;ot++){const Je=ne>1?ot/(ne-1):.5,vt=ge.x*(1-Je)+ee.x*Je,Te=ge.y*(1-Je)+ee.y*Je,kt=he.x*(1-Je)+le.x*Je,$e=he.y*(1-Je)+le.y*Je,Me=vt*(1-Ee)+kt*Ee,hr=Te*(1-Ee)+$e*Ee,St=Me-de,Dt=hr-de;me.push({x:St,y:Dt,w:G,h:G})}}return me},hl=F=>{_&&(mt("Calculating DR Lab Grid..."),setTimeout(()=>{try{const G=xa(F,Xe,pe,pt);ct(G);const ee=[...[`#BlackLevel: ${(L.blackLevel||[0,0,0,0]).join(",")}`,`#ImageHeight: ${_.height}`],"Row,Col,R_Mean,G1_Mean,G2_Mean,B_Mean,R_Std,G1_Std,G2_Std,B_Std"];G.forEach((_e,Ee)=>{const ot=Math.floor(Ee/pt)+1,Je=Ee%pt+1,vt=Wi(_.data,_.width,_.height,_e.x,_e.y,_e.w,_e.h),Te=vt.means,kt=vt.stdDevs,$e=`${ot},${Je},${Te[0].toFixed(4)},${Te[1].toFixed(4)},${Te[2].toFixed(4)},${Te[3].toFixed(4)},${kt[0].toFixed(4)},${kt[1].toFixed(4)},${kt[2].toFixed(4)},${kt[3].toFixed(4)}`;ee.push($e)});const he=ee.join(`
`),le=new Blob([he],{type:"text/csv;charset=utf-8;"}),de=URL.createObjectURL(le),me=document.createElement("a");me.setAttribute("href",de),me.setAttribute("download","dr_lab_results.csv"),document.body.appendChild(me),me.click(),document.body.removeChild(me),URL.revokeObjectURL(de),V([])}catch(G){gt("DR Lab Error: "+G.message)}finally{mt(null)}},100))},Xh=async(F,G)=>{if(lt.length<4&&Ue.length<1){gt("Please mark the grid on an image first before running batch processing.");return}let re=Ue;if(re.length===0&&lt.length===4&&(re=xa(lt,Xe,pe,pt)),re.length===0){gt("No grid definitions found. Mark corners first.");return}mt(G==="pair"?"Batch Pair Difference (Sigma = Diff/sqrt(2))":"Batch Processing...");const ge=(L.blackLevel||[0,0,0,0]).join(","),ee=_?_.height:0,le=[...[`#BlackLevel: ${ge}`,`#ImageHeight: ${ee}`,G==="pair"?"#Mode: Pair Difference (Sigma = Diff/sqrt(2))":"#Mode: Independent"],"Filename,Row,Col,R_Mean,G1_Mean,G2_Mean,B_Mean,R_Std,G1_Std,G2_Std,B_Std"],de=Array.from(F).sort((me,_e)=>me.name.localeCompare(_e.name,void 0,{numeric:!0}));if(G==="pair"&&de.length<2){gt("Need at least 2 files for Pair processing."),mt(null);return}try{if(G==="single")for(let Je=0;Je<de.length;Je++){const vt=de[Je];mt(`Processing ${Je+1}/${de.length}: ${vt.name}...`);const Te=await vt.arrayBuffer(),kt=await Id(Te);re.forEach(($e,Me)=>{const hr=Math.floor(Me/pt)+1,St=Me%pt+1,Dt=Wi(kt.data,kt.width,kt.height,$e.x,$e.y,$e.w,$e.h),Rt=Dt.means,_t=Dt.stdDevs,Wr=`${vt.name},${hr},${St},${Rt[0].toFixed(4)},${Rt[1].toFixed(4)},${Rt[2].toFixed(4)},${Rt[3].toFixed(4)},${_t[0].toFixed(4)},${_t[1].toFixed(4)},${_t[2].toFixed(4)},${_t[3].toFixed(4)}`;le.push(Wr)})}else for(let Je=0;Je<de.length-1;Je+=2){const vt=de[Je],Te=de[Je+1],kt=`${vt.name} & ${Te.name}`;mt(`Processing Pair ${Math.floor(Je/2)+1}/${Math.floor(de.length/2)}: ${vt.name} & ${Te.name}...`);const $e=await vt.arrayBuffer(),Me=await Id($e),hr=await Te.arrayBuffer(),St=await r0($e,hr,!1,!0);re.forEach((Dt,Rt)=>{const _t=Math.floor(Rt/pt)+1,Wr=Rt%pt+1,ba=Wi(Me.data,Me.width,Me.height,Dt.x,Dt.y,Dt.w,Dt.h),Ri=Wi(St.rawData,St.width,St.height,Dt.x,Dt.y,Dt.w,Dt.h),br=ba.means,io=Ri.stdDevs,Go=`${kt},${_t},${Wr},${br[0].toFixed(4)},${br[1].toFixed(4)},${br[2].toFixed(4)},${br[3].toFixed(4)},${io[0].toFixed(4)},${io[1].toFixed(4)},${io[2].toFixed(4)},${io[3].toFixed(4)}`;le.push(Go)})}const me=le.join(`
`),_e=new Blob([me],{type:"text/csv;charset=utf-8;"}),Ee=URL.createObjectURL(_e),ot=document.createElement("a");ot.href=Ee,ot.setAttribute("download",`dr_lab_batch_${G}_${new Date().getTime()}.csv`),document.body.appendChild(ot),ot.click(),document.body.removeChild(ot),URL.revokeObjectURL(Ee)}catch(me){console.error("Batch Error",me),gt("Batch Processing Failed: "+me.message)}finally{mt(null)}},yu=()=>{if(!_){gt("Please load an image first.");return}ct([]),V([]),Fr(1)},Yh=async()=>{if(!j)return;if(p.isConnected?qe(null):qe(`JiangBridge Offline
JiangBridge Offline, limited content shown only`),p.isConnected){mt("Reading EXIF (JiangBridge)...");try{const G=new FormData;G.append("file",j);const re=await fetch("http://localhost:5428/read",{method:"POST",body:G});if(!re.ok)throw new Error(`Bridge error: ${re.statusText}`);const ne=await re.json();if(ne.success){let ge=ne.data;Array.isArray(ge)&&ge.length===1&&(ge=ge[0]),jn({exifData:ge}),Oe(!0),mt(null);return}else console.warn("Bridge returned error:",ne.error)}catch(G){console.warn("Bridge fetch failed, falling back to LibRaw:",G)}mt(null)}if(!_){gt("No image data available.");return}const F=_.metadata;if(!F){gt("No metadata found for this image.");return}jn({exifData:F}),Oe(!0)},qh=O.useCallback(async F=>{mt("Parsing CSV files...");const G=[];let re,ne;try{const ge=Array.from(F).map((ee,he)=>new Promise((le,de)=>{const me=new FileReader;me.onload=_e=>{var vt;const Ee=(vt=_e.target)==null?void 0:vt.result;if(!Ee)return le();const ot=Ee.split(`
`);let Je=-1;for(let Te=0;Te<ot.length;Te++){const kt=ot[Te].trim();if(kt){if(he===0&&kt.startsWith("#")){if(kt.startsWith("#BlackLevel:")){const Me=kt.replace("#BlackLevel:","").trim().split(/[\s,]+/).map(Number);Me.length>=4&&!Me.some(isNaN)&&(re=[Me[0],Me[1],Me[2],Me[3]])}else if(kt.startsWith("#ImageHeight:")){const $e=kt.replace("#ImageHeight:","").trim(),Me=parseInt($e);!isNaN(Me)&&Me>0&&(ne=Me)}continue}if(kt.startsWith("Row")||kt.startsWith("Filename")){Je=Te+1;break}}}Je===-1&&(Je=1);for(let Te=Je;Te<ot.length;Te++){const kt=ot[Te].trim();if(!kt||kt.startsWith("#"))continue;const $e=kt.split(",");let Me=0;if(isNaN(Number($e[0]))&&(Me=1),$e.length<10+Me)continue;const hr=Me===1?$e[0]:ee.name,St=$e.map(Number),Dt=St[0+Me],Rt=St[1+Me],_t=St[2+Me],Wr=St[3+Me],ba=St[4+Me],Ri=St[5+Me],br=St[6+Me],io=St[7+Me],Go=St[8+Me],B_=St[9+Me];_t>0&&G.push({channel:"R",mean:_t,std:br,filename:hr,row:Dt,col:Rt}),Wr>0&&G.push({channel:"G1",mean:Wr,std:io,filename:hr,row:Dt,col:Rt}),ba>0&&G.push({channel:"G2",mean:ba,std:Go,filename:hr,row:Dt,col:Rt}),Ri>0&&G.push({channel:"B",mean:Ri,std:B_,filename:hr,row:Dt,col:Rt})}le()},me.onerror=de,me.readAsText(ee)}));await Promise.all(ge),ea(G),kn(re||ne?{blackLevel:re,height:ne}:null),l(!0)}catch(ge){gt("Failed to parse CSV files: "+ge.message)}finally{mt(null)}},[]),hn=F=>{F.button===0&&vr(!0)},$i=O.useCallback(F=>{Ct&&Mt(G=>({x:G.x+F.movementX,y:G.y+F.movementY}))},[Ct]),Di=O.useCallback(()=>{vr(!1)},[]);O.useEffect(()=>(Ct?(window.addEventListener("mousemove",$i),window.addEventListener("mouseup",Di)):(window.removeEventListener("mousemove",$i),window.removeEventListener("mouseup",Di)),()=>{window.removeEventListener("mousemove",$i),window.removeEventListener("mouseup",Di)}),[Ct,$i,Di]);const Qh=()=>{if(!A||!j)return;const F=j.name||"pattern_test.dng",G=new Blob([A],{type:"image/x-adobe-dng"}),re=URL.createObjectURL(G),ne=document.createElement("a");ne.href=re,ne.download=F,document.body.appendChild(ne),ne.click(),document.body.removeChild(ne),URL.revokeObjectURL(re)};return e?u.jsxs("div",{className:"flex flex-col h-screen items-center justify-center bg-gray-50 dark:bg-slate-950 text-gray-900 dark:text-slate-200",children:[u.jsx("div",{className:"w-12 h-12 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mb-4"}),u.jsx("h2",{className:"text-xl font-bold animate-pulse",children:r}),u.jsx("p",{className:"text-sm text-gray-500 mt-2 mb-6",children:"Loading stored buffers from database..."}),u.jsx("button",{onClick:pu,className:"px-6 py-2 bg-red-100 hover:bg-red-200 dark:bg-red-900/30 dark:hover:bg-red-900/50 text-red-700 dark:text-red-300 font-bold rounded-lg transition-colors border border-red-200 dark:border-red-800 text-sm",children:"Abandon Saved Session (Start Fresh)"})]}):u.jsxs("div",{className:"flex flex-col h-screen bg-white dark:bg-slate-950 text-gray-900 dark:text-slate-200 font-sans transition-colors duration-300 overflow-hidden",children:[u.jsx("div",{className:"p-4 pb-0 flex-shrink-0",children:u.jsx(pM,{onLoadImage:Ke,onFileSelected:Ne,onGenerateFakeDng:Wt,fileName:j?j.name:null,hasGeneratedData:(j==null?void 0:j.name)==="pattern_test.dng",viewMode:rt,onSetViewMode:Tr,patternPeriod:Ce,onPatternPeriodChange:Ht,fillFactor:at,onFillFactorChange:Re,patternPhase:tt,onPatternPhaseChange:Ze,showPatternControls:(j==null?void 0:j.name)==="pattern_test.dng",onOpenAbout:()=>Er(!0),onShowExif:Yh,bridgeStatus:p,onBridgeClick:()=>v(!0),isDrLabOpen:Ft,onToggleDrLab:()=>{ur(!Ft),Fr(0),V([]),ct([]),yr&&nr(!1)},isFftLabOpen:yr,onToggleFftLab:()=>{nr(!yr),Ft&&ur(!1)},onGenerateTestPic:()=>wt(!0),onPTCFilesSelected:qh,onDownloadDng:Qh,isThreePlane:T,onOpenDatabase:()=>f(!0)})}),u.jsxs("div",{className:"flex flex-1 overflow-hidden p-4 pt-2 gap-4 relative",children:[u.jsxs("div",{className:"flex-1 relative bg-gray-100 dark:bg-slate-900 rounded-2xl border border-gray-200 dark:border-slate-800 shadow-inner overflow-hidden transition-colors duration-300",ref:Uo,children:[$t&&u.jsxs("div",{className:"absolute bottom-4 right-4 z-50 flex items-center gap-2 bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm px-3 py-1.5 rounded-full border border-cyan-500/30 shadow-sm",children:[u.jsx("div",{className:"w-4 h-4 border-2 border-cyan-500 border-t-transparent rounded-full animate-spin"}),u.jsx("span",{className:"text-xs text-cyan-600 dark:text-cyan-400 font-mono",children:oo||"Processing..."})]}),x.length>1&&u.jsxs("div",{className:"absolute bottom-4 right-20 z-50 flex items-center gap-2 bg-white/90 dark:bg-slate-800/90 backdrop-blur-sm px-3 py-1.5 rounded-lg border border-gray-200 dark:border-slate-700 shadow-lg text-sm font-mono text-gray-700 dark:text-slate-200",children:[u.jsx("button",{onClick:Vh,disabled:g<=0,className:"hover:text-cyan-500 disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"Previous Image",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),u.jsxs("span",{className:"min-w-[3rem] text-center select-none font-bold",children:[g+1," / ",x.length]}),u.jsx("button",{onClick:Ei,disabled:g>=x.length-1,className:"hover:text-cyan-500 disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"Next Image",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),u.jsxs("div",{className:"absolute bottom-4 left-4 z-50 flex flex-col-reverse gap-2 items-start pointer-events-none",children:[H&&R&&u.jsxs("div",{className:"pointer-events-auto flex items-center gap-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg shadow-lg overflow-hidden animate-in slide-in-from-bottom-2 fade-in",children:[u.jsxs("button",{onClick:()=>U(!1),className:"px-3 py-1.5 text-xs font-bold text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors flex items-center gap-2",children:[u.jsx("span",{className:"w-2 h-2 rounded-full bg-cyan-500"}),"ROI Stats"]}),u.jsx("button",{onClick:()=>{U(!1),B(null)},className:"px-2 py-1.5 text-gray-400 hover:text-red-500 hover:bg-gray-100 dark:hover:bg-slate-700 border-l border-gray-200 dark:border-slate-700 transition-colors",children:u.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),ke.filter(F=>F.isMinimized).map(F=>{let G="Window",re="bg-gray-500";return F.type==="histogram"?(G="Histogram",re="bg-purple-500"):F.type==="fft"?(G="FFT Spectrum",re="bg-fuchsia-500"):F.type==="quant"?(G="Quantization",re="bg-teal-500"):F.type==="pearson"&&(G="Pearson",re="bg-indigo-500"),u.jsxs("div",{className:"pointer-events-auto flex items-center gap-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg shadow-lg overflow-hidden animate-in slide-in-from-bottom-2 fade-in",children:[u.jsxs("button",{onClick:()=>Kh(F.id),className:"px-3 py-1.5 text-xs font-bold text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors flex items-center gap-2",children:[u.jsx("span",{className:`w-2 h-2 rounded-full ${re}`}),G]}),u.jsx("button",{onClick:()=>gu(F.id),className:"px-2 py-1.5 text-gray-400 hover:text-red-500 hover:bg-gray-100 dark:hover:bg-slate-700 border-l border-gray-200 dark:border-slate-700 transition-colors",children:u.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},F.id)})]}),!H&&u.jsx(TZ,{stats:R,onClose:()=>{B(null),fe(null)},onMinimize:()=>U(!0),isBGGR:te,onToggleBGGR:X,onOpenWindow:Ti,displaySettings:L,zIndex:K,onFocus:J}),u.jsx(hZ,{isOpen:Bt,onClose:()=>Er(!1)}),u.jsx(pZ,{isOpen:We,onClose:()=>Oe(!1),data:D,fileName:j?j.name:"",warning:Ie}),u.jsx(mZ,{isOpen:s,onClose:()=>l(!1),data:fn,blackLevel:ye,imageHeight:Sn,isBGGR:te,importedMetadata:Dn||void 0,theme:o,initialCameraModel:(D==null?void 0:D.Model)||"",initialISO:(D==null?void 0:D.ISO)||((pl=D==null?void 0:D.ISOSpeedRatings)==null?void 0:pl.toString())||""}),u.jsx(wZ,{isOpen:c,onClose:()=>f(!1),theme:o}),u.jsx(kZ,{isOpen:d,onClose:()=>h(!1),zIndex:200}),u.jsx(bs,{isOpen:bt,onClose:()=>Zt(!1),onConfirm:ar,title:"High Resource Usage Warning",confirmText:"I know the risk and insist to continue",message:u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx("p",{children:"Patter DNG mode involves high-frequency refreshing and heavy computation. Due to current memory management limitations, repeated use may lead to browser memory overflow or crashes. Please proceed with caution."}),u.jsx("p",{className:"text-xs text-gray-500"})]})}),u.jsx(bs,{isOpen:nt,onClose:()=>rr(!1),onConfirm:Ci,title:"Export 16-bit TIFF Options",confirmText:"Confirm Export",message:u.jsxs("div",{className:"flex flex-col gap-4 text-left",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4 bg-gray-50 dark:bg-slate-800/80 p-4 rounded-xl border border-gray-200 dark:border-slate-700",children:[u.jsxs("div",{className:"flex flex-col items-center gap-3",children:[u.jsxs("div",{className:"flex flex-col items-center text-center",children:[u.jsx("span",{className:"font-bold text-xs text-gray-800 dark:text-slate-200",children:"Stretch ()"}),u.jsx("span",{className:"text-[9px] text-gray-500 dark:text-slate-400 mt-0.5",children:"Map [0, White] to [0, 65535]"})]}),u.jsx("div",{onClick:()=>Zr(!Pt),className:`relative w-12 h-6 rounded-full transition-colors cursor-pointer ${Pt?"bg-cyan-500":"bg-gray-300 dark:bg-slate-600"}`,children:u.jsx("div",{className:`absolute top-1 left-1 w-4 h-4 bg-white rounded-full shadow-sm transition-transform ${Pt?"translate-x-6":""}`})})]}),u.jsxs("div",{className:"flex flex-col items-center gap-3",children:[u.jsxs("div",{className:"flex flex-col items-center text-center",children:[u.jsx("span",{className:"font-bold text-xs text-gray-800 dark:text-slate-200",children:"sRGB Gamma"}),u.jsx("span",{className:"text-[9px] text-gray-500 dark:text-slate-400 mt-0.5",children:"Apply non-linear contrast"})]}),u.jsx("div",{onClick:()=>ya(!At),className:`relative w-12 h-6 rounded-full transition-colors cursor-pointer ${At?"bg-purple-500":"bg-gray-300 dark:bg-slate-600"}`,children:u.jsx("div",{className:`absolute top-1 left-1 w-4 h-4 bg-white rounded-full shadow-sm transition-transform ${At?"translate-x-6":""}`})})]})]}),u.jsxs("div",{className:"p-3 rounded-lg bg-indigo-50 dark:bg-indigo-900/20 text-[11px] text-indigo-700 dark:text-indigo-300 italic border border-indigo-100 dark:border-indigo-800 text-center",children:[Pt&&!At&&"Mode: Stretched Linear. Histogram preserved but range expanded.",!Pt&&At&&"Mode: Native DN + sRGB. Best for analyzing raw distribution contrast.",Pt&&At&&"Mode: Ready-to-Use. Conventional 16-bit development.",!Pt&&!At&&"Mode: Native Linear. Pure physical sensor DN values."]})]})}),ke.map(F=>{if(F.isMinimized)return null;const G=x.find(ge=>ge.id===F.sessionId),re=G==null?void 0:G.rawImageData;if(!re)return null;const ne={key:F.id,isOpen:!0,onClose:()=>gu(F.id),onMinimize:()=>mu(F.id),rawImageData:re,roi:F.roi,isBGGR:F.isBGGR,zIndex:F.zIndex,onFocus:()=>$(F.id),initialPosition:F.initialPosition,initialInternalState:F.internalState,onUpdateState:ge=>Y(F.id,ge),stackFiles:F.stackFiles};return F.type==="histogram"?u.jsx(oZ,{...ne}):F.type==="fft"?u.jsx(cZ,{...ne,onUpdateROI:ge=>C(F.id,ge)}):F.type==="quant"?u.jsx(uZ,{...ne}):F.type==="pearson"?u.jsx(fZ,{...ne}):null}),va&&u.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-white/90 dark:bg-slate-900/90 p-8",children:u.jsxs("div",{className:"max-w-md text-center p-6 bg-white dark:bg-slate-800 rounded-xl border border-red-500/50 shadow-xl",children:[u.jsx("h3",{className:"text-xl font-bold text-red-500 dark:text-red-400 mb-2",children:"Notice"}),u.jsx("p",{className:"text-gray-600 dark:text-slate-300 mb-6 whitespace-pre-wrap",children:va}),u.jsx("button",{onClick:()=>gt(null),className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 dark:bg-slate-700 dark:hover:bg-slate-600 rounded-lg text-gray-900 dark:text-white transition-colors",children:"Dismiss"})]})}),!je&&!$t&&!va&&u.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-gray-400 dark:text-slate-600 select-none",children:u.jsx("p",{className:"text-lg",children:"Load an image or generate a pattern"})}),u.jsx(gM,{image:je,zoom:zo,pan:Mi,onPanChange:Rn,onZoomChange:yt,onSelectionChange:zr,forcedSelection:ue,theme:o,touchAction:Wo,isMarking:xr>0,onPointClick:Jr,markers:lt,gridRects:Ue}),u.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-1/2 z-30 pointer-events-none select-none opacity-20 mix-blend-normal dark:mix-blend-plus-lighter",children:u.jsx("svg",{viewBox:"0 0 500 60",className:"w-full h-auto drop-shadow-xl",children:u.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"36",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})}),_&&!xr&&u.jsxs("div",{className:"absolute bottom-4 left-4 z-30 pointer-events-none opacity-50 text-[10px] text-gray-500 dark:text-slate-400",children:["Hold ",u.jsx("b",{children:"Shift"})," + Drag to calculate Raw ROI stats"]}),u.jsx(OM,{zoom:zo,onZoomChange:yt,onResetView:()=>{$a(1),Rn({x:0,y:0})},touchAction:Wo,onToggleTouchAction:dr}),!be&&u.jsx("button",{onClick:()=>Q(!0),className:"absolute right-0 top-1/2 -translate-y-1/2 z-50 bg-white dark:bg-slate-900 border-y border-l border-gray-200 dark:border-slate-800 shadow-md p-1.5 rounded-l-lg hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors animate-in fade-in slide-in-from-right-2",title:"Show Tools",children:u.jsx("svg",{className:"w-4 h-4 text-gray-500 dark:text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})})]}),u.jsxs("div",{className:`flex-shrink-0 flex flex-col bg-white dark:bg-slate-900 rounded-2xl border border-gray-200 dark:border-slate-800 shadow-xl overflow-hidden transition-all duration-300 ease-in-out ${be?"w-80 translate-x-0 opacity-100 ml-0":"w-0 translate-x-20 opacity-0 p-0 border-0 pointer-events-none ml-0"}`,children:[u.jsxs("div",{className:"flex justify-between items-center px-4 py-3 border-b border-gray-200 dark:border-slate-800 bg-gray-50/50 dark:bg-slate-800/50 flex-shrink-0",children:[u.jsx("h2",{className:"font-bold text-sm text-gray-700 dark:text-slate-300 uppercase tracking-wide flex items-center gap-2",children:u.jsx("span",{children:"Tools"})}),u.jsx("button",{onClick:()=>Q(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 transition-colors p-1 rounded hover:bg-gray-200 dark:hover:bg-slate-700",title:"Hide Tools",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),u.jsx("div",{className:"flex-1 overflow-hidden relative",children:u.jsx(yM,{rawImageData:_,displaySettings:L,onApplyDisplaySettings:Ve,onSetSelection:ft,exifData:D,isBridgeConnected:p.isConnected,isDrLabOpen:Ft,drMarkingStep:xr,onStartMarking:yu,onGenerateTestPic:()=>wt(!0),drRoiSize:Xe,onDrRoiSizeChange:Z,drGridRows:pe,onDrGridRowsChange:Qe,drGridCols:pt,onDrGridColsChange:Be,onBatchDrLab:Xh,hasDrMarkers:Ue.length>0||lt.length===4,isFftLabOpen:yr,onProcessPair:He,onProcessBatchDiff:Fe,onProcessStackFft:Tt,onOpenCrossCalc:()=>h(!0),isThreePlane:_==null?void 0:_.isThreePlane})})]})]}),fr&&u.jsxs("div",{className:"fixed inset-0 z-[200] bg-black overflow-hidden",children:[u.jsx("div",{onMouseDown:hn,style:{transform:`translate(${Ge.x}px, ${Ge.y}px)`,cursor:Ct?"grabbing":"grab",opacity:ht,transition:"opacity 0.1s linear"},className:"w-full h-full flex items-center justify-center",children:u.jsx("img",{src:"/drtest.png",alt:"DR Test",className:"max-w-full max-h-full object-contain pointer-none select-none",draggable:!1})}),u.jsxs("div",{className:"absolute top-4 right-4 flex flex-col items-end gap-2 pointer-events-none z-[201]",children:[u.jsx("div",{className:"text-white/50 text-sm bg-black/50 px-3 py-1 rounded backdrop-blur-sm",children:"Press ESC to exit | Drag to move"}),u.jsx("div",{className:"text-white/20 text-xs px-2 select-none",children:"F11 full screen"}),u.jsx("div",{className:"text-red-900/80 text-lg px-2 select-none font-bold mt-4",children:""}),u.jsx("div",{className:"text-red-900/60 text-xs px-2 select-none",children:"Shoot slightly out of focus"})]}),u.jsxs("div",{className:"fixed bottom-8 left-1/2 -translate-x-1/2 bg-black/60 backdrop-blur-md p-4 rounded-xl border border-gray-700 flex flex-col gap-3 items-center z-[202]",children:[u.jsx("button",{onClick:()=>cn(!sr),className:`px-4 py-2 rounded-lg font-bold text-sm transition-colors ${sr?"bg-amber-500 text-black hover:bg-amber-400":"bg-gray-700 text-white hover:bg-gray-600"}`,children:sr?"Stop Breathing":"Start Breathing"}),sr&&u.jsxs("div",{className:"flex items-center gap-3 w-64 animate-in fade-in",children:[u.jsx("span",{className:"text-xs text-gray-400 font-bold uppercase",children:"Speed"}),u.jsx("input",{type:"range",min:"0.5",max:"10",step:"0.5",value:Et,onChange:F=>un(parseFloat(F.target.value)),className:"flex-1 h-1.5 bg-gray-600 rounded-lg appearance-none cursor-pointer accent-amber-500"}),u.jsx("span",{className:"text-xs text-amber-500 w-8 text-right",children:Et.toFixed(1)})]})]})]}),u.jsx(PM,{theme:o,setTheme:i})]})},I_=document.getElementById("root");if(!I_)throw new Error("Could not find root element to mount to");const DZ=i0.createRoot(I_);DZ.render(u.jsx(M.StrictMode,{children:u.jsx($Z,{})}));export{VQ as _};
