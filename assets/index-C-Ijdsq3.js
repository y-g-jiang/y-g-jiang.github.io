var bP=Object.defineProperty;var wP=(e,t,r)=>t in e?bP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var kn=(e,t,r)=>wP(e,typeof t!="symbol"?t+"":t,r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();var Yu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Dt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var yk={exports:{}},xh={},vk={exports:{}},at={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ju=Symbol.for("react.element"),kP=Symbol.for("react.portal"),jP=Symbol.for("react.fragment"),SP=Symbol.for("react.strict_mode"),NP=Symbol.for("react.profiler"),_P=Symbol.for("react.provider"),OP=Symbol.for("react.context"),PP=Symbol.for("react.forward_ref"),AP=Symbol.for("react.suspense"),MP=Symbol.for("react.memo"),CP=Symbol.for("react.lazy"),ix=Symbol.iterator;function EP(e){return e===null||typeof e!="object"?null:(e=ix&&e[ix]||e["@@iterator"],typeof e=="function"?e:null)}var xk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},bk=Object.assign,wk={};function pl(e,t,r){this.props=e,this.context=t,this.refs=wk,this.updater=r||xk}pl.prototype.isReactComponent={};pl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};pl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function kk(){}kk.prototype=pl.prototype;function ry(e,t,r){this.props=e,this.context=t,this.refs=wk,this.updater=r||xk}var ny=ry.prototype=new kk;ny.constructor=ry;bk(ny,pl.prototype);ny.isPureReactComponent=!0;var sx=Array.isArray,jk=Object.prototype.hasOwnProperty,ay={current:null},Sk={key:!0,ref:!0,__self:!0,__source:!0};function Nk(e,t,r){var n,a={},o=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)jk.call(t,n)&&!Sk.hasOwnProperty(n)&&(a[n]=t[n]);var s=arguments.length-2;if(s===1)a.children=r;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(n in s=e.defaultProps,s)a[n]===void 0&&(a[n]=s[n]);return{$$typeof:ju,type:e,key:o,ref:i,props:a,_owner:ay.current}}function TP(e,t){return{$$typeof:ju,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function oy(e){return typeof e=="object"&&e!==null&&e.$$typeof===ju}function $P(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var lx=/\/+/g;function _0(e,t){return typeof e=="object"&&e!==null&&e.key!=null?$P(""+e.key):t.toString(36)}function Mf(e,t,r,n,a){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case ju:case kP:i=!0}}if(i)return i=e,a=a(i),e=n===""?"."+_0(i,0):n,sx(a)?(r="",e!=null&&(r=e.replace(lx,"$&/")+"/"),Mf(a,t,r,"",function(c){return c})):a!=null&&(oy(a)&&(a=TP(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(lx,"$&/")+"/")+e)),t.push(a)),1;if(i=0,n=n===""?".":n+":",sx(e))for(var s=0;s<e.length;s++){o=e[s];var l=n+_0(o,s);i+=Mf(o,t,r,l,a)}else if(l=EP(e),typeof l=="function")for(e=l.call(e),s=0;!(o=e.next()).done;)o=o.value,l=n+_0(o,s++),i+=Mf(o,t,r,l,a);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function qu(e,t,r){if(e==null)return e;var n=[],a=0;return Mf(e,n,"","",function(o){return t.call(r,o,a++)}),n}function DP(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var On={current:null},Cf={transition:null},RP={ReactCurrentDispatcher:On,ReactCurrentBatchConfig:Cf,ReactCurrentOwner:ay};function _k(){throw Error("act(...) is not supported in production builds of React.")}at.Children={map:qu,forEach:function(e,t,r){qu(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return qu(e,function(){t++}),t},toArray:function(e){return qu(e,function(t){return t})||[]},only:function(e){if(!oy(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};at.Component=pl;at.Fragment=jP;at.Profiler=NP;at.PureComponent=ry;at.StrictMode=SP;at.Suspense=AP;at.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RP;at.act=_k;at.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=bk({},e.props),a=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=ay.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)jk.call(t,l)&&!Sk.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];n.children=s}return{$$typeof:ju,type:e.type,key:a,ref:o,props:n,_owner:i}};at.createContext=function(e){return e={$$typeof:OP,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:_P,_context:e},e.Consumer=e};at.createElement=Nk;at.createFactory=function(e){var t=Nk.bind(null,e);return t.type=e,t};at.createRef=function(){return{current:null}};at.forwardRef=function(e){return{$$typeof:PP,render:e}};at.isValidElement=oy;at.lazy=function(e){return{$$typeof:CP,_payload:{_status:-1,_result:e},_init:DP}};at.memo=function(e,t){return{$$typeof:MP,type:e,compare:t===void 0?null:t}};at.startTransition=function(e){var t=Cf.transition;Cf.transition={};try{e()}finally{Cf.transition=t}};at.unstable_act=_k;at.useCallback=function(e,t){return On.current.useCallback(e,t)};at.useContext=function(e){return On.current.useContext(e)};at.useDebugValue=function(){};at.useDeferredValue=function(e){return On.current.useDeferredValue(e)};at.useEffect=function(e,t){return On.current.useEffect(e,t)};at.useId=function(){return On.current.useId()};at.useImperativeHandle=function(e,t,r){return On.current.useImperativeHandle(e,t,r)};at.useInsertionEffect=function(e,t){return On.current.useInsertionEffect(e,t)};at.useLayoutEffect=function(e,t){return On.current.useLayoutEffect(e,t)};at.useMemo=function(e,t){return On.current.useMemo(e,t)};at.useReducer=function(e,t,r){return On.current.useReducer(e,t,r)};at.useRef=function(e){return On.current.useRef(e)};at.useState=function(e){return On.current.useState(e)};at.useSyncExternalStore=function(e,t,r){return On.current.useSyncExternalStore(e,t,r)};at.useTransition=function(){return On.current.useTransition()};at.version="18.3.1";vk.exports=at;var S=vk.exports;const R=Dt(S);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LP=S,IP=Symbol.for("react.element"),BP=Symbol.for("react.fragment"),FP=Object.prototype.hasOwnProperty,zP=LP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,UP={key:!0,ref:!0,__self:!0,__source:!0};function Ok(e,t,r){var n,a={},o=null,i=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)FP.call(t,n)&&!UP.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:IP,type:e,key:o,ref:i,props:a,_owner:zP.current}}xh.Fragment=BP;xh.jsx=Ok;xh.jsxs=Ok;yk.exports=xh;var u=yk.exports,Cp={},Pk={exports:{}},ea={},Ak={exports:{}},Mk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(E,L){var z=E.length;E.push(L);e:for(;0<z;){var Z=z-1>>>1,q=E[Z];if(0<a(q,L))E[Z]=L,E[z]=q,z=Z;else break e}}function r(E){return E.length===0?null:E[0]}function n(E){if(E.length===0)return null;var L=E[0],z=E.pop();if(z!==L){E[0]=z;e:for(var Z=0,q=E.length,H=q>>>1;Z<H;){var se=2*(Z+1)-1,ee=E[se],D=se+1,ne=E[D];if(0>a(ee,z))D<q&&0>a(ne,ee)?(E[Z]=ne,E[D]=z,Z=D):(E[Z]=ee,E[se]=z,Z=se);else if(D<q&&0>a(ne,z))E[Z]=ne,E[D]=z,Z=D;else break e}}return L}function a(E,L){var z=E.sortIndex-L.sortIndex;return z!==0?z:E.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,s=i.now();e.unstable_now=function(){return i.now()-s}}var l=[],c=[],f=1,d=null,h=3,p=!1,m=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(E){for(var L=r(c);L!==null;){if(L.callback===null)n(c);else if(L.startTime<=E)n(c),L.sortIndex=L.expirationTime,t(l,L);else break;L=r(c)}}function j(E){if(v=!1,x(E),!m)if(r(l)!==null)m=!0,W(k);else{var L=r(c);L!==null&&P(j,L.startTime-E)}}function k(E,L){m=!1,v&&(v=!1,y(_),_=-1),p=!0;var z=h;try{for(x(L),d=r(l);d!==null&&(!(d.expirationTime>L)||E&&!M());){var Z=d.callback;if(typeof Z=="function"){d.callback=null,h=d.priorityLevel;var q=Z(d.expirationTime<=L);L=e.unstable_now(),typeof q=="function"?d.callback=q:d===r(l)&&n(l),x(L)}else n(l);d=r(l)}if(d!==null)var H=!0;else{var se=r(c);se!==null&&P(j,se.startTime-L),H=!1}return H}finally{d=null,h=z,p=!1}}var w=!1,N=null,_=-1,O=5,A=-1;function M(){return!(e.unstable_now()-A<O)}function C(){if(N!==null){var E=e.unstable_now();A=E;var L=!0;try{L=N(!0,E)}finally{L?$():(w=!1,N=null)}}else w=!1}var $;if(typeof g=="function")$=function(){g(C)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,T=F.port2;F.port1.onmessage=C,$=function(){T.postMessage(null)}}else $=function(){b(C,0)};function W(E){N=E,w||(w=!0,$())}function P(E,L){_=b(function(){E(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(E){E.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,W(k))},e.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<E?Math.floor(1e3/E):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(E){switch(h){case 1:case 2:case 3:var L=3;break;default:L=h}var z=h;h=L;try{return E()}finally{h=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(E,L){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var z=h;h=E;try{return L()}finally{h=z}},e.unstable_scheduleCallback=function(E,L,z){var Z=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?Z+z:Z):z=Z,E){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=z+q,E={id:f++,callback:L,priorityLevel:E,startTime:z,expirationTime:q,sortIndex:-1},z>Z?(E.sortIndex=z,t(c,E),r(l)===null&&E===r(c)&&(v?(y(_),_=-1):v=!0,P(j,z-Z))):(E.sortIndex=q,t(l,E),m||p||(m=!0,W(k))),E},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(E){var L=h;return function(){var z=h;h=L;try{return E.apply(this,arguments)}finally{h=z}}}})(Mk);Ak.exports=Mk;var WP=Ak.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GP=S,Jn=WP;function ce(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ck=new Set,jc={};function Yi(e,t){Ds(e,t),Ds(e+"Capture",t)}function Ds(e,t){for(jc[e]=t,e=0;e<t.length;e++)Ck.add(t[e])}var go=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ep=Object.prototype.hasOwnProperty,HP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,cx={},ux={};function VP(e){return Ep.call(ux,e)?!0:Ep.call(cx,e)?!1:HP.test(e)?ux[e]=!0:(cx[e]=!0,!1)}function XP(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function KP(e,t,r,n){if(t===null||typeof t>"u"||XP(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Pn(e,t,r,n,a,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var tn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){tn[e]=new Pn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];tn[t]=new Pn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){tn[e]=new Pn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){tn[e]=new Pn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){tn[e]=new Pn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){tn[e]=new Pn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){tn[e]=new Pn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){tn[e]=new Pn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){tn[e]=new Pn(e,5,!1,e.toLowerCase(),null,!1,!1)});var iy=/[\-:]([a-z])/g;function sy(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(iy,sy);tn[t]=new Pn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(iy,sy);tn[t]=new Pn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(iy,sy);tn[t]=new Pn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){tn[e]=new Pn(e,1,!1,e.toLowerCase(),null,!1,!1)});tn.xlinkHref=new Pn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){tn[e]=new Pn(e,1,!1,e.toLowerCase(),null,!0,!0)});function ly(e,t,r,n){var a=tn.hasOwnProperty(t)?tn[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(KP(t,r,a,n)&&(r=null),n||a===null?VP(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var ko=GP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zu=Symbol.for("react.element"),us=Symbol.for("react.portal"),fs=Symbol.for("react.fragment"),cy=Symbol.for("react.strict_mode"),Tp=Symbol.for("react.profiler"),Ek=Symbol.for("react.provider"),Tk=Symbol.for("react.context"),uy=Symbol.for("react.forward_ref"),$p=Symbol.for("react.suspense"),Dp=Symbol.for("react.suspense_list"),fy=Symbol.for("react.memo"),Eo=Symbol.for("react.lazy"),$k=Symbol.for("react.offscreen"),fx=Symbol.iterator;function Ll(e){return e===null||typeof e!="object"?null:(e=fx&&e[fx]||e["@@iterator"],typeof e=="function"?e:null)}var lr=Object.assign,O0;function tc(e){if(O0===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);O0=t&&t[1]||""}return`
`+O0+e}var P0=!1;function A0(e,t){if(!e||P0)return"";P0=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),o=n.stack.split(`
`),i=a.length-1,s=o.length-1;1<=i&&0<=s&&a[i]!==o[s];)s--;for(;1<=i&&0<=s;i--,s--)if(a[i]!==o[s]){if(i!==1||s!==1)do if(i--,s--,0>s||a[i]!==o[s]){var l=`
`+a[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=i&&0<=s);break}}}finally{P0=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?tc(e):""}function YP(e){switch(e.tag){case 5:return tc(e.type);case 16:return tc("Lazy");case 13:return tc("Suspense");case 19:return tc("SuspenseList");case 0:case 2:case 15:return e=A0(e.type,!1),e;case 11:return e=A0(e.type.render,!1),e;case 1:return e=A0(e.type,!0),e;default:return""}}function Rp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case fs:return"Fragment";case us:return"Portal";case Tp:return"Profiler";case cy:return"StrictMode";case $p:return"Suspense";case Dp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Tk:return(e.displayName||"Context")+".Consumer";case Ek:return(e._context.displayName||"Context")+".Provider";case uy:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case fy:return t=e.displayName||null,t!==null?t:Rp(e.type)||"Memo";case Eo:t=e._payload,e=e._init;try{return Rp(e(t))}catch{}}return null}function qP(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Rp(t);case 8:return t===cy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Jo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Dk(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ZP(e){var t=Dk(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Qu(e){e._valueTracker||(e._valueTracker=ZP(e))}function Rk(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Dk(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Gf(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Lp(e,t){var r=t.checked;return lr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function dx(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Jo(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Lk(e,t){t=t.checked,t!=null&&ly(e,"checked",t,!1)}function Ip(e,t){Lk(e,t);var r=Jo(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Bp(e,t.type,r):t.hasOwnProperty("defaultValue")&&Bp(e,t.type,Jo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function hx(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Bp(e,t,r){(t!=="number"||Gf(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var rc=Array.isArray;function Ns(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Jo(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Fp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ce(91));return lr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function px(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ce(92));if(rc(r)){if(1<r.length)throw Error(ce(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Jo(r)}}function Ik(e,t){var r=Jo(t.value),n=Jo(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function gx(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Bk(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Bk(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ju,Fk=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ju=Ju||document.createElement("div"),Ju.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ju.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Sc(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ic={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},QP=["Webkit","ms","Moz","O"];Object.keys(ic).forEach(function(e){QP.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ic[t]=ic[e]})});function zk(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ic.hasOwnProperty(e)&&ic[e]?(""+t).trim():t+"px"}function Uk(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=zk(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var JP=lr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Up(e,t){if(t){if(JP[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ce(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ce(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ce(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ce(62))}}function Wp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gp=null;function dy(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Hp=null,_s=null,Os=null;function mx(e){if(e=_u(e)){if(typeof Hp!="function")throw Error(ce(280));var t=e.stateNode;t&&(t=Sh(t),Hp(e.stateNode,e.type,t))}}function Wk(e){_s?Os?Os.push(e):Os=[e]:_s=e}function Gk(){if(_s){var e=_s,t=Os;if(Os=_s=null,mx(e),t)for(e=0;e<t.length;e++)mx(t[e])}}function Hk(e,t){return e(t)}function Vk(){}var M0=!1;function Xk(e,t,r){if(M0)return e(t,r);M0=!0;try{return Hk(e,t,r)}finally{M0=!1,(_s!==null||Os!==null)&&(Vk(),Gk())}}function Nc(e,t){var r=e.stateNode;if(r===null)return null;var n=Sh(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ce(231,t,typeof r));return r}var Vp=!1;if(go)try{var Il={};Object.defineProperty(Il,"passive",{get:function(){Vp=!0}}),window.addEventListener("test",Il,Il),window.removeEventListener("test",Il,Il)}catch{Vp=!1}function eA(e,t,r,n,a,o,i,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(f){this.onError(f)}}var sc=!1,Hf=null,Vf=!1,Xp=null,tA={onError:function(e){sc=!0,Hf=e}};function rA(e,t,r,n,a,o,i,s,l){sc=!1,Hf=null,eA.apply(tA,arguments)}function nA(e,t,r,n,a,o,i,s,l){if(rA.apply(this,arguments),sc){if(sc){var c=Hf;sc=!1,Hf=null}else throw Error(ce(198));Vf||(Vf=!0,Xp=c)}}function qi(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Kk(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function yx(e){if(qi(e)!==e)throw Error(ce(188))}function aA(e){var t=e.alternate;if(!t){if(t=qi(e),t===null)throw Error(ce(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var o=a.alternate;if(o===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===r)return yx(a),e;if(o===n)return yx(a),t;o=o.sibling}throw Error(ce(188))}if(r.return!==n.return)r=a,n=o;else{for(var i=!1,s=a.child;s;){if(s===r){i=!0,r=a,n=o;break}if(s===n){i=!0,n=a,r=o;break}s=s.sibling}if(!i){for(s=o.child;s;){if(s===r){i=!0,r=o,n=a;break}if(s===n){i=!0,n=o,r=a;break}s=s.sibling}if(!i)throw Error(ce(189))}}if(r.alternate!==n)throw Error(ce(190))}if(r.tag!==3)throw Error(ce(188));return r.stateNode.current===r?e:t}function Yk(e){return e=aA(e),e!==null?qk(e):null}function qk(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=qk(e);if(t!==null)return t;e=e.sibling}return null}var Zk=Jn.unstable_scheduleCallback,vx=Jn.unstable_cancelCallback,oA=Jn.unstable_shouldYield,iA=Jn.unstable_requestPaint,xr=Jn.unstable_now,sA=Jn.unstable_getCurrentPriorityLevel,hy=Jn.unstable_ImmediatePriority,Qk=Jn.unstable_UserBlockingPriority,Xf=Jn.unstable_NormalPriority,lA=Jn.unstable_LowPriority,Jk=Jn.unstable_IdlePriority,bh=null,Ua=null;function cA(e){if(Ua&&typeof Ua.onCommitFiberRoot=="function")try{Ua.onCommitFiberRoot(bh,e,void 0,(e.current.flags&128)===128)}catch{}}var Ea=Math.clz32?Math.clz32:dA,uA=Math.log,fA=Math.LN2;function dA(e){return e>>>=0,e===0?32:31-(uA(e)/fA|0)|0}var ef=64,tf=4194304;function nc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Kf(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,o=e.pingedLanes,i=r&268435455;if(i!==0){var s=i&~a;s!==0?n=nc(s):(o&=i,o!==0&&(n=nc(o)))}else i=r&~a,i!==0?n=nc(i):o!==0&&(n=nc(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,o=t&-t,a>=o||a===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ea(t),a=1<<r,n|=e[r],t&=~a;return n}function hA(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pA(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-Ea(o),s=1<<i,l=a[i];l===-1?(!(s&r)||s&n)&&(a[i]=hA(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}function Kp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ej(){var e=ef;return ef<<=1,!(ef&4194240)&&(ef=64),e}function C0(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Su(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ea(t),e[t]=r}function gA(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Ea(r),o=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~o}}function py(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ea(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var St=0;function tj(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var rj,gy,nj,aj,oj,Yp=!1,rf=[],Wo=null,Go=null,Ho=null,_c=new Map,Oc=new Map,Do=[],mA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xx(e,t){switch(e){case"focusin":case"focusout":Wo=null;break;case"dragenter":case"dragleave":Go=null;break;case"mouseover":case"mouseout":Ho=null;break;case"pointerover":case"pointerout":_c.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oc.delete(t.pointerId)}}function Bl(e,t,r,n,a,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[a]},t!==null&&(t=_u(t),t!==null&&gy(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function yA(e,t,r,n,a){switch(t){case"focusin":return Wo=Bl(Wo,e,t,r,n,a),!0;case"dragenter":return Go=Bl(Go,e,t,r,n,a),!0;case"mouseover":return Ho=Bl(Ho,e,t,r,n,a),!0;case"pointerover":var o=a.pointerId;return _c.set(o,Bl(_c.get(o)||null,e,t,r,n,a)),!0;case"gotpointercapture":return o=a.pointerId,Oc.set(o,Bl(Oc.get(o)||null,e,t,r,n,a)),!0}return!1}function ij(e){var t=ji(e.target);if(t!==null){var r=qi(t);if(r!==null){if(t=r.tag,t===13){if(t=Kk(r),t!==null){e.blockedOn=t,oj(e.priority,function(){nj(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ef(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=qp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Gp=n,r.target.dispatchEvent(n),Gp=null}else return t=_u(r),t!==null&&gy(t),e.blockedOn=r,!1;t.shift()}return!0}function bx(e,t,r){Ef(e)&&r.delete(t)}function vA(){Yp=!1,Wo!==null&&Ef(Wo)&&(Wo=null),Go!==null&&Ef(Go)&&(Go=null),Ho!==null&&Ef(Ho)&&(Ho=null),_c.forEach(bx),Oc.forEach(bx)}function Fl(e,t){e.blockedOn===t&&(e.blockedOn=null,Yp||(Yp=!0,Jn.unstable_scheduleCallback(Jn.unstable_NormalPriority,vA)))}function Pc(e){function t(a){return Fl(a,e)}if(0<rf.length){Fl(rf[0],e);for(var r=1;r<rf.length;r++){var n=rf[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Wo!==null&&Fl(Wo,e),Go!==null&&Fl(Go,e),Ho!==null&&Fl(Ho,e),_c.forEach(t),Oc.forEach(t),r=0;r<Do.length;r++)n=Do[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Do.length&&(r=Do[0],r.blockedOn===null);)ij(r),r.blockedOn===null&&Do.shift()}var Ps=ko.ReactCurrentBatchConfig,Yf=!0;function xA(e,t,r,n){var a=St,o=Ps.transition;Ps.transition=null;try{St=1,my(e,t,r,n)}finally{St=a,Ps.transition=o}}function bA(e,t,r,n){var a=St,o=Ps.transition;Ps.transition=null;try{St=4,my(e,t,r,n)}finally{St=a,Ps.transition=o}}function my(e,t,r,n){if(Yf){var a=qp(e,t,r,n);if(a===null)z0(e,t,n,qf,r),xx(e,n);else if(yA(a,e,t,r,n))n.stopPropagation();else if(xx(e,n),t&4&&-1<mA.indexOf(e)){for(;a!==null;){var o=_u(a);if(o!==null&&rj(o),o=qp(e,t,r,n),o===null&&z0(e,t,n,qf,r),o===a)break;a=o}a!==null&&n.stopPropagation()}else z0(e,t,n,null,r)}}var qf=null;function qp(e,t,r,n){if(qf=null,e=dy(n),e=ji(e),e!==null)if(t=qi(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Kk(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qf=e,null}function sj(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sA()){case hy:return 1;case Qk:return 4;case Xf:case lA:return 16;case Jk:return 536870912;default:return 16}default:return 16}}var Io=null,yy=null,Tf=null;function lj(){if(Tf)return Tf;var e,t=yy,r=t.length,n,a="value"in Io?Io.value:Io.textContent,o=a.length;for(e=0;e<r&&t[e]===a[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===a[o-n];n++);return Tf=a.slice(e,1<n?1-n:void 0)}function $f(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function nf(){return!0}function wx(){return!1}function ta(e){function t(r,n,a,o,i){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(r=e[s],this[s]=r?r(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?nf:wx,this.isPropagationStopped=wx,this}return lr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=nf)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=nf)},persist:function(){},isPersistent:nf}),t}var gl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vy=ta(gl),Nu=lr({},gl,{view:0,detail:0}),wA=ta(Nu),E0,T0,zl,wh=lr({},Nu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xy,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==zl&&(zl&&e.type==="mousemove"?(E0=e.screenX-zl.screenX,T0=e.screenY-zl.screenY):T0=E0=0,zl=e),E0)},movementY:function(e){return"movementY"in e?e.movementY:T0}}),kx=ta(wh),kA=lr({},wh,{dataTransfer:0}),jA=ta(kA),SA=lr({},Nu,{relatedTarget:0}),$0=ta(SA),NA=lr({},gl,{animationName:0,elapsedTime:0,pseudoElement:0}),_A=ta(NA),OA=lr({},gl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),PA=ta(OA),AA=lr({},gl,{data:0}),jx=ta(AA),MA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},CA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},EA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function TA(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=EA[e])?!!t[e]:!1}function xy(){return TA}var $A=lr({},Nu,{key:function(e){if(e.key){var t=MA[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=$f(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?CA[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xy,charCode:function(e){return e.type==="keypress"?$f(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$f(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),DA=ta($A),RA=lr({},wh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sx=ta(RA),LA=lr({},Nu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xy}),IA=ta(LA),BA=lr({},gl,{propertyName:0,elapsedTime:0,pseudoElement:0}),FA=ta(BA),zA=lr({},wh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),UA=ta(zA),WA=[9,13,27,32],by=go&&"CompositionEvent"in window,lc=null;go&&"documentMode"in document&&(lc=document.documentMode);var GA=go&&"TextEvent"in window&&!lc,cj=go&&(!by||lc&&8<lc&&11>=lc),Nx=" ",_x=!1;function uj(e,t){switch(e){case"keyup":return WA.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fj(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ds=!1;function HA(e,t){switch(e){case"compositionend":return fj(t);case"keypress":return t.which!==32?null:(_x=!0,Nx);case"textInput":return e=t.data,e===Nx&&_x?null:e;default:return null}}function VA(e,t){if(ds)return e==="compositionend"||!by&&uj(e,t)?(e=lj(),Tf=yy=Io=null,ds=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return cj&&t.locale!=="ko"?null:t.data;default:return null}}var XA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ox(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!XA[e.type]:t==="textarea"}function dj(e,t,r,n){Wk(n),t=Zf(t,"onChange"),0<t.length&&(r=new vy("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var cc=null,Ac=null;function KA(e){jj(e,0)}function kh(e){var t=gs(e);if(Rk(t))return e}function YA(e,t){if(e==="change")return t}var hj=!1;if(go){var D0;if(go){var R0="oninput"in document;if(!R0){var Px=document.createElement("div");Px.setAttribute("oninput","return;"),R0=typeof Px.oninput=="function"}D0=R0}else D0=!1;hj=D0&&(!document.documentMode||9<document.documentMode)}function Ax(){cc&&(cc.detachEvent("onpropertychange",pj),Ac=cc=null)}function pj(e){if(e.propertyName==="value"&&kh(Ac)){var t=[];dj(t,Ac,e,dy(e)),Xk(KA,t)}}function qA(e,t,r){e==="focusin"?(Ax(),cc=t,Ac=r,cc.attachEvent("onpropertychange",pj)):e==="focusout"&&Ax()}function ZA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return kh(Ac)}function QA(e,t){if(e==="click")return kh(t)}function JA(e,t){if(e==="input"||e==="change")return kh(t)}function eM(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $a=typeof Object.is=="function"?Object.is:eM;function Mc(e,t){if($a(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Ep.call(t,a)||!$a(e[a],t[a]))return!1}return!0}function Mx(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Cx(e,t){var r=Mx(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Mx(r)}}function gj(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?gj(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function mj(){for(var e=window,t=Gf();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Gf(e.document)}return t}function wy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function tM(e){var t=mj(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&gj(r.ownerDocument.documentElement,r)){if(n!==null&&wy(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,o=Math.min(n.start,a);n=n.end===void 0?o:Math.min(n.end,a),!e.extend&&o>n&&(a=n,n=o,o=a),a=Cx(r,o);var i=Cx(r,n);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var rM=go&&"documentMode"in document&&11>=document.documentMode,hs=null,Zp=null,uc=null,Qp=!1;function Ex(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Qp||hs==null||hs!==Gf(n)||(n=hs,"selectionStart"in n&&wy(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),uc&&Mc(uc,n)||(uc=n,n=Zf(Zp,"onSelect"),0<n.length&&(t=new vy("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=hs)))}function af(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ps={animationend:af("Animation","AnimationEnd"),animationiteration:af("Animation","AnimationIteration"),animationstart:af("Animation","AnimationStart"),transitionend:af("Transition","TransitionEnd")},L0={},yj={};go&&(yj=document.createElement("div").style,"AnimationEvent"in window||(delete ps.animationend.animation,delete ps.animationiteration.animation,delete ps.animationstart.animation),"TransitionEvent"in window||delete ps.transitionend.transition);function jh(e){if(L0[e])return L0[e];if(!ps[e])return e;var t=ps[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in yj)return L0[e]=t[r];return e}var vj=jh("animationend"),xj=jh("animationiteration"),bj=jh("animationstart"),wj=jh("transitionend"),kj=new Map,Tx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ti(e,t){kj.set(e,t),Yi(t,[e])}for(var I0=0;I0<Tx.length;I0++){var B0=Tx[I0],nM=B0.toLowerCase(),aM=B0[0].toUpperCase()+B0.slice(1);ti(nM,"on"+aM)}ti(vj,"onAnimationEnd");ti(xj,"onAnimationIteration");ti(bj,"onAnimationStart");ti("dblclick","onDoubleClick");ti("focusin","onFocus");ti("focusout","onBlur");ti(wj,"onTransitionEnd");Ds("onMouseEnter",["mouseout","mouseover"]);Ds("onMouseLeave",["mouseout","mouseover"]);Ds("onPointerEnter",["pointerout","pointerover"]);Ds("onPointerLeave",["pointerout","pointerover"]);Yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Yi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ac="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oM=new Set("cancel close invalid load scroll toggle".split(" ").concat(ac));function $x(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,nA(n,t,void 0,e),e.currentTarget=null}function jj(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var i=n.length-1;0<=i;i--){var s=n[i],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&a.isPropagationStopped())break e;$x(a,s,c),o=l}else for(i=0;i<n.length;i++){if(s=n[i],l=s.instance,c=s.currentTarget,s=s.listener,l!==o&&a.isPropagationStopped())break e;$x(a,s,c),o=l}}}if(Vf)throw e=Xp,Vf=!1,Xp=null,e}function Kt(e,t){var r=t[ng];r===void 0&&(r=t[ng]=new Set);var n=e+"__bubble";r.has(n)||(Sj(t,e,2,!1),r.add(n))}function F0(e,t,r){var n=0;t&&(n|=4),Sj(r,e,n,t)}var of="_reactListening"+Math.random().toString(36).slice(2);function Cc(e){if(!e[of]){e[of]=!0,Ck.forEach(function(r){r!=="selectionchange"&&(oM.has(r)||F0(r,!1,e),F0(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[of]||(t[of]=!0,F0("selectionchange",!1,t))}}function Sj(e,t,r,n){switch(sj(t)){case 1:var a=xA;break;case 4:a=bA;break;default:a=my}r=a.bind(null,t,r,e),a=void 0,!Vp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function z0(e,t,r,n,a){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var s=n.stateNode.containerInfo;if(s===a||s.nodeType===8&&s.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;i=i.return}for(;s!==null;){if(i=ji(s),i===null)return;if(l=i.tag,l===5||l===6){n=o=i;continue e}s=s.parentNode}}n=n.return}Xk(function(){var c=o,f=dy(r),d=[];e:{var h=kj.get(e);if(h!==void 0){var p=vy,m=e;switch(e){case"keypress":if($f(r)===0)break e;case"keydown":case"keyup":p=DA;break;case"focusin":m="focus",p=$0;break;case"focusout":m="blur",p=$0;break;case"beforeblur":case"afterblur":p=$0;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=kx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=jA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=IA;break;case vj:case xj:case bj:p=_A;break;case wj:p=FA;break;case"scroll":p=wA;break;case"wheel":p=UA;break;case"copy":case"cut":case"paste":p=PA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Sx}var v=(t&4)!==0,b=!v&&e==="scroll",y=v?h!==null?h+"Capture":null:h;v=[];for(var g=c,x;g!==null;){x=g;var j=x.stateNode;if(x.tag===5&&j!==null&&(x=j,y!==null&&(j=Nc(g,y),j!=null&&v.push(Ec(g,j,x)))),b)break;g=g.return}0<v.length&&(h=new p(h,m,null,r,f),d.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==Gp&&(m=r.relatedTarget||r.fromElement)&&(ji(m)||m[mo]))break e;if((p||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=c,m=m?ji(m):null,m!==null&&(b=qi(m),m!==b||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(v=kx,j="onMouseLeave",y="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(v=Sx,j="onPointerLeave",y="onPointerEnter",g="pointer"),b=p==null?h:gs(p),x=m==null?h:gs(m),h=new v(j,g+"leave",p,r,f),h.target=b,h.relatedTarget=x,j=null,ji(f)===c&&(v=new v(y,g+"enter",m,r,f),v.target=x,v.relatedTarget=b,j=v),b=j,p&&m)t:{for(v=p,y=m,g=0,x=v;x;x=as(x))g++;for(x=0,j=y;j;j=as(j))x++;for(;0<g-x;)v=as(v),g--;for(;0<x-g;)y=as(y),x--;for(;g--;){if(v===y||y!==null&&v===y.alternate)break t;v=as(v),y=as(y)}v=null}else v=null;p!==null&&Dx(d,h,p,v,!1),m!==null&&b!==null&&Dx(d,b,m,v,!0)}}e:{if(h=c?gs(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var k=YA;else if(Ox(h))if(hj)k=JA;else{k=ZA;var w=qA}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=QA);if(k&&(k=k(e,c))){dj(d,k,r,f);break e}w&&w(e,h,c),e==="focusout"&&(w=h._wrapperState)&&w.controlled&&h.type==="number"&&Bp(h,"number",h.value)}switch(w=c?gs(c):window,e){case"focusin":(Ox(w)||w.contentEditable==="true")&&(hs=w,Zp=c,uc=null);break;case"focusout":uc=Zp=hs=null;break;case"mousedown":Qp=!0;break;case"contextmenu":case"mouseup":case"dragend":Qp=!1,Ex(d,r,f);break;case"selectionchange":if(rM)break;case"keydown":case"keyup":Ex(d,r,f)}var N;if(by)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else ds?uj(e,r)&&(_="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(_="onCompositionStart");_&&(cj&&r.locale!=="ko"&&(ds||_!=="onCompositionStart"?_==="onCompositionEnd"&&ds&&(N=lj()):(Io=f,yy="value"in Io?Io.value:Io.textContent,ds=!0)),w=Zf(c,_),0<w.length&&(_=new jx(_,e,null,r,f),d.push({event:_,listeners:w}),N?_.data=N:(N=fj(r),N!==null&&(_.data=N)))),(N=GA?HA(e,r):VA(e,r))&&(c=Zf(c,"onBeforeInput"),0<c.length&&(f=new jx("onBeforeInput","beforeinput",null,r,f),d.push({event:f,listeners:c}),f.data=N))}jj(d,t)})}function Ec(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Zf(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,o=a.stateNode;a.tag===5&&o!==null&&(a=o,o=Nc(e,r),o!=null&&n.unshift(Ec(e,o,a)),o=Nc(e,t),o!=null&&n.push(Ec(e,o,a))),e=e.return}return n}function as(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Dx(e,t,r,n,a){for(var o=t._reactName,i=[];r!==null&&r!==n;){var s=r,l=s.alternate,c=s.stateNode;if(l!==null&&l===n)break;s.tag===5&&c!==null&&(s=c,a?(l=Nc(r,o),l!=null&&i.unshift(Ec(r,l,s))):a||(l=Nc(r,o),l!=null&&i.push(Ec(r,l,s)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var iM=/\r\n?/g,sM=/\u0000|\uFFFD/g;function Rx(e){return(typeof e=="string"?e:""+e).replace(iM,`
`).replace(sM,"")}function sf(e,t,r){if(t=Rx(t),Rx(e)!==t&&r)throw Error(ce(425))}function Qf(){}var Jp=null,eg=null;function tg(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var rg=typeof setTimeout=="function"?setTimeout:void 0,lM=typeof clearTimeout=="function"?clearTimeout:void 0,Lx=typeof Promise=="function"?Promise:void 0,cM=typeof queueMicrotask=="function"?queueMicrotask:typeof Lx<"u"?function(e){return Lx.resolve(null).then(e).catch(uM)}:rg;function uM(e){setTimeout(function(){throw e})}function U0(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Pc(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Pc(t)}function Vo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ix(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ml=Math.random().toString(36).slice(2),Ba="__reactFiber$"+ml,Tc="__reactProps$"+ml,mo="__reactContainer$"+ml,ng="__reactEvents$"+ml,fM="__reactListeners$"+ml,dM="__reactHandles$"+ml;function ji(e){var t=e[Ba];if(t)return t;for(var r=e.parentNode;r;){if(t=r[mo]||r[Ba]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Ix(e);e!==null;){if(r=e[Ba])return r;e=Ix(e)}return t}e=r,r=e.parentNode}return null}function _u(e){return e=e[Ba]||e[mo],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function gs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ce(33))}function Sh(e){return e[Tc]||null}var ag=[],ms=-1;function ri(e){return{current:e}}function Zt(e){0>ms||(e.current=ag[ms],ag[ms]=null,ms--)}function Wt(e,t){ms++,ag[ms]=e.current,e.current=t}var ei={},yn=ri(ei),In=ri(!1),Li=ei;function Rs(e,t){var r=e.type.contextTypes;if(!r)return ei;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},o;for(o in r)a[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Bn(e){return e=e.childContextTypes,e!=null}function Jf(){Zt(In),Zt(yn)}function Bx(e,t,r){if(yn.current!==ei)throw Error(ce(168));Wt(yn,t),Wt(In,r)}function Nj(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(ce(108,qP(e)||"Unknown",a));return lr({},r,n)}function ed(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ei,Li=yn.current,Wt(yn,e),Wt(In,In.current),!0}function Fx(e,t,r){var n=e.stateNode;if(!n)throw Error(ce(169));r?(e=Nj(e,t,Li),n.__reactInternalMemoizedMergedChildContext=e,Zt(In),Zt(yn),Wt(yn,e)):Zt(In),Wt(In,r)}var no=null,Nh=!1,W0=!1;function _j(e){no===null?no=[e]:no.push(e)}function hM(e){Nh=!0,_j(e)}function ni(){if(!W0&&no!==null){W0=!0;var e=0,t=St;try{var r=no;for(St=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}no=null,Nh=!1}catch(a){throw no!==null&&(no=no.slice(e+1)),Zk(hy,ni),a}finally{St=t,W0=!1}}return null}var ys=[],vs=0,td=null,rd=0,la=[],ca=0,Ii=null,ao=1,oo="";function vi(e,t){ys[vs++]=rd,ys[vs++]=td,td=e,rd=t}function Oj(e,t,r){la[ca++]=ao,la[ca++]=oo,la[ca++]=Ii,Ii=e;var n=ao;e=oo;var a=32-Ea(n)-1;n&=~(1<<a),r+=1;var o=32-Ea(t)+a;if(30<o){var i=a-a%5;o=(n&(1<<i)-1).toString(32),n>>=i,a-=i,ao=1<<32-Ea(t)+a|r<<a|n,oo=o+e}else ao=1<<o|r<<a|n,oo=e}function ky(e){e.return!==null&&(vi(e,1),Oj(e,1,0))}function jy(e){for(;e===td;)td=ys[--vs],ys[vs]=null,rd=ys[--vs],ys[vs]=null;for(;e===Ii;)Ii=la[--ca],la[ca]=null,oo=la[--ca],la[ca]=null,ao=la[--ca],la[ca]=null}var Qn=null,Zn=null,er=!1,Aa=null;function Pj(e,t){var r=ua(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function zx(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Qn=e,Zn=Vo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Qn=e,Zn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ii!==null?{id:ao,overflow:oo}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ua(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Qn=e,Zn=null,!0):!1;default:return!1}}function og(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ig(e){if(er){var t=Zn;if(t){var r=t;if(!zx(e,t)){if(og(e))throw Error(ce(418));t=Vo(r.nextSibling);var n=Qn;t&&zx(e,t)?Pj(n,r):(e.flags=e.flags&-4097|2,er=!1,Qn=e)}}else{if(og(e))throw Error(ce(418));e.flags=e.flags&-4097|2,er=!1,Qn=e}}}function Ux(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Qn=e}function lf(e){if(e!==Qn)return!1;if(!er)return Ux(e),er=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!tg(e.type,e.memoizedProps)),t&&(t=Zn)){if(og(e))throw Aj(),Error(ce(418));for(;t;)Pj(e,t),t=Vo(t.nextSibling)}if(Ux(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ce(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Zn=Vo(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Zn=null}}else Zn=Qn?Vo(e.stateNode.nextSibling):null;return!0}function Aj(){for(var e=Zn;e;)e=Vo(e.nextSibling)}function Ls(){Zn=Qn=null,er=!1}function Sy(e){Aa===null?Aa=[e]:Aa.push(e)}var pM=ko.ReactCurrentBatchConfig;function Ul(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ce(309));var n=r.stateNode}if(!n)throw Error(ce(147,e));var a=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var s=a.refs;i===null?delete s[o]:s[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(ce(284));if(!r._owner)throw Error(ce(290,e))}return e}function cf(e,t){throw e=Object.prototype.toString.call(t),Error(ce(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Wx(e){var t=e._init;return t(e._payload)}function Mj(e){function t(y,g){if(e){var x=y.deletions;x===null?(y.deletions=[g],y.flags|=16):x.push(g)}}function r(y,g){if(!e)return null;for(;g!==null;)t(y,g),g=g.sibling;return null}function n(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function a(y,g){return y=qo(y,g),y.index=0,y.sibling=null,y}function o(y,g,x){return y.index=x,e?(x=y.alternate,x!==null?(x=x.index,x<g?(y.flags|=2,g):x):(y.flags|=2,g)):(y.flags|=1048576,g)}function i(y){return e&&y.alternate===null&&(y.flags|=2),y}function s(y,g,x,j){return g===null||g.tag!==6?(g=q0(x,y.mode,j),g.return=y,g):(g=a(g,x),g.return=y,g)}function l(y,g,x,j){var k=x.type;return k===fs?f(y,g,x.props.children,j,x.key):g!==null&&(g.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Eo&&Wx(k)===g.type)?(j=a(g,x.props),j.ref=Ul(y,g,x),j.return=y,j):(j=zf(x.type,x.key,x.props,null,y.mode,j),j.ref=Ul(y,g,x),j.return=y,j)}function c(y,g,x,j){return g===null||g.tag!==4||g.stateNode.containerInfo!==x.containerInfo||g.stateNode.implementation!==x.implementation?(g=Z0(x,y.mode,j),g.return=y,g):(g=a(g,x.children||[]),g.return=y,g)}function f(y,g,x,j,k){return g===null||g.tag!==7?(g=Ti(x,y.mode,j,k),g.return=y,g):(g=a(g,x),g.return=y,g)}function d(y,g,x){if(typeof g=="string"&&g!==""||typeof g=="number")return g=q0(""+g,y.mode,x),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Zu:return x=zf(g.type,g.key,g.props,null,y.mode,x),x.ref=Ul(y,null,g),x.return=y,x;case us:return g=Z0(g,y.mode,x),g.return=y,g;case Eo:var j=g._init;return d(y,j(g._payload),x)}if(rc(g)||Ll(g))return g=Ti(g,y.mode,x,null),g.return=y,g;cf(y,g)}return null}function h(y,g,x,j){var k=g!==null?g.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return k!==null?null:s(y,g,""+x,j);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Zu:return x.key===k?l(y,g,x,j):null;case us:return x.key===k?c(y,g,x,j):null;case Eo:return k=x._init,h(y,g,k(x._payload),j)}if(rc(x)||Ll(x))return k!==null?null:f(y,g,x,j,null);cf(y,x)}return null}function p(y,g,x,j,k){if(typeof j=="string"&&j!==""||typeof j=="number")return y=y.get(x)||null,s(g,y,""+j,k);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Zu:return y=y.get(j.key===null?x:j.key)||null,l(g,y,j,k);case us:return y=y.get(j.key===null?x:j.key)||null,c(g,y,j,k);case Eo:var w=j._init;return p(y,g,x,w(j._payload),k)}if(rc(j)||Ll(j))return y=y.get(x)||null,f(g,y,j,k,null);cf(g,j)}return null}function m(y,g,x,j){for(var k=null,w=null,N=g,_=g=0,O=null;N!==null&&_<x.length;_++){N.index>_?(O=N,N=null):O=N.sibling;var A=h(y,N,x[_],j);if(A===null){N===null&&(N=O);break}e&&N&&A.alternate===null&&t(y,N),g=o(A,g,_),w===null?k=A:w.sibling=A,w=A,N=O}if(_===x.length)return r(y,N),er&&vi(y,_),k;if(N===null){for(;_<x.length;_++)N=d(y,x[_],j),N!==null&&(g=o(N,g,_),w===null?k=N:w.sibling=N,w=N);return er&&vi(y,_),k}for(N=n(y,N);_<x.length;_++)O=p(N,y,_,x[_],j),O!==null&&(e&&O.alternate!==null&&N.delete(O.key===null?_:O.key),g=o(O,g,_),w===null?k=O:w.sibling=O,w=O);return e&&N.forEach(function(M){return t(y,M)}),er&&vi(y,_),k}function v(y,g,x,j){var k=Ll(x);if(typeof k!="function")throw Error(ce(150));if(x=k.call(x),x==null)throw Error(ce(151));for(var w=k=null,N=g,_=g=0,O=null,A=x.next();N!==null&&!A.done;_++,A=x.next()){N.index>_?(O=N,N=null):O=N.sibling;var M=h(y,N,A.value,j);if(M===null){N===null&&(N=O);break}e&&N&&M.alternate===null&&t(y,N),g=o(M,g,_),w===null?k=M:w.sibling=M,w=M,N=O}if(A.done)return r(y,N),er&&vi(y,_),k;if(N===null){for(;!A.done;_++,A=x.next())A=d(y,A.value,j),A!==null&&(g=o(A,g,_),w===null?k=A:w.sibling=A,w=A);return er&&vi(y,_),k}for(N=n(y,N);!A.done;_++,A=x.next())A=p(N,y,_,A.value,j),A!==null&&(e&&A.alternate!==null&&N.delete(A.key===null?_:A.key),g=o(A,g,_),w===null?k=A:w.sibling=A,w=A);return e&&N.forEach(function(C){return t(y,C)}),er&&vi(y,_),k}function b(y,g,x,j){if(typeof x=="object"&&x!==null&&x.type===fs&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Zu:e:{for(var k=x.key,w=g;w!==null;){if(w.key===k){if(k=x.type,k===fs){if(w.tag===7){r(y,w.sibling),g=a(w,x.props.children),g.return=y,y=g;break e}}else if(w.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Eo&&Wx(k)===w.type){r(y,w.sibling),g=a(w,x.props),g.ref=Ul(y,w,x),g.return=y,y=g;break e}r(y,w);break}else t(y,w);w=w.sibling}x.type===fs?(g=Ti(x.props.children,y.mode,j,x.key),g.return=y,y=g):(j=zf(x.type,x.key,x.props,null,y.mode,j),j.ref=Ul(y,g,x),j.return=y,y=j)}return i(y);case us:e:{for(w=x.key;g!==null;){if(g.key===w)if(g.tag===4&&g.stateNode.containerInfo===x.containerInfo&&g.stateNode.implementation===x.implementation){r(y,g.sibling),g=a(g,x.children||[]),g.return=y,y=g;break e}else{r(y,g);break}else t(y,g);g=g.sibling}g=Z0(x,y.mode,j),g.return=y,y=g}return i(y);case Eo:return w=x._init,b(y,g,w(x._payload),j)}if(rc(x))return m(y,g,x,j);if(Ll(x))return v(y,g,x,j);cf(y,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,g!==null&&g.tag===6?(r(y,g.sibling),g=a(g,x),g.return=y,y=g):(r(y,g),g=q0(x,y.mode,j),g.return=y,y=g),i(y)):r(y,g)}return b}var Is=Mj(!0),Cj=Mj(!1),nd=ri(null),ad=null,xs=null,Ny=null;function _y(){Ny=xs=ad=null}function Oy(e){var t=nd.current;Zt(nd),e._currentValue=t}function sg(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function As(e,t){ad=e,Ny=xs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Rn=!0),e.firstContext=null)}function ga(e){var t=e._currentValue;if(Ny!==e)if(e={context:e,memoizedValue:t,next:null},xs===null){if(ad===null)throw Error(ce(308));xs=e,ad.dependencies={lanes:0,firstContext:e}}else xs=xs.next=e;return t}var Si=null;function Py(e){Si===null?Si=[e]:Si.push(e)}function Ej(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,Py(t)):(r.next=a.next,a.next=r),t.interleaved=r,yo(e,n)}function yo(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var To=!1;function Ay(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Tj(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function co(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Xo(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,lt&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,yo(e,r)}return a=n.interleaved,a===null?(t.next=t,Py(n)):(t.next=a.next,a.next=t),n.interleaved=t,yo(e,r)}function Df(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,py(e,r)}}function Gx(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?a=o=i:o=o.next=i,r=r.next}while(r!==null);o===null?a=o=t:o=o.next=t}else a=o=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function od(e,t,r,n){var a=e.updateQueue;To=!1;var o=a.firstBaseUpdate,i=a.lastBaseUpdate,s=a.shared.pending;if(s!==null){a.shared.pending=null;var l=s,c=l.next;l.next=null,i===null?o=c:i.next=c,i=l;var f=e.alternate;f!==null&&(f=f.updateQueue,s=f.lastBaseUpdate,s!==i&&(s===null?f.firstBaseUpdate=c:s.next=c,f.lastBaseUpdate=l))}if(o!==null){var d=a.baseState;i=0,f=c=l=null,s=o;do{var h=s.lane,p=s.eventTime;if((n&h)===h){f!==null&&(f=f.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var m=e,v=s;switch(h=t,p=r,v.tag){case 1:if(m=v.payload,typeof m=="function"){d=m.call(p,d,h);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=v.payload,h=typeof m=="function"?m.call(p,d,h):m,h==null)break e;d=lr({},d,h);break e;case 2:To=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},f===null?(c=f=p,l=d):f=f.next=p,i|=h;if(s=s.next,s===null){if(s=a.shared.pending,s===null)break;h=s,s=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(f===null&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=f,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else o===null&&(a.shared.lanes=0);Fi|=i,e.lanes=i,e.memoizedState=d}}function Hx(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(ce(191,a));a.call(n)}}}var Ou={},Wa=ri(Ou),$c=ri(Ou),Dc=ri(Ou);function Ni(e){if(e===Ou)throw Error(ce(174));return e}function My(e,t){switch(Wt(Dc,t),Wt($c,e),Wt(Wa,Ou),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:zp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=zp(t,e)}Zt(Wa),Wt(Wa,t)}function Bs(){Zt(Wa),Zt($c),Zt(Dc)}function $j(e){Ni(Dc.current);var t=Ni(Wa.current),r=zp(t,e.type);t!==r&&(Wt($c,e),Wt(Wa,r))}function Cy(e){$c.current===e&&(Zt(Wa),Zt($c))}var ir=ri(0);function id(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var G0=[];function Ey(){for(var e=0;e<G0.length;e++)G0[e]._workInProgressVersionPrimary=null;G0.length=0}var Rf=ko.ReactCurrentDispatcher,H0=ko.ReactCurrentBatchConfig,Bi=0,sr=null,Tr=null,zr=null,sd=!1,fc=!1,Rc=0,gM=0;function fn(){throw Error(ce(321))}function Ty(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!$a(e[r],t[r]))return!1;return!0}function $y(e,t,r,n,a,o){if(Bi=o,sr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Rf.current=e===null||e.memoizedState===null?xM:bM,e=r(n,a),fc){o=0;do{if(fc=!1,Rc=0,25<=o)throw Error(ce(301));o+=1,zr=Tr=null,t.updateQueue=null,Rf.current=wM,e=r(n,a)}while(fc)}if(Rf.current=ld,t=Tr!==null&&Tr.next!==null,Bi=0,zr=Tr=sr=null,sd=!1,t)throw Error(ce(300));return e}function Dy(){var e=Rc!==0;return Rc=0,e}function Ia(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zr===null?sr.memoizedState=zr=e:zr=zr.next=e,zr}function ma(){if(Tr===null){var e=sr.alternate;e=e!==null?e.memoizedState:null}else e=Tr.next;var t=zr===null?sr.memoizedState:zr.next;if(t!==null)zr=t,Tr=e;else{if(e===null)throw Error(ce(310));Tr=e,e={memoizedState:Tr.memoizedState,baseState:Tr.baseState,baseQueue:Tr.baseQueue,queue:Tr.queue,next:null},zr===null?sr.memoizedState=zr=e:zr=zr.next=e}return zr}function Lc(e,t){return typeof t=="function"?t(e):t}function V0(e){var t=ma(),r=t.queue;if(r===null)throw Error(ce(311));r.lastRenderedReducer=e;var n=Tr,a=n.baseQueue,o=r.pending;if(o!==null){if(a!==null){var i=a.next;a.next=o.next,o.next=i}n.baseQueue=a=o,r.pending=null}if(a!==null){o=a.next,n=n.baseState;var s=i=null,l=null,c=o;do{var f=c.lane;if((Bi&f)===f)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var d={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=d,i=n):l=l.next=d,sr.lanes|=f,Fi|=f}c=c.next}while(c!==null&&c!==o);l===null?i=n:l.next=s,$a(n,t.memoizedState)||(Rn=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do o=a.lane,sr.lanes|=o,Fi|=o,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function X0(e){var t=ma(),r=t.queue;if(r===null)throw Error(ce(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,o=t.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do o=e(o,i.action),i=i.next;while(i!==a);$a(o,t.memoizedState)||(Rn=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function Dj(){}function Rj(e,t){var r=sr,n=ma(),a=t(),o=!$a(n.memoizedState,a);if(o&&(n.memoizedState=a,Rn=!0),n=n.queue,Ry(Bj.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||zr!==null&&zr.memoizedState.tag&1){if(r.flags|=2048,Ic(9,Ij.bind(null,r,n,a,t),void 0,null),Wr===null)throw Error(ce(349));Bi&30||Lj(r,t,a)}return a}function Lj(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=sr.updateQueue,t===null?(t={lastEffect:null,stores:null},sr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Ij(e,t,r,n){t.value=r,t.getSnapshot=n,Fj(t)&&zj(e)}function Bj(e,t,r){return r(function(){Fj(t)&&zj(e)})}function Fj(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!$a(e,r)}catch{return!0}}function zj(e){var t=yo(e,1);t!==null&&Ta(t,e,1,-1)}function Vx(e){var t=Ia();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Lc,lastRenderedState:e},t.queue=e,e=e.dispatch=vM.bind(null,sr,e),[t.memoizedState,e]}function Ic(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=sr.updateQueue,t===null?(t={lastEffect:null,stores:null},sr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Uj(){return ma().memoizedState}function Lf(e,t,r,n){var a=Ia();sr.flags|=e,a.memoizedState=Ic(1|t,r,void 0,n===void 0?null:n)}function _h(e,t,r,n){var a=ma();n=n===void 0?null:n;var o=void 0;if(Tr!==null){var i=Tr.memoizedState;if(o=i.destroy,n!==null&&Ty(n,i.deps)){a.memoizedState=Ic(t,r,o,n);return}}sr.flags|=e,a.memoizedState=Ic(1|t,r,o,n)}function Xx(e,t){return Lf(8390656,8,e,t)}function Ry(e,t){return _h(2048,8,e,t)}function Wj(e,t){return _h(4,2,e,t)}function Gj(e,t){return _h(4,4,e,t)}function Hj(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Vj(e,t,r){return r=r!=null?r.concat([e]):null,_h(4,4,Hj.bind(null,t,e),r)}function Ly(){}function Xj(e,t){var r=ma();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ty(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Kj(e,t){var r=ma();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ty(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Yj(e,t,r){return Bi&21?($a(r,t)||(r=ej(),sr.lanes|=r,Fi|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Rn=!0),e.memoizedState=r)}function mM(e,t){var r=St;St=r!==0&&4>r?r:4,e(!0);var n=H0.transition;H0.transition={};try{e(!1),t()}finally{St=r,H0.transition=n}}function qj(){return ma().memoizedState}function yM(e,t,r){var n=Yo(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Zj(e))Qj(t,r);else if(r=Ej(e,t,r,n),r!==null){var a=_n();Ta(r,e,n,a),Jj(r,t,n)}}function vM(e,t,r){var n=Yo(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Zj(e))Qj(t,a);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,s=o(i,r);if(a.hasEagerState=!0,a.eagerState=s,$a(s,i)){var l=t.interleaved;l===null?(a.next=a,Py(t)):(a.next=l.next,l.next=a),t.interleaved=a;return}}catch{}finally{}r=Ej(e,t,a,n),r!==null&&(a=_n(),Ta(r,e,n,a),Jj(r,t,n))}}function Zj(e){var t=e.alternate;return e===sr||t!==null&&t===sr}function Qj(e,t){fc=sd=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Jj(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,py(e,r)}}var ld={readContext:ga,useCallback:fn,useContext:fn,useEffect:fn,useImperativeHandle:fn,useInsertionEffect:fn,useLayoutEffect:fn,useMemo:fn,useReducer:fn,useRef:fn,useState:fn,useDebugValue:fn,useDeferredValue:fn,useTransition:fn,useMutableSource:fn,useSyncExternalStore:fn,useId:fn,unstable_isNewReconciler:!1},xM={readContext:ga,useCallback:function(e,t){return Ia().memoizedState=[e,t===void 0?null:t],e},useContext:ga,useEffect:Xx,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Lf(4194308,4,Hj.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Lf(4194308,4,e,t)},useInsertionEffect:function(e,t){return Lf(4,2,e,t)},useMemo:function(e,t){var r=Ia();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Ia();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=yM.bind(null,sr,e),[n.memoizedState,e]},useRef:function(e){var t=Ia();return e={current:e},t.memoizedState=e},useState:Vx,useDebugValue:Ly,useDeferredValue:function(e){return Ia().memoizedState=e},useTransition:function(){var e=Vx(!1),t=e[0];return e=mM.bind(null,e[1]),Ia().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=sr,a=Ia();if(er){if(r===void 0)throw Error(ce(407));r=r()}else{if(r=t(),Wr===null)throw Error(ce(349));Bi&30||Lj(n,t,r)}a.memoizedState=r;var o={value:r,getSnapshot:t};return a.queue=o,Xx(Bj.bind(null,n,o,e),[e]),n.flags|=2048,Ic(9,Ij.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=Ia(),t=Wr.identifierPrefix;if(er){var r=oo,n=ao;r=(n&~(1<<32-Ea(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Rc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=gM++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},bM={readContext:ga,useCallback:Xj,useContext:ga,useEffect:Ry,useImperativeHandle:Vj,useInsertionEffect:Wj,useLayoutEffect:Gj,useMemo:Kj,useReducer:V0,useRef:Uj,useState:function(){return V0(Lc)},useDebugValue:Ly,useDeferredValue:function(e){var t=ma();return Yj(t,Tr.memoizedState,e)},useTransition:function(){var e=V0(Lc)[0],t=ma().memoizedState;return[e,t]},useMutableSource:Dj,useSyncExternalStore:Rj,useId:qj,unstable_isNewReconciler:!1},wM={readContext:ga,useCallback:Xj,useContext:ga,useEffect:Ry,useImperativeHandle:Vj,useInsertionEffect:Wj,useLayoutEffect:Gj,useMemo:Kj,useReducer:X0,useRef:Uj,useState:function(){return X0(Lc)},useDebugValue:Ly,useDeferredValue:function(e){var t=ma();return Tr===null?t.memoizedState=e:Yj(t,Tr.memoizedState,e)},useTransition:function(){var e=X0(Lc)[0],t=ma().memoizedState;return[e,t]},useMutableSource:Dj,useSyncExternalStore:Rj,useId:qj,unstable_isNewReconciler:!1};function Na(e,t){if(e&&e.defaultProps){t=lr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function lg(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:lr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Oh={isMounted:function(e){return(e=e._reactInternals)?qi(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=_n(),a=Yo(e),o=co(n,a);o.payload=t,r!=null&&(o.callback=r),t=Xo(e,o,a),t!==null&&(Ta(t,e,a,n),Df(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=_n(),a=Yo(e),o=co(n,a);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=Xo(e,o,a),t!==null&&(Ta(t,e,a,n),Df(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=_n(),n=Yo(e),a=co(r,n);a.tag=2,t!=null&&(a.callback=t),t=Xo(e,a,n),t!==null&&(Ta(t,e,n,r),Df(t,e,n))}};function Kx(e,t,r,n,a,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,i):t.prototype&&t.prototype.isPureReactComponent?!Mc(r,n)||!Mc(a,o):!0}function eS(e,t,r){var n=!1,a=ei,o=t.contextType;return typeof o=="object"&&o!==null?o=ga(o):(a=Bn(t)?Li:yn.current,n=t.contextTypes,o=(n=n!=null)?Rs(e,a):ei),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Oh,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function Yx(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Oh.enqueueReplaceState(t,t.state,null)}function cg(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Ay(e);var o=t.contextType;typeof o=="object"&&o!==null?a.context=ga(o):(o=Bn(t)?Li:yn.current,a.context=Rs(e,o)),a.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(lg(e,t,o,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Oh.enqueueReplaceState(a,a.state,null),od(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Fs(e,t){try{var r="",n=t;do r+=YP(n),n=n.return;while(n);var a=r}catch(o){a=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:a,digest:null}}function K0(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function ug(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var kM=typeof WeakMap=="function"?WeakMap:Map;function tS(e,t,r){r=co(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){ud||(ud=!0,bg=n),ug(e,t)},r}function rS(e,t,r){r=co(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){ug(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){ug(e,t),typeof n!="function"&&(Ko===null?Ko=new Set([this]):Ko.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function qx(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new kM;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=RM.bind(null,e,t,r),t.then(e,e))}function Zx(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Qx(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=co(-1,1),t.tag=2,Xo(r,t,1))),r.lanes|=1),e)}var jM=ko.ReactCurrentOwner,Rn=!1;function Sn(e,t,r,n){t.child=e===null?Cj(t,null,r,n):Is(t,e.child,r,n)}function Jx(e,t,r,n,a){r=r.render;var o=t.ref;return As(t,a),n=$y(e,t,r,n,o,a),r=Dy(),e!==null&&!Rn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,vo(e,t,a)):(er&&r&&ky(t),t.flags|=1,Sn(e,t,n,a),t.child)}function eb(e,t,r,n,a){if(e===null){var o=r.type;return typeof o=="function"&&!Hy(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,nS(e,t,o,n,a)):(e=zf(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&a)){var i=o.memoizedProps;if(r=r.compare,r=r!==null?r:Mc,r(i,n)&&e.ref===t.ref)return vo(e,t,a)}return t.flags|=1,e=qo(o,n),e.ref=t.ref,e.return=t,t.child=e}function nS(e,t,r,n,a){if(e!==null){var o=e.memoizedProps;if(Mc(o,n)&&e.ref===t.ref)if(Rn=!1,t.pendingProps=n=o,(e.lanes&a)!==0)e.flags&131072&&(Rn=!0);else return t.lanes=e.lanes,vo(e,t,a)}return fg(e,t,r,n,a)}function aS(e,t,r){var n=t.pendingProps,a=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Wt(ws,Kn),Kn|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Wt(ws,Kn),Kn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,Wt(ws,Kn),Kn|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,Wt(ws,Kn),Kn|=n;return Sn(e,t,a,r),t.child}function oS(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function fg(e,t,r,n,a){var o=Bn(r)?Li:yn.current;return o=Rs(t,o),As(t,a),r=$y(e,t,r,n,o,a),n=Dy(),e!==null&&!Rn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,vo(e,t,a)):(er&&n&&ky(t),t.flags|=1,Sn(e,t,r,a),t.child)}function tb(e,t,r,n,a){if(Bn(r)){var o=!0;ed(t)}else o=!1;if(As(t,a),t.stateNode===null)If(e,t),eS(t,r,n),cg(t,r,n,a),n=!0;else if(e===null){var i=t.stateNode,s=t.memoizedProps;i.props=s;var l=i.context,c=r.contextType;typeof c=="object"&&c!==null?c=ga(c):(c=Bn(r)?Li:yn.current,c=Rs(t,c));var f=r.getDerivedStateFromProps,d=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function";d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(s!==n||l!==c)&&Yx(t,i,n,c),To=!1;var h=t.memoizedState;i.state=h,od(t,n,i,a),l=t.memoizedState,s!==n||h!==l||In.current||To?(typeof f=="function"&&(lg(t,r,f,n),l=t.memoizedState),(s=To||Kx(t,r,s,n,h,l,c))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),i.props=n,i.state=l,i.context=c,n=s):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,Tj(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Na(t.type,s),i.props=c,d=t.pendingProps,h=i.context,l=r.contextType,typeof l=="object"&&l!==null?l=ga(l):(l=Bn(r)?Li:yn.current,l=Rs(t,l));var p=r.getDerivedStateFromProps;(f=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(s!==d||h!==l)&&Yx(t,i,n,l),To=!1,h=t.memoizedState,i.state=h,od(t,n,i,a);var m=t.memoizedState;s!==d||h!==m||In.current||To?(typeof p=="function"&&(lg(t,r,p,n),m=t.memoizedState),(c=To||Kx(t,r,c,n,h,m,l)||!1)?(f||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,m,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,m,l)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),i.props=n,i.state=m,i.context=l,n=c):(typeof i.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return dg(e,t,r,n,o,a)}function dg(e,t,r,n,a,o){oS(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return a&&Fx(t,r,!1),vo(e,t,o);n=t.stateNode,jM.current=t;var s=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=Is(t,e.child,null,o),t.child=Is(t,null,s,o)):Sn(e,t,s,o),t.memoizedState=n.state,a&&Fx(t,r,!0),t.child}function iS(e){var t=e.stateNode;t.pendingContext?Bx(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Bx(e,t.context,!1),My(e,t.containerInfo)}function rb(e,t,r,n,a){return Ls(),Sy(a),t.flags|=256,Sn(e,t,r,n),t.child}var hg={dehydrated:null,treeContext:null,retryLane:0};function pg(e){return{baseLanes:e,cachePool:null,transitions:null}}function sS(e,t,r){var n=t.pendingProps,a=ir.current,o=!1,i=(t.flags&128)!==0,s;if((s=i)||(s=e!==null&&e.memoizedState===null?!1:(a&2)!==0),s?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Wt(ir,a&1),e===null)return ig(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,o?(n=t.mode,o=t.child,i={mode:"hidden",children:i},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Mh(i,n,0,null),e=Ti(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=pg(r),t.memoizedState=hg,e):Iy(t,i));if(a=e.memoizedState,a!==null&&(s=a.dehydrated,s!==null))return SM(e,t,i,n,s,a,r);if(o){o=n.fallback,i=t.mode,a=e.child,s=a.sibling;var l={mode:"hidden",children:n.children};return!(i&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=qo(a,l),n.subtreeFlags=a.subtreeFlags&14680064),s!==null?o=qo(s,o):(o=Ti(o,i,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,i=e.child.memoizedState,i=i===null?pg(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~r,t.memoizedState=hg,n}return o=e.child,e=o.sibling,n=qo(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Iy(e,t){return t=Mh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function uf(e,t,r,n){return n!==null&&Sy(n),Is(t,e.child,null,r),e=Iy(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function SM(e,t,r,n,a,o,i){if(r)return t.flags&256?(t.flags&=-257,n=K0(Error(ce(422))),uf(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,a=t.mode,n=Mh({mode:"visible",children:n.children},a,0,null),o=Ti(o,a,i,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&Is(t,e.child,null,i),t.child.memoizedState=pg(i),t.memoizedState=hg,o);if(!(t.mode&1))return uf(e,t,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var s=n.dgst;return n=s,o=Error(ce(419)),n=K0(o,n,void 0),uf(e,t,i,n)}if(s=(i&e.childLanes)!==0,Rn||s){if(n=Wr,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==o.retryLane&&(o.retryLane=a,yo(e,a),Ta(n,e,a,-1))}return Gy(),n=K0(Error(ce(421))),uf(e,t,i,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=LM.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,Zn=Vo(a.nextSibling),Qn=t,er=!0,Aa=null,e!==null&&(la[ca++]=ao,la[ca++]=oo,la[ca++]=Ii,ao=e.id,oo=e.overflow,Ii=t),t=Iy(t,n.children),t.flags|=4096,t)}function nb(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),sg(e.return,t,r)}function Y0(e,t,r,n,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=a)}function lS(e,t,r){var n=t.pendingProps,a=n.revealOrder,o=n.tail;if(Sn(e,t,n.children,r),n=ir.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&nb(e,r,t);else if(e.tag===19)nb(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Wt(ir,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&id(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Y0(t,!1,a,r,o);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&id(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Y0(t,!0,r,null,o);break;case"together":Y0(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function If(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function vo(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Fi|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ce(153));if(t.child!==null){for(e=t.child,r=qo(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=qo(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function NM(e,t,r){switch(t.tag){case 3:iS(t),Ls();break;case 5:$j(t);break;case 1:Bn(t.type)&&ed(t);break;case 4:My(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Wt(nd,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Wt(ir,ir.current&1),t.flags|=128,null):r&t.child.childLanes?sS(e,t,r):(Wt(ir,ir.current&1),e=vo(e,t,r),e!==null?e.sibling:null);Wt(ir,ir.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return lS(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Wt(ir,ir.current),n)break;return null;case 22:case 23:return t.lanes=0,aS(e,t,r)}return vo(e,t,r)}var cS,gg,uS,fS;cS=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};gg=function(){};uS=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Ni(Wa.current);var o=null;switch(r){case"input":a=Lp(e,a),n=Lp(e,n),o=[];break;case"select":a=lr({},a,{value:void 0}),n=lr({},n,{value:void 0}),o=[];break;case"textarea":a=Fp(e,a),n=Fp(e,n),o=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Qf)}Up(r,n);var i;r=null;for(c in a)if(!n.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var s=a[c];for(i in s)s.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(jc.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in n){var l=n[c];if(s=a!=null?a[c]:void 0,n.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(i in s)!s.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in l)l.hasOwnProperty(i)&&s[i]!==l[i]&&(r||(r={}),r[i]=l[i])}else r||(o||(o=[]),o.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(jc.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Kt("scroll",e),o||s===l||(o=[])):(o=o||[]).push(c,l))}r&&(o=o||[]).push("style",r);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};fS=function(e,t,r,n){r!==n&&(t.flags|=4)};function Wl(e,t){if(!er)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function dn(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function _M(e,t,r){var n=t.pendingProps;switch(jy(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dn(t),null;case 1:return Bn(t.type)&&Jf(),dn(t),null;case 3:return n=t.stateNode,Bs(),Zt(In),Zt(yn),Ey(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(lf(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Aa!==null&&(jg(Aa),Aa=null))),gg(e,t),dn(t),null;case 5:Cy(t);var a=Ni(Dc.current);if(r=t.type,e!==null&&t.stateNode!=null)uS(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ce(166));return dn(t),null}if(e=Ni(Wa.current),lf(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[Ba]=t,n[Tc]=o,e=(t.mode&1)!==0,r){case"dialog":Kt("cancel",n),Kt("close",n);break;case"iframe":case"object":case"embed":Kt("load",n);break;case"video":case"audio":for(a=0;a<ac.length;a++)Kt(ac[a],n);break;case"source":Kt("error",n);break;case"img":case"image":case"link":Kt("error",n),Kt("load",n);break;case"details":Kt("toggle",n);break;case"input":dx(n,o),Kt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Kt("invalid",n);break;case"textarea":px(n,o),Kt("invalid",n)}Up(r,o),a=null;for(var i in o)if(o.hasOwnProperty(i)){var s=o[i];i==="children"?typeof s=="string"?n.textContent!==s&&(o.suppressHydrationWarning!==!0&&sf(n.textContent,s,e),a=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&sf(n.textContent,s,e),a=["children",""+s]):jc.hasOwnProperty(i)&&s!=null&&i==="onScroll"&&Kt("scroll",n)}switch(r){case"input":Qu(n),hx(n,o,!0);break;case"textarea":Qu(n),gx(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=Qf)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Bk(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[Ba]=t,e[Tc]=n,cS(e,t,!1,!1),t.stateNode=e;e:{switch(i=Wp(r,n),r){case"dialog":Kt("cancel",e),Kt("close",e),a=n;break;case"iframe":case"object":case"embed":Kt("load",e),a=n;break;case"video":case"audio":for(a=0;a<ac.length;a++)Kt(ac[a],e);a=n;break;case"source":Kt("error",e),a=n;break;case"img":case"image":case"link":Kt("error",e),Kt("load",e),a=n;break;case"details":Kt("toggle",e),a=n;break;case"input":dx(e,n),a=Lp(e,n),Kt("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=lr({},n,{value:void 0}),Kt("invalid",e);break;case"textarea":px(e,n),a=Fp(e,n),Kt("invalid",e);break;default:a=n}Up(r,a),s=a;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?Uk(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Fk(e,l)):o==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Sc(e,l):typeof l=="number"&&Sc(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(jc.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Kt("scroll",e):l!=null&&ly(e,o,l,i))}switch(r){case"input":Qu(e),hx(e,n,!1);break;case"textarea":Qu(e),gx(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Jo(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?Ns(e,!!n.multiple,o,!1):n.defaultValue!=null&&Ns(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Qf)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return dn(t),null;case 6:if(e&&t.stateNode!=null)fS(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ce(166));if(r=Ni(Dc.current),Ni(Wa.current),lf(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ba]=t,(o=n.nodeValue!==r)&&(e=Qn,e!==null))switch(e.tag){case 3:sf(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&sf(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ba]=t,t.stateNode=n}return dn(t),null;case 13:if(Zt(ir),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(er&&Zn!==null&&t.mode&1&&!(t.flags&128))Aj(),Ls(),t.flags|=98560,o=!1;else if(o=lf(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(ce(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ce(317));o[Ba]=t}else Ls(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;dn(t),o=!1}else Aa!==null&&(jg(Aa),Aa=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ir.current&1?$r===0&&($r=3):Gy())),t.updateQueue!==null&&(t.flags|=4),dn(t),null);case 4:return Bs(),gg(e,t),e===null&&Cc(t.stateNode.containerInfo),dn(t),null;case 10:return Oy(t.type._context),dn(t),null;case 17:return Bn(t.type)&&Jf(),dn(t),null;case 19:if(Zt(ir),o=t.memoizedState,o===null)return dn(t),null;if(n=(t.flags&128)!==0,i=o.rendering,i===null)if(n)Wl(o,!1);else{if($r!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=id(e),i!==null){for(t.flags|=128,Wl(o,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Wt(ir,ir.current&1|2),t.child}e=e.sibling}o.tail!==null&&xr()>zs&&(t.flags|=128,n=!0,Wl(o,!1),t.lanes=4194304)}else{if(!n)if(e=id(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Wl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!er)return dn(t),null}else 2*xr()-o.renderingStartTime>zs&&r!==1073741824&&(t.flags|=128,n=!0,Wl(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(r=o.last,r!==null?r.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=xr(),t.sibling=null,r=ir.current,Wt(ir,n?r&1|2:r&1),t):(dn(t),null);case 22:case 23:return Wy(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Kn&1073741824&&(dn(t),t.subtreeFlags&6&&(t.flags|=8192)):dn(t),null;case 24:return null;case 25:return null}throw Error(ce(156,t.tag))}function OM(e,t){switch(jy(t),t.tag){case 1:return Bn(t.type)&&Jf(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Bs(),Zt(In),Zt(yn),Ey(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Cy(t),null;case 13:if(Zt(ir),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ce(340));Ls()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Zt(ir),null;case 4:return Bs(),null;case 10:return Oy(t.type._context),null;case 22:case 23:return Wy(),null;case 24:return null;default:return null}}var ff=!1,gn=!1,PM=typeof WeakSet=="function"?WeakSet:Set,xe=null;function bs(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){gr(e,t,n)}else r.current=null}function mg(e,t,r){try{r()}catch(n){gr(e,t,n)}}var ab=!1;function AM(e,t){if(Jp=Yf,e=mj(),wy(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var i=0,s=-1,l=-1,c=0,f=0,d=e,h=null;t:for(;;){for(var p;d!==r||a!==0&&d.nodeType!==3||(s=i+a),d!==o||n!==0&&d.nodeType!==3||(l=i+n),d.nodeType===3&&(i+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===e)break t;if(h===r&&++c===a&&(s=i),h===o&&++f===n&&(l=i),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}r=s===-1||l===-1?null:{start:s,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(eg={focusedElem:e,selectionRange:r},Yf=!1,xe=t;xe!==null;)if(t=xe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,xe=e;else for(;xe!==null;){t=xe;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var v=m.memoizedProps,b=m.memoizedState,y=t.stateNode,g=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:Na(t.type,v),b);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ce(163))}}catch(j){gr(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,xe=e;break}xe=t.return}return m=ab,ab=!1,m}function dc(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,o!==void 0&&mg(t,r,o)}a=a.next}while(a!==n)}}function Ph(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function yg(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function dS(e){var t=e.alternate;t!==null&&(e.alternate=null,dS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ba],delete t[Tc],delete t[ng],delete t[fM],delete t[dM])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function hS(e){return e.tag===5||e.tag===3||e.tag===4}function ob(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||hS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function vg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Qf));else if(n!==4&&(e=e.child,e!==null))for(vg(e,t,r),e=e.sibling;e!==null;)vg(e,t,r),e=e.sibling}function xg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(xg(e,t,r),e=e.sibling;e!==null;)xg(e,t,r),e=e.sibling}var Zr=null,_a=!1;function Mo(e,t,r){for(r=r.child;r!==null;)pS(e,t,r),r=r.sibling}function pS(e,t,r){if(Ua&&typeof Ua.onCommitFiberUnmount=="function")try{Ua.onCommitFiberUnmount(bh,r)}catch{}switch(r.tag){case 5:gn||bs(r,t);case 6:var n=Zr,a=_a;Zr=null,Mo(e,t,r),Zr=n,_a=a,Zr!==null&&(_a?(e=Zr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Zr.removeChild(r.stateNode));break;case 18:Zr!==null&&(_a?(e=Zr,r=r.stateNode,e.nodeType===8?U0(e.parentNode,r):e.nodeType===1&&U0(e,r),Pc(e)):U0(Zr,r.stateNode));break;case 4:n=Zr,a=_a,Zr=r.stateNode.containerInfo,_a=!0,Mo(e,t,r),Zr=n,_a=a;break;case 0:case 11:case 14:case 15:if(!gn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var o=a,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&mg(r,t,i),a=a.next}while(a!==n)}Mo(e,t,r);break;case 1:if(!gn&&(bs(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){gr(r,t,s)}Mo(e,t,r);break;case 21:Mo(e,t,r);break;case 22:r.mode&1?(gn=(n=gn)||r.memoizedState!==null,Mo(e,t,r),gn=n):Mo(e,t,r);break;default:Mo(e,t,r)}}function ib(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new PM),t.forEach(function(n){var a=IM.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function ja(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var o=e,i=t,s=i;e:for(;s!==null;){switch(s.tag){case 5:Zr=s.stateNode,_a=!1;break e;case 3:Zr=s.stateNode.containerInfo,_a=!0;break e;case 4:Zr=s.stateNode.containerInfo,_a=!0;break e}s=s.return}if(Zr===null)throw Error(ce(160));pS(o,i,a),Zr=null,_a=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(c){gr(a,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)gS(t,e),t=t.sibling}function gS(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ja(t,e),La(e),n&4){try{dc(3,e,e.return),Ph(3,e)}catch(v){gr(e,e.return,v)}try{dc(5,e,e.return)}catch(v){gr(e,e.return,v)}}break;case 1:ja(t,e),La(e),n&512&&r!==null&&bs(r,r.return);break;case 5:if(ja(t,e),La(e),n&512&&r!==null&&bs(r,r.return),e.flags&32){var a=e.stateNode;try{Sc(a,"")}catch(v){gr(e,e.return,v)}}if(n&4&&(a=e.stateNode,a!=null)){var o=e.memoizedProps,i=r!==null?r.memoizedProps:o,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&Lk(a,o),Wp(s,i);var c=Wp(s,o);for(i=0;i<l.length;i+=2){var f=l[i],d=l[i+1];f==="style"?Uk(a,d):f==="dangerouslySetInnerHTML"?Fk(a,d):f==="children"?Sc(a,d):ly(a,f,d,c)}switch(s){case"input":Ip(a,o);break;case"textarea":Ik(a,o);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Ns(a,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?Ns(a,!!o.multiple,o.defaultValue,!0):Ns(a,!!o.multiple,o.multiple?[]:"",!1))}a[Tc]=o}catch(v){gr(e,e.return,v)}}break;case 6:if(ja(t,e),La(e),n&4){if(e.stateNode===null)throw Error(ce(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(v){gr(e,e.return,v)}}break;case 3:if(ja(t,e),La(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Pc(t.containerInfo)}catch(v){gr(e,e.return,v)}break;case 4:ja(t,e),La(e);break;case 13:ja(t,e),La(e),a=e.child,a.flags&8192&&(o=a.memoizedState!==null,a.stateNode.isHidden=o,!o||a.alternate!==null&&a.alternate.memoizedState!==null||(zy=xr())),n&4&&ib(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?(gn=(c=gn)||f,ja(t,e),gn=c):ja(t,e),La(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!f&&e.mode&1)for(xe=e,f=e.child;f!==null;){for(d=xe=f;xe!==null;){switch(h=xe,p=h.child,h.tag){case 0:case 11:case 14:case 15:dc(4,h,h.return);break;case 1:bs(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(v){gr(n,r,v)}}break;case 5:bs(h,h.return);break;case 22:if(h.memoizedState!==null){lb(d);continue}}p!==null?(p.return=h,xe=p):lb(d)}f=f.sibling}e:for(f=null,d=e;;){if(d.tag===5){if(f===null){f=d;try{a=d.stateNode,c?(o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=d.stateNode,l=d.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=zk("display",i))}catch(v){gr(e,e.return,v)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(v){gr(e,e.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ja(t,e),La(e),n&4&&ib(e);break;case 21:break;default:ja(t,e),La(e)}}function La(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(hS(r)){var n=r;break e}r=r.return}throw Error(ce(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Sc(a,""),n.flags&=-33);var o=ob(e);xg(e,o,a);break;case 3:case 4:var i=n.stateNode.containerInfo,s=ob(e);vg(e,s,i);break;default:throw Error(ce(161))}}catch(l){gr(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function MM(e,t,r){xe=e,mS(e)}function mS(e,t,r){for(var n=(e.mode&1)!==0;xe!==null;){var a=xe,o=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||ff;if(!i){var s=a.alternate,l=s!==null&&s.memoizedState!==null||gn;s=ff;var c=gn;if(ff=i,(gn=l)&&!c)for(xe=a;xe!==null;)i=xe,l=i.child,i.tag===22&&i.memoizedState!==null?cb(a):l!==null?(l.return=i,xe=l):cb(a);for(;o!==null;)xe=o,mS(o),o=o.sibling;xe=a,ff=s,gn=c}sb(e)}else a.subtreeFlags&8772&&o!==null?(o.return=a,xe=o):sb(e)}}function sb(e){for(;xe!==null;){var t=xe;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:gn||Ph(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!gn)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Na(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Hx(t,o,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Hx(t,i,r)}break;case 5:var s=t.stateNode;if(r===null&&t.flags&4){r=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&Pc(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ce(163))}gn||t.flags&512&&yg(t)}catch(h){gr(t,t.return,h)}}if(t===e){xe=null;break}if(r=t.sibling,r!==null){r.return=t.return,xe=r;break}xe=t.return}}function lb(e){for(;xe!==null;){var t=xe;if(t===e){xe=null;break}var r=t.sibling;if(r!==null){r.return=t.return,xe=r;break}xe=t.return}}function cb(e){for(;xe!==null;){var t=xe;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ph(4,t)}catch(l){gr(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(l){gr(t,a,l)}}var o=t.return;try{yg(t)}catch(l){gr(t,o,l)}break;case 5:var i=t.return;try{yg(t)}catch(l){gr(t,i,l)}}}catch(l){gr(t,t.return,l)}if(t===e){xe=null;break}var s=t.sibling;if(s!==null){s.return=t.return,xe=s;break}xe=t.return}}var CM=Math.ceil,cd=ko.ReactCurrentDispatcher,By=ko.ReactCurrentOwner,ha=ko.ReactCurrentBatchConfig,lt=0,Wr=null,Sr=null,en=0,Kn=0,ws=ri(0),$r=0,Bc=null,Fi=0,Ah=0,Fy=0,hc=null,Dn=null,zy=0,zs=1/0,ro=null,ud=!1,bg=null,Ko=null,df=!1,Bo=null,fd=0,pc=0,wg=null,Bf=-1,Ff=0;function _n(){return lt&6?xr():Bf!==-1?Bf:Bf=xr()}function Yo(e){return e.mode&1?lt&2&&en!==0?en&-en:pM.transition!==null?(Ff===0&&(Ff=ej()),Ff):(e=St,e!==0||(e=window.event,e=e===void 0?16:sj(e.type)),e):1}function Ta(e,t,r,n){if(50<pc)throw pc=0,wg=null,Error(ce(185));Su(e,r,n),(!(lt&2)||e!==Wr)&&(e===Wr&&(!(lt&2)&&(Ah|=r),$r===4&&Ro(e,en)),Fn(e,n),r===1&&lt===0&&!(t.mode&1)&&(zs=xr()+500,Nh&&ni()))}function Fn(e,t){var r=e.callbackNode;pA(e,t);var n=Kf(e,e===Wr?en:0);if(n===0)r!==null&&vx(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&vx(r),t===1)e.tag===0?hM(ub.bind(null,e)):_j(ub.bind(null,e)),cM(function(){!(lt&6)&&ni()}),r=null;else{switch(tj(n)){case 1:r=hy;break;case 4:r=Qk;break;case 16:r=Xf;break;case 536870912:r=Jk;break;default:r=Xf}r=SS(r,yS.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function yS(e,t){if(Bf=-1,Ff=0,lt&6)throw Error(ce(327));var r=e.callbackNode;if(Ms()&&e.callbackNode!==r)return null;var n=Kf(e,e===Wr?en:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=dd(e,n);else{t=n;var a=lt;lt|=2;var o=xS();(Wr!==e||en!==t)&&(ro=null,zs=xr()+500,Ei(e,t));do try{$M();break}catch(s){vS(e,s)}while(!0);_y(),cd.current=o,lt=a,Sr!==null?t=0:(Wr=null,en=0,t=$r)}if(t!==0){if(t===2&&(a=Kp(e),a!==0&&(n=a,t=kg(e,a))),t===1)throw r=Bc,Ei(e,0),Ro(e,n),Fn(e,xr()),r;if(t===6)Ro(e,n);else{if(a=e.current.alternate,!(n&30)&&!EM(a)&&(t=dd(e,n),t===2&&(o=Kp(e),o!==0&&(n=o,t=kg(e,o))),t===1))throw r=Bc,Ei(e,0),Ro(e,n),Fn(e,xr()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(ce(345));case 2:xi(e,Dn,ro);break;case 3:if(Ro(e,n),(n&130023424)===n&&(t=zy+500-xr(),10<t)){if(Kf(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){_n(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=rg(xi.bind(null,e,Dn,ro),t);break}xi(e,Dn,ro);break;case 4:if(Ro(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var i=31-Ea(n);o=1<<i,i=t[i],i>a&&(a=i),n&=~o}if(n=a,n=xr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*CM(n/1960))-n,10<n){e.timeoutHandle=rg(xi.bind(null,e,Dn,ro),n);break}xi(e,Dn,ro);break;case 5:xi(e,Dn,ro);break;default:throw Error(ce(329))}}}return Fn(e,xr()),e.callbackNode===r?yS.bind(null,e):null}function kg(e,t){var r=hc;return e.current.memoizedState.isDehydrated&&(Ei(e,t).flags|=256),e=dd(e,t),e!==2&&(t=Dn,Dn=r,t!==null&&jg(t)),e}function jg(e){Dn===null?Dn=e:Dn.push.apply(Dn,e)}function EM(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],o=a.getSnapshot;a=a.value;try{if(!$a(o(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ro(e,t){for(t&=~Fy,t&=~Ah,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ea(t),n=1<<r;e[r]=-1,t&=~n}}function ub(e){if(lt&6)throw Error(ce(327));Ms();var t=Kf(e,0);if(!(t&1))return Fn(e,xr()),null;var r=dd(e,t);if(e.tag!==0&&r===2){var n=Kp(e);n!==0&&(t=n,r=kg(e,n))}if(r===1)throw r=Bc,Ei(e,0),Ro(e,t),Fn(e,xr()),r;if(r===6)throw Error(ce(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xi(e,Dn,ro),Fn(e,xr()),null}function Uy(e,t){var r=lt;lt|=1;try{return e(t)}finally{lt=r,lt===0&&(zs=xr()+500,Nh&&ni())}}function zi(e){Bo!==null&&Bo.tag===0&&!(lt&6)&&Ms();var t=lt;lt|=1;var r=ha.transition,n=St;try{if(ha.transition=null,St=1,e)return e()}finally{St=n,ha.transition=r,lt=t,!(lt&6)&&ni()}}function Wy(){Kn=ws.current,Zt(ws)}function Ei(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,lM(r)),Sr!==null)for(r=Sr.return;r!==null;){var n=r;switch(jy(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Jf();break;case 3:Bs(),Zt(In),Zt(yn),Ey();break;case 5:Cy(n);break;case 4:Bs();break;case 13:Zt(ir);break;case 19:Zt(ir);break;case 10:Oy(n.type._context);break;case 22:case 23:Wy()}r=r.return}if(Wr=e,Sr=e=qo(e.current,null),en=Kn=t,$r=0,Bc=null,Fy=Ah=Fi=0,Dn=hc=null,Si!==null){for(t=0;t<Si.length;t++)if(r=Si[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,o=r.pending;if(o!==null){var i=o.next;o.next=a,n.next=i}r.pending=n}Si=null}return e}function vS(e,t){do{var r=Sr;try{if(_y(),Rf.current=ld,sd){for(var n=sr.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}sd=!1}if(Bi=0,zr=Tr=sr=null,fc=!1,Rc=0,By.current=null,r===null||r.return===null){$r=1,Bc=t,Sr=null;break}e:{var o=e,i=r.return,s=r,l=t;if(t=en,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,f=s,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=Zx(i);if(p!==null){p.flags&=-257,Qx(p,i,s,o,t),p.mode&1&&qx(o,c,t),t=p,l=c;var m=t.updateQueue;if(m===null){var v=new Set;v.add(l),t.updateQueue=v}else m.add(l);break e}else{if(!(t&1)){qx(o,c,t),Gy();break e}l=Error(ce(426))}}else if(er&&s.mode&1){var b=Zx(i);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Qx(b,i,s,o,t),Sy(Fs(l,s));break e}}o=l=Fs(l,s),$r!==4&&($r=2),hc===null?hc=[o]:hc.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var y=tS(o,l,t);Gx(o,y);break e;case 1:s=l;var g=o.type,x=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Ko===null||!Ko.has(x)))){o.flags|=65536,t&=-t,o.lanes|=t;var j=rS(o,s,t);Gx(o,j);break e}}o=o.return}while(o!==null)}wS(r)}catch(k){t=k,Sr===r&&r!==null&&(Sr=r=r.return);continue}break}while(!0)}function xS(){var e=cd.current;return cd.current=ld,e===null?ld:e}function Gy(){($r===0||$r===3||$r===2)&&($r=4),Wr===null||!(Fi&268435455)&&!(Ah&268435455)||Ro(Wr,en)}function dd(e,t){var r=lt;lt|=2;var n=xS();(Wr!==e||en!==t)&&(ro=null,Ei(e,t));do try{TM();break}catch(a){vS(e,a)}while(!0);if(_y(),lt=r,cd.current=n,Sr!==null)throw Error(ce(261));return Wr=null,en=0,$r}function TM(){for(;Sr!==null;)bS(Sr)}function $M(){for(;Sr!==null&&!oA();)bS(Sr)}function bS(e){var t=jS(e.alternate,e,Kn);e.memoizedProps=e.pendingProps,t===null?wS(e):Sr=t,By.current=null}function wS(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=OM(r,t),r!==null){r.flags&=32767,Sr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{$r=6,Sr=null;return}}else if(r=_M(r,t,Kn),r!==null){Sr=r;return}if(t=t.sibling,t!==null){Sr=t;return}Sr=t=e}while(t!==null);$r===0&&($r=5)}function xi(e,t,r){var n=St,a=ha.transition;try{ha.transition=null,St=1,DM(e,t,r,n)}finally{ha.transition=a,St=n}return null}function DM(e,t,r,n){do Ms();while(Bo!==null);if(lt&6)throw Error(ce(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ce(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(gA(e,o),e===Wr&&(Sr=Wr=null,en=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||df||(df=!0,SS(Xf,function(){return Ms(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=ha.transition,ha.transition=null;var i=St;St=1;var s=lt;lt|=4,By.current=null,AM(e,r),gS(r,e),tM(eg),Yf=!!Jp,eg=Jp=null,e.current=r,MM(r),iA(),lt=s,St=i,ha.transition=o}else e.current=r;if(df&&(df=!1,Bo=e,fd=a),o=e.pendingLanes,o===0&&(Ko=null),cA(r.stateNode),Fn(e,xr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(ud)throw ud=!1,e=bg,bg=null,e;return fd&1&&e.tag!==0&&Ms(),o=e.pendingLanes,o&1?e===wg?pc++:(pc=0,wg=e):pc=0,ni(),null}function Ms(){if(Bo!==null){var e=tj(fd),t=ha.transition,r=St;try{if(ha.transition=null,St=16>e?16:e,Bo===null)var n=!1;else{if(e=Bo,Bo=null,fd=0,lt&6)throw Error(ce(331));var a=lt;for(lt|=4,xe=e.current;xe!==null;){var o=xe,i=o.child;if(xe.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(xe=c;xe!==null;){var f=xe;switch(f.tag){case 0:case 11:case 15:dc(8,f,o)}var d=f.child;if(d!==null)d.return=f,xe=d;else for(;xe!==null;){f=xe;var h=f.sibling,p=f.return;if(dS(f),f===c){xe=null;break}if(h!==null){h.return=p,xe=h;break}xe=p}}}var m=o.alternate;if(m!==null){var v=m.child;if(v!==null){m.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}xe=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,xe=i;else e:for(;xe!==null;){if(o=xe,o.flags&2048)switch(o.tag){case 0:case 11:case 15:dc(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,xe=y;break e}xe=o.return}}var g=e.current;for(xe=g;xe!==null;){i=xe;var x=i.child;if(i.subtreeFlags&2064&&x!==null)x.return=i,xe=x;else e:for(i=g;xe!==null;){if(s=xe,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Ph(9,s)}}catch(k){gr(s,s.return,k)}if(s===i){xe=null;break e}var j=s.sibling;if(j!==null){j.return=s.return,xe=j;break e}xe=s.return}}if(lt=a,ni(),Ua&&typeof Ua.onPostCommitFiberRoot=="function")try{Ua.onPostCommitFiberRoot(bh,e)}catch{}n=!0}return n}finally{St=r,ha.transition=t}}return!1}function fb(e,t,r){t=Fs(r,t),t=tS(e,t,1),e=Xo(e,t,1),t=_n(),e!==null&&(Su(e,1,t),Fn(e,t))}function gr(e,t,r){if(e.tag===3)fb(e,e,r);else for(;t!==null;){if(t.tag===3){fb(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ko===null||!Ko.has(n))){e=Fs(r,e),e=rS(t,e,1),t=Xo(t,e,1),e=_n(),t!==null&&(Su(t,1,e),Fn(t,e));break}}t=t.return}}function RM(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=_n(),e.pingedLanes|=e.suspendedLanes&r,Wr===e&&(en&r)===r&&($r===4||$r===3&&(en&130023424)===en&&500>xr()-zy?Ei(e,0):Fy|=r),Fn(e,t)}function kS(e,t){t===0&&(e.mode&1?(t=tf,tf<<=1,!(tf&130023424)&&(tf=4194304)):t=1);var r=_n();e=yo(e,t),e!==null&&(Su(e,t,r),Fn(e,r))}function LM(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),kS(e,r)}function IM(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ce(314))}n!==null&&n.delete(t),kS(e,r)}var jS;jS=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||In.current)Rn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Rn=!1,NM(e,t,r);Rn=!!(e.flags&131072)}else Rn=!1,er&&t.flags&1048576&&Oj(t,rd,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;If(e,t),e=t.pendingProps;var a=Rs(t,yn.current);As(t,r),a=$y(null,t,n,e,a,r);var o=Dy();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Bn(n)?(o=!0,ed(t)):o=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Ay(t),a.updater=Oh,t.stateNode=a,a._reactInternals=t,cg(t,n,e,r),t=dg(null,t,n,!0,o,r)):(t.tag=0,er&&o&&ky(t),Sn(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(If(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=FM(n),e=Na(n,e),a){case 0:t=fg(null,t,n,e,r);break e;case 1:t=tb(null,t,n,e,r);break e;case 11:t=Jx(null,t,n,e,r);break e;case 14:t=eb(null,t,n,Na(n.type,e),r);break e}throw Error(ce(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Na(n,a),fg(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Na(n,a),tb(e,t,n,a,r);case 3:e:{if(iS(t),e===null)throw Error(ce(387));n=t.pendingProps,o=t.memoizedState,a=o.element,Tj(e,t),od(t,n,null,r);var i=t.memoizedState;if(n=i.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){a=Fs(Error(ce(423)),t),t=rb(e,t,n,r,a);break e}else if(n!==a){a=Fs(Error(ce(424)),t),t=rb(e,t,n,r,a);break e}else for(Zn=Vo(t.stateNode.containerInfo.firstChild),Qn=t,er=!0,Aa=null,r=Cj(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ls(),n===a){t=vo(e,t,r);break e}Sn(e,t,n,r)}t=t.child}return t;case 5:return $j(t),e===null&&ig(t),n=t.type,a=t.pendingProps,o=e!==null?e.memoizedProps:null,i=a.children,tg(n,a)?i=null:o!==null&&tg(n,o)&&(t.flags|=32),oS(e,t),Sn(e,t,i,r),t.child;case 6:return e===null&&ig(t),null;case 13:return sS(e,t,r);case 4:return My(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Is(t,null,n,r):Sn(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Na(n,a),Jx(e,t,n,a,r);case 7:return Sn(e,t,t.pendingProps,r),t.child;case 8:return Sn(e,t,t.pendingProps.children,r),t.child;case 12:return Sn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,o=t.memoizedProps,i=a.value,Wt(nd,n._currentValue),n._currentValue=i,o!==null)if($a(o.value,i)){if(o.children===a.children&&!In.current){t=vo(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var s=o.dependencies;if(s!==null){i=o.child;for(var l=s.firstContext;l!==null;){if(l.context===n){if(o.tag===1){l=co(-1,r&-r),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),sg(o.return,r,t),s.lanes|=r;break}l=l.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(ce(341));i.lanes|=r,s=i.alternate,s!==null&&(s.lanes|=r),sg(i,r,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}Sn(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,As(t,r),a=ga(a),n=n(a),t.flags|=1,Sn(e,t,n,r),t.child;case 14:return n=t.type,a=Na(n,t.pendingProps),a=Na(n.type,a),eb(e,t,n,a,r);case 15:return nS(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Na(n,a),If(e,t),t.tag=1,Bn(n)?(e=!0,ed(t)):e=!1,As(t,r),eS(t,n,a),cg(t,n,a,r),dg(null,t,n,!0,e,r);case 19:return lS(e,t,r);case 22:return aS(e,t,r)}throw Error(ce(156,t.tag))};function SS(e,t){return Zk(e,t)}function BM(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ua(e,t,r,n){return new BM(e,t,r,n)}function Hy(e){return e=e.prototype,!(!e||!e.isReactComponent)}function FM(e){if(typeof e=="function")return Hy(e)?1:0;if(e!=null){if(e=e.$$typeof,e===uy)return 11;if(e===fy)return 14}return 2}function qo(e,t){var r=e.alternate;return r===null?(r=ua(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function zf(e,t,r,n,a,o){var i=2;if(n=e,typeof e=="function")Hy(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case fs:return Ti(r.children,a,o,t);case cy:i=8,a|=8;break;case Tp:return e=ua(12,r,t,a|2),e.elementType=Tp,e.lanes=o,e;case $p:return e=ua(13,r,t,a),e.elementType=$p,e.lanes=o,e;case Dp:return e=ua(19,r,t,a),e.elementType=Dp,e.lanes=o,e;case $k:return Mh(r,a,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ek:i=10;break e;case Tk:i=9;break e;case uy:i=11;break e;case fy:i=14;break e;case Eo:i=16,n=null;break e}throw Error(ce(130,e==null?e:typeof e,""))}return t=ua(i,r,t,a),t.elementType=e,t.type=n,t.lanes=o,t}function Ti(e,t,r,n){return e=ua(7,e,n,t),e.lanes=r,e}function Mh(e,t,r,n){return e=ua(22,e,n,t),e.elementType=$k,e.lanes=r,e.stateNode={isHidden:!1},e}function q0(e,t,r){return e=ua(6,e,null,t),e.lanes=r,e}function Z0(e,t,r){return t=ua(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zM(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=C0(0),this.expirationTimes=C0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=C0(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Vy(e,t,r,n,a,o,i,s,l){return e=new zM(e,t,r,s,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=ua(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ay(o),e}function UM(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:us,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function NS(e){if(!e)return ei;e=e._reactInternals;e:{if(qi(e)!==e||e.tag!==1)throw Error(ce(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Bn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ce(171))}if(e.tag===1){var r=e.type;if(Bn(r))return Nj(e,r,t)}return t}function _S(e,t,r,n,a,o,i,s,l){return e=Vy(r,n,!0,e,a,o,i,s,l),e.context=NS(null),r=e.current,n=_n(),a=Yo(r),o=co(n,a),o.callback=t??null,Xo(r,o,a),e.current.lanes=a,Su(e,a,n),Fn(e,n),e}function Ch(e,t,r,n){var a=t.current,o=_n(),i=Yo(a);return r=NS(r),t.context===null?t.context=r:t.pendingContext=r,t=co(o,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Xo(a,t,i),e!==null&&(Ta(e,a,i,o),Df(e,a,i)),i}function hd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function db(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Xy(e,t){db(e,t),(e=e.alternate)&&db(e,t)}function WM(){return null}var OS=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ky(e){this._internalRoot=e}Eh.prototype.render=Ky.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ce(409));Ch(e,t,null,null)};Eh.prototype.unmount=Ky.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;zi(function(){Ch(null,e,null,null)}),t[mo]=null}};function Eh(e){this._internalRoot=e}Eh.prototype.unstable_scheduleHydration=function(e){if(e){var t=aj();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Do.length&&t!==0&&t<Do[r].priority;r++);Do.splice(r,0,e),r===0&&ij(e)}};function Yy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Th(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function hb(){}function GM(e,t,r,n,a){if(a){if(typeof n=="function"){var o=n;n=function(){var c=hd(i);o.call(c)}}var i=_S(t,n,e,0,null,!1,!1,"",hb);return e._reactRootContainer=i,e[mo]=i.current,Cc(e.nodeType===8?e.parentNode:e),zi(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var s=n;n=function(){var c=hd(l);s.call(c)}}var l=Vy(e,0,!1,null,null,!1,!1,"",hb);return e._reactRootContainer=l,e[mo]=l.current,Cc(e.nodeType===8?e.parentNode:e),zi(function(){Ch(t,l,r,n)}),l}function $h(e,t,r,n,a){var o=r._reactRootContainer;if(o){var i=o;if(typeof a=="function"){var s=a;a=function(){var l=hd(i);s.call(l)}}Ch(t,i,e,a)}else i=GM(r,t,e,a,n);return hd(i)}rj=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=nc(t.pendingLanes);r!==0&&(py(t,r|1),Fn(t,xr()),!(lt&6)&&(zs=xr()+500,ni()))}break;case 13:zi(function(){var n=yo(e,1);if(n!==null){var a=_n();Ta(n,e,1,a)}}),Xy(e,1)}};gy=function(e){if(e.tag===13){var t=yo(e,134217728);if(t!==null){var r=_n();Ta(t,e,134217728,r)}Xy(e,134217728)}};nj=function(e){if(e.tag===13){var t=Yo(e),r=yo(e,t);if(r!==null){var n=_n();Ta(r,e,t,n)}Xy(e,t)}};aj=function(){return St};oj=function(e,t){var r=St;try{return St=e,t()}finally{St=r}};Hp=function(e,t,r){switch(t){case"input":if(Ip(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Sh(n);if(!a)throw Error(ce(90));Rk(n),Ip(n,a)}}}break;case"textarea":Ik(e,r);break;case"select":t=r.value,t!=null&&Ns(e,!!r.multiple,t,!1)}};Hk=Uy;Vk=zi;var HM={usingClientEntryPoint:!1,Events:[_u,gs,Sh,Wk,Gk,Uy]},Gl={findFiberByHostInstance:ji,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},VM={bundleType:Gl.bundleType,version:Gl.version,rendererPackageName:Gl.rendererPackageName,rendererConfig:Gl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ko.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Yk(e),e===null?null:e.stateNode},findFiberByHostInstance:Gl.findFiberByHostInstance||WM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hf.isDisabled&&hf.supportsFiber)try{bh=hf.inject(VM),Ua=hf}catch{}}ea.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HM;ea.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yy(t))throw Error(ce(200));return UM(e,t,null,r)};ea.createRoot=function(e,t){if(!Yy(e))throw Error(ce(299));var r=!1,n="",a=OS;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Vy(e,1,!1,null,null,r,!1,n,a),e[mo]=t.current,Cc(e.nodeType===8?e.parentNode:e),new Ky(t)};ea.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ce(188)):(e=Object.keys(e).join(","),Error(ce(268,e)));return e=Yk(t),e=e===null?null:e.stateNode,e};ea.flushSync=function(e){return zi(e)};ea.hydrate=function(e,t,r){if(!Th(t))throw Error(ce(200));return $h(null,e,t,!0,r)};ea.hydrateRoot=function(e,t,r){if(!Yy(e))throw Error(ce(405));var n=r!=null&&r.hydratedSources||null,a=!1,o="",i=OS;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=_S(t,null,e,1,r??null,a,!1,o,i),e[mo]=t.current,Cc(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Eh(t)};ea.render=function(e,t,r){if(!Th(t))throw Error(ce(200));return $h(null,e,t,!1,r)};ea.unmountComponentAtNode=function(e){if(!Th(e))throw Error(ce(40));return e._reactRootContainer?(zi(function(){$h(null,null,e,!1,function(){e._reactRootContainer=null,e[mo]=null})}),!0):!1};ea.unstable_batchedUpdates=Uy;ea.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Th(r))throw Error(ce(200));if(e==null||e._reactInternals===void 0)throw Error(ce(38));return $h(e,t,r,!1,n)};ea.version="18.3.1-next-f1338f8080-20240426";function PS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(PS)}catch(e){console.error(e)}}PS(),Pk.exports=ea;var XM=Pk.exports,pb=XM;Cp.createRoot=pb.createRoot,Cp.hydrateRoot=pb.hydrateRoot;const Zo=({isOpen:e,onClose:t,onConfirm:r,title:n,message:a,confirmText:o="I know the risk and insist to continue",cancelText:i="Cancel"})=>e?u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:u.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-md rounded-2xl shadow-2xl border border-amber-500/30 overflow-hidden transform transition-all scale-100",children:[u.jsxs("div",{className:"bg-amber-500/10 p-6 flex flex-col items-center justify-center border-b border-amber-500/20",children:[u.jsx("div",{className:"w-16 h-16 bg-amber-100 dark:bg-amber-900/30 rounded-full flex items-center justify-center mb-4",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-amber-600 dark:text-amber-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),u.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white text-center",children:n})]}),u.jsx("div",{className:"p-6",children:u.jsx("div",{className:"text-gray-600 dark:text-slate-300 text-center text-sm leading-relaxed",children:a})}),u.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-800/50 flex gap-3 justify-end border-t border-gray-200 dark:border-slate-800",children:[u.jsx("button",{onClick:t,className:"px-4 py-2 bg-white hover:bg-gray-100 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-700 dark:text-slate-200 font-semibold rounded-lg border border-gray-300 dark:border-slate-600 transition-colors text-sm",children:i}),u.jsx("button",{onClick:r,className:"px-4 py-2 bg-amber-600 hover:bg-amber-700 text-white font-bold rounded-lg shadow-lg shadow-amber-500/20 transition-all active:scale-95 text-sm",children:o})]})]})}):null,KM=({onFileSelected:e,onGenerateFakeDng:t,fileName:r,hasGeneratedData:n,viewMode:a,onSetViewMode:o,patternPeriod:i,onPatternPeriodChange:s,fillFactor:l,onFillFactorChange:c,patternPhase:f,onPatternPhaseChange:d,showPatternControls:h,onOpenAbout:p,onShowExif:m,bridgeStatus:v,onBridgeClick:b,isDrLabOpen:y,onToggleDrLab:g,isColorLabOpen:x,onToggleColorLab:j,isFftLabOpen:k,onToggleFftLab:w,isSfrLabOpen:N,onToggleSfrLab:_,onGenerateTestPic:O,onPTCFilesSelected:A,onDownloadDng:M,isThreePlane:C,onOpenDatabase:$})=>{const F=S.useRef(null),T=S.useRef(null),[W,P]=S.useState(!1),[E,L]=S.useState(!1),[z,Z]=S.useState(!1),[q,H]=S.useState(!1),[se,ee]=S.useState("direct"),D=S.useRef(null),ne=S.useRef(null);S.useEffect(()=>{const oe=ie=>{D.current&&!D.current.contains(ie.target)&&Z(!1),ne.current&&!ne.current.contains(ie.target)&&H(!1)};return document.addEventListener("mousedown",oe),()=>document.removeEventListener("mousedown",oe)},[]);const he=oe=>{var ie;Z(!1),oe==="direct"?(ee("direct"),P(!0)):!v.isConnected||!v.hasDngConverter?L(!0):(ee("convert"),(ie=F.current)==null||ie.click())},X=()=>{var oe;P(!1),(oe=F.current)==null||oe.click()},ue=oe=>{var we;const ie=(we=oe.target.files)==null?void 0:we[0];ie&&e(ie,se),oe.target.value=""},pe=oe=>{oe.target.files&&oe.target.files.length>0&&A(oe.target.files),oe.target.value=""},G=r==="pattern_test.dng"||(r==null?void 0:r.startsWith("Diff_"));return u.jsxs("header",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 mb-4 flex-shrink-0 relative z-50 font-mono",children:[u.jsx(Zo,{isOpen:W,onClose:()=>P(!1),onConfirm:X,title:"Format Compatibility Warning",confirmText:"Continue",message:u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsx("p",{className:"font-bold text-gray-800 dark:text-gray-200 text-base",children:"Adobe DNG ConverterDNG"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Only 4-channel DNG files output by Adobe DNG Converter are fully guaranteed to be supported."}),u.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 border border-gray-400 dark:border-slate-600",children:[u.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-500 mb-1",children:"Download Adobe DNG Converter:"}),u.jsx("a",{href:"https://helpx.adobe.com/camera-raw/using/adobe-dng-converter.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline text-xs break-all",children:"https://helpx.adobe.com/camera-raw/using/adobe-dng-converter.html"})]})]})}),u.jsx(Zo,{isOpen:E,onClose:()=>L(!1),onConfirm:()=>L(!1),title:"DNG Converter Missing",confirmText:"OK",cancelText:"Cancel",message:u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsx("p",{className:"font-bold text-red-600 dark:text-red-400 text-base",children:"JiangBridge Offline or Adobe DNG Converter not installed (you may have to restart your device after installing ADC to use it here)"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"To use the conversion feature, you must run JiangBridge locally and have Adobe DNG Converter installed on your system."}),u.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 border border-gray-400 dark:border-slate-600",children:[u.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-500 mb-1",children:"Download Adobe DNG Converter:"}),u.jsx("a",{href:"https://helpx.adobe.com/camera-raw/using/adobe-dng-converter.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline text-xs break-all",children:"https://helpx.adobe.com/camera-raw/using/adobe-dng-converter.html"})]})]})}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-black dark:text-white text-center sm:text-left tracking-tight border-2 border-black dark:border-white px-2 py-1 bg-white dark:bg-black",children:"Jiangtherapee_Online"}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400 hidden lg:block max-w-xs truncate font-bold",title:r||"No image loaded",children:r||"No_Image_Loaded"}),C&&u.jsx("span",{className:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400 border-2 border-red-500 dark:border-red-800 text-[10px] font-bold px-2 py-1 animate-pulse",children:" 3-PLANE / RGB MODE"})]}),u.jsxs("div",{className:"flex items-center gap-4 flex-wrap justify-end",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("button",{onClick:v.isConnected?void 0:b,className:`px-3 py-1.5 text-xs font-bold transition-all duration-200 flex items-center gap-1.5 shadow-[2px_2px_0px_black] border-2 border-black dark:border-gray-500 ${v.isConnected?"bg-emerald-100 text-emerald-900 border-emerald-800 dark:bg-emerald-900/30 dark:text-emerald-400 dark:border-emerald-600 cursor-default":"bg-pink-100 text-pink-900 border-pink-800 dark:bg-pink-900/30 dark:text-pink-400 dark:border-pink-600 hover:bg-pink-200 dark:hover:bg-pink-900/50 cursor-pointer animate-pulse"}`,title:v.isConnected?"Local Bridge Service Connected":"Click to download Jiangbridge",children:[u.jsx("span",{className:`w-2 h-2 ${v.isConnected?"bg-emerald-600":"bg-pink-600"}`}),v.isConnected?`JiangBridge Ready ${v.hasDngConverter?"DNG+":""}`:"JiangBridge Offline"]}),y&&u.jsxs("button",{onClick:g,className:"px-3 py-1.5 text-xs font-bold transition-all duration-200 flex items-center gap-1.5 shadow-[2px_2px_0px_black] border-2 border-indigo-800 bg-indigo-100 text-indigo-900 dark:bg-indigo-900/30 dark:text-indigo-400 dark:border-indigo-600 hover:bg-indigo-200 dark:hover:bg-indigo-900/50 cursor-pointer animate-in fade-in",title:"Click to turn off DR Lab",children:[u.jsx("span",{className:"w-2 h-2 bg-indigo-600 animate-pulse"}),"DR Lab On"]}),x&&u.jsxs("button",{onClick:j,className:"px-3 py-1.5 text-xs font-bold transition-all duration-200 flex items-center gap-1.5 shadow-[2px_2px_0px_black] border-2 border-yellow-800 bg-yellow-100 text-yellow-900 dark:bg-yellow-900/30 dark:text-yellow-400 dark:border-yellow-600 hover:bg-yellow-200 dark:hover:bg-yellow-900/50 cursor-pointer animate-in fade-in",title:"Click to turn off Color Lab",children:[u.jsx("span",{className:"w-2 h-2 bg-yellow-500 animate-pulse"}),"Color Lab On"]}),k&&u.jsxs("button",{onClick:w,className:"px-3 py-1.5 text-xs font-bold transition-all duration-200 flex items-center gap-1.5 shadow-[2px_2px_0px_black] border-2 border-fuchsia-800 bg-fuchsia-100 text-fuchsia-900 dark:bg-fuchsia-900/30 dark:text-fuchsia-400 dark:border-fuchsia-600 hover:bg-fuchsia-200 dark:hover:bg-fuchsia-900/50 cursor-pointer animate-in fade-in",title:"Click to turn off FFT Lab",children:[u.jsx("span",{className:"w-2 h-2 bg-fuchsia-600 animate-pulse"}),"FFT Lab On"]}),N&&u.jsxs("button",{onClick:_,className:"px-3 py-1.5 text-xs font-bold transition-all duration-200 flex items-center gap-1.5 shadow-[2px_2px_0px_black] border-2 border-orange-800 bg-orange-100 text-orange-900 dark:bg-orange-900/30 dark:text-orange-400 dark:border-orange-600 hover:bg-orange-200 dark:hover:bg-orange-900/50 cursor-pointer animate-in fade-in",title:"Click to turn off SFR Lab",children:[u.jsx("span",{className:"w-2 h-2 bg-orange-600 animate-pulse"}),"SFR Lab On"]}),n&&u.jsxs("div",{className:"flex bg-gray-200 dark:bg-slate-800 p-1 border-2 border-black dark:border-gray-500 shadow-inner transition-colors duration-300 gap-1",children:[u.jsx("button",{onClick:()=>o("reference"),className:`px-3 py-1.5 text-xs sm:text-sm font-bold transition-all duration-200 border-2 ${a==="reference"?"bg-green-600 text-white border-black":"bg-gray-100 text-black border-transparent hover:bg-gray-300"}`,title:"The perfect uniform input",children:"Perfect"}),u.jsx("button",{onClick:()=>o("sampled"),className:`px-3 py-1.5 text-xs sm:text-sm font-bold transition-all duration-200 border-2 ${a==="sampled"?"bg-blue-600 text-white border-black":"bg-gray-100 text-black border-transparent hover:bg-gray-300"}`,title:"Sampled Sensor View with Aperture Visualization",children:"Sampled (Sensor)"}),u.jsx("button",{onClick:()=>o("processed"),className:`px-3 py-1.5 text-xs sm:text-sm font-bold transition-all duration-200 border-2 ${a==="processed"?"bg-purple-600 text-white border-black":"bg-gray-100 text-black border-transparent hover:bg-gray-300"}`,title:"Demosaiced Result",children:"Result"})]})]}),G&&u.jsxs("div",{className:"flex items-center gap-2 animate-in fade-in slide-in-from-right-4 duration-300",children:[h&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex flex-col items-end mr-1 bg-gray-100 dark:bg-slate-800/50 p-1.5 border border-gray-400 dark:border-slate-600 transition-colors duration-300",children:[u.jsx("span",{className:"text-[10px] text-gray-600 dark:text-slate-400 font-mono uppercase tracking-wider mb-1",children:"Density (Period)"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"range",min:"0.1",max:"10",step:"0.1",value:i,onChange:oe=>s(parseFloat(oe.target.value)),className:"w-20 h-2 bg-gray-300 dark:bg-slate-700 appearance-none cursor-pointer accent-purple-500 border border-black",title:"Adjust the period of the line pairs in pixels"}),u.jsx("div",{className:"relative",children:u.jsx("input",{type:"number",min:"0.1",max:"100",step:"0.01",value:i,onChange:oe=>{const ie=parseFloat(oe.target.value);isNaN(ie)||s(ie)},className:"w-16 bg-white dark:bg-slate-900 border border-gray-400 dark:border-slate-600 px-1 py-0.5 text-xs font-mono text-purple-700 dark:text-purple-300 text-right focus:outline-none focus:border-purple-500 focus:ring-1 focus:ring-purple-500 transition-colors duration-300"})})]})]}),u.jsxs("div",{className:"flex flex-col items-end mr-1 bg-gray-100 dark:bg-slate-800/50 p-1.5 border border-gray-400 dark:border-slate-600 transition-colors duration-300",children:[u.jsx("span",{className:"text-[10px] text-gray-600 dark:text-slate-400 font-mono uppercase tracking-wider mb-1",children:"Phase"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:f,onChange:oe=>d(parseFloat(oe.target.value)),className:"w-20 h-2 bg-gray-300 dark:bg-slate-700 appearance-none cursor-pointer accent-pink-500 border border-black",title:"Shift pattern phase (0-1 cycle)"}),u.jsx("div",{className:"relative",children:u.jsx("input",{type:"number",min:"0",max:"1",step:"0.01",value:f,onChange:oe=>{const ie=parseFloat(oe.target.value);isNaN(ie)||d(ie)},className:"w-12 bg-white dark:bg-slate-900 border border-gray-400 dark:border-slate-600 px-1 py-0.5 text-xs font-mono text-pink-700 dark:text-pink-300 text-right focus:outline-none focus:border-pink-500 focus:ring-1 focus:ring-pink-500 transition-colors duration-300"})})]})]}),u.jsxs("div",{className:"flex flex-col items-end mr-1 bg-gray-100 dark:bg-slate-800/50 p-1.5 border border-gray-400 dark:border-slate-600 transition-colors duration-300",children:[u.jsx("span",{className:"text-[10px] text-gray-600 dark:text-slate-400 font-mono uppercase tracking-wider mb-1",children:"Fill Factor"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"range",min:"1",max:"100",step:"1",value:l*100,onChange:oe=>c(parseInt(oe.target.value)/100),className:"w-20 h-2 bg-gray-300 dark:bg-slate-700 appearance-none cursor-pointer accent-green-500 border border-black",title:"Adjust pixel aperture fill factor %"}),u.jsxs("div",{className:"relative flex items-center",children:[u.jsx("input",{type:"number",min:"1",max:"100",step:"1",value:Math.round(l*100),onChange:oe=>{const ie=parseInt(oe.target.value);isNaN(ie)||c(Math.min(100,Math.max(1,ie))/100)},className:"w-12 bg-white dark:bg-slate-900 border border-gray-400 dark:border-slate-600 px-1 py-0.5 text-xs font-mono text-green-700 dark:text-green-300 text-right focus:outline-none focus:border-green-500 focus:ring-1 focus:ring-green-500 transition-colors duration-300"}),u.jsx("span",{className:"ml-1 text-[10px] text-gray-500 dark:text-slate-500 font-mono",children:"%"})]})]})]})]}),u.jsxs("button",{onClick:M,className:`flex flex-col items-center justify-center p-2 transition-colors group border-2 border-black dark:border-gray-500 shadow-[2px_2px_0px_black] active:translate-x-[2px] active:translate-y-[2px] active:shadow-none ${r!=null&&r.startsWith("Diff_")?"bg-fuchsia-100 hover:bg-fuchsia-200 dark:bg-fuchsia-900/40 dark:hover:bg-fuchsia-900/60":"bg-gray-100 hover:bg-gray-200 dark:bg-slate-800 dark:hover:bg-slate-700"}`,title:r!=null&&r.startsWith("Diff_")?"Export Subtracted Frame as DNG":"Download Synthetic DNG",children:[u.jsx("svg",{className:`w-5 h-5 ${r!=null&&r.startsWith("Diff_")?"text-fuchsia-600 group-hover:text-fuchsia-800":"text-gray-600 dark:text-slate-400 group-hover:text-black dark:group-hover:text-white"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),u.jsx("span",{className:"text-[8px] font-bold uppercase mt-0.5 opacity-70",children:"DNG"})]})]}),u.jsx("input",{type:"file",ref:F,onChange:ue,className:"hidden",accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff"}),u.jsx("input",{type:"file",ref:T,onChange:pe,className:"hidden",multiple:!0,accept:".csv"}),u.jsxs("div",{className:"relative inline-block text-left",ref:ne,children:[u.jsxs("button",{onClick:()=>H(!q),className:"bg-purple-700 hover:bg-purple-600 text-white font-bold py-2 px-4 border-2 border-black dark:border-white shadow-[4px_4px_0px_black] dark:shadow-[4px_4px_0px_gray] active:translate-x-[2px] active:translate-y-[2px] active:shadow-[2px_2px_0px_black] transition-all duration-100 text-sm whitespace-nowrap flex items-center gap-2",children:["TEST Tools",u.jsx("svg",{className:`w-4 h-4 transition-transform duration-200 ${q?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),q&&u.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white dark:bg-slate-800 shadow-[8px_8px_0px_rgba(0,0,0,0.5)] ring-1 ring-black ring-opacity-5 focus:outline-none z-50 overflow-hidden origin-top-right transition-all animate-in fade-in slide-in-from-top-2 border-2 border-black dark:border-gray-500",children:u.jsxs("div",{className:"py-1",children:[u.jsxs("button",{onClick:()=>{H(!1),t()},className:"w-full text-left px-4 py-3 text-sm text-gray-800 dark:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors flex items-center gap-2 border-b border-gray-300 dark:border-gray-600",children:[u.jsx("svg",{className:"w-4 h-4 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),u.jsx("span",{children:"Generate Pattern DNG"})]}),u.jsxs("button",{onClick:()=>{H(!1),y||g(),k&&w(),x&&j&&j(),N&&_&&_()},className:`w-full text-left px-4 py-3 text-sm transition-colors flex items-center gap-2 border-b border-gray-300 dark:border-gray-600 ${y?"bg-indigo-100 dark:bg-indigo-900/40 text-indigo-800 dark:text-indigo-300 font-bold":"text-gray-800 dark:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700"}`,children:[u.jsx("svg",{className:"w-4 h-4 text-indigo-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.384-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})}),u.jsxs("span",{children:["DR Lab ",y?"(On)":""]})]}),u.jsxs("button",{onClick:()=>{H(!1),j&&!x&&j(),y&&g(),k&&w(),N&&_&&_()},className:`w-full text-left px-4 py-3 text-sm transition-colors flex items-center gap-2 border-b border-gray-300 dark:border-gray-600 ${x?"bg-yellow-100 dark:bg-yellow-900/40 text-yellow-800 dark:text-yellow-300 font-bold":"text-gray-800 dark:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700"}`,children:[u.jsx("svg",{className:"w-4 h-4 text-yellow-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"})}),u.jsxs("span",{children:["Color Lab ",x?"(On)":""]})]}),u.jsxs("button",{onClick:()=>{H(!1),_&&!N&&_(),y&&g(),k&&w(),x&&j&&j()},className:`w-full text-left px-4 py-3 text-sm transition-colors flex items-center gap-2 border-b border-gray-300 dark:border-gray-600 ${N?"bg-orange-100 dark:bg-orange-900/40 text-orange-800 dark:text-orange-300 font-bold":"text-gray-800 dark:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700"}`,children:[u.jsx("svg",{className:"w-4 h-4 text-orange-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),u.jsxs("span",{children:["SFR Lab ",N?"(On)":""]})]}),u.jsxs("button",{onClick:()=>{H(!1),k||w(),y&&g(),x&&j&&j(),N&&_&&_()},className:`w-full text-left px-4 py-3 text-sm transition-colors flex items-center gap-2 border-b border-gray-300 dark:border-gray-600 ${k?"bg-fuchsia-100 dark:bg-fuchsia-900/40 text-fuchsia-800 dark:text-fuchsia-300 font-bold":"text-gray-800 dark:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700"}`,children:[u.jsx("svg",{className:"w-4 h-4 text-fuchsia-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),u.jsxs("span",{children:["FFT Lab ",k?"(On)":""]})]}),u.jsxs("button",{onClick:()=>{var oe;H(!1),(oe=T.current)==null||oe.click()},className:"w-full text-left px-4 py-3 text-sm text-gray-800 dark:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors flex items-center gap-2",children:[u.jsx("svg",{className:"w-4 h-4 text-emerald-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"})}),u.jsx("span",{children:"Generate PTC & TargetSNR"})]})]})})]}),u.jsxs("div",{className:"relative inline-block text-left",ref:D,children:[u.jsxs("button",{onClick:()=>Z(!z),className:"bg-cyan-700 hover:bg-cyan-600 text-white font-bold py-2 px-4 border-2 border-black dark:border-white shadow-[4px_4px_0px_black] dark:shadow-[4px_4px_0px_gray] active:translate-x-[2px] active:translate-y-[2px] active:shadow-[2px_2px_0px_black] transition-all duration-100 text-sm whitespace-nowrap flex items-center gap-2",children:["Load Image",u.jsx("svg",{className:`w-4 h-4 transition-transform duration-200 ${z?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),z&&u.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white dark:bg-slate-800 shadow-[8px_8px_0px_rgba(0,0,0,0.5)] ring-1 ring-black ring-opacity-5 focus:outline-none z-50 overflow-hidden origin-top-right transition-all animate-in fade-in slide-in-from-top-2 border-2 border-black dark:border-gray-500",children:u.jsxs("div",{className:"py-1",children:[u.jsxs("button",{onClick:()=>he("direct"),className:"w-full text-left px-4 py-3 text-sm text-gray-800 dark:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors flex items-center gap-2 border-b border-gray-300 dark:border-gray-600",children:[u.jsx("svg",{className:"w-4 h-4 text-cyan-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),u.jsx("span",{children:"Load Image (Direct)"})]}),u.jsxs("button",{onClick:()=>he("convert"),className:"w-full text-left px-4 py-3 text-sm text-gray-800 dark:text-slate-200 hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors flex items-center gap-2",children:[u.jsx("svg",{className:"w-4 h-4 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.384-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})}),u.jsx("span",{children:"Convert to Adobe DNG & Load"})]})]})})]}),r&&m&&u.jsxs("button",{onClick:m,className:"bg-orange-600 hover:bg-orange-500 text-white font-bold py-2 px-4 border-2 border-black dark:border-white shadow-[4px_4px_0px_black] dark:shadow-[4px_4px_0px_gray] active:translate-x-[2px] active:translate-y-[2px] active:shadow-[2px_2px_0px_black] transition-all duration-100 text-sm whitespace-nowrap flex items-center gap-1",title:"View EXIF Data",children:[u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"EXIF"]}),u.jsx("button",{onClick:p,className:"bg-teal-700 hover:bg-teal-600 text-white font-bold py-2 px-4 border-2 border-black dark:border-white shadow-[4px_4px_0px_black] dark:shadow-[4px_4px_0px_gray] active:translate-x-[2px] active:translate-y-[2px] active:shadow-[2px_2px_0px_black] transition-all duration-100 text-sm whitespace-nowrap",children:"About/Tutorial/Tools"}),u.jsx("a",{href:"https://y-g-jiang.github.io/index.html",target:"_blank",rel:"noopener noreferrer",className:"bg-gray-300 hover:bg-gray-200 dark:bg-slate-700 dark:hover:bg-slate-600 text-black dark:text-white font-bold py-2 px-4 border-2 border-black dark:border-white shadow-[4px_4px_0px_black] dark:shadow-[4px_4px_0px_gray] active:translate-x-[2px] active:translate-y-[2px] active:shadow-[2px_2px_0px_black] transition-all duration-100 text-sm no-underline",children:"Home"})]})]})},YM=({image:e,zoom:t,pan:r,onPanChange:n,onZoomChange:a,onSelectionChange:o,forcedSelection:i,theme:s,touchAction:l="pan",isMarking:c=!1,onPointClick:f,markers:d=[],gridRects:h=[],colorLabPoints:p=[],colorLabRects:m=[]})=>{var se;const v=S.useRef(null),b=S.useRef(document.createElement("canvas")),[y,g]=S.useState(!1),[x,j]=S.useState({x:0,y:0}),k=S.useRef(null),w=S.useRef(null),N=S.useRef(null),[_,O]=S.useState(!1),[A,M]=S.useState(null),[C,$]=S.useState(null);S.useEffect(()=>{i!==void 0&&$(i)},[i]);const F=S.useCallback(()=>{const ee=v.current,D=ee==null?void 0:ee.getContext("2d");return{canvas:ee,ctx:D}},[]);S.useEffect(()=>{const ee=b.current,D=ee.getContext("2d");if(!e||!D)return;let ne=0,he=0;e instanceof ImageData?(ne=e.width,he=e.height):e instanceof HTMLImageElement&&(ne=e.naturalWidth,he=e.naturalHeight),!(ne===0||he===0)&&((ee.width!==ne||ee.height!==he)&&(ee.width=ne,ee.height=he),e instanceof ImageData?D.putImageData(e,0,0):(D.clearRect(0,0,ne,he),D.drawImage(e,0,0)))},[e]);const T=S.useCallback(()=>{const{canvas:ee,ctx:D}=F();if(!(!ee||!D||!e)){if(D.setTransform(1,0,0,1,0,0),D.fillStyle=s==="dark"?"rgb(15, 23, 42)":"rgb(243, 244, 246)",D.fillRect(0,0,ee.width,ee.height),D.setTransform(t,0,0,t,r.x,r.y),b.current.width>0&&(D.imageSmoothingEnabled=!1,D.drawImage(b.current,0,0)),C){D.strokeStyle="#06b6d4",D.lineWidth=1/t,D.fillStyle="rgba(6, 182, 212, 0.2)",D.beginPath(),D.rect(C.x,C.y,C.w,C.h),D.fill(),D.stroke(),D.save(),D.fillStyle="#fff";const ne=Math.max(10,14/t);D.font=`${ne}px monospace`,D.shadowColor="rgba(0,0,0,0.8)",D.shadowBlur=4,D.shadowOffsetX=1,D.shadowOffsetY=1,D.fillText(`${Math.round(C.w)}x${Math.round(C.h)}`,C.x,C.y-5/t),D.restore()}if(h&&h.length>0){D.save(),D.strokeStyle="#f59e0b",D.lineWidth=1/t,D.globalAlpha=.8,D.beginPath(),h.forEach(X=>{D.rect(X.x,X.y,X.w,X.h)}),D.stroke();const ne=h[0];D.fillStyle="#f59e0b";const he=Math.max(10,12/t);D.font=`${he}px monospace`,D.fillText(`${ne.w}x${ne.h}`,ne.x,ne.y-4/t),D.restore()}if(d&&d.length>0){D.save();const ne=6/t,he=Math.max(12,16/t);D.font=`bold ${he}px sans-serif`,D.textAlign="center",D.textBaseline="middle",d.forEach((X,ue)=>{D.beginPath(),D.arc(X.x,X.y,ne,0,2*Math.PI),D.fillStyle="white",D.fill(),D.strokeStyle="#4338ca",D.lineWidth=2/t,D.stroke(),D.fillStyle="#4338ca",D.fillText((ue+1).toString(),X.x,X.y-12/t)}),D.restore()}if(p&&p.length>0){D.save();const ne=5/t,he=Math.max(10,14/t);D.font=`bold ${he}px sans-serif`,D.textAlign="center",D.textBaseline="middle",p.forEach((X,ue)=>{D.fillStyle="yellow",D.fillRect(X.x-ne,X.y-ne,ne*2,ne*2),D.strokeStyle="black",D.lineWidth=1/t,D.strokeRect(X.x-ne,X.y-ne,ne*2,ne*2),D.fillStyle="yellow",D.shadowColor="black",D.shadowBlur=2,D.fillText((ue+1).toString(),X.x,X.y-10/t)}),D.restore()}if(m&&m.length>0){if(D.save(),D.strokeStyle="yellow",D.lineWidth=1/t,D.globalAlpha=.9,D.beginPath(),m.forEach(ne=>{D.rect(ne.x,ne.y,ne.w,ne.h)}),D.stroke(),m[0]){const ne=m[0];D.fillStyle="yellow",D.shadowColor="black",D.shadowBlur=3;const he=Math.max(10,12/t);D.font=`${he}px monospace`,D.fillText(`${Math.round(ne.w)}x${Math.round(ne.h)}`,ne.x,ne.y-4/t)}D.restore()}}},[F,e,t,r,s,C,d,h,p,m]);S.useEffect(()=>{const{canvas:ee}=F();if(!ee)return;const D=new ResizeObserver(()=>{ee.width=ee.clientWidth,ee.height=ee.clientHeight,T()});return D.observe(ee),()=>D.disconnect()},[F,T]),S.useEffect(()=>{T()},[T,e,r,t,s,C,d,h,p,m]);const W=ee=>{const{canvas:D}=F();if(!D)return{x:0,y:0};const ne=D.getBoundingClientRect();return{x:ee.clientX-ne.left,y:ee.clientY-ne.top}},P=(ee,D)=>({x:(ee-r.x)/t,y:(D-r.y)/t}),E=ee=>{ee.preventDefault();const D=W(ee);if(c){const ne=P(D.x,D.y);f&&f(ne);return}if(ee.shiftKey||l==="select"){O(!0);const ne=P(D.x,D.y),he={x:Math.floor(ne.x),y:Math.floor(ne.y)};M(he),$(null),o&&o(null)}else g(!0),j({x:D.x-r.x,y:D.y-r.y})},L=ee=>{const D=W(ee);if(_&&A){const ne=P(D.x,D.y),he=Math.floor(ne.x),X=Math.floor(ne.y),ue=Math.min(A.x,he),pe=Math.min(A.y,X),G=Math.max(A.x,he),oe=Math.max(A.y,X),ie=G-ue+1,we=oe-pe+1;$({x:ue,y:pe,w:ie,h:we})}else y&&n({x:D.x-x.x,y:D.y-x.y})},z=()=>{_&&(O(!1),C&&o&&C.w>0&&C.h>0&&o(C)),g(!1)},Z=ee=>{var D;if(ee.touches.length===1){const ne=ee.touches[0],he=(D=v.current)==null?void 0:D.getBoundingClientRect();if(!he)return;const X=ne.clientX-he.left,ue=ne.clientY-he.top;if(c){const pe=P(X,ue);f&&f(pe);return}if(l==="select"){const pe=P(X,ue),G={x:Math.floor(pe.x),y:Math.floor(pe.y)};M(G),O(!0),$(null),o&&o(null)}else N.current={x:X,y:ue},j({x:X-r.x,y:ue-r.y}),g(!0)}else if(ee.touches.length===2){const ne=Math.hypot(ee.touches[0].clientX-ee.touches[1].clientX,ee.touches[0].clientY-ee.touches[1].clientY);k.current=ne,w.current=t,g(!1),O(!1)}},q=ee=>{var D;if(ee.touches.length===1){const ne=ee.touches[0],he=(D=v.current)==null?void 0:D.getBoundingClientRect();if(!he)return;const X=ne.clientX-he.left,ue=ne.clientY-he.top;if(c)return;if(_&&A){const pe=P(X,ue),G=Math.floor(pe.x),oe=Math.floor(pe.y),ie=Math.min(A.x,G),we=Math.min(A.y,oe),ze=Math.max(A.x,G),Re=Math.max(A.y,oe),_t=ze-ie+1,gt=Re-we+1;$({x:ie,y:we,w:_t,h:gt})}else y&&n({x:X-x.x,y:ue-x.y})}else if(ee.touches.length===2&&k.current&&w.current&&a){const he=Math.hypot(ee.touches[0].clientX-ee.touches[1].clientX,ee.touches[0].clientY-ee.touches[1].clientY)/k.current;a(w.current*he)}},H=()=>{_&&(O(!1),C&&o&&C.w>0&&C.h>0&&o(C)),g(!1),k.current=null,w.current=null,N.current=null};return u.jsx("canvas",{ref:v,className:`w-full h-full block touch-none ${c||_||(se=window.event)!=null&&se.shiftKey||l==="select"?"cursor-crosshair":"cursor-grab active:cursor-grabbing"}`,onMouseDown:E,onMouseMove:L,onMouseUp:z,onMouseLeave:z,onTouchStart:Z,onTouchMove:q,onTouchEnd:H,onTouchCancel:H,tabIndex:0})},os=({title:e,children:t})=>u.jsxs("div",{className:"border-b border-gray-200 dark:border-slate-700 transition-colors duration-300",children:[u.jsx("div",{className:"p-4 font-semibold text-gray-800 dark:text-slate-200 bg-gray-50 dark:bg-slate-800/30 border-b border-gray-200 dark:border-slate-800 select-none cursor-default transition-colors duration-300",children:u.jsx("span",{children:e})}),u.jsx("div",{className:"p-4 bg-white dark:bg-slate-900/50 transition-colors duration-300",children:t})]}),qM=[{value:-1,label:"Raw Bayer (Grayscale)"},{value:0,label:"Linear interpolation"},{value:1,label:"VNG (Variable Number of Gradients)"},{value:2,label:"PPG (Patterned Pixel Grouping)"},{value:3,label:"AHD (Adaptive Homogeneity-Directed)"},{value:4,label:"DCB (Demosaicing with Color Back-refinement)"},{value:11,label:"DHT (Modified AHD)"},{value:12,label:"AAHD (Adaptive AHD)"}],pf=({checked:e,onChange:t,label:r})=>u.jsxs("div",{className:"flex items-center justify-between py-2 cursor-pointer group",onClick:()=>t(!e),children:[u.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-slate-300 select-none group-hover:text-gray-900 dark:group-hover:text-slate-200 transition-colors",children:r}),u.jsx("div",{className:`relative w-11 h-6 rounded-full transition-colors duration-200 ease-in-out ${e?"bg-cyan-500 dark:bg-cyan-600":"bg-gray-300 dark:bg-slate-600 group-hover:bg-gray-400 dark:group-hover:bg-slate-500"}`,children:u.jsx("div",{className:`absolute left-1 top-1 bg-white w-4 h-4 rounded-full shadow-md transform transition-transform duration-200 ease-in-out ${e?"translate-x-5":"translate-x-0"}`})})]}),gb=(e,t)=>{if(!e)return null;if(t){const r=e.bayerPattern.toUpperCase(),n=l=>{const c=[];for(let f=0;f<4;f++)r[f]===l&&c.push(f);return c},a=t.BlackLevelRed,o=t.BlackLevelGreen,i=t.BlackLevelBlue;if(a!==void 0&&o!==void 0&&i!==void 0){const l=parseFloat(a),c=parseFloat(o),f=parseFloat(i);if(!isNaN(l)&&!isNaN(c)&&!isNaN(f)){const d=[0,0,0,0];return d.fill(c),n("R").forEach(h=>d[h]=l),n("G").forEach(h=>d[h]=c),n("B").forEach(h=>f),d}}let s=t.BlackLevel;if(s===void 0&&(s=t.BlackLevel2),s!==void 0){let l=[];if(Array.isArray(s)?l=s.map(Number):typeof s=="string"?l=s.trim().split(/\s+/).map(Number):typeof s=="number"&&(l=[s,s,s,s]),l.length===1&&!isNaN(l[0])&&(l=[l[0],l[0],l[0],l[0]]),l.length>=4&&!l.slice(0,4).some(isNaN))return[l[0],l[1],l[2],l[3]]}}return e.blackLevels&&e.blackLevels.length===4?[e.blackLevels[0],e.blackLevels[1],e.blackLevels[2],e.blackLevels[3]]:null},ZM=e=>{const{rawImageData:t,displaySettings:r,onApplyDisplaySettings:n,onSetSelection:a,exifData:o,isBridgeConnected:i,isDrLabOpen:s,drMarkingStep:l,onStartMarking:c,onGenerateTestPic:f,drRoiSize:d,onDrRoiSizeChange:h,drGridRows:p,onDrGridRowsChange:m,drGridCols:v,onDrGridColsChange:b,onBatchDrLab:y,hasDrMarkers:g,isFftLabOpen:x,onProcessPair:j,onProcessBatchDiff:k,onProcessStackFft:w,onOpenCrossCalc:N,isThreePlane:_,onToggleXTrans:O,xtransPhase:A,onXTransPhaseChange:M,isXTransConverted:C,onCommand:$,isColorLabOpen:F,colorLabMarkingStep:T,onStartColorLabMarking:W,isSfrLabOpen:P}=e,E=!!t,L=!!(t!=null&&t.isXTrans),z=!!O,[Z,q]=S.useState(r.exposure.toString()),[H,se]=S.useState(""),[ee,D]=S.useState("0 0 0 0"),[ne,he]=S.useState("1.0"),[X,ue]=S.useState("1.0"),[pe,G]=S.useState(r.demosaicMethod),[oe,ie]=S.useState(!!r.showKadc),[we,ze]=S.useState(!!r.subtractBlackLevelFromStats),[Re,_t]=S.useState("64"),[gt,De]=S.useState(!1),[He,mt]=S.useState(!1),[Rt,Gt]=S.useState("0 0 0 0"),[Or,Pr]=S.useState("2840 6303 3935 6303"),[cr,Qt]=S.useState("780 1720 1101 1720"),[Hr,Mt]=S.useState(!1),[Vr,Je]=S.useState(!1),[Ge,ct]=S.useState(!1),[Lt,ur]=S.useState("single"),Xr=S.useRef(null),An=S.useRef(null),Ht=S.useRef(null),Vt=S.useRef(null),[Ye,fr]=S.useState(null),[dr,vn]=S.useState(null),[Ar,Hn]=S.useState(!1),[Mn,ra]=S.useState(!0),rn=S.useRef(null),Cn=S.useRef(null);S.useEffect(()=>{if(q(r.exposure.toString()),r.customMatrix?(se(r.customMatrix.join(" ")),De(!0)):se(""),r.blackLevel&&r.blackLevel.length===4)D(r.blackLevel.join(" "));else{const K=gb(t,o);D(K?K.join(" "):"0 0 0 0")}he(r.wbGains?r.wbGains[0].toString():"1.0"),ue(r.wbGains?r.wbGains[1].toString():"1.0"),G(r.demosaicMethod),ie(!!r.showKadc),ze(!!r.subtractBlackLevelFromStats),r.advancedZeroDep&&(Gt(r.advancedZeroDep.bl.join(" ")),Pr(r.advancedZeroDep.bg.join(" ")),Qt(r.advancedZeroDep.fg.join(" ")),mt(!0))},[r,t,o]);const Kr=K=>q(K),ba=K=>he(K),rr=K=>ue(K),Ot=K=>G(parseInt(K.target.value,10)),Ct=K=>se(K.target.value),ae=()=>{q("0"),G(3),he("1.0"),ue("1.0"),ie(!0),ze(!0),se(""),De(!1),mt(!1);const K=gb(t,o);D(K?K.join(" "):"0 0 0 0")},Pe=()=>{!t||!a||(a({x:0,y:0,w:t.width,h:t.height}),$==null||$("sel full"))},Le=()=>{if(!t||!a)return;const K=parseInt(Re,10);if(isNaN(K)||K<=0)return;const Se=Math.min(K,t.width),pr=Math.min(K,t.height),Et=Math.floor((t.width-Se)/2),an=Math.floor((t.height-pr)/2);a({x:Et,y:an,w:Se,h:pr}),$==null||$(`sel center ${K}`)},Ze=()=>{const Se=ee.split(/[\s,]+/).filter(pr=>pr.trim()!=="").map(Number);if(Se.length===1&&!isNaN(Se[0]))return[Se[0],Se[0],Se[0],Se[0]];if(Se.length>=4&&!Se.slice(0,4).some(isNaN))return[Se[0],Se[1],Se[2],Se[3]]},Ve=K=>{const Se=K.trim().split(/[\s,]+/).map(Number);return Se.length===4&&!Se.some(isNaN)?Se:Se.length===1&&!isNaN(Se[0])?[Se[0],Se[0],Se[0],Se[0]]:null},Pt=()=>{$&&(Z!=="0"&&$(`ev ${Z}`),(ne!=="1.0"||X!=="1.0")&&$(`wb ${ne} ${X}`),ee!=="0 0 0 0"&&$(`bl ${ee}`),pe!==3&&$(`demo ${pe}`),H.trim().length>0&&$(`matrix ${H.replace(/\s+/g," ")}`),$("render"));const K={...r},Se=parseFloat(Z);isNaN(Se)||(K.exposure=Se);const pr=parseFloat(ne),Et=parseFloat(X);if(!isNaN(pr)&&!isNaN(Et)&&(K.wbGains=[pr,Et]),K.demosaicMethod=pe,K.renderMode="standard",gt){const an=Ze();an&&(K.blackLevel=an);const Bt=H.trim().replace(/[\s,\n]+/g," ");if(Bt){const on=Bt.split(" ").map(Number);on.length===9&&!on.some(isNaN)?K.customMatrix=on:alert("Invalid matrix format. Please ensure exactly 9 numeric values (3x3).")}else delete K.customMatrix;K.showKadc=oe,K.subtractBlackLevelFromStats=we}else delete K.customMatrix,delete K.blackLevel,delete K.showKadc,delete K.subtractBlackLevelFromStats;n(K)},hr=()=>{Je(!0)},nr=K=>{$&&(Z!=="0"&&$(`ev ${Z}`),(ne!=="1.0"||X!=="1.0")&&$(`wb ${ne} ${X}`),ee!=="0 0 0 0"&&$(`bl ${ee}`),$(K==="bilinear"?"render zero color":"render zero"));const Se={...r},pr=Ze();pr&&(Se.blackLevel=pr);const Et=parseFloat(ne),an=parseFloat(X);!isNaN(Et)&&!isNaN(an)&&(Se.wbGains=[Et,an]);const Bt=parseFloat(Z);if(isNaN(Bt)||(Se.exposure=Bt),K==="bilinear"){const on=H.trim().replace(/[\s,\n]+/g," ");if(on){const En=on.split(" ").map(Number);En.length===9&&!En.some(isNaN)&&(Se.customMatrix=En)}}Se.renderMode=K==="mosaic"?"zero-dependency":"zero-dep-color",Je(!1),n(Se)},Ae=()=>{const K=Ve(Rt),Se=Ve(Or),pr=Ve(cr);if(!K||!Se||!pr){alert("Please enter valid 4-channel numbers for BL, BG, and FG.");return}$&&(Z!=="0"&&$(`ev ${Z}`),$(`render unmix ${K.join(" ")} ${Se.join(" ")} ${pr.join(" ")}`));const Et={...r,renderMode:"advanced-zero-dep",advancedZeroDep:{bl:K,bg:Se,fg:pr}};n(Et)},Qe=K=>{K.target.files&&K.target.files.length>0&&y&&(y(K.target.files,Lt),$==null||$(`drlab batch ${Lt}`)),K.target.value="",ct(!1)},ut=async K=>{var pr;const Se=(pr=K.target.files)==null?void 0:pr[0];if(Se){try{const an=(await Se.text()).split(`
`),Bt=[];Bt.push("#BlackLevel: 0,0,0,0"),Bt.push("#ImageHeight: 0"),Bt.push("Row,Col,R_Mean,G1_Mean,G2_Mean,B_Mean,R_Std,G1_Std,G2_Std,B_Std");let on=1;for(let wa=0;wa<an.length;wa++){const Oo=an[wa].trim();if(!Oo||Oo.includes("R_mean")||Oo.includes("R_std"))continue;const wr=Oo.split(/\s+/).map(Number);if(wr.length<8||wr.some(isNaN))continue;const Cl=[on,1,wr[0],wr[2],wr[6],wr[4],wr[1],wr[3],wr[7],wr[5]].join(",");Bt.push(Cl),on++}const En=new Blob([Bt.join(`
`)],{type:"text/csv"}),_o=URL.createObjectURL(En),xn=document.createElement("a");xn.href=_o,xn.download=Se.name.replace(/\.[^/.]+$/,"")+"_converted.csv",document.body.appendChild(xn),xn.click(),document.body.removeChild(xn),URL.revokeObjectURL(_o)}catch(Et){console.error("Conversion failed",Et),alert("Failed to convert file.")}K.target.value=""}},ft=K=>{K.target.files&&K.target.files[0]&&(fr(K.target.files[0]),$==null||$("fft load a"))},It=K=>{K.target.files&&K.target.files[0]&&(vn(K.target.files[0]),$==null||$("fft load b"))},me=()=>{Ye&&dr&&j&&(j(Ye,dr,Ar,Mn),$==null||$("fft run"))},Yr=K=>{K.target.files&&K.target.files.length>0&&k&&(k(K.target.files),$==null||$("fft batch")),K.target.value=""},ui=K=>{K.target.files&&K.target.files.length>0&&w&&(w(K.target.files),$==null||$("fft stack")),K.target.value=""},nn=!!C;return u.jsxs("div",{className:"flex flex-col h-full bg-white dark:bg-black",children:[u.jsxs("div",{className:"flex-grow overflow-y-auto",children:[_&&u.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-3 border-b border-red-100 dark:border-red-800 text-center animate-pulse",children:[u.jsx("p",{className:"text-xs font-bold text-red-600 dark:text-red-400 uppercase tracking-wide",children:" 3-Plane / Full Color"}),u.jsx("p",{className:"text-[10px] text-red-500/80 dark:text-red-300/70 mt-1",children:"Demosaic disabled. Stats analysis treated as pseudo-Bayer."})]}),L&&!C&&u.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 p-3 border-b border-amber-100 dark:border-amber-800 text-center",children:[u.jsx("p",{className:"text-xs font-bold text-amber-600 dark:text-amber-400 uppercase tracking-wide",children:" X-Trans Native (Unsupported)"}),u.jsx("p",{className:"text-[10px] text-amber-600/80 dark:text-amber-300/70 mt-1 text-left leading-tight px-1",children:"Currently reading raw 6x6 pattern as Bayer. Stats will be incorrect. Please enable Pseudo-Bayer conversion below."})]}),C&&u.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 p-3 border-b border-emerald-100 dark:border-emerald-800 text-center",children:[u.jsx("p",{className:"text-xs font-bold text-emerald-600 dark:text-emerald-400 uppercase tracking-wide",children:" X-Trans Pseudo-Bayer"}),u.jsx("p",{className:"text-[10px] text-emerald-600/80 dark:text-emerald-300/70 mt-1 text-left leading-tight px-1",children:"Converted 6x6  2x2 RGGB (Subsampled). Demosaic & Analysis fully supported."})]}),P&&u.jsx(os,{title:"SFR Lab Tools (Scalar Unmixing)",children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 p-3 rounded border border-orange-200 dark:border-orange-800",children:[u.jsx("h4",{className:"text-[10px] font-bold text-orange-600 dark:text-orange-400 uppercase mb-2",children:"Analyze ROI"}),u.jsx("p",{className:"text-[10px] text-gray-500 dark:text-slate-400 mb-2",children:"Select an edge on the main canvas and click analyze. Use the pop-up modal to view ESF/LSF/MTF."}),u.jsx("div",{className:"text-center text-xs font-bold text-orange-500",children:"(ROI Analysis Window is Active)"})]}),u.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 w-full"}),u.jsx(pf,{checked:He,onChange:mt,label:" (Scalar Unmixing)"}),He&&u.jsxs("div",{className:"space-y-4 pl-2 border-l-2 border-indigo-200 dark:border-indigo-900 animate-in slide-in-from-top-2 duration-200",children:[u.jsxs("div",{className:"grid grid-cols-5 gap-1 items-center text-[9px] uppercase font-bold text-gray-400 mb-[-8px]",children:[u.jsx("div",{className:"col-span-1",children:"Param"}),u.jsx("div",{className:"text-center",children:"Ch0(R)"}),u.jsx("div",{className:"text-center",children:"Ch1(G1)"}),u.jsx("div",{className:"text-center",children:"Ch2(B)"}),u.jsx("div",{className:"text-center",children:"Ch3(G2)"})]}),u.jsxs("div",{className:"grid grid-cols-5 gap-2 items-center",children:[u.jsx("span",{className:"text-[10px] font-bold text-red-500",children:"BL:"}),u.jsx("input",{type:"text",value:Rt,onChange:K=>Gt(K.target.value),className:"col-span-4 px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded text-xs font-mono text-gray-900 dark:text-slate-100"})]}),u.jsxs("div",{className:"grid grid-cols-5 gap-2 items-center",children:[u.jsx("span",{className:"text-[10px] font-bold text-indigo-500",children:"B ():"}),u.jsx("input",{type:"text",value:Or,onChange:K=>Pr(K.target.value),className:"col-span-4 px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded text-xs font-mono text-gray-900 dark:text-slate-100"})]}),u.jsxs("div",{className:"grid grid-cols-5 gap-2 items-center",children:[u.jsx("span",{className:"text-[10px] font-bold text-emerald-500",children:"F ():"}),u.jsx("input",{type:"text",value:cr,onChange:K=>Qt(K.target.value),className:"col-span-4 px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded text-xs font-mono text-gray-900 dark:text-slate-100"})]}),u.jsx("button",{onClick:Ae,disabled:!E,className:"w-full bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-2 rounded text-[10px] shadow transition-transform active:scale-95",children:"RUN UNMIXING (ADV ZERO-DEP)"}),u.jsx("p",{className:"text-[9px] text-gray-400 italic text-center",children:" + sRGB Gamma "})]})]})}),x&&u.jsx(os,{title:"FFT Lab (Noise Profile)",children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"space-y-3 bg-gray-50 dark:bg-slate-800/40 p-3 rounded-xl border border-gray-100 dark:border-slate-800",children:[u.jsxs("h4",{className:"text-[10px] font-bold text-fuchsia-600 dark:text-fuchsia-400 uppercase tracking-widest flex items-center gap-2",children:[u.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-fuchsia-500"})," 1. Pair Difference (Sub)"]}),u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx("input",{type:"file",ref:Xr,className:"hidden",onChange:ft,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff"}),u.jsx("button",{onClick:()=>{var K;return(K=Xr.current)==null?void 0:K.click()},className:`w-full py-2 px-3 rounded-lg border text-[10px] font-bold text-left truncate transition-colors ${Ye?"bg-fuchsia-55 dark:bg-fuchsia-900/20 border-fuchsia-300 dark:border-fuchsia-800 text-fuchsia-700 dark:text-fuchsia-300":"bg-white dark:bg-slate-800 border-gray-300 dark:border-slate-600 text-gray-500 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:Ye?`A: ${Ye.name}`:"Load Image A"}),u.jsx("input",{type:"file",ref:An,className:"hidden",onChange:It,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff"}),u.jsx("button",{onClick:()=>{var K;return(K=An.current)==null?void 0:K.click()},className:`w-full py-2 px-3 rounded-lg border text-[10px] font-bold text-left truncate transition-colors ${dr?"bg-fuchsia-55 dark:bg-fuchsia-900/20 border-fuchsia-300 dark:border-fuchsia-800 text-fuchsia-700 dark:text-fuchsia-300":"bg-white dark:bg-slate-800 border-gray-300 dark:border-slate-600 text-gray-500 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:dr?`B: ${dr.name}`:"Load Image B"})]}),u.jsx("div",{className:"flex flex-col gap-1.5 pt-1",children:u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:Mn,onChange:K=>ra(K.target.checked),className:"w-3 h-3 text-fuchsia-600 border-gray-300 rounded focus:ring-0"}),u.jsx("span",{className:"text-[10px] text-gray-600 dark:text-slate-300",children:"Normalize (2)"})]})}),u.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[u.jsx("button",{onClick:me,disabled:!Ye||!dr,className:"w-full bg-fuchsia-600 hover:bg-fuchsia-500 disabled:opacity-30 text-white font-bold py-2 rounded shadow transition-all active:scale-95 text-[10px]",children:"Generate Diff & Load"}),u.jsx("input",{type:"file",ref:Ht,className:"hidden",multiple:!0,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff",onChange:Yr}),u.jsx("button",{onClick:()=>{var K;return(K=Ht.current)==null?void 0:K.click()},className:"w-full bg-slate-700 hover:bg-slate-600 text-white font-bold py-2 rounded shadow transition-all active:scale-95 text-[10px] flex items-center justify-center gap-1",children:"Batch Diffs (Auto Download)"})]})]}),u.jsxs("div",{className:"space-y-3 bg-gray-50 dark:bg-slate-800/40 p-3 rounded-xl border border-gray-100 dark:border-slate-800",children:[u.jsxs("h4",{className:"text-[10px] font-bold text-cyan-600 dark:text-cyan-400 uppercase tracking-widest flex items-center gap-2",children:[u.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-cyan-500"})," 2. Stack FFT (Avg PSD)"]}),u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx("input",{type:"file",ref:Vt,className:"hidden",multiple:!0,onChange:ui,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff"}),u.jsx("button",{onClick:()=>{var K;return(K=Vt.current)==null?void 0:K.click()},className:"w-full py-3 bg-cyan-600 hover:bg-cyan-500 text-white font-bold rounded-lg shadow-md transition-all active:scale-95 text-[10px] flex items-center justify-center gap-2",children:"Select Sequence Files"})]})]}),u.jsx("div",{className:"flex flex-col gap-2 pt-2",children:u.jsx("button",{onClick:()=>{N==null||N(),$==null||$("crosscalc")},className:"w-full bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-2 px-4 rounded-lg shadow-md transition-all active:scale-95 text-[10px] flex items-center justify-center gap-2",children:"Cross-Compensation Calc"})})]})}),s&&u.jsx(os,{title:"DR Lab Tools",children:u.jsxs("div",{className:"space-y-4",children:[u.jsx("button",{onClick:()=>{f==null||f(),$==null||$("gen test")},className:"w-full bg-amber-500 hover:bg-amber-600 text-white font-bold py-2 px-4 rounded-lg shadow-md transition-colors text-sm",children:"Generate Test Pic"}),u.jsxs("div",{className:"border-t border-gray-200 dark:border-slate-700 pt-3",children:[u.jsx("h4",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide mb-2",children:"Grid Analysis"}),h&&d!==void 0&&u.jsx("div",{className:"flex items-center justify-between mb-3",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-sm text-gray-600 dark:text-slate-300",children:"Box Size:"}),u.jsx("input",{type:"number",min:"8",max:"512",step:"2",value:d,onChange:K=>h(parseInt(K.target.value)||64),className:"w-12 px-1 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-sm text-gray-900 dark:text-slate-100 text-center"}),u.jsx("span",{className:"text-xs text-gray-400",children:"px"})]})}),m&&b&&p!==void 0&&v!==void 0&&u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("span",{className:"text-sm text-gray-600 dark:text-slate-300",children:"Layout:"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"number",min:"1",max:"50",value:p,onChange:K=>m(Math.max(1,parseInt(K.target.value)||1)),className:"w-10 px-1 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md outline-none text-sm text-center",title:"Rows"}),u.jsx("span",{className:"text-xs text-gray-400",children:"x"}),u.jsx("input",{type:"number",min:"1",max:"50",value:v,onChange:K=>b(Math.max(1,parseInt(K.target.value)||1)),className:"w-10 px-1 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md outline-none text-sm text-center",title:"Columns"})]})]}),u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx("button",{onClick:()=>{c==null||c(),$==null||$("mark")},disabled:!E||l!==void 0&&l>0,className:`w-full font-bold py-2 px-4 rounded-lg shadow-md transition-all text-sm ${E?l&&l>0?"bg-indigo-100 dark:bg-indigo-900 text-indigo-700 dark:text-indigo-300 border-2 border-indigo-500":"bg-indigo-600 hover:bg-indigo-700 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:l&&l>0?"Marking Active...":"Mark Corners"}),y&&u.jsxs(u.Fragment,{children:[u.jsx("input",{type:"file",ref:rn,className:"hidden",multiple:!0,accept:".arw,.cr2,.cr3,.dng,.nef,.orf,.raf,.rw2,.pef,.srw,.sr2,.srf,.x3f,.erf,.mef,.mos,.mrw,.kdc,.dcr,.iiq,.3fr,.fff,.rwl,.nrw,.raw,.tif,.tiff",onChange:Qe}),u.jsxs("div",{className:"relative",children:[u.jsx("button",{onClick:()=>ct(!Ge),disabled:!g,className:"w-full font-bold py-2 px-4 rounded-lg shadow-md transition-all text-sm bg-emerald-600 hover:bg-emerald-700 disabled:bg-gray-300 disabled:text-gray-500 disabled:cursor-not-allowed text-white flex items-center justify-center gap-2",children:"Reuse Last & Batch"}),Ge&&u.jsxs("div",{className:"absolute bottom-full left-0 w-full mb-1 bg-white dark:bg-slate-800 rounded-lg shadow-xl border border-gray-200 dark:border-slate-700 overflow-hidden z-20 flex flex-col animate-in fade-in zoom-in-95 duration-100",children:[u.jsx("button",{className:"px-4 py-2 text-left text-xs hover:bg-gray-100 dark:hover:bg-slate-700 text-gray-700 dark:text-slate-200 border-b border-gray-100 dark:border-slate-700",onClick:()=>{var K;ur("single"),(K=rn.current)==null||K.click()},children:"1. Independent Frames"}),u.jsx("button",{className:"px-4 py-2 text-left text-xs hover:bg-gray-100 dark:hover:bg-slate-700 text-indigo-600 dark:text-indigo-400 font-bold",onClick:()=>{var K;ur("pair"),(K=rn.current)==null||K.click()},children:"2. Pair Difference (A-B)"})]})]})]}),u.jsxs("div",{className:"pt-2 mt-2 border-t border-gray-100 dark:border-slate-800",children:[u.jsx("input",{type:"file",ref:Cn,className:"hidden",accept:".txt",onChange:ut}),u.jsx("button",{onClick:()=>{var K;return(K=Cn.current)==null?void 0:K.click()},className:"w-full font-bold py-2 px-4 rounded-lg shadow-sm transition-all text-xs bg-slate-100 hover:bg-slate-200 dark:bg-slate-800 dark:hover:bg-slate-700 text-gray-600 dark:text-slate-300 flex items-center justify-center gap-2 border border-gray-300 dark:border-slate-600",children:"Convert Format (.txt  .csv)"})]})]}),l!==void 0&&l>0&&u.jsx("div",{className:"mt-2 text-center",children:u.jsxs("p",{className:"text-xs text-indigo-600 dark:text-indigo-400 font-bold animate-pulse",children:[l===1&&"Click Top-Left Center",l===2&&"Click Top-Right Center",l===3&&"Click Bottom-Left Center",l===4&&"Click Bottom-Right Center"]})})]})]})}),F&&u.jsx(os,{title:"Color Lab Tools",children:u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"text-sm text-gray-600 dark:text-slate-300 mb-2",children:"Calibrate colors using a standard ColorChecker 24 chart."}),u.jsx("button",{onClick:()=>{W==null||W(),$==null||$("cl mark")},disabled:!E||T!==void 0&&T>0,className:`w-full font-bold py-2 px-4 rounded-lg shadow-md transition-all text-sm ${E?T&&T>0?"bg-yellow-100 dark:bg-yellow-900 text-yellow-700 dark:text-yellow-300 border-2 border-yellow-500":"bg-yellow-600 hover:bg-yellow-700 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:T&&T>0?"Marking Active...":"Mark 24-Patch Chart"}),T!==void 0&&T>0&&u.jsx("div",{className:"mt-2 text-center",children:u.jsxs("p",{className:"text-xs text-yellow-600 dark:text-yellow-400 font-bold animate-pulse",children:[T===1&&"Click Top-Left (Brown)",T===2&&"Click Top-Right (Cyanish)",T===3&&"Click Bottom-Left (White)",T===4&&"Click Bottom-Right (Black)"]})})]})}),u.jsx(os,{title:"Selection Tools",children:u.jsx("div",{className:"space-y-3",children:u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2",children:"Quick Select or Shift+drag"}),u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx("span",{className:"text-sm text-gray-600 dark:text-slate-300",children:"Size (px):"}),u.jsx("input",{type:"number",min:"1",value:Re,onChange:K=>_t(K.target.value),disabled:!E,className:"flex-1 px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-sm text-gray-900 dark:text-slate-100 transition-colors"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsx("button",{onClick:Le,disabled:!E,className:"px-3 py-1.5 bg-gray-200 hover:bg-gray-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-800 dark:text-slate-200 text-xs font-semibold rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Center Rect"}),u.jsx("button",{onClick:Pe,disabled:!E,className:"px-3 py-1.5 bg-gray-200 hover:bg-gray-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-800 dark:text-slate-200 text-xs font-semibold rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Full Image"})]})]})})}),u.jsx(os,{title:"Display Controls",children:u.jsxs("div",{className:"space-y-5",children:[u.jsxs("p",{className:"text-gray-500 dark:text-slate-400 text-center text-sm",children:["Adjust parameters and click ",u.jsx("b",{children:"Apply"}),"."]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"exposure",className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2",children:"Exposure (EV)"}),u.jsx("div",{className:"flex items-center gap-2 mb-2",children:u.jsx("input",{type:"range",min:"-5",max:"5",step:"0.1",disabled:!E,value:parseFloat(Z)||0,onChange:K=>Kr(K.target.value),className:"w-full h-2 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-cyan-500 disabled:opacity-50"})}),u.jsx("div",{className:"flex items-center gap-2",children:u.jsx("input",{id:"exposure",type:"number",step:"0.1",value:Z,onChange:K=>Kr(K.target.value),disabled:!E,className:"w-full px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-sm text-gray-900 dark:text-slate-100 transition-colors duration-300"})})]}),u.jsxs("div",{children:[u.jsxs("label",{htmlFor:"demosaic",className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2 flex justify-between",children:[u.jsx("span",{children:"Demosaic Method"}),(_||(t==null?void 0:t.isXTrans))&&u.jsx("span",{className:"text-[9px] text-red-500 font-bold bg-red-100 dark:bg-red-900/30 px-1 rounded",children:"DISABLED"})]}),u.jsx("select",{id:"demosaic",value:pe,onChange:Ot,disabled:!E||_||(t==null?void 0:t.isXTrans),className:"w-full px-2 py-2 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none transition-colors disabled:bg-gray-100 dark:disabled:bg-slate-800/50 disabled:cursor-not-allowed text-sm text-gray-900 dark:text-slate-100",children:qM.map(K=>u.jsx("option",{value:K.value,children:K.label},K.value))}),_&&u.jsx("p",{className:"text-[9px] text-gray-400 mt-1",children:"Full color data detected. Demosaicing skipped."}),(t==null?void 0:t.isXTrans)&&u.jsx("p",{className:"text-[9px] text-amber-500 mt-1",children:"X-Trans detected. Please enable Pseudo-Bayer below."})]}),z&&u.jsxs("div",{className:"border-t border-gray-100 dark:border-slate-800 pt-2",children:[u.jsx(pf,{checked:!!nn,onChange:K=>{O&&O(K),$==null||$(`xtrans ${K?"on":"off"}`)},label:"Force X-Trans (6x6 -> 2x2)"}),nn&&A&&M&&u.jsxs("div",{className:"mt-2 pl-2 border-l-2 border-emerald-500/50 bg-emerald-50/20 dark:bg-emerald-900/10 p-2 rounded",children:[u.jsx("label",{className:"text-[9px] font-bold text-gray-500 dark:text-slate-400 uppercase block mb-1",children:"Phase Offset (Fine Tune)"}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-[9px] text-gray-400",children:"X (0-5)"}),u.jsx("input",{type:"number",min:"0",max:"5",value:A.x,onChange:K=>{const Se=Math.min(5,Math.max(0,parseInt(K.target.value)||0));M({x:Se}),$==null||$(`xtrans phase ${Se} ${A.y}`)},className:"w-full text-xs px-1 py-0.5 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded text-center outline-none focus:border-cyan-500"})]}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-[9px] text-gray-400",children:"Y (0-5)"}),u.jsx("input",{type:"number",min:"0",max:"5",value:A.y,onChange:K=>{const Se=Math.min(5,Math.max(0,parseInt(K.target.value)||0));M({y:Se}),$==null||$(`xtrans phase ${A.x} ${Se}`)},className:"w-full text-xs px-1 py-0.5 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded text-center outline-none focus:border-cyan-500"})]})]})]})]}),u.jsx("div",{className:"border-t border-gray-200 dark:border-slate-700 pt-2",children:u.jsx(pf,{checked:gt,onChange:De,label:"Advanced Settings"})}),gt&&u.jsxs("div",{className:"space-y-5 pl-2 border-l-2 border-gray-200 dark:border-slate-700 animate-in slide-in-from-top-2 duration-200",children:[u.jsxs("div",{children:[u.jsx(pf,{checked:oe,onChange:ie,label:"Show Kadc"}),u.jsx("p",{className:"text-[10px] text-gray-400 dark:text-slate-500 mt-1",children:"Requires manual Black Levellinear PTC zoneabsolutely uniform image ."})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2",children:"White Balance Gains"}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-xs text-red-500 dark:text-red-400 block mb-1",children:"Red"}),u.jsx("input",{type:"number",step:"0.01",value:ne,onChange:K=>ba(K.target.value),disabled:!E,className:"w-full px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-red-500 outline-none text-sm text-gray-900 dark:text-slate-100 transition-colors duration-300"})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-xs text-blue-500 dark:text-blue-400 block mb-1",children:"Blue"}),u.jsx("input",{type:"number",step:"0.01",value:X,onChange:K=>rr(K.target.value),disabled:!E,className:"w-full px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-blue-500 outline-none text-sm text-gray-900 dark:text-slate-100 transition-colors duration-300"})]})]})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between items-end mb-2",children:[u.jsxs("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide flex items-center",children:["Black Level (4-Ch)",u.jsx("span",{className:"ml-1 text-[10px] text-gray-400 dark:text-slate-500 font-normal normal-case",children:"Native"}),u.jsx("button",{onClick:()=>Mt(!0),className:"ml-2 text-[10px] text-cyan-600 dark:text-cyan-400 hover:text-cyan-700 dark:hover:text-cyan-300 hover:underline cursor-pointer transition-colors",title:"About Black Level Settings",children:"[about]"})]}),u.jsxs("div",{className:"flex items-center gap-1.5",title:"Subtract Black Level from ROI Mean stats (for display)",children:[u.jsx("span",{className:"text-[9px] font-mono text-gray-400 dark:text-slate-500 uppercase tracking-wide",children:"Sub. BL"}),u.jsx("div",{className:`relative w-8 h-4 rounded-full cursor-pointer transition-colors duration-200 ease-in-out ${we?"bg-cyan-500":"bg-gray-300 dark:bg-slate-700"}`,onClick:()=>ze(!we),children:u.jsx("div",{className:`absolute top-0.5 left-0.5 bg-white w-3 h-3 rounded-full shadow-sm transform transition-transform duration-200 ${we?"translate-x-4":"translate-x-0"}`})})]})]}),u.jsx("input",{type:"text",value:ee,onChange:K=>D(K.target.value),disabled:!E,placeholder:"0 0 0 0",className:"w-full px-2 py-1 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none text-xs font-mono text-gray-900 dark:text-slate-100 transition-colors duration-300",title:"Enter 4 values separated by space or comma"}),u.jsx("p",{className:"text-[10px] text-gray-400 dark:text-slate-500 mt-1",children:"Order: (0,0) (0,1) (1,0) (1,1). Spatial: TL, TR, BL, BR."})]}),u.jsxs("div",{children:[u.jsxs("label",{htmlFor:"customMatrix",className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase tracking-wide block mb-2",children:["Custom Color Matrix",u.jsx("span",{className:"block text-[10px] text-gray-400 dark:text-slate-500 font-normal normal-case mt-0.5",children:"XYZ to Camera RGB (3x3, 9 nums)"})]}),u.jsx("textarea",{id:"customMatrix",value:H,onChange:Ct,disabled:!E,placeholder:"0.66 -0.19 -0.04  -0.46 1.23 0.25  -0.06 0.13 0.65",className:"w-full h-24 px-2 py-2 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md focus:ring-2 focus:ring-cyan-500 outline-none transition-colors disabled:bg-gray-100 dark:disabled:bg-slate-800/50 disabled:cursor-not-allowed text-xs font-mono leading-relaxed text-gray-900 dark:text-slate-100"})]})]}),u.jsxs("div",{className:"pt-4 flex flex-col gap-2",children:[u.jsx("button",{onClick:Pt,disabled:!E,className:"w-full text-base bg-cyan-500 hover:bg-cyan-600 dark:bg-cyan-600 dark:hover:bg-cyan-500 disabled:bg-gray-300 dark:disabled:bg-slate-800 disabled:text-gray-500 dark:disabled:text-slate-500 disabled:cursor-not-allowed text-white font-bold py-3 px-3 rounded-lg shadow-lg shadow-cyan-500/20 dark:shadow-cyan-900/20 transition-all active:scale-95",children:""}),u.jsxs("button",{onClick:hr,disabled:!E,className:"w-full text-xs font-bold bg-slate-700 hover:bg-slate-600 text-white disabled:bg-gray-300 dark:disabled:bg-slate-800 disabled:text-gray-500 transition-colors py-2 rounded-lg flex items-center justify-center gap-1.5 border border-slate-600",title:"Diagnostic Mode. Direct RAW-to-Grayscale mapping using manual Black Level & WB Gains (R/B calibration).",children:[u.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"",u.jsx("br",{}),"(CM)"]}),u.jsx("button",{onClick:ae,disabled:!E,className:"w-full text-xs text-gray-400 hover:text-gray-600 dark:text-slate-400 dark:hover:text-slate-200 disabled:text-gray-300 dark:disabled:text-slate-600 transition-colors mt-1",children:"Reset Defaults (Local)"})]})]})})]}),u.jsx(Zo,{isOpen:Hr,onClose:()=>Mt(!1),onConfirm:()=>{window.open("https://y-g-jiang.github.io/CBLD.html","_blank"),Mt(!1)},title:"Black Level Info / ",confirmText:"Visit Database (CBLD)",cancelText:"Close",message:u.jsxs("div",{className:"flex flex-col gap-4 text-left text-sm text-gray-600 dark:text-slate-300",children:[u.jsxs("p",{className:"leading-relaxed",children:["JiangBridge/JiangBridge",u.jsx("a",{href:"https://y-g-jiang.github.io/CBLD.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline mx-1 font-bold",children:"CBLD.html"}),""]}),u.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 w-full"}),u.jsxs("p",{className:"leading-relaxed",children:["Autofills when JiangBridge is detected. If no result is found or JiangBridge is missing, please check the ",u.jsx("a",{href:"https://y-g-jiang.github.io/CBLD.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline mx-1 font-bold",children:"Black Level Database"}),"to find your camera model. However, manually capturing a dark frame with identical settings to calculate and input the values is highly recommended for higher decimal precision, as internal tags often lack accuracy."]})]})}),u.jsx(Zo,{isOpen:Vr,onClose:()=>Je(!1),onConfirm:()=>{},title:"Select Zero-Dependency Mode",confirmText:"",cancelText:"",message:u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsx("div",{className:"text-gray-600 dark:text-slate-300 text-left text-sm leading-relaxed mb-2",children:"Select how you want to visualize the raw data without full JOraw processing."}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[u.jsxs("button",{onClick:()=>nr("mosaic"),className:"flex flex-col items-center justify-center p-4 bg-gray-100 hover:bg-gray-200 dark:bg-slate-800 dark:hover:bg-slate-700 border-2 border-transparent hover:border-gray-400 dark:hover:border-slate-500 rounded-xl transition-all group",children:[u.jsx("div",{className:"w-12 h-12 bg-gray-300 dark:bg-slate-600 rounded-full flex items-center justify-center mb-3 group-hover:scale-110 transition-transform",children:u.jsx("svg",{className:"w-6 h-6 text-gray-600 dark:text-slate-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}),u.jsx("h4",{className:"font-bold text-gray-800 dark:text-slate-200 mb-1",children:"Mosaic (Gray)"}),u.jsx("p",{className:"text-[10px] text-gray-500 dark:text-slate-400 text-center",children:"Original Bayer pattern. No demosaic. 1:1 pixel mapping. Pure DN visualization."})]}),u.jsxs("button",{onClick:()=>nr("bilinear"),className:"flex flex-col items-center justify-center p-4 bg-indigo-50 hover:bg-indigo-100 dark:bg-indigo-900/20 dark:hover:bg-indigo-900/40 border-2 border-transparent hover:border-indigo-400 rounded-xl transition-all group",children:[u.jsx("div",{className:"w-12 h-12 bg-indigo-200 dark:bg-indigo-800 rounded-full flex items-center justify-center mb-3 group-hover:scale-110 transition-transform",children:u.jsx("svg",{className:"w-6 h-6 text-indigo-700 dark:text-indigo-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"})})}),u.jsx("h4",{className:"font-bold text-indigo-800 dark:text-indigo-300 mb-1",children:"Bilinear (Color)"}),u.jsx("p",{className:"text-[10px] text-indigo-600/80 dark:text-indigo-400/80 text-center",children:"Basic JS Demosaic + Matrix + Gamma. Bypass JOraw pipeline."})]})]}),u.jsx("button",{onClick:()=>Je(!1),className:"mt-2 w-full py-2 text-xs font-bold text-gray-500 hover:text-gray-700 dark:text-slate-400 dark:hover:text-slate-200 transition-colors",children:"Cancel"})]})})]})},QM=S.forwardRef((e,t)=>{const{rawImageData:r,displaySettings:n,onApplyDisplaySettings:a,onSetSelection:o,onStartMarking:i,onGenerateTestPic:s,onBatchDrLab:l,onProcessPair:c,onProcessBatchDiff:f,onProcessStackFft:d,onOpenCrossCalc:h,onToggleXTrans:p,onXTransPhaseChange:m}=e,[v,b]=S.useState([{id:"init",type:"info",text:'Jiangtherapee CLI v1.0. Type "help" for commands.'}]),[y,g]=S.useState(""),[x,j]=S.useState([]),[k,w]=S.useState(-1),N=S.useRef(null),_=S.useRef(null),O=S.useRef(null),A=S.useRef(null),M=S.useRef(null),C=S.useRef(null),$=S.useRef(null),F=S.useRef(null);S.useRef(null);const T=S.useRef({...n});S.useEffect(()=>{T.current={...n}},[n.exposure,n.demosaicMethod]);const W=S.useRef({fileA:null,fileB:null});S.useLayoutEffect(()=>{N.current&&(N.current.scrollTop=N.current.scrollHeight)},[v]);const P=(H,se="out")=>{b(ee=>[...ee,{id:Date.now().toString()+Math.random(),type:se,text:H}])};S.useImperativeHandle(t,()=>({log:(H,se="in")=>{const ee=se;let D=H;se==="in"&&!H.startsWith(">")&&(D=`> ${H}`),P(D,ee)}}));const E=S.useRef(null);S.useEffect(()=>{if(e.roiStats&&e.roiStats!==E.current){const H=e.roiStats,se=Math.round(H.x),ee=Math.round(H.y),D=Math.round(H.width),ne=Math.round(H.height);P(`> sel ${se} ${ee} ${D} ${ne}`,"in");const he=e.isBGGR?[{name:"B",idx:0},{name:"G1",idx:1},{name:"G2",idx:2},{name:"R",idx:3}]:[{name:"R",idx:0},{name:"G1",idx:1},{name:"G2",idx:2},{name:"B",idx:3}],X=u.jsxs("div",{className:"font-mono text-xs mt-1 mb-2",children:[u.jsxs("div",{className:"text-gray-400 mb-1",children:["Region Stats [",se,", ",ee,", ",D,"x",ne,"]:"]}),u.jsxs("div",{className:"grid grid-cols-[30px_1fr_1fr] gap-x-2 border-b border-gray-700 pb-1 mb-1 text-gray-500 font-bold",children:[u.jsx("div",{children:"Ch"}),u.jsx("div",{className:"text-right",children:"Mean"}),u.jsx("div",{className:"text-right",children:"StdDev"})]}),he.map(ue=>u.jsxs("div",{className:"grid grid-cols-[30px_1fr_1fr] gap-x-2 hover:bg-gray-900",children:[u.jsx("div",{className:ue.name==="R"?"text-red-500":ue.name==="B"?"text-blue-500":"text-green-500",children:ue.name}),u.jsx("div",{className:"text-right text-gray-300",children:H.means[ue.idx].toFixed(2)}),u.jsx("div",{className:"text-right text-gray-400",children:H.stdDevs[ue.idx].toFixed(2)})]},ue.name))]});P(X,"out"),E.current=H}},[e.roiStats,e.isBGGR]);const L=H=>{var ne,he,X,ue,pe,G,oe;const se=H.trim().split(/\s+/),ee=se[0].toLowerCase(),D=se.slice(1);switch(ee){case"help":P("Available Commands:","info"),P("  ev <val>          Set Exposure (e.g. ev 1.5)","info"),P("  wb <r> <b>        Set WB Gains","info"),P("  bl <r> <g>...     Set Black Level (1 or 4 vals)","info"),P("  demo <id>         Demosaic (0=Lin, 3=AHD, -1=Raw)","info"),P("  matrix <n1..n9>   Set Custom Color Matrix","info"),P("  xtrans <on|off>   Force X-Trans Mode","info"),P("  xtrans phase <x> <y>  Set X-Trans Phase","info"),P("  render            Apply settings & Render","info"),P("  render zero       Zero-Dependency Render","info"),P("  render unmix      Advanced Unmixing Render","info"),P("  sel <full|center> Select ROI","info"),P("  sel <x> <y> <w> <h> Select ROI manually","info"),P("  mark              Start DR Lab Corner Marking","info"),P("  gen test          Generate Test Pattern","info"),P("  fft load <a>      Load FFT Pair Image A","info"),P("  fft load <b>      Load FFT Pair Image B","info"),P("  fft run           Run FFT Pair Diff","info"),P("  cls               Clear Screen","info");break;case"cls":case"clear":b([]);break;case"ev":case"exposure":if(D.length<1){P(`Current EV: ${T.current.exposure}`,"info");return}const ie=parseFloat(D[0]);if(isNaN(ie)){P("Invalid EV value","err");return}T.current.exposure=ie,P(`EV set to ${ie} (run 'render' to apply)`);break;case"wb":if(D.length<2){P("Usage: wb <red_gain> <blue_gain>","err");return}const we=parseFloat(D[0]),ze=parseFloat(D[1]);if(isNaN(we)||isNaN(ze)){P("Invalid gains","err");return}T.current.wbGains=[we,ze],P(`WB set to R:${we} B:${ze}`);break;case"bl":case"black":if(D.length===0){P(`Current BL: ${((ne=T.current.blackLevel)==null?void 0:ne.join(" "))||"Auto"}`,"info");return}let Re=D.map(Number);if(Re.some(isNaN)){P("Invalid numbers","err");return}if(Re.length===1&&(Re=[Re[0],Re[0],Re[0],Re[0]]),Re.length<4){P("Need 1 or 4 values","err");return}T.current.blackLevel=[Re[0],Re[1],Re[2],Re[3]],T.current.subtractBlackLevelFromStats=!0,T.current.showKadc=!0,P(`Black Level set: ${Re.slice(0,4).join(" ")}`);break;case"demo":case"demosaic":if(D.length===0){P("Usage: demo <id> (0=Lin, 1=VNG, 2=PPG, 3=AHD, 4=DCB, 11=DHT, 12=AAHD, -1=Raw)","info");return}const _t=parseInt(D[0]);if(isNaN(_t)){P("Invalid method ID","err");return}T.current.demosaicMethod=_t,P(`Demosaic set to ID ${_t}`);break;case"matrix":if(D.length!==9){P("Usage: matrix m1 m2 m3 m4 m5 m6 m7 m8 m9 (3x3)","err");return}const gt=D.map(Number);if(gt.some(isNaN)){P("Invalid matrix values","err");return}T.current.customMatrix=gt,P("Custom Color Matrix set.");break;case"xtrans":if(D[0]==="on"||D[0]==="true")p?(p(!0),P("X-Trans conversion ON")):P("Feature not available","err");else if(D[0]==="off"||D[0]==="false")p?(p(!1),P("X-Trans conversion OFF")):P("Feature not available","err");else if(D[0]==="phase"){if(D.length<3){P("Usage: xtrans phase <x> <y>","err");return}const De=parseInt(D[1]),He=parseInt(D[2]);m&&(m({x:De,y:He}),P(`X-Trans Phase set to (${De}, ${He})`))}else P("Usage: xtrans <on|off> OR xtrans phase <x> <y>","err");break;case"render":case"apply":if(D[0]==="zero"){const De=D[1]==="color"?"zero-dep-color":"zero-dependency";T.current.renderMode=De,P(`Rendering Zero-Dependency (${De})...`)}else if(D[0]==="unmix"){if(D.length<13){P("Usage: render unmix <4xBL> <4xBG> <4xFG>","err");return}const De=D.slice(1).map(Number);if(De.some(isNaN)){P("Invalid params","err");return}T.current.renderMode="advanced-zero-dep",T.current.advancedZeroDep={bl:[De[0],De[1],De[2],De[3]],bg:[De[4],De[5],De[6],De[7]],fg:[De[8],De[9],De[10],De[11]]},P("Rendering Advanced Unmix...")}else T.current.renderMode="standard",P("Rendering Standard Pipeline...");a({...T.current});break;case"sel":case"select":if(!r||!o){P("No image loaded","err");return}if(D[0]==="full")o({x:0,y:0,w:r.width,h:r.height});else if(D[0]==="center"){const De=parseInt(D[1])||64,He=Math.floor((r.width-De)/2),mt=Math.floor((r.height-De)/2);o({x:He,y:mt,w:De,h:De})}else if(D.length===4){const[De,He,mt,Rt]=D.map(Number);if([De,He,mt,Rt].some(isNaN)){P("Invalid coordinates","err");return}o({x:De,y:He,w:mt,h:Rt})}else P("Usage: sel full | sel center <size> | sel <x> <y> <w> <h>","err");break;case"mark":i&&(i(),P("Interactive marking started. Click 4 corners on canvas."));break;case"gen":(D[0]==="test"||D[0]==="pattern")&&s&&(s(),P("Generated Test Pattern"));break;case"drlab":if(D[0]==="config"){const[De,He,mt]=D.slice(1).map(Number);e.onDrRoiSizeChange&&e.onDrRoiSizeChange(De||64),e.onDrGridRowsChange&&e.onDrGridRowsChange(He||10),e.onDrGridColsChange&&e.onDrGridColsChange(mt||10),P(`DR Grid Configured: Size=${De}, Grid=${He}x${mt}`)}else D[0]==="batch"&&(D[1]==="pair"?(P("Select file pairs for DR Lab..."),(he=A.current)==null||he.click()):(P("Select single files for DR Lab..."),(X=O.current)==null||X.click()));break;case"fft":D[0]==="load"?D[1]==="a"?(ue=M.current)==null||ue.click():D[1]==="b"?(pe=C.current)==null||pe.click():P("Usage: fft load <a|b>","err"):D[0]==="run"?W.current.fileA&&W.current.fileB&&c?(P(`Processing Pair: ${W.current.fileA.name} - ${W.current.fileB.name}`),c(W.current.fileA,W.current.fileB,!1,!0)):P("Load both A and B first","err"):D[0]==="stack"?(P("Select files for Stack FFT..."),(G=$.current)==null||G.click()):D[0]==="batch"&&(P("Select files for Batch Diff...","info"),(oe=F.current)==null||oe.click());break;case"crosscalc":h&&(h(),P("Opened Cross-Calculator"));break;default:P(`Unknown command: ${ee}`,"err")}},z=H=>{if(H.key==="Enter"){const se=y.trim();if(!se)return;P(`> ${se}`,"in"),se.split(";").forEach(D=>{D.trim()&&L(D.trim())}),j(D=>[...D,se]),w(-1),g("")}else if(H.key==="ArrowUp"){if(H.preventDefault(),x.length>0){const se=k===-1?x.length-1:Math.max(0,k-1);w(se),g(x[se])}}else if(H.key==="ArrowDown")if(H.preventDefault(),k!==-1){const se=Math.min(x.length-1,k+1);w(se),g(x[se])}else g("")},Z=(H,se)=>{H.target.files&&H.target.files.length>0&&l&&(P(`Batch processing ${H.target.files.length} files in ${se} mode...`),l(H.target.files,se)),H.target.value=""},q=(H,se)=>{var D;const ee=(D=H.target.files)==null?void 0:D[0];ee&&(se==="A"?W.current.fileA=ee:W.current.fileB=ee,P(`Loaded ${se}: ${ee.name}`)),H.target.value=""};return u.jsxs("div",{className:"flex flex-col h-full bg-black text-green-500 font-mono text-sm border-l-4 border-gray-700 p-2 shadow-2xl",children:[u.jsxs("div",{className:"border-b border-green-800 pb-2 mb-2 flex justify-between items-end select-none",children:[u.jsx("h2",{className:"text-xl font-bold tracking-widest",children:"TERMINAL"}),u.jsx("div",{className:"text-[10px] text-green-700",children:"JIANGTHERAPEE_CLI_V1"})]}),u.jsx("div",{ref:N,className:"flex-grow overflow-y-auto overflow-x-hidden break-words mb-2 pr-1 scrollbar-thin scrollbar-thumb-green-900 scrollbar-track-black",children:v.map(H=>u.jsxs("div",{className:`mb-1 ${H.type==="in"?"opacity-50":""} ${H.type==="err"?"text-red-500":""} ${H.type==="info"?"text-cyan-400":""}`,children:[H.type!=="in"&&typeof H.text=="string"&&!H.text.startsWith(">")&&u.jsx("span",{className:"mr-2 opacity-50",children:">"}),H.text]},H.id))}),u.jsxs("div",{className:"relative flex items-center border-t border-green-800 pt-2",children:[u.jsx("span",{className:"text-green-500 mr-2 animate-pulse font-bold",children:">"}),u.jsx("input",{ref:_,type:"text",value:y,onChange:H=>g(H.target.value),onKeyDown:z,autoFocus:!0,className:"w-full bg-transparent border-none outline-none text-green-400 placeholder-green-900",placeholder:"Enter command (e.g. 'help')",spellCheck:!1,autoComplete:"off"})]}),u.jsx("input",{type:"file",ref:O,className:"hidden",multiple:!0,onChange:H=>Z(H,"single")}),u.jsx("input",{type:"file",ref:A,className:"hidden",multiple:!0,onChange:H=>Z(H,"pair")}),u.jsx("input",{type:"file",ref:M,className:"hidden",onChange:H=>q(H,"A")}),u.jsx("input",{type:"file",ref:C,className:"hidden",onChange:H=>q(H,"B")}),u.jsx("input",{type:"file",ref:$,className:"hidden",multiple:!0,onChange:H=>{e.onProcessStackFft&&H.target.files&&(P(`Loading ${H.target.files.length} frames for Stack FFT...`),e.onProcessStackFft(H.target.files)),H.target.value=""}}),u.jsx("input",{type:"file",ref:F,className:"hidden",multiple:!0,onChange:H=>{e.onProcessBatchDiff&&H.target.files&&(P("Starting Batch Diff..."),e.onProcessBatchDiff(H.target.files)),H.target.value=""}})]})}),JM=(e,t)=>{if(!e)return null;if(t){const r=e.bayerPattern.toUpperCase(),n=l=>{const c=[];for(let f=0;f<4;f++)r[f]===l&&c.push(f);return c},a=t.BlackLevelRed,o=t.BlackLevelGreen,i=t.BlackLevelBlue;if(a!==void 0&&o!==void 0&&i!==void 0){const l=parseFloat(a),c=parseFloat(o),f=parseFloat(i);if(!isNaN(l)&&!isNaN(c)&&!isNaN(f)){const d=[0,0,0,0];return d.fill(c),n("R").forEach(h=>d[h]=l),n("G").forEach(h=>d[h]=c),n("B").forEach(h=>f),d}}let s=t.BlackLevel;if(s===void 0&&(s=t.BlackLevel2),s!==void 0){let l=[];if(Array.isArray(s)?l=s.map(Number):typeof s=="string"?l=s.trim().split(/\s+/).map(Number):typeof s=="number"&&(l=[s,s,s,s]),l.length===1&&!isNaN(l[0])&&(l=[l[0],l[0],l[0],l[0]]),l.length>=4&&!l.slice(0,4).some(isNaN))return[l[0],l[1],l[2],l[3]]}}return e.blackLevels&&e.blackLevels.length===4?[e.blackLevels[0],e.blackLevels[1],e.blackLevels[2],e.blackLevels[3]]:null},eC=e=>{const[t,r]=S.useState("gui"),{rawImageData:n,exifData:a,isBridgeConnected:o,displaySettings:i,onApplyDisplaySettings:s}=e,l=S.useRef(null),c=S.useRef(!1),f=S.useRef(null);S.useEffect(()=>{n!==f.current&&(c.current=!1,f.current=n)},[n]),S.useEffect(()=>{var h;if(o&&n&&!c.current){c.current=!0;const p=JM(n,a),m=p&&p.some(v=>v>0);if(p&&m){console.log("[AutoApply] Detected Black Levels via Bridge:",p),(h=l.current)==null||h.log(`Auto-detected BL: ${p.join(" ")}`,"info");const v={...i,blackLevel:p,showKadc:!0,subtractBlackLevelFromStats:!0,exposure:i.exposure,wbGains:i.wbGains||[1,1],demosaicMethod:i.demosaicMethod,renderMode:"standard"};s(v)}}},[o,n,a,i,s]);const d=h=>{l.current&&l.current.log(h,"in")};return u.jsxs("div",{className:"flex flex-col h-full",children:[u.jsxs("div",{className:"flex bg-gray-200 dark:bg-gray-800 p-1 border-b border-gray-300 dark:border-gray-700 flex-shrink-0",children:[u.jsx("button",{onClick:()=>r("gui"),className:`flex-1 py-1 text-xs font-bold uppercase tracking-wider transition-colors border-r border-gray-300 dark:border-gray-700 ${t==="gui"?"bg-white dark:bg-black shadow-inner text-cyan-600 dark:text-cyan-400":"bg-gray-200 dark:bg-gray-900 text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}`,children:"GUI"}),u.jsx("button",{onClick:()=>r("terminal"),className:`flex-1 py-1 text-xs font-bold uppercase tracking-wider transition-colors ${t==="terminal"?"bg-black text-green-500 shadow-inner":"bg-gray-200 dark:bg-gray-900 text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}`,children:"Terminal"})]}),u.jsxs("div",{className:"flex-grow overflow-hidden relative",children:[u.jsx("div",{className:`h-full w-full ${t==="gui"?"block":"hidden"}`,children:u.jsx(ZM,{...e,onCommand:d})}),u.jsx("div",{className:`h-full w-full ${t==="terminal"?"block":"hidden"}`,children:u.jsx(QM,{...e,ref:l})})]})]})},tC=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20 12H4"})}),rC=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})}),nC=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 4v5h5M4 12a8 8 0 0114.24-5.12M20 20v-5h-5M20 12a8 8 0 01-14.24 5.12"})}),aC=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 11.5V14m0-2.5v-6a1.5 1.5 0 113 0m-3 6a1.5 1.5 0 00-3 0v2a7.5 7.5 0 0015 0v-5a1.5 1.5 0 00-3 0m-6-3V11m0-5.5v-1a1.5 1.5 0 013 0v1m0 0V11m0-5.5a1.5 1.5 0 013 0v3m0 0V11"})}),oC=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 4l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})}),Sg=.1,Ng=16,iC=Math.log(Sg),sC=Math.log(Ng),lC=({zoom:e,onZoomChange:t,onResetView:r,touchAction:n,onToggleTouchAction:a})=>{const o=c=>{const f=parseFloat(c.target.value),d=Math.exp(f);t(Math.max(Sg,Math.min(Ng,d)))},i=()=>{t(Math.min(Ng,e*1.25))},s=()=>{t(Math.max(Sg,e/1.25))},l=Math.log(e);return u.jsxs("div",{className:"absolute top-4 right-4 flex gap-2",onClick:c=>c.stopPropagation(),children:[u.jsx("div",{className:"bg-white/90 dark:bg-slate-800/70 backdrop-blur-sm p-2 rounded-lg border border-gray-200 dark:border-slate-700 flex items-center shadow-lg transition-colors duration-300",children:u.jsx("button",{onClick:a,className:`p-1.5 rounded-md transition-colors flex items-center justify-center ${n==="select"?"bg-cyan-100 text-cyan-600 dark:bg-cyan-900/50 dark:text-cyan-400 ring-2 ring-cyan-500/50":"text-gray-500 dark:text-slate-400 hover:bg-gray-100 dark:hover:bg-slate-700"}`,title:n==="select"?"Mode: Selection (Drag to Select)":"Mode: Pan (Drag to Move)",children:n==="select"?u.jsx(oC,{}):u.jsx(aC,{})})}),u.jsxs("div",{className:"bg-white/90 dark:bg-slate-800/70 backdrop-blur-sm p-2 rounded-lg border border-gray-200 dark:border-slate-700 flex items-center gap-2 text-gray-700 dark:text-slate-300 shadow-lg transition-colors duration-300",children:[u.jsx("button",{onClick:s,className:"p-1 rounded-md hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",title:"Zoom Out","aria-label":"Zoom Out",children:u.jsx(tC,{})}),u.jsx("input",{type:"range",min:iC,max:sC,step:"0.01",value:l,onChange:o,className:"w-24 sm:w-32 h-2 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-cyan-500","aria-label":"Zoom slider"}),u.jsx("button",{onClick:i,className:"p-1 rounded-md hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",title:"Zoom In","aria-label":"Zoom In",children:u.jsx(rC,{})}),u.jsxs("span",{className:"w-16 text-center font-mono text-sm","aria-live":"polite",children:[(e*100).toFixed(0),"%"]}),u.jsx("button",{onClick:r,className:"p-1 rounded-md hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",title:"Reset View","aria-label":"Reset View",children:u.jsx(nC,{})})]})]})},cC=({theme:e,setTheme:t})=>{const r=()=>{t(e==="light"?"dark":"light")};return u.jsx("button",{onClick:r,className:"fixed bottom-6 right-6 z-50 p-3 rounded-full bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 shadow-lg text-gray-800 dark:text-yellow-400 hover:bg-gray-100 dark:hover:bg-slate-700 transition-all duration-300",title:`Switch to ${e==="light"?"dark":"light"} mode`,children:e==="light"?u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-slate-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}):u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})})})};function AS(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=AS(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function it(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=AS(e))&&(n&&(n+=" "),n+=t);return n}var uC=Array.isArray,Gn=uC,fC=typeof Yu=="object"&&Yu&&Yu.Object===Object&&Yu,MS=fC,dC=MS,hC=typeof self=="object"&&self&&self.Object===Object&&self,pC=dC||hC||Function("return this")(),Za=pC,gC=Za,mC=gC.Symbol,Pu=mC,mb=Pu,CS=Object.prototype,yC=CS.hasOwnProperty,vC=CS.toString,Hl=mb?mb.toStringTag:void 0;function xC(e){var t=yC.call(e,Hl),r=e[Hl];try{e[Hl]=void 0;var n=!0}catch{}var a=vC.call(e);return n&&(t?e[Hl]=r:delete e[Hl]),a}var bC=xC,wC=Object.prototype,kC=wC.toString;function jC(e){return kC.call(e)}var SC=jC,yb=Pu,NC=bC,_C=SC,OC="[object Null]",PC="[object Undefined]",vb=yb?yb.toStringTag:void 0;function AC(e){return e==null?e===void 0?PC:OC:vb&&vb in Object(e)?NC(e):_C(e)}var jo=AC;function MC(e){return e!=null&&typeof e=="object"}var So=MC,CC=jo,EC=So,TC="[object Symbol]";function $C(e){return typeof e=="symbol"||EC(e)&&CC(e)==TC}var yl=$C,DC=Gn,RC=yl,LC=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,IC=/^\w*$/;function BC(e,t){if(DC(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||RC(e)?!0:IC.test(e)||!LC.test(e)||t!=null&&e in Object(t)}var qy=BC;function FC(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var ai=FC;const vl=Dt(ai);var zC=jo,UC=ai,WC="[object AsyncFunction]",GC="[object Function]",HC="[object GeneratorFunction]",VC="[object Proxy]";function XC(e){if(!UC(e))return!1;var t=zC(e);return t==GC||t==HC||t==WC||t==VC}var Zy=XC;const We=Dt(Zy);var KC=Za,YC=KC["__core-js_shared__"],qC=YC,Q0=qC,xb=function(){var e=/[^.]+$/.exec(Q0&&Q0.keys&&Q0.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function ZC(e){return!!xb&&xb in e}var QC=ZC,JC=Function.prototype,e5=JC.toString;function t5(e){if(e!=null){try{return e5.call(e)}catch{}try{return e+""}catch{}}return""}var ES=t5,r5=Zy,n5=QC,a5=ai,o5=ES,i5=/[\\^$.*+?()[\]{}|]/g,s5=/^\[object .+?Constructor\]$/,l5=Function.prototype,c5=Object.prototype,u5=l5.toString,f5=c5.hasOwnProperty,d5=RegExp("^"+u5.call(f5).replace(i5,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h5(e){if(!a5(e)||n5(e))return!1;var t=r5(e)?d5:s5;return t.test(o5(e))}var p5=h5;function g5(e,t){return e==null?void 0:e[t]}var m5=g5,y5=p5,v5=m5;function x5(e,t){var r=v5(e,t);return y5(r)?r:void 0}var Zi=x5,b5=Zi,w5=b5(Object,"create"),Dh=w5,bb=Dh;function k5(){this.__data__=bb?bb(null):{},this.size=0}var j5=k5;function S5(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var N5=S5,_5=Dh,O5="__lodash_hash_undefined__",P5=Object.prototype,A5=P5.hasOwnProperty;function M5(e){var t=this.__data__;if(_5){var r=t[e];return r===O5?void 0:r}return A5.call(t,e)?t[e]:void 0}var C5=M5,E5=Dh,T5=Object.prototype,$5=T5.hasOwnProperty;function D5(e){var t=this.__data__;return E5?t[e]!==void 0:$5.call(t,e)}var R5=D5,L5=Dh,I5="__lodash_hash_undefined__";function B5(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=L5&&t===void 0?I5:t,this}var F5=B5,z5=j5,U5=N5,W5=C5,G5=R5,H5=F5;function xl(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}xl.prototype.clear=z5;xl.prototype.delete=U5;xl.prototype.get=W5;xl.prototype.has=G5;xl.prototype.set=H5;var V5=xl;function X5(){this.__data__=[],this.size=0}var K5=X5;function Y5(e,t){return e===t||e!==e&&t!==t}var Qy=Y5,q5=Qy;function Z5(e,t){for(var r=e.length;r--;)if(q5(e[r][0],t))return r;return-1}var Rh=Z5,Q5=Rh,J5=Array.prototype,eE=J5.splice;function tE(e){var t=this.__data__,r=Q5(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():eE.call(t,r,1),--this.size,!0}var rE=tE,nE=Rh;function aE(e){var t=this.__data__,r=nE(t,e);return r<0?void 0:t[r][1]}var oE=aE,iE=Rh;function sE(e){return iE(this.__data__,e)>-1}var lE=sE,cE=Rh;function uE(e,t){var r=this.__data__,n=cE(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var fE=uE,dE=K5,hE=rE,pE=oE,gE=lE,mE=fE;function bl(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}bl.prototype.clear=dE;bl.prototype.delete=hE;bl.prototype.get=pE;bl.prototype.has=gE;bl.prototype.set=mE;var Lh=bl,yE=Zi,vE=Za,xE=yE(vE,"Map"),Jy=xE,wb=V5,bE=Lh,wE=Jy;function kE(){this.size=0,this.__data__={hash:new wb,map:new(wE||bE),string:new wb}}var jE=kE;function SE(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var NE=SE,_E=NE;function OE(e,t){var r=e.__data__;return _E(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Ih=OE,PE=Ih;function AE(e){var t=PE(this,e).delete(e);return this.size-=t?1:0,t}var ME=AE,CE=Ih;function EE(e){return CE(this,e).get(e)}var TE=EE,$E=Ih;function DE(e){return $E(this,e).has(e)}var RE=DE,LE=Ih;function IE(e,t){var r=LE(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var BE=IE,FE=jE,zE=ME,UE=TE,WE=RE,GE=BE;function wl(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}wl.prototype.clear=FE;wl.prototype.delete=zE;wl.prototype.get=UE;wl.prototype.has=WE;wl.prototype.set=GE;var ev=wl,TS=ev,HE="Expected a function";function tv(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(HE);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],o=r.cache;if(o.has(a))return o.get(a);var i=e.apply(this,n);return r.cache=o.set(a,i)||o,i};return r.cache=new(tv.Cache||TS),r}tv.Cache=TS;var $S=tv;const VE=Dt($S);var XE=$S,KE=500;function YE(e){var t=XE(e,function(n){return r.size===KE&&r.clear(),n}),r=t.cache;return t}var qE=YE,ZE=qE,QE=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,JE=/\\(\\)?/g,eT=ZE(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(QE,function(r,n,a,o){t.push(a?o.replace(JE,"$1"):n||r)}),t}),tT=eT;function rT(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var rv=rT,kb=Pu,nT=rv,aT=Gn,oT=yl,jb=kb?kb.prototype:void 0,Sb=jb?jb.toString:void 0;function DS(e){if(typeof e=="string")return e;if(aT(e))return nT(e,DS)+"";if(oT(e))return Sb?Sb.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var iT=DS,sT=iT;function lT(e){return e==null?"":sT(e)}var RS=lT,cT=Gn,uT=qy,fT=tT,dT=RS;function hT(e,t){return cT(e)?e:uT(e,t)?[e]:fT(dT(e))}var LS=hT,pT=yl;function gT(e){if(typeof e=="string"||pT(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Bh=gT,mT=LS,yT=Bh;function vT(e,t){t=mT(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[yT(t[r++])];return r&&r==n?e:void 0}var nv=vT,xT=nv;function bT(e,t,r){var n=e==null?void 0:xT(e,t);return n===void 0?r:n}var IS=bT;const pa=Dt(IS);function wT(e){return e==null}var kT=wT;const Ie=Dt(kT);var jT=jo,ST=Gn,NT=So,_T="[object String]";function OT(e){return typeof e=="string"||!ST(e)&&NT(e)&&jT(e)==_T}var PT=OT;const Ui=Dt(PT);var BS={exports:{}},Nt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var av=Symbol.for("react.element"),ov=Symbol.for("react.portal"),Fh=Symbol.for("react.fragment"),zh=Symbol.for("react.strict_mode"),Uh=Symbol.for("react.profiler"),Wh=Symbol.for("react.provider"),Gh=Symbol.for("react.context"),AT=Symbol.for("react.server_context"),Hh=Symbol.for("react.forward_ref"),Vh=Symbol.for("react.suspense"),Xh=Symbol.for("react.suspense_list"),Kh=Symbol.for("react.memo"),Yh=Symbol.for("react.lazy"),MT=Symbol.for("react.offscreen"),FS;FS=Symbol.for("react.module.reference");function va(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case av:switch(e=e.type,e){case Fh:case Uh:case zh:case Vh:case Xh:return e;default:switch(e=e&&e.$$typeof,e){case AT:case Gh:case Hh:case Yh:case Kh:case Wh:return e;default:return t}}case ov:return t}}}Nt.ContextConsumer=Gh;Nt.ContextProvider=Wh;Nt.Element=av;Nt.ForwardRef=Hh;Nt.Fragment=Fh;Nt.Lazy=Yh;Nt.Memo=Kh;Nt.Portal=ov;Nt.Profiler=Uh;Nt.StrictMode=zh;Nt.Suspense=Vh;Nt.SuspenseList=Xh;Nt.isAsyncMode=function(){return!1};Nt.isConcurrentMode=function(){return!1};Nt.isContextConsumer=function(e){return va(e)===Gh};Nt.isContextProvider=function(e){return va(e)===Wh};Nt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===av};Nt.isForwardRef=function(e){return va(e)===Hh};Nt.isFragment=function(e){return va(e)===Fh};Nt.isLazy=function(e){return va(e)===Yh};Nt.isMemo=function(e){return va(e)===Kh};Nt.isPortal=function(e){return va(e)===ov};Nt.isProfiler=function(e){return va(e)===Uh};Nt.isStrictMode=function(e){return va(e)===zh};Nt.isSuspense=function(e){return va(e)===Vh};Nt.isSuspenseList=function(e){return va(e)===Xh};Nt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Fh||e===Uh||e===zh||e===Vh||e===Xh||e===MT||typeof e=="object"&&e!==null&&(e.$$typeof===Yh||e.$$typeof===Kh||e.$$typeof===Wh||e.$$typeof===Gh||e.$$typeof===Hh||e.$$typeof===FS||e.getModuleId!==void 0)};Nt.typeOf=va;BS.exports=Nt;var CT=BS.exports,ET=jo,TT=So,$T="[object Number]";function DT(e){return typeof e=="number"||TT(e)&&ET(e)==$T}var zS=DT;const RT=Dt(zS);var LT=zS;function IT(e){return LT(e)&&e!=+e}var BT=IT;const kl=Dt(BT);var Ca=function(t){return t===0?0:t>0?1:-1},_i=function(t){return Ui(t)&&t.indexOf("%")===t.length-1},de=function(t){return RT(t)&&!kl(t)},FT=function(t){return Ie(t)},Dr=function(t){return de(t)||Ui(t)},zT=0,Qi=function(t){var r=++zT;return"".concat(t||"").concat(r)},Wi=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!de(t)&&!Ui(t))return n;var o;if(_i(t)){var i=t.indexOf("%");o=r*parseFloat(t.slice(0,i))/100}else o=+t;return kl(o)&&(o=n),a&&o>r&&(o=r),o},Lo=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},UT=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},br=function(t,r){return de(t)&&de(r)?function(n){return t+n*(r-t)}:function(){return r}};function pd(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):pa(n,t))===r})}var WT=function(t){if(!t||!t.length)return null;for(var r=t.length,n=0,a=0,o=0,i=0,s=1/0,l=-1/0,c=0,f=0,d=0;d<r;d++)c=t[d].cx||0,f=t[d].cy||0,n+=c,a+=f,o+=c*f,i+=c*c,s=Math.min(s,c),l=Math.max(l,c);var h=r*i!==n*n?(r*o-n*a)/(r*i-n*n):0;return{xmin:s,xmax:l,a:h,b:(a-h*n)/r}},GT=function(t,r){return de(t)&&de(r)?t-r:Ui(t)&&Ui(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Cs(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function _g(e){"@babel/helpers - typeof";return _g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_g(e)}var HT=["viewBox","children"],VT=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Nb=["points","pathLength"],J0={svg:HT,polygon:Nb,polyline:Nb},iv=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],gd=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(S.isValidElement(t)&&(n=t.props),!vl(n))return null;var a={};return Object.keys(n).forEach(function(o){iv.includes(o)&&(a[o]=r||function(i){return n[o](n,i)})}),a},XT=function(t,r,n){return function(a){return t(r,n,a),null}},Fc=function(t,r,n){if(!vl(t)||_g(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(o){var i=t[o];iv.includes(o)&&typeof i=="function"&&(a||(a={}),a[o]=XT(i,r,n))}),a},KT=["children"],YT=["children"];function _b(e,t){if(e==null)return{};var r=qT(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qT(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Og(e){"@babel/helpers - typeof";return Og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Og(e)}var Ob={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},uo=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},Pb=null,ep=null,sv=function e(t){if(t===Pb&&Array.isArray(ep))return ep;var r=[];return S.Children.forEach(t,function(n){Ie(n)||(CT.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),ep=r,Pb=t,r};function zn(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return uo(a)}):n=[uo(t)],sv(e).forEach(function(a){var o=pa(a,"type.displayName")||pa(a,"type.name");n.indexOf(o)!==-1&&r.push(a)}),r}function Yn(e,t){var r=zn(e,t);return r&&r[0]}var Ab=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!de(n)||n<=0||!de(a)||a<=0)},ZT=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],QT=function(t){return t&&t.type&&Ui(t.type)&&ZT.indexOf(t.type)>=0},US=function(t){return t&&Og(t)==="object"&&"clipDot"in t},JT=function(t,r,n,a){var o,i=(o=J0==null?void 0:J0[a])!==null&&o!==void 0?o:[];return r.startsWith("data-")||!We(t)&&(a&&i.includes(r)||VT.includes(r))||n&&iv.includes(r)},Fe=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(S.isValidElement(t)&&(a=t.props),!vl(a))return null;var o={};return Object.keys(a).forEach(function(i){var s;JT((s=a)===null||s===void 0?void 0:s[i],i,r,n)&&(o[i]=a[i])}),o},Pg=function e(t,r){if(t===r)return!0;var n=S.Children.count(t);if(n!==S.Children.count(r))return!1;if(n===0)return!0;if(n===1)return Mb(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var o=t[a],i=r[a];if(Array.isArray(o)||Array.isArray(i)){if(!e(o,i))return!1}else if(!Mb(o,i))return!1}return!0},Mb=function(t,r){if(Ie(t)&&Ie(r))return!0;if(!Ie(t)&&!Ie(r)){var n=t.props||{},a=n.children,o=_b(n,KT),i=r.props||{},s=i.children,l=_b(i,YT);return a&&s?Cs(o,l)&&Pg(a,s):!a&&!s?Cs(o,l):!1}return!1},Cb=function(t,r){var n=[],a={};return sv(t).forEach(function(o,i){if(QT(o))n.push(o);else if(o){var s=uo(o.type),l=r[s]||{},c=l.handler,f=l.once;if(c&&(!f||!a[s])){var d=c(o,s,i);n.push(d),a[s]=!0}}}),n},e$=function(t){var r=t&&t.type;return r&&Ob[r]?Ob[r]:null},t$=function(t,r){return sv(r).indexOf(t)},r$=["children","width","height","viewBox","className","style","title","desc"];function Ag(){return Ag=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ag.apply(this,arguments)}function n$(e,t){if(e==null)return{};var r=a$(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function a$(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Mg(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,o=e.className,i=e.style,s=e.title,l=e.desc,c=n$(e,r$),f=a||{width:r,height:n,x:0,y:0},d=it("recharts-surface",o);return R.createElement("svg",Ag({},Fe(c,!0,"svg"),{className:d,width:r,height:n,style:i,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),R.createElement("title",null,s),R.createElement("desc",null,l),t)}var o$=["children","className"];function Cg(){return Cg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cg.apply(this,arguments)}function i$(e,t){if(e==null)return{};var r=s$(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function s$(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var pt=R.forwardRef(function(e,t){var r=e.children,n=e.className,a=i$(e,o$),o=it("recharts-layer",n);return R.createElement("g",Cg({className:o},Fe(a,!0),{ref:t}),r)}),fo=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o]};function l$(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(a);++n<a;)o[n]=e[n+t];return o}var c$=l$,u$=c$;function f$(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:u$(e,t,r)}var d$=f$,h$="\\ud800-\\udfff",p$="\\u0300-\\u036f",g$="\\ufe20-\\ufe2f",m$="\\u20d0-\\u20ff",y$=p$+g$+m$,v$="\\ufe0e\\ufe0f",x$="\\u200d",b$=RegExp("["+x$+h$+y$+v$+"]");function w$(e){return b$.test(e)}var WS=w$;function k$(e){return e.split("")}var j$=k$,GS="\\ud800-\\udfff",S$="\\u0300-\\u036f",N$="\\ufe20-\\ufe2f",_$="\\u20d0-\\u20ff",O$=S$+N$+_$,P$="\\ufe0e\\ufe0f",A$="["+GS+"]",Eg="["+O$+"]",Tg="\\ud83c[\\udffb-\\udfff]",M$="(?:"+Eg+"|"+Tg+")",HS="[^"+GS+"]",VS="(?:\\ud83c[\\udde6-\\uddff]){2}",XS="[\\ud800-\\udbff][\\udc00-\\udfff]",C$="\\u200d",KS=M$+"?",YS="["+P$+"]?",E$="(?:"+C$+"(?:"+[HS,VS,XS].join("|")+")"+YS+KS+")*",T$=YS+KS+E$,$$="(?:"+[HS+Eg+"?",Eg,VS,XS,A$].join("|")+")",D$=RegExp(Tg+"(?="+Tg+")|"+$$+T$,"g");function R$(e){return e.match(D$)||[]}var L$=R$,I$=j$,B$=WS,F$=L$;function z$(e){return B$(e)?F$(e):I$(e)}var U$=z$,W$=d$,G$=WS,H$=U$,V$=RS;function X$(e){return function(t){t=V$(t);var r=G$(t)?H$(t):void 0,n=r?r[0]:t.charAt(0),a=r?W$(r,1).join(""):t.slice(1);return n[e]()+a}}var K$=X$,Y$=K$,q$=Y$("toUpperCase"),Z$=q$;const qh=Dt(Z$);function Ut(e){return function(){return e}}const qS=Math.cos,md=Math.sin,Ra=Math.sqrt,yd=Math.PI,Zh=2*yd,$g=Math.PI,Dg=2*$g,bi=1e-6,Q$=Dg-bi;function ZS(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function J$(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return ZS;const r=10**t;return function(n){this._+=n[0];for(let a=1,o=n.length;a<o;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class e4{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?ZS:J$(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,o,i){this._append`C${+t},${+r},${+n},${+a},${this._x1=+o},${this._y1=+i}`}arcTo(t,r,n,a,o){if(t=+t,r=+r,n=+n,a=+a,o=+o,o<0)throw new Error(`negative radius: ${o}`);let i=this._x1,s=this._y1,l=n-t,c=a-r,f=i-t,d=s-r,h=f*f+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>bi)if(!(Math.abs(d*l-c*f)>bi)||!o)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-i,m=a-s,v=l*l+c*c,b=p*p+m*m,y=Math.sqrt(v),g=Math.sqrt(h),x=o*Math.tan(($g-Math.acos((v+h-b)/(2*y*g)))/2),j=x/g,k=x/y;Math.abs(j-1)>bi&&this._append`L${t+j*f},${r+j*d}`,this._append`A${o},${o},0,0,${+(d*p>f*m)},${this._x1=t+k*l},${this._y1=r+k*c}`}}arc(t,r,n,a,o,i){if(t=+t,r=+r,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(a),l=n*Math.sin(a),c=t+s,f=r+l,d=1^i,h=i?a-o:o-a;this._x1===null?this._append`M${c},${f}`:(Math.abs(this._x1-c)>bi||Math.abs(this._y1-f)>bi)&&this._append`L${c},${f}`,n&&(h<0&&(h=h%Dg+Dg),h>Q$?this._append`A${n},${n},0,1,${d},${t-s},${r-l}A${n},${n},0,1,${d},${this._x1=c},${this._y1=f}`:h>bi&&this._append`A${n},${n},0,${+(h>=$g)},${d},${this._x1=t+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function lv(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new e4(t)}function cv(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function QS(e){this._context=e}QS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Qh(e){return new QS(e)}function JS(e){return e[0]}function eN(e){return e[1]}function tN(e,t){var r=Ut(!0),n=null,a=Qh,o=null,i=lv(s);e=typeof e=="function"?e:e===void 0?JS:Ut(e),t=typeof t=="function"?t:t===void 0?eN:Ut(t);function s(l){var c,f=(l=cv(l)).length,d,h=!1,p;for(n==null&&(o=a(p=i())),c=0;c<=f;++c)!(c<f&&r(d=l[c],c,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+e(d,c,l),+t(d,c,l));if(p)return o=null,p+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:Ut(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:Ut(+l),s):t},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Ut(!!l),s):r},s.curve=function(l){return arguments.length?(a=l,n!=null&&(o=a(n)),s):a},s.context=function(l){return arguments.length?(l==null?n=o=null:o=a(n=l),s):n},s}function gf(e,t,r){var n=null,a=Ut(!0),o=null,i=Qh,s=null,l=lv(c);e=typeof e=="function"?e:e===void 0?JS:Ut(+e),t=typeof t=="function"?t:Ut(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?eN:Ut(+r);function c(d){var h,p,m,v=(d=cv(d)).length,b,y=!1,g,x=new Array(v),j=new Array(v);for(o==null&&(s=i(g=l())),h=0;h<=v;++h){if(!(h<v&&a(b=d[h],h,d))===y)if(y=!y)p=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),m=h-1;m>=p;--m)s.point(x[m],j[m]);s.lineEnd(),s.areaEnd()}y&&(x[h]=+e(b,h,d),j[h]=+t(b,h,d),s.point(n?+n(b,h,d):x[h],r?+r(b,h,d):j[h]))}if(g)return s=null,g+""||null}function f(){return tN().defined(a).curve(i).context(o)}return c.x=function(d){return arguments.length?(e=typeof d=="function"?d:Ut(+d),n=null,c):e},c.x0=function(d){return arguments.length?(e=typeof d=="function"?d:Ut(+d),c):e},c.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Ut(+d),c):n},c.y=function(d){return arguments.length?(t=typeof d=="function"?d:Ut(+d),r=null,c):t},c.y0=function(d){return arguments.length?(t=typeof d=="function"?d:Ut(+d),c):t},c.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Ut(+d),c):r},c.lineX0=c.lineY0=function(){return f().x(e).y(t)},c.lineY1=function(){return f().x(e).y(r)},c.lineX1=function(){return f().x(n).y(t)},c.defined=function(d){return arguments.length?(a=typeof d=="function"?d:Ut(!!d),c):a},c.curve=function(d){return arguments.length?(i=d,o!=null&&(s=i(o)),c):i},c.context=function(d){return arguments.length?(d==null?o=s=null:s=i(o=d),c):o},c}class rN{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function t4(e){return new rN(e,!0)}function r4(e){return new rN(e,!1)}const uv={draw(e,t){const r=Ra(t/yd);e.moveTo(r,0),e.arc(0,0,r,0,Zh)}},n4={draw(e,t){const r=Ra(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},nN=Ra(1/3),a4=nN*2,o4={draw(e,t){const r=Ra(t/a4),n=r*nN;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},i4={draw(e,t){const r=Ra(t),n=-r/2;e.rect(n,n,r,r)}},s4=.8908130915292852,aN=md(yd/10)/md(7*yd/10),l4=md(Zh/10)*aN,c4=-qS(Zh/10)*aN,u4={draw(e,t){const r=Ra(t*s4),n=l4*r,a=c4*r;e.moveTo(0,-r),e.lineTo(n,a);for(let o=1;o<5;++o){const i=Zh*o/5,s=qS(i),l=md(i);e.lineTo(l*r,-s*r),e.lineTo(s*n-l*a,l*n+s*a)}e.closePath()}},tp=Ra(3),f4={draw(e,t){const r=-Ra(t/(tp*3));e.moveTo(0,r*2),e.lineTo(-tp*r,-r),e.lineTo(tp*r,-r),e.closePath()}},aa=-.5,oa=Ra(3)/2,Rg=1/Ra(12),d4=(Rg/2+1)*3,h4={draw(e,t){const r=Ra(t/d4),n=r/2,a=r*Rg,o=n,i=r*Rg+r,s=-o,l=i;e.moveTo(n,a),e.lineTo(o,i),e.lineTo(s,l),e.lineTo(aa*n-oa*a,oa*n+aa*a),e.lineTo(aa*o-oa*i,oa*o+aa*i),e.lineTo(aa*s-oa*l,oa*s+aa*l),e.lineTo(aa*n+oa*a,aa*a-oa*n),e.lineTo(aa*o+oa*i,aa*i-oa*o),e.lineTo(aa*s+oa*l,aa*l-oa*s),e.closePath()}};function p4(e,t){let r=null,n=lv(a);e=typeof e=="function"?e:Ut(e||uv),t=typeof t=="function"?t:Ut(t===void 0?64:+t);function a(){let o;if(r||(r=o=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),o)return r=null,o+""||null}return a.type=function(o){return arguments.length?(e=typeof o=="function"?o:Ut(o),a):e},a.size=function(o){return arguments.length?(t=typeof o=="function"?o:Ut(+o),a):t},a.context=function(o){return arguments.length?(r=o??null,a):r},a}function vd(){}function xd(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function oN(e){this._context=e}oN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:xd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:xd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function g4(e){return new oN(e)}function iN(e){this._context=e}iN.prototype={areaStart:vd,areaEnd:vd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:xd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function m4(e){return new iN(e)}function sN(e){this._context=e}sN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:xd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function y4(e){return new sN(e)}function lN(e){this._context=e}lN.prototype={areaStart:vd,areaEnd:vd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function v4(e){return new lN(e)}function Eb(e){return e<0?-1:1}function Tb(e,t,r){var n=e._x1-e._x0,a=t-e._x1,o=(e._y1-e._y0)/(n||a<0&&-0),i=(r-e._y1)/(a||n<0&&-0),s=(o*a+i*n)/(n+a);return(Eb(o)+Eb(i))*Math.min(Math.abs(o),Math.abs(i),.5*Math.abs(s))||0}function $b(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function rp(e,t,r){var n=e._x0,a=e._y0,o=e._x1,i=e._y1,s=(o-n)/3;e._context.bezierCurveTo(n+s,a+s*t,o-s,i-s*r,o,i)}function bd(e){this._context=e}bd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:rp(this,this._t0,$b(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,rp(this,$b(this,r=Tb(this,e,t)),r);break;default:rp(this,this._t0,r=Tb(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function cN(e){this._context=new uN(e)}(cN.prototype=Object.create(bd.prototype)).point=function(e,t){bd.prototype.point.call(this,t,e)};function uN(e){this._context=e}uN.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,o){this._context.bezierCurveTo(t,e,n,r,o,a)}};function x4(e){return new bd(e)}function b4(e){return new cN(e)}function fN(e){this._context=e}fN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Db(e),a=Db(t),o=0,i=1;i<r;++o,++i)this._context.bezierCurveTo(n[0][o],a[0][o],n[1][o],a[1][o],e[i],t[i]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Db(e){var t,r=e.length-1,n,a=new Array(r),o=new Array(r),i=new Array(r);for(a[0]=0,o[0]=2,i[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,o[t]=4,i[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,o[r-1]=7,i[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/o[t-1],o[t]-=n,i[t]-=n*i[t-1];for(a[r-1]=i[r-1]/o[r-1],t=r-2;t>=0;--t)a[t]=(i[t]-a[t+1])/o[t];for(o[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-a[t+1];return[a,o]}function w4(e){return new fN(e)}function Jh(e,t){this._context=e,this._t=t}Jh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function k4(e){return new Jh(e,.5)}function j4(e){return new Jh(e,0)}function S4(e){return new Jh(e,1)}function Us(e,t){if((i=e.length)>1)for(var r=1,n,a,o=e[t[0]],i,s=o.length;r<i;++r)for(a=o,o=e[t[r]],n=0;n<s;++n)o[n][1]+=o[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function Lg(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function N4(e,t){return e[t]}function _4(e){const t=[];return t.key=e,t}function O4(){var e=Ut([]),t=Lg,r=Us,n=N4;function a(o){var i=Array.from(e.apply(this,arguments),_4),s,l=i.length,c=-1,f;for(const d of o)for(s=0,++c;s<l;++s)(i[s][c]=[0,+n(d,i[s].key,c,o)]).data=d;for(s=0,f=cv(t(i));s<l;++s)i[f[s]].index=s;return r(i,f),i}return a.keys=function(o){return arguments.length?(e=typeof o=="function"?o:Ut(Array.from(o)),a):e},a.value=function(o){return arguments.length?(n=typeof o=="function"?o:Ut(+o),a):n},a.order=function(o){return arguments.length?(t=o==null?Lg:typeof o=="function"?o:Ut(Array.from(o)),a):t},a.offset=function(o){return arguments.length?(r=o??Us,a):r},a}function P4(e,t){if((n=e.length)>0){for(var r,n,a=0,o=e[0].length,i;a<o;++a){for(i=r=0;r<n;++r)i+=e[r][a][1]||0;if(i)for(r=0;r<n;++r)e[r][a][1]/=i}Us(e,t)}}function A4(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,o=n.length;r<o;++r){for(var i=0,s=0;i<a;++i)s+=e[i][r][1]||0;n[r][1]+=n[r][0]=-s/2}Us(e,t)}}function M4(e,t){if(!(!((i=e.length)>0)||!((o=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,o,i;n<o;++n){for(var s=0,l=0,c=0;s<i;++s){for(var f=e[t[s]],d=f[n][1]||0,h=f[n-1][1]||0,p=(d-h)/2,m=0;m<s;++m){var v=e[t[m]],b=v[n][1]||0,y=v[n-1][1]||0;p+=b-y}l+=d,c+=p*d}a[n-1][1]+=a[n-1][0]=r,l&&(r-=c/l)}a[n-1][1]+=a[n-1][0]=r,Us(e,t)}}function zc(e){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zc(e)}var C4=["type","size","sizeType"];function Ig(){return Ig=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ig.apply(this,arguments)}function Rb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rb(Object(r),!0).forEach(function(n){E4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function E4(e,t,r){return t=T4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T4(e){var t=$4(e,"string");return zc(t)=="symbol"?t:t+""}function $4(e,t){if(zc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function D4(e,t){if(e==null)return{};var r=R4(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function R4(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var dN={symbolCircle:uv,symbolCross:n4,symbolDiamond:o4,symbolSquare:i4,symbolStar:u4,symbolTriangle:f4,symbolWye:h4},L4=Math.PI/180,I4=function(t){var r="symbol".concat(qh(t));return dN[r]||uv},B4=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*L4;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},F4=function(t,r){dN["symbol".concat(qh(t))]=r},e0=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,o=a===void 0?64:a,i=t.sizeType,s=i===void 0?"area":i,l=D4(t,C4),c=Lb(Lb({},l),{},{type:n,size:o,sizeType:s}),f=function(){var b=I4(n),y=p4().type(b).size(B4(o,s,n));return y()},d=c.className,h=c.cx,p=c.cy,m=Fe(c,!0);return h===+h&&p===+p&&o===+o?R.createElement("path",Ig({},m,{className:it("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(p,")"),d:f()})):null};e0.registerSymbol=F4;function Ws(e){"@babel/helpers - typeof";return Ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ws(e)}function Bg(){return Bg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bg.apply(this,arguments)}function Ib(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function z4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ib(Object(r),!0).forEach(function(n){Uc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ib(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function U4(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pN(n.key),n)}}function G4(e,t,r){return t&&W4(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function H4(e,t,r){return t=wd(t),V4(e,hN()?Reflect.construct(t,r||[],wd(e).constructor):t.apply(e,r))}function V4(e,t){if(t&&(Ws(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X4(e)}function X4(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hN=function(){return!!e})()}function wd(e){return wd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wd(e)}function K4(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fg(e,t)}function Fg(e,t){return Fg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Fg(e,t)}function Uc(e,t,r){return t=pN(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pN(e){var t=Y4(e,"string");return Ws(t)=="symbol"?t:t+""}function Y4(e,t){if(Ws(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ws(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ia=32,fv=function(e){function t(){return U4(this,t),H4(this,t,arguments)}return K4(t,e),G4(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,o=ia/2,i=ia/6,s=ia/3,l=n.inactive?a:n.color;if(n.type==="plainline")return R.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:o,x2:ia,y2:o,className:"recharts-legend-icon"});if(n.type==="line")return R.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(ia,"M").concat(2*s,",").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(n.type==="rect")return R.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(ia/8,"h").concat(ia,"v").concat(ia*3/4,"h").concat(-ia,"z"),className:"recharts-legend-icon"});if(R.isValidElement(n.legendIcon)){var c=z4({},n);return delete c.legendIcon,R.cloneElement(n.legendIcon,c)}return R.createElement(e0,{fill:l,cx:o,cy:o,size:ia,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,o=a.payload,i=a.iconSize,s=a.layout,l=a.formatter,c=a.inactiveColor,f={x:0,y:0,width:ia,height:ia},d={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(p,m){var v=p.formatter||l,b=it(Uc(Uc({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",p.inactive));if(p.type==="none")return null;var y=We(p.value)?null:p.value;fo(!We(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var g=p.inactive?c:p.color;return R.createElement("li",Bg({className:b,style:d,key:"legend-item-".concat(m)},Fc(n.props,p,m)),R.createElement(Mg,{width:i,height:i,viewBox:f,style:h},n.renderIcon(p)),R.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},v?v(y,p,m):y))})}},{key:"render",value:function(){var n=this.props,a=n.payload,o=n.layout,i=n.align;if(!a||!a.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?i:"left"};return R.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(S.PureComponent);Uc(fv,"displayName","Legend");Uc(fv,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var q4=Lh;function Z4(){this.__data__=new q4,this.size=0}var Q4=Z4;function J4(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var e3=J4;function t3(e){return this.__data__.get(e)}var r3=t3;function n3(e){return this.__data__.has(e)}var a3=n3,o3=Lh,i3=Jy,s3=ev,l3=200;function c3(e,t){var r=this.__data__;if(r instanceof o3){var n=r.__data__;if(!i3||n.length<l3-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new s3(n)}return r.set(e,t),this.size=r.size,this}var u3=c3,f3=Lh,d3=Q4,h3=e3,p3=r3,g3=a3,m3=u3;function jl(e){var t=this.__data__=new f3(e);this.size=t.size}jl.prototype.clear=d3;jl.prototype.delete=h3;jl.prototype.get=p3;jl.prototype.has=g3;jl.prototype.set=m3;var gN=jl,y3="__lodash_hash_undefined__";function v3(e){return this.__data__.set(e,y3),this}var x3=v3;function b3(e){return this.__data__.has(e)}var w3=b3,k3=ev,j3=x3,S3=w3;function kd(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new k3;++t<r;)this.add(e[t])}kd.prototype.add=kd.prototype.push=j3;kd.prototype.has=S3;var mN=kd;function N3(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var yN=N3;function _3(e,t){return e.has(t)}var vN=_3,O3=mN,P3=yN,A3=vN,M3=1,C3=2;function E3(e,t,r,n,a,o){var i=r&M3,s=e.length,l=t.length;if(s!=l&&!(i&&l>s))return!1;var c=o.get(e),f=o.get(t);if(c&&f)return c==t&&f==e;var d=-1,h=!0,p=r&C3?new O3:void 0;for(o.set(e,t),o.set(t,e);++d<s;){var m=e[d],v=t[d];if(n)var b=i?n(v,m,d,t,e,o):n(m,v,d,e,t,o);if(b!==void 0){if(b)continue;h=!1;break}if(p){if(!P3(t,function(y,g){if(!A3(p,g)&&(m===y||a(m,y,r,n,o)))return p.push(g)})){h=!1;break}}else if(!(m===v||a(m,v,r,n,o))){h=!1;break}}return o.delete(e),o.delete(t),h}var xN=E3,T3=Za,$3=T3.Uint8Array,D3=$3;function R3(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var L3=R3;function I3(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var dv=I3,Bb=Pu,Fb=D3,B3=Qy,F3=xN,z3=L3,U3=dv,W3=1,G3=2,H3="[object Boolean]",V3="[object Date]",X3="[object Error]",K3="[object Map]",Y3="[object Number]",q3="[object RegExp]",Z3="[object Set]",Q3="[object String]",J3="[object Symbol]",eD="[object ArrayBuffer]",tD="[object DataView]",zb=Bb?Bb.prototype:void 0,np=zb?zb.valueOf:void 0;function rD(e,t,r,n,a,o,i){switch(r){case tD:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case eD:return!(e.byteLength!=t.byteLength||!o(new Fb(e),new Fb(t)));case H3:case V3:case Y3:return B3(+e,+t);case X3:return e.name==t.name&&e.message==t.message;case q3:case Q3:return e==t+"";case K3:var s=z3;case Z3:var l=n&W3;if(s||(s=U3),e.size!=t.size&&!l)return!1;var c=i.get(e);if(c)return c==t;n|=G3,i.set(e,t);var f=F3(s(e),s(t),n,a,o,i);return i.delete(e),f;case J3:if(np)return np.call(e)==np.call(t)}return!1}var nD=rD;function aD(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var bN=aD,oD=bN,iD=Gn;function sD(e,t,r){var n=t(e);return iD(e)?n:oD(n,r(e))}var lD=sD;function cD(e,t){for(var r=-1,n=e==null?0:e.length,a=0,o=[];++r<n;){var i=e[r];t(i,r,e)&&(o[a++]=i)}return o}var uD=cD;function fD(){return[]}var dD=fD,hD=uD,pD=dD,gD=Object.prototype,mD=gD.propertyIsEnumerable,Ub=Object.getOwnPropertySymbols,yD=Ub?function(e){return e==null?[]:(e=Object(e),hD(Ub(e),function(t){return mD.call(e,t)}))}:pD,vD=yD;function xD(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var bD=xD,wD=jo,kD=So,jD="[object Arguments]";function SD(e){return kD(e)&&wD(e)==jD}var ND=SD,Wb=ND,_D=So,wN=Object.prototype,OD=wN.hasOwnProperty,PD=wN.propertyIsEnumerable,AD=Wb(function(){return arguments}())?Wb:function(e){return _D(e)&&OD.call(e,"callee")&&!PD.call(e,"callee")},hv=AD,jd={exports:{}};function MD(){return!1}var CD=MD;jd.exports;(function(e,t){var r=Za,n=CD,a=t&&!t.nodeType&&t,o=a&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===a,s=i?r.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||n;e.exports=c})(jd,jd.exports);var kN=jd.exports,ED=9007199254740991,TD=/^(?:0|[1-9]\d*)$/;function $D(e,t){var r=typeof e;return t=t??ED,!!t&&(r=="number"||r!="symbol"&&TD.test(e))&&e>-1&&e%1==0&&e<t}var pv=$D,DD=9007199254740991;function RD(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=DD}var gv=RD,LD=jo,ID=gv,BD=So,FD="[object Arguments]",zD="[object Array]",UD="[object Boolean]",WD="[object Date]",GD="[object Error]",HD="[object Function]",VD="[object Map]",XD="[object Number]",KD="[object Object]",YD="[object RegExp]",qD="[object Set]",ZD="[object String]",QD="[object WeakMap]",JD="[object ArrayBuffer]",eR="[object DataView]",tR="[object Float32Array]",rR="[object Float64Array]",nR="[object Int8Array]",aR="[object Int16Array]",oR="[object Int32Array]",iR="[object Uint8Array]",sR="[object Uint8ClampedArray]",lR="[object Uint16Array]",cR="[object Uint32Array]",Yt={};Yt[tR]=Yt[rR]=Yt[nR]=Yt[aR]=Yt[oR]=Yt[iR]=Yt[sR]=Yt[lR]=Yt[cR]=!0;Yt[FD]=Yt[zD]=Yt[JD]=Yt[UD]=Yt[eR]=Yt[WD]=Yt[GD]=Yt[HD]=Yt[VD]=Yt[XD]=Yt[KD]=Yt[YD]=Yt[qD]=Yt[ZD]=Yt[QD]=!1;function uR(e){return BD(e)&&ID(e.length)&&!!Yt[LD(e)]}var fR=uR;function dR(e){return function(t){return e(t)}}var jN=dR,Sd={exports:{}};Sd.exports;(function(e,t){var r=MS,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===n,i=o&&r.process,s=function(){try{var l=a&&a.require&&a.require("util").types;return l||i&&i.binding&&i.binding("util")}catch{}}();e.exports=s})(Sd,Sd.exports);var hR=Sd.exports,pR=fR,gR=jN,Gb=hR,Hb=Gb&&Gb.isTypedArray,mR=Hb?gR(Hb):pR,SN=mR,yR=bD,vR=hv,xR=Gn,bR=kN,wR=pv,kR=SN,jR=Object.prototype,SR=jR.hasOwnProperty;function NR(e,t){var r=xR(e),n=!r&&vR(e),a=!r&&!n&&bR(e),o=!r&&!n&&!a&&kR(e),i=r||n||a||o,s=i?yR(e.length,String):[],l=s.length;for(var c in e)(t||SR.call(e,c))&&!(i&&(c=="length"||a&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||wR(c,l)))&&s.push(c);return s}var _R=NR,OR=Object.prototype;function PR(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||OR;return e===r}var AR=PR;function MR(e,t){return function(r){return e(t(r))}}var NN=MR,CR=NN,ER=CR(Object.keys,Object),TR=ER,$R=AR,DR=TR,RR=Object.prototype,LR=RR.hasOwnProperty;function IR(e){if(!$R(e))return DR(e);var t=[];for(var r in Object(e))LR.call(e,r)&&r!="constructor"&&t.push(r);return t}var BR=IR,FR=Zy,zR=gv;function UR(e){return e!=null&&zR(e.length)&&!FR(e)}var Au=UR,WR=_R,GR=BR,HR=Au;function VR(e){return HR(e)?WR(e):GR(e)}var t0=VR,XR=lD,KR=vD,YR=t0;function qR(e){return XR(e,YR,KR)}var ZR=qR,Vb=ZR,QR=1,JR=Object.prototype,eL=JR.hasOwnProperty;function tL(e,t,r,n,a,o){var i=r&QR,s=Vb(e),l=s.length,c=Vb(t),f=c.length;if(l!=f&&!i)return!1;for(var d=l;d--;){var h=s[d];if(!(i?h in t:eL.call(t,h)))return!1}var p=o.get(e),m=o.get(t);if(p&&m)return p==t&&m==e;var v=!0;o.set(e,t),o.set(t,e);for(var b=i;++d<l;){h=s[d];var y=e[h],g=t[h];if(n)var x=i?n(g,y,h,t,e,o):n(y,g,h,e,t,o);if(!(x===void 0?y===g||a(y,g,r,n,o):x)){v=!1;break}b||(b=h=="constructor")}if(v&&!b){var j=e.constructor,k=t.constructor;j!=k&&"constructor"in e&&"constructor"in t&&!(typeof j=="function"&&j instanceof j&&typeof k=="function"&&k instanceof k)&&(v=!1)}return o.delete(e),o.delete(t),v}var rL=tL,nL=Zi,aL=Za,oL=nL(aL,"DataView"),iL=oL,sL=Zi,lL=Za,cL=sL(lL,"Promise"),uL=cL,fL=Zi,dL=Za,hL=fL(dL,"Set"),_N=hL,pL=Zi,gL=Za,mL=pL(gL,"WeakMap"),yL=mL,zg=iL,Ug=Jy,Wg=uL,Gg=_N,Hg=yL,ON=jo,Sl=ES,Xb="[object Map]",vL="[object Object]",Kb="[object Promise]",Yb="[object Set]",qb="[object WeakMap]",Zb="[object DataView]",xL=Sl(zg),bL=Sl(Ug),wL=Sl(Wg),kL=Sl(Gg),jL=Sl(Hg),wi=ON;(zg&&wi(new zg(new ArrayBuffer(1)))!=Zb||Ug&&wi(new Ug)!=Xb||Wg&&wi(Wg.resolve())!=Kb||Gg&&wi(new Gg)!=Yb||Hg&&wi(new Hg)!=qb)&&(wi=function(e){var t=ON(e),r=t==vL?e.constructor:void 0,n=r?Sl(r):"";if(n)switch(n){case xL:return Zb;case bL:return Xb;case wL:return Kb;case kL:return Yb;case jL:return qb}return t});var SL=wi,ap=gN,NL=xN,_L=nD,OL=rL,Qb=SL,Jb=Gn,e1=kN,PL=SN,AL=1,t1="[object Arguments]",r1="[object Array]",mf="[object Object]",ML=Object.prototype,n1=ML.hasOwnProperty;function CL(e,t,r,n,a,o){var i=Jb(e),s=Jb(t),l=i?r1:Qb(e),c=s?r1:Qb(t);l=l==t1?mf:l,c=c==t1?mf:c;var f=l==mf,d=c==mf,h=l==c;if(h&&e1(e)){if(!e1(t))return!1;i=!0,f=!1}if(h&&!f)return o||(o=new ap),i||PL(e)?NL(e,t,r,n,a,o):_L(e,t,l,r,n,a,o);if(!(r&AL)){var p=f&&n1.call(e,"__wrapped__"),m=d&&n1.call(t,"__wrapped__");if(p||m){var v=p?e.value():e,b=m?t.value():t;return o||(o=new ap),a(v,b,r,n,o)}}return h?(o||(o=new ap),OL(e,t,r,n,a,o)):!1}var EL=CL,TL=EL,a1=So;function PN(e,t,r,n,a){return e===t?!0:e==null||t==null||!a1(e)&&!a1(t)?e!==e&&t!==t:TL(e,t,r,n,PN,a)}var mv=PN,$L=gN,DL=mv,RL=1,LL=2;function IL(e,t,r,n){var a=r.length,o=a,i=!n;if(e==null)return!o;for(e=Object(e);a--;){var s=r[a];if(i&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<o;){s=r[a];var l=s[0],c=e[l],f=s[1];if(i&&s[2]){if(c===void 0&&!(l in e))return!1}else{var d=new $L;if(n)var h=n(c,f,l,e,t,d);if(!(h===void 0?DL(f,c,RL|LL,n,d):h))return!1}}return!0}var BL=IL,FL=ai;function zL(e){return e===e&&!FL(e)}var AN=zL,UL=AN,WL=t0;function GL(e){for(var t=WL(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,UL(a)]}return t}var HL=GL;function VL(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var MN=VL,XL=BL,KL=HL,YL=MN;function qL(e){var t=KL(e);return t.length==1&&t[0][2]?YL(t[0][0],t[0][1]):function(r){return r===e||XL(r,e,t)}}var ZL=qL;function QL(e,t){return e!=null&&t in Object(e)}var JL=QL,eI=LS,tI=hv,rI=Gn,nI=pv,aI=gv,oI=Bh;function iI(e,t,r){t=eI(t,e);for(var n=-1,a=t.length,o=!1;++n<a;){var i=oI(t[n]);if(!(o=e!=null&&r(e,i)))break;e=e[i]}return o||++n!=a?o:(a=e==null?0:e.length,!!a&&aI(a)&&nI(i,a)&&(rI(e)||tI(e)))}var sI=iI,lI=JL,cI=sI;function uI(e,t){return e!=null&&cI(e,t,lI)}var fI=uI,dI=mv,hI=IS,pI=fI,gI=qy,mI=AN,yI=MN,vI=Bh,xI=1,bI=2;function wI(e,t){return gI(e)&&mI(t)?yI(vI(e),t):function(r){var n=hI(r,e);return n===void 0&&n===t?pI(r,e):dI(t,n,xI|bI)}}var kI=wI;function jI(e){return e}var Nl=jI;function SI(e){return function(t){return t==null?void 0:t[e]}}var NI=SI,_I=nv;function OI(e){return function(t){return _I(t,e)}}var PI=OI,AI=NI,MI=PI,CI=qy,EI=Bh;function TI(e){return CI(e)?AI(EI(e)):MI(e)}var $I=TI,DI=ZL,RI=kI,LI=Nl,II=Gn,BI=$I;function FI(e){return typeof e=="function"?e:e==null?LI:typeof e=="object"?II(e)?RI(e[0],e[1]):DI(e):BI(e)}var oi=FI;function zI(e,t,r,n){for(var a=e.length,o=r+(n?1:-1);n?o--:++o<a;)if(t(e[o],o,e))return o;return-1}var CN=zI;function UI(e){return e!==e}var WI=UI;function GI(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var HI=GI,VI=CN,XI=WI,KI=HI;function YI(e,t,r){return t===t?KI(e,t,r):VI(e,XI,r)}var qI=YI,ZI=qI;function QI(e,t){var r=e==null?0:e.length;return!!r&&ZI(e,t,0)>-1}var JI=QI;function e6(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var t6=e6;function r6(){}var n6=r6,op=_N,a6=n6,o6=dv,i6=1/0,s6=op&&1/o6(new op([,-0]))[1]==i6?function(e){return new op(e)}:a6,l6=s6,c6=mN,u6=JI,f6=t6,d6=vN,h6=l6,p6=dv,g6=200;function m6(e,t,r){var n=-1,a=u6,o=e.length,i=!0,s=[],l=s;if(r)i=!1,a=f6;else if(o>=g6){var c=t?null:h6(e);if(c)return p6(c);i=!1,a=d6,l=new c6}else l=t?[]:s;e:for(;++n<o;){var f=e[n],d=t?t(f):f;if(f=r||f!==0?f:0,i&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;t&&l.push(d),s.push(f)}else a(l,d,r)||(l!==s&&l.push(d),s.push(f))}return s}var y6=m6,v6=oi,x6=y6;function b6(e,t){return e&&e.length?x6(e,v6(t)):[]}var w6=b6;const o1=Dt(w6);function EN(e,t,r){return t===!0?o1(e,r):We(t)?o1(e,t):e}function Gs(e){"@babel/helpers - typeof";return Gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gs(e)}var k6=["ref"];function i1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function to(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i1(Object(r),!0).forEach(function(n){r0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function j6(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s1(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$N(n.key),n)}}function S6(e,t,r){return t&&s1(e.prototype,t),r&&s1(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function N6(e,t,r){return t=Nd(t),_6(e,TN()?Reflect.construct(t,r||[],Nd(e).constructor):t.apply(e,r))}function _6(e,t){if(t&&(Gs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O6(e)}function O6(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TN=function(){return!!e})()}function Nd(e){return Nd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nd(e)}function P6(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vg(e,t)}function Vg(e,t){return Vg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Vg(e,t)}function r0(e,t,r){return t=$N(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $N(e){var t=A6(e,"string");return Gs(t)=="symbol"?t:t+""}function A6(e,t){if(Gs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function M6(e,t){if(e==null)return{};var r=C6(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function C6(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function E6(e){return e.value}function T6(e,t){if(R.isValidElement(e))return R.cloneElement(e,t);if(typeof e=="function")return R.createElement(e,t);t.ref;var r=M6(t,k6);return R.createElement(fv,r)}var l1=1,Ga=function(e){function t(){var r;j6(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=N6(this,t,[].concat(a)),r0(r,"lastBoundingBox",{width:-1,height:-1}),r}return P6(t,e),S6(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>l1||Math.abs(a.height-this.lastBoundingBox.height)>l1)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?to({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,o=a.layout,i=a.align,s=a.verticalAlign,l=a.margin,c=a.chartWidth,f=a.chartHeight,d,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(i==="center"&&o==="vertical"){var p=this.getBBoxSnapshot();d={left:((c||0)-p.width)/2}}else d=i==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(s==="middle"){var m=this.getBBoxSnapshot();h={top:((f||0)-m.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return to(to({},d),h)}},{key:"render",value:function(){var n=this,a=this.props,o=a.content,i=a.width,s=a.height,l=a.wrapperStyle,c=a.payloadUniqBy,f=a.payload,d=to(to({position:"absolute",width:i||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return R.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(p){n.wrapperNode=p}},T6(o,to(to({},this.props),{},{payload:EN(f,c,E6)})))}}],[{key:"getWithHeight",value:function(n,a){var o=to(to({},this.defaultProps),n.props),i=o.layout;return i==="vertical"&&de(n.props.height)?{height:n.props.height}:i==="horizontal"?{width:n.props.width||a}:null}}])}(S.PureComponent);r0(Ga,"displayName","Legend");r0(Ga,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var c1=Pu,$6=hv,D6=Gn,u1=c1?c1.isConcatSpreadable:void 0;function R6(e){return D6(e)||$6(e)||!!(u1&&e&&e[u1])}var L6=R6,I6=bN,B6=L6;function DN(e,t,r,n,a){var o=-1,i=e.length;for(r||(r=B6),a||(a=[]);++o<i;){var s=e[o];t>0&&r(s)?t>1?DN(s,t-1,r,n,a):I6(a,s):n||(a[a.length]=s)}return a}var RN=DN;function F6(e){return function(t,r,n){for(var a=-1,o=Object(t),i=n(t),s=i.length;s--;){var l=i[e?s:++a];if(r(o[l],l,o)===!1)break}return t}}var z6=F6,U6=z6,W6=U6(),G6=W6,H6=G6,V6=t0;function X6(e,t){return e&&H6(e,t,V6)}var LN=X6,K6=Au;function Y6(e,t){return function(r,n){if(r==null)return r;if(!K6(r))return e(r,n);for(var a=r.length,o=t?a:-1,i=Object(r);(t?o--:++o<a)&&n(i[o],o,i)!==!1;);return r}}var q6=Y6,Z6=LN,Q6=q6,J6=Q6(Z6),yv=J6,eB=yv,tB=Au;function rB(e,t){var r=-1,n=tB(e)?Array(e.length):[];return eB(e,function(a,o,i){n[++r]=t(a,o,i)}),n}var IN=rB;function nB(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var aB=nB,f1=yl;function oB(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,o=f1(e),i=t!==void 0,s=t===null,l=t===t,c=f1(t);if(!s&&!c&&!o&&e>t||o&&i&&l&&!s&&!c||n&&i&&l||!r&&l||!a)return 1;if(!n&&!o&&!c&&e<t||c&&r&&a&&!n&&!o||s&&r&&a||!i&&a||!l)return-1}return 0}var iB=oB,sB=iB;function lB(e,t,r){for(var n=-1,a=e.criteria,o=t.criteria,i=a.length,s=r.length;++n<i;){var l=sB(a[n],o[n]);if(l){if(n>=s)return l;var c=r[n];return l*(c=="desc"?-1:1)}}return e.index-t.index}var cB=lB,ip=rv,uB=nv,fB=oi,dB=IN,hB=aB,pB=jN,gB=cB,mB=Nl,yB=Gn;function vB(e,t,r){t.length?t=ip(t,function(o){return yB(o)?function(i){return uB(i,o.length===1?o[0]:o)}:o}):t=[mB];var n=-1;t=ip(t,pB(fB));var a=dB(e,function(o,i,s){var l=ip(t,function(c){return c(o)});return{criteria:l,index:++n,value:o}});return hB(a,function(o,i){return gB(o,i,r)})}var xB=vB;function bB(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var wB=bB,kB=wB,d1=Math.max;function jB(e,t,r){return t=d1(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,o=d1(n.length-t,0),i=Array(o);++a<o;)i[a]=n[t+a];a=-1;for(var s=Array(t+1);++a<t;)s[a]=n[a];return s[t]=r(i),kB(e,this,s)}}var SB=jB;function NB(e){return function(){return e}}var _B=NB,OB=Zi,PB=function(){try{var e=OB(Object,"defineProperty");return e({},"",{}),e}catch{}}(),BN=PB,AB=_B,h1=BN,MB=Nl,CB=h1?function(e,t){return h1(e,"toString",{configurable:!0,enumerable:!1,value:AB(t),writable:!0})}:MB,EB=CB,TB=800,$B=16,DB=Date.now;function RB(e){var t=0,r=0;return function(){var n=DB(),a=$B-(n-r);if(r=n,a>0){if(++t>=TB)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var LB=RB,IB=EB,BB=LB,FB=BB(IB),zB=FB,UB=Nl,WB=SB,GB=zB;function HB(e,t){return GB(WB(e,t,UB),e+"")}var VB=HB,XB=Qy,KB=Au,YB=pv,qB=ai;function ZB(e,t,r){if(!qB(r))return!1;var n=typeof t;return(n=="number"?KB(r)&&YB(t,r.length):n=="string"&&t in r)?XB(r[t],e):!1}var n0=ZB,QB=RN,JB=xB,e8=VB,p1=n0,t8=e8(function(e,t){if(e==null)return[];var r=t.length;return r>1&&p1(e,t[0],t[1])?t=[]:r>2&&p1(t[0],t[1],t[2])&&(t=[t[0]]),JB(e,QB(t,1),[])}),r8=t8;const vv=Dt(r8);function Wc(e){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wc(e)}function Xg(){return Xg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xg.apply(this,arguments)}function n8(e,t){return s8(e)||i8(e,t)||o8(e,t)||a8()}function a8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o8(e,t){if(e){if(typeof e=="string")return g1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g1(e,t)}}function g1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i8(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function s8(e){if(Array.isArray(e))return e}function m1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m1(Object(r),!0).forEach(function(n){l8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function l8(e,t,r){return t=c8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c8(e){var t=u8(e,"string");return Wc(t)=="symbol"?t:t+""}function u8(e,t){if(Wc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function f8(e){return Array.isArray(e)&&Dr(e[0])&&Dr(e[1])?e.join(" ~ "):e}var d8=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,o=a===void 0?{}:a,i=t.itemStyle,s=i===void 0?{}:i,l=t.labelStyle,c=l===void 0?{}:l,f=t.payload,d=t.formatter,h=t.itemSorter,p=t.wrapperClassName,m=t.labelClassName,v=t.label,b=t.labelFormatter,y=t.accessibilityLayer,g=y===void 0?!1:y,x=function(){if(f&&f.length){var C={padding:0,margin:0},$=(h?vv(f,h):f).map(function(F,T){if(F.type==="none")return null;var W=sp({display:"block",paddingTop:4,paddingBottom:4,color:F.color||"#000"},s),P=F.formatter||d||f8,E=F.value,L=F.name,z=E,Z=L;if(P&&z!=null&&Z!=null){var q=P(E,L,F,T,f);if(Array.isArray(q)){var H=n8(q,2);z=H[0],Z=H[1]}else z=q}return R.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(T),style:W},Dr(Z)?R.createElement("span",{className:"recharts-tooltip-item-name"},Z):null,Dr(Z)?R.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,R.createElement("span",{className:"recharts-tooltip-item-value"},z),R.createElement("span",{className:"recharts-tooltip-item-unit"},F.unit||""))});return R.createElement("ul",{className:"recharts-tooltip-item-list",style:C},$)}return null},j=sp({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),k=sp({margin:0},c),w=!Ie(v),N=w?v:"",_=it("recharts-default-tooltip",p),O=it("recharts-tooltip-label",m);w&&b&&f!==void 0&&f!==null&&(N=b(v,f));var A=g?{role:"status","aria-live":"assertive"}:{};return R.createElement("div",Xg({className:_,style:j},A),R.createElement("p",{className:O,style:k},R.isValidElement(N)?N:"".concat(N)),x())};function Gc(e){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gc(e)}function yf(e,t,r){return t=h8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h8(e){var t=p8(e,"string");return Gc(t)=="symbol"?t:t+""}function p8(e,t){if(Gc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vl="recharts-tooltip-wrapper",g8={visibility:"hidden"};function m8(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return it(Vl,yf(yf(yf(yf({},"".concat(Vl,"-right"),de(r)&&t&&de(t.x)&&r>=t.x),"".concat(Vl,"-left"),de(r)&&t&&de(t.x)&&r<t.x),"".concat(Vl,"-bottom"),de(n)&&t&&de(t.y)&&n>=t.y),"".concat(Vl,"-top"),de(n)&&t&&de(t.y)&&n<t.y))}function y1(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,o=e.position,i=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(o&&de(o[n]))return o[n];var f=r[n]-s-a,d=r[n]+a;if(t[n])return i[n]?f:d;if(i[n]){var h=f,p=l[n];return h<p?Math.max(d,l[n]):Math.max(f,l[n])}var m=d+s,v=l[n]+c;return m>v?Math.max(f,l[n]):Math.max(d,l[n])}function y8(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function v8(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,o=e.reverseDirection,i=e.tooltipBox,s=e.useTranslate3d,l=e.viewBox,c,f,d;return i.height>0&&i.width>0&&r?(f=y1({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:o,tooltipDimension:i.width,viewBox:l,viewBoxDimension:l.width}),d=y1({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:o,tooltipDimension:i.height,viewBox:l,viewBoxDimension:l.height}),c=y8({translateX:f,translateY:d,useTranslate3d:s})):c=g8,{cssProperties:c,cssClasses:m8({translateX:f,translateY:d,coordinate:r})}}function Hs(e){"@babel/helpers - typeof";return Hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hs(e)}function v1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function x1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v1(Object(r),!0).forEach(function(n){Yg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function x8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b8(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zN(n.key),n)}}function w8(e,t,r){return t&&b8(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function k8(e,t,r){return t=_d(t),j8(e,FN()?Reflect.construct(t,r||[],_d(e).constructor):t.apply(e,r))}function j8(e,t){if(t&&(Hs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S8(e)}function S8(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FN=function(){return!!e})()}function _d(e){return _d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_d(e)}function N8(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kg(e,t)}function Kg(e,t){return Kg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Kg(e,t)}function Yg(e,t,r){return t=zN(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zN(e){var t=_8(e,"string");return Hs(t)=="symbol"?t:t+""}function _8(e,t){if(Hs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var b1=1,O8=function(e){function t(){var r;x8(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=k8(this,t,[].concat(a)),Yg(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Yg(r,"handleKeyDown",function(i){if(i.key==="Escape"){var s,l,c,f;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(c=(f=r.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&c!==void 0?c:0}})}}),r}return N8(t,e),w8(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>b1||Math.abs(n.height-this.state.lastBoundingBox.height)>b1)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,o=a.active,i=a.allowEscapeViewBox,s=a.animationDuration,l=a.animationEasing,c=a.children,f=a.coordinate,d=a.hasPayload,h=a.isAnimationActive,p=a.offset,m=a.position,v=a.reverseDirection,b=a.useTranslate3d,y=a.viewBox,g=a.wrapperStyle,x=v8({allowEscapeViewBox:i,coordinate:f,offsetTopLeft:p,position:m,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:y}),j=x.cssClasses,k=x.cssProperties,w=x1(x1({transition:h&&o?"transform ".concat(s,"ms ").concat(l):void 0},k),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&d?"visible":"hidden",position:"absolute",top:0,left:0},g);return R.createElement("div",{tabIndex:-1,className:j,style:w,ref:function(_){n.wrapperNode=_}},c)}}])}(S.PureComponent),P8=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ii={isSsr:P8()};function Vs(e){"@babel/helpers - typeof";return Vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vs(e)}function w1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function k1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w1(Object(r),!0).forEach(function(n){xv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function A8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M8(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,WN(n.key),n)}}function C8(e,t,r){return t&&M8(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function E8(e,t,r){return t=Od(t),T8(e,UN()?Reflect.construct(t,r||[],Od(e).constructor):t.apply(e,r))}function T8(e,t){if(t&&(Vs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $8(e)}function $8(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UN=function(){return!!e})()}function Od(e){return Od=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Od(e)}function D8(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qg(e,t)}function qg(e,t){return qg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},qg(e,t)}function xv(e,t,r){return t=WN(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WN(e){var t=R8(e,"string");return Vs(t)=="symbol"?t:t+""}function R8(e,t){if(Vs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function L8(e){return e.dataKey}function I8(e,t){return R.isValidElement(e)?R.cloneElement(e,t):typeof e=="function"?R.createElement(e,t):R.createElement(d8,t)}var Ur=function(e){function t(){return A8(this,t),E8(this,t,arguments)}return D8(t,e),C8(t,[{key:"render",value:function(){var n=this,a=this.props,o=a.active,i=a.allowEscapeViewBox,s=a.animationDuration,l=a.animationEasing,c=a.content,f=a.coordinate,d=a.filterNull,h=a.isAnimationActive,p=a.offset,m=a.payload,v=a.payloadUniqBy,b=a.position,y=a.reverseDirection,g=a.useTranslate3d,x=a.viewBox,j=a.wrapperStyle,k=m??[];d&&k.length&&(k=EN(m.filter(function(N){return N.value!=null&&(N.hide!==!0||n.props.includeHidden)}),v,L8));var w=k.length>0;return R.createElement(O8,{allowEscapeViewBox:i,animationDuration:s,animationEasing:l,isAnimationActive:h,active:o,coordinate:f,hasPayload:w,offset:p,position:b,reverseDirection:y,useTranslate3d:g,viewBox:x,wrapperStyle:j},I8(c,k1(k1({},this.props),{},{payload:k})))}}])}(S.PureComponent);xv(Ur,"displayName","Tooltip");xv(Ur,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ii.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var B8=Za,F8=function(){return B8.Date.now()},z8=F8,U8=/\s/;function W8(e){for(var t=e.length;t--&&U8.test(e.charAt(t)););return t}var G8=W8,H8=G8,V8=/^\s+/;function X8(e){return e&&e.slice(0,H8(e)+1).replace(V8,"")}var K8=X8,Y8=K8,j1=ai,q8=yl,S1=NaN,Z8=/^[-+]0x[0-9a-f]+$/i,Q8=/^0b[01]+$/i,J8=/^0o[0-7]+$/i,eF=parseInt;function tF(e){if(typeof e=="number")return e;if(q8(e))return S1;if(j1(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=j1(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Y8(e);var r=Q8.test(e);return r||J8.test(e)?eF(e.slice(2),r?2:8):Z8.test(e)?S1:+e}var GN=tF,rF=ai,lp=z8,N1=GN,nF="Expected a function",aF=Math.max,oF=Math.min;function iF(e,t,r){var n,a,o,i,s,l,c=0,f=!1,d=!1,h=!0;if(typeof e!="function")throw new TypeError(nF);t=N1(t)||0,rF(r)&&(f=!!r.leading,d="maxWait"in r,o=d?aF(N1(r.maxWait)||0,t):o,h="trailing"in r?!!r.trailing:h);function p(w){var N=n,_=a;return n=a=void 0,c=w,i=e.apply(_,N),i}function m(w){return c=w,s=setTimeout(y,t),f?p(w):i}function v(w){var N=w-l,_=w-c,O=t-N;return d?oF(O,o-_):O}function b(w){var N=w-l,_=w-c;return l===void 0||N>=t||N<0||d&&_>=o}function y(){var w=lp();if(b(w))return g(w);s=setTimeout(y,v(w))}function g(w){return s=void 0,h&&n?p(w):(n=a=void 0,i)}function x(){s!==void 0&&clearTimeout(s),c=0,n=l=a=s=void 0}function j(){return s===void 0?i:g(lp())}function k(){var w=lp(),N=b(w);if(n=arguments,a=this,l=w,N){if(s===void 0)return m(l);if(d)return clearTimeout(s),s=setTimeout(y,t),p(l)}return s===void 0&&(s=setTimeout(y,t)),i}return k.cancel=x,k.flush=j,k}var sF=iF,lF=sF,cF=ai,uF="Expected a function";function fF(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(uF);return cF(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),lF(e,t,{leading:n,maxWait:t,trailing:a})}var dF=fF;const HN=Dt(dF);function Hc(e){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hc(e)}function _1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_1(Object(r),!0).forEach(function(n){hF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hF(e,t,r){return t=pF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pF(e){var t=gF(e,"string");return Hc(t)=="symbol"?t:t+""}function gF(e,t){if(Hc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mF(e,t){return bF(e)||xF(e,t)||vF(e,t)||yF()}function yF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vF(e,t){if(e){if(typeof e=="string")return O1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O1(e,t)}}function O1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xF(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function bF(e){if(Array.isArray(e))return e}var ho=S.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,o=e.width,i=o===void 0?"100%":o,s=e.height,l=s===void 0?"100%":s,c=e.minWidth,f=c===void 0?0:c,d=e.minHeight,h=e.maxHeight,p=e.children,m=e.debounce,v=m===void 0?0:m,b=e.id,y=e.className,g=e.onResize,x=e.style,j=x===void 0?{}:x,k=S.useRef(null),w=S.useRef();w.current=g,S.useImperativeHandle(t,function(){return Object.defineProperty(k.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),k.current},configurable:!0})});var N=S.useState({containerWidth:a.width,containerHeight:a.height}),_=mF(N,2),O=_[0],A=_[1],M=S.useCallback(function($,F){A(function(T){var W=Math.round($),P=Math.round(F);return T.containerWidth===W&&T.containerHeight===P?T:{containerWidth:W,containerHeight:P}})},[]);S.useEffect(function(){var $=function(L){var z,Z=L[0].contentRect,q=Z.width,H=Z.height;M(q,H),(z=w.current)===null||z===void 0||z.call(w,q,H)};v>0&&($=HN($,v,{trailing:!0,leading:!1}));var F=new ResizeObserver($),T=k.current.getBoundingClientRect(),W=T.width,P=T.height;return M(W,P),F.observe(k.current),function(){F.disconnect()}},[M,v]);var C=S.useMemo(function(){var $=O.containerWidth,F=O.containerHeight;if($<0||F<0)return null;fo(_i(i)||_i(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,l),fo(!r||r>0,"The aspect(%s) must be greater than zero.",r);var T=_i(i)?$:i,W=_i(l)?F:l;r&&r>0&&(T?W=T/r:W&&(T=W*r),h&&W>h&&(W=h)),fo(T>0||W>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,T,W,i,l,f,d,r);var P=!Array.isArray(p)&&uo(p.type).endsWith("Chart");return R.Children.map(p,function(E){return R.isValidElement(E)?S.cloneElement(E,vf({width:T,height:W},P?{style:vf({height:"100%",width:"100%",maxHeight:W,maxWidth:T},E.props.style)}:{})):E})},[r,p,l,h,d,f,O,i]);return R.createElement("div",{id:b?"".concat(b):void 0,className:it("recharts-responsive-container",y),style:vf(vf({},j),{},{width:i,height:l,minWidth:f,minHeight:d,maxHeight:h}),ref:k},C)}),bv=function(t){return null};bv.displayName="Cell";function Vc(e){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vc(e)}function P1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P1(Object(r),!0).forEach(function(n){wF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wF(e,t,r){return t=kF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kF(e){var t=jF(e,"string");return Vc(t)=="symbol"?t:t+""}function jF(e,t){if(Vc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var is={widthCache:{},cacheCount:0},SF=2e3,NF={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},A1="recharts_measurement_span";function _F(e){var t=Zg({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var gc=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ii.isSsr)return{width:0,height:0};var n=_F(r),a=JSON.stringify({text:t,copyStyle:n});if(is.widthCache[a])return is.widthCache[a];try{var o=document.getElementById(A1);o||(o=document.createElement("span"),o.setAttribute("id",A1),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var i=Zg(Zg({},NF),n);Object.assign(o.style,i),o.textContent="".concat(t);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return is.widthCache[a]=l,++is.cacheCount>SF&&(is.cacheCount=0,is.widthCache={}),l}catch{return{width:0,height:0}}},OF=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Xc(e){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xc(e)}function Pd(e,t){return CF(e)||MF(e,t)||AF(e,t)||PF()}function PF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AF(e,t){if(e){if(typeof e=="string")return M1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M1(e,t)}}function M1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function MF(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function CF(e){if(Array.isArray(e))return e}function EF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C1(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$F(n.key),n)}}function TF(e,t,r){return t&&C1(e.prototype,t),r&&C1(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function $F(e){var t=DF(e,"string");return Xc(t)=="symbol"?t:t+""}function DF(e,t){if(Xc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var E1=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,T1=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,RF=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,LF=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,VN={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},IF=Object.keys(VN),ks="NaN";function BF(e,t){return e*VN[t]}var xf=function(){function e(t,r){EF(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!RF.test(r)&&(this.num=NaN,this.unit=""),IF.includes(r)&&(this.num=BF(t,r),this.unit="px")}return TF(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=LF.exec(r))!==null&&n!==void 0?n:[],o=Pd(a,3),i=o[1],s=o[2];return new e(parseFloat(i),s??"")}}])}();function XN(e){if(e.includes(ks))return ks;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=E1.exec(t))!==null&&r!==void 0?r:[],a=Pd(n,4),o=a[1],i=a[2],s=a[3],l=xf.parse(o??""),c=xf.parse(s??""),f=i==="*"?l.multiply(c):l.divide(c);if(f.isNaN())return ks;t=t.replace(E1,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,h=(d=T1.exec(t))!==null&&d!==void 0?d:[],p=Pd(h,4),m=p[1],v=p[2],b=p[3],y=xf.parse(m??""),g=xf.parse(b??""),x=v==="+"?y.add(g):y.subtract(g);if(x.isNaN())return ks;t=t.replace(T1,x.toString())}return t}var $1=/\(([^()]*)\)/;function FF(e){for(var t=e;t.includes("(");){var r=$1.exec(t),n=Pd(r,2),a=n[1];t=t.replace($1,XN(a))}return t}function zF(e){var t=e.replace(/\s+/g,"");return t=FF(t),t=XN(t),t}function UF(e){try{return zF(e)}catch{return ks}}function cp(e){var t=UF(e.slice(5,-1));return t===ks?"":t}var WF=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],GF=["dx","dy","angle","className","breakAll"];function Qg(){return Qg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qg.apply(this,arguments)}function D1(e,t){if(e==null)return{};var r=HF(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function HF(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function R1(e,t){return YF(e)||KF(e,t)||XF(e,t)||VF()}function VF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XF(e,t){if(e){if(typeof e=="string")return L1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return L1(e,t)}}function L1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function KF(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function YF(e){if(Array.isArray(e))return e}var KN=/[ \f\n\r\t\v\u2028\u2029]+/,YN=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var o=[];Ie(r)||(n?o=r.toString().split(""):o=r.toString().split(KN));var i=o.map(function(l){return{word:l,width:gc(l,a).width}}),s=n?0:gc("",a).width;return{wordsWithComputedWidth:i,spaceWidth:s}}catch{return null}},qF=function(t,r,n,a,o){var i=t.maxLines,s=t.children,l=t.style,c=t.breakAll,f=de(i),d=s,h=function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return T.reduce(function(W,P){var E=P.word,L=P.width,z=W[W.length-1];if(z&&(a==null||o||z.width+L+n<Number(a)))z.words.push(E),z.width+=L+n;else{var Z={words:[E],width:L};W.push(Z)}return W},[])},p=h(r),m=function(T){return T.reduce(function(W,P){return W.width>P.width?W:P})};if(!f)return p;for(var v="",b=function(T){var W=d.slice(0,T),P=YN({breakAll:c,style:l,children:W+v}).wordsWithComputedWidth,E=h(P),L=E.length>i||m(E).width>Number(a);return[L,E]},y=0,g=d.length-1,x=0,j;y<=g&&x<=d.length-1;){var k=Math.floor((y+g)/2),w=k-1,N=b(w),_=R1(N,2),O=_[0],A=_[1],M=b(k),C=R1(M,1),$=C[0];if(!O&&!$&&(y=k+1),O&&$&&(g=k-1),!O&&$){j=A;break}x++}return j||p},I1=function(t){var r=Ie(t)?[]:t.toString().split(KN);return[{words:r}]},ZF=function(t){var r=t.width,n=t.scaleToFit,a=t.children,o=t.style,i=t.breakAll,s=t.maxLines;if((r||n)&&!ii.isSsr){var l,c,f=YN({breakAll:i,children:a,style:o});if(f){var d=f.wordsWithComputedWidth,h=f.spaceWidth;l=d,c=h}else return I1(a);return qF({breakAll:i,children:a,maxLines:s,style:o},l,c,r,n)}return I1(a)},B1="#808080",Ad=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,o=a===void 0?0:a,i=t.lineHeight,s=i===void 0?"1em":i,l=t.capHeight,c=l===void 0?"0.71em":l,f=t.scaleToFit,d=f===void 0?!1:f,h=t.textAnchor,p=h===void 0?"start":h,m=t.verticalAnchor,v=m===void 0?"end":m,b=t.fill,y=b===void 0?B1:b,g=D1(t,WF),x=S.useMemo(function(){return ZF({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:d,style:g.style,width:g.width})},[g.breakAll,g.children,g.maxLines,d,g.style,g.width]),j=g.dx,k=g.dy,w=g.angle,N=g.className,_=g.breakAll,O=D1(g,GF);if(!Dr(n)||!Dr(o))return null;var A=n+(de(j)?j:0),M=o+(de(k)?k:0),C;switch(v){case"start":C=cp("calc(".concat(c,")"));break;case"middle":C=cp("calc(".concat((x.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:C=cp("calc(".concat(x.length-1," * -").concat(s,")"));break}var $=[];if(d){var F=x[0].width,T=g.width;$.push("scale(".concat((de(T)?T/F:1)/F,")"))}return w&&$.push("rotate(".concat(w,", ").concat(A,", ").concat(M,")")),$.length&&(O.transform=$.join(" ")),R.createElement("text",Qg({},Fe(O,!0),{x:A,y:M,className:it("recharts-text",N),textAnchor:p,fill:y.includes("url")?B1:y}),x.map(function(W,P){var E=W.words.join(_?"":" ");return R.createElement("tspan",{x:A,dy:P===0?C:s,key:"".concat(E,"-").concat(P)},E)}))};function Qo(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function QF(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function wv(e){let t,r,n;e.length!==2?(t=Qo,r=(s,l)=>Qo(e(s),l),n=(s,l)=>e(s)-l):(t=e===Qo||e===QF?e:JF,r=e,n=e);function a(s,l,c=0,f=s.length){if(c<f){if(t(l,l)!==0)return f;do{const d=c+f>>>1;r(s[d],l)<0?c=d+1:f=d}while(c<f)}return c}function o(s,l,c=0,f=s.length){if(c<f){if(t(l,l)!==0)return f;do{const d=c+f>>>1;r(s[d],l)<=0?c=d+1:f=d}while(c<f)}return c}function i(s,l,c=0,f=s.length){const d=a(s,l,c,f-1);return d>c&&n(s[d-1],l)>-n(s[d],l)?d-1:d}return{left:a,center:i,right:o}}function JF(){return 0}function qN(e){return e===null?NaN:+e}function*ez(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const tz=wv(Qo),Mu=tz.right;wv(qN).center;class F1 extends Map{constructor(t,r=az){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(z1(this,t))}has(t){return super.has(z1(this,t))}set(t,r){return super.set(rz(this,t),r)}delete(t){return super.delete(nz(this,t))}}function z1({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function rz({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function nz({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function az(e){return e!==null&&typeof e=="object"?e.valueOf():e}function oz(e=Qo){if(e===Qo)return ZN;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function ZN(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const iz=Math.sqrt(50),sz=Math.sqrt(10),lz=Math.sqrt(2);function Md(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),o=n/Math.pow(10,a),i=o>=iz?10:o>=sz?5:o>=lz?2:1;let s,l,c;return a<0?(c=Math.pow(10,-a)/i,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*i,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=r&&r<2?Md(e,t,r*2):[s,l,c]}function Jg(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,o,i]=n?Md(t,e,r):Md(e,t,r);if(!(o>=a))return[];const s=o-a+1,l=new Array(s);if(n)if(i<0)for(let c=0;c<s;++c)l[c]=(o-c)/-i;else for(let c=0;c<s;++c)l[c]=(o-c)*i;else if(i<0)for(let c=0;c<s;++c)l[c]=(a+c)/-i;else for(let c=0;c<s;++c)l[c]=(a+c)*i;return l}function em(e,t,r){return t=+t,e=+e,r=+r,Md(e,t,r)[2]}function tm(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?em(t,e,r):em(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function U1(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function W1(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function QN(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?ZN:oz(a);n>r;){if(n-r>600){const l=n-r+1,c=t-r+1,f=Math.log(l),d=.5*Math.exp(2*f/3),h=.5*Math.sqrt(f*d*(l-d)/l)*(c-l/2<0?-1:1),p=Math.max(r,Math.floor(t-c*d/l+h)),m=Math.min(n,Math.floor(t+(l-c)*d/l+h));QN(e,t,p,m,a)}const o=e[t];let i=r,s=n;for(Xl(e,r,t),a(e[n],o)>0&&Xl(e,r,n);i<s;){for(Xl(e,i,s),++i,--s;a(e[i],o)<0;)++i;for(;a(e[s],o)>0;)--s}a(e[r],o)===0?Xl(e,r,s):(++s,Xl(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function Xl(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function cz(e,t,r){if(e=Float64Array.from(ez(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return W1(e);if(t>=1)return U1(e);var n,a=(n-1)*t,o=Math.floor(a),i=U1(QN(e,o).subarray(0,o+1)),s=W1(e.subarray(o+1));return i+(s-i)*(a-o)}}function uz(e,t,r=qN){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,o=Math.floor(a),i=+r(e[o],o,e),s=+r(e[o+1],o+1,e);return i+(s-i)*(a-o)}}function fz(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,o=new Array(a);++n<a;)o[n]=e+n*r;return o}function xa(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function No(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const rm=Symbol("implicit");function kv(){var e=new F1,t=[],r=[],n=rm;function a(o){let i=e.get(o);if(i===void 0){if(n!==rm)return n;e.set(o,i=t.push(o)-1)}return r[i%r.length]}return a.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new F1;for(const i of o)e.has(i)||e.set(i,t.push(i)-1);return a},a.range=function(o){return arguments.length?(r=Array.from(o),a):r.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return kv(t,r).unknown(n)},xa.apply(a,arguments),a}function Kc(){var e=kv().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,o,i,s=!1,l=0,c=0,f=.5;delete e.unknown;function d(){var h=t().length,p=a<n,m=p?a:n,v=p?n:a;o=(v-m)/Math.max(1,h-l+c*2),s&&(o=Math.floor(o)),m+=(v-m-o*(h-l))*f,i=o*(1-l),s&&(m=Math.round(m),i=Math.round(i));var b=fz(h).map(function(y){return m+o*y});return r(p?b.reverse():b)}return e.domain=function(h){return arguments.length?(t(h),d()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,d()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,s=!0,d()},e.bandwidth=function(){return i},e.step=function(){return o},e.round=function(h){return arguments.length?(s=!!h,d()):s},e.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),d()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},e.paddingOuter=function(h){return arguments.length?(c=+h,d()):c},e.align=function(h){return arguments.length?(f=Math.max(0,Math.min(1,h)),d()):f},e.copy=function(){return Kc(t(),[n,a]).round(s).paddingInner(l).paddingOuter(c).align(f)},xa.apply(d(),arguments)}function JN(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return JN(t())},e}function mc(){return JN(Kc.apply(null,arguments).paddingInner(1))}function jv(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function e_(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Cu(){}var Yc=.7,Cd=1/Yc,Es="\\s*([+-]?\\d+)\\s*",qc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ha="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",dz=/^#([0-9a-f]{3,8})$/,hz=new RegExp(`^rgb\\(${Es},${Es},${Es}\\)$`),pz=new RegExp(`^rgb\\(${Ha},${Ha},${Ha}\\)$`),gz=new RegExp(`^rgba\\(${Es},${Es},${Es},${qc}\\)$`),mz=new RegExp(`^rgba\\(${Ha},${Ha},${Ha},${qc}\\)$`),yz=new RegExp(`^hsl\\(${qc},${Ha},${Ha}\\)$`),vz=new RegExp(`^hsla\\(${qc},${Ha},${Ha},${qc}\\)$`),G1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};jv(Cu,Zc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:H1,formatHex:H1,formatHex8:xz,formatHsl:bz,formatRgb:V1,toString:V1});function H1(){return this.rgb().formatHex()}function xz(){return this.rgb().formatHex8()}function bz(){return t_(this).formatHsl()}function V1(){return this.rgb().formatRgb()}function Zc(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=dz.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?X1(t):r===3?new Ln(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?bf(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?bf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=hz.exec(e))?new Ln(t[1],t[2],t[3],1):(t=pz.exec(e))?new Ln(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=gz.exec(e))?bf(t[1],t[2],t[3],t[4]):(t=mz.exec(e))?bf(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=yz.exec(e))?q1(t[1],t[2]/100,t[3]/100,1):(t=vz.exec(e))?q1(t[1],t[2]/100,t[3]/100,t[4]):G1.hasOwnProperty(e)?X1(G1[e]):e==="transparent"?new Ln(NaN,NaN,NaN,0):null}function X1(e){return new Ln(e>>16&255,e>>8&255,e&255,1)}function bf(e,t,r,n){return n<=0&&(e=t=r=NaN),new Ln(e,t,r,n)}function wz(e){return e instanceof Cu||(e=Zc(e)),e?(e=e.rgb(),new Ln(e.r,e.g,e.b,e.opacity)):new Ln}function nm(e,t,r,n){return arguments.length===1?wz(e):new Ln(e,t,r,n??1)}function Ln(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}jv(Ln,nm,e_(Cu,{brighter(e){return e=e==null?Cd:Math.pow(Cd,e),new Ln(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Yc:Math.pow(Yc,e),new Ln(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ln($i(this.r),$i(this.g),$i(this.b),Ed(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:K1,formatHex:K1,formatHex8:kz,formatRgb:Y1,toString:Y1}));function K1(){return`#${Oi(this.r)}${Oi(this.g)}${Oi(this.b)}`}function kz(){return`#${Oi(this.r)}${Oi(this.g)}${Oi(this.b)}${Oi((isNaN(this.opacity)?1:this.opacity)*255)}`}function Y1(){const e=Ed(this.opacity);return`${e===1?"rgb(":"rgba("}${$i(this.r)}, ${$i(this.g)}, ${$i(this.b)}${e===1?")":`, ${e})`}`}function Ed(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function $i(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Oi(e){return e=$i(e),(e<16?"0":"")+e.toString(16)}function q1(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Ma(e,t,r,n)}function t_(e){if(e instanceof Ma)return new Ma(e.h,e.s,e.l,e.opacity);if(e instanceof Cu||(e=Zc(e)),!e)return new Ma;if(e instanceof Ma)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),o=Math.max(t,r,n),i=NaN,s=o-a,l=(o+a)/2;return s?(t===o?i=(r-n)/s+(r<n)*6:r===o?i=(n-t)/s+2:i=(t-r)/s+4,s/=l<.5?o+a:2-o-a,i*=60):s=l>0&&l<1?0:i,new Ma(i,s,l,e.opacity)}function jz(e,t,r,n){return arguments.length===1?t_(e):new Ma(e,t,r,n??1)}function Ma(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}jv(Ma,jz,e_(Cu,{brighter(e){return e=e==null?Cd:Math.pow(Cd,e),new Ma(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Yc:Math.pow(Yc,e),new Ma(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Ln(up(e>=240?e-240:e+120,a,n),up(e,a,n),up(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Ma(Z1(this.h),wf(this.s),wf(this.l),Ed(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ed(this.opacity);return`${e===1?"hsl(":"hsla("}${Z1(this.h)}, ${wf(this.s)*100}%, ${wf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Z1(e){return e=(e||0)%360,e<0?e+360:e}function wf(e){return Math.max(0,Math.min(1,e||0))}function up(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Sv=e=>()=>e;function Sz(e,t){return function(r){return e+r*t}}function Nz(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function _z(e){return(e=+e)==1?r_:function(t,r){return r-t?Nz(t,r,e):Sv(isNaN(t)?r:t)}}function r_(e,t){var r=t-e;return r?Sz(e,r):Sv(isNaN(e)?t:e)}const Q1=function e(t){var r=_z(t);function n(a,o){var i=r((a=nm(a)).r,(o=nm(o)).r),s=r(a.g,o.g),l=r(a.b,o.b),c=r_(a.opacity,o.opacity);return function(f){return a.r=i(f),a.g=s(f),a.b=l(f),a.opacity=c(f),a+""}}return n.gamma=e,n}(1);function Oz(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(o){for(a=0;a<r;++a)n[a]=e[a]*(1-o)+t[a]*o;return n}}function Pz(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Az(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),o=new Array(r),i;for(i=0;i<n;++i)a[i]=_l(e[i],t[i]);for(;i<r;++i)o[i]=t[i];return function(s){for(i=0;i<n;++i)o[i]=a[i](s);return o}}function Mz(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Td(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Cz(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=_l(e[a],t[a]):n[a]=t[a];return function(o){for(a in r)n[a]=r[a](o);return n}}var am=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fp=new RegExp(am.source,"g");function Ez(e){return function(){return e}}function Tz(e){return function(t){return e(t)+""}}function $z(e,t){var r=am.lastIndex=fp.lastIndex=0,n,a,o,i=-1,s=[],l=[];for(e=e+"",t=t+"";(n=am.exec(e))&&(a=fp.exec(t));)(o=a.index)>r&&(o=t.slice(r,o),s[i]?s[i]+=o:s[++i]=o),(n=n[0])===(a=a[0])?s[i]?s[i]+=a:s[++i]=a:(s[++i]=null,l.push({i,x:Td(n,a)})),r=fp.lastIndex;return r<t.length&&(o=t.slice(r),s[i]?s[i]+=o:s[++i]=o),s.length<2?l[0]?Tz(l[0].x):Ez(t):(t=l.length,function(c){for(var f=0,d;f<t;++f)s[(d=l[f]).i]=d.x(c);return s.join("")})}function _l(e,t){var r=typeof t,n;return t==null||r==="boolean"?Sv(t):(r==="number"?Td:r==="string"?(n=Zc(t))?(t=n,Q1):$z:t instanceof Zc?Q1:t instanceof Date?Mz:Pz(t)?Oz:Array.isArray(t)?Az:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Cz:Td)(e,t)}function Nv(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Dz(e,t){t===void 0&&(t=e,e=_l);for(var r=0,n=t.length-1,a=t[0],o=new Array(n<0?0:n);r<n;)o[r]=e(a,a=t[++r]);return function(i){var s=Math.max(0,Math.min(n-1,Math.floor(i*=n)));return o[s](i-s)}}function Rz(e){return function(){return e}}function $d(e){return+e}var J1=[0,1];function Nn(e){return e}function om(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Rz(isNaN(t)?NaN:.5)}function Lz(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Iz(e,t,r){var n=e[0],a=e[1],o=t[0],i=t[1];return a<n?(n=om(a,n),o=r(i,o)):(n=om(n,a),o=r(o,i)),function(s){return o(n(s))}}function Bz(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),o=new Array(n),i=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<n;)a[i]=om(e[i],e[i+1]),o[i]=r(t[i],t[i+1]);return function(s){var l=Mu(e,s,1,n)-1;return o[l](a[l](s))}}function Eu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function a0(){var e=J1,t=J1,r=_l,n,a,o,i=Nn,s,l,c;function f(){var h=Math.min(e.length,t.length);return i!==Nn&&(i=Lz(e[0],e[h-1])),s=h>2?Bz:Iz,l=c=null,d}function d(h){return h==null||isNaN(h=+h)?o:(l||(l=s(e.map(n),t,r)))(n(i(h)))}return d.invert=function(h){return i(a((c||(c=s(t,e.map(n),Td)))(h)))},d.domain=function(h){return arguments.length?(e=Array.from(h,$d),f()):e.slice()},d.range=function(h){return arguments.length?(t=Array.from(h),f()):t.slice()},d.rangeRound=function(h){return t=Array.from(h),r=Nv,f()},d.clamp=function(h){return arguments.length?(i=h?!0:Nn,f()):i!==Nn},d.interpolate=function(h){return arguments.length?(r=h,f()):r},d.unknown=function(h){return arguments.length?(o=h,d):o},function(h,p){return n=h,a=p,f()}}function _v(){return a0()(Nn,Nn)}function Fz(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Dd(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Xs(e){return e=Dd(Math.abs(e)),e?e[1]:NaN}function zz(e,t){return function(r,n){for(var a=r.length,o=[],i=0,s=e[0],l=0;a>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),o.push(r.substring(a-=s,a+s)),!((l+=s+1)>n));)s=e[i=(i+1)%e.length];return o.reverse().join(t)}}function Uz(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Wz=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Qc(e){if(!(t=Wz.exec(e)))throw new Error("invalid format: "+e);var t;return new Ov({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Qc.prototype=Ov.prototype;function Ov(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Ov.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Gz(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var Rd;function Hz(e,t){var r=Dd(e,t);if(!r)return Rd=void 0,e.toPrecision(t);var n=r[0],a=r[1],o=a-(Rd=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=n.length;return o===i?n:o>i?n+new Array(o-i+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+Dd(e,Math.max(0,t+o-1))[0]}function ew(e,t){var r=Dd(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const tw={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Fz,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>ew(e*100,t),r:ew,s:Hz,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function rw(e){return e}var nw=Array.prototype.map,aw=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Vz(e){var t=e.grouping===void 0||e.thousands===void 0?rw:zz(nw.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?rw:Uz(nw.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(d,h){d=Qc(d);var p=d.fill,m=d.align,v=d.sign,b=d.symbol,y=d.zero,g=d.width,x=d.comma,j=d.precision,k=d.trim,w=d.type;w==="n"?(x=!0,w="g"):tw[w]||(j===void 0&&(j=12),k=!0,w="g"),(y||p==="0"&&m==="=")&&(y=!0,p="0",m="=");var N=(h&&h.prefix!==void 0?h.prefix:"")+(b==="$"?r:b==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():""),_=(b==="$"?n:/[%p]/.test(w)?i:"")+(h&&h.suffix!==void 0?h.suffix:""),O=tw[w],A=/[defgprs%]/.test(w);j=j===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function M(C){var $=N,F=_,T,W,P;if(w==="c")F=O(C)+F,C="";else{C=+C;var E=C<0||1/C<0;if(C=isNaN(C)?l:O(Math.abs(C),j),k&&(C=Gz(C)),E&&+C==0&&v!=="+"&&(E=!1),$=(E?v==="("?v:s:v==="-"||v==="("?"":v)+$,F=(w==="s"&&!isNaN(C)&&Rd!==void 0?aw[8+Rd/3]:"")+F+(E&&v==="("?")":""),A){for(T=-1,W=C.length;++T<W;)if(P=C.charCodeAt(T),48>P||P>57){F=(P===46?a+C.slice(T+1):C.slice(T))+F,C=C.slice(0,T);break}}}x&&!y&&(C=t(C,1/0));var L=$.length+C.length+F.length,z=L<g?new Array(g-L+1).join(p):"";switch(x&&y&&(C=t(z+C,z.length?g-F.length:1/0),z=""),m){case"<":C=$+C+F+z;break;case"=":C=$+z+C+F;break;case"^":C=z.slice(0,L=z.length>>1)+$+C+F+z.slice(L);break;default:C=z+$+C+F;break}return o(C)}return M.toString=function(){return d+""},M}function f(d,h){var p=Math.max(-8,Math.min(8,Math.floor(Xs(h)/3)))*3,m=Math.pow(10,-p),v=c((d=Qc(d),d.type="f",d),{suffix:aw[8+p/3]});return function(b){return v(m*b)}}return{format:c,formatPrefix:f}}var kf,Pv,n_;Xz({thousands:",",grouping:[3],currency:["$",""]});function Xz(e){return kf=Vz(e),Pv=kf.format,n_=kf.formatPrefix,kf}function Kz(e){return Math.max(0,-Xs(Math.abs(e)))}function Yz(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Xs(t)/3)))*3-Xs(Math.abs(e)))}function qz(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Xs(t)-Xs(e))+1}function a_(e,t,r,n){var a=tm(e,t,r),o;switch(n=Qc(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(o=Yz(a,i))&&(n.precision=o),n_(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=qz(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=Kz(a))&&(n.precision=o-(n.type==="%")*2);break}}return Pv(n)}function si(e){var t=e.domain;return e.ticks=function(r){var n=t();return Jg(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return a_(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,o=n.length-1,i=n[a],s=n[o],l,c,f=10;for(s<i&&(c=i,i=s,s=c,c=a,a=o,o=c);f-- >0;){if(c=em(i,s,r),c===l)return n[a]=i,n[o]=s,t(n);if(c>0)i=Math.floor(i/c)*c,s=Math.ceil(s/c)*c;else if(c<0)i=Math.ceil(i*c)/c,s=Math.floor(s*c)/c;else break;l=c}return e},e}function Ld(){var e=_v();return e.copy=function(){return Eu(e,Ld())},xa.apply(e,arguments),si(e)}function o_(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,$d),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return o_(e).unknown(t)},e=arguments.length?Array.from(e,$d):[0,1],si(r)}function i_(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],o=e[n],i;return o<a&&(i=r,r=n,n=i,i=a,a=o,o=i),e[r]=t.floor(a),e[n]=t.ceil(o),e}function ow(e){return Math.log(e)}function iw(e){return Math.exp(e)}function Zz(e){return-Math.log(-e)}function Qz(e){return-Math.exp(-e)}function Jz(e){return isFinite(e)?+("1e"+e):e<0?0:e}function e9(e){return e===10?Jz:e===Math.E?Math.exp:t=>Math.pow(e,t)}function t9(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function sw(e){return(t,r)=>-e(-t,r)}function Av(e){const t=e(ow,iw),r=t.domain;let n=10,a,o;function i(){return a=t9(n),o=e9(n),r()[0]<0?(a=sw(a),o=sw(o),e(Zz,Qz)):e(ow,iw),t}return t.base=function(s){return arguments.length?(n=+s,i()):n},t.domain=function(s){return arguments.length?(r(s),i()):r()},t.ticks=s=>{const l=r();let c=l[0],f=l[l.length-1];const d=f<c;d&&([c,f]=[f,c]);let h=a(c),p=a(f),m,v;const b=s==null?10:+s;let y=[];if(!(n%1)&&p-h<b){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(m=1;m<n;++m)if(v=h<0?m/o(-h):m*o(h),!(v<c)){if(v>f)break;y.push(v)}}else for(;h<=p;++h)for(m=n-1;m>=1;--m)if(v=h>0?m/o(-h):m*o(h),!(v<c)){if(v>f)break;y.push(v)}y.length*2<b&&(y=Jg(c,f,b))}else y=Jg(h,p,Math.min(p-h,b)).map(o);return d?y.reverse():y},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Qc(l)).precision==null&&(l.trim=!0),l=Pv(l)),s===1/0)return l;const c=Math.max(1,n*s/t.ticks().length);return f=>{let d=f/o(Math.round(a(f)));return d*n<n-.5&&(d*=n),d<=c?l(f):""}},t.nice=()=>r(i_(r(),{floor:s=>o(Math.floor(a(s))),ceil:s=>o(Math.ceil(a(s)))})),t}function s_(){const e=Av(a0()).domain([1,10]);return e.copy=()=>Eu(e,s_()).base(e.base()),xa.apply(e,arguments),e}function lw(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function cw(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Mv(e){var t=1,r=e(lw(t),cw(t));return r.constant=function(n){return arguments.length?e(lw(t=+n),cw(t)):t},si(r)}function l_(){var e=Mv(a0());return e.copy=function(){return Eu(e,l_()).constant(e.constant())},xa.apply(e,arguments)}function uw(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function r9(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function n9(e){return e<0?-e*e:e*e}function Cv(e){var t=e(Nn,Nn),r=1;function n(){return r===1?e(Nn,Nn):r===.5?e(r9,n9):e(uw(r),uw(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},si(t)}function Ev(){var e=Cv(a0());return e.copy=function(){return Eu(e,Ev()).exponent(e.exponent())},xa.apply(e,arguments),e}function a9(){return Ev.apply(null,arguments).exponent(.5)}function fw(e){return Math.sign(e)*e*e}function o9(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function c_(){var e=_v(),t=[0,1],r=!1,n;function a(o){var i=o9(e(o));return isNaN(i)?n:r?Math.round(i):i}return a.invert=function(o){return e.invert(fw(o))},a.domain=function(o){return arguments.length?(e.domain(o),a):e.domain()},a.range=function(o){return arguments.length?(e.range((t=Array.from(o,$d)).map(fw)),a):t.slice()},a.rangeRound=function(o){return a.range(o).round(!0)},a.round=function(o){return arguments.length?(r=!!o,a):r},a.clamp=function(o){return arguments.length?(e.clamp(o),a):e.clamp()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return c_(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},xa.apply(a,arguments),si(a)}function u_(){var e=[],t=[],r=[],n;function a(){var i=0,s=Math.max(1,t.length);for(r=new Array(s-1);++i<s;)r[i-1]=uz(e,i/s);return o}function o(i){return i==null||isNaN(i=+i)?n:t[Mu(r,i)]}return o.invertExtent=function(i){var s=t.indexOf(i);return s<0?[NaN,NaN]:[s>0?r[s-1]:e[0],s<r.length?r[s]:e[e.length-1]]},o.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let s of i)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Qo),a()},o.range=function(i){return arguments.length?(t=Array.from(i),a()):t.slice()},o.unknown=function(i){return arguments.length?(n=i,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return u_().domain(e).range(t).unknown(n)},xa.apply(o,arguments)}function f_(){var e=0,t=1,r=1,n=[.5],a=[0,1],o;function i(l){return l!=null&&l<=l?a[Mu(n,l,0,r)]:o}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return i}return i.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},i.range=function(l){return arguments.length?(r=(a=Array.from(l)).length-1,s()):a.slice()},i.invertExtent=function(l){var c=a.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},i.unknown=function(l){return arguments.length&&(o=l),i},i.thresholds=function(){return n.slice()},i.copy=function(){return f_().domain([e,t]).range(a).unknown(o)},xa.apply(si(i),arguments)}function d_(){var e=[.5],t=[0,1],r,n=1;function a(o){return o!=null&&o<=o?t[Mu(e,o,0,n)]:r}return a.domain=function(o){return arguments.length?(e=Array.from(o),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(o){return arguments.length?(t=Array.from(o),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(o){var i=t.indexOf(o);return[e[i-1],e[i]]},a.unknown=function(o){return arguments.length?(r=o,a):r},a.copy=function(){return d_().domain(e).range(t).unknown(r)},xa.apply(a,arguments)}const dp=new Date,hp=new Date;function Lr(e,t,r,n){function a(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return a.floor=o=>(e(o=new Date(+o)),o),a.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),a.round=o=>{const i=a(o),s=a.ceil(o);return o-i<s-o?i:s},a.offset=(o,i)=>(t(o=new Date(+o),i==null?1:Math.floor(i)),o),a.range=(o,i,s)=>{const l=[];if(o=a.ceil(o),s=s==null?1:Math.floor(s),!(o<i)||!(s>0))return l;let c;do l.push(c=new Date(+o)),t(o,s),e(o);while(c<o&&o<i);return l},a.filter=o=>Lr(i=>{if(i>=i)for(;e(i),!o(i);)i.setTime(i-1)},(i,s)=>{if(i>=i)if(s<0)for(;++s<=0;)for(;t(i,-1),!o(i););else for(;--s>=0;)for(;t(i,1),!o(i););}),r&&(a.count=(o,i)=>(dp.setTime(+o),hp.setTime(+i),e(dp),e(hp),Math.floor(r(dp,hp))),a.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?a.filter(n?i=>n(i)%o===0:i=>a.count(0,i)%o===0):a)),a}const Id=Lr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Id.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Lr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Id);Id.range;const io=1e3,fa=io*60,so=fa*60,xo=so*24,Tv=xo*7,dw=xo*30,pp=xo*365,Pi=Lr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*io)},(e,t)=>(t-e)/io,e=>e.getUTCSeconds());Pi.range;const $v=Lr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*io)},(e,t)=>{e.setTime(+e+t*fa)},(e,t)=>(t-e)/fa,e=>e.getMinutes());$v.range;const Dv=Lr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*fa)},(e,t)=>(t-e)/fa,e=>e.getUTCMinutes());Dv.range;const Rv=Lr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*io-e.getMinutes()*fa)},(e,t)=>{e.setTime(+e+t*so)},(e,t)=>(t-e)/so,e=>e.getHours());Rv.range;const Lv=Lr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*so)},(e,t)=>(t-e)/so,e=>e.getUTCHours());Lv.range;const Tu=Lr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*fa)/xo,e=>e.getDate()-1);Tu.range;const o0=Lr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/xo,e=>e.getUTCDate()-1);o0.range;const h_=Lr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/xo,e=>Math.floor(e/xo));h_.range;function Ji(e){return Lr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*fa)/Tv)}const i0=Ji(0),Bd=Ji(1),i9=Ji(2),s9=Ji(3),Ks=Ji(4),l9=Ji(5),c9=Ji(6);i0.range;Bd.range;i9.range;s9.range;Ks.range;l9.range;c9.range;function es(e){return Lr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Tv)}const s0=es(0),Fd=es(1),u9=es(2),f9=es(3),Ys=es(4),d9=es(5),h9=es(6);s0.range;Fd.range;u9.range;f9.range;Ys.range;d9.range;h9.range;const Iv=Lr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Iv.range;const Bv=Lr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Bv.range;const bo=Lr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());bo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Lr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});bo.range;const wo=Lr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());wo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Lr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});wo.range;function p_(e,t,r,n,a,o){const i=[[Pi,1,io],[Pi,5,5*io],[Pi,15,15*io],[Pi,30,30*io],[o,1,fa],[o,5,5*fa],[o,15,15*fa],[o,30,30*fa],[a,1,so],[a,3,3*so],[a,6,6*so],[a,12,12*so],[n,1,xo],[n,2,2*xo],[r,1,Tv],[t,1,dw],[t,3,3*dw],[e,1,pp]];function s(c,f,d){const h=f<c;h&&([c,f]=[f,c]);const p=d&&typeof d.range=="function"?d:l(c,f,d),m=p?p.range(c,+f+1):[];return h?m.reverse():m}function l(c,f,d){const h=Math.abs(f-c)/d,p=wv(([,,b])=>b).right(i,h);if(p===i.length)return e.every(tm(c/pp,f/pp,d));if(p===0)return Id.every(Math.max(tm(c,f,d),1));const[m,v]=i[h/i[p-1][2]<i[p][2]/h?p-1:p];return m.every(v)}return[s,l]}const[p9,g9]=p_(wo,Bv,s0,h_,Lv,Dv),[m9,y9]=p_(bo,Iv,i0,Tu,Rv,$v);function gp(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function mp(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Kl(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function v9(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,o=e.days,i=e.shortDays,s=e.months,l=e.shortMonths,c=Yl(a),f=ql(a),d=Yl(o),h=ql(o),p=Yl(i),m=ql(i),v=Yl(s),b=ql(s),y=Yl(l),g=ql(l),x={a:P,A:E,b:L,B:z,c:null,d:vw,e:vw,f:z9,g:Z9,G:J9,H:I9,I:B9,j:F9,L:g_,m:U9,M:W9,p:Z,q,Q:ww,s:kw,S:G9,u:H9,U:V9,V:X9,w:K9,W:Y9,x:null,X:null,y:q9,Y:Q9,Z:e7,"%":bw},j={a:H,A:se,b:ee,B:D,c:null,d:xw,e:xw,f:a7,g:p7,G:m7,H:t7,I:r7,j:n7,L:y_,m:o7,M:i7,p:ne,q:he,Q:ww,s:kw,S:s7,u:l7,U:c7,V:u7,w:f7,W:d7,x:null,X:null,y:h7,Y:g7,Z:y7,"%":bw},k={a:A,A:M,b:C,B:$,c:F,d:mw,e:mw,f:$9,g:gw,G:pw,H:yw,I:yw,j:M9,L:T9,m:A9,M:C9,p:O,q:P9,Q:R9,s:L9,S:E9,u:j9,U:S9,V:N9,w:k9,W:_9,x:T,X:W,y:gw,Y:pw,Z:O9,"%":D9};x.x=w(r,x),x.X=w(n,x),x.c=w(t,x),j.x=w(r,j),j.X=w(n,j),j.c=w(t,j);function w(X,ue){return function(pe){var G=[],oe=-1,ie=0,we=X.length,ze,Re,_t;for(pe instanceof Date||(pe=new Date(+pe));++oe<we;)X.charCodeAt(oe)===37&&(G.push(X.slice(ie,oe)),(Re=hw[ze=X.charAt(++oe)])!=null?ze=X.charAt(++oe):Re=ze==="e"?" ":"0",(_t=ue[ze])&&(ze=_t(pe,Re)),G.push(ze),ie=oe+1);return G.push(X.slice(ie,oe)),G.join("")}}function N(X,ue){return function(pe){var G=Kl(1900,void 0,1),oe=_(G,X,pe+="",0),ie,we;if(oe!=pe.length)return null;if("Q"in G)return new Date(G.Q);if("s"in G)return new Date(G.s*1e3+("L"in G?G.L:0));if(ue&&!("Z"in G)&&(G.Z=0),"p"in G&&(G.H=G.H%12+G.p*12),G.m===void 0&&(G.m="q"in G?G.q:0),"V"in G){if(G.V<1||G.V>53)return null;"w"in G||(G.w=1),"Z"in G?(ie=mp(Kl(G.y,0,1)),we=ie.getUTCDay(),ie=we>4||we===0?Fd.ceil(ie):Fd(ie),ie=o0.offset(ie,(G.V-1)*7),G.y=ie.getUTCFullYear(),G.m=ie.getUTCMonth(),G.d=ie.getUTCDate()+(G.w+6)%7):(ie=gp(Kl(G.y,0,1)),we=ie.getDay(),ie=we>4||we===0?Bd.ceil(ie):Bd(ie),ie=Tu.offset(ie,(G.V-1)*7),G.y=ie.getFullYear(),G.m=ie.getMonth(),G.d=ie.getDate()+(G.w+6)%7)}else("W"in G||"U"in G)&&("w"in G||(G.w="u"in G?G.u%7:"W"in G?1:0),we="Z"in G?mp(Kl(G.y,0,1)).getUTCDay():gp(Kl(G.y,0,1)).getDay(),G.m=0,G.d="W"in G?(G.w+6)%7+G.W*7-(we+5)%7:G.w+G.U*7-(we+6)%7);return"Z"in G?(G.H+=G.Z/100|0,G.M+=G.Z%100,mp(G)):gp(G)}}function _(X,ue,pe,G){for(var oe=0,ie=ue.length,we=pe.length,ze,Re;oe<ie;){if(G>=we)return-1;if(ze=ue.charCodeAt(oe++),ze===37){if(ze=ue.charAt(oe++),Re=k[ze in hw?ue.charAt(oe++):ze],!Re||(G=Re(X,pe,G))<0)return-1}else if(ze!=pe.charCodeAt(G++))return-1}return G}function O(X,ue,pe){var G=c.exec(ue.slice(pe));return G?(X.p=f.get(G[0].toLowerCase()),pe+G[0].length):-1}function A(X,ue,pe){var G=p.exec(ue.slice(pe));return G?(X.w=m.get(G[0].toLowerCase()),pe+G[0].length):-1}function M(X,ue,pe){var G=d.exec(ue.slice(pe));return G?(X.w=h.get(G[0].toLowerCase()),pe+G[0].length):-1}function C(X,ue,pe){var G=y.exec(ue.slice(pe));return G?(X.m=g.get(G[0].toLowerCase()),pe+G[0].length):-1}function $(X,ue,pe){var G=v.exec(ue.slice(pe));return G?(X.m=b.get(G[0].toLowerCase()),pe+G[0].length):-1}function F(X,ue,pe){return _(X,t,ue,pe)}function T(X,ue,pe){return _(X,r,ue,pe)}function W(X,ue,pe){return _(X,n,ue,pe)}function P(X){return i[X.getDay()]}function E(X){return o[X.getDay()]}function L(X){return l[X.getMonth()]}function z(X){return s[X.getMonth()]}function Z(X){return a[+(X.getHours()>=12)]}function q(X){return 1+~~(X.getMonth()/3)}function H(X){return i[X.getUTCDay()]}function se(X){return o[X.getUTCDay()]}function ee(X){return l[X.getUTCMonth()]}function D(X){return s[X.getUTCMonth()]}function ne(X){return a[+(X.getUTCHours()>=12)]}function he(X){return 1+~~(X.getUTCMonth()/3)}return{format:function(X){var ue=w(X+="",x);return ue.toString=function(){return X},ue},parse:function(X){var ue=N(X+="",!1);return ue.toString=function(){return X},ue},utcFormat:function(X){var ue=w(X+="",j);return ue.toString=function(){return X},ue},utcParse:function(X){var ue=N(X+="",!0);return ue.toString=function(){return X},ue}}}var hw={"-":"",_:" ",0:"0"},Gr=/^\s*\d+/,x9=/^%/,b9=/[\\^$*+?|[\]().{}]/g;function dt(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",o=a.length;return n+(o<r?new Array(r-o+1).join(t)+a:a)}function w9(e){return e.replace(b9,"\\$&")}function Yl(e){return new RegExp("^(?:"+e.map(w9).join("|")+")","i")}function ql(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function k9(e,t,r){var n=Gr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function j9(e,t,r){var n=Gr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function S9(e,t,r){var n=Gr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function N9(e,t,r){var n=Gr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function _9(e,t,r){var n=Gr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function pw(e,t,r){var n=Gr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function gw(e,t,r){var n=Gr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function O9(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function P9(e,t,r){var n=Gr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function A9(e,t,r){var n=Gr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function mw(e,t,r){var n=Gr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function M9(e,t,r){var n=Gr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function yw(e,t,r){var n=Gr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function C9(e,t,r){var n=Gr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function E9(e,t,r){var n=Gr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function T9(e,t,r){var n=Gr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function $9(e,t,r){var n=Gr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function D9(e,t,r){var n=x9.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function R9(e,t,r){var n=Gr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function L9(e,t,r){var n=Gr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function vw(e,t){return dt(e.getDate(),t,2)}function I9(e,t){return dt(e.getHours(),t,2)}function B9(e,t){return dt(e.getHours()%12||12,t,2)}function F9(e,t){return dt(1+Tu.count(bo(e),e),t,3)}function g_(e,t){return dt(e.getMilliseconds(),t,3)}function z9(e,t){return g_(e,t)+"000"}function U9(e,t){return dt(e.getMonth()+1,t,2)}function W9(e,t){return dt(e.getMinutes(),t,2)}function G9(e,t){return dt(e.getSeconds(),t,2)}function H9(e){var t=e.getDay();return t===0?7:t}function V9(e,t){return dt(i0.count(bo(e)-1,e),t,2)}function m_(e){var t=e.getDay();return t>=4||t===0?Ks(e):Ks.ceil(e)}function X9(e,t){return e=m_(e),dt(Ks.count(bo(e),e)+(bo(e).getDay()===4),t,2)}function K9(e){return e.getDay()}function Y9(e,t){return dt(Bd.count(bo(e)-1,e),t,2)}function q9(e,t){return dt(e.getFullYear()%100,t,2)}function Z9(e,t){return e=m_(e),dt(e.getFullYear()%100,t,2)}function Q9(e,t){return dt(e.getFullYear()%1e4,t,4)}function J9(e,t){var r=e.getDay();return e=r>=4||r===0?Ks(e):Ks.ceil(e),dt(e.getFullYear()%1e4,t,4)}function e7(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+dt(t/60|0,"0",2)+dt(t%60,"0",2)}function xw(e,t){return dt(e.getUTCDate(),t,2)}function t7(e,t){return dt(e.getUTCHours(),t,2)}function r7(e,t){return dt(e.getUTCHours()%12||12,t,2)}function n7(e,t){return dt(1+o0.count(wo(e),e),t,3)}function y_(e,t){return dt(e.getUTCMilliseconds(),t,3)}function a7(e,t){return y_(e,t)+"000"}function o7(e,t){return dt(e.getUTCMonth()+1,t,2)}function i7(e,t){return dt(e.getUTCMinutes(),t,2)}function s7(e,t){return dt(e.getUTCSeconds(),t,2)}function l7(e){var t=e.getUTCDay();return t===0?7:t}function c7(e,t){return dt(s0.count(wo(e)-1,e),t,2)}function v_(e){var t=e.getUTCDay();return t>=4||t===0?Ys(e):Ys.ceil(e)}function u7(e,t){return e=v_(e),dt(Ys.count(wo(e),e)+(wo(e).getUTCDay()===4),t,2)}function f7(e){return e.getUTCDay()}function d7(e,t){return dt(Fd.count(wo(e)-1,e),t,2)}function h7(e,t){return dt(e.getUTCFullYear()%100,t,2)}function p7(e,t){return e=v_(e),dt(e.getUTCFullYear()%100,t,2)}function g7(e,t){return dt(e.getUTCFullYear()%1e4,t,4)}function m7(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Ys(e):Ys.ceil(e),dt(e.getUTCFullYear()%1e4,t,4)}function y7(){return"+0000"}function bw(){return"%"}function ww(e){return+e}function kw(e){return Math.floor(+e/1e3)}var ss,x_,b_;v7({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function v7(e){return ss=v9(e),x_=ss.format,ss.parse,b_=ss.utcFormat,ss.utcParse,ss}function x7(e){return new Date(e)}function b7(e){return e instanceof Date?+e:+new Date(+e)}function Fv(e,t,r,n,a,o,i,s,l,c){var f=_v(),d=f.invert,h=f.domain,p=c(".%L"),m=c(":%S"),v=c("%I:%M"),b=c("%I %p"),y=c("%a %d"),g=c("%b %d"),x=c("%B"),j=c("%Y");function k(w){return(l(w)<w?p:s(w)<w?m:i(w)<w?v:o(w)<w?b:n(w)<w?a(w)<w?y:g:r(w)<w?x:j)(w)}return f.invert=function(w){return new Date(d(w))},f.domain=function(w){return arguments.length?h(Array.from(w,b7)):h().map(x7)},f.ticks=function(w){var N=h();return e(N[0],N[N.length-1],w??10)},f.tickFormat=function(w,N){return N==null?k:c(N)},f.nice=function(w){var N=h();return(!w||typeof w.range!="function")&&(w=t(N[0],N[N.length-1],w??10)),w?h(i_(N,w)):f},f.copy=function(){return Eu(f,Fv(e,t,r,n,a,o,i,s,l,c))},f}function w7(){return xa.apply(Fv(m9,y9,bo,Iv,i0,Tu,Rv,$v,Pi,x_).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function k7(){return xa.apply(Fv(p9,g9,wo,Bv,s0,o0,Lv,Dv,Pi,b_).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function l0(){var e=0,t=1,r,n,a,o,i=Nn,s=!1,l;function c(d){return d==null||isNaN(d=+d)?l:i(a===0?.5:(d=(o(d)-r)*a,s?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([e,t]=d,r=o(e=+e),n=o(t=+t),a=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(d){return arguments.length?(s=!!d,c):s},c.interpolator=function(d){return arguments.length?(i=d,c):i};function f(d){return function(h){var p,m;return arguments.length?([p,m]=h,i=d(p,m),c):[i(0),i(1)]}}return c.range=f(_l),c.rangeRound=f(Nv),c.unknown=function(d){return arguments.length?(l=d,c):l},function(d){return o=d,r=d(e),n=d(t),a=r===n?0:1/(n-r),c}}function li(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function w_(){var e=si(l0()(Nn));return e.copy=function(){return li(e,w_())},No.apply(e,arguments)}function k_(){var e=Av(l0()).domain([1,10]);return e.copy=function(){return li(e,k_()).base(e.base())},No.apply(e,arguments)}function j_(){var e=Mv(l0());return e.copy=function(){return li(e,j_()).constant(e.constant())},No.apply(e,arguments)}function zv(){var e=Cv(l0());return e.copy=function(){return li(e,zv()).exponent(e.exponent())},No.apply(e,arguments)}function j7(){return zv.apply(null,arguments).exponent(.5)}function S_(){var e=[],t=Nn;function r(n){if(n!=null&&!isNaN(n=+n))return t((Mu(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Qo),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,o)=>cz(e,o/n))},r.copy=function(){return S_(t).domain(e)},No.apply(r,arguments)}function c0(){var e=0,t=.5,r=1,n=1,a,o,i,s,l,c=Nn,f,d=!1,h;function p(v){return isNaN(v=+v)?h:(v=.5+((v=+f(v))-o)*(n*v<n*o?s:l),c(d?Math.max(0,Math.min(1,v)):v))}p.domain=function(v){return arguments.length?([e,t,r]=v,a=f(e=+e),o=f(t=+t),i=f(r=+r),s=a===o?0:.5/(o-a),l=o===i?0:.5/(i-o),n=o<a?-1:1,p):[e,t,r]},p.clamp=function(v){return arguments.length?(d=!!v,p):d},p.interpolator=function(v){return arguments.length?(c=v,p):c};function m(v){return function(b){var y,g,x;return arguments.length?([y,g,x]=b,c=Dz(v,[y,g,x]),p):[c(0),c(.5),c(1)]}}return p.range=m(_l),p.rangeRound=m(Nv),p.unknown=function(v){return arguments.length?(h=v,p):h},function(v){return f=v,a=v(e),o=v(t),i=v(r),s=a===o?0:.5/(o-a),l=o===i?0:.5/(i-o),n=o<a?-1:1,p}}function N_(){var e=si(c0()(Nn));return e.copy=function(){return li(e,N_())},No.apply(e,arguments)}function __(){var e=Av(c0()).domain([.1,1,10]);return e.copy=function(){return li(e,__()).base(e.base())},No.apply(e,arguments)}function O_(){var e=Mv(c0());return e.copy=function(){return li(e,O_()).constant(e.constant())},No.apply(e,arguments)}function Uv(){var e=Cv(c0());return e.copy=function(){return li(e,Uv()).exponent(e.exponent())},No.apply(e,arguments)}function S7(){return Uv.apply(null,arguments).exponent(.5)}const jw=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Kc,scaleDiverging:N_,scaleDivergingLog:__,scaleDivergingPow:Uv,scaleDivergingSqrt:S7,scaleDivergingSymlog:O_,scaleIdentity:o_,scaleImplicit:rm,scaleLinear:Ld,scaleLog:s_,scaleOrdinal:kv,scalePoint:mc,scalePow:Ev,scaleQuantile:u_,scaleQuantize:f_,scaleRadial:c_,scaleSequential:w_,scaleSequentialLog:k_,scaleSequentialPow:zv,scaleSequentialQuantile:S_,scaleSequentialSqrt:j7,scaleSequentialSymlog:j_,scaleSqrt:a9,scaleSymlog:l_,scaleThreshold:d_,scaleTime:w7,scaleUtc:k7,tickFormat:a_},Symbol.toStringTag,{value:"Module"}));var N7=yl;function _7(e,t,r){for(var n=-1,a=e.length;++n<a;){var o=e[n],i=t(o);if(i!=null&&(s===void 0?i===i&&!N7(i):r(i,s)))var s=i,l=o}return l}var P_=_7;function O7(e,t){return e>t}var P7=O7,A7=P_,M7=P7,C7=Nl;function E7(e){return e&&e.length?A7(e,C7,M7):void 0}var T7=E7;const Fo=Dt(T7);function $7(e,t){return e<t}var D7=$7,R7=P_,L7=D7,I7=Nl;function B7(e){return e&&e.length?R7(e,I7,L7):void 0}var F7=B7;const u0=Dt(F7);var z7=rv,U7=oi,W7=IN,G7=Gn;function H7(e,t){var r=G7(e)?z7:W7;return r(e,U7(t))}var V7=H7,X7=RN,K7=V7;function Y7(e,t){return X7(K7(e,t),1)}var q7=Y7;const Z7=Dt(q7);var Q7=mv;function J7(e,t){return Q7(e,t)}var eU=J7;const Gi=Dt(eU);var Ol=1e9,tU={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Gv,tr=!0,ya="[DecimalError] ",Di=ya+"Invalid argument: ",Wv=ya+"Exponent out of range: ",Pl=Math.floor,ki=Math.pow,rU=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,qn,Fr=1e7,qt=7,A_=9007199254740991,zd=Pl(A_/qt),be={};be.absoluteValue=be.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};be.comparedTo=be.cmp=function(e){var t,r,n,a,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(n=o.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return n===a?0:n>a^o.s<0?1:-1};be.decimalPlaces=be.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*qt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};be.dividedBy=be.div=function(e){return po(this,new this.constructor(e))};be.dividedToIntegerBy=be.idiv=function(e){var t=this,r=t.constructor;return $t(po(t,new r(e),0,1),r.precision)};be.equals=be.eq=function(e){return!this.cmp(e)};be.exponent=function(){return _r(this)};be.greaterThan=be.gt=function(e){return this.cmp(e)>0};be.greaterThanOrEqualTo=be.gte=function(e){return this.cmp(e)>=0};be.isInteger=be.isint=function(){return this.e>this.d.length-2};be.isNegative=be.isneg=function(){return this.s<0};be.isPositive=be.ispos=function(){return this.s>0};be.isZero=function(){return this.s===0};be.lessThan=be.lt=function(e){return this.cmp(e)<0};be.lessThanOrEqualTo=be.lte=function(e){return this.cmp(e)<1};be.logarithm=be.log=function(e){var t,r=this,n=r.constructor,a=n.precision,o=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(qn))throw Error(ya+"NaN");if(r.s<1)throw Error(ya+(r.s?"NaN":"-Infinity"));return r.eq(qn)?new n(0):(tr=!1,t=po(Jc(r,o),Jc(e,o),o),tr=!0,$t(t,a))};be.minus=be.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?E_(t,e):M_(t,(e.s=-e.s,e))};be.modulo=be.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(ya+"NaN");return r.s?(tr=!1,t=po(r,e,0,1).times(e),tr=!0,r.minus(t)):$t(new n(r),a)};be.naturalExponential=be.exp=function(){return C_(this)};be.naturalLogarithm=be.ln=function(){return Jc(this)};be.negated=be.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};be.plus=be.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?M_(t,e):E_(t,(e.s=-e.s,e))};be.precision=be.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Di+e);if(t=_r(a)+1,n=a.d.length-1,r=n*qt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};be.squareRoot=be.sqrt=function(){var e,t,r,n,a,o,i,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(ya+"NaN")}for(e=_r(s),tr=!1,a=Math.sqrt(+s),a==0||a==1/0?(t=Fa(s.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Pl((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(a.toString()),r=l.precision,a=i=r+3;;)if(o=n,n=o.plus(po(s,o,i+2)).times(.5),Fa(o.d).slice(0,i)===(t=Fa(n.d)).slice(0,i)){if(t=t.slice(i-3,i+1),a==i&&t=="4999"){if($t(o,r+1,0),o.times(o).eq(s)){n=o;break}}else if(t!="9999")break;i+=4}return tr=!0,$t(n,r)};be.times=be.mul=function(e){var t,r,n,a,o,i,s,l,c,f=this,d=f.constructor,h=f.d,p=(e=new d(e)).d;if(!f.s||!e.s)return new d(0);for(e.s*=f.s,r=f.e+e.e,l=h.length,c=p.length,l<c&&(o=h,h=p,p=o,i=l,l=c,c=i),o=[],i=l+c,n=i;n--;)o.push(0);for(n=c;--n>=0;){for(t=0,a=l+n;a>n;)s=o[a]+p[n]*h[a-n-1]+t,o[a--]=s%Fr|0,t=s/Fr|0;o[a]=(o[a]+t)%Fr|0}for(;!o[--i];)o.pop();return t?++r:o.shift(),e.d=o,e.e=r,tr?$t(e,d.precision):e};be.toDecimalPlaces=be.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Ya(e,0,Ol),t===void 0?t=n.rounding:Ya(t,0,8),$t(r,e+_r(r)+1,t))};be.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Hi(n,!0):(Ya(e,0,Ol),t===void 0?t=a.rounding:Ya(t,0,8),n=$t(new a(n),e+1,t),r=Hi(n,!0,e+1)),r};be.toFixed=function(e,t){var r,n,a=this,o=a.constructor;return e===void 0?Hi(a):(Ya(e,0,Ol),t===void 0?t=o.rounding:Ya(t,0,8),n=$t(new o(a),e+_r(a)+1,t),r=Hi(n.abs(),!1,e+_r(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};be.toInteger=be.toint=function(){var e=this,t=e.constructor;return $t(new t(e),_r(e)+1,t.rounding)};be.toNumber=function(){return+this};be.toPower=be.pow=function(e){var t,r,n,a,o,i,s=this,l=s.constructor,c=12,f=+(e=new l(e));if(!e.s)return new l(qn);if(s=new l(s),!s.s){if(e.s<1)throw Error(ya+"Infinity");return s}if(s.eq(qn))return s;if(n=l.precision,e.eq(qn))return $t(s,n);if(t=e.e,r=e.d.length-1,i=t>=r,o=s.s,i){if((r=f<0?-f:f)<=A_){for(a=new l(qn),t=Math.ceil(n/qt+4),tr=!1;r%2&&(a=a.times(s),Nw(a.d,t)),r=Pl(r/2),r!==0;)s=s.times(s),Nw(s.d,t);return tr=!0,e.s<0?new l(qn).div(a):$t(a,n)}}else if(o<0)throw Error(ya+"NaN");return o=o<0&&e.d[Math.max(t,r)]&1?-1:1,s.s=1,tr=!1,a=e.times(Jc(s,n+c)),tr=!0,a=C_(a),a.s=o,a};be.toPrecision=function(e,t){var r,n,a=this,o=a.constructor;return e===void 0?(r=_r(a),n=Hi(a,r<=o.toExpNeg||r>=o.toExpPos)):(Ya(e,1,Ol),t===void 0?t=o.rounding:Ya(t,0,8),a=$t(new o(a),e,t),r=_r(a),n=Hi(a,e<=r||r<=o.toExpNeg,e)),n};be.toSignificantDigits=be.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Ya(e,1,Ol),t===void 0?t=n.rounding:Ya(t,0,8)),$t(new n(r),e,t)};be.toString=be.valueOf=be.val=be.toJSON=be[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=_r(e),r=e.constructor;return Hi(e,t<=r.toExpNeg||t>=r.toExpPos)};function M_(e,t){var r,n,a,o,i,s,l,c,f=e.constructor,d=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),tr?$t(t,d):t;if(l=e.d,c=t.d,i=e.e,a=t.e,l=l.slice(),o=i-a,o){for(o<0?(n=l,o=-o,s=c.length):(n=c,a=i,s=l.length),i=Math.ceil(d/qt),s=i>s?i+1:s+1,o>s&&(o=s,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(s=l.length,o=c.length,s-o<0&&(o=s,n=c,c=l,l=n),r=0;o;)r=(l[--o]=l[o]+c[o]+r)/Fr|0,l[o]%=Fr;for(r&&(l.unshift(r),++a),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=a,tr?$t(t,d):t}function Ya(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Di+e)}function Fa(e){var t,r,n,a=e.length-1,o="",i=e[0];if(a>0){for(o+=i,t=1;t<a;t++)n=e[t]+"",r=qt-n.length,r&&(o+=$o(r)),o+=n;i=e[t],n=i+"",r=qt-n.length,r&&(o+=$o(r))}else if(i===0)return"0";for(;i%10===0;)i/=10;return o+i}var po=function(){function e(n,a){var o,i=0,s=n.length;for(n=n.slice();s--;)o=n[s]*a+i,n[s]=o%Fr|0,i=o/Fr|0;return i&&n.unshift(i),n}function t(n,a,o,i){var s,l;if(o!=i)l=o>i?1:-1;else for(s=l=0;s<o;s++)if(n[s]!=a[s]){l=n[s]>a[s]?1:-1;break}return l}function r(n,a,o){for(var i=0;o--;)n[o]-=i,i=n[o]<a[o]?1:0,n[o]=i*Fr+n[o]-a[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,o,i){var s,l,c,f,d,h,p,m,v,b,y,g,x,j,k,w,N,_,O=n.constructor,A=n.s==a.s?1:-1,M=n.d,C=a.d;if(!n.s)return new O(n);if(!a.s)throw Error(ya+"Division by zero");for(l=n.e-a.e,N=C.length,k=M.length,p=new O(A),m=p.d=[],c=0;C[c]==(M[c]||0);)++c;if(C[c]>(M[c]||0)&&--l,o==null?g=o=O.precision:i?g=o+(_r(n)-_r(a))+1:g=o,g<0)return new O(0);if(g=g/qt+2|0,c=0,N==1)for(f=0,C=C[0],g++;(c<k||f)&&g--;c++)x=f*Fr+(M[c]||0),m[c]=x/C|0,f=x%C|0;else{for(f=Fr/(C[0]+1)|0,f>1&&(C=e(C,f),M=e(M,f),N=C.length,k=M.length),j=N,v=M.slice(0,N),b=v.length;b<N;)v[b++]=0;_=C.slice(),_.unshift(0),w=C[0],C[1]>=Fr/2&&++w;do f=0,s=t(C,v,N,b),s<0?(y=v[0],N!=b&&(y=y*Fr+(v[1]||0)),f=y/w|0,f>1?(f>=Fr&&(f=Fr-1),d=e(C,f),h=d.length,b=v.length,s=t(d,v,h,b),s==1&&(f--,r(d,N<h?_:C,h))):(f==0&&(s=f=1),d=C.slice()),h=d.length,h<b&&d.unshift(0),r(v,d,b),s==-1&&(b=v.length,s=t(C,v,N,b),s<1&&(f++,r(v,N<b?_:C,b))),b=v.length):s===0&&(f++,v=[0]),m[c++]=f,s&&v[0]?v[b++]=M[j]||0:(v=[M[j]],b=1);while((j++<k||v[0]!==void 0)&&g--)}return m[0]||m.shift(),p.e=l,$t(p,i?o+_r(p)+1:o)}}();function C_(e,t){var r,n,a,o,i,s,l=0,c=0,f=e.constructor,d=f.precision;if(_r(e)>16)throw Error(Wv+_r(e));if(!e.s)return new f(qn);for(tr=!1,s=d,i=new f(.03125);e.abs().gte(.1);)e=e.times(i),c+=5;for(n=Math.log(ki(2,c))/Math.LN10*2+5|0,s+=n,r=a=o=new f(qn),f.precision=s;;){if(a=$t(a.times(e),s),r=r.times(++l),i=o.plus(po(a,r,s)),Fa(i.d).slice(0,s)===Fa(o.d).slice(0,s)){for(;c--;)o=$t(o.times(o),s);return f.precision=d,t==null?(tr=!0,$t(o,d)):o}o=i}}function _r(e){for(var t=e.e*qt,r=e.d[0];r>=10;r/=10)t++;return t}function yp(e,t,r){if(t>e.LN10.sd())throw tr=!0,r&&(e.precision=r),Error(ya+"LN10 precision limit exceeded");return $t(new e(e.LN10),t)}function $o(e){for(var t="";e--;)t+="0";return t}function Jc(e,t){var r,n,a,o,i,s,l,c,f,d=1,h=10,p=e,m=p.d,v=p.constructor,b=v.precision;if(p.s<1)throw Error(ya+(p.s?"NaN":"-Infinity"));if(p.eq(qn))return new v(0);if(t==null?(tr=!1,c=b):c=t,p.eq(10))return t==null&&(tr=!0),yp(v,c);if(c+=h,v.precision=c,r=Fa(m),n=r.charAt(0),o=_r(p),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=Fa(p.d),n=r.charAt(0),d++;o=_r(p),n>1?(p=new v("0."+r),o++):p=new v(n+"."+r.slice(1))}else return l=yp(v,c+2,b).times(o+""),p=Jc(new v(n+"."+r.slice(1)),c-h).plus(l),v.precision=b,t==null?(tr=!0,$t(p,b)):p;for(s=i=p=po(p.minus(qn),p.plus(qn),c),f=$t(p.times(p),c),a=3;;){if(i=$t(i.times(f),c),l=s.plus(po(i,new v(a),c)),Fa(l.d).slice(0,c)===Fa(s.d).slice(0,c))return s=s.times(2),o!==0&&(s=s.plus(yp(v,c+2,b).times(o+""))),s=po(s,new v(d),c),v.precision=b,t==null?(tr=!0,$t(s,b)):s;s=l,a+=2}}function Sw(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Pl(r/qt),e.d=[],n=(r+1)%qt,r<0&&(n+=qt),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=qt;n<a;)e.d.push(+t.slice(n,n+=qt));t=t.slice(n),n=qt-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),tr&&(e.e>zd||e.e<-zd))throw Error(Wv+r)}else e.s=0,e.e=0,e.d=[0];return e}function $t(e,t,r){var n,a,o,i,s,l,c,f,d=e.d;for(i=1,o=d[0];o>=10;o/=10)i++;if(n=t-i,n<0)n+=qt,a=t,c=d[f=0];else{if(f=Math.ceil((n+1)/qt),o=d.length,f>=o)return e;for(c=o=d[f],i=1;o>=10;o/=10)i++;n%=qt,a=n-qt+i}if(r!==void 0&&(o=ki(10,i-a-1),s=c/o%10|0,l=t<0||d[f+1]!==void 0||c%o,l=r<4?(s||l)&&(r==0||r==(e.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?a>0?c/ki(10,i-a):0:d[f-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return l?(o=_r(e),d.length=1,t=t-o-1,d[0]=ki(10,(qt-t%qt)%qt),e.e=Pl(-t/qt)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(n==0?(d.length=f,o=1,f--):(d.length=f+1,o=ki(10,qt-n),d[f]=a>0?(c/ki(10,i-a)%ki(10,a)|0)*o:0),l)for(;;)if(f==0){(d[0]+=o)==Fr&&(d[0]=1,++e.e);break}else{if(d[f]+=o,d[f]!=Fr)break;d[f--]=0,o=1}for(n=d.length;d[--n]===0;)d.pop();if(tr&&(e.e>zd||e.e<-zd))throw Error(Wv+_r(e));return e}function E_(e,t){var r,n,a,o,i,s,l,c,f,d,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),tr?$t(t,p):t;if(l=e.d,d=t.d,n=t.e,c=e.e,l=l.slice(),i=c-n,i){for(f=i<0,f?(r=l,i=-i,s=d.length):(r=d,n=c,s=l.length),a=Math.max(Math.ceil(p/qt),s)+2,i>a&&(i=a,r.length=1),r.reverse(),a=i;a--;)r.push(0);r.reverse()}else{for(a=l.length,s=d.length,f=a<s,f&&(s=a),a=0;a<s;a++)if(l[a]!=d[a]){f=l[a]<d[a];break}i=0}for(f&&(r=l,l=d,d=r,t.s=-t.s),s=l.length,a=d.length-s;a>0;--a)l[s++]=0;for(a=d.length;a>i;){if(l[--a]<d[a]){for(o=a;o&&l[--o]===0;)l[o]=Fr-1;--l[o],l[a]+=Fr}l[a]-=d[a]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,tr?$t(t,p):t):new h(0)}function Hi(e,t,r){var n,a=_r(e),o=Fa(e.d),i=o.length;return t?(r&&(n=r-i)>0?o=o.charAt(0)+"."+o.slice(1)+$o(n):i>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(a<0?"e":"e+")+a):a<0?(o="0."+$o(-a-1)+o,r&&(n=r-i)>0&&(o+=$o(n))):a>=i?(o+=$o(a+1-i),r&&(n=r-a-1)>0&&(o=o+"."+$o(n))):((n=a+1)<i&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-i)>0&&(a+1===i&&(o+="."),o+=$o(n))),e.s<0?"-"+o:o}function Nw(e,t){if(e.length>t)return e.length=t,!0}function T_(e){var t,r,n;function a(o){var i=this;if(!(i instanceof a))return new a(o);if(i.constructor=a,o instanceof a){i.s=o.s,i.e=o.e,i.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Di+o);if(o>0)i.s=1;else if(o<0)o=-o,i.s=-1;else{i.s=0,i.e=0,i.d=[0];return}if(o===~~o&&o<1e7){i.e=0,i.d=[o];return}return Sw(i,o.toString())}else if(typeof o!="string")throw Error(Di+o);if(o.charCodeAt(0)===45?(o=o.slice(1),i.s=-1):i.s=1,rU.test(o))Sw(i,o);else throw Error(Di+o)}if(a.prototype=be,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=T_,a.config=a.set=nU,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function nU(e){if(!e||typeof e!="object")throw Error(ya+"Object expected");var t,r,n,a=["precision",1,Ol,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Pl(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Di+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Di+r+": "+n);return this}var Gv=T_(tU);qn=new Gv(1);const At=Gv;function aU(e){return lU(e)||sU(e)||iU(e)||oU()}function oU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iU(e,t){if(e){if(typeof e=="string")return im(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return im(e,t)}}function sU(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function lU(e){if(Array.isArray(e))return im(e)}function im(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var cU=function(t){return t},$_={},D_=function(t){return t===$_},_w=function(t){return function r(){return arguments.length===0||arguments.length===1&&D_(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},uU=function e(t,r){return t===1?r:_w(function(){for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];var i=a.filter(function(s){return s!==$_}).length;return i>=t?r.apply(void 0,a):e(t-i,_w(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var f=a.map(function(d){return D_(d)?l.shift():d});return r.apply(void 0,aU(f).concat(l))}))})},f0=function(t){return uU(t.length,t)},sm=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},fU=f0(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),dU=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return cU;var a=r.reverse(),o=a[0],i=a.slice(1);return function(){return i.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},lm=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},R_=function(t){var r=null,n=null;return function(){for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return r&&o.every(function(s,l){return s===r[l]})||(r=o,n=t.apply(void 0,o)),n}};function hU(e){var t;return e===0?t=1:t=Math.floor(new At(e).abs().log(10).toNumber())+1,t}function pU(e,t,r){for(var n=new At(e),a=0,o=[];n.lt(t)&&a<1e5;)o.push(n.toNumber()),n=n.add(r),a++;return o}var gU=f0(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),mU=f0(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),yU=f0(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const d0={rangeStep:pU,getDigitCount:hU,interpolateNumber:gU,uninterpolateNumber:mU,uninterpolateTruncation:yU};function cm(e){return bU(e)||xU(e)||L_(e)||vU()}function vU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xU(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function bU(e){if(Array.isArray(e))return um(e)}function eu(e,t){return jU(e)||kU(e,t)||L_(e,t)||wU()}function wU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L_(e,t){if(e){if(typeof e=="string")return um(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return um(e,t)}}function um(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kU(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,o=void 0;try{for(var i=e[Symbol.iterator](),s;!(n=(s=i.next()).done)&&(r.push(s.value),!(t&&r.length===t));n=!0);}catch(l){a=!0,o=l}finally{try{!n&&i.return!=null&&i.return()}finally{if(a)throw o}}return r}}function jU(e){if(Array.isArray(e))return e}function I_(e){var t=eu(e,2),r=t[0],n=t[1],a=r,o=n;return r>n&&(a=n,o=r),[a,o]}function B_(e,t,r){if(e.lte(0))return new At(0);var n=d0.getDigitCount(e.toNumber()),a=new At(10).pow(n),o=e.div(a),i=n!==1?.05:.1,s=new At(Math.ceil(o.div(i).toNumber())).add(r).mul(i),l=s.mul(a);return t?l:new At(Math.ceil(l))}function SU(e,t,r){var n=1,a=new At(e);if(!a.isint()&&r){var o=Math.abs(e);o<1?(n=new At(10).pow(d0.getDigitCount(e)-1),a=new At(Math.floor(a.div(n).toNumber())).mul(n)):o>1&&(a=new At(Math.floor(e)))}else e===0?a=new At(Math.floor((t-1)/2)):r||(a=new At(Math.floor(e)));var i=Math.floor((t-1)/2),s=dU(fU(function(l){return a.add(new At(l-i).mul(n)).toNumber()}),sm);return s(0,t)}function F_(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new At(0),tickMin:new At(0),tickMax:new At(0)};var o=B_(new At(t).sub(e).div(r-1),n,a),i;e<=0&&t>=0?i=new At(0):(i=new At(e).add(t).div(2),i=i.sub(new At(i).mod(o)));var s=Math.ceil(i.sub(e).div(o).toNumber()),l=Math.ceil(new At(t).sub(i).div(o).toNumber()),c=s+l+1;return c>r?F_(e,t,r,n,a+1):(c<r&&(l=t>0?l+(r-c):l,s=t>0?s:s+(r-c)),{step:o,tickMin:i.sub(new At(s).mul(o)),tickMax:i.add(new At(l).mul(o))})}function NU(e){var t=eu(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(a,2),s=I_([r,n]),l=eu(s,2),c=l[0],f=l[1];if(c===-1/0||f===1/0){var d=f===1/0?[c].concat(cm(sm(0,a-1).map(function(){return 1/0}))):[].concat(cm(sm(0,a-1).map(function(){return-1/0})),[f]);return r>n?lm(d):d}if(c===f)return SU(c,a,o);var h=F_(c,f,i,o),p=h.step,m=h.tickMin,v=h.tickMax,b=d0.rangeStep(m,v.add(new At(.1).mul(p)),p);return r>n?lm(b):b}function _U(e,t){var r=eu(e,2),n=r[0],a=r[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=I_([n,a]),s=eu(i,2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[n,a];if(l===c)return[l];var f=Math.max(t,2),d=B_(new At(c).sub(l).div(f-1),o,0),h=[].concat(cm(d0.rangeStep(new At(l),new At(c).sub(new At(.99).mul(d)),d)),[c]);return n>a?lm(h):h}var OU=R_(NU),PU=R_(_U),AU="Invariant failed";function Vi(e,t){throw new Error(AU)}var MU=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function qs(e){"@babel/helpers - typeof";return qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qs(e)}function Ud(){return Ud=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ud.apply(this,arguments)}function CU(e,t){return DU(e)||$U(e,t)||TU(e,t)||EU()}function EU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TU(e,t){if(e){if(typeof e=="string")return Ow(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ow(e,t)}}function Ow(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $U(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function DU(e){if(Array.isArray(e))return e}function RU(e,t){if(e==null)return{};var r=LU(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function LU(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function IU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BU(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,W_(n.key),n)}}function FU(e,t,r){return t&&BU(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zU(e,t,r){return t=Wd(t),UU(e,z_()?Reflect.construct(t,r||[],Wd(e).constructor):t.apply(e,r))}function UU(e,t){if(t&&(qs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WU(e)}function WU(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(z_=function(){return!!e})()}function Wd(e){return Wd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wd(e)}function GU(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fm(e,t)}function fm(e,t){return fm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},fm(e,t)}function U_(e,t,r){return t=W_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W_(e){var t=HU(e,"string");return qs(t)=="symbol"?t:t+""}function HU(e,t){if(qs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Al=function(e){function t(){return IU(this,t),zU(this,t,arguments)}return GU(t,e),FU(t,[{key:"render",value:function(){var n=this.props,a=n.offset,o=n.layout,i=n.width,s=n.dataKey,l=n.data,c=n.dataPointFormatter,f=n.xAxis,d=n.yAxis,h=RU(n,MU),p=Fe(h,!1);this.props.direction==="x"&&f.type!=="number"&&Vi();var m=l.map(function(v){var b=c(v,s),y=b.x,g=b.y,x=b.value,j=b.errorVal;if(!j)return null;var k=[],w,N;if(Array.isArray(j)){var _=CU(j,2);w=_[0],N=_[1]}else w=N=j;if(o==="vertical"){var O=f.scale,A=g+a,M=A+i,C=A-i,$=O(x-w),F=O(x+N);k.push({x1:F,y1:M,x2:F,y2:C}),k.push({x1:$,y1:A,x2:F,y2:A}),k.push({x1:$,y1:M,x2:$,y2:C})}else if(o==="horizontal"){var T=d.scale,W=y+a,P=W-i,E=W+i,L=T(x-w),z=T(x+N);k.push({x1:P,y1:z,x2:E,y2:z}),k.push({x1:W,y1:L,x2:W,y2:z}),k.push({x1:P,y1:L,x2:E,y2:L})}return R.createElement(pt,Ud({className:"recharts-errorBar",key:"bar-".concat(k.map(function(Z){return"".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))},p),k.map(function(Z){return R.createElement("line",Ud({},Z,{key:"line-".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))}))});return R.createElement(pt,{className:"recharts-errorBars"},m)}}])}(R.Component);U_(Al,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});U_(Al,"displayName","ErrorBar");function tu(e){"@babel/helpers - typeof";return tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tu(e)}function Pw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pw(Object(r),!0).forEach(function(n){VU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VU(e,t,r){return t=XU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XU(e){var t=KU(e,"string");return tu(t)=="symbol"?t:t+""}function KU(e,t){if(tu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var G_=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,o=t.legendContent,i=Yn(r,Ga);if(!i)return null;var s=Ga.defaultProps,l=s!==void 0?gi(gi({},s),i.props):{},c;return i.props&&i.props.payload?c=i.props&&i.props.payload:o==="children"?c=(n||[]).reduce(function(f,d){var h=d.item,p=d.props,m=p.sectors||p.data||[];return f.concat(m.map(function(v){return{type:i.props.iconType||h.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):c=(n||[]).map(function(f){var d=f.item,h=d.type.defaultProps,p=h!==void 0?gi(gi({},h),d.props):{},m=p.dataKey,v=p.name,b=p.legendType,y=p.hide;return{inactive:y,dataKey:m,type:l.iconType||b||"square",color:Hv(d),value:v||m,payload:p}}),gi(gi(gi({},l),Ga.getWithHeight(i,a)),{},{payload:c,item:i})};function ru(e){"@babel/helpers - typeof";return ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ru(e)}function Aw(e){return QU(e)||ZU(e)||qU(e)||YU()}function YU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qU(e,t){if(e){if(typeof e=="string")return dm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dm(e,t)}}function ZU(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function QU(e){if(Array.isArray(e))return dm(e)}function dm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Mw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mw(Object(r),!0).forEach(function(n){Ts(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ts(e,t,r){return t=JU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JU(e){var t=eW(e,"string");return ru(t)=="symbol"?t:t+""}function eW(e,t){if(ru(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ru(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rr(e,t,r){return Ie(e)||Ie(t)?r:Dr(t)?pa(e,t,r):We(t)?t(e):r}function yc(e,t,r,n){var a=Z7(e,function(s){return Rr(s,t)});if(r==="number"){var o=a.filter(function(s){return de(s)||parseFloat(s)});return o.length?[u0(o),Fo(o)]:[1/0,-1/0]}var i=n?a.filter(function(s){return!Ie(s)}):a;return i.map(function(s){return Dr(s)||s instanceof Date?s:""})}var tW=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,i=-1,s=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,c=0;c<s;c++){var f=c>0?a[c-1].coordinate:a[s-1].coordinate,d=a[c].coordinate,h=c>=s-1?a[0].coordinate:a[c+1].coordinate,p=void 0;if(Ca(d-f)!==Ca(h-d)){var m=[];if(Ca(h-d)===Ca(l[1]-l[0])){p=h;var v=d+l[1]-l[0];m[0]=Math.min(v,(v+f)/2),m[1]=Math.max(v,(v+f)/2)}else{p=f;var b=h+l[1]-l[0];m[0]=Math.min(d,(b+d)/2),m[1]=Math.max(d,(b+d)/2)}var y=[Math.min(d,(p+d)/2),Math.max(d,(p+d)/2)];if(t>y[0]&&t<=y[1]||t>=m[0]&&t<=m[1]){i=a[c].index;break}}else{var g=Math.min(f,h),x=Math.max(f,h);if(t>(g+d)/2&&t<=(x+d)/2){i=a[c].index;break}}}else for(var j=0;j<s;j++)if(j===0&&t<=(n[j].coordinate+n[j+1].coordinate)/2||j>0&&j<s-1&&t>(n[j].coordinate+n[j-1].coordinate)/2&&t<=(n[j].coordinate+n[j+1].coordinate)/2||j===s-1&&t>(n[j].coordinate+n[j-1].coordinate)/2){i=n[j].index;break}return i},Hv=function(t){var r,n=t,a=n.type.displayName,o=(r=t.type)!==null&&r!==void 0&&r.defaultProps?mr(mr({},t.type.defaultProps),t.props):t.props,i=o.stroke,s=o.fill,l;switch(a){case"Line":l=i;break;case"Area":case"Radar":l=i&&i!=="none"?i:s;break;default:l=s;break}return l},rW=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,o=a===void 0?{}:a;if(!o)return{};for(var i={},s=Object.keys(o),l=0,c=s.length;l<c;l++)for(var f=o[s[l]].stackGroups,d=Object.keys(f),h=0,p=d.length;h<p;h++){var m=f[d[h]],v=m.items,b=m.cateAxisId,y=v.filter(function(N){return uo(N.type).indexOf("Bar")>=0});if(y&&y.length){var g=y[0].type.defaultProps,x=g!==void 0?mr(mr({},g),y[0].props):y[0].props,j=x.barSize,k=x[b];i[k]||(i[k]=[]);var w=Ie(j)?r:j;i[k].push({item:y[0],stackList:y.slice(1),barSize:Ie(w)?void 0:Wi(w,n,0)})}}return i},nW=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,o=t.sizeList,i=o===void 0?[]:o,s=t.maxBarSize,l=i.length;if(l<1)return null;var c=Wi(r,a,0,!0),f,d=[];if(i[0].barSize===+i[0].barSize){var h=!1,p=a/l,m=i.reduce(function(j,k){return j+k.barSize||0},0);m+=(l-1)*c,m>=a&&(m-=(l-1)*c,c=0),m>=a&&p>0&&(h=!0,p*=.9,m=l*p);var v=(a-m)/2>>0,b={offset:v-c,size:0};f=i.reduce(function(j,k){var w={item:k.item,position:{offset:b.offset+b.size+c,size:h?p:k.barSize}},N=[].concat(Aw(j),[w]);return b=N[N.length-1].position,k.stackList&&k.stackList.length&&k.stackList.forEach(function(_){N.push({item:_,position:b})}),N},d)}else{var y=Wi(n,a,0,!0);a-2*y-(l-1)*c<=0&&(c=0);var g=(a-2*y-(l-1)*c)/l;g>1&&(g>>=0);var x=s===+s?Math.min(g,s):g;f=i.reduce(function(j,k,w){var N=[].concat(Aw(j),[{item:k.item,position:{offset:y+(g+c)*w+(g-x)/2,size:x}}]);return k.stackList&&k.stackList.length&&k.stackList.forEach(function(_){N.push({item:_,position:N[N.length-1].position})}),N},d)}return f},aW=function(t,r,n,a){var o=n.children,i=n.width,s=n.margin,l=i-(s.left||0)-(s.right||0),c=G_({children:o,legendWidth:l});if(c){var f=a||{},d=f.width,h=f.height,p=c.align,m=c.verticalAlign,v=c.layout;if((v==="vertical"||v==="horizontal"&&m==="middle")&&p!=="center"&&de(t[p]))return mr(mr({},t),{},Ts({},p,t[p]+(d||0)));if((v==="horizontal"||v==="vertical"&&p==="center")&&m!=="middle"&&de(t[m]))return mr(mr({},t),{},Ts({},m,t[m]+(h||0)))}return t},oW=function(t,r,n){return Ie(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},H_=function(t,r,n,a,o){var i=r.props.children,s=zn(i,Al).filter(function(c){return oW(a,o,c.props.direction)});if(s&&s.length){var l=s.map(function(c){return c.props.dataKey});return t.reduce(function(c,f){var d=Rr(f,n);if(Ie(d))return c;var h=Array.isArray(d)?[u0(d),Fo(d)]:[d,d],p=l.reduce(function(m,v){var b=Rr(f,v,0),y=h[0]-Math.abs(Array.isArray(b)?b[0]:b),g=h[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(y,m[0]),Math.max(g,m[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},iW=function(t,r,n,a,o){var i=r.map(function(s){return H_(t,s,n,o,a)}).filter(function(s){return!Ie(s)});return i&&i.length?i.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},V_=function(t,r,n,a,o){var i=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&H_(t,l,c,a)||yc(t,c,n,o)});if(n==="number")return i.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var s={};return i.reduce(function(l,c){for(var f=0,d=c.length;f<d;f++)s[c[f]]||(s[c[f]]=!0,l.push(c[f]));return l},[])},X_=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},K_=function(t,r,n,a){if(a)return t.map(function(l){return l.coordinate});var o,i,s=t.map(function(l){return l.coordinate===r&&(o=!0),l.coordinate===n&&(i=!0),l.coordinate});return o||s.push(r),i||s.push(n),s},lo=function(t,r,n){if(!t)return null;var a=t.scale,o=t.duplicateDomain,i=t.type,s=t.range,l=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,c=(r||n)&&i==="category"&&a.bandwidth?a.bandwidth()/l:0;if(c=t.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?Ca(s[0]-s[1])*2*c:c,r&&(t.ticks||t.niceTicks)){var f=(t.ticks||t.niceTicks).map(function(d){var h=o?o.indexOf(d):d;return{coordinate:a(h)+c,value:d,offset:c}});return f.filter(function(d){return!kl(d.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(d,h){return{coordinate:a(d)+c,value:d,index:h,offset:c}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(d){return{coordinate:a(d)+c,value:d,offset:c}}):a.domain().map(function(d,h){return{coordinate:a(d)+c,value:o?o[d]:d,index:h,offset:c}})},vp=new WeakMap,jf=function(t,r){if(typeof r!="function")return t;vp.has(t)||vp.set(t,new WeakMap);var n=vp.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},sW=function(t,r,n){var a=t.scale,o=t.type,i=t.layout,s=t.axisType;if(a==="auto")return i==="radial"&&s==="radiusAxis"?{scale:Kc(),realScaleType:"band"}:i==="radial"&&s==="angleAxis"?{scale:Ld(),realScaleType:"linear"}:o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:mc(),realScaleType:"point"}:o==="category"?{scale:Kc(),realScaleType:"band"}:{scale:Ld(),realScaleType:"linear"};if(Ui(a)){var l="scale".concat(qh(a));return{scale:(jw[l]||mc)(),realScaleType:jw[l]?l:"point"}}return We(a)?{scale:a}:{scale:mc(),realScaleType:"point"}},Cw=1e-4,lW=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),o=Math.min(a[0],a[1])-Cw,i=Math.max(a[0],a[1])+Cw,s=t(r[0]),l=t(r[n-1]);(s<o||s>i||l<o||l>i)&&t.domain([r[0],r[n-1]])}},cW=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},uW=function(t,r){if(!r||r.length!==2||!de(r[0])||!de(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),o=[t[0],t[1]];return(!de(t[0])||t[0]<n)&&(o[0]=n),(!de(t[1])||t[1]>a)&&(o[1]=a),o[0]>a&&(o[0]=a),o[1]<n&&(o[1]=n),o},fW=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var o=0,i=0,s=0;s<r;++s){var l=kl(t[s][n][1])?t[s][n][0]:t[s][n][1];l>=0?(t[s][n][0]=o,t[s][n][1]=o+l,o=t[s][n][1]):(t[s][n][0]=i,t[s][n][1]=i+l,i=t[s][n][1])}},dW=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var o=0,i=0;i<r;++i){var s=kl(t[i][n][1])?t[i][n][0]:t[i][n][1];s>=0?(t[i][n][0]=o,t[i][n][1]=o+s,o=t[i][n][1]):(t[i][n][0]=0,t[i][n][1]=0)}},hW={sign:fW,expand:P4,none:Us,silhouette:A4,wiggle:M4,positive:dW},pW=function(t,r,n){var a=r.map(function(s){return s.props.dataKey}),o=hW[n],i=O4().keys(a).value(function(s,l){return+Rr(s,l,0)}).order(Lg).offset(o);return i(t)},gW=function(t,r,n,a,o,i){if(!t)return null;var s=i?r.reverse():r,l={},c=s.reduce(function(d,h){var p,m=(p=h.type)!==null&&p!==void 0&&p.defaultProps?mr(mr({},h.type.defaultProps),h.props):h.props,v=m.stackId,b=m.hide;if(b)return d;var y=m[n],g=d[y]||{hasStack:!1,stackGroups:{}};if(Dr(v)){var x=g.stackGroups[v]||{numericAxisId:n,cateAxisId:a,items:[]};x.items.push(h),g.hasStack=!0,g.stackGroups[v]=x}else g.stackGroups[Qi("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return mr(mr({},d),{},Ts({},y,g))},l),f={};return Object.keys(c).reduce(function(d,h){var p=c[h];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(v,b){var y=p.stackGroups[b];return mr(mr({},v),{},Ts({},b,{numericAxisId:n,cateAxisId:a,items:y.items,stackedData:pW(t,y.items,o)}))},m)}return mr(mr({},d),{},Ts({},h,p))},f)},mW=function(t,r){var n=r.realScaleType,a=r.type,o=r.tickCount,i=r.originalDomain,s=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&a==="number"&&i&&(i[0]==="auto"||i[1]==="auto")){var c=t.domain();if(!c.length)return null;var f=OU(c,o,s);return t.domain([u0(f),Fo(f)]),{niceTicks:f}}if(o&&a==="number"){var d=t.domain(),h=PU(d,o,s);return{niceTicks:h}}return null};function Zs(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,o=e.index,i=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Ie(a[t.dataKey])){var s=pd(r,"value",a[t.dataKey]);if(s)return s.coordinate+n/2}return r[o]?r[o].coordinate+n/2:null}var l=Rr(a,Ie(i)?t.dataKey:i);return Ie(l)?null:t.scale(l)}var Ew=function(t){var r=t.axis,n=t.ticks,a=t.offset,o=t.bandSize,i=t.entry,s=t.index;if(r.type==="category")return n[s]?n[s].coordinate+a:null;var l=Rr(i,r.dataKey,r.domain[s]);return Ie(l)?null:r.scale(l)-o/2+a},yW=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]);return a<=0&&o>=0?0:o<0?o:a}return n[0]},vW=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?mr(mr({},t.type.defaultProps),t.props):t.props,o=a.stackId;if(Dr(o)){var i=r[o];if(i){var s=i.items.indexOf(t);return s>=0?i.stackedData[s]:null}}return null},xW=function(t){return t.reduce(function(r,n){return[u0(n.concat([r[0]]).filter(de)),Fo(n.concat([r[1]]).filter(de))]},[1/0,-1/0])},Y_=function(t,r,n){return Object.keys(t).reduce(function(a,o){var i=t[o],s=i.stackedData,l=s.reduce(function(c,f){var d=xW(f.slice(r,n+1));return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],a[0]),Math.max(l[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},Tw=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,$w=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,hm=function(t,r,n){if(We(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(de(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(Tw.test(t[0])){var o=+Tw.exec(t[0])[1];a[0]=r[0]-o}else We(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(de(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if($w.test(t[1])){var i=+$w.exec(t[1])[1];a[1]=r[1]+i}else We(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},Gd=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var o=vv(r,function(d){return d.coordinate}),i=1/0,s=1,l=o.length;s<l;s++){var c=o[s],f=o[s-1];i=Math.min((c.coordinate||0)-(f.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0},Dw=function(t,r,n){return!t||!t.length||Gi(t,pa(n,"type.defaultProps.domain"))?r:t},q_=function(t,r){var n=t.type.defaultProps?mr(mr({},t.type.defaultProps),t.props):t.props,a=n.dataKey,o=n.name,i=n.unit,s=n.formatter,l=n.tooltipType,c=n.chartType,f=n.hide;return mr(mr({},Fe(t,!1)),{},{dataKey:a,unit:i,formatter:s,name:o||a,color:Hv(t),value:Rr(r,a),type:l,payload:r,chartType:c,hide:f})};function nu(e){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nu(e)}function Rw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rw(Object(r),!0).forEach(function(n){bW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bW(e,t,r){return t=wW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wW(e){var t=kW(e,"string");return nu(t)=="symbol"?t:t+""}function kW(e,t){if(nu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hd=Math.PI/180,jW=function(t){return t*180/Math.PI},Jr=function(t,r,n,a){return{x:t+Math.cos(-Hd*a)*n,y:r+Math.sin(-Hd*a)*n}},SW=function(t,r){var n=t.x,a=t.y,o=r.x,i=r.y;return Math.sqrt(Math.pow(n-o,2)+Math.pow(a-i,2))},NW=function(t,r){var n=t.x,a=t.y,o=r.cx,i=r.cy,s=SW({x:n,y:a},{x:o,y:i});if(s<=0)return{radius:s};var l=(n-o)/s,c=Math.acos(l);return a>i&&(c=2*Math.PI-c),{radius:s,angle:jW(c),angleInRadian:c}},_W=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),o=Math.floor(n/360),i=Math.min(a,o);return{startAngle:r-i*360,endAngle:n-i*360}},OW=function(t,r){var n=r.startAngle,a=r.endAngle,o=Math.floor(n/360),i=Math.floor(a/360),s=Math.min(o,i);return t+s*360},Iw=function(t,r){var n=t.x,a=t.y,o=NW({x:n,y:a},r),i=o.radius,s=o.angle,l=r.innerRadius,c=r.outerRadius;if(i<l||i>c)return!1;if(i===0)return!0;var f=_W(r),d=f.startAngle,h=f.endAngle,p=s,m;if(d<=h){for(;p>h;)p-=360;for(;p<d;)p+=360;m=p>=d&&p<=h}else{for(;p>d;)p-=360;for(;p<h;)p+=360;m=p>=h&&p<=d}return m?Lw(Lw({},r),{},{radius:i,angle:OW(p,r)}):null};function au(e){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},au(e)}var PW=["offset"];function AW(e){return TW(e)||EW(e)||CW(e)||MW()}function MW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CW(e,t){if(e){if(typeof e=="string")return pm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pm(e,t)}}function EW(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function TW(e){if(Array.isArray(e))return pm(e)}function pm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $W(e,t){if(e==null)return{};var r=DW(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function DW(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Bw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Er(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bw(Object(r),!0).forEach(function(n){RW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RW(e,t,r){return t=LW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LW(e){var t=IW(e,"string");return au(t)=="symbol"?t:t+""}function IW(e,t){if(au(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(au(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ou(){return ou=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ou.apply(this,arguments)}var BW=function(t){var r=t.value,n=t.formatter,a=Ie(t.children)?r:t.children;return We(n)?n(a):a},FW=function(t,r){var n=Ca(r-t),a=Math.min(Math.abs(r-t),360);return n*a},zW=function(t,r,n){var a=t.position,o=t.viewBox,i=t.offset,s=t.className,l=o,c=l.cx,f=l.cy,d=l.innerRadius,h=l.outerRadius,p=l.startAngle,m=l.endAngle,v=l.clockWise,b=(d+h)/2,y=FW(p,m),g=y>=0?1:-1,x,j;a==="insideStart"?(x=p+g*i,j=v):a==="insideEnd"?(x=m-g*i,j=!v):a==="end"&&(x=m+g*i,j=v),j=y<=0?j:!j;var k=Jr(c,f,b,x),w=Jr(c,f,b,x+(j?1:-1)*359),N="M".concat(k.x,",").concat(k.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(j?0:1,`,
    `).concat(w.x,",").concat(w.y),_=Ie(t.id)?Qi("recharts-radial-line-"):t.id;return R.createElement("text",ou({},n,{dominantBaseline:"central",className:it("recharts-radial-bar-label",s)}),R.createElement("defs",null,R.createElement("path",{id:_,d:N})),R.createElement("textPath",{xlinkHref:"#".concat(_)},r))},UW=function(t){var r=t.viewBox,n=t.offset,a=t.position,o=r,i=o.cx,s=o.cy,l=o.innerRadius,c=o.outerRadius,f=o.startAngle,d=o.endAngle,h=(f+d)/2;if(a==="outside"){var p=Jr(i,s,c+n,h),m=p.x,v=p.y;return{x:m,y:v,textAnchor:m>=i?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"end"};var b=(l+c)/2,y=Jr(i,s,b,h),g=y.x,x=y.y;return{x:g,y:x,textAnchor:"middle",verticalAnchor:"middle"}},WW=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,o=t.position,i=r,s=i.x,l=i.y,c=i.width,f=i.height,d=f>=0?1:-1,h=d*a,p=d>0?"end":"start",m=d>0?"start":"end",v=c>=0?1:-1,b=v*a,y=v>0?"end":"start",g=v>0?"start":"end";if(o==="top"){var x={x:s+c/2,y:l-d*a,textAnchor:"middle",verticalAnchor:p};return Er(Er({},x),n?{height:Math.max(l-n.y,0),width:c}:{})}if(o==="bottom"){var j={x:s+c/2,y:l+f+h,textAnchor:"middle",verticalAnchor:m};return Er(Er({},j),n?{height:Math.max(n.y+n.height-(l+f),0),width:c}:{})}if(o==="left"){var k={x:s-b,y:l+f/2,textAnchor:y,verticalAnchor:"middle"};return Er(Er({},k),n?{width:Math.max(k.x-n.x,0),height:f}:{})}if(o==="right"){var w={x:s+c+b,y:l+f/2,textAnchor:g,verticalAnchor:"middle"};return Er(Er({},w),n?{width:Math.max(n.x+n.width-w.x,0),height:f}:{})}var N=n?{width:c,height:f}:{};return o==="insideLeft"?Er({x:s+b,y:l+f/2,textAnchor:g,verticalAnchor:"middle"},N):o==="insideRight"?Er({x:s+c-b,y:l+f/2,textAnchor:y,verticalAnchor:"middle"},N):o==="insideTop"?Er({x:s+c/2,y:l+h,textAnchor:"middle",verticalAnchor:m},N):o==="insideBottom"?Er({x:s+c/2,y:l+f-h,textAnchor:"middle",verticalAnchor:p},N):o==="insideTopLeft"?Er({x:s+b,y:l+h,textAnchor:g,verticalAnchor:m},N):o==="insideTopRight"?Er({x:s+c-b,y:l+h,textAnchor:y,verticalAnchor:m},N):o==="insideBottomLeft"?Er({x:s+b,y:l+f-h,textAnchor:g,verticalAnchor:p},N):o==="insideBottomRight"?Er({x:s+c-b,y:l+f-h,textAnchor:y,verticalAnchor:p},N):vl(o)&&(de(o.x)||_i(o.x))&&(de(o.y)||_i(o.y))?Er({x:s+Wi(o.x,c),y:l+Wi(o.y,f),textAnchor:"end",verticalAnchor:"end"},N):Er({x:s+c/2,y:l+f/2,textAnchor:"middle",verticalAnchor:"middle"},N)},GW=function(t){return"cx"in t&&de(t.cx)};function Qr(e){var t=e.offset,r=t===void 0?5:t,n=$W(e,PW),a=Er({offset:r},n),o=a.viewBox,i=a.position,s=a.value,l=a.children,c=a.content,f=a.className,d=f===void 0?"":f,h=a.textBreakAll;if(!o||Ie(s)&&Ie(l)&&!S.isValidElement(c)&&!We(c))return null;if(S.isValidElement(c))return S.cloneElement(c,a);var p;if(We(c)){if(p=S.createElement(c,a),S.isValidElement(p))return p}else p=BW(a);var m=GW(o),v=Fe(a,!0);if(m&&(i==="insideStart"||i==="insideEnd"||i==="end"))return zW(a,p,v);var b=m?UW(a):WW(a);return R.createElement(Ad,ou({className:it("recharts-label",d)},v,b,{breakAll:h}),p)}Qr.displayName="Label";var Z_=function(t){var r=t.cx,n=t.cy,a=t.angle,o=t.startAngle,i=t.endAngle,s=t.r,l=t.radius,c=t.innerRadius,f=t.outerRadius,d=t.x,h=t.y,p=t.top,m=t.left,v=t.width,b=t.height,y=t.clockWise,g=t.labelViewBox;if(g)return g;if(de(v)&&de(b)){if(de(d)&&de(h))return{x:d,y:h,width:v,height:b};if(de(p)&&de(m))return{x:p,y:m,width:v,height:b}}return de(d)&&de(h)?{x:d,y:h,width:0,height:0}:de(r)&&de(n)?{cx:r,cy:n,startAngle:o||a||0,endAngle:i||a||0,innerRadius:c||0,outerRadius:f||l||s||0,clockWise:y}:t.viewBox?t.viewBox:{}},HW=function(t,r){return t?t===!0?R.createElement(Qr,{key:"label-implicit",viewBox:r}):Dr(t)?R.createElement(Qr,{key:"label-implicit",viewBox:r,value:t}):S.isValidElement(t)?t.type===Qr?S.cloneElement(t,{key:"label-implicit",viewBox:r}):R.createElement(Qr,{key:"label-implicit",content:t,viewBox:r}):We(t)?R.createElement(Qr,{key:"label-implicit",content:t,viewBox:r}):vl(t)?R.createElement(Qr,ou({viewBox:r},t,{key:"label-implicit"})):null:null},VW=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,o=Z_(t),i=zn(a,Qr).map(function(l,c){return S.cloneElement(l,{viewBox:r||o,key:"label-".concat(c)})});if(!n)return i;var s=HW(t.label,r||o);return[s].concat(AW(i))};Qr.parseViewBox=Z_;Qr.renderCallByParent=VW;function XW(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var KW=XW;const YW=Dt(KW);function iu(e){"@babel/helpers - typeof";return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iu(e)}var qW=["valueAccessor"],ZW=["data","dataKey","clockWise","id","textBreakAll"];function QW(e){return rG(e)||tG(e)||eG(e)||JW()}function JW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eG(e,t){if(e){if(typeof e=="string")return gm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gm(e,t)}}function tG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rG(e){if(Array.isArray(e))return gm(e)}function gm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Vd(){return Vd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vd.apply(this,arguments)}function Fw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fw(Object(r),!0).forEach(function(n){nG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nG(e,t,r){return t=aG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aG(e){var t=oG(e,"string");return iu(t)=="symbol"?t:t+""}function oG(e,t){if(iu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(iu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Uw(e,t){if(e==null)return{};var r=iG(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function iG(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var sG=function(t){return Array.isArray(t.value)?YW(t.value):t.value};function Va(e){var t=e.valueAccessor,r=t===void 0?sG:t,n=Uw(e,qW),a=n.data,o=n.dataKey,i=n.clockWise,s=n.id,l=n.textBreakAll,c=Uw(n,ZW);return!a||!a.length?null:R.createElement(pt,{className:"recharts-label-list"},a.map(function(f,d){var h=Ie(o)?r(f,d):Rr(f&&f.payload,o),p=Ie(s)?{}:{id:"".concat(s,"-").concat(d)};return R.createElement(Qr,Vd({},Fe(f,!0),c,p,{parentViewBox:f.parentViewBox,value:h,textBreakAll:l,viewBox:Qr.parseViewBox(Ie(i)?f:zw(zw({},f),{},{clockWise:i})),key:"label-".concat(d),index:d}))}))}Va.displayName="LabelList";function lG(e,t){return e?e===!0?R.createElement(Va,{key:"labelList-implicit",data:t}):R.isValidElement(e)||We(e)?R.createElement(Va,{key:"labelList-implicit",data:t,content:e}):vl(e)?R.createElement(Va,Vd({data:t},e,{key:"labelList-implicit"})):null:null}function cG(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=zn(n,Va).map(function(i,s){return S.cloneElement(i,{data:t,key:"labelList-".concat(s)})});if(!r)return a;var o=lG(e.label,t);return[o].concat(QW(a))}Va.renderCallByParent=cG;function su(e){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},su(e)}function mm(){return mm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mm.apply(this,arguments)}function Ww(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ww(Object(r),!0).forEach(function(n){uG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ww(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uG(e,t,r){return t=fG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fG(e){var t=dG(e,"string");return su(t)=="symbol"?t:t+""}function dG(e,t){if(su(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(su(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hG=function(t,r){var n=Ca(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},Sf=function(t){var r=t.cx,n=t.cy,a=t.radius,o=t.angle,i=t.sign,s=t.isExternal,l=t.cornerRadius,c=t.cornerIsExternal,f=l*(s?1:-1)+a,d=Math.asin(l/f)/Hd,h=c?o:o+i*d,p=Jr(r,n,f,h),m=Jr(r,n,a,h),v=c?o-i*d:o,b=Jr(r,n,f*Math.cos(d*Hd),v);return{center:p,circleTangency:m,lineTangency:b,theta:d}},Q_=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,o=t.outerRadius,i=t.startAngle,s=t.endAngle,l=hG(i,s),c=i+l,f=Jr(r,n,o,i),d=Jr(r,n,o,c),h="M ".concat(f.x,",").concat(f.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(i>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(a>0){var p=Jr(r,n,a,i),m=Jr(r,n,a,c);h+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(i<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},pG=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,o=t.outerRadius,i=t.cornerRadius,s=t.forceCornerRadius,l=t.cornerIsExternal,c=t.startAngle,f=t.endAngle,d=Ca(f-c),h=Sf({cx:r,cy:n,radius:o,angle:c,sign:d,cornerRadius:i,cornerIsExternal:l}),p=h.circleTangency,m=h.lineTangency,v=h.theta,b=Sf({cx:r,cy:n,radius:o,angle:f,sign:-d,cornerRadius:i,cornerIsExternal:l}),y=b.circleTangency,g=b.lineTangency,x=b.theta,j=l?Math.abs(c-f):Math.abs(c-f)-v-x;if(j<0)return s?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):Q_({cx:r,cy:n,innerRadius:a,outerRadius:o,startAngle:c,endAngle:f});var k="M ".concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(j>180),",").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(g.x,",").concat(g.y,`
  `);if(a>0){var w=Sf({cx:r,cy:n,radius:a,angle:c,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),N=w.circleTangency,_=w.lineTangency,O=w.theta,A=Sf({cx:r,cy:n,radius:a,angle:f,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),M=A.circleTangency,C=A.lineTangency,$=A.theta,F=l?Math.abs(c-f):Math.abs(c-f)-O-$;if(F<0&&i===0)return"".concat(k,"L").concat(r,",").concat(n,"Z");k+="L".concat(C.x,",").concat(C.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(M.x,",").concat(M.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(F>180),",").concat(+(d>0),",").concat(N.x,",").concat(N.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(_.x,",").concat(_.y,"Z")}else k+="L".concat(r,",").concat(n,"Z");return k},gG={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},J_=function(t){var r=Gw(Gw({},gG),t),n=r.cx,a=r.cy,o=r.innerRadius,i=r.outerRadius,s=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,f=r.startAngle,d=r.endAngle,h=r.className;if(i<o||f===d)return null;var p=it("recharts-sector",h),m=i-o,v=Wi(s,m,0,!0),b;return v>0&&Math.abs(f-d)<360?b=pG({cx:n,cy:a,innerRadius:o,outerRadius:i,cornerRadius:Math.min(v,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:f,endAngle:d}):b=Q_({cx:n,cy:a,innerRadius:o,outerRadius:i,startAngle:f,endAngle:d}),R.createElement("path",mm({},Fe(r,!0),{className:p,d:b,role:"img"}))};function lu(e){"@babel/helpers - typeof";return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lu(e)}function ym(){return ym=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ym.apply(this,arguments)}function Hw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hw(Object(r),!0).forEach(function(n){mG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mG(e,t,r){return t=yG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yG(e){var t=vG(e,"string");return lu(t)=="symbol"?t:t+""}function vG(e,t){if(lu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xw={curveBasisClosed:m4,curveBasisOpen:y4,curveBasis:g4,curveBumpX:t4,curveBumpY:r4,curveLinearClosed:v4,curveLinear:Qh,curveMonotoneX:x4,curveMonotoneY:b4,curveNatural:w4,curveStep:k4,curveStepAfter:S4,curveStepBefore:j4},Nf=function(t){return t.x===+t.x&&t.y===+t.y},Zl=function(t){return t.x},Ql=function(t){return t.y},xG=function(t,r){if(We(t))return t;var n="curve".concat(qh(t));return(n==="curveMonotone"||n==="curveBump")&&r?Xw["".concat(n).concat(r==="vertical"?"Y":"X")]:Xw[n]||Qh},bG=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,o=a===void 0?[]:a,i=t.baseLine,s=t.layout,l=t.connectNulls,c=l===void 0?!1:l,f=xG(n,s),d=c?o.filter(function(v){return Nf(v)}):o,h;if(Array.isArray(i)){var p=c?i.filter(function(v){return Nf(v)}):i,m=d.map(function(v,b){return Vw(Vw({},v),{},{base:p[b]})});return s==="vertical"?h=gf().y(Ql).x1(Zl).x0(function(v){return v.base.x}):h=gf().x(Zl).y1(Ql).y0(function(v){return v.base.y}),h.defined(Nf).curve(f),h(m)}return s==="vertical"&&de(i)?h=gf().y(Ql).x1(Zl).x0(i):de(i)?h=gf().x(Zl).y1(Ql).y0(i):h=tN().x(Zl).y(Ql),h.defined(Nf).curve(f),h(d)},Ri=function(t){var r=t.className,n=t.points,a=t.path,o=t.pathRef;if((!n||!n.length)&&!a)return null;var i=n&&n.length?bG(t):a;return S.createElement("path",ym({},Fe(t,!1),gd(t),{className:it("recharts-curve",r),d:i,ref:o}))},eO={exports:{}},wG="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",kG=wG,jG=kG;function tO(){}function rO(){}rO.resetWarningCache=tO;var SG=function(){function e(n,a,o,i,s,l){if(l!==jG){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:rO,resetWarningCache:tO};return r.PropTypes=r,r};eO.exports=SG();var NG=eO.exports;const xt=Dt(NG),{getOwnPropertyNames:_G,getOwnPropertySymbols:OG}=Object,{hasOwnProperty:PG}=Object.prototype;function xp(e,t){return function(n,a,o){return e(n,a,o)&&t(n,a,o)}}function _f(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);const{cache:o}=a,i=o.get(r),s=o.get(n);if(i&&s)return i===n&&s===r;o.set(r,n),o.set(n,r);const l=e(r,n,a);return o.delete(r),o.delete(n),l}}function AG(e){return e!=null?e[Symbol.toStringTag]:void 0}function Kw(e){return _G(e).concat(OG(e))}const MG=Object.hasOwn||((e,t)=>PG.call(e,t));function ts(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const CG="__v",EG="__o",TG="_owner",{getOwnPropertyDescriptor:Yw,keys:qw}=Object;function $G(e,t){return e.byteLength===t.byteLength&&Xd(new Uint8Array(e),new Uint8Array(t))}function DG(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function RG(e,t){return e.byteLength===t.byteLength&&Xd(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function LG(e,t){return ts(e.getTime(),t.getTime())}function IG(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function BG(e,t){return e===t}function Zw(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),o=e.entries();let i,s,l=0;for(;(i=o.next())&&!i.done;){const c=t.entries();let f=!1,d=0;for(;(s=c.next())&&!s.done;){if(a[d]){d++;continue}const h=i.value,p=s.value;if(r.equals(h[0],p[0],l,d,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){f=a[d]=!0;break}d++}if(!f)return!1;l++}return!0}const FG=ts;function zG(e,t,r){const n=qw(e);let a=n.length;if(qw(t).length!==a)return!1;for(;a-- >0;)if(!nO(e,t,r,n[a]))return!1;return!0}function Jl(e,t,r){const n=Kw(e);let a=n.length;if(Kw(t).length!==a)return!1;let o,i,s;for(;a-- >0;)if(o=n[a],!nO(e,t,r,o)||(i=Yw(e,o),s=Yw(t,o),(i||s)&&(!i||!s||i.configurable!==s.configurable||i.enumerable!==s.enumerable||i.writable!==s.writable)))return!1;return!0}function UG(e,t){return ts(e.valueOf(),t.valueOf())}function WG(e,t){return e.source===t.source&&e.flags===t.flags}function Qw(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),o=e.values();let i,s;for(;(i=o.next())&&!i.done;){const l=t.values();let c=!1,f=0;for(;(s=l.next())&&!s.done;){if(!a[f]&&r.equals(i.value,s.value,i.value,s.value,e,t,r)){c=a[f]=!0;break}f++}if(!c)return!1}return!0}function Xd(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function GG(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function nO(e,t,r,n){return(n===TG||n===EG||n===CG)&&(e.$$typeof||t.$$typeof)?!0:MG(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const HG="[object ArrayBuffer]",VG="[object Arguments]",XG="[object Boolean]",KG="[object DataView]",YG="[object Date]",qG="[object Error]",ZG="[object Map]",QG="[object Number]",JG="[object Object]",eH="[object RegExp]",tH="[object Set]",rH="[object String]",nH={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},aH="[object URL]",oH=Object.prototype.toString;function iH({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:a,areFunctionsEqual:o,areMapsEqual:i,areNumbersEqual:s,areObjectsEqual:l,arePrimitiveWrappersEqual:c,areRegExpsEqual:f,areSetsEqual:d,areTypedArraysEqual:h,areUrlsEqual:p,unknownTagComparators:m}){return function(b,y,g){if(b===y)return!0;if(b==null||y==null)return!1;const x=typeof b;if(x!==typeof y)return!1;if(x!=="object")return x==="number"?s(b,y,g):x==="function"?o(b,y,g):!1;const j=b.constructor;if(j!==y.constructor)return!1;if(j===Object)return l(b,y,g);if(Array.isArray(b))return t(b,y,g);if(j===Date)return n(b,y,g);if(j===RegExp)return f(b,y,g);if(j===Map)return i(b,y,g);if(j===Set)return d(b,y,g);const k=oH.call(b);if(k===YG)return n(b,y,g);if(k===eH)return f(b,y,g);if(k===ZG)return i(b,y,g);if(k===tH)return d(b,y,g);if(k===JG)return typeof b.then!="function"&&typeof y.then!="function"&&l(b,y,g);if(k===aH)return p(b,y,g);if(k===qG)return a(b,y,g);if(k===VG)return l(b,y,g);if(nH[k])return h(b,y,g);if(k===HG)return e(b,y,g);if(k===KG)return r(b,y,g);if(k===XG||k===QG||k===rH)return c(b,y,g);if(m){let w=m[k];if(!w){const N=AG(b);N&&(w=m[N])}if(w)return w(b,y,g)}return!1}}function sH({circular:e,createCustomConfig:t,strict:r}){let n={areArrayBuffersEqual:$G,areArraysEqual:r?Jl:DG,areDataViewsEqual:RG,areDatesEqual:LG,areErrorsEqual:IG,areFunctionsEqual:BG,areMapsEqual:r?xp(Zw,Jl):Zw,areNumbersEqual:FG,areObjectsEqual:r?Jl:zG,arePrimitiveWrappersEqual:UG,areRegExpsEqual:WG,areSetsEqual:r?xp(Qw,Jl):Qw,areTypedArraysEqual:r?xp(Xd,Jl):Xd,areUrlsEqual:GG,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const a=_f(n.areArraysEqual),o=_f(n.areMapsEqual),i=_f(n.areObjectsEqual),s=_f(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:i,areSetsEqual:s})}return n}function lH(e){return function(t,r,n,a,o,i,s){return e(t,r,s)}}function cH({circular:e,comparator:t,createState:r,equals:n,strict:a}){if(r)return function(s,l){const{cache:c=e?new WeakMap:void 0,meta:f}=r();return t(s,l,{cache:c,equals:n,meta:f,strict:a})};if(e)return function(s,l){return t(s,l,{cache:new WeakMap,equals:n,meta:void 0,strict:a})};const o={cache:void 0,equals:n,meta:void 0,strict:a};return function(s,l){return t(s,l,o)}}const uH=ci();ci({strict:!0});ci({circular:!0});ci({circular:!0,strict:!0});ci({createInternalComparator:()=>ts});ci({strict:!0,createInternalComparator:()=>ts});ci({circular:!0,createInternalComparator:()=>ts});ci({circular:!0,createInternalComparator:()=>ts,strict:!0});function ci(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:a=!1}=e,o=sH(e),i=iH(o),s=r?r(i):lH(i);return cH({circular:t,comparator:i,createState:n,equals:s,strict:a})}function fH(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function Jw(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(o){r<0&&(r=o),o-r>t?(e(o),r=-1):fH(a)};requestAnimationFrame(n)}function vm(e){"@babel/helpers - typeof";return vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vm(e)}function dH(e){return mH(e)||gH(e)||pH(e)||hH()}function hH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pH(e,t){if(e){if(typeof e=="string")return e2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e2(e,t)}}function e2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gH(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function mH(e){if(Array.isArray(e))return e}function yH(){var e={},t=function(){return null},r=!1,n=function a(o){if(!r){if(Array.isArray(o)){if(!o.length)return;var i=o,s=dH(i),l=s[0],c=s.slice(1);if(typeof l=="number"){Jw(a.bind(null,c),l);return}a(l),Jw(a.bind(null,c));return}vm(o)==="object"&&(e=o,t(e)),typeof o=="function"&&o()}};return{stop:function(){r=!0},start:function(o){r=!1,n(o)},subscribe:function(o){return t=o,function(){t=function(){return null}}}}}function cu(e){"@babel/helpers - typeof";return cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cu(e)}function t2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function r2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t2(Object(r),!0).forEach(function(n){aO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aO(e,t,r){return t=vH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vH(e){var t=xH(e,"string");return cu(t)==="symbol"?t:String(t)}function xH(e,t){if(cu(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bH=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(o){return a.includes(o)})})},wH=function(t){return t},kH=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},vc=function(t,r){return Object.keys(r).reduce(function(n,a){return r2(r2({},n),{},aO({},a,t(a,r[a])))},{})},n2=function(t,r,n){return t.map(function(a){return"".concat(kH(a)," ").concat(r,"ms ").concat(n)}).join(",")};function jH(e,t){return _H(e)||NH(e,t)||oO(e,t)||SH()}function SH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NH(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function _H(e){if(Array.isArray(e))return e}function OH(e){return MH(e)||AH(e)||oO(e)||PH()}function PH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oO(e,t){if(e){if(typeof e=="string")return xm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xm(e,t)}}function AH(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function MH(e){if(Array.isArray(e))return xm(e)}function xm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Kd=1e-4,iO=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},sO=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},a2=function(t,r){return function(n){var a=iO(t,r);return sO(a,n)}},CH=function(t,r){return function(n){var a=iO(t,r),o=[].concat(OH(a.map(function(i,s){return i*s}).slice(1)),[0]);return sO(o,n)}},o2=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],o=r[1],i=r[2],s=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,o=0,i=1,s=1;break;case"ease":a=.25,o=.1,i=.25,s=1;break;case"ease-in":a=.42,o=0,i=1,s=1;break;case"ease-out":a=.42,o=0,i=.58,s=1;break;case"ease-in-out":a=0,o=0,i=.58,s=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),f=jH(c,4);a=f[0],o=f[1],i=f[2],s=f[3]}}}var d=a2(a,i),h=a2(o,s),p=CH(a,i),m=function(y){return y>1?1:y<0?0:y},v=function(y){for(var g=y>1?1:y,x=g,j=0;j<8;++j){var k=d(x)-g,w=p(x);if(Math.abs(k-g)<Kd||w<Kd)return h(x);x=m(x-k/w)}return h(x)};return v.isStepper=!1,v},EH=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,o=a===void 0?8:a,i=t.dt,s=i===void 0?17:i,l=function(f,d,h){var p=-(f-d)*n,m=h*o,v=h+(p-m)*s/1e3,b=h*s/1e3+f;return Math.abs(b-d)<Kd&&Math.abs(v)<Kd?[d,0]:[b,v]};return l.isStepper=!0,l.dt=s,l},TH=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return o2(a);case"spring":return EH();default:if(a.split("(")[0]==="cubic-bezier")return o2(a)}return typeof a=="function"?a:null};function uu(e){"@babel/helpers - typeof";return uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uu(e)}function i2(e){return RH(e)||DH(e)||lO(e)||$H()}function $H(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DH(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function RH(e){if(Array.isArray(e))return wm(e)}function s2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s2(Object(r),!0).forEach(function(n){bm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bm(e,t,r){return t=LH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LH(e){var t=IH(e,"string");return uu(t)==="symbol"?t:String(t)}function IH(e,t){if(uu(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(uu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BH(e,t){return UH(e)||zH(e,t)||lO(e,t)||FH()}function FH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lO(e,t){if(e){if(typeof e=="string")return wm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wm(e,t)}}function wm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zH(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function UH(e){if(Array.isArray(e))return e}var Yd=function(t,r,n){return t+(r-t)*n},km=function(t){var r=t.from,n=t.to;return r!==n},WH=function e(t,r,n){var a=vc(function(o,i){if(km(i)){var s=t(i.from,i.to,i.velocity),l=BH(s,2),c=l[0],f=l[1];return qr(qr({},i),{},{from:c,velocity:f})}return i},r);return n<1?vc(function(o,i){return km(i)?qr(qr({},i),{},{velocity:Yd(i.velocity,a[o].velocity,n),from:Yd(i.from,a[o].from,n)}):i},r):e(t,a,n-1)};const GH=function(e,t,r,n,a){var o=bH(e,t),i=o.reduce(function(b,y){return qr(qr({},b),{},bm({},y,[e[y],t[y]]))},{}),s=o.reduce(function(b,y){return qr(qr({},b),{},bm({},y,{from:e[y],velocity:0,to:t[y]}))},{}),l=-1,c,f,d=function(){return null},h=function(){return vc(function(y,g){return g.from},s)},p=function(){return!Object.values(s).filter(km).length},m=function(y){c||(c=y);var g=y-c,x=g/r.dt;s=WH(r,s,x),a(qr(qr(qr({},e),t),h())),c=y,p()||(l=requestAnimationFrame(d))},v=function(y){f||(f=y);var g=(y-f)/n,x=vc(function(k,w){return Yd.apply(void 0,i2(w).concat([r(g)]))},i);if(a(qr(qr(qr({},e),t),x)),g<1)l=requestAnimationFrame(d);else{var j=vc(function(k,w){return Yd.apply(void 0,i2(w).concat([r(1)]))},i);a(qr(qr(qr({},e),t),j))}};return d=r.isStepper?m:v,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function Qs(e){"@babel/helpers - typeof";return Qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qs(e)}var HH=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function VH(e,t){if(e==null)return{};var r=XH(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function XH(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,o;for(o=0;o<n.length;o++)a=n[o],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function bp(e){return ZH(e)||qH(e)||YH(e)||KH()}function KH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YH(e,t){if(e){if(typeof e=="string")return jm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jm(e,t)}}function qH(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ZH(e){if(Array.isArray(e))return jm(e)}function jm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l2(Object(r),!0).forEach(function(n){oc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oc(e,t,r){return t=cO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JH(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cO(n.key),n)}}function eV(e,t,r){return t&&JH(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function cO(e){var t=tV(e,"string");return Qs(t)==="symbol"?t:String(t)}function tV(e,t){if(Qs(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qs(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rV(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sm(e,t)}function Sm(e,t){return Sm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Sm(e,t)}function nV(e){var t=aV();return function(){var n=qd(e),a;if(t){var o=qd(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return Nm(this,a)}}function Nm(e,t){if(t&&(Qs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _m(e)}function _m(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aV(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function qd(e){return qd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qd(e)}var Da=function(e){rV(r,e);var t=nV(r);function r(n,a){var o;QH(this,r),o=t.call(this,n,a);var i=o.props,s=i.isActive,l=i.attributeName,c=i.from,f=i.to,d=i.steps,h=i.children,p=i.duration;if(o.handleStyleChange=o.handleStyleChange.bind(_m(o)),o.changeStyle=o.changeStyle.bind(_m(o)),!s||p<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:f}),Nm(o);if(d&&d.length)o.state={style:d[0].style};else if(c){if(typeof h=="function")return o.state={style:c},Nm(o);o.state={style:l?oc({},l,c):c}}else o.state={style:{}};return o}return eV(r,[{key:"componentDidMount",value:function(){var a=this.props,o=a.isActive,i=a.canBegin;this.mounted=!0,!(!o||!i)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var o=this.props,i=o.isActive,s=o.canBegin,l=o.attributeName,c=o.shouldReAnimate,f=o.to,d=o.from,h=this.state.style;if(s){if(!i){var p={style:l?oc({},l,f):f};this.state&&h&&(l&&h[l]!==f||!l&&h!==f)&&this.setState(p);return}if(!(uH(a.to,f)&&a.canBegin&&a.isActive)){var m=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=m||c?d:a.to;if(this.state&&h){var b={style:l?oc({},l,v):v};(l&&h[l]!==v||!l&&h!==v)&&this.setState(b)}this.runAnimation(Sa(Sa({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var o=this,i=a.from,s=a.to,l=a.duration,c=a.easing,f=a.begin,d=a.onAnimationEnd,h=a.onAnimationStart,p=GH(i,s,TH(c),l,this.changeStyle),m=function(){o.stopJSAnimation=p()};this.manager.start([h,f,m,l,d])}},{key:"runStepAnimation",value:function(a){var o=this,i=a.steps,s=a.begin,l=a.onAnimationStart,c=i[0],f=c.style,d=c.duration,h=d===void 0?0:d,p=function(v,b,y){if(y===0)return v;var g=b.duration,x=b.easing,j=x===void 0?"ease":x,k=b.style,w=b.properties,N=b.onAnimationEnd,_=y>0?i[y-1]:b,O=w||Object.keys(k);if(typeof j=="function"||j==="spring")return[].concat(bp(v),[o.runJSAnimation.bind(o,{from:_.style,to:k,duration:g,easing:j}),g]);var A=n2(O,g,j),M=Sa(Sa(Sa({},_.style),k),{},{transition:A});return[].concat(bp(v),[M,g,N]).filter(wH)};return this.manager.start([l].concat(bp(i.reduce(p,[f,Math.max(h,s)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=yH());var o=a.begin,i=a.duration,s=a.attributeName,l=a.to,c=a.easing,f=a.onAnimationStart,d=a.onAnimationEnd,h=a.steps,p=a.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var v=s?oc({},s,l):l,b=n2(Object.keys(v),i,c);m.start([f,o,Sa(Sa({},v),{},{transition:b}),i,d])}},{key:"render",value:function(){var a=this.props,o=a.children;a.begin;var i=a.duration;a.attributeName,a.easing;var s=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var l=VH(a,HH),c=S.Children.count(o),f=this.state.style;if(typeof o=="function")return o(f);if(!s||c===0||i<=0)return o;var d=function(p){var m=p.props,v=m.style,b=v===void 0?{}:v,y=m.className,g=S.cloneElement(p,Sa(Sa({},l),{},{style:Sa(Sa({},b),f),className:y}));return g};return c===1?d(S.Children.only(o)):R.createElement("div",null,S.Children.map(o,function(h){return d(h)}))}}]),r}(S.PureComponent);Da.displayName="Animate";Da.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Da.propTypes={from:xt.oneOfType([xt.object,xt.string]),to:xt.oneOfType([xt.object,xt.string]),attributeName:xt.string,duration:xt.number,begin:xt.number,easing:xt.oneOfType([xt.string,xt.func]),steps:xt.arrayOf(xt.shape({duration:xt.number.isRequired,style:xt.object.isRequired,easing:xt.oneOfType([xt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),xt.func]),properties:xt.arrayOf("string"),onAnimationEnd:xt.func})),children:xt.oneOfType([xt.node,xt.func]),isActive:xt.bool,canBegin:xt.bool,onAnimationEnd:xt.func,shouldReAnimate:xt.bool,onAnimationStart:xt.func,onAnimationReStart:xt.func};function fu(e){"@babel/helpers - typeof";return fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fu(e)}function Zd(){return Zd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zd.apply(this,arguments)}function oV(e,t){return cV(e)||lV(e,t)||sV(e,t)||iV()}function iV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sV(e,t){if(e){if(typeof e=="string")return c2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c2(e,t)}}function c2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lV(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function cV(e){if(Array.isArray(e))return e}function u2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function f2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u2(Object(r),!0).forEach(function(n){uV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uV(e,t,r){return t=fV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fV(e){var t=dV(e,"string");return fu(t)=="symbol"?t:t+""}function dV(e,t){if(fu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var d2=function(t,r,n,a,o){var i=Math.min(Math.abs(n)/2,Math.abs(a)/2),s=a>=0?1:-1,l=n>=0?1:-1,c=a>=0&&n>=0||a<0&&n<0?1:0,f;if(i>0&&o instanceof Array){for(var d=[0,0,0,0],h=0,p=4;h<p;h++)d[h]=o[h]>i?i:o[h];f="M".concat(t,",").concat(r+s*d[0]),d[0]>0&&(f+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(t+l*d[0],",").concat(r)),f+="L ".concat(t+n-l*d[1],",").concat(r),d[1]>0&&(f+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(t+n,",").concat(r+s*d[1])),f+="L ".concat(t+n,",").concat(r+a-s*d[2]),d[2]>0&&(f+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(t+n-l*d[2],",").concat(r+a)),f+="L ".concat(t+l*d[3],",").concat(r+a),d[3]>0&&(f+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(r+a-s*d[3])),f+="Z"}else if(i>0&&o===+o&&o>0){var m=Math.min(i,o);f="M ".concat(t,",").concat(r+s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+l*m,",").concat(r,`
            L `).concat(t+n-l*m,",").concat(r,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+n,",").concat(r+s*m,`
            L `).concat(t+n,",").concat(r+a-s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+n-l*m,",").concat(r+a,`
            L `).concat(t+l*m,",").concat(r+a,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t,",").concat(r+a-s*m," Z")}else f="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return f},hV=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,o=r.x,i=r.y,s=r.width,l=r.height;if(Math.abs(s)>0&&Math.abs(l)>0){var c=Math.min(o,o+s),f=Math.max(o,o+s),d=Math.min(i,i+l),h=Math.max(i,i+l);return n>=c&&n<=f&&a>=d&&a<=h}return!1},pV={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Vv=function(t){var r=f2(f2({},pV),t),n=S.useRef(),a=S.useState(-1),o=oV(a,2),i=o[0],s=o[1];S.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var j=n.current.getTotalLength();j&&s(j)}catch{}},[]);var l=r.x,c=r.y,f=r.width,d=r.height,h=r.radius,p=r.className,m=r.animationEasing,v=r.animationDuration,b=r.animationBegin,y=r.isAnimationActive,g=r.isUpdateAnimationActive;if(l!==+l||c!==+c||f!==+f||d!==+d||f===0||d===0)return null;var x=it("recharts-rectangle",p);return g?R.createElement(Da,{canBegin:i>0,from:{width:f,height:d,x:l,y:c},to:{width:f,height:d,x:l,y:c},duration:v,animationEasing:m,isActive:g},function(j){var k=j.width,w=j.height,N=j.x,_=j.y;return R.createElement(Da,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:v,isActive:y,easing:m},R.createElement("path",Zd({},Fe(r,!0),{className:x,d:d2(N,_,k,w,h),ref:n})))}):R.createElement("path",Zd({},Fe(r,!0),{className:x,d:d2(l,c,f,d,h)}))};function Om(){return Om=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Om.apply(this,arguments)}var h0=function(t){var r=t.cx,n=t.cy,a=t.r,o=t.className,i=it("recharts-dot",o);return r===+r&&n===+n&&a===+a?S.createElement("circle",Om({},Fe(t,!1),gd(t),{className:i,cx:r,cy:n,r:a})):null};function du(e){"@babel/helpers - typeof";return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},du(e)}var gV=["x","y","top","left","width","height","className"];function Pm(){return Pm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pm.apply(this,arguments)}function h2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mV(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h2(Object(r),!0).forEach(function(n){yV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yV(e,t,r){return t=vV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vV(e){var t=xV(e,"string");return du(t)=="symbol"?t:t+""}function xV(e,t){if(du(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(du(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bV(e,t){if(e==null)return{};var r=wV(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wV(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var kV=function(t,r,n,a,o,i){return"M".concat(t,",").concat(o,"v").concat(a,"M").concat(i,",").concat(r,"h").concat(n)},jV=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,o=a===void 0?0:a,i=t.top,s=i===void 0?0:i,l=t.left,c=l===void 0?0:l,f=t.width,d=f===void 0?0:f,h=t.height,p=h===void 0?0:h,m=t.className,v=bV(t,gV),b=mV({x:n,y:o,top:s,left:c,width:d,height:p},v);return!de(n)||!de(o)||!de(d)||!de(p)||!de(s)||!de(c)?null:R.createElement("path",Pm({},Fe(b,!0),{className:it("recharts-cross",m),d:kV(n,o,d,p,s,c)}))},SV=NN,NV=SV(Object.getPrototypeOf,Object),_V=NV,OV=jo,PV=_V,AV=So,MV="[object Object]",CV=Function.prototype,EV=Object.prototype,uO=CV.toString,TV=EV.hasOwnProperty,$V=uO.call(Object);function DV(e){if(!AV(e)||OV(e)!=MV)return!1;var t=PV(e);if(t===null)return!0;var r=TV.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&uO.call(r)==$V}var RV=DV;const LV=Dt(RV);var IV=jo,BV=So,FV="[object Boolean]";function zV(e){return e===!0||e===!1||BV(e)&&IV(e)==FV}var UV=zV;const WV=Dt(UV);function hu(e){"@babel/helpers - typeof";return hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hu(e)}function Qd(){return Qd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qd.apply(this,arguments)}function GV(e,t){return KV(e)||XV(e,t)||VV(e,t)||HV()}function HV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VV(e,t){if(e){if(typeof e=="string")return p2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p2(e,t)}}function p2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function XV(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function KV(e){if(Array.isArray(e))return e}function g2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function m2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g2(Object(r),!0).forEach(function(n){YV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YV(e,t,r){return t=qV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qV(e){var t=ZV(e,"string");return hu(t)=="symbol"?t:t+""}function ZV(e,t){if(hu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var y2=function(t,r,n,a,o){var i=n-a,s;return s="M ".concat(t,",").concat(r),s+="L ".concat(t+n,",").concat(r),s+="L ".concat(t+n-i/2,",").concat(r+o),s+="L ".concat(t+n-i/2-a,",").concat(r+o),s+="L ".concat(t,",").concat(r," Z"),s},QV={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},JV=function(t){var r=m2(m2({},QV),t),n=S.useRef(),a=S.useState(-1),o=GV(a,2),i=o[0],s=o[1];S.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var x=n.current.getTotalLength();x&&s(x)}catch{}},[]);var l=r.x,c=r.y,f=r.upperWidth,d=r.lowerWidth,h=r.height,p=r.className,m=r.animationEasing,v=r.animationDuration,b=r.animationBegin,y=r.isUpdateAnimationActive;if(l!==+l||c!==+c||f!==+f||d!==+d||h!==+h||f===0&&d===0||h===0)return null;var g=it("recharts-trapezoid",p);return y?R.createElement(Da,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:f,lowerWidth:d,height:h,x:l,y:c},duration:v,animationEasing:m,isActive:y},function(x){var j=x.upperWidth,k=x.lowerWidth,w=x.height,N=x.x,_=x.y;return R.createElement(Da,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:v,easing:m},R.createElement("path",Qd({},Fe(r,!0),{className:g,d:y2(N,_,j,k,w),ref:n})))}):R.createElement("g",null,R.createElement("path",Qd({},Fe(r,!0),{className:g,d:y2(l,c,f,d,h)})))},eX=["option","shapeType","propTransformer","activeClassName","isActive"];function pu(e){"@babel/helpers - typeof";return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pu(e)}function tX(e,t){if(e==null)return{};var r=rX(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rX(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function v2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v2(Object(r),!0).forEach(function(n){nX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nX(e,t,r){return t=aX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aX(e){var t=oX(e,"string");return pu(t)=="symbol"?t:t+""}function oX(e,t){if(pu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iX(e,t){return Jd(Jd({},t),e)}function sX(e,t){return e==="symbols"}function x2(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return R.createElement(Vv,r);case"trapezoid":return R.createElement(JV,r);case"sector":return R.createElement(J_,r);case"symbols":if(sX(t))return R.createElement(e0,r);break;default:return null}}function lX(e){return S.isValidElement(e)?e.props:e}function Am(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?iX:n,o=e.activeClassName,i=o===void 0?"recharts-active-shape":o,s=e.isActive,l=tX(e,eX),c;if(S.isValidElement(t))c=S.cloneElement(t,Jd(Jd({},l),lX(t)));else if(We(t))c=t(l);else if(LV(t)&&!WV(t)){var f=a(t,l);c=R.createElement(x2,{shapeType:r,elementProps:f})}else{var d=l;c=R.createElement(x2,{shapeType:r,elementProps:d})}return s?R.createElement(pt,{className:i},c):c}function p0(e,t){return t!=null&&"trapezoids"in e.props}function g0(e,t){return t!=null&&"sectors"in e.props}function gu(e,t){return t!=null&&"points"in e.props}function cX(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,o=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&o}function uX(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function fX(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function dX(e,t){var r;return p0(e,t)?r=cX:g0(e,t)?r=uX:gu(e,t)&&(r=fX),r}function hX(e,t){var r;return p0(e,t)?r="trapezoids":g0(e,t)?r="sectors":gu(e,t)&&(r="points"),r}function pX(e,t){if(p0(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(g0(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return gu(e,t)?t.payload:{}}function gX(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=hX(r,t),o=pX(r,t),i=n.filter(function(l,c){var f=Gi(o,l),d=r.props[a].filter(function(m){var v=dX(r,t);return v(m,t)}),h=r.props[a].indexOf(d[d.length-1]),p=c===h;return f&&p}),s=n.indexOf(i[i.length-1]);return s}var mX=Math.ceil,yX=Math.max;function vX(e,t,r,n){for(var a=-1,o=yX(mX((t-e)/(r||1)),0),i=Array(o);o--;)i[n?o:++a]=e,e+=r;return i}var xX=vX,bX=GN,b2=1/0,wX=17976931348623157e292;function kX(e){if(!e)return e===0?e:0;if(e=bX(e),e===b2||e===-b2){var t=e<0?-1:1;return t*wX}return e===e?e:0}var fO=kX,jX=xX,SX=n0,wp=fO;function NX(e){return function(t,r,n){return n&&typeof n!="number"&&SX(t,r,n)&&(r=n=void 0),t=wp(t),r===void 0?(r=t,t=0):r=wp(r),n=n===void 0?t<r?1:-1:wp(n),jX(t,r,n,e)}}var _X=NX,OX=_X,PX=OX(),AX=PX;const eh=Dt(AX);function mu(e){"@babel/helpers - typeof";return mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mu(e)}function w2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function k2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w2(Object(r),!0).forEach(function(n){dO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dO(e,t,r){return t=MX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MX(e){var t=CX(e,"string");return mu(t)=="symbol"?t:t+""}function CX(e,t){if(mu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EX=["Webkit","Moz","O","ms"],TX=function(t,r){var n=t.replace(/(\w)/,function(o){return o.toUpperCase()}),a=EX.reduce(function(o,i){return k2(k2({},o),{},dO({},i+n,r))},{});return a[t]=r,a};function Js(e){"@babel/helpers - typeof";return Js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Js(e)}function th(){return th=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},th.apply(this,arguments)}function j2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j2(Object(r),!0).forEach(function(n){Xn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $X(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pO(n.key),n)}}function DX(e,t,r){return t&&S2(e.prototype,t),r&&S2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function RX(e,t,r){return t=rh(t),LX(e,hO()?Reflect.construct(t,r||[],rh(e).constructor):t.apply(e,r))}function LX(e,t){if(t&&(Js(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IX(e)}function IX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hO=function(){return!!e})()}function rh(e){return rh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rh(e)}function BX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mm(e,t)}function Mm(e,t){return Mm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Mm(e,t)}function Xn(e,t,r){return t=pO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pO(e){var t=FX(e,"string");return Js(t)=="symbol"?t:t+""}function FX(e,t){if(Js(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Js(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var zX=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,o=t.x,i=t.width,s=t.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=mc().domain(eh(0,l)).range([o,o+i-s]),f=c.domain().map(function(d){return c(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(a),scale:c,scaleValues:f}},N2=function(t){return t.changedTouches&&!!t.changedTouches.length},el=function(e){function t(r){var n;return $X(this,t),n=RX(this,t,[r]),Xn(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Xn(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Xn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,o=a.endIndex,i=a.onDragEnd,s=a.startIndex;i==null||i({endIndex:o,startIndex:s})}),n.detachDragEndListener()}),Xn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Xn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Xn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Xn(n,"handleSlideDragStart",function(a){var o=N2(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return BX(t,e),DX(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,o=n.endX,i=this.state.scaleValues,s=this.props,l=s.gap,c=s.data,f=c.length-1,d=Math.min(a,o),h=Math.max(a,o),p=t.getIndexInRange(i,d),m=t.getIndexInRange(i,h);return{startIndex:p-p%l,endIndex:m===f?f:m-m%l}}},{key:"getTextOfTick",value:function(n){var a=this.props,o=a.data,i=a.tickFormatter,s=a.dataKey,l=Rr(o[n],s,n);return We(i)?i(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,o=a.slideMoveStartX,i=a.startX,s=a.endX,l=this.props,c=l.x,f=l.width,d=l.travellerWidth,h=l.startIndex,p=l.endIndex,m=l.onChange,v=n.pageX-o;v>0?v=Math.min(v,c+f-d-s,c+f-d-i):v<0&&(v=Math.max(v,c-i,c-s));var b=this.getIndex({startX:i+v,endX:s+v});(b.startIndex!==h||b.endIndex!==p)&&m&&m(b),this.setState({startX:i+v,endX:s+v,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var o=N2(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,o=a.brushMoveStartX,i=a.movingTravellerId,s=a.endX,l=a.startX,c=this.state[i],f=this.props,d=f.x,h=f.width,p=f.travellerWidth,m=f.onChange,v=f.gap,b=f.data,y={startX:this.state.startX,endX:this.state.endX},g=n.pageX-o;g>0?g=Math.min(g,d+h-p-c):g<0&&(g=Math.max(g,d-c)),y[i]=c+g;var x=this.getIndex(y),j=x.startIndex,k=x.endIndex,w=function(){var _=b.length-1;return i==="startX"&&(s>l?j%v===0:k%v===0)||s<l&&k===_||i==="endX"&&(s>l?k%v===0:j%v===0)||s>l&&k===_};this.setState(Xn(Xn({},i,c+g),"brushMoveStartX",n.pageX),function(){m&&w()&&m(x)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var o=this,i=this.state,s=i.scaleValues,l=i.startX,c=i.endX,f=this.state[a],d=s.indexOf(f);if(d!==-1){var h=d+n;if(!(h===-1||h>=s.length)){var p=s[h];a==="startX"&&p>=c||a==="endX"&&p<=l||this.setState(Xn({},a,p),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,o=n.y,i=n.width,s=n.height,l=n.fill,c=n.stroke;return R.createElement("rect",{stroke:c,fill:l,x:a,y:o,width:i,height:s})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,o=n.y,i=n.width,s=n.height,l=n.data,c=n.children,f=n.padding,d=S.Children.only(c);return d?R.cloneElement(d,{x:a,y:o,width:i,height:s,margin:f,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,a){var o,i,s=this,l=this.props,c=l.y,f=l.travellerWidth,d=l.height,h=l.traveller,p=l.ariaLabel,m=l.data,v=l.startIndex,b=l.endIndex,y=Math.max(n,this.props.x),g=kp(kp({},Fe(this.props,!1)),{},{x:y,y:c,width:f,height:d}),x=p||"Min value: ".concat((o=m[v])===null||o===void 0?void 0:o.name,", Max value: ").concat((i=m[b])===null||i===void 0?void 0:i.name);return R.createElement(pt,{tabIndex:0,role:"slider","aria-label":x,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(k){["ArrowLeft","ArrowRight"].includes(k.key)&&(k.preventDefault(),k.stopPropagation(),s.handleTravellerMoveKeyboard(k.key==="ArrowRight"?1:-1,a))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,g))}},{key:"renderSlide",value:function(n,a){var o=this.props,i=o.y,s=o.height,l=o.stroke,c=o.travellerWidth,f=Math.min(n,a)+c,d=Math.max(Math.abs(a-n)-c,0);return R.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:f,y:i,width:d,height:s})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,o=n.endIndex,i=n.y,s=n.height,l=n.travellerWidth,c=n.stroke,f=this.state,d=f.startX,h=f.endX,p=5,m={pointerEvents:"none",fill:c};return R.createElement(pt,{className:"recharts-brush-texts"},R.createElement(Ad,th({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-p,y:i+s/2},m),this.getTextOfTick(a)),R.createElement(Ad,th({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+l+p,y:i+s/2},m),this.getTextOfTick(o)))}},{key:"render",value:function(){var n=this.props,a=n.data,o=n.className,i=n.children,s=n.x,l=n.y,c=n.width,f=n.height,d=n.alwaysShowText,h=this.state,p=h.startX,m=h.endX,v=h.isTextActive,b=h.isSlideMoving,y=h.isTravellerMoving,g=h.isTravellerFocused;if(!a||!a.length||!de(s)||!de(l)||!de(c)||!de(f)||c<=0||f<=0)return null;var x=it("recharts-brush",o),j=R.Children.count(i)===1,k=TX("userSelect","none");return R.createElement(pt,{className:x,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:k},this.renderBackground(),j&&this.renderPanorama(),this.renderSlide(p,m),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(m,"endX"),(v||b||y||g||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,o=n.y,i=n.width,s=n.height,l=n.stroke,c=Math.floor(o+s/2)-1;return R.createElement(R.Fragment,null,R.createElement("rect",{x:a,y:o,width:i,height:s,fill:l,stroke:"none"}),R.createElement("line",{x1:a+1,y1:c,x2:a+i-1,y2:c,fill:"none",stroke:"#fff"}),R.createElement("line",{x1:a+1,y1:c+2,x2:a+i-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var o;return R.isValidElement(n)?o=R.cloneElement(n,a):We(n)?o=n(a):o=t.renderDefaultTraveller(a),o}},{key:"getDerivedStateFromProps",value:function(n,a){var o=n.data,i=n.width,s=n.x,l=n.travellerWidth,c=n.updateId,f=n.startIndex,d=n.endIndex;if(o!==a.prevData||c!==a.prevUpdateId)return kp({prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:i},o&&o.length?zX({data:o,width:i,x:s,travellerWidth:l,startIndex:f,endIndex:d}):{scale:null,scaleValues:null});if(a.scale&&(i!==a.prevWidth||s!==a.prevX||l!==a.prevTravellerWidth)){a.scale.range([s,s+i-l]);var h=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:i,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var o=n.length,i=0,s=o-1;s-i>1;){var l=Math.floor((i+s)/2);n[l]>a?s=l:i=l}return a>=n[s]?s:i}}])}(S.PureComponent);Xn(el,"displayName","Brush");Xn(el,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var UX=yv;function WX(e,t){var r;return UX(e,function(n,a,o){return r=t(n,a,o),!r}),!!r}var GX=WX,HX=yN,VX=oi,XX=GX,KX=Gn,YX=n0;function qX(e,t,r){var n=KX(e)?HX:XX;return r&&YX(e,t,r)&&(t=void 0),n(e,VX(t))}var ZX=qX;const QX=Dt(ZX);var Xa=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},_2=BN;function JX(e,t,r){t=="__proto__"&&_2?_2(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var eK=JX,tK=eK,rK=LN,nK=oi;function aK(e,t){var r={};return t=nK(t),rK(e,function(n,a,o){tK(r,a,t(n,a,o))}),r}var oK=aK;const iK=Dt(oK);function sK(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var lK=sK,cK=yv;function uK(e,t){var r=!0;return cK(e,function(n,a,o){return r=!!t(n,a,o),r}),r}var fK=uK,dK=lK,hK=fK,pK=oi,gK=Gn,mK=n0;function yK(e,t,r){var n=gK(e)?dK:hK;return r&&mK(e,t,r)&&(t=void 0),n(e,pK(t))}var vK=yK;const gO=Dt(vK);var xK=["x","y"];function yu(e){"@babel/helpers - typeof";return yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yu(e)}function Cm(){return Cm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cm.apply(this,arguments)}function O2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ec(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O2(Object(r),!0).forEach(function(n){bK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bK(e,t,r){return t=wK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wK(e){var t=kK(e,"string");return yu(t)=="symbol"?t:t+""}function kK(e,t){if(yu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jK(e,t){if(e==null)return{};var r=SK(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function SK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function NK(e,t){var r=e.x,n=e.y,a=jK(e,xK),o="".concat(r),i=parseInt(o,10),s="".concat(n),l=parseInt(s,10),c="".concat(t.height||a.height),f=parseInt(c,10),d="".concat(t.width||a.width),h=parseInt(d,10);return ec(ec(ec(ec(ec({},t),a),i?{x:i}:{}),l?{y:l}:{}),{},{height:f,width:h,name:t.name,radius:t.radius})}function P2(e){return R.createElement(Am,Cm({shapeType:"rectangle",propTransformer:NK,activeClassName:"recharts-active-bar"},e))}var _K=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var o=de(n)||FT(n);return o?t(n,a):(o||Vi(),r)}},OK=["value","background"],mO;function tl(e){"@babel/helpers - typeof";return tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tl(e)}function PK(e,t){if(e==null)return{};var r=AK(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function AK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function nh(){return nh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nh.apply(this,arguments)}function A2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A2(Object(r),!0).forEach(function(n){zo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vO(n.key),n)}}function CK(e,t,r){return t&&M2(e.prototype,t),r&&M2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function EK(e,t,r){return t=ah(t),TK(e,yO()?Reflect.construct(t,r||[],ah(e).constructor):t.apply(e,r))}function TK(e,t){if(t&&(tl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $K(e)}function $K(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yO=function(){return!!e})()}function ah(e){return ah=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ah(e)}function DK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Em(e,t)}function Em(e,t){return Em=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Em(e,t)}function zo(e,t,r){return t=vO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vO(e){var t=RK(e,"string");return tl(t)=="symbol"?t:t+""}function RK(e,t){if(tl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var $u=function(e){function t(){var r;MK(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=EK(this,t,[].concat(a)),zo(r,"state",{isAnimationFinished:!1}),zo(r,"id",Qi("recharts-bar-")),zo(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),i&&i()}),zo(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),i&&i()}),r}return DK(t,e),CK(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,o=this.props,i=o.shape,s=o.dataKey,l=o.activeIndex,c=o.activeBar,f=Fe(this.props,!1);return n&&n.map(function(d,h){var p=h===l,m=p?c:i,v=jr(jr(jr({},f),d),{},{isActive:p,option:m,index:h,dataKey:s,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return R.createElement(pt,nh({className:"recharts-bar-rectangle"},Fc(a.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(h)}),R.createElement(P2,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,o=a.data,i=a.layout,s=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,f=a.animationEasing,d=a.animationId,h=this.state.prevData;return R.createElement(Da,{begin:l,duration:c,isActive:s,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var m=p.t,v=o.map(function(b,y){var g=h&&h[y];if(g){var x=br(g.x,b.x),j=br(g.y,b.y),k=br(g.width,b.width),w=br(g.height,b.height);return jr(jr({},b),{},{x:x(m),y:j(m),width:k(m),height:w(m)})}if(i==="horizontal"){var N=br(0,b.height),_=N(m);return jr(jr({},b),{},{y:b.y+b.height-_,height:_})}var O=br(0,b.width),A=O(m);return jr(jr({},b),{},{width:A})});return R.createElement(pt,null,n.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,o=n.isAnimationActive,i=this.state.prevData;return o&&a&&a.length&&(!i||!Gi(i,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,o=a.data,i=a.dataKey,s=a.activeIndex,l=Fe(this.props.background,!1);return o.map(function(c,f){c.value;var d=c.background,h=PK(c,OK);if(!d)return null;var p=jr(jr(jr(jr(jr({},h),{},{fill:"#eee"},d),l),Fc(n.props,c,f)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:i,index:f,className:"recharts-bar-background-rectangle"});return R.createElement(P2,nh({key:"background-bar-".concat(f),option:n.props.background,isActive:f===s},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,i=o.data,s=o.xAxis,l=o.yAxis,c=o.layout,f=o.children,d=zn(f,Al);if(!d)return null;var h=c==="vertical"?i[0].height/2:i[0].width/2,p=function(b,y){var g=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:g,errorVal:Rr(b,y)}},m={clipPath:n?"url(#clipPath-".concat(a,")"):null};return R.createElement(pt,m,d.map(function(v){return R.cloneElement(v,{key:"error-bar-".concat(a,"-").concat(v.props.dataKey),data:i,xAxis:s,yAxis:l,layout:c,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,o=n.data,i=n.className,s=n.xAxis,l=n.yAxis,c=n.left,f=n.top,d=n.width,h=n.height,p=n.isAnimationActive,m=n.background,v=n.id;if(a||!o||!o.length)return null;var b=this.state.isAnimationFinished,y=it("recharts-bar",i),g=s&&s.allowDataOverflow,x=l&&l.allowDataOverflow,j=g||x,k=Ie(v)?this.id:v;return R.createElement(pt,{className:y},g||x?R.createElement("defs",null,R.createElement("clipPath",{id:"clipPath-".concat(k)},R.createElement("rect",{x:g?c:c-d/2,y:x?f:f-h/2,width:g?d:d*2,height:x?h:h*2}))):null,R.createElement(pt,{className:"recharts-bar-rectangles",clipPath:j?"url(#clipPath-".concat(k,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(j,k),(!p||b)&&Va.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(S.PureComponent);mO=$u;zo($u,"displayName","Bar");zo($u,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ii.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});zo($u,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,o=e.xAxis,i=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,f=e.dataStartIndex,d=e.displayedData,h=e.offset,p=cW(n,r);if(!p)return null;var m=t.layout,v=r.type.defaultProps,b=v!==void 0?jr(jr({},v),r.props):r.props,y=b.dataKey,g=b.children,x=b.minPointSize,j=m==="horizontal"?i:o,k=c?j.scale.domain():null,w=yW({numericAxis:j}),N=zn(g,bv),_=d.map(function(O,A){var M,C,$,F,T,W;c?M=uW(c[f+A],k):(M=Rr(O,y),Array.isArray(M)||(M=[w,M]));var P=_K(x,mO.defaultProps.minPointSize)(M[1],A);if(m==="horizontal"){var E,L=[i.scale(M[0]),i.scale(M[1])],z=L[0],Z=L[1];C=Ew({axis:o,ticks:s,bandSize:a,offset:p.offset,entry:O,index:A}),$=(E=Z??z)!==null&&E!==void 0?E:void 0,F=p.size;var q=z-Z;if(T=Number.isNaN(q)?0:q,W={x:C,y:i.y,width:F,height:i.height},Math.abs(P)>0&&Math.abs(T)<Math.abs(P)){var H=Ca(T||P)*(Math.abs(P)-Math.abs(T));$-=H,T+=H}}else{var se=[o.scale(M[0]),o.scale(M[1])],ee=se[0],D=se[1];if(C=ee,$=Ew({axis:i,ticks:l,bandSize:a,offset:p.offset,entry:O,index:A}),F=D-ee,T=p.size,W={x:o.x,y:$,width:o.width,height:T},Math.abs(P)>0&&Math.abs(F)<Math.abs(P)){var ne=Ca(F||P)*(Math.abs(P)-Math.abs(F));F+=ne}}return jr(jr(jr({},O),{},{x:C,y:$,width:F,height:T,value:c?M:M[1],payload:O,background:W},N&&N[A]&&N[A].props),{},{tooltipPayload:[q_(r,O)],tooltipPosition:{x:C+F/2,y:$+T/2}})});return jr({data:_,layout:m},h)});function vu(e){"@babel/helpers - typeof";return vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vu(e)}function LK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xO(n.key),n)}}function IK(e,t,r){return t&&C2(e.prototype,t),r&&C2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function E2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Oa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E2(Object(r),!0).forEach(function(n){m0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function m0(e,t,r){return t=xO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xO(e){var t=BK(e,"string");return vu(t)=="symbol"?t:t+""}function BK(e,t){if(vu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xv=function(t,r,n,a,o){var i=t.width,s=t.height,l=t.layout,c=t.children,f=Object.keys(r),d={left:n.left,leftMirror:n.left,right:i-n.right,rightMirror:i-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},h=!!Yn(c,$u);return f.reduce(function(p,m){var v=r[m],b=v.orientation,y=v.domain,g=v.padding,x=g===void 0?{}:g,j=v.mirror,k=v.reversed,w="".concat(b).concat(j?"Mirror":""),N,_,O,A,M;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var C=y[1]-y[0],$=1/0,F=v.categoricalDomain.sort(GT);if(F.forEach(function(se,ee){ee>0&&($=Math.min((se||0)-(F[ee-1]||0),$))}),Number.isFinite($)){var T=$/C,W=v.layout==="vertical"?n.height:n.width;if(v.padding==="gap"&&(N=T*W/2),v.padding==="no-gap"){var P=Wi(t.barCategoryGap,T*W),E=T*W/2;N=E-P-(E-P)/W*P}}}a==="xAxis"?_=[n.left+(x.left||0)+(N||0),n.left+n.width-(x.right||0)-(N||0)]:a==="yAxis"?_=l==="horizontal"?[n.top+n.height-(x.bottom||0),n.top+(x.top||0)]:[n.top+(x.top||0)+(N||0),n.top+n.height-(x.bottom||0)-(N||0)]:_=v.range,k&&(_=[_[1],_[0]]);var L=sW(v,o,h),z=L.scale,Z=L.realScaleType;z.domain(y).range(_),lW(z);var q=mW(z,Oa(Oa({},v),{},{realScaleType:Z}));a==="xAxis"?(M=b==="top"&&!j||b==="bottom"&&j,O=n.left,A=d[w]-M*v.height):a==="yAxis"&&(M=b==="left"&&!j||b==="right"&&j,O=d[w]-M*v.width,A=n.top);var H=Oa(Oa(Oa({},v),q),{},{realScaleType:Z,x:O,y:A,scale:z,width:a==="xAxis"?n.width:v.width,height:a==="yAxis"?n.height:v.height});return H.bandSize=Gd(H,q),!v.hide&&a==="xAxis"?d[w]+=(M?-1:1)*H.height:v.hide||(d[w]+=(M?-1:1)*H.width),Oa(Oa({},p),{},m0({},m,H))},{})},bO=function(t,r){var n=t.x,a=t.y,o=r.x,i=r.y;return{x:Math.min(n,o),y:Math.min(a,i),width:Math.abs(o-n),height:Math.abs(i-a)}},FK=function(t){var r=t.x1,n=t.y1,a=t.x2,o=t.y2;return bO({x:r,y:n},{x:a,y:o})},wO=function(){function e(t){LK(this,e),this.scale=t}return IK(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,o=n.position;if(r!==void 0){if(o)switch(o){case"start":return this.scale(r);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(r)+s}default:return this.scale(r)}if(a){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],o=n[n.length-1];return a<=o?r>=a&&r<=o:r>=o&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();m0(wO,"EPS",1e-4);var Kv=function(t){var r=Object.keys(t).reduce(function(n,a){return Oa(Oa({},n),{},m0({},a,wO.create(t[a])))},{});return Oa(Oa({},r),{},{apply:function(a){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=o.bandAware,s=o.position;return iK(a,function(l,c){return r[c].apply(l,{bandAware:i,position:s})})},isInRange:function(a){return gO(a,function(o,i){return r[i].isInRange(o)})}})};function zK(e){return(e%180+180)%180}var UK=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=zK(a),i=o*Math.PI/180,s=Math.atan(n/r),l=i>s&&i<Math.PI-s?n/Math.sin(i):r/Math.cos(i);return Math.abs(l)},WK=oi,GK=Au,HK=t0;function VK(e){return function(t,r,n){var a=Object(t);if(!GK(t)){var o=WK(r);t=HK(t),r=function(s){return o(a[s],s,a)}}var i=e(t,r,n);return i>-1?a[o?t[i]:i]:void 0}}var XK=VK,KK=fO;function YK(e){var t=KK(e),r=t%1;return t===t?r?t-r:t:0}var qK=YK,ZK=CN,QK=oi,JK=qK,eY=Math.max;function tY(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:JK(r);return a<0&&(a=eY(n+a,0)),ZK(e,QK(t),a)}var rY=tY,nY=XK,aY=rY,oY=nY(aY),iY=oY;const sY=Dt(iY);var lY=VE(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),Yv=S.createContext(void 0),qv=S.createContext(void 0),kO=S.createContext(void 0),jO=S.createContext({}),SO=S.createContext(void 0),NO=S.createContext(0),_O=S.createContext(0),T2=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,o=r.offset,i=t.clipPathId,s=t.children,l=t.width,c=t.height,f=lY(o);return R.createElement(Yv.Provider,{value:n},R.createElement(qv.Provider,{value:a},R.createElement(jO.Provider,{value:o},R.createElement(kO.Provider,{value:f},R.createElement(SO.Provider,{value:i},R.createElement(NO.Provider,{value:c},R.createElement(_O.Provider,{value:l},s)))))))},cY=function(){return S.useContext(SO)},OO=function(t){var r=S.useContext(Yv);r==null&&Vi();var n=r[t];return n==null&&Vi(),n},uY=function(){var t=S.useContext(Yv);return Lo(t)},fY=function(){var t=S.useContext(qv),r=sY(t,function(n){return gO(n.domain,Number.isFinite)});return r||Lo(t)},PO=function(t){var r=S.useContext(qv);r==null&&Vi();var n=r[t];return n==null&&Vi(),n},dY=function(){var t=S.useContext(kO);return t},hY=function(){return S.useContext(jO)},Zv=function(){return S.useContext(_O)},Qv=function(){return S.useContext(NO)};function rl(e){"@babel/helpers - typeof";return rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rl(e)}function pY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,MO(n.key),n)}}function mY(e,t,r){return t&&gY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function yY(e,t,r){return t=oh(t),vY(e,AO()?Reflect.construct(t,r||[],oh(e).constructor):t.apply(e,r))}function vY(e,t){if(t&&(rl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xY(e)}function xY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AO=function(){return!!e})()}function oh(e){return oh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},oh(e)}function bY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tm(e,t)}function Tm(e,t){return Tm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Tm(e,t)}function $2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function D2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$2(Object(r),!0).forEach(function(n){Jv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jv(e,t,r){return t=MO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MO(e){var t=wY(e,"string");return rl(t)=="symbol"?t:t+""}function wY(e,t){if(rl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function kY(e,t){return _Y(e)||NY(e,t)||SY(e,t)||jY()}function jY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SY(e,t){if(e){if(typeof e=="string")return R2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return R2(e,t)}}function R2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function NY(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function _Y(e){if(Array.isArray(e))return e}function $m(){return $m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$m.apply(this,arguments)}var OY=function(t,r){var n;return R.isValidElement(t)?n=R.cloneElement(t,r):We(t)?n=t(r):n=R.createElement("line",$m({},r,{className:"recharts-reference-line-line"})),n},PY=function(t,r,n,a,o,i,s,l,c){var f=o.x,d=o.y,h=o.width,p=o.height;if(n){var m=c.y,v=t.y.apply(m,{position:i});if(Xa(c,"discard")&&!t.y.isInRange(v))return null;var b=[{x:f+h,y:v},{x:f,y:v}];return l==="left"?b.reverse():b}if(r){var y=c.x,g=t.x.apply(y,{position:i});if(Xa(c,"discard")&&!t.x.isInRange(g))return null;var x=[{x:g,y:d+p},{x:g,y:d}];return s==="top"?x.reverse():x}if(a){var j=c.segment,k=j.map(function(w){return t.apply(w,{position:i})});return Xa(c,"discard")&&QX(k,function(w){return!t.isInRange(w)})?null:k}return null};function AY(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,o=e.yAxisId,i=e.shape,s=e.className,l=e.alwaysShow,c=cY(),f=OO(a),d=PO(o),h=dY();if(!c||!h)return null;fo(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=Kv({x:f.scale,y:d.scale}),m=Dr(t),v=Dr(r),b=n&&n.length===2,y=PY(p,m,v,b,h,e.position,f.orientation,d.orientation,e);if(!y)return null;var g=kY(y,2),x=g[0],j=x.x,k=x.y,w=g[1],N=w.x,_=w.y,O=Xa(e,"hidden")?"url(#".concat(c,")"):void 0,A=D2(D2({clipPath:O},Fe(e,!0)),{},{x1:j,y1:k,x2:N,y2:_});return R.createElement(pt,{className:it("recharts-reference-line",s)},OY(i,A),Qr.renderCallByParent(e,FK({x1:j,y1:k,x2:N,y2:_})))}var Ai=function(e){function t(){return pY(this,t),yY(this,t,arguments)}return bY(t,e),mY(t,[{key:"render",value:function(){return R.createElement(AY,this.props)}}])}(R.Component);Jv(Ai,"displayName","ReferenceLine");Jv(Ai,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Dm(){return Dm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dm.apply(this,arguments)}function nl(e){"@babel/helpers - typeof";return nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nl(e)}function L2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function I2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L2(Object(r),!0).forEach(function(n){y0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,EO(n.key),n)}}function EY(e,t,r){return t&&CY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function TY(e,t,r){return t=ih(t),$Y(e,CO()?Reflect.construct(t,r||[],ih(e).constructor):t.apply(e,r))}function $Y(e,t){if(t&&(nl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DY(e)}function DY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CO=function(){return!!e})()}function ih(e){return ih=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ih(e)}function RY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rm(e,t)}function Rm(e,t){return Rm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Rm(e,t)}function y0(e,t,r){return t=EO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EO(e){var t=LY(e,"string");return nl(t)=="symbol"?t:t+""}function LY(e,t){if(nl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var IY=function(t){var r=t.x,n=t.y,a=t.xAxis,o=t.yAxis,i=Kv({x:a.scale,y:o.scale}),s=i.apply({x:r,y:n},{bandAware:!0});return Xa(t,"discard")&&!i.isInRange(s)?null:s},Du=function(e){function t(){return MY(this,t),TY(this,t,arguments)}return RY(t,e),EY(t,[{key:"render",value:function(){var n=this.props,a=n.x,o=n.y,i=n.r,s=n.alwaysShow,l=n.clipPathId,c=Dr(a),f=Dr(o);if(fo(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!f)return null;var d=IY(this.props);if(!d)return null;var h=d.x,p=d.y,m=this.props,v=m.shape,b=m.className,y=Xa(this.props,"hidden")?"url(#".concat(l,")"):void 0,g=I2(I2({clipPath:y},Fe(this.props,!0)),{},{cx:h,cy:p});return R.createElement(pt,{className:it("recharts-reference-dot",b)},t.renderDot(v,g),Qr.renderCallByParent(this.props,{x:h-i,y:p-i,width:2*i,height:2*i}))}}])}(R.Component);y0(Du,"displayName","ReferenceDot");y0(Du,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});y0(Du,"renderDot",function(e,t){var r;return R.isValidElement(e)?r=R.cloneElement(e,t):We(e)?r=e(t):r=R.createElement(h0,Dm({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function Lm(){return Lm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lm.apply(this,arguments)}function al(e){"@babel/helpers - typeof";return al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},al(e)}function B2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function F2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B2(Object(r),!0).forEach(function(n){v0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$O(n.key),n)}}function zY(e,t,r){return t&&FY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function UY(e,t,r){return t=sh(t),WY(e,TO()?Reflect.construct(t,r||[],sh(e).constructor):t.apply(e,r))}function WY(e,t){if(t&&(al(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GY(e)}function GY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TO=function(){return!!e})()}function sh(e){return sh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sh(e)}function HY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Im(e,t)}function Im(e,t){return Im=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Im(e,t)}function v0(e,t,r){return t=$O(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $O(e){var t=VY(e,"string");return al(t)=="symbol"?t:t+""}function VY(e,t){if(al(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(al(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var XY=function(t,r,n,a,o){var i=o.x1,s=o.x2,l=o.y1,c=o.y2,f=o.xAxis,d=o.yAxis;if(!f||!d)return null;var h=Kv({x:f.scale,y:d.scale}),p={x:t?h.x.apply(i,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},m={x:r?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(c,{position:"end"}):h.y.rangeMax};return Xa(o,"discard")&&(!h.isInRange(p)||!h.isInRange(m))?null:bO(p,m)},Ru=function(e){function t(){return BY(this,t),UY(this,t,arguments)}return HY(t,e),zY(t,[{key:"render",value:function(){var n=this.props,a=n.x1,o=n.x2,i=n.y1,s=n.y2,l=n.className,c=n.alwaysShow,f=n.clipPathId;fo(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=Dr(a),h=Dr(o),p=Dr(i),m=Dr(s),v=this.props.shape;if(!d&&!h&&!p&&!m&&!v)return null;var b=XY(d,h,p,m,this.props);if(!b&&!v)return null;var y=Xa(this.props,"hidden")?"url(#".concat(f,")"):void 0;return R.createElement(pt,{className:it("recharts-reference-area",l)},t.renderRect(v,F2(F2({clipPath:y},Fe(this.props,!0)),b)),Qr.renderCallByParent(this.props,b))}}])}(R.Component);v0(Ru,"displayName","ReferenceArea");v0(Ru,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});v0(Ru,"renderRect",function(e,t){var r;return R.isValidElement(e)?r=R.cloneElement(e,t):We(e)?r=e(t):r=R.createElement(Vv,Lm({},t,{className:"recharts-reference-area-rect"})),r});function DO(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function KY(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return UK(n,r)}function YY(e,t,r){var n=r==="width",a=e.x,o=e.y,i=e.width,s=e.height;return t===1?{start:n?a:o,end:n?a+i:o+s}:{start:n?a+i:o+s,end:n?a:o}}function lh(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var o=r();return e*(t-e*o/2-n)>=0&&e*(t+e*o/2-a)<=0}function qY(e,t){return DO(e,t+1)}function ZY(e,t,r,n,a){for(var o=(n||[]).slice(),i=t.start,s=t.end,l=0,c=1,f=i,d=function(){var m=n==null?void 0:n[l];if(m===void 0)return{v:DO(n,c)};var v=l,b,y=function(){return b===void 0&&(b=r(m,v)),b},g=m.coordinate,x=l===0||lh(e,g,y,f,s);x||(l=0,f=i,c+=1),x&&(f=g+e*(y()/2+a),l+=c)},h;c<=o.length;)if(h=d(),h)return h.v;return[]}function xu(e){"@babel/helpers - typeof";return xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xu(e)}function z2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z2(Object(r),!0).forEach(function(n){QY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QY(e,t,r){return t=JY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JY(e){var t=eq(e,"string");return xu(t)=="symbol"?t:t+""}function eq(e,t){if(xu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tq(e,t,r,n,a){for(var o=(n||[]).slice(),i=o.length,s=t.start,l=t.end,c=function(h){var p=o[h],m,v=function(){return m===void 0&&(m=r(p,h)),m};if(h===i-1){var b=e*(p.coordinate+e*v()/2-l);o[h]=p=pn(pn({},p),{},{tickCoord:b>0?p.coordinate-b*e:p.coordinate})}else o[h]=p=pn(pn({},p),{},{tickCoord:p.coordinate});var y=lh(e,p.tickCoord,v,s,l);y&&(l=p.tickCoord-e*(v()/2+a),o[h]=pn(pn({},p),{},{isShow:!0}))},f=i-1;f>=0;f--)c(f);return o}function rq(e,t,r,n,a,o){var i=(n||[]).slice(),s=i.length,l=t.start,c=t.end;if(o){var f=n[s-1],d=r(f,s-1),h=e*(f.coordinate+e*d/2-c);i[s-1]=f=pn(pn({},f),{},{tickCoord:h>0?f.coordinate-h*e:f.coordinate});var p=lh(e,f.tickCoord,function(){return d},l,c);p&&(c=f.tickCoord-e*(d/2+a),i[s-1]=pn(pn({},f),{},{isShow:!0}))}for(var m=o?s-1:s,v=function(g){var x=i[g],j,k=function(){return j===void 0&&(j=r(x,g)),j};if(g===0){var w=e*(x.coordinate-e*k()/2-l);i[g]=x=pn(pn({},x),{},{tickCoord:w<0?x.coordinate-w*e:x.coordinate})}else i[g]=x=pn(pn({},x),{},{tickCoord:x.coordinate});var N=lh(e,x.tickCoord,k,l,c);N&&(l=x.tickCoord+e*(k()/2+a),i[g]=pn(pn({},x),{},{isShow:!0}))},b=0;b<m;b++)v(b);return i}function ex(e,t,r){var n=e.tick,a=e.ticks,o=e.viewBox,i=e.minTickGap,s=e.orientation,l=e.interval,c=e.tickFormatter,f=e.unit,d=e.angle;if(!a||!a.length||!n)return[];if(de(l)||ii.isSsr)return qY(a,typeof l=="number"&&de(l)?l:0);var h=[],p=s==="top"||s==="bottom"?"width":"height",m=f&&p==="width"?gc(f,{fontSize:t,letterSpacing:r}):{width:0,height:0},v=function(x,j){var k=We(c)?c(x.value,j):x.value;return p==="width"?KY(gc(k,{fontSize:t,letterSpacing:r}),m,d):gc(k,{fontSize:t,letterSpacing:r})[p]},b=a.length>=2?Ca(a[1].coordinate-a[0].coordinate):1,y=YY(o,b,p);return l==="equidistantPreserveStart"?ZY(b,y,v,a,i):(l==="preserveStart"||l==="preserveStartEnd"?h=rq(b,y,v,a,i,l==="preserveStartEnd"):h=tq(b,y,v,a,i),h.filter(function(g){return g.isShow}))}var nq=["viewBox"],aq=["viewBox"],oq=["ticks"];function ol(e){"@babel/helpers - typeof";return ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ol(e)}function js(){return js=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},js.apply(this,arguments)}function U2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Cr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U2(Object(r),!0).forEach(function(n){tx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jp(e,t){if(e==null)return{};var r=iq(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function iq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function sq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,LO(n.key),n)}}function lq(e,t,r){return t&&W2(e.prototype,t),r&&W2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function cq(e,t,r){return t=ch(t),uq(e,RO()?Reflect.construct(t,r||[],ch(e).constructor):t.apply(e,r))}function uq(e,t){if(t&&(ol(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fq(e)}function fq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RO=function(){return!!e})()}function ch(e){return ch=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ch(e)}function dq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bm(e,t)}function Bm(e,t){return Bm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Bm(e,t)}function tx(e,t,r){return t=LO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LO(e){var t=hq(e,"string");return ol(t)=="symbol"?t:t+""}function hq(e,t){if(ol(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ol(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ml=function(e){function t(r){var n;return sq(this,t),n=cq(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return dq(t,e),lq(t,[{key:"shouldComponentUpdate",value:function(n,a){var o=n.viewBox,i=jp(n,nq),s=this.props,l=s.viewBox,c=jp(s,aq);return!Cs(o,l)||!Cs(i,c)||!Cs(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,o=a.x,i=a.y,s=a.width,l=a.height,c=a.orientation,f=a.tickSize,d=a.mirror,h=a.tickMargin,p,m,v,b,y,g,x=d?-1:1,j=n.tickSize||f,k=de(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":p=m=n.coordinate,b=i+ +!d*l,v=b-x*j,g=v-x*h,y=k;break;case"left":v=b=n.coordinate,m=o+ +!d*s,p=m-x*j,y=p-x*h,g=k;break;case"right":v=b=n.coordinate,m=o+ +d*s,p=m+x*j,y=p+x*h,g=k;break;default:p=m=n.coordinate,b=i+ +d*l,v=b+x*j,g=v+x*h,y=k;break}return{line:{x1:p,y1:v,x2:m,y2:b},tick:{x:y,y:g}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,o=n.mirror,i;switch(a){case"left":i=o?"start":"end";break;case"right":i=o?"end":"start";break;default:i="middle";break}return i}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,o=n.mirror,i="end";switch(a){case"left":case"right":i="middle";break;case"top":i=o?"start":"end";break;default:i=o?"end":"start";break}return i}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,o=n.y,i=n.width,s=n.height,l=n.orientation,c=n.mirror,f=n.axisLine,d=Cr(Cr(Cr({},Fe(this.props,!1)),Fe(f,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);d=Cr(Cr({},d),{},{x1:a,y1:o+h*s,x2:a+i,y2:o+h*s})}else{var p=+(l==="left"&&!c||l==="right"&&c);d=Cr(Cr({},d),{},{x1:a+p*i,y1:o,x2:a+p*i,y2:o+s})}return R.createElement("line",js({},d,{className:it("recharts-cartesian-axis-line",pa(f,"className"))}))}},{key:"renderTicks",value:function(n,a,o){var i=this,s=this.props,l=s.tickLine,c=s.stroke,f=s.tick,d=s.tickFormatter,h=s.unit,p=ex(Cr(Cr({},this.props),{},{ticks:n}),a,o),m=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),b=Fe(this.props,!1),y=Fe(f,!1),g=Cr(Cr({},b),{},{fill:"none"},Fe(l,!1)),x=p.map(function(j,k){var w=i.getTickLineCoord(j),N=w.line,_=w.tick,O=Cr(Cr(Cr(Cr({textAnchor:m,verticalAnchor:v},b),{},{stroke:"none",fill:c},y),_),{},{index:k,payload:j,visibleTicksCount:p.length,tickFormatter:d});return R.createElement(pt,js({className:"recharts-cartesian-axis-tick",key:"tick-".concat(j.value,"-").concat(j.coordinate,"-").concat(j.tickCoord)},Fc(i.props,j,k)),l&&R.createElement("line",js({},g,N,{className:it("recharts-cartesian-axis-tick-line",pa(l,"className"))})),f&&t.renderTickItem(f,O,"".concat(We(d)?d(j.value,k):j.value).concat(h||"")))});return R.createElement("g",{className:"recharts-cartesian-axis-ticks"},x)}},{key:"render",value:function(){var n=this,a=this.props,o=a.axisLine,i=a.width,s=a.height,l=a.ticksGenerator,c=a.className,f=a.hide;if(f)return null;var d=this.props,h=d.ticks,p=jp(d,oq),m=h;return We(l)&&(m=h&&h.length>0?l(this.props):l(p)),i<=0||s<=0||!m||!m.length?null:R.createElement(pt,{className:it("recharts-cartesian-axis",c),ref:function(b){n.layerReference=b}},o&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),Qr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,o){var i,s=it(a.className,"recharts-cartesian-axis-tick-value");return R.isValidElement(n)?i=R.cloneElement(n,Cr(Cr({},a),{},{className:s})):We(n)?i=n(Cr(Cr({},a),{},{className:s})):i=R.createElement(Ad,js({},a,{className:"recharts-cartesian-axis-tick-value"}),o),i}}])}(S.Component);tx(Ml,"displayName","CartesianAxis");tx(Ml,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var pq=["x1","y1","x2","y2","key"],gq=["offset"];function Xi(e){"@babel/helpers - typeof";return Xi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xi(e)}function G2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G2(Object(r),!0).forEach(function(n){mq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mq(e,t,r){return t=yq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yq(e){var t=vq(e,"string");return Xi(t)=="symbol"?t:t+""}function vq(e,t){if(Xi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mi(){return Mi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mi.apply(this,arguments)}function H2(e,t){if(e==null)return{};var r=xq(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var bq=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,o=t.y,i=t.width,s=t.height,l=t.ry;return R.createElement("rect",{x:a,y:o,ry:l,width:i,height:s,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function IO(e,t){var r;if(R.isValidElement(e))r=R.cloneElement(e,t);else if(We(e))r=e(t);else{var n=t.x1,a=t.y1,o=t.x2,i=t.y2,s=t.key,l=H2(t,pq),c=Fe(l,!1);c.offset;var f=H2(c,gq);r=R.createElement("line",Mi({},f,{x1:n,y1:a,x2:o,y2:i,fill:"none",key:s}))}return r}function wq(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,o=e.horizontalPoints;if(!a||!o||!o.length)return null;var i=o.map(function(s,l){var c=mn(mn({},e),{},{x1:t,y1:s,x2:t+r,y2:s,key:"line-".concat(l),index:l});return IO(a,c)});return R.createElement("g",{className:"recharts-cartesian-grid-horizontal"},i)}function kq(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,o=e.verticalPoints;if(!a||!o||!o.length)return null;var i=o.map(function(s,l){var c=mn(mn({},e),{},{x1:s,y1:t,x2:s,y2:t+r,key:"line-".concat(l),index:l});return IO(a,c)});return R.createElement("g",{className:"recharts-cartesian-grid-vertical"},i)}function jq(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,o=e.width,i=e.height,s=e.horizontalPoints,l=e.horizontal,c=l===void 0?!0:l;if(!c||!t||!t.length)return null;var f=s.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==f[0]&&f.unshift(0);var d=f.map(function(h,p){var m=!f[p+1],v=m?a+i-h:f[p+1]-h;if(v<=0)return null;var b=p%t.length;return R.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:v,width:o,stroke:"none",fill:t[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return R.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Sq(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,o=e.x,i=e.y,s=e.width,l=e.height,c=e.verticalPoints;if(!r||!n||!n.length)return null;var f=c.map(function(h){return Math.round(h+o-o)}).sort(function(h,p){return h-p});o!==f[0]&&f.unshift(0);var d=f.map(function(h,p){var m=!f[p+1],v=m?o+s-h:f[p+1]-h;if(v<=0)return null;var b=p%n.length;return R.createElement("rect",{key:"react-".concat(p),x:h,y:i,width:v,height:l,stroke:"none",fill:n[b],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return R.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var Nq=function(t,r){var n=t.xAxis,a=t.width,o=t.height,i=t.offset;return K_(ex(mn(mn(mn({},Ml.defaultProps),n),{},{ticks:lo(n,!0),viewBox:{x:0,y:0,width:a,height:o}})),i.left,i.left+i.width,r)},_q=function(t,r){var n=t.yAxis,a=t.width,o=t.height,i=t.offset;return K_(ex(mn(mn(mn({},Ml.defaultProps),n),{},{ticks:lo(n,!0),viewBox:{x:0,y:0,width:a,height:o}})),i.top,i.top+i.height,r)},ls={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Ka(e){var t,r,n,a,o,i,s=Zv(),l=Qv(),c=hY(),f=mn(mn({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:ls.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:ls.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:ls.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:ls.horizontalFill,vertical:(o=e.vertical)!==null&&o!==void 0?o:ls.vertical,verticalFill:(i=e.verticalFill)!==null&&i!==void 0?i:ls.verticalFill,x:de(e.x)?e.x:c.left,y:de(e.y)?e.y:c.top,width:de(e.width)?e.width:c.width,height:de(e.height)?e.height:c.height}),d=f.x,h=f.y,p=f.width,m=f.height,v=f.syncWithTicks,b=f.horizontalValues,y=f.verticalValues,g=uY(),x=fY();if(!de(p)||p<=0||!de(m)||m<=0||!de(d)||d!==+d||!de(h)||h!==+h)return null;var j=f.verticalCoordinatesGenerator||Nq,k=f.horizontalCoordinatesGenerator||_q,w=f.horizontalPoints,N=f.verticalPoints;if((!w||!w.length)&&We(k)){var _=b&&b.length,O=k({yAxis:x?mn(mn({},x),{},{ticks:_?b:x.ticks}):void 0,width:s,height:l,offset:c},_?!0:v);fo(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Xi(O),"]")),Array.isArray(O)&&(w=O)}if((!N||!N.length)&&We(j)){var A=y&&y.length,M=j({xAxis:g?mn(mn({},g),{},{ticks:A?y:g.ticks}):void 0,width:s,height:l,offset:c},A?!0:v);fo(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Xi(M),"]")),Array.isArray(M)&&(N=M)}return R.createElement("g",{className:"recharts-cartesian-grid"},R.createElement(bq,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),R.createElement(wq,Mi({},f,{offset:c,horizontalPoints:w,xAxis:g,yAxis:x})),R.createElement(kq,Mi({},f,{offset:c,verticalPoints:N,xAxis:g,yAxis:x})),R.createElement(jq,Mi({},f,{horizontalPoints:w})),R.createElement(Sq,Mi({},f,{verticalPoints:N})))}Ka.displayName="CartesianGrid";var Oq=["type","layout","connectNulls","ref"],Pq=["key"];function il(e){"@babel/helpers - typeof";return il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},il(e)}function V2(e,t){if(e==null)return{};var r=Aq(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Aq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function xc(){return xc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xc.apply(this,arguments)}function X2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X2(Object(r),!0).forEach(function(n){Pa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cs(e){return Tq(e)||Eq(e)||Cq(e)||Mq()}function Mq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cq(e,t){if(e){if(typeof e=="string")return Fm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Fm(e,t)}}function Eq(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Tq(e){if(Array.isArray(e))return Fm(e)}function Fm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,FO(n.key),n)}}function Dq(e,t,r){return t&&K2(e.prototype,t),r&&K2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Rq(e,t,r){return t=uh(t),Lq(e,BO()?Reflect.construct(t,r||[],uh(e).constructor):t.apply(e,r))}function Lq(e,t){if(t&&(il(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Iq(e)}function Iq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BO=function(){return!!e})()}function uh(e){return uh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},uh(e)}function Bq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zm(e,t)}function zm(e,t){return zm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},zm(e,t)}function Pa(e,t,r){return t=FO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FO(e){var t=Fq(e,"string");return il(t)=="symbol"?t:t+""}function Fq(e,t){if(il(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(il(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Nr=function(e){function t(){var r;$q(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=Rq(this,t,[].concat(a)),Pa(r,"state",{isAnimationFinished:!0,totalLength:0}),Pa(r,"generateSimpleStrokeDasharray",function(i,s){return"".concat(s,"px ").concat(i-s,"px")}),Pa(r,"getStrokeDasharray",function(i,s,l){var c=l.reduce(function(y,g){return y+g});if(!c)return r.generateSimpleStrokeDasharray(s,i);for(var f=Math.floor(i/c),d=i%c,h=s-i,p=[],m=0,v=0;m<l.length;v+=l[m],++m)if(v+l[m]>d){p=[].concat(cs(l.slice(0,m)),[d-v]);break}var b=p.length%2===0?[0,h]:[h];return[].concat(cs(t.repeat(l,f)),cs(p),b).map(function(y){return"".concat(y,"px")}).join(", ")}),Pa(r,"id",Qi("recharts-line-")),Pa(r,"pathRef",function(i){r.mainCurve=i}),Pa(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Pa(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return Bq(t,e),Dq(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,i=o.points,s=o.xAxis,l=o.yAxis,c=o.layout,f=o.children,d=zn(f,Al);if(!d)return null;var h=function(v,b){return{x:v.x,y:v.y,value:v.value,errorVal:Rr(v.payload,b)}},p={clipPath:n?"url(#clipPath-".concat(a,")"):null};return R.createElement(pt,p,d.map(function(m){return R.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:i,xAxis:s,yAxis:l,layout:c,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,o){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,c=s.points,f=s.dataKey,d=Fe(this.props,!1),h=Fe(l,!0),p=c.map(function(v,b){var y=Vn(Vn(Vn({key:"dot-".concat(b),r:3},d),h),{},{index:b,cx:v.x,cy:v.y,value:v.value,dataKey:f,payload:v.payload,points:c});return t.renderDotItem(l,y)}),m={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(o,")"):null};return R.createElement(pt,xc({className:"recharts-line-dots",key:"dots"},m),p)}},{key:"renderCurveStatically",value:function(n,a,o,i){var s=this.props,l=s.type,c=s.layout,f=s.connectNulls;s.ref;var d=V2(s,Oq),h=Vn(Vn(Vn({},Fe(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(o,")"):null,points:n},i),{},{type:l,layout:c,connectNulls:f});return R.createElement(Ri,xc({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var o=this,i=this.props,s=i.points,l=i.strokeDasharray,c=i.isAnimationActive,f=i.animationBegin,d=i.animationDuration,h=i.animationEasing,p=i.animationId,m=i.animateNewValues,v=i.width,b=i.height,y=this.state,g=y.prevPoints,x=y.totalLength;return R.createElement(Da,{begin:f,duration:d,isActive:c,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var k=j.t;if(g){var w=g.length/s.length,N=s.map(function(C,$){var F=Math.floor($*w);if(g[F]){var T=g[F],W=br(T.x,C.x),P=br(T.y,C.y);return Vn(Vn({},C),{},{x:W(k),y:P(k)})}if(m){var E=br(v*2,C.x),L=br(b/2,C.y);return Vn(Vn({},C),{},{x:E(k),y:L(k)})}return Vn(Vn({},C),{},{x:C.x,y:C.y})});return o.renderCurveStatically(N,n,a)}var _=br(0,x),O=_(k),A;if(l){var M="".concat(l).split(/[,\s]+/gim).map(function(C){return parseFloat(C)});A=o.getStrokeDasharray(O,x,M)}else A=o.generateSimpleStrokeDasharray(x,O);return o.renderCurveStatically(s,n,a,{strokeDasharray:A})})}},{key:"renderCurve",value:function(n,a){var o=this.props,i=o.points,s=o.isAnimationActive,l=this.state,c=l.prevPoints,f=l.totalLength;return s&&i&&i.length&&(!c&&f>0||!Gi(c,i))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(i,n,a)}},{key:"render",value:function(){var n,a=this.props,o=a.hide,i=a.dot,s=a.points,l=a.className,c=a.xAxis,f=a.yAxis,d=a.top,h=a.left,p=a.width,m=a.height,v=a.isAnimationActive,b=a.id;if(o||!s||!s.length)return null;var y=this.state.isAnimationFinished,g=s.length===1,x=it("recharts-line",l),j=c&&c.allowDataOverflow,k=f&&f.allowDataOverflow,w=j||k,N=Ie(b)?this.id:b,_=(n=Fe(i,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},O=_.r,A=O===void 0?3:O,M=_.strokeWidth,C=M===void 0?2:M,$=US(i)?i:{},F=$.clipDot,T=F===void 0?!0:F,W=A*2+C;return R.createElement(pt,{className:x},j||k?R.createElement("defs",null,R.createElement("clipPath",{id:"clipPath-".concat(N)},R.createElement("rect",{x:j?h:h-p/2,y:k?d:d-m/2,width:j?p:p*2,height:k?m:m*2})),!T&&R.createElement("clipPath",{id:"clipPath-dots-".concat(N)},R.createElement("rect",{x:h-W/2,y:d-W/2,width:p+W,height:m+W}))):null,!g&&this.renderCurve(w,N),this.renderErrorBar(w,N),(g||i)&&this.renderDots(w,T,N),(!v||y)&&Va.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var o=n.length%2!==0?[].concat(cs(n),[0]):n,i=[],s=0;s<a;++s)i=[].concat(cs(i),cs(o));return i}},{key:"renderDotItem",value:function(n,a){var o;if(R.isValidElement(n))o=R.cloneElement(n,a);else if(We(n))o=n(a);else{var i=a.key,s=V2(a,Pq),l=it("recharts-line-dot",typeof n!="boolean"?n.className:"");o=R.createElement(h0,xc({key:i},s,{className:l}))}return o}}])}(S.PureComponent);Pa(Nr,"displayName","Line");Pa(Nr,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!ii.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Pa(Nr,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,o=e.yAxisTicks,i=e.dataKey,s=e.bandSize,l=e.displayedData,c=e.offset,f=t.layout,d=l.map(function(h,p){var m=Rr(h,i);return f==="horizontal"?{x:Zs({axis:r,ticks:a,bandSize:s,entry:h,index:p}),y:Ie(m)?null:n.scale(m),value:m,payload:h}:{x:Ie(m)?null:r.scale(m),y:Zs({axis:n,ticks:o,bandSize:s,entry:h,index:p}),value:m,payload:h}});return Vn({points:d,layout:f},c)});var zq=["layout","type","stroke","connectNulls","isRange","ref"],Uq=["key"],zO;function sl(e){"@babel/helpers - typeof";return sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sl(e)}function UO(e,t){if(e==null)return{};var r=Wq(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Wq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ci(){return Ci=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ci.apply(this,arguments)}function Y2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Co(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Y2(Object(r),!0).forEach(function(n){za(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,GO(n.key),n)}}function Hq(e,t,r){return t&&q2(e.prototype,t),r&&q2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vq(e,t,r){return t=fh(t),Xq(e,WO()?Reflect.construct(t,r||[],fh(e).constructor):t.apply(e,r))}function Xq(e,t){if(t&&(sl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kq(e)}function Kq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WO=function(){return!!e})()}function fh(e){return fh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fh(e)}function Yq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Um(e,t)}function Um(e,t){return Um=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Um(e,t)}function za(e,t,r){return t=GO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GO(e){var t=qq(e,"string");return sl(t)=="symbol"?t:t+""}function qq(e,t){if(sl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var da=function(e){function t(){var r;Gq(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=Vq(this,t,[].concat(a)),za(r,"state",{isAnimationFinished:!0}),za(r,"id",Qi("recharts-area-")),za(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),We(i)&&i()}),za(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),We(i)&&i()}),r}return Yq(t,e),Hq(t,[{key:"renderDots",value:function(n,a,o){var i=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(i&&!s)return null;var l=this.props,c=l.dot,f=l.points,d=l.dataKey,h=Fe(this.props,!1),p=Fe(c,!0),m=f.map(function(b,y){var g=Co(Co(Co({key:"dot-".concat(y),r:3},h),p),{},{index:y,cx:b.x,cy:b.y,dataKey:d,value:b.value,payload:b.payload,points:f});return t.renderDotItem(c,g)}),v={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(o,")"):null};return R.createElement(pt,Ci({className:"recharts-area-dots"},v),m)}},{key:"renderHorizontalRect",value:function(n){var a=this.props,o=a.baseLine,i=a.points,s=a.strokeWidth,l=i[0].x,c=i[i.length-1].x,f=n*Math.abs(l-c),d=Fo(i.map(function(h){return h.y||0}));return de(o)&&typeof o=="number"?d=Math.max(o,d):o&&Array.isArray(o)&&o.length&&(d=Math.max(Fo(o.map(function(h){return h.y||0})),d)),de(d)?R.createElement("rect",{x:l<c?l:l-f,y:0,width:f,height:Math.floor(d+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,o=a.baseLine,i=a.points,s=a.strokeWidth,l=i[0].y,c=i[i.length-1].y,f=n*Math.abs(l-c),d=Fo(i.map(function(h){return h.x||0}));return de(o)&&typeof o=="number"?d=Math.max(o,d):o&&Array.isArray(o)&&o.length&&(d=Math.max(Fo(o.map(function(h){return h.x||0})),d)),de(d)?R.createElement("rect",{x:0,y:l<c?l:l-f,width:d+(s?parseInt("".concat(s),10):1),height:Math.floor(f)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,o,i){var s=this.props,l=s.layout,c=s.type,f=s.stroke,d=s.connectNulls,h=s.isRange;s.ref;var p=UO(s,zq);return R.createElement(pt,{clipPath:o?"url(#clipPath-".concat(i,")"):null},R.createElement(Ri,Ci({},Fe(p,!0),{points:n,connectNulls:d,type:c,baseLine:a,layout:l,stroke:"none",className:"recharts-area-area"})),f!=="none"&&R.createElement(Ri,Ci({},Fe(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:n})),f!=="none"&&h&&R.createElement(Ri,Ci({},Fe(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(n,a){var o=this,i=this.props,s=i.points,l=i.baseLine,c=i.isAnimationActive,f=i.animationBegin,d=i.animationDuration,h=i.animationEasing,p=i.animationId,m=this.state,v=m.prevPoints,b=m.prevBaseLine;return R.createElement(Da,{begin:f,duration:d,isActive:c,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var g=y.t;if(v){var x=v.length/s.length,j=s.map(function(_,O){var A=Math.floor(O*x);if(v[A]){var M=v[A],C=br(M.x,_.x),$=br(M.y,_.y);return Co(Co({},_),{},{x:C(g),y:$(g)})}return _}),k;if(de(l)&&typeof l=="number"){var w=br(b,l);k=w(g)}else if(Ie(l)||kl(l)){var N=br(b,0);k=N(g)}else k=l.map(function(_,O){var A=Math.floor(O*x);if(b[A]){var M=b[A],C=br(M.x,_.x),$=br(M.y,_.y);return Co(Co({},_),{},{x:C(g),y:$(g)})}return _});return o.renderAreaStatically(j,k,n,a)}return R.createElement(pt,null,R.createElement("defs",null,R.createElement("clipPath",{id:"animationClipPath-".concat(a)},o.renderClipRect(g))),R.createElement(pt,{clipPath:"url(#animationClipPath-".concat(a,")")},o.renderAreaStatically(s,l,n,a)))})}},{key:"renderArea",value:function(n,a){var o=this.props,i=o.points,s=o.baseLine,l=o.isAnimationActive,c=this.state,f=c.prevPoints,d=c.prevBaseLine,h=c.totalLength;return l&&i&&i.length&&(!f&&h>0||!Gi(f,i)||!Gi(d,s))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(i,s,n,a)}},{key:"render",value:function(){var n,a=this.props,o=a.hide,i=a.dot,s=a.points,l=a.className,c=a.top,f=a.left,d=a.xAxis,h=a.yAxis,p=a.width,m=a.height,v=a.isAnimationActive,b=a.id;if(o||!s||!s.length)return null;var y=this.state.isAnimationFinished,g=s.length===1,x=it("recharts-area",l),j=d&&d.allowDataOverflow,k=h&&h.allowDataOverflow,w=j||k,N=Ie(b)?this.id:b,_=(n=Fe(i,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},O=_.r,A=O===void 0?3:O,M=_.strokeWidth,C=M===void 0?2:M,$=US(i)?i:{},F=$.clipDot,T=F===void 0?!0:F,W=A*2+C;return R.createElement(pt,{className:x},j||k?R.createElement("defs",null,R.createElement("clipPath",{id:"clipPath-".concat(N)},R.createElement("rect",{x:j?f:f-p/2,y:k?c:c-m/2,width:j?p:p*2,height:k?m:m*2})),!T&&R.createElement("clipPath",{id:"clipPath-dots-".concat(N)},R.createElement("rect",{x:f-W/2,y:c-W/2,width:p+W,height:m+W}))):null,g?null:this.renderArea(w,N),(i||g)&&this.renderDots(w,T,N),(!v||y)&&Va.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(S.PureComponent);zO=da;za(da,"displayName","Area");za(da,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!ii.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});za(da,"getBaseValue",function(e,t,r,n){var a=e.layout,o=e.baseValue,i=t.props.baseValue,s=i??o;if(de(s)&&typeof s=="number")return s;var l=a==="horizontal"?n:r,c=l.scale.domain();if(l.type==="number"){var f=Math.max(c[0],c[1]),d=Math.min(c[0],c[1]);return s==="dataMin"?d:s==="dataMax"||f<0?f:Math.max(Math.min(c[0],c[1]),0)}return s==="dataMin"?c[0]:s==="dataMax"?c[1]:c[0]});za(da,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,a=e.yAxis,o=e.xAxisTicks,i=e.yAxisTicks,s=e.bandSize,l=e.dataKey,c=e.stackedData,f=e.dataStartIndex,d=e.displayedData,h=e.offset,p=t.layout,m=c&&c.length,v=zO.getBaseValue(t,r,n,a),b=p==="horizontal",y=!1,g=d.map(function(j,k){var w;m?w=c[f+k]:(w=Rr(j,l),Array.isArray(w)?y=!0:w=[v,w]);var N=w[1]==null||m&&Rr(j,l)==null;return b?{x:Zs({axis:n,ticks:o,bandSize:s,entry:j,index:k}),y:N?null:a.scale(w[1]),value:w,payload:j}:{x:N?null:n.scale(w[1]),y:Zs({axis:a,ticks:i,bandSize:s,entry:j,index:k}),value:w,payload:j}}),x;return m||y?x=g.map(function(j){var k=Array.isArray(j.value)?j.value[0]:null;return b?{x:j.x,y:k!=null&&j.y!=null?a.scale(k):null}:{x:k!=null?n.scale(k):null,y:j.y}}):x=b?a.scale(v):n.scale(v),Co({points:g,baseLine:x,layout:p,isRange:y},h)});za(da,"renderDotItem",function(e,t){var r;if(R.isValidElement(e))r=R.cloneElement(e,t);else if(We(e))r=e(t);else{var n=it("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,o=UO(t,Uq);r=R.createElement(h0,Ci({},o,{key:a,className:n}))}return r});function ll(e){"@babel/helpers - typeof";return ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ll(e)}function Zq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,XO(n.key),n)}}function Jq(e,t,r){return t&&Qq(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function eZ(e,t,r){return t=dh(t),tZ(e,HO()?Reflect.construct(t,r||[],dh(e).constructor):t.apply(e,r))}function tZ(e,t){if(t&&(ll(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rZ(e)}function rZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HO=function(){return!!e})()}function dh(e){return dh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dh(e)}function nZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wm(e,t)}function Wm(e,t){return Wm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Wm(e,t)}function VO(e,t,r){return t=XO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XO(e){var t=aZ(e,"string");return ll(t)=="symbol"?t:t+""}function aZ(e,t){if(ll(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ll(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var x0=function(e){function t(){return Zq(this,t),eZ(this,t,arguments)}return nZ(t,e),Jq(t,[{key:"render",value:function(){return null}}])}(S.Component);VO(x0,"displayName","ZAxis");VO(x0,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var oZ=["option","isActive"];function bc(){return bc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bc.apply(this,arguments)}function iZ(e,t){if(e==null)return{};var r=sZ(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sZ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function lZ(e){var t=e.option,r=e.isActive,n=iZ(e,oZ);return typeof t=="string"?S.createElement(Am,bc({option:S.createElement(e0,bc({type:t},n)),isActive:r,shapeType:"symbols"},n)):S.createElement(Am,bc({option:t,isActive:r,shapeType:"symbols"},n))}function cl(e){"@babel/helpers - typeof";return cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cl(e)}function wc(){return wc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wc.apply(this,arguments)}function Z2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z2(Object(r),!0).forEach(function(n){Uo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,YO(n.key),n)}}function uZ(e,t,r){return t&&Q2(e.prototype,t),r&&Q2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function fZ(e,t,r){return t=hh(t),dZ(e,KO()?Reflect.construct(t,r||[],hh(e).constructor):t.apply(e,r))}function dZ(e,t){if(t&&(cl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hZ(e)}function hZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KO=function(){return!!e})()}function hh(e){return hh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hh(e)}function pZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gm(e,t)}function Gm(e,t){return Gm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Gm(e,t)}function Uo(e,t,r){return t=YO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YO(e){var t=gZ(e,"string");return cl(t)=="symbol"?t:t+""}function gZ(e,t){if(cl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var jn=function(e){function t(){var r;cZ(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=fZ(this,t,[].concat(a)),Uo(r,"state",{isAnimationFinished:!1}),Uo(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0})}),Uo(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1})}),Uo(r,"id",Qi("recharts-scatter-")),r}return pZ(t,e),uZ(t,[{key:"renderSymbolsStatically",value:function(n){var a=this,o=this.props,i=o.shape,s=o.activeShape,l=o.activeIndex,c=Fe(this.props,!1);return n.map(function(f,d){var h=l===d,p=h?s:i,m=sa(sa({},c),f);return R.createElement(pt,wc({className:"recharts-scatter-symbol",key:"symbol-".concat(f==null?void 0:f.cx,"-").concat(f==null?void 0:f.cy,"-").concat(f==null?void 0:f.size,"-").concat(d)},Fc(a.props,f,d),{role:"img"}),R.createElement(lZ,wc({option:p,isActive:h,key:"symbol-".concat(d)},m)))})}},{key:"renderSymbolsWithAnimation",value:function(){var n=this,a=this.props,o=a.points,i=a.isAnimationActive,s=a.animationBegin,l=a.animationDuration,c=a.animationEasing,f=a.animationId,d=this.state.prevPoints;return R.createElement(Da,{begin:s,duration:l,isActive:i,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var p=h.t,m=o.map(function(v,b){var y=d&&d[b];if(y){var g=br(y.cx,v.cx),x=br(y.cy,v.cy),j=br(y.size,v.size);return sa(sa({},v),{},{cx:g(p),cy:x(p),size:j(p)})}var k=br(0,v.size);return sa(sa({},v),{},{size:k(p)})});return R.createElement(pt,null,n.renderSymbolsStatically(m))})}},{key:"renderSymbols",value:function(){var n=this.props,a=n.points,o=n.isAnimationActive,i=this.state.prevPoints;return o&&a&&a.length&&(!i||!Gi(i,a))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(a)}},{key:"renderErrorBar",value:function(){var n=this.props.isAnimationActive;if(n&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,i=a.xAxis,s=a.yAxis,l=a.children,c=zn(l,Al);return c?c.map(function(f,d){var h=f.props,p=h.direction,m=h.dataKey;return R.cloneElement(f,{key:"".concat(p,"-").concat(m,"-").concat(o[d]),data:o,xAxis:i,yAxis:s,layout:p==="x"?"vertical":"horizontal",dataPointFormatter:function(b,y){return{x:b.cx,y:b.cy,value:p==="x"?+b.node.x:+b.node.y,errorVal:Rr(b,y)}}})}):null}},{key:"renderLine",value:function(){var n=this.props,a=n.points,o=n.line,i=n.lineType,s=n.lineJointType,l=Fe(this.props,!1),c=Fe(o,!1),f,d;if(i==="joint")f=a.map(function(x){return{x:x.cx,y:x.cy}});else if(i==="fitting"){var h=WT(a),p=h.xmin,m=h.xmax,v=h.a,b=h.b,y=function(j){return v*j+b};f=[{x:p,y:y(p)},{x:m,y:y(m)}]}var g=sa(sa(sa({},l),{},{fill:"none",stroke:l&&l.fill},c),{},{points:f});return R.isValidElement(o)?d=R.cloneElement(o,g):We(o)?d=o(g):d=R.createElement(Ri,wc({},g,{type:s})),R.createElement(pt,{className:"recharts-scatter-line",key:"recharts-scatter-line"},d)}},{key:"render",value:function(){var n=this.props,a=n.hide,o=n.points,i=n.line,s=n.className,l=n.xAxis,c=n.yAxis,f=n.left,d=n.top,h=n.width,p=n.height,m=n.id,v=n.isAnimationActive;if(a||!o||!o.length)return null;var b=this.state.isAnimationFinished,y=it("recharts-scatter",s),g=l&&l.allowDataOverflow,x=c&&c.allowDataOverflow,j=g||x,k=Ie(m)?this.id:m;return R.createElement(pt,{className:y,clipPath:j?"url(#clipPath-".concat(k,")"):null},g||x?R.createElement("defs",null,R.createElement("clipPath",{id:"clipPath-".concat(k)},R.createElement("rect",{x:g?f:f-h/2,y:x?d:d-p/2,width:g?h:h*2,height:x?p:p*2}))):null,i&&this.renderLine(),this.renderErrorBar(),R.createElement(pt,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!v||b)&&Va.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}}])}(S.PureComponent);Uo(jn,"displayName","Scatter");Uo(jn,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!ii.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});Uo(jn,"getComposedData",function(e){var t=e.xAxis,r=e.yAxis,n=e.zAxis,a=e.item,o=e.displayedData,i=e.xAxisTicks,s=e.yAxisTicks,l=e.offset,c=a.props.tooltipType,f=zn(a.props.children,bv),d=Ie(t.dataKey)?a.props.dataKey:t.dataKey,h=Ie(r.dataKey)?a.props.dataKey:r.dataKey,p=n&&n.dataKey,m=n?n.range:x0.defaultProps.range,v=m&&m[0],b=t.scale.bandwidth?t.scale.bandwidth():0,y=r.scale.bandwidth?r.scale.bandwidth():0,g=o.map(function(x,j){var k=Rr(x,d),w=Rr(x,h),N=!Ie(p)&&Rr(x,p)||"-",_=[{name:Ie(t.dataKey)?a.props.name:t.name||t.dataKey,unit:t.unit||"",value:k,payload:x,dataKey:d,type:c},{name:Ie(r.dataKey)?a.props.name:r.name||r.dataKey,unit:r.unit||"",value:w,payload:x,dataKey:h,type:c}];N!=="-"&&_.push({name:n.name||n.dataKey,unit:n.unit||"",value:N,payload:x,dataKey:p,type:c});var O=Zs({axis:t,ticks:i,bandSize:b,entry:x,index:j,dataKey:d}),A=Zs({axis:r,ticks:s,bandSize:y,entry:x,index:j,dataKey:h}),M=N!=="-"?n.scale(N):v,C=Math.sqrt(Math.max(M,0)/Math.PI);return sa(sa({},x),{},{cx:O,cy:A,x:O-C,y:A-C,xAxis:t,yAxis:r,zAxis:n,width:2*C,height:2*C,size:M,node:{x:k,y:w,z:N},tooltipPayload:_,tooltipPosition:{x:O,y:A},payload:x},f&&f[j]&&f[j].props)});return sa({points:g},l)});function ul(e){"@babel/helpers - typeof";return ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ul(e)}function mZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yZ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,QO(n.key),n)}}function vZ(e,t,r){return t&&yZ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function xZ(e,t,r){return t=ph(t),bZ(e,qO()?Reflect.construct(t,r||[],ph(e).constructor):t.apply(e,r))}function bZ(e,t){if(t&&(ul(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wZ(e)}function wZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qO=function(){return!!e})()}function ph(e){return ph=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ph(e)}function kZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hm(e,t)}function Hm(e,t){return Hm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Hm(e,t)}function ZO(e,t,r){return t=QO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QO(e){var t=jZ(e,"string");return ul(t)=="symbol"?t:t+""}function jZ(e,t){if(ul(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ul(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Vm(){return Vm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vm.apply(this,arguments)}function SZ(e){var t=e.xAxisId,r=Zv(),n=Qv(),a=OO(t);return a==null?null:S.createElement(Ml,Vm({},a,{className:it("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(i){return lo(i,!0)}}))}var Un=function(e){function t(){return mZ(this,t),xZ(this,t,arguments)}return kZ(t,e),vZ(t,[{key:"render",value:function(){return S.createElement(SZ,this.props)}}])}(S.Component);ZO(Un,"displayName","XAxis");ZO(Un,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function fl(e){"@babel/helpers - typeof";return fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fl(e)}function NZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _Z(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tP(n.key),n)}}function OZ(e,t,r){return t&&_Z(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function PZ(e,t,r){return t=gh(t),AZ(e,JO()?Reflect.construct(t,r||[],gh(e).constructor):t.apply(e,r))}function AZ(e,t){if(t&&(fl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MZ(e)}function MZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JO=function(){return!!e})()}function gh(e){return gh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gh(e)}function CZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xm(e,t)}function Xm(e,t){return Xm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Xm(e,t)}function eP(e,t,r){return t=tP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tP(e){var t=EZ(e,"string");return fl(t)=="symbol"?t:t+""}function EZ(e,t){if(fl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Km(){return Km=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Km.apply(this,arguments)}var TZ=function(t){var r=t.yAxisId,n=Zv(),a=Qv(),o=PO(r);return o==null?null:S.createElement(Ml,Km({},o,{className:it("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(s){return lo(s,!0)}}))},Wn=function(e){function t(){return NZ(this,t),PZ(this,t,arguments)}return CZ(t,e),OZ(t,[{key:"render",value:function(){return S.createElement(TZ,this.props)}}])}(S.Component);eP(Wn,"displayName","YAxis");eP(Wn,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function J2(e){return LZ(e)||RZ(e)||DZ(e)||$Z()}function $Z(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DZ(e,t){if(e){if(typeof e=="string")return Ym(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ym(e,t)}}function RZ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function LZ(e){if(Array.isArray(e))return Ym(e)}function Ym(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var qm=function(t,r,n,a,o){var i=zn(t,Ai),s=zn(t,Du),l=[].concat(J2(i),J2(s)),c=zn(t,Ru),f="".concat(a,"Id"),d=a[0],h=r;if(l.length&&(h=l.reduce(function(v,b){if(b.props[f]===n&&Xa(b.props,"extendDomain")&&de(b.props[d])){var y=b.props[d];return[Math.min(v[0],y),Math.max(v[1],y)]}return v},h)),c.length){var p="".concat(d,"1"),m="".concat(d,"2");h=c.reduce(function(v,b){if(b.props[f]===n&&Xa(b.props,"extendDomain")&&de(b.props[p])&&de(b.props[m])){var y=b.props[p],g=b.props[m];return[Math.min(v[0],y,g),Math.max(v[1],y,g)]}return v},h)}return o&&o.length&&(h=o.reduce(function(v,b){return de(b)?[Math.min(v[0],b),Math.max(v[1],b)]:v},h)),h},rP={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(l,c,f){this.fn=l,this.context=c,this.once=f||!1}function o(l,c,f,d,h){if(typeof f!="function")throw new TypeError("The listener must be a function");var p=new a(f,d||l,h),m=r?r+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function i(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],f,d;if(this._eventsCount===0)return c;for(d in f=this._events)t.call(f,d)&&c.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(f)):c},s.prototype.listeners=function(c){var f=r?r+c:c,d=this._events[f];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,p=d.length,m=new Array(p);h<p;h++)m[h]=d[h].fn;return m},s.prototype.listenerCount=function(c){var f=r?r+c:c,d=this._events[f];return d?d.fn?1:d.length:0},s.prototype.emit=function(c,f,d,h,p,m){var v=r?r+c:c;if(!this._events[v])return!1;var b=this._events[v],y=arguments.length,g,x;if(b.fn){switch(b.once&&this.removeListener(c,b.fn,void 0,!0),y){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,f),!0;case 3:return b.fn.call(b.context,f,d),!0;case 4:return b.fn.call(b.context,f,d,h),!0;case 5:return b.fn.call(b.context,f,d,h,p),!0;case 6:return b.fn.call(b.context,f,d,h,p,m),!0}for(x=1,g=new Array(y-1);x<y;x++)g[x-1]=arguments[x];b.fn.apply(b.context,g)}else{var j=b.length,k;for(x=0;x<j;x++)switch(b[x].once&&this.removeListener(c,b[x].fn,void 0,!0),y){case 1:b[x].fn.call(b[x].context);break;case 2:b[x].fn.call(b[x].context,f);break;case 3:b[x].fn.call(b[x].context,f,d);break;case 4:b[x].fn.call(b[x].context,f,d,h);break;default:if(!g)for(k=1,g=new Array(y-1);k<y;k++)g[k-1]=arguments[k];b[x].fn.apply(b[x].context,g)}}return!0},s.prototype.on=function(c,f,d){return o(this,c,f,d,!1)},s.prototype.once=function(c,f,d){return o(this,c,f,d,!0)},s.prototype.removeListener=function(c,f,d,h){var p=r?r+c:c;if(!this._events[p])return this;if(!f)return i(this,p),this;var m=this._events[p];if(m.fn)m.fn===f&&(!h||m.once)&&(!d||m.context===d)&&i(this,p);else{for(var v=0,b=[],y=m.length;v<y;v++)(m[v].fn!==f||h&&!m[v].once||d&&m[v].context!==d)&&b.push(m[v]);b.length?this._events[p]=b.length===1?b[0]:b:i(this,p)}return this},s.prototype.removeAllListeners=function(c){var f;return c?(f=r?r+c:c,this._events[f]&&i(this,f)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s})(rP);var IZ=rP.exports;const BZ=Dt(IZ);var Sp=new BZ,Np="recharts.syncMouseEvents";function bu(e){"@babel/helpers - typeof";return bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bu(e)}function FZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zZ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nP(n.key),n)}}function UZ(e,t,r){return t&&zZ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _p(e,t,r){return t=nP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nP(e){var t=WZ(e,"string");return bu(t)=="symbol"?t:t+""}function WZ(e,t){if(bu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var GZ=function(){function e(){FZ(this,e),_p(this,"activeIndex",0),_p(this,"coordinateList",[]),_p(this,"layout","horizontal")}return UZ(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,o=a===void 0?null:a,i=r.container,s=i===void 0?null:i,l=r.layout,c=l===void 0?null:l,f=r.offset,d=f===void 0?null:f,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=o??this.coordinateList)!==null&&n!==void 0?n:[],this.container=s??this.container,this.layout=c??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),o=a.x,i=a.y,s=a.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,f=((n=window)===null||n===void 0?void 0:n.scrollY)||0,d=o+l+c,h=i+this.offset.top+s/2+f;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function HZ(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&de(n)&&de(a))return!0}return!1}function VZ(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function aP(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,o=e.endAngle,i=Jr(t,r,n,a),s=Jr(t,r,n,o);return{points:[i,s],cx:t,cy:r,radius:n,startAngle:a,endAngle:o}}function XZ(e,t,r){var n,a,o,i;if(e==="horizontal")n=t.x,o=n,a=r.top,i=r.top+r.height;else if(e==="vertical")a=t.y,i=a,n=r.left,o=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var s=t.cx,l=t.cy,c=t.innerRadius,f=t.outerRadius,d=t.angle,h=Jr(s,l,c,d),p=Jr(s,l,f,d);n=h.x,a=h.y,o=p.x,i=p.y}else return aP(t);return[{x:n,y:a},{x:o,y:i}]}function wu(e){"@babel/helpers - typeof";return wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wu(e)}function ek(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Of(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ek(Object(r),!0).forEach(function(n){KZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ek(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KZ(e,t,r){return t=YZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YZ(e){var t=qZ(e,"string");return wu(t)=="symbol"?t:t+""}function qZ(e,t){if(wu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZZ(e){var t,r,n=e.element,a=e.tooltipEventType,o=e.isActive,i=e.activeCoordinate,s=e.activePayload,l=e.offset,c=e.activeTooltipIndex,f=e.tooltipAxisBandSize,d=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!o||!i||h!=="ScatterChart"&&a!=="axis")return null;var m,v=Ri;if(h==="ScatterChart")m=i,v=jV;else if(h==="BarChart")m=VZ(d,i,l,f),v=Vv;else if(d==="radial"){var b=aP(i),y=b.cx,g=b.cy,x=b.radius,j=b.startAngle,k=b.endAngle;m={cx:y,cy:g,startAngle:j,endAngle:k,innerRadius:x,outerRadius:x},v=J_}else m={points:XZ(d,i,l)},v=Ri;var w=Of(Of(Of(Of({stroke:"#ccc",pointerEvents:"none"},l),m),Fe(p,!1)),{},{payload:s,payloadIndex:c,className:it("recharts-tooltip-cursor",p.className)});return S.isValidElement(p)?S.cloneElement(p,w):S.createElement(v,w)}var QZ=["item"],JZ=["children","className","width","height","style","compact","title","desc"];function dl(e){"@babel/helpers - typeof";return dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dl(e)}function Ss(){return Ss=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ss.apply(this,arguments)}function tk(e,t){return rQ(e)||tQ(e,t)||iP(e,t)||eQ()}function eQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tQ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function rQ(e){if(Array.isArray(e))return e}function rk(e,t){if(e==null)return{};var r=nQ(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function nQ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function aQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sP(n.key),n)}}function iQ(e,t,r){return t&&oQ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function sQ(e,t,r){return t=mh(t),lQ(e,oP()?Reflect.construct(t,r||[],mh(e).constructor):t.apply(e,r))}function lQ(e,t){if(t&&(dl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cQ(e)}function cQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oP=function(){return!!e})()}function mh(e){return mh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mh(e)}function uQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zm(e,t)}function Zm(e,t){return Zm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Zm(e,t)}function hl(e){return hQ(e)||dQ(e)||iP(e)||fQ()}function fQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iP(e,t){if(e){if(typeof e=="string")return Qm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qm(e,t)}}function dQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function hQ(e){if(Array.isArray(e))return Qm(e)}function Qm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function J(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nk(Object(r),!0).forEach(function(n){$e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $e(e,t,r){return t=sP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sP(e){var t=pQ(e,"string");return dl(t)=="symbol"?t:t+""}function pQ(e,t){if(dl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gQ={xAxis:["bottom","top"],yAxis:["left","right"]},mQ={width:"100%",height:"100%"},lP={x:0,y:0};function Pf(e){return e}var yQ=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},vQ=function(t,r,n,a){var o=r.find(function(f){return f&&f.index===n});if(o){if(t==="horizontal")return{x:o.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:o.coordinate};if(t==="centric"){var i=o.coordinate,s=a.radius;return J(J(J({},a),Jr(a.cx,a.cy,s,i)),{},{angle:i,radius:s})}var l=o.coordinate,c=a.angle;return J(J(J({},a),Jr(a.cx,a.cy,l,c)),{},{angle:c,radius:l})}return lP},b0=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,o=r.dataEndIndex,i=(n??[]).reduce(function(s,l){var c=l.props.data;return c&&c.length?[].concat(hl(s),hl(c)):s},[]);return i.length>0?i:t&&t.length&&de(a)&&de(o)?t.slice(a,o+1):[]};function cP(e){return e==="number"?[0,"auto"]:void 0}var Jm=function(t,r,n,a){var o=t.graphicalItems,i=t.tooltipAxis,s=b0(r,t);return n<0||!o||!o.length||n>=s.length?null:o.reduce(function(l,c){var f,d=(f=c.props.data)!==null&&f!==void 0?f:r;d&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(d=d.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(i.dataKey&&!i.allowDuplicatedCategory){var p=d===void 0?s:d;h=pd(p,i.dataKey,a)}else h=d&&d[n]||s[n];return h?[].concat(hl(l),[q_(c,h)]):l},[])},ak=function(t,r,n,a){var o=a||{x:t.chartX,y:t.chartY},i=yQ(o,n),s=t.orderedTooltipTicks,l=t.tooltipAxis,c=t.tooltipTicks,f=tW(i,s,c,l);if(f>=0&&c){var d=c[f]&&c[f].value,h=Jm(t,r,f,d),p=vQ(n,s,f,o);return{activeTooltipIndex:f,activeLabel:d,activePayload:h,activeCoordinate:p}}return null},xQ=function(t,r){var n=r.axes,a=r.graphicalItems,o=r.axisType,i=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,f=t.layout,d=t.children,h=t.stackOffset,p=X_(f,o);return n.reduce(function(m,v){var b,y=v.type.defaultProps!==void 0?J(J({},v.type.defaultProps),v.props):v.props,g=y.type,x=y.dataKey,j=y.allowDataOverflow,k=y.allowDuplicatedCategory,w=y.scale,N=y.ticks,_=y.includeHidden,O=y[i];if(m[O])return m;var A=b0(t.data,{graphicalItems:a.filter(function(q){var H,se=i in q.props?q.props[i]:(H=q.type.defaultProps)===null||H===void 0?void 0:H[i];return se===O}),dataStartIndex:l,dataEndIndex:c}),M=A.length,C,$,F;HZ(y.domain,j,g)&&(C=hm(y.domain,null,j),p&&(g==="number"||w!=="auto")&&(F=yc(A,x,"category")));var T=cP(g);if(!C||C.length===0){var W,P=(W=y.domain)!==null&&W!==void 0?W:T;if(x){if(C=yc(A,x,g),g==="category"&&p){var E=UT(C);k&&E?($=C,C=eh(0,M)):k||(C=Dw(P,C,v).reduce(function(q,H){return q.indexOf(H)>=0?q:[].concat(hl(q),[H])},[]))}else if(g==="category")k?C=C.filter(function(q){return q!==""&&!Ie(q)}):C=Dw(P,C,v).reduce(function(q,H){return q.indexOf(H)>=0||H===""||Ie(H)?q:[].concat(hl(q),[H])},[]);else if(g==="number"){var L=iW(A,a.filter(function(q){var H,se,ee=i in q.props?q.props[i]:(H=q.type.defaultProps)===null||H===void 0?void 0:H[i],D="hide"in q.props?q.props.hide:(se=q.type.defaultProps)===null||se===void 0?void 0:se.hide;return ee===O&&(_||!D)}),x,o,f);L&&(C=L)}p&&(g==="number"||w!=="auto")&&(F=yc(A,x,"category"))}else p?C=eh(0,M):s&&s[O]&&s[O].hasStack&&g==="number"?C=h==="expand"?[0,1]:Y_(s[O].stackGroups,l,c):C=V_(A,a.filter(function(q){var H=i in q.props?q.props[i]:q.type.defaultProps[i],se="hide"in q.props?q.props.hide:q.type.defaultProps.hide;return H===O&&(_||!se)}),g,f,!0);if(g==="number")C=qm(d,C,O,o,N),P&&(C=hm(P,C,j));else if(g==="category"&&P){var z=P,Z=C.every(function(q){return z.indexOf(q)>=0});Z&&(C=z)}}return J(J({},m),{},$e({},O,J(J({},y),{},{axisType:o,domain:C,categoricalDomain:F,duplicateDomain:$,originalDomain:(b=y.domain)!==null&&b!==void 0?b:T,isCategorical:p,layout:f})))},{})},bQ=function(t,r){var n=r.graphicalItems,a=r.Axis,o=r.axisType,i=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,f=t.layout,d=t.children,h=b0(t.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),p=h.length,m=X_(f,o),v=-1;return n.reduce(function(b,y){var g=y.type.defaultProps!==void 0?J(J({},y.type.defaultProps),y.props):y.props,x=g[i],j=cP("number");if(!b[x]){v++;var k;return m?k=eh(0,p):s&&s[x]&&s[x].hasStack?(k=Y_(s[x].stackGroups,l,c),k=qm(d,k,x,o)):(k=hm(j,V_(h,n.filter(function(w){var N,_,O=i in w.props?w.props[i]:(N=w.type.defaultProps)===null||N===void 0?void 0:N[i],A="hide"in w.props?w.props.hide:(_=w.type.defaultProps)===null||_===void 0?void 0:_.hide;return O===x&&!A}),"number",f),a.defaultProps.allowDataOverflow),k=qm(d,k,x,o)),J(J({},b),{},$e({},x,J(J({axisType:o},a.defaultProps),{},{hide:!0,orientation:pa(gQ,"".concat(o,".").concat(v%2),null),domain:k,originalDomain:j,isCategorical:m,layout:f})))}return b},{})},wQ=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,o=r.AxisComp,i=r.graphicalItems,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,f=t.children,d="".concat(a,"Id"),h=zn(f,o),p={};return h&&h.length?p=xQ(t,{axes:h,graphicalItems:i,axisType:a,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:c}):i&&i.length&&(p=bQ(t,{Axis:o,graphicalItems:i,axisType:a,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:c})),p},kQ=function(t){var r=Lo(t),n=lo(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:vv(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Gd(r,n)}},ok=function(t){var r=t.children,n=t.defaultShowTooltip,a=Yn(r,el),o=0,i=0;return t.data&&t.data.length!==0&&(i=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(o=a.props.startIndex),a.props.endIndex>=0&&(i=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:i,activeTooltipIndex:-1,isTooltipActive:!!n}},jQ=function(t){return!t||!t.length?!1:t.some(function(r){var n=uo(r&&r.type);return n&&n.indexOf("Bar")>=0})},ik=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},SQ=function(t,r){var n=t.props,a=t.graphicalItems,o=t.xAxisMap,i=o===void 0?{}:o,s=t.yAxisMap,l=s===void 0?{}:s,c=n.width,f=n.height,d=n.children,h=n.margin||{},p=Yn(d,el),m=Yn(d,Ga),v=Object.keys(l).reduce(function(k,w){var N=l[w],_=N.orientation;return!N.mirror&&!N.hide?J(J({},k),{},$e({},_,k[_]+N.width)):k},{left:h.left||0,right:h.right||0}),b=Object.keys(i).reduce(function(k,w){var N=i[w],_=N.orientation;return!N.mirror&&!N.hide?J(J({},k),{},$e({},_,pa(k,"".concat(_))+N.height)):k},{top:h.top||0,bottom:h.bottom||0}),y=J(J({},b),v),g=y.bottom;p&&(y.bottom+=p.props.height||el.defaultProps.height),m&&r&&(y=aW(y,a,n,r));var x=c-y.left-y.right,j=f-y.top-y.bottom;return J(J({brushBottom:g},y),{},{width:Math.max(x,0),height:Math.max(j,0)})},NQ=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},rx=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,o=a===void 0?"axis":a,i=t.validateTooltipEventTypes,s=i===void 0?["axis"]:i,l=t.axisComponents,c=t.legendContent,f=t.formatAxisMap,d=t.defaultProps,h=function(y,g){var x=g.graphicalItems,j=g.stackGroups,k=g.offset,w=g.updateId,N=g.dataStartIndex,_=g.dataEndIndex,O=y.barSize,A=y.layout,M=y.barGap,C=y.barCategoryGap,$=y.maxBarSize,F=ik(A),T=F.numericAxisName,W=F.cateAxisName,P=jQ(x),E=[];return x.forEach(function(L,z){var Z=b0(y.data,{graphicalItems:[L],dataStartIndex:N,dataEndIndex:_}),q=L.type.defaultProps!==void 0?J(J({},L.type.defaultProps),L.props):L.props,H=q.dataKey,se=q.maxBarSize,ee=q["".concat(T,"Id")],D=q["".concat(W,"Id")],ne={},he=l.reduce(function(He,mt){var Rt=g["".concat(mt.axisType,"Map")],Gt=q["".concat(mt.axisType,"Id")];Rt&&Rt[Gt]||mt.axisType==="zAxis"||Vi();var Or=Rt[Gt];return J(J({},He),{},$e($e({},mt.axisType,Or),"".concat(mt.axisType,"Ticks"),lo(Or)))},ne),X=he[W],ue=he["".concat(W,"Ticks")],pe=j&&j[ee]&&j[ee].hasStack&&vW(L,j[ee].stackGroups),G=uo(L.type).indexOf("Bar")>=0,oe=Gd(X,ue),ie=[],we=P&&rW({barSize:O,stackGroups:j,totalSize:NQ(he,W)});if(G){var ze,Re,_t=Ie(se)?$:se,gt=(ze=(Re=Gd(X,ue,!0))!==null&&Re!==void 0?Re:_t)!==null&&ze!==void 0?ze:0;ie=nW({barGap:M,barCategoryGap:C,bandSize:gt!==oe?gt:oe,sizeList:we[D],maxBarSize:_t}),gt!==oe&&(ie=ie.map(function(He){return J(J({},He),{},{position:J(J({},He.position),{},{offset:He.position.offset-gt/2})})}))}var De=L&&L.type&&L.type.getComposedData;De&&E.push({props:J(J({},De(J(J({},he),{},{displayedData:Z,props:y,dataKey:H,item:L,bandSize:oe,barPosition:ie,offset:k,stackedData:pe,layout:A,dataStartIndex:N,dataEndIndex:_}))),{},$e($e($e({key:L.key||"item-".concat(z)},T,he[T]),W,he[W]),"animationId",w)),childIndex:t$(L,y.children),item:L})}),E},p=function(y,g){var x=y.props,j=y.dataStartIndex,k=y.dataEndIndex,w=y.updateId;if(!Ab({props:x}))return null;var N=x.children,_=x.layout,O=x.stackOffset,A=x.data,M=x.reverseStackOrder,C=ik(_),$=C.numericAxisName,F=C.cateAxisName,T=zn(N,n),W=gW(A,T,"".concat($,"Id"),"".concat(F,"Id"),O,M),P=l.reduce(function(q,H){var se="".concat(H.axisType,"Map");return J(J({},q),{},$e({},se,wQ(x,J(J({},H),{},{graphicalItems:T,stackGroups:H.axisType===$&&W,dataStartIndex:j,dataEndIndex:k}))))},{}),E=SQ(J(J({},P),{},{props:x,graphicalItems:T}),g==null?void 0:g.legendBBox);Object.keys(P).forEach(function(q){P[q]=f(x,P[q],E,q.replace("Map",""),r)});var L=P["".concat(F,"Map")],z=kQ(L),Z=h(x,J(J({},P),{},{dataStartIndex:j,dataEndIndex:k,updateId:w,graphicalItems:T,stackGroups:W,offset:E}));return J(J({formattedGraphicalItems:Z,graphicalItems:T,offset:E,stackGroups:W},z),P)},m=function(b){function y(g){var x,j,k;return aQ(this,y),k=sQ(this,y,[g]),$e(k,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),$e(k,"accessibilityManager",new GZ),$e(k,"handleLegendBBoxUpdate",function(w){if(w){var N=k.state,_=N.dataStartIndex,O=N.dataEndIndex,A=N.updateId;k.setState(J({legendBBox:w},p({props:k.props,dataStartIndex:_,dataEndIndex:O,updateId:A},J(J({},k.state),{},{legendBBox:w}))))}}),$e(k,"handleReceiveSyncEvent",function(w,N,_){if(k.props.syncId===w){if(_===k.eventEmitterSymbol&&typeof k.props.syncMethod!="function")return;k.applySyncEvent(N)}}),$e(k,"handleBrushChange",function(w){var N=w.startIndex,_=w.endIndex;if(N!==k.state.dataStartIndex||_!==k.state.dataEndIndex){var O=k.state.updateId;k.setState(function(){return J({dataStartIndex:N,dataEndIndex:_},p({props:k.props,dataStartIndex:N,dataEndIndex:_,updateId:O},k.state))}),k.triggerSyncEvent({dataStartIndex:N,dataEndIndex:_})}}),$e(k,"handleMouseEnter",function(w){var N=k.getMouseInfo(w);if(N){var _=J(J({},N),{},{isTooltipActive:!0});k.setState(_),k.triggerSyncEvent(_);var O=k.props.onMouseEnter;We(O)&&O(_,w)}}),$e(k,"triggeredAfterMouseMove",function(w){var N=k.getMouseInfo(w),_=N?J(J({},N),{},{isTooltipActive:!0}):{isTooltipActive:!1};k.setState(_),k.triggerSyncEvent(_);var O=k.props.onMouseMove;We(O)&&O(_,w)}),$e(k,"handleItemMouseEnter",function(w){k.setState(function(){return{isTooltipActive:!0,activeItem:w,activePayload:w.tooltipPayload,activeCoordinate:w.tooltipPosition||{x:w.cx,y:w.cy}}})}),$e(k,"handleItemMouseLeave",function(){k.setState(function(){return{isTooltipActive:!1}})}),$e(k,"handleMouseMove",function(w){w.persist(),k.throttleTriggeredAfterMouseMove(w)}),$e(k,"handleMouseLeave",function(w){k.throttleTriggeredAfterMouseMove.cancel();var N={isTooltipActive:!1};k.setState(N),k.triggerSyncEvent(N);var _=k.props.onMouseLeave;We(_)&&_(N,w)}),$e(k,"handleOuterEvent",function(w){var N=e$(w),_=pa(k.props,"".concat(N));if(N&&We(_)){var O,A;/.*touch.*/i.test(N)?A=k.getMouseInfo(w.changedTouches[0]):A=k.getMouseInfo(w),_((O=A)!==null&&O!==void 0?O:{},w)}}),$e(k,"handleClick",function(w){var N=k.getMouseInfo(w);if(N){var _=J(J({},N),{},{isTooltipActive:!0});k.setState(_),k.triggerSyncEvent(_);var O=k.props.onClick;We(O)&&O(_,w)}}),$e(k,"handleMouseDown",function(w){var N=k.props.onMouseDown;if(We(N)){var _=k.getMouseInfo(w);N(_,w)}}),$e(k,"handleMouseUp",function(w){var N=k.props.onMouseUp;if(We(N)){var _=k.getMouseInfo(w);N(_,w)}}),$e(k,"handleTouchMove",function(w){w.changedTouches!=null&&w.changedTouches.length>0&&k.throttleTriggeredAfterMouseMove(w.changedTouches[0])}),$e(k,"handleTouchStart",function(w){w.changedTouches!=null&&w.changedTouches.length>0&&k.handleMouseDown(w.changedTouches[0])}),$e(k,"handleTouchEnd",function(w){w.changedTouches!=null&&w.changedTouches.length>0&&k.handleMouseUp(w.changedTouches[0])}),$e(k,"handleDoubleClick",function(w){var N=k.props.onDoubleClick;if(We(N)){var _=k.getMouseInfo(w);N(_,w)}}),$e(k,"handleContextMenu",function(w){var N=k.props.onContextMenu;if(We(N)){var _=k.getMouseInfo(w);N(_,w)}}),$e(k,"triggerSyncEvent",function(w){k.props.syncId!==void 0&&Sp.emit(Np,k.props.syncId,w,k.eventEmitterSymbol)}),$e(k,"applySyncEvent",function(w){var N=k.props,_=N.layout,O=N.syncMethod,A=k.state.updateId,M=w.dataStartIndex,C=w.dataEndIndex;if(w.dataStartIndex!==void 0||w.dataEndIndex!==void 0)k.setState(J({dataStartIndex:M,dataEndIndex:C},p({props:k.props,dataStartIndex:M,dataEndIndex:C,updateId:A},k.state)));else if(w.activeTooltipIndex!==void 0){var $=w.chartX,F=w.chartY,T=w.activeTooltipIndex,W=k.state,P=W.offset,E=W.tooltipTicks;if(!P)return;if(typeof O=="function")T=O(E,w);else if(O==="value"){T=-1;for(var L=0;L<E.length;L++)if(E[L].value===w.activeLabel){T=L;break}}var z=J(J({},P),{},{x:P.left,y:P.top}),Z=Math.min($,z.x+z.width),q=Math.min(F,z.y+z.height),H=E[T]&&E[T].value,se=Jm(k.state,k.props.data,T),ee=E[T]?{x:_==="horizontal"?E[T].coordinate:Z,y:_==="horizontal"?q:E[T].coordinate}:lP;k.setState(J(J({},w),{},{activeLabel:H,activeCoordinate:ee,activePayload:se,activeTooltipIndex:T}))}else k.setState(w)}),$e(k,"renderCursor",function(w){var N,_=k.state,O=_.isTooltipActive,A=_.activeCoordinate,M=_.activePayload,C=_.offset,$=_.activeTooltipIndex,F=_.tooltipAxisBandSize,T=k.getTooltipEventType(),W=(N=w.props.active)!==null&&N!==void 0?N:O,P=k.props.layout,E=w.key||"_recharts-cursor";return R.createElement(ZZ,{key:E,activeCoordinate:A,activePayload:M,activeTooltipIndex:$,chartName:r,element:w,isActive:W,layout:P,offset:C,tooltipAxisBandSize:F,tooltipEventType:T})}),$e(k,"renderPolarAxis",function(w,N,_){var O=pa(w,"type.axisType"),A=pa(k.state,"".concat(O,"Map")),M=w.type.defaultProps,C=M!==void 0?J(J({},M),w.props):w.props,$=A&&A[C["".concat(O,"Id")]];return S.cloneElement(w,J(J({},$),{},{className:it(O,$.className),key:w.key||"".concat(N,"-").concat(_),ticks:lo($,!0)}))}),$e(k,"renderPolarGrid",function(w){var N=w.props,_=N.radialLines,O=N.polarAngles,A=N.polarRadius,M=k.state,C=M.radiusAxisMap,$=M.angleAxisMap,F=Lo(C),T=Lo($),W=T.cx,P=T.cy,E=T.innerRadius,L=T.outerRadius;return S.cloneElement(w,{polarAngles:Array.isArray(O)?O:lo(T,!0).map(function(z){return z.coordinate}),polarRadius:Array.isArray(A)?A:lo(F,!0).map(function(z){return z.coordinate}),cx:W,cy:P,innerRadius:E,outerRadius:L,key:w.key||"polar-grid",radialLines:_})}),$e(k,"renderLegend",function(){var w=k.state.formattedGraphicalItems,N=k.props,_=N.children,O=N.width,A=N.height,M=k.props.margin||{},C=O-(M.left||0)-(M.right||0),$=G_({children:_,formattedGraphicalItems:w,legendWidth:C,legendContent:c});if(!$)return null;var F=$.item,T=rk($,QZ);return S.cloneElement(F,J(J({},T),{},{chartWidth:O,chartHeight:A,margin:M,onBBoxUpdate:k.handleLegendBBoxUpdate}))}),$e(k,"renderTooltip",function(){var w,N=k.props,_=N.children,O=N.accessibilityLayer,A=Yn(_,Ur);if(!A)return null;var M=k.state,C=M.isTooltipActive,$=M.activeCoordinate,F=M.activePayload,T=M.activeLabel,W=M.offset,P=(w=A.props.active)!==null&&w!==void 0?w:C;return S.cloneElement(A,{viewBox:J(J({},W),{},{x:W.left,y:W.top}),active:P,label:T,payload:P?F:[],coordinate:$,accessibilityLayer:O})}),$e(k,"renderBrush",function(w){var N=k.props,_=N.margin,O=N.data,A=k.state,M=A.offset,C=A.dataStartIndex,$=A.dataEndIndex,F=A.updateId;return S.cloneElement(w,{key:w.key||"_recharts-brush",onChange:jf(k.handleBrushChange,w.props.onChange),data:O,x:de(w.props.x)?w.props.x:M.left,y:de(w.props.y)?w.props.y:M.top+M.height+M.brushBottom-(_.bottom||0),width:de(w.props.width)?w.props.width:M.width,startIndex:C,endIndex:$,updateId:"brush-".concat(F)})}),$e(k,"renderReferenceElement",function(w,N,_){if(!w)return null;var O=k,A=O.clipPathId,M=k.state,C=M.xAxisMap,$=M.yAxisMap,F=M.offset,T=w.type.defaultProps||{},W=w.props,P=W.xAxisId,E=P===void 0?T.xAxisId:P,L=W.yAxisId,z=L===void 0?T.yAxisId:L;return S.cloneElement(w,{key:w.key||"".concat(N,"-").concat(_),xAxis:C[E],yAxis:$[z],viewBox:{x:F.left,y:F.top,width:F.width,height:F.height},clipPathId:A})}),$e(k,"renderActivePoints",function(w){var N=w.item,_=w.activePoint,O=w.basePoint,A=w.childIndex,M=w.isRange,C=[],$=N.props.key,F=N.item.type.defaultProps!==void 0?J(J({},N.item.type.defaultProps),N.item.props):N.item.props,T=F.activeDot,W=F.dataKey,P=J(J({index:A,dataKey:W,cx:_.x,cy:_.y,r:4,fill:Hv(N.item),strokeWidth:2,stroke:"#fff",payload:_.payload,value:_.value},Fe(T,!1)),gd(T));return C.push(y.renderActiveDot(T,P,"".concat($,"-activePoint-").concat(A))),O?C.push(y.renderActiveDot(T,J(J({},P),{},{cx:O.x,cy:O.y}),"".concat($,"-basePoint-").concat(A))):M&&C.push(null),C}),$e(k,"renderGraphicChild",function(w,N,_){var O=k.filterFormatItem(w,N,_);if(!O)return null;var A=k.getTooltipEventType(),M=k.state,C=M.isTooltipActive,$=M.tooltipAxis,F=M.activeTooltipIndex,T=M.activeLabel,W=k.props.children,P=Yn(W,Ur),E=O.props,L=E.points,z=E.isRange,Z=E.baseLine,q=O.item.type.defaultProps!==void 0?J(J({},O.item.type.defaultProps),O.item.props):O.item.props,H=q.activeDot,se=q.hide,ee=q.activeBar,D=q.activeShape,ne=!!(!se&&C&&P&&(H||ee||D)),he={};A!=="axis"&&P&&P.props.trigger==="click"?he={onClick:jf(k.handleItemMouseEnter,w.props.onClick)}:A!=="axis"&&(he={onMouseLeave:jf(k.handleItemMouseLeave,w.props.onMouseLeave),onMouseEnter:jf(k.handleItemMouseEnter,w.props.onMouseEnter)});var X=S.cloneElement(w,J(J({},O.props),he));function ue(mt){return typeof $.dataKey=="function"?$.dataKey(mt.payload):null}if(ne)if(F>=0){var pe,G;if($.dataKey&&!$.allowDuplicatedCategory){var oe=typeof $.dataKey=="function"?ue:"payload.".concat($.dataKey.toString());pe=pd(L,oe,T),G=z&&Z&&pd(Z,oe,T)}else pe=L==null?void 0:L[F],G=z&&Z&&Z[F];if(D||ee){var ie=w.props.activeIndex!==void 0?w.props.activeIndex:F;return[S.cloneElement(w,J(J(J({},O.props),he),{},{activeIndex:ie})),null,null]}if(!Ie(pe))return[X].concat(hl(k.renderActivePoints({item:O,activePoint:pe,basePoint:G,childIndex:F,isRange:z})))}else{var we,ze=(we=k.getItemByXY(k.state.activeCoordinate))!==null&&we!==void 0?we:{graphicalItem:X},Re=ze.graphicalItem,_t=Re.item,gt=_t===void 0?w:_t,De=Re.childIndex,He=J(J(J({},O.props),he),{},{activeIndex:De});return[S.cloneElement(gt,He),null,null]}return z?[X,null,null]:[X,null]}),$e(k,"renderCustomized",function(w,N,_){return S.cloneElement(w,J(J({key:"recharts-customized-".concat(_)},k.props),k.state))}),$e(k,"renderMap",{CartesianGrid:{handler:Pf,once:!0},ReferenceArea:{handler:k.renderReferenceElement},ReferenceLine:{handler:Pf},ReferenceDot:{handler:k.renderReferenceElement},XAxis:{handler:Pf},YAxis:{handler:Pf},Brush:{handler:k.renderBrush,once:!0},Bar:{handler:k.renderGraphicChild},Line:{handler:k.renderGraphicChild},Area:{handler:k.renderGraphicChild},Radar:{handler:k.renderGraphicChild},RadialBar:{handler:k.renderGraphicChild},Scatter:{handler:k.renderGraphicChild},Pie:{handler:k.renderGraphicChild},Funnel:{handler:k.renderGraphicChild},Tooltip:{handler:k.renderCursor,once:!0},PolarGrid:{handler:k.renderPolarGrid,once:!0},PolarAngleAxis:{handler:k.renderPolarAxis},PolarRadiusAxis:{handler:k.renderPolarAxis},Customized:{handler:k.renderCustomized}}),k.clipPathId="".concat((x=g.id)!==null&&x!==void 0?x:Qi("recharts"),"-clip"),k.throttleTriggeredAfterMouseMove=HN(k.triggeredAfterMouseMove,(j=g.throttleDelay)!==null&&j!==void 0?j:1e3/60),k.state={},k}return uQ(y,b),iQ(y,[{key:"componentDidMount",value:function(){var x,j;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var x=this.props,j=x.children,k=x.data,w=x.height,N=x.layout,_=Yn(j,Ur);if(_){var O=_.props.defaultIndex;if(!(typeof O!="number"||O<0||O>this.state.tooltipTicks.length-1)){var A=this.state.tooltipTicks[O]&&this.state.tooltipTicks[O].value,M=Jm(this.state,k,O,A),C=this.state.tooltipTicks[O].coordinate,$=(this.state.offset.top+w)/2,F=N==="horizontal",T=F?{x:C,y:$}:{y:C,x:$},W=this.state.formattedGraphicalItems.find(function(E){var L=E.item;return L.type.name==="Scatter"});W&&(T=J(J({},T),W.props.points[O].tooltipPosition),M=W.props.points[O].tooltipPayload);var P={activeTooltipIndex:O,isTooltipActive:!0,activeLabel:A,activePayload:M,activeCoordinate:T};this.setState(P),this.renderCursor(_),this.accessibilityManager.setIndex(O)}}}},{key:"getSnapshotBeforeUpdate",value:function(x,j){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==j.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==x.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==x.margin){var k,w;this.accessibilityManager.setDetails({offset:{left:(k=this.props.margin.left)!==null&&k!==void 0?k:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0}})}return null}},{key:"componentDidUpdate",value:function(x){Pg([Yn(x.children,Ur)],[Yn(this.props.children,Ur)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var x=Yn(this.props.children,Ur);if(x&&typeof x.props.shared=="boolean"){var j=x.props.shared?"axis":"item";return s.indexOf(j)>=0?j:o}return o}},{key:"getMouseInfo",value:function(x){if(!this.container)return null;var j=this.container,k=j.getBoundingClientRect(),w=OF(k),N={chartX:Math.round(x.pageX-w.left),chartY:Math.round(x.pageY-w.top)},_=k.width/j.offsetWidth||1,O=this.inRange(N.chartX,N.chartY,_);if(!O)return null;var A=this.state,M=A.xAxisMap,C=A.yAxisMap,$=this.getTooltipEventType(),F=ak(this.state,this.props.data,this.props.layout,O);if($!=="axis"&&M&&C){var T=Lo(M).scale,W=Lo(C).scale,P=T&&T.invert?T.invert(N.chartX):null,E=W&&W.invert?W.invert(N.chartY):null;return J(J({},N),{},{xValue:P,yValue:E},F)}return F?J(J({},N),F):null}},{key:"inRange",value:function(x,j){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,w=this.props.layout,N=x/k,_=j/k;if(w==="horizontal"||w==="vertical"){var O=this.state.offset,A=N>=O.left&&N<=O.left+O.width&&_>=O.top&&_<=O.top+O.height;return A?{x:N,y:_}:null}var M=this.state,C=M.angleAxisMap,$=M.radiusAxisMap;if(C&&$){var F=Lo(C);return Iw({x:N,y:_},F)}return null}},{key:"parseEventsOfWrapper",value:function(){var x=this.props.children,j=this.getTooltipEventType(),k=Yn(x,Ur),w={};k&&j==="axis"&&(k.props.trigger==="click"?w={onClick:this.handleClick}:w={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var N=gd(this.props,this.handleOuterEvent);return J(J({},N),w)}},{key:"addListener",value:function(){Sp.on(Np,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Sp.removeListener(Np,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(x,j,k){for(var w=this.state.formattedGraphicalItems,N=0,_=w.length;N<_;N++){var O=w[N];if(O.item===x||O.props.key===x.key||j===uo(O.item.type)&&k===O.childIndex)return O}return null}},{key:"renderClipPath",value:function(){var x=this.clipPathId,j=this.state.offset,k=j.left,w=j.top,N=j.height,_=j.width;return R.createElement("defs",null,R.createElement("clipPath",{id:x},R.createElement("rect",{x:k,y:w,height:N,width:_})))}},{key:"getXScales",value:function(){var x=this.state.xAxisMap;return x?Object.entries(x).reduce(function(j,k){var w=tk(k,2),N=w[0],_=w[1];return J(J({},j),{},$e({},N,_.scale))},{}):null}},{key:"getYScales",value:function(){var x=this.state.yAxisMap;return x?Object.entries(x).reduce(function(j,k){var w=tk(k,2),N=w[0],_=w[1];return J(J({},j),{},$e({},N,_.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(x){var j;return(j=this.state.xAxisMap)===null||j===void 0||(j=j[x])===null||j===void 0?void 0:j.scale}},{key:"getYScaleByAxisId",value:function(x){var j;return(j=this.state.yAxisMap)===null||j===void 0||(j=j[x])===null||j===void 0?void 0:j.scale}},{key:"getItemByXY",value:function(x){var j=this.state,k=j.formattedGraphicalItems,w=j.activeItem;if(k&&k.length)for(var N=0,_=k.length;N<_;N++){var O=k[N],A=O.props,M=O.item,C=M.type.defaultProps!==void 0?J(J({},M.type.defaultProps),M.props):M.props,$=uo(M.type);if($==="Bar"){var F=(A.data||[]).find(function(E){return hV(x,E)});if(F)return{graphicalItem:O,payload:F}}else if($==="RadialBar"){var T=(A.data||[]).find(function(E){return Iw(x,E)});if(T)return{graphicalItem:O,payload:T}}else if(p0(O,w)||g0(O,w)||gu(O,w)){var W=gX({graphicalItem:O,activeTooltipItem:w,itemData:C.data}),P=C.activeIndex===void 0?W:C.activeIndex;return{graphicalItem:J(J({},O),{},{childIndex:P}),payload:gu(O,w)?C.data[W]:O.props.data[W]}}}return null}},{key:"render",value:function(){var x=this;if(!Ab(this))return null;var j=this.props,k=j.children,w=j.className,N=j.width,_=j.height,O=j.style,A=j.compact,M=j.title,C=j.desc,$=rk(j,JZ),F=Fe($,!1);if(A)return R.createElement(T2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},R.createElement(Mg,Ss({},F,{width:N,height:_,title:M,desc:C}),this.renderClipPath(),Cb(k,this.renderMap)));if(this.props.accessibilityLayer){var T,W;F.tabIndex=(T=this.props.tabIndex)!==null&&T!==void 0?T:0,F.role=(W=this.props.role)!==null&&W!==void 0?W:"application",F.onKeyDown=function(E){x.accessibilityManager.keyboardEvent(E)},F.onFocus=function(){x.accessibilityManager.focus()}}var P=this.parseEventsOfWrapper();return R.createElement(T2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},R.createElement("div",Ss({className:it("recharts-wrapper",w),style:J({position:"relative",cursor:"default",width:N,height:_},O)},P,{ref:function(L){x.container=L}}),R.createElement(Mg,Ss({},F,{width:N,height:_,title:M,desc:C,style:mQ}),this.renderClipPath(),Cb(k,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(S.Component);$e(m,"displayName",r),$e(m,"defaultProps",J({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),$e(m,"getDerivedStateFromProps",function(b,y){var g=b.dataKey,x=b.data,j=b.children,k=b.width,w=b.height,N=b.layout,_=b.stackOffset,O=b.margin,A=y.dataStartIndex,M=y.dataEndIndex;if(y.updateId===void 0){var C=ok(b);return J(J(J({},C),{},{updateId:0},p(J(J({props:b},C),{},{updateId:0}),y)),{},{prevDataKey:g,prevData:x,prevWidth:k,prevHeight:w,prevLayout:N,prevStackOffset:_,prevMargin:O,prevChildren:j})}if(g!==y.prevDataKey||x!==y.prevData||k!==y.prevWidth||w!==y.prevHeight||N!==y.prevLayout||_!==y.prevStackOffset||!Cs(O,y.prevMargin)){var $=ok(b),F={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},T=J(J({},ak(y,x,N)),{},{updateId:y.updateId+1}),W=J(J(J({},$),F),T);return J(J(J({},W),p(J({props:b},W),y)),{},{prevDataKey:g,prevData:x,prevWidth:k,prevHeight:w,prevLayout:N,prevStackOffset:_,prevMargin:O,prevChildren:j})}if(!Pg(j,y.prevChildren)){var P,E,L,z,Z=Yn(j,el),q=Z&&(P=(E=Z.props)===null||E===void 0?void 0:E.startIndex)!==null&&P!==void 0?P:A,H=Z&&(L=(z=Z.props)===null||z===void 0?void 0:z.endIndex)!==null&&L!==void 0?L:M,se=q!==A||H!==M,ee=!Ie(x),D=ee&&!se?y.updateId:y.updateId+1;return J(J({updateId:D},p(J(J({props:b},y),{},{updateId:D,dataStartIndex:q,dataEndIndex:H}),y)),{},{prevChildren:j,dataStartIndex:q,dataEndIndex:H})}return null}),$e(m,"renderActiveDot",function(b,y,g){var x;return S.isValidElement(b)?x=S.cloneElement(b,y):We(b)?x=b(y):x=R.createElement(h0,y),R.createElement(pt,{className:"recharts-active-dot",key:g},x)});var v=S.forwardRef(function(y,g){return R.createElement(m,Ss({},y,{ref:g}))});return v.displayName=m.displayName,v},$s=rx({chartName:"LineChart",GraphicalChild:Nr,axisComponents:[{axisType:"xAxis",AxisComp:Un},{axisType:"yAxis",AxisComp:Wn}],formatAxisMap:Xv}),_Q=rx({chartName:"ScatterChart",GraphicalChild:jn,defaultTooltipEventType:"item",validateTooltipEventTypes:["item"],axisComponents:[{axisType:"xAxis",AxisComp:Un},{axisType:"yAxis",AxisComp:Wn},{axisType:"zAxis",AxisComp:x0}],formatAxisMap:Xv}),uP=rx({chartName:"AreaChart",GraphicalChild:da,axisComponents:[{axisType:"xAxis",AxisComp:Un},{axisType:"yAxis",AxisComp:Wn}],formatAxisMap:Xv});const OQ="modulepreload",PQ=function(e){return"/"+e},sk={},AQ=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),s=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));a=Promise.allSettled(r.map(l=>{if(l=PQ(l),l in sk)return;sk[l]=!0;const c=l.endsWith(".css"),f=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${f}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":OQ,c||(d.as="script"),d.crossOrigin="",d.href=l,s&&d.setAttribute("nonce",s),document.head.appendChild(d),c)return new Promise((h,p)=>{d.addEventListener("load",h),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(i){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=i,window.dispatchEvent(s),!s.defaultPrevented)throw i}return a.then(i=>{for(const s of i||[])s.status==="rejected"&&o(s.reason);return t().catch(o)})};function fP(e){const[[t,r,n],[a,o,i],[s,l,c]]=e,f=t*(o*c-i*l)-r*(a*c-i*s)+n*(a*l-o*s);if(Math.abs(f)<1e-10)return null;const d=1/f;return[[(o*c-i*l)*d,(n*l-r*c)*d,(r*i-n*o)*d],[(i*s-a*c)*d,(t*c-n*s)*d,(n*a-t*i)*d],[(a*l-o*s)*d,(r*s-t*l)*d,(t*o-r*a)*d]]}function lk(e,t){const r=[[0,0,0],[0,0,0],[0,0,0]];for(let n=0;n<3;n++)for(let a=0;a<3;a++)for(let o=0;o<3;o++)r[n][a]+=e[n][o]*t[o][a];return r}class Ki{constructor(t){kn(this,"size");kn(this,"isPowerOfTwo");kn(this,"_real");kn(this,"_imag");kn(this,"_scratch",null);kn(this,"_rev",null);kn(this,"_m",0);kn(this,"_internalFFT",null);kn(this,"_chirpReal",null);kn(this,"_chirpImag",null);kn(this,"_bReal",null);kn(this,"_bImag",null);kn(this,"_hanning",null);kn(this,"_windowSumSq",0);this.size=t,this.isPowerOfTwo=(t&t-1)===0&&t>0,this._real=new Float32Array(t),this._imag=new Float32Array(t),this.isPowerOfTwo?this.initRadix2():this.initBluestein()}initRadix2(){const t=this.size,r=Math.log2(t);this._rev=new Uint32Array(t);for(let n=0;n<t;n++){let a=0,o=n;for(let i=0;i<r;i++)a=a<<1|o&1,o>>>=1;this._rev[n]=a}}initBluestein(){const t=this.size;this._m=Math.pow(2,Math.ceil(Math.log2(2*t-1))),this._internalFFT=new Ki(this._m),this._chirpReal=new Float32Array(t),this._chirpImag=new Float32Array(t);for(let a=0;a<t;a++){const o=-Math.PI*(a*a)/t;this._chirpReal[a]=Math.cos(o),this._chirpImag[a]=Math.sin(o)}const r=new Float32Array(this._m),n=new Float32Array(this._m);for(let a=0;a<t;a++)r[a]=this._chirpReal[a],n[a]=-this._chirpImag[a];for(let a=1;a<t;a++)r[this._m-a]=r[a],n[this._m-a]=n[a];this._internalFFT.transform(r,n),this._bReal=new Float32Array(this._internalFFT._real),this._bImag=new Float32Array(this._internalFFT._imag)}initHanning(){if(this._hanning)return;const t=this.size;this._hanning=new Float32Array(t);let r=0;for(let n=0;n<t;n++){const a=.5*(1-Math.cos(2*Math.PI*n/(t-1)));this._hanning[n]=a,r+=a*a}this._windowSumSq=r}transform(t,r){this.isPowerOfTwo?this.transformRadix2(t,r):this.transformBluestein(t,r)}transformRadix2(t,r){const n=this.size,a=this._rev,o=this._real,i=this._imag;if(t===o)for(let s=0;s<n;s++){const l=a[s];if(s<l){const c=o[s],f=i[s];o[s]=o[l],i[s]=i[l],o[l]=c,i[l]=f}}else for(let s=0;s<n;s++){const l=a[s];o[s]=t[l],i[s]=r?r[l]:0}for(let s=2;s<=n;s*=2){const l=s/2,c=-2*Math.PI/s,f=Math.cos(c),d=Math.sin(c);for(let h=0;h<n;h+=s){let p=1,m=0;for(let v=0;v<l;v++){const b=h+v,y=h+v+l,g=p*o[y]-m*i[y],x=p*i[y]+m*o[y],j=o[b],k=i[b];o[b]=j+g,i[b]=k+x,o[y]=j-g,i[y]=k-x;const w=p*f-m*d,N=p*d+m*f;p=w,m=N}}}}transformBluestein(t,r){const n=this.size,a=this._m,o=this._internalFFT,i=o._real,s=o._imag;i.fill(0),s.fill(0);for(let d=0;d<n;d++){const h=t[d],p=r?r[d]:0,m=this._chirpReal[d],v=this._chirpImag[d];i[d]=h*m-p*v,s[d]=h*v+p*m}o.transformRadix2(i,s);for(let d=0;d<a;d++){const h=o._real[d],p=o._imag[d],m=this._bReal[d],v=this._bImag[d];o._real[d]=h*m-p*v,o._imag[d]=h*v+p*m}const l=o._real,c=o._imag;for(let d=0;d<a;d++)c[d]=-c[d];o.transformRadix2(l,c);const f=1/a;for(let d=0;d<n;d++){const h=o._real[d]*f,p=-o._imag[d]*f,m=this._chirpReal[d],v=this._chirpImag[d];this._real[d]=h*m-p*v,this._imag[d]=h*v+p*m}}calculateSpectrum(t,r,n=!1){const a=this.size;let o=0;for(let f=0;f<a;f++)o+=t[f];const i=o/a;this._scratch||(this._scratch=new Float32Array(a));const s=this._scratch;if(n){this.initHanning();const f=this._hanning;for(let d=0;d<a;d++)s[d]=(t[d]-i)*f[d]}else for(let f=0;f<a;f++)s[f]=t[f]-i;this.transform(s);const l=r.length;let c=1/a;n&&this._windowSumSq>0&&(c=1/this._windowSumSq);for(let f=0;f<l;f++){const d=this._real[f],h=this._imag[f];r[f]+=(d*d+h*h)*c}}}function MQ(e,t,r,n=!1){const a=new Ki(t),o=new Ki(r),i=t*r,s=new Float32Array(i),l=new Float32Array(i);let c=null,f=null;if(n){c=new Float32Array(t);for(let v=0;v<t;v++)c[v]=.5*(1-Math.cos(2*Math.PI*v/(t-1)));f=new Float32Array(r);for(let v=0;v<r;v++)f[v]=.5*(1-Math.cos(2*Math.PI*v/(r-1)))}for(let v=0;v<r;v++){const b=v*t,y=a._real;let g=0;for(let j=0;j<t;j++)g+=e[b+j];const x=g/t;if(c)for(let j=0;j<t;j++)y[j]=(e[b+j]-x)*c[j];else for(let j=0;j<t;j++)y[j]=e[b+j]-x;a.transform(y);for(let j=0;j<t;j++)s[b+j]=a._real[j],l[b+j]=a._imag[j]}for(let v=0;v<t;v++){const b=o._real,y=o._imag;for(let g=0;g<r;g++){const x=g*t+v;let j=s[x],k=l[x];f&&(j*=f[g],k*=f[g]),b[g]=j,y[g]=k}o.transform(b,y);for(let g=0;g<r;g++){const x=g*t+v;s[x]=o._real[g],l[x]=o._imag[g]}}const d=new Float32Array(i);let h=1,p=t,m=r;if(n&&c&&f){p=0;for(let v=0;v<t;v++)p+=c[v]*c[v];m=0;for(let v=0;v<r;v++)m+=f[v]*f[v]}h=1/(p*m);for(let v=0;v<i;v++)d[v]=(s[v]*s[v]+l[v]*l[v])*h;return d}function CQ(e,t,r){const n=new Float32Array(e.length),a=Math.floor(t/2),o=Math.floor(r/2);for(let i=0;i<r;i++)for(let s=0;s<t;s++){const l=(s+a)%t,c=(i+o)%r,f=i*t+s,d=c*t+l;n[d]=e[f]}return n}function Uf(e,t,r){const a=e*t*2,o=8,i=o+a,s="Fake",l="NoiseCam",c="NoiseCam",f=O=>{const A=new Uint8Array(O.length+1);for(let M=0;M<O.length;M++)A[M]=O.charCodeAt(M);return A[O.length]=0,A},d=f(s),h=f(l),p=f(c),m=[{id:254,type:4,count:1,value:0},{id:256,type:4,count:1,value:e},{id:257,type:4,count:1,value:t},{id:258,type:3,count:1,value:16},{id:259,type:3,count:1,value:1},{id:262,type:3,count:1,value:32803},{id:271,type:2,count:d.length,value:d},{id:272,type:2,count:h.length,value:h},{id:273,type:4,count:1,value:o},{id:277,type:3,count:1,value:1},{id:278,type:4,count:1,value:t},{id:279,type:4,count:1,value:a},{id:33421,type:3,count:2,value:[2,2]},{id:33422,type:1,count:4,value:[0,1,1,2]},{id:50706,type:1,count:4,value:[1,4,0,0]},{id:50717,type:2,count:p.length,value:p}],v=2+m.length*12+4;let b=0;const y=m.map(O=>{let A=1;O.type===3&&(A=2),O.type===4&&(A=4);const M=O.count*A,C=M<=4;let $=0;return C||($=b,b+=M,b%2!==0&&b++),{...O,fits:C,totalBytes:M,extraOffset:$}}),g=i+v,x=g+b,j=new ArrayBuffer(x),k=new DataView(j),w=new Uint8Array(j);k.setUint16(0,18761,!0),k.setUint16(2,42,!0),k.setUint32(4,i,!0);const N=new Uint8Array(r.buffer,r.byteOffset,r.byteLength);w.set(N,o);let _=i;return k.setUint16(_,m.length,!0),_+=2,y.forEach(O=>{if(k.setUint16(_,O.id,!0),k.setUint16(_+2,O.type,!0),k.setUint32(_+4,O.count,!0),O.fits){const A=_+8;Array.isArray(O.value)?O.value.forEach((M,C)=>{O.type===1&&k.setUint8(A+C,M),O.type===3&&k.setUint16(A+C*2,M,!0)}):O.value instanceof Uint8Array||(O.type===3&&k.setUint16(A,O.value,!0),O.type===4&&k.setUint32(A,O.value,!0))}else{const A=g+O.extraOffset;k.setUint32(_+8,A,!0);const M=A;O.value instanceof Uint8Array?w.set(O.value,M):Array.isArray(O.value)&&O.value.forEach((C,$)=>{O.type===1&&k.setUint8(M+$,C),O.type===3&&k.setUint16(M+$*2,C,!0)})}_+=12}),k.setUint32(_,0,!0),j}let Op=null;async function Lu(){if(!Op)try{const n=(await AQ(()=>import("./joraw-Co6A4tFq.js"),[])).default;if(typeof n!="function")throw new Error("JoRaw WASM import failed");const a=new URL("/assets/joraw-BUh50ws_.wasm",import.meta.url).href;Op=n({locateFile:(o,i)=>o.endsWith("joraw.wasm")?a:i+o})}catch(r){throw console.error("Failed to load joraw.js:",r),r}const e=await Op,t=e.LibRaw||e.JoRaw;if(!t)throw new Error("JoRaw class not found");return t}const EQ=[[3.2404542,-1.5371385,-.4985314],[-.969266,1.8760108,.041556],[.0556434,-.2040259,1.0572252]],kc=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055;async function Af(e,t=0,r=0){const n=await Lu(),a=new n;try{await a.open(new Uint8Array(e));const o=a.getRawImage(),i=new Uint16Array(o.data),s=o.width,l=o.height,c=Math.floor((s-t)/6)*2,f=Math.floor((l-r)/6)*2;if(c<=0||f<=0)throw new Error("Image too small for X-Trans subsampling with current phase.");const d=new Uint16Array(c*f);for(let p=0;p<f/2;p++){const m=p*6+r;if(m+3>=l)break;const v=m*s,b=(m+3)*s,y=p*2,g=y*c,x=(y+1)*c;for(let j=0;j<c/2;j++){const k=j*6+t;if(k+1>=s)break;const w=j*2;d[g+w]=i[v+k+1],d[g+w+1]=i[v+k+0],d[x+w]=i[b+k+0],d[x+w+1]=i[b+k+1]}}return{dngBuffer:Uf(c,f,d),width:c,height:f}}finally{a.delete?a.delete():a.close()}}async function TQ(e){const t=await createImageBitmap(e),r=t.width,n=t.height,a=document.createElement("canvas");a.width=r,a.height=n;const o=a.getContext("2d");if(!o)throw new Error("Failed to create canvas context");o.drawImage(t,0,0);const s=o.getImageData(0,0,r,n).data,l=r*n,c=new Uint16Array(l);for(let d=0;d<n;d++)for(let h=0;h<r;h++){const p=(d*r+h)*4,m=d*r+h,v=d%2===0,b=h%2===0;let y=0;v&&b?y=s[p]:!v&&!b?y=s[p+2]:y=s[p+1],c[m]=y*64}return{previewBlob:await new Promise(d=>a.toBlob(d,"image/png"))||e,analysisData:{data:c,width:r,height:n,bayerPattern:"RGGB",blackLevels:[0,0,0,0],whiteLevel:16320,metadata:{description:"Standard image (non-RAW)"},isThreePlane:!0}}}const $Q=async e=>{const t=await Lu(),r=new t;try{await r.open(e,{useCameraWb:!0,outputBps:8,noAutoBright:!0,userQual:3,outputColor:1});const n=await r.imageData();return new Promise((a,o)=>{const i=document.createElement("canvas");i.width=n.width,i.height=n.height;const s=i.getContext("2d");if(!s){o(new Error("Could not create canvas context"));return}const l=s.createImageData(n.width,n.height),c=n.data,f=n.width*n.height;for(let d=0;d<f;d++){const h=d*3,p=d*4;l.data[p]=c[h],l.data[p+1]=c[h+1],l.data[p+2]=c[h+2],l.data[p+3]=255}s.putImageData(l,0,0),i.toBlob(d=>{d?a(d):o(new Error("Canvas to Blob failed"))},"image/jpeg",.85)})}finally{r.delete?r.delete():r.close()}},yh=async e=>{var n,a,o,i,s,l,c,f,d;const t=await Lu(),r=new t;try{if(await r.open(e,{}),typeof r.getRawImage!="function")throw new Error("WASM mismatch");const h=r.getRawImage();let p=new Uint16Array(h.data);const m=await r.metadata(!0),v=((n=m.idata)==null?void 0:n.filters)||0,b=((a=m.idata)==null?void 0:a.colors)||0,y=v===0&&b===3,g=v===9;let x=[];if((o=m.color_data)!=null&&o.cblack_rawpy_style)x=m.color_data.cblack_rawpy_style;else if((s=(i=m.color_data)==null?void 0:i.dng_levels)!=null&&s.dng_cblack)x=m.color_data.dng_levels.dng_cblack;else if(((l=m.black_level_per_channel)==null?void 0:l.length)>=4)x=m.black_level_per_channel;else if(((c=m.cblack)==null?void 0:c.length)>=4)x=m.cblack;else if(((d=(f=m.color)==null?void 0:f.cblack)==null?void 0:d.length)>=4)x=m.color.cblack;else{const k=m.black_level||m.color_data&&m.color_data.black||0;x=[k,k,k,k]}const j=[Number(x[0])||0,Number(x[1])||0,Number(x[2])||0,Number(x[3])||0];return{data:p,width:h.width,height:h.height,bayerPattern:m.color_desc||"RGGB",blackLevels:j,whiteLevel:m.white_level||16383,metadata:m,isThreePlane:y,isXTrans:g}}finally{r.delete?r.delete():r.close()}};async function mi(e){const t=new Uint8Array(e.slice(0)),r=new Uint8Array(e.slice(0)),[n,a]=await Promise.all([$Q(t),yh(r)]);return{previewBlob:n,analysisData:a}}async function vh(e){const t=new Uint8Array(e.slice(0));return yh(t)}const ck=e=>(e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,e++,e);async function Pp(e,t,r,n=!0){const a=await yh(new Uint8Array(e)),o=await yh(new Uint8Array(t));if(a.width!==o.width||a.height!==o.height)throw new Error("Dimension Mismatch");const i=a.width,s=a.height,l=r?ck(i):i,c=r?ck(s):s,f=l*c,d=new Uint16Array(f),h=6e4,p=1.41421356;for(let m=0;m<s;m++){const v=m*i,b=m*l;for(let y=0;y<i;y++){const g=a.data[v+y],x=o.data[v+y];let j=g-x;n&&(j/=p);let k=j+h;k=Math.max(0,Math.min(65535,k)),d[b+y]=Math.round(k)}}return{rawData:d,width:l,height:c,metadata:a.metadata}}function yi(e,t,r,n,a,o,i){const s=Math.max(0,Math.floor(n)),l=Math.max(0,Math.floor(a)),c=Math.min(t,Math.ceil(n+o)),f=Math.min(r,Math.ceil(a+i)),d=[0,0,0,0],h=[0,0,0,0],p=[0,0,0,0];for(let b=l;b<f;b++){const y=b*t,g=b%2;for(let x=s;x<c;x++){const j=x%2,k=e[y+x],w=g*2+j;d[w]+=k,h[w]+=k*k,p[w]++}}const m=[0,0,0,0],v=[0,0,0,0];for(let b=0;b<4;b++)if(p[b]>0){const y=d[b]/p[b];m[b]=y;const x=h[b]/p[b]-y*y;v[b]=Math.sqrt(Math.max(0,x))}return{x:s,y:l,width:c-s,height:f-l,means:m,stdDevs:v,pixelCount:p.reduce((b,y)=>b+y,0)}}function uk(e,t,r,n,a,o,i=0,s=0){const l=Math.max(0,Math.floor(n.x)),c=Math.max(0,Math.floor(n.y)),f=Math.min(t,Math.ceil(n.x+n.w)),d=Math.min(r,Math.ceil(n.y+n.h)),h=a>>1,p=a&1,m=(o>>1)+i,v=(o&1)+s;let b=0,y=0,g=0;for(let _=c;_<d-2;_+=2)for(let O=l;O<f-2;O+=2){const A=(_+h)*t+(O+p),M=(_+m)*t+(O+v);_+m>=r||O+v>=t||(b+=e[A],y+=e[M],g++)}if(g<2)return{sumCov:0,sumVar1:0,sumVar2:0,n:0};const x=b/g,j=y/g;let k=0,w=0,N=0;for(let _=c;_<d-2;_+=2)for(let O=l;O<f-2;O+=2){const A=(_+h)*t+(O+p),M=(_+m)*t+(O+v);if(_+m>=r||O+v>=t)continue;const C=e[A],$=e[M],F=C-x,T=$-j;k+=F*T,w+=F*F,N+=T*T}return{sumCov:k,sumVar1:w,sumVar2:N,n:g}}function DQ(e){if(e.n<2)return 0;const t=Math.sqrt(e.sumVar1*e.sumVar2);return t===0?0:e.sumCov/t}function RQ(e,t,r,n,a,o,i,s,l,c,f){if(c<=l)return[];const d=Math.max(0,Math.floor(n)),h=Math.max(0,Math.floor(a)),p=Math.min(t,Math.ceil(n+o)),m=Math.min(r,Math.ceil(a+i)),v=c-l,b=f?Math.floor(v)+1:s,y=v/b,g=[new Uint32Array(b),new Uint32Array(b),new Uint32Array(b),new Uint32Array(b)];for(let j=h;j<m;j++){const k=j*t,w=j%2;for(let N=d;N<p;N++){const _=N%2,O=e[k+N];if(O<l||O>c)continue;const A=w*2+_;let M;f?M=Math.floor(O-l):M=Math.floor((O-l)/y),M<0&&(M=0),M>=b&&(M=b-1),g[A][M]++}}const x=[];for(let j=0;j<b;j++){const k=l+(f?j:j*y);x.push({binStart:k,c0:g[0][j],c1:g[1][j],c2:g[2][j],c3:g[3][j]})}return x}function LQ(e,t,r,n,a,o=!1,i=!1,s={rows:!1,rowGroup:0,cols:!1,colGroup:0},l=!0,c=1){const f=Math.max(0,Math.floor(n.x)),d=Math.max(0,Math.floor(n.y)),h=Math.min(t,Math.ceil(n.x+n.w)),p=Math.min(r,Math.ceil(n.y+n.h)),m=h-f,v=p-d;if(m<=1||v<=1)return null;let b=0;for(let M=f;M<h;M++)M%2===(a&1)&&b++;let y=0;for(let M=d;M<p;M++)M%2===a>>1&&y++;if(b<4||y<4)return null;const g=Math.max(1,c),x=Math.floor(2*b/(g+1)),j=Math.floor(2*y/(g+1));if(x<4||j<4)return null;const k=new Ki(x),w=new Ki(j),N=new Float32Array(Math.floor(x/2)+1),_=new Float32Array(Math.floor(j/2)+1);let O=0,A=0;for(let M=d;M<p;M++){const C=M%2;if(a>>1!==C||s.rows&&(M>>1&1)!==s.rowGroup)continue;const $=M*t,F=new Float32Array(b);let T=0;for(let W=f;W<h;W++)W%2===(a&1)&&T<b&&(F[T++]=e[$+W]);for(let W=0;W<g;W++){const P=Math.floor(W*x/2);if(P+x>b)break;const E=F.slice(P,P+x);k.calculateSpectrum(E,N,i),O++}if(!l)break}for(let M=f;M<h;M++){const C=M%2;if((a&1)!==C||s.cols&&(M>>1&1)!==s.rowGroup)continue;const $=new Float32Array(y);let F=0;for(let T=d;T<p;T++)T%2===a>>1&&F<y&&($[F++]=e[T*t+M]);for(let T=0;T<g;T++){const W=Math.floor(T*j/2);if(W+j>y)break;const P=$.slice(W,W+j);w.calculateSpectrum(P,_,i),A++}if(!l)break}if(O>0)for(let M=0;M<N.length;M++)N[M]/=O;if(A>0)for(let M=0;M<_.length;M++)_[M]/=A;return{avgHoriz:Array.from(N),avgVert:Array.from(_),sampleCount:{h:O,v:A}}}function IQ(e,t,r,n,a,o=!1){const i=Math.max(0,Math.floor(n.x)),s=Math.max(0,Math.floor(n.y)),l=Math.min(t,Math.ceil(n.x+n.w)),c=Math.min(r,Math.ceil(n.y+n.h));let f=-1;for(let g=s;g<c;g++)if(g%2===a>>1){f=g;break}if(f===-1)return null;let d=-1;for(let g=i;g<l;g++)if(g%2===(a&1)){d=g;break}if(d===-1)return null;const h=[];for(let g=f;g<c;g+=2){const x=g*t,j=[];for(let k=d;k<l;k+=2)j.push(e[x+k]);h.push(j)}const p=h.length;if(p===0)return null;const m=h[0].length;if(m===0)return null;const v=new Float32Array(m*p);for(let g=0;g<p;g++){const x=h[g];for(let j=0;j<m;j++)v[g*m+j]=x[j]}const b=MQ(v,m,p,o),y=CQ(b,m,p);return{width:m,height:p,data:y}}function BQ(e,t,r,n,a,o,i){const{x:s,y:l,w:c,h:f}=n,d=[],h=Math.max(0,Math.floor(s)),p=Math.max(0,Math.floor(l)),m=Math.min(t,Math.ceil(s+c)),v=Math.min(r,Math.ceil(l+f)),b=a>>1,y=a&1;for(let w=p;w<v;w++){if(w%2!==b)continue;const N=w*t;for(let _=h;_<m;_++){if(_%2!==y)continue;const O=e[N+_];O>=o&&O<=i&&d.push(O-o)}}if(d.length===0)return null;d.sort((w,N)=>w-N);const g=[d[0]];for(let w=1;w<d.length;w++)d[w]!==d[w-1]&&g.push(d[w]);const x=[],j=[],k={};for(let w=0;w<g.length-1;w++){const N=g[w],O=g[w+1]-N;x.push(O),j.push({x:N,y:O}),k[O]=(k[O]||0)+1}return{uniqueCount:g.length,diffCount:x.length,stepCounts:k,plotData:j}}function FQ(e,t,r){if(!r.advancedZeroDep)throw new Error("Unmixing settings not found in DisplaySettings.");const{bl:n,bg:a,fg:o}=r.advancedZeroDep,{data:i,width:s,whiteLevel:l}=e,c=(a[1]+a[3])/2,f=(o[1]+o[3])/2,d=Math.floor(t.x),h=Math.floor(t.y),p=Math.floor(t.w),m=Math.floor(t.h),v=Math.pow(2,r.exposure),b=new Uint16Array(p*m);for(let y=0;y<m;y++){const g=h+y;if(g<0||g>=e.height)continue;const x=g%2,j=g*s,k=y*p;for(let w=0;w<p;w++){const N=d+w;if(N<0||N>=s)continue;const _=N%2;let O=0;!x&&!_?O=0:!x&&_?O=1:x&&!_?O=3:O=2;const A=i[j+N],M=n[O],C=a[O],$=o[O],F=Math.max(A-M,0),T=$-C||1e-9,W=(F-C)/T;let P;W<0?P=F*(c/Math.max(C,1e-9)):W>1?P=F*(f/Math.max($,1e-9)):P=(1-W)*c+W*f,P*=v;const E=Math.max(0,Math.min(1,P/l));b[k+w]=Math.round(E*65535)}}return{data:b,width:p,height:m}}async function fk(e,t){const r=await Lu(),n=new r;try{const a=new Uint8Array(e.slice(0));let o=!1,i=[];if(t.customMatrix&&t.customMatrix.length===9){const h=[[t.customMatrix[0],t.customMatrix[1],t.customMatrix[2]],[t.customMatrix[3],t.customMatrix[4],t.customMatrix[5]],[t.customMatrix[6],t.customMatrix[7],t.customMatrix[8]]],p=fP(h);if(p){const m=t.wbGains?t.wbGains[0]:1,v=t.wbGains?t.wbGains[1]:1,y=lk(p,[[m,0,0],[0,1,0],[0,0,v]]),g=lk(EQ,y);i=[g[0][0],g[0][1],g[0][2],g[1][0],g[1][1],g[1][2],g[2][0],g[2][1],g[2][2]],o=!0}else throw new Error("Custom Matrix is not invertible.")}const s={outputBps:16,noAutoBright:!0,bright:o?1:Math.pow(2,t.exposure)};t.blackLevel&&t.blackLevel.length===4&&(s.userBlack=0,s.userCblack=t.blackLevel.map(h=>{const p=Math.round(h);return p===0?1:p})),t.demosaicMethod===-1?s.noInterpolation=!0:s.userQual=t.demosaicMethod,o?(s.outputColor=0,s.gamma=[1,1],s.userMul=[1,1,1,1],s.useCameraWb=!1):(s.outputColor=1,s.useCameraWb=!0),await n.open(a,s);const l=await n.imageData(),c=new ImageData(l.width,l.height),f=c.data,d=new Uint16Array(l.data.buffer,l.data.byteOffset,l.data.byteLength/2);if(o&&i.length===9){const h=i,m=Math.pow(2,t.exposure)*.25;for(let v=0;v<d.length;v+=3){const b=d[v]/65535,y=d[v+1]/65535,g=d[v+2]/65535;let x=h[0]*b+h[1]*y+h[2]*g,j=h[3]*b+h[4]*y+h[5]*g,k=h[6]*b+h[7]*y+h[8]*g;x*=m,j*=m,k*=m,x=Math.max(0,Math.min(1,x)),j=Math.max(0,Math.min(1,j)),k=Math.max(0,Math.min(1,k)),x=kc(x),j=kc(j),k=kc(k);const w=v/3*4;f[w]=Math.round(x*255),f[w+1]=Math.round(j*255),f[w+2]=Math.round(k*255),f[w+3]=255}}else for(let h=0;h<d.length;h+=3){const p=h/3*4;f[p]=d[h]>>8,f[p+1]=d[h+1]>>8,f[p+2]=d[h+2]>>8,f[p+3]=255}return c}finally{n.delete?n.delete():n.close()}}async function zQ(e,t,r=!1,n=!1){const a=await Lu(),o=new a;try{if(t.renderMode==="zero-dependency"||t.renderMode==="advanced-zero-dep"){await o.open(new Uint8Array(e));const i=await o.metadata(!0),s=(i==null?void 0:i.white_level)||16383,l=o.getRawImage(),{width:c,height:f,data:d}=l,h=new Uint16Array(c*f),p=Math.pow(2,t.exposure);if(t.renderMode==="advanced-zero-dep"&&t.advancedZeroDep){const{bl:m,bg:v,fg:b}=t.advancedZeroDep,y=(v[1]+v[3])/2,g=(b[1]+b[3])/2;for(let x=0;x<f;x++){const j=x%2;for(let k=0;k<c;k++){const w=k%2;let N=0;!j&&!w?N=0:!j&&w?N=1:j&&!w?N=3:N=2;const _=d[x*c+k],O=m[N],A=v[N],M=b[N],C=Math.max(_-O,0),$=M-A||1e-9,F=(C-A)/$;let T;F<0?T=C*(y/Math.max(A,1e-9)):F>1?T=C*(g/Math.max(M,1e-9)):T=(1-F)*y+F*g,T*=p;const W=Math.max(0,Math.min(1,T/s)),P=n?kc(W):W;h[x*c+k]=Math.round(P*65535)}}}else{const m=t.blackLevel||[0,0,0,0],v=t.wbGains?t.wbGains[0]:1,b=t.wbGains?t.wbGains[1]:1;for(let y=0;y<f;y++){const g=y%2;for(let x=0;x<c;x++){const j=x%2,k=g*2+j,w=d[y*c+x],N=m[k];let _=w-N;k===0?_*=v:k===3&&(_*=b),_*=p;const O=Math.max(0,Math.min(1,_/(r?s-N:s))),A=n?kc(O):O;h[y*c+x]=Math.round(A*65535)}}}return{data:h,width:c,height:f,channels:1}}else{const i=new Uint8Array(e.slice(0)),s={outputBps:16,noAutoBright:!r,bright:1,outputColor:n?1:0,useCameraWb:!0};t.blackLevel&&t.blackLevel.length===4&&(s.userBlack=0,s.userCblack=t.blackLevel.map(d=>Math.max(1,Math.round(d)))),t.demosaicMethod===-1?s.noInterpolation=!0:s.userQual=t.demosaicMethod,await o.open(i,s);const l=await o.imageData(),c=new Uint16Array(l.data.buffer,l.data.byteOffset,l.data.byteLength/2),f=Math.pow(2,t.exposure);if(f!==1)for(let d=0;d<c.length;d++)c[d]=Math.max(0,Math.min(65535,Math.round(c[d]*f)));return{data:c,width:l.width,height:l.height,channels:3}}}finally{o.delete?o.delete():o.close()}}const UQ=({isOpen:e,onClose:t,onMinimize:r,rawImageData:n,roi:a,isBGGR:o,zIndex:i,onFocus:s,initialPosition:l,initialInternalState:c,onUpdateState:f})=>{const[d,h]=S.useState((c==null?void 0:c.channelMode)||"All"),[p,m]=S.useState((c==null?void 0:c.minVal)??0),[v,b]=S.useState((c==null?void 0:c.maxVal)??16383),[y,g]=S.useState((c==null?void 0:c.binCount)??100),[x,j]=S.useState((c==null?void 0:c.pointToPoint)??!1),[k,w]=S.useState((c==null?void 0:c.showTheo)??!1),[N,_]=S.useState((c==null?void 0:c.theoMean)??"512"),[O,A]=S.useState((c==null?void 0:c.theoSigma)??"10"),[M,C]=S.useState((c==null?void 0:c.theoAmp)??"1000"),[$,F]=S.useState(!1),[T,W]=S.useState([]),[P,E]=S.useState(null),[L,z]=S.useState(l||{x:100,y:100}),[Z,q]=S.useState(!1),H=S.useRef({x:0,y:0});S.useEffect(()=>{f&&f({channelMode:d,minVal:p,maxVal:v,binCount:y,pointToPoint:x,showTheo:k,theoMean:N,theoSigma:O,theoAmp:M})},[d,p,v,y,x,k,N,O,M]),S.useEffect(()=>{if(!e||!n||!a)return;if(v<=p){E("Invalid range: Max must be greater than Min");return}E(null),F(!0);const G=setTimeout(()=>{try{const oe=RQ(n.data,n.width,n.height,a.x,a.y,a.w,a.h,y,p,v,x);W(oe)}catch(oe){console.error("Histogram calc error:",oe),E("Error calculating histogram")}finally{F(!1)}},50);return()=>clearTimeout(G)},[e,n,a==null?void 0:a.x,a==null?void 0:a.y,a==null?void 0:a.w,a==null?void 0:a.h,y,p,v,x]);const se=S.useMemo(()=>{if(!k)return T;const G=parseFloat(N),oe=parseFloat(O),ie=parseFloat(M);return isNaN(G)||isNaN(oe)||isNaN(ie)||oe<=0?T:T.map(we=>{const ze=we.binStart,Re=-Math.pow(ze-G,2)/(2*Math.pow(oe,2)),_t=ie*Math.exp(Re);return{...we,theory:_t}})},[T,k,N,O,M]),ee=()=>{if(T.length===0)return;let G=0,oe=0;if(T.forEach(ie=>{const we=Math.max(ie.c0||0,ie.c1||0,ie.c2||0,ie.c3||0);we>G&&(G=we,oe=ie.binStart)}),_(oe.toFixed(2)),C(G.toString()),parseFloat(O)===0||isNaN(parseFloat(O))){const ie=v-p;A((ie/20).toFixed(2))}},D=(G,oe,ie)=>{s&&s(),!(ie.closest("button")||ie.closest("input")||ie.closest("select"))&&(q(!0),H.current={x:G-L.x,y:oe-L.y})},ne=G=>{D(G.clientX,G.clientY,G.target)},he=G=>{const oe=G.touches[0];D(oe.clientX,oe.clientY,G.target)};if(S.useEffect(()=>{const G=ie=>{if(Z){const we="touches"in ie?ie.touches[0].clientX:ie.clientX,ze="touches"in ie?ie.touches[0].clientY:ie.clientY;z({x:we-H.current.x,y:ze-H.current.y})}},oe=()=>q(!1);return Z&&(window.addEventListener("mousemove",G),window.addEventListener("mouseup",oe),window.addEventListener("touchmove",G,{passive:!1}),window.addEventListener("touchend",oe)),()=>{window.removeEventListener("mousemove",G),window.removeEventListener("mouseup",oe),window.removeEventListener("touchmove",G),window.removeEventListener("touchend",oe)}},[Z]),!e)return null;const X=o?{c0:"Blue",c1:"Green 1",c2:"Green 2",c3:"Red"}:{c0:"Red",c1:"Green 1",c2:"Green 2",c3:"Blue"},ue=o?{c0:"#3b82f6",c1:"#22c55e",c2:"#4ade80",c3:"#ef4444"}:{c0:"#ef4444",c1:"#22c55e",c2:"#4ade80",c3:"#3b82f6"},pe="step";return u.jsxs("div",{className:"fixed flex flex-col bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 shadow-2xl rounded-xl resize-both overflow-hidden min-w-[500px] min-h-[400px] w-[900px] h-[650px]",style:{left:L.x,top:L.y,zIndex:i??100},onMouseDownCapture:s,children:[u.jsxs("div",{className:`flex justify-between items-center p-4 border-b border-gray-200 dark:border-slate-700 flex-shrink-0 bg-white dark:bg-slate-900 select-none touch-none ${Z?"cursor-grabbing":"cursor-grab"}`,onMouseDown:ne,onTouchStart:he,children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-slate-100 pointer-events-none",children:"ROI Histogram"}),u.jsxs("div",{className:"flex items-center gap-1",children:[r&&u.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 dark:hover:text-red-400 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),u.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-800/50 flex flex-wrap gap-x-6 gap-y-3 items-center border-b border-gray-200 dark:border-slate-700 text-xs flex-shrink-0 relative z-10",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-gray-500 dark:text-slate-400 font-bold uppercase tracking-tight",children:"Channel:"}),u.jsxs("select",{value:d,onChange:G=>h(G.target.value),className:"bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-gray-900 dark:text-slate-100 outline-none focus:ring-1 focus:ring-cyan-500",children:[u.jsx("option",{value:"All",children:"All Colors"}),u.jsx("option",{value:"0",children:X.c0}),u.jsx("option",{value:"1",children:X.c1}),u.jsx("option",{value:"2",children:X.c2}),u.jsx("option",{value:"3",children:X.c3})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-gray-500 dark:text-slate-400 font-bold uppercase tracking-tight",children:"Range:"}),u.jsx("input",{type:"number",value:p,onChange:G=>m(Number(G.target.value)),className:"w-16 px-1.5 py-1 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-gray-900 dark:text-slate-100 text-right font-mono"}),u.jsx("span",{className:"text-gray-400",children:"-"}),u.jsx("input",{type:"number",value:v,onChange:G=>b(Number(G.target.value)),className:"w-16 px-1.5 py-1 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-gray-900 dark:text-slate-100 text-right font-mono"})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:x,onChange:G=>j(G.target.checked),className:"w-3.5 h-3.5 text-cyan-600 rounded border-gray-300 focus:ring-cyan-500"}),u.jsx("span",{className:"text-gray-700 dark:text-slate-300 select-none font-semibold",children:"PTP"})]}),!x&&u.jsxs("div",{className:"flex items-center gap-1.5",children:[u.jsx("span",{className:"text-gray-500 dark:text-slate-400 font-bold",children:"Bins:"}),u.jsx("input",{type:"number",value:y,onChange:G=>g(Math.max(1,Number(G.target.value))),className:"w-12 px-1.5 py-1 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-gray-900 dark:text-slate-100 text-right font-mono"})]})]}),u.jsx("div",{className:"h-6 w-px bg-gray-200 dark:bg-slate-700"}),u.jsxs("div",{className:`flex items-center gap-3 p-1.5 rounded-lg border transition-all ${k?"bg-amber-50/30 dark:bg-amber-900/10 border-amber-200/50 dark:border-amber-800/50":"bg-transparent border-transparent"}`,children:[u.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer select-none",children:[u.jsx("input",{type:"checkbox",checked:k,onChange:G=>w(G.target.checked),className:"w-3.5 h-3.5 text-amber-500 rounded border-gray-300 focus:ring-amber-500 bg-white dark:bg-slate-700"}),u.jsx("span",{className:`font-bold uppercase tracking-tight ${k?"text-amber-600 dark:text-amber-400":"text-gray-400"}`,children:"Theoretical Bell"})]}),k&&u.jsxs("div",{className:"flex items-center gap-2 animate-in fade-in slide-in-from-left-2 duration-200",children:[u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("span",{className:"text-[8px] text-gray-400 uppercase font-bold",children:"Mean()"}),u.jsx("input",{type:"text",value:N,onChange:G=>_(G.target.value),className:"w-14 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center text-[10px] py-0.5 outline-none focus:border-amber-500"})]}),u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("span",{className:"text-[8px] text-gray-400 uppercase font-bold",children:"Sigma()"}),u.jsx("input",{type:"text",value:O,onChange:G=>A(G.target.value),className:"w-12 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center text-[10px] py-0.5 outline-none focus:border-amber-500"})]}),u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("span",{className:"text-[8px] text-gray-400 uppercase font-bold",children:"Scale(A)"}),u.jsx("input",{type:"text",value:M,onChange:G=>C(G.target.value),className:"w-16 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center text-[10px] py-0.5 outline-none focus:border-amber-500"})]}),u.jsx("button",{onClick:ee,className:"mt-3 px-2 py-0.5 bg-amber-600 hover:bg-amber-500 text-white text-[9px] font-bold rounded shadow-sm active:scale-95 transition-all",title:"Set Mean and Amplitude based on current peak",children:"AUTO FIT"})]})]})]}),u.jsxs("div",{className:"flex-1 p-4 relative bg-white dark:bg-slate-900 overflow-hidden min-h-0",children:[u.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-0 pointer-events-none select-none opacity-10 mix-blend-normal dark:mix-blend-plus-lighter",children:u.jsx("svg",{viewBox:"0 0 500 60",className:"w-96 h-auto",children:u.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"36",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})}),$&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-20 bg-white/50 dark:bg-slate-900/50 backdrop-blur-[1px]",children:u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("div",{className:"w-8 h-8 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mb-2"}),u.jsx("span",{className:"text-sm text-cyan-600 dark:text-cyan-400 font-semibold",children:"Calculating Histogram..."})]})}),P?u.jsx("div",{className:"flex items-center justify-center h-full text-red-500 relative z-10",children:P}):u.jsx("div",{className:"relative z-10 w-full h-full",children:u.jsx(ho,{width:"100%",height:"100%",children:u.jsxs($s,{data:se,children:[u.jsx(Ka,{strokeDasharray:"3 3",stroke:"#374151",opacity:.3}),u.jsx(Un,{dataKey:"binStart",type:"number",domain:[p,v],tickFormatter:G=>Math.floor(G).toString(),tick:{fill:"#9ca3af",fontSize:12},allowDataOverflow:!0,label:{value:"DN Value",position:"insideBottom",offset:-5,fill:"#9ca3af",fontSize:12}}),u.jsx(Wn,{tick:{fill:"#9ca3af",fontSize:12},label:{value:"Count",angle:-90,position:"insideLeft",fill:"#9ca3af",fontSize:12}}),u.jsx(Ur,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"0.5rem",color:"#f3f4f6"},itemStyle:{fontSize:"12px"},labelFormatter:G=>`DN: ${Math.round(Number(G))}`,formatter:(G,oe)=>[Math.round(G),oe]}),u.jsx(Ga,{wrapperStyle:{paddingTop:"10px"}}),k&&u.jsx(Nr,{type:"monotone",dataKey:"theory",name:"Ideal Bell (Gaussian)",stroke:"#f59e0b",strokeWidth:2.5,strokeDasharray:"5 5",dot:!1,isAnimationActive:!1}),(d==="All"||d==="0")&&u.jsx(Nr,{type:pe,dataKey:"c0",name:X.c0,stroke:ue.c0,dot:!1,strokeWidth:1.5,activeDot:{r:4},isAnimationActive:!1}),(d==="All"||d==="1")&&u.jsx(Nr,{type:pe,dataKey:"c1",name:X.c1,stroke:ue.c1,dot:!1,strokeWidth:1.5,activeDot:{r:4},isAnimationActive:!1}),(d==="All"||d==="2")&&u.jsx(Nr,{type:pe,dataKey:"c2",name:X.c2,stroke:ue.c2,dot:!1,strokeWidth:1.5,activeDot:{r:4},isAnimationActive:!1}),(d==="All"||d==="3")&&u.jsx(Nr,{type:pe,dataKey:"c3",name:X.c3,stroke:ue.c3,dot:!1,strokeWidth:1.5,activeDot:{r:4},isAnimationActive:!1})]})})})]})]})},Iu=({initialPosition:e={x:20,y:80},children:t,className:r="",onClose:n,zIndex:a,onFocus:o})=>{const[i,s]=S.useState(e),[l,c]=S.useState(!1),[f,d]=S.useState({x:0,y:0}),h=S.useRef(null),p=(b,y,g)=>{o&&o(),!(g.closest("button")||g.closest("input"))&&(c(!0),d({x:b-i.x,y:y-i.y}))},m=b=>{p(b.clientX,b.clientY,b.target)},v=b=>{const y=b.touches[0];p(y.clientX,y.clientY,b.target)};return S.useEffect(()=>{const b=g=>{var x,j;if(l){g.cancelable&&g.preventDefault();const k="touches"in g?g.touches[0].clientX:g.clientX,w="touches"in g?g.touches[0].clientY:g.clientY,N=k-f.x,_=w-f.y,O=window.innerWidth-(((x=h.current)==null?void 0:x.offsetWidth)||100),A=window.innerHeight-(((j=h.current)==null?void 0:j.offsetHeight)||100);s({x:Math.max(0,Math.min(N,O)),y:Math.max(0,Math.min(_,A))})}},y=()=>{c(!1)};return l&&(window.addEventListener("mousemove",b),window.addEventListener("mouseup",y),window.addEventListener("touchmove",b,{passive:!1}),window.addEventListener("touchend",y)),()=>{window.removeEventListener("mousemove",b),window.removeEventListener("mouseup",y),window.removeEventListener("touchmove",b),window.removeEventListener("touchend",y)}},[l,f]),u.jsxs("div",{ref:h,style:{left:i.x,top:i.y,zIndex:a??90},onMouseDownCapture:o,className:`fixed border-2 border-black dark:border-gray-500 bg-white dark:bg-black shadow-[8px_8px_0px_rgba(0,0,0,0.5)] dark:shadow-[8px_8px_0px_rgba(255,255,255,0.2)] transition-shadow duration-200 ${l?"cursor-grabbing shadow-[4px_4px_0px_rgba(0,0,0,0.5)]":""} ${r}`,children:[u.jsx("div",{onMouseDown:m,onTouchStart:v,className:"absolute inset-0 w-full h-8 cursor-grab active:cursor-grabbing z-0 touch-none bg-gray-200 dark:bg-gray-800 border-b-2 border-black dark:border-gray-500",title:"Drag to move"}),u.jsx("div",{className:"relative z-10 pointer-events-none",children:u.jsx("div",{className:"pointer-events-auto",children:t})})]})},WQ=({isOpen:e,onClose:t,rawImageData:r,roi:n,selectedChannel:a,channelName:o,zIndex:i,onFocus:s,initialPosition:l})=>{const c=S.useRef(null),[f,d]=S.useState(!1),[h,p]=S.useState(null),[m,v]=S.useState(null),[b,y]=S.useState(!0),[g,x]=S.useState(!0),[j,k]=S.useState("-1"),[w,N]=S.useState("8"),[_,O]=S.useState(64),[A,M]=S.useState(45),[C,$]=S.useState(60),F=S.useRef(!1),T=S.useRef({x:0,y:0});S.useEffect(()=>{!e||!r||!n||(d(!0),v(null),setTimeout(()=>{try{const L=IQ(r.data,r.width,r.height,n,a,g);L?p(L):v("Could not extract valid data from ROI.")}catch(L){console.error("2D FFT Error",L),v("Calculation Error: "+L.message)}finally{d(!1)}},50))},[e,r,n,a,g]),S.useEffect(()=>{if(!h||!c.current)return;const L=c.current,z=L.getContext("2d");if(!z)return;const Z=L.width,q=L.height;z.clearRect(0,0,Z,q),z.fillStyle="#0f172a",z.fillRect(0,0,Z,q);const H=h.width,se=h.height,ee=h.data,D=Math.pow(10,parseFloat(j)||-1),ne=Math.pow(10,parseFloat(w)||8);let he=D,X=ne;b&&(he=Math.log10(Math.max(1e-10,D)),X=Math.log10(Math.max(1e-10,ne)));const ue=X-he||1,pe=Z/2,G=q/2+50,oe=Math.min(Z,q)*.4,ie=.6,we=A*Math.PI/180,ze=C*Math.PI/180,Re=Math.cos(we),_t=Math.sin(we),gt=Math.cos(ze),De=Math.sin(ze),He=(Ge,ct,Lt)=>{const ur=Ge*Re-ct*_t,Xr=Ge*_t+ct*Re,An=Xr*gt-Lt*De,Ht=Xr*De+Lt*gt;return{x:pe+ur*oe,y:G-An*oe,depth:Ht}},mt=Math.max(16,_),Rt=Math.max(1,Math.floor(H/mt)),Gt=Math.max(1,Math.floor(se/mt)),Or=(Ge,ct)=>{let Lt=ee[ct*H+Ge];return b&&(Lt=Math.log10(Math.max(1e-10,Lt))),Lt=Math.max(he,Math.min(X,Lt)),(Lt-he)/ue},Pr=Ge=>`hsl(${(1-Ge)*240}, 80%, 50%)`,cr=[];for(let Ge=0;Ge<se-Gt;Ge+=Gt)for(let ct=0;ct<H-Rt;ct+=Rt){const Lt=ct,ur=Ge,Xr=ct+Rt,An=Ge,Ht=ct+Rt,Vt=Ge+Gt,Ye=ct,fr=Ge+Gt,dr=Or(Lt,ur),vn=Or(Xr,An),Ar=Or(Ht,Vt),Hn=Or(Ye,fr),Mn=(dr+vn+Ar+Hn)/4,ra=He(Lt/(H-1)-.5,ur/(se-1)-.5,dr*ie),rn=He(Xr/(H-1)-.5,An/(se-1)-.5,vn*ie),Cn=He(Ht/(H-1)-.5,Vt/(se-1)-.5,Ar*ie),Kr=He(Ye/(H-1)-.5,fr/(se-1)-.5,Hn*ie),ba=(ra.depth+rn.depth+Cn.depth+Kr.depth)/4;cr.push({pts:[{x:ra.x,y:ra.y},{x:rn.x,y:rn.y},{x:Cn.x,y:Cn.y},{x:Kr.x,y:Kr.y}],avgDepth:ba,avgZ:Mn})}cr.sort((Ge,ct)=>Ge.avgDepth-ct.avgDepth),z.lineWidth=.5,cr.forEach(Ge=>{z.fillStyle=Pr(Ge.avgZ),z.beginPath(),z.moveTo(Ge.pts[0].x,Ge.pts[0].y),z.lineTo(Ge.pts[1].x,Ge.pts[1].y),z.lineTo(Ge.pts[2].x,Ge.pts[2].y),z.lineTo(Ge.pts[3].x,Ge.pts[3].y),z.closePath(),z.fill()}),z.fillStyle="#aaa",z.font="10px monospace";const Qt=He(-.5,-.5,0),Hr=He(.5,-.5,0),Mt=He(-.5,.5,0),Vr=He(.5,.5,0);z.strokeStyle="#666",z.beginPath(),z.moveTo(Qt.x,Qt.y),z.lineTo(Hr.x,Hr.y),z.lineTo(Vr.x,Vr.y),z.lineTo(Mt.x,Mt.y),z.closePath(),z.stroke(),z.fillText("0",Qt.x-10,Qt.y+10),z.fillText("Fx",Hr.x+5,Hr.y),z.fillText("Fy",Mt.x-15,Mt.y);const Je=He(-.5,-.5,ie);z.strokeStyle="#fff",z.beginPath(),z.moveTo(Qt.x,Qt.y),z.lineTo(Je.x,Je.y),z.stroke(),z.fillText(`10^${w}`,Je.x-25,Je.y),z.fillText(`10^${j}`,Qt.x-25,Qt.y)},[h,b,A,C,j,w,_]);const W=L=>{F.current=!0,T.current={x:L.clientX,y:L.clientY}},P=L=>{if(!F.current)return;const z=L.clientX-T.current.x,Z=L.clientY-T.current.y;M(q=>q-z*.5),$(q=>Math.max(0,Math.min(90,q+Z*.5))),T.current={x:L.clientX,y:L.clientY}},E=()=>{F.current=!1};return e?u.jsxs(Iu,{initialPosition:l||{x:100,y:100},onClose:t,zIndex:i,onFocus:s,className:"w-[700px] h-[600px] bg-slate-900 border border-slate-700 flex flex-col overflow-hidden shadow-2xl",children:[u.jsxs("div",{className:"flex justify-between items-center px-4 py-2 border-b border-slate-700 bg-slate-800",children:[u.jsxs("h3",{className:"text-sm font-bold text-slate-200 flex items-center gap-2",children:["2D FFT Power Spectrum - ",o,h&&u.jsxs("span",{className:"text-[10px] font-normal text-slate-400 bg-slate-700 px-2 py-0.5 rounded",children:[h.width,"x",h.height," (Chirp-Z)"]})]}),u.jsx("div",{className:"flex items-center gap-2",children:u.jsx("button",{onClick:t,className:"text-slate-400 hover:text-red-400 transition-colors",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})})]}),u.jsxs("div",{className:"p-3 bg-slate-800/80 flex flex-wrap gap-4 text-xs items-center border-b border-slate-700",children:[u.jsxs("div",{className:"flex items-center gap-2 bg-slate-900 px-2 py-1 rounded border border-slate-600",children:[u.jsx("span",{className:"text-slate-400 font-bold",children:"Range (10^x):"}),u.jsx("input",{type:"number",value:j,onChange:L=>k(L.target.value),className:"w-10 bg-transparent text-slate-200 text-center border-b border-slate-600 focus:border-cyan-500 outline-none"}),u.jsx("span",{className:"text-slate-500",children:"to"}),u.jsx("input",{type:"number",value:w,onChange:L=>N(L.target.value),className:"w-10 bg-transparent text-slate-200 text-center border-b border-slate-600 focus:border-cyan-500 outline-none"})]}),u.jsxs("div",{className:"flex items-center gap-2 bg-slate-900 px-2 py-1 rounded border border-slate-600",children:[u.jsx("span",{className:"text-slate-400 font-bold",children:"Density:"}),u.jsx("input",{type:"range",min:"16",max:"128",step:"16",value:_,onChange:L=>O(Number(L.target.value)),className:"w-20 h-1.5 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-cyan-500"}),u.jsx("span",{className:"text-slate-300 w-6 text-right",children:_})]}),u.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none text-slate-300 hover:text-white",children:[u.jsx("input",{type:"checkbox",checked:b,onChange:L=>y(L.target.checked),className:"rounded bg-slate-700 border-slate-600 accent-cyan-500"}),"Log Z"]}),u.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none text-slate-300 hover:text-white",children:[u.jsx("input",{type:"checkbox",checked:g,onChange:L=>x(L.target.checked),className:"rounded bg-slate-700 border-slate-600 accent-fuchsia-500"}),"Hanning"]})]}),u.jsxs("div",{className:"flex-1 relative bg-slate-900 cursor-move",children:[f&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-slate-900/80 z-20 backdrop-blur-sm",children:u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx("div",{className:"w-8 h-8 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin"}),u.jsx("span",{className:"text-cyan-400 font-bold animate-pulse text-sm",children:"Computing full-size 2D FFT..."})]})}),m&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-slate-900/80 z-20 text-red-400 p-4 text-center",children:m}),u.jsx("canvas",{ref:c,width:700,height:500,className:"w-full h-full block",onMouseDown:W,onMouseMove:P,onMouseUp:E,onMouseLeave:E}),u.jsx("div",{className:"absolute bottom-2 right-2 text-[9px] text-slate-600 pointer-events-none",children:"Drag to Rotate"})]})]}):null},GQ=.5,ey=1e-10,dk=(e,t)=>{const r=e.length-1;if(r<0)return ey;const n=t/GQ*r,a=Math.round(n),o=e[Math.min(Math.max(0,a),r)]||0;return Math.max(o,ey)},HQ=(e,t)=>{if(t<=0)return[1];const r=new Array(e);let n=0;for(let a=0;a<e;a++){const o=a-(e-1)/2,i=Math.exp(-(o*o)/(2*t*t));r[a]=i,n+=i}for(let a=0;a<e;a++)r[a]/=n;return r},VQ=({isOpen:e,onClose:t,onMinimize:r,rawImageData:n,roi:a,isBGGR:o,onUpdateROI:i,zIndex:s,onFocus:l,initialPosition:c,initialInternalState:f,onUpdateState:d,stackFiles:h})=>{const[p,m]=S.useState((f==null?void 0:f.selectedChannel)??0),[v,b]=S.useState(()=>(f==null?void 0:f.yMinExp)||localStorage.getItem("fft_y_min")||"1.73"),[y,g]=S.useState(()=>(f==null?void 0:f.yMaxExp)||localStorage.getItem("fft_y_max")||"8.00"),[x,j]=S.useState((f==null?void 0:f.useHanning)??!0),[k,w]=S.useState((f==null?void 0:f.doAverage)??!0),[N,_]=S.useState((f==null?void 0:f.welchSegments)??1),[O,A]=S.useState((f==null?void 0:f.showH)??!0),[M,C]=S.useState((f==null?void 0:f.showV)??!0),[$,F]=S.useState((f==null?void 0:f.interlaceRows)??!1),[T,W]=S.useState((f==null?void 0:f.rowGroup)??0),[P,E]=S.useState((f==null?void 0:f.interlaceCols)??!1),[L,z]=S.useState((f==null?void 0:f.colGroup)??0),[Z,q]=S.useState(()=>(f==null?void 0:f.theoSigma)||localStorage.getItem("fft_theo_sigma")||"0.00"),[H,se]=S.useState(()=>(f==null?void 0:f.theoKernelSize)||localStorage.getItem("fft_theo_ksize")||"3"),[ee,D]=S.useState(()=>(f==null?void 0:f.theoNoiseStd)||localStorage.getItem("fft_theo_noise")||"7.5"),[ne,he]=S.useState(()=>(f==null?void 0:f.theoScale)||localStorage.getItem("fft_theo_scale")||"1.0"),[X,ue]=S.useState((f==null?void 0:f.intStart)||"0"),[pe,G]=S.useState((f==null?void 0:f.intEnd)||"0.5"),[oe,ie]=S.useState(!1),[we,ze]=S.useState([]),[Re,_t]=S.useState(!1),[gt,De]=S.useState(0),[He,mt]=S.useState(null),[Rt,Gt]=S.useState(!1),[Or,Pr]=S.useState(!1),[cr,Qt]=S.useState(null),[Hr,Mt]=S.useState(!1),[Vr,Je]=S.useState(null),[Ge,ct]=S.useState(c||{x:50,y:50}),[Lt,ur]=S.useState(!1),[Xr,An]=S.useState(null),[Ht,Vt]=S.useState({}),Ye=S.useRef({x:0,y:0}),fr=o?{c0:"#3b82f6",c1:"#22c55e",c2:"#4ade80",c3:"#ef4444"}:{c0:"#ef4444",c1:"#22c55e",c2:"#4ade80",c3:"#3b82f6"},dr=S.useMemo(()=>o?{0:"Blue",1:"Green 1",2:"Green 2",3:"Red"}:{0:"Red",1:"Green 1",2:"Green 2",3:"Blue"},[o]);S.useEffect(()=>{localStorage.setItem("fft_y_min",v),localStorage.setItem("fft_y_max",y),localStorage.setItem("fft_theo_sigma",Z),localStorage.setItem("fft_theo_ksize",H),localStorage.setItem("fft_theo_noise",ee),localStorage.setItem("fft_theo_scale",ne)},[v,y,Z,H,ee,ne]),S.useEffect(()=>{if(!e||!n||!a)return;_t(!0),mt(null),De(0);const ae=setTimeout(async()=>{try{const Pe=p===-1?[0,1,2,3]:[p],Le=h&&h.length>1?h:[null],Ze=Le.length,Ve={};let Pt={h:0,v:0};for(let Ae=0;Ae<Ze;Ae++){De(Ae+1);let Qe;if(Le[Ae]){const ut=await Le[Ae].arrayBuffer();Qe=await vh(ut)}else Qe=n;for(const ut of Pe){const ft=LQ(Qe.data,Qe.width,Qe.height,a,ut,!1,x,{rows:$,rowGroup:T,cols:P,colGroup:L},k,N);ft&&(Ve[ut]||(Ve[ut]={h:new Array(ft.avgHoriz.length).fill(0),v:new Array(ft.avgVert.length).fill(0)}),ft.avgHoriz.forEach((It,me)=>Ve[ut].h[me]+=It/Ze),ft.avgVert.forEach((It,me)=>Ve[ut].v[me]+=It/Ze),Pt=ft.sampleCount)}}if(Object.keys(Ve).length===0)throw new Error("ROI too small or no data found.");const hr=1024,nr=[];for(let Ae=0;Ae<hr;Ae++){const Qe=Ae/(hr-1)*.5,ut={freq:parseFloat(Qe.toFixed(6))};for(const ft of Pe)Ve[ft]&&(ut[`c${ft}_h`]=dk(Ve[ft].h,Qe),ut[`c${ft}_v`]=dk(Ve[ft].v,Qe));nr.push(ut)}An(Pt),ze(nr)}catch(Pe){console.error("FFT Loop Failed:",Pe),mt(Pe.message||"Unknown error during FFT processing")}finally{_t(!1)}},100);return()=>clearTimeout(ae)},[e,n,a==null?void 0:a.x,a==null?void 0:a.y,a==null?void 0:a.w,a==null?void 0:a.h,p,x,k,N,$,T,P,L,h]);const vn=()=>{const ae=parseFloat(X),Pe=parseFloat(pe);if(isNaN(ae)||isNaN(Pe))return;const Le={},Ze=p===-1?[0,1,2,3]:[p],Ve=we.filter(Pt=>Pt.freq>=ae&&Pt.freq<=Pe);if(Ve.length===0){Vt({});return}Ze.forEach(Pt=>{let hr=0,nr=0;Ve.forEach(Ae=>{const Qe=Ae[`c${Pt}_h`],ut=Ae[`c${Pt}_v`];typeof Qe=="number"&&(hr+=Qe),typeof ut=="number"&&(nr+=ut)}),Le[Pt]={h:hr/Ve.length,v:nr/Ve.length,count:Ve.length}}),Vt(Le)},Ar=S.useMemo(()=>{const ae=parseFloat(Z),Pe=parseInt(H),Le=parseFloat(ee),Ze=parseFloat(ne);if(isNaN(ae)||isNaN(Pe)||isNaN(Le)||isNaN(Ze)||we.length===0)return we;const Ve=HQ(Pe,ae),Pt=Ve.reduce((Ae,Qe)=>Ae+Qe*Qe,0),hr=(Pe-1)/2,nr=Le*Le*Ze;return we.map(Ae=>{const Qe=Ae.freq,ut=2*Math.PI*Qe;let ft=0,It=0;for(let Yr=0;Yr<Pe;Yr++){const ui=Yr-hr,nn=Ve[Yr],K=-ut*ui;ft+=nn*Math.cos(K),It+=nn*Math.sin(K)}const me=ft*ft+It*It;return{...Ae,theory:Math.max(ey,nr*Pt*me)}})},[we,Z,H,ee,ne]),Hn=ae=>{ae&&ae.activeLabel!==void 0&&(Mt(!0),Je(Number(ae.activeLabel)),Qt(null))},Mn=ae=>{if(Hr&&Vr!==null&&ae&&ae.activeLabel!==void 0){const Pe=Number(ae.activeLabel);Qt([Math.min(Vr,Pe),Math.max(Vr,Pe)])}},ra=()=>Mt(!1),rn=(ae,Pe,Le)=>{l&&l(),!(Le.closest("button")||Le.closest("input"))&&(ur(!0),Ye.current={x:ae-Ge.x,y:Pe-Ge.y})},Cn=ae=>{rn(ae.clientX,ae.clientY,ae.target)},Kr=ae=>{const Pe=ae.touches[0];rn(Pe.clientX,Pe.clientY,ae.target)};S.useEffect(()=>{const ae=Le=>{if(Lt){const Ze="touches"in Le?Le.touches[0].clientX:Le.clientX,Ve="touches"in Le?Le.touches[0].clientY:Le.clientY;ct({x:Ze-Ye.current.x,y:Ve-Ye.current.y})}},Pe=()=>ur(!1);return Lt&&(window.addEventListener("mousemove",ae),window.addEventListener("mouseup",Pe),window.addEventListener("touchmove",ae,{passive:!1}),window.addEventListener("touchend",Pe)),()=>{window.removeEventListener("mousemove",ae),window.removeEventListener("mouseup",Pe),window.removeEventListener("touchmove",ae),window.removeEventListener("touchend",Pe)}},[Lt]);const ba=S.useMemo(()=>{if(!cr||we.length===0)return null;const[ae,Pe]=cr,Le=we.filter(Pt=>Pt.freq>=ae&&Pt.freq<=Pe);if(Le.length===0)return null;const Ze=p===-1?[0,1,2,3]:[p],Ve={};return Ze.forEach(Pt=>{["h","v"].forEach(hr=>{const nr=`c${Pt}_${hr}`;let Ae=0,Qe=0;for(const ut of Le){const ft=ut[nr];typeof ft=="number"&&(Ae+=ft,Qe++)}Qe>0&&(Ve[`${nr}_sigma`]=Math.sqrt(Ae/Qe))})}),{count:Le.length,stats:Ve}},[cr,we,p]),rr=()=>{if(we.length===0)return;let ae=1/0,Pe=-1/0;if(we.forEach(hr=>{hr.freq<.01||hr.freq>.49||Object.keys(hr).forEach(nr=>{if(nr==="freq"||nr==="theory")return;const Ae=hr[nr];typeof Ae=="number"&&Ae>0&&(Ae<ae&&(ae=Ae),Ae>Pe&&(Pe=Ae))})}),ae===1/0)return;const Le=Math.log10(ae),Ze=Math.log10(Pe),Ve=Ze-Le,Pt=(Ve===0?1:Ve)*.1;b((Le-Pt).toFixed(2)),g((Ze+Pt).toFixed(2))},Ot=(ae,Pe)=>{a&&i&&i({...a,x:a.x+ae,y:a.y+Pe})},Ct=(ae,Pe)=>{a&&i&&i({...a,w:Math.max(2,a.w+ae),h:Math.max(2,a.h+Pe)})};return e?u.jsxs("div",{className:"fixed flex flex-col bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 shadow-2xl rounded-xl overflow-hidden resize-both min-w-[750px] min-h-[500px]",style:{left:Ge.x,top:Ge.y,width:"1000px",height:"850px",zIndex:s??100},onMouseDownCapture:l,children:[u.jsxs("div",{className:`flex justify-between items-center p-3 border-b border-gray-200 dark:border-slate-700 flex-shrink-0 bg-gray-50 dark:bg-slate-800 z-50 relative select-none touch-none ${Lt?"cursor-grabbing":"cursor-grab"}`,onMouseDown:Cn,onTouchStart:Kr,children:[u.jsxs("h2",{className:"text-lg font-bold text-gray-900 dark:text-slate-100 flex items-center gap-2 pointer-events-none",children:["Power Spectrum Analysis",u.jsx("span",{className:"text-[10px] font-normal bg-white dark:bg-slate-700 px-2 py-1 rounded text-gray-500 border border-gray-200 dark:border-slate-600 shadow-sm",children:h&&h.length>1?`Stack Avg (${h.length} frames)`:"Single Mode"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[r&&u.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 dark:hover:text-red-400 p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),u.jsxs("div",{className:"flex flex-col bg-gray-50 dark:bg-slate-900/80 border-b border-gray-200 dark:border-slate-800 flex-shrink-0 z-40 relative px-4 py-3 gap-3 overflow-x-auto",children:[u.jsxs("div",{className:"flex items-center gap-6",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-[10px] font-bold text-gray-500 dark:text-slate-400 uppercase tracking-widest",children:"Channel"}),u.jsxs("div",{className:"flex bg-gray-100 dark:bg-slate-800 rounded-lg p-0.5 border border-gray-200 dark:border-slate-700 shadow-inner",children:[u.jsx("button",{onClick:()=>m(-1),className:`px-3 py-1 rounded text-[10px] font-bold transition-all ${p===-1?"bg-slate-700 text-white shadow-md":"text-gray-500 dark:text-slate-500 hover:bg-white dark:hover:bg-slate-700"}`,children:"All"}),[0,1,2,3].map(ae=>u.jsx("button",{onClick:()=>m(ae),className:`px-3 py-1 rounded text-[10px] font-bold transition-all ${p===ae?"bg-cyan-600 text-white shadow-md":"text-gray-500 dark:text-slate-500 hover:bg-white dark:hover:bg-slate-700"}`,children:dr[ae]},ae))]})]}),u.jsx("div",{className:"h-6 w-px bg-gray-200 dark:bg-slate-700 mx-2"}),u.jsxs("button",{onClick:()=>ie(!0),className:"flex items-center gap-1.5 px-4 py-1.5 bg-indigo-600 hover:bg-indigo-500 text-white text-[10px] font-bold rounded-lg shadow-lg shadow-indigo-500/30 transition-all active:scale-95 group border border-indigo-400/30",children:[u.jsx("svg",{className:"w-3.5 h-3.5 group-hover:animate-pulse",fill:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"2D Diagonal"]}),u.jsx("div",{className:"h-6 w-px bg-gray-200 dark:bg-slate-700 mx-2"}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-[10px] font-bold text-indigo-500 dark:text-indigo-400 uppercase tracking-widest",children:"Model"}),u.jsx("div",{className:"flex gap-2",children:[{label:"KSize",val:H,set:se,w:"w-10"},{label:"Sigma",val:Z,set:q,w:"w-12"},{label:"Noise()",val:ee,set:D,w:"w-12"},{label:"Scale",val:ne,set:he,w:"w-12"}].map(ae=>u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("label",{className:"text-[8px] text-gray-400 dark:text-slate-500 uppercase font-bold mb-0.5",children:ae.label}),u.jsx("input",{type:"text",value:ae.val,onChange:Pe=>ae.set(Pe.target.value),className:`${ae.w} text-[11px] bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded px-1.5 py-0.5 text-center text-gray-900 dark:text-slate-100 outline-none focus:border-indigo-500 shadow-sm`})]},ae.label))})]})]}),u.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[u.jsxs("div",{className:"flex items-center gap-3 mr-2",children:[u.jsx("span",{className:"text-[10px] font-bold text-fuchsia-600 dark:text-fuchsia-500 uppercase tracking-widest",children:"Welch"}),u.jsx("input",{type:"range",min:"1",max:"16",step:"1",value:N,onChange:ae=>_(parseInt(ae.target.value)),className:"w-24 h-1.5 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-fuchsia-500"}),u.jsx("span",{className:"text-[10px] font-mono text-fuchsia-600 dark:text-fuchsia-400 w-4 font-bold",children:N})]}),u.jsx("div",{className:"h-6 w-px bg-gray-200 dark:bg-slate-700"}),u.jsxs("div",{className:"flex flex-col gap-1 px-2",children:[u.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer text-[10px] text-gray-500 dark:text-slate-400 hover:text-gray-900 dark:hover:text-slate-200 select-none",children:[u.jsx("input",{type:"checkbox",checked:$,onChange:ae=>F(ae.target.checked),className:"w-3 h-3 rounded text-cyan-600 border-gray-300 dark:border-slate-700 bg-white dark:bg-slate-800"})," Row Int."]}),u.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer text-[10px] text-gray-500 dark:text-slate-400 hover:text-gray-900 dark:hover:text-slate-200 select-none",children:[u.jsx("input",{type:"checkbox",checked:P,onChange:ae=>E(ae.target.checked),className:"w-3 h-3 rounded text-cyan-600 border-gray-300 dark:border-slate-700 bg-white dark:bg-slate-800"})," Col Int."]})]}),u.jsxs("div",{className:"flex flex-col gap-1.5 bg-gray-100 dark:bg-slate-800/60 p-1.5 rounded-lg border border-gray-200 dark:border-slate-700",children:[u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[u.jsx("div",{className:`w-3.5 h-3.5 rounded-md border flex items-center justify-center transition-colors ${x?"bg-fuchsia-600 border-fuchsia-600":"bg-white dark:bg-slate-900 border-gray-300 dark:border-slate-600"}`,children:x&&u.jsx("svg",{className:"w-2.5 h-2.5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:4,children:u.jsx("path",{d:"M5 13l4 4L19 7"})})}),u.jsx("input",{type:"checkbox",checked:x,onChange:ae=>j(ae.target.checked),className:"hidden"}),u.jsx("span",{className:"text-[10px] font-bold text-gray-700 dark:text-slate-300",children:"Hanning"})]}),u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[u.jsx("div",{className:`w-3.5 h-3.5 rounded-md border flex items-center justify-center transition-colors ${k?"bg-cyan-600 border-cyan-600":"bg-white dark:bg-slate-900 border-gray-300 dark:border-slate-600"}`,children:k&&u.jsx("svg",{className:"w-2.5 h-2.5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:4,children:u.jsx("path",{d:"M5 13l4 4L19 7"})})}),u.jsx("input",{type:"checkbox",checked:k,onChange:ae=>w(ae.target.checked),className:"hidden"}),u.jsx("span",{className:"text-[10px] font-bold text-gray-700 dark:text-slate-300",children:"Average"})]})]}),u.jsxs("div",{className:"flex gap-2 bg-gray-100 dark:bg-slate-800 p-1 rounded-lg border border-gray-200 dark:border-slate-700",children:[u.jsxs("button",{onClick:()=>A(!O),className:`px-2.5 py-1 rounded-md border text-[11px] font-bold transition-all flex items-center gap-1.5 ${O?"bg-cyan-900/40 text-cyan-400 border-cyan-500 shadow-[0_0_8px_rgba(6,182,212,0.3)]":"bg-white dark:bg-slate-900 text-gray-400 border-gray-300 dark:border-slate-700"}`,children:[u.jsx("div",{className:`w-2 h-2 rounded-full ${O?"bg-cyan-400":"bg-gray-400"}`})," H"]}),u.jsxs("button",{onClick:()=>C(!M),className:`px-2.5 py-1 rounded-md border text-[11px] font-bold transition-all flex items-center gap-1.5 ${M?"bg-cyan-900/40 text-cyan-400 border-cyan-500 shadow-[0_0_8px_rgba(6,182,212,0.3)]":"bg-white dark:bg-slate-900 text-gray-400 border-gray-300 dark:border-slate-700"}`,children:[u.jsx("div",{className:`w-2 h-2 rounded-full ${O?"bg-cyan-400":"bg-gray-400"}`})," V"]})]}),u.jsxs("div",{className:"ml-auto flex gap-2",children:[u.jsx("button",{onClick:()=>Pr(!Or),className:`px-3 py-1.5 rounded-lg text-[10px] font-bold transition-all border ${Or?"bg-emerald-600 text-white border-emerald-600 shadow-md":"bg-white dark:bg-slate-900 text-emerald-600 dark:text-emerald-400 border-emerald-200 dark:border-emerald-800 hover:bg-emerald-50"}`,children:""}),u.jsx("button",{onClick:()=>Gt(!Rt),className:`px-3 py-1.5 rounded-lg text-[10px] font-bold transition-all border ${Rt?"bg-indigo-600 text-white border-indigo-600 shadow-md":"bg-white dark:bg-slate-900 text-indigo-600 dark:text-indigo-400 border-indigo-200 dark:border-indigo-800 hover:bg-indigo-50"}`,children:"ROI"})]})]}),u.jsxs("div",{className:"flex items-center gap-4 justify-end border-t border-gray-200 dark:border-slate-800/50 pt-2.5",children:[u.jsx("button",{onClick:rr,className:"px-4 py-1 text-[10px] font-bold bg-cyan-600/10 text-cyan-600 dark:text-cyan-400 hover:bg-cyan-600/20 rounded-md border border-cyan-500/30 transition-all uppercase tracking-widest shadow-sm",children:"Auto"}),u.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-bold text-gray-500 dark:text-slate-400 uppercase",children:["Y-AXIS (LOG)",u.jsxs("div",{className:"flex items-center bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-md overflow-hidden shadow-sm",children:[u.jsx("input",{type:"text",value:v,onChange:ae=>b(ae.target.value),className:"w-14 px-2 py-1 bg-transparent text-center outline-none text-gray-900 dark:text-slate-100 border-r border-gray-200 dark:border-slate-700"}),u.jsx("span",{className:"px-2 text-gray-400",children:"to"}),u.jsx("input",{type:"text",value:y,onChange:ae=>g(ae.target.value),className:"w-14 px-2 py-1 bg-transparent text-center outline-none text-gray-900 dark:text-slate-100"})]})]})]})]}),u.jsxs("div",{className:"flex-1 p-4 overflow-hidden flex flex-col gap-2 relative bg-gray-50/30 dark:bg-slate-900/30",children:[u.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none z-[50] select-none opacity-10",children:u.jsx("svg",{viewBox:"0 0 500 100",className:"w-3/4 h-auto drop-shadow-lg",children:u.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"24",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})}),Re&&u.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center z-[55] bg-white/90 dark:bg-slate-900/90 backdrop-blur-[2px]",children:[u.jsx("div",{className:"w-10 h-10 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mb-4"}),u.jsx("span",{className:"text-cyan-600 dark:text-cyan-400 font-bold",children:"Computing FFT Stack..."}),h&&h.length>1&&u.jsxs("span",{className:"text-xs text-gray-500 mt-2 font-mono",children:["Processing frame ",gt," / ",h.length]})]}),He?u.jsx("div",{className:"flex items-center justify-center h-full text-red-500 font-semibold",children:He}):u.jsxs("div",{className:"flex-1 bg-white dark:bg-slate-950 border border-gray-200 dark:border-slate-800 rounded-xl p-2 flex flex-col relative z-20 shadow-xl overflow-hidden",children:[u.jsx("div",{className:"flex-1 relative z-10",onMouseDown:Hn,onMouseMove:Mn,onMouseUp:ra,style:{cursor:Hr?"col-resize":"crosshair"},children:u.jsx(ho,{width:"100%",height:"100%",children:u.jsxs($s,{data:Ar,margin:{top:10,right:10,bottom:20,left:0},children:[u.jsx(Ka,{strokeDasharray:"3 3",stroke:"#374151",opacity:.08}),u.jsx(Un,{dataKey:"freq",type:"number",domain:[0,.5],tickCount:6,tick:{fill:"#6b7280",fontSize:10},label:{value:"Frequency (cy/px)",position:"insideBottom",offset:-10,fill:"#6b7280",fontSize:11}}),u.jsx(Wn,{scale:"log",domain:[Math.pow(10,parseFloat(v)),Math.pow(10,parseFloat(y))],allowDataOverflow:!0,tick:{fill:"#6b7280",fontSize:10},tickFormatter:ae=>Number(ae).toExponential(0),width:45}),u.jsx(Ur,{contentStyle:{backgroundColor:"rgba(15, 23, 42, 0.95)",border:"1px solid #334155",color:"#f3f4f6",fontSize:"11px",borderRadius:"8px"},formatter:ae=>[Number(ae).toExponential(3),""],labelFormatter:ae=>`Freq: ${Number(ae).toFixed(4)}`}),u.jsx(Ga,{wrapperStyle:{fontSize:"10px"}}),u.jsx(Nr,{type:"monotone",dataKey:"theory",name:"Theory Model",stroke:"#6366f1",strokeWidth:2,dot:!1,isAnimationActive:!1}),[0,1,2,3].flatMap(ae=>{if(p!==-1&&p!==ae)return[];const Pe=`c${ae}_h`,Le=`c${ae}_v`,Ze=fr[`c${ae}`],Ve=[];return O&&Ve.push(u.jsx(Nr,{type:"linear",dataKey:Pe,name:`${dr[ae]} (H)`,stroke:Ze,strokeWidth:1,dot:!1,isAnimationActive:!1},`${ae}_h`)),M&&Ve.push(u.jsx(Nr,{type:"linear",dataKey:Le,name:`${dr[ae]} (V)`,stroke:Ze,strokeWidth:1,strokeDasharray:"3 3",dot:!1,isAnimationActive:!1},`${ae}_v`)),Ve}),cr&&u.jsx(Ru,{x1:cr[0],x2:cr[1],fill:"#8884d8",fillOpacity:.15})]})})}),ba&&cr&&u.jsxs("div",{className:"absolute bottom-12 left-12 bg-slate-900/90 backdrop-blur-md p-3 rounded-lg border border-indigo-500/50 shadow-2xl z-30 text-[10px] font-mono text-slate-100",children:[u.jsxs("div",{className:"text-indigo-400 font-bold mb-1 border-b border-indigo-500/30 pb-1",children:["Range: ",cr[0].toFixed(3),"-",cr[1].toFixed(3)]}),Object.entries(ba.stats).map(([ae,Pe])=>u.jsxs("div",{className:"flex justify-between gap-4",children:[u.jsxs("span",{className:"text-slate-400",children:[ae,":"]}),u.jsx("span",{className:"font-bold text-cyan-400",children:Pe.toFixed(5)})]},ae))]})]})]}),Or&&u.jsxs("div",{className:"absolute top-48 right-8 z-[55] w-72 bg-white dark:bg-slate-900 rounded-xl shadow-2xl border border-gray-200 dark:border-slate-700 p-4 animate-in slide-in-from-top-2",children:[u.jsx("h4",{className:"text-[10px] uppercase font-bold text-emerald-600 dark:text-emerald-400 mb-2 border-b border-gray-100 dark:border-slate-800 pb-1",children:"Range Averaging"}),u.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[u.jsx("input",{type:"number",step:"0.01",value:X,onChange:ae=>ue(ae.target.value),className:"w-16 px-1 py-0.5 text-xs border rounded bg-transparent dark:border-slate-600 dark:text-white"}),u.jsx("span",{className:"text-gray-400",children:"-"}),u.jsx("input",{type:"number",step:"0.01",value:pe,onChange:ae=>G(ae.target.value),className:"w-16 px-1 py-0.5 text-xs border rounded bg-transparent dark:border-slate-600 dark:text-white"}),u.jsx("button",{onClick:vn,className:"flex-1 bg-emerald-600 text-white text-[10px] font-bold py-1 rounded",children:"Avg"})]}),u.jsx("div",{className:"flex flex-col gap-2 max-h-48 overflow-y-auto",children:[0,1,2,3].map(ae=>{const Pe=Ht[ae];if(!Pe)return null;const Le=fr[`c${ae}`];return u.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800/50 p-2 rounded text-[10px] border border-gray-100 dark:border-slate-800",children:[u.jsxs("div",{className:"flex items-center gap-2 font-bold mb-1",style:{color:Le},children:[dr[ae]," ",u.jsxs("span",{className:"text-gray-400 font-normal",children:["(",Pe.count," pts)"]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-x-2 text-gray-700 dark:text-slate-300 font-mono",children:[u.jsxs("div",{children:["H: ",Pe.h.toExponential(3)]}),u.jsxs("div",{children:["V: ",Pe.v.toExponential(3)]})]})]},ae)})})]}),Rt&&u.jsx("div",{className:"absolute top-48 right-8 z-[55] w-56 bg-white dark:bg-slate-900 rounded-xl shadow-2xl border border-gray-200 dark:border-slate-700 p-4 animate-in slide-in-from-top-2",children:u.jsxs("div",{className:"flex flex-col gap-3",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"text-[9px] uppercase font-bold text-gray-400 mb-1",children:"Move"}),u.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[u.jsx("div",{}),u.jsx("button",{onClick:()=>Ot(0,-1),className:"p-1.5 bg-gray-100 dark:bg-slate-800 rounded",children:""}),u.jsx("div",{}),u.jsx("button",{onClick:()=>Ot(-1,0),className:"p-1.5 bg-gray-100 dark:bg-slate-800 rounded",children:""}),u.jsx("div",{}),u.jsx("button",{onClick:()=>Ot(1,0),className:"p-1.5 bg-gray-100 dark:bg-slate-800 rounded",children:""}),u.jsx("div",{}),u.jsx("button",{onClick:()=>Ot(0,1),className:"p-1.5 bg-gray-100 dark:bg-slate-800 rounded",children:""}),u.jsx("div",{})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-[9px] uppercase font-bold text-gray-400 mb-1",children:"Size"}),u.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[u.jsx("button",{onClick:()=>Ct(2,0),className:"p-1 bg-gray-100 dark:bg-slate-800 rounded",children:"W+"}),u.jsx("button",{onClick:()=>Ct(-2,0),className:"p-1 bg-gray-100 dark:bg-slate-800 rounded",children:"W-"}),u.jsx("button",{onClick:()=>Ct(0,2),className:"p-1 bg-gray-100 dark:bg-slate-800 rounded",children:"H+"}),u.jsx("button",{onClick:()=>Ct(0,-2),className:"p-1 bg-gray-100 dark:bg-slate-800 rounded",children:"H-"})]})]})]})}),u.jsx(WQ,{isOpen:oe,onClose:()=>ie(!1),rawImageData:n,roi:a,selectedChannel:p===-1?0:p,channelName:p===-1?"Red (Default)":dr[p],zIndex:s?s+2:102,onFocus:l})]}):null},XQ=({isOpen:e,onClose:t,onMinimize:r,rawImageData:n,roi:a,isBGGR:o,zIndex:i,onFocus:s,initialPosition:l,initialInternalState:c,onUpdateState:f})=>{const[d,h]=S.useState((c==null?void 0:c.selectedChannelKey)||"G1"),[p,m]=S.useState((c==null?void 0:c.blackLevel)??0),[v,b]=S.useState((c==null?void 0:c.whiteLevel)??16383),[y,g]=S.useState(null),[x,j]=S.useState(!1),[k,w]=S.useState(null),[N,_]=S.useState(l||{x:150,y:150}),[O,A]=S.useState(!1),M=S.useRef({x:0,y:0});S.useEffect(()=>{f&&f({selectedChannelKey:d,blackLevel:p,whiteLevel:v})},[d,p,v]),S.useEffect(()=>{if(e&&n&&!c){const P=n.blackLevels?Math.floor(n.blackLevels[1]):0;m(P),b(n.whiteLevel||16383),g(null)}},[e,n]);const C=()=>{if(!n||!a)return;w(null),j(!0);const E=(o?{B:0,G1:1,G2:2,R:3}:{R:0,G1:1,G2:2,B:3})[d];setTimeout(()=>{try{const L=BQ(n.data,n.width,n.height,a,E,p,v);L?g(L):(w("No data found in selection with current filters."),g(null))}catch(L){console.error("Analysis failed:",L),w(L.message||"Analysis error")}finally{j(!1)}},50)},$=(P,E,L)=>{s&&s(),!(L.closest("button")||L.closest("input")||L.closest("select"))&&(A(!0),M.current={x:P-N.x,y:E-N.y})},F=P=>{$(P.clientX,P.clientY,P.target)},T=P=>{const E=P.touches[0];$(E.clientX,E.clientY,P.target)};if(S.useEffect(()=>{const P=L=>{if(O){const z="touches"in L?L.touches[0].clientX:L.clientX,Z="touches"in L?L.touches[0].clientY:L.clientY;_({x:z-M.current.x,y:Z-M.current.y})}},E=()=>A(!1);return O&&(window.addEventListener("mousemove",P),window.addEventListener("mouseup",E),window.addEventListener("touchmove",P,{passive:!1}),window.addEventListener("touchend",E)),()=>{window.removeEventListener("mousemove",P),window.removeEventListener("mouseup",E),window.removeEventListener("touchmove",P),window.removeEventListener("touchend",E)}},[O]),!e)return null;const W=o?["B","G1","G2","R"]:["R","G1","G2","B"];return u.jsxs("div",{className:"fixed flex flex-col bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 shadow-2xl rounded-xl resize-both overflow-hidden min-w-[500px] min-h-[400px] w-[900px] h-[700px]",style:{left:N.x,top:N.y,zIndex:i??100},onMouseDownCapture:s,children:[u.jsxs("div",{className:`flex justify-between items-center p-4 border-b border-gray-200 dark:border-slate-700 bg-white dark:bg-slate-900 select-none touch-none ${O?"cursor-grabbing":"cursor-grab"}`,onMouseDown:F,onTouchStart:T,children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-slate-100 flex items-center gap-2 pointer-events-none",children:"Quantization Step Analysis"}),u.jsxs("div",{className:"flex items-center gap-1",children:[r&&u.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 p-2",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),u.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-800/50 border-b border-gray-200 dark:border-slate-700 flex flex-wrap gap-4 items-end flex-shrink-0",children:[u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"Channel"}),u.jsx("select",{value:d,onChange:P=>h(P.target.value),className:"bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded px-3 py-1.5 text-sm text-gray-900 dark:text-slate-100 outline-none focus:ring-1 focus:ring-cyan-500 min-w-[80px]",children:W.map(P=>u.jsx("option",{value:P,children:P},P))})]}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"Black Level"}),u.jsx("input",{type:"number",value:p,onChange:P=>m(Number(P.target.value)),className:"w-24 px-3 py-1.5 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-sm text-gray-900 dark:text-slate-100"})]}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"White Level"}),u.jsx("input",{type:"number",value:v,onChange:P=>b(Number(P.target.value)),className:"w-24 px-3 py-1.5 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded outline-none text-sm text-gray-900 dark:text-slate-100"})]}),u.jsx("button",{onClick:C,disabled:x,className:"mb-0.5 px-5 py-1.5 bg-cyan-600 hover:bg-cyan-500 text-white font-bold rounded shadow-sm hover:shadow transition-colors disabled:opacity-50 text-sm",children:x?"Analyzing...":"Run Analysis"})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-4 flex flex-col gap-4 bg-white dark:bg-slate-900 min-h-0",children:[k&&u.jsx("div",{className:"p-3 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 rounded text-sm text-center flex-shrink-0",children:k}),!y&&!x&&!k&&u.jsx("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-400 dark:text-slate-500 h-full",children:u.jsx("p",{children:"Configure parameters and click Run Analysis"})}),y&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 flex-shrink-0",children:[u.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 rounded-lg border border-gray-200 dark:border-slate-700 text-center",children:[u.jsx("div",{className:"text-xs text-gray-500 dark:text-slate-400 uppercase mb-1",children:"Unique Codes"}),u.jsx("div",{className:"text-xl font-bold text-gray-900 dark:text-slate-100",children:y.uniqueCount})]}),u.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 rounded-lg border border-gray-200 dark:border-slate-700 text-center",children:[u.jsx("div",{className:"text-xs text-gray-500 dark:text-slate-400 uppercase mb-1",children:"Total Diffs"}),u.jsx("div",{className:"text-xl font-bold text-gray-900 dark:text-slate-100",children:y.diffCount})]})]}),u.jsxs("div",{className:"bg-white dark:bg-slate-800/50 rounded-xl border border-gray-200 dark:border-slate-700 overflow-hidden flex-shrink-0",children:[u.jsx("div",{className:"px-4 py-2 bg-gray-50 dark:bg-slate-800 border-b border-gray-200 dark:border-slate-700 text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"Step Distribution"}),u.jsx("div",{className:"p-4 flex flex-wrap gap-x-8 gap-y-2 text-sm font-mono max-h-32 overflow-y-auto",children:Object.entries(y.stepCounts).sort((P,E)=>parseFloat(P[0])-parseFloat(E[0])).map(([P,E])=>u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("span",{className:"text-gray-500 dark:text-slate-400",children:["Step ",P,":"]}),u.jsx("span",{className:"text-cyan-600 dark:text-cyan-400 font-bold",children:String(E)})]},P))})]}),u.jsxs("div",{className:"flex-1 bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 rounded-xl p-2 relative overflow-hidden min-h-[300px]",children:[u.jsx("div",{className:"absolute top-2 left-4 text-xs font-bold text-gray-400 dark:text-slate-500 pointer-events-none z-20 bg-white/80 dark:bg-slate-900/80 px-2 rounded",children:"Step Size vs Code Value"}),u.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-0 pointer-events-none select-none opacity-10 mix-blend-normal dark:mix-blend-plus-lighter",children:u.jsx("svg",{viewBox:"0 0 500 60",className:"w-96 h-auto",children:u.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"36",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})}),u.jsx("div",{className:"relative z-10 w-full h-full",children:u.jsx(ho,{width:"100%",height:"100%",children:u.jsxs($s,{data:y.plotData,margin:{top:20,right:20,bottom:20,left:10},children:[u.jsx(Ka,{strokeDasharray:"3 3",stroke:"#374151",opacity:.1}),u.jsx(Un,{dataKey:"x",type:"number",domain:["auto","auto"],tick:{fill:"#9ca3af",fontSize:10},label:{value:"Code Value (Shifted)",position:"insideBottom",offset:-10,fill:"#9ca3af",fontSize:11}}),u.jsx(Wn,{tick:{fill:"#9ca3af",fontSize:10},domain:[0,"auto"],allowDataOverflow:!1,label:{value:"Step Size (Delta)",angle:-90,position:"insideLeft",fill:"#9ca3af",fontSize:11}}),u.jsx(Ur,{contentStyle:{backgroundColor:"rgba(17, 24, 39, 0.95)",border:"1px solid #374151",borderRadius:"0.5rem",color:"#f3f4f6",fontSize:"12px"},labelFormatter:P=>`Val: ${P}`,formatter:P=>[P,"Step Size"]}),u.jsx(Nr,{type:"stepAfter",dataKey:"y",stroke:"#0891b2",strokeWidth:1.5,dot:{r:1.5,fill:"#0891b2",strokeWidth:0},activeDot:{r:4},isAnimationActive:!1})]})})})]})]})]})]})},KQ=({isOpen:e,onClose:t,rawImageData:r,roi:n,isBGGR:a,zIndex:o,onFocus:i,initialPosition:s,stackFiles:l})=>{const[c,f]=S.useState("cross"),[d,h]=S.useState("R"),[p,m]=S.useState("B"),[v,b]=S.useState("H"),[y,g]=S.useState(null),[x,j]=S.useState(!1),[k,w]=S.useState(0),[N,_]=S.useState(0),[O,A]=S.useState("single"),M=a?{B:0,G1:1,G2:2,R:3}:{R:0,G1:1,G2:2,B:3},C=a?["B","G1","G2","R"]:["R","G1","G2","B"],$=async F=>{if(!r||!n)return;j(!0),A(F),w(0),g(null);let T=M[d],W=c==="cross"?M[p]:T,P=0,E=0;c==="self"&&(v==="H"?E=2:P=2),setTimeout(async()=>{try{let L={sumCov:0,sumVar1:0,sumVar2:0,n:0};if(F==="single")L=uk(r.data,r.width,r.height,n,T,W,P,E);else if(l&&l.length>0)for(let z=0;z<l.length;z++){w(z+1);const Z=await l[z].arrayBuffer(),q=await vh(Z),H=uk(q.data,q.width,q.height,n,T,W,P,E);L.sumCov+=H.sumCov,L.sumVar1+=H.sumVar1,L.sumVar2+=H.sumVar2,L.n+=H.n}_(L.n),g(DQ(L))}catch(L){console.error("Pearson calculation failed",L),alert("Calculation error: "+L.message)}finally{j(!1)}},50)};return e?u.jsxs(Iu,{initialPosition:s||{x:200,y:200},onClose:t,zIndex:o,onFocus:i,className:"w-80 bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 flex flex-col shadow-2xl overflow-hidden",children:[u.jsxs("div",{className:"flex justify-between items-center px-4 py-3 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800",children:[u.jsxs("h3",{className:"text-sm font-bold text-gray-700 dark:text-slate-200 flex items-center gap-2",children:["Pearson Correlation",u.jsx("span",{className:"text-[10px] font-normal bg-white dark:bg-slate-700 px-1.5 py-0.5 rounded border border-gray-200 dark:border-slate-600",children:"r"})]}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 transition-colors",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("div",{className:"p-4 flex flex-col gap-4",children:[u.jsxs("div",{className:"flex bg-gray-100 dark:bg-slate-800 p-1 rounded-lg border border-gray-200 dark:border-slate-700",children:[u.jsx("button",{onClick:()=>f("cross"),className:`flex-1 py-1 text-[10px] font-bold rounded transition-all ${c==="cross"?"bg-indigo-600 text-white shadow":"text-gray-500 dark:text-slate-400 hover:bg-gray-200 dark:hover:bg-slate-700"}`,children:"Cross-Channel"}),u.jsx("button",{onClick:()=>f("self"),className:`flex-1 py-1 text-[10px] font-bold rounded transition-all ${c==="self"?"bg-indigo-600 text-white shadow":"text-gray-500 dark:text-slate-400 hover:bg-gray-200 dark:hover:bg-slate-700"}`,children:"Self-Adjacent"})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:"flex-1 flex flex-col gap-1",children:[u.jsx("label",{className:"text-[9px] uppercase font-bold text-gray-400",children:c==="cross"?"Channel 1":"Channel"}),u.jsx("select",{value:d,onChange:F=>h(F.target.value),className:"bg-gray-100 dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded px-2 py-1.5 text-xs text-gray-700 dark:text-slate-200 outline-none focus:ring-1 focus:ring-indigo-500",children:C.map(F=>u.jsx("option",{value:F,children:F},F))})]}),u.jsx("div",{className:"text-gray-300 dark:text-slate-600 mt-4 font-mono",children:c==="cross"?"":""}),u.jsxs("div",{className:"flex-1 flex flex-col gap-1",children:[u.jsx("label",{className:"text-[9px] uppercase font-bold text-gray-400",children:c==="cross"?"Channel 2":"Direction"}),c==="cross"?u.jsx("select",{value:p,onChange:F=>m(F.target.value),className:"bg-gray-100 dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded px-2 py-1.5 text-xs text-gray-700 dark:text-slate-200 outline-none focus:ring-1 focus:ring-indigo-500",children:C.map(F=>u.jsx("option",{value:F,children:F},F))}):u.jsxs("div",{className:"flex h-[28px] bg-gray-100 dark:bg-slate-800 rounded border border-gray-200 dark:border-slate-700 p-0.5",children:[u.jsx("button",{onClick:()=>b("H"),className:`flex-1 text-[9px] font-bold rounded ${v==="H"?"bg-slate-300 dark:bg-slate-600 text-indigo-600 dark:text-indigo-400":"text-gray-400"}`,children:"Horiz"}),u.jsx("button",{onClick:()=>b("V"),className:`flex-1 text-[9px] font-bold rounded ${v==="V"?"bg-slate-300 dark:bg-slate-600 text-indigo-600 dark:text-indigo-400":"text-gray-400"}`,children:"Vert"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[u.jsx("button",{onClick:()=>$("single"),disabled:x,className:"w-full py-2 bg-indigo-600 hover:bg-indigo-500 disabled:bg-gray-400 text-white font-bold rounded shadow-md transition-all active:scale-95 text-xs",children:x&&O==="single"?"Calculating...":"Calc Current Frame"}),l&&l.length>0&&u.jsxs("button",{onClick:()=>$("stack"),disabled:x,className:"w-full py-2 bg-emerald-600 hover:bg-emerald-500 disabled:bg-gray-400 text-white font-bold rounded shadow-md transition-all active:scale-95 text-xs flex flex-col items-center justify-center",children:[u.jsx("span",{children:"Calc Stack Concatenated"}),x&&O==="stack"&&u.jsxs("span",{className:"text-[9px] font-normal opacity-80",children:["Progress: ",k," / ",l.length]})]})]}),y!==null&&u.jsxs("div",{className:"mt-2 p-4 bg-gray-50 dark:bg-slate-800/50 rounded-xl border border-gray-200 dark:border-slate-700 text-center animate-in fade-in slide-in-from-top-2",children:[u.jsxs("div",{className:"text-[10px] uppercase font-bold text-gray-400 dark:text-slate-500 mb-1",children:[c==="cross"?"Cross-Channel":`Self-Adj (${v})`," r"]}),u.jsx("div",{className:"text-2xl font-mono font-bold text-indigo-600 dark:text-indigo-400 select-all",style:{fontSize:"24px"},children:y.toFixed(5)}),u.jsxs("div",{className:"text-[9px] text-gray-400 mt-2 font-mono",children:["N = ",N.toLocaleString()," pairs"]}),u.jsx("div",{className:"mt-3 text-[10px] font-bold",children:Math.abs(y)>.5?u.jsx("span",{className:"text-red-500",children:"Significant Correlation"}):Math.abs(y)>.1?u.jsx("span",{className:"text-amber-500",children:"Weak Correlation"}):u.jsx("span",{className:"text-emerald-500",children:"Near-Zero (Uncorrelated)"})})]})]}),u.jsx("div",{className:"p-3 bg-gray-50/50 dark:bg-slate-800/30 text-[9px] text-gray-400 dark:text-slate-600 italic border-t border-gray-100 dark:border-slate-800",children:c==="cross"?"Comparing two color channels in the same Bayer 2x2 cells.":`Comparing pixel (r,c) with (r${v==="V"?"+2":""}, c${v==="H"?"+2":""}) in the same channel.`})]}):null},YQ=[{href:"https://y-g-jiang.github.io/CBLD.html",text:" (Primary Source)",abbr:"CBLD",description:"ISO",highlight:!0},{href:"https://y-G-jiang.github.io/LAC.html",text:"",abbr:"LAC",description:""},{href:"https://y-G-jiang.github.io/CCGV.html",text:"adobeIECMF",abbr:"CCGV",description:"acrRAWxy"},{href:"https://y-G-jiang.github.io/JTJS.html",text:"",abbr:"JTJS",description:"CMF/"},{href:"https://y-G-jiang.github.io/XJZS.html",text:"",abbr:"XJZS",description:""}],qQ=({isOpen:e,onClose:t})=>e?u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",onClick:t,children:u.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-3xl rounded-2xl shadow-2xl border border-gray-200 dark:border-slate-700 overflow-hidden flex flex-col max-h-[90vh]",onClick:r=>r.stopPropagation(),children:[u.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"About / Tools"}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 transition-colors p-1 rounded hover:bg-gray-200 dark:hover:bg-slate-700",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("div",{className:"p-6 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-slate-700",children:[u.jsx("div",{className:"mb-8 p-4 bg-gray-50 dark:bg-slate-800/50 rounded-xl border border-gray-100 dark:border-slate-700 text-center",children:u.jsxs("p",{className:"text-lg text-gray-700 dark:text-slate-300",children:[u.jsx("span",{className:"font-bold mr-2",children:"about:"}),u.jsx("a",{href:"https://y-g-jiang.github.io/JOindex.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:underline break-all font-mono",children:"https://y-g-jiang.github.io/JOindex.html"})]})}),u.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[u.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 flex-1"}),u.jsx("span",{className:"text-sm font-bold text-gray-400 dark:text-slate-500 uppercase tracking-wider",children:"Primary Resources"}),u.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 flex-1"})]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:YQ.map(r=>u.jsxs("a",{href:r.href,target:"_blank",rel:"noopener noreferrer",className:`group block p-4 rounded-xl border transition-all duration-200 relative overflow-hidden ${r.highlight?"border-cyan-500 dark:border-cyan-400 bg-cyan-50/30 dark:bg-cyan-900/10 shadow-lg scale-[1.02] ring-2 ring-cyan-500/20":"border-gray-200 dark:border-slate-700 bg-white dark:bg-slate-800/30 hover:bg-gray-50 dark:hover:bg-slate-800 hover:border-cyan-500"}`,children:[u.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-gradient-to-bl from-cyan-500/5 to-transparent -mr-8 -mt-8 rounded-full pointer-events-none group-hover:from-cyan-500/10 transition-colors"}),u.jsxs("div",{className:"flex items-center gap-3 mb-2 relative z-10",children:[u.jsx("span",{className:`px-2 py-1 text-xs font-bold rounded transition-colors border ${r.highlight?"bg-cyan-600 text-white border-cyan-500":"bg-gray-100 dark:bg-slate-700 text-gray-600 dark:text-slate-300 border-gray-200 dark:border-slate-600 group-hover:border-cyan-200"}`,children:r.abbr}),u.jsx("h3",{className:`font-bold transition-colors ${r.highlight?"text-cyan-700 dark:text-cyan-300":"text-gray-800 dark:text-slate-200 group-hover:text-cyan-600"}`,children:r.text})]}),u.jsx("p",{className:`text-xs pl-1 transition-colors relative z-10 ${r.highlight?"text-cyan-600/80 dark:text-cyan-400/80":"text-gray-500 dark:text-slate-400"}`,children:r.description})]},r.abbr))})]})]})}):null,ZQ=({isOpen:e,onClose:t,data:r,fileName:n,warning:a})=>{const[o,i]=S.useState(""),s=f=>{const d=new WeakSet;try{return JSON.stringify(f,(h,p)=>{if(typeof p=="bigint")return p.toString()+"n";if(typeof p=="object"&&p!==null){if(d.has(p))return"[Circular]";if(d.add(p),ArrayBuffer.isView(p))return`[${p.constructor.name}]`}return p})}catch{return"[Unable to serialize object]"}},l=S.useMemo(()=>{if(!r)return[];const f=[],d=(h,p=0)=>{if(p>5)return"...";if(h==null)return String(h);if(h instanceof Date)return h.toLocaleString();if(typeof h=="number")return h.toString();if(typeof h=="string")return h;if(typeof h=="bigint")return h.toString()+"n";if(ArrayBuffer.isView(h))return`<${h.constructor.name} len=${h.length} bytes=${h.byteLength}>`;if(h instanceof ArrayBuffer)return`<ArrayBuffer bytes=${h.byteLength}>`;if(typeof h=="object"){if(Array.isArray(h))return h.length===0?"[]":h.length>20?`[${h.slice(0,10).map(b=>typeof b=="number"?b.toFixed(2):d(b,p+1)).join(", ")}, ... (+${h.length-10} more)]`:`[${h.map(v=>typeof v=="number"?Number.isInteger(v)?v:v.toFixed(4):d(v,p+1)).join(", ")}]`;try{const m=Object.keys(h);return m.length>5?`{Object with ${m.length} keys}`:s(h)}catch{return"<Complex Object>"}}return String(h)};try{if(typeof r!="object")return[{key:"Value",value:String(r)}];Object.keys(r).sort().forEach(p=>{if(p==="MakerNote"||p==="UserComment"||p.includes("Strip")||p.includes("Offset")){f.push({key:p,value:"<Binary/Internal Data>"});return}const m=r[p];f.push({key:p,value:d(m)})})}catch(h){console.error("Error processing EXIF data:",h),f.push({key:"Error",value:"Failed to process metadata structure."})}return f},[r]);if(!e)return null;const c=l.filter(f=>f.key.toLowerCase().includes(o.toLowerCase())||f.value.toLowerCase().includes(o.toLowerCase()));return u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",onClick:t,children:u.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-3xl max-h-[90vh] rounded-2xl shadow-2xl flex flex-col border border-gray-200 dark:border-slate-700",onClick:f=>f.stopPropagation(),children:[u.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-gray-200 dark:border-slate-700",children:[u.jsxs("div",{className:"overflow-hidden",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-slate-100",children:"EXIF Data"}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mt-1 font-mono truncate",children:n})]}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 transition-colors p-2 rounded-full hover:bg-gray-100 dark:hover:bg-slate-800",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a&&u.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 px-4 py-2 border-b border-amber-100 dark:border-amber-800/50 text-center",children:u.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400 whitespace-pre-line font-medium leading-relaxed",children:a})}),u.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50",children:u.jsxs("div",{className:"relative",children:[u.jsx("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),u.jsx("input",{type:"text",placeholder:"Search tags...",value:o,onChange:f=>i(f.target.value),className:"w-full pl-9 pr-4 py-2 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded-lg text-sm focus:ring-2 focus:ring-cyan-500 outline-none text-gray-900 dark:text-slate-100 transition-colors placeholder-gray-400"})]})}),u.jsx("div",{className:"overflow-y-auto flex-1 p-0 scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-slate-700",children:c.length>0?u.jsxs("table",{className:"w-full text-left border-collapse table-fixed",children:[u.jsx("thead",{className:"bg-gray-50 dark:bg-slate-800 sticky top-0 shadow-sm z-10",children:u.jsxs("tr",{children:[u.jsx("th",{className:"py-3 px-5 font-semibold text-xs text-gray-500 dark:text-slate-400 uppercase tracking-wider w-1/3 border-b border-gray-200 dark:border-slate-700",children:"Tag Name"}),u.jsx("th",{className:"py-3 px-5 font-semibold text-xs text-gray-500 dark:text-slate-400 uppercase tracking-wider w-2/3 border-b border-gray-200 dark:border-slate-700",children:"Value"})]})}),u.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-slate-800",children:c.map(f=>u.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-800/50 transition-colors group",children:[u.jsx("td",{className:"py-2 px-5 text-sm font-medium text-cyan-600 dark:text-cyan-400 font-mono break-words align-top",children:f.key}),u.jsx("td",{className:"py-2 px-5 text-sm text-gray-700 dark:text-slate-300 font-mono break-words align-top group-hover:text-gray-900 dark:group-hover:text-slate-100",children:f.value})]},f.key))})]}):u.jsx("div",{className:"flex flex-col items-center justify-center h-64 text-gray-400 dark:text-slate-500",children:u.jsxs("p",{children:['No tags found matching "',o,'"']})})}),u.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50 flex justify-end rounded-b-2xl",children:u.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-800 dark:text-white rounded-lg text-sm font-semibold transition-colors",children:"Close"})})]})})},QQ=100,Ap=e=>{if(e.length===0)return 0;if(e.length===1)return e[0];if(e.length===2)return .5*(e[0]+e[1]);let t=[...e].sort((r,n)=>r-n);for(;t.length>4;){let r=1/0,n=0;const a=t.length,o=Math.floor(a/2);for(let i=0;i<=a-o;i++){const s=t[i+o-1]-t[i];s<r&&(r=s,n=i)}t=t.slice(n,n+o)}return t.reduce((r,n)=>r+n,0)/t.length},hk=({min:e,max:t,value:r,onChange:n,vertical:a=!1,logScale:o=!1})=>{const i=S.useRef(null),s=S.useRef(null),l=S.useCallback(g=>{const x=o?Math.max(1e-6,e):e,j=o?Math.max(x*1.0001,t):t,k=Math.max(x,Math.min(j,g));if(o){const w=Math.log10(x),N=Math.log10(j);return(Math.log10(k)-w)/(N-w)}return(k-x)/(j-x)},[e,t,o]),c=S.useCallback(g=>{const x=o?Math.max(1e-6,e):e,j=o?Math.max(x*1.0001,t):t;if(o){const k=Math.log10(x),w=Math.log10(j);return Math.pow(10,k+g*(w-k))}return x+g*(j-x)},[e,t,o]),f=(g,x)=>{g.preventDefault(),g.stopPropagation(),s.current=x;const j=w=>{if(!s.current||!i.current)return;const N=i.current.getBoundingClientRect();let _=0;a?_=(N.bottom-w.clientY)/N.height:_=(w.clientX-N.left)/N.width,_=Math.max(0,Math.min(1,_));const O=c(_);if(s.current==="min"){const A=r[1];n([Math.min(O,A),A])}else{const A=r[0];n([A,Math.max(O,A)])}},k=()=>{s.current=null,window.removeEventListener("mousemove",j),window.removeEventListener("mouseup",k)};window.addEventListener("mousemove",j),window.addEventListener("mouseup",k)},d=l(r[0])*100,h=l(r[1])*100,p=a?{left:"50%",top:0,bottom:0,width:"4px",transform:"translateX(-50%)"}:{top:"50%",left:0,right:0,height:"4px",transform:"translateY(-50%)"},m=a?{left:"50%",bottom:`${d}%`,height:`${h-d}%`,width:"4px",transform:"translateX(-50%)"}:{top:"50%",left:`${d}%`,width:`${h-d}%`,height:"4px",transform:"translateY(-50%)"},v="absolute w-3 h-3 bg-white border-2 border-cyan-600 rounded-full shadow-md cursor-pointer hover:scale-125 transition-transform z-10",b=a?{left:"50%",bottom:`${d}%`,transform:"translate(-50%, 50%)"}:{top:"50%",left:`${d}%`,transform:"translate(-50%, -50%)"},y=a?{left:"50%",bottom:`${h}%`,transform:"translate(-50%, 50%)"}:{top:"50%",left:`${h}%`,transform:"translate(-50%, -50%)"};return u.jsxs("div",{ref:i,className:`relative select-none ${a?"h-full w-4 py-2":"w-full h-4 px-2"}`,children:[u.jsx("div",{className:"absolute bg-gray-300 dark:bg-slate-600 rounded-full",style:p}),u.jsx("div",{className:"absolute bg-cyan-500 dark:bg-cyan-400 rounded-full",style:m}),u.jsx("div",{className:v,style:b,onMouseDown:g=>f(g,"min")}),u.jsx("div",{className:v,style:y,onMouseDown:g=>f(g,"max")})]})},JQ=({isOpen:e,onClose:t,data:r,blackLevel:n,imageHeight:a,isBGGR:o,importedMetadata:i,theme:s,initialCameraModel:l,initialISO:c})=>{const[f,d]=S.useState("Noise"),[h,p]=S.useState(!0),[m,v]=S.useState(null),[b,y]=S.useState("default"),[g,x]=S.useState(!1),[j,k]=S.useState(!1),[w,N]=S.useState({R:!0,G1:!0,G2:!0,B:!0}),[_,O]=S.useState(""),[A,M]=S.useState(""),[C,$]=S.useState(""),[F,T]=S.useState(""),[W,P]=S.useState("10"),[E,L]=S.useState(""),[z,Z]=S.useState("0 0 0 0"),[q,H]=S.useState("0 0 0 0"),[se,ee]=S.useState(!1),[D,ne]=S.useState(null),[he,X]=S.useState(!1),[ue,pe]=S.useState(0),[G,oe]=S.useState([]),[ie,we]=S.useState(""),[ze,Re]=S.useState(""),_t=()=>{const B=parseFloat(ie),Q=parseFloat(ze);!isNaN(B)&&!isNaN(Q)&&(oe([...G,{id:Date.now(),x:B,y:Q}]),we(""),Re(""))},[gt,De]=S.useState(()=>localStorage.getItem("ptc_tester_name")||""),[He,mt]=S.useState(""),[Rt,Gt]=S.useState("");S.useEffect(()=>{localStorage.setItem("ptc_tester_name",gt)},[gt]);const Or=S.useRef(se),Pr=S.useRef(he),cr=S.useRef(ue);S.useEffect(()=>{Or.current=se,Pr.current=he,cr.current=ue},[se,he,ue]);const[Qt,Hr]=S.useState(null),[Mt,Vr]=S.useState({min:.01,max:90}),[Je,Ge]=S.useState({readNoise:0,gain:1,prnu:.5}),[ct,Lt]=S.useState(2e6),ur=S.useRef(Je),Xr=S.useRef(Mt),An=S.useRef(ct);S.useEffect(()=>{ur.current=Je,Xr.current=Mt,An.current=ct},[Je,Mt,ct]);const[Ht,Vt]=S.useState({read:"0",gain:"1.0",prnu:"0.5",rangeMin:"0.01",rangeMax:"90"}),[Ye,fr]=S.useState({read:!0,shot:!0,prnu:!0,total:!0,fitRange:!0}),[dr,vn]=S.useState(!1),[Ar,Hn]=S.useState([]),[Mn,ra]=S.useState(null),[rn,Cn]=S.useState(""),Kr=S.useMemo(()=>n?n.join(","):"",[n]);S.useEffect(()=>{if(e){let B="0 0 0 0";i&&i.blackLevel?B=i.blackLevel.join(" "):B=n&&n.length===4?n.join(" "):"0 0 0 0",Z(B),H(B);let Q="";if(i&&i.height?Q=i.height.toString():a&&(Q=a.toString()),L(Q),Q){const te=parseFloat(Q);!isNaN(te)&&te>0?P((2309.4/te).toFixed(2)):P("10")}else P("10");ne(null),ee(!1),X(!1),pe(0),Hn([]),ra(null),Vr({min:.01,max:90}),Vt({read:"0",gain:"0",prnu:"0",rangeMin:"0.01",rangeMax:"90"}),Ge({readNoise:0,gain:0,prnu:0}),O(""),M(""),$(""),T(""),d("Noise"),Hr(null),Lt(2e6),Cn(""),k(!1),oe([]),mt(te=>te.trim()===""&&l?l:te),Gt(te=>te.trim()===""&&c?c:te)}},[e,Kr,i,a,r,l,c]);const ba=B=>{if(B.key==="Enter"){const Q=parseFloat(E);if(!isNaN(Q)&&Q>0){const te=(2309.4/Q).toFixed(2);P(te)}B.target.blur()}},rr=S.useMemo(()=>{let Q=q.trim().split(/[\s,]+/).filter(Boolean).map(Number);for(Q.length===1&&(Q=[Q[0],Q[0],Q[0],Q[0]]);Q.length<4;)Q.push(0);const te=I=>{switch(I){case"R":return Q[0];case"G1":return Q[1];case"G2":return Q[2];case"B":return Q[3];default:return 0}};return r.map(I=>{const fe=I.mean-te(I.channel),_e=I.std>0?fe/I.std:0;return{...I,x:fe,std:I.std,snr:_e}}).filter(I=>I.std>0)},[r,q]),Ot=S.useMemo(()=>{const B=Je.readNoise,Q=B*B;return rr.map(te=>{let I=0;if(f==="Noise")I=te.std;else if(f==="SNR")I=te.snr;else if(f==="Linear"){const _e=te.std*te.std-Q;I=te.x!==0?_e/te.x:0}return{...te,y:I}})},[rr,f,Je.readNoise]),Ct=S.useMemo(()=>{if(rr.length===0)return"G1";const B={R:0,G1:0,G2:0,B:0},Q={R:0,G1:0,G2:0,B:0};for(const fe of rr)B[fe.channel]+=fe.x,Q[fe.channel]++;let te="G1",I=-1/0;return Object.keys(B).forEach(fe=>{const _e=Q[fe],Ce=_e>0?B[fe]/_e:-1/0;Ce>I&&(I=Ce,te=fe)}),te},[rr]),ae=S.useCallback(()=>{let B=1/0,Q=-1/0;if(rr.length===0)return{min:.1,max:1};for(let te=0;te<rr.length;te++){const I=rr[te].x;h&&I<=0||(I<B&&(B=I),I>Q&&(Q=I))}return B===1/0?{min:.1,max:1}:{min:B,max:Q}},[rr,h]),Pe=S.useCallback(()=>{let B=1/0,Q=-1/0;if(Ot.length===0)return{min:.1,max:1};for(let te=0;te<Ot.length;te++){const I=Ot[te].y;h&&I<=0||(I<B&&(B=I),I>Q&&(Q=I))}return B===1/0?{min:.1,max:1}:{min:B*.9,max:Q*1.1}},[Ot,h]),{min:Le,max:Ze}=ae(),{min:Ve,max:Pt}=Pe(),hr=Ze*(Mt.min/100),nr=Ze*(Mt.max/100),Ae=S.useMemo(()=>{if(!h&&Ot.length===0)return{shot:[],read:[],prnu:[],total:[]};const B=_?parseFloat(_):Le,Q=A?parseFloat(A):Ze,te=100,I=Math.max(.1,B),fe=Math.max(1,Q);if(I>=fe)return{shot:[],read:[],prnu:[],total:[]};const _e=Math.log10(I),Xe=(Math.log10(fe)-_e)/te,Ke=Je.readNoise,Ue=Je.gain>0?Je.gain:1,st=Je.prnu/100,yt=[],Ft=[],ar=[],le=[];for(let qe=0;qe<=te;qe++){const Oe=Math.pow(10,_e+qe*Xe);if(f==="Linear"){const Tt=1/Ue,wt=st*st,sn=Tt+wt*Oe;le.push({x:Oe,y:sn}),yt.push({x:Oe,y:Tt}),ar.push({x:Oe,y:wt*Oe})}else{const Tt=Ke,wt=Math.sqrt(Oe/Ue),sn=st*Oe,ht=Math.sqrt(Tt*Tt+wt*wt+sn*sn);f==="Noise"?(yt.push({x:Oe,y:wt}),Ft.push({x:Oe,y:Tt}),ar.push({x:Oe,y:sn}),le.push({x:Oe,y:ht})):(wt>0&&yt.push({x:Oe,y:Oe/wt}),Tt>0&&Ft.push({x:Oe,y:Oe/Tt}),sn>0&&ar.push({x:Oe,y:Oe/sn}),ht>0&&le.push({x:Oe,y:Oe/ht}))}}return{shot:yt,read:Ft,prnu:ar,total:le}},[Ot,h,_,A,Je,f,Le,Ze]),Qe=S.useMemo(()=>{if(f==="Linear")return[];const B=parseFloat(W);if(isNaN(B)||B<=0)return[];const Q=_?parseFloat(_):Le,te=A?parseFloat(A):Ze;return f==="SNR"?[{x:Q,y:B},{x:te,y:B}]:[{x:Q,y:Q/B},{x:te,y:te/B}]},[Ot,W,f,_,A,Le,Ze]),ut=S.useCallback((B,Q)=>{if(!Q||Q.length===0)return null;const te=[...Q].sort((I,fe)=>I.x-fe.x);for(let I=0;I<te.length-1;I++){const fe=te[I],_e=te[I+1];if(fe.snr<=B&&_e.snr>=B||fe.snr>=B&&_e.snr<=B){const Ce=(B-fe.snr)/(_e.snr-fe.snr);return fe.x+Ce*(_e.x-fe.x)}}return null},[]),ft=S.useMemo(()=>{const B=rr,Q=1e3,te=fe=>{if(fe.length===0)return[];if(fe.length<=Q)return fe;const _e=[...fe].sort((Ke,Ue)=>Ke.x-Ue.x),Ce=[],Xe=_e.length/Q;for(let Ke=0;Ke<Q;Ke++){const Ue=Math.floor(Ke*Xe),st=Math.floor((Ke+1)*Xe),yt=_e.slice(Ue,st);if(yt.length===0)continue;yt.sort((ar,le)=>ar.std-le.std);const Ft=Math.floor(yt.length/2);Ce.push(yt[Ft])}return Ce},I={R:[],G1:[],G2:[],B:[]};return B.forEach(fe=>{I[fe.channel]&&I[fe.channel].push(fe)}),{R:te(I.R),G1:te(I.G1),G2:te(I.G2),B:te(I.B)}},[rr]),It=S.useMemo(()=>D&&Je.gain?D*Je.gain:null,[D,Je.gain]),me=S.useMemo(()=>{if(D===null||D===0)return null;const B=parseFloat(W);let Q=null;if(!isNaN(B)&&B>0){let Ce=0,Xe=0;if(["R","G1","G2","B"].forEach(Ke=>{const Ue=ut(B,ft[Ke]);Ue!==null&&(Ce+=Ue,Xe++)}),Xe>0){const Ke=Ce/Xe;Q=Math.log2(D/Ke)}}const te=parseFloat(E);let I=null,fe=NaN;if(!isNaN(te)&&te>0){fe=16e3/te;let Ce=0,Xe=0;if(["R","G1","G2","B"].forEach(Ke=>{const Ue=ut(fe,ft[Ke]);Ue!==null&&(Ce+=Ue,Xe++)}),Xe>0){const Ke=Ce/Xe;I=Math.log2(D/Ke)}}let _e=null;if(!isNaN(te)&&te>0){const Ce=ut(fe,ft[Ct]);Ce!==null&&(_e=Math.log2(D/Ce))}return{manualDR:Q,ptpDR:I,d55DR:_e,manualTarget:B,ptpTarget:fe,saturationSignal:D,dominantChannel:Ct}},[D,W,E,ft,ut,Ct]),Yr=S.useMemo(()=>{if(f==="Linear"||!me||!me.ptpTarget||isNaN(me.ptpTarget))return[];const B=me.ptpTarget,Q=_?parseFloat(_):Le,te=A?parseFloat(A):Ze;return f==="SNR"?[{x:Q,y:B},{x:te,y:B}]:[{x:Q,y:Q/B},{x:te,y:te/B}]},[f,me,_,A,Le,Ze]),ui=S.useCallback(()=>{const te=document.createElement("canvas");te.width=2048,te.height=1536;const I=te.getContext("2d");if(!I)return;const fe=s==="dark",_e=fe?"#0f172a":"#ffffff",Ce=fe?"#ffffff":"#000000",Xe=fe?"#475569":"#cbd5e1",Ke=fe?"#1e293b":"#f1f5f9",Ue=o?{R:"#ef4444",G1:"#22c55e",G2:"#4ade80",B:"#3b82f6"}:{R:"#ef4444",G1:"#22c55e",G2:"#4ade80",B:"#3b82f6"};I.fillStyle=_e,I.fillRect(0,0,2048,1536);let st=_?parseFloat(_):Le,yt=A?parseFloat(A):Ze,Ft=C?parseFloat(C):Ve,ar=F?parseFloat(F):Pt;isNaN(st)&&(st=.1),isNaN(yt)&&(yt=1e4),isNaN(Ft)&&(Ft=.1),isNaN(ar)&&(ar=1e3);const le={top:80,right:80,bottom:100,left:120},qe=2048-le.left-le.right,Oe=1536-le.top-le.bottom,Tt=ke=>{if(h){const ot=Math.log10(Math.max(1e-9,st)),tt=Math.log10(Math.max(1e-9,yt)),rt=Math.log10(Math.max(1e-9,ke));return le.left+(rt-ot)/(tt-ot)*qe}else return le.left+(ke-st)/(yt-st)*qe},wt=ke=>{if(h){const ot=Math.log10(Math.max(1e-9,Ft)),tt=Math.log10(Math.max(1e-9,ar)),rt=Math.log10(Math.max(1e-9,ke));return le.top+Oe-(rt-ot)/(tt-ot)*Oe}else return le.top+Oe-(ke-Ft)/(ar-Ft)*Oe};if(I.beginPath(),h){const ke=(ot,tt,rt)=>{const ln=Math.log10(Math.max(1e-9,ot)),$n=Math.log10(Math.max(1e-9,tt)),na=Math.floor(ln),eo=Math.ceil($n);for(let Po=na;Po<=eo;Po++){const ka=Math.pow(10,Po);let or=rt?Tt(ka):wt(ka);(rt?or>=le.left-1&&or<=le.left+qe+1:or>=le.top-1&&or<=le.top+Oe+1)&&(I.lineWidth=1.5,I.strokeStyle=Xe,I.beginPath(),rt?(I.moveTo(or,le.top),I.lineTo(or,le.top+Oe)):(I.moveTo(le.left,or),I.lineTo(le.left+qe,or)),I.stroke()),I.lineWidth=.5,I.strokeStyle=Ke;for(let Rl=2;Rl<10;Rl++){const Vu=Rl*ka;or=rt?Tt(Vu):wt(Vu),(rt?or>=le.left&&or<=le.left+qe:or>=le.top&&or<=le.top+Oe)&&(I.beginPath(),rt?(I.moveTo(or,le.top),I.lineTo(or,le.top+Oe)):(I.moveTo(le.left,or),I.lineTo(le.left+qe,or)),I.stroke())}}};ke(st,yt,!0),ke(Ft,ar,!1)}else{I.strokeStyle=Xe,I.lineWidth=1;for(let ke=0;ke<=5;ke++){const ot=le.left+qe*ke/5;I.beginPath(),I.moveTo(ot,le.top),I.lineTo(ot,le.top+Oe),I.stroke();const tt=le.top+Oe*ke/5;I.beginPath(),I.moveTo(le.left,tt),I.lineTo(le.left+qe,tt),I.stroke()}}I.strokeStyle=Ce,I.lineWidth=2,I.strokeRect(le.left,le.top,qe,Oe);const sn=(ke,ot,tt)=>{ke<le.left||ke>le.left+qe||ot<le.top||ot>le.top+Oe||(I.fillStyle=tt,I.fillRect(ke-1.5,ot-1.5,3,3))},ht=Ot.filter(ke=>!(h&&(ke.x<=0||ke.y<=0)));ht.forEach(ke=>{w[ke.channel]&&ke.channel!==Ct&&sn(Tt(ke.x),wt(ke.y),Ue[ke.channel])}),ht.forEach(ke=>{w[ke.channel]&&ke.channel===Ct&&sn(Tt(ke.x),wt(ke.y),Ue[ke.channel])}),G.forEach(ke=>{const ot=Tt(ke.x),tt=wt(ke.y);if(ot<le.left||ot>le.left+qe||tt<le.top||tt>le.top+Oe)return;I.strokeStyle="#d946ef",I.lineWidth=2.5;const rt=6;I.beginPath(),I.moveTo(ot-rt,tt-rt),I.lineTo(ot+rt,tt+rt),I.moveTo(ot+rt,tt-rt),I.lineTo(ot-rt,tt+rt),I.stroke()});const Jt=(ke,ot,tt=[])=>{if(ke.length<2)return;I.beginPath(),I.strokeStyle=ot,I.lineWidth=3,I.setLineDash(tt);let rt=!1;for(const ln of ke){const $n=Tt(ln.x),na=wt(ln.y);if($n<le.left-100||$n>le.left+qe+100||na<le.top-100||na>le.top+Oe+100){rt=!1;continue}rt?I.lineTo($n,na):(I.moveTo($n,na),rt=!0)}I.stroke(),I.setLineDash([])},bn=fe?"#ffffff":"#000000";if(Ye.shot&&Jt(Ae.shot,"#94a3b8",[5,5]),Ye.read&&Jt(Ae.read,"#f43f5e",[3,3]),Ye.prnu&&Jt(Ae.prnu,"#f59e0b",[3,3]),Ye.total&&Jt(Ae.total,bn,[]),Qe.length===2){const ke="#6366f1";Jt(Qe,ke,[4,2]);const ot=Qe[1],tt=wt(ot.y);tt>=le.top&&tt<=le.top+Oe&&(I.fillStyle=ke,I.font="bold 20px sans-serif",I.textAlign="right",I.textBaseline="bottom",I.fillText(`M.Tgt=${W}`,le.left+qe-10,tt-8))}if(Yr.length===2&&(me!=null&&me.ptpTarget)){const ke="#10b981";Jt(Yr,ke,[4,4]);const ot=Yr[1],tt=wt(ot.y);if(tt>=le.top&&tt<=le.top+Oe){I.fillStyle=ke,I.font="bold 20px sans-serif",I.textAlign="right",I.textBaseline="bottom";const rt=me.ptpTarget.toFixed(1),ln=Qe.length===2?wt(Qe[1].y):-100,$n=Math.abs(tt-ln)<25?25:0;I.fillText(`PTP=${rt}`,le.left+qe-10,tt-8-$n)}}if(Ye.fitRange||he){const ke=(ot,tt)=>{const rt=Tt(ot);rt>=le.left&&rt<=le.left+qe&&(I.beginPath(),I.strokeStyle=tt,I.lineWidth=2,I.setLineDash([8,8]),I.moveTo(rt,le.top),I.lineTo(rt,le.top+Oe),I.stroke(),I.setLineDash([]))};ke(hr,"#22d3ee"),ke(nr,"#22d3ee")}if(D){const ke=Tt(D);ke>=le.left&&ke<=le.left+qe&&(I.strokeStyle="#ef4444",I.lineWidth=3,I.setLineDash([10,10]),I.beginPath(),I.moveTo(ke,le.top),I.lineTo(ke,le.top+Oe),I.stroke(),I.setLineDash([]),I.fillStyle="#ef4444",I.font="bold 24px sans-serif",I.textAlign="center",I.fillText("Sat",ke,le.top-10))}I.fillStyle=Ce,I.font="28px monospace",I.textAlign="center",I.fillText(st.toExponential(1),le.left,le.top+Oe+40),I.fillText(yt.toExponential(1),le.left+qe,le.top+Oe+40),I.fillText("Signal (DN)",le.left+qe/2,le.top+Oe+80),I.textAlign="right",I.textBaseline="middle",I.fillText(Ft.toExponential(1),le.left-20,le.top+Oe),I.fillText(ar.toExponential(1),le.left-20,le.top),I.save(),I.translate(le.left-80,le.top+Oe/2),I.rotate(-Math.PI/2),I.textAlign="center",I.fillText(f==="Linear"?"(Var - RN) / Mean":f,0,0),I.restore(),I.save(),I.translate(2048/2,1536/2),I.rotate(-Math.PI/6),I.textAlign="center",I.textBaseline="middle",I.fillStyle=fe?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)",I.font="bold 150px sans-serif",I.fillText(" y-g-jiang.github.io",0,0),I.restore(),I.fillStyle=Ce,I.font="bold 36px sans-serif",I.textAlign="left",I.textBaseline="top",I.fillText(`PTC Export: ${f} Mode`,le.left,20),I.font="24px sans-serif",I.fillStyle=fe?"#94a3b8":"#64748b",I.fillText(`Points: ${Ot.length} | Sat Channel: ${Ct}`,le.left,65);const Ja=le.left+30,$l=le.top+30,k0=70,zu=ke=>{if(!D||ke<=0)return"--";const ot=Je.readNoise,tt=Je.gain,rt=Je.prnu/100;if(tt<=0)return"--";const ln=ke*ke,$n=ot*ot,na=1-ln*rt*rt,eo=-(ln/tt),Po=-(ln*$n);let ka=0;if(Math.abs(na)<1e-8)Math.abs(eo)>1e-8&&(ka=-Po/eo);else{const or=eo*eo-4*na*Po;or>=0&&(ka=(-eo+Math.sqrt(or))/(2*na))}return ka>0?Math.log2(D/ka).toFixed(2)+" EV":"--"},j0=me!=null&&me.ptpTarget&&!isNaN(me.ptpTarget)?zu(me.ptpTarget):"--",Uu=W?zu(parseFloat(W)):"--";I.font="bold 48px monospace",I.textAlign="left",I.textBaseline="top",I.shadowColor=fe?"rgba(0,0,0,0.8)":"rgba(255,255,255,0.8)",I.shadowBlur=4,I.shadowOffsetX=1,I.shadowOffsetY=1;const Tn=(ke,ot,tt,rt)=>{const ln=$l+tt*k0;I.fillStyle=Ce,I.fillText(ke,Ja,ln);const $n=I.measureText(ke).width;I.fillStyle=rt||Ce,I.fillText(ot,Ja+$n,ln)},S0=Ht.read,rs=parseFloat(Ht.gain).toFixed(3),N0=parseFloat(Ht.prnu).toFixed(2)+"%";let Wu=`M.DR@SNR${W}: `;const Dl=parseFloat(E);if(!isNaN(Dl)&&Dl>0){const ke=(2309.4/Dl).toFixed(2);Math.abs(parseFloat(W)-parseFloat(ke))<.05&&(Wu="8mpSNR=1 DR: ")}Tn("Tester: ",gt||"N/A",0),Tn("Model : ",He||"Unknown",1),Tn("ISO   : ",Rt||"N/A",2),Tn("RN/FPN: ",S0,3,"#f43f5e"),Tn("KADC  : ",rs,4,"#06b6d4"),Tn("PRNU  : ",N0,5,"#f59e0b"),Tn("PTP DR: ",me!=null&&me.ptpDR?me.ptpDR.toFixed(2)+" EV":"--",6,"#10b981"),Tn("D55 DR: ",me!=null&&me.d55DR?me.d55DR.toFixed(2)+" EV":"--",7,"#8b5cf6"),Tn("FWC   : ",It?It>1e4?(It/1e3).toFixed(1)+"k":Math.round(It).toString():"--",8,"#f97316"),Tn(Wu,me!=null&&me.manualDR?me.manualDR.toFixed(2)+" EV":"--",9,"#06b6d4"),Tn("PTCFitDR(PTP): ",j0,10,"#10b981"),Tn("PTCFitDR(Man): ",Uu,11,"#06b6d4"),I.save(),I.textAlign="right",I.textBaseline="bottom",I.fillStyle="#3b82f6",I.font="bold 80px sans-serif",I.shadowColor=fe?"rgba(0,0,0,0.8)":"rgba(255,255,255,0.8)",I.shadowBlur=4,I.shadowOffsetX=2,I.shadowOffsetY=2;const Gu=1988,di=1476,Hu=90;I.fillText("Online",Gu,di),I.fillText("Jiangtherapee",Gu,di-Hu),I.restore();const ns=document.createElement("a");ns.download=`ptc_complete_${f}_${Date.now()}.jpg`,ns.href=te.toDataURL("image/jpeg",.9),ns.click()},[Ot,Ct,w,_,A,C,F,Le,Ze,Ve,Pt,h,s,f,D,o,Ye,Ae,hr,nr,Mt,he,gt,He,Rt,me,It,W,Qe,Yr,Ht,E,G]),nn=S.useMemo(()=>{let B=Ot;if(h&&(B=B.filter(fe=>fe.y>0&&fe.x>0)),b==="top3"){const fe=[...B].sort((Ce,Xe)=>Xe.x-Ce.x),_e=Math.max(50,Math.ceil(fe.length*.03));B=fe.slice(0,_e)}const Q={R:[],G1:[],G2:[],B:[]};if(B.forEach(fe=>{Q[fe.channel]&&Q[fe.channel].push(fe)}),b==="raw")return Q;const te=b==="top3"?500:QQ,I=fe=>{if(fe.length<=te)return fe;const _e=[...fe].sort((Ke,Ue)=>Ke.x-Ue.x),Ce=[],Xe=_e.length/te;for(let Ke=0;Ke<te;Ke++){const Ue=Math.floor(Ke*Xe),st=Math.floor((Ke+1)*Xe),yt=_e.slice(Ue,st);if(yt.length===0)continue;yt.sort((ar,le)=>ar.y-le.y);const Ft=Math.floor(yt.length/2);Ce.push(yt[Ft])}return Ce};return{R:I(Q.R),G1:I(Q.G1),G2:I(Q.G2),B:I(Q.B)}},[Ot,b,h]),K=S.useMemo(()=>{if(rr.length<5)return[];const B=rr.filter(te=>te.channel===Ct);return[...B.length>20?B:rr].sort((te,I)=>te.x-I.x).map(te=>({mean:te.x,std:te.std}))},[rr,Ct]),Se=B=>{const Q=B.length;if(Q===0)return[];const te=B.reduce((qe,Oe)=>qe+Oe,0)/Q,I=B.reduce((qe,Oe)=>qe+Math.pow(Oe-te,2),0)/(Q-1||1),fe=Math.sqrt(I);if(fe===0)return[{x:te-.001,density:0},{x:te,density:1},{x:te+.001,density:0}];const _e=1.06*fe*Math.pow(Q,-.2),Ce=Math.min(...B),Xe=Math.max(...B),Ke=(Xe-Ce)*.2||Ce*.1,Ue=Math.max(0,Ce-Ke),st=Xe+Ke,yt=100,Ft=(st-Ue)/(yt-1),ar=qe=>1/Math.sqrt(2*Math.PI)*Math.exp(-.5*qe*qe),le=[];for(let qe=0;qe<yt;qe++){const Oe=Ue+qe*Ft;let Tt=0;for(let wt=0;wt<Q;wt++)Tt+=ar((Oe-B[wt])/_e);Tt/=Q*_e,le.push({x:Oe,density:Tt})}return le},pr=S.useCallback((B,Q,te,I)=>{if(B.length<5)return{gain:0,prnu:0};const fe=B[B.length-1].mean,_e=fe*(te.min/100),Ce=fe*(te.max/100),Xe=B.filter(ht=>ht.mean>=_e&&ht.mean<=Ce);if(Xe.length<5)return{gain:0,prnu:0};Hr({nPoints:Xe.length});const Ke=Q*Q,Ue=[],st=[];if(Xe.forEach(ht=>{const bn=ht.std*ht.std-Ke;if(ht.mean>1&&bn>0){const Ja=ht.mean,$l=bn/ht.mean;Ue.push({x:Ja,y:$l}),st.push(ht.mean/bn)}}),Ue.length<5)return{gain:0,prnu:0};const yt=[],Ft=Ue.length,ar=I,le=Ft*(Ft-1)/2;if(le<=ar)for(let ht=0;ht<Ft;ht++)for(let Jt=ht+1;Jt<Ft;Jt++){const bn=Ue[Jt].x-Ue[ht].x;Math.abs(bn)>1e-5&&yt.push((Ue[Jt].y-Ue[ht].y)/bn)}else{const ht=Math.max(1,Math.floor(le/ar));for(let Jt=0;Jt<Ft;Jt++)for(let bn=Jt+1;bn<Ft;bn+=ht){const Ja=Ue[bn].x-Ue[Jt].x;Math.abs(Ja)>1e-5&&yt.push((Ue[bn].y-Ue[Jt].y)/Ja)}}const qe=Ap(yt),Oe=Ue.map(ht=>ht.y-qe*ht.x),Tt=Ap(Oe);let wt=0,sn=0;if(Tt>1e-6?wt=1/Tt:wt=Ap(st),qe>0&&(sn=Math.sqrt(qe)*100),st.length>0){const ht=Se(st);Hn(ht),ra(wt)}else Hn([]);return{gain:wt,prnu:sn}},[]),Et=S.useCallback(B=>{let Q=B.read??ur.current.readNoise;const te=B.gRange??Xr.current,I=An.current;if((B.read!==void 0||B.gRange!==void 0)&&B.gain===void 0&&B.prnu===void 0&&K.length>0&&Q>=0)k(!0),setTimeout(()=>{const _e=pr(K,Q,te,I);let Ce=ur.current.gain,Xe=ur.current.prnu;_e.gain>0&&(Ce=_e.gain,Xe=_e.prnu),Ge({readNoise:Q,gain:Ce,prnu:Xe}),B.gRange!==void 0&&Vr(B.gRange),Vt(Ke=>{var Ue,st;return{...Ke,read:Q.toString(),gain:Ce>0?Ce.toFixed(3):"0",prnu:Xe.toFixed(2),rangeMin:(((Ue=B.gRange)==null?void 0:Ue.min)??Ke.rangeMin).toString(),rangeMax:(((st=B.gRange)==null?void 0:st.max)??Ke.rangeMax).toString()}}),k(!1)},50);else{let _e=B.gain!==void 0?B.gain:ur.current.gain,Ce=B.prnu!==void 0?B.prnu:ur.current.prnu;Ge({readNoise:Q,gain:_e,prnu:Ce}),B.gRange!==void 0&&Vr(B.gRange),Vt(Xe=>{var Ke,Ue;return{...Xe,read:Q.toString(),gain:_e>0?_e.toFixed(3):"0",prnu:Ce.toFixed(2),rangeMin:(((Ke=B.gRange)==null?void 0:Ke.min)??Xe.rangeMin).toString(),rangeMax:(((Ue=B.gRange)==null?void 0:Ue.max)??Xe.rangeMax).toString()}})}},[K,pr]),an=`${q}-${r.length}`;S.useEffect(()=>{if(!e||!r||r.length===0)return;const B=nn[Ct];if(!B||B.length===0||rn===an)return;N({R:Ct==="R",G1:Ct==="G1",G2:Ct==="G2",B:Ct==="B"});const Q=[...B].sort((_e,Ce)=>_e.x-Ce.x);let te=0;Q.length>0&&(te=Q[0].std);const I=rr.filter(_e=>_e.channel===Ct);let fe=-1/0;for(const _e of I)_e.x>fe&&(fe=_e.x);fe!==-1/0&&ne(fe),Et({read:te}),Cn(an)},[e,r,rn,an,nn,Ct,Et,rr]);const Bt=(B,Q)=>{Vt(te=>({...te,[B]:Q}))},on=B=>{let Q=parseFloat(Ht[B]);isNaN(Q)||Q<0||Et({[B]:Q})},En=()=>{H(z),Cn("")},_o=()=>{const B=parseFloat(Ht.rangeMin),Q=parseFloat(Ht.rangeMax);!isNaN(B)&&!isNaN(Q)&&B<Q&&B>=0&&Q<=100&&Et({gRange:{min:B,max:Q}})},xn=(B,Q)=>{B.key==="Enter"&&(Q==="rangeMin"||Q==="rangeMax"?_o():on(Q),B.target.blur())};S.useEffect(()=>{K.length>0&&Et({})},[ct,K]);const wa=B=>{N(Q=>({...Q,[B]:!Q[B]}))},Oo=()=>{y(B=>B==="top3"?"default":"top3")},wr=()=>{b==="raw"?y("default"):x(!0)},Cl=()=>{x(!1),y("raw")},Bu=(B,Q)=>{const te=parseFloat(B),I=parseFloat(Q);let fe=isNaN(te)?"auto":te,_e=isNaN(I)?"auto":I;return h&&typeof fe=="number"&&fe<=0&&(fe="auto"),[fe,_e]},Qa=B=>{if(!B||!B.payload)return;const Q=B.payload;if(v(Q),Or.current&&(ne(Q.x),ee(!1)),Pr.current){const te=Xr.current.min,I=Xr.current.max,{max:fe}=ae();if(fe<=0)return;const _e=Math.max(0,Math.min(100,Q.x/fe*100));if(cr.current===1){const Ce=Math.min(_e,I-.5);Et({gRange:{min:Ce,max:I}}),pe(2)}else if(cr.current===2){const Ce=Math.max(_e,te+.5);Et({gRange:{min:te,max:Ce}}),pe(0),X(!1)}}},bt=S.useCallback(B=>{const{cx:Q,cy:te,fill:I}=B;return u.jsx("circle",{cx:Q,cy:te,r:3,fill:I,stroke:"none",style:{cursor:"pointer"}})},[]),Fu=({active:B,payload:Q})=>{if(B&&Q&&Q.length){const te=Q[0].payload;return u.jsxs("div",{className:"bg-slate-800 text-white text-xs p-2 rounded border border-slate-600 shadow-xl opacity-90 font-mono z-50",children:[u.jsx("div",{className:"font-bold border-b border-slate-600 pb-1 mb-1",children:te.channel}),u.jsxs("div",{children:["Signal: ",te.x.toFixed(2)]}),u.jsxs("div",{children:[f,": ",te.y.toFixed(4)]}),te.row!==void 0&&te.col!==void 0&&!isNaN(te.row)&&!isNaN(te.col)&&u.jsxs("div",{className:"text-cyan-400 mt-0.5",children:["Loc: Row ",te.row,", Col ",te.col]}),te.filename&&u.jsx("div",{className:"text-gray-400 mt-1 max-w-[200px] truncate",title:te.filename,children:te.filename})]})}return null},et=B=>{d(B),B==="Linear"&&p(!1)};if(!e)return null;const El=s==="dark"?"#ffffff":"#000000";let fi=f;f==="Linear"&&(fi="(Var - RN) / Mean");const Tl=z!==q;return u.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in",onClick:B=>{B.stopPropagation()},children:u.jsxs("div",{className:"bg-white dark:bg-slate-900 w-[98vw] max-w-[2200px] h-[95vh] rounded-2xl shadow-2xl flex flex-col border border-gray-200 dark:border-slate-700 overflow-hidden relative",onClick:B=>B.stopPropagation(),children:[u.jsx(Zo,{isOpen:g,onClose:()=>x(!1),onConfirm:Cl,title:"Warning: High Performance Cost",message:"Displaying all data points may cause the browser to freeze or become unresponsive, especially with large datasets. Are you sure you want to continue?",confirmText:"Yes, Show All"}),m&&u.jsxs("div",{className:"absolute top-20 right-8 z-30 bg-white/90 dark:bg-slate-800/90 border border-cyan-500 rounded-xl p-4 shadow-xl backdrop-blur-md max-w-xs animate-in fade-in zoom-in-95 duration-200",children:[u.jsxs("div",{className:"flex justify-between items-start mb-2 border-b border-gray-200 dark:border-slate-700 pb-2",children:[u.jsx("h4",{className:"font-bold text-gray-900 dark:text-white text-sm",children:"Selected Point"}),u.jsx("button",{onClick:()=>v(null),className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsx("div",{className:"space-y-1 text-xs font-mono text-gray-700 dark:text-slate-300",children:u.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1.5",children:[u.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"Channel:"}),u.jsx("span",{className:"font-bold",children:m.channel}),u.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"Signal (DN):"}),u.jsx("span",{children:m.x.toFixed(4)}),u.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"Noise (Std):"}),u.jsx("span",{children:m.std.toFixed(4)}),u.jsx("span",{className:"text-gray-500 dark:text-slate-500",children:"SNR:"}),u.jsx("span",{className:"text-purple-600 dark:text-purple-400 font-bold",children:(m.x/m.std).toFixed(2)})]})})]}),dr&&u.jsx("div",{className:"absolute inset-0 z-40 bg-white/95 dark:bg-slate-900/95 backdrop-blur-sm flex flex-col items-center justify-center p-8 animate-in fade-in zoom-in-95 duration-200",children:u.jsxs("div",{className:"w-full max-w-2xl h-[60vh] bg-gray-50 dark:bg-slate-800 rounded-xl border border-gray-200 dark:border-slate-700 shadow-2xl p-4 flex flex-col relative",children:[u.jsx("button",{onClick:()=>vn(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-red-500 transition-colors",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),u.jsxs("div",{className:"mb-4 text-center",children:[u.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-slate-200",children:"Gain Density Estimation"}),u.jsxs("p",{className:"text-xs text-gray-500 dark:text-slate-400",children:["HSM Mode: ",u.jsx("span",{className:"text-cyan-600 dark:text-cyan-400 font-bold",children:Mn==null?void 0:Mn.toFixed(4)}),u.jsx("span",{className:"mx-2",children:"|"}),"Data Points: ",Ar.length>0?"Density Curve Generated":"No Data"]})]}),u.jsx("div",{className:"flex-1 min-h-0",children:Ar.length>0?u.jsx(ho,{width:"100%",height:"100%",children:u.jsxs(uP,{data:Ar,margin:{top:10,right:30,left:0,bottom:20},children:[u.jsx(Ka,{strokeDasharray:"3 3",stroke:"#374151",opacity:.3,vertical:!1}),u.jsx(Un,{dataKey:"x",tickFormatter:B=>B.toFixed(2),tick:{fill:"#9ca3af",fontSize:10},label:{value:"Gain (e/ADU)",position:"insideBottom",offset:-15,fill:"#9ca3af",fontSize:12}}),u.jsx(Wn,{tick:{fill:"#9ca3af",fontSize:10}}),u.jsx(Ur,{cursor:{stroke:"rgba(255,255,255,0.2)"},contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"0.5rem",color:"#f3f4f6"}}),u.jsx(da,{type:"monotone",dataKey:"density",stroke:"#0ea5e9",fill:"#0ea5e9",fillOpacity:.3,strokeWidth:2}),Mn!==null&&u.jsx(Ai,{x:Mn,stroke:"#ef4444",strokeWidth:2,label:{value:"HSM",fill:"#ef4444",fontSize:10,position:"top"}})]})}):u.jsx("div",{className:"flex items-center justify-center h-full text-gray-400",children:"No data in selected range"})})]})}),u.jsxs("div",{className:"flex flex-wrap justify-between items-center p-3 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50 gap-4 flex-shrink-0",children:[u.jsxs("h2",{className:"text-lg font-bold text-gray-900 dark:text-slate-100 flex items-center gap-2",children:["Photon Transfer Curve",u.jsxs("span",{className:"text-xs font-normal bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-300 px-2 py-0.5 rounded border border-purple-200 dark:border-purple-800",children:[r.length," Pts"]})]}),u.jsxs("div",{className:"flex gap-4 items-center flex-wrap",children:[u.jsxs("button",{onClick:ui,className:"bg-green-600 hover:bg-green-500 text-white font-bold py-1 px-3 rounded text-xs shadow-md transition-all active:scale-95 flex items-center gap-1",title:"Render all points, target lines, and metadata to a high-res JPG",children:[u.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Export Complete Result"]}),u.jsxs("div",{className:"flex bg-white dark:bg-slate-700 rounded-lg p-1 border border-gray-200 dark:border-slate-600",children:[u.jsx("button",{onClick:()=>et("Noise"),className:`px-3 py-1 text-xs font-bold rounded transition-colors ${f==="Noise"?"bg-cyan-600 text-white shadow":"text-gray-600 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-600"}`,children:"Noise ()"}),u.jsx("button",{onClick:()=>et("SNR"),className:`px-3 py-1 text-xs font-bold rounded transition-colors ${f==="SNR"?"bg-purple-600 text-white shadow":"text-gray-600 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-600"}`,children:"SNR"}),u.jsx("button",{onClick:()=>et("Linear"),className:`px-3 py-1 text-xs font-bold rounded transition-colors ${f==="Linear"?"bg-indigo-600 text-white shadow":"text-gray-600 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-600"}`,children:"Linear (PTC)"})]}),u.jsxs("label",{className:"flex items-center gap-2 text-xs text-gray-600 dark:text-slate-300 cursor-pointer select-none",children:[u.jsx("input",{type:"checkbox",checked:h,onChange:B=>p(B.target.checked),className:"rounded border-gray-300 text-cyan-600 focus:ring-cyan-500 bg-gray-100 dark:bg-slate-700 dark:border-slate-600"}),"Log-Log"]}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 transition-colors p-1",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-0 border-b border-gray-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-sm flex-shrink-0",children:[u.jsxs("div",{className:"lg:col-span-9 p-5 flex flex-col gap-5 border-r border-gray-200 dark:border-slate-700",children:[u.jsxs("div",{className:"flex flex-wrap gap-4 items-center justify-between text-xs",children:[u.jsxs("div",{className:"flex gap-4 items-center",children:[u.jsxs("div",{className:"flex items-center gap-1.5 bg-gray-50 dark:bg-slate-800 rounded-md p-1 border border-gray-200 dark:border-slate-700",children:[u.jsx("span",{className:"font-bold text-gray-500 dark:text-slate-400 pl-1",children:"X:"}),u.jsx("input",{type:"number",placeholder:"Min",value:_,onChange:B=>O(B.target.value),className:"w-12 px-1 py-0.5 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center outline-none"}),u.jsx("span",{className:"text-gray-400",children:"-"}),u.jsx("input",{type:"number",placeholder:"Max",value:A,onChange:B=>M(B.target.value),className:"w-12 px-1 py-0.5 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center outline-none"})]}),u.jsxs("div",{className:"flex items-center gap-1.5 bg-gray-50 dark:bg-slate-800 rounded-md p-1 border border-gray-200 dark:border-slate-700",children:[u.jsx("span",{className:"font-bold text-gray-500 dark:text-slate-400 pl-1",children:"Y:"}),u.jsx("input",{type:"number",placeholder:"Min",value:C,onChange:B=>$(B.target.value),className:"w-12 px-1 py-0.5 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center outline-none"}),u.jsx("span",{className:"text-gray-400",children:"-"}),u.jsx("input",{type:"number",placeholder:"Max",value:F,onChange:B=>T(B.target.value),className:"w-12 px-1 py-0.5 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded text-center outline-none"})]}),u.jsx("button",{onClick:()=>{O(""),M(""),$(""),T("")},className:"text-xs text-cyan-600 dark:text-cyan-400 hover:underline",children:"Auto"})]}),u.jsxs("div",{className:"flex items-center gap-1 bg-white dark:bg-slate-700 p-1 rounded-lg border border-gray-200 dark:border-slate-600",children:[u.jsx("button",{onClick:()=>wa("R"),className:`w-6 h-6 text-[10px] font-bold rounded flex items-center justify-center transition-colors ${w.R?"bg-red-500 text-white":"bg-gray-100 dark:bg-slate-600 text-gray-400"}`,children:"R"}),u.jsx("button",{onClick:()=>wa("G1"),className:`w-6 h-6 text-[10px] font-bold rounded flex items-center justify-center transition-colors ${w.G1?"bg-green-500 text-white":"bg-gray-100 dark:bg-slate-600 text-gray-400"}`,children:"G1"}),u.jsx("button",{onClick:()=>wa("G2"),className:`w-6 h-6 text-[10px] font-bold rounded flex items-center justify-center transition-colors ${w.G2?"bg-green-400 text-white":"bg-gray-100 dark:bg-slate-600 text-gray-400"}`,children:"G2"}),u.jsx("button",{onClick:()=>wa("B"),className:`w-6 h-6 text-[10px] font-bold rounded flex items-center justify-center transition-colors ${w.B?"bg-blue-500 text-white":"bg-gray-100 dark:bg-slate-600 text-gray-400"}`,children:"B"})]})]}),u.jsxs("div",{className:"flex flex-wrap items-end gap-8",children:[u.jsxs("div",{className:"flex flex-col bg-gray-50 dark:bg-slate-800/50 p-2 rounded border border-gray-100 dark:border-slate-700",children:[u.jsx("span",{className:"text-[9px] uppercase font-bold text-gray-500 dark:text-slate-400 mb-1",children:"Black Level (0,0 0,1 1,0 1,1)"}),u.jsx("input",{type:"text",value:z,onChange:B=>Z(B.target.value),className:"w-32 text-xs px-2 py-1 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded outline-none focus:border-cyan-500 font-mono",placeholder:"0 0 0 0"})]}),u.jsxs("div",{className:"flex flex-col justify-between bg-gray-50 dark:bg-slate-800/50 p-2 rounded border border-gray-100 dark:border-slate-700",children:[u.jsxs("div",{className:"flex justify-between items-center mb-1",children:[u.jsx("span",{className:"text-[9px] uppercase font-bold text-gray-500 dark:text-slate-400 mr-2",children:"Fit Range % (Robust)"}),u.jsx("button",{onClick:()=>{X(!he),pe(he?0:1)},className:`px-1.5 py-0.5 text-[9px] rounded border transition-colors ${he?"bg-cyan-100 text-cyan-700 border-cyan-300 animate-pulse":"bg-white dark:bg-slate-700 border-gray-300 dark:border-slate-600 text-gray-600 dark:text-slate-300 hover:bg-gray-50"}`,children:he?ue===1?"Pick Min":"Pick Max":"Select"})]}),u.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[u.jsx("input",{type:"number",step:"0.1",value:Ht.rangeMin,onChange:B=>Bt("rangeMin",B.target.value),onBlur:_o,onKeyDown:B=>xn(B,"rangeMin"),className:"w-10 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-1 py-0.5 text-center font-bold"}),u.jsx("span",{className:"text-gray-400",children:"-"}),u.jsx("input",{type:"number",step:"0.1",value:Ht.rangeMax,onChange:B=>Bt("rangeMax",B.target.value),onBlur:_o,onKeyDown:B=>xn(B,"rangeMax"),className:"w-10 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-1 py-0.5 text-center font-bold"})]})]}),u.jsxs("div",{className:"flex flex-col bg-indigo-50 dark:bg-indigo-900/20 p-2 rounded border border-indigo-100 dark:border-indigo-800/50",children:[u.jsx("span",{className:"text-[9px] uppercase font-bold text-indigo-600 dark:text-indigo-400 mb-1",children:"DR Params"}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("span",{className:"text-[10px] font-bold text-indigo-500 dark:text-indigo-300",children:"Img H:"}),u.jsx("input",{type:"number",value:E,onChange:B=>L(B.target.value),onKeyDown:ba,placeholder:"Empty",className:"w-14 px-1 py-0.5 bg-white dark:bg-slate-900 border border-indigo-200 dark:border-indigo-800 rounded text-center font-bold text-indigo-700 dark:text-indigo-300 text-xs placeholder:font-normal placeholder:text-gray-300"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("span",{className:"text-[10px] font-bold text-indigo-500 dark:text-indigo-300",children:"Tgt SNR:"}),u.jsx("input",{type:"number",value:W,onChange:B=>P(B.target.value),className:"w-10 px-1 py-0.5 bg-white dark:bg-slate-900 border border-indigo-200 dark:border-indigo-800 rounded text-center font-bold text-indigo-700 dark:text-indigo-300 text-xs"})]})]})]}),u.jsxs("div",{className:"flex flex-col gap-1 text-[10px] justify-end pb-0.5",children:[u.jsx("button",{onClick:()=>{ee(!se),D&&ne(null)},disabled:he,className:`font-bold rounded border shadow-sm transition-all px-3 py-1.5 ${se?"bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-400 border-amber-500 animate-pulse":"bg-white dark:bg-slate-800 text-gray-600 dark:text-slate-300 border-gray-300 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:se?"Pick Point":"Select Linear Limit"}),u.jsxs("div",{className:"flex gap-1",children:[u.jsx("button",{onClick:Oo,className:`flex-1 font-bold rounded border shadow-sm transition-all px-2 py-1 ${b==="top3"?"bg-indigo-600 text-white border-indigo-700":"bg-white dark:bg-slate-800 text-gray-600 dark:text-slate-300 border-gray-300 dark:border-slate-600 hover:bg-gray-50"}`,children:"Top 3%"}),u.jsx("button",{onClick:wr,className:`font-bold rounded border shadow-sm transition-all px-2 py-1 ${b==="raw"?"bg-red-600 text-white border-red-700":"text-red-500 border-red-200 hover:bg-red-50"}`,children:"All"})]})]})]}),u.jsxs("div",{className:"flex flex-wrap gap-4 items-center bg-gray-50/50 dark:bg-slate-800/20 p-2 rounded-lg border border-gray-100 dark:border-slate-800",children:[u.jsx("span",{className:"text-[10px] uppercase font-bold text-gray-400 dark:text-slate-500",children:"Metadata"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"text",value:gt,onChange:B=>De(B.target.value),placeholder:"Tester Name",className:"w-24 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-gray-700 dark:text-slate-300 outline-none focus:border-cyan-500 transition-colors"}),u.jsx("input",{type:"text",value:He,onChange:B=>mt(B.target.value),placeholder:"Camera Model",className:"w-32 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-gray-700 dark:text-slate-300 outline-none focus:border-cyan-500 transition-colors"}),u.jsx("input",{type:"text",value:Rt,onChange:B=>Gt(B.target.value),placeholder:"ISO",className:"w-16 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 text-gray-700 dark:text-slate-300 outline-none focus:border-cyan-500 transition-colors"})]})]}),u.jsxs("div",{className:"flex flex-wrap gap-4 items-center bg-fuchsia-50/50 dark:bg-fuchsia-900/10 p-2 rounded-lg border border-fuchsia-100 dark:border-fuchsia-900/30",children:[u.jsx("span",{className:"text-[10px] uppercase font-bold text-fuchsia-500 dark:text-fuchsia-400",children:"Markers"}),u.jsxs("div",{className:"flex gap-2 items-center",children:[u.jsx("input",{type:"number",value:ie,onChange:B=>we(B.target.value),placeholder:"X (Signal)",className:"w-20 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 outline-none focus:border-fuchsia-500 transition-colors"}),u.jsx("input",{type:"number",value:ze,onChange:B=>Re(B.target.value),placeholder:"Y (Value)",className:"w-20 text-xs bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded px-2 py-1 outline-none focus:border-fuchsia-500 transition-colors"}),u.jsx("button",{onClick:_t,className:"px-3 py-1 bg-fuchsia-600 hover:bg-fuchsia-500 text-white text-xs font-bold rounded shadow-sm transition-colors active:scale-95",children:"+"}),G.length>0&&u.jsx("button",{onClick:()=>oe([]),className:"px-2 py-1 bg-gray-200 dark:bg-slate-700 hover:bg-red-500 hover:text-white text-gray-600 dark:text-slate-300 text-xs font-bold rounded shadow-sm transition-colors active:scale-95",children:"Clr"})]}),u.jsxs("div",{className:"text-[10px] text-gray-400 dark:text-slate-500 font-mono",children:[G.length," pts"]})]}),u.jsxs("div",{className:"flex gap-4 text-[10px] pt-1 justify-center sm:justify-start flex-wrap",children:[u.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[u.jsx("input",{type:"checkbox",checked:Ye.shot,onChange:B=>fr({...Ye,shot:B.target.checked}),className:"rounded text-gray-500"})," ",u.jsx("span",{className:"text-gray-500",children:"Shot Noise"})]}),u.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[u.jsx("input",{type:"checkbox",checked:Ye.read,onChange:B=>fr({...Ye,read:B.target.checked}),className:"rounded text-rose-500"})," ",u.jsx("span",{className:"text-rose-500",children:"Read Noise"})]}),u.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[u.jsx("input",{type:"checkbox",checked:Ye.prnu,onChange:B=>fr({...Ye,prnu:B.target.checked}),className:"rounded text-amber-500"})," ",u.jsx("span",{className:"text-amber-500",children:"PRNU"})]}),u.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[u.jsx("input",{type:"checkbox",checked:Ye.total,onChange:B=>fr({...Ye,total:B.target.checked}),className:"rounded text-white"})," ",u.jsx("span",{className:"text-gray-900 dark:text-white font-bold",children:"Model"})]})]})]}),u.jsxs("div",{className:"lg:col-span-3 bg-slate-100 dark:bg-slate-800 p-4 flex flex-col justify-center gap-4",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between items-center mb-1 px-1",children:[u.jsxs("h3",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase flex items-center gap-2",children:["Fit Parameters (D55 SAT Channel:",Ct,")",j&&u.jsx("span",{className:"text-orange-500 animate-pulse text-[10px]",children:"Calculating..."})]}),u.jsxs("div",{className:"flex gap-2 items-center",children:[u.jsx("button",{onClick:En,disabled:j,className:`px-3 py-1 text-white text-[10px] font-bold rounded shadow-sm transition-all flex items-center gap-1 active:scale-95 
                                            ${j?"bg-gray-400 cursor-wait":Tl?"bg-orange-500 hover:bg-orange-600 animate-pulse ring-2 ring-orange-400/50":"bg-cyan-600 hover:bg-cyan-500"}
                                        `,title:"Apply Black Level, Auto-detect Read Noise, then Recalculate Fit",children:j?u.jsxs(u.Fragment,{children:[u.jsxs("svg",{className:"w-3 h-3 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Fitting..."]}):u.jsxs(u.Fragment,{children:[u.jsxs("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),"Apply & Calc"]})}),u.jsxs("select",{value:ct,onChange:B=>Lt(Number(B.target.value)),className:"text-[9px] bg-slate-200 dark:bg-slate-700 text-gray-600 dark:text-slate-300 rounded px-1 py-0.5 border-none outline-none cursor-pointer hover:bg-slate-300 dark:hover:bg-slate-600 transition-colors",title:"Number of point-pairs to sample for robust regression (Theil-Sen)",children:[u.jsx("option",{value:1e5,children:"100k Pairs"}),u.jsx("option",{value:5e5,children:"500k Pairs"}),u.jsx("option",{value:2e6,children:"2M Pairs"}),u.jsx("option",{value:5e6,children:"5M Pairs"}),u.jsx("option",{value:1e7,children:"10M Pairs"})]}),Qt&&u.jsxs("span",{className:"text-[10px] text-gray-400 dark:text-slate-500 font-mono",title:"Number of points used in regression",children:["N=",Qt.nPoints]})]})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("label",{className:"text-[10px] text-gray-500 dark:text-slate-400 uppercase tracking-wide mb-1",children:"rn/fpn"}),u.jsx("input",{type:"text",inputMode:"decimal",value:Ht.read,onChange:B=>Bt("read",B.target.value),onBlur:()=>on("read"),onKeyDown:B=>xn(B,"read"),className:"w-full text-center text-2xl font-light bg-transparent text-rose-500 outline-none border-b border-transparent focus:border-rose-500 transition-colors"})]}),u.jsxs("div",{className:"flex flex-col items-center relative group",children:[u.jsxs("label",{className:"text-[10px] text-gray-500 dark:text-slate-400 uppercase tracking-wide mb-1 flex items-center gap-1",children:["Kadc (HSM)",u.jsx("button",{onClick:()=>vn(!0),className:"text-[9px] text-cyan-600 dark:text-cyan-400 hover:underline",children:"Dist."})]}),u.jsx("input",{type:"text",inputMode:"decimal",value:Ht.gain,onChange:B=>Bt("gain",B.target.value),onBlur:()=>on("gain"),onKeyDown:B=>xn(B,"gain"),className:"w-full text-center text-2xl font-light bg-transparent text-slate-700 dark:text-slate-200 outline-none border-b border-transparent focus:border-cyan-500 transition-colors"})]}),u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("label",{className:"text-[10px] text-gray-500 dark:text-slate-400 uppercase tracking-wide mb-1",children:"PRNU (%)"}),u.jsx("input",{type:"text",inputMode:"decimal",value:Ht.prnu,onChange:B=>Bt("prnu",B.target.value),onBlur:()=>on("prnu"),onKeyDown:B=>xn(B,"prnu"),className:"w-full text-center text-2xl font-light bg-transparent text-amber-500 outline-none border-b border-transparent focus:border-amber-500 transition-colors"})]})]})]}),u.jsx("div",{className:"h-px bg-gray-200 dark:bg-slate-700 w-full"}),u.jsxs("div",{className:"grid grid-cols-2 gap-2 text-center",children:[u.jsxs("div",{className:"flex flex-col justify-center bg-cyan-50 dark:bg-cyan-900/10 p-2 rounded-lg border border-cyan-100 dark:border-cyan-900/30",children:[u.jsxs("h4",{className:"text-[10px] font-bold text-cyan-600 dark:text-cyan-500 uppercase tracking-wide mb-1 truncate",title:`Manual DR at SNR=${(me==null?void 0:me.manualTarget)||W}`,children:["M.DR @ SNR=",(me==null?void 0:me.manualTarget)||W]}),u.jsx("div",{className:"text-base font-bold text-cyan-700 dark:text-cyan-400 whitespace-nowrap",children:me!=null&&me.manualDR?`${me.manualDR.toFixed(2)} EV`:"--"})]}),u.jsxs("div",{className:"flex flex-col justify-center bg-emerald-50 dark:bg-emerald-900/10 p-2 rounded-lg border border-emerald-100 dark:border-emerald-900/30",title:isNaN((me==null?void 0:me.ptpTarget)||NaN)?"Requires Image Height":`Standard Point-to-Point DR (Target SNR = 16000/${E||"H"})`,children:[u.jsx("h4",{className:"text-[10px] font-bold text-emerald-600 dark:text-emerald-500 uppercase tracking-wide mb-1",children:"PTP DR"}),u.jsx("div",{className:"text-base font-bold text-emerald-700 dark:text-emerald-400 whitespace-nowrap",children:me!=null&&me.ptpDR?`${me.ptpDR.toFixed(2)} EV`:"--"})]}),u.jsxs("div",{className:"flex flex-col justify-center bg-purple-50 dark:bg-purple-900/10 p-2 rounded-lg border border-purple-100 dark:border-purple-900/30",title:isNaN((me==null?void 0:me.ptpTarget)||NaN)?"Requires Image Height":`D55 Saturation DR (Target SNR = 16000/${E||"H"} on ${me==null?void 0:me.dominantChannel} Channel)`,children:[u.jsxs("h4",{className:"text-[10px] font-bold text-purple-600 dark:text-purple-400 uppercase tracking-wide mb-1 truncate",children:["D55 DR (",me==null?void 0:me.dominantChannel,")"]}),u.jsx("div",{className:"text-base font-bold text-purple-700 dark:text-purple-400 whitespace-nowrap",children:me!=null&&me.d55DR?`${me.d55DR.toFixed(2)} EV`:"--"})]}),u.jsxs("div",{className:"flex flex-col justify-center bg-orange-50 dark:bg-orange-900/10 p-2 rounded-lg border border-orange-100 dark:border-orange-900/30",children:[u.jsx("h4",{className:"text-[10px] font-bold text-orange-600 dark:text-orange-400 uppercase tracking-wide mb-1",children:"FWC"}),u.jsx("div",{className:"text-base font-bold text-orange-600 dark:text-orange-400 font-mono whitespace-nowrap truncate",title:It!==null?`${Math.round(It)}`:"",children:It!==null?It>1e4?`${(It/1e3).toFixed(1)}k`:`${Math.round(It)}`:"--"})]})]}),D===null&&u.jsx("div",{className:"text-center text-[10px] text-red-500 animate-pulse font-bold mt-[-10px]",children:"Please select Linear Limit on chart to calc DR"})]})]}),u.jsxs("div",{className:`flex-1 p-4 bg-white dark:bg-slate-900 relative grid grid-cols-[auto_1fr] grid-rows-[1fr_auto] gap-2 ${se||he?"cursor-crosshair":""}`,children:[u.jsx("div",{className:"row-start-1 col-start-1 h-full",children:u.jsx(hk,{vertical:!0,min:Ve,max:Pt,value:[C?parseFloat(C):Ve,F?parseFloat(F):Pt],onChange:([B,Q])=>{$(B.toString()),T(Q.toString())},logScale:h})}),u.jsxs("div",{className:"row-start-1 col-start-2 relative",children:[Ot.length===0?u.jsx("div",{className:"flex h-full items-center justify-center text-gray-400",children:"No valid data points found."}):u.jsx(ho,{width:"100%",height:"100%",children:u.jsxs(_Q,{margin:{top:20,right:20,bottom:0,left:0},onClick:Qa,children:[u.jsx("defs",{children:u.jsxs("filter",{id:"glow",height:"300%",width:"300%",x:"-100%",y:"-100%",children:[u.jsx("feGaussianBlur",{stdDeviation:"2",result:"coloredBlur"}),u.jsxs("feMerge",{children:[u.jsx("feMergeNode",{in:"coloredBlur"}),u.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),u.jsx(Ka,{strokeDasharray:"3 3",stroke:"#374151",opacity:.2}),u.jsx(Un,{type:"number",dataKey:"x",name:"Signal",scale:h?"log":"linear",domain:Bu(_,A),allowDataOverflow:!0,hide:!0}),u.jsx(Wn,{type:"number",dataKey:"y",name:f,scale:h?"log":"linear",domain:Bu(C,F),label:{value:fi,angle:-90,position:"insideLeft",fill:"#9ca3af",fontSize:12},tick:{fill:"#9ca3af",fontSize:10},allowDataOverflow:!0}),u.jsx(Ur,{content:u.jsx(Fu,{}),cursor:{strokeDasharray:"3 3"}}),D&&u.jsx(Ai,{x:D,stroke:"red",strokeDasharray:"3 3",label:{position:"top",value:"Sat",fill:"red",fontSize:10}}),(Ye.fitRange||he)&&u.jsxs(u.Fragment,{children:[u.jsx(Ai,{x:hr,stroke:"#22d3ee",strokeDasharray:"5 5",label:{position:"insideTopLeft",value:`Min: ${Mt.min}%`,fill:"#22d3ee",fontSize:9}}),u.jsx(Ai,{x:nr,stroke:"#22d3ee",strokeDasharray:"5 5",label:{position:"insideTopLeft",value:`Max: ${Mt.max}%`,fill:"#22d3ee",fontSize:9}})]}),w.R&&u.jsx(jn,{name:"Red",data:nn.R,fill:"#ef4444",shape:bt,onClick:Qa,style:s==="dark"?{filter:"url(#glow)"}:void 0},"scatter-R"),w.G1&&u.jsx(jn,{name:"Green 1",data:nn.G1,fill:"#22c55e",shape:bt,onClick:Qa,style:s==="dark"?{filter:"url(#glow)"}:void 0},"scatter-G1"),w.G2&&u.jsx(jn,{name:"Green 2",data:nn.G2,fill:"#4ade80",shape:bt,onClick:Qa,style:s==="dark"?{filter:"url(#glow)"}:void 0},"scatter-G2"),w.B&&u.jsx(jn,{name:"Blue",data:nn.B,fill:"#3b82f6",shape:bt,onClick:Qa,style:s==="dark"?{filter:"url(#glow)"}:void 0},"scatter-B"),Ye.shot&&Ae.shot.length>0&&u.jsx(jn,{name:"Shot Noise (Ideal)",data:Ae.shot,line:{stroke:"#94a3b8",strokeWidth:1,strokeDasharray:"5 5"},shape:()=>u.jsx(u.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-shot"),Ye.read&&Ae.read.length>0&&u.jsx(jn,{name:"Read Noise Floor",data:Ae.read,line:{stroke:"#f43f5e",strokeWidth:1,strokeDasharray:"3 3"},shape:()=>u.jsx(u.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-read"),Ye.prnu&&Ae.prnu.length>0&&u.jsx(jn,{name:"PRNU (Non-uniformity)",data:Ae.prnu,line:{stroke:"#f59e0b",strokeWidth:1,strokeDasharray:"3 3"},shape:()=>u.jsx(u.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-prnu"),Ye.total&&Ae.total.length>0&&u.jsx(jn,{name:"Total Noise Model",data:Ae.total,line:{stroke:El,strokeWidth:2},shape:()=>u.jsx(u.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-total"),Qe.length>0&&u.jsx(jn,{name:`Target SNR=${W}`,data:Qe,line:{stroke:"#6366f1",strokeWidth:2,strokeDasharray:"4 2"},shape:()=>u.jsx(u.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-target"),Yr.length>0&&u.jsx(jn,{name:`PTP Target SNR=${me!=null&&me.ptpTarget?me.ptpTarget.toFixed(1):"?"}`,data:Yr,line:{stroke:"#10b981",strokeWidth:2,strokeDasharray:"4 4"},shape:()=>u.jsx(u.Fragment,{}),legendType:"none",isAnimationActive:!1},"line-ptp"),G.length>0&&u.jsx(jn,{name:"Manual Markers",data:G,fill:"#d946ef",shape:"star",legendType:"star"},"manual-points")]})}),u.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 pointer-events-none select-none opacity-25 mix-blend-normal dark:mix-blend-plus-lighter",children:u.jsx("svg",{viewBox:"0 0 500 60",className:"w-96 h-auto",children:u.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"36",fontWeight:"bold",style:{fontFamily:"sans-serif",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})})]}),u.jsx("div",{className:"row-start-2 col-start-2 w-full",children:u.jsx(hk,{min:Le,max:Ze,value:[_?parseFloat(_):Le,A?parseFloat(A):Ze],onChange:([B,Q])=>{O(B.toString()),M(Q.toString())},logScale:h})})]})]})})},eJ=({searchTerm:e,onSearchChange:t,manufacturers:r,selectedManufacturer:n,onManufacturerChange:a,cameras:o,onCameraSelect:i})=>u.jsx("div",{className:"sticky top-4 z-10 bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm p-4 rounded-xl border border-gray-200 dark:border-slate-700 shadow-sm",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[u.jsxs("div",{className:"relative md:col-span-3",children:[u.jsx("input",{type:"text",placeholder:"Search camera model...",value:e,onChange:s=>t(s.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none transition-all duration-300 text-gray-900 dark:text-slate-200 placeholder-gray-500 dark:placeholder-slate-400"}),u.jsx("svg",{className:"w-5 h-5 text-gray-400 dark:text-slate-400 absolute top-1/2 left-3 transform -translate-y-1/2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),u.jsx("select",{value:n,onChange:s=>a(s.target.value),className:"w-full md:col-span-1 bg-gray-50 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg px-4 py-2 focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none transition-all duration-300 appearance-none text-gray-900 dark:text-slate-200",children:r.map(s=>u.jsx("option",{value:s,children:s},s))}),u.jsxs("select",{onChange:s=>i(s.target.value),className:"w-full md:col-span-1 bg-gray-50 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg px-4 py-2 focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none transition-all duration-300 appearance-none text-gray-900 dark:text-slate-200",value:"","aria-label":"Jump to camera model",children:[u.jsx("option",{value:"",disabled:!0,children:"Jump to model..."}),o.map(s=>u.jsx("option",{value:s.id,children:s.name},s.id))]})]})}),tJ=({active:e,payload:t,label:r,theme:n})=>{if(e&&t&&t.length){const a=t[0].payload,o=n==="dark"?"bg-slate-800/80 border-slate-600 text-slate-300":"bg-white/90 border-gray-200 text-gray-700";return u.jsxs("div",{className:`${o} backdrop-blur-sm border p-3 rounded-lg shadow-lg`,children:[u.jsx("p",{className:"label font-bold",children:`ISO ${r}`}),u.jsx("div",{className:"mt-2 space-y-1 text-sm",children:u.jsxs(u.Fragment,{children:[u.jsxs("div",{style:{color:"#f87171"},children:["Red: ",a.R_avg.toFixed(2)," (Range: ",a.R_range[0]," - ",a.R_range[1],")"]}),u.jsxs("div",{style:{color:"#4ade80"},children:["Green 1: ",a.G1_avg.toFixed(2)," (Range: ",a.G1_range[0]," - ",a.G1_range[1],")"]}),u.jsxs("div",{style:{color:"#60a5fa"},children:["Blue: ",a.B_avg.toFixed(2)," (Range: ",a.B_range[0]," - ",a.B_range[1],")"]}),u.jsxs("div",{style:{color:"#86efac"},children:["Green 2: ",a.G2_avg.toFixed(2)," (Range: ",a.G2_range[0]," - ",a.G2_range[1],")"]})]})})]})}return null},rJ=({data:e,theme:t="dark"})=>{const r=S.useMemo(()=>!e||e.length===0?[]:[...new Set(e.map(i=>i.iso))].sort((i,s)=>Number(i)-Number(s)),[e]),n=S.useMemo(()=>{if(!e||e.length===0)return[0,4096];const i=e.flatMap(m=>[...m.R_range,...m.G1_range,...m.G2_range,...m.B_range]);if(i.length===0)return[0,4096];let s=Math.min(...i),l=Math.max(...i);const c=.25,f=l-s;if(f<c){const m=c-f;s-=m/2,l+=m/2}const d=(l-s)*.1,h=s-d,p=l+d;return[h,p]},[e]),a=t==="dark"?"#475569":"#e5e7eb",o=t==="dark"?"#94a3b8":"#6b7280";return!e||e.length===0?u.jsx("div",{className:"flex items-center justify-center h-full text-gray-500 dark:text-slate-500",children:u.jsx("p",{children:"No data available for this mode."})}):u.jsx(ho,{width:"100%",height:"100%",children:u.jsxs(uP,{data:e,margin:{top:5,right:20,left:0,bottom:5},children:[u.jsx(Ka,{strokeDasharray:"3 3",stroke:a}),u.jsx(Un,{dataKey:"iso",type:"number",domain:["dataMin","dataMax"],tick:{fill:o,fontSize:12},scale:"log",allowDuplicatedCategory:!1,ticks:r}),u.jsx(Wn,{tick:{fill:o,fontSize:12},domain:n,allowDecimals:!0,tickFormatter:i=>Number(i).toFixed(3)}),u.jsx(Ur,{content:u.jsx(tJ,{theme:t})}),u.jsx(Ga,{wrapperStyle:{fontSize:"14px",color:o}}),u.jsx(da,{type:"monotone",dataKey:"R_range",fill:"#f87171",stroke:"none",fillOpacity:.2,name:"Red",legendType:"none"}),u.jsx(Nr,{type:"monotone",dataKey:"R_avg",stroke:"#f87171",strokeWidth:2,dot:!1,activeDot:{r:5},name:"Red"}),u.jsx(da,{type:"monotone",dataKey:"G1_range",fill:"#4ade80",stroke:"none",fillOpacity:.2,name:"Green 1",legendType:"none"}),u.jsx(Nr,{type:"monotone",dataKey:"G1_avg",stroke:"#4ade80",strokeWidth:2,dot:!1,activeDot:{r:5},name:"Green 1"}),u.jsx(da,{type:"monotone",dataKey:"B_range",fill:"#60a5fa",stroke:"none",fillOpacity:.2,name:"Blue",legendType:"none"}),u.jsx(Nr,{type:"monotone",dataKey:"B_avg",stroke:"#60a5fa",strokeWidth:2,dot:!1,activeDot:{r:5},name:"Blue"}),u.jsx(da,{type:"monotone",dataKey:"G2_range",fill:"#86efac",stroke:"none",fillOpacity:.2,name:"Green 2",legendType:"none"}),u.jsx(Nr,{type:"monotone",dataKey:"G2_avg",stroke:"#86efac",strokeWidth:2,dot:!1,activeDot:{r:5},name:"Green 2"})]})})},nJ=R.forwardRef(({camera:e,theme:t="dark"},r)=>{const n=S.useMemo(()=>e.shootingModes.map(d=>d.modeName),[e.shootingModes]),[a,o]=S.useState(n[0]||""),{chartData:i,tableData:s}=S.useMemo(()=>{const d=e.shootingModes.find(m=>m.modeName===a);if(!(d!=null&&d.data))return{chartData:[],tableData:[]};const h=d.data.map(m=>({iso:m.iso,R_range:m.r.range,R_avg:m.r.avg,G1_range:m.g1.range,G1_avg:m.g1.avg,B_range:m.b.range,B_avg:m.b.avg,G2_range:m.g2.range,G2_avg:m.g2.avg})),p=d.data.map(m=>({iso:m.iso,levels:[m.r.avg,m.g1.avg,m.g2.avg,m.b.avg],clipping:m.clipping}));return{chartData:h,tableData:p}},[e.shootingModes,a]),l=`Raw Data (${a})`,c=S.useRef(null),f=S.useRef(null);return S.useEffect(()=>{const d=c.current,h=f.current;if(!d||!h)return;const p=new ResizeObserver(m=>{for(let v of m){const{width:b}=v.contentRect,g=Math.max(8,b/35);h.style.fontSize=`${g}px`}});return p.observe(d),()=>p.disconnect()},[]),u.jsxs("div",{ref:r,className:"bg-white dark:bg-slate-800/50 border border-gray-200 dark:border-slate-700 rounded-xl shadow-lg p-6 flex flex-col gap-6 transform hover:scale-[1.02] hover:border-cyan-500/50 transition-all duration-500 ease-in-out",children:[u.jsxs("div",{className:"border-b border-gray-200 dark:border-slate-700 pb-4",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-slate-100",children:e.name}),u.jsx("p",{className:"text-cyan-600 dark:text-cyan-400",children:e.manufacturer})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-4 mb-4",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-slate-300",children:"Black Level vs. ISO"}),u.jsx("select",{value:a,onChange:d=>o(d.target.value),className:"w-full sm:w-auto bg-gray-50 dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded-md px-3 py-1 text-sm outline-none focus:ring-2 focus:ring-cyan-500 transition-all duration-300 text-gray-900 dark:text-slate-200","aria-label":`Select shooting mode for ${e.name}`,children:n.map(d=>u.jsx("option",{value:d,children:d},d))})]}),u.jsxs("div",{ref:c,className:"h-64 relative",children:[u.jsx(rJ,{data:i,theme:t},a),u.jsx("div",{className:"absolute top-1/2 left-[52%] transform -translate-x-1/2 -translate-y-1/2 -rotate-30 pointer-events-none",children:u.jsx("p",{ref:f,className:"font-bold text-gray-900/10 dark:text-slate-200/40 whitespace-nowrap",children:" y-g-jiang.github.io"})})]})]}),u.jsxs("div",{className:"overflow-x-auto",children:[u.jsx("div",{className:"flex justify-between items-center mb-4",children:u.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-slate-300",children:l})}),u.jsxs("table",{className:"w-full text-left border-collapse",children:[u.jsx("thead",{className:"bg-gray-100 dark:bg-slate-700/50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"p-3 font-semibold text-sm text-gray-700 dark:text-slate-300",children:"ISO"}),u.jsx("th",{className:"p-3 font-semibold text-sm text-red-500 dark:text-red-400",children:"Red"}),u.jsx("th",{className:"p-3 font-semibold text-sm text-green-600 dark:text-green-400",children:"Green 1"}),u.jsx("th",{className:"p-3 font-semibold text-sm text-blue-500 dark:text-blue-400",children:"Blue"}),u.jsx("th",{className:"p-3 font-semibold text-sm text-green-500 dark:text-green-300",children:"Green 2"})]})}),u.jsx("tbody",{children:s.map(({iso:d,levels:h,clipping:p})=>u.jsxs("tr",{className:"border-b border-gray-200 dark:border-slate-700/50 last:border-b-0",children:[u.jsxs("td",{className:"p-3 font-mono text-gray-700 dark:text-slate-300 whitespace-nowrap",children:[d,p&&u.jsx("span",{className:"ml-3 text-xs font-semibold text-amber-600 dark:text-amber-400 bg-amber-100 dark:bg-amber-900/50 px-2 py-1 rounded-full align-middle",children:"Clipping"})]}),u.jsx("td",{className:"p-3 font-mono text-red-500 dark:text-red-400",children:h[0].toFixed(2)}),u.jsx("td",{className:"p-3 font-mono text-green-600 dark:text-green-400",children:h[1].toFixed(2)}),u.jsx("td",{className:"p-3 font-mono text-blue-500 dark:text-blue-400",children:h[3].toFixed(2)}),u.jsx("td",{className:"p-3 font-mono text-green-500 dark:text-green-300",children:h[2].toFixed(2)})]},d))})]})]})]})}),ve=(e,t,r)=>({avg:e,range:[t,r]}),Mp=[{id:"sony-a7r2",name:"Sony ILCE-7RM2 (A7R II)",manufacturer:"Sony",shootingModes:[{modeName:"Still (Mechanical Shutter)",data:[{iso:100,r:ve(512.1,511.95,512.25),g1:ve(512.05,511.9,512.2),b:ve(512.12,511.98,512.28),g2:ve(512.06,511.92,512.22)},{iso:200,r:ve(512.15,512,512.3),g1:ve(512.1,511.95,512.25),b:ve(512.18,512.05,512.35),g2:ve(512.12,511.98,512.28)},{iso:400,r:ve(512.25,512.1,512.45),g1:ve(512.2,512.05,512.4),b:ve(512.3,512.15,512.5),g2:ve(512.22,512.08,512.42)},{iso:800,r:ve(512.5,512.2,512.8),g1:ve(512.45,512.15,512.75),b:ve(512.55,512.25,512.85),g2:ve(512.48,512.18,512.78)},{iso:1600,r:ve(513.1,512.8,513.4),g1:ve(513.05,512.75,513.35),b:ve(513.15,512.85,513.45),g2:ve(513.08,512.78,513.38)}]}]},{id:"sony-a7c",name:"Sony ILCE-7C",manufacturer:"Sony",shootingModes:[{modeName:"Still (Mechanical)",data:[{iso:100,r:ve(512.02,511.98,512.05),g1:ve(512.01,511.97,512.04),b:ve(512.03,511.99,512.06),g2:ve(512.01,511.97,512.04)},{iso:640,r:ve(512.15,512.05,512.25),g1:ve(512.12,512.02,512.22),b:ve(512.18,512.08,512.28),g2:ve(512.13,512.03,512.23)}]}]},{id:"canon-r5",name:"Canon EOS R5",manufacturer:"Canon",shootingModes:[{modeName:"Mechanical Shutter",data:[{iso:100,r:ve(512,511.8,512.2),g1:ve(512,511.8,512.2),b:ve(512,511.8,512.2),g2:ve(512,511.8,512.2)},{iso:400,r:ve(512,511.7,512.3),g1:ve(512,511.7,512.3),b:ve(512,511.7,512.3),g2:ve(512,511.7,512.3)},{iso:1600,r:ve(512.2,511.5,512.8),g1:ve(512.2,511.5,512.8),b:ve(512.2,511.5,512.8),g2:ve(512.2,511.5,512.8)}]}]},{id:"canon-r6",name:"Canon EOS R6",manufacturer:"Canon",shootingModes:[{modeName:"Mechanical Shutter",data:[{iso:100,r:ve(511.95,511.8,512.1),g1:ve(511.95,511.8,512.1),b:ve(511.95,511.8,512.1),g2:ve(511.95,511.8,512.1)},{iso:800,r:ve(512.1,511.9,512.3),g1:ve(512.1,511.9,512.3),b:ve(512.1,511.9,512.3),g2:ve(512.1,511.9,512.3)}]}]},{id:"nikon-z9",name:"Nikon Z9",manufacturer:"Nikon",shootingModes:[{modeName:"Electronic Shutter",data:[{iso:64,r:ve(400,399.9,400.1),g1:ve(400,399.9,400.1),b:ve(400,399.9,400.1),g2:ve(400,399.9,400.1)},{iso:100,r:ve(400,399.9,400.1),g1:ve(400,399.9,400.1),b:ve(400,399.9,400.1),g2:ve(400,399.9,400.1)}]}]},{id:"nikon-z6-2",name:"Nikon Z 6II",manufacturer:"Nikon",shootingModes:[{modeName:"Still (Lossless)",data:[{iso:100,r:ve(400.1,399.8,400.3),g1:ve(400.1,399.8,400.3),b:ve(400.1,399.8,400.3),g2:ve(400.1,399.8,400.3)},{iso:800,r:ve(400.3,399.5,401.1),g1:ve(400.3,399.5,401.1),b:ve(400.3,399.5,401.1),g2:ve(400.3,399.5,401.1)}]}]},{id:"fujifilm-xt4",name:"Fujifilm X-T4",manufacturer:"Fujifilm",shootingModes:[{modeName:"Still (RAF)",data:[{iso:160,r:ve(1024,1023.8,1024.2),g1:ve(1024,1023.8,1024.2),b:ve(1024,1023.8,1024.2),g2:ve(1024,1023.8,1024.2)},{iso:800,r:ve(1024.2,1023.5,1025),g1:ve(1024.2,1023.5,1025),b:ve(1024.2,1023.5,1025),g2:ve(1024.2,1023.5,1025)}]}]}],aJ=({isOpen:e,onClose:t,theme:r})=>{const[n,a]=S.useState(""),[o,i]=S.useState("All"),s=S.useMemo(()=>["All",...Array.from(new Set(Mp.map(d=>d.manufacturer))).sort()],[]),l=S.useMemo(()=>Mp.filter(f=>{const d=f.name.toLowerCase().includes(n.toLowerCase()),h=o==="All"||f.manufacturer===o;return d&&h}),[n,o]),c=f=>{const d=document.getElementById(`camera-${f}`);d&&d.scrollIntoView({behavior:"smooth"})};return e?u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",onClick:t,children:u.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-6xl h-[90vh] rounded-2xl shadow-2xl flex flex-col border border-gray-200 dark:border-slate-700 overflow-hidden",onClick:f=>f.stopPropagation(),children:[u.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50",children:[u.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-slate-100 flex items-center gap-2",children:["Camera Black Level Database",u.jsxs("span",{className:"text-xs font-normal bg-cyan-100 dark:bg-cyan-900/30 text-cyan-600 dark:text-cyan-400 px-2 py-0.5 rounded border border-cyan-200 dark:border-cyan-800",children:[Mp.length," Models"]})]}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 transition-colors p-2 rounded-full hover:bg-gray-100 dark:hover:bg-slate-800",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-slate-700 bg-gray-50/50 dark:bg-slate-800/30",children:u.jsx(eJ,{searchTerm:n,onSearchChange:a,manufacturers:s,selectedManufacturer:o,onManufacturerChange:i,cameras:l,onCameraSelect:c})}),u.jsx("div",{className:"flex-1 overflow-y-auto p-6 scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-slate-700 bg-gray-100 dark:bg-slate-950",children:u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-2 gap-6",children:[l.map(f=>u.jsx("div",{id:`camera-${f.id}`,children:u.jsx(nJ,{camera:f,theme:r})},f.id)),l.length===0&&u.jsx("div",{className:"col-span-full flex flex-col items-center justify-center py-20 text-gray-400 dark:text-slate-600",children:u.jsx("p",{className:"text-lg",children:"No cameras found matching your criteria."})})]})})]})}):null},oJ=({isOpen:e,onClose:t,zIndex:r=150})=>{const[n,a]=S.useState(""),[o,i]=S.useState(""),[s,l]=S.useState(""),[c,f]=S.useState(""),[d,h]=S.useState(null),p=()=>{const m=parseFloat(n),v=parseFloat(o),b=parseFloat(s),y=parseFloat(c);if(isNaN(m)||isNaN(v)||isNaN(b)||isNaN(y)){h(null);return}const g=m,x=v,j=b*b,k=y*y,w=(g+x)/2;if(w<=1e-9){h(0);return}const N=j*k/w,_=Math.sqrt(N);h(_)};return e?u.jsxs(Iu,{initialPosition:{x:window.innerWidth/2-160,y:window.innerHeight/2-200},onClose:t,zIndex:r,className:"w-80 bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 flex flex-col shadow-2xl",children:[u.jsxs("div",{className:"flex justify-between items-center px-4 py-3 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800",children:[u.jsx("h3",{className:"text-sm font-bold text-gray-700 dark:text-slate-200",children:"Cross-Compensation Calc"}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 transition-colors",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("div",{className:"p-4 flex flex-col gap-3 text-xs",children:[u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-gray-500 dark:text-slate-400 font-bold",children:"H Mean (Power/Var)"}),u.jsx("input",{type:"number",step:"any",value:n,onChange:m=>a(m.target.value),className:"p-2 rounded bg-gray-100 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 outline-none focus:border-indigo-500 text-gray-900 dark:text-slate-100 font-mono"})]}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-gray-500 dark:text-slate-400 font-bold",children:"V Mean (Power/Var)"}),u.jsx("input",{type:"number",step:"any",value:o,onChange:m=>i(m.target.value),className:"p-2 rounded bg-gray-100 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 outline-none focus:border-indigo-500 text-gray-900 dark:text-slate-100 font-mono"})]}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-gray-500 dark:text-slate-400 font-bold",children:"H RMS 0 (Sigma)"}),u.jsx("input",{type:"number",step:"any",value:s,onChange:m=>l(m.target.value),className:"p-2 rounded bg-gray-100 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 outline-none focus:border-indigo-500 text-gray-900 dark:text-slate-100 font-mono"})]}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-gray-500 dark:text-slate-400 font-bold",children:"V RMS 0 (Sigma)"}),u.jsx("input",{type:"number",step:"any",value:c,onChange:m=>f(m.target.value),className:"p-2 rounded bg-gray-100 dark:bg-slate-800 border border-gray-300 dark:border-slate-600 outline-none focus:border-indigo-500 text-gray-900 dark:text-slate-100 font-mono"})]}),u.jsx("button",{onClick:p,className:"mt-2 w-full py-2 bg-indigo-600 hover:bg-indigo-500 text-white font-bold rounded shadow transition-colors active:scale-95",children:"Calculate Sigma"}),d!==null&&u.jsxs("div",{className:"mt-2 p-3 bg-indigo-50 dark:bg-indigo-900/30 border border-indigo-200 dark:border-indigo-800 rounded text-center animate-in fade-in slide-in-from-top-1",children:[u.jsx("span",{className:"block text-[10px] uppercase font-bold text-gray-500 dark:text-slate-400 mb-1",children:"Original White Noise Sigma"}),u.jsx("span",{className:"text-lg font-mono font-bold text-indigo-700 dark:text-indigo-300 select-all",children:d.toFixed(5)})]})]})]}):null},ty=[[.1725,.0838,.0576],[.5481,.2985,.217],[.1103,.1968,.3359],[.1038,.1502,.0521],[.2244,.2177,.4302],[.1232,.519,.4044],[.7168,.199,.0271],[.065,.1063,.3924],[.5417,.0884,.1203],[.1042,.0438,.1396],[.3547,.5078,.0482],[.7805,.3541,.0215],[.0234,.0492,.2916],[.0653,.3019,.0645],[.4294,.0319,.0402],[.8568,.5754,.0079],[.5032,.0889,.3055],[0,.249,.383],[.9163,.9155,.8705],[.5819,.5911,.5839],[.3552,.361,.359],[.1876,.1924,.1917],[.0871,.0901,.0908],[.0321,.0319,.0326]],iJ=[[3.2404542,-1.5371385,-.4985314],[-.969266,1.8760108,.041556],[.0556434,-.2040259,1.0572252]];function sJ(e,t,r,n,a,o,i=.5){const c=[],f=Math.max(.1,Math.min(.9,i)),d=Math.hypot(t.x-e.x,t.y-e.y),h=Math.hypot(n.x-r.x,n.y-r.y),p=Math.hypot(r.x-e.x,r.y-e.y),m=Math.hypot(n.x-t.x,n.y-t.y),v=(d+h)/2/5,b=(p+m)/2/3,y=v*f,g=b*f;for(let x=0;x<4;x++)for(let j=0;j<6;j++){const k=j/5,w=x/3,N=(1-k)*(1-w)*e.x+k*(1-w)*t.x+(1-k)*w*r.x+k*w*n.x,_=(1-k)*(1-w)*e.y+k*(1-w)*t.y+(1-k)*w*r.y+k*w*n.y;c.push({x:N-y/2,y:_-g/2,w:y,h:g})}return c}function dP(e){e.length;const t=e[0].length;return Array(t).fill(0).map((r,n)=>e.map(a=>a[n]))}function Wf(e,t){const r=e.length,n=e[0].length,a=t.length,o=t[0].length;if(n!==a)throw new Error("Matrix dimensions mismatch");const i=Array(r).fill(0).map(()=>Array(o).fill(0));for(let s=0;s<r;s++)for(let l=0;l<o;l++)for(let c=0;c<n;c++)i[s][l]+=e[s][c]*t[c][l];return i}function lJ(e,t){const r=dP(e),n=Wf(r,e);for(let c=0;c<3;c++)n[c][c]+=1e-9;const a=[[n[0][0],n[0][1],n[0][2]],[n[1][0],n[1][1],n[1][2]],[n[2][0],n[2][1],n[2][2]]],o=fP(a);if(!o)throw new Error("Singular Matrix (Check Input Data)");const i=[[o[0][0],o[0][1],o[0][2]],[o[1][0],o[1][1],o[1][2]],[o[2][0],o[2][1],o[2][2]]],s=Wf(r,t);return Wf(i,s)}function cJ(e){const t=e.length,r=e.map((n,a)=>[...n,...Array(t).fill(0).map((o,i)=>a===i?1:0)]);for(let n=0;n<t;n++){let a=n;for(let s=n+1;s<t;s++)Math.abs(r[s][n])>Math.abs(r[a][n])&&(a=s);const o=r[n];r[n]=r[a],r[a]=o;const i=r[n][n];if(Math.abs(i)<1e-12)throw new Error("Singular Matrix");for(let s=n;s<2*t;s++)r[n][s]/=i;for(let s=0;s<t;s++)if(s!==n){const l=r[s][n];for(let c=n;c<2*t;c++)r[s][c]-=l*r[n][c]}}return r.map(n=>n.slice(t))}function uJ(e,t,r){const n=[...e].sort((v,b)=>v.id-b.id);if(n.length!==24)throw new Error("Requires exactly 24 patches");const a=[];n.forEach(v=>{const b=v.rawMeans,y=[b[0]-t[0],b[1]-t[1],b[2]-t[2],b[3]-t[3]];let g,x,j;r?(j=y[0],x=(y[1]+y[2])/2,g=y[3]):(g=y[0],x=(y[1]+y[2])/2,j=y[3]),g=Math.max(0,g),x=Math.max(0,x),j=Math.max(0,j),a.push([g,x,j])});const i=a[18],s=(i[0]+i[1]+i[2])/3,l=1/Math.max(1e-9,s),c=a.map(v=>[v[0]*l,v[1]*l,v[2]*l]),d=lJ(c,ty),h=dP(d);let p;try{p=cJ(h)}catch{throw new Error("CCM Inversion Failed. Input data might be too dark or clipped.")}return{matrix:Wf(p,iJ)}}const fJ=({isOpen:e,onClose:t,patchStats:r,initialIsBGGR:n,zIndex:a=200,sizeRatio:o,onSizeChange:i})=>{const[s,l]=S.useState(n),[c,f]=S.useState(["0","0","0","0"]),[d,h]=S.useState(null),[p,m]=S.useState(null);if(S.useEffect(()=>{if(e&&r&&r.length===24){const w=r[23].rawMeans;c[0]==="0"&&c[1]==="0"&&f([w[0].toFixed(2),w[1].toFixed(2),w[2].toFixed(2),w[3].toFixed(2)])}},[e,r]),S.useEffect(()=>{if(!e||!r||r.length!==24)return;const k=c.map(w=>parseFloat(w));if(!k.some(isNaN))try{const w=uJ(r,k,s);h(w),m(null)}catch(w){m(w.message)}},[e,r,s,c]),!e)return null;const v=(k,w)=>{f(N=>{const _=[...N];return _[k]=w,_})},b=k=>{navigator.clipboard.writeText(k)},y=k=>k?k.map(w=>w.map(N=>N.toFixed(4))):[],g=d?y(d.matrix).flat().join(" "):"",x=s?["B","G1","G2","R"]:["R","G1","G2","B"],j=s?["text-blue-500","text-green-500","text-green-500","text-red-500"]:["text-red-500","text-green-500","text-green-500","text-blue-500"];return u.jsxs(Iu,{initialPosition:{x:window.innerWidth/2-200,y:100},onClose:t,zIndex:a,className:"w-[500px] bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 flex flex-col shadow-2xl rounded-xl overflow-hidden",children:[u.jsxs("div",{className:"flex justify-between items-center px-4 py-3 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800",children:[u.jsxs("h3",{className:"text-sm font-bold text-gray-800 dark:text-slate-100 flex items-center gap-2",children:[u.jsx("span",{className:"w-2 h-2 rounded-full bg-yellow-500"}),"Color Lab Result"]}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 transition-colors",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("div",{className:"p-5 flex flex-col gap-5",children:[u.jsxs("div",{className:"bg-gray-100 dark:bg-slate-800 p-3 rounded-lg border border-gray-200 dark:border-slate-700",children:[u.jsxs("div",{className:"flex justify-between items-center mb-1",children:[u.jsx("span",{className:"text-[10px] font-bold text-gray-500 dark:text-slate-400 uppercase",children:"Patch Sampling Size"}),u.jsxs("span",{className:"text-xs font-mono font-bold text-cyan-600 dark:text-cyan-400",children:[Math.round(o*100),"%"]})]}),u.jsx("input",{type:"range",min:"0.1",max:"0.9",step:"0.05",value:o,onChange:k=>i(parseFloat(k.target.value)),className:"w-full h-1.5 bg-gray-300 dark:bg-slate-600 rounded-lg appearance-none cursor-pointer accent-cyan-500"})]}),u.jsx("div",{className:"flex justify-center",children:u.jsxs("div",{className:"flex bg-gray-100 dark:bg-slate-800 p-1 rounded-lg border border-gray-200 dark:border-slate-700",children:[u.jsx("button",{onClick:()=>l(!1),className:`px-4 py-1.5 text-xs font-bold rounded transition-all ${s?"text-gray-500 dark:text-slate-400 hover:text-gray-700":"bg-white dark:bg-slate-600 text-indigo-600 dark:text-indigo-300 shadow-sm"}`,children:"RGGB Mode"}),u.jsx("button",{onClick:()=>l(!0),className:`px-4 py-1.5 text-xs font-bold rounded transition-all ${s?"bg-white dark:bg-slate-600 text-indigo-600 dark:text-indigo-300 shadow-sm":"text-gray-500 dark:text-slate-400 hover:text-gray-700"}`,children:"BGGR Mode"})]})}),u.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800/50 p-3 rounded-lg border border-gray-100 dark:border-slate-700",children:[u.jsx("h4",{className:"text-[10px] font-bold text-gray-400 dark:text-slate-500 uppercase mb-2",children:"Input Black Levels ()"}),u.jsx("div",{className:"grid grid-cols-4 gap-2",children:[0,1,2,3].map(k=>u.jsxs("div",{className:"flex flex-col",children:[u.jsx("label",{className:`text-[10px] font-bold mb-1 ${j[k]}`,children:x[k]}),u.jsx("input",{type:"number",step:"0.01",value:c[k],onChange:w=>v(k,w.target.value),className:"w-full px-2 py-1 text-sm font-mono border border-gray-300 dark:border-slate-600 rounded bg-white dark:bg-slate-900 text-gray-900 dark:text-slate-100 outline-none focus:ring-1 focus:ring-yellow-500"})]},k))})]}),p?u.jsx("div",{className:"text-red-500 text-sm text-center bg-red-50 dark:bg-red-900/20 p-2 rounded",children:p}):d?u.jsx(u.Fragment,{children:u.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800/50 p-3 rounded-lg border border-gray-100 dark:border-slate-700",children:[u.jsx("h4",{className:"text-[10px] font-bold text-gray-400 dark:text-slate-500 uppercase mb-2",children:"Calculated Color Matrix (XYZ  Camera RGB)"}),u.jsx("div",{className:"font-mono text-xs text-gray-700 dark:text-slate-300 grid grid-rows-3 gap-1 mb-3",children:y(d.matrix).map((k,w)=>u.jsxs("div",{className:"flex justify-between bg-white dark:bg-slate-900 px-2 py-1 rounded",children:[u.jsx("span",{className:"text-red-500/80 w-1/3 text-right",children:k[0]}),u.jsx("span",{className:"text-green-500/80 w-1/3 text-right",children:k[1]}),u.jsx("span",{className:"text-blue-500/80 w-1/3 text-right",children:k[2]})]},w))}),u.jsx("button",{onClick:()=>b(g),className:"w-full py-1.5 bg-indigo-600 hover:bg-indigo-500 text-white text-xs font-bold rounded shadow transition-transform active:scale-95 flex items-center justify-center gap-2",children:"Copy Matrix String (for customMatrix)"})]})}):u.jsx("div",{className:"text-gray-400 text-sm text-center",children:"Calculating..."})]})]})},ku=.25;function dJ(e,t){const r=e.length;let n=0,a=0,o=0,i=0;for(let l=0;l<r;l++)n+=e[l],a+=t[l],o+=e[l]*t[l],i+=e[l]*e[l];const s=r*i-n*n;return{slope:(r*o-n*a)/s,intercept:(a*i-n*o)/s}}function hJ(e){const t=e.length,r=new Array(t).fill(0),n=[22,-67,-58,0,58,67,-22],a=252*ku;for(let o=0;o<t;o++){let i=0;for(let s=0;s<7;s++){let l=o-3+s;l<0&&(l=0),l>=t&&(l=t-1),i+=e[l]*n[s]}r[o]=i/a}return r}function pk(e,t,r,n){const a=Math.floor(n.x),o=Math.floor(n.y),i=Math.floor(n.w),s=Math.floor(n.h);if(i<8||s<8)return null;let l=[];for(let P=0;P<s;P++){const E=[],L=(o+P)*t;for(let z=0;z<i;z++)E.push(e[L+a+z]);l.push(E)}let c=0,f=0;for(let P=1;P<s-1;P+=2)for(let E=1;E<i-1;E+=2)c+=Math.abs(l[P][E+1]-l[P][E-1]),f+=Math.abs(l[P+1][E]-l[P-1][E]);let d=i,h=s,p=l;if(f>c){p=Array(i).fill(0).map(()=>Array(s).fill(0));for(let P=0;P<s;P++)for(let E=0;E<i;E++)p[E][s-1-P]=l[P][E];d=s,h=i}const m=[],v=[];for(let P=0;P<h;P++){const E=p[P],L=E.map((q,H)=>H===0?0:Math.abs(q-E[H-1])),z=Math.max(...L),Z=L.indexOf(z);if(z>1){const q=Math.max(0,Z-3),H=Math.min(d,Z+4);let se=0,ee=0;for(let D=q;D<H;D++)se+=L[D],ee+=D*L[D];se>0&&(m.push(ee/se),v.push(P))}}if(m.length<h*.4)return null;const{slope:b,intercept:y}=dJ(v,m),g=Math.cos(Math.atan(b)),x=[],j=[];for(let P=0;P<h;P++){const E=b*P+y;for(let L=0;L<d;L++)x.push((L-E)*g),j.push(p[P][L])}const k=Array.from(x.keys()).sort((P,E)=>x[P]-x[E]),w=k.map(P=>x[P]),N=k.map(P=>j[P]),_=w[0],O=w[w.length-1],A=Math.floor((O-_)/ku),M=new Array(A).fill(0),C=new Array(A).fill(0);for(let P=0;P<w.length;P++){const E=Math.floor((w[P]-_)/ku);E>=0&&E<A&&(M[E]+=N[P],C[E]++)}let $=N[0];for(let P=0;P<A;P++)C[P]>0?(M[P]/=C[P],$=M[P]):M[P]=$;const F=M.slice(0,10).reduce((P,E)=>P+E,0)/10,T=M.slice(-10).reduce((P,E)=>P+E,0)/10;if(F>T){const P=Math.max(...M),E=Math.min(...M);for(let L=0;L<M.length;L++)M[L]=P-M[L]+E}const W=hJ(M);return{esf:M,lsfFull:W}}function pJ(e,t,r){if(e.length===0)return null;const n=4096,a=new Ki(n),o=Math.round(t/ku),i=r?1e3/r:1,s=new Float32Array(501);for(let m=0;m<=500;m++)s[m]=m/500*i;const l=new Float32Array(501).fill(0);let c=0,f=[],d=[];for(const m of e){const v=m.lsfFull;let b=0,y=-1/0;for(let O=0;O<v.length;O++)v[O]>y&&(y=v[O],b=O);const g=Math.max(0,b-o),x=Math.min(v.length,b+o),j=v.slice(g,x);if(j.length<8)continue;f.length===0&&(f=j,d=m.esf);const k=new Float32Array(n).fill(0);for(let O=0;O<j.length;O++){const A=.54-.46*Math.cos(2*Math.PI*O/(j.length-1));k[O]=j[O]*A}a.transform(k);const w=[],N=[];for(let O=0;O<=n/2;O++){const A=Math.sqrt(a._real[O]**2+a._imag[O]**2);w.push(A),N.push(O/(n*ku)*i)}const _=w[0];if(_>0){for(let O=0;O<=500;O++){const A=s[O];l[O]+=gJ(A,N,w)/_}c++}}if(c===0)return null;const h=Array.from(l).map(m=>m/c);let p=null;for(let m=0;m<h.length-1;m++)if(h[m]>=.5&&h[m+1]<.5){p=s[m]+(.5-h[m])*(s[m+1]-s[m])/(h[m+1]-h[m]);break}return{esf:d,lsf:[],lsfCropped:f,mtf:h,freqs:Array.from(s),mtf50:p}}function gJ(e,t,r){if(e<=t[0])return r[0];if(e>=t[t.length-1])return r[r.length-1];let n=0;for(;e>t[n+1];)n++;const a=(e-t[n])/(t[n+1]-t[n]);return r[n]+a*(r[n+1]-r[n])}const mJ=({isOpen:e,onClose:t,rawImageData:r,roi:n,zIndex:a=110,onFocus:o,displaySettings:i})=>{const[s,l]=S.useState([]),[c,f]=S.useState(""),[d,h]=S.useState(12),[p,m]=S.useState(null),[v,b]=S.useState({x:100,y:50}),[y,g]=S.useState({w:1e3,h:800}),[x,j]=S.useState(!1),[k,w]=S.useState(!1),N=S.useRef({x:0,y:0}),_=S.useRef({w:0,h:0}),O=()=>{if(!(!r||!n))try{let P;if((i==null?void 0:i.renderMode)==="advanced-zero-dep"&&i.advancedZeroDep){const E=FQ(r,n,i);P=pk(E.data,E.width,E.height,{x:0,y:0,w:E.width,h:E.height})}else P=pk(r.data,r.width,r.height,n);P?l(E=>[...E,P]):alert("Could not detect valid edge in selection. Make sure it contains a transition.")}catch(P){console.error(P),alert("Error processing ROI")}},A=()=>{l([]),m(null)};S.useEffect(()=>{if(s.length===0){m(null);return}const P=parseFloat(c),E=!isNaN(P)&&P>0?P:null,L=pJ(s,d,E);m(L)},[s,d,c]),S.useEffect(()=>{e&&s.length===0&&n&&r&&O()},[e]);const M=P=>{o&&o(),!(P.target.closest("button")||P.target.closest("input"))&&(j(!0),N.current={x:P.clientX-v.x,y:P.clientY-v.y})},C=P=>{P.stopPropagation(),P.preventDefault(),w(!0),N.current={x:P.clientX,y:P.clientY},_.current={w:y.w,h:y.h}};if(S.useEffect(()=>{const P=L=>{if(x)b({x:L.clientX-N.current.x,y:L.clientY-N.current.y});else if(k){const z=L.clientX-N.current.x,Z=L.clientY-N.current.y;g({w:Math.max(600,_.current.w+z),h:Math.max(500,_.current.h+Z)})}},E=()=>{j(!1),w(!1)};return(x||k)&&(window.addEventListener("mousemove",P),window.addEventListener("mouseup",E)),()=>{window.removeEventListener("mousemove",P),window.removeEventListener("mouseup",E)}},[x,k]),!e)return null;const $=p?p.lsfCropped.map((P,E)=>({x:E,y:P})):[],F=p?p.esf.map((P,E)=>({x:E,y:P})):[],T=p?p.mtf.map((P,E)=>({freq:p.freqs[E],mtf:P})).filter(P=>P.freq<=(parseFloat(c)?200:1)):[],W=c?"lp/mm":"cy/px";return u.jsxs("div",{className:"fixed flex flex-col bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 shadow-2xl rounded-xl overflow-hidden",style:{left:v.x,top:v.y,width:y.w,height:y.h,zIndex:a??100},onMouseDownCapture:o,children:[u.jsxs("div",{className:`flex justify-between items-center px-4 py-2 border-b border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800 select-none ${x?"cursor-grabbing":"cursor-grab"}`,onMouseDown:M,children:[u.jsxs("h3",{className:"text-sm font-bold text-orange-600 dark:text-orange-400 flex items-center gap-2 pointer-events-none",children:["SFR Expert (Edge Method)",u.jsxs("span",{className:"text-xs bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-300 px-2 py-0.5 rounded border border-orange-200 dark:border-orange-800",children:[s.length," ROI",s.length!==1?"s":""]}),(i==null?void 0:i.renderMode)==="advanced-zero-dep"&&u.jsx("span",{className:"text-xs font-bold bg-indigo-100 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300 px-2 py-0.5 rounded border border-indigo-200 dark:border-indigo-800 animate-pulse",children:"Linear Unmixing Active"})]}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 transition-colors",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("div",{className:"p-3 bg-gray-50/50 dark:bg-slate-800/30 border-b border-gray-200 dark:border-slate-700 flex items-center gap-4 flex-wrap text-xs flex-shrink-0",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"font-bold text-gray-500 dark:text-slate-400",children:"Pixel Pitch (m):"}),u.jsx("input",{type:"number",value:c,onChange:P=>f(P.target.value),placeholder:"Default (cy/px)",className:"w-24 px-2 py-1 bg-white dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded outline-none focus:border-orange-500"})]}),u.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-[200px]",children:[u.jsxs("span",{className:"font-bold text-gray-500 dark:text-slate-400 whitespace-nowrap",children:["Radius (px): ",d.toFixed(1)]}),u.jsx("input",{type:"range",min:"2",max:"50",step:"0.5",value:d,onChange:P=>h(parseFloat(P.target.value)),className:"w-full h-1.5 bg-gray-300 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-orange-500"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:O,className:"px-3 py-1.5 bg-orange-600 hover:bg-orange-500 text-white font-bold rounded shadow-sm transition-transform active:scale-95",children:"Add Current ROI"}),u.jsx("button",{onClick:A,className:"px-3 py-1.5 bg-gray-200 hover:bg-gray-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-600 dark:text-slate-300 font-bold rounded transition-colors",children:"Clear"})]})]}),u.jsxs("div",{className:"flex-1 p-4 overflow-hidden flex flex-col gap-4 bg-white dark:bg-slate-950",children:[u.jsxs("div",{className:"h-[35%] min-h-[180px] flex gap-4",children:[u.jsxs("div",{className:"flex-1 bg-gray-50 dark:bg-slate-900/50 border border-gray-200 dark:border-slate-800 rounded-xl p-2 relative flex flex-col",children:[u.jsx("h4",{className:"text-[10px] font-bold text-gray-500 dark:text-slate-400 absolute top-2 left-3 z-10 bg-white/80 dark:bg-slate-900/80 px-1 rounded",children:"ESF"}),u.jsx("div",{className:"flex-1 min-h-0 w-full",children:u.jsx(ho,{width:"100%",height:"100%",children:u.jsxs($s,{data:F,children:[u.jsx(Ka,{strokeDasharray:"3 3",stroke:"#374151",opacity:.1}),u.jsx(Un,{dataKey:"x",hide:!0}),u.jsx(Wn,{hide:!0,domain:["auto","auto"]}),u.jsx(Ur,{contentStyle:{fontSize:"10px"}}),u.jsx(Nr,{type:"monotone",dataKey:"y",stroke:"#3b82f6",strokeWidth:1,dot:!1,isAnimationActive:!1})]})})})]}),u.jsxs("div",{className:"flex-1 bg-gray-50 dark:bg-slate-900/50 border border-gray-200 dark:border-slate-800 rounded-xl p-2 relative flex flex-col",children:[u.jsx("h4",{className:"text-[10px] font-bold text-gray-500 dark:text-slate-400 absolute top-2 left-3 z-10 bg-white/80 dark:bg-slate-900/80 px-1 rounded",children:"LSF"}),u.jsx("div",{className:"flex-1 min-h-0 w-full",children:u.jsx(ho,{width:"100%",height:"100%",children:u.jsxs($s,{data:$,children:[u.jsx(Ka,{strokeDasharray:"3 3",stroke:"#374151",opacity:.1}),u.jsx(Un,{dataKey:"x",hide:!0}),u.jsx(Wn,{hide:!0}),u.jsx(Ur,{contentStyle:{fontSize:"10px"}}),u.jsx(Nr,{type:"monotone",dataKey:"y",stroke:"#ef4444",strokeWidth:2,dot:!1,isAnimationActive:!1})]})})})]})]}),u.jsxs("div",{className:"flex-1 bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-800 rounded-xl p-2 relative flex flex-col min-h-[250px]",children:[u.jsxs("div",{className:"flex justify-between items-start px-2 mb-1",children:[u.jsx("h4",{className:"text-xs font-bold text-gray-500 dark:text-slate-400 uppercase",children:"MTF / Spatial Frequency Response"}),(p==null?void 0:p.mtf50)&&u.jsxs("div",{className:"text-lg font-bold text-orange-600 dark:text-orange-400 bg-orange-50 dark:bg-orange-900/20 px-3 py-1 rounded",children:["MTF50 = ",p.mtf50.toFixed(2)," ",W]})]}),u.jsxs("div",{className:"flex-1 relative min-h-0 w-full",children:[u.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 pointer-events-none select-none opacity-10",children:u.jsx("svg",{viewBox:"0 0 400 60",className:"w-[40rem] h-auto",children:u.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-gray-900 dark:fill-white",fontSize:"24",fontWeight:"bold",children:" y-g-jiang.github.io"})})}),u.jsx(ho,{width:"100%",height:"100%",children:u.jsxs($s,{data:T,margin:{top:10,right:30,left:10,bottom:20},children:[u.jsx(Ka,{strokeDasharray:"3 3",stroke:"#374151",opacity:.15}),u.jsx(Un,{dataKey:"freq",type:"number",tick:{fontSize:10,fill:"#9ca3af"},label:{value:`Frequency (${W})`,position:"insideBottom",offset:-10,fontSize:11,fill:"#9ca3af"}}),u.jsx(Wn,{domain:[0,1.1],tick:{fontSize:10,fill:"#9ca3af"},label:{value:"MTF",angle:-90,position:"insideLeft",fontSize:11,fill:"#9ca3af"}}),u.jsx(Ur,{contentStyle:{backgroundColor:"rgba(15, 23, 42, 0.9)",border:"none",color:"#fff",fontSize:"11px",borderRadius:"4px"},labelFormatter:P=>`Freq: ${Number(P).toFixed(3)}`,formatter:P=>[P.toFixed(4),"MTF"]}),u.jsx(Ga,{verticalAlign:"top",height:20}),u.jsx(Nr,{type:"monotone",dataKey:"mtf",name:"SFR",stroke:"#000000",strokeWidth:2,className:"dark:stroke-white",dot:!1,isAnimationActive:!1}),(p==null?void 0:p.mtf50)&&u.jsx(Du,{x:p.mtf50,y:.5,r:4,fill:"#f97316",stroke:"none",children:u.jsx(Qr,{value:"MTF50",position:"top",fill:"#f97316",fontSize:10,fontWeight:"bold"})})]})})]})]})]}),u.jsx("div",{className:"absolute bottom-0 right-0 w-4 h-4 cursor-nwse-resize z-50 bg-gray-300 dark:bg-slate-600 rounded-tl hover:bg-orange-500 transition-colors",onMouseDown:C})]})};function yJ(e,t,r,n=3){const o=r.byteLength,i=8,s=i+o,l=[{id:256,type:4,count:1,value:e},{id:257,type:4,count:1,value:t},{id:258,type:3,count:n,value:n===1?16:[16,16,16]},{id:259,type:3,count:1,value:1},{id:262,type:3,count:1,value:n===1?1:2},{id:273,type:4,count:1,value:i},{id:277,type:3,count:1,value:n},{id:278,type:4,count:1,value:t},{id:279,type:4,count:1,value:o}],c=2+l.length*12+4;let f=0;const d=l.map(g=>{let x=g.type===3?2:4;const j=g.count*x,k=j<=4;let w=0;return k||(w=f,f+=j),{...g,fits:k,totalBytes:j,extraOffset:w}}),h=s+c+f,p=new ArrayBuffer(h),m=new DataView(p),v=new Uint8Array(p);m.setUint16(0,18761,!0),m.setUint16(2,42,!0),m.setUint32(4,s,!0),v.set(new Uint8Array(r.buffer,r.byteOffset,r.byteLength),i);let b=s;m.setUint16(b,l.length,!0),b+=2;const y=s+c;return d.forEach(g=>{if(m.setUint16(b,g.id,!0),m.setUint16(b+2,g.type,!0),m.setUint32(b+4,g.count,!0),g.fits)Array.isArray(g.value)||(g.type===3?m.setUint16(b+8,g.value,!0):m.setUint32(b+8,g.value,!0));else{const x=y+g.extraOffset;m.setUint32(b+8,x,!0),Array.isArray(g.value)&&g.value.forEach((j,k)=>{m.setUint16(x+k*2,j,!0)})}b+=12}),m.setUint32(b,0,!0),p}const vJ="http://localhost:5428",xJ=(e=!1)=>{const[t,r]=S.useState({isConnected:!1,message:"Initializing...",hasDngConverter:!1});return S.useEffect(()=>{if(e){r({isConnected:!1,message:"Bridge Paused",hasDngConverter:!1});return}const n=async()=>{try{const o=new AbortController,i=setTimeout(()=>o.abort(),1e3),s=await fetch(`${vJ}/health`,{method:"GET",signal:o.signal});if(clearTimeout(i),s.ok){const l=await s.json(),c=`Connected (${l.exiftool||"Ready"})`;r(f=>f.isConnected===!0&&f.message===c&&f.version===l.exiftool&&f.hasDngConverter===!!l.dng_converter?f:{isConnected:!0,message:c,version:l.exiftool,hasDngConverter:!!l.dng_converter})}else r(l=>l.isConnected===!1&&l.message==="Service Error"?l:{isConnected:!1,message:"Service Error",hasDngConverter:!1})}catch{r(i=>i.isConnected===!1&&i.message==="Not Detected"?i:{isConnected:!1,message:"Not Detected",hasDngConverter:!1})}};n();const a=setInterval(n,2e3);return()=>clearInterval(a)},[e]),t},bJ="JTR_BlobStore",qa="raw_files",wJ=1,w0=()=>new Promise((e,t)=>{const r=indexedDB.open(bJ,wJ);r.onupgradeneeded=n=>{const a=n.target.result;a.objectStoreNames.contains(qa)||a.createObjectStore(qa)},r.onsuccess=()=>e(r.result),r.onerror=()=>t(r.error)}),gk=async(e,t)=>{const r=await w0();return new Promise((n,a)=>{const o=r.transaction(qa,"readwrite");o.objectStore(qa).put(t,e),o.oncomplete=()=>n(),o.onerror=()=>a(o.error)})},kJ=async e=>{const t=await w0();return new Promise((r,n)=>{const i=t.transaction(qa,"readonly").objectStore(qa).get(e);i.onsuccess=()=>r(i.result),i.onerror=()=>n(i.error)})},jJ=async()=>{const e=await w0();return new Promise((t,r)=>{const n=e.transaction(qa,"readwrite");n.objectStore(qa).clear(),n.oncomplete=()=>t(),n.onerror=()=>r(n.error)})},hP="jtr_workspace_index",SJ=e=>{try{const t=JSON.stringify(e);localStorage.setItem(hP,t)}catch(t){console.error("Failed to save workspace index",t)}},NJ=()=>{try{const e=localStorage.getItem(hP);return e?JSON.parse(e):null}catch(e){return console.error("Failed to load workspace index",e),null}},_J=async e=>{const n=(await w0()).transaction(qa,"readwrite").objectStore(qa),a=n.getAllKeys();a.onsuccess=()=>{a.result.forEach(i=>{e.includes(i)||n.delete(i)})}},hn=1024,mk=(e,t,r)=>{const n=e.width,a=e.height,o=new ImageData(t,r),i=e.data,s=o.data,l=n/t,c=a/r;for(let f=0;f<r;f++){const d=Math.floor(f*c),h=f*t*4,p=d*n*4;for(let m=0;m<t;m++){const b=Math.floor(m*l)*4,y=h+m*4,g=p+b;s[y]=i[g],s[y+1]=i[g+1],s[y+2]=i[g+2],s[y+3]=i[g+3]}}return o},OJ=({stats:e,onClose:t,onMinimize:r,isBGGR:n,onToggleBGGR:a,onOpenWindow:o,displaySettings:i,zIndex:s,onFocus:l})=>{if(!e)return null;const c=!!i.showKadc&&!!i.blackLevel,f=i.blackLevel||[0,0,0,0],d=!!i.subtractBlackLevelFromStats&&!!i.blackLevel,h=(b,y,g)=>{if(!c)return null;const x=y*y;return x<=1e-4?0:(b-g)/x},p=(b,y)=>d?b-f[y]:b,m=()=>{if(!d){alert(`Sub. BL
Please enable 'Sub. BL' in Tools sidebar first.`);return}let b,y,g,x;n?(x=0,y=1,g=2,b=3):(b=0,y=1,g=2,x=3);const j=w=>e.means[w]-f[w],k=w=>e.stdDevs[w];localStorage.setItem("import_signal_r",j(b).toString()),localStorage.setItem("import_signal_g1",j(y).toString()),localStorage.setItem("import_signal_g2",j(g).toString()),localStorage.setItem("import_signal_b",j(x).toString()),localStorage.setItem("import_sigma_r",k(b).toString()),localStorage.setItem("import_sigma_g1",k(y).toString()),localStorage.setItem("import_sigma_g2",k(g).toString()),localStorage.setItem("import_sigma_b",k(x).toString()),window.open("https://y-g-jiang.github.io/XJZS.html","_blank")},v=n?[{name:"B",desc:"(0,0)",mean:p(e.means[0],0),std:e.stdDevs[0],color:"text-blue-500",k:h(e.means[0],e.stdDevs[0],f[0])},{name:"G1",desc:"(0,1)",mean:p(e.means[1],1),std:e.stdDevs[1],color:"text-green-500",k:h(e.means[1],e.stdDevs[1],f[1])},{name:"G2",desc:"(1,0)",mean:p(e.means[2],2),std:e.stdDevs[2],color:"text-green-500",k:h(e.means[2],e.stdDevs[2],f[2])},{name:"R",desc:"(1,1)",mean:p(e.means[3],3),std:e.stdDevs[3],color:"text-red-500",k:h(e.means[3],e.stdDevs[3],f[3])}]:[{name:"R",desc:"(0,0)",mean:p(e.means[0],0),std:e.stdDevs[0],color:"text-red-500",k:h(e.means[0],e.stdDevs[0],f[0])},{name:"G1",desc:"(0,1)",mean:p(e.means[1],1),std:e.stdDevs[1],color:"text-green-500",k:h(e.means[1],e.stdDevs[1],f[1])},{name:"G2",desc:"(1,0)",mean:p(e.means[2],2),std:e.stdDevs[2],color:"text-green-500",k:h(e.means[2],e.stdDevs[2],f[2])},{name:"B",desc:"(1,1)",mean:p(e.means[3],3),std:e.stdDevs[3],color:"text-blue-500",k:h(e.means[3],e.stdDevs[3],f[3])}];return u.jsxs(Iu,{className:`${c?"w-80":"w-60"} p-0 overflow-hidden transition-all duration-300 bg-white dark:bg-black border-2 border-black dark:border-white shadow-[4px_4px_0px_rgba(0,0,0,0.5)] dark:shadow-[4px_4px_0px_rgba(255,255,255,0.2)]`,onClose:t,zIndex:s,onFocus:l,initialPosition:{x:20,y:80},children:[u.jsxs("div",{className:"flex justify-between items-center px-3 py-2 border-b border-gray-100 dark:border-slate-800 bg-gray-50/50 dark:bg-slate-800/50 select-none",children:[u.jsxs("h3",{className:"text-xs font-bold text-gray-700 dark:text-slate-300 uppercase tracking-wider flex items-center gap-2",children:["ROI Analysis",u.jsxs("span",{className:"text-[10px] font-normal text-gray-400 bg-gray-200 dark:bg-slate-700 px-1.5 py-0.5 rounded",children:[Math.round(e.width),"",Math.round(e.height)]})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 transition-colors p-1 rounded-md hover:bg-gray-200 dark:hover:bg-slate-700 relative z-20",children:u.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-red-500 dark:hover:text-red-400 transition-colors p-1 rounded-md hover:bg-gray-200 dark:hover:bg-slate-700 relative z-20",children:u.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),u.jsxs("div",{className:"p-3",children:[u.jsxs("div",{className:"flex justify-between items-center mb-3",children:[u.jsxs("div",{className:"text-[10px] text-gray-400 dark:text-slate-500 font-mono leading-tight",children:["X: ",Math.round(e.x),u.jsx("br",{}),"Y: ",Math.round(e.y)]}),u.jsx("button",{onClick:()=>a(!n),className:"text-[10px] font-bold px-2 py-1 rounded bg-gray-100 hover:bg-gray-200 dark:bg-slate-800 dark:hover:bg-slate-700 text-gray-600 dark:text-slate-300 transition-colors border border-gray-200 dark:border-slate-700 relative z-20",title:"Toggle Bayer Pattern Interpretation",children:n?"BGGR":"RGGB"})]}),u.jsxs("table",{className:"w-full mb-3",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-[10px] text-gray-400 dark:text-slate-500 border-b border-gray-100 dark:border-slate-800",children:[u.jsx("th",{className:"text-left pb-1 font-medium",children:"Ch"}),u.jsxs("th",{className:"text-right pb-1 font-medium",children:["Mean",d?"*":""]}),u.jsx("th",{className:"text-right pb-1 font-medium",children:"Std()"}),c&&u.jsx("th",{className:"text-right pb-1 font-medium text-cyan-600 dark:text-cyan-400",children:"K(e/ADU)"})]})}),u.jsx("tbody",{className:"font-mono text-xs",children:v.map((b,y)=>u.jsxs("tr",{className:"group hover:bg-gray-50 dark:hover:bg-slate-800/30 transition-colors",children:[u.jsxs("td",{className:"py-1",children:[u.jsx("span",{className:`font-bold ${b.color}`,children:b.name}),u.jsx("span",{className:"text-[9px] text-gray-300 dark:text-slate-600 ml-1 hidden group-hover:inline",children:b.desc})]}),u.jsx("td",{className:"py-1 text-right text-gray-700 dark:text-slate-200 font-semibold",title:d?"Mean minus Black Level":"Raw Mean",children:b.mean.toFixed(2)}),u.jsx("td",{className:"py-1 text-right text-gray-500 dark:text-slate-400",children:b.std.toFixed(2)}),c&&u.jsx("td",{className:"py-1 text-right text-cyan-600 dark:text-cyan-400 font-bold",children:b.k!==null?b.k.toFixed(3):"-"})]},y))})]}),d&&u.jsx("div",{className:"mb-2 text-[9px] text-gray-400 dark:text-slate-500 text-right italic",children:"* Mean adjusted by Black Level"}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsx("button",{onClick:()=>o("histogram"),className:"relative z-20 flex-1 min-w-[50px] py-1.5 bg-cyan-600 hover:bg-cyan-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"View Histogram",children:"Hist"}),u.jsx("button",{onClick:()=>o("quant"),className:"relative z-20 flex-1 min-w-[50px] py-1.5 bg-teal-600 hover:bg-teal-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"View Quantization Steps",children:"Quant"}),u.jsx("button",{onClick:()=>o("fft"),className:"relative z-20 flex-1 min-w-[50px] py-1.5 bg-purple-600 hover:bg-purple-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"View Power Spectrum (FFT)",children:"FFT"}),u.jsx("button",{onClick:()=>o("pearson"),className:"relative z-20 flex-1 min-w-[50px] py-1.5 bg-indigo-600 hover:bg-indigo-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"Pearson Correlation Analysis",children:"PCC"}),u.jsx("button",{onClick:m,className:"relative z-20 flex-1 min-w-[50px] py-1.5 bg-pink-600 hover:bg-pink-500 text-white text-[10px] font-bold uppercase tracking-wide rounded shadow-sm hover:shadow transition-all active:scale-95 flex items-center justify-center gap-1",title:"Color Noise Analysis (External Tool)",children:"ColorN"})]})]})]})},PJ=()=>{var ox;const[e,t]=S.useState(!0),[r,n]=S.useState("Initializing..."),a=S.useRef(!1),[o,i]=S.useState("dark");S.useEffect(()=>{const U=window.document.documentElement;U.classList.remove(o==="dark"?"light":"dark"),U.classList.add(o)},[o]);const[s,l]=S.useState(!1),[c,f]=S.useState(!1),[d,h]=S.useState(!1),p=xJ(s||c||d),[m,v]=S.useState(!1),[b,y]=S.useState([]),[g,x]=S.useState(-1),[j,k]=S.useState([]),w=S.useMemo(()=>b[g],[b,g]),N=S.useRef(null);S.useEffect(()=>{N.current=w||null},[w]);const _=(w==null?void 0:w.file)||null,O=(w==null?void 0:w.imageElement)||null,A=(w==null?void 0:w.rawImageData)||null,M=(w==null?void 0:w.rawFileBuffer)||null,C=(w==null?void 0:w.renderedRawImageData)||null,$=(w==null?void 0:w.referenceImageData)||null,F=(w==null?void 0:w.sampledImageData)||null,T=(w==null?void 0:w.exifData)||null,W=(w==null?void 0:w.isThreePlane)||!1;w!=null&&w.xtransPhase;const P=(w==null?void 0:w.displaySettings)||{exposure:0,demosaicMethod:3,blackLevel:void 0,wbGains:[1,1],showKadc:!0,subtractBlackLevelFromStats:!0},[E,L]=S.useState(!1),[z,Z]=S.useState(null),[q,H]=S.useState(!1),[se,ee]=S.useState(!1),[D,ne]=S.useState(null),[he,X]=S.useState([]),[ue,pe]=S.useState(100),[G,oe]=S.useState(!0),[ie,we]=S.useState(!1),[ze,Re]=S.useState(null),[_t,gt]=S.useState(!1),[De,He]=S.useState(!1),[mt,Rt]=S.useState(!1),[Gt,Or]=S.useState(!1),[Pr,cr]=S.useState(!1),[Qt,Hr]=S.useState(!1),[Mt,Vr]=S.useState(!1),[Je,Ge]=S.useState(!1),[ct,Lt]=S.useState(!1),[ur,Xr]=S.useState({x:0,y:0}),[An,Ht]=S.useState(!1),[Vt,Ye]=S.useState(!1),[fr,dr]=S.useState([]),[vn,Ar]=S.useState(0),[Hn,Mn]=S.useState(null),[ra,rn]=S.useState(!1),[Cn,Kr]=S.useState([]),[ba,rr]=S.useState(.5),[Ot,Ct]=S.useState(!1),[ae,Pe]=S.useState(2),[Le,Ze]=S.useState(1),[Ve,Pt]=S.useState([]),[hr,nr]=S.useState(null),[Ae,Qe]=S.useState(0),[ut,ft]=S.useState([]),[It,me]=S.useState([]),[Yr,ui]=S.useState(64),[nn,K]=S.useState(10),[Se,pr]=S.useState(10),[Et,an]=S.useState(4),[Bt,on]=S.useState(1),[En,_o]=S.useState(0),[xn,wa]=S.useState("processed"),[Oo,wr]=S.useState(!1),Cl=S.useMemo(()=>P.blackLevel?P.blackLevel:A!=null&&A.blackLevels?[A.blackLevels[0],A.blackLevels[1],A.blackLevels[2],A.blackLevels[3]]:[0,0,0,0],[P.blackLevel,A]),Bu=(T==null?void 0:T.ImageHeight)||(T==null?void 0:T.ExifImageHeight)||(A==null?void 0:A.height)||0,[Qa,bt]=S.useState(null),[Fu,et]=S.useState(null),[El,fi]=S.useState({x:0,y:0}),[Tl,B]=S.useState(1),[Q,te]=S.useState("pan"),I=S.useRef(null),fe=S.useRef(null),_e=S.useCallback(async()=>{if(!M||!w)return;Rt(!1);const U=Gt,V=Pr;et(`Rendering 16-bit TIFF (${U?"Stretched":"Native DN"} | ${V?"sRGB":"Linear"})...`);try{const Y=await zQ(M.slice(0),P,U,V),re=yJ(Y.width,Y.height,Y.data,Y.channels),ye=new Blob([re],{type:"image/tiff"}),ge=URL.createObjectURL(ye),Me=document.createElement("a"),Ne=w.fileName||"rendered",Ee=Ne.substring(0,Ne.lastIndexOf("."))||Ne,je=[U?"stretch":"native",V?"srgb":"linear"].join("_");Me.href=ge,Me.download=`${Ee}_${je}.tif`,document.body.appendChild(Me),Me.click(),document.body.removeChild(Me),URL.revokeObjectURL(ge)}catch(Y){bt("TIFF Export Failed: "+Y.message)}finally{et(null)}},[M,w,P,Gt,Pr]),Ce=S.useCallback(()=>{!M||!w||Rt(!0)},[M,w]);S.useEffect(()=>{const U=V=>{(V.ctrlKey||V.metaKey)&&V.key.toLowerCase()==="s"&&(V.preventDefault(),Ce())};return window.addEventListener("keydown",U),()=>window.removeEventListener("keydown",U)},[Ce]),S.useEffect(()=>{(async()=>{if(a.current)return;const V=NJ();if(V&&(n("Restoring layout..."),i(V.theme),oe(V.sidebarOpen),V.sessions.length>0)){n(`Restoring ${V.sessions.length} images...`);const Y=[];for(const re of V.sessions){if(a.current){console.log("Restoration cancelled.");return}await new Promise(ye=>setTimeout(ye,50));try{const ye=await kJ(re.id);if(ye){const ge={id:re.id,fileName:re.fileName,file:null,imageElement:null,rawImageData:null,rawFileBuffer:ye,renderedRawImageData:null,referenceImageData:null,sampledImageData:null,exifData:null,isThreePlane:re.isThreePlane,displaySettings:re.displaySettings,originalRawFileBuffer:null,isXTransOriginal:!1,isXTransConverted:!1,xtransPhase:{x:0,y:0}},{previewBlob:Me,analysisData:Ne}=await mi(ye);let Ee=null;Ne&&(Ee=await fk(ye,re.displaySettings));const je=URL.createObjectURL(Me),Te=new Image;Te.src=je,await new Promise(nt=>{Te.onload=()=>nt()}),Y.push({...ge,rawImageData:Ne,renderedRawImageData:Ee,previewUrl:je,imageElement:Te,exifData:Ne.metadata})}}catch(ye){console.error(`Failed to restore session ${re.id}`,ye)}}if(a.current)return;if(y(Y),V.activeSessionId){const re=Y.findIndex(ye=>ye.id===V.activeSessionId);re>=0?x(re):Y.length>0&&x(0)}X(V.windows)}a.current||t(!1)})()},[]);const Xe=S.useRef(null),Ke=S.useCallback(()=>{e||(Xe.current&&clearTimeout(Xe.current),Xe.current=window.setTimeout(async()=>{var Y;const U={version:1,timestamp:Date.now(),activeSessionId:((Y=b[g])==null?void 0:Y.id)||null,theme:o,sidebarOpen:G,sessions:b.map(re=>({id:re.id,fileName:re.fileName,fileType:re.file?re.file.type:"application/octet-stream",fileSize:re.rawFileBuffer?re.rawFileBuffer.byteLength:0,displaySettings:re.displaySettings,isThreePlane:re.isThreePlane})),windows:he.map(re=>({id:re.id,type:re.type,roi:re.roi,zIndex:re.zIndex,initialPosition:re.initialPosition,sessionId:re.sessionId,isBGGR:re.isBGGR,isMinimized:re.isMinimized||!1,internalState:re.internalState}))};SJ(U);const V=b.map(re=>re.id);_J(V)},1e3))},[b,he,g,o,G,e]);S.useEffect(()=>{Ke()},[Ke]);const Ue=S.useCallback(async()=>{a.current=!0,n("Cleaning up..."),localStorage.removeItem("jtr_workspace_index");try{await jJ()}catch(U){console.error("Failed to clear DB",U)}window.location.reload()},[]),st=S.useCallback(U=>{y(V=>V.map((Y,re)=>re===g?{...Y,...U}:Y))},[g]),yt=()=>x(U=>Math.min(U+1,b.length-1)),Ft=()=>x(U=>Math.max(0,U-1));S.useEffect(()=>{if(A&&z){const U=yi(A.data,A.width,A.height,z.x,z.y,z.width,z.height);Z(U)}},[A]);const ar=U=>{if(!z||!w)return;const V=Date.now().toString()+Math.random().toString().slice(2,5),Y=Math.max(ue,...he.map(ge=>ge.zIndex),100),re=he.length%10*30,ye=U==="fft"?{x:50,y:50}:U==="histogram"?{x:100,y:100}:{x:150,y:150};X(ge=>[...ge,{id:V,type:U,roi:{x:z.x,y:z.y,w:z.width,h:z.height},zIndex:Y+1,initialPosition:{x:ye.x+re,y:ye.y+re},sessionId:w.id,isBGGR:q,isMinimized:!1,stackFiles:(U==="fft"||U==="pearson")&&j.length>0?j:void 0}])},le=U=>{X(V=>V.filter(Y=>Y.id!==U))},qe=U=>{X(V=>V.map(Y=>Y.id===U?{...Y,isMinimized:!0}:Y))},Oe=U=>{X(V=>V.map(Y=>Y.id===U?{...Y,isMinimized:!1}:Y)),Tt(U)},Tt=U=>{X(V=>{const Y=Math.max(ue,...V.map(re=>re.zIndex));return V.map(re=>re.id===U?{...re,zIndex:Y+1}:re)})},wt=(U,V)=>{X(Y=>Y.map(re=>re.id===U?{...re,internalState:{...re.internalState,...V}}:re))},sn=()=>{const U=Math.max(ue,...he.map(V=>V.zIndex));pe(U+1)},ht=(U,V)=>{X(Y=>Y.map(re=>re.id===U?{...re,roi:V}:re))};S.useEffect(()=>{if(!T)return;const U=T.CFAPattern2||T.CFAPattern;if(U){let V="";Array.isArray(U)?V=U.join(""):typeof U=="string"?V=U.replace(/[\s,]+/g,""):typeof U=="number"&&(V=String(U)),V==="0112"?H(!1):V==="2110"&&H(!0)}},[T]),S.useEffect(()=>{let U;const V=()=>{if(Ot&&ct){const Y=Date.now()/1e3,re=.55+.45*Math.sin(Y*ae);Ze(re),U=requestAnimationFrame(V)}else Ze(1)};return Ot&&ct?V():Ze(1),()=>{U&&cancelAnimationFrame(U)}},[Ot,ct,ae]),S.useEffect(()=>{const U=V=>{V.key==="Escape"&&ct&&(Lt(!1),Xr({x:0,y:0}),Ct(!1))};return window.addEventListener("keydown",U),()=>window.removeEventListener("keydown",U)},[ct]),S.useEffect(()=>()=>{b.forEach(U=>{U.previewUrl&&URL.revokeObjectURL(U.previewUrl)}),fe.current&&fe.current.terminate()},[]);const Jt=async(U,V=!0)=>{V&&(fi({x:0,y:0}),B(1),Qe(0),ft([]),me([]),we(!1),Re(null),L(!1),Ye(!1),dr([]),Kr([]),Ar(0));let Y=null;if(p.isConnected){const Ne=new FormData;Ne.append("file",U);try{const je=await(await fetch("http://localhost:5428/read",{method:"POST",body:Ne})).json();if(je.success){let Te=je.data;Array.isArray(Te)&&Te.length===1&&(Te=Te[0]),Y=Te}}catch(Ee){console.warn("Auto Exif fetch failed",Ee)}}const re=U.name.toLowerCase().match(/\.(arw|cr2|cr3|dng|nef|orf|raf|rw2|pef|srw|sr2|srf|x3f|erf|mef|mos|mrw|kdc|dcr|iiq|3fr|fff|rwl|nrw|raw|tif|tiff)$/);if(!(["image/jpeg","image/png","image/tiff","image/x-adobe-dng"].includes(U.type)||re)){bt("Unsupported file type. Please load a JPG, PNG, or a supported RAW file.");return}let ge={file:U,exifData:Y};if(re||U.type==="image/x-adobe-dng")try{V?et("Processing RAW file (this may take a moment)..."):wr(!0);const Ne=await U.arrayBuffer();ge.rawFileBuffer=Ne;const{previewBlob:Ee,analysisData:je}=await mi(Ne);ge.rawImageData=je,ge.isThreePlane=je.isThreePlane||!1,je.isThreePlane&&V&&L(!0);let Te=!1,nt=null,kt=!1;if(je.isXTrans){kt=!0,nt=Ne;const cn=(await Af(Ne,0,0)).dngBuffer,yr=await mi(cn);ge.rawFileBuffer=cn,ge.rawImageData=yr.analysisData,ge.previewUrl=URL.createObjectURL(yr.previewBlob),Te=!0}else ge.previewUrl=URL.createObjectURL(Ee);ge.originalRawFileBuffer=nt,ge.isXTransOriginal=kt,ge.isXTransConverted=Te,ge.xtransPhase={x:0,y:0};const zt=new Image;zt.src=ge.previewUrl||"",await new Promise((Ir,cn)=>{zt.onload=()=>{ge.imageElement=zt,Ir()},zt.onerror=()=>{Ir()}})}catch(Ne){bt(`Failed to process RAW file: ${Ne.message}`),et(null),wr(!1);return}else try{et("Processing image...");const{previewBlob:Ne,analysisData:Ee}=await TQ(U);ge.rawImageData=Ee,ge.rawFileBuffer=await U.arrayBuffer(),ge.isThreePlane=Ee.isThreePlane||!1,ge.isXTransOriginal=!1,ge.isXTransConverted=!1,ge.originalRawFileBuffer=null;const je=URL.createObjectURL(Ne);ge.previewUrl=je;const Te=new Image;Te.src=je,await new Promise(nt=>{Te.onload=()=>{ge.imageElement=Te,nt()},Te.onerror=()=>{bt("Could not load the image file."),nt()}})}catch(Ne){bt(`Failed to process image: ${Ne.message}`),et(null);return}const Me=Date.now().toString()+Math.random();if(ge.rawFileBuffer&&await gk(Me,ge.rawFileBuffer),V){const Ne={exposure:0,demosaicMethod:3,blackLevel:void 0,wbGains:[1,1],showKadc:!0,subtractBlackLevelFromStats:!0},Ee={id:Me,fileName:U.name,file:U,imageElement:null,rawImageData:null,rawFileBuffer:null,renderedRawImageData:null,referenceImageData:null,sampledImageData:null,exifData:null,isThreePlane:!1,displaySettings:Ne,originalRawFileBuffer:null,isXTransOriginal:!1,isXTransConverted:!1,xtransPhase:{x:0,y:0},...ge};y(je=>{const Te=[...je,Ee];return x(Te.length-1),Te})}else st(ge);et(null),wr(!1)},bn=async U=>{et("Converting to DNG...");try{const V=new FormData;V.append("file",U);const Y=await fetch("http://localhost:5428/convert_dng",{method:"POST",body:V}),re=Y.headers.get("content-type")||"";if(Y.ok)if(re.includes("application/json")){const ye=await Y.json();throw new Error(ye.error||"Conversion failed")}else{const ye=await Y.blob(),ge=URL.createObjectURL(ye),Me=document.createElement("a");Me.href=ge;const Ne=U.name,Ee=Ne.substring(0,Ne.lastIndexOf("."))+".dng"||"converted.dng";Me.download=Ee,document.body.appendChild(Me),Me.click(),document.body.removeChild(Me),URL.revokeObjectURL(ge);const je=new File([ye],Ee,{type:"image/x-adobe-dng"});await Jt(je,!0)}else{const ye=await Y.text();throw new Error(`HTTP ${Y.status}: ${ye}`)}}catch(V){et(null),bt(`Conversion Error: ${V.message}`)}},Ja=(U,V)=>{U&&(V==="direct"?Jt(U,!0):bn(U))},$l=async U=>{var Y;const V=(Y=U.target.files)==null?void 0:Y[0];V&&(await Jt(V,!0),U.target.value="")},k0=async(U,V,Y,re)=>{!U||!V||(et("Processing Pair Difference (May take a while)..."),bt(null),setTimeout(async()=>{try{const ye=await U.arrayBuffer(),ge=await V.arrayBuffer(),Me=await Pp(ye,ge,Y,re),Ne=Uf(Me.width,Me.height,Me.rawData),Ee=new File([Ne],`Diff_${U.name}_${V.name}.dng`,{type:"image/x-adobe-dng"});await Jt(Ee,!0),ar("fft")}catch(ye){console.error("Pair Processing Error",ye),bt("Pair Processing Failed: "+ye.message)}finally{et(null)}},100))},zu=async U=>{if(U.length<2){bt("Need at least 2 files for Batch Diff.");return}et(`Batch Processing 0/${Math.floor(U.length/2)} pairs...`);const V=Array.from(U).sort((Y,re)=>Y.name.localeCompare(re.name,void 0,{numeric:!0}));try{for(let Y=0;Y<V.length-1;Y+=2){const re=V[Y],ye=V[Y+1];et(`Batch Processing Pair ${Math.floor(Y/2)+1}/${Math.floor(V.length/2)}: ${re.name} & ${ye.name}`);const ge=await re.arrayBuffer(),Me=await ye.arrayBuffer(),Ne=await Pp(ge,Me,!1,!1),Ee=Uf(Ne.width,Ne.height,Ne.rawData),je=new Blob([Ee],{type:"image/x-adobe-dng"}),Te=URL.createObjectURL(je),nt=document.createElement("a");nt.href=Te,nt.download=`Diff_${re.name}_${ye.name}.dng`,document.body.appendChild(nt),nt.click(),document.body.removeChild(nt),URL.revokeObjectURL(Te)}}catch(Y){console.error("FFT Batch Error",Y),bt("Batch Processing Failed: "+Y.message)}finally{et(null)}},j0=async U=>{if(U.length<1)return;const V=Array.from(U).sort((Y,re)=>Y.name.localeCompare(re.name,void 0,{numeric:!0}));k(V),await Jt(V[0],!0)},Uu=async()=>{wr(!0);const U=128,V=U,Y=U,re=V*Y,ye=new Uint16Array(re),ge=Be=>{const vt=Be/Et+En;return Math.sin(2*Math.PI*vt)>=0?1:0},Me=32,Ne=Bt*.5,Ee=Math.max(1e-4,Bt/Me);for(let Be=0;Be<Y;Be++){let vt=0;const vr=Be+.5-Ne;for(let Xt=0;Xt<Me;Xt++){const wn=vr+(Xt+.5)*Ee;vt+=ge(wn)}const Br=vt/Me,jt=Math.round(Br*65535);for(let Xt=0;Xt<V;Xt++)ye[Be*V+Xt]=jt}const je=new ImageData(hn,hn),Te=hn/V,nt=Bt/2;for(let Be=0;Be<hn;Be++){const vt=Be/Te,kr=Math.floor(vt),vr=vt-kr,Br=vr>=.5-nt&&vr<.5+nt;for(let jt=0;jt<hn;jt++){const Xt=jt/Te,wn=Math.floor(Xt),un=Xt-wn,hi=un>=.5-nt&&un<.5+nt,Mr=(Be*hn+jt)*4;if(wn>=V||kr>=Y){je.data[Mr]=30,je.data[Mr+1]=34,je.data[Mr+2]=40,je.data[Mr+3]=255;continue}if(Br&&hi){const Ao=ye[kr*V+wn],pi=Math.round(Ao/257);je.data[Mr]=pi,je.data[Mr+1]=pi,je.data[Mr+2]=pi,je.data[Mr+3]=255}else je.data[Mr]=30,je.data[Mr+1]=34,je.data[Mr+2]=40,je.data[Mr+3]=255}}const kt=new ImageData(hn,hn),zt=Y/hn;for(let Be=0;Be<hn;Be++){const vt=(Be+.5)*zt,vr=ge(vt)>.5?255:0,Br=Be*hn*4;for(let jt=0;jt<hn;jt++){const Xt=Br+jt*4;kt.data[Xt]=vr,kt.data[Xt+1]=vr,kt.data[Xt+2]=vr,kt.data[Xt+3]=255}}const Ir=Uf(V,Y,ye),cn=new File([Ir],"pattern_test.dng",{type:"image/x-adobe-dng"}),yr=Date.now().toString();try{const{previewBlob:Be,analysisData:vt}=await mi(Ir.slice(0)),kr=await fk(Ir.slice(0),P),vr=mk(kr,hn,hn),Br=URL.createObjectURL(Be),jt=new Image;jt.src=Br,await new Promise(wn=>{jt.onload=()=>wn()}),await gk(yr,Ir);const Xt={id:yr,fileName:"pattern_test.dng",file:cn,imageElement:jt,rawImageData:vt,rawFileBuffer:Ir,renderedRawImageData:vr,referenceImageData:kt,sampledImageData:je,exifData:null,isThreePlane:!1,previewUrl:Br,displaySettings:P,originalRawFileBuffer:null,isXTransOriginal:!1,isXTransConverted:!1,xtransPhase:{x:0,y:0}};(_==null?void 0:_.name)==="pattern_test.dng"?st(Xt):y(wn=>{const un=[...wn,Xt];return x(un.length-1),un})}catch(Be){console.error("Error generating pattern:",Be),bt(`Error generating pattern: ${Be.message}`)}wr(!1),et(null)},Tn=()=>{gt(!0)},S0=()=>{gt(!1),wa("sampled"),et("Generating..."),setTimeout(()=>Uu(),50)},rs=S.useRef({period:Et,fill:Bt,phase:En});S.useEffect(()=>{(_==null?void 0:_.name)==="pattern_test.dng"&&(rs.current.period!==Et||rs.current.fill!==Bt||rs.current.phase!==En)&&(rs.current={period:Et,fill:Bt,phase:En},Uu())},[Et,Bt,En,_]);const N0=S.useCallback(U=>{if(st({displaySettings:U}),!M)return;wr(!0),fe.current&&fe.current.terminate();const V=new Worker(new URL("/assets/renderWorker-BLMzTJON.js",import.meta.url),{type:"module"});fe.current=V,V.onmessage=Y=>{const{success:re,imageData:ye,error:ge}=Y.data;if(re){let Me=ye;(_==null?void 0:_.name)==="pattern_test.dng"&&(Me=mk(ye,hn,hn)),st({renderedRawImageData:Me})}else bt(ge||"Unknown worker error");wr(!1),V.terminate(),fe.current=null},V.postMessage({buffer:M.slice(0),settings:U})},[M,_,st]),Wu=async(U,V)=>{et("Re-sampling X-Trans with new Phase...");try{const re=(await Af(V,U.x,U.y)).dngBuffer,ye=await mi(re),ge=URL.createObjectURL(ye.previewBlob),Me=new Image;Me.src=ge,await new Promise(Ne=>{Me.onload=()=>Ne()}),w!=null&&w.previewUrl&&URL.revokeObjectURL(w.previewUrl),st({rawFileBuffer:re,rawImageData:ye.analysisData,previewUrl:ge,imageElement:Me,xtransPhase:U}),Z(null)}catch(Y){console.error("X-Trans Phase Update Failed",Y),bt("Phase Update Failed: "+Y.message)}finally{et(null)}},Dl=U=>{if(!w||!w.originalRawFileBuffer||!w.isXTransConverted)return;const V={...w.xtransPhase,...U};Wu(V,w.originalRawFileBuffer)},Gu=S.useCallback(async U=>{if(w)if(U){if(w.isXTransConverted)return;const V=w.originalRawFileBuffer||w.rawFileBuffer;if(!V)return;et("Converting X-Trans to Pseudo-Bayer DNG...");try{const Y=w.xtransPhase||{x:0,y:0},ye=(await Af(V,Y.x,Y.y)).dngBuffer,ge=await mi(ye),Me=URL.createObjectURL(ge.previewBlob),Ne=new Image;Ne.src=Me,await new Promise(Ee=>{Ne.onload=()=>Ee()}),w.previewUrl&&URL.revokeObjectURL(w.previewUrl),st({rawFileBuffer:ye,rawImageData:ge.analysisData,previewUrl:Me,imageElement:Ne,isXTransConverted:!0,originalRawFileBuffer:V}),Z(null)}catch(Y){console.error("X-Trans Conversion Failed",Y),bt("Failed to convert X-Trans: "+Y.message)}finally{et(null)}}else{if(!w.isXTransConverted)return;const V=w.originalRawFileBuffer;if(!V){bt("Original X-Trans buffer lost. Cannot revert.");return}et("Reverting to Native X-Trans...");try{const Y=await mi(V),re=URL.createObjectURL(Y.previewBlob),ye=new Image;ye.src=re,await new Promise(ge=>{ye.onload=()=>ge()}),w.previewUrl&&URL.revokeObjectURL(w.previewUrl),st({rawFileBuffer:V,rawImageData:Y.analysisData,previewUrl:re,imageElement:ye,isXTransConverted:!1}),Z(null)}catch(Y){console.error("X-Trans Revert Failed",Y),bt("Failed to revert X-Trans: "+Y.message)}finally{et(null)}}},[w,st]);let di=C||O;xn==="reference"&&$?di=$:xn==="sampled"&&F&&(di=F);const Hu=Fu||Oo,ns=U=>{if(I.current){const V=I.current,{width:Y,height:re}=V.getBoundingClientRect(),ye=Y/2,ge=re/2,Me=U/Tl,Ne=ye-(ye-El.x)*Me,Ee=ge-(ge-El.y)*Me;fi({x:Ne,y:Ee})}B(U)},ke=U=>{if(!U)return;if(!A){Z(null);return}se&&ee(!1);const V=yi(A.data,A.width,A.height,U.x,U.y,U.w,U.h);Z(V)},ot=U=>{ne(U),ke(U)},tt=()=>{te(U=>U==="pan"?"select":"pan")},rt=U=>{if(Ae===0||Ae>4)return;const V=[...ut,U];ft(V),Ae===4?($n(V),Qe(0)):Qe(Ae+1)},ln=(U,V,Y,re)=>{const ye=U[0],ge=U[1],Me=U[2],Ne=U[3],Ee=V/2,je=[];for(let Te=0;Te<Y;Te++){const nt=Y>1?Te/(Y-1):.5;for(let kt=0;kt<re;kt++){const zt=re>1?kt/(re-1):.5,Ir=ye.x*(1-zt)+ge.x*zt,cn=ye.y*(1-zt)+ge.y*zt,yr=Me.x*(1-zt)+Ne.x*zt,Be=Me.y*(1-zt)+Ne.y*zt,vt=Ir*(1-nt)+yr*nt,kr=cn*(1-nt)+Be*nt,vr=vt-Ee,Br=kr-Ee;je.push({x:vr,y:Br,w:V,h:V})}}return je},$n=U=>{!A||!w||(et("Calculating DR Lab Grid..."),setTimeout(()=>{try{const V=ln(U,Yr,nn,Se);me(V);const ge=[...[`#BlackLevel: ${(P.blackLevel||[0,0,0,0]).join(",")}`,`#ImageHeight: ${A.height}`],"Filename,Row,Col,R_Mean,G1_Mean,G2_Mean,B_Mean,R_Std,G1_Std,G2_Std,B_Std"],Me=`img${w.fileName||"image"}`;V.forEach((nt,kt)=>{const zt=Math.floor(kt/Se)+1,Ir=kt%Se+1,cn=yi(A.data,A.width,A.height,nt.x,nt.y,nt.w,nt.h),yr=cn.means,Be=cn.stdDevs,vt=`${Me},${zt},${Ir},${yr[0].toFixed(4)},${yr[1].toFixed(4)},${yr[2].toFixed(4)},${yr[3].toFixed(4)},${Be[0].toFixed(4)},${Be[1].toFixed(4)},${Be[2].toFixed(4)},${Be[3].toFixed(4)}`;ge.push(vt)});const Ne=ge.join(`
`),Ee=new Blob([Ne],{type:"text/csv;charset=utf-8;"}),je=URL.createObjectURL(Ee),Te=document.createElement("a");Te.setAttribute("href",je),Te.setAttribute("download","dr_lab_results.csv"),document.body.appendChild(Te),Te.click(),document.body.removeChild(Te),URL.revokeObjectURL(je),ft([])}catch(V){bt("DR Lab Error: "+V.message)}finally{et(null)}},100))},na=async(U,V)=>{if(ut.length<4&&It.length<1){bt("Please mark the grid on an image first before running batch processing.");return}let Y=It;if(Y.length===0&&ut.length===4&&(Y=ln(ut,Yr,nn,Se)),Y.length===0){bt("No grid definitions found. Mark corners first.");return}et(V==="pair"?"Batch Pair Difference (Sigma = Diff/sqrt(2))":"Batch Processing...");const ye=(P.blackLevel||[0,0,0,0]).join(","),ge=A?A.height:0,Ne=[...[`#BlackLevel: ${ye}`,`#ImageHeight: ${ge}`,V==="pair"?"#Mode: Pair Difference (Sigma = Diff/sqrt(2))":"#Mode: Independent"],"Filename,Row,Col,R_Mean,G1_Mean,G2_Mean,B_Mean,R_Std,G1_Std,G2_Std,B_Std"],Ee=Array.from(U).sort((kt,zt)=>kt.name.localeCompare(zt.name,void 0,{numeric:!0}));if(V==="pair"&&Ee.length<2){bt("Need at least 2 files for Pair processing."),et(null);return}const je=N.current,Te=(je==null?void 0:je.isXTransConverted)||!1,nt=(je==null?void 0:je.xtransPhase)||{x:0,y:0};try{const kt=async Be=>{let vt=await Be.arrayBuffer();return Te&&(vt=(await Af(vt,nt.x,nt.y)).dngBuffer),vt};if(V==="single")for(let Be=0;Be<Ee.length;Be++){const vt=Ee[Be];et(`Processing ${Be+1}/${Ee.length}: ${vt.name}...`);const kr=await kt(vt),vr=await vh(kr),Br=`img${vt.name}`;Y.forEach((jt,Xt)=>{const wn=Math.floor(Xt/Se)+1,un=Xt%Se+1,hi=yi(vr.data,vr.width,vr.height,jt.x,jt.y,jt.w,jt.h),Mr=hi.means,Ao=hi.stdDevs,pi=`${Br},${wn},${un},${Mr[0].toFixed(4)},${Mr[1].toFixed(4)},${Mr[2].toFixed(4)},${Mr[3].toFixed(4)},${Ao[0].toFixed(4)},${Ao[1].toFixed(4)},${Ao[2].toFixed(4)},${Ao[3].toFixed(4)}`;Ne.push(pi)})}else for(let Be=0;Be<Ee.length-1;Be+=2){const vt=Ee[Be],kr=Ee[Be+1],vr=`img${vt.name} & ${kr.name}`;et(`Processing Pair ${Math.floor(Be/2)+1}/${Math.floor(Ee.length/2)}: ${vt.name} & ${kr.name}...`);const Br=await kt(vt),jt=await vh(Br),Xt=await kt(kr),wn=await Pp(Br,Xt,!1,!0);Y.forEach((un,hi)=>{const Mr=Math.floor(hi/Se)+1,Ao=hi%Se+1,pi=yi(jt.data,jt.width,jt.height,un.x,un.y,un.w,un.h),vP=yi(wn.rawData,wn.width,wn.height,un.x,un.y,un.w,un.h),Xu=pi.means,Ku=vP.stdDevs,xP=`${vr},${Mr},${Ao},${Xu[0].toFixed(4)},${Xu[1].toFixed(4)},${Xu[2].toFixed(4)},${Xu[3].toFixed(4)},${Ku[0].toFixed(4)},${Ku[1].toFixed(4)},${Ku[2].toFixed(4)},${Ku[3].toFixed(4)}`;Ne.push(xP)})}const zt=Ne.join(`
`),Ir=new Blob([zt],{type:"text/csv;charset=utf-8;"}),cn=URL.createObjectURL(Ir),yr=document.createElement("a");yr.href=cn,yr.setAttribute("download",`dr_lab_batch_${V}_${new Date().getTime()}.csv`),document.body.appendChild(yr),yr.click(),document.body.removeChild(yr),URL.revokeObjectURL(cn)}catch(kt){console.error("Batch Error",kt),bt("Batch Processing Failed: "+kt.message)}finally{et(null)}},eo=()=>{dr([]),Ar(1)},Po=U=>{if(!Vt||vn===0)return;const V=[...fr,U];dr(V),V.length===4&&A?(ka(V,ba),Ar(0)):Ar(Y=>Y+1)},ka=(U,V)=>{A&&(et("Analyzing Color Chart..."),setTimeout(()=>{try{const Y=sJ(U[0],U[1],U[2],U[3],A.width,A.height,V);Kr(Y);const ye=Y.map((ge,Me)=>{const Ne=yi(A.data,A.width,A.height,ge.x,ge.y,ge.w,ge.h);return{id:Me,rawMeans:Ne.means,refRGB:[0,0,0]}}).map((ge,Me)=>({...ge,refRGB:ty[Me]||[0,0,0]}));Mn(ye),rn(!0)}catch(Y){bt("Color Lab Error: "+Y.message)}finally{et(null)}},100))},or=U=>{rr(U),fr.length===4&&ka(fr,U)},nx=()=>{rn(!1)},Rl=()=>{T||Re("No EXIF data found. The file might not contain metadata or it was stripped during processing."),we(!0)},Vu=async U=>{et("Parsing PTC Data...");const V=[];let Y=null;try{for(let re=0;re<U.length;re++){const ge=(await U[re].text()).split(`
`);let Me=!0;for(const Ne of ge){const Ee=Ne.trim();if(!Ee)continue;if(Ee.startsWith("#")){if(Ee.includes("BlackLevel:")){const jt=Ee.split(":")[1].trim().split(",");if(jt.length>=4){const Xt=jt.map(Number);Y||(Y={}),Y.blackLevel=Xt}}if(Ee.includes("ImageHeight:")){const jt=parseInt(Ee.split(":")[1].trim());isNaN(jt)||(Y||(Y={}),Y.height=jt)}continue}if(Me){Ee.toLowerCase().includes("mean")&&Ee.toLowerCase().includes("std")&&(Me=!1);continue}const je=Ee.split(",");if(je.length<5)continue;let Te=0,nt;isNaN(parseFloat(je[0]))&&(nt=je[0],Te=1);const kt=parseInt(je[Te]),zt=parseInt(je[Te+1]),Ir=parseFloat(je[Te+2]),cn=parseFloat(je[Te+3]),yr=parseFloat(je[Te+4]),Be=parseFloat(je[Te+5]),vt=parseFloat(je[Te+6]),kr=parseFloat(je[Te+7]),vr=parseFloat(je[Te+8]),Br=parseFloat(je[Te+9]);!isNaN(Ir)&&!isNaN(vt)&&V.push({channel:"R",mean:Ir,std:vt,filename:nt,row:kt,col:zt}),!isNaN(cn)&&!isNaN(kr)&&V.push({channel:"G1",mean:cn,std:kr,filename:nt,row:kt,col:zt}),!isNaN(yr)&&!isNaN(vr)&&V.push({channel:"G2",mean:yr,std:vr,filename:nt,row:kt,col:zt}),!isNaN(Be)&&!isNaN(Br)&&V.push({channel:"B",mean:Be,std:Br,filename:nt,row:kt,col:zt})}}Pt(V),nr(Y),l(!0)}catch(re){console.error("PTC Parse Error",re),bt("Failed to parse CSV files: "+re.message)}finally{et(null)}},ax=()=>{if(!M||!w)return;const U=new Blob([M],{type:"image/x-adobe-dng"}),V=URL.createObjectURL(U),Y=document.createElement("a");Y.href=V;const re=w.fileName||"image.dng",ye=re.toLowerCase().endsWith(".dng")?re:re.replace(/\.[^/.]+$/,"")+".dng";Y.download=ye,document.body.appendChild(Y),Y.click(),document.body.removeChild(Y),URL.revokeObjectURL(V)},gP=()=>{Qe(1),ft([]),me([])},mP=U=>{if(U.button!==0)return;Ht(!0);const V=U.clientX-ur.x,Y=U.clientY-ur.y,re=ge=>{Xr({x:ge.clientX-V,y:ge.clientY-Y})},ye=()=>{Ht(!1),window.removeEventListener("mousemove",re),window.removeEventListener("mouseup",ye)};window.addEventListener("mousemove",re),window.addEventListener("mouseup",ye)},yP=S.useMemo(()=>Hn?Hn.map((U,V)=>({...U,refRGB:ty[V]||[0,0,0]})):[],[Hn]);return e?u.jsxs("div",{className:"flex flex-col h-screen items-center justify-center bg-gray-300 dark:bg-[#111] text-black dark:text-white font-mono",children:[u.jsx("div",{className:"w-12 h-12 border-4 border-black dark:border-white border-t-transparent animate-spin mb-4"}),u.jsx("h2",{className:"text-xl font-bold",children:r}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2 mb-6",children:"Loading stored buffers from database..."}),u.jsx("button",{onClick:Ue,className:"px-6 py-2 bg-red-600 hover:bg-red-700 text-white font-bold border-2 border-black dark:border-gray-500 shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] active:shadow-none active:translate-x-1 active:translate-y-1 transition-all text-sm",children:"Abandon Saved Session (Start Fresh)"})]}):u.jsxs("div",{className:"flex flex-col h-screen bg-[#d4d4d4] dark:bg-[#111111] text-black dark:text-gray-200 font-mono transition-colors duration-300 overflow-hidden",children:[u.jsx("div",{className:"p-4 pb-0 flex-shrink-0",children:u.jsx(KM,{onLoadImage:$l,onFileSelected:Ja,onGenerateFakeDng:Tn,fileName:_?_.name:null,hasGeneratedData:(_==null?void 0:_.name)==="pattern_test.dng",viewMode:xn,onSetViewMode:wa,patternPeriod:Et,onPatternPeriodChange:an,fillFactor:Bt,onFillFactorChange:on,patternPhase:En,onPatternPhaseChange:_o,showPatternControls:(_==null?void 0:_.name)==="pattern_test.dng",onOpenAbout:()=>He(!0),onShowExif:Rl,bridgeStatus:p,onBridgeClick:()=>v(!0),isDrLabOpen:Qt,onToggleDrLab:()=>{Hr(!Qt),Qe(0),ft([]),me([]),Mt&&Vr(!1),Vt&&Ye(!1),Je&&Ge(!1),Ar(0),Kr([])},isColorLabOpen:Vt,onToggleColorLab:()=>{Ye(!Vt),dr([]),Ar(0),Kr([]),Qt&&Hr(!1),Mt&&Vr(!1),Je&&Ge(!1)},isFftLabOpen:Mt,onToggleFftLab:()=>{Vr(!Mt),Qt&&Hr(!1),Vt&&Ye(!1),Je&&Ge(!1),Ar(0),Kr([])},isSfrLabOpen:Je,onToggleSfrLab:()=>{Ge(!Je),Qt&&Hr(!1),Vt&&Ye(!1),Mt&&Vr(!1),Ar(0),Kr([])},onGenerateTestPic:()=>Lt(!0),onPTCFilesSelected:Vu,onDownloadDng:ax,isThreePlane:W,onOpenDatabase:()=>f(!0)})}),u.jsxs("div",{className:"flex flex-1 overflow-hidden p-4 pt-2 gap-4 relative",children:[u.jsxs("div",{className:"flex-1 relative bg-gray-200 dark:bg-black border-4 border-gray-500 dark:border-gray-700 shadow-[inset_2px_2px_8px_rgba(0,0,0,0.2)] overflow-hidden transition-colors duration-300",ref:I,children:[Hu&&u.jsxs("div",{className:"absolute bottom-4 right-4 z-50 flex items-center gap-2 bg-white/90 dark:bg-black/90 px-3 py-1.5 border-2 border-black dark:border-white shadow-[4px_4px_0px_black] dark:shadow-[4px_4px_0px_gray]",children:[u.jsx("div",{className:"w-4 h-4 border-2 border-black dark:border-white border-t-transparent animate-spin"}),u.jsx("span",{className:"text-xs font-bold text-black dark:text-white uppercase",children:Fu||"Processing..."})]}),b.length>1&&u.jsxs("div",{className:"absolute bottom-4 right-20 z-50 flex items-center gap-2 bg-white/90 dark:bg-black/90 px-3 py-1.5 border-2 border-black dark:border-white shadow-[4px_4px_0px_black] dark:shadow-[4px_4px_0px_gray] text-sm font-bold text-black dark:text-white",children:[u.jsx("button",{onClick:Ft,disabled:g<=0,className:"hover:text-gray-500 disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"Previous Image",children:"<"}),u.jsxs("span",{className:"min-w-[3rem] text-center select-none font-bold",children:[g+1," / ",b.length]}),u.jsx("button",{onClick:yt,disabled:g>=b.length-1,className:"hover:text-gray-500 disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"Next Image",children:">"})]}),u.jsx("div",{className:"absolute bottom-4 left-4 z-50 flex flex-col-reverse gap-2 items-start pointer-events-none",children:he.filter(U=>U.isMinimized).map(U=>{let V="Window",Y="bg-gray-500";return U.type==="histogram"?(V="Histogram",Y="bg-black dark:bg-white"):U.type==="fft"?(V="FFT Spectrum",Y="bg-black dark:bg-white"):U.type==="quant"?(V="Quantization",Y="bg-black dark:bg-white"):U.type==="pearson"&&(V="Pearson",Y="bg-black dark:bg-white"),u.jsxs("div",{className:"pointer-events-auto flex items-center gap-1 bg-white dark:bg-black border-2 border-black dark:border-white shadow-[4px_4px_0px_black] dark:shadow-[4px_4px_0px_gray]",children:[u.jsxs("button",{onClick:()=>Oe(U.id),className:"px-3 py-1.5 text-xs font-bold text-black dark:text-white hover:bg-gray-200 dark:hover:bg-gray-800 transition-colors flex items-center gap-2",children:[u.jsx("span",{className:`w-2 h-2 ${Y}`}),V]}),u.jsx("button",{onClick:()=>le(U.id),className:"px-2 py-1.5 text-black hover:text-red-600 hover:bg-gray-200 dark:hover:bg-gray-800 border-l-2 border-black dark:border-white transition-colors",children:""})]},U.id)})}),u.jsx(qQ,{isOpen:De,onClose:()=>He(!1)}),u.jsx(ZQ,{isOpen:ie,onClose:()=>we(!1),data:T,fileName:_?_.name:"",warning:ze}),u.jsx(JQ,{isOpen:s,onClose:()=>l(!1),data:Ve,blackLevel:Cl,imageHeight:Bu,isBGGR:q,importedMetadata:hr||void 0,theme:o,initialCameraModel:(T==null?void 0:T.Model)||"",initialISO:(T==null?void 0:T.ISO)||((ox=T==null?void 0:T.ISOSpeedRatings)==null?void 0:ox.toString())||""}),u.jsx(aJ,{isOpen:c,onClose:()=>f(!1),theme:o}),u.jsx(oJ,{isOpen:d,onClose:()=>h(!1),zIndex:200}),u.jsx(fJ,{isOpen:ra,onClose:nx,patchStats:yP,initialIsBGGR:q,sizeRatio:ba,onSizeChange:or}),u.jsx(mJ,{isOpen:Je,isSfrLabOpen:Je,onClose:()=>{},rawImageData:A,roi:z?{x:z.x,y:z.y,w:z.width,h:z.height}:null,zIndex:200,onFocus:sn,displaySettings:P}),u.jsx(Zo,{isOpen:_t,onClose:()=>gt(!1),onConfirm:S0,title:"High Resource Usage Warning",confirmText:"I know the risk and insist to continue",message:u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx("p",{children:"Patter DNG mode involves high-frequency refreshing and heavy computation. Due to current memory management limitations, repeated use may lead to browser memory overflow or crashes. Please proceed with caution."}),u.jsx("p",{className:"text-xs text-gray-500"})]})}),u.jsx(Zo,{isOpen:m,onClose:()=>v(!1),onConfirm:()=>{window.open("https://y-g-jiang.github.io/jiangbridge.exe","_blank"),v(!1)},title:"JiangBridge Connection / ",confirmText:"Download Bridge App",cancelText:"Cancel",message:u.jsxs("div",{className:"flex flex-col gap-4 text-left",children:[u.jsx("p",{className:"font-bold text-gray-800 dark:text-gray-200",children:"JiangBridge"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:'JiangBridge is optional for this webpage, but recommended for full functionality. Simply double-click and run it once after system startup. If the indicator light does not turn green after double-clicking, please consider checking whether the web page is allowed to "View and connect to any device on the network".'})]})}),u.jsx(Zo,{isOpen:mt,onClose:()=>Rt(!1),onConfirm:_e,title:"Export 16-bit TIFF Options",confirmText:"Confirm Export",message:u.jsxs("div",{className:"flex flex-col gap-4 text-left",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4 bg-gray-50 dark:bg-slate-800/80 p-4 border border-gray-400 dark:border-gray-600",children:[u.jsxs("div",{className:"flex flex-col items-center gap-3",children:[u.jsxs("div",{className:"flex flex-col items-center text-center",children:[u.jsx("span",{className:"font-bold text-xs text-gray-800 dark:text-slate-200",children:"Stretch ()"}),u.jsx("span",{className:"text-[9px] text-gray-500 dark:text-slate-400 mt-0.5",children:"Map [0, White] to [0, 65535]"})]}),u.jsx("div",{onClick:()=>Or(!Gt),className:`relative w-12 h-6 border-2 border-black dark:border-white cursor-pointer ${Gt?"bg-black dark:bg-white":"bg-gray-300 dark:bg-slate-600"}`,children:u.jsx("div",{className:`absolute top-0.5 left-0.5 w-4 h-4 bg-white dark:bg-black shadow-sm transition-transform ${Gt?"translate-x-6":""}`})})]}),u.jsxs("div",{className:"flex flex-col items-center gap-3",children:[u.jsxs("div",{className:"flex flex-col items-center text-center",children:[u.jsx("span",{className:"font-bold text-xs text-gray-800 dark:text-slate-200",children:"sRGB Gamma"}),u.jsx("span",{className:"text-[9px] text-gray-500 dark:text-slate-400 mt-0.5",children:"Apply non-linear contrast"})]}),u.jsx("div",{onClick:()=>cr(!Pr),className:`relative w-12 h-6 border-2 border-black dark:border-white cursor-pointer ${Pr?"bg-black dark:bg-white":"bg-gray-300 dark:bg-slate-600"}`,children:u.jsx("div",{className:`absolute top-0.5 left-0.5 w-4 h-4 bg-white dark:bg-black shadow-sm transition-transform ${Pr?"translate-x-6":""}`})})]})]}),u.jsxs("div",{className:"p-3 bg-gray-200 dark:bg-slate-800 text-[11px] text-black dark:text-white italic border border-gray-400 dark:border-gray-600 text-center font-mono",children:[Gt&&!Pr&&"Mode: Stretched Linear. Histogram preserved but range expanded.",!Gt&&Pr&&"Mode: Native DN + sRGB. Best for analyzing raw distribution contrast.",Gt&&Pr&&"Mode: Ready-to-Use. Conventional 16-bit development.",!Gt&&!Pr&&"Mode: Native Linear. Pure physical sensor DN values."]})]})}),!se&&u.jsx(OJ,{stats:z,onClose:()=>{Z(null),ne(null)},onMinimize:()=>ee(!0),isBGGR:q,onToggleBGGR:H,onOpenWindow:ar,displaySettings:P,zIndex:ue,onFocus:sn}),he.map(U=>{if(U.isMinimized)return null;const V=b.find(ye=>ye.id===U.sessionId),Y=V==null?void 0:V.rawImageData;if(!Y)return null;const re={key:U.id,isOpen:!0,onClose:()=>le(U.id),onMinimize:()=>qe(U.id),rawImageData:Y,roi:U.roi,isBGGR:U.isBGGR,zIndex:U.zIndex,onFocus:()=>Tt(U.id),initialPosition:U.initialPosition,initialInternalState:U.internalState,onUpdateState:ye=>wt(U.id,ye),stackFiles:U.stackFiles};return U.type==="histogram"?u.jsx(UQ,{...re}):U.type==="fft"?u.jsx(VQ,{...re,onUpdateROI:ye=>ht(U.id,ye)}):U.type==="quant"?u.jsx(XQ,{...re}):U.type==="pearson"?u.jsx(KQ,{...re}):null}),Qa&&u.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-white/90 dark:bg-black/90 p-8",children:u.jsxs("div",{className:"max-w-md text-center p-6 bg-white dark:bg-black rounded-none border-2 border-red-600 shadow-[8px_8px_0px_rgba(200,0,0,0.5)]",children:[u.jsx("h3",{className:"text-xl font-bold text-red-600 uppercase mb-2",children:"Notice"}),u.jsx("p",{className:"text-black dark:text-white mb-6 whitespace-pre-wrap font-mono",children:Qa}),u.jsx("button",{onClick:()=>bt(null),className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 dark:bg-gray-800 dark:hover:bg-gray-700 border-2 border-black dark:border-white text-black dark:text-white transition-colors uppercase font-bold",children:"Dismiss"})]})}),!di&&!Hu&&!Qa&&u.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-gray-400 dark:text-gray-600 select-none font-mono",children:u.jsx("p",{className:"text-lg",children:"Load an image or generate a pattern"})}),u.jsx(YM,{image:di,zoom:Tl,pan:El,onPanChange:fi,onZoomChange:ns,onSelectionChange:ke,forcedSelection:D,theme:o,touchAction:Q,isMarking:Ae>0||Vt&&vn>0,onPointClick:U=>{Ae>0?rt(U):Vt&&vn>0&&Po(U)},markers:ut,gridRects:It,colorLabPoints:fr,colorLabRects:Cn}),u.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-1/2 z-30 pointer-events-none select-none opacity-20 mix-blend-normal dark:mix-blend-plus-lighter",children:u.jsx("svg",{viewBox:"0 0 500 60",className:"w-full h-auto drop-shadow-none",children:u.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fill-black dark:fill-white",fontSize:"26",fontWeight:"bold",style:{fontFamily:"Courier New, monospace",letterSpacing:"0.05em"},children:" y-g-jiang.github.io"})})}),A&&!Ae&&!Vt&&u.jsxs("div",{className:"absolute bottom-4 left-4 z-30 pointer-events-none opacity-60 text-[10px] text-black dark:text-white font-mono bg-white/50 dark:bg-black/50 px-1",children:["Hold ",u.jsx("b",{children:"Shift"})," + Drag to calculate Raw ROI stats"]}),Vt&&vn>0&&u.jsxs("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 z-30 pointer-events-none text-sm font-bold text-yellow-500 bg-black/80 px-4 py-2 rounded-full border border-yellow-500 animate-pulse shadow-lg",children:[fr.length===0&&"Click Top-Left Corner of Chart",fr.length===1&&"Click Top-Right Corner",fr.length===2&&"Click Bottom-Left Corner",fr.length===3&&"Click Bottom-Right Corner",fr.length===4&&"Processing..."]}),u.jsx(lC,{zoom:Tl,onZoomChange:ns,onResetView:()=>{B(1),fi({x:0,y:0})},touchAction:Q,onToggleTouchAction:tt}),!G&&u.jsx("button",{onClick:()=>oe(!0),className:"absolute right-0 top-1/2 -translate-y-1/2 z-50 bg-white dark:bg-black border-2 border-black dark:border-white shadow-[4px_4px_0px_black] dark:shadow-[4px_4px_0px_gray] p-2 hover:bg-gray-200 dark:hover:bg-gray-800 transition-colors",title:"Show Tools",children:u.jsx("svg",{className:"w-4 h-4 text-black dark:text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})})]}),u.jsxs("div",{className:`flex-shrink-0 flex flex-col bg-white dark:bg-black border-2 border-black dark:border-gray-700 shadow-xl overflow-hidden transition-all duration-300 ease-in-out ${G?"w-80 translate-x-0 opacity-100 ml-0":"w-0 translate-x-20 opacity-0 p-0 border-0 pointer-events-none ml-0"}`,children:[u.jsxs("div",{className:"flex justify-between items-center px-4 py-3 border-b-2 border-black dark:border-gray-700 bg-gray-200 dark:bg-gray-900 flex-shrink-0",children:[u.jsx("h2",{className:"font-bold text-sm text-black dark:text-white uppercase tracking-wide flex items-center gap-2",children:u.jsx("span",{children:"Tools"})}),u.jsx("button",{onClick:()=>oe(!1),className:"text-black dark:text-white hover:text-gray-600 dark:hover:text-gray-300 transition-colors p-1",title:"Hide Tools",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),u.jsx("div",{className:"flex-1 overflow-hidden relative",children:u.jsx(eC,{rawImageData:A,displaySettings:P,onApplyDisplaySettings:N0,onSetSelection:ot,exifData:T,isBridgeConnected:p.isConnected,isDrLabOpen:Qt,drMarkingStep:Ae,onStartMarking:gP,onGenerateTestPic:()=>Lt(!0),drRoiSize:Yr,onDrRoiSizeChange:ui,drGridRows:nn,onDrGridRowsChange:K,drGridCols:Se,onDrGridColsChange:pr,onBatchDrLab:na,hasDrMarkers:It.length>0||ut.length===4,isFftLabOpen:Mt,onProcessPair:k0,onProcessBatchDiff:zu,onProcessStackFft:j0,onOpenCrossCalc:()=>h(!0),isThreePlane:A==null?void 0:A.isThreePlane,onToggleXTrans:A?Gu:void 0,xtransPhase:(w==null?void 0:w.xtransPhase)||{x:0,y:0},onXTransPhaseChange:Dl,isXTransConverted:w==null?void 0:w.isXTransConverted,roiStats:z,isBGGR:q,isColorLabOpen:Vt,colorLabMarkingStep:vn,onStartColorLabMarking:eo,isSfrLabOpen:Je})})]})]}),ct&&u.jsxs("div",{className:"fixed inset-0 z-[200] bg-black overflow-hidden",children:[u.jsx("div",{onMouseDown:mP,style:{transform:`translate(${ur.x}px, ${ur.y}px)`,cursor:An?"grabbing":"grab",opacity:Le,transition:"opacity 0.1s linear"},className:"w-full h-full flex items-center justify-center",children:u.jsx("img",{src:"/drtest.png",alt:"DR Test",className:"max-w-full max-h-full object-contain pointer-none select-none",draggable:!1})}),u.jsxs("div",{className:"absolute top-4 right-4 flex flex-col items-end gap-2 pointer-events-none z-[201]",children:[u.jsx("div",{className:"text-white/50 text-sm bg-black/50 px-3 py-1 border border-white/20 backdrop-blur-sm font-mono",children:"Press ESC to exit | Drag to move"}),u.jsx("div",{className:"text-white/20 text-xs px-2 select-none font-mono",children:"F11 full screen"}),u.jsx("div",{className:"text-red-900/80 text-lg px-2 select-none font-bold mt-4 font-mono",children:""}),u.jsx("div",{className:"text-red-900/60 text-xs px-2 select-none font-mono",children:"Shoot slightly out of focus"})]}),u.jsxs("div",{className:"fixed bottom-8 left-1/2 -translate-x-1/2 bg-black/60 backdrop-blur-md p-4 border border-gray-500 flex flex-col gap-3 items-center z-[202]",children:[u.jsx("button",{onClick:()=>Ct(!Ot),className:`px-4 py-2 border-2 border-white font-bold text-sm transition-colors ${Ot?"bg-white text-black":"bg-black text-white hover:bg-gray-800"}`,children:Ot?"Stop Breathing":"Start Breathing"}),Ot&&u.jsxs("div",{className:"flex items-center gap-3 w-64 animate-in fade-in",children:[u.jsx("span",{className:"text-xs text-gray-400 font-bold uppercase",children:"Speed"}),u.jsx("input",{type:"range",min:"0.5",max:"10",step:"0.5",value:ae,onChange:U=>Pe(parseFloat(U.target.value)),className:"flex-1 h-1.5 bg-gray-600 rounded-none appearance-none cursor-pointer accent-white"}),u.jsx("span",{className:"text-xs text-white w-8 text-right font-mono",children:ae.toFixed(1)})]})]})]}),u.jsx(cC,{theme:o,setTheme:i})]})},pP=document.getElementById("root");if(!pP)throw new Error("Could not find root element to mount to");const AJ=Cp.createRoot(pP);AJ.render(u.jsx(R.StrictMode,{children:u.jsx(PJ,{})}));export{AQ as _};
